uint64_t sub_1000BFDC8()
{
  v1 = *(v0 + 1024);
  v2 = *(v0 + 760);

  v3 = *(v1 + 16);

  if (v3)
  {
    sub_100103EAC(*(v0 + 1261));
  }

  v4 = *(v0 + 1016);
  if (*(v0 + 968))
  {
    v5 = *(v0 + 568);
    v6 = *(v0 + 560);
    v7 = *(v0 + 552);
    v8 = *(v0 + 408);
    v9 = *(v0 + 384);
    v10 = *(v0 + 392);
    v11 = *(v0 + 1016);

    swift_willThrow();
    (*(v10 + 8))(v8, v9);
    (*(v6 + 8))(v5, v7);
LABEL_7:
    v20 = *(v0 + 744);
    v21 = *(v0 + 736);
    v22 = *(v0 + 728);
    v23 = *(v0 + 720);
    v24 = *(v0 + 712);
    v25 = *(v0 + 704);
    v26 = *(v0 + 696);
    v27 = *(v0 + 672);
    v28 = *(v0 + 664);
    v29 = *(v0 + 656);
    v42 = *(v0 + 648);
    v43 = *(v0 + 640);
    v45 = *(v0 + 632);
    v47 = *(v0 + 624);
    v49 = *(v0 + 616);
    v51 = *(v0 + 608);
    v53 = *(v0 + 600);
    v55 = *(v0 + 592);
    v57 = *(v0 + 568);
    v59 = *(v0 + 544);
    v61 = *(v0 + 536);
    v63 = *(v0 + 528);
    v65 = *(v0 + 520);
    v67 = *(v0 + 512);
    v69 = *(v0 + 504);
    v71 = *(v0 + 496);
    v73 = *(v0 + 488);
    v75 = *(v0 + 480);
    v77 = *(v0 + 472);
    v79 = *(v0 + 464);
    v81 = *(v0 + 456);
    v83 = *(v0 + 448);
    v85 = *(v0 + 440);
    v87 = *(v0 + 432);
    v89 = *(v0 + 408);
    v91 = *(v0 + 400);
    v93 = *(v0 + 376);
    v95 = *(v0 + 352);
    v97 = *(v0 + 344);
    v99 = *(v0 + 336);
    v101 = *(v0 + 328);
    v103 = *(v0 + 320);
    v105 = *(v0 + 312);
    v107 = *(v0 + 304);
    v109 = *(v0 + 296);
    v111 = *(v0 + 288);
    v113 = *(v0 + 280);
    v115 = *(v0 + 272);
    v117 = *(v0 + 264);
    v119 = *(v0 + 256);
    v121 = *(v0 + 248);
    v123 = *(v0 + 240);
    v125 = *(v0 + 232);
    v127 = *(v0 + 224);
    v129 = *(v0 + 200);
    v131 = *(v0 + 176);
    v133 = *(v0 + 168);
    v135 = *(v0 + 144);
    v138 = *(v0 + 136);

    v30 = *(v0 + 8);
    goto LABEL_8;
  }

  v12 = *(v0 + 568);
  v13 = *(v0 + 560);
  v14 = *(v0 + 552);
  v15 = *(v0 + 408);
  v17 = *(v0 + 384);
  v16 = *(v0 + 392);
  if (*(v4 + 16))
  {
    v137 = *(v0 + 552);
    v18 = sub_10000560C(&qword_10012B488, &qword_10010A258);
    sub_10000CC24(&qword_10012B4C8, &qword_10012B488, &qword_10010A258);
    swift_allocError();
    *v19 = v4;
    (*(*(v18 - 8) + 104))(v19, enum case for SyncedPhotosFace.Failure.missingPhotos<A>(_:), v18);
    swift_willThrow();
    (*(v16 + 8))(v15, v17);
    (*(v13 + 8))(v12, v137);
    goto LABEL_7;
  }

  (*(v16 + 8))(*(v0 + 408), *(v0 + 384));
  (*(v13 + 8))(v12, v14);

  v32 = *(v0 + 744);
  v33 = *(v0 + 736);
  v34 = *(v0 + 728);
  v35 = *(v0 + 720);
  v36 = *(v0 + 712);
  v37 = *(v0 + 704);
  v38 = *(v0 + 696);
  v39 = *(v0 + 672);
  v40 = *(v0 + 664);
  v41 = *(v0 + 656);
  v44 = *(v0 + 648);
  v46 = *(v0 + 640);
  v48 = *(v0 + 632);
  v50 = *(v0 + 624);
  v52 = *(v0 + 616);
  v54 = *(v0 + 608);
  v56 = *(v0 + 600);
  v58 = *(v0 + 592);
  v60 = *(v0 + 568);
  v62 = *(v0 + 544);
  v64 = *(v0 + 536);
  v66 = *(v0 + 528);
  v68 = *(v0 + 520);
  v70 = *(v0 + 512);
  v72 = *(v0 + 504);
  v74 = *(v0 + 496);
  v76 = *(v0 + 488);
  v78 = *(v0 + 480);
  v80 = *(v0 + 472);
  v82 = *(v0 + 464);
  v84 = *(v0 + 456);
  v86 = *(v0 + 448);
  v88 = *(v0 + 440);
  v90 = *(v0 + 432);
  v92 = *(v0 + 408);
  v94 = *(v0 + 400);
  v96 = *(v0 + 376);
  v98 = *(v0 + 352);
  v100 = *(v0 + 344);
  v102 = *(v0 + 336);
  v104 = *(v0 + 328);
  v106 = *(v0 + 320);
  v108 = *(v0 + 312);
  v110 = *(v0 + 304);
  v112 = *(v0 + 296);
  v114 = *(v0 + 288);
  v116 = *(v0 + 280);
  v118 = *(v0 + 272);
  v120 = *(v0 + 264);
  v122 = *(v0 + 256);
  v124 = *(v0 + 248);
  v126 = *(v0 + 240);
  v128 = *(v0 + 232);
  v130 = *(v0 + 224);
  v132 = *(v0 + 200);
  v134 = *(v0 + 176);
  v136 = *(v0 + 168);
  v139 = *(v0 + 144);
  v140 = *(v0 + 136);

  v30 = *(v0 + 8);
LABEL_8:

  return v30();
}

uint64_t sub_1000C05E0(uint64_t a1)
{
  v5 = *v2;
  v4 = *v2;
  v6 = *(*v2 + 1224);
  v7 = *v2;

  v8 = v4[107];
  if (v1)
  {
    v9 = v5[104];

    v5[156] = v1;
    v10 = v5[103];
    v11 = v5[102];
    v12 = sub_1000FBF1C;
  }

  else
  {

    v5[154] = a1;
    v12 = sub_1000C0744;
    v11 = 0;
    v10 = 0;
  }

  return _swift_task_switch(v12, v11, v10);
}

uint64_t sub_1000C0744()
{
  v0[155] = sub_10005F8E0(v0[154]);
  v1 = v0[103];
  v2 = v0[102];

  return _swift_task_switch(sub_1000C07B0, v2, v1);
}

uint64_t sub_1000C07B0()
{
  v38 = v0;
  v1 = *(v0 + 1240);
  v2 = *(v0 + 832);
  v3 = *(v0 + 568);
  v4 = *(v0 + 544);
  v5 = *(v0 + 128);

  sub_10006C038(v6);

  SyncFacesRequest.init(trackedFaces:cachedIdentifiers:)();
  static Log.session.getter();

  v7 = Logger.logObject.getter();
  v8 = static os_log_type_t.default.getter();

  if (os_log_type_enabled(v7, v8))
  {
    v33 = *(v0 + 680);
    v34 = *(v0 + 424);
    v35 = *(v0 + 416);
    v36 = *(v0 + 544);
    v9 = *(v0 + 128);
    v10 = swift_slowAlloc();
    v37 = swift_slowAlloc();
    *v10 = 136315650;
    v11 = *(v9 + 16);
    v12 = PhotosFaceType.description.getter();
    v14 = v13;

    v15 = sub_100102F80(v12, v14, &v37);

    *(v10 + 4) = v15;
    *(v10 + 12) = 2048;
    v16 = *(v1 + 16);

    *(v10 + 14) = v16;

    *(v10 + 22) = 2080;
    sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID);
    v17 = Set.description.getter();
    v19 = v18;

    v20 = sub_100102F80(v17, v19, &v37);

    *(v10 + 24) = v20;
    _os_log_impl(&_mh_execute_header, v7, v8, "Requesting %s with %ld cached photos and faces: %s", v10, 0x20u);
    swift_arrayDestroy();

    v21 = *(v34 + 8);
    v21(v36, v35);
  }

  else
  {
    v22 = *(v0 + 544);
    v23 = *(v0 + 416);
    v24 = *(v0 + 424);
    v25 = *(v0 + 128);
    swift_bridgeObjectRelease_n();

    v21 = *(v24 + 8);
    v21(v22, v23);
  }

  *(v0 + 864) = v21;
  v26 = *(v0 + 128);
  v27 = *(v26 + 96);
  v28 = *(v26 + 16);
  *(v0 + 1261) = v28;
  v29 = swift_task_alloc();
  *(v0 + 872) = v29;
  *v29 = v0;
  v29[1] = sub_1000B2F98;
  v30 = *(v0 + 568);
  v31 = *(v0 + 408);

  return sub_100088E80(v31, v28, v30);
}

uint64_t sub_1000C0B00()
{
  v1[16] = v0;
  v2 = *(*(sub_10000560C(&qword_10012B590, &qword_10010A8D0) - 8) + 64) + 15;
  v1[17] = swift_task_alloc();
  v1[18] = swift_task_alloc();
  v3 = sub_10000560C(&qword_10012B598, &qword_10010A8D8);
  v1[19] = v3;
  v4 = *(v3 - 8);
  v1[20] = v4;
  v5 = *(v4 + 64) + 15;
  v1[21] = swift_task_alloc();
  v1[22] = swift_task_alloc();
  v6 = type metadata accessor for StoredPhoto();
  v1[23] = v6;
  v7 = *(v6 - 8);
  v1[24] = v7;
  v8 = *(v7 + 64) + 15;
  v1[25] = swift_task_alloc();
  v9 = sub_10000560C(&qword_100129F70, &qword_100108D90);
  v1[26] = v9;
  v10 = *(v9 - 8);
  v1[27] = v10;
  v11 = *(v10 + 64) + 15;
  v1[28] = swift_task_alloc();
  v1[29] = swift_task_alloc();
  v1[30] = swift_task_alloc();
  v1[31] = swift_task_alloc();
  v1[32] = swift_task_alloc();
  v1[33] = swift_task_alloc();
  v1[34] = swift_task_alloc();
  v1[35] = swift_task_alloc();
  v1[36] = swift_task_alloc();
  v1[37] = swift_task_alloc();
  v1[38] = swift_task_alloc();
  v1[39] = swift_task_alloc();
  v1[40] = swift_task_alloc();
  v1[41] = swift_task_alloc();
  v1[42] = swift_task_alloc();
  v1[43] = swift_task_alloc();
  v12 = *(*(sub_10000560C(&qword_10012A770, &qword_100109670) - 8) + 64) + 15;
  v1[44] = swift_task_alloc();
  v13 = sub_10000560C(&qword_10012B5A0, &qword_10010A8E0);
  v1[45] = v13;
  v14 = *(v13 - 8);
  v1[46] = v14;
  v15 = *(v14 + 64) + 15;
  v1[47] = swift_task_alloc();
  v16 = sub_10000560C(&qword_10012B5A8, &qword_10010A8E8);
  v1[48] = v16;
  v17 = *(v16 - 8);
  v1[49] = v17;
  v18 = *(v17 + 64) + 15;
  v1[50] = swift_task_alloc();
  v1[51] = swift_task_alloc();
  v19 = type metadata accessor for Logger();
  v1[52] = v19;
  v20 = *(v19 - 8);
  v1[53] = v20;
  v21 = *(v20 + 64) + 15;
  v1[54] = swift_task_alloc();
  v1[55] = swift_task_alloc();
  v1[56] = swift_task_alloc();
  v1[57] = swift_task_alloc();
  v1[58] = swift_task_alloc();
  v1[59] = swift_task_alloc();
  v1[60] = swift_task_alloc();
  v1[61] = swift_task_alloc();
  v1[62] = swift_task_alloc();
  v1[63] = swift_task_alloc();
  v1[64] = swift_task_alloc();
  v1[65] = swift_task_alloc();
  v1[66] = swift_task_alloc();
  v1[67] = swift_task_alloc();
  v1[68] = swift_task_alloc();
  v22 = type metadata accessor for SyncFacesRequest();
  v1[69] = v22;
  v23 = *(v22 - 8);
  v1[70] = v23;
  v24 = *(v23 + 64) + 15;
  v1[71] = swift_task_alloc();
  v25 = type metadata accessor for AlbumID();
  v1[72] = v25;
  v26 = *(v25 - 8);
  v1[73] = v26;
  v27 = *(v26 + 64) + 15;
  v1[74] = swift_task_alloc();
  v1[75] = swift_task_alloc();
  v1[76] = swift_task_alloc();
  v1[77] = swift_task_alloc();
  v1[78] = swift_task_alloc();
  v1[79] = swift_task_alloc();
  v1[80] = swift_task_alloc();
  v1[81] = swift_task_alloc();
  v1[82] = swift_task_alloc();
  v1[83] = swift_task_alloc();
  v1[84] = swift_task_alloc();
  v28 = type metadata accessor for UUID();
  v1[85] = v28;
  v29 = *(v28 - 8);
  v1[86] = v29;
  v30 = *(v29 + 64) + 15;
  v1[87] = swift_task_alloc();
  v1[88] = swift_task_alloc();
  v1[89] = swift_task_alloc();
  v1[90] = swift_task_alloc();
  v1[91] = swift_task_alloc();
  v1[92] = swift_task_alloc();
  v1[93] = swift_task_alloc();
  v1[94] = type metadata accessor for CommunicationActor();
  v1[95] = static CommunicationActor.shared.getter();
  v31 = type metadata accessor for AlbumDatabase();
  v1[96] = v31;
  v32 = sub_1000FAACC(&qword_10012A488, &type metadata accessor for AlbumDatabase);
  v1[97] = v32;
  v33 = async function pointer to dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()[1];
  v34 = swift_task_alloc();
  v1[98] = v34;
  *v34 = v1;
  v34[1] = sub_1000C122C;

  return dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()(v31, v32);
}

uint64_t sub_1000C122C(uint64_t a1)
{
  v3 = *v2;
  v4 = *v2;
  v5 = *(*v2 + 784);
  v6 = *v2;
  v4[99] = a1;
  v4[100] = v1;

  v7 = v3[95];
  v8 = v3[94];
  v9 = sub_1000FAACC(&qword_100129EA0, &type metadata accessor for CommunicationActor);
  if (v1)
  {
    v10 = dispatch thunk of Actor.unownedExecutor.getter();
    v12 = v11;
    v13 = sub_1000C1D18;
    v14 = v10;
    v15 = v12;
  }

  else
  {
    v4[101] = v9;
    v16 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v17;
    v4[102] = v16;
    v4[103] = v17;
    v13 = sub_1000C13FC;
    v14 = v16;
  }

  return _swift_task_switch(v13, v14, v15);
}

uint64_t sub_1000C13FC()
{
  v125 = v0;
  v1 = v0[99];
  v2 = *(v1 + 16);
  if (v2)
  {
    v3 = v0[86];
    v4 = v0[73];
    v124[0] = _swiftEmptyArrayStorage;
    v5 = sub_10005C508(0, v2, 0);
    v8 = 0;
    v9 = _swiftEmptyArrayStorage;
    v121 = v1 + ((*(v4 + 80) + 32) & ~*(v4 + 80));
    while (v8 < *(v1 + 16))
    {
      v10 = v0[93];
      v11 = v0[84];
      v12 = v0[72];
      (*(v4 + 16))(v11, v121 + *(v4 + 72) * v8, v12);
      sub_1000FAACC(&qword_10012A048, &type metadata accessor for AlbumID);
      dispatch thunk of PhotosFaceID.id.getter();
      (*(v4 + 8))(v11, v12);
      v124[0] = v9;
      v14 = v9[2];
      v13 = v9[3];
      if (v14 >= v13 >> 1)
      {
        sub_10005C508(v13 > 1, v14 + 1, 1);
        v9 = v124[0];
      }

      v15 = v0[93];
      v16 = v0[85];
      ++v8;
      v9[2] = v14 + 1;
      v5 = (*(v3 + 32))(v9 + ((*(v3 + 80) + 32) & ~*(v3 + 80)) + *(v3 + 72) * v14, v15, v16);
      if (v2 == v8)
      {
        v17 = v0[99];

        goto LABEL_9;
      }
    }

    __break(1u);
    return _swift_task_switch(v5, v6, v7);
  }

  v18 = v0[99];

  v9 = _swiftEmptyArrayStorage;
LABEL_9:
  v0[104] = v9;
  if (!v9[2])
  {
    v19 = *(v0[16] + 16);
    v20 = PhotosFaceType.rawValue.getter();
    v22 = v21;
    if (v20 == PhotosFaceType.rawValue.getter() && v22 == v23)
    {
    }

    else
    {
      v25 = _stringCompareWithSmolCheck(_:_:expecting:)();

      if ((v25 & 1) == 0)
      {
        v26 = v0[95];

        v27 = v0[93];
        v28 = v0[92];
        v29 = v0[91];
        v30 = v0[90];
        v31 = v0[89];
        v32 = v0[88];
        v33 = v0[87];
        v34 = v0[84];
        v35 = v0[83];
        v36 = v0[82];
        v70 = v0[81];
        v71 = v0[80];
        v72 = v0[79];
        v73 = v0[78];
        v74 = v0[77];
        v75 = v0[76];
        v76 = v0[75];
        v77 = v0[74];
        v78 = v0[71];
        v79 = v0[68];
        v80 = v0[67];
        v81 = v0[66];
        v82 = v0[65];
        v83 = v0[64];
        v84 = v0[63];
        v85 = v0[62];
        v86 = v0[61];
        v87 = v0[60];
        v88 = v0[59];
        v89 = v0[58];
        v90 = v0[57];
        v91 = v0[56];
        v92 = v0[55];
        v93 = v0[54];
        v94 = v0[51];
        v95 = v0[50];
        v96 = v0[47];
        v97 = v0[44];
        v98 = v0[43];
        v99 = v0[42];
        v100 = v0[41];
        v101 = v0[40];
        v102 = v0[39];
        v103 = v0[38];
        v104 = v0[37];
        v105 = v0[36];
        v106 = v0[35];
        v107 = v0[34];
        v108 = v0[33];
        v109 = v0[32];
        v110 = v0[31];
        v111 = v0[30];
        v112 = v0[29];
        v113 = v0[28];
        v114 = v0[25];
        v116 = v0[22];
        v117 = v0[21];
        v119 = v0[18];
        v122 = v0[17];

        v37 = v0[1];

        return v37();
      }
    }
  }

  if ((static TestProperties.ignoreSyncCache.getter() & 1) == 0)
  {
    v0[105] = *(v0[16] + 104);
    v5 = sub_1000C2090;
    v6 = 0;
    v7 = 0;

    return _swift_task_switch(v5, v6, v7);
  }

  v39 = v0;
  v40 = v0[104];
  v41 = v0[71];
  v42 = v0[68];
  v43 = v0[16];

  sub_10006C038(v44);

  SyncFacesRequest.init(trackedFaces:cachedIdentifiers:)();
  static Log.session.getter();

  v45 = Logger.logObject.getter();
  v46 = static os_log_type_t.default.getter();

  if (os_log_type_enabled(v45, v46))
  {
    v115 = v0[85];
    v118 = v0[53];
    v120 = v0[52];
    v123 = v0[68];
    v47 = v0[16];
    v48 = swift_slowAlloc();
    v124[0] = swift_slowAlloc();
    *v48 = 136315650;
    v49 = *(v47 + 16);
    v50 = PhotosFaceType.description.getter();
    v52 = v51;

    v53 = sub_100102F80(v50, v52, v124);

    *(v48 + 4) = v53;
    *(v48 + 12) = 2048;
    v54 = _swiftEmptyArrayStorage[2];

    *(v48 + 14) = v54;

    *(v48 + 22) = 2080;
    sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID);
    v55 = Set.description.getter();
    v57 = v56;

    v58 = sub_100102F80(v55, v57, v124);

    *(v48 + 24) = v58;
    _os_log_impl(&_mh_execute_header, v45, v46, "Requesting %s with %ld cached photos and faces: %s", v48, 0x20u);
    swift_arrayDestroy();

    v59 = *(v118 + 8);
    v59(v123, v120);
  }

  else
  {
    v60 = v0[68];
    v62 = v0[52];
    v61 = v0[53];
    v63 = v39[16];
    swift_bridgeObjectRelease_n();

    v59 = *(v61 + 8);
    v59(v60, v62);
  }

  v39[108] = v59;
  v64 = v39[16];
  v65 = *(v64 + 96);
  v66 = *(v64 + 16);
  *(v39 + 1261) = v66;
  v67 = swift_task_alloc();
  v39[109] = v67;
  *v67 = v39;
  v67[1] = sub_1000C22C4;
  v68 = v39[71];
  v69 = v39[51];

  return sub_100089B20(v69, v66, v68);
}

uint64_t sub_1000C1D18()
{
  v1 = v0[95];

  v63 = v0[100];
  v2 = v0[93];
  v3 = v0[92];
  v4 = v0[91];
  v5 = v0[90];
  v6 = v0[89];
  v7 = v0[88];
  v8 = v0[87];
  v9 = v0[84];
  v10 = v0[83];
  v11 = v0[82];
  v14 = v0[81];
  v15 = v0[80];
  v16 = v0[79];
  v17 = v0[78];
  v18 = v0[77];
  v19 = v0[76];
  v20 = v0[75];
  v21 = v0[74];
  v22 = v0[71];
  v23 = v0[68];
  v24 = v0[67];
  v25 = v0[66];
  v26 = v0[65];
  v27 = v0[64];
  v28 = v0[63];
  v29 = v0[62];
  v30 = v0[61];
  v31 = v0[60];
  v32 = v0[59];
  v33 = v0[58];
  v34 = v0[57];
  v35 = v0[56];
  v36 = v0[55];
  v37 = v0[54];
  v38 = v0[51];
  v39 = v0[50];
  v40 = v0[47];
  v41 = v0[44];
  v42 = v0[43];
  v43 = v0[42];
  v44 = v0[41];
  v45 = v0[40];
  v46 = v0[39];
  v47 = v0[38];
  v48 = v0[37];
  v49 = v0[36];
  v50 = v0[35];
  v51 = v0[34];
  v52 = v0[33];
  v53 = v0[32];
  v54 = v0[31];
  v55 = v0[30];
  v56 = v0[29];
  v57 = v0[28];
  v58 = v0[25];
  v59 = v0[22];
  v60 = v0[21];
  v61 = v0[18];
  v62 = v0[17];

  v12 = v0[1];

  return v12();
}

uint64_t sub_1000C2090()
{
  v1 = *(*(v0 + 840) + OBJC_IVAR____TtC11photosfaced10PhotoCache_database);
  v2 = async function pointer to PhotosFaceDatabase.storedPhotos()[1];
  v3 = swift_task_alloc();
  *(v0 + 848) = v3;
  *v3 = v0;
  v3[1] = sub_1000C2134;

  return PhotosFaceDatabase.storedPhotos()();
}

uint64_t sub_1000C2134(uint64_t a1)
{
  v4 = *v2;
  v5 = *(*v2 + 848);
  v6 = *v2;
  *(*v2 + 856) = a1;

  if (v1)
  {
    v7 = v4[104];

    v4[156] = v1;
    v8 = v4[103];
    v9 = v4[102];

    return _swift_task_switch(sub_1000D03F8, v9, v8);
  }

  else
  {
    v10 = swift_task_alloc();
    v4[153] = v10;
    *v10 = v6;
    v10[1] = sub_1000CFED8;
    v11 = v4[105];

    return sub_100062C74(a1);
  }
}

uint64_t sub_1000C22C4()
{
  v2 = *v1;
  v3 = *(*v1 + 872);
  v4 = *v1;
  *(*v1 + 880) = v0;

  v5 = *(v2 + 824);
  v6 = *(v2 + 816);
  if (v0)
  {
    v7 = sub_1000C256C;
  }

  else
  {
    v7 = sub_1000C2400;
  }

  return _swift_task_switch(v7, v6, v5);
}

uint64_t sub_1000C2400()
{
  v1 = v0[47];
  (*(v0[49] + 16))(v0[50], v0[51], v0[48]);
  sub_10000CC24(&qword_10012B5B0, &qword_10012B5A8, &qword_10010A8E8);
  dispatch thunk of AsyncSequence.makeAsyncIterator()();
  v0[111] = _swiftEmptyArrayStorage;
  v2 = v0[101];
  v3 = v0[94];
  v4 = static CommunicationActor.shared.getter();
  v0[112] = v4;
  v5 = sub_10000CC24(&qword_10012B5B8, &qword_10012B5A0, &qword_10010A8E0);
  v6 = _sScI4next9isolation7ElementQzSgScA_pSgYi_tYa7FailureQzYKFTjTu[1];
  v7 = swift_task_alloc();
  v0[113] = v7;
  *v7 = v0;
  v7[1] = sub_1000C2908;
  v8 = v0[47];
  v9 = v0[44];
  v10 = v0[45];

  return __sScI4next9isolation7ElementQzSgScA_pSgYi_tYa7FailureQzYKFTj(v9, v4, v2, v0 + 9, v10, v5);
}

uint64_t sub_1000C256C()
{
  v1 = v0[95];
  v2 = v0[71];
  v3 = v0[70];
  v4 = v0[69];

  (*(v3 + 8))(v2, v4);
  v66 = v0[110];
  v5 = v0[93];
  v6 = v0[92];
  v7 = v0[91];
  v8 = v0[90];
  v9 = v0[89];
  v10 = v0[88];
  v11 = v0[87];
  v12 = v0[84];
  v13 = v0[83];
  v14 = v0[82];
  v17 = v0[81];
  v18 = v0[80];
  v19 = v0[79];
  v20 = v0[78];
  v21 = v0[77];
  v22 = v0[76];
  v23 = v0[75];
  v24 = v0[74];
  v25 = v0[71];
  v26 = v0[68];
  v27 = v0[67];
  v28 = v0[66];
  v29 = v0[65];
  v30 = v0[64];
  v31 = v0[63];
  v32 = v0[62];
  v33 = v0[61];
  v34 = v0[60];
  v35 = v0[59];
  v36 = v0[58];
  v37 = v0[57];
  v38 = v0[56];
  v39 = v0[55];
  v40 = v0[54];
  v41 = v0[51];
  v42 = v0[50];
  v43 = v0[47];
  v44 = v0[44];
  v45 = v0[43];
  v46 = v0[42];
  v47 = v0[41];
  v48 = v0[40];
  v49 = v0[39];
  v50 = v0[38];
  v51 = v0[37];
  v52 = v0[36];
  v53 = v0[35];
  v54 = v0[34];
  v55 = v0[33];
  v56 = v0[32];
  v57 = v0[31];
  v58 = v0[30];
  v59 = v0[29];
  v60 = v0[28];
  v61 = v0[25];
  v62 = v0[22];
  v63 = v0[21];
  v64 = v0[18];
  v65 = v0[17];

  v15 = v0[1];

  return v15();
}

uint64_t sub_1000C2908()
{
  v2 = *v1;
  v3 = *(*v1 + 904);
  v9 = *v1;
  *(*v1 + 912) = v0;

  v4 = v2[112];

  v5 = v2[103];
  v6 = v2[102];
  if (v0)
  {
    v7 = sub_1000C4888;
  }

  else
  {
    v7 = sub_1000C2A34;
  }

  return _swift_task_switch(v7, v6, v5);
}

uint64_t sub_1000C2A34()
{
  v377 = v0;
  v3 = v0[44];
  v4 = v0[26];
  v5 = v0[27];
  if ((*(v5 + 48))(v3, 1, v4) == 1)
  {
    (*(v0[46] + 8))(v0[47], v0[45]);
    v320 = v0[114];
    v0[122] = v0[111];
    v0[121] = 0;
    v6 = v0[96];
    v7 = v0[72];
    v0[123] = sub_1000FAACC(&qword_10012A048, &type metadata accessor for AlbumID);
    v8 = static SyncedPhotosFace.destreamify(_:)();
    v9 = swift_task_alloc();
    *v9 = v7;
    v10 = type metadata accessor for AlbumProvider();
    v0[124] = v10;
    v319 = v10;
    v9[1] = v10;
    v9[2] = v6;
    v11 = sub_1000FAACC(&qword_10012B5C0, type metadata accessor for AlbumProvider);
    v0[125] = v11;
    v318 = v11;
    v9[3] = v11;
    v12 = sub_1000FAACC(&qword_10012A490, &type metadata accessor for AlbumDatabase);
    v0[126] = v12;
    v317 = v12;
    v9[4] = v12;
    KeyPath = swift_getKeyPath();

    v15 = *(v8 + 16);
    if (v15)
    {
      v16 = 0;
      v17 = _swiftEmptyArrayStorage;
      v361 = *(v8 + 16);
      v370 = v8;
      while (v16 < *(v8 + 16))
      {
        v18 = v0[27];
        v19 = *(v18 + 16);
        v18 += 16;
        v1 = (*(v18 + 64) + 32) & ~*(v18 + 64);
        v20 = *(v18 + 56);
        v19(v0[38], v8 + v1 + v20 * v16, v0[26]);
        swift_getAtKeyPath();
        v21 = v0[38];
        if (*(v0 + 1260) == 1)
        {
          v22 = KeyPath;
          v23 = v0[27];
          v25 = *(v23 + 32);
          v2 = (v23 + 32);
          v24 = v25;
          v25(v0[37], v0[38], v0[26]);
          v376[0] = v17;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_10005C758(0, v17[2] + 1, 1);
            v17 = v376[0];
          }

          v27 = v17[2];
          v26 = v17[3];
          v28 = v17;
          if (v27 >= v26 >> 1)
          {
            sub_10005C758(v26 > 1, v27 + 1, 1);
            v28 = v376[0];
          }

          v29 = v0[37];
          v30 = v0[26];
          *(v28 + 16) = v27 + 1;
          v24(v28 + v1 + v27 * v20, v29, v30);
          v17 = v28;
          KeyPath = v22;
          v15 = v361;
          v8 = v370;
        }

        else
        {
          (*(v0[27] + 8))(v0[38], v0[26]);
        }

        if (v15 == ++v16)
        {
          goto LABEL_25;
        }
      }
    }

    else
    {
      v17 = _swiftEmptyArrayStorage;
LABEL_25:

      v83 = v17[2];
      v84 = _swiftEmptyArrayStorage;
      v374 = v0;
      if (v83)
      {
        v85 = v0[27];
        v86 = v17 + ((*(v85 + 80) + 32) & ~*(v85 + 80));
        v346 = *(v85 + 72);
        v87 = *(v85 + 16);
        v316 = v17;

        v352 = v87;
        do
        {
          v365 = v84;
          v88 = v0[72];
          v89 = v0[27] + 16;
          v87(v0[29], v86, v0[26]);
          SyncedPhotosFace.photos.getter();
          v90 = static SyncedPhotosFace.faceChecksum(for:)();

          v91 = SyncedPhotosFace.checksum.getter();
          if (v91 < 0 || (v92 = v91, v91 == v90))
          {
            (*(v0[27] + 8))(v0[29], v0[26]);
            v87 = v352;
            v84 = v365;
          }

          else
          {
            v93 = v0[54];
            v95 = v0[28];
            v94 = v0[29];
            v96 = v0[26];
            static Log.session.getter();
            v352(v95, v94, v96);
            v97 = Logger.logObject.getter();
            v98 = static os_log_type_t.error.getter();
            v99 = os_log_type_enabled(v97, v98);
            v100 = v0[108];
            v101 = v0[53];
            v102 = v0[54];
            v337 = v0[52];
            if (v99)
            {
              v321 = v0[36];
              v325 = v98;
              v330 = v0[108];
              v104 = v0[27];
              v103 = v0[28];
              log = v97;
              v105 = v0[26];
              v326 = v0[54];
              v106 = swift_slowAlloc();
              v322 = swift_slowAlloc();
              v376[0] = v322;
              *v106 = 134218498;
              *(v106 + 4) = v90;
              *(v106 + 12) = 2048;
              *(v106 + 14) = v92;
              *(v106 + 22) = 2080;
              v352(v321, v103, v105);
              v107 = *(v104 + 8);
              v107(v103, v105);
              sub_10000CC24(&qword_10012A798, &qword_100129F70, &qword_100108D90);
              v108 = dispatch thunk of CustomStringConvertible.description.getter();
              v110 = v109;
              v107(v321, v105);
              v111 = sub_100102F80(v108, v110, v376);

              *(v106 + 24) = v111;
              _os_log_impl(&_mh_execute_header, log, v325, "Validation error: actual %ld, expected %ld for face %s", v106, 0x20u);
              sub_10000C304(v322);

              v330(v326, v337);
            }

            else
            {
              v107 = *(v0[27] + 8);
              v107(v0[28], v0[26]);

              v100(v102, v337);
            }

            v112 = v0[87];
            v113 = v0[74];
            v114 = v0;
            v115 = v0[73];
            v116 = v114[72];
            v117 = v114[29];
            v118 = v114[26];
            SyncedPhotosFace.id.getter();
            dispatch thunk of PhotosFaceID.id.getter();
            (*(v115 + 8))(v113, v116);
            v84 = v365;
            if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
            {
              v84 = sub_1000FFFC8(0, v365[2] + 1, 1, v365);
            }

            v87 = v352;
            v120 = v84[2];
            v119 = v84[3];
            if (v120 >= v119 >> 1)
            {
              v84 = sub_1000FFFC8(v119 > 1, v120 + 1, 1, v84);
            }

            v121 = v374[87];
            v122 = v374[86];
            v123 = v374[85];
            v124 = v374[27] + 8;
            v107(v374[29], v374[26]);
            v84[2] = v120 + 1;
            (*(v122 + 32))(v84 + ((*(v122 + 80) + 32) & ~*(v122 + 80)) + *(v122 + 72) * v120, v121, v123);
            v0 = v374;
          }

          v86 += v346;
          --v83;
        }

        while (v83);
        v125 = v316;
      }

      else
      {
        v125 = v17;
      }

      v0[127] = v84;
      v126 = v0[96];
      v127 = v0[72];
      v128 = v0[64];
      v129 = v0[16];
      v130 = swift_task_alloc();
      *v130 = v127;
      v130[1] = v319;
      v130[2] = v126;
      v130[3] = v318;
      v130[4] = v317;
      v131 = swift_getKeyPath();

      v132 = sub_1000FA698(v125, v131);
      v0[128] = v132;

      static Log.session.getter();
      swift_bridgeObjectRetain_n();

      v133 = Logger.logObject.getter();
      v134 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v133, v134))
      {
        v338 = v134;
        v135 = v0[16];
        v136 = *(v0 + 1261);
        v137 = swift_slowAlloc();
        v375 = swift_slowAlloc();
        *v137 = 134218498;
        *(v137 + 4) = *(v132 + 16);
        *(v137 + 12) = 2080;
        v138 = PhotosFaceType.description.getter();
        v140 = v139;

        v141 = sub_100102F80(v138, v140, &v375);

        *(v137 + 14) = v141;
        v342 = v137;
        *(v137 + 22) = 2080;
        v142 = *(v132 + 16);
        if (v142)
        {
          v327 = v133;
          v143 = v0[73];
          v366 = v0[19];
          v376[0] = _swiftEmptyArrayStorage;
          v331 = v142;
          sub_10005C54C(0, v142, 0);
          v144 = v376[0];
          v145 = -1 << *(v132 + 32);
          v357 = v132 + 64;
          v146 = _HashTable.startBucket.getter();
          v353 = v0[72];
          v148 = v0[21];
          v147 = v0[22];
          v1 = *(v132 + 36);
          v149 = sub_1000F44C8(v147, v146, *(v132 + 36), 0, v132, &type metadata accessor for AlbumID);
          v2 = *(v143 + 32);
          v2(v148, v147, v353);
          *(v148 + *(v366 + 48)) = v149;
          v150 = sub_1000E1360(v148);
          if (v320)
          {
            v152 = v0[21];

            sub_10000C460(v152, &qword_10012B598, &qword_10010A8D8);
            sub_100042AF0(v146, v1, 0);
          }

          v170 = v150;
          v171 = v151;
          v347 = v2;
          sub_10000C460(v0[21], &qword_10012B598, &qword_10010A8D8);
          v173 = *(v144 + 16);
          v172 = *(v144 + 24);
          if (v173 >= v172 >> 1)
          {
            sub_10005C54C((v172 > 1), v173 + 1, 1);
            v144 = v376[0];
          }

          *(v144 + 16) = v173 + 1;
          v174 = v144 + 16 * v173;
          *(v174 + 32) = v170;
          *(v174 + 40) = v171;
          if (v146 < 0 || v146 >= -(-1 << *(v132 + 32)))
          {
            goto LABEL_110;
          }

          if (((*(v357 + ((v146 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v146) & 1) == 0)
          {
LABEL_111:
            __break(1u);
            goto LABEL_112;
          }

          if (v1 != *(v132 + 36))
          {
LABEL_112:
            __break(1u);
            goto LABEL_113;
          }

          v175 = _HashTable.occupiedBucket(after:)();
          v2 = (v331 - 1);
          if (v331 != 1)
          {
            v304 = v175;
            do
            {
              v305 = v0[72];
              v307 = v0[21];
              v306 = v0[22];
              v1 = *(v132 + 36);
              v308 = sub_1000F44C8(v306, v304, *(v132 + 36), 0, v132, &type metadata accessor for AlbumID);
              v347(v307, v306, v305);
              *(v307 + *(v366 + 48)) = v308;
              v309 = sub_1000E1360(v307);
              v311 = v310;
              sub_10000C460(v0[21], &qword_10012B598, &qword_10010A8D8);
              v376[0] = v144;
              v313 = *(v144 + 16);
              v312 = *(v144 + 24);
              if (v313 >= v312 >> 1)
              {
                sub_10005C54C((v312 > 1), v313 + 1, 1);
                v144 = v376[0];
              }

              *(v144 + 16) = v313 + 1;
              v314 = v144 + 16 * v313;
              *(v314 + 32) = v309;
              *(v314 + 40) = v311;
              if (v304 < 0 || v304 >= -(-1 << *(v132 + 32)))
              {
                goto LABEL_110;
              }

              if (((*(v357 + ((v304 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v304) & 1) == 0)
              {
                goto LABEL_111;
              }

              if (v1 != *(v132 + 36))
              {
                goto LABEL_112;
              }

              v304 = _HashTable.occupiedBucket(after:)();
              v2 = (v2 - 1);
            }

            while (v2);
          }

          v133 = v327;
        }

        else
        {
        }

        v176 = v0[108];
        v177 = v0[64];
        v178 = v0[52];
        v179 = v0[53] + 8;
        v180 = Array.description.getter();
        v182 = v181;

        v183 = sub_100102F80(v180, v182, &v375);

        *(v342 + 24) = v183;
        _os_log_impl(&_mh_execute_header, v133, v338, "Received %ld %s: %s", v342, 0x20u);
        swift_arrayDestroy();

        v176(v177, v178);
      }

      else
      {
        v154 = v0[108];
        v155 = v0[64];
        v156 = v0[52];
        v157 = v0[53];
        v158 = v0[16];
        swift_bridgeObjectRelease_n();

        v154(v155, v156);
      }

      v323 = (v0 + 125);
      v184 = *(v132 + 32);
      *(v0 + 1262) = v184;
      v185 = 1 << v184;
      if (v185 < 64)
      {
        v186 = ~(-1 << v185);
      }

      else
      {
        v186 = -1;
      }

      v187 = v186 & *(v132 + 64);

      v1 = 0;
      if (!v187)
      {
        goto LABEL_69;
      }

      do
      {
        while (1)
        {
          v194 = v0[128];
LABEL_77:
          v198 = v0[84];
          v199 = v0[73];
          v200 = v0[72];
          v201 = v0[20];
          v202 = v374[19];
          v203 = v374[17];
          v204 = __clz(__rbit64(v187));
          v187 &= v187 - 1;
          v205 = v204 | (v1 << 6);
          (*(v199 + 16))(v198, *(v194 + 48) + *(v199 + 72) * v205, v200);
          v206 = *(*(v194 + 56) + 8 * v205);
          v207 = *(v202 + 48);
          (*(v199 + 32))(v203, v198, v200);
          *(v203 + v207) = v206;
          v208 = v202;
          v0 = v374;
          (*(v201 + 56))(v203, 0, 1, v208);

          v2 = v1;
LABEL_78:
          v0[130] = v2;
          v0[129] = v187;
          v209 = v0;
          v210 = v0[20];
          v211 = v209[18];
          v212 = v209[19];
          sub_10005DD90(v209[17], v211, &qword_10012B590, &qword_10010A8D0);
          if ((*(v210 + 48))(v211, 1, v212) == 1)
          {
            v236 = v209[128];
            v237 = v209[122];
            v238 = v209[16];

            v239 = *(v238 + 104);
            v240 = swift_task_alloc();
            v209[132] = v240;
            *v240 = v209;
            v240[1] = sub_1000C8058;

            return sub_10006254C();
          }

          v213 = v209[83];
          v214 = v209[73];
          v215 = v209[72];
          v216 = *(v209[18] + *(v209[19] + 48));
          v209[131] = v216;
          (*(v214 + 32))(v213);
          v217 = v209[83];
          v0 = v209;
          if (*(v216 + 16))
          {
            v241 = v209[81];
            v242 = v209[73];
            v243 = v209[72];
            v244 = v0[62];
            v245 = v0[16];
            static Log.session.getter();
            v246 = *(v242 + 16);
            v0[134] = v246;
            v0[135] = (v242 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
            v246(v241, v217, v243);
            swift_bridgeObjectRetain_n();

            v247 = Logger.logObject.getter();
            v248 = static os_log_type_t.default.getter();
            if (os_log_type_enabled(v247, v248))
            {
              v349 = v248;
              v368 = v0[124];
              v355 = v247;
              v359 = v0[96];
              v249 = v0[84];
              v340 = v0[81];
              v344 = v0[73];
              v250 = v0[72];
              v251 = v0[16];
              v333 = *v323;
              v252 = *(v0 + 1261);
              v253 = swift_slowAlloc();
              v0[11] = swift_slowAlloc();
              *v253 = 136315650;
              v254 = PhotosFaceType.description.getter();
              v256 = v255;

              v257 = sub_100102F80(v254, v256, v0 + 11);

              *(v253 + 4) = v257;
              v258 = v0;
              *(v253 + 12) = 2080;
              v246(v249, v340, v250);
              v259 = *(v344 + 8);
              v259(v340, v250);
              sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
              v260 = dispatch thunk of CustomStringConvertible.description.getter();
              v262 = v261;
              v341 = v259;
              v259(v249, v250);
              v263 = sub_100102F80(v260, v262, v0 + 11);

              *(v253 + 14) = v263;
              v345 = v253;
              *(v253 + 22) = 2080;
              v264 = swift_task_alloc();
              *v264 = v250;
              *(v264 + 8) = v368;
              *(v264 + 16) = v359;
              *(v264 + 24) = v333;
              v265 = swift_getKeyPath();

              v266 = *(v216 + 16);
              if (v266)
              {
                v267 = v0[27];
                v258[12] = _swiftEmptyArrayStorage;
                sub_10005C54C(0, v266, 0);
                v268 = v258[12];
                v269 = v258;
                v270 = v216 + ((*(v267 + 80) + 32) & ~*(v267 + 80));
                v360 = *(v267 + 16);
                v369 = *(v267 + 72);
                v0 = v269;
                do
                {
                  v271 = v0[36];
                  v272 = v374[27];
                  v273 = v374[26];
                  v360(v271, v270, v273);
                  v274 = v265;
                  swift_getAtKeyPath();
                  v275 = v374[7];
                  v276 = v374[8];
                  (*(v272 + 8))(v271, v273);
                  v0 = v374;
                  v374[12] = v268;
                  v278 = *(v268 + 16);
                  v277 = *(v268 + 24);
                  if (v278 >= v277 >> 1)
                  {
                    sub_10005C54C((v277 > 1), v278 + 1, 1);
                    v268 = v374[12];
                  }

                  *(v268 + 16) = v278 + 1;
                  v279 = v268 + 16 * v278;
                  *(v279 + 32) = v275;
                  *(v279 + 40) = v276;
                  v270 += v369;
                  --v266;
                  v265 = v274;
                }

                while (v266);
              }

              v290 = v0[108];
              v291 = v0[62];
              v292 = v0[52];
              v293 = v0[53] + 8;
              v294 = Array.description.getter();
              v296 = v295;

              v297 = sub_100102F80(v294, v296, v0 + 11);

              *(v345 + 24) = v297;
              _os_log_impl(&_mh_execute_header, v355, v349, "Inserting %s %s: %s", v345, 0x20u);
              swift_arrayDestroy();

              v290(v291, v292);
              v289 = v341;
            }

            else
            {
              v280 = v374[108];
              v281 = v374[81];
              v282 = v374[73];
              v283 = v374[72];
              v284 = v374[62];
              v285 = v374[53];
              v286 = v374[52];
              v287 = v374[16];

              v288 = v281;
              v289 = *(v282 + 8);
              v289(v288, v283);

              v280(v284, v286);
              v0 = v374;
            }

            v0[136] = v289;
            v298 = v0[16];
            v299 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
            v300 = swift_task_alloc();
            v0[137] = v300;
            *v300 = v0;
            v300[1] = sub_1000C8188;
            v301 = v0[126];
            v302 = v0[96];
            v303 = v0[83];

            return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v303, v302, v301);
          }

          v218 = v209[82];
          v219 = v209[73];
          v220 = v209[72];
          v221 = v0[63];

          static Log.session.getter();
          v222 = *(v219 + 16);
          v222(v218, v217, v220);
          v223 = Logger.logObject.getter();
          v224 = static os_log_type_t.error.getter();
          v367 = v223;
          v225 = os_log_type_enabled(v223, v224);
          v358 = v0[108];
          if (v225)
          {
            break;
          }

          v188 = v0[83];
          v189 = v374[72];
          v190 = v374[63];
          v191 = v374[52];
          v192 = v374[53] + 8;
          v193 = *(v374[73] + 8);
          v193(v0[82], v189);

          v358(v190, v191);
          v193(v188, v189);
          v0 = v374;
          v1 = v2;
          if (!v187)
          {
            goto LABEL_69;
          }
        }

        v226 = v0[84];
        v348 = v0[83];
        v354 = v2;
        v227 = v0[82];
        v228 = v0[73];
        v229 = v0[72];
        v343 = v0[63];
        v335 = v0[53] + 8;
        v339 = v0[52];
        v328 = v224;
        v230 = swift_slowAlloc();
        v332 = swift_slowAlloc();
        v376[0] = v332;
        *v230 = 136315138;
        v222(v226, v227, v229);
        v231 = *(v228 + 8);
        v231(v227, v229);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v232 = dispatch thunk of CustomStringConvertible.description.getter();
        v234 = v233;
        v231(v226, v229);
        v235 = sub_100102F80(v232, v234, v376);

        *(v230 + 4) = v235;
        _os_log_impl(&_mh_execute_header, v367, v328, "There are no valid synced faces per day for %s; skipping", v230, 0xCu);
        sub_10000C304(v332);

        v358(v343, v339);
        v231(v348, v229);
        v1 = v354;
      }

      while (v187);
LABEL_69:
      v195 = ((1 << *(v0 + 1262)) + 63) >> 6;
      if (v195 <= (v1 + 1))
      {
        v196 = v1 + 1;
      }

      else
      {
        v196 = ((1 << *(v0 + 1262)) + 63) >> 6;
      }

      v2 = (v196 - 1);
      while (1)
      {
        v197 = v1 + 1;
        if (__OFADD__(v1, 1))
        {
          break;
        }

        if (v197 >= v195)
        {
          (*(v0[20] + 56))(v0[17], 1, 1, v0[19]);
          v187 = 0;
          goto LABEL_78;
        }

        v194 = v0[128];
        v187 = *(v194 + 8 * v197 + 64);
        ++v1;
        if (v187)
        {
          v1 = v197;
          goto LABEL_77;
        }
      }

      __break(1u);
    }

    __break(1u);
LABEL_110:
    __break(1u);
    goto LABEL_111;
  }

  v31 = v0[111];
  v33 = v0[42];
  v32 = v0[43];
  v1 = *(v5 + 32);
  (v1)(v32, v3, v4);
  v2 = *(v5 + 16);
  v2(v33, v32, v4);
  isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  v14 = v0[111];
  if ((isUniquelyReferenced_nonNull_native & 1) == 0)
  {
LABEL_113:
    v14 = sub_1001002F4(0, *(v14 + 2) + 1, 1, v14);
  }

  v36 = *(v14 + 2);
  v35 = *(v14 + 3);
  v37 = v36 + 1;
  v371 = v1;
  if (v36 >= v35 >> 1)
  {
    v315 = sub_1001002F4(v35 > 1, v36 + 1, 1, v14);
    v37 = v36 + 1;
    v14 = v315;
  }

  v0[115] = v14;
  v38 = v0[67];
  v39 = v0[42];
  v40 = v0[43];
  v42 = v0[40];
  v41 = v0[41];
  v362 = v0[39];
  v44 = v0[26];
  v43 = v0[27];
  *(v14 + 2) = v37;
  v371(&v14[((*(v43 + 80) + 32) & ~*(v43 + 80)) + *(v43 + 72) * v36], v39, v44);
  static Log.session.getter();
  v2(v41, v40, v44);
  v2(v42, v40, v44);
  v2(v362, v40, v44);
  v45 = Logger.logObject.getter();
  v46 = static os_log_type_t.debug.getter();
  if (os_log_type_enabled(v45, v46))
  {
    v356 = v46;
    v372 = v45;
    v329 = v0[92];
    v350 = v0[86];
    v334 = v0[85];
    v47 = v0[84];
    v363 = v0[73];
    v48 = v0[72];
    v50 = v0[40];
    v49 = v0[41];
    v336 = v0[39];
    v51 = v0[26];
    v52 = v0[27];
    v53 = swift_slowAlloc();
    v0[14] = swift_slowAlloc();
    *v53 = 134218498;
    v54 = *(SyncedPhotosFace.uncached.getter() + 16);

    v55 = *(v52 + 8);
    v55(v49, v51);
    *(v53 + 4) = v54;
    *(v53 + 12) = 2080;
    SyncedPhotosFace.id.getter();
    sub_1000FAACC(&qword_10012A048, &type metadata accessor for AlbumID);
    dispatch thunk of PhotosFaceID.id.getter();
    (*(v363 + 8))(v47, v48);
    v364 = v55;
    v55(v50, v51);
    sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
    v56 = dispatch thunk of CustomStringConvertible.description.getter();
    v58 = v57;
    (*(v350 + 8))(v329, v334);
    v59 = sub_100102F80(v56, v58, v0 + 14);

    *(v53 + 14) = v59;
    v351 = v53;
    *(v53 + 22) = 2080;
    v60 = SyncedPhotosFace.uncached.getter();
    v61 = *(v60 + 16);
    if (v61)
    {
      v62 = v0[24];
      v0[15] = _swiftEmptyArrayStorage;
      sub_10005C508(0, v61, 0);
      v63 = v0[15];
      v64 = v60 + ((*(v62 + 80) + 32) & ~*(v62 + 80));
      v65 = *(v62 + 72);
      v66 = *(v62 + 16);
      do
      {
        v67 = v0[91];
        v68 = v0[24];
        v69 = v0[25];
        v70 = v0[23];
        v66(v69, v64, v70);
        StoredPhoto.localIdentifier.getter();
        (*(v68 + 8))(v69, v70);
        v0[15] = v63;
        v72 = *(v63 + 16);
        v71 = *(v63 + 24);
        if (v72 >= v71 >> 1)
        {
          sub_10005C508(v71 > 1, v72 + 1, 1);
          v63 = v0[15];
        }

        v73 = v0[91];
        v74 = v0[86];
        v75 = v0[85];
        *(v63 + 16) = v72 + 1;
        (*(v74 + 32))(v63 + ((*(v74 + 80) + 32) & ~*(v74 + 80)) + *(v74 + 72) * v72, v73, v75);
        v64 += v65;
        --v61;
      }

      while (v61);
    }

    v159 = v0[108];
    v160 = v0[85];
    v161 = v0[67];
    v162 = v0[52];
    v163 = v0[53] + 8;
    v82 = v364;
    v364(v0[39], v0[26]);
    v164 = Array.description.getter();
    v166 = v165;

    v167 = sub_100102F80(v164, v166, v0 + 14);

    *(v351 + 24) = v167;
    _os_log_impl(&_mh_execute_header, v372, v356, "Caching %ld for face %s, photos = %s", v351, 0x20u);
    swift_arrayDestroy();

    v159(v161, v162);
  }

  else
  {
    v373 = v0[108];
    v76 = v0[67];
    v77 = v0[52];
    v78 = v0[40];
    v79 = v0[39];
    v80 = v0[26];
    v81 = v0[53] + 8;
    v82 = *(v0[27] + 8);
    v82(v0[41], v80);
    v82(v79, v80);
    v82(v78, v80);

    v373(v76, v77);
  }

  v0[116] = v82;
  v168 = v0[43];
  v169 = v0[26];
  v0[117] = *(v0[16] + 104);
  v0[118] = SyncedPhotosFace.uncached.getter();

  return _swift_task_switch(sub_1000C626C, 0, 0);
}

uint64_t sub_1000C4888()
{
  v274 = v0;
  (*(v0[46] + 8))(v0[47], v0[45]);
  v2 = v0[9];
  v3 = v0[111];
  v4 = v0[66];
  static Log.session.getter();
  swift_errorRetain();
  v5 = Logger.logObject.getter();
  v6 = static os_log_type_t.error.getter();

  if (os_log_type_enabled(v5, v6))
  {
    v7 = swift_slowAlloc();
    v8 = swift_slowAlloc();
    *v7 = 138412290;
    swift_errorRetain();
    v9 = _swift_stdlib_bridgeErrorToNSError();
    *(v7 + 4) = v9;
    *v8 = v9;
    _os_log_impl(&_mh_execute_header, v5, v6, "StreamError during sync: %@", v7, 0xCu);
    sub_10000C460(v8, &qword_100129EF8, &qword_100108C70);
  }

  v10 = v0[108];
  v11 = v0[66];
  v12 = v0[52];
  v13 = v0[53];

  v10(v11, v12);
  v0[122] = v3;
  v260 = v2;
  v0[121] = v2;
  v14 = v0[96];
  v15 = v0[72];
  v16 = sub_1000FAACC(&qword_10012A048, &type metadata accessor for AlbumID);
  v0[123] = v16;
  v265 = v16;
  v17 = static SyncedPhotosFace.destreamify(_:)();
  v18 = swift_task_alloc();
  *v18 = v15;
  v19 = type metadata accessor for AlbumProvider();
  v0[124] = v19;
  v240 = v19;
  v18[1] = v19;
  v18[2] = v14;
  v20 = sub_1000FAACC(&qword_10012B5C0, type metadata accessor for AlbumProvider);
  v0[125] = v20;
  v239 = v20;
  v18[3] = v20;
  v21 = sub_1000FAACC(&qword_10012A490, &type metadata accessor for AlbumDatabase);
  v0[126] = v21;
  v238 = v21;
  v18[4] = v21;
  KeyPath = swift_getKeyPath();

  v23 = *(v17 + 16);
  if (!v23)
  {
    v25 = _swiftEmptyArrayStorage;
LABEL_15:

    if (v260)
    {
      v36 = v0[65];
      static Log.session.getter();

      v37 = Logger.logObject.getter();
      v38 = static os_log_type_t.error.getter();
      if (os_log_type_enabled(v37, v38))
      {
        v39 = v25;
        v40 = swift_slowAlloc();
        *v40 = 134218240;
        *(v40 + 4) = v39[2];

        *(v40 + 12) = 2048;
        v41 = *(v17 + 16);

        *(v40 + 14) = v41;

        _os_log_impl(&_mh_execute_header, v37, v38, "An error occurred during sync. Only %ld / %ld finished successfully.", v40, 0x16u);
        v25 = v39;
      }

      else
      {
        swift_bridgeObjectRelease_n();
      }

      v42 = v0[53] + 8;
      (v0[108])(v0[65], v0[52]);
    }

    else
    {
    }

    v43 = v25[2];
    v1 = _swiftEmptyArrayStorage;
    v271 = v0;
    if (v43)
    {
      v44 = v0[27];
      v45 = v25 + ((*(v44 + 80) + 32) & ~*(v44 + 80));
      v46 = *(v44 + 72);
      v47 = *(v44 + 16);
      v237 = v25;

      v249 = v46;
      v261 = v47;
      do
      {
        v268 = v1;
        v48 = v0[72];
        v49 = v0[27] + 16;
        v47(v0[29], v45, v0[26]);
        SyncedPhotosFace.photos.getter();
        v50 = static SyncedPhotosFace.faceChecksum(for:)();

        v51 = SyncedPhotosFace.checksum.getter();
        if (v51 < 0 || (v52 = v51, v51 == v50))
        {
          (*(v0[27] + 8))(v0[29], v0[26]);
          v47 = v261;
          v1 = v268;
        }

        else
        {
          v53 = v0[54];
          v55 = v0[28];
          v54 = v0[29];
          v56 = v0[26];
          static Log.session.getter();
          v261(v55, v54, v56);
          v57 = Logger.logObject.getter();
          v58 = static os_log_type_t.error.getter();
          v59 = os_log_type_enabled(v57, v58);
          v60 = v0[108];
          buf = v0[54];
          v251 = v0[52];
          if (v59)
          {
            v258 = v0[36];
            v244 = v58;
            v246 = v0[53] + 8;
            v247 = v43;
            loga = v57;
            v61 = v0[27];
            v62 = v0[28];
            v63 = v0[26];
            v245 = v0[108];
            v64 = swift_slowAlloc();
            v241 = swift_slowAlloc();
            v273[0] = v241;
            *v64 = 134218498;
            *(v64 + 4) = v50;
            *(v64 + 12) = 2048;
            *(v64 + 14) = v52;
            *(v64 + 22) = 2080;
            v261(v258, v62, v63);
            v65 = *(v61 + 8);
            v65(v62, v63);
            sub_10000CC24(&qword_10012A798, &qword_100129F70, &qword_100108D90);
            v66 = v258;
            v67 = dispatch thunk of CustomStringConvertible.description.getter();
            v69 = v68;
            v70 = v63;
            v43 = v247;
            v257 = v65;
            v65(v66, v70);
            v71 = sub_100102F80(v67, v69, v273);

            *(v64 + 24) = v71;
            _os_log_impl(&_mh_execute_header, loga, v244, "Validation error: actual %ld, expected %ld for face %s", v64, 0x20u);
            sub_10000C304(v241);

            v245(buf, v251);
          }

          else
          {
            v257 = *(v0[27] + 8);
            (v257)(v0[28], v0[26]);

            v60(buf, v251);
          }

          v72 = v0[87];
          v73 = v0[74];
          v74 = v0;
          v75 = v0[73];
          v76 = v74[72];
          v77 = v74[29];
          v78 = v74[26];
          SyncedPhotosFace.id.getter();
          dispatch thunk of PhotosFaceID.id.getter();
          (*(v75 + 8))(v73, v76);
          v1 = v268;
          v46 = v249;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            v1 = sub_1000FFFC8(0, *(v268 + 16) + 1, 1, v268);
          }

          v47 = v261;
          v80 = *(v1 + 16);
          v79 = *(v1 + 24);
          if (v80 >= v79 >> 1)
          {
            v1 = sub_1000FFFC8(v79 > 1, v80 + 1, 1, v1);
          }

          v81 = v271[87];
          v82 = v271[86];
          v83 = v271[85];
          v84 = v271[27] + 8;
          (v257)(v271[29], v271[26]);
          *(v1 + 16) = v80 + 1;
          (*(v82 + 32))(v1 + ((*(v82 + 80) + 32) & ~*(v82 + 80)) + *(v82 + 72) * v80, v81, v83);
          v0 = v271;
        }

        v45 += v46;
        v43 = (v43 - 1);
      }

      while (v43);
      v85 = v237;
    }

    else
    {
      v85 = v25;
    }

    v0[127] = v1;
    v86 = v0[96];
    v87 = v0[72];
    v88 = v0[64];
    v89 = v0[16];
    v90 = swift_task_alloc();
    *v90 = v87;
    v90[1] = v240;
    v90[2] = v86;
    v90[3] = v239;
    v90[4] = v238;
    v91 = swift_getKeyPath();

    KeyPath = sub_1000FA698(v85, v91);
    v0[128] = KeyPath;

    static Log.session.getter();
    swift_bridgeObjectRetain_n();

    v92 = Logger.logObject.getter();
    v93 = static os_log_type_t.default.getter();
    if (!os_log_type_enabled(v92, v93))
    {
      v23 = v0[108];
      v109 = v0[64];
      v25 = v0[52];
      v110 = v0[53];
      v17 = v0[16];
      swift_bridgeObjectRelease_n();

      (v23)(v109, v25);
      goto LABEL_50;
    }

    LOBYTE(v251) = v93;
    v94 = v0[16];
    v95 = *(v0 + 1261);
    v96 = swift_slowAlloc();
    v272 = swift_slowAlloc();
    *v96 = 134218498;
    *(v96 + 4) = *(KeyPath + 16);
    *(v96 + 12) = 2080;
    v97 = PhotosFaceType.description.getter();
    v99 = v98;

    v100 = sub_100102F80(v97, v99, &v272);

    *(v96 + 14) = v100;
    buf = v96;
    *(v96 + 22) = 2080;
    v101 = *(KeyPath + 16);
    if (!v101)
    {

      goto LABEL_49;
    }

    v246 = v92;
    v102 = v0[73];
    v268 = v0[19];
    v273[0] = _swiftEmptyArrayStorage;
    v247 = v101;
    sub_10005C54C(0, v101, 0);
    v103 = v273[0];
    v104 = -1 << *(KeyPath + 32);
    v265 = (KeyPath + 64);
    v1 = _HashTable.startBucket.getter();
    v262 = v0[72];
    v106 = v0[21];
    v105 = v0[22];
    LODWORD(v24) = *(KeyPath + 36);
    v107 = sub_1000F44C8(v105, v1, v24, 0, KeyPath, &type metadata accessor for AlbumID);
    v108 = *(v102 + 32);
    v108(v106, v105, v262);
    *(v106 + *(v268 + 48)) = v107;
    v13 = sub_1000E1360(v106);
    v17 = v111;
    v257 = v108;
    sub_10000C460(v0[21], &qword_10012B598, &qword_10010A8D8);
    v23 = *(v103 + 16);
    v26 = *(v103 + 24);
    v25 = (v23 + 1);
    if (v23 < v26 >> 1)
    {
      goto LABEL_43;
    }

    goto LABEL_101;
  }

  v24 = 0;
  v25 = _swiftEmptyArrayStorage;
  v268 = *(v17 + 16);
  v271 = v17;
  while (1)
  {
    v26 = *(v17 + 16);
    if (v24 >= v26)
    {
      break;
    }

    v27 = v0[27];
    v28 = *(v27 + 16);
    v27 += 16;
    v1 = (*(v27 + 64) + 32) & ~*(v27 + 64);
    v29 = *(v27 + 56);
    v28(v0[38], v17 + v1 + v29 * v24, v0[26]);
    swift_getAtKeyPath();
    v30 = v0[38];
    if (*(v0 + 1260) == 1)
    {
      v31 = *(v0[27] + 32);
      v31(v0[37], v0[38], v0[26]);
      v273[0] = v25;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_10005C758(0, v25[2] + 1, 1);
        v25 = v273[0];
      }

      v13 = v25[2];
      v32 = v25[3];
      v33 = v25;
      if (v13 >= v32 >> 1)
      {
        sub_10005C758(v32 > 1, v13 + 1, 1);
        v33 = v273[0];
      }

      v34 = v0[37];
      v35 = v0[26];
      *(v33 + 16) = v13 + 1;
      v31(v33 + v1 + v13 * v29, v34, v35);
      v25 = v33;
      v23 = v268;
      v17 = v271;
    }

    else
    {
      (*(v0[27] + 8))(v0[38], v0[26]);
    }

    if (v23 == ++v24)
    {
      goto LABEL_15;
    }
  }

  while (2)
  {
    __break(1u);
LABEL_98:
    __break(1u);
LABEL_99:
    __break(1u);
    do
    {
LABEL_100:
      __break(1u);
LABEL_101:
      sub_10005C54C((v26 > 1), v25, 1);
      v103 = v273[0];
LABEL_43:
      *(v103 + 16) = v25;
      v26 = v103 + 16 * v23;
      *(v26 + 32) = v13;
      *(v26 + 40) = v17;
      if (v1 < 0)
      {
        goto LABEL_98;
      }

      v26 = -1 << *(KeyPath + 32);
      if (v1 >= -v26)
      {
        goto LABEL_98;
      }

      if (((*(v265 + ((v1 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v1) & 1) == 0)
      {
        goto LABEL_99;
      }
    }

    while (v24 != *(KeyPath + 36));
    v112 = _HashTable.occupiedBucket(after:)();
    v113 = v247 - 1;
    if (v247 != 1)
    {
      v1 = v112;
      do
      {
        v231 = v0[72];
        v233 = v0[21];
        v232 = v0[22];
        LODWORD(v24) = *(KeyPath + 36);
        v234 = sub_1000F44C8(v232, v1, v24, 0, KeyPath, &type metadata accessor for AlbumID);
        v257(v233, v232, v231);
        *(v233 + *(v268 + 48)) = v234;
        v17 = sub_1000E1360(v233);
        v13 = v235;
        sub_10000C460(v0[21], &qword_10012B598, &qword_10010A8D8);
        v273[0] = v103;
        v23 = *(v103 + 16);
        v236 = *(v103 + 24);
        v25 = (v23 + 1);
        if (v23 >= v236 >> 1)
        {
          sub_10005C54C((v236 > 1), v23 + 1, 1);
          v103 = v273[0];
        }

        *(v103 + 16) = v25;
        v26 = v103 + 16 * v23;
        *(v26 + 32) = v17;
        *(v26 + 40) = v13;
        if (v1 < 0)
        {
          goto LABEL_98;
        }

        v26 = -1 << *(KeyPath + 32);
        if (v1 >= -v26)
        {
          goto LABEL_98;
        }

        if (((*(v265 + ((v1 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v1) & 1) == 0)
        {
          goto LABEL_99;
        }

        if (v24 != *(KeyPath + 36))
        {
          goto LABEL_100;
        }

        v1 = _HashTable.occupiedBucket(after:)();
      }

      while (--v113);
    }

    v92 = v246;
LABEL_49:
    v114 = v0[108];
    v25 = v0[64];
    v115 = v0[52];
    v1 = v0[53] + 8;
    v116 = Array.description.getter();
    v23 = v117;

    v118 = sub_100102F80(v116, v23, &v272);

    v17 = buf;
    *(buf + 3) = v118;
    _os_log_impl(&_mh_execute_header, v92, v251, "Received %ld %s: %s", buf, 0x20u);
    swift_arrayDestroy();

    v114(v25, v115);
LABEL_50:
    log = (v0 + 125);
    v119 = *(KeyPath + 32);
    *(v0 + 1262) = v119;
    v120 = 1 << v119;
    if (v120 < 64)
    {
      v121 = ~(-1 << v120);
    }

    else
    {
      v121 = -1;
    }

    v13 = v121 & *(KeyPath + 64);

    v24 = 0;
    if (!v13)
    {
LABEL_57:
      v26 = ((1 << *(v0 + 1262)) + 63) >> 6;
      if (v26 <= (v24 + 1))
      {
        v124 = v24 + 1;
      }

      else
      {
        v124 = ((1 << *(v0 + 1262)) + 63) >> 6;
      }

      v125 = v124 - 1;
      while (1)
      {
        v126 = v24 + 1;
        if (__OFADD__(v24, 1))
        {
          break;
        }

        if (v126 >= v26)
        {
          (*(v0[20] + 56))(v0[17], 1, 1, v0[19]);
          v13 = 0;
          goto LABEL_66;
        }

        v23 = v0[128];
        v13 = *(v23 + 8 * v126 + 64);
        ++v24;
        if (v13)
        {
          v24 = v126;
          goto LABEL_65;
        }
      }

      __break(1u);
      continue;
    }

    break;
  }

  while (1)
  {
    v23 = v0[128];
LABEL_65:
    v127 = v0[84];
    v128 = v0[73];
    v129 = v0[72];
    v130 = v0[20];
    v131 = v271[19];
    v132 = v271[17];
    v133 = __clz(__rbit64(v13));
    v13 &= v13 - 1;
    v134 = v133 | (v24 << 6);
    (*(v128 + 16))(v127, *(v23 + 48) + *(v128 + 72) * v134, v129);
    v135 = *(*(v23 + 56) + 8 * v134);
    v136 = *(v131 + 48);
    (*(v128 + 32))(v132, v127, v129);
    *(v132 + v136) = v135;
    v137 = v131;
    v0 = v271;
    (*(v130 + 56))(v132, 0, 1, v137);

    v125 = v24;
LABEL_66:
    v0[130] = v125;
    v0[129] = v13;
    v138 = v0;
    v139 = v0[20];
    v140 = v138[18];
    v141 = v138[19];
    sub_10005DD90(v138[17], v140, &qword_10012B590, &qword_10010A8D0);
    if ((*(v139 + 48))(v140, 1, v141) == 1)
    {
      break;
    }

    v142 = v138[83];
    v143 = v138[73];
    v144 = v138[72];
    v145 = *(v138[18] + *(v138[19] + 48));
    v138[131] = v145;
    (*(v143 + 32))(v142);
    v146 = v138[83];
    v0 = v138;
    if (*(v145 + 16))
    {
      v168 = v138[81];
      v169 = v138[73];
      v170 = v138[72];
      v171 = v0[62];
      v172 = v0[16];
      static Log.session.getter();
      v173 = *(v169 + 16);
      v0[134] = v173;
      v0[135] = (v169 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
      v173(v168, v146, v170);
      swift_bridgeObjectRetain_n();

      v174 = Logger.logObject.getter();
      v175 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v174, v175))
      {
        v259 = v175;
        v269 = v0[124];
        v264 = v174;
        v266 = v0[96];
        v176 = v0[84];
        v252 = v0[81];
        bufb = v0[73];
        v177 = v0[72];
        v178 = v0[16];
        v248 = *&log->isa;
        v179 = *(v0 + 1261);
        v180 = swift_slowAlloc();
        v0[11] = swift_slowAlloc();
        *v180 = 136315650;
        v181 = PhotosFaceType.description.getter();
        v183 = v182;

        v184 = sub_100102F80(v181, v183, v0 + 11);

        *(v180 + 4) = v184;
        v185 = v0;
        *(v180 + 12) = 2080;
        v173(v176, v252, v177);
        v186 = *(bufb + 1);
        v186(v252, v177);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v187 = dispatch thunk of CustomStringConvertible.description.getter();
        v189 = v188;
        v253 = v186;
        v186(v176, v177);
        v190 = sub_100102F80(v187, v189, v0 + 11);

        *(v180 + 14) = v190;
        bufa = v180;
        *(v180 + 22) = 2080;
        v191 = swift_task_alloc();
        *v191 = v177;
        *(v191 + 8) = v269;
        *(v191 + 16) = v266;
        *(v191 + 24) = v248;
        v192 = swift_getKeyPath();

        v193 = *(v145 + 16);
        if (v193)
        {
          v194 = v0[27];
          v185[12] = _swiftEmptyArrayStorage;
          sub_10005C54C(0, v193, 0);
          v195 = v185[12];
          v196 = v185;
          v197 = v145 + ((*(v194 + 80) + 32) & ~*(v194 + 80));
          v267 = *(v194 + 16);
          v270 = *(v194 + 72);
          v0 = v196;
          do
          {
            v198 = v0[36];
            v199 = v271[27];
            v200 = v271[26];
            v267(v198, v197, v200);
            v201 = v192;
            swift_getAtKeyPath();
            v202 = v271[7];
            v203 = v271[8];
            (*(v199 + 8))(v198, v200);
            v0 = v271;
            v271[12] = v195;
            v205 = *(v195 + 16);
            v204 = *(v195 + 24);
            if (v205 >= v204 >> 1)
            {
              sub_10005C54C((v204 > 1), v205 + 1, 1);
              v195 = v271[12];
            }

            *(v195 + 16) = v205 + 1;
            v206 = v195 + 16 * v205;
            *(v206 + 32) = v202;
            *(v206 + 40) = v203;
            v197 += v270;
            --v193;
            v192 = v201;
          }

          while (v193);
        }

        v217 = v0[108];
        v218 = v0[62];
        v219 = v0[52];
        v220 = v0[53] + 8;
        v221 = Array.description.getter();
        v223 = v222;

        v224 = sub_100102F80(v221, v223, v0 + 11);

        *(bufa + 3) = v224;
        _os_log_impl(&_mh_execute_header, v264, v259, "Inserting %s %s: %s", bufa, 0x20u);
        swift_arrayDestroy();

        v217(v218, v219);
        v216 = v253;
      }

      else
      {
        v207 = v271[108];
        v208 = v271[81];
        v209 = v271[73];
        v210 = v271[72];
        v211 = v271[62];
        v212 = v271[53];
        v213 = v271[52];
        v214 = v271[16];

        v215 = v208;
        v216 = *(v209 + 8);
        v216(v215, v210);

        v207(v211, v213);
        v0 = v271;
      }

      v0[136] = v216;
      v225 = v0[16];
      v226 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
      v227 = swift_task_alloc();
      v0[137] = v227;
      *v227 = v0;
      v227[1] = sub_1000C8188;
      v228 = v0[126];
      v229 = v0[96];
      v230 = v0[83];

      return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v230, v229, v228);
    }

    v147 = v138[82];
    v148 = v138[73];
    v149 = v138[72];
    v150 = v0[63];

    static Log.session.getter();
    v1 = *(v148 + 16);
    (v1)(v147, v146, v149);
    v151 = Logger.logObject.getter();
    v152 = static os_log_type_t.error.getter();
    v268 = v151;
    v153 = os_log_type_enabled(v151, v152);
    v265 = v0[108];
    if (v153)
    {
      v154 = v0[84];
      v257 = v0[83];
      v263 = v125;
      v155 = v0[82];
      v156 = v0[73];
      v23 = v0[72];
      v251 = v0[52];
      buf = v0[63];
      v250 = v0[53] + 8;
      LODWORD(v246) = v152;
      KeyPath = swift_slowAlloc();
      v247 = swift_slowAlloc();
      v273[0] = v247;
      *KeyPath = 136315138;
      (v1)(v154, v155, v23);
      v157 = *(v156 + 8);
      v17 = v156 + 8;
      v157(v155, v23);
      sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
      v158 = dispatch thunk of CustomStringConvertible.description.getter();
      v160 = v159;
      v157(v154, v23);
      v161 = sub_100102F80(v158, v160, v273);

      *(KeyPath + 4) = v161;
      _os_log_impl(&_mh_execute_header, v268, v246, "There are no valid synced faces per day for %s; skipping", KeyPath, 0xCu);
      v25 = v247;
      sub_10000C304(v247);

      v265(buf, v251);
      v157(v257, v23);
      v24 = v263;
      if (!v13)
      {
        goto LABEL_57;
      }
    }

    else
    {
      v122 = v0[83];
      KeyPath = v271[72];
      v25 = v271[63];
      v17 = v271[52];
      v23 = v271[53] + 8;
      v123 = *(v271[73] + 8);
      v123(v0[82], KeyPath);

      v265(v25, v17);
      v123(v122, KeyPath);
      v0 = v271;
      v24 = v125;
      if (!v13)
      {
        goto LABEL_57;
      }
    }
  }

  v162 = v138[128];
  v163 = v138[122];
  v164 = v138[16];

  v165 = *(v164 + 104);
  v166 = swift_task_alloc();
  v138[132] = v166;
  *v166 = v138;
  v166[1] = sub_1000C8058;

  return sub_10006254C();
}

uint64_t sub_1000C626C()
{
  v0[13] = v0[118];
  v1 = async function pointer to Sequence.asyncMap<A>(predicate:)[1];
  v2 = swift_task_alloc();
  v0[119] = v2;
  v3 = sub_10000560C(&qword_10012B4D0, &qword_10010A358);
  v4 = sub_10000CC24(&qword_10012B4D8, &qword_10012B4D0, &qword_10010A358);
  *v2 = v0;
  v2[1] = sub_1000C6388;
  v5 = v0[117];
  v6 = v0[23];

  return Sequence.asyncMap<A>(predicate:)(&unk_10010A8F8, v5, v3, v6, v4);
}

uint64_t sub_1000C6388()
{
  v2 = *v1;
  v3 = *(*v1 + 952);
  v9 = *v1;
  *(*v1 + 960) = v0;

  if (v0)
  {
    v4 = sub_1000C65E8;
    v5 = 0;
    v6 = 0;
  }

  else
  {
    v7 = v2[118];

    v6 = v2[103];
    v5 = v2[102];
    v4 = sub_1000C64C8;
  }

  return _swift_task_switch(v4, v5, v6);
}

uint64_t sub_1000C64C8()
{
  v1 = *(v0 + 216) + 8;
  (*(v0 + 928))(*(v0 + 344), *(v0 + 208));
  *(v0 + 888) = *(v0 + 920);
  v2 = *(v0 + 808);
  v3 = *(v0 + 752);
  v4 = static CommunicationActor.shared.getter();
  *(v0 + 896) = v4;
  v5 = sub_10000CC24(&qword_10012B5B8, &qword_10012B5A0, &qword_10010A8E0);
  v6 = _sScI4next9isolation7ElementQzSgScA_pSgYi_tYa7FailureQzYKFTjTu[1];
  v7 = swift_task_alloc();
  *(v0 + 904) = v7;
  *v7 = v0;
  v7[1] = sub_1000C2908;
  v8 = *(v0 + 376);
  v9 = *(v0 + 352);
  v10 = *(v0 + 360);

  return __sScI4next9isolation7ElementQzSgScA_pSgYi_tYa7FailureQzYKFTj(v9, v4, v2, v0 + 72, v10, v5);
}

uint64_t sub_1000C65E8()
{
  v1 = v0[118];

  v2 = v0[103];
  v3 = v0[102];

  return _swift_task_switch(sub_1000C6650, v3, v2);
}

uint64_t sub_1000C6650()
{
  v278 = v0;
  v3 = v0[46];
  v2 = v0[47];
  v4 = v0[45];
  v5 = v0[27] + 8;
  (v0[116])(v0[43], v0[26]);
  (*(v3 + 8))(v2, v4);
  v6 = v0[120];
  v7 = v0[115];
  v8 = v0[66];
  static Log.session.getter();
  swift_errorRetain();
  v9 = Logger.logObject.getter();
  v10 = static os_log_type_t.error.getter();

  if (os_log_type_enabled(v9, v10))
  {
    v11 = swift_slowAlloc();
    v12 = swift_slowAlloc();
    *v11 = 138412290;
    swift_errorRetain();
    v13 = _swift_stdlib_bridgeErrorToNSError();
    *(v11 + 4) = v13;
    *v12 = v13;
    _os_log_impl(&_mh_execute_header, v9, v10, "StreamError during sync: %@", v11, 0xCu);
    sub_10000C460(v12, &qword_100129EF8, &qword_100108C70);
  }

  v14 = v0[108];
  v15 = v0[66];
  v16 = v0[52];
  v17 = v0[53];

  v14(v15, v16);
  v0[122] = v7;
  v264 = v6;
  v0[121] = v6;
  v18 = v0[96];
  v19 = v0[72];
  v20 = sub_1000FAACC(&qword_10012A048, &type metadata accessor for AlbumID);
  v0[123] = v20;
  v269 = v20;
  v21 = static SyncedPhotosFace.destreamify(_:)();
  v22 = swift_task_alloc();
  *v22 = v19;
  v23 = type metadata accessor for AlbumProvider();
  v0[124] = v23;
  v244 = v23;
  v22[1] = v23;
  v22[2] = v18;
  v24 = sub_1000FAACC(&qword_10012B5C0, type metadata accessor for AlbumProvider);
  v0[125] = v24;
  v243 = v24;
  v22[3] = v24;
  v25 = sub_1000FAACC(&qword_10012A490, &type metadata accessor for AlbumDatabase);
  v0[126] = v25;
  v242 = v25;
  v22[4] = v25;
  KeyPath = swift_getKeyPath();

  v27 = *(v21 + 16);
  if (!v27)
  {
    v29 = _swiftEmptyArrayStorage;
LABEL_15:

    if (v264)
    {
      v40 = v0[65];
      static Log.session.getter();

      v41 = Logger.logObject.getter();
      v42 = static os_log_type_t.error.getter();
      if (os_log_type_enabled(v41, v42))
      {
        v43 = v29;
        v44 = swift_slowAlloc();
        *v44 = 134218240;
        *(v44 + 4) = v43[2];

        *(v44 + 12) = 2048;
        v45 = *(v21 + 16);

        *(v44 + 14) = v45;

        _os_log_impl(&_mh_execute_header, v41, v42, "An error occurred during sync. Only %ld / %ld finished successfully.", v44, 0x16u);
        v29 = v43;
      }

      else
      {
        swift_bridgeObjectRelease_n();
      }

      v46 = v0[53] + 8;
      (v0[108])(v0[65], v0[52]);
    }

    else
    {
    }

    v47 = v29[2];
    v1 = _swiftEmptyArrayStorage;
    v275 = v0;
    if (v47)
    {
      v48 = v0[27];
      v49 = v29 + ((*(v48 + 80) + 32) & ~*(v48 + 80));
      v50 = *(v48 + 72);
      v51 = *(v48 + 16);
      v241 = v29;

      v253 = v50;
      v265 = v51;
      do
      {
        v272 = v1;
        v52 = v0[72];
        v53 = v0[27] + 16;
        v51(v0[29], v49, v0[26]);
        SyncedPhotosFace.photos.getter();
        v54 = static SyncedPhotosFace.faceChecksum(for:)();

        v55 = SyncedPhotosFace.checksum.getter();
        if (v55 < 0 || (v56 = v55, v55 == v54))
        {
          (*(v0[27] + 8))(v0[29], v0[26]);
          v51 = v265;
          v1 = v272;
        }

        else
        {
          v57 = v0[54];
          v59 = v0[28];
          v58 = v0[29];
          v60 = v0[26];
          static Log.session.getter();
          v265(v59, v58, v60);
          v61 = Logger.logObject.getter();
          v62 = static os_log_type_t.error.getter();
          v63 = os_log_type_enabled(v61, v62);
          v64 = v0[108];
          buf = v0[54];
          v255 = v0[52];
          if (v63)
          {
            v262 = v0[36];
            v248 = v62;
            v250 = v0[53] + 8;
            v251 = v47;
            loga = v61;
            v65 = v0[27];
            v66 = v0[28];
            v67 = v0[26];
            v249 = v0[108];
            v68 = swift_slowAlloc();
            v245 = swift_slowAlloc();
            v277[0] = v245;
            *v68 = 134218498;
            *(v68 + 4) = v54;
            *(v68 + 12) = 2048;
            *(v68 + 14) = v56;
            *(v68 + 22) = 2080;
            v265(v262, v66, v67);
            v69 = *(v65 + 8);
            v69(v66, v67);
            sub_10000CC24(&qword_10012A798, &qword_100129F70, &qword_100108D90);
            v70 = v262;
            v71 = dispatch thunk of CustomStringConvertible.description.getter();
            v73 = v72;
            v74 = v67;
            v47 = v251;
            v261 = v69;
            v69(v70, v74);
            v75 = sub_100102F80(v71, v73, v277);

            *(v68 + 24) = v75;
            _os_log_impl(&_mh_execute_header, loga, v248, "Validation error: actual %ld, expected %ld for face %s", v68, 0x20u);
            sub_10000C304(v245);

            v249(buf, v255);
          }

          else
          {
            v261 = *(v0[27] + 8);
            (v261)(v0[28], v0[26]);

            v64(buf, v255);
          }

          v76 = v0[87];
          v77 = v0[74];
          v78 = v0;
          v79 = v0[73];
          v80 = v78[72];
          v81 = v78[29];
          v82 = v78[26];
          SyncedPhotosFace.id.getter();
          dispatch thunk of PhotosFaceID.id.getter();
          (*(v79 + 8))(v77, v80);
          v1 = v272;
          v50 = v253;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            v1 = sub_1000FFFC8(0, *(v272 + 16) + 1, 1, v272);
          }

          v51 = v265;
          v84 = *(v1 + 16);
          v83 = *(v1 + 24);
          if (v84 >= v83 >> 1)
          {
            v1 = sub_1000FFFC8(v83 > 1, v84 + 1, 1, v1);
          }

          v85 = v275[87];
          v86 = v275[86];
          v87 = v275[85];
          v88 = v275[27] + 8;
          (v261)(v275[29], v275[26]);
          *(v1 + 16) = v84 + 1;
          (*(v86 + 32))(v1 + ((*(v86 + 80) + 32) & ~*(v86 + 80)) + *(v86 + 72) * v84, v85, v87);
          v0 = v275;
        }

        v49 += v50;
        v47 = (v47 - 1);
      }

      while (v47);
      v89 = v241;
    }

    else
    {
      v89 = v29;
    }

    v0[127] = v1;
    v90 = v0[96];
    v91 = v0[72];
    v92 = v0[64];
    v93 = v0[16];
    v94 = swift_task_alloc();
    *v94 = v91;
    v94[1] = v244;
    v94[2] = v90;
    v94[3] = v243;
    v94[4] = v242;
    v95 = swift_getKeyPath();

    KeyPath = sub_1000FA698(v89, v95);
    v0[128] = KeyPath;

    static Log.session.getter();
    swift_bridgeObjectRetain_n();

    v96 = Logger.logObject.getter();
    v97 = static os_log_type_t.default.getter();
    if (!os_log_type_enabled(v96, v97))
    {
      v27 = v0[108];
      v113 = v0[64];
      v29 = v0[52];
      v114 = v0[53];
      v21 = v0[16];
      swift_bridgeObjectRelease_n();

      (v27)(v113, v29);
      goto LABEL_50;
    }

    LOBYTE(v255) = v97;
    v98 = v0[16];
    v99 = *(v0 + 1261);
    v100 = swift_slowAlloc();
    v276 = swift_slowAlloc();
    *v100 = 134218498;
    *(v100 + 4) = *(KeyPath + 16);
    *(v100 + 12) = 2080;
    v101 = PhotosFaceType.description.getter();
    v103 = v102;

    v104 = sub_100102F80(v101, v103, &v276);

    *(v100 + 14) = v104;
    buf = v100;
    *(v100 + 22) = 2080;
    v105 = *(KeyPath + 16);
    if (!v105)
    {

      goto LABEL_49;
    }

    v250 = v96;
    v106 = v0[73];
    v272 = v0[19];
    v277[0] = _swiftEmptyArrayStorage;
    v251 = v105;
    sub_10005C54C(0, v105, 0);
    v107 = v277[0];
    v108 = -1 << *(KeyPath + 32);
    v269 = (KeyPath + 64);
    v1 = _HashTable.startBucket.getter();
    v266 = v0[72];
    v110 = v0[21];
    v109 = v0[22];
    LODWORD(v28) = *(KeyPath + 36);
    v111 = sub_1000F44C8(v109, v1, v28, 0, KeyPath, &type metadata accessor for AlbumID);
    v112 = *(v106 + 32);
    v112(v110, v109, v266);
    *(v110 + *(v272 + 48)) = v111;
    v17 = sub_1000E1360(v110);
    v21 = v115;
    v261 = v112;
    sub_10000C460(v0[21], &qword_10012B598, &qword_10010A8D8);
    v27 = *(v107 + 16);
    v30 = *(v107 + 24);
    v29 = (v27 + 1);
    if (v27 < v30 >> 1)
    {
      goto LABEL_43;
    }

    goto LABEL_101;
  }

  v28 = 0;
  v29 = _swiftEmptyArrayStorage;
  v272 = *(v21 + 16);
  v275 = v21;
  while (1)
  {
    v30 = *(v21 + 16);
    if (v28 >= v30)
    {
      break;
    }

    v31 = v0[27];
    v32 = *(v31 + 16);
    v31 += 16;
    v1 = (*(v31 + 64) + 32) & ~*(v31 + 64);
    v33 = *(v31 + 56);
    v32(v0[38], v21 + v1 + v33 * v28, v0[26]);
    swift_getAtKeyPath();
    v34 = v0[38];
    if (*(v0 + 1260) == 1)
    {
      v35 = *(v0[27] + 32);
      v35(v0[37], v0[38], v0[26]);
      v277[0] = v29;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_10005C758(0, v29[2] + 1, 1);
        v29 = v277[0];
      }

      v17 = v29[2];
      v36 = v29[3];
      v37 = v29;
      if (v17 >= v36 >> 1)
      {
        sub_10005C758(v36 > 1, v17 + 1, 1);
        v37 = v277[0];
      }

      v38 = v0[37];
      v39 = v0[26];
      *(v37 + 16) = v17 + 1;
      v35(v37 + v1 + v17 * v33, v38, v39);
      v29 = v37;
      v27 = v272;
      v21 = v275;
    }

    else
    {
      (*(v0[27] + 8))(v0[38], v0[26]);
    }

    if (v27 == ++v28)
    {
      goto LABEL_15;
    }
  }

  while (2)
  {
    __break(1u);
LABEL_98:
    __break(1u);
LABEL_99:
    __break(1u);
    do
    {
LABEL_100:
      __break(1u);
LABEL_101:
      sub_10005C54C((v30 > 1), v29, 1);
      v107 = v277[0];
LABEL_43:
      *(v107 + 16) = v29;
      v30 = v107 + 16 * v27;
      *(v30 + 32) = v17;
      *(v30 + 40) = v21;
      if (v1 < 0)
      {
        goto LABEL_98;
      }

      v30 = -1 << *(KeyPath + 32);
      if (v1 >= -v30)
      {
        goto LABEL_98;
      }

      if (((*(v269 + ((v1 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v1) & 1) == 0)
      {
        goto LABEL_99;
      }
    }

    while (v28 != *(KeyPath + 36));
    v116 = _HashTable.occupiedBucket(after:)();
    v117 = v251 - 1;
    if (v251 != 1)
    {
      v1 = v116;
      do
      {
        v235 = v0[72];
        v237 = v0[21];
        v236 = v0[22];
        LODWORD(v28) = *(KeyPath + 36);
        v238 = sub_1000F44C8(v236, v1, v28, 0, KeyPath, &type metadata accessor for AlbumID);
        v261(v237, v236, v235);
        *(v237 + *(v272 + 48)) = v238;
        v21 = sub_1000E1360(v237);
        v17 = v239;
        sub_10000C460(v0[21], &qword_10012B598, &qword_10010A8D8);
        v277[0] = v107;
        v27 = *(v107 + 16);
        v240 = *(v107 + 24);
        v29 = (v27 + 1);
        if (v27 >= v240 >> 1)
        {
          sub_10005C54C((v240 > 1), v27 + 1, 1);
          v107 = v277[0];
        }

        *(v107 + 16) = v29;
        v30 = v107 + 16 * v27;
        *(v30 + 32) = v21;
        *(v30 + 40) = v17;
        if (v1 < 0)
        {
          goto LABEL_98;
        }

        v30 = -1 << *(KeyPath + 32);
        if (v1 >= -v30)
        {
          goto LABEL_98;
        }

        if (((*(v269 + ((v1 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v1) & 1) == 0)
        {
          goto LABEL_99;
        }

        if (v28 != *(KeyPath + 36))
        {
          goto LABEL_100;
        }

        v1 = _HashTable.occupiedBucket(after:)();
      }

      while (--v117);
    }

    v96 = v250;
LABEL_49:
    v118 = v0[108];
    v29 = v0[64];
    v119 = v0[52];
    v1 = v0[53] + 8;
    v120 = Array.description.getter();
    v27 = v121;

    v122 = sub_100102F80(v120, v27, &v276);

    v21 = buf;
    *(buf + 3) = v122;
    _os_log_impl(&_mh_execute_header, v96, v255, "Received %ld %s: %s", buf, 0x20u);
    swift_arrayDestroy();

    v118(v29, v119);
LABEL_50:
    log = (v0 + 125);
    v123 = *(KeyPath + 32);
    *(v0 + 1262) = v123;
    v124 = 1 << v123;
    if (v124 < 64)
    {
      v125 = ~(-1 << v124);
    }

    else
    {
      v125 = -1;
    }

    v17 = v125 & *(KeyPath + 64);

    v28 = 0;
    if (!v17)
    {
LABEL_57:
      v30 = ((1 << *(v0 + 1262)) + 63) >> 6;
      if (v30 <= (v28 + 1))
      {
        v128 = v28 + 1;
      }

      else
      {
        v128 = ((1 << *(v0 + 1262)) + 63) >> 6;
      }

      v129 = v128 - 1;
      while (1)
      {
        v130 = v28 + 1;
        if (__OFADD__(v28, 1))
        {
          break;
        }

        if (v130 >= v30)
        {
          (*(v0[20] + 56))(v0[17], 1, 1, v0[19]);
          v17 = 0;
          goto LABEL_66;
        }

        v27 = v0[128];
        v17 = *(v27 + 8 * v130 + 64);
        ++v28;
        if (v17)
        {
          v28 = v130;
          goto LABEL_65;
        }
      }

      __break(1u);
      continue;
    }

    break;
  }

  while (1)
  {
    v27 = v0[128];
LABEL_65:
    v131 = v0[84];
    v132 = v0[73];
    v133 = v0[72];
    v134 = v0[20];
    v135 = v275[19];
    v136 = v275[17];
    v137 = __clz(__rbit64(v17));
    v17 &= v17 - 1;
    v138 = v137 | (v28 << 6);
    (*(v132 + 16))(v131, *(v27 + 48) + *(v132 + 72) * v138, v133);
    v139 = *(*(v27 + 56) + 8 * v138);
    v140 = *(v135 + 48);
    (*(v132 + 32))(v136, v131, v133);
    *(v136 + v140) = v139;
    v141 = v135;
    v0 = v275;
    (*(v134 + 56))(v136, 0, 1, v141);

    v129 = v28;
LABEL_66:
    v0[130] = v129;
    v0[129] = v17;
    v142 = v0;
    v143 = v0[20];
    v144 = v142[18];
    v145 = v142[19];
    sub_10005DD90(v142[17], v144, &qword_10012B590, &qword_10010A8D0);
    if ((*(v143 + 48))(v144, 1, v145) == 1)
    {
      break;
    }

    v146 = v142[83];
    v147 = v142[73];
    v148 = v142[72];
    v149 = *(v142[18] + *(v142[19] + 48));
    v142[131] = v149;
    (*(v147 + 32))(v146);
    v150 = v142[83];
    v0 = v142;
    if (*(v149 + 16))
    {
      v172 = v142[81];
      v173 = v142[73];
      v174 = v142[72];
      v175 = v0[62];
      v176 = v0[16];
      static Log.session.getter();
      v177 = *(v173 + 16);
      v0[134] = v177;
      v0[135] = (v173 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
      v177(v172, v150, v174);
      swift_bridgeObjectRetain_n();

      v178 = Logger.logObject.getter();
      v179 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v178, v179))
      {
        v263 = v179;
        v273 = v0[124];
        v268 = v178;
        v270 = v0[96];
        v180 = v0[84];
        v256 = v0[81];
        bufb = v0[73];
        v181 = v0[72];
        v182 = v0[16];
        v252 = *&log->isa;
        v183 = *(v0 + 1261);
        v184 = swift_slowAlloc();
        v0[11] = swift_slowAlloc();
        *v184 = 136315650;
        v185 = PhotosFaceType.description.getter();
        v187 = v186;

        v188 = sub_100102F80(v185, v187, v0 + 11);

        *(v184 + 4) = v188;
        v189 = v0;
        *(v184 + 12) = 2080;
        v177(v180, v256, v181);
        v190 = *(bufb + 1);
        v190(v256, v181);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v191 = dispatch thunk of CustomStringConvertible.description.getter();
        v193 = v192;
        v257 = v190;
        v190(v180, v181);
        v194 = sub_100102F80(v191, v193, v0 + 11);

        *(v184 + 14) = v194;
        bufa = v184;
        *(v184 + 22) = 2080;
        v195 = swift_task_alloc();
        *v195 = v181;
        *(v195 + 8) = v273;
        *(v195 + 16) = v270;
        *(v195 + 24) = v252;
        v196 = swift_getKeyPath();

        v197 = *(v149 + 16);
        if (v197)
        {
          v198 = v0[27];
          v189[12] = _swiftEmptyArrayStorage;
          sub_10005C54C(0, v197, 0);
          v199 = v189[12];
          v200 = v189;
          v201 = v149 + ((*(v198 + 80) + 32) & ~*(v198 + 80));
          v271 = *(v198 + 16);
          v274 = *(v198 + 72);
          v0 = v200;
          do
          {
            v202 = v0[36];
            v203 = v275[27];
            v204 = v275[26];
            v271(v202, v201, v204);
            v205 = v196;
            swift_getAtKeyPath();
            v206 = v275[7];
            v207 = v275[8];
            (*(v203 + 8))(v202, v204);
            v0 = v275;
            v275[12] = v199;
            v209 = *(v199 + 16);
            v208 = *(v199 + 24);
            if (v209 >= v208 >> 1)
            {
              sub_10005C54C((v208 > 1), v209 + 1, 1);
              v199 = v275[12];
            }

            *(v199 + 16) = v209 + 1;
            v210 = v199 + 16 * v209;
            *(v210 + 32) = v206;
            *(v210 + 40) = v207;
            v201 += v274;
            --v197;
            v196 = v205;
          }

          while (v197);
        }

        v221 = v0[108];
        v222 = v0[62];
        v223 = v0[52];
        v224 = v0[53] + 8;
        v225 = Array.description.getter();
        v227 = v226;

        v228 = sub_100102F80(v225, v227, v0 + 11);

        *(bufa + 3) = v228;
        _os_log_impl(&_mh_execute_header, v268, v263, "Inserting %s %s: %s", bufa, 0x20u);
        swift_arrayDestroy();

        v221(v222, v223);
        v220 = v257;
      }

      else
      {
        v211 = v275[108];
        v212 = v275[81];
        v213 = v275[73];
        v214 = v275[72];
        v215 = v275[62];
        v216 = v275[53];
        v217 = v275[52];
        v218 = v275[16];

        v219 = v212;
        v220 = *(v213 + 8);
        v220(v219, v214);

        v211(v215, v217);
        v0 = v275;
      }

      v0[136] = v220;
      v229 = v0[16];
      v230 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
      v231 = swift_task_alloc();
      v0[137] = v231;
      *v231 = v0;
      v231[1] = sub_1000C8188;
      v232 = v0[126];
      v233 = v0[96];
      v234 = v0[83];

      return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v234, v233, v232);
    }

    v151 = v142[82];
    v152 = v142[73];
    v153 = v142[72];
    v154 = v0[63];

    static Log.session.getter();
    v1 = *(v152 + 16);
    (v1)(v151, v150, v153);
    v155 = Logger.logObject.getter();
    v156 = static os_log_type_t.error.getter();
    v272 = v155;
    v157 = os_log_type_enabled(v155, v156);
    v269 = v0[108];
    if (v157)
    {
      v158 = v0[84];
      v261 = v0[83];
      v267 = v129;
      v159 = v0[82];
      v160 = v0[73];
      v27 = v0[72];
      v255 = v0[52];
      buf = v0[63];
      v254 = v0[53] + 8;
      LODWORD(v250) = v156;
      KeyPath = swift_slowAlloc();
      v251 = swift_slowAlloc();
      v277[0] = v251;
      *KeyPath = 136315138;
      (v1)(v158, v159, v27);
      v161 = *(v160 + 8);
      v21 = v160 + 8;
      v161(v159, v27);
      sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
      v162 = dispatch thunk of CustomStringConvertible.description.getter();
      v164 = v163;
      v161(v158, v27);
      v165 = sub_100102F80(v162, v164, v277);

      *(KeyPath + 4) = v165;
      _os_log_impl(&_mh_execute_header, v272, v250, "There are no valid synced faces per day for %s; skipping", KeyPath, 0xCu);
      v29 = v251;
      sub_10000C304(v251);

      v269(buf, v255);
      v161(v261, v27);
      v28 = v267;
      if (!v17)
      {
        goto LABEL_57;
      }
    }

    else
    {
      v126 = v0[83];
      KeyPath = v275[72];
      v29 = v275[63];
      v21 = v275[52];
      v27 = v275[53] + 8;
      v127 = *(v275[73] + 8);
      v127(v0[82], KeyPath);

      v269(v29, v21);
      v127(v126, KeyPath);
      v0 = v275;
      v28 = v129;
      if (!v17)
      {
        goto LABEL_57;
      }
    }
  }

  v166 = v142[128];
  v167 = v142[122];
  v168 = v142[16];

  v169 = *(v168 + 104);
  v170 = swift_task_alloc();
  v142[132] = v170;
  *v170 = v142;
  v170[1] = sub_1000C8058;

  return sub_10006254C();
}

uint64_t sub_1000C8058()
{
  v2 = *v1;
  v3 = *(*v1 + 1056);
  v10 = *v1;
  *(*v1 + 1064) = v0;

  if (v0)
  {
    v4 = v2[128];
    v5 = v2[127];

    v6 = v2[103];
    v7 = v2[102];
    v8 = sub_1000CFB10;
  }

  else
  {
    v6 = v2[103];
    v7 = v2[102];
    v8 = sub_1000CF2F8;
  }

  return _swift_task_switch(v8, v7, v6);
}

uint64_t sub_1000C8188()
{
  v2 = *v1;
  v3 = *(*v1 + 1096);
  v9 = *v1;
  *(*v1 + 1104) = v0;

  if (v0)
  {
    v4 = v2[131];

    v5 = v2[103];
    v6 = v2[102];
    v7 = sub_1000C8D88;
  }

  else
  {
    v5 = v2[103];
    v6 = v2[102];
    v7 = sub_1000C82AC;
  }

  return _swift_task_switch(v7, v6, v5);
}

uint64_t sub_1000C82AC()
{
  v161 = v0;
  v1 = *(v0 + 1048);
  *(v0 + 1112) = sub_1000FAB14(v1);
  v2 = *(v1 + 16);
  *(v0 + 1120) = v2;
  if (!v2)
  {
LABEL_16:

    v69 = *(v0 + 1048);
    v70 = *(v0 + 984);
    v71 = *(v0 + 720);
    v72 = *(v0 + 664);
    v73 = *(v0 + 576);
    v74 = *(v0 + 128);

    dispatch thunk of PhotosFaceID.id.getter();
    v75 = async function pointer to dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryByDay(id:)[1];
    v76 = swift_task_alloc();
    *(v0 + 1128) = v76;
    *v76 = v0;
    v76[1] = sub_1000C9B00;
    v77 = *(v0 + 776);
    v78 = *(v0 + 768);
    v79 = *(v0 + 720);

    return dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryByDay(id:)(v79, v78, v77);
  }

  *(v0 + 1256) = *(*(v0 + 216) + 80);
  *(v0 + 1184) = 0;
  v3 = *(v0 + 1048);
  if (!*(v3 + 16))
  {
LABEL_14:
    __break(1u);
LABEL_15:
    v68 = *(v0 + 1112);
    goto LABEL_16;
  }

  v4 = 0;
  while (1)
  {
    v157 = *(v0 + 1080);
    v152 = *(v0 + 1072);
    v149 = *(v0 + 664);
    v5 = *(v0 + 608);
    v6 = *(v0 + 576);
    v7 = *(v0 + 456);
    v9 = *(v0 + 272);
    v8 = *(v0 + 280);
    v10 = *(v0 + 264);
    v154 = *(v0 + 256);
    v12 = *(v0 + 208);
    v11 = *(v0 + 216);
    v13 = *(v11 + 16);
    v13(v8, v3 + ((*(v0 + 1256) + 32) & ~*(v0 + 1256)) + *(v11 + 72) * v4, v12);
    static Log.session.getter();
    v13(v9, v8, v12);
    v152(v5, v149, v6);
    v13(v10, v8, v12);
    v150 = v13;
    v13(v154, v8, v12);
    v14 = Logger.logObject.getter();
    v15 = static os_log_type_t.default.getter();
    v158 = v14;
    v16 = os_log_type_enabled(v14, v15);
    v155 = *(v0 + 1088);
    if (v16)
    {
      v17 = *(v0 + 736);
      v131 = *(v0 + 984);
      v132 = *(v0 + 680);
      v18 = *(v0 + 608);
      v19 = *(v0 + 576);
      v145 = *(v0 + 456);
      v147 = *(v0 + 864);
      v143 = *(v0 + 416);
      v20 = *(v0 + 272);
      v133 = *(v0 + 688);
      v134 = *(v0 + 264);
      v136 = *(v0 + 256);
      v130 = *(v0 + 584) + 8;
      v141 = *(v0 + 424) + 8;
      v21 = *(v0 + 208);
      v22 = *(v0 + 216);
      type = v15;
      v23 = swift_slowAlloc();
      v160 = swift_slowAlloc();
      *v23 = 134218754;
      v24 = *(SyncedPhotosFace.photos.getter() + 16);

      v25 = *(v22 + 8);
      v25(v20, v21);
      *(v23 + 4) = v24;
      *(v23 + 12) = 2080;
      dispatch thunk of PhotosFaceID.id.getter();
      v155(v18, v19);
      sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
      v26 = dispatch thunk of CustomStringConvertible.description.getter();
      v28 = v27;
      (*(v133 + 8))(v17, v132);
      v29 = sub_100102F80(v26, v28, &v160);

      *(v23 + 14) = v29;
      *(v23 + 22) = 2048;
      v30 = SyncedPhotosFace.day.getter();
      v25(v134, v21);
      *(v23 + 24) = v30;
      *(v23 + 32) = 2080;
      SyncedPhotosFace.photos.getter();
      v25(v136, v21);
      v31 = Array.description.getter();
      v33 = v32;

      v34 = sub_100102F80(v31, v33, &v160);

      *(v23 + 34) = v34;
      _os_log_impl(&_mh_execute_header, v158, type, "Relating %ld photos for face %s on day %ld, photos = %s", v23, 0x2Au);
      swift_arrayDestroy();
    }

    else
    {
      v35 = *(v0 + 608);
      v36 = *(v0 + 576);
      v145 = *(v0 + 456);
      v147 = *(v0 + 864);
      v143 = *(v0 + 416);
      v37 = *(v0 + 272);
      v38 = *(v0 + 256);
      v39 = *(v0 + 208);
      v40 = *(v0 + 584) + 8;
      v41 = *(v0 + 424) + 8;
      v25 = *(*(v0 + 216) + 8);
      v25(*(v0 + 264), v39);
      v25(v37, v39);
      v25(v38, v39);
      v155(v35, v36);
    }

    v147(v145, v143);
    *(v0 + 1192) = v25;
    v42 = *(v0 + 1112);
    v43 = *(v0 + 280);
    v44 = *(v0 + 208);
    v45 = SyncedPhotosFace.day.getter();
    if (*(v42 + 16))
    {
      v46 = *(v0 + 1112);
      v47 = sub_100057BD0(v45);
      if (v48)
      {
        break;
      }
    }

    v49 = *(v0 + 448);
    v50 = *(v0 + 280);
    v51 = *(v0 + 248);
    v52 = *(v0 + 208);
    static Log.session.getter();
    v150(v51, v50, v52);
    v53 = Logger.logObject.getter();
    v54 = static os_log_type_t.error.getter();
    v55 = os_log_type_enabled(v53, v54);
    v56 = *(v0 + 248);
    v57 = *(v0 + 208);
    v58 = *(v0 + 216) + 8;
    if (v55)
    {
      v59 = swift_slowAlloc();
      *v59 = 134217984;
      v60 = SyncedPhotosFace.day.getter();
      v25(v56, v57);
      *(v59 + 4) = v60;
      _os_log_impl(&_mh_execute_header, v53, v54, "Cannot find the true day for day %ld; skipping", v59, 0xCu);
    }

    else
    {
      v25(*(v0 + 248), *(v0 + 208));
    }

    v61 = *(v0 + 864);
    v62 = *(v0 + 448);
    v63 = *(v0 + 416);
    v64 = *(v0 + 424);

    v61(v62, v63);
    v65 = *(v0 + 1120);
    v66 = *(v0 + 1184) + 1;
    v67 = (*(v0 + 216) + 8) & 0xFFFFFFFFFFFFLL | 0x4F8000000000000;
    (*(v0 + 1192))(*(v0 + 280), *(v0 + 208));
    if (v66 == v65)
    {
      goto LABEL_15;
    }

    v4 = *(v0 + 1184) + 1;
    *(v0 + 1184) = v4;
    v3 = *(v0 + 1048);
    if (v4 >= *(v3 + 16))
    {
      goto LABEL_14;
    }
  }

  v80 = *(v0 + 280);
  v81 = *(v0 + 208);
  v82 = *(*(*(v0 + 1112) + 56) + 8 * v47);
  if (SyncedPhotosFace.day.getter() != v82)
  {
    v156 = v82;
    v159 = v25;
    v83 = *(v0 + 1080);
    v84 = *(v0 + 1072);
    v85 = *(v0 + 664);
    v86 = *(v0 + 600);
    v87 = *(v0 + 576);
    v88 = *(v0 + 440);
    v89 = *(v0 + 280);
    v90 = *(v0 + 240);
    v91 = *(v0 + 208);
    static Log.session.getter();
    v84(v86, v85, v87);
    v150(v90, v89, v91);
    v92 = Logger.logObject.getter();
    v93 = static os_log_type_t.default.getter();
    v94 = os_log_type_enabled(v92, v93);
    v95 = *(v0 + 1088);
    if (v94)
    {
      v135 = *(v0 + 984);
      v153 = *(v0 + 864);
      v96 = *(v0 + 736);
      v97 = *(v0 + 688);
      v137 = *(v0 + 680);
      v144 = v93;
      v98 = *(v0 + 600);
      v99 = *(v0 + 576);
      v151 = *(v0 + 440);
      v148 = *(v0 + 416);
      v100 = *(v0 + 584) + 8;
      v146 = *(v0 + 424) + 8;
      v140 = *(v0 + 208);
      v142 = *(v0 + 216) + 8;
      *typea = *(v0 + 240);
      v101 = swift_slowAlloc();
      v102 = swift_slowAlloc();
      v160 = v102;
      *v101 = 136315650;
      dispatch thunk of PhotosFaceID.id.getter();
      v95(v98, v99);
      sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
      v103 = dispatch thunk of CustomStringConvertible.description.getter();
      v105 = v104;
      (*(v97 + 8))(v96, v137);
      v106 = sub_100102F80(v103, v105, &v160);

      *(v101 + 4) = v106;
      *(v101 + 12) = 2048;
      v107 = SyncedPhotosFace.day.getter();
      v159(*typea, v140);
      *(v101 + 14) = v107;
      *(v101 + 22) = 2048;
      v82 = v156;
      *(v101 + 24) = v156;
      _os_log_impl(&_mh_execute_header, v92, v144, "Face %s: mapping day %ld to %ld", v101, 0x20u);
      sub_10000C304(v102);

      v153(v151, v148);
    }

    else
    {
      v108 = *(v0 + 864);
      v109 = *(v0 + 600);
      v110 = *(v0 + 576);
      v111 = *(v0 + 440);
      v112 = *(v0 + 416);
      v113 = *(v0 + 584) + 8;
      v114 = *(v0 + 424) + 8;
      v115 = *(v0 + 216) + 8;
      v159(*(v0 + 240), *(v0 + 208));
      v95(v109, v110);

      v108(v111, v112);
      v82 = v156;
    }
  }

  v116 = *(v0 + 984);
  v117 = *(v0 + 704);
  v118 = *(v0 + 664);
  v119 = *(v0 + 576);
  v120 = *(v0 + 280);
  v121 = *(v0 + 208);
  v122 = *(v0 + 128);
  v123 = SyncedPhotosFace.photos.getter();
  *(v0 + 1200) = v123;
  dispatch thunk of PhotosFaceID.id.getter();
  v124 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.relate(photos:to:on:)[1];
  v125 = swift_task_alloc();
  *(v0 + 1208) = v125;
  *v125 = v0;
  v125[1] = sub_1000CD8F8;
  v126 = *(v0 + 1008);
  v127 = *(v0 + 768);
  v128 = *(v0 + 704);

  return dispatch thunk of PhotosFaceIDDatabase.relate(photos:to:on:)(v123, v128, v82, v127, v126);
}

uint64_t sub_1000C8D88()
{
  v175 = v0;
  v1 = *(v0 + 1104);
  v2 = *(v0 + 1080);
  v3 = *(v0 + 1072);
  v4 = *(v0 + 664);
  v5 = *(v0 + 616);
  v6 = *(v0 + 576);
  v7 = *(v0 + 464);
  static Log.session.getter();
  v3(v5, v4, v6);
  swift_errorRetain();
  v8 = Logger.logObject.getter();
  v9 = static os_log_type_t.error.getter();

  v172 = v0;
  if (os_log_type_enabled(v8, v9))
  {
    v10 = *(v0 + 1080);
    v143 = *(v0 + 1072);
    v160 = *(v0 + 864);
    v11 = *(v0 + 672);
    v164 = *(v0 + 664);
    v12 = *(v0 + 616);
    v13 = *(v0 + 576);
    loga = (*(v0 + 584) + 8);
    v154 = *(v0 + 424) + 8;
    v157 = *(v0 + 416);
    bufa = *(v0 + 464);
    v14 = *(v0 + 1088);
    v15 = swift_slowAlloc();
    v144 = swift_slowAlloc();
    v146 = swift_slowAlloc();
    v174 = v146;
    *v15 = 136315394;
    v143(v11, v12, v13);
    v14(v12, v13);
    sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
    v16 = dispatch thunk of CustomStringConvertible.description.getter();
    v18 = v17;
    v14(v11, v13);
    v19 = sub_100102F80(v16, v18, &v174);

    *(v15 + 4) = v19;
    *(v15 + 12) = 2112;
    swift_errorRetain();
    v20 = _swift_stdlib_bridgeErrorToNSError();
    *(v15 + 14) = v20;
    *v144 = v20;
    _os_log_impl(&_mh_execute_header, v8, v9, "Failed to update face %s: %@", v15, 0x16u);
    sub_10000C460(v144, &qword_100129EF8, &qword_100108C70);

    sub_10000C304(v146);

    v160(bufa, v157);
    v21 = (v14)(v164, v13);
  }

  else
  {
    v24 = *(v0 + 864);
    logb = *(v0 + 664);
    v25 = *(v0 + 576);
    v26 = *(v0 + 464);
    v27 = *(v0 + 416);
    v28 = *(v0 + 584) + 8;
    v29 = *(v0 + 424) + 8;
    v30 = v8;
    v31 = *(v0 + 1088);
    v31(*(v0 + 616), v25);

    v24(v26, v27);
    v31(logb, v25);
  }

  v32 = *(v0 + 1040);
  v33 = *(v0 + 1032);
  if (!v33)
  {
    goto LABEL_8;
  }

  while (1)
  {
    v45 = *(v0 + 1024);
LABEL_16:
    v50 = *(v0 + 672);
    v51 = *(v0 + 584);
    v52 = *(v0 + 576);
    v53 = *(v172 + 160);
    v54 = *(v172 + 152);
    v55 = *(v172 + 136);
    v56 = __clz(__rbit64(v33));
    v33 &= v33 - 1;
    v57 = v56 | (v32 << 6);
    (*(v51 + 16))(v50, *(v45 + 48) + *(v51 + 72) * v57, v52);
    v58 = *(*(v45 + 56) + 8 * v57);
    v59 = *(v54 + 48);
    (*(v51 + 32))(v55, v50, v52);
    *(v55 + v59) = v58;
    (*(v53 + 56))(v55, 0, 1, v54);
    v0 = v172;

    v48 = v32;
LABEL_17:
    *(v0 + 1040) = v48;
    *(v0 + 1032) = v33;
    v60 = *(v0 + 152);
    v61 = *(v0 + 160);
    v62 = *(v0 + 144);
    sub_10005DD90(*(v0 + 136), v62, &qword_10012B590, &qword_10010A8D0);
    if ((*(v61 + 48))(v62, 1, v60) == 1)
    {
      break;
    }

    v63 = *(v0 + 664);
    v64 = *(v0 + 584);
    v65 = *(v0 + 576);
    v66 = *(*(v0 + 144) + *(*(v0 + 152) + 48));
    *(v0 + 1048) = v66;
    (*(v64 + 32))(v63);
    v67 = *(v0 + 664);
    if (*(v66 + 16))
    {
      v88 = *(v0 + 648);
      v89 = *(v0 + 584);
      v90 = *(v0 + 576);
      v91 = *(v0 + 496);
      v92 = *(v0 + 128);
      static Log.session.getter();
      v93 = *(v89 + 16);
      *(v0 + 1072) = v93;
      *(v0 + 1080) = (v89 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
      v93(v88, v67, v90);
      swift_bridgeObjectRetain_n();

      v94 = Logger.logObject.getter();
      v95 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v94, v95))
      {
        v156 = v95;
        v159 = v94;
        v166 = *(v0 + 768);
        logc = *(v0 + 992);
        v96 = *(v0 + 672);
        v148 = *(v0 + 648);
        bufc = *(v0 + 584);
        v97 = *(v0 + 576);
        v98 = *(v0 + 128);
        v162 = *(v0 + 1000);
        v99 = *(v172 + 1261);
        v100 = swift_slowAlloc();
        *(v172 + 88) = swift_slowAlloc();
        *v100 = 136315650;
        v101 = PhotosFaceType.description.getter();
        v103 = v102;

        v0 = v172;
        v104 = sub_100102F80(v101, v103, (v172 + 88));

        *(v100 + 4) = v104;
        *(v100 + 12) = 2080;
        v93(v96, v148, v97);
        v105 = *(bufc + 1);
        v105(v148, v97);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v106 = dispatch thunk of CustomStringConvertible.description.getter();
        v108 = v107;
        v149 = v105;
        v105(v96, v97);
        v109 = sub_100102F80(v106, v108, (v172 + 88));

        *(v100 + 14) = v109;
        buf = v100;
        *(v100 + 22) = 2080;
        v110 = swift_task_alloc();
        *v110 = v97;
        *(v110 + 8) = logc;
        *(v110 + 16) = v166;
        *(v110 + 24) = v162;
        swift_getKeyPath();

        v111 = *(v66 + 16);
        if (v111)
        {
          v112 = *(v172 + 216);
          *(v172 + 96) = _swiftEmptyArrayStorage;
          sub_10005C54C(0, v111, 0);
          v113 = *(v172 + 96);
          v114 = v66 + ((*(v112 + 80) + 32) & ~*(v112 + 80));
          v167 = *(v112 + 72);
          v163 = *(v112 + 16);
          do
          {
            v115 = *(v172 + 288);
            v117 = *(v172 + 208);
            v116 = *(v172 + 216);
            v163(v115, v114, v117);
            swift_getAtKeyPath();
            v119 = *(v172 + 56);
            v118 = *(v172 + 64);
            (*(v116 + 8))(v115, v117);
            *(v172 + 96) = v113;
            v121 = *(v113 + 16);
            v120 = *(v113 + 24);
            if (v121 >= v120 >> 1)
            {
              sub_10005C54C((v120 > 1), v121 + 1, 1);
              v113 = *(v172 + 96);
            }

            *(v113 + 16) = v121 + 1;
            v122 = v113 + 16 * v121;
            *(v122 + 32) = v119;
            *(v122 + 40) = v118;
            v114 += v167;
            --v111;
          }

          while (v111);

          v0 = v172;
        }

        else
        {
        }

        v132 = *(v0 + 864);
        v133 = *(v0 + 496);
        v134 = *(v0 + 416);
        v135 = *(v0 + 424) + 8;
        v136 = Array.description.getter();
        v138 = v137;

        v139 = sub_100102F80(v136, v138, (v0 + 88));

        *(buf + 3) = v139;
        _os_log_impl(&_mh_execute_header, v159, v156, "Inserting %s %s: %s", buf, 0x20u);
        swift_arrayDestroy();

        v132(v133, v134);
        v131 = v149;
      }

      else
      {
        v173 = *(v0 + 864);
        v123 = *(v0 + 648);
        v124 = *(v0 + 584);
        v125 = *(v0 + 576);
        v126 = *(v0 + 496);
        v127 = *(v0 + 416);
        v128 = *(v0 + 424);
        v129 = *(v0 + 128);

        v130 = v123;
        v131 = *(v124 + 8);
        v131(v130, v125);

        v173(v126, v127);
      }

      *(v0 + 1088) = v131;
      v140 = *(v0 + 128);
      v141 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
      v142 = swift_task_alloc();
      *(v0 + 1096) = v142;
      *v142 = v0;
      v142[1] = sub_1000C8188;
      v23 = *(v0 + 1008);
      v22 = *(v0 + 768);
      v21 = *(v0 + 664);

      return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v21, v22, v23);
    }

    v68 = *(v0 + 656);
    v69 = *(v0 + 584);
    v70 = *(v0 + 576);
    v71 = *(v0 + 504);

    static Log.session.getter();
    v72 = *(v69 + 16);
    v72(v68, v67, v70);
    v73 = Logger.logObject.getter();
    v74 = static os_log_type_t.error.getter();
    log = v73;
    v75 = os_log_type_enabled(v73, v74);
    v165 = *(v0 + 864);
    if (v75)
    {
      v34 = *(v0 + 672);
      v158 = *(v0 + 664);
      v35 = *(v0 + 656);
      v36 = *(v0 + 584);
      v161 = v48;
      v37 = *(v172 + 576);
      v147 = *(v172 + 504);
      bufb = (*(v172 + 424) + 8);
      v155 = *(v172 + 416);
      v145 = v74;
      v38 = swift_slowAlloc();
      v39 = swift_slowAlloc();
      v174 = v39;
      *v38 = 136315138;
      v72(v34, v35, v37);
      v40 = *(v36 + 8);
      v40(v35, v37);
      sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
      v41 = dispatch thunk of CustomStringConvertible.description.getter();
      v43 = v42;
      v40(v34, v37);
      v44 = sub_100102F80(v41, v43, &v174);

      *(v38 + 4) = v44;
      _os_log_impl(&_mh_execute_header, log, v145, "There are no valid synced faces per day for %s; skipping", v38, 0xCu);
      sub_10000C304(v39);

      v165(v147, v155);
      v0 = v172;
      v21 = (v40)(v158, v37);
      v32 = v161;
      if (!v33)
      {
        goto LABEL_8;
      }
    }

    else
    {
      v76 = *(v0 + 664);
      v77 = *(v0 + 576);
      v78 = *(v0 + 504);
      v79 = *(v0 + 416);
      v80 = *(v0 + 424) + 8;
      v81 = *(*(v0 + 584) + 8);
      v81(*(v0 + 656), v77);

      v165(v78, v79);
      v21 = v81(v76, v77);
      v32 = v48;
      if (!v33)
      {
LABEL_8:
        v46 = ((1 << *(v0 + 1262)) + 63) >> 6;
        if (v46 <= (v32 + 1))
        {
          v47 = v32 + 1;
        }

        else
        {
          v47 = ((1 << *(v0 + 1262)) + 63) >> 6;
        }

        v48 = v47 - 1;
        while (1)
        {
          v49 = v32 + 1;
          if (__OFADD__(v32, 1))
          {
            break;
          }

          if (v49 >= v46)
          {
            (*(*(v0 + 160) + 56))(*(v0 + 136), 1, 1, *(v0 + 152));
            v33 = 0;
            goto LABEL_17;
          }

          v45 = *(v0 + 1024);
          v33 = *(v45 + 8 * v49 + 64);
          ++v32;
          if (v33)
          {
            v32 = v49;
            goto LABEL_16;
          }
        }

        __break(1u);
        return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v21, v22, v23);
      }
    }
  }

  v82 = *(v0 + 1024);
  v83 = *(v0 + 976);
  v84 = *(v0 + 128);

  v85 = *(v84 + 104);
  v86 = swift_task_alloc();
  *(v0 + 1056) = v86;
  *v86 = v0;
  v86[1] = sub_1000C8058;

  return sub_10006254C();
}

uint64_t sub_1000C9B00(uint64_t a1)
{
  v3 = *v2;
  v4 = *v2;
  v5 = *(*v2 + 1128);
  v6 = *v2;
  v4[142] = a1;
  v4[143] = v1;

  v7 = v3[90];
  v8 = v3[86];
  v9 = v3[85];
  v12 = *(v8 + 8);
  v10 = v8 + 8;
  v11 = v12;
  if (v1)
  {
    v11(v7, v9);
    v13 = v4[103];
    v14 = v4[102];
    v15 = sub_1000CB200;
  }

  else
  {
    v4[144] = v11;
    v4[145] = v10 & 0xFFFFFFFFFFFFLL | 0x4F8000000000000;
    v11(v7, v9);
    v13 = v4[103];
    v14 = v4[102];
    v15 = sub_1000C9C98;
  }

  return _swift_task_switch(v15, v14, v13);
}

uint64_t sub_1000C9C98()
{
  v291 = v0;
  v1 = v0;
  v2 = *(v0 + 1144);
  v3 = sub_10008A170(*(v0 + 1136));
  v4 = v2;
  v5 = v3[2];
  v6 = Set.init(minimumCapacity:)();
  v7 = v6;
  v288 = v1;
  if (v5)
  {
    v8 = 0;
    v9 = v6 + 56;
    do
    {
      while (1)
      {
        v10 = v3[v8++ + 4];
        v11 = *(v7 + 40);
        v12 = static Hasher._hash(seed:_:)();
        v13 = -1 << *(v7 + 32);
        v14 = v12 & ~v13;
        if ((*(v9 + ((v14 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v14))
        {
          break;
        }

LABEL_8:
        isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        v290[0] = v7;
        sub_1000671A4(v10, v14, isUniquelyReferenced_nonNull_native);
        if (v8 == v5)
        {
          goto LABEL_10;
        }

        v9 = v290[0] + 56;
      }

      v15 = ~v13;
      while (*(*(v7 + 48) + 8 * v14) != v10)
      {
        v14 = (v14 + 1) & v15;
        if (((*(v9 + ((v14 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v14) & 1) == 0)
        {
          goto LABEL_8;
        }
      }
    }

    while (v8 != v5);
LABEL_10:

    v1 = v288;
  }

  else
  {
  }

  v17 = *(v7 + 16);
  v18 = _swiftEmptyArrayStorage;
  if (v17)
  {
    sub_10000560C(&qword_10012A668, &qword_100109538);
    v18 = swift_allocObject();
    v19 = j__malloc_size(v18);
    v20 = v19 - 32;
    if (v19 < 32)
    {
      v20 = v19 - 25;
    }

    v18[2] = v17;
    v18[3] = 2 * (v20 >> 3);
    v21 = sub_10006BD04((v1 + 16), v18 + 4, v17, v7);
    v22 = *(v1 + 16);
    v23 = *(v1 + 24);
    v24 = v1;
    v25 = *(v1 + 32);
    v26 = *(v1 + 40);
    v27 = *(v24 + 48);

    v28 = sub_100010E54();
    if (v21 != v17)
    {
      goto LABEL_75;
    }

    v1 = v288;
  }

  *(v1 + 80) = v18;
  sub_1000F34E0((v1 + 80));
  if (!v4)
  {

    v34 = *(v1 + 80);
    v35 = *(v34 + 16);
    v36 = *(v1 + 1080);
    v37 = *(v1 + 1072);
    v38 = *(v1 + 664);
    v39 = *(v1 + 576);
    if (v35)
    {
      v40 = *(v1 + 640);
      v41 = *(v1 + 488);
      static Log.session.getter();
      v37(v40, v38, v39);

      v42 = Logger.logObject.getter();
      v43 = static os_log_type_t.info.getter();

      if (os_log_type_enabled(v42, v43))
      {
        v247 = *(v1 + 1152);
        v251 = *(v1 + 1160);
        v244 = *(v1 + 1088);
        v44 = *(v1 + 984);
        loga = *(v1 + 864);
        v45 = *(v288 + 736);
        v46 = *(v288 + 680);
        v261 = v43;
        v47 = *(v288 + 640);
        v48 = *(v288 + 576);
        v277 = *(v288 + 416);
        v49 = *(v288 + 584) + 8;
        v271 = *(v288 + 424) + 8;
        v266 = *(v288 + 488);
        v50 = swift_slowAlloc();
        v290[0] = swift_slowAlloc();
        *v50 = 136315650;
        dispatch thunk of PhotosFaceID.id.getter();
        v244(v47, v48);
        sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
        v51 = dispatch thunk of CustomStringConvertible.description.getter();
        v53 = v52;
        v54 = v45;
        v1 = v288;
        v247(v54, v46);
        v55 = sub_100102F80(v51, v53, v290);

        *(v50 + 4) = v55;
        *(v50 + 12) = 2048;
        *(v50 + 14) = v35;
        *(v50 + 22) = 2080;
        v56 = Array.description.getter();
        v58 = sub_100102F80(v56, v57, v290);

        *(v50 + 24) = v58;
        _os_log_impl(&_mh_execute_header, v42, v261, "Face %s now has %ld days of photos: %s", v50, 0x20u);
        swift_arrayDestroy();

        (loga)(v266, v277);
      }

      else
      {
        v76 = *(v1 + 864);
        v77 = *(v1 + 488);
        v78 = *(v1 + 416);
        v79 = *(v1 + 584) + 8;
        v80 = *(v1 + 424) + 8;
        (*(v1 + 1088))(*(v1 + 640), *(v1 + 576));

        v76(v77, v78);
      }

      v28 = static TestProperties.bufferSize.getter();
      if (v28 < v35)
      {
        v81 = v35 - v28;
        if (!__OFSUB__(v35, v28))
        {
          if ((v81 & 0x8000000000000000) == 0)
          {
            if (v81 < *(v34 + 16))
            {
              v82 = *(v1 + 1080);
              v83 = *(v1 + 1072);
              v84 = *(v1 + 664);
              v85 = *(v1 + 624);
              v86 = *(v1 + 576);
              v87 = *(v1 + 472);
              v88 = *(v34 + 8 * v81 + 32);

              static Log.session.getter();
              v83(v85, v84, v86);
              v89 = Logger.logObject.getter();
              v90 = static os_log_type_t.default.getter();
              if (os_log_type_enabled(v89, v90))
              {
                v253 = *(v1 + 1152);
                bufb = *(v1 + 1160);
                v249 = *(v1 + 1088);
                v246 = *(v1 + 984);
                v279 = *(v1 + 864);
                v91 = *(v288 + 736);
                v92 = *(v288 + 680);
                v93 = *(v288 + 624);
                v94 = *(v288 + 576);
                v95 = *(v288 + 584) + 8;
                v268 = (*(v288 + 424) + 8);
                v273 = *(v288 + 416);
                v263 = *(v288 + 472);
                logc = v88;
                v96 = swift_slowAlloc();
                v97 = swift_slowAlloc();
                v290[0] = v97;
                *v96 = 136315650;
                dispatch thunk of PhotosFaceID.id.getter();
                v249(v93, v94);
                sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
                v98 = dispatch thunk of CustomStringConvertible.description.getter();
                v100 = v99;
                v101 = v91;
                v1 = v288;
                v253(v101, v92);
                v102 = sub_100102F80(v98, v100, v290);

                *(v96 + 4) = v102;
                *(v96 + 12) = 2048;
                *(v96 + 14) = logc;
                *(v96 + 22) = 2048;
                *(v96 + 24) = v81;
                _os_log_impl(&_mh_execute_header, v89, v90, "Unrelating photos for %s older than %ld (%ld days of photos)", v96, 0x20u);
                sub_10000C304(v97);

                v88 = logc;

                v279(v263, v273);
              }

              else
              {
                v217 = *(v1 + 864);
                v218 = *(v1 + 472);
                v219 = *(v1 + 416);
                v220 = *(v1 + 584) + 8;
                v221 = *(v1 + 424) + 8;
                (*(v1 + 1088))(*(v1 + 624), *(v1 + 576));

                v217(v218, v219);
              }

              v222 = *(v1 + 984);
              v223 = *(v1 + 712);
              v224 = *(v1 + 664);
              v225 = *(v1 + 576);
              v226 = *(v1 + 128);
              dispatch thunk of PhotosFaceID.id.getter();
              v227 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.unrelatePhotos(for:before:)[1];
              v228 = swift_task_alloc();
              *(v1 + 1168) = v228;
              *v228 = v1;
              v228[1] = sub_1000CBF78;
              v31 = *(v1 + 1008);
              v30 = *(v1 + 768);
              v28 = *(v1 + 712);
              v29 = v88;

              return dispatch thunk of PhotosFaceIDDatabase.unrelatePhotos(for:before:)(v28, v29, v30, v31);
            }

LABEL_78:
            __break(1u);
            return dispatch thunk of PhotosFaceIDDatabase.unrelatePhotos(for:before:)(v28, v29, v30, v31);
          }

LABEL_77:
          __break(1u);
          goto LABEL_78;
        }

LABEL_76:
        __break(1u);
        goto LABEL_77;
      }

      v103 = *(v1 + 1136);
      v104 = *(v1 + 584) + 8;
      (*(v1 + 1088))(*(v1 + 664), *(v1 + 576));
    }

    else
    {
      v59 = *(v1 + 632);
      v60 = *(v1 + 480);
      v61 = *(v1 + 80);

      static Log.session.getter();
      v37(v59, v38, v39);
      v62 = Logger.logObject.getter();
      v63 = static os_log_type_t.error.getter();
      if (os_log_type_enabled(v62, v63))
      {
        v248 = *(v1 + 1160);
        v64 = *(v1 + 1088);
        v243 = *(v1 + 984);
        v245 = *(v1 + 1152);
        v65 = *(v1 + 736);
        v66 = *(v1 + 680);
        v278 = *(v1 + 664);
        logb = *(v1 + 864);
        v67 = *(v1 + 632);
        v68 = *(v1 + 576);
        v267 = *(v1 + 416);
        v272 = *(v1 + 1136);
        v69 = *(v1 + 584) + 8;
        bufa = *(v1 + 480);
        v262 = *(v1 + 424) + 8;
        v70 = swift_slowAlloc();
        v71 = swift_slowAlloc();
        v290[0] = v71;
        *v70 = 136315138;
        v252 = v68;
        dispatch thunk of PhotosFaceID.id.getter();
        v64(v67, v68);
        sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
        v72 = dispatch thunk of CustomStringConvertible.description.getter();
        v74 = v73;
        v245(v65, v66);
        v75 = sub_100102F80(v72, v74, v290);

        *(v70 + 4) = v75;
        _os_log_impl(&_mh_execute_header, v62, v63, "No related photos for %s after sync", v70, 0xCu);
        sub_10000C304(v71);

        v1 = v288;

        (logb)(bufa, v267);
        v28 = (v64)(v278, v252);
      }

      else
      {
        v105 = *(v1 + 1136);
        v106 = *(v1 + 1088);
        v107 = *(v1 + 864);
        v108 = *(v1 + 664);
        v109 = *(v1 + 632);
        v110 = *(v1 + 576);
        v111 = *(v1 + 480);
        v112 = *(v1 + 416);
        v113 = *(v1 + 584) + 8;
        v114 = *(v1 + 424) + 8;
        v106(v109, v110);

        v107(v111, v112);
        v1 = v288;
        v106(v108, v110);
      }
    }

    v115 = *(v1 + 1040);
    v116 = *(v1 + 1032);
    if (!v116)
    {
      goto LABEL_39;
    }

    do
    {
      while (1)
      {
        v129 = *(v1 + 1024);
LABEL_47:
        v134 = *(v1 + 672);
        v135 = *(v1 + 584);
        v136 = *(v1 + 576);
        v137 = *(v288 + 160);
        v138 = *(v288 + 152);
        v139 = *(v288 + 136);
        v140 = __clz(__rbit64(v116));
        v116 &= v116 - 1;
        v141 = v140 | (v115 << 6);
        (*(v135 + 16))(v134, *(v129 + 48) + *(v135 + 72) * v141, v136);
        v142 = *(*(v129 + 56) + 8 * v141);
        v143 = *(v138 + 48);
        (*(v135 + 32))(v139, v134, v136);
        *(v139 + v143) = v142;
        (*(v137 + 56))(v139, 0, 1, v138);
        v1 = v288;

        v132 = v115;
LABEL_48:
        *(v1 + 1040) = v132;
        *(v1 + 1032) = v116;
        v144 = *(v1 + 152);
        v145 = *(v1 + 160);
        v146 = *(v1 + 144);
        sub_10005DD90(*(v1 + 136), v146, &qword_10012B590, &qword_10010A8D0);
        if ((*(v145 + 48))(v146, 1, v144) == 1)
        {
          v166 = *(v1 + 1024);
          v167 = *(v1 + 976);
          v168 = *(v1 + 128);

          v169 = *(v168 + 104);
          v170 = swift_task_alloc();
          *(v1 + 1056) = v170;
          *v170 = v1;
          v170[1] = sub_1000C8058;

          return sub_10006254C();
        }

        v147 = *(v1 + 664);
        v148 = *(v1 + 584);
        v149 = *(v1 + 576);
        v150 = *(*(v1 + 144) + *(*(v1 + 152) + 48));
        *(v1 + 1048) = v150;
        (*(v148 + 32))(v147);
        v151 = *(v1 + 664);
        if (*(v150 + 16))
        {
          v171 = *(v1 + 648);
          v172 = *(v1 + 584);
          v173 = *(v1 + 576);
          v174 = *(v1 + 496);
          v175 = *(v1 + 128);
          static Log.session.getter();
          v176 = *(v172 + 16);
          *(v1 + 1072) = v176;
          *(v1 + 1080) = (v172 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
          v176(v171, v151, v173);
          swift_bridgeObjectRetain_n();

          v177 = Logger.logObject.getter();
          v178 = static os_log_type_t.default.getter();
          if (os_log_type_enabled(v177, v178))
          {
            v265 = v178;
            v270 = v177;
            v281 = *(v1 + 768);
            logd = *(v1 + 992);
            v179 = *(v1 + 672);
            bufd = *(v1 + 648);
            v180 = *(v1 + 584);
            v181 = *(v1 + 576);
            v182 = *(v1 + 128);
            v275 = *(v1 + 1000);
            v183 = *(v288 + 1261);
            v184 = swift_slowAlloc();
            *(v288 + 88) = swift_slowAlloc();
            *v184 = 136315650;
            v185 = PhotosFaceType.description.getter();
            v187 = v186;

            v188 = v185;
            v1 = v288;
            v189 = sub_100102F80(v188, v187, (v288 + 88));

            *(v184 + 4) = v189;
            *(v184 + 12) = 2080;
            v176(v179, bufd, v181);
            v190 = *(v180 + 8);
            v190(bufd, v181);
            sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
            v191 = dispatch thunk of CustomStringConvertible.description.getter();
            v193 = v192;
            v255 = v190;
            v190(v179, v181);
            v194 = sub_100102F80(v191, v193, (v288 + 88));

            *(v184 + 14) = v194;
            buf = v184;
            *(v184 + 22) = 2080;
            v195 = swift_task_alloc();
            *v195 = v181;
            *(v195 + 8) = logd;
            *(v195 + 16) = v281;
            *(v195 + 24) = v275;
            swift_getKeyPath();

            v196 = *(v150 + 16);
            if (v196)
            {
              v197 = *(v288 + 216);
              *(v288 + 96) = _swiftEmptyArrayStorage;
              sub_10005C54C(0, v196, 0);
              v198 = *(v288 + 96);
              v199 = v150 + ((*(v197 + 80) + 32) & ~*(v197 + 80));
              v282 = *(v197 + 72);
              v276 = *(v197 + 16);
              do
              {
                v200 = *(v288 + 288);
                v202 = *(v288 + 208);
                v201 = *(v288 + 216);
                v276(v200, v199, v202);
                swift_getAtKeyPath();
                v204 = *(v288 + 56);
                v203 = *(v288 + 64);
                (*(v201 + 8))(v200, v202);
                *(v288 + 96) = v198;
                v206 = *(v198 + 16);
                v205 = *(v198 + 24);
                if (v206 >= v205 >> 1)
                {
                  sub_10005C54C((v205 > 1), v206 + 1, 1);
                  v198 = *(v288 + 96);
                }

                *(v198 + 16) = v206 + 1;
                v207 = v198 + 16 * v206;
                *(v207 + 32) = v204;
                *(v207 + 40) = v203;
                v199 += v282;
                --v196;
              }

              while (v196);

              v1 = v288;
            }

            else
            {
            }

            v229 = *(v1 + 864);
            v230 = *(v1 + 496);
            v231 = *(v1 + 416);
            v232 = *(v1 + 424) + 8;
            v233 = Array.description.getter();
            v235 = v234;

            v236 = sub_100102F80(v233, v235, (v1 + 88));

            *(buf + 3) = v236;
            _os_log_impl(&_mh_execute_header, v270, v265, "Inserting %s %s: %s", buf, 0x20u);
            swift_arrayDestroy();

            v229(v230, v231);
            v216 = v255;
          }

          else
          {
            v289 = *(v1 + 864);
            v208 = *(v1 + 648);
            v209 = *(v1 + 584);
            v210 = *(v1 + 576);
            v211 = *(v1 + 496);
            v212 = *(v1 + 416);
            v213 = *(v1 + 424);
            v214 = *(v1 + 128);

            v215 = v208;
            v216 = *(v209 + 8);
            v216(v215, v210);

            v289(v211, v212);
          }

          *(v1 + 1088) = v216;
          v237 = *(v1 + 128);
          v238 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
          v239 = swift_task_alloc();
          *(v1 + 1096) = v239;
          *v239 = v1;
          v239[1] = sub_1000C8188;
          v240 = *(v1 + 1008);
          v241 = *(v1 + 768);
          v242 = *(v1 + 664);

          return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v242, v241, v240);
        }

        v152 = *(v1 + 656);
        v153 = *(v1 + 584);
        v154 = *(v1 + 576);
        v155 = *(v1 + 504);

        static Log.session.getter();
        v156 = *(v153 + 16);
        v156(v152, v151, v154);
        v157 = Logger.logObject.getter();
        v158 = static os_log_type_t.error.getter();
        log = v157;
        v159 = os_log_type_enabled(v157, v158);
        v280 = *(v1 + 864);
        if (!v159)
        {
          break;
        }

        v117 = *(v1 + 672);
        v274 = *(v1 + 664);
        v250 = v158;
        v254 = v132;
        v118 = *(v1 + 656);
        v119 = *(v1 + 584);
        v120 = *(v288 + 576);
        v269 = *(v288 + 504);
        bufc = (*(v288 + 424) + 8);
        v264 = *(v288 + 416);
        v121 = swift_slowAlloc();
        v122 = swift_slowAlloc();
        v290[0] = v122;
        *v121 = 136315138;
        v156(v117, v118, v120);
        v123 = *(v119 + 8);
        v123(v118, v120);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v124 = dispatch thunk of CustomStringConvertible.description.getter();
        v126 = v125;
        v123(v117, v120);
        v127 = sub_100102F80(v124, v126, v290);

        *(v121 + 4) = v127;
        _os_log_impl(&_mh_execute_header, log, v250, "There are no valid synced faces per day for %s; skipping", v121, 0xCu);
        sub_10000C304(v122);

        v280(v269, v264);
        v128 = v120;
        v1 = v288;
        v28 = (v123)(v274, v128);
        v115 = v254;
        if (!v116)
        {
          goto LABEL_39;
        }
      }

      v160 = *(v1 + 664);
      v161 = *(v1 + 576);
      v162 = *(v1 + 504);
      v163 = *(v1 + 416);
      v164 = *(v1 + 424) + 8;
      v165 = *(*(v1 + 584) + 8);
      v165(*(v1 + 656), v161);

      v280(v162, v163);
      v28 = v165(v160, v161);
      v115 = v132;
    }

    while (v116);
LABEL_39:
    v130 = ((1 << *(v1 + 1262)) + 63) >> 6;
    if (v130 <= (v115 + 1))
    {
      v131 = v115 + 1;
    }

    else
    {
      v131 = ((1 << *(v1 + 1262)) + 63) >> 6;
    }

    v132 = v131 - 1;
    while (1)
    {
      v133 = v115 + 1;
      if (__OFADD__(v115, 1))
      {
        break;
      }

      if (v133 >= v130)
      {
        (*(*(v1 + 160) + 56))(*(v1 + 136), 1, 1, *(v1 + 152));
        v116 = 0;
        goto LABEL_48;
      }

      v129 = *(v1 + 1024);
      v116 = *(v129 + 8 * v133 + 64);
      ++v115;
      if (v116)
      {
        v115 = v133;
        goto LABEL_47;
      }
    }

    __break(1u);
LABEL_75:
    __break(1u);
    goto LABEL_76;
  }

  v32 = *(v1 + 80);
}

uint64_t sub_1000CB200()
{
  v175 = v0;
  v1 = *(v0 + 1144);
  v2 = *(v0 + 1080);
  v3 = *(v0 + 1072);
  v4 = *(v0 + 664);
  v5 = *(v0 + 616);
  v6 = *(v0 + 576);
  v7 = *(v0 + 464);
  static Log.session.getter();
  v3(v5, v4, v6);
  swift_errorRetain();
  v8 = Logger.logObject.getter();
  v9 = static os_log_type_t.error.getter();

  v172 = v0;
  if (os_log_type_enabled(v8, v9))
  {
    v10 = *(v0 + 1080);
    v143 = *(v0 + 1072);
    v160 = *(v0 + 864);
    v11 = *(v0 + 672);
    v164 = *(v0 + 664);
    v12 = *(v0 + 616);
    v13 = *(v0 + 576);
    loga = (*(v0 + 584) + 8);
    v154 = *(v0 + 424) + 8;
    v157 = *(v0 + 416);
    bufa = *(v0 + 464);
    v14 = *(v0 + 1088);
    v15 = swift_slowAlloc();
    v144 = swift_slowAlloc();
    v146 = swift_slowAlloc();
    v174 = v146;
    *v15 = 136315394;
    v143(v11, v12, v13);
    v14(v12, v13);
    sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
    v16 = dispatch thunk of CustomStringConvertible.description.getter();
    v18 = v17;
    v14(v11, v13);
    v19 = sub_100102F80(v16, v18, &v174);

    *(v15 + 4) = v19;
    *(v15 + 12) = 2112;
    swift_errorRetain();
    v20 = _swift_stdlib_bridgeErrorToNSError();
    *(v15 + 14) = v20;
    *v144 = v20;
    _os_log_impl(&_mh_execute_header, v8, v9, "Failed to update face %s: %@", v15, 0x16u);
    sub_10000C460(v144, &qword_100129EF8, &qword_100108C70);

    sub_10000C304(v146);

    v160(bufa, v157);
    v21 = (v14)(v164, v13);
  }

  else
  {
    v24 = *(v0 + 864);
    logb = *(v0 + 664);
    v25 = *(v0 + 576);
    v26 = *(v0 + 464);
    v27 = *(v0 + 416);
    v28 = *(v0 + 584) + 8;
    v29 = *(v0 + 424) + 8;
    v30 = v8;
    v31 = *(v0 + 1088);
    v31(*(v0 + 616), v25);

    v24(v26, v27);
    v31(logb, v25);
  }

  v32 = *(v0 + 1040);
  v33 = *(v0 + 1032);
  if (!v33)
  {
    goto LABEL_8;
  }

  while (1)
  {
    v45 = *(v0 + 1024);
LABEL_16:
    v50 = *(v0 + 672);
    v51 = *(v0 + 584);
    v52 = *(v0 + 576);
    v53 = *(v172 + 160);
    v54 = *(v172 + 152);
    v55 = *(v172 + 136);
    v56 = __clz(__rbit64(v33));
    v33 &= v33 - 1;
    v57 = v56 | (v32 << 6);
    (*(v51 + 16))(v50, *(v45 + 48) + *(v51 + 72) * v57, v52);
    v58 = *(*(v45 + 56) + 8 * v57);
    v59 = *(v54 + 48);
    (*(v51 + 32))(v55, v50, v52);
    *(v55 + v59) = v58;
    (*(v53 + 56))(v55, 0, 1, v54);
    v0 = v172;

    v48 = v32;
LABEL_17:
    *(v0 + 1040) = v48;
    *(v0 + 1032) = v33;
    v60 = *(v0 + 152);
    v61 = *(v0 + 160);
    v62 = *(v0 + 144);
    sub_10005DD90(*(v0 + 136), v62, &qword_10012B590, &qword_10010A8D0);
    if ((*(v61 + 48))(v62, 1, v60) == 1)
    {
      break;
    }

    v63 = *(v0 + 664);
    v64 = *(v0 + 584);
    v65 = *(v0 + 576);
    v66 = *(*(v0 + 144) + *(*(v0 + 152) + 48));
    *(v0 + 1048) = v66;
    (*(v64 + 32))(v63);
    v67 = *(v0 + 664);
    if (*(v66 + 16))
    {
      v88 = *(v0 + 648);
      v89 = *(v0 + 584);
      v90 = *(v0 + 576);
      v91 = *(v0 + 496);
      v92 = *(v0 + 128);
      static Log.session.getter();
      v93 = *(v89 + 16);
      *(v0 + 1072) = v93;
      *(v0 + 1080) = (v89 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
      v93(v88, v67, v90);
      swift_bridgeObjectRetain_n();

      v94 = Logger.logObject.getter();
      v95 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v94, v95))
      {
        v156 = v95;
        v159 = v94;
        v166 = *(v0 + 768);
        logc = *(v0 + 992);
        v96 = *(v0 + 672);
        v148 = *(v0 + 648);
        bufc = *(v0 + 584);
        v97 = *(v0 + 576);
        v98 = *(v0 + 128);
        v162 = *(v0 + 1000);
        v99 = *(v172 + 1261);
        v100 = swift_slowAlloc();
        *(v172 + 88) = swift_slowAlloc();
        *v100 = 136315650;
        v101 = PhotosFaceType.description.getter();
        v103 = v102;

        v0 = v172;
        v104 = sub_100102F80(v101, v103, (v172 + 88));

        *(v100 + 4) = v104;
        *(v100 + 12) = 2080;
        v93(v96, v148, v97);
        v105 = *(bufc + 1);
        v105(v148, v97);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v106 = dispatch thunk of CustomStringConvertible.description.getter();
        v108 = v107;
        v149 = v105;
        v105(v96, v97);
        v109 = sub_100102F80(v106, v108, (v172 + 88));

        *(v100 + 14) = v109;
        buf = v100;
        *(v100 + 22) = 2080;
        v110 = swift_task_alloc();
        *v110 = v97;
        *(v110 + 8) = logc;
        *(v110 + 16) = v166;
        *(v110 + 24) = v162;
        swift_getKeyPath();

        v111 = *(v66 + 16);
        if (v111)
        {
          v112 = *(v172 + 216);
          *(v172 + 96) = _swiftEmptyArrayStorage;
          sub_10005C54C(0, v111, 0);
          v113 = *(v172 + 96);
          v114 = v66 + ((*(v112 + 80) + 32) & ~*(v112 + 80));
          v167 = *(v112 + 72);
          v163 = *(v112 + 16);
          do
          {
            v115 = *(v172 + 288);
            v117 = *(v172 + 208);
            v116 = *(v172 + 216);
            v163(v115, v114, v117);
            swift_getAtKeyPath();
            v119 = *(v172 + 56);
            v118 = *(v172 + 64);
            (*(v116 + 8))(v115, v117);
            *(v172 + 96) = v113;
            v121 = *(v113 + 16);
            v120 = *(v113 + 24);
            if (v121 >= v120 >> 1)
            {
              sub_10005C54C((v120 > 1), v121 + 1, 1);
              v113 = *(v172 + 96);
            }

            *(v113 + 16) = v121 + 1;
            v122 = v113 + 16 * v121;
            *(v122 + 32) = v119;
            *(v122 + 40) = v118;
            v114 += v167;
            --v111;
          }

          while (v111);

          v0 = v172;
        }

        else
        {
        }

        v132 = *(v0 + 864);
        v133 = *(v0 + 496);
        v134 = *(v0 + 416);
        v135 = *(v0 + 424) + 8;
        v136 = Array.description.getter();
        v138 = v137;

        v139 = sub_100102F80(v136, v138, (v0 + 88));

        *(buf + 3) = v139;
        _os_log_impl(&_mh_execute_header, v159, v156, "Inserting %s %s: %s", buf, 0x20u);
        swift_arrayDestroy();

        v132(v133, v134);
        v131 = v149;
      }

      else
      {
        v173 = *(v0 + 864);
        v123 = *(v0 + 648);
        v124 = *(v0 + 584);
        v125 = *(v0 + 576);
        v126 = *(v0 + 496);
        v127 = *(v0 + 416);
        v128 = *(v0 + 424);
        v129 = *(v0 + 128);

        v130 = v123;
        v131 = *(v124 + 8);
        v131(v130, v125);

        v173(v126, v127);
      }

      *(v0 + 1088) = v131;
      v140 = *(v0 + 128);
      v141 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
      v142 = swift_task_alloc();
      *(v0 + 1096) = v142;
      *v142 = v0;
      v142[1] = sub_1000C8188;
      v23 = *(v0 + 1008);
      v22 = *(v0 + 768);
      v21 = *(v0 + 664);

      return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v21, v22, v23);
    }

    v68 = *(v0 + 656);
    v69 = *(v0 + 584);
    v70 = *(v0 + 576);
    v71 = *(v0 + 504);

    static Log.session.getter();
    v72 = *(v69 + 16);
    v72(v68, v67, v70);
    v73 = Logger.logObject.getter();
    v74 = static os_log_type_t.error.getter();
    log = v73;
    v75 = os_log_type_enabled(v73, v74);
    v165 = *(v0 + 864);
    if (v75)
    {
      v34 = *(v0 + 672);
      v158 = *(v0 + 664);
      v35 = *(v0 + 656);
      v36 = *(v0 + 584);
      v161 = v48;
      v37 = *(v172 + 576);
      v147 = *(v172 + 504);
      bufb = (*(v172 + 424) + 8);
      v155 = *(v172 + 416);
      v145 = v74;
      v38 = swift_slowAlloc();
      v39 = swift_slowAlloc();
      v174 = v39;
      *v38 = 136315138;
      v72(v34, v35, v37);
      v40 = *(v36 + 8);
      v40(v35, v37);
      sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
      v41 = dispatch thunk of CustomStringConvertible.description.getter();
      v43 = v42;
      v40(v34, v37);
      v44 = sub_100102F80(v41, v43, &v174);

      *(v38 + 4) = v44;
      _os_log_impl(&_mh_execute_header, log, v145, "There are no valid synced faces per day for %s; skipping", v38, 0xCu);
      sub_10000C304(v39);

      v165(v147, v155);
      v0 = v172;
      v21 = (v40)(v158, v37);
      v32 = v161;
      if (!v33)
      {
        goto LABEL_8;
      }
    }

    else
    {
      v76 = *(v0 + 664);
      v77 = *(v0 + 576);
      v78 = *(v0 + 504);
      v79 = *(v0 + 416);
      v80 = *(v0 + 424) + 8;
      v81 = *(*(v0 + 584) + 8);
      v81(*(v0 + 656), v77);

      v165(v78, v79);
      v21 = v81(v76, v77);
      v32 = v48;
      if (!v33)
      {
LABEL_8:
        v46 = ((1 << *(v0 + 1262)) + 63) >> 6;
        if (v46 <= (v32 + 1))
        {
          v47 = v32 + 1;
        }

        else
        {
          v47 = ((1 << *(v0 + 1262)) + 63) >> 6;
        }

        v48 = v47 - 1;
        while (1)
        {
          v49 = v32 + 1;
          if (__OFADD__(v32, 1))
          {
            break;
          }

          if (v49 >= v46)
          {
            (*(*(v0 + 160) + 56))(*(v0 + 136), 1, 1, *(v0 + 152));
            v33 = 0;
            goto LABEL_17;
          }

          v45 = *(v0 + 1024);
          v33 = *(v45 + 8 * v49 + 64);
          ++v32;
          if (v33)
          {
            v32 = v49;
            goto LABEL_16;
          }
        }

        __break(1u);
        return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v21, v22, v23);
      }
    }
  }

  v82 = *(v0 + 1024);
  v83 = *(v0 + 976);
  v84 = *(v0 + 128);

  v85 = *(v84 + 104);
  v86 = swift_task_alloc();
  *(v0 + 1056) = v86;
  *v86 = v0;
  v86[1] = sub_1000C8058;

  return sub_10006254C();
}

uint64_t sub_1000CBF78()
{
  v2 = *v1;
  v3 = *(*v1 + 1168);
  v4 = *v1;
  *(*v1 + 1176) = v0;

  v5 = *(v2 + 1160);
  (*(v2 + 1152))(*(v2 + 712), *(v2 + 680));
  v6 = *(v2 + 824);
  v7 = *(v2 + 816);
  if (v0)
  {
    v8 = sub_1000CCB78;
  }

  else
  {
    v8 = sub_1000CC108;
  }

  return _swift_task_switch(v8, v7, v6);
}

uint64_t sub_1000CC108()
{
  v142 = v0;
  v1 = *(v0 + 1136);
  v2 = *(v0 + 1088);
  v3 = *(v0 + 664);
  v4 = *(v0 + 584);
  v5 = *(v0 + 576);

  v2(v3, v5);
  v9 = *(v0 + 1040);
  v10 = *(v0 + 1032);
  if (!v10)
  {
    goto LABEL_5;
  }

  while (1)
  {
    v17 = *(v0 + 1024);
LABEL_13:
    loga = *(v0 + 672);
    v22 = *(v0 + 584);
    v23 = *(v0 + 576);
    v24 = *(v0 + 152);
    v25 = *(v0 + 160);
    v26 = *(v0 + 136);
    v27 = __clz(__rbit64(v10));
    v10 &= v10 - 1;
    v28 = v27 | (v9 << 6);
    v29 = *(v17 + 48) + *(v22 + 72) * v28;
    (*(v22 + 16))();
    v30 = *(*(v17 + 56) + 8 * v28);
    v31 = *(v24 + 48);
    (*(v22 + 32))(v26, loga, v23);
    *(v26 + v31) = v30;
    (*(v25 + 56))(v26, 0, 1, v24);

    v20 = v9;
LABEL_14:
    *(v0 + 1040) = v20;
    *(v0 + 1032) = v10;
    v32 = *(v0 + 152);
    v33 = *(v0 + 160);
    v34 = *(v0 + 144);
    sub_10005DD90(*(v0 + 136), v34, &qword_10012B590, &qword_10010A8D0);
    if ((*(v33 + 48))(v34, 1, v32) == 1)
    {
      break;
    }

    v35 = *(v0 + 664);
    v36 = *(v0 + 584);
    v37 = *(v0 + 576);
    v38 = *(*(v0 + 144) + *(*(v0 + 152) + 48));
    *(v0 + 1048) = v38;
    (*(v36 + 32))(v35);
    v39 = *(v0 + 664);
    if (*(v38 + 16))
    {
      v64 = *(v0 + 648);
      v65 = *(v0 + 584);
      v66 = *(v0 + 576);
      v67 = *(v0 + 496);
      v68 = *(v0 + 128);
      static Log.session.getter();
      v69 = *(v65 + 16);
      *(v0 + 1072) = v69;
      *(v0 + 1080) = (v65 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
      v69(v64, v39, v66);
      swift_bridgeObjectRetain_n();

      v70 = Logger.logObject.getter();
      v71 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v70, v71))
      {
        v128 = v71;
        v130 = v70;
        v135 = *(v0 + 768);
        logb = *(v0 + 992);
        v72 = *(v0 + 672);
        v122 = *(v0 + 648);
        bufb = *(v0 + 584);
        v73 = *(v0 + 576);
        v74 = *(v0 + 128);
        v132 = *(v0 + 1000);
        v75 = *(v0 + 1261);
        v76 = swift_slowAlloc();
        *(v0 + 88) = swift_slowAlloc();
        *v76 = 136315650;
        v77 = PhotosFaceType.description.getter();
        v79 = v78;

        v80 = sub_100102F80(v77, v79, (v0 + 88));

        *(v76 + 4) = v80;
        *(v76 + 12) = 2080;
        v69(v72, v122, v73);
        v81 = *(bufb + 1);
        v81(v122, v73);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v82 = dispatch thunk of CustomStringConvertible.description.getter();
        v84 = v83;
        v123 = v81;
        v81(v72, v73);
        v85 = sub_100102F80(v82, v84, (v0 + 88));

        *(v76 + 14) = v85;
        buf = v76;
        *(v76 + 22) = 2080;
        v86 = swift_task_alloc();
        *v86 = v73;
        *(v86 + 8) = logb;
        *(v86 + 16) = v135;
        *(v86 + 24) = v132;
        swift_getKeyPath();

        v87 = *(v38 + 16);
        if (v87)
        {
          v88 = *(v0 + 216);
          *(v0 + 96) = _swiftEmptyArrayStorage;
          sub_10005C54C(0, v87, 0);
          v89 = *(v0 + 96);
          v90 = v38 + ((*(v88 + 80) + 32) & ~*(v88 + 80));
          v136 = *(v88 + 72);
          v133 = *(v88 + 16);
          do
          {
            v91 = *(v0 + 288);
            v93 = *(v0 + 208);
            v92 = *(v0 + 216);
            v133(v91, v90, v93);
            swift_getAtKeyPath();
            v95 = *(v0 + 56);
            v94 = *(v0 + 64);
            (*(v92 + 8))(v91, v93);
            *(v0 + 96) = v89;
            v97 = *(v89 + 16);
            v96 = *(v89 + 24);
            if (v97 >= v96 >> 1)
            {
              sub_10005C54C((v96 > 1), v97 + 1, 1);
              v89 = *(v0 + 96);
            }

            *(v89 + 16) = v97 + 1;
            v98 = v89 + 16 * v97;
            *(v98 + 32) = v95;
            *(v98 + 40) = v94;
            v90 += v136;
            --v87;
          }

          while (v87);
        }

        v108 = *(v0 + 864);
        v109 = *(v0 + 496);
        v110 = *(v0 + 416);
        v111 = *(v0 + 424) + 8;
        v112 = Array.description.getter();
        v114 = v113;

        v115 = sub_100102F80(v112, v114, (v0 + 88));

        *(buf + 3) = v115;
        _os_log_impl(&_mh_execute_header, v130, v128, "Inserting %s %s: %s", buf, 0x20u);
        swift_arrayDestroy();

        v108(v109, v110);
        v107 = v123;
      }

      else
      {
        logc = *(v0 + 864);
        v99 = *(v0 + 648);
        v100 = *(v0 + 584);
        v101 = *(v0 + 576);
        v102 = *(v0 + 496);
        v103 = *(v0 + 416);
        v104 = *(v0 + 424);
        v105 = *(v0 + 128);

        v106 = v99;
        v107 = *(v100 + 8);
        v107(v106, v101);

        (logc)(v102, v103);
      }

      *(v0 + 1088) = v107;
      v116 = *(v0 + 128);
      v117 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
      v118 = swift_task_alloc();
      *(v0 + 1096) = v118;
      *v118 = v0;
      v118[1] = sub_1000C8188;
      v8 = *(v0 + 1008);
      v7 = *(v0 + 768);
      v6 = *(v0 + 664);

      return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v6, v7, v8);
    }

    v40 = *(v0 + 656);
    v41 = *(v0 + 584);
    v42 = *(v0 + 576);
    v43 = *(v0 + 504);

    static Log.session.getter();
    v44 = *(v41 + 16);
    v44(v40, v39, v42);
    v45 = Logger.logObject.getter();
    v46 = static os_log_type_t.error.getter();
    log = v45;
    v47 = os_log_type_enabled(v45, v46);
    v134 = *(v0 + 864);
    if (v47)
    {
      v48 = *(v0 + 672);
      v129 = *(v0 + 664);
      v131 = v20;
      v49 = *(v0 + 656);
      v50 = *(v0 + 584);
      v51 = *(v0 + 576);
      bufa = *(v0 + 416);
      v127 = *(v0 + 504);
      v121 = *(v0 + 424) + 8;
      v119 = v46;
      v52 = swift_slowAlloc();
      v120 = swift_slowAlloc();
      v141 = v120;
      *v52 = 136315138;
      v44(v48, v49, v51);
      v53 = *(v50 + 8);
      v53(v49, v51);
      sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
      v54 = dispatch thunk of CustomStringConvertible.description.getter();
      v56 = v55;
      v53(v48, v51);
      v57 = sub_100102F80(v54, v56, &v141);

      *(v52 + 4) = v57;
      _os_log_impl(&_mh_execute_header, log, v119, "There are no valid synced faces per day for %s; skipping", v52, 0xCu);
      sub_10000C304(v120);

      v134(v127, bufa);
      v6 = (v53)(v129, v51);
      v9 = v131;
      if (!v10)
      {
LABEL_5:
        v18 = ((1 << *(v0 + 1262)) + 63) >> 6;
        if (v18 <= (v9 + 1))
        {
          v19 = v9 + 1;
        }

        else
        {
          v19 = ((1 << *(v0 + 1262)) + 63) >> 6;
        }

        v20 = v19 - 1;
        while (1)
        {
          v21 = v9 + 1;
          if (__OFADD__(v9, 1))
          {
            break;
          }

          if (v21 >= v18)
          {
            (*(*(v0 + 160) + 56))(*(v0 + 136), 1, 1, *(v0 + 152));
            v10 = 0;
            goto LABEL_14;
          }

          v17 = *(v0 + 1024);
          v10 = *(v17 + 8 * v21 + 64);
          ++v9;
          if (v10)
          {
            v9 = v21;
            goto LABEL_13;
          }
        }

        __break(1u);
        return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v6, v7, v8);
      }
    }

    else
    {
      v11 = *(v0 + 664);
      v12 = *(v0 + 576);
      v13 = *(v0 + 504);
      v14 = *(v0 + 416);
      v15 = *(v0 + 424) + 8;
      v16 = *(*(v0 + 584) + 8);
      v16(*(v0 + 656), v12);

      v134(v13, v14);
      v6 = v16(v11, v12);
      v9 = v20;
      if (!v10)
      {
        goto LABEL_5;
      }
    }
  }

  v58 = *(v0 + 1024);
  v59 = *(v0 + 976);
  v60 = *(v0 + 128);

  v61 = *(v60 + 104);
  v62 = swift_task_alloc();
  *(v0 + 1056) = v62;
  *v62 = v0;
  v62[1] = sub_1000C8058;

  return sub_10006254C();
}

uint64_t sub_1000CCB78()
{
  v176 = v0;
  v1 = *(v0 + 1136);

  v2 = *(v0 + 1176);
  v3 = *(v0 + 1080);
  v4 = *(v0 + 1072);
  v5 = *(v0 + 664);
  v6 = *(v0 + 616);
  v7 = *(v0 + 576);
  v8 = *(v0 + 464);
  static Log.session.getter();
  v4(v6, v5, v7);
  swift_errorRetain();
  v9 = Logger.logObject.getter();
  v10 = static os_log_type_t.error.getter();

  v173 = v0;
  if (os_log_type_enabled(v9, v10))
  {
    v11 = *(v0 + 1080);
    v144 = *(v0 + 1072);
    v161 = *(v0 + 864);
    v12 = *(v0 + 672);
    v165 = *(v0 + 664);
    v13 = *(v0 + 616);
    v14 = *(v0 + 576);
    loga = (*(v0 + 584) + 8);
    v155 = *(v0 + 424) + 8;
    v158 = *(v0 + 416);
    bufa = *(v0 + 464);
    v15 = *(v0 + 1088);
    v16 = swift_slowAlloc();
    v145 = swift_slowAlloc();
    v147 = swift_slowAlloc();
    v175 = v147;
    *v16 = 136315394;
    v144(v12, v13, v14);
    v15(v13, v14);
    sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
    v17 = dispatch thunk of CustomStringConvertible.description.getter();
    v19 = v18;
    v15(v12, v14);
    v20 = sub_100102F80(v17, v19, &v175);

    *(v16 + 4) = v20;
    *(v16 + 12) = 2112;
    swift_errorRetain();
    v21 = _swift_stdlib_bridgeErrorToNSError();
    *(v16 + 14) = v21;
    *v145 = v21;
    _os_log_impl(&_mh_execute_header, v9, v10, "Failed to update face %s: %@", v16, 0x16u);
    sub_10000C460(v145, &qword_100129EF8, &qword_100108C70);

    sub_10000C304(v147);

    v161(bufa, v158);
    v22 = (v15)(v165, v14);
  }

  else
  {
    v25 = *(v0 + 864);
    logb = *(v0 + 664);
    v26 = *(v0 + 576);
    v27 = *(v0 + 464);
    v28 = *(v0 + 416);
    v29 = *(v0 + 584) + 8;
    v30 = *(v0 + 424) + 8;
    v31 = v9;
    v32 = *(v0 + 1088);
    v32(*(v0 + 616), v26);

    v25(v27, v28);
    v32(logb, v26);
  }

  v33 = *(v0 + 1040);
  v34 = *(v0 + 1032);
  if (!v34)
  {
    goto LABEL_8;
  }

  while (1)
  {
    v46 = *(v0 + 1024);
LABEL_16:
    v51 = *(v0 + 672);
    v52 = *(v0 + 584);
    v53 = *(v0 + 576);
    v54 = *(v173 + 160);
    v55 = *(v173 + 152);
    v56 = *(v173 + 136);
    v57 = __clz(__rbit64(v34));
    v34 &= v34 - 1;
    v58 = v57 | (v33 << 6);
    (*(v52 + 16))(v51, *(v46 + 48) + *(v52 + 72) * v58, v53);
    v59 = *(*(v46 + 56) + 8 * v58);
    v60 = *(v55 + 48);
    (*(v52 + 32))(v56, v51, v53);
    *(v56 + v60) = v59;
    (*(v54 + 56))(v56, 0, 1, v55);
    v0 = v173;

    v49 = v33;
LABEL_17:
    *(v0 + 1040) = v49;
    *(v0 + 1032) = v34;
    v61 = *(v0 + 152);
    v62 = *(v0 + 160);
    v63 = *(v0 + 144);
    sub_10005DD90(*(v0 + 136), v63, &qword_10012B590, &qword_10010A8D0);
    if ((*(v62 + 48))(v63, 1, v61) == 1)
    {
      break;
    }

    v64 = *(v0 + 664);
    v65 = *(v0 + 584);
    v66 = *(v0 + 576);
    v67 = *(*(v0 + 144) + *(*(v0 + 152) + 48));
    *(v0 + 1048) = v67;
    (*(v65 + 32))(v64);
    v68 = *(v0 + 664);
    if (*(v67 + 16))
    {
      v89 = *(v0 + 648);
      v90 = *(v0 + 584);
      v91 = *(v0 + 576);
      v92 = *(v0 + 496);
      v93 = *(v0 + 128);
      static Log.session.getter();
      v94 = *(v90 + 16);
      *(v0 + 1072) = v94;
      *(v0 + 1080) = (v90 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
      v94(v89, v68, v91);
      swift_bridgeObjectRetain_n();

      v95 = Logger.logObject.getter();
      v96 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v95, v96))
      {
        v157 = v96;
        v160 = v95;
        v167 = *(v0 + 768);
        logc = *(v0 + 992);
        v97 = *(v0 + 672);
        v149 = *(v0 + 648);
        bufc = *(v0 + 584);
        v98 = *(v0 + 576);
        v99 = *(v0 + 128);
        v163 = *(v0 + 1000);
        v100 = *(v173 + 1261);
        v101 = swift_slowAlloc();
        *(v173 + 88) = swift_slowAlloc();
        *v101 = 136315650;
        v102 = PhotosFaceType.description.getter();
        v104 = v103;

        v0 = v173;
        v105 = sub_100102F80(v102, v104, (v173 + 88));

        *(v101 + 4) = v105;
        *(v101 + 12) = 2080;
        v94(v97, v149, v98);
        v106 = *(bufc + 1);
        v106(v149, v98);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v107 = dispatch thunk of CustomStringConvertible.description.getter();
        v109 = v108;
        v150 = v106;
        v106(v97, v98);
        v110 = sub_100102F80(v107, v109, (v173 + 88));

        *(v101 + 14) = v110;
        buf = v101;
        *(v101 + 22) = 2080;
        v111 = swift_task_alloc();
        *v111 = v98;
        *(v111 + 8) = logc;
        *(v111 + 16) = v167;
        *(v111 + 24) = v163;
        swift_getKeyPath();

        v112 = *(v67 + 16);
        if (v112)
        {
          v113 = *(v173 + 216);
          *(v173 + 96) = _swiftEmptyArrayStorage;
          sub_10005C54C(0, v112, 0);
          v114 = *(v173 + 96);
          v115 = v67 + ((*(v113 + 80) + 32) & ~*(v113 + 80));
          v168 = *(v113 + 72);
          v164 = *(v113 + 16);
          do
          {
            v116 = *(v173 + 288);
            v118 = *(v173 + 208);
            v117 = *(v173 + 216);
            v164(v116, v115, v118);
            swift_getAtKeyPath();
            v120 = *(v173 + 56);
            v119 = *(v173 + 64);
            (*(v117 + 8))(v116, v118);
            *(v173 + 96) = v114;
            v122 = *(v114 + 16);
            v121 = *(v114 + 24);
            if (v122 >= v121 >> 1)
            {
              sub_10005C54C((v121 > 1), v122 + 1, 1);
              v114 = *(v173 + 96);
            }

            *(v114 + 16) = v122 + 1;
            v123 = v114 + 16 * v122;
            *(v123 + 32) = v120;
            *(v123 + 40) = v119;
            v115 += v168;
            --v112;
          }

          while (v112);

          v0 = v173;
        }

        else
        {
        }

        v133 = *(v0 + 864);
        v134 = *(v0 + 496);
        v135 = *(v0 + 416);
        v136 = *(v0 + 424) + 8;
        v137 = Array.description.getter();
        v139 = v138;

        v140 = sub_100102F80(v137, v139, (v0 + 88));

        *(buf + 3) = v140;
        _os_log_impl(&_mh_execute_header, v160, v157, "Inserting %s %s: %s", buf, 0x20u);
        swift_arrayDestroy();

        v133(v134, v135);
        v132 = v150;
      }

      else
      {
        v174 = *(v0 + 864);
        v124 = *(v0 + 648);
        v125 = *(v0 + 584);
        v126 = *(v0 + 576);
        v127 = *(v0 + 496);
        v128 = *(v0 + 416);
        v129 = *(v0 + 424);
        v130 = *(v0 + 128);

        v131 = v124;
        v132 = *(v125 + 8);
        v132(v131, v126);

        v174(v127, v128);
      }

      *(v0 + 1088) = v132;
      v141 = *(v0 + 128);
      v142 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
      v143 = swift_task_alloc();
      *(v0 + 1096) = v143;
      *v143 = v0;
      v143[1] = sub_1000C8188;
      v24 = *(v0 + 1008);
      v23 = *(v0 + 768);
      v22 = *(v0 + 664);

      return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v22, v23, v24);
    }

    v69 = *(v0 + 656);
    v70 = *(v0 + 584);
    v71 = *(v0 + 576);
    v72 = *(v0 + 504);

    static Log.session.getter();
    v73 = *(v70 + 16);
    v73(v69, v68, v71);
    v74 = Logger.logObject.getter();
    v75 = static os_log_type_t.error.getter();
    log = v74;
    v76 = os_log_type_enabled(v74, v75);
    v166 = *(v0 + 864);
    if (v76)
    {
      v35 = *(v0 + 672);
      v159 = *(v0 + 664);
      v36 = *(v0 + 656);
      v37 = *(v0 + 584);
      v162 = v49;
      v38 = *(v173 + 576);
      v148 = *(v173 + 504);
      bufb = (*(v173 + 424) + 8);
      v156 = *(v173 + 416);
      v146 = v75;
      v39 = swift_slowAlloc();
      v40 = swift_slowAlloc();
      v175 = v40;
      *v39 = 136315138;
      v73(v35, v36, v38);
      v41 = *(v37 + 8);
      v41(v36, v38);
      sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
      v42 = dispatch thunk of CustomStringConvertible.description.getter();
      v44 = v43;
      v41(v35, v38);
      v45 = sub_100102F80(v42, v44, &v175);

      *(v39 + 4) = v45;
      _os_log_impl(&_mh_execute_header, log, v146, "There are no valid synced faces per day for %s; skipping", v39, 0xCu);
      sub_10000C304(v40);

      v166(v148, v156);
      v0 = v173;
      v22 = (v41)(v159, v38);
      v33 = v162;
      if (!v34)
      {
        goto LABEL_8;
      }
    }

    else
    {
      v77 = *(v0 + 664);
      v78 = *(v0 + 576);
      v79 = *(v0 + 504);
      v80 = *(v0 + 416);
      v81 = *(v0 + 424) + 8;
      v82 = *(*(v0 + 584) + 8);
      v82(*(v0 + 656), v78);

      v166(v79, v80);
      v22 = v82(v77, v78);
      v33 = v49;
      if (!v34)
      {
LABEL_8:
        v47 = ((1 << *(v0 + 1262)) + 63) >> 6;
        if (v47 <= (v33 + 1))
        {
          v48 = v33 + 1;
        }

        else
        {
          v48 = ((1 << *(v0 + 1262)) + 63) >> 6;
        }

        v49 = v48 - 1;
        while (1)
        {
          v50 = v33 + 1;
          if (__OFADD__(v33, 1))
          {
            break;
          }

          if (v50 >= v47)
          {
            (*(*(v0 + 160) + 56))(*(v0 + 136), 1, 1, *(v0 + 152));
            v34 = 0;
            goto LABEL_17;
          }

          v46 = *(v0 + 1024);
          v34 = *(v46 + 8 * v50 + 64);
          ++v33;
          if (v34)
          {
            v33 = v50;
            goto LABEL_16;
          }
        }

        __break(1u);
        return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v22, v23, v24);
      }
    }
  }

  v83 = *(v0 + 1024);
  v84 = *(v0 + 976);
  v85 = *(v0 + 128);

  v86 = *(v85 + 104);
  v87 = swift_task_alloc();
  *(v0 + 1056) = v87;
  *v87 = v0;
  v87[1] = sub_1000C8058;

  return sub_10006254C();
}

uint64_t sub_1000CD8F8()
{
  v2 = *v1;
  v3 = *(*v1 + 1208);
  v4 = *v1;
  v2[152] = v0;

  v5 = v2[150];
  if (v0)
  {
    v6 = v2[139];
    v7 = v2[131];
    (*(v2[86] + 8))(v2[88], v2[85]);

    v8 = v2[103];
    v9 = v2[102];
    v10 = sub_1000CE564;
  }

  else
  {
    (*(v2[86] + 8))(v2[88], v2[85]);

    v8 = v2[103];
    v9 = v2[102];
    v10 = sub_1000CDA90;
  }

  return _swift_task_switch(v10, v9, v8);
}

uint64_t sub_1000CDA90()
{
  v164 = v0;
  v1 = *(v0 + 1120);
  v2 = *(v0 + 1184) + 1;
  v3 = (*(v0 + 216) + 8) & 0xFFFFFFFFFFFFLL | 0x4F8000000000000;
  v4 = (*(v0 + 1192))(*(v0 + 280), *(v0 + 208));
  if (v2 == v1)
  {
LABEL_2:
    v9 = *(v0 + 1112);

    v10 = *(v0 + 1048);
    v11 = *(v0 + 984);
    v12 = *(v0 + 720);
    v13 = *(v0 + 664);
    v14 = *(v0 + 576);
    v15 = *(v0 + 128);

    dispatch thunk of PhotosFaceID.id.getter();
    v16 = async function pointer to dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryByDay(id:)[1];
    v17 = swift_task_alloc();
    *(v0 + 1128) = v17;
    *v17 = v0;
    v17[1] = sub_1000C9B00;
    v18 = *(v0 + 776);
    v19 = *(v0 + 768);
    v20 = *(v0 + 720);

    return dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryByDay(id:)(v20, v19, v18);
  }

  else
  {
    while (1)
    {
      v30 = *(v0 + 1184) + 1;
      *(v0 + 1184) = v30;
      v31 = *(v0 + 1048);
      if (v30 >= *(v31 + 16))
      {
        __break(1u);
        return dispatch thunk of PhotosFaceIDDatabase.relate(photos:to:on:)(v4, v5, v6, v7, v8);
      }

      v160 = *(v0 + 1080);
      v155 = *(v0 + 1072);
      v152 = *(v0 + 664);
      v32 = *(v0 + 608);
      v33 = *(v0 + 576);
      v34 = *(v0 + 456);
      v36 = *(v0 + 272);
      v35 = *(v0 + 280);
      v37 = *(v0 + 264);
      v157 = *(v0 + 256);
      v39 = *(v0 + 208);
      v38 = *(v0 + 216);
      v40 = *(v38 + 16);
      v40(v35, v31 + ((*(v0 + 1256) + 32) & ~*(v0 + 1256)) + *(v38 + 72) * v30, v39);
      static Log.session.getter();
      v40(v36, v35, v39);
      v155(v32, v152, v33);
      v40(v37, v35, v39);
      v153 = v40;
      v40(v157, v35, v39);
      v41 = Logger.logObject.getter();
      v42 = static os_log_type_t.default.getter();
      v161 = v41;
      v43 = os_log_type_enabled(v41, v42);
      v158 = *(v0 + 1088);
      if (v43)
      {
        v44 = *(v0 + 736);
        v134 = *(v0 + 984);
        v135 = *(v0 + 680);
        v45 = *(v0 + 608);
        v46 = *(v0 + 576);
        v148 = *(v0 + 456);
        v150 = *(v0 + 864);
        v146 = *(v0 + 416);
        v47 = *(v0 + 272);
        v136 = *(v0 + 688);
        v137 = *(v0 + 264);
        v139 = *(v0 + 256);
        v133 = *(v0 + 584) + 8;
        v144 = *(v0 + 424) + 8;
        v48 = *(v0 + 208);
        v49 = *(v0 + 216);
        type = v42;
        v50 = swift_slowAlloc();
        v163 = swift_slowAlloc();
        *v50 = 134218754;
        v51 = *(SyncedPhotosFace.photos.getter() + 16);

        v52 = *(v49 + 8);
        v52(v47, v48);
        *(v50 + 4) = v51;
        *(v50 + 12) = 2080;
        dispatch thunk of PhotosFaceID.id.getter();
        v158(v45, v46);
        sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
        v53 = dispatch thunk of CustomStringConvertible.description.getter();
        v55 = v54;
        (*(v136 + 8))(v44, v135);
        v56 = sub_100102F80(v53, v55, &v163);

        *(v50 + 14) = v56;
        *(v50 + 22) = 2048;
        v57 = SyncedPhotosFace.day.getter();
        v52(v137, v48);
        *(v50 + 24) = v57;
        *(v50 + 32) = 2080;
        SyncedPhotosFace.photos.getter();
        v52(v139, v48);
        v58 = Array.description.getter();
        v60 = v59;

        v61 = sub_100102F80(v58, v60, &v163);

        *(v50 + 34) = v61;
        _os_log_impl(&_mh_execute_header, v161, type, "Relating %ld photos for face %s on day %ld, photos = %s", v50, 0x2Au);
        swift_arrayDestroy();
      }

      else
      {
        v62 = *(v0 + 608);
        v63 = *(v0 + 576);
        v148 = *(v0 + 456);
        v150 = *(v0 + 864);
        v146 = *(v0 + 416);
        v64 = *(v0 + 272);
        v65 = *(v0 + 256);
        v66 = *(v0 + 208);
        v67 = *(v0 + 584) + 8;
        v68 = *(v0 + 424) + 8;
        v52 = *(*(v0 + 216) + 8);
        v52(*(v0 + 264), v66);
        v52(v64, v66);
        v52(v65, v66);
        v158(v62, v63);
      }

      v150(v148, v146);
      *(v0 + 1192) = v52;
      v69 = *(v0 + 1112);
      v70 = *(v0 + 280);
      v71 = *(v0 + 208);
      v72 = SyncedPhotosFace.day.getter();
      if (*(v69 + 16))
      {
        v73 = *(v0 + 1112);
        v74 = sub_100057BD0(v72);
        if (v75)
        {
          break;
        }
      }

      v76 = *(v0 + 448);
      v77 = *(v0 + 280);
      v78 = *(v0 + 248);
      v79 = *(v0 + 208);
      static Log.session.getter();
      v153(v78, v77, v79);
      v80 = Logger.logObject.getter();
      v81 = static os_log_type_t.error.getter();
      v82 = os_log_type_enabled(v80, v81);
      v83 = *(v0 + 248);
      v84 = *(v0 + 208);
      v85 = *(v0 + 216) + 8;
      if (v82)
      {
        v21 = swift_slowAlloc();
        *v21 = 134217984;
        v22 = SyncedPhotosFace.day.getter();
        v52(v83, v84);
        *(v21 + 4) = v22;
        _os_log_impl(&_mh_execute_header, v80, v81, "Cannot find the true day for day %ld; skipping", v21, 0xCu);
      }

      else
      {
        v52(*(v0 + 248), *(v0 + 208));
      }

      v23 = *(v0 + 864);
      v24 = *(v0 + 448);
      v25 = *(v0 + 416);
      v26 = *(v0 + 424);

      v23(v24, v25);
      v27 = *(v0 + 1120);
      v28 = *(v0 + 1184) + 1;
      v29 = (*(v0 + 216) + 8) & 0xFFFFFFFFFFFFLL | 0x4F8000000000000;
      v4 = (*(v0 + 1192))(*(v0 + 280), *(v0 + 208));
      if (v28 == v27)
      {
        goto LABEL_2;
      }
    }

    v86 = *(v0 + 280);
    v87 = *(v0 + 208);
    v88 = *(*(*(v0 + 1112) + 56) + 8 * v74);
    if (SyncedPhotosFace.day.getter() != v88)
    {
      v159 = v88;
      v162 = v52;
      v89 = *(v0 + 1080);
      v90 = *(v0 + 1072);
      v91 = *(v0 + 664);
      v92 = *(v0 + 600);
      v93 = *(v0 + 576);
      v94 = *(v0 + 440);
      v95 = *(v0 + 280);
      v96 = *(v0 + 240);
      v97 = *(v0 + 208);
      static Log.session.getter();
      v90(v92, v91, v93);
      v153(v96, v95, v97);
      v98 = Logger.logObject.getter();
      v99 = static os_log_type_t.default.getter();
      v100 = os_log_type_enabled(v98, v99);
      v101 = *(v0 + 1088);
      if (v100)
      {
        v138 = *(v0 + 984);
        v156 = *(v0 + 864);
        v102 = *(v0 + 736);
        v103 = *(v0 + 688);
        v140 = *(v0 + 680);
        v147 = v99;
        v104 = *(v0 + 600);
        v105 = *(v0 + 576);
        v154 = *(v0 + 440);
        v151 = *(v0 + 416);
        v106 = *(v0 + 584) + 8;
        v149 = *(v0 + 424) + 8;
        v143 = *(v0 + 208);
        v145 = *(v0 + 216) + 8;
        *typea = *(v0 + 240);
        v107 = swift_slowAlloc();
        v108 = swift_slowAlloc();
        v163 = v108;
        *v107 = 136315650;
        dispatch thunk of PhotosFaceID.id.getter();
        v101(v104, v105);
        sub_1000FAACC(&qword_10012A1C0, &type metadata accessor for UUID);
        v109 = dispatch thunk of CustomStringConvertible.description.getter();
        v111 = v110;
        (*(v103 + 8))(v102, v140);
        v112 = sub_100102F80(v109, v111, &v163);

        *(v107 + 4) = v112;
        *(v107 + 12) = 2048;
        v113 = SyncedPhotosFace.day.getter();
        v162(*typea, v143);
        *(v107 + 14) = v113;
        *(v107 + 22) = 2048;
        v88 = v159;
        *(v107 + 24) = v159;
        _os_log_impl(&_mh_execute_header, v98, v147, "Face %s: mapping day %ld to %ld", v107, 0x20u);
        sub_10000C304(v108);

        v156(v154, v151);
      }

      else
      {
        v114 = *(v0 + 864);
        v115 = *(v0 + 600);
        v116 = *(v0 + 576);
        v117 = *(v0 + 440);
        v118 = *(v0 + 416);
        v119 = *(v0 + 584) + 8;
        v120 = *(v0 + 424) + 8;
        v121 = *(v0 + 216) + 8;
        v162(*(v0 + 240), *(v0 + 208));
        v101(v115, v116);

        v114(v117, v118);
        v88 = v159;
      }
    }

    v122 = *(v0 + 984);
    v123 = *(v0 + 704);
    v124 = *(v0 + 664);
    v125 = *(v0 + 576);
    v126 = *(v0 + 280);
    v127 = *(v0 + 208);
    v128 = *(v0 + 128);
    v129 = SyncedPhotosFace.photos.getter();
    *(v0 + 1200) = v129;
    dispatch thunk of PhotosFaceID.id.getter();
    v130 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.relate(photos:to:on:)[1];
    v131 = swift_task_alloc();
    *(v0 + 1208) = v131;
    *v131 = v0;
    v131[1] = sub_1000CD8F8;
    v8 = *(v0 + 1008);
    v7 = *(v0 + 768);
    v5 = *(v0 + 704);
    v4 = v129;
    v6 = v88;

    return dispatch thunk of PhotosFaceIDDatabase.relate(photos:to:on:)(v4, v5, v6, v7, v8);
  }
}

uint64_t sub_1000CE564()
{
  v176 = v0;
  v1 = *(v0 + 216) + 8;
  (*(v0 + 1192))(*(v0 + 280), *(v0 + 208));
  v2 = *(v0 + 1216);
  v3 = *(v0 + 1080);
  v4 = *(v0 + 1072);
  v5 = *(v0 + 664);
  v6 = *(v0 + 616);
  v7 = *(v0 + 576);
  v8 = *(v0 + 464);
  static Log.session.getter();
  v4(v6, v5, v7);
  swift_errorRetain();
  v9 = Logger.logObject.getter();
  v10 = static os_log_type_t.error.getter();

  v173 = v0;
  if (os_log_type_enabled(v9, v10))
  {
    v11 = *(v0 + 1080);
    v144 = *(v0 + 1072);
    v161 = *(v0 + 864);
    v12 = *(v0 + 672);
    v165 = *(v0 + 664);
    v13 = *(v0 + 616);
    v14 = *(v0 + 576);
    loga = (*(v0 + 584) + 8);
    v155 = *(v0 + 424) + 8;
    v158 = *(v0 + 416);
    bufa = *(v0 + 464);
    v15 = *(v0 + 1088);
    v16 = swift_slowAlloc();
    v145 = swift_slowAlloc();
    v147 = swift_slowAlloc();
    v175 = v147;
    *v16 = 136315394;
    v144(v12, v13, v14);
    v15(v13, v14);
    sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
    v17 = dispatch thunk of CustomStringConvertible.description.getter();
    v19 = v18;
    v15(v12, v14);
    v20 = sub_100102F80(v17, v19, &v175);

    *(v16 + 4) = v20;
    *(v16 + 12) = 2112;
    swift_errorRetain();
    v21 = _swift_stdlib_bridgeErrorToNSError();
    *(v16 + 14) = v21;
    *v145 = v21;
    _os_log_impl(&_mh_execute_header, v9, v10, "Failed to update face %s: %@", v16, 0x16u);
    sub_10000C460(v145, &qword_100129EF8, &qword_100108C70);

    sub_10000C304(v147);

    v161(bufa, v158);
    v22 = (v15)(v165, v14);
  }

  else
  {
    v25 = *(v0 + 864);
    logb = *(v0 + 664);
    v26 = *(v0 + 576);
    v27 = *(v0 + 464);
    v28 = *(v0 + 416);
    v29 = *(v0 + 584) + 8;
    v30 = *(v0 + 424) + 8;
    v31 = v9;
    v32 = *(v0 + 1088);
    v32(*(v0 + 616), v26);

    v25(v27, v28);
    v32(logb, v26);
  }

  v33 = *(v0 + 1040);
  v34 = *(v0 + 1032);
  if (!v34)
  {
    goto LABEL_8;
  }

  while (1)
  {
    v46 = *(v0 + 1024);
LABEL_16:
    v51 = *(v0 + 672);
    v52 = *(v0 + 584);
    v53 = *(v0 + 576);
    v54 = *(v173 + 160);
    v55 = *(v173 + 152);
    v56 = *(v173 + 136);
    v57 = __clz(__rbit64(v34));
    v34 &= v34 - 1;
    v58 = v57 | (v33 << 6);
    (*(v52 + 16))(v51, *(v46 + 48) + *(v52 + 72) * v58, v53);
    v59 = *(*(v46 + 56) + 8 * v58);
    v60 = *(v55 + 48);
    (*(v52 + 32))(v56, v51, v53);
    *(v56 + v60) = v59;
    (*(v54 + 56))(v56, 0, 1, v55);
    v0 = v173;

    v49 = v33;
LABEL_17:
    *(v0 + 1040) = v49;
    *(v0 + 1032) = v34;
    v61 = *(v0 + 152);
    v62 = *(v0 + 160);
    v63 = *(v0 + 144);
    sub_10005DD90(*(v0 + 136), v63, &qword_10012B590, &qword_10010A8D0);
    if ((*(v62 + 48))(v63, 1, v61) == 1)
    {
      break;
    }

    v64 = *(v0 + 664);
    v65 = *(v0 + 584);
    v66 = *(v0 + 576);
    v67 = *(*(v0 + 144) + *(*(v0 + 152) + 48));
    *(v0 + 1048) = v67;
    (*(v65 + 32))(v64);
    v68 = *(v0 + 664);
    if (*(v67 + 16))
    {
      v89 = *(v0 + 648);
      v90 = *(v0 + 584);
      v91 = *(v0 + 576);
      v92 = *(v0 + 496);
      v93 = *(v0 + 128);
      static Log.session.getter();
      v94 = *(v90 + 16);
      *(v0 + 1072) = v94;
      *(v0 + 1080) = (v90 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
      v94(v89, v68, v91);
      swift_bridgeObjectRetain_n();

      v95 = Logger.logObject.getter();
      v96 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v95, v96))
      {
        v157 = v96;
        v160 = v95;
        v167 = *(v0 + 768);
        logc = *(v0 + 992);
        v97 = *(v0 + 672);
        v149 = *(v0 + 648);
        bufc = *(v0 + 584);
        v98 = *(v0 + 576);
        v99 = *(v0 + 128);
        v163 = *(v0 + 1000);
        v100 = *(v173 + 1261);
        v101 = swift_slowAlloc();
        *(v173 + 88) = swift_slowAlloc();
        *v101 = 136315650;
        v102 = PhotosFaceType.description.getter();
        v104 = v103;

        v0 = v173;
        v105 = sub_100102F80(v102, v104, (v173 + 88));

        *(v101 + 4) = v105;
        *(v101 + 12) = 2080;
        v94(v97, v149, v98);
        v106 = *(bufc + 1);
        v106(v149, v98);
        sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
        v107 = dispatch thunk of CustomStringConvertible.description.getter();
        v109 = v108;
        v150 = v106;
        v106(v97, v98);
        v110 = sub_100102F80(v107, v109, (v173 + 88));

        *(v101 + 14) = v110;
        buf = v101;
        *(v101 + 22) = 2080;
        v111 = swift_task_alloc();
        *v111 = v98;
        *(v111 + 8) = logc;
        *(v111 + 16) = v167;
        *(v111 + 24) = v163;
        swift_getKeyPath();

        v112 = *(v67 + 16);
        if (v112)
        {
          v113 = *(v173 + 216);
          *(v173 + 96) = _swiftEmptyArrayStorage;
          sub_10005C54C(0, v112, 0);
          v114 = *(v173 + 96);
          v115 = v67 + ((*(v113 + 80) + 32) & ~*(v113 + 80));
          v168 = *(v113 + 72);
          v164 = *(v113 + 16);
          do
          {
            v116 = *(v173 + 288);
            v118 = *(v173 + 208);
            v117 = *(v173 + 216);
            v164(v116, v115, v118);
            swift_getAtKeyPath();
            v120 = *(v173 + 56);
            v119 = *(v173 + 64);
            (*(v117 + 8))(v116, v118);
            *(v173 + 96) = v114;
            v122 = *(v114 + 16);
            v121 = *(v114 + 24);
            if (v122 >= v121 >> 1)
            {
              sub_10005C54C((v121 > 1), v122 + 1, 1);
              v114 = *(v173 + 96);
            }

            *(v114 + 16) = v122 + 1;
            v123 = v114 + 16 * v122;
            *(v123 + 32) = v120;
            *(v123 + 40) = v119;
            v115 += v168;
            --v112;
          }

          while (v112);

          v0 = v173;
        }

        else
        {
        }

        v133 = *(v0 + 864);
        v134 = *(v0 + 496);
        v135 = *(v0 + 416);
        v136 = *(v0 + 424) + 8;
        v137 = Array.description.getter();
        v139 = v138;

        v140 = sub_100102F80(v137, v139, (v0 + 88));

        *(buf + 3) = v140;
        _os_log_impl(&_mh_execute_header, v160, v157, "Inserting %s %s: %s", buf, 0x20u);
        swift_arrayDestroy();

        v133(v134, v135);
        v132 = v150;
      }

      else
      {
        v174 = *(v0 + 864);
        v124 = *(v0 + 648);
        v125 = *(v0 + 584);
        v126 = *(v0 + 576);
        v127 = *(v0 + 496);
        v128 = *(v0 + 416);
        v129 = *(v0 + 424);
        v130 = *(v0 + 128);

        v131 = v124;
        v132 = *(v125 + 8);
        v132(v131, v126);

        v174(v127, v128);
      }

      *(v0 + 1088) = v132;
      v141 = *(v0 + 128);
      v142 = async function pointer to dispatch thunk of PhotosFaceIDDatabase.insert(id:)[1];
      v143 = swift_task_alloc();
      *(v0 + 1096) = v143;
      *v143 = v0;
      v143[1] = sub_1000C8188;
      v24 = *(v0 + 1008);
      v23 = *(v0 + 768);
      v22 = *(v0 + 664);

      return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v22, v23, v24);
    }

    v69 = *(v0 + 656);
    v70 = *(v0 + 584);
    v71 = *(v0 + 576);
    v72 = *(v0 + 504);

    static Log.session.getter();
    v73 = *(v70 + 16);
    v73(v69, v68, v71);
    v74 = Logger.logObject.getter();
    v75 = static os_log_type_t.error.getter();
    log = v74;
    v76 = os_log_type_enabled(v74, v75);
    v166 = *(v0 + 864);
    if (v76)
    {
      v35 = *(v0 + 672);
      v159 = *(v0 + 664);
      v36 = *(v0 + 656);
      v37 = *(v0 + 584);
      v162 = v49;
      v38 = *(v173 + 576);
      v148 = *(v173 + 504);
      bufb = (*(v173 + 424) + 8);
      v156 = *(v173 + 416);
      v146 = v75;
      v39 = swift_slowAlloc();
      v40 = swift_slowAlloc();
      v175 = v40;
      *v39 = 136315138;
      v73(v35, v36, v38);
      v41 = *(v37 + 8);
      v41(v36, v38);
      sub_1000FAACC(&qword_10012A0A0, &type metadata accessor for AlbumID);
      v42 = dispatch thunk of CustomStringConvertible.description.getter();
      v44 = v43;
      v41(v35, v38);
      v45 = sub_100102F80(v42, v44, &v175);

      *(v39 + 4) = v45;
      _os_log_impl(&_mh_execute_header, log, v146, "There are no valid synced faces per day for %s; skipping", v39, 0xCu);
      sub_10000C304(v40);

      v166(v148, v156);
      v0 = v173;
      v22 = (v41)(v159, v38);
      v33 = v162;
      if (!v34)
      {
        goto LABEL_8;
      }
    }

    else
    {
      v77 = *(v0 + 664);
      v78 = *(v0 + 576);
      v79 = *(v0 + 504);
      v80 = *(v0 + 416);
      v81 = *(v0 + 424) + 8;
      v82 = *(*(v0 + 584) + 8);
      v82(*(v0 + 656), v78);

      v166(v79, v80);
      v22 = v82(v77, v78);
      v33 = v49;
      if (!v34)
      {
LABEL_8:
        v47 = ((1 << *(v0 + 1262)) + 63) >> 6;
        if (v47 <= (v33 + 1))
        {
          v48 = v33 + 1;
        }

        else
        {
          v48 = ((1 << *(v0 + 1262)) + 63) >> 6;
        }

        v49 = v48 - 1;
        while (1)
        {
          v50 = v33 + 1;
          if (__OFADD__(v33, 1))
          {
            break;
          }

          if (v50 >= v47)
          {
            (*(*(v0 + 160) + 56))(*(v0 + 136), 1, 1, *(v0 + 152));
            v34 = 0;
            goto LABEL_17;
          }

          v46 = *(v0 + 1024);
          v34 = *(v46 + 8 * v50 + 64);
          ++v33;
          if (v34)
          {
            v33 = v50;
            goto LABEL_16;
          }
        }

        __break(1u);
        return dispatch thunk of PhotosFaceIDDatabase.insert(id:)(v22, v23, v24);
      }
    }
  }

  v83 = *(v0 + 1024);
  v84 = *(v0 + 976);
  v85 = *(v0 + 128);

  v86 = *(v85 + 104);
  v87 = swift_task_alloc();
  *(v0 + 1056) = v87;
  *v87 = v0;
  v87[1] = sub_1000C8058;

  return sub_10006254C();
}

uint64_t sub_1000CF2F8()
{
  v1 = *(v0 + 1024);
  v2 = *(v0 + 760);

  v3 = *(v1 + 16);

  if (v3)
  {
    sub_100103EAC(*(v0 + 1261));
  }

  v4 = *(v0 + 1016);
  if (*(v0 + 968))
  {
    v5 = *(v0 + 568);
    v6 = *(v0 + 560);
    v7 = *(v0 + 552);
    v8 = *(v0 + 408);
    v9 = *(v0 + 384);
    v10 = *(v0 + 392);
    v11 = *(v0 + 1016);

    swift_willThrow();
    (*(v10 + 8))(v8, v9);
    (*(v6 + 8))(v5, v7);
LABEL_7:
    v20 = *(v0 + 744);
    v21 = *(v0 + 736);
    v22 = *(v0 + 728);
    v23 = *(v0 + 720);
    v24 = *(v0 + 712);
    v25 = *(v0 + 704);
    v26 = *(v0 + 696);
    v27 = *(v0 + 672);
    v28 = *(v0 + 664);
    v29 = *(v0 + 656);
    v42 = *(v0 + 648);
    v43 = *(v0 + 640);
    v45 = *(v0 + 632);
    v47 = *(v0 + 624);
    v49 = *(v0 + 616);
    v51 = *(v0 + 608);
    v53 = *(v0 + 600);
    v55 = *(v0 + 592);
    v57 = *(v0 + 568);
    v59 = *(v0 + 544);
    v61 = *(v0 + 536);
    v63 = *(v0 + 528);
    v65 = *(v0 + 520);
    v67 = *(v0 + 512);
    v69 = *(v0 + 504);
    v71 = *(v0 + 496);
    v73 = *(v0 + 488);
    v75 = *(v0 + 480);
    v77 = *(v0 + 472);
    v79 = *(v0 + 464);
    v81 = *(v0 + 456);
    v83 = *(v0 + 448);
    v85 = *(v0 + 440);
    v87 = *(v0 + 432);
    v89 = *(v0 + 408);
    v91 = *(v0 + 400);
    v93 = *(v0 + 376);
    v95 = *(v0 + 352);
    v97 = *(v0 + 344);
    v99 = *(v0 + 336);
    v101 = *(v0 + 328);
    v103 = *(v0 + 320);
    v105 = *(v0 + 312);
    v107 = *(v0 + 304);
    v109 = *(v0 + 296);
    v111 = *(v0 + 288);
    v113 = *(v0 + 280);
    v115 = *(v0 + 272);
    v117 = *(v0 + 264);
    v119 = *(v0 + 256);
    v121 = *(v0 + 248);
    v123 = *(v0 + 240);
    v125 = *(v0 + 232);
    v127 = *(v0 + 224);
    v129 = *(v0 + 200);
    v131 = *(v0 + 176);
    v133 = *(v0 + 168);
    v135 = *(v0 + 144);
    v138 = *(v0 + 136);

    v30 = *(v0 + 8);
    goto LABEL_8;
  }

  v12 = *(v0 + 568);
  v13 = *(v0 + 560);
  v14 = *(v0 + 552);
  v15 = *(v0 + 408);
  v17 = *(v0 + 384);
  v16 = *(v0 + 392);
  if (*(v4 + 16))
  {
    v137 = *(v0 + 552);
    v18 = sub_10000560C(&qword_10012B588, &qword_10010A8C0);
    sub_10000CC24(&qword_10012B5C8, &qword_10012B588, &qword_10010A8C0);
    swift_allocError();
    *v19 = v4;
    (*(*(v18 - 8) + 104))(v19, enum case for SyncedPhotosFace.Failure.missingPhotos<A>(_:), v18);
    swift_willThrow();
    (*(v16 + 8))(v15, v17);
    (*(v13 + 8))(v12, v137);
    goto LABEL_7;
  }

  (*(v16 + 8))(*(v0 + 408), *(v0 + 384));
  (*(v13 + 8))(v12, v14);

  v32 = *(v0 + 744);
  v33 = *(v0 + 736);
  v34 = *(v0 + 728);
  v35 = *(v0 + 720);
  v36 = *(v0 + 712);
  v37 = *(v0 + 704);
  v38 = *(v0 + 696);
  v39 = *(v0 + 672);
  v40 = *(v0 + 664);
  v41 = *(v0 + 656);
  v44 = *(v0 + 648);
  v46 = *(v0 + 640);
  v48 = *(v0 + 632);
  v50 = *(v0 + 624);
  v52 = *(v0 + 616);
  v54 = *(v0 + 608);
  v56 = *(v0 + 600);
  v58 = *(v0 + 592);
  v60 = *(v0 + 568);
  v62 = *(v0 + 544);
  v64 = *(v0 + 536);
  v66 = *(v0 + 528);
  v68 = *(v0 + 520);
  v70 = *(v0 + 512);
  v72 = *(v0 + 504);
  v74 = *(v0 + 496);
  v76 = *(v0 + 488);
  v78 = *(v0 + 480);
  v80 = *(v0 + 472);
  v82 = *(v0 + 464);
  v84 = *(v0 + 456);
  v86 = *(v0 + 448);
  v88 = *(v0 + 440);
  v90 = *(v0 + 432);
  v92 = *(v0 + 408);
  v94 = *(v0 + 400);
  v96 = *(v0 + 376);
  v98 = *(v0 + 352);
  v100 = *(v0 + 344);
  v102 = *(v0 + 336);
  v104 = *(v0 + 328);
  v106 = *(v0 + 320);
  v108 = *(v0 + 312);
  v110 = *(v0 + 304);
  v112 = *(v0 + 296);
  v114 = *(v0 + 288);
  v116 = *(v0 + 280);
  v118 = *(v0 + 272);
  v120 = *(v0 + 264);
  v122 = *(v0 + 256);
  v124 = *(v0 + 248);
  v126 = *(v0 + 240);
  v128 = *(v0 + 232);
  v130 = *(v0 + 224);
  v132 = *(v0 + 200);
  v134 = *(v0 + 176);
  v136 = *(v0 + 168);
  v139 = *(v0 + 144);
  v140 = *(v0 + 136);

  v30 = *(v0 + 8);
LABEL_8:

  return v30();
}

uint64_t sub_1000CFB10()
{
  v1 = v0[121];
  v2 = v0[95];
  v3 = v0[71];
  v4 = v0[70];
  v5 = v0[69];
  v6 = v0[51];
  v7 = v0[48];
  v8 = v0[49];

  (*(v8 + 8))(v6, v7);
  (*(v4 + 8))(v3, v5);
  v70 = v0[133];
  v9 = v0[93];
  v10 = v0[92];
  v11 = v0[91];
  v12 = v0[90];
  v13 = v0[89];
  v14 = v0[88];
  v15 = v0[87];
  v16 = v0[84];
  v17 = v0[83];
  v18 = v0[82];
  v21 = v0[81];
  v22 = v0[80];
  v23 = v0[79];
  v24 = v0[78];
  v25 = v0[77];
  v26 = v0[76];
  v27 = v0[75];
  v28 = v0[74];
  v29 = v0[71];
  v30 = v0[68];
  v31 = v0[67];
  v32 = v0[66];
  v33 = v0[65];
  v34 = v0[64];
  v35 = v0[63];
  v36 = v0[62];
  v37 = v0[61];
  v38 = v0[60];
  v39 = v0[59];
  v40 = v0[58];
  v41 = v0[57];
  v42 = v0[56];
  v43 = v0[55];
  v44 = v0[54];
  v45 = v0[51];
  v46 = v0[50];
  v47 = v0[47];
  v48 = v0[44];
  v49 = v0[43];
  v50 = v0[42];
  v51 = v0[41];
  v52 = v0[40];
  v53 = v0[39];
  v54 = v0[38];
  v55 = v0[37];
  v56 = v0[36];
  v57 = v0[35];
  v58 = v0[34];
  v59 = v0[33];
  v60 = v0[32];
  v61 = v0[31];
  v62 = v0[30];
  v63 = v0[29];
  v64 = v0[28];
  v65 = v0[25];
  v66 = v0[22];
  v67 = v0[21];
  v68 = v0[18];
  v69 = v0[17];

  v19 = v0[1];

  return v19();
}

uint64_t sub_1000CFED8(uint64_t a1)
{
  v5 = *v2;
  v4 = *v2;
  v6 = *(*v2 + 1224);
  v7 = *v2;

  v8 = v4[107];
  if (v1)
  {
    v9 = v5[104];

    v5[156] = v1;
    v10 = v5[103];
    v11 = v5[102];
    v12 = sub_1000D03F8;
  }

  else
  {

    v5[154] = a1;
    v12 = sub_1000D003C;
    v11 = 0;
    v10 = 0;
  }

  return _swift_task_switch(v12, v11, v10);
}

uint64_t sub_1000D003C()
{
  v0[155] = sub_10005F8E0(v0[154]);
  v1 = v0[103];
  v2 = v0[102];

  return _swift_task_switch(sub_1000D00A8, v2, v1);
}

uint64_t sub_1000D00A8()
{
  v38 = v0;
  v1 = *(v0 + 1240);
  v2 = *(v0 + 832);
  v3 = *(v0 + 568);
  v4 = *(v0 + 544);
  v5 = *(v0 + 128);

  sub_10006C038(v6);

  SyncFacesRequest.init(trackedFaces:cachedIdentifiers:)();
  static Log.session.getter();

  v7 = Logger.logObject.getter();
  v8 = static os_log_type_t.default.getter();

  if (os_log_type_enabled(v7, v8))
  {
    v33 = *(v0 + 680);
    v34 = *(v0 + 424);
    v35 = *(v0 + 416);
    v36 = *(v0 + 544);
    v9 = *(v0 + 128);
    v10 = swift_slowAlloc();
    v37 = swift_slowAlloc();
    *v10 = 136315650;
    v11 = *(v9 + 16);
    v12 = PhotosFaceType.description.getter();
    v14 = v13;

    v15 = sub_100102F80(v12, v14, &v37);

    *(v10 + 4) = v15;
    *(v10 + 12) = 2048;
    v16 = *(v1 + 16);

    *(v10 + 14) = v16;

    *(v10 + 22) = 2080;
    sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID);
    v17 = Set.description.getter();
    v19 = v18;

    v20 = sub_100102F80(v17, v19, &v37);

    *(v10 + 24) = v20;
    _os_log_impl(&_mh_execute_header, v7, v8, "Requesting %s with %ld cached photos and faces: %s", v10, 0x20u);
    swift_arrayDestroy();

    v21 = *(v34 + 8);
    v21(v36, v35);
  }

  else
  {
    v22 = *(v0 + 544);
    v23 = *(v0 + 416);
    v24 = *(v0 + 424);
    v25 = *(v0 + 128);
    swift_bridgeObjectRelease_n();

    v21 = *(v24 + 8);
    v21(v22, v23);
  }

  *(v0 + 864) = v21;
  v26 = *(v0 + 128);
  v27 = *(v26 + 96);
  v28 = *(v26 + 16);
  *(v0 + 1261) = v28;
  v29 = swift_task_alloc();
  *(v0 + 872) = v29;
  *v29 = v0;
  v29[1] = sub_1000C22C4;
  v30 = *(v0 + 568);
  v31 = *(v0 + 408);

  return sub_100089B20(v31, v28, v30);
}

uint64_t sub_1000D03F8()
{
  v1 = v0[95];

  v63 = v0[156];
  v2 = v0[93];
  v3 = v0[92];
  v4 = v0[91];
  v5 = v0[90];
  v6 = v0[89];
  v7 = v0[88];
  v8 = v0[87];
  v9 = v0[84];
  v10 = v0[83];
  v11 = v0[82];
  v14 = v0[81];
  v15 = v0[80];
  v16 = v0[79];
  v17 = v0[78];
  v18 = v0[77];
  v19 = v0[76];
  v20 = v0[75];
  v21 = v0[74];
  v22 = v0[71];
  v23 = v0[68];
  v24 = v0[67];
  v25 = v0[66];
  v26 = v0[65];
  v27 = v0[64];
  v28 = v0[63];
  v29 = v0[62];
  v30 = v0[61];
  v31 = v0[60];
  v32 = v0[59];
  v33 = v0[58];
  v34 = v0[57];
  v35 = v0[56];
  v36 = v0[55];
  v37 = v0[54];
  v38 = v0[51];
  v39 = v0[50];
  v40 = v0[47];
  v41 = v0[44];
  v42 = v0[43];
  v43 = v0[42];
  v44 = v0[41];
  v45 = v0[40];
  v46 = v0[39];
  v47 = v0[38];
  v48 = v0[37];
  v49 = v0[36];
  v50 = v0[35];
  v51 = v0[34];
  v52 = v0[33];
  v53 = v0[32];
  v54 = v0[31];
  v55 = v0[30];
  v56 = v0[29];
  v57 = v0[28];
  v58 = v0[25];
  v59 = v0[22];
  v60 = v0[21];
  v61 = v0[18];
  v62 = v0[17];

  v12 = v0[1];

  return v12();
}

uint64_t sub_1000D0770(uint64_t a1, uint64_t a2)
{
  v2[2] = type metadata accessor for CommunicationActor();
  v2[3] = static CommunicationActor.shared.getter();
  v5 = swift_task_alloc();
  v2[4] = v5;
  *v5 = v2;
  v5[1] = sub_1000D0850;

  return sub_10008E43C(a1, a2);
}

uint64_t sub_1000D0850()
{
  v2 = v0;
  v3 = *(*v1 + 32);
  v4 = *(*v1 + 24);
  v5 = *(*v1 + 16);
  v10 = *v1;
  *(*v1 + 40) = v2;

  sub_1000FAACC(&qword_100129EA0, &type metadata accessor for CommunicationActor);
  v7 = dispatch thunk of Actor.unownedExecutor.getter();
  if (v2)
  {
    v8 = sub_100044448;
  }

  else
  {
    v8 = sub_1000443E4;
  }

  return _swift_task_switch(v8, v7, v6);
}

uint64_t sub_1000D09DC(uint64_t a1, uint64_t a2)
{
  v2[2] = type metadata accessor for CommunicationActor();
  v2[3] = static CommunicationActor.shared.getter();
  v5 = swift_task_alloc();
  v2[4] = v5;
  *v5 = v2;
  v5[1] = sub_10008C444;

  return sub_1000D0D5C(a1, a2);
}

uint64_t sub_1000D0ABC(uint64_t a1, uint64_t a2)
{
  v2[2] = type metadata accessor for CommunicationActor();
  v2[3] = static CommunicationActor.shared.getter();
  v5 = swift_task_alloc();
  v2[4] = v5;
  *v5 = v2;
  v5[1] = sub_10008C444;

  return sub_1000D1DEC(a1, a2);
}

uint64_t sub_1000D0B9C(uint64_t a1, uint64_t a2)
{
  v2[2] = type metadata accessor for CommunicationActor();
  v2[3] = static CommunicationActor.shared.getter();
  v5 = swift_task_alloc();
  v2[4] = v5;
  *v5 = v2;
  v5[1] = sub_10008C444;

  return sub_1000D3334(a1, a2);
}

uint64_t sub_1000D0C7C(uint64_t a1, uint64_t a2)
{
  v2[2] = type metadata accessor for CommunicationActor();
  v2[3] = static CommunicationActor.shared.getter();
  v5 = swift_task_alloc();
  v2[4] = v5;
  *v5 = v2;
  v5[1] = sub_10008C444;

  return sub_1000D487C(a1, a2);
}

uint64_t sub_1000D0D5C(uint64_t a1, uint64_t a2)
{
  v3[5] = a2;
  v3[6] = v2;
  v3[4] = a1;
  v4 = sub_10000560C(&qword_10012B4E8, &qword_10010A3E8);
  v3[7] = v4;
  v5 = *(v4 - 8);
  v3[8] = v5;
  v6 = *(v5 + 64) + 15;
  v3[9] = swift_task_alloc();
  v7 = sub_10000560C(&qword_100129F30, &qword_100108D20);
  v3[10] = v7;
  v8 = *(v7 - 8);
  v3[11] = v8;
  v9 = *(v8 + 64) + 15;
  v3[12] = swift_task_alloc();
  v10 = type metadata accessor for UUID();
  v3[13] = v10;
  v11 = *(v10 - 8);
  v3[14] = v11;
  v12 = *(v11 + 64) + 15;
  v3[15] = swift_task_alloc();
  v3[16] = swift_task_alloc();
  v13 = type metadata accessor for ShuffleID();
  v3[17] = v13;
  v14 = *(v13 - 8);
  v3[18] = v14;
  v15 = *(v14 + 64) + 15;
  v3[19] = swift_task_alloc();
  v3[20] = swift_task_alloc();
  v16 = type metadata accessor for Logger();
  v3[21] = v16;
  v17 = *(v16 - 8);
  v3[22] = v17;
  v18 = *(v17 + 64) + 15;
  v3[23] = swift_task_alloc();
  v3[24] = swift_task_alloc();
  v3[25] = type metadata accessor for CommunicationActor();
  v3[26] = static CommunicationActor.shared.getter();
  v3[27] = sub_1000FAACC(&qword_100129EA0, &type metadata accessor for CommunicationActor);
  v20 = dispatch thunk of Actor.unownedExecutor.getter();
  v3[28] = v20;
  v3[29] = v19;

  return _swift_task_switch(sub_1000D1038, v20, v19);
}

uint64_t sub_1000D1038()
{
  v28 = v0;
  v1 = v0[24];
  v2 = v0[5];
  v3 = SyncFacesRequest.cachedIdentifiers.getter();
  v4 = sub_10006C038(v3);
  v0[30] = v4;

  v5 = SyncFacesRequest.trackedFaces.getter();
  v0[31] = sub_10006C038(v5);

  static Log.photos.getter();

  v6 = Logger.logObject.getter();
  v7 = static os_log_type_t.info.getter();

  v8 = os_log_type_enabled(v6, v7);
  v9 = v0[24];
  v11 = v0[21];
  v10 = v0[22];
  if (v8)
  {
    v12 = v0[13];
    v26 = v0[24];
    v13 = swift_slowAlloc();
    v14 = swift_slowAlloc();
    v27 = v14;
    *v13 = 134218242;
    *(v13 + 4) = *(v4 + 16);

    *(v13 + 12) = 2080;
    sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID);
    v15 = Set.description.getter();
    v17 = sub_100102F80(v15, v16, &v27);

    *(v13 + 14) = v17;
    _os_log_impl(&_mh_execute_header, v6, v7, "Remote device has %ld cached, and is requesting faces: %s", v13, 0x16u);
    sub_10000C304(v14);

    v18 = *(v10 + 8);
    v18(v26, v11);
  }

  else
  {

    v18 = *(v10 + 8);
    v18(v9, v11);
  }

  v0[32] = v18;
  v19 = v0[25];
  v20 = v0[6];
  v0[33] = static CommunicationActor.shared.getter();
  v21 = type metadata accessor for GalleryDatabase();
  v22 = sub_1000FAACC(&qword_10012A3D0, &type metadata accessor for GalleryDatabase);
  v23 = async function pointer to dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()[1];
  v24 = swift_task_alloc();
  v0[34] = v24;
  *v24 = v0;
  v24[1] = sub_1000D1308;

  return dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()(v21, v22);
}

uint64_t sub_1000D1308(uint64_t a1)
{
  v3 = v1;
  v4 = *v2;
  v5 = *v2;
  v6 = *(*v2 + 272);
  v7 = *v2;
  v5[35] = a1;
  v5[36] = v3;

  v8 = v4[33];
  if (v3)
  {
    v10 = v5[30];
    v9 = v5[31];
    v11 = v5[27];
    v12 = v5[25];

    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v14;
    v16 = sub_1000D1C50;
  }

  else
  {
    v17 = v5[27];
    v18 = v5[25];
    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v19;
    v16 = sub_1000D1484;
  }

  return _swift_task_switch(v16, v13, v15);
}

uint64_t sub_1000D1484()
{
  v1 = v0[33];

  v2 = v0[28];
  v3 = v0[29];

  return _swift_task_switch(sub_1000D14E8, v2, v3);
}

uint64_t sub_1000D14E8()
{
  v92 = v0;
  v1 = *(v0[6] + 16);
  v2 = PhotosFaceType.rawValue.getter();
  v4 = v3;
  if (v2 == PhotosFaceType.rawValue.getter() && v4 == v5)
  {
    v14 = v0[31];

    goto LABEL_8;
  }

  v7 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if (v7)
  {
    v13 = v0[31];
LABEL_8:

    v15 = v0[35];
LABEL_30:
    v0[37] = v15;
    v51 = v0[23];
    v52 = v0[6];
    static Log.session.getter();

    v53 = Logger.logObject.getter();
    v54 = static os_log_type_t.default.getter();
    v55 = os_log_type_enabled(v53, v54);
    v56 = v0[32];
    v57 = v0[22];
    v58 = v0[23];
    v59 = v0[21];
    v60 = v0[6];
    if (v55)
    {
      v90 = v0[23];
      v61 = swift_slowAlloc();
      v88 = v56;
      v62 = swift_slowAlloc();
      v91 = v62;
      *v61 = 134218242;
      *(v61 + 4) = v15[2];

      *(v61 + 12) = 2080;
      v86 = v59;
      v63 = PhotosFaceType.description.getter();
      v65 = v64;

      v66 = sub_100102F80(v63, v65, &v91);

      *(v61 + 14) = v66;
      _os_log_impl(&_mh_execute_header, v53, v54, "Sending %ld %s to remote device:", v61, 0x16u);
      sub_10000C304(v62);

      v88(v90, v86);
    }

    else
    {
      v67 = v0[6];

      v56(v58, v59);
    }

    v68 = v0[30];
    v69 = v0[6];
    v0[2] = v15;
    v70 = swift_task_alloc();
    v0[38] = v70;
    *(v70 + 16) = v69;
    *(v70 + 24) = v68;
    v71 = async function pointer to Sequence.asyncMap<A>(predicate:)[1];
    v72 = swift_task_alloc();
    v0[39] = v72;
    v73 = sub_10000560C(&qword_10012B4F0, &qword_10010A400);
    v74 = sub_10000560C(&qword_10012B4F8, &qword_10010A408);
    v0[40] = v74;
    v12 = sub_10000CC24(&qword_10012B500, &qword_10012B4F0, &qword_10010A400);
    *v72 = v0;
    v72[1] = sub_1000D1CB4;
    v8 = &unk_10010A3F8;
    v9 = v70;
    v10 = v73;
    v11 = v74;

    return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
  }

  v16 = v0[35];
  v82 = *(v16 + 16);
  if (!v82)
  {
    v78 = &_swiftEmptyArrayStorage;
LABEL_29:
    v50 = v0[31];

    v15 = v78;
    goto LABEL_30;
  }

  v17 = 0;
  v18 = v0[18];
  v89 = v0[31];
  v87 = v89 + 56;
  v19 = (v0[14] + 8);
  v76 = v0[14];
  v77 = (v18 + 32);
  v78 = &_swiftEmptyArrayStorage;
  v80 = v18;
  v81 = v0[35];
  v79 = (v18 + 8);
  while (v17 < *(v16 + 16))
  {
    v22 = v0[27];
    v23 = v0[25];
    v83 = *(v80 + 72);
    v84 = (*(v80 + 80) + 32) & ~*(v80 + 80);
    v85 = v17;
    (*(v80 + 16))(v0[20], v0[35] + v84 + v83 * v17, v0[17]);
    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v24 = v0[20];
    v26 = v0[16];
    v25 = v0[17];
    sub_1000FAACC(&qword_10012A2B0, &type metadata accessor for ShuffleID);
    dispatch thunk of PhotosFaceID.id.getter();
    if (*(v89 + 16) && (v27 = v0[16], v28 = v0[13], v29 = *(v89 + 40), sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID), v30 = dispatch thunk of Hashable._rawHashValue(seed:)(), v31 = -1 << *(v89 + 32), v32 = v30 & ~v31, ((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) != 0))
    {
      v33 = ~v31;
      v34 = *(v76 + 72);
      v35 = *(v76 + 16);
      while (1)
      {
        v36 = v0[15];
        v37 = v0[13];
        v35(v36, *(v89 + 48) + v32 * v34, v37);
        sub_1000FAACC(&qword_10012A660, &type metadata accessor for UUID);
        v38 = dispatch thunk of static Equatable.== infix(_:_:)();
        v39 = *v19;
        (*v19)(v36, v37);
        if (v38)
        {
          break;
        }

        v32 = (v32 + 1) & v33;
        if (((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) == 0)
        {
          goto LABEL_11;
        }
      }

      v40 = v0[19];
      v41 = v0[20];
      v42 = v0[17];
      v39(v0[16], v0[13]);

      v43 = *v77;
      (*v77)(v40, v41, v42);
      v44 = v78;
      v91 = v78;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_10005C56C(0, v78[2] + 1, 1);
        v44 = v91;
      }

      v46 = *(v44 + 16);
      v45 = *(v44 + 24);
      if (v46 >= v45 >> 1)
      {
        sub_10005C56C(v45 > 1, v46 + 1, 1);
        v44 = v91;
      }

      v47 = v0[19];
      v48 = v0[17];
      *(v44 + 16) = v46 + 1;
      v78 = v44;
      v8 = v43(v44 + v84 + v46 * v83, v47, v48);
    }

    else
    {
LABEL_11:
      v20 = v0[20];
      v21 = v0[17];
      (*v19)(v0[16], v0[13]);

      v8 = (*v79)(v20, v21);
    }

    v17 = v85 + 1;
    v16 = v81;
    if (v85 + 1 == v82)
    {
      v49 = v0[35];
      goto LABEL_29;
    }
  }

  __break(1u);
  return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
}

uint64_t sub_1000D1C50()
{
  v1 = v0[33];

  v2 = v0[28];
  v3 = v0[29];

  return _swift_task_switch(sub_1000FBEF0, v2, v3);
}

uint64_t sub_1000D1CB4(uint64_t a1)
{
  v3 = *v2;
  v4 = *(*v2 + 312);
  v12 = *v2;
  v3[41] = a1;
  v3[42] = v1;

  if (v1)
  {
    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000FBE2C;
  }

  else
  {
    v9 = v3[37];
    v8 = v3[38];
    v10 = v3[30];

    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000FBECC;
  }

  return _swift_task_switch(v7, v5, v6);
}

uint64_t sub_1000D1DEC(uint64_t a1, uint64_t a2)
{
  v3[5] = a2;
  v3[6] = v2;
  v3[4] = a1;
  v4 = sub_10000560C(&qword_10012B558, &qword_10010A5D0);
  v3[7] = v4;
  v5 = *(v4 - 8);
  v3[8] = v5;
  v6 = *(v5 + 64) + 15;
  v3[9] = swift_task_alloc();
  v7 = sub_10000560C(&qword_100129F60, &qword_100108D78);
  v3[10] = v7;
  v8 = *(v7 - 8);
  v3[11] = v8;
  v9 = *(v8 + 64) + 15;
  v3[12] = swift_task_alloc();
  v10 = type metadata accessor for UUID();
  v3[13] = v10;
  v11 = *(v10 - 8);
  v3[14] = v11;
  v12 = *(v11 + 64) + 15;
  v3[15] = swift_task_alloc();
  v3[16] = swift_task_alloc();
  v13 = type metadata accessor for DailyID();
  v3[17] = v13;
  v14 = *(v13 - 8);
  v3[18] = v14;
  v15 = *(v14 + 64) + 15;
  v3[19] = swift_task_alloc();
  v3[20] = swift_task_alloc();
  v16 = type metadata accessor for Logger();
  v3[21] = v16;
  v17 = *(v16 - 8);
  v3[22] = v17;
  v18 = *(v17 + 64) + 15;
  v3[23] = swift_task_alloc();
  v3[24] = swift_task_alloc();
  v3[25] = type metadata accessor for CommunicationActor();
  v3[26] = static CommunicationActor.shared.getter();
  v3[27] = sub_1000FAACC(&qword_100129EA0, &type metadata accessor for CommunicationActor);
  v20 = dispatch thunk of Actor.unownedExecutor.getter();
  v3[28] = v20;
  v3[29] = v19;

  return _swift_task_switch(sub_1000D20C8, v20, v19);
}

uint64_t sub_1000D20C8()
{
  v28 = v0;
  v1 = v0[24];
  v2 = v0[5];
  v3 = SyncFacesRequest.cachedIdentifiers.getter();
  v4 = sub_10006C038(v3);
  v0[30] = v4;

  v5 = SyncFacesRequest.trackedFaces.getter();
  v0[31] = sub_10006C038(v5);

  static Log.photos.getter();

  v6 = Logger.logObject.getter();
  v7 = static os_log_type_t.info.getter();

  v8 = os_log_type_enabled(v6, v7);
  v9 = v0[24];
  v11 = v0[21];
  v10 = v0[22];
  if (v8)
  {
    v12 = v0[13];
    v26 = v0[24];
    v13 = swift_slowAlloc();
    v14 = swift_slowAlloc();
    v27 = v14;
    *v13 = 134218242;
    *(v13 + 4) = *(v4 + 16);

    *(v13 + 12) = 2080;
    sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID);
    v15 = Set.description.getter();
    v17 = sub_100102F80(v15, v16, &v27);

    *(v13 + 14) = v17;
    _os_log_impl(&_mh_execute_header, v6, v7, "Remote device has %ld cached, and is requesting faces: %s", v13, 0x16u);
    sub_10000C304(v14);

    v18 = *(v10 + 8);
    v18(v26, v11);
  }

  else
  {

    v18 = *(v10 + 8);
    v18(v9, v11);
  }

  v0[32] = v18;
  v19 = v0[25];
  v20 = v0[6];
  v0[33] = static CommunicationActor.shared.getter();
  v21 = type metadata accessor for DailyDatabase();
  v22 = sub_1000FAACC(&qword_10012A468, &type metadata accessor for DailyDatabase);
  v23 = async function pointer to dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()[1];
  v24 = swift_task_alloc();
  v0[34] = v24;
  *v24 = v0;
  v24[1] = sub_1000D2398;

  return dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()(v21, v22);
}

uint64_t sub_1000D2398(uint64_t a1)
{
  v3 = v1;
  v4 = *v2;
  v5 = *v2;
  v6 = *(*v2 + 272);
  v7 = *v2;
  v5[35] = a1;
  v5[36] = v3;

  v8 = v4[33];
  if (v3)
  {
    v10 = v5[30];
    v9 = v5[31];
    v11 = v5[27];
    v12 = v5[25];

    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v14;
    v16 = sub_1000D1C50;
  }

  else
  {
    v17 = v5[27];
    v18 = v5[25];
    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v19;
    v16 = sub_1000D2514;
  }

  return _swift_task_switch(v16, v13, v15);
}

uint64_t sub_1000D2514()
{
  v1 = v0[33];

  v2 = v0[28];
  v3 = v0[29];

  return _swift_task_switch(sub_1000D2578, v2, v3);
}

uint64_t sub_1000D2578()
{
  v92 = v0;
  v1 = *(v0[6] + 16);
  v2 = PhotosFaceType.rawValue.getter();
  v4 = v3;
  if (v2 == PhotosFaceType.rawValue.getter() && v4 == v5)
  {
    v14 = v0[31];

    goto LABEL_8;
  }

  v7 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if (v7)
  {
    v13 = v0[31];
LABEL_8:

    v15 = v0[35];
LABEL_30:
    v0[37] = v15;
    v51 = v0[23];
    v52 = v0[6];
    static Log.session.getter();

    v53 = Logger.logObject.getter();
    v54 = static os_log_type_t.default.getter();
    v55 = os_log_type_enabled(v53, v54);
    v56 = v0[32];
    v57 = v0[22];
    v58 = v0[23];
    v59 = v0[21];
    v60 = v0[6];
    if (v55)
    {
      v90 = v0[23];
      v61 = swift_slowAlloc();
      v88 = v56;
      v62 = swift_slowAlloc();
      v91 = v62;
      *v61 = 134218242;
      *(v61 + 4) = v15[2];

      *(v61 + 12) = 2080;
      v86 = v59;
      v63 = PhotosFaceType.description.getter();
      v65 = v64;

      v66 = sub_100102F80(v63, v65, &v91);

      *(v61 + 14) = v66;
      _os_log_impl(&_mh_execute_header, v53, v54, "Sending %ld %s to remote device:", v61, 0x16u);
      sub_10000C304(v62);

      v88(v90, v86);
    }

    else
    {
      v67 = v0[6];

      v56(v58, v59);
    }

    v68 = v0[30];
    v69 = v0[6];
    v0[2] = v15;
    v70 = swift_task_alloc();
    v0[38] = v70;
    *(v70 + 16) = v69;
    *(v70 + 24) = v68;
    v71 = async function pointer to Sequence.asyncMap<A>(predicate:)[1];
    v72 = swift_task_alloc();
    v0[39] = v72;
    v73 = sub_10000560C(&qword_10012B560, &qword_10010A5E8);
    v74 = sub_10000560C(&qword_10012B568, &qword_10010A5F0);
    v0[40] = v74;
    v12 = sub_10000CC24(&qword_10012B570, &qword_10012B560, &qword_10010A5E8);
    *v72 = v0;
    v72[1] = sub_1000D2CE0;
    v8 = &unk_10010A5E0;
    v9 = v70;
    v10 = v73;
    v11 = v74;

    return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
  }

  v16 = v0[35];
  v82 = *(v16 + 16);
  if (!v82)
  {
    v78 = &_swiftEmptyArrayStorage;
LABEL_29:
    v50 = v0[31];

    v15 = v78;
    goto LABEL_30;
  }

  v17 = 0;
  v18 = v0[18];
  v89 = v0[31];
  v87 = v89 + 56;
  v19 = (v0[14] + 8);
  v76 = v0[14];
  v77 = (v18 + 32);
  v78 = &_swiftEmptyArrayStorage;
  v80 = v18;
  v81 = v0[35];
  v79 = (v18 + 8);
  while (v17 < *(v16 + 16))
  {
    v22 = v0[27];
    v23 = v0[25];
    v83 = *(v80 + 72);
    v84 = (*(v80 + 80) + 32) & ~*(v80 + 80);
    v85 = v17;
    (*(v80 + 16))(v0[20], v0[35] + v84 + v83 * v17, v0[17]);
    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v24 = v0[20];
    v26 = v0[16];
    v25 = v0[17];
    sub_1000FAACC(&qword_10012A178, &type metadata accessor for DailyID);
    dispatch thunk of PhotosFaceID.id.getter();
    if (*(v89 + 16) && (v27 = v0[16], v28 = v0[13], v29 = *(v89 + 40), sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID), v30 = dispatch thunk of Hashable._rawHashValue(seed:)(), v31 = -1 << *(v89 + 32), v32 = v30 & ~v31, ((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) != 0))
    {
      v33 = ~v31;
      v34 = *(v76 + 72);
      v35 = *(v76 + 16);
      while (1)
      {
        v36 = v0[15];
        v37 = v0[13];
        v35(v36, *(v89 + 48) + v32 * v34, v37);
        sub_1000FAACC(&qword_10012A660, &type metadata accessor for UUID);
        v38 = dispatch thunk of static Equatable.== infix(_:_:)();
        v39 = *v19;
        (*v19)(v36, v37);
        if (v38)
        {
          break;
        }

        v32 = (v32 + 1) & v33;
        if (((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) == 0)
        {
          goto LABEL_11;
        }
      }

      v40 = v0[19];
      v41 = v0[20];
      v42 = v0[17];
      v39(v0[16], v0[13]);

      v43 = *v77;
      (*v77)(v40, v41, v42);
      v44 = v78;
      v91 = v78;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_10005C714(0, v78[2] + 1, 1);
        v44 = v91;
      }

      v46 = *(v44 + 16);
      v45 = *(v44 + 24);
      if (v46 >= v45 >> 1)
      {
        sub_10005C714(v45 > 1, v46 + 1, 1);
        v44 = v91;
      }

      v47 = v0[19];
      v48 = v0[17];
      *(v44 + 16) = v46 + 1;
      v78 = v44;
      v8 = v43(v44 + v84 + v46 * v83, v47, v48);
    }

    else
    {
LABEL_11:
      v20 = v0[20];
      v21 = v0[17];
      (*v19)(v0[16], v0[13]);

      v8 = (*v79)(v20, v21);
    }

    v17 = v85 + 1;
    v16 = v81;
    if (v85 + 1 == v82)
    {
      v49 = v0[35];
      goto LABEL_29;
    }
  }

  __break(1u);
  return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
}

uint64_t sub_1000D2CE0(uint64_t a1)
{
  v3 = *v2;
  v4 = *(*v2 + 312);
  v12 = *v2;
  v3[41] = a1;
  v3[42] = v1;

  if (v1)
  {
    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000FBE2C;
  }

  else
  {
    v9 = v3[37];
    v8 = v3[38];
    v10 = v3[30];

    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000D2E18;
  }

  return _swift_task_switch(v7, v5, v6);
}

uint64_t sub_1000D2E18()
{
  v1 = v0[41];
  v2 = v0[26];

  v48 = *(v1 + 16);
  v49 = v1;
  if (!v48)
  {
    v6 = &_swiftEmptyArrayStorage;
LABEL_43:
    v38 = v0[40];
    v37 = v0[41];
    v40 = v0[23];
    v39 = v0[24];
    v51 = v0[20];
    v53 = v0[19];
    v55 = v0[16];
    v56 = v0[15];
    v58 = v0[12];
    v41 = v0[8];
    v42 = v0[9];
    v43 = v0[7];
    v44 = v0[4];

    v0[3] = v6;
    sub_10000CC24(&qword_10012B578, &qword_10012B568, &qword_10010A5F0);
    Sequence.async.getter();

    sub_10000CC24(&qword_10012B580, &qword_10012B558, &qword_10010A5D0);
    AsyncSequence<>.throwing.getter();
    (*(v41 + 8))(v42, v43);

    v45 = v0[1];

    return v45();
  }

  v4 = 0;
  v5 = v0[11];
  v47 = v0[41] + 32;
  v54 = (v5 + 8);
  v6 = &_swiftEmptyArrayStorage;
  v46 = v5;
  while (1)
  {
    if (v4 >= *(v49 + 16))
    {
      goto LABEL_50;
    }

    v7 = v0[27];
    v8 = v0[25];
    v9 = *(v47 + 8 * v4);

    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v10 = v9;
    v11 = *(v9 + 16);
    if (v11)
    {
      break;
    }

    v14 = &_swiftEmptyArrayStorage;
LABEL_29:

    v28 = v14[2];
    v29 = v6[2];
    v30 = v29 + v28;
    if (__OFADD__(v29, v28))
    {
      goto LABEL_51;
    }

    result = swift_isUniquelyReferenced_nonNull_native();
    if (result && v30 <= v6[3] >> 1)
    {
      if (v14[2])
      {
        goto LABEL_38;
      }
    }

    else
    {
      if (v29 <= v30)
      {
        v31 = v29 + v28;
      }

      else
      {
        v31 = v29;
      }

      result = sub_1001002D0(result, v31, 1, v6);
      v6 = result;
      if (v14[2])
      {
LABEL_38:
        if ((v6[3] >> 1) - v6[2] < v28)
        {
          goto LABEL_53;
        }

        v32 = v0[10];
        v33 = (*(v5 + 80) + 32) & ~*(v5 + 80);
        v34 = *(v5 + 72);
        swift_arrayInitWithCopy();

        if (v28)
        {
          v35 = v6[2];
          v26 = __OFADD__(v35, v28);
          v36 = v35 + v28;
          if (v26)
          {
            goto LABEL_54;
          }

          v6[2] = v36;
        }

        goto LABEL_4;
      }
    }

    if (v28)
    {
      goto LABEL_52;
    }

LABEL_4:
    if (++v4 == v48)
    {
      goto LABEL_43;
    }
  }

  v50 = v4;
  v52 = v6;
  v12 = v10 + ((*(v5 + 80) + 32) & ~*(v5 + 80));
  v13 = *(v5 + 72);
  v57 = *(v5 + 16);
  v14 = &_swiftEmptyArrayStorage;
  while (1)
  {
    v15 = v0[27];
    v16 = v0[25];
    v57(v0[12], v12, v0[10]);
    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v17 = v0[12];
    v18 = v0[10];
    v19 = SyncedPhotosFace.streamify()();
    (*v54)(v17, v18);

    v20 = *(v19 + 16);
    v21 = v14[2];
    v22 = v21 + v20;
    if (__OFADD__(v21, v20))
    {
      break;
    }

    result = swift_isUniquelyReferenced_nonNull_native();
    if (result && v22 <= v14[3] >> 1)
    {
      if (*(v19 + 16))
      {
        goto LABEL_23;
      }
    }

    else
    {
      if (v21 <= v22)
      {
        v23 = v21 + v20;
      }

      else
      {
        v23 = v21;
      }

      result = sub_1001002D0(result, v23, 1, v14);
      v14 = result;
      if (*(v19 + 16))
      {
LABEL_23:
        if ((v14[3] >> 1) - v14[2] < v20)
        {
          goto LABEL_48;
        }

        v24 = v0[10];
        swift_arrayInitWithCopy();

        if (v20)
        {
          v25 = v14[2];
          v26 = __OFADD__(v25, v20);
          v27 = v25 + v20;
          if (v26)
          {
            goto LABEL_49;
          }

          v14[2] = v27;
        }

        goto LABEL_11;
      }
    }

    if (v20)
    {
      goto LABEL_47;
    }

LABEL_11:
    v12 += v13;
    if (!--v11)
    {

      v4 = v50;
      v6 = v52;
      v5 = v46;
      goto LABEL_29;
    }
  }

  __break(1u);
LABEL_47:
  __break(1u);
LABEL_48:
  __break(1u);
LABEL_49:
  __break(1u);
LABEL_50:
  __break(1u);
LABEL_51:
  __break(1u);
LABEL_52:
  __break(1u);
LABEL_53:
  __break(1u);
LABEL_54:
  __break(1u);
  return result;
}

uint64_t sub_1000D3334(uint64_t a1, uint64_t a2)
{
  v3[5] = a2;
  v3[6] = v2;
  v3[4] = a1;
  v4 = sub_10000560C(&qword_10012B4E8, &qword_10010A3E8);
  v3[7] = v4;
  v5 = *(v4 - 8);
  v3[8] = v5;
  v6 = *(v5 + 64) + 15;
  v3[9] = swift_task_alloc();
  v7 = sub_10000560C(&qword_100129F30, &qword_100108D20);
  v3[10] = v7;
  v8 = *(v7 - 8);
  v3[11] = v8;
  v9 = *(v8 + 64) + 15;
  v3[12] = swift_task_alloc();
  v10 = type metadata accessor for UUID();
  v3[13] = v10;
  v11 = *(v10 - 8);
  v3[14] = v11;
  v12 = *(v11 + 64) + 15;
  v3[15] = swift_task_alloc();
  v3[16] = swift_task_alloc();
  v13 = type metadata accessor for ShuffleID();
  v3[17] = v13;
  v14 = *(v13 - 8);
  v3[18] = v14;
  v15 = *(v14 + 64) + 15;
  v3[19] = swift_task_alloc();
  v3[20] = swift_task_alloc();
  v16 = type metadata accessor for Logger();
  v3[21] = v16;
  v17 = *(v16 - 8);
  v3[22] = v17;
  v18 = *(v17 + 64) + 15;
  v3[23] = swift_task_alloc();
  v3[24] = swift_task_alloc();
  v3[25] = type metadata accessor for CommunicationActor();
  v3[26] = static CommunicationActor.shared.getter();
  v3[27] = sub_1000FAACC(&qword_100129EA0, &type metadata accessor for CommunicationActor);
  v20 = dispatch thunk of Actor.unownedExecutor.getter();
  v3[28] = v20;
  v3[29] = v19;

  return _swift_task_switch(sub_1000D3610, v20, v19);
}

uint64_t sub_1000D3610()
{
  v28 = v0;
  v1 = v0[24];
  v2 = v0[5];
  v3 = SyncFacesRequest.cachedIdentifiers.getter();
  v4 = sub_10006C038(v3);
  v0[30] = v4;

  v5 = SyncFacesRequest.trackedFaces.getter();
  v0[31] = sub_10006C038(v5);

  static Log.photos.getter();

  v6 = Logger.logObject.getter();
  v7 = static os_log_type_t.info.getter();

  v8 = os_log_type_enabled(v6, v7);
  v9 = v0[24];
  v11 = v0[21];
  v10 = v0[22];
  if (v8)
  {
    v12 = v0[13];
    v26 = v0[24];
    v13 = swift_slowAlloc();
    v14 = swift_slowAlloc();
    v27 = v14;
    *v13 = 134218242;
    *(v13 + 4) = *(v4 + 16);

    *(v13 + 12) = 2080;
    sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID);
    v15 = Set.description.getter();
    v17 = sub_100102F80(v15, v16, &v27);

    *(v13 + 14) = v17;
    _os_log_impl(&_mh_execute_header, v6, v7, "Remote device has %ld cached, and is requesting faces: %s", v13, 0x16u);
    sub_10000C304(v14);

    v18 = *(v10 + 8);
    v18(v26, v11);
  }

  else
  {

    v18 = *(v10 + 8);
    v18(v9, v11);
  }

  v0[32] = v18;
  v19 = v0[25];
  v20 = v0[6];
  v0[33] = static CommunicationActor.shared.getter();
  v21 = type metadata accessor for ShuffleDatabase();
  v22 = sub_1000FAACC(&qword_10012A478, &type metadata accessor for ShuffleDatabase);
  v23 = async function pointer to dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()[1];
  v24 = swift_task_alloc();
  v0[34] = v24;
  *v24 = v0;
  v24[1] = sub_1000D38E0;

  return dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()(v21, v22);
}

uint64_t sub_1000D38E0(uint64_t a1)
{
  v3 = v1;
  v4 = *v2;
  v5 = *v2;
  v6 = *(*v2 + 272);
  v7 = *v2;
  v5[35] = a1;
  v5[36] = v3;

  v8 = v4[33];
  if (v3)
  {
    v10 = v5[30];
    v9 = v5[31];
    v11 = v5[27];
    v12 = v5[25];

    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v14;
    v16 = sub_1000D1C50;
  }

  else
  {
    v17 = v5[27];
    v18 = v5[25];
    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v19;
    v16 = sub_1000D3A5C;
  }

  return _swift_task_switch(v16, v13, v15);
}

uint64_t sub_1000D3A5C()
{
  v1 = v0[33];

  v2 = v0[28];
  v3 = v0[29];

  return _swift_task_switch(sub_1000D3AC0, v2, v3);
}

uint64_t sub_1000D3AC0()
{
  v92 = v0;
  v1 = *(v0[6] + 16);
  v2 = PhotosFaceType.rawValue.getter();
  v4 = v3;
  if (v2 == PhotosFaceType.rawValue.getter() && v4 == v5)
  {
    v14 = v0[31];

    goto LABEL_8;
  }

  v7 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if (v7)
  {
    v13 = v0[31];
LABEL_8:

    v15 = v0[35];
LABEL_30:
    v0[37] = v15;
    v51 = v0[23];
    v52 = v0[6];
    static Log.session.getter();

    v53 = Logger.logObject.getter();
    v54 = static os_log_type_t.default.getter();
    v55 = os_log_type_enabled(v53, v54);
    v56 = v0[32];
    v57 = v0[22];
    v58 = v0[23];
    v59 = v0[21];
    v60 = v0[6];
    if (v55)
    {
      v90 = v0[23];
      v61 = swift_slowAlloc();
      v88 = v56;
      v62 = swift_slowAlloc();
      v91 = v62;
      *v61 = 134218242;
      *(v61 + 4) = v15[2];

      *(v61 + 12) = 2080;
      v86 = v59;
      v63 = PhotosFaceType.description.getter();
      v65 = v64;

      v66 = sub_100102F80(v63, v65, &v91);

      *(v61 + 14) = v66;
      _os_log_impl(&_mh_execute_header, v53, v54, "Sending %ld %s to remote device:", v61, 0x16u);
      sub_10000C304(v62);

      v88(v90, v86);
    }

    else
    {
      v67 = v0[6];

      v56(v58, v59);
    }

    v68 = v0[30];
    v69 = v0[6];
    v0[2] = v15;
    v70 = swift_task_alloc();
    v0[38] = v70;
    *(v70 + 16) = v69;
    *(v70 + 24) = v68;
    v71 = async function pointer to Sequence.asyncMap<A>(predicate:)[1];
    v72 = swift_task_alloc();
    v0[39] = v72;
    v73 = sub_10000560C(&qword_10012B4F0, &qword_10010A400);
    v74 = sub_10000560C(&qword_10012B4F8, &qword_10010A408);
    v0[40] = v74;
    v12 = sub_10000CC24(&qword_10012B500, &qword_10012B4F0, &qword_10010A400);
    *v72 = v0;
    v72[1] = sub_1000D4228;
    v8 = &unk_10010A770;
    v9 = v70;
    v10 = v73;
    v11 = v74;

    return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
  }

  v16 = v0[35];
  v82 = *(v16 + 16);
  if (!v82)
  {
    v78 = &_swiftEmptyArrayStorage;
LABEL_29:
    v50 = v0[31];

    v15 = v78;
    goto LABEL_30;
  }

  v17 = 0;
  v18 = v0[18];
  v89 = v0[31];
  v87 = v89 + 56;
  v19 = (v0[14] + 8);
  v76 = v0[14];
  v77 = (v18 + 32);
  v78 = &_swiftEmptyArrayStorage;
  v80 = v18;
  v81 = v0[35];
  v79 = (v18 + 8);
  while (v17 < *(v16 + 16))
  {
    v22 = v0[27];
    v23 = v0[25];
    v83 = *(v80 + 72);
    v84 = (*(v80 + 80) + 32) & ~*(v80 + 80);
    v85 = v17;
    (*(v80 + 16))(v0[20], v0[35] + v84 + v83 * v17, v0[17]);
    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v24 = v0[20];
    v26 = v0[16];
    v25 = v0[17];
    sub_1000FAACC(&qword_10012A2B0, &type metadata accessor for ShuffleID);
    dispatch thunk of PhotosFaceID.id.getter();
    if (*(v89 + 16) && (v27 = v0[16], v28 = v0[13], v29 = *(v89 + 40), sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID), v30 = dispatch thunk of Hashable._rawHashValue(seed:)(), v31 = -1 << *(v89 + 32), v32 = v30 & ~v31, ((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) != 0))
    {
      v33 = ~v31;
      v34 = *(v76 + 72);
      v35 = *(v76 + 16);
      while (1)
      {
        v36 = v0[15];
        v37 = v0[13];
        v35(v36, *(v89 + 48) + v32 * v34, v37);
        sub_1000FAACC(&qword_10012A660, &type metadata accessor for UUID);
        v38 = dispatch thunk of static Equatable.== infix(_:_:)();
        v39 = *v19;
        (*v19)(v36, v37);
        if (v38)
        {
          break;
        }

        v32 = (v32 + 1) & v33;
        if (((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) == 0)
        {
          goto LABEL_11;
        }
      }

      v40 = v0[19];
      v41 = v0[20];
      v42 = v0[17];
      v39(v0[16], v0[13]);

      v43 = *v77;
      (*v77)(v40, v41, v42);
      v44 = v78;
      v91 = v78;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_10005C56C(0, v78[2] + 1, 1);
        v44 = v91;
      }

      v46 = *(v44 + 16);
      v45 = *(v44 + 24);
      if (v46 >= v45 >> 1)
      {
        sub_10005C56C(v45 > 1, v46 + 1, 1);
        v44 = v91;
      }

      v47 = v0[19];
      v48 = v0[17];
      *(v44 + 16) = v46 + 1;
      v78 = v44;
      v8 = v43(v44 + v84 + v46 * v83, v47, v48);
    }

    else
    {
LABEL_11:
      v20 = v0[20];
      v21 = v0[17];
      (*v19)(v0[16], v0[13]);

      v8 = (*v79)(v20, v21);
    }

    v17 = v85 + 1;
    v16 = v81;
    if (v85 + 1 == v82)
    {
      v49 = v0[35];
      goto LABEL_29;
    }
  }

  __break(1u);
  return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
}

uint64_t sub_1000D4228(uint64_t a1)
{
  v3 = *v2;
  v4 = *(*v2 + 312);
  v12 = *v2;
  v3[41] = a1;
  v3[42] = v1;

  if (v1)
  {
    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000FBE2C;
  }

  else
  {
    v9 = v3[37];
    v8 = v3[38];
    v10 = v3[30];

    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000D4360;
  }

  return _swift_task_switch(v7, v5, v6);
}

uint64_t sub_1000D4360()
{
  v1 = v0[41];
  v2 = v0[26];

  v48 = *(v1 + 16);
  v49 = v1;
  if (!v48)
  {
    v6 = &_swiftEmptyArrayStorage;
LABEL_43:
    v38 = v0[40];
    v37 = v0[41];
    v40 = v0[23];
    v39 = v0[24];
    v51 = v0[20];
    v53 = v0[19];
    v55 = v0[16];
    v56 = v0[15];
    v58 = v0[12];
    v41 = v0[8];
    v42 = v0[9];
    v43 = v0[7];
    v44 = v0[4];

    v0[3] = v6;
    sub_10000CC24(&qword_10012B508, &qword_10012B4F8, &qword_10010A408);
    Sequence.async.getter();

    sub_10000CC24(&qword_10012B510, &qword_10012B4E8, &qword_10010A3E8);
    AsyncSequence<>.throwing.getter();
    (*(v41 + 8))(v42, v43);

    v45 = v0[1];

    return v45();
  }

  v4 = 0;
  v5 = v0[11];
  v47 = v0[41] + 32;
  v54 = (v5 + 8);
  v6 = &_swiftEmptyArrayStorage;
  v46 = v5;
  while (1)
  {
    if (v4 >= *(v49 + 16))
    {
      goto LABEL_50;
    }

    v7 = v0[27];
    v8 = v0[25];
    v9 = *(v47 + 8 * v4);

    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v10 = v9;
    v11 = *(v9 + 16);
    if (v11)
    {
      break;
    }

    v14 = &_swiftEmptyArrayStorage;
LABEL_29:

    v28 = v14[2];
    v29 = v6[2];
    v30 = v29 + v28;
    if (__OFADD__(v29, v28))
    {
      goto LABEL_51;
    }

    result = swift_isUniquelyReferenced_nonNull_native();
    if (result && v30 <= v6[3] >> 1)
    {
      if (v14[2])
      {
        goto LABEL_38;
      }
    }

    else
    {
      if (v29 <= v30)
      {
        v31 = v29 + v28;
      }

      else
      {
        v31 = v29;
      }

      result = sub_1001002AC(result, v31, 1, v6);
      v6 = result;
      if (v14[2])
      {
LABEL_38:
        if ((v6[3] >> 1) - v6[2] < v28)
        {
          goto LABEL_53;
        }

        v32 = v0[10];
        v33 = (*(v5 + 80) + 32) & ~*(v5 + 80);
        v34 = *(v5 + 72);
        swift_arrayInitWithCopy();

        if (v28)
        {
          v35 = v6[2];
          v26 = __OFADD__(v35, v28);
          v36 = v35 + v28;
          if (v26)
          {
            goto LABEL_54;
          }

          v6[2] = v36;
        }

        goto LABEL_4;
      }
    }

    if (v28)
    {
      goto LABEL_52;
    }

LABEL_4:
    if (++v4 == v48)
    {
      goto LABEL_43;
    }
  }

  v50 = v4;
  v52 = v6;
  v12 = v10 + ((*(v5 + 80) + 32) & ~*(v5 + 80));
  v13 = *(v5 + 72);
  v57 = *(v5 + 16);
  v14 = &_swiftEmptyArrayStorage;
  while (1)
  {
    v15 = v0[27];
    v16 = v0[25];
    v57(v0[12], v12, v0[10]);
    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v17 = v0[12];
    v18 = v0[10];
    v19 = SyncedPhotosFace.streamify()();
    (*v54)(v17, v18);

    v20 = *(v19 + 16);
    v21 = v14[2];
    v22 = v21 + v20;
    if (__OFADD__(v21, v20))
    {
      break;
    }

    result = swift_isUniquelyReferenced_nonNull_native();
    if (result && v22 <= v14[3] >> 1)
    {
      if (*(v19 + 16))
      {
        goto LABEL_23;
      }
    }

    else
    {
      if (v21 <= v22)
      {
        v23 = v21 + v20;
      }

      else
      {
        v23 = v21;
      }

      result = sub_1001002AC(result, v23, 1, v14);
      v14 = result;
      if (*(v19 + 16))
      {
LABEL_23:
        if ((v14[3] >> 1) - v14[2] < v20)
        {
          goto LABEL_48;
        }

        v24 = v0[10];
        swift_arrayInitWithCopy();

        if (v20)
        {
          v25 = v14[2];
          v26 = __OFADD__(v25, v20);
          v27 = v25 + v20;
          if (v26)
          {
            goto LABEL_49;
          }

          v14[2] = v27;
        }

        goto LABEL_11;
      }
    }

    if (v20)
    {
      goto LABEL_47;
    }

LABEL_11:
    v12 += v13;
    if (!--v11)
    {

      v4 = v50;
      v6 = v52;
      v5 = v46;
      goto LABEL_29;
    }
  }

  __break(1u);
LABEL_47:
  __break(1u);
LABEL_48:
  __break(1u);
LABEL_49:
  __break(1u);
LABEL_50:
  __break(1u);
LABEL_51:
  __break(1u);
LABEL_52:
  __break(1u);
LABEL_53:
  __break(1u);
LABEL_54:
  __break(1u);
  return result;
}

uint64_t sub_1000D487C(uint64_t a1, uint64_t a2)
{
  v3[5] = a2;
  v3[6] = v2;
  v3[4] = a1;
  v4 = sub_10000560C(&qword_10012B5D0, &qword_10010A918);
  v3[7] = v4;
  v5 = *(v4 - 8);
  v3[8] = v5;
  v6 = *(v5 + 64) + 15;
  v3[9] = swift_task_alloc();
  v7 = sub_10000560C(&qword_100129F70, &qword_100108D90);
  v3[10] = v7;
  v8 = *(v7 - 8);
  v3[11] = v8;
  v9 = *(v8 + 64) + 15;
  v3[12] = swift_task_alloc();
  v10 = type metadata accessor for UUID();
  v3[13] = v10;
  v11 = *(v10 - 8);
  v3[14] = v11;
  v12 = *(v11 + 64) + 15;
  v3[15] = swift_task_alloc();
  v3[16] = swift_task_alloc();
  v13 = type metadata accessor for AlbumID();
  v3[17] = v13;
  v14 = *(v13 - 8);
  v3[18] = v14;
  v15 = *(v14 + 64) + 15;
  v3[19] = swift_task_alloc();
  v3[20] = swift_task_alloc();
  v16 = type metadata accessor for Logger();
  v3[21] = v16;
  v17 = *(v16 - 8);
  v3[22] = v17;
  v18 = *(v17 + 64) + 15;
  v3[23] = swift_task_alloc();
  v3[24] = swift_task_alloc();
  v3[25] = type metadata accessor for CommunicationActor();
  v3[26] = static CommunicationActor.shared.getter();
  v3[27] = sub_1000FAACC(&qword_100129EA0, &type metadata accessor for CommunicationActor);
  v20 = dispatch thunk of Actor.unownedExecutor.getter();
  v3[28] = v20;
  v3[29] = v19;

  return _swift_task_switch(sub_1000D4B58, v20, v19);
}

uint64_t sub_1000D4B58()
{
  v28 = v0;
  v1 = v0[24];
  v2 = v0[5];
  v3 = SyncFacesRequest.cachedIdentifiers.getter();
  v4 = sub_10006C038(v3);
  v0[30] = v4;

  v5 = SyncFacesRequest.trackedFaces.getter();
  v0[31] = sub_10006C038(v5);

  static Log.photos.getter();

  v6 = Logger.logObject.getter();
  v7 = static os_log_type_t.info.getter();

  v8 = os_log_type_enabled(v6, v7);
  v9 = v0[24];
  v11 = v0[21];
  v10 = v0[22];
  if (v8)
  {
    v12 = v0[13];
    v26 = v0[24];
    v13 = swift_slowAlloc();
    v14 = swift_slowAlloc();
    v27 = v14;
    *v13 = 134218242;
    *(v13 + 4) = *(v4 + 16);

    *(v13 + 12) = 2080;
    sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID);
    v15 = Set.description.getter();
    v17 = sub_100102F80(v15, v16, &v27);

    *(v13 + 14) = v17;
    _os_log_impl(&_mh_execute_header, v6, v7, "Remote device has %ld cached, and is requesting faces: %s", v13, 0x16u);
    sub_10000C304(v14);

    v18 = *(v10 + 8);
    v18(v26, v11);
  }

  else
  {

    v18 = *(v10 + 8);
    v18(v9, v11);
  }

  v0[32] = v18;
  v19 = v0[25];
  v20 = v0[6];
  v0[33] = static CommunicationActor.shared.getter();
  v21 = type metadata accessor for AlbumDatabase();
  v22 = sub_1000FAACC(&qword_10012A488, &type metadata accessor for AlbumDatabase);
  v23 = async function pointer to dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()[1];
  v24 = swift_task_alloc();
  v0[34] = v24;
  *v24 = v0;
  v24[1] = sub_1000D4E28;

  return dispatch thunk of PhotosFaceIDReadOnlyDatabase.queryList()(v21, v22);
}

uint64_t sub_1000D4E28(uint64_t a1)
{
  v3 = v1;
  v4 = *v2;
  v5 = *v2;
  v6 = *(*v2 + 272);
  v7 = *v2;
  v5[35] = a1;
  v5[36] = v3;

  v8 = v4[33];
  if (v3)
  {
    v10 = v5[30];
    v9 = v5[31];
    v11 = v5[27];
    v12 = v5[25];

    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v14;
    v16 = sub_1000D5770;
  }

  else
  {
    v17 = v5[27];
    v18 = v5[25];
    v13 = dispatch thunk of Actor.unownedExecutor.getter();
    v15 = v19;
    v16 = sub_1000D4FA4;
  }

  return _swift_task_switch(v16, v13, v15);
}

uint64_t sub_1000D4FA4()
{
  v1 = v0[33];

  v2 = v0[28];
  v3 = v0[29];

  return _swift_task_switch(sub_1000D5008, v2, v3);
}

uint64_t sub_1000D5008()
{
  v92 = v0;
  v1 = *(v0[6] + 16);
  v2 = PhotosFaceType.rawValue.getter();
  v4 = v3;
  if (v2 == PhotosFaceType.rawValue.getter() && v4 == v5)
  {
    v14 = v0[31];

    goto LABEL_8;
  }

  v7 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if (v7)
  {
    v13 = v0[31];
LABEL_8:

    v15 = v0[35];
LABEL_30:
    v0[37] = v15;
    v51 = v0[23];
    v52 = v0[6];
    static Log.session.getter();

    v53 = Logger.logObject.getter();
    v54 = static os_log_type_t.default.getter();
    v55 = os_log_type_enabled(v53, v54);
    v56 = v0[32];
    v57 = v0[22];
    v58 = v0[23];
    v59 = v0[21];
    v60 = v0[6];
    if (v55)
    {
      v90 = v0[23];
      v61 = swift_slowAlloc();
      v88 = v56;
      v62 = swift_slowAlloc();
      v91 = v62;
      *v61 = 134218242;
      *(v61 + 4) = v15[2];

      *(v61 + 12) = 2080;
      v86 = v59;
      v63 = PhotosFaceType.description.getter();
      v65 = v64;

      v66 = sub_100102F80(v63, v65, &v91);

      *(v61 + 14) = v66;
      _os_log_impl(&_mh_execute_header, v53, v54, "Sending %ld %s to remote device:", v61, 0x16u);
      sub_10000C304(v62);

      v88(v90, v86);
    }

    else
    {
      v67 = v0[6];

      v56(v58, v59);
    }

    v68 = v0[30];
    v69 = v0[6];
    v0[2] = v15;
    v70 = swift_task_alloc();
    v0[38] = v70;
    *(v70 + 16) = v69;
    *(v70 + 24) = v68;
    v71 = async function pointer to Sequence.asyncMap<A>(predicate:)[1];
    v72 = swift_task_alloc();
    v0[39] = v72;
    v73 = sub_10000560C(&qword_10012B5D8, &qword_10010A930);
    v74 = sub_10000560C(&qword_10012B5E0, &qword_10010A938);
    v0[40] = v74;
    v12 = sub_10000CC24(&qword_10012B5E8, &qword_10012B5D8, &qword_10010A930);
    *v72 = v0;
    v72[1] = sub_1000D58A0;
    v8 = &unk_10010A928;
    v9 = v70;
    v10 = v73;
    v11 = v74;

    return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
  }

  v16 = v0[35];
  v82 = *(v16 + 16);
  if (!v82)
  {
    v78 = &_swiftEmptyArrayStorage;
LABEL_29:
    v50 = v0[31];

    v15 = v78;
    goto LABEL_30;
  }

  v17 = 0;
  v18 = v0[18];
  v89 = v0[31];
  v87 = v89 + 56;
  v19 = (v0[14] + 8);
  v76 = v0[14];
  v77 = (v18 + 32);
  v78 = &_swiftEmptyArrayStorage;
  v80 = v18;
  v81 = v0[35];
  v79 = (v18 + 8);
  while (v17 < *(v16 + 16))
  {
    v22 = v0[27];
    v23 = v0[25];
    v83 = *(v80 + 72);
    v84 = (*(v80 + 80) + 32) & ~*(v80 + 80);
    v85 = v17;
    (*(v80 + 16))(v0[20], v0[35] + v84 + v83 * v17, v0[17]);
    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v24 = v0[20];
    v26 = v0[16];
    v25 = v0[17];
    sub_1000FAACC(&qword_10012A048, &type metadata accessor for AlbumID);
    dispatch thunk of PhotosFaceID.id.getter();
    if (*(v89 + 16) && (v27 = v0[16], v28 = v0[13], v29 = *(v89 + 40), sub_1000FAACC(&qword_10012A1F8, &type metadata accessor for UUID), v30 = dispatch thunk of Hashable._rawHashValue(seed:)(), v31 = -1 << *(v89 + 32), v32 = v30 & ~v31, ((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) != 0))
    {
      v33 = ~v31;
      v34 = *(v76 + 72);
      v35 = *(v76 + 16);
      while (1)
      {
        v36 = v0[15];
        v37 = v0[13];
        v35(v36, *(v89 + 48) + v32 * v34, v37);
        sub_1000FAACC(&qword_10012A660, &type metadata accessor for UUID);
        v38 = dispatch thunk of static Equatable.== infix(_:_:)();
        v39 = *v19;
        (*v19)(v36, v37);
        if (v38)
        {
          break;
        }

        v32 = (v32 + 1) & v33;
        if (((*(v87 + ((v32 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v32) & 1) == 0)
        {
          goto LABEL_11;
        }
      }

      v40 = v0[19];
      v41 = v0[20];
      v42 = v0[17];
      v39(v0[16], v0[13]);

      v43 = *v77;
      (*v77)(v40, v41, v42);
      v44 = v78;
      v91 = v78;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_10005C798(0, v78[2] + 1, 1);
        v44 = v91;
      }

      v46 = *(v44 + 16);
      v45 = *(v44 + 24);
      if (v46 >= v45 >> 1)
      {
        sub_10005C798(v45 > 1, v46 + 1, 1);
        v44 = v91;
      }

      v47 = v0[19];
      v48 = v0[17];
      *(v44 + 16) = v46 + 1;
      v78 = v44;
      v8 = v43(v44 + v84 + v46 * v83, v47, v48);
    }

    else
    {
LABEL_11:
      v20 = v0[20];
      v21 = v0[17];
      (*v19)(v0[16], v0[13]);

      v8 = (*v79)(v20, v21);
    }

    v17 = v85 + 1;
    v16 = v81;
    if (v85 + 1 == v82)
    {
      v49 = v0[35];
      goto LABEL_29;
    }
  }

  __break(1u);
  return Sequence.asyncMap<A>(predicate:)(v8, v9, v10, v11, v12);
}

uint64_t sub_1000D5770()
{
  v1 = v0[33];

  v2 = v0[28];
  v3 = v0[29];

  return _swift_task_switch(sub_1000D57D4, v2, v3);
}

uint64_t sub_1000D57D4()
{
  v1 = v0[26];

  v2 = v0[36];
  v4 = v0[23];
  v3 = v0[24];
  v6 = v0[19];
  v5 = v0[20];
  v8 = v0[15];
  v7 = v0[16];
  v9 = v0[12];
  v10 = v0[9];

  v11 = v0[1];

  return v11();
}

uint64_t sub_1000D58A0(uint64_t a1)
{
  v3 = *v2;
  v4 = *(*v2 + 312);
  v12 = *v2;
  v3[41] = a1;
  v3[42] = v1;

  if (v1)
  {
    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000D5EF4;
  }

  else
  {
    v9 = v3[37];
    v8 = v3[38];
    v10 = v3[30];

    v5 = v3[28];
    v6 = v3[29];
    v7 = sub_1000D59D8;
  }

  return _swift_task_switch(v7, v5, v6);
}

uint64_t sub_1000D59D8()
{
  v1 = v0[41];
  v2 = v0[26];

  v48 = *(v1 + 16);
  v49 = v1;
  if (!v48)
  {
    v6 = &_swiftEmptyArrayStorage;
LABEL_43:
    v38 = v0[40];
    v37 = v0[41];
    v40 = v0[23];
    v39 = v0[24];
    v51 = v0[20];
    v53 = v0[19];
    v55 = v0[16];
    v56 = v0[15];
    v58 = v0[12];
    v41 = v0[8];
    v42 = v0[9];
    v43 = v0[7];
    v44 = v0[4];

    v0[3] = v6;
    sub_10000CC24(&qword_10012B5F0, &qword_10012B5E0, &qword_10010A938);
    Sequence.async.getter();

    sub_10000CC24(&qword_10012B5F8, &qword_10012B5D0, &qword_10010A918);
    AsyncSequence<>.throwing.getter();
    (*(v41 + 8))(v42, v43);

    v45 = v0[1];

    return v45();
  }

  v4 = 0;
  v5 = v0[11];
  v47 = v0[41] + 32;
  v54 = (v5 + 8);
  v6 = &_swiftEmptyArrayStorage;
  v46 = v5;
  while (1)
  {
    if (v4 >= *(v49 + 16))
    {
      goto LABEL_50;
    }

    v7 = v0[27];
    v8 = v0[25];
    v9 = *(v47 + 8 * v4);

    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v10 = v9;
    v11 = *(v9 + 16);
    if (v11)
    {
      break;
    }

    v14 = &_swiftEmptyArrayStorage;
LABEL_29:

    v28 = v14[2];
    v29 = v6[2];
    v30 = v29 + v28;
    if (__OFADD__(v29, v28))
    {
      goto LABEL_51;
    }

    result = swift_isUniquelyReferenced_nonNull_native();
    if (result && v30 <= v6[3] >> 1)
    {
      if (v14[2])
      {
        goto LABEL_38;
      }
    }

    else
    {
      if (v29 <= v30)
      {
        v31 = v29 + v28;
      }

      else
      {
        v31 = v29;
      }

      result = sub_1001002F4(result, v31, 1, v6);
      v6 = result;
      if (v14[2])
      {
LABEL_38:
        if ((v6[3] >> 1) - v6[2] < v28)
        {
          goto LABEL_53;
        }

        v32 = v0[10];
        v33 = (*(v5 + 80) + 32) & ~*(v5 + 80);
        v34 = *(v5 + 72);
        swift_arrayInitWithCopy();

        if (v28)
        {
          v35 = v6[2];
          v26 = __OFADD__(v35, v28);
          v36 = v35 + v28;
          if (v26)
          {
            goto LABEL_54;
          }

          v6[2] = v36;
        }

        goto LABEL_4;
      }
    }

    if (v28)
    {
      goto LABEL_52;
    }

LABEL_4:
    if (++v4 == v48)
    {
      goto LABEL_43;
    }
  }

  v50 = v4;
  v52 = v6;
  v12 = v10 + ((*(v5 + 80) + 32) & ~*(v5 + 80));
  v13 = *(v5 + 72);
  v57 = *(v5 + 16);
  v14 = &_swiftEmptyArrayStorage;
  while (1)
  {
    v15 = v0[27];
    v16 = v0[25];
    v57(v0[12], v12, v0[10]);
    static CommunicationActor.shared.getter();
    dispatch thunk of Actor.unownedExecutor.getter();
    if ((swift_task_isCurrentExecutor() & 1) == 0)
    {
      swift_task_reportUnexpectedExecutor();
    }

    v17 = v0[12];
    v18 = v0[10];
    v19 = SyncedPhotosFace.streamify()();
    (*v54)(v17, v18);

    v20 = *(v19 + 16);
    v21 = v14[2];
    v22 = v21 + v20;
    if (__OFADD__(v21, v20))
    {
      break;
    }

    result = swift_isUniquelyReferenced_nonNull_native();
    if (result && v22 <= v14[3] >> 1)
    {
      if (*(v19 + 16))
      {
        goto LABEL_23;
      }
    }

    else
    {
      if (v21 <= v22)
      {
        v23 = v21 + v20;
      }

      else
      {
        v23 = v21;
      }

      result = sub_1001002F4(result, v23, 1, v14);
      v14 = result;
      if (*(v19 + 16))
      {
LABEL_23:
        if ((v14[3] >> 1) - v14[2] < v20)
        {
          goto LABEL_48;
        }

        v24 = v0[10];
        swift_arrayInitWithCopy();

        if (v20)
        {
          v25 = v14[2];
          v26 = __OFADD__(v25, v20);
          v27 = v25 + v20;
          if (v26)
          {
            goto LABEL_49;
          }

          v14[2] = v27;
        }

        goto LABEL_11;
      }
    }

    if (v20)
    {
      goto LABEL_47;
    }

LABEL_11:
    v12 += v13;
    if (!--v11)
    {

      v4 = v50;
      v6 = v52;
      v5 = v46;
      goto LABEL_29;
    }
  }

  __break(1u);
LABEL_47:
  __break(1u);
LABEL_48:
  __break(1u);
LABEL_49:
  __break(1u);
LABEL_50:
  __break(1u);
LABEL_51:
  __break(1u);
LABEL_52:
  __break(1u);
LABEL_53:
  __break(1u);
LABEL_54:
  __break(1u);
  return result;
}