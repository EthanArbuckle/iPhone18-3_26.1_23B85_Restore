uint64_t sub_10064B8F8(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v4 = a4 - 2;
  if (a4 >= 2)
  {
    v6 = result;
    v7 = v4 >> 1;
    v8 = result + 16 * (v4 >> 1);
    result = sub_1002EE588(v8, (a2 - 16));
    if (result == 0xFF)
    {
      v9 = *(a2 - 16);
      v10 = *(a2 - 8);
      *(a2 - 16) = *v8;
      *(a2 - 8) = *(v8 + 8);
      if (v4 >= 2)
      {
        do
        {
          v12 = v7 - 1;
          v7 = (v7 - 1) >> 1;
          v11 = (v6 + 16 * v7);
          if (*v11 == v9)
          {
            v13 = v11[1];
            if (v13 >= v10)
            {
              goto LABEL_4;
            }
          }

          else
          {
            if (*v11 >= v9)
            {
              goto LABEL_4;
            }

            v13 = v11[1];
          }

          *v8 = *v11;
          *(v8 + 8) = v13;
          v8 = v6 + 16 * v7;
        }

        while (v12 > 1);
      }

      else
      {
LABEL_4:
        v11 = v8;
      }

      *v11 = v9;
      v11[1] = v10;
    }
  }

  return result;
}

__n128 sub_10064B9BC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v4 = *a2;
  v5 = *a1;
  v6 = *a3;
  if (*a2 <= *a1)
  {
    if (v6 > v4)
    {
      *a2 = v6;
      *a3 = v4;
      v57 = *(a2 + 40);
      v64 = *(a2 + 56);
      *v71 = *(a2 + 72);
      *&v71[16] = *(a2 + 88);
      v43 = *(a2 + 8);
      v50 = *(a2 + 24);
      v11 = *(a3 + 24);
      *(a2 + 8) = *(a3 + 8);
      *(a2 + 24) = v11;
      result = *(a3 + 56);
      v12 = *(a3 + 72);
      v13 = *(a3 + 81);
      *(a2 + 40) = *(a3 + 40);
      *(a2 + 81) = v13;
      *(a2 + 72) = v12;
      *(a2 + 56) = result;
      *(a3 + 40) = v57;
      *(a3 + 56) = v64;
      *(a3 + 72) = *v71;
      *(a3 + 81) = *&v71[9];
      result.n128_u64[1] = *(&v43 + 1);
      *(a3 + 8) = v43;
      *(a3 + 24) = v50;
      v15 = *a1;
      if (*a2 > *a1)
      {
        *a1 = *a2;
        *a2 = v15;
        v58 = *(a1 + 40);
        v65 = *(a1 + 56);
        *v72 = *(a1 + 72);
        *&v72[16] = *(a1 + 88);
        v44 = *(a1 + 8);
        v51 = *(a1 + 24);
        v16 = *(a2 + 24);
        *(a1 + 8) = *(a2 + 8);
        *(a1 + 24) = v16;
        result = *(a2 + 56);
        v17 = *(a2 + 72);
        v18 = *(a2 + 81);
        *(a1 + 40) = *(a2 + 40);
        *(a1 + 81) = v18;
        *(a1 + 72) = v17;
        *(a1 + 56) = result;
        *(a2 + 72) = *v72;
        *(a2 + 81) = *&v72[9];
        *(a2 + 8) = v44;
        result.n128_u64[1] = *(&v65 + 1);
        *(a2 + 56) = v65;
        *(a2 + 40) = v58;
        *(a2 + 24) = v51;
      }
    }
  }

  else
  {
    if (v6 > v4)
    {
      *a1 = v6;
      *a3 = v5;
      v56 = *(a1 + 40);
      v63 = *(a1 + 56);
      *v70 = *(a1 + 72);
      *&v70[16] = *(a1 + 88);
      v42 = *(a1 + 8);
      v49 = *(a1 + 24);
      v7 = *(a3 + 24);
      *(a1 + 8) = *(a3 + 8);
      *(a1 + 24) = v7;
      v8 = *(a3 + 56);
      v9 = *(a3 + 72);
      v10 = *(a3 + 81);
      *(a1 + 40) = *(a3 + 40);
      *(a1 + 81) = v10;
      *(a1 + 72) = v9;
      *(a1 + 56) = v8;
LABEL_9:
      *(a3 + 40) = v56;
      *(a3 + 56) = v63;
      *(a3 + 72) = *v70;
      *(a3 + 81) = *&v70[9];
      result.n128_u64[1] = *(&v42 + 1);
      *(a3 + 8) = v42;
      *(a3 + 24) = v49;
      goto LABEL_10;
    }

    *a1 = v4;
    *a2 = v5;
    v59 = *(a1 + 40);
    v66 = *(a1 + 56);
    *v73 = *(a1 + 72);
    *&v73[16] = *(a1 + 88);
    v45 = *(a1 + 8);
    v52 = *(a1 + 24);
    v19 = *(a2 + 24);
    *(a1 + 8) = *(a2 + 8);
    *(a1 + 24) = v19;
    result = *(a2 + 56);
    v20 = *(a2 + 72);
    v21 = *(a2 + 81);
    *(a1 + 40) = *(a2 + 40);
    *(a1 + 81) = v21;
    *(a1 + 72) = v20;
    *(a1 + 56) = result;
    *(a2 + 40) = v59;
    *(a2 + 56) = v66;
    *(a2 + 72) = *v73;
    *(a2 + 81) = *&v73[9];
    result.n128_u64[1] = *(&v45 + 1);
    *(a2 + 8) = v45;
    *(a2 + 24) = v52;
    v22 = *a2;
    if (*a3 > *a2)
    {
      *a2 = *a3;
      *a3 = v22;
      v56 = *(a2 + 40);
      v63 = *(a2 + 56);
      *v70 = *(a2 + 72);
      *&v70[16] = *(a2 + 88);
      v42 = *(a2 + 8);
      v49 = *(a2 + 24);
      v23 = *(a3 + 24);
      *(a2 + 8) = *(a3 + 8);
      *(a2 + 24) = v23;
      v24 = *(a3 + 56);
      v25 = *(a3 + 72);
      v26 = *(a3 + 81);
      *(a2 + 40) = *(a3 + 40);
      *(a2 + 81) = v26;
      *(a2 + 72) = v25;
      *(a2 + 56) = v24;
      goto LABEL_9;
    }
  }

LABEL_10:
  result.n128_u64[0] = *a4;
  v27 = *a3;
  if (*a4 > *a3)
  {
    *a3 = result.n128_u64[0];
    *a4 = v27;
    v60 = *(a3 + 40);
    v67 = *(a3 + 56);
    *v74 = *(a3 + 72);
    *&v74[16] = *(a3 + 88);
    v46 = *(a3 + 8);
    v53 = *(a3 + 24);
    v28 = *(a4 + 24);
    *(a3 + 8) = *(a4 + 8);
    *(a3 + 24) = v28;
    v29 = *(a4 + 56);
    v30 = *(a4 + 72);
    v31 = *(a4 + 81);
    *(a3 + 40) = *(a4 + 40);
    *(a3 + 81) = v31;
    *(a3 + 72) = v30;
    *(a3 + 56) = v29;
    *(a4 + 40) = v60;
    *(a4 + 56) = v67;
    *(a4 + 72) = *v74;
    *(a4 + 81) = *&v74[9];
    result.n128_u64[1] = *(&v46 + 1);
    *(a4 + 8) = v46;
    *(a4 + 24) = v53;
    result.n128_u64[0] = *a3;
    v32 = *a2;
    if (*a3 > *a2)
    {
      *a2 = result.n128_u64[0];
      *a3 = v32;
      v61 = *(a2 + 40);
      v68 = *(a2 + 56);
      *v75 = *(a2 + 72);
      *&v75[16] = *(a2 + 88);
      v47 = *(a2 + 8);
      v54 = *(a2 + 24);
      v33 = *(a3 + 24);
      *(a2 + 8) = *(a3 + 8);
      *(a2 + 24) = v33;
      v34 = *(a3 + 56);
      v35 = *(a3 + 72);
      v36 = *(a3 + 81);
      *(a2 + 40) = *(a3 + 40);
      *(a2 + 81) = v36;
      *(a2 + 72) = v35;
      *(a2 + 56) = v34;
      *(a3 + 72) = *v75;
      *(a3 + 81) = *&v75[9];
      *(a3 + 8) = v47;
      result.n128_u64[1] = *(&v68 + 1);
      *(a3 + 56) = v68;
      *(a3 + 40) = v61;
      *(a3 + 24) = v54;
      result.n128_u64[0] = *a2;
      v37 = *a1;
      if (*a2 > *a1)
      {
        *a1 = result.n128_u64[0];
        *a2 = v37;
        v62 = *(a1 + 40);
        v69 = *(a1 + 56);
        *v76 = *(a1 + 72);
        *&v76[16] = *(a1 + 88);
        v48 = *(a1 + 8);
        v55 = *(a1 + 24);
        v38 = *(a2 + 24);
        *(a1 + 8) = *(a2 + 8);
        *(a1 + 24) = v38;
        v39 = *(a2 + 56);
        v40 = *(a2 + 72);
        v41 = *(a2 + 81);
        *(a1 + 40) = *(a2 + 40);
        *(a1 + 81) = v41;
        *(a1 + 72) = v40;
        *(a1 + 56) = v39;
        *(a2 + 72) = *v76;
        *(a2 + 81) = *&v76[9];
        *(a2 + 8) = v48;
        result = v69;
        *(a2 + 56) = v69;
        *(a2 + 40) = v62;
        *(a2 + 24) = v55;
      }
    }
  }

  return result;
}

BOOL sub_10064BE3C(uint64_t a1, uint64_t a2)
{
  v4 = 0x4EC4EC4EC4EC4EC5 * ((a2 - a1) >> 3);
  if (v4 > 2)
  {
    switch(v4)
    {
      case 3:
        v25 = *(a1 + 104);
        v26 = *a1;
        v27 = *(a2 - 104);
        if (v25 > *a1)
        {
          if (v27 > v25)
          {
            *a1 = v27;
            *(a2 - 104) = v26;
            goto LABEL_18;
          }

          *a1 = v25;
          *(a1 + 104) = v26;
          v108 = *(a1 + 40);
          v120 = *(a1 + 56);
          *v132 = *(a1 + 72);
          *&v132[16] = *(a1 + 88);
          v84 = *(a1 + 8);
          v96 = *(a1 + 24);
          v50 = *(a1 + 160);
          *(a1 + 40) = *(a1 + 144);
          *(a1 + 56) = v50;
          *(a1 + 72) = *(a1 + 176);
          *(a1 + 81) = *(a1 + 185);
          v51 = *(a1 + 128);
          *(a1 + 8) = *(a1 + 112);
          *(a1 + 24) = v51;
          *(a1 + 112) = v84;
          *(a1 + 128) = v96;
          *(a1 + 185) = *&v132[9];
          *(a1 + 160) = v120;
          *(a1 + 176) = *v132;
          *(a1 + 144) = v108;
          v52 = *(a2 - 104);
          if (v52 > v26)
          {
            *(a1 + 104) = v52;
            *(a2 - 104) = v26;
            v102 = *(a1 + 144);
            v114 = *(a1 + 160);
            *v126 = *(a1 + 176);
            *&v126[16] = *(a1 + 192);
            v78 = *(a1 + 112);
            v90 = *(a1 + 128);
            v53 = *(a2 - 80);
            *(a1 + 112) = *(a2 - 96);
            *(a1 + 128) = v53;
            v55 = *(a2 - 48);
            v54 = *(a2 - 32);
            v56 = *(a2 - 64);
            *(a1 + 185) = *(a2 - 23);
            *(a1 + 160) = v55;
            *(a1 + 176) = v54;
            *(a1 + 144) = v56;
            goto LABEL_19;
          }

          return 1;
        }

        if (v27 <= v25)
        {
          return 1;
        }

        *(a1 + 104) = v27;
        *(a2 - 104) = v25;
        v104 = *(a1 + 144);
        v116 = *(a1 + 160);
        *v128 = *(a1 + 176);
        *&v128[16] = *(a1 + 192);
        v80 = *(a1 + 112);
        v92 = *(a1 + 128);
        v39 = *(a2 - 80);
        *(a1 + 112) = *(a2 - 96);
        *(a1 + 128) = v39;
        v41 = *(a2 - 48);
        v40 = *(a2 - 32);
        v42 = *(a2 - 64);
        *(a1 + 185) = *(a2 - 23);
        *(a1 + 160) = v41;
        *(a1 + 176) = v40;
        *(a1 + 144) = v42;
        *(a2 - 64) = v104;
        *(a2 - 48) = v116;
        *(a2 - 32) = *v128;
        *(a2 - 23) = *&v128[9];
        *(a2 - 96) = v80;
        *(a2 - 80) = v92;
        v14 = *(a1 + 104);
        v23 = *a1;
        if (v14 <= *a1)
        {
          return 1;
        }

        break;
      case 4:
        sub_10064B9BC(a1, a1 + 104, a1 + 208, a2 - 104);
        return 1;
      case 5:
        sub_10064B9BC(a1, a1 + 104, a1 + 208, a1 + 312);
        v7 = *(a2 - 104);
        v8 = *(a1 + 312);
        if (v7 <= v8)
        {
          return 1;
        }

        *(a1 + 312) = v7;
        *(a2 - 104) = v8;
        v9 = (a1 + 320);
        v99 = *(a1 + 352);
        v111 = *(a1 + 368);
        *v123 = *(a1 + 384);
        *&v123[16] = *(a1 + 400);
        v75 = *(a1 + 320);
        v87 = *(a1 + 336);
        v10 = *(a2 - 80);
        *(a1 + 320) = *(a2 - 96);
        *(a1 + 336) = v10;
        v12 = *(a2 - 48);
        v11 = *(a2 - 32);
        v13 = *(a2 - 64);
        *(a1 + 393) = *(a2 - 23);
        *(a1 + 368) = v12;
        *(a1 + 384) = v11;
        *(a1 + 352) = v13;
        *(a2 - 64) = v99;
        *(a2 - 48) = v111;
        *(a2 - 32) = *v123;
        *(a2 - 23) = *&v123[9];
        *(a2 - 96) = v75;
        *(a2 - 80) = v87;
        v14 = *(a1 + 312);
        v15 = *(a1 + 208);
        if (v14 <= v15)
        {
          return 1;
        }

        *(a1 + 312) = v15;
        v16 = (a1 + 216);
        v100 = *(a1 + 248);
        v112 = *(a1 + 264);
        *v124 = *(a1 + 280);
        *&v124[16] = *(a1 + 296);
        v76 = *(a1 + 216);
        v88 = *(a1 + 232);
        v17 = *(a1 + 368);
        *(a1 + 248) = *(a1 + 352);
        v18 = *(a1 + 384);
        *(a1 + 264) = v17;
        *(a1 + 280) = v18;
        *(a1 + 289) = *(a1 + 393);
        v19 = *(a1 + 336);
        *(a1 + 216) = *v9;
        *(a1 + 232) = v19;
        *v9 = v76;
        *(a1 + 336) = v88;
        *(a1 + 393) = *&v124[9];
        *(a1 + 368) = v112;
        *(a1 + 384) = *v124;
        *(a1 + 352) = v100;
        v20 = *(a1 + 104);
        *(a1 + 208) = v14;
        if (v14 <= v20)
        {
          return 1;
        }

        *(a1 + 208) = v20;
        v101 = *(a1 + 144);
        v113 = *(a1 + 160);
        *v125 = *(a1 + 176);
        *&v125[16] = *(a1 + 192);
        v77 = *(a1 + 112);
        v89 = *(a1 + 128);
        v21 = *(a1 + 264);
        *(a1 + 144) = *(a1 + 248);
        *(a1 + 160) = v21;
        *(a1 + 176) = *(a1 + 280);
        *(a1 + 185) = *(a1 + 289);
        v22 = *(a1 + 232);
        *(a1 + 112) = *v16;
        *(a1 + 128) = v22;
        *v16 = v77;
        *(a1 + 232) = v89;
        *(a1 + 289) = *&v125[9];
        *(a1 + 264) = v113;
        *(a1 + 280) = *v125;
        *(a1 + 248) = v101;
        v23 = *a1;
        v24 = v14 <= *a1;
        *(a1 + 104) = v14;
        if (v24)
        {
          return 1;
        }

        break;
      default:
        goto LABEL_20;
    }

    *a1 = v14;
    *(a1 + 104) = v23;
    v105 = *(a1 + 40);
    v117 = *(a1 + 56);
    *v129 = *(a1 + 72);
    *&v129[16] = *(a1 + 88);
    v81 = *(a1 + 8);
    v93 = *(a1 + 24);
    v43 = *(a1 + 160);
    *(a1 + 40) = *(a1 + 144);
    *(a1 + 56) = v43;
    *(a1 + 72) = *(a1 + 176);
    *(a1 + 81) = *(a1 + 185);
    v44 = *(a1 + 128);
    *(a1 + 8) = *(a1 + 112);
    *(a1 + 24) = v44;
    *(a1 + 112) = v81;
    *(a1 + 128) = v93;
    *(a1 + 185) = *&v129[9];
    *(a1 + 160) = v117;
    *(a1 + 176) = *v129;
    *(a1 + 144) = v105;
    return 1;
  }

  if (v4 < 2)
  {
    return 1;
  }

  if (v4 == 2)
  {
    v5 = *(a2 - 104);
    v6 = *a1;
    if (v5 > *a1)
    {
      *a1 = v5;
      *(a2 - 104) = v6;
LABEL_18:
      v102 = *(a1 + 40);
      v114 = *(a1 + 56);
      *v126 = *(a1 + 72);
      *&v126[16] = *(a1 + 88);
      v78 = *(a1 + 8);
      v90 = *(a1 + 24);
      v28 = *(a2 - 80);
      *(a1 + 8) = *(a2 - 96);
      *(a1 + 24) = v28;
      v30 = *(a2 - 48);
      v29 = *(a2 - 32);
      v31 = *(a2 - 23);
      *(a1 + 40) = *(a2 - 64);
      *(a1 + 81) = v31;
      *(a1 + 72) = v29;
      *(a1 + 56) = v30;
LABEL_19:
      *(a2 - 64) = v102;
      *(a2 - 48) = v114;
      *(a2 - 32) = *v126;
      *(a2 - 23) = *&v126[9];
      result = 1;
      *(a2 - 96) = v78;
      *(a2 - 80) = v90;
      return result;
    }

    return 1;
  }

LABEL_20:
  v33 = (a1 + 208);
  v34 = *(a1 + 208);
  v35 = *(a1 + 104);
  v36 = *a1;
  if (v35 <= *a1)
  {
    if (v34 > v35)
    {
      *(a1 + 208) = v35;
      v106 = *(a1 + 144);
      v118 = *(a1 + 160);
      *v130 = *(a1 + 176);
      *&v130[16] = *(a1 + 192);
      v82 = *(a1 + 112);
      v94 = *(a1 + 128);
      v45 = *(a1 + 264);
      v46 = *(a1 + 280);
      *(a1 + 144) = *(a1 + 248);
      *(a1 + 160) = v45;
      *(a1 + 176) = v46;
      *(a1 + 185) = *(a1 + 289);
      v47 = *(a1 + 232);
      *(a1 + 112) = *(a1 + 216);
      *(a1 + 128) = v47;
      *(a1 + 232) = v94;
      *(a1 + 216) = v82;
      *(a1 + 289) = *&v130[9];
      *(a1 + 264) = v118;
      *(a1 + 280) = *v130;
      *(a1 + 104) = v34;
      *(a1 + 248) = v106;
      if (v34 > v36)
      {
        *a1 = v34;
        *(a1 + 104) = v36;
        v107 = *(a1 + 40);
        v119 = *(a1 + 56);
        *v131 = *(a1 + 72);
        *&v131[16] = *(a1 + 88);
        v83 = *(a1 + 8);
        v95 = *(a1 + 24);
        v48 = *(a1 + 160);
        *(a1 + 40) = *(a1 + 144);
        *(a1 + 56) = v48;
        *(a1 + 72) = *(a1 + 176);
        *(a1 + 81) = *(a1 + 185);
        v49 = *(a1 + 128);
        *(a1 + 8) = *(a1 + 112);
        *(a1 + 24) = v49;
        *(a1 + 112) = v83;
        *(a1 + 128) = v95;
        *(a1 + 185) = *&v131[9];
        *(a1 + 160) = v119;
        *(a1 + 176) = *v131;
        *(a1 + 144) = v107;
      }
    }
  }

  else
  {
    if (v34 <= v35)
    {
      *a1 = v35;
      *(a1 + 104) = v36;
      v109 = *(a1 + 40);
      v121 = *(a1 + 56);
      *v133 = *(a1 + 72);
      *&v133[16] = *(a1 + 88);
      v85 = *(a1 + 8);
      v97 = *(a1 + 24);
      v57 = *(a1 + 160);
      *(a1 + 40) = *(a1 + 144);
      *(a1 + 56) = v57;
      *(a1 + 72) = *(a1 + 176);
      *(a1 + 81) = *(a1 + 185);
      v58 = *(a1 + 128);
      *(a1 + 8) = *(a1 + 112);
      *(a1 + 24) = v58;
      *(a1 + 112) = v85;
      *(a1 + 128) = v97;
      *(a1 + 185) = *&v133[9];
      *(a1 + 160) = v121;
      *(a1 + 176) = *v133;
      *(a1 + 144) = v109;
      if (v34 <= v36)
      {
        goto LABEL_35;
      }

      *(a1 + 104) = v34;
      *(a1 + 208) = v36;
      v37 = (a1 + 216);
      v103 = *(a1 + 144);
      v115 = *(a1 + 160);
      *v127 = *(a1 + 176);
      *&v127[16] = *(a1 + 192);
      v79 = *(a1 + 112);
      v91 = *(a1 + 128);
      v59 = *(a1 + 264);
      v60 = *(a1 + 280);
      *(a1 + 144) = *(a1 + 248);
      *(a1 + 160) = v59;
      *(a1 + 176) = v60;
      *(a1 + 185) = *(a1 + 289);
      v61 = *(a1 + 232);
      *(a1 + 112) = *(a1 + 216);
      *(a1 + 128) = v61;
    }

    else
    {
      *a1 = v34;
      *(a1 + 208) = v36;
      v37 = (a1 + 216);
      v103 = *(a1 + 40);
      v115 = *(a1 + 56);
      *v127 = *(a1 + 72);
      *&v127[16] = *(a1 + 88);
      v79 = *(a1 + 8);
      v91 = *(a1 + 24);
      *(a1 + 40) = *(a1 + 248);
      v38 = *(a1 + 280);
      *(a1 + 56) = *(a1 + 264);
      *(a1 + 72) = v38;
      *(a1 + 81) = *(a1 + 289);
      *(a1 + 8) = *(a1 + 216);
      *(a1 + 24) = *(a1 + 232);
    }

    *(a1 + 232) = v91;
    *(a1 + 216) = v79;
    *(v37 + 73) = *&v127[9];
    v37[3] = v115;
    v37[4] = *v127;
    *(a1 + 248) = v103;
  }

LABEL_35:
  v62 = a1 + 312;
  if (a1 + 312 == a2)
  {
    return 1;
  }

  v63 = 0;
  v64 = 0;
  while (1)
  {
    v65 = *v62;
    if (*v62 > *v33)
    {
      v86 = *(v62 + 8);
      v98 = *(v62 + 24);
      *&v134[9] = *(v62 + 81);
      v122 = *(v62 + 56);
      *v134 = *(v62 + 72);
      v110 = *(v62 + 40);
      v66 = v63;
      v67 = *v33;
      while (1)
      {
        v68 = a1 + v66;
        *(v68 + 312) = v67;
        v69 = (a1 + v66 + 216);
        v70 = *(a1 + v66 + 248);
        v71 = *(a1 + v66 + 232);
        *(v68 + 320) = *v69;
        *(v68 + 336) = v71;
        v72 = *(a1 + v66 + 264);
        v73 = *(a1 + v66 + 280);
        *(v68 + 352) = v70;
        *(v68 + 368) = v72;
        *(v68 + 384) = v73;
        *(a1 + v66 + 393) = *(a1 + v66 + 289);
        if (v66 == -208)
        {
          break;
        }

        v67 = *(v68 + 104);
        v66 -= 104;
        if (v65 <= v67)
        {
          v74 = (a1 + v66 + 312);
          goto LABEL_43;
        }
      }

      v74 = a1;
LABEL_43:
      *v74 = v65;
      *(v68 + 248) = v110;
      *(v68 + 216) = v86;
      *(v68 + 232) = v98;
      v69[3] = v122;
      v69[4] = *v134;
      ++v64;
      *(v69 + 73) = *&v134[9];
      if (v64 == 8)
      {
        return v62 + 104 == a2;
      }
    }

    v33 = v62;
    v63 += 104;
    v62 += 104;
    if (v62 == a2)
    {
      return 1;
    }
  }
}

void *sub_10064C620(void *a1, void **a2, unint64_t a3)
{
  if (a3)
  {
    v4 = a3;
    do
    {
      v6 = v4 >> 1;
      v11 = a1;
      sub_1003CB3B0(&v11, v4 >> 1);
      if ((sub_100019438(v11 + 4, a2) & 0x80) != 0)
      {
        v7 = v11;
        v8 = v11[1];
        if (v8)
        {
          do
          {
            a1 = v8;
            v8 = *v8;
          }

          while (v8);
        }

        else
        {
          do
          {
            a1 = v7[2];
            v9 = *a1 == v7;
            v7 = a1;
          }

          while (!v9);
        }

        v6 = v4 + ~v6;
      }

      v4 = v6;
    }

    while (v6);
  }

  return a1;
}

uint64_t sub_10064C6C8(void **a1, uint64_t a2, void *a3)
{
  if (a2 < 0)
  {
    v3 = 0;
    v8 = -a2;
    v9 = 1;
    if (-a2 > 1)
    {
      v9 = -a2;
    }

    v10 = *a1;
    while (v10 != *a3)
    {
      v11 = *v10;
      if (*v10)
      {
        do
        {
          v12 = v11;
          v11 = v11[1];
        }

        while (v11);
      }

      else
      {
        do
        {
          v12 = v10[2];
          v7 = *v12 == v10;
          v10 = v12;
        }

        while (v7);
      }

      *a1 = v12;
      ++v3;
      v10 = v12;
      if (v3 == v9)
      {
        v3 = v9;
        return v8 - v3;
      }
    }
  }

  else if (a2)
  {
    v3 = 0;
    v4 = *a1;
    while (v4 != *a3)
    {
      v5 = v4[1];
      if (v5)
      {
        do
        {
          v6 = v5;
          v5 = *v5;
        }

        while (v5);
      }

      else
      {
        do
        {
          v6 = v4[2];
          v7 = *v6 == v4;
          v4 = v6;
        }

        while (!v7);
      }

      *a1 = v6;
      ++v3;
      v4 = v6;
      if (v3 == a2)
      {
        v8 = a2;
        v3 = a2;
        return v8 - v3;
      }
    }

    v8 = a2;
  }

  else
  {
    v8 = 0;
    v3 = 0;
  }

  return v8 - v3;
}

double sub_10064C7B4(__int128 *a1, __int128 *a2, __int128 *a3)
{
  v3 = *(a2 + 14);
  v4 = *(a1 + 14);
  if (v3 > v4 || v3 == v4 && ((v10 = *(a2 + 6), v11 = *(a1 + 6), v10 > v11) || v10 == v11 && (result = *(a2 + 5), result < *(a1 + 5))))
  {
    v5 = *(a3 + 14);
    if (v5 > v3 || v5 == v3 && ((v24 = *(a3 + 6), v25 = *(a2 + 6), v24 > v25) || v24 == v25 && *(a3 + 5) < *(a2 + 5)))
    {
      v50 = a1[2];
      v54 = a1[3];
      *v58 = a1[4];
      *&v58[16] = a1[5];
      v42 = *a1;
      v46 = a1[1];
      v6 = a3[1];
      *a1 = *a3;
      a1[1] = v6;
      v8 = a3[3];
      v7 = a3[4];
      v9 = a3[2];
      *(a1 + 73) = *(a3 + 73);
      a1[3] = v8;
      a1[4] = v7;
      a1[2] = v9;
    }

    else
    {
      v53 = a1[2];
      v57 = a1[3];
      *v61 = a1[4];
      *&v61[16] = a1[5];
      v45 = *a1;
      v49 = a1[1];
      v26 = a2[1];
      *a1 = *a2;
      a1[1] = v26;
      v28 = a2[3];
      v27 = a2[4];
      v29 = a2[2];
      *(a1 + 73) = *(a2 + 73);
      a1[3] = v28;
      a1[4] = v27;
      a1[2] = v29;
      a2[4] = *v61;
      *(a2 + 73) = *&v61[9];
      a2[2] = v53;
      a2[3] = v57;
      result = *&v45;
      *a2 = v45;
      a2[1] = v49;
      v30 = *(a3 + 14);
      v31 = *(a2 + 14);
      if (v30 <= v31)
      {
        if (v30 != v31)
        {
          return result;
        }

        v40 = *(a3 + 6);
        v41 = *(a2 + 6);
        if (v40 <= v41)
        {
          if (v40 != v41)
          {
            return result;
          }

          result = *(a3 + 5);
          if (result >= *(a2 + 5))
          {
            return result;
          }
        }
      }

      v50 = a2[2];
      v54 = a2[3];
      *v58 = a2[4];
      *&v58[16] = a2[5];
      v42 = *a2;
      v46 = a2[1];
      v32 = a3[1];
      *a2 = *a3;
      a2[1] = v32;
      v34 = a3[3];
      v33 = a3[4];
      v35 = a3[2];
      *(a2 + 73) = *(a3 + 73);
      a2[3] = v34;
      a2[4] = v33;
      a2[2] = v35;
    }

    a3[4] = *v58;
    *(a3 + 73) = *&v58[9];
    a3[2] = v50;
    a3[3] = v54;
    result = *&v42;
    *a3 = v42;
    a3[1] = v46;
    return result;
  }

  v13 = *(a3 + 14);
  if (v13 > v3 || v13 == v3 && ((v36 = *(a3 + 6), v37 = *(a2 + 6), v36 > v37) || v36 == v37 && (result = *(a3 + 5), result < *(a2 + 5))))
  {
    v51 = a2[2];
    v55 = a2[3];
    *v59 = a2[4];
    *&v59[16] = a2[5];
    v43 = *a2;
    v47 = a2[1];
    v14 = a3[1];
    *a2 = *a3;
    a2[1] = v14;
    v16 = a3[3];
    v15 = a3[4];
    v17 = a3[2];
    *(a2 + 73) = *(a3 + 73);
    a2[3] = v16;
    a2[4] = v15;
    a2[2] = v17;
    a3[4] = *v59;
    *(a3 + 73) = *&v59[9];
    a3[2] = v51;
    a3[3] = v55;
    result = *&v43;
    *a3 = v43;
    a3[1] = v47;
    v18 = *(a2 + 14);
    v19 = *(a1 + 14);
    if (v18 > v19 || v18 == v19 && ((v38 = *(a2 + 6), v39 = *(a1 + 6), v38 > v39) || v38 == v39 && (result = *(a2 + 5), result < *(a1 + 5))))
    {
      v52 = a1[2];
      v56 = a1[3];
      *v60 = a1[4];
      *&v60[16] = a1[5];
      v44 = *a1;
      v48 = a1[1];
      v20 = a2[1];
      *a1 = *a2;
      a1[1] = v20;
      v22 = a2[3];
      v21 = a2[4];
      v23 = a2[2];
      *(a1 + 73) = *(a2 + 73);
      a1[3] = v22;
      a1[4] = v21;
      a1[2] = v23;
      a2[4] = *v60;
      *(a2 + 73) = *&v60[9];
      a2[2] = v52;
      a2[3] = v56;
      result = *&v44;
      *a2 = v44;
      a2[1] = v48;
    }
  }

  return result;
}

double sub_10064CA7C(uint64_t a1, uint64_t a2, uint64_t a3, __int128 *a4, __int128 *a5)
{
  result = sub_10064C7B4(a1, a2, a3);
  v11 = *(a4 + 14);
  v12 = *(a3 + 56);
  if (v11 > v12 || v11 == v12 && ((v29 = *(a4 + 6), v30 = *(a3 + 24), v29 > v30) || v29 == v30 && (result = *(a4 + 5), result < *(a3 + 40))))
  {
    v81 = *(a3 + 32);
    v88 = *(a3 + 48);
    *v95 = *(a3 + 64);
    *&v95[16] = *(a3 + 80);
    v67 = *a3;
    v74 = *(a3 + 16);
    v13 = a4[1];
    *a3 = *a4;
    *(a3 + 16) = v13;
    v15 = a4[3];
    v14 = a4[4];
    v16 = a4[2];
    *(a3 + 73) = *(a4 + 73);
    *(a3 + 48) = v15;
    *(a3 + 64) = v14;
    *(a3 + 32) = v16;
    a4[4] = *v95;
    *(a4 + 73) = *&v95[9];
    a4[2] = v81;
    a4[3] = v88;
    result = *&v67;
    *a4 = v67;
    a4[1] = v74;
    v17 = *(a3 + 56);
    v18 = *(a2 + 56);
    if (v17 > v18 || v17 == v18 && ((v31 = *(a3 + 24), v32 = *(a2 + 24), v31 > v32) || v31 == v32 && (result = *(a3 + 40), result < *(a2 + 40))))
    {
      v82 = *(a2 + 32);
      v89 = *(a2 + 48);
      *v96 = *(a2 + 64);
      *&v96[16] = *(a2 + 80);
      v68 = *a2;
      v75 = *(a2 + 16);
      v19 = *(a3 + 16);
      *a2 = *a3;
      *(a2 + 16) = v19;
      v21 = *(a3 + 48);
      v20 = *(a3 + 64);
      v22 = *(a3 + 32);
      *(a2 + 73) = *(a3 + 73);
      *(a2 + 48) = v21;
      *(a2 + 64) = v20;
      *(a2 + 32) = v22;
      *(a3 + 64) = *v96;
      *(a3 + 73) = *&v96[9];
      *(a3 + 32) = v82;
      *(a3 + 48) = v89;
      result = *&v68;
      *a3 = v68;
      *(a3 + 16) = v75;
      v23 = *(a2 + 56);
      v24 = *(a1 + 56);
      if (v23 > v24 || v23 == v24 && ((v33 = *(a2 + 24), v34 = *(a1 + 24), v33 > v34) || v33 == v34 && (result = *(a2 + 40), result < *(a1 + 40))))
      {
        v83 = *(a1 + 32);
        v90 = *(a1 + 48);
        *v97 = *(a1 + 64);
        *&v97[16] = *(a1 + 80);
        v69 = *a1;
        v76 = *(a1 + 16);
        v25 = *(a2 + 16);
        *a1 = *a2;
        *(a1 + 16) = v25;
        v27 = *(a2 + 48);
        v26 = *(a2 + 64);
        v28 = *(a2 + 32);
        *(a1 + 73) = *(a2 + 73);
        *(a1 + 48) = v27;
        *(a1 + 64) = v26;
        *(a1 + 32) = v28;
        *(a2 + 64) = *v97;
        *(a2 + 73) = *&v97[9];
        *(a2 + 32) = v83;
        *(a2 + 48) = v90;
        result = *&v69;
        *a2 = v69;
        *(a2 + 16) = v76;
      }
    }
  }

  v35 = *(a5 + 14);
  v36 = *(a4 + 14);
  if (v35 > v36 || v35 == v36 && ((v59 = *(a5 + 6), v60 = *(a4 + 6), v59 > v60) || v59 == v60 && (result = *(a5 + 5), result < *(a4 + 5))))
  {
    v84 = a4[2];
    v91 = a4[3];
    *v98 = a4[4];
    *&v98[16] = a4[5];
    v70 = *a4;
    v77 = a4[1];
    v37 = a5[1];
    *a4 = *a5;
    a4[1] = v37;
    v39 = a5[3];
    v38 = a5[4];
    v40 = a5[2];
    *(a4 + 73) = *(a5 + 73);
    a4[3] = v39;
    a4[4] = v38;
    a4[2] = v40;
    a5[4] = *v98;
    *(a5 + 73) = *&v98[9];
    a5[2] = v84;
    a5[3] = v91;
    result = *&v70;
    *a5 = v70;
    a5[1] = v77;
    v41 = *(a4 + 14);
    v42 = *(a3 + 56);
    if (v41 > v42 || v41 == v42 && ((v61 = *(a4 + 6), v62 = *(a3 + 24), v61 > v62) || v61 == v62 && (result = *(a4 + 5), result < *(a3 + 40))))
    {
      v85 = *(a3 + 32);
      v92 = *(a3 + 48);
      *v99 = *(a3 + 64);
      *&v99[16] = *(a3 + 80);
      v71 = *a3;
      v78 = *(a3 + 16);
      v43 = a4[1];
      *a3 = *a4;
      *(a3 + 16) = v43;
      v45 = a4[3];
      v44 = a4[4];
      v46 = a4[2];
      *(a3 + 73) = *(a4 + 73);
      *(a3 + 48) = v45;
      *(a3 + 64) = v44;
      *(a3 + 32) = v46;
      a4[4] = *v99;
      *(a4 + 73) = *&v99[9];
      a4[2] = v85;
      a4[3] = v92;
      result = *&v71;
      *a4 = v71;
      a4[1] = v78;
      v47 = *(a3 + 56);
      v48 = *(a2 + 56);
      if (v47 > v48 || v47 == v48 && ((v63 = *(a3 + 24), v64 = *(a2 + 24), v63 > v64) || v63 == v64 && (result = *(a3 + 40), result < *(a2 + 40))))
      {
        v86 = *(a2 + 32);
        v93 = *(a2 + 48);
        *v100 = *(a2 + 64);
        *&v100[16] = *(a2 + 80);
        v72 = *a2;
        v79 = *(a2 + 16);
        v49 = *(a3 + 16);
        *a2 = *a3;
        *(a2 + 16) = v49;
        v51 = *(a3 + 48);
        v50 = *(a3 + 64);
        v52 = *(a3 + 32);
        *(a2 + 73) = *(a3 + 73);
        *(a2 + 48) = v51;
        *(a2 + 64) = v50;
        *(a2 + 32) = v52;
        *(a3 + 64) = *v100;
        *(a3 + 73) = *&v100[9];
        *(a3 + 32) = v86;
        *(a3 + 48) = v93;
        result = *&v72;
        *a3 = v72;
        *(a3 + 16) = v79;
        v53 = *(a2 + 56);
        v54 = *(a1 + 56);
        if (v53 > v54 || v53 == v54 && ((v65 = *(a2 + 24), v66 = *(a1 + 24), v65 > v66) || v65 == v66 && (result = *(a2 + 40), result < *(a1 + 40))))
        {
          v87 = *(a1 + 32);
          v94 = *(a1 + 48);
          *v101 = *(a1 + 64);
          *&v101[16] = *(a1 + 80);
          v73 = *a1;
          v80 = *(a1 + 16);
          v55 = *(a2 + 16);
          *a1 = *a2;
          *(a1 + 16) = v55;
          v57 = *(a2 + 48);
          v56 = *(a2 + 64);
          v58 = *(a2 + 32);
          *(a1 + 73) = *(a2 + 73);
          *(a1 + 48) = v57;
          *(a1 + 64) = v56;
          *(a1 + 32) = v58;
          *(a2 + 64) = *v101;
          *(a2 + 73) = *&v101[9];
          *(a2 + 32) = v87;
          *(a2 + 48) = v94;
          result = *&v73;
          *a2 = v73;
          *(a2 + 16) = v80;
        }
      }
    }
  }

  return result;
}

BOOL sub_10064CED4(uint64_t a1, uint64_t a2)
{
  v4 = 0xAAAAAAAAAAAAAAABLL * ((a2 - a1) >> 5);
  if (v4 > 2)
  {
    switch(v4)
    {
      case 3:
        sub_10064C7B4(a1, (a1 + 96), (a2 - 96));
        return 1;
      case 4:
        v34 = (a1 + 192);
        sub_10064C7B4(a1, (a1 + 96), (a1 + 192));
        v35 = *(a2 - 40);
        v36 = *(a1 + 248);
        if (v35 > v36 || v35 == v36 && ((v52 = *(a2 - 72), v53 = *(a1 + 216), v52 > v53) || v52 == v53 && *(a2 - 56) < *(a1 + 232)))
        {
          v37 = (a2 - 96);
          v72 = *(a1 + 224);
          v76 = *(a1 + 240);
          *v80 = *(a1 + 256);
          *&v80[16] = *(a1 + 272);
          v64 = *v34;
          v68 = *(a1 + 208);
          v38 = *(a2 - 80);
          *v34 = *(a2 - 96);
          *(a1 + 208) = v38;
          v40 = *(a2 - 48);
          v39 = *(a2 - 32);
          v41 = *(a2 - 64);
          *(a1 + 265) = *(a2 - 23);
          *(a1 + 240) = v40;
          *(a1 + 256) = v39;
          *(a1 + 224) = v41;
          v37[4] = *v80;
          *(v37 + 73) = *&v80[9];
          v37[2] = v72;
          v37[3] = v76;
          *v37 = v64;
          v37[1] = v68;
          v42 = *(a1 + 248);
          v43 = *(a1 + 152);
          if (v42 > v43 || v42 == v43 && ((v54 = *(a1 + 216), v55 = *(a1 + 120), v54 > v55) || v54 == v55 && *(a1 + 232) < *(a1 + 136)))
          {
            v73 = *(a1 + 128);
            v77 = *(a1 + 144);
            *v81 = *(a1 + 160);
            *&v81[16] = *(a1 + 176);
            v65 = *(a1 + 96);
            v69 = *(a1 + 112);
            v44 = *(a1 + 240);
            *(a1 + 128) = *(a1 + 224);
            *(a1 + 144) = v44;
            *(a1 + 160) = *(a1 + 256);
            *(a1 + 169) = *(a1 + 265);
            v45 = *(a1 + 208);
            *(a1 + 96) = *v34;
            *(a1 + 112) = v45;
            *v34 = v65;
            *(a1 + 208) = v69;
            *(a1 + 265) = *&v81[9];
            *(a1 + 240) = v77;
            *(a1 + 256) = *v81;
            *(a1 + 224) = v73;
            v46 = *(a1 + 152);
            v47 = *(a1 + 56);
            if (v46 > v47 || v46 == v47 && ((v56 = *(a1 + 120), v57 = *(a1 + 24), v56 > v57) || v56 == v57 && *(a1 + 136) < *(a1 + 40)))
            {
              v74 = *(a1 + 32);
              v78 = *(a1 + 48);
              *v82 = *(a1 + 64);
              *&v82[16] = *(a1 + 80);
              v66 = *a1;
              v70 = *(a1 + 16);
              v48 = *(a1 + 144);
              *(a1 + 32) = *(a1 + 128);
              *(a1 + 48) = v48;
              *(a1 + 64) = *(a1 + 160);
              *(a1 + 73) = *(a1 + 169);
              v49 = *(a1 + 112);
              *a1 = *(a1 + 96);
              *(a1 + 16) = v49;
              *(a1 + 96) = v66;
              *(a1 + 112) = v70;
              *(a1 + 169) = *&v82[9];
              *(a1 + 144) = v78;
              *(a1 + 160) = *v82;
              *(a1 + 128) = v74;
            }
          }
        }

        return 1;
      case 5:
        sub_10064CA7C(a1, a1 + 96, a1 + 192, (a1 + 288), (a2 - 96));
        return 1;
    }
  }

  else
  {
    if (v4 < 2)
    {
      return 1;
    }

    if (v4 == 2)
    {
      v5 = *(a2 - 40);
      v6 = *(a1 + 56);
      if (v5 > v6 || v5 == v6 && ((v50 = *(a2 - 72), v51 = *(a1 + 24), v50 > v51) || v50 == v51 && *(a2 - 56) < *(a1 + 40)))
      {
        v7 = (a2 - 96);
        v71 = *(a1 + 32);
        v75 = *(a1 + 48);
        *v79 = *(a1 + 64);
        *&v79[16] = *(a1 + 80);
        v62 = *a1;
        v67 = *(a1 + 16);
        v8 = *(a2 - 80);
        *a1 = *(a2 - 96);
        *(a1 + 16) = v8;
        v10 = *(a2 - 48);
        v9 = *(a2 - 32);
        v11 = *(a2 - 64);
        *(a1 + 73) = *(a2 - 23);
        *(a1 + 48) = v10;
        *(a1 + 64) = v9;
        *(a1 + 32) = v11;
        v7[4] = *v79;
        *(v7 + 73) = *&v79[9];
        v7[2] = v71;
        v7[3] = v75;
        result = 1;
        *v7 = v62;
        v7[1] = v67;
        return result;
      }

      return 1;
    }
  }

  v13 = a1 + 192;
  sub_10064C7B4(a1, (a1 + 96), (a1 + 192));
  v14 = a1 + 288;
  if (a1 + 288 != a2)
  {
    v15 = 0;
    v16 = 0;
    do
    {
      v17 = *(v14 + 56);
      v18 = *(v13 + 56);
      if (v17 <= v18)
      {
        if (v17 != v18)
        {
          goto LABEL_30;
        }

        v19 = *(v14 + 24);
        v33 = *(v13 + 24);
        if (v19 <= v33 && (v19 != v33 || *(v14 + 40) >= *(v13 + 40)))
        {
          goto LABEL_30;
        }
      }

      else
      {
        v19 = *(v14 + 24);
      }

      v61 = *(v14 + 16);
      v60 = *v14;
      v58 = *(v14 + 28);
      v59 = *(v14 + 36);
      v20 = *(v14 + 40);
      v21 = *(v14 + 48);
      *v63 = *(v14 + 60);
      *&v63[16] = *(v14 + 76);
      v22 = *(v13 + 16);
      *v14 = *v13;
      *(v14 + 16) = v22;
      v23 = *(v13 + 32);
      v24 = *(v13 + 48);
      *(v14 + 73) = *(v13 + 73);
      v25 = *(v13 + 64);
      *(v14 + 48) = v24;
      *(v14 + 64) = v25;
      v26 = v15;
      *(v14 + 32) = v23;
      while (1)
      {
        v27 = (a1 + v26);
        v28 = *(a1 + v26 + 152);
        if (v17 <= v28)
        {
          if (v17 != v28)
          {
            break;
          }

          v29 = *(a1 + v26 + 120);
          if (v19 <= v29 && (v19 != v29 || v20 >= *(a1 + v26 + 136)))
          {
            break;
          }
        }

        v30 = v27[9];
        v27[14] = v27[8];
        v27[15] = v30;
        v27[16] = v27[10];
        *(v27 + 265) = *(v27 + 169);
        v31 = v27[7];
        v26 -= 96;
        v27[12] = v27[6];
        v27[13] = v31;
        if (v26 == -192)
        {
          v32 = a1;
          goto LABEL_29;
        }
      }

      v32 = a1 + v26 + 192;
LABEL_29:
      *v32 = v60;
      *(v32 + 16) = v61;
      *(v32 + 24) = v19;
      *(v32 + 28) = v58;
      *(v32 + 36) = v59;
      *(v32 + 40) = v20;
      *(v32 + 48) = v21;
      *(v32 + 56) = v17;
      *(v32 + 60) = *v63;
      ++v16;
      *(v32 + 73) = *&v63[13];
      if (v16 == 8)
      {
        return v14 + 96 == a2;
      }

LABEL_30:
      v13 = v14;
      v15 += 96;
      v14 += 96;
    }

    while (v14 != a2);
  }

  return 1;
}

double sub_10064D3A8(__int128 *a1, __int128 *a2, __int128 *a3)
{
  v3 = *(a2 + 14);
  v4 = *(a1 + 14);
  if (v3 > v4 || v3 == v4 && ((v10 = *(a2 + 6), v11 = *(a1 + 6), v10 > v11) || v10 == v11 && (result = *(a2 + 4), result < *(a1 + 4))))
  {
    v5 = *(a3 + 14);
    if (v5 > v3 || v5 == v3 && ((v24 = *(a3 + 6), v25 = *(a2 + 6), v24 > v25) || v24 == v25 && *(a3 + 4) < *(a2 + 4)))
    {
      v50 = a1[2];
      v54 = a1[3];
      *v58 = a1[4];
      *&v58[16] = a1[5];
      v42 = *a1;
      v46 = a1[1];
      v6 = a3[1];
      *a1 = *a3;
      a1[1] = v6;
      v8 = a3[3];
      v7 = a3[4];
      v9 = a3[2];
      *(a1 + 73) = *(a3 + 73);
      a1[3] = v8;
      a1[4] = v7;
      a1[2] = v9;
    }

    else
    {
      v53 = a1[2];
      v57 = a1[3];
      *v61 = a1[4];
      *&v61[16] = a1[5];
      v45 = *a1;
      v49 = a1[1];
      v26 = a2[1];
      *a1 = *a2;
      a1[1] = v26;
      v28 = a2[3];
      v27 = a2[4];
      v29 = a2[2];
      *(a1 + 73) = *(a2 + 73);
      a1[3] = v28;
      a1[4] = v27;
      a1[2] = v29;
      a2[4] = *v61;
      *(a2 + 73) = *&v61[9];
      a2[2] = v53;
      a2[3] = v57;
      result = *&v45;
      *a2 = v45;
      a2[1] = v49;
      v30 = *(a3 + 14);
      v31 = *(a2 + 14);
      if (v30 <= v31)
      {
        if (v30 != v31)
        {
          return result;
        }

        v40 = *(a3 + 6);
        v41 = *(a2 + 6);
        if (v40 <= v41)
        {
          if (v40 != v41)
          {
            return result;
          }

          result = *(a3 + 4);
          if (result >= *(a2 + 4))
          {
            return result;
          }
        }
      }

      v50 = a2[2];
      v54 = a2[3];
      *v58 = a2[4];
      *&v58[16] = a2[5];
      v42 = *a2;
      v46 = a2[1];
      v32 = a3[1];
      *a2 = *a3;
      a2[1] = v32;
      v34 = a3[3];
      v33 = a3[4];
      v35 = a3[2];
      *(a2 + 73) = *(a3 + 73);
      a2[3] = v34;
      a2[4] = v33;
      a2[2] = v35;
    }

    a3[4] = *v58;
    *(a3 + 73) = *&v58[9];
    a3[2] = v50;
    a3[3] = v54;
    result = *&v42;
    *a3 = v42;
    a3[1] = v46;
    return result;
  }

  v13 = *(a3 + 14);
  if (v13 > v3 || v13 == v3 && ((v36 = *(a3 + 6), v37 = *(a2 + 6), v36 > v37) || v36 == v37 && (result = *(a3 + 4), result < *(a2 + 4))))
  {
    v51 = a2[2];
    v55 = a2[3];
    *v59 = a2[4];
    *&v59[16] = a2[5];
    v43 = *a2;
    v47 = a2[1];
    v14 = a3[1];
    *a2 = *a3;
    a2[1] = v14;
    v16 = a3[3];
    v15 = a3[4];
    v17 = a3[2];
    *(a2 + 73) = *(a3 + 73);
    a2[3] = v16;
    a2[4] = v15;
    a2[2] = v17;
    a3[4] = *v59;
    *(a3 + 73) = *&v59[9];
    a3[2] = v51;
    a3[3] = v55;
    result = *&v43;
    *a3 = v43;
    a3[1] = v47;
    v18 = *(a2 + 14);
    v19 = *(a1 + 14);
    if (v18 > v19 || v18 == v19 && ((v38 = *(a2 + 6), v39 = *(a1 + 6), v38 > v39) || v38 == v39 && (result = *(a2 + 4), result < *(a1 + 4))))
    {
      v52 = a1[2];
      v56 = a1[3];
      *v60 = a1[4];
      *&v60[16] = a1[5];
      v44 = *a1;
      v48 = a1[1];
      v20 = a2[1];
      *a1 = *a2;
      a1[1] = v20;
      v22 = a2[3];
      v21 = a2[4];
      v23 = a2[2];
      *(a1 + 73) = *(a2 + 73);
      a1[3] = v22;
      a1[4] = v21;
      a1[2] = v23;
      a2[4] = *v60;
      *(a2 + 73) = *&v60[9];
      a2[2] = v52;
      a2[3] = v56;
      result = *&v44;
      *a2 = v44;
      a2[1] = v48;
    }
  }

  return result;
}

double sub_10064D670(uint64_t a1, uint64_t a2, uint64_t a3, __int128 *a4, __int128 *a5)
{
  result = sub_10064D3A8(a1, a2, a3);
  v11 = *(a4 + 14);
  v12 = *(a3 + 56);
  if (v11 > v12 || v11 == v12 && ((v29 = *(a4 + 6), v30 = *(a3 + 24), v29 > v30) || v29 == v30 && (result = *(a4 + 4), result < *(a3 + 32))))
  {
    v81 = *(a3 + 32);
    v88 = *(a3 + 48);
    *v95 = *(a3 + 64);
    *&v95[16] = *(a3 + 80);
    v67 = *a3;
    v74 = *(a3 + 16);
    v13 = a4[1];
    *a3 = *a4;
    *(a3 + 16) = v13;
    v15 = a4[3];
    v14 = a4[4];
    v16 = a4[2];
    *(a3 + 73) = *(a4 + 73);
    *(a3 + 48) = v15;
    *(a3 + 64) = v14;
    *(a3 + 32) = v16;
    a4[4] = *v95;
    *(a4 + 73) = *&v95[9];
    a4[2] = v81;
    a4[3] = v88;
    result = *&v67;
    *a4 = v67;
    a4[1] = v74;
    v17 = *(a3 + 56);
    v18 = *(a2 + 56);
    if (v17 > v18 || v17 == v18 && ((v31 = *(a3 + 24), v32 = *(a2 + 24), v31 > v32) || v31 == v32 && (result = *(a3 + 32), result < *(a2 + 32))))
    {
      v82 = *(a2 + 32);
      v89 = *(a2 + 48);
      *v96 = *(a2 + 64);
      *&v96[16] = *(a2 + 80);
      v68 = *a2;
      v75 = *(a2 + 16);
      v19 = *(a3 + 16);
      *a2 = *a3;
      *(a2 + 16) = v19;
      v21 = *(a3 + 48);
      v20 = *(a3 + 64);
      v22 = *(a3 + 32);
      *(a2 + 73) = *(a3 + 73);
      *(a2 + 48) = v21;
      *(a2 + 64) = v20;
      *(a2 + 32) = v22;
      *(a3 + 64) = *v96;
      *(a3 + 73) = *&v96[9];
      *(a3 + 32) = v82;
      *(a3 + 48) = v89;
      result = *&v68;
      *a3 = v68;
      *(a3 + 16) = v75;
      v23 = *(a2 + 56);
      v24 = *(a1 + 56);
      if (v23 > v24 || v23 == v24 && ((v33 = *(a2 + 24), v34 = *(a1 + 24), v33 > v34) || v33 == v34 && (result = *(a2 + 32), result < *(a1 + 32))))
      {
        v83 = *(a1 + 32);
        v90 = *(a1 + 48);
        *v97 = *(a1 + 64);
        *&v97[16] = *(a1 + 80);
        v69 = *a1;
        v76 = *(a1 + 16);
        v25 = *(a2 + 16);
        *a1 = *a2;
        *(a1 + 16) = v25;
        v27 = *(a2 + 48);
        v26 = *(a2 + 64);
        v28 = *(a2 + 32);
        *(a1 + 73) = *(a2 + 73);
        *(a1 + 48) = v27;
        *(a1 + 64) = v26;
        *(a1 + 32) = v28;
        *(a2 + 64) = *v97;
        *(a2 + 73) = *&v97[9];
        *(a2 + 32) = v83;
        *(a2 + 48) = v90;
        result = *&v69;
        *a2 = v69;
        *(a2 + 16) = v76;
      }
    }
  }

  v35 = *(a5 + 14);
  v36 = *(a4 + 14);
  if (v35 > v36 || v35 == v36 && ((v59 = *(a5 + 6), v60 = *(a4 + 6), v59 > v60) || v59 == v60 && (result = *(a5 + 4), result < *(a4 + 4))))
  {
    v84 = a4[2];
    v91 = a4[3];
    *v98 = a4[4];
    *&v98[16] = a4[5];
    v70 = *a4;
    v77 = a4[1];
    v37 = a5[1];
    *a4 = *a5;
    a4[1] = v37;
    v39 = a5[3];
    v38 = a5[4];
    v40 = a5[2];
    *(a4 + 73) = *(a5 + 73);
    a4[3] = v39;
    a4[4] = v38;
    a4[2] = v40;
    a5[4] = *v98;
    *(a5 + 73) = *&v98[9];
    a5[2] = v84;
    a5[3] = v91;
    result = *&v70;
    *a5 = v70;
    a5[1] = v77;
    v41 = *(a4 + 14);
    v42 = *(a3 + 56);
    if (v41 > v42 || v41 == v42 && ((v61 = *(a4 + 6), v62 = *(a3 + 24), v61 > v62) || v61 == v62 && (result = *(a4 + 4), result < *(a3 + 32))))
    {
      v85 = *(a3 + 32);
      v92 = *(a3 + 48);
      *v99 = *(a3 + 64);
      *&v99[16] = *(a3 + 80);
      v71 = *a3;
      v78 = *(a3 + 16);
      v43 = a4[1];
      *a3 = *a4;
      *(a3 + 16) = v43;
      v45 = a4[3];
      v44 = a4[4];
      v46 = a4[2];
      *(a3 + 73) = *(a4 + 73);
      *(a3 + 48) = v45;
      *(a3 + 64) = v44;
      *(a3 + 32) = v46;
      a4[4] = *v99;
      *(a4 + 73) = *&v99[9];
      a4[2] = v85;
      a4[3] = v92;
      result = *&v71;
      *a4 = v71;
      a4[1] = v78;
      v47 = *(a3 + 56);
      v48 = *(a2 + 56);
      if (v47 > v48 || v47 == v48 && ((v63 = *(a3 + 24), v64 = *(a2 + 24), v63 > v64) || v63 == v64 && (result = *(a3 + 32), result < *(a2 + 32))))
      {
        v86 = *(a2 + 32);
        v93 = *(a2 + 48);
        *v100 = *(a2 + 64);
        *&v100[16] = *(a2 + 80);
        v72 = *a2;
        v79 = *(a2 + 16);
        v49 = *(a3 + 16);
        *a2 = *a3;
        *(a2 + 16) = v49;
        v51 = *(a3 + 48);
        v50 = *(a3 + 64);
        v52 = *(a3 + 32);
        *(a2 + 73) = *(a3 + 73);
        *(a2 + 48) = v51;
        *(a2 + 64) = v50;
        *(a2 + 32) = v52;
        *(a3 + 64) = *v100;
        *(a3 + 73) = *&v100[9];
        *(a3 + 32) = v86;
        *(a3 + 48) = v93;
        result = *&v72;
        *a3 = v72;
        *(a3 + 16) = v79;
        v53 = *(a2 + 56);
        v54 = *(a1 + 56);
        if (v53 > v54 || v53 == v54 && ((v65 = *(a2 + 24), v66 = *(a1 + 24), v65 > v66) || v65 == v66 && (result = *(a2 + 32), result < *(a1 + 32))))
        {
          v87 = *(a1 + 32);
          v94 = *(a1 + 48);
          *v101 = *(a1 + 64);
          *&v101[16] = *(a1 + 80);
          v73 = *a1;
          v80 = *(a1 + 16);
          v55 = *(a2 + 16);
          *a1 = *a2;
          *(a1 + 16) = v55;
          v57 = *(a2 + 48);
          v56 = *(a2 + 64);
          v58 = *(a2 + 32);
          *(a1 + 73) = *(a2 + 73);
          *(a1 + 48) = v57;
          *(a1 + 64) = v56;
          *(a1 + 32) = v58;
          *(a2 + 64) = *v101;
          *(a2 + 73) = *&v101[9];
          *(a2 + 32) = v87;
          *(a2 + 48) = v94;
          result = *&v73;
          *a2 = v73;
          *(a2 + 16) = v80;
        }
      }
    }
  }

  return result;
}

BOOL sub_10064DAC8(uint64_t a1, uint64_t a2)
{
  v4 = 0xAAAAAAAAAAAAAAABLL * ((a2 - a1) >> 5);
  if (v4 > 2)
  {
    switch(v4)
    {
      case 3:
        sub_10064D3A8(a1, (a1 + 96), (a2 - 96));
        return 1;
      case 4:
        v33 = (a1 + 192);
        sub_10064D3A8(a1, (a1 + 96), (a1 + 192));
        v34 = *(a2 - 40);
        v35 = *(a1 + 248);
        if (v34 > v35 || v34 == v35 && ((v51 = *(a2 - 72), v52 = *(a1 + 216), v51 > v52) || v51 == v52 && *(a2 - 64) < *(a1 + 224)))
        {
          v36 = (a2 - 96);
          v70 = *(a1 + 224);
          v74 = *(a1 + 240);
          *v78 = *(a1 + 256);
          *&v78[16] = *(a1 + 272);
          v62 = *v33;
          v66 = *(a1 + 208);
          v37 = *(a2 - 80);
          *v33 = *(a2 - 96);
          *(a1 + 208) = v37;
          v39 = *(a2 - 48);
          v38 = *(a2 - 32);
          v40 = *(a2 - 64);
          *(a1 + 265) = *(a2 - 23);
          *(a1 + 240) = v39;
          *(a1 + 256) = v38;
          *(a1 + 224) = v40;
          v36[4] = *v78;
          *(v36 + 73) = *&v78[9];
          v36[2] = v70;
          v36[3] = v74;
          *v36 = v62;
          v36[1] = v66;
          v41 = *(a1 + 248);
          v42 = *(a1 + 152);
          if (v41 > v42 || v41 == v42 && ((v53 = *(a1 + 216), v54 = *(a1 + 120), v53 > v54) || v53 == v54 && *(a1 + 224) < *(a1 + 128)))
          {
            v71 = *(a1 + 128);
            v75 = *(a1 + 144);
            *v79 = *(a1 + 160);
            *&v79[16] = *(a1 + 176);
            v63 = *(a1 + 96);
            v67 = *(a1 + 112);
            v43 = *(a1 + 240);
            *(a1 + 128) = *(a1 + 224);
            *(a1 + 144) = v43;
            *(a1 + 160) = *(a1 + 256);
            *(a1 + 169) = *(a1 + 265);
            v44 = *(a1 + 208);
            *(a1 + 96) = *v33;
            *(a1 + 112) = v44;
            *v33 = v63;
            *(a1 + 208) = v67;
            *(a1 + 265) = *&v79[9];
            *(a1 + 240) = v75;
            *(a1 + 256) = *v79;
            *(a1 + 224) = v71;
            v45 = *(a1 + 152);
            v46 = *(a1 + 56);
            if (v45 > v46 || v45 == v46 && ((v55 = *(a1 + 120), v56 = *(a1 + 24), v55 > v56) || v55 == v56 && *(a1 + 128) < *(a1 + 32)))
            {
              v72 = *(a1 + 32);
              v76 = *(a1 + 48);
              *v80 = *(a1 + 64);
              *&v80[16] = *(a1 + 80);
              v64 = *a1;
              v68 = *(a1 + 16);
              v47 = *(a1 + 144);
              *(a1 + 32) = *(a1 + 128);
              *(a1 + 48) = v47;
              *(a1 + 64) = *(a1 + 160);
              *(a1 + 73) = *(a1 + 169);
              v48 = *(a1 + 112);
              *a1 = *(a1 + 96);
              *(a1 + 16) = v48;
              *(a1 + 96) = v64;
              *(a1 + 112) = v68;
              *(a1 + 169) = *&v80[9];
              *(a1 + 144) = v76;
              *(a1 + 160) = *v80;
              *(a1 + 128) = v72;
            }
          }
        }

        return 1;
      case 5:
        sub_10064D670(a1, a1 + 96, a1 + 192, (a1 + 288), (a2 - 96));
        return 1;
    }
  }

  else
  {
    if (v4 < 2)
    {
      return 1;
    }

    if (v4 == 2)
    {
      v5 = *(a2 - 40);
      v6 = *(a1 + 56);
      if (v5 > v6 || v5 == v6 && ((v49 = *(a2 - 72), v50 = *(a1 + 24), v49 > v50) || v49 == v50 && *(a2 - 64) < *(a1 + 32)))
      {
        v7 = (a2 - 96);
        v69 = *(a1 + 32);
        v73 = *(a1 + 48);
        *v77 = *(a1 + 64);
        *&v77[16] = *(a1 + 80);
        v60 = *a1;
        v65 = *(a1 + 16);
        v8 = *(a2 - 80);
        *a1 = *(a2 - 96);
        *(a1 + 16) = v8;
        v10 = *(a2 - 48);
        v9 = *(a2 - 32);
        v11 = *(a2 - 64);
        *(a1 + 73) = *(a2 - 23);
        *(a1 + 48) = v10;
        *(a1 + 64) = v9;
        *(a1 + 32) = v11;
        v7[4] = *v77;
        *(v7 + 73) = *&v77[9];
        v7[2] = v69;
        v7[3] = v73;
        result = 1;
        *v7 = v60;
        v7[1] = v65;
        return result;
      }

      return 1;
    }
  }

  v13 = a1 + 192;
  sub_10064D3A8(a1, (a1 + 96), (a1 + 192));
  v14 = a1 + 288;
  if (a1 + 288 != a2)
  {
    v15 = 0;
    v16 = 0;
    do
    {
      v17 = *(v14 + 56);
      v18 = *(v13 + 56);
      if (v17 <= v18)
      {
        if (v17 != v18)
        {
          goto LABEL_30;
        }

        v19 = *(v14 + 24);
        v32 = *(v13 + 24);
        if (v19 <= v32 && (v19 != v32 || *(v14 + 32) >= *(v13 + 32)))
        {
          goto LABEL_30;
        }
      }

      else
      {
        v19 = *(v14 + 24);
      }

      v59 = *(v14 + 16);
      v20 = *(v14 + 28);
      v21 = *(v14 + 32);
      v57 = *(v14 + 40);
      v58 = *v14;
      *v61 = *(v14 + 60);
      *&v61[16] = *(v14 + 76);
      *(v14 + 73) = *(v13 + 73);
      v22 = *(v13 + 64);
      v23 = *(v13 + 16);
      *v14 = *v13;
      *(v14 + 16) = v23;
      v24 = *(v13 + 48);
      v25 = v15;
      *(v14 + 32) = *(v13 + 32);
      *(v14 + 48) = v24;
      *(v14 + 64) = v22;
      while (1)
      {
        v26 = (a1 + v25);
        v27 = *(a1 + v25 + 152);
        if (v17 <= v27)
        {
          if (v17 != v27)
          {
            break;
          }

          v28 = *(a1 + v25 + 120);
          if (v19 <= v28 && (v19 != v28 || v21 >= *(a1 + v25 + 128)))
          {
            break;
          }
        }

        v29 = v26[9];
        v26[14] = v26[8];
        v26[15] = v29;
        v26[16] = v26[10];
        *(v26 + 265) = *(v26 + 169);
        v30 = v26[7];
        v25 -= 96;
        v26[12] = v26[6];
        v26[13] = v30;
        if (v25 == -192)
        {
          v31 = a1;
          goto LABEL_29;
        }
      }

      v31 = a1 + v25 + 192;
LABEL_29:
      *v31 = v58;
      *(v31 + 16) = v59;
      *(v31 + 24) = v19;
      *(v31 + 28) = v20;
      *(v31 + 32) = v21;
      *(v31 + 40) = v57;
      *(v31 + 56) = v17;
      *(v31 + 60) = *v61;
      ++v16;
      *(v31 + 73) = *&v61[13];
      if (v16 == 8)
      {
        return v14 + 96 == a2;
      }

LABEL_30:
      v13 = v14;
      v15 += 96;
      v14 += 96;
    }

    while (v14 != a2);
  }

  return 1;
}

NSDictionary *sub_10064DF84(uint64_t a1)
{
  v4[0] = @"apReachOverlapPercentage";
  v2 = [NSNumber numberWithInt:*(a1 + 32)];
  v4[1] = @"numOfAps";
  v5[0] = v2;
  v5[1] = [NSNumber numberWithUnsignedLong:*(a1 + 40)];
  return [NSDictionary dictionaryWithObjects:v5 forKeys:v4 count:2];
}

void sub_10064E02C()
{
  if ((atomic_load_explicit(&qword_1025D4918, memory_order_acquire) & 1) == 0)
  {
    if (__cxa_guard_acquire(&qword_1025D4918))
    {
      v0 = 256;
      qword_1025D4908 = 0;
      unk_1025D4910 = 0;
      qword_1025D4900 = 0;
      sub_10015D8A0(&qword_1025D4900, &v0, &v1, 2);
      __cxa_atexit(sub_10037DED4, &qword_1025D4900, dword_100000000);
      __cxa_guard_release(&qword_1025D4918);
    }
  }
}

uint64_t sub_10064E62C(uint64_t a1, uint64_t *lpsrc)
{
  v3 = *(a1 + 32);
  v4 = *lpsrc;
  if ((*(v4 + 24))(lpsrc) != 1 || v5[46] != *(v3 + 184))
  {
    return 0;
  }

  result = [*(v3 + 16) isEqual:sub_100008880(lpsrc)];
  if (result)
  {
    *(v3 + 280) = *(v5 + 35);
    if (qword_1025D47A0 != -1)
    {
      sub_1018F2FD0();
    }

    v7 = off_1025D47A8;
    if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
    {
      v8 = (*(*lpsrc + 24))(lpsrc);
      v9 = *(v3 + 16);
      v13 = 68289794;
      v14 = 0;
      v15 = 2082;
      v16 = "";
      v17 = 1026;
      v18 = v8;
      v19 = 2114;
      v20 = v9;
      v21 = 2050;
      v22 = v3;
      _os_log_impl(dword_100000000, v7, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive consumeMatchingButterfly, dicType:%{public}d, ClientKeyPath:%{public, location:escape_only}@, this:%{public}p}", &v13, 0x2Cu);
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FE4();
      }
    }

    v10 = off_1025D47A8;
    if (os_signpost_enabled(off_1025D47A8))
    {
      v11 = (*(*lpsrc + 24))(lpsrc);
      v12 = *(v3 + 16);
      v13 = 68289794;
      v14 = 0;
      v15 = 2082;
      v16 = "";
      v17 = 1026;
      v18 = v11;
      v19 = 2114;
      v20 = v12;
      v21 = 2050;
      v22 = v3;
      _os_signpost_emit_with_name_impl(dword_100000000, v10, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive consumeMatchingButterfly", "{msg%{public}.0s:#luLive consumeMatchingButterfly, dicType:%{public}d, ClientKeyPath:%{public, location:escape_only}@, this:%{public}p}", &v13, 0x2Cu);
    }

    return 1;
  }

  return result;
}

NSDictionary *sub_10064E8D0(uint64_t a1)
{
  v1 = *(a1 + 32);
  v2 = [*(v1 + 16) clientAnchorWithType];
  if (v2)
  {
    v3 = v2;
  }

  else
  {
    v3 = &stru_1025052F8;
  }

  v4 = [*(v1 + 16) subIdentityIdWithType];
  if (v4)
  {
    v5 = v4;
  }

  else
  {
    v5 = &stru_1025052F8;
  }

  v7[0] = @"Anchor";
  v7[1] = @"SubIdentity";
  v8[0] = v3;
  v8[1] = v5;
  v7[2] = @"LiveConfigIndex";
  v8[2] = [NSNumber numberWithInt:*(v1 + 184)];
  return [NSDictionary dictionaryWithObjects:v8 forKeys:v7 count:3];
}

void sub_10064E9A4(uint64_t a1)
{
  *(a1 + 272) = 0x4056800000000000;
  v2 = *(a1 + 184);
  if ((v2 - 1) >= 2)
  {
    if (v2 != 4)
    {
      goto LABEL_6;
    }

    v3 = 0x417E133800000000;
  }

  else
  {
    v3 = 0x407E000000000000;
  }

  *(a1 + 272) = v3;
LABEL_6:
  if (qword_1025D47A0 != -1)
  {
    sub_1018F2FD0();
  }

  v4 = off_1025D47A8;
  if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
  {
    v5 = *(a1 + 16);
    v6 = *(a1 + 184);
    v7 = *(a1 + 272);
    v8[0] = 68290050;
    v8[1] = 0;
    v9 = 2082;
    v10 = "";
    v11 = 2114;
    v12 = v5;
    v13 = 2050;
    v14 = a1;
    v15 = 1026;
    v16 = v6;
    v17 = 2050;
    v18 = v7;
    _os_log_impl(dword_100000000, v4, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive stationary duration threshold, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, LiveUpdateConfiguration:%{public}d, fStationaryDurationThreshold:%{public}f}", v8, 0x36u);
  }
}

void sub_10064EAE4(uint64_t a1, int *a2, int *a3, uint64_t a4)
{
  CLProfilingIdentify();
  [objc_msgSend(*(a4 + 32) "silo")];
  if (qword_1025D47F0 != -1)
  {
    sub_1018F300C();
  }

  if (os_log_type_enabled(qword_1025D47F8, OS_LOG_TYPE_DEBUG))
  {
    v11 = 1;
    v8 = _os_activity_create(dword_100000000, "CL: CLDaemonLocationUpdaterLive::onMotionStateNotification", &_os_activity_current, OS_ACTIVITY_FLAG_DEFAULT);
    os_activity_scope_enter(v8, &state);

    if (qword_1025D47F0 != -1)
    {
      sub_1018F3020();
    }

    v9 = qword_1025D47F8;
    if (os_log_type_enabled(qword_1025D47F8, OS_LOG_TYPE_DEBUG))
    {
      *buf = 68289538;
      v13 = 0;
      v14 = 2082;
      v15 = "";
      v16 = 2082;
      v17 = "activity";
      v18 = 2050;
      v19 = a4;
      _os_log_impl(dword_100000000, v9, OS_LOG_TYPE_DEBUG, "{msg%{public}.0s:CLDaemonLocationUpdaterLive::onMotionStateNotification, event:%{public, location:escape_only}s, this:%{public}p}", buf, 0x26u);
    }
  }

  else
  {
    v11 = 0;
  }

  sub_1006518BC(a4, v7, a2, a3);
  if (v11 == 1)
  {
    os_activity_scope_leave(&state);
  }
}

void sub_10064ECB0(uint64_t a1, int *a2, uint64_t a3, uint64_t a4)
{
  CLProfilingIdentify();
  [objc_msgSend(*(a4 + 32) "silo")];
  if (qword_1025D47F0 != -1)
  {
    sub_1018F300C();
  }

  if (os_log_type_enabled(qword_1025D47F8, OS_LOG_TYPE_DEBUG))
  {
    v11 = 1;
    v8 = _os_activity_create(dword_100000000, "CL: CLDaemonLocationUpdaterLive::onLocationNotification", &_os_activity_current, OS_ACTIVITY_FLAG_DEFAULT);
    os_activity_scope_enter(v8, &state);

    if (qword_1025D47F0 != -1)
    {
      sub_1018F3020();
    }

    v9 = qword_1025D47F8;
    if (os_log_type_enabled(qword_1025D47F8, OS_LOG_TYPE_DEBUG))
    {
      *buf = 68289538;
      v13 = 0;
      v14 = 2082;
      v15 = "";
      v16 = 2082;
      v17 = "activity";
      v18 = 2050;
      v19 = a4;
      _os_log_impl(dword_100000000, v9, OS_LOG_TYPE_DEBUG, "{msg%{public}.0s:CLDaemonLocationUpdaterLive::onLocationNotification, event:%{public, location:escape_only}s, this:%{public}p}", buf, 0x26u);
    }
  }

  else
  {
    v11 = 0;
  }

  sub_1006510C4(a4, v7, a2, a3);
  if (v11 == 1)
  {
    os_activity_scope_leave(&state);
  }
}

void sub_10064EE7C(uint64_t a1, int a2)
{
  v4 = *(a1 + 192);
  *(a1 + 192) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  sub_100650380((a1 + 216), 0);
  sub_10041908C((a1 + 224), 0);
  if (qword_1025D47A0 != -1)
  {
    sub_1018F2FD0();
  }

  v5 = off_1025D47A8;
  if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
  {
    v6 = *(a1 + 16);
    __p = 68289538;
    v21 = 2082;
    v22 = "";
    v23 = 2114;
    v24 = v6;
    v25 = 2050;
    *v26 = a1;
    _os_log_impl(dword_100000000, v5, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive manageSubscription releaseAccuracyEnablementAssertion, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p}", &__p, 0x26u);
    if (qword_1025D47A0 != -1)
    {
      sub_1018F2FE4();
    }
  }

  v7 = off_1025D47A8;
  if (os_signpost_enabled(off_1025D47A8))
  {
    v8 = *(a1 + 16);
    __p = 68289538;
    v21 = 2082;
    v22 = "";
    v23 = 2114;
    v24 = v8;
    v25 = 2050;
    *v26 = a1;
    _os_signpost_emit_with_name_impl(dword_100000000, v7, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive manageSubscription releaseAccuracyEnablementAssertion", "{msg%{public}.0s:#luLive manageSubscription releaseAccuracyEnablementAssertion, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p}", &__p, 0x26u);
  }

  [*(a1 + 256) releaseAccuracyEnablementAssertionForClient:*(a1 + 248)];
  if (sub_10102DEF4(a1))
  {
    sub_10102E054(a1);
  }

  sub_10102E4D0(a1);
  if ([*(a1 + 40) isAuthorizedForServiceTypeMask:524304] && (a2 & 1) == 0)
  {
    *(a1 + 241) = 1;
    v9 = [*(a1 + 40) isAuthorizedForServiceType:12];
    v10 = *(a1 + 184);
    if (v9)
    {
      if (v10 != 4)
      {
        [*(*(a1 + 264) + 16) register:*(*(a1 + 264) + 8) forNotification:1 registrationInfo:0];
      }

      sub_1000EE2FC();
    }

    if (v10 != 4)
    {
      [*(*(a1 + 264) + 16) unregister:*(*(a1 + 264) + 8) forNotification:1];
      *(a1 + 280) = 0x7FEFFFFFFFFFFFFFLL;
      *(a1 + 88) &= ~8uLL;
    }

    sub_1000EE0B0();
  }

  *(a1 + 241) = 0;
  v11 = *(a1 + 24);
  v12 = sub_100008880(a1);
  sub_100049444(v11, v12, 0);
  if (qword_1025D47A0 != -1)
  {
    sub_1018F2FE4();
  }

  v13 = off_1025D47A8;
  if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
  {
    v14 = *(a1 + 16);
    __p = 68289794;
    v21 = 2082;
    v22 = "";
    v23 = 2114;
    v24 = v14;
    v25 = 2050;
    *v26 = a1;
    *&v26[8] = 1026;
    *&v26[10] = a2;
    _os_log_impl(dword_100000000, v13, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive skip starting location-updates, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, lapseSubscriptionDueToStationary:%{public}hhd}", &__p, 0x2Cu);
    if (qword_1025D47A0 != -1)
    {
      sub_1018F2FE4();
    }
  }

  v15 = off_1025D47A8;
  if (os_signpost_enabled(off_1025D47A8))
  {
    v16 = *(a1 + 16);
    __p = 68289794;
    v21 = 2082;
    v22 = "";
    v23 = 2114;
    v24 = v16;
    v25 = 2050;
    *v26 = a1;
    *&v26[8] = 1026;
    *&v26[10] = a2;
    _os_signpost_emit_with_name_impl(dword_100000000, v15, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive skip starting location-updates", "{msg%{public}.0s:#luLive skip starting location-updates, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, lapseSubscriptionDueToStationary:%{public}hhd}", &__p, 0x2Cu);
    if (qword_1025D47A0 != -1)
    {
      sub_1018F2FE4();
    }
  }

  v17 = off_1025D47A8;
  if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
  {
    v18 = *(a1 + 16);
    v19 = *(a1 + 184);
    __p = 68290050;
    v21 = 2082;
    v22 = "";
    v23 = 2114;
    v24 = v18;
    v25 = 1026;
    *v26 = v19;
    *&v26[4] = 2050;
    *&v26[6] = a1;
    v27 = 1026;
    v28 = a2;
    _os_log_impl(dword_100000000, v17, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#pwrlog not authorized for locations; stopping liveUpdates if started, ClientKeyPath:%{public, location:escape_only}@, LiveUpdateConfiguration:%{public}d, self:%{public}p, lapseSubscriptionDueToStationary:%{public}hhd}", &__p, 0x32u);
  }

  if (*(a1 + 184) != 4 && (a2 & 1) == 0)
  {
    [*(*(a1 + 264) + 16) unregister:*(*(a1 + 264) + 8) forNotification:1];
    *(a1 + 280) = 0x7FEFFFFFFFFFFFFFLL;
    *(a1 + 88) &= ~8uLL;
  }

  sub_10102E798(a1);
}

void sub_10064FC48(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  operator delete();
}

void sub_10064FC94(uint64_t a1)
{
  *a1 = off_102465500;
  [*(a1 + 256) releaseAccuracyEnablementAssertionForClient:*(a1 + 248)];

  *(a1 + 256) = 0;
  [*(a1 + 248) invalidate];

  *(a1 + 248) = 0;
  sub_10102BA5C(a1);
  (*(*a1 + 24))(a1);
  sub_10102D0D4();
  v2 = *(a1 + 264);
  *(a1 + 264) = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  sub_10041908C((a1 + 224), 0);
  sub_100650380((a1 + 216), 0);
  v3 = *(a1 + 192);
  *(a1 + 192) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  sub_10102B660(a1);
}

void sub_10064FE04(uint64_t a1, CLConnectionMessage **a2)
{
  v4 = CLConnectionMessage::name(*a2);
  if (*(v4 + 23) < 0 && *(v4 + 8) == 44 && !memcmp(*v4, "kCLConnectionMessageDestroyUponDisconnection", 0x2CuLL))
  {
    *(a1 + 48) = 1;
  }

  else
  {
    if (qword_1025D4790 != -1)
    {
      sub_1018F3048();
    }

    v5 = qword_1025D4798;
    if (os_log_type_enabled(qword_1025D4798, OS_LOG_TYPE_DEFAULT))
    {
      v6 = *(a1 + 16);
      v7 = CLConnectionMessage::name(*a2);
      v8 = *(v7 + 23) >= 0 ? v7 : *v7;
      v13 = 68289794;
      v14 = 0;
      v15 = 2082;
      v16 = "";
      v17 = 2114;
      v18 = v6;
      v19 = 2050;
      v20 = a1;
      v21 = 2082;
      v22 = v8;
      _os_log_impl(dword_100000000, v5, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#Warning #luLive received unhandled message, ClientKeyPath:%{public, location:escape_only}@, this:%{public}p, message:%{public, location:escape_only}s}", &v13, 0x30u);
      if (qword_1025D4790 != -1)
      {
        sub_1018F2FA8();
      }
    }

    v9 = qword_1025D4798;
    if (os_signpost_enabled(qword_1025D4798))
    {
      v10 = *(a1 + 16);
      v11 = CLConnectionMessage::name(*a2);
      if (*(v11 + 23) >= 0)
      {
        v12 = v11;
      }

      else
      {
        v12 = *v11;
      }

      v13 = 68289794;
      v14 = 0;
      v15 = 2082;
      v16 = "";
      v17 = 2114;
      v18 = v10;
      v19 = 2050;
      v20 = a1;
      v21 = 2082;
      v22 = v12;
      _os_signpost_emit_with_name_impl(dword_100000000, v9, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#Warning #luLive received unhandled message", "{msg%{public}.0s:#Warning #luLive received unhandled message, ClientKeyPath:%{public, location:escape_only}@, this:%{public}p, message:%{public, location:escape_only}s}", &v13, 0x30u);
    }
  }
}

void sub_100650020(uint64_t a1)
{
  if (qword_1025D47A0 != -1)
  {
    sub_1018F2FD0();
  }

  v2 = off_1025D47A8;
  if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEBUG))
  {
    [*(a1 + 40) registrationResult];
    v3 = [*(a1 + 40) registrationResult];
    v4[0] = 68289282;
    v4[1] = 0;
    v5 = 2082;
    v6 = "";
    v7 = 2050;
    v8 = v3;
    _os_log_impl(dword_100000000, v2, OS_LOG_TYPE_DEBUG, "{msg%{public}.0s:#luLive updateAuthContext change, RegistrationResult:%{public, location:CLClientRegistrationResult}lld}", v4, 0x1Cu);
  }

  sub_10064EE7C(a1, 0);
}

NSDictionary *sub_100650120(uint64_t a1)
{
  v4[0] = @"config";
  v2 = [NSNumber numberWithInt:*(a1 + 184)];
  v4[1] = @"SDKAtLeast2024";
  v5[0] = v2;
  v5[1] = [NSNumber numberWithBool:*(a1 + 80)];
  return [NSDictionary dictionaryWithObjects:v5 forKeys:v4 count:2];
}

uint64_t sub_1006501D4(uint64_t a1)
{
  v3 = *(a1 + 184);
  if (v3 > 3)
  {
    if (v3 == 0x7FFFFFFF)
    {
      v5 = 5;
    }

    else
    {
      v5 = 50;
    }

    if (v3 == 4)
    {
      return 29;
    }

    else
    {
      return v5;
    }
  }

  else if ((v3 - 1) >= 2)
  {
    if (v3 == 3)
    {
      return 28;
    }

    else
    {
      return 50;
    }
  }

  else if ([*(a1 + 40) inUseLevelIsAtLeast:{5, v1, v2}])
  {
    return 35;
  }

  else
  {
    return 50;
  }
}

uint64_t sub_100650254(uint64_t a1)
{
  v2 = *(a1 + 184);
  if (v2 > 4)
  {
    if (v2 != 0x7FFFFFFF)
    {
      return 17;
    }

    goto LABEL_6;
  }

  if (((1 << v2) & 0xB) == 0)
  {
LABEL_6:
    if (![*(a1 + 40) isAuthorizedForServiceType:12] || (*(a1 + 240) & 1) == 0)
    {
      return 50;
    }

    return 17;
  }

  if ([*(a1 + 40) isAuthorizedForServiceType:12])
  {
    return 17;
  }

  return 50;
}

uint64_t sub_1006502D8(uint64_t a1)
{
  if (*(a1 + 241))
  {
    return 0;
  }

  v3 = [*(a1 + 40) diagnosticMask];
  if (sub_10102E960(a1))
  {
    v1 = v3 & 3 | 0x10;
  }

  else
  {
    v1 = v3 & 3;
  }

  v4 = *(a1 + 88);
  v5 = [*(a1 + 40) isAuthorizedForServiceTypeMask:16];
  v6 = (v4 & 8) == 0;
  v7 = v1 | 0x1000;
  if ((v5 & v6) != 0)
  {
    v1 |= 0x1000uLL;
  }

  if (([*(a1 + 40) isAuthorizedForServiceTypeMask:0x100000] & 1) == 0 && objc_msgSend(*(a1 + 40), "transientAwareRegistrationResult") == 4)
  {
    return v7;
  }

  return v1;
}

id *sub_100650380(id **a1, id *a2)
{
  result = *a1;
  *a1 = a2;
  if (result)
  {
    sub_100652124(result);

    operator delete();
  }

  return result;
}

uint64_t sub_1006503CC@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>)
{
  *(a2 + 8) = vdupq_n_s64(0x7FF0000000000000uLL);
  *(a2 + 24) = 0;
  *(a2 + 27) = 0;
  v2 = *(result + 244);
  *(a2 + 29) = v2 == 5;
  *a2 = v2 != 50;
  if (v2 != 50)
  {
    *(a2 + 24) = v2;
  }

  return result;
}

void sub_10065040C(uint64_t a1, uint64_t a2)
{
  sub_100022008(v28, a2);
  v3 = *(a1 + 232);
  v15[0] = _NSConcreteStackBlock;
  v15[1] = 3321888768;
  v16 = sub_100650704;
  v17 = &unk_102465578;
  v18 = a1;
  sub_100022008(&v19, v28);
  v26 = 0x1000000;
  v27 = v3;
  if ([*(a1 + 40) isNonProvisionallyAuthorizedForServiceTypeMask:524304])
  {
    v16(v15);
  }

  else
  {
    v4 = [*(a1 + 16) legacyClientKey];
    v5 = [CLLocation alloc];
    v13[6] = v28[6];
    v13[7] = v28[7];
    v14[0] = v29[0];
    *(v14 + 12) = *(v29 + 12);
    v13[2] = v28[2];
    v13[3] = v28[3];
    v13[4] = v28[4];
    v13[5] = v28[5];
    v13[0] = v28[0];
    v13[1] = v28[1];
    v6 = [v5 initWithClientLocation:v13];
    v7 = [objc_msgSend(*(a1 + 32) "vendor")];
    v8 = [objc_msgSend(*(a1 + 32) "vendor")];
    v10 = *(a1 + 64);
    v9 = *(a1 + 72);
    if (v9)
    {
      atomic_fetch_add_explicit(&v9->__shared_owners_, 1uLL, memory_order_relaxed);
      atomic_fetch_add_explicit(&v9->__shared_weak_owners_, 1uLL, memory_order_relaxed);
      sub_100008080(v9);
    }

    v11[0] = _NSConcreteStackBlock;
    v11[1] = 3321888768;
    v11[2] = sub_100650CD4;
    v11[3] = &unk_1024655B0;
    v11[7] = a1;
    v11[8] = v10;
    v12 = v9;
    if (v9)
    {
      atomic_fetch_add_explicit(&v9->__shared_weak_owners_, 1uLL, memory_order_relaxed);
    }

    v11[5] = v8;
    v11[6] = v15;
    v11[4] = v4;
    [v7 handleProvisionalIntermediationForService:4 forClientKey:v4 at:v6 withReply:v11];
    if (v12)
    {
      std::__shared_weak_count::__release_weak(v12);
    }

    if (v9)
    {
      std::__shared_weak_count::__release_weak(v9);
    }
  }

  if (v24)
  {
    sub_100008080(v24);
  }

  if (v23 < 0)
  {
    operator delete(__p);
  }

  if (v21)
  {
    sub_100008080(v21);
  }

  if (v20)
  {
    sub_100008080(v20);
  }

  if (v34)
  {
    sub_100008080(v34);
  }

  if (v33 < 0)
  {
    operator delete(v32);
  }

  if (v31)
  {
    sub_100008080(v31);
  }

  if (v30)
  {
    sub_100008080(v30);
  }
}

void sub_1006506A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, std::__shared_weak_count *a18)
{
  if (a18)
  {
    std::__shared_weak_count::__release_weak(a18);
  }

  if (v18)
  {
    std::__shared_weak_count::__release_weak(v18);
  }

  sub_100311054(v19 + 40);
  sub_100311054(&STACK[0x748]);
  _Unwind_Resume(a1);
}

uint64_t sub_100650704(uint64_t a1)
{
  v2 = *(a1 + 32);
  sub_10004FD18(v21);
  v3 = sub_100046340((a1 + 40), v21, a1 + 1600);
  p_info = &OBJC_METACLASS___CLMotionHintLoggerAdapter.info;
  if (v3)
  {
    if (qword_1025D4790 != -1)
    {
      sub_1018F2FA8();
    }

    v5 = qword_1025D4798;
    if (os_log_type_enabled(qword_1025D4798, OS_LOG_TYPE_DEFAULT))
    {
      v6 = *(v2 + 16);
      v7 = LocationLogEncryptionDataSize();
      v8 = LocationLogEncryptionEncryptData();
      *buf = 68290306;
      *&buf[4] = 0;
      *&buf[8] = 2082;
      *&buf[10] = "";
      v23 = 2114;
      v24 = v6;
      v25 = 2050;
      v26 = v2;
      v27 = 1026;
      v28 = v3;
      v29 = 1040;
      v30 = v7;
      v31 = 2098;
      v32 = v8;
      _os_log_impl(dword_100000000, v5, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive sending location, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, locationCountAfterSerialization:%{public}d, location:%{public, location:Encrypted_CLClientLocation}.*P}", buf, 0x3Cu);
      if (qword_1025D4790 != -1)
      {
        sub_1018F2FA8();
      }
    }

    v9 = qword_1025D4798;
    if (os_signpost_enabled(qword_1025D4798))
    {
      p_info = *(v2 + 16);
      v10 = LocationLogEncryptionDataSize();
      v11 = LocationLogEncryptionEncryptData();
      *buf = 68290306;
      *&buf[4] = 0;
      *&buf[8] = 2082;
      *&buf[10] = "";
      v23 = 2114;
      v24 = p_info;
      v25 = 2050;
      v26 = v2;
      v27 = 1026;
      v28 = v3;
      v29 = 1040;
      v30 = v10;
      v31 = 2098;
      v32 = v11;
      _os_signpost_emit_with_name_impl(dword_100000000, v9, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive sending location", "{msg%{public}.0s:#luLive sending location, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, locationCountAfterSerialization:%{public}d, location:%{public, location:Encrypted_CLClientLocation}.*P}", buf, 0x3Cu);
    }

    if (v3 == 1)
    {
      *buf = sub_10102E59C(v2);
      sub_10004345C(v21, "kCLConnectionMessageDiagnosticsKey", buf);
      sub_10007005C(v21);
      if (*(a1 + 136) == 12)
      {
        sub_100652200();
      }

      sub_100652344();
    }

    sub_1018F305C();
    abort_report_np();
    __break(1u);
    goto LABEL_21;
  }

  if (qword_1025D4790 != -1)
  {
LABEL_21:
    sub_1018F2FA8();
  }

  v12 = qword_1025D4798;
  if (os_log_type_enabled(qword_1025D4798, OS_LOG_TYPE_DEFAULT))
  {
    v13 = *(v2 + 16);
    v14 = LocationLogEncryptionDataSize();
    v15 = LocationLogEncryptionEncryptData();
    *buf = 68290306;
    *&buf[4] = 0;
    *&buf[8] = 2082;
    *&buf[10] = "";
    v23 = 2114;
    v24 = v13;
    v25 = 2050;
    v26 = v2;
    v27 = 1026;
    v28 = 0;
    v29 = 1040;
    v30 = v14;
    v31 = 2098;
    v32 = v15;
    _os_log_impl(dword_100000000, v12, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive locationData does not have any entries, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, locationCountAfterSerialization:%{public}d, location:%{public, location:Encrypted_CLClientLocation}.*P}", buf, 0x3Cu);
    if (p_info[242] != -1)
    {
      sub_1018F2FA8();
    }
  }

  v16 = qword_1025D4798;
  if (os_signpost_enabled(qword_1025D4798))
  {
    v17 = *(v2 + 16);
    v18 = LocationLogEncryptionDataSize();
    v19 = LocationLogEncryptionEncryptData();
    *buf = 68290306;
    *&buf[4] = 0;
    *&buf[8] = 2082;
    *&buf[10] = "";
    v23 = 2114;
    v24 = v17;
    v25 = 2050;
    v26 = v2;
    v27 = 1026;
    v28 = 0;
    v29 = 1040;
    v30 = v18;
    v31 = 2098;
    v32 = v19;
    _os_signpost_emit_with_name_impl(dword_100000000, v16, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive locationData does not have any entries", "{msg%{public}.0s:#luLive locationData does not have any entries, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, locationCountAfterSerialization:%{public}d, location:%{public, location:Encrypted_CLClientLocation}.*P}", buf, 0x3Cu);
  }

  return sub_100005DA4(v21);
}

void sub_100650BF0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  sub_100005DA4(va);
  _Unwind_Resume(a1);
}

void sub_100650C5C(uint64_t a1)
{
  v2 = *(a1 + 1208);
  if (v2)
  {
    sub_100008080(v2);
  }

  if (*(a1 + 967) < 0)
  {
    operator delete(*(a1 + 944));
  }

  v3 = *(a1 + 856);
  if (v3)
  {
    sub_100008080(v3);
  }

  v4 = *(a1 + 728);
  if (v4)
  {

    sub_100008080(v4);
  }
}

void sub_100650CD4(uint64_t a1, int a2)
{
  if (a2)
  {
    v3 = *(a1 + 56);
    v17 = 0;
    v18 = &v17;
    v19 = 0x2020000000;
    v20 = 0;
    v13 = _NSConcreteStackBlock;
    v14 = 3221225472;
    v15 = sub_10065105C;
    v16 = &unk_10245D2D0;
    v4 = *(a1 + 72);
    if (!v4 || *(v4 + 8) == -1)
    {
      goto LABEL_15;
    }

    if (!sub_10102B568(v3))
    {
      *(v18 + 24) = 1;
    }

    if (v18[3])
    {
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FE4();
      }

      v5 = off_1025D47A8;
      if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
      {
        v6 = [*(a1 + 32) UTF8String];
        *buf = 68289282;
        v22 = 0;
        v23 = 2082;
        v24 = "";
        v25 = 2082;
        v26 = v6;
        _os_log_impl(dword_100000000, v5, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive ProvisionalIntermediation delievering location block, Client:%{public, location:escape_only}s}", buf, 0x1Cu);
        if (qword_1025D47A0 != -1)
        {
          sub_1018F2FE4();
        }
      }

      v7 = off_1025D47A8;
      if (os_signpost_enabled(off_1025D47A8))
      {
        v8 = [*(a1 + 32) UTF8String];
        *buf = 68289282;
        v22 = 0;
        v23 = 2082;
        v24 = "";
        v25 = 2082;
        v26 = v8;
        _os_signpost_emit_with_name_impl(dword_100000000, v7, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive ProvisionalIntermediation delievering location block", "{msg%{public}.0s:#luLive ProvisionalIntermediation delievering location block, Client:%{public, location:escape_only}s}", buf, 0x1Cu);
      }

      (*(*(a1 + 48) + 16))();
    }

    else
    {
LABEL_15:
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FE4();
      }

      v9 = off_1025D47A8;
      if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
      {
        v10 = [*(a1 + 32) UTF8String];
        *buf = 68289282;
        v22 = 0;
        v23 = 2082;
        v24 = "";
        v25 = 2082;
        v26 = v10;
        _os_log_impl(dword_100000000, v9, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive ProvisionalIntermediation launching app, Client:%{public, location:escape_only}s}", buf, 0x1Cu);
        if (qword_1025D47A0 != -1)
        {
          sub_1018F2FE4();
        }
      }

      v11 = off_1025D47A8;
      if (os_signpost_enabled(off_1025D47A8))
      {
        v12 = [*(a1 + 32) UTF8String];
        *buf = 68289282;
        v22 = 0;
        v23 = 2082;
        v24 = "";
        v25 = 2082;
        v26 = v12;
        _os_signpost_emit_with_name_impl(dword_100000000, v11, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive ProvisionalIntermediation launching app", "{msg%{public}.0s:#luLive ProvisionalIntermediation launching app, Client:%{public, location:escape_only}s}", buf, 0x1Cu);
      }

      [*(a1 + 40) launchApplication:*(a1 + 32) requiringAuthForServiceMask:{16, v13, v14, v15, v16}];
    }

    _Block_object_dispose(&v17, 8);
  }
}

BOOL sub_10065105C(uint64_t a1)
{
  result = sub_10102B568(*(a1 + 40));
  if (!result)
  {
    *(*(*(a1 + 32) + 8) + 24) = 1;
  }

  return result;
}

uint64_t sub_100651098(uint64_t result, uint64_t a2)
{
  v2 = *(a2 + 72);
  *(result + 64) = *(a2 + 64);
  *(result + 72) = v2;
  if (v2)
  {
    atomic_fetch_add_explicit((v2 + 16), 1uLL, memory_order_relaxed);
  }

  return result;
}

void sub_1006510B4(uint64_t a1)
{
  v1 = *(a1 + 72);
  if (v1)
  {
    std::__shared_weak_count::__release_weak(v1);
  }
}

void sub_1006510C4(uint64_t a1, uint64_t a2, int *a3, uint64_t a4)
{
  [*(a1 + 32) silo];
  v7 = *a3;
  if (*a3 < 2)
  {
    goto LABEL_4;
  }

  if (v7 == 9)
  {
    *(a1 + 88) |= 0x20uLL;
    [+[NSMutableDictionary dictionary](NSMutableDictionary "dictionary")];
    sub_100652488();
  }

  if (v7 == 5)
  {
LABEL_4:
    *(a1 + 88) &= ~0x20uLL;
    sub_1006514C8(a1, a4);
    [objc_msgSend(*(a1 + 32) "silo")];
    if (v8 - *(a1 + 280) > *(a1 + 272))
    {
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FD0();
      }

      v9 = off_1025D47A8;
      if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
      {
        v10 = *(a1 + 16);
        *buf = 68289538;
        *&buf[4] = 0;
        v18[0] = 2082;
        *&v18[1] = "";
        v19 = 2114;
        v20 = v10;
        v21 = 2050;
        v22 = a1;
        _os_log_impl(dword_100000000, v9, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive sending #stationary true, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p}", buf, 0x26u);
      }

      *(a1 + 88) |= 8uLL;
      sub_10065040C(a1, a4);
      sub_10064EE7C(a1, 1);
    }

    *(a1 + 88) &= ~8uLL;

    sub_10065040C(a1, a4);
  }

  else
  {
    if (qword_1025D47A0 != -1)
    {
      sub_1018F2FD0();
    }

    v11 = off_1025D47A8;
    if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_FAULT))
    {
      v12 = *(a1 + 16);
      v13 = *a3;
      *buf = 68289794;
      *&buf[4] = 0;
      v18[0] = 2082;
      *&v18[1] = "";
      v19 = 2114;
      v20 = v12;
      v21 = 2050;
      v22 = a1;
      v23 = 1026;
      v24 = v13;
      _os_log_impl(dword_100000000, v11, OS_LOG_TYPE_FAULT, "{msg%{public}.0s:#luLive unkown location notification, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Notification:%{public}d}", buf, 0x2Cu);
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FE4();
      }
    }

    v14 = off_1025D47A8;
    if (os_signpost_enabled(off_1025D47A8))
    {
      v15 = *(a1 + 16);
      v16 = *a3;
      *buf = 68289794;
      *&buf[4] = 0;
      v18[0] = 2082;
      *&v18[1] = "";
      v19 = 2114;
      v20 = v15;
      v21 = 2050;
      v22 = a1;
      v23 = 1026;
      v24 = v16;
      _os_signpost_emit_with_name_impl(dword_100000000, v14, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive unkown location notification", "{msg%{public}.0s:#luLive unkown location notification, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Notification:%{public}d}", buf, 0x2Cu);
    }
  }
}

void sub_10065149C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, std::__shared_weak_count *a10, uint64_t a11, uint64_t a12, uint64_t a13, std::__shared_weak_count *a14)
{
  if (a10)
  {
    sub_100008080(a10);
  }

  if (a14)
  {
    sub_100008080(a14);
  }

  _Unwind_Resume(exception_object);
}

void sub_1006514C8(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 280);
  if (v4 == 1.79769313e308)
  {
    v6 = a2 + 4;
    v5 = (a1 + 288);
LABEL_14:
    *v5 = *v6;
    return;
  }

  if (sub_10102CAA0(*(a1 + 288), *(a1 + 296)))
  {
    v5 = (a1 + 288);
    v7 = *(a2 + 4);
    v6 = a2 + 4;
    v8 = sub_100117154(*(a1 + 288), *(a1 + 296), v7, *(v6 + 8));
    if (v8 > 20.0)
    {
      [objc_msgSend(*(a1 + 32) "silo")];
      if (*(a1 + 280) >= v9)
      {
        v9 = *(a1 + 280);
      }

      *(a1 + 280) = v9;
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FD0();
      }

      v10 = off_1025D47A8;
      if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
      {
        v18 = *(a1 + 16);
        v22 = *(a1 + 280);
        *buf = 68292354;
        v25 = 0;
        v26 = 2082;
        v27 = "";
        v28 = 2114;
        v29 = v18;
        v30 = 2050;
        v31 = a1;
        v32 = 2050;
        v33 = v8;
        v34 = 2050;
        v35 = v4;
        v36 = 2050;
        v37 = v22;
        v38 = 1040;
        v39 = LocationLogEncryptionDataSize();
        v40 = 2098;
        v41 = LocationLogEncryptionEncryptData();
        v42 = 1040;
        v43 = LocationLogEncryptionDataSize();
        v44 = 2098;
        v45 = LocationLogEncryptionEncryptData();
        v46 = 1040;
        v47 = LocationLogEncryptionDataSize();
        v48 = 2098;
        v49 = LocationLogEncryptionEncryptData();
        v50 = 1040;
        v51 = LocationLogEncryptionDataSize();
        v52 = 2098;
        v53 = LocationLogEncryptionEncryptData();
        _os_log_impl(dword_100000000, v10, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive unmarking #stationary by location-wandering, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, wander:%{public}f, OldTS:%{public}f, NewTS:%{public}f, refLat:%{public, location:Encrypted_latitude}.*P, refLon:%{public, location:Encrypted_longitude}.*P, lat:%{public, location:Encrypted_latitude}.*P, lon:%{public, location:Encrypted_longitude}.*P}", buf, 0x84u);
        if (qword_1025D47A0 != -1)
        {
          sub_1018F2FE4();
        }
      }

      v11 = off_1025D47A8;
      if (os_signpost_enabled(off_1025D47A8))
      {
        v19 = *(a1 + 16);
        v23 = *(a1 + 280);
        v21 = LocationLogEncryptionDataSize();
        v20 = LocationLogEncryptionEncryptData();
        v12 = LocationLogEncryptionDataSize();
        v13 = LocationLogEncryptionEncryptData();
        v14 = LocationLogEncryptionDataSize();
        v15 = LocationLogEncryptionEncryptData();
        v16 = LocationLogEncryptionDataSize();
        v17 = LocationLogEncryptionEncryptData();
        *buf = 68292354;
        v25 = 0;
        v26 = 2082;
        v27 = "";
        v28 = 2114;
        v29 = v19;
        v30 = 2050;
        v31 = a1;
        v32 = 2050;
        v33 = v8;
        v34 = 2050;
        v35 = v4;
        v36 = 2050;
        v37 = v23;
        v38 = 1040;
        v39 = v21;
        v40 = 2098;
        v41 = v20;
        v42 = 1040;
        v43 = v12;
        v44 = 2098;
        v45 = v13;
        v46 = 1040;
        v47 = v14;
        v48 = 2098;
        v49 = v15;
        v50 = 1040;
        v51 = v16;
        v52 = 2098;
        v53 = v17;
        _os_signpost_emit_with_name_impl(dword_100000000, v11, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive unmarking #stationary by location-wandering", "{msg%{public}.0s:#luLive unmarking #stationary by location-wandering, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, wander:%{public}f, OldTS:%{public}f, NewTS:%{public}f, refLat:%{public, location:Encrypted_latitude}.*P, refLon:%{public, location:Encrypted_longitude}.*P, lat:%{public, location:Encrypted_latitude}.*P, lon:%{public, location:Encrypted_longitude}.*P}", buf, 0x84u);
      }

      goto LABEL_14;
    }
  }
}

void sub_1006518BC(uint64_t a1, uint64_t a2, int *a3, int *a4)
{
  sub_10001CAF4(buf);
  v44 = 0;
  v7 = sub_10001CB4C(*buf, "DisableStationaryTracking", &v44);
  v8 = v7 & v44;
  if (*v46)
  {
    sub_100008080(*v46);
  }

  if (v8)
  {
    if (qword_1025D47A0 != -1)
    {
      sub_1018F2FE4();
    }

    v9 = off_1025D47A8;
    if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
    {
      v10 = *(a1 + 16);
      *buf = 68289538;
      *&buf[4] = 0;
      *v46 = 2082;
      *&v46[2] = "";
      v47 = 2114;
      v48 = v10;
      v49 = 2050;
      v50 = a1;
      _os_log_impl(dword_100000000, v9, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive #stationary tracking disbaled by defaults, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p}", buf, 0x26u);
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FE4();
      }
    }

    v11 = off_1025D47A8;
    if (os_signpost_enabled(off_1025D47A8))
    {
      v12 = *(a1 + 16);
      *buf = 68289538;
      *&buf[4] = 0;
      *v46 = 2082;
      *&v46[2] = "";
      v47 = 2114;
      v48 = v12;
      v49 = 2050;
      v50 = a1;
      v13 = "#luLive #stationary tracking disbaled by defaults";
      v14 = "{msg%{public}.0s:#luLive #stationary tracking disbaled by defaults, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p}";
LABEL_30:
      v25 = v11;
      v26 = 38;
      goto LABEL_31;
    }
  }

  else
  {
    [*(a1 + 32) silo];
    if ([*(a1 + 40) isAuthorizedForServiceType:12])
    {
      if (*a3 == 1)
      {
        v15 = *(a1 + 280);
        if ((*a4 - 1) > 1)
        {
          *(a1 + 280) = 0x7FEFFFFFFFFFFFFFLL;
          *(a1 + 88) &= ~8uLL;
          if (v15 != 1.79769313e308)
          {
            if (qword_1025D47A0 != -1)
            {
              sub_1018F2FE4();
            }

            v36 = off_1025D47A8;
            if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
            {
              v37 = *(a1 + 16);
              v38 = *a4;
              v39 = *(a1 + 280);
              *buf = 68290306;
              *&buf[4] = 0;
              *v46 = 2082;
              *&v46[2] = "";
              v47 = 2114;
              v48 = v37;
              v49 = 2050;
              v50 = a1;
              v51 = 1026;
              v52 = v38;
              v53 = 2050;
              v54 = v15;
              v55 = 2050;
              v56 = v39;
              _os_log_impl(dword_100000000, v36, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive motion state non #stationary, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Type:%{public}d, OldTS:%{public}f, NewTS:%{public}f}", buf, 0x40u);
              if (qword_1025D47A0 != -1)
              {
                sub_1018F2FE4();
              }
            }

            v40 = off_1025D47A8;
            if (os_signpost_enabled(off_1025D47A8))
            {
              v41 = *(a1 + 16);
              v42 = *a4;
              v43 = *(a1 + 280);
              *buf = 68290306;
              *&buf[4] = 0;
              *v46 = 2082;
              *&v46[2] = "";
              v47 = 2114;
              v48 = v41;
              v49 = 2050;
              v50 = a1;
              v51 = 1026;
              v52 = v42;
              v53 = 2050;
              v54 = v15;
              v55 = 2050;
              v56 = v43;
              _os_signpost_emit_with_name_impl(dword_100000000, v40, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "#luLive motion state non #stationary", "{msg%{public}.0s:#luLive motion state non #stationary, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Type:%{public}d, OldTS:%{public}f, NewTS:%{public}f}", buf, 0x40u);
            }

            sub_10064EE7C(a1, 0);
          }
        }

        else
        {
          [objc_msgSend(*(a1 + 32) "silo")];
          if (v16 >= *(a1 + 280))
          {
            v16 = *(a1 + 280);
          }

          *(a1 + 280) = v16;
          if (qword_1025D47A0 != -1)
          {
            sub_1018F2FE4();
          }

          v17 = off_1025D47A8;
          if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
          {
            v18 = *(a1 + 16);
            v19 = *a4;
            v20 = *(a1 + 280);
            *buf = 68290306;
            *&buf[4] = 0;
            *v46 = 2082;
            *&v46[2] = "";
            v47 = 2114;
            v48 = v18;
            v49 = 2050;
            v50 = a1;
            v51 = 1026;
            v52 = v19;
            v53 = 2050;
            v54 = v15;
            v55 = 2050;
            v56 = v20;
            _os_log_impl(dword_100000000, v17, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive motion state #stationary, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Type:%{public}d, OldTS:%{public}f, NewTS:%{public}f}", buf, 0x40u);
            if (qword_1025D47A0 != -1)
            {
              sub_1018F2FE4();
            }
          }

          v21 = off_1025D47A8;
          if (os_signpost_enabled(off_1025D47A8))
          {
            v22 = *(a1 + 16);
            v23 = *a4;
            v24 = *(a1 + 280);
            *buf = 68290306;
            *&buf[4] = 0;
            *v46 = 2082;
            *&v46[2] = "";
            v47 = 2114;
            v48 = v22;
            v49 = 2050;
            v50 = a1;
            v51 = 1026;
            v52 = v23;
            v53 = 2050;
            v54 = v15;
            v55 = 2050;
            v56 = v24;
            v13 = "#luLive motion state #stationary";
            v14 = "{msg%{public}.0s:#luLive motion state #stationary, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Type:%{public}d, OldTS:%{public}f, NewTS:%{public}f}";
            v25 = v21;
            v26 = 64;
LABEL_31:
            _os_signpost_emit_with_name_impl(dword_100000000, v25, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, v13, v14, buf, v26);
          }
        }
      }

      else
      {
        if (qword_1025D47A0 != -1)
        {
          sub_1018F2FE4();
        }

        v30 = off_1025D47A8;
        if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
        {
          v31 = *(a1 + 16);
          v32 = *a3;
          *buf = 68289794;
          *&buf[4] = 0;
          *v46 = 2082;
          *&v46[2] = "";
          v47 = 2114;
          v48 = v31;
          v49 = 2050;
          v50 = a1;
          v51 = 1026;
          v52 = v32;
          _os_log_impl(dword_100000000, v30, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#Warning #luLive unkown motion state notification, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Notification:%{public}d}", buf, 0x2Cu);
          if (qword_1025D47A0 != -1)
          {
            sub_1018F2FE4();
          }
        }

        v33 = off_1025D47A8;
        if (os_signpost_enabled(off_1025D47A8))
        {
          v34 = *(a1 + 16);
          v35 = *a3;
          *buf = 68289794;
          *&buf[4] = 0;
          *v46 = 2082;
          *&v46[2] = "";
          v47 = 2114;
          v48 = v34;
          v49 = 2050;
          v50 = a1;
          v51 = 1026;
          v52 = v35;
          v13 = "#Warning #luLive unkown motion state notification";
          v14 = "{msg%{public}.0s:#Warning #luLive unkown motion state notification, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p, Notification:%{public}d}";
          v25 = v33;
          v26 = 44;
          goto LABEL_31;
        }
      }
    }

    else
    {
      if (qword_1025D47A0 != -1)
      {
        sub_1018F2FE4();
      }

      v27 = off_1025D47A8;
      if (os_log_type_enabled(off_1025D47A8, OS_LOG_TYPE_DEFAULT))
      {
        v28 = *(a1 + 16);
        *buf = 68289538;
        *&buf[4] = 0;
        *v46 = 2082;
        *&v46[2] = "";
        v47 = 2114;
        v48 = v28;
        v49 = 2050;
        v50 = a1;
        _os_log_impl(dword_100000000, v27, OS_LOG_TYPE_DEFAULT, "{msg%{public}.0s:#luLive stationary-tracking skip motion state update - coarse client, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p}", buf, 0x26u);
        if (qword_1025D47A0 != -1)
        {
          sub_1018F2FE4();
        }
      }

      v11 = off_1025D47A8;
      if (os_signpost_enabled(off_1025D47A8))
      {
        v29 = *(a1 + 16);
        *buf = 68289538;
        *&buf[4] = 0;
        *v46 = 2082;
        *&v46[2] = "";
        v47 = 2114;
        v48 = v29;
        v49 = 2050;
        v50 = a1;
        v13 = "#luLive stationary-tracking skip motion state update - coarse client";
        v14 = "{msg%{public}.0s:#luLive stationary-tracking skip motion state update - coarse client, ClientKeyPath:%{public, location:escape_only}@, self:%{public}p}";
        goto LABEL_30;
      }
    }
  }
}

void sub_100652074(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, std::__shared_weak_count *a12)
{
  if (a12)
  {
    sub_100008080(a12);
  }

  _Unwind_Resume(exception_object);
}

id *sub_100652124(id *a1)
{
  [*a1 removeRhythmicGnssClient:0];

  *a1 = 0;
  return a1;
}

void *sub_100652164(void *a1)
{
  *a1 = 0;
  std::operator+<char>();
  v2 = [CLOSTransaction alloc];
  if (v6 >= 0)
  {
    p_p = &__p;
  }

  else
  {
    p_p = __p;
  }

  *a1 = [(CLOSTransaction *)v2 initWithDescription:p_p];
  if (v6 < 0)
  {
    operator delete(__p);
  }

  return a1;
}

void sub_1006521E4(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void *sub_100652274(void *a1, char *a2)
{
  a1[1] = 0;
  a1[2] = 0;
  *a1 = off_102451BF8;
  sub_1006522D0((a1 + 3), a2);
  return a1;
}

uint64_t sub_1006522D0(uint64_t a1, char *a2)
{
  sub_10000EC00(&__p, a2);
  CLConnectionMessage::CLConnectionMessage();
  if (v5 < 0)
  {
    operator delete(__p);
  }

  return a1;
}

void sub_100652328(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void *sub_1006523B8(void *a1, char *a2)
{
  a1[1] = 0;
  a1[2] = 0;
  *a1 = off_102451BF8;
  sub_100652414((a1 + 3), a2);
  return a1;
}

uint64_t sub_100652414(uint64_t a1, char *a2)
{
  sub_10000EC00(&__p, a2);
  CLConnectionMessage::CLConnectionMessage();
  if (v5 < 0)
  {
    operator delete(__p);
  }

  return a1;
}

void sub_10065246C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void *sub_1006524FC(void *a1, char *a2)
{
  a1[1] = 0;
  a1[2] = 0;
  *a1 = off_102451BF8;
  sub_100652558((a1 + 3), a2);
  return a1;
}

uint64_t sub_100652558(uint64_t a1, char *a2)
{
  sub_10000EC00(&__p, a2);
  CLConnectionMessage::CLConnectionMessage();
  if (v5 < 0)
  {
    operator delete(__p);
  }

  return a1;
}

void sub_1006525B0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_1006525CC(uint64_t a1, uint64_t *a2, void *a3)
{
  *a1 = off_1024656D0;
  v6 = *a2;
  *(a1 + 16) = *(a2 + 4);
  *(a1 + 8) = v6;
  if (*(a2 + 39) < 0)
  {
    sub_100007244((a1 + 24), a2[2], a2[3]);
  }

  else
  {
    v7 = *(a2 + 1);
    *(a1 + 40) = a2[4];
    *(a1 + 24) = v7;
  }

  *(a1 + 48) = a2[5];
  *(a1 + 56) = *a3;
  sub_1006062D8(a1 + 64, a2);
  sub_100DD42E4((a1 + 200), 0, 0);
  sub_100DD42E4((a1 + 216), 0, 0);
  return a1;
}

void sub_100652690(_Unwind_Exception *exception_object)
{
  if (*(v1 + 47) < 0)
  {
    operator delete(*(v1 + 24));
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_1006526BC(uint64_t a1)
{
  *a1 = off_1024656D0;
  sub_100606640(a1 + 64);
  if (*(a1 + 47) < 0)
  {
    operator delete(*(a1 + 24));
  }

  return a1;
}

void sub_100652718(uint64_t a1)
{
  if (sub_100023B68(a1 + 64))
  {
    sub_10003848C(v12);
    v11 = 1;
    sub_10001CAF4(&v24);
    v2 = sub_10001CB4C(v24, "ClearDatabaseTablesByAge", &v11);
    if (v25)
    {
      sub_100008080(v25);
    }

    if (v2)
    {
      if (qword_1025D48A0 != -1)
      {
        sub_1018F331C();
      }

      v3 = qword_1025D48A8;
      if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEFAULT))
      {
        v4 = v11;
        (*(*a1 + 16))(&v24, a1);
        v5 = v26 >= 0 ? &v24 : v24;
        LODWORD(buf) = 67109378;
        HIDWORD(buf) = v4;
        v17 = 2080;
        v18 = v5;
        _os_log_impl(dword_100000000, v3, OS_LOG_TYPE_DEFAULT, "#Warning Overriding clear tables by age to %d for %s", &buf, 0x12u);
        if (v26 < 0)
        {
          operator delete(v24);
        }
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F3344(&v24);
        v8 = v11;
        (*(*a1 + 16))(&buf, a1);
        if (v19 >= 0)
        {
          p_buf = &buf;
        }

        else
        {
          p_buf = buf;
        }

        v20 = 67109378;
        v21 = v8;
        v22 = 2080;
        v23 = p_buf;
        v10 = _os_log_send_and_compose_impl();
        if (v19 < 0)
        {
          operator delete(buf);
        }

        sub_100152C7C("Generic", 1, 0, 2, "void CLLocationDatabase::prepareStatements()", "%s\n", v10);
        if (v10 != &v24)
        {
          free(v10);
        }
      }
    }

    if (v11 == 1 && (*(a1 + 16) & 1) == 0 && *(a1 + 56) > 0.0 && sub_100652BD4(a1) >= 200001)
    {
      sub_1001B0B4C(a1, a1 + 56);
    }

    v12[2] = v6;
    if (v15 < 0)
    {
      operator delete(v14[7].__locale_);
    }

    std::locale::~locale(v14);
    std::iostream::~basic_iostream();
    std::ios::~ios();
  }

  else
  {
    if (qword_1025D4850 != -1)
    {
      sub_1018F3224();
    }

    v7 = off_1025D4858;
    if (os_log_type_enabled(off_1025D4858, OS_LOG_TYPE_DEBUG))
    {
      LOWORD(v24) = 0;
      _os_log_impl(dword_100000000, v7, OS_LOG_TYPE_DEBUG, "#Warning Attempt to call prepareStatements() without a backing database in CLLocationDatabase!", &v24, 2u);
    }

    if (sub_10000A100(121, 2))
    {
      sub_1018F3238();
    }
  }
}

void sub_100652B94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, ...)
{
  va_start(va, a4);
  sub_10026C504(va);
  _Unwind_Resume(a1);
}

uint64_t sub_100652BD4(uint64_t a1)
{
  v1 = a1 + 64;
  (*(*a1 + 16))(__p);
  v2 = sub_100652C7C(v1, __p);
  if (v5 < 0)
  {
    operator delete(__p[0]);
  }

  return v2;
}

void sub_100652C48(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100652C7C(uint64_t a1, uint64_t a2)
{
  if (sub_100023B68(a1))
  {
    sub_10003848C(buf);
    v4 = sub_100038730(&v20, "SELECT ", 7);
    v5 = strlen("Count");
    v6 = sub_100038730(v4, "Count", v5);
    v7 = sub_100038730(v6, " FROM ", 6);
    v8 = *(a2 + 23);
    if (v8 >= 0)
    {
      v9 = a2;
    }

    else
    {
      v9 = *a2;
    }

    if (v8 >= 0)
    {
      v10 = *(a2 + 23);
    }

    else
    {
      v10 = *(a2 + 8);
    }

    v11 = sub_100038730(v7, v9, v10);
    v12 = strlen("Counts");
    v13 = sub_100038730(v11, "Counts", v12);
    sub_100038730(v13, " WHERE rowid=", 13);
    std::ostream::operator<<();
    sub_100073518(buf, __p);
    if (v18 >= 0)
    {
      v14 = __p;
    }

    else
    {
      v14 = __p[0];
    }

    sub_1000388D8(a1, v14);
  }

  if (qword_1025D4850 != -1)
  {
    sub_1018F3224();
  }

  v15 = off_1025D4858;
  if (os_log_type_enabled(off_1025D4858, OS_LOG_TYPE_DEBUG))
  {
    *buf = 0;
    _os_log_impl(dword_100000000, v15, OS_LOG_TYPE_DEBUG, "#Warning Attempt to call getCountFromTriggerTable() without a backing database in CLLocationDatabase!", buf, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F3388();
  }

  return 0;
}

void sub_100652FD0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14, uint64_t a15, char a16)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  sub_10026C504(&a16);
  _Unwind_Resume(a1);
}

BOOL sub_100653014(uint64_t a1)
{
  v2 = sub_100023B68(a1 + 64);
  if (v2)
  {
    v40 = 0;
    v39 = 0;
    v41 = xmmword_101C75BF0;
    __asm { FMOV            V0.2D, #-1.0 }

    v42 = _Q0;
    v43 = _Q0;
    v44 = _Q0;
    v38 = 0xFFFF;
    v45 = 0;
    v47 = 0;
    v48 = 0;
    v46 = 0xBFF0000000000000;
    v50 = 0xBFF0000000000000;
    v49 = 0;
    v51 = 0x7FFFFFFF;
    v53 = 0;
    v54 = 0;
    v52 = 0;
    v55 = 0;
    sub_10003848C(buf);
    v8 = sub_100038730(&v37, "SELECT ", 7);
    v9 = sub_100038730(v8, "Timestamp", 9);
    v10 = sub_100038730(v9, ", ", 2);
    v11 = sub_100038730(v10, "Latitude", 8);
    v12 = sub_100038730(v11, ", ", 2);
    v13 = sub_100038730(v12, "Longitude", 9);
    v14 = sub_100038730(v13, ", ", 2);
    v15 = sub_100038730(v14, "HorizontalAccuracy", 18);
    v16 = sub_100038730(v15, ", ", 2);
    v17 = sub_100038730(v16, "Altitude", 8);
    v18 = sub_100038730(v17, ", ", 2);
    v19 = sub_100038730(v18, "VerticalAccuracy", 16);
    v20 = sub_100038730(v19, ", ", 2);
    v21 = sub_100038730(v20, "Speed", 5);
    v22 = sub_100038730(v21, ", ", 2);
    v23 = sub_100038730(v22, "Course", 6);
    v24 = sub_100038730(v23, ", ", 2);
    v25 = sub_100038730(v24, "Confidence", 10);
    v26 = sub_100038730(v25, ", ", 2);
    v27 = sub_100038730(v26, "ROWID", 5);
    v28 = sub_100038730(v27, " FROM ", 6);
    (*(*a1 + 16))(__p, a1);
    if ((v35 & 0x80u) == 0)
    {
      v29 = __p;
    }

    else
    {
      v29 = __p[0];
    }

    if ((v35 & 0x80u) == 0)
    {
      v30 = v35;
    }

    else
    {
      v30 = __p[1];
    }

    sub_100038730(v28, v29, v30);
    if (v35 < 0)
    {
      operator delete(__p[0]);
    }

    sub_100073518(buf, __p);
    if ((v35 & 0x80u) == 0)
    {
      v31 = __p;
    }

    else
    {
      v31 = __p[0];
    }

    sub_1000388D8(a1 + 64, v31);
  }

  if (qword_1025D4850 != -1)
  {
    sub_1018F3224();
  }

  v32 = off_1025D4858;
  if (os_log_type_enabled(off_1025D4858, OS_LOG_TYPE_DEBUG))
  {
    *buf = 0;
    _os_log_impl(dword_100000000, v32, OS_LOG_TYPE_DEBUG, "#Warning Attempt to call getLocations() without a backing database in CLLocationDatabase!", buf, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F346C();
  }

  return v2;
}

void sub_1006535B0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15, char a16)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  sub_10026C504(&a16);
  _Unwind_Resume(a1);
}

uint64_t sub_100653624(void *a1, sqlite3_int64 *a2, uint64_t a3)
{
  if (sub_100023B68((a1 + 8)))
  {
    sub_10000FF38(v68, "CLLocationDatabase::setLocation_v2", 0);
    if (!sub_100DD42EC(a1 + 27))
    {
      sub_10003848C(v72);
      v6 = sub_100038730(&v74[2], "UPDATE OR REPLACE ", 18);
      (*(*a1 + 16))(__p, a1);
      if (__p[23] >= 0)
      {
        v7 = __p;
      }

      else
      {
        v7 = *__p;
      }

      if (__p[23] >= 0)
      {
        v8 = __p[23];
      }

      else
      {
        v8 = *&__p[8];
      }

      v9 = sub_100038730(v6, v7, v8);
      v10 = sub_100038730(v9, " SET ", 5);
      v11 = sub_100038730(v10, "Timestamp", 9);
      v12 = sub_100038730(v11, "=?, ", 4);
      v13 = sub_100038730(v12, "Latitude", 8);
      v14 = sub_100038730(v13, "=?, ", 4);
      v15 = sub_100038730(v14, "Longitude", 9);
      v16 = sub_100038730(v15, "=?, ", 4);
      v17 = sub_100038730(v16, "HorizontalAccuracy", 18);
      v18 = sub_100038730(v17, "=?, ", 4);
      v19 = sub_100038730(v18, "Altitude", 8);
      v20 = sub_100038730(v19, "=?, ", 4);
      v21 = sub_100038730(v20, "VerticalAccuracy", 16);
      v22 = sub_100038730(v21, "=?, ", 4);
      v23 = sub_100038730(v22, "Speed", 5);
      v24 = sub_100038730(v23, "=?, ", 4);
      v25 = sub_100038730(v24, "Course", 6);
      v26 = sub_100038730(v25, "=?, ", 4);
      v27 = sub_100038730(v26, "Confidence", 10);
      v28 = sub_100038730(v27, "=?", 2);
      v29 = sub_100038730(v28, " WHERE ", 7);
      v30 = sub_100038730(v29, "ROWID", 5);
      sub_100038730(v30, "=?", 2);
      if ((__p[23] & 0x80000000) != 0)
      {
        operator delete(*__p);
      }

      sub_100073518(v72, __p);
      if (__p[23] >= 0)
      {
        v31 = __p;
      }

      else
      {
        v31 = *__p;
      }

      a1[27] = sub_100614C1C((a1 + 8), v31);
      a1[28] = v32;
      if ((__p[23] & 0x80000000) != 0)
      {
        operator delete(*__p);
      }

      if (!sub_100DD42EC(a1 + 27))
      {
        if (qword_1025D48A0 != -1)
        {
          sub_1018F331C();
        }

        v54 = qword_1025D48A8;
        if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_FAULT))
        {
          *__p = 0;
          _os_log_impl(dword_100000000, v54, OS_LOG_TYPE_FAULT, "Could not prepare cached update statement", __p, 2u);
        }

        if (sub_10000A100(121, 0))
        {
          sub_1018F3344(__p);
          LOWORD(v67) = 0;
          v66 = _os_log_send_and_compose_impl();
          sub_100152C7C("Generic", 1, 0, 0, "BOOL CLLocationDatabase::setLocation(const sqlite3_int64 &, const CLDaemonLocation &)", "%s\n", v66);
          if (v66 != __p)
          {
            free(v66);
          }
        }

        *&v74[2] = v55;
        if (v79 < 0)
        {
          operator delete(v78);
        }

        std::locale::~locale(&v76);
        std::iostream::~basic_iostream();
        std::ios::~ios();
        v46 = 0;
        goto LABEL_55;
      }

      *&v74[2] = v33;
      if (v79 < 0)
      {
        operator delete(v78);
      }

      std::locale::~locale(&v76);
      std::iostream::~basic_iostream();
      std::ios::~ios();
    }

    sub_100144CA0(a1 + 27, &v67);
    v34 = sub_100008880(v67);
    if (sub_1001A3BD4(v34, 1, *(a3 + 76)) && (v35 = sub_100008880(v67), sub_1001A3BD4(v35, 2, *(a3 + 4))) && (v36 = sub_100008880(v67), sub_1001A3BD4(v36, 3, *(a3 + 12))) && (v37 = sub_100008880(v67), sub_1001A3BD4(v37, 4, *(a3 + 20))) && (v38 = sub_100008880(v67), sub_1001A3BD4(v38, 5, *(a3 + 28))) && (v39 = sub_100008880(v67), sub_1001A3BD4(v39, 6, *(a3 + 36))) && (v40 = sub_100008880(v67), sub_1001A3BD4(v40, 7, *(a3 + 44))) && (v41 = sub_100008880(v67), sub_1001A3BD4(v41, 8, *(a3 + 60))) && (v42 = sub_100008880(v67), sub_100073700(v42, 9, *(a3 + 84))) && (v43 = sub_100008880(v67), sub_1000728E4(v43, 10, *a2)))
    {
      v44 = sub_100008880(v67);
      sub_1001A3DEC((a1 + 8), v44);
      v45 = sub_1001B0960((a1 + 8));
      if (v45 > 0)
      {
        v46 = 1;
        goto LABEL_45;
      }

      if (qword_1025D4850 != -1)
      {
        sub_1018F3718();
      }

      v62 = off_1025D4858;
      if (os_log_type_enabled(off_1025D4858, OS_LOG_TYPE_FAULT))
      {
        sub_100072AFC(a3, v72);
        if (v74[9] >= 0)
        {
          v63 = v72;
        }

        else
        {
          v63 = *v72;
        }

        *__p = 68289539;
        *&__p[8] = 2082;
        *&__p[10] = "";
        *&__p[18] = 1026;
        *&__p[20] = v45;
        *v70 = 2085;
        *&v70[2] = v63;
        _os_log_impl(dword_100000000, v62, OS_LOG_TYPE_FAULT, "{msg%{public}.0s:failed to setLocation, numModRows:%{public}d, loc:%{sensitive, location:escape_only}s}", __p, 0x22u);
        if ((v74[9] & 0x80000000) != 0)
        {
          operator delete(*v72);
        }

        if (qword_1025D4850 != -1)
        {
          sub_1018F3718();
        }
      }

      v64 = off_1025D4858;
      if (os_signpost_enabled(off_1025D4858))
      {
        sub_100072AFC(a3, v72);
        v65 = v74[9] >= 0 ? v72 : *v72;
        *__p = 68289539;
        *&__p[8] = 2082;
        *&__p[10] = "";
        *&__p[18] = 1026;
        *&__p[20] = v45;
        *v70 = 2085;
        *&v70[2] = v65;
        _os_signpost_emit_with_name_impl(dword_100000000, v64, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "failed to setLocation", "{msg%{public}.0s:failed to setLocation, numModRows:%{public}d, loc:%{sensitive, location:escape_only}s}", __p, 0x22u);
        if ((v74[9] & 0x80000000) != 0)
        {
          operator delete(*v72);
        }
      }
    }

    else
    {
      if (qword_1025D48A0 != -1)
      {
        sub_1018F331C();
      }

      v48 = qword_1025D48A8;
      if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_FAULT))
      {
        v49 = *(a3 + 76);
        v50 = *(a3 + 4);
        v51 = *(a3 + 12);
        v52 = *(a3 + 20);
        *__p = 134218752;
        *&__p[4] = v49;
        *&__p[12] = 2048;
        *&__p[14] = v50;
        *&__p[22] = 2048;
        *v70 = v51;
        *&v70[8] = 2048;
        v71 = v52;
        _os_log_impl(dword_100000000, v48, OS_LOG_TYPE_FAULT, "could not bind %.3f <%+.8f,%+.8f> %.2f", __p, 0x2Au);
      }

      if (sub_10000A100(121, 0))
      {
        sub_1018F3344(__p);
        v57 = *(a3 + 76);
        v58 = *(a3 + 4);
        v59 = *(a3 + 12);
        v60 = *(a3 + 20);
        *v72 = 134218752;
        *&v72[4] = v57;
        v73 = 2048;
        *v74 = v58;
        *&v74[8] = 2048;
        v75 = v59;
        v76 = 2048;
        v77 = v60;
        v61 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 0, "BOOL CLLocationDatabase::setLocation(const sqlite3_int64 &, const CLDaemonLocation &)", "%s\n", v61);
        if (v61 != __p)
        {
          free(v61);
        }
      }
    }

    v46 = 0;
LABEL_45:
    v53 = v67;
    v67 = 0;
    if (v53)
    {
      (*(*v53 + 8))(v53);
    }

LABEL_55:
    sub_10001A420(v68);
    return v46;
  }

  if (qword_1025D4850 != -1)
  {
    sub_1018F3224();
  }

  v47 = off_1025D4858;
  if (os_log_type_enabled(off_1025D4858, OS_LOG_TYPE_DEBUG))
  {
    *__p = 0;
    _os_log_impl(dword_100000000, v47, OS_LOG_TYPE_DEBUG, "#Warning Attempt to call setLocation() without a backing database in CLLocationDatabase!", __p, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F3634();
  }

  return 0;
}

void sub_100654120(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, ...)
{
  va_start(va, a5);
  sub_10026C504(&STACK[0x690]);
  sub_10001A420(va);
  _Unwind_Resume(a1);
}

uint64_t sub_1006541C4(_BYTE *a1)
{
  if (sub_100023B68((a1 + 64)))
  {
    if (a1[16] != 1)
    {
      sub_10000FF38(&v14, "CLLocationDatabase::clearLocation", 0);
      sub_10003848C(v12);
      v4 = sub_100038730(&v13, "DELETE FROM ", 12);
      (*(*a1 + 16))(buf, a1);
      if ((v17 & 0x80u) == 0)
      {
        v5 = buf;
      }

      else
      {
        v5 = *buf;
      }

      if ((v17 & 0x80u) == 0)
      {
        v6 = v17;
      }

      else
      {
        v6 = v16;
      }

      v7 = sub_100038730(v4, v5, v6);
      v8 = sub_100038730(v7, " WHERE ", 7);
      v9 = sub_100038730(v8, "ROWID", 5);
      sub_100038730(v9, "=?", 2);
      if (v17 < 0)
      {
        operator delete(*buf);
      }

      sub_100073518(v12, buf);
      if ((v17 & 0x80u) == 0)
      {
        v10 = buf;
      }

      else
      {
        v10 = *buf;
      }

      sub_1000388D8((a1 + 64), v10);
    }

    if (qword_1025D48A0 != -1)
    {
      sub_1018F3824();
    }

    v2 = qword_1025D48A8;
    if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_FAULT))
    {
      *buf = 0;
      _os_log_impl(dword_100000000, v2, OS_LOG_TYPE_FAULT, "Can't clear location for read-only database", buf, 2u);
    }

    if (sub_10000A100(121, 0))
    {
      sub_1018F3838();
    }
  }

  else
  {
    if (qword_1025D4850 != -1)
    {
      sub_1018F3224();
    }

    v3 = off_1025D4858;
    if (os_log_type_enabled(off_1025D4858, OS_LOG_TYPE_DEBUG))
    {
      *buf = 0;
      _os_log_impl(dword_100000000, v3, OS_LOG_TYPE_DEBUG, "#Warning Attempt to call clearLocation() without a backing database in CLLocationDatabase!", buf, 2u);
    }

    if (sub_10000A100(121, 2))
    {
      sub_1018F3740();
    }
  }

  return 0;
}

void sub_100654700(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, char a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, id a47, uint64_t a48, uint64_t a49, uint64_t a50, void *__p, uint64_t a52, int a53, __int16 a54, char a55, char a56)
{
  if (v56)
  {
    (*(*v56 + 8))(v56);
  }

  sub_10026C504(&a12);
  sub_10001A420(&a47);
  _Unwind_Resume(a1);
}

void sub_100654788(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (sub_100023B68(a1))
  {
    if (*(a2 + 8) != 1)
    {
      sub_10000FF38(&v17, "CLLocationDatabase::clearLocations", 0);
      sub_10003848C(buf);
      v8 = sub_100038730(&v16, "DELETE FROM ", 12);
      v9 = *(a3 + 23);
      if (v9 >= 0)
      {
        v10 = a3;
      }

      else
      {
        v10 = *a3;
      }

      if (v9 >= 0)
      {
        v11 = *(a3 + 23);
      }

      else
      {
        v11 = *(a3 + 8);
      }

      sub_100038730(v8, v10, v11);
      sub_100073518(buf, __p);
      if (v14 >= 0)
      {
        v12 = __p;
      }

      else
      {
        v12 = __p[0];
      }

      sub_1000388D8(a1, v12);
    }

    if (qword_1025D48A0 != -1)
    {
      sub_1018F3824();
    }

    v6 = qword_1025D48A8;
    if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_FAULT))
    {
      *buf = 0;
      _os_log_impl(dword_100000000, v6, OS_LOG_TYPE_FAULT, "Can't clear locations in read-only database", buf, 2u);
    }

    if (sub_10000A100(121, 0))
    {
      sub_1018F3A0C();
    }
  }

  else
  {
    if (qword_1025D4850 != -1)
    {
      sub_1018F3224();
    }

    v7 = off_1025D4858;
    if (os_log_type_enabled(off_1025D4858, OS_LOG_TYPE_DEBUG))
    {
      *buf = 0;
      _os_log_impl(dword_100000000, v7, OS_LOG_TYPE_DEBUG, "#Warning Attempt to call clearLocations() without a backing database in CLLocationDatabase!", buf, 2u);
    }

    if (sub_10000A100(121, 2))
    {
      sub_1018F3928();
    }
  }
}

void sub_100654AD4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14, uint64_t a15, char a16)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  sub_10026C504(&a16);
  sub_10001A420((v16 - 48));
  _Unwind_Resume(a1);
}

void sub_100654B28(uint64_t a1)
{
  v2 = a1 + 8;
  (*(*a1 + 16))(__p);
  sub_100654788(a1 + 64, v2, __p);
  if (v4 < 0)
  {
    operator delete(__p[0]);
  }
}

void sub_100654B9C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100654C18()
{
  result = sub_100177B18();
  if ((result & 0x20) != 0)
  {
    operator new();
  }

  return result;
}

uint64_t sub_100654CB8()
{
  if (qword_102658540 != -1)
  {
    sub_1018F3B54();
  }

  return qword_1026370D0;
}

double sub_100654CF4(uint64_t a1, int a2, uint64_t *a3)
{
  if (a2)
  {
    if (qword_1025D4300 != -1)
    {
      sub_1018F3B68();
    }

    v3 = qword_1025D4308;
    if (os_log_type_enabled(qword_1025D4308, OS_LOG_TYPE_FAULT))
    {
      LOWORD(v10) = 0;
      _os_log_impl(dword_100000000, v3, OS_LOG_TYPE_FAULT, "Invalid notification", &v10, 2u);
    }

    v4 = 0;
    if (sub_10000A100(121, 0))
    {
      sub_1018F3B7C();
    }
  }

  else
  {
    v4 = 0;
    if (sub_100654E8C(a1))
    {
      if (qword_1025D4300 != -1)
      {
        sub_1018F3B68();
      }

      v7 = qword_1025D4308;
      if (os_log_type_enabled(qword_1025D4308, OS_LOG_TYPE_INFO))
      {
        v8 = *a3;
        v10 = 134349056;
        v11 = v8;
        _os_log_impl(dword_100000000, v7, OS_LOG_TYPE_INFO, "Setting HA interval to %{public}f", &v10, 0xCu);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F3C64(a3);
      }

      sub_10017A1F4(*(a1 + 32), *a3);
      sub_100179350(*(a1 + 32), *a3 * 16.0);
      v4 = *a3;
    }
  }

  return *&v4;
}

uint64_t sub_100654E8C(uint64_t a1)
{
  v2 = sub_100177B18();
  if ((v2 & 0x20) != 0)
  {
    if (!*(a1 + 32))
    {
      v3 = sub_1009B38EC();
      sub_101860780(v3);
    }
  }

  else
  {
    if (qword_1025D4300 != -1)
    {
      sub_1018F3B68();
    }

    v4 = qword_1025D4308;
    if (os_log_type_enabled(qword_1025D4308, OS_LOG_TYPE_FAULT))
    {
      *buf = 0;
      _os_log_impl(dword_100000000, v4, OS_LOG_TYPE_FAULT, "HA unavailable, unable to establish hid interface", buf, 2u);
    }

    if (sub_10000A100(121, 0))
    {
      sub_1018F3D8C();
    }
  }

  return (v2 >> 5) & 1;
}

void sub_100654FB0(uint64_t a1)
{
  if (IOHIDEventGetType() == 13)
  {
    if (IOHIDEventGetIntegerValue() == 1)
    {
      if (qword_1025D4300 != -1)
      {
        sub_1018F3B68();
      }

      v2 = qword_1025D4308;
      if (os_log_type_enabled(qword_1025D4308, OS_LOG_TYPE_DEBUG))
      {
        LOWORD(v10) = 0;
        _os_log_impl(dword_100000000, v2, OS_LOG_TYPE_DEBUG, "Received shake data, discarding.", &v10, 2u);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F3E78();
      }
    }

    else
    {
      IOHIDEventGetFloatValue();
      v4 = v3;
      IOHIDEventGetFloatValue();
      v6 = v5;
      IOHIDEventGetFloatValue();
      v8 = v7;
      TimeStamp = IOHIDEventGetTimeStamp();
      v10 = sub_1000080EC(TimeStamp);
      v11 = v4;
      v12 = v6;
      v13 = v8;
      sub_100061FD8(a1, 0, &v10, 24);
    }
  }
}

void sub_1006550F8(void *a1)
{
  sub_100655160(a1);

  operator delete();
}

void *sub_100655160(void *a1)
{
  *a1 = off_102465788;
  v2 = a1[5];
  if (v2)
  {
    sub_100008080(v2);
  }

  return sub_10095D914(a1);
}

uint64_t sub_1006551BC(uint64_t a1, char *a2, int a3, uint64_t a4, int a5, float a6)
{
  *(a1 + 8) = 0u;
  v12 = (a1 + 8);
  *(a1 + 56) = 0u;
  *(a1 + 40) = 0u;
  *(a1 + 24) = 0u;
  *a1 = off_102450C98;
  sub_1003FFA38((a1 + 8));
  *v12 = &off_102450CC8;
  *a1 = off_102465D68;
  *(a1 + 72) = off_102465E10;
  sub_101052EEC(a1 + 72, a2, a3, a1, a6, a4, a5, 0);
  *a1 = off_102465D68;
  *(a1 + 72) = off_102465E10;
  *(a1 + 176) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 248) = 0;
  *(a1 + 352) = 0;
  *(a1 + 360) = 0;
  *(a1 + 344) = 0;
  *(a1 + 376) = 12000;
  *(a1 + 384) = off_102450C98;
  sub_1003FFA38((a1 + 392));
  *(a1 + 392) = &off_102450CC8;
  *(a1 + 456) = 0;
  *(a1 + 464) = 0;
  v13 = *(a1 + 112);
  v17 = a1 + 112;
  (*(v13 + 16))(a1 + 112);
  v18 = 256;
  if ((a3 & 1) == 0)
  {
    if (*(a4 + 23) < 0)
    {
      sub_100007244(__p, *a4, *(a4 + 8));
    }

    else
    {
      *__p = *a4;
      v16 = *(a4 + 16);
    }

    sub_101053788(a1 + 72);
  }

  *(a1 + 248) = 0xBFF0000000000000;
  (*(*(a1 + 112) + 24))(a1 + 112);
  return a1;
}

void sub_1006555A0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *a11, uint64_t a12, void *__p, uint64_t a14, int a15, __int16 a16, char a17, char a18, char a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25)
{
  sub_1017EC98C(&a19);
  *a11 = v29;
  sub_1003FFCFC(v30);
  sub_100106180(v28);
  sub_1010532A4(v27);
  *v25 = a12;
  sub_1003FFCFC(v26);
  _Unwind_Resume(a1);
}

void *sub_100655648(void *a1)
{
  *a1 = off_102465D68;
  v2 = (a1 + 9);
  a1[9] = off_102465E10;
  sub_10065BCAC(a1, 0, 0);
  a1[48] = off_102450C98;
  sub_1003FFCFC(a1 + 49);
  sub_100106180(a1 + 22);
  sub_1010532A4(v2);
  *a1 = off_102450C98;
  sub_1003FFCFC(a1 + 1);
  return a1;
}

void sub_100655728(void *a1)
{
  sub_100655648(a1);

  operator delete();
}

void sub_100655760(uint64_t a1)
{
  sub_100655648((a1 - 72));

  operator delete();
}

void sub_10065579C(uint64_t a1)
{
  sub_100655648((a1 - 472));

  operator delete();
}

uint64_t sub_1006557D8(uint64_t a1, uint64_t a2)
{
  if (*(*(a2 + 8) - 16) == 1.79769313e308 && sub_100099160(a1 + 72))
  {
    sub_100144A84(*(a1 + 80));
    CFAbsoluteTimeGetCurrent();
    sub_1000388D8(*(a1 + 80), "DELETE FROM VO2MaxHistory WHERE estimatedVo2Max IS NULL OR startTime < ?");
  }

  return -1;
}

void sub_100655924(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    sub_101880BC0();
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100655944(uint64_t a1, void *a2)
{
  if (sub_100099160(a1 + 72))
  {
    a2[1] = *a2;
    sub_1000388D8(*(a1 + 80), "SELECT * from VO2MaxHistory ORDER BY id ASC");
  }

  if (qword_1025D4230 != -1)
  {
    sub_1018F3FCC();
  }

  v4 = qword_1025D4238;
  if (os_log_type_enabled(qword_1025D4238, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(dword_100000000, v4, OS_LOG_TYPE_DEFAULT, "getAllRecordsWithErrorCode, DB not accessible", buf, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F3FE0();
  }

  return 109;
}

void sub_100655C2C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10)
{
  if (v10)
  {
    (*(*v10 + 8))(v10);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100655C7C(uint64_t a1, unsigned __int8 *a2)
{
  v3 = sub_10060A6DC(*(a1 + 80));
  CStringPtr = CFStringGetCStringPtr(v3, 0x8000100u);

  return uuid_parse(CStringPtr, a2);
}

uint64_t sub_100655CC4(uint64_t *a1, uint64_t a2)
{
  v4 = sub_100008880(*a1);
  v5 = sqlite3_step(v4);
  if (v5 == 101)
  {
    return 1;
  }

  if (v5 != 100)
  {
    return 2;
  }

  v6 = sub_100008880(*a1);
  *a2 = sqlite3_column_int(v6, 0);
  v7 = sub_100008880(*a1);
  *(a2 + 24) = sqlite3_column_double(v7, 1);
  v8 = sub_100008880(*a1);
  *(a2 + 40) = sqlite3_column_int(v8, 2);
  v9 = sub_100008880(*a1);
  *(a2 + 32) = sqlite3_column_double(v9, 3);
  v10 = sub_100008880(*a1);
  *(a2 + 48) = sqlite3_column_double(v10, 4);
  v11 = sub_100008880(*a1);
  *(a2 + 56) = sqlite3_column_double(v11, 5);
  v12 = sub_100008880(*a1);
  *(a2 + 64) = sqlite3_column_double(v12, 6);
  v13 = sub_100008880(*a1);
  v14 = sqlite3_column_text(v13, 7);
  uuid_parse(v14, (a2 + 72));
  v15 = sub_100008880(*a1);
  *(a2 + 88) = sqlite3_column_double(v15, 8);
  v16 = sub_100008880(*a1);
  *(a2 + 96) = sqlite3_column_double(v16, 9);
  v17 = sub_100008880(*a1);
  *(a2 + 104) = sqlite3_column_int(v17, 10);
  v18 = sub_100008880(*a1);
  *(a2 + 108) = sqlite3_column_int(v18, 11) != 0;
  v19 = sub_100008880(*a1);
  *(a2 + 109) = sqlite3_column_int(v19, 12) != 0;
  v20 = sub_100008880(*a1);
  *(a2 + 112) = sqlite3_column_int(v20, 13);
  v21 = sub_100008880(*a1);
  *(a2 + 120) = sqlite3_column_double(v21, 14);
  v22 = sub_100008880(*a1);
  *(a2 + 128) = sqlite3_column_double(v22, 15);
  v23 = sub_100008880(*a1);
  *(a2 + 136) = sqlite3_column_double(v23, 16);
  v24 = sub_100008880(*a1);
  v25 = sqlite3_column_int(v24, 17);
  result = 0;
  *(a2 + 144) = v25;
  return result;
}

uint64_t sub_100655EA0(uint64_t a1, void *a2, int a3, uint64_t a4, uint64_t *a5)
{
  if (sub_100099160(a1 + 72))
  {
    a2[1] = *a2;
    sub_10003848C(buf);
    sub_100038730(&v21, "SELECT * FROM VO2MaxHistory WHERE estimatedVo2Max IS NOT NULL AND startTime > ?", 79);
    if (a3)
    {
      sub_100038730(&v21, " AND eligibleForHealthKit = 1", 29);
    }

    if (*a5 != a5[1])
    {
      sub_100038730(&v21, " AND", 4);
      v10 = *a5;
      v9 = a5[1];
      v11 = v9 - *a5;
      if (v11 >= 5)
      {
        sub_100038730(&v21, " (", 2);
        v10 = *a5;
        v9 = a5[1];
        v11 = v9 - *a5;
      }

      if (v9 == v10)
      {
        v14 = v11 >> 2;
      }

      else
      {
        v12 = 0;
        do
        {
          sub_100038730(&v21, " (platformSource == ", 20);
          if (v12 >= (a5[1] - *a5) >> 2)
          {
            sub_10046F324();
          }

          v13 = std::ostream::operator<<();
          sub_100038730(v13, ")", 1);
          v14 = (a5[1] - *a5) >> 2;
          if (v14 >= 2 && v12 != v14 - 1)
          {
            sub_100038730(&v21, " OR", 3);
            v14 = (a5[1] - *a5) >> 2;
          }

          ++v12;
        }

        while (v14 > v12);
      }

      if (v14 > 1)
      {
        sub_100038730(&v21, ")", 1);
      }
    }

    sub_100038730(&v21, " ORDER BY startTime DESC LIMIT ?", 32);
    v18 = *(a1 + 80);
    sub_100073518(buf, &v22);
    if (v23 >= 0)
    {
      v19 = &v22;
    }

    else
    {
      v19 = v22;
    }

    sub_1000388D8(v18, v19);
  }

  if (qword_1025D4230 != -1)
  {
    sub_1018F3FCC();
  }

  v16 = qword_1025D4238;
  if (os_log_type_enabled(qword_1025D4238, OS_LOG_TYPE_DEBUG))
  {
    *buf = 0;
    _os_log_impl(dword_100000000, v16, OS_LOG_TYPE_DEBUG, "VO2MaxHistory, DB not accessible", buf, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F40C4();
  }

  return 109;
}

void sub_10065644C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  if (*(v3 - 233) < 0)
  {
    operator delete(*(v3 - 256));
  }

  sub_10026C504(va);
  _Unwind_Resume(a1);
}

uint64_t sub_1006564C4(uint64_t a1, const unsigned __int8 *a2, void *a3)
{
  if (sub_100099160(a1 + 72))
  {
    a3[1] = *a3;
    uuid_unparse(a2, out);
    sub_1000388D8(*(a1 + 80), "SELECT * from VO2MaxHistory WHERE sessionId = ?");
  }

  if (qword_1025D4230 != -1)
  {
    sub_1018F3FCC();
  }

  v6 = qword_1025D4238;
  if (os_log_type_enabled(qword_1025D4238, OS_LOG_TYPE_DEBUG))
  {
    *buf = 0;
    _os_log_impl(dword_100000000, v6, OS_LOG_TYPE_DEBUG, "VO2MaxHistory, DB not accessible", buf, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F41A8();
  }

  return 109;
}

uint64_t sub_1006567E0(uint64_t a1)
{
  if (sub_100099160(a1 + 72))
  {
    sub_1000388D8(*(a1 + 80), "SELECT COUNT(*) FROM VO2MaxHistory");
  }

  return 0xFFFFFFFFLL;
}

void sub_10065689C(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    (*(*v1 + 8))(v1);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100656900(uint64_t a1)
{
  result = sub_100023B68(*(a1 + 80));
  if (result)
  {
    sub_100656970(a1);
    v3 = *(a1 + 80);

    return sub_100608EC8(v3, "VO2MaxHistory", &off_1024659C8, &off_1025D7990, 0);
  }

  return result;
}

BOOL sub_100656970(uint64_t a1)
{
  result = sub_10060A6D8(*(a1 + 80), "VO2MaxHistory");
  if (result)
  {
    v3 = "sessionType";
    v4 = 5;
    v5 = 0;
    v6 = 0;
    v7 = 0;
    sub_100611268(*(a1 + 80), "VO2MaxHistory", "sessionType", &v3);
  }

  return result;
}

void sub_100656EF0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, void *a16, uint64_t a17, int a18, __int16 a19, char a20, char a21, uint64_t a22, void *__p, uint64_t a24, int a25, __int16 a26, char a27, char a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, char a61)
{
  if (a28 < 0)
  {
    operator delete(__p);
  }

  sub_10026C504(&a61);
  _Unwind_Resume(a1);
}

uint64_t sub_100656F98(uint64_t a1)
{
  result = sub_100099160(a1 + 72);
  if (result)
  {
    sub_1000388D8(*(a1 + 80), "DELETE FROM VO2MaxHistory");
  }

  return result;
}

void sub_100657048(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    sub_101880BC0();
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100657068(uint64_t *a1, uint64_t a2)
{
  result = sub_100099160(a1 + 9);
  if (result)
  {
    (*(*a1 + 120))(a1, a2, 1);
    sub_1000388D8(a1[10], "DELETE FROM VO2MaxHistory WHERE startTime > ?");
  }

  return result;
}

void sub_100657164(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    sub_101880BC0();
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_10065717C(uint64_t a1)
{
  result = sub_100099160(a1 + 72);
  if (result)
  {
    sub_1000388D8(*(a1 + 80), "UPDATE VO2MaxHistory SET startTime = startTime + ?");
  }

  return result;
}

void sub_100657230(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    sub_101880BC0();
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100657248(uint64_t a1)
{
  result = sub_100099160(a1 + 72);
  if (result)
  {
    sub_1000388D8(*(a1 + 80), "INSERT INTO VO2MaxHistory (startTime, workoutType, estimatedVo2Max, durationInSeconds, hrMax, hrMin, sessionId, variance, filteredVo2Max, sessionType, eligibleForHealthKit, eligibleForCalorimetry, numWorkoutsContrToEstimate, estimatedHRResponseParam, estimatedHRRecoveryParam, sessionVo2Max, platformSource) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)");
  }

  return result;
}

void sub_1006574C0(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    sub_101880BC0();
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_1006574E8(uint64_t a1)
{
  if (sub_100099160(a1 + 72))
  {
    sub_1000388D8(*(a1 + 80), "SELECT * FROM VO2MaxHistory ORDER BY id DESC LIMIT 1");
  }

  return 2;
}

void sub_1006575D8(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    (*(*v1 + 8))(v1);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_10065761C(uint64_t a1, char *a2)
{
  if (!sub_10060A9FC(*(a1 + 80), a2))
  {
    if (qword_1025D4200 != -1)
    {
      sub_1018F428C();
    }

    v4 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_DEFAULT))
    {
      LODWORD(buf[0].__r_.__value_.__l.__data_) = 136446210;
      *(buf[0].__r_.__value_.__r.__words + 4) = a2;
      _os_log_impl(dword_100000000, v4, OS_LOG_TYPE_DEFAULT, "#Notice %{public}s needs autoincrement migration", buf, 0xCu);
    }

    if (sub_10000A100(121, 2))
    {
      sub_1018F42A0(a2);
    }

    __p = 0;
    v26 = 0uLL;
    sub_10000EC00(buf, a2);
    v5 = std::string::append(buf, "AutoIncr", 8uLL);
    v6 = *&v5->__r_.__value_.__l.__data_;
    v24 = v5->__r_.__value_.__r.__words[2];
    v23 = v6;
    v5->__r_.__value_.__l.__size_ = 0;
    v5->__r_.__value_.__r.__words[2] = 0;
    v5->__r_.__value_.__r.__words[0] = 0;
    if (SHIBYTE(buf[0].__r_.__value_.__r.__words[2]) < 0)
    {
      operator delete(buf[0].__r_.__value_.__l.__data_);
    }

    sub_10000EC00(buf, a2);
    v7 = std::string::append(buf, "Index", 5uLL);
    v8 = *&v7->__r_.__value_.__l.__data_;
    v22 = v7->__r_.__value_.__r.__words[2];
    *v21 = v8;
    v7->__r_.__value_.__l.__size_ = 0;
    v7->__r_.__value_.__r.__words[2] = 0;
    v7->__r_.__value_.__r.__words[0] = 0;
    if (SHIBYTE(buf[0].__r_.__value_.__r.__words[2]) < 0)
    {
      operator delete(buf[0].__r_.__value_.__l.__data_);
    }

    sub_100144A84(*(a1 + 80));
    if (v26 >= 0)
    {
      v9 = HIBYTE(v26);
    }

    else
    {
      v9 = v26;
    }

    v10 = buf;
    sub_100070148(buf, v9 + 21);
    if ((buf[0].__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
    {
      v10 = buf[0].__r_.__value_.__r.__words[0];
    }

    if (v9)
    {
      if (v26 >= 0)
      {
        p_p = &__p;
      }

      else
      {
        p_p = __p;
      }

      memmove(v10, p_p, v9);
    }

    strcpy(v10 + v9, "DROP TABLE IF EXISTS ");
    if (v24 >= 0)
    {
      v12 = &v23;
    }

    else
    {
      v12 = v23;
    }

    if (v24 >= 0)
    {
      v13 = HIBYTE(v24);
    }

    else
    {
      v13 = *(&v23 + 1);
    }

    v14 = std::string::append(buf, v12, v13);
    v15 = v14->__r_.__value_.__r.__words[0];
    v28.__r_.__value_.__r.__words[0] = v14->__r_.__value_.__l.__size_;
    *(v28.__r_.__value_.__r.__words + 7) = *(&v14->__r_.__value_.__r.__words[1] + 7);
    v16 = HIBYTE(v14->__r_.__value_.__r.__words[2]);
    v14->__r_.__value_.__l.__size_ = 0;
    v14->__r_.__value_.__r.__words[2] = 0;
    v14->__r_.__value_.__r.__words[0] = 0;
    if (SHIBYTE(v26) < 0)
    {
      operator delete(__p);
    }

    __p = v15;
    *&v26 = v28.__r_.__value_.__r.__words[0];
    *(&v26 + 7) = *(v28.__r_.__value_.__r.__words + 7);
    HIBYTE(v26) = v16;
    if (SHIBYTE(buf[0].__r_.__value_.__r.__words[2]) < 0)
    {
      operator delete(buf[0].__r_.__value_.__l.__data_);
      v16 = HIBYTE(v26);
      v15 = __p;
    }

    if (v16 >= 0)
    {
      v17 = &__p;
    }

    else
    {
      v17 = v15;
    }

    sub_1000388D8(*(a1 + 80), v17);
  }

  v18 = *(a1 + 80);
  if (*(v18 + 88) <= 0)
  {
    v19 = 0x7FFFFFFFFFFFFFFFLL;
  }

  else
  {
    v19 = *(v18 + 88);
  }

  sub_1001B16EC(v18, v19);
  return 0;
}

void sub_1006586FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, uint64_t a13, uint64_t a14, void *a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19, uint64_t a20, uint64_t a21, uint64_t a22, void *a23, uint64_t a24, uint64_t a25, uint64_t a26, void *__p, uint64_t a28, int a29, __int16 a30, char a31, char a32, uint64_t a33, void *a34, uint64_t a35, int a36, __int16 a37, char a38, char a39, uint64_t a40, void *a41, uint64_t a42, int a43, __int16 a44, char a45, char a46)
{
  if (a32 < 0)
  {
    operator delete(__p);
  }

  if (a39 < 0)
  {
    operator delete(a34);
  }

  if (a46 < 0)
  {
    operator delete(a41);
  }

  _Unwind_Resume(a1);
}

double sub_1006589E0(uint64_t a1)
{
  v4 = 0;
  v5 = 0;
  v6 = 0;
  memset(v3, 0, sizeof(v3));
  sub_100655EA0(a1, &v4, 1, 1, v3);
  if (v5 != v4)
  {
    v1 = v4[4];
LABEL_4:
    v5 = v4;
    operator delete(v4);
    return v1;
  }

  v1 = NAN;
  if (v4)
  {
    goto LABEL_4;
  }

  return v1;
}

void sub_100658A5C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *__p, uint64_t a13)
{
  if (__p)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_100658A78(uint64_t a1)
{
  if (sub_100099160(a1 + 72))
  {
    sub_1000388D8(*(a1 + 80), "SELECT * FROM VO2MaxHistory WHERE estimatedVo2Max IS NOT NULL AND startTime > ? AND startTime < ? ORDER BY startTime");
  }

  if (qword_1025D4230 != -1)
  {
    sub_1018F3FCC();
  }

  v2 = qword_1025D4238;
  if (os_log_type_enabled(qword_1025D4238, OS_LOG_TYPE_DEBUG))
  {
    *buf = 0;
    _os_log_impl(dword_100000000, v2, OS_LOG_TYPE_DEBUG, "VO2MaxHistory, DB not accessible", buf, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F43B8();
  }

  return 109;
}

uint64_t sub_100658DAC(void *a1)
{
  (*(*a1 + 64))(buf);
  if ((SBYTE3(v18) & 0x80000000) == 0)
  {
    if (BYTE3(v18))
    {
      goto LABEL_3;
    }

LABEL_18:
    if (qword_1025D4200 != -1)
    {
      sub_1018F3F60();
    }

    v9 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_FAULT))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_log_impl(dword_100000000, v9, OS_LOG_TYPE_FAULT, "{msg%{public}.0s:Need to override getTableName in order to use default definition of getEntriesByTimeRange, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v10 = qword_1025D4208;
    if (os_signpost_enabled(qword_1025D4208))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_signpost_emit_with_name_impl(dword_100000000, v10, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "Need to override getTableName in order to use default definition of getEntriesByTimeRange", "{msg%{public}.0s:Need to override getTableName in order to use default definition of getEntriesByTimeRange, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v11 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_log_impl(dword_100000000, v11, OS_LOG_TYPE_INFO, "{msg%{public}.0s:Need to override getTableName in order to use default definition of getEntriesByTimeRange, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
    }

    abort_report_np();
    __break(1u);
  }

  v8 = *v16;
  operator delete(*buf);
  if (!v8)
  {
    goto LABEL_18;
  }

LABEL_3:
  if (sub_100099160(a1 + 9))
  {
    sub_10003848C(buf);
    v2 = sub_100038730(&v16[8], "SELECT * FROM ", 14);
    (*(*a1 + 64))(__p, a1);
    if ((v14 & 0x80u) == 0)
    {
      v3 = __p;
    }

    else
    {
      v3 = __p[0];
    }

    if ((v14 & 0x80u) == 0)
    {
      v4 = v14;
    }

    else
    {
      v4 = __p[1];
    }

    v5 = sub_100038730(v2, v3, v4);
    sub_100038730(v5, " WHERE startTime > ? and startTime <= ? ORDER BY rowid ASC", 58);
    if (v14 < 0)
    {
      operator delete(__p[0]);
    }

    v6 = a1[10];
    sub_100073518(buf, __p);
    if ((v14 & 0x80u) == 0)
    {
      v7 = __p;
    }

    else
    {
      v7 = __p[0];
    }

    sub_1000388D8(v6, v7);
  }

  return 2;
}

void sub_100659484(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *__p, uint64_t a15, int a16, __int16 a17, char a18, char a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, char a36)
{
  if (a19 < 0)
  {
    operator delete(__p);
  }

  sub_10026C504(&a36);
  _Unwind_Resume(a1);
}

uint64_t sub_10065950C(uint64_t a1)
{
  v3 = *(a1 + 112);
  v2 = a1 + 112;
  v4 = v2 - 40;
  v11 = v2;
  (*(v3 + 16))();
  if (!sub_100099160(v4))
  {
    sub_10065BEF8(a1);
  }

  if (qword_1025D4200 != -1)
  {
    sub_1018F428C();
  }

  v5 = qword_1025D4208;
  if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_DEBUG))
  {
    v6 = (a1 + 88);
    if (*(a1 + 111) < 0)
    {
      v6 = *v6;
    }

    *buf = 68289282;
    *&buf[8] = 2082;
    *&buf[10] = "";
    v13 = 2082;
    v14 = v6;
    _os_log_impl(dword_100000000, v5, OS_LOG_TYPE_DEBUG, "{msg%{public}.0s:Database is already opened., name:%{public, location:escape_only}s}", buf, 0x1Cu);
  }

  if (*(a1 + 216))
  {
    if (qword_1025D4200 != -1)
    {
      sub_1018F3F60();
    }

    v7 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_FAULT))
    {
      v8 = *(a1 + 216);
      *buf = 134349056;
      *&buf[4] = v8;
      _os_log_impl(dword_100000000, v7, OS_LOG_TYPE_FAULT, "In memory buffer should have been empty! Instead it had a size of %{public}lu.", buf, 0xCu);
    }

    if (sub_10000A100(121, 0))
    {
      sub_1018F3F88(buf);
      v10 = _os_log_send_and_compose_impl();
      sub_100152C7C("Generic", 1, 0, 0, "virtual BOOL CLActivityRecorderDb<VO2MaxOutput, CLActivityDB::ClassBDataProtectionPolicy>::setDatabaseAccessible() [T = VO2MaxOutput, DataProtectionPolicy = CLActivityDB::ClassBDataProtectionPolicy]", "%s\n", v10);
      if (v10 != buf)
      {
        free(v10);
      }
    }
  }

  (*(*v11 + 24))(v11);
  return 1;
}

void sub_100659BE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, ...)
{
  va_start(va, a4);
  sub_1017EC98C(va);
  _Unwind_Resume(a1);
}

__n128 sub_100659C24(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3 = *(a3 + 16);
  *a2 = *a3;
  *(a2 + 16) = v3;
  v4 = *(a3 + 32);
  v5 = *(a3 + 48);
  v6 = *(a3 + 80);
  *(a2 + 64) = *(a3 + 64);
  *(a2 + 80) = v6;
  *(a2 + 32) = v4;
  *(a2 + 48) = v5;
  result = *(a3 + 96);
  v8 = *(a3 + 112);
  v9 = *(a3 + 128);
  *(a2 + 144) = *(a3 + 144);
  *(a2 + 112) = v8;
  *(a2 + 128) = v9;
  *(a2 + 96) = result;
  return result;
}

id *sub_100659C58(uint64_t a1, uint64_t a2, char a3)
{
  v32[0] = os_transaction_create();
  v32[1] = 0;
  if (*(a1 + 248) > 0.0 && (*(*a1 + 136))(a1, a1 + 224, a2))
  {
    (*(*a1 + 72))(a1, a1 + 224, a2);
    return sub_10001A420(v32);
  }

  if ((a3 & 1) == 0)
  {
    sub_100144A84(*(a1 + 80));
  }

  v42 = 0.0;
  v43 = 0;
  v44 = 0;
  v45 = 0;
  v6 = (*(*a1 + 104))(a1, v41);
  if (v6 == 1)
  {
    (*(*a1 + 120))(a1, a2, 1);
  }

  else
  {
    if (v6)
    {
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }

      v14 = qword_1025D4208;
      if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_FAULT))
      {
        *buf = 0;
        _os_log_impl(dword_100000000, v14, OS_LOG_TYPE_FAULT, "Failed to insert record due to failure from reading the most recent entry.", buf, 2u);
      }

      if (sub_10000A100(121, 0))
      {
        sub_1018F3F88(buf);
        LOWORD(v33) = 0;
        v15 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 0, "virtual void CLActivityRecorderDb<VO2MaxOutput, CLActivityDB::ClassBDataProtectionPolicy>::sanitizeAndStoreRecordUL(const T &, BOOL) [T = VO2MaxOutput, DataProtectionPolicy = CLActivityDB::ClassBDataProtectionPolicy]", "%s\n", v15);
        if (v15 != buf)
        {
          free(v15);
        }
      }

      goto LABEL_41;
    }

    v7 = *(a2 + 24);
    v8 = v42;
    v9 = v7 - v42;
    if (v7 - v42 < 0.0)
    {
      v9 = -(v7 - v42);
    }

    if (v9 > 604800.0)
    {
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }

      v10 = qword_1025D4208;
      if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_DEFAULT))
      {
        v11 = *(a2 + 24);
        *buf = 134349312;
        v38 = v42;
        v39 = 2050;
        v40 = v11;
        _os_log_impl(dword_100000000, v10, OS_LOG_TYPE_DEFAULT, "#Notice Potential CM database inconsistency, time jump %{public}lf %{public}lf", buf, 0x16u);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F3F88(buf);
        v27 = *(a2 + 24);
        v33 = 134349312;
        v34 = v42;
        v35 = 2050;
        v36 = v27;
        v28 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 2, "virtual void CLActivityRecorderDb<VO2MaxOutput, CLActivityDB::ClassBDataProtectionPolicy>::sanitizeAndStoreRecordUL(const T &, BOOL) [T = VO2MaxOutput, DataProtectionPolicy = CLActivityDB::ClassBDataProtectionPolicy]", "%s\n", v28);
        if (v28 != buf)
        {
          free(v28);
        }
      }

      CLWriteStackshot();
      v7 = *(a2 + 24);
      v8 = v42;
    }

    if (v7 < v8)
    {
      if (v8 - v7 < 10.0)
      {
        if (qword_1025D4200 != -1)
        {
          sub_1018F3F60();
        }

        v12 = qword_1025D4208;
        if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
        {
          v13 = *(a2 + 24);
          *buf = 134217984;
          v38 = v13;
          _os_log_impl(dword_100000000, v12, OS_LOG_TYPE_INFO, "Entry being recorded has a startTime in the recent past.  Deleting records after %f.", buf, 0xCu);
        }

        if (sub_10000A100(121, 2))
        {
          sub_1018F3F88(buf);
          v29 = *(a2 + 24);
          v33 = 134217984;
          v34 = v29;
          v30 = _os_log_send_and_compose_impl();
          sub_100152C7C("Generic", 1, 0, 2, "virtual void CLActivityRecorderDb<VO2MaxOutput, CLActivityDB::ClassBDataProtectionPolicy>::sanitizeAndStoreRecordUL(const T &, BOOL) [T = VO2MaxOutput, DataProtectionPolicy = CLActivityDB::ClassBDataProtectionPolicy]", "%s\n", v30);
          if (v30 != buf)
          {
            free(v30);
          }
        }

        (*(*a1 + 88))(a1, a2);
        goto LABEL_40;
      }

      v16 = *(a1 + 136);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }

      v17 = v7 - v8 - v16;
      v18 = qword_1025D4208;
      if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
      {
        *buf = 134217984;
        v38 = v17;
        _os_log_impl(dword_100000000, v18, OS_LOG_TYPE_INFO, "Entry being recorded has a startTime in the substantial past.  Shift records by %f.", buf, 0xCu);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F3F88(buf);
        v33 = 134217984;
        v34 = v17;
        v31 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 2, "virtual void CLActivityRecorderDb<VO2MaxOutput, CLActivityDB::ClassBDataProtectionPolicy>::sanitizeAndStoreRecordUL(const T &, BOOL) [T = VO2MaxOutput, DataProtectionPolicy = CLActivityDB::ClassBDataProtectionPolicy]", "%s\n", v31);
        if (v31 != buf)
        {
          free(v31);
        }
      }

      (*(*a1 + 96))(a1, v17);
    }

    (*(*a1 + 144))(a1, v41, a1 + 224, a2);
    (*(*a1 + 120))(a1, a2, 1);
  }

LABEL_40:
  v19 = *(a2 + 16);
  *(a1 + 224) = *a2;
  *(a1 + 240) = v19;
  v20 = *(a2 + 32);
  v21 = *(a2 + 48);
  v22 = *(a2 + 80);
  *(a1 + 288) = *(a2 + 64);
  *(a1 + 304) = v22;
  *(a1 + 256) = v20;
  *(a1 + 272) = v21;
  v23 = *(a2 + 96);
  v24 = *(a2 + 112);
  v25 = *(a2 + 128);
  *(a1 + 368) = *(a2 + 144);
  *(a1 + 336) = v24;
  *(a1 + 352) = v25;
  *(a1 + 320) = v23;
LABEL_41:
  if ((a3 & 1) == 0)
  {
    sub_1001454E0(*(a1 + 80));
  }

  return sub_10001A420(v32);
}

void sub_10065A3AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  sub_10001A420(va);
  _Unwind_Resume(a1);
}

void sub_10065A418(uint64_t a1, unint64_t a2)
{
  if (a2 < 0x1AF286BCA1AF287)
  {
    operator new();
  }

  sub_1001D0818();
}

uint64_t sub_10065A474(void *a1, void *a2)
{
  (*(*a1 + 64))(buf);
  if ((SBYTE3(v20) & 0x80000000) == 0)
  {
    if (BYTE3(v20))
    {
      goto LABEL_3;
    }

LABEL_18:
    if (qword_1025D4200 != -1)
    {
      sub_1018F3F60();
    }

    v12 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_FAULT))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v18 = 2082;
      *&v18[2] = "";
      v19 = 2082;
      v20 = "assert";
      v21 = 2081;
      v22 = "getTableName() != ";
      _os_log_impl(dword_100000000, v12, OS_LOG_TYPE_FAULT, "{msg%{public}.0s:Need to override getTableName in order to use default definition of getAllRecords, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v13 = qword_1025D4208;
    if (os_signpost_enabled(qword_1025D4208))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v18 = 2082;
      *&v18[2] = "";
      v19 = 2082;
      v20 = "assert";
      v21 = 2081;
      v22 = "getTableName() != ";
      _os_signpost_emit_with_name_impl(dword_100000000, v13, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "Need to override getTableName in order to use default definition of getAllRecords", "{msg%{public}.0s:Need to override getTableName in order to use default definition of getAllRecords, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v14 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v18 = 2082;
      *&v18[2] = "";
      v19 = 2082;
      v20 = "assert";
      v21 = 2081;
      v22 = "getTableName() != ";
      _os_log_impl(dword_100000000, v14, OS_LOG_TYPE_INFO, "{msg%{public}.0s:Need to override getTableName in order to use default definition of getAllRecords, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
    }

    abort_report_np();
    __break(1u);
  }

  v11 = *v18;
  operator delete(*buf);
  if (!v11)
  {
    goto LABEL_18;
  }

LABEL_3:
  result = sub_100099160(a1 + 9);
  if (result)
  {
    a2[1] = *a2;
    sub_10003848C(buf);
    v5 = sub_100038730(&v18[8], "SELECT * from ", 14);
    (*(*a1 + 64))(__p, a1);
    if ((v16 & 0x80u) == 0)
    {
      v6 = __p;
    }

    else
    {
      v6 = __p[0];
    }

    if ((v16 & 0x80u) == 0)
    {
      v7 = v16;
    }

    else
    {
      v7 = __p[1];
    }

    v8 = sub_100038730(v5, v6, v7);
    sub_100038730(v8, " ORDER BY id ASC", 16);
    if (v16 < 0)
    {
      operator delete(__p[0]);
    }

    v9 = a1[10];
    sub_100073518(buf, __p);
    if ((v16 & 0x80u) == 0)
    {
      v10 = __p;
    }

    else
    {
      v10 = __p[0];
    }

    sub_1000388D8(v9, v10);
  }

  return result;
}

void sub_10065AB08(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *__p, uint64_t a15, int a16, __int16 a17, char a18, char a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, char a36)
{
  if (v36)
  {
    (*(*v36 + 8))(v36);
  }

  sub_10026C504(&a36);
  _Unwind_Resume(a1);
}

uint64_t sub_10065AB90(void *a1, uint64_t a2)
{
  (*(*a1 + 64))(buf);
  if ((SBYTE3(v20) & 0x80000000) == 0)
  {
    if (BYTE3(v20))
    {
      goto LABEL_3;
    }

LABEL_18:
    if (qword_1025D4200 != -1)
    {
      sub_1018F3F60();
    }

    v12 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_FAULT))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v18 = 2082;
      *&v18[2] = "";
      v19 = 2082;
      v20 = "assert";
      v21 = 2081;
      v22 = "getTableName() != ";
      _os_log_impl(dword_100000000, v12, OS_LOG_TYPE_FAULT, "{msg%{public}.0s:Need to override getTableName in order to use default definition of deleteRecordsAfterInsertUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v13 = qword_1025D4208;
    if (os_signpost_enabled(qword_1025D4208))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v18 = 2082;
      *&v18[2] = "";
      v19 = 2082;
      v20 = "assert";
      v21 = 2081;
      v22 = "getTableName() != ";
      _os_signpost_emit_with_name_impl(dword_100000000, v13, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "Need to override getTableName in order to use default definition of deleteRecordsAfterInsertUL", "{msg%{public}.0s:Need to override getTableName in order to use default definition of deleteRecordsAfterInsertUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v14 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v18 = 2082;
      *&v18[2] = "";
      v19 = 2082;
      v20 = "assert";
      v21 = 2081;
      v22 = "getTableName() != ";
      _os_log_impl(dword_100000000, v14, OS_LOG_TYPE_INFO, "{msg%{public}.0s:Need to override getTableName in order to use default definition of deleteRecordsAfterInsertUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
    }

    abort_report_np();
    __break(1u);
  }

  v11 = *v18;
  operator delete(*buf);
  if (!v11)
  {
    goto LABEL_18;
  }

LABEL_3:
  result = sub_100099160(a1 + 9);
  if (result)
  {
    (*(*a1 + 120))(a1, a2, 1);
    sub_10003848C(buf);
    v5 = sub_100038730(&v18[8], "DELETE FROM ", 12);
    (*(*a1 + 64))(__p, a1);
    if ((v16 & 0x80u) == 0)
    {
      v6 = __p;
    }

    else
    {
      v6 = __p[0];
    }

    if ((v16 & 0x80u) == 0)
    {
      v7 = v16;
    }

    else
    {
      v7 = __p[1];
    }

    v8 = sub_100038730(v5, v6, v7);
    sub_100038730(v8, " WHERE startTime > ?", 20);
    if (v16 < 0)
    {
      operator delete(__p[0]);
    }

    v9 = a1[10];
    sub_100073518(buf, __p);
    if ((v16 & 0x80u) == 0)
    {
      v10 = __p;
    }

    else
    {
      v10 = __p[0];
    }

    sub_1000388D8(v9, v10);
  }

  return result;
}

void sub_10065B0F0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *__p, uint64_t a15, int a16, __int16 a17, char a18, char a19, char a20)
{
  if (a19 < 0)
  {
    operator delete(__p);
  }

  sub_10026C504(&a20);
  _Unwind_Resume(a1);
}

uint64_t sub_10065B144(void *a1)
{
  (*(*a1 + 64))(buf);
  if ((SBYTE3(v18) & 0x80000000) == 0)
  {
    if (BYTE3(v18))
    {
      goto LABEL_3;
    }

LABEL_18:
    if (qword_1025D4200 != -1)
    {
      sub_1018F3F60();
    }

    v10 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_FAULT))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_log_impl(dword_100000000, v10, OS_LOG_TYPE_FAULT, "{msg%{public}.0s:Need to override getTableName in order to use default definition of shiftRecordsByUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v11 = qword_1025D4208;
    if (os_signpost_enabled(qword_1025D4208))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_signpost_emit_with_name_impl(dword_100000000, v11, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "Need to override getTableName in order to use default definition of shiftRecordsByUL", "{msg%{public}.0s:Need to override getTableName in order to use default definition of shiftRecordsByUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v12 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_log_impl(dword_100000000, v12, OS_LOG_TYPE_INFO, "{msg%{public}.0s:Need to override getTableName in order to use default definition of shiftRecordsByUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
    }

    abort_report_np();
    __break(1u);
  }

  v9 = *v16;
  operator delete(*buf);
  if (!v9)
  {
    goto LABEL_18;
  }

LABEL_3:
  result = sub_100099160(a1 + 9);
  if (result)
  {
    sub_10003848C(buf);
    v3 = sub_100038730(&v16[8], "UPDATE ", 7);
    (*(*a1 + 64))(__p, a1);
    if ((v14 & 0x80u) == 0)
    {
      v4 = __p;
    }

    else
    {
      v4 = __p[0];
    }

    if ((v14 & 0x80u) == 0)
    {
      v5 = v14;
    }

    else
    {
      v5 = __p[1];
    }

    v6 = sub_100038730(v3, v4, v5);
    sub_100038730(v6, " SET startTime = startTime + ?", 30);
    if (v14 < 0)
    {
      operator delete(__p[0]);
    }

    v7 = a1[10];
    sub_100073518(buf, __p);
    if ((v14 & 0x80u) == 0)
    {
      v8 = __p;
    }

    else
    {
      v8 = __p[0];
    }

    sub_1000388D8(v7, v8);
  }

  return result;
}

void sub_10065B664(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *__p, uint64_t a15, int a16, __int16 a17, char a18, char a19, char a20)
{
  if (a19 < 0)
  {
    operator delete(__p);
  }

  sub_10026C504(&a20);
  _Unwind_Resume(a1);
}

uint64_t sub_10065B6B8(void *a1)
{
  (*(*a1 + 64))(buf);
  if ((SBYTE3(v18) & 0x80000000) == 0)
  {
    if (BYTE3(v18))
    {
      goto LABEL_3;
    }

LABEL_18:
    if (qword_1025D4200 != -1)
    {
      sub_1018F3F60();
    }

    v10 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_FAULT))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_log_impl(dword_100000000, v10, OS_LOG_TYPE_FAULT, "{msg%{public}.0s:Need to override getTableName in order to use default definition of getMostRecentRecordUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v11 = qword_1025D4208;
    if (os_signpost_enabled(qword_1025D4208))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_signpost_emit_with_name_impl(dword_100000000, v11, OS_SIGNPOST_EVENT, 0xEEEEB0B5B2B2EEEELL, "Need to override getTableName in order to use default definition of getMostRecentRecordUL", "{msg%{public}.0s:Need to override getTableName in order to use default definition of getMostRecentRecordUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
      if (qword_1025D4200 != -1)
      {
        sub_1018F3F60();
      }
    }

    v12 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
    {
      *buf = 68289539;
      *&buf[4] = 0;
      *v16 = 2082;
      *&v16[2] = "";
      v17 = 2082;
      v18 = "assert";
      v19 = 2081;
      v20 = "getTableName() != ";
      _os_log_impl(dword_100000000, v12, OS_LOG_TYPE_INFO, "{msg%{public}.0s:Need to override getTableName in order to use default definition of getMostRecentRecordUL, event:%{public, location:escape_only}s, condition:%{private, location:escape_only}s}", buf, 0x26u);
    }

    abort_report_np();
    __break(1u);
  }

  v9 = *v16;
  operator delete(*buf);
  if (!v9)
  {
    goto LABEL_18;
  }

LABEL_3:
  if (sub_100099160(a1 + 9))
  {
    sub_10003848C(buf);
    v2 = sub_100038730(&v16[8], "SELECT * FROM ", 14);
    (*(*a1 + 64))(__p, a1);
    if ((v14 & 0x80u) == 0)
    {
      v3 = __p;
    }

    else
    {
      v3 = __p[0];
    }

    if ((v14 & 0x80u) == 0)
    {
      v4 = v14;
    }

    else
    {
      v4 = __p[1];
    }

    v5 = sub_100038730(v2, v3, v4);
    sub_100038730(v5, " ORDER BY ROWID DESC LIMIT 1", 28);
    if (v14 < 0)
    {
      operator delete(__p[0]);
    }

    v6 = a1[10];
    sub_100073518(buf, __p);
    if ((v14 & 0x80u) == 0)
    {
      v7 = __p;
    }

    else
    {
      v7 = __p[0];
    }

    sub_1000388D8(v6, v7);
  }

  return 2;
}

void sub_10065BBC4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *__p, uint64_t a15, int a16, __int16 a17, char a18, char a19, char a20)
{
  if (a13)
  {
    sub_101880BC0();
  }

  sub_10026C504(&a20);
  _Unwind_Resume(a1);
}

uint64_t sub_10065BC1C(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  v6 = sub_100008880(*a2);
  v7 = sqlite3_step(v6);
  if (v7 == 101)
  {
    return 1;
  }

  if (v7 != 100)
  {
    return 2;
  }

  (*(*a1 + 128))(a1, a2, a3);
  return 0;
}

void sub_10065BCAC(uint64_t a1, unint64_t a2, unint64_t a3)
{
  if (qword_1025D4200 != -1)
  {
    sub_1018F428C();
  }

  v6 = qword_1025D4208;
  if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_INFO))
  {
    (*(*a1 + 64))(__p, a1);
    v7 = v12 >= 0 ? __p : __p[0];
    *buf = 136315138;
    v14 = v7;
    _os_log_impl(dword_100000000, v6, OS_LOG_TYPE_INFO, "%s insert handle set.", buf, 0xCu);
    if (v12 < 0)
    {
      operator delete(__p[0]);
    }
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F4508(a1);
  }

  if ((!a2 || !a3) && a2 | a3)
  {
    if (qword_1025D4200 != -1)
    {
      sub_1018F3F60();
    }

    v8 = qword_1025D4208;
    if (os_log_type_enabled(qword_1025D4208, OS_LOG_TYPE_ERROR))
    {
      (*(*a1 + 64))(__p, a1);
      v9 = v12 >= 0 ? __p : __p[0];
      *buf = 136315138;
      v14 = v9;
      _os_log_impl(dword_100000000, v8, OS_LOG_TYPE_ERROR, "%s, Invalid update finished handlers.", buf, 0xCu);
      if (v12 < 0)
      {
        operator delete(__p[0]);
      }
    }

    if (sub_10000A100(121, 0))
    {
      sub_1018F4650(a1);
    }
  }

  *(a1 + 456) = a2;
  v10 = *(a1 + 464);
  if (v10)
  {
    _Block_release(v10);
  }

  if (a3)
  {
    *(a1 + 464) = _Block_copy(a3);
  }
}

void sub_10065BF74(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

double sub_10065BFC0(uint64_t a1, char a2)
{
  *a1 = off_102465EA0;
  *(a1 + 8) = 0x1E00000000;
  *(a1 + 376) = 0x1E00000000;
  *(a1 + 744) = 0x300000000;
  result = 0.0;
  *(a1 + 848) = 0;
  *(a1 + 856) = 0u;
  *(a1 + 872) = 0u;
  *(a1 + 888) = 0u;
  *(a1 + 900) = 0u;
  *(a1 + 916) = 998445679;
  *(a1 + 920) = vdup_n_s32(0x3B83126Fu);
  *(a1 + 928) = 0;
  *(a1 + 948) = 0;
  *(a1 + 952) = 0;
  *(a1 + 960) = 0;
  *(a1 + 961) = a2;
  *(a1 + 962) = 0;
  *(a1 + 805) = 0;
  *(a1 + 800) = 0;
  *(a1 + 792) = 0x3DF1D87000000000;
  *(a1 + 816) = vdupq_n_s64(0x19uLL);
  *(a1 + 832) = 0u;
  return result;
}

void sub_10065C068(uint64_t a1, char *a2)
{
  v3 = a1 + 904;
  *(a1 + 8) = 0;
  *(a1 + 376) = 0;
  *(a1 + 744) = 0;
  *(a1 + 847) = 0;
  *(a1 + 832) = 0;
  *(a1 + 838) = 0;
  *(a1 + 856) = 0u;
  *(a1 + 872) = 0u;
  if (a2 < 0x6B49D200)
  {
    if (qword_1025D48A0 != -1)
    {
      sub_1018F47A4();
    }

    v6 = qword_1025D48A8;
    if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
    {
      v14 = 134218240;
      v15 = (a2 * 0.000001);
      v16 = 2048;
      v17 = 1800.0;
      _os_log_impl(dword_100000000, v6, OS_LOG_TYPE_DEBUG, "CMGyroBiasEstimator::reset: warm start [%f < %f]", &v14, 0x16u);
    }

    if (sub_10000A100(121, 2))
    {
      sub_1018F47B8(a2);
    }

    *(v3 + 12) = vadd_f32(*(v3 + 12), 0);
    *(a1 + 924) = *(a1 + 924) + 0.0;
  }

  else
  {
    if (qword_1025D48A0 != -1)
    {
      sub_1018F47A4();
    }

    v4 = qword_1025D48A8;
    if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
    {
      LOWORD(v14) = 0;
      _os_log_impl(dword_100000000, v4, OS_LOG_TYPE_DEBUG, "CMGyroBiasEstimator::reset: cold start", &v14, 2u);
    }

    if (sub_10000A100(121, 2))
    {
      sub_1018F48EC();
    }

    *v3 = xmmword_101C82A40;
    *(a1 + 920) = vdup_n_s32(0x3B83126Fu);
    *(a1 + 928) = 0;
  }

  if (qword_1025D48A0 != -1)
  {
    sub_1018F49D8();
  }

  v7 = qword_1025D48A8;
  if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
  {
    v8 = *(a1 + 904);
    v9 = *(a1 + 908);
    v10 = *(a1 + 912);
    v11 = *(a1 + 916);
    v12 = *(a1 + 920);
    v13 = *(a1 + 924);
    v14 = 134219264;
    v15 = v8;
    v16 = 2048;
    v17 = v9;
    v18 = 2048;
    v19 = v10;
    v20 = 2048;
    v21 = v11;
    v22 = 2048;
    v23 = v12;
    v24 = 2048;
    v25 = v13;
    _os_log_impl(dword_100000000, v7, OS_LOG_TYPE_DEBUG, "CMGyroBiasEstimator::reset: dbias.x,%.2e,.y,%.2e,.z,%.2e,P.x,%.2e,.y,%.2e,.z,%.2e", &v14, 0x3Eu);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F4A00(a1);
  }
}

uint64_t sub_10065C330(float32x2_t *a1, float32x2_t *a2, float32x2_t *a3)
{
  if (a1[120].i8[2] == 1 && (a1[120].i8[3] & 1) != 0)
  {
    return 0;
  }

  sub_10065CF38(&a1[47], a2);
  sub_10065CFA4(a1 + 99, a2);
  v7 = *&a1[103] - 1;
  a1[103] = v7;
  if (!v7)
  {
    a1[103] = a1[102];
    v8 = a1[101].i32[0];
    v15 = a1[100];
    v16 = v8;
    sub_10065CF38(&a1[93], &v15);
    a1[104] = *a3;
  }

  v9 = sub_10065C6C4(&a1[93]);
  v12 = sub_10065C438(v9, v10, v11, a1[100].f32[0], a1[100].f32[1], a1[101].f32[0]);
  v13 = 0.0;
  if (a1[93].i16[1])
  {
    v13 = vcvts_n_f32_u64(a1[93].u16[1] - 1, 1uLL) + ((*a3 - *&a1[104]) * 0.000001);
  }

  v14 = *&v12 / v13;
  if (v13 <= 0.0)
  {
    v14 = 0.0;
  }

  a1[105].f32[0] = v14;
  return 1;
}

double sub_10065C438(float a1, float a2, float a3, float a4, float a5, float a6)
{
  v6 = a6;
  v7 = a5;
  v8 = a4;
  v9 = a3;
  v10 = a2;
  v11 = a1;
  v12 = 0;
  v39 = a1;
  v40 = a2;
  v41 = a3;
  v13 = 0.0;
  do
  {
    v13 = v13 + (*(&v39 + v12) * *(&v39 + v12));
    v12 += 4;
  }

  while (v12 != 12);
  if (sqrtf(v13) > 0.00000011921)
  {
    v14 = 0;
    v15 = 0.0;
    do
    {
      v15 = v15 + (*(&v39 + v14) * *(&v39 + v14));
      v14 += 4;
    }

    while (v14 != 12);
    v16 = sqrtf(v15);
    v11 = v11 / v16;
    v10 = a2 / v16;
    v9 = a3 / v16;
  }

  v17 = 0;
  v39 = a4;
  v40 = a5;
  v18 = 0.0;
  v41 = a6;
  do
  {
    v18 = v18 + (*(&v39 + v17) * *(&v39 + v17));
    v17 += 4;
  }

  while (v17 != 12);
  if (sqrtf(v18) > 0.00000011921)
  {
    v19 = 0;
    v20 = 0.0;
    do
    {
      v20 = v20 + (*(&v39 + v19) * *(&v39 + v19));
      v19 += 4;
    }

    while (v19 != 12);
    v21 = sqrtf(v20);
    v8 = a4 / v21;
    v7 = a5 / v21;
    v6 = a6 / v21;
  }

  v22 = ((v9 * v6) + (v10 * v7)) + (v11 * v8);
  v23 = 1.0;
  if (v22 < 1.0)
  {
    v23 = -1.0;
    if (v22 > -1.0)
    {
      v23 = ((v9 * v6) + (v10 * v7)) + (v11 * v8);
    }
  }

  *&result = acosf(v23);
  if (*&result < 0.7854)
  {
    v25 = 0;
    v39 = (v10 * v6) - (v9 * v7);
    v40 = (v9 * v8) - (v11 * v6);
    v41 = (v11 * v7) - (v10 * v8);
    v26 = 0.0;
    do
    {
      v26 = v26 + (*(&v39 + v25) * *(&v39 + v25));
      v25 += 4;
    }

    while (v25 != 12);
    if (sqrtf(v26) >= 1.0)
    {
      goto LABEL_34;
    }

    v27 = 0;
    v38[0] = (v10 * v6) - (v9 * v7);
    v38[1] = (v9 * v8) - (v11 * v6);
    v28 = 0.0;
    v38[2] = (v11 * v7) - (v10 * v8);
    do
    {
      v28 = v28 + (v38[v27] * v38[v27]);
      ++v27;
    }

    while (v27 != 3);
    v29 = sqrtf(v28);
    v30 = -1.0;
    if (v29 > -1.0)
    {
LABEL_34:
      v31 = 0;
      v37[0] = (v10 * v6) - (v9 * v7);
      v37[1] = (v9 * v8) - (v11 * v6);
      v32 = 0.0;
      v37[2] = (v11 * v7) - (v10 * v8);
      do
      {
        v32 = v32 + (v37[v31] * v37[v31]);
        ++v31;
      }

      while (v31 != 3);
      v33 = sqrtf(v32);
      v30 = 1.0;
      if (v33 < 1.0)
      {
        v34 = 0;
        v36[0] = (v10 * v6) - (v9 * v7);
        v36[1] = (v9 * v8) - (v11 * v6);
        v35 = 0.0;
        v36[2] = (v11 * v7) - (v10 * v8);
        do
        {
          v35 = v35 + (v36[v34] * v36[v34]);
          ++v34;
        }

        while (v34 != 3);
        v30 = sqrtf(v35);
      }
    }

    *&result = asinf(v30);
  }

  return result;
}

float sub_10065C6C4(unsigned __int16 *a1)
{
  if (!a1[1])
  {
    sub_1018F4B68();
  }

  return *sub_10065D088(a1, 0);
}

uint64_t sub_10065C708(uint64_t a1, uint64_t a2, unint64_t *a3)
{
  if (*(a1 + 962) == 1 && (*(a1 + 963) & 1) != 0)
  {
    return 0;
  }

  if (*(a1 + 846) == 1)
  {
    if (*(a1 + 928) == 1)
    {
      result = 0;
      *(a1 + 844) = 1;
      return result;
    }

    return 0;
  }

  sub_10065CF38((a1 + 8), a2);
  v6 = *(a1 + 856);
  v7 = *a3;
  v8.i32[0] = 833342583;
  if (v6)
  {
    v9 = v7 >= v6;
    v10 = v7 - v6;
    if (v10 != 0 && v9)
    {
      *v8.i32 = (((v10 * 0.000001) / 0.02) + 0.5) * 0.000000005;
    }
  }

  *(a1 + 856) = v7;
  *(a1 + 916) = vadd_f32(vdup_lane_s32(v8, 0), *(a1 + 916));
  *(a1 + 924) = *v8.i32 + *(a1 + 924);
  if (*(a1 + 928) != 1)
  {
    return 0;
  }

  *(a1 + 844) = 1;
  if (*(a1 + 12) != *(a1 + 10) || *(a1 + 961) == 1 && *(a1 + 380) != *(a1 + 378))
  {
    return 0;
  }

  result = sub_10065C83C(a1);
  if (result)
  {
    sub_10065CC38(a1);
    return 1;
  }

  return result;
}

uint64_t sub_10065C83C(float32x2_t *a1)
{
  v2 = sub_10065D288(&a1[1], 0, a1[1].u16[1]);
  v40 = v3;
  v41 = v2;
  v5 = v4;
  sub_10065D378(&a1[1], 0, a1[1].u16[1]);
  v7 = v6;
  *v47 = v6;
  v47[1] = v8;
  v47[2] = v9;
  sub_10065D378(&a1[47], 0, a1[47].u16[1]);
  v46[0] = v10;
  v46[1] = v11;
  v46[2] = v12;
  v45 = v5 - a1[118].f32[0];
  v13 = v45 - a1[114].f32[0];
  v14 = vsub_f32(__PAIR64__(v40, LODWORD(v41)), a1[117]);
  v44 = v14;
  v42 = vsub_f32(v14, a1[113]);
  v43 = v13;
  v15 = -v7;
  if (v7 > 0.0)
  {
    v15 = v7;
  }

  for (i = 1; i != 3; ++i)
  {
    v17 = *&v47[i];
    if (v17 <= 0.0)
    {
      v17 = -v17;
    }

    if (v17 > v15)
    {
      v15 = v17;
    }
  }

  if (v15 >= 0.0000025)
  {
    v20 = 0;
  }

  else
  {
    v18 = 0;
    if (v14.f32[0] <= 0.0)
    {
      v14.f32[0] = -v14.f32[0];
    }

    do
    {
      v19 = v44.f32[v18 + 1];
      if (v19 <= 0.0)
      {
        v19 = -v19;
      }

      if (v19 > v14.f32[0])
      {
        v14.f32[0] = v19;
      }

      ++v18;
    }

    while (v18 != 2);
    v20 = v14.f32[0] < 0.03;
  }

  v21 = 0;
  if (a1[105].f32[0] < 0.00064577)
  {
    v22 = 0;
    if (a1[120].i8[0])
    {
      v23 = 0.49;
    }

    else
    {
      v23 = 0.06;
    }

    if (v20)
    {
      v24 = 0.000033333;
    }

    else
    {
      v24 = 0.0001;
    }

    do
    {
      if (a1[120].i8[1])
      {
        v25 = sub_10011AF6C(&v44, v22);
        if (v25 <= 0.0)
        {
          v25 = -v25;
        }

        if (v25 >= v23 || sub_10011AF6C(v47, v22) >= 0.0000025)
        {
          goto LABEL_48;
        }

        v26 = ((sub_10011AF6C(v47, v22) + -0.00000048739) * 8.9291) + 0.00000076154;
        if (v26 >= 0.00000076154)
        {
          v27 = v26;
        }

        else
        {
          v27 = 0.00000076154;
        }

        v28 = ((sub_10011AF6C(v46, v22) + -0.0000005625) * 15.508) + 0.00000076154;
        if (v28 < 0.00000076154)
        {
          v28 = 0.00000076154;
        }

        if (v27 <= v28)
        {
          v29 = v28;
        }

        else
        {
          v29 = v27;
        }

        v30 = (((v29 * 0.5) / 0.00000076154) * 30.0) * 0.02;
        v31 = a1[107];
        if (*&v31 - *sub_10065CEA0(&a1[108], v22) > 0x927BFuLL)
        {
          v32 = 0.6 / (v30 + 0.6);
        }

        else
        {
          v32 = 0.02 / (v30 + 0.02);
        }
      }

      else
      {
        if (!v20)
        {
          v38 = sub_10011AF6C(&v44, v22);
          if (v38 <= 0.0)
          {
            v38 = -v38;
          }

          if (v38 >= v23 || sub_10011AF6C(v47, v22) >= 0.00000125)
          {
            goto LABEL_48;
          }
        }

        v33 = *sub_10011AF30(&a1[114] + 4, v22);
        v32 = v33 / (v24 + *sub_10011AF30(&a1[114] + 4, v22));
        v29 = 0.0;
      }

      v34 = sub_10011AF6C(&v42, v22);
      v35 = sub_10011AF30(&a1[113], v22);
      *v35 = *v35 + (v32 * v34);
      v36 = (v29 * (v32 * v32)) + (*sub_10011AF30(&a1[114] + 4, v22) * ((1.0 - v32) * (1.0 - v32)));
      *sub_10011AF30(&a1[114] + 4, v22) = v36;
      v37 = a1[107];
      *sub_10065CEA0(&a1[108], v22) = v37;
      v21 = 1;
LABEL_48:
      ++v22;
    }

    while (v22 != 3);
  }

  return v21 & 1;
}

void sub_10065CC38(float32x2_t *a1)
{
  if ((a1[105].i8[5] & 1) == 0)
  {
    v2 = 0;
    v3 = a1[114].f32[1];
    if (v3 <= 0.0)
    {
      v3 = -v3;
    }

    do
    {
      v4 = a1[115].f32[v2];
      if (v4 <= 0.0)
      {
        v4 = -v4;
      }

      if (v4 > v3)
      {
        v3 = v4;
      }

      ++v2;
    }

    while (v2 != 2);
    a1[105].i8[5] = v3 < 0.000007;
    if (v3 < 0.000007)
    {
      if (qword_1025D48A0 != -1)
      {
        sub_1018F47A4();
      }

      v5 = qword_1025D48A8;
      if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
      {
        *buf = 0;
        _os_log_impl(dword_100000000, v5, OS_LOG_TYPE_DEBUG, "CMGyroBiasEstimator::feedGyro: converged!", buf, 2u);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F4CA0();
      }
    }
  }

  if (a1[116].i8[1] == 1)
  {
    v6 = a1[105].i8[5] ^ 1;
  }

  else
  {
    v6 = 0;
  }

  a1[105].i8[7] = v6 & 1;
  v7 = a1[111];
  if (v7)
  {
    v8 = a1[114].f32[0] + a1[118].f32[0];
    v9 = vadd_f32(a1[113], a1[117]);
    v10 = v8;
    v7(&v9, &a1[114] + 1, &a1[105] + 1, *&a1[112]);
  }
}

void sub_10065CD8C(float32x2_t *a1, float32x2_t *a2, __int8 a3, float32_t a4)
{
  a1[116].i8[0] = 1;
  a1[116].i8[1] = a3;
  a1[116].f32[1] = a4;
  v4 = *a2;
  a1[118].i32[0] = a2[1].i32[0];
  a1[117] = v4;
  sub_10065CC38(a1);
}

int32x2_t sub_10065CDB0(uint64_t a1)
{
  if (qword_1025D48A0 != -1)
  {
    sub_1018F47A4();
  }

  v2 = qword_1025D48A8;
  if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
  {
    *v4 = 0;
    _os_log_impl(dword_100000000, v2, OS_LOG_TYPE_DEBUG, "CMGyroBiasEstimator: biasFitReset", v4, 2u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F4D8C();
  }

  *(a1 + 904) = xmmword_101C82A40;
  result = vdup_n_s32(0x3B83126Fu);
  *(a1 + 920) = result;
  *(a1 + 845) = 0;
  return result;
}

float sub_10065CE6C(float *a1, float *a2)
{
  a1[226] = a1[226] - *a2;
  a1[227] = a1[227] - a2[1];
  result = a1[228] - a2[2];
  a1[228] = result;
  return result;
}

uint64_t sub_10065CEA0(uint64_t a1, uint8_t *a2)
{
  if (a2 >= 3)
  {
    sub_1018F4E78(a2);
  }

  return a1 + 8 * a2;
}

uint64_t sub_10065CEDC(uint64_t result, uint64_t a2, uint64_t a3)
{
  *(result + 888) = a2;
  *(result + 896) = a3;
  return result;
}

unsigned __int16 *sub_10065CF38(unsigned __int16 *result, uint64_t a2)
{
  v2 = *(result + 1);
  v3 = *result + result[1];
  if (v3 < v2)
  {
    v2 = 0;
  }

  v4 = &result[6 * (v3 - v2)];
  v5 = *(a2 + 8);
  *(v4 + 1) = *a2;
  *(v4 + 4) = v5;
  v6 = result[1];
  v7 = *(result + 1);
  if (v7 <= v6)
  {
    v8 = *result + 1;
    if (v8 < v7)
    {
      LOWORD(v7) = 0;
    }

    *result = v8 - v7;
  }

  else
  {
    result[1] = v6 + 1;
  }

  return result;
}

float32x2_t *sub_10065CFA4(float32x2_t *result, float32x2_t *a2)
{
  v2 = result->i32[0];
  v3 = result->i32[0] + 1;
  result->i32[0] = v3;
  if (result[2].i8[4] == 1)
  {
    v4 = 1.0 / v3;
    if (!v3)
    {
      v4 = 1.0;
    }

    if (v4 <= result->f32[1])
    {
      v4 = result->f32[1];
    }

    v5 = result[2].f32[0];
    v6 = v4 * (v5 - a2[1].f32[0]);
    result[1] = vsub_f32(result[1], vmul_n_f32(vsub_f32(result[1], *a2), v4));
    v7 = v5 - v6;
  }

  else
  {
    v8 = a2[1].f32[0];
    if (v2 > 2)
    {
      v10 = result->f32[1];
      v11 = result[2].f32[0];
      result[1] = vsub_f32(result[1], vmul_n_f32(vsub_f32(result[1], *a2), v10));
      v7 = v11 - (v10 * (v11 - v8));
    }

    else
    {
      v9 = 1.0 / v3;
      v7 = v9 * ((result[2].f32[0] * v2) + v8);
      result[1] = vmul_n_f32(vadd_f32(vmul_n_f32(result[1], v2), *a2), v9);
    }
  }

  result[2].f32[0] = v7;
  return result;
}

uint64_t sub_10065D088(unsigned __int16 *a1, unint64_t a2)
{
  if (*(a1 + 1) <= a2)
  {
    if (qword_1025D48A0 != -1)
    {
      dispatch_once(&qword_1025D48A0, &stru_102465F10);
    }

    v7 = qword_1025D48A8;
    if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_FAULT))
    {
      v8 = *(a1 + 1);
      *buf = 134218240;
      v11 = a2;
      v12 = 1024;
      v13 = v8;
      _os_log_impl(dword_100000000, v7, OS_LOG_TYPE_FAULT, "Assertion failed: i < fCapacity, file /Library/Caches/com.apple.xbs/Sources/CoreLocation/Oscar/CMQueue.h, line 233,i,%zu,capacity,%u.", buf, 0x12u);
    }

    if (sub_10000A100(121, 0))
    {
      bzero(buf, 0x65CuLL);
      if (qword_1025D48A0 != -1)
      {
        dispatch_once(&qword_1025D48A0, &stru_102465F10);
      }

      v9 = _os_log_send_and_compose_impl();
      sub_100152C7C("Generic", 1, 0, 0, "const T &CMQueue<CMVector<float, 3>>::operator[](const size_t) const [T = CMVector<float, 3>]", "%s\n", v9);
      if (v9 != buf)
      {
        free(v9);
      }
    }
  }

  v4 = *a1 + a2;
  v5 = *(a1 + 1);
  if (v4 < v5)
  {
    v5 = 0;
  }

  return &a1[6 * (v4 - v5) + 4];
}

float sub_10065D288(unsigned __int16 *a1, unint64_t a2, unint64_t a3)
{
  if (!a1[1])
  {
    sub_1018F4FC0();
  }

  return sub_10065D2EC(a1, a2, a3) / (a3 - a2);
}

float sub_10065D2EC(unsigned __int16 *a1, unint64_t a2, unint64_t a3)
{
  v3 = 0.0;
  v4 = 0.0;
  v5 = 0.0;
  if (a2 < a3)
  {
    v7 = a2;
    do
    {
      v9 = sub_10065D088(a1, v7);
      v3 = v3 + *v9;
      v4 = v4 + v9[1];
      v5 = v5 + v9[2];
      ++v7;
    }

    while (a3 != v7);
  }

  return v3;
}

float32x2_t *sub_10065D378(unsigned __int16 *a1, unint64_t a2, unint64_t a3)
{
  if (!a1[1])
  {
    sub_1018F50F8();
  }

  v19 = 1.0 / (a3 - a2);
  result = sub_10065D088(a1, a2);
  v8 = v19;
  v9 = *result;
  v10 = result[1].f32[0];
  v11 = vmul_n_f32(*result, v19);
  v12 = v19 * v10;
  v13 = a2 + 1;
  if (v13 < a3)
  {
    v14 = v13;
    do
    {
      result = sub_10065D088(a1, v14);
      v8 = v19;
      v11 = vadd_f32(v11, vmul_n_f32(*result, v19));
      v12 = v12 + (v19 * result[1].f32[0]);
      ++v14;
    }

    while (a3 != v14);
  }

  v15 = vsub_f32(v9, v11);
  *&v7 = vmul_n_f32(vmul_f32(v15, v15), v8);
  v16 = v8 * ((v10 - v12) * (v10 - v12));
  if (v13 < a3)
  {
    do
    {
      v18 = v7;
      result = sub_10065D088(a1, v13);
      *(&v7 + 1) = *(&v18 + 1);
      v17 = vsub_f32(*result, v11);
      *&v7 = vadd_f32(*&v18, vmul_n_f32(vmul_f32(v17, v17), v19));
      v16 = v16 + (v19 * ((result[1].f32[0] - v12) * (result[1].f32[0] - v12)));
      ++v13;
    }

    while (a3 != v13);
  }

  return result;
}

void sub_10065D4B8(void *a1, int a2, int a3, const char *a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint8_t buf)
{

  _os_log_impl(a1, v13, OS_LOG_TYPE_FAULT, a4, &buf, 2u);
}

void *sub_10065D4D8(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  sub_10065DB6C(v12, a3);
  sub_100175CD8(v11, a4);
  sub_10065DC84(v10, a5);
  sub_100CCCFF0(a1, a2, @"CLX", 0, 1, v12, v11, v10);
  sub_10065DD1C(v10);
  sub_100176170(v11);
  sub_10065DC04(v12);
  *a1 = off_102465F40;
  sub_10004FD18(a1 + 18);
  return a1;
}

uint64_t sub_10065D61C(void *a1)
{
  *a1 = off_102465F40;
  sub_100005DA4(a1 + 18);

  return sub_100CCD0B4(a1);
}

void sub_10065D670(void *a1)
{
  *a1 = off_102465F40;
  sub_100005DA4(a1 + 18);
  sub_100CCD0B4(a1);

  operator delete();
}

uint64_t sub_10065D6D8(uint64_t a1)
{
  if (qword_1025D4870 != -1)
  {
    sub_1018F5230();
  }

  v2 = qword_1025D4878;
  if (os_log_type_enabled(qword_1025D4878, OS_LOG_TYPE_DEFAULT))
  {
    v3 = [*(a1 + 16) UTF8String];
    v5 = 136446210;
    v6 = v3;
    _os_log_impl(dword_100000000, v2, OS_LOG_TYPE_DEFAULT, "#CLConfig,%{public}s,clearOutAssetData", &v5, 0xCu);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F5244(a1);
  }

  sub_10004FD18(&v5);
  sub_1004F9A30(a1 + 144, &v5);
  return sub_100005DA4(&v5);
}

void sub_10065D7EC(uint64_t a1)
{
  if (qword_1025D4870 != -1)
  {
    sub_1018F5230();
  }

  v2 = qword_1025D4878;
  if (os_log_type_enabled(qword_1025D4878, OS_LOG_TYPE_DEFAULT))
  {
    v3 = [*(a1 + 16) UTF8String];
    v4 = sub_1007AFD94(*(a1 + 128));
    v5 = sub_1007AFD4C(*(a1 + 128));
    *buf = 136446722;
    *&buf[4] = v3;
    *&buf[12] = 1026;
    *&buf[14] = v4;
    *&buf[18] = 1026;
    *&buf[20] = v5;
    _os_log_impl(dword_100000000, v2, OS_LOG_TYPE_DEFAULT, "#CLConfig,%{public}s,sending kNotificationClxSettings for asset,compatibilityVersion,%{public}d,contentVersion,%{public}d", buf, 0x18u);
  }

  if (sub_10000A100(121, 2))
  {
    sub_1018F5360(a1);
  }

  *(&v10.__r_.__value_.__s + 23) = 10;
  strcpy(&v10, "#CLConfig,");
  v6 = [*(a1 + 16) UTF8String];
  v7 = strlen(v6);
  v8 = std::string::append(&v10, v6, v7);
  v9 = *&v8->__r_.__value_.__l.__data_;
  *&buf[16] = *(&v8->__r_.__value_.__l + 2);
  *buf = v9;
  v8->__r_.__value_.__l.__size_ = 0;
  v8->__r_.__value_.__r.__words[2] = 0;
  v8->__r_.__value_.__r.__words[0] = 0;
  operator new();
}

void sub_10065DA64(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *a10, uint64_t a11, int a12, __int16 a13, char a14, char a15, void *a16, uint64_t a17, int a18, __int16 a19, char a20, char a21, uint64_t a22, void *__p, uint64_t a24, int a25, __int16 a26, char a27, char a28)
{
  operator delete(v28);
  if (a28 < 0)
  {
    operator delete(__p);
  }

  if (a21 < 0)
  {
    operator delete(a16);
  }

  _Unwind_Resume(a1);
}

uint64_t sub_10065DAD8(uint64_t a1)
{
  sub_100CCDED8(a1, @"settings.plist", a1 + 144);
  v2 = *(*a1 + 112);

  return v2(a1);
}

uint64_t sub_10065DB6C(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t sub_10065DC04(uint64_t a1)
{
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  return a1;
}

uint64_t sub_10065DC84(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t sub_10065DD1C(uint64_t a1)
{
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  return a1;
}

uint64_t sub_10065DD9C()
{
  if (qword_102658548 != -1)
  {
    sub_1018F54B0();
  }

  return qword_1026370D8;
}

int64x2_t *sub_10065DE3C(int64x2_t *a1)
{
  v3 = 0x500000000;
  v4 = 1;
  __p = 0;
  v6 = 0;
  v7 = 0;
  sub_100661DC0(a1, &v3);
  if (v6 < 0)
  {
    operator delete(__p);
  }

  a1->i64[0] = off_102466030;
  sub_100536F74(&a1[16].u64[1], "CLTimeZoneDatabase", 0, 1);
  (*(a1->i64[0] + 24))(a1);
  return a1;
}

void sub_10065DEFC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *__p, uint64_t a12, int a13, __int16 a14, char a15, char a16)
{
  sub_10053700C(v16 + 33);
  sub_100661F0C(v16);
  _Unwind_Resume(a1);
}

void *sub_10065DF38(void *a1)
{
  *a1 = off_102466030;
  sub_10053700C(a1 + 33);

  return sub_100661F0C(a1);
}

void sub_10065DF90(void *a1)
{
  *a1 = off_102466030;
  sub_10053700C(a1 + 33);
  sub_100661F0C(a1);

  operator delete();
}

uint64_t sub_10065DFFC(uint64_t a1)
{
  sub_100664124(a1);
  sub_10003848C(v21);
  sub_10061692C(a1 + 8, *(a1 + 176), *(a1 + 184));
  v2 = sub_100038730(&v22, "SELECT ", 7);
  v3 = strlen("ROWID");
  v4 = sub_100038730(v2, "ROWID", v3);
  v5 = sub_100038730(v4, ", ", 2);
  v6 = sub_100038730(v5, "Latitude", 8);
  v7 = sub_100038730(v6, ", ", 2);
  v8 = sub_100038730(v7, "Longitude", 9);
  v9 = sub_100038730(v8, " FROM ", 6);
  v10 = strlen("Names");
  v11 = sub_100038730(v9, "Names", v10);
  v12 = sub_100038730(v11, " WHERE ", 7);
  v13 = strlen("ZoneName");
  v14 = sub_100038730(v12, "ZoneName", v13);
  sub_100038730(v14, "=?", 2);
  sub_100073518(v21, &__p);
  if (v20 >= 0)
  {
    p_p = &__p;
  }

  else
  {
    p_p = __p;
  }

  *(a1 + 176) = sub_100614C1C(a1 + 8, p_p);
  *(a1 + 184) = v16;
  if (SHIBYTE(v20) < 0)
  {
    operator delete(__p);
  }

  __p = 0uLL;
  v20 = 0;
  sub_100619F14(&v23, &__p);
  if (SHIBYTE(v20) < 0)
  {
    operator delete(__p);
  }

  v22 = v17;
  if (v25 < 0)
  {
    operator delete(v24[7].__locale_);
  }

  std::locale::~locale(v24);
  std::iostream::~basic_iostream();
  return std::ios::~ios();
}

void sub_10065E2DC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14, char a15)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  std::ios::~ios();
  _Unwind_Resume(a1);
}

uint64_t sub_10065E324(uint64_t a1, uint64_t a2, uint64_t a3, double *a4)
{
  v8 = a1 + 264;
  v57 = a1 + 264;
  (*(*(a1 + 264) + 16))(a1 + 264);
  v58 = 256;
  v54 = 0;
  v55 = 0;
  v56 = 0;
  *a4 = 0.0;
  v53 = 0.0;
  if ((sub_100662028(a1, (a2 + 4), (a2 + 12), &v54) & 1) == 0)
  {
    if (qword_1025D48A0 != -1)
    {
      sub_1018F54C4();
    }

    v14 = qword_1025D48A8;
    if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_FAULT))
    {
      v15 = *(a2 + 4);
      v16 = *(a2 + 12);
      *buf = 134545921;
      v68 = v15;
      v69 = 2053;
      v70 = v16;
      _os_log_impl(dword_100000000, v14, OS_LOG_TYPE_FAULT, "Couldn't get time zone for point <%{sensitive}+.8f,%{sensitive}+.8f>", buf, 0x16u);
    }

    if (!sub_10000A100(121, 0))
    {
      goto LABEL_64;
    }

    sub_1018F54EC(buf);
    v17 = *(a2 + 4);
    v18 = *(a2 + 12);
    v59 = 134545921;
    v60 = v17;
    v61 = 2053;
    v62 = v18;
    v19 = _os_log_send_and_compose_impl();
    sub_100152C7C("Generic", 1, 0, 0, "BOOL CLTimeZoneDatabase::getTimeZoneAndDistance(const CLDaemonLocation &, std::string &, double &)", "%s\n", v19);
    goto LABEL_40;
  }

  if (v54 == v55)
  {
    __p = 0;
    v51 = 0;
    v52 = 0;
    v20 = *(a2 + 20);
    if (v20 > 20000.0)
    {
      v20 = 20000.0;
    }

    v49 = v20;
    buf[0] = 1;
    v21 = sub_10066205C(a1, (a2 + 4), (a2 + 12), &v49, &__p, buf);
    if (!v21 || (v22 = __p, v51 == __p))
    {
      sub_10065EDB8(v21, a2, a3, a4);
      if (qword_1025D48A0 != -1)
      {
        sub_1018F54C4();
      }

      v29 = qword_1025D48A8;
      if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
      {
        v30 = *(a2 + 4);
        v31 = *(a2 + 12);
        if (*(a3 + 23) >= 0)
        {
          v32 = a3;
        }

        else
        {
          v32 = *a3;
        }

        *buf = 134546179;
        v68 = v30;
        v69 = 2053;
        v70 = v31;
        v71 = 2080;
        v72 = v32;
        _os_log_impl(dword_100000000, v29, OS_LOG_TYPE_DEBUG, "Point <%{sensitive}+.8f,%{sensitive}+.8f> not in any time zone polygon; default time zone is %s, but we're not using it", buf, 0x20u);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F54EC(buf);
        v41 = *(a2 + 4);
        v42 = *(a2 + 12);
        v43 = *(a3 + 23) >= 0 ? a3 : *a3;
        v59 = 134546179;
        v60 = v41;
        v61 = 2053;
        v62 = v42;
        v63 = 2080;
        v64 = v43;
        v44 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 2, "BOOL CLTimeZoneDatabase::getTimeZoneAndDistance(const CLDaemonLocation &, std::string &, double &)", "%s\n", v44);
        if (v44 != buf)
        {
          free(v44);
        }
      }

      *a4 = 0.0;
      if (__p)
      {
        v51 = __p;
        operator delete(__p);
      }

      goto LABEL_64;
    }

    v23 = *__p;
    v53 = *__p;
    v24 = 1.79769313e308;
    do
    {
      v25 = v22[1];
      if (v25 < v24)
      {
        v23 = *v22;
        v53 = *v22;
        v24 = v25;
      }

      v22 += 2;
    }

    while (v22 != v51);
    if (v24 > 1000.0)
    {
      sub_10065EDB8(v21, a2, a3, a4);
      if (qword_1025D48A0 != -1)
      {
        sub_1018F54C4();
      }

      v33 = qword_1025D48A8;
      if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
      {
        v34 = *(a2 + 4);
        v35 = *(a2 + 12);
        if (*(a3 + 23) >= 0)
        {
          v36 = a3;
        }

        else
        {
          v36 = *a3;
        }

        *buf = 134546435;
        v68 = v34;
        v69 = 2053;
        v70 = v35;
        v71 = 2048;
        v72 = *&v24;
        v73 = 2080;
        v74 = v36;
        _os_log_impl(dword_100000000, v33, OS_LOG_TYPE_DEBUG, "Point <%{sensitive}+.8f,%{sensitive}+.8f> not in any time zone polygon; closest polygon is %f meters away; default time zone is %s, but we're not using it", buf, 0x2Au);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F54EC(buf);
        v45 = *(a2 + 4);
        v46 = *(a2 + 12);
        v47 = *(a3 + 23) >= 0 ? a3 : *a3;
        v59 = 134546435;
        v60 = v45;
        v61 = 2053;
        v62 = v46;
        v63 = 2048;
        v64 = *&v24;
        v65 = 2080;
        v66 = v47;
        v48 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 2, "BOOL CLTimeZoneDatabase::getTimeZoneAndDistance(const CLDaemonLocation &, std::string &, double &)", "%s\n", v48);
        if (v48 != buf)
        {
          free(v48);
        }
      }

      *a4 = 0.0;
    }

    else
    {
      if (qword_1025D48A0 != -1)
      {
        sub_1018F54C4();
      }

      v26 = qword_1025D48A8;
      if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEBUG))
      {
        *buf = 134218496;
        v68 = v23;
        v69 = 2048;
        v70 = v24;
        v71 = 2048;
        v72 = (v51 - __p) >> 4;
        _os_log_impl(dword_100000000, v26, OS_LOG_TYPE_DEBUG, "Not in any polygons; falling back to closest nearby time zone ID %lld (distance %f, %ld possibilities)", buf, 0x20u);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F54EC(buf);
        v59 = 134218496;
        v60 = v23;
        v61 = 2048;
        v62 = v24;
        v63 = 2048;
        v64 = (v51 - __p) >> 4;
        v27 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 2, "BOOL CLTimeZoneDatabase::getTimeZoneAndDistance(const CLDaemonLocation &, std::string &, double &)", "%s\n", v27);
        if (v27 != buf)
        {
          free(v27);
        }
      }
    }

    if (__p)
    {
      v51 = __p;
      operator delete(__p);
    }

    if (v24 > 1000.0)
    {
      goto LABEL_64;
    }
  }

  else
  {
    if ((v55 - v54) >= 0x11)
    {
      if (qword_1025D48A0 != -1)
      {
        sub_1018F54C4();
      }

      v9 = qword_1025D48A8;
      if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_DEFAULT))
      {
        v10 = *(a2 + 4);
        v11 = *(a2 + 12);
        *buf = 134545921;
        v68 = v10;
        v69 = 2053;
        v70 = v11;
        _os_log_impl(dword_100000000, v9, OS_LOG_TYPE_DEFAULT, "#Warning Point <%{sensitive}+.8f,%{sensitive}+.8f> in multiple time zone polygons", buf, 0x16u);
      }

      if (sub_10000A100(121, 2))
      {
        sub_1018F54EC(buf);
        v38 = *(a2 + 4);
        v39 = *(a2 + 12);
        v59 = 134545921;
        v60 = v38;
        v61 = 2053;
        v62 = v39;
        v40 = _os_log_send_and_compose_impl();
        sub_100152C7C("Generic", 1, 0, 2, "BOOL CLTimeZoneDatabase::getTimeZoneAndDistance(const CLDaemonLocation &, std::string &, double &)", "%s\n", v40);
        if (v40 != buf)
        {
          free(v40);
        }
      }
    }

    v12 = *(v54 + 1);
    v53 = *v54;
    *a4 = v12;
  }

  if (sub_1006631E4(a1, &v53, a3))
  {
    v13 = 1;
    goto LABEL_65;
  }

  if (qword_1025D48A0 != -1)
  {
    sub_1018F54C4();
  }

  v28 = qword_1025D48A8;
  if (os_log_type_enabled(qword_1025D48A8, OS_LOG_TYPE_FAULT))
  {
    *buf = 134349056;
    v68 = *&v53;
    _os_log_impl(dword_100000000, v28, OS_LOG_TYPE_FAULT, "Could not get time zone name for zone ID %{public}lld", buf, 0xCu);
  }

  if (sub_10000A100(121, 0))
  {
    sub_1018F54EC(buf);
    v59 = 134349056;
    v60 = *&v53;
    v19 = _os_log_send_and_compose_impl();
    sub_100152C7C("Generic", 1, 0, 0, "BOOL CLTimeZoneDatabase::getTimeZoneAndDistance(const CLDaemonLocation &, std::string &, double &)", "%s\n", v19);
LABEL_40:
    if (v19 != buf)
    {
      free(v19);
    }
  }

LABEL_64:
  v13 = 0;
LABEL_65:
  if (v54)
  {
    v55 = v54;
    operator delete(v54);
  }

  (*(*v8 + 24))(v8);
  return v13;
}

void sub_10065ED44(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, void *__p, uint64_t a14, uint64_t a15, uint64_t a16, void *a17, uint64_t a18, uint64_t a19, char a20)
{
  if (__p)
  {
    operator delete(__p);
  }

  if (a17)
  {
    operator delete(a17);
  }

  sub_1017EC98C(&a20);
  _Unwind_Resume(a1);
}

uint64_t sub_10065EDB8(uint64_t a1, uint64_t a2, uint64_t a3, double *a4)
{
  v7 = *(a2 + 12);
  sub_10003848C(v15);
  v8 = sub_100038730(&v16, "Etc/GMT", 7);
  if (vcvtmd_s64_f64((v7 + 7.5) / 15.0) >= 1)
  {
    v9 = "-";
  }

  else
  {
    v9 = "+";
  }

  sub_100038730(v8, v9, 1);
  std::ostream::operator<<();
  sub_100073518(v15, &v13);
  if (*(a3 + 23) < 0)
  {
    operator delete(*a3);
  }

  *a3 = v13;
  *(a3 + 16) = v14;
  v10 = *(a2 + 12) + 7.5 - floor((*(a2 + 12) + 7.5) / 15.0) * 15.0;
  if (v10 > 15.0 - v10)
  {
    v10 = 15.0 - v10;
  }

  *a4 = v10;
  v16 = v11;
  if (v19 < 0)
  {
    operator delete(v18[7].__locale_);
  }

  std::locale::~locale(v18);
  std::iostream::~basic_iostream();
  std::ios::~ios();
  return 1;
}

void sub_10065EFEC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, ...)
{
  va_start(va, a4);
  std::ios::~ios();
  _Unwind_Resume(a1);
}

uint64_t sub_10065F0FC()
{
  result = sub_100023B30();
  if ((result & 0x20) != 0)
  {
    operator new();
  }

  return result;
}

uint64_t sub_10065F16C()
{
  if (qword_102658550 != -1)
  {
    sub_1018F5580();
  }

  return qword_1026370E0;
}

uint64_t sub_10065F1A8(uint64_t a1)
{
  v2 = sub_100724228(a1, 8);
  *v2 = off_1024660B8;
  v3 = v2 + 36;
  *(a1 + 36) = sub_10071CB7C();
  v6 = 1;
  sub_100126E84((a1 + 37), "EnableVisualLocalization", &v6, 0);
  sub_100126E84(v5, "AlwaysOnDeviceMotion10", v3, 0);
  *(a1 + 36) = v5[1];
  sub_1007242AC(a1);
  return a1;
}

void sub_10065F26C(void *a1)
{
  sub_100724250(a1);

  operator delete();
}

uint64_t sub_10065F2A4(uint64_t a1)
{
  if ((sub_100023B30() & 0x20) != 0)
  {
    v2 = *(a1 + 36);
  }

  else
  {
    v2 = 0;
  }

  return v2 & 1;
}

uint64_t sub_10065F2DC(uint64_t a1)
{
  if ((sub_100023B30() & 0x20) != 0)
  {
    v2 = *(a1 + 38);
  }

  else
  {
    v2 = 0;
  }

  return v2 & 1;
}

uint64_t sub_10065FA64(uint64_t a1, void *a2)
{
  v4 = [a2 position];
  if (v4 < [a2 length])
  {
    do
    {
      if ([a2 hasError])
      {
        return [a2 hasError] ^ 1;
      }

      v5 = 0;
      v6 = 0;
      v7 = 0;
      while (1)
      {
        LOBYTE(v62) = 0;
        v8 = [a2 position] + 1;
        if (v8 >= [a2 position] && (v9 = objc_msgSend(a2, "position") + 1, v9 <= objc_msgSend(a2, "length")))
        {
          [objc_msgSend(a2 "data")];
          [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
        }

        else
        {
          [a2 _setError];
        }

        v7 |= (v62 & 0x7F) << v5;
        if ((v62 & 0x80) == 0)
        {
          break;
        }

        v5 += 7;
        v10 = v6++ >= 9;
        if (v10)
        {
          v11 = 0;
          goto LABEL_15;
        }
      }

      v11 = [a2 hasError] ? 0 : v7;
LABEL_15:
      if (([a2 hasError] & 1) != 0 || (v11 & 7) == 4)
      {
        return [a2 hasError] ^ 1;
      }

      v12 = v11 >> 3;
      if ((v11 >> 3) <= 5)
      {
        if (v12 > 2)
        {
          switch(v12)
          {
            case 3:
              v45 = 0;
              v46 = 0;
              v47 = 0;
              *(a1 + 72) |= 0x10u;
              while (1)
              {
                LOBYTE(v62) = 0;
                v48 = [a2 position] + 1;
                if (v48 >= [a2 position] && (v49 = objc_msgSend(a2, "position") + 1, v49 <= objc_msgSend(a2, "length")))
                {
                  [objc_msgSend(a2 "data")];
                  [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
                }

                else
                {
                  [a2 _setError];
                }

                v47 |= (v62 & 0x7F) << v45;
                if ((v62 & 0x80) == 0)
                {
                  break;
                }

                v45 += 7;
                v10 = v46++ >= 9;
                if (v10)
                {
                  v18 = 0;
                  goto LABEL_121;
                }
              }

              if ([a2 hasError])
              {
                v18 = 0;
              }

              else
              {
                v18 = v47;
              }

LABEL_121:
              v58 = 36;
              break;
            case 4:
              v33 = 0;
              v34 = 0;
              v35 = 0;
              *(a1 + 72) |= 0x100u;
              while (1)
              {
                LOBYTE(v62) = 0;
                v36 = [a2 position] + 1;
                if (v36 >= [a2 position] && (v37 = objc_msgSend(a2, "position") + 1, v37 <= objc_msgSend(a2, "length")))
                {
                  [objc_msgSend(a2 "data")];
                  [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
                }

                else
                {
                  [a2 _setError];
                }

                v35 |= (v62 & 0x7F) << v33;
                if ((v62 & 0x80) == 0)
                {
                  break;
                }

                v33 += 7;
                v10 = v34++ >= 9;
                if (v10)
                {
                  v18 = 0;
                  goto LABEL_113;
                }
              }

              if ([a2 hasError])
              {
                v18 = 0;
              }

              else
              {
                v18 = v35;
              }

LABEL_113:
              v58 = 64;
              break;
            case 5:
              *(a1 + 72) |= 1u;
              v62 = 0;
              v19 = [a2 position] + 8;
              if (v19 >= [a2 position] && (v20 = objc_msgSend(a2, "position") + 8, v20 <= objc_msgSend(a2, "length")))
              {
                [objc_msgSend(a2 "data")];
                [a2 setPosition:{objc_msgSend(a2, "position") + 8}];
              }

              else
              {
                [a2 _setError];
              }

              v59 = v62;
              v60 = 8;
              goto LABEL_139;
            default:
              goto LABEL_104;
          }

          goto LABEL_132;
        }

        if (v12 != 1)
        {
          if (v12 != 2)
          {
LABEL_104:
            result = PBReaderSkipValueWithTag();
            if (!result)
            {
              return result;
            }

            goto LABEL_140;
          }

          v27 = 0;
          v28 = 0;
          v29 = 0;
          *(a1 + 72) |= 8u;
          while (1)
          {
            LOBYTE(v62) = 0;
            v30 = [a2 position] + 1;
            if (v30 >= [a2 position] && (v31 = objc_msgSend(a2, "position") + 1, v31 <= objc_msgSend(a2, "length")))
            {
              [objc_msgSend(a2 "data")];
              [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
            }

            else
            {
              [a2 _setError];
            }

            v29 |= (v62 & 0x7F) << v27;
            if ((v62 & 0x80) == 0)
            {
              break;
            }

            v27 += 7;
            v10 = v28++ >= 9;
            if (v10)
            {
              v18 = 0;
              goto LABEL_109;
            }
          }

          if ([a2 hasError])
          {
            v18 = 0;
          }

          else
          {
            v18 = v29;
          }

LABEL_109:
          v58 = 32;
          goto LABEL_132;
        }

        String = PBReaderReadString();

        *(a1 + 56) = String;
      }

      else
      {
        if (v12 <= 8)
        {
          if (v12 == 6)
          {
            *(a1 + 72) |= 2u;
            v62 = 0;
            v50 = [a2 position] + 8;
            if (v50 >= [a2 position] && (v51 = objc_msgSend(a2, "position") + 8, v51 <= objc_msgSend(a2, "length")))
            {
              [objc_msgSend(a2 "data")];
              [a2 setPosition:{objc_msgSend(a2, "position") + 8}];
            }

            else
            {
              [a2 _setError];
            }

            v59 = v62;
            v60 = 16;
            goto LABEL_139;
          }

          if (v12 == 7)
          {
            *(a1 + 72) |= 4u;
            v62 = 0;
            v38 = [a2 position] + 8;
            if (v38 >= [a2 position] && (v39 = objc_msgSend(a2, "position") + 8, v39 <= objc_msgSend(a2, "length")))
            {
              [objc_msgSend(a2 "data")];
              [a2 setPosition:{objc_msgSend(a2, "position") + 8}];
            }

            else
            {
              [a2 _setError];
            }

            v59 = v62;
            v60 = 24;
LABEL_139:
            *(a1 + v60) = v59;
            goto LABEL_140;
          }

          if (v12 != 8)
          {
            goto LABEL_104;
          }

          v13 = 0;
          v14 = 0;
          v15 = 0;
          *(a1 + 72) |= 0x20u;
          while (1)
          {
            LOBYTE(v62) = 0;
            v16 = [a2 position] + 1;
            if (v16 >= [a2 position] && (v17 = objc_msgSend(a2, "position") + 1, v17 <= objc_msgSend(a2, "length")))
            {
              [objc_msgSend(a2 "data")];
              [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
            }

            else
            {
              [a2 _setError];
            }

            v15 |= (v62 & 0x7F) << v13;
            if ((v62 & 0x80) == 0)
            {
              break;
            }

            v13 += 7;
            v10 = v14++ >= 9;
            if (v10)
            {
              v18 = 0;
              goto LABEL_125;
            }
          }

          if ([a2 hasError])
          {
            v18 = 0;
          }

          else
          {
            v18 = v15;
          }

LABEL_125:
          v58 = 40;
          goto LABEL_132;
        }

        if (v12 == 9)
        {
          v52 = 0;
          v53 = 0;
          v54 = 0;
          *(a1 + 72) |= 0x80u;
          while (1)
          {
            LOBYTE(v62) = 0;
            v55 = [a2 position] + 1;
            if (v55 >= [a2 position] && (v56 = objc_msgSend(a2, "position") + 1, v56 <= objc_msgSend(a2, "length")))
            {
              [objc_msgSend(a2 "data")];
              [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
            }

            else
            {
              [a2 _setError];
            }

            v54 |= (v62 & 0x7F) << v52;
            if ((v62 & 0x80) == 0)
            {
              break;
            }

            v52 += 7;
            v10 = v53++ >= 9;
            if (v10)
            {
              v18 = 0;
              goto LABEL_131;
            }
          }

          if ([a2 hasError])
          {
            v18 = 0;
          }

          else
          {
            v18 = v54;
          }

LABEL_131:
          v58 = 48;
          goto LABEL_132;
        }

        if (v12 == 10)
        {
          v40 = 0;
          v41 = 0;
          v42 = 0;
          *(a1 + 72) |= 0x40u;
          while (1)
          {
            LOBYTE(v62) = 0;
            v43 = [a2 position] + 1;
            if (v43 >= [a2 position] && (v44 = objc_msgSend(a2, "position") + 1, v44 <= objc_msgSend(a2, "length")))
            {
              [objc_msgSend(a2 "data")];
              [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
            }

            else
            {
              [a2 _setError];
            }

            v42 |= (v62 & 0x7F) << v40;
            if ((v62 & 0x80) == 0)
            {
              break;
            }

            v40 += 7;
            v10 = v41++ >= 9;
            if (v10)
            {
              v18 = 0;
              goto LABEL_117;
            }
          }

          if ([a2 hasError])
          {
            v18 = 0;
          }

          else
          {
            v18 = v42;
          }

LABEL_117:
          v58 = 44;
LABEL_132:
          *(a1 + v58) = v18;
          goto LABEL_140;
        }

        if (v12 != 11)
        {
          goto LABEL_104;
        }

        v21 = 0;
        v22 = 0;
        v23 = 0;
        *(a1 + 72) |= 0x200u;
        while (1)
        {
          LOBYTE(v62) = 0;
          v24 = [a2 position] + 1;
          if (v24 >= [a2 position] && (v25 = objc_msgSend(a2, "position") + 1, v25 <= objc_msgSend(a2, "length")))
          {
            [objc_msgSend(a2 "data")];
            [a2 setPosition:{objc_msgSend(a2, "position") + 1}];
          }

          else
          {
            [a2 _setError];
          }

          v23 |= (v62 & 0x7F) << v21;
          if ((v62 & 0x80) == 0)
          {
            break;
          }

          v21 += 7;
          v10 = v22++ >= 9;
          if (v10)
          {
            LOBYTE(v26) = 0;
            goto LABEL_127;
          }
        }

        v26 = (v23 != 0) & ~[a2 hasError];
LABEL_127:
        *(a1 + 68) = v26;
      }

LABEL_140:
      v61 = [a2 position];
    }

    while (v61 < [a2 length]);
  }

  return [a2 hasError] ^ 1;
}

void sub_100661204(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  v4 = 0;
  *a2 = 0u;
  *(a2 + 16) = 0u;
  *(a2 + 32) = 1065353216;
  v5 = a1 + 1;
  do
  {
    while (1)
    {
      v12 = *(a1 + v4);
      memset(&__str, 0, sizeof(__str));
      v6 = (v5 + v4);
      for (v4 += 2; ; ++v4)
      {
        v8 = *v6++;
        v7 = v8;
        if (!v8)
        {
          break;
        }

        std::string::push_back(&__str, v7);
      }

      v13 = &v12;
      v9 = sub_100661A5C(a2, &v12);
      std::string::operator=(v9 + 1, &__str);
      v10 = *(a1 + v4);
      if (SHIBYTE(__str.__r_.__value_.__r.__words[2]) < 0)
      {
        break;
      }

      if (!*(a1 + v4))
      {
        return;
      }
    }

    operator delete(__str.__r_.__value_.__l.__data_);
  }

  while (v10);
}

void sub_1006612E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  sub_100103B14(v15);
  _Unwind_Resume(a1);
}

NSString *sub_100661310(void *a1)
{
  sub_100661690([a1 appleManufacturerData], v33);
  v2 = [objc_msgSend(a1 "identifier")];
  sub_1006617A8([a1 addressData], &v32);
  if ((v32.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    v3 = &v32;
  }

  else
  {
    v3 = v32.__r_.__value_.__r.__words[0];
  }

  sub_1006617A8([a1 appleManufacturerData], &v31);
  if ((v31.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    v4 = &v31;
  }

  else
  {
    v4 = v31.__r_.__value_.__r.__words[0];
  }

  v5 = [a1 rawRSSI];
  v6 = v35;
  if (v34 >= 0)
  {
    v7 = v33;
  }

  else
  {
    v7 = v33[0];
  }

  v8 = [a1 nearbyActivityLevel];
  if (v8 > 0xE)
  {
    v9 = "?";
  }

  else
  {
    v9 = off_1024660F8[v8];
  }

  sub_1006618B0([a1 nearbyActionType], qword_102637110, &v30);
  if ((v30.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    v10 = &v30;
  }

  else
  {
    v10 = v30.__r_.__value_.__r.__words[0];
  }

  v26 = v10;
  v11 = &v29;
  sub_1006618B0([a1 nearbyFlags], qword_102637138, &v29);
  v23 = v9;
  v24 = v7;
  v25 = v5;
  if ((v29.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
  {
    v11 = v29.__r_.__value_.__r.__words[0];
  }

  v12 = &v28;
  sub_1006618B0([a1 scanFlags], qword_102637160, &v28);
  v13 = v4;
  v14 = v3;
  if ((v28.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
  {
    v12 = v28.__r_.__value_.__r.__words[0];
  }

  v15 = [a1 objectDiscoveryMode];
  v16 = v2;
  if (v15 > 2)
  {
    v17 = "?";
  }

  else
  {
    v17 = off_102466170[v15];
  }

  p_p = &__p;
  sub_1006618B0([a1 objectSetupFlags], qword_102637188, &__p);
  if ((__p.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
  {
    p_p = __p.__r_.__value_.__r.__words[0];
  }

  v19 = [a1 proximityPairingSubType];
  if (v19 > 5)
  {
    v20 = "?";
  }

  else
  {
    v20 = off_102466188[v19];
  }

  v21 = [NSString stringWithFormat:@"%s, %s, %s, %d, %u, %s, %s, %s, %s, %s, %s, %s, %s", v16, v14, v13, v25, v6, v24, v23, v26, v11, v12, v17, p_p, v20];
  if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(__p.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v28.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v28.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v29.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v29.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v30.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v30.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v31.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v31.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v32.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v32.__r_.__value_.__l.__data_);
  }

  if (v34 < 0)
  {
    operator delete(v33[0]);
  }

  return v21;
}

void sub_1006615D8(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, void *a26, uint64_t a27, int a28, __int16 a29, char a30, char a31, void *__p, uint64_t a33, int a34, __int16 a35, char a36, char a37, void *a38, uint64_t a39, int a40, __int16 a41, char a42, char a43)
{
  if (a37 < 0)
  {
    operator delete(__p);
  }

  if (a43 < 0)
  {
    operator delete(a38);
  }

  if (*(v43 - 169) < 0)
  {
    operator delete(*(v43 - 192));
  }

  if (*(v43 - 145) < 0)
  {
    operator delete(*(v43 - 168));
  }

  if (*(v43 - 121) < 0)
  {
    operator delete(*(v43 - 144));
  }

  if (*(v43 - 97) < 0)
  {
    operator delete(*(v43 - 120));
  }

  _Unwind_Resume(exception_object);
}

_BYTE *sub_100661690@<X0>(_BYTE *result@<X0>, void *a2@<X8>)
{
  if (result && (v3 = result, result = [result length], result > 2) && (result = objc_msgSend(v3, "bytes"), *result == 76) && !result[1])
  {
    v4 = result[2];
    if (v4 > 0x12)
    {
      v5 = "?";
    }

    else
    {
      v5 = off_1024661B8[v4];
    }

    result = strlen(v5);
    if (result >= 0x7FFFFFFFFFFFFFF8)
    {
      sub_100061080();
    }

    v6 = result;
    if (result >= 0x17)
    {
      operator new();
    }

    *(a2 + 23) = result;
    if (result)
    {
      result = memcpy(a2, v5, result);
    }

    v6[a2] = 0;
  }

  else
  {
    LOBYTE(v4) = 0;
    *a2 = 0;
    a2[1] = 0;
    a2[2] = 0;
  }

  *(a2 + 24) = v4;
  return result;
}

id sub_1006617A8@<X0>(id result@<X0>, std::string *a2@<X8>)
{
  a2->__r_.__value_.__r.__words[0] = 0;
  a2->__r_.__value_.__l.__size_ = 0;
  a2->__r_.__value_.__r.__words[2] = 0;
  if (result)
  {
    v2 = result;
    result = [result length];
    if (result)
    {
      result = [v2 bytes];
      if (result)
      {
        std::string::resize(a2, 2 * [v2 length], 0);
        v4 = [v2 bytes];
        v5 = 0;
        for (i = 0; ; ++i)
        {
          result = [v2 length];
          if (result <= i)
          {
            break;
          }

          v7 = SHIBYTE(a2->__r_.__value_.__r.__words[2]);
          v8 = a2->__r_.__value_.__r.__words[0];
          v9 = [v2 length];
          if (v7 >= 0)
          {
            v10 = a2;
          }

          else
          {
            v10 = v8;
          }

          snprintf(&v10[v5], 2 * v9, "%02x", v4[i]);
          v5 += 2;
        }
      }
    }
  }

  return result;
}

void sub_10066188C(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

void *sub_1006618B0@<X0>(void *result@<X0>, void *a2@<X1>, std::string *a3@<X8>)
{
  v4 = result;
  v5 = a3;
  a3->__r_.__value_.__r.__words[0] = 0;
  a3->__r_.__value_.__l.__size_ = 0;
  a3->__r_.__value_.__r.__words[2] = 0;
  if (!result)
  {
    v27 = 0;
    result = sub_1002D9048(a2, &v27);
    if (result)
    {
      v26 = 0;
      v6 = sub_1002D9048(a2, &v26);
      if (!v6)
      {
        sub_1000432E8("unordered_map::at: key not found");
      }

      v9 = v6[3];
      v7 = v6 + 3;
      v8 = v9;
      v10 = *(v7 + 23);
      if (v10 >= 0)
      {
        v11 = v7;
      }

      else
      {
        v11 = v8;
      }

      if (v10 >= 0)
      {
        v12 = *(v7 + 23);
      }

      else
      {
        v12 = v7[1];
      }

      std::string::append(v5, v11, v12);
      result = std::string::append(v5, ";", 1uLL);
    }
  }

  for (i = 0; i != 32; ++i)
  {
    if ((v4 >> i))
    {
      v25 = i;
      result = sub_1002D9048(a2, &v25);
      if (result)
      {
        v24 = i;
        v14 = sub_1002D9048(a2, &v24);
        if (!v14)
        {
          sub_1000432E8("unordered_map::at: key not found");
        }

        v17 = v14[3];
        v15 = v14 + 3;
        v16 = v17;
        v18 = *(v15 + 23);
        if (v18 >= 0)
        {
          v19 = v15;
        }

        else
        {
          v19 = v16;
        }

        if (v18 >= 0)
        {
          v20 = *(v15 + 23);
        }

        else
        {
          v20 = v15[1];
        }

        std::string::append(v5, v19, v20);
        result = std::string::append(v5, ";", 1uLL);
      }
    }
  }

  v21 = SHIBYTE(v5->__r_.__value_.__r.__words[2]);
  if (v21 < 0)
  {
    size = v5->__r_.__value_.__l.__size_;
    if (!size)
    {
      return result;
    }

    v22 = size - 1;
    v5->__r_.__value_.__l.__size_ = v22;
    v5 = v5->__r_.__value_.__r.__words[0];
  }

  else
  {
    if (!*(&v5->__r_.__value_.__s + 23))
    {
      return result;
    }

    v22 = v21 - 1;
    *(&v5->__r_.__value_.__s + 23) = v22;
  }

  v5->__r_.__value_.__s.__data_[v22] = 0;
  return result;
}

void sub_100661A28(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

uint64_t **sub_100661A5C(void *a1, char *a2)
{
  v2 = *a2;
  v3 = a1[1];
  if (!*&v3)
  {
    goto LABEL_18;
  }

  v4 = vcnt_s8(v3);
  v4.i16[0] = vaddlv_u8(v4);
  if (v4.u32[0] > 1uLL)
  {
    v5 = *a2;
    if (*&v3 <= v2)
    {
      v5 = v2 % *&v3;
    }
  }

  else
  {
    v5 = (*&v3 - 1) & v2;
  }

  v6 = *(*a1 + 8 * v5);
  if (!v6 || (v7 = *v6) == 0)
  {
LABEL_18:
    operator new();
  }

  while (1)
  {
    v8 = v7[1];
    if (v8 == v2)
    {
      break;
    }

    if (v4.u32[0] > 1uLL)
    {
      if (v8 >= *&v3)
      {
        v8 %= *&v3;
      }
    }

    else
    {
      v8 &= *&v3 - 1;
    }

    if (v8 != v5)
    {
      goto LABEL_18;
    }

LABEL_17:
    v7 = *v7;
    if (!v7)
    {
      goto LABEL_18;
    }
  }

  if (*(v7 + 16) != v2)
  {
    goto LABEL_17;
  }

  return v7;
}

uint64_t sub_100661CB0()
{
  sub_100661204(&unk_101C82ADF, &unk_1026370E8);
  __cxa_atexit(sub_10066130C, &unk_1026370E8, dword_100000000);
  sub_100661204(&unk_101C82B03, &unk_102637110);
  __cxa_atexit(sub_10066130C, &unk_102637110, dword_100000000);
  sub_100661204(&unk_101C82B2C, &unk_102637138);
  __cxa_atexit(sub_10066130C, &unk_102637138, dword_100000000);
  sub_100661204(&unk_101C82BA4, &unk_102637160);
  __cxa_atexit(sub_10066130C, &unk_102637160, dword_100000000);
  sub_100661204("\aNFC", &unk_102637188);

  return __cxa_atexit(sub_10066130C, &unk_102637188, dword_100000000);
}

uint64_t sub_100661DC0(int64x2_t *a1, uint64_t a2)
{
  a1->i64[0] = off_1024662D8;
  v4 = a1 + 9;
  sub_1006062D8(&a1->u64[1], a2);
  sub_100DD42E4(v4, 0, 0);
  sub_100DD42E4(a1[10].i64, 0, 0);
  sub_100DD42E4(a1[11].i64, 0, 0);
  sub_100DD42E4(a1[12].i64, 0, 0);
  sub_100DD42E4(a1[13].i64, 0, 0);
  a1[14] = vdupq_n_s64(0x7FF8000000000000uLL);
  a1[15].i64[0] = a1[15].i64;
  a1[15].i64[1] = a1[15].i64;
  a1[16].i64[0] = 0;
  if (*(a2 + 8))
  {
    (*(a1->i64[0] + 24))(a1);
    return a1;
  }

  else
  {
    sub_1018F55C0();
    result = abort_report_np();
    __break(1u);
  }

  return result;
}