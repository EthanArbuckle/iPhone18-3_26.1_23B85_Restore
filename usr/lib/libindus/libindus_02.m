uint64_t std::__function::__value_func<void ()(gnss::DecodedExtendedEphemeris &&)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v5 = *MEMORY[0x29EDCA608];
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  v3 = *MEMORY[0x29EDCA608];
  return a1;
}

uint64_t std::__function::__value_func<void ()(gnss::DecodedRti &&)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v5 = *MEMORY[0x29EDCA608];
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  v3 = *MEMORY[0x29EDCA608];
  return a1;
}

uint64_t std::__function::__value_func<void ()(std::vector<std::string> &&)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v5 = *MEMORY[0x29EDCA608];
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  v3 = *MEMORY[0x29EDCA608];
  return a1;
}

uint64_t std::__function::__value_func<void ()(gnss::Result,gnss::TimeTransferData)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v5 = *MEMORY[0x29EDCA608];
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  v3 = *MEMORY[0x29EDCA608];
  return a1;
}

uint64_t std::__function::__value_func<void ()(std::unique_ptr<gnss::PwrMeasurement>)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v5 = *MEMORY[0x29EDCA608];
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  v3 = *MEMORY[0x29EDCA608];
  return a1;
}

void *std::__function::__value_func<void ()(gnss::Result)>::swap[abi:ne200100](void *result, void *a2)
{
  v6[3] = *MEMORY[0x29EDCA608];
  if (a2 != result)
  {
    v3 = result;
    result = result[3];
    v4 = a2[3];
    if (result == v3)
    {
      if (v4 == a2)
      {
        (*(*result + 24))(result, v6);
        (*(*v3[3] + 32))(v3[3]);
        v3[3] = 0;
        (*(*a2[3] + 24))(a2[3], v3);
        (*(*a2[3] + 32))(a2[3]);
        a2[3] = 0;
        v3[3] = v3;
        (*(v6[0] + 24))(v6, a2);
        result = (*(v6[0] + 32))(v6);
      }

      else
      {
        (*(*result + 24))(result, a2);
        result = (*(*v3[3] + 32))(v3[3]);
        v3[3] = a2[3];
      }

      a2[3] = a2;
    }

    else if (v4 == a2)
    {
      (*(*v4 + 24))(a2[3], v3);
      result = (*(*a2[3] + 32))(a2[3]);
      a2[3] = v3[3];
      v3[3] = v3;
    }

    else
    {
      v3[3] = v4;
      a2[3] = result;
    }
  }

  v5 = *MEMORY[0x29EDCA608];
  return result;
}

void sub_298F30454(_Unwind_Exception *a1, int a2)
{
  if (!a2)
  {
    _Unwind_Resume(a1);
  }

  __clang_call_terminate(a1);
}

void std::__fill_n_BOOL[abi:ne200100]<false,std::__bitset<1ul,8ul>>(uint64_t a1, unint64_t a2)
{
  v2 = a2;
  v10 = *MEMORY[0x29EDCA608];
  v4 = *(a1 + 8);
  v5 = *a1;
  if (v4)
  {
    if ((64 - v4) >= a2)
    {
      v6 = a2;
    }

    else
    {
      v6 = (64 - v4);
    }

    *v5++ &= ~((0xFFFFFFFFFFFFFFFFLL >> (64 - v4 - v6)) & (-1 << v4));
    v2 = a2 - v6;
    *a1 = v5;
  }

  v7 = v2 >> 6;
  if (v2 >= 0x40)
  {
    bzero(v5, 8 * v7);
  }

  if ((v2 & 0x3F) != 0)
  {
    v8 = &v5[v7];
    *a1 = v8;
    *v8 &= ~(0xFFFFFFFFFFFFFFFFLL >> -(v2 & 0x3F));
  }

  v9 = *MEMORY[0x29EDCA608];
}

uint64_t KFSt_Meas_Update(unsigned int a1, unsigned int a2, double *a3, double *a4, _WORD *a5, double a6)
{
  v19[33] = *MEMORY[0x29EDCA608];
  if (*(a3 + 1) >= 1 && (*(a3 + 16) = 0, *a3 == 1))
  {
    v9 = a3[4];
    v10 = a6 - a3[3];
    memset(v16, 0, sizeof(v16));
    v15 = 0.0;
    a3[6] = v10;
    v17 = 0;
    *(v16 + a1) = 0x3FF0000000000000;
    *(v16 + a2) = v10;
    umeas(a4, a2, v9, v16, v19, v18, &v15, a3[7]);
    v11 = v15;
    if (v15 <= 0.0)
    {
      v12 = 0;
      *a3 = 0;
      *(a3 + 16) = 1;
      ++*a5;
    }

    else
    {
      v11 = a3[4] * (v15 * (v19[a2] * v19[a2]));
      v12 = *a3;
    }

    a3[8] = v11;
  }

  else
  {
    v12 = 0;
  }

  v13 = *MEMORY[0x29EDCA608];
  return v12 & 1;
}

uint64_t Taylor_sin_cos(uint64_t result, int *a2, int *a3)
{
  v16 = *MEMORY[0x29EDCA608];
  if (result < 1)
  {
    if (result >= -51472)
    {
      v12 = (1029 - result) / 0x80Bu;
      v13 = g_Table_sinQ15[v12];
      v9 = g_Table_sinQ15[25 - v12];
      v6 = result + ((16471 * v12) >> 3);
      v4 = -v13;
      goto LABEL_9;
    }

    v7 = (result + 103973) / 2059;
    v8 = g_Table_sinQ15[v7];
    v5 = g_Table_sinQ15[25 - v7];
    v6 = result + 103973 - ((16471 * v7) >> 3) - 1029;
    v4 = -v8;
  }

  else
  {
    if (result <= 0xC910)
    {
      v10 = (result + 1029) / 0x80Bu;
      v4 = g_Table_sinQ15[v10];
      v11 = 16471 * v10;
      v9 = g_Table_sinQ15[25 - v10];
      v6 = result - (v11 >> 3);
      goto LABEL_9;
    }

    v3 = (103973 - result) / 2059;
    v4 = g_Table_sinQ15[v3];
    v5 = g_Table_sinQ15[25 - v3];
    v6 = result + ((16471 * v3) >> 3) - 102944;
  }

  v9 = -v5;
LABEL_9:
  v14 = (v6 * v6) >> 16;
  *a2 = v4 + ((v6 * v9 - v14 * v4) >> 15);
  *a3 = v9 - ((v6 * v4 + v14 * v9) >> 15);
  v15 = *MEMORY[0x29EDCA608];
  return result;
}

BOOL HswUtil_AddNmeaCS(char *a1, unsigned int a2, unsigned __int16 *a3)
{
  v13 = *MEMORY[0x29EDCA608];
  v4 = *a3;
  v5 = v4 + 4;
  if (v4 + 4 <= a2)
  {
    if (v4 < 2)
    {
      v7 = 0;
    }

    else
    {
      LOBYTE(v7) = 0;
      v8 = v4 - 1;
      v9 = a1 + 1;
      do
      {
        v10 = *v9++;
        LOBYTE(v7) = v10 ^ v7;
        --v8;
      }

      while (v8);
      v7 = v7;
    }

    snprintf(&a1[v4], a2 - v4, "*%02x\n", v7);
    *a3 += 4;
  }

  result = v5 <= a2;
  v12 = *MEMORY[0x29EDCA608];
  return result;
}

void Pre_Positioning(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  v11 = MEMORY[0x2A1C7C4A8](a1);
  v381 = v13;
  v15 = v14;
  v17 = v16;
  v403 = v18;
  v20 = v19;
  v21 = v11;
  v447 = *MEMORY[0x29EDCA608];
  *(v19 + 332) = 0;
  v398 = *(v11 + 6);
  v22 = *(v11 + 16);
  v423[2] = *(v11 + 24);
  v23 = *(v11 + 40);
  v390 = v24;
  v25 = *v24;
  *v11 = *(v16 + 18);
  *(v11 + 6) = *(v16 + 62);
  *(v19 + 324) = *(v16 + 56);
  *(v19 + 208) = *(v16 + 32);
  *(v19 + 128) = *(v16 + 48);
  *(v19 + 328) = *(v16 + 204);
  *v19 = *(v16 + 224);
  *(v19 + 8) = *(v16 + 232);
  v26 = *(v16 + 240);
  *(v19 + 16) = v26;
  *(v19 + 24) = v26 - *(v16 + 248);
  v27 = *(v16 + 80);
  *(v11 + 40) = *(v16 + 96);
  *(v11 + 24) = v27;
  v28 = *(v16 + 120);
  *(v19 + 32) = *(v16 + 104);
  *(v19 + 48) = v28;
  *(v19 + 136) = *(v16 + 256);
  v30 = *(v16 + 288);
  v29 = *(v16 + 304);
  v31 = *(v16 + 320);
  *(v19 + 152) = *(v16 + 272);
  *(v19 + 200) = v31;
  *(v19 + 184) = v29;
  *(v19 + 168) = v30;
  v32 = *(v16 + 336);
  *(v19 + 72) = *(v16 + 352);
  *(v19 + 56) = v32;
  v33 = *(v16 + 152);
  *(v19 + 96) = v33;
  v34 = v19 + 96;
  v424[0] = v23;
  v393 = v12;
  *&__src[0] = 0;
  *(v19 + 80) = *(v16 + 360);
  *(v19 + 88) = *(v16 + 992);
  v35 = *(v16 + 160);
  *(v19 + 112) = v35;
  v36 = (v19 + 112);
  v37 = *(v16 + 168);
  *(v19 + 120) = v37;
  v38 = (v19 + 120);
  *(v19 + 104) = *(v16 + 184);
  v39 = 0.0;
  v40 = 0.0;
  if (*(v12 + 17192) == 1)
  {
    v40 = vcvtd_n_f64_s32(-*(v12 + 17132), 0x1EuLL);
  }

  if (*(v12 + 47496) >= 1)
  {
    v39 = *(v12 + 47512) * 0.000000001;
  }

  v378 = v12 + 47496;
  *&__b[0] = 0;
  if (R8_EQ(v34, __b))
  {
    *&__b[0] = 0;
    if (R8_EQ(v36, __b))
    {
      *&__b[0] = 0;
      v41 = 0.0;
      if (R8_EQ(v38, __b))
      {
        goto LABEL_12;
      }

      v41 = v37 + v39;
    }

    else
    {
      v41 = v35 + v40;
    }

    *__src = v41;
  }

  else
  {
    *__src = v33;
    v41 = v33;
  }

LABEL_12:
  *&__b[0] = 0;
  if (!R8_EQ(__src, __b))
  {
    *&__b[0] = 0;
    if (R8_EQ(v34, __b))
    {
      *v34 = v41;
      v33 = v41;
    }

    *&__b[0] = 0;
    if (R8_EQ(v36, __b))
    {
      v35 = v41 - v40;
      *v36 = v41 - v40;
    }

    *&__b[0] = 0;
    if (R8_EQ(v38, __b))
    {
      *v38 = v41 - v39;
    }
  }

  *&__b[0] = 0;
  if (R8_EQ(__src, __b))
  {
    v42 = 0.0;
  }

  else
  {
    *&v433[0] = 0;
    v42 = 0.0;
    if (!R8_EQ(v34, v433))
    {
      *&__b[0] = 0;
      if (!R8_EQ(v36, __b))
      {
        v43 = v33 - v35;
        v44 = vabdd_f64(v33 - v35, v40);
        if (v44 > 0.0000000333564095)
        {
          *v36 = v41 - v40;
          EvCrt_v("PP_SetReceiverPos:  ClkGlon deviation %f m,  New ClkGlon %f m", (v43 - v40) * 299792458.0, (v41 - v40) * 299792458.0);
          v42 = v44;
        }
      }

      *&__b[0] = 0;
      if (!R8_EQ(v38, __b))
      {
        v45 = *v34 - *v38;
        v46 = vabdd_f64(v45, v39);
        if (v46 > 0.0000000333564095)
        {
          *v38 = v41 - v39;
          v42 = v42 + v46;
          EvCrt_v("PP_SetReceiverPos:  ClkBDS deviation %f m,  New ClkBDS %f m", (v45 - v39) * 299792458.0, (v41 - v39) * 299792458.0);
        }
      }
    }
  }

  *(v20 + 312) = Zen_Trop_Delay_STANAG_4294(*(v20 + 24));
  v47 = *(v17 + 864);
  *(v20 + 216) = v47;
  v48 = *(v17 + 872);
  *(v20 + 224) = v48;
  *(v20 + 232) = *(v17 + 840);
  v49 = *(v17 + 920);
  v50 = *(v17 + 904);
  v51.f64[0] = *(v17 + 888);
  v52 = *(v17 + 896);
  *(v20 + 280) = *(v17 + 912);
  *(v20 + 296) = *(v17 + 12);
  *(v34 + 204) = *(v17 + 24);
  if (v42 > 0.0)
  {
    v53 = v42 * 0.5 * 299792458.0 * (v42 * 0.5 * 299792458.0);
    v54 = sqrt(v53 + v47 * v47);
    v55 = sqrt(v53 + v48 * v48);
    *(v20 + 216) = v54;
    *(v20 + 224) = v55;
    v404 = v52;
    v406 = v51.f64[0];
    EvCrt_v("PP_SetReceiverPos:  New  B_Acc %f -> %f  T_Acc %f -> %f", v47, v54, v48, v55);
    v52 = v404;
    v51.f64[0] = v406;
  }

  if (*(v17 + 388))
  {
    v56 = (v17 + 144);
    v57 = 0.0;
    for (i = 4; i > 1; --i)
    {
      v59 = *v56--;
      v57 = v57 + v59 * v59;
    }

    v60 = sqrt(v57) * *(v17 + 72);
    v50 = v50 + v60;
    v51.f64[0] = v51.f64[0] + v60;
  }

  v61 = *(v21 + 8);
  if (!v61)
  {
    v61 = *(v20 + 208);
    *(v21 + 8) = v61;
  }

  *(v20 + 336) = v61;
  *(v21 + 16) = *(v20 + 128) - *(v20 + 96);
  v62 = *(v403 + 1720) * 99930819.3;
  if (!*v403 && !*(v403 + 8))
  {
    v65 = xmmword_2990501D0;
    v64 = 5.0;
    goto LABEL_58;
  }

  v63 = *(v34 + 204);
  if (v63 > 4)
  {
    if (v63 > 6)
    {
      if (v63 == 7)
      {
        v65 = xmmword_2990501F0;
        v64 = 350.0;
        goto LABEL_58;
      }

      if (v63 == 8)
      {
        v65 = vdupq_n_s64(0x412E848000000000uLL);
        v64 = 1000000.0;
        goto LABEL_58;
      }

      goto LABEL_56;
    }

    if (v63 == 5)
    {
      v65 = xmmword_299050210;
      *&v66 = 50.0;
    }

    else
    {
      v65 = xmmword_299050200;
      *&v66 = 200.0;
    }

    v64 = *&v66;
  }

  else
  {
    if (v63 <= 2)
    {
      v64 = 5.0;
      if (v63 < 2)
      {
LABEL_57:
        v67 = vdup_n_s32(v63 < 2);
        v68.i64[0] = v67.u32[0];
        v68.i64[1] = v67.u32[1];
        v65 = vbslq_s8(vcltzq_s64(vshlq_n_s64(v68, 0x3FuLL)), xmmword_2990501D0, vdupq_n_s64(0x412E848000000000uLL));
        goto LABEL_58;
      }

      if (v63 == 2)
      {
        v65 = xmmword_2990501E0;
        v64 = 10.0;
        goto LABEL_58;
      }

LABEL_56:
      v64 = 1000000.0;
      goto LABEL_57;
    }

    if (v63 == 3)
    {
      v65 = xmmword_299050230;
      v64 = 15.0;
    }

    else
    {
      v65 = xmmword_299050220;
      v64 = 25.0;
    }
  }

LABEL_58:
  if (v49 > v62)
  {
    *(v20 + 104) = *(v403 + 1712);
    v49 = v62;
  }

  *(v20 + 256) = v49 * 5.25503547;
  if (v50 > v64)
  {
    if (*(v34 + 204) < 4u || *(v20 + 80) < v64 + v64)
    {
      *(v20 + 80) = 0;
      *(v20 + 48) = 0u;
      *(v20 + 64) = 0u;
      *(v20 + 32) = 0u;
    }

    v50 = v64;
  }

  v69 = sqrt(v50 * v50 + 0.0 + v49 * v49) * 5.25503547;
  if (v69 <= 1.0)
  {
    v69 = 1.0;
  }

  *(v20 + 248) = v69;
  v51.f64[1] = v52;
  *(v34 + 168) = vmulq_f64(vbslq_s8(vcgtq_f64(v51, v65), v65, v51), vdupq_n_s64(0x4015052804935343uLL));
  if (v69 < 21840.0)
  {
    v70 = (v69 * 3.0) + 1;
  }

  else
  {
    v70 = -1;
  }

  *(v20 + 288) = v70;
  if (v49 < 4156.01381)
  {
    v71 = (v49 * 15.7651064) + 1;
  }

  else
  {
    v71 = -1;
  }

  *(v20 + 290) = v71;
  if (v50 < 4156.01381)
  {
    v72 = (v50 * 15.7651064) + 1;
  }

  else
  {
    v72 = -1;
  }

  *(v20 + 292) = v72;
  *(v34 + 264) = vdupq_n_s64(0xC023CCCCCCCCCCCDLL);
  v73 = *(v20 + 216);
  v74 = *(v20 + 232);
  *(v20 + 344) = v73;
  *(v20 + 352) = v74;
  *(v20 + 376) = 0;
  v402 = v21;
  v407 = v34 + 168;
  if (v74 <= 1000.0 && v73 <= 1000.0 && *(v20 + 296) >= 3 && !v25)
  {
    v389 = 0;
    goto LABEL_123;
  }

  v409 = 0;
  v408 = 0;
  *&v433[0] = 0;
  *v431 = 0;
  *&v429[0] = 0;
  *&v411 = 0;
  v389 = 0;
  if (!Core_Get_GPS_TimePos(*(v20 + 208), &v409 + 1, &v409, &v408, v433, v431, __b, v429, &v411))
  {
    goto LABEL_123;
  }

  *&v428[0] = 0;
  *&v425[0] = 0;
  v75 = v408 - 3;
  v389 = (v408 - 3) < 2;
  v76 = HIBYTE(v409);
  v77 = *v431;
  v78 = *v429;
  if (*v429 > 150000.0)
  {
    v79 = v409;
  }

  else
  {
    v79 = 0;
  }

  v80 = v79 ^ v409;
  if (*(v20 + 296) > 2 || *(v402 + 4) > 0x63u || ((*(v20 + 232) < 1000.0) & v80) != 1)
  {
    goto LABEL_98;
  }

  if (v25)
  {
    *(v20 + 332) = 1;
  }

  else if (v75 <= 1)
  {
    v81 = Horiz_Diff_Sqd(v20, __b);
    if (v81 > 193229.156)
    {
      v82 = v78 * (v78 * 4.0);
      if (v82 <= *(v20 + 232) * (*(v20 + 232) * 9.0))
      {
        v82 = *(v20 + 232) * (*(v20 + 232) * 9.0);
      }

      if (v81 > v82)
      {
        *(v20 + 332) = 1;
        EvCrt_v("PrePos:  PosDisc = TRUE    Between Nav Pos and Ref Pos");
      }
    }
  }

  if (*(v20 + 332) == 1)
  {
    *(v20 + 232) = 0x4163125300000000;
    *(v20 + 216) = 0x4163125300000000;
    v83 = 9999000.0;
  }

  else
  {
LABEL_98:
    v83 = *(v20 + 216);
    v84 = 0.0;
    if (v83 <= 1000.0)
    {
      goto LABEL_104;
    }
  }

  v84 = 0.0;
  if (v76)
  {
    if (v77 <= 0.0005 && v77 < 0.001)
    {
      v84 = v77 * 99930819.3;
      *v428 = v77 * 99930819.3;
      *(v20 + 360) = v77 * 99930819.3;
      *(v20 + 368) = 0xBFF199999999999ALL;
      if (v77 * 99930819.3 >= v83 * 1.5)
      {
        *&v428[0] = 0;
        v84 = 0.0;
      }
    }
  }

LABEL_104:
  v85 = 0.0;
  if (v75 > 1)
  {
    v21 = v402;
  }

  else
  {
    v86 = *(v20 + 232);
    v21 = v402;
    if (((v86 > 1000.0) & v80) == 1)
    {
      v85 = v78 / 3.0;
      *v425 = v78 / 3.0;
      *(v20 + 360) = 0xBFF199999999999ALL;
      *(v20 + 368) = v78 / 3.0;
      if (v78 / 3.0 >= v86 * 1.5)
      {
        *&v425[0] = 0;
        v85 = 0.0;
      }
    }
  }

  v410 = 0.0;
  if (R8_EQ(v428, &v410))
  {
    goto LABEL_121;
  }

  v87 = *(v20 + 128);
  v88 = (*v433 - v87) * 1000.0;
  v89 = -0.5;
  if (v88 > 0.0)
  {
    v89 = 0.5;
  }

  v90 = v88 + v89;
  v91 = 2147483650.0;
  if (v90 <= 2147483650.0)
  {
    v91 = -2147483650.0;
    if (v90 >= -2147483650.0)
    {
      v91 = v90;
    }
  }

  v92 = v87 + v91 / 1000.0 - *v433;
  v93 = *v34 - v92;
  if (v93 > 0.0005)
  {
    v94 = 0.001;
LABEL_119:
    v92 = v92 + v94;
    goto LABEL_120;
  }

  if (v93 < -0.0005)
  {
    v94 = -0.001;
    goto LABEL_119;
  }

LABEL_120:
  *(v20 + 96) = v92;
  *(v20 + 216) = v84;
  *(v20 + 376) = 1;
LABEL_121:
  v410 = 0.0;
  if (!R8_EQ(v425, &v410))
  {
    Geo2ECEF(__b, &WGS84_Datum, (v21 + 24));
    *v20 = __b[0];
    v95 = *&__b[1];
    *(v20 + 16) = *&__b[1];
    *(v20 + 24) = v95 - *(v17 + 248);
    v96 = *&v411 / 3.0;
    *(v20 + 232) = v85;
    *(v20 + 240) = v96;
    *(v20 + 377) = 1;
  }

LABEL_123:
  v97 = 0;
  v98 = *(v20 + 324);
  v99 = *(v21 + 6);
  if (v98 >= 1 && v99 >= 1024)
  {
    v97 = *v21;
  }

  *a10 = *(v20 + 208);
  *(a10 + 32) = v99;
  v100 = *(v21 + 16);
  v101 = (v100 * 1000.0);
  *(a10 + 36) = v101;
  v102 = -(v101 - v100 * 1000.0) * 65536.0;
  v103 = -0.5;
  if (v102 > 0.0)
  {
    v103 = 0.5;
  }

  v104 = v102 + v103;
  if (v104 <= 2147483650.0)
  {
    if (v104 >= -2147483650.0)
    {
      v105 = v104;
    }

    else
    {
      LOWORD(v105) = 0;
    }
  }

  else
  {
    LOWORD(v105) = -1;
  }

  v401 = v15;
  *(a10 + 40) = v105;
  *(a10 + 44) = v98;
  *(a10 + 48) = ((*(v17 + 216) - *(v17 + 160)) * 1000.0);
  *&__b[0] = 0;
  API_Get_UTC_Cor(1, __b);
  *(a10 + 52) = *__b;
  v106 = *(v20 + 104);
  v107 = (v106 * 1575420000.0);
  if (fabs(v106) >= 0.0000207995328)
  {
    LOWORD(v107) = 0;
  }

  *(v20 + 320) = v107;
  v108 = *(v20 + 248);
  v377 = v38;
  if (v108 >= 20500.0)
  {
    *(v20 + 322) = -536;
    v115 = v403;
  }

  else
  {
    v109 = *(v20 + 208);
    v110 = *(v20 + 336);
    if (v109 <= v110 + 60000 && v109 >= v110 + 3000)
    {
      v112 = 1600;
    }

    else
    {
      v112 = 3941;
    }

    v113 = (v112 + (v108 * 3.0));
    if (v113 <= 0xDAC)
    {
      LOWORD(v114) = 3500;
    }

    else
    {
      LOWORD(v114) = v112 + (v108 * 3.0);
    }

    *(v20 + 322) = v114;
    v115 = v403;
    if (v113 < 0xFA1)
    {
      v116 = v15;
      goto LABEL_179;
    }
  }

  v405 = v97;
  v117 = v115 + 265;
  v118 = v381;
  v119 = (v381 + 4448);
  v120 = 128;
  v121 = 999999;
  v122 = -999999;
  do
  {
    v123 = *(v118 + 96);
    if (Is_Legal(v123) && *(v118 + 1248) >= 10)
    {
      v124 = BYTE1(v123) > 0xFu || ((1 << SBYTE1(v123)) & 0xE6CC) == 0;
      v125 = v124 || v123 == 6;
      if (v125 && (v117[GNSS_Id_To_Num_Prn_Idx(v123)] & 1) == 0)
      {
        v126 = (*v119 * 5.25503547);
        if (v121 >= v126)
        {
          v121 = (*v119 * 5.25503547);
        }

        if (v122 <= v126)
        {
          v122 = (*v119 * 5.25503547);
        }
      }
    }

    ++v119;
    v118 += 4;
    --v120;
  }

  while (v120);
  v127 = *(v20 + 320);
  LOWORD(v107) = *(v20 + 320);
  v114 = *(v20 + 322);
  if (v121 == 999999)
  {
    v116 = v15;
    v115 = v403;
    v97 = v405;
  }

  else
  {
    v116 = v15;
    v115 = v403;
    v97 = v405;
    if (v122 != -999999)
    {
      if (v122 - 8000 <= -(v127 + v114))
      {
        v128 = -(v127 + v114);
      }

      else
      {
        v128 = v122 - 8000;
      }

      v129 = v114 - v127;
      if ((v114 - v127) >= v121 + 8000)
      {
        v129 = v121 + 8000;
      }

      v130 = v129 - v128;
      if (v129 - v128 < 8001)
      {
        if (v130 <= 3999)
        {
          EvCrt_v("PP_Update_SS_Data:  Warning:  Out of range Sky Search Dopp_Low/High %d %d   min/max_Dopp %d %d   SS_Dopp_SR %d   OscFreq %d", v128, v129, v121, v122, *(v20 + 322), v127);
          LOWORD(v107) = *(v20 + 320);
          LOWORD(v114) = *(v20 + 322);
        }
      }

      else
      {
        v114 = (v130 + 1) >> 1;
        *(v20 + 322) = v114;
        v107 = (~(v128 + v129) + (v128 + v129 >= 0)) >> 1;
        v131 = v107 - v127;
        *(v20 + 320) = v107;
        if (v131 < 0)
        {
          v131 = -v131;
        }

        *(v20 + 290) += v131;
      }
    }
  }

LABEL_179:
  *(a10 + 24) = (v107 * 0.634751368);
  *(a10 + 4) = (v114 * 0.190293673);
  v132 = *v115;
  *(a10 + 56) = *v115;
  v133 = *(v407 + 36);
  *(a10 + 60) = v133;
  LOWORD(v133) = *(v20 + 290);
  *&v134 = v133 * 0.634751368;
  *(a10 + 26) = *&v134;
  LOWORD(v134) = *(v20 + 292);
  *(a10 + 14) = (v134 * 19.0293673);
  *(a10 + 68) = v132 == 1 || v389;
  v135 = *(v20 + 224) * 0.0100069229;
  v136 = -0.5;
  if (v135 > 0.0)
  {
    v136 = 0.5;
  }

  v137 = v135 + v136;
  if (v137 <= 2147483650.0)
  {
    if (v137 >= -2147483650.0)
    {
      v138 = v137;
    }

    else
    {
      v138 = 0x80000000;
    }
  }

  else
  {
    v138 = 0x7FFFFFFF;
  }

  if (!v132)
  {
    v140 = *(v403 + 248);
    if (v140)
    {
      v141 = *(v20 + 208) - v140;
      if (v141 - 1 <= 0x5265BFE)
      {
        v142 = *(v20 + 128) - *(v20 + 96) - *(v403 + 256);
        if (v142 < -302400.0)
        {
          v142 = v142 + 604800.0;
        }

        v143 = fabs(v141 - v142 * 1000.0) * 1000.0;
        v144 = 3 * v141 / 0x3E8;
        v145 = v144 + 5;
        if (v143 >= (v144 + 5))
        {
          EvCrt_v("Pre_Positioning:  Clearing Sleep_Sub_us_Time, time_diff %d --> %d us", LODWORD(v143), v144 + 5);
          *(v403 + 248) = 0;
          *(v403 + 256) = 0;
        }

        else if (v145 < v138)
        {
          v146 = *(v20 + 324) - 7;
          if (v146 > 4)
          {
            v147 = 0xFFFF;
          }

          else
          {
            v147 = dword_299050280[v146];
          }

          EvCrt_v("Pre_Positioning:  Reducing Time_Unc  %d --> %d us  floor %d us  time_diff %f us", v138, v145, v147, v143);
          if (v145 <= v147)
          {
            v138 = v147;
          }

          else
          {
            v138 = v145;
          }

          goto LABEL_188;
        }
      }
    }
  }

  if (v138 < 1)
  {
    v139 = 1;
    goto LABEL_200;
  }

LABEL_188:
  if (v138 >= 0xFFFF)
  {
    v139 = -1;
  }

  else
  {
    v139 = v138;
  }

LABEL_200:
  *(a10 + 6) = v139;
  v148 = 3 * *(v20 + 232) / 5;
  if (v148 >= 65534)
  {
    LOWORD(v148) = -2;
  }

  *(a10 + 8) = v148 + 1;
  v149 = 3 * *(v20 + 240);
  if (v149 >= 65534)
  {
    LOWORD(v149) = -2;
  }

  *(a10 + 10) = v149 + 1;
  v150 = *(v20 + 80) * 100.0;
  v151 = -0.5;
  if (v150 > 0.0)
  {
    v151 = 0.5;
  }

  v152 = v150 + v151;
  if (v152 > 2147483650.0)
  {
    goto LABEL_207;
  }

  if (v152 >= -2147483650.0)
  {
    v153 = v152;
    if (v152 >= 0xFFFF)
    {
LABEL_207:
      LOWORD(v153) = -1;
      *(a10 + 14) = -1;
      goto LABEL_213;
    }
  }

  else
  {
    v153 = 0x80000000;
  }

  if (v153 <= 1)
  {
    LOWORD(v153) = 1;
  }

LABEL_213:
  *(a10 + 12) = v153;
  v154 = *(v20 + 56) * 100.0;
  v155 = -0.5;
  if (v154 <= 0.0)
  {
    v156 = -0.5;
  }

  else
  {
    v156 = 0.5;
  }

  v157 = v154 + v156;
  v158 = v157;
  if (v157 < -2147483650.0)
  {
    LOWORD(v158) = 0;
  }

  if (v157 <= 2147483650.0)
  {
    v159 = v158;
  }

  else
  {
    v159 = -1;
  }

  *(a10 + 18) = v159;
  v160 = *(v20 + 64) * 100.0;
  if (v160 <= 0.0)
  {
    v161 = -0.5;
  }

  else
  {
    v161 = 0.5;
  }

  v162 = v160 + v161;
  v163 = v162;
  if (v162 < -2147483650.0)
  {
    LOWORD(v163) = 0;
  }

  if (v162 <= 2147483650.0)
  {
    v164 = v163;
  }

  else
  {
    v164 = -1;
  }

  *(a10 + 16) = v164;
  v165 = *(v20 + 72) * 100.0;
  if (v165 > 0.0)
  {
    v155 = 0.5;
  }

  v166 = v165 + v155;
  if (v166 <= 2147483650.0)
  {
    if (v166 >= -2147483650.0)
    {
      v167 = v166;
    }

    else
    {
      LOWORD(v167) = 0;
    }
  }

  else
  {
    LOWORD(v167) = -1;
  }

  *(a10 + 20) = v167;
  *(a10 + 22) = *(v20 + 88) >> 1;
  v168 = 3 * *(v20 + 280);
  if (v168 >= 254)
  {
    LOBYTE(v168) = -2;
  }

  *(a10 + 23) = v168 + 1;
  if ((v97 & 1) == 0)
  {
    v218 = (a10 + 72);
    v219 = 123;
    do
    {
      *(v218 + 30) = 0uLL;
      *v218 = 0uLL;
      v218[1] = 0uLL;
      v218 += 3;
      --v219;
    }

    while (v219);
    *(a10 + 7704) = 0u;
    *(a10 + 7678) = 0u;
    *(a10 + 7694) = 0u;
    *(a10 + 7646) = 0u;
    *(a10 + 7662) = 0u;
    *(a10 + 7614) = 0u;
    *(a10 + 7630) = 0u;
    *(a10 + 7582) = 0u;
    *(a10 + 7598) = 0u;
    *(a10 + 7550) = 0u;
    *(a10 + 7566) = 0u;
    *(a10 + 7518) = 0u;
    *(a10 + 7534) = 0u;
    *(a10 + 7502) = 0u;
    memset((a10 + 5976), 255, 0x5F6uLL);
    *(a10 + 8592) = 0;
    *(a10 + 8596) = 0;
    memset(__b, 0, 218);
    Get_SS_Order(__b);
    v220 = 0;
    v221 = v403 + 824;
    v222 = a10 + 7720;
    while (1)
    {
      if (*(__b + v220))
      {
        Constell_Prn = Get_Constell_Prn(v220);
        if (Constell_Prn > 3)
        {
          if (Constell_Prn > 5)
          {
            v224 = (v403 + 20);
            if (Constell_Prn != 6)
            {
              goto LABEL_376;
            }
          }

          else
          {
            v224 = (v403 + 18);
            if (Constell_Prn != 4)
            {
              v224 = (v403 + 16);
            }
          }
        }

        else if (Constell_Prn > 1)
        {
          v224 = (v403 + 15);
          if (Constell_Prn != 2)
          {
            v224 = (v403 + 19);
          }
        }

        else
        {
          v224 = (v403 + 14);
          if (!Constell_Prn)
          {
            EvCrt_Illegal_switch_case("PP_invalidate_AAdata", 0xA7Eu);
            goto LABEL_376;
          }
        }

        v225 = *v224;
        if (Constell_Prn == 2)
        {
          v226 = v220;
        }

        else
        {
          v226 = *(__b + v220) - 1;
        }

        if (*(v221 + v226) == 1 && *(v403 + 1104 + v226) == 1 || !v225)
        {
          goto LABEL_375;
        }

        if (Constell_Prn == 6)
        {
          if (*(v393 + 50834 + v226) == 1 && (*(v403 + 544 + v226) & 1) == 0)
          {
            v227 = *(__b + v220);
LABEL_379:
            v229 = *(a10 + 8593);
            *(a10 + 6630 + 2 * v229) = v227;
            *(a10 + 8593) = v229 + 1;
            *(v222 + 4 * v226) = 0;
            goto LABEL_376;
          }
        }

        else if (*(v393 + 50616 + v226) == 1 && (*(v403 + 265 + v226) & 1) == 0)
        {
          v227 = v226 + 1;
          goto LABEL_379;
        }

        if (Constell_Prn == 2 || *(v221 + v226))
        {
LABEL_375:
          ++*(a10 + 8594);
          *(v222 + 4 * v226) = 2;
        }

        else
        {
          v228 = *(a10 + 8595);
          *(a10 + 7066 + 2 * v228) = *(__b + v220);
          *(a10 + 8595) = v228 + 1;
          *(v222 + 4 * v226) = 3;
        }
      }

LABEL_376:
      if (++v220 == 218)
      {
        *&v237 = 0x9D9D9D9D9D9D9D9DLL;
        *(&v237 + 1) = 0x9D9D9D9D9D9D9D9DLL;
        *(a11 + 202) = v237;
        *(a11 + 176) = v237;
        *(a11 + 192) = v237;
        *(a11 + 144) = v237;
        *(a11 + 160) = v237;
        *(a11 + 112) = v237;
        *(a11 + 128) = v237;
        *(a11 + 80) = v237;
        *(a11 + 96) = v237;
        *(a11 + 48) = v237;
        *(a11 + 64) = v237;
        *(a11 + 16) = v237;
        *(a11 + 32) = v237;
        *a11 = v237;
        memset_pattern16((a11 + 218), &unk_299050270, 0x1B4uLL);
        *(a11 + 654) = 0;
        v232 = v402;
        v231 = a10;
        *(v402 + 2) = -1;
        *v402 = 0;
        v175 = v403;
        goto LABEL_487;
      }
    }
  }

  v422 = 0u;
  memset(v423, 0, 26);
  v420 = 0u;
  v421 = 0u;
  v418 = 0u;
  v419 = 0u;
  v416 = 0u;
  v417 = 0u;
  v414 = 0u;
  v415 = 0u;
  v412 = 0u;
  v413 = 0u;
  v411 = 0u;
  if ((*(a10 + 8592) || *(a10 + 8594)) && (*(a11 + 655) & 1) == 0)
  {
    v169 = *(v402 + 2);
    if (v169 != 0xFFFF)
    {
      v170 = v22 - *(v402 + 16) + 604800 * (v398 - *(v402 + 6));
      if (v170 < 0)
      {
        v170 = -v170;
      }

      if (v170 <= 4)
      {
        v171 = 0;
        v172 = 0.0;
        do
        {
          v172 = v172 + (v424[v171] - *(v402 + 40 + 8 * v171)) * (v424[v171] - *(v402 + 40 + 8 * v171));
          v173 = v171 + 3;
          --v171;
        }

        while (v173 > 1);
        if (v172 <= 1.0e10)
        {
          v367 = 0;
          v368 = (v378 + 3120);
          v369 = (v116 + 176);
          v370 = &v411;
          v371 = v403;
          v372 = (v378 + 3120);
          do
          {
            v373 = *v372++;
            if ((v373 == 1 && *(v371 + 265) != 1 || v368[218] == 1 && (*(v371 + 544) & 1) == 0) && *v369 && *(a10 + 7720 + v367) <= 1u)
            {
              *v370 = 1;
            }

            v370 = (v370 + 1);
            v367 += 4;
            v369 += 48;
            ++v371;
            v368 = v372;
          }

          while (v367 != 716);
          v374 = 54;
          while (1)
          {
            if ((v169 + 1) <= 217)
            {
              v375 = v169 + 1;
            }

            else
            {
              v375 = 0;
            }

            *(v402 + 2) = v375;
            v376 = Get_Constell_Prn(v375);
            if ((*(v403 + 14) & 1) != 0 || v376 != 1)
            {
              if ((*(v403 + 15) & 1) != 0 || v376 != 2)
              {
                if ((*(v403 + 19) & 1) != 0 || v376 != 3)
                {
                  if ((*(v403 + 18) & 1) != 0 || v376 != 4)
                  {
                    if ((*(v403 + 16) & 1) != 0 || v376 != 5)
                    {
                      if ((*(v403 + 17) & 1) != 0 || v376 != 7)
                      {
                        LOWORD(v169) = *(v402 + 2);
                        *(&v411 + v169) = 1;
                        goto LABEL_652;
                      }

                      LOWORD(v169) = 217;
                    }

                    else
                    {
                      LOWORD(v169) = 164;
                    }
                  }

                  else
                  {
                    LOWORD(v169) = 154;
                  }
                }

                else
                {
                  LOWORD(v169) = 91;
                }
              }

              else
              {
                LOWORD(v169) = 55;
              }
            }

            else
            {
              LOWORD(v169) = 31;
            }

            *(v402 + 2) = v169;
LABEL_652:
            if (!--v374)
            {
              goto LABEL_250;
            }
          }
        }
      }
    }
  }

  *(a11 + 655) = 0;
  *&v174 = 0x101010101010101;
  *(&v174 + 1) = 0x101010101010101;
  v411 = v174;
  v412 = v174;
  v413 = v174;
  v414 = v174;
  v415 = v174;
  v416 = v174;
  v417 = v174;
  v418 = v174;
  v419 = v174;
  v420 = v174;
  v421 = v174;
  v422 = v174;
  v423[0] = v174;
  *(v423 + 10) = v174;
  *(v402 + 2) = 218;
LABEL_250:
  LODWORD(v410) = 0;
  memset(__b, 255, sizeof(__b));
  memset_pattern16(__src, &unk_299050250, 0x368uLL);
  memset(v444, 0, sizeof(v444));
  v443 = 0u;
  v442 = 0u;
  v441 = 0u;
  v440 = 0u;
  v439 = 0u;
  v438 = 0u;
  v437 = 0u;
  v436 = 0u;
  v435 = 0u;
  v434 = 0u;
  memset(v433, 0, sizeof(v433));
  memset(v432, 0, 202);
  *v431 = 0u;
  Get_SS_Order(v431);
  v175 = v403;
  if ((*(v403 + 14) & 1) == 0)
  {
    *&v176 = 0x9D9D9D9D9D9D9D9DLL;
    *(&v176 + 1) = 0x9D9D9D9D9D9D9D9DLL;
    *a11 = v176;
    *(a11 + 16) = v176;
    memset_pattern16((a11 + 218), &unk_299050270, 0x40uLL);
  }

  if ((*(v403 + 15) & 1) == 0)
  {
    memset((a11 + 32), 157, 24);
    memset_pattern16((a11 + 282), &unk_299050270, 0x30uLL);
  }

  if ((*(v403 + 19) & 1) == 0)
  {
    *(a11 + 88) = -1650614883;
    *&v177 = 0x9D9D9D9D9D9D9D9DLL;
    *(&v177 + 1) = 0x9D9D9D9D9D9D9D9DLL;
    *(a11 + 72) = v177;
    *(a11 + 56) = v177;
    memset_pattern16((a11 + 330), &unk_299050270, 0x48uLL);
  }

  if ((*(v403 + 18) & 1) == 0)
  {
    *&v178 = 0x9D9D9D9D9D9D9D9DLL;
    *(&v178 + 1) = 0x9D9D9D9D9D9D9D9DLL;
    *(a11 + 139) = v178;
    *(a11 + 124) = v178;
    *(a11 + 108) = v178;
    *(a11 + 92) = v178;
    memset_pattern16((a11 + 402), &unk_299050270, 0x7EuLL);
  }

  if ((*(v403 + 16) & 1) == 0)
  {
    *(a11 + 155) = 0x9D9D9D9D9D9D9D9DLL;
    *(a11 + 163) = -25187;
    memset_pattern16((a11 + 528), &unk_299050270, 0x14uLL);
  }

  if ((*(v403 + 20) & 1) == 0)
  {
    *(a11 + 171) = 0x9D9D9D9D9D9D9D9DLL;
    *(a11 + 165) = 0x9D9D9D9D9D9D9D9DLL;
    memset_pattern16((a11 + 548), &unk_299050270, 0x1CuLL);
  }

  if ((*(v403 + 17) & 1) == 0)
  {
    *(a11 + 210) = 0x9D9D9D9D9D9D9D9DLL;
    *&v179 = 0x9D9D9D9D9D9D9D9DLL;
    *(&v179 + 1) = 0x9D9D9D9D9D9D9D9DLL;
    *(a11 + 195) = v179;
    *(a11 + 179) = v179;
    memset_pattern16((a11 + 576), &unk_299050270, 0x4EuLL);
  }

  v180 = 0;
  v181 = 0;
  v384 = 0;
  v382 = 0;
  v182 = *(a11 + 176);
  v429[10] = *(a11 + 160);
  v429[11] = v182;
  v430[0] = *(a11 + 192);
  *(v430 + 10) = *(a11 + 202);
  v183 = *(a11 + 112);
  v429[6] = *(a11 + 96);
  v429[7] = v183;
  v184 = *(a11 + 144);
  v429[8] = *(a11 + 128);
  v429[9] = v184;
  v386 = a11 + 218;
  v185 = *(a11 + 48);
  v429[2] = *(a11 + 32);
  v429[3] = v185;
  v391 = v403 + 1104;
  v186 = *(a11 + 80);
  v187 = a10 + 7502;
  v429[4] = *(a11 + 64);
  v429[5] = v186;
  v188 = *(a11 + 16);
  v429[0] = *a11;
  v429[1] = v188;
  do
  {
    if (!v431[v180])
    {
LABEL_289:
      v198 = 2;
      v193 = v180;
      goto LABEL_290;
    }

    v189 = Get_Constell_Prn(v180);
    v190 = v189;
    if (v189 > 3)
    {
      switch(v189)
      {
        case 4:
          v192 = *(v403 + 18);
          break;
        case 5:
          v192 = *(v403 + 16);
          break;
        case 6:
          v192 = *(v403 + 20);
          break;
        default:
          goto LABEL_291;
      }

      goto LABEL_281;
    }

    switch(v189)
    {
      case 1:
        v192 = *(v403 + 14);
LABEL_281:
        if (v192 != 1)
        {
          goto LABEL_289;
        }

        v191 = v431[v180] - 1;
        break;
      case 2:
        if (*(v403 + 15) != 1)
        {
          goto LABEL_289;
        }

        LongPrnIdx_To_ShortPrnIdx(v180, 0);
        v191 = v180;
        break;
      case 3:
        if (*(v403 + 19) != 1)
        {
          goto LABEL_289;
        }

        v191 = v431[v180] - 1;
        LongPrnIdx_To_ShortPrnIdx(v191, 0);
        break;
      default:
        goto LABEL_291;
    }

    v193 = v191;
    if (*(v393 + 50616 + v191) == 1 && *(v403 + 265 + v191) != 1)
    {
      if (*(&v411 + v191) == 1)
      {
        v195 = (a11 + v191);
        *v195 = -99;
        v196 = (v386 + 2 * v191);
        *v196 = -400;
LABEL_297:
        v199 = (v401 + 192 * v193);
        if (*(v199 + 44))
        {
          v426 = 0;
          memset(v425, 0, sizeof(v425));
          v427[0] = 0;
          *(v427 + 3) = 0;
          v200 = v199[9];
          v428[8] = v199[8];
          v428[9] = v200;
          v201 = v199[11];
          v428[10] = v199[10];
          v428[11] = v201;
          v202 = v199[5];
          v428[4] = v199[4];
          v428[5] = v202;
          v203 = v199[7];
          v428[6] = v199[6];
          v428[7] = v203;
          v204 = v199[1];
          v428[0] = *v199;
          v428[1] = v204;
          v205 = v199[3];
          v428[2] = v199[2];
          v428[3] = v205;
          if (Comp_CurrState(0x258u, *(v402 + 6), v428, v425, *(v402 + 16), 22000000.0))
          {
            Comp_AzEl(v402 + 24, v20 + 136, v425, v195, v196, (a11 + 656 + 40 * v193), (a11 + 9376 + 40 * v193));
          }
        }

        v197 = 1;
        goto LABEL_306;
      }

      v197 = 1;
      goto LABEL_304;
    }

    if (*(v393 + 50834 + v191) != 1)
    {
      if (*(&v411 + v191) == 1)
      {
        v197 = 0;
        *(a11 + v191) = -99;
        *(v386 + 2 * v191) = -400;
        goto LABEL_306;
      }

      v197 = 0;
LABEL_304:
      if (!*(v401 + 192 * v191 + 176))
      {
        *(a11 + v191) = -99;
      }

      goto LABEL_306;
    }

    v194 = *(v403 + 544 + v191);
    if ((*(&v411 + v191) & 1) == 0)
    {
      v197 = v194 ^ 1;
      goto LABEL_304;
    }

    v195 = (a11 + v191);
    *v195 = -99;
    v196 = (v386 + 2 * v191);
    *v196 = -400;
    if ((v194 & 1) == 0)
    {
      goto LABEL_297;
    }

    v197 = 0;
LABEL_306:
    if (*(v403 + 824 + v193) == 1 && *(v391 + v193) == 1)
    {
LABEL_329:
      v211 = BYTE2(v410);
      *(&__b[54] + BYTE2(v410) + 4) = v193 + 1;
      BYTE2(v410) = v211 + 1;
      v198 = 2;
      goto LABEL_290;
    }

    if (v197)
    {
      v206 = *(a11 + v193);
      if (v206 < -90)
      {
        v198 = 0;
        *(__b + v382++) = v193 + 1;
      }

      else
      {
        v207 = v384;
        if (v206 > 1)
        {
          v207 = v384 + 1;
        }

        v384 = v207;
        if (v206 > 1)
        {
          v198 = 1;
        }

        else
        {
          v198 = 2;
        }

        if (v206 >= 2)
        {
          v208 = *(v401 + 192 * v193 + 176);
          if (v190 == 2)
          {
            v209 = 15;
          }

          else
          {
            v209 = 10;
          }

          if (v208 == 2)
          {
            if (((v209 > v206) & *(v187 + v193)) != 0)
            {
              v210 = *(a11 + v193);
            }

            else
            {
              v210 = v206 + 9;
            }
          }

          else if (v208 == 1)
          {
            if (v209 > v206 && *(v187 + v193))
            {
              v210 = v206 + 9;
            }

            else
            {
              v210 = v206 + 100;
            }
          }

          else
          {
            v210 = 0;
          }

          *(v433 + v193) = v210;
          v212 = BYTE1(v410);
          if (BYTE1(v410))
          {
            v213 = 0;
            while (*(v433 + *(&__b[27] + v213 + 2) - 1) >= v210)
            {
              if (BYTE1(v410) == ++v213)
              {
                goto LABEL_344;
              }
            }
          }

          else
          {
            LODWORD(v213) = 0;
          }

          if (v213 < BYTE1(v410))
          {
            v214 = v213;
            v215 = &__b[27] + BYTE1(v410) + 2;
            v216 = v215;
            do
            {
              --v212;
              v217 = *--v216;
              *v215 = v217;
              v215 = v216;
            }

            while (v212 > v214);
          }

LABEL_344:
          *(&__b[27] + v212 + 2) = v193 + 1;
        }

        ++*(&v410 + v198);
      }

      goto LABEL_290;
    }

    if ((v190 - 1) >= 5)
    {
      if (*(v391 + v193))
      {
        goto LABEL_329;
      }
    }

    else if (*(v403 + 824 + v193))
    {
      goto LABEL_329;
    }

    *(&__b[81] + v181++ + 6) = v193 + 1;
    v198 = 3;
LABEL_290:
    *(__src + v193) = v198;
LABEL_291:
    ++v180;
  }

  while (v180 != 218);
  v230 = 0;
  v232 = v402;
  v231 = a10;
  while (2)
  {
    v233 = *(v429 + v230);
    if (v233 < -90 || ((v234 = *(a11 + v230), v234 >= -90) ? (v235 = v233 < v234) : (v235 = 1), v235))
    {
      v236 = 0;
      goto LABEL_387;
    }

    if (v233 > v234)
    {
      v236 = 1;
LABEL_387:
      *(v187 + v230) = v236;
    }

    if (++v230 != 218)
    {
      continue;
    }

    break;
  }

  memcpy((a10 + 7720), __src, 0x368uLL);
  memcpy((a10 + 7066), &__b[81] + 12, 0x1B4uLL);
  memcpy((a10 + 6630), __b, 0x1B4uLL);
  memcpy((a10 + 6194), &__b[27] + 4, 0x1B4uLL);
  v238 = BYTE1(v410);
  *(a10 + 8592) = BYTE1(v410);
  *(a10 + 8594) = BYTE2(v410);
  *(a10 + 8595) = v181;
  *(a10 + 8593) = v382;
  *(a11 + 654) = v384;
  if (!v238 && !*(a10 + 8596))
  {
    *&v254 = -1;
    *(&v254 + 1) = -1;
    *(a10 + 6178) = v254;
    *(a10 + 6152) = v254;
    *(a10 + 6168) = v254;
    *(a10 + 6120) = v254;
    *(a10 + 6136) = v254;
    *(a10 + 6088) = v254;
    *(a10 + 6104) = v254;
    *(a10 + 6056) = v254;
    *(a10 + 6072) = v254;
    *(a10 + 6024) = v254;
    *(a10 + 6040) = v254;
    *(a10 + 5992) = v254;
    *(a10 + 6008) = v254;
    *(a10 + 5976) = v254;
    v116 = v401;
    goto LABEL_487;
  }

  LOBYTE(v433[0]) = 0;
  *(&v433[1] + 1) = 0;
  LODWORD(v434) = 0;
  *&v436 = 0;
  *(v433 + 4) = 0uLL;
  *&v435 = 0;
  *(&v434 + 1) = 0;
  *(&v435 + 5) = 0;
  memset(__src, 0, 191);
  *&v239 = -1;
  *(&v239 + 1) = -1;
  *(a10 + 5976) = v239;
  *(a10 + 5992) = v239;
  *(a10 + 6008) = v239;
  *(a10 + 6024) = v239;
  *(a10 + 6040) = v239;
  *(a10 + 6056) = v239;
  *(a10 + 6072) = v239;
  *(a10 + 6088) = v239;
  *(a10 + 6104) = v239;
  *(a10 + 6120) = v239;
  *(a10 + 6136) = v239;
  *(a10 + 6152) = v239;
  *(a10 + 6168) = v239;
  v240 = (a10 + 72);
  v241 = 123;
  *(a10 + 6178) = v239;
  do
  {
    *(v240 + 30) = 0uLL;
    *v240 = 0uLL;
    v240[1] = 0uLL;
    v240 += 3;
    --v241;
  }

  while (v241);
  *(a10 + 8596) = 0;
  v242 = 0.0;
  v243 = 0.0;
  if ((*(v393 + 25344) - 2) <= 4)
  {
    if (*(v393 + 25388) - *(v402 + 6) >= 0)
    {
      v244 = -((*(v393 + 25388) - *(v402 + 6)) & 0x3F);
    }

    else
    {
      v244 = (*(v402 + 6) - *(v393 + 25388)) & 0x3F;
    }

    if (v244 > 31)
    {
      v244 -= 64;
    }

    v243 = *(v393 + 25368) + *(v393 + 25376) * (*(v402 + 16) - *(v393 + 25384) + 604800 * v244);
  }

  if ((*(v378 + 3060) - 2) <= 4)
  {
    if (*(v378 + 3116) - *(v402 + 6) >= 0)
    {
      v245 = -((*(v378 + 3116) - *(v402 + 6)) & 0x3FF);
    }

    else
    {
      v245 = (*(v402 + 6) - *(v378 + 3116)) & 0x3FF;
    }

    if (v245 > 511)
    {
      v245 -= 1024;
    }

    if (v245 < -512)
    {
      v245 += 1024;
    }

    v246 = *(v402 + 16) - *(v378 + 3112) + (604800 * v245);
    v242 = *(v378 + 3088) + *(v378 + 3096) * v246 + *(v378 + 3104) * (v246 * v246);
  }

  bzero(__b, 0x6D0uLL);
  v247 = 0;
  while (2)
  {
    v248 = Get_Constell_Prn(v247);
    if (v248 > 3)
    {
      if (v248 > 5)
      {
        if (v248 == 6)
        {
          v249 = 0x4181277DB7AE147BLL;
          goto LABEL_426;
        }
      }

      else if (v248 == 4)
      {
        v249 = 0x4177288351916873;
        goto LABEL_426;
      }

      v249 = 0x418270DA58A7EF9ELL;
      goto LABEL_426;
    }

    if (v248 > 1)
    {
      if (v248 == 2)
      {
        v249 = 0x4174DEFB16F1A9FCLL;
      }

      else
      {
        v249 = 0x4178DFA97D89374CLL;
      }

      goto LABEL_426;
    }

    v249 = 0x417603BF34418937;
    if (v248)
    {
LABEL_426:
      *(__b + v247) = v249;
    }

    if (++v247 != 218)
    {
      continue;
    }

    break;
  }

  v250 = 0;
  v251 = v381 + 3424;
  do
  {
    v252 = v251 + 4 * v250;
    v253 = *(v252 - 3328);
    if (Is_Legal(v253) && *(v252 - 2176) >= 11)
    {
      *(__b + GNSS_Id_To_Num_Prn_Idx(v253)) = *(v251 + 8 * v250);
    }

    ++v250;
  }

  while (v250 != 128);
  if (*(a9 + 6) - 4 >= 0xFFFFFFFD)
  {
    v116 = v401;
    v175 = v403;
    if (*(a9 + 4) && *a9 <= 0x93A7Fu)
    {
      v255 = *(v402 + 16) + 604800 * (*(v402 + 6) - *(a9 + 4)) - *a9;
      if (v255 < 0)
      {
        v255 = *a9 - (*(v402 + 16) + 604800 * (*(v402 + 6) - *(a9 + 4)));
      }

      v399 = v255 < 0x1C21;
    }

    else
    {
      v399 = 0;
    }
  }

  else
  {
    v399 = 0;
    v116 = v401;
    v175 = v403;
  }

  v256 = 0;
  v396 = v393 + 59772;
  v257 = 656;
  v258 = 9376;
  v259 = v116;
  while (2)
  {
    v260 = Get_Constell_Prn(v256);
    LODWORD(v429[0]) = v260;
    if (v260 == 7)
    {
      goto LABEL_483;
    }

    if (*(a10 + 8596) <= 0x7Au)
    {
      v261 = v260;
      if (*(v175 + v256 + 824) == 1 && (*(v175 + v256 + 1104) & 1) != 0)
      {
        goto LABEL_483;
      }

      if (*(a11 + v256) < 2)
      {
        goto LABEL_483;
      }

      v262 = v259[9];
      __src[8] = v259[8];
      __src[9] = v262;
      v263 = v259[11];
      __src[10] = v259[10];
      __src[11] = v263;
      v264 = v259[5];
      __src[4] = v259[4];
      __src[5] = v264;
      v265 = v259[7];
      __src[6] = v259[6];
      __src[7] = v265;
      v266 = v259[1];
      __src[0] = *v259;
      __src[1] = v266;
      v267 = v259[3];
      __src[2] = v259[2];
      __src[3] = v267;
      if (!LODWORD(__src[11]))
      {
        goto LABEL_483;
      }

      v268 = 0;
      v269 = *(v20 + 324);
      v270 = *(v20 + 96);
      v271 = *(v20 + 224);
      if (v261 > 3)
      {
        if (v261 == 4)
        {
          v270 = *v377;
          goto LABEL_462;
        }

        if (v261 != 5)
        {
          v272 = (v378 + 3060);
          v273 = v242;
          if (v261 != 6)
          {
            goto LABEL_468;
          }

          goto LABEL_457;
        }

LABEL_459:
        if (*(v175 + 43) != 1)
        {
          goto LABEL_467;
        }

        v275 = v175 + v256;
      }

      else
      {
        if (v261 != 1)
        {
          if (v261 != 2)
          {
            v272 = (v393 + 25344);
            v273 = v243;
            if (v261 != 3)
            {
LABEL_468:
              v277 = Comp_PrePos(v269, *(v402 + 6), __src, (v402 + 24), v20 + 32, a11 + v258, (a11 + v257), v268 & 1, v270, *(v20 + 104), *(v20 + 216), v271, *(v20 + 232), *(v20 + 240), *(v20 + 256), *(v20 + 264), *(v20 + 272), *(v402 + 16), v20, *(__b + v256), *(v20 + 312), v399, (v393 + 8952), a9, *(v175 + 60), v433);
              LOBYTE(v433[0]) = v277;
              if (!v277)
              {
                goto LABEL_483;
              }

              *v431 = 0;
              v431[4] = 0;
              *&v431[8] = 0;
              *&v432[0] = 0;
              BYTE8(v432[0]) = 0;
              memset(v432 + 10, 0, 20);
              v278 = LongPrnIdx_To_Prn(v256, v429);
              v431[10] = v278;
              v431[8] = v429[0];
              if (LODWORD(v429[0]) == 2)
              {
                v279 = *(*(a10 + 8680) + 4 * v278 - 4);
                v431[11] = v279;
                if ((v279 - 7) < 0xFFFFFFF2)
                {
                  EvCrt_v("PP_Update_AcqAid:  %d  Skipping AA for R %d  Freq Id not known %d", v256, v256 - 31, v279);
                  goto LABEL_483;
                }

                v431[10] = v279;
              }

              BYTE8(v432[1]) = -1;
              BYTE10(v432[1]) = -1;
              BYTE9(v432[1]) = *(a11 + v256);
              v280 = *(a11 + 2 * v256 + 218);
              if (v280 <= 0x168)
              {
                BYTE10(v432[1]) = v280 >> 1;
              }

              v281 = Comp_AcqAid(*(v20 + 208), *(v20 + 320), *(v20 + 322), v433, v431, *(v20 + 128));
              v431[4] = v281;
              if (*(v396 + v256))
              {
                v282 = 1;
              }

              else
              {
                v282 = *(v396 + v256 + 218);
              }

              v431[12] = v282 & 1;
              v431[13] = *(v396 + v256 + 436);
              if (*(v20 + 296) <= 1 && v431[14] >= 2u)
              {
                v431[14] = 1;
              }

              if (v281)
              {
                v283 = *(a10 + 8596);
                v284 = (a10 + 72 + 48 * v283);
                v285 = v432[0];
                *v284 = *v431;
                v284[1] = v285;
                v284[2] = v432[1];
                *(a10 + 5976 + v256) = v283;
                ++*(a10 + 8596);
              }

LABEL_483:
              ++v256;
              v257 += 40;
              v258 += 40;
              v259 += 12;
              if (v256 == 179)
              {
                goto LABEL_486;
              }

              continue;
            }

LABEL_457:
            v274 = v270 - v273;
            if ((*v272 - 2) < 5)
            {
              v270 = v274;
            }

            goto LABEL_459;
          }

          v270 = *(v20 + 112);
          v276 = *(v20 + 328);
          if (v276 < v269)
          {
            v268 = 0;
            v271 = sqrt((g_TOW_Stat_Var99_Table[v269] * -299792458.0 + g_TOW_Stat_Var99_Table[v276] * 299792458.0) * 299792458.0 + v271 * v271);
            v269 = *(v20 + 328);
            goto LABEL_468;
          }

LABEL_467:
          v268 = 0;
          goto LABEL_468;
        }

LABEL_462:
        if (*(v175 + 43) != 1)
        {
          goto LABEL_467;
        }

        v275 = v175 + v256;
        if (*(v175 + v256 + 1104))
        {
          goto LABEL_467;
        }
      }

      v268 = *(v275 + 544) ^ 1;
      goto LABEL_468;
    }

    break;
  }

  gn_report_assertion_failure("PP_Update_AcqAid: num_AA overflow caught");
LABEL_486:
  v231 = a10;
  PP_BDS_D2_Set_Not_Visible((a10 + 8592), (a10 + 8594), a10 + 6194, a10 + 7720);
  PP_BDS_D2_Set_Not_Visible((a10 + 8593), (a10 + 8594), v231 + 6630, (v231 + 965));
  PP_BDS_D2_Set_Not_Visible((a10 + 8595), (a10 + 8594), v231 + 7066, (v231 + 965));
  v232 = v402;
LABEL_487:
  v286 = v390;
  if (*(v20 + 332) == 1)
  {
    v287 = *(v232 + 4);
    if (v287 <= 0xC7)
    {
      *(v232 + 4) = v287 + 1;
    }

    if (*v390)
    {
      *(v20 + 332) = 0;
      goto LABEL_492;
    }

    v289 = v390 + 4;
    v288 = *(v390 + 1);
    v290 = 1;
LABEL_495:
    if (*(a10 + 8592) || *(a10 + 8596))
    {
      if (v288 == 2 || (v389 & v290) != 0)
      {
        if ((v390[444] & 1) == 0)
        {
          ++*(v390 + 223);
        }

        v390[444] = 1;
        *&v291 = 0x1111111111111111;
        *(&v291 + 1) = 0x1111111111111111;
        *(v390 + 28) = v291;
        *(v390 + 29) = v291;
        *(v390 + 30) = v291;
        *(v390 + 31) = v291;
        *(v390 + 32) = v291;
        *(v390 + 33) = v291;
        *(v390 + 34) = v291;
        *(v390 + 35) = v291;
        v292 = (v20 + 208);
        v293 = 1072;
        v294 = vld1q_dup_f32(v292);
        do
        {
          *&v390[v293] = v294;
          v293 -= 16;
        }

        while (v293 != 560);
        EvCrt_v("ChanReset ALL : PrePos2  BadNav %d  PosDisc %d  NavProbs %d  NavDiscrep %d  Count %d", v288, *(v20 + 332), *(v232 + 4), *v390, *(v390 + 223));
        v288 = *(v390 + 1);
      }

      if (v288 && !v389 && (*(v20 + 332) & 1) != 0)
      {
        v295 = 0;
        v296 = v381 + 96;
        v297 = v381 + 1760;
        do
        {
          if (Is_Legal(*(v296 + 4 * v295)) && *(v297 + v295) <= 0x18u)
          {
            v390[v295 + 448] = 17;
            v298 = (v20 + 208);
            v299 = vld1q_dup_f32(v298);
            for (j = 1072; j != 560; j -= 16)
            {
              *&v390[j] = v299;
            }

            GNSS_SV_Str = Get_GNSS_SV_Str(*(v296 + 4 * v295));
            EvCrt_v("ChanReset %d : PrePos3  %s  NavProbs %d  NavDiscrep %d  SNR %d", v295, GNSS_SV_Str, *(v402 + 4), *v390, *(v297 + v295));
          }

          ++v295;
        }

        while (v295 != 128);
      }
    }

    else
    {
      memcpy(__b, v231 + 6630, 0x1B4uLL);
      v302 = v231;
      v303 = 0;
      v304 = 0;
      v388 = -*(v20 + 320);
      v305 = v390 + 8;
      v387 = *(v20 + 208);
      v306 = v302 + 965;
      v385 = *(v20 + 322);
      v380 = v302 + 747;
      v379 = v302 + 6194;
      v383 = v302 + 9;
      do
      {
        if (v305[v303] == 1)
        {
          if (*(v306 + v303) || v304 > 0x7A)
          {
            goto LABEL_527;
          }

          LODWORD(__src[0]) = 0;
          v307 = LongPrnIdx_To_Prn(v303, __src);
          v308 = __src[0];
          if (LODWORD(__src[0]) == 2)
          {
            v307 = *(*(a10 + 8680) + 4 * v307 - 4);
          }

          v309 = 0;
          v310 = 217;
          v311 = __b + 2;
          do
          {
            if (v303 + 1 == *(__b + v309))
            {
              v312 = v310;
              v313 = v311;
              if (v309 <= 0xD8)
              {
                do
                {
                  *(v313 - 1) = *v313;
                  ++v313;
                  --v312;
                }

                while (v312);
              }

              WORD1(__b[27]) = -1;
            }

            ++v309;
            v311 += 2;
            --v310;
          }

          while (v309 != 218);
          v314 = v308 | (v307 << 16);
          Default_PR_ms_Amb = API_Get_Default_PR_ms_Amb(v314);
          v316 = &v383[6 * v304];
          *v316 = v387;
          *(v316 + 4) = 1;
          *(v316 + 2) = v314;
          *(v316 + 3) = 0;
          *(v316 + 8) = 2 * Default_PR_ms_Amb;
          *(v316 + 9) = v385;
          *(v316 + 10) = 0;
          *(v316 + 11) = v388;
          *(v316 + 24) = -1;
          *(v316 + 13) = 5115;
          *(v316 + 28) = 0;
          *(v316 + 9) = 0;
          *(v316 + 10) = 157;
          *(v316 + 22) = 0;
          memcpy((a10 + 6630), __b, 0x1B4uLL);
          *(v380 + v303) = v304;
          *&v379[2 * v304] = v303 + 1;
          *(v306 + v303) = 1;
          *(a10 + 8596) = ++v304;
          *(a10 + 8592) = v304;
          --*(a10 + 8593);
          if (v305[v303])
          {
LABEL_527:
            v317 = v390[v303 + 226];
            v390[v317 + 448] = 17;
            *&v390[4 * v317 + 576] = *(v20 + 208);
            v318 = Get_GNSS_SV_Str(*(v381 + 96 + 4 * v317));
            EvCrt_v("ChanReset %d : PrePos1  %s  BadNav %d  PosDisc %d  NavProbs %d  NavDiscrep %d  SNR %d", v317, v318, *(v390 + 1), *(v20 + 332), *(v402 + 4), *v390, *(v381 + 1760 + v303));
          }
        }

        ++v303;
      }

      while (v303 != 218);
      v286 = v390;
    }

    if (*v289)
    {
      *(v286 + 8) = 0u;
      *(v286 + 110) = 0;
      *(v286 + 408) = 0u;
      *(v286 + 424) = 0u;
      *(v286 + 376) = 0u;
      *(v286 + 392) = 0u;
      *(v286 + 344) = 0u;
      *(v286 + 360) = 0u;
      *(v286 + 312) = 0u;
      *(v286 + 328) = 0u;
      *(v286 + 280) = 0u;
      *(v286 + 296) = 0u;
      *(v286 + 248) = 0u;
      *(v286 + 264) = 0u;
      *(v286 + 216) = 0u;
      *(v286 + 232) = 0u;
      *(v286 + 184) = 0u;
      *(v286 + 200) = 0u;
      *(v286 + 152) = 0u;
      *(v286 + 168) = 0u;
      *(v286 + 120) = 0u;
      *(v286 + 136) = 0u;
      *(v286 + 88) = 0u;
      *(v286 + 104) = 0u;
      *(v286 + 56) = 0u;
      *(v286 + 72) = 0u;
      *(v286 + 24) = 0u;
      *(v286 + 40) = 0u;
      *(v286 + 1) = 0;
    }

    v116 = v401;
    v231 = a10;
    v175 = v403;
    if (*(v20 + 332) == 1)
    {
      *v286 = 1;
    }
  }

  else
  {
LABEL_492:
    v289 = v390 + 4;
    v288 = *(v390 + 1);
    if (v288)
    {
      v290 = 0;
      goto LABEL_495;
    }
  }

  v319 = *(v175 + 15);
  *(a10 + 8670) = 0;
  if (v319 == 1)
  {
    v320 = 0;
    *(a10 + 8671) = 14;
    v231[1082] = 0;
    v392 = v231 + 1082;
    *(v231 + 8662) = 0;
    do
    {
      if ((*(*(v175 + 496) + v320) & 1) == 0 && *(*(v175 + 1056) + v320) != 1)
      {
        v321 = 0;
        goto LABEL_543;
      }

      ++v320;
    }

    while (v320 != 24);
    *(a10 + 8671) = 3584;
    v321 = 3;
LABEL_543:
    v395 = v20;
    v323 = v231 + 1075;
    v324 = v231 + 2151;
    v325 = xmmword_299050240;
    v326 = vdupq_n_s64(2uLL);
    v327 = 14;
    do
    {
      if (vmovn_s64(vcgtq_u64(vdupq_n_s64(0xEuLL), v325)).u8[0])
      {
        *(v324 - 1) = v321;
      }

      if (vmovn_s64(vcgtq_u64(vdupq_n_s64(0xEuLL), *&v325)).i32[1])
      {
        *v324 = v321;
      }

      v325 = vaddq_s64(v325, v326);
      v324 += 2;
      v327 -= 2;
    }

    while (v327);
    v328 = 0;
    v329 = v231 + 3097;
    v400 = v231 + 965;
    v397 = v393 + 17480;
    v330 = v231 + 747;
    v394 = v231 + 9;
    while (2)
    {
      LODWORD(__b[0]) = 0;
      v331 = v329[v328];
      v332 = v331 - 1;
      if (v331 >= 1)
      {
        v333 = LongPrnIdx_To_ShortPrnIdx((v331 - 1), __b);
        if (LODWORD(__b[0]) == 2)
        {
          v335 = v333;
          v336 = *(v231[1085] + 4 * v333);
          if (v336 != 2139062143)
          {
            v337 = v336 + 7;
            v338 = *(v400 + v332);
            if (v338 == 3)
            {
              if (!*(v323 + v337))
              {
                --*(a10 + 8671);
              }

              ++*(a10 + 8672);
              *(v323 + v337) = 3;
              *(v231[1086] + 4 * v337) = v333 + 1;
              *(v397 + 4 * v337) = 3;
LABEL_576:
              v175 = v403;
            }

            else
            {
              if (v338 != 1)
              {
                goto LABEL_576;
              }

              v339 = *(v323 + v337);
              if (v339 != 1)
              {
                v340 = *(a10 + 8670);
                if (v340 <= 13)
                {
                  if (!v339)
                  {
                    --*(a10 + 8671);
                  }

                  *(v392 + v340) = v336;
                  ++*(a10 + 8670);
                  *(v323 + v337) = 1;
                  *(v231[1086] + 4 * v337) = v333 + 1;
                  *(v397 + 4 * v337) = 3;
                  goto LABEL_576;
                }
              }

              *(v400 + v332) = 2;
              v341 = *(a10 + 8592);
              if (v341 == *(a10 + 8596))
              {
                EvLog_v("PP_Update_Glonass: num_viz & num_AA miss-match,  %d  %d   FrqId %d   Slot %d", *(a10 + 8592), v341, v337, v333 + 1);
                v341 = *(a10 + 8592);
              }

              v342 = 0;
              if (v341)
              {
                v343 = v341;
                v344 = v329;
                do
                {
                  v346 = *v344++;
                  v345 = v346;
                  if (v346 != v331)
                  {
                    v329[v342] = v345;
                    v342 = (v342 + 1);
                  }

                  --v343;
                }

                while (v343);
              }

              if (v342 != (v341 - 1))
              {
                EvLog_nd("PP_Update_Glonass: num_vis not decremented", 2, v334, v342, v341);
              }

              v329[v342] = -1;
              *(a10 + 8592) = v342;
              v347 = *(a10 + 8596) - 1;
              if (v347 == v342)
              {
                v348 = *(v330 + v332);
                *(a10 + 8596) = v347;
                v231 = a10;
                if ((v348 & 0x8000000000000000) == 0)
                {
                  v349 = &v394[6 * v348];
                  *(v349 + 30) = 0u;
                  *v349 = 0u;
                  v349[1] = 0u;
                  *(v330 + v332) = -1;
                }

                v328 -= v328 > 0;
                EvCrt_v("PP_Update_Glonass:  Error:  Two Glonass SVs visible on same freq,  FrqId %d  Slot %d", v337, v335 + 1);
                goto LABEL_576;
              }

              v231 = a10;
              v175 = v403;
            }
          }
        }
      }

      v235 = v328++ < 217;
      if (v235)
      {
        continue;
      }

      break;
    }

    v350 = 0;
    v351 = v231 + 981;
    v116 = v401;
    v20 = v395;
    while (2)
    {
      if (*(v323 + v350))
      {
LABEL_581:
        if (++v350 == 14)
        {
          goto LABEL_541;
        }

        continue;
      }

      break;
    }

    v352 = 0;
    v353 = 0;
    *&__b[0] = 0;
    v354 = v231[1085];
    v355 = 1;
    do
    {
      v356 = *(v354 + 4 * v352);
      if (v356 == v350 - 7)
      {
        *(__b + v353++) = v352;
      }

      else
      {
        v355 &= v356 != 2139062143;
      }

      if (v352 > 0x16)
      {
        break;
      }

      ++v352;
    }

    while (v353 < 2);
    if (v353 == 2)
    {
      v357 = *(v351 + SLODWORD(__b[0]));
      if (v357 == 3)
      {
        v358 = *(v351 + SDWORD1(__b[0]));
        if (v358 == 3)
        {
          *(v323 + v350) = 3;
          v359 = a10 + 0x2000;
          ++*(a10 + 8672);
LABEL_601:
          --*(v359 + 479);
          goto LABEL_581;
        }

LABEL_595:
        v360 = v358 > 1;
        if ((v355 & 1) == 0)
        {
LABEL_602:
          v361 = 0;
          goto LABEL_603;
        }

LABEL_598:
        if (v353 != 1)
        {
          if (!v353)
          {
            *(v323 + v350) = 2;
            v359 = a10 + 0x2000;
            goto LABEL_601;
          }

          goto LABEL_602;
        }

        v361 = *(v351 + SLODWORD(__b[0])) > 1;
LABEL_603:
        if (v360 || v361)
        {
          *(v323 + v350) = 2;
          --*(a10 + 8671);
          if (v353 == 2 && (v355 & 1) != 0)
          {
            v362 = __b[0];
            v363 = *(SLODWORD(__b[0]) + a11 + 32);
            v364 = *(SDWORD1(__b[0]) + a11 + 32);
            if (v364 <= -5)
            {
              v365 = __b[0];
            }

            else
            {
              v365 = DWORD1(__b[0]);
            }

            if (v363 <= -5)
            {
              v366 = DWORD1(__b[0]);
            }

            else
            {
              v366 = __b[0];
            }

            if (v363 < v364)
            {
              v362 = DWORD1(__b[0]);
            }

            if (v364 == -99)
            {
              v362 = v366;
            }

            if (v363 == -99)
            {
              v362 = v365;
            }

            *(v231[1086] + 4 * v350) = v362 + 1;
            *(v397 + 4 * v350) = 3;
          }
        }

        goto LABEL_581;
      }

      if (v357 >= 2)
      {
        v358 = *(v351 + SDWORD1(__b[0]));
        goto LABEL_595;
      }
    }

    v360 = 0;
    if ((v355 & 1) == 0)
    {
      goto LABEL_602;
    }

    goto LABEL_598;
  }

  *(a10 + 8671) = 0;
  memset_pattern16(v231 + 1075, &unk_299050260, 0x38uLL);
LABEL_541:
  SB_SBAS_PrePos(v402, v20, v175, v116, v231, a11);
  v322 = *MEMORY[0x29EDCA608];
}

_BYTE *PP_BDS_D2_Set_Not_Visible(_BYTE *result, _BYTE *a2, uint64_t a3, uint64_t a4)
{
  v18 = *MEMORY[0x29EDCA608];
  if (result)
  {
    if (a2)
    {
      if (a3)
      {
        if (a4)
        {
          v7 = result;
          if (*result)
          {
            v8 = 0;
            v9 = 0;
            do
            {
              v17 = 0;
              v10 = *(a3 + 2 * v8);
              v11 = v10 - 1;
              if (v10 >= 1)
              {
                result = LongPrnIdx_To_Prn(v10 - 1, &v17);
                if (v17 == 4 && result - 59 <= 0xFFFFFFCA)
                {
                  *(a3 + 2 * v8) = -1;
                  *(a4 + 4 * v11) = 2;
                  ++v9;
                }
              }

              ++v8;
              v12 = *v7;
            }

            while (v8 < v12);
            if (v9)
            {
              if (*v7)
              {
                v13 = 0;
                LODWORD(v14) = 0;
                do
                {
                  v15 = *(a3 + 2 * v13);
                  if (v15 >= 1)
                  {
                    *(a3 + 2 * v14) = v15;
                    LODWORD(v14) = v14 + 1;
                    LOBYTE(v12) = *v7;
                  }

                  ++v13;
                }

                while (v13 < v12);
              }

              else
              {
                LODWORD(v14) = 0;
              }

              if (v14 < v12)
              {
                v14 = v14;
                do
                {
                  if (*(a3 + 2 * v14) >= 1)
                  {
                    *(a3 + 2 * v14) = -1;
                    LOBYTE(v12) = *v7;
                  }

                  ++v14;
                }

                while (v14 < v12);
              }

              *v7 = v12 - v9;
              *a2 += v9;
            }
          }
        }
      }
    }
  }

  v16 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t NK_VVel_Aiding_Required(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v27 = *MEMORY[0x29EDCA608];
  v6 = a2 + 60176;
  if ((!*(a1 + 27136) || *(a2 + 20) < 8 || *(a1 + 241) == 1) && *(a2 + 60416) == 1 || (v7 = *(a1 + 20), (v7 - 5) < 4) || v7 == 4 && *(a2 + 1840) > 50.0)
  {
    result = 0;
    *a3 = 0;
  }

  else
  {
    v25[0] = 0.0;
    v25[1] = 0.0;
    v26 = 0.0;
    Comp_NEDvar_UDU(a1 + 976, 0xCu, 9, (a2 + 1736), v25);
    v10 = *(a1 + 27136);
    v11 = v10 && (*(a1 + 241) & 1) == 0 && (*(a1 + 20) & 0xFFFFFFFE) == 2 && *(a2 + 1848) < 2.0;
    if (*(a2 + 20) > 8)
    {
      v12 = 4;
    }

    else
    {
      v12 = 5;
    }

    if (*(v6 + 2008) == 1 && *(v6 + 272) < 4.0)
    {
      v12 = 0;
    }

    else if (v11 && *(v6 + 1948) < 4u)
    {
      v12 = 0x80;
    }

    else if (*(v6 + 1992) == 1 && *v6 < 1.0e-16)
    {
      --v12;
    }

    v13 = v26;
    if (*(v6 + 1949) < v12 || *(a2 + 21712) + *(a2 + 36616) < 1.5 || ((v14 = *(a1 + 20), v14 > 8) ? (v15 = 1000000.0) : (v15 = *&qword_299050318[v14]), v26 > v15))
    {
      if (*(v6 + 1949) || *(v6 + 2012) || *(v6 + 2020) || *(v6 + 2036) || *(v6 + 2040))
      {
        *a3 = 1;
      }
    }

    if (*a3 == 1)
    {
      if (!v10 || *(a1 + 241) == 1)
      {
        *(a3 + 24) = 0;
        v16 = *(a1 + 20);
        if (v16 > 8)
        {
          v17 = 1000000.0;
        }

        else
        {
          v17 = *&qword_299050318[v16];
        }

LABEL_66:
        *(a3 + 32) = v17;
        *(a3 + 4) = 2;
        *(a3 + 20) = *a2;
        *(a3 + 16) = 0;
        *(a3 + 48) = xmmword_2990502C0;
        *(a3 + 64) = 0;
        result = 1;
        goto LABEL_7;
      }

      v18 = *(a2 + 1832);
      *(a3 + 24) = -v18;
      if (v11 && ((v19 = *(a2 + 1848), v19 < 1.0) ? (v20 = *(v6 + 1948) >= 3u) : (v20 = 1), !v20 || v19 < 0.2) || v18 * v18 > v13 * 9.0)
      {
        *(a3 + 24) = 0;
      }

      v21 = *(a1 + 20);
      if (v21 > 8)
      {
        v22 = 9000000.0;
      }

      else
      {
        v22 = dbl_2990502D0[v21];
      }

      if (v13 <= v22)
      {
        Dynamics_Mode::Get_Vert_Vel_Aid_Var(v21);
        v22 = v23 * 0.25;
        if (v13 >= v22)
        {
LABEL_62:
          if (v21 > 8)
          {
            v24 = 1000000.0;
          }

          else
          {
            v24 = *&qword_299050318[v21];
          }

          v17 = v13 + v24;
          goto LABEL_66;
        }
      }

      else
      {
        *(a3 + 24) = 0;
      }

      v13 = v22;
      goto LABEL_62;
    }

    result = 0;
  }

LABEL_7:
  v9 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t Dynamics_Mode::Get_Vert_Vel_Aid_Var(uint64_t this)
{
  if (this <= 8)
  {
    v1 = qword_299050318[this];
  }

  v2 = *MEMORY[0x29EDCA608];
  v3 = *MEMORY[0x29EDCA608];
  return this;
}

__n128 GN_GPS_Get_LibVersion(char *a1)
{
  v30 = *MEMORY[0x29EDCA608];
  v2 = *(qword_2A14541A0 + 476);
  v3 = *(qword_2A14541A0 + 478);
  v4 = *(qword_2A14541A0 + 480);
  v5 = *(qword_2A14541A0 + 484);
  v6 = *(qword_2A14541A0 + 485);
  v7 = *(qword_2A14541A0 + 486);
  v8 = *(qword_2A14541A0 + 487);
  v9 = qword_2A1454200;
  if (__PAIR64__(*(qword_2A1454200 + 14), *(qword_2A1454200 + 8)) != __PAIR64__(v3, v2) || *(qword_2A1454200 + 16) != v4 || *(qword_2A1454200 + 20) != v5 || *(qword_2A1454200 + 21) != v6 || *(qword_2A1454200 + 22) != v7 || *(qword_2A1454200 + 23) != v8)
  {
    *(qword_2A1454200 + 8) = v2;
    *(v9 + 14) = v3;
    *(v9 + 16) = v4;
    *(v9 + 20) = v5;
    *(v9 + 21) = v6;
    *(v9 + 22) = v7;
    *(v9 + 23) = v8;
    v10 = (v2 >> 10) & 0x1F | 0x40;
    *(v9 + 10) = (v2 >> 10) & 0x1F | 0x40;
    *(v9 + 11) = (v2 >> 5) & 0x1F | 0x40;
    v11 = (v9 + 11);
    *(v9 + 12) = v2 & 0x1F | 0x40;
    *(v9 + 13) = 0;
    v12 = *v9;
    v13 = *v9 + 33;
    v28 = v12;
    v29 = v13;
    v27[1] = v12;
    do
    {
      v27[0] = v12 + 1;
      *v12 = v10;
      v12 = v27[0];
      if (v27[0] >= v29)
      {
        v12 = v28;
        v27[0] = v28;
      }

      v14 = *v11++;
      LOBYTE(v10) = v14;
    }

    while (v14);
    v27[0] = v12 + 1;
    *v12 = 58;
    if (v27[0] >= v29)
    {
      v27[0] = v28;
    }

    sprintf_03x(v27, *(v9 + 14));
    v15 = v27[0]++;
    *v15 = 45;
    if (v27[0] >= v29)
    {
      v27[0] = v28;
    }

    sprintf_08x(v27, *(v9 + 16));
    v16 = v27[0]++;
    *v16 = 45;
    if (v27[0] >= v29)
    {
      v27[0] = v28;
    }

    sprintf_02d(v27, *(v9 + 20));
    v17 = v27[0]++;
    *v17 = 46;
    if (v27[0] >= v29)
    {
      v27[0] = v28;
    }

    sprintf_02d(v27, *(v9 + 21));
    v18 = v27[0]++;
    *v18 = 46;
    if (v27[0] >= v29)
    {
      v27[0] = v28;
    }

    sprintf_02d(v27, *(v9 + 22));
    v19 = v27[0]++;
    *v19 = 46;
    if (v27[0] >= v29)
    {
      v27[0] = v28;
    }

    sprintf_02d(v27, *(v9 + 23));
  }

  v20 = *(v9 + 24);
  v21 = *(v9 + 40);
  v22 = *(v9 + 72);
  *(a1 + 2) = *(v9 + 56);
  *(a1 + 3) = v22;
  *a1 = v20;
  *(a1 + 1) = v21;
  result = *(v9 + 88);
  v24 = *(v9 + 104);
  v25 = *(v9 + 136);
  *(a1 + 6) = *(v9 + 120);
  *(a1 + 7) = v25;
  *(a1 + 4) = result;
  *(a1 + 5) = v24;
  v26 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Initialise(uint64_t a1)
{
  MEMORY[0x2A1C7C4A8](a1);
  v45 = *MEMORY[0x29EDCA608];
  v1 = mach_continuous_time();
  v2 = 0;
  v3 = (*&g_MacClockTicksToMsRelation * v1);
  v4 = &v43[24];
  v5 = vdupq_n_s64(0xBuLL);
  do
  {
    v6 = vdupq_n_s64(v2);
    v7 = vorrq_s8(v6, xmmword_299050240);
    if (vuzp1_s16(vmovn_s64(vcgtq_u64(v5, v7)), 2).u8[0])
    {
      *v4 = v3;
    }

    if (vuzp1_s16(vmovn_s64(vcgtq_u64(vdupq_n_s64(0xBuLL), v7)), 2).i8[2])
    {
      *(v4 - 1) = v3;
    }

    if (vuzp1_s16(2, vmovn_s64(vcgtq_u64(vdupq_n_s64(0xBuLL), vorrq_s8(v6, xmmword_299050360)))).i32[1])
    {
      *(v4 - 2) = v3;
      *(v4 - 3) = v3;
    }

    v2 += 4;
    v4 -= 4;
  }

  while (v2 != 12);
  Last_Published_Nav_Data_TTag = 0;
  Last_Published_Raw_Meas_TTag = 0;
  _MergedGlobals_1 = 0;
  inited = GNSS_Init_p_list();
  GNSS_Clear_DataAreas(inited);
  v9 = *(&g_GN_GPS_Data_p_list + 1);
  **(&g_GN_GPS_Data_p_list + 1) = 0u;
  *(v9 + 16) = 0u;
  GNSS_HL_Data_Bases_Clear(&g_GN_GPS_Data_p_list);
  EvCrt_v("GN_GPS_Initialise: ");
  g_Logging_Cfg = 4;
  v10 = qword_2A1454200;
  *(qword_2A1454200 + 8) = 0;
  *(v10 + 14) = 0;
  *(v10 + 16) = 0;
  *(v10 + 24) = 0x7375646E6962696CLL;
  LOBYTE(v11) = 32;
  *(v10 + 32) = 32;
  __src[3] = v10 + 42;
  __src[2] = v10 + 32;
  __src[1] = v10 + 32;
  v12 = (v10 + 33);
  strcpy(v44, " 2");
  v13 = 1;
  do
  {
    __src[0] = v12 + 1;
    *v12 = v11;
    v12 = __src[0];
    v14 = __src[3];
    if (__src[0] >= __src[3])
    {
      v12 = __src[2];
      __src[0] = __src[2];
    }

    v11 = v44[v13++];
  }

  while (v11);
  __src[0] = v12 + 1;
  *v12 = 46;
  if ((v12 + 1) >= v14)
  {
    __src[0] = __src[2];
  }

  nzet(__src, 0x6Fu, v44, 0, 0, 0);
  v15 = __src[0]++;
  *v15 = 46;
  if (__src[0] >= __src[3])
  {
    v16 = __src[2];
  }

  else
  {
    v16 = __src[0];
  }

  __src[0] = v16 + 1;
  *v16 = 51;
  if (__src[0] >= __src[3])
  {
    v17 = __src[2];
  }

  else
  {
    v17 = __src[0];
  }

  __src[0] = v17 + 1;
  *v17 = 45;
  strcpy((v10 + 42), "250711-000:0000-00000000-00.00.00.00  Oct 10 2025 21:35:48");
  *v10 = v10 + 49;
  *(v10 + 152) = 0;
  *&word_2A14544AE = 0;
  if (byte_2A14544AC == 1)
  {
    v18 = word_2A14544B2 + 1;
  }

  else
  {
    v18 = 1;
    byte_2A14544AC = 1;
  }

  word_2A14544B2 = v18;
  GNSS_Mark_Restart(0);
  v40 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
  DWORD1(v42) = v40;
  EvLog("GN_GPS_Initialise:  Read NV_Store NO Data");
  bzero(__src, 0x8290uLL);
  s_NV_Ram::s_NV_Ram(__src);
  v19 = qword_2A1454220;
  memcpy(qword_2A1454220, __src, 0x828CuLL);
  NV_Ram_Init(v19);
  Debug_Log_NonVol(0, qword_2A1454220);
  v39 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
  DWORD2(v42) = v39;
  v20 = qword_2A1454228;
  EvLog("NA_Ram_Init:");
  p_NA = v20;
  bzero(__src, 0x69F8uLL);
  s_NA_Ram::s_NA_Ram(__src);
  memcpy(p_NA, __src, 0x69F8uLL);
  GNSS_HL_Data_Bases_Init(&g_GN_GPS_Data_p_list);
  *(*(&xmmword_2A1454168 + 1) + 1664) = -1169279272;
  Nav_Kalman_Update_Init(qword_2A14541B0);
  v38 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
  HIDWORD(v42) = v38;
  API_Query_Config(qword_2A1454208);
  g_GN_GNSS_Nav_Debug_Port = 1;
  v37 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
  *v43 = v37;
  v21 = qword_2A14541A0;
  v22 = *(qword_2A14541A0 + 440);
  *(qword_2A14541A0 + 512) = v22;
  *(v21 + 504) = 0;
  EvLog_v("GN_GPS_Initialise:  GNB ME HW 0x%x 0x%x   ME FW Checksum 0x%x   TTick %u", *(v21 + 476), *(v21 + 478), *(v21 + 480), v22);
  v35 = *(*(&xmmword_2A1454168 + 1) + 12);
  v36 = *(*(&xmmword_2A1454168 + 1) + 1854);
  v33 = *(*(&xmmword_2A1454168 + 1) + 1853);
  v34 = *(*(&xmmword_2A1454168 + 1) + 1855);
  v31 = *(*(&xmmword_2A1454168 + 1) + 1844);
  v32 = *(*(&xmmword_2A1454168 + 1) + 1852);
  v30 = *(*(&xmmword_2A1454168 + 1) + 1736);
  v29 = *(*(&xmmword_2A1454168 + 1) + 1732);
  EvLog_v("GN_GPS_Initialise:  %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d  %d %d  %d %d %d  %d %d %d %d  %d  %d %d  %d %d  %d %d %d  %d  %d", *(*(&xmmword_2A1454168 + 1) + 4), *(*(&xmmword_2A1454168 + 1) + 65), *(*(&xmmword_2A1454168 + 1) + 14), *(*(&xmmword_2A1454168 + 1) + 15), *(*(&xmmword_2A1454168 + 1) + 16), *(*(&xmmword_2A1454168 + 1) + 17), *(*(&xmmword_2A1454168 + 1) + 18), *(*(&xmmword_2A1454168 + 1) + 19), *(*(&xmmword_2A1454168 + 1) + 20), *(*(&xmmword_2A1454168 + 1) + 21), *(*(&xmmword_2A1454168 + 1) + 22), *(*(&xmmword_2A1454168 + 1) + 23), *(*(&xmmword_2A1454168 + 1) + 24), *(*(&xmmword_2A1454168 + 1) + 25), *(*(&xmmword_2A1454168 + 1) + 26), *(*(&xmmword_2A1454168 + 1) + 27), *(*(&xmmword_2A1454168 + 1) + 28), *(*(&xmmword_2A1454168 + 1) + 29), *(*(&xmmword_2A1454168 + 1) + 30), *(*(&xmmword_2A1454168 + 1) + 31), *(*(&xmmword_2A1454168 + 1) + 32), *(*(&xmmword_2A1454168 + 1) + 33), *(*(&xmmword_2A1454168 + 1) + 34), *(*(&xmmword_2A1454168 + 1) + 35), *(*(&xmmword_2A1454168 + 1) + 36), *(*(&xmmword_2A1454168 + 1) + 37), *(*(&xmmword_2A1454168 + 1) + 38), *(*(&xmmword_2A1454168 + 1) + 39), *(*(&xmmword_2A1454168 + 1) + 40), *(*(&xmmword_2A1454168 + 1) + 41), *(*(&xmmword_2A1454168 + 1) + 42), *(*(&xmmword_2A1454168 + 1) + 43), *(*(&xmmword_2A1454168 + 1) + 44), *(*(&xmmword_2A1454168 + 1) + 45), *(*(&xmmword_2A1454168 + 1) + 46), *(*(&xmmword_2A1454168 + 1) + 1668), *(*(&xmmword_2A1454168 + 1) + 1768), *(*(&xmmword_2A1454168 + 1) + 1760), *(*(&xmmword_2A1454168 + 1) + 1680), *(*(&xmmword_2A1454168 + 1) + 1688), *(*(&xmmword_2A1454168 + 1) + 1696), *(*(&xmmword_2A1454168 + 1) + 1704), v29, *(*(&xmmword_2A1454168 + 1) + 1734), v30, *(*(&xmmword_2A1454168 + 1) + 1840), v31, v32, v33, v34, v35, v36);
  v23 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
  *&v43[4] = v23;
  *&v43[8] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
  EvLog_v("GN_GPS_Initialise: OS Time Waypoints: %u %d %d %d %d %d %d", v42, v40 - v42, v39 - v42, v38 - v42, v37 - v42, v23 - v42, *&v43[8] - v42);
  v24 = *(&xmmword_2A1454168 + 1);
  v25 = *(&xmmword_2A1454168 + 1) + 1792;
  v26 = *v43;
  *(*(&xmmword_2A1454168 + 1) + 1792) = v42;
  *(v24 + 1808) = v26;
  *(v25 + 28) = *&v43[12];
  result = GNSS_Event_Log_Ctl(qword_2A1454250);
  v28 = *MEMORY[0x29EDCA608];
  return result;
}

void GNSS_Mark_Restart(int a1)
{
  v44 = *MEMORY[0x29EDCA608];
  GNSS_Write_NMEA(qword_2A1454240);
  GNSS_Write_GNB_Ctrl(qword_2A1454238);
  GNSS_GNB_Debug_Ctl(qword_2A1454258);
  GNSS_Event_Log_Ctl(qword_2A1454250);
  GNSS_Nav_Debug_Ctl(qword_2A1454248);
  API_Query_Config(v42);
  v2 = qword_2A1454238;
  v3 = *(qword_2A1454238 + 16);
  *qword_2A1454238 = v3;
  *(v2 + 8) = v3;
  if (a1 == 2)
  {
    GN_GPS_Get_LibVersion(&v40);
    v4 = 0;
    v5 = *v2;
    v6 = 10;
    do
    {
      *v2 = v5 + 1;
      *v5 = v6;
      v5 = *v2;
      if (*v2 >= *(v2 + 24))
      {
        v5 = *(v2 + 16);
        *v2 = v5;
      }

      v6 = aPeGnLibVer[++v4];
    }

    while (v4 != 16);
    v7 = v40;
    if (v40)
    {
      v8 = v41;
      do
      {
        *v2 = v5 + 1;
        *v5 = v7;
        v5 = *v2;
        if (*v2 >= *(v2 + 24))
        {
          v5 = *(v2 + 16);
          *v2 = v5;
        }

        v9 = *v8++;
        v7 = v9;
      }

      while (v9);
    }

    v10 = 32;
    v11 = 1u;
    do
    {
      *v2 = v5 + 1;
      *v5 = v10;
      v5 = *v2;
      if (*v2 >= *(v2 + 24))
      {
        v5 = *(v2 + 16);
        *v2 = v5;
      }

      v10 = aOsms[v11++];
    }

    while (v11 != 7);
    v12 = mach_continuous_time();
    sprintf_10u(v2, (*&g_MacClockTicksToMsRelation * v12));
    v13 = *v2;
    goto LABEL_47;
  }

  v14 = 10;
  v15 = 1u;
  do
  {
    *v2 = v3 + 1;
    *v3 = v14;
    v3 = *v2;
    if (*v2 >= *(v2 + 24))
    {
      v3 = *(v2 + 16);
      *v2 = v3;
    }

    v14 = asc_29905F65B[v15++];
  }

  while (v15 != 46);
  switch(a1)
  {
    case 0:
      v16 = &word_2A14544B2;
      v17 = "GN_GPS_Initialise ";
      goto LABEL_26;
    case 3:
      v16 = &word_2A14544B0;
      v17 = "WAKE ";
      goto LABEL_26;
    case 1:
      v16 = &word_2A14544AE;
      v17 = "RESTART ";
LABEL_26:
      v18 = *v17;
      if (*v17)
      {
        v19 = (v17 + 1);
        do
        {
          *v2 = v3 + 1;
          *v3 = v18;
          v3 = *v2;
          if (*v2 >= *(v2 + 24))
          {
            v3 = *(v2 + 16);
            *v2 = v3;
          }

          v20 = *v19++;
          v18 = v20;
        }

        while (v20);
      }

      sprintf1da(v2, *v16, &v40, 0, 0);
      v3 = *v2;
      break;
  }

  v21 = 32;
  v22 = 1u;
  do
  {
    *v2 = v3 + 1;
    *v3 = v21;
    v3 = *v2;
    if (*v2 >= *(v2 + 24))
    {
      v3 = *(v2 + 16);
      *v2 = v3;
    }

    v21 = asc_29905F6AB[v22++];
  }

  while (v22 != 45);
  v23 = mach_continuous_time();
  sprintf_10u(v2, (*&g_MacClockTicksToMsRelation * v23));
  v24 = (*v2)++;
  *v24 = 10;
  if (*v2 >= *(v2 + 24))
  {
    *v2 = *(v2 + 16);
  }

  GN_GPS_Get_LibVersion(&v40);
  v25 = 0;
  v13 = *v2;
  v26 = 10;
  do
  {
    *v2 = v13 + 1;
    *v13 = v26;
    v13 = *v2;
    if (*v2 >= *(v2 + 24))
    {
      v13 = *(v2 + 16);
      *v2 = v13;
    }

    v26 = aPeGnLibVer[++v25];
  }

  while (v25 != 16);
  v27 = v40;
  if (v40)
  {
    v28 = v41;
    do
    {
      *v2 = v13 + 1;
      *v13 = v27;
      v13 = *v2;
      if (*v2 >= *(v2 + 24))
      {
        v13 = *(v2 + 16);
        *v2 = v13;
      }

      v29 = *v28++;
      v27 = v29;
    }

    while (v29);
  }

LABEL_47:
  if (*(qword_2A1454200 + 152))
  {
    v30 = 10;
    v31 = 1u;
    do
    {
      *v2 = v13 + 1;
      *v13 = v30;
      v13 = *v2;
      if (*v2 >= *(v2 + 24))
      {
        v13 = *(v2 + 16);
        *v2 = v13;
      }

      v30 = aHostversion[v31++];
    }

    while (v31 != 15);
    v32 = *(qword_2A1454200 + 152);
    if (v32)
    {
      v33 = (qword_2A1454200 + 153);
      do
      {
        *v2 = v13 + 1;
        *v13 = v32;
        v13 = *v2;
        if (*v2 >= *(v2 + 24))
        {
          v13 = *(v2 + 16);
          *v2 = v13;
        }

        v34 = *v33++;
        v32 = v34;
      }

      while (v34);
    }
  }

  v35 = 0;
  v36 = 10;
  do
  {
    *v2 = v13 + 1;
    *v13 = v36;
    v13 = *v2;
    if (*v2 >= *(v2 + 24))
    {
      v13 = *(v2 + 16);
      *v2 = v13;
    }

    v36 = asc_29905F6FF[++v35];
  }

  while (v35 != 2);
  v37 = *(v2 + 16);
  if (v43 >= 1)
  {
    v38 = v13 - *(v2 + 8);
    GN_GPS_Write_Event_Log(v38, v37);
    GNSS_Write_NMEA(v2);
    v37 = *(v2 + 16);
    if (v43 >= 4)
    {
      GN_GPS_Write_GNB_Debug(v38, v37);
      GN_GPS_Write_Nav_Debug(v38, *(v2 + 16));
      v37 = *(v2 + 16);
    }
  }

  *v2 = v37;
  *(v2 + 8) = v37;
  if (a1)
  {
    GNSS_Nav_Debug_InitWrite(&g_GN_GPS_Data_p_list);
  }

  v39 = *MEMORY[0x29EDCA608];
}

char *GN_GPS_Update(void)
{
  v115 = *MEMORY[0x29EDCA608];
  v0 = *(&xmmword_2A1454168 + 1);
  v1 = mach_continuous_time();
  v2 = 0;
  v3 = (*&g_MacClockTicksToMsRelation * v1);
  v4 = v0 + 458;
  v5 = vdupq_n_s64(0xBuLL);
  do
  {
    v6 = vdupq_n_s64(v2);
    v7 = vorrq_s8(v6, xmmword_299050240);
    if (vuzp1_s16(vmovn_s64(vcgtq_u64(v5, v7)), 2).u8[0])
    {
      *v4 = v3;
    }

    if (vuzp1_s16(vmovn_s64(vcgtq_u64(vdupq_n_s64(0xBuLL), v7)), 2).i8[2])
    {
      *(v4 - 1) = v3;
    }

    if (vuzp1_s16(2, vmovn_s64(vcgtq_u64(vdupq_n_s64(0xBuLL), vorrq_s8(v6, xmmword_299050360)))).i32[1])
    {
      *(v4 - 2) = v3;
      *(v4 - 3) = v3;
    }

    v2 += 4;
    v4 -= 4;
  }

  while (v2 != 12);
  if (g_GN_GPS_Data_p_list != 1)
  {
    if (*(*(&xmmword_2A1454168 + 1) + 46) == 1)
    {
      if (g_GN_GPS_Data_p_list)
      {
        if (g_GN_GPS_Data_p_list == 7 || g_GN_GPS_Data_p_list == 4)
        {
          v0[449] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
          GNSS_Write_GNB_Ctrl(qword_2A1454238);
          GNSS_GNB_Debug_Ctl(qword_2A1454258);
          GNSS_Event_Log_Ctl(qword_2A1454250);
          v0[450] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
          v97 = (v0[449] - v0[448]);
          result = EvLog_v("Sensor in Sleep or Coma Mode: OS Time Waypoints, %u %d %d");
LABEL_163:
          v96 = *MEMORY[0x29EDCA608];
          return result;
        }

LABEL_25:
        G5K_Read_GNB_Meas(qword_2A1454230);
        v0[451] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
        G5K_ME_Decode_Meas(qword_2A1454230, qword_2A14541A0);
        v12 = qword_2A14541A0;
        *(qword_2A14541A0 + 516) = 0;
        if (g_GN_GPS_Data_p_list == 5 || g_GN_GPS_Data_p_list == 8)
        {
          v13 = v12[128];
          v14 = *(&xmmword_2A1454168 + 1);
          if (v13)
          {
            v12[129] = *(*(&xmmword_2A1454168 + 1) + 1668) + v13;
          }

          v12[141] = 0;
          if (!*(v14 + 1868))
          {
            if (*(v14 + 1856) == 1)
            {
              *(v14 + 1856) = 0;
              *(v14 + 1868) = *(v14 + 1872);
            }

            else
            {
              v15 = mach_continuous_time();
              v14 = *(&xmmword_2A1454168 + 1);
              *(*(&xmmword_2A1454168 + 1) + 1868) = (*&g_MacClockTicksToMsRelation * v15);
              v12 = qword_2A14541A0;
            }
          }
        }

        else
        {
          v14 = *(&xmmword_2A1454168 + 1);
        }

        v114 = 0;
        if (G5K_ME_Poll_New_Meas(v12, v14, *(&g_GN_GPS_Data_p_list + 1), qword_2A1454138, qword_2A1454140, &v114))
        {
          v16 = qword_2A1454228;
          v17 = xmmword_2A1454168;
          *(xmmword_2A1454168 + 444) = 0;
          v17[28] = 0u;
          v17[29] = 0u;
          v17[30] = 0u;
          v17[31] = 0u;
          v17[32] = 0u;
          v17[33] = 0u;
          v17[34] = 0u;
          v17[35] = 0u;
          GNSS_GNB_Debug_Ctl(qword_2A1454258);
          if (g_GN_GPS_Data_p_list != 11)
          {
            EvCrt_d("GN_GPS_Update: GNSS_Exe_State = ", g_GN_GPS_Data_p_list);
          }

          v18 = v114;
          if (v114)
          {
            *(v16 + 2) = 0;
            *(v16 + 4) = 0;
            *(v16 + 6) = 0;
            *(v16 + 8) = 0;
            EvLog("GN_GPS_Update:  Cleared NA data because ME_Reset_Detected");
            v18 = v114;
          }

          else
          {
            v29 = *(qword_2A14541A0 + 520);
            v30 = *(qword_2A14541A0 + 564);
            if (v29 + 10 < v30 && v29 + 10000 < v30)
            {
              v31 = *(qword_2A14541A0 + 460);
              v98 = *(qword_2A14541A0 + 524);
              result = EvLog_v("GN_GPS_Update:  Warning - possible throughput problem  %u  %u  %u  %u");
              goto LABEL_163;
            }
          }

          if (v18)
          {
            v19 = qword_2A14541A0;
          }

          else
          {
            v32 = g_GN_GPS_Data_p_list;
            v19 = qword_2A14541A0;
            if (g_GN_GPS_Data_p_list != 2)
            {
              v44 = *(qword_2A14541A0 + 452);
              if (g_GN_GPS_Data_p_list == 5 || v44)
              {
                if (g_GN_GPS_Data_p_list != 5)
                {
                  EvLog_v("GN_GPS_Update:  Unexpected Coma_Ticks (%d) > 0 for GNSS_Exe_State (%d)", v44, g_GN_GPS_Data_p_list);
                  DbgLog_v(1, "GN_GPS_Update:  Unexpected Coma_Ticks (%d) > 0 for GNSS_Exe_State (%d)", *(qword_2A14541A0 + 452), g_GN_GPS_Data_p_list);
                  v44 = *(qword_2A14541A0 + 452);
                }

                if (!v44)
                {
                  EvCrt_v("GN_GPS_Update: WARNING Coma Ticks = 0 even though Coma wakeup %d", g_GN_GPS_Data_p_list);
                  DbgLog_v(1, "GN_GPS_Update: WARNING Coma Ticks = 0 even though Coma wakeup %d", g_GN_GPS_Data_p_list);
                }

                v32 = 6;
                LODWORD(g_GN_GPS_Data_p_list) = 6;
                v18 = v114;
              }

              else if (g_GN_GPS_Data_p_list == 8)
              {
                v32 = 9;
                LODWORD(g_GN_GPS_Data_p_list) = 9;
              }

LABEL_64:
              v33 = *(&xmmword_2A1454168 + 1);
              v111 = xmmword_2A1454168;
              *(*(&xmmword_2A1454168 + 1) + 2048) = v32;
              *(v33 + 2046) = v18;
              v34 = qword_2A1454158;
              v35 = qword_2A1454138;
              *(qword_2A1454158 + 104) = 0;
              v36 = *v34;
              if (*v34)
              {
                v37 = *(v34 + 40) * 1000.0;
                v38 = -0.5;
                if (v37 > 0.0)
                {
                  v38 = 0.5;
                }

                v39 = v37 + v38;
                if (v39 <= 2147483650.0)
                {
                  if (v39 >= -2147483650.0)
                  {
                    v40 = v39;
                  }

                  else
                  {
                    v40 = 0x80000000;
                  }
                }

                else
                {
                  v40 = 0x7FFFFFFF;
                }

                v45 = *(v34 + 24);
                v46 = *v35 + v40;
                v113 = v46 - 75 - v45;
                v107 = v0;
                if (v36 > 0xB)
                {
                  v47 = 604800000;
                }

                else
                {
                  v47 = dword_299050390[v36 - 1];
                }

                v112 = v47;
                v48 = 0;
                v49 = 0;
                v110 = v45 - v46 + 75;
                v50 = 10;
                v51 = 1803;
                v108 = v46 - 75 - v45;
                v109 = v45 + 86400000 - v46 + 74;
                do
                {
                  v52 = &v35[v48];
                  if (v35[v48 + 1802] && (~*(v52 + 3608) & 0x208) == 0)
                  {
                    v53 = v35[v48 + 1802];
                    v54 = v53 == 4 || v53 == 2;
                    if (v54)
                    {
                      v55 = 1500 * v35[v50];
                      v56 = v35[v50 + 1] / 1023;
                      v57 = v56 + v55;
                      v58 = v56 + v55 - v113;
                      if (v53 == 2)
                      {
                        if (v58 >= 43199999)
                        {
                          v59 = 43199999;
                        }

                        else
                        {
                          v59 = v56 + v55 - v113;
                        }

                        v60 = 86400000 * ((v109 + v55 + v56 - v59) / 0x5265C00u);
                        v61 = v110 + v55 + v56 - v60;
                        if (v61 <= -43200000)
                        {
                          v62 = -43200000;
                        }

                        else
                        {
                          v62 = v110 + v55 + v56 - v60;
                        }

                        v63 = v108 - v56 + v60 + v62;
                        v54 = v63 == v55;
                        v64 = (v63 - v55 - (v63 != v55)) / 0x5265C00;
                        if (!v54)
                        {
                          ++v64;
                        }

                        v58 = v61 + 86400000 * v64;
                      }

                      if (v58 >= 0)
                      {
                        v65 = v58;
                      }

                      else
                      {
                        v65 = -v58;
                      }

                      if (v65 > v112)
                      {
                        *(v111 + v49 + 448) = 3;
                        *(v111 + 576 + 4 * v49) = *v35;
                        GNSS_SV_Str = Get_GNSS_SV_Str(v52[1802]);
                        EvCrt_v("ChanReset %d : SF_Sync_Spoofing  %s  %d  SNR %d  %x  d_Sig_ToT_ms  %d(%d - %d) > %d", v49, GNSS_SV_Str, SHIBYTE(v35[v51 - 1]), LOBYTE(v35[v51]), *(v52 + 3608), v58, v57, v113, v112);
                        *(v52 + 3608) &= 0xFDF7u;
                        *(v34 + 104) = 0;
                      }
                    }
                  }

                  ++v49;
                  v50 += 14;
                  v51 += 9;
                  v48 += 9;
                }

                while (v49 != 128);
                v32 = g_GN_GPS_Data_p_list;
                v0 = v107;
              }

              if (v32 > 8)
              {
                if (v32 == 9)
                {
LABEL_117:
                  API_Set_Config(qword_2A1454208);
                  GNSS_HL_System_Re_Start(&g_GN_GPS_Data_p_list);
                  g_GN_GNSS_Nav_Debug_Port = 1;
                  ++word_2A14544B0;
                  GNSS_Mark_Restart(3);
                  *(*(&xmmword_2A1454168 + 1) + 1772) = **(&g_GN_GPS_Data_p_list + 1);
                  v67 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
                  v68 = *(&xmmword_2A1454168 + 1);
                  *(*(&xmmword_2A1454168 + 1) + 1776) = v67;
                  *(v68 + 1836) = v67;
                  goto LABEL_122;
                }

                if (v32 != 11)
                {
LABEL_118:
                  EvLog_d("GN_GPS_Update: Unexpected GNSS_Exe_State state - restarting ", v32);
LABEL_121:
                  GNSS_Starting_NotInitialised();
                  goto LABEL_122;
                }

                GNSS_Nav_Debug_InitWrite(&g_GN_GPS_Data_p_list);
                API_Set_Config(qword_2A1454208);
                GNSS_HL_System_Run_Update(&g_GN_GPS_Data_p_list);
              }

              else
              {
                if (v32 != 3)
                {
                  if (v32 != 6)
                  {
                    goto LABEL_118;
                  }

                  goto LABEL_117;
                }

                if (*(*(&xmmword_2A1454168 + 1) + 1664) != -1169279272)
                {
                  goto LABEL_121;
                }

                GNSS_Starting_Initialised();
              }

LABEL_122:
              *(*(&xmmword_2A1454168 + 1) + 1664) = 0;
              v0[454] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
              if (g_GN_GPS_Data_p_list != 11)
              {
                goto LABEL_154;
              }

              G5K_ME_Send_Ctrl(qword_2A1454238, qword_2A1454238, qword_2A14541A0, *(&xmmword_2A1454168 + 1), qword_2A1454150, xmmword_2A1454168);
              if (*(*(&xmmword_2A1454168 + 1) + 1836))
              {
                v69 = mach_continuous_time();
                v72 = *&g_MacClockTicksToMsRelation * v69;
                v73 = v72;
                v74 = *(*(&xmmword_2A1454168 + 1) + 1836);
                v75 = v72 - v74;
                if (v72 < v74)
                {
                  EvCrt_nd("GN_GPS_Update: Detected OS ms Time has gone backwards", 2, v71, v72, v74);
                  *(*(&xmmword_2A1454168 + 1) + 1836) = 0;
                  goto LABEL_142;
                }

                v76 = v75 / 1000;
                if (v75 / 1000 >= *(*(&xmmword_2A1454168 + 1) + 1840))
                {
                  v77 = *(*(&xmmword_2A1454168 + 1) + 1848);
                  if (v77)
                  {
                    v78 = (v73 - v77) / 1000;
                    if (v78 >= v76 && v78 < *(*(&xmmword_2A1454168 + 1) + 1844))
                    {
                      goto LABEL_142;
                    }
                  }

                  else
                  {
                    v78 = 0;
                  }

                  GncP16_34HandleRestartAcq(v69, v70, v71);
                  v79 = *(&xmmword_2A1454168 + 1);
                  *(*(&xmmword_2A1454168 + 1) + 1848) = v73;
                  *(v79 + 1836) = 0;
                  EvCrt_v("GN_GPS_Restart_Acquisition(): API call due to No Fix within %d s; Time since last call %d s", v76, v78);
                }
              }

LABEL_142:
              v0[455] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
              if (*(*(p_api + 80) + 360) > 600.0)
              {
                v82 = qword_2A1454178;
                EvCrt_v("WARNING:  Nav Output Inhibited:  Wassenaar / ITAR Export License speed exceeded:  %f > %f m/s", *(qword_2A1454178 + 360), 600.0);
                GNSS_Event_Log_Ctl(qword_2A1454250);
                GN_GPS_Wassenaar_ITAR_Speed_Exceeded(*(v82 + 360), 600.0);
              }

              else
              {
                if (API_Get_Nav_Data(qword_2A1454210))
                {
                  if (g_Logging_Cfg >= 1)
                  {
                    NMEA_Encode(qword_2A1454240, qword_2A1454210, qword_2A1454218);
                    GNSS_Write_NMEA(qword_2A1454240);
                  }

                  v0[456] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
                  v80 = v0[440];
                  if (v80)
                  {
                    v81 = v0[417] + v0[441];
                    v0[441] = v81;
                    if (v81 >= v80)
                    {
                      if (g_GncPStateInfo != 8)
                      {
                        GncP07_08WriteNVStore(0x8290uLL, qword_2A1454220);
                      }

                      EvLog("GN_GPS_Write_NV_Store:  1");
                      v0[441] = 0;
                    }
                  }

                  v0[457] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
                }

                GNSS_Nav_Debug_Screens(&g_GN_GPS_Data_p_list);
                GNSS_Event_Log_Ctl(qword_2A1454250);
                GNSS_GNB_Debug_Ctl(qword_2A1454258);
                v0[458] = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
              }

LABEL_154:
              if (*qword_2A1454158 == 11)
              {
                v83 = *(xmmword_2A1454188 + 88);
                if (v83 >= 3 && (v84 = *(xmmword_2A1454188 + 87), v83 >= 2 * v84))
                {
                  v86 = *(xmmword_2A1454188 + 89);
                  v85 = *(xmmword_2A1454188 + 90);
                }

                else
                {
                  v85 = *(xmmword_2A1454188 + 90);
                  if (v85 < 3)
                  {
                    goto LABEL_162;
                  }

                  v86 = *(xmmword_2A1454188 + 89);
                  if (v85 < 2 * v86)
                  {
                    goto LABEL_162;
                  }

                  v84 = *(xmmword_2A1454188 + 87);
                }

                EvCrt_v("GN_GPS_Update:  WARNING:  Sub-ms Time Verification failed !  Exact_Bit_Sync %d pass vs %d fail , SF_Sync %d pass vs %d fail , Bit_ms_offset %d", v84, v83, v86, v85, *(xmmword_2A1454188 + 91));
                v87 = EvCrt_v("GN_GPS_Update:  WARNING:  Deprecating Time status to +/- 100ms and calling GN_GPS_Restart_Acquisition()");
                v88 = qword_2A1454158;
                *qword_2A1454158 = 7;
                *(v88 + 76) = 7;
                v89 = qword_2A1454178;
                *(qword_2A1454178 + 56) = 7;
                *(v89 + 204) = 7;
                *(v89 + 872) = 0x4163125300000000;
                v90 = p_NV + 0x8000;
                *(p_NV + 33192) = 0xFFFFFFFFLL;
                *(v90 + 432) = 0;
                *(v90 + 440) = 0;
                GncP16_34HandleRestartAcq(v87, v91, v92);
              }

LABEL_162:
              v93 = v0[448];
              v94 = (v0[456] - v93);
              v95 = (v0[457] - v93);
              v106 = (v0[458] - v93);
              v105 = (v0[455] - v93);
              v103 = (v0[453] - v93);
              v104 = (v0[454] - v93);
              v101 = (v0[451] - v93);
              v102 = (v0[452] - v93);
              v99 = (v0[449] - v93);
              v100 = (v0[450] - v93);
              result = EvLog_v("OS Time Waypoints: %u %u %d %d %d %d %d %d %d %d %d %d %d", *qword_2A1454210, *(qword_2A14541A0 + 460), (v93 - *(qword_2A14541A0 + 460)));
              goto LABEL_163;
            }
          }

          v32 = 3;
          LODWORD(g_GN_GPS_Data_p_list) = 3;
          *(v19 + 394) = 0;
          *(v19 + 564) = 0;
          goto LABEL_64;
        }

        if (*(qword_2A1454238 + 8) != *qword_2A1454238)
        {
          GNSS_Write_GNB_Ctrl(qword_2A1454238);
        }

        if (*(qword_2A1454240 + 8) != *qword_2A1454240)
        {
          GNSS_Write_NMEA(qword_2A1454240);
        }

        if (*(qword_2A1454248 + 8) != *qword_2A1454248)
        {
          GNSS_Nav_Debug_Ctl(qword_2A1454248);
        }

        if (*(qword_2A1454250 + 8) != *qword_2A1454250)
        {
          GNSS_Event_Log_Ctl(qword_2A1454250);
        }

        if (*(qword_2A1454258 + 8) != *qword_2A1454258)
        {
          GNSS_GNB_Debug_Ctl(qword_2A1454258);
        }

        ++_MergedGlobals_1;
        v20 = *&g_MacClockTicksToMsRelation * mach_continuous_time();
        v21 = v20;
        v22 = *(qword_2A1454138 + 4);
        v23 = v20 - v22;
        _MergedGlobals_1 = 0;
        v24 = *(*(&xmmword_2A1454168 + 1) + 1668);
        if (g_GN_GPS_Data_p_list <= 8 && ((1 << g_GN_GPS_Data_p_list) & 0x124) != 0)
        {
          v25 = *(qword_2A14541A0 + 504);
          if (v25 && v21 - v25 < 501)
          {
            goto LABEL_139;
          }

          v26 = 10 * v24;
          if (v26 <= 10000)
          {
            v26 = 10000;
          }

          if (v23 >= v26)
          {
            EvLog_v("GN_GPS_Hard_Reset_GNB:  %d > %d ms gap!, >>>POWEROFF_WAKE_UP  (%u)", v20 - v22, v26, v22);
            LODWORD(g_GN_GPS_Data_p_list) = 2;
            GN_GPS_Hard_Reset_GNB();
            *(qword_2A1454138 + 4) = v21;
            v43 = qword_2A14541A0;
            *(qword_2A14541A0 + 480) = 0;
            *(v43 + 488) = 0;
LABEL_139:
            GNSS_Event_Log_Ctl(qword_2A1454250);
            result = GNSS_GNB_Debug_Ctl(qword_2A1454258);
            goto LABEL_163;
          }

          EvLog_v("No valid comms :  %u  %d", v22, v20 - v22);
          v27 = qword_2A1454238;
          v28 = qword_2A1454258;
        }

        else
        {
          v41 = 5 * v24;
          if (v41 <= 3000)
          {
            v41 = 3000;
          }

          if (v23 < v41)
          {
            goto LABEL_139;
          }

          if (v23 <= 0x3E418)
          {
            EvLog_v("GN_GPS_Update:  Lost BB Coms for %d > %d ms, >>>SLEEP_WAKE_UP  (%u)", v20 - v22, v41, v22);
            v42 = 8;
          }

          else
          {
            EvLog_v("GN_GPS_Update:  Lost BB Coms for %d > %d ms, >>>COMA_WAKE_UP  (%u)", v20 - v22, 255000, v22);
            v42 = 5;
          }

          LODWORD(g_GN_GPS_Data_p_list) = v42;
          v27 = qword_2A1454238;
          v28 = qword_2A1454258;
        }

        G5K_ME_Send_WakeUp(v27, v28);
        goto LABEL_139;
      }
    }

    else if (g_GN_GPS_Data_p_list)
    {
      if (g_GN_GPS_Data_p_list == 7 || g_GN_GPS_Data_p_list == 4)
      {
        v11 = *MEMORY[0x29EDCA608];
        v9 = "GN_GPS_Update:  ERROR:  Called while in Sleep/Coma !";
        goto LABEL_11;
      }

      goto LABEL_25;
    }

    if (*(*(&xmmword_2A1454168 + 1) + 1664) != -1169279272)
    {
      EvCrt_v("GN_GPS_Update:  WARNING:  Called with unexpected GNSS_INVALID_EXE_STATE", COERCE_DOUBLE(2), 0.0);
    }

    goto LABEL_25;
  }

  v8 = *MEMORY[0x29EDCA608];
  v9 = "GN_GPS_Update:  ERROR:  Called while in PowerOff !";
LABEL_11:

  return EvCrt_v(v9, COERCE_DOUBLE(2), 0.0);
}

BOOL GNSS_Starting_Initialised(void)
{
  v9 = *MEMORY[0x29EDCA608];
  EvLog("GN_GPS_Update: Starting after initialisation");
  GNSS_Mark_Restart(2);
  v0 = qword_2A14541A0;
  v1 = *(qword_2A14541A0 + 476);
  v2 = *(qword_2A14541A0 + 440);
  *(*(&xmmword_2A1454168 + 1) + 1772) = v2;
  v3 = *(v0 + 484);
  v4 = *&g_MacClockTicksToMsRelation * mach_continuous_time();
  v5 = *(&xmmword_2A1454168 + 1);
  *(*(&xmmword_2A1454168 + 1) + 1776) = v4;
  *(v5 + 1836) = v4;
  *(qword_2A1454158 + 128) = v2;
  GNSS_HL_System_Start_Up(&g_GN_GPS_Data_p_list);
  v6 = qword_2A14541A0;
  *(qword_2A14541A0 + 476) = v1;
  *(v6 + 484) = v3;
  result = API_Set_Config(qword_2A1454208);
  LODWORD(g_GN_GPS_Data_p_list) = 11;
  v8 = *MEMORY[0x29EDCA608];
  return result;
}

BOOL GNSS_Starting_NotInitialised(void)
{
  v15 = *MEMORY[0x29EDCA608];
  EvLog("GN_GPS_Update: Starting from Power Off but without having been initialised");
  g_GN_GNSS_Nav_Debug_Port = 1;
  ++word_2A14544AE;
  word_2A14544B0 = 0;
  GNSS_Mark_Restart(1);
  v0 = *(qword_2A14541A0 + 476);
  v1 = *(qword_2A14541A0 + 480);
  v2 = *(qword_2A14541A0 + 440);
  v3 = *(*(&xmmword_2A1454168 + 1) + 1868);
  v4 = *(*(&xmmword_2A1454168 + 1) + 1872);
  v5 = *(*(&xmmword_2A1454168 + 1) + 2046);
  v6 = *(*(&xmmword_2A1454168 + 1) + 2048);
  v7 = *(qword_2A1454160 + 62170);
  GNSS_HL_System_Start_Up(&g_GN_GPS_Data_p_list);
  v8 = qword_2A14541A0;
  *(qword_2A14541A0 + 476) = v0;
  *(v8 + 480) = v1;
  v9 = *(&xmmword_2A1454168 + 1);
  *(*(&xmmword_2A1454168 + 1) + 1868) = v3;
  *(v9 + 1872) = v4;
  *(v9 + 2046) = v5;
  *(v9 + 2048) = v6;
  *(qword_2A1454160 + 62170) = v7;
  *(v9 + 1772) = v2;
  v10 = *&g_MacClockTicksToMsRelation * mach_continuous_time();
  v11 = *(&xmmword_2A1454168 + 1);
  *(*(&xmmword_2A1454168 + 1) + 1776) = v10;
  *(v11 + 1836) = v10;
  v12 = qword_2A1454208;
  if (*(qword_2A1454208 + 28) == 1)
  {
    EvLog_v("GNSS_Starting_NotInitialised:  Cleared Disabling L1 Band Family signals");
    v12 = qword_2A1454208;
  }

  *(v12 + 28) = 0;
  v13 = *MEMORY[0x29EDCA608];

  return API_Set_Config(v12);
}

uint64_t GN_GPS_Shutdown(void)
{
  v5 = *MEMORY[0x29EDCA608];
  EvLog("GN_GPS_Shutdown: ");
  if (g_GN_GPS_Data_p_list > 7 || ((1 << g_GN_GPS_Data_p_list) & 0x92) == 0)
  {
    G5K_ME_Send_Sleep(qword_2A1454238, qword_2A1454258, 0, 0xFFFFu, *(*(&xmmword_2A1454168 + 1) + 1855));
    EvLog("GN_GPS_Shutdown: Send ME to Coma ");
    *(*(&xmmword_2A1454168 + 1) + 1764) = 0;
    *(qword_2A14541A0 + 504) = 0;
    LODWORD(g_GN_GPS_Data_p_list) = 4;
    if (g_GncPStateInfo != 8)
    {
      GncP07_08WriteNVStore(0x8290uLL, qword_2A1454220);
    }

    Debug_Log_NonVol(1, qword_2A1454220);
    EvLog_nd("GN_GPS_Shutdown: GN_GPS_Write_NV_Store ", 4, v1, *(qword_2A1454220 + 4), *(qword_2A1454220 + 33416), 33424, 22);
  }

  else
  {
    EvLog_d("GN_GPS_Shutdown: GNSS already Idle or Off ", g_GN_GPS_Data_p_list);
  }

  v2 = qword_2A1454250;
  v3 = *MEMORY[0x29EDCA608];

  return GNSS_Event_Log_Ctl(v2);
}

uint64_t GN_GPS_WakeUp(void)
{
  v15[3] = *MEMORY[0x29EDCA608];
  EvCrt_v("GN_GPS_WakeUp: ");
  v0 = qword_2A14541A0;
  *(qword_2A14541A0 + 512) = *(qword_2A14541A0 + 440);
  G5K_ME_Flush_Data(v0);
  if (g_GN_GPS_Data_p_list != 11)
  {
    *qword_2A1454138 = 0;
    v1 = mach_continuous_time();
    v2 = qword_2A1454138;
    *(qword_2A1454138 + 4) = (*&g_MacClockTicksToMsRelation * v1);
    *(v2 + 8) = 0;
    v3 = -4608;
    do
    {
      v4 = qword_2A1454138 + v3 + 11816;
      *(v4 + 32) = 0;
      *v4 = 0uLL;
      *(v4 + 16) = 0uLL;
      v3 += 36;
    }

    while (v3);
    v5 = qword_2A1454230;
    v6 = *(qword_2A1454230 + 16);
    *qword_2A1454230 = v6;
    *(v5 + 8) = v6;
    G5K_Read_GNB_Meas(v5);
    v7 = *qword_2A1454230 - *(qword_2A1454230 + 8);
    if (v7)
    {
      EvLog_v("%s: Flushed bytes  %d", "GN_GPS_WakeUp", v7);
      v8 = qword_2A1454230;
      v9 = *(qword_2A1454230 + 16);
      *qword_2A1454230 = v9;
      *(v8 + 8) = v9;
    }
  }

  G5K_ME_Send_WakeUp(qword_2A1454238, qword_2A1454258);
  EvLog_v("%s:  Read NV_Store NO Data", "GN_GPS_WakeUp");
  Debug_Log_NonVol(1, qword_2A1454220);
  memset(v15, 0, 24);
  Debug_Log_ApxTime(v15);
  _MergedGlobals_1 = 0;
  if ((g_GN_GPS_Data_p_list - 4) < 3)
  {
    LODWORD(g_GN_GPS_Data_p_list) = 5;
    if (*qword_2A1454158 >= 11)
    {
      *qword_2A1454158 = 10;
    }
  }

  else if ((g_GN_GPS_Data_p_list - 7) > 2)
  {
    LODWORD(g_GN_GPS_Data_p_list) = 2;
    v10 = qword_2A1454158;
    *qword_2A1454158 = 0;
    *(v10 + 16) = 0;
  }

  else
  {
    LODWORD(g_GN_GPS_Data_p_list) = 8;
  }

  *(qword_2A1454228 + 3) = 0;
  v11 = *(&xmmword_2A1454168 + 1);
  if (*(*(&xmmword_2A1454168 + 1) + 42) == 1)
  {
    EvLog_v("%s:  Cleared Disabling L1 Band Family signals", "GN_GPS_WakeUp");
    v11 = *(&xmmword_2A1454168 + 1);
  }

  *(v11 + 42) = 0;
  v12 = qword_2A1454250;
  v13 = *MEMORY[0x29EDCA608];

  return GNSS_Event_Log_Ctl(v12);
}

uint64_t GN_GPS_Sleep(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3 = a2;
  v4 = a1;
  v12 = *MEMORY[0x29EDCA608];
  EvCrt_nd("GN_GPS_Sleep: ", 2, a3, a1, a2);
  if (v4 >= 0x100)
  {
    v4 = 255;
    EvLog_v("GN_GPS_Sleep:  SleepModeTimeOut limited to %d s", 255);
  }

  if (g_GN_GPS_Data_p_list > 0xB)
  {
    goto LABEL_7;
  }

  if (((1 << g_GN_GPS_Data_p_list) & 0xF80) != 0)
  {
    if (v4)
    {
      v5 = 7;
LABEL_13:
      LODWORD(g_GN_GPS_Data_p_list) = v5;
      goto LABEL_14;
    }

LABEL_11:
    v5 = 4;
    goto LABEL_13;
  }

  if (((1 << g_GN_GPS_Data_p_list) & 0xE) != 0)
  {
    v5 = 1;
    goto LABEL_13;
  }

  if (((1 << g_GN_GPS_Data_p_list) & 0x70) != 0)
  {
    goto LABEL_11;
  }

LABEL_7:
  if (!g_GN_GPS_Data_p_list)
  {
    LODWORD(g_GN_GPS_Data_p_list) = 1;
    EvCrt_Illegal_switch_case("GN_GPS_Sleep", 0x604u);
  }

LABEL_14:
  G5K_ME_Send_Sleep(qword_2A1454238, qword_2A1454258, v4, v3, *(*(&xmmword_2A1454168 + 1) + 1855));
  if (g_GncPStateInfo != 8)
  {
    GncP07_08WriteNVStore(0x8290uLL, qword_2A1454220);
  }

  v7 = *(&xmmword_2A1454168 + 1);
  *(*(&xmmword_2A1454168 + 1) + 1764) = 0;
  *(qword_2A14541A0 + 504) = 0;
  EvLog_nd("GN_GPS_Sleep:  GN_GPS_Write_NV_Store ", 4, v6, *(qword_2A1454220 + 4), *(qword_2A1454220 + 33416), 33424, 22);
  v8 = qword_2A1454178;
  if (*(qword_2A1454178 + 1) == 1 && *(qword_2A1454178 + 56) == 11 && *(qword_2A1454178 + 872) <= 300.0)
  {
    *(v7 + 248) = *(qword_2A1454178 + 32);
    *(v7 + 256) = *(v8 + 48) - *(v8 + 152);
  }

  *(*(&xmmword_2A1454168 + 1) + 12) = 0;
  if (*(qword_2A1454240 + 8) != *qword_2A1454240)
  {
    GNSS_Write_NMEA(qword_2A1454240);
  }

  if (*(qword_2A1454250 + 8) != *qword_2A1454250)
  {
    GNSS_Event_Log_Ctl(qword_2A1454250);
  }

  if (*(qword_2A1454248 + 8) != *qword_2A1454248)
  {
    GNSS_Nav_Debug_Ctl(qword_2A1454248);
  }

  if (*(qword_2A1454238 + 8) != *qword_2A1454238)
  {
    GNSS_Write_GNB_Ctrl(qword_2A1454238);
  }

  result = qword_2A1454258;
  if (*(qword_2A1454258 + 8) == *qword_2A1454258)
  {
    v11 = *MEMORY[0x29EDCA608];
  }

  else
  {
    v10 = *MEMORY[0x29EDCA608];

    return GNSS_GNB_Debug_Ctl(result);
  }

  return result;
}

char *EvLog_GN_GNSS_Config(const char *a1, double *a2)
{
  v18 = *MEMORY[0x29EDCA608];
  v2 = a2[7] * 1000000.0;
  v3 = -0.5;
  if (v2 <= 0.0)
  {
    v4 = -0.5;
  }

  else
  {
    v4 = 0.5;
  }

  v5 = v2 + v4;
  if (v5 <= 2147483650.0)
  {
    if (v5 >= -2147483650.0)
    {
      v6 = v5;
    }

    else
    {
      v6 = 0x80000000;
    }
  }

  else
  {
    v6 = 0x7FFFFFFF;
  }

  v7 = a2[8] * 1000000.0;
  if (v7 > 0.0)
  {
    v3 = 0.5;
  }

  v8 = v7 + v3;
  if (v8 <= 2147483650.0)
  {
    if (v8 >= -2147483650.0)
    {
      v9 = v8;
    }

    else
    {
      v9 = 0x80000000;
    }
  }

  else
  {
    v9 = 0x7FFFFFFF;
  }

  v11 = a2[9];
  v12 = -0.5;
  if (v11 > 0.0)
  {
    v12 = 0.5;
  }

  v13 = v11 + v12;
  if (v13 <= 2147483650.0)
  {
    if (v13 >= -2147483650.0)
    {
      v14 = v13;
    }

    else
    {
      v14 = 0x80000000;
    }
  }

  else
  {
    v14 = 0x7FFFFFFF;
  }

  v10 = *(a2 + 26);
  result = EvLog_v("%s  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d %d %d %d %d  %d %d %d  %d %d %d  %d  %d  %d  %d %d  %d %d %d  %d %d  %d %d  %d", a1, *a2, *(a2 + 1), *(a2 + 2), *(a2 + 3), *(a2 + 4), *(a2 + 5), *(a2 + 6), *(a2 + 7), *(a2 + 8), *(a2 + 9), *(a2 + 10), *(a2 + 11), *(a2 + 12), *(a2 + 13), *(a2 + 14), *(a2 + 15), *(a2 + 16), *(a2 + 17), *(a2 + 18), *(a2 + 19), *(a2 + 20), *(a2 + 21), *(a2 + 22), *(a2 + 23), *(a2 + 24), *(a2 + 25), v10, *(a2 + 27), *(a2 + 28), *(a2 + 29), *(a2 + 30), *(a2 + 31), *(a2 + 32), *(a2 + 17), *(a2 + 36), *(a2 + 10), *(a2 + 22), *(a2 + 23), *(a2 + 24), v6, v9, v14, *(a2 + 20), *(a2 + 21), *(a2 + 88), *(a2 + 89), *(a2 + 90));
  v16 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_Config(uint64_t a1)
{
  v15 = *MEMORY[0x29EDCA608];
  if (!a1)
  {
    EvCrt_v("GN_GPS_Set_Config: FAILED: No changes applied");
    goto LABEL_21;
  }

  v2 = g_Logging_Cfg;
  g_Logging_Cfg = 5;
  EvLog_GN_GNSS_Config("GN_GPS_Set_Config: ", a1);
  if (*(a1 + 48) > 0x2000u)
  {
    v7 = *(a1 + 48);
    EvCrt_v("GN_GPS_Set_Config: FAILED: Birth_GPS_WeekNo = %d > %d, Out of range!");
LABEL_21:
    result = 0;
    goto LABEL_22;
  }

  if (*(a1 + 34) <= 0x63u)
  {
    v8 = *(a1 + 34);
    EvCrt_v("GN_GPS_Set_Config: FAILED: FixInterval = %d <100, Out of range!");
    goto LABEL_21;
  }

  if (*(a1 + 36) == 255)
  {
    EvCrt_v("GN_GPS_Set_Config: FAILED: ForceCold_Timeout = %d ==255, Out of range!");
    goto LABEL_21;
  }

  if (*(a1 + 46) >= 0x2000u)
  {
    v9 = *(a1 + 46);
    EvCrt_v("GN_GPS_Set_Config: FAILED: Earliest_GPS_WeekNo = %d > 8191, Out of range!");
    goto LABEL_21;
  }

  if (fabs(*(a1 + 56)) > 90.0)
  {
    v10 = *(a1 + 56);
    EvCrt_v("GN_GPS_Set_Config: FAILED: Reference_LLH[0] = %g <-90.0 or >90.0, Out of range!");
    goto LABEL_21;
  }

  v3 = *(a1 + 64);
  if (v3 < -180.0 || v3 > 360.0)
  {
    v12 = *(a1 + 64);
    EvCrt_v("GN_GPS_Set_Config: FAILED: Reference_LLH[1] = %g <-180.0 or >360.0, Out of range!");
    goto LABEL_21;
  }

  v4 = *(a1 + 72);
  if (v4 < -1000.0 || v4 > 20000.0)
  {
    v13 = *(a1 + 72);
    EvCrt_v("GN_GPS_Set_Config: FAILED: Reference_LLH[2] = %g <-1000.0 or >20000.0, Out of range!");
    goto LABEL_21;
  }

  if (*(a1 + 80) >= 0xE11u)
  {
    v11 = *(a1 + 80);
    EvCrt_v("GN_GPS_Set_Config: FAILED: NoFixTime_to_RestartAcq_s = %d >SECS_IN_HOUR, Out of range!");
    goto LABEL_21;
  }

  if (*(a1 + 84) >= 0xE11u)
  {
    v14 = *(a1 + 84);
    EvCrt_v("GN_GPS_Set_Config: FAILED: ReAcq_Call_Interval_s = %d >SECS_IN_HOUR, Out of range!");
    goto LABEL_21;
  }

  if ((*a1 & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: GPS has been disabled");
  }

  if ((*(a1 + 1) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: GLONASS has been disabled");
  }

  if ((*(a1 + 4) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: BeiDou has been disabled");
  }

  if ((*(a1 + 5) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Galileo has been disabled");
  }

  if ((*(a1 + 2) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: QZSS has been disabled");
  }

  if ((*(a1 + 6) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: NavIC has been disabled");
  }

  if ((*(a1 + 3) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: SBAS has been disabled");
  }

  if (*(a1 + 21) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Use of GPS Over the Air decoded SV Nav Message data has been disabled");
  }

  if (*(a1 + 22) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Use of GLONASS Over the Air decoded SV Nav Message data has been disabled");
  }

  if (*(a1 + 25) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Use of BeiDou Over the Air decoded SV Nav Message data has been disabled");
  }

  if (*(a1 + 26) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Use of Galileo Over the Air decoded SV Nav Message data has been disabled");
  }

  if (*(a1 + 23) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Use of QZSS Over the Air decoded SV Nav Message data has been disabled");
  }

  if (*(a1 + 27) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Use of NavIC Over the Air decoded SV Nav Message data has been disabled");
  }

  if (*(a1 + 24) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Use of SBAS Over the Air decoded SV Nav Message data has been disabled");
  }

  if (*(a1 + 28) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: L1 Band Family signals have been disabled");
  }

  if ((*(a1 + 29) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: L5 Band Family signals have been disabled");
  }

  if (*(a1 + 30) & 1) != 0 || (EvCrt_v("GN_GPS_Set_Config: WARNING: Galileo E5b tracking jointly with E5a has been disabled"), (*(a1 + 30)))
  {
    if (*(a1 + 29) & 1) != 0 || (EvCrt_v("GN_GPS_Set_Config: WARNING: Galileo E5b tracking jointly with E5a has been enabled when L5 band tracking is disabled!"), (*(a1 + 30)))
    {
      if ((*(a1 + 5) & 1) == 0)
      {
        EvCrt_v("GN_GPS_Set_Config: WARNING: Galileo E5b tracking jointly with E5a has been enabled when Galileo is disabled!");
      }
    }
  }

  if (*(a1 + 40) <= 3)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Logging Level < 'Info' disables GNB and Nav Debug");
    if (!*(a1 + 40))
    {
      EvCrt_v("GN_GPS_Set_Config: WARNING: Diagnostic Logging has been disabled");
    }
  }

  if ((*(a1 + 88) & 1) == 0)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Avg Doppler Usage has been disabled");
  }

  if (*(a1 + 89) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: WARNING: Broadcast Navigation Message Data Use disabled to test XOF Data");
  }

  if (*(a1 + 90) == 1)
  {
    EvCrt_v("GN_GPS_Set_Config: Beidou Consistency behaviours required");
  }

  g_Logging_Cfg = v2;
  if (API_Set_Config(a1))
  {
    API_Query_Config(qword_2A1454208);
  }

  else
  {
    EvCrt_v("GN_GPS_Set_Config: API_Set_Config() FAILED");
  }

  GNSS_Event_Log_Ctl(qword_2A1454250);
  result = 1;
LABEL_22:
  v6 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_FixInterval(unsigned int a1)
{
  v5 = *MEMORY[0x29EDCA608];
  if (a1 > 0x63)
  {
    result = API_Set_FixInterval(a1);
    if (result)
    {
      v2 = *(p_api + 72);
      v3 = *(v2 + 1672);
      if (!v3)
      {
        v3 = *(v2 + 1668);
      }

      *(qword_2A1454208 + 34) = v3;
      result = 1;
    }
  }

  else
  {
    EvCrt_v("GN_GPS_Set_FixInterval:  FAILED:  FixInterval = %d  < 100, Out of range !", a1);
    result = 0;
  }

  v4 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_CrossCorr_Params(const double *a1)
{
  v13[1] = *MEMORY[0x29EDCA608];
  if (*a1 < 6.0 || *a1 > 60.0)
  {
    v13[0] = 0.0;
    if (!R8_EQ(a1, v13))
    {
      EvCrt_v("GN_GPS_Set_CrossCorr_Params: FAILED: Strong_Signal_Threshold = %f [0, 6..60 dBHz], Out of range!");
LABEL_26:
      result = 0;
      goto LABEL_27;
    }
  }

  v3 = a1[1];
  if (v3 < 6.0 || v3 > 60.0)
  {
    v13[0] = 0.0;
    if (!R8_EQ(a1 + 1, v13))
    {
      EvCrt_v("GN_GPS_Set_CrossCorr_Params: FAILED: XCorr_Margin_GPS_L1 = %f [0, 6..60 dB], Out of range!");
      goto LABEL_26;
    }
  }

  v5 = a1[2];
  if (v5 < 6.0 || v5 > 60.0)
  {
    v13[0] = 0.0;
    if (!R8_EQ(a1 + 2, v13))
    {
      EvCrt_v("GN_GPS_Set_CrossCorr_Params: FAILED: XCorr_Margin_GAL_E1 = %f [0, 6..60 dB], Out of range!");
      goto LABEL_26;
    }
  }

  v7 = a1[3];
  if (v7 < 6.0 || v7 > 60.0)
  {
    v13[0] = 0.0;
    if (!R8_EQ(a1 + 3, v13))
    {
      EvCrt_v("GN_GPS_Set_CrossCorr_Params: FAILED: XCorr_Margin_BDS_B1 = %f [0, 6..60 dB], Out of range!");
      goto LABEL_26;
    }
  }

  v9 = *(&xmmword_2A1454168 + 1);
  v10 = *(a1 + 1);
  *(*(&xmmword_2A1454168 + 1) + 2112) = *a1;
  *(v9 + 2128) = v10;
  result = 1;
  *(v9 + 2144) = 1;
LABEL_27:
  v12 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_XOF_Time(unsigned int a1, unsigned int a2)
{
  v6 = *MEMORY[0x29EDCA608];
  EvLog_v("GN_GPS_Set_XOF_Time: %u %u", a1, a2);
  if (a1 < 0x2000)
  {
    if (a2 <= 0x93A7F)
    {
      *(*(&xmmword_2A1454168 + 1) + 1740) = 604800 * a1 + a2;
      result = 1;
      goto LABEL_7;
    }

    EvCrt_v("GN_GPS_Set_XOF_Time: FAILED: XOF_GPS_TOW = %d >604799, Out of range!");
  }

  else
  {
    EvCrt_v("GN_GPS_Set_XOF_Time: FAILED: XOF_GPS_WeekNo = %d >8191, Out of range!");
  }

  result = 0;
LABEL_7:
  v5 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_RTI_Time(unsigned int a1, unsigned int a2)
{
  v6 = *MEMORY[0x29EDCA608];
  EvLog_v("GN_GPS_Set_RTI_Time: %u %u", a1, a2);
  if (a1 < 0x2000)
  {
    if (a2 <= 0x93A7F)
    {
      *(*(&xmmword_2A1454168 + 1) + 1744) = 604800 * a1 + a2;
      result = 1;
      goto LABEL_7;
    }

    EvCrt_v("GN_GPS_Set_RTI_Time: FAILED: RTI_GPS_TOW = %d >604799, Out of range!");
  }

  else
  {
    EvCrt_v("GN_GPS_Set_RTI_Time: FAILED: RTI_GPS_WeekNo = %d >8191, Out of range!");
  }

  result = 0;
LABEL_7:
  v5 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_EE_Start_Time(unsigned int a1, unsigned int a2)
{
  v14 = *MEMORY[0x29EDCA608];
  EvLog_v("GN_GPS_Set_EE_Start_Time: %u %u", a1, a2);
  if (a1 < 0x2000)
  {
    if (a2 >= 0x93A80)
    {
      EvCrt_v("GN_GPS_Set_EE_Start_Time: FAILED: EE_Start_GPS_TOW = %d >604799, Out of range!");
      goto LABEL_5;
    }

    v7 = *(&xmmword_2A1454168 + 1);
    v8 = a2 + 604800 * a1;
    Debug_Log_GPS_EE_Start_Time(a1, a2);
    v4 = 1;
    if (v8 == *(v7 + 1752))
    {
      goto LABEL_6;
    }

    v9 = 0;
    *(v7 + 1752) = v8;
    while (1)
    {
      Constell_Prn = Get_Constell_Prn(v9);
      if (Constell_Prn <= 7)
      {
        if (((1 << Constell_Prn) & 0x38) != 0)
        {
          v11 = v7 + v9;
          if (*(v7 + v9 + 265))
          {
            v13 = 1;
          }

          else
          {
            v13 = *(v11 + 544);
          }

          v12 = v13 & 1;
          goto LABEL_19;
        }

        if (((1 << Constell_Prn) & 0x86) != 0)
        {
          v11 = v7 + v9;
          v12 = *(v7 + v9 + 265);
LABEL_19:
          *(v11 + 1384) = v12;
          goto LABEL_20;
        }

        if (Constell_Prn == 6)
        {
          v11 = v7 + v9;
          v12 = *(v7 + v9 + 544);
          goto LABEL_19;
        }
      }

LABEL_20:
      if (++v9 == 218)
      {
        Core_Save_Inhib_EE((v7 + 1384), *(v7 + 1752));
        v4 = 1;
        goto LABEL_6;
      }
    }
  }

  EvCrt_v("GN_GPS_Set_EE_Start_Time: FAILED: EE_Start_GPS_WeekNo = %d >8191, Out of range!");
LABEL_5:
  v4 = 0;
LABEL_6:
  v5 = *MEMORY[0x29EDCA608];
  return v4;
}

uint64_t GN_GPS_Encode_NMEA(unsigned int a1, char *a2, int a3, _DWORD *a4, _DWORD *a5)
{
  v5 = 0;
  v13 = *MEMORY[0x29EDCA608];
  if (a1 >= 4 && a2)
  {
    if (!a5 || *a5 == *a4 && a5[1] == a4[1])
    {
      if (a3)
      {
        v11 = a2;
        v12 = &a2[a1];
        v9 = a2;
        v10 = a2;
        NMEA_Encode(&v9, a4, a5);
        v6 = v9;
        v5 = v9++ - v10;
        *v6 = 0;
      }

      else
      {
        v5 = 0;
        *a2 = 0;
      }
    }

    else
    {
      EvCrt_v("GN_GPS_Encode_NMEA:  FAILED:  Incompatible Nav & Debug Data Local_TTag or OS_Time_ms");
      v5 = 0;
    }
  }

  v7 = *MEMORY[0x29EDCA608];
  return v5;
}

void *GN_GPS_Mark_Single_Pos_Used(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  v48 = *MEMORY[0x29EDCA608];
  GNSS_Write_GNB_Ctrl(qword_2A1454238);
  GNSS_GNB_Debug_Ctl(qword_2A1454258);
  GNSS_Event_Log_Ctl(qword_2A1454250);
  GNSS_Nav_Debug_Ctl(qword_2A1454248);
  v8 = __src;
  v44 = __src;
  v45 = v47;
  v43 = __src;
  v9 = 10;
  v10 = 1u;
  do
  {
    v42 = v8 + 1;
    *v8 = v9;
    v8 = v42;
    v11 = v45;
    if (v42 >= v45)
    {
      v8 = v44;
      v42 = v44;
    }

    v9 = str_96[v10++];
  }

  while (v10 != 36);
  if (a1)
  {
    v12 = 70;
  }

  else
  {
    v12 = 66;
  }

  *v8 = v12;
  v13 = v8 + 1;
  if (v13 >= v11)
  {
    v13 = v44;
  }

  v42 = v13 + 1;
  *v13 = 32;
  if ((v13 + 1) >= v11)
  {
    v42 = v44;
  }

  sprintf_2d(&v42, a2);
  v14 = v42++;
  *v14 = 32;
  if (v42 >= v45)
  {
    v42 = v44;
  }

  sprintf_10u(&v42, a3);
  v15 = v42++;
  *v15 = 32;
  if (v42 >= v45)
  {
    v42 = v44;
  }

  sprintf_10u(&v42, a4);
  v16 = 0;
  v17 = 32;
  v18 = v42;
  do
  {
    v42 = v18 + 1;
    *v18 = v17;
    v18 = v42;
    if (v42 >= v45)
    {
      v18 = v44;
      v42 = v44;
    }

    v17 = str_97[++v16];
  }

  while (v16 != 8);
  API_Query_Config(v47);
  v19 = qword_2A1454258;
  v20 = (v42 - v43);
  v21 = *(qword_2A1454258 + 24);
  v22 = *qword_2A1454258;
  v23 = __src;
  do
  {
    v24 = v21 - v22;
    if (v20 >= v24)
    {
      v25 = v24;
    }

    else
    {
      v25 = v20;
    }

    memcpy(v22, v23, v25);
    v22 = (*v19 + v25);
    *v19 = v22;
    v21 = v19[3];
    if (v22 >= v21)
    {
      v22 = v19[2];
      *v19 = v22;
    }

    v23 += v25;
    v26 = __OFSUB__(v20, v25);
    v20 -= v25;
  }

  while (!((v20 < 0) ^ v26 | (v20 == 0)));
  v27 = qword_2A1454250;
  v28 = (v42 - v43);
  v29 = *(qword_2A1454250 + 24);
  v30 = *qword_2A1454250;
  v31 = __src;
  do
  {
    v32 = v29 - v30;
    if (v28 >= v32)
    {
      v33 = v32;
    }

    else
    {
      v33 = v28;
    }

    memcpy(v30, v31, v33);
    v30 = (*v27 + v33);
    *v27 = v30;
    v29 = v27[3];
    if (v30 >= v29)
    {
      v30 = v27[2];
      *v27 = v30;
    }

    v31 += v33;
    v26 = __OFSUB__(v28, v33);
    v28 -= v33;
  }

  while (!((v28 < 0) ^ v26 | (v28 == 0)));
  v34 = qword_2A1454248;
  v35 = (v42 - v43);
  v36 = *(qword_2A1454248 + 24);
  result = *qword_2A1454248;
  v38 = __src;
  do
  {
    v39 = v36 - result;
    if (v35 >= v39)
    {
      v40 = v39;
    }

    else
    {
      v40 = v35;
    }

    memcpy(result, v38, v40);
    result = (*v34 + v40);
    *v34 = result;
    v36 = v34[3];
    if (result >= v36)
    {
      result = v34[2];
      *v34 = result;
    }

    v38 += v40;
    v26 = __OFSUB__(v35, v40);
    v35 -= v40;
  }

  while (!((v35 < 0) ^ v26 | (v35 == 0)));
  v41 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_TM_FSP_OS_Time_ms(unsigned int a1, unsigned int a2)
{
  v9 = *MEMORY[0x29EDCA608];
  EvLog_v("GN_GPS_Set_TM_FSP_OS_Time_ms: %u %u %d", a1, a2, a1 - a2);
  Debug_Log_TM_FCP_OS_Time_ms(a1, a2);
  v4 = *&g_MacClockTicksToMsRelation * mach_continuous_time();
  if ((v4 - a1) >= 0)
  {
    v5 = v4 - a1;
  }

  else
  {
    v5 = a1 - v4;
  }

  if (v5 < 0x1389)
  {
    result = Is_GN_API_Set_Allowed("API_Set_TM_FSP_OS_Time_ms");
    if (result)
    {
      v7 = *(p_api + 256);
      result = 1;
      *v7 = 1;
      *(v7 + 392) = a1;
      *(v7 + 396) = a2;
    }
  }

  else
  {
    EvLog_v("GN_GPS_Set_TM_FSP_OS_Time_ms: REJECTED: OS_Time too different %d", v4 - a1);
    result = 0;
  }

  v8 = *MEMORY[0x29EDCA608];
  return result;
}

BOOL GN_GPS_Set_Platform_Calibration_GLONASS_Group_Delays(double *a1)
{
  v4 = *MEMORY[0x29EDCA608];
  EvLog_v("GN_GPS_Set_Platform_Calibration_GLONASS_Group_Delays:  %f  %f  %f  %f  %f  %f  %f  %f  %f  %f  %f  %f  %f  %f", *a1, a1[1], a1[2], a1[3], a1[4], a1[5], a1[6], a1[7], a1[8], a1[9], a1[10], a1[11], a1[12], a1[13]);
  Debug_Log_Platform_Calibration_GLONASS_Group_Delays(a1);
  v2 = *MEMORY[0x29EDCA608];

  return API_Set_Platform_Calibration_GLONASS_Group_Delays(a1);
}

BOOL GN_GPS_Set_Platform_Calibration_L5_Group_Delay(double a1)
{
  v6 = *MEMORY[0x29EDCA608];
  EvLog_v("GN_GPS_Set_Platform_Calibration_L5_Group_Delay:  %f", a1);
  Debug_Log_Platform_Calibration_L5_Group_Delay(a1);
  v2 = fabs(a1);
  if (v2 > 100.0)
  {
    EvCrt_v("API_Set_Platform_Calibration_L5_Group_Delays:  FAILED  Group Delay %f larger than +/-100m", a1);
  }

  else
  {
    v3 = *(p_api + 72);
    *(v3 + 2008) = a1;
    *(v3 + 2016) = 1;
  }

  result = v2 <= 100.0;
  v5 = *MEMORY[0x29EDCA608];
  return result;
}

BOOL GN_GPS_Set_Test_Mode(unsigned int a1)
{
  v4 = *MEMORY[0x29EDCA608];
  if (a1 >= 2)
  {
    EvCrt_v("GN_GPS_Set_Test_Mode:  Illegal Test Mode  %d  >  %d");
  }

  else
  {
    g_Test_Mode_Cfg = a1;
    EvCrt_v("GN_GPS_Set_Test_Mode:  Test Mode  %d  :  %s");
  }

  result = a1 < 2;
  v3 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GN_GPS_Set_RTI_Bad_SV_List(int a1, unsigned int a2, int *a3, unsigned __int8 *a4)
{
  v38 = *MEMORY[0x29EDCA608];
  memset(v37, 0, 218);
  result = Is_GN_API_Set_Allowed("GN_GPS_Set_RTI_Bad_SV_List");
  if (result)
  {
    Debug_Log_GPS_RTI_Bad_SV_List(a1, a2, a3, a4);
    v9 = "--";
    if (a1 == 1)
    {
      v9 = "L5";
    }

    if (a1)
    {
      v10 = v9;
    }

    else
    {
      v10 = "L1";
    }

    if (a2 > 0xDA)
    {
      EvCrt_v("GN_GPS_Set_RTI_Bad_SV_List: FAILED:  %s  RTI_Num_Bad_SV = %d >%d, Out of range!");
      goto LABEL_84;
    }

    if (!a2)
    {
      v26 = 0;
      v25 = 0;
      v24 = 0;
      v23 = 0;
      v22 = 0;
      v21 = 0;
      v20 = 0;
      goto LABEL_81;
    }

    v11 = 0;
    v12 = a2;
    while (1)
    {
      v13 = 0;
      v14 = a3[v11];
      if (v14 > 7)
      {
        break;
      }

      if (v14 > 1)
      {
        if (v14 == 2)
        {
          v15 = 24;
          v17 = 1;
          v14 = 1;
        }

        else
        {
          v15 = 0;
          v16 = 0;
          if (v14 != 4)
          {
            goto LABEL_31;
          }

          v15 = 202;
          v14 = 193;
          v17 = 4;
        }

        goto LABEL_30;
      }

      if (v14)
      {
        v15 = 0;
        v16 = 0;
        if (v14 == 1)
        {
          v17 = 0;
          v15 = 32;
          goto LABEL_30;
        }

LABEL_31:
        v18 = a4[v11];
        if (v13 > v18 || v15 < v18)
        {
          EvCrt_v("GN_GPS_Set_RTI_Bad_SV_List: FAILED:  %s  RTI_Bad_SV_Id_List[%d] = %d <%d or >%d, Out of range!");
          goto LABEL_84;
        }

        *(v37 + (v16 - v13 + v18)) = 1;
        goto LABEL_37;
      }

      EvCrt_v("GN_GPS_Set_RTI_Bad_SV_List: FAILED:  %s  RTI_Bad_SV_Type_List[%d] = 0x%x, Out of range!", v10, v11, 0);
LABEL_37:
      if (a2 == ++v11)
      {
        v20 = 0;
        v21 = 0;
        v22 = 0;
        v23 = 0;
        v24 = 0;
        v25 = 0;
        v26 = 0;
        do
        {
          v28 = *a3++;
          v27 = v28;
          if (v28 == 64)
          {
            v29 = v20 + 1;
          }

          else
          {
            v29 = v20;
          }

          if (v27 == 32)
          {
            v30 = v21 + 1;
          }

          else
          {
            v30 = v21;
          }

          if (v27 == 32)
          {
            v29 = v20;
          }

          if (v27 == 16)
          {
            v31 = v22 + 1;
          }

          else
          {
            v31 = v22;
          }

          if (v27 == 8)
          {
            v32 = v24 + 1;
          }

          else
          {
            v32 = v24;
          }

          if (v27 == 8)
          {
            v31 = v22;
          }

          if (v27 <= 31)
          {
            v30 = v21;
          }

          else
          {
            v32 = v24;
            v31 = v22;
          }

          if (v27 <= 31)
          {
            v29 = v20;
          }

          if (v27 == 4)
          {
            v33 = v23 + 1;
          }

          else
          {
            v33 = v23;
          }

          if (v27 == 2)
          {
            v34 = v25 + 1;
          }

          else
          {
            v34 = v25;
          }

          if (v27 == 2)
          {
            v33 = v23;
          }

          if (v27 == 1)
          {
            v35 = v26 + 1;
          }

          else
          {
            v35 = v26;
          }

          if (v27 == 1)
          {
            v34 = v25;
            v33 = v23;
          }

          if (v27 > 7)
          {
            v24 = v32;
          }

          else
          {
            v26 = v35;
            v25 = v34;
            v23 = v33;
          }

          if (v27 > 7)
          {
            v22 = v31;
            v21 = v30;
            v20 = v29;
          }

          --v12;
        }

        while (v12);
LABEL_81:
        EvLog_v("GN_GPS_Set_RTI_Bad_SV_List:  %s  G %d R %d Q %d S %d B %d E %d N %d", v10, v26, v25, v23, v24, v21, v22, v20);
        if (API_Set_RTI_Bad_SV_List(a1, v37))
        {
          result = 1;
          goto LABEL_85;
        }

        EvLog_v("GN_GPS_Set_RTI_Bad_SV_List: FAILED:   %s", v10);
LABEL_84:
        result = 0;
        goto LABEL_85;
      }
    }

    if (v14 > 31)
    {
      if (v14 == 32)
      {
        v15 = 63;
        v14 = 1;
        v17 = 3;
      }

      else
      {
        v15 = 0;
        v16 = 0;
        if (v14 != 64)
        {
          goto LABEL_31;
        }

        v15 = 14;
        v14 = 1;
        v17 = 5;
      }
    }

    else if (v14 == 8)
    {
      v15 = 158;
      v14 = 120;
      v17 = 6;
    }

    else
    {
      v15 = 0;
      v16 = 0;
      if (v14 != 16)
      {
        goto LABEL_31;
      }

      v15 = 36;
      v14 = 1;
      v17 = 2;
    }

LABEL_30:
    v16 = Num_Prn[v17];
    v13 = v14;
    goto LABEL_31;
  }

LABEL_85:
  v36 = *MEMORY[0x29EDCA608];
  return result;
}

void s_NV_Ram::s_NV_Ram(s_NV_Ram *this)
{
  v28 = *MEMORY[0x29EDCA608];
  *(this + 8) = 0;
  v2 = this + 27022;
  *this = 0u;
  *(this + 1) = 0u;
  *(this + 40) = 0u;
  *(this + 56) = 0u;
  *(this + 18) = 0;
  *(this + 5) = 0u;
  *(this + 6) = 0u;
  *(this + 7) = 0u;
  *(this + 32) = 0;
  *(this + 136) = 0u;
  *(this + 152) = 0u;
  *(this + 168) = 0u;
  v3 = 192;
  *(this + 182) = 0;
  do
  {
    v4 = this + v3;
    *(v4 + 12) = 0;
    *(v4 + 1) = 0uLL;
    *(v4 + 2) = 0uLL;
    *v4 = 0uLL;
    v3 += 56;
  }

  while (v3 != 1984);
  do
  {
    v5 = (this + v3);
    *(v5 + 107) = 0uLL;
    v5[5] = 0uLL;
    v5[6] = 0uLL;
    v5[3] = 0uLL;
    v5[4] = 0uLL;
    v5[1] = 0uLL;
    v5[2] = 0uLL;
    v3 += 128;
    *v5 = 0uLL;
  }

  while (v3 != 6080);
  *(this + 380) = 0u;
  *(this + 6094) = 0;
  v6 = -560;
  do
  {
    *(this + v6 + 6712) = 0;
    v7 = (this + v6 + 6664);
    v7[1] = 0uLL;
    v7[2] = 0uLL;
    *v7 = 0uLL;
    v6 += 56;
  }

  while (v6);
  v8 = -1280;
  do
  {
    v9 = (this + v8 + 7944);
    *(v9 + 107) = 0uLL;
    v9[5] = 0uLL;
    v9[6] = 0uLL;
    v9[3] = 0uLL;
    v9[4] = 0uLL;
    v9[1] = 0uLL;
    v9[2] = 0uLL;
    *v9 = 0uLL;
    v8 += 128;
  }

  while (v8);
  *(this + 8006) = 0;
  *(this + 7976) = 0u;
  *(this + 7992) = 0u;
  *(this + 7944) = 0u;
  *(this + 7960) = 0u;
  v10 = -1728;
  do
  {
    v11 = this + v10;
    *(v11 + 610) = 0uLL;
    *(v11 + 609) = 0uLL;
    *(this + v10 + 9771) = 0uLL;
    v10 += 48;
  }

  while (v10);
  *(this + 6656) = 0;
  *(this + 13300) = 0;
  *(this + 13307) = 0;
  *(this + 830) = 0u;
  *(this + 6648) = 0;
  *(this + 6676) = 0;
  *(this + 13340) = 0;
  *(this + 13347) = 0;
  *(this + 13320) = 0u;
  *(this + 6668) = 0;
  bzero(this + 9744, 0xDCBuLL);
  v12 = -3528;
  do
  {
    v13 = this + v12 + 16888;
    *(v13 + 47) = 0;
    *(v13 + 1) = 0uLL;
    *(v13 + 2) = 0uLL;
    *v13 = 0uLL;
    v12 += 56;
  }

  while (v12);
  v14 = this + 16888;
  v15 = 10080;
  do
  {
    *(v14 + 90) = 0uLL;
    *(v14 + 76) = 0uLL;
    *(v14 + 60) = 0uLL;
    *(v14 + 44) = 0uLL;
    *(v14 + 28) = 0uLL;
    *(v14 + 108) = 0uLL;
    *(v14 + 124) = 0uLL;
    *(v14 + 140) = 0uLL;
    *(v14 + 1) = 0;
    *(v14 + 2) = 0;
    *v14 = 0;
    *(v14 + 12) = 0;
    v14 += 160;
    v15 -= 160;
  }

  while (v15);
  v16 = 0;
  *(this + 3373) = 0;
  *(this + 13496) = 0;
  *(this + 26968) = 0u;
  *v2 = 0;
  *(this + 27000) = 0u;
  *(this + 27013) = 0;
  v17 = this + 27052;
  do
  {
    *&v17[v16] = 0;
    v18 = &v17[v16];
    *(v18 + 1) = 0;
    *(v18 + 2) = 0;
    *(v18 + 2) = 0;
    *(v18 + 6) = 0;
    *(v18 + 2) = 0;
    *(v18 + 3) = 0;
    *(v18 + 29) = 0;
    *(v18 - 12) = 0;
    *(v18 - 20) = 0;
    v16 += 64;
    *(v18 - 5) = 0;
  }

  while (v16 != 896);
  v19 = -1232;
  do
  {
    v20 = this + v19 + 29160;
    *(v20 + 20) = 0;
    *(v20 + 3) = 0uLL;
    *(v20 + 4) = 0uLL;
    *(v20 + 1) = 0uLL;
    *(v20 + 2) = 0uLL;
    *v20 = 0uLL;
    v19 += 88;
  }

  while (v19);
  *(this + 7298) = 0;
  *(this + 29160) = 0u;
  *(this + 29176) = 0u;
  *(v2 + 2198) = 0;
  v2[2202] = 0;
  *(v2 + 2206) = 0;
  v2[2210] = 0;
  *(this + 1825) = 0u;
  v21 = this + 29240;
  v22 = 1152;
  *(this + 14608) = 0;
  do
  {
    *(v21 + 28) = 0;
    *(v21 + 20) = 0;
    *(v21 + 36) = 0;
    *v21 = 0;
    *(v21 + 1) = 0;
    *(v21 + 8) = 0;
    v21 += 48;
    v22 -= 48;
  }

  while (v22);
  v23 = -1728;
  do
  {
    v24 = this + v23 + 32120;
    *(v24 + 62) = 0;
    *(v24 + 2) = 0uLL;
    *(v24 + 3) = 0uLL;
    *v24 = 0uLL;
    *(v24 + 1) = 0uLL;
    v23 += 72;
  }

  while (v23);
  v25 = -576;
  do
  {
    *(this + v25 + 32712) = 0;
    v26 = this + v25 + 32696;
    *(v26 + 6) = 0;
    *v26 = 0uLL;
    v25 += 32;
  }

  while (v25);
  *(this + 4089) = 0;
  *(this + 32718) = 0;
  *(this + 32696) = 0u;
  *(this + 33170) = 0u;
  *(this + 32728) = 0u;
  *(this + 32744) = 0u;
  *(this + 32760) = 0u;
  *(this + 32776) = 0u;
  *(this + 32792) = 0u;
  *(this + 32808) = 0u;
  *(this + 32824) = 0u;
  *(this + 32840) = 0u;
  *(this + 32856) = 0u;
  *(this + 32872) = 0u;
  *(this + 32888) = 0u;
  *(this + 32904) = 0u;
  *(this + 32920) = 0u;
  *(this + 32936) = 0u;
  *(this + 32952) = 0u;
  *(this + 32968) = 0u;
  *(this + 32984) = 0u;
  *(this + 33000) = 0u;
  *(this + 33016) = 0u;
  *(this + 33032) = 0u;
  *(this + 33048) = 0u;
  *(this + 33064) = 0u;
  *(this + 33080) = 0u;
  *(this + 33096) = 0u;
  *(this + 33112) = 0u;
  *(this + 33128) = 0u;
  *(this + 33144) = 0u;
  *(this + 33160) = 0u;
  *(this + 8302) = 0;
  *(this + 33192) = 0u;
  *(this + 2076) = 0u;
  *(this + 2077) = 0u;
  *(this + 2078) = 0u;
  *(this + 2079) = 0u;
  *(this + 2080) = 0u;
  *(this + 2081) = 0u;
  *(this + 2082) = 0u;
  *(this + 2083) = 0u;
  *(this + 2084) = 0u;
  *(this + 2085) = 0u;
  *(this + 2086) = 0u;
  *(this + 2087) = 0u;
  *(this + 33404) = 0u;
  v27 = *MEMORY[0x29EDCA608];
}

uint64_t HalFactory_Init(void)
{
  v9 = *MEMORY[0x29EDCA608];
  info = 0;
  mach_timebase_info(&info);
  LODWORD(v1) = info.denom;
  LODWORD(v0) = info.numer;
  v2 = v0 / v1;
  *&g_MacClockTicksToMsRelation = v2 * 0.000001;
  g_MacClockTicksToNs = *&v2;
  Hal22_InitializeConn();
  if (!Hal35_Is_HW_SPI_EN_Default() || (Ga05_GetDebugFeaturesBitmask() & 0x10) != 0)
  {
    if (Hal34_InitPciGnssDevice(&v7))
    {
      if (g_LbsOsaTrace_Config)
      {
        bzero(&info, 0x3C6uLL);
        mach_continuous_time();
        snprintf(&info, 0x3C5uLL, "%10u %s%c %s: #%04hx\n");
        goto LABEL_15;
      }

LABEL_16:
      v4 = 0;
      goto LABEL_17;
    }
  }

  else
  {
    Hal35_Set_SPI_InUse(1);
    if ((Hal35_BaseBandSPMI_GNSSWake() & 1) == 0)
    {
      if (g_LbsOsaTrace_Config)
      {
        bzero(&info, 0x3C6uLL);
        mach_continuous_time();
        snprintf(&info, 0x3C5uLL, "%10u %s%c %s: SPMI wake trigger failed\n");
        goto LABEL_15;
      }

      goto LABEL_16;
    }

    if (!Hal35_InitSPI())
    {
      if (g_LbsOsaTrace_Config)
      {
        bzero(&info, 0x3C6uLL);
        mach_continuous_time();
        snprintf(&info, 0x3C5uLL, "%10u %s%c %s: SPI Init failed\n");
LABEL_15:
        gnssOsa_PrintLog(&info, 1, 1, 0);
        goto LABEL_16;
      }

      goto LABEL_16;
    }
  }

  g_RouteZxData = HalFactory_ProcessData;
  if (g_LbsOsaTrace_Config < 3)
  {
    v4 = 1;
  }

  else
  {
    bzero(&info, 0x3C6uLL);
    v3 = mach_continuous_time();
    snprintf(&info, 0x3C5uLL, "%10u %s%c %s: Hal factory interface init success\n", (*&g_MacClockTicksToMsRelation * v3), "HAL", 77, "HalFactory_Init");
    v4 = 1;
    gnssOsa_PrintLog(&info, 3, 1, 0);
  }

LABEL_17:
  v5 = *MEMORY[0x29EDCA608];
  return v4;
}

void HalFactory_ProcessData(unsigned __int8 *a1, uint64_t a2)
{
  v23 = *MEMORY[0x29EDCA608];
  if (a1)
  {
    if (a2 > 7)
    {
      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        v5 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Data,MC,%c,MID,%c,MIDX,%c\n", (*&g_MacClockTicksToMsRelation * v5), "HAL", 73, "HalFactory_ProcessData", a1[2], a1[3], a1[4]);
        gnssOsa_PrintLog(__str, 4, 1, 0);
      }

      if (a1[2] != 68)
      {
        v8 = 0;
        __dst = 0;
        do
        {
          p_dst = &a1[v8];
          if ((a2 - v8) <= 7)
          {
            memcpy(&__dst, &a1[v8], (a2 - v8));
            p_dst = &__dst;
          }

          if (g_LbsOsaTrace_Config >= 4)
          {
            bzero(__str, 0x3C6uLL);
            v10 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: %s%02hhX %02hhX %02hhX %02hhX %02hhX %02hhX %02hhX %02hhX\n", (*&g_MacClockTicksToMsRelation * v10), "HAL", 73, "HalFactory_ProcessData", "Rcvd data ", *p_dst, p_dst[1], p_dst[2], p_dst[3], p_dst[4], p_dst[5], p_dst[6], p_dst[7]);
            gnssOsa_PrintLog(__str, 4, 1, 0);
          }

          v8 = (v8 + 8);
        }

        while (v8 < a2);
        v11 = a1[2];
        if (v11 == 84)
        {
          v13 = a1[3];
          if (v13 == 66)
          {
            if (a1[8] == 32)
            {
              if (g_LbsOsaTrace_Config >= 4)
              {
                bzero(__str, 0x3C6uLL);
                v14 = mach_continuous_time();
                snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Test mode indication success\n", (*&g_MacClockTicksToMsRelation * v14), "HAL", 73, "HalFactory_ProcessData");
                gnssOsa_PrintLog(__str, 4, 1, 0);
              }

              if (!gnssOsa_SemRelease(g_HandleAckSem) && g_LbsOsaTrace_Config)
              {
                bzero(__str, 0x3C6uLL);
                v15 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
                v16 = __error();
                snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx HandleAckSem err,%d\n", v15, "HAL", 69, "HalFactory_ProcessData", 1542, *v16);
                gnssOsa_PrintLog(__str, 1, 1, 0);
              }
            }

            v13 = a1[3];
          }

          if (v13 == 76)
          {
            if (a1[4] == 32 && a1[8] == 83)
            {
              if (g_LbsOsaTrace_Config >= 4)
              {
                v17 = *(a1 + 9);
                v18 = *(a1 + 13);
                bzero(__str, 0x3C6uLL);
                v19 = mach_continuous_time();
                snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TSync success ME TTick=%u, SubMs=%u\n", (*&g_MacClockTicksToMsRelation * v19), "HAL", 73, "HalFactory_ProcessData", v17, v18);
                gnssOsa_PrintLog(__str, 4, 1, 0);
              }

              g_TSyncEventReceived = 1;
            }
          }

          else if (v13 == 80 && a1[4] == 77)
          {
            if (a1[9] == 1)
            {
              HalFactory_HandleCWResponse(a1);
              goto LABEL_28;
            }

            if (g_LbsOsaTrace_Config < 2)
            {
              goto LABEL_28;
            }

            bzero(__str, 0x3C6uLL);
            v20 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Invalid testID %u\n", (*&g_MacClockTicksToMsRelation * v20), "HAL", 87, "HalFactory_ProcessData", a1[9]);
            v3 = 2;
            goto LABEL_8;
          }

          goto LABEL_28;
        }

        if (v11 != 68)
        {
          if (v11 == 66)
          {
            if (a1[3] - 83 > 1)
            {
              Hal02_HandleResp(a1, a2);
            }

            else
            {
              HalFactory_SleepAckHandler(a1);
            }
          }

          goto LABEL_28;
        }
      }

      v6 = a1[3];
      if (v6 == 80)
      {
        v7 = a2;
      }

      else
      {
        if (v6 != 71)
        {
          goto LABEL_28;
        }

        v7 = a2;
      }

      GnssDbgMgr_HandleDbgData(v7);
      goto LABEL_28;
    }

    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx len\n");
LABEL_7:
      v3 = 1;
LABEL_8:
      gnssOsa_PrintLog(__str, v3, 1, 0);
    }
  }

  else if (g_LbsOsaTrace_Config)
  {
    bzero(__str, 0x3C6uLL);
    mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx data\n");
    goto LABEL_7;
  }

LABEL_28:
  v12 = *MEMORY[0x29EDCA608];
}

void HalFactory_SleepAckHandler(unsigned __int8 *a1)
{
  v17 = *MEMORY[0x29EDCA608];
  v1 = a1[3];
  if (v1 != 84)
  {
    if (v1 == 83 && a1[4] == 80)
    {
      v2 = a1[8];
      switch(v2)
      {
        case 'm':
LABEL_7:
          HalFactory_SleepAckHandler(unsigned char *,unsigned short)::v_SleepAckRcvd = 1;
          goto LABEL_16;
        case 'M':
          if (g_LbsOsaTrace_Config >= 3)
          {
            bzero(__str, 0x3C6uLL);
            v7 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GNSS Sleep idle state\n", (*&g_MacClockTicksToMsRelation * v7), "HAL", 77, "HalFactory_SleepAckHandler");
            gnssOsa_PrintLog(__str, 3, 1, 0);
          }

          g_SleepStatus = 1;
          if (gnssOsa_SemRelease(g_HandleAckSem) || !g_LbsOsaTrace_Config)
          {
            goto LABEL_28;
          }

          bzero(__str, 0x3C6uLL);
          v8 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
          v14 = *__error();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx HandleAckSem err,%d\n", v8, "HAL", 69, "HalFactory_SleepAckHandler", 1542, v14);
          break;
        case ' ':
          goto LABEL_7;
        default:
          if (g_LbsOsaTrace_Config)
          {
            bzero(__str, 0x3C6uLL);
            v9 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GNSS sleep ack err %u\n", (*&g_MacClockTicksToMsRelation * v9), "HAL", 69, "HalFactory_SleepAckHandler", v2);
            gnssOsa_PrintLog(__str, 1, 1, 0);
          }

          g_SleepStatus = 0;
          if (gnssOsa_SemRelease(g_HandleAckSem) || !g_LbsOsaTrace_Config)
          {
LABEL_28:
            HalFactory_SleepAckHandler(unsigned char *,unsigned short)::v_SleepAckRcvd = 0;
            goto LABEL_16;
          }

          bzero(__str, 0x3C6uLL);
          v10 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
          v15 = *__error();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx HandleAckSem err,%d\n", v10, "HAL", 69, "HalFactory_SleepAckHandler", 1542, v15);
          break;
      }

      gnssOsa_PrintLog(__str, 1, 1, 0);
      goto LABEL_28;
    }

    goto LABEL_14;
  }

  if (a1[4] != 32 || HalFactory_SleepAckHandler(unsigned char *,unsigned short)::v_SleepAckRcvd != 1)
  {
LABEL_14:
    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      v5 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GNSS Sleep, Invalid message\n", (*&g_MacClockTicksToMsRelation * v5), "HAL", 69, "HalFactory_SleepAckHandler");
      gnssOsa_PrintLog(__str, 1, 1, 0);
    }

    goto LABEL_16;
  }

  v3 = a1[8];
  if (v3 == 77)
  {
    if (g_LbsOsaTrace_Config >= 3)
    {
      bzero(__str, 0x3C6uLL);
      v4 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GNSS sleep idle state event\n", (*&g_MacClockTicksToMsRelation * v4), "HAL", 77, "HalFactory_SleepAckHandler");
      gnssOsa_PrintLog(__str, 3, 1, 0);
    }

    g_SleepStatus = 1;
  }

  else
  {
    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      v11 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GNSS sleep event err %u\n", (*&g_MacClockTicksToMsRelation * v11), "HAL", 69, "HalFactory_SleepAckHandler", v3);
      gnssOsa_PrintLog(__str, 1, 1, 0);
    }

    g_SleepStatus = 0;
  }

  if (!gnssOsa_SemRelease(g_HandleAckSem) && g_LbsOsaTrace_Config)
  {
    bzero(__str, 0x3C6uLL);
    v12 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
    v13 = __error();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx HandleAckSem err,%d\n", v12, "HAL", 69, "HalFactory_SleepAckHandler", 1542, *v13);
    gnssOsa_PrintLog(__str, 1, 1, 0);
  }

  HalFactory_SleepAckHandler(unsigned char *,unsigned short)::v_SleepAckRcvd = 0;
LABEL_16:
  v6 = *MEMORY[0x29EDCA608];
}

void HalFactory_HandleCWResponse(unsigned __int8 *a1)
{
  v3[5] = *MEMORY[0x29EDCA608];
  v1 = *(g_TestObject + 16);
  v3[0] = MEMORY[0x29EDCA5F8];
  v3[1] = 0x40000000;
  v3[2] = ___Z27HalFactory_HandleCWResponsePht_block_invoke;
  v3[3] = &__block_descriptor_tmp_1;
  v3[4] = a1;
  dispatch_async(v1, v3);
  v2 = *MEMORY[0x29EDCA608];
}

uint64_t HalFactory_ComsPing(uint64_t a1)
{
  v12 = *MEMORY[0x29EDCA608];
  if (Hal15_ReadHwRevision(80) || Hal15_ReadHwRevision(77))
  {
    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      v2 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: read rev failed\n", (*&g_MacClockTicksToMsRelation * v2), "HAL", 69, "HalFactory_ComsPing");
      gnssOsa_PrintLog(__str, 1, 1, 0);
    }

    v3 = 0;
  }

  else
  {
    Hal15_GetGNSSVersionString(__str);
    if (*(a1 + 23) < 0)
    {
      operator delete(*a1);
    }

    *a1 = *__str;
    *(a1 + 16) = v11;
    if (g_LbsOsaTrace_Config < 3)
    {
      v3 = 1;
    }

    else
    {
      bzero(__str, 0x3C6uLL);
      v6 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
      Hal15_GetGNSSVersionString(__p);
      if (v9 >= 0)
      {
        v7 = __p;
      }

      else
      {
        v7 = __p[0];
      }

      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Rev %s\n", v6, "HAL", 77, "HalFactory_ComsPing", v7);
      if (v9 < 0)
      {
        operator delete(__p[0]);
      }

      v3 = 1;
      gnssOsa_PrintLog(__str, 3, 1, 0);
    }
  }

  v4 = *MEMORY[0x29EDCA608];
  return v3;
}

uint64_t HalFactory_PowerMode(char a1)
{
  v11 = *MEMORY[0x29EDCA608];
  if (a1)
  {
    if (HalFactory_SendEnterSleepCmd())
    {
      v1 = gnssOsa_SemWaitTimeOut(g_HandleAckSem, 0x1F4u);
      if (v1 == 2)
      {
        if (g_LbsOsaTrace_Config)
        {
          bzero(__str, 0x3C6uLL);
          v5 = mach_continuous_time();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx GNSS Sleep\n", (*&g_MacClockTicksToMsRelation * v5), "HAL", 69, "HalFactory_PowerMode", 1541);
          gnssOsa_PrintLog(__str, 1, 1, 0);
        }
      }

      else
      {
        if (v1 != 1)
        {
          v3 = g_SleepStatus;
          goto LABEL_14;
        }

        if (g_LbsOsaTrace_Config)
        {
          bzero(__str, 0x3C6uLL);
          v2 = mach_continuous_time();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx GNSS Sleep\n", (*&g_MacClockTicksToMsRelation * v2), "HAL", 69, "HalFactory_PowerMode", 1543);
          gnssOsa_PrintLog(__str, 1, 1, 0);
        }
      }
    }

    else if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      v4 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: sleep cmd send failed\n", (*&g_MacClockTicksToMsRelation * v4), "HAL", 69, "HalFactory_PowerMode");
      gnssOsa_PrintLog(__str, 1, 1, 0);
    }

    v3 = 0;
  }

  else
  {
    *__str = 0;
    v9 = 0;
    v10 = 0;
    v3 = HalFactory_ComsPing(__str);
    if (SHIBYTE(v10) < 0)
    {
      operator delete(*__str);
    }
  }

LABEL_14:
  v6 = *MEMORY[0x29EDCA608];
  return v3;
}

BOOL HalFactory_SendEnterSleepCmd(void)
{
  v0 = 0;
  v16 = *MEMORY[0x29EDCA608];
  v15 = 0;
  v14 = 0;
  *v13 = 0xE0009507342787ALL;
  memset(&v13[8], 0, 7);
  for (i = 8; i != 15; ++i)
  {
    v0 += v13[i];
  }

  v2 = 0;
  v14 = v0;
  v3 = 18;
  v15 = 10;
  __dst = 0;
  do
  {
    p_dst = &v13[v2];
    if (v2 >= 0xB)
    {
      memcpy(&__dst, &v13[v2], v3);
      p_dst = &__dst;
    }

    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v5 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: %s%02hhX %02hhX %02hhX %02hhX %02hhX %02hhX %02hhX %02hhX\n", (*&g_MacClockTicksToMsRelation * v5), "HAL", 73, "HalFactory_SendEnterSleepCmd", "factory_zx_sleep_cmd ", *p_dst, p_dst[1], p_dst[2], p_dst[3], p_dst[4], p_dst[5], p_dst[6], p_dst[7]);
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    v3 -= 8;
    v6 = v2 >= 0xA;
    v2 += 8;
  }

  while (!v6);
  v7 = Hal22_ZxSendToChip(v13, 0x12uLL);
  if (v7 <= 0 && g_LbsOsaTrace_Config)
  {
    bzero(__str, 0x3C6uLL);
    v8 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx LP cmd\n", (*&g_MacClockTicksToMsRelation * v8), "HAL", 69, "HalFactory_SendEnterSleepCmd", 1282);
    gnssOsa_PrintLog(__str, 1, 1, 0);
  }

  result = v7 > 0;
  v10 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t HalFactory_EnableTestMode(void)
{
  v5 = *MEMORY[0x29EDCA608];
  v3 = 0x90003506254787ALL;
  v4 = 167772417;
  if (Hal22_ZxSendToChip(&v3, 0xCuLL) <= 0)
  {
    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx test mode indication\n");
      goto LABEL_7;
    }
  }

  else
  {
    if (!gnssOsa_SemWaitTimeOut(g_HandleAckSem, 0xC8u))
    {
      usleep(0xF4240u);
      result = 1;
      goto LABEL_10;
    }

    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: test mode indication failed\n");
LABEL_7:
      gnssOsa_PrintLog(__str, 1, 1, 0);
    }
  }

  result = 0;
LABEL_10:
  v1 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t HalFactory_RunCWTest(int a1, int a2, double a3, uint64_t a4, int a5, uint64_t a6)
{
  v31 = *MEMORY[0x29EDCA608];
  if (a6)
  {
    g_TestObject = a6;
    __p[0] = 0;
    __p[1] = 0;
    v26 = 0;
    if ((HalFactory_ComsPing(__p) & 1) == 0)
    {
      if (g_LbsOsaTrace_Config)
      {
        bzero(__str, 0x3C6uLL);
        v14 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: CW test not started, failed to ping GNSS HW \n", (*&g_MacClockTicksToMsRelation * v14), "HAL", 69, "HalFactory_RunCWTest");
        gnssOsa_PrintLog(__str, 1, 1, 0);
      }

      goto LABEL_23;
    }

    if ((HalFactory_EnableTestMode() & 1) == 0)
    {
      if (g_LbsOsaTrace_Config)
      {
        bzero(__str, 0x3C6uLL);
        v15 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: CW test not started, set factory test mode failed \n", (*&g_MacClockTicksToMsRelation * v15), "HAL", 69, "HalFactory_RunCWTest");
        gnssOsa_PrintLog(__str, 1, 1, 0);
      }

      goto LABEL_23;
    }

    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v10 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Input CW params: duration %u seconds, band %u, searchRange %f kHz, integrationtime %d msec\n", (*&g_MacClockTicksToMsRelation * v10), "HAL", 73, "HalFactory_RunCWTest", a1, a2, a3, a5);
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    memset(v29, 0, 15);
    *v27 = 0x20000F4D7054787ALL;
    v28 = 1;
    if (a2 <= 2)
    {
      if (a2)
      {
        if (a2 == 1)
        {
          v11 = 0;
          goto LABEL_29;
        }

        if (a2 != 2)
        {
LABEL_30:
          v19 = 0;
          *(v29 + 1) = 0;
          BYTE3(v29[0]) = 0;
          strcpy(&v29[1], "\n");
          BYTE2(v29[1]) = -56;
          for (i = 8; i != 23; ++i)
          {
            v19 += v27[i];
          }

          v21 = 0;
          WORD2(v29[1]) = v19;
          BYTE6(v29[1]) = 10;
          do
          {
            if (g_LbsOsaTrace_Config >= 4)
            {
              bzero(__str, 0x3C6uLL);
              v22 = mach_continuous_time();
              snprintf(__str, 0x3C5uLL, "%10u %s%c %s: %s%02hhX %02hhX %02hhX %02hhX %02hhX %02hhX %02hhX %02hhX\n", (*&g_MacClockTicksToMsRelation * v22), "HAL", 73, "HalFactory_RunCWTest", "cw command ", v27[v21], v27[v21 + 1], v27[v21 + 2], v27[v21 + 3], v27[v21 + 4], v27[v21 + 5], v27[v21 + 6], v27[v21 + 7]);
              gnssOsa_PrintLog(__str, 4, 1, 0);
            }

            v23 = v21 >= 0x10;
            v21 += 8;
          }

          while (!v23);
          if (Hal22_ZxSendToChip(v27, 0x18uLL) > 0)
          {
            usleep(1000000 * a1);
            v13 = 1;
LABEL_24:
            if (SHIBYTE(v26) < 0)
            {
              operator delete(__p[0]);
            }

            goto LABEL_26;
          }

          if (g_LbsOsaTrace_Config)
          {
            bzero(__str, 0x3C6uLL);
            v24 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx CW test command\n", (*&g_MacClockTicksToMsRelation * v24), "HAL", 69, "HalFactory_RunCWTest", 1282);
            gnssOsa_PrintLog(__str, 1, 1, 0);
          }

LABEL_23:
          v13 = 0;
          goto LABEL_24;
        }
      }
    }

    else if ((a2 - 5) >= 6)
    {
      if (a2 == 3)
      {
        v11 = 6;
        goto LABEL_29;
      }

      if (a2 == 4)
      {
        v11 = 3;
LABEL_29:
        LOBYTE(v29[0]) = v11;
        goto LABEL_30;
      }

      goto LABEL_30;
    }

    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      v16 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Incorrect band %u\n", (*&g_MacClockTicksToMsRelation * v16), "HAL", 69, "HalFactory_RunCWTest", a2);
      gnssOsa_PrintLog(__str, 1, 1, 0);
    }

    goto LABEL_23;
  }

  if (g_LbsOsaTrace_Config)
  {
    bzero(__str, 0x3C6uLL);
    v12 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: callback nullptr\n", (*&g_MacClockTicksToMsRelation * v12), "HAL", 69, "HalFactory_RunCWTest");
    gnssOsa_PrintLog(__str, 1, 1, 0);
  }

  v13 = 0;
LABEL_26:
  v17 = *MEMORY[0x29EDCA608];
  return v13;
}

void sub_298F39B74(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, void *__p, uint64_t a23, int a24, __int16 a25, char a26, char a27)
{
  if (a27 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void ___Z27HalFactory_HandleCWResponsePht_block_invoke(uint64_t a1)
{
  v4 = *MEMORY[0x29EDCA608];
  v1 = *(a1 + 32);
  v2 = 0x3000004000001uLL >> (8 * *(v1 + 11));
  v3 = vcvtd_n_f64_u32(*(v1 + 17), 8uLL);
  *(v1 + 15);
  *(v1 + 25);
  *(v1 + 23);
  operator new();
}

uint64_t HalFactory_TriggerTSync(void)
{
  v15 = *MEMORY[0x29EDCA608];
  __p[0] = 0;
  __p[1] = 0;
  v9 = 0;
  if (HalFactory_ComsPing(__p))
  {
    if (HalFactory_EnableTestMode())
    {
      *v12 = 0x1200054D6C54787ALL;
      v13 = 16842752;
      v14 = 2560;
      if (Hal22_ZxSendToChip(v12, 0xEuLL) <= 0)
      {
        if (g_LbsOsaTrace_Config)
        {
          bzero(__str, 0x3C6uLL);
          v4 = mach_continuous_time();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx TimeMark test command\n", (*&g_MacClockTicksToMsRelation * v4), "HAL", 69, "HalFactory_SendTimeMarkCmd", 1282);
          gnssOsa_PrintLog(__str, 1, 1, 0);
        }
      }

      else
      {
        v10 = 0;
        if (Hal25_TriggerTimeMarkStrobe(&v10))
        {
          if (g_LbsOsaTrace_Config >= 4)
          {
            bzero(__str, 0x3C6uLL);
            v0 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s:  TimeMark PulseOSTime %u\n", (*&g_MacClockTicksToMsRelation * v0), "HAL", 73, "HalFactory_SendTimeMarkCmd", v10);
            gnssOsa_PrintLog(__str, 4, 1, 0);
          }

          usleep(0x7A120u);
          if (g_TSyncEventReceived == 1)
          {
            g_TSyncEventReceived = 0;
            v1 = 1;
            goto LABEL_18;
          }
        }

        else if (g_LbsOsaTrace_Config)
        {
          bzero(__str, 0x3C6uLL);
          v5 = mach_continuous_time();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TimeMark pulse trigger failed\n", (*&g_MacClockTicksToMsRelation * v5), "HAL", 69, "HalFactory_SendTimeMarkCmd");
          gnssOsa_PrintLog(__str, 1, 1, 0);
        }
      }
    }

    else if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      v3 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TSync test not started, set factory test mode failed \n", (*&g_MacClockTicksToMsRelation * v3), "HAL", 69, "HalFactory_TriggerTSync");
      gnssOsa_PrintLog(__str, 1, 1, 0);
    }
  }

  else if (g_LbsOsaTrace_Config)
  {
    bzero(__str, 0x3C6uLL);
    v2 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TSync test not started, failed to ping GNSS HW \n", (*&g_MacClockTicksToMsRelation * v2), "HAL", 69, "HalFactory_TriggerTSync");
    gnssOsa_PrintLog(__str, 1, 1, 0);
  }

  v1 = 0;
LABEL_18:
  if (SHIBYTE(v9) < 0)
  {
    operator delete(__p[0]);
  }

  v6 = *MEMORY[0x29EDCA608];
  return v1;
}

void sub_298F3A178(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *__p, uint64_t a16, int a17, __int16 a18, char a19, char a20)
{
  if (a20 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void std::__throw_bad_array_new_length[abi:ne200100]()
{
  v2 = *MEMORY[0x29EDCA608];
  exception = __cxa_allocate_exception(8uLL);
  v1 = std::bad_array_new_length::bad_array_new_length(exception);
  __cxa_throw(v1, MEMORY[0x29EDC9488], MEMORY[0x29EDC9370]);
}

void GncP25_02StopTimemarkSessTimer(void)
{
  v3 = *MEMORY[0x29EDCA608];
  if (g_TimemarkTimerStatus == 1)
  {
    if (AgpsFsmStopTimer(8656902))
    {
      if (g_LbsOsaTrace_Config >= 2)
      {
        bzero(__str, 0x3C6uLL);
        v0 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v0), "GNC", 87, "GncP25_02StopTimemarkSessTimer", 1545);
        gnssOsa_PrintLog(__str, 2, 1, 0);
      }
    }

    else
    {
      g_TimemarkTimerStatus = 0;
    }
  }

  v1 = *MEMORY[0x29EDCA608];
}

void GncP25_04HandleTimeMarkEvent(unsigned __int8 *a1)
{
  v36 = *MEMORY[0x29EDCA608];
  if (g_TimeMarkState == 1)
  {
    if (g_LbsOsaTrace_Config < 2)
    {
      goto LABEL_63;
    }

    bzero(__str, 0x3C6uLL);
    mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Pulse not processed\n");
LABEL_10:
    gnssOsa_PrintLog(__str, 2, 1, 0);
    goto LABEL_63;
  }

  if (a1[8] != 83)
  {
    if (g_LbsOsaTrace_Config < 2)
    {
      goto LABEL_63;
    }

    bzero(__str, 0x3C6uLL);
    v7 = mach_continuous_time();
    v33 = a1[8];
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Status,%u\n", (*&g_MacClockTicksToMsRelation * v7));
    goto LABEL_10;
  }

  __dst = 0;
  v2 = *(a1 + 9);
  v3 = a1[14];
  v4 = a1[13] | (v3 << 8);
  if (a1[3] == 66)
  {
    v5 = *(a1 + 15);
    if (a1[17])
    {
      memcpy_s("GncP25_04HandleTimeMarkEvent", 184, &__dst, 8u, a1 + 18, 8uLL);
      v6 = (__dst * 6.51041667);
    }

    else
    {
      v6 = 0;
    }

    if (g_LbsOsaTrace_Config < 4)
    {
      v9 = 125;
    }

    else
    {
      bzero(__str, 0x3C6uLL);
      v10 = mach_continuous_time();
      v9 = 125;
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TMEvent BBTICK,%u,SubMs,%u,SequenceNum,%u,BCTTtick,%llu,BCTNs,%llu,BCTUncNs,%llu\n", (*&g_MacClockTicksToMsRelation * v10), "GNC", 73, "GncP25_04HandleTimeMarkEvent", v2, v4, v5, __dst, v6, 125);
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }
  }

  else
  {
    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v8 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TMEvent BBTICK,%u,SubMs,%u\n", (*&g_MacClockTicksToMsRelation * v8), "GNC", 73, "GncP25_04HandleTimeMarkEvent", v2, v4);
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    v9 = 0;
    v6 = 0;
  }

  v11 = gnssOsa_Calloc("GncP25_04HandleTimeMarkEvent", 197, 1, 0x50uLL);
  if (v11)
  {
    v12 = v11;
    v11[2] = 0u;
    v11[3] = 0u;
    v11[1] = 0u;
    *(v11 + 14) = v2;
    *(v11 + 8) = v6;
    *(v11 + 9) = v9;
    if (g_GncP_PEUpdate[0])
    {
      if (byte_2A13EC679)
      {
        *&v13 = v4;
        LODWORD(v13) = dword_2A13EC668;
        v14 = v2 + v4 * 0.0000152587891 - v13;
        v15 = v14 * (1.0 - *qword_2A13EC6A8[0].i64);
        v16 = v15 + *&qword_2A13EC690 * 1000.0;
        v17 = sqrt(*&qword_2A13EC718 * (v15 * (v15 * *&qword_2A13EC718)) + *&qword_2A13EC708 * 1000.0 * (*&qword_2A13EC708 * 1000.0));
        if (g_LbsOsaTrace_Config >= 5)
        {
          bzero(__str, 0x3C6uLL);
          v18 = mach_continuous_time();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: DeltaToW,%.12f,DeltaTick,%.12f,Clk_drift,%.12f\n", (*&g_MacClockTicksToMsRelation * v18), "GNC", 68, "GncP25_06CalculateTOW", v15, v14, *qword_2A13EC6A8[0].i64);
          gnssOsa_PrintLog(__str, 5, 1, 0);
        }

        v19 = 0;
        v20 = 0;
        v21 = word_2A13EC688;
        v22 = v16 + -604800000.0;
        if (v16 < 604800000.0)
        {
          v22 = v16;
        }

        else
        {
          v21 = word_2A13EC688 + 1;
        }

        *(v12 + 9) = v21;
        *(v12 + 16) = 1;
        *(v12 + 3) = v22;
        *(v12 + 4) = v17;
        v23 = unk_2A13EC6B0;
        if (!byte_2A13EC661)
        {
          v23 = 0.0;
        }

        *(v12 + 40) = byte_2A13EC661;
        *(v12 + 6) = v23;
        if (dword_2A13EC79C == 4)
        {
          v24 = 5;
        }

        else
        {
          v24 = 0;
        }

        if (dword_2A13EC79C == 2)
        {
          v25 = 3;
        }

        else
        {
          v25 = v24;
        }

        *(v12 + 60) = v25;
        while (1)
        {
          if (g_GncP_PEUpdate[v19 + 6120] == 1)
          {
            v26 = &g_GncP_PEUpdate[4 * v19];
            v27 = *(v26 + 89);
            if (v27 <= 2)
            {
              if (!v27)
              {
                if (g_LbsOsaTrace_Config >= 2)
                {
                  bzero(__str, 0x3C6uLL);
                  v30 = mach_continuous_time();
                  snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Const,%u,Idx,%u\n", (*&g_MacClockTicksToMsRelation * v30), "GNC", 87, "GncP25_05GetConstellationUsed", 770, *(v26 + 89), v19);
                  gnssOsa_PrintLog(__str, 2, 1, 0);
                }

                goto LABEL_47;
              }

              if (v27 != 1)
              {
                v28 = v27 == 2;
                v29 = v20 | 0x20;
                goto LABEL_45;
              }

              v20 |= 1u;
            }

            else if (v27 > 4)
            {
              if (v27 != 5)
              {
                v28 = v27 == 6;
                v29 = v20 | 0x80;
LABEL_45:
                if (v28)
                {
                  v20 = v29;
                }

                goto LABEL_47;
              }

              v20 |= 2u;
            }

            else
            {
              if (v27 != 3)
              {
                v28 = v27 == 4;
                v29 = v20 | 0x40;
                goto LABEL_45;
              }

              v20 |= 0x10u;
            }
          }

LABEL_47:
          if (++v19 == 128)
          {
            *(v12 + 31) = v20;
            if (g_LbsOsaTrace_Config >= 4)
            {
              bzero(__str, 0x3C6uLL);
              v31 = mach_continuous_time();
              snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCP_TIMEMARK_EVENT_IND =>GNM\n", (*&g_MacClockTicksToMsRelation * v31), "GNC", 73, "GncP25_04HandleTimeMarkEvent");
              gnssOsa_PrintLog(__str, 4, 1, 0);
            }

            AgpsSendFsmMsg(132, 128, 8651779, v12);
            GncP25_09UpdateTimeMarkInfo(0, 1, 0, v2 + (v3 >> 7));
            goto LABEL_63;
          }
        }
      }

      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GpsTime NA,date_set,false,TimeMark event posted\n");
        goto LABEL_61;
      }
    }

    else if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GpsTime NA,TimeMark event posted\n");
LABEL_61:
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    AgpsSendFsmMsg(132, 128, 8651779, v12);
  }

LABEL_63:
  v32 = *MEMORY[0x29EDCA608];
}

void GncP25_09UpdateTimeMarkInfo(int a1, int a2, int a3, int a4)
{
  v12 = *MEMORY[0x29EDCA608];
  if (a1)
  {
    _MergedGlobals_2 = a3;
    GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidOSTime = 1;
  }

  if (a2)
  {
    dword_2A14544CC = a4;
    dword_2A14544D0 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
    GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidBBTick = 1;
  }

  else if (GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidBBTick != 1)
  {
    goto LABEL_18;
  }

  if (GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidOSTime == 1)
  {
    GncP25_02StopTimemarkSessTimer();
    v4 = _MergedGlobals_2;
    if ((*&g_MacClockTicksToMsRelation * mach_continuous_time()) - v4 > 0x1F3 || (v5 = dword_2A14544D0, (*&g_MacClockTicksToMsRelation * mach_continuous_time()) - v5 > 0x1F3))
    {
      if (g_LbsOsaTrace_Config >= 2)
      {
        bzero(__str, 0x3C6uLL);
        v9 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Invalid OStime %u,BBtick,%u,BBTickRx,%u\n", (*&g_MacClockTicksToMsRelation * v9), "GNC", 87, "GncP25_09UpdateTimeMarkInfo", _MergedGlobals_2, dword_2A14544CC, dword_2A14544D0);
        v8 = 2;
        goto LABEL_16;
      }
    }

    else
    {
      if ((GN_GPS_Set_TM_FSP_OS_Time_ms(_MergedGlobals_2, dword_2A14544CC) & 1) == 0)
      {
        if (g_LbsOsaTrace_Config < 2)
        {
          goto LABEL_17;
        }

        bzero(__str, 0x3C6uLL);
        v6 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx GN_GPS_Set_TM_FSP_OS_Time_ms\n", (*&g_MacClockTicksToMsRelation * v6), "GNC", 87, "GncP25_09UpdateTimeMarkInfo", 257);
        gnssOsa_PrintLog(__str, 2, 1, 0);
      }

      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        v7 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TMInfo OStime %u,BBtick,%u\n", (*&g_MacClockTicksToMsRelation * v7), "GNC", 73, "GncP25_09UpdateTimeMarkInfo", _MergedGlobals_2, dword_2A14544CC);
        v8 = 4;
LABEL_16:
        gnssOsa_PrintLog(__str, v8, 1, 0);
      }
    }

LABEL_17:
    GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidOSTime = 0;
    GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidBBTick = 0;
    g_TimeMarkState = 1;
  }

LABEL_18:
  v10 = *MEMORY[0x29EDCA608];
}

uint64_t GncP25_01HandleStartTimeMarkReq(uint64_t a1)
{
  v14 = *MEMORY[0x29EDCA608];
  if (a1)
  {
    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v1 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCP_START_TIMEMARK_REQ\n", (*&g_MacClockTicksToMsRelation * v1), "GNC", 73, "GncP25_01HandleStartTimeMarkReq");
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    v2 = gnssOsa_Calloc("GncP25_01HandleStartTimeMarkReq", 346, 1, 0x10uLL);
    if (v2)
    {
      v3 = v2;
      if (g_TimeMarkState)
      {
        v4 = g_GncPStateInfo;
        if (g_GncPStateInfo == 7)
        {
          if (g_LbsOsaTrace_Config >= 4)
          {
            bzero(__str, 0x3C6uLL);
            v5 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TM started ME ON\n", (*&g_MacClockTicksToMsRelation * v5), "GNC", 73, "GncP25_03HandleStartTimeMark");
            gnssOsa_PrintLog(__str, 4, 1, 0);
          }

          g_TimeMarkState = 0;
          GncP25_02StopTimemarkSessTimer();
          if (AgpsFsmStartTimer(0x841806u, 0x3E8u))
          {
            if (g_LbsOsaTrace_Config >= 2)
            {
              bzero(__str, 0x3C6uLL);
              v6 = mach_continuous_time();
              snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Dur,%u\n", (*&g_MacClockTicksToMsRelation * v6), "GNC", 87, "GncP25_03StartTimemarkSessTimer", 1544, 1000);
              gnssOsa_PrintLog(__str, 2, 1, 0);
            }
          }

          else
          {
            g_TimemarkTimerStatus = 1;
          }

          Hal_TriggerTimeMarkPulse(GncP25_07TimeMarkPulseCb);
          v3[12] = 1;
        }

        else
        {
          if (g_LbsOsaTrace_Config >= 4)
          {
            bzero(__str, 0x3C6uLL);
            v9 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx TM ReqRejected MEState,%hhu\n", (*&g_MacClockTicksToMsRelation * v9), "GNC", 73, "GncP25_03HandleStartTimeMark", 2049, v4);
            gnssOsa_PrintLog(__str, 4, 1, 0);
          }

          g_TimeMarkState = 1;
          v3[12] = 0;
        }
      }

      else
      {
        v2[12] = 0;
        if (g_LbsOsaTrace_Config < 2)
        {
LABEL_23:
          AgpsSendFsmMsg(132, 128, 8389124, v3);
          goto LABEL_24;
        }

        bzero(__str, 0x3C6uLL);
        v8 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v8), "GNC", 87, "GncP25_01HandleStartTimeMarkReq", 2056);
        gnssOsa_PrintLog(__str, 2, 1, 0);
      }

      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        v10 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCP_START_TIMEMARK_RSP =>GNM Status,%u\n", (*&g_MacClockTicksToMsRelation * v10), "GNC", 73, "GncP25_01HandleStartTimeMarkReq", v3[12]);
        gnssOsa_PrintLog(__str, 4, 1, 0);
      }

      goto LABEL_23;
    }
  }

  else if (g_LbsOsaTrace_Config)
  {
    bzero(__str, 0x3C6uLL);
    v7 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v7), "GNC", 69, "GncP25_01HandleStartTimeMarkReq", 517);
    gnssOsa_PrintLog(__str, 1, 1, 0);
  }

LABEL_24:
  v11 = *MEMORY[0x29EDCA608];
  return 0;
}

void GncP25_07TimeMarkPulseCb(int a1, int a2)
{
  v9 = *MEMORY[0x29EDCA608];
  if (a2)
  {
    v3 = gnssOsa_Calloc("GncP25_07TimeMarkPulseCb", 389, 1, 0x10uLL);
    if (v3)
    {
      v4 = v3;
      *(v3 + 3) = a1;
      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        v5 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCP_TIMEMARK_PULSE_IND =>GNCP\n", (*&g_MacClockTicksToMsRelation * v5), "GNC", 73, "GncP25_07TimeMarkPulseCb");
        gnssOsa_PrintLog(__str, 4, 1, 0);
      }

      AgpsSendFsmMsg(132, 132, 8657411, v4);
    }
  }

  else if (g_LbsOsaTrace_Config >= 2)
  {
    bzero(__str, 0x3C6uLL);
    v6 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: TimeMark Trig fail\n", (*&g_MacClockTicksToMsRelation * v6), "GNC", 87, "GncP25_07TimeMarkPulseCb");
    gnssOsa_PrintLog(__str, 2, 1, 0);
  }

  v7 = *MEMORY[0x29EDCA608];
}

uint64_t GncP25_08HandleTimeMarkPulseInd(uint64_t a1)
{
  v9 = *MEMORY[0x29EDCA608];
  if (a1)
  {
    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v2 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCP_TIMEMARK_PULSE_IND\n", (*&g_MacClockTicksToMsRelation * v2), "GNC", 73, "GncP25_08HandleTimeMarkPulseInd");
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    if ((g_TimeMarkState & 1) == 0)
    {
      GncP25_09UpdateTimeMarkInfo(1, 0, *(a1 + 12), 0);
      goto LABEL_11;
    }

    if (g_LbsOsaTrace_Config >= 2)
    {
      bzero(__str, 0x3C6uLL);
      v3 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Session Stopped\n", (*&g_MacClockTicksToMsRelation * v3), "GNC", 87, "GncP25_08HandleTimeMarkPulseInd", 262);
      v4 = 2;
LABEL_9:
      gnssOsa_PrintLog(__str, v4, 1, 0);
    }
  }

  else if (g_LbsOsaTrace_Config)
  {
    bzero(__str, 0x3C6uLL);
    v5 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v5), "GNC", 69, "GncP25_08HandleTimeMarkPulseInd", 517);
    v4 = 1;
    goto LABEL_9;
  }

LABEL_11:
  v6 = *MEMORY[0x29EDCA608];
  return 0;
}

void GncP25_10TimemarkSessTimerExpiry(void)
{
  v6 = *MEMORY[0x29EDCA608];
  g_TimemarkTimerStatus = 0;
  GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidOSTime = 0;
  GncP25_09UpdateTimeMarkInfo(BOOL,BOOL,BOOL,unsigned int,unsigned int)::v_IsValidBBTick = 0;
  g_TimeMarkState = 1;
  v0 = gnssOsa_Calloc("GncP25_10TimemarkSessTimerExpiry", 493, 1, 0x50uLL);
  if (v0)
  {
    v1 = v0;
    v0[3] = 0u;
    v0[4] = 0u;
    v0[1] = 0u;
    v0[2] = 0u;
    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v2 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GpsTime NotAvail\n", (*&g_MacClockTicksToMsRelation * v2), "GNC", 73, "GncP25_10TimemarkSessTimerExpiry");
      gnssOsa_PrintLog(__str, 4, 1, 0);
      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        v3 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCP_TIMEMARK_EVENT_IND =>GNM\n", (*&g_MacClockTicksToMsRelation * v3), "GNC", 73, "GncP25_10TimemarkSessTimerExpiry");
        gnssOsa_PrintLog(__str, 4, 1, 0);
      }
    }

    AgpsSendFsmMsg(132, 128, 8651779, v1);
  }

  v4 = *MEMORY[0x29EDCA608];
}

uint64_t sprintf_eR8(void *a1, double a2)
{
  v13 = *MEMORY[0x29EDCA608];
  v3 = -a2;
  if (a2 >= 0.0)
  {
    v3 = a2;
  }

  if (v3 <= 0.0)
  {
    i = 0;
    v9 = 0;
  }

  else
  {
    for (i = 0; v3 < 0.00001; v3 = v3 * 10000.0)
    {
      i -= 4;
    }

    for (; v3 < 0.1; v3 = v3 * 10.0)
    {
      --i;
    }

    for (; v3 > 10000.0; v3 = v3 * 0.0001)
    {
      i += 4;
    }

    while (v3 > 10.0)
    {
      ++i;
      v3 = v3 * 0.1;
    }

    v5 = v3 * 10000000.0;
    v6 = -0.5;
    if (v5 > 0.0)
    {
      v6 = 0.5;
    }

    v7 = v5 + v6;
    if (v7 <= 2147483650.0)
    {
      if (v7 >= -2147483650.0)
      {
        v8 = v7;
      }

      else
      {
        v8 = 0x80000000;
      }
    }

    else
    {
      v8 = 0x7FFFFFFF;
    }

    if (a2 >= 0.0)
    {
      v9 = v8;
    }

    else
    {
      v9 = -v8;
    }
  }

  sprintf_9f(a1, v9, 8);
  v10 = (*a1)++;
  *v10 = 101;
  if (*a1 >= a1[3])
  {
    *a1 = a1[2];
  }

  v11 = *MEMORY[0x29EDCA608];

  return sprintf_03d(a1, i);
}

uint64_t sprintf_gR8(void *a1, double a2)
{
  v36 = *MEMORY[0x29EDCA608];
  v2 = fabs(a2);
  v3 = (*a1)++;
  *v3 = 32;
  if (*a1 >= a1[3])
  {
    *a1 = a1[2];
  }

  if (v2 < 99.0)
  {
    v4 = a2 * 1000000.0;
    v5 = -0.5;
    if (v4 > 0.0)
    {
      v5 = 0.5;
    }

    v6 = v4 + v5;
    if (v6 <= 2147483650.0)
    {
      if (v6 >= -2147483650.0)
      {
        v7 = v6;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v14 = *MEMORY[0x29EDCA608];
    v15 = 7;
LABEL_67:

    return sprintf_9f(a1, v7, v15);
  }

  if (v2 < 999.0)
  {
    v8 = a2 * 100000.0;
    v9 = -0.5;
    if (v8 > 0.0)
    {
      v9 = 0.5;
    }

    v10 = v8 + v9;
    if (v10 <= 2147483650.0)
    {
      if (v10 >= -2147483650.0)
      {
        v7 = v10;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v19 = *MEMORY[0x29EDCA608];
    v15 = 6;
    goto LABEL_67;
  }

  if (v2 < 9999.0)
  {
    v11 = a2 * 10000.0;
    v12 = -0.5;
    if (v11 > 0.0)
    {
      v12 = 0.5;
    }

    v13 = v11 + v12;
    if (v13 <= 2147483650.0)
    {
      if (v13 >= -2147483650.0)
      {
        v7 = v13;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v23 = *MEMORY[0x29EDCA608];
    v15 = 5;
    goto LABEL_67;
  }

  if (v2 < 99999.0)
  {
    v16 = a2 * 1000.0;
    v17 = -0.5;
    if (v16 > 0.0)
    {
      v17 = 0.5;
    }

    v18 = v16 + v17;
    if (v18 <= 2147483650.0)
    {
      if (v18 >= -2147483650.0)
      {
        v7 = v18;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v27 = *MEMORY[0x29EDCA608];
    v15 = 4;
    goto LABEL_67;
  }

  if (v2 < 999999.0)
  {
    v20 = a2 * 100.0;
    v21 = -0.5;
    if (v20 > 0.0)
    {
      v21 = 0.5;
    }

    v22 = v20 + v21;
    if (v22 <= 2147483650.0)
    {
      if (v22 >= -2147483650.0)
      {
        v7 = v22;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v31 = *MEMORY[0x29EDCA608];
    v15 = 3;
    goto LABEL_67;
  }

  if (v2 < 9999999.0)
  {
    v24 = a2 * 10.0;
    v25 = -0.5;
    if (v24 > 0.0)
    {
      v25 = 0.5;
    }

    v26 = v24 + v25;
    if (v26 <= 2147483650.0)
    {
      if (v26 >= -2147483650.0)
      {
        v7 = v26;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v34 = *MEMORY[0x29EDCA608];
    v15 = 2;
    goto LABEL_67;
  }

  if (v2 >= 99999999.0)
  {
    v32 = *MEMORY[0x29EDCA608];

    return sprintf_eR8(a1, a2);
  }

  else
  {
    v28 = -0.5;
    if (a2 > 0.0)
    {
      v28 = 0.5;
    }

    v29 = v28 + a2;
    if (v29 <= 2147483650.0)
    {
      if (v29 >= -2147483650.0)
      {
        v30 = v29;
      }

      else
      {
        v30 = 0x80000000;
      }
    }

    else
    {
      v30 = 0x7FFFFFFF;
    }

    v35 = *MEMORY[0x29EDCA608];

    return sprintf_10d(a1, v30);
  }
}

uint64_t sprintf_seR8(void *a1, double a2)
{
  v13 = *MEMORY[0x29EDCA608];
  v3 = -a2;
  if (a2 >= 0.0)
  {
    v3 = a2;
  }

  if (v3 <= 0.0)
  {
    i = 0;
    v9 = 0;
  }

  else
  {
    for (i = 0; v3 < 0.0001; v3 = v3 * 1000.0)
    {
      i -= 3;
    }

    for (; v3 < 0.1; v3 = v3 * 10.0)
    {
      --i;
    }

    for (; v3 > 1000.0; v3 = v3 * 0.001)
    {
      i += 3;
    }

    while (v3 > 9.999)
    {
      ++i;
      v3 = v3 * 0.1;
    }

    v5 = v3 * 1000.0;
    v6 = -0.5;
    if (v5 > 0.0)
    {
      v6 = 0.5;
    }

    v7 = v5 + v6;
    if (v7 <= 2147483650.0)
    {
      if (v7 >= -2147483650.0)
      {
        v8 = v7;
      }

      else
      {
        v8 = 0x80000000;
      }
    }

    else
    {
      v8 = 0x7FFFFFFF;
    }

    if (a2 >= 0.0)
    {
      v9 = v8;
    }

    else
    {
      v9 = -v8;
    }
  }

  sprintf_5f(a1, v9, 4);
  v10 = (*a1)++;
  *v10 = 101;
  if (*a1 >= a1[3])
  {
    *a1 = a1[2];
  }

  v11 = *MEMORY[0x29EDCA608];

  return sprintf_02d(a1, i);
}

void *sprintf_sgR8(void *a1, double a2)
{
  v24 = *MEMORY[0x29EDCA608];
  v2 = fabs(a2);
  v3 = (*a1)++;
  *v3 = 32;
  if (*a1 >= a1[3])
  {
    *a1 = a1[2];
  }

  if (v2 < 99.0)
  {
    v4 = a2 * 1000.0;
    v5 = -0.5;
    if (v4 > 0.0)
    {
      v5 = 0.5;
    }

    v6 = v4 + v5;
    if (v6 <= 2147483650.0)
    {
      if (v6 >= -2147483650.0)
      {
        v7 = v6;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v14 = *MEMORY[0x29EDCA608];
    v15 = 4;
LABEL_40:

    return sprintf_6f(a1, v7, v15);
  }

  if (v2 < 999.0)
  {
    v8 = a2 * 100.0;
    v9 = -0.5;
    if (v8 > 0.0)
    {
      v9 = 0.5;
    }

    v10 = v8 + v9;
    if (v10 <= 2147483650.0)
    {
      if (v10 >= -2147483650.0)
      {
        v7 = v10;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v19 = *MEMORY[0x29EDCA608];
    v15 = 3;
    goto LABEL_40;
  }

  if (v2 < 9999.0)
  {
    v11 = a2 * 10.0;
    v12 = -0.5;
    if (v11 > 0.0)
    {
      v12 = 0.5;
    }

    v13 = v11 + v12;
    if (v13 <= 2147483650.0)
    {
      if (v13 >= -2147483650.0)
      {
        v7 = v13;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v22 = *MEMORY[0x29EDCA608];
    v15 = 2;
    goto LABEL_40;
  }

  if (v2 >= 99999.0)
  {
    v20 = *MEMORY[0x29EDCA608];

    return sprintf_seR8(a1, a2);
  }

  else
  {
    v16 = -0.5;
    if (a2 > 0.0)
    {
      v16 = 0.5;
    }

    v17 = v16 + a2;
    if (v17 <= 2147483650.0)
    {
      if (v17 >= -2147483650.0)
      {
        v18 = v17;
      }

      else
      {
        v18 = 0x80000000;
      }
    }

    else
    {
      v18 = 0x7FFFFFFF;
    }

    v23 = *MEMORY[0x29EDCA608];

    return sprintf_7d(a1, v18);
  }
}

void *sprintf_sgR8F(void *a1, double a2)
{
  v24 = *MEMORY[0x29EDCA608];
  v2 = fabs(a2);
  v3 = (*a1)++;
  *v3 = 32;
  if (*a1 >= a1[3])
  {
    *a1 = a1[2];
  }

  if (v2 < 99.0)
  {
    v4 = a2 * 1000.0;
    v5 = -0.5;
    if (v4 > 0.0)
    {
      v5 = 0.5;
    }

    v6 = v4 + v5;
    if (v6 <= 2147483650.0)
    {
      if (v6 >= -2147483650.0)
      {
        v7 = v6;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v14 = *MEMORY[0x29EDCA608];
    v15 = 4;
LABEL_40:

    return sprintf_8f(a1, v7, v15);
  }

  if (v2 < 999.0)
  {
    v8 = a2 * 100.0;
    v9 = -0.5;
    if (v8 > 0.0)
    {
      v9 = 0.5;
    }

    v10 = v8 + v9;
    if (v10 <= 2147483650.0)
    {
      if (v10 >= -2147483650.0)
      {
        v7 = v10;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v19 = *MEMORY[0x29EDCA608];
    v15 = 3;
    goto LABEL_40;
  }

  if (v2 < 9999.0)
  {
    v11 = a2 * 10.0;
    v12 = -0.5;
    if (v11 > 0.0)
    {
      v12 = 0.5;
    }

    v13 = v11 + v12;
    if (v13 <= 2147483650.0)
    {
      if (v13 >= -2147483650.0)
      {
        v7 = v13;
      }

      else
      {
        v7 = 0x80000000;
      }
    }

    else
    {
      v7 = 0x7FFFFFFF;
    }

    v22 = *MEMORY[0x29EDCA608];
    v15 = 2;
    goto LABEL_40;
  }

  if (v2 >= 99999.0)
  {
    v20 = *MEMORY[0x29EDCA608];

    return sprintf_seR8(a1, a2);
  }

  else
  {
    v16 = -0.5;
    if (a2 > 0.0)
    {
      v16 = 0.5;
    }

    v17 = v16 + a2;
    if (v17 <= 2147483650.0)
    {
      if (v17 >= -2147483650.0)
      {
        v18 = v17;
      }

      else
      {
        v18 = 0x80000000;
      }
    }

    else
    {
      v18 = 0x7FFFFFFF;
    }

    v23 = *MEMORY[0x29EDCA608];

    return sprintf_9d(a1, v18);
  }
}

char **sprintf_ACC(char **result, double a2)
{
  v26 = *MEMORY[0x29EDCA608];
  if (a2 <= 99999.0)
  {
    if (a2 <= 9.9)
    {
      if (a2 <= 0.99)
      {
        if (a2 <= 0.099)
        {
          v16 = a2 * 1000.0;
          v17 = -0.5;
          if (v16 > 0.0)
          {
            v17 = 0.5;
          }

          v18 = v16 + v17;
          if (v18 <= 2147483650.0)
          {
            if (v18 >= -2147483650.0)
            {
              v12 = v18;
            }

            else
            {
              v12 = 0x80000000;
            }
          }

          else
          {
            v12 = 0x7FFFFFFF;
          }

          v24 = *MEMORY[0x29EDCA608];
          v25 = *MEMORY[0x29EDCA608];
          v21 = 4;
        }

        else
        {
          v13 = a2 * 100.0;
          v14 = -0.5;
          if (v13 > 0.0)
          {
            v14 = 0.5;
          }

          v15 = v13 + v14;
          if (v15 <= 2147483650.0)
          {
            if (v15 >= -2147483650.0)
            {
              v12 = v15;
            }

            else
            {
              v12 = 0x80000000;
            }
          }

          else
          {
            v12 = 0x7FFFFFFF;
          }

          v22 = *MEMORY[0x29EDCA608];
          v23 = *MEMORY[0x29EDCA608];
          v21 = 3;
        }
      }

      else
      {
        v9 = a2 * 10.0;
        v10 = -0.5;
        if (v9 > 0.0)
        {
          v10 = 0.5;
        }

        v11 = v9 + v10;
        if (v11 <= 2147483650.0)
        {
          if (v11 >= -2147483650.0)
          {
            v12 = v11;
          }

          else
          {
            v12 = 0x80000000;
          }
        }

        else
        {
          v12 = 0x7FFFFFFF;
        }

        v19 = *MEMORY[0x29EDCA608];
        v20 = *MEMORY[0x29EDCA608];
        v21 = 2;
      }

      return sprintf_4f(result, v12, v21);
    }

    else
    {
      v6 = a2 + 0.5;
      if (v6 >= 2147483650.0)
      {
        v6 = 2147483650.0;
      }

      v7 = *MEMORY[0x29EDCA608];
      v8 = *MEMORY[0x29EDCA608];

      return sprintf_5d(result, v6);
    }
  }

  else
  {
    v2 = *result;
    v3 = 57;
    v4 = 1u;
    do
    {
      *result = v2 + 1;
      *v2 = v3;
      v2 = *result;
      if (*result >= result[3])
      {
        v2 = result[2];
        *result = v2;
      }

      v3 = str_6[v4++];
    }

    while (v4 != 6);
    v5 = *MEMORY[0x29EDCA608];
  }

  return result;
}

uint64_t sprintf_v(uint64_t result, char *a2, uint64_t *a3)
{
  v3 = result;
  v35 = *MEMORY[0x29EDCA608];
  v4 = *a2;
  if (*a2)
  {
    v5 = a2;
    v6 = 0;
    do
    {
      if (v4 != 37 && (v6 & 1) == 0)
      {
        goto LABEL_5;
      }

      if ((v6 & 1) == 0)
      {
        v8 = *++v5;
        v4 = v8;
        if (!v8)
        {
          goto LABEL_55;
        }
      }

      if (v4 <= 100)
      {
        if (v4 <= 87)
        {
          if (v4 == 68)
          {
            v16 = a3++;
            result = sprintf_1D(v3, *v16);
            goto LABEL_7;
          }

          if (v4 == 85)
          {
            v15 = a3++;
            result = sprintf_1U(v3, *v15);
            goto LABEL_7;
          }
        }

        else
        {
          switch(v4)
          {
            case 'X':
              v20 = a3++;
              result = sprintf_1X(v3, *v20);
              goto LABEL_7;
            case 'c':
              v17 = a3++;
              v4 = *v17;
LABEL_5:
              v7 = (*v3)++;
              *v7 = v4;
              goto LABEL_6;
            case 'd':
              v11 = a3++;
              v12 = *v11;
              if (v12 >= 0)
              {
                v13 = v12;
              }

              else
              {
                v13 = -v12;
              }

              result = sprintf1da(v3, v13, v34, 0, v12 >> 31);
              goto LABEL_7;
          }
        }
      }

      else if (v4 > 114)
      {
        switch(v4)
        {
          case 's':
            v22 = a3++;
            v23 = *v22;
            v24 = *v23;
            if (*v23)
            {
              v25 = *v3;
              v26 = v23 + 1;
              do
              {
                *v3 = v25 + 1;
                *v25 = v24;
                v25 = *v3;
                if (*v3 >= v3[3])
                {
                  v25 = v3[2];
                  *v3 = v25;
                }

                v27 = *v26++;
                v24 = v27;
              }

              while (v27);
            }

            goto LABEL_7;
          case 'u':
            v19 = a3++;
            result = sprintf_1u(v3, *v19);
            goto LABEL_7;
          case 'x':
            v14 = a3++;
            result = sprintf_1x(v3, *v14);
            goto LABEL_7;
        }
      }

      else
      {
        switch(v4)
        {
          case 'e':
            v21 = a3++;
            result = sprintf_eR8(v3, *v21);
            goto LABEL_7;
          case 'f':
            v18 = a3++;
            result = sprintf_sgR8(v3, *v18);
            goto LABEL_7;
          case 'g':
            v9 = a3++;
            result = sprintf_gR8(v3, *v9);
            goto LABEL_7;
        }
      }

      if ((v4 - 48) < 0xA || v4 <= 0x2E && ((1 << v4) & 0x680800000000) != 0)
      {
        v6 = 1;
        goto LABEL_17;
      }

      v28 = (*v3)++;
      *v28 = 37;
      v29 = *v3;
      if (*v3 >= v3[3])
      {
        v29 = v3[2];
        *v3 = v29;
      }

      v30 = *v5;
      *v3 = v29 + 1;
      *v29 = v30;
LABEL_6:
      if (*v3 >= v3[3])
      {
        v6 = 0;
        *v3 = v3[2];
        goto LABEL_17;
      }

LABEL_7:
      v6 = 0;
LABEL_17:
      v10 = *++v5;
      v4 = v10;
    }

    while (v10);
  }

  v31 = (*v3)++;
  *v31 = 10;
  if (*v3 >= v3[3])
  {
    *v3 = v3[2];
  }

LABEL_55:
  v32 = *MEMORY[0x29EDCA608];
  return result;
}

uint64_t GncP04_05HandlePosEventInd(uint64_t a1)
{
  v48 = *MEMORY[0x29EDCA608];
  if (!a1)
  {
    if (g_LbsOsaTrace_Config)
    {
      bzero(__str, 0x3C6uLL);
      v12 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v12), "GNC", 69, "GncP04_05HandlePosEventInd", 517);
      v13 = 1;
LABEL_16:
      gnssOsa_PrintLog(__str, v13, 1, 0);
      goto LABEL_62;
    }

    goto LABEL_62;
  }

  if (g_LbsOsaTrace_Config >= 4)
  {
    bzero(__str, 0x3C6uLL);
    v2 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCS_POS_EVENT SMClient,%hhu,Ses,%u,PosOp,%u\n", (*&g_MacClockTicksToMsRelation * v2), "GNC", 73, "GncP04_05HandlePosEventInd", *(a1 + 12), *(a1 + 14), *(a1 + 16));
    gnssOsa_PrintLog(__str, 4, 1, 0);
  }

  v3 = *(a1 + 12);
  v4 = *(a1 + 14);
  if (!*(a1 + 16))
  {
    v14 = 0;
    v15 = 1;
    while (1)
    {
      v16 = v15;
      v17 = &g_GncPCntxtInfo + 36 * v14;
      if (v17[8] == 1 && v17[4] == v3 && *(v17 + 3) == v4)
      {
        break;
      }

      v15 = 0;
      v14 = 1;
      if ((v16 & 1) == 0)
      {
        if (g_LbsOsaTrace_Config < 2)
        {
          goto LABEL_43;
        }

        bzero(__str, 0x3C6uLL);
        v9 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
        v45 = *(a1 + 14);
        v46 = *(a1 + 16);
        v41 = 2050;
        v43 = *(a1 + 12);
        v10 = "GncP04_06HandleStopPosEvent";
        v11 = "%10u %s%c %s: #%04hx Client,%hhu,Ses,%u,PosOp,%u\n";
LABEL_24:
        snprintf(__str, 0x3C5uLL, v11, v9, "GNC", 87, v10, v41, v43, v45, v46);
        goto LABEL_42;
      }
    }

    if (v3 != 1)
    {
      if (g_LbsOsaTrace_Config >= 2)
      {
        bzero(__str, 0x3C6uLL);
        v31 = mach_continuous_time();
        v44 = *(a1 + 12);
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx ClientID,%hhu\n", (*&g_MacClockTicksToMsRelation * v31));
LABEL_42:
        gnssOsa_PrintLog(__str, 2, 1, 0);
        goto LABEL_43;
      }

      goto LABEL_43;
    }

    *(v17 + 35) = 0;
    *(v17 + 20) = 0u;
    *(v17 + 4) = 0u;
    if ((g_GncPCntxtInfo - 3) > 0xFDu)
    {
      LOBYTE(g_GncPCntxtInfo) = g_GncPCntxtInfo - 1;
      if (g_LbsOsaTrace_Config < 4)
      {
        goto LABEL_72;
      }

      bzero(__str, 0x3C6uLL);
      v32 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Instance,%u\n", (*&g_MacClockTicksToMsRelation * v32), "GNC", 73, "GncP04_04DecreaseInstnCount", g_GncPCntxtInfo);
      v30 = 4;
    }

    else
    {
      if (g_LbsOsaTrace_Config < 2)
      {
        goto LABEL_72;
      }

      bzero(__str, 0x3C6uLL);
      v29 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Count,%u\n", (*&g_MacClockTicksToMsRelation * v29), "GNC", 87, "GncP04_04DecreaseInstnCount", 770, g_GncPCntxtInfo);
      v30 = 2;
    }

    gnssOsa_PrintLog(__str, v30, 1, 0);
LABEL_72:
    v33 = 0;
    v34 = 1;
    while (1)
    {
      v35 = v34;
      v36 = &g_GncPCntxtInfo + 36 * v33;
      if (v36[8] == 1 && !v36[36])
      {
        break;
      }

      v34 = 0;
      v33 = 1;
      if ((v35 & 1) == 0)
      {
        GncP16_23UpdateStateFGSession(0);
        break;
      }
    }

    v37 = 0;
    v38 = 1;
    while (1)
    {
      v39 = v38;
      v40 = &g_GncPCntxtInfo + 36 * v37;
      if (v40[8] == 1 && (v40[9] & 2) != 0)
      {
        goto LABEL_43;
      }

      v38 = 0;
      v37 = 1;
      if ((v39 & 1) == 0)
      {
        if (qword_2A13EDF58)
        {
          free(qword_2A13EDF58);
        }

        qword_2A13EDF58 = 0;
        goto LABEL_43;
      }
    }
  }

  v5 = 0;
  v6 = 1;
  while (1)
  {
    v7 = v6;
    v8 = &g_GncPCntxtInfo + 36 * v5;
    if (v8[8] == 1 && v8[4] == v3 && *(v8 + 3) == v4)
    {
      break;
    }

    v6 = 0;
    v5 = 1;
    if ((v7 & 1) == 0)
    {
      if (BYTE8(g_GncPCntxtInfo))
      {
        if (byte_2A13EC2DC)
        {
          if (g_LbsOsaTrace_Config < 2)
          {
            goto LABEL_43;
          }

          bzero(__str, 0x3C6uLL);
          v9 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
          v45 = *(a1 + 14);
          v46 = *(a1 + 16);
          v41 = 2054;
          v43 = *(a1 + 12);
          v10 = "GncP04_07ProcessPosEvent";
          v11 = "%10u %s%c %s: #%04hx Client,%hhu,ID,%u,PosOp,%u\n";
          goto LABEL_24;
        }

        LOBYTE(v5) = 1;
      }

      else
      {
        LOBYTE(v5) = 0;
      }

      if (g_GncPCntxtInfo < 2u)
      {
        LOBYTE(g_GncPCntxtInfo) = g_GncPCntxtInfo + 1;
        if (g_LbsOsaTrace_Config < 4)
        {
          break;
        }

        bzero(__str, 0x3C6uLL);
        v20 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Instance,%u\n", (*&g_MacClockTicksToMsRelation * v20), "GNC", 73, "GncP04_03IncreaseInstnCount", g_GncPCntxtInfo);
        v19 = 4;
      }

      else
      {
        if (g_LbsOsaTrace_Config < 2)
        {
          break;
        }

        bzero(__str, 0x3C6uLL);
        v18 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Count,%u\n", (*&g_MacClockTicksToMsRelation * v18), "GNC", 87, "GncP04_03IncreaseInstnCount", 770, g_GncPCntxtInfo);
        v19 = 2;
      }

      gnssOsa_PrintLog(__str, v19, 1, 0);
      break;
    }
  }

  v21 = &g_GncPCntxtInfo + 36 * v5;
  v21[4] = *(a1 + 12);
  v22 = (v21 + 4);
  v22[4] = 1;
  *(v22 + 1) = *(a1 + 14);
  v22[5] = *(a1 + 16);
  *(v22 + 8) = *(a1 + 20);
  *(v22 + 12) = *(a1 + 36);
  *(v22 + 26) = *(a1 + 38);
  *(v22 + 30) = *(a1 + 42);
  v22[34] = *(a1 + 46);
  if (g_LbsOsaTrace_Config >= 4)
  {
    bzero(__str, 0x3C6uLL);
    v23 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Client,%hhu,ID,%u,Output,%u,ReqRcvd,%u,Deadline,%u,Emergency,%u\n", (*&g_MacClockTicksToMsRelation * v23), "GNC", 73, "GncP04_07ProcessPosEvent", 2057, *v22, *(v22 + 1), v22[5], *(v22 + 2), *(v22 + 3), v22[33]);
    gnssOsa_PrintLog(__str, 4, 1, 0);
    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v24 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx StartTime,%u,Int,%u,HAcc,%u,Vacc,%u,ConstMask,%u,PrefFtaMeasTime,%u\n", (*&g_MacClockTicksToMsRelation * v24), "GNC", 73, "GncP04_07ProcessPosEvent", 2057, *(v22 + 4), *(v22 + 5), *(v22 + 12), *(v22 + 13), v22[30], v22[34]);
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }
  }

  if (*v22 == 1)
  {
    GncP16_23UpdateStateFGSession(1);
    goto LABEL_43;
  }

  if (g_LbsOsaTrace_Config >= 2)
  {
    bzero(__str, 0x3C6uLL);
    mach_continuous_time();
    v42 = *v22;
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Invalid ClientID,%hhu\n");
    goto LABEL_42;
  }

LABEL_43:
  if (g_GncPStateInfo <= 2u)
  {
    if (!g_GncPStateInfo)
    {
      goto LABEL_62;
    }

    if (g_GncPStateInfo != 1)
    {
      if (g_GncPStateInfo != 2)
      {
LABEL_57:
        if (g_LbsOsaTrace_Config < 2)
        {
          goto LABEL_62;
        }

        bzero(__str, 0x3C6uLL);
        v26 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v26), "GNC", 87, "GncP04_05HandlePosEventInd", 770);
        v13 = 2;
        goto LABEL_16;
      }

LABEL_52:
      v25 = 3;
      goto LABEL_61;
    }

LABEL_59:
    v25 = 2;
    goto LABEL_61;
  }

  if (g_GncPStateInfo > 0x10u)
  {
LABEL_55:
    if (g_GncPStateInfo != 3)
    {
      if (g_GncPStateInfo != 4)
      {
        goto LABEL_57;
      }

      goto LABEL_52;
    }

    goto LABEL_59;
  }

  if (((1 << g_GncPStateInfo) & 0xC380) != 0)
  {
    if (*(a1 + 16))
    {
      v25 = 6;
    }

    else
    {
      v25 = 1;
    }

    goto LABEL_61;
  }

  if (((1 << g_GncPStateInfo) & 0x10C20) == 0)
  {
    if (g_GncPStateInfo == 6)
    {
      v25 = 7;
LABEL_61:
      GncP04_19SendPosEvntResp(v25);
      goto LABEL_62;
    }

    goto LABEL_55;
  }

LABEL_62:
  v27 = *MEMORY[0x29EDCA608];
  return 0;
}

void GncP04_19SendPosEvntResp(char a1)
{
  v7 = *MEMORY[0x29EDCA608];
  v2 = gnssOsa_Calloc("GncP04_19SendPosEvntResp", 494, 1, 0x10uLL);
  if (v2)
  {
    v3 = v2;
    v2[12] = a1;
    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v4 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCS_POS_EVENT_RSP =>GNCS Status,%hhu\n", (*&g_MacClockTicksToMsRelation * v4), "GNC", 73, "GncP04_19SendPosEvntResp", v3[12]);
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    AgpsSendFsmMsg(132, 130, 8653315, v3);
  }

  v5 = *MEMORY[0x29EDCA608];
}

uint64_t GncP04_08GetNextSessInstn(unsigned int a1, void *__dst, unsigned __int8 a3)
{
  v13 = *MEMORY[0x29EDCA608];
  if (__dst)
  {
    v3 = 0;
    v4 = 0;
    v5 = 1;
    while (1)
    {
      v6 = v5;
      v7 = &g_GncPCntxtInfo + 36 * v3;
      if (v7[8] == 1 && (v7[9] & a3) != 0 && a1 < ++v4)
      {
        break;
      }

      v5 = 0;
      v8 = 0;
      v3 = 1;
      if ((v6 & 1) == 0)
      {
        goto LABEL_12;
      }
    }

    memcpy_s("GncP04_08GetNextSessInstn", 389, __dst, 0x24u, v7 + 4, 0x24uLL);
    v8 = 1;
  }

  else
  {
    if (g_LbsOsaTrace_Config >= 2)
    {
      bzero(__str, 0x3C6uLL);
      v9 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v9), "GNC", 87, "GncP04_08GetNextSessInstn", 513);
      gnssOsa_PrintLog(__str, 2, 1, 0);
    }

    v8 = 0;
  }

LABEL_12:
  v10 = *MEMORY[0x29EDCA608];
  return v8;
}

void GncP04_21SendClearGnssAck(char a1)
{
  v8 = *MEMORY[0x29EDCA608];
  v1 = g_GnssDataClrMask;
  if (g_GnssDataClrMask)
  {
    v3 = gnssOsa_Calloc("GncP04_21SendClearGnssAck", 522, 1, 0x14uLL);
    if (v3)
    {
      v4 = v3;
      v3[12] = a1;
      *(v3 + 4) = v1;
      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        v5 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: FSM:GNCP_CLEAR_GNSS_RSP =>GNM Status,%u\n", (*&g_MacClockTicksToMsRelation * v5), "GNC", 73, "GncP04_21SendClearGnssAck", v4[12]);
        gnssOsa_PrintLog(__str, 4, 1, 0);
      }

      AgpsSendFsmMsg(132, 128, 8653316, v4);
      g_GnssDataClrMask = 0;
    }
  }

  v6 = *MEMORY[0x29EDCA608];
}

uint64_t NK_IntConstel_TO_IntMeas(uint64_t result, uint64_t a2, uint64_t a3, double a4, double a5, double a6, double a7)
{
  v33 = *MEMORY[0x29EDCA608];
  v8 = (a2 + 60488);
  if ((*(result + 241) & 1) != 0 || *(result + 27120) > *(result + 16) || *(a2 + 1872) != 1)
  {
    v10 = 0;
  }

  else
  {
    v9 = *(result + 148);
    if (v9 >= *(result + 152))
    {
      v9 = *(result + 152);
    }

    if (v9 >= *(result + 156))
    {
      v9 = *(result + 156);
    }

    v10 = v9 > 0xA;
  }

  v11 = *v8;
  if (v11 == 4)
  {
    v16 = *(a2 + 60492);
    if (v16 == 5)
    {
      if (*(a3 + 47536) >= 1 && *(a3 + 47544))
      {
        v12 = *(a3 + 47552) * 299792458.0;
        if (fabs(v12) > 50.0)
        {
          result = EvLog_v("NK_IntConstel_TO_IntMeas:  Large BDS-GLO Time Offset  %d > 50 m");
          goto LABEL_61;
        }

        v14 = 1.0;
        v13 = 1;
        if (v10)
        {
          v14 = 9.0;
        }

        v15 = 2;
      }

      else
      {
        if (v10)
        {
          goto LABEL_61;
        }

        v13 = 1;
        v15 = 2;
        v12 = 0.0;
        v14 = 100.0;
      }

      v19 = 27086;
      v20 = 1648;
      v21 = 1640;
      goto LABEL_51;
    }

    if (v16 != 4)
    {
      goto LABEL_61;
    }

    if (*(a3 + 47496) >= 1 && *(a3 + 47504))
    {
      v12 = *(a3 + 47512) * 299792458.0;
      if (*(a2 + 20) >= 1 && *(a2 + 25) == 1)
      {
        LODWORD(a7) = *(a3 + 47508);
        v17 = *(a2 + 32) - *&a7 + (604800 * (*(a2 + 26) - *(a3 + 47504)));
        v18 = v17;
        if (v17 < 0)
        {
          v18 = -v18;
        }

        if (v18 >> 5 <= 0xE0)
        {
          v12 = v12 + v17 * *(a3 + 47520) * 299792458.0;
        }
      }

      if (fabs(v12) > 30.0)
      {
        result = EvLog_v("NK_IntConstel_TO_IntMeas:  Large BDS-GPS Time Offset  %d m > 30 m");
        goto LABEL_61;
      }

      v13 = 0;
      v14 = 1.0;
      if (v10)
      {
        v14 = 9.0;
      }

      *(result + 15560) = v12;
      *(result + 15568) = v14;
      v15 = 2;
    }

    else
    {
      if (v10)
      {
        goto LABEL_61;
      }

      v13 = 0;
      v15 = 2;
      v12 = 0.0;
      v14 = 100.0;
    }

    v19 = 27084;
    v20 = 1648;
  }

  else
  {
    if (v11 != 2 || *(a2 + 60492) != 1)
    {
      goto LABEL_61;
    }

    if (*(a3 + 17192) == 1)
    {
      v12 = vcvtd_n_f64_s32(*(a3 + 17132), 0x1EuLL) * -299792458.0;
      if (fabs(v12) > 40.0)
      {
        result = EvLog_v("NK_IntConstel_TO_IntMeas:  Large GLO-GPS Time Offset  %d m > 40m");
        goto LABEL_61;
      }

      v13 = 0;
      v14 = 1.0;
      if (v10)
      {
        v14 = 9.0;
      }

      *(result + 15528) = v12;
      *(result + 15536) = v14;
      v15 = 1;
    }

    else
    {
      if (v10)
      {
        goto LABEL_61;
      }

      v13 = 0;
      v15 = 1;
      v12 = 0.0;
      v14 = 100.0;
    }

    v19 = 27082;
    v20 = 1640;
  }

  v21 = 1632;
LABEL_51:
  v22 = (*(a2 + v21) - *(a2 + v20)) * 299792458.0;
  v28 = 0;
  v27[1] = 0.0;
  v29 = 0;
  *&v30[12] = 0u;
  v31 = 0u;
  v32 = 0;
  *v30 = v12;
  *&v30[8] = v14;
  LOBYTE(v27[0]) = 1;
  HIDWORD(v27[0]) = 2;
  *(&v31 + 4) = 0x4415AF1D78B58C40;
  result = KFSt_DMeas_Update(v13, v15, 0xCu, v27, (result + 976), (result + v19), v22);
  if (result)
  {
    v23 = *v8;
    if (v23 == 4)
    {
      *(v8 + 419) = HIDWORD(v27[0]);
      v24 = *(v8 + 1);
      if (v24 == 5)
      {
        v8[1738] = 1;
      }

      else if (v24 == 4)
      {
        v8[1737] = 1;
        v8[32] = 1;
        *(a2 + 60528) = *v30;
      }
    }

    else if (v23 == 2)
    {
      *(v8 + 418) = HIDWORD(v27[0]);
      v8[1736] = 1;
      v8[8] = 1;
      *(v8 + 1) = *v30;
    }

    if (g_Logging_Cfg >= 7)
    {
      v26 = *(v8 + 1);
      result = EvLog_v("NK_IntConstel_TO_IntMeas: Time Offset applied:  %d  %d");
    }
  }

LABEL_61:
  v25 = *MEMORY[0x29EDCA608];
  return result;
}

unsigned __int16 *Gnm02_13ReqNewNafInstn(int a1, const char *a2)
{
  v21 = *MEMORY[0x29EDCA608];
  if (Gnm02_32GetInstnFromNafId(a1))
  {
    if (g_LbsOsaTrace_Config < 2)
    {
      goto LABEL_38;
    }

    bzero(__str, 0x3C6uLL);
    v18 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx %s\n", v18);
LABEL_27:
    gnssOsa_PrintLog(__str, 2, 1, 0);
    goto LABEL_38;
  }

  v4 = 2u;
  do
  {
    if (!*&g_GnmInstances[v4])
    {
      v6 = gnssOsa_Calloc("Gnm02_11ReqNewInstn", 139, 1, 0x10uLL);
      *&g_GnmInstances[v4] = v6;
      if (!v6)
      {
LABEL_25:
        if (g_LbsOsaTrace_Config < 2)
        {
          goto LABEL_38;
        }

        bzero(__str, 0x3C6uLL);
        v19 = (*&g_MacClockTicksToMsRelation * mach_continuous_time());
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx NewInstn %s\n", v19);
        goto LABEL_27;
      }

      v7 = v6;
      v8 = LOWORD(g_GnmInstances[0]);
LABEL_11:
      if (v8 >> 2 < 0xFFF)
      {
        ++v8;
      }

      else
      {
        v8 = 1;
      }

      v9 = 2u;
      do
      {
        v10 = *&g_GnmInstances[v9];
        if (v10 && *v10 == v8)
        {
          goto LABEL_11;
        }

        v9 += 2;
      }

      while (v9 != 8);
      g_GnmInstances[0] = __PAIR32__(HIWORD(g_GnmInstances[0]), v8) + 0x10000;
      *v6 = v8;
      if (g_LbsOsaTrace_Config >= 4)
      {
        bzero(__str, 0x3C6uLL);
        v11 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx InstnId,%u\n", (*&g_MacClockTicksToMsRelation * v11), "GNM", 73, "Gnm02_11ReqNewInstn", 2057, *v7);
        gnssOsa_PrintLog(__str, 4, 1, 0);
      }

      v12 = 2u;
      while (*&g_GnmInstances[v12] != v7)
      {
        v12 += 2;
        if (v12 == 8)
        {
          if (g_LbsOsaTrace_Config >= 2)
          {
            bzero(__str, 0x3C6uLL);
            mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Instn\n");
            goto LABEL_34;
          }

LABEL_37:
          Gnm02_21DeleteInstn(v7);
          goto LABEL_38;
        }
      }

      if (*(v7 + 2))
      {
        if (g_LbsOsaTrace_Config < 2)
        {
          goto LABEL_37;
        }

        bzero(__str, 0x3C6uLL);
        mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx InstnType\n");
      }

      else
      {
        if (!*(v7 + 1))
        {
          v16 = gnssOsa_Calloc("Gnm02_04AddNafParams", 100, 1, 0x50uLL);
          *(v7 + 1) = v16;
          if (v16)
          {
            *(v7 + 2) = 1;
            *v16 = a1;
            if (g_LbsOsaTrace_Config >= 4)
            {
              bzero(__str, 0x3C6uLL);
              v17 = mach_continuous_time();
              snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx %s GNMInstn,%u,NaftInstn,%u\n", (*&g_MacClockTicksToMsRelation * v17), "GNM", 73, "Gnm02_13ReqNewNafInstn", 2057, a2, *v7, a1);
              gnssOsa_PrintLog(__str, 4, 1, 0);
            }

            goto LABEL_39;
          }

LABEL_35:
          if (g_LbsOsaTrace_Config >= 2)
          {
            bzero(__str, 0x3C6uLL);
            v13 = mach_continuous_time();
            snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx NewNafInst %s\n", (*&g_MacClockTicksToMsRelation * v13), "GNM", 87, "Gnm02_13ReqNewNafInstn", 2049, a2);
            gnssOsa_PrintLog(__str, 2, 1, 0);
          }

          goto LABEL_37;
        }

        if (g_LbsOsaTrace_Config < 2)
        {
          goto LABEL_37;
        }

        bzero(__str, 0x3C6uLL);
        mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n");
      }

LABEL_34:
      gnssOsa_PrintLog(__str, 2, 1, 0);
      goto LABEL_35;
    }

    v4 += 2;
  }

  while (v4 != 8);
  if (g_LbsOsaTrace_Config >= 2)
  {
    bzero(__str, 0x3C6uLL);
    v5 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx\n", (*&g_MacClockTicksToMsRelation * v5), "GNM", 87, "Gnm02_11ReqNewInstn", 2054);
    gnssOsa_PrintLog(__str, 2, 1, 0);
    goto LABEL_25;
  }

LABEL_38:
  v7 = 0;
LABEL_39:
  v14 = *MEMORY[0x29EDCA608];
  return v7;
}

uint64_t Gnm02_32GetInstnFromNafId(int a1)
{
  v9 = *MEMORY[0x29EDCA608];
  v2 = 2u;
  while (1)
  {
    result = *&g_GnmInstances[v2];
    if (result)
    {
      v4 = *(result + 8);
      if (v4)
      {
        if (*(result + 2) == 1 && *v4 == a1)
        {
          break;
        }
      }
    }

    v2 += 2;
    if (v2 == 8)
    {
      if (g_LbsOsaTrace_Config >= 5)
      {
        bzero(__str, 0x3C6uLL);
        v5 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx NafId,%u\n", (*&g_MacClockTicksToMsRelation * v5), "GNM", 68, "Gnm02_32GetInstnFromNafId", 2052, a1);
        gnssOsa_PrintLog(__str, 5, 1, 0);
      }

      result = 0;
      goto LABEL_10;
    }
  }

  if (g_LbsOsaTrace_Config >= 4)
  {
    bzero(__str, 0x3C6uLL);
    v7 = mach_continuous_time();
    snprintf(__str, 0x3C5uLL, "%10u %s%c %s: GNMInstn,%u,NafInstn,%u found\n", (*&g_MacClockTicksToMsRelation * v7), "GNM", 73, "Gnm02_32GetInstnFromNafId", **&g_GnmInstances[v2], a1);
    gnssOsa_PrintLog(__str, 4, 1, 0);
    result = *&g_GnmInstances[v2];
  }

LABEL_10:
  v6 = *MEMORY[0x29EDCA608];
  return result;
}

BOOL Gnm02_21DeleteInstn(unsigned __int16 *a1)
{
  v15 = *MEMORY[0x29EDCA608];
  if (a1)
  {
    v2 = 2u;
    while (*&g_GnmInstances[v2] != a1)
    {
      v2 += 2;
      if (v2 == 8)
      {
        goto LABEL_5;
      }
    }

    if (g_LbsOsaTrace_Config >= 4)
    {
      bzero(__str, 0x3C6uLL);
      v7 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: Deleted GNMInstn,%u\n", (*&g_MacClockTicksToMsRelation * v7), "GNM", 73, "Gnm02_21DeleteInstn", *a1);
      gnssOsa_PrintLog(__str, 4, 1, 0);
    }

    v8 = *(a1 + 1);
    if (v8)
    {
      if (*(a1 + 2) == 1)
      {
        v9 = *(v8 + 72);
        if (v9)
        {
          free(v9);
        }

        *(v8 + 72) = 0;
        v4 = (*(v8 + 4) & 7) != 0;
      }

      else
      {
        if (g_LbsOsaTrace_Config >= 2)
        {
          bzero(__str, 0x3C6uLL);
          v11 = mach_continuous_time();
          snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx InstnType,%hhu\n", (*&g_MacClockTicksToMsRelation * v11), "GNM", 87, "Gnm02_21DeleteInstn", 2050, *(a1 + 2));
          gnssOsa_PrintLog(__str, 2, 1, 0);
        }

        v4 = 0;
      }

      v12 = *(a1 + 1);
      if (v12)
      {
        free(v12);
      }

      *(a1 + 1) = 0;
      *(a1 + 2) = 0;
    }

    else
    {
      if (g_LbsOsaTrace_Config >= 2)
      {
        bzero(__str, 0x3C6uLL);
        v10 = mach_continuous_time();
        snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx InstnInfo\n", (*&g_MacClockTicksToMsRelation * v10), "GNM", 87, "Gnm02_21DeleteInstn", 2050);
        gnssOsa_PrintLog(__str, 2, 1, 0);
      }

      v4 = 0;
    }

    v13 = 2u;
    while (*&g_GnmInstances[v13] != a1)
    {
      v13 += 2;
      if (v13 == 8)
      {
        goto LABEL_8;
      }
    }

    free(a1);
    *&g_GnmInstances[v13] = 0;
    if (HIWORD(g_GnmInstances[0]))
    {
      --HIWORD(g_GnmInstances[0]);
    }
  }

  else
  {
LABEL_5:
    if (g_LbsOsaTrace_Config >= 2)
    {
      bzero(__str, 0x3C6uLL);
      v3 = mach_continuous_time();
      snprintf(__str, 0x3C5uLL, "%10u %s%c %s: #%04hx Instn\n", (*&g_MacClockTicksToMsRelation * v3), "GNM", 87, "Gnm02_21DeleteInstn", 2050);
      gnssOsa_PrintLog(__str, 2, 1, 0);
    }

    v4 = 0;
  }

LABEL_8:
  v5 = *MEMORY[0x29EDCA608];
  return v4;
}