uint64_t InjectFlushOrPushOutput(uint64_t a1, size_t *a2, void **a3, size_t *a4)
{
  if (*(a1 + 8628) == 1 && (v8 = *(a1 + 2434), *(a1 + 2434)))
  {
    v9 = *(a1 + 2432);
    *(a1 + 2432) = 0;
    *(a1 + 2434) = 0;
    v10 = (6 << v8) | v9;
    v11 = *(a1 + 8584);
    if (v11)
    {
      v12 = (v11 + *(a1 + 8592));
    }

    else
    {
      v12 = (a1 + 8608);
      *(a1 + 8584) = a1 + 8608;
    }

    *v12 = v10;
    if (v8 >= 3)
    {
      v12[1] = HIBYTE(v10);
      if (v8 >= 0xB)
      {
        v12[2] = (6 << v8) >> 16;
      }
    }

    *(a1 + 8592) += (v8 + 13) >> 3;
  }

  else
  {
    v13 = *(a1 + 8592);
    if (!v13 || !*a2)
    {
      return 0;
    }

    if (v13 >= *a2)
    {
      v14 = *a2;
    }

    else
    {
      v14 = *(a1 + 8592);
    }

    memcpy(*a3, *(a1 + 8584), v14);
    *a3 = *a3 + v14;
    *a2 -= v14;
    *(a1 + 8584) += v14;
    *(a1 + 8592) -= v14;
    v15 = *(a1 + 8600) + v14;
    *(a1 + 8600) = v15;
    if (a4)
    {
      *a4 = v15;
    }
  }

  return 1;
}

uint64_t EncodeData(uint64_t a1, unsigned int a2, int a3, unint64_t *a4, char **a5, __n128 a6, int32x4_t a7, double a8, double a9, double a10, int32x4_t a11)
{
  v11 = *(a1 + 2248);
  v12 = *(a1 + 2344);
  v13 = v11 - v12;
  if (v12 >> 30 >= 3)
  {
    v14 = (((2 * v12) >> 1) & 0xC0000000 | v12 & 0x3FFFFFFF) ^ 0x80000000;
  }

  else
  {
    v14 = v12;
  }

  v264 = v14;
  v265 = v11 - v12;
  if (*(a1 + 8632))
  {
    return 0;
  }

  v16 = a4;
  v20 = *(a1 + 2288);
  v21 = *(a1 + 2260);
  if (a2)
  {
    *(a1 + 8632) = 1;
  }

  if (v13 > 1 << *(a1 + 12))
  {
    return 0;
  }

  v23 = *(a1 + 4);
  v260 = v21;
  if (v23 != 1)
  {
    goto LABEL_13;
  }

  if (!*(a1 + 8568))
  {
    *(a1 + 8568) = BrotliAllocate(a1 + 144);
    *(a1 + 8576) = BrotliAllocate(a1 + 144);
    if (*(a1 + 168))
    {
      return 0;
    }

    v23 = *(a1 + 4);
    v16 = a4;
    v21 = v260;
LABEL_13:
    if (v23 <= 1)
    {
      goto LABEL_14;
    }

    v33 = (v13 >> 1) + *(a1 + 2312) + 1;
    if (v33 > *(a1 + 2296))
    {
      v34 = v16;
      v35 = v33 + (v13 >> 2) + 16;
      *(a1 + 2296) = v35;
      if (v35)
      {
        v36 = BrotliAllocate(a1 + 144);
      }

      else
      {
        v36 = 0;
      }

      if (*(a1 + 168))
      {
        return 0;
      }

      v37 = *(a1 + 2304);
      if (v37)
      {
        memcpy(v36, v37, 16 * *(a1 + 2312));
        BrotliFree(a1 + 144, *(a1 + 2304));
      }

      *(a1 + 2304) = v36;
      v16 = v34;
      v21 = v260;
    }

    v259 = (a1 + 2456);
    v38 = v13;
    if (a2)
    {
      v39 = v14 == 0;
    }

    else
    {
      v39 = 0;
    }

    v40 = v39;
    if (*(a1 + 2456))
    {
      if (*(a1 + 2500))
      {
        goto LABEL_192;
      }

LABEL_145:
      v65 = *(a1 + 2480);
      if (v65 <= 34)
      {
        if (v65 <= 4)
        {
          switch(v65)
          {
            case 2:
              v70 = *(a1 + 2512);
              if (v38 <= 0x800 && v40)
              {
                if (!v38)
                {
                  goto LABEL_190;
                }

                v71 = v20;
                v72 = v38;
                do
                {
                  v73 = *v71;
                  v71 = (v71 + 1);
                  *(v70 + (((0xBD1E35A7BD000000 * v73) >> 46) & 0x3FFFC)) = 0;
                  --v72;
                }

                while (v72);
                goto LABEL_189;
              }

              break;
            case 3:
              v70 = *(a1 + 2512);
              if (v38 <= 0x800 && v40)
              {
                if (!v38)
                {
                  goto LABEL_190;
                }

                v74 = v20;
                v75 = v38;
                do
                {
                  v76 = *v74;
                  v74 = (v74 + 1);
                  v77 = (0xBD1E35A7BD000000 * v76) >> 48;
                  v70[v77] = 0;
                  v70[(v77 + 8)] = 0;
                  --v75;
                }

                while (v75);
                goto LABEL_189;
              }

              break;
            case 4:
              v66 = v16;
              PrepareH4(a1 + 2504, v40, v38, v20);
              goto LABEL_188;
            default:
              goto LABEL_189;
          }

          v66 = v16;
          bzero(v70, 0x40000uLL);
          goto LABEL_188;
        }

        switch(v65)
        {
          case 5:
            v66 = v16;
            PrepareH5((a1 + 2504), v40, v38, v20);
            goto LABEL_188;
          case 6:
            v66 = v16;
            PrepareH6((a1 + 2504), v40, v38, v20);
            goto LABEL_188;
          case 10:
            v67 = 0;
            v68 = *(a1 + 2512);
            v69 = (a1 + 2520);
            a6 = vld1q_dup_f32(v69);
            do
            {
              *(v68 + v67) = a6;
              v67 += 16;
            }

            while (v67 != 0x80000);
            break;
        }
      }

      else
      {
        if (v65 > 41)
        {
          if (v65 > 54)
          {
            if (v65 == 55)
            {
              v66 = v16;
              PrepareH55(a1 + 2504, v40, v38, v20);
            }

            else
            {
              if (v65 != 65)
              {
                goto LABEL_189;
              }

              v66 = v16;
              PrepareH65(a1 + 2504, v40, v38, v20);
            }
          }

          else if (v65 == 42)
          {
            v66 = v16;
            PrepareH42((a1 + 2504), v40, v38, v20);
          }

          else
          {
            if (v65 != 54)
            {
              goto LABEL_189;
            }

            v66 = v16;
            PrepareH54(a1 + 2504, v40, v38, v20);
          }

          goto LABEL_188;
        }

        if (v65 == 35)
        {
          v66 = v16;
          PrepareH35(a1 + 2504, v40, v38, v20);
          goto LABEL_188;
        }

        if (v65 == 40 || v65 == 41)
        {
          v66 = v16;
          PrepareH40(a1 + 2504, v40, v38, v20);
LABEL_188:
          v16 = v66;
          v21 = v260;
        }
      }

LABEL_189:
      if (v14)
      {
LABEL_191:
        *(a1 + 2500) = 1;
LABEL_192:
        v258 = v16;
        if (*(a1 + 168))
        {
          goto LABEL_193;
        }

        v89 = *(a1 + 2480);
        if (v89 <= 34)
        {
          if (v89 > 4)
          {
            if (v89 == 5)
            {
              if (v38 >= 3 && v14 >= 3)
              {
                v228 = (506832829 * *(v20 + ((v14 - 3) & v21))) >> *(a1 + 2520);
                v229 = *(a1 + 2544);
                v230 = *(v229 + 2 * v228);
                v231 = *(a1 + 2552);
                *(v231 + 4 * (*(a1 + 2524) & v230) + 4 * (v228 << *(a1 + 2528))) = v14 - 3;
                *(v229 + 2 * v228) = v230 + 1;
                v232 = (506832829 * *(v20 + ((v14 - 2) & v21))) >> *(a1 + 2520);
                v233 = *(v229 + 2 * v232);
                *(v231 + 4 * (*(a1 + 2524) & v233) + 4 * (v232 << *(a1 + 2528))) = v14 - 2;
                *(v229 + 2 * v232) = v233 + 1;
                v234 = (506832829 * *(v20 + ((v14 - 1) & v21))) >> *(a1 + 2520);
                v235 = *(v229 + 2 * v234);
                *(v231 + 4 * (*(a1 + 2524) & v235) + 4 * (v234 << *(a1 + 2528))) = v14 - 1;
                *(v229 + 2 * v234) = v235 + 1;
              }
            }

            else if (v89 == 6)
            {
              if (v38 >= 7 && v14 >= 3)
              {
                v236 = *(a1 + 2560);
                v237 = *(a1 + 2568);
                v238 = *(a1 + 2528);
                v239 = (0x1FE35A7BD3579BD3 * (*(v20 + ((v14 - 3) & v21)) & v238)) >> *(a1 + 2520);
                v240 = *(v236 + 2 * v239);
                v241 = *(a1 + 2536) & v240;
                v242 = v239 << *(a1 + 2540);
                *(v236 + 2 * v239) = v240 + 1;
                *(v237 + 4 * v241 + 4 * v242) = v14 - 3;
                v243 = (0x1FE35A7BD3579BD3 * (*(v20 + ((v14 - 2) & v21)) & v238)) >> *(a1 + 2520);
                v244 = *(v236 + 2 * v243);
                v245 = *(a1 + 2536) & v244;
                v246 = *(a1 + 2540);
                *(v236 + 2 * v243) = v244 + 1;
                *(v237 + 4 * v245 + 4 * (v243 << v246)) = v14 - 2;
                v247 = (0x1FE35A7BD3579BD3 * (*(v20 + ((v14 - 1) & v21)) & v238)) >> *(a1 + 2520);
                LODWORD(v238) = *(v236 + 2 * v247);
                v248 = v247 << *(a1 + 2540);
                v249 = *(a1 + 2536) & v238;
                *(v236 + 2 * v247) = v238 + 1;
                *(v237 + 4 * v249 + 4 * v248) = v14 - 1;
              }
            }

            else if (v89 == 10 && v38 >= 3 && v14 >= 0x80)
            {
              v131 = v14 - 127;
              v132 = v14 - 127 + v38;
              if (v14 < v132)
              {
                v132 = v14;
              }

              v257 = v132;
              if (v131 < v132)
              {
                v133 = *(a1 + 2504);
                v256 = *(a1 + 2512);
                v134 = *(a1 + 2528);
                do
                {
                  v135 = v14 - v131;
                  if (v14 - v131 <= 0xF)
                  {
                    v135 = 15;
                  }

                  v136 = (v20 + (v131 & v21));
                  v137 = (506832829 * *v136) >> 15;
                  v138 = *(v256 + 4 * v137);
                  v139 = 2 * (v133 & v131);
                  v140 = v139 | 1;
                  *(v256 + 4 * v137) = v131;
                  if (v131 != v138)
                  {
                    v142 = 0;
                    v143 = 0;
                    v144 = v133 - v135;
                    v145 = 64;
                    do
                    {
                      if (v131 - v138 > v144 || v145 == 0)
                      {
                        break;
                      }

                      v147 = v138 & v21;
                      if (v143 >= v142)
                      {
                        v148 = v142;
                      }

                      else
                      {
                        v148 = v143;
                      }

                      v149 = v136 + v148;
                      v150 = v20 + v147;
                      v151 = v20 + v147 + v148;
                      v152 = 128 - v148;
                      if (128 - v148 < 8)
                      {
                        v157 = 0;
LABEL_292:
                        v161 = v152 & 7;
                        if ((v152 & 7) != 0)
                        {
                          v162 = v157 | v161;
                          while (v149[v157] == *v151)
                          {
                            ++v151;
                            ++v157;
                            if (!--v161)
                            {
                              v157 = v162;
                              break;
                            }
                          }
                        }
                      }

                      else
                      {
                        v153 = a5;
                        v154 = v20;
                        v155 = 0;
                        v156 = v152 >> 3;
                        v157 = v152 & 0xFFFFFFFFFFFFFFF8;
                        while (1)
                        {
                          v158 = *&v151[v155];
                          v159 = *&v149[v155];
                          if (v158 != v159)
                          {
                            break;
                          }

                          v155 += 8;
                          if (!--v156)
                          {
                            v151 += v152 & 0xFFFFFFFFFFFFFFF8;
                            v20 = v154;
                            a5 = v153;
                            v21 = v260;
                            goto LABEL_292;
                          }
                        }

                        v157 = v155 + (__clz(__rbit64(v159 ^ v158)) >> 3);
                        v20 = v154;
                        a5 = v153;
                        v21 = v260;
                      }

                      if (v157 + v148 >= 0x80)
                      {
                        v163 = (v134 + 8 * (v138 & v133));
                        *(v134 + 4 * v139) = *v163;
                        v141 = v163[1];
                        goto LABEL_269;
                      }

                      v160 = 2 * (v138 & v133);
                      if (*(v136 + v157 + v148) <= v150[v157 + v148])
                      {
                        *(v134 + 4 * v140) = v138;
                        v140 = 2 * (v138 & v133);
                        v142 = v157 + v148;
                      }

                      else
                      {
                        *(v134 + 4 * v139) = v138;
                        v139 = v160 | 1;
                        v143 = v157 + v148;
                        v160 |= 1uLL;
                      }

                      v138 = *(v134 + 4 * v160);
                      --v145;
                    }

                    while (v131 != v138);
                  }

                  v141 = *(a1 + 2520);
                  *(v134 + 4 * v139) = v141;
LABEL_269:
                  *(v134 + 4 * v140) = v141;
                  ++v131;
                }

                while (v131 != v257);
              }
            }
          }

          else
          {
            if (v89 != 2)
            {
              if (v89 == 3)
              {
                if (v38 < 7 || v14 < 3)
                {
                  goto LABEL_193;
                }

                v90 = *(a1 + 2512);
                *(v90 + 4 * (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 3) & v21))) >> 48) + ((v14 - 3) & 8))) = v14 - 3;
                *(v90 + 4 * (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 2) & v21))) >> 48) + ((v14 - 2) & 8))) = v14 - 2;
                v91 = v14 - 1;
                v92 = (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 1) & v21))) >> 48) + ((v14 - 1) & 8));
              }

              else
              {
                if (v89 != 4 || v38 < 7 || v14 < 3)
                {
                  goto LABEL_193;
                }

                v90 = *(a1 + 2512);
                *(v90 + 4 * (((((0xBD1E35A7BD000000 * *(v20 + ((v14 - 3) & v21))) >> 32) >> 15) + ((v14 - 3) & 0x18)) & 0x1FFFF)) = v14 - 3;
                *(v90 + 4 * (((((0xBD1E35A7BD000000 * *(v20 + ((v14 - 2) & v21))) >> 32) >> 15) + ((v14 - 2) & 0x18)) & 0x1FFFF)) = v14 - 2;
                v91 = v14 - 1;
                v92 = ((((0xBD1E35A7BD000000 * *(v20 + ((v14 - 1) & v21))) >> 32) >> 15) + ((v14 - 1) & 0x18)) & 0x1FFFF;
              }

LABEL_372:
              *(v90 + 4 * v92) = v91;
              goto LABEL_193;
            }

            if (v38 >= 7 && v14 >= 3)
            {
              v227 = *(a1 + 2512);
              *(v227 + (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 3) & v21))) >> 46) & 0x3FFFC)) = v14 - 3;
              *(v227 + (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 2) & v21))) >> 46) & 0x3FFFC)) = v14 - 2;
              *(v227 + (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 1) & v21))) >> 46) & 0x3FFFC)) = v14 - 1;
            }
          }

LABEL_193:
          v78 = *(a1 + 2336);
          if (v78 > 0xBFFFFFFF)
          {
            v79 = (((2 * v78) >> 1) & 0xC0000000 | v78 & 0x3FFFFFFF) ^ 0x80000000;
          }

          else
          {
            v79 = v78;
          }

          if (*(a1 + 4) < 10 || BrotliIsMostlyUTF8(v20, v79, v21, *(a1 + 2248) - v78, 0.75))
          {
            v80 = 2;
          }

          else
          {
            v80 = 3;
          }

          if (*(a1 + 168))
          {
            return 0;
          }

          v81 = (a1 + 2312);
          v82 = v80 << 9;
          v261 = (a1 + 2312);
          if (*(a1 + 2312) && !*(a1 + 2328))
          {
            ExtendLastCommand(a1, &v265, &v264);
            v81 = (a1 + 2312);
          }

          v83 = *(a1 + 4);
          v84 = (a1 + 2328);
          v85 = (*(a1 + 2304) + 16 * *(a1 + 2312));
          v86 = (a1 + 2320);
          if (v83 == 11)
          {
            v93 = &_kBrotliContextLookupTable[v82];
            v88 = (a1 + 2352);
            BrotliCreateHqZopfliBackwardReferences(a1 + 144, v265, v264, v20, v21, v93, a1, v259, (a1 + 2352), (a1 + 2328), v85, v81, (a1 + 2320));
          }

          else
          {
            if (v83 != 10)
            {
              v94 = &_kBrotliContextLookupTable[v82];
              v88 = (a1 + 2352);
              BrotliCreateBackwardReferences(v265, v264, v20, v21, a6.n128_f64[0], a7, a8, a9, a10, a11, v94, a1, v259, (a1 + 2352), (a1 + 2328), v85, v81, (a1 + 2320));
              goto LABEL_226;
            }

            v87 = &_kBrotliContextLookupTable[v82];
            v88 = (a1 + 2352);
            BrotliCreateZopfliBackwardReferences(a1 + 144, v265, v264, v20, v21, v87, a1, v259, a1 + 2352, (a1 + 2328), v85, v81, (a1 + 2320));
          }

          if (*(a1 + 168))
          {
            return 0;
          }

LABEL_226:
          v95 = *(a1 + 8);
          v96 = *(a1 + 12);
          if (v95 <= v96)
          {
            v95 = *(a1 + 12);
          }

          if (v95 >= 23)
          {
            v97 = 23;
          }

          else
          {
            v97 = v95;
          }

          v98 = *(a1 + 2248);
          v99 = *(a1 + 2336);
          if (*(a1 + 4) > 3)
          {
            v101 = 0;
            v100 = (a1 + 2312);
          }

          else
          {
            v100 = (a1 + 2312);
            v101 = *v261 + *v86 > 0x2FFE;
          }

          v102 = v98 - v99;
          if (a3 | a2 || v101 || (v103 = 1 << (v97 + 1), v102 + (1 << v96) > v103) || *v86 >= v103 >> 3 || *v100 >= v103 >> 3)
          {
            v104 = *v84;
            if (*v84)
            {
              v105 = *(a1 + 2304);
              v106 = *(a1 + 2312);
              *(a1 + 2312) = v106 + 1;
              v107 = v105 + 16 * v106;
              *v107 = v104;
              *(v107 + 4) = 0x8000000;
              *(v107 + 14) = 16;
              if (v104 > 5)
              {
                if (v104 > 0x81)
                {
                  if (v104 > 0x841)
                  {
                    if (v104 >> 1 >= 0xC21)
                    {
                      if (v104 < 0x5842)
                      {
                        LOWORD(v108) = 22;
                      }

                      else
                      {
                        LOWORD(v108) = 23;
                      }
                    }

                    else
                    {
                      LOWORD(v108) = 21;
                    }
                  }

                  else
                  {
                    v108 = (__clz(v104 - 66) ^ 0x1F) + 10;
                  }
                }

                else
                {
                  v164 = (__clz(v104 - 2) ^ 0x1F) - 1;
                  v108 = ((v104 - 2) >> v164) + 2 * v164 + 2;
                }
              }

              else
              {
                LOWORD(v108) = v104;
              }

              *(v107 + 12) = ((((0x520D40u >> (6 * (v108 >> 3))) & 0xC0) + 192 * (v108 >> 3)) & 0xFFC7 | (8 * (v108 & 7))) + 66;
              *v86 += v104;
              *v84 = 0;
            }

            if (a2 || v98 != v99)
            {
              v250 = v98 - v99;
              BrotliStorage = GetBrotliStorage(a1, (2 * v102 + 503));
              v263 = *(a1 + 2434);
              if (!*(a1 + 168))
              {
                v252 = BrotliStorage;
                *BrotliStorage = *(a1 + 2432);
                BrotliStorage[1] = *(a1 + 2433);
                WriteMetaBlockInternal(a1 + 144, v20, v21, *(a1 + 2336), v250, a2, v80, a1, *(a1 + 2436), HIBYTE(*(a1 + 2436)), *(a1 + 2320), *(a1 + 2312), *(a1 + 2304), (a1 + 2416), v88, &v263, BrotliStorage);
                if (!*(a1 + 168))
                {
                  v253 = v263;
                  v254 = v263 >> 3;
                  *(a1 + 2432) = v252[v263 >> 3];
                  *(a1 + 2434) = v253 & 7;
                  *(a1 + 2336) = *(a1 + 2248);
                  if (UpdateLastProcessedPos(a1))
                  {
                    *(a1 + 2500) = 0;
                  }

                  v255 = *(a1 + 2336);
                  if (v255)
                  {
                    *(a1 + 2436) = *(v20 + ((v255 - 1) & v21));
                    if (v255 != 1)
                    {
                      *(a1 + 2437) = *(v20 + ((v255 - 2) & v21));
                    }
                  }

                  *v261 = 0;
                  *(a1 + 2320) = 0;
                  *(a1 + 2416) = *v88;
                  *a5 = v252;
                  *v258 = v254;
                  return 1;
                }
              }

              return 0;
            }
          }

          else if (UpdateLastProcessedPos(a1))
          {
            *(a1 + 2500) = 0;
          }

          *v258 = 0;
          return 1;
        }

        if (v89 <= 41)
        {
          if (v89 != 35)
          {
            if ((v89 == 40 || v89 == 41) && v38 >= 3 && v14 >= 3)
            {
              v109 = *(a1 + 2520);
              v110 = (506832829 * *(v20 + ((v14 - 3) & v21))) >> 17;
              v111 = v109 + 2 * v110;
              v112 = *(a1 + 2504);
              v113 = v109 + 4 * v112;
              v114 = v112 + 1;
              *(a1 + 2504) = v112 + 1;
              v115 = v14 - 3 - *(v109 + 4 * v110);
              *(v109 + (v14 - 3) + 196608) = v110;
              v116 = -1;
              if (v115 >= 0xFFFF)
              {
                LOWORD(v115) = -1;
              }

              *(v113 + 0x40000) = v115;
              v117 = *(v111 + 0x20000);
              *(v109 + 4 * v110) = v14 - 3;
              *(v113 + 262146) = v117;
              *(v111 + 0x20000) = v112;
              v118 = *(a1 + 2520);
              v119 = (506832829 * *(v20 + ((v14 - 2) & v21))) >> 17;
              v120 = v118 + 2 * v119;
              v121 = v118 + 4 * v114;
              *(a1 + 2504) = v112 + 2;
              v122 = v14 - 2 - *(v118 + 4 * v119);
              *(v118 + (v14 - 2) + 196608) = v119;
              if (v122 >= 0xFFFF)
              {
                LOWORD(v122) = -1;
              }

              *(v121 + 0x40000) = v122;
              v123 = *(v120 + 0x20000);
              *(v118 + 4 * v119) = v14 - 2;
              *(v120 + 0x20000) = v114;
              *(v121 + 262146) = v123;
              v124 = *(a1 + 2520);
              v125 = (506832829 * *(v20 + ((v14 - 1) & v21))) >> 17;
              v126 = v124 + 2 * v125;
              v127 = *(a1 + 2504);
              v128 = v124 + 4 * v127;
              *(a1 + 2504) = v127 + 1;
              v129 = *(v124 + 4 * v125);
              *(v124 + (v14 - 1) + 196608) = v125;
              v130 = *(v126 + 0x20000);
              if (v14 - 1 - v129 < 0xFFFF)
              {
                v116 = v14 - 1 - v129;
              }

              *(v128 + 0x40000) = v116;
              *(v128 + 262146) = v130;
              *(v124 + 4 * v125) = v14 - 1;
              *(v126 + 0x20000) = v127;
            }

            goto LABEL_193;
          }

          if (v38 >= 7 && v14 >= 3)
          {
            v218 = *(a1 + 2512);
            *(v218 + 4 * (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 3) & v21))) >> 48) + ((v14 - 3) & 8))) = v14 - 3;
            *(v218 + 4 * (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 2) & v21))) >> 48) + ((v14 - 2) & 8))) = v14 - 2;
            *(v218 + 4 * (((0xBD1E35A7BD000000 * *(v20 + ((v14 - 1) & v21))) >> 48) + ((v14 - 1) & 8))) = v14 - 1;
          }

          v219 = 4 - (v14 & 3);
          if ((v14 & 3) != 0)
          {
            v220 = 4 - (v14 & 3);
          }

          else
          {
            v220 = 0;
          }

          v59 = v38 >= v219;
          v221 = v38 - v219;
          if (!v59)
          {
            v221 = 0;
          }

          if ((v14 & 3) != 0)
          {
            v222 = v221;
          }

          else
          {
            v222 = v38;
          }

          v212 = v220 + v14;
          v223 = (v220 + v14) & v21;
          v224 = v21 - v223;
          if (v222 < v21 - v223)
          {
            v224 = v222;
          }

          if (v224 >= 0x20)
          {
            v225 = 0;
            v216 = 0;
            v226 = v20 + v223;
            do
            {
              v216 = v226[v225] + v216 * *(a1 + 2548) + 1;
              v59 = v225 >= 0x1C;
              v225 += 4;
            }

            while (!v59);
            goto LABEL_361;
          }
        }

        else
        {
          if (v89 <= 54)
          {
            if (v89 != 42)
            {
              if (v89 != 54 || v38 < 7 || v14 < 3)
              {
                goto LABEL_193;
              }

              v90 = *(a1 + 2512);
              *(v90 + 4 * (((((0x35A7BD1E35A7BD00 * *(v20 + ((v14 - 3) & v21))) >> 32) >> 12) + ((v14 - 3) & 0x18)) & 0xFFFFF)) = v14 - 3;
              *(v90 + 4 * (((((0x35A7BD1E35A7BD00 * *(v20 + ((v14 - 2) & v21))) >> 32) >> 12) + ((v14 - 2) & 0x18)) & 0xFFFFF)) = v14 - 2;
              v91 = v14 - 1;
              v92 = ((((0x35A7BD1E35A7BD00 * *(v20 + ((v14 - 1) & v21))) >> 32) >> 12) + ((v14 - 1) & 0x18)) & 0xFFFFF;
              goto LABEL_372;
            }

            if (v38 >= 3 && v14 >= 3)
            {
              v182 = a1 + 2504;
              v183 = *(a1 + 3536);
              v184 = (506832829 * *(v20 + ((v14 - 3) & v21))) >> 17;
              v185 = v183 + 2 * v184;
              v186 = *(a1 + 2504 + 2 * (v184 & 0x1FF));
              *(a1 + 2504 + 2 * (v184 & 0x1FF)) = v186 + 1;
              v187 = v186 & 0x1FF;
              v188 = v14 - 3 - *(v183 + 4 * v184);
              *(v183 + (v14 - 3) + 196608) = v184;
              if (v188 >= 0xFFFF)
              {
                v189 = -1;
              }

              else
              {
                v189 = v188;
              }

              v190 = (v183 + ((v184 & 0x1FF) << 11) + 4 * v187 + 0x40000);
              *v190 = v189;
              v190[1] = *(v185 + 0x20000);
              *(v183 + 4 * v184) = v14 - 3;
              *(v185 + 0x20000) = v187;
              v191 = *(a1 + 3536);
              v192 = (506832829 * *(v20 + ((v14 - 2) & v21))) >> 17;
              v193 = v191 + 2 * v192;
              v194 = *(v182 + 2 * (v192 & 0x1FF));
              *(v182 + 2 * (v192 & 0x1FF)) = v194 + 1;
              v195 = v194 & 0x1FF;
              v196 = v14 - 2 - *(v191 + 4 * v192);
              *(v191 + (v14 - 2) + 196608) = v192;
              if (v196 >= 0xFFFF)
              {
                v197 = -1;
              }

              else
              {
                v197 = v196;
              }

              v198 = v191 + ((v192 & 0x1FF) << 11) + 4 * v195 + 0x40000;
              *v198 = v197;
              *(v198 + 2) = *(v193 + 0x20000);
              *(v191 + 4 * v192) = v14 - 2;
              *(v193 + 0x20000) = v195;
              v199 = *(a1 + 3536);
              v200 = (506832829 * *(v20 + ((v14 - 1) & v21))) >> 17;
              v201 = v199 + 2 * v200;
              LOWORD(v198) = *(v182 + 2 * (v200 & 0x1FF));
              *(v182 + 2 * (v200 & 0x1FF)) = v198 + 1;
              v202 = v198 & 0x1FF;
              v203 = v14 - 1 - *(v199 + 4 * v200);
              *(v199 + (v14 - 1) + 196608) = v200;
              if (v203 >= 0xFFFF)
              {
                v204 = -1;
              }

              else
              {
                v204 = v203;
              }

              v205 = *(v201 + 0x20000);
              v206 = (v199 + ((v200 & 0x1FF) << 11) + 4 * v202 + 0x40000);
              *v206 = v204;
              v206[1] = v205;
              *(v199 + 4 * v200) = v14 - 1;
              *(v201 + 0x20000) = v202;
            }

            goto LABEL_193;
          }

          if (v89 != 55)
          {
            if (v89 == 65)
            {
              if (v38 >= 7 && v14 >= 3)
              {
                v165 = *(a1 + 2560);
                v166 = *(a1 + 2568);
                v167 = *(a1 + 2528);
                v168 = (0x1FE35A7BD3579BD3 * (*(v20 + ((v14 - 3) & v21)) & v167)) >> *(a1 + 2520);
                v169 = *(v165 + 2 * v168);
                v170 = *(a1 + 2536) & v169;
                v171 = v168 << *(a1 + 2540);
                *(v165 + 2 * v168) = v169 + 1;
                *(v166 + 4 * v170 + 4 * v171) = v14 - 3;
                v172 = (0x1FE35A7BD3579BD3 * (*(v20 + ((v14 - 2) & v21)) & v167)) >> *(a1 + 2520);
                v173 = *(v165 + 2 * v172);
                v174 = *(a1 + 2536) & v173;
                v175 = *(a1 + 2540);
                *(v165 + 2 * v172) = v173 + 1;
                *(v166 + 4 * v174 + 4 * (v172 << v175)) = v14 - 2;
                v176 = (0x1FE35A7BD3579BD3 * (*(v20 + ((v14 - 1) & v21)) & v167)) >> *(a1 + 2520);
                LODWORD(v167) = *(v165 + 2 * v176);
                v177 = v176 << *(a1 + 2540);
                v178 = *(a1 + 2536) & v167;
                *(v165 + 2 * v176) = v167 + 1;
                *(v166 + 4 * v178 + 4 * v177) = v14 - 1;
              }

              v179 = v21 - (v21 & v14);
              if (v179 >= v38)
              {
                v179 = v38;
              }

              if (v179 >= 0x20)
              {
                v180 = 0;
                v181 = 0;
                do
                {
                  v181 = *(v20 + (v21 & v14) + v180++) + v181 * *(a1 + 2604) + 1;
                }

                while (v180 != 32);
                *(a1 + 2576) = v181;
              }

              *(a1 + 2592) = v14;
            }

            goto LABEL_193;
          }

          if (v38 >= 7 && v14 >= 3)
          {
            v207 = *(a1 + 2512);
            *(v207 + 4 * (((((0x35A7BD1E35A7BD00 * *(v20 + ((v14 - 3) & v21))) >> 32) >> 12) + ((v14 - 3) & 0x18)) & 0xFFFFF)) = v14 - 3;
            *(v207 + 4 * (((((0x35A7BD1E35A7BD00 * *(v20 + ((v14 - 2) & v21))) >> 32) >> 12) + ((v14 - 2) & 0x18)) & 0xFFFFF)) = v14 - 2;
            *(v207 + 4 * (((((0x35A7BD1E35A7BD00 * *(v20 + ((v14 - 1) & v21))) >> 32) >> 12) + ((v14 - 1) & 0x18)) & 0xFFFFF)) = v14 - 1;
          }

          v208 = 4 - (v14 & 3);
          if ((v14 & 3) != 0)
          {
            v209 = 4 - (v14 & 3);
          }

          else
          {
            v209 = 0;
          }

          v59 = v38 >= v208;
          v210 = v38 - v208;
          if (!v59)
          {
            v210 = 0;
          }

          if ((v14 & 3) != 0)
          {
            v211 = v210;
          }

          else
          {
            v211 = v38;
          }

          v212 = v209 + v14;
          v213 = (v209 + v14) & v21;
          v214 = v21 - v213;
          if (v211 < v21 - v213)
          {
            v214 = v211;
          }

          if (v214 >= 0x20)
          {
            v215 = 0;
            v216 = 0;
            v217 = v20 + v213;
            do
            {
              v216 = v217[v215] + v216 * *(a1 + 2548) + 1;
              v59 = v215 >= 0x1C;
              v215 += 4;
            }

            while (!v59);
LABEL_361:
            *(a1 + 2520) = v216;
          }
        }

        *(a1 + 2536) = v212;
        goto LABEL_193;
      }

LABEL_190:
      a6.n128_u64[0] = 0;
      *(a1 + 2464) = 0u;
      goto LABEL_191;
    }

    v41 = *(a1 + 4);
    if (v41 < 10)
    {
      if (v41 == 4)
      {
        if (*(a1 + 24) >= 0x100000uLL)
        {
          v41 = 54;
        }
      }

      else if (v41 > 4)
      {
        v44 = *(a1 + 8);
        if (v44 > 16)
        {
          v55 = v41 - 1;
          if (v44 < 0x13 || *(a1 + 24) < 0x100000uLL)
          {
            *(a1 + 48) = v55;
            if (v41 >= 9)
            {
              v58 = 16;
            }

            else
            {
              v58 = 10;
            }

            v59 = v41 >= 7;
            if (v41 < 7)
            {
              v60 = 14;
            }

            else
            {
              v60 = 15;
            }

            *(a1 + 40) = 5;
            *(a1 + 44) = v60;
            if (v59)
            {
              v61 = v58;
            }

            else
            {
              v61 = 4;
            }

            *(a1 + 56) = v61;
            v41 = 5;
          }

          else
          {
            a6.n128_u64[0] = 0xF00000006;
            *(a1 + 40) = 0xF00000006;
            *(a1 + 48) = v55;
            *(a1 + 52) = 5;
            if (v41 >= 9)
            {
              v56 = 16;
            }

            else
            {
              v56 = 10;
            }

            if (v41 >= 7)
            {
              v57 = v56;
            }

            else
            {
              v57 = 4;
            }

            *(a1 + 56) = v57;
            v41 = 6;
          }

LABEL_42:
          v42 = *(a1 + 8);
          if (v42 < 25)
          {
            v43 = 0;
            if (v41 > 34)
            {
              goto LABEL_90;
            }

            if (v41 <= 4)
            {
              if ((v41 - 2) >= 2 && v41 != 4)
              {
LABEL_91:
                *(a1 + 2456) = v43;
                if (*(a1 + 168))
                {
                  goto LABEL_192;
                }

                a6 = *(a1 + 40);
                *(a1 + 2480) = a6;
                *(a1 + 2496) = *(a1 + 56);
                v51 = *(a1 + 2480);
                if (v51 > 34)
                {
                  if (v51 <= 41)
                  {
                    if (v51 != 35)
                    {
                      if (v51 == 40 || v51 == 41)
                      {
                        *(a1 + 2528) = v259;
                        *(a1 + 2520) = v43;
                        v52 = *(a1 + 4);
                        if (v52 >= 7)
                        {
                          v53 = 7;
                        }

                        else
                        {
                          v53 = 8;
                        }

                        *(a1 + 2512) = (v53 << (v52 - 4));
                      }

                      goto LABEL_144;
                    }
                  }

                  else
                  {
                    if (v51 <= 54)
                    {
                      if (v51 == 42)
                      {
                        *(a1 + 3544) = v259;
                        *(a1 + 3536) = v43;
                        v62 = *(a1 + 4);
                        if (v62 >= 7)
                        {
                          v63 = 7;
                        }

                        else
                        {
                          v63 = 8;
                        }

                        *(a1 + 3528) = (v63 << (v62 - 4));
                        goto LABEL_144;
                      }

                      if (v51 != 54)
                      {
LABEL_144:
                        *(a1 + 2500) = 0;
                        goto LABEL_145;
                      }

                      goto LABEL_102;
                    }

                    if (v51 != 55)
                    {
                      if (v51 == 65)
                      {
                        *(a1 + 2672) = v259;
                        *(a1 + 2664) = v43;
                        a7 = *(a1 + 2472);
                        *(a1 + 2616) = *v259;
                        *(a1 + 2632) = a7;
                        a6 = *(a1 + 2488);
                        *(a1 + 2648) = a6;
                        *(a1 + 2680) = 1;
                        *(a1 + 2688) = a1;
                      }

                      goto LABEL_144;
                    }
                  }

                  *(a1 + 2616) = v259;
                  *(a1 + 2608) = v43;
                  a7 = *(a1 + 2472);
                  *(a1 + 2560) = *v259;
                  *(a1 + 2576) = a7;
                  a6 = *(a1 + 2488);
                  *(a1 + 2592) = a6;
                  *(a1 + 2624) = 1;
                  *(a1 + 2632) = a1;
                  goto LABEL_144;
                }

                if (v51 > 4)
                {
                  if (v51 == 5)
                  {
                    v64 = v16;
                    InitializeH5(v259, a1 + 2504);
                  }

                  else
                  {
                    if (v51 != 6)
                    {
                      if (v51 == 10)
                      {
                        *(a1 + 2512) = v43;
                        *(a1 + 2528) = v43 + 0x80000;
                        v54 = -1 << *(a1 + 8);
                        *(a1 + 2504) = ~v54;
                        *(a1 + 2520) = v54 + 1;
                      }

                      goto LABEL_144;
                    }

                    v64 = v16;
                    InitializeH6(v259, a1 + 2504);
                  }

                  v16 = v64;
                  v21 = v260;
                  goto LABEL_144;
                }

                if (v51 != 2 && v51 != 3 && v51 != 4)
                {
                  goto LABEL_144;
                }

LABEL_102:
                *(a1 + 2504) = v259;
                *(a1 + 2512) = v43;
                goto LABEL_144;
              }

              goto LABEL_90;
            }

            if (v41 != 5 && v41 != 6)
            {
LABEL_78:
              v48 = 1 << v42;
              if (1 << v42 >= v38)
              {
                v49 = v38;
              }

              else
              {
                v49 = 1 << v42;
              }

              if (v40)
              {
                v48 = v49;
              }

              v46 = 8 * v48 + 0x80000;
LABEL_85:
              if (!v46)
              {
                v43 = 0;
                goto LABEL_91;
              }

              goto LABEL_90;
            }
          }

          else
          {
            v43 = 0;
            if (v41 > 9)
            {
              if (v41 > 40)
              {
                if (v41 != 41 && v41 != 42)
                {
                  *(a1 + 40) = 55;
                }
              }

              else if (v41 == 10)
              {
                goto LABEL_78;
              }

LABEL_90:
              v50 = v16;
              v43 = BrotliAllocate(a1 + 144);
              v16 = v50;
              v21 = v260;
              goto LABEL_91;
            }

            if (v41 <= 3)
            {
              if (v41 != 2)
              {
                if (v41 != 3)
                {
                  goto LABEL_91;
                }

                *(a1 + 40) = 35;
              }

              goto LABEL_90;
            }

            if (v41 == 4)
            {
              goto LABEL_90;
            }

            if (v41 != 5)
            {
              *(a1 + 40) = 65;
              v46 = (2 << *(a1 + 44)) + 0x4000000 + (4 << *(a1 + 44) << *(a1 + 48));
              goto LABEL_85;
            }
          }

          v46 = (4 << *(a1 + 44) << *(a1 + 48)) + (2 << *(a1 + 44));
          goto LABEL_85;
        }

        if (v41 < 9)
        {
          v45 = 41;
        }

        else
        {
          v45 = 42;
        }

        if (v41 >= 7)
        {
          v41 = v45;
        }

        else
        {
          v41 = 40;
        }
      }
    }

    else
    {
      v41 = 10;
    }

    *(a1 + 40) = v41;
    goto LABEL_42;
  }

LABEL_14:
  v25 = a5;
  v26 = v20;
  v263 = *(a1 + 2434);
  *v262 = 0;
  if (!a2)
  {
    v27 = 0;
    if (v11 == v12)
    {
      goto LABEL_16;
    }
  }

  v28 = v16;
  v29 = GetBrotliStorage(a1, (2 * v13 + 503));
  if (*(a1 + 168))
  {
    return 0;
  }

  v30 = v29;
  *v29 = *(a1 + 2432);
  v29[1] = *(a1 + 2433);
  HashTable = GetHashTable(a1, *(a1 + 4), v13, v262);
  if (*(a1 + 168))
  {
    return 0;
  }

  v32 = v260 & v14;
  if (*(a1 + 4))
  {
    BrotliCompressFragmentTwoPass(a1 + 144, v26 + v32, v13, a2, *(a1 + 8568), *(a1 + 8576), HashTable, v262[0], &v263, v30);
  }

  else
  {
    BrotliCompressFragmentFast(a1 + 144, v26 + v32, v13, a2, HashTable, v262[0], (a1 + 7664), a1 + 7792, (a1 + 8560), (a1 + 8048), &v263, v30);
  }

  if (*(a1 + 168))
  {
    return 0;
  }

  v47 = v263;
  v27 = v263 >> 3;
  *(a1 + 2432) = *(v30 + (v263 >> 3));
  *(a1 + 2434) = v47 & 7;
  UpdateLastProcessedPos(a1);
  *v25 = v30;
  v16 = v28;
LABEL_16:
  *v16 = v27;
  return 1;
}

uint64_t ChooseDistanceParams(_DWORD *a1)
{
  if (a1[1] < 4 || (*a1 != 2 ? (v2 = a1[16], v1 = a1[17]) : (v1 = 12, v2 = 1), v2 > 3 || v1 > 0x78 || ((v1 >> v2) & 0xF) << v2 != v1))
  {
    v2 = 0;
    v1 = 0;
  }

  return BrotliInitDistanceParams(a1, v2, v1);
}

BOOL ShouldCompress(uint64_t a1, unsigned int a2, int a3, unint64_t a4, unint64_t a5, unint64_t a6)
{
  if (a4 < 3)
  {
    return 0;
  }

  if ((a4 >> 8) + 2 <= a6 || a4 * 0.99 >= a5)
  {
    return 1;
  }

  bzero(v24, 0x400uLL);
  if (a4 + 12 >= 0xD)
  {
    v11 = (a4 + 12) / 0xD;
    do
    {
      v12 = *(a1 + (a3 & a2));
      ++v24[v12];
      a3 += 13;
      --v11;
    }

    while (v11);
  }

  v13 = 0;
  v14 = 0;
  v15 = 0.0;
  v16 = a4 * 7.92 / 13.0;
  do
  {
    v17 = v24[v13];
    if (v17 > 0xFF)
    {
      v18 = log2(v17);
    }

    else
    {
      v18 = kBrotliLog2Table[v17];
    }

    v19 = v24[v13 + 1];
    if (v19 > 0xFF)
    {
      v20 = log2(v19);
    }

    else
    {
      v20 = kBrotliLog2Table[v19];
    }

    v13 += 2;
    v14 += v17 + v19;
    v15 = v15 - v17 * v18 - v19 * v20;
  }

  while ((v13 * 4 - 8) < 0x3F8);
  v21 = v14;
  if (v14)
  {
    if (v14 > 0xFF)
    {
      v22 = log2(v14);
    }

    else
    {
      v22 = kBrotliLog2Table[v14];
    }

    v15 = v15 + v21 * v22;
  }

  v23 = v15 >= v21 ? v15 : v14;
  return v23 <= v16;
}

uint64_t *InitializeH5(uint64_t *result, uint64_t a2)
{
  v2 = *(result + 7);
  v3 = *(result + 8);
  v4 = 32 - v2;
  v5 = 1 << v2;
  *a2 = v5;
  *(a2 + 8) = 1 << v3;
  *(a2 + 16) = v4;
  *(a2 + 20) = (1 << v3) - 1;
  v6 = *result;
  *(a2 + 32) = result;
  *(a2 + 40) = v6;
  *(a2 + 48) = v6 + 2 * v5;
  LODWORD(v6) = *(result + 10);
  *(a2 + 24) = v3;
  *(a2 + 28) = v6;
  return result;
}

uint64_t *InitializeH6(uint64_t *result, uint64_t a2)
{
  v2 = *(result + 7);
  v3 = *(result + 8);
  *(a2 + 16) = 64 - v2;
  v4 = *(result + 10);
  *(a2 + 24) = 0xFFFFFFFFFFFFFFFFLL >> (-8 * *(result + 36));
  v5 = 1 << v2;
  *a2 = v5;
  *(a2 + 8) = 1 << v3;
  *(a2 + 32) = (1 << v3) - 1;
  *(a2 + 36) = v3;
  *(a2 + 40) = v4;
  v6 = *result;
  *(a2 + 48) = result;
  *(a2 + 56) = v6;
  *(a2 + 64) = v6 + 2 * v5;
  return result;
}

void PrepareH4(uint64_t a1, int a2, unint64_t a3, uint64_t a4)
{
  v4 = *(a1 + 8);
  if (a2 && a3 <= 0x1000)
  {
    if (a3)
    {
      for (i = 0; i != a3; ++i)
      {
        v6 = (0xBD1E35A7BD000000 * *(a4 + i)) >> 47;
        v7 = 4;
        do
        {
          v4[v6 & 0x1FFFF] = 0;
          LODWORD(v6) = v6 + 8;
          --v7;
        }

        while (v7);
      }
    }
  }

  else
  {
    bzero(v4, 0x80000uLL);
  }
}

void PrepareH5(unint64_t *a1, int a2, unint64_t a3, int *a4)
{
  v5 = a1[5];
  v6 = *a1;
  if (a2 && v6 >> 6 >= a3)
  {
    if (a3)
    {
      v7 = *(a1 + 4);
      do
      {
        v8 = *a4;
        a4 = (a4 + 1);
        v5[(506832829 * v8) >> v7] = 0;
        --a3;
      }

      while (a3);
    }
  }

  else
  {
    bzero(v5, 2 * v6);
  }
}

void PrepareH6(unint64_t *a1, int a2, unint64_t a3, uint64_t *a4)
{
  v5 = a1[7];
  v6 = *a1;
  if (a2 && v6 >> 6 >= a3)
  {
    if (a3)
    {
      v7 = a1[3];
      v8 = *(a1 + 4);
      do
      {
        v9 = *a4;
        a4 = (a4 + 1);
        v5[((0x1FE35A7BD3579BD3 * (v9 & v7)) >> v8)] = 0;
        --a3;
      }

      while (a3);
    }
  }

  else
  {
    bzero(v5, 2 * v6);
  }
}

void PrepareH40(uint64_t a1, int a2, unint64_t a3, int *a4)
{
  v5 = *(a1 + 16);
  if (a2 && a3 <= 0x200)
  {
    for (; a3; --a3)
    {
      v6 = *a4;
      a4 = (a4 + 1);
      v7 = (506832829 * v6) >> 17;
      *(v5 + 4 * v7) = -858993460;
      *(v5 + 0x20000 + 2 * v7) = -13108;
    }
  }

  else
  {
    memset(*(a1 + 16), 204, 0x20000uLL);
    bzero((v5 + 0x20000), 0x10000uLL);
  }

  bzero((v5 + 196608), 0x10000uLL);
  *a1 = 0;
}

void PrepareH42(void **a1, int a2, unint64_t a3, int *a4)
{
  v5 = a1[129];
  if (a2 && a3 <= 0x200)
  {
    for (; a3; --a3)
    {
      v6 = *a4;
      a4 = (a4 + 1);
      v7 = (506832829 * v6) >> 17;
      v5[v7] = -858993460;
      *(v5 + v7 + 0x10000) = -13108;
    }
  }

  else
  {
    memset(a1[129], 204, 0x20000uLL);
    bzero(v5 + 0x8000, 0x10000uLL);
  }

  bzero(v5 + 49152, 0x10000uLL);

  bzero(a1, 0x400uLL);
}

void PrepareH54(uint64_t a1, int a2, unint64_t a3, uint64_t a4)
{
  v4 = *(a1 + 8);
  if (a2 && a3 <= 0x8000)
  {
    if (a3)
    {
      for (i = 0; i != a3; ++i)
      {
        v6 = (0x35A7BD1E35A7BD00 * *(a4 + i)) >> 44;
        v7 = 4;
        do
        {
          v4[v6 & 0xFFFFF] = 0;
          LODWORD(v6) = v6 + 8;
          --v7;
        }

        while (v7);
      }
    }
  }

  else
  {
    bzero(v4, 0x400000uLL);
  }
}

void PrepareH35(uint64_t a1, int a2, unint64_t a3, uint64_t *a4)
{
  if (*(a1 + 120))
  {
    *(a1 + 120) = 0;
    v8 = *(a1 + 112);
    v9 = (*(a1 + 104) + 0x40000);
    *(a1 + 56) = v9;
    v10 = *v8;
    *a1 = v8;
    *(a1 + 8) = v10;
    *(a1 + 16) = 0;
    *(a1 + 44) = 0x16C4362100010DCDLL;
    *(a1 + 24) = v9;
    *(a1 + 32) = 0;
    memset(v9, 255, 0x4000000uLL);
    if (!a2)
    {
      goto LABEL_10;
    }
  }

  else
  {
    v10 = *(a1 + 8);
    if (!a2)
    {
LABEL_10:
      bzero(v10, 0x40000uLL);
      goto LABEL_11;
    }
  }

  if (a3 > 0x800)
  {
    goto LABEL_10;
  }

  if (!a3)
  {
    return;
  }

  v11 = a4;
  v12 = a3;
  do
  {
    v13 = *v11;
    v11 = (v11 + 1);
    v14 = (0xBD1E35A7BD000000 * v13) >> 48;
    *(v10 + v14) = 0;
    *(v10 + (v14 + 8)) = 0;
    --v12;
  }

  while (v12);
LABEL_11:
  if (a3 >= 0x20)
  {
    v15 = 0;
    v16 = 0;
    do
    {
      v16 = *(a4 + v15) + v16 * *(a1 + 44) + 1;
      v17 = v15 >= 0x1C;
      v15 += 4;
    }

    while (!v17);
    *(a1 + 16) = v16;
  }
}

void PrepareH55(uint64_t a1, int a2, unint64_t a3, uint64_t a4)
{
  if (*(a1 + 120))
  {
    *(a1 + 120) = 0;
    v8 = *(a1 + 112);
    v9 = (*(a1 + 104) + 0x400000);
    *(a1 + 56) = v9;
    v10 = *v8;
    *a1 = v8;
    *(a1 + 8) = v10;
    *(a1 + 16) = 0;
    *(a1 + 44) = 0x16C4362100010DCDLL;
    *(a1 + 24) = v9;
    *(a1 + 32) = 0;
    memset(v9, 255, 0x4000000uLL);
  }

  PrepareH54(a1, a2, a3, a4);
  if (a3 >= 0x20)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v12 = *(a4 + v11) + v12 * *(a1 + 44) + 1;
      v13 = v11 >= 0x1C;
      v11 += 4;
    }

    while (!v13);
    *(a1 + 16) = v12;
  }
}

void PrepareH65(uint64_t a1, int a2, unint64_t a3, uint64_t *a4)
{
  if (*(a1 + 176))
  {
    v8 = *(a1 + 168);
    v9 = (*(a1 + 160) + (2 << *(*(a1 + 184) + 44)) + (4 << *(*(a1 + 184) + 44) << *(*(a1 + 184) + 48)));
    v10 = *(v8 + 7);
    v11 = *(v8 + 8);
    *(a1 + 16) = 64 - v10;
    v12 = *(v8 + 10);
    v13 = 0xFFFFFFFFFFFFFFFFLL >> (-8 * *(v8 + 36));
    *(a1 + 176) = 0;
    *(a1 + 112) = v9;
    *(a1 + 24) = v13;
    v14 = 1 << v10;
    *a1 = v14;
    *(a1 + 8) = 1 << v11;
    *(a1 + 32) = (1 << v11) - 1;
    *(a1 + 36) = v11;
    *(a1 + 40) = v12;
    v15 = *v8;
    *(a1 + 48) = v8;
    *(a1 + 56) = v15;
    *(a1 + 64) = v15 + 2 * v14;
    *(a1 + 72) = 0;
    *(a1 + 100) = 0xF1EBF08100010DCDLL;
    *(a1 + 80) = v9;
    *(a1 + 88) = 0;
    memset(v9, 255, 0x4000000uLL);
  }

  PrepareH6(a1, a2, a3, a4);
  if (a3 >= 0x20)
  {
    v16 = 0;
    v17 = 0;
    do
    {
      v17 = *(a4 + v16++) + v17 * *(a1 + 100) + 1;
    }

    while (v16 != 32);
    *(a1 + 72) = v17;
  }
}

uint64_t GetBrotliStorage(uint64_t a1, unint64_t a2)
{
  if (*(a1 + 2440) >= a2)
  {
    return *(a1 + 2448);
  }

  BrotliFree(a1 + 144, *(a1 + 2448));
  *(a1 + 2448) = 0;
  v4 = BrotliAllocate(a1 + 144);
  result = 0;
  *(a1 + 2448) = v4;
  if (!*(a1 + 168))
  {
    *(a1 + 2440) = a2;
    return v4;
  }

  return result;
}

void *GetHashTable(uint64_t a1, int a2, unint64_t a3, unint64_t *a4)
{
  v6 = 0x20000;
  if (!a2)
  {
    v6 = 0x8000;
  }

  if (v6 >= a3)
  {
    v7 = a3;
  }

  else
  {
    v7 = v6;
  }

  v8 = 256;
  do
  {
    v9 = v8;
    v8 *= 2;
  }

  while (v9 < v7);
  if ((v9 & 0xAAA00) == 0 && a2 == 0)
  {
    v11 = v8;
  }

  else
  {
    v11 = v9;
  }

  if (v11 > 0x400)
  {
    if (v11 <= *(a1 + 7656))
    {
      v12 = *(a1 + 7648);
    }

    else
    {
      *(a1 + 7656) = v11;
      BrotliFree(a1 + 144, *(a1 + 7648));
      *(a1 + 7648) = 0;
      v13 = BrotliAllocate(a1 + 144);
      *(a1 + 7648) = v13;
      if (*(a1 + 168))
      {
        return 0;
      }

      v12 = v13;
    }
  }

  else
  {
    v12 = (a1 + 3552);
  }

  *a4 = v11;
  bzero(v12, 4 * v11);
  return v12;
}

BOOL UpdateLastProcessedPos(uint64_t a1)
{
  v1 = *(a1 + 2344);
  if (v1 >> 30 >= 3)
  {
    LODWORD(v1) = (((2 * v1) >> 1) & 0xC0000000 | v1 & 0x3FFFFFFF) ^ 0x80000000;
  }

  v2 = *(a1 + 2248);
  v3 = (((2 * v2) >> 1) & 0xC0000000 | v2 & 0x3FFFFFFF) ^ 0x80000000;
  if (v2 <= 0xBFFFFFFF)
  {
    v3 = *(a1 + 2248);
  }

  *(a1 + 2344) = v2;
  return v3 < v1;
}

uint64_t ExtendLastCommand(uint64_t result, _DWORD *a2, _DWORD *a3)
{
  v3 = *(result + 2304) + 16 * *(result + 2312);
  v4 = *(v3 - 12);
  v5 = v4 & 0x1FFFFFF;
  if (*(result + 2344) - (v4 & 0x1FFFFFF) >= (1 << *(result + 8)) - 16)
  {
    v6 = (1 << *(result + 8)) - 16;
  }

  else
  {
    v6 = *(result + 2344) - (v4 & 0x1FFFFFF);
  }

  v7 = *(result + 2352);
  v8 = *(v3 - 2);
  v9 = v8 & 0x3FF;
  v10 = *(result + 68);
  if (v9 >= v10 + 16)
  {
    v9 = v10 + 16 + ((v9 - v10 - 16) & ~(-1 << *(result + 64))) + ((*(v3 - 8) + ((((v9 - v10 - 16) >> *(result + 64)) & 1 | 2) << (v8 >> 10)) - 4) << *(result + 64));
  }

  if (v9 < 0x10 || v9 - 15 == v7)
  {
    if (v6 >= v7 && *a2)
    {
      v12 = *(result + 2288);
      v13 = *(result + 2260);
      v14 = *a3;
      while (1)
      {
        v15 = *(v12 + (v14 & v13));
        v16 = *(v12 + ((v14 - v7) & v13));
        v4 = *(v3 - 12);
        if (v15 != v16)
        {
          break;
        }

        *(v3 - 12) = v4 + 1;
        --*a2;
        v14 = (*a3 + 1);
        *a3 = v14;
        if (!*a2)
        {
          v4 = *(v3 - 12);
          break;
        }
      }

      v5 = v4 & 0x1FFFFFF;
    }

    v17 = *(v3 - 16);
    v18 = v5 + (v4 >> 25);
    v19 = v8 & 0x3FF;
    if (v17 > 5)
    {
      if (v17 > 0x81)
      {
        if (v17 > 0x841)
        {
          v21 = v17 >> 1;
          if (v17 < 0x5842)
          {
            LOWORD(v17) = 22;
          }

          else
          {
            LOWORD(v17) = 23;
          }

          if (v21 < 0xC21)
          {
            LOWORD(v17) = 21;
          }
        }

        else
        {
          LODWORD(v17) = (__clz(v17 - 66) ^ 0x1F) + 10;
        }
      }

      else
      {
        v17 -= 2;
        v20 = (__clz(v17) ^ 0x1F) - 1;
        LODWORD(v17) = (v17 >> v20) + 2 * v20 + 2;
      }
    }

    if (v18 > 9)
    {
      v23 = (__clz(v18 - 70) ^ 0x1F) + 12;
      if (v18 <= 0x845)
      {
        v22 = v23;
      }

      else
      {
        v22 = 23;
      }

      v24 = (__clz(v18 - 6) ^ 0x1F) - 1;
      if (v18 <= 0x85)
      {
        v22 = ((v18 - 6) >> v24) + 2 * v24 + 4;
      }
    }

    else
    {
      v22 = v18 - 2;
    }

    v25 = v22 & 7 | (8 * (v17 & 7));
    if (v19 || v17 > 7u || v22 > 0xFu)
    {
      v27 = 3 * (v17 >> 3) + ((v22 & 0xFFF8) >> 3);
      v26 = ((((0x520D40u >> (2 * v27)) & 0xC0) + (v27 << 6)) | v25) + 64;
    }

    else
    {
      LOWORD(v26) = v25 | 0x40;
      if ((v22 & 0xFFF8) == 0)
      {
        LOWORD(v26) = v22 & 7 | (8 * (v17 & 7));
      }
    }

    *(v3 - 4) = v26;
  }

  return result;
}

void WriteMetaBlockInternal(uint64_t a1, uint64_t a2, size_t a3, unint64_t a4, unint64_t a5, unsigned int a6, unsigned int a7, uint64_t a8, unsigned __int8 a9, unsigned __int8 a10, unint64_t a11, unint64_t a12, unsigned int *a13, _OWORD *a14, _OWORD *a15, unint64_t *a16, char *a17)
{
  if (a4 >> 30 < 3)
  {
    v22 = a4;
  }

  else
  {
    v22 = (((2 * a4) >> 1) & 0xC0000000 | a4 & 0x3FFFFFFF) ^ 0x80000000;
  }

  v23 = *(a8 + 112);
  v53 = *(a8 + 96);
  v54 = v23;
  v55 = *(a8 + 128);
  v24 = *(a8 + 48);
  v50[2] = *(a8 + 32);
  v50[3] = v24;
  v25 = *(a8 + 80);
  v51 = *(a8 + 64);
  v52 = v25;
  v26 = *(a8 + 16);
  v50[0] = *a8;
  v50[1] = v26;
  if (!a5)
  {
    v29 = *a16;
    *&a17[*a16 >> 3] = (3 << (*a16 & 7)) | a17[*a16 >> 3];
    *a16 = (v29 + 9) & 0xFFFFFFF8;
    return;
  }

  if (ShouldCompress(a2, a3, a4, a5, a11, a12))
  {
    v37 = a17[1];
    v35 = *a17;
    v36 = *a16;
    v27 = *(a8 + 4);
    if (v27 <= 2)
    {
      v28 = a6;
      BrotliStoreMetaBlockFast(a1, a2, v22, a5, a3, a6, a8, a13, a12, a16, a17);
      goto LABEL_14;
    }

    if (v27 == 3)
    {
      v28 = a6;
      BrotliStoreMetaBlockTrivial(a1, a2, v22, a5, a3, a6, a8, a13, a12, a16, a17);
LABEL_14:
      if (*(a1 + 24))
      {
        return;
      }

      goto LABEL_15;
    }

    v48 = 0u;
    v49 = 0u;
    v46 = 0u;
    v47 = 0u;
    v45 = 0u;
    memset(v44, 0, sizeof(v44));
    memset(v43, 0, sizeof(v43));
    memset(v42, 0, sizeof(v42));
    BrotliInitBlockSplit(v42);
    BrotliInitBlockSplit(v43);
    BrotliInitBlockSplit(v44);
    v48 = 0u;
    v49 = 0u;
    v46 = 0u;
    v47 = 0u;
    v45 = 0u;
    v30 = *(a8 + 4);
    if (v30 > 9)
    {
      BrotliBuildMetaBlock(a1, a2, v22, a3, v50, a9, a10, a13, a12, a7, v42);
    }

    else
    {
      v31 = 0;
      v32 = a7 << 9;
      v33 = (&dword_0 + 1);
      v40 = 0;
      v41 = (&dword_0 + 1);
      v34 = v22;
      if (!*(a8 + 32))
      {
        DecideOverLiteralContextModeling(a2, v22, a5, a3, v30, *(a8 + 24), &v41, &v40);
        v34 = v22;
        v32 = a7 << 9;
        v31 = v40;
        v33 = v41;
      }

      BrotliBuildMetaBlockGreedy(a1, a2, v34, a3, a9, a10, &_kBrotliContextLookupTable[v32], v33, v31, a13, a12, v42);
    }

    if (!*(a1 + 24))
    {
      if (*(a8 + 4) >= 4)
      {
        BrotliOptimizeHistograms(HIDWORD(v51), v42);
      }

      BrotliStoreMetaBlock(a1, a2, v22, a5, a3, a9, a10, a6, v50, a7, a13, a12, v42, a16, a17);
      if (!*(a1 + 24))
      {
        BrotliDestroyBlockSplit(a1, v42);
        BrotliDestroyBlockSplit(a1, v43);
        BrotliDestroyBlockSplit(a1, v44);
        BrotliFree(a1, v45);
        *&v45 = 0;
        BrotliFree(a1, v46);
        *&v46 = 0;
        BrotliFree(a1, v47);
        *&v47 = 0;
        BrotliFree(a1, v48);
        *&v48 = 0;
        BrotliFree(a1, v49);
        v28 = a6;
LABEL_15:
        if (a5 + 4 < *a16 >> 3)
        {
          *a15 = *a14;
          *a17 = v35;
          a17[1] = v37;
          *a16 = v36;
          BrotliStoreUncompressedMetaBlock(v28, a2, v22, a3, a5, a16, a17);
        }
      }
    }
  }

  else
  {
    *a15 = *a14;

    BrotliStoreUncompressedMetaBlock(a6, a2, v22, a3, a5, a16, a17);
  }
}

void DecideOverLiteralContextModeling(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4, int a5, unint64_t a6, unsigned __int8 **a7, unsigned __int8 **a8)
{
  if (a3 >= 0x40 && a5 >= 5)
  {
    v9 = a2;
    v11 = a3 + a2;
    v109 = a3 + a2;
    if (a6 >> 20)
    {
      v120 = 0u;
      v119 = 0u;
      v118 = 0u;
      v117 = 0u;
      v116 = 0u;
      v115 = 0u;
      v114 = 0u;
      v113 = 0u;
      bzero(v111, 0x680uLL);
      v12 = v9 + 64;
      v13 = 0.0;
      v14 = 0.0;
      if (v9 + 64 <= v11)
      {
        v15 = 0;
        v16 = v9 + 64;
        v17 = v9;
        do
        {
          if (v17 + 2 < v16)
          {
            v18 = *(a1 + ((v17 + 1) & a4));
            v19 = *(a1 + (v17 & a4));
            for (i = 2; i != 64; ++i)
            {
              v21 = v18;
              v18 = *(a1 + ((v17 + i) & a4));
              v22 = ShouldUseComplexStaticContextMap_kStaticContextMapComplexUTF8[4 * (*(&_kBrotliContextLookupTable + v19 + 1280) | *(&_kBrotliContextLookupTable + v21 + 1024))];
              v23 = (v18 >> 1) & 0x7C;
              ++*(&v113 + v23);
              v24 = &v111[8 * v22];
              v19 = v21;
              ++*(v24 + v23);
            }

            v15 += 62;
          }

          v17 += 4096;
          v16 += 4096;
        }

        while (v16 <= v11);
        v14 = v15;
      }

      v25 = 0;
      v26 = 0;
      v110 = v9;
      do
      {
        v27 = *(&v113 + v25);
        if (v27 > 0xFF)
        {
          v28 = log2(v27);
        }

        else
        {
          v28 = kBrotliLog2Table[v27];
        }

        v29 = *(&v113 + v25 + 4);
        if (v29 > 0xFF)
        {
          v30 = log2(v29);
        }

        else
        {
          v30 = kBrotliLog2Table[v29];
        }

        v25 += 8;
        v26 += v27 + v29;
        v13 = v13 - v27 * v28 - v29 * v30;
      }

      while ((v25 - 8) < 0x78);
      if (v26)
      {
        if (v26 > 0xFF)
        {
          v31 = log2(v26);
        }

        else
        {
          v31 = kBrotliLog2Table[v26];
        }

        v13 = v13 + v26 * v31;
      }

      v32 = 0;
      v33 = 0.0;
      v34 = v111;
      do
      {
        v35 = 0;
        v36 = 0;
        v37 = 0.0;
        do
        {
          v38 = *(v34 + v35);
          if (v38 > 0xFF)
          {
            v39 = log2(v38);
          }

          else
          {
            v39 = kBrotliLog2Table[v38];
          }

          v40 = *(v34 + v35 + 4);
          if (v40 > 0xFF)
          {
            v41 = log2(v40);
          }

          else
          {
            v41 = kBrotliLog2Table[v40];
          }

          v35 += 8;
          v36 += v38 + v40;
          v37 = v37 - v38 * v39 - v40 * v41;
        }

        while ((v35 - 8) < 0x78);
        if (v36)
        {
          if (v36 > 0xFF)
          {
            v42 = log2(v36);
          }

          else
          {
            v42 = kBrotliLog2Table[v36];
          }

          v9 = v110;
          v37 = v37 + v36 * v42;
        }

        else
        {
          v9 = v110;
        }

        v33 = v33 + v37;
        ++v32;
        v34 += 8;
      }

      while (v32 != 13);
      v43 = 1.0 / v14 * v33;
      if (v43 <= 3.0 && 1.0 / v14 * v13 - v43 >= 0.2)
      {
        *a7 = (&dword_C + 1);
        v104 = ShouldUseComplexStaticContextMap_kStaticContextMapComplexUTF8;
        goto LABEL_121;
      }
    }

    else
    {
      v12 = a2 + 64;
    }

    v44 = &v113 + 4;
    v45 = &v121 + 1;
    v112 = 0;
    memset(v111, 0, sizeof(v111));
    if (v12 <= v109)
    {
      v46 = ~v9 + v12;
      do
      {
        v47 = v9 + 1;
        if (v9 + 1 < v12)
        {
          v48 = *(&DecideOverLiteralContextModeling_lut + ((*(a1 + (v9 & a4)) >> 4) & 0xC));
          v49 = v46;
          do
          {
            v50 = 3 * v48;
            v48 = *(&DecideOverLiteralContextModeling_lut + ((*(a1 + (v47 & a4)) >> 4) & 0xC));
            ++*(v111 + v48 + v50);
            ++v47;
            --v49;
          }

          while (v49);
        }

        v9 += 4096;
        v12 += 4096;
      }

      while (v12 <= v109);
    }

    v51 = 0;
    v122 = 0;
    v121 = 0;
    v113 = 0uLL;
    *&v114 = 0;
    do
    {
      v52 = *(v111 + v51);
      *(&v121 + v51 % 3u) += v52;
      v53 = v51 - 6;
      if (v51 < 6)
      {
        v53 = v51;
      }

      *(&v113 + v53) += v52;
      ++v51;
    }

    while (v51 != 9);
    v54 = 0;
    v55 = &v121;
    v56 = 1;
    v57 = 0.0;
    while (1)
    {
      v58 = *v55;
      v59 = v58 > 0xFF ? log2(v58) : kBrotliLog2Table[v58];
      v60 = v54 + v58;
      v61 = v57 - v58 * v59;
      if ((v56 & 1) == 0)
      {
        break;
      }

      v62 = *v45;
      if (v62 > 0xFF)
      {
        v63 = log2(v62);
      }

      else
      {
        v63 = kBrotliLog2Table[v62];
      }

      v56 = 0;
      v54 = v60 + v62;
      v57 = v61 - v62 * v63;
      v55 = &v122;
      v45 = &v123;
    }

    if (v60)
    {
      if (v60 > 0xFF)
      {
        v64 = log2(v60);
      }

      else
      {
        v64 = kBrotliLog2Table[v60];
      }

      v61 = v61 + v60 * v64;
    }

    v65 = 0;
    v66 = 1;
    v67 = &v113;
    v68 = 0.0;
    while (1)
    {
      v69 = *v67;
      v70 = v69 > 0xFF ? log2(v69) : kBrotliLog2Table[v69];
      v71 = v65 + v69;
      v72 = v68 - v69 * v70;
      if ((v66 & 1) == 0)
      {
        break;
      }

      v73 = *v44;
      if (v73 > 0xFF)
      {
        v74 = log2(v73);
      }

      else
      {
        v74 = kBrotliLog2Table[v73];
      }

      v66 = 0;
      v65 = v71 + v73;
      v68 = v72 - v73 * v74;
      v67 = &v113 + 2;
      v44 = &v113 + 12;
    }

    if (v71)
    {
      if (v71 > 0xFF)
      {
        v75 = log2(v71);
      }

      else
      {
        v75 = kBrotliLog2Table[v71];
      }

      v72 = v72 + v71 * v75;
    }

    v76 = 0;
    v77 = 0;
    v78 = 0.0;
    while (1)
    {
      v79 = *(&v113 + v76 + 12);
      v80 = v79 > 0xFF ? log2(v79) : kBrotliLog2Table[v79];
      v81 = v77 + v79;
      v82 = v78 - v79 * v80;
      if ((v76 + 12) >= 0x14)
      {
        break;
      }

      v83 = *(&v113 + v76 + 16);
      if (v83 > 0xFF)
      {
        v84 = log2(v83);
      }

      else
      {
        v84 = kBrotliLog2Table[v83];
      }

      v77 = v81 + v83;
      v78 = v82 - v83 * v84;
      v76 += 8;
    }

    if (v81)
    {
      if (v81 > 0xFF)
      {
        v85 = log2(v81);
      }

      else
      {
        v85 = kBrotliLog2Table[v81];
      }

      v82 = v82 + v81 * v85;
    }

    v86 = 0;
    v87 = 0.0;
    do
    {
      v88 = 0;
      v89 = 0;
      v90 = v111 + 12 * v86;
      v91 = 1;
      v92 = 0.0;
      while (1)
      {
        v93 = *&v90[v89];
        v94 = v93 > 0xFF ? log2(v93) : kBrotliLog2Table[v93];
        v95 = v88 + v93;
        v96 = v92 - v93 * v94;
        if ((v91 & 1) == 0)
        {
          break;
        }

        v97 = *&v90[v89 | 4];
        if (v97 > 0xFF)
        {
          v98 = log2(v97);
        }

        else
        {
          v98 = kBrotliLog2Table[v97];
        }

        v91 = 0;
        v88 = v95 + v97;
        v92 = v96 - v97 * v98;
        v89 = 8;
      }

      if (v95)
      {
        if (v95 > 0xFF)
        {
          v99 = log2(v95);
        }

        else
        {
          v99 = kBrotliLog2Table[v95];
        }

        v96 = v96 + v95 * v99;
      }

      v87 = v87 + v96;
      ++v86;
    }

    while (v86 != 3);
    v100 = 1.0 / (HIDWORD(v121) + v121 + v122);
    v101 = v61 * v100;
    v102 = (v72 + v82) * v100;
    v103 = v87 * v100;
    if (a5 < 7)
    {
      v103 = v101 * 10.0;
    }

    if (v101 - v102 < 0.2 && v101 - v103 < 0.2)
    {
      v104 = (&dword_0 + 1);
      v105 = a7;
LABEL_122:
      *v105 = v104;
      return;
    }

    if (v102 - v103 >= 0.02)
    {
      *a7 = (&dword_0 + 3);
      v104 = &ChooseContextMap_kStaticContextMapContinuation;
    }

    else
    {
      *a7 = (&dword_0 + 2);
      v104 = &ChooseContextMap_kStaticContextMapSimpleUTF8;
    }

LABEL_121:
    v105 = a8;
    goto LABEL_122;
  }
}

BOOL BrotliIsMostlyUTF8(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4, double a5)
{
  if (!a4)
  {
    v19 = 0.0;
    return a4 * a5 < v19;
  }

  v5 = 0;
  v6 = 0;
  do
  {
    v7 = (a1 + ((v6 + a2) & a3));
    v8 = *v7;
    if (*v7 > 0)
    {
      goto LABEL_11;
    }

    v9 = a4 - v6;
    if (a4 - v6 < 2)
    {
      goto LABEL_10;
    }

    if ((v8 & 0xE0) == 0xC0)
    {
      v10 = v7[1];
      if ((v10 & 0xC0) == 0x80 && (v8 & 0x1F) << 6 > 0x7Fu)
      {
        v8 = v10 & 0x3F | ((v8 & 0x1F) << 6);
        v11 = 2;
        goto LABEL_12;
      }
    }

    if (v9 == 2)
    {
LABEL_10:
      v8 |= 0x110000u;
LABEL_11:
      v11 = 1;
      goto LABEL_12;
    }

    if ((v8 & 0xF0) == 0xE0 && (v13 = v7[1], (v13 & 0xC0) == 0x80) && (v14 = v7[2], (v14 & 0xC0) == 0x80) && (((v8 & 0xF) << 12) | ((v13 & 0x3F) << 6)) > 0x7FF)
    {
      v8 = ((v8 & 0xF) << 12) | ((v13 & 0x3F) << 6) | v14 & 0x3F;
      v11 = 3;
    }

    else
    {
      if (v9 < 4)
      {
        goto LABEL_10;
      }

      if ((v8 & 0xF8) != 0xF0)
      {
        goto LABEL_10;
      }

      v15 = v7[1];
      if ((v15 & 0xC0) != 0x80)
      {
        goto LABEL_10;
      }

      v16 = v7[2];
      if ((v16 & 0xC0) != 0x80)
      {
        goto LABEL_10;
      }

      v17 = v7[3];
      if ((v17 & 0xC0) != 0x80)
      {
        goto LABEL_10;
      }

      v18 = ((v8 & 7) << 18) | ((v15 & 0x3F) << 12);
      if ((v18 - 0x10000) >= 0x100000)
      {
        goto LABEL_10;
      }

      v8 = v17 & 0x3F | ((v16 & 0x3F) << 6) | v18;
      v11 = 4;
    }

LABEL_12:
    v6 += v11;
    if (v8 >= 0x110000)
    {
      v12 = 0;
    }

    else
    {
      v12 = v11;
    }

    v5 += v12;
  }

  while (v6 < a4);
  v19 = v5;
  return a4 * a5 < v19;
}

uint64_t BrotliTransformDictionaryWord(uint64_t a1, char *a2, uint64_t a3, void *a4, int a5)
{
  v5 = a3;
  v8 = a4[1];
  v7 = a4[2];
  v9 = (a4[4] + 3 * a5);
  v10 = *(v7 + 2 * *v9);
  v11 = v9[1];
  v12 = *(v7 + 2 * v9[2]);
  v13 = *(v8 + v10);
  if (*(v8 + v10))
  {
    v14 = 0;
    v15 = v10 + v8 + 1;
    do
    {
      *(a1 + v14) = *(v15 + v14);
      ++v14;
    }

    while (v13 != v14);
  }

  else
  {
    v14 = 0;
  }

  if (v11 > 9)
  {
    if ((v11 - 12) <= 8)
    {
      v16 = (v11 - 11);
      a2 += v16;
      v5 = (a3 - v16);
    }
  }

  else
  {
    v5 = (a3 - v11);
  }

  if (v5 >= 1)
  {
    v14 = v14;
    v17 = v5;
    do
    {
      v18 = *a2++;
      *(a1 + v14++) = v18;
      --v17;
    }

    while (v17);
  }

  if (v11 > 20)
  {
    if (v11 == 21)
    {
      Shift((a1 - v5 + v14), v5, *(a4[5] + 2 * a5) | (*(a4[5] + 2 * a5 + 1) << 8));
    }

    else if (v11 == 22 && v5 >= 1)
    {
      v23 = *(a4[5] + 2 * a5) | (*(a4[5] + 2 * a5 + 1) << 8);
      v24 = (a1 - v5 + v14);
      do
      {
        v25 = Shift(v24, v5, v23);
        v24 += v25;
        v22 = __OFSUB__(v5, v25);
        v5 = (v5 - v25);
      }

      while (!((v5 < 0) ^ v22 | (v5 == 0)));
    }
  }

  else if (v11 == 10)
  {
    v26 = (a1 - v5 + v14);
    v27 = *v26;
    if (v27 > 0xBF)
    {
      if (v27 > 0xDF)
      {
        v26[2] ^= 5u;
      }

      else
      {
        v26[1] ^= 0x20u;
      }
    }

    else if (v27 - 97 <= 0x19)
    {
      *v26 = v27 & 0x5F;
    }
  }

  else if (v11 == 11 && v5 >= 1)
  {
    v19 = (a1 - v5 + v14);
    do
    {
      v20 = *v19;
      if (v20 > 0xBF)
      {
        if (v20 > 0xDF)
        {
          v19[2] ^= 5u;
          v21 = 3;
        }

        else
        {
          v19[1] ^= 0x20u;
          v21 = 2;
        }
      }

      else
      {
        if (v20 - 97 <= 0x19)
        {
          *v19 = v20 & 0x5F;
        }

        v21 = 1;
      }

      v19 += v21;
      v22 = __OFSUB__(v5, v21);
      LODWORD(v5) = v5 - v21;
    }

    while (!((v5 < 0) ^ v22 | (v5 == 0)));
  }

  v28 = *(v8 + v12);
  if (*(v8 + v12))
  {
    v14 = v14;
    v29 = (v12 + v8 + 1);
    do
    {
      v30 = *v29++;
      *(a1 + v14++) = v30;
      --v28;
    }

    while (v28);
  }

  return v14;
}

uint64_t Shift(char *a1, uint64_t a2, __int16 a3)
{
  v3 = *a1;
  if ((*a1 & 0x80000000) == 0)
  {
    *a1 = (v3 + a3) & 0x7F;
    return 1;
  }

  if (v3 < 0xC0)
  {
    return 1;
  }

  v5 = (a3 & 0x7FFF) - (a3 & 0x8000) + 0x1000000;
  if (v3 <= 0xDF)
  {
    if (a2 >= 2)
    {
      v6 = a1[1];
      v7 = (v6 & 0x3F | ((v3 & 0x1F) << 6)) + v5;
      *a1 = (v7 >> 6) & 0x1F | 0xC0;
      a1[1] = v6 & 0xC0 | v7 & 0x3F;
      return 2;
    }

    return 1;
  }

  if (v3 > 0xEF)
  {
    if (v3 > 0xF7)
    {
      return 1;
    }

    if (a2 >= 4)
    {
      v11 = a1[3];
      v12 = a1[2];
      v13 = a1[1];
      v14 = ((v3 & 7) << 18) + v5 + (v11 & 0x3F);
      v15 = v14 + ((v12 & 0x3F) << 6);
      v16 = v15 + ((v13 & 0x3F) << 12);
      *a1 = (v16 >> 18) & 7 | 0xF0;
      a1[1] = v13 & 0xC0 | (v16 >> 12) & 0x3F;
      a1[2] = v12 & 0xC0 | (v15 >> 6) & 0x3F;
      a1[3] = v11 & 0xC0 | v14 & 0x3F;
      return 4;
    }
  }

  else if (a2 >= 3)
  {
    v8 = a1[2];
    v9 = a1[1];
    v10 = ((v3 & 0xF) << 12) + v5 + (v8 & 0x3F);
    *a1 = ((v10 + ((v9 & 0x3F) << 6)) >> 12) | 0xE0;
    a1[1] = v9 & 0xC0 | ((v10 + ((v9 & 0x3Fu) << 6)) >> 6) & 0x3F;
    a1[2] = v8 & 0xC0 | v10 & 0x3F;
    return 3;
  }

  return a2;
}

uint64_t lzvn_decode_buffer(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  if (a2)
  {
    if (a3 <= a3 + a4 - 8)
    {
      __asm { BR              X17 }
    }

    __asm { BTI             j }

    return 0;
  }

  else
  {
    __asm { BTI             j }

    return 0;
  }
}

double lzma_stream_init(uint64_t a1, int a2)
{
  *(a1 + 32) = 0;
  v4 = malloc(0xA0uLL);
  if (v4)
  {
    v6 = v4;
    v4[8] = 0u;
    v4[9] = 0u;
    v4[6] = 0u;
    v4[7] = 0u;
    v4[4] = 0u;
    v4[5] = 0u;
    v4[2] = 0u;
    v4[3] = 0u;
    *v4 = 0u;
    v4[1] = 0u;
    if (a2)
    {
      if (lzma_auto_decoder())
      {
LABEL_4:
        free(v6);
        return result;
      }
    }

    else if (lzma_easy_encoder())
    {
      goto LABEL_4;
    }

    *v6 = a2;
    result = -1.06069509e-97;
    *(v6 + 1) = 0xABCD000500000306;
    *(a1 + 32) = v6;
  }

  return result;
}

uint64_t lzma_stream_process(void *a1, char a2)
{
  v3 = a1[4];
  v4 = a1[3];
  *(v3 + 24) = a1[2];
  *(v3 + 32) = v4;
  v5 = a1[1];
  *(v3 + 48) = *a1;
  *(v3 + 56) = v5;
  *(v3 + 16) |= a2 & 1;
  result = lzma_code();
  v7 = *(v3 + 32);
  a1[2] += a1[3] - v7;
  a1[3] = v7;
  v8 = *(v3 + 56);
  *a1 += a1[1] - v8;
  a1[1] = v8;
  if (!result)
  {
    return 0;
  }

  if (result == 1)
  {
    return result;
  }

  if (result != 10)
  {
    return 0xFFFFFFFFLL;
  }

  else
  {
    return 0;
  }
}

uint64_t lzma_stream_end(uint64_t a1)
{
  lzma_end();
  free(*(a1 + 32));
  return 0;
}

uint64_t lzx_huffman_tree_compute_lookup_from_code_len(unsigned __int8 *a1)
{
  v2 = *(a1 + 16446);
  bzero(v35, 0x3E0uLL);
  v34 = 0;
  memset(v33, 0, sizeof(v33));
  if (v2 < 1)
  {
    goto LABEL_35;
  }

  v3 = 0;
  v4 = v2 & 0x7FFFFFFF;
  v5 = v4;
  v6 = a1;
  do
  {
    v8 = *v6++;
    v7 = v8;
    ++*(v33 + v8);
    if (v3 <= v8)
    {
      v3 = v7;
    }

    --v5;
  }

  while (v5);
  if (!v3)
  {
LABEL_35:
    memset_pattern16(a1 + 496, &unk_3419F0, 0x20000uLL);
    return 0;
  }

  v9 = 0;
  v32 = 0;
  memset(v31, 0, sizeof(v31));
  for (i = 4; i != 68; i += 4)
  {
    *(v31 + i) = 2 * v9;
    v9 = *(v33 + i) + 2 * v9;
  }

  if (v9 == 0x10000)
  {
    v11 = v35;
    v12 = v4;
    v13 = a1;
    do
    {
      v15 = *v13++;
      v14 = v15;
      if (v15)
      {
        v16 = *(v31 + v14);
        *(v31 + v14) = v16 + 1;
        if (v16 >> v14)
        {
          return 0xFFFFFFFFLL;
        }

        *v11 = v16 << (16 - v14);
      }

      ++v11;
      --v12;
    }

    while (v12);
    bzero(a1 + 496, 0x20000uLL);
    v17 = 0;
    do
    {
      v18 = a1[v17];
      if (a1[v17])
      {
        v19 = 0;
        v20 = v35[v17];
        v21 = ((1 << (16 - v18)) + v20);
        if (v21 <= v20 + 1)
        {
          v21 = v20 + 1;
        }

        v22 = v21 - v20;
        v23 = vdupq_n_s64(v22 - 1);
        v24 = v18 | (32 * v17);
        v25 = (v22 + 7) & 0xFFFFFFFFFFFFFFF8;
        v26 = &a1[2 * v35[v17] + 510];
        do
        {
          v27 = vdupq_n_s64(v19);
          v28 = vmovn_s64(vcgeq_u64(v23, vorrq_s8(v27, xmmword_33E760)));
          if (vuzp1_s8(vuzp1_s16(v28, 6), 6).u8[0])
          {
            *(v26 - 7) = v24;
          }

          if (vuzp1_s8(vuzp1_s16(v28, 6), 6).i8[1])
          {
            *(v26 - 6) = v24;
          }

          if (vuzp1_s8(vuzp1_s16(6, vmovn_s64(vcgeq_u64(v23, vorrq_s8(v27, xmmword_3419E0)))), 6).i8[2])
          {
            *(v26 - 5) = v24;
            *(v26 - 4) = v24;
          }

          v29 = vmovn_s64(vcgeq_u64(v23, vorrq_s8(v27, xmmword_3419D0)));
          if (vuzp1_s8(6, vuzp1_s16(v29, 6)).i32[1])
          {
            *(v26 - 3) = v24;
          }

          if (vuzp1_s8(6, vuzp1_s16(v29, 6)).i8[5])
          {
            *(v26 - 2) = v24;
          }

          if (vuzp1_s8(6, vuzp1_s16(6, vmovn_s64(vcgeq_u64(v23, vorrq_s8(v27, xmmword_3419C0))))).i8[6])
          {
            *(v26 - 1) = v24;
            *v26 = v24;
          }

          v19 += 8;
          v26 += 16;
        }

        while (v25 != v19);
      }

      ++v17;
    }

    while (v17 != v4);
    return 0;
  }

  return 0xFFFFFFFFLL;
}

uint64_t lzx_huffman_tree_read_code(_WORD *a1, uint64_t a2, uint64_t a3)
{
  v3 = *(a2 + 24);
  if (v3 <= 48)
  {
    v4 = *(a2 + 8);
    v5 = *a2 + 2;
    v6 = 48 - v3;
    while (v5 <= v4)
    {
      v7 = *(v5 - 2);
      *a2 = v5;
      v8 = v3 + 16;
      v9 = (v7 << v6) | *(a2 + 16);
      *(a2 + 24) = v3 + 16;
      *(a2 + 16) = v9;
      v5 += 2;
      v6 -= 16;
      v10 = v3 < 33;
      v3 += 16;
      if (!v10)
      {
        goto LABEL_7;
      }
    }
  }

  v8 = v3;
LABEL_7:
  v11 = *(a2 + 16);
  v12 = *(a3 + 2 * HIWORD(v11) + 496);
  *a1 = *(a3 + 2 * HIWORD(v11) + 496) >> 5;
  if (*(a3 + 131568) <= v12 >> 5)
  {
    return 0xFFFFFFFFLL;
  }

  v13 = v12 & 0x1F;
  if (!v13)
  {
    return 0xFFFFFFFFLL;
  }

  if (v8 <= 48)
  {
    v14 = *(a2 + 8);
    v15 = *a2 + 2;
    v16 = 48 - v8;
    while (v15 <= v14)
    {
      v17 = *(v15 - 2);
      *a2 = v15;
      v18 = v8 + 16;
      v11 |= v17 << v16;
      *(a2 + 24) = v8 + 16;
      *(a2 + 16) = v11;
      v15 += 2;
      v16 -= 16;
      v10 = v8 < 33;
      v8 += 16;
      if (!v10)
      {
        goto LABEL_15;
      }
    }
  }

  v18 = v8;
LABEL_15:
  if (v18 < v13)
  {
    return 0xFFFFFFFFLL;
  }

  result = 0;
  *(a2 + 16) = v11 << v13;
  *(a2 + 24) = v18 - v13;
  return result;
}

uint64_t lzx_huffman_tree_update_tree_using_pre_tree_encoding(uint64_t a1, uint64_t a2, size_t a3, uint64_t a4, void *a5)
{
  if (lzx_huffman_create_pre_tree(a5, a2))
  {
    return 0xFFFFFFFFLL;
  }

  v11 = a4 + a3;
  while (a3 < v11)
  {
    v43 = 0;
    if (lzx_huffman_tree_read_code(&v43, a2, a5))
    {
      return 0xFFFFFFFFLL;
    }

    if (v43 > 0x10u)
    {
      switch(v43)
      {
        case 0x13u:
          v28 = *(a2 + 24);
          if (v28 > 48)
          {
            v33 = *(a2 + 24);
          }

          else
          {
            v29 = *(a2 + 8);
            v30 = *a2 + 2;
            v31 = 48 - v28;
            while (v30 <= v29)
            {
              v32 = *(v30 - 2);
              *a2 = v30;
              v33 = v28 + 16;
              v34 = (v32 << v31) | *(a2 + 16);
              *(a2 + 24) = v28 + 16;
              *(a2 + 16) = v34;
              v30 += 2;
              v31 -= 16;
              v20 = v28 < 33;
              v28 += 16;
              if (!v20)
              {
                goto LABEL_33;
              }
            }

            v33 = v28;
            if (v28 < 1)
            {
              return 0xFFFFFFFFLL;
            }
          }

LABEL_33:
          v37 = *(a2 + 16);
          *(a2 + 16) = 2 * v37;
          *(a2 + 24) = v33 - 1;
          v38 = (v37 >> 63) | 4;
          if (v38 + a3 > v11)
          {
            return 0xFFFFFFFFLL;
          }

          v42 = 0;
          if (lzx_huffman_tree_read_code(&v42, a2, a5) || v42 >= 0x11u)
          {
            return 0xFFFFFFFFLL;
          }

          v39 = *(a1 + a3);
          if (v39 < v42)
          {
            v39 += 17;
          }

          memset((a1 + a3), v39 - v42, v38);
          a3 += v38;
          break;
        case 0x12u:
          v21 = *(a2 + 24);
          if (v21 > 48)
          {
            v26 = *(a2 + 24);
          }

          else
          {
            v22 = *(a2 + 8);
            v23 = *a2 + 2;
            v24 = 48 - v21;
            while (v23 <= v22)
            {
              v25 = *(v23 - 2);
              *a2 = v23;
              v26 = v21 + 16;
              v27 = (v25 << v24) | *(a2 + 16);
              *(a2 + 24) = v21 + 16;
              *(a2 + 16) = v27;
              v23 += 2;
              v24 -= 16;
              v20 = v21 < 33;
              v21 += 16;
              if (!v20)
              {
                goto LABEL_31;
              }
            }

            v26 = v21;
            if (v21 < 5)
            {
              return 0xFFFFFFFFLL;
            }
          }

LABEL_31:
          v35 = *(a2 + 16);
          *(a2 + 16) = 32 * v35;
          *(a2 + 24) = v26 - 5;
          v36 = (v35 >> 59) + 20;
          goto LABEL_41;
        case 0x11u:
          v13 = *(a2 + 24);
          if (v13 > 48)
          {
            v18 = *(a2 + 24);
          }

          else
          {
            v14 = *(a2 + 8);
            v15 = *a2 + 2;
            v16 = 48 - v13;
            while (v15 <= v14)
            {
              v17 = *(v15 - 2);
              *a2 = v15;
              v18 = v13 + 16;
              v19 = (v17 << v16) | *(a2 + 16);
              *(a2 + 24) = v13 + 16;
              *(a2 + 16) = v19;
              v15 += 2;
              v16 -= 16;
              v20 = v13 < 33;
              v13 += 16;
              if (!v20)
              {
                goto LABEL_40;
              }
            }

            v18 = v13;
            if (v13 < 4)
            {
              return 0xFFFFFFFFLL;
            }
          }

LABEL_40:
          v40 = *(a2 + 16);
          *(a2 + 16) = 16 * v40;
          *(a2 + 24) = v18 - 4;
          v36 = (v40 >> 60) + 4;
LABEL_41:
          v41 = v36 + a3;
          if (v36 + a3 > v11)
          {
            return 0xFFFFFFFFLL;
          }

          bzero((a1 + a3), v36);
          a3 = v41;
          break;
      }
    }

    else
    {
      v12 = *(a1 + a3);
      if (v12 < v43)
      {
        LOBYTE(v12) = v12 + 17;
      }

      *(a1 + a3++) = v12 - v43;
    }
  }

  if (a3 == v11)
  {
    return 0;
  }

  else
  {
    return 0xFFFFFFFFLL;
  }
}

uint64_t lzx_huffman_create_pre_tree(void *a1, uint64_t a2)
{
  bzero(a1, 0x201F0uLL);
  v4 = 0;
  a1[16446] = 20;
  while (1)
  {
    v5 = *(a2 + 24);
    if (v5 <= 48)
    {
      break;
    }

    v10 = *(a2 + 24);
LABEL_9:
    v13 = *(a2 + 16);
    *(a2 + 16) = 16 * v13;
    *(a2 + 24) = v10 - 4;
    *(a1 + v4++) = v13 >> 60;
    if (v4 >= a1[16446])
    {
      lzx_huffman_tree_compute_lookup_from_code_len(a1);
      return 0;
    }
  }

  v6 = *(a2 + 8);
  v7 = *a2 + 2;
  v8 = 48 - v5;
  while (v7 <= v6)
  {
    v9 = *(v7 - 2);
    *a2 = v7;
    v10 = v5 + 16;
    v11 = (v9 << v8) | *(a2 + 16);
    *(a2 + 24) = v5 + 16;
    *(a2 + 16) = v11;
    v7 += 2;
    v8 -= 16;
    v12 = v5 < 33;
    v5 += 16;
    if (!v12)
    {
      goto LABEL_9;
    }
  }

  v10 = v5;
  if (v5 >= 4)
  {
    goto LABEL_9;
  }

  return 0xFFFFFFFFLL;
}

uint64_t lzvnStreamDecodeInit(uint64_t a1, int a2, int a3)
{
  if (a3)
  {
    v4 = *(a1 + 32);
  }

  else
  {
    v4 = 0;
    *(a1 + 32) = 0;
    *a1 = 0u;
    *(a1 + 16) = 0u;
  }

  v5 = realloc_stream_state(v4, 1, a2, 0x80100u, 0x80078u);
  *(a1 + 32) = v5;
  if (!v5)
  {
    return 0xFFFFFFFFLL;
  }

  v6 = v5;
  result = 0;
  v6[2] = v6 + 32;
  v6[3] = v6 + 32800;
  v6[6] = v6 + 32;
  v6[7] = v6 + 32;
  v6[8] = v6 + 32800;
  v6[9] = v6 + 32800;
  v6[10] = v6 + 65568;
  v6[11] = v6 + 32800;
  return result;
}

uint64_t lzvnStreamDecode(uint64_t a1, char a2)
{
  v3 = *(a1 + 32);
  if (a2)
  {
    *(v3 + 32) = 1;
  }

  v4 = 1;
  do
  {
    if (*(v3 + 36))
    {
      v5 = 0;
    }

    else
    {
      v6 = *(v3 + 56);
      v7 = *(a1 + 24);
      if (v7 >= *(v3 + 16) - v6 + 0x40000)
      {
        v5 = *(v3 + 16) - v6 + 0x40000;
      }

      else
      {
        v5 = *(a1 + 24);
      }

      if (v5 >= 1)
      {
        memcpy(v6, *(a1 + 16), v5);
        *(v3 + 56) += v5;
        v7 = *(a1 + 24) - v5;
        *(a1 + 16) += v5;
        *(a1 + 24) = v7;
      }

      if (!v7 && *(v3 + 32))
      {
        *(v3 + 36) = 1;
      }
    }

    v8 = *(v3 + 88);
    if (v8 >= *(v3 + 24) + 0x20000)
    {
      v9 = *(v3 + 64);
      v10 = *(v3 + 72);
      v11 = v8 >= (v9 - 0x10000) ? v9 - 0x10000 : *(v3 + 88);
      if (v11 > v10)
      {
        if (v9 != v11)
        {
          memmove(*(v3 + 72), v11, v9 - v11);
          v8 = *(v3 + 88);
          v9 = *(v3 + 64);
        }

        *(v3 + 88) = v8 + v10 - v11;
        *(v3 + 64) = &v9[v10 - v11];
      }
    }

    if (*(v3 + 40) || *(v3 + 64) >= *(v3 + 80))
    {
      v12 = 0;
    }

    else
    {
      v12 = lzvnDecode(v3 + 48);
      if (v12 == -3)
      {
        v4 = 0;
      }

      if (*(v3 + 128))
      {
        *(v3 + 40) = 1;
      }
    }

    if (*(v3 + 44))
    {
      goto LABEL_44;
    }

    v13 = *(v3 + 88);
    if (*(a1 + 8) >= *(v3 + 64) - v13)
    {
      v14 = *(v3 + 64) - v13;
    }

    else
    {
      v14 = *(a1 + 8);
    }

    if (v14 >= 1)
    {
      memcpy(*a1, v13, v14);
      v13 = (*(v3 + 88) + v14);
      *(v3 + 88) = v13;
      v15 = *(a1 + 8) - v14;
      *a1 += v14;
      *(a1 + 8) = v15;
    }

    if (*(v3 + 40) && v13 == *(v3 + 64))
    {
      *(v3 + 44) = 1;
      if (v4)
      {
        return *(v3 + 44) != 0;
      }

      return 0xFFFFFFFFLL;
    }

    if (*(v3 + 44))
    {
      goto LABEL_44;
    }

    v16 = *(v3 + 48);
    v17 = *(v3 + 16);
    if (v16 >= v17 + 0x20000)
    {
      v18 = *(v3 + 56);
      v19 = v18 - v16;
      if (v18 - v16 >= 1)
      {
        memmove(v17, v16, v18 - v16);
        v17 = *(v3 + 16);
      }

      *(v3 + 48) = v17;
      *(v3 + 56) = &v17[v19];
    }
  }

  while (v14 | v5);
  if (v12 != -1)
  {
LABEL_44:
    if (v4)
    {
      return *(v3 + 44) != 0;
    }

    return 0xFFFFFFFFLL;
  }

  result = 0xFFFFFFFFLL;
  if (!*(v3 + 36) && v4)
  {
    return *(v3 + 44) != 0;
  }

  return result;
}

int32x4_t **lz4_encode_2gb(int32x4_t **result, uint64_t a2, char **a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  v7 = vdupq_n_s32(0xFFFFFFFF);
  v8 = *result;
  v9 = *a3;
  v10 = (*result)[-8].i64 + a2;
  if (v10 < *result)
  {
    goto LABEL_92;
  }

  v11 = &v9[a5 - 128];
  if (v11 >= v9)
  {
    do
    {
      v12 = v9;
      v13 = &v9[-a4];
      while (1)
      {
        v14 = *v12;
        v15 = (a6 + 8 * ((-1640531535 * *v12) >> 20));
        v16 = *v15;
        v17 = v15[1];
        *v15 = v13;
        v15[1] = v14;
        v18 = v14 >> 8;
        v19 = (a6 + 8 * ((-1640531535 * (v14 >> 8)) >> 20));
        v20 = *v19;
        v21 = v19[1];
        *v19 = v13 + 1;
        v19[1] = v14 >> 8;
        if (v14 == v17)
        {
          v22 = (v13 - v16);
          if (v22 < 0x10000 && v22 != 0)
          {
            break;
          }
        }

        v12 = (v12 + 1);
        v24 = v13 + 1;
        v25 = v14 >> 16;
        v26 = (a6 + 8 * ((-1640531535 * v25) >> 20));
        v27 = *v26;
        v28 = v26[1];
        *v26 = v24 + 1;
        v26[1] = v25;
        if (v18 == v21)
        {
          v22 = (v24 - v20);
          if (v22 < 0x10000 && v24 != v20)
          {
            break;
          }
        }

        v12 = (v12 + 1);
        v30 = v24 + 1;
        v31 = v25 >> 8;
        v32 = (a6 + 8 * ((-1640531535 * (v25 >> 8)) >> 20));
        v33 = *v32;
        v34 = v32[1];
        *v32 = v30 + 1;
        v32[1] = v25 >> 8;
        if (v25 == v28)
        {
          v22 = (v30 - v27);
          if (v22 < 0x10000 && v30 != v27)
          {
            break;
          }
        }

        v12 = (v12 + 1);
        v36 = v30 + 1;
        v37 = v25 >> 16;
        v38 = (a6 + 8 * ((-1640531535 * v37) >> 20));
        v39 = *v38;
        v40 = v38[1];
        *v38 = v36 + 1;
        v38[1] = v37;
        if (v31 == v34)
        {
          v22 = (v36 - v33);
          if (v22 < 0x10000 && v36 != v33)
          {
            break;
          }
        }

        v12 = (v12 + 1);
        v42 = v36 + 1;
        if (v37 == v40)
        {
          v22 = (v42 - v39);
          if (v22 < 0x10000 && v42 != v39)
          {
            break;
          }
        }

        v12 = (v12 + 1);
        v13 = v42 + 1;
        if (v12 >= v11)
        {
          goto LABEL_74;
        }
      }

      v44 = v12 + 4;
      v45 = (v12 - v22 + 4);
      while (1)
      {
        v47 = *v44;
        v44 += 8;
        v46 = v47;
        v49 = *v45++;
        v48 = v49;
        if (v46 != v49)
        {
          break;
        }

        if (v44 >= v11)
        {
          goto LABEL_38;
        }
      }

      v44 = &v44[(__clz(__rbit64(v46 ^ v48)) >> 3) - 8];
LABEL_38:
      v50 = v12 - v22;
      while (1)
      {
        v51 = v12 <= v9 || v50 <= a4;
        if (v51)
        {
          break;
        }

        v53 = *(v12 - 1);
        v12 = (v12 - 1);
        v52 = v53;
        v54 = *--v50;
        if (v52 != v54)
        {
          v12 = (v12 + 1);
          break;
        }
      }

      v55 = v44 - v12 - 4;
      v56 = v12 - v9;
      v57 = v12 - v9 + 3;
      v58 = v10 - v8 - v57;
      if (v10 - v8 < v57)
      {
        goto LABEL_92;
      }

      v59 = (v55 & 0xF) + 16 * v56;
      v60 = &v8->i8[1];
      if (v56 >= 0xF)
      {
        v59 |= 0xF0u;
        v61 = v56 - 15;
        v62 = v58-- != 0;
        if (!v62)
        {
          goto LABEL_92;
        }

        if (v61 >= 0xFF)
        {
          v63 = v61 / 0xFFuLL;
          v62 = v58 >= v63;
          v58 -= v63;
          if (!v62)
          {
            goto LABEL_92;
          }

          LOBYTE(v61) = v61 + v63;
          do
          {
            *v60++ = v7;
            v51 = v63 > 0x10;
            v63 -= 16;
          }

          while (v51);
          v60 = (v60 + v63);
        }

        v60->i8[0] = v61;
        v60 = (v60 + 1);
      }

      do
      {
        v64 = *v9;
        v9 += 16;
        *v60++ = v64;
        v51 = v56 <= 16;
        v56 -= 16;
      }

      while (!v51);
      v65 = (v60->i16 + v56);
      *v65 = v22;
      v66 = (v65 + 1);
      if (v55 >= 0xF)
      {
        v59 |= 0xFu;
        v67 = v44 - v12 - 19;
        v62 = v58 != 0;
        v68 = v58 - 1;
        if (!v62)
        {
          goto LABEL_92;
        }

        if (v67 >= 0xFF)
        {
          v69 = v67 / 0xFFuLL;
          if (v68 < v69)
          {
            goto LABEL_92;
          }

          LOBYTE(v67) = v67 + v69;
          do
          {
            *v66++ = v7;
            v51 = v69 > 0x10;
            v69 -= 16;
          }

          while (v51);
          v66 = (v66 + v69);
        }

        v66->i8[0] = v67;
        v66 = (v66 + 1);
      }

      v8->i8[0] = v59;
      v8 = v66;
      v9 = v44;
    }

    while (v44 < v11 && v66 < v10);
  }

LABEL_74:
  if (a7)
  {
    goto LABEL_92;
  }

  v71 = (v11 + 128);
  v72 = v71 - v9;
  if (v71 == v9)
  {
    goto LABEL_92;
  }

  v73 = v10 + 128 - v8 - 1;
  v51 = v73 <= v72;
  v74 = v73 - v72;
  if (v51)
  {
    goto LABEL_92;
  }

  if (v72 < 15)
  {
    v8->i8[0] = 16 * v72;
    v8 = (v8 + 1);
    do
    {
LABEL_91:
      v81 = *v9++;
      v8->i8[0] = v81;
      v8 = (v8 + 1);
    }

    while (v9 < v71);
    goto LABEL_92;
  }

  v75 = v74 - 1;
  if (v75 >= 0)
  {
    v8->i8[0] = -16;
    v76 = &v8->i8[1];
    v77 = v72 - 15;
    if ((v72 - 15) >= 0xFF)
    {
      v78 = v77 / 0xFFuLL;
      if (v75 - v78 < 0)
      {
        v8 = (v76 - 1);
        goto LABEL_92;
      }

      LOBYTE(v77) = v77 + v78;
      do
      {
        *v76++ = v7;
        v51 = v78 <= 16;
        v78 -= 16;
      }

      while (!v51);
      v76 = (v76 + v78);
    }

    v76->i8[0] = v77;
    v8 = &v76->i8[1];
    v79 = v72 >> 4;
    if (!(v72 >> 4))
    {
      goto LABEL_91;
    }

    do
    {
      v80 = *v9;
      v9 += 16;
      *v8++ = v80;
      v51 = v79-- <= 1;
    }

    while (!v51);
    if (v9 < v71)
    {
      goto LABEL_91;
    }
  }

LABEL_92:
  *result = v8;
  *a3 = v9;
  return result;
}

uint64_t brotli_decode_buffer(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  if (BrotliDecoderDecompress(a4))
  {
    return a2;
  }

  else
  {
    return 0;
  }
}

unint64_t brotli_encode_buffer(_BYTE *a1, unint64_t a2, uint64_t *a3, unint64_t a4, uint64_t a5, int a6)
{
  v7 = a2;
  if (BrotliEncoderCompress(a6, 22, 0, a4, a3, &v7, a1))
  {
    return v7;
  }

  else
  {
    return 0;
  }
}

uint64_t brotli_stream_process(uint64_t a1, char a2)
{
  v3 = *(a1 + 32);
  v4 = *(v3 + 24) | a2 & 1;
  *(v3 + 24) = v4;
  v5 = *(v3 + 16);
  if (*v3)
  {
    v6 = BrotliDecoderDecompressStream(v5, (a1 + 24), (a1 + 16), (a1 + 8), a1, 0) - 1;
    if (v6 <= 2)
    {
      return dword_341A00[v6];
    }

    return 0xFFFFFFFFLL;
  }

  if (!BrotliEncoderCompressStream(v5, 2 * (v4 != 0), (a1 + 24), (a1 + 16), (a1 + 8), a1, 0))
  {
    return 0xFFFFFFFFLL;
  }

  return *(v3 + 24) && BrotliEncoderIsFinished(*(v3 + 16));
}

uint64_t brotli_stream_init(uint64_t a1, int a2)
{
  v4 = malloc(0x20uLL);
  if (v4)
  {
    v5 = v4;
    *v4 = 0u;
    v4[1] = 0u;
    if (a2 == 1)
    {
      Instance = BrotliDecoderCreateInstance(0, 0, 0);
      v5[2] = Instance;
      if (Instance)
      {
        BrotliDecoderSetParameter(Instance, 1, 1);
        goto LABEL_8;
      }
    }

    else if (!a2)
    {
      v6 = BrotliEncoderCreateInstance(0, 0, 0);
      v5[2] = v6;
      if (v6)
      {
        v7 = v6;
        BrotliEncoderSetParameter(v6, 1, 2u);
        BrotliEncoderSetParameter(v7, 2, 0x16u);
LABEL_8:
        result = 0;
        *v5 = a2;
        *(v5 + 1) = 2818;
        *(a1 + 32) = v5;
        return result;
      }
    }

    free(v5);
  }

  return 0xFFFFFFFFLL;
}

uint64_t brotli_stream_end(uint64_t a1)
{
  v2 = *(a1 + 32);
  if (v2)
  {
    v3 = v2[2];
    if (*v2)
    {
      BrotliDecoderDestroyInstance(v3);
    }

    else
    {
      BrotliEncoderDestroyInstance(v3);
    }

    free(v2);
  }

  *(a1 + 32) = 0;
  return 0;
}

uint64_t lzvnStreamEncodeInit(uint64_t a1, int a2, int a3)
{
  if (!a3)
  {
    *(a1 + 32) = 0;
    *a1 = 0u;
    *(a1 + 16) = 0u;
  }

  v5 = lzvn_encode_scratch_size(a2);
  v6 = realloc_stream_state(*(a1 + 32), 0, a2, v5 + 524544, v5 + 524344);
  *(a1 + 32) = v6;
  if (!v6)
  {
    return 0xFFFFFFFFLL;
  }

  v7 = v6;
  result = 0;
  v7[4] = v7 + 32;
  v9 = v7 + v5 + 256;
  v7[2] = v9;
  v7[3] = v9 + 0x40000;
  v7[8] = v9;
  v7[14] = v9 + 0x40000;
  v7[15] = v9 + 0x40000;
  v7[16] = v9 + 0x80000;
  v9[0x40000] = 14;
  *(v7[14] + 1) = 22;
  *(v7[14] + 2) = 22;
  *(v7[14] + 3) = 14;
  v7[14] += 4;
  return result;
}

uint64_t lzvnStreamEncode(uint64_t a1, char a2)
{
  v3 = *(a1 + 32);
  if (a2)
  {
    *(v3 + 44) = 1;
  }

  while (1)
  {
    if (*(v3 + 48))
    {
      v4 = 0;
    }

    else
    {
      v5 = *(v3 + 80);
      v6 = *(a1 + 24);
      if (v6 >= 0x40000 - v5)
      {
        v4 = 0x40000 - v5;
      }

      else
      {
        v4 = *(a1 + 24);
      }

      if (v4 >= 1)
      {
        memcpy((*(v3 + 16) + v5), *(a1 + 16), v4);
        *(v3 + 80) += v4;
        v6 = *(a1 + 24) - v4;
        *(a1 + 16) += v4;
        *(a1 + 24) = v6;
      }

      if (!v6 && *(v3 + 44))
      {
        *(v3 + 48) = 1;
      }
    }

    v7 = *(v3 + 120);
    v8 = *(v3 + 24);
    if (v7 >= v8 + 0x20000)
    {
      v9 = *(v3 + 112);
      v10 = v9 - v7;
      if (v9 != v7)
      {
        memmove(v8, v7, v9 - v7);
        v8 = *(v3 + 24);
      }

      *(v3 + 112) = &v8[v10];
      *(v3 + 120) = v8;
    }

    if (*(v3 + 40))
    {
      if (*(v3 + 52))
      {
        goto LABEL_34;
      }

      v11 = 0;
      v12 = *(v3 + 72);
      if (v12 <= -65536)
      {
        LODWORD(v12) = -65536;
      }

      v13 = vdupq_n_s32(v12);
      v14 = *(v3 + 136);
      v15 = 1;
      do
      {
        *(*(v3 + 192) + v11) = vmaxq_s32(*(*(v3 + 192) + v11), v13);
        v16 = v15++ >> v14;
        v11 += 32;
      }

      while (!v16);
      goto LABEL_27;
    }

    if (*(v3 + 80) <= 3)
    {
      break;
    }

    if (*(v3 + 52))
    {
      goto LABEL_34;
    }

    lzvnEncodeInitState(v3 + 64, *(v3 + 4), *(v3 + 32));
    *(v3 + 40) = 1;
LABEL_27:
    v17 = *(v3 + 80);
    *(v3 + 96) = v17 - 400;
    if (*(v3 + 48))
    {
      *(v3 + 96) = v17 - 8;
    }

    lzvnEncode(v3 + 64, v13);
    if (*(v3 + 48) && *(v3 + 88) >= *(v3 + 80) - 8)
    {
      *(v3 + 52) = 1;
    }

    else if (!*(v3 + 52))
    {
      goto LABEL_35;
    }

LABEL_34:
    if (*(v3 + 56))
    {
      goto LABEL_35;
    }

    v30 = *(v3 + 160);
    v31 = *(v3 + 104);
    if (!v30)
    {
      goto LABEL_99;
    }

    v32 = *(v3 + 168);
    v33 = *(v3 + 144) - v31;
    v62 = *(v3 + 184);
    v63 = *(v3 + 152);
    v34 = (*(v3 + 64) + v31);
    v35 = *(v3 + 112);
    v36 = *(v3 + 128);
    if (v33 >= 0x10)
    {
      do
      {
        v37 = v33 >= 0x10F ? 271 : v33;
        if (&v35[v37 + 10] >= v36)
        {
          goto LABEL_94;
        }

        *v35 = (v37 << 8) - 3872;
        v38 = v35 + 2;
        v33 -= v37;
        memcpy(v38, v34, ((v37 - 1) & 0xFFFFFFFFFFFFFFF8) + 8);
        v35 = &v38[v37];
        v34 = (v34 + v37);
      }

      while (v33 > 0xF);
    }

    if (v33 >= 4)
    {
      if (&v35[v33 + 10] >= v36)
      {
        goto LABEL_94;
      }

      *v35 = v33 | 0xE0;
      v39 = v35 + 1;
      memcpy(v39, v34, ((v33 - 1) & 0xFFFFFFFFFFFFFFF8) + 8);
      v35 = &v39[v33];
      v34 = (v34 + v33);
      v33 = 0;
    }

    if (10 - 2 * v33 >= v30)
    {
      v40 = v30;
    }

    else
    {
      v40 = 10 - 2 * v33;
    }

    if ((v35 + 8) < v36)
    {
      v41 = v30 - v40;
      v42 = v40 - 3;
      v43 = *v34;
      if (v32 == v62)
      {
        v44 = (v33 << 6) + 8 * v42;
        if (v33)
        {
          v45 = 6;
        }

        else
        {
          v45 = -16;
        }

        if (!v33)
        {
          v44 = v40;
        }

        *v35 = v45 | v44;
        v46 = v35 + 1;
LABEL_84:
        *v46 = v43;
        v47 = (v46 + v33);
        if (v41 < 0x10)
        {
          v48 = v46 + v33;
          if (v41)
          {
LABEL_90:
            if ((v48 + 1) < v36)
            {
              *v48 = v41 | 0xF0;
              v36 = (v48 + 1);
            }
          }

          else
          {
LABEL_93:
            v36 = v48;
          }
        }

        else
        {
          while (1)
          {
            v48 = v47 + 1;
            if ((v47 + 1) >= v36)
            {
              break;
            }

            v49 = 271;
            if (v41 < 0x10F)
            {
              v49 = v41;
            }

            *v47 = (v49 << 8) - 3856;
            v41 -= v49;
            ++v47;
            if (v41 <= 0xF)
            {
              if (!v41)
              {
                goto LABEL_93;
              }

              goto LABEL_90;
            }
          }
        }

        goto LABEL_94;
      }

      if (v32 <= 0x5FF)
      {
        *v35 = ((v33 << 6) | BYTE1(v32)) + 8 * v42;
        v35[1] = v32;
        v46 = v35 + 2;
        goto LABEL_84;
      }

      if (v30 > 0x22 || v32 >> 14 || !v41)
      {
        *v35 = ((v33 << 6) + 8 * v42) | 7;
        *(v35 + 1) = v32;
        v46 = v35 + 3;
        goto LABEL_84;
      }

      *v35 = ((v30 - 3) >> 2) + 8 * v33 - 96;
      *(v35 + 1) = (v30 - 3) & 3 | (4 * v32);
      *(v35 + 3) = v43;
      v36 = &v35[v33 + 3];
    }

LABEL_94:
    if (v36 < *(v3 + 128))
    {
      v50 = *(v3 + 112);
      *(v3 + 184) = v32;
      *(v3 + 104) = v63;
      *(v3 + 112) = v36;
      if (v36 != v50)
      {
        *(v3 + 176) = 0;
        *(v3 + 144) = 0u;
        *(v3 + 160) = 0u;
      }
    }

    if (*(v3 + 160))
    {
      goto LABEL_35;
    }

    v31 = *(v3 + 104);
LABEL_99:
    v51 = *(v3 + 80);
    v52 = v51 - v31;
    if (v51 > v31)
    {
      v53 = (*(v3 + 64) + v31);
      v54 = *(v3 + 112);
      v55 = *(v3 + 128);
      v56 = v51 - v31;
      if (v52 < 0x10)
      {
LABEL_106:
        if (v56)
        {
          if (&v54[v56 + 10] < v55)
          {
            *v54 = v56 | 0xE0;
            v59 = v54 + 1;
            memcpy(v59, v53, v56);
            v55 = v59 + v56;
          }
        }

        else
        {
          v55 = v54;
        }
      }

      else
      {
        while (1)
        {
          v57 = v56 >= 0x10F ? 271 : v56;
          if (&v54[v57 + 10] >= v55)
          {
            break;
          }

          *v54 = (v57 << 8) - 3872;
          v58 = v54 + 2;
          v56 -= v57;
          memcpy(v58, v53, v57);
          v54 = &v58[v57];
          v53 += v57;
          if (v56 <= 0xF)
          {
            goto LABEL_106;
          }
        }
      }

      if (v55 < *(v3 + 128))
      {
        *(v3 + 104) += v52;
        *(v3 + 112) = v55;
      }
    }

    if (!*(v3 + 160) && *(v3 + 80) == *(v3 + 104))
    {
      v60 = *(v3 + 112);
      if (*(v3 + 128) >= (v60 + 1))
      {
        *v60 = 6;
        *(v3 + 112) = v60 + 1;
        *(v3 + 56) = 1;
      }
    }

LABEL_35:
    if (*(v3 + 60))
    {
      if (*(v3 + 56))
      {
        return 1;
      }

      v18 = 0;
    }

    else
    {
      v19 = *(v3 + 120);
      if (*(a1 + 8) >= *(v3 + 112) - v19)
      {
        v18 = *(v3 + 112) - v19;
      }

      else
      {
        v18 = *(a1 + 8);
      }

      if (v18 >= 1)
      {
        memcpy(*a1, v19, v18);
        v19 = (*(v3 + 120) + v18);
        *(v3 + 120) = v19;
        v20 = *(a1 + 8) - v18;
        *a1 += v18;
        *(a1 + 8) = v20;
      }

      if (*(v3 + 56))
      {
        if (v19 == *(v3 + 112))
        {
          *(v3 + 60) = 1;
          return *(v3 + 56) && *(v3 + 60);
        }

        if (*(v3 + 60))
        {
          return *(v3 + 56) && *(v3 + 60);
        }
      }
    }

    v21 = *(v3 + 80);
    if (v21 >= 0x20000)
    {
      v22 = *(v3 + 88);
      v23 = v22 - 0x10000;
      if (v22 < 0x20000)
      {
        v23 = 0;
      }

      if (v23 >= 1)
      {
        v24 = 0;
        v25 = v21 - v23;
        *(v3 + 80) = v21 - v23;
        *(v3 + 88) = v22 - v23;
        *(v3 + 104) -= v23;
        *(v3 + 144) = vsubq_s64(*(v3 + 144), vdupq_n_s64(v23));
        v26 = vdupq_n_s32(-v23);
        v27 = *(v3 + 136);
        v28 = 1;
        do
        {
          *(*(v3 + 192) + v24) = vaddq_s32(*(*(v3 + 192) + v24), v26);
          v29 = v28++ >> v27;
          v24 += 32;
        }

        while (!v29);
        memmove(*(v3 + 16), (*(v3 + 16) + v23), v25);
        *(v3 + 64) = *(v3 + 16);
        *(v3 + 72) = 0;
      }
    }

    if (!(v18 | v4))
    {
      return *(v3 + 56) && *(v3 + 60);
    }
  }

  if (*(v3 + 48))
  {
    return 0xFFFFFFFFLL;
  }

  return *(v3 + 56) && *(v3 + 60);
}

Bytef *zlib_encode_buffer(uint64_t a1, unint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, int a6, int a7)
{
  if ((a4 | a2) >> 32)
  {
    return 0;
  }

  v9 = a4;
  v11 = a2;
  v20[0] = a5;
  v20[1] = 270336;
  v13 = zlib_malloc(v20, 1u, 0x70u);
  v14 = v13;
  *(v13 + 56) = 0u;
  *(v13 + 72) = 0u;
  *(v13 + 8) = 0u;
  *(v13 + 24) = 0u;
  *(v13 + 40) = 0u;
  *(v13 + 88) = 0u;
  *(v13 + 104) = 0;
  *(v13 + 64) = zlib_malloc;
  *(v13 + 72) = zlib_free;
  *(v13 + 80) = v20;
  *(v13 + 8) = v9;
  *v13 = a3;
  *(v13 + 32) = v11;
  *(v13 + 24) = a1;
  if (a7)
  {
    v15 = 15;
  }

  else
  {
    v15 = -15;
  }

  v16 = deflateInit2_(v13, a6, 8, v15, 8, 0, "1.2.5", 112);
  result = 0;
  if (!v16)
  {
    v18 = deflate(v14, 4);
    v19 = deflateEnd(v14);
    result = 0;
    if (!v19 && v18 == 1)
    {
      return &v14->next_out[-a1];
    }
  }

  return result;
}

uint64_t lzvn_stream_init(uint64_t a1, int a2, int a3, int a4)
{
  if (a2 == 1)
  {
    return lzvnStreamDecodeInit(a1, a3, a4);
  }

  if (a2)
  {
    return 0xFFFFFFFFLL;
  }

  return lzvnStreamEncodeInit(a1, a3, a4);
}

uint64_t lzvn_stream_process(uint64_t a1, char a2)
{
  v2 = **(a1 + 32);
  if (v2 == 1)
  {
    return lzvnStreamDecode(a1, a2);
  }

  if (v2)
  {
    return 0xFFFFFFFFLL;
  }

  return lzvnStreamEncode(a1, a2);
}

uint64_t lzvn_stream_end(uint64_t a1)
{
  free(*(a1 + 32));
  *(a1 + 32) = 0;
  return 0;
}

uint64_t lz24_decode_buffer(char *__dst, unint64_t a2, unsigned int *a3, uint64_t a4)
{
  result = 0;
  if (a4 >= 4 && ((a4 | a2) & 0x8000000000000000) == 0)
  {
    v6 = (a3 + 1);
    v7 = *a3;
    if (v7 > a2)
    {
      return 0;
    }

    if (v7)
    {
      v8 = a3 + a4;
      v9 = &__dst[a2];
      v10 = a3 + a4 - 34;
      v11 = &__dst[a2 - 62];
      v12 = __dst;
      while (1)
      {
        if (v7 >= 0x1000)
        {
          v13 = 4096;
        }

        else
        {
          v13 = v7;
        }

        if (v8 - v6 < 2 || v9 - v12 < v13)
        {
          return 0;
        }

        if (*v6)
        {
          break;
        }

        v23 = v6 + 2;
        if (v8 - (v6 + 2) < v13)
        {
          return 0;
        }

        memcpy(v12, v6 + 2, v13);
        v6 = &v23[v13];
LABEL_29:
        v12 += v13;
        LODWORD(v7) = v7 - v13;
        if (!v7)
        {
          return v12 - __dst;
        }
      }

      v14 = &v12[v13];
      if ((v9 - v12) >= 0x3F && (v8 - v6) >= 0x23)
      {
        if (v11 <= v14)
        {
          v15 = v11;
        }

        else
        {
          v15 = &v12[v13];
        }

        i = v12;
        while (1)
        {
          v17 = *v6;
          v18 = (v17 >> 10) & 0x3FFF;
          v19 = *(v6 + 19);
          *i = *(v6 + 3);
          *(i + 1) = v19;
          v20 = &i[v17 & 0x1F];
          if (v20 - __dst < v18)
          {
            return 0;
          }

          v6 += (v17 & 0x1F) + 3;
          v21 = *&v20[-v18 + 16];
          *v20 = *&v20[-v18];
          *(v20 + 1) = v21;
          i = &v20[(v17 >> 5) & 0x1F];
          if (v6 >= v10 || i >= v15)
          {
            if (i <= v14)
            {
              goto LABEL_32;
            }

            return 0;
          }
        }
      }

      for (i = v12; ; i = &v31[v26])
      {
LABEL_32:
        if (i >= v14)
        {
          goto LABEL_29;
        }

        if (v8 - v6 < 3)
        {
          return 0;
        }

        v24 = *v6;
        v25 = v24 & 0x1F;
        v26 = (v24 >> 5) & 0x1F;
        if (v14 - i < (v26 + (v24 & 0x1F)))
        {
          return 0;
        }

        v27 = v6 + 3;
        if (v8 - (v6 + 3) < v25)
        {
          return 0;
        }

        v28 = *(v6 + 1);
        v29 = (v6 + 3);
        v30 = i;
        if ((v24 & 0x10) != 0)
        {
          *i = *(v6 + 3);
          v30 = i + 16;
          v29 = (v6 + 19);
          if ((v24 & 8) == 0)
          {
LABEL_38:
            if ((v24 & 4) == 0)
            {
              goto LABEL_39;
            }

            goto LABEL_48;
          }
        }

        else if ((v24 & 8) == 0)
        {
          goto LABEL_38;
        }

        v34 = *v29++;
        *v30++ = v34;
        if ((v24 & 4) == 0)
        {
LABEL_39:
          if ((v24 & 2) == 0)
          {
            goto LABEL_40;
          }

          goto LABEL_49;
        }

LABEL_48:
        v35 = *v29;
        v29 = (v29 + 4);
        *v30 = v35;
        v30 = (v30 + 4);
        if ((v24 & 2) == 0)
        {
LABEL_40:
          if ((v24 & 1) == 0)
          {
            goto LABEL_42;
          }

LABEL_41:
          *v30 = *v29;
          goto LABEL_42;
        }

LABEL_49:
        v36 = *v29;
        v29 = (v29 + 2);
        *v30 = v36;
        v30 = (v30 + 2);
        if (v24)
        {
          goto LABEL_41;
        }

LABEL_42:
        v31 = &i[v25];
        if (v31 - __dst < (v28 >> 2))
        {
          return 0;
        }

        v32 = &v31[-(v28 >> 2)];
        if ((v24 & 0x200) != 0)
        {
          v37 = *v32++;
          *v31 = v37;
          v33 = v31 + 16;
          if ((v24 & 0x100) == 0)
          {
            goto LABEL_53;
          }

LABEL_52:
          v38 = *v32;
          v32 = (v32 + 8);
          *v33++ = v38;
          goto LABEL_53;
        }

        v33 = v31;
        if ((v24 & 0x100) != 0)
        {
          goto LABEL_52;
        }

LABEL_53:
        if ((v24 & 0x80) != 0)
        {
          v39 = *v32;
          v32 = (v32 + 4);
          *v33 = v39;
          v33 = (v33 + 4);
          if ((v24 & 0x40) == 0)
          {
LABEL_55:
            if ((v24 & 0x20) == 0)
            {
              goto LABEL_57;
            }

LABEL_56:
            *v33 = *v32;
            goto LABEL_57;
          }
        }

        else if ((v24 & 0x40) == 0)
        {
          goto LABEL_55;
        }

        v40 = *v32;
        v32 = (v32 + 2);
        *v33 = v40;
        v33 = (v33 + 2);
        if ((v24 & 0x20) != 0)
        {
          goto LABEL_56;
        }

LABEL_57:
        v6 = &v27[v25];
      }
    }

    v12 = __dst;
    return v12 - __dst;
  }

  return result;
}

_DWORD *BrotliInitEncoderDictionary(uint64_t a1)
{
  *a1 = BrotliGetDictionary();
  result = BrotliGetTransforms();
  v3 = result[6];
  *(a1 + 32) = &kStaticDictionaryHashLengths;
  *(a1 + 40) = &kStaticDictionaryBuckets;
  *(a1 + 48) = &kStaticDictionaryWords;
  *(a1 + 8) = v3;
  *(a1 + 12) = 10;
  *(a1 + 16) = 0x71B520ADA2D3200;
  *(a1 + 24) = &kStaticDictionaryHashWords;
  return result;
}

uint64_t BrotliInitBitReader(uint64_t result)
{
  *result = 0;
  *(result + 8) = 64;
  return result;
}

uint64_t BrotliWarmupBitReader(unint64_t *a1)
{
  if (*(a1 + 2) != 64)
  {
    return 1;
  }

  v1 = a1[3];
  if (v1)
  {
    v2 = *a1;
    *a1 >>= 8;
    v3 = a1[2];
    *(&v4 + 1) = *v3;
    *&v4 = v2;
    *a1 = v4 >> 8;
    *(a1 + 2) = 56;
    a1[2] = (v3 + 1);
    a1[3] = v1 - 1;
    return 1;
  }

  return 0;
}

uint64_t lzbitmap_decode(uint64_t a1, uint64_t a2, uint64_t a3, unsigned int a4, uint64_t a5, __n128 a6, int8x16_t a7)
{
  if (a4 < 4)
  {
    return 0;
  }

  v158 = v12;
  v159 = v11;
  v160 = v10;
  v161 = v9;
  v162 = v7;
  v163 = v8;
  if (*a3 != 16986 || *(a3 + 2) != 77)
  {
    return 0;
  }

  v16 = *(a3 + 3);
  v17 = v16 > 0xF || (v16 & 8) == 0;
  if (v17 || (v16 & 3) - 2 < 2)
  {
    return 0;
  }

  v18 = a5;
  v21 = (v16 & 3) != 0 ? 0x8000 : 0x4000;
  if (!a2)
  {
    return 0;
  }

  v22 = 0;
  v23 = (a5 + 4160);
  v147 = (v16 >> 2) & 1;
  v146 = v21 >> 4;
  v24 = ((v16 & 4) == 0) - 13;
  v25 = 4;
  v26 = 0uLL;
  v27.i64[0] = 0xF0F0F0F0F0F0F0FLL;
  v27.i64[1] = 0xF0F0F0F0F0F0F0FLL;
  v28 = xmmword_3A6920;
  v29 = xmmword_3A6930;
  v30 = xmmword_3A6940;
  v31.i64[0] = -1;
  v31.i64[1] = -1;
  v32 = 0uLL;
  while (1)
  {
    v33 = v25 + 6;
    if (v25 + 6 > a4)
    {
      return 0;
    }

    v34 = (a3 + v25);
    v35 = *v34 & 0xFFFFFF;
    v36 = *(v34 + 2);
    v37 = v36 >> 8;
    v38 = (v36 >> 8) + 6;
    if (v36 >> 8 > v21 || v35 > v38)
    {
      return 0;
    }

    v40 = v37 + v22;
    v41 = v37 + v22 >= a2 ? a2 : v40;
    if (v38 == v35)
    {
      break;
    }

    v25 += v35;
    if (v35 < 0x21 || v25 > a4)
    {
      return 0;
    }

    result = 0;
    v52 = *(v34 + 5);
    if (v52 < 0xF00)
    {
      return result;
    }

    v53 = v52 >> 8;
    v54 = v34[2] >> 8;
    if (*(v34 + 5) >> 8 > v34[2] >> 8)
    {
      return result;
    }

    v55 = *(v34 + 11) >> 8;
    if (v54 > *(v34 + 11) >> 8)
    {
      return result;
    }

    v56 = v35 - 17;
    v57 = (v56 - v55);
    if (v56 < v55)
    {
      return result;
    }

    v58 = 0;
    v59 = ((v41 - v22 + 63) >> 3) & 0x1FFFFFF8;
    v60 = (v34 + v53);
    do
    {
      v157 = v26;
      *(&v157 | v58 & 0xF) = 0;
      v26 = v157;
      v156 = v32;
      *(&v156 | v58 & 0xF) = v58;
      v32 = v156;
      ++v58;
    }

    while (v58 != 3);
    v61 = 0;
    v62 = (v34 + 15);
    v63 = v34 + v56;
    v64 = 3;
    do
    {
      v65 = *(v63 + (v61 >> 3)) >> (v61 & 6);
      v66 = (v65 >> 8) & 3;
      if (v66 == 3)
      {
        return 0;
      }

      v154 = v26;
      *(&v154 | v64 & 0xF) = v65;
      v26 = v154;
      v155 = v32;
      *(&v155 | v64 & 0xF) = v66;
      v32 = v155;
      ++v64;
      v61 += 10;
    }

    while (v24 + v64 != 3);
    if (!v147)
    {
      if (v57 > v146)
      {
        return 0;
      }

      v139 = v54;
      v140 = v56;
      v141 = v60;
      v142 = v40;
      v143 = v25;
      v151 = v155;
      v153 = v26;
      v144 = v24;
      v145 = v21;
      v149 = a2;
      if (v56 != v55)
      {
        v67 = 0;
        v68 = v34 + v55;
        v69 = v23;
        do
        {
          v70 = *&v68[v67];
          v164.val[0] = vandq_s8(v70, v27);
          v164.val[1] = vshrq_n_u8(v70, 4uLL);
          vst2q_s8(v69, v164);
          v69 += 32;
          v67 += 16;
        }

        while (v67 < v57);
      }

      lzbitmap_decode_rle_unsafe(v18, v59, v23);
      v59 = ((v41 - v22 + 63) >> 3) & 0x1FFFFFF8;
      LODWORD(v56) = v140;
      v27.i64[0] = 0xF0F0F0F0F0F0F0FLL;
      v27.i64[1] = 0xF0F0F0F0F0F0F0FLL;
      a2 = v149;
      v24 = v144;
      v21 = v145;
      v40 = v142;
      v25 = v143;
      v29 = xmmword_3A6930;
      v28 = xmmword_3A6920;
      v32 = v151;
      v26 = v153;
      v30 = xmmword_3A6940;
      v31.i64[0] = -1;
      v31.i64[1] = -1;
      v60 = v141;
      LODWORD(v54) = v139;
LABEL_55:
      v75 = (v34 + v54);
      if (v59)
      {
        v76 = 0;
        v77 = v18;
        v78 = (v34 + v54);
        do
        {
          if (v78 > v63)
          {
            return 0;
          }

          v79 = *v77;
          v80 = vpaddl_u32(vpaddl_u16(vpaddl_u8(vand_s8(vcgt_u8(0x303030303030303, *v77), 0x8040201008040201))));
          *v77 = vqtbl1_s8(v32, *v77);
          v71.i64[0] = *v78;
          v81 = vorr_s8(vqtbl1_s8(v71, lzbitmap_unpack_perm_table[v80]), vqtbl1_s8(v26, v79));
          v77[520] = v81;
          v81.i32[0] = v80;
          v82 = vcnt_s8(v81);
          v82.i16[0] = vaddlv_u8(v82);
          v78 = (v78 + v82.u32[0]);
          v76 += 8;
          ++v77;
        }

        while (v76 < v59);
      }

      goto LABEL_61;
    }

    if (v57 < v59 >> 1)
    {
      return 0;
    }

    if (v59)
    {
      v72 = 0;
      v73 = v34 + v55;
      v74 = v18;
      do
      {
        a6 = *&v73[v72];
        a7 = vandq_s8(a6, v27);
        v71 = vshrq_n_u8(a6, 4uLL);
        vst2q_s8(v74, *a7.i8);
        v74 += 32;
        v72 += 16;
      }

      while (v72 < v59 >> 1);
      goto LABEL_55;
    }

    v75 = (v34 + v54);
LABEL_61:
    v83 = 0;
    v84 = 8;
    if (v22 + 64 > v41 || v56 < 0x3F)
    {
      v85 = v60;
      goto LABEL_95;
    }

    v83 = 0;
    v85 = v60;
    do
    {
      v86 = *(v18 + v83);
      v87 = *&v23[v83];
      if (!*&v86)
      {
        if (v87)
        {
          if (*&v87 == -1)
          {
            a7 = *v62;
            a6 = v62[1];
            v123 = v62[3];
            v124 = a1 + v22;
            *(v124 + 32) = v62[2];
            *(v124 + 48) = v123;
            *v124 = a7;
            *(v124 + 16) = a6;
            v62 += 4;
            goto LABEL_66;
          }
        }

        else if (v22 >= v84)
        {
          v125 = (a1 + v22);
          *v125 = *(v125 - v84);
          v125[1] = *(v125 - v84 + 8);
          v125[2] = *(v125 - v84 + 16);
          v125[3] = *(v125 - v84 + 24);
          v125[4] = *(v125 - v84 + 32);
          v125[5] = *(v125 - v84 + 40);
          v125[6] = *(v125 - v84 + 48);
          v125[7] = *(v125 - v84 + 56);
          goto LABEL_66;
        }
      }

      a6.n128_u64[0] = *(v18 + v83);
      *a7.i8 = vshl_u8(v86, 0x604020006040200);
      v88 = vaddvq_s32(vqtbl2q_s8(*a6.n128_u64, v28));
      a7.i32[2] = 0;
      a7.i64[0] = *v85;
      v89 = (v85 + v88);
      v90.i32[2] = 0;
      v90.i64[0] = *v89;
      v85 = (v89 + BYTE1(v88));
      a7.i32[3] = v84;
      v91 = vqtbl1q_s8(a7, lzbitmap_unpack_dist_perm_table[BYTE2(v88)]);
      v90.i32[3] = v91.i32[3];
      v92 = lzbitmap_unpack_dist_perm_table[HIBYTE(v88)];
      v93 = vdupq_n_s32(v22);
      v94 = vaddq_s32(v93, v29);
      v95 = vqsubq_u32(v94, v91);
      v96 = vcnt_s8(v87);
      *v97.i8 = lzbitmap_unpack_perm_table[*&v23[v83]];
      v94.i32[0] = *&v23[v83];
      *v94.i8 = vcnt_s8(*v94.i8);
      v94.i16[0] = vaddlv_u8(*v94.i8);
      *v94.i8 = vdup_lane_s8(*v94.i8, 0);
      v97.u64[1] = vqadd_u8(lzbitmap_unpack_perm_table[v87.u8[1]], *v94.i8);
      *v98.i8 = lzbitmap_unpack_perm_table[v87.u8[2]];
      v94.i32[0] = v87.u8[2];
      *v94.i8 = vcnt_s8(*v94.i8);
      v94.i16[0] = vaddlv_u8(*v94.i8);
      v98.u64[1] = vqadd_u8(lzbitmap_unpack_perm_table[v87.u8[3]], vdup_lane_s8(*v94.i8, 0));
      *v94.i8 = lzbitmap_unpack_perm_table[v87.u8[5]];
      v99 = v87.u8[4];
      *v100.i8 = lzbitmap_unpack_perm_table[v87.u8[4]];
      v101 = *(lzbitmap_unpack_perm_table + ((*&v87 >> 53) & 0x7F8));
      v102 = v87.u8[6];
      *v91.i8 = lzbitmap_unpack_perm_table[v87.u8[6]];
      v103 = vadd_s16(v96, vrev16_s8(v96));
      v104 = (v62 + (v103.i8[0] & 0x1F));
      v105 = *v104;
      v106 = (v104 + (v103.i8[2] & 0x1F));
      v107 = *v106;
      v108 = (v106 + (v103.i8[4] & 0x1F));
      v109 = *v108;
      v110 = vqtbl1q_s8(*v62, v97);
      v111 = vceqq_s8(v97, v31);
      v112 = (a1 + v22);
      *v112 = vorr_s8(vand_s8(*(a1 + v95.u32[0]), *v111.i8), *v110.i8);
      *v95.i8 = vorr_s8(vand_s8(*(a1 + v95.u32[1]), *&vextq_s8(v111, v111, 8uLL)), *&vextq_s8(v110, v110, 8uLL));
      v113 = vqtbl1q_s8(v105, v98);
      v112[1] = *v95.i8;
      v114 = vceqq_s8(v98, v31);
      v112[2] = vorr_s8(vand_s8(*(a1 + v95.u32[2]), *v114.i8), *v113.i8);
      v115 = vqtbl1q_s8(v90, v92);
      v116 = vqsubq_u32(vaddq_s32(v93, v30), v115);
      v95.i64[0] = vextq_s8(v113, v113, 8uLL).u64[0];
      *v92.i8 = vorr_s8(vand_s8(*(a1 + v95.u32[3]), *&vextq_s8(v114, v114, 8uLL)), *v95.i8);
      v95.i32[0] = v99;
      v112[3] = *v92.i8;
      v117 = v116.u32[3];
      v92.i64[0] = *(a1 + v116.u32[0]);
      v116.i32[0] = v102;
      *v95.i8 = vcnt_s8(*v95.i8);
      v95.i16[0] = vaddlv_u8(*v95.i8);
      v100.u64[1] = vqadd_u8(*v94.i8, vdup_lane_s8(*v95.i8, 0));
      v118 = vqtbl1q_s8(v107, v100);
      v119 = vceqq_s8(v100, v31);
      v112[4] = vorr_s8(vand_s8(*v92.i8, *v119.i8), *v118.i8);
      v84 = v115.u32[3];
      *v115.i8 = vcnt_s8(*v116.i8);
      v115.i16[0] = vaddlv_u8(*v115.i8);
      v91.u64[1] = vqadd_u8(v101, vdup_lane_s8(*v115.i8, 0));
      a6 = vextq_s8(v119, v119, 8uLL);
      v112[5] = vorr_s8(vand_s8(*(a1 + v116.u32[1]), a6.n128_u64[0]), *&vextq_s8(v118, v118, 8uLL));
      a6.n128_u64[0] = *(a1 + v116.u32[2]);
      v120 = vqtbl1q_s8(v109, v91);
      v121 = vceqq_s8(v91, v31);
      v112[6] = vorr_s8(vand_s8(a6.n128_u64[0], *v121.i8), *v120.i8);
      v62 = &v108->i8[v103.i8[6] & 0x1F];
      a7 = vextq_s8(v120, v120, 8uLL);
      v112[7] = vorr_s8(vand_s8(*(a1 + v117), *&vextq_s8(v121, v121, 8uLL)), *a7.i8);
LABEL_66:
      v83 += 8;
      v122 = v22 + 128;
      v22 = (v22 + 64);
    }

    while (v122 <= v41 && v85 <= v63 && v62[3].n128_u64 <= v63);
LABEL_95:
    while (v22 < v41)
    {
      result = 0;
      if (v85 > v63 || v62 > v63)
      {
        return result;
      }

      v126 = *(v18 + v83);
      if (v126 == 2)
      {
        v128 = *v85;
        v85 = (v85 + 2);
        v84 = v128;
      }

      else if (v126 == 1)
      {
        v127 = *v85;
        v85 = (v85 + 1);
        v84 = v127;
      }

      v129 = v22 - v84;
      if (v22 < v84 && v23[v83] != 255)
      {
        return 0;
      }

      if (v22 < v41)
      {
        v130 = (a1 + v22);
        v131 = v22 + 1;
        v132 = 1;
        do
        {
          v133 = v23[v83];
          v134 = (v132 & v133) == 0;
          if ((v132 & v133) != 0)
          {
            v135 = v62;
          }

          else
          {
            v135 = (a1 + v129);
          }

          if (!v134)
          {
            v62 = (v62 + 1);
          }

          *v130++ = v135->n128_u8[0];
          v22 = (v22 + 1);
          if (v132 > 0x7F)
          {
            break;
          }

          v132 *= 2;
          ++v129;
        }

        while (v131++ < v41);
      }

      ++v83;
    }

    if (v40 > a2)
    {
      if (v62 <= v60 && v85 <= v75)
      {
        goto LABEL_30;
      }

      return 0;
    }

    if (v62 != v60 || v85 != v75)
    {
      return 0;
    }

LABEL_30:
    result = v22;
    if (v22 >= a2)
    {
      return result;
    }
  }

  if (v36 >= 0x100)
  {
    v42 = (v41 - v22);
    if (v42 + v33 <= a4)
    {
      v43 = (a1 + v22);
      v44 = a2;
      v45 = v21;
      v46 = v24;
      v148 = v41;
      v47 = v18;
      v48 = v23;
      v49 = v25;
      v150 = v32;
      v152 = v26;
      memcpy(v43, (a3 + v33), v42);
      v32 = v150;
      v26 = v152;
      v31.i64[0] = -1;
      v31.i64[1] = -1;
      v30 = xmmword_3A6940;
      v29 = xmmword_3A6930;
      v28 = xmmword_3A6920;
      v27.i64[0] = 0xF0F0F0F0F0F0F0FLL;
      v27.i64[1] = 0xF0F0F0F0F0F0F0FLL;
      v50 = v49;
      v23 = v48;
      v18 = v47;
      v24 = v46;
      v21 = v45;
      a2 = v44;
      v25 = v35 + v50;
      v22 = v148;
      goto LABEL_30;
    }

    return 0;
  }

  return v22;
}

uint64_t lzvnEncodeInitState(uint64_t result, int a2, uint64_t a3)
{
  v3 = 0;
  v4 = *(result + 8);
  if (v4 <= -65535)
  {
    v4 = -65535;
  }

  v5 = (*result + v4);
  v6 = vld1q_dup_f32(v5);
  if (a2 == 2305)
  {
    v7 = 11;
  }

  else
  {
    v7 = 14;
  }

  *(result + 72) = v7;
  *(result + 128) = a3;
  v8 = vdupq_n_s32(v4);
  v9 = 1;
  do
  {
    v10 = (*(result + 128) + v3);
    *v10 = v8;
    v10[1] = v6;
    LODWORD(v10) = v9 >> v7;
    v3 += 32;
    ++v9;
  }

  while (!v10);
  return result;
}

unint64_t lzvnEncode(unint64_t result, int8x16_t a2)
{
  v2 = *(result + 24);
  if (v2 < *(result + 32))
  {
    v3 = result;
    do
    {
      v4 = *v3;
      v5 = *(*v3 + v2);
      v6 = (-1640531535 * (v5 & 0xFFFFFF)) >> -*(v3 + 72);
      v7 = (*(v3 + 128) + 32 * v6);
      v9 = *v7;
      v8 = v7[1];
      v10 = *(v3 + 40);
      if (v2 >= v10)
      {
        a2 = veorq_s8(v8, vdupq_n_s32(v5));
        v11 = __clz(__rbit64(a2.u32[0])) >> 3;
        if (a2.i32[0])
        {
          v12 = v11;
        }

        else
        {
          v12 = 4;
        }

        v13 = *(v3 + 8);
        v14 = *(v3 + 16);
        if (v12 >= 3 && (v15 = v2 - v9.i32[0], (v15 - 0x10000) >= 0xFFFFFFFFFFFF0001))
        {
          for (i = v2 + v12; ; i += v12)
          {
            v22 = v12 == 4 && i + 4 < v14;
            if (!v22)
            {
              break;
            }

            v23 = *(v4 + i);
            v24 = *(v4 + i - v15);
            result = __clz(__rbit64(v24 ^ v23)) >> 3;
            if (v23 == v24)
            {
              v12 = 4;
            }

            else
            {
              v12 = result;
            }
          }

          v25 = v2;
          if (v2 > v10)
          {
            v25 = v2;
            if (v13 < v9.i32[0])
            {
              v26 = v9.i32[0] - 1;
              v27 = v2 - 1;
              while (1)
              {
                result = *(v4 + v26);
                if (*(v4 + v27) != result)
                {
                  break;
                }

                v28 = v27 - 1;
                if (v26 > v13)
                {
                  --v26;
                  v22 = v27-- <= v10;
                  if (!v22)
                  {
                    continue;
                  }
                }

                v25 = v28 + 1;
                goto LABEL_29;
              }

              v25 = v27 + 1;
            }
          }

LABEL_29:
          v29 = -3;
          if (v15 < 1536)
          {
            v29 = -2;
          }

          v30 = i - v25 + v29;
          if (v30 > 0 || (v16 = 0, v17 = 0, v18 = 0, v19 = 0, v20 = 0, !v30) && i >= 2)
          {
            v16 = v25;
            v17 = i;
            v18 = i - v25;
            v19 = v2 - v9.i32[0];
            v20 = v30;
          }
        }

        else
        {
          v16 = 0;
          v17 = 0;
          v18 = 0;
          v19 = 0;
          v20 = 0;
        }

        v31 = __clz(__rbit64(a2.u32[1])) >> 3;
        if (a2.i32[1])
        {
          v32 = v31;
        }

        else
        {
          v32 = 4;
        }

        if (v32 >= 3)
        {
          v33 = v2 - v9.i32[1];
          if ((v33 - 0x10000) >= 0xFFFFFFFFFFFF0001)
          {
            for (j = v2 + v32; v32 == 4 && j + 4 < v14; j += v32)
            {
              v36 = *(v4 + j);
              v37 = *(v4 + j - v33);
              result = __clz(__rbit64(v37 ^ v36)) >> 3;
              if (v36 == v37)
              {
                v32 = 4;
              }

              else
              {
                v32 = result;
              }
            }

            v38 = v2;
            if (v2 > v10)
            {
              v38 = v2;
              if (v13 < v9.i32[1])
              {
                v39 = v9.i32[1] - 1;
                v40 = v2 - 1;
                while (1)
                {
                  result = *(v4 + v39);
                  if (*(v4 + v40) != result)
                  {
                    break;
                  }

                  v41 = v40 - 1;
                  if (v39 > v13)
                  {
                    --v39;
                    v22 = v40-- <= v10;
                    if (!v22)
                    {
                      continue;
                    }
                  }

                  v38 = v41 + 1;
                  goto LABEL_59;
                }

                v38 = v40 + 1;
              }
            }

LABEL_59:
            v42 = -3;
            if (v33 < 1536)
            {
              v42 = -2;
            }

            v43 = j - v38 + v42;
            if (v43 > v20 || v43 == v20 && (result = v17 + 1, j > v17 + 1))
            {
              v16 = v38;
              v17 = j;
              v18 = j - v38;
              v19 = v2 - v9.i32[1];
              v20 = v43;
            }
          }
        }

        v44 = __clz(__rbit64(a2.u32[2])) >> 3;
        if (a2.i32[2])
        {
          v45 = v44;
        }

        else
        {
          v45 = 4;
        }

        if (v45 >= 3)
        {
          v46 = v2 - v9.i32[2];
          if ((v46 - 0x10000) >= 0xFFFFFFFFFFFF0001)
          {
            for (k = v2 + v45; v45 == 4 && k + 4 < v14; k += v45)
            {
              v49 = *(v4 + k);
              v50 = *(v4 + k - v46);
              result = __clz(__rbit64(v50 ^ v49)) >> 3;
              if (v49 == v50)
              {
                v45 = 4;
              }

              else
              {
                v45 = result;
              }
            }

            v51 = v2;
            if (v2 > v10)
            {
              v51 = v2;
              if (v13 < v9.i32[2])
              {
                v52 = v9.i32[2] - 1;
                v53 = v2 - 1;
                while (1)
                {
                  result = *(v4 + v52);
                  if (*(v4 + v53) != result)
                  {
                    break;
                  }

                  v54 = v53 - 1;
                  if (v52 > v13)
                  {
                    --v52;
                    v22 = v53-- <= v10;
                    if (!v22)
                    {
                      continue;
                    }
                  }

                  v51 = v54 + 1;
                  goto LABEL_89;
                }

                v51 = v53 + 1;
              }
            }

LABEL_89:
            v55 = -3;
            if (v46 < 1536)
            {
              v55 = -2;
            }

            v56 = k - v51 + v55;
            if (v56 > v20 || v56 == v20 && (result = v17 + 1, k > v17 + 1))
            {
              v16 = v51;
              v17 = k;
              v18 = k - v51;
              v19 = v2 - v9.i32[2];
              v20 = v56;
            }
          }
        }

        v57 = __clz(__rbit64(a2.u32[3])) >> 3;
        if (a2.i32[3])
        {
          v58 = v57;
        }

        else
        {
          v58 = 4;
        }

        if (v58 >= 3)
        {
          v59 = v2 - v9.i32[3];
          if ((v59 - 0x10000) >= 0xFFFFFFFFFFFF0001)
          {
            for (m = v2 + v58; v58 == 4 && m + 4 < v14; m += v58)
            {
              v62 = *(v4 + m);
              v63 = *(v4 + m - v59);
              result = __clz(__rbit64(v63 ^ v62)) >> 3;
              if (v62 == v63)
              {
                v58 = 4;
              }

              else
              {
                v58 = result;
              }
            }

            v64 = v2;
            if (v2 > v10)
            {
              v64 = v2;
              if (v13 < v9.i32[3])
              {
                v65 = v9.i32[3] - 1;
                v66 = v2 - 1;
                while (1)
                {
                  result = *(v4 + v65);
                  if (*(v4 + v66) != result)
                  {
                    break;
                  }

                  v67 = v66 - 1;
                  if (v65 > v13)
                  {
                    --v65;
                    v22 = v66-- <= v10;
                    if (!v22)
                    {
                      continue;
                    }
                  }

                  v64 = v67 + 1;
                  goto LABEL_119;
                }

                v64 = v66 + 1;
              }
            }

LABEL_119:
            v68 = -3;
            if (v59 < 1536)
            {
              v68 = -2;
            }

            v69 = m - v64 + v68;
            if (v69 > v20 || v69 == v20 && (result = v17 + 1, m > v17 + 1))
            {
              v16 = v64;
              v17 = m;
              v18 = m - v64;
              v19 = v2 - v9.i32[3];
              v20 = v69;
            }
          }
        }

        v70 = *(v3 + 120);
        if (v70)
        {
          v71 = *(v4 + v2 - v70);
          v72 = __clz(__rbit64(v71 ^ v5)) >> 3;
          if (v5 == v71)
          {
            v72 = 4;
          }

          if ((v70 - 0x10000) >= 0xFFFFFFFFFFFF0001 && v72 >= 3)
          {
            v73 = v2 + v72;
            v74 = v73 + 4;
            for (n = v72 == 4; n && v74 < v14; n = v79 == 4)
            {
              v77 = *(v4 + v73);
              v78 = *(v4 + v73 - v70);
              result = __clz(__rbit64(v78 ^ v77)) >> 3;
              if (v77 == v78)
              {
                v79 = 4;
              }

              else
              {
                v79 = result;
              }

              v73 += v79;
              v74 = v73 + 4;
            }

            v80 = v2;
            if (v2 > v10)
            {
              v80 = v2;
              if (v2 - v70 > v13)
              {
                v81 = v2 - 1;
                v82 = v2 - 1 - v70;
                while (*(v4 + v81) == *(v4 + v82))
                {
                  v83 = v81 - 1;
                  if (v82 > v13)
                  {
                    --v82;
                    v22 = v81-- <= v10;
                    if (!v22)
                    {
                      continue;
                    }
                  }

                  v80 = v83 + 1;
                  goto LABEL_149;
                }

                v80 = v81 + 1;
              }
            }

LABEL_149:
            v84 = v73 - v80 - 1;
            if (v84 > v20 || v84 == v20 && v73 > v17 + 1)
            {
              v16 = v80;
              v17 = v73;
              v18 = v73 - v80;
              v19 = *(v3 + 120);
              v20 = v73 - v80 - 1;
            }
          }
        }

        if (v18)
        {
          if (!*(v3 + 96))
          {
            goto LABEL_165;
          }

          v94 = v9;
          v97 = v8;
          if (*(v3 + 88) <= v16)
          {
            v87 = *(v3 + 96);
            v100 = *(v3 + 80);
            v101 = v87;
            v102 = *(v3 + 112);
            result = emitMatch(v3, &v100);
            v9 = v94;
            v8 = v97;
            if (!result)
            {
              return result;
            }

LABEL_165:
            *(v3 + 80) = v16;
            *(v3 + 88) = v17;
            *(v3 + 96) = v18;
            *(v3 + 104) = v19;
            *(v3 + 112) = v20;
            goto LABEL_166;
          }

          if (v20 > *(v3 + 112))
          {
            *(v3 + 80) = v16;
            *(v3 + 88) = v17;
            *(v3 + 96) = v18;
            *(v3 + 104) = v19;
            *(v3 + 112) = v20;
          }

          v85 = *(v3 + 96);
          v100 = *(v3 + 80);
          v101 = v85;
          v102 = *(v3 + 112);
          result = emitMatch(v3, &v100);
          v9 = v94;
          v8 = v97;
          if (!result)
          {
            return result;
          }

          goto LABEL_163;
        }

        if (v2 - v10 >= 400)
        {
          if (*(v3 + 96))
          {
            v95 = v9;
            v98 = v8;
            v86 = *(v3 + 96);
            v100 = *(v3 + 80);
            v101 = v86;
            v102 = *(v3 + 112);
            result = emitMatch(v3, &v100);
            v9 = v95;
            v8 = v98;
            if (!result)
            {
              return result;
            }

LABEL_163:
            *(v3 + 112) = 0;
            a2 = 0uLL;
            *(v3 + 80) = 0u;
            *(v3 + 96) = 0u;
            goto LABEL_166;
          }

          v91 = *(v3 + 48);
          v92 = *(v3 + 64);
          if (v91 + 281 < v92)
          {
            *v91 = -32;
            v96 = v9;
            v99 = v8;
            result = memcpy(v91 + 1, (v4 + v10), 0x10FuLL);
            v9 = v96;
            v8 = v99;
            v92 = v91 + 273;
          }

          if (v92 >= *(v3 + 64))
          {
            return result;
          }

          v93 = *(v3 + 48);
          *(v3 + 40) += 271;
          *(v3 + 48) = v92;
          if (v92 == v93)
          {
            return result;
          }
        }
      }

LABEL_166:
      a2 = vextq_s8(a2, v9, 0xCuLL);
      a2.i32[0] = v2;
      v88 = vextq_s8(a2, v8, 0xCuLL);
      v88.i32[0] = v5;
      v89 = *(v3 + 128) + 32 * v6;
      *v89 = a2;
      *(v89 + 16) = v88;
      v90 = *(v3 + 32);
      v2 = *(v3 + 24) + 1;
      *(v3 + 24) = v2;
    }

    while (v2 < v90);
  }

  return result;
}

unint64_t emitMatch(void *a1, void *a2)
{
  v4 = a1[5];
  v5 = a1[6];
  v6 = *a2 - v4;
  v7 = a2[2];
  v8 = a2[3];
  v25 = a1[15];
  v9 = (*a1 + v4);
  v10 = a1[8];
  if (v6 < 0x10)
  {
LABEL_7:
    if (v6 >= 4)
    {
      if (&v5[v6 + 10] >= v10)
      {
        goto LABEL_39;
      }

      *v5 = v6 | 0xE0;
      v13 = v5 + 1;
      memcpy(v13, v9, ((v6 - 1) & 0xFFFFFFFFFFFFFFF8) + 8);
      v5 = &v13[v6];
      v9 = (v9 + v6);
      v6 = 0;
    }

    if (10 - 2 * v6 >= v7)
    {
      v14 = v7;
    }

    else
    {
      v14 = 10 - 2 * v6;
    }

    if ((v5 + 8) < v10)
    {
      v15 = v7 - v14;
      v16 = v14 - 3;
      v17 = *v9;
      if (v8 == v25)
      {
        v18 = (v6 << 6) + 8 * v16;
        if (v6)
        {
          v19 = 6;
        }

        else
        {
          v19 = -16;
        }

        if (!v6)
        {
          v18 = v14;
        }

        *v5 = v19 | v18;
        v20 = v5 + 1;
      }

      else if (v8 > 0x5FF)
      {
        if (v7 <= 0x22 && !(v8 >> 14) && v15)
        {
          *v5 = ((v7 - 3) >> 2) + 8 * v6 - 96;
          *(v5 + 1) = (v7 - 3) & 3 | (4 * v8);
          *(v5 + 3) = v17;
          v10 = &v5[v6 + 3];
          goto LABEL_39;
        }

        *v5 = ((v6 << 6) + 8 * v16) | 7;
        *(v5 + 1) = v8;
        v20 = v5 + 3;
      }

      else
      {
        *v5 = ((v6 << 6) | BYTE1(v8)) + 8 * v16;
        v5[1] = v8;
        v20 = v5 + 2;
      }

      *v20 = v17;
      v21 = (v20 + v6);
      if (v15 < 0x10)
      {
        v22 = v20 + v6;
        if (v15)
        {
LABEL_35:
          if ((v22 + 1) < v10)
          {
            *v22 = v15 | 0xF0;
            v10 = (v22 + 1);
          }
        }

        else
        {
LABEL_38:
          v10 = v22;
        }
      }

      else
      {
        while (1)
        {
          v22 = v21 + 1;
          if ((v21 + 1) >= v10)
          {
            break;
          }

          if (v15 >= 0x10F)
          {
            v23 = 271;
          }

          else
          {
            v23 = v15;
          }

          *v21 = (v23 << 8) - 3856;
          v15 -= v23;
          ++v21;
          if (v15 <= 0xF)
          {
            if (!v15)
            {
              goto LABEL_38;
            }

            goto LABEL_35;
          }
        }
      }
    }
  }

  else
  {
    while (1)
    {
      v11 = v6 >= 0x10F ? 271 : v6;
      if (&v5[v11 + 10] >= v10)
      {
        break;
      }

      *v5 = (v11 << 8) - 3872;
      v12 = v5 + 2;
      v6 -= v11;
      memcpy(v12, v9, ((v11 - 1) & 0xFFFFFFFFFFFFFFF8) + 8);
      v5 = &v12[v11];
      v9 = (v9 + v11);
      if (v6 <= 0xF)
      {
        goto LABEL_7;
      }
    }
  }

LABEL_39:
  if (v10 >= a1[8])
  {
    return 0;
  }

  result = v10 - a1[6];
  a1[15] = a2[3];
  a1[5] = a2[1];
  a1[6] = v10;
  return result;
}

uint64_t lzvn_encode_scratch_size(int a1)
{
  if (a1 == 2305)
  {
    return 0x10000;
  }

  else
  {
    return 0x80000;
  }
}

char *lzvn_encode_buffer(char *a1, unint64_t a2, const float *a3, unint64_t a4, int8x16_t *a5, int a6)
{
  v8 = 0;
  result = lzvn_encode_partial(a1, a2, a3, a4, &v8, a5, a6);
  if (v8 != a4)
  {
    return 0;
  }

  return result;
}

char *lzvn_encode_partial(char *a1, unint64_t a2, const float *a3, unint64_t a4, uint64_t *a5, int8x16_t *a6, int a7)
{
  if (a2 < 8 || a4 <= 7)
  {
    result = 0;
    *a5 = 0;
    return result;
  }

  v34 = 0u;
  v35 = 0u;
  v8 = 0xFFFFFFFFLL;
  v36 = 0u;
  if (a4 < 0xFFFFFFFF)
  {
    v8 = a4;
  }

  v26[0] = a3;
  v26[1] = 0;
  v27 = v8;
  v28 = 0;
  v29 = v8 - 8;
  v30 = 0;
  v31 = a1;
  v32 = a1;
  v25 = &a1[a2];
  v33 = &a1[a2 - 8];
  if (a7 == 2305)
  {
    v9 = 11;
  }

  else
  {
    v9 = 14;
  }

  LODWORD(v34) = v9;
  v37 = 0;
  v38 = a6;
  v10 = a6 + 1;
  v11 = 1;
  v12 = vld1q_dup_f32(a3);
  do
  {
    v10[-1].i64[0] = 0;
    v10[-1].i64[1] = 0;
    v13 = v11++ >> v9;
    *v10 = v12;
    v10 += 2;
  }

  while (!v13);
  lzvnEncode(v26, v12);
  v14 = v27;
  v15 = v30;
  v16 = v31;
  v17 = v27 - v30;
  v18 = (v26[0] + v30);
  v19 = v33;
  if ((v27 - v30) >= 0x10)
  {
    v20 = v31;
    while (1)
    {
      v21 = v17 >= 0x10F ? 271 : v17;
      if (&v20[v21 + 10] >= v19)
      {
        goto LABEL_25;
      }

      *v20 = (v21 << 8) - 3872;
      v22 = v20 + 2;
      v17 -= v21;
      memcpy(v22, v18, v21);
      v20 = &v22[v21];
      v18 += v21;
      if (v17 <= 0xF)
      {
        if (v17)
        {
          goto LABEL_21;
        }

        goto LABEL_23;
      }
    }
  }

  v20 = v31;
  if (!v17)
  {
    goto LABEL_23;
  }

LABEL_21:
  if (&v20[v17 + 10] < v19)
  {
    *v20 = v17 | 0xE0;
    v24 = v20 + 1;
    memcpy(v24, v18, v17);
    v20 = &v24[v17];
LABEL_23:
    if (v20 < v19)
    {
      v15 = v14;
      v16 = v20;
    }
  }

LABEL_25:
  if (v25 >= (v16 + 8))
  {
    *v16 = 6;
    v16 += 8;
  }

  *a5 = v15;
  return (v16 - v32);
}

uint64_t smb_lznt1_decode_buffer(char *__dst, unint64_t a2, char *__src, uint64_t a4)
{
  v5 = a2;
  v6 = __dst;
  v7 = 0;
  v8 = 15;
  if (a2 > 0xF)
  {
    v8 = a2;
  }

  v9 = &__dst[v8 - 15];
  if (a4)
  {
    while (a4 != 1)
    {
      v12 = *__src;
      v11 = __src + 2;
      v10 = v12;
      if (!v12)
      {
        return v7;
      }

      if ((v10 & 0x7000) != 0x3000 || (v7 & 0xFFF) != 0)
      {
        break;
      }

      v14 = a4 - 2;
      v15 = (v10 & 0xFFF) + 1;
      if (a4 - 2 < v15)
      {
        break;
      }

      if (v10 < 0)
      {
        v16 = 0;
        v17 = 0;
        do
        {
          v18 = v11[v17];
          v19 = v17 + 9;
          ++v17;
          if (v18)
          {
            v20 = 1;
          }

          else
          {
            v20 = v19 > v15;
          }

          if (v20 || v16 + 8 > v5)
          {
            if (v17 < v15)
            {
              v22 = 1;
              while (1)
              {
                if (v18)
                {
                  v24 = v17 + 2;
                  if (v17 + 2 > v15)
                  {
                    return 0;
                  }

                  v25 = *&v11[v17];
                  v26 = __clz((v16 - 1) & 0xFFF | 8) - 16;
                  v27 = v25 >> v26;
                  v28 = (v25 >> v26) + 1;
                  if (v16 < v28)
                  {
                    return 0;
                  }

                  v29 = (v25 & ~(-1 << v26)) + 3;
                  v30 = &v6[v16];
                  v31 = &v6[v16 + v29];
                  if (v27 < 0xF || v31 > v9)
                  {
                    if (v5 - v16 < v29)
                    {
                      return 0;
                    }

                    v33 = -v28;
                    do
                    {
                      *v30 = v30[v33];
                      ++v30;
                    }

                    while (v30 < v31);
                  }

                  else
                  {
                    v32 = -v28;
                    do
                    {
                      *v30 = *&v30[v32];
                      v30 += 16;
                    }

                    while (v30 < v31);
                  }

                  v16 += v29;
                  v17 = v24;
                }

                else
                {
                  if (v5 <= v16)
                  {
                    return 0;
                  }

                  v23 = v11[v17++];
                  v6[v16++] = v23;
                }

                if (v22 <= 7)
                {
                  v18 >>= 1;
                  ++v22;
                  if (v17 < v15)
                  {
                    continue;
                  }
                }

                break;
              }
            }
          }

          else
          {
            *&v6[v16] = *&v11[v17];
            v17 = v19;
            v16 += 8;
          }
        }

        while (v17 < v15);
      }

      else
      {
        if (v5 < v15)
        {
          return 0;
        }

        memcpy(v6, v11, (v10 & 0xFFF) + 1);
        v16 = v15;
        v17 = v15;
      }

      v6 += v16;
      v5 -= v16;
      __src = &v11[v17];
      a4 = v14 - v17;
      v7 += v16;
      if (v14 == v17)
      {
        return v7;
      }
    }

    return 0;
  }

  return v7;
}

uint64_t smb_lznt1_encode_buffer(_WORD *a1, unint64_t a2, _BYTE *a3, unint64_t a4, void *a5)
{
  bzero(a5, 0x8000uLL);
  v10 = 0;
  if (!a4)
  {
    goto LABEL_63;
  }

  do
  {
    if (a4 >= 0x1000)
    {
      v11 = 4096;
    }

    else
    {
      v11 = a4;
    }

    if (a2 < 3)
    {
      return 0;
    }

    v12 = 0;
    v13 = v11 + 7;
    if (a4 < v11 + 7)
    {
      v13 = a4;
    }

    if (v13 <= 7)
    {
      v13 = 7;
    }

    v14 = v13 - 7;
    v15 = 2;
    v16 = 0x10000;
    v17 = 3;
    while (a2 >= v17 + 3)
    {
      if (v16 <= 0x1FF)
      {
        *(a1 + v15) = v16;
        v15 = v17++;
        v16 = 0x10000;
      }

      v16 >>= 1;
      if (a4 < v12 + 4)
      {
        v18 = a3[v12++];
        *(a1 + v17++) = v18;
        goto LABEL_54;
      }

      v19 = &a3[v12];
      v20 = *v19;
      v21 = *v19 >> 8;
      v22 = (-1640531535 * (*v19 & 0xFFFFFFu)) >> 19;
      v23 = (-1640531535 * v21) >> 19;
      v24 = *(a5 + v22);
      v25 = *(a5 + v23);
      v26 = v24 & 0xFFF;
      v27 = *v19 & 0xFFFFF;
      *(a5 + v22) = v12 + (*v19 << 12);
      if (v27 != v24 >> 12 || v26 >= v12 || v12 >= v14)
      {
        LODWORD(v30) = 0;
      }

      else
      {
        v30 = 0;
        v31 = 0;
        while (1)
        {
          v32 = *&v19[v30];
          v30 = *&a3[v26 + v30];
          if (v32 != v30)
          {
            break;
          }

          v31 += 8;
          v30 = v31;
          if (v31 + v12 >= v14)
          {
            goto LABEL_29;
          }
        }

        LODWORD(v30) = v31 + (__clz(__rbit64(v30 ^ v32)) >> 3);
      }

LABEL_29:
      if (((v20 >> 8) & 0xFFFFF) != v25 >> 12)
      {
        goto LABEL_47;
      }

      v33 = v25 & 0xFFF;
      if (v33 > v12)
      {
        goto LABEL_47;
      }

      v34 = v12 + 1;
      if (v34 >= v14)
      {
        LODWORD(v35) = 0;
LABEL_37:
        if (v33)
        {
LABEL_40:
          v38 = v33 - 1;
          if (*v19 == a3[v38] && v30 <= v35)
          {
            LODWORD(v30) = v35 + 1;
            LOWORD(v26) = v38;
LABEL_47:
            if (v30 >= v11 - v12)
            {
              LODWORD(v30) = v11 - v12;
            }

            if (v30 > 2)
            {
              *(a5 + v23) = v12 + 1 + (v21 << 12);
              v40 = __clz((v12 - 1) & 0xFFF | 8) - 16;
              v41 = (1 << v40) + 2;
              if (v30 < v41)
              {
                v41 = v30;
              }

              *(a1 + v17) = ((v12 + ~v26) << v40) - 3 + v41;
              v17 += 2;
              v12 += v41;
              v16 |= 0x80u;
            }

            else
            {
              *(a1 + v17++) = *v19;
              ++v12;
            }

            goto LABEL_54;
          }
        }
      }

      else
      {
        v35 = 0;
        v36 = 0;
        while (1)
        {
          v37 = *&a3[v34 + v35];
          v35 = *&a3[v33 + v35];
          if (v37 != v35)
          {
            break;
          }

          v36 += 8;
          v35 = v36;
          if (v36 + v34 >= v14)
          {
            goto LABEL_37;
          }
        }

        LODWORD(v35) = v36 + (__clz(__rbit64(v35 ^ v37)) >> 3);
        if (v33)
        {
          goto LABEL_40;
        }
      }

      if (v30 >= v35)
      {
        goto LABEL_47;
      }

      *(a1 + v17++) = *v19;
      ++v12;
LABEL_54:
      if (v12 >= v11)
      {
        goto LABEL_57;
      }
    }

    v17 = -1;
    do
    {
LABEL_57:
      v42 = v16;
      v16 >>= 1;
    }

    while (v42 > 0x1FF);
    *(a1 + v15) = v42;
    v43 = (v11 + 2);
    if (v17 < v43)
    {
      *a1 = (v17 + 32765) | 0xB000;
      v43 = v17;
      goto LABEL_62;
    }

    if (a2 < v43)
    {
      return 0;
    }

    *a1 = (v11 - 1) | 0x3000;
    memcpy(a1 + 1, a3, v11);
LABEL_62:
    a3 += v11;
    a1 = (a1 + v43);
    a2 -= v43;
    v10 += v43;
    a4 -= v11;
  }

  while (a4);
LABEL_63:
  if (a2 >= 2)
  {
    *a1 = 0;
    v10 += 2;
  }

  return v10;
}

uLong adler32(uLong adler, const Bytef *buf, uInt len)
{
  v5 = WORD1(adler);
  adler = adler;
  if (len == 1)
  {
    v6 = adler + *buf;
    if (v6 > 0xFFF0)
    {
      v6 -= 65521;
    }

    if (v6 + v5 <= 0xFFF0)
    {
      v7 = (v6 + v5) << 16;
    }

    else
    {
      v7 = ((v6 + v5) << 16) - 4293984256u;
    }

    return v7 | v6;
  }

  else if (buf)
  {
    if (len >= 16)
    {
      if ((buf & 0xF) != 0)
      {
        v11 = buf + 1;
        v12 = buf;
        do
        {
          --len;
          v13 = *v12++;
          v14 = adler + v13;
          if (v14 <= 0xFFF0)
          {
            adler = v14;
          }

          else
          {
            adler = v14 - 65521;
          }

          v5 = (v14 + v5) % 0xFFF1;
        }

        while ((v11++ & 0xF) != 0);
        buf = &buf[-(buf & 0xF) + 16];
      }

      return adler32_vec(adler, v5, buf, len);
    }

    else
    {
      for (; len; --len)
      {
        v9 = *buf++;
        adler += v9;
        v5 += adler;
      }

      v10 = adler - 65521;
      if (adler <= 0xFFF0)
      {
        v10 = adler;
      }

      return v10 | ((v5 % 0xFFF1) << 16);
    }
  }

  else
  {
    return 1;
  }
}

uint64_t lzbitmap_fast_encode_state_size(unsigned int a1)
{
  if (a1 > 2)
  {
    return 0;
  }

  else
  {
    return dword_3A6990[a1];
  }
}

uint64_t lzbitmap_fast_encode(uint64_t a1, unsigned int a2, char *__src, unsigned int a4, uint64_t a5, unsigned int a6)
{
  result = 0;
  if (!a4 || !a5)
  {
    return result;
  }

  if (a4 >= 8)
  {
    v9 = 8;
  }

  else
  {
    v9 = a4;
  }

  v198 = a1 + a2;
  if (a1 + v9 + 5 > v198)
  {
    return 0;
  }

  *a1 = -1;
  *(a1 + 2) = v9;
  *(a1 + 4) = 0;
  v192 = a1;
  v12 = a1 + 5;
  memcpy((a1 + 5), __src, v9);
  v193 = v9;
  v13 = (v12 + v9);
  if (a6 >= 3)
  {
    v15 = 0;
    v14 = 0;
    *&v19 = 0x8000800080008;
    *(&v19 + 1) = 0x8000800080008;
    __srca = v19;
    v201 = v19;
  }

  else
  {
    v14 = 0;
    v15 = qword_3A69A0[a6];
    *&v16 = 0x8000800080008;
    *(&v16 + 1) = 0x8000800080008;
    __srca = v16;
    v201 = v16;
    do
    {
      v17 = (a5 + v14);
      *v17 = v16;
      v17[1] = v16;
      v18 = v14 + 64;
      v14 += 32;
    }

    while (v18 <= v15);
  }

  memcpy((a5 + v14), &__srca, v15 - v14);
  if (a6 == 2)
  {
    v220 = 0u;
    v221 = 0u;
    v218 = 0u;
    v219 = 0u;
    v216 = 0u;
    v217 = 0u;
    v214 = 0u;
    v215 = 0u;
    v22 = v9;
    v212 = 0u;
    v213 = 0u;
    v20 = a4;
    if ((v9 | 0x90) > a4)
    {
      goto LABEL_52;
    }

    v195 = 8;
    v81 = vdupq_n_s32(0x9E3779B1);
    v21 = v9;
    while (1)
    {
      if ((v13 + 164) > v198)
      {
        goto LABEL_114;
      }

      v82 = 0;
      v83 = &__src[v21];
      v85 = *v83;
      v84 = (v83 + 16);
      v86 = v85;
      do
      {
        v87 = v86;
        v88 = *v84++;
        v86 = v88;
        v89 = (&__srca + 2 * v82);
        *v89 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v87, xmmword_3A6950), v81), 0x11uLL);
        v89[1] = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v87, xmmword_3A6960), v81), 0x11uLL);
        v89[2] = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v87, xmmword_3A6970), v81), 0x11uLL);
        v89[3] = vshrq_n_u32(vmulq_s32(vqtbl2q_s8(*(&v86 - 1), xmmword_3A6980), v81), 0x11uLL);
        v82 += 2;
      }

      while (v82 < 0xE);
      v90 = 0;
      v91 = 0;
      v92 = 0;
      v93 = 0;
      v94 = 0;
      v95 = *v84;
      v208 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v86, xmmword_3A6950), v81), 0x11uLL);
      v209 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v86, xmmword_3A6960), v81), 0x11uLL);
      v96 = vshrq_n_u32(vmulq_s32(vqtbl2q_s8(*v86.i8, xmmword_3A6980), v81), 0x11uLL);
      v210 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v86, xmmword_3A6970), v81), 0x11uLL);
      v211 = v96;
      *v13 = 0;
      v97 = v195;
      do
      {
        v98 = v21;
        v99 = &__src[v21];
        *v96.i8 = *v99;
        v100 = vpaddl_u32(vpaddl_u16(vpaddl_u8(vbic_s8(0x8040201008040201, vceq_s8(*(v99 - v97), *v99)))));
        if (v100.i8[0])
        {
          v101 = v100.i8[0];
          v100.i32[0] = v100.u8[0];
          v102 = vcnt_s8(v100);
          v102.i16[0] = vaddlv_u8(v102);
          v103 = v102.i8[0];
          if (v102.i32[0] == 1)
          {
LABEL_67:
            v117 = vqtbl1_s8(v96, lzbitmap_pack_perm_table[v101]);
            *&v214.i8[v94] = v117;
            v117.i32[0] = v101;
            v94 += vaddlv_u8(vcnt_s8(v117));
            v90 = *v13 | (1 << v91);
            *v13 = v90;
            v13[v93++ + 4] = v101;
          }

          else
          {
            v104 = 0;
            v105 = &__srca + 2 * v91;
            v107 = *v105;
            v106 = v105[1];
            v108 = HIDWORD(*(v105 + 2));
            v109 = *(a5 + 2 * v106);
            v110 = *(a5 + 2 * *v105);
            v111 = *(a5 + 2 * *(v105 + 1));
            *(a5 + 2 * HIDWORD(*v105)) = v98 + 1;
            *(a5 + 2 * DWORD2(v107)) = v98 + 2;
            *(a5 + 2 * HIDWORD(v107)) = v98 + 3;
            *(a5 + 2 * v108) = v98 + 5;
            v199[0] = v98 + 4 - v109;
            v199[1] = v98 - v110;
            *(a5 + 2 * DWORD2(v106)) = v98 + 6;
            *(a5 + 2 * HIDWORD(v106)) = v98 + 7;
            v199[2] = v98 + 2 - v111;
            *(a5 + 2 * v106) = v98 + 4;
            *(a5 + 2 * v107) = v98;
            v112 = v97;
            while (1)
            {
              v113 = v199[v104];
              v114 = vpaddl_u32(vpaddl_u16(vpaddl_u8(vbic_s8(0x8040201008040201, vceq_s8(*(v99 - v113), *v96.i8)))));
              v115 = v114.u8[0] | ((v113 - 8) >> 24);
              if (!(v114.i8[0] | ((v113 - 8) >> 24)))
              {
                break;
              }

              v114.i32[0] = v114.i8[0] | ((v113 - 8) >> 24);
              v116 = vcnt_s8(v114);
              v116.i16[0] = vaddlv_u8(v116);
              if (v116.i32[0] + 2 < v103)
              {
                v101 = v115;
                v103 = v116.i8[0] + 2;
                v112 = v199[v104];
                if (v104 == 2)
                {
                  goto LABEL_66;
                }
              }

              if (++v104 == 3)
              {
                v113 = v112;
                LOBYTE(v115) = v101;
                if (v112 == v97)
                {
                  goto LABEL_67;
                }

LABEL_66:
                *v13 = (0x10000 << v91) | v90;
                *(&v212 + v92) = v113;
                v97 = v113;
                ++v92;
                v101 = v115;
                goto LABEL_67;
              }
            }

            v90 |= 0x10000 << v91;
            *v13 = v90;
            *(&v212 + v92) = v113;
            v97 = v113;
            ++v92;
          }
        }

        ++v91;
        v21 = v98 + 8;
      }

      while (v91 != 16);
      v118 = v93 + 4;
      v119 = 2 * v92 + v94;
      if ((v119 + v118) <= 0x85)
      {
        v127 = &v13[v118];
        v128 = v213;
        *v127 = v212;
        *(v127 + 1) = v128;
        if (v127 < v127 + 32)
        {
          v129 = &v212;
          v130 = v127;
          do
          {
            v131 = *v129;
            v132 = v129[1];
            v129 += 2;
            *v130 = v131;
            *(v130 + 1) = v132;
            v130 += 32;
          }

          while (v130 < v127 + 32);
        }

        v13 = &v127[v119];
        v133 = v215;
        v134 = &v127[v119 - v94];
        *v134 = v214;
        v134[1] = v133;
        if (v134 < v13)
        {
          v135 = &v214;
          v20 = a4;
          do
          {
            v136 = *v135;
            v137 = v135[1];
            v135 += 2;
            *v134 = v136;
            v134[1] = v137;
            v134 += 2;
          }

          while (v134 < v13);
          v195 = v97;
          goto LABEL_81;
        }

        v195 = v97;
      }

      else
      {
        v120 = &__src[v21 - 128];
        *v13 = 8454143;
        v13[4] = 0;
        v121 = *v120;
        v122 = *(v120 + 1);
        v123 = *(v120 + 2);
        *(v13 + 53) = *(v120 + 3);
        *(v13 + 37) = v123;
        *(v13 + 21) = v122;
        *(v13 + 5) = v121;
        v124 = *(v120 + 4);
        v125 = *(v120 + 5);
        v126 = *(v120 + 6);
        *(v13 + 117) = *(v120 + 7);
        *(v13 + 101) = v126;
        *(v13 + 85) = v125;
        *(v13 + 69) = v124;
        v13 += 133;
      }

      v20 = a4;
LABEL_81:
      if (v98 + 152 > v20)
      {
        goto LABEL_115;
      }
    }
  }

  v20 = a4;
  if (a6 != 1)
  {
    if (!a6)
    {
      v206 = 0u;
      v207 = 0u;
      v204 = 0u;
      v205 = 0u;
      v202 = 0u;
      v203 = 0u;
      __srca = 0u;
      v201 = 0u;
      v212 = 0u;
      v213 = 0u;
      if ((v9 | 0x90) > a4)
      {
        v21 = v9;
        goto LABEL_115;
      }

      v138 = vdupq_n_s32(0x9E3779B1);
      v196 = 8;
      v21 = v9;
      while ((v13 + 164) <= v198)
      {
        v139 = 0;
        v140 = 0;
        v141 = 0;
        v142 = 0;
        v143 = 0;
        v144 = &__src[v21];
        v145 = vshrq_n_u32(vmulq_s32(v144[1], v138), 0x13uLL);
        v214 = vshrq_n_u32(vmulq_s32(*v144, v138), 0x13uLL);
        v215 = v145;
        v146 = vshrq_n_u32(vmulq_s32(v144[3], v138), 0x13uLL);
        v216 = vshrq_n_u32(vmulq_s32(v144[2], v138), 0x13uLL);
        v217 = v146;
        v147 = vshrq_n_u32(vmulq_s32(v144[5], v138), 0x13uLL);
        v218 = vshrq_n_u32(vmulq_s32(v144[4], v138), 0x13uLL);
        v219 = v147;
        v148 = vshrq_n_u32(vmulq_s32(v144[6], v138), 0x13uLL);
        v149 = vshrq_n_u32(vmulq_s32(v144[7], v138), 0x13uLL);
        v220 = v148;
        v221 = v149;
        *v13 = 0;
        v150 = v196;
        do
        {
          v151 = v21;
          v152 = &__src[v21];
          *v148.i8 = *v152;
          v153 = vpaddl_u32(vpaddl_u16(vpaddl_u8(vbic_s8(0x8040201008040201, vceq_s8(*(v152 - v150), *v152)))));
          if (v153.i8[0])
          {
            v154 = v153.i8[0];
            v153.i32[0] = v153.u8[0];
            v155 = vcnt_s8(v153);
            v155.i16[0] = vaddlv_u8(v155);
            v156 = v155.i8[0];
            if (v155.i32[0] != 1)
            {
              v157 = &v214 + 2 * v140;
              v158 = *v157;
              v159 = v157[1];
              v160 = v151 - *(a5 + 2 * v158);
              v161 = v151 + 4 - *(a5 + 2 * v159);
              *(a5 + 2 * v159) = v151 + 4;
              *(a5 + 2 * v158) = v151;
              v162 = 1;
              v163 = v150;
              do
              {
                v164 = v162;
                v165 = vpaddl_u32(vpaddl_u16(vpaddl_u8(vbic_s8(0x8040201008040201, vceq_s8(*(v152 - v160), *v148.i8)))));
                v166 = v165.u8[0] | ((v160 - 8) >> 24);
                if (!(v165.i8[0] | ((v160 - 8) >> 24)))
                {
                  v139 |= 0x10000 << v140;
                  *v13 = v139;
                  *(&v212 + v141) = v160;
                  v150 = v160;
                  ++v141;
                  goto LABEL_102;
                }

                v165.i32[0] = v165.i8[0] | ((v160 - 8) >> 24);
                v167 = vcnt_s8(v165);
                v167.i16[0] = vaddlv_u8(v167);
                v168 = v167.i8[0] + 2;
                if (((v167.i32[0] + 2 < v156) & ~v162) != 0)
                {
                  v163 = v160;
                  v154 = v166;
                  goto LABEL_100;
                }

                v162 = 0;
                if (v156 > v168)
                {
                  v163 = v160;
                  v154 = v166;
                }

                if (v156 >= v168)
                {
                  v156 = v167.i8[0] + 2;
                }

                v160 = v161;
              }

              while ((v164 & 1) != 0);
              if (v163 == v150)
              {
                goto LABEL_101;
              }

LABEL_100:
              *v13 = (0x10000 << v140) | v139;
              *(&v212 + v141) = v163;
              v150 = v163;
              ++v141;
            }

LABEL_101:
            v169 = vqtbl1_s8(v148, lzbitmap_pack_perm_table[v154]);
            *(&__srca + v143) = v169;
            v169.i32[0] = v154;
            v143 += vaddlv_u8(vcnt_s8(v169));
            v139 = *v13 | (1 << v140);
            *v13 = v139;
            v13[v142++ + 4] = v154;
          }

LABEL_102:
          ++v140;
          v21 = v151 + 8;
        }

        while (v140 != 16);
        v170 = v142 + 4;
        v171 = 2 * v141 + v143;
        if ((v171 + v170) <= 0x85)
        {
          v179 = &v13[v170];
          v180 = v213;
          *v179 = v212;
          *(v179 + 1) = v180;
          if (v179 < v179 + 32)
          {
            v181 = &v212;
            v182 = v179;
            do
            {
              v183 = *v181;
              v184 = v181[1];
              v181 += 2;
              *v182 = v183;
              *(v182 + 1) = v184;
              v182 += 32;
            }

            while (v182 < v179 + 32);
          }

          v13 = &v179[v171];
          v185 = v201;
          v186 = &v179[v171 - v143];
          *v186 = __srca;
          *(v186 + 1) = v185;
          v20 = a4;
          if (v186 < v13)
          {
            p_srca = &__srca;
            do
            {
              v188 = *p_srca;
              v189 = p_srca[1];
              p_srca += 2;
              *v186 = v188;
              *(v186 + 1) = v189;
              v186 += 32;
            }

            while (v186 < v13);
          }

          v196 = v150;
        }

        else
        {
          v172 = &__src[v21 - 128];
          *v13 = 8454143;
          v13[4] = 0;
          v173 = *v172;
          v174 = *(v172 + 1);
          v175 = *(v172 + 2);
          *(v13 + 53) = *(v172 + 3);
          *(v13 + 37) = v175;
          *(v13 + 21) = v174;
          *(v13 + 5) = v173;
          v176 = *(v172 + 4);
          v177 = *(v172 + 5);
          v178 = *(v172 + 6);
          *(v13 + 117) = *(v172 + 7);
          *(v13 + 101) = v178;
          *(v13 + 85) = v177;
          *(v13 + 69) = v176;
          v13 += 133;
          v20 = a4;
        }

        if (v151 + 152 > v20)
        {
          goto LABEL_115;
        }
      }

      goto LABEL_114;
    }

    return 0;
  }

  v220 = 0u;
  v221 = 0u;
  v218 = 0u;
  v219 = 0u;
  v216 = 0u;
  v217 = 0u;
  v214 = 0u;
  v215 = 0u;
  v22 = v9;
  v212 = 0u;
  v213 = 0u;
  if ((v9 | 0x90) > a4)
  {
LABEL_52:
    v21 = v22;
    goto LABEL_115;
  }

  v194 = 8;
  v23 = vdupq_n_s32(0x9E3779B1);
  v21 = v9;
  while ((v13 + 164) <= v198)
  {
    v24 = 0;
    v25 = &__src[v21];
    v27 = *v25;
    v26 = (v25 + 16);
    v28 = v27;
    do
    {
      v29 = v28;
      v30 = *v26++;
      v28 = v30;
      v31 = (&__srca + 2 * v24);
      *v31 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v29, xmmword_3A6950), v23), 0x13uLL);
      v31[1] = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v29, xmmword_3A6960), v23), 0x13uLL);
      v31[2] = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v29, xmmword_3A6970), v23), 0x13uLL);
      v31[3] = vshrq_n_u32(vmulq_s32(vqtbl2q_s8(*(&v28 - 1), xmmword_3A6980), v23), 0x13uLL);
      v24 += 2;
    }

    while (v24 < 0xE);
    v32 = 0;
    v33 = 0;
    v34 = 0;
    v35 = 0;
    v36 = 0;
    v37 = *v26;
    v208 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v28, xmmword_3A6950), v23), 0x13uLL);
    v209 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v28, xmmword_3A6960), v23), 0x13uLL);
    v38 = vshrq_n_u32(vmulq_s32(vqtbl2q_s8(*v28.i8, xmmword_3A6980), v23), 0x13uLL);
    v210 = vshrq_n_u32(vmulq_s32(vqtbl1q_s8(v28, xmmword_3A6970), v23), 0x13uLL);
    v211 = v38;
    *v13 = 0;
    v39 = v194;
    do
    {
      v40 = v21;
      v41 = &__src[v21];
      *v38.i8 = *v41;
      v42 = vpaddl_u32(vpaddl_u16(vpaddl_u8(vbic_s8(0x8040201008040201, vceq_s8(*(v41 - v39), *v41)))));
      if (v42.i8[0])
      {
        v43 = v42.i8[0];
        v42.i32[0] = v42.u8[0];
        v44 = vcnt_s8(v42);
        v44.i16[0] = vaddlv_u8(v44);
        v45 = v44.i8[0];
        if (v44.i32[0] != 1)
        {
          v46 = &__srca + 2 * v33;
          v48 = *v46;
          v47 = v46[1];
          v49 = HIDWORD(*(v46 + 2));
          v50 = *(v46 + 3);
          LODWORD(v46) = *(a5 + 2 * v47);
          v51 = *(a5 + 2 * v48);
          *(a5 + 2 * DWORD1(v48)) = v40 + 1;
          *(a5 + 2 * DWORD2(v48)) = v40 + 2;
          v52 = v40 + 4 - v46;
          *(a5 + 2 * HIDWORD(v48)) = v40 + 3;
          *(a5 + 2 * v49) = v40 + 5;
          *(a5 + 2 * v50) = v40 + 6;
          *(a5 + 2 * HIDWORD(v47)) = v40 + 7;
          *(a5 + 2 * v47) = v40 + 4;
          *(a5 + 2 * v48) = v40;
          v53 = 1;
          v54 = v39;
          do
          {
            v55 = vpaddl_u32(vpaddl_u16(vpaddl_u8(vbic_s8(0x8040201008040201, vceq_s8(*(v41 - v52), *v38.i8)))));
            v56 = v55.u8[0] | ((v52 - 8) >> 24);
            if (!(v55.i8[0] | ((v52 - 8) >> 24)))
            {
              v32 |= 0x10000 << v33;
              *v13 = v32;
              *(&v212 + v34) = v52;
              v39 = v52;
              ++v34;
              goto LABEL_39;
            }

            v57 = v53;
            v55.i32[0] = v55.i8[0] | ((v52 - 8) >> 24);
            v58 = vcnt_s8(v55);
            v58.i16[0] = vaddlv_u8(v58);
            v59 = v58.i8[0] + 2;
            if (((v58.i32[0] + 2 < v45) & ~v53) != 0)
            {
              v54 = v52;
              v43 = v56;
              goto LABEL_37;
            }

            v53 = 0;
            if (v45 > v59)
            {
              v54 = v52;
              v43 = v56;
            }

            if (v45 >= v59)
            {
              v45 = v58.i8[0] + 2;
            }

            v52 = v40 - v51;
          }

          while ((v57 & 1) != 0);
          if (v54 == v39)
          {
            goto LABEL_38;
          }

LABEL_37:
          *v13 = (0x10000 << v33) | v32;
          *(&v212 + v34) = v54;
          v39 = v54;
          ++v34;
        }

LABEL_38:
        v60 = vqtbl1_s8(v38, lzbitmap_pack_perm_table[v43]);
        *&v214.i8[v36] = v60;
        v60.i32[0] = v43;
        v36 += vaddlv_u8(vcnt_s8(v60));
        v32 = *v13 | (1 << v33);
        *v13 = v32;
        v13[v35++ + 4] = v43;
      }

LABEL_39:
      ++v33;
      v21 = v40 + 8;
    }

    while (v33 != 16);
    v61 = v35 + 4;
    v62 = 2 * v34 + v36;
    if ((v62 + v61) <= 0x85)
    {
      v70 = &v13[v61];
      v71 = v213;
      *v70 = v212;
      *(v70 + 1) = v71;
      if (v70 < v70 + 32)
      {
        v72 = &v212;
        v73 = v70;
        do
        {
          v74 = *v72;
          v75 = v72[1];
          v72 += 2;
          *v73 = v74;
          *(v73 + 1) = v75;
          v73 += 32;
        }

        while (v73 < v70 + 32);
      }

      v13 = &v70[v62];
      v76 = v215;
      v77 = &v70[v62 - v36];
      *v77 = v214;
      v77[1] = v76;
      v20 = a4;
      if (v77 < v13)
      {
        v78 = &v214;
        do
        {
          v79 = *v78;
          v80 = v78[1];
          v78 += 2;
          *v77 = v79;
          v77[1] = v80;
          v77 += 2;
        }

        while (v77 < v13);
      }

      v194 = v39;
    }

    else
    {
      v63 = &__src[v21 - 128];
      *v13 = 8454143;
      v13[4] = 0;
      v64 = *v63;
      v65 = *(v63 + 1);
      v66 = *(v63 + 2);
      *(v13 + 53) = *(v63 + 3);
      *(v13 + 37) = v66;
      *(v13 + 21) = v65;
      *(v13 + 5) = v64;
      v67 = *(v63 + 4);
      v68 = *(v63 + 5);
      v69 = *(v63 + 6);
      *(v13 + 117) = *(v63 + 7);
      *(v13 + 101) = v69;
      *(v13 + 85) = v68;
      *(v13 + 69) = v67;
      v13 += 133;
      v20 = a4;
    }

    if (v40 + 152 > v20)
    {
      goto LABEL_115;
    }
  }

LABEL_114:
  v13 = 0;
  v21 = v193;
LABEL_115:
  if (!v13)
  {
    return 0;
  }

  do
  {
    v190 = v20 - v21;
    if (v20 < v21)
    {
      break;
    }

    if (&v13[v190 + 5] > v198)
    {
      return 0;
    }

    *v13 = -1;
    *(v13 + 1) = v20 - v21;
    v13[4] = 0;
    memcpy(v13 + 5, &__src[v21], v190);
    v20 = a4;
    v13 += v190 + 5;
    v191 = a4 == v21;
    v21 = a4;
  }

  while (!v191);
  return (v13 - v192);
}

uint64_t lz4raw_encode_buffer(int32x4_t *a1, uint64_t a2, char *a3, unint64_t a4, void *__b)
{
  v15 = a1;
  v16 = a3;
  v6 = a1;
  if (!a4)
  {
    return v6 - a1;
  }

  v8 = a4;
  v9 = a3;
  v11 = a1;
  while (1)
  {
    memset_pattern8(__b, &unk_3A69B8, 0x8000uLL);
    v12 = v8 >= 0x7FFFF000 ? 2147479552 : v8;
    lz4_encode_2gb(&v15, a2, &v16, v9, v12, __b, v8 > 0x7FFFF000);
    v6 = v15;
    v13 = &v16[-v9];
    if (v8 <= 0x7FFFF000 && v12 > v13)
    {
      break;
    }

    if (v8 >= 0x7FFFF001 && (v12 - v13) >> 16)
    {
      break;
    }

    a2 = &v11->i8[a2] - v15;
    v9 = v16;
    v11 = v15;
    v8 -= v13;
    if (!v8)
    {
      return v6 - a1;
    }
  }

  return 0;
}

char *lz4raw_decode_buffer(char *a1, unint64_t a2, unsigned __int8 *a3, unint64_t a4)
{
  v9 = a1;
  v10 = a3;
  if (a2 >= 0x81 && a4 >= 0x81 && lz4_decode_asm(&v9, a1, &a1[a2 - 128], &v10, &a3[a4 - 128]) || lz4_decode(&v9, a1, &a1[a2], &v10, &a3[a4]))
  {
    return 0;
  }

  else
  {
    return (v9 - a1);
  }
}

_BYTE *zlib_decode_buffer(const Bytef *a1, uint64_t a2, unsigned __int8 *a3, unint64_t a4, uint64_t a5, int a6)
{
  if (a6)
  {
    v9 = a4 >= 2;
    a4 -= 2;
    if (!v9)
    {
      return 0;
    }

    v10 = *a3;
    v11 = a3[1];
    v12 = v11 | (v10 << 8);
    v13 = v11 & 0x20;
    v14 = v12 - 31 * ((138547333 * v12) >> 32);
    v15 = (v10 & 0xF) == 8 && v13 == 0;
    if (!v15 || v14 != 0)
    {
      return 0;
    }

    a3 += 2;
  }

  *(a5 + 48) = 0u;
  *(a5 + 64) = 0u;
  *(a5 + 112) = 0u;
  *(a5 + 128) = 0u;
  *(a5 + 80) = 0u;
  *(a5 + 96) = 0u;
  *(a5 + 32) = 8 * a4;
  *(a5 + 40) = 0;
  *a5 = a1;
  *(a5 + 8) = a2;
  *(a5 + 16) = a4;
  *(a5 + 24) = a3;
  *(a5 + 56) = &a1[a2];
  *(a5 + 64) = a1;
  if (a4 >= 9 && (*(a5 + 16) = a4 - 8, *(a5 + 32) = 8 * a4 - 64, v17 = zlibDecodeBuffer(a5), *(a5 + 16) += 8, *(a5 + 32) += 64, *(a5 + 48) == 11) && (v18 = v17) != 0 || (v18 = zlibDecodeBufferSafe(a5)) != 0)
  {
    v19 = (*(a5 + 40) + 7) & 0xFFFFFFFFFFFFFFF8;
    *(a5 + 40) = v19;
    if (a6)
    {
      v20 = *(a5 + 32);
      v9 = v20 >= v19;
      v21 = v20 - v19;
      if (!v9)
      {
        v21 = 0;
      }

      if (v21 >= 0x20)
      {
        v22 = adler32(0, 0, 0);
        if (bswap32(*(*(a5 + 24) + (*(a5 + 40) >> 3))) != adler32(v22, a1, v18))
        {
          return 0;
        }
      }
    }
  }

  return v18;
}

_BYTE *zlibDecodeBuffer(uint64_t a1)
{
  v1 = *(a1 + 48);
  if (v1 == 11)
  {
    return 0;
  }

  v4 = a1 + 144;
  v5 = a1 + 65680;
  if (v1 > 4)
  {
    v7 = *(a1 + 112);
    v6 = *(a1 + 120);
    v9 = *(a1 + 88);
    v8 = *(a1 + 92);
    if (v1 > 6)
    {
      if (v1 == 7)
      {
        goto LABEL_132;
      }

      v11 = *(a1 + 128);
      v10 = *(a1 + 136);
      if (v1 == 9)
      {
        goto LABEL_140;
      }

      if (v1 == 10)
      {
        goto LABEL_141;
      }

      goto LABEL_20;
    }

    if (v1 != 5)
    {
      v14 = *(a1 + 96);
      goto LABEL_128;
    }

    while (1)
    {
      while (1)
      {
LABEL_123:
        if (v6 >= v9)
        {
          v114 = *(a1 + 40);
        }

        else
        {
          v114 = *(a1 + 40);
          if (*(a1 + 32) <= v114)
          {
            result = 0;
            v145 = 5;
            goto LABEL_176;
          }

          v6 = 0xFFFFFFFFFFFFFFFFLL >> (v114 & 7);
          v7 = *(*(a1 + 24) + (v114 >> 3)) >> (v114 & 7);
        }

        v115 = *(v4 + 2 * (v7 & v9));
        v116 = (v115 & 0xF) + 1;
        v14 = v115 >> 4;
        *(a1 + 96) = v14;
        v7 >>= v116;
        v6 >>= v116;
        *(a1 + 40) = v116 + v114;
LABEL_128:
        if (v14 > 0xFF)
        {
          break;
        }

        if (!*(a1 + 8))
        {
          *(a1 + 48) = 6;
          *(a1 + 112) = v7;
          *(a1 + 120) = v6;
          *(a1 + 88) = v9;
          *(a1 + 92) = v8;
LABEL_173:
          v24 = *(a1 + 64);
          return (v24 - *a1);
        }

        v117 = *(a1 + 64);
        *(a1 + 64) = v117 + 1;
        *v117 = v14;
        v118 = *(a1 + 8) - 1;
LABEL_148:
        *(a1 + 8) = v118;
      }

      v119 = v14 - 256;
      *(a1 + 96) = v119;
      if (!v119)
      {
        goto LABEL_34;
      }

LABEL_132:
      v120 = *(a1 + 40);
      if (*(a1 + 32) <= v120)
      {
        result = 0;
        v145 = 7;
LABEL_176:
        *(a1 + 48) = v145;
        *(a1 + 112) = v7;
        *(a1 + 120) = v6;
        *(a1 + 88) = v9;
        *(a1 + 92) = v8;
        return result;
      }

      v121 = *(a1 + 96);
      if (v121 >= 0x1E)
      {
        goto LABEL_20;
      }

      v122 = 0xFFFFFFFFFFFFFFFFLL >> (v120 & 7);
      v123 = *(*(a1 + 24) + (v120 >> 3)) >> (v120 & 7);
      v10 = zlibDecodeBufferSafe_litlen_base[v121];
      if (v121 >= 9 && v121 != 29)
      {
        v124 = (v121 - 5) >> 2;
        v10 += v123 & ~(-1 << v124);
        v123 >>= v124;
        v122 >>= v124;
        v120 += v124;
        *(a1 + 40) = v120;
      }

      v125 = *(v5 + 2 * (v123 & v8));
      if (v125 >= 0x1E0)
      {
        goto LABEL_20;
      }

      v126 = v125 >> 4;
      v11 = zlibDecodeBufferSafe_distance_base[v125 >> 4];
      v127 = (v125 & 0xF) + 1;
      v7 = v123 >> v127;
      v6 = v122 >> v127;
      v128 = v120 + v127;
      *(a1 + 40) = v128;
      if (v125 >= 0x40)
      {
        v129 = v126 - 2;
        v130 = (v126 - 2) >> 1;
        v11 += v7 & ~(-1 << v130);
        v7 >>= v130;
        v6 >>= v130;
        *(a1 + 40) = v128 + (v129 >> 1);
      }

LABEL_140:
      if (v11 - 1 >= *(a1 + 64) - *a1)
      {
        goto LABEL_20;
      }

LABEL_141:
      v131 = *(a1 + 8);
      v132 = v131 - v10;
      if (v131 < v10)
      {
        v146 = *(a1 + 64);
        if (v131)
        {
          v147 = 0;
          do
          {
            *v146 = v146[-v11];
            ++v146;
            ++v147;
            v148 = *(a1 + 8);
          }

          while (v148 > v147);
          v146 = *(a1 + 64);
        }

        else
        {
          v148 = 0;
        }

        v149 = &v146[v148];
        *(a1 + 64) = v149;
        *(a1 + 112) = v7;
        *(a1 + 120) = v6;
        *(a1 + 88) = v9;
        *(a1 + 92) = v8;
        *(a1 + 128) = v11;
        *(a1 + 136) = v10 - v148;
        *(a1 + 8) = 0;
        *(a1 + 48) = 10;
        return &v149[-*a1];
      }

      v133 = *(a1 + 64);
      v134 = -v11;
      if (v131 < v10 + 31)
      {
        if (v10)
        {
          v135 = v10;
          do
          {
            *v133 = *(v133 + v134);
            ++v133;
            --v135;
          }

          while (v135);
          v133 = *(a1 + 64);
          v131 = *(a1 + 8);
        }

        *(a1 + 64) = v133 + v10;
        v118 = v131 - v10;
        goto LABEL_148;
      }

      v136 = v133 + v10;
      *(a1 + 64) = v133 + v10;
      *(a1 + 8) = v132;
      if (v11 < 8)
      {
        if (v11 == 1)
        {
          if (v10 >= 1)
          {
            v137 = 0;
            v138 = 0x101010101010101 * *(v133 + v134);
            v139 = v10 + v133;
            v140 = (v133 + 8);
            if (v139 <= v133 + 8)
            {
              v139 = v133 + 8;
            }

            v141 = (v139 + ~v133) >> 3;
            v142 = vdupq_n_s64(v141);
            v143 = (v141 + 2) & 0x3FFFFFFFFFFFFFFELL;
            do
            {
              v144 = vmovn_s64(vcgeq_u64(v142, vorrq_s8(vdupq_n_s64(v137), xmmword_33E760)));
              if (v144.i8[0])
              {
                *(v140 - 1) = v138;
              }

              if (v144.i8[4])
              {
                *v140 = v138;
              }

              v137 += 2;
              v140 += 2;
            }

            while (v143 != v137);
          }
        }

        else if (v10 >= 1)
        {
          do
          {
            *v133 = *(v133 - v11);
            *(v133 + 2) = *(v133 - v11 + 2);
            v133 += 4;
          }

          while (v133 < v136);
        }
      }

      else if (v10 >= 1)
      {
        do
        {
          *v133 = *(v133 - v11);
          *(v133 + 8) = *(v133 - v11 + 8);
          v133 += 16;
        }

        while (v133 < v136);
      }
    }
  }

  if (v1 <= 1)
  {
    if (v1)
    {
      if (v1 != 1)
      {
        goto LABEL_20;
      }

      v12 = *(a1 + 32);
      v13 = *(a1 + 40);
      goto LABEL_22;
    }

    goto LABEL_34;
  }

  if (v1 != 2)
  {
    if (v1 != 3)
    {
      goto LABEL_117;
    }

    v13 = *(a1 + 40);
LABEL_116:
    if (!readHuffmanTable((a1 + 24), (a1 + 72), v4, (a1 + 76), v5))
    {
      goto LABEL_117;
    }

    result = 0;
    *(a1 + 40) = v13;
    v18 = 3;
    goto LABEL_21;
  }

  v12 = *(a1 + 32);
  v15 = *(a1 + 40);
  v16 = *(a1 + 80);
  v17 = *(a1 + 24);
  while (1)
  {
    v20 = v12 >= v15;
    v21 = v12 - v15;
    if (!v20)
    {
      v21 = 0;
    }

    v22 = v21 >> 3;
    if (v22 >= *(a1 + 8))
    {
      v22 = *(a1 + 8);
    }

    if (v22 >= v16)
    {
      v23 = v16;
    }

    else
    {
      v23 = v22;
    }

    memcpy(*(a1 + 64), (v17 + (v15 >> 3)), v23);
    *(a1 + 40) += 8 * v23;
    *(a1 + 8) -= v23;
    v24 = *(a1 + 64) + v23;
    *(a1 + 64) = v24;
    v25 = *(a1 + 80);
    v26 = v25 > v23;
    v27 = v25 - v23;
    if (v26)
    {
      *(a1 + 80) = v27;
      *(a1 + 48) = 2;
      return (v24 - *a1);
    }

LABEL_34:
    if (*(a1 + 52))
    {
      *(a1 + 48) = 11;
      goto LABEL_173;
    }

    v12 = *(a1 + 32);
    v28 = *(a1 + 40);
    v29 = v12 - v28;
    if (v12 < v28)
    {
      v29 = 0;
    }

    if (v29 <= 2)
    {
      result = 0;
      *(a1 + 48) = 0;
      return result;
    }

    v30 = *(a1 + 24);
    *(a1 + 52) = (*(v30 + (v28 >> 3)) >> (v28 & 7)) & 1;
    v31 = *(v30 + ((v28 + 1) >> 3)) >> ((v28 + 1) & 7);
    v13 = v28 + 3;
    *(a1 + 40) = v28 + 3;
    *(a1 + 72) = 0x800000008000;
    if ((v31 & 3u) > 1uLL)
    {
      if ((v31 & 3) != 2)
      {
        goto LABEL_20;
      }

      goto LABEL_116;
    }

    if ((v31 & 3) != 0)
    {
      break;
    }

LABEL_22:
    v19 = v12 - v13;
    if (v12 < v13)
    {
      v19 = 0;
    }

    if (v19 <= 0xF)
    {
      result = 0;
      v18 = 1;
      goto LABEL_21;
    }

    v17 = *(a1 + 24);
    v16 = *(v17 + ((v13 + 7) >> 3));
    *(a1 + 80) = v16;
    v15 = ((v13 + 7) & 0xFFFFFFFFFFFFFFF8) + 32;
    *(a1 + 40) = v15;
  }

  for (i = 0; i != 288; ++i)
  {
    if (i <= 0x8F)
    {
LABEL_42:
      *(&v150[2] + i) = 8;
      continue;
    }

    if (i > 0xFF)
    {
      if (i > 0x117)
      {
        goto LABEL_42;
      }

      *(&v150[2] + i) = 7;
    }

    else
    {
      *(&v150[2] + i) = 9;
    }
  }

  v33 = 0;
  *&v34 = 0x505050505050505;
  *(&v34 + 1) = 0x505050505050505;
  v150[0] = v34;
  v150[1] = v34;
  v35.i64[0] = 0x100000001;
  v35.i64[1] = 0x100000001;
  v36.i64[0] = 0x100000001;
  v36.i64[1] = 0x100000001;
  v37.i64[0] = 0x100000001;
  v37.i64[1] = 0x100000001;
  v38.i64[0] = 0x100000001;
  v38.i64[1] = 0x100000001;
  do
  {
    v39 = v150[v33 + 2];
    v40 = vmovl_u8(*v39.i8);
    v41 = vmovl_high_u8(v39);
    v38 = vmaxq_s32(v38, vmovl_high_u16(v41));
    v37 = vmaxq_s32(v37, vmovl_u16(*v41.i8));
    v36 = vmaxq_s32(v36, vmovl_high_u16(v40));
    v35 = vmaxq_s32(v35, vmovl_u16(*v40.i8));
    ++v33;
  }

  while (v33 != 18);
  v42 = 1 << vmaxvq_s32(vmaxq_s32(vmaxq_s32(v35, v37), vmaxq_s32(v36, v38)));
  if (v42 <= 0x8000)
  {
    v43 = 0;
    v154 = 0u;
    v155 = 0u;
    v152 = 0u;
    v153 = 0u;
    do
    {
      ++*(&v152 + *(&v150[2] + v43++));
    }

    while (v43 != 288);
    v44 = 0;
    v45 = 0;
    LODWORD(v152) = 0;
    v151[0] = 0;
    do
    {
      v45 = 2 * (*(&v152 + v44 * 4) + v45);
      v151[++v44] = v45;
    }

    while (v44 != 15);
    for (j = 0; j != 288; ++j)
    {
      v47 = *(&v150[2] + j);
      v48 = v151[v47];
      v151[v47] = v48 + 1;
      *(&v150[20] + j) = (breverse_brev8[BYTE1(v48)] | (breverse_brev8[v48] << 8)) >> (16 - v47);
    }

    for (k = 0; k != 288; ++k)
    {
      v50 = *(&v150[2] + k);
      if (*(&v150[2] + k))
      {
        v51 = *(&v150[20] + k);
        if (v42 > v51)
        {
          v52 = 0;
          v53 = v50 + 16 * k;
          v54 = 1 << v50;
          v55 = v54;
          v56 = v51 + v54;
          if (v56 >= v42)
          {
            v57 = 1;
          }

          else
          {
            v57 = 2;
          }

          if (v56 < v42)
          {
            v58 = v42;
          }

          else
          {
            v58 = v51 + v54;
          }

          v59 = v57 + (v58 - (v56 < v42) - v56) / v54;
          v60 = 2 * v54;
          v61 = 3 * v54;
          v62 = 4 * v54;
          v63 = 5 * v54;
          v64 = vdupq_n_s64(v59 - 1);
          v65 = 6 * v54;
          v66 = 16 * v54;
          v67 = v53 - 1;
          v68 = (v59 + 7) & 0xFFFFFFFFFFFFFFF8;
          v69 = 7 * v54;
          v70 = (a1 + 144 + 2 * v51);
          do
          {
            v71 = vdupq_n_s64(v52);
            v72 = vmovn_s64(vcgeq_u64(v64, vorrq_s8(v71, xmmword_33E760)));
            if (vuzp1_s8(vuzp1_s16(v72, 6), 6).u8[0])
            {
              *v70 = v67;
            }

            if (vuzp1_s8(vuzp1_s16(v72, 6), 6).i8[1])
            {
              v70[v55] = v67;
            }

            if (vuzp1_s8(vuzp1_s16(6, vmovn_s64(vcgeq_u64(v64, vorrq_s8(v71, xmmword_3419E0)))), 6).i8[2])
            {
              v70[v60] = v67;
              v70[v61] = v67;
            }

            v73 = vmovn_s64(vcgeq_u64(v64, vorrq_s8(v71, xmmword_3419D0)));
            if (vuzp1_s8(6, vuzp1_s16(v73, 6)).i32[1])
            {
              v70[v62] = v67;
            }

            if (vuzp1_s8(6, vuzp1_s16(v73, 6)).i8[5])
            {
              v70[v63] = v67;
            }

            if (vuzp1_s8(6, vuzp1_s16(6, vmovn_s64(vcgeq_u64(v64, vorrq_s8(v71, xmmword_3419C0))))).i8[6])
            {
              v70[v65] = v67;
              v70[v69] = v67;
            }

            v52 += 8;
            v70 = (v70 + v66);
          }

          while (v68 != v52);
        }
      }
    }

    v74 = 0;
    v75.i64[0] = 0x100000001;
    v75.i64[1] = 0x100000001;
    v76.i64[0] = 0x100000001;
    v76.i64[1] = 0x100000001;
    v77.i64[0] = 0x100000001;
    v77.i64[1] = 0x100000001;
    v78.i64[0] = 0x100000001;
    v78.i64[1] = 0x100000001;
    do
    {
      v79 = v150[v74];
      v80 = vmovl_u8(*v79.i8);
      v81 = vmovl_high_u8(v79);
      v78 = vmaxq_s32(v78, vmovl_high_u16(v81));
      v77 = vmaxq_s32(v77, vmovl_u16(*v81.i8));
      v76 = vmaxq_s32(v76, vmovl_high_u16(v80));
      v75 = vmaxq_s32(v75, vmovl_u16(*v80.i8));
      ++v74;
    }

    while (v74 != 2);
    v82 = 1 << vmaxvq_s32(vmaxq_s32(vmaxq_s32(v75, v77), vmaxq_s32(v76, v78)));
    if (v82 <= 0x8000)
    {
      v83 = 0;
      v154 = 0u;
      v155 = 0u;
      v152 = 0u;
      v153 = 0u;
      do
      {
        ++*(&v152 + *(v150 + v83++));
      }

      while (v83 != 32);
      v84 = 0;
      v85 = 0;
      LODWORD(v152) = 0;
      v151[0] = 0;
      do
      {
        v85 = 2 * (*(&v152 + v84 * 4) + v85);
        v151[++v84] = v85;
      }

      while (v84 != 15);
      for (m = 0; m != 32; ++m)
      {
        v87 = *(v150 + m);
        v88 = v151[v87];
        v151[v87] = v88 + 1;
        *(&v150[20] + m) = (breverse_brev8[BYTE1(v88)] | (breverse_brev8[v88] << 8)) >> (16 - v87);
      }

      for (n = 0; n != 32; ++n)
      {
        v90 = *(v150 + n);
        if (*(v150 + n))
        {
          v91 = *(&v150[20] + n);
          if (v82 > v91)
          {
            v92 = 0;
            v93 = v90 + 16 * n;
            v94 = 1 << v90;
            v95 = v94;
            v96 = v91 + v94;
            if (v96 >= v82)
            {
              v97 = 1;
            }

            else
            {
              v97 = 2;
            }

            if (v96 < v82)
            {
              v98 = v82;
            }

            else
            {
              v98 = v91 + v94;
            }

            v99 = v97 + (v98 - (v96 < v82) - v96) / v94;
            v100 = 2 * v94;
            v101 = 3 * v94;
            v102 = 4 * v94;
            v103 = 5 * v94;
            v104 = vdupq_n_s64(v99 - 1);
            v105 = 6 * v94;
            v106 = 16 * v94;
            v107 = v93 - 1;
            v108 = (v99 + 7) & 0xFFFFFFFFFFFFFFF8;
            v109 = 7 * v94;
            v110 = (a1 + 65680 + 2 * v91);
            do
            {
              v111 = vdupq_n_s64(v92);
              v112 = vmovn_s64(vcgeq_u64(v104, vorrq_s8(v111, xmmword_33E760)));
              if (vuzp1_s8(vuzp1_s16(v112, 6), 6).u8[0])
              {
                *v110 = v107;
              }

              if (vuzp1_s8(vuzp1_s16(v112, 6), 6).i8[1])
              {
                v110[v95] = v107;
              }

              if (vuzp1_s8(vuzp1_s16(6, vmovn_s64(vcgeq_u64(v104, vorrq_s8(v111, xmmword_3419E0)))), 6).i8[2])
              {
                v110[v100] = v107;
                v110[v101] = v107;
              }

              v113 = vmovn_s64(vcgeq_u64(v104, vorrq_s8(v111, xmmword_3419D0)));
              if (vuzp1_s8(6, vuzp1_s16(v113, 6)).i32[1])
              {
                v110[v102] = v107;
              }

              if (vuzp1_s8(6, vuzp1_s16(v113, 6)).i8[5])
              {
                v110[v103] = v107;
              }

              if (vuzp1_s8(6, vuzp1_s16(6, vmovn_s64(vcgeq_u64(v104, vorrq_s8(v111, xmmword_3419C0))))).i8[6])
              {
                v110[v105] = v107;
                v110[v109] = v107;
              }

              v92 += 8;
              v110 = (v110 + v106);
            }

            while (v108 != v92);
          }
        }
      }

      *(a1 + 72) = v42;
      *(a1 + 76) = v82;
LABEL_117:
      v6 = 0;
      v7 = 0;
      v9 = *(a1 + 72) - 1;
      v8 = *(a1 + 76) - 1;
      goto LABEL_123;
    }
  }

LABEL_20:
  result = 0;
  v18 = 12;
LABEL_21:
  *(a1 + 48) = v18;
  return result;
}

_BYTE *zlibDecodeBufferSafe(uint64_t a1)
{
  v1 = *(a1 + 48);
  if (v1 == 11)
  {
    return 0;
  }

  v4 = a1 + 144;
  v5 = a1 + 65680;
  if (v1 > 4)
  {
    v7 = *(a1 + 112);
    v6 = *(a1 + 120);
    v9 = *(a1 + 88);
    v8 = *(a1 + 92);
    if (v1 > 6)
    {
      if (v1 == 7)
      {
        goto LABEL_145;
      }

      v11 = *(a1 + 128);
      v10 = *(a1 + 136);
      if (v1 == 9)
      {
        goto LABEL_157;
      }

      if (v1 == 10)
      {
        goto LABEL_158;
      }

      goto LABEL_20;
    }

    if (v1 != 5)
    {
      v14 = *(a1 + 96);
      goto LABEL_141;
    }

    while (1)
    {
      while (1)
      {
LABEL_132:
        if (v6 >= v9)
        {
          v121 = *(a1 + 40);
        }

        else
        {
          v120 = *(a1 + 32);
          v121 = *(a1 + 40);
          v28 = v120 > v121;
          v122 = v120 - v121;
          if (!v28)
          {
            result = 0;
            v161 = 5;
LABEL_191:
            *(a1 + 48) = v161;
            *(a1 + 112) = v7;
            *(a1 + 120) = v6;
            *(a1 + 88) = v9;
            *(a1 + 92) = v8;
            return result;
          }

          v123 = v121 & 7;
          v124 = (v122 + 7) >> 3 >= 8 ? 8 : (v122 + 7) >> 3;
          *__dst = 0;
          memcpy(__dst, (*(a1 + 24) + (v121 >> 3)), v124);
          v6 = 0xFFFFFFFFFFFFFFFFLL >> (-8 * v124) >> v123;
          v7 = *__dst >> v123;
        }

        v125 = *(v4 + 2 * (v7 & v9));
        v126 = (v125 & 0xF) + 1;
        v14 = v125 >> 4;
        *(a1 + 96) = v14;
        v7 >>= v126;
        v6 >>= v126;
        *(a1 + 40) = v126 + v121;
LABEL_141:
        if (v14 > 0xFF)
        {
          break;
        }

        if (!*(a1 + 8))
        {
          *(a1 + 48) = 6;
          *(a1 + 112) = v7;
          *(a1 + 120) = v6;
          *(a1 + 88) = v9;
          *(a1 + 92) = v8;
LABEL_189:
          v26 = *(a1 + 64);
          return (v26 - *a1);
        }

        v127 = *(a1 + 64);
        *(a1 + 64) = v127 + 1;
        *v127 = v14;
        v128 = *(a1 + 8) - 1;
LABEL_165:
        *(a1 + 8) = v128;
      }

      v129 = v14 - 256;
      *(a1 + 96) = v129;
      if (!v129)
      {
        goto LABEL_37;
      }

LABEL_145:
      v130 = *(a1 + 32);
      v131 = *(a1 + 40);
      v28 = v130 > v131;
      v132 = v130 - v131;
      if (!v28)
      {
        result = 0;
        v161 = 7;
        goto LABEL_191;
      }

      if ((v132 + 7) >> 3 >= 8)
      {
        v133 = 8;
      }

      else
      {
        v133 = (v132 + 7) >> 3;
      }

      *__dst = 0;
      memcpy(__dst, (*(a1 + 24) + (v131 >> 3)), v133);
      v134 = *(a1 + 96);
      if (v134 >= 0x1E)
      {
        goto LABEL_20;
      }

      v135 = 0xFFFFFFFFFFFFFFFFLL >> (-8 * v133) >> (v131 & 7);
      v136 = *__dst >> (v131 & 7);
      v10 = zlibDecodeBufferSafe_litlen_base[v134];
      if (v134 >= 9 && v134 != 29)
      {
        v137 = (v134 - 5) >> 2;
        v10 += v136 & ~(-1 << v137);
        v136 >>= v137;
        v135 >>= v137;
        v131 += v137;
        *(a1 + 40) = v131;
      }

      v138 = *(v5 + 2 * (v136 & v8));
      if (v138 >= 0x1E0)
      {
        goto LABEL_20;
      }

      v139 = v138 >> 4;
      v11 = zlibDecodeBufferSafe_distance_base[v138 >> 4];
      v140 = (v138 & 0xF) + 1;
      v7 = v136 >> v140;
      v6 = v135 >> v140;
      v141 = v131 + v140;
      *(a1 + 40) = v141;
      if (v138 >= 0x40)
      {
        v142 = v139 - 2;
        v143 = (v139 - 2) >> 1;
        v11 += v7 & ~(-1 << v143);
        v7 >>= v143;
        v6 >>= v143;
        *(a1 + 40) = v141 + (v142 >> 1);
      }

LABEL_157:
      if (v11 - 1 >= *(a1 + 64) - *a1)
      {
        goto LABEL_20;
      }

LABEL_158:
      v144 = *(a1 + 8);
      v145 = v144 - v10;
      if (v144 < v10)
      {
        v158 = *(a1 + 64);
        if (v144)
        {
          v159 = 0;
          do
          {
            *v158 = v158[-v11];
            ++v158;
            ++v159;
            v160 = *(a1 + 8);
          }

          while (v160 > v159);
          v158 = *(a1 + 64);
        }

        else
        {
          v160 = 0;
        }

        v162 = &v158[v160];
        *(a1 + 64) = v162;
        *(a1 + 112) = v7;
        *(a1 + 120) = v6;
        *(a1 + 88) = v9;
        *(a1 + 92) = v8;
        *(a1 + 128) = v11;
        *(a1 + 136) = v10 - v160;
        *(a1 + 8) = 0;
        *(a1 + 48) = 10;
        return &v162[-*a1];
      }

      v146 = *(a1 + 64);
      v147 = -v11;
      if (v144 < v10 + 31)
      {
        if (v10)
        {
          v148 = v10;
          do
          {
            *v146 = *(v146 + v147);
            ++v146;
            --v148;
          }

          while (v148);
          v146 = *(a1 + 64);
          v144 = *(a1 + 8);
        }

        *(a1 + 64) = v146 + v10;
        v128 = v144 - v10;
        goto LABEL_165;
      }

      v149 = v146 + v10;
      *(a1 + 64) = v146 + v10;
      *(a1 + 8) = v145;
      if (v11 < 8)
      {
        if (v11 == 1)
        {
          if (v10 >= 1)
          {
            v150 = 0;
            v151 = 0x101010101010101 * *(v146 + v147);
            v152 = v10 + v146;
            v153 = (v146 + 8);
            if (v152 <= v146 + 8)
            {
              v152 = v146 + 8;
            }

            v154 = (v152 + ~v146) >> 3;
            v155 = vdupq_n_s64(v154);
            v156 = (v154 + 2) & 0x3FFFFFFFFFFFFFFELL;
            do
            {
              v157 = vmovn_s64(vcgeq_u64(v155, vorrq_s8(vdupq_n_s64(v150), xmmword_33E760)));
              if (v157.i8[0])
              {
                *(v153 - 1) = v151;
              }

              if (v157.i8[4])
              {
                *v153 = v151;
              }

              v150 += 2;
              v153 += 2;
            }

            while (v156 != v150);
          }
        }

        else if (v10 >= 1)
        {
          do
          {
            *v146 = *(v146 - v11);
            *(v146 + 2) = *(v146 - v11 + 2);
            v146 += 4;
          }

          while (v146 < v149);
        }
      }

      else if (v10 >= 1)
      {
        do
        {
          *v146 = *(v146 - v11);
          *(v146 + 8) = *(v146 - v11 + 8);
          v146 += 16;
        }

        while (v146 < v149);
      }
    }
  }

  if (v1 <= 1)
  {
    if (v1)
    {
      if (v1 != 1)
      {
        goto LABEL_20;
      }

      v12 = *(a1 + 32);
      v13 = *(a1 + 40);
      goto LABEL_22;
    }

    goto LABEL_37;
  }

  if (v1 != 2)
  {
    if (v1 != 3)
    {
      goto LABEL_126;
    }

    v13 = *(a1 + 40);
LABEL_125:
    if (!readHuffmanTable((a1 + 24), (a1 + 72), v4, (a1 + 76), v5))
    {
      goto LABEL_126;
    }

    result = 0;
    *(a1 + 40) = v13;
    v18 = 3;
    goto LABEL_21;
  }

  v12 = *(a1 + 32);
  v15 = *(a1 + 40);
  v16 = *(a1 + 80);
  v17 = *(a1 + 24);
  while (1)
  {
    v23 = v12 - v15;
    if (v12 < v15)
    {
      v23 = 0;
    }

    v24 = v23 >> 3;
    if (v24 >= *(a1 + 8))
    {
      v24 = *(a1 + 8);
    }

    if (v24 >= v16)
    {
      v25 = v16;
    }

    else
    {
      v25 = v24;
    }

    memcpy(*(a1 + 64), (v17 + (v15 >> 3)), v25);
    *(a1 + 40) += 8 * v25;
    *(a1 + 8) -= v25;
    v26 = *(a1 + 64) + v25;
    *(a1 + 64) = v26;
    v27 = *(a1 + 80);
    v28 = v27 > v25;
    v29 = v27 - v25;
    if (v28)
    {
      *(a1 + 80) = v29;
      *(a1 + 48) = 2;
      return (v26 - *a1);
    }

LABEL_37:
    if (*(a1 + 52))
    {
      *(a1 + 48) = 11;
      goto LABEL_189;
    }

    v12 = *(a1 + 32);
    v30 = *(a1 + 40);
    v31 = v12 - v30;
    if (v12 < v30)
    {
      v31 = 0;
    }

    if (v31 <= 2)
    {
      result = 0;
      *(a1 + 48) = 0;
      return result;
    }

    if ((v12 + 7 - v30) >> 3 >= 8)
    {
      v32 = 8;
    }

    else
    {
      v32 = (v12 + 7 - v30) >> 3;
    }

    *__dst = 0;
    v33 = *(a1 + 24);
    memcpy(__dst, (v33 + (v30 >> 3)), v32);
    v34 = *__dst >> (v30 & 7);
    *(a1 + 40) = v30 + 1;
    *(a1 + 52) = v34 & 1;
    if ((v12 + 7 + ~v30) >> 3 >= 8)
    {
      v35 = 8;
    }

    else
    {
      v35 = (v12 + 7 + ~v30) >> 3;
    }

    *__dst = 0;
    memcpy(__dst, (v33 + ((v30 + 1) >> 3)), v35);
    v36 = *__dst >> ((v30 + 1) & 7);
    v13 = v30 + 3;
    *(a1 + 40) = v13;
    v37 = v36 & 3;
    *(a1 + 72) = 0x800000008000;
    if (v37 > 1)
    {
      if (v37 != 2)
      {
        goto LABEL_20;
      }

      goto LABEL_125;
    }

    if (v37)
    {
      break;
    }

LABEL_22:
    v19 = v12 - v13;
    if (v12 < v13)
    {
      v19 = 0;
    }

    if (v19 <= 0xF)
    {
      result = 0;
      v18 = 1;
      goto LABEL_21;
    }

    v20 = v13 + 7;
    v21 = (v13 + 7) & 0xFFFFFFFFFFFFFFF8;
    *(a1 + 40) = v21;
    if ((v12 - v21 + 7) >> 3 >= 8)
    {
      v22 = 8;
    }

    else
    {
      v22 = (v12 - v21 + 7) >> 3;
    }

    *__dst = 0;
    v17 = *(a1 + 24);
    memcpy(__dst, (v17 + (v20 >> 3)), v22);
    v16 = __dst[0];
    *(a1 + 80) = __dst[0];
    v15 = v21 + 32;
    *(a1 + 40) = v21 + 32;
  }

  for (i = 0; i != 288; ++i)
  {
    if (i <= 0x8F)
    {
LABEL_51:
      *(&v163[2] + i) = 8;
      continue;
    }

    if (i > 0xFF)
    {
      if (i > 0x117)
      {
        goto LABEL_51;
      }

      *(&v163[2] + i) = 7;
    }

    else
    {
      *(&v163[2] + i) = 9;
    }
  }

  v39 = 0;
  *&v40 = 0x505050505050505;
  *(&v40 + 1) = 0x505050505050505;
  v163[0] = v40;
  v163[1] = v40;
  v41.i64[0] = 0x100000001;
  v41.i64[1] = 0x100000001;
  v42.i64[0] = 0x100000001;
  v42.i64[1] = 0x100000001;
  v43.i64[0] = 0x100000001;
  v43.i64[1] = 0x100000001;
  v44.i64[0] = 0x100000001;
  v44.i64[1] = 0x100000001;
  do
  {
    v45 = v163[v39 + 2];
    v46 = vmovl_u8(*v45.i8);
    v47 = vmovl_high_u8(v45);
    v44 = vmaxq_s32(v44, vmovl_high_u16(v47));
    v43 = vmaxq_s32(v43, vmovl_u16(*v47.i8));
    v42 = vmaxq_s32(v42, vmovl_high_u16(v46));
    v41 = vmaxq_s32(v41, vmovl_u16(*v46.i8));
    ++v39;
  }

  while (v39 != 18);
  v48 = 1 << vmaxvq_s32(vmaxq_s32(vmaxq_s32(v41, v43), vmaxq_s32(v42, v44)));
  if (v48 <= 0x8000)
  {
    v49 = 0;
    v168 = 0u;
    v169 = 0u;
    v166 = 0u;
    v167 = 0u;
    do
    {
      ++*(&v166 + *(&v163[2] + v49++));
    }

    while (v49 != 288);
    v50 = 0;
    v51 = 0;
    LODWORD(v166) = 0;
    v165[0] = 0;
    do
    {
      v51 = 2 * (*(&v166 + v50 * 4) + v51);
      v165[++v50] = v51;
    }

    while (v50 != 15);
    for (j = 0; j != 288; ++j)
    {
      v53 = *(&v163[2] + j);
      v54 = v165[v53];
      v165[v53] = v54 + 1;
      __dst[j] = (breverse_brev8[BYTE1(v54)] | (breverse_brev8[v54] << 8)) >> (16 - v53);
    }

    for (k = 0; k != 288; ++k)
    {
      v56 = *(&v163[2] + k);
      if (*(&v163[2] + k))
      {
        v57 = __dst[k];
        if (v48 > v57)
        {
          v58 = 0;
          v59 = v56 + 16 * k;
          v60 = 1 << v56;
          v61 = v60;
          v62 = v57 + v60;
          if (v62 >= v48)
          {
            v63 = 1;
          }

          else
          {
            v63 = 2;
          }

          if (v62 < v48)
          {
            v64 = v48;
          }

          else
          {
            v64 = v57 + v60;
          }

          v65 = v63 + (v64 - (v62 < v48) - v62) / v60;
          v66 = 2 * v60;
          v67 = 3 * v60;
          v68 = 4 * v60;
          v69 = 5 * v60;
          v70 = vdupq_n_s64(v65 - 1);
          v71 = 6 * v60;
          v72 = 16 * v60;
          v73 = v59 - 1;
          v74 = (v65 + 7) & 0xFFFFFFFFFFFFFFF8;
          v75 = 7 * v60;
          v76 = (a1 + 144 + 2 * v57);
          do
          {
            v77 = vdupq_n_s64(v58);
            v78 = vmovn_s64(vcgeq_u64(v70, vorrq_s8(v77, xmmword_33E760)));
            if (vuzp1_s8(vuzp1_s16(v78, 6), 6).u8[0])
            {
              *v76 = v73;
            }

            if (vuzp1_s8(vuzp1_s16(v78, 6), 6).i8[1])
            {
              v76[v61] = v73;
            }

            if (vuzp1_s8(vuzp1_s16(6, vmovn_s64(vcgeq_u64(v70, vorrq_s8(v77, xmmword_3419E0)))), 6).i8[2])
            {
              v76[v66] = v73;
              v76[v67] = v73;
            }

            v79 = vmovn_s64(vcgeq_u64(v70, vorrq_s8(v77, xmmword_3419D0)));
            if (vuzp1_s8(6, vuzp1_s16(v79, 6)).i32[1])
            {
              v76[v68] = v73;
            }

            if (vuzp1_s8(6, vuzp1_s16(v79, 6)).i8[5])
            {
              v76[v69] = v73;
            }

            if (vuzp1_s8(6, vuzp1_s16(6, vmovn_s64(vcgeq_u64(v70, vorrq_s8(v77, xmmword_3419C0))))).i8[6])
            {
              v76[v71] = v73;
              v76[v75] = v73;
            }

            v58 += 8;
            v76 = (v76 + v72);
          }

          while (v74 != v58);
        }
      }
    }

    v80 = 0;
    v81.i64[0] = 0x100000001;
    v81.i64[1] = 0x100000001;
    v82.i64[0] = 0x100000001;
    v82.i64[1] = 0x100000001;
    v83.i64[0] = 0x100000001;
    v83.i64[1] = 0x100000001;
    v84.i64[0] = 0x100000001;
    v84.i64[1] = 0x100000001;
    do
    {
      v85 = v163[v80];
      v86 = vmovl_u8(*v85.i8);
      v87 = vmovl_high_u8(v85);
      v84 = vmaxq_s32(v84, vmovl_high_u16(v87));
      v83 = vmaxq_s32(v83, vmovl_u16(*v87.i8));
      v82 = vmaxq_s32(v82, vmovl_high_u16(v86));
      v81 = vmaxq_s32(v81, vmovl_u16(*v86.i8));
      ++v80;
    }

    while (v80 != 2);
    v88 = 1 << vmaxvq_s32(vmaxq_s32(vmaxq_s32(v81, v83), vmaxq_s32(v82, v84)));
    if (v88 <= 0x8000)
    {
      v89 = 0;
      v168 = 0u;
      v169 = 0u;
      v166 = 0u;
      v167 = 0u;
      do
      {
        ++*(&v166 + *(v163 + v89++));
      }

      while (v89 != 32);
      v90 = 0;
      v91 = 0;
      LODWORD(v166) = 0;
      v165[0] = 0;
      do
      {
        v91 = 2 * (*(&v166 + v90 * 4) + v91);
        v165[++v90] = v91;
      }

      while (v90 != 15);
      for (m = 0; m != 32; ++m)
      {
        v93 = *(v163 + m);
        v94 = v165[v93];
        v165[v93] = v94 + 1;
        __dst[m] = (breverse_brev8[BYTE1(v94)] | (breverse_brev8[v94] << 8)) >> (16 - v93);
      }

      for (n = 0; n != 32; ++n)
      {
        v96 = *(v163 + n);
        if (*(v163 + n))
        {
          v97 = __dst[n];
          if (v88 > v97)
          {
            v98 = 0;
            v99 = v96 + 16 * n;
            v100 = 1 << v96;
            v101 = v100;
            v102 = v97 + v100;
            if (v102 >= v88)
            {
              v103 = 1;
            }

            else
            {
              v103 = 2;
            }

            if (v102 < v88)
            {
              v104 = v88;
            }

            else
            {
              v104 = v97 + v100;
            }

            v105 = v103 + (v104 - (v102 < v88) - v102) / v100;
            v106 = 2 * v100;
            v107 = 3 * v100;
            v108 = 4 * v100;
            v109 = 5 * v100;
            v110 = vdupq_n_s64(v105 - 1);
            v111 = 6 * v100;
            v112 = 16 * v100;
            v113 = v99 - 1;
            v114 = (v105 + 7) & 0xFFFFFFFFFFFFFFF8;
            v115 = 7 * v100;
            v116 = (a1 + 65680 + 2 * v97);
            do
            {
              v117 = vdupq_n_s64(v98);
              v118 = vmovn_s64(vcgeq_u64(v110, vorrq_s8(v117, xmmword_33E760)));
              if (vuzp1_s8(vuzp1_s16(v118, 6), 6).u8[0])
              {
                *v116 = v113;
              }

              if (vuzp1_s8(vuzp1_s16(v118, 6), 6).i8[1])
              {
                v116[v101] = v113;
              }

              if (vuzp1_s8(vuzp1_s16(6, vmovn_s64(vcgeq_u64(v110, vorrq_s8(v117, xmmword_3419E0)))), 6).i8[2])
              {
                v116[v106] = v113;
                v116[v107] = v113;
              }

              v119 = vmovn_s64(vcgeq_u64(v110, vorrq_s8(v117, xmmword_3419D0)));
              if (vuzp1_s8(6, vuzp1_s16(v119, 6)).i32[1])
              {
                v116[v108] = v113;
              }

              if (vuzp1_s8(6, vuzp1_s16(v119, 6)).i8[5])
              {
                v116[v109] = v113;
              }

              if (vuzp1_s8(6, vuzp1_s16(6, vmovn_s64(vcgeq_u64(v110, vorrq_s8(v117, xmmword_3419C0))))).i8[6])
              {
                v116[v111] = v113;
                v116[v115] = v113;
              }

              v98 += 8;
              v116 = (v116 + v112);
            }

            while (v114 != v98);
          }
        }
      }

      *(a1 + 72) = v48;
      *(a1 + 76) = v88;
LABEL_126:
      v6 = 0;
      v7 = 0;
      v9 = *(a1 + 72) - 1;
      v8 = *(a1 + 76) - 1;
      goto LABEL_132;
    }
  }

LABEL_20:
  result = 0;
  v18 = 12;
LABEL_21:
  *(a1 + 48) = v18;
  return result;
}