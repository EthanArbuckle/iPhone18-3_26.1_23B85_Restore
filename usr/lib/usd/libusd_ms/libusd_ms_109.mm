void sub_29AAC7908(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, _Unwind_Exception *exception_objecta, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  if (a13)
  {
    atomic_fetch_add_explicit((v71 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a14)
  {
    atomic_fetch_add_explicit((v70 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a15)
  {
    atomic_fetch_add_explicit((a43 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a16)
  {
    atomic_fetch_add_explicit((a44 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a17)
  {
    atomic_fetch_add_explicit((a45 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a18)
  {
    atomic_fetch_add_explicit((a46 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a19)
  {
    atomic_fetch_add_explicit((a47 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a20)
  {
    atomic_fetch_add_explicit((a48 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a21)
  {
    atomic_fetch_add_explicit((a49 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a22)
  {
    atomic_fetch_add_explicit((a50 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a23)
  {
    atomic_fetch_add_explicit((a51 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a25)
  {
    atomic_fetch_add_explicit((a52 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a26)
  {
    atomic_fetch_add_explicit((a53 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a27)
  {
    atomic_fetch_add_explicit((a54 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a28)
  {
    atomic_fetch_add_explicit((a55 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a29)
  {
    atomic_fetch_add_explicit((a56 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a30)
  {
    atomic_fetch_add_explicit((a57 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a31)
  {
    atomic_fetch_add_explicit((a58 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a32)
  {
    atomic_fetch_add_explicit((a59 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a33)
  {
    atomic_fetch_add_explicit((a60 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a34)
  {
    atomic_fetch_add_explicit((a61 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a35)
  {
    atomic_fetch_add_explicit((a62 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a36)
  {
    atomic_fetch_add_explicit((a63 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a37)
  {
    atomic_fetch_add_explicit((a64 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a38)
  {
    atomic_fetch_add_explicit((a65 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a39)
  {
    atomic_fetch_add_explicit((a66 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a40)
  {
    atomic_fetch_add_explicit((a67 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a41)
  {
    atomic_fetch_add_explicit((a68 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  while (v69 != &a69)
  {
    v69 -= 48;
    sub_29AAC818C(v69);
  }

  __cxa_guard_abort(&qword_2A1747C20);
  _Unwind_Resume(a1);
}

uint64_t sub_29AAC8170(uint64_t result)
{
  v1 = *(result + 8);
  if ((v1 & 7) != 0)
  {
    atomic_fetch_add_explicit((v1 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  return result;
}

uint64_t sub_29AAC818C(uint64_t a1)
{
  v2 = *(a1 + 32);
  if ((v2 & 7) != 0)
  {
    atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (*(a1 + 23) < 0)
  {
    operator delete(*a1);
  }

  return a1;
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxGetUsdValue(uint64_t a1@<X0>, int a2@<W1>, uint64_t a3@<X8>)
{
  if ((atomic_load_explicit(&qword_2A1747C40, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1747C40))
  {
    sub_29A008E78(qword_2A1747C28, "default");
    __cxa_atexit(MEMORY[0x29EDC9388], qword_2A1747C28, &dword_299FE7000);
    __cxa_guard_release(&qword_2A1747C40);
  }

  if ((atomic_load_explicit(&qword_2A1747C60, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1747C60))
  {
    sub_29A008E78(&unk_2A1747C48, off_2A14FDC70[0]);
    __cxa_atexit(MEMORY[0x29EDC9388], &unk_2A1747C48, &dword_299FE7000);
    __cxa_guard_release(&qword_2A1747C60);
  }

  if ((atomic_load_explicit(&qword_2A1747C80, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1747C80))
  {
    sub_29A008E78(qword_2A1747C68, off_2A14FDC78[0]);
    __cxa_atexit(MEMORY[0x29EDC9388], qword_2A1747C68, &dword_299FE7000);
    __cxa_guard_release(&qword_2A1747C80);
  }

  if (*a1)
  {
    if (a2)
    {
      v6 = qword_2A1747C28;
    }

    else
    {
      v6 = qword_2A1747C68;
    }

    v7 = sub_29A8877BC((*a1 + 160), v6);
    if (v7)
    {
      v8 = (v7 + 5);
    }

    else
    {
      v8 = sub_29B1F31FC();
    }

    v9 = sub_29A8877BC((*a1 + 160), &unk_2A1747C48);
    if (v9)
    {
      v10 = (v9 + 5);
    }

    else
    {
      v10 = sub_29B1F31FC();
    }

    sub_29AAC8414(v8, v10, a3);
  }

  else
  {
    *(a3 + 8) = 0;
  }
}

void sub_29AAC8414(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  v75 = *MEMORY[0x29EDCA608];
  if ((atomic_load_explicit(&qword_2A1747CC0, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1747CC0))
  {
    sub_29A008E78(qword_2A1747CA8, "filename");
    __cxa_atexit(MEMORY[0x29EDC9388], qword_2A1747CA8, &dword_299FE7000);
    __cxa_guard_release(&qword_2A1747CC0);
  }

  if ((atomic_load_explicit(&qword_2A1747CE0, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1747CE0))
  {
    sub_29A008E78(qword_2A1747CC8, "geomname");
    __cxa_atexit(MEMORY[0x29EDC9388], qword_2A1747CC8, &dword_299FE7000);
    __cxa_guard_release(&qword_2A1747CE0);
  }

  v6 = *(a1 + 23);
  if ((v6 & 0x80u) != 0)
  {
    v6 = *(a1 + 8);
  }

  if (!v6)
  {
    goto LABEL_113;
  }

  sub_29B1FB24C(a1, a2, &v66);
  if (!v66)
  {
    goto LABEL_109;
  }

  if (sub_29B1F4450(v66))
  {
    v7 = 0;
    v8 = *sub_29B1F44B4(v66);
    *(a3 + 8) = &unk_2A20443C3;
    *a3 = v8;
    goto LABEL_110;
  }

  if (sub_29B1F3C5C(v66))
  {
    v7 = 0;
    v9 = *sub_29B1F3CC0(v66);
    *(a3 + 8) = &unk_2A204475B;
LABEL_11:
    *a3 = v9;
    goto LABEL_110;
  }

  if (sub_29B1F4818(v66))
  {
    v7 = 0;
    v10 = *sub_29B1F487C(v66);
LABEL_14:
    *(a3 + 8) = &unk_2A2044C63;
    *a3 = v10;
    goto LABEL_110;
  }

  if (sub_29B1F5038(v66))
  {
    v11 = sub_29B1F509C(v66);
    v12 = sub_29AAC9CE4(v11);
    sub_29AAC9D3C(&v67, v12);
    v7 = 0;
    *(a3 + 8) = &off_2A2044BA8 + 3;
    *a3 = v67;
    goto LABEL_110;
  }

  if (!sub_29B1F9070(v66))
  {
    if (sub_29B1F96C8(v66))
    {
      v13 = sub_29B1F972C(v66);
      *&v69 = 0;
      v67 = 0u;
      v68 = 0u;
      sub_29AAC9DA8(&v67, *(v13 + 1));
      v15 = *v13;
      v14 = *(v13 + 1);
      v16 = v14 & 0x3F;
      if (v14 > 0x3F || (v14 & 0x3F) != 0)
      {
        v17 = 0;
        v18 = &v15[v14 >> 6];
        do
        {
          LOBYTE(__p[0]) = (*v15 >> v17) & 1;
          sub_29A2CB240(&v67, __p);
          v15 += v17 == 63;
          if (v17 == 63)
          {
            v17 = 0;
          }

          else
          {
            ++v17;
          }
        }

        while (v15 != v18 || v17 != v16);
      }

      *(a3 + 8) = &off_2A20474B8;
      sub_29A18ECC8(a3, &v67);
      pxrInternal__aapl__pxrReserved__::VtArray<BOOL>::_DecRef();
    }

    if (sub_29B1F9314(v66))
    {
      v21 = sub_29B1F9378(v66);
      *&v69 = 0;
      v67 = 0u;
      v68 = 0u;
      sub_29A7A8F90(&v67, (*(v21 + 1) - *v21) >> 2);
      v23 = *v21;
      v22 = *(v21 + 1);
      while (v23 != v22)
      {
        LODWORD(__p[0]) = *v23;
        sub_29A7ACA64(&v67, __p);
        ++v23;
      }

      *(a3 + 8) = &off_2A2043D18;
      sub_29A18ECC8(a3, &v67);
      pxrInternal__aapl__pxrReserved__::VtArray<int>::_DecRef();
    }

    if (sub_29B1F9A9C(v66))
    {
      v24 = sub_29B1F9B00(v66);
      *&v69 = 0;
      v67 = 0u;
      v68 = 0u;
      sub_29A84DD38(&v67, (*(v24 + 1) - *v24) >> 2);
      v26 = *v24;
      v25 = *(v24 + 1);
      while (v26 != v25)
      {
        LODWORD(__p[0]) = *v26;
        sub_29A85289C(&v67, __p);
        ++v26;
      }

      *(a3 + 8) = &off_2A2042F70;
      sub_29A18ECC8(a3, &v67);
      pxrInternal__aapl__pxrReserved__::VtArray<float>::_DecRef();
    }

    if (sub_29B1F9E50(v66))
    {
      v27 = sub_29B1F9EB4(v66);
      *&v69 = 0;
      v67 = 0u;
      v68 = 0u;
      sub_29A7D6338(&v67, 0xAAAAAAAAAAAAAAABLL * ((*(v27 + 1) - *v27) >> 3));
      v29 = *v27;
      v28 = *(v27 + 1);
      while (v29 != v28)
      {
        if (*(v29 + 23) < 0)
        {
          sub_29A008D14(__p, *v29, *(v29 + 1));
        }

        else
        {
          v30 = *v29;
          v65 = *(v29 + 2);
          *__p = v30;
        }

        sub_29A2CB91C(&v67, __p);
        if (SHIBYTE(v65) < 0)
        {
          operator delete(__p[0]);
        }

        v29 = (v29 + 24);
      }

      *(a3 + 8) = off_2A20479C8;
      sub_29A18ECC8(a3, &v67);
      pxrInternal__aapl__pxrReserved__::VtArray<std::string>::_DecRef();
    }

    if (sub_29B1F5894(v66))
    {
      v31 = sub_29B1F58F8(v66);
      *&v67 = *v31;
      DWORD2(v67) = *(v31 + 2);
      *(a3 + 8) = &off_2A2042840 + 2;
      v32 = operator new(0x10uLL);
LABEL_55:
      v7 = 0;
      *v32 = v67;
      v32[2] = DWORD2(v67);
      v33 = v32 + 3;
LABEL_61:
      atomic_store(0, v33);
      *a3 = v32;
      atomic_fetch_add_explicit(v33, 1u, memory_order_relaxed);
      goto LABEL_110;
    }

    if (sub_29B1F5D14(v66))
    {
      v67 = *sub_29B1F5D78(v66);
      *(a3 + 8) = &off_2A2042A68 + 2;
      v32 = operator new(0x14uLL);
LABEL_60:
      v7 = 0;
      *v32 = v67;
      v33 = v32 + 4;
      goto LABEL_61;
    }

    if (sub_29B1F6190(v66))
    {
      v7 = 0;
      v34 = *sub_29B1F61F4(v66);
      v35 = &off_2A2042618;
LABEL_64:
      *a3 = v34;
      *(a3 + 8) = v35 | 3;
      goto LABEL_110;
    }

    if (sub_29B1F6600(v66))
    {
      v36 = sub_29B1F6664(v66);
      *&v67 = *v36;
      DWORD2(v67) = *(v36 + 2);
      *(a3 + 8) = &off_2A2042840 + 2;
      v32 = operator new(0x10uLL);
      goto LABEL_55;
    }

    if (sub_29B1F6A80(v66))
    {
      v67 = *sub_29B1F6AE4(v66);
      *(a3 + 8) = &off_2A2042A68 + 2;
      v32 = operator new(0x14uLL);
      goto LABEL_60;
    }

    if (sub_29B1F6EFC(v66))
    {
      v37 = sub_29B1F6F60(v66);
      for (i = 0; i != 2; ++i)
      {
        v39 = sub_29AAC9CE4(v37);
        sub_29AAC9D3C(__p, v39);
        *(&v67 + i) = __p[0];
        ++v37;
      }

      v7 = 0;
      *(a3 + 8) = &off_2A2042560 + 3;
      v9 = v67;
      goto LABEL_11;
    }

    if (sub_29B1F72EC(v66))
    {
      v40 = sub_29B1F7350(v66);
      for (j = 0; j != 3; ++j)
      {
        v42 = sub_29AAC9CE4(v40);
        sub_29AAC9D3C(__p, v42);
        *(&v67 + j) = __p[0];
        ++v40;
      }

      v7 = 0;
      *(a3 + 8) = &off_2A2042788 + 3;
      *a3 = v67;
      *(a3 + 4) = WORD2(v67);
      goto LABEL_110;
    }

    if (sub_29B1F76F0(v66))
    {
      v43 = sub_29B1F7754(v66);
      for (k = 0; k != 4; ++k)
      {
        v45 = sub_29AAC9CE4(v43);
        sub_29AAC9D3C(__p, v45);
        *(&v67 + k) = __p[0];
        ++v43;
      }

      v7 = 0;
      *a3 = v67;
      *(a3 + 8) = &off_2A20429B0 + 3;
      goto LABEL_110;
    }

    if (sub_29B1F7AE8(v66))
    {
      v7 = 0;
      v34 = *sub_29B1F7B4C(v66);
      v35 = &off_2A2047EE8;
      goto LABEL_64;
    }

    if (sub_29B1F7ED8(v66))
    {
      v46 = sub_29B1F7F3C(v66);
      *&v67 = *v46;
      DWORD2(v67) = *(v46 + 2);
      *(a3 + 8) = &off_2A2048058 + 2;
      v32 = operator new(0x10uLL);
      goto LABEL_55;
    }

    if (sub_29B1F82D8(v66))
    {
      v67 = *sub_29B1F833C(v66);
      *(a3 + 8) = &off_2A20481C8 + 2;
      v32 = operator new(0x14uLL);
      goto LABEL_60;
    }

    if (sub_29B1F86D0(v66))
    {
      v47 = sub_29B1F8734(v66);
      v48 = 0;
      v49 = &v67;
      do
      {
        for (m = 0; m != 3; ++m)
        {
          *(v49 + m) = *&v47[4 * m];
        }

        ++v48;
        v47 += 12;
        v49 = (v49 + 24);
      }

      while (v48 != 3);
      *(a3 + 8) = &off_2A20484A8 + 2;
      v32 = operator new(0x50uLL);
      v7 = 0;
      v51 = v70;
      *(v32 + 2) = v69;
      *(v32 + 3) = v51;
      *(v32 + 8) = v71;
      v52 = v68;
      *v32 = v67;
      *(v32 + 1) = v52;
      v33 = v32 + 18;
      goto LABEL_61;
    }

    if (sub_29B1F8BA0(v66))
    {
      v53 = sub_29B1F8C04(v66);
      for (n = 0; n != 4; ++n)
      {
        v55 = (&v67 + 2 * n);
        v56 = *&v53[16 * n];
        *v55 = vcvtq_f64_f32(*v56.f32);
        v55[1] = vcvt_hight_f64_f32(v56);
      }

      *(a3 + 8) = &off_2A2042BD8 + 2;
      v32 = operator new(0x88uLL);
      v7 = 0;
      v57 = v72;
      *(v32 + 4) = v71;
      *(v32 + 5) = v57;
      v58 = v74;
      *(v32 + 6) = v73;
      *(v32 + 7) = v58;
      v59 = v68;
      *v32 = v67;
      *(v32 + 1) = v59;
      v60 = v70;
      *(v32 + 2) = v69;
      *(v32 + 3) = v60;
      v33 = v32 + 32;
      goto LABEL_61;
    }

    if (sub_29B1FA2CC(v66))
    {
      v7 = 0;
      v61 = *sub_29B1FA330(v66);
      *(a3 + 8) = &unk_2A204475B;
      *a3 = v61;
      goto LABEL_110;
    }

    if (sub_29B1FAA70(v66))
    {
      v7 = 0;
      v10 = *sub_29B1FAAD4(v66);
      goto LABEL_14;
    }

    *&v67 = "usdMtlx/utils.mm";
    *(&v67 + 1) = "_GetUsdValue";
    *&v68 = 164;
    *(&v68 + 1) = "VtValue pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_GetUsdValue(const std::string &, const std::string &)";
    LOBYTE(v69) = 0;
    if (*(a2 + 23) >= 0)
    {
      v63 = a2;
    }

    else
    {
      v63 = *a2;
    }

    pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&v67, "MaterialX unsupported type %s", v62, v63);
LABEL_109:
    v7 = 1;
    goto LABEL_110;
  }

  if (sub_29A1B00DC(a2, qword_2A1747CA8))
  {
    sub_29B1F90D4(v66);
    pxrInternal__aapl__pxrReserved__::SdfAssetPath::SdfAssetPath(&v67);
    *(a3 + 8) = &off_2A2047B38;
    sub_29A215A28(a3, &v67);
    sub_29A0D2850(&v67);
  }

  else
  {
    sub_29A1B00DC(a2, qword_2A1747CC8);
    v20 = sub_29B1F90D4(v66);
    *(a3 + 8) = &off_2A2044DD0;
    sub_29A1B01B8(a3, v20);
  }

  v7 = 0;
LABEL_110:
  if (*(&v66 + 1))
  {
    sub_29A014BEC(*(&v66 + 1));
  }

  if (v7)
  {
LABEL_113:
    *(a3 + 8) = 0;
  }
}

void sub_29AAC8E50(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *__p, uint64_t a12, int a13, __int16 a14, char a15, char a16, uint64_t a17, uint64_t a18, std::__shared_weak_count *a19, char a20)
{
  if (a19)
  {
    sub_29A014BEC(a19);
  }

  _Unwind_Resume(exception_object);
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxGetPackedUsdValues(std::string *a1@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  v21 = *MEMORY[0x29EDCA608];
  *a3 = 0;
  a3[1] = 0;
  a3[2] = 0;
  v6 = *(a2 + 23);
  v7 = v6;
  if ((v6 & 0x80u) != 0)
  {
    v6 = *(a2 + 8);
  }

  if (v6 < 5 || (v7 >= 0 ? (v8 = a2) : (v8 = *a2), strcmp((v8 + v6 - 5), "array")))
  {
    sub_29A008E78(&__p, ",");
    pxrInternal__aapl__pxrReserved__::TfStringSplit(a1, &__p, &v17);
    if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
    {
      operator delete(__p.__r_.__value_.__l.__data_);
    }

    v9 = v17;
    for (i = v18; v9 != i; v9 = (v9 + 24))
    {
      if (*(v9 + 23) < 0)
      {
        sub_29A008D14(&__p, *v9, *(v9 + 1));
      }

      else
      {
        v11 = *v9;
        __p.__r_.__value_.__r.__words[2] = *(v9 + 2);
        *&__p.__r_.__value_.__l.__data_ = v11;
      }

      pxrInternal__aapl__pxrReserved__::TfStringTrim(" \n\t\r", &__p, &v15);
      sub_29AAC8414(&v15, a2, &v19);
      if (SHIBYTE(v15.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v15.__r_.__value_.__l.__data_);
      }

      v12 = v20;
      if (v20)
      {
        sub_29A4C82AC(a3, &v19);
      }

      else
      {
        v14 = *a3;
          ;
        }

        a3[1] = v14;
      }

      sub_29A186B14(&v19);
      if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(__p.__r_.__value_.__l.__data_);
      }

      if (!v12)
      {
        break;
      }
    }

    __p.__r_.__value_.__r.__words[0] = &v17;
    sub_29A012C90(&__p);
  }
}

void sub_29AAC918C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *a10, uint64_t a11, int a12, __int16 a13, char a14, char a15, void *__p, uint64_t a17, int a18, __int16 a19, char a20, char a21, uint64_t a22, char a23, uint64_t a24, uint64_t a25, char a26)
{
  if (a21 < 0)
  {
    operator delete(__p);
  }

  sub_29A1D0D38(&__p);
  _Unwind_Resume(a1);
}

__n128 pxrInternal__aapl__pxrReserved__::UsdMtlxSplitStringArray@<Q0>(std::string *__str@<X0>, uint64_t *a2@<X8>)
{
  if ((atomic_load_explicit(&qword_2A1747CA0, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1747CA0))
  {
    sub_29A008E78(&unk_2A1747C88, ",");
    __cxa_atexit(MEMORY[0x29EDC9388], &unk_2A1747C88, &dword_299FE7000);
    __cxa_guard_release(&qword_2A1747CA0);
  }

  sub_29B1F3590(__str, &unk_2A1747C88, a2);
  v5 = *a2;
  v6 = a2[1];
  while (v5 != v6)
  {
    sub_29B1F3AB0(v5, &v7);
    if (*(v5 + 23) < 0)
    {
      operator delete(*v5);
    }

    result = *&v7.__r_.__value_.__l.__data_;
    *(v5 + 16) = *(&v7.__r_.__value_.__l + 2);
    *v5 = result;
    v5 += 24;
  }

  return result;
}

void *sub_29AAC9330(void *a1, std::string *a2)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  sub_29B20661C(a1, a2);
  return a1;
}

void sub_29AAC9368(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va, a2);
  sub_29A012C90(va);
  _Unwind_Resume(a1);
}

void sub_29AAC9380(void ***a1)
{
  v1 = *a1;
  v2 = **a1;
  if (v2)
  {
    v4 = v1[1];
    v5 = **a1;
    if (v4 != v2)
    {
      do
      {
        v4 -= 4;
        v6 = v4;
        sub_29A012C90(&v6);
      }

      while (v4 != v2);
      v5 = **a1;
    }

    v1[1] = v2;
    operator delete(v5);
  }
}

uint64_t sub_29AAC9420(uint64_t a1)
{
  v3 = (a1 + 40);
  sub_29A012C90(&v3);
  sub_29AAC94FC(a1 + 8);
  return a1;
}

uint64_t sub_29AAC9464(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t sub_29AAC94FC(uint64_t a1)
{
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  return a1;
}

void *sub_29AAC9584(uint64_t a1)
{
  result = operator new(0x10uLL);
  v3 = *(a1 + 8);
  *result = &unk_2A2070D48;
  result[1] = v3;
  return result;
}

uint64_t sub_29AAC95CC(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_2A2070D48;
  a2[1] = v2;
  return result;
}

void sub_29AAC95F8(uint64_t a1, std::string::size_type *a2, char **a3, uint64_t *a4, __int16 **a5)
{
  v9 = *a2;
  v8 = a2[1];
  *a2 = 0;
  a2[1] = 0;
  v10 = *a5;
  IsPackageRelativePath = pxrInternal__aapl__pxrReserved__::ArIsPackageRelativePath(*(a1 + 8));
  if (!IsPackageRelativePath)
  {
    Resolver = pxrInternal__aapl__pxrReserved__::ArGetResolver(IsPackageRelativePath);
    sub_29B206794(a3, 1, &v26);
    Identifier = pxrInternal__aapl__pxrReserved__::ArResolver::CreateIdentifier(Resolver);
    v27 = v21;
    *(&v21.__r_.__value_.__s + 23) = 0;
    v21.__r_.__value_.__s.__data_[0] = 0;
    if ((SHIBYTE(v26.__r_.__value_.__r.__words[2]) & 0x80000000) == 0)
    {
      goto LABEL_13;
    }

    goto LABEL_12;
  }

  memset(&v26, 0, sizeof(v26));
  memset(&__str, 0, sizeof(__str));
  pxrInternal__aapl__pxrReserved__::ArSplitPackageRelativePathInner(*(a1 + 8), &v21);
  v20.__r_.__value_.__r.__words[0] = &v26;
  v20.__r_.__value_.__l.__size_ = &__str;
  sub_29A1CFA4C(&v20, &v21);
  if (v24 < 0)
  {
    operator delete(__p);
  }

  if (SHIBYTE(v21.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v21.__r_.__value_.__l.__data_);
  }

  pxrInternal__aapl__pxrReserved__::TfGetPathName(&__str, &v21);
  if ((v21.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    size = HIBYTE(v21.__r_.__value_.__r.__words[2]);
  }

  else
  {
    size = v21.__r_.__value_.__l.__size_;
  }

  if (size)
  {
    sub_29B206794(a3, 1, &v18);
    pxrInternal__aapl__pxrReserved__::TfStringCatPaths(&v21.__r_.__value_.__l.__data_, &v18, &v19);
  }

  else
  {
    sub_29B206794(a3, 1, &v19);
  }

  pxrInternal__aapl__pxrReserved__::TfNormPath(&v20, &v19, 0);
  if (SHIBYTE(v21.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v21.__r_.__value_.__l.__data_);
  }

  v21 = v20;
  *(&v20.__r_.__value_.__s + 23) = 0;
  v20.__r_.__value_.__s.__data_[0] = 0;
  if (SHIBYTE(v19.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v19.__r_.__value_.__l.__data_);
  }

  if (size && SHIBYTE(v18.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v18.__r_.__value_.__l.__data_);
  }

  pxrInternal__aapl__pxrReserved__::ArJoinPackageRelativePath(&v26, &v21, &v20);
  v27 = v20;
  if (SHIBYTE(v21.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v21.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(__str.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(__str.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v26.__r_.__value_.__r.__words[2]) < 0)
  {
LABEL_12:
    operator delete(v26.__r_.__value_.__l.__data_);
  }

LABEL_13:
  v15 = pxrInternal__aapl__pxrReserved__::ArGetResolver(Identifier);
  pxrInternal__aapl__pxrReserved__::ArResolver::Resolve(v15);
  v16 = HIBYTE(v26.__r_.__value_.__r.__words[2]);
  if ((v26.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
  {
    v16 = v26.__r_.__value_.__l.__size_;
  }

  if (v16)
  {
    v21.__r_.__value_.__r.__words[0] = v9;
    v21.__r_.__value_.__l.__size_ = v8;
    if (v8)
    {
      atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    sub_29AAC4FA4(&v21, &v26, a4, v10);
    if (v8)
    {
      sub_29A014BEC(v8);
    }
  }

  else
  {
    v21.__r_.__value_.__r.__words[0] = "usdMtlx/utils.mm";
    v21.__r_.__value_.__l.__size_ = "operator()";
    v21.__r_.__value_.__r.__words[2] = 344;
    __p = "auto pxrInternal__aapl__pxrReserved__::_ReadFromString(mx::DocumentPtr, const std::string &, const ArResolvedPath &, const mx::FileSearchPath &, const mx::XmlReadOptions *)::(anonymous class)::operator()(mx::DocumentPtr, const mx::FilePath &, const mx::FileSearchPath &, const mx::XmlReadOptions *) const";
    v23 = 0;
    v17 = &v27;
    if ((v27.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
    {
      v17 = v27.__r_.__value_.__r.__words[0];
    }

    pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v21, 3, "Unable to open MaterialX document '%s'", v17);
  }

  if (SHIBYTE(v26.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v26.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v27.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v27.__r_.__value_.__l.__data_);
  }

  if (v8)
  {
    sub_29A014BEC(v8);
  }
}

void sub_29AAC98EC(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *a10, uint64_t a11, int a12, __int16 a13, char a14, char a15, void *a16, uint64_t a17, int a18, __int16 a19, char a20, char a21, uint64_t a22, uint64_t a23, uint64_t a24, void *__p, uint64_t a26, int a27, __int16 a28, char a29, char a30, uint64_t a31, uint64_t a32, uint64_t a33, void *a34, uint64_t a35, int a36, __int16 a37, char a38, char a39)
{
  if (a30 < 0)
  {
    operator delete(__p);
  }

  if (a39 < 0)
  {
    operator delete(a34);
  }

  if (*(v40 - 113) < 0)
  {
    operator delete(*(v40 - 136));
  }

  if (v39)
  {
    sub_29A014BEC(v39);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_29AAC99D4(uint64_t a1, uint64_t a2)
{
  if (sub_29A00E9CC(a2, &unk_2A2070DB8))
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void *sub_29AAC9A20(void *result, void *a2)
{
  v5[3] = *MEMORY[0x29EDCA608];
  if (a2 != result)
  {
    v3 = result;
    result = result[3];
    v4 = a2[3];
    if (result == v3)
    {
      if (v4 == a2)
      {
        (*(*result + 24))(result, v5);
        (*(*v3[3] + 32))(v3[3]);
        v3[3] = 0;
        (*(*a2[3] + 24))(a2[3], v3);
        (*(*a2[3] + 32))(a2[3]);
        a2[3] = 0;
        v3[3] = v3;
        (*(v5[0] + 24))(v5, a2);
        result = (*(v5[0] + 32))(v5);
      }

      else
      {
        (*(*result + 24))(result, a2);
        result = (*(*v3[3] + 32))(v3[3]);
        v3[3] = a2[3];
      }

      a2[3] = a2;
    }

    else if (v4 == a2)
    {
      (*(*v4 + 24))(a2[3], v3);
      result = (*(*a2[3] + 32))(a2[3]);
      a2[3] = v3[3];
      v3[3] = v3;
    }

    else
    {
      v3[3] = v4;
      a2[3] = result;
    }
  }

  return result;
}

void sub_29AAC9C78(_Unwind_Exception *a1, int a2)
{
  if (!a2)
  {
    _Unwind_Resume(a1);
  }

  sub_299FEDEEC(a1);
}

const void **sub_29AAC9C84(uint64_t a1, const void **a2)
{
  result = sub_29A8877BC((a1 + 160), a2);
  if (result)
  {
    v5 = sub_29A8877BC((a1 + 160), a2);
    if (v5)
    {
      v6 = (v5 + 5);
    }

    else
    {
      v6 = sub_29B1F31FC();
    }

    return sub_29B1F4640(v6);
  }

  return result;
}

void sub_29AAC9CD4(void *a1)
{
  __cxa_begin_catch(a1);
  __cxa_end_catch();
  JUMPOUT(0x29AAC9CC8);
}

float sub_29AAC9CE4(__int16 *a1)
{
  v1 = *a1;
  v2 = v1 & 0x7FFF;
  if ((v1 & 0x7C00) != 0)
  {
    v2 = (v1 & 0x7FFF) + 114688;
  }

  if (v2 >> 10 > 0x8E)
  {
    v2 += 114688;
  }

  v3 = vcvts_n_f32_u32(v2, 0x18uLL);
  v4 = v1 & 0x80000000;
  if (v2 < 0x400)
  {
    v5 = -1;
  }

  else
  {
    v5 = 1;
  }

  LODWORD(result) = LODWORD(v3) & v5 | (v2 << 13) & ~v5 | v4;
  return result;
}

_WORD *sub_29AAC9D3C(_WORD *a1, float a2)
{
  if (a2 == 0.0)
  {
    v3 = HIWORD(LODWORD(a2));
  }

  else if (pxrInternal__aapl__pxrReserved__::pxr_half::half::_eLut[LODWORD(a2) >> 23])
  {
    v3 = pxrInternal__aapl__pxrReserved__::pxr_half::half::_eLut[LODWORD(a2) >> 23] + (((LODWORD(a2) & 0x7FFFFF) + ((LODWORD(a2) >> 13) & 1) + 4095) >> 13);
  }

  else
  {
    LOWORD(v3) = pxrInternal__aapl__pxrReserved__::pxr_half::half::convert(LODWORD(a2));
  }

  *a1 = v3;
  return a1;
}

unint64_t *sub_29AAC9DA8(unint64_t *result, unint64_t a2)
{
  v2 = result[4];
  if (v2)
  {
    if (result[3])
    {
      v3 = result;
    }

    else
    {
      v3 = (v2 - 8);
    }

    if (*v3 < a2)
    {
      v4 = *result;
      v5 = sub_29A20D160(result, a2);
      if (v4)
      {
        for (i = 0; i != v4; ++i)
        {
          *(v5 + i) = *(v2 + i);
        }
      }

LABEL_12:
      pxrInternal__aapl__pxrReserved__::VtArray<BOOL>::_DecRef();
    }
  }

  else if (a2)
  {
    sub_29A20D160(result, a2);
    goto LABEL_12;
  }

  return result;
}

uint64_t *sub_29AAC9E40(uint64_t **a1, const void **a2, uint64_t a3)
{
  v5 = sub_29A00B0D0(a1, &v8, a2);
  result = *v5;
  if (!*v5)
  {
    sub_29AAC9EC8(a1, a3, &v7);
    sub_29A00B204(a1, v8, v5, v7);
    return v7;
  }

  return result;
}

_BYTE *sub_29AAC9EC8@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, void *a3@<X8>)
{
  result = operator new(0x48uLL);
  v7 = result;
  *a3 = result;
  a3[1] = a1;
  a3[2] = 0;
  if (*(a2 + 23) < 0)
  {
    result = sub_29A008D14(result + 32, *a2, *(a2 + 8));
  }

  else
  {
    *(result + 2) = *a2;
    *(result + 6) = *(a2 + 16);
  }

  *(v7 + 7) = 0;
  *(v7 + 8) = 0;
  *(a3 + 16) = 1;
  return result;
}

uint64_t sub_29AAC9F58(uint64_t a1, const void **a2, uint64_t a3)
{
  *a1 = 0u;
  *(a1 + 16) = 0u;
  *(a1 + 32) = 1065353216;
  if (a3)
  {
    v5 = 48 * a3;
    do
    {
      sub_29AAC9FD4(a1, a2, a2);
      a2 += 6;
      v5 -= 48;
    }

    while (v5);
  }

  return a1;
}

const void **sub_29AAC9FD4(uint64_t a1, const void **a2, __int128 *a3)
{
  v7 = sub_29A12A708(a1, a2);
  v8 = v7;
  v9 = *(a1 + 8);
  if (v9)
  {
    v10 = vcnt_s8(v9);
    v10.i16[0] = vaddlv_u8(v10);
    v11 = v10.u32[0];
    if (v10.u32[0] > 1uLL)
    {
      v3 = v7;
      if (v7 >= v9)
      {
        v3 = v7 % v9;
      }
    }

    else
    {
      v3 = (v9 - 1) & v7;
    }

    v12 = *(*a1 + 8 * v3);
    if (v12)
    {
      for (i = *v12; i; i = *i)
      {
        v14 = i[1];
        if (v14 == v8)
        {
          if (sub_29A0EC4B8(a1, i + 2, a2))
          {
            return i;
          }
        }

        else
        {
          if (v11 > 1)
          {
            if (v14 >= v9)
            {
              v14 %= v9;
            }
          }

          else
          {
            v14 &= v9 - 1;
          }

          if (v14 != v3)
          {
            break;
          }
        }
      }
    }
  }

  sub_29AACA228(a1, v8, a3, v26);
  v15 = (*(a1 + 24) + 1);
  v16 = *(a1 + 32);
  if (!v9 || (v16 * v9) < v15)
  {
    v17 = 1;
    if (v9 >= 3)
    {
      v17 = (v9 & (v9 - 1)) != 0;
    }

    v18 = v17 | (2 * v9);
    v19 = vcvtps_u32_f32(v15 / v16);
    if (v18 <= v19)
    {
      v20 = v19;
    }

    else
    {
      v20 = v18;
    }

    sub_29A019AA0(a1, v20);
    v9 = *(a1 + 8);
    if ((v9 & (v9 - 1)) != 0)
    {
      if (v8 >= v9)
      {
        v3 = v8 % v9;
      }

      else
      {
        v3 = v8;
      }
    }

    else
    {
      v3 = (v9 - 1) & v8;
    }
  }

  v21 = *a1;
  v22 = *(*a1 + 8 * v3);
  if (v22)
  {
    i = v26[0];
    *v26[0] = *v22;
    *v22 = i;
  }

  else
  {
    v23 = v26[0];
    *v26[0] = *(a1 + 16);
    *(a1 + 16) = v23;
    *(v21 + 8 * v3) = a1 + 16;
    i = v26[0];
    if (*v26[0])
    {
      v24 = *(*v26[0] + 8);
      if ((v9 & (v9 - 1)) != 0)
      {
        if (v24 >= v9)
        {
          v24 %= v9;
        }
      }

      else
      {
        v24 &= v9 - 1;
      }

      *(*a1 + 8 * v24) = v26[0];
      i = v26[0];
    }
  }

  ++*(a1 + 24);
  return i;
}

void sub_29AACA210(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va, a2);
  sub_29AACA32C(va, 0);
  _Unwind_Resume(a1);
}

void *sub_29AACA228@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, __int128 *a3@<X2>, void *a4@<X8>)
{
  v8 = operator new(0x40uLL);
  *a4 = v8;
  a4[1] = a1;
  a4[2] = 0;
  *v8 = 0;
  v8[1] = a2;
  result = sub_29AACA298(v8 + 2, a3);
  *(a4 + 16) = 1;
  return result;
}

void *sub_29AACA298(void *__dst, __int128 *a2)
{
  if (*(a2 + 23) < 0)
  {
    sub_29A008D14(__dst, *a2, *(a2 + 1));
  }

  else
  {
    v4 = *a2;
    __dst[2] = *(a2 + 2);
    *__dst = v4;
  }

  __dst[3] = *(a2 + 3);
  v5 = *(a2 + 4);
  __dst[4] = v5;
  if ((v5 & 7) != 0 && (atomic_fetch_add_explicit((v5 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
  {
    __dst[4] &= 0xFFFFFFFFFFFFFFF8;
  }

  v6 = *(a2 + 10);
  *(__dst + 44) = *(a2 + 44);
  *(__dst + 10) = v6;
  return __dst;
}

void sub_29AACA32C(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AACA388(v2 + 16);
    }

    operator delete(v2);
  }
}

void sub_29AACA388(uint64_t a1)
{
  v1 = *(a1 + 32);
  if ((v1 & 7) != 0)
  {
    atomic_fetch_add_explicit((v1 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (*(a1 + 23) < 0)
  {
    operator delete(*a1);
  }
}

uint64_t sub_29AACA3B4(uint64_t a1)
{
  sub_29AACA3F0(a1, *(a1 + 16));
  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    operator delete(v2);
  }

  return a1;
}

void sub_29AACA3F0(uint64_t a1, void *a2)
{
  if (a2)
  {
    v2 = a2;
    do
    {
      v3 = *v2;
      sub_29AACA388((v2 + 2));
      operator delete(v2);
      v2 = v3;
    }

    while (v3);
  }
}

void pxrInternal__aapl__pxrReserved__::UsdMtlx_TestString(const std::string *a1@<X0>, void *a2@<X8>)
{
  sub_29B1C6D8C(&v8, a1);
  v5 = v8;
  v6 = v9;
  if (v9)
  {
    atomic_fetch_add_explicit(&v9->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  memset(&__p, 0, sizeof(__p));
  sub_29B20A284(&v5, a1, &__p, 0);
  p_p = &__p;
  sub_29AAC9380(&p_p);
  if (v6)
  {
    sub_29A014BEC(v6);
  }

  if (v8)
  {
    sub_29A008E78(&__p, "tmp.usda");
    v5 = 0;
    v6 = 0;
    pxrInternal__aapl__pxrReserved__::UsdStage::CreateInMemory(&__p, &v5, 0, a2);
  }

  *a2 = 0;
  if (v9)
  {
    sub_29A014BEC(v9);
  }
}

void pxrInternal__aapl__pxrReserved__::UsdMtlx_TestFile(uint64_t a1@<X0>, void *a2@<X8>)
{
  pxrInternal__aapl__pxrReserved__::UsdMtlxReadDocument(a1, &v5);
  if (v5)
  {
    sub_29A008E78(&__p, "tmp.usda");
    v4[0] = 0;
    v4[1] = 0;
    pxrInternal__aapl__pxrReserved__::UsdStage::CreateInMemory(&__p, v4, 0, a2);
  }

  *a2 = 0;
  if (v6)
  {
    sub_29A014BEC(v6);
  }
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType::~UsdMtlxFileFormatTokens_StaticTokenType(pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType *this)
{
  v4 = (this + 24);
  sub_29A124AB0(&v4);
  v2 = *(this + 2);
  if ((v2 & 7) != 0)
  {
    atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  v3 = *(this + 1);
  if ((v3 & 7) != 0)
  {
    atomic_fetch_add_explicit((v3 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if ((*this & 7) != 0)
  {
    atomic_fetch_add_explicit((*this & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }
}

pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType *pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType::UsdMtlxFileFormatTokens_StaticTokenType(pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType *this)
{
  v16 = *MEMORY[0x29EDCA608];
  v2 = pxrInternal__aapl__pxrReserved__::TfToken::TfToken(this, "mtlx", 0);
  pxrInternal__aapl__pxrReserved__::TfToken::TfToken(v2 + 8, "1.0", 0);
  pxrInternal__aapl__pxrReserved__::TfToken::TfToken(this + 16, "usd", 0);
  v3 = (this + 24);
  v4 = *this;
  v13 = v4;
  if ((v4 & 7) != 0)
  {
    v5 = (v4 & 0xFFFFFFFFFFFFFFF8);
    if ((atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed) & 1) == 0)
    {
      v13 = v5;
    }
  }

  v6 = *(this + 1);
  v14 = v6;
  if ((v6 & 7) != 0)
  {
    v7 = (v6 & 0xFFFFFFFFFFFFFFF8);
    if ((atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed) & 1) == 0)
    {
      v14 = v7;
    }
  }

  v8 = *(this + 2);
  v15 = v8;
  if ((v8 & 7) != 0)
  {
    v9 = (v8 & 0xFFFFFFFFFFFFFFF8);
    if ((atomic_fetch_add_explicit(v9, 2u, memory_order_relaxed) & 1) == 0)
    {
      v15 = v9;
    }
  }

  *v3 = 0;
  *(this + 4) = 0;
  *(this + 5) = 0;
  sub_29A12EF7C(v3, &v13, &v16, 3uLL);
  for (i = 16; i != -8; i -= 8)
  {
    v11 = *(&v13 + i);
    if ((v11 & 7) != 0)
    {
      atomic_fetch_add_explicit((v11 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }
  }

  return this;
}

void sub_29AACB150(_Unwind_Exception *a1)
{
  v3 = 16;
  while (1)
  {
    v4 = *(v2 + v3);
    if ((v4 & 7) != 0)
    {
      atomic_fetch_add_explicit((v4 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    v3 -= 8;
    if (v3 == -8)
    {
      v5 = v1[2];
      if ((v5 & 7) != 0)
      {
        atomic_fetch_add_explicit((v5 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      v6 = v1[1];
      if ((v6 & 7) != 0)
      {
        atomic_fetch_add_explicit((v6 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      if ((*v1 & 7) != 0)
      {
        atomic_fetch_add_explicit((*v1 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      _Unwind_Resume(a1);
    }
  }
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat::UsdMtlxFileFormat(pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat *this)
{
  v2 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  if (!v2)
  {
    v2 = sub_29AACBE9C(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  }

  v3 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  if (!v3)
  {
    v3 = sub_29AACBE9C(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  }

  v4 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  if (!v4)
  {
    v4 = sub_29AACBE9C(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  }

  v5 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  if (!v5)
  {
    v5 = sub_29AACBE9C(&pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens);
  }

  if ((*v5 & 0xFFFFFFFFFFFFFFF8) != 0)
  {
    EmptyString = ((*v5 & 0xFFFFFFFFFFFFFFF8) + 16);
  }

  else
  {
    EmptyString = pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(v5);
  }

  pxrInternal__aapl__pxrReserved__::SdfFileFormat::SdfFileFormat(this, v2, v3 + 1, v4 + 2, EmptyString);
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat::~UsdMtlxFileFormat(pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat *this)
{
  pxrInternal__aapl__pxrReserved__::SdfFileFormat::~SdfFileFormat(this);

  operator delete(v1);
}

BOOL pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat::CanRead(pxrInternal__aapl__pxrReserved__::SdfFileFormat *a1, uint64_t a2)
{
  pxrInternal__aapl__pxrReserved__::TfGetExtension(a2, &__p);
  FormatId = pxrInternal__aapl__pxrReserved__::SdfFileFormat::GetFormatId(a1);
  v4 = pxrInternal__aapl__pxrReserved__::TfToken::operator==(FormatId, &__p.__r_.__value_.__l.__data_);
  if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(__p.__r_.__value_.__l.__data_);
  }

  return v4;
}

void sub_29AACB358(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

uint64_t pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat::Read(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  sub_29A02887C(__p, *a4, *(a4 + 8) - *a4);
  v6 = (*(*a1 + 88))(a1, a2, __p);
  if (v9 < 0)
  {
    operator delete(__p[0]);
  }

  return v6;
}

void sub_29AACB7B0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat::WriteToString()
{
  v0 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdUsdaFileFormatTokens);
  if (!v0)
  {
    v0 = sub_29A34AE68(&pxrInternal__aapl__pxrReserved__::UsdUsdaFileFormatTokens);
  }

  pxrInternal__aapl__pxrReserved__::SdfFileFormat::FindById(v0, v1);
  sub_29A1DA734(v1);
}

void sub_29AACBC04(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10)
{
  if (a10)
  {
    sub_29B28D068(a10);
  }

  _Unwind_Resume(exception_object);
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormat::WriteToStream()
{
  v0 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdUsdaFileFormatTokens);
  if (!v0)
  {
    v0 = sub_29A34AE68(&pxrInternal__aapl__pxrReserved__::UsdUsdaFileFormatTokens);
  }

  pxrInternal__aapl__pxrReserved__::SdfFileFormat::FindById(v0, v1);
  sub_29A1DA734(v1);
}

void sub_29AACBCC4(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10)
{
  if (a10)
  {
    sub_29B28D068(a10);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_29AACBCDC()
{
  v2 = nullsub_1518;
  return sub_29AACBD38(v0);
}

uint64_t sub_29AACBD38(uint64_t *a1)
{
  v2 = operator new(8uLL);
  *v2 = &unk_2A2070EC8;
  v4 = v2;
  pxrInternal__aapl__pxrReserved__::TfType::SetFactory(a1, &v4);
  result = v4;
  v4 = 0;
  if (result)
  {
    return (*(*result + 8))(result);
  }

  return result;
}

void sub_29AACBDC4(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10)
{
  if (a10)
  {
    sub_29B290BEC();
  }

  _Unwind_Resume(exception_object);
}

void sub_29AACBDE8(pxrInternal__aapl__pxrReserved__::Sdf_FileFormatFactoryBase *a1)
{
  pxrInternal__aapl__pxrReserved__::Sdf_FileFormatFactoryBase::~Sdf_FileFormatFactoryBase(a1);

  operator delete(v1);
}

pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType *sub_29AACBE9C(atomic_ullong *a1)
{
  result = sub_29AACBEE4();
  v3 = 0;
  atomic_compare_exchange_strong(a1, &v3, result);
  if (v3)
  {
    if (result)
    {
      pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType::~UsdMtlxFileFormatTokens_StaticTokenType(result);
      operator delete(v4);
    }

    return atomic_load(a1);
  }

  return result;
}

pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType *sub_29AACBEE4()
{
  v0 = operator new(0x30uLL);
  pxrInternal__aapl__pxrReserved__::UsdMtlxFileFormatTokens_StaticTokenType::UsdMtlxFileFormatTokens_StaticTokenType(v0);
  return v0;
}

void sub_29AACBF28()
{
  pxrInternal__aapl__pxrReserved__::TfEnum::_AddName(qword_2A2070EF8, 0, "USDMTLX_READER", 0);
  v0 = sub_29AACBF84();

  pxrInternal__aapl__pxrReserved__::TfDebug::_RegisterDebugSymbolImpl(v0, "USDMTLX_READER", "UsdMtlx reader details");
}

uint64_t sub_29AACBF84()
{
  if ((atomic_load_explicit(&qword_2A14F8FE0, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A14F8FE0))
  {
    v1 = operator new(4uLL);
    *v1 = 0;
    qword_2A14F8FD8 = v1;
    __cxa_guard_release(&qword_2A14F8FE0);
  }

  return qword_2A14F8FD8;
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxRead(uint64_t *a1, void *a2, pxrInternal__aapl__pxrReserved__::SdfPath *a3, pxrInternal__aapl__pxrReserved__::SdfPath *a4)
{
  v103 = *MEMORY[0x29EDCA608];
  if (*a1)
  {
    v5 = sub_29B2ACEC8(a2);
    if (v6 & 1 | v5)
    {
      if (pxrInternal__aapl__pxrReserved__::SdfPath::IsPrimPath(a3))
      {
        if (pxrInternal__aapl__pxrReserved__::SdfPath::IsPrimPath(a4))
        {
          sub_29B2BD43C(&v70, a2);
          sub_29AAD1438();
          sub_29AAD14B4(v95, a1, &qword_2A1747D30);
          v7 = *(v95[0] + 23);
          if (v7 < 0)
          {
            v7 = *(v95[0] + 1);
          }

          if (v7)
          {
            pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->();
          }

          sub_29AAD1438();
          sub_29AAD14B4(v91, a1, &qword_2A1747D48);
          v8 = *(v91[0] + 23);
          if (v8 < 0)
          {
            v8 = *(v91[0] + 1);
          }

          if (v8)
          {
            pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->();
          }

          v9 = sub_29AAC1FF8(*a1);
          v10 = *(v9 + 23);
          if ((v10 & 0x80u) != 0)
          {
            v10 = *(v9 + 1);
          }

          if (v10)
          {
            v91[0] = 0;
            v95[1] = &off_2A2044DD0;
            sub_29A1B01B8(v95, v9);
            v11 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfFieldKeys);
            if (!v11)
            {
              v11 = sub_29A1DF3A0(&pxrInternal__aapl__pxrReserved__::SdfFieldKeys);
            }

            if ((*(v11 + 5) & 0xFFFFFFFFFFFFFFF8) != 0)
            {
              EmptyString = ((*(v11 + 5) & 0xFFFFFFFFFFFFFFF8) + 16);
            }

            else
            {
              EmptyString = pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(v11);
            }

            v13 = pxrInternal__aapl__pxrReserved__::VtDictionary::operator[](v91, EmptyString);
            sub_29A18606C(v13, v95);
            sub_29A186B14(v95);
            pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->();
          }

          v14 = a1[1];
          v69[0] = *a1;
          v69[1] = v14;
          if (v14)
          {
            atomic_fetch_add_explicit(&v14->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          sub_29AAD1518(v69, &v70);
          if (v14)
          {
            sub_29A014BEC(v14);
          }

          v15 = *a1;
          v16 = a1[1];
          if (v16)
          {
            atomic_fetch_add_explicit(&v16->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          v65 = v16;
          v64 = v15;
          sub_29AADADD4(v15, &v86);
          size = v86.__r_.__value_.__l.__size_;
          for (i = v86.__r_.__value_.__r.__words[0]; i != size; i += 2)
          {
            if (sub_29AAD2C14(0))
            {
              v21 = (*i + 48);
              if (*(*i + 71) < 0)
              {
                v21 = *v21;
              }

              pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Adding mtlxMaterial '%s'\n", v19, v20, v21);
            }

            v23 = *i;
            v22 = i[1];
            if (v22)
            {
              atomic_fetch_add_explicit(&v22->__shared_owners_, 1uLL, memory_order_relaxed);
            }

            if (!v80 || (*(v80 + 57) & 8) != 0 || !(*(v79 + 32))(&v79) || (v95[0] = "usdMtlx/reader.cpp", v95[1] = "BeginMaterial", v96 = 1478, __p = "UsdShadeMaterial pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_Context::BeginMaterial(const mx::ConstNodePtr &)", LOBYTE(v98) = 0, (pxrInternal__aapl__pxrReserved__::Tf_FailedVerifyHelper(v95, "!_usdMaterial", 0) & 1) != 0))
            {
              if (v22)
              {
                atomic_fetch_add_explicit(&v22->__shared_owners_, 1uLL, memory_order_relaxed);
              }

              if (v23)
              {
                sub_29AAD3238(v23 + 48, v95);
              }

              else
              {
                v95[0] = 0;
              }

              pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(v74, v95, &v88);
              if ((v95[0] & 7) != 0)
              {
                atomic_fetch_add_explicit((v95[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
              }

              if (v22)
              {
                sub_29A014BEC(v22);
              }

              pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::Define(&v70, &__src);
              if (v84 && (*(v84 + 57) & 8) == 0 && (*(__src + 4))(&__src))
              {
                sub_29A580660(v91, &v84, &v85);
                pxrInternal__aapl__pxrReserved__::UsdMtlxMaterialXConfigAPI::Apply(v91, v95);
                if ((v94 & 7) != 0)
                {
                  atomic_fetch_add_explicit((v94 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                }

                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v93);
                sub_29A1DE3A4(&v92);
                if (v91[1])
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v91[1], v24);
                }

                sub_29B1D8ACC(v23, v91);
                v25 = sub_29AAC5BF8(v91[0]);
                if (*(v25 + 23) < 0)
                {
                  sub_29A008D14(&__dst, *v25, *(v25 + 1));
                }

                else
                {
                  v26 = *v25;
                  __dst.__r_.__value_.__r.__words[2] = *(v25 + 2);
                  *&__dst.__r_.__value_.__l.__data_ = v26;
                }

                if (v91[1])
                {
                  sub_29A014BEC(v91[1]);
                }

                v91[1] = &off_2A2044DD0;
                sub_29A1B01B8(v91, &__dst);
                pxrInternal__aapl__pxrReserved__::UsdMtlxMaterialXConfigAPI::CreateConfigMtlxVersionAttr(v95, v91, 0, &v99);
                if ((v102 & 7) != 0)
                {
                  atomic_fetch_add_explicit((v102 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                }

                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v101 + 1);
                sub_29A1DE3A4(&v101);
                if (v100)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v100, v27);
                }

                sub_29A186B14(v91);
                sub_29A580660(v91, &v84, &v85);
                v89[0] = v23;
                v89[1] = v22;
                if (v22)
                {
                  atomic_fetch_add_explicit(&v22->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                sub_29AAD52A0(v91, v89);
                if (v22)
                {
                  sub_29A014BEC(v22);
                }

                if ((v94 & 7) != 0)
                {
                  atomic_fetch_add_explicit((v94 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                }

                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v93);
                sub_29A1DE3A4(&v92);
                if (v91[1])
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v91[1], v28);
                }

                pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(v91, &__src);
                v94 = 0;
                v91[0] = off_2A2060F50;
                v89[0] = (v23 + 48);
                v29 = sub_29AADB0C0(&v76, (v23 + 48), &unk_29B4D6118, v89);
                sub_29A008E78(v89, "");
                v66[0] = v89;
                v30 = sub_29AADB24C(v29 + 7, v89, &unk_29B4D6118, v66);
                v32 = v30;
                v33 = v91[1];
                if (v91[1])
                {
                  atomic_fetch_add_explicit(v91[1] + 6, 1uLL, memory_order_relaxed);
                }

                v34 = v30[8];
                if (v34)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v34, v31);
                }

                v32[8] = v33;
                sub_29A2258F0(v32 + 18, &v92);
                sub_29A225948(v32 + 19, &v93);
                sub_29A166F2C(v32 + 10, &v94);
                if (v90 < 0)
                {
                  operator delete(v89[0]);
                }

                pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::~UsdShadeConnectableAPI(v91);
                if (v22)
                {
                  atomic_fetch_add_explicit(&v22->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                v36 = v78;
                v77 = v23;
                v78 = v22;
                if (v36)
                {
                  sub_29A014BEC(v36);
                }

                v37 = v84;
                if (v84)
                {
                  atomic_fetch_add_explicit(v84 + 6, 1uLL, memory_order_relaxed);
                }

                if (v80)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v80, v35);
                }

                v80 = v37;
                sub_29A2258F0(&v81, &v85);
                sub_29A225948(&v82, &v85 + 1);
                if (SHIBYTE(__dst.__r_.__value_.__r.__words[2]) < 0)
                {
                  operator delete(__dst.__r_.__value_.__l.__data_);
                }

                pxrInternal__aapl__pxrReserved__::UsdMtlxMaterialXConfigAPI::~UsdMtlxMaterialXConfigAPI(v95);
              }

              pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::~UsdShadeMaterial(&__src);
              pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(v88.__r_.__value_.__r.__words + 1);
              sub_29A1DE3A4(&v88);
            }

            pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(&v67, &v79);
            v67 = &unk_2A2061000;
            if (v22)
            {
              sub_29A014BEC(v22);
            }

            if (v68 && (*(v68 + 57) & 8) == 0 && (*(v67 + 4))(&v67))
            {
              sub_29A008E78(v95, off_2A14FDEF0[0]);
              sub_29AADB4BC(&v70, i, v95);
              if (SHIBYTE(v96) < 0)
              {
                operator delete(v95[0]);
              }

              sub_29A008E78(v95, off_2A14FDF00[0]);
              sub_29AADB4BC(&v70, i, v95);
              if (SHIBYTE(v96) < 0)
              {
                operator delete(v95[0]);
              }

              sub_29A008E78(v95, off_2A14FDEF8[0]);
              sub_29AADB4BC(&v70, i, v95);
              if (SHIBYTE(v96) < 0)
              {
                operator delete(v95[0]);
              }

              sub_29A008E78(v95, off_2A14FDF08[0]);
              sub_29AADB4BC(&v70, i, v95);
              if (SHIBYTE(v96) < 0)
              {
                operator delete(v95[0]);
              }

              if (v80 && (*(v80 + 57) & 8) == 0 && ((*(v79 + 32))(&v79) & 1) != 0 || (v95[0] = "usdMtlx/reader.cpp", v95[1] = "EndMaterial", v96 = 1506, __p = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_Context::EndMaterial()", LOBYTE(v98) = 0, (pxrInternal__aapl__pxrReserved__::Tf_FailedVerifyHelper(v95, "_usdMaterial", 0) & 1) != 0))
              {
                v95[0] = (v77 + 48);
                v39 = sub_29AA2EF74(v75, (v77 + 48), &unk_29B4D6118, v95);
                v41 = v39;
                v42 = v80;
                if (v80)
                {
                  atomic_fetch_add_explicit(v80 + 6, 1uLL, memory_order_relaxed);
                }

                v43 = v39[8];
                if (v43)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v43, v40);
                }

                v41[8] = v42;
                sub_29A2258F0(v41 + 18, &v81);
                sub_29A225948(v41 + 19, &v82);
                v44 = v78;
                v77 = 0;
                v78 = 0;
                if (v44)
                {
                  sub_29A014BEC(v44);
                }

                LODWORD(v95[0]) = 1;
                v95[1] = 0;
                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v96);
                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v96 + 1);
                __p = 0;
                pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(v91, v95);
                v91[0] = &unk_2A2061000;
                v46 = v91[1];
                if (v91[1])
                {
                  atomic_fetch_add_explicit(v91[1] + 6, 1uLL, memory_order_relaxed);
                }

                if (v80)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v80, v45);
                }

                v80 = v46;
                sub_29A2258F0(&v81, &v92);
                sub_29A225948(&v82, &v93);
                pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::~UsdShadeMaterial(v91);
                if ((__p & 7) != 0)
                {
                  atomic_fetch_add_explicit((__p & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                }

                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v96 + 1);
                sub_29A1DE3A4(&v96);
                if (v95[1])
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v95[1], v47);
                }
              }
            }

            else
            {
              v95[0] = "usdMtlx/reader.cpp";
              v95[1] = "ReadMaterials";
              v96 = 2380;
              __p = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::ReadMaterials(mx::ConstDocumentPtr, _Context &)";
              LOBYTE(v98) = 0;
              v48 = (*i + 48);
              if (*(*i + 71) < 0)
              {
                v48 = *v48;
              }

              pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(v95, "Failed to create material '%s'", v38, v48);
            }

            pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::~UsdShadeMaterial(&v67);
          }

          v95[0] = &v86;
          sub_29A0176E4(v95);
          sub_29AADADD4(v64, &v99);
          v49 = v100;
          for (j = v99; j != v49; j += 16)
          {
            sub_29AADAE50(&v70, (*j + 48), &__src);
            if (v84 && (*(v84 + 57) & 8) == 0 && (*(__src + 4))(&__src))
            {
              sub_29AAD1438();
              sub_29AAD14B4(v89, j, &qword_2A1747E68);
              v51 = *(v89[0] + 23);
              if (v51 < 0)
              {
                v51 = *(v89[0] + 1);
              }

              if (v51)
              {
                sub_29AADAE50(&v70, v89[0], &__dst);
                if (__dst.__r_.__value_.__l.__size_ && (*(__dst.__r_.__value_.__l.__size_ + 57) & 8) == 0 && (*(__dst.__r_.__value_.__r.__words[0] + 32))(&__dst))
                {
                  sub_29A580660(v91, &v84, &v85);
                  pxrInternal__aapl__pxrReserved__::UsdPrim::GetSpecializes(v91, v95);
                  sub_29A735768(&__dst, &v86);
                  pxrInternal__aapl__pxrReserved__::UsdSpecializes::AddSpecialize(v95, &v86, 1);
                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(v86.__r_.__value_.__r.__words + 1);
                  sub_29A1DE3A4(&v86);
                  if ((__p & 7) != 0)
                  {
                    atomic_fetch_add_explicit((__p & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }

                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v96 + 1);
                  sub_29A1DE3A4(&v96);
                  if (v95[1])
                  {
                    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v95[1], v53);
                  }

                  if ((v94 & 7) != 0)
                  {
                    atomic_fetch_add_explicit((v94 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }

                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v93);
                  sub_29A1DE3A4(&v92);
                  if (v91[1])
                  {
                    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v91[1], v54);
                  }

                  if (sub_29AAD2C14(0))
                  {
                    v57 = (*j + 48);
                    if (*(*j + 71) < 0)
                    {
                      v57 = *v57;
                    }

                    v58 = v89[0];
                    if (*(v89[0] + 23) < 0)
                    {
                      v58 = *v89[0];
                    }

                    pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Material '%s' inherit from  '%s'\n", v55, v56, v57, v58);
                  }
                }

                else
                {
                  v95[0] = "usdMtlx/reader.cpp";
                  v95[1] = "ReadMaterials";
                  v96 = 2400;
                  __p = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::ReadMaterials(mx::ConstDocumentPtr, _Context &)";
                  LOBYTE(v98) = 0;
                  v59 = (*j + 48);
                  if (*(*j + 71) < 0)
                  {
                    v59 = *v59;
                  }

                  v60 = v89[0];
                  if (*(v89[0] + 23) < 0)
                  {
                    v60 = *v89[0];
                  }

                  pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(v95, "Material '%s' attempted to inherit from unknown material '%s'", v52, v59, v60);
                }

                pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::~UsdShadeMaterial(&__dst);
              }
            }

            pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::~UsdShadeMaterial(&__src);
          }

          v95[0] = &v99;
          sub_29A0176E4(v95);
          if (v65)
          {
            sub_29A014BEC(v65);
          }

          pxrInternal__aapl__pxrReserved__::UsdGeomGetFallbackUpAxis(v95);
          pxrInternal__aapl__pxrReserved__::UsdGeomSetStageUpAxis(a2, v95);
          if ((v95[0] & 7) != 0)
          {
            atomic_fetch_add_explicit((v95[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::UsdGeomSetStageMetersPerUnit(a2, 0.01);
          pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->();
        }

        v70 = "usdMtlx/reader.cpp";
        v71 = "UsdMtlxRead";
        v72 = 2622;
        v73 = "void pxrInternal__aapl__pxrReserved__::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
        v74[0] = 0;
        pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v70, 1, "Invalid external prim path");
      }

      else
      {
        v70 = "usdMtlx/reader.cpp";
        v71 = "UsdMtlxRead";
        v72 = 2618;
        v73 = "void pxrInternal__aapl__pxrReserved__::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
        v74[0] = 0;
        pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v70, 1, "Invalid internal prim path");
      }
    }

    else
    {
      v70 = "usdMtlx/reader.cpp";
      v71 = "UsdMtlxRead";
      v72 = 2614;
      v73 = "void pxrInternal__aapl__pxrReserved__::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
      v74[0] = 0;
      pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v70, 1, "Invalid stage");
    }
  }

  else
  {
    v70 = "usdMtlx/reader.cpp";
    v71 = "UsdMtlxRead";
    v72 = 2610;
    v73 = "void pxrInternal__aapl__pxrReserved__::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
    v74[0] = 0;
    pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v70, 1, "Invalid MaterialX document");
  }
}

void sub_29AAD0320(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, std::__shared_weak_count *a24, uint64_t a25, uint64_t a26, void *a27, uint64_t a28, uint64_t a29, uint64_t a30, void *__p, uint64_t a32, int a33, __int16 a34, char a35, char a36, uint64_t a37, char a38, uint64_t a39, uint64_t a40, char a41, uint64_t a42, uint64_t a43, void *a44, uint64_t a45, uint64_t a46, uint64_t a47, int a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, char a54)
{
  __cxa_guard_abort(&qword_2A1748158);
  if (a24)
  {
    sub_29A014BEC(a24);
  }

  sub_29A57F434(&a27);
  if (a36 < 0)
  {
    operator delete(__p);
  }

  STACK[0x350] = &a38;
  sub_29A0176E4(&STACK[0x350]);
  STACK[0x350] = &a41;
  sub_29A0176E4(&STACK[0x350]);
  sub_29A72FA88(&STACK[0x278]);
  sub_29A57F434(&a44);
  sub_29A1DCEA8(&a48);
  sub_29AAD19F0(&STACK[0x470]);
  sub_29AAE25AC(a50);
  sub_29AAD1A60(&a54);
  _Unwind_Resume(a1);
}

void sub_29AAD1438()
{
  if ((atomic_load_explicit(&qword_2A1748108, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1748108))
  {
    sub_29AAD2398();

    __cxa_guard_release(&qword_2A1748108);
  }
}

__int128 **sub_29AAD14B4(__int128 **a1, uint64_t a2, const void **a3)
{
  v4 = sub_29A8877BC((*a2 + 160), a3);
  if (v4)
  {
    v5 = (v4 + 5);
  }

  else
  {
    v5 = sub_29B1F31FC();
  }

  v6 = *(v5 + 23);
  if ((v6 & 0x80u) != 0)
  {
    v6 = *(v5 + 1);
  }

  if (!v6)
  {
    v5 = sub_29B1F31FC();
  }

  *a1 = v5;
  return a1;
}

void sub_29AAD1518(uint64_t *a1, uint64_t a2)
{
  v3 = *a1;
  v4 = sub_29B1F31FC();
  sub_29AAD2C74(v3, v4, v12);
  v5 = v12[0];
  if (v12[0] != v12[1])
  {
    if (sub_29AAD2C14(0))
    {
      v8 = (*v5 + 48);
      if (*(*v5 + 71) < 0)
      {
        v8 = *v8;
      }

      pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Read node graph %s\n", v6, v7, v8);
    }

    v9 = v5[1];
    v11[0] = *v5;
    v11[1] = v9;
    if (v9)
    {
      atomic_fetch_add_explicit((v9 + 8), 1uLL, memory_order_relaxed);
    }

    v10 = sub_29AAD2DB0((a2 + 104), v11);
    pxrInternal__aapl__pxrReserved__::UsdObject::IsValid(v10);
  }

  v13 = v12;
  sub_29A0176E4(&v13);
}

void sub_29AAD17EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, char a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, void **a26)
{
  v29 = *(v27 - 96);
  if (v29)
  {
    sub_29A014BEC(v29);
  }

  if (v26)
  {
    sub_29A014BEC(v26);
  }

  a26 = &a21;
  sub_29A0176E4(&a26);
  _Unwind_Resume(a1);
}

uint64_t sub_29AAD1874(uint64_t a1)
{
  v2 = *(a1 + 8);
  if (v2)
  {
    sub_29A014BEC(v2);
  }

  return a1;
}

void sub_29AAD18A4(void *a1, uint64_t *a2)
{
  v4 = a2[1];
  v7 = *a2;
  v8 = v4;
  if (v4)
  {
    atomic_fetch_add_explicit(&v4->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  sub_29AAE1114(a1, &v7, &v9);
  sub_29AAE1084(a1, &v9);
  v6[0] = &v9;
  sub_29A0D2770(v6);
  if (v4)
  {
    sub_29A014BEC(v4);
  }

  sub_29AAE1404(*a2, &v9);
  if (v9)
  {
    sub_29B1D7CF0(v9, &v7);
    if (v7)
    {
      v5 = v8;
      v6[0] = v7;
      v6[1] = &v8->__vftable;
      if (v8)
      {
        atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      sub_29AAD18A4(a1, v6);
      if (v5)
      {
        sub_29A014BEC(v5);
      }
    }

    if (v8)
    {
      sub_29A014BEC(v8);
    }
  }

  if (v10)
  {
    sub_29A014BEC(v10);
  }
}

void sub_29AAD1994(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, std::__shared_weak_count *a13, uint64_t a14, std::__shared_weak_count *a15)
{
  if (v15)
  {
    sub_29A014BEC(v15);
  }

  if (a13)
  {
    sub_29A014BEC(a13);
  }

  if (a15)
  {
    sub_29A014BEC(a15);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_29AAD19F0(uint64_t a1)
{
  sub_29A019EE8(a1 + 96, *(a1 + 104));
  v3 = (a1 + 72);
  sub_29A0D2770(&v3);
  sub_29AAE21CC(a1 + 48, *(a1 + 56));
  v3 = (a1 + 24);
  sub_29A0176E4(&v3);
  v3 = a1;
  sub_29A012C90(&v3);
  return a1;
}

uint64_t sub_29AAD1A60(uint64_t a1)
{
  pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::~UsdShadeMaterial((a1 + 272));
  v2 = *(a1 + 264);
  if (v2)
  {
    sub_29A014BEC(v2);
  }

  sub_29AAD1E1C(a1 + 224, *(a1 + 232));
  sub_29AAD1F78(a1 + 200, *(a1 + 208));
  sub_29AAD2020(a1 + 176, *(a1 + 184));
  sub_29AAD2020(a1 + 152, *(a1 + 160));
  sub_29AA2EEC8(a1 + 128, *(a1 + 136));
  sub_29AAD20CC(*(a1 + 112));
  v4 = (a1 + 80);
  sub_29A012C90(&v4);
  sub_29AAD2238(a1 + 56, *(a1 + 64));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 52));
  sub_29A1DE3A4((a1 + 48));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 44));
  sub_29A1DE3A4((a1 + 40));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 36));
  sub_29A1DE3A4((a1 + 32));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 28));
  sub_29A1DE3A4((a1 + 24));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 20));
  sub_29B293F14(a1);
  return a1;
}

void pxrInternal__aapl__pxrReserved__::UsdMtlxReadNodeGraphs(uint64_t *a1, void *a2, pxrInternal__aapl__pxrReserved__::SdfPath *a3)
{
  if (*a1)
  {
    v6 = sub_29B2ACEC8(a2);
    if (v7 & 1 | v6)
    {
      if (pxrInternal__aapl__pxrReserved__::SdfPath::IsPrimPath(a3))
      {
        sub_29B2BD43C(&v17, a2);
        v8 = a1[1];
        v16[0] = *a1;
        v16[1] = v8;
        if (v8)
        {
          atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
        }

        sub_29AAD1518(v16, &v17);
        if (v8)
        {
          sub_29A014BEC(v8);
        }

        v10 = *a1;
        v9 = a1[1];
        if (v9)
        {
          atomic_fetch_add_explicit(&v9->__shared_owners_, 1uLL, memory_order_relaxed);
        }

        v11 = sub_29B1F31FC();
        sub_29AAD2C74(v10, v11, &v24);
        v12 = v24;
        for (i = v25; v12 != i; v12 += 16)
        {
          sub_29B1EE8F4(*v12, &v22);
          p_data = &v22->__r_.__value_.__l.__data_;
          if (v23)
          {
            sub_29A014BEC(v23);
          }

          if (!p_data)
          {
            v15 = *(v12 + 8);
            v22 = *v12;
            v23 = v15;
            if (v15)
            {
              atomic_fetch_add_explicit(&v15->__shared_owners_, 1uLL, memory_order_relaxed);
            }

            sub_29AADDED4(&v17, &v22);
          }
        }

        v22 = &v24;
        sub_29A0176E4(&v22);
        if (v9)
        {
          sub_29A014BEC(v9);
        }

        sub_29AAD1A60(&v17);
      }

      else
      {
        v17 = "usdMtlx/reader.cpp";
        v18 = "UsdMtlxReadNodeGraphs";
        v19 = 2756;
        v20 = "void pxrInternal__aapl__pxrReserved__::UsdMtlxReadNodeGraphs(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &)";
        v21 = 0;
        pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v17, 1, "Invalid internal prim path");
      }
    }

    else
    {
      v17 = "usdMtlx/reader.cpp";
      v18 = "UsdMtlxReadNodeGraphs";
      v19 = 2752;
      v20 = "void pxrInternal__aapl__pxrReserved__::UsdMtlxReadNodeGraphs(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &)";
      v21 = 0;
      pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v17, 1, "Invalid stage");
    }
  }

  else
  {
    v17 = "usdMtlx/reader.cpp";
    v18 = "UsdMtlxReadNodeGraphs";
    v19 = 2748;
    v20 = "void pxrInternal__aapl__pxrReserved__::UsdMtlxReadNodeGraphs(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &)";
    v21 = 0;
    pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper(&v17, 1, "Invalid MaterialX document");
  }
}

void sub_29AAD1DC4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  if (v3)
  {
    sub_29A014BEC(v3);
  }

  sub_29AAD1A60(va);
  _Unwind_Resume(a1);
}

void sub_29AAD1E1C(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AAD1E1C(a1, *a2);
    sub_29AAD1E1C(a1, a2[1]);
    sub_29AAD1E78((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AAD1E78(uint64_t a1)
{
  sub_29AAD1ECC(a1 + 24, *(a1 + 32));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void sub_29AAD1ECC(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AAD1ECC(a1, *a2);
    sub_29AAD1ECC(a1, a2[1]);
    sub_29AAD1F28((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AAD1F28(uint64_t a1)
{
  pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::~UsdShadeConnectableAPI((a1 + 24));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void sub_29AAD1F78(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AAD1F78(a1, *a2);
    sub_29AAD1F78(a1, a2[1]);
    sub_29AAD1FD4((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AAD1FD4(uint64_t a1)
{
  pxrInternal__aapl__pxrReserved__::UsdCollectionAPI::~UsdCollectionAPI((a1 + 16));
  v2 = *(a1 + 8);
  if (v2)
  {

    sub_29A014BEC(v2);
  }
}

void sub_29AAD2020(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AAD2020(a1, *a2);
    sub_29AAD2020(a1, a2[1]);
    sub_29AAD207C((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AAD207C(uint64_t a1)
{
  pxrInternal__aapl__pxrReserved__::UsdCollectionAPI::~UsdCollectionAPI((a1 + 24));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void sub_29AAD20CC(void *a1)
{
  if (a1)
  {
    sub_29AAD20CC(*a1);
    sub_29AAD20CC(a1[1]);
    sub_29AAD2120((a1 + 4));

    operator delete(a1);
  }
}

void sub_29AAD2120(uint64_t a1)
{
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 76));
  sub_29A1DE3A4((a1 + 72));
  sub_29AAAE698(a1 + 48, *(a1 + 56));
  v2 = *(a1 + 40);
  if ((v2 & 7) != 0)
  {
    atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 36));
  sub_29A1DE3A4((a1 + 32));
  v4 = *(a1 + 24);
  if (v4)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v4, v3);
  }

  v5 = *(a1 + 8);
  if (v5)
  {

    sub_29A014BEC(v5);
  }
}

uint64_t sub_29AAD21BC(uint64_t a1)
{
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 60));
  sub_29A1DE3A4((a1 + 56));
  sub_29AAAE698(a1 + 32, *(a1 + 40));
  v2 = *(a1 + 24);
  if ((v2 & 7) != 0)
  {
    atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 20));
  sub_29A1DE3A4((a1 + 16));
  v4 = *(a1 + 8);
  if (v4)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v4, v3);
  }

  return a1;
}

void sub_29AAD2238(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AAD2238(a1, *a2);
    sub_29AAD2238(a1, a2[1]);
    sub_29AAD2294((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AAD2294(uint64_t a1)
{
  sub_29AAD22E8(a1 + 24, *(a1 + 32));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void sub_29AAD22E8(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AAD22E8(a1, *a2);
    sub_29AAD22E8(a1, a2[1]);
    sub_29AAD2344((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AAD2344(uint64_t a1)
{
  sub_29A09932C(a1 + 24, *(a1 + 32));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void *sub_29AAD2398()
{
  v0 = sub_29A008E78(&qword_2A1747D18, "channels");
  sub_29A008E78(v0 + 3, "cms");
  sub_29A008E78(&qword_2A1747D48, "cmsconfig");
  sub_29A008E78(&qword_2A1747D60, "collection");
  sub_29A008E78(&qword_2A1747D78, "context");
  sub_29A008E78(&qword_2A1747D90, "default");
  sub_29A008E78(&qword_2A1747DA8, "doc");
  sub_29A008E78(&qword_2A1747DC0, "enum");
  sub_29A008E78(&qword_2A1747DD8, "enumvalues");
  sub_29A008E78(&qword_2A1747DF0, "excludegeom");
  sub_29A008E78(&qword_2A1747E08, "geom");
  sub_29A008E78(&qword_2A1747E20, "helptext");
  sub_29A008E78(&qword_2A1747E38, "includegeom");
  sub_29A008E78(&qword_2A1747E50, "includecollection");
  sub_29A008E78(&qword_2A1747E68, "inherit");
  sub_29A008E78(&qword_2A1747E80, "interfacename");
  sub_29A008E78(&qword_2A1747E98, "isdefaultversion");
  sub_29A008E78(&qword_2A1747EB0, "look");
  sub_29A008E78(&qword_2A1747EC8, "material");
  sub_29A008E78(&qword_2A1747EE0, "member");
  sub_29A008E78(&qword_2A1747EF8, "nodedef");
  sub_29A008E78(&qword_2A1747F10, "nodegraph");
  sub_29A008E78(&qword_2A1747F28, "nodename");
  sub_29A008E78(&qword_2A1747F40, "node");
  sub_29A008E78(&qword_2A1747F58, "output");
  sub_29A008E78(&qword_2A1747F70, "semantic");
  sub_29A008E78(&qword_2A1747F88, "token");
  sub_29A008E78(&qword_2A1747FA0, "type");
  sub_29A008E78(&qword_2A1747FB8, "uicolor");
  sub_29A008E78(&qword_2A1747FD0, "uifolder");
  sub_29A008E78(&qword_2A1747FE8, "uimax");
  sub_29A008E78(&qword_2A1748000, "uimin");
  sub_29A008E78(&qword_2A1748018, "uiname");
  sub_29A008E78(&qword_2A1748030, "value");
  sub_29A008E78(&qword_2A1748048, "valuecurve");
  sub_29A008E78(&qword_2A1748060, "valuerange");
  sub_29A008E78(&qword_2A1748078, "variant");
  sub_29A008E78(&qword_2A1748090, "variantassign");
  sub_29A008E78(&qword_2A17480A8, "variantset");
  sub_29A008E78(&qword_2A17480C0, "version");
  sub_29A008E78(&qword_2A17480D8, "xpos");
  return sub_29A008E78(qword_2A17480F0, "ypos");
}

void sub_29AAD26F8(_Unwind_Exception *exception_object)
{
  if (byte_2A17480EF < 0)
  {
    sub_29B2BD924();
  }

  if (byte_2A17480D7 < 0)
  {
    operator delete(qword_2A17480C0);
  }

  if (byte_2A17480BF < 0)
  {
    operator delete(qword_2A17480A8);
  }

  if (byte_2A17480A7 < 0)
  {
    operator delete(qword_2A1748090);
  }

  if (byte_2A174808F < 0)
  {
    operator delete(qword_2A1748078);
  }

  if (byte_2A1748077 < 0)
  {
    operator delete(qword_2A1748060);
  }

  if (byte_2A174805F < 0)
  {
    operator delete(qword_2A1748048);
  }

  if (byte_2A1748047 < 0)
  {
    operator delete(qword_2A1748030);
  }

  if (byte_2A174802F < 0)
  {
    operator delete(qword_2A1748018);
  }

  if (byte_2A1748017 < 0)
  {
    operator delete(qword_2A1748000);
  }

  if (byte_2A1747FFF < 0)
  {
    operator delete(qword_2A1747FE8);
  }

  if (byte_2A1747FE7 < 0)
  {
    operator delete(qword_2A1747FD0);
  }

  if (byte_2A1747FCF < 0)
  {
    operator delete(qword_2A1747FB8);
  }

  if (byte_2A1747FB7 < 0)
  {
    operator delete(qword_2A1747FA0);
  }

  if (byte_2A1747F9F < 0)
  {
    operator delete(qword_2A1747F88);
  }

  if (byte_2A1747F87 < 0)
  {
    operator delete(qword_2A1747F70);
  }

  if (byte_2A1747F6F < 0)
  {
    operator delete(qword_2A1747F58);
  }

  if (byte_2A1747F57 < 0)
  {
    operator delete(qword_2A1747F40);
  }

  if (byte_2A1747F3F < 0)
  {
    operator delete(qword_2A1747F28);
  }

  if (byte_2A1747F27 < 0)
  {
    operator delete(qword_2A1747F10);
  }

  if (byte_2A1747F0F < 0)
  {
    operator delete(qword_2A1747EF8);
  }

  if (byte_2A1747EF7 < 0)
  {
    operator delete(qword_2A1747EE0);
  }

  if (byte_2A1747EDF < 0)
  {
    operator delete(qword_2A1747EC8);
  }

  if (byte_2A1747EC7 < 0)
  {
    operator delete(qword_2A1747EB0);
  }

  if (byte_2A1747EAF < 0)
  {
    operator delete(qword_2A1747E98);
  }

  if (byte_2A1747E97 < 0)
  {
    operator delete(qword_2A1747E80);
  }

  if (byte_2A1747E7F < 0)
  {
    operator delete(qword_2A1747E68);
  }

  if (byte_2A1747E67 < 0)
  {
    operator delete(qword_2A1747E50);
  }

  if (byte_2A1747E4F < 0)
  {
    operator delete(qword_2A1747E38);
  }

  if (byte_2A1747E37 < 0)
  {
    operator delete(qword_2A1747E20);
  }

  if (byte_2A1747E1F < 0)
  {
    operator delete(qword_2A1747E08);
  }

  if (byte_2A1747E07 < 0)
  {
    operator delete(qword_2A1747DF0);
  }

  if (byte_2A1747DEF < 0)
  {
    operator delete(qword_2A1747DD8);
  }

  if (byte_2A1747DD7 < 0)
  {
    operator delete(qword_2A1747DC0);
  }

  if (byte_2A1747DBF < 0)
  {
    operator delete(qword_2A1747DA8);
  }

  if (byte_2A1747DA7 < 0)
  {
    operator delete(qword_2A1747D90);
  }

  if (byte_2A1747D8F < 0)
  {
    operator delete(qword_2A1747D78);
  }

  if (byte_2A1747D77 < 0)
  {
    operator delete(qword_2A1747D60);
  }

  if (byte_2A1747D5F < 0)
  {
    operator delete(qword_2A1747D48);
  }

  if (byte_2A1747D47 < 0)
  {
    operator delete(qword_2A1747D30);
  }

  if (byte_2A1747D2F < 0)
  {
    operator delete(qword_2A1747D18);
  }

  _Unwind_Resume(exception_object);
}

BOOL sub_29AAD2C14(int a1)
{
  v2 = sub_29AACBF84();
  v3 = atomic_load((v2 + 4 * a1));
  if (!v3)
  {
    v5 = v2;
    v6 = sub_29AACBF84();
    pxrInternal__aapl__pxrReserved__::TfDebug::_InitializeNode((v6 + 4 * a1), "USDMTLX_READER");
    v3 = atomic_load((v5 + 4 * a1));
  }

  return v3 == 2;
}

void sub_29AAD2C74(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  v3 = *(a1 + 136);
  for (i = *(a1 + 144); v3 != i; v3 += 2)
  {
    v8 = *v3;
    v7 = v3[1];
    if (v7)
    {
      atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    sub_29B1D7FB0(v8, &v18);
    if (v18)
    {
      v9 = *(a2 + 23);
      v10 = v9 >= 0 ? *(a2 + 23) : *(a2 + 8);
      if (!v10)
      {
        goto LABEL_19;
      }

      v11 = *(v8 + 47);
      v12 = v11;
      if ((v11 & 0x80u) != 0)
      {
        v11 = *(v8 + 32);
      }

      if (v11 == v10)
      {
        v15 = *(v8 + 24);
        v14 = v8 + 24;
        v13 = v15;
        v16 = (v12 >= 0 ? v14 : v13);
        v17 = v9 >= 0 ? a2 : *a2;
        if (!memcmp(v16, v17, v10))
        {
LABEL_19:
          sub_29A017F80(a3, &v18);
        }
      }
    }

    if (*(&v18 + 1))
    {
      sub_29A014BEC(*(&v18 + 1));
    }

    if (v7)
    {
      sub_29A014BEC(v7);
    }
  }
}

void sub_29AAD2D78(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void **a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    sub_29A014BEC(a10);
  }

  if (v10)
  {
    sub_29A014BEC(v10);
  }

  sub_29A0176E4(&a9);
  _Unwind_Resume(a1);
}

uint64_t *sub_29AAD2DB0(uint64_t **a1, unint64_t *a2)
{
  v5 = a1 + 1;
  v4 = a1[1];
  v6 = *a2;
  if (v4)
  {
    while (1)
    {
      while (1)
      {
        v7 = v4;
        v8 = v4[4];
        if (v6 >= v8)
        {
          break;
        }

        v4 = *v7;
        v5 = v7;
        if (!*v7)
        {
          goto LABEL_9;
        }
      }

      if (v8 >= v6)
      {
        break;
      }

      v4 = v7[1];
      if (!v4)
      {
        v5 = v7 + 1;
        goto LABEL_9;
      }
    }

    v10 = v7;
  }

  else
  {
    v7 = a1 + 1;
LABEL_9:
    v9 = operator new(0x70uLL);
    v10 = v9;
    v11 = a2[1];
    v9[4] = v6;
    v9[5] = v11;
    if (v11)
    {
      atomic_fetch_add_explicit((v11 + 8), 1uLL, memory_order_relaxed);
    }

    sub_29AAD3170((v9 + 6));
    *v10 = 0;
    v10[1] = 0;
    v10[2] = v7;
    *v5 = v10;
    v12 = **a1;
    v13 = v10;
    if (v12)
    {
      *a1 = v12;
      v13 = *v5;
    }

    sub_29A00B25C(a1[1], v13);
    a1[2] = (a1[2] + 1);
  }

  return v10 + 6;
}

uint64_t sub_29AAD2EA0(uint64_t a1)
{
  *(a1 + 16) = 0u;
  *(a1 + 32) = 0u;
  *a1 = 0u;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle((a1 + 48));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle((a1 + 52));
  *(a1 + 64) = 0;
  *(a1 + 56) = a1 + 64;
  *(a1 + 88) = 0;
  *(a1 + 72) = 0;
  *(a1 + 80) = a1 + 88;
  *(a1 + 120) = 0;
  *(a1 + 112) = 0;
  *(a1 + 96) = 0;
  *(a1 + 104) = a1 + 112;
  return a1;
}

_DWORD *sub_29AAD2F0C(uint64_t a1, uint64_t a2, pxrInternal__aapl__pxrReserved__::SdfPath *a3, void *a4)
{
  if (*a4)
  {
    sub_29AAD3238(*a4 + 48, &v8);
  }

  else
  {
    v8 = 0;
  }

  pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(a3, &v8, &v9);
  sub_29AAD31E0(a1, a2, &v9);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v10);
  result = sub_29A1DE3A4(&v9);
  if ((v8 & 7) != 0)
  {
    atomic_fetch_add_explicit((v8 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  return result;
}

void sub_29AAD2FB0(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va, a2);
  sub_29A1DCEA8(va);
  if ((a2 & 7) != 0)
  {
    atomic_fetch_add_explicit((a2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  _Unwind_Resume(a1);
}

void sub_29AAD3100(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  sub_29A57F434(va);
  _Unwind_Resume(a1);
}

uint64_t sub_29AAD3114(uint64_t a1)
{
  sub_29AADABE0(a1 + 104, *(a1 + 112));
  sub_29AADAC3C(a1 + 80, *(a1 + 88));
  sub_29AADAC98(a1 + 56, *(a1 + 64));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 52));
  sub_29B2BD930(a1);
  return a1;
}

uint64_t sub_29AAD3170(uint64_t a1)
{
  *a1 = 1;
  *(a1 + 8) = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle((a1 + 16));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle((a1 + 20));
  *(a1 + 48) = 0;
  *(a1 + 40) = 0;
  *(a1 + 24) = 0;
  *(a1 + 32) = a1 + 40;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle((a1 + 56));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle((a1 + 60));
  return a1;
}

int *sub_29AAD31E0(uint64_t a1, uint64_t a2, _DWORD *a3)
{
  *(a1 + 32) = *a2;
  sub_29B28FD1C((a1 + 40), (a2 + 8));
  sub_29A2258F0((a1 + 48), a3);

  return sub_29A225948((a1 + 52), a3 + 1);
}

void sub_29AAD3238(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  v4 = std::string::find(a1, 58, 0);
  if (v4 == -1)
  {

    pxrInternal__aapl__pxrReserved__::TfToken::TfToken(a2);
  }

  else
  {
    v5 = v4;
    if (*(a1 + 23) < 0)
    {
      sub_29A008D14(&__p, *a1, *(a1 + 8));
    }

    else
    {
      __p = *a1;
    }

    std::string::replace(&__p, v5, 1uLL, "__");
    pxrInternal__aapl__pxrReserved__::TfToken::TfToken(a2);
    if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
    {
      operator delete(__p.__r_.__value_.__l.__data_);
    }
  }
}

void sub_29AAD330C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_29AAD3328@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  v21 = *MEMORY[0x29EDCA608];
  v3 = sub_29B2ACEC8(a1 + 32);
  if (v4 & 1 | v3 || (result = sub_29B2BD9BC(v13, a2), (result & 1) != 0))
  {
    if (pxrInternal__aapl__pxrReserved__::SdfPath::IsAbsolutePath((a1 + 48)) && pxrInternal__aapl__pxrReserved__::SdfPath::IsPrimPath((a1 + 48)) || (result = sub_29B2BDA2C(v12, a2), (result & 1) != 0))
    {
      v5 = *(a1 + 16);
      v6 = sub_29B1F31FC();
      LODWORD(v5) = sub_29AAC05D4(v5, v6);
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v9);
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v10);
      v11 = 0;
      if (!v5)
      {
        pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::Define(a1 + 32, &v17);
        sub_29A580660(&__str, &v18, &v19);
        __str.__r_.__value_.__l.__size_ = 0;
        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=();
      }

      pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::Define(a1 + 32, &v14);
      if (v15 && (*(v15 + 57) & 8) == 0 && ((*(v14 + 32))(&v14) & 1) != 0)
      {
        sub_29A580660(&__str, &v15, &v16);
        __str.__r_.__value_.__l.__size_ = 0;
        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=();
      }

      *a2 = 1;
      *(a2 + 8) = 0;
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle((a2 + 16));
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle((a2 + 20));
      *(a2 + 24) = 0;
      pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::~UsdShadeNodeGraph(&v14);
      if ((v11 & 7) != 0)
      {
        atomic_fetch_add_explicit((v11 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v10);
      sub_29A1DE3A4(&v9);
      return 0;
    }
  }

  return result;
}

void sub_29AAD4C8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, std::__shared_weak_count *a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, char a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, std::__shared_weak_count *a53, uint64_t a54, uint64_t a55, uint64_t a56)
{
  v58 = *(v56 - 224);
  if (v58)
  {
    sub_29A014BEC(v58);
  }

  if (*(v56 - 121) < 0)
  {
    operator delete(*(v56 - 144));
  }

  __cxa_guard_abort(&qword_2A1748140);
  if (*(v56 - 185) < 0)
  {
    operator delete(*(v56 - 208));
  }

  pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::~UsdShadeConnectableAPI((v56 - 176));
  if (a53)
  {
    sub_29A014BEC(a53);
  }

  v59 = a55;
  if (a55 && atomic_fetch_add_explicit((a55 + 8), 0xFFFFFFFF, memory_order_release) == 1)
  {
    (*(*v59 + 8))(v59);
  }

  if ((a56 & 7) != 0)
  {
    atomic_fetch_add_explicit((a56 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a18)
  {
    sub_29A014BEC(a18);
  }

  *(v56 - 176) = &a19;
  sub_29A0176E4((v56 - 176));
  sub_29A57F434(&a26);
  _Unwind_Resume(a1);
}

void sub_29AAD52A0(uint64_t a1, uint64_t a2)
{
  v32 = *MEMORY[0x29EDCA608];
  sub_29AAD6A28(a1, a2);
  if (*a1 == 1)
  {
    sub_29A580660(&v27, (a1 + 8), (a1 + 16));
    pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(&v24, &v27);
    v26 = 0;
    v24 = &unk_2A2063550;
    if ((v31 & 7) != 0)
    {
      atomic_fetch_add_explicit((v31 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v30);
    sub_29A1DE3A4(&v29);
    if (v28)
    {
      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v28, v4);
    }

    if (v25 && (*(v25 + 57) & 8) == 0 && v24[4](&v24))
    {
      v23 = 0;
      sub_29AAD1438();
      if (sub_29AAD6A88(&v23 + 1, a2, &qword_2A17480D8))
      {
        sub_29AAD1438();
        if (sub_29AAD6A88(&v23, a2, qword_2A17480F0))
        {
          v28 = (&off_2A2042618 + 3);
          v27 = __PAIR64__(v23, HIDWORD(v23));
          pxrInternal__aapl__pxrReserved__::UsdUINodeGraphNodeAPI::CreatePosAttr(&v24, &v27, 0, v18);
          if ((v22 & 7) != 0)
          {
            atomic_fetch_add_explicit((v22 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v21);
          sub_29A1DE3A4(&v20);
          if (v19)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v19, v5);
          }

          sub_29A186B14(&v27);
        }
      }

      sub_29AAD1438();
      if (sub_29A8877BC((*a2 + 160), &qword_2A1747FB8))
      {
        sub_29AAD14B4(&v27, a2, &qword_2A1747FB8);
        v6 = sub_29B1F68E8(v27);
        v8 = v7;
        v10 = v9;
        v28 = (&off_2A2042840 + 2);
        v11 = operator new(0x10uLL);
        *v11 = v6;
        v11[1] = v8;
        v11[2] = v10;
        atomic_store(0, v11 + 3);
        v27 = v11;
        atomic_fetch_add_explicit(v11 + 3, 1u, memory_order_relaxed);
        pxrInternal__aapl__pxrReserved__::UsdUINodeGraphNodeAPI::CreateDisplayColorAttr(&v24, &v27, 0, &v13);
        if ((v17 & 7) != 0)
        {
          atomic_fetch_add_explicit((v17 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
        }

        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v16);
        sub_29A1DE3A4(&v15);
        if (v14)
        {
          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v14, v12);
        }

        sub_29A186B14(&v27);
      }
    }

    pxrInternal__aapl__pxrReserved__::UsdUINodeGraphNodeAPI::~UsdUINodeGraphNodeAPI(&v24);
  }
}

void sub_29AAD554C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, char a18)
{
  if (a2)
  {
    sub_299FEDEEC(exception_object);
  }

  _Unwind_Resume(exception_object);
}

void sub_29AAD55CC(uint64_t *a1@<X0>, uint64_t a2@<X8>)
{
  *a2 = 0;
  *(a2 + 8) = 0;
  *(a2 + 16) = 0;
  v33[0] = 0;
  v33[1] = 0;
  v32 = v33;
  sub_29B1D8ACC(*a1, &v30);
  v4 = *a1;
  v5 = a1[1];
  *&v29 = *a1;
  *(&v29 + 1) = v5;
  if (v5)
  {
    atomic_fetch_add_explicit((v5 + 8), 1uLL, memory_order_relaxed);
  }

  if (v4)
  {
    do
    {
      sub_29A42F734(&v32, &v29, &v29);
      if ((v6 & 1) == 0)
      {
        exception = __cxa_allocate_exception(0x20uLL);
        sub_29B1D9E70(v29, &v26);
        v24 = std::string::insert(&v26, 0, "Encountered cycle at element: ");
        v25 = *&v24->__r_.__value_.__l.__data_;
        v28 = v24->__r_.__value_.__r.__words[2];
        v27 = v25;
        v24->__r_.__value_.__l.__size_ = 0;
        v24->__r_.__value_.__r.__words[2] = 0;
        v24->__r_.__value_.__r.__words[0] = 0;
        sub_29AAD6B14(exception, &v27);
        *exception = &unk_2A20C79E8;
        __cxa_throw(exception, &unk_2A2070D20, sub_29AAD6B10);
      }

      sub_29A017F80(a2, &v29);
      v7 = v30;
      sub_29AAD1438();
      v8 = sub_29A8877BC((v29 + 160), &qword_2A1747E68);
      if (v8)
      {
        v9 = (v8 + 5);
      }

      else
      {
        v9 = sub_29B1F31FC();
      }

      v10 = *(v9 + 23);
      if ((v10 & 0x80u) != 0)
      {
        v10 = *(v9 + 1);
      }

      if (!v10)
      {
        v9 = sub_29B1F31FC();
      }

      v11 = sub_29A8877BC((v7 + 96), v9);
      v12 = v11;
      if (v11)
      {
        v13 = v11[5];
        v14 = v12[6];
        if (v14)
        {
          atomic_fetch_add_explicit(&v14->__shared_owners_, 1uLL, memory_order_relaxed);
        }

        if (v13)
        {
          v13 = __dynamic_cast(v13, &unk_2A20C66F8, &unk_2A20C6068, 0);
          v15 = 0;
          if (v13)
          {
            v16 = 0;
          }

          else
          {
            v16 = v14;
          }

          if (v13 && v14)
          {
            atomic_fetch_add_explicit(&v14->__shared_owners_, 1uLL, memory_order_relaxed);
            v15 = v14;
          }

          else
          {
            v14 = v16;
          }
        }

        else
        {
          v15 = 0;
        }
      }

      else
      {
        v14 = 0;
        v15 = 0;
        v13 = 0;
      }

      v17 = *(&v29 + 1);
      *&v29 = v13;
      *(&v29 + 1) = v15;
      if (v17)
      {
        sub_29A014BEC(v17);
      }

      if (v14)
      {
        sub_29A014BEC(v14);
      }
    }

    while (v29);
  }

  if (*(&v29 + 1))
  {
    sub_29A014BEC(*(&v29 + 1));
  }

  v18 = *a2;
  v19 = *(a2 + 8);
  if (*a2 != v19)
  {
    for (i = (v19 - 16); v18 < i; i -= 2)
    {
      v21 = *v18;
      *v18 = *i;
      *i = v21;
      v22 = v18[1];
      v18[1] = i[1];
      i[1] = v22;
      v18 += 2;
    }
  }

  if (v31)
  {
    sub_29A014BEC(v31);
  }

  sub_29A42FCE0(&v32, v33[0]);
}

void sub_29AAD5898(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *a10, uint64_t a11, int a12, __int16 a13, char a14, char a15, void *__p, uint64_t a17, int a18, __int16 a19, char a20, char a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25)
{
  sub_29A42FCE0(v26 - 72, *(v26 - 64));
  *(v26 - 72) = v25;
  sub_29A0176E4((v26 - 72));
  _Unwind_Resume(a1);
}

void sub_29AAD5940(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  v3 = *(a1 + 136);
  for (i = *(a1 + 144); v3 != i; v3 += 2)
  {
    v8 = *v3;
    v7 = v3[1];
    if (v7)
    {
      atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    sub_29B1D7C40(v8, &v18);
    if (v18)
    {
      v9 = *(a2 + 23);
      v10 = v9 >= 0 ? *(a2 + 23) : *(a2 + 8);
      if (!v10)
      {
        goto LABEL_19;
      }

      v11 = *(v8 + 47);
      v12 = v11;
      if ((v11 & 0x80u) != 0)
      {
        v11 = *(v8 + 32);
      }

      if (v11 == v10)
      {
        v15 = *(v8 + 24);
        v14 = v8 + 24;
        v13 = v15;
        v16 = (v12 >= 0 ? v14 : v13);
        v17 = v9 >= 0 ? a2 : *a2;
        if (!memcmp(v16, v17, v10))
        {
LABEL_19:
          sub_29A017F80(a3, &v18);
        }
      }
    }

    if (*(&v18 + 1))
    {
      sub_29A014BEC(*(&v18 + 1));
    }

    if (v7)
    {
      sub_29A014BEC(v7);
    }
  }
}

void sub_29AAD5A44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void **a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    sub_29A014BEC(a10);
  }

  if (v10)
  {
    sub_29A014BEC(v10);
  }

  sub_29A0176E4(&a9);
  _Unwind_Resume(a1);
}

void sub_29AAD5A7C(uint64_t a1, unint64_t *a2, uint64_t a3, int a4)
{
  v9 = *a2;
  v8 = a2[1];
  v31 = *a2;
  v32 = v8;
  if (v8)
  {
    atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  if (sub_29AAD2C14(0))
  {
    v10 = sub_29A580660(&__dst, (a3 + 8), (a3 + 16));
    pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(v10);
  }

  *&__dst = v9;
  *(&__dst + 1) = v8;
  if (v8)
  {
    atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  sub_29AAD6C60(a3, &__dst, &v33);
  if (v8)
  {
    sub_29A014BEC(v8);
  }

  sub_29AAD6EB8(&v33, &v31);
  v40 = v9;
  *&v41 = v8;
  if (v8)
  {
    atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  sub_29AAD1438();
  sub_29AAD14B4(&__dst, &v40, &qword_2A1747E20);
  if ((*(__dst + 23) & 0x8000000000000000) != 0)
  {
    if (!*(__dst + 8))
    {
LABEL_16:
      v42[0] = 0;
      v42[1] = 0;
      v43 = 0;
      sub_29AAD1438();
      if (sub_29A8877BC((v9 + 160), &qword_2A1747DC0))
      {
        sub_29AAD14B4(&v44, &v40, &qword_2A1747DC0);
        sub_29B1FA17C(v44, &__dst);
        sub_29A095FDC(v42);
        *v42 = __dst;
        v43 = v46;
        v46 = 0;
        __dst = 0uLL;
        p_dst = &__dst;
        sub_29A012C90(&p_dst);
        if (v42[0] != v42[1])
        {
          pxrInternal__aapl__pxrReserved__::UsdProperty::GetPropertyStack(&v33, v11, NAN);
        }
      }

      sub_29AAD1438();
      sub_29AAD14B4(&p_dst, &v40, &qword_2A1747FD0);
      if (*(p_dst + 23) < 0)
      {
        v13 = *(p_dst + 1);
        if (v13)
        {
          sub_29A008D14(&__dst, *p_dst, v13);
LABEL_24:
          v14 = HIBYTE(v46);
          v15 = &__dst;
          if (v46 < 0)
          {
            v14 = *(&__dst + 1);
            v15 = __dst;
          }

          for (; v14; --v14)
          {
            if (*v15 == 47)
            {
              *v15 = 58;
            }

            v15 = (v15 + 1);
          }

          pxrInternal__aapl__pxrReserved__::UsdProperty::SetDisplayGroup(&v33);
        }
      }

      else if (*(p_dst + 23))
      {
        v12 = *p_dst;
        v46 = *(p_dst + 2);
        __dst = v12;
        goto LABEL_24;
      }

      sub_29AAD1438();
      sub_29AAD14B4(&__dst, &v40, &qword_2A1748018);
      if ((*(__dst + 23) & 0x8000000000000000) != 0)
      {
        if (!*(__dst + 8))
        {
          goto LABEL_36;
        }
      }

      else if (!*(__dst + 23))
      {
LABEL_36:
        sub_29AAD52A0(&v33, &v40);
        *&__dst = v42;
        sub_29A012C90(&__dst);
        if (v41)
        {
          sub_29A014BEC(v41);
        }

        if (a4)
        {
          *&__dst = v31 + 48;
          v16 = sub_29AAD86A8((a1 + 56), (v31 + 48), &unk_29B4D6118, &__dst);
          v18 = v16;
          *(v16 + 14) = v33;
          v19 = v34;
          if (v34)
          {
            atomic_fetch_add_explicit(v34 + 6, 1uLL, memory_order_relaxed);
          }

          v20 = v16[8];
          if (v20)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v20, v17);
          }

          v18[8] = v19;
          sub_29A2258F0(v18 + 18, &v35);
          sub_29A225948(v18 + 19, &v36);
          sub_29A166F2C(v18 + 10, &v37);
        }

        else
        {
          sub_29AAD1438();
          sub_29AAD14B4(&v38, &v31, &qword_2A1747E80);
          if ((*(v38 + 23) & 0x8000000000000000) != 0)
          {
            if (!*(v38 + 1))
            {
              goto LABEL_70;
            }
          }

          else if (!*(v38 + 23))
          {
            goto LABEL_70;
          }

          v22 = sub_29A01BCCC(a1 + 56, v38);
          if (a1 + 64 != v22)
          {
            v23 = v31;
            if (v32)
            {
              atomic_fetch_add_explicit(&v32->__shared_owners_, 1uLL, memory_order_relaxed);
            }

            sub_29B1D7C40(v23, v42);
            if (v42[0])
            {
              sub_29AAD1438();
              sub_29AAD14B4(&v40, v42, &qword_2A1747EE0);
              v24 = *(v40 + 23);
              if (v24 < 0)
              {
                v24 = *(v40 + 1);
              }

              if (v24)
              {
                *&__dst = "usdMtlx/reader.cpp";
                *(&__dst + 1) = "_ConnectPorts";
                v46 = 1112;
                v47 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_NodeGraphBuilder::_ConnectPorts(const mx::ConstElementPtr &, const U &, const D &) [U = pxrInternal__aapl__pxrReserved__::UsdShadeInput, D = pxrInternal__aapl__pxrReserved__::UsdShadeInput]";
                LOBYTE(v48) = 0;
                pxrInternal__aapl__pxrReserved__::UsdObject::GetPath((v22 + 56));
              }

              sub_29AAD1438();
              sub_29AAD14B4(&v40, v42, &qword_2A1747D18);
              v25 = *(v40 + 23);
              if (v25 < 0)
              {
                v25 = *(v40 + 1);
              }

              if (v25)
              {
                *&__dst = "usdMtlx/reader.cpp";
                *(&__dst + 1) = "_ConnectPorts";
                v46 = 1120;
                v47 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_NodeGraphBuilder::_ConnectPorts(const mx::ConstElementPtr &, const U &, const D &) [U = pxrInternal__aapl__pxrReserved__::UsdShadeInput, D = pxrInternal__aapl__pxrReserved__::UsdShadeInput]";
                LOBYTE(v48) = 0;
                pxrInternal__aapl__pxrReserved__::UsdObject::GetPath((v22 + 56));
              }
            }

            if (v42[1])
            {
              sub_29A014BEC(v42[1]);
            }

            if (sub_29AAD2C14(0))
            {
              pxrInternal__aapl__pxrReserved__::UsdObject::GetPath((v22 + 56));
            }

            pxrInternal__aapl__pxrReserved__::UsdObject::GetPath((v22 + 56));
          }

          *&__dst = "usdMtlx/reader.cpp";
          *(&__dst + 1) = "_AddInputCommon";
          v46 = 990;
          v47 = "UsdShadeInput pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_NodeGraphBuilder::_AddInputCommon(const mx::ConstValueElementPtr &, const UsdShadeConnectableAPI &, BOOL)";
          LOBYTE(v48) = 0;
          v26 = v38;
          if (*(v38 + 23) < 0)
          {
            v26 = *v38;
          }

          v27 = (v31 + 48);
          if (*(v31 + 71) < 0)
          {
            v27 = *v27;
          }

          pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&__dst, "No interface name '%s' for node '%s'", v21, v26, v27);
        }

LABEL_70:
        *&__dst = a2;
        v29 = sub_29AAD8D28(a1 + 80, a2, &unk_29B4D6118, &__dst);
        *(v29 + 12) = v33;
        v30 = v29[7];
        if (v30)
        {
          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v30, v28);
        }

        v29[7] = v34;
        v34 = 0;
        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=();
      }

      pxrInternal__aapl__pxrReserved__::UsdObject::SetDisplayName(&v33);
    }
  }

  else if (!*(__dst + 23))
  {
    goto LABEL_16;
  }

  pxrInternal__aapl__pxrReserved__::UsdShadeInput::SetDocumentation(&v33);
}

void sub_29AAD673C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, std::__shared_weak_count *a14, char a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, char a27, uint64_t a28, uint64_t a29, uint64_t a30, char a31)
{
  sub_29A57F434(&a27);
  sub_29A57F434(&a31);
  sub_29A1DCEA8((v32 - 136));
  if (v31)
  {
    sub_29A014BEC(v31);
  }

  sub_29A7CCF50(&a15);
  if (a14)
  {
    sub_29A014BEC(a14);
  }

  _Unwind_Resume(a1);
}

__int128 **sub_29AAD6A28(uint64_t a1, uint64_t a2)
{
  sub_29AAD1438();
  result = sub_29AAD14B4(&v6, a2, &qword_2A1747DA8);
  v5 = *(v6 + 23);
  if (v5 < 0)
  {
    v5 = *(v6 + 1);
  }

  if (v5)
  {
    pxrInternal__aapl__pxrReserved__::UsdObject::SetDocumentation(a1);
  }

  return result;
}

const void **sub_29AAD6A88(float *a1, uint64_t a2, const void **a3)
{
  result = sub_29A8877BC((*a2 + 160), a3);
  if (result)
  {
    sub_29AAD14B4(&v7, a2, a3);
    *a1 = sub_29B1F4CF0(v7);
    return 1;
  }

  return result;
}

void *sub_29AAD6B14(void *a1, __int128 *a2)
{
  *a1 = &unk_2A20C6260;
  v3 = a1 + 1;
  if (*(a2 + 23) < 0)
  {
    sub_29A008D14(v3, *a2, *(a2 + 1));
  }

  else
  {
    v4 = *a2;
    v3[2] = *(a2 + 2);
    *v3 = v4;
  }

  return a1;
}

void sub_29AAD6B90(std::exception *a1)
{
  sub_29AAD6C00(a1);

  operator delete(v1);
}

uint64_t sub_29AAD6BB8(uint64_t a1)
{
  result = a1 + 8;
  if (*(a1 + 31) < 0)
  {
    return *result;
  }

  return result;
}

void sub_29AAD6BD8(std::exception *a1)
{
  sub_29AAD6C00(a1);

  operator delete(v1);
}

void sub_29AAD6C00(std::exception *this)
{
  this->__vftable = &unk_2A20C6260;
  if (SHIBYTE(this[3].__vftable) < 0)
  {
    operator delete(this[1].__vftable);
  }

  std::exception::~exception(this);
}

void sub_29AAD6C60(pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI *a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>)
{
  sub_29AAD1438();
  v6 = sub_29A8877BC((*a2 + 160), &qword_2A1747FA0);
  if (v6)
  {
    v7 = (v6 + 5);
  }

  else
  {
    v7 = sub_29B1F31FC();
  }

  v8 = *(v7 + 23);
  v9 = v8;
  if ((v8 & 0x80u) != 0)
  {
    v8 = *(v7 + 1);
  }

  if (v8)
  {
    if ((v9 & 0x80) == 0)
    {
      goto LABEL_8;
    }

LABEL_22:
    if (*(v7 + 1))
    {
      goto LABEL_9;
    }

LABEL_23:
    *a3 = 3;
    *(a3 + 8) = 0;
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle((a3 + 16));
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle((a3 + 20));
    *(a3 + 24) = 0;
    return;
  }

  v7 = sub_29B1F31FC();
  v9 = *(v7 + 23);
  if (v9 < 0)
  {
    goto LABEL_22;
  }

LABEL_8:
  if (!v9)
  {
    goto LABEL_23;
  }

LABEL_9:
  v16 = 0;
  pxrInternal__aapl__pxrReserved__::UsdMtlxGetUsdType(v7, &v13);
  v15 = v13;
  if ((v14 & 7) != 0)
  {
    atomic_fetch_add_explicit((v14 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (pxrInternal__aapl__pxrReserved__::SdfValueTypeName::_IsEmpty(&v15))
  {
    v10 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
    if (!v10)
    {
      v10 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
    }

    v15 = *(v10 + 11);
    pxrInternal__aapl__pxrReserved__::TfToken::TfToken(&v13);
    if ((v16 & 7) != 0)
    {
      atomic_fetch_add_explicit((v16 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    v16 = v13;
  }

  v11 = *a2;
  v12 = a2[1];
  if (v12)
  {
    atomic_fetch_add_explicit(&v12->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  if (v11)
  {
    sub_29AAD3238(v11 + 48, &v13);
  }

  else
  {
    v13 = 0;
  }

  pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::CreateInput(a1, &v13, &v15, a3);
  if ((v13 & 7) != 0)
  {
    atomic_fetch_add_explicit((v13 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (v12)
  {
    sub_29A014BEC(v12);
  }

  if (v16)
  {
    pxrInternal__aapl__pxrReserved__::UsdShadeInput::SetRenderType(a3, &v16);
  }
}

void sub_29AAD6E48(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14)
{
  if ((a14 & 7) != 0)
  {
    atomic_fetch_add_explicit((a14 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_29AAD6EB8(pxrInternal__aapl__pxrReserved__::UsdAttribute *a1, uint64_t a2)
{
  v100 = *MEMORY[0x29EDCA608];
  v4 = *(a2 + 8);
  __p = *a2;
  v89 = v4;
  if (v4)
  {
    atomic_fetch_add_explicit(&v4->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  pxrInternal__aapl__pxrReserved__::UsdMtlxGetUsdValue(&__p, 0, v98);
  if (v89)
  {
    sub_29A014BEC(v89);
  }

  if (v99)
  {
    pxrInternal__aapl__pxrReserved__::UsdShadeInput::Set(a1, v98, NAN);
  }

  sub_29AAD1438();
  sub_29AAD14B4(&v97, a2, &qword_2A1748048);
  sub_29AAD1438();
  sub_29AAD14B4(&v96, a2, &qword_2A1748060);
  v5 = v97;
  if ((SHIBYTE(v97->__r_.__value_.__r.__words[2]) & 0x8000000000000000) != 0)
  {
    if (!v97->__r_.__value_.__l.__size_)
    {
      goto LABEL_53;
    }
  }

  else if (!*(&v97->__r_.__value_.__s + 23))
  {
    goto LABEL_53;
  }

  if ((SHIBYTE(v96->__r_.__value_.__r.__words[2]) & 0x8000000000000000) != 0)
  {
    if (!v96->__r_.__value_.__l.__size_)
    {
      goto LABEL_53;
    }

LABEL_15:
    sub_29AAD1438();
    sub_29AAD14B4(&__p, a2, &qword_2A1747FA0);
    pxrInternal__aapl__pxrReserved__::UsdMtlxGetPackedUsdValues(v5, __p, &p_p);
    if (p_p == v95)
    {
      __p = "usdMtlx/reader.cpp";
      v89 = "_CopyValue";
      v90 = 516;
      v91 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_CopyValue(const UsdShadeInput &, const mx::ConstValueElementPtr &)";
      v92 = 0;
      v14 = v97;
      if (SHIBYTE(v97->__r_.__value_.__r.__words[2]) < 0)
      {
        v14 = v97->__r_.__value_.__r.__words[0];
      }

      v15 = *a2;
      v77 = 0;
      v78 = 0;
      sub_29B1D8824(v15, &v77, &v87);
      if ((v87.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
      {
        v18 = &v87;
      }

      else
      {
        v18 = v87.__r_.__value_.__r.__words[0];
      }

      pxrInternal__aapl__pxrReserved__::TfStringPrintf("Failed to parse valuecurve '%s' on '%s';  ignoring", v16, v17, v14, v18);
      pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&__p, &v93);
      if (SHIBYTE(v93.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v93.__r_.__value_.__l.__data_);
      }

      if (SHIBYTE(v87.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v87.__r_.__value_.__l.__data_);
      }

      if (v78)
      {
        sub_29A014BEC(v78);
      }

      goto LABEL_52;
    }

    v6 = v96;
    sub_29A008E78(&__p, "integer");
    pxrInternal__aapl__pxrReserved__::UsdMtlxGetPackedUsdValues(v6, &__p, &v93);
    if (SHIBYTE(v90) < 0)
    {
      operator delete(__p);
    }

    if (v93.__r_.__value_.__l.__size_ - v93.__r_.__value_.__r.__words[0] == 32)
    {
      v7 = *sub_29A346A20(v93.__r_.__value_.__l.__data_);
      v8 = *sub_29A346A20((v93.__r_.__value_.__r.__words[0] + 16));
      if (v8 >= v7)
      {
        v46 = p_p;
        v47 = v95;
        v48 = (v95 - p_p) >> 4;
        if (v48 == v8 - v7 + 1)
        {
          while (v46 != v47)
          {
            pxrInternal__aapl__pxrReserved__::UsdShadeInput::Set(a1, v46, v7);
            LODWORD(v7) = v7 + 1;
            v46 = (v46 + 16);
          }

          goto LABEL_51;
        }

        __p = "usdMtlx/reader.cpp";
        v89 = "_CopyValue";
        v90 = 498;
        v91 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_CopyValue(const UsdShadeInput &, const mx::ConstValueElementPtr &)";
        v92 = 0;
        v49 = *a2;
        v81 = 0;
        v82 = 0;
        sub_29B1D8824(v49, &v81, v85);
        if (v86 >= 0)
        {
          v52 = v85;
        }

        else
        {
          v52 = v85[0];
        }

        pxrInternal__aapl__pxrReserved__::TfStringPrintf("valuerange [%d,%d] doesn't match valuecurve size %zd on '%s';  ignoring", v50, v51, v7, v8, v48, v52);
        pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&__p, &v87);
        if (SHIBYTE(v87.__r_.__value_.__r.__words[2]) < 0)
        {
          operator delete(v87.__r_.__value_.__l.__data_);
        }

        if (v86 < 0)
        {
          operator delete(v85[0]);
        }

        v13 = v82;
        if (!v82)
        {
          goto LABEL_51;
        }
      }

      else
      {
        __p = "usdMtlx/reader.cpp";
        v89 = "_CopyValue";
        v90 = 491;
        v91 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_CopyValue(const UsdShadeInput &, const mx::ConstValueElementPtr &)";
        v92 = 0;
        v9 = *a2;
        v83 = 0;
        v84 = 0;
        sub_29B1D8824(v9, &v83, v85);
        if (v86 >= 0)
        {
          v12 = v85;
        }

        else
        {
          v12 = v85[0];
        }

        pxrInternal__aapl__pxrReserved__::TfStringPrintf("Invalid valuerange [%d,%d] on '%s';  ignoring", v10, v11, v7, v8, v12);
        pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&__p, &v87);
        if (SHIBYTE(v87.__r_.__value_.__r.__words[2]) < 0)
        {
          operator delete(v87.__r_.__value_.__l.__data_);
        }

        if (v86 < 0)
        {
          operator delete(v85[0]);
        }

        v13 = v84;
        if (!v84)
        {
          goto LABEL_51;
        }
      }
    }

    else
    {
      __p = "usdMtlx/reader.cpp";
      v89 = "_CopyValue";
      v90 = 510;
      v91 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_CopyValue(const UsdShadeInput &, const mx::ConstValueElementPtr &)";
      v92 = 0;
      v19 = v96;
      if (SHIBYTE(v96->__r_.__value_.__r.__words[2]) < 0)
      {
        v19 = v96->__r_.__value_.__r.__words[0];
      }

      v20 = *a2;
      v79 = 0;
      v80 = 0;
      sub_29B1D8824(v20, &v79, v85);
      if (v86 >= 0)
      {
        v23 = v85;
      }

      else
      {
        v23 = v85[0];
      }

      pxrInternal__aapl__pxrReserved__::TfStringPrintf("Malformed valuerange '%s' on '%s';  ignoring", v21, v22, v19, v23);
      pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&__p, &v87);
      if (SHIBYTE(v87.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v87.__r_.__value_.__l.__data_);
      }

      if (v86 < 0)
      {
        operator delete(v85[0]);
      }

      v13 = v80;
      if (!v80)
      {
        goto LABEL_51;
      }
    }

    sub_29A014BEC(v13);
LABEL_51:
    __p = &v93;
    sub_29A1D0D38(&__p);
LABEL_52:
    __p = &p_p;
    sub_29A1D0D38(&__p);
    goto LABEL_53;
  }

  if (*(&v96->__r_.__value_.__s + 23))
  {
    goto LABEL_15;
  }

LABEL_53:
  v24 = sub_29AAC1FF8(*a2);
  sub_29B1D8ACC(*a2, &__p);
  v25 = sub_29AAC1FF8(__p);
  if (v89)
  {
    sub_29A014BEC(v89);
  }

  v26 = *(v24 + 23);
  if (v26 >= 0)
  {
    v27 = *(v24 + 23);
  }

  else
  {
    v27 = *(v24 + 1);
  }

  if (!v27)
  {
    return sub_29A186B14(v98);
  }

  v28 = *(v25 + 23);
  v29 = v28;
  if ((v28 & 0x80u) != 0)
  {
    v28 = *(v25 + 1);
  }

  if (v27 == v28)
  {
    v30 = v26 >= 0 ? v24 : *v24;
    v31 = v29 >= 0 ? v25 : *v25;
    if (!memcmp(v30, v31, v27))
    {
      return sub_29A186B14(v98);
    }
  }

  v32 = (*(**a2 + 64))();
  if (*(v32 + 23) < 0)
  {
    v34 = *(v32 + 1);
    if (v34 != 6)
    {
      if (v34 != 8)
      {
        return sub_29A186B14(v98);
      }

      v32 = *v32;
      goto LABEL_76;
    }

    v41 = *v32;
    if (**v32 != 1869377379 || *(*v32 + 4) != 13170)
    {
      v43 = *v41;
      v44 = *(v41 + 2);
      v40 = v43 == 1869377379 && v44 == 13426;
      goto LABEL_94;
    }

LABEL_163:
    sub_29AAC1FF8(*a2);
    pxrInternal__aapl__pxrReserved__::TfToken::TfToken(&__p);
    pxrInternal__aapl__pxrReserved__::UsdAttribute::SetColorSpace(a1, &__p);
  }

  v33 = *(v32 + 23);
  if (v33 != 6)
  {
    if (v33 != 8)
    {
      return sub_29A186B14(v98);
    }

LABEL_76:
    if (*v32 != 0x656D616E656C6966)
    {
      return sub_29A186B14(v98);
    }

    v35 = *a2;
    v36 = *(*a2 + 232);
    if (v36)
    {
      v37 = std::__shared_weak_count::lock(v36);
      if (v37)
      {
        v38 = v35[28];
      }

      else
      {
        v38 = 0;
      }
    }

    else
    {
      v38 = 0;
      v37 = 0;
    }

    v53 = sub_29B1F31FC();
    v54 = sub_29AAD7980(v38, v53);
    if (v37)
    {
      sub_29A014BEC(v37);
    }

    if (v54)
    {
      v55 = *a2;
      v56 = *(*a2 + 232);
      if (v56)
      {
        v56 = std::__shared_weak_count::lock(v56);
        v57 = v56;
        if (v56)
        {
          v56 = *(v55 + 28);
        }
      }

      else
      {
        v57 = 0;
      }

      sub_29B1D7E50(v56, &p_p);
      sub_29AAD7A2C(&p_p, &__p);
      v63 = __p;
      v62 = v89;
      if (v95)
      {
        sub_29A014BEC(v95);
      }
    }

    else
    {
      v58 = *a2;
      v59 = *(*a2 + 232);
      if (v59)
      {
        v60 = std::__shared_weak_count::lock(v59);
        if (v60)
        {
          v61 = v58[28];
        }

        else
        {
          v61 = 0;
        }
      }

      else
      {
        v61 = 0;
        v60 = 0;
      }

      v64 = sub_29B1F31FC();
      v65 = sub_29AAD7D7C(v61, v64);
      if (v60)
      {
        sub_29A014BEC(v60);
      }

      if (!v65)
      {
        return sub_29A186B14(v98);
      }

      v66 = *a2;
      v67 = *(*a2 + 232);
      if (v67)
      {
        v67 = std::__shared_weak_count::lock(v67);
        v57 = v67;
        if (v67)
        {
          v67 = *(v66 + 28);
        }
      }

      else
      {
        v57 = 0;
      }

      sub_29B1D7F00(v67, &__p);
      v63 = __p;
      v62 = v89;
      __p = 0;
      v89 = 0;
    }

    if (v57)
    {
      sub_29A014BEC(v57);
    }

    if (v63)
    {
      v68 = sub_29B1F31FC();
      sub_29AAD856C(v63, v68, &__p);
      v69 = __p;
      v70 = v89;
      if (__p != v89)
      {
        LOBYTE(v45) = 0;
        while (1)
        {
          v71 = (*(v69->~__shared_weak_count + 8))();
          v72 = *(v71 + 23);
          if (v72 < 0)
          {
            if (*(v71 + 8) == 6)
            {
              v71 = *v71;
LABEL_143:
              v75 = *v71 == 1869377379 && *(v71 + 4) == 13170 || *v71 == 1869377379 && *(v71 + 4) == 13426;
              goto LABEL_155;
            }
          }

          else if (v72 == 6)
          {
            goto LABEL_143;
          }

          v75 = 0;
LABEL_155:
          v45 = v75 | v45 & 1;
          v69 = (v69 + 16);
          if (v69 == v70)
          {
            goto LABEL_159;
          }
        }
      }

      v45 = 0;
LABEL_159:
      p_p = &__p;
      sub_29A0176E4(&p_p);
    }

    else
    {
      v45 = 0;
    }

    if (v62)
    {
      sub_29A014BEC(v62);
    }

    goto LABEL_162;
  }

  if (*v32 == 1869377379 && *(v32 + 2) == 13170)
  {
    goto LABEL_163;
  }

  v40 = *v32 == 1869377379 && *(v32 + 2) == 13426;
LABEL_94:
  v45 = v40;
LABEL_162:
  if (v45)
  {
    goto LABEL_163;
  }

  return sub_29A186B14(v98);
}

void sub_29AAD7764(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, void *a21, uint64_t a22, int a23, __int16 a24, char a25, char a26, void *__p, uint64_t a28, int a29, __int16 a30, char a31, char a32, void *a33, uint64_t a34, int a35, __int16 a36, char a37, char a38)
{
  if (v38)
  {
    sub_29A014BEC(v38);
  }

  sub_29A186B14(v39 - 104);
  _Unwind_Resume(a1);
}

uint64_t sub_29AAD7980(uint64_t a1, const void **a2)
{
  sub_29B1D7E50(a1, &v15);
  v4 = v15;
  if (v16)
  {
    sub_29A014BEC(v16);
  }

  if (!v4)
  {
    return 0;
  }

  v5 = *(a2 + 23);
  v6 = v5 >= 0 ? *(a2 + 23) : a2[1];
  if (!v6)
  {
    return 1;
  }

  v7 = *(a1 + 47);
  v8 = v7;
  if ((v7 & 0x80u) != 0)
  {
    v7 = *(a1 + 32);
  }

  if (v7 == v6 && ((v11 = *(a1 + 24), v10 = (a1 + 24), v9 = v11, v8 >= 0) ? (v12 = v10) : (v12 = v9), v5 >= 0 ? (v13 = a2) : (v13 = *a2), !memcmp(v12, v13, v6)))
  {
    return 1;
  }

  else
  {
    return 0;
  }
}

void sub_29AAD7A2C(uint64_t *a1@<X0>, uint64_t *a2@<X8>)
{
  v4 = *a1;
  v5 = sub_29B1F31FC();
  sub_29B1ED628(v4, v5, 0, __s1);
  v6 = __s1[1];
  if (__s1[0])
  {
    *a2 = __s1[0];
    a2[1] = v6;
    return;
  }

  v7 = (*(**a1 + 64))();
  if (*(v7 + 23) < 0)
  {
    sub_29A008D14(__s1, *v7, *(v7 + 8));
  }

  else
  {
    v8 = *v7;
    v30 = *(v7 + 16);
    *__s1 = v8;
  }

  v9 = strlen(off_2A14FDEF0[0]);
  v10 = v9;
  v11 = SHIBYTE(v30);
  if ((SHIBYTE(v30) & 0x8000000000000000) != 0)
  {
    if (v9 != __s1[1])
    {
      goto LABEL_13;
    }

    if (v9 == -1)
    {
      sub_29A0F26CC();
    }

    v12 = __s1[0];
  }

  else
  {
    if (v9 != SHIBYTE(v30))
    {
      goto LABEL_13;
    }

    v12 = __s1;
  }

  if (!memcmp(v12, off_2A14FDEF0[0], v10))
  {
    goto LABEL_40;
  }

LABEL_13:
  v13 = strlen(off_2A14FDEF8[0]);
  v14 = v13;
  if ((v11 & 0x80000000) != 0)
  {
    if (v13 != __s1[1])
    {
      goto LABEL_20;
    }

    if (v13 == -1)
    {
      sub_29A0F26CC();
    }

    v15 = __s1[0];
  }

  else
  {
    if (v13 != v11)
    {
      goto LABEL_20;
    }

    v15 = __s1;
  }

  if (!memcmp(v15, off_2A14FDEF8[0], v14))
  {
    goto LABEL_40;
  }

LABEL_20:
  v16 = strlen(off_2A14FDF00[0]);
  v17 = v16;
  if ((v11 & 0x80000000) != 0)
  {
    if (v16 != __s1[1])
    {
      goto LABEL_27;
    }

    if (v16 == -1)
    {
      sub_29A0F26CC();
    }

    v18 = __s1[0];
  }

  else
  {
    if (v16 != v11)
    {
      goto LABEL_27;
    }

    v18 = __s1;
  }

  if (!memcmp(v18, off_2A14FDF00[0], v17))
  {
    goto LABEL_40;
  }

LABEL_27:
  v19 = strlen(off_2A14FDF08[0]);
  v20 = v19;
  if ((v11 & 0x80000000) != 0)
  {
    if (v19 == __s1[1])
    {
      if (v19 == -1)
      {
        sub_29A0F26CC();
      }

      v21 = __s1[0];
LABEL_33:
      if (memcmp(v21, off_2A14FDF08[0], v20))
      {
        goto LABEL_34;
      }

LABEL_40:
      v24 = a1[1];
      v27 = *a1;
      v28 = v24;
      if (v24)
      {
        atomic_fetch_add_explicit(&v24->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      pxrInternal__aapl__pxrReserved__::UsdMtlxGetVersion(&v27, 0);
      sub_29AAD8124(*a1);
      v25 = 0;
      v26 = 0;
      sub_29AAD7E28(a1, &v25, a2);
      goto LABEL_43;
    }
  }

  else if (v19 == v11)
  {
    v21 = __s1;
    goto LABEL_33;
  }

LABEL_34:
  v22 = a1[1];
  v27 = *a1;
  v28 = v22;
  if (v22)
  {
    atomic_fetch_add_explicit(&v22->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  pxrInternal__aapl__pxrReserved__::UsdMtlxGetVersion(&v27, 0);
  sub_29AAD8124(*a1);
  v23 = a1[1];
  v25 = *a1;
  v26 = v23;
  if (v23)
  {
    atomic_fetch_add_explicit(&v23->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  sub_29AAD7E28(a1, &v25, a2);
  if (v23)
  {
    sub_29A014BEC(v23);
  }

LABEL_43:
  if (v28)
  {
    sub_29A014BEC(v28);
  }

  if (SHIBYTE(v30) < 0)
  {
    operator delete(__s1[0]);
  }

  if (v6)
  {
    sub_29A014BEC(v6);
  }
}

void sub_29AAD7D24(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, std::__shared_weak_count *a12, void *__p, uint64_t a14, int a15, __int16 a16, char a17, char a18)
{
  if (v19)
  {
    sub_29A014BEC(v19);
  }

  if (a12)
  {
    sub_29A014BEC(a12);
  }

  if (a18 < 0)
  {
    operator delete(__p);
  }

  if (v18)
  {
    sub_29A014BEC(v18);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_29AAD7D7C(uint64_t a1, const void **a2)
{
  sub_29B1D7F00(a1, &v15);
  v4 = v15;
  if (v16)
  {
    sub_29A014BEC(v16);
  }

  if (!v4)
  {
    return 0;
  }

  v5 = *(a2 + 23);
  v6 = v5 >= 0 ? *(a2 + 23) : a2[1];
  if (!v6)
  {
    return 1;
  }

  v7 = *(a1 + 47);
  v8 = v7;
  if ((v7 & 0x80u) != 0)
  {
    v7 = *(a1 + 32);
  }

  if (v7 == v6 && ((v11 = *(a1 + 24), v10 = (a1 + 24), v9 = v11, v8 >= 0) ? (v12 = v10) : (v12 = v9), v5 >= 0 ? (v13 = a2) : (v13 = *a2), !memcmp(v12, v13, v6)))
  {
    return 1;
  }

  else
  {
    return 0;
  }
}

void sub_29AAD7E28(uint64_t *a1@<X0>, uint64_t *a2@<X1>, uint64_t *a3@<X8>)
{
  sub_29B1D8ACC(*a1, &__p);
  v6 = (*a1 + 24);
  v7 = (*(**a1 + 64))();
  v8 = a1[1];
  v25 = *a1;
  v26 = v8;
  if (v8)
  {
    atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  Version = pxrInternal__aapl__pxrReserved__::UsdMtlxGetVersion(&v25, 0);
  v28 = v9;
  v10 = sub_29AAD8124(*a1);
  sub_29AAD81B0(&__p, a2, v6, v7, &Version, v10, &v29);
  if (v26)
  {
    sub_29A014BEC(v26);
  }

  if (v23)
  {
    sub_29A014BEC(v23);
  }

  if (v29)
  {
    v11 = v30;
    *a3 = v29;
    a3[1] = v11;
  }

  else
  {
    if ((atomic_load_explicit(&qword_2A1748120, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_2A1748120))
    {
      sub_29A008E78(&__p, "");
      pxrInternal__aapl__pxrReserved__::UsdMtlxGetDocument(&__p, &qword_2A1748110);
      if (v24 < 0)
      {
        operator delete(__p);
      }

      __cxa_atexit(sub_29AAD1874, &qword_2A1748110, &dword_299FE7000);
      __cxa_guard_release(&qword_2A1748120);
    }

    if (!sub_29AAD8460(*a1))
    {
      goto LABEL_16;
    }

    v12 = qword_2A1748110;
    v13 = sub_29AAD84E0(*a1);
    sub_29AAC0094(v12, v13, &__p);
    v15 = __p;
    v14 = v23;
    __p = 0;
    v23 = 0;
    v16 = v30;
    v30 = v14;
    if (v16)
    {
      sub_29A014BEC(v16);
      if (v23)
      {
        sub_29A014BEC(v23);
      }
    }

    if (v15)
    {
      *a3 = v15;
      a3[1] = v14;
    }

    else
    {
LABEL_16:
      v17 = (*a1 + 24);
      v18 = (*(**a1 + 64))();
      v19 = a1[1];
      __p = *a1;
      v23 = v19;
      if (v19)
      {
        atomic_fetch_add_explicit(&v19->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      v25 = pxrInternal__aapl__pxrReserved__::UsdMtlxGetVersion(&__p, 0);
      LOBYTE(v26) = v20;
      v21 = sub_29AAD8124(*a1);
      sub_29AAD81B0(&qword_2A1748110, a2, v17, v18, &v25, v21, a3);
      if (v23)
      {
        sub_29A014BEC(v23);
      }

      if (v30)
      {
        sub_29A014BEC(v30);
      }
    }
  }
}

void sub_29AAD80A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, std::__shared_weak_count *a21)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  __cxa_guard_abort(&qword_2A1748120);
  if (a21)
  {
    sub_29A014BEC(a21);
  }

  _Unwind_Resume(a1);
}

__int128 *sub_29AAD8124(uint64_t a1)
{
  sub_29A008E78(__p, off_2A14FDE88[0]);
  v2 = sub_29A8877BC((a1 + 160), __p);
  if (v2)
  {
    v3 = (v2 + 5);
  }

  else
  {
    v3 = sub_29B1F31FC();
  }

  if (v6 < 0)
  {
    operator delete(__p[0]);
  }

  return v3;
}

void sub_29AAD8194(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void sub_29AAD81B0(uint64_t *a1@<X0>, uint64_t *a2@<X1>, const void **a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, uint64_t a6@<X5>, uint64_t *a7@<X8>)
{
  *a7 = 0;
  a7[1] = 0;
  sub_29B1C85B0(*a1, a3, &v39);
  v13 = v39;
  v12 = v40;
  if (v39 != v40)
  {
    v14 = 0;
    v33 = 0;
    while (1)
    {
      v15 = sub_29AAD8124(*v13);
      if (sub_29B1DC438(a6, v15))
      {
        v16 = *a2;
        if (!*a2)
        {
          goto LABEL_10;
        }

        v17 = v13[1];
        v37 = *v13;
        v38 = v17;
        if (v17)
        {
          atomic_fetch_add_explicit(&v17->__shared_owners_, 1uLL, memory_order_relaxed);
        }

        v18 = sub_29B1EB85C(v16, &v37, 0);
        if (v38)
        {
          sub_29A014BEC(v38);
        }

        if (v18)
        {
LABEL_10:
          v19 = (*(**v13 + 64))();
          v20 = *(v19 + 23);
          if (v20 >= 0)
          {
            v21 = *(v19 + 23);
          }

          else
          {
            v21 = v19[1];
          }

          v22 = *(a4 + 23);
          v23 = v22;
          if ((v22 & 0x80u) != 0)
          {
            v22 = *(a4 + 8);
          }

          if (v21 == v22)
          {
            if (v20 < 0)
            {
              v19 = *v19;
            }

            v24 = v23 >= 0 ? a4 : *a4;
            if (!memcmp(v19, v24, v21))
            {
              v36 = 0;
              v25 = v13[1];
              v34 = *v13;
              v35 = v25;
              if (v25)
              {
                atomic_fetch_add_explicit(&v25->__shared_owners_, 1uLL, memory_order_relaxed);
              }

              Version = pxrInternal__aapl__pxrReserved__::UsdMtlxGetVersion(&v34, &v36);
              v28 = v27;
              if (v35)
              {
                sub_29A014BEC(v35);
              }

              if (*(a5 + 8) == 1)
              {
                if (v36 == 1)
                {
                  v29 = v13[1];
                  v33 = *v13;
                  if (v29)
                  {
                    atomic_fetch_add_explicit(&v29->__shared_owners_, 1uLL, memory_order_relaxed);
                  }

                  a7[1] = v29;
                  if (v14)
                  {
                    sub_29A014BEC(v14);
                  }

                  v14 = v29;
                }

                else if (v28)
                {
LABEL_38:
                  v31 = *v13;
                  v30 = v13[1];
                  if (v30)
                  {
                    atomic_fetch_add_explicit((v30 + 8), 1uLL, memory_order_relaxed);
                  }

                  v32 = a7[1];
                  *a7 = v31;
                  a7[1] = v30;
                  if (v32)
                  {
                    sub_29A014BEC(v32);
                  }

                  goto LABEL_44;
                }
              }

              else if (*a5 == Version)
              {
                goto LABEL_38;
              }
            }
          }
        }
      }

      v13 += 2;
      if (v13 == v12)
      {
        goto LABEL_43;
      }
    }
  }

  v33 = 0;
LABEL_43:
  *a7 = v33;
LABEL_44:
  v34 = &v39;
  sub_29A0176E4(&v34);
}

void sub_29AAD83FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, void **a11, std::__shared_weak_count *a12, uint64_t a13, uint64_t a14, uint64_t a15, char a16)
{
  *v16 = a10;
  if (a12)
  {
    sub_29A014BEC(a12);
  }

  a11 = &a16;
  sub_29A0176E4(&a11);
  v18 = v16[1];
  if (v18)
  {
    sub_29A014BEC(v18);
  }

  _Unwind_Resume(a1);
}

BOOL sub_29AAD8460(uint64_t a1)
{
  sub_29A008E78(__p, off_2A14FDE80[0]);
  v2 = sub_29A8877BC((a1 + 160), __p);
  if (v5 < 0)
  {
    operator delete(__p[0]);
  }

  return v2 != 0;
}

void sub_29AAD84C4(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

__int128 *sub_29AAD84E0(uint64_t a1)
{
  sub_29A008E78(__p, off_2A14FDE80[0]);
  v2 = sub_29A8877BC((a1 + 160), __p);
  if (v2)
  {
    v3 = (v2 + 5);
  }

  else
  {
    v3 = sub_29B1F31FC();
  }

  if (v6 < 0)
  {
    operator delete(__p[0]);
  }

  return v3;
}

void sub_29AAD8550(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void sub_29AAD856C(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  v3 = *(a1 + 136);
  for (i = *(a1 + 144); v3 != i; v3 += 2)
  {
    v8 = *v3;
    v7 = v3[1];
    if (v7)
    {
      atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    sub_29B1D8060(v8, &v18);
    if (v18)
    {
      v9 = *(a2 + 23);
      v10 = v9 >= 0 ? *(a2 + 23) : *(a2 + 8);
      if (!v10)
      {
        goto LABEL_19;
      }

      v11 = *(v8 + 47);
      v12 = v11;
      if ((v11 & 0x80u) != 0)
      {
        v11 = *(v8 + 32);
      }

      if (v11 == v10)
      {
        v15 = *(v8 + 24);
        v14 = v8 + 24;
        v13 = v15;
        v16 = (v12 >= 0 ? v14 : v13);
        v17 = v9 >= 0 ? a2 : *a2;
        if (!memcmp(v16, v17, v10))
        {
LABEL_19:
          sub_29A017F80(a3, &v18);
        }
      }
    }

    if (*(&v18 + 1))
    {
      sub_29A014BEC(*(&v18 + 1));
    }

    if (v7)
    {
      sub_29A014BEC(v7);
    }
  }
}

void sub_29AAD8670(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void **a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    sub_29A014BEC(a10);
  }

  if (v10)
  {
    sub_29A014BEC(v10);
  }

  sub_29A0176E4(&a9);
  _Unwind_Resume(a1);
}

uint64_t *sub_29AAD86A8(uint64_t **a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AAD8740(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

void *sub_29AAD8740@<X0>(uint64_t a1@<X0>, __int128 **a2@<X2>, void *a3@<X8>)
{
  v6 = operator new(0x58uLL);
  *a3 = v6;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  result = sub_29AAD87C0(v6 + 4, &v8);
  *(a3 + 16) = 1;
  return result;
}

void *sub_29AAD87C0(void *__dst, __int128 **a2)
{
  v3 = *a2;
  if (*(*a2 + 23) < 0)
  {
    sub_29A008D14(__dst, *v3, *(v3 + 1));
  }

  else
  {
    v4 = *v3;
    __dst[2] = *(v3 + 2);
    *__dst = v4;
  }

  *(__dst + 6) = 3;
  __dst[4] = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(__dst + 10);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(__dst + 11);
  __dst[6] = 0;
  return __dst;
}

void sub_29AAD8838(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD8894(v2 + 32);
    }

    operator delete(v2);
  }
}

void sub_29AAD8894(uint64_t a1)
{
  v2 = *(a1 + 48);
  if ((v2 & 7) != 0)
  {
    atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 44));
  sub_29A1DE3A4((a1 + 40));
  v4 = *(a1 + 32);
  if (v4)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v4, v3);
  }

  if (*(a1 + 23) < 0)
  {
    v5 = *a1;

    operator delete(v5);
  }
}

void sub_29AAD8C54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, ...)
{
  va_start(va1, a4);
  va_start(va, a4);
  v7 = va_arg(va1, void);
  v9 = va_arg(va1, void);
  v10 = va_arg(va1, void);
  v11 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::~UsdShadeNodeGraph(va);
  sub_29A57F434(va1);
  v6 = *(v4 - 40);
  if (v6)
  {
    if (atomic_fetch_add_explicit(v6 + 2, 0xFFFFFFFF, memory_order_release) == 1)
    {
      (*(*v6 + 8))(v6);
    }
  }

  _Unwind_Resume(a1);
}

uint64_t *sub_29AAD8D28(uint64_t a1, unint64_t *a2, uint64_t a3, void **a4)
{
  v6 = (a1 + 8);
  v5 = *(a1 + 8);
  if (v5)
  {
    v7 = *a2;
    while (1)
    {
      while (1)
      {
        v8 = v5;
        v9 = v5[4];
        if (v7 >= v9)
        {
          break;
        }

        v5 = *v8;
        v6 = v8;
        if (!*v8)
        {
          goto LABEL_10;
        }
      }

      if (v9 >= v7)
      {
        break;
      }

      v5 = v8[1];
      if (!v5)
      {
        v6 = v8 + 1;
        goto LABEL_10;
      }
    }
  }

  else
  {
    v8 = (a1 + 8);
LABEL_10:
    sub_29AAD8DE4(a1, a4, &v11);
    sub_29A00B204(a1, v8, v6, v11);
    return v11;
  }

  return v8;
}

uint64_t sub_29AAD8DE4@<X0>(uint64_t a1@<X0>, void **a2@<X2>, void *a3@<X8>)
{
  v6 = operator new(0x50uLL);
  *a3 = v6;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  result = sub_29AAD8E64(v6 + 32, &v8);
  *(a3 + 16) = 1;
  return result;
}

uint64_t sub_29AAD8E64(uint64_t a1, void **a2)
{
  v3 = (*a2)[1];
  *a1 = **a2;
  *(a1 + 8) = v3;
  if (v3)
  {
    atomic_fetch_add_explicit((v3 + 8), 1uLL, memory_order_relaxed);
  }

  *(a1 + 16) = 3;
  *(a1 + 24) = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle((a1 + 32));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle((a1 + 36));
  *(a1 + 40) = 0;
  return a1;
}

void sub_29AAD8ECC(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD8F28(v2 + 32);
    }

    operator delete(v2);
  }
}

void sub_29AAD8F28(uint64_t a1)
{
  v2 = *(a1 + 40);
  if ((v2 & 7) != 0)
  {
    atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL((a1 + 36));
  sub_29A1DE3A4((a1 + 32));
  v4 = *(a1 + 24);
  if (v4)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v4, v3);
  }

  v5 = *(a1 + 8);
  if (v5)
  {

    sub_29A014BEC(v5);
  }
}

void sub_29AAD8FA4(uint64_t a1@<X0>, uint64_t *a2@<X1>, uint64_t *a3@<X2>, pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI *a4@<X3>, uint64_t a5@<X8>)
{
  v66 = *MEMORY[0x29EDCA608];
  sub_29AAD1438();
  v10 = sub_29A8877BC((*a2 + 160), &qword_2A1747FA0);
  if (v10)
  {
    v11 = (v10 + 5);
  }

  else
  {
    v11 = sub_29B1F31FC();
  }

  v12 = *(v11 + 23);
  if ((v12 & 0x80u) != 0)
  {
    v12 = *(v11 + 1);
  }

  if (!v12)
  {
    v11 = sub_29B1F31FC();
  }

  memset(&v59, 0, sizeof(v59));
  sub_29B1D8ACC(*a2, &__p);
  sub_29AAC1C4C(__p, v11, &v57);
  if (v49)
  {
    sub_29A014BEC(v49);
  }

  if (v57)
  {
    sub_29AAD1438();
    sub_29AAD14B4(&__p, &v57, &qword_2A1747F70);
    v13 = __p;
    v14 = *(__p + 23);
    if (v14 < 0)
    {
      if (!*(__p + 1))
      {
        goto LABEL_23;
      }
    }

    else if (!*(__p + 23))
    {
      goto LABEL_23;
    }

    v15 = strlen(off_2A14FDBF8[0]);
    if ((v14 & 0x80000000) != 0)
    {
      if (v15 != *(__p + 1))
      {
        goto LABEL_23;
      }

      if (v15 == -1)
      {
        sub_29A0F26CC();
      }

      v13 = *__p;
    }

    else if (v15 != v14)
    {
      goto LABEL_23;
    }

    if (!memcmp(v13, off_2A14FDBF8[0], v15))
    {
      sub_29AAD1438();
      sub_29AAD14B4(&v61, &v57, &qword_2A1747D78);
      std::string::operator=(&v59, v61);
    }
  }

LABEL_23:
  v56 = 0;
  pxrInternal__aapl__pxrReserved__::SdfValueTypeName::SdfValueTypeName(&v55);
  if (SHIBYTE(v59.__r_.__value_.__r.__words[2]) < 0)
  {
    if (v59.__r_.__value_.__l.__size_ == 7 && *v59.__r_.__value_.__l.__data_ == 1718777203 && *(v59.__r_.__value_.__r.__words[0] + 3) == 1701011814)
    {
      goto LABEL_76;
    }

    if (v59.__r_.__value_.__l.__size_ == 12 && *v59.__r_.__value_.__l.__data_ == 0x6563616C70736964 && *(v59.__r_.__value_.__r.__words[0] + 8) == 1953391981)
    {
      goto LABEL_76;
    }

    if (v59.__r_.__value_.__l.__size_ == 6 && *v59.__r_.__value_.__l.__data_ == 1970040694 && *(v59.__r_.__value_.__r.__words[0] + 4) == 25965)
    {
      goto LABEL_76;
    }

    if (v59.__r_.__value_.__l.__size_ != 5)
    {
      goto LABEL_60;
    }

    v22 = v59.__r_.__value_.__r.__words[0];
  }

  else
  {
    if (HIBYTE(v59.__r_.__value_.__r.__words[2]) > 6u)
    {
      if (HIBYTE(v59.__r_.__value_.__r.__words[2]) == 7)
      {
        v16 = *(v59.__r_.__value_.__r.__words + 3);
        v17 = LODWORD(v59.__r_.__value_.__l.__data_) == 1718777203;
        v18 = 1701011814;
      }

      else
      {
        if (HIBYTE(v59.__r_.__value_.__r.__words[2]) != 12)
        {
          goto LABEL_60;
        }

        v16 = v59.__r_.__value_.__r.__words[1];
        v17 = v59.__r_.__value_.__r.__words[0] == 0x6563616C70736964;
        v18 = 1953391981;
      }

LABEL_56:
      if (!v17 || v16 != v18)
      {
        goto LABEL_60;
      }

LABEL_76:
      v34 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
      if (v34)
      {
LABEL_78:
        v55 = *(v34 + 11);
        goto LABEL_79;
      }

LABEL_77:
      v34 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
      goto LABEL_78;
    }

    if (HIBYTE(v59.__r_.__value_.__r.__words[2]) != 5)
    {
      if (HIBYTE(v59.__r_.__value_.__r.__words[2]) != 6)
      {
        goto LABEL_60;
      }

      v16 = WORD2(v59.__r_.__value_.__r.__words[0]);
      v17 = LODWORD(v59.__r_.__value_.__l.__data_) == 1970040694;
      v18 = 25965;
      goto LABEL_56;
    }

    v22 = &v59;
  }

  data = v22->__r_.__value_.__l.__data_;
  v24 = v22->__r_.__value_.__s.__data_[4];
  if (data == 1751607660 && v24 == 116)
  {
    goto LABEL_76;
  }

LABEL_60:
  v27 = strlen(off_2A14FDEF0[0]);
  v28 = v27;
  v29 = *(v11 + 23);
  if (v29 < 0)
  {
    if (v27 != *(v11 + 1))
    {
      goto LABEL_67;
    }

    if (v27 == -1)
    {
      sub_29A0F26CC();
    }

    v30 = *v11;
  }

  else
  {
    v30 = v11;
    if (v28 != v29)
    {
      goto LABEL_67;
    }
  }

  if (!memcmp(v30, off_2A14FDEF0[0], v28))
  {
    goto LABEL_76;
  }

LABEL_67:
  v31 = strlen(off_2A14FDEF8[0]);
  v32 = v31;
  if ((v29 & 0x80000000) != 0)
  {
    if (v31 != *(v11 + 1))
    {
      goto LABEL_74;
    }

    if (v31 == -1)
    {
      sub_29A0F26CC();
    }

    v33 = *v11;
  }

  else
  {
    v33 = v11;
    if (v32 != v29)
    {
      goto LABEL_74;
    }
  }

  if (!memcmp(v33, off_2A14FDEF8[0], v32))
  {
    goto LABEL_76;
  }

LABEL_74:
  if (sub_29A0F2648(v11, off_2A14FDF00[0]) || sub_29A0F2648(v11, off_2A14FDF08[0]))
  {
    goto LABEL_76;
  }

  size = HIBYTE(v59.__r_.__value_.__r.__words[2]);
  if ((v59.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
  {
    size = v59.__r_.__value_.__l.__size_;
  }

  if (size)
  {
    v34 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
    if (v34)
    {
      goto LABEL_78;
    }

    goto LABEL_77;
  }

  pxrInternal__aapl__pxrReserved__::UsdMtlxGetUsdType(v11, &__p);
  v55 = __p;
  if ((v49 & 7) != 0)
  {
    atomic_fetch_add_explicit((v49 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (pxrInternal__aapl__pxrReserved__::SdfValueTypeName::_IsEmpty(&v55))
  {
    v46 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
    if (!v46)
    {
      v46 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
    }

    v55 = *(v46 + 11);
    pxrInternal__aapl__pxrReserved__::TfToken::TfToken(&__p);
    if ((v56 & 7) != 0)
    {
      atomic_fetch_add_explicit((v56 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    v56 = __p;
  }

LABEL_79:
  v35 = *a2;
  v36 = a2[1];
  if (v36)
  {
    atomic_fetch_add_explicit(&v36->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  if (v35)
  {
    sub_29AAD3238(v35 + 48, &v54);
    if (!v36)
    {
      goto LABEL_84;
    }

    goto LABEL_83;
  }

  v54 = 0;
  if (v36)
  {
LABEL_83:
    sub_29A014BEC(v36);
  }

LABEL_84:
  v37 = *a3;
  if (*(*a3 + 71) < 0)
  {
    sub_29A008D14(__dst, *(v37 + 48), *(v37 + 56));
  }

  else
  {
    *__dst = *(v37 + 48);
    v53 = *(v37 + 64);
  }

  pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::CreateOutput(a4, &v54, &v55, a5);
  LODWORD(v61) = *a5;
  v38 = *(a5 + 8);
  v62 = v38;
  if (v38)
  {
    atomic_fetch_add_explicit(v38 + 6, 1uLL, memory_order_relaxed);
  }

  sub_29A1E21F4(&v63, (a5 + 16));
  sub_29A1E2240(&v64, (a5 + 20));
  v39 = *(a5 + 24);
  v65 = v39;
  if ((v39 & 7) != 0 && (atomic_fetch_add_explicit((v39 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
  {
    v65 &= 0xFFFFFFFFFFFFFFF8;
  }

  memset(v47, 0, sizeof(v47));
  sub_29AAD9980(v47, &v61, &v66, 1uLL);
  sub_29AAD9A9C(&__p, __dst, v47);
  v40 = sub_29A121054((a1 + 104), &__p, &__p);
  v42 = v41;
  v60 = &v51;
  sub_29A7D6D78(&v60);
  if (v50 < 0)
  {
    operator delete(__p);
  }

  v60 = v47;
  sub_29A7D6D78(&v60);
  if ((v65 & 7) != 0)
  {
    atomic_fetch_add_explicit((v65 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v64);
  sub_29A1DE3A4(&v63);
  if (v62)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v62, v43);
  }

  if ((v42 & 1) == 0)
  {
    sub_29A7E4F5C(v40 + 7, a5);
  }

  if (v56)
  {
    pxrInternal__aapl__pxrReserved__::UsdShadeOutput::SetRenderType(a5, &v56);
  }

  v44 = a2[1];
  __p = *a2;
  v49 = v44;
  if (v44)
  {
    atomic_fetch_add_explicit(&v44->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  sub_29AAD52A0(a5, &__p);
  if (v44)
  {
    sub_29A014BEC(v44);
  }

  if (SHIBYTE(v53) < 0)
  {
    operator delete(__dst[0]);
  }

  if ((v54 & 7) != 0)
  {
    atomic_fetch_add_explicit((v54 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if ((v56 & 7) != 0)
  {
    atomic_fetch_add_explicit((v56 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (v58)
  {
    sub_29A014BEC(v58);
  }

  if (SHIBYTE(v59.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v59.__r_.__value_.__l.__data_);
  }
}

void sub_29AAD96F4(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, char a10, uint64_t a11, uint64_t a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19, uint64_t a20, int a21, __int16 a22, char a23, char a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, std::__shared_weak_count *a30, void *__p, uint64_t a32, int a33, __int16 a34, char a35, char a36)
{
  if ((a28 & 7) != 0)
  {
    atomic_fetch_add_explicit((a28 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a30)
  {
    sub_29A014BEC(a30);
  }

  if (a36 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void *sub_29AAD9824(void *a1, void *a2, const void **a3)
{
  v3 = a1;
  if (a1 != a2)
  {
    v5 = *(a3 + 23);
    if (v5 >= 0)
    {
      v6 = *(a3 + 23);
    }

    else
    {
      v6 = a3[1];
    }

    if (v5 >= 0)
    {
      v7 = a3;
    }

    else
    {
      v7 = *a3;
    }

    while (1)
    {
      v8 = *(v3 + 55);
      v9 = v8;
      if ((v8 & 0x80u) != 0)
      {
        v8 = v3[5];
      }

      if (v8 == v6)
      {
        v10 = v9 >= 0 ? v3 + 4 : v3[4];
        if (!memcmp(v10, v7, v6))
        {
          break;
        }
      }

      v11 = v3[1];
      if (v11)
      {
        do
        {
          v12 = v11;
          v11 = *v11;
        }

        while (v11);
      }

      else
      {
        do
        {
          v12 = v3[2];
          v13 = *v12 == v3;
          v3 = v12;
        }

        while (!v13);
      }

      v3 = v12;
      if (v12 == a2)
      {
        return a2;
      }
    }
  }

  return v3;
}

uint64_t sub_29AAD98EC(uint64_t a1)
{
  v3 = (a1 + 24);
  sub_29A7D6D78(&v3);
  if (*(a1 + 23) < 0)
  {
    operator delete(*a1);
  }

  return a1;
}

void sub_29AAD9938(uint64_t a1)
{
  v2 = (a1 + 24);
  sub_29A7D6D78(&v2);
  if (*(a1 + 23) < 0)
  {
    operator delete(*a1);
  }
}

void *sub_29AAD9980(void *result, uint64_t a2, uint64_t a3, unint64_t a4)
{
  if (a4)
  {
    v6 = result;
    sub_29A15A71C(result, a4);
    result = sub_29AAD9A08(v6, a2, a3, *(v6 + 8));
    *(v6 + 8) = result;
  }

  return result;
}

void sub_29AAD99E8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void **a9)
{
  *(v9 + 8) = v10;
  sub_29A7D6D78(&a9);
  _Unwind_Resume(a1);
}

uint64_t sub_29AAD9A08(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v4 = a4;
  v11 = a4;
  v12 = a4;
  v9[0] = a1;
  v9[1] = &v11;
  v9[2] = &v12;
  if (a2 != a3)
  {
    v6 = a2;
    do
    {
      sub_29A58C00C(a1, v4, v6);
      v6 += 32;
      v4 = v12 + 32;
      v12 += 32;
    }

    while (v6 != a3);
  }

  v10 = 1;
  sub_29A7DC170(v9);
  return v4;
}

void *sub_29AAD9A9C(void *__dst, __int128 *a2, uint64_t *a3)
{
  if (*(a2 + 23) < 0)
  {
    sub_29A008D14(__dst, *a2, *(a2 + 1));
  }

  else
  {
    v5 = *a2;
    __dst[2] = *(a2 + 2);
    *__dst = v5;
  }

  __dst[3] = 0;
  __dst[4] = 0;
  __dst[5] = 0;
  sub_29AAD9B28(__dst + 3, *a3, a3[1], (a3[1] - *a3) >> 5);
  return __dst;
}

void sub_29AAD9B0C(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

void *sub_29AAD9B28(void *result, uint64_t a2, uint64_t a3, unint64_t a4)
{
  if (a4)
  {
    v6 = result;
    sub_29A15A71C(result, a4);
    result = sub_29AAD9A08(v6, a2, a3, *(v6 + 8));
    *(v6 + 8) = result;
  }

  return result;
}

void sub_29AAD9B90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void **a9)
{
  *(v9 + 8) = v10;
  sub_29A7D6D78(&a9);
  _Unwind_Resume(a1);
}

void sub_29AAD9BB0(uint64_t *a1, pxrInternal__aapl__pxrReserved__::UsdObject *a2)
{
  sub_29B1D7C40(*a1, &v4);
  if (!v4)
  {
LABEL_12:
    if (v5)
    {
      sub_29A014BEC(v5);
    }

    if (sub_29AAD2C14(0))
    {
      pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
    }

    pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
  }

  sub_29AAD1438();
  sub_29AAD14B4(&v3, &v4, &qword_2A1747EE0);
  if ((*(v3 + 23) & 0x8000000000000000) != 0)
  {
    if (!*(v3 + 1))
    {
      goto LABEL_7;
    }
  }

  else if (!*(v3 + 23))
  {
LABEL_7:
    sub_29AAD1438();
    sub_29AAD14B4(&v3, &v4, &qword_2A1747D18);
    if ((*(v3 + 23) & 0x8000000000000000) != 0)
    {
      if (!*(v3 + 1))
      {
        goto LABEL_12;
      }
    }

    else if (!*(v3 + 23))
    {
      goto LABEL_12;
    }

    v6 = "usdMtlx/reader.cpp";
    v7 = "_ConnectPorts";
    v8 = 1120;
    v9 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_NodeGraphBuilder::_ConnectPorts(const mx::ConstElementPtr &, const U &, const D &) [U = pxrInternal__aapl__pxrReserved__::UsdShadeOutput, D = pxrInternal__aapl__pxrReserved__::UsdShadeInput]";
    v10 = 0;
    pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
  }

  v6 = "usdMtlx/reader.cpp";
  v7 = "_ConnectPorts";
  v8 = 1112;
  v9 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_NodeGraphBuilder::_ConnectPorts(const mx::ConstElementPtr &, const U &, const D &) [U = pxrInternal__aapl__pxrReserved__::UsdShadeOutput, D = pxrInternal__aapl__pxrReserved__::UsdShadeInput]";
  v10 = 0;
  pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
}

void sub_29AADA228(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  v13 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  sub_29A57F434(va);
  sub_29A57F434(va1);
  sub_29A1DCEA8((v11 - 112));
  _Unwind_Resume(a1);
}

void sub_29AADA3C8(uint64_t *a1, pxrInternal__aapl__pxrReserved__::UsdObject *a2)
{
  sub_29B1D7C40(*a1, &v4);
  if (!v4)
  {
LABEL_12:
    if (v5)
    {
      sub_29A014BEC(v5);
    }

    if (sub_29AAD2C14(0))
    {
      pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
    }

    pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
  }

  sub_29AAD1438();
  sub_29AAD14B4(&v3, &v4, &qword_2A1747EE0);
  if ((*(v3 + 23) & 0x8000000000000000) != 0)
  {
    if (!*(v3 + 1))
    {
      goto LABEL_7;
    }
  }

  else if (!*(v3 + 23))
  {
LABEL_7:
    sub_29AAD1438();
    sub_29AAD14B4(&v3, &v4, &qword_2A1747D18);
    if ((*(v3 + 23) & 0x8000000000000000) != 0)
    {
      if (!*(v3 + 1))
      {
        goto LABEL_12;
      }
    }

    else if (!*(v3 + 23))
    {
      goto LABEL_12;
    }

    v6 = "usdMtlx/reader.cpp";
    v7 = "_ConnectPorts";
    v8 = 1120;
    v9 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_NodeGraphBuilder::_ConnectPorts(const mx::ConstElementPtr &, const U &, const D &) [U = pxrInternal__aapl__pxrReserved__::UsdShadeOutput, D = pxrInternal__aapl__pxrReserved__::UsdShadeOutput]";
    v10 = 0;
    pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
  }

  v6 = "usdMtlx/reader.cpp";
  v7 = "_ConnectPorts";
  v8 = 1112;
  v9 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_NodeGraphBuilder::_ConnectPorts(const mx::ConstElementPtr &, const U &, const D &) [U = pxrInternal__aapl__pxrReserved__::UsdShadeOutput, D = pxrInternal__aapl__pxrReserved__::UsdShadeOutput]";
  v10 = 0;
  pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
}

void sub_29AADAA40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  v13 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  sub_29A57F434(va);
  sub_29A57F434(va1);
  sub_29A1DCEA8((v11 - 112));
  _Unwind_Resume(a1);
}

void sub_29AADABE0(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AADABE0(a1, *a2);
    sub_29AADABE0(a1, a2[1]);
    sub_29AAD9938((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AADAC3C(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AADAC3C(a1, *a2);
    sub_29AADAC3C(a1, a2[1]);
    sub_29AAD8F28((a2 + 4));

    operator delete(a2);
  }
}

void sub_29AADAC98(uint64_t a1, void *a2)
{
  if (a2)
  {
    sub_29AADAC98(a1, *a2);
    sub_29AADAC98(a1, a2[1]);
    sub_29AAD8894((a2 + 4));

    operator delete(a2);
  }
}

uint64_t *sub_29AADACF4(uint64_t *a1, const void ***a2)
{
  a1[2] = 0;
  a1[1] = 0;
  *a1 = (a1 + 1);
  sub_29AADAD4C(a1, *a2, a2 + 1);
  return a1;
}

uint64_t *sub_29AADAD4C(uint64_t *result, const void **a2, const void ***a3)
{
  if (a2 != a3)
  {
    v4 = a2;
    v5 = result;
    do
    {
      result = sub_29AAAE4D0(v5, (v5 + 1), v4 + 4, v4 + 2);
      v6 = v4[1];
      if (v6)
      {
        do
        {
          v7 = v6;
          v6 = *v6;
        }

        while (v6);
      }

      else
      {
        do
        {
          v7 = v4[2];
          v8 = *v7 == v4;
          v4 = v7;
        }

        while (!v8);
      }

      v4 = v7;
    }

    while (v7 != a3);
  }

  return result;
}

void sub_29AADADD4(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  sub_29A008E78(__p, off_2A14FDF10[0]);
  sub_29AADAF5C(a1, __p, a2);
  if (v5 < 0)
  {
    operator delete(__p[0]);
  }
}

void sub_29AADAE34(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

pxrInternal__aapl__pxrReserved__ *sub_29AADAE50@<X0>(uint64_t a1@<X0>, const void **a2@<X1>, pxrInternal__aapl__pxrReserved__::UsdSchemaBase *a3@<X8>)
{
  v5 = sub_29A01BCCC(a1 + 128, a2);
  if (a1 + 136 == v5)
  {
    v8 = 1;
    v9 = 0;
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v10);
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v11);
    v12 = 0;
    pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(a3, &v8);
    *a3 = &unk_2A2061000;
    if ((v12 & 7) != 0)
    {
      atomic_fetch_add_explicit((v12 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v11);
    sub_29A1DE3A4(&v10);
    result = v9;
    if (v9)
    {
      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v9, v7);
    }
  }

  else
  {
    result = pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(a3, (v5 + 56));
    *a3 = &unk_2A2061000;
  }

  return result;
}

void sub_29AADAF5C(uint64_t a1@<X0>, const void **a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  v6 = sub_29B1F31FC();
  sub_29AAC1CE8(a1, v6, &v18);
  v7 = v18;
  for (i = v19; v7 != i; v7 += 2)
  {
    v9 = *v7;
    v10 = v7[1];
    *&v17 = *v7;
    *(&v17 + 1) = v10;
    if (v10)
    {
      atomic_fetch_add_explicit((v10 + 8), 1uLL, memory_order_relaxed);
    }

    v11 = (*(*v9 + 64))(v9);
    v12 = *(v11 + 23);
    if (v12 >= 0)
    {
      v13 = *(v11 + 23);
    }

    else
    {
      v13 = v11[1];
    }

    v14 = *(a2 + 23);
    v15 = v14;
    if (v14 < 0)
    {
      v14 = a2[1];
    }

    if (v13 == v14)
    {
      if (v12 < 0)
      {
        v11 = *v11;
      }

      if (v15 >= 0)
      {
        v16 = a2;
      }

      else
      {
        v16 = *a2;
      }

      if (!memcmp(v11, v16, v13))
      {
        sub_29A017F80(a3, &v17);
      }
    }

    if (*(&v17 + 1))
    {
      sub_29A014BEC(*(&v17 + 1));
    }
  }

  *&v17 = &v18;
  sub_29A0176E4(&v17);
}

void sub_29AADB084(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va, a2);
  sub_29A0176E4(va);
  _Unwind_Resume(a1);
}

uint64_t *sub_29AADB0C0(uint64_t **a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AADB158(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

void *sub_29AADB158@<X0>(uint64_t a1@<X0>, __int128 **a2@<X2>, void *a3@<X8>)
{
  result = operator new(0x50uLL);
  v7 = result;
  *a3 = result;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  if (*(*a2 + 23) < 0)
  {
    result = sub_29A008D14(result + 32, *v8, *(v8 + 1));
  }

  else
  {
    v9 = *v8;
    result[6] = *(v8 + 2);
    *(result + 2) = v9;
  }

  v7[8] = 0;
  v7[9] = 0;
  v7[7] = v7 + 8;
  *(a3 + 16) = 1;
  return result;
}

void sub_29AADB1F0(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD1E78(v2 + 32);
    }

    operator delete(v2);
  }
}

uint64_t *sub_29AADB24C(uint64_t **a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AADB2E4(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

uint64_t sub_29AADB2E4@<X0>(uint64_t a1@<X0>, __int128 **a2@<X2>, void *a3@<X8>)
{
  v6 = operator new(0x58uLL);
  *a3 = v6;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  result = sub_29AADB364(v6 + 32, &v8);
  *(a3 + 16) = 1;
  return result;
}

uint64_t sub_29AADB364(uint64_t a1, __int128 **a2)
{
  v3 = *a2;
  v4 = **a2;
  *(a1 + 16) = *(*a2 + 2);
  *a1 = v4;
  *(v3 + 1) = 0;
  *(v3 + 2) = 0;
  *v3 = 0;
  v7 = 1;
  v8 = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v9);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v10);
  v11 = 0;
  pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase((a1 + 24), &v7);
  *(a1 + 48) = 0;
  *(a1 + 24) = off_2A2060F50;
  if ((v11 & 7) != 0)
  {
    atomic_fetch_add_explicit((v11 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v10);
  sub_29A1DE3A4(&v9);
  if (v8)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v8, v5);
  }

  return a1;
}

void sub_29AADB43C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  sub_29A57F434(&a9);
  if (*(v9 + 23) < 0)
  {
    operator delete(*v9);
  }

  _Unwind_Resume(a1);
}

void sub_29AADB460(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD1F28(v2 + 32);
    }

    operator delete(v2);
  }
}

void sub_29AADB4BC(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  v5 = a2[1];
  v31 = *a2;
  v32 = v5;
  if (v5)
  {
    atomic_fetch_add_explicit(&v5->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  v6 = sub_29B1F31FC();
  sub_29B1ECB8C(&v31, a3, v6, &v33);
  if (v32)
  {
    sub_29A014BEC(v32);
  }

  v7 = v33;
  for (i = v34; v7 != i; v7 += 2)
  {
    v10 = *v7;
    v9 = v7[1];
    v30[0] = *v7;
    v30[1] = v9;
    if (v9)
    {
      atomic_fetch_add_explicit(&v9->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    if (sub_29AAD2C14(0))
    {
      v13 = (v10 + 48);
      if (*(v10 + 71) < 0)
      {
        v13 = *v13;
      }

      if (*(a3 + 23) >= 0)
      {
        v14 = a3;
      }

      else
      {
        v14 = *a3;
      }

      pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Adding shaderNode '%s' type: '%s'\n", v11, v12, v13, v14);
    }

    v22 = v10;
    v23 = v9;
    if (v9)
    {
      atomic_fetch_add_explicit(&v9->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    sub_29AADB7C0(a1, &v22, &v28);
    if (v9)
    {
      sub_29A014BEC(v9);
    }

    if (v29 && (*(v29 + 57) & 8) == 0 && ((*(v28 + 32))(&v28) & 1) != 0)
    {
      goto LABEL_39;
    }

    sub_29AAD1438();
    sub_29AAD14B4(&v27, v30, &qword_2A1747EF8);
    v16 = v27;
    if ((*(v27 + 23) & 0x8000000000000000) != 0)
    {
      if (*(v27 + 1))
      {
LABEL_24:
        v22 = "usdMtlx/reader.cpp";
        v23 = "_TranslateShaderNodes";
        v24 = 2338;
        v25 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_TranslateShaderNodes(_Context &, const mx::NodePtr &, const std::string &)";
        v26 = 0;
        v17 = (v10 + 48);
        if (*(v10 + 71) < 0)
        {
          v17 = *v17;
        }

        if (*(v27 + 23) < 0)
        {
          v16 = *v27;
        }

        pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&v22, "Failed to create shaderNode '%s' to nodedef '%s'", v15, v17, v16);
        goto LABEL_39;
      }
    }

    else if (*(v27 + 23))
    {
      goto LABEL_24;
    }

    sub_29AAD1438();
    sub_29AAD14B4(&v21, v30, &qword_2A1747F40);
    v19 = v21;
    if ((*(v21 + 23) & 0x8000000000000000) != 0)
    {
      if (*(v21 + 1))
      {
LABEL_34:
        v22 = "usdMtlx/reader.cpp";
        v23 = "_TranslateShaderNodes";
        v24 = 2344;
        v25 = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_TranslateShaderNodes(_Context &, const mx::NodePtr &, const std::string &)";
        v26 = 0;
        v20 = (v10 + 48);
        if (*(v10 + 71) < 0)
        {
          v20 = *v20;
        }

        if (*(v21 + 23) < 0)
        {
          v19 = *v21;
        }

        pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&v22, "Failed to create shaderNode '%s' to node '%s'", v18, v20, v19);
      }
    }

    else if (*(v21 + 23))
    {
      goto LABEL_34;
    }

LABEL_39:
    pxrInternal__aapl__pxrReserved__::UsdShadeShader::~UsdShadeShader(&v28);
    if (v9)
    {
      sub_29A014BEC(v9);
    }
  }

  v22 = &v33;
  sub_29A0176E4(&v22);
}

void sub_29AADB74C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, char a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, std::__shared_weak_count *a24)
{
  if (a24)
  {
    sub_29A014BEC(a24);
  }

  _Unwind_Resume(exception_object);
}

void sub_29AADB7C0(uint64_t a1@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X8>)
{
  v123 = *MEMORY[0x29EDCA608];
  v89 = (a1 + 272);
  v5 = *(a1 + 280);
  if ((!v5 || (*(v5 + 57) & 8) != 0 || ((*(*v89 + 32))(v89) & 1) == 0) && (sub_29B2BDB04(v109) & 1) == 0)
  {
    sub_29A858BEC(&v119);
    *pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(a3, &v119) = &unk_2A2061448;
    sub_29A57F434(&v119);
    return;
  }

  v6 = *a2;
  v7 = sub_29B1F31FC();
  sub_29B1ED628(v6, v7, 0, &v119);
  v8 = *(&v119 + 1);
  v9 = v119;
  v108 = v119;
  if (v119)
  {
    goto LABEL_16;
  }

  v10 = a2[1];
  v98.__r_.__value_.__r.__words[0] = *a2;
  v98.__r_.__value_.__l.__size_ = v10;
  if (v10)
  {
    atomic_fetch_add_explicit((v10 + 8), 1uLL, memory_order_relaxed);
  }

  pxrInternal__aapl__pxrReserved__::UsdMtlxGetVersion(&v98, 0);
  sub_29AAD8124(*a2);
  v11 = a2[1];
  v115 = *a2;
  v116 = v11;
  if (v11)
  {
    atomic_fetch_add_explicit(v11 + 1, 1uLL, memory_order_relaxed);
  }

  sub_29AAD7E28(a2, &v115, &v119);
  v86 = v119;
  v108 = v119;
  if (v8)
  {
    sub_29A014BEC(v8);
  }

  if (v11)
  {
    sub_29A014BEC(v11);
  }

  if (v98.__r_.__value_.__l.__size_)
  {
    sub_29A014BEC(v98.__r_.__value_.__l.__size_);
  }

  v9 = v86;
  if (v86)
  {
LABEL_16:
    v12 = (v9 + 48);
    pxrInternal__aapl__pxrReserved__::TfToken::TfToken(&v107);
    if (v107)
    {
      v13 = *a2;
      v14 = a2[1];
      if (v14)
      {
        atomic_fetch_add_explicit(&v14->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      if (v13)
      {
        sub_29AAD3238(v13 + 48, &v106);
        if (!v14)
        {
LABEL_22:
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild((a1 + 48), &v106, &v105);
          v84 = a1;
          pxrInternal__aapl__pxrReserved__::UsdShadeShader::Get(a1, &v115);
          if (v116 && (*(v116 + 57) & 8) == 0 && ((*(v115 + 32))(&v115) & 1) != 0)
          {
            goto LABEL_38;
          }

          pxrInternal__aapl__pxrReserved__::UsdShadeShader::Define(a1, &v119);
          v16 = *(&v119 + 1);
          if (*(&v119 + 1))
          {
            atomic_fetch_add_explicit((*(&v119 + 1) + 48), 1uLL, memory_order_relaxed);
          }

          if (v116)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v116, v15);
          }

          v116 = v16;
          sub_29A2258F0(&v117, &v120);
          sub_29A225948(&v118, &v121);
          if (!v116 || (*(v116 + 57) & 8) != 0)
          {
            pxrInternal__aapl__pxrReserved__::UsdShadeShader::~UsdShadeShader(&v119);
            goto LABEL_38;
          }

          v17 = (*(v115 + 32))(&v115);
          pxrInternal__aapl__pxrReserved__::UsdShadeShader::~UsdShadeShader(&v119);
          if (!v17)
          {
            goto LABEL_38;
          }

          v18 = sub_29AAD2C14(0);
          if (v18)
          {
            if (*(v9 + 71) < 0)
            {
              v12 = *v12;
            }

            if ((v106 & 0xFFFFFFFFFFFFFFF8) != 0)
            {
              EmptyString = ((v106 & 0xFFFFFFFFFFFFFFF8) + 16);
            }

            else
            {
              EmptyString = pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(v18);
            }

            if (*(EmptyString + 23) < 0)
            {
              EmptyString = *EmptyString;
            }

            pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Created shader mtlx %s, as usd %s\n", v19, v20, v12, EmptyString);
          }

          v23 = v107;
          if ((v107 & 7) != 0)
          {
            if ((atomic_fetch_add_explicit((v107 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
            {
              v23 &= 0xFFFFFFFFFFFFFFF8;
            }

            *&v119 = v23;
            *(&v119 + 1) = &off_2A2044E88 + 1;
            if ((v23 & 7) != 0)
            {
              v24 = 0;
              if ((atomic_fetch_add_explicit((v23 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
              {
                *&v119 = v119 & 0xFFFFFFFFFFFFFFF8;
              }

              goto LABEL_63;
            }
          }

          else
          {
            *&v119 = v107;
            *(&v119 + 1) = &off_2A2044E88 + 1;
          }

          v24 = 1;
LABEL_63:
          pxrInternal__aapl__pxrReserved__::UsdShadeShader::CreateIdAttr(&v115, &v119, 0, v100);
          if ((v104 & 7) != 0)
          {
            atomic_fetch_add_explicit((v104 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v103);
          sub_29A1DE3A4(&v102);
          if (v101)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v101, v25);
          }

          sub_29A186B14(&v119);
          if ((v24 & 1) == 0)
          {
            atomic_fetch_add_explicit((v23 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::UsdShadeShader::ConnectableAPI(&v115, &v119);
          sub_29A580660(&v98, &v116, &v117);
          v26 = a2[1];
          v96 = *a2;
          v97 = v26;
          if (v26)
          {
            atomic_fetch_add_explicit(&v26->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          sub_29AAD52A0(&v98, &v96);
          if (v26)
          {
            sub_29A014BEC(v26);
          }

          if ((v99 & 7) != 0)
          {
            atomic_fetch_add_explicit((v99 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v98.__r_.__value_.__r.__words[2] + 1);
          sub_29A1DE3A4(&v98.__r_.__value_.__r.__words[2]);
          if (v98.__r_.__value_.__l.__size_)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v98.__r_.__value_.__l.__size_, v27);
          }

          sub_29AAD55CC(&v108, &v96);
          v28 = v96;
          v85 = v97;
          if (v96 != v97)
          {
            do
            {
              v87 = v28;
              v29 = *v28;
              v30 = sub_29B1F31FC();
              sub_29AAD856C(v29, v30, v95);
              v32 = v95[1];
              for (i = v95[0]; i != v32; i += 2)
              {
                v33 = *i;
                v34 = i[1];
                if (v34)
                {
                  atomic_fetch_add_explicit(&v34->__shared_owners_, 1uLL, memory_order_relaxed);
                  atomic_fetch_add_explicit(&v34->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                sub_29AAD1438();
                v35 = sub_29A8877BC((v33 + 160), &qword_2A1747FA0);
                if (v35)
                {
                  v36 = (v35 + 5);
                }

                else
                {
                  v36 = sub_29B1F31FC();
                }

                v37 = *(v36 + 23);
                if ((v37 & 0x80u) != 0)
                {
                  v37 = *(v36 + 1);
                }

                if (!v37)
                {
                  v36 = sub_29B1F31FC();
                }

                memset(&v98, 0, sizeof(v98));
                sub_29B1D8ACC(v33, &v111);
                sub_29AAC1C4C(v111, v36, &v113);
                if (v112)
                {
                  sub_29A014BEC(v112);
                }

                if (v113)
                {
                  sub_29AAD1438();
                  sub_29AAD14B4(&v111, &v113, &qword_2A1747F70);
                  v38 = v111;
                  v39 = *(v111 + 23);
                  if (v39 < 0)
                  {
                    if (!*(v111 + 8))
                    {
                      goto LABEL_104;
                    }
                  }

                  else if (!*(v111 + 23))
                  {
                    goto LABEL_104;
                  }

                  v40 = strlen(off_2A14FDBF8[0]);
                  if ((v39 & 0x80000000) != 0)
                  {
                    if (v40 != *(v111 + 8))
                    {
                      goto LABEL_104;
                    }

                    if (v40 == -1)
                    {
                      sub_29A0F26CC();
                    }

                    v38 = *v111;
                  }

                  else if (v40 != v39)
                  {
                    goto LABEL_104;
                  }

                  if (!memcmp(v38, off_2A14FDBF8[0], v40))
                  {
                    sub_29AAD1438();
                    sub_29AAD14B4(&v110, &v113, &qword_2A1747D78);
                    std::string::operator=(&v98, v110);
                  }
                }

LABEL_104:
                if (sub_29AAD2C14(0))
                {
                  v43 = (v33 + 48);
                  if (*(v33 + 71) < 0)
                  {
                    v43 = *v43;
                  }

                  v44 = v36;
                  if (*(v36 + 23) < 0)
                  {
                    v44 = *v36;
                  }

                  pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Add shader output %s of type %s\n", v41, v42, v43, v44);
                }

                v45 = HIBYTE(v98.__r_.__value_.__r.__words[2]);
                v46 = HIBYTE(v98.__r_.__value_.__r.__words[2]);
                if (SHIBYTE(v98.__r_.__value_.__r.__words[2]) < 0)
                {
                  if (v98.__r_.__value_.__l.__size_ != 7)
                  {
                    goto LABEL_119;
                  }

                  v47 = v98.__r_.__value_.__r.__words[0];
                }

                else
                {
                  if (HIBYTE(v98.__r_.__value_.__r.__words[2]) != 7)
                  {
                    goto LABEL_119;
                  }

                  v47 = &v98;
                }

                data = v47->__r_.__value_.__l.__data_;
                v49 = *(v47->__r_.__value_.__r.__words + 3);
                if (data == 1718777203 && v49 == 1701011814)
                {
LABEL_129:
                  v56 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdShadeTokens);
                  if (!v56)
                  {
                    v56 = sub_29A7CFC64(&pxrInternal__aapl__pxrReserved__::UsdShadeTokens);
                  }

                  v57 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  if (!v57)
                  {
                    v57 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  }

                  v58 = (v56 + 208);
                  goto LABEL_200;
                }

LABEL_119:
                v51 = strlen(off_2A14FDEF0[0]);
                v52 = v51;
                v53 = *(v36 + 23);
                if (v53 < 0)
                {
                  if (v51 != *(v36 + 1))
                  {
                    goto LABEL_126;
                  }

                  if (v51 == -1)
                  {
                    sub_29A0F26CC();
                  }

                  v54 = *v36;
                }

                else
                {
                  v54 = v36;
                  if (v52 != v53)
                  {
                    goto LABEL_126;
                  }
                }

                if (!memcmp(v54, off_2A14FDEF0[0], v52))
                {
                  goto LABEL_129;
                }

LABEL_126:
                if ((v46 & 0x80) != 0)
                {
                  if (v98.__r_.__value_.__l.__size_ != 12)
                  {
                    goto LABEL_140;
                  }

                  v55 = v98.__r_.__value_.__r.__words[0];
                }

                else
                {
                  if (v46 != 12)
                  {
                    goto LABEL_140;
                  }

                  v55 = &v98;
                }

                v59 = v55->__r_.__value_.__r.__words[0];
                v60 = v55->__r_.__value_.__r.__words[1];
                if (v59 == 0x6563616C70736964 && v60 == 1953391981)
                {
LABEL_150:
                  v66 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdShadeTokens);
                  if (!v66)
                  {
                    v66 = sub_29A7CFC64(&pxrInternal__aapl__pxrReserved__::UsdShadeTokens);
                  }

                  v57 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  if (!v57)
                  {
                    v57 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  }

                  v58 = (v66 + 32);
                  goto LABEL_200;
                }

LABEL_140:
                v62 = strlen(off_2A14FDEF8[0]);
                v63 = v62;
                if ((v53 & 0x80000000) != 0)
                {
                  if (v62 != *(v36 + 1))
                  {
                    goto LABEL_147;
                  }

                  if (v62 == -1)
                  {
                    sub_29A0F26CC();
                  }

                  v64 = *v36;
                }

                else
                {
                  v64 = v36;
                  if (v63 != v53)
                  {
                    goto LABEL_147;
                  }
                }

                if (!memcmp(v64, off_2A14FDEF8[0], v63))
                {
                  goto LABEL_150;
                }

LABEL_147:
                if ((v46 & 0x80) != 0)
                {
                  if (v98.__r_.__value_.__l.__size_ != 6)
                  {
                    goto LABEL_161;
                  }

                  v65 = v98.__r_.__value_.__r.__words[0];
                }

                else
                {
                  if (v46 != 6)
                  {
                    goto LABEL_161;
                  }

                  v65 = &v98;
                }

                v67 = v65->__r_.__value_.__l.__data_;
                v68 = WORD2(v65->__r_.__value_.__r.__words[0]);
                if (v67 == 1970040694 && v68 == 25965)
                {
LABEL_171:
                  v74 = atomic_load(&pxrInternal__aapl__pxrReserved__::UsdShadeTokens);
                  if (!v74)
                  {
                    v74 = sub_29A7CFC64(&pxrInternal__aapl__pxrReserved__::UsdShadeTokens);
                  }

                  v57 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  if (!v57)
                  {
                    v57 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  }

                  v58 = (v74 + 232);
                  goto LABEL_200;
                }

LABEL_161:
                v70 = strlen(off_2A14FDF00[0]);
                v71 = v70;
                if ((v53 & 0x80000000) != 0)
                {
                  if (v70 != *(v36 + 1))
                  {
                    goto LABEL_168;
                  }

                  if (v70 == -1)
                  {
                    sub_29A0F26CC();
                  }

                  v72 = *v36;
                }

                else
                {
                  v72 = v36;
                  if (v71 != v53)
                  {
                    goto LABEL_168;
                  }
                }

                if (!memcmp(v72, off_2A14FDF00[0], v71))
                {
                  goto LABEL_171;
                }

LABEL_168:
                if ((v46 & 0x80) != 0)
                {
                  if (v98.__r_.__value_.__l.__size_ != 5)
                  {
                    goto LABEL_182;
                  }

                  v73 = v98.__r_.__value_.__r.__words[0];
                }

                else
                {
                  if (v46 != 5)
                  {
                    goto LABEL_182;
                  }

                  v73 = &v98;
                }

                v75 = v73->__r_.__value_.__l.__data_;
                v76 = v73->__r_.__value_.__s.__data_[4];
                if (v75 == 1751607660 && v76 == 116)
                {
LABEL_196:
                  v58 = atomic_load(&qword_2A1748148);
                  if (!v58)
                  {
                    v58 = sub_29AADF2F4();
                  }

                  v57 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  if (!v57)
                  {
                    v57 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  }

LABEL_200:
                  pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::CreateOutput(&v119, v58, (v57 + 88), &v90);
                  goto LABEL_201;
                }

LABEL_182:
                v78 = strlen(off_2A14FDF08[0]);
                v79 = v78;
                if ((v53 & 0x80000000) != 0)
                {
                  if (v78 != *(v36 + 1))
                  {
                    goto LABEL_189;
                  }

                  if (v78 == -1)
                  {
                    sub_29A0F26CC();
                  }

                  v80 = *v36;
                }

                else
                {
                  v80 = v36;
                  if (v79 != v53)
                  {
                    goto LABEL_189;
                  }
                }

                if (!memcmp(v80, off_2A14FDF08[0], v79))
                {
                  goto LABEL_196;
                }

LABEL_189:
                size = v45;
                if ((v46 & 0x80u) != 0)
                {
                  size = v98.__r_.__value_.__l.__size_;
                }

                if (size)
                {
                  pxrInternal__aapl__pxrReserved__::TfToken::TfToken(&v111);
                  v82 = atomic_load(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  if (!v82)
                  {
                    v82 = sub_29A1F1DF8(&pxrInternal__aapl__pxrReserved__::SdfValueTypeNames);
                  }

                  pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::CreateOutput(&v119, &v111, (v82 + 88), &v90);
                  if ((v111 & 7) != 0)
                  {
                    atomic_fetch_add_explicit((v111 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }
                }

                else
                {
                  v90 = 3;
                  v91 = 0;
                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v92);
                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v93);
                  v94 = 0;
                }

LABEL_201:
                if (v114)
                {
                  sub_29A014BEC(v114);
                }

                if (SHIBYTE(v98.__r_.__value_.__r.__words[2]) < 0)
                {
                  operator delete(v98.__r_.__value_.__l.__data_);
                }

                if ((v94 & 7) != 0)
                {
                  atomic_fetch_add_explicit((v94 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                }

                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v93);
                sub_29A1DE3A4(&v92);
                if (v91)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v91, v83);
                }

                if (v34)
                {
                  sub_29A014BEC(v34);
                  sub_29A014BEC(v34);
                }
              }

              v98.__r_.__value_.__r.__words[0] = v95;
              sub_29A0176E4(&v98);
              v28 = v87 + 2;
            }

            while (v87 + 2 != v85);
          }

          v98.__r_.__value_.__r.__words[0] = &v96;
          sub_29A0176E4(&v98);
          pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI::~UsdShadeConnectableAPI(&v119);
LABEL_38:
          pxrInternal__aapl__pxrReserved__::UsdShadeShader::~UsdShadeShader(&v115);
          sub_29A735768(v89, &v119);
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v119, &v106, &v110);
          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v119 + 1);
          sub_29A1DE3A4(&v119);
          pxrInternal__aapl__pxrReserved__::UsdShadeShader::Define(v84, a3);
          sub_29A580660(&v98, (a3 + 8), (a3 + 16));
          pxrInternal__aapl__pxrReserved__::UsdPrim::GetReferences(&v98, &v119);
          pxrInternal__aapl__pxrReserved__::SdfLayerOffset::SdfLayerOffset(&v115, 0.0, 1.0);
          pxrInternal__aapl__pxrReserved__::UsdReferences::AddInternalReference(&v119, &v105, &v115);
        }
      }

      else
      {
        v106 = 0;
        if (!v14)
        {
          goto LABEL_22;
        }
      }

      sub_29A014BEC(v14);
      goto LABEL_22;
    }
  }

  else
  {
    v107 = 0;
  }

  LODWORD(v119) = 1;
  *(&v119 + 1) = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v120);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v121);
  v122 = 0;
  *pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase(a3, &v119) = &unk_2A2061448;
  if ((v122 & 7) != 0)
  {
    atomic_fetch_add_explicit((v122 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v121);
  sub_29A1DE3A4(&v120);
  if (*(&v119 + 1))
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(*(&v119 + 1), v22);
  }

  if ((v107 & 7) != 0)
  {
    atomic_fetch_add_explicit((v107 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (*(&v108 + 1))
  {
    sub_29A014BEC(*(&v108 + 1));
  }
}

void sub_29AADD7C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, pxrInternal__aapl__pxrReserved__::UsdShadeShader *a17, uint64_t a18, uint64_t a19, char a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, std::__shared_weak_count *a32, uint64_t a33, void *__p, uint64_t a35, int a36, __int16 a37, char a38, char a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, int a45, uint64_t a46, uint64_t a47, uint64_t a48, std::__shared_weak_count *a49)
{
  if ((a28 & 7) != 0)
  {
    atomic_fetch_add_explicit((a28 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (v49)
  {
    sub_29A014BEC(v49);
  }

  pxrInternal__aapl__pxrReserved__::UsdGeomPrimvarsAPI::~UsdGeomPrimvarsAPI((v50 - 192));
  if (a32)
  {
    sub_29A014BEC(a32);
  }

  pxrInternal__aapl__pxrReserved__::UsdGeomPrimvarsAPI::~UsdGeomPrimvarsAPI(&__p);
  pxrInternal__aapl__pxrReserved__::UsdShadeShader::~UsdShadeShader(a17);
  sub_29A1DCEA8((v50 - 232));
  sub_29A1DCEA8(&a45);
  if ((a46 & 7) != 0)
  {
    atomic_fetch_add_explicit((a46 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if ((a47 & 7) != 0)
  {
    atomic_fetch_add_explicit((a47 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (a49)
  {
    sub_29A014BEC(a49);
  }

  _Unwind_Resume(a1);
}

void sub_29AADDF38(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    sub_29A014BEC(a10);
  }

  _Unwind_Resume(exception_object);
}

void sub_29AADE9BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, char a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, int a25, uint64_t a26, uint64_t a27, char a28, uint64_t a29, uint64_t a30, uint64_t a31, char a32)
{
  sub_29A7CCF50(&a12);
  if (v32)
  {
    sub_29A014BEC(v32);
  }

  sub_29A7D85CC(&a19);
  pxrInternal__aapl__pxrReserved__::UsdShadeShader::~UsdShadeShader((v33 - 104));
  sub_29A1DCEA8(&a25);
  if ((a26 & 7) != 0)
  {
    atomic_fetch_add_explicit((a26 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  sub_29A7D85CC(&a28);
  sub_29AAD21BC(&a32);
  sub_29A1DCEA8((v33 - 136));
  _Unwind_Resume(a1);
}

void sub_29AADECB8(uint64_t a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  sub_29A1DCEA8(va);
  JUMPOUT(0x29AADECC4);
}

uint64_t *sub_29AADECD0(char *a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AADED68(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

char *sub_29AADED68@<X0>(char *a1@<X0>, __int128 **a2@<X2>, char **a3@<X8>)
{
  v6 = operator new(0x58uLL);
  *a3 = v6;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  result = sub_29AADEDE8(v6 + 32, &v8);
  *(a3 + 16) = 1;
  return result;
}

char *sub_29AADEDE8(char *__dst, __int128 **a2)
{
  v3 = *a2;
  if (*(*a2 + 23) < 0)
  {
    sub_29A008D14(__dst, *v3, *(v3 + 1));
  }

  else
  {
    v4 = *v3;
    *(__dst + 2) = *(v3 + 2);
    *__dst = v4;
  }

  v7 = 1;
  v8 = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v9);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v10);
  v11 = 0;
  pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase((__dst + 24), &v7);
  *(__dst + 6) = 0;
  *(__dst + 3) = off_2A2060F50;
  if ((v11 & 7) != 0)
  {
    atomic_fetch_add_explicit((v11 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v10);
  sub_29A1DE3A4(&v9);
  if (v8)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v8, v5);
  }

  return __dst;
}

void sub_29AADEED0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  sub_29A57F434(&a9);
  if (*(v9 + 23) < 0)
  {
    operator delete(*v9);
  }

  _Unwind_Resume(a1);
}

void sub_29AADEEF4(uint64_t *a1@<X0>, pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI *a2@<X1>, uint64_t a3@<X8>)
{
  v5 = a1[1];
  v8 = *a1;
  v9 = v5;
  if (v5)
  {
    atomic_fetch_add_explicit(&v5->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  sub_29AAD6C60(a2, &v8, a3);
  if (v5)
  {
    sub_29A014BEC(v5);
  }

  v6 = *a1;
  v7 = a1[1];
  v8 = v6;
  v9 = v7;
  if (v7)
  {
    atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  sub_29AAD52A0(a3, &v8);
  if (v7)
  {

    sub_29A014BEC(v7);
  }
}

void sub_29AADEFB0(_Unwind_Exception *a1)
{
  if (v2)
  {
    sub_29A014BEC(v2);
  }

  sub_29A7CCF50(v1);
  _Unwind_Resume(a1);
}

void sub_29AADEFE4(uint64_t a1@<X0>, const void **a2@<X1>, void *a3@<X8>)
{
  v4 = sub_29A8877BC((a1 + 96), a2);
  if (!v4)
  {
    v7 = 0;
    goto LABEL_10;
  }

  v5 = v4;
  v6 = v4[5];
  v7 = v5[6];
  if (v7)
  {
    atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  if (!v6)
  {
LABEL_10:
    *a3 = 0;
    a3[1] = 0;
    if (!v7)
    {
      return;
    }

    goto LABEL_6;
  }

  sub_29B1D7FB0(v6, a3);
  if (!v7)
  {
    return;
  }

LABEL_6:

  sub_29A014BEC(v7);
}

void sub_29AADF068(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    sub_29A014BEC(v1);
  }

  _Unwind_Resume(exception_object);
}

void sub_29AADF2B4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, ...)
{
  va_start(va, a5);
  sub_29AAD3114(va);
  _Unwind_Resume(a1);
}

unint64_t sub_29AADF2F4()
{
  v13 = *MEMORY[0x29EDCA608];
  v0 = operator new(0x28uLL);
  pxrInternal__aapl__pxrReserved__::TfToken::TfToken(v0, "light", 0);
  pxrInternal__aapl__pxrReserved__::TfToken::TfToken(v0 + 1, "mtlx", 0);
  v1 = v0 + 2;
  v2 = *v0;
  v11 = v2;
  if ((v2 & 7) != 0)
  {
    v3 = (v2 & 0xFFFFFFFFFFFFFFF8);
    if ((atomic_fetch_add_explicit(v3, 2u, memory_order_relaxed) & 1) == 0)
    {
      v11 = v3;
    }
  }

  v4 = v0[1];
  v12 = v4;
  if ((v4 & 7) != 0)
  {
    v5 = (v4 & 0xFFFFFFFFFFFFFFF8);
    if ((atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed) & 1) == 0)
    {
      v12 = v5;
    }
  }

  *v1 = 0;
  v0[3] = 0;
  v0[4] = 0;
  sub_29A12EF7C(v1, &v11, &v13, 2uLL);
  for (i = 8; i != -8; i -= 8)
  {
    v7 = *(&v11 + i);
    if ((v7 & 7) != 0)
    {
      atomic_fetch_add_explicit((v7 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }
  }

  v8 = 0;
  atomic_compare_exchange_strong(&qword_2A1748148, &v8, v0);
  if (v8)
  {
    v9 = sub_29A1DAC64(v0);
    operator delete(v9);
    return atomic_load(&qword_2A1748148);
  }

  return v0;
}

void sub_29AADF438(_Unwind_Exception *a1)
{
  v4 = 8;
  while (1)
  {
    v5 = *(v2 + v4);
    if ((v5 & 7) != 0)
    {
      atomic_fetch_add_explicit((v5 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    v4 -= 8;
    if (v4 == -8)
    {
      v6 = v1[1];
      if ((v6 & 7) != 0)
      {
        atomic_fetch_add_explicit((v6 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      if ((*v1 & 7) != 0)
      {
        atomic_fetch_add_explicit((*v1 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      operator delete(v1);
      _Unwind_Resume(a1);
    }
  }
}

void sub_29AADF4B4(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  v3 = *(a1 + 136);
  for (i = *(a1 + 144); v3 != i; v3 += 2)
  {
    v8 = *v3;
    v7 = v3[1];
    if (v7)
    {
      atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    sub_29B1D7CF0(v8, &v18);
    if (v18)
    {
      v9 = *(a2 + 23);
      v10 = v9 >= 0 ? *(a2 + 23) : *(a2 + 8);
      if (!v10)
      {
        goto LABEL_19;
      }

      v11 = *(v8 + 47);
      v12 = v11;
      if ((v11 & 0x80u) != 0)
      {
        v11 = *(v8 + 32);
      }

      if (v11 == v10)
      {
        v15 = *(v8 + 24);
        v14 = v8 + 24;
        v13 = v15;
        v16 = (v12 >= 0 ? v14 : v13);
        v17 = v9 >= 0 ? a2 : *a2;
        if (!memcmp(v16, v17, v10))
        {
LABEL_19:
          sub_29A017F80(a3, &v18);
        }
      }
    }

    if (*(&v18 + 1))
    {
      sub_29A014BEC(*(&v18 + 1));
    }

    if (v7)
    {
      sub_29A014BEC(v7);
    }
  }
}

void sub_29AADF5B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void **a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    sub_29A014BEC(a10);
  }

  if (v10)
  {
    sub_29A014BEC(v10);
  }

  sub_29A0176E4(&a9);
  _Unwind_Resume(a1);
}

void **sub_29AADF5F0@<X0>(void **result@<X0>, uint64_t a2@<X1>, const void **a3@<X8>)
{
  *a3 = 0;
  a3[1] = 0;
  a3[2] = 0;
  v4 = *(*result + 17);
  v5 = *(*result + 18);
  if (v4 != v5)
  {
    v7 = 0;
    do
    {
      v8 = *v4;
      v9 = *(*v4 + 47);
      if (v9 >= 0)
      {
        v10 = *(*v4 + 47);
      }

      else
      {
        v10 = *(*v4 + 32);
      }

      v11 = *(a2 + 23);
      v12 = v11;
      if ((v11 & 0x80u) != 0)
      {
        v11 = *(a2 + 8);
      }

      if (v10 == v11)
      {
        v13 = v9 >= 0 ? (v8 + 24) : *(v8 + 24);
        v14 = v12 >= 0 ? a2 : *a2;
        result = memcmp(v13, v14, v10);
        if (!result)
        {
          v15 = a3[2];
          if (v7 >= v15)
          {
            v17 = (v7 - *a3) >> 4;
            if ((v17 + 1) >> 60)
            {
              sub_29A00C9A4();
            }

            v18 = v15 - *a3;
            v19 = v18 >> 3;
            if (v18 >> 3 <= (v17 + 1))
            {
              v19 = v17 + 1;
            }

            if (v18 >= 0x7FFFFFFFFFFFFFF0)
            {
              v20 = 0xFFFFFFFFFFFFFFFLL;
            }

            else
            {
              v20 = v19;
            }

            v29[4] = a3;
            if (v20)
            {
              v21 = sub_29A017BD4(a3, v20);
              v8 = *v4;
            }

            else
            {
              v21 = 0;
            }

            v22 = v4[1];
            v23 = &v21[16 * v17];
            *v23 = v8;
            *(v23 + 1) = v22;
            if (v22)
            {
              atomic_fetch_add_explicit((v22 + 8), 1uLL, memory_order_relaxed);
            }

            v24 = &v21[16 * v20];
            v7 = v23 + 16;
            v25 = a3[1] - *a3;
            v26 = &v23[-v25];
            memcpy(&v23[-v25], *a3, v25);
            v27 = *a3;
            *a3 = v26;
            a3[1] = v7;
            v28 = a3[2];
            a3[2] = v24;
            v29[2] = v27;
            v29[3] = v28;
            v29[0] = v27;
            v29[1] = v27;
            result = sub_29A017C0C(v29);
          }

          else
          {
            v16 = v4[1];
            *v7 = v8;
            *(v7 + 1) = v16;
            if (v16)
            {
              atomic_fetch_add_explicit((v16 + 8), 1uLL, memory_order_relaxed);
            }

            v7 += 16;
          }

          a3[1] = v7;
        }
      }

      v4 += 2;
    }

    while (v4 != v5);
  }

  return result;
}

void sub_29AADF79C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, ...)
{
  va_start(va, a6);
  sub_29A0176E4(va);
  _Unwind_Resume(a1);
}

uint64_t *sub_29AADF7B8(uint64_t **a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AADF850(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

_BYTE *sub_29AADF850@<X0>(uint64_t a1@<X0>, __int128 **a2@<X2>, void *a3@<X8>)
{
  result = operator new(0x48uLL);
  v7 = result;
  *a3 = result;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  if (*(*a2 + 23) < 0)
  {
    result = sub_29A008D14(result + 32, *v8, *(v8 + 1));
  }

  else
  {
    v9 = *v8;
    *(result + 6) = *(v8 + 2);
    *(result + 2) = v9;
  }

  *(v7 + 7) = 0;
  *(v7 + 8) = 0;
  *(a3 + 16) = 1;
  return result;
}

uint64_t *sub_29AADF8E4(uint64_t **a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AADF97C(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

void *sub_29AADF97C@<X0>(uint64_t a1@<X0>, __int128 **a2@<X2>, void *a3@<X8>)
{
  result = operator new(0x50uLL);
  v7 = result;
  *a3 = result;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  if (*(*a2 + 23) < 0)
  {
    result = sub_29A008D14(result + 32, *v8, *(v8 + 1));
  }

  else
  {
    v9 = *v8;
    result[6] = *(v8 + 2);
    *(result + 2) = v9;
  }

  v7[8] = 0;
  v7[9] = 0;
  v7[7] = v7 + 8;
  *(a3 + 16) = 1;
  return result;
}

void sub_29AADFA14(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD2344(v2 + 32);
    }

    operator delete(v2);
  }
}

uint64_t *sub_29AADFA70(uint64_t **a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AADFB08(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

void *sub_29AADFB08@<X0>(uint64_t a1@<X0>, __int128 **a2@<X2>, void *a3@<X8>)
{
  result = operator new(0x50uLL);
  v7 = result;
  *a3 = result;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  if (*(*a2 + 23) < 0)
  {
    result = sub_29A008D14(result + 32, *v8, *(v8 + 1));
  }

  else
  {
    v9 = *v8;
    result[6] = *(v8 + 2);
    *(result + 2) = v9;
  }

  v7[8] = 0;
  v7[9] = 0;
  v7[7] = v7 + 8;
  *(a3 + 16) = 1;
  return result;
}

void sub_29AADFBA0(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD2294(v2 + 32);
    }

    operator delete(v2);
  }
}

void sub_29AADFBFC(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  v3 = *(a1 + 136);
  for (i = *(a1 + 144); v3 != i; v3 += 2)
  {
    v8 = *v3;
    v7 = v3[1];
    if (v7)
    {
      atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    sub_29B1D7820(v8, &v18);
    if (v18)
    {
      v9 = *(a2 + 23);
      v10 = v9 >= 0 ? *(a2 + 23) : *(a2 + 8);
      if (!v10)
      {
        goto LABEL_19;
      }

      v11 = *(v8 + 47);
      v12 = v11;
      if ((v11 & 0x80u) != 0)
      {
        v11 = *(v8 + 32);
      }

      if (v11 == v10)
      {
        v15 = *(v8 + 24);
        v14 = v8 + 24;
        v13 = v15;
        v16 = (v12 >= 0 ? v14 : v13);
        v17 = v9 >= 0 ? a2 : *a2;
        if (!memcmp(v16, v17, v10))
        {
LABEL_19:
          sub_29A017F80(a3, &v18);
        }
      }
    }

    if (*(&v18 + 1))
    {
      sub_29A014BEC(*(&v18 + 1));
    }

    if (v7)
    {
      sub_29A014BEC(v7);
    }
  }
}

void sub_29AADFD00(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void **a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    sub_29A014BEC(a10);
  }

  if (v10)
  {
    sub_29A014BEC(v10);
  }

  sub_29A0176E4(&a9);
  _Unwind_Resume(a1);
}

pxrInternal__aapl__pxrReserved__ *sub_29AADFD38@<X0>(unint64_t *a1@<X1>, uint64_t **a2@<X2>, pxrInternal__aapl__pxrReserved__::UsdSchemaBase *a3@<X8>)
{
  sub_29A42F734(a2, a1, a1);
  if (v6)
  {
    pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->();
  }

  v11 = "usdMtlx/reader.cpp";
  v12 = "_AddCollection";
  v13 = 1756;
  v14 = "UsdCollectionAPI pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_Context::_AddCollection(const mx::ConstCollectionPtr &, std::set<mx::ConstCollectionPtr> *)";
  v15 = 0;
  v7 = (*a1 + 48);
  if (*(*a1 + 71) < 0)
  {
    v7 = *v7;
  }

  pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper(&v11, "Found a collection cycle at '%s'", v5, v7);
  LODWORD(v11) = 1;
  v12 = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v13);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v13 + 1);
  v14 = 0;
  v10 = 0;
  sub_29A741E54(a3, &v11, &v10);
  *a3 = &unk_2A205F450;
  if ((v10 & 7) != 0)
  {
    atomic_fetch_add_explicit((v10 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if ((v14 & 7) != 0)
  {
    atomic_fetch_add_explicit((v14 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v13 + 1);
  sub_29A1DE3A4(&v13);
  result = v12;
  if (v12)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v12, v8);
  }

  return result;
}

__int128 *sub_29AAE0548(uint64_t a1)
{
  sub_29A014C58(&v8, (a1 + 8));
  shared_weak_owners = v8;
  if (v8)
  {
    while (1)
    {
      v3 = sub_29AAE0AF0(shared_weak_owners);
      v1 = v8;
      if (v3)
      {
        break;
      }

      shared_weak_owners = v8[9].__shared_weak_owners_;
      if (shared_weak_owners)
      {
        shared_weak_owners = std::__shared_weak_count::lock(shared_weak_owners);
        v4 = shared_weak_owners;
        if (shared_weak_owners)
        {
          shared_weak_owners = *(v1 + 28);
        }
      }

      else
      {
        v4 = 0;
      }

      v5 = v9;
      v8 = shared_weak_owners;
      v9 = v4;
      if (v5)
      {
        sub_29A014BEC(v5);
        shared_weak_owners = v8;
      }

      if (!shared_weak_owners)
      {
        goto LABEL_10;
      }
    }

    v1 = sub_29AAE0B70(v8);
    v6 = 0;
  }

  else
  {
LABEL_10:
    v6 = 1;
  }

  if (v9)
  {
    sub_29A014BEC(v9);
  }

  if (v6)
  {
    return sub_29B1F31FC();
  }

  return v1;
}

void sub_29AAE0600(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    sub_29A014BEC(a10);
  }

  _Unwind_Resume(exception_object);
}

void sub_29AAE061C(uint64_t a1, pxrInternal__aapl__pxrReserved__ **a2, __int128 *a3)
{
  memset(v11, 0, sizeof(v11));
  if (pxrInternal__aapl__pxrReserved__::SdfPath::IsValidPathString(a3, v11))
  {
    v6 = pxrInternal__aapl__pxrReserved__::SdfPath::SdfPath(v10, a3);
    v7 = pxrInternal__aapl__pxrReserved__::SdfPath::AbsoluteRootPath(v6);
    pxrInternal__aapl__pxrReserved__::SdfPath::ReplacePrefix(v8, v10, v7, (a1 + 16), 1);
    pxrInternal__aapl__pxrReserved__::UsdRelationship::AddTarget(a2, v8);
  }

  v8[0] = "usdMtlx/reader.cpp";
  v8[1] = "_AddGeom";
  v8[2] = 1859;
  v8[3] = "void pxrInternal__aapl__pxrReserved__::(anonymous namespace)::_Context::_AddGeom(const UsdRelationship &, const std::string &) const";
  v9 = 0;
  pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(a2);
}

void sub_29AAE0758(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, ...)
{
  va_start(va1, a4);
  va_start(va, a4);
  v6 = va_arg(va1, void);
  v8 = va_arg(va1, void);
  v9 = va_arg(va1, void);
  v10 = va_arg(va1, void);
  v11 = va_arg(va1, void);
  sub_29A1DCEA8(va);
  sub_29A1DCEA8(va1);
  if (*(v4 - 33) < 0)
  {
    operator delete(*(v4 - 56));
  }

  _Unwind_Resume(a1);
}

uint64_t *sub_29AAE07A0(char *a1, const void **a2, uint64_t a3, __int128 **a4)
{
  v6 = sub_29A00B0D0(a1, &v9, a2);
  result = *v6;
  if (!*v6)
  {
    sub_29AAE0838(a1, a4, &v8);
    sub_29A00B204(a1, v9, v6, v8);
    return v8;
  }

  return result;
}

char *sub_29AAE0838@<X0>(char *a1@<X0>, __int128 **a2@<X2>, char **a3@<X8>)
{
  v6 = operator new(0x58uLL);
  *a3 = v6;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  result = sub_29AAE08B8(v6 + 32, &v8);
  *(a3 + 16) = 1;
  return result;
}

char *sub_29AAE08B8(char *__dst, __int128 **a2)
{
  v3 = *a2;
  if (*(*a2 + 23) < 0)
  {
    sub_29A008D14(__dst, *v3, *(v3 + 1));
  }

  else
  {
    v4 = *v3;
    *(__dst + 2) = *(v3 + 2);
    *__dst = v4;
  }

  v8 = 1;
  v9 = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v10);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v11);
  v12 = 0;
  v7 = 0;
  *sub_29A741E54((__dst + 24), &v8, &v7) = &unk_2A205F450;
  if ((v7 & 7) != 0)
  {
    atomic_fetch_add_explicit((v7 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if ((v12 & 7) != 0)
  {
    atomic_fetch_add_explicit((v12 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v11);
  sub_29A1DE3A4(&v10);
  if (v9)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v9, v5);
  }

  return __dst;
}

void sub_29AAE09BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  if ((a3 & 7) != 0)
  {
    atomic_fetch_add_explicit((a3 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  sub_29A57F434(va);
  if (*(v3 + 23) < 0)
  {
    operator delete(*v3);
  }

  _Unwind_Resume(a1);
}

void sub_29AAE09F8(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD207C(v2 + 32);
    }

    operator delete(v2);
  }
}

void sub_29AAE0A54(uint64_t a1@<X0>, const void **a2@<X1>, void *a3@<X8>)
{
  v4 = sub_29A8877BC((a1 + 96), a2);
  if (!v4)
  {
    v7 = 0;
    goto LABEL_10;
  }

  v5 = v4;
  v6 = v4[5];
  v7 = v5[6];
  if (v7)
  {
    atomic_fetch_add_explicit(&v7->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  if (!v6)
  {
LABEL_10:
    *a3 = 0;
    a3[1] = 0;
    if (!v7)
    {
      return;
    }

    goto LABEL_6;
  }

  sub_29B1D7820(v6, a3);
  if (!v7)
  {
    return;
  }

LABEL_6:

  sub_29A014BEC(v7);
}

void sub_29AAE0AD8(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    sub_29A014BEC(v1);
  }

  _Unwind_Resume(exception_object);
}

BOOL sub_29AAE0AF0(uint64_t a1)
{
  sub_29A008E78(__p, off_2A14FDC48[0]);
  v2 = sub_29A8877BC((a1 + 160), __p);
  if (v5 < 0)
  {
    operator delete(__p[0]);
  }

  return v2 != 0;
}

void sub_29AAE0B54(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

__int128 *sub_29AAE0B70(uint64_t a1)
{
  sub_29A008E78(__p, off_2A14FDC48[0]);
  v2 = sub_29A8877BC((a1 + 160), __p);
  if (v2)
  {
    v3 = (v2 + 5);
  }

  else
  {
    v3 = sub_29B1F31FC();
  }

  if (v6 < 0)
  {
    operator delete(__p[0]);
  }

  return v3;
}

void sub_29AAE0BE0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

uint64_t *sub_29AAE0BFC(uint64_t **a1, const void **a2, __int128 *a3, pxrInternal__aapl__pxrReserved__::UsdSchemaBase *a4)
{
  v7 = sub_29A00B0D0(a1, &v10, a2);
  result = *v7;
  if (!*v7)
  {
    sub_29AAE0C84(a1, a3, a4, &v9);
    sub_29A00B204(a1, v10, v7, v9);
    return v9;
  }

  return result;
}

uint64_t sub_29AAE0C84@<X0>(uint64_t a1@<X0>, __int128 *a2@<X1>, pxrInternal__aapl__pxrReserved__::UsdSchemaBase *a3@<X2>, void *a4@<X8>)
{
  v8 = operator new(0x58uLL);
  *a4 = v8;
  a4[1] = a1;
  a4[2] = 0;
  result = sub_29AAE0CF8(v8 + 32, a2, a3);
  *(a4 + 16) = 1;
  return result;
}

uint64_t sub_29AAE0CF8(uint64_t a1, __int128 *a2, pxrInternal__aapl__pxrReserved__::UsdSchemaBase *a3)
{
  v5 = *a2;
  *(a1 + 16) = *(a2 + 2);
  *a1 = v5;
  *(a2 + 1) = 0;
  *(a2 + 2) = 0;
  *a2 = 0;
  pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase((a1 + 24), a3);
  *(a1 + 24) = &unk_2A205F368;
  v6 = *(a3 + 3);
  *(a1 + 48) = v6;
  if ((v6 & 7) != 0 && (atomic_fetch_add_explicit((v6 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
  {
    *(a1 + 48) &= 0xFFFFFFFFFFFFFFF8;
  }

  *(a1 + 24) = &unk_2A205F450;
  return a1;
}

void sub_29AAE0DA4(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

uint64_t *sub_29AAE0DC0(uint64_t a1, unint64_t *a2, uint64_t a3, void **a4)
{
  v6 = (a1 + 8);
  v5 = *(a1 + 8);
  if (v5)
  {
    v7 = *a2;
    while (1)
    {
      while (1)
      {
        v8 = v5;
        v9 = v5[4];
        if (v7 >= v9)
        {
          break;
        }

        v5 = *v8;
        v6 = v8;
        if (!*v8)
        {
          goto LABEL_10;
        }
      }

      if (v9 >= v7)
      {
        break;
      }

      v5 = v8[1];
      if (!v5)
      {
        v6 = v8 + 1;
        goto LABEL_10;
      }
    }
  }

  else
  {
    v8 = (a1 + 8);
LABEL_10:
    sub_29AAE0E7C(a1, a4, &v11);
    sub_29A00B204(a1, v8, v6, v11);
    return v11;
  }

  return v8;
}

void *sub_29AAE0E7C@<X0>(uint64_t a1@<X0>, void **a2@<X2>, void *a3@<X8>)
{
  v6 = operator new(0x50uLL);
  *a3 = v6;
  a3[1] = a1;
  a3[2] = 0;
  v8 = *a2;
  result = sub_29AAE0EFC(v6 + 4, &v8);
  *(a3 + 16) = 1;
  return result;
}

void *sub_29AAE0EFC(void *a1, void **a2)
{
  v3 = (*a2)[1];
  *a1 = **a2;
  a1[1] = v3;
  if (v3)
  {
    atomic_fetch_add_explicit((v3 + 8), 1uLL, memory_order_relaxed);
  }

  v7 = 1;
  v8 = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle(&v9);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle(&v10);
  v11 = 0;
  v6 = 0;
  *sub_29A741E54((a1 + 2), &v7, &v6) = &unk_2A205F450;
  if ((v6 & 7) != 0)
  {
    atomic_fetch_add_explicit((v6 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if ((v11 & 7) != 0)
  {
    atomic_fetch_add_explicit((v11 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL(&v10);
  sub_29A1DE3A4(&v9);
  if (v8)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v8, v4);
  }

  return a1;
}

void sub_29AAE0FF0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  if ((a3 & 7) != 0)
  {
    atomic_fetch_add_explicit((a3 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  sub_29A57F434(va);
  v5 = *(v3 + 8);
  if (v5)
  {
    sub_29A014BEC(v5);
  }

  _Unwind_Resume(a1);
}

void sub_29AAE1028(uint64_t a1, uint64_t a2)
{
  v2 = *a1;
  *a1 = a2;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      sub_29AAD1FD4(v2 + 32);
    }

    operator delete(v2);
  }
}

void *sub_29AAE1084(void *result, const void ***a2)
{
  v2 = *a2;
  v3 = a2[1];
  if (*a2 != v3)
  {
    v4 = result;
    do
    {
      result = sub_29A095658(v4 + 12, v2, v2);
      if (v5)
      {
        v6 = *(v4 + 10);
        if (v6 >= *(v4 + 11))
        {
          result = sub_29AAE1484(v4 + 72, v2);
        }

        else
        {
          sub_29A34CA60(*(v4 + 10), v2);
          result = (v6 + 48);
          *(v4 + 10) = v6 + 48;
        }

        *(v4 + 10) = result;
      }

      v2 += 6;
    }

    while (v2 != v3);
  }

  return result;
}

void sub_29AAE1114(uint64_t a1@<X0>, void **a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  sub_29AAD1438();
  sub_29AADF5F0(a2, &qword_2A1748090, &v35);
  v6 = v35;
  v7 = v36;
  v8 = v36 - 16;
  if (v35 != v36 && v8 > v35)
  {
    do
    {
      v10 = *v6;
      *v6 = *v8;
      *v8 = v10;
      v11 = *(v6 + 1);
      *(v6 + 1) = *(v8 + 1);
      *(v8 + 1) = v11;
      v6 += 16;
      v8 -= 16;
    }

    while (v6 < v8);
    v6 = v35;
    v7 = v36;
  }

  for (; v6 != v7; v6 += 16)
  {
    sub_29AAD1438();
    sub_29AAD14B4(&v42, v6, &qword_2A17480A8);
    sub_29AAD1438();
    sub_29AAD14B4(&v34, v6, &qword_2A1748078);
    sub_29A095658((a1 + 96), v42, v42);
    if (v12)
    {
      v14 = *(a3 + 8);
      v13 = *(a3 + 16);
      if (v14 >= v13)
      {
        v16 = 0xAAAAAAAAAAAAAAABLL * ((v14 - *a3) >> 4);
        v17 = v16 + 1;
        if (v16 + 1 > 0x555555555555555)
        {
          sub_29A00C9A4();
        }

        v18 = 0xAAAAAAAAAAAAAAABLL * ((v13 - *a3) >> 4);
        if (2 * v18 > v17)
        {
          v17 = 2 * v18;
        }

        if (v18 >= 0x2AAAAAAAAAAAAAALL)
        {
          v19 = 0x555555555555555;
        }

        else
        {
          v19 = v17;
        }

        v41 = a3;
        if (v19)
        {
          v20 = sub_29A08E058(a3, v19);
        }

        else
        {
          v20 = 0;
        }

        v37 = v20;
        v38 = &v20[6 * v16];
        v39 = v38;
        v40 = &v20[6 * v19];
        sub_29AAE15A4(v38, &v42, &v34);
        v15 = v39 + 48;
        v21 = *(a3 + 8) - *a3;
        v22 = &v38[-v21];
        memcpy(&v38[-v21], *a3, v21);
        v23 = *a3;
        *a3 = v22;
        *(a3 + 8) = v15;
        v24 = *(a3 + 16);
        *(a3 + 16) = v40;
        v39 = v23;
        v40 = v24;
        v37 = v23;
        v38 = v23;
        sub_29A0D407C(&v37);
      }

      else
      {
        sub_29AAE15A4(*(a3 + 8), &v42, &v34);
        v15 = (v14 + 48);
      }

      *(a3 + 8) = v15;
    }
  }

  v25 = *a3;
  v26 = *(a3 + 8);
  if (*a3 != v26)
  {
    for (i = v26 - 48; v25 < i; i -= 48)
    {
      v28 = *(v25 + 2);
      v29 = *v25;
      v30 = *(i + 16);
      *v25 = *i;
      *(v25 + 2) = v30;
      *i = v29;
      *(i + 16) = v28;
      v31 = *(v25 + 5);
      v32 = *(v25 + 24);
      v33 = *(i + 40);
      *(v25 + 24) = *(i + 24);
      *(v25 + 5) = v33;
      *(i + 24) = v32;
      *(i + 40) = v31;
      v25 += 48;
    }
  }

  v37 = &v35;
  sub_29A0176E4(&v37);
}