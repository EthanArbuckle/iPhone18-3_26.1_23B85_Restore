uint64_t WTF::HashTable<WebCore::MessagePortIdentifier,WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashMap<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::HashTraits<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::FastMalloc>::remove(uint64_t *a1, void *a2)
{
  *a2 = -1;
  result = WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((a2 + 2), a2 + 2);
  v4 = *a1;
  v5 = vadd_s32(*(*a1 - 16), 0xFFFFFFFF00000001);
  *(v4 - 16) = v5;
  v6 = *(v4 - 4);
  if (6 * v5.i32[1] < v6 && v6 >= 9)
  {

    return WTF::HashTable<WebCore::MessagePortIdentifier,WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashMap<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::HashTraits<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::FastMalloc>::rehash(a1, v6 >> 1, 0);
  }

  return result;
}

uint64_t *WTF::HashTable<WebCore::MessagePortIdentifier,WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashMap<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::HashTraits<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::HashTraits<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::MessagePortIdentifier>>,(WTF::ShouldValidateKey)1,WebCore::MessagePortIdentifier>(uint64_t *a1, void *a2)
{
  v2 = *a1;
  if (!*a1)
  {
    return 0;
  }

  if (*a2 == 0 || *a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3A6B70);
  }

  v5 = *(v2 - 8);
  v15 = -1640531527;
  v16 = 0;
  v17 = 0;
  WTF::add<WTF::ObjectIdentifierGeneric<WebCore::ProcessIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::PortIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>(&v15, a2, a2 + 1);
  v6 = WTF::SuperFastHash::hash(&v15);
  v7 = a2[1];
  v8 = v6 & v5;
  result = (v2 + 32 * v8);
  v10 = *result;
  v11 = result[1];
  if (*result != *a2 || v11 != v7)
  {
    v13 = 1;
    while (v10 | v11)
    {
      v8 = (v8 + v13) & v5;
      result = (v2 + 32 * v8);
      v10 = *result;
      v11 = result[1];
      ++v13;
      if (*result == *a2 && v11 == v7)
      {
        return result;
      }
    }

    if (*a1)
    {
      return (*a1 + 32 * *(*a1 - 4));
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::TakeAllMessagesForPort,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>(WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132178;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::TakeAllMessagesForPort,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>(WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132178;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::TakeAllMessagesForPort,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>(WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>::call(uint64_t a1, void *a2, IPC::Decoder *this, __n128 a4)
{
  if (this && *this)
  {
    v6 = *(this + 1);
    v7 = ((*(this + 2) + 7) & 0xFFFFFFFFFFFFFFF8);
    v8 = v7 - *this;
    v9 = v6 >= v8;
    v10 = v6 - v8;
    if (!v9 || v10 <= 7)
    {
      IPC::Decoder::markInvalid(this);
LABEL_46:
      IPC::Decoder::markInvalid(this);
      goto LABEL_43;
    }

    *(this + 2) = v7 + 1;
    if (!v7)
    {
      goto LABEL_46;
    }

    v12 = *v7;
    v47 = 0;
    v48 = 0;
    if (v12 >= 0xAAAA)
    {
      while (1)
      {
        IPC::Decoder::decode<WebCore::MessageWithMessagePorts>(this, &v42);
        if (v46 != 1)
        {
          break;
        }

        if (HIDWORD(v48) == v48)
        {
          WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::MessageWithMessagePorts>(&v47, &v42);
        }

        else
        {
          v27 = v47 + 24 * HIDWORD(v48);
          v28 = v42;
          v42 = 0;
          *(v27 + 8) = 0;
          *(v27 + 16) = 0;
          *v27 = v28;
          v29 = v43;
          v43 = 0;
          *(v27 + 8) = v29;
          LODWORD(v29) = v44;
          v44 = 0;
          *(v27 + 16) = v29;
          LODWORD(v29) = v45;
          v45 = 0;
          *(v27 + 20) = v29;
          ++HIDWORD(v48);
        }

        if (v46 == 1)
        {
          v24 = v43;
          if (v43)
          {
            v43 = 0;
            v44 = 0;
            WTF::fastFree(v24, v23);
          }

          v25 = v42;
          v42 = 0;
          if (v25)
          {
            WTF::ThreadSafeRefCounted<WebCore::SerializedScriptValue,(WTF::DestructionThread)0>::deref(v25);
          }
        }

        if (!--v12)
        {
          WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(&v47, HIDWORD(v48));
          v13 = v47;
          v47 = 0;
          *&v40 = v13;
          v14 = v48;
          goto LABEL_13;
        }
      }
    }

    else
    {
      if (!v12)
      {
        v13 = 0;
        v14 = 0;
LABEL_12:
        v47 = 0;
        *&v40 = v13;
LABEL_13:
        v48 = 0;
        *(&v40 + 1) = v14;
        v36 = v14;
        v41 = 1;
        WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v47, a2);
        v17 = *(this + 2);
        if (*(this + 1) <= &v17[-*this])
        {
          IPC::Decoder::markInvalid(this);
        }

        else
        {
          *(this + 2) = v17 + 1;
          if (v17)
          {
            v18 = *v17;
            if (v18 < 2)
            {
              if (!v18)
              {
                v19 = 0;
LABEL_19:
                *&v16 = 0;
                v40 = v16;
                v37[0] = v13;
                v37[1] = v36;
                v37[2] = v19;
                v38 = v18;
                v39 = 1;
                WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v40, v15);
                result = std::apply[abi:sn200100]<WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0,std::tuple<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,std::optional<WTF::ObjectIdentifierGeneric<WebKit::MessageBatchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>>((a1 + 8), v37);
                if (v39)
                {
                  return WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v37, v21);
                }

                return result;
              }

              v19 = IPC::Decoder::decode<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this);
              if (v15)
              {
                LOBYTE(v18) = 1;
                goto LABEL_19;
              }

LABEL_50:
              IPC::Decoder::markInvalid(this);
              WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v40, v33);
              goto LABEL_51;
            }

LABEL_49:
            IPC::Decoder::markInvalid(this);
            goto LABEL_50;
          }
        }

        IPC::Decoder::markInvalid(this);
        goto LABEL_49;
      }

      LODWORD(v48) = 24 * v12 / 0x18u;
      v47 = WTF::fastMalloc((24 * v12));
      while (1)
      {
        IPC::Decoder::decode<WebCore::MessageWithMessagePorts>(this, &v42);
        if (v46 != 1)
        {
          break;
        }

        if (HIDWORD(v48) == v48)
        {
          WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::MessageWithMessagePorts>(&v47, &v42);
        }

        else
        {
          v30 = v47 + 24 * HIDWORD(v48);
          v31 = v42;
          v42 = 0;
          *(v30 + 8) = 0;
          *(v30 + 16) = 0;
          *v30 = v31;
          v32 = v43;
          v43 = 0;
          *(v30 + 8) = v32;
          LODWORD(v32) = v44;
          v44 = 0;
          *(v30 + 16) = v32;
          LODWORD(v32) = v45;
          v45 = 0;
          *(v30 + 20) = v32;
          ++HIDWORD(v48);
        }

        std::optional<WebCore::MessageWithMessagePorts>::~optional(&v42, v23);
        if (!--v12)
        {
          v13 = v47;
          v14 = v48;
          goto LABEL_12;
        }
      }
    }

    std::optional<WebCore::MessageWithMessagePorts>::~optional(&v42, v23);
    WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v47, v26);
LABEL_43:
    IPC::Decoder::markInvalid(this);
LABEL_51:
    IPC::Decoder::markInvalid(this);
    return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::TakeAllMessagesForPort,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>((a1 + 8), v34, v35);
  }

  v22 = (a1 + 8);

  return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::TakeAllMessagesForPort,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>(v22, a2, a4);
}

uint64_t IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::TakeAllMessagesForPort,WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0>(WebKit::WebMessagePortChannelProvider *a1, void *a2, __n128 a3)
{
  a3.n128_u64[0] = 0;
  v9 = a3;
  v6 = 0;
  v7 = 0u;
  v8 = 0;
  WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v9, a2);
  std::apply[abi:sn200100]<WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0,std::tuple<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,std::optional<WTF::ObjectIdentifierGeneric<WebKit::MessageBatchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>>(a1, &v6);
  return WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v6, v4);
}

uint64_t std::apply[abi:sn200100]<WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0,std::tuple<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,std::optional<WTF::ObjectIdentifierGeneric<WebKit::MessageBatchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>>(WebKit::WebMessagePortChannelProvider *a1, void *a2)
{
  v3 = *(a2 + 6);
  if (v3)
  {
    v5 = a2[2];
    v6 = WebKit::WebMessagePortChannelProvider::singleton(a1, a2);
    v7 = WTF::HashTable<WebCore::MessagePortIdentifier,WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashMap<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::HashTraits<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WebCore::MessagePortIdentifier,WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::MessagePortIdentifier>,WTF::HashTraits<WebCore::MessagePortIdentifier>,WTF::HashTraits<WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::MessagePortIdentifier>>,(WTF::ShouldValidateKey)1,WebCore::MessagePortIdentifier>(v6 + 2, a1 + 1);
    v10 = v6[2];
    if (v10)
    {
      v10 += 4 * *(v10 - 1);
    }

    if (v10 != v7)
    {
      *&v9 = 0;
      v11 = v7[2];
      v31 = v11;
      v12 = *(v7 + 7);
      LODWORD(v32) = *(v7 + 6);
      HIDWORD(v32) = v12;
      v30 = v9;
      v7[2] = 0;
      v7[3] = 0;
      WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v30, v8);
      v14 = *(a2 + 2);
      v15 = *(a2 + 3) + v12;
      if (v15 > v14)
      {
        if (v14 + (v14 >> 1) <= v14 + 1)
        {
          v16 = v14 + 1;
        }

        else
        {
          v16 = v14 + (v14 >> 1);
        }

        if (v16 > v15)
        {
          v15 = v16;
        }

        if (v15 <= 0x10)
        {
          v17 = 16;
        }

        else
        {
          v17 = v15;
        }

        WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a2, v17);
      }

      if (v12)
      {
        v18 = &v11[3 * v12];
        v19 = *(a2 + 3);
        do
        {
          v20 = (*a2 + 24 * v19);
          v21 = v11 + 1;
          v22 = *v11;
          *v11 = 0;
          v11 += 3;
          *v20 = v22;
          v20[2] = 0;
          v20[1] = 0;
          WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((v20 + 1), v21);
          v19 = *(a2 + 3) + 1;
          *(a2 + 3) = v19;
        }

        while (v11 != v18);
      }

      WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v31, v13);
    }

    v23 = WTF::fastMalloc(0x18);
    *v23 = &unk_1F11321C8;
    *(v23 + 8) = v5;
    *(v23 + 16) = v3;
    v31 = v23;
    v24 = *a1;
    *a1 = 0;
    (*(*v24 + 16))(v24, a2, &v31);
    (*(*v24 + 8))(v24);
    result = v31;
    v31 = 0;
    if (result)
    {
      return (*(*result + 8))(result);
    }
  }

  else
  {
    v31 = 0;
    v32 = 0;
    v26 = WTF::fastMalloc(0x10);
    *v26 = &unk_1F11321A0;
    *&v30 = v26;
    v27 = *a1;
    *a1 = 0;
    (*(*v27 + 16))(v27, &v31, &v30);
    (*(*v27 + 8))(v27);
    v29 = v30;
    *&v30 = 0;
    if (v29)
    {
      (*(*v29 + 8))(v29);
    }

    return WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v31, v28);
  }

  return result;
}

uint64_t std::optional<WebCore::MessageWithMessagePorts>::~optional(uint64_t a1, void *a2)
{
  if (*(a1 + 24) == 1)
  {
    v3 = *(a1 + 8);
    if (v3)
    {
      *(a1 + 8) = 0;
      *(a1 + 16) = 0;
      WTF::fastFree(v3, a2);
    }

    v4 = *a1;
    *a1 = 0;
    if (v4)
    {
      WTF::ThreadSafeRefCounted<WebCore::SerializedScriptValue,(WTF::DestructionThread)0>::deref(v4);
    }
  }

  return a1;
}

void WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(uint64_t a1, unint64_t this)
{
  if (*(a1 + 8) > this)
  {
    v4 = *(a1 + 12);
    if (v4 > this)
    {
      WTF::VectorTypeOperations<WebCore::MessageWithMessagePorts>::destruct((*a1 + 24 * this), (*a1 + 24 * v4));
      *(a1 + 12) = this;
      LODWORD(v4) = this;
    }

    v5 = *a1;
    if (this)
    {
      if (this >= 0xAAAAAAB)
      {
        __break(0xC471u);
        JUMPOUT(0x19E3A7494);
      }

      v6 = (24 * this);
      v7 = WTF::fastMalloc(v6);
      *(a1 + 8) = v6 / 0x18;
      *a1 = v7;
      if (v7 != v5)
      {
        WTF::VectorMover<false,WebCore::MessageWithMessagePorts>::move(v5, (v5 + 24 * v4), v7);
      }
    }

    if (v5)
    {
      if (*a1 == v5)
      {
        *a1 = 0;
        *(a1 + 8) = 0;
      }

      WTF::fastFree(v5, this);
    }
  }
}

void WTF::VectorMover<false,WebCore::MessageWithMessagePorts>::move(WebCore::MessageWithMessagePorts *a1, WebCore::MessageWithMessagePorts *a2, void *a3)
{
  if (a1 != a2)
  {
    v5 = a1;
    v6 = a1;
    do
    {
      v7 = *v5;
      *v6 = 0;
      v6 = (v6 + 24);
      *a3 = v7;
      a3[2] = 0;
      a3[1] = 0;
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((a3 + 1), v5 + 2);
      WebCore::MessageWithMessagePorts::~MessageWithMessagePorts(v5, v8);
      a3 += 3;
      v5 = v6;
    }

    while (v6 != a2);
  }
}

void WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(uint64_t a1, unint64_t a2)
{
  if (*(a1 + 8) < a2)
  {
    if (a2 >= 0xAAAAAAB)
    {
      __break(0xC471u);
    }

    else
    {
      v3 = *a1;
      v4 = (*a1 + 24 * *(a1 + 12));
      v5 = 24 * a2;
      v6 = WTF::fastMalloc((24 * a2));
      *(a1 + 8) = v5 / 0x18;
      *a1 = v6;
      WTF::VectorMover<false,WebCore::MessageWithMessagePorts>::move(v3, v4, v6);
      if (v3)
      {
        if (*a1 == v3)
        {
          *a1 = 0;
          *(a1 + 8) = 0;
        }

        WTF::fastFree(v3, v7);
      }
    }
  }
}

IPC::Encoder *WTF::Detail::CallableWrapper<WebKit::WebMessagePortChannelProvider::takeAllMessagesForPort(WebCore::MessagePortIdentifier const&,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)> &&)::$_0::operator()(WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &,std::optional<WTF::ObjectIdentifierGeneric<WebKit::MessageBatchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>)::{lambda(void)#2},void>::call(uint64_t a1, void *a2)
{
  {
    goto LABEL_8;
  }

  v3 = WebKit::WebProcess::singleton(void)::process;
  while (1)
  {
    v4 = WebKit::WebProcess::ensureNetworkProcessConnection(v3);
    if (*(a1 + 16))
    {
      break;
    }

    __break(1u);
LABEL_8:
    v11 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v5 = *(v4 + 24);
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 444;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = 0;
  IPC::Encoder::encodeHeader(v6);
  v12 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *(a1 + 8));
  IPC::Connection::sendMessageImpl(v5, &v12, 0, 0);
  result = v12;
  v12 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

uint64_t WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::MessageWithMessagePorts>(uint64_t a1, unint64_t a2)
{
  v3 = WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, *(a1 + 12) + 1, a2);
  v4 = (*a1 + 24 * *(a1 + 12));
  v5 = *v3;
  *v3 = 0;
  *v4 = v5;
  v4[2] = 0;
  v4[1] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((v4 + 1), (v3 + 8));
  ++*(a1 + 12);
  return 1;
}

unint64_t WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(uint64_t a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 <= a3 && v5 + 24 * *(a1 + 12) > a3)
  {
    v10 = a3 - v5;
    v11 = *(a1 + 8);
    if (v11 + (v11 >> 1) <= v11 + 1)
    {
      v12 = v11 + 1;
    }

    else
    {
      v12 = v11 + (v11 >> 1);
    }

    if (v12 <= a2)
    {
      v12 = a2;
    }

    if (v12 <= 0x10)
    {
      v13 = 16;
    }

    else
    {
      v13 = v12;
    }

    WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v13);
    return *a1 + v10;
  }

  else
  {
    v6 = *(a1 + 8);
    if (v6 + (v6 >> 1) <= v6 + 1)
    {
      v7 = v6 + 1;
    }

    else
    {
      v7 = v6 + (v6 >> 1);
    }

    if (v7 <= a2)
    {
      v7 = a2;
    }

    if (v7 <= 0x10)
    {
      v8 = 16;
    }

    else
    {
      v8 = v7;
    }

    WTF::Vector<WebCore::MessageWithMessagePorts,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v8);
  }

  return v3;
}

void *WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::show(WebCore::ScriptExecutionContext &,WebCore::NotificationData &&,WTF::RefPtr<WebCore::NotificationResources,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>> &&,WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F11321F0;
  v3 = a1[37];
  a1[37] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = a1[36];
  a1[36] = 0;
  if (v4)
  {
    WTF::ThreadSafeRefCounted<WebCore::NotificationResources,(WTF::DestructionThread)0>::deref(v4, a2);
  }

  WebCore::NotificationData::~NotificationData((a1 + 4), a2);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::show(WebCore::ScriptExecutionContext &,WebCore::NotificationData &&,WTF::RefPtr<WebCore::NotificationResources,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>> &&,WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F11321F0;
  v3 = a1[37];
  a1[37] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = a1[36];
  a1[36] = 0;
  if (v4)
  {
    WTF::ThreadSafeRefCounted<WebCore::NotificationResources,(WTF::DestructionThread)0>::deref(v4, a2);
  }

  WebCore::NotificationData::~NotificationData((a1 + 4), a2);

  return WTF::fastFree(a1, v5);
}

void WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::show(WebCore::ScriptExecutionContext &,WebCore::NotificationData &&,WTF::RefPtr<WebCore::NotificationResources,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>> &&,WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::call(uint64_t a1, void *a2)
{
  v17 = *MEMORY[0x1E69E9840];
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v13 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v13);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::supplement<WebKit::WebNotificationManager>(*(v3 + 39));
  v5 = *(a1 + 296);
  if (v5 && (v6 = *(v5 + 8)) != 0)
  {
    v7 = (v6 - 16);
    CFRetain(*(v6 - 8));
    v8 = 0;
  }

  else
  {
    v7 = 0;
    v8 = 1;
  }

  v15 = *(a1 + 304);
  *&v16 = *(a1 + 320);
  v9 = *(a1 + 336);
  v10 = WTF::fastMalloc(0x40);
  *v10 = &unk_1F1132218;
  v11 = v16;
  *(v10 + 16) = v15;
  *(v10 + 32) = v11;
  *(v10 + 48) = v9;
  v14 = v10;
  **(a1 + 16) = WebKit::WebNotificationManager::show(v4, a1 + 32, a1 + 288, v7, &v14);
  v12 = v14;
  v14 = 0;
  if (!v12)
  {
    if (v8)
    {
      return;
    }

    goto LABEL_9;
  }

  (*(*v12 + 8))(v12);
  if ((v8 & 1) == 0)
  {
LABEL_9:
    CFRelease(v7[1]);
  }
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::show(WebCore::ScriptExecutionContext &,WebCore::NotificationData &&,WTF::RefPtr<WebCore::NotificationResources,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>> &&,WTF::CompletionHandler<void ()(void)> &&)::$_0::operator()(void)::{lambda(void)#1},void>::call(uint64_t a1)
{
  v1 = *(a1 + 48);
  v2 = WTF::fastMalloc(0x10);
  *v2 = &unk_1F1132240;
  v2[1] = v1;
  v4 = v2;
  WebCore::ScriptExecutionContext::ensureOnContextThread();
  result = v4;
  if (v4)
  {
    return (*(*v4 + 8))(v4);
  }

  return result;
}

uint64_t _ZN3WTF6Detail15CallableWrapperIZZZN6WebKit21WebNotificationClient4showERN7WebCore22ScriptExecutionContextEONS4_16NotificationDataEONS_6RefPtrINS4_21NotificationResourcesENS_12RawPtrTraitsISA_EENS_21DefaultRefDerefTraitsISA_EEEEONS_17CompletionHandlerIFvvEEEEN3__0clEvENKUlvE_clEvEUlRT_E_vJS6_EE4callES6_()
{
  result = WebCore::ScriptExecutionContext::takeNotificationCallback();
  if (v1)
  {
    (*(*v1 + 16))();
    (*(*v1 + 8))();
    return 0;
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::cancel(WebCore::NotificationData &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1132268;
  v3 = a1[34];
  a1[34] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  WebCore::NotificationData::~NotificationData((a1 + 2), a2);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::cancel(WebCore::NotificationData &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1132268;
  v3 = a1[34];
  a1[34] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  WebCore::NotificationData::~NotificationData((a1 + 2), a2);

  return WTF::fastFree(a1, v4);
}

void WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::cancel(WebCore::NotificationData &&)::$_0,void>::call(uint64_t a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v9 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v9);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::supplement<WebKit::WebNotificationManager>(*(v3 + 39));
  v5 = v4;
  v6 = *(a1 + 272);
  if (v6 && (v7 = *(v6 + 8)) != 0)
  {
    CFRetain(*(v7 - 8));
    WebKit::WebNotificationManager::cancel(v5, a1 + 16, (v7 - 16));
    v8 = *(v7 - 8);

    CFRelease(v8);
  }

  else
  {

    WebKit::WebNotificationManager::cancel(v4, a1 + 16, 0);
  }
}

void *WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::notificationObjectDestroyed(WebCore::NotificationData &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1132290;
  v3 = a1[34];
  a1[34] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  WebCore::NotificationData::~NotificationData((a1 + 2), a2);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::notificationObjectDestroyed(WebCore::NotificationData &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1132290;
  v3 = a1[34];
  a1[34] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  WebCore::NotificationData::~NotificationData((a1 + 2), a2);

  return WTF::fastFree(a1, v4);
}

void WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::notificationObjectDestroyed(WebCore::NotificationData &&)::$_0,void>::call(uint64_t a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v9 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v9);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::supplement<WebKit::WebNotificationManager>(*(v3 + 39));
  v5 = v4;
  v6 = *(a1 + 272);
  if (v6 && (v7 = *(v6 + 8)) != 0)
  {
    CFRetain(*(v7 - 8));
    WebKit::WebNotificationManager::didDestroyNotification(v5, a1 + 16, (v7 - 16));
    v8 = *(v7 - 8);

    CFRelease(v8);
  }

  else
  {

    WebKit::WebNotificationManager::didDestroyNotification(v4, a1 + 16, 0);
  }
}

WebKit::WebNotificationClient *WebKit::WebNotificationClient::notificationControllerDestroyed(void)::$_0::operator()(WebKit::WebNotificationClient *result, void *a2)
{
  if (result)
  {
    WebKit::WebNotificationClient::~WebNotificationClient(result, a2);

    return bmalloc::api::tzoneFree(v2, v3);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::requestPermission(WebCore::ScriptExecutionContext &,WTF::CompletionHandler<void ()(WebCore::NotificationPermission)> &&)::$_0,void,BOOL>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11322E0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::requestPermission(WebCore::ScriptExecutionContext &,WTF::CompletionHandler<void ()(WebCore::NotificationPermission)> &&)::$_0,void,BOOL>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11322E0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::requestPermission(WebCore::ScriptExecutionContext &,WTF::CompletionHandler<void ()(WebCore::NotificationPermission)> &&)::$_0,void,BOOL>::call(uint64_t a1, int a2)
{
  if (a2)
  {
    v2 = 2;
  }

  else
  {
    v2 = 1;
  }

  v3 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v3 + 16))(v3, v2);
  v4 = *(*v3 + 8);

  return v4(v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::checkPermission(WebCore::ScriptExecutionContext *)::$_0,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1132308;
  v3 = a1[2];
  a1[2] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::checkPermission(WebCore::ScriptExecutionContext *)::$_0,void>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1132308;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebNotificationClient::checkPermission(WebCore::ScriptExecutionContext *)::$_0,void>::call(uint64_t a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v6 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v6);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::supplement<WebKit::WebNotificationManager>(*(v3 + 39));
  result = WebKit::WebNotificationManager::policyForOrigin(v4, (a1 + 16), 0);
  **(a1 + 8) = result;
  return result;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastMalloc((16 * a2 + 16));
  v11 = v9;
  v12 = v9 + 16;
  if (a2)
  {
    bzero((v9 + 16), 16 * a2);
  }

  *a1 = v12;
  v11[2] = a2 - 1;
  v11[3] = a2;
  *v11 = 0;
  v11[1] = v8;
  if (v7)
  {
    v13 = 0;
    v14 = 0;
    v15 = v7;
    do
    {
      v16 = v6 + 16 * v13;
      v17 = *v16;
      if (*v16 != -1)
      {
        if (v17)
        {
          v18 = *a1;
          if (*a1)
          {
            v19 = *(v18 - 8);
          }

          else
          {
            v19 = 0;
          }

          v20 = *(v17 + 4);
          if (v20 < 0x100)
          {
            v21 = WTF::StringImpl::hashSlowCase(v17);
          }

          else
          {
            v21 = v20 >> 8;
          }

          v22 = 0;
          do
          {
            v23 = v21 & v19;
            v21 = ++v22 + v23;
          }

          while (*(v18 + 16 * v23));
          v24 = v18 + 16 * v23;
          v25 = *(v24 + 8);
          if (v25)
          {
            WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v25, v10);
            v26 = *v24;
            *v24 = 0;
            if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v26, v10);
            }
          }

          else
          {
            *v24 = 0;
          }

          v27 = *v16;
          *v16 = 0;
          *v24 = v27;
          *(v24 + 8) = 0;
          v28 = *(v16 + 8);
          *(v16 + 8) = 0;
          *(v24 + 8) = v28;
          v29 = *(v16 + 8);
          if (v29)
          {
            WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v29, v10);
          }

          v30 = *v16;
          *v16 = 0;
          if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v30, v10);
          }

          if (v16 == a3)
          {
            v14 = v24;
          }
        }

        else
        {
          if (*(v16 + 8))
          {
            WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(*(v16 + 8), v10);
            v17 = *v16;
          }

          *v16 = 0;
          if (v17)
          {
            if (atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v17, v10);
            }
          }
        }
      }

      ++v13;
    }

    while (v13 != v15);
  }

  else
  {
    v14 = 0;
    result = 0;
    if (!v6)
    {
      return result;
    }
  }

  WTF::fastFree((v6 - 16), v10);
  return v14;
}

WTF::RefCountedBase *WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>@<X0>(uint64_t *a1@<X0>, WTF::StringImpl **a2@<X1>, const WTF::StringImpl *a3@<X2>, uint64_t a4@<X8>)
{
  if (*a2 == -1 || !*a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3A872CLL);
  }

  v8 = *a1;
  if (*a1 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a1, 0), (v8 = *a1) != 0))
  {
    v9 = *(v8 - 8);
  }

  else
  {
    v9 = 0;
  }

  v10 = *(*a2 + 4);
  v27 = a3;
  if (v10 < 0x100)
  {
    v11 = WTF::StringImpl::hashSlowCase(*a2);
  }

  else
  {
    v11 = v10 >> 8;
  }

  v12 = 0;
  for (i = 1; ; ++i)
  {
    v14 = v11 & v9;
    v15 = v8 + 24 * (v11 & v9);
    v16 = *v15;
    if (*v15 != -1)
    {
      break;
    }

    v12 = (v8 + 24 * v14);
LABEL_14:
    v11 = i + v14;
  }

  if (!v16)
  {
    if (v12)
    {
      *v12 = 0;
      v12[1] = 0;
      v12[2] = 0;
      --*(*a1 - 16);
      v15 = v12;
    }

    WTF::String::operator=(v15, a2);
    v18 = *(v27 + 12);
    if (v18)
    {
      v19 = WTF::fastMalloc(*(v27 + 12));
      memcpy(v19, *v27, *(v27 + 12));
    }

    else
    {
      v19 = 0;
    }

    result = *(v15 + 8);
    if (result)
    {
      *(v15 + 8) = 0;
      *(v15 + 16) = 0;
      result = WTF::fastFree(result, v17);
    }

    *(v15 + 8) = v19;
    *(v15 + 16) = v18;
    *(v15 + 20) = v18;
    v21 = *a1;
    if (*a1)
    {
      v22 = *(v21 - 12) + 1;
    }

    else
    {
      v22 = 1;
    }

    *(v21 - 12) = v22;
    v25 = (*(v21 - 16) + v22);
    v26 = *(v21 - 4);
    if (v26 > 0x400)
    {
      if (v26 <= 2 * v25)
      {
LABEL_28:
        result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a1, v15);
        v15 = result;
        v21 = *a1;
        if (*a1)
        {
          LODWORD(v26) = *(v21 - 4);
        }

        else
        {
          LODWORD(v26) = 0;
        }
      }
    }

    else if (3 * v26 <= 4 * v25)
    {
      goto LABEL_28;
    }

    *a4 = v15;
    *(a4 + 8) = v21 + 24 * v26;
    *(a4 + 16) = 1;
    return result;
  }

  if (!WTF::equal(v16, *a2, a3))
  {
    goto LABEL_14;
  }

  v23 = *a1;
  if (*a1)
  {
    v24 = *(v23 - 4);
  }

  else
  {
    v24 = 0;
  }

  *a4 = v15;
  *(a4 + 8) = v23 + 24 * v24;
  *(a4 + 16) = 0;

  return WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=((v15 + 8), v27);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t a3)
{
  v5 = *a1;
  if (*a1)
  {
    v6 = *(v5 - 4);
    v7 = *(v5 - 12);
  }

  else
  {
    v6 = 0;
    v7 = 0;
  }

  v8 = WTF::fastZeroedMalloc((24 * a2 + 16));
  *a1 = (v8 + 4);
  v8[2] = a2 - 1;
  v8[3] = a2;
  *v8 = 0;
  v8[1] = v7;
  if (v6)
  {
    v10 = 0;
    v11 = 0;
    v12 = v6;
    do
    {
      v13 = v5 + 24 * v10;
      v14 = *v13;
      if (*v13 != -1)
      {
        if (v14)
        {
          v16 = *a1;
          if (*a1)
          {
            v17 = *(v16 - 8);
          }

          else
          {
            v17 = 0;
          }

          v18 = *(v14 + 4);
          if (v18 < 0x100)
          {
            v19 = WTF::StringImpl::hashSlowCase(v14);
          }

          else
          {
            v19 = v18 >> 8;
          }

          v20 = 0;
          do
          {
            v21 = v16 + 24 * (v19 & v17);
            v19 = ++v20 + (v19 & v17);
          }

          while (*v21);
          v22 = *(v21 + 8);
          if (v22)
          {
            *(v21 + 8) = 0;
            *(v21 + 16) = 0;
            WTF::fastFree(v22, v9);
            v24 = *v21;
            *v21 = 0;
            if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v24, v23);
            }
          }

          else
          {
            *v21 = 0;
          }

          v25 = *v13;
          *v13 = 0;
          *v21 = v25;
          *(v21 + 8) = 0;
          *(v21 + 16) = 0;
          WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(v21 + 8, (v13 + 8));
          v26 = *(v13 + 8);
          if (v26)
          {
            *(v13 + 8) = 0;
            *(v13 + 16) = 0;
            WTF::fastFree(v26, v9);
          }

          v27 = *v13;
          *v13 = 0;
          if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v27, v9);
          }

          if (v13 == a3)
          {
            v11 = v21;
          }
        }

        else
        {
          v15 = *(v13 + 8);
          if (v15)
          {
            *(v13 + 8) = 0;
            *(v13 + 16) = 0;
            WTF::fastFree(v15, v9);
            v14 = *v13;
          }

          *v13 = 0;
          if (v14)
          {
            if (atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v14, v9);
            }
          }
        }
      }

      ++v10;
    }

    while (v10 != v12);
  }

  else
  {
    v11 = 0;
    result = 0;
    if (!v5)
    {
      return result;
    }
  }

  WTF::fastFree((v5 - 16), v9);
  return v11;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(uint64_t *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  v3 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v6 = *a2;
  if (*a2 == -1 || !v6)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3A8A7CLL);
  }

  v7 = *(v3 - 8);
  v8 = *(v6 + 4);
  if (v8 < 0x100)
  {
    v9 = WTF::StringImpl::hashSlowCase(v6);
  }

  else
  {
    v9 = v8 >> 8;
  }

  for (i = 0; ; v9 = i + v11)
  {
    v11 = v9 & v7;
    v12 = *(v3 + 16 * v11);
    if (v12 == -1)
    {
      goto LABEL_10;
    }

    if (!v12)
    {
      break;
    }

    if (WTF::equal(v12, *a2, a3))
    {
      return v3 + 16 * v11;
    }

LABEL_10:
    ++i;
  }

  if (*a1)
  {
    return *a1 + 16 * *(*a1 - 4);
  }

  else
  {
    return 0;
  }
}

WTF *WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::remove(uint64_t *a1, WTF::StringImpl *a2)
{
  result = WTF::KeyValuePairHashTraits<WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::customDeleteBucket(a2, a2);
  v4 = *a1;
  v5 = vadd_s32(*(*a1 - 16), 0xFFFFFFFF00000001);
  *(v4 - 16) = v5;
  v6 = *(v4 - 4);
  if (6 * v5.i32[1] < v6 && v6 >= 9)
  {

    return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1, v6 >> 1, 0);
  }

  return result;
}

WTF *WTF::KeyValuePairHashTraits<WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::customDeleteBucket(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *a1;
  *a1 = -1;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  result = *(a1 + 8);
  if (result)
  {
    *(a1 + 8) = 0;
    *(a1 + 16) = 0;

    return WTF::fastFree(result, a2);
  }

  return result;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(uint64_t *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  v3 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v6 = *a2;
  if (*a2 == -1 || !v6)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3A8CA0);
  }

  v7 = *(v3 - 8);
  v8 = *(v6 + 4);
  if (v8 < 0x100)
  {
    v9 = WTF::StringImpl::hashSlowCase(v6);
  }

  else
  {
    v9 = v8 >> 8;
  }

  for (i = 0; ; v9 = i + v11)
  {
    v11 = v9 & v7;
    v12 = (v3 + 24 * (v9 & v7));
    v13 = *v12;
    if (*v12 == -1)
    {
      goto LABEL_10;
    }

    if (!v13)
    {
      break;
    }

    if (WTF::equal(v13, *a2, a3))
    {
      return v12;
    }

LABEL_10:
    ++i;
  }

  if (*a1)
  {
    return *a1 + 24 * *(*a1 - 4);
  }

  else
  {
    return 0;
  }
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::remove(uint64_t *a1, WTF::StringImpl *a2)
{
  result = WTF::KeyValuePairHashTraits<WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>::customDeleteBucket(a2, a2);
  v4 = *a1;
  v5 = vadd_s32(*(*a1 - 16), 0xFFFFFFFF00000001);
  *(v4 - 16) = v5;
  v6 = *(v4 - 4);
  if (6 * v5.i32[1] < v6 && v6 >= 9)
  {

    return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1, v6 >> 1, 0);
  }

  return result;
}

uint64_t WTF::KeyValuePairHashTraits<WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::HashMap<WTF::String,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>::customDeleteBucket(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *a1;
  *a1 = -1;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  result = *(a1 + 8);
  if (result)
  {

    return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebCore::CharacterRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebCore::PermissionQuerySource<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NotificationManagerMessageHandler::GetPermissionState,WebKit::WebPermissionController::query(WebCore::ClientOrigin &&,WebCore::PermissionDescriptor,WTF::WeakPtr<WebCore::Page,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WebCore::Page>> const&,WebCore::PermissionQuerySource,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&)::$_0>(WebKit::WebPermissionController::query(WebCore::ClientOrigin &&,WebCore::PermissionDescriptor,WTF::WeakPtr<WebCore::Page,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WebCore::Page>> const&,WebCore::PermissionQuerySource,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,IPC::Connection*>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132330;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebCore::PermissionQuerySource<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NotificationManagerMessageHandler::GetPermissionState,WebKit::WebPermissionController::query(WebCore::ClientOrigin &&,WebCore::PermissionDescriptor,WTF::WeakPtr<WebCore::Page,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WebCore::Page>> const&,WebCore::PermissionQuerySource,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&)::$_0>(WebKit::WebPermissionController::query(WebCore::ClientOrigin &&,WebCore::PermissionDescriptor,WTF::WeakPtr<WebCore::Page,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WebCore::Page>> const&,WebCore::PermissionQuerySource,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,IPC::Connection*>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132330;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebCore::PermissionQuerySource<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NotificationManagerMessageHandler::GetPermissionState,WebKit::WebPermissionController::query(WebCore::ClientOrigin &&,WebCore::PermissionDescriptor,WTF::WeakPtr<WebCore::Page,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WebCore::Page>> const&,WebCore::PermissionQuerySource,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&)::$_0>(WebKit::WebPermissionController::query(WebCore::ClientOrigin &&,WebCore::PermissionDescriptor,WTF::WeakPtr<WebCore::Page,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WebCore::Page>> const&,WebCore::PermissionQuerySource,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,IPC::Connection*>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (a3 && *a3 && (v4 = IPC::Decoder::decode<std::tuple<WebCore::InspectorFrontendClientAppearance>>(a3), (v4 & 0x100) != 0))
  {
    if (v4 >= 3u)
    {
      result = 79;
      __break(0xC471u);
      return result;
    }

    v5 = qword_19E7048E8[v4 & 3];
  }

  else
  {
    v5 = 257;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPermissionControllerProxy::Query,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)>>(WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132358;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPermissionControllerProxy::Query,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)>>(WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132358;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPermissionControllerProxy::Query,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)>>(WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, int a2, IPC::Decoder *this)
{
  if (!this)
  {
    goto LABEL_18;
  }

  v5 = *this;
  if (!*this)
  {
    goto LABEL_18;
  }

  v7 = *(this + 1);
  v6 = *(this + 2);
  if (v7 <= &v6[-v5])
  {
LABEL_15:
    IPC::Decoder::markInvalid(this);
    goto LABEL_16;
  }

  v8 = v6 + 1;
  *(this + 2) = v6 + 1;
  if (!v6)
  {
LABEL_16:
    IPC::Decoder::markInvalid(this);
    goto LABEL_17;
  }

  if (*v6 <= 1u)
  {
    if (!*v6)
    {
      v10 = 0;
      goto LABEL_11;
    }

    if (v7 > &v8[-v5])
    {
      *(this + 2) = v6 + 2;
      if (v6 != -1)
      {
        v9 = *v8;
        if (v9 <= 2)
        {
          v10 = v9 | 0x100;
LABEL_11:
          v11 = *(a1 + 8);
          *(a1 + 8) = 0;
          (*(*v11 + 16))(v11, v10);
          v12 = *(*v11 + 8);

          return v12(v11);
        }

        goto LABEL_17;
      }

      goto LABEL_16;
    }

    goto LABEL_15;
  }

LABEL_17:
  IPC::Decoder::markInvalid(this);
  IPC::Decoder::markInvalid(this);
  IPC::Decoder::markInvalid(this);
LABEL_18:

  return IPC::Connection::cancelReply<Messages::WebPermissionControllerProxy::Query,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)>>((a1 + 8));
}

uint64_t IPC::Connection::cancelReply<Messages::WebPermissionControllerProxy::Query,WTF::CompletionHandler<void ()(std::optional<WebCore::PermissionState>)>>(uint64_t *a1)
{
  v1 = *a1;
  *a1 = 0;
  (*(*v1 + 16))(v1, 0);
  v2 = *(*v1 + 8);

  return v2(v1);
}

void *WTF::Detail::CallableWrapper<WebKit::WebPermissionController::permissionChanged(WebCore::PermissionName,WebCore::SecurityOriginData const&)::$_0,void,std::optional<WebCore::PermissionState>>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1132380;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPermissionController::permissionChanged(WebCore::PermissionName,WebCore::SecurityOriginData const&)::$_0,void,std::optional<WebCore::PermissionState>>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132380;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPermissionController::permissionChanged(WebCore::PermissionName,WebCore::SecurityOriginData const&)::$_0,void,std::optional<WebCore::PermissionState>>::call(uint64_t result, __int16 a2)
{
  v2 = *(result + 8);
  if (!v2)
  {
    return result;
  }

  v3 = result;
  result = *(v2 + 8);
  if (!result)
  {
    return result;
  }

  result = (*(*result + 16))(result);
  if ((a2 & 0x100) != 0 && result == a2)
  {
    return result;
  }

  v5 = *(v3 + 8);
  if (!v5 || (result = *(v5 + 8)) == 0)
  {
    result = 121;
    __break(0xC471u);
    goto LABEL_13;
  }

  if ((a2 & 0x100) == 0)
  {
LABEL_13:
    __break(1u);
    return result;
  }

  v6 = *(*result + 24);

  return v6();
}

IPC::Decoder *IPC::Decoder::operator>><std::tuple<WTF::String,WTF::String>>(IPC::Decoder *a1, uint64_t a2)
{
  IPC::ArgumentCoder<std::tuple<WTF::String,WTF::String>,void>::decode<IPC::Decoder>(a1, v19);
  v5 = v20;
  if ((v20 & 1) == 0)
  {
    v4 = *a1;
    v16 = *(a1 + 1);
    *a1 = 0;
    *(a1 + 1) = 0;
    v17 = *(a1 + 3);
    if (v17 && v16 != 0)
    {
      (*(*v17 + 16))(v17, v4);
      v5 = v20;
    }
  }

  if (*(a2 + 16) == v5)
  {
    if (*(a2 + 16))
    {
      v6 = v19[0];
      v19[0] = 0;
      v7 = *a2;
      *a2 = v6;
      if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v7, v4);
      }

      v8 = v19[1];
      v19[1] = 0;
      v9 = *(a2 + 8);
      *(a2 + 8) = v8;
      if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v9, v4);
      }
    }
  }

  else if (*(a2 + 16))
  {
    v10 = *(a2 + 8);
    *(a2 + 8) = 0;
    if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v10, v4);
    }

    v11 = *a2;
    *a2 = 0;
    if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v11, v4);
    }

    *(a2 + 16) = 0;
  }

  else
  {
    v12 = *v19;
    v19[0] = 0;
    v19[1] = 0;
    *a2 = v12;
    *(a2 + 16) = 1;
  }

  if (v20 == 1)
  {
    v13 = v19[1];
    v19[1] = 0;
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v4);
    }

    v14 = v19[0];
    v19[0] = 0;
    if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v14, v4);
    }
  }

  return a1;
}

uint64_t WTF::VectorTypeOperations<WebCore::PasteboardItemInfo>::destruct(uint64_t result, void *a2)
{
  if (result != a2)
  {
    v3 = result;
    do
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3 + 96, a2);
      v5 = *(v3 + 48);
      *(v3 + 48) = 0;
      if (v5)
      {
        if (atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v5, v4);
        }
      }

      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3 + 32, v4);
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3 + 16, v6);
      result = WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3, v7);
      v3 += 120;
    }

    while (v3 != a2);
  }

  return result;
}

WTF::StringImpl *IPC::Decoder::decode<WebCore::PasteboardItemInfo>(uint64_t a1, IPC::Decoder *a2)
{
  result = IPC::ArgumentCoder<WebCore::PasteboardItemInfo,void>::decode(a2, a1);
  if ((*(a1 + 120) & 1) == 0)
  {
    v5 = *(a2 + 1);
    *a2 = 0;
    *(a2 + 1) = 0;
    result = *(a2 + 3);
    if (result && v5 != 0)
    {
      v7 = *(*result + 16);

      return v7();
    }
  }

  return result;
}

WTF *WTF::Vector<WebCore::PasteboardItemInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::PasteboardItemInfo>(uint64_t a1, unint64_t a2)
{
  v3 = WTF::Vector<WebCore::PasteboardItemInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, *(a1 + 12) + 1, a2);
  v4 = (*a1 + 120 * *(a1 + 12));
  *v4 = 0;
  v4[1] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v4, v3);
  v4[3] = 0;
  v4[2] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((v4 + 2), (v3 + 16));
  v4[5] = 0;
  v4[4] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((v4 + 4), (v3 + 32));
  v5 = *(v3 + 48);
  *(v3 + 48) = 0;
  v4[6] = v5;
  v6 = *(v3 + 56);
  v7 = *(v3 + 72);
  LOWORD(v5) = *(v3 + 88);
  v4[12] = 0;
  v4 += 12;
  *(v4 - 4) = v5;
  *(v4 - 3) = v7;
  *(v4 - 5) = v6;
  v4[1] = 0;
  result = WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v4, (v3 + 96));
  *(v4 + 16) = *(v3 + 112);
  ++*(a1 + 12);
  return result;
}

unint64_t WTF::Vector<WebCore::PasteboardItemInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(uint64_t a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 120 * *(a1 + 12) <= a3)
  {
    v10 = *(a1 + 8);
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<WebCore::PasteboardItemInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = *(a1 + 8);
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<WebCore::PasteboardItemInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

uint64_t WTF::Vector<WebCore::PasteboardItemInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(uint64_t result, unint64_t a2)
{
  if (*(result + 8) < a2)
  {
    if (a2 >= 0x2222223)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3A98C8);
    }

    v2 = result;
    v3 = *result;
    v4 = *result + 120 * *(result + 12);
    v5 = 120 * a2;
    v6 = WTF::fastMalloc((120 * a2));
    *(v2 + 8) = v5 / 0x78;
    *v2 = v6;
    result = WTF::VectorMover<false,WebCore::PasteboardItemInfo>::move(v3, v4, v6);
    if (v3)
    {
      if (*v2 == v3)
      {
        *v2 = 0;
        *(v2 + 8) = 0;
      }

      return WTF::fastFree(v3, v7);
    }
  }

  return result;
}

uint64_t WTF::VectorMover<false,WebCore::PasteboardItemInfo>::move(uint64_t result, uint64_t a2, void *a3)
{
  if (result != a2)
  {
    v5 = result;
    do
    {
      *a3 = 0;
      a3[1] = 0;
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(a3, v5);
      a3[3] = 0;
      a3[2] = 0;
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((a3 + 2), (v5 + 16));
      a3[5] = 0;
      a3[4] = 0;
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((a3 + 4), (v5 + 32));
      v6 = *(v5 + 48);
      *(v5 + 48) = 0;
      a3[6] = v6;
      v7 = *(v5 + 56);
      v8 = *(v5 + 72);
      LOWORD(v6) = *(v5 + 88);
      a3[12] = 0;
      v9 = (a3 + 12);
      *(v9 - 8) = v6;
      *(v9 - 24) = v8;
      *(v9 - 40) = v7;
      v10 = v5 + 96;
      *(v9 + 8) = 0;
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v9, (v5 + 96));
      *(v9 + 16) = *(v5 + 112);
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v5 + 96, v11);
      v13 = *(v5 + 48);
      *(v5 + 48) = 0;
      if (v13)
      {
        if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v13, v12);
        }
      }

      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v5 + 32, v12);
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v5 + 16, v14);
      result = WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v5, v15);
      v5 += 120;
      a3 = (v9 + 24);
    }

    while (v10 + 24 != a2);
  }

  return result;
}

WTF *std::__optional_storage_base<WebCore::PasteboardItemInfo,false>::__construct[abi:sn200100]<WebCore::PasteboardItemInfo>(WTF *result, uint64_t a2)
{
  if (result)
  {
    v3 = result;
    *result = 0;
    *(result + 1) = 0;
    WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(result, a2);
    *(v3 + 3) = 0;
    *(v3 + 2) = 0;
    WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v3 + 16, (a2 + 16));
    *(v3 + 5) = 0;
    *(v3 + 4) = 0;
    WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v3 + 32, (a2 + 32));
    v4 = *(a2 + 48);
    *(a2 + 48) = 0;
    *(v3 + 6) = v4;
    v5 = *(a2 + 56);
    v6 = *(a2 + 72);
    LOWORD(v4) = *(a2 + 88);
    *(v3 + 12) = 0;
    v3 = (v3 + 96);
    *(v3 - 4) = v4;
    *(v3 - 24) = v6;
    *(v3 - 40) = v5;
    *(v3 + 1) = 0;
    result = WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v3, (a2 + 96));
    *(v3 + 16) = *(a2 + 112);
    *(v3 + 24) = 1;
  }

  else
  {
    __break(1u);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorSubscribeToPushService,WebKit::WebPlatformStrategies::windowSubscribeToPushService(WTF::URL const&,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowSubscribeToPushService(WTF::URL const&,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&,IPC::Connection*>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11323A8;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorSubscribeToPushService,WebKit::WebPlatformStrategies::windowSubscribeToPushService(WTF::URL const&,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowSubscribeToPushService(WTF::URL const&,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&,IPC::Connection*>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11323A8;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorSubscribeToPushService,WebKit::WebPlatformStrategies::windowSubscribeToPushService(WTF::URL const&,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowSubscribeToPushService(WTF::URL const&,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&,IPC::Connection*>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (a3 && *a3)
  {
    IPC::ArgumentCoder<std::tuple<std::experimental::fundamentals_v3::expected<WebCore::PushSubscriptionData,WebCore::ExceptionData>>,void>::decode<IPC::Decoder>(a3, v11);
    if (v12 & 1) != 0 || (v8 = *a3, v9 = a3[1], *a3 = 0, a3[1] = 0, (v10 = a3[3]) != 0) && v9 && ((*(*v10 + 16))(v10, v8), (v12))
    {
      result = WebKit::callExceptionOrResultCallback<WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)>,std::experimental::fundamentals_v3::expected<WebCore::PushSubscriptionData,WebCore::ExceptionData>>((a1 + 8), v11);
      if (v12)
      {
        return std::experimental::fundamentals_v3::expected<WebCore::PushSubscriptionData,WebCore::ExceptionData>::~expected(v11, v6);
      }
    }

    else
    {
      return IPC::Connection::cancelReply<Messages::WebSWServerConnection::SubscribeToPushService,WebKit::WebSWClientConnection::subscribeToPushService(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0>((a1 + 8));
    }
  }

  else
  {
    v7 = (a1 + 8);

    return IPC::Connection::cancelReply<Messages::WebSWServerConnection::SubscribeToPushService,WebKit::WebSWClientConnection::subscribeToPushService(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushSubscriptionData> &&)> &&)::$_0>(v7);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorUnsubscribeFromPushService,WebKit::WebPlatformStrategies::windowUnsubscribeFromPushService(WTF::URL const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::PushSubscriptionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowUnsubscribeFromPushService(WTF::URL const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::PushSubscriptionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&,IPC::Connection*>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11323D0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorUnsubscribeFromPushService,WebKit::WebPlatformStrategies::windowUnsubscribeFromPushService(WTF::URL const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::PushSubscriptionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowUnsubscribeFromPushService(WTF::URL const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::PushSubscriptionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&,IPC::Connection*>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11323D0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

mpark *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorUnsubscribeFromPushService,WebKit::WebPlatformStrategies::windowUnsubscribeFromPushService(WTF::URL const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::PushSubscriptionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowUnsubscribeFromPushService(WTF::URL const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::PushSubscriptionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&,IPC::Connection*>::call(uint64_t a1, WTF::StringImpl *a2, uint64_t *a3)
{
  if (a3 && *a3)
  {
    result = IPC::ArgumentCoder<std::tuple<std::experimental::fundamentals_v3::expected<BOOL,WebCore::ExceptionData>>,void>::decode<IPC::Decoder>(a3, v16);
    if (v19 & 1) != 0 || (v11 = *a3, v15 = a3[1], *a3 = 0, a3[1] = 0, (result = a3[3]) != 0) && v15 && (result = (*(*result + 16))(result, v11), (v19))
    {
      if (v18)
      {
        if (v18 != 1)
        {
          mpark::throw_bad_variant_access(result);
        }

        v6 = v16[0];
        v7 = v17;
        if (v17)
        {
          atomic_fetch_add_explicit(v17, 2u, memory_order_relaxed);
        }

        v20[0] = v6;
        v21 = v7;
        v8 = 1;
        v22 = 1;
        v9 = *(a1 + 8);
        *(a1 + 8) = 0;
        (*(*v9 + 16))(v9, v20);
        (*(*v9 + 8))(v9);
        result = mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v20, v10);
      }

      else
      {
        v20[0] = v16[0];
        v22 = 0;
        v13 = *(a1 + 8);
        *(a1 + 8) = 0;
        (*(*v13 + 16))(v13, v20);
        (*(*v13 + 8))(v13);
        result = mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v20, v14);
        v8 = 1;
      }
    }

    else
    {
      v8 = 0;
    }

    if (v19 == 1)
    {
      result = mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v16, v11);
    }

    if ((v8 & 1) == 0)
    {
      return IPC::Connection::cancelReply<Messages::WebSWServerConnection::ScheduleUnregisterJobInServer,WebKit::WebSWClientConnection::scheduleUnregisterJobInServer(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<WebCore::ProcessQualified<WTF::UUID>,WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0>((a1 + 8), v11);
    }
  }

  else
  {
    v12 = (a1 + 8);

    return IPC::Connection::cancelReply<Messages::WebSWServerConnection::ScheduleUnregisterJobInServer,WebKit::WebSWClientConnection::scheduleUnregisterJobInServer(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<WebCore::ProcessQualified<WTF::UUID>,WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<BOOL> &&)> &&)::$_0>(v12, a2);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorGetPushSubscription,WebKit::WebPlatformStrategies::windowGetPushSubscription(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowGetPushSubscription(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&,IPC::Connection*>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11323F8;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorGetPushSubscription,WebKit::WebPlatformStrategies::windowGetPushSubscription(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowGetPushSubscription(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&,IPC::Connection*>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11323F8;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorGetPushSubscription,WebKit::WebPlatformStrategies::windowGetPushSubscription(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowGetPushSubscription(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&,IPC::Connection*>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v13 = *MEMORY[0x1E69E9840];
  if (a3 && *a3)
  {
    IPC::ArgumentCoder<std::tuple<std::experimental::fundamentals_v3::expected<std::optional<WebCore::PushSubscriptionData>,WebCore::ExceptionData>>,void>::decode<IPC::Decoder>(a3, v11);
    if (v12 & 1) != 0 || (v8 = *a3, v9 = a3[1], *a3 = 0, a3[1] = 0, (v10 = a3[3]) != 0) && v9 && ((*(*v10 + 16))(v10, v8), (v12))
    {
      result = WebKit::callExceptionOrResultCallback<WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)>,std::experimental::fundamentals_v3::expected<std::optional<WebCore::PushSubscriptionData>,WebCore::ExceptionData>>((a1 + 8), v11);
      if (v12)
      {
        return std::experimental::fundamentals_v3::expected<std::optional<WebCore::PushSubscriptionData>,WebCore::ExceptionData>::~expected(v11, v6);
      }
    }

    else
    {
      return IPC::Connection::cancelReply<Messages::WebSWServerConnection::GetPushSubscription,WebKit::WebSWClientConnection::getPushSubscription(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0>((a1 + 8));
    }
  }

  else
  {
    v7 = (a1 + 8);

    return IPC::Connection::cancelReply<Messages::WebSWServerConnection::GetPushSubscription,WebKit::WebSWClientConnection::getPushSubscription(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::optional<WebCore::PushSubscriptionData>> &&)> &&)::$_0>(v7);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorGetPushPermissionState,WebKit::WebPlatformStrategies::windowGetPushPermissionState(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowGetPushPermissionState(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&,IPC::Connection*>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132420;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorGetPushPermissionState,WebKit::WebPlatformStrategies::windowGetPushPermissionState(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowGetPushPermissionState(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&,IPC::Connection*>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132420;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

mpark *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::NavigatorGetPushPermissionState,WebKit::WebPlatformStrategies::windowGetPushPermissionState(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0>(WebKit::WebPlatformStrategies::windowGetPushPermissionState(WTF::URL const&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&,IPC::Connection*>::call(uint64_t a1, WTF::StringImpl *a2, uint64_t *a3)
{
  if (a3 && *a3)
  {
    result = IPC::ArgumentCoder<std::tuple<std::experimental::fundamentals_v3::expected<unsigned char,WebCore::ExceptionData>>,void>::decode<IPC::Decoder>(a3, v16);
    if (v19 & 1) != 0 || (v11 = *a3, v15 = a3[1], *a3 = 0, a3[1] = 0, (result = a3[3]) != 0) && v15 && (result = (*(*result + 16))(result, v11), (v19))
    {
      if (v18)
      {
        if (v18 != 1)
        {
          mpark::throw_bad_variant_access(result);
        }

        v6 = v16[0];
        v7 = v17;
        if (v17)
        {
          atomic_fetch_add_explicit(v17, 2u, memory_order_relaxed);
        }

        v20[0] = v6;
        v21 = v7;
        v8 = 1;
        v22 = 1;
        v9 = *(a1 + 8);
        *(a1 + 8) = 0;
        (*(*v9 + 16))(v9, v20);
        (*(*v9 + 8))(v9);
        result = mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v20, v10);
      }

      else
      {
        v20[0] = v16[0];
        v22 = 0;
        v13 = *(a1 + 8);
        *(a1 + 8) = 0;
        (*(*v13 + 16))(v13, v20);
        (*(*v13 + 8))(v13);
        result = mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v20, v14);
        v8 = 1;
      }
    }

    else
    {
      v8 = 0;
    }

    if (v19 == 1)
    {
      result = mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v16, v11);
    }

    if ((v8 & 1) == 0)
    {
      return IPC::Connection::cancelReply<Messages::WebSWServerConnection::GetPushPermissionState,WebKit::WebSWClientConnection::getPushPermissionState(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0>((a1 + 8), v11);
    }
  }

  else
  {
    v12 = (a1 + 8);

    return IPC::Connection::cancelReply<Messages::WebSWServerConnection::GetPushPermissionState,WebKit::WebSWClientConnection::getPushPermissionState(WTF::ObjectIdentifierGeneric<WebCore::ServiceWorkerRegistrationIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::PushPermissionState> &&)> &&)::$_0>(v12, a2);
  }

  return result;
}

uint64_t WebKit::WebPopupMenu::WebPopupMenu(uint64_t a1, uint64_t a2, uint64_t a3)
{
  *(a1 + 8) = 1;
  *a1 = &unk_1F1132448;
  *(a1 + 16) = a3;
  if (a3)
  {
    (*(*a3 + 256))(a3);
  }

  if (a2)
  {
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a2 + 24), a2 + 16);
    v5 = *(a2 + 24);
    if (v5)
    {
      atomic_fetch_add(v5, 1u);
    }
  }

  else
  {
    v5 = 0;
  }

  *(a1 + 24) = v5;
  return a1;
}

void WebKit::WebPopupMenu::~WebPopupMenu(WebKit::WebPopupMenu *this, void *a2)
{
  *this = &unk_1F1132448;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = *(this + 2);
  if (v4)
  {
    (*(*v4 + 264))(v4);
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  WebKit::WebPopupMenu::~WebPopupMenu(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::WebPopupMenu::disconnectClient(WebKit::WebPopupMenu *this)
{
  result = *(this + 2);
  if (result)
  {
    result = (*(*result + 264))(result);
  }

  *(this + 2) = 0;
  return result;
}

uint64_t WebKit::WebPopupMenu::didChangeSelectedIndex(uint64_t this, uint64_t a2)
{
  v2 = *(this + 16);
  if (v2)
  {
    (*(*v2 + 256))(*(this + 16));
    (*(*v2 + 152))(v2);
    if ((a2 & 0x80000000) == 0)
    {
      (*(*v2 + 16))(v2, a2, 1);
    }

    v4 = *(*v2 + 264);

    return v4(v2);
  }

  return this;
}

uint64_t WebKit::WebPopupMenu::setTextForIndex(uint64_t this, uint64_t a2)
{
  v2 = *(this + 16);
  if (v2)
  {
    (*(*v2 + 256))(*(this + 16));
    (*(*v2 + 192))(v2, a2);
    v4 = *(*v2 + 264);

    return v4(v2);
  }

  return this;
}

uint64_t WebKit::WebPopupMenu::show(WebKit::WebPopupMenu *this, const WebCore::IntRect *a2, WebCore::LocalFrameView *a3, unsigned int a4)
{
  v4 = *(this + 2);
  if (!v4)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3AAFC8);
  }

  (*(*v4 + 256))(*(this + 2));
  v7 = (*(*v4 + 136))(v4);
  v73 = 0;
  v74 = 0;
  v64 = a2;
  v67 = this;
  if (v7)
  {
    v8 = v7;
    if (v7 >= 0x4924925)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3AAFD0);
    }

    v9 = 56 * v7;
    v10 = WTF::fastMalloc((56 * v7));
    v11 = 0;
    v12 = 0;
    LODWORD(v74) = v9 / 0x38;
    v73 = v10;
    v69 = v8;
    do
    {
      if ((*(*v4 + 160))(v4, v12))
      {
        v13 = 0;
        v14 = 0;
        v15 = 0;
        v16 = 0;
        v17 = 0;
        v18 = 0;
        v19 = 0;
        v20 = 0;
        v21 = 1;
      }

      else
      {
        (*(*v4 + 88))(&v75, v4, v12);
        (*(*v4 + 40))(v72, v4, v12);
        v22 = v81;
        v23 = v82;
        (*(*v4 + 64))(cf, v4, v12);
        (*(*v4 + 72))(v83, v4, v12);
        v68 = (*(*v4 + 80))(v4, v12);
        v15 = (*(*v4 + 168))(v4, v12);
        v14 = (*(*v4 + 176))(v4, v12);
        v19 = v72[0];
        if (v72[0])
        {
          atomic_fetch_add_explicit(v72[0], 2u, memory_order_relaxed);
        }

        v17 = v78;
        if (v78)
        {
          atomic_fetch_add_explicit(v78, 2u, memory_order_relaxed);
        }

        v13 = cf[0];
        if (cf[0])
        {
          atomic_fetch_add_explicit(cf[0], 2u, memory_order_relaxed);
        }

        v16 = v83[0];
        if (v83[0])
        {
          atomic_fetch_add_explicit(v83[0], 2u, memory_order_relaxed);
          v25 = v83[0];
          v83[0] = 0;
          if (v25)
          {
            if (atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v25, v24);
            }
          }
        }

        v26 = cf[0];
        cf[0] = 0;
        if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v26, v24);
        }

        v27 = v72[0];
        v72[0] = 0;
        if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v27, v24);
        }

        if (v80 == 11)
        {
          WebCore::Length::deref(v79);
        }

        v28 = v78;
        v78 = 0;
        if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v28, v24);
        }

        WebCore::FontCascade::~FontCascade(v77, v24);
        if ((v76 & 0x8000000000000) != 0)
        {
          v31 = (v76 & 0xFFFFFFFFFFFFLL);
          if (atomic_fetch_add((v76 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v31);
            WTF::fastFree(v31, v29);
          }
        }

        if ((v75 & 0x8000000000000) != 0)
        {
          v32 = (v75 & 0xFFFFFFFFFFFFLL);
          if (atomic_fetch_add((v75 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v32);
            WTF::fastFree(v32, v29);
          }
        }

        v18 = v22 | (v23 << 8);
        v11 = HIDWORD(v74);
        v20 = 1;
        v10 = v73;
        v21 = v68;
      }

      v30 = v10 + 56 * v11;
      *v30 = v20;
      *(v30 + 8) = v19;
      *(v30 + 16) = v17;
      *(v30 + 24) = v18;
      *(v30 + 32) = v13;
      *(v30 + 40) = v16;
      *(v30 + 48) = v21;
      *(v30 + 49) = v15;
      *(v30 + 50) = v14;
      HIDWORD(v74) = ++v11;
      ++v12;
    }

    while (v69 != v12);
  }

  else
  {
    v11 = 0;
  }

  (*(*v4 + 264))(v4);
  v33 = *(v67 + 2);
  if (v33)
  {
    (*(*v33 + 256))(*(v67 + 2));
  }

  v34 = *(v67 + 3);
  if (v34 && (v35 = *(v34 + 8)) != 0)
  {
    v36 = v35 - 16;
    CFRetain(*(v35 - 8));
    if (v11)
    {
      if (a4 != -1 && v11 <= a4)
      {
        __break(0xC471u);
        JUMPOUT(0x19E3AAFF0);
      }

      WebKit::WebPage::setActivePopupMenu((v35 - 16), v67);
      v37 = WebCore::ScrollView::contentsToWindow();
      v39 = *(v64 + 1);
      v72[0] = v37;
      v72[1] = v39;
      memset(cf, 0, 11);
      {
        v40 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v63 = WebKit::WebProcess::operator new(0x370, v38);
        v40 = WebKit::WebProcess::WebProcess(v63);
        WebKit::WebProcess::singleton(void)::process = v40;
      }

      WebKit::AuxiliaryProcess::protectedParentProcessConnection(v40, &v70);
      v41 = v70;
      v42 = WebCore::LocalFrameView::frame(a3);
      if (v33)
      {
        v43 = *(v42 + 32);
        (*(*v33 + 96))(&v75, v33);
        v44 = v81;
        v45 = *(v35 + 32);
        v47 = IPC::Encoder::operator new(0x238, v46);
        *v47 = 2385;
        *(v47 + 2) = 0;
        *(v47 + 3) = 0;
        *(v47 + 1) = v45;
        *(v47 + 68) = 0;
        *(v47 + 70) = 0;
        *(v47 + 69) = 0;
        IPC::Encoder::encodeHeader(v47);
        v83[0] = v47;
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v47, v43);
        IPC::ArgumentCoder<WebCore::IntRect,void>::encode(v47, v72);
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v47, v44);
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v47, v11);
        v48 = v73;
        v49 = 56 * v11;
        do
        {
          IPC::ArgumentCoder<WebKit::WebPopupItem,void>::encode(v47, v48);
          v48 += 56;
          v49 -= 56;
        }

        while (v49);
        IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v47, a4);
        IPC::ArgumentCoder<WebKit::PlatformPopupMenuData,void>::encode(v47, cf);
        IPC::Connection::sendMessageImpl(v41, v83, 0, 0);
        v51 = v83[0];
        v83[0] = 0;
        if (v51)
        {
          IPC::Encoder::~Encoder(v51, v50);
          bmalloc::api::tzoneFree(v59, v60);
        }

        if (v80 == 11)
        {
          WebCore::Length::deref(v79);
        }

        v52 = v78;
        v78 = 0;
        if (v52 && atomic_fetch_add_explicit(v52, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v52, v50);
        }

        WebCore::FontCascade::~FontCascade(v77, v50);
        if ((v76 & 0x8000000000000) != 0)
        {
          v61 = (v76 & 0xFFFFFFFFFFFFLL);
          if (atomic_fetch_add((v76 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v61);
            WTF::fastFree(v61, v53);
          }
        }

        if ((v75 & 0x8000000000000) != 0)
        {
          v62 = (v75 & 0xFFFFFFFFFFFFLL);
          if (atomic_fetch_add((v75 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v62);
            WTF::fastFree(v62, v53);
          }
        }

        v54 = v70;
        v70 = 0;
        if (v54)
        {
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v54);
        }

        v55 = cf[0];
        cf[0] = 0;
        if (v55)
        {
          CFRelease(v55);
        }

        goto LABEL_65;
      }

      __break(0xC471u);
LABEL_78:
      JUMPOUT(0x19E3AAF2CLL);
    }

    v56 = 0;
    if (!v33)
    {
LABEL_68:
      __break(0xC471u);
      goto LABEL_78;
    }
  }

  else
  {
    v36 = 0;
    v56 = 1;
    if (!v33)
    {
      goto LABEL_68;
    }
  }

  (*(*v33 + 152))(v33);
  if ((v56 & 1) == 0)
  {
LABEL_65:
    CFRelease(*(v36 + 8));
  }

  (*(*v33 + 264))(v33);
  return WTF::Vector<WebKit::WebPopupItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v73, v57);
}

void WebKit::WebPopupMenu::hide(WebKit::WebPopupMenu *this)
{
  v2 = *(this + 3);
  if (v2 && (v3 = *(v2 + 8)) != 0)
  {
    v4 = v3 - 16;
    CFRetain(*(v3 - 8));
    v5 = *(this + 2);
    if (!v5)
    {
LABEL_19:
      CFRelease(*(v4 + 8));
      return;
    }

    v6 = 0;
  }

  else
  {
    v5 = *(this + 2);
    if (!v5)
    {
      return;
    }

    v4 = 0;
    v6 = 1;
  }

  (*(*v5 + 256))(v5);
  if ((v6 & 1) == 0)
  {
    {
      v9 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v20 = WebKit::WebProcess::operator new(0x370, v7);
      v9 = WebKit::WebProcess::WebProcess(v20);
      WebKit::WebProcess::singleton(void)::process = v9;
    }

    WebKit::AuxiliaryProcess::protectedParentProcessConnection(v9, &v21);
    v10 = v21;
    v11 = *(v4 + 48);
    v13 = IPC::Encoder::operator new(0x238, v12);
    *v13 = 2272;
    *(v13 + 2) = 0;
    *(v13 + 3) = 0;
    *(v13 + 1) = v11;
    *(v13 + 68) = 0;
    *(v13 + 70) = 0;
    *(v13 + 69) = 0;
    IPC::Encoder::encodeHeader(v13);
    v22 = v13;
    IPC::Connection::sendMessageImpl(v10, &v22, 0, 0);
    v15 = v22;
    v22 = 0;
    if (v15)
    {
      IPC::Encoder::~Encoder(v15, v14);
      bmalloc::api::tzoneFree(v18, v19);
    }

    v16 = v21;
    v21 = 0;
    if (v16)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v16);
    }

    v17 = *(v4 + 536);
    *(v4 + 536) = 0;
    if (v17)
    {
      if (v17[2] == 1)
      {
        (*(*v17 + 8))(v17);
      }

      else
      {
        --v17[2];
      }
    }

    (*(*v5 + 152))(v5);
    (*(*v5 + 264))(v5);
    goto LABEL_19;
  }

  v8 = *(*v5 + 264);

  v8(v5);
}

void WebKit::WebProcessSyncClient::broadcastProcessSyncDataToOtherProcesses(uint64_t a1, char *a2)
{
  v2 = *(*(a1 + 8) + 8);
  if (v2)
  {
    CFRetain(*(v2 - 8));
    v4 = (*(*(v2 + 16) + 56))(v2 + 16);
    v6 = IPC::Encoder::operator new(0x238, v5);
    *v6 = 2156;
    *(v6 + 2) = 0;
    *(v6 + 3) = 0;
    *(v6 + 1) = v4;
    *(v6 + 68) = 0;
    *(v6 + 70) = 0;
    *(v6 + 69) = 0;
    IPC::Encoder::encodeHeader(v6);
    v11 = v6;
    IPC::ArgumentCoder<WebCore::ProcessSyncData,void>::encode(v6, a2);
    (*(*(v2 + 16) + 32))(v2 + 16, &v11, 0);
    v8 = v11;
    v11 = 0;
    if (v8)
    {
      IPC::Encoder::~Encoder(v8, v7);
      bmalloc::api::tzoneFree(v9, v10);
    }

    CFRelease(*(v2 - 8));
  }

  else
  {
    __break(0xC471u);
  }
}

void WebKit::WebProcessSyncClient::broadcastTopDocumentSyncDataToOtherProcesses(uint64_t a1, _DWORD *a2)
{
  v2 = *(*(a1 + 8) + 8);
  if (v2)
  {
    CFRetain(*(v2 - 8));
    ++*a2;
    v4 = (*(*(v2 + 16) + 56))(v2 + 16);
    v6 = IPC::Encoder::operator new(0x238, v5);
    *v6 = 2157;
    *(v6 + 2) = 0;
    *(v6 + 3) = 0;
    *(v6 + 1) = v4;
    *(v6 + 68) = 0;
    *(v6 + 70) = 0;
    *(v6 + 69) = 0;
    IPC::Encoder::encodeHeader(v6);
    v11 = v6;
    IPC::ArgumentCoder<WebCore::DocumentSyncData,void>::encode(v6, a2);
    (*(*(v2 + 16) + 32))(v2 + 16, &v11, 0);
    v8 = v11;
    v11 = 0;
    if (v8)
    {
      IPC::Encoder::~Encoder(v8, v7);
      bmalloc::api::tzoneFree(v9, v10);
    }

    WTF::RefCounted<WebCore::DocumentSyncData>::deref(a2, v7);
    CFRelease(*(v2 - 8));
  }

  else
  {
    __break(0xC471u);
  }
}

void WebKit::WebProgressTrackerClient::progressStarted(WebKit::WebProgressTrackerClient *this, WebCore::LocalFrame *a2)
{
  v2 = *(a2 + 15);
  if (v2 && *(v2 + 8) == a2)
  {
    v3 = *(this + 1);
    if (v3 && (v4 = *(v3 + 8)) != 0)
    {
      CFRetain(*(v4 - 8));
      *(v4 + 1728) = 0;
      IPC::MessageSender::send<Messages::WebPageProxy::DidStartProgress>(v4 + 16);
      v5 = *(v4 - 8);

      CFRelease(v5);
    }

    else
    {
      __break(0xC471u);
    }
  }
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidStartProgress>(uint64_t a1)
{
  v2 = (*(*a1 + 56))(a1);

  return IPC::MessageSender::send<Messages::WebPageProxy::DidStartProgress>(a1, v2);
}

void WebKit::WebProgressTrackerClient::progressEstimateChanged(WebKit::WebProgressTrackerClient *this, WebCore::LocalFrame *a2)
{
  v2 = *(a2 + 15);
  if (v2 && *(v2 + 8) == a2)
  {
    v3 = *(this + 1);
    if (v3 && (v4 = *(v3 + 8)) != 0)
    {
      CFRetain(*(v4 - 8));
      v6 = *(*(*(v4 + 40) + 136) + 128);
      IPC::MessageSender::send<Messages::WebPageProxy::DidChangeProgress>(v4 + 16, &v6);
      v5 = *(v4 - 8);

      CFRelease(v5);
    }

    else
    {
      __break(0xC471u);
    }
  }
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidChangeProgress>(uint64_t a1, double *a2)
{
  v4 = (*(*a1 + 56))(a1);

  return IPC::MessageSender::send<Messages::WebPageProxy::DidChangeProgress>(a1, a2, v4);
}

void WebKit::WebProgressTrackerClient::progressFinished(WebKit::WebProgressTrackerClient *this, WebCore::LocalFrame *a2)
{
  v2 = *(a2 + 15);
  if (v2 && *(v2 + 8) == a2)
  {
    v3 = *(this + 1);
    if (v3 && (v4 = *(v3 + 8)) != 0)
    {
      CFRetain(*(v4 - 8));
      *(v4 + 1728) = 1;
      (*(**(v4 + 368) + 80))(*(v4 + 368), v4 - 16);
      IPC::MessageSender::send<Messages::WebPageProxy::DidFinishProgress>(v4 + 16);
      v5 = *(v4 - 8);

      CFRelease(v5);
    }

    else
    {
      __break(0xC471u);
    }
  }
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidFinishProgress>(uint64_t a1)
{
  v2 = (*(*a1 + 56))(a1);

  return IPC::MessageSender::send<Messages::WebPageProxy::DidFinishProgress>(a1, v2);
}

void WebKit::WebRemoteFrameClient::~WebRemoteFrameClient(WebKit::WebRemoteFrameClient *this)
{
  WebKit::WebFrameLoaderClient::~WebFrameLoaderClient((this + 8));
}

{
  WebKit::WebFrameLoaderClient::~WebFrameLoaderClient((this + 8));

  bmalloc::api::tzoneFree(this, v2);
}

void non-virtual thunk toWebKit::WebRemoteFrameClient::~WebRemoteFrameClient(WebKit::WebRemoteFrameClient *this)
{
  v1 = (this - 8);
  WebKit::WebFrameLoaderClient::~WebFrameLoaderClient(this);

  bmalloc::api::tzoneFree(v1, v2);
}

void WebKit::WebRemoteFrameClient::frameDetached(WebKit::WebRemoteFrameClient *this)
{
  v1 = *(*(this + 2) + 40);
  if (!v1)
  {
    return;
  }

  v2 = *(v1 + 8);
  if (!v2 || *(v2 + 136) != 1)
  {
    return;
  }

  ++*(v2 + 16);
  v4 = *(v2 + 112);
  if (v4)
  {
    v5 = *(v4 + 8);
    if (v5)
    {
      v6 = 0;
      *(v5 + 28) += 2;
      goto LABEL_7;
    }
  }

  else
  {
    v5 = 0;
  }

  v6 = 1;
LABEL_7:
  v7 = WebCore::FrameTree::parent((v2 + 40));
  if (v7)
  {
    v9 = v7;
    ++*(v7 + 16);
    v10 = *(v2 + 48);
    *(v2 + 48) = 0;
    if (v10 && atomic_fetch_add(v10, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v10);
      WTF::fastFree(v10, v8);
    }

    WebCore::FrameTree::removeChild((v9 + 10), v2);
    if (v9[4] == 1)
    {
      (*(*v9 + 8))(v9);
    }

    else
    {
      --v9[4];
    }
  }

  WebKit::WebFrame::invalidate(*(this + 2), v8);
  if (v5)
  {
    v11 = *(*(v5 + 48) + 8);
    *(v11 + 7) += 2;
    WebCore::Document::checkCompleted(v11);
    if (*(v11 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v11);
      if (v6)
      {
        goto LABEL_19;
      }

      goto LABEL_17;
    }

    *(v11 + 7) -= 2;
  }

  if (v6)
  {
    goto LABEL_19;
  }

LABEL_17:
  if (*(v5 + 28) == 2)
  {
    WebCore::Node::removedLastRef(v5);
  }

  else
  {
    *(v5 + 28) -= 2;
  }

LABEL_19:
  if (*(v2 + 16) == 1)
  {
    v12 = *(*v2 + 8);

    v12(v2);
  }

  else
  {
    --*(v2 + 16);
  }
}

void WebKit::WebRemoteFrameClient::postMessageToRemote(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t a4, uint64_t a5, void *a6)
{
  v11 = WebKit::WebFrame::page(*(a1 + 16));
  if (v11)
  {
    v12 = v11;
    CFRetain(*(v11 + 8));
    v13 = (*(*(v12 + 32) + 56))(v12 + 32);
    v15 = IPC::Encoder::operator new(0x238, v14);
    *v15 = 2311;
    *(v15 + 2) = 0;
    *(v15 + 3) = 0;
    *(v15 + 1) = v13;
    *(v15 + 68) = 0;
    *(v15 + 70) = 0;
    *(v15 + 69) = 0;
    IPC::Encoder::encodeHeader(v15);
    v20 = v15;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v15, a2);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v15, a3);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v15, a4);
    IPC::ArgumentCoder<std::optional<WebCore::SecurityOriginData>,void>::encode<IPC::Encoder,std::optional<WebCore::SecurityOriginData> const&>(v15, a5);
    IPC::ArgumentCoder<WTF::RefPtr<WebCore::SerializedScriptValue,WTF::RawPtrTraits<WebCore::SerializedScriptValue>,WTF::DefaultRefDerefTraits<WebCore::SerializedScriptValue>>,void>::encode<IPC::Encoder,WebCore::SerializedScriptValue>(v15, a6);
    IPC::VectorArgumentCoder<false,std::pair<WebCore::MessagePortIdentifier,WebCore::MessagePortIdentifier>,0ul,WTF::CrashOnOverflow,16ul>::encode<IPC::Encoder,WTF::Vector<std::pair<WebCore::MessagePortIdentifier,WebCore::MessagePortIdentifier>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>(v15, (a6 + 1));
    (*(*(v12 + 32) + 32))(v12 + 32, &v20, 0);
    v17 = v20;
    v20 = 0;
    if (v17)
    {
      IPC::Encoder::~Encoder(v17, v16);
      bmalloc::api::tzoneFree(v18, v19);
    }

    CFRelease(*(v12 + 8));
  }
}

uint64_t WebKit::WebRemoteFrameClient::changeLocation(uint64_t a1, WebCore::FrameLoadRequest *this)
{
  v22[83] = *MEMORY[0x1E69E9840];
  WebCore::FrameLoadRequest::requester(this);
  WebCore::NavigationAction::NavigationAction();
  WebCore::ResourceResponseBase::ResourceResponseBase(v17);
  cf = 0;
  v20 = 0;
  v18 = v18 & 0xF1 | 4;
  v16 = 0;
  v14[0] = 0;
  v15 = 0;
  v4 = *(a1 + 16);
  CFRetain(*(v4 + 8));
  MEMORY[0x19EB068A0](v12, this);
  v5 = WTF::fastMalloc(0x260);
  *v5 = &unk_1F1132888;
  v5[1] = v4;
  MEMORY[0x19EB068A0](v5 + 2, v12);
  v13 = v5;
  WebKit::WebFrameLoaderClient::dispatchDecidePolicyForNavigationAction(a1 + 8, v21, v22, v17, 0, &v16, 0, 0, v14, 0, 0, v11, 0, 0, 1u, &v13);
  v6 = v13;
  v13 = 0;
  if (v6)
  {
    (*(*v6 + 8))(v6);
  }

  MEMORY[0x19EB068C0](v12);
  if (v15 == 1)
  {
    MEMORY[0x19EB04BD0](v14);
  }

  v8 = v16;
  v16 = 0;
  if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8, v7);
  }

  v9 = cf;
  cf = 0;
  if (v9)
  {
    CFRelease(v9);
  }

  WebCore::ResourceResponseBase::~ResourceResponseBase(v17, v7);
  return MEMORY[0x19EB06C80](v21);
}

void WebKit::WebRemoteFrameClient::renderTreeAsText(uint64_t a1@<X0>, uint64_t a2@<X1>, __int16 a3@<W2>, uint64_t *a4@<X8>)
{
  v8 = WebKit::WebFrame::page(*(a1 + 16));
  if (v8)
  {
    v9 = v8;
    CFRetain(*(v8 + 8));
    v10 = *(*(a1 + 16) + 88);
    v11 = (*(*(v9 + 32) + 56))(v9 + 32);
    v12 = (*(*(v9 + 32) + 48))(v9 + 32);
    if (!v12)
    {
      WTF::StringImpl::createWithoutCopyingNonEmpty();
      goto LABEL_30;
    }

    v13 = v12;
    while (1)
    {
      v14 = *v12;
      if ((*v12 & 1) == 0)
      {
        break;
      }

      v15 = *v12;
      atomic_compare_exchange_strong_explicit(v12, &v15, v14 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v15 == v14)
      {
        goto LABEL_8;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v12);
LABEL_8:
    IPC::Connection::createSyncMessageEncoder(0x1040, v11, v37);
    v16 = v37[0];
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v37[0], v10);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v16, a2);
    IPC::ArgumentCoder<unsigned short,void>::encode<IPC::Encoder>(v16, a3);
    v17 = IPC::Connection::sendSyncMessage(v13, v37[1], v37, 0, &v35, INFINITY);
    if (v36)
    {
      if (v36 != 1)
      {
        mpark::throw_bad_variant_access(v17);
      }

      v19 = 0;
      v20 = v35;
      v21 = 1;
      goto LABEL_20;
    }

    v20 = v35;
    v35 = 0;
    if (*(v20 + 50) == 3194)
    {
      a2 = 11;
    }

    else
    {
      LOBYTE(v33) = 0;
      v34 = 0;
      IPC::Decoder::operator>><std::tuple<WTF::String>>(v20, &v33);
      if (v34 == 1)
      {
        v21 = 0;
        a2 = v33;
        v19 = 1;
LABEL_17:
        if (!v36)
        {
          v24 = v35;
          v35 = 0;
          if (v24)
          {
            IPC::Decoder::~Decoder(v24);
            bmalloc::api::tzoneFree(v31, v32);
          }
        }

LABEL_20:
        v25 = v37[0];
        v37[0] = 0;
        if (v25)
        {
          IPC::Encoder::~Encoder(v25, v18);
          bmalloc::api::tzoneFree(v29, v30);
        }

        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v13);
        if (v19)
        {
          if (!a2)
          {
            *a4 = 0;
            if (!v20)
            {
              goto LABEL_30;
            }

            goto LABEL_32;
          }

          atomic_fetch_add_explicit(a2, 2u, memory_order_relaxed);
          *a4 = a2;
        }

        else
        {
          WTF::StringImpl::createWithoutCopyingNonEmpty();
          if (v21)
          {
LABEL_30:
            CFRelease(*(v9 + 8));
            return;
          }

          if (!a2)
          {
            goto LABEL_29;
          }
        }

        if (atomic_fetch_add_explicit(a2, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(a2, v26);
        }

LABEL_29:
        if (!v20)
        {
          goto LABEL_30;
        }

LABEL_32:
        IPC::Decoder::~Decoder(v20);
        bmalloc::api::tzoneFree(v27, v28);
        goto LABEL_30;
      }

      a2 = 14;
    }

    IPC::Decoder::~Decoder(v20);
    bmalloc::api::tzoneFree(v22, v23);
    v19 = 0;
    v21 = 1;
    v20 = a2;
    goto LABEL_17;
  }

  WTF::StringImpl::createWithoutCopyingNonEmpty();
}

void WebKit::WebRemoteFrameClient::layerTreeAsText(uint64_t a1@<X0>, uint64_t a2@<X1>, __int16 a3@<W2>, uint64_t *a4@<X8>)
{
  v8 = WebKit::WebFrame::page(*(a1 + 16));
  if (v8)
  {
    v9 = v8;
    CFRetain(*(v8 + 8));
    v10 = *(*(a1 + 16) + 88);
    v11 = (*(*(v9 + 32) + 56))(v9 + 32);
    v12 = (*(*(v9 + 32) + 48))(v9 + 32);
    if (!v12)
    {
      WTF::StringImpl::createWithoutCopyingNonEmpty();
      goto LABEL_30;
    }

    v13 = v12;
    v14 = a3 | 0x4000;
    while (1)
    {
      v15 = *v12;
      if ((*v12 & 1) == 0)
      {
        break;
      }

      v16 = *v12;
      atomic_compare_exchange_strong_explicit(v12, &v16, v15 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v16 == v15)
      {
        goto LABEL_8;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v12);
LABEL_8:
    IPC::Connection::createSyncMessageEncoder(0x103C, v11, v38);
    v17 = v38[0];
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v38[0], v10);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v17, a2);
    IPC::ArgumentCoder<unsigned short,void>::encode<IPC::Encoder>(v17, v14);
    v18 = IPC::Connection::sendSyncMessage(v13, v38[1], v38, 0, &v36, INFINITY);
    if (v37)
    {
      if (v37 != 1)
      {
        mpark::throw_bad_variant_access(v18);
      }

      v20 = 0;
      v21 = v36;
      v22 = 1;
      goto LABEL_20;
    }

    v21 = v36;
    v36 = 0;
    if (*(v21 + 50) == 3194)
    {
      v10 = 11;
    }

    else
    {
      LOBYTE(v34) = 0;
      v35 = 0;
      IPC::Decoder::operator>><std::tuple<WTF::String>>(v21, &v34);
      if (v35 == 1)
      {
        v22 = 0;
        v10 = v34;
        v20 = 1;
LABEL_17:
        if (!v37)
        {
          v25 = v36;
          v36 = 0;
          if (v25)
          {
            IPC::Decoder::~Decoder(v25);
            bmalloc::api::tzoneFree(v32, v33);
          }
        }

LABEL_20:
        v26 = v38[0];
        v38[0] = 0;
        if (v26)
        {
          IPC::Encoder::~Encoder(v26, v19);
          bmalloc::api::tzoneFree(v30, v31);
        }

        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v13);
        if (v20)
        {
          if (!v10)
          {
            *a4 = 0;
            if (!v21)
            {
              goto LABEL_30;
            }

            goto LABEL_32;
          }

          atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
          *a4 = v10;
        }

        else
        {
          WTF::StringImpl::createWithoutCopyingNonEmpty();
          if (v22)
          {
LABEL_30:
            CFRelease(*(v9 + 8));
            return;
          }

          if (!v10)
          {
            goto LABEL_29;
          }
        }

        if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v10, v27);
        }

LABEL_29:
        if (!v21)
        {
          goto LABEL_30;
        }

LABEL_32:
        IPC::Decoder::~Decoder(v21);
        bmalloc::api::tzoneFree(v28, v29);
        goto LABEL_30;
      }

      v10 = 14;
    }

    IPC::Decoder::~Decoder(v21);
    bmalloc::api::tzoneFree(v23, v24);
    v20 = 0;
    v22 = 1;
    v21 = v10;
    goto LABEL_17;
  }

  WTF::StringImpl::createWithoutCopyingNonEmpty();
}

void WebKit::WebRemoteFrameClient::unbindRemoteAccessibilityFrames(WebKit::WebFrame **this)
{
  v1 = WebKit::WebFrame::page(this[2]);
  if (v1)
  {
    v2 = v1;
    CFRetain(*(v1 + 8));
    v3 = *(v2 + 8);

    CFRelease(v3);
  }
}

void WebKit::WebRemoteFrameClient::updateRemoteFrameAccessibilityOffset(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v5 = WebKit::WebFrame::page(*(a1 + 16));
  if (v5)
  {
    v6 = v5;
    CFRetain(*(v5 + 8));
    v7 = (*(*(v6 + 32) + 56))(v6 + 32);
    v9 = IPC::Encoder::operator new(0x238, v8);
    *v9 = 2406;
    *(v9 + 2) = 0;
    *(v9 + 3) = 0;
    *(v9 + 1) = v7;
    *(v9 + 68) = 0;
    *(v9 + 70) = 0;
    *(v9 + 69) = 0;
    IPC::Encoder::encodeHeader(v9);
    v14 = v9;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v9, a2);
    IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v9, a3);
    IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v9, SHIDWORD(a3));
    (*(*(v6 + 32) + 32))(v6 + 32, &v14, 0);
    v11 = v14;
    v14 = 0;
    if (v11)
    {
      IPC::Encoder::~Encoder(v11, v10);
      bmalloc::api::tzoneFree(v12, v13);
    }

    CFRelease(*(v6 + 8));
  }
}

void WebKit::WebRemoteFrameClient::bindRemoteAccessibilityFrames(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t *a5)
{
  v10 = WebKit::WebFrame::page(*(a1 + 16));
  if (v10)
  {
    v11 = v10;
    CFRetain(*(v10 + 8));
    v12 = (*(*(v11 + 32) + 56))(v11 + 32);
    v13 = (*(*(v11 + 32) + 48))(v11 + 32);
    if (!v13)
    {
      v22 = 1;
      v21 = 3;
      goto LABEL_28;
    }

    v14 = v13;
    while (1)
    {
      v15 = *v13;
      if ((*v13 & 1) == 0)
      {
        break;
      }

      v16 = *v13;
      atomic_compare_exchange_strong_explicit(v13, &v16, v15 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v16 == v15)
      {
        goto LABEL_8;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v13);
LABEL_8:
    IPC::Connection::createSyncMessageEncoder(0x1028, v12, v50);
    v17 = v50[0];
    IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v50[0], a2);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v17, a3);
    IPC::ArgumentCoder<std::span<unsigned char const,18446744073709551615ul>,void>::encode<IPC::Encoder>(v17, *a4, *(a4 + 12));
    v18 = IPC::Connection::sendSyncMessage(v14, v50[1], v50, 0, &v48, INFINITY);
    if (v49)
    {
      if (v49 != 1)
      {
        mpark::throw_bad_variant_access(v18);
      }

      v20 = 0;
      v21 = v48;
      v22 = 1;
      goto LABEL_20;
    }

    v21 = v48;
    v48 = 0;
    if (*(v21 + 50) == 3194)
    {
      a3 = 11;
    }

    else
    {
      LOBYTE(v45) = 0;
      v47 = 0;
      IPC::Decoder::operator>><std::tuple<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,int>>(v21, &v45);
      if (v47 == 1)
      {
        v22 = 0;
        a3 = v45;
        v20 = 1;
        v5 = v46;
LABEL_17:
        if (!v49)
        {
          v25 = v48;
          v48 = 0;
          if (v25)
          {
            IPC::Decoder::~Decoder(v25);
            bmalloc::api::tzoneFree(v31, v32);
          }
        }

LABEL_20:
        v26 = v50[0];
        v50[0] = 0;
        if (v26)
        {
          IPC::Encoder::~Encoder(v26, v19);
          bmalloc::api::tzoneFree(v29, v30);
        }

        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v14);
        if (v20)
        {
          v38 = 0;
          v39 = 0;
          v40 = v5;
          if (v5)
          {
            v39 = v5;
            v38 = WTF::fastMalloc(v5);
            memcpy(v38, a3, v5);
          }

          WTF::CompletionHandler<void ()(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,int)>::operator()(a5, &v38);
          v28 = v38;
          if (v38)
          {
            v38 = 0;
            v39 = 0;
            WTF::fastFree(v28, v27);
          }

LABEL_31:
          if (a3)
          {
            WTF::fastFree(a3, v27);
          }

          if (v21)
          {
            IPC::Decoder::~Decoder(v21);
            bmalloc::api::tzoneFree(v34, v35);
          }

LABEL_35:
          CFRelease(*(v11 + 8));
          return;
        }

LABEL_28:
        v41 = 0;
        v42 = 0;
        WTF::CompletionHandler<void ()(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,int)>::operator()(a5, &v41);
        v33 = v41;
        if (v41)
        {
          v41 = 0;
          LODWORD(v42) = 0;
          WTF::fastFree(v33, v27);
        }

        if (v22)
        {
          goto LABEL_35;
        }

        goto LABEL_31;
      }

      a3 = 14;
    }

    IPC::Decoder::~Decoder(v21);
    bmalloc::api::tzoneFree(v23, v24);
    v20 = 0;
    v22 = 1;
    v21 = a3;
    goto LABEL_17;
  }

  v43 = 0;
  v44 = 0;
  WTF::CompletionHandler<void ()(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,int)>::operator()(a5, &v43);
  v37 = v43;
  if (v43)
  {
    v43 = 0;
    LODWORD(v44) = 0;
    WTF::fastFree(v37, v36);
  }
}

void WebKit::WebRemoteFrameClient::closePage(WebKit::WebFrame **this)
{
  v1 = WebKit::WebFrame::page(this[2]);
  if (v1)
  {
    v2 = v1;
    CFRetain(*(v1 + 8));
    WebKit::WebPage::sendClose(v2);
    v3 = *(v2 + 1);

    CFRelease(v3);
  }
}

void WebKit::WebRemoteFrameClient::focus(WebKit::WebFrame **this)
{
  v2 = WebKit::WebFrame::page(this[2]);
  if (v2)
  {
    v3 = v2;
    CFRetain(*(v2 + 8));
    v4 = *(this[2] + 11);
    v5 = (*(*(v3 + 32) + 56))(v3 + 32);
    v7 = IPC::Encoder::operator new(0x238, v6);
    *v7 = 2255;
    *(v7 + 2) = 0;
    *(v7 + 3) = 0;
    *(v7 + 1) = v5;
    *(v7 + 68) = 0;
    *(v7 + 70) = 0;
    *(v7 + 69) = 0;
    IPC::Encoder::encodeHeader(v7);
    v12 = v7;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v7, v4);
    (*(*(v3 + 32) + 32))(v3 + 32, &v12, 0);
    v9 = v12;
    v12 = 0;
    if (v9)
    {
      IPC::Encoder::~Encoder(v9, v8);
      bmalloc::api::tzoneFree(v10, v11);
    }

    CFRelease(*(v3 + 8));
  }
}

void WebKit::WebRemoteFrameClient::unfocus(WebKit::WebFrame **this)
{
  v1 = WebKit::WebFrame::page(this[2]);
  if (v1)
  {
    v2 = v1;
    CFRetain(*(v1 + 8));
    v10 = 0;
    v3 = (*(*(v2 + 32) + 56))(v2 + 32);
    v5 = IPC::Encoder::operator new(0x238, v4);
    *v5 = 2355;
    *(v5 + 2) = 0;
    *(v5 + 3) = 0;
    *(v5 + 1) = v3;
    *(v5 + 68) = 0;
    *(v5 + 70) = 0;
    *(v5 + 69) = 0;
    IPC::Encoder::encodeHeader(v5);
    v11 = v5;
    IPC::Encoder::operator<<<BOOL &>(v5, &v10);
    (*(*(v2 + 32) + 32))(v2 + 32, &v11, 0);
    v7 = v11;
    v11 = 0;
    if (v7)
    {
      IPC::Encoder::~Encoder(v7, v6);
      bmalloc::api::tzoneFree(v8, v9);
    }

    CFRelease(*(v2 + 8));
  }
}

void WebKit::WebRemoteFrameClient::documentURLForConsoleLog(uint64_t a1, uint64_t *a2)
{
  v4 = WebKit::WebFrame::page(*(a1 + 16));
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    v6 = *(*(a1 + 16) + 88);
    v7 = (*(*(v5 + 32) + 56))(v5 + 32);
    v9 = IPC::Encoder::operator new(0x238, v8);
    *v9 = 2242;
    *(v9 + 2) = 0;
    *(v9 + 3) = 0;
    *(v9 + 1) = v7;
    *(v9 + 68) = 0;
    *(v9 + 70) = 0;
    *(v9 + 69) = 0;
    IPC::Encoder::encodeHeader(v9);
    v21 = v9;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v9, v6);
    v10 = *a2;
    *a2 = 0;
    v11 = WTF::fastMalloc(0x10);
    *v11 = &unk_1F11328B0;
    *(v11 + 1) = v10;
    if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
    {
      __break(0xC471u);
    }

    else
    {
      v20[0] = v11;
      v20[1] = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
      (*(*(v5 + 32) + 40))(v5 + 32, &v21, v20, 0);
      v13 = v20[0];
      v20[0] = 0;
      if (v13)
      {
        (*(*v13 + 8))(v13);
      }

      v14 = v21;
      v21 = 0;
      if (v14)
      {
        IPC::Encoder::~Encoder(v14, v12);
        bmalloc::api::tzoneFree(v15, v16);
      }

      CFRelease(*(v5 + 8));
    }
  }

  else
  {
    v20[0] = 0;
    WTF::URL::invalidate(v20);
    v17 = *a2;
    *a2 = 0;
    (*(*v17 + 16))(v17, v20);
    (*(*v17 + 8))(v17);
    v19 = v20[0];
    v20[0] = 0;
    if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v19, v18);
    }
  }
}

WTF::StringImpl *WebKit::WebRemoteFrameClient::applyWebsitePolicies(WTF::StringImpl *result, uint64_t a2)
{
  v2 = *(*(result + 2) + 40);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      if (*(v3 + 136) == 1)
      {
        ++*(v3 + 16);
        v5 = *(a2 + 40);
        *(a2 + 40) = 0;
        v6 = *(v3 + 224);
        *(v3 + 224) = v5;
        if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v6, a2);
        }

        v7 = *(a2 + 48);
        *(a2 + 48) = 0;
        v8 = *(v3 + 232);
        *(v3 + 232) = v7;
        if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v8, a2);
        }

        *(v3 + 248) = *(a2 + 72);
        v9 = *(a2 + 56);
        *(a2 + 56) = 0;
        result = *(v3 + 240);
        *(v3 + 240) = v9;
        if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          result = WTF::StringImpl::destroy(result, a2);
        }

        v10 = *(a2 + 98);
        if (v10 >= 4)
        {
          LOBYTE(v10) = 0;
        }

        *(v3 + 250) = v10;
        if (*(v3 + 16) == 1)
        {
          v11 = *(*v3 + 8);

          return v11(v3);
        }

        else
        {
          --*(v3 + 16);
        }
      }
    }
  }

  return result;
}

void WebKit::WebRemoteFrameClient::updateScrollingMode(uint64_t a1, char a2)
{
  v4 = WebKit::WebFrame::page(*(a1 + 16));
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    v6 = *(*(a1 + 16) + 88);
    v7 = (*(*(v5 + 32) + 56))(v5 + 32);
    v9 = IPC::Encoder::operator new(0x238, v8);
    *v9 = 2408;
    *(v9 + 2) = 0;
    *(v9 + 3) = 0;
    *(v9 + 1) = v7;
    *(v9 + 68) = 0;
    *(v9 + 70) = 0;
    *(v9 + 69) = 0;
    IPC::Encoder::encodeHeader(v9);
    v14 = v9;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v9, v6);
    v15 = a2;
    IPC::Encoder::operator<<<unsigned char>(v9, &v15);
    (*(*(v5 + 32) + 32))(v5 + 32, &v14, 0);
    v11 = v14;
    v14 = 0;
    if (v11)
    {
      IPC::Encoder::~Encoder(v11, v10);
      bmalloc::api::tzoneFree(v12, v13);
    }

    CFRelease(*(v5 + 8));
  }
}

uint64_t WebKit::WebRemoteFrameClient::findFocusableElementDescendingIntoRemoteFrame(uint64_t a1, char a2, uint64_t a3, uint64_t *a4)
{
  v7 = *(a1 + 16);
  v9 = *(v7 + 32);
  v8 = v7 + 32;
  v10 = (*(v9 + 56))(v8);
  v12 = IPC::Encoder::operator new(0x238, v11);
  *v12 = 2011;
  *(v12 + 2) = 0;
  *(v12 + 3) = 0;
  *(v12 + 1) = v10;
  *(v12 + 68) = 0;
  *(v12 + 70) = 0;
  *(v12 + 69) = 0;
  IPC::Encoder::encodeHeader(v12);
  v23 = v12;
  LOBYTE(v22[0]) = a2;
  IPC::Encoder::operator<<<unsigned char>(v12, v22);
  IPC::ArgumentCoder<WebCore::FocusEventData,void>::encode(v12, a3);
  v13 = *a4;
  *a4 = 0;
  v14 = WTF::fastMalloc(0x10);
  *v14 = &unk_1F11328D8;
  v14[1] = v13;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v15 = v14;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v22[0] = v15;
    v22[1] = IdentifierInternal;
    (*(*v8 + 40))(v8, &v23, v22, 0);
    v18 = v22[0];
    v22[0] = 0;
    if (v18)
    {
      (*(*v18 + 8))(v18);
    }

    result = v23;
    v23 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v17);
      return bmalloc::api::tzoneFree(v20, v21);
    }
  }

  return result;
}

uint64_t WebKit::WebResourceLoadObserver::WebResourceLoadObserver(uint64_t a1, char a2)
{
  *a1 = &unk_1F11325E8;
  *(a1 + 8) = a2;
  v3 = (a1 + 32);
  *(a1 + 16) = 0;
  *(a1 + 24) = 0;
  v4 = WTF::fastMalloc(0x10);
  *v4 = &unk_1F1132900;
  v4[1] = a1;
  WebCore::TimerBase::TimerBase(v3);
  *(a1 + 32) = &unk_1F10EB388;
  *(a1 + 80) = v4;
  *(a1 + 88) = 0;
  *(a1 + 96) = 0;
  *(a1 + 104) = 0;
  return a1;
}

void WebKit::WebResourceLoadObserver::~WebResourceLoadObserver(WebKit::WebResourceLoadObserver *this, WTF::StringImpl *a2)
{
  v3 = *(this + 2);
  if (v3)
  {
    if (*(v3 - 12))
    {
      v10 = WTF::fastMalloc(0x10);
      *v10 = &unk_1F1132950;
      v11 = v10;
      WebKit::WebResourceLoadObserver::updateCentralStatisticsStore(this, &v11);
      if (v11)
      {
        (*(*v11 + 8))(v11);
      }
    }
  }

  v4 = *(this + 12);
  if (v4)
  {
    WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  v5 = *(this + 11);
  if (v5)
  {
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v5, a2);
  }

  *(this + 4) = &unk_1F10EB388;
  v6 = *(this + 10);
  *(this + 10) = 0;
  if (v6)
  {
    (*(*v6 + 8))(v6);
  }

  WebCore::TimerBase::~TimerBase((this + 32));
  v8 = *(this + 3);
  if (v8)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,Inspector::SupplementalBackendDispatcher *,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<Inspector::SupplementalBackendDispatcher *>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v8, v7);
  }

  v9 = *(this + 2);
  if (v9)
  {
    WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(v9, v7);
  }
}

{
  WebKit::WebResourceLoadObserver::~WebResourceLoadObserver(this, a2);

  WTF::fastFree(v2, v3);
}

WTF::StringImpl *WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(WebKit::WebResourceLoadObserver *this, WTF **a2, const WTF::StringImpl *a3)
{
  if (*(this + 8) == 1)
  {
    goto LABEL_30;
  }

  if (WTF::equal(*a2, 0, a3))
  {
    __break(0xC471u);
    JUMPOUT(0x19E3AD5C0);
  }

  if (*a2 == -1)
  {
LABEL_30:
    __break(0xC471u);
    JUMPOUT(0x19E3AD5A0);
  }

  v6 = *(this + 2);
  if (v6 || (WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(this + 2, 0), (v6 = *(this + 2)) != 0))
  {
    v7 = *(v6 - 8);
  }

  else
  {
    v7 = 0;
  }

  v8 = WTF::ASCIICaseInsensitiveHash::hash(*a2, v5) & v7;
  v9 = (v6 + 16 * v8);
  if ((WTF::equal(*v9, 0, v10) & 1) == 0)
  {
    v12 = 0;
    v13 = 1;
    do
    {
      if (*v9 == -1)
      {
        v12 = v9;
      }

      else if (WTF::equalIgnoringASCIICase(*v9, *a2, v11))
      {
        return v9[1];
      }

      v8 = (v8 + v13) & v7;
      v9 = (v6 + 16 * v8);
      ++v13;
    }

    while (!WTF::equal(*v9, 0, v11));
    if (v12)
    {
      *v12 = 0;
      v12[1] = 0;
      --*(*(this + 2) - 16);
      v9 = v12;
    }
  }

  WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v9, a2);
  v14 = WTF::fastMalloc(0xC8);
  v15 = *a2;
  if (*a2)
  {
    atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
  }

  *v14 = v15;
  *(v14 + 8) = 0;
  *(v14 + 16) = 0;
  *(v14 + 24) = 0xBFF0000000000000;
  *(v14 + 32) = 0;
  *(v14 + 40) = 0u;
  *(v14 + 56) = 0u;
  *(v14 + 65) = 0u;
  *(v14 + 88) = 0u;
  *(v14 + 104) = 0u;
  *(v14 + 114) = 0u;
  *(v14 + 132) = 0u;
  *(v14 + 148) = 0u;
  *(v14 + 161) = 0u;
  *(v14 + 184) = 0;
  *(v14 + 192) = 0;
  std::unique_ptr<WebCore::ResourceLoadStatistics>::reset[abi:sn200100](v9 + 1, v14);
  v16 = *(this + 2);
  if (v16)
  {
    v17 = *(v16 - 12) + 1;
  }

  else
  {
    v17 = 1;
  }

  *(v16 - 12) = v17;
  v18 = (*(v16 - 16) + v17);
  v19 = *(v16 - 4);
  if (v19 > 0x400)
  {
    if (v19 > 2 * v18)
    {
      return v9[1];
    }

    goto LABEL_22;
  }

  if (3 * v19 <= 4 * v18)
  {
LABEL_22:
    v9 = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(this + 2, v9);
  }

  return v9[1];
}

void *WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(void *this)
{
  v1 = this[2];
  if (v1 && *(v1 - 12))
  {
    if ((this[8] & 0xFFFFFFFFFFFFLL) == 0 || *((this[8] & 0xFFFFFFFFFFFFLL) + 8) == 0.0)
    {
      return WebCore::TimerBase::start();
    }
  }

  else if ((this[8] & 0xFFFFFFFFFFFFLL) != 0)
  {
    return WebCore::TimerBase::stopSlowCase((this + 4));
  }

  return this;
}

WTF::StringImpl *WebKit::WebResourceLoadObserver::statisticsForURL@<X0>(WebKit::WebResourceLoadObserver *this@<X0>, const WTF::URL *a2@<X1>, atomic_uint **a3@<X8>)
{
  WebCore::RegistrableDomain::RegistrableDomain(&v22, a2);
  if (WTF::equal(v22, 0, v6) || (result = v22, v22 == -1))
  {
    __break(0xC471u);
    JUMPOUT(0x19E3AD818);
  }

  v9 = *(this + 2);
  if (v9)
  {
    v10 = *(v9 - 2);
    v11 = WTF::ASCIICaseInsensitiveHash::hash(v22, v7) & v10;
    v12 = (v9 + 16 * v11);
    if (WTF::equal(*v12, 0, v13))
    {
LABEL_9:
      v9 = 0;
    }

    else
    {
      v15 = 1;
      while (*v12 == -1 || (WTF::equalIgnoringASCIICase(*v12, v22, v14) & 1) == 0)
      {
        v11 = (v11 + v15) & v10;
        v12 = (v9 + 16 * v11);
        ++v15;
        if (WTF::equal(*v12, 0, v14))
        {
          goto LABEL_9;
        }
      }

      v9 = v12[1];
    }

    result = v22;
  }

  v22 = 0;
  if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    result = WTF::StringImpl::destroy(result, v7);
    if (v9)
    {
      goto LABEL_14;
    }
  }

  else if (v9)
  {
LABEL_14:
    WTF::URL::host(a2);
    if ((v16 & 0x100000000) != 0)
    {
      WTF::String::String();
    }

    else
    {
      WTF::String::String();
    }

    WebCore::ResourceLoadStatistics::toString(&v20, v9);
    WTF::makeString<WTF::ASCIILiteral,WTF::String,WTF::ASCIILiteral,WTF::String>("Statistics for ", 16, &v21, ":\n", 3, &v20, a3);
    v18 = v20;
    v20 = 0;
    if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v18, v17);
    }

    result = v21;
    v21 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v17);
      }
    }

    return result;
  }

  v19 = *MEMORY[0x1E696EBA8];
  if (*MEMORY[0x1E696EBA8])
  {
    atomic_fetch_add_explicit(v19, 2u, memory_order_relaxed);
  }

  *a3 = v19;
  return result;
}

WTF::StringImpl **WebKit::WebResourceLoadObserver::clearState(WebKit::WebResourceLoadObserver *this, WTF::StringImpl *a2)
{
  if ((*(this + 8) & 0xFFFFFFFFFFFFLL) != 0)
  {
    WebCore::TimerBase::stopSlowCase((this + 32));
  }

  v3 = *(this + 2);
  if (v3)
  {
    *(this + 2) = 0;
    WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  result = *(this + 3);
  if (result)
  {
    *(this + 3) = 0;

    return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,Inspector::SupplementalBackendDispatcher *,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<Inspector::SupplementalBackendDispatcher *>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  return result;
}

uint64_t WebKit::WebResourceLoadObserver::hasHadUserInteraction(WebKit::WebResourceLoadObserver *this, WTF **a2, const WTF::StringImpl *a3)
{
  if (!*(this + 11))
  {
    return 0;
  }

  if (WTF::equal(*a2, 0, a3) || *a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3AD998);
  }

  v6 = *(this + 11);
  if (!v6)
  {
    return 0;
  }

  v7 = *(v6 - 8);
  v8 = WTF::ASCIICaseInsensitiveHash::hash(*a2, v5) & v7;
  v9 = (v6 + 8 * v8);
  if (WTF::equal(*v9, 0, v10))
  {
    return 0;
  }

  v12 = 1;
  while (*v9 == -1 || (WTF::equalIgnoringASCIICase(*v9, *a2, v11) & 1) == 0)
  {
    v8 = (v8 + v12) & v7;
    v9 = (v6 + 8 * v8);
    v13 = WTF::equal(*v9, 0, v11);
    result = 0;
    ++v12;
    if (v13)
    {
      return result;
    }
  }

  return 1;
}

WebKit::WebResourceLoadObserver *WebKit::WebResourceLoadObserver::logFontLoad(WebKit::WebResourceLoadObserver *this, const WebCore::Document *a2, WTF::StringImpl **a3, char a4)
{
  if ((*(this + 8) & 1) == 0)
  {
    v4 = *(a2 + 69);
    if (v4)
    {
      v5 = *(v4 + 8);
      if (v5)
      {
        v6 = *(v5 + 24);
        if (v6)
        {
          v7 = *(v6 + 8);
          if (v7)
          {
            v10 = this;
            ++*(v7 + 2);
            WebCore::RegistrableDomain::RegistrableDomain(&v25, (a2 + 800));
            v12 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v10, &v25, v11);
            v14 = v12;
            if (a4)
            {
              v15 = (v12 + 160);
            }

            else
            {
              v15 = (v12 + 152);
            }

            WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v15, a3, v13, v23);
            v16 = v24;
            v17 = WebCore::Page::mainFrameURL(v7);
            WebCore::RegistrableDomain::RegistrableDomain(&v22, v17);
            WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v14 + 18, &v22, v18, v23);
            if (v24 & 1) != 0 || (v16)
            {
              WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v10);
            }

            v20 = v22;
            v22 = 0;
            if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v20, v19);
            }

            v21 = v25;
            v25 = 0;
            if (v21)
            {
              if (atomic_fetch_add_explicit(v21, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v21, v19);
              }
            }

            return WTF::RefCounted<WebCore::Page>::deref(v7 + 2);
          }
        }
      }
    }
  }

  return this;
}

WebKit::WebResourceLoadObserver *WebKit::WebResourceLoadObserver::logCanvasRead(WebKit::WebResourceLoadObserver *this, const WebCore::Document *a2)
{
  if ((*(this + 8) & 1) == 0)
  {
    v2 = *(a2 + 69);
    if (v2)
    {
      v3 = *(v2 + 8);
      if (v3)
      {
        v4 = *(v3 + 24);
        if (v4)
        {
          v5 = *(v4 + 8);
          if (v5)
          {
            v6 = this;
            ++*(v5 + 2);
            WebCore::RegistrableDomain::RegistrableDomain(&v16, (a2 + 800));
            v8 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v6, &v16, v7);
            v9 = WebCore::Page::mainFrameURL(v5);
            WebCore::RegistrableDomain::RegistrableDomain(&v15, v9);
            *(v8 + 176) = 1;
            WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v8 + 18, &v15, v10, v14);
            if (v14[16] == 1)
            {
              WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v6);
            }

            v12 = v15;
            v15 = 0;
            if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v12, v11);
            }

            v13 = v16;
            v16 = 0;
            if (v13)
            {
              if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v13, v11);
              }
            }

            return WTF::RefCounted<WebCore::Page>::deref(v5 + 2);
          }
        }
      }
    }
  }

  return this;
}

WebKit::WebResourceLoadObserver *WebKit::WebResourceLoadObserver::logCanvasWriteOrMeasure(WebKit::WebResourceLoadObserver *this, const WebCore::Document *a2, const WTF::String *a3)
{
  if ((*(this + 8) & 1) == 0)
  {
    v3 = *(a2 + 69);
    if (v3)
    {
      v4 = *(v3 + 8);
      if (v4)
      {
        v5 = *(v4 + 24);
        if (v5)
        {
          v6 = *(v5 + 8);
          if (v6)
          {
            v8 = this;
            ++*(v6 + 2);
            WebCore::RegistrableDomain::RegistrableDomain(&v19, (a2 + 800));
            v10 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v8, &v19, v9);
            v11 = WebCore::Page::mainFrameURL(v6);
            WebCore::RegistrableDomain::RegistrableDomain(&v18, v11);
            v12 = WebCore::CanvasActivityRecord::recordWrittenOrMeasuredText((v10 + 168), a3);
            WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v10 + 18, &v18, v13, v17);
            if ((v17[16] & 1) != 0 || v12)
            {
              WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v8);
            }

            v15 = v18;
            v18 = 0;
            if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v15, v14);
            }

            v16 = v19;
            v19 = 0;
            if (v16)
            {
              if (atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v16, v14);
              }
            }

            return WTF::RefCounted<WebCore::Page>::deref(v6 + 2);
          }
        }
      }
    }
  }

  return this;
}

WebKit::WebResourceLoadObserver *WebKit::WebResourceLoadObserver::logNavigatorAPIAccessed(WebKit::WebResourceLoadObserver *result, uint64_t a2, uint64_t a3)
{
  if ((*(result + 8) & 1) == 0)
  {
    v3 = *(a2 + 552);
    if (v3)
    {
      v4 = *(v3 + 8);
      if (v4)
      {
        v5 = *(v4 + 24);
        if (v5)
        {
          v6 = *(v5 + 8);
          if (v6)
          {
            v8 = result;
            ++*(v6 + 2);
            WebCore::RegistrableDomain::RegistrableDomain(&v21, (a2 + 800));
            v10 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v8, &v21, v9);
            v11 = v10;
            v12 = *(v10 + 23);
            v13 = v12 & a3;
            if ((v12 & a3) == 0)
            {
              *(v10 + 23) = v12 | a3;
            }

            v14 = WebCore::Page::mainFrameURL(v6);
            WebCore::RegistrableDomain::RegistrableDomain(&v20, v14);
            WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v11 + 18, &v20, v15, v19);
            if (!v13 || (v19[16] & 1) != 0)
            {
              WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v8);
            }

            v17 = v20;
            v20 = 0;
            if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v17, v16);
            }

            v18 = v21;
            v21 = 0;
            if (v18)
            {
              if (atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v18, v16);
              }
            }

            return WTF::RefCounted<WebCore::Page>::deref(v6 + 2);
          }
        }
      }
    }
  }

  return result;
}

WebKit::WebResourceLoadObserver *WebKit::WebResourceLoadObserver::logScreenAPIAccessed(WebKit::WebResourceLoadObserver *result, uint64_t a2, uint64_t a3)
{
  if ((*(result + 8) & 1) == 0)
  {
    v3 = *(a2 + 552);
    if (v3)
    {
      v4 = *(v3 + 8);
      if (v4)
      {
        v5 = *(v4 + 24);
        if (v5)
        {
          v6 = *(v5 + 8);
          if (v6)
          {
            v8 = result;
            ++*(v6 + 2);
            WebCore::RegistrableDomain::RegistrableDomain(&v21, (a2 + 800));
            v10 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v8, &v21, v9);
            v11 = v10;
            v12 = *(v10 + 24);
            v13 = v12 & a3;
            if ((v12 & a3) == 0)
            {
              *(v10 + 24) = v12 | a3;
            }

            v14 = WebCore::Page::mainFrameURL(v6);
            WebCore::RegistrableDomain::RegistrableDomain(&v20, v14);
            WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v11 + 18, &v20, v15, v19);
            if (!v13 || (v19[16] & 1) != 0)
            {
              WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v8);
            }

            v17 = v20;
            v20 = 0;
            if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v17, v16);
            }

            v18 = v21;
            v21 = 0;
            if (v18)
            {
              if (atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v18, v16);
              }
            }

            return WTF::RefCounted<WebCore::Page>::deref(v6 + 2);
          }
        }
      }
    }
  }

  return result;
}

_DWORD *WebKit::WebResourceLoadObserver::logSubresourceLoading(_DWORD *result, uint64_t a2, WebCore::ResourceRequestBase *a3, WebCore::ResourceResponseBase *a4, int a5)
{
  if (a2)
  {
    v5 = result;
    if ((result[2] & 1) == 0)
    {
      v7 = *(a2 + 24);
      if (v7)
      {
        result = *(v7 + 8);
        if (result)
        {
          v11 = result + 2;
          ++result[2];
          v12 = WebCore::Page::mainFrameURL(result);
          v13 = WebCore::ResourceResponseBase::httpStatusCode(a4) >= 300 && WebCore::ResourceResponseBase::httpStatusCode(a4) < 400;
          v14 = WebCore::ResourceResponseBase::url(a4);
          v15 = WebCore::ResourceRequestBase::url(a3);
          v16 = WTF::URL::host(v15);
          v18 = v17;
          v19 = WTF::URL::host(v12);
          if (v18)
          {
            if (!WTF::operator==(v16, v18 & 0xFFFFFFFFFFLL, v19, v20 & 0xFFFFFFFFFFLL))
            {
              if (!v13 || (v21 = WTF::URL::host(v14), !WTF::operator==(v16, v18 & 0xFFFFFFFFFFLL, v21, v22 & 0xFFFFFFFFFFLL)))
              {
                WebCore::RegistrableDomain::RegistrableDomain(&v44, v15);
                WebCore::RegistrableDomain::RegistrableDomain(&v43, v12);
                WebCore::RegistrableDomain::RegistrableDomain(&v42, v14);
                if ((WTF::equal(v44, v43, v23) & 1) == 0 && (!v13 || (WTF::equal(v44, v42, v25) & 1) == 0))
                {
                  v29 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v5, &v44, v25);
                  WTF::WallTime::now(v29);
                  WebCore::ResourceLoadStatistics::reduceTimeResolution();
                  *(v29 + 1) = v30;
                  WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v29 + 13, &v43, v31, v41);
                  WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v5);
                  v33 = *(a2 + 120);
                  if (v33)
                  {
                    v33 = *(v33 + 8);
                  }

                  if (v33 == a2 && a5)
                  {
                    v34 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v5, &v43, v32);
                    WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v34 + 11, &v44, v35, v41);
                    WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v5);
                  }

                  if (v13)
                  {
                    v36 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v5, &v42, v32);
                    WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v36 + 14, &v44, v37, v41);
                    v39 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v5, &v44, v38);
                    WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v39 + 15, &v42, v40, v41);
                    WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v5);
                  }
                }

                v26 = v42;
                v42 = 0;
                if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v26, v24);
                }

                v27 = v43;
                v43 = 0;
                if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v27, v24);
                }

                v28 = v44;
                v44 = 0;
                if (v28)
                {
                  if (atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v28, v24);
                  }
                }
              }
            }
          }

          return WTF::RefCounted<WebCore::Page>::deref(v11);
        }
      }
    }
  }

  return result;
}

uint64_t WebKit::WebResourceLoadObserver::logWebSocketLoading(uint64_t this, const WTF::URL *a2, const WTF::URL *a3)
{
  if ((*(this + 8) & 1) == 0)
  {
    v5 = this;
    v6 = WTF::URL::host(a2);
    v8 = v7;
    this = WTF::URL::host(a3);
    if (v8)
    {
      this = WTF::operator==(v6, v8 & 0xFFFFFFFFFFLL, this, v9 & 0xFFFFFFFFFFLL);
      if ((this & 1) == 0)
      {
        WebCore::RegistrableDomain::RegistrableDomain(&v21, a2);
        WebCore::RegistrableDomain::RegistrableDomain(&v20, a3);
        v11 = WTF::equal(v21, v20, v10);
        if ((v11 & 1) == 0)
        {
          WTF::WallTime::now(v11);
          WebCore::ResourceLoadStatistics::reduceTimeResolution();
          v14 = v13;
          v16 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(v5, &v21, v15);
          *(v16 + 1) = v14;
          WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v16 + 13, &v20, v17, v19);
          WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v5);
        }

        v18 = v20;
        v20 = 0;
        if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v18, v12);
        }

        this = v21;
        v21 = 0;
        if (this)
        {
          if (atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            return WTF::StringImpl::destroy(this, v12);
          }
        }
      }
    }
  }

  return this;
}

uint64_t WebKit::WebResourceLoadObserver::logUserInteractionWithReducedTimeResolution(WebKit::WebResourceLoadObserver *this, const WebCore::Document *a2)
{
  v89 = *MEMORY[0x1E69E9840];
  v4 = (a2 + 800);
  result = WTF::URL::protocolIs();
  if (result)
  {
    return result;
  }

  result = WTF::URL::protocolIs();
  if ((result & 1) != 0 || !*v4 || !*(*v4 + 4))
  {
    return result;
  }

  v6 = WebCore::RegistrableDomain::RegistrableDomain(&v84, v4);
  WTF::WallTime::now(v6);
  WebCore::ResourceLoadStatistics::reduceTimeResolution();
  v8 = v7;
  if (v7 != WTF::HashMap<WebCore::RegistrableDomain,WTF::WallTime,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::WallTime>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WebCore::RegistrableDomain,WTF::WallTime,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::WallTime>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::RegistrableDomain>>,WebCore::RegistrableDomain>(this + 3, &v84, v9))
  {
    if (WTF::equal(v84, 0, v11) || v84 == -1)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3AEC58);
    }

    v13 = *(this + 3);
    if (v13 || (WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::WallTime>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::WallTime>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::WallTime,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::WallTime>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(this + 3, 0), (v13 = *(this + 3)) != 0))
    {
      v14 = *(v13 - 8);
    }

    else
    {
      v14 = 0;
    }

    v15 = WTF::ASCIICaseInsensitiveHash::hash(v84, v12) & v14;
    v16 = v13 + 16 * v15;
    if ((WTF::equal(*v16, 0, v17) & 1) == 0)
    {
      v20 = 0;
      v21 = 1;
      do
      {
        if (*v16 == -1)
        {
          v20 = v16;
        }

        else if (WTF::equalIgnoringASCIICase(*v16, v84, v19))
        {
          *(v16 + 8) = v8;
          goto LABEL_31;
        }

        v15 = (v15 + v21) & v14;
        v16 = v13 + 16 * v15;
        ++v21;
      }

      while (!WTF::equal(*v16, 0, v19));
      if (v20)
      {
        *v20 = 0;
        v20[1] = 0;
        --*(*(this + 3) - 16);
        v16 = v20;
      }
    }

    v22 = v84;
    if (v84)
    {
      atomic_fetch_add_explicit(v84, 2u, memory_order_relaxed);
    }

    v23 = *v16;
    *v16 = v22;
    if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v23, v18);
    }

    *(v16 + 8) = v8;
    v24 = *(this + 3);
    if (v24)
    {
      v25 = *(v24 - 12) + 1;
    }

    else
    {
      v25 = 1;
    }

    *(v24 - 12) = v25;
    v26 = (*(v24 - 16) + v25);
    v27 = *(v24 - 4);
    if (v27 > 0x400)
    {
      if (v27 > 2 * v26)
      {
        goto LABEL_31;
      }
    }

    else if (3 * v27 > 4 * v26)
    {
LABEL_31:
      if ((*(this + 8) & 1) == 0)
      {
        v28 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(this, &v84, v19);
        *(v28 + 16) = 1;
        *(v28 + 1) = v8;
        *(v28 + 3) = v8;
      }

      v29 = *(a2 + 69);
      if (v29)
      {
        v30 = *(v29 + 8);
        if (v30)
        {
          ++*(v30 + 16);
          v31 = *(v30 + 152);
          if (v31)
          {
            v32 = *(v31 + 8);
            if (v32)
            {
              if ((*(v32 + 136) & 1) == 0)
              {
                ++*(v32 + 16);
                v33 = *(v32 + 224);
                if (v33)
                {
                  v34 = *(v33 + 28);
                  *(v33 + 28) = v34 + 2;
                  v35 = *(v33 + 552);
                  if (v35)
                  {
                    v36 = *(v35 + 8);
                    if (v36)
                    {
                      v37 = *(v36 + 24);
                      if (v37)
                      {
                        v38 = *(v37 + 8);
                        if (v38)
                        {
                          v39 = (v38 + 8);
                          ++*(v38 + 8);
                          v40 = WebKit::WebPage::fromCorePage(v38);
                          CFRetain(*(v40 + 8));
                          v41 = *(v33 + 800);
                          if (v41)
                          {
                            atomic_fetch_add_explicit(v41, 2u, memory_order_relaxed);
                          }

                          *buf = v41;
                          v42 = *(v33 + 824);
                          *&buf[8] = *(v33 + 808);
                          v88 = v42;
                          WebCore::RegistrableDomain::RegistrableDomain(&v85, buf);
                          if ((WTF::equal(v84, v85, v43) & 1) == 0 && (WebCore::Document::hasRequestedPageSpecificStorageAccessWithUserInteraction() & 1) == 0 && (WTF::URL::isAboutBlank(buf) & 1) == 0)
                          {
                            {
                              v45 = WebKit::WebProcess::singleton(void)::process;
                            }

                            else
                            {
                              v82 = WebKit::WebProcess::operator new(0x370, v44);
                              v45 = WebKit::WebProcess::WebProcess(v82);
                              WebKit::WebProcess::singleton(void)::process = v45;
                            }

                            v47 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v45) + 24);
                            while (1)
                            {
                              v48 = *v47;
                              if ((*v47 & 1) == 0)
                              {
                                break;
                              }

                              v49 = *v47;
                              atomic_compare_exchange_strong_explicit(v47, &v49, v48 + 2, memory_order_relaxed, memory_order_relaxed);
                              if (v49 == v48)
                              {
                                goto LABEL_56;
                              }
                            }

                            WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v47);
LABEL_56:
                            v50 = *(v40 + 48);
                            v51 = IPC::Encoder::operator new(0x238, v46);
                            *v51 = 480;
                            *(v51 + 68) = 0;
                            *(v51 + 70) = 0;
                            *(v51 + 69) = 0;
                            *(v51 + 2) = 0;
                            *(v51 + 3) = 0;
                            *(v51 + 1) = 0;
                            IPC::Encoder::encodeHeader(v51);
                            v86 = v51;
                            IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v51, &v84);
                            IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v51, v50);
                            IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v51, &v85);
                            IPC::Connection::sendMessageImpl(v47, &v86, 0, 0);
                            v53 = v86;
                            v86 = 0;
                            if (v53)
                            {
                              IPC::Encoder::~Encoder(v53, v52);
                              bmalloc::api::tzoneFree(v79, v80);
                            }

                            WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v47);
                            WebKit::WebPage::addDomainWithPageLevelStorageAccess(v40, &v85, &v84);
                            WebCore::Document::setHasRequestedPageSpecificStorageAccessWithUserInteraction();
                          }

                          v54 = v85;
                          v85 = 0;
                          if (v54 && atomic_fetch_add_explicit(v54, 0xFFFFFFFE, memory_order_relaxed) == 2)
                          {
                            WTF::StringImpl::destroy(v54, v44);
                          }

                          v55 = *buf;
                          *buf = 0;
                          if (v55 && atomic_fetch_add_explicit(v55, 0xFFFFFFFE, memory_order_relaxed) == 2)
                          {
                            WTF::StringImpl::destroy(v55, v44);
                          }

                          CFRelease(*(v40 + 8));
                          WTF::RefCounted<WebCore::Page>::deref(v39);
                          v34 = *(v33 + 28) - 2;
                        }
                      }
                    }
                  }

                  if (v34)
                  {
                    *(v33 + 28) = v34;
                  }

                  else
                  {
                    WebCore::Node::removedLastRef(v33);
                  }
                }

                if (*(v32 + 16) == 1)
                {
                  (*(*v32 + 8))(v32);
                }

                else
                {
                  --*(v32 + 16);
                }
              }
            }
          }

          if (*(v30 + 16) == 1)
          {
            (*(*v30 + 8))(v30);
          }

          else
          {
            --*(v30 + 16);
          }
        }
      }

      {
        v56 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v81 = WebKit::WebProcess::operator new(0x370, v18);
        v56 = WebKit::WebProcess::WebProcess(v81);
        WebKit::WebProcess::singleton(void)::process = v56;
      }

      v58 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v56) + 24);
      while (1)
      {
        v59 = *v58;
        if ((*v58 & 1) == 0)
        {
          break;
        }

        v60 = *v58;
        atomic_compare_exchange_strong_explicit(v58, &v60, v59 + 2, memory_order_relaxed, memory_order_relaxed);
        if (v60 == v59)
        {
          goto LABEL_79;
        }
      }

      WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v58);
LABEL_79:
      v61 = IPC::Encoder::operator new(0x238, v57);
      *v61 = 455;
      *(v61 + 68) = 0;
      *(v61 + 70) = 0;
      *(v61 + 69) = 0;
      *(v61 + 2) = 0;
      *(v61 + 3) = 0;
      *(v61 + 1) = 0;
      IPC::Encoder::encodeHeader(v61);
      *buf = v61;
      IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v61, &v84);
      IPC::Connection::sendMessageImpl(v58, buf, 0, 0);
      v63 = *buf;
      *buf = 0;
      if (v63)
      {
        IPC::Encoder::~Encoder(v63, v62);
        bmalloc::api::tzoneFree(v77, v78);
      }

      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v58);
      if (WebKit::WebResourceLoadObserver::shouldLogUserInteraction == 1)
      {
        v64 = *(this + 13) + 1;
        *(this + 13) = v64;
        if (*v4 && (WTF::StringImpl::replace(), (v65 = *buf) != 0))
        {
          WTF::StringImpl::replace();
          if (atomic_fetch_add_explicit(v65, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v65, v66);
          }
        }

        else
        {
          v86 = 0;
        }

        if (v84 && (WTF::StringImpl::replace(), (v67 = *buf) != 0))
        {
          WTF::StringImpl::replace();
          if (atomic_fetch_add_explicit(v67, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v67, v68);
          }
        }

        else
        {
          v85 = 0;
        }

        v69 = qword_1ED641148;
        if (os_log_type_enabled(qword_1ED641148, OS_LOG_TYPE_DEFAULT))
        {
          WTF::String::utf8();
          if (v83)
          {
            v70 = v83 + 16;
          }

          else
          {
            v70 = 0;
          }

          *buf = 134218242;
          *&buf[4] = v64;
          *&buf[12] = 2082;
          *&buf[14] = v70;
          _os_log_impl(&dword_19D52D000, v69, OS_LOG_TYPE_DEFAULT, "ResourceLoadObserver::logUserInteraction: counter=%llu: { url: %{public}s,", buf, 0x16u);
          v72 = v83;
          v83 = 0;
          if (v72)
          {
            if (*v72 == 1)
            {
              WTF::fastFree(v72, v71);
            }

            else
            {
              --*v72;
            }
          }

          v69 = qword_1ED641148;
        }

        if (os_log_type_enabled(v69, OS_LOG_TYPE_DEFAULT))
        {
          WTF::String::utf8();
          if (v83)
          {
            v73 = v83 + 16;
          }

          else
          {
            v73 = 0;
          }

          *buf = 134218242;
          *&buf[4] = v64;
          *&buf[12] = 2082;
          *&buf[14] = v73;
          _os_log_impl(&dword_19D52D000, v69, OS_LOG_TYPE_DEFAULT, "ResourceLoadObserver::logUserInteraction: counter=%llu:   domain : %{public}s,", buf, 0x16u);
          if (v83)
          {
            if (*v83 == 1)
            {
              WTF::fastFree(v83, v74);
            }

            else
            {
              --*v83;
            }
          }

          v69 = qword_1ED641148;
        }

        if (os_log_type_enabled(v69, OS_LOG_TYPE_DEFAULT))
        {
          *buf = 134218240;
          *&buf[4] = v64;
          *&buf[12] = 2048;
          *&buf[14] = v8;
          _os_log_impl(&dword_19D52D000, v69, OS_LOG_TYPE_DEFAULT, "ResourceLoadObserver::logUserInteraction: counter=%llu:   until : %f }", buf, 0x16u);
        }

        v75 = v85;
        v85 = 0;
        if (v75 && atomic_fetch_add_explicit(v75, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v75, v10);
        }

        v76 = v86;
        v86 = 0;
        if (v76 && atomic_fetch_add_explicit(v76, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v76, v10);
        }
      }

      goto LABEL_116;
    }

    WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::WallTime>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::WallTime>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::WallTime,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::WallTime>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(this + 3, v16);
    goto LABEL_31;
  }

LABEL_116:
  result = v84;
  v84 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v10);
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebResourceLoadObserver::logSubresourceLoadingForTesting(WTF::StringImpl *this, WTF **a2, WTF **a3, int a4)
{
  if ((*(this + 8) & 1) == 0)
  {
    v6 = this;
    v7 = WebKit::WebResourceLoadObserver::ensureResourceStatisticsForRegistrableDomain(this, a3, a3);
    WTF::WallTime::now(v7);
    WebCore::ResourceLoadStatistics::reduceTimeResolution();
    *(v7 + 1) = v8;
    this = WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v7 + 13, a2, v9, v10);
    if (a4)
    {
      return WebKit::WebResourceLoadObserver::scheduleNotificationIfNeeded(v6);
    }

    else if ((*(v6 + 8) & 0xFFFFFFFFFFFFLL) != 0)
    {
      return WebCore::TimerBase::stopSlowCase((v6 + 32));
    }
  }

  return this;
}

uint64_t WebKit::WebResourceLoadObserver::hasCrossPageStorageAccess(WebKit::WebResourceLoadObserver *this, WTF **a2, WTF **a3)
{
  if (!*(this + 12))
  {
    return 0;
  }

  if (WTF::equal(*a3, 0, a3))
  {
    goto LABEL_31;
  }

  if (*a3 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3AEEDCLL);
  }

  v7 = *(this + 12);
  if (!v7)
  {
    return 0;
  }

  v8 = *(v7 - 8);
  v9 = WTF::ASCIICaseInsensitiveHash::hash(*a3, v6) & v8;
  v10 = v7 + 16 * v9;
  if (WTF::equal(*v10, 0, v11))
  {
LABEL_10:
    v14 = *(this + 12);
    if (!v14)
    {
      return 0;
    }

    v10 = v14 + 16 * *(v14 - 4);
    goto LABEL_12;
  }

  v13 = 1;
  while (*v10 == -1 || (WTF::equalIgnoringASCIICase(*v10, *a3, v12) & 1) == 0)
  {
    v9 = (v9 + v13) & v8;
    v10 = v7 + 16 * v9;
    ++v13;
    if (WTF::equal(*v10, 0, v12))
    {
      goto LABEL_10;
    }
  }

  v14 = *(this + 12);
  if (v14)
  {
LABEL_12:
    v14 += 16 * *(v14 - 4);
  }

  if (v14 == v10 || !*(v10 + 8))
  {
    return 0;
  }

  if (WTF::equal(*a2, 0, v12))
  {
    __break(0xC471u);
    JUMPOUT(0x19E3AEEFCLL);
  }

  if (*a2 == -1)
  {
LABEL_31:
    __break(0xC471u);
    JUMPOUT(0x19E3AEEBCLL);
  }

  v16 = *(v10 + 8);
  if (!v16)
  {
    return 0;
  }

  v17 = *(v16 - 8);
  v18 = WTF::ASCIICaseInsensitiveHash::hash(*a2, v15) & v17;
  v19 = (v16 + 8 * v18);
  if (WTF::equal(*v19, 0, v20))
  {
    return 0;
  }

  v22 = 1;
  while (*v19 == -1 || (WTF::equalIgnoringASCIICase(*v19, *a2, v21) & 1) == 0)
  {
    v18 = (v18 + v22) & v17;
    v19 = (v16 + 8 * v18);
    v23 = WTF::equal(*v19, 0, v21);
    result = 0;
    ++v22;
    if (v23)
    {
      return result;
    }
  }

  return 1;
}

uint64_t WebKit::WebResourceLoadObserver::setDomainsWithCrossPageStorageAccess(uint64_t a1, uint64_t *a2, const WTF::StringImpl *a3)
{
  v6 = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::begin(a2, a2, a3);
  v9 = v6;
  v38[0] = v6;
  v38[1] = v7;
  if (*a2)
  {
    v10 = *a2 + 24 * *(*a2 - 4);
  }

  else
  {
    v10 = 0;
  }

  if (v10 == v6)
  {
LABEL_4:
    v11 = *a3;
    *a3 = 0;
    (*(*v11 + 16))(v11);
    return (*(*v11 + 8))(v11);
  }

  while (1)
  {
    v13 = *(v9 + 20);
    if (v13)
    {
      break;
    }

LABEL_41:
    v38[0] = v9 + 24;
    WTF::HashTableConstIterator<WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>,WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>>::skipEmptyBuckets(v38, v7, v8);
    v9 = v38[0];
    if (v38[0] == v10)
    {
      goto LABEL_4;
    }
  }

  v32 = v10;
  v14 = *(v9 + 8);
  v33 = &v14[v13];
  while (!WTF::equal(*v9, 0, v8))
  {
    if (*v9 == -1)
    {
      __break(0xC471u);
LABEL_44:
      __break(1u);
      break;
    }

    v16 = *(a1 + 96);
    if (v16 || (WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand((a1 + 96), 0), (v16 = *(a1 + 96)) != 0))
    {
      v17 = *(v16 - 8);
    }

    else
    {
      v17 = 0;
    }

    v18 = WTF::ASCIICaseInsensitiveHash::hash(*v9, v15) & v17;
    v19 = v16 + 16 * v18;
    if ((WTF::equal(*v19, 0, v20) & 1) == 0)
    {
      v29 = 0;
      v30 = 1;
      do
      {
        if (*v19 == -1)
        {
          v29 = v19;
        }

        else if (WTF::equalIgnoringASCIICase(*v19, *v9, v21))
        {
          goto LABEL_20;
        }

        v18 = (v18 + v30) & v17;
        v19 = v16 + 16 * v18;
        ++v30;
      }

      while (!WTF::equal(*v19, 0, v21));
      if (v29)
      {
        *v29 = 0;
        v29[1] = 0;
        --*(*(a1 + 96) - 16);
        v19 = v29;
      }
    }

    WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v19, v9);
    v23 = *(v19 + 8);
    *(v19 + 8) = 0;
    if (v23)
    {
      WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v23, v22);
    }

    v24 = *(a1 + 96);
    if (v24)
    {
      v25 = *(v24 - 12) + 1;
    }

    else
    {
      v25 = 1;
    }

    *(v24 - 12) = v25;
    v26 = (*(v24 - 16) + v25);
    v27 = *(v24 - 4);
    if (v27 <= 0x400)
    {
      if (3 * v27 > 4 * v26)
      {
        goto LABEL_20;
      }

LABEL_19:
      v19 = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand((a1 + 96), v19);
      goto LABEL_20;
    }

    if (v27 <= 2 * v26)
    {
      goto LABEL_19;
    }

LABEL_20:
    WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((v19 + 8), v14, v21, v37);
    WebCore::NetworkStorageSession::findAdditionalLoginDomain();
    if (v36 == 1)
    {
      WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::ensure<WebKit::WebResourceLoadObserver::setDomainsWithCrossPageStorageAccess(WTF::HashMap<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)::$_1>(v37, (a1 + 96), v9);
      if ((v36 & 1) == 0)
      {
        goto LABEL_44;
      }

      WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((v37[0] + 8), &v35, v28, v34);
      if (v36)
      {
        v31 = v35;
        v35 = 0;
        if (v31)
        {
          if (atomic_fetch_add_explicit(v31, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v31, v7);
          }
        }
      }
    }

    if (++v14 == v33)
    {
      v9 = v38[0];
      v10 = v32;
      goto LABEL_41;
    }
  }

  result = 371;
  __break(0xC471u);
  return result;
}

WTF::StringImpl **WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::ensure<WebKit::WebResourceLoadObserver::setDomainsWithCrossPageStorageAccess(WTF::HashMap<WebCore::RegistrableDomain,WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(void)> &&)::$_1>(uint64_t a1, uint64_t *a2, WTF **a3)
{
  if (WTF::equal(*a3, 0, a3) || *a3 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3AF448);
  }

  v7 = *a2;
  if (*a2 || (WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(a2, 0), (v7 = *a2) != 0))
  {
    v8 = *(v7 - 8);
  }

  else
  {
    v8 = 0;
  }

  v9 = WTF::ASCIICaseInsensitiveHash::hash(*a3, v6) & v8;
  v10 = v7 + 16 * v9;
  if ((WTF::equal(*v10, 0, v11) & 1) == 0)
  {
    v13 = 0;
    v14 = 1;
    do
    {
      if (*v10 == -1)
      {
        v13 = v10;
      }

      else
      {
        result = WTF::equalIgnoringASCIICase(*v10, *a3, v12);
        if (result)
        {
          v21 = *a2;
          if (*a2)
          {
            v22 = *(v21 - 4);
          }

          else
          {
            v22 = 0;
          }

          v24 = 0;
          v23 = v21 + 16 * v22;
          goto LABEL_28;
        }
      }

      v9 = (v9 + v14) & v8;
      v10 = v7 + 16 * v9;
      ++v14;
    }

    while (!WTF::equal(*v10, 0, v12));
    if (v13)
    {
      *v13 = 0;
      v13[1] = 0;
      --*(*a2 - 16);
      v10 = v13;
    }
  }

  WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v10, a3);
  result = *(v10 + 8);
  *(v10 + 8) = 0;
  if (result)
  {
    result = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(result, v16);
  }

  v17 = *a2;
  if (*a2)
  {
    v18 = *(v17 - 12) + 1;
  }

  else
  {
    v18 = 1;
  }

  *(v17 - 12) = v18;
  v19 = (*(v17 - 16) + v18);
  v20 = *(v17 - 4);
  if (v20 > 0x400)
  {
    if (v20 <= 2 * v19)
    {
LABEL_22:
      result = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(a2, v10);
      v10 = result;
      v17 = *a2;
      if (*a2)
      {
        v20 = *(v17 - 4);
      }

      else
      {
        v20 = 0;
      }
    }
  }

  else if (3 * v20 <= 4 * v19)
  {
    goto LABEL_22;
  }

  v23 = v17 + 16 * v20;
  v24 = 1;
LABEL_28:
  *a1 = v10;
  *(a1 + 8) = v23;
  *(a1 + 16) = v24;
  return result;
}

uint64_t WebKit::WebScreenOrientationManager::WebScreenOrientationManager(WebKit::WebScreenOrientationManager *this, WebKit::WebPage *a2)
{
  v4 = WebCore::ScreenOrientationManager::ScreenOrientationManager(this);
  v5 = (v4 + 4);
  *v4 = &unk_1F1132690;
  v4[4] = &unk_1F11326F0;
  v4[5] = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a2 + 6, a2 + 16);
  v7 = *(a2 + 3);
  atomic_fetch_add(v7, 1u);
  *(this + 7) = 0;
  *(this + 8) = 0;
  *(this + 6) = v7;
  *(this + 36) = 0;
  {
    v8 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v12 = WebKit::WebProcess::operator new(0x370, v6);
    v8 = WebKit::WebProcess::WebProcess(v12);
    WebKit::WebProcess::singleton(void)::process = v8;
    v7 = *(this + 6);
  }

  v9 = *(v7 + 8);
  if (v9)
  {
    v10 = *(v9 + 32);
    v14[0] = 202;
    v14[1] = v10;
    WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v8 + 7, v14, v5, v13);
    return this;
  }

  else
  {
    result = 92;
    __break(0xC471u);
  }

  return result;
}

void WebKit::WebScreenOrientationManager::~WebScreenOrientationManager(unsigned int **this, void *a2)
{
  v3 = WebKit::WebProcess::singleton(this, a2);
  v4 = *(this[6] + 1);
  if (v4)
  {
    WebKit::AuxiliaryProcess::removeMessageReceiver(v3, 0xCAu, *(v4 + 32));
    v6 = this[7];
    if (v6)
    {
      WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(v6, v5);
    }

    v7 = this[6];
    this[6] = 0;
    if (v7 && atomic_fetch_add(v7, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v7);
      WTF::fastFree(v7, v5);
    }

    this[4] = &unk_1F10EA5E0;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 5, v5);
    v11 = this;
  }

  else
  {
    v8 = "/AppleInternal/Library/BuildRoots/4~CAtBugAdX2ypK3woS13W0YBGfMX4uuy1xhucdh4/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.1.Internal.sdk/usr/local/include/wtf/WeakRef.h";
    v9 = "T *WTF::WeakRef<WebKit::WebPage>::ptr() const [T = WebKit::WebPage, WeakPtrImpl = WTF::DefaultWeakPtrImpl]";
    v11 = 92;
    v10 = 48;
    __break(0xC471u);
  }

  MEMORY[0x1EEE59178](v11, v8, v9, v10);
}

{
  WebKit::WebScreenOrientationManager::~WebScreenOrientationManager(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

void non-virtual thunk toWebKit::WebScreenOrientationManager::~WebScreenOrientationManager(unsigned int **this, void *a2)
{
  WebKit::WebScreenOrientationManager::~WebScreenOrientationManager(this - 4, a2);
}

{
  WebKit::WebScreenOrientationManager::~WebScreenOrientationManager(this - 4, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

uint64_t WebKit::WebScreenOrientationManager::ref(WebKit::WebScreenOrientationManager *this)
{
  v1 = *(*(this + 6) + 8);
  if (v1)
  {
    return CFRetain(*(v1 - 8));
  }

  result = 92;
  __break(0xC471u);
  return result;
}

void WebKit::WebScreenOrientationManager::deref(WebKit::WebScreenOrientationManager *this)
{
  v1 = *(*(this + 6) + 8);
  if (v1)
  {
    CFRelease(*(v1 - 8));
  }

  else
  {
    __break(0xC471u);
  }
}

uint64_t WebKit::WebScreenOrientationManager::currentOrientation(WebKit::WebScreenOrientationManager *this)
{
  if (*(this + 73) == 1)
  {
    return *(this + 72);
  }

  v4 = *(*(this + 6) + 8);
  if (v4)
  {
    CFRetain(*(v4 - 8));
    v5 = (*(*(v4 + 16) + 56))(v4 + 16);
    v6 = (*(*(v4 + 16) + 48))(v4 + 16);
    v7 = v6;
    if (!v6)
    {
      v12 = 3;
LABEL_24:
      CFRelease(*(v4 - 8));
      if (PAL::deviceHasIPadCapability(v20))
      {
        v3 = 2;
      }

      else
      {
        v3 = 0;
      }

      if (!WTF::WeakHashSet<WebKit::ProcessThrottlerActivity,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::isEmptyIgnoringNullReferences(this + 7))
      {
        if (v7)
        {
          v21 = v1;
        }

        else
        {
          v21 = v3;
        }

        *(this + 36) = v21 | 0x100;
      }

      if (v7)
      {
        if (v12)
        {
          IPC::Decoder::~Decoder(v12);
          bmalloc::api::tzoneFree(v25, v26);
        }

        return v1;
      }

      return v3;
    }

    while (1)
    {
      v8 = *v6;
      if ((*v6 & 1) == 0)
      {
        break;
      }

      v9 = *v6;
      atomic_compare_exchange_strong_explicit(v6, &v9, v8 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v9 == v8)
      {
        goto LABEL_9;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v6);
LABEL_9:
    IPC::Connection::createSyncMessageEncoder(0x107E, v5, v31);
    v10 = IPC::Connection::sendSyncMessage(v7, v31[1], v31, 0, &v29, INFINITY);
    if (v30)
    {
      if (v30 != 1)
      {
        mpark::throw_bad_variant_access(v10);
      }

      v12 = v29;
      v13 = 1;
LABEL_21:
      v19 = v31[0];
      v31[0] = 0;
      if (v19)
      {
        IPC::Encoder::~Encoder(v19, v11);
        bmalloc::api::tzoneFree(v23, v24);
      }

      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v7);
      LODWORD(v7) = v13 == 0;
      goto LABEL_24;
    }

    v12 = v29;
    v29 = 0;
    if (*(v12 + 50) == 3194)
    {
      v14 = 11;
    }

    else
    {
      v15 = IPC::Decoder::decode<std::tuple<WebCore::ScreenOrientationType>>(v12);
      if (v15 >= 0x100u)
      {
        v1 = v15;
        v13 = 0;
        goto LABEL_18;
      }

      v14 = 14;
    }

    IPC::Decoder::~Decoder(v12);
    bmalloc::api::tzoneFree(v16, v17);
    v13 = 1;
    v12 = v14;
LABEL_18:
    if (!v30)
    {
      v18 = v29;
      v29 = 0;
      if (v18)
      {
        IPC::Decoder::~Decoder(v18);
        bmalloc::api::tzoneFree(v27, v28);
      }
    }

    goto LABEL_21;
  }

  result = 103;
  __break(0xC471u);
  return result;
}

void *WebKit::WebScreenOrientationManager::orientationDidChange(uint64_t a1, uint64_t a2)
{
  *(a1 + 72) = a2 | 0x100;
  v4 = a1 + 56;
  WTF::WeakHashSet<WebKit::ApplicationStateTracker,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin((a1 + 56), &v14);
  v5 = *(a1 + 56);
  if (v5)
  {
    v6 = *(v5 - 4);
    v7 = v5 + 8 * v6;
  }

  else
  {
    v7 = 0;
    v6 = 0;
  }

  v9 = v4;
  v10 = v7;
  v11 = v7;
  v12 = v7;
  v13 = v5 + 8 * v6;
  result = WTF::WeakHashSet<WebKit::RemoteLayerBackingStore,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v9);
  while (v15 != v10)
  {
    (*(**(*v15 + 8) + 16))(*(*v15 + 8), a2);
    result = WTF::WeakHashSet<WebKit::RemoteLayerBackingStore,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(&v14);
  }

  return result;
}

void WebKit::WebScreenOrientationManager::lock(uint64_t a1, char a2, uint64_t *a3)
{
  v3 = *(*(a1 + 48) + 8);
  if (!v3)
  {
    __break(0xC471u);
    goto LABEL_10;
  }

  CFRetain(*(v3 - 8));
  v6 = (*(*(v3 + 16) + 56))(v3 + 16);
  v8 = IPC::Encoder::operator new(0x238, v7);
  *v8 = 3144;
  *(v8 + 2) = 0;
  *(v8 + 3) = 0;
  *(v8 + 1) = v6;
  *(v8 + 68) = 0;
  *(v8 + 70) = 0;
  *(v8 + 69) = 0;
  IPC::Encoder::encodeHeader(v8);
  v19 = v8;
  LOBYTE(v18[0]) = a2;
  IPC::Encoder::operator<<<unsigned char>(v8, v18);
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F11329A0;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    __break(0xC471u);
LABEL_10:
    JUMPOUT(0x19E3AFC18);
  }

  v11 = v10;
  IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
  v18[0] = v11;
  v18[1] = IdentifierInternal;
  (*(*(v3 + 16) + 40))(v3 + 16, &v19, v18, 0);
  v14 = v18[0];
  v18[0] = 0;
  if (v14)
  {
    (*(*v14 + 8))(v14);
  }

  v15 = v19;
  v19 = 0;
  if (v15)
  {
    IPC::Encoder::~Encoder(v15, v13);
    bmalloc::api::tzoneFree(v16, v17);
  }

  CFRelease(*(v3 - 8));
}

void WebKit::WebScreenOrientationManager::unlock(WebKit::WebScreenOrientationManager *this)
{
  v1 = *(*(this + 6) + 8);
  if (v1)
  {
    CFRetain(*(v1 - 8));
    v2 = (*(*(v1 + 16) + 56))(v1 + 16);
    v4 = IPC::Encoder::operator new(0x238, v3);
    *v4 = 3146;
    *(v4 + 2) = 0;
    *(v4 + 3) = 0;
    *(v4 + 1) = v2;
    *(v4 + 68) = 0;
    *(v4 + 70) = 0;
    *(v4 + 69) = 0;
    IPC::Encoder::encodeHeader(v4);
    v9 = v4;
    (*(*(v1 + 16) + 32))(v1 + 16, &v9, 0);
    v6 = v9;
    v9 = 0;
    if (v6)
    {
      IPC::Encoder::~Encoder(v6, v5);
      bmalloc::api::tzoneFree(v7, v8);
    }

    CFRelease(*(v1 - 8));
  }

  else
  {
    __break(0xC471u);
  }
}

void WebKit::WebScreenOrientationManager::addObserver(uint64_t a1, uint64_t a2)
{
  isEmptyIgnoringNullReferences = WTF::WeakHashSet<WebKit::ProcessThrottlerActivity,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::isEmptyIgnoringNullReferences((a1 + 56));
  v6 = *(a1 + 68);
  v7 = *(a1 + 64) + 1;
  *(a1 + 64) = v7;
  if (v7 > v6)
  {
    v8 = *(a1 + 56);
    if (v8)
    {
      v9 = *(v8 - 4);
      if (!v9)
      {
LABEL_15:
        v15 = *(v8 - 4);
        if (6 * *(v8 - 12) < v15 && v15 > 8)
        {
          WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize((a1 + 56));
          v8 = *(a1 + 56);
          *(a1 + 64) = 0;
          if (!v8)
          {
            goto LABEL_22;
          }
        }

        else
        {
          *(a1 + 64) = 0;
        }

        LODWORD(v8) = *(v8 - 12);
        if (v8 > 0x7FFFFFFE)
        {
          v17 = -2;
          goto LABEL_24;
        }

LABEL_22:
        v17 = 2 * v8;
LABEL_24:
        *(a1 + 68) = v17;
        goto LABEL_25;
      }

      v10 = 0;
      v11 = 8 * v9;
      v12 = v8 - 8;
      do
      {
        v13 = *(v12 + v11);
        if ((v13 + 1) >= 2 && !*(v13 + 8))
        {
          *(v12 + v11) = 0;
          if (atomic_fetch_add(v13, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v13);
            WTF::fastFree(v13, v4);
          }

          *(v12 + v11) = -1;
          ++v10;
        }

        v11 -= 8;
      }

      while (v11);
      v8 = *(a1 + 56);
      if (v10)
      {
        v14 = *(v8 - 12) - v10;
        *(v8 - 16) += v10;
        *(v8 - 12) = v14;
        goto LABEL_15;
      }

      if (v8)
      {
        goto LABEL_15;
      }
    }

    LODWORD(v8) = 0;
    *(a1 + 64) = 0;
    goto LABEL_22;
  }

LABEL_25:
  if (!*(a2 + 8))
  {
    v19 = WTF::fastCompactMalloc(0x10);
    *v19 = 1;
    *(v19 + 8) = a2;
    v20 = *(a2 + 8);
    *(a2 + 8) = v19;
    if (v20)
    {
      if (atomic_fetch_add(v20, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v20);
        WTF::fastFree(v20, v18);
      }
    }
  }

  v21 = *(a2 + 8);
  atomic_fetch_add(v21, 1u);
  v33 = v21;
  WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((a1 + 56), &v33, v32);
  v23 = v33;
  v33 = 0;
  if (v23 && atomic_fetch_add(v23, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v23);
    WTF::fastFree(v23, v22);
  }

  if (isEmptyIgnoringNullReferences)
  {
    v24 = *(*(a1 + 48) + 8);
    if (v24)
    {
      CFRetain(*(v24 - 8));
      LOBYTE(v33) = 1;
      v25 = (*(*(v24 + 16) + 56))(v24 + 16);
      v27 = IPC::Encoder::operator new(0x238, v26);
      *v27 = 3145;
      *(v27 + 2) = 0;
      *(v27 + 3) = 0;
      *(v27 + 1) = v25;
      *(v27 + 68) = 0;
      *(v27 + 70) = 0;
      *(v27 + 69) = 0;
      IPC::Encoder::encodeHeader(v27);
      v32[0] = v27;
      IPC::Encoder::operator<<<BOOL &>(v27, &v33);
      (*(*(v24 + 16) + 32))(v24 + 16, v32, 0);
      v29 = v32[0];
      v32[0] = 0;
      if (v29)
      {
        IPC::Encoder::~Encoder(v29, v28);
        bmalloc::api::tzoneFree(v30, v31);
      }

      CFRelease(*(v24 - 8));
    }

    else
    {
      __break(0xC471u);
    }
  }
}

void WebKit::WebScreenOrientationManager::removeObserver(uint64_t a1, IPC::Encoder **a2)
{
  v4 = *(a1 + 68);
  v5 = *(a1 + 64) + 1;
  *(a1 + 64) = v5;
  if (v5 > v4)
  {
    v6 = *(a1 + 56);
    if (v6)
    {
      v7 = *(v6 - 4);
      if (!v7)
      {
LABEL_15:
        v13 = *(v6 - 4);
        if (6 * *(v6 - 12) < v13 && v13 > 8)
        {
          WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize((a1 + 56));
          v6 = *(a1 + 56);
          *(a1 + 64) = 0;
          if (!v6)
          {
            goto LABEL_22;
          }
        }

        else
        {
          *(a1 + 64) = 0;
        }

        LODWORD(v6) = *(v6 - 12);
        if (v6 > 0x7FFFFFFE)
        {
          v15 = -2;
          goto LABEL_24;
        }

LABEL_22:
        v15 = 2 * v6;
LABEL_24:
        *(a1 + 68) = v15;
        goto LABEL_25;
      }

      v8 = 0;
      v9 = 8 * v7;
      v10 = v6 - 8;
      do
      {
        v11 = *(v10 + v9);
        if ((v11 + 1) >= 2 && !*(v11 + 8))
        {
          *(v10 + v9) = 0;
          if (atomic_fetch_add(v11, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v11);
            WTF::fastFree(v11, a2);
          }

          *(v10 + v9) = -1;
          ++v8;
        }

        v9 -= 8;
      }

      while (v9);
      v6 = *(a1 + 56);
      if (v8)
      {
        v12 = *(v6 - 12) - v8;
        *(v6 - 16) += v8;
        *(v6 - 12) = v12;
        goto LABEL_15;
      }

      if (v6)
      {
        goto LABEL_15;
      }
    }

    LODWORD(v6) = 0;
    *(a1 + 64) = 0;
    goto LABEL_22;
  }

LABEL_25:
  v16 = a2[1];
  if (v16 && *(v16 + 1))
  {
    v29 = a2[1];
    v17 = WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::find<WTF::HashSetTranslator<WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>>,(WTF::ShouldValidateKey)1,WTF::DefaultWeakPtrImpl const*>((a1 + 56), &v29);
    v18 = *(a1 + 56);
    if (v18)
    {
      v19 = (v18 + 8 * *(v18 - 4));
      if (v19 == v17)
      {
        goto LABEL_34;
      }
    }

    else
    {
      if (!v17)
      {
        goto LABEL_34;
      }

      v19 = 0;
    }

    if (v19 != v17)
    {
      WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::remove((a1 + 56), v17);
    }
  }

LABEL_34:
  if (WTF::WeakHashSet<WebKit::ProcessThrottlerActivity,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::isEmptyIgnoringNullReferences((a1 + 56)))
  {
    if (*(a1 + 73) == 1)
    {
      *(a1 + 73) = 0;
    }

    v20 = *(*(a1 + 48) + 8);
    if (v20)
    {
      CFRetain(*(v20 - 8));
      v28 = 0;
      v21 = (*(*(v20 + 16) + 56))(v20 + 16);
      v23 = IPC::Encoder::operator new(0x238, v22);
      *v23 = 3145;
      *(v23 + 2) = 0;
      *(v23 + 3) = 0;
      *(v23 + 1) = v21;
      *(v23 + 68) = 0;
      *(v23 + 70) = 0;
      *(v23 + 69) = 0;
      IPC::Encoder::encodeHeader(v23);
      v29 = v23;
      IPC::Encoder::operator<<<BOOL &>(v23, &v28);
      (*(*(v20 + 16) + 32))(v20 + 16, &v29, 0);
      v25 = v29;
      v29 = 0;
      if (v25)
      {
        IPC::Encoder::~Encoder(v25, v24);
        bmalloc::api::tzoneFree(v26, v27);
      }

      CFRelease(*(v20 - 8));
    }

    else
    {
      __break(0xC471u);
    }
  }
}

uint64_t WebKit::WebSearchPopupMenu::create@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  v6 = WTF::fastMalloc(0x18);
  *(v6 + 8) = 1;
  *v6 = &unk_1F1132738;
  v7 = WTF::fastMalloc(0x20);
  result = WebKit::WebPopupMenu::WebPopupMenu(v7, a1, a2);
  *(v6 + 16) = result;
  *a3 = v6;
  return result;
}

void WebKit::WebSearchPopupMenu::saveRecentSearches(uint64_t a1, void *a2, uint64_t *a3)
{
  if (*a2 && *(*a2 + 4))
  {
    v5 = *(a1 + 16);
    if (v5)
    {
      ++*(v5 + 8);
    }

    v6 = *(v5 + 24);
    if (v6 && (v7 = *(v6 + 8)) != 0)
    {
      v8 = v7 - 16;
      CFRetain(*(v7 - 8));
      v9 = 0;
    }

    else
    {
      v8 = 0;
      v9 = 1;
    }

    if (*(v5 + 8) == 1)
    {
      (*(*v5 + 8))(v5);
      if (v9)
      {
        return;
      }
    }

    else
    {
      --*(v5 + 8);
      if (v9)
      {
        return;
      }
    }

    {
      v10 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v23 = WebKit::WebProcess::operator new(0x370, a2);
      v10 = WebKit::WebProcess::WebProcess(v23);
      WebKit::WebProcess::singleton(void)::process = v10;
    }

    WebKit::AuxiliaryProcess::protectedParentProcessConnection(v10, &v24);
    v11 = v24;
    v12 = *(v8 + 48);
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 2344;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = v12;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    IPC::Encoder::encodeHeader(v14);
    v25 = v14;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, a2);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v14, *(a3 + 3));
    v15 = *(a3 + 3);
    if (v15)
    {
      v16 = *a3;
      v17 = v16 + 16 * v15;
      do
      {
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, v16);
        IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v14, *(v16 + 8));
        v16 += 16;
      }

      while (v16 != v17);
    }

    IPC::Connection::sendMessageImpl(v11, &v25, 0, 0);
    v19 = v25;
    v25 = 0;
    if (v19)
    {
      IPC::Encoder::~Encoder(v19, v18);
      bmalloc::api::tzoneFree(v21, v22);
    }

    v20 = v24;
    v24 = 0;
    if (v20)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v20);
    }

    CFRelease(*(v8 + 8));
  }
}

void WebKit::WebSearchPopupMenu::loadRecentSearches(uint64_t a1, void *a2, uint64_t a3)
{
  if (!*a2 || !*(*a2 + 4))
  {
    return;
  }

  v6 = *(a1 + 16);
  if (v6)
  {
    ++*(v6 + 8);
  }

  v7 = *(v6 + 24);
  if (v7 && (v8 = *(v7 + 8)) != 0)
  {
    v9 = v8 - 16;
    CFRetain(*(v8 - 8));
    v10 = 0;
  }

  else
  {
    v9 = 0;
    v10 = 1;
  }

  if (*(v6 + 8) == 1)
  {
    (*(*v6 + 8))(v6);
    if (v10)
    {
      return;
    }
  }

  else
  {
    --*(v6 + 8);
    if (v10)
    {
      return;
    }
  }

  {
    v11 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v49 = WebKit::WebProcess::operator new(0x370, a2);
    v11 = WebKit::WebProcess::WebProcess(v49);
    WebKit::WebProcess::singleton(void)::process = v11;
  }

  WebKit::AuxiliaryProcess::protectedParentProcessConnection(v11, &v50);
  v12 = v50;
  IPC::Connection::createSyncMessageEncoder(0x103D, *(v9 + 48), v58);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v58[0], a2);
  v13 = IPC::Connection::sendSyncMessage(v12, v58[1], v58, 0, &v56, INFINITY);
  if (!v57)
  {
    v18 = v56;
    v56 = 0;
    if (*(v18 + 25) == 3194)
    {
      v19 = 11;
LABEL_18:
      LOBYTE(v51) = v19;
      v53 = 1;
      IPC::Decoder::~Decoder(v18);
      bmalloc::api::tzoneFree(v20, v21);
      v17 = 1;
LABEL_23:
      if (!v57)
      {
        v28 = v56;
        v56 = 0;
        if (v28)
        {
          IPC::Decoder::~Decoder(v28);
          bmalloc::api::tzoneFree(v37, v38);
        }
      }

      goto LABEL_26;
    }

    IPC::VectorArgumentCoder<false,WebCore::RecentSearch,0ul,WTF::CrashOnOverflow,16ul>::decode<IPC::Decoder>(v18, &v51, v16);
    if (BYTE8(v52))
    {
LABEL_20:
      v3 = v51;
      v51 = 0;
      v10 = v52;
      LODWORD(v12) = DWORD1(v52);
      *&v52 = 0;
      LOBYTE(v60) = 1;
      WTF::Vector<WebCore::SpeechRecognitionAlternativeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v51, v22);
      *&v23 = 0;
      *v59 = v23;
      v55 = 1;
      WTF::Vector<WebCore::SpeechRecognitionAlternativeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v59, v24);
      v54[0] = 0;
      v54[1] = 0;
      v59[0] = 0;
      v59[1] = 0;
      v51 = v18;
      *&v52 = v3;
      v60 = 0;
      *(&v52 + 1) = __PAIR64__(v12, v10);
      v53 = 0;
      WTF::Vector<WebCore::SpeechRecognitionAlternativeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v59[1], v25);
      v27 = v59[0];
      v59[0] = 0;
      if (v27)
      {
        IPC::Decoder::~Decoder(v27);
        bmalloc::api::tzoneFree(v41, v42);
      }

      WTF::Vector<WebCore::SpeechRecognitionAlternativeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v54, v26);
      v17 = 0;
      goto LABEL_23;
    }

    v43 = 0;
    v44 = *v18;
    v45 = *(v18 + 1);
    *v18 = 0;
    *(v18 + 1) = 0;
    v46 = *(v18 + 3);
    if (v46)
    {
      if (v45)
      {
        (*(*v46 + 16))(*(v18 + 3), v44);
        if (BYTE8(v52))
        {
          goto LABEL_20;
        }

        v43 = *(v18 + 3);
      }

      else
      {
        v43 = *(v18 + 3);
      }
    }

    v47 = *v18;
    v48 = *(v18 + 1);
    *v18 = 0;
    *(v18 + 1) = 0;
    if (v43 && v48)
    {
      (*(*v43 + 16))(v43, v47);
    }

    v19 = 14;
    goto LABEL_18;
  }

  if (v57 != 1)
  {
    mpark::throw_bad_variant_access(v13);
  }

  LOBYTE(v51) = v56;
  v17 = 1;
  v53 = 1;
LABEL_26:
  v29 = v58[0];
  v58[0] = 0;
  if (v29)
  {
    IPC::Encoder::~Encoder(v29, v14);
    bmalloc::api::tzoneFree(v35, v36);
  }

  v30 = v50;
  v50 = 0;
  if (v30)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v30);
  }

  if (!v17)
  {
    *&v15 = 0;
    v52 = v15;
    v31 = *(a3 + 12);
    if (v31)
    {
      WTF::VectorDestructor<true,WebCore::SpeechRecognitionAlternativeData>::destruct(*a3, (*a3 + 16 * v31));
    }

    v32 = *a3;
    if (*a3)
    {
      *a3 = 0;
      *(a3 + 8) = 0;
      WTF::fastFree(v32, v14);
    }

    *&v15 = 0;
    *v59 = v15;
    *a3 = v3;
    *(a3 + 8) = v10;
    *(a3 + 12) = v12;
    WTF::Vector<WebCore::SpeechRecognitionAlternativeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v59, v14);
    WTF::Vector<WebCore::SpeechRecognitionAlternativeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v52, v33);
    v34 = v51;
    v51 = 0;
    if (v34)
    {
      IPC::Decoder::~Decoder(v34);
      bmalloc::api::tzoneFree(v39, v40);
    }
  }

  CFRelease(*(v9 + 8));
}

uint64_t WebKit::WebSpeechRecognitionConnection::WebSpeechRecognitionConnection(uint64_t a1, void *a2)
{
  *(a1 + 8) = 1;
  v3 = a1 + 16;
  v4 = a1 + 32;
  *a1 = &unk_1F1132778;
  *(a1 + 16) = &unk_1F11327F0;
  *(a1 + 24) = 0;
  *(a1 + 32) = &unk_1F1132838;
  *(a1 + 40) = a2;
  *(a1 + 48) = 0;
  {
    v5 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v16 = a1 + 16;
    v14 = WebKit::WebProcess::operator new(0x370, a2);
    v5 = WebKit::WebProcess::WebProcess(v14);
    v3 = v16;
    WebKit::WebProcess::singleton(void)::process = v5;
    a2 = *(a1 + 40);
  }

  v18[0] = 209;
  v18[1] = a2;
  WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v5 + 7, v18, v3, v17);
  v7 = IPC::Encoder::operator new(0x238, v6);
  *v7 = 2904;
  *(v7 + 68) = 0;
  *(v7 + 70) = 0;
  *(v7 + 69) = 0;
  *(v7 + 2) = 0;
  *(v7 + 3) = 0;
  *(v7 + 1) = 0;
  IPC::Encoder::encodeHeader(v7);
  v17[0] = v7;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v7, *(a1 + 40));
  (*(*(a1 + 32) + 32))(v4, v17, 0);
  v9 = v17[0];
  v17[0] = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v8);
    bmalloc::api::tzoneFree(v12, v13);
  }

  {
    v10 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v15 = WebKit::WebProcess::operator new(0x370, v8);
    v10 = WebKit::WebProcess::WebProcess(v15);
    WebKit::WebProcess::singleton(void)::process = v10;
  }

  WebKit::WebProcess::ensureSpeechRecognitionRealtimeMediaSourceManager(v10, v8);
  return a1;
}

void WebKit::WebSpeechRecognitionConnection::~WebSpeechRecognitionConnection(WebKit::WebSpeechRecognitionConnection *this, void *a2)
{
  v3 = IPC::Encoder::operator new(0x238, a2);
  *v3 = 2906;
  *(v3 + 68) = 0;
  *(v3 + 70) = 0;
  *(v3 + 69) = 0;
  *(v3 + 2) = 0;
  *(v3 + 3) = 0;
  *(v3 + 1) = 0;
  IPC::Encoder::encodeHeader(v3);
  v15 = v3;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v3, *(this + 5));
  (*(*(this + 4) + 32))(this + 32, &v15, 0);
  v5 = v15;
  v15 = 0;
  if (v5)
  {
    IPC::Encoder::~Encoder(v5, v4);
    bmalloc::api::tzoneFree(v12, v13);
  }

  {
    v6 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v14 = WebKit::WebProcess::operator new(0x370, v4);
    v6 = WebKit::WebProcess::WebProcess(v14);
    WebKit::WebProcess::singleton(void)::process = v6;
  }

  IPC::MessageReceiverMap::removeMessageReceiver((v6 + 48), (this + 16));
  v8 = *(this + 6);
  if (v8)
  {
    v9 = *(v8 - 4);
    if (v9)
    {
      v10 = (v8 + 8);
      do
      {
        if (*(v10 - 1) != -1)
        {
          v11 = *v10;
          *v10 = 0;
          if (v11)
          {
            if (atomic_fetch_add(v11, 0xFFFFFFFF) == 1)
            {
              atomic_store(1u, v11);
              WTF::fastFree(v11, v7);
            }
          }
        }

        v10 += 2;
        --v9;
      }

      while (v9);
    }

    WTF::fastFree((v8 - 16), v7);
  }

  *(this + 2) = &unk_1F10EA5E0;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 3, v7);
  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  WebKit::WebSpeechRecognitionConnection::~WebSpeechRecognitionConnection(this, a2);

  WTF::fastFree(v2, v3);
}

void non-virtual thunk toWebKit::WebSpeechRecognitionConnection::~WebSpeechRecognitionConnection(WebKit::WebSpeechRecognitionConnection *this, void *a2)
{
  WebKit::WebSpeechRecognitionConnection::~WebSpeechRecognitionConnection((this - 16), a2);
}

{
  WebKit::WebSpeechRecognitionConnection::~WebSpeechRecognitionConnection((this - 32), a2);
}

{
  WebKit::WebSpeechRecognitionConnection::~WebSpeechRecognitionConnection((this - 16), a2);

  WTF::fastFree(v2, v3);
}

{
  WebKit::WebSpeechRecognitionConnection::~WebSpeechRecognitionConnection((this - 32), a2);

  WTF::fastFree(v2, v3);
}

void WebKit::WebSpeechRecognitionConnection::registerClient(uint64_t a1, void *a2)
{
  v2 = a2[1];
  if (v2 == -1 || !v2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3B0F00);
  }

  v5 = *(a1 + 48);
  if (!v5)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 48));
    v5 = *(a1 + 48);
  }

  v6 = *(v5 - 8);
  v7 = (v2 + ~(v2 << 32)) ^ ((v2 + ~(v2 << 32)) >> 22);
  v8 = 9 * ((v7 + ~(v7 << 13)) ^ ((v7 + ~(v7 << 13)) >> 8));
  v9 = (v8 ^ (v8 >> 15)) + ~((v8 ^ (v8 >> 15)) << 27);
  v10 = v6 & ((v9 >> 31) ^ v9);
  v11 = (v5 + 16 * v10);
  v12 = *v11;
  if (*v11)
  {
    v13 = 0;
    v14 = 1;
    while (v12 != v2)
    {
      if (v12 == -1)
      {
        v13 = v11;
      }

      v10 = (v10 + v14) & v6;
      v11 = (v5 + 16 * v10);
      v12 = *v11;
      ++v14;
      if (!*v11)
      {
        if (v13)
        {
          *v13 = 0;
          v13[1] = 0;
          --*(*(a1 + 48) - 16);
          v11 = v13;
        }

        goto LABEL_13;
      }
    }
  }

  else
  {
LABEL_13:
    *v11 = v2;
    if (!a2[2])
    {
      v15 = WTF::fastCompactMalloc(0x10);
      *v15 = 1;
      *(v15 + 8) = a2;
      v16 = a2[2];
      a2[2] = v15;
      if (v16)
      {
        if (atomic_fetch_add(v16, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v16);
          WTF::fastFree(v16, a2);
        }
      }
    }

    v17 = a2[2];
    atomic_fetch_add(v17, 1u);
    v18 = v11[1];
    v11[1] = v17;
    if (v18 && atomic_fetch_add(v18, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v18);
      WTF::fastFree(v18, a2);
    }

    v19 = *(a1 + 48);
    if (v19)
    {
      v20 = *(v19 - 12) + 1;
    }

    else
    {
      v20 = 1;
    }

    *(v19 - 12) = v20;
    v21 = (*(v19 - 16) + v20);
    v22 = *(v19 - 4);
    if (v22 > 0x400)
    {
      if (v22 > 2 * v21)
      {
        return;
      }
    }

    else if (3 * v22 > 4 * v21)
    {
      return;
    }

    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::IDBServer::UniqueIDBDatabaseConnection,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::IDBDatabaseConnectionIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 48));
  }
}

void WebKit::WebSpeechRecognitionConnection::unregisterClient(uint64_t a1, uint64_t a2)
{
  v2 = (a1 + 48);
  v3 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( *(a1 + 48),  *(a2 + 8));
  if (*v2)
  {
    v4 = *v2 + 16 * *(*v2 - 4);
    if (v4 == v3)
    {
      return;
    }
  }

  else
  {
    if (!v3)
    {
      return;
    }

    v4 = 0;
  }

  if (v4 != v3)
  {

    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(v2, v3);
  }
}

void WebKit::WebSpeechRecognitionConnection::start(uint64_t a1, void *a2, uint64_t *a3, char a4, char a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  v42 = *MEMORY[0x1E69E9840];
  v39 = a2;
  {
    v15 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v31 = WebKit::WebProcess::operator new(0x370, a2);
    v15 = WebKit::WebProcess::WebProcess(v31);
    WebKit::WebProcess::singleton(void)::process = v15;
  }

  v16 = WebKit::WebProcess::webFrame(v15, a8, 1);
  if (v16)
  {
    v17 = v16;
    CFRetain(*(v16 + 8));
    v18 = *(v17 + 40);
    if (v18)
    {
      v19 = *(v18 + 8);
      if (v19)
      {
        ++*(v19 + 16);
        v20 = *(v19 + 120);
        if (!v20 || (v21 = *(v20 + 8)) == 0)
        {
          __break(0xC471u);
          return;
        }

        v32[0] = *(v21 + 32);
        WebKit::WebFrame::info(v17, 0, v41);
        v32[1] = &v39;
        v32[2] = a3;
        v33 = a4;
        v34[0] = a5;
        v35 = a6;
        v36 = a7;
        v37 = v32;
        v38 = v41;
        v23 = *(a1 + 32);
        v22 = a1 + 32;
        v24 = (*(v23 + 56))(v22);
        v26 = IPC::Encoder::operator new(0x238, v25);
        *v26 = 1750;
        *(v26 + 2) = 0;
        *(v26 + 3) = 0;
        *(v26 + 1) = v24;
        *(v26 + 68) = 0;
        *(v26 + 70) = 0;
        *(v26 + 69) = 0;
        IPC::Encoder::encodeHeader(v26);
        v40 = v26;
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, v39);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v26, a3);
        IPC::Encoder::operator<<<BOOL &>(v26, &v33);
        IPC::Encoder::operator<<<BOOL &>(v26, v34);
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, v35);
        IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v26, v36);
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, *v37);
        IPC::ArgumentCoder<WebKit::FrameInfoData,void>::encode(v26, v38);
        (*(*v22 + 32))(v22, &v40, 0);
        v28 = v40;
        v40 = 0;
        if (v28)
        {
          IPC::Encoder::~Encoder(v28, v27);
          bmalloc::api::tzoneFree(v29, v30);
        }

        WebKit::FrameInfoData::~FrameInfoData(v41);
        if (*(v19 + 16) == 1)
        {
          (*(*v19 + 8))(v19);
        }

        else
        {
          --*(v19 + 16);
        }
      }
    }

    CFRelease(*(v17 + 8));
  }
}

IPC::Encoder *WebKit::WebSpeechRecognitionConnection::stop(uint64_t a1, uint64_t a2)
{
  v3 = a1 + 32;
  v4 = (*(*(a1 + 32) + 56))(a1 + 32);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 1751;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, a2);
  (*(*v3 + 32))(v3, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

IPC::Encoder *WebKit::WebSpeechRecognitionConnection::abort(uint64_t a1, uint64_t a2)
{
  v3 = a1 + 32;
  v4 = (*(*(a1 + 32) + 56))(a1 + 32);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 1748;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, a2);
  (*(*v3 + 32))(v3, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

WTF::StringImpl *WebKit::WebSpeechRecognitionConnection::didReceiveUpdate(uint64_t a1, WebCore::SpeechRecognitionUpdate *this)
{
  v4 = (a1 + 48);
  result = *(a1 + 48);
  if (!result)
  {
    return result;
  }

  v5 = *this;
  if (*this == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3B1928);
  }

  if (!v5)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3B1948);
  }

  v6 = *(result - 2);
  v7 = (v5 + ~(v5 << 32)) ^ ((v5 + ~(v5 << 32)) >> 22);
  v8 = 9 * ((v7 + ~(v7 << 13)) ^ ((v7 + ~(v7 << 13)) >> 8));
  v9 = (v8 ^ (v8 >> 15)) + ~((v8 ^ (v8 >> 15)) << 27);
  v10 = v6 & ((v9 >> 31) ^ v9);
  v11 = *(result + 2 * v10);
  if (v11 == v5)
  {
LABEL_8:
    if (v5 == -1)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3B1968);
    }

    if (v11 == v5)
    {
LABEL_13:
      v16 = *(result + 2 * v10 + 1);
      v17 = 1;
      if (v16)
      {
        atomic_fetch_add(v16, 1u);
        v18 = *(v16 + 8);
        if (v18)
        {
          v19 = *(this + 8);
          if (v19 <= 4)
          {
            if (*(this + 8) <= 1u)
            {
              if (*(this + 8))
              {
                result = (*(*v18 + 24))(*(v16 + 8));
              }

              else
              {
                result = (*(*v18 + 16))(*(v16 + 8));
              }
            }

            else
            {
              switch(v19)
              {
                case 2u:
                  result = (*(*v18 + 32))(*(v16 + 8));
                  break;
                case 3u:
                  result = (*(*v18 + 40))(*(v16 + 8));
                  break;
                case 4u:
                  result = (*(*v18 + 48))(*(v16 + 8));
                  break;
              }
            }
          }

          else if (*(this + 8) > 7u)
          {
            switch(v19)
            {
              case 8u:
                result = (*(*v18 + 72))(*(v16 + 8));
                break;
              case 9u:
                WebCore::SpeechRecognitionUpdate::error(&v31, this);
                (*(*v18 + 88))(v18, &v31);
                result = v32;
                v32 = 0;
                if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  result = WTF::StringImpl::destroy(result, this);
                }

                break;
              case 0xAu:
                result = (*(*v18 + 96))(*(v16 + 8));
                break;
            }
          }

          else
          {
            switch(v19)
            {
              case 5u:
                result = (*(*v18 + 56))(*(v16 + 8));
                break;
              case 6u:
                result = (*(*v18 + 64))(*(v16 + 8));
                break;
              case 7u:
                WebCore::SpeechRecognitionUpdate::result(&v31, this);
                (*(*v18 + 80))(v18, &v31);
                result = WTF::Vector<WebCore::SpeechRecognitionResultData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v31, v20);
                break;
            }
          }

          goto LABEL_54;
        }

        v17 = 0;
        result = *v4;
      }
    }

    else
    {
      v15 = 1;
      while (v11)
      {
        v10 = (v10 + v15) & v6;
        v11 = *(result + 2 * v10);
        ++v15;
        if (v11 == v5)
        {
          goto LABEL_13;
        }
      }

      v16 = 0;
      v17 = 1;
    }

    v21 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( result,  v5);
    v22 = v21;
    if (*v4)
    {
      v23 = *v4 + 16 * *(*v4 - 4);
      if (v23 == v21)
      {
        goto LABEL_35;
      }
    }

    else
    {
      if (!v21)
      {
        goto LABEL_35;
      }

      v23 = 0;
    }

    if (v23 != v21)
    {
      WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::RemoteLegacyCDMSession,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::RemoteLegacyCDMSessionIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(v4, v21);
    }

LABEL_35:
    v25 = *(a1 + 32);
    v24 = a1 + 32;
    v26 = (*(v25 + 56))(v24, v22);
    v28 = IPC::Encoder::operator new(0x238, v27);
    *v28 = 1749;
    *(v28 + 2) = 0;
    *(v28 + 3) = 0;
    *(v28 + 1) = v26;
    *(v28 + 68) = 0;
    *(v28 + 70) = 0;
    *(v28 + 69) = 0;
    IPC::Encoder::encodeHeader(v28);
    v31 = v28;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v28, v5);
    (*(*v24 + 32))(v24, &v31, 0);
    result = v31;
    v31 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, this);
      result = bmalloc::api::tzoneFree(v29, v30);
    }

    if (v17)
    {
      return result;
    }

LABEL_54:
    if (atomic_fetch_add(v16, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v16);
      return WTF::fastFree(v16, this);
    }

    return result;
  }

  v12 = 1;
  v13 = *(result + 2 * v10);
  v14 = v10;
  while (v13)
  {
    v14 = (v14 + v12) & v6;
    v13 = *(result + 2 * v14);
    ++v12;
    if (v13 == v5)
    {
      goto LABEL_8;
    }
  }

  return result;
}

uint64_t WebKit::WebSpeechRecognitionConnection::messageSenderConnection(WebKit::WebSpeechRecognitionConnection *this, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v4 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v4);
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  return *(v2 + 5);
}

uint64_t non-virtual thunk toWebKit::WebSpeechRecognitionConnection::messageSenderConnection(WebKit::WebSpeechRecognitionConnection *this, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v4 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v4);
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  return *(v2 + 5);
}

void WebKit::WebProcessSyncClient::~WebProcessSyncClient(WebKit::WebProcessSyncClient *this, void *a2)
{
  WebKit::WebProcessSyncClient::~WebProcessSyncClient(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

{
  v3 = *(this + 1);
  *this = &unk_1F1132488;
  *(this + 1) = 0;
  if (v3)
  {
    if (atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v3);
      WTF::fastFree(v3, a2);
    }
  }
}

void WebKit::WebProgressTrackerClient::~WebProgressTrackerClient(WebKit::WebProgressTrackerClient *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11324B8;
  *(this + 1) = 0;
  if (v3)
  {
    if (atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v3);
      WTF::fastFree(v3, a2);
    }
  }
}

{
  v3 = *(this + 1);
  *this = &unk_1F11324B8;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  bmalloc::api::tzoneFree(this, a2);
}

WTF::StringImpl **WebKit::WebResourceLoadObserver::setDomainsWithUserInteraction(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *a2;
  *a2 = 0;
  result = *(a1 + 88);
  *(a1 + 88) = v3;
  if (result)
  {
    return WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  return result;
}

void WebKit::WebSearchPopupMenu::~WebSearchPopupMenu(WebKit::WebSearchPopupMenu *this)
{
  *this = &unk_1F1132738;
  v1 = *(this + 2);
  *(this + 2) = 0;
  if (v1)
  {
    if (v1[2] == 1)
    {
      v2 = this;
      (*(*v1 + 8))(v1);
      this = v2;
    }

    else
    {
      --v1[2];
    }
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

void WebKit::WebSearchPopupMenu::~WebSearchPopupMenu(WebKit::WebSearchPopupMenu *this, void *a2)
{
  *this = &unk_1F1132738;
  v2 = *(this + 2);
  *(this + 2) = 0;
  if (v2)
  {
    if (v2[2] == 1)
    {
      v3 = this;
      (*(*v2 + 8))(v2);
      this = v3;
    }

    else
    {
      --v2[2];
    }
  }

  if (*(this + 2) == 1)
  {

    WTF::fastFree(this, a2);
  }

  else
  {
    __break(0xC471u);
  }
}

_DWORD *WebKit::WebSpeechRecognitionConnection::deref(_DWORD *this)
{
  if (this[2] == 1)
  {
    return (*(*this + 8))();
  }

  --this[2];
  return this;
}

uint64_t non-virtual thunk toWebKit::WebSpeechRecognitionConnection::deref(uint64_t this)
{
  if (*(this - 8) == 1)
  {
    return (*(*(this - 16) + 8))();
  }

  --*(this - 8);
  return this;
}

void WebCore::FontCascade::~FontCascade(WebCore::FontCascade *this, WTF::StringImpl *a2)
{
  v3 = *(this + 28);
  *(this + 28) = 0;
  if (v3)
  {
    if (v3[4] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[4];
    }
  }

  v4 = *(this + 27);
  *(this + 27) = 0;
  if (v4)
  {
    if (*v4 == 1)
    {
      v18 = MEMORY[0x19EB06850]();
      WTF::fastFree(v18, v19);
    }

    else
    {
      --*v4;
    }
  }

  if (*(this + 212) == 11)
  {
    WebCore::Length::deref((this + 208));
  }

  if (*(this + 204) == 11)
  {
    WebCore::Length::deref((this + 200));
  }

  v5 = *(this + 23);
  *(this + 23) = 0;
  if (v5)
  {
    if (*v5 == 1)
    {
      WTF::VectorDestructor<true,WTF::AtomString>::destruct((v5 + 2), &v5[2 * v5[1] + 2]);
      if (*v5 != 1)
      {
        __break(0xC471u);
        return;
      }

      WTF::fastFree(v5, v20);
    }

    else
    {
      --*v5;
    }
  }

  v6 = *(this + 19);
  *(this + 19) = 0;
  if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v6, a2);
  }

  v7 = *(this + 18);
  *(this + 18) = 0;
  if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v7, a2);
  }

  v8 = *(this + 16);
  *(this + 16) = 0;
  if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8, a2);
  }

  v9 = *(this + 13);
  *(this + 13) = 0;
  if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9, a2);
  }

  v10 = *(this + 12);
  *(this + 12) = 0;
  if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, a2);
  }

  v11 = *(this + 11);
  *(this + 11) = 0;
  if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v11, a2);
  }

  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 72, a2);
  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 56, v12);
  v14 = *(this + 6);
  *(this + 6) = 0;
  if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v14, v13);
  }

  v15 = *(this + 4);
  if (v15)
  {
    *(this + 4) = 0;
    *(this + 10) = 0;
    WTF::fastFree(v15, v13);
  }

  v16 = *(this + 2);
  if (v16)
  {
    *(this + 2) = 0;
    *(this + 6) = 0;
    WTF::fastFree(v16, v13);
  }

  if (*this)
  {
    *(*this + 8) = 0;
    v17 = *this;
    *this = 0;
    if (v17)
    {
      if (atomic_fetch_add(v17, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v17);
        WTF::fastFree(v17, v13);
      }
    }
  }
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = a1;
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        if (*(v4 + 8))
        {
          WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(*(v4 + 8), a2);
          v5 = *v4;
        }

        *v4 = 0;
        if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v5, a2);
        }
      }

      v4 += 16;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      if (*(v4 - 1) != -1)
      {
        std::unique_ptr<WebCore::ResourceLoadStatistics>::reset[abi:sn200100](v4, 0);
        v5 = *(v4 - 1);
        *(v4 - 1) = 0;
        if (v5)
        {
          if (atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v5, a2);
          }
        }
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

WebCore::ResourceLoadStatistics *std::unique_ptr<WebCore::ResourceLoadStatistics>::reset[abi:sn200100](WebCore::ResourceLoadStatistics **a1, WTF::StringImpl *a2)
{
  result = *a1;
  *a1 = a2;
  if (result)
  {
    WebCore::ResourceLoadStatistics::~ResourceLoadStatistics(result, a2);

    return WTF::fastFree(v4, v5);
  }

  return result;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidStartProgress>(uint64_t a1, void *a2)
{
  v4 = IPC::Encoder::operator new(0x238, a2);
  *v4 = 2233;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = a2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*a1 + 32))(a1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidChangeProgress>(uint64_t a1, double *a2, uint64_t a3)
{
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 2184;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = a3;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v6, *a2);
  (*(*a1 + 32))(a1, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidFinishProgress>(uint64_t a1, void *a2)
{
  v4 = IPC::Encoder::operator new(0x238, a2);
  *v4 = 2206;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = a2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*a1 + 32))(a1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebRemoteFrameClient::changeLocation(WebCore::FrameLoadRequest &&)::$_0,void,WebCore::PolicyAction>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1132888;
  MEMORY[0x19EB068C0](a1 + 2);
  v2 = a1[1];
  a1[1] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebRemoteFrameClient::changeLocation(WebCore::FrameLoadRequest &&)::$_0,void,WebCore::PolicyAction>::~CallableWrapper(WTF *a1)
{
  *a1 = &unk_1F1132888;
  MEMORY[0x19EB068C0](a1 + 16);
  v3 = *(a1 + 1);
  *(a1 + 1) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(a1, v2);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::DocumentURLForConsoleLog,WTF::CompletionHandler<void ()(WTF::URL const&)>>(WTF::CompletionHandler<void ()(WTF::URL const&)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11328B0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::DocumentURLForConsoleLog,WTF::CompletionHandler<void ()(WTF::URL const&)>>(WTF::CompletionHandler<void ()(WTF::URL const&)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11328B0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::DocumentURLForConsoleLog,WTF::CompletionHandler<void ()(WTF::URL const&)>>(WTF::CompletionHandler<void ()(WTF::URL const&)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    IPC::ArgumentCoder<std::tuple<WTF::URL>,void>::decode<IPC::Decoder>(a3, v12);
    if (v13 & 1) != 0 || (v9 = *a3, v10 = *(a3 + 1), *a3 = 0, *(a3 + 1) = 0, (v11 = *(a3 + 3)) != 0) && v10 && ((*(*v11 + 16))(v11, v9), (v13))
    {
      v5 = *(a1 + 8);
      *(a1 + 8) = 0;
      (*(*v5 + 16))(v5, v12);
      result = (*(*v5 + 8))(v5);
      if (v13)
      {
        result = v12[0];
        v12[0] = 0;
        if (result)
        {
          if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            return WTF::StringImpl::destroy(result, v7);
          }
        }
      }
    }

    else
    {
      return IPC::Connection::cancelReply<Messages::WebPageProxy::DocumentURLForConsoleLog,WTF::CompletionHandler<void ()(WTF::URL const&)>>((a1 + 8));
    }
  }

  else
  {
    v8 = (a1 + 8);

    return IPC::Connection::cancelReply<Messages::WebPageProxy::DocumentURLForConsoleLog,WTF::CompletionHandler<void ()(WTF::URL const&)>>(v8);
  }

  return result;
}

WTF::StringImpl *IPC::Connection::cancelReply<Messages::WebPageProxy::DocumentURLForConsoleLog,WTF::CompletionHandler<void ()(WTF::URL const&)>>(uint64_t *a1)
{
  v8 = 0;
  WTF::URL::invalidate(&v8);
  v5 = v8;
  v6 = v9;
  v7 = v10;
  v2 = *a1;
  *a1 = 0;
  (*(*v2 + 16))(v2, &v5);
  (*(*v2 + 8))(v2);
  result = v5;
  v5 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v3);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebFrameProxy::FindFocusableElementDescendingIntoRemoteFrame,WTF::CompletionHandler<void ()(WebCore::FoundElementInRemoteFrame)>>(WTF::CompletionHandler<void ()(WebCore::FoundElementInRemoteFrame)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11328D8;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebFrameProxy::FindFocusableElementDescendingIntoRemoteFrame,WTF::CompletionHandler<void ()(WebCore::FoundElementInRemoteFrame)>>(WTF::CompletionHandler<void ()(WebCore::FoundElementInRemoteFrame)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11328D8;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebFrameProxy::FindFocusableElementDescendingIntoRemoteFrame,WTF::CompletionHandler<void ()(WebCore::FoundElementInRemoteFrame)>>(WTF::CompletionHandler<void ()(WebCore::FoundElementInRemoteFrame)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (a3 && *a3)
  {
    found = IPC::Decoder::decode<std::tuple<WebCore::FoundElementInRemoteFrame>>(a3);
    v5 = *&found & ((found & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebResourceLoadObserver::WebResourceLoadObserver(WebCore::ResourceLoadStatistics::IsEphemeral)::$_0,void>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  v2 = WTF::fastMalloc(0x10);
  *v2 = &unk_1F1132928;
  v5 = v2;
  WebKit::WebResourceLoadObserver::updateCentralStatisticsStore(v1, &v5);
  result = v5;
  if (v5)
  {
    v4 = *(*v5 + 8);

    return v4();
  }

  return result;
}

WTF::StringImpl **WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,std::unique_ptr<WebCore::ResourceLoadStatistics>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<std::unique_ptr<WebCore::ResourceLoadStatistics>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(uint64_t *a1, WTF::ASCIICaseInsensitiveHash **a2)
{
  v3 = *a1;
  if (!*a1)
  {
    v4 = 0;
    v5 = 0;
LABEL_3:
    v6 = 8;
    goto LABEL_4;
  }

  v4 = *(v3 - 4);
  v5 = *(v3 - 12);
  if (!v4)
  {
    goto LABEL_3;
  }

  v6 = v4 << (6 * v5 >= (2 * v4));
LABEL_4:
  v7 = WTF::fastZeroedMalloc((16 * v6 + 16));
  *a1 = (v7 + 4);
  v7[2] = v6 - 1;
  v7[3] = v6;
  *v7 = 0;
  v7[1] = v5;
  if (v4)
  {
    v10 = 0;
    v11 = 0;
    do
    {
      v12 = (v3 + 16 * v10);
      if (*v12 != -1)
      {
        if (WTF::equal(*v12, 0, v9))
        {
          std::unique_ptr<WebCore::ResourceLoadStatistics>::reset[abi:sn200100](v12 + 1, 0);
          v14 = *v12;
          *v12 = 0;
          if (v14)
          {
            if (atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v14, v8);
            }
          }
        }

        else
        {
          v15 = *a1;
          if (*a1)
          {
            v16 = *(v15 - 8);
          }

          else
          {
            v16 = 0;
          }

          v17 = WTF::ASCIICaseInsensitiveHash::hash(*v12, v13);
          v19 = 0;
          do
          {
            v20 = v17 & v16;
            v21 = WTF::equal(*(v15 + 16 * v20), 0, v18);
            v17 = ++v19 + v20;
          }

          while (!v21);
          v22 = (v15 + 16 * v20);
          std::unique_ptr<WebCore::ResourceLoadStatistics>::reset[abi:sn200100](v22 + 1, 0);
          v24 = *v22;
          *v22 = 0;
          if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v24, v23);
          }

          v25 = *v12;
          *v12 = 0;
          v12[1] = 0;
          *v22 = v25;
          std::unique_ptr<WebCore::ResourceLoadStatistics>::reset[abi:sn200100](v12 + 1, 0);
          v26 = *v12;
          *v12 = 0;
          if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v26, v8);
          }

          if (v12 == a2)
          {
            v11 = v22;
          }
        }
      }

      ++v10;
    }

    while (v10 != v4);
  }

  else
  {
    v11 = 0;
    result = 0;
    if (!v3)
    {
      return result;
    }
  }

  WTF::fastFree((v3 - 16), v8);
  return v11;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::ResourceLoadStatisticsUpdated,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132978;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t a3)
{
  v5 = *a1;
  if (*a1)
  {
    v6 = *(v5 - 4);
    v7 = *(v5 - 12);
  }

  else
  {
    v6 = 0;
    v7 = 0;
  }

  v8 = WTF::fastMalloc((16 * a2 + 16));
  v11 = v8;
  v12 = v8 + 16;
  if (a2)
  {
    bzero((v8 + 16), 16 * a2);
  }

  *a1 = v12;
  v11[2] = a2 - 1;
  v11[3] = a2;
  *v11 = 0;
  v11[1] = v7;
  if (v6)
  {
    v13 = 0;
    v14 = 0;
    v15 = v6;
    do
    {
      v16 = v5 + 16 * v13;
      if (*v16 != -1)
      {
        if (WTF::equal(*v16, 0, v10))
        {
          v17 = *(v16 + 8);
          if (v17)
          {
            WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v17, v9);
          }

          v18 = *v16;
          *v16 = 0;
          if (v18)
          {
            if (atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v18, v9);
            }
          }
        }

        else
        {
          v19 = *a1;
          if (*a1)
          {
            v20 = *(v19 - 8);
          }

          else
          {
            v20 = 0;
          }

          v21 = WTF::ASCIICaseInsensitiveHash::hash(*v16, v9);
          v22 = 0;
          do
          {
            v23 = v21 & v20;
            v24 = WTF::equal(*(v19 + 16 * v23), 0, v10);
            v21 = ++v22 + v23;
          }

          while (!v24);
          v25 = v19 + 16 * v23;
          v26 = *(v25 + 8);
          if (v26)
          {
            WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v26, v9);
          }

          v27 = *v25;
          *v25 = 0;
          if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v27, v9);
          }

          v28 = *v16;
          *v16 = 0;
          *v25 = v28;
          *(v25 + 8) = 0;
          v29 = *(v16 + 8);
          *(v16 + 8) = 0;
          *(v25 + 8) = v29;
          v30 = *(v16 + 8);
          if (v30)
          {
            WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v30, v9);
          }

          v31 = *v16;
          *v16 = 0;
          if (v31 && atomic_fetch_add_explicit(v31, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v31, v9);
          }

          if (v16 == a3)
          {
            v14 = v25;
          }
        }
      }

      ++v13;
    }

    while (v13 != v15);
  }

  else
  {
    v14 = 0;
    result = 0;
    if (!v5)
    {
      return result;
    }
  }

  WTF::fastFree((v5 - 16), v9);
  return v14;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebScreenOrientationManagerProxy::Lock,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>>(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>,IPC::Decoder>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11329A0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebScreenOrientationManagerProxy::Lock,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>>(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>,IPC::Decoder>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11329A0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebScreenOrientationManagerProxy::Lock,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>>(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>,IPC::Decoder>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (a3 && *a3)
  {
    IPC::ArgumentCoder<std::tuple<std::optional<WebCore::Exception>>,void>::decode<IPC::Decoder>(a3, &v12);
    if (v15 & 1) != 0 || (v9 = *a3, v10 = a3[1], *a3 = 0, a3[1] = 0, (v11 = a3[3]) != 0) && v10 && ((*(*v11 + 16))(v11, v9), (v15))
    {
      v5 = *(a1 + 8);
      *(a1 + 8) = 0;
      (*(*v5 + 16))(v5, &v12);
      result = (*(*v5 + 8))(v5);
      if ((v15 & 1) != 0 && v14 == 1)
      {
        result = v13;
        v13 = 0;
        if (result)
        {
          if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            return WTF::StringImpl::destroy(result, v7);
          }
        }
      }
    }

    else
    {
      return IPC::Connection::cancelReply<Messages::WebScreenOrientationManagerProxy::Lock,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>>((a1 + 8));
    }
  }

  else
  {
    v8 = (a1 + 8);

    return IPC::Connection::cancelReply<Messages::WebScreenOrientationManagerProxy::Lock,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>>(v8);
  }

  return result;
}

WTF::StringImpl *IPC::Connection::cancelReply<Messages::WebScreenOrientationManagerProxy::Lock,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)>>(uint64_t *a1)
{
  v4[0] = 0;
  v6 = 0;
  v1 = *a1;
  *a1 = 0;
  (*(*v1 + 16))(v1, v4);
  result = (*(*v1 + 8))(v1);
  if (v6 == 1)
  {
    result = v5;
    v5 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v3);
      }
    }
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebCore::SpeechRecognitionConnectionClient,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::SpeechRecognitionConnectionClientIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t result, uint64_t a2)
{
  if (result)
  {
    if (a2 == -1 || !a2)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3B3204);
    }

    v2 = *(result - 8);
    v3 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v4 = 9 * ((v3 + ~(v3 << 13)) ^ ((v3 + ~(v3 << 13)) >> 8));
    v5 = (v4 ^ (v4 >> 15)) + ~((v4 ^ (v4 >> 15)) << 27);
    v6 = v2 & ((v5 >> 31) ^ v5);
    v7 = *(result + 16 * v6);
    if (v7 == a2)
    {
LABEL_8:
      result += 16 * v6;
    }

    else
    {
      v8 = 1;
      while (v7)
      {
        v6 = (v6 + v8) & v2;
        v7 = *(result + 16 * v6);
        ++v8;
        if (v7 == a2)
        {
          goto LABEL_8;
        }
      }

      result += 16 * *(result - 4);
    }
  }

  return result;
}

uint64_t **WebKit::WebSpeechSynthesisClient::voiceList(WebKit::WebSpeechSynthesisClient *this, WTF::StringImpl *a2, __n128 a3)
{
  v4 = *(this + 3);
  if (v4)
  {
    v5 = *(v4 + 8);
    if (v5)
    {
      CFRetain(*(v5 - 8));
      v6 = (*(*(v5 + 16) + 56))(v5 + 16);
      v7 = (*(*(v5 + 16) + 48))(v5 + 16);
      if (!v7)
      {
        LOBYTE(v109[0]) = 3;
        LOBYTE(v111) = 1;
        v107 = 0uLL;
        goto LABEL_59;
      }

      v9 = v7;
      while (1)
      {
        v10 = *v7;
        if ((*v7 & 1) == 0)
        {
          break;
        }

        v11 = *v7;
        atomic_compare_exchange_strong_explicit(v7, &v11, v10 + 2, memory_order_relaxed, memory_order_relaxed);
        if (v11 == v10)
        {
          goto LABEL_9;
        }
      }

      WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v7);
LABEL_9:
      IPC::Connection::createSyncMessageEncoder(0x104D, v6, v106);
      v12 = IPC::Connection::sendSyncMessage(v9, v106[1], v106, 0, &v104, INFINITY);
      if (v105)
      {
        if (v105 != 1)
        {
          mpark::throw_bad_variant_access(v12);
        }

        LOBYTE(v109[0]) = v104;
        v14 = 1;
        LOBYTE(v111) = 1;
        goto LABEL_56;
      }

      v21 = v104;
      v104 = 0;
      if (*(v21 + 25) == 3194)
      {
        v22 = 11;
LABEL_22:
        LOBYTE(v109[0]) = v22;
        LOBYTE(v111) = 1;
        IPC::Decoder::~Decoder(v21);
        bmalloc::api::tzoneFree(v23, v24);
        v14 = 1;
LABEL_53:
        if (!v105)
        {
          v52 = v104;
          v104 = 0;
          if (v52)
          {
            IPC::Decoder::~Decoder(v52);
            bmalloc::api::tzoneFree(v79, v80);
          }
        }

LABEL_56:
        v53 = v106[0];
        v106[0] = 0;
        if (v53)
        {
          IPC::Encoder::~Encoder(v53, v13);
          bmalloc::api::tzoneFree(v75, v76);
        }

        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v9);
        v107 = 0uLL;
        if (!v14)
        {
          v55 = v109[1];
          v109[1] = 0;
          *&v115 = v55;
          v56 = &v110;
          v54 = 1;
          goto LABEL_61;
        }

LABEL_59:
        v54 = 0;
        v55 = v107;
        *&v107 = 0;
        *&v115 = v55;
        v56 = &v107 + 1;
LABEL_61:
        v57 = *v56;
        *v56 = 0;
        v58 = &v110 + 1;
        if (!v54)
        {
          v58 = &v107 + 3;
        }

        v59 = *v58;
        *v58 = 0;
        *(&v115 + 1) = __PAIR64__(v59, v57);
        WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v107, v8);
        if (!v59)
        {
          LODWORD(v63) = 0;
          v62 = 0;
LABEL_69:
          v15 = (this + 40);
          v66 = *(this + 13);
          if (v66)
          {
            v67 = *v15;
            v68 = 8 * v66;
            do
            {
              v69 = *v67;
              *v67 = 0;
              if (v69)
              {
                WTF::RefCounted<WebCore::PlatformSpeechSynthesisVoice>::deref(v69, v60);
              }

              ++v67;
              v68 -= 8;
            }

            while (v68);
          }

          v70 = *v15;
          if (*v15)
          {
            *(this + 5) = 0;
            *(this + 12) = 0;
            WTF::fastFree(v70, v60);
          }

          *&v61 = 0;
          v107 = v61;
          *(this + 5) = v62;
          *(this + 12) = v59;
          *(this + 13) = v63;
          WTF::Vector<WTF::RefPtr<WebCore::PlatformSpeechSynthesisVoice,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisVoice>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisVoice>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v107, v60);
          WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v115, v71);
          if (v54)
          {
            WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v109[1], v72);
            v73 = v109[0];
            v109[0] = 0;
            if (v73)
            {
              IPC::Decoder::~Decoder(v73);
              bmalloc::api::tzoneFree(v77, v78);
            }
          }

          CFRelease(*(v5 - 8));
          return v15;
        }

        if (!(v59 >> 29))
        {
          v62 = WTF::fastMalloc((8 * v59));
          v63 = 0;
          v64 = v55 + 16;
          do
          {
            v65 = v63;
            WebCore::PlatformSpeechSynthesisVoice::create((v64 - 16), (v64 - 8), v64, v64[8]);
            ++v63;
            *(v62 + 8 * v65) = v107;
            v64 += 32;
          }

          while (v63 < v59);
          goto LABEL_69;
        }

        __break(0xC471u);
LABEL_128:
        JUMPOUT(0x19E3B3A08);
      }

      LOBYTE(v102[0]) = 0;
      v103 = 0;
      v25 = *(v21 + 1);
      v26 = ((*(v21 + 2) + 7) & 0xFFFFFFFFFFFFFFF8);
      v27 = *v21;
      v28 = v26 - *v21;
      v29 = v25 >= v28;
      v30 = v25 - v28;
      if (v29 && v30 > 7)
      {
        *(v21 + 2) = v26 + 1;
        if (v26)
        {
          v32 = *v26;
          v113 = 0;
          v114 = 0;
          if (v32 >= 0x8000)
          {
            do
            {
              IPC::Decoder::decode<WebKit::WebSpeechSynthesisVoice>(v109, v21);
              v83 = v112;
              if (v112 == 1)
              {
                v84 = HIDWORD(v114);
                if (HIDWORD(v114) == v114)
                {
                  WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::WebSpeechSynthesisVoice>(&v113, v109);
                }

                else
                {
                  v85 = v113 + 32 * HIDWORD(v114);
                  v86 = v109[0];
                  v109[0] = 0;
                  *v85 = v86;
                  v87 = v109[1];
                  v109[1] = 0;
                  *(v85 + 1) = v87;
                  v88 = v110;
                  v110 = 0;
                  *(v85 + 2) = v88;
                  *(v85 + 12) = v111;
                  HIDWORD(v114) = v84 + 1;
                }
              }

              if (v112 == 1)
              {
                v89 = v110;
                v110 = 0;
                if (v89 && atomic_fetch_add_explicit(v89, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v89, v27);
                }

                v90 = v109[1];
                v109[1] = 0;
                if (v90 && atomic_fetch_add_explicit(v90, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v90, v27);
                }

                v91 = v109[0];
                v109[0] = 0;
                if (v91 && atomic_fetch_add_explicit(v91, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v91, v27);
                }
              }

              if ((v83 & 1) == 0)
              {
                goto LABEL_110;
              }

              --v32;
            }

            while (v32);
            v92 = v5;
            v44 = v114;
            v43 = HIDWORD(v114);
            v32 = v113;
            if (v114 > HIDWORD(v114))
            {
              v93 = v113;
              if (HIDWORD(v114))
              {
                if (HIDWORD(v114) >> 27)
                {
                  __break(0xC471u);
                  goto LABEL_128;
                }

                v93 = WTF::fastMalloc((32 * HIDWORD(v114)));
                if (v93 != v32)
                {
                  WTF::VectorMover<false,WebCore::UserContentURLPattern>::move(v32, (v32 + 32 * v43), v93);
                }

                v44 = v43;
              }

              if (v32)
              {
                if (v93 == v32)
                {
                  v44 = 0;
                  v93 = 0;
                  v113 = 0;
                  LODWORD(v114) = 0;
                }

                WTF::fastFree(v32, v27);
              }

              v32 = v93;
            }

            v5 = v92;
          }

          else
          {
            if (v32)
            {
              v33 = WTF::fastMalloc((32 * v32));
              LODWORD(v114) = v32;
              v113 = v33;
              while (1)
              {
                IPC::Decoder::decode<WebKit::WebSpeechSynthesisVoice>(v109, v21);
                v34 = v112;
                if (v112 == 1)
                {
                  v35 = HIDWORD(v114);
                  if (HIDWORD(v114) == v114)
                  {
                    WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::WebSpeechSynthesisVoice>(&v113, v109);
                  }

                  else
                  {
                    v36 = v113 + 32 * HIDWORD(v114);
                    v37 = v109[0];
                    v109[0] = 0;
                    *v36 = v37;
                    v38 = v109[1];
                    v109[1] = 0;
                    *(v36 + 1) = v38;
                    v39 = v110;
                    v110 = 0;
                    *(v36 + 2) = v39;
                    *(v36 + 12) = v111;
                    HIDWORD(v114) = v35 + 1;
                  }
                }

                if (v112 == 1)
                {
                  v40 = v110;
                  v110 = 0;
                  if (v40 && atomic_fetch_add_explicit(v40, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v40, v27);
                  }

                  v41 = v109[1];
                  v109[1] = 0;
                  if (v41 && atomic_fetch_add_explicit(v41, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v41, v27);
                  }

                  v42 = v109[0];
                  v109[0] = 0;
                  if (v42 && atomic_fetch_add_explicit(v42, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v42, v27);
                  }
                }

                if ((v34 & 1) == 0)
                {
                  break;
                }

                if (!--v32)
                {
                  v32 = v113;
                  v44 = v114;
                  LODWORD(v43) = HIDWORD(v114);
                  goto LABEL_50;
                }
              }

LABEL_110:
              WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v113, v27);
              goto LABEL_111;
            }

            LODWORD(v43) = 0;
            v44 = 0;
          }

LABEL_50:
          v113 = 0;
          v114 = 0;
          LOBYTE(v116) = 1;
          WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v113, v27);
          *&v45 = 0;
          v115 = v45;
          *&v107 = v32;
          v108 = 1;
          WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v115, v46);
          v47 = v107;
          v107 = 0uLL;
          v103 = 1;
          WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v107, v48);
          v102[0] = 0;
          v102[1] = 0;
          v115 = 0uLL;
          v109[0] = v21;
          v109[1] = v47;
          v116 = 0;
          v110 = __PAIR64__(v43, v44);
          LOBYTE(v111) = 0;
          WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v115 + 2, v49);
          v51 = v115;
          *&v115 = 0;
          if (v51)
          {
            IPC::Decoder::~Decoder(v51);
            bmalloc::api::tzoneFree(v81, v82);
          }

          WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v102, v50);
          v14 = 0;
          goto LABEL_53;
        }
      }

      else
      {
        *v21 = 0;
        *(v21 + 1) = 0;
        v100 = *(v21 + 3);
        if (v100)
        {
          if (v25)
          {
            (*(*v100 + 16))(v100);
            v25 = *(v21 + 1);
          }
        }

        else
        {
          v25 = 0;
        }
      }

      *v21 = 0;
      *(v21 + 1) = 0;
      v101 = *(v21 + 3);
      if (v101 && v25)
      {
        (*(*v101 + 16))(v101);
      }

LABEL_111:
      v94 = *v21;
      v95 = *(v21 + 1);
      *v21 = 0;
      *(v21 + 1) = 0;
      v96 = *(v21 + 3);
      if (v96 && v95)
      {
        (*(*v96 + 16))(v96, v94);
        v97 = *v21;
        v98 = *(v21 + 1);
        v99 = *(v21 + 3);
        *v21 = 0;
        *(v21 + 1) = 0;
        if (v99 && v98)
        {
          (*(*v99 + 16))(v99, v97);
        }
      }

      else
      {
        *v21 = 0;
        *(v21 + 1) = 0;
      }

      v22 = 14;
      goto LABEL_22;
    }
  }

  v15 = (this + 40);
  v16 = *(this + 13);
  if (v16)
  {
    v17 = *v15;
    v18 = 8 * v16;
    do
    {
      v19 = *v17;
      *v17 = 0;
      if (v19)
      {
        WTF::RefCounted<WebCore::PlatformSpeechSynthesisVoice>::deref(v19, a2);
      }

      ++v17;
      v18 -= 8;
    }

    while (v18);
  }

  v20 = *v15;
  if (*v15)
  {
    *(this + 5) = 0;
    *(this + 12) = 0;
    WTF::fastFree(v20, a2);
  }

  a3.n128_u64[0] = 0;
  *v109 = a3;
  *(this + 40) = a3;
  WTF::Vector<WTF::RefPtr<WebCore::PlatformSpeechSynthesisVoice,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisVoice>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisVoice>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v109, a2);
  return v15;
}

uint64_t WebKit::WebSpeechSynthesisClient::corePageObserver(WebKit::WebSpeechSynthesisClient *this)
{
  if (this)
  {
    v1 = *(this + 1);
    if (v1)
    {
      CFRetain(*(v1 - 8));
      v2 = *(v1 + 40);
      if (!v2)
      {
LABEL_15:
        CFRelease(*(v1 - 8));
        return v2;
      }

      v3 = (v2 + 8);
      ++*(v2 + 8);
      v4 = *(v2 + 240);
      if (!v4)
      {
        goto LABEL_13;
      }

      (*(*v4 + 40))(&v11);
      v6 = v11;
      if (!v11)
      {
        goto LABEL_13;
      }

      v7 = *(v11 + 1);
      v11 = 0;
      if (atomic_fetch_add(v6, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v6);
        WTF::fastFree(v6, v5);
        if (!v7)
        {
          goto LABEL_13;
        }
      }

      else if (!v7)
      {
        goto LABEL_13;
      }

      (*(**(v2 + 240) + 40))(&v11);
      v9 = v11;
      if (v11)
      {
        v2 = *(v11 + 1);
        v11 = 0;
        if (atomic_fetch_add(v9, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v9);
          WTF::fastFree(v9, v8);
        }

        goto LABEL_14;
      }

LABEL_13:
      v2 = 0;
LABEL_14:
      WTF::RefCounted<WebCore::Page>::deref(v3);
      goto LABEL_15;
    }
  }

  return 0;
}

void WebKit::WebSpeechSynthesisClient::resetState(WebKit::WebSpeechSynthesisClient *this)
{
  v1 = *(this + 3);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      CFRetain(*(v2 - 8));
      v3 = (*(*(v2 + 16) + 56))(v2 + 16);
      v5 = IPC::Encoder::operator new(0x238, v4);
      *v5 = 2390;
      *(v5 + 2) = 0;
      *(v5 + 3) = 0;
      *(v5 + 1) = v3;
      *(v5 + 68) = 0;
      *(v5 + 70) = 0;
      *(v5 + 69) = 0;
      IPC::Encoder::encodeHeader(v5);
      v10 = v5;
      (*(*(v2 + 16) + 32))(v2 + 16, &v10, 0);
      v7 = v10;
      v10 = 0;
      if (v7)
      {
        IPC::Encoder::~Encoder(v7, v6);
        bmalloc::api::tzoneFree(v8, v9);
      }

      CFRelease(*(v2 - 8));
    }
  }
}

atomic_uint *WebKit::WebSpeechSynthesisClient::speak(uint64_t a1, uint64_t a2)
{
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 8), a1);
  v4 = *(a1 + 8);
  atomic_fetch_add(v4, 1u);
  v5 = WTF::fastMalloc(0x10);
  *v5 = &unk_1F1132C48;
  v5[1] = v4;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 8), a1);
  v6 = *(a1 + 8);
  atomic_fetch_add(v6, 1u);
  v8 = WTF::fastMalloc(0x10);
  *v8 = &unk_1F1132C70;
  v8[1] = v6;
  v9 = *(*a2 + 32);
  if (v9)
  {
    ++*v9;
    v10 = (v9 + 8);
  }

  else
  {
    v10 = MEMORY[0x1E696EBA8];
  }

  v11 = *v10;
  if (v11)
  {
    atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
  }

  v62 = v11;
  v12 = (v9 + 16);
  v13 = MEMORY[0x1E696EBA8];
  if (!v9)
  {
    v12 = MEMORY[0x1E696EBA8];
  }

  v14 = *v12;
  if (v14)
  {
    atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
  }

  v61 = v14;
  if (v9)
  {
    v13 = (v9 + 24);
  }

  v15 = *v13;
  if (*v13)
  {
    atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
  }

  v60 = v15;
  if (v9)
  {
    v16 = *(v9 + 32);
    v17 = *(v9 + 33);
  }

  else
  {
    v16 = 0;
    v17 = 0;
  }

  v18 = *(a1 + 24);
  if (v18)
  {
    v19 = *(v18 + 8);
    if (v19)
    {
      CFRetain(*(v19 - 8));
      v20 = v19 + 16;
      v21 = (*(*(v19 + 16) + 56))(v19 + 16);
      v23 = IPC::Encoder::operator new(0x238, v22);
      *v23 = 2392;
      *(v23 + 2) = 0;
      *(v23 + 3) = 0;
      *(v23 + 1) = v21;
      *(v23 + 68) = 0;
      *(v23 + 70) = 0;
      *(v23 + 69) = 0;
      IPC::Encoder::encodeHeader(v23);
      v63[0] = v23;
      v24 = WTF::fastMalloc(0x10);
      *v24 = &unk_1F1132C98;
      v24[1] = v8;
      if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
      {
        __break(0xC471u);
      }

      else
      {
        v49 = v24;
        IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
        (*(*v20 + 40))(v19 + 16, v63, &v49, 0);
        v26 = v49;
        v49 = 0;
        if (v26)
        {
          (*(*v26 + 8))(v26);
        }

        v27 = v63[0];
        v63[0] = 0;
        if (v27)
        {
          IPC::Encoder::~Encoder(v27, v25);
          bmalloc::api::tzoneFree(v44, v45);
        }

        v28 = (*a2 + 16);
        v29 = (*a2 + 24);
        v31 = *(*a2 + 40);
        v30 = *(*a2 + 44);
        v32 = *(*a2 + 48);
        v48 = *(*a2 + 56);
        v49 = v28;
        IdentifierInternal = v29;
        v51 = v31;
        v52 = v30;
        v53 = v32;
        v54 = &v48;
        v55 = &v62;
        v56 = &v61;
        v57 = &v60;
        v58 = v16 & 1;
        v59[0] = v17 & 1;
        v33 = (*(*v20 + 56))(v19 + 16);
        v35 = IPC::Encoder::operator new(0x238, v34);
        *v35 = 2393;
        *(v35 + 2) = 0;
        *(v35 + 3) = 0;
        *(v35 + 1) = v33;
        *(v35 + 68) = 0;
        *(v35 + 70) = 0;
        *(v35 + 69) = 0;
        IPC::Encoder::encodeHeader(v35);
        v64 = v35;
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v35, v28);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v35, v29);
        IPC::ArgumentCoder<float,void>::encode<IPC::Encoder>(v35, v31);
        IPC::ArgumentCoder<float,void>::encode<IPC::Encoder>(v35, v30);
        IPC::ArgumentCoder<float,void>::encode<IPC::Encoder>(v35, v32);
        IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v35, v48);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v35, &v62);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v35, &v61);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v35, &v60);
        IPC::Encoder::operator<<<BOOL &>(v35, &v58);
        IPC::Encoder::operator<<<BOOL &>(v35, v59);
        v36 = WTF::fastMalloc(0x10);
        *v36 = &unk_1F1132CC0;
        *(v36 + 1) = v5;
        if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected != 1)
        {
          v37 = v36;
          v38 = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
          v63[0] = v37;
          v63[1] = v38;
          (*(*v20 + 40))(v19 + 16, &v64, v63, 0);
          v40 = v63[0];
          v63[0] = 0;
          if (v40)
          {
            (*(*v40 + 8))(v40);
          }

          v41 = v64;
          v64 = 0;
          if (v41)
          {
            IPC::Encoder::~Encoder(v41, v39);
            bmalloc::api::tzoneFree(v46, v47);
          }

          CFRelease(*(v19 - 8));
          v8 = 0;
          v5 = 0;
          v15 = v60;
          goto LABEL_29;
        }

        __break(0xC471u);
      }

      JUMPOUT(0x19E3B420CLL);
    }
  }

LABEL_29:
  v60 = 0;
  if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v15, v7);
  }

  v42 = v61;
  v61 = 0;
  if (v42 && atomic_fetch_add_explicit(v42, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v42, v7);
  }

  result = v62;
  v62 = 0;
  if (!result || atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) != 2)
  {
    if (!v9)
    {
      goto LABEL_39;
    }

    goto LABEL_38;
  }

  result = WTF::StringImpl::destroy(result, v7);
  if (v9)
  {
LABEL_38:
    result = WTF::RefCounted<WebCore::PlatformSpeechSynthesisVoice>::deref(v9, v7);
  }

LABEL_39:
  if (!v8)
  {
    if (!v5)
    {
      return result;
    }

    return (*(*v5 + 8))(v5);
  }

  result = (*(*v8 + 8))(v8);
  if (v5)
  {
    return (*(*v5 + 8))(v5);
  }

  return result;
}

void WebKit::WebSpeechSynthesisClient::cancel(WebKit::WebSpeechSynthesisClient *this)
{
  v1 = *(this + 3);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      CFRetain(*(v2 - 8));
      v3 = (*(*(v2 + 16) + 56))(v2 + 16);
      v5 = IPC::Encoder::operator new(0x238, v4);
      *v5 = 2388;
      *(v5 + 2) = 0;
      *(v5 + 3) = 0;
      *(v5 + 1) = v3;
      *(v5 + 68) = 0;
      *(v5 + 70) = 0;
      *(v5 + 69) = 0;
      IPC::Encoder::encodeHeader(v5);
      v10 = v5;
      (*(*(v2 + 16) + 32))(v2 + 16, &v10, 0);
      v7 = v10;
      v10 = 0;
      if (v7)
      {
        IPC::Encoder::~Encoder(v7, v6);
        bmalloc::api::tzoneFree(v8, v9);
      }

      CFRelease(*(v2 - 8));
    }
  }
}

void WebKit::WebSpeechSynthesisClient::pause(WebKit::WebSpeechSynthesisClient *this)
{
  v1 = *(this + 3);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      CFRetain(*(v2 - 8));
      WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(this + 2, this);
      v4 = *(this + 1);
      atomic_fetch_add(v4, 1u);
      v5 = WTF::fastMalloc(0x10);
      *v5 = &unk_1F1132CE8;
      v5[1] = v4;
      v6 = (*(*(v2 + 16) + 56))(v2 + 16);
      v8 = IPC::Encoder::operator new(0x238, v7);
      *v8 = 2389;
      *(v8 + 2) = 0;
      *(v8 + 3) = 0;
      *(v8 + 1) = v6;
      *(v8 + 68) = 0;
      *(v8 + 70) = 0;
      *(v8 + 69) = 0;
      IPC::Encoder::encodeHeader(v8);
      v16 = v8;
      v9 = WTF::fastMalloc(0x10);
      *v9 = &unk_1F1132D10;
      v9[1] = v5;
      if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
      {
        __break(0xC471u);
      }

      else
      {
        v15[0] = v9;
        v15[1] = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
        (*(*(v2 + 16) + 40))(v2 + 16, &v16, v15, 0);
        v11 = v15[0];
        v15[0] = 0;
        if (v11)
        {
          (*(*v11 + 8))(v11);
        }

        v12 = v16;
        v16 = 0;
        if (v12)
        {
          IPC::Encoder::~Encoder(v12, v10);
          bmalloc::api::tzoneFree(v13, v14);
        }

        CFRelease(*(v2 - 8));
      }
    }
  }
}

void WebKit::WebSpeechSynthesisClient::resume(WebKit::WebSpeechSynthesisClient *this)
{
  v1 = *(this + 3);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      CFRetain(*(v2 - 8));
      WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(this + 2, this);
      v4 = *(this + 1);
      atomic_fetch_add(v4, 1u);
      v5 = WTF::fastMalloc(0x10);
      *v5 = &unk_1F1132D38;
      v5[1] = v4;
      v6 = (*(*(v2 + 16) + 56))(v2 + 16);
      v8 = IPC::Encoder::operator new(0x238, v7);
      *v8 = 2391;
      *(v8 + 2) = 0;
      *(v8 + 3) = 0;
      *(v8 + 1) = v6;
      *(v8 + 68) = 0;
      *(v8 + 70) = 0;
      *(v8 + 69) = 0;
      IPC::Encoder::encodeHeader(v8);
      v16 = v8;
      v9 = WTF::fastMalloc(0x10);
      *v9 = &unk_1F1132D60;
      v9[1] = v5;
      if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
      {
        __break(0xC471u);
      }

      else
      {
        v15[0] = v9;
        v15[1] = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
        (*(*(v2 + 16) + 40))(v2 + 16, &v16, v15, 0);
        v11 = v15[0];
        v15[0] = 0;
        if (v11)
        {
          (*(*v11 + 8))(v11);
        }

        v12 = v16;
        v16 = 0;
        if (v12)
        {
          IPC::Encoder::~Encoder(v12, v10);
          bmalloc::api::tzoneFree(v13, v14);
        }

        CFRelease(*(v2 - 8));
      }
    }
  }
}

uint64_t WebKit::WebStorageConnection::getPersisted(uint64_t a1, void *a2, uint64_t *a3)
{
  {
    v5 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v21 = WebKit::WebProcess::operator new(0x370, a2);
    v5 = WebKit::WebProcess::WebProcess(v21);
    WebKit::WebProcess::singleton(void)::process = v5;
  }

  v6 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v5) + 24);
  while (1)
  {
    v7 = *v6;
    if ((*v6 & 1) == 0)
    {
      break;
    }

    v8 = *v6;
    atomic_compare_exchange_strong_explicit(v6, &v8, v7 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v8 == v7)
    {
      goto LABEL_8;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v6);
LABEL_8:
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F1132D88;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v11 = v10;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 803;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = 0;
    IPC::Encoder::encodeHeader(v14);
    v23 = v14;
    IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v14, a2);
    v22[0] = v11;
    v22[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(v6, &v23, v22, 0, 0);
    v16 = v22[0];
    v22[0] = 0;
    if (v16)
    {
      (*(*v16 + 8))(v16);
    }

    v17 = v23;
    v23 = 0;
    if (v17)
    {
      IPC::Encoder::~Encoder(v17, v15);
      bmalloc::api::tzoneFree(v19, v20);
    }

    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v6);
  }

  return result;
}

uint64_t WebKit::WebStorageConnection::persist(uint64_t a1, void *a2, uint64_t *a3)
{
  {
    v5 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v21 = WebKit::WebProcess::operator new(0x370, a2);
    v5 = WebKit::WebProcess::WebProcess(v21);
    WebKit::WebProcess::singleton(void)::process = v5;
  }

  v6 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v5) + 24);
  while (1)
  {
    v7 = *v6;
    if ((*v6 & 1) == 0)
    {
      break;
    }

    v8 = *v6;
    atomic_compare_exchange_strong_explicit(v6, &v8, v7 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v8 == v7)
    {
      goto LABEL_8;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v6);
LABEL_8:
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F1132DB0;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v11 = v10;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 802;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = 0;
    IPC::Encoder::encodeHeader(v14);
    v23 = v14;
    IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v14, a2);
    v22[0] = v11;
    v22[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(v6, &v23, v22, 0, 0);
    v16 = v22[0];
    v22[0] = 0;
    if (v16)
    {
      (*(*v16 + 8))(v16);
    }

    v17 = v23;
    v23 = 0;
    if (v17)
    {
      IPC::Encoder::~Encoder(v17, v15);
      bmalloc::api::tzoneFree(v19, v20);
    }

    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v6);
  }

  return result;
}

uint64_t WebKit::WebStorageConnection::getEstimate(uint64_t a1, void *a2, uint64_t *a3)
{
  {
    v5 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v21 = WebKit::WebProcess::operator new(0x370, a2);
    v5 = WebKit::WebProcess::WebProcess(v21);
    WebKit::WebProcess::singleton(void)::process = v5;
  }

  v6 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v5) + 24);
  while (1)
  {
    v7 = *v6;
    if ((*v6 & 1) == 0)
    {
      break;
    }

    v8 = *v6;
    atomic_compare_exchange_strong_explicit(v6, &v8, v7 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v8 == v7)
    {
      goto LABEL_8;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v6);
LABEL_8:
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F1132DD8;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v11 = v10;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 783;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = 0;
    IPC::Encoder::encodeHeader(v14);
    v23 = v14;
    IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v14, a2);
    v22[0] = v11;
    v22[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(v6, &v23, v22, 0, 0);
    v16 = v22[0];
    v22[0] = 0;
    if (v16)
    {
      (*(*v16 + 8))(v16);
    }

    v17 = v23;
    v23 = 0;
    if (v17)
    {
      IPC::Encoder::~Encoder(v17, v15);
      bmalloc::api::tzoneFree(v19, v20);
    }

    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v6);
  }

  return result;
}

uint64_t WebKit::WebStorageConnection::fileSystemGetDirectory(uint64_t a1, void *a2, uint64_t *a3)
{
  {
    v5 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v21 = WebKit::WebProcess::operator new(0x370, a2);
    v5 = WebKit::WebProcess::WebProcess(v21);
    WebKit::WebProcess::singleton(void)::process = v5;
  }

  v6 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v5) + 24);
  while (1)
  {
    v7 = *v6;
    if ((*v6 & 1) == 0)
    {
      break;
    }

    v8 = *v6;
    atomic_compare_exchange_strong_explicit(v6, &v8, v7 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v8 == v7)
    {
      goto LABEL_8;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v6);
LABEL_8:
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F1132E00;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v11 = v10;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 785;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = 0;
    IPC::Encoder::encodeHeader(v14);
    v23 = v14;
    IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v14, a2);
    v22[0] = v11;
    v22[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(v6, &v23, v22, 0, 0);
    v16 = v22[0];
    v22[0] = 0;
    if (v16)
    {
      (*(*v16 + 8))(v16);
    }

    v17 = v23;
    v23 = 0;
    if (v17)
    {
      IPC::Encoder::~Encoder(v17, v15);
      bmalloc::api::tzoneFree(v19, v20);
    }

    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v6);
  }

  return result;
}

void WebKit::WebUserMediaClient::requestUserMediaAccess(WebKit::WebUserMediaClient *this, WebCore::UserMediaRequest *a2)
{
  v2 = *(this + 2);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      CFRetain(*(v3 - 8));
      WebKit::UserMediaPermissionRequestManager::startUserMediaRequest(*(v3 + 600), a2);
      v5 = *(v3 - 8);

      CFRelease(v5);
    }
  }
}

void WebKit::WebUserMediaClient::cancelUserMediaAccessRequest(WebKit::WebUserMediaClient *this, WebCore::UserMediaRequest *a2)
{
  v2 = *(this + 2);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      CFRetain(*(v3 - 8));
      WebKit::UserMediaPermissionRequestManager::cancelUserMediaRequest(*(v3 + 600), a2);
      v5 = *(v3 - 8);

      CFRelease(v5);
    }
  }
}

void WebKit::WebUserMediaClient::enumerateMediaDevices(uint64_t a1, void *a2, uint64_t *a3)
{
  v3 = *(a1 + 16);
  if (v3)
  {
    v4 = *(v3 + 8);
    if (v4)
    {
      CFRetain(*(v4 - 8));
      WebKit::UserMediaPermissionRequestManager::enumerateMediaDevices(*(v4 + 600), a2, a3);
      v7 = *(v4 - 8);

      CFRelease(v7);
    }
  }
}

uint64_t WebKit::WebUserMediaClient::addDeviceChangeObserver(uint64_t a1, uint64_t *a2)
{
  v2 = *(a1 + 16);
  if (v2 && (v3 = *(v2 + 8)) != 0)
  {
    CFRetain(*(v3 - 8));
    v5 = WebKit::UserMediaPermissionRequestManager::addDeviceChangeObserver(*(v3 + 600), a2);
    CFRelease(*(v3 - 8));
    return v5;
  }

  else
  {
    result = 153;
    __break(0xC471u);
  }

  return result;
}

void WebKit::WebUserMediaClient::removeDeviceChangeObserver(uint64_t a1, uint64_t a2)
{
  v2 = *(a1 + 16);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      CFRetain(*(v3 - 8));
      WebKit::UserMediaPermissionRequestManager::removeDeviceChangeObserver(*(v3 + 600), a2);
      v5 = *(v3 - 8);

      CFRelease(v5);
    }
  }
}

void WebKit::WebUserMediaClient::updateCaptureState(uint64_t a1, void *a2, __int16 a3, __int16 a4, uint64_t *a5)
{
  v5 = *(a1 + 16);
  if (v5)
  {
    v6 = *(v5 + 8);
    if (v6)
    {
      CFRetain(*(v6 - 8));
      WebKit::UserMediaPermissionRequestManager::updateCaptureState(*(v6 + 600), a2, a3, a4, a5);
      v11 = *(v6 - 8);

      CFRelease(v11);
    }
  }
}

void WebKit::WebUserMediaClient::setShouldListenToVoiceActivity(WebKit::WebUserMediaClient *this, char a2)
{
  v2 = *(this + 2);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      CFRetain(*(v3 - 8));
      v12 = a2;
      v5 = (*(*(v3 + 16) + 56))(v3 + 16);
      v7 = IPC::Encoder::operator new(0x238, v6);
      *v7 = 2366;
      *(v7 + 2) = 0;
      *(v7 + 3) = 0;
      *(v7 + 1) = v5;
      *(v7 + 68) = 0;
      *(v7 + 70) = 0;
      *(v7 + 69) = 0;
      IPC::Encoder::encodeHeader(v7);
      v13 = v7;
      IPC::Encoder::operator<<<BOOL &>(v7, &v12);
      (*(*(v3 + 16) + 32))(v3 + 16, &v13, 0);
      v9 = v13;
      v13 = 0;
      if (v9)
      {
        IPC::Encoder::~Encoder(v9, v8);
        bmalloc::api::tzoneFree(v10, v11);
      }

      CFRelease(*(v3 - 8));
    }
  }
}

atomic_uchar *WebKit::GPUProcessWebWorkerClient::createNestedWorkerClient@<X0>(uint64_t a1@<X0>, atomic_ullong *a2@<X1>, uint64_t *a3@<X8>)
{
  v6 = *(a1 + 16);
  if (v6)
  {
    WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v6, *(a1 + 8), &v12);
    v11 = v12;
    v12 = 0;
    if (v11)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v11 + 8));
    }
  }

  v7 = WebKit::GPUProcessWebWorkerClient::operator new(0x28, a2);
  v8 = *(a1 + 24);
  *v7 = &unk_1F1132AA0;
  *(v7 + 8) = a2;
  v9 = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::NetworkDataTask,(WTF::DestructionThread)1>::controlBlock(a2 + 1);
  result = WTF::ThreadSafeWeakPtrControlBlock::weakRef(v9);
  *(v7 + 16) = result;
  *(v7 + 24) = v8;
  *v7 = &unk_1F1132BC8;
  *(v7 + 32) = 0;
  *a3 = v7;
  return result;
}

uint64_t WebKit::GPUProcessWebWorkerClient::operator new(WebKit::GPUProcessWebWorkerClient *this, void *a2)
{
  if (this == 40 && WebKit::GPUProcessWebWorkerClient::operator new(unsigned long)::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(WebKit::GPUProcessWebWorkerClient::operator new(unsigned long)::s_heapRef, a2);
  }

  else
  {
    return bmalloc::api::tzoneAllocateNonCompactSlow();
  }
}

uint64_t WebKit::GPUProcessWebWorkerClient::ensureRenderingBackend(WebKit::GPUProcessWebWorkerClient *this)
{
  v2 = *(this + 2);
  if (v2)
  {
    WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v2, *(this + 1), &v10);
    v3 = v10;
    if (v10)
    {
      v4 = *(this + 4);
      if (v4)
      {
        v10 = 0;
        goto LABEL_9;
      }

      WebKit::RemoteRenderingBackendProxy::create(v10, &v9);
      v5 = v9;
      v9 = 0;
      v6 = *(this + 4);
      *(this + 4) = v5;
      if (v6)
      {
        v7 = v6[5] - 1;
        if (v6[5] != 1)
        {
LABEL_7:
          v6[5] = v7;
          goto LABEL_8;
        }

        (*(*v6 + 24))(v6);
        v6 = v9;
        v9 = 0;
        if (v6)
        {
          v7 = v6[5] - 1;
          if (v6[5] != 1)
          {
            goto LABEL_7;
          }

          (*(*v6 + 24))(v6);
        }
      }

LABEL_8:
      v4 = *(this + 4);
      v3 = v10;
      v10 = 0;
      if (!v3)
      {
        return v4;
      }

LABEL_9:
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v3 + 8));
      return v4;
    }
  }

  else
  {
    v10 = 0;
  }

  result = 81;
  __break(0xC471u);
  return result;
}

atomic_uchar *WebKit::GPUProcessWebWorkerClient::sinkIntoImageBuffer@<X0>(uint64_t a1@<X0>, WebKit::RemoteSerializedImageBufferProxy **a2@<X1>, void *a3@<X8>)
{
  result = *(a1 + 16);
  if (!result)
  {
    v14 = 0;
LABEL_3:
    *a3 = 0;
    goto LABEL_4;
  }

  v10 = a1;
  v11 = a3;
  result = WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(result, *(a1 + 8), &v14);
  a3 = v11;
  if (!v14)
  {
    goto LABEL_3;
  }

  if (!*a2)
  {
    v8 = 0;
LABEL_14:
    *a2 = 0;
    v12 = v8;
    WebKit::WebWorkerClient::sinkIntoImageBuffer(v10, &v12);
    result = v12;
    if (v12)
    {
      result = (*(*v12 + 8))(v12);
    }

    goto LABEL_4;
  }

  v7 = (*(**a2 + 24))(*a2);
  v8 = *a2;
  if (!v7)
  {
    goto LABEL_14;
  }

  *a2 = 0;
  v13 = v8;
  v9 = WebKit::GPUProcessWebWorkerClient::ensureRenderingBackend(v10);
  ++*(v9 + 5);
  result = WebKit::RemoteSerializedImageBufferProxy::sinkIntoImageBuffer(&v13, v9, v11);
  if (*(v9 + 5) != 1)
  {
    --*(v9 + 5);
    if (!v8)
    {
      goto LABEL_4;
    }

    goto LABEL_12;
  }

  result = (*(*v9 + 24))(v9);
  if (v8)
  {
LABEL_12:
    result = (*(*v8 + 8))(v8);
  }

LABEL_4:
  v5 = v14;
  v14 = 0;
  if (v5)
  {
    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v5 + 8));
  }

  return result;
}

uint64_t WebKit::WebWorkerClient::sinkIntoImageBuffer(uint64_t a1, void *a2)
{
  v3 = *(a1 + 16);
  if (v3)
  {
    v7 = a2;
    WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v3, *(a1 + 8), &v9);
    a2 = v7;
    v6 = v9;
    v9 = 0;
    if (v6)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v6 + 8));
      a2 = v7;
    }
  }

  v4 = *a2;
  *a2 = 0;
  v8 = v4;
  WebCore::SerializedImageBuffer::sinkIntoImageBuffer();
  result = v8;
  if (v8)
  {
    return (*(*v8 + 8))(v8);
  }

  return result;
}

void WebKit::GPUProcessWebWorkerClient::createImageBuffer(uint64_t a1@<X0>, void *a2@<X1>, int a3@<W2>, int a4@<W3>, CFTypeRef *a5@<X4>, __int16 a6@<W5>, void *a7@<X8>, float a8@<S0>)
{
  if (*(a1 + 16))
  {
    v17 = a1;
    WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(*(a1 + 16), *(a1 + 8), &v20);
    a1 = v17;
    v18 = v20;
    v20 = 0;
    if (v18)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v18 + 8));
      a1 = v17;
    }
  }

  {
    v15 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v19 = a1;
    v15 = WebKit::WebProcess::operator new(0x370, a2);
    WebKit::WebProcess::WebProcess(v15);
    a1 = v19;
    WebKit::WebProcess::singleton(void)::process = v15;
  }

  if ((a4 - 2) < 4)
  {
    if (*(v15 + 802))
    {
      goto LABEL_6;
    }

LABEL_10:
    *a7 = 0;
    return;
  }

  if (a4 != 1)
  {
    if (a4 == 7 && (*(v15 + 803) & 1) != 0)
    {
      goto LABEL_6;
    }

    goto LABEL_10;
  }

  if (*(v15 + 801) != 1)
  {
    goto LABEL_10;
  }

LABEL_6:
  v16 = WebKit::GPUProcessWebWorkerClient::ensureRenderingBackend(a1);
  ++*(v16 + 20);
  WebKit::RemoteRenderingBackendProxy::createImageBuffer(v16, a2, a3, a4, a5, a6, &v20, a8);
  *a7 = v20;
  v20 = 0;
  if (*(v16 + 20) == 1)
  {
    (*(*v16 + 24))(v16);
  }

  else
  {
    --*(v16 + 20);
  }
}

void WebKit::GPUProcessWebWorkerClient::createGraphicsContextGL(uint64_t a1@<X0>, _BYTE *a2@<X1>, void *a3@<X8>)
{
  v4 = *(a1 + 16);
  if (!v4)
  {
    v15 = 0;
LABEL_3:
    *a3 = 0;
    goto LABEL_4;
  }

  v11 = a1;
  v13 = a3;
  WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v4, *(a1 + 8), &v15);
  a3 = v13;
  if (!v15)
  {
    goto LABEL_3;
  }

  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v10 = WebKit::WebProcess::operator new(0x370, v6);
    v7 = WebKit::WebProcess::WebProcess(v10);
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  if (*(v7 + 804) == 1)
  {
    v8 = WebKit::GPUProcessWebWorkerClient::ensureRenderingBackend(v11);
    ++*(v8 + 20);
    WebKit::RemoteGraphicsContextGLProxy::create(a2, v8, v15, &v14);
    v9 = v14 + 24;
    if (!v14)
    {
      v9 = 0;
    }

    *v13 = v9;
    if (*(v8 + 20) == 1)
    {
      (*(*v8 + 24))(v8);
    }

    else
    {
      --*(v8 + 20);
    }
  }

  else
  {
    WebKit::WebWorkerClient::createGraphicsContextGL(v11);
  }

LABEL_4:
  v5 = v15;
  v15 = 0;
  if (v5)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v5 + 8));
  }
}

uint64_t WebKit::WebWorkerClient::createGraphicsContextGL(uint64_t a1)
{
  v2 = *(a1 + 16);
  if (v2)
  {
    WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v2, *(a1 + 8), &v5);
    v4 = v5;
    v5 = 0;
    if (v4)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v4 + 8));
    }
  }

  return WebCore::createWebProcessGraphicsContextGL();
}

void WebKit::GPUProcessWebWorkerClient::createGPUForWebGPU(WebKit::GPUProcessWebWorkerClient *this@<X0>, void *a2@<X8>)
{
  v4 = *(this + 2);
  if (v4 && (WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v4, *(this + 1), &v11), v11))
  {
    v6 = a2;
    v7 = WebKit::WebGPU::DowncastConvertToBackingContext::operator new(0x10, v5);
    *v7 = &unk_1F1126A18;
    v7[1] = 1;
    v8 = WebKit::GPUProcessWebWorkerClient::ensureRenderingBackend(this);
    ++*(v8 + 20);
    WebKit::RemoteGPUProxy::create(v7, v8, v11, &v10);
    *v6 = v10;
    if (*(v8 + 20) == 1)
    {
      (*(*v8 + 24))(v8);
    }

    else
    {
      --*(v8 + 20);
    }

    if (*(v7 + 2) == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --*(v7 + 2);
    }

    v9 = v11;
    v11 = 0;
    if (v9)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v9 + 8));
    }
  }

  else
  {
    *a2 = 0;
  }
}

atomic_uchar *WebKit::WebWorkerClient::create@<X0>(uint64_t a1@<X0>, atomic_ullong *a2@<X1>, uint64_t *a3@<X8>)
{
  v6 = WebKit::GPUProcessWebWorkerClient::operator new(0x28, a2);
  LODWORD(a1) = *(a1 + 272);
  *v6 = &unk_1F1132AA0;
  *(v6 + 8) = a2;
  v7 = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::NetworkDataTask,(WTF::DestructionThread)1>::controlBlock(a2 + 1);
  result = WTF::ThreadSafeWeakPtrControlBlock::weakRef(v7);
  *(v6 + 16) = result;
  *(v6 + 24) = a1;
  *v6 = &unk_1F1132BC8;
  *(v6 + 32) = 0;
  *a3 = v6;
  return result;
}

void WebKit::WebWorkerClient::~WebWorkerClient(WebKit::WebWorkerClient *this, void *a2)
{
  *this = &unk_1F1132AA0;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    WTF::ThreadSafeWeakPtrControlBlock::weakDeref(v3, a2);
  }
}

{
  *this = &unk_1F1132AA0;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    WTF::ThreadSafeWeakPtrControlBlock::weakDeref(v3, a2);
  }

  bmalloc::api::tzoneFree(this, a2);
}

atomic_uchar *WebKit::WebWorkerClient::createNestedWorkerClient@<X0>(uint64_t a1@<X0>, atomic_ullong *a2@<X1>, void *a3@<X8>)
{
  v6 = *(a1 + 16);
  if (v6)
  {
    WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v6, *(a1 + 8), &v13);
    v12 = v13;
    v13 = 0;
    if (v12)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v12 + 8));
    }
  }

  if (WebKit::WebWorkerClient::s_heapRef)
  {
    NonCompact = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebWorkerClient::s_heapRef, a2);
  }

  else
  {
    NonCompact = WebKit::WebWorkerClient::operatorNewSlow(0);
  }

  v8 = NonCompact;
  v9 = *(a1 + 24);
  *NonCompact = &unk_1F1132AA0;
  NonCompact[1] = a2;
  v10 = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::NetworkDataTask,(WTF::DestructionThread)1>::controlBlock(a2 + 1);
  result = WTF::ThreadSafeWeakPtrControlBlock::weakRef(v10);
  v8[2] = result;
  *(v8 + 6) = v9;
  *a3 = v8;
  return result;
}

uint64_t WebKit::WebWorkerClient::displayID(WebKit::WebWorkerClient *this)
{
  v3 = *(this + 2);
  if (v3)
  {
    v7[1] = v1;
    v7[2] = v2;
    v6 = this;
    WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(v3, *(this + 1), v7);
    this = v6;
    v5 = v7[0];
    v7[0] = 0;
    if (v5)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v5 + 8));
      this = v6;
    }
  }

  return *(this + 6);
}

atomic_uchar *WebKit::WebWorkerClient::createImageBuffer@<X0>(uint64_t a1@<X0>, void *a2@<X8>)
{
  result = *(a1 + 16);
  if (result)
  {
    v8[1] = v2;
    v8[2] = v3;
    v7 = a2;
    result = WTF::ThreadSafeWeakPtrControlBlock::makeStrongReferenceIfPossible<WebKit::RemoteImageBufferProxy>(result, *(a1 + 8), v8);
    a2 = v7;
    v6 = v8[0];
    v8[0] = 0;
    if (v6)
    {
      result = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v6 + 8));
      a2 = v7;
    }
  }

  *a2 = 0;
  return result;
}

uint64_t WebKit::WebCaptionPreferencesDelegate::setDisplayMode(uint64_t a1, void *a2)
{
  v2 = a2;
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = *(v3 + 5);
  v5 = IPC::Encoder::operator new(0x238, a2);
  *v5 = 2921;
  *(v5 + 68) = 0;
  *(v5 + 70) = 0;
  *(v5 + 69) = 0;
  *(v5 + 2) = 0;
  *(v5 + 3) = 0;
  *(v5 + 1) = 0;
  IPC::Encoder::encodeHeader(v5);
  v12 = v5;
  IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v5, v2);
  IPC::Connection::sendMessageImpl(v4, &v12, 0, 0);
  v7 = v12;
  v12 = 0;
  if (v7)
  {
    IPC::Encoder::~Encoder(v7, v6);
    bmalloc::api::tzoneFree(v9, v10);
  }

  return WebCore::CaptionUserPreferencesMediaAF::setCachedCaptionDisplayMode();
}

IPC::Encoder *WebKit::WebCaptionPreferencesDelegate::setPreferredLanguage(WebKit::WebCaptionPreferencesDelegate *this, const WTF::String *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v10 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v10);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = *(v3 + 5);
  v5 = IPC::Encoder::operator new(0x238, a2);
  *v5 = 2922;
  *(v5 + 68) = 0;
  *(v5 + 70) = 0;
  *(v5 + 69) = 0;
  *(v5 + 2) = 0;
  *(v5 + 3) = 0;
  *(v5 + 1) = 0;
  IPC::Encoder::encodeHeader(v5);
  v11 = v5;
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v5, a2);
  IPC::Connection::sendMessageImpl(v4, &v11, 0, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v6);
    return bmalloc::api::tzoneFree(v8, v9);
  }

  return result;
}

void WebKit::WebValidationMessageClient::~WebValidationMessageClient(WebKit::WebValidationMessageClient *this, void *a2)
{
  v3 = *(this + 2);
  if (v3)
  {
    v5 = *(v3 + 8);
    if (v5)
    {
      *(v5 + 7) += 2;
      WebKit::WebValidationMessageClient::hideValidationMessage(this, v5);
      if (*(v5 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    v6 = *(this + 2);
    *(this + 2) = 0;
    if (v6)
    {
      WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v6, a2);
    }
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4)
  {
    if (atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v4);
      WTF::fastFree(v4, a2);
    }
  }
}

{
  WebKit::WebValidationMessageClient::~WebValidationMessageClient(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

void WebKit::WebValidationMessageClient::hideValidationMessage(WebKit::WebValidationMessageClient *this, const WebCore::Element *a2)
{
  v4 = *(this + 1);
  if (v4 && (v5 = *(v4 + 8)) != 0)
  {
    v6 = v5 - 16;
    CFRetain(*(v5 - 8));
    v7 = 0;
  }

  else
  {
    v6 = 0;
    v7 = 1;
  }

  v8 = *(this + 2);
  if (!v8 || *(v8 + 8) != a2)
  {
    if (v7)
    {
      return;
    }

    goto LABEL_7;
  }

  if ((v7 & 1) == 0)
  {
    *(this + 2) = 0;
    WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v8, a2);
    *(this + 3) = 0;
    *(this + 4) = 0;
    v17 = v6;
    v9 = v6 + 32;
    v10 = (*(*(v6 + 32) + 56))(v6 + 32);
    v12 = IPC::Encoder::operator new(0x238, v11);
    *v12 = 2273;
    *(v12 + 2) = 0;
    *(v12 + 3) = 0;
    *(v12 + 1) = v10;
    *(v12 + 68) = 0;
    *(v12 + 70) = 0;
    *(v12 + 69) = 0;
    IPC::Encoder::encodeHeader(v12);
    v18 = v12;
    (*(*v9 + 32))(v9, &v18, 0);
    v14 = v18;
    v18 = 0;
    if (v14)
    {
      IPC::Encoder::~Encoder(v14, v13);
      bmalloc::api::tzoneFree(v15, v16);
    }

    v6 = v17;
LABEL_7:
    CFRelease(*(v6 + 8));
  }
}

void WebKit::WebValidationMessageClient::documentDetached(WebKit::WebValidationMessageClient *this, WebCore::Document *a2)
{
  v2 = *(this + 2);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      v4 = *(v3 + 28);
      *(v3 + 28) = v4 + 2;
      if (*(*(v3 + 48) + 8) == a2)
      {
        WebKit::WebValidationMessageClient::hideValidationMessage(this, v3);
        v4 = *(v3 + 28) - 2;
      }

      if (v4)
      {
        *(v3 + 28) = v4;
      }

      else
      {

        WebCore::Node::removedLastRef(v3);
      }
    }
  }
}

void WebKit::WebValidationMessageClient::showValidationMessage(WebKit::WebValidationMessageClient *this, atomic_uint *a2, uint64_t *a3)
{
  v6 = *(this + 2);
  if (v6)
  {
    v21 = *(v6 + 8);
    if (v21)
    {
      *(v21 + 7) += 2;
      WebKit::WebValidationMessageClient::hideValidationMessage(this, v21);
      if (*(v21 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v21);
      }

      else
      {
        *(v21 + 7) -= 2;
      }
    }
  }

  WTF::WeakPtrFactoryWithBitField<WebCore::EventTarget,WebCore::WeakPtrImplWithEventTargetData>::initializeIfNeeded(a2 + 4, a2);
  v8 = (*(a2 + 2) & 0xFFFFFFFFFFFFLL);
  atomic_fetch_add(v8, 1u);
  v9 = *(this + 2);
  *(this + 2) = v8;
  if (v9)
  {
    WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v9, v7);
  }

  *(this + 3) = WebCore::Element::boundingBoxInRootViewCoordinates(a2);
  *(this + 4) = v10;
  v11 = (this + 24);
  v12 = *(v11 - 2);
  if (v12 && (v13 = *(v12 + 8)) != 0)
  {
    CFRetain(*(v13 - 8));
    v14 = (*(*(v13 + 16) + 56))(v13 + 16);
    v16 = IPC::Encoder::operator new(0x238, v15);
    *v16 = 2387;
    *(v16 + 2) = 0;
    *(v16 + 3) = 0;
    *(v16 + 1) = v14;
    *(v16 + 68) = 0;
    *(v16 + 70) = 0;
    *(v16 + 69) = 0;
    IPC::Encoder::encodeHeader(v16);
    v22 = v16;
    IPC::ArgumentCoder<WebCore::IntRect,void>::encode(v16, v11);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v16, a3);
    (*(*(v13 + 16) + 32))(v13 + 16, &v22, 0);
    v18 = v22;
    v22 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v17);
      bmalloc::api::tzoneFree(v19, v20);
    }

    CFRelease(*(v13 - 8));
  }

  else
  {
    __break(0xC471u);
  }
}

BOOL WebKit::WebValidationMessageClient::isValidationMessageVisible(WebKit::WebValidationMessageClient *this, const WebCore::Element *a2)
{
  v2 = *(this + 2);
  if (v2)
  {
    v2 = *(v2 + 1);
  }

  return v2 == a2;
}

void WebKit::WebValidationMessageClient::hideAnyValidationMessage(WebKit::WebValidationMessageClient *this, void *a2)
{
  v3 = *(this + 1);
  if (v3 && (v4 = *(v3 + 8)) != 0)
  {
    v5 = v4 - 16;
    CFRetain(*(v4 - 8));
    v6 = 0;
  }

  else
  {
    v5 = 0;
    v6 = 1;
  }

  v7 = *(this + 2);
  if (v7 && *(v7 + 8))
  {
    if (v6)
    {
      return;
    }

    *(this + 2) = 0;
    WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v7, a2);
    *(this + 3) = 0;
    *(this + 4) = 0;
    v8 = (*(*(v5 + 32) + 56))(v5 + 32);
    v10 = IPC::Encoder::operator new(0x238, v9);
    *v10 = 2273;
    *(v10 + 2) = 0;
    *(v10 + 3) = 0;
    *(v10 + 1) = v8;
    *(v10 + 68) = 0;
    *(v10 + 70) = 0;
    *(v10 + 69) = 0;
    IPC::Encoder::encodeHeader(v10);
    v15 = v10;
    (*(*(v5 + 32) + 32))(v5 + 32, &v15, 0);
    v12 = v15;
    v15 = 0;
    if (v12)
    {
      IPC::Encoder::~Encoder(v12, v11);
      bmalloc::api::tzoneFree(v13, v14);
    }
  }

  else if (v6)
  {
    return;
  }

  CFRelease(*(v5 + 8));
}

void WebKit::WebValidationMessageClient::updateValidationBubbleStateIfNeeded(WebKit::WebValidationMessageClient *this)
{
  v1 = *(this + 2);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      *(v2 + 7) += 2;
      v6 = WebCore::Element::boundingBoxInRootViewCoordinates(v2);
      v7 = *(this + 6) == v6 && *(this + 7) == HIDWORD(v6);
      if (!v7 || (*(this + 8) == v4 ? (v8 = *(this + 9) == v5) : (v8 = 0), !v8))
      {
        WebKit::WebValidationMessageClient::hideValidationMessage(this, v2);
      }

      if (*(v2 + 7) == 2)
      {

        WebCore::Node::removedLastRef(v2);
      }

      else
      {
        *(v2 + 7) -= 2;
      }
    }
  }
}

void WebKit::WebPreviewLoaderClient::~WebPreviewLoaderClient(WebKit::WebPreviewLoaderClient *this, WTF::StringImpl *a2)
{
  v3 = *(this + 5);
  *(this + 5) = 0;
  if (v3 && atomic_fetch_add(v3 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3 + 2);
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 3);
  *(this + 3) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = *(this + 2);
  *(this + 2) = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, a2);
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  WebKit::WebPreviewLoaderClient::~WebPreviewLoaderClient(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::WebPreviewLoaderClient::didReceiveData(uint64_t **this, const WebCore::SharedBuffer *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v8 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v8);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v9[0] = this[4];
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v3 + 17, v9);
  if (result)
  {
    v5 = this[5];
    if (!v5 || !v5[7])
    {
      v9[0] = (this + 2);
      v9[1] = (this + 3);
      v6 = result + 32;
      v7 = (*(*(result + 32) + 56))(result + 32);
      IPC::MessageSender::send<Messages::WebPageProxy::DidStartLoadForQuickLookDocumentInMainFrame>(v6, v9, v7, 0);
    }

    return WebCore::SharedBufferBuilder::append<WebCore::SharedBuffer const&>((this + 5));
  }

  return result;
}

unsigned int *WebKit::WebPreviewLoaderClient::didFinishLoading(WebKit::WebPreviewLoaderClient *this, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v6 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v6);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v7 = *(this + 4);
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v3 + 17, &v7);
  if (result)
  {
    v5 = result;
    WebCore::SharedBufferBuilder::take(&v7, (this + 40));
    WebKit::WebPage::didFinishLoadForQuickLookDocumentInMainFrame(v5, v7);
    result = v7;
    v7 = 0;
    if (result)
    {
      if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, result + 2);
        return (*(*result + 8))(result);
      }
    }
  }

  return result;
}

unsigned int *WebKit::WebPreviewLoaderClient::didFail(WebKit::WebPreviewLoaderClient *this)
{
  result = *(this + 5);
  *(this + 5) = 0;
  if (result)
  {
    if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result + 2);
      return (*(*result + 8))();
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebPreviewLoaderClient::didRequestPassword(uint64_t a1, void *a2)
{
  {
    v4 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = WebKit::WebProcess::operator new(0x370, a2);
    v4 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v4;
  }

  v13 = *(a1 + 32);
  v5 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v4 + 17, &v13);
  if (v5)
  {
    v6 = *a2;
    *a2 = 0;
    v12 = v6;
    v13 = (a1 + 16);
    v7 = v5 + 32;
    v8 = (*(*(v5 + 32) + 56))(v5 + 32);
    IPC::MessageSender::sendWithAsyncReply<Messages::WebPageProxy::RequestPasswordForQuickLookDocumentInMainFrame,WTF::CompletionHandler<void ()(WTF::String const&)>>(v7, &v13, &v12, v8, 0);
    result = v12;
    v12 = 0;
    if (result)
    {
      return (*(*result + 8))(result);
    }
  }

  else
  {
    v13 = 0;
    (*(**a2 + 16))(*a2, &v13);
    result = v13;
    v13 = 0;
    if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v10);
    }
  }

  return result;
}

void WebKit::WebSpeechSynthesisClient::~WebSpeechSynthesisClient(WebKit::WebSpeechSynthesisClient *this, WTF::StringImpl *a2)
{
  WebKit::WebSpeechSynthesisClient::~WebSpeechSynthesisClient(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

{
  WTF::Vector<WTF::RefPtr<WebCore::PlatformSpeechSynthesisVoice,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisVoice>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisVoice>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 40, a2);
  v4 = *(this + 4);
  *(this + 4) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, v3);
  }

  v5 = *(this + 3);
  *(this + 3) = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, v3);
  }

  WTF::WeakPtrFactory<WebKit::SessionSet,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 1, v3);
  if (*(this + 4) != 1)
  {
    __break(0xC471u);
  }
}

unsigned int *WebKit::WebSpeechSynthesisClient::setObserver(uint64_t a1, atomic_uint **a2)
{
  v3 = *a2;
  if (*a2)
  {
    atomic_fetch_add(v3, 1u);
  }

  result = *(a1 + 32);
  *(a1 + 32) = v3;
  if (result)
  {
    if (atomic_fetch_add(result, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      return WTF::fastFree(result, a2);
    }
  }

  return result;
}

uint64_t WebKit::WebSpeechSynthesisClient::observer@<X0>(uint64_t this@<X0>, atomic_uint **a2@<X8>)
{
  v2 = *(this + 32);
  if (v2)
  {
    atomic_fetch_add(v2, 1u);
  }

  *a2 = v2;
  return this;
}

void WebKit::WebUserMediaClient::~WebUserMediaClient(WebKit::WebUserMediaClient *this, void *a2)
{
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  if (*(this + 2) == 1)
  {

    bmalloc::api::tzoneFree(this, a2);
  }

  else
  {
    __break(0xC471u);
  }
}

{
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

void WebKit::GPUProcessWebWorkerClient::~GPUProcessWebWorkerClient(WebKit::GPUProcessWebWorkerClient *this, void *a2)
{
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3)
  {
    if (v3[5] == 1)
    {
      (*(*v3 + 24))(v3);
    }

    else
    {
      --v3[5];
    }
  }

  *this = &unk_1F1132AA0;
  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4)
  {
    WTF::ThreadSafeWeakPtrControlBlock::weakDeref(v4, a2);
  }
}

{
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3)
  {
    if (v3[5] == 1)
    {
      (*(*v3 + 24))(v3);
    }

    else
    {
      --v3[5];
    }
  }

  *this = &unk_1F1132AA0;
  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4)
  {
    WTF::ThreadSafeWeakPtrControlBlock::weakDeref(v4, a2);
  }

  bmalloc::api::tzoneFree(this, a2);
}

_DWORD *WTF::RefCounted<WebKit::WebSpeechSynthesisClient>::deref(_DWORD *result, WTF::StringImpl *a2)
{
  if (*result == 1)
  {
    WebKit::WebSpeechSynthesisClient::~WebSpeechSynthesisClient((result - 4), a2);

    return bmalloc::api::tzoneFree(v3, v4);
  }

  else
  {
    --*result;
  }

  return result;
}

_DWORD *WTF::RefCounted<WebKit::WebUserMediaClient>::deref(_DWORD *result, void *a2)
{
  if (*result == 1)
  {
    WebKit::WebUserMediaClient::~WebUserMediaClient((result - 2), a2);

    return bmalloc::api::tzoneFree(v3, v4);
  }

  else
  {
    --*result;
  }

  return result;
}

uint64_t WTF::Vector<WTF::RefPtr<WebCore::PlatformSpeechSynthesisVoice,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisVoice>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisVoice>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 + 12);
  if (v3)
  {
    v6 = *a1;
    v7 = 8 * v3;
    do
    {
      v8 = *v6;
      *v6 = 0;
      if (v8)
      {
        WTF::RefCounted<WebCore::PlatformSpeechSynthesisVoice>::deref(v8, a2);
      }

      ++v6;
      v7 -= 8;
    }

    while (v7);
  }

  v4 = *a1;
  if (*a1)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v4, a2);
  }

  return a1;
}

WTF::StringImpl *IPC::Decoder::decode<WebKit::WebSpeechSynthesisVoice>(uint64_t a1, IPC::Decoder *a2)
{
  result = IPC::ArgumentCoder<WebKit::WebSpeechSynthesisVoice,void>::decode(a2, a1);
  if ((*(a1 + 32) & 1) == 0)
  {
    v5 = *(a2 + 1);
    *a2 = 0;
    *(a2 + 1) = 0;
    result = *(a2 + 3);
    if (result && v5 != 0)
    {
      v7 = *(*result + 16);

      return v7();
    }
  }

  return result;
}

unint64_t WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::WebSpeechSynthesisVoice>(unsigned int *a1, unint64_t a2)
{
  result = WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, a1[3] + 1, a2);
  v4 = *a1 + 32 * a1[3];
  v5 = *result;
  *result = 0;
  *v4 = v5;
  v6 = *(result + 8);
  *(result + 8) = 0;
  *(v4 + 8) = v6;
  v7 = *(result + 16);
  *(result + 16) = 0;
  *(v4 + 16) = v7;
  *(v4 + 24) = *(result + 24);
  ++a1[3];
  return result;
}

unint64_t WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(unsigned int *a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 32 * a1[3] <= a3)
  {
    v10 = a1[2];
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = a1[2];
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

WTF::StringImpl *WTF::Vector<WebKit::WebSpeechSynthesisVoice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(WTF::StringImpl *result, unint64_t a2)
{
  if (*(result + 2) < a2)
  {
    v2 = a2;
    if (a2 >> 27)
    {
      __break(0xC471u);
    }

    else
    {
      v3 = result;
      v4 = *result;
      v5 = (*result + 32 * *(result + 3));
      v6 = WTF::fastMalloc((32 * a2));
      *(v3 + 2) = v2;
      *v3 = v6;
      result = WTF::VectorMover<false,WebCore::UserContentURLPattern>::move(v4, v5, v6);
      if (v4)
      {
        if (*v3 == v4)
        {
          *v3 = 0;
          *(v3 + 2) = 0;
        }

        return WTF::fastFree(v4, v7);
      }
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::speak(WTF::RefPtr<WebCore::PlatformSpeechSynthesisUtterance,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisUtterance>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisUtterance>>)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1132C48;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::speak(WTF::RefPtr<WebCore::PlatformSpeechSynthesisUtterance,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisUtterance>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisUtterance>>)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132C48;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

_DWORD *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::speak(WTF::RefPtr<WebCore::PlatformSpeechSynthesisUtterance,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisUtterance>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisUtterance>>)::$_0,void>::call(_DWORD *result)
{
  v1 = *(result + 1);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      v4 = *(v2 + 16);
      v3 = v2 + 16;
      *v3 = v4 + 1;
      v5 = WebKit::WebSpeechSynthesisClient::corePageObserver(*(v3 + 8));
      if (v5)
      {
        v7 = v5;
        (**v5)(v5);
        (*v7)[4](v7);
        (*v7)[1](v7);
      }

      return WTF::RefCounted<WebKit::WebSpeechSynthesisClient>::deref(v3, v6);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::speak(WTF::RefPtr<WebCore::PlatformSpeechSynthesisUtterance,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisUtterance>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisUtterance>>)::$_1,void>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1132C70;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::speak(WTF::RefPtr<WebCore::PlatformSpeechSynthesisUtterance,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisUtterance>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisUtterance>>)::$_1,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132C70;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

_DWORD *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::speak(WTF::RefPtr<WebCore::PlatformSpeechSynthesisUtterance,WTF::RawPtrTraits<WebCore::PlatformSpeechSynthesisUtterance>,WTF::DefaultRefDerefTraits<WebCore::PlatformSpeechSynthesisUtterance>>)::$_1,void>::call(_DWORD *result)
{
  v1 = *(result + 1);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      v4 = *(v2 + 16);
      v3 = v2 + 16;
      *v3 = v4 + 1;
      v5 = WebKit::WebSpeechSynthesisClient::corePageObserver(*(v3 + 8));
      if (v5)
      {
        v7 = v5;
        (**v5)(v5);
        (*v7)[5](v7);
        (*v7)[1](v7);
      }

      return WTF::RefCounted<WebKit::WebSpeechSynthesisClient>::deref(v3, v6);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisSetFinishedCallback,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132C98;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisSetFinishedCallback,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132C98;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisSetFinishedCallback,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v1 + 16))(v1);
  v2 = *(*v1 + 8);

  return v2(v1);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisSpeak,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132CC0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisSpeak,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132CC0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisSpeak,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v1 + 16))(v1);
  v2 = *(*v1 + 8);

  return v2(v1);
}

void *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::pause(void)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1132CE8;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::pause(void)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132CE8;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

_DWORD *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::pause(void)::$_0,void>::call(_DWORD *result)
{
  v1 = *(result + 1);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      v4 = *(v2 + 16);
      v3 = v2 + 16;
      *v3 = v4 + 1;
      v5 = WebKit::WebSpeechSynthesisClient::corePageObserver(*(v3 + 8));
      if (v5)
      {
        v7 = v5;
        (**v5)(v5);
        (*v7)[6](v7);
        (*v7)[1](v7);
      }

      return WTF::RefCounted<WebKit::WebSpeechSynthesisClient>::deref(v3, v6);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisPause,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132D10;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisPause,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132D10;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisPause,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v1 + 16))(v1);
  v2 = *(*v1 + 8);

  return v2(v1);
}

void *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::resume(void)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1132D38;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::resume(void)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132D38;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

_DWORD *WTF::Detail::CallableWrapper<WebKit::WebSpeechSynthesisClient::resume(void)::$_0,void>::call(_DWORD *result)
{
  v1 = *(result + 1);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      v4 = *(v2 + 16);
      v3 = v2 + 16;
      *v3 = v4 + 1;
      v5 = WebKit::WebSpeechSynthesisClient::corePageObserver(*(v3 + 8));
      if (v5)
      {
        v7 = v5;
        (**v5)(v5);
        (*v7)[7](v7);
        (*v7)[1](v7);
      }

      return WTF::RefCounted<WebKit::WebSpeechSynthesisClient>::deref(v3, v6);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisResume,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132D60;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisResume,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132D60;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::SpeechSynthesisResume,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v1 + 16))(v1);
  v2 = *(*v1 + 8);

  return v2(v1);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Persisted,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132D88;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Persisted,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132D88;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Persisted,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = *&v4 & ((v4 & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Persist,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132DB0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Persist,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132DB0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Persist,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = *&v4 & ((v4 & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

void *WTF::Detail::CallableWrapper<WebCore::ClientOrigin &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Estimate,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0>(WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132DD8;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebCore::ClientOrigin &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Estimate,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0>(WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132DD8;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebCore::ClientOrigin &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Estimate,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0>(WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &,WebKit::WebStorageConnection::getEstimate(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<WebCore::StorageEstimate> &&)> &&)::$_0>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (!a3)
  {
    goto LABEL_12;
  }

  v5 = *a3;
  if (!*a3)
  {
    goto LABEL_12;
  }

  v6 = a3[1];
  v7 = a3[2];
  if (v6 <= &v7[-v5])
  {
    *a3 = 0;
    a3[1] = 0;
    v23 = a3[3];
    if (v23)
    {
      if (v6)
      {
        (*(*v23 + 16))(v23);
        v5 = *a3;
        v6 = a3[1];
        goto LABEL_24;
      }
    }

    else
    {
      v6 = 0;
    }

    v5 = 0;
LABEL_24:
    *a3 = 0;
    a3[1] = 0;
    v24 = a3[3];
    if (v24)
    {
      if (v6)
      {
        (*(*v24 + 16))(v24, v5);
        v5 = *a3;
        v6 = a3[1];
        goto LABEL_27;
      }
    }

    else
    {
      v6 = 0;
    }

    v5 = 0;
LABEL_27:
    *a3 = 0;
    a3[1] = 0;
    v25 = a3[3];
    if (v25 && v6)
    {
      (*(*v25 + 16))(v25, v5);
    }

    goto LABEL_10;
  }

  a3[2] = (v7 + 1);
  if (!v7)
  {
    goto LABEL_24;
  }

  v8 = *v7;
  if (v8 >= 2)
  {
    goto LABEL_27;
  }

  if (!v8)
  {
LABEL_12:
    v29 = 33;
    *&v30[7] = 0;
    v31 = 1;
    v18 = *(a1 + 8);
    *(a1 + 8) = 0;
    (*(*v18 + 16))(v18, &v29);
    (*(*v18 + 8))(v18);
    v11 = &v29;
    return mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v11, v10);
  }

  IPC::ArgumentCoder<WebCore::StorageEstimate,void>::decode(a3, &v29);
  if ((v31 & 1) == 0)
  {
    v12 = *a3;
    v13 = a3[1];
    *a3 = 0;
    a3[1] = 0;
    v14 = a3[3];
    if (!v14 || !v13 || ((*(*v14 + 16))(v14, v12), (v31 & 1) == 0))
    {
LABEL_10:
      v15 = *a3;
      v16 = a3[1];
      *a3 = 0;
      a3[1] = 0;
      v17 = a3[3];
      if (v17 && v16)
      {
        (*(*v17 + 16))(v17, v15);
        v20 = *a3;
        v21 = a3[1];
        v22 = a3[3];
        *a3 = 0;
        a3[1] = 0;
        if (v22 && v21)
        {
          (*(*v22 + 16))(v22, v20);
        }
      }

      else
      {
        *a3 = 0;
        a3[1] = 0;
      }

      goto LABEL_12;
    }
  }

  *v27 = *v30;
  *&v27[7] = *&v30[7];
  v26 = v29;
  v28 = 0;
  v9 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v9 + 16))(v9, &v26);
  (*(*v9 + 8))(v9);
  v11 = &v26;
  return mpark::detail::move_constructor<mpark::detail::traits<BOOL,WebCore::ExceptionData>,(mpark::detail::Trait)1>::~move_constructor(v11, v10);
}

void *WTF::Detail::CallableWrapper<WebCore::ClientOrigin &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::FileSystemGetDirectory,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0>(WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1132E00;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebCore::ClientOrigin &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::FileSystemGetDirectory,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0>(WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1132E00;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

unsigned int *WTF::Detail::CallableWrapper<WebCore::ClientOrigin &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::FileSystemGetDirectory,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0>(WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &,WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WTF::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::FileSystemStorageConnection,WTF::RawPtrTraits<WTF::RefPtr>,WTF::DefaultRefDerefTraits<WTF::RefPtr>>>> &&)> &&)::$_0>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (!a3 || (v5 = *a3) == 0)
  {
LABEL_35:
    v26 = 10;
    v31 = 1;
    return std::apply[abi:sn200100]<WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WebCore::ClientOrigin &&::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WebCore::ClientOrigin &&::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WebCore::ClientOrigin &&::RefPtr<WebCore::FileSystemStorageConnection,WebCore::ClientOrigin &&::RawPtrTraits<WebCore::ClientOrigin &&::RefPtr>,WebCore::ClientOrigin &&::DefaultRefDerefTraits<WebCore::ClientOrigin &&::RefPtr>>>> &&)> &&)::$_0,std::tuple<std::experimental::fundamentals_v3::expected<std::optional<WebCore::ClientOrigin &&::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>>,WebKit::FileSystemStorageError>>>((a1 + 8), &v26);
  }

  v6 = a3[1];
  v7 = a3[2];
  if (v6 <= &v7[-v5])
  {
    *a3 = 0;
    a3[1] = 0;
    v14 = a3[3];
    if (v14)
    {
      if (v6)
      {
        (*(*v14 + 16))(v14);
        v5 = *a3;
        v6 = a3[1];
        goto LABEL_21;
      }
    }

    else
    {
      v6 = 0;
    }

    v5 = 0;
LABEL_21:
    *a3 = 0;
    a3[1] = 0;
    v15 = a3[3];
    if (v15)
    {
      if (v6)
      {
LABEL_47:
        (*(*v15 + 16))(v15, v5);
LABEL_29:
        v5 = *a3;
        v6 = a3[1];
        goto LABEL_30;
      }
    }

    else
    {
      v6 = 0;
    }

    v5 = 0;
LABEL_30:
    *a3 = 0;
    a3[1] = 0;
    v20 = a3[3];
    if (v20 && v6)
    {
      (*(*v20 + 16))(v20, v5);
    }

LABEL_31:
    v21 = *a3;
    v22 = a3[1];
    *a3 = 0;
    a3[1] = 0;
    v23 = a3[3];
    if (v23)
    {
      if (v22)
      {
        (*(*v23 + 16))(v23, v21);
        v24 = *a3;
        v22 = a3[1];
        v23 = a3[3];
        goto LABEL_34;
      }
    }

    else
    {
      v22 = 0;
    }

    v24 = 0;
LABEL_34:
    *a3 = 0;
    a3[1] = 0;
    if (v23 && v22)
    {
      (*(*v23 + 16))(v23, v24);
    }

    goto LABEL_35;
  }

  v8 = v7 + 1;
  a3[2] = (v7 + 1);
  if (!v7)
  {
    goto LABEL_21;
  }

  if (*v7 >= 2u)
  {
    goto LABEL_30;
  }

  if (*v7)
  {
    if (v6 <= &v8[-v5])
    {
      v16 = 0;
      v17 = 0;
      *a3 = 0;
      a3[1] = 0;
      v18 = a3[3];
      if (v18)
      {
        (*(*v18 + 16))(v18);
        v17 = *a3;
        v16 = a3[1];
      }
    }

    else
    {
      a3[2] = (v7 + 2);
      if (v7 != -1)
      {
        v9 = *v8;
        if (v9 < 2)
        {
          if (!*v8)
          {
            v10 = 0;
            goto LABEL_16;
          }

          v10 = IPC::Decoder::decode<WTF::ObjectIdentifierGeneric<WebKit::RemoteVideoFrameIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>(a3);
          if (v11)
          {
            LOBYTE(v9) = 1;
LABEL_16:
            v13 = 0;
            v12 = v10 >> 8;
            goto LABEL_17;
          }

          goto LABEL_29;
        }

LABEL_28:
        *a3 = 0;
        a3[1] = 0;
        v15 = a3[3];
        if (!v15 || !v6)
        {
          goto LABEL_29;
        }

        goto LABEL_47;
      }

      v16 = v6;
      v17 = v5;
    }

    *a3 = 0;
    a3[1] = 0;
    v19 = a3[3];
    if (v19 && v16)
    {
      (*(*v19 + 16))(v19, v17, v16);
      v5 = *a3;
      v6 = a3[1];
    }

    else
    {
      v6 = 0;
      v5 = 0;
    }

    goto LABEL_28;
  }

  LOWORD(v10) = IPC::Decoder::decode<WebKit::FileSystemStorageError>(a3);
  if ((v10 & 0x100) == 0)
  {
    goto LABEL_31;
  }

  v13 = 1;
LABEL_17:
  v26 = v10;
  v27 = v12;
  v29 = BYTE6(v12);
  v28 = WORD2(v12);
  v30 = v9;
  v31 = v13;
  v32 = 1;
  return std::apply[abi:sn200100]<WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WebCore::ClientOrigin &&::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WebCore::ClientOrigin &&::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WebCore::ClientOrigin &&::RefPtr<WebCore::FileSystemStorageConnection,WebCore::ClientOrigin &&::RawPtrTraits<WebCore::ClientOrigin &&::RefPtr>,WebCore::ClientOrigin &&::DefaultRefDerefTraits<WebCore::ClientOrigin &&::RefPtr>>>> &&)> &&)::$_0,std::tuple<std::experimental::fundamentals_v3::expected<std::optional<WebCore::ClientOrigin &&::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>>,WebKit::FileSystemStorageError>>>((a1 + 8), &v26);
}

unsigned int *std::apply[abi:sn200100]<WebKit::WebStorageConnection::fileSystemGetDirectory(WebCore::ClientOrigin &&,WTF::CompletionHandler<void ()(WebCore::ExceptionOr<std::pair<WebCore::ClientOrigin &&::ObjectIdentifierGeneric<WebCore::FileSystemHandleIdentifierType,WebCore::ClientOrigin &&::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WebCore::ClientOrigin &&::RefPtr<WebCore::FileSystemStorageConnection,WebCore::ClientOrigin &&::RawPtrTraits<WebCore::ClientOrigin &&::RefPtr>,WebCore::ClientOrigin &&::DefaultRefDerefTraits<WebCore::ClientOrigin &&::RefPtr>>>> &&)> &&)::$_0,std::tuple<std::experimental::fundamentals_v3::expected<std::optional<WebCore::ClientOrigin &&::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>>,WebKit::FileSystemStorageError>>>(mpark *a1, _BYTE *a2)
{
  v3 = *a2;
  if (a2[16])
  {
    if (a2[16] != 1)
    {
      mpark::throw_bad_variant_access(a1);
    }

    WebKit::convertToException(*a2, v13);
    v4 = v14;
    v14 = 0;
    LOBYTE(v15) = v13[0];
    v16 = v4;
    v17 = 1;
    v5 = *a1;
    *a1 = 0;
    (*(*v5 + 16))(v5, &v15);
    (*(*v5 + 8))(v5);
    if (v17 != 255)
    {
      v7 = v16;
      v16 = 0;
      if (v17)
      {
        if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v7, v6);
        }
      }

      else if (v7 && atomic_fetch_add(v7 + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v7 + 2);
        (*(*v7 + 8))(v7);
      }
    }

    v17 = -1;
    result = v14;
    v14 = 0;
    goto LABEL_22;
  }

  if (a2[8])
  {
    {
      v8 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v12 = WebKit::WebProcess::operator new(0x370, a2);
      v8 = WebKit::WebProcess::WebProcess(v12);
      WebKit::WebProcess::singleton(void)::process = v8;
    }

    v9 = WebKit::WebProcess::fileSystemStorageConnection(v8);
    atomic_fetch_add(v9 + 2, 1u);
    v15 = v3;
    v16 = v9;
    v17 = 0;
  }

  else
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    LOBYTE(v15) = 24;
    v17 = 1;
  }

  v10 = *a1;
  *a1 = 0;
  (*(*v10 + 16))(v10, &v15);
  result = (*(*v10 + 8))(v10);
  if (v17 != 255)
  {
    result = v16;
    v16 = 0;
    if (v17)
    {
LABEL_22:
      if (result)
      {
        if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          return WTF::StringImpl::destroy(result, v6);
        }
      }

      return result;
    }

    if (result && atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result + 2);
      return (*(*result + 8))(result);
    }
  }

  return result;
}

uint64_t WebKit::DrawingArea::create@<X0>(WebKit::WebPage *a1@<X0>, _BYTE *a2@<X1>, uint64_t *a3@<X8>)
{
  if (a2[64])
  {
    result = 0;
  }

  else
  {
    v6 = WebKit::RemoteLayerTreeDrawingArea::operator new(0x178, a2);
    result = WebKit::RemoteLayerTreeDrawingArea::RemoteLayerTreeDrawingArea(v6, a1, a2);
  }

  *a3 = result;
  return result;
}

uint64_t WebKit::DrawingArea::DrawingArea(uint64_t a1, char a2, uint64_t a3, uint64_t a4)
{
  *(a1 + 16) = 1;
  *a1 = &unk_1F1132E28;
  *(a1 + 8) = 0;
  *(a1 + 24) = &unk_1F1133008;
  *(a1 + 32) = a2;
  *(a1 + 40) = a3;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a4 + 24), a4 + 16);
  v7 = *(a4 + 24);
  atomic_fetch_add(v7, 1u);
  *(a1 + 56) = 0;
  *(a1 + 64) = 0;
  *(a1 + 48) = v7;
  *(a1 + 71) = 0;
  {
    v8 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = WebKit::WebProcess::operator new(0x370, v6);
    v8 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v8;
  }

  v9 = *(a1 + 40);
  v13[0] = 6;
  v13[1] = v9;
  WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v8 + 7, v13, a1, v12);
  return a1;
}

void WebKit::DrawingArea::~DrawingArea(WebKit::DrawingArea *this, void *a2)
{
  *this = &unk_1F1132E28;
  *(this + 3) = &unk_1F1133008;
  WebKit::DrawingArea::removeMessageReceiverIfNeeded(this, a2);
  v4 = *(this + 6);
  *(this + 6) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, v3);
  }

  *this = &unk_1F10EA5E0;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 1, v3);
  if (*(this + 4) != 1)
  {
    __break(0xC471u);
  }
}

unsigned __int8 *WebKit::DrawingArea::removeMessageReceiverIfNeeded(unsigned __int8 *this, void *a2)
{
  if ((this[74] & 1) == 0)
  {
    v2 = this;
    this[74] = 1;
    v3 = WebKit::WebProcess::singleton(this, a2);
    v4 = *(v2 + 5);

    return WebKit::AuxiliaryProcess::removeMessageReceiver(v3, 6u, v4);
  }

  return this;
}

uint64_t WebKit::DrawingArea::tryMarkLayersVolatile(uint64_t a1, uint64_t *a2)
{
  v2 = *a2;
  *a2 = 0;
  (*(*v2 + 16))(v2, 1);
  v3 = *(*v2 + 8);

  return v3(v2);
}

void WebKit::DrawingArea::willStartRenderingUpdateDisplay(WebKit::DrawingArea *this)
{
  v1 = *(*(this + 6) + 8);
  if (v1)
  {
    CFRetain(*(v1 - 8));
    WebKit::WebPage::willStartRenderingUpdateDisplay((v1 - 16));
    v2 = *(v1 - 8);

    CFRelease(v2);
  }

  else
  {
    __break(0xC471u);
  }
}

void WebKit::DrawingArea::didCompleteRenderingUpdateDisplay(WebKit::DrawingArea *this)
{
  v1 = *(*(this + 6) + 8);
  if (v1)
  {
    CFRetain(*(v1 - 8));
    WebKit::WebPage::didCompleteRenderingUpdateDisplay((v1 - 16));
    v2 = *(v1 - 8);

    CFRelease(v2);
  }

  else
  {
    __break(0xC471u);
  }
}

void WebKit::DrawingArea::didCompleteRenderingFrame(WebKit::DrawingArea *this)
{
  v1 = *(*(this + 6) + 8);
  if (v1)
  {
    CFRetain(*(v1 - 8));
    WebKit::WebPage::didCompleteRenderingFrame((v1 - 16));
    v2 = *(v1 - 8);

    CFRelease(v2);
  }

  else
  {
    __break(0xC471u);
  }
}

void WebKit::DrawingArea::scaleViewToFitDocumentIfNeeded(WebKit::DrawingArea *this)
{
  if (*(this + 73) == 1)
  {
    v1 = *(*(this + 6) + 8);
    if (!v1)
    {
      __break(0xC471u);
      goto LABEL_38;
    }

    CFRetain(*(v1 - 8));
    WebKit::WebPage::layoutIfNeeded((v1 - 16));
    v2 = WebKit::WebPage::localMainFrameView((v1 - 16));
    if (!v2)
    {
      goto LABEL_26;
    }

    v3 = v2;
    ++*(v2 + 2);
    v24 = v2;
    v4 = WebCore::LocalFrameView::renderView(v2);
    v23 = v4;
    if (!v4)
    {
      v24 = 0;
LABEL_24:
      if (*(v3 + 2) == 1)
      {
        (*(*v3 + 8))(v3);
      }

      else
      {
        --*(v3 + 2);
      }

      goto LABEL_26;
    }

    v5 = v4;
    ++*(v4 + 4);
    v6 = *(v1 + 48);
    WebCore::RenderView::unscaledDocumentRect(v4);
    v8 = v7;
    v9 = *(this + 16);
    if (v9 != v7 || *(this + 14) != v6)
    {
      if (*(this + 72) == 1 && v6 >= v9)
      {
        *(this + 72) = 0;
LABEL_12:
        WebKit::WebPage::setUseFixedLayout((v1 - 16), 0);
        WebKit::WebPage::layoutIfNeeded((v1 - 16));
        v11 = WebKit::WebPage::localMainFrameView((v1 - 16));
        WTF::RefPtr<WebCore::LocalFrameView,WTF::RawPtrTraits<WebCore::LocalFrameView>,WTF::DefaultRefDerefTraits<WebCore::LocalFrameView>>::operator=(&v24, v11);
        if (v24)
        {
          v12 = WebCore::LocalFrameView::renderView(v24);
          WTF::CheckedPtr<WebCore::RenderView,WTF::RawPtrTraits<WebCore::RenderView>>::operator=(&v23, v12);
          if (!v23)
          {
            goto LABEL_23;
          }

          WebCore::RenderView::unscaledDocumentRect(v23);
          v14 = v13;
          *(this + 7) = *(v1 + 48);
          *(this + 8) = v13;
          v15 = 1.0;
          if (v13 && v13 <= 1439 && v6 < v13)
          {
            *(this + 72) = 1;
            WebKit::WebPage::setUseFixedLayout((v1 - 16), 1);
            v16 = v6 / v14;
            if (v16 < 0.1)
            {
              v14 = vcvtps_s32_f32(v6 / 0.1);
              v16 = 0.1;
            }

            v17 = vcvtps_s32_f32((*(v1 + 52) - *(*(v1 + 40) + 332)) / v16);
            v22.m_width = v14;
            v22.m_height = v17;
            WebKit::WebPage::setFixedLayoutSize((v1 - 16), &v22);
            v15 = v16;
          }

          WebKit::WebPage::scaleView((v1 - 16), v15);
          v5 = v23;
          if (!v23)
          {
LABEL_23:
            v3 = v24;
            v24 = 0;
            if (v3)
            {
              goto LABEL_24;
            }

LABEL_26:
            CFRelease(*(v1 - 8));
            return;
          }
        }

        goto LABEL_21;
      }

      if (!*(this + 72))
      {
        goto LABEL_12;
      }

      if (v9 == v7)
      {
        *(this + 7) = *(v1 + 48);
        v19 = v6 / v7;
        if (v19 < 0.1)
        {
          v8 = vcvtps_s32_f32(v6 / 0.1);
          v19 = 0.1;
        }

        v20 = vcvtps_s32_f32((*(v1 + 52) - *(*(v1 + 40) + 332)) / v19);
        v22.m_width = v8;
        v22.m_height = v20;
        WebKit::WebPage::setFixedLayoutSize((v1 - 16), &v22);
        WebKit::WebPage::scaleView((v1 - 16), v19);
      }

      else if (v7 <= WebKit::WebPage::fixedLayoutSize((v1 - 16)))
      {
        goto LABEL_12;
      }
    }

LABEL_21:
    v18 = *(v5 + 4);
    if (v18)
    {
      *(v5 + 4) = v18 - 1;
      goto LABEL_23;
    }

    __break(0xC471u);
LABEL_38:
    JUMPOUT(0x19E3B92E8);
  }
}

_DWORD **WTF::RefPtr<WebCore::LocalFrameView,WTF::RawPtrTraits<WebCore::LocalFrameView>,WTF::DefaultRefDerefTraits<WebCore::LocalFrameView>>::operator=(_DWORD **a1, _DWORD *a2)
{
  if (a2)
  {
    ++a2[2];
  }

  v3 = *a1;
  *a1 = a2;
  if (v3)
  {
    if (v3[2] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[2];
    }
  }

  return a1;
}

uint64_t WTF::CheckedPtr<WebCore::RenderView,WTF::RawPtrTraits<WebCore::RenderView>>::operator=(uint64_t result, uint64_t a2)
{
  if (a2)
  {
    ++*(a2 + 16);
  }

  v2 = *result;
  *result = a2;
  if (v2)
  {
    v3 = *(v2 + 16);
    if (v3)
    {
      *(v2 + 16) = v3 - 1;
    }

    else
    {
      result = 290;
      __break(0xC471u);
    }
  }

  return result;
}

void WebKit::EventDispatcher::~EventDispatcher(WebKit::EventDispatcher *this, void *a2)
{
  v3 = *(this + 6);
  if (v3)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 4);
  *(this + 4) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  v5 = *(this + 3);
  *(this + 3) = 0;
  if (v5)
  {
    (*(*v5 + 40))(v5);
  }

  v6 = *(this + 2);
  *(this + 2) = 0;
  if (!v6)
  {
    goto LABEL_10;
  }

  v7 = (v6 + 16);
  if (atomic_load(v7))
  {
    atomic_fetch_add(v7, 0xFFFFFFFF);
LABEL_10:
    *this = &unk_1F10EA5E0;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 1, a2);
    return;
  }

  __break(0xC471u);
}

{
  WebKit::EventDispatcher::~EventDispatcher(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::EventDispatcher::wheelEvent(WTF::RunLoop *a1, uint64_t a2, uint64_t a3)
{
  v6 = WTF::fastMalloc(0x10);
  *v6 = &unk_1F11331D0;
  *(v6 + 1) = a2;
  v11 = v6;
  WTF::ensureOnMainRunLoop();
  v7 = v11;
  if (v11)
  {
    v7 = (*(*v11 + 8))(v11);
  }

  WTF::RunLoop::mainSingleton(v7);
  v12[0] = a1;
  if (!*(a1 + 2))
  {
    __break(0xC471u);
    JUMPOUT(0x19E3B9764);
  }

  v12[1] = a1;
  v13 = *(a3 + 12);
  v14 = *(a3 + 28);
  v15 = *(a3 + 44);
  v19 = *(a3 + 96);
  v20 = *(a3 + 112);
  v17 = *(a3 + 64);
  v18 = *(a3 + 80);
  v16 = *(a3 + 48);
  v8 = WTF::fastMalloc(0xC0);
  *v8 = &unk_1F1133220;
  *(v8 + 16) = *v12;
  *(v8 + 32) = a2;
  *(v8 + 56) = 0;
  *(v8 + 48) = &unk_1F10E83B8;
  *(v8 + 60) = v13;
  *(v8 + 76) = v14;
  *(v8 + 92) = v15;
  *(v8 + 48) = &unk_1F10E8398;
  *(v8 + 96) = v16;
  *(v8 + 144) = v19;
  *(v8 + 160) = v20;
  *(v8 + 112) = v17;
  *(v8 + 128) = v18;
  *(v8 + 176) = 2560;
  v10 = v8;
  WTF::RunLoop::dispatch();
  result = v10;
  if (v10)
  {
    return (*(*v10 + 8))(v10);
  }

  return result;
}

uint64_t WebKit::TouchEventData::TouchEventData(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  *a1 = a2;
  *(a1 + 24) = 0;
  *(a1 + 16) = &unk_1F10E83B8;
  v7 = *(a3 + 12);
  v8 = *(a3 + 28);
  *(a1 + 60) = *(a3 + 44);
  *(a1 + 44) = v8;
  *(a1 + 28) = v7;
  *(a1 + 16) = &unk_1F10E7D80;
  WTF::Vector<WebKit::WebPlatformTouchPoint,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a1 + 64, a3 + 48);
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a1 + 80, (a3 + 64));
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a1 + 96, (a3 + 80));
  v9 = *(a3 + 96);
  *(a1 + 128) = *(a3 + 112);
  *(a1 + 112) = v9;
  v10 = *a4;
  *a4 = 0;
  *(a1 + 144) = v10;
  return a1;
}

uint64_t WebKit::TouchEventData::TouchEventData(uint64_t a1, uint64_t a2)
{
  *a1 = *a2;
  *(a1 + 24) = 0;
  *(a1 + 16) = &unk_1F10E83B8;
  v4 = *(a2 + 28);
  v5 = *(a2 + 44);
  *(a1 + 60) = *(a2 + 60);
  *(a1 + 44) = v5;
  *(a1 + 28) = v4;
  *(a1 + 16) = &unk_1F10E7D80;
  *(a1 + 72) = 0;
  *(a1 + 64) = 0;
  WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(a1 + 64, (a2 + 64));
  *(a1 + 88) = 0;
  *(a1 + 80) = 0;
  WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(a1 + 80, (a2 + 80));
  *(a1 + 104) = 0;
  *(a1 + 96) = 0;
  WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(a1 + 96, (a2 + 96));
  v6 = *(a2 + 112);
  *(a1 + 128) = *(a2 + 128);
  *(a1 + 112) = v6;
  v7 = *(a2 + 144);
  *(a2 + 144) = 0;
  *(a1 + 144) = v7;
  return a1;
}

void WebKit::TouchEventData::~TouchEventData(WebKit::TouchEventData *this, void *a2)
{
  v3 = *(this + 18);
  *(this + 18) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  *(this + 2) = &unk_1F10E7D80;
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 96, a2);
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 80, v4);
  v6 = *(this + 8);
  if (v6)
  {
    *(this + 8) = 0;
    *(this + 18) = 0;
    WTF::fastFree(v6, v5);
  }
}

uint64_t WebKit::EventDispatcher::takeQueuedTouchEventsForPage(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v6 = 0;
  v7 = (a1 + 40);
  atomic_compare_exchange_strong_explicit((a1 + 40), &v6, 1u, memory_order_acquire, memory_order_acquire);
  if (v6)
  {
    MEMORY[0x19EB01E30](a1 + 40);
  }

  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::take(&v10, (a1 + 48), *(a2 + 48));
  if (v10)
  {
    result = std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](a3, v10);
  }

  v9 = 1;
  atomic_compare_exchange_strong_explicit(v7, &v9, 0, memory_order_release, memory_order_relaxed);
  if (v9 != 1)
  {

    return WTF::Lock::unlockSlow(v7);
  }

  return result;
}

void *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::take(void *a1, uint64_t *a2, uint64_t a3)
{
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(a2, a3);
  v6 = *a2;
  if (*a2)
  {
    v6 += 16 * *(v6 - 4);
  }

  if (v6 == result)
  {
    v7 = 0;
  }

  else
  {
    v7 = result[1];
    result[1] = 0;
    result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::remove(a2, result);
  }

  *a1 = v7;
  return result;
}

void WebKit::EventDispatcher::touchEvent(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t *a5)
{
  v10 = 0;
  v117 = *MEMORY[0x1E69E9840];
  v11 = (a1 + 40);
  atomic_compare_exchange_strong_explicit((a1 + 40), &v10, 1u, memory_order_acquire, memory_order_acquire);
  if (v10)
  {
    MEMORY[0x19EB01E30](a1 + 40);
  }

  v13 = (a1 + 48);
  v12 = *(a1 + 48);
  if (v12)
  {
    v14 = *(v12 - 12) == 0;
  }

  else
  {
    v14 = 1;
  }

  v15 = WTF::fastMalloc(0xB0);
  *v15 = v15 + 2;
  v15[1] = 1;
  if (a2 == -1)
  {
    __break(0xC471u);
    goto LABEL_86;
  }

  if (!a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BA240);
  }

  v17 = v15;
  v18 = *v13;
  if (!*v13)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 48), 0);
    v18 = *v13;
  }

  v19 = *(v18 - 8);
  v20 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
  v21 = 9 * ((v20 + ~(v20 << 13)) ^ ((v20 + ~(v20 << 13)) >> 8));
  v22 = (v21 ^ (v21 >> 15)) + ~((v21 ^ (v21 >> 15)) << 27);
  v23 = v19 & ((v22 >> 31) ^ v22);
  v24 = (v18 + 16 * v23);
  v25 = *v24;
  if (!*v24)
  {
LABEL_18:
    *v24 = a2;
    std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](v24 + 1, v17);
    v28 = *v13;
    if (*v13)
    {
      v29 = *(v28 - 12) + 1;
    }

    else
    {
      v29 = 1;
    }

    *(v28 - 12) = v29;
    v76 = (*(v28 - 16) + v29);
    v77 = *(v28 - 4);
    if (v77 > 0x400)
    {
      if (v77 > 2 * v76)
      {
        goto LABEL_63;
      }
    }

    else if (3 * v77 > 4 * v76)
    {
LABEL_63:
      v78 = v24[1];
      WebKit::TouchEventData::TouchEventData(v101, a3, a4, a5);
      v79 = *(v78 + 12);
      if (v79 != *(v78 + 8))
      {
        WebKit::TouchEventData::TouchEventData(*v78 + 160 * v79, v101);
        ++*(v78 + 12);
LABEL_70:
        WebKit::TouchEventData::~TouchEventData(v101, v81);
        goto LABEL_71;
      }

      v80 = v78;
LABEL_68:
      WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::TouchEventData>(v80, v101);
      goto LABEL_70;
    }

    v24 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 48), v24);
    goto LABEL_63;
  }

  v26 = 0;
  v27 = 1;
  while (v25 != a2)
  {
    if (v25 == -1)
    {
      v26 = v24;
    }

    v23 = (v23 + v27) & v19;
    v24 = (v18 + 16 * v23);
    v25 = *v24;
    ++v27;
    if (!*v24)
    {
      if (v26)
      {
        *v26 = 0;
        v26[1] = 0;
        --*(*v13 - 16);
        v24 = v26;
      }

      goto LABEL_18;
    }
  }

  v30 = WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v17, v16);
  WTF::fastFree(v30, v31);
  v32 = v24[1];
  v33 = *(v32 + 12);
  if (!v33)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BA248);
  }

  if (*(a4 + 12) != 12 || (v34 = *v32 + 160 * v33, *(v34 - 132) != 12))
  {
    WebKit::TouchEventData::TouchEventData(v101, a3, a4, a5);
    v82 = *(v32 + 12);
    if (v82 != *(v32 + 8))
    {
      WebKit::TouchEventData::TouchEventData(*v32 + 160 * v82, v101);
      ++*(v32 + 12);
      goto LABEL_70;
    }

    v80 = v32;
    goto LABEL_68;
  }

  v88 = v14;
  v89 = 0;
  v90 = 0;
  v35 = *(v34 - 68);
  if (v35)
  {
    v36 = *(v34 - 80);
    if (v35 <= 0x10)
    {
      v37 = 16;
    }

    else
    {
      v37 = *(v34 - 68);
    }

    WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v89, v37);
    if (v35 < HIDWORD(v90))
    {
      __break(0xC471u);
      JUMPOUT(0x19E3BA258);
    }

    WTF::VectorCopier<false,WebKit::WebTouchEvent>::uninitializedCopy<WebKit::WebTouchEvent>(v36, v36 + (v35 << 7), v89 + (HIDWORD(v90) << 7));
    HIDWORD(v90) = v35;
  }

  v38 = *(a4 + 64);
  v39 = *(a4 + 76);
  if (!v39)
  {
    goto LABEL_41;
  }

  v87 = v39 + v35;
  if (v39 + v35 > v90)
  {
    if (v90 + (v90 >> 1) <= v90 + 1)
    {
      v40 = v90 + 1;
    }

    else
    {
      v40 = v90 + (v90 >> 1);
    }

    if (v40 <= v87)
    {
      v40 = v39 + v35;
    }

    v41 = v40 <= 0x10 ? 16 : v40;
    v42 = *(a4 + 64);
    WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v89, v41);
    v38 = v42;
    v35 = HIDWORD(v90);
    if (v87 < HIDWORD(v90))
    {
      __break(0xC471u);
LABEL_86:
      JUMPOUT(0x19E3BA220);
    }
  }

  WTF::VectorCopier<false,WebKit::WebTouchEvent>::uninitializedCopy<WebKit::WebTouchEvent>(v38, v38 + (v39 << 7), v89 + (v35 << 7));
  HIDWORD(v90) = v87;
LABEL_41:
  v92 = 0;
  v43 = *(a4 + 28);
  v93 = *(a4 + 12);
  v94 = v43;
  v95 = *(a4 + 44);
  v91 = &unk_1F10E7D80;
  WTF::Vector<WebKit::WebPlatformTouchPoint,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&v96, a4 + 48);
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v98, (a4 + 64));
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v99, (a4 + 80));
  v99[1] = *(a4 + 96);
  v100 = *(a4 + 112);
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(v98, &v89);
  WebKit::TouchEventData::TouchEventData(v101, a3, &v91, a5);
  v45 = v24[1];
  v46 = *(v45 + 12);
  if (!v46)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BA250);
  }

  v47 = *v45 + 160 * v46;
  *(v47 - 160) = v101[0];
  v48 = v102;
  v49 = v103;
  *(v47 - 100) = v104;
  *(v47 - 116) = v49;
  *(v47 - 132) = v48;
  v50 = *(v47 - 96);
  v14 = v88;
  if (v50)
  {
    *(v47 - 96) = 0;
    *(v47 - 88) = 0;
    WTF::fastFree(v50, v44);
  }

  v51 = v105;
  v105 = 0;
  *(v47 - 96) = v51;
  LODWORD(v51) = v106;
  v106 = 0;
  *(v47 - 88) = v51;
  LODWORD(v51) = v107;
  v107 = 0;
  *(v47 - 84) = v51;
  v52 = *(v47 - 68);
  if (v52)
  {
    v53 = *(v47 - 80);
    v54 = v52 << 7;
    v55 = v53;
    v56 = v53;
    do
    {
      v57 = *v56;
      v56 += 16;
      (*v57)(v55);
      v53 += 16;
      v55 = v56;
      v54 -= 128;
    }

    while (v54);
  }

  v58 = *(v47 - 80);
  if (v58)
  {
    *(v47 - 80) = 0;
    *(v47 - 72) = 0;
    WTF::fastFree(v58, v44);
  }

  v59 = v108;
  v108 = 0;
  *(v47 - 80) = v59;
  LODWORD(v59) = v109;
  v109 = 0;
  *(v47 - 72) = v59;
  LODWORD(v59) = v110;
  v110 = 0;
  *(v47 - 68) = v59;
  v60 = *(v47 - 52);
  if (v60)
  {
    v61 = *(v47 - 64);
    v62 = v60 << 7;
    v63 = v61;
    v64 = v61;
    do
    {
      v65 = *v64;
      v64 += 16;
      (*v65)(v63);
      v61 += 16;
      v63 = v64;
      v62 -= 128;
    }

    while (v62);
  }

  v66 = *(v47 - 64);
  if (v66)
  {
    *(v47 - 64) = 0;
    *(v47 - 56) = 0;
    WTF::fastFree(v66, v44);
  }

  v67 = v111;
  v111 = 0;
  *(v47 - 64) = v67;
  LODWORD(v67) = v112;
  v112 = 0;
  *(v47 - 56) = v67;
  LODWORD(v67) = v113;
  v113 = 0;
  *(v47 - 52) = v67;
  v68 = v114;
  *(v47 - 32) = v115;
  *(v47 - 48) = v68;
  v69 = v116;
  v116 = 0;
  v70 = *(v47 - 16);
  *(v47 - 16) = v69;
  if (v70)
  {
    (*(*v70 + 8))(v70);
  }

  WebKit::TouchEventData::~TouchEventData(v101, v44);
  v91 = &unk_1F10E7D80;
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v99, v71);
  WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v98, v72);
  v74 = v96;
  if (v96)
  {
    v96 = 0;
    v97 = 0;
    WTF::fastFree(v74, v73);
  }

  v75 = WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v89, v73);
LABEL_71:
  v83 = 1;
  atomic_compare_exchange_strong_explicit(v11, &v83, 0, memory_order_release, memory_order_relaxed);
  if (v83 == 1)
  {
    if (!v14)
    {
      return;
    }
  }

  else
  {
    v75 = WTF::Lock::unlockSlow(v11);
    if (!v14)
    {
      return;
    }
  }

  WTF::RunLoop::mainSingleton(v75);
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 8), a1);
  v84 = *(a1 + 8);
  atomic_fetch_add(v84, 1u);
  v85 = WTF::fastMalloc(0x10);
  *v85 = &unk_1F11331F8;
  v85[1] = v84;
  v101[0] = v85;
  WTF::RunLoop::dispatch();
  v86 = v101[0];
  v101[0] = 0;
  if (v86)
  {
    (*(*v86 + 8))(v86);
  }
}

WebKit::FindController *WebKit::FindController::FindController(WebKit::FindController *this, WebKit::WebPage *a2)
{
  *this = &unk_1F1133078;
  if (a2)
  {
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a2 + 6, a2 + 16);
    v3 = *(a2 + 3);
    if (v3)
    {
      atomic_fetch_add(v3, 1u);
    }
  }

  else
  {
    v3 = 0;
  }

  *(this + 1) = v3;
  *(this + 2) = 0;
  *(this + 24) = 0;
  *(this + 36) = 0;
  *(this + 28) = 0;
  *(this + 6) = 0;
  *(this + 7) = 0;
  *(this + 16) = -1;
  *(this + 9) = 0;
  *(this + 10) = 0;
  return this;
}

void WebKit::FindController::~FindController(WebKit::FindController *this, void *a2)
{
  v3 = *(this + 10);
  *(this + 10) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 9);
  *(this + 9) = 0;
  if (v4)
  {
    WTF::RefCounted<WebCore::PageOverlay>::deref((v4 + 16));
  }

  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 48, a2);
  v6 = *(this + 2);
  *(this + 2) = 0;
  if (v6 && atomic_fetch_add(v6, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v6);
    WTF::fastFree(v6, v5);
  }

  v7 = *(this + 1);
  *(this + 1) = 0;
  if (v7)
  {
    if (atomic_fetch_add(v7, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v7);
      WTF::fastFree(v7, v5);
    }
  }
}

{
  WebKit::FindController::~FindController(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

uint64_t WebKit::FindController::mainFramePlugIn(WebKit::FindController *this)
{
  if (this && (v1 = *(this + 1)) != 0)
  {
    CFRetain(*(v1 - 8));
    v2 = WebKit::WebPage::mainFramePlugIn((v1 - 16));
    CFRelease(*(v1 - 8));
    return v2;
  }

  else
  {

    return WebKit::WebPage::mainFramePlugIn(0);
  }
}

uint64_t WebKit::FindController::countStringMatches(uint64_t a1, atomic_uint **a2, __int16 a3, unsigned int a4, uint64_t *a5)
{
  v10 = WebKit::FindController::mainFramePlugIn(*(a1 + 8));
  if (v10)
  {
    v24 = *(v10 + 8);
    *(v10 + 8) = v24 + 1;
    v25 = v10;
    if (*(v10 + 137) == 1)
    {
      Matches = WebKit::PDFPluginBase::countFindMatches(*(v10 + 72), a2, a3 & 0x1Fu | (((a3 & 0x400) != 0) << 7));
      v24 = v25[2] - 1;
    }

    else
    {
      Matches = 0;
    }

    if (v24)
    {
      v25[2] = v24;
    }

    else
    {
      (*(*v25 + 8))(v25);
    }
  }

  else
  {
    v11 = *(a1 + 8);
    if (v11 && (v12 = *(v11 + 8)) != 0)
    {
      v13 = v12 - 16;
      CFRetain(*(v12 - 8));
      v14 = 0;
    }

    else
    {
      v13 = 0;
      v14 = 1;
    }

    v15 = *(v13 + 56);
    if (v15)
    {
      ++*(v15 + 8);
    }

    Matches = WebCore::Page::countFindMatches();
    if (v15)
    {
      WTF::RefCounted<WebCore::Page>::deref((v15 + 8));
    }

    v17 = *(v13 + 56);
    if (v17)
    {
      v18 = v17 + 2;
      ++v17[2];
      WebCore::Page::unmarkAllTextMatches(v17);
      WTF::RefCounted<WebCore::Page>::deref(v18);
      if (v14)
      {
        goto LABEL_13;
      }

      goto LABEL_12;
    }

    WebCore::Page::unmarkAllTextMatches(0);
    if ((v14 & 1) == 0)
    {
LABEL_12:
      CFRelease(*(v13 + 8));
    }
  }

LABEL_13:
  if (a4 >= 0xFFFFFFFE)
  {
    v19 = -2;
  }

  else
  {
    v19 = a4;
  }

  if (Matches > v19)
  {
    v20 = 0xFFFFFFFFLL;
  }

  else
  {
    v20 = Matches;
  }

  v21 = *a5;
  *a5 = 0;
  (*(*v21 + 16))(v21, v20);
  v22 = *(*v21 + 8);

  return v22(v21);
}

uint64_t WebKit::FindController::replaceMatches(uint64_t a1, unsigned int **a2, const WTF::String *a3)
{
  v6 = *(a1 + 8);
  if (v6 && (v7 = *(v6 + 8)) != 0)
  {
    v8 = v7 - 16;
    CFRetain(*(v7 - 8));
    v9 = 0;
  }

  else
  {
    v8 = 0;
    v9 = 1;
  }

  v10 = *(a2 + 3);
  if (!v10)
  {
    v25 = *(v8 + 56);
    if (v25)
    {
      v26 = v25 + 2;
      ++v25[2];
      v23 = WebCore::Page::replaceSelectionWithText(v25, a3);
      WTF::RefCounted<WebCore::Page>::deref(v26);
      if (v9)
      {
        return v23;
      }
    }

    else
    {
      v23 = WebCore::Page::replaceSelectionWithText(0, a3);
      if (v9)
      {
        return v23;
      }
    }

LABEL_23:
    CFRelease(*(v8 + 8));
    return v23;
  }

  v29 = 0;
  if (v10 >= 0x3E8)
  {
    v11 = 1000;
  }

  else
  {
    v11 = v10;
  }

  LODWORD(v29) = v11;
  v28 = WTF::fastMalloc((32 * v11));
  v12 = *(a2 + 3);
  if (v12)
  {
    v13 = 0;
    v14 = *a2;
    v15 = 4 * v12;
    do
    {
      v16 = *v14;
      if (*(a1 + 60) > v16)
      {
        v17 = *(a1 + 48) + 32 * v16;
        if (v13 == v29)
        {
          WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::SimpleRange&>(&v28, v17);
          v13 = HIDWORD(v29);
        }

        else
        {
          v18 = v28 + 32 * v13++;
          v19 = *v17;
          *(v19 + 28) = *(*v17 + 28) + 2;
          *v18 = v19;
          *(v18 + 8) = *(v17 + 8);
          v20 = *(v17 + 16);
          *(v20 + 28) += 2;
          *(v18 + 16) = v20;
          *(v18 + 24) = *(v17 + 24);
          HIDWORD(v29) = v13;
        }

        if (v13 >= 0x3E8)
        {
          break;
        }
      }

      ++v14;
      v15 -= 4;
    }

    while (v15);
  }

  v21 = *(v8 + 56);
  if (v21)
  {
    v22 = (v21 + 8);
    ++*(v21 + 8);
    v23 = WebCore::Page::replaceRangesWithText();
    WTF::RefCounted<WebCore::Page>::deref(v22);
  }

  else
  {
    v23 = WebCore::Page::replaceRangesWithText();
  }

  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v28, v24);
  if ((v9 & 1) == 0)
  {
    goto LABEL_23;
  }

  return v23;
}

void WebKit::FindController::frameWithSelection(WebCore::Page *a1@<X1>, uint64_t *a2@<X8>)
{
  v4 = *(a1 + 22);
  ++*(v4 + 16);
  while ((*(v4 + 136) & 1) != 0 || *(*(*(v4 + 224) + 3208) + 153) != 2)
  {
    v5 = WebCore::FrameTree::traverseNext((v4 + 40), 0);
    v6 = v5;
    if (v5)
    {
      ++*(v5 + 16);
    }

    if (*(v4 + 16) == 1)
    {
      (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }

    v4 = v6;
    if (!v6)
    {
      *a2 = 0;
      return;
    }
  }

  v7 = *(v4 + 16);
  *(v4 + 16) = v7 + 1;
  *a2 = v4;
  if (v7)
  {
    *(v4 + 16) = v7;
  }

  else
  {
    v8 = *(*v4 + 8);

    v8(v4);
  }
}

void WebKit::FindController::updateFindUIAfterPageScroll(uint64_t a1, int a2, atomic_uint **a3, unsigned __int16 a4, unsigned int a5, unsigned int a6, uint64_t a7, uint64_t a8, uint64_t *a9)
{
  v14 = *(a1 + 8);
  if (v14 && (v15 = *(v14 + 8)) != 0)
  {
    v16 = v15 - 16;
    CFRetain(*(v15 - 8));
    v66 = 0;
  }

  else
  {
    v16 = 0;
    v66 = 1;
  }

  v17 = *(v16 + 56);
  if (v17)
  {
    v18 = v17 + 2;
    ++v17[2];
    WebKit::FindController::frameWithSelection(v17, &v79);
    WTF::RefCounted<WebCore::Page>::deref(v18);
  }

  else
  {
    WebKit::FindController::frameWithSelection(0, &v79);
  }

  v19 = WebKit::FindController::mainFramePlugIn(*(a1 + 8));
  v21 = v19;
  v68 = v16;
  if (v19)
  {
    v67 = (a4 & 0x800) != 0;
    ++*(v19 + 8);
    v77 = 0;
    v78 = 0;
    if (a2)
    {
      v63 = (a4 & 0x20) == 0;
      if ((a4 & 0x100) == 0)
      {
        if ((a4 & 0xA0) == 0)
        {
          goto LABEL_11;
        }

        if ((*(v19 + 137) & 1) == 0)
        {
          Matches = 0;
          goto LABEL_63;
        }

        if (a5 >= 0xFFFFFFFE)
        {
          v16 = 4294967294;
        }

        else
        {
          v16 = a5;
        }

        Matches = WebKit::PDFPluginBase::countFindMatches(*(v19 + 72), a3, a4 & 0x1Fu | (((a4 & 0x400) != 0) << 7));
        goto LABEL_36;
      }

      if (*(v19 + 137) == 1)
      {
        Matches = WebKit::PDFPluginBase::countFindMatches(*(v19 + 72), a3, a4 & 0x1Fu | (((a4 & 0x400) != 0) << 7));
      }

      else
      {
        Matches = 0;
      }

      if ((a4 & 0xA0) != 0)
      {
        if (a5 >= 0xFFFFFFFE)
        {
          v16 = 4294967294;
        }

        else
        {
          v16 = a5;
        }

        goto LABEL_36;
      }

      goto LABEL_62;
    }

LABEL_14:
    if (v79 && ((a4 >> 11) & 1) == 0)
    {
      v25 = *(*(v79 + 224) + 3208);
      ++*(v25 + 7);
      WebCore::FrameSelection::clear(v25);
      v26 = *(v25 + 7);
      if (!v26)
      {
        __break(0xC471u);
        JUMPOUT(0x19E3BB1F8);
      }

      *(v25 + 7) = v26 - 1;
    }

    v67 = (a4 & 0x800) != 0;
    WebKit::FindController::hideFindIndicator(a1);
    Matches = 0;
    *(a1 + 64) = -1;
    goto LABEL_19;
  }

  v77 = 0;
  v78 = 0;
  if ((a2 & 1) == 0)
  {
    v23 = *(v16 + 56);
    if (v23)
    {
      v24 = v23 + 2;
      ++v23[2];
      WebCore::Page::unmarkAllTextMatches(v23);
      WTF::RefCounted<WebCore::Page>::deref(v24);
    }

    else
    {
      WebCore::Page::unmarkAllTextMatches(0);
    }

    goto LABEL_14;
  }

  v63 = (a4 & 0x20) == 0;
  v67 = (a4 & 0x800) != 0;
  if ((a4 & 0x100) != 0)
  {
    v30 = *(v16 + 56);
    if (v30)
    {
      ++*(v30 + 8);
    }

    Matches = WebCore::Page::countFindMatches();
    if (v30)
    {
      WTF::RefCounted<WebCore::Page>::deref((v30 + 8));
    }

    if ((a4 & 0xA0) != 0)
    {
      goto LABEL_27;
    }

LABEL_62:
    if (Matches != -1)
    {
      goto LABEL_63;
    }

    goto LABEL_37;
  }

  if ((a4 & 0xA0) != 0)
  {
LABEL_27:
    if (a5 >= 0xFFFFFFFE)
    {
      v16 = 4294967294;
    }

    else
    {
      v16 = a5;
    }

    v31 = *(v68 + 56);
    if (v31)
    {
      v32 = v31 + 2;
      ++v31[2];
      WebCore::Page::unmarkAllTextMatches(v31);
      WTF::RefCounted<WebCore::Page>::deref(v32);
    }

    else
    {
      WebCore::Page::unmarkAllTextMatches(0);
    }

    v33 = *(v68 + 56);
    if (v33)
    {
      ++*(v33 + 8);
    }

    Matches = WebCore::Page::markAllMatchesForText();
    if (v33)
    {
      WTF::RefCounted<WebCore::Page>::deref((v33 + 8));
    }

LABEL_36:
    if (Matches <= v16)
    {
      goto LABEL_63;
    }

LABEL_37:
    Matches = 0xFFFFFFFFLL;
    *(a1 + 64) = -1;
    if (a8)
    {
      goto LABEL_66;
    }

    goto LABEL_78;
  }

LABEL_11:
  Matches = 1;
LABEL_63:
  v37 = *(a1 + 64);
  v38 = (Matches & (v37 >> 31)) + v37;
  if ((v37 & 0x80000000) == 0 && v38 < Matches)
  {
    if (a8)
    {
      goto LABEL_66;
    }

LABEL_78:
    if (!v63)
    {
      goto LABEL_87;
    }

    goto LABEL_19;
  }

  if (v38 < Matches)
  {
    v44 = 0;
  }

  else
  {
    v44 = Matches;
  }

  *(a1 + 64) = v38 - v44;
  if ((a8 & 1) == 0)
  {
    goto LABEL_78;
  }

LABEL_66:
  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(a1 + 48, v20);
  v39 = *(v68 + 56);
  if (v39)
  {
    v40 = v39 + 2;
    ++v39[2];
    v41 = WebCore::Page::selection(v39);
    WebCore::VisibleSelection::firstRange(&v72, v41);
    WTF::RefCounted<WebCore::Page>::deref(v40);
  }

  else
  {
    v62 = WebCore::Page::selection(0);
    WebCore::VisibleSelection::firstRange(&v72, v62);
  }

  if (v76 != 1)
  {
    goto LABEL_86;
  }

  WebCore::RenderObject::absoluteTextRects();
  v77 = v70;
  v78 = v71;
  if ((v76 & 1) == 0)
  {
    __break(1u);
    goto LABEL_130;
  }

  v42 = *(a1 + 60);
  if (v42 == *(a1 + 56))
  {
    WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::SimpleRange&>((a1 + 48), &v72);
    if ((v76 & 1) == 0)
    {
      goto LABEL_86;
    }

    v43 = v74;
    v74 = 0;
    if (!v43)
    {
      goto LABEL_83;
    }
  }

  else
  {
    v45 = v42 + 1;
    v46 = *(a1 + 48) + 32 * v42;
    v47 = v72;
    *(v72 + 7) += 2;
    *v46 = v47;
    *(v46 + 8) = v73;
    v43 = v74;
    *(v74 + 7) += 2;
    *(v46 + 16) = v43;
    *(v46 + 24) = v75;
    *(a1 + 60) = v45;
    v74 = 0;
  }

  if (*(v43 + 7) == 2)
  {
    WebCore::Node::removedLastRef(v43);
  }

  else
  {
    *(v43 + 7) -= 2;
  }

LABEL_83:
  v48 = v72;
  v72 = 0;
  if (v48)
  {
    if (*(v48 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v48);
    }

    else
    {
      *(v48 + 7) -= 2;
    }
  }

LABEL_86:
  if (!v63)
  {
LABEL_87:
    v49 = *(a1 + 16);
    if (v49)
    {
      v51 = *(v49 + 8);
      if (v51)
      {
        ++*(v51 + 4);
        goto LABEL_101;
      }
    }

    WebCore::PageOverlay::create();
    v51 = v72;
    if (v72)
    {
      WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v72 + 2, v72);
      v52 = *(v51 + 1);
      if (v52)
      {
        atomic_fetch_add(v52, 1u);
      }
    }

    else
    {
      v52 = 0;
    }

    v53 = *(a1 + 16);
    *(a1 + 16) = v52;
    if (v53 && atomic_fetch_add(v53, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v53);
      WTF::fastFree(v53, v50);
      if (!v21)
      {
        goto LABEL_98;
      }
    }

    else if (!v21)
    {
      goto LABEL_98;
    }

    if (*(v21 + 137) != 1 || ((*(**(v21 + 72) + 1192))(*(v21 + 72)) & 1) == 0)
    {
      *(v51 + 120) = 1;
    }

LABEL_98:
    v54 = *(a1 + 8);
    if (v54 && *(v54 + 8))
    {
      WebCore::PageOverlayController::installPageOverlay();
LABEL_101:
      WebCore::PageOverlay::setNeedsDisplay(v51);
      WTF::RefCounted<WebCore::PageOverlay>::deref(v51 + 4);
      v28 = 1;
      goto LABEL_102;
    }

LABEL_141:
    __break(0xC471u);
    JUMPOUT(0x19E3BB1D8);
  }

LABEL_19:
  v27 = *(a1 + 16);
  if (v27)
  {
    v34 = *(v27 + 8);
    if (v34)
    {
      v35 = (v34 + 16);
      ++*(v34 + 16);
      v36 = *(a1 + 8);
      if (!v36 || !*(v36 + 8))
      {
        goto LABEL_141;
      }

      WebCore::PageOverlayController::uninstallPageOverlay();
      WTF::RefCounted<WebCore::PageOverlay>::deref(v35);
    }
  }

  v28 = 0;
  if (!a2)
  {
    v29 = 1;
    goto LABEL_103;
  }

LABEL_102:
  v29 = (a4 & 0x40) == 0;
LABEL_103:
  v16 = v79;
  if (v21)
  {
    if (*(v21 + 137) == 1)
    {
      v55 = (*(**(v21 + 72) + 1192))(*(v21 + 72)) ^ 1;
    }

    else
    {
      v55 = 1;
    }
  }

  else
  {
    v55 = 0;
  }

  if (!v67)
  {
    v56 = !(v55 | (v16 != 0)) || v29;
    if (v56 || !WebKit::FindController::updateFindIndicator(a1, v28, 1))
    {
      WebKit::FindController::hideFindIndicator(a1);
    }
  }

  v57 = *(a1 + 64);
  v58 = *a9;
  *a9 = 0;
  (*(*v58 + 16))(v58, a7, a8, &v77, Matches, v57, a6);
  (*(*v58 + 8))(v58);
  v60 = v77;
  if (v77)
  {
    v77 = 0;
    LODWORD(v78) = 0;
    WTF::fastFree(v60, v59);
  }

  v61 = v68;
  if (v21)
  {
LABEL_130:
    if (*(v21 + 8) == 1)
    {
      (*(*v21 + 8))(v21);
    }

    else
    {
      --*(v21 + 8);
    }

    v61 = v68;
    if (v16)
    {
      goto LABEL_119;
    }

    goto LABEL_121;
  }

  if (v16)
  {
LABEL_119:
    if (*(v16 + 16) == 1)
    {
      (*(*v16 + 8))(v16);
    }

    else
    {
      --*(v16 + 16);
    }
  }

LABEL_121:
  if ((v66 & 1) == 0)
  {
    CFRelease(*(v61 + 8));
  }
}

void WebKit::FindController::findStringIncludingImages(uint64_t a1, atomic_uint **a2, unsigned __int16 a3, uint64_t a4, uint64_t *a5)
{
  v10 = *(a1 + 8);
  if (v10 && (v11 = *(v10 + 8)) != 0)
  {
    v12 = v11 - 16;
    CFRetain(*(v11 - 8));
  }

  else
  {
    v12 = 0;
  }

  v13 = *(v12 + 56);
  if (v13)
  {
    ++*(v13 + 8);
  }

  v14 = *(a1 + 8);
  if (v14)
  {
    atomic_fetch_add(v14, 1u);
  }

  v15 = *a2;
  if (v15)
  {
    atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
  }

  v16 = a3 | (a4 << 32);
  v17 = *a5;
  *a5 = 0;
  v18 = WTF::fastMalloc(0x28);
  *v18 = &unk_1F1133248;
  v18[1] = v14;
  if (v15)
  {
    atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
  }

  v18[2] = v15;
  v18[3] = v16;
  v18[4] = v17;
  v20 = v18;
  WebCore::Page::analyzeImagesForFindInPage();
  if (v20)
  {
    (*(*v20 + 8))(v20);
    if (!v15)
    {
      goto LABEL_18;
    }
  }

  else if (!v15)
  {
    goto LABEL_18;
  }

  if (atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v15, v19);
  }

LABEL_18:
  if (v13)
  {
    WTF::RefCounted<WebCore::Page>::deref((v13 + 8));
  }

  CFRelease(*(v12 + 8));
}

void WebKit::FindController::findString(uint64_t a1, atomic_uint **a2, unsigned __int16 a3, uint64_t a4, unint64_t a5)
{
  v8 = a3;
  v9 = WebKit::FindController::mainFramePlugIn(*(a1 + 8));
  v10 = v9;
  if (v9)
  {
    ++*(v9 + 8);
  }

  WebKit::FindController::willFindString(a1);
  v12 = *(a1 + 8);
  if (v12 && (v13 = *(v12 + 8)) != 0)
  {
    v14 = v13 - 16;
    CFRetain(*(v13 - 8));
    v53 = 0;
  }

  else
  {
    v14 = 0;
    v53 = 1;
  }

  v51 = a4;
  v50 = a5;
  if (!v10)
  {
    v22 = *(v14 + 56);
    if (v22)
    {
      v23 = v22 + 2;
      ++v22[2];
      WebKit::FindController::frameWithSelection(v22, &v57);
      WTF::RefCounted<WebCore::Page>::deref(v23);
    }

    else
    {
      WebKit::FindController::frameWithSelection(0, &v57);
    }

    v25 = v57;
    if (!v57)
    {
      v20 = 0;
LABEL_42:
      WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(a1 + 48, v24);
      LOBYTE(v57) = 0;
      v37 = *(v14 + 56);
      if (v37)
      {
        v38 = (v37 + 8);
        ++*(v37 + 8);
        String = WebCore::Page::findString();
        v21 = v39;
        WTF::RefCounted<WebCore::Page>::deref(v38);
      }

      else
      {
        String = WebCore::Page::findString();
        v21 = v49;
      }

      a5 = String >> 8;
      if ((v21 & 1) == 0)
      {
        v30 = 0;
        goto LABEL_54;
      }

LABEL_45:
      if ((v8 & 0x800) != 0)
      {
        goto LABEL_53;
      }

      WebKit::FindController::didFindString(a1);
      if (v20)
      {
        goto LABEL_53;
      }

      if ((v8 & 8) != 0)
      {
        v40 = *(a1 + 64) - 1;
      }

      else
      {
        if ((v8 & 0x200) != 0)
        {
LABEL_53:
          v30 = 1;
          goto LABEL_54;
        }

        v40 = *(a1 + 64) + 1;
      }

      *(a1 + 64) = v40;
      goto LABEL_53;
    }

    v26 = *(*(v57 + 224) + 3208);
    ++*(v26 + 28);
    WebCore::FrameSelection::selectionBounds();
    v28 = *(v26 + 28);
    if (v29 <= 0.0)
    {
      if (v28)
      {
        *(v26 + 28) = v28 - 1;
        goto LABEL_33;
      }
    }

    else if (v28)
    {
      *(v26 + 28) = v28 - 1;
      if (v27 > 0.0)
      {
        v20 = 0;
LABEL_40:
        if (v25[4] == 1)
        {
          (*(*v25 + 8))(v25);
        }

        else
        {
          --v25[4];
        }

        goto LABEL_42;
      }

LABEL_33:
      v31 = *(v14 + 56);
      if (v31)
      {
        v32 = (v31 + 8);
        ++*(v31 + 8);
        WebCore::Page::findTextMatches();
        WTF::RefCounted<WebCore::Page>::deref(v32);
      }

      else
      {
        WebCore::Page::findTextMatches();
      }

      v34 = *(a1 + 60);
      if (v34)
      {
        WTF::VectorTypeOperations<WebCore::SimpleRange>::destruct(*(a1 + 48), (*(a1 + 48) + 32 * v34));
      }

      v35 = *(a1 + 48);
      if (v35)
      {
        *(a1 + 48) = 0;
        *(a1 + 56) = 0;
        WTF::fastFree(v35, v33);
      }

      *(a1 + 48) = v54;
      v36 = v55;
      v54 = 0;
      v55 = 0;
      *(a1 + 56) = v36;
      *(a1 + 64) = v56;
      WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v54, v33);
      v20 = 1;
      goto LABEL_40;
    }

    __break(0xC471u);
    return;
  }

  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(a1 + 48, v11);
  v15 = 0;
  LOBYTE(v57) = 0;
  if (*(v10 + 137) == 1)
  {
    v15 = (*(**(v10 + 72) + 1176))(*(v10 + 72), a2, v8 & 0x1F | (((v8 >> 10) & 1) << 7) | (v8 >> 2) & 0x200 | 0x40, a4);
  }

  v16 = *(*(*(*(v10 + 64) + 48) + 8) + 552);
  if (v16 && (v17 = *(v16 + 8)) != 0)
  {
    v18 = *(v17 + 16);
    *(v17 + 16) = v18 + 1;
    if (v15)
    {
      String = *(v17 + 32);
      a5 = String >> 8;
      if (v18)
      {
        v20 = 0;
        *(v17 + 16) = v18;
        v21 = 1;
        goto LABEL_45;
      }

      v21 = 1;
    }

    else
    {
      if (v18)
      {
        v30 = 0;
        LOBYTE(String) = 0;
        v21 = 0;
        *(v17 + 16) = v18;
        goto LABEL_54;
      }

      LOBYTE(String) = 0;
      v21 = 0;
    }

    (*(*v17 + 8))(v17);
    v20 = 0;
    v30 = 0;
    if (v15)
    {
      goto LABEL_45;
    }
  }

  else
  {
    LOBYTE(String) = 0;
    v21 = 0;
    v20 = 0;
    v30 = 0;
    if (v15)
    {
      goto LABEL_45;
    }
  }

LABEL_54:
  v41 = *(v14 + 72);
  if (v41)
  {
    ++v41[4];
  }

  if ((v53 & 1) == 0)
  {
    CFRetain(*(v14 + 8));
  }

  v42 = *a2;
  if (*a2)
  {
    atomic_fetch_add_explicit(v42, 2u, memory_order_relaxed);
  }

  v43 = v57;
  v44 = String | (a5 << 8);
  v45 = *v50;
  *v50 = 0;
  v46 = WTF::fastMalloc(0x48);
  *v46 = &unk_1F1133270;
  *(v46 + 8) = v14;
  *(v46 + 16) = v30;
  if (v42)
  {
    atomic_fetch_add_explicit(v42, 2u, memory_order_relaxed);
  }

  *(v46 + 32) = v8;
  *(v46 + 24) = v42;
  *(v46 + 36) = v51;
  *(v46 + 40) = v43;
  *(v46 + 48) = v44;
  *(v46 + 56) = v21;
  *(v46 + 64) = v45;
  v54 = v46;
  (*(*v41 + 328))(v41, &v54);
  v48 = v54;
  v54 = 0;
  if (v48)
  {
    (*(*v48 + 8))(v48);
    if (v42)
    {
LABEL_64:
      if (atomic_fetch_add_explicit(v42, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v42, v47);
      }
    }
  }

  else if (v42)
  {
    goto LABEL_64;
  }

  if (v41[4] == 1)
  {
    (*(*v41 + 24))(v41);
  }

  else
  {
    --v41[4];
  }

  if ((v53 & 1) == 0)
  {
    CFRelease(*(v14 + 8));
  }

  if (v10)
  {
    if (*(v10 + 8) == 1)
    {
      (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 8);
    }
  }
}

void WebKit::FindController::findStringMatches(uint64_t a1, atomic_uint **a2, unsigned __int16 a3, uint64_t a4, uint64_t *a5)
{
  v10 = *(a1 + 8);
  if (v10 && (v11 = *(v10 + 8)) != 0)
  {
    v12 = v11 - 16;
    CFRetain(*(v11 - 8));
    v13 = 0;
  }

  else
  {
    v12 = 0;
    v13 = 1;
  }

  v14 = *(v12 + 56);
  if (v14)
  {
    ++*(v14 + 8);
  }

  WebCore::Page::findTextMatches();
  if (v14)
  {
    WTF::RefCounted<WebCore::Page>::deref((v14 + 8));
  }

  v16 = *(a1 + 60);
  if (v16)
  {
    WTF::VectorTypeOperations<WebCore::SimpleRange>::destruct(*(a1 + 48), (*(a1 + 48) + 32 * v16));
  }

  v17 = *(a1 + 48);
  if (v17)
  {
    *(a1 + 48) = 0;
    *(a1 + 56) = 0;
    WTF::fastFree(v17, v15);
  }

  *(a1 + 48) = v54;
  v18 = v55;
  v19 = HIDWORD(v55);
  v54 = 0;
  v55 = 0;
  *(a1 + 56) = v18;
  *(a1 + 60) = v19;
  v52 = 0;
  v53 = 0;
  v48 = a2;
  v49 = a4;
  if (!v19)
  {
    goto LABEL_27;
  }

  if (v19 >> 28)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BBDB8);
  }

  v20 = WTF::fastMalloc((16 * v19));
  LODWORD(v53) = v19;
  v52 = v20;
  if (*(a1 + 60))
  {
    v21 = v20;
    v47 = v13;
    v22 = 0;
    v23 = 0;
    v24 = 0;
    v25 = v20;
    do
    {
      WebCore::RenderObject::absoluteTextRects();
      *v25 = v58;
      *(v25 + 8) = v59;
      *(v25 + 12) = v60;
      ++v24;
      v25 += 16;
      v23 += 16;
      v22 += 32;
    }

    while (v24 < *(a1 + 60));
    HIDWORD(v53) = v24;
    v51 = 0;
    if (v24 - 1 >= 0xFFFFFFF)
    {
LABEL_50:
      __break(0xC471u);
      JUMPOUT(0x19E3BBDB0);
    }

    v26 = WTF::fastMalloc((v23 & 0xFFFFFFF0));
    LODWORD(v51) = v24;
    v50 = v26;
    v27 = v26;
    do
    {
      v28 = *(v21 + 12);
      *v27 = 0;
      *(v27 + 8) = 0;
      *(v27 + 12) = v28;
      if (v28)
      {
        if (v28 >> 28)
        {
          goto LABEL_50;
        }

        v29 = WTF::fastMalloc((16 * v28));
        *(v27 + 8) = v28;
        *v27 = v29;
        v30 = *(v21 + 12);
        if (v30)
        {
          v31 = *v21;
          v32 = 16 * v30;
          do
          {
            v33 = *v31++;
            *v29++ = v33;
            v32 -= 16;
          }

          while (v32);
        }
      }

      v27 += 16;
      v21 += 16;
    }

    while (v25 != v21);
    v13 = v47;
  }

  else
  {
LABEL_27:
    LODWORD(v24) = 0;
    v26 = 0;
    v51 = 0;
  }

  v34 = v56;
  v35 = *a5;
  *a5 = 0;
  v50 = 0;
  v51 = 0;
  v57[0] = 0;
  v57[1] = 0;
  v58 = v26;
  v59 = v24;
  v60 = v24;
  (*(*v35 + 16))(v35, &v58, v34);
  WTF::Vector<WebCore::PlatformTimeRanges,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v58, v36);
  WTF::Vector<WebCore::PlatformTimeRanges,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v57, v37);
  (*(*v35 + 8))(v35);
  WTF::Vector<WebCore::PlatformTimeRanges,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v50, v38);
  if ((a3 & 0x60) != 0)
  {
    v40 = *(a1 + 60) != 0;
    v41 = *(v12 + 72);
    if (v41)
    {
      ++v41[4];
    }

    if ((v13 & 1) == 0)
    {
      CFRetain(*(v12 + 8));
    }

    v42 = *v48;
    if (*v48)
    {
      atomic_fetch_add_explicit(v42, 2u, memory_order_relaxed);
    }

    v43 = a3 | (v49 << 32);
    v44 = WTF::fastMalloc(0x28);
    *v44 = &unk_1F1133298;
    *(v44 + 8) = v12;
    *(v44 + 16) = v40;
    if (v42)
    {
      atomic_fetch_add_explicit(v42, 2u, memory_order_relaxed);
    }

    *(v44 + 24) = v42;
    *(v44 + 32) = v43;
    v58 = v44;
    (*(*v41 + 328))(v41, &v58);
    v45 = v58;
    v58 = 0;
    if (v45)
    {
      (*(*v45 + 8))(v45);
      if (v42)
      {
LABEL_39:
        if (atomic_fetch_add_explicit(v42, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v42, v39);
        }
      }
    }

    else if (v42)
    {
      goto LABEL_39;
    }

    if (v41[4] == 1)
    {
      (*(*v41 + 24))(v41);
    }

    else
    {
      --v41[4];
    }
  }

  WTF::Vector<WebCore::PlatformTimeRanges,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v52, v39);
  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v54, v46);
  if ((v13 & 1) == 0)
  {
    CFRelease(*(v12 + 8));
  }
}

void WebKit::FindController::findRectsForStringMatches(uint64_t a1, atomic_uint **a2, unsigned __int16 a3, uint64_t a4, uint64_t *a5)
{
  v10 = *(a1 + 8);
  if (v10 && (v11 = *(v10 + 8)) != 0)
  {
    v12 = v11 - 16;
    CFRetain(*(v11 - 8));
    v13 = 0;
  }

  else
  {
    v12 = 0;
    v13 = 1;
  }

  v14 = *(v12 + 56);
  if (v14)
  {
    ++*(v14 + 8);
  }

  WebCore::Page::findTextMatches();
  if (v14)
  {
    WTF::RefCounted<WebCore::Page>::deref((v14 + 8));
  }

  v16 = *(a1 + 60);
  if (v16)
  {
    WTF::VectorTypeOperations<WebCore::SimpleRange>::destruct(*(a1 + 48), (*(a1 + 48) + 32 * v16));
  }

  v17 = *(a1 + 48);
  if (v17)
  {
    *(a1 + 48) = 0;
    *(a1 + 56) = 0;
    WTF::fastFree(v17, v15);
  }

  *(a1 + 48) = v46;
  v18 = v47;
  v19 = HIDWORD(v47);
  v46 = 0;
  v47 = 0;
  *(a1 + 56) = v18;
  *(a1 + 60) = v19;
  v44 = 0;
  v45 = 0;
  if (v19)
  {
    if (v19 >> 28)
    {
      __break(0xC471u);
      return;
    }

    v20 = WTF::fastMalloc((16 * v19));
    LODWORD(v45) = v19;
    v44 = v20;
    if (*(a1 + 60))
    {
      v43 = a2;
      v21 = a4;
      v22 = v13;
      v23 = 0;
      v24 = 0;
      v25 = (v20 + 8);
      do
      {
        v26 = *(a1 + 48);
        WebCore::RenderObject::absoluteTextRects();
        v50[0] = WebCore::unionRect();
        v50[1] = v27;
        WebCore::FloatRect::FloatRect(v51, v50);
        v29 = v48;
        if (v48)
        {
          v48 = 0;
          v49 = 0;
          WTF::fastFree(v29, v28);
        }

        WebCore::ScrollView::contentsToRootView(*(*(*(*(*(*(v26 + v23) + 48) + 8) + 552) + 8) + 216), v51);
        *(v25 - 2) = v30;
        *(v25 - 1) = v31;
        *v25 = v32;
        v25[1] = v33;
        v25 += 4;
        ++v24;
        v23 += 32;
      }

      while (v24 < *(a1 + 60));
      HIDWORD(v45) = v24;
      v13 = v22;
      a4 = v21;
      a2 = v43;
    }
  }

  v34 = *a5;
  *a5 = 0;
  (*(*v34 + 16))(v34, &v44);
  (*(*v34 + 8))(v34);
  if ((a3 & 0x60) != 0)
  {
    v36 = *(a1 + 60) != 0;
    v37 = *(v12 + 72);
    if (v37)
    {
      ++v37[4];
    }

    if ((v13 & 1) == 0)
    {
      CFRetain(*(v12 + 8));
    }

    v38 = *a2;
    if (v38)
    {
      atomic_fetch_add_explicit(v38, 2u, memory_order_relaxed);
    }

    v39 = a3 | (a4 << 32);
    v40 = WTF::fastMalloc(0x28);
    *v40 = &unk_1F11332E8;
    *(v40 + 8) = v12;
    *(v40 + 16) = v36;
    if (v38)
    {
      atomic_fetch_add_explicit(v38, 2u, memory_order_relaxed);
    }

    *(v40 + 24) = v38;
    *(v40 + 32) = v39;
    v51[0] = v40;
    (*(*v37 + 328))(v37, v51);
    v41 = v51[0];
    v51[0] = 0;
    if (v41)
    {
      (*(*v41 + 8))(v41);
      if (v38)
      {
LABEL_32:
        if (atomic_fetch_add_explicit(v38, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v38, v35);
        }
      }
    }

    else if (v38)
    {
      goto LABEL_32;
    }

    if (v37[4] == 1)
    {
      (*(*v37 + 24))(v37);
    }

    else
    {
      --v37[4];
    }
  }

  v42 = v44;
  if (v44)
  {
    v44 = 0;
    LODWORD(v45) = 0;
    WTF::fastFree(v42, v35);
  }

  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v46, v35);
  if ((v13 & 1) == 0)
  {
    CFRelease(*(v12 + 8));
  }
}

void WebKit::FindController::getImageForFindMatch(WebKit::FindController *this, unsigned int a2)
{
  if (*(this + 15) > a2)
  {
    v4 = *(*(*(*(*(this + 6) + 32 * a2) + 48) + 8) + 552);
    if (v4)
    {
      v5 = *(v4 + 8);
      if (v5)
      {
        ++*(v5 + 16);
        v6 = *(*(v5 + 224) + 3208);
        ++*(v6 + 28);
        v7 = *(v6 + 56);
        if (v7)
        {
          *(v7 + 28) += 2;
        }

        v34 = v7;
        v35 = *(v6 + 64);
        v36 = *(v6 + 68);
        v8 = *(v6 + 72);
        if (v8)
        {
          *(v8 + 28) += 2;
        }

        v37 = v8;
        v38 = *(v6 + 80);
        v39 = *(v6 + 84);
        v9 = *(v6 + 88);
        if (v9)
        {
          *(v9 + 28) += 2;
        }

        v40 = v9;
        v41 = *(v6 + 96);
        v42 = *(v6 + 100);
        v10 = *(v6 + 104);
        if (v10)
        {
          *(v10 + 28) += 2;
        }

        v43 = v10;
        v44 = *(v6 + 112);
        v45 = *(v6 + 116);
        v11 = *(v6 + 120);
        if (v11)
        {
          *(v11 + 28) += 2;
        }

        v46 = v11;
        v47 = *(v6 + 128);
        v48 = *(v6 + 132);
        v12 = *(v6 + 136);
        if (v12)
        {
          *(v12 + 28) += 2;
        }

        v49 = v12;
        v50 = *(v6 + 144);
        v51 = *(v6 + 148);
        v52 = *(v6 + 152);
        WebCore::VisibleSelection::VisibleSelection();
        WebCore::FrameSelection::setSelection();
        WebCore::VisibleSelection::~VisibleSelection(v30);
        WebKit::WebFrame::fromCoreFrame(v5, v30);
        v13 = v30[0];
        WebKit::WebFrame::createSelectionSnapshot(v30[0], &v29);
        if (v13)
        {
          CFRelease(*(v13 + 1));
        }

        WebCore::FrameSelection::setSelection();
        v14 = v29;
        if (v29)
        {
          WebKit::WebImage::createHandle(v29, 1, v30);
          if (v33 == 1)
          {
            v15 = v14[2];
            if (!v15)
            {
              goto LABEL_40;
            }

            v16 = *(this + 1);
            if (!v16)
            {
              goto LABEL_36;
            }

            v17 = *(v16 + 8);
            if (!v17)
            {
              goto LABEL_36;
            }

            v19 = *(v17 + 16);
            v18 = v17 + 16;
            v20 = (*(v19 + 56))(v18);
            v22 = IPC::Encoder::operator new(0x238, v21);
            *v22 = 2210;
            *(v22 + 2) = 0;
            *(v22 + 3) = 0;
            *(v22 + 1) = v20;
            *(v22 + 68) = 0;
            *(v22 + 70) = 0;
            *(v22 + 69) = 0;
            IPC::Encoder::encodeHeader(v22);
            v53 = v22;
            IPC::ArgumentCoder<WebCore::ImageBufferParameters,void>::encode(v22, (v15 + 16));
            IPC::ArgumentCoder<WebCore::ShareableBitmapHandle,void>::encode(v22, v30);
            IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v22, a2);
            (*(*v18 + 32))(v18, &v53, 0);
            v24 = v53;
            v53 = 0;
            if (v24)
            {
              IPC::Encoder::~Encoder(v24, v23);
              bmalloc::api::tzoneFree(v27, v28);
            }

            if (v33)
            {
LABEL_40:
              if (v32 == 1)
              {
                v25 = cf;
                cf = 0;
                if (v25)
                {
                  CFRelease(v25);
                }
              }

              WTF::MachSendRight::~MachSendRight(v30);
            }
          }

          CFRelease(v14[1]);
        }

        WebCore::VisibleSelection::~VisibleSelection(&v34);
        v26 = *(v6 + 28);
        if (v26)
        {
          *(v6 + 28) = v26 - 1;
          if (*(v5 + 16) == 1)
          {
            (*(*v5 + 8))(v5);
          }

          else
          {
            --*(v5 + 16);
          }

          return;
        }

LABEL_36:
        __break(0xC471u);
        JUMPOUT(0x19E3BC53CLL);
      }
    }
  }
}

void WebKit::FindController::selectFindMatch(WebKit::FindController *this, unsigned int a2)
{
  if (*(this + 15) > a2)
  {
    v2 = *(*(*(*(*(this + 6) + 32 * a2) + 48) + 8) + 552);
    if (v2)
    {
      v3 = *(v2 + 8);
      if (v3)
      {
        ++*(v3 + 16);
        v4 = *(*(v3 + 224) + 3208);
        ++*(v4 + 28);
        WebCore::VisibleSelection::VisibleSelection();
        WebCore::FrameSelection::setSelection();
        WebCore::VisibleSelection::~VisibleSelection(v6);
        v5 = *(v4 + 28);
        if (v5)
        {
          *(v4 + 28) = v5 - 1;
          if (*(v3 + 16) == 1)
          {
            (*(*v3 + 8))(v3);
          }

          else
          {
            --*(v3 + 16);
          }
        }

        else
        {
          __break(0xC471u);
        }
      }
    }
  }
}

void WebKit::FindController::indicateFindMatch(WebKit::FindController *this, unsigned int a2)
{
  WebKit::FindController::willFindString(this);
  WebKit::FindController::selectFindMatch(this, a2);
  v4 = *(this + 1);
  if (v4 && (v5 = *(v4 + 8)) != 0)
  {
    v6 = v5 - 16;
    CFRetain(*(v5 - 8));
  }

  else
  {
    v6 = 0;
  }

  v7 = *(v6 + 56);
  if (v7)
  {
    ++*(v7 + 2);
  }

  WebKit::FindController::frameWithSelection(v7, &v11);
  v8 = v11;
  if (!v11)
  {
LABEL_10:
    if (!v7)
    {
      goto LABEL_12;
    }

    goto LABEL_11;
  }

  if (v11[4] != 1)
  {
    --v11[4];
    goto LABEL_10;
  }

  (*(*v11 + 8))(v11);
  if (v7)
  {
LABEL_11:
    WTF::RefCounted<WebCore::Page>::deref(v7 + 2);
  }

LABEL_12:
  CFRelease(*(v6 + 8));
  if (v8)
  {
    WebKit::FindController::didFindString(this);
    v9 = *(this + 2);
    if (v9)
    {
      v10 = *(v9 + 8) != 0;
    }

    else
    {
      v10 = 0;
    }

    WebKit::FindController::updateFindIndicator(this, v10, 1);
  }
}

_DWORD *WebKit::FindController::hideFindUI(WebKit::FindController *this, void *a2)
{
  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(this + 48, a2);
  v3 = *(this + 2);
  if (v3)
  {
    v14 = *(v3 + 8);
    if (v14)
    {
      v15 = (v14 + 16);
      ++*(v14 + 16);
      v16 = *(this + 1);
      if (!v16 || !*(v16 + 8))
      {
        goto LABEL_27;
      }

      WebCore::PageOverlayController::uninstallPageOverlay();
      WTF::RefCounted<WebCore::PageOverlay>::deref(v15);
    }
  }

  v4 = WebKit::FindController::mainFramePlugIn(*(this + 1));
  if (v4)
  {
    v17 = *(v4 + 8);
    *(v4 + 8) = v17 + 1;
    v18 = v4;
    if (*(v4 + 137) == 1)
    {
      (*(**(v4 + 72) + 1176))(*(v4 + 72), MEMORY[0x1E696EBA8], 0, 0);
      v17 = v18[2] - 1;
    }

    if (v17)
    {
      v18[2] = v17;
    }

    else
    {
      (*(*v18 + 8))(v18);
    }
  }

  else
  {
    v5 = *(this + 1);
    if (v5 && (v6 = *(v5 + 8)) != 0)
    {
      v7 = v6 - 16;
      CFRetain(*(v6 - 8));
    }

    else
    {
      v7 = 0;
    }

    v8 = *(v7 + 56);
    if (v8)
    {
      v9 = v8 + 2;
      ++v8[2];
      WebCore::Page::unmarkAllTextMatches(v8);
      WTF::RefCounted<WebCore::Page>::deref(v9);
    }

    else
    {
      WebCore::Page::unmarkAllTextMatches(0);
    }

    CFRelease(*(v7 + 8));
  }

  result = WebKit::FindController::hideFindIndicator(this);
  *(this + 16) = -1;
  v11 = *(this + 1);
  if (!v11 || (v12 = *(v11 + 8)) == 0)
  {
LABEL_27:
    __break(0xC471u);
    JUMPOUT(0x19E3BC9B0);
  }

  v13 = *(*(v12 + 40) + 1136);
  if (v13)
  {
    ++*v13;
    WebCore::ImageAnalysisQueue::clearDidBecomeEmptyCallback(v13);

    return WTF::RefCounted<WebCore::ImageAnalysisQueue>::deref(v13);
  }

  return result;
}

uint64_t WebKit::FindController::willMoveToPage(uint64_t this, WebCore::PageOverlay *a2, WebCore::Page *a3)
{
  if (!a3)
  {
    v3 = this;
    this = *(this + 16);
    *(v3 + 16) = 0;
    if (this)
    {
      if (atomic_fetch_add(this, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, this);
        return WTF::fastFree(this, a2);
      }
    }
  }

  return this;
}

WTF *WebKit::FindController::drawRect(WebKit::FindController *this, WebCore::PageOverlay *a2, WebCore::GraphicsContext *a3, int8x16_t *a4)
{
  v4 = a4;
  v7.i64[0] = 0xFFFFFFFF00000000;
  v7.i64[1] = 0xFFFFFFFF00000000;
  v73 = vaddq_s64(vbslq_s8(v7, *a4, vaddq_s64(*a4, xmmword_19E704900)), xmmword_19E704910);
  v8 = WebKit::FindController::mainFramePlugIn(*(this + 1));
  if (v8)
  {
    v14 = v8;
    v36 = *(v8 + 8);
    *(v8 + 8) = v36 + 1;
    if (*(v8 + 137))
    {
      (*(**(v8 + 72) + 1184))(&v77);
      v36 = *(v14 + 2) - 1;
    }

    else
    {
      v77 = 0;
      v78 = 0;
    }

    if (v36)
    {
      goto LABEL_60;
    }

    goto LABEL_112;
  }

  v77 = 0;
  v78 = 0;
  v9 = *(this + 1);
  v72 = v4;
  if (v9 && (v10 = *(v9 + 8)) != 0)
  {
    v11 = v10 - 16;
    CFRetain(*(v10 - 8));
  }

  else
  {
    v11 = 0;
  }

  v12 = *(v11 + 56);
  if (v12)
  {
    ++*(v12 + 2);
  }

  WebCore::Page::protectedMainFrame(&v84, v12);
  v13 = (*(*v84 + 56))(v84);
  v14 = v13;
  if (v13)
  {
    ++*(v13 + 8);
  }

  v15 = v84;
  v84 = 0;
  if (!v15)
  {
LABEL_13:
    if (!v12)
    {
      goto LABEL_15;
    }

    goto LABEL_14;
  }

  if (v15[4] != 1)
  {
    --v15[4];
    goto LABEL_13;
  }

  (*(*v15 + 8))(v15);
  if (v12)
  {
LABEL_14:
    WTF::RefCounted<WebCore::Page>::deref(v12 + 2);
  }

LABEL_15:
  CFRelease(*(v11 + 8));
  v16 = *(this + 1);
  if (!v16 || (v17 = *(v16 + 8)) == 0)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BD358);
  }

  v18 = *(*(v17 + 40) + 176);
  ++*(v18 + 16);
  do
  {
    if (*(v18 + 136))
    {
      v19 = 0;
    }

    else
    {
      v19 = v18;
    }

    if ((*(v18 + 136) & 1) == 0)
    {
      v20 = *(v18 + 224);
      if (v20)
      {
        *(v20 + 28) += 2;
        v21 = *(v20 + 1560);
        if (!v21)
        {
          v21 = WebCore::Document::ensureMarkers(v20);
        }

        ++*v21;
        WebCore::DocumentMarkerController::renderedRectsForMarkers();
        v23 = v84;
        if (v86)
        {
          v24 = 16 * v86;
          do
          {
            v83 = *v23;
            v25 = *(v18 + 120);
            if (v25)
            {
              v25 = *(v25 + 8);
            }

            if (v25 != v19)
            {
              v26 = *(v18 + 216);
              if (v26)
              {
                ++*(v26 + 2);
              }

              v79[0] = WebCore::enclosingIntRect(&v83, v22);
              v79[1] = v27;
              v80[0] = WebCore::ScrollView::contentsToWindow(v26, v79);
              v80[1] = v28;
              v81[0] = WebCore::ScrollView::windowToContents(v14, v80);
              v81[1] = v29;
              WebCore::FloatRect::FloatRect(&v82, v81);
              v83 = v82;
              if (v26)
              {
                if (*(v26 + 2) == 1)
                {
                  (*(*v26 + 8))(v26);
                }

                else
                {
                  --*(v26 + 2);
                }
              }
            }

            if (*(&v83 + 2) > 0.0 && *(&v83 + 3) > 0.0)
            {
              WebCore::FloatRect::FloatRect(&v82, &v73);
              if (WebCore::FloatRect::intersects(&v83, &v82))
              {
                v30 = HIDWORD(v78);
                if (HIDWORD(v78) == v78)
                {
                  v31 = WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v77, HIDWORD(v78) + 1, &v83);
                  v30 = HIDWORD(v78);
                  v32 = v77;
                  v33 = *v31;
                }

                else
                {
                  v32 = v77;
                  v33 = v83;
                }

                *(v32 + v30) = v33;
                ++HIDWORD(v78);
              }
            }

            v23 = (v23 + 16);
            v24 -= 16;
          }

          while (v24);
          v23 = v84;
        }

        if (v23)
        {
          v84 = 0;
          v85 = 0;
          WTF::fastFree(v23, v22);
        }

        if (!*v21)
        {
          goto LABEL_116;
        }

        --*v21;
        if (*(v20 + 28) == 2)
        {
          WebCore::Node::removedLastRef(v20);
        }

        else
        {
          *(v20 + 28) -= 2;
        }
      }
    }

    v34 = WebCore::FrameTree::traverseNext((v18 + 40), 0);
    v35 = v34;
    if (v34)
    {
      ++*(v34 + 16);
    }

    if (*(v18 + 16) == 1)
    {
      (*(*v18 + 8))(v18);
    }

    else
    {
      --*(v18 + 16);
    }

    v18 = v35;
  }

  while (v35);
  v4 = v72;
  if (v14)
  {
    v36 = *(v14 + 2) - 1;
    if (*(v14 + 2) != 1)
    {
LABEL_60:
      *(v14 + 2) = v36;
      goto LABEL_61;
    }

LABEL_112:
    (*(*v14 + 8))(v14);
  }

LABEL_61:
  WebCore::FloatRect::FloatRect(&v73, v4);
  v84 = 0x110400001A1A1A40;
  (*(*a3 + 232))(a3, &v73, &v84);
  if ((v84 & 0x8000000000000) != 0)
  {
    v69 = (v84 & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v84 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v69);
      WTF::fastFree(v69, v37);
    }
  }

  WebCore::PathUtilities::pathsWithShrinkWrappedRects();
  (*(*a3 + 104))(a3, 1);
  v73.i64[0] = 0;
  v73.i32[2] = 1065353216;
  v74 = 0x1104000000000080;
  v75 = 0;
  v76 = 1065353216;
  WebCore::GraphicsContext::setDropShadow(a3, v73.i64);
  if ((v74 & 0x8000000000000) != 0)
  {
    v70 = (v74 & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v74 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v70);
      WTF::fastFree(v70, v38);
    }
  }

  v73.i64[0] = 0x11040000FFFFFFFFLL;
  WebCore::GraphicsContext::setStrokeColor(a3, &v73);
  if ((v73.i64[0] & 0x8000000000000) != 0)
  {
    v71 = (v73.i64[0] & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v73.i64[0] & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v71);
      WTF::fastFree(v71, v39);
    }
  }

  if (*(a3 + 39) != 2.0)
  {
    *(a3 + 38) |= 8u;
    *(a3 + 39) = 0x40000000;
  }

  (*(*a3 + 96))(a3, a3 + 8, 3);
  if (v86)
  {
    v40 = v84;
    v41 = v86 << 6;
    do
    {
      (*(*a3 + 192))(a3, v40);
      v40 += 64;
      v41 -= 64;
    }

    while (v41);
  }

  WebCore::GraphicsContext::clearDropShadow(a3);
  WebCore::GraphicsContext::setCompositeMode(a3, 256);
  if (v86)
  {
    v42 = v84;
    v43 = v86 << 6;
    do
    {
      (*(*a3 + 184))(a3, v42);
      v42 += 64;
      v43 -= 64;
    }

    while (v43);
  }

  if (*(this + 24))
  {
    v44 = *(this + 1);
    if (v44 && (v45 = *(v44 + 8)) != 0)
    {
      v46 = v45 - 16;
      CFRetain(*(v45 - 8));
    }

    else
    {
      v46 = 0;
    }

    v47 = *(v46 + 56);
    if (v47)
    {
      v48 = v47 + 2;
      ++v47[2];
      WebKit::FindController::frameWithSelection(v47, &v82);
      WTF::RefCounted<WebCore::Page>::deref(v48);
    }

    else
    {
      WebKit::FindController::frameWithSelection(0, &v82);
    }

    CFRelease(*(v46 + 8));
    v49 = v82;
    if (v82)
    {
      v50 = *(v82 + 216);
      if (v50)
      {
        ++*(v50 + 2);
      }

      v51 = *(*(v49 + 224) + 3208);
      ++*(v51 + 28);
      WebCore::FrameSelection::selectionBounds();
      *&v83 = __PAIR64__(v53, v52);
      *(&v83 + 1) = __PAIR64__(v55, v54);
      v73.i64[0] = WebCore::enclosingIntRect(&v83, v56);
      v73.i64[1] = v57;
      v58 = WebCore::ScrollView::contentsToRootView(v50, &v73);
      v60 = *(v51 + 28);
      if (!v60)
      {
LABEL_116:
        __break(0xC471u);
        JUMPOUT(0x19E3BD338);
      }

      v61 = v58;
      v62 = v59;
      *(v51 + 28) = v60 - 1;
      if (v50)
      {
        if (*(v50 + 2) == 1)
        {
          (*(*v50 + 8))(v50);
        }

        else
        {
          --*(v50 + 2);
        }
      }

      if (*(this + 28) == v61 && *(this + 36) == v62)
      {
        goto LABEL_93;
      }

      v63 = *(this + 1);
      if (v63)
      {
        atomic_fetch_add(v63, 1u);
      }

      v64 = WTF::fastMalloc(0x10);
      *v64 = &unk_1F1133310;
      v64[1] = v63;
      v73.i64[0] = v64;
      WTF::callOnMainRunLoop();
      v65 = v73.i64[0];
      v73.i64[0] = 0;
      if (v65)
      {
        (*(*v65 + 8))(v65);
      }

      v49 = v82;
      if (v82)
      {
LABEL_93:
        if (*(v49 + 16) == 1)
        {
          (*(*v49 + 8))(v49);
        }

        else
        {
          --*(v49 + 16);
        }
      }
    }
  }

  (*(*a3 + 112))(a3, 1);
  WTF::Vector<WebCore::Path,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v84, v66);
  result = v77;
  if (v77)
  {
    v77 = 0;
    LODWORD(v78) = 0;
    return WTF::fastFree(result, v67);
  }

  return result;
}

uint64_t WebKit::FindController::mouseEvent(WebKit::FindController *a1, void *a2, uint64_t a3)
{
  if (*(a3 + 8) == 6)
  {
    WebKit::FindController::hideFindUI(a1, a2);
  }

  return 0;
}

void *WebKit::FindController::didInvalidateFindRects(void *this)
{
  v2 = this[2];
  if (v2)
  {
    this = *(v2 + 8);
    if (this)
    {
      v3 = this + 2;
      ++*(this + 4);
      WebCore::PageOverlay::setNeedsDisplay(this);

      return WTF::RefCounted<WebCore::PageOverlay>::deref(v3);
    }
  }

  return this;
}

unsigned int *WebKit::VisitedLinkTableController::getOrCreate@<X0>(WebKit *a1@<X0>, WebCore::VisitedLinkStore **a2@<X8>)
{
  v15 = a1;
  WebKit::visitedLinkTableControllers(a1);
  WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<decltype(nullptr)>(&WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers, &v15, v14);
  v3 = v14[0];
  v4 = *(v14[0] + 8);
  if (v4 && (v10 = *(v4 + 8)) != 0)
  {
    result = (v10 - 32);
    v11 = *(v10 - 24);
    *(v10 - 24) = v11 + 2;
    *a2 = (v10 - 32);
    v12 = __CFADD__(v11, 1);
    v13 = v11 + 1;
    if (v12)
    {
      return (*(*result + 8))(result);
    }

    else
    {
      *(v10 - 24) = v13;
    }
  }

  else
  {
    v5 = WTF::fastMalloc(0x58);
    v6 = WebKit::VisitedLinkTableController::VisitedLinkTableController(v5, v15);
    *a2 = v6;
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v6 + 10, v5 + 32);
    v8 = *(v5 + 5);
    atomic_fetch_add(v8, 1u);
    result = *(v3 + 8);
    *(v3 + 8) = v8;
    if (result)
    {
      if (atomic_fetch_add(result, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, result);
        return WTF::fastFree(result, v7);
      }
    }
  }

  return result;
}

uint64_t WebKit::visitedLinkTableControllers(WebKit *this)
{
  {
    WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers = 0;
  }

  if (WTF::isMainRunLoop(this))
  {
    return &WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers;
  }

  result = 42;
  __break(0xC471u);
  return result;
}

uint64_t *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<decltype(nullptr)>@<X0>(uint64_t *result@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X8>)
{
  v4 = *a2;
  if (*a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BD730);
  }

  if (!v4)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BD750);
  }

  v6 = result;
  v7 = *result;
  if (!*result)
  {
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(result, 0);
    v7 = *v6;
    v4 = *a2;
  }

  v8 = *(v7 - 8);
  v9 = (v4 + ~(v4 << 32)) ^ ((v4 + ~(v4 << 32)) >> 22);
  v10 = 9 * ((v9 + ~(v9 << 13)) ^ ((v9 + ~(v9 << 13)) >> 8));
  v11 = (v10 ^ (v10 >> 15)) + ~((v10 ^ (v10 >> 15)) << 27);
  v12 = v8 & ((v11 >> 31) ^ v11);
  v13 = (v7 + 16 * v12);
  v14 = *v13;
  if (*v13)
  {
    v21 = 0;
    v22 = 1;
    do
    {
      if (v14 == v4)
      {
        v20 = 0;
        v19 = v7 + 16 * *(v7 - 4);
        goto LABEL_14;
      }

      if (v14 == -1)
      {
        v21 = v13;
      }

      v12 = (v12 + v22) & v8;
      v13 = (v7 + 16 * v12);
      v14 = *v13;
      ++v22;
    }

    while (*v13);
    if (v21)
    {
      *v21 = 0;
      v21[1] = 0;
      --*(*v6 - 16);
      v4 = *a2;
      v13 = v21;
    }
  }

  result = v13[1];
  *v13 = v4;
  v13[1] = 0;
  if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, result);
    result = WTF::fastFree(result, a2);
  }

  v15 = *v6;
  if (*v6)
  {
    v16 = *(v15 - 12) + 1;
  }

  else
  {
    v16 = 1;
  }

  *(v15 - 12) = v16;
  v17 = (*(v15 - 16) + v16);
  v18 = *(v15 - 4);
  if (v18 > 0x400)
  {
    if (v18 > 2 * v17)
    {
      goto LABEL_13;
    }

LABEL_24:
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(v6, v13);
    v13 = result;
    v15 = *v6;
    if (*v6)
    {
      v18 = *(v15 - 4);
    }

    else
    {
      v18 = 0;
    }

    goto LABEL_13;
  }

  if (3 * v18 <= 4 * v17)
  {
    goto LABEL_24;
  }

LABEL_13:
  v19 = v15 + 16 * v18;
  v20 = 1;
LABEL_14:
  *a3 = v13;
  *(a3 + 8) = v19;
  *(a3 + 16) = v20;
  return result;
}

WebCore::VisitedLinkStore *WebKit::VisitedLinkTableController::VisitedLinkTableController(WebCore::VisitedLinkStore *a1, uint64_t a2)
{
  v4 = WebCore::VisitedLinkStore::VisitedLinkStore(a1);
  v6 = v4 + 32;
  *v4 = &unk_1F11330D8;
  *(v4 + 32) = &unk_1F1133120;
  *(v4 + 40) = 0;
  *(v4 + 48) = a2;
  *(v4 + 56) = 0;
  *(v4 + 64) = 0;
  *(v4 + 72) = 0;
  *(v4 + 80) = 0;
  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v9 = v4 + 32;
    v10 = WebKit::WebProcess::operator new(0x370, v5);
    v7 = WebKit::WebProcess::WebProcess(v10);
    v6 = v9;
    WebKit::WebProcess::singleton(void)::process = v7;
    a2 = *(a1 + 6);
  }

  v12[0] = 156;
  v12[1] = a2;
  WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v7 + 7, v12, v6, v11);
  return a1;
}

void WebKit::VisitedLinkTableController::~VisitedLinkTableController(WebKit::VisitedLinkTableController *this, void *a2)
{
  v3 = WebKit::WebProcess::singleton(this, a2);
  v4 = WebKit::AuxiliaryProcess::removeMessageReceiver(v3, 0x9Cu, *(this + 6));
  WebKit::visitedLinkTableControllers(v4);
  v5 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 6);
  WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::remove(v5, v6);
  WebKit::SharedStringHashTableReadOnly::~SharedStringHashTableReadOnly(this + 7);
  *(this + 4) = &unk_1F10EA5E0;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 5, v7);

  MEMORY[0x1EEE56988](this);
}

{
  WebKit::VisitedLinkTableController::~VisitedLinkTableController(this, a2);

  WTF::fastFree(v2, v3);
}

void non-virtual thunk toWebKit::VisitedLinkTableController::~VisitedLinkTableController(WebKit::VisitedLinkTableController *this, void *a2)
{
  WebKit::VisitedLinkTableController::~VisitedLinkTableController((this - 32), a2);
}

{
  WebKit::VisitedLinkTableController::~VisitedLinkTableController((this - 32), a2);

  WTF::fastFree(v2, v3);
}

_DWORD *WebKit::VisitedLinkTableController::isLinkVisited(uint64_t a1, int a2, unsigned int a3)
{
  result = WebKit::SharedStringHashTableReadOnly::findSlot(a1 + 56, a3);
  if (result)
  {
    return (*result != 0);
  }

  return result;
}

IPC::Encoder *WebKit::VisitedLinkTableController::addVisitedLink(WebKit::VisitedLinkTableController *this, WebCore::Page *a2, unsigned int a3)
{
  result = WebKit::SharedStringHashTableReadOnly::findSlot(this + 56, a3);
  if (!result || !*result)
  {
    {
      v8 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v17 = WebKit::WebProcess::operator new(0x370, v7);
      v8 = WebKit::WebProcess::WebProcess(v17);
      WebKit::WebProcess::singleton(void)::process = v8;
    }

    v9 = *(v8 + 5);
    v10 = *(WebKit::WebPage::fromCorePage(a2) + 1832);
    v11 = *(this + 6);
    v13 = IPC::Encoder::operator new(0x238, v12);
    *v13 = 1814;
    *(v13 + 2) = 0;
    *(v13 + 3) = 0;
    *(v13 + 1) = v11;
    *(v13 + 68) = 0;
    *(v13 + 70) = 0;
    *(v13 + 69) = 0;
    IPC::Encoder::encodeHeader(v13);
    v18 = v13;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v13, v10);
    IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v13, a3);
    IPC::Connection::sendMessageImpl(v9, &v18, 0, 0);
    result = v18;
    v18 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v14);
      return bmalloc::api::tzoneFree(v15, v16);
    }
  }

  return result;
}

atomic_uint *WebKit::VisitedLinkTableController::setVisitedLinkTable(WebCore::VisitedLinkStore *a1)
{
  result = WebCore::SharedMemory::map();
  if (v4)
  {
    v3 = v4;
    v4 = 0;
    WebKit::SharedStringHashTableReadOnly::setSharedMemory(a1 + 56, &v3);
    if (v3)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v3);
    }

    WebCore::VisitedLinkStore::invalidateStylesForAllLinks(a1);
    result = v4;
    v4 = 0;
    if (result)
    {
      return WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(result);
    }
  }

  return result;
}

WebCore::VisitedLinkStore *WebKit::VisitedLinkTableController::visitedLinkStateChanged(WebCore::VisitedLinkStore *this, uint64_t *a2)
{
  v2 = *(a2 + 3);
  if (v2)
  {
    v3 = this;
    v4 = *a2;
    v5 = 4 * v2;
    do
    {
      v4 += 4;
      this = WebCore::VisitedLinkStore::invalidateStylesForLink(v3);
      v5 -= 4;
    }

    while (v5);
  }

  return this;
}

uint64_t WebKit::VisitedLinkTableController::removeAllVisitedLinks(WebKit::VisitedLinkTableController *this)
{
  v3 = 0;
  WebKit::SharedStringHashTableReadOnly::setSharedMemory(this + 56, &v3);
  if (v3)
  {
    WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v3);
  }

  return WebCore::VisitedLinkStore::invalidateStylesForAllLinks(this);
}

WebKit::WebBackForwardListProxy *WebKit::WebBackForwardListProxy::WebBackForwardListProxy(WebKit::WebBackForwardListProxy *this, WebKit::WebPage *a2)
{
  *(this + 2) = 1;
  *this = &unk_1F1133168;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a2 + 6, a2 + 16);
  v4 = *(a2 + 3);
  if (v4)
  {
    atomic_fetch_add(v4, 1u);
  }

  *(this + 2) = v4;
  *(this + 24) = 0;
  *(this + 32) = 0;
  return this;
}

void WebKit::WebBackForwardListProxy::addItem(uint64_t a1, WebKit **a2)
{
  v2 = *(a1 + 16);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      CFRetain(*(v3 - 8));
      if (*(a1 + 32) == 1)
      {
        *(a1 + 32) = 0;
      }

      WebKit::toFrameState(*a2, &v14);
      v6 = (*(*(v3 + 16) + 56))(v3 + 16);
      v8 = IPC::Encoder::operator new(0x238, v7);
      *v8 = 2149;
      *(v8 + 2) = 0;
      *(v8 + 3) = 0;
      *(v8 + 1) = v6;
      *(v8 + 68) = 0;
      *(v8 + 70) = 0;
      *(v8 + 69) = 0;
      IPC::Encoder::encodeHeader(v8);
      v15 = v8;
      IPC::ArgumentCoder<WebKit::FrameState,void>::encode(v8, v14);
      (*(*(v3 + 16) + 32))(v3 + 16, &v15, 0);
      v10 = v15;
      v15 = 0;
      if (v10)
      {
        IPC::Encoder::~Encoder(v10, v9);
        bmalloc::api::tzoneFree(v12, v13);
      }

      v11 = v14;
      v14 = 0;
      if (v11)
      {
        WTF::RefCounted<WebKit::FrameState>::deref(v11);
      }

      CFRelease(*(v3 - 8));
    }
  }
}

void WebKit::WebBackForwardListProxy::setChildItem(uint64_t a1, uint64_t a2, uint64_t a3, WebKit **a4)
{
  v16[0] = a2;
  v16[1] = a3;
  v4 = *(a1 + 16);
  if (v4)
  {
    v5 = *(v4 + 8);
    if (v5)
    {
      CFRetain(*(v5 - 8));
      WebKit::toFrameState(*a4, &v15);
      v7 = (*(*(v5 + 16) + 56))(v5 + 16);
      v9 = IPC::Encoder::operator new(0x238, v8);
      *v9 = 2151;
      *(v9 + 2) = 0;
      *(v9 + 3) = 0;
      *(v9 + 1) = v7;
      *(v9 + 68) = 0;
      *(v9 + 70) = 0;
      *(v9 + 69) = 0;
      IPC::Encoder::encodeHeader(v9);
      v17 = v9;
      IPC::ArgumentCoder<WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::BackForwardFrameItemIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode(v9, v16);
      IPC::ArgumentCoder<WebKit::FrameState,void>::encode(v9, v15);
      (*(*(v5 + 16) + 32))(v5 + 16, &v17, 0);
      v11 = v17;
      v17 = 0;
      if (v11)
      {
        IPC::Encoder::~Encoder(v11, v10);
        bmalloc::api::tzoneFree(v13, v14);
      }

      v12 = v15;
      v15 = 0;
      if (v12)
      {
        WTF::RefCounted<WebKit::FrameState>::deref(v12);
      }

      CFRelease(*(v5 - 8));
    }
  }
}

atomic_ullong *WebKit::WebBackForwardListProxy::goToItem(atomic_ullong *this, WebCore::HistoryItem *a2)
{
  v2 = this[2];
  if (!v2)
  {
    return this;
  }

  v3 = *(v2 + 8);
  if (!v3)
  {
    return this;
  }

  v4 = this;
  v6 = *(a2 + 39);
  v5 = *(a2 + 40);
  v8 = *(v3 + 16);
  v7 = v3 + 16;
  v9 = (*(v8 + 56))(v7);
  this = (*(*v7 + 48))(v7);
  if (this)
  {
    v10 = this;
    while (1)
    {
      v11 = *this;
      if ((*this & 1) == 0)
      {
        break;
      }

      v12 = *this;
      atomic_compare_exchange_strong_explicit(this, &v12, v11 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v12 == v11)
      {
        goto LABEL_9;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*this);
LABEL_9:
    IPC::Connection::createSyncMessageEncoder(0x1024, v9, v34);
    v13 = v34[0];
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v34[0], v6);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v13, v5);
    v14 = IPC::Connection::sendSyncMessage(v10, v34[1], v34, 0, &v32, INFINITY);
    if (v33)
    {
      if (v33 != 1)
      {
        mpark::throw_bad_variant_access(v14);
      }

      v16 = v32;
      v17 = 1;
LABEL_20:
      v23 = v34[0];
      v34[0] = 0;
      if (v23)
      {
        IPC::Encoder::~Encoder(v23, v15);
        bmalloc::api::tzoneFree(v26, v27);
      }

      this = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v10);
      if (v17)
      {
        v24 = 0;
      }

      else
      {
        v24 = v6;
      }

      goto LABEL_25;
    }

    v16 = v32;
    v32 = 0;
    if (*(v16 + 50) == 3194)
    {
      v18 = 11;
    }

    else
    {
      v21 = IPC::Decoder::decode<std::tuple<WebKit::WebBackForwardListCounts>>(v16);
      if (v15)
      {
        v6 = v21;
        v17 = 0;
        goto LABEL_17;
      }

      v18 = 14;
    }

    IPC::Decoder::~Decoder(v16);
    bmalloc::api::tzoneFree(v19, v20);
    v17 = 1;
    v16 = v18;
LABEL_17:
    if (!v33)
    {
      v22 = v32;
      v32 = 0;
      if (v22)
      {
        IPC::Decoder::~Decoder(v22);
        bmalloc::api::tzoneFree(v30, v31);
      }
    }

    goto LABEL_20;
  }

  v24 = 0;
  LOBYTE(v17) = 1;
  v16 = 3;
LABEL_25:
  if ((v4[4] & 1) == 0)
  {
    *(v4 + 32) = 1;
  }

  v4[3] = v24;
  if (v16)
  {
    v25 = v17;
  }

  else
  {
    v25 = 1;
  }

  if ((v25 & 1) == 0)
  {
    IPC::Decoder::~Decoder(v16);
    return bmalloc::api::tzoneFree(v28, v29);
  }

  return this;
}

void WebKit::WebBackForwardListProxy::itemAtIndex(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, void *a4@<X8>)
{
  v5 = *(a1 + 16);
  if (!v5 || (v6 = *(v5 + 8)) == 0)
  {
    *a4 = 0;
    return;
  }

  CFRetain(*(v6 - 8));
  v9 = (*(*(v6 + 16) + 56))(v6 + 16);
  v10 = (*(*(v6 + 16) + 48))(v6 + 16);
  if (!v10)
  {
    goto LABEL_48;
  }

  v11 = v10;
  while (1)
  {
    v12 = *v10;
    if ((*v10 & 1) == 0)
    {
      break;
    }

    v13 = *v10;
    atomic_compare_exchange_strong_explicit(v10, &v13, v12 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v13 == v12)
    {
      goto LABEL_9;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v10);
LABEL_9:
  IPC::Connection::createSyncMessageEncoder(0x1025, v9, v46);
  v14 = v46[0];
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v46[0], a2);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v14, a3);
  v15 = IPC::Connection::sendSyncMessage(v11, v46[1], v46, 0, &v44, INFINITY);
  if (v45)
  {
    if (v45 != 1)
    {
      mpark::throw_bad_variant_access(v15);
    }

    v17 = 0;
    v18 = v44;
    goto LABEL_36;
  }

  v18 = v44;
  v44 = 0;
  if (*(v18 + 50) == 3194)
  {
    a2 = 11;
    goto LABEL_32;
  }

  v19 = *(v18 + 8);
  v20 = *(v18 + 16);
  v16 = *v18;
  if (v19 <= &v20[-*v18])
  {
    *v18 = 0;
    *(v18 + 8) = 0;
    v22 = *(v18 + 24);
    if (v22)
    {
      if (v19)
      {
        (*(*v22 + 16))(v22);
        v19 = *(v18 + 8);
      }
    }

    else
    {
      v19 = 0;
    }

    goto LABEL_26;
  }

  *(v18 + 16) = v20 + 1;
  if (!v20)
  {
LABEL_26:
    *v18 = 0;
    *(v18 + 8) = 0;
    v23 = *(v18 + 24);
    if (v23)
    {
      if (v19)
      {
        (*(*v23 + 16))(v23);
        v16 = *v18;
        v19 = *(v18 + 8);
        goto LABEL_29;
      }
    }

    else
    {
      v19 = 0;
    }

    v16 = 0;
LABEL_29:
    *v18 = 0;
    *(v18 + 8) = 0;
    v24 = *(v18 + 24);
    if (v24 && v19)
    {
      (*(*v24 + 16))(v24, v16);
    }

    goto LABEL_30;
  }

  v21 = *v20;
  if (v21 >= 2)
  {
    goto LABEL_29;
  }

  if (!v21)
  {
    a2 = 0;
    goto LABEL_22;
  }

  IPC::ArgumentCoder<WebKit::FrameState,void>::decode(v18, &v47);
  if (v48 != 1)
  {
LABEL_30:
    v25 = *v18;
    v26 = *(v18 + 8);
    *v18 = 0;
    *(v18 + 8) = 0;
    v27 = *(v18 + 24);
    if (v27 && v26)
    {
      (*(*v27 + 16))(v27, v25);
      v41 = *v18;
      v42 = *(v18 + 8);
      v43 = *(v18 + 24);
      a2 = 14;
      *v18 = 0;
      *(v18 + 8) = 0;
      if (!v43 || !v42)
      {
        goto LABEL_32;
      }

      (*(*v43 + 16))(v43, v41);
    }

    a2 = 14;
LABEL_32:
    IPC::Decoder::~Decoder(v18);
    bmalloc::api::tzoneFree(v28, v29);
    v17 = 0;
    v18 = a2;
    goto LABEL_33;
  }

  a2 = v47;
LABEL_22:
  v17 = 1;
LABEL_33:
  if (!v45)
  {
    v30 = v44;
    v44 = 0;
    if (v30)
    {
      IPC::Decoder::~Decoder(v30);
      bmalloc::api::tzoneFree(v39, v40);
    }
  }

LABEL_36:
  v31 = v46[0];
  v46[0] = 0;
  if (v31)
  {
    IPC::Encoder::~Encoder(v31, v16);
    bmalloc::api::tzoneFree(v35, v36);
  }

  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v11);
  if (!v17)
  {
LABEL_48:
    *a4 = 0;
    goto LABEL_45;
  }

  if (a2)
  {
    v32 = *(v6 + 2088);
    v33 = *(v32 + 8);
    *(v32 + 24) = 1;
    *(v32 + 8) = v33 + 2;
    v34 = WTF::fastMalloc(0x18);
    *v34 = &unk_1F1133800;
    v34[1] = v32;
    v34[2] = v32;
    v47 = v34;
    v48 = 1;
    ++*a2;
    WebKit::toHistoryItem(v32, a2, v46);
    *a4 = v46[0];
    v46[0] = 0;
    WTF::RefCounted<WebKit::FrameState>::deref(a2);
    WTF::ScopeExit<WTF::CompletionHandler<void ()(void)>>::~ScopeExit(&v47);
    if (*(v32 + 8) == 1)
    {
      (*(*v32 + 8))(v32);
    }

    else
    {
      --*(v32 + 8);
    }

    WTF::RefCounted<WebKit::FrameState>::deref(a2);
    if (!v18)
    {
      goto LABEL_45;
    }

    goto LABEL_46;
  }

  *a4 = 0;
  if (v18)
  {
LABEL_46:
    IPC::Decoder::~Decoder(v18);
    bmalloc::api::tzoneFree(v37, v38);
  }

LABEL_45:
  CFRelease(*(v6 - 8));
}

uint64_t WebKit::WebBackForwardListProxy::cacheListCountsIfNecessary(WebKit::WebBackForwardListProxy *this, void *a2)
{
  if (*(this + 32))
  {
    return this + 24;
  }

  v5 = *(this + 2);
  if (!v5 || !*(v5 + 8))
  {
    v19 = 0;
LABEL_24:
    *(this + 32) = 1;
LABEL_25:
    *(this + 3) = v19;
    return this + 24;
  }

  {
    v6 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v29 = WebKit::WebProcess::operator new(0x370, a2);
    v6 = WebKit::WebProcess::WebProcess(v29);
    WebKit::WebProcess::singleton(void)::process = v6;
  }

  WebKit::AuxiliaryProcess::protectedParentProcessConnection(v6, &v30);
  v7 = *(this + 2);
  if (v7)
  {
    v8 = *(v7 + 8);
    if (v8)
    {
      v9 = v30;
      IPC::Connection::createSyncMessageEncoder(0x1027, *(v8 + 32), v33);
      v10 = IPC::Connection::sendSyncMessage(v9, v33[1], v33, 0, &v31, INFINITY);
      if (v32)
      {
        if (v32 != 1)
        {
          mpark::throw_bad_variant_access(v10);
        }

        v12 = v31;
        v14 = 1;
LABEL_16:
        v16 = v33[0];
        v33[0] = 0;
        if (v16)
        {
          IPC::Encoder::~Encoder(v16, v11);
          bmalloc::api::tzoneFree(v20, v21);
        }

        v17 = v30;
        v30 = 0;
        if (v17)
        {
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v17);
        }

        if (v14)
        {
          LODWORD(v18) = 0;
          LODWORD(v2) = 0;
        }

        else
        {
          v18 = HIDWORD(v2);
          if (v12)
          {
            IPC::Decoder::~Decoder(v12);
            bmalloc::api::tzoneFree(v24, v25);
          }
        }

        v19 = v2 | (v18 << 32);
        if (*(this + 32))
        {
          goto LABEL_25;
        }

        goto LABEL_24;
      }

      v12 = v31;
      v31 = 0;
      if (*(v12 + 50) == 3194)
      {
        v26 = 11;
      }

      else
      {
        v13 = IPC::Decoder::decode<std::tuple<WebKit::WebBackForwardListCounts>>(v12);
        if (v11)
        {
          v2 = v13;
          v14 = 0;
LABEL_13:
          if (!v32)
          {
            v15 = v31;
            v31 = 0;
            if (v15)
            {
              IPC::Decoder::~Decoder(v15);
              bmalloc::api::tzoneFree(v22, v23);
            }
          }

          goto LABEL_16;
        }

        v26 = 14;
      }

      IPC::Decoder::~Decoder(v12);
      bmalloc::api::tzoneFree(v27, v28);
      v14 = 1;
      v12 = v26;
      goto LABEL_13;
    }
  }

  result = 121;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::WebBackForwardListProxy::containsItem(WebKit::WebBackForwardListProxy *this, const WebCore::HistoryItem *a2)
{
  v2 = *(this + 2);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      v5 = *(a2 + 39);
      v4 = *(a2 + 40);
      v6 = *(v3 + 32);
      v7 = (*(*(v3 + 16) + 48))();
      if (!v7)
      {
        goto LABEL_23;
      }

      v8 = v7;
      while (1)
      {
        v9 = *v7;
        if ((*v7 & 1) == 0)
        {
          break;
        }

        v10 = *v7;
        atomic_compare_exchange_strong_explicit(v7, &v10, v9 + 2, memory_order_relaxed, memory_order_relaxed);
        if (v10 == v9)
        {
          goto LABEL_9;
        }
      }

      WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v7);
LABEL_9:
      IPC::Connection::createSyncMessageEncoder(0x1026, v6, v31);
      v11 = v31[0];
      IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v31[0], v5);
      IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v11, v4);
      v12 = IPC::Connection::sendSyncMessage(v8, v31[1], v31, 0, &v29, INFINITY);
      if (v30)
      {
        if (v30 != 1)
        {
          mpark::throw_bad_variant_access(v12);
        }

        v14 = v29;
        v15 = 1;
        goto LABEL_20;
      }

      v14 = v29;
      v29 = 0;
      if (*(v14 + 50) == 3194)
      {
        v16 = 11;
      }

      else
      {
        v19 = IPC::Decoder::decode<std::tuple<BOOL>>(v14);
        if (v19 >= 0x100u)
        {
          LOBYTE(v5) = v19;
          v15 = 0;
          goto LABEL_17;
        }

        v16 = 14;
      }

      IPC::Decoder::~Decoder(v14);
      bmalloc::api::tzoneFree(v17, v18);
      v15 = 1;
      v14 = v16;
LABEL_17:
      if (!v30)
      {
        v20 = v29;
        v29 = 0;
        if (v20)
        {
          IPC::Decoder::~Decoder(v20);
          bmalloc::api::tzoneFree(v25, v26);
        }
      }

LABEL_20:
      v21 = v31[0];
      v31[0] = 0;
      if (v21)
      {
        IPC::Encoder::~Encoder(v21, v13);
        bmalloc::api::tzoneFree(v23, v24);
      }

      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v8);
      if (!v15)
      {
        if (v14)
        {
          IPC::Decoder::~Decoder(v14);
          bmalloc::api::tzoneFree(v27, v28);
        }

        return v5 & 1;
      }

LABEL_23:
      LOBYTE(v5) = 0;
      return v5 & 1;
    }
  }

  result = 121;
  __break(0xC471u);
  return result;
}

unsigned int *WebKit::WebBackForwardListProxy::close(WebKit::WebBackForwardListProxy *this, void *a2)
{
  result = *(this + 2);
  *(this + 2) = 0;
  if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, result);
    result = WTF::fastFree(result, a2);
  }

  if ((*(this + 32) & 1) == 0)
  {
    *(this + 32) = 1;
  }

  *(this + 3) = 0;
  return result;
}

uint64_t WebKit::DrawingArea::activityStateDidChange(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v4 = *a4;
  *a4 = 0;
  (*(*v4 + 16))(v4);
  v5 = *(*v4 + 8);

  return v5(v4);
}

uint64_t WebKit::DrawingArea::setDeviceScaleFactor(uint64_t a1, uint64_t *a2)
{
  v2 = *a2;
  *a2 = 0;
  (*(*v2 + 16))(v2);
  v3 = *(*v2 + 8);

  return v3(v2);
}

_DWORD *WebKit::VisitedLinkTableController::deref(_DWORD *this)
{
  if (this[2] == 1)
  {
    return (*(*this + 8))();
  }

  --this[2];
  return this;
}

uint64_t non-virtual thunk toWebKit::VisitedLinkTableController::deref(uint64_t this)
{
  if (*(this - 24) == 1)
  {
    return (*(*(this - 32) + 8))();
  }

  --*(this - 24);
  return this;
}

void WebKit::WebBackForwardListProxy::~WebBackForwardListProxy(WebKit::WebBackForwardListProxy *this, void *a2)
{
  *this = &unk_1F1133168;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  *this = &unk_1F1133168;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  if (*(this + 2) == 1)
  {

    WTF::fastFree(this, a2);
  }

  else
  {
    __break(0xC471u);
  }
}

uint64_t WebKit::RemoteLayerTreeDrawingArea::operator new(WebKit::RemoteLayerTreeDrawingArea *this, void *a2)
{
  if (this == 376 && WebKit::RemoteLayerTreeDrawingArea::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(WebKit::RemoteLayerTreeDrawingArea::s_heapRef, a2);
  }

  else
  {
    return WebKit::RemoteLayerTreeDrawingArea::operatorNewSlow(this);
  }
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      if (*(v4 - 1) != -1)
      {
        std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](v4, 0);
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

__n128 WTF::VectorCopier<false,WebKit::WebTouchEvent>::uninitializedCopy<WebKit::WebTouchEvent>(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a1 != a2)
  {
    v6 = 0;
    do
    {
      v7 = a3 + v6;
      *(v7 + 8) = 0;
      *v7 = &unk_1F10E83B8;
      v8 = *(a1 + v6 + 12);
      v9 = *(a1 + v6 + 28);
      *(v7 + 44) = *(a1 + v6 + 44);
      *(v7 + 28) = v9;
      *(v7 + 12) = v8;
      *v7 = &unk_1F10E7D80;
      WTF::Vector<WebKit::WebPlatformTouchPoint,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a3 + v6 + 48, a1 + v6 + 48);
      WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a3 + v6 + 64, (a1 + v6 + 64));
      WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a3 + v6 + 80, (a1 + v6 + 80));
      result = *(a1 + v6 + 96);
      *(v7 + 112) = *(a1 + v6 + 112);
      *(v7 + 96) = result;
      v6 += 128;
    }

    while (a1 + v6 != a2);
  }

  return result;
}

uint64_t std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](uint64_t *a1, void *a2)
{
  result = *a1;
  *a1 = a2;
  if (result)
  {
    v5 = WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(result, a2);

    return WTF::fastFree(v5, v6);
  }

  return result;
}

uint64_t WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(uint64_t a1, void *a2)
{
  v3 = *(a1 + 12);
  if (v3)
  {
    v7 = *a1;
    v8 = 160 * v3;
    do
    {
      WebKit::TouchEventData::~TouchEventData(v7, a2);
      v7 = (v9 + 160);
      v8 -= 160;
    }

    while (v8);
  }

  v4 = *a1;
  if (a1 + 16 != *a1 && v4 != 0)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(uint64_t a1, uint64_t *a2)
{
  if (a2 != a1)
  {
    v4 = *(a1 + 12);
    v5 = *(a2 + 3);
    if (v4 <= v5)
    {
      v11 = v5 > *(a1 + 8);
      LODWORD(v5) = *(a1 + 12);
      if (v11)
      {
        WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(a1, 0);
        WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, *(a2 + 3));
        LODWORD(v5) = *(a1 + 12);
      }
    }

    else
    {
      v6 = (*a1 + (v5 << 7));
      v7 = (v4 << 7) - (v5 << 7);
      v8 = v6;
      v9 = (*a1 + (v5 << 7));
      do
      {
        v10 = *v9;
        v9 += 16;
        (*v10)(v8);
        v6 += 16;
        v8 = v9;
        v7 -= 128;
      }

      while (v7);
      *(a1 + 12) = v5;
    }

    v12 = *a2;
    v13 = *a1;
    if (v5)
    {
      v14 = v12 + (v5 << 7);
      do
      {
        v15 = *(v12 + 12);
        v16 = *(v12 + 28);
        *(v13 + 44) = *(v12 + 44);
        *(v13 + 28) = v16;
        *(v13 + 12) = v15;
        if (v12 != v13)
        {
          v17 = *(v13 + 60);
          v18 = *(v12 + 60);
          if (v17 <= v18)
          {
            if (v18 > *(v13 + 56))
            {
              WTF::Vector<WebKit::WebPlatformTouchPoint,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(v13 + 48, 0);
              WTF::Vector<WebKit::WebPlatformTouchPoint,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(v13 + 48, *(v12 + 60));
              v17 = *(v13 + 60);
            }
          }

          else
          {
            *(v13 + 60) = v18;
            v17 = v18;
          }

          if (v17)
          {
            memmove(*(v13 + 48), *(v12 + 48), 80 * v17 - 7);
            v17 = *(v13 + 60);
          }

          v19 = *(v12 + 60);
          if (v17 != v19)
          {
            v20 = 5 * v17;
            v21 = (*(v13 + 48) + 80 * v17);
            v22 = (*(v12 + 48) + 16 * v20);
            v23 = 80 * v19 - 16 * v20;
            do
            {
              *v21 = *v22;
              v24 = v22[1];
              v25 = v22[2];
              v26 = v22[4];
              v21[3] = v22[3];
              v21[4] = v26;
              v21[1] = v24;
              v21[2] = v25;
              v21 += 5;
              v22 += 5;
              v23 -= 80;
            }

            while (v23);
            LODWORD(v17) = *(v12 + 60);
          }

          *(v13 + 60) = v17;
        }

        WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(v13 + 64, v12 + 64);
        WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(v13 + 80, v12 + 80);
        v27 = *(v12 + 96);
        *(v13 + 112) = *(v12 + 112);
        *(v13 + 96) = v27;
        v12 += 128;
        v13 += 128;
      }

      while (v12 != v14);
      v12 = *a2;
      v28 = *(a1 + 12);
      v13 = *a1;
    }

    else
    {
      v28 = 0;
    }

    WTF::VectorCopier<false,WebKit::WebTouchEvent>::uninitializedCopy<WebKit::WebTouchEvent>(v12 + (v28 << 7), v12 + (*(a2 + 3) << 7), v13 + (v28 << 7));
    *(a1 + 12) = *(a2 + 3);
  }

  return a1;
}

void WTF::Detail::CallableWrapper<WebKit::EventDispatcher::internalWheelEvent(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebWheelEvent const&,WebCore::RectEdges<WebCore::RubberBandingBehavior>,WebKit::EventDispatcher::WheelEventOrigin)::$_0,void>::call(uint64_t a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v13 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v13);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v14 = *(a1 + 8);
  v4 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v3 + 17, &v14);
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    v6 = *(v5 + 56);
    if (v6)
    {
      v8 = *(v6 + 8);
      v7 = v6 + 8;
      *v7 = v8 + 1;
      v9 = *(v7 + 1680);
      if (v9)
      {
        v10 = *(v9 + 8);
        if (v10)
        {
          ++*(v10 + 2);
          WebCore::KeyboardScrollingAnimator::stopScrollingImmediately(v10);
          v11 = *(v10 + 2);
          if (!v11)
          {
            __break(0xC471u);
            return;
          }

          *(v10 + 2) = v11 - 1;
        }
      }

      WTF::RefCounted<WebCore::Page>::deref(v7);
    }

    v12 = *(v5 + 8);

    CFRelease(v12);
  }
}

uint64_t *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::remove(uint64_t *result, void *a2)
{
  v2 = result;
  if (*result)
  {
    v3 = *result + 16 * *(*result - 4);
    if (v3 == a2)
    {
      return result;
    }
  }

  else
  {
    if (!a2)
    {
      return result;
    }

    v3 = 0;
  }

  if (v3 != a2)
  {
    *a2 = -1;
    result = std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](a2 + 1, 0);
    v4 = *v2;
    v5 = vadd_s32(*(*v2 - 16), 0xFFFFFFFF00000001);
    *(v4 - 16) = v5;
    v6 = *(v4 - 4);
    if (6 * v5.i32[1] < v6 && v6 >= 9)
    {

      return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(v2, v6 >> 1, 0);
    }
  }

  return result;
}

uint64_t *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = (v6 + 16 * v11);
      v14 = *v13;
      if (*v13 != -1)
      {
        if (v14)
        {
          v15 = *a1;
          if (*a1)
          {
            v16 = *(v15 - 8);
          }

          else
          {
            v16 = 0;
          }

          v17 = (v14 + ~(v14 << 32)) ^ ((v14 + ~(v14 << 32)) >> 22);
          v18 = 9 * ((v17 + ~(v17 << 13)) ^ ((v17 + ~(v17 << 13)) >> 8));
          v19 = (v18 ^ (v18 >> 15)) + ~((v18 ^ (v18 >> 15)) << 27);
          v20 = v16 & ((v19 >> 31) ^ v19);
          v21 = 1;
          do
          {
            v22 = v20;
            v23 = *(v15 + 16 * v20);
            v20 = (v20 + v21++) & v16;
          }

          while (v23);
          v24 = (v15 + 16 * v22);
          std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](v24 + 1, 0);
          *v24 = *v13;
          v25 = v13[1];
          v13[1] = 0;
          v24[1] = v25;
          std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](v13 + 1, 0);
          if (v13 == a3)
          {
            v12 = v24;
          }
        }

        else
        {
          std::unique_ptr<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::reset[abi:sn200100](v13 + 1, 0);
        }
      }

      ++v11;
    }

    while (v11 != v7);
  }

  else
  {
    v12 = 0;
    result = 0;
    if (!v6)
    {
      return result;
    }
  }

  WTF::fastFree((v6 - 16), v10);
  return v12;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t a2)
{
  if (!*a1)
  {
    return 0;
  }

  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(a1, a2);
  v4 = *a1;
  if (!result)
  {
    if (v4)
    {
      return v4 + 16 * *(v4 - 4);
    }

    else
    {
      return 0;
    }
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t a2)
{
  if (a2 == -1 || !a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BF578);
  }

  v2 = *a1;
  if (*a1)
  {
    v3 = *(v2 - 8);
    v4 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v5 = 9 * ((v4 + ~(v4 << 13)) ^ ((v4 + ~(v4 << 13)) >> 8));
    v6 = (v5 ^ (v5 >> 15)) + ~((v5 ^ (v5 >> 15)) << 27);
    v7 = v3 & ((v6 >> 31) ^ v6);
    v8 = *(v2 + 16 * v7);
    if (v8 == a2)
    {
      return v2 + 16 * v7;
    }

    v9 = 1;
    while (v8)
    {
      v7 = (v7 + v9) & v3;
      v8 = *(v2 + 16 * v7);
      ++v9;
      if (v8 == a2)
      {
        return v2 + 16 * v7;
      }
    }
  }

  return 0;
}

uint64_t *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t *a2)
{
  v3 = *a1;
  if (*a1 && (v5 = *(v3 - 4)) != 0)
  {
    v4 = v5 << (6 * *(v3 - 12) >= (2 * v5));
  }

  else
  {
    v4 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v4, a2);
}

uint64_t WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::TouchEventData>(uint64_t a1, unint64_t a2)
{
  v3 = WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, *(a1 + 12) + 1, a2);
  result = WebKit::TouchEventData::TouchEventData(*a1 + 160 * *(a1 + 12), v3);
  ++*(a1 + 12);
  return result;
}

unint64_t WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(uint64_t a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 160 * *(a1 + 12) <= a3)
  {
    v10 = *(a1 + 8);
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = *(a1 + 8);
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

void WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(uint64_t a1, unint64_t a2)
{
  if (*(a1 + 8) < a2)
  {
    if (a2 >= 0x199999A)
    {
      __break(0xC471u);
    }

    else
    {
      v3 = *a1;
      v4 = *(a1 + 12);
      v5 = 160 * a2;
      v6 = WTF::fastMalloc((160 * a2));
      *(a1 + 8) = v5 / 0xA0;
      *a1 = v6;
      if (v4)
      {
        v8 = v6;
        v9 = 160 * v4;
        v10 = v3;
        do
        {
          WebKit::TouchEventData::TouchEventData(v8, v10);
          WebKit::TouchEventData::~TouchEventData(v10, v11);
          v8 += 160;
          v10 = (v10 + 160);
          v9 -= 160;
        }

        while (v9);
      }

      if ((a1 + 16) != v3 && v3)
      {
        if (*a1 == v3)
        {
          *a1 = 0;
          *(a1 + 8) = 0;
        }

        WTF::fastFree(v3, v7);
      }
    }
  }
}

void *WTF::Detail::CallableWrapper<WebKit::EventDispatcher::touchEvent(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebTouchEvent const&,WTF::CompletionHandler<void ()(BOOL,std::optional<WebKit::RemoteWebTouchEvent>)> &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F11331F8;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::EventDispatcher::touchEvent(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebTouchEvent const&,WTF::CompletionHandler<void ()(BOOL,std::optional<WebKit::RemoteWebTouchEvent>)> &&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11331F8;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::EventDispatcher::touchEvent(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebTouchEvent const&,WTF::CompletionHandler<void ()(BOOL,std::optional<WebKit::RemoteWebTouchEvent>)> &&)::$_0,void>::call(uint64_t result)
{
  v31 = *MEMORY[0x1E69E9840];
  v1 = *(result + 8);
  if (!v1)
  {
    return result;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return result;
  }

  if (!*(v2 + 16))
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BFBA8);
  }

  kdebug_trace();
  v4 = 0;
  v5 = 1;
  atomic_compare_exchange_strong_explicit((v2 + 40), &v4, 1u, memory_order_acquire, memory_order_acquire);
  if (v4)
  {
    MEMORY[0x19EB01E30](v2 + 40);
  }

  v6 = *(v2 + 48);
  *(v2 + 48) = 0;
  atomic_compare_exchange_strong_explicit((v2 + 40), &v5, 0, memory_order_release, memory_order_relaxed);
  if (v5 == 1)
  {
    if (v6)
    {
      goto LABEL_8;
    }

LABEL_17:
    v8 = 0;
    v7 = 0;
    goto LABEL_18;
  }

  WTF::Lock::unlockSlow((v2 + 40));
  if (!v6)
  {
    goto LABEL_17;
  }

LABEL_8:
  v7 = *(v6 - 4);
  v8 = (v6 + 16 * v7);
  if (!*(v6 - 12))
  {
LABEL_18:
    v10 = v8;
    v8 = (v6 + 16 * v7);
    goto LABEL_19;
  }

  if (!v7)
  {
    v11 = 0;
    v10 = v6;
    goto LABEL_15;
  }

  v9 = 16 * v7;
  v10 = v6;
  while ((*v10 + 1) <= 1)
  {
    v10 += 2;
    v9 -= 16;
    if (!v9)
    {
      v10 = v8;
      break;
    }
  }

LABEL_19:
  if (!v6)
  {
    v12 = 0;
    goto LABEL_21;
  }

  v11 = *(v6 - 4);
LABEL_15:
  v12 = (v6 + 16 * v11);
LABEL_21:
  while (v10 != v12)
  {
    {
      v13 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v21 = WebKit::WebProcess::operator new(0x370, v3);
      v13 = WebKit::WebProcess::WebProcess(v21);
      WebKit::WebProcess::singleton(void)::process = v13;
    }

    v23 = *v10;
    v14 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v13 + 17, &v23);
    if (v14)
    {
      v15 = v14;
      CFRetain(*(v14 + 8));
      WebKit::WebPage::dispatchAsynchronousTouchEvents(v15, (v10 + 1));
      CFRelease(*(v15 + 8));
    }

    else
    {
      v16 = v10[1];
      v17 = v16[3];
      if (v17)
      {
        v22 = 160 * v17;
        v18 = (*v16 + 144);
        do
        {
          v24[0] = 0;
          v30 = 0;
          WTF::CompletionHandler<void ()(BOOL,std::optional<WebKit::RemoteWebTouchEvent>)>::operator()(v18, 0, v24);
          if (v30 == 1)
          {
            v25 = &unk_1F10E7D80;
            WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v29, v3);
            WTF::Vector<WebKit::WebTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v28, v19);
            v20 = v26;
            if (v26)
            {
              v26 = 0;
              v27 = 0;
              WTF::fastFree(v20, v3);
            }
          }

          v18 += 20;
          v22 -= 160;
        }

        while (v22);
      }
    }

    do
    {
      v10 += 2;
    }

    while (v10 != v8 && (*v10 + 1) <= 1);
  }

  if (v6)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v6, v3);
  }

  result = kdebug_trace();
  if (!*(v2 + 16))
  {
    __break(0xC471u);
    JUMPOUT(0x19E3BFBC8);
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::EventDispatcher::dispatchWheelEventViaMainThread(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebWheelEvent const&,WTF::OptionSet<WebCore::WheelEventProcessingSteps>,WebKit::EventDispatcher::WheelEventOrigin)::$_0,void>::~CallableWrapper(uint64_t result)
{
  *result = &unk_1F1133220;
  v1 = *(result + 24);
  *(result + 24) = 0;
  if (v1)
  {
    if (!*(v1 + 16))
    {
      result = 120;
      __break(0xC471u);
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::EventDispatcher::dispatchWheelEventViaMainThread(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebWheelEvent const&,WTF::OptionSet<WebCore::WheelEventProcessingSteps>,WebKit::EventDispatcher::WheelEventOrigin)::$_0,void>::~CallableWrapper(WTF *a1, void *a2)
{
  *a1 = &unk_1F1133220;
  v2 = *(a1 + 3);
  *(a1 + 3) = 0;
  if (!v2 || *(v2 + 16))
  {
    return WTF::fastFree(a1, a2);
  }

  result = 120;
  __break(0xC471u);
  return result;
}

void WTF::Detail::CallableWrapper<WebKit::EventDispatcher::dispatchWheelEventViaMainThread(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebWheelEvent const&,WTF::OptionSet<WebCore::WheelEventProcessingSteps>,WebKit::EventDispatcher::WheelEventOrigin)::$_0,void>::call(uint64_t a1, void *a2)
{
  v3 = *(a1 + 32);
  v4 = *(a1 + 177);
  v5 = *(a1 + 176);
  {
    v6 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v23 = WebKit::WebProcess::operator new(0x370, a2);
    v6 = WebKit::WebProcess::WebProcess(v23);
    WebKit::WebProcess::singleton(void)::process = v6;
  }

  v25[0] = v3;
  v7 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v6 + 17, v25);
  if (v7)
  {
    v8 = v7;
    CFRetain(*(v7 + 8));
    v10 = *(v8 + 56);
    if (v10 && (v11 = *(v10 + 176)) != 0)
    {
      v27[0] = *(v11 + 32);
      WebKit::WebPage::wheelEvent(v8, v27, (a1 + 48), v25);
      v12 = (v26 == 0) & v25[0];
      if ((v4 & 2) == 0)
      {
        goto LABEL_16;
      }
    }

    else
    {
      v12 = 0;
      if ((v4 & 2) == 0)
      {
LABEL_16:
        CFRelease(*(v8 + 8));
        return;
      }
    }

    if ((v5 & 1) == 0)
    {
      v13 = *(a1 + 60);
      {
        v14 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v24 = WebKit::WebProcess::operator new(0x370, v9);
        v14 = WebKit::WebProcess::WebProcess(v24);
        WebKit::WebProcess::singleton(void)::process = v14;
      }

      WebKit::AuxiliaryProcess::protectedParentProcessConnection(v14, &v28);
      v15 = v28;
      LOBYTE(v25[0]) = 0;
      v26 = 0;
      LOBYTE(v27[0]) = v13;
      BYTE1(v27[0]) = v12;
      v27[1] = v25;
      v17 = IPC::Encoder::operator new(0x238, v16);
      *v17 = 2222;
      *(v17 + 2) = 0;
      *(v17 + 3) = 0;
      *(v17 + 1) = v3;
      *(v17 + 68) = 0;
      *(v17 + 70) = 0;
      *(v17 + 69) = 0;
      IPC::Encoder::encodeHeader(v17);
      v29 = v17;
      Messages::WebPageProxy::DidReceiveEventIPC::encode<IPC::Encoder>(v27, v17);
      IPC::Connection::sendMessageImpl(v15, &v29, 0, 0);
      v19 = v29;
      v29 = 0;
      if (v19)
      {
        IPC::Encoder::~Encoder(v19, v18);
        bmalloc::api::tzoneFree(v21, v22);
      }

      v20 = v28;
      v28 = 0;
      if (v20)
      {
        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v20);
      }
    }

    goto LABEL_16;
  }
}

uint64_t Messages::WebPageProxy::DidReceiveEventIPC::encode<IPC::Encoder>(uint64_t a1, IPC::Encoder *a2)
{
  v5 = *a1;
  IPC::Encoder::operator<<<unsigned char>(a2, &v5);
  IPC::Encoder::operator<<<BOOL &>(a2, (a1 + 1));
  return IPC::ArgumentCoder<std::optional<WebCore::RemoteUserInputEventData>,void>::encode<IPC::Encoder,std::optional<WebCore::RemoteUserInputEventData> const&>(a2, *(a1 + 8));
}

WebCore::Node *WTF::VectorTypeOperations<WebCore::SimpleRange>::destruct(WebCore::Node *result, WebCore::Node *a2)
{
  if (result != a2)
  {
    v3 = result;
    do
    {
      v4 = *(v3 + 2);
      *(v3 + 2) = 0;
      if (v4)
      {
        if (*(v4 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v4);
        }

        else
        {
          *(v4 + 7) -= 2;
        }
      }

      result = *v3;
      *v3 = 0;
      if (result)
      {
        if (*(result + 7) == 2)
        {
          result = WebCore::Node::removedLastRef(result);
        }

        else
        {
          *(result + 7) -= 2;
        }
      }

      v3 = (v3 + 32);
    }

    while (v3 != a2);
  }

  return result;
}

unint64_t WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::SimpleRange&>(unsigned int *a1, unint64_t a2)
{
  result = WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, a1[3] + 1, a2);
  v4 = a1[3];
  v5 = v4 + 1;
  v6 = *a1 + 32 * v4;
  v7 = *result;
  *(v7 + 28) = *(*result + 28) + 2;
  *v6 = v7;
  *(v6 + 8) = *(result + 8);
  v8 = *(result + 16);
  *(v8 + 28) += 2;
  *(v6 + 16) = v8;
  *(v6 + 24) = *(result + 24);
  a1[3] = v5;
  return result;
}

unint64_t WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(unsigned int *a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 32 * a1[3] <= a3)
  {
    v10 = a1[2];
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = a1[2];
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

unsigned int *WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(unsigned int *result, unint64_t a2)
{
  if (result[2] < a2)
  {
    v2 = a2;
    if (a2 >> 27)
    {
      __break(0xC471u);
    }

    else
    {
      v3 = result;
      v4 = *result;
      v5 = result[3];
      result = WTF::fastMalloc((32 * a2));
      v3[2] = v2;
      *v3 = result;
      if (v5)
      {
        v7 = result;
        v8 = (v4 + 32 * v5);
        v9 = v4;
        do
        {
          v10 = *v9;
          *v9 = 0;
          *v7 = v10;
          v7[2] = *(v9 + 2);
          v11 = *(v9 + 2);
          *(v9 + 2) = 0;
          *(v7 + 2) = v11;
          v7[6] = *(v9 + 6);
          v12 = *(v9 + 2);
          *(v9 + 2) = 0;
          if (v12)
          {
            if (*(v12 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v12);
            }

            else
            {
              *(v12 + 7) -= 2;
            }
          }

          result = *v9;
          *v9 = 0;
          if (result)
          {
            if (result[7] == 2)
            {
              result = WebCore::Node::removedLastRef(result);
            }

            else
            {
              result[7] -= 2;
            }
          }

          v7 += 8;
          v9 = (v9 + 32);
        }

        while (v9 != v8);
      }

      if (v4)
      {
        if (*v3 == v4)
        {
          *v3 = 0;
          v3[2] = 0;
        }

        return WTF::fastFree(v4, v6);
      }
    }
  }

  return result;
}

uint64_t WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(uint64_t result, void *a2)
{
  if (*(result + 8))
  {
    v2 = result;
    v3 = *(result + 12);
    if (v3)
    {
      WTF::VectorTypeOperations<WebCore::SimpleRange>::destruct(*result, (*result + 32 * v3));
      *(v2 + 12) = 0;
    }

    result = *v2;
    if (*v2)
    {
      *v2 = 0;
      *(v2 + 8) = 0;

      return WTF::fastFree(result, a2);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::FindController::findStringIncludingImages(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,unsigned int,int,BOOL)> &&)::$_0,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1133248;
  v3 = a1[4];
  a1[4] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = a1[2];
  a1[2] = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = a1[1];
  a1[1] = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::FindController::findStringIncludingImages(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,unsigned int,int,BOOL)> &&)::$_0,void>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1133248;
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = *(this + 1);
  *(this + 1) = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, a2);
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WebKit::FindController::findStringIncludingImages(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,unsigned int,int,BOOL)> &&)::$_0,void>::call(uint64_t a1)
{
  v3 = *(a1 + 8);
  if (v3 && (v4 = *(v3 + 8)) != 0)
  {
    v5 = *(a1 + 24);
    v6 = *(a1 + 28);
    v7 = (a1 + 16);
    v8 = a1 + 32;
    v9 = *(v4 + 392);

    WebKit::FindController::findString(v9, v7, v5, v6, v8);
  }

  else
  {
    v15 = v1;
    v16 = v2;
    v13 = 0;
    v14 = 0;
    v10 = *(a1 + 32);
    *(a1 + 32) = 0;
    (*(*v10 + 16))(v10, 0, 0, &v13, 0, 0, 0);
    (*(*v10 + 8))(v10);
    v12 = v13;
    if (v13)
    {
      v13 = 0;
      LODWORD(v14) = 0;
      WTF::fastFree(v12, v11);
    }
  }
}

void *WTF::Detail::CallableWrapper<WebKit::FindController::findString(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,unsigned int,int,BOOL)> &&)::$_0,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1133270;
  v3 = a1[8];
  a1[8] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = a1[3];
  a1[3] = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = a1[1];
  a1[1] = 0;
  if (v5)
  {
    CFRelease(*(v5 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::FindController::findString(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,unsigned int,int,BOOL)> &&)::$_0,void>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1133270;
  v3 = *(this + 8);
  *(this + 8) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 3);
  *(this + 3) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = *(this + 1);
  *(this + 1) = 0;
  if (v5)
  {
    CFRelease(*(v5 + 8));
  }

  return WTF::fastFree(this, a2);
}

void *WTF::Detail::CallableWrapper<WebKit::FindController::findStringMatches(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(WTF::Vector<WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,int)> &&)::$_1,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1133298;
  v3 = a1[3];
  a1[3] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::FindController::findStringMatches(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(WTF::Vector<WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,int)> &&)::$_1,void>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1133298;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::FindController::findStringMatches(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(WTF::Vector<WTF::Vector<WebCore::IntRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,int)> &&)::$_1,void>::call(uint64_t a1)
{
  v2 = *(*(a1 + 8) + 408);
  v3 = *(a1 + 16);
  v4 = *(a1 + 32);
  v5 = *(a1 + 36);
  v6 = WTF::fastMalloc(0x10);
  *v6 = &unk_1F11332C0;
  v9 = v6;
  WebKit::FindController::updateFindUIAfterPageScroll(v2, v3, (a1 + 24), v4, v5, 0, 0, 0, &v9);
  result = v9;
  if (v9)
  {
    v8 = *(*v9 + 8);

    return v8();
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::FindController::findRectsForStringMatches(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::FloatRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_1,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F11332E8;
  v3 = a1[3];
  a1[3] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::FindController::findRectsForStringMatches(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::FloatRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_1,void>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F11332E8;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::FindController::findRectsForStringMatches(WTF::String const&,WTF::OptionSet<WebKit::FindOptions>,unsigned int,WTF::CompletionHandler<void ()(WTF::Vector<WebCore::FloatRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_1,void>::call(uint64_t a1)
{
  v2 = *(*(a1 + 8) + 408);
  v3 = *(a1 + 16);
  v4 = *(a1 + 32);
  v5 = *(a1 + 36);
  v6 = WTF::fastMalloc(0x10);
  *v6 = &unk_1F11332C0;
  v9 = v6;
  WebKit::FindController::updateFindUIAfterPageScroll(v2, v3, (a1 + 24), v4, v5, 0, 0, 0, &v9);
  result = v9;
  if (v9)
  {
    v8 = *(*v9 + 8);

    return v8();
  }

  return result;
}

_DWORD *WTF::RefCounted<WebCore::ImageAnalysisQueue>::deref(_DWORD *result)
{
  if (*result == 1)
  {
    v2 = MEMORY[0x19EB07A30](result);

    return bmalloc::api::tzoneFree(v2, v3);
  }

  else
  {
    --*result;
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::FindController::drawRect(WebCore::PageOverlay &,WebCore::GraphicsContext &,WebCore::IntRect const&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1133310;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::FindController::drawRect(WebCore::PageOverlay &,WebCore::GraphicsContext &,WebCore::IntRect const&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133310;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

BOOL WTF::Detail::CallableWrapper<WebKit::FindController::drawRect(WebCore::PageOverlay &,WebCore::GraphicsContext &,WebCore::IntRect const&)::$_0,void>::call(_BOOL8 result)
{
  v1 = *(result + 8);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      return WebKit::FindController::updateFindIndicator(*(v2 + 392), 1, 0);
    }
  }

  return result;
}

void *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::remove(void *a1, void *a2)
{
  if (WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers)
  {
    v2 = (WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers + 16 * *(WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers - 4));
    if (v2 == a1)
    {
      return a1;
    }
  }

  else
  {
    if (!a1)
    {
      return a1;
    }

    v2 = 0;
  }

  if (v2 != a1)
  {
    return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(a1, a2);
  }

  return a1;
}

unsigned int *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(void *a1, void *a2)
{
  result = WTF::KeyValuePairHashTraits<WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::StorageAreaBase,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>::customDeleteBucket(a1, a2);
  v3 = WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers;
  v4 = vadd_s32(*(WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers - 16), 0xFFFFFFFF00000001);
  *(WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers - 16) = v4;
  v5 = *(v3 - 4);
  if (6 * v4.i32[1] < v5 && v5 >= 9)
  {

    return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::WebUserContentController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::UserContentControllerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(&WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers, v5 >> 1, 0);
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1)
{
  if (!WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers)
  {
    return 0;
  }

  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(a1);
  if (!result)
  {
    if (WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers)
    {
      return WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers + 16 * *(WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers - 4);
    }

    else
    {
      return 0;
    }
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1)
{
  WTF::checkHashTableKey<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*a1);
  v2 = WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers;
  if (WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers)
  {
    v3 = *(WebKit::visitedLinkTableControllers(void)::visitedLinkTableControllers - 8);
    v4 = WTF::intHash(*a1) & v3;
    v5 = *(v2 + 16 * v4);
    if (v5 == *a1)
    {
      return v2 + 16 * v4;
    }

    v7 = 1;
    while (v5)
    {
      v4 = (v4 + v7) & v3;
      v5 = *(v2 + 16 * v4);
      ++v7;
      if (v5 == *a1)
      {
        return v2 + 16 * v4;
      }
    }
  }

  return 0;
}

uint64_t WTF::checkHashTableKey<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::VisitedLinkTableController,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::VisitedLinkTableIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t result)
{
  if (result == -1 || !result)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3C0CF8);
  }

  return result;
}

unint64_t IPC::Decoder::decode<std::tuple<WebKit::WebBackForwardListCounts>>(IPC::Decoder *a1)
{
  v2 = IPC::ArgumentCoder<WebKit::WebBackForwardListCounts,void>::decode(a1);
  v4 = v3;
  if ((v3 & 1) == 0)
  {
    IPC::Decoder::markInvalid(a1);
    IPC::Decoder::markInvalid(a1);
  }

  if (v4)
  {
    return v2;
  }

  else
  {
    return 0;
  }
}

void WebKit::WebCookieCache::~WebCookieCache(WebKit::WebCookieCache *this, WTF::StringImpl *a2)
{
  v3 = *(this + 7);
  *v3 = 0;
  if ((*(v3 + 16) & 1) == 0 && !*(v3 + 8))
  {
    MEMORY[0x19EB14CF0]();
  }

  v4 = *(this + 6);
  *(this + 6) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  v5 = *(this + 4);
  *(this + 4) = 0;
  if (v5)
  {
    WebCore::NetworkStorageSession::operator delete();
  }

  v6 = *(this + 3);
  if (v6)
  {
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v6, a2);
  }

  v7 = *(this + 1);
  if (v7)
  {
    *(v7 + 8) = 0;
    v8 = *(this + 1);
    *(this + 1) = 0;
    if (v8)
    {
      if (atomic_fetch_add(v8, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v8);
        WTF::fastFree(v8, a2);
      }
    }
  }

  if (*(this + 4) != 1)
  {
    __break(0xC471u);
  }
}

{
  WebKit::WebCookieCache::~WebCookieCache(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::WebCookieJar::addChangeListenerWithAccess(uint64_t a1, WTF::URL *this, uint64_t *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  WTF::URL::host(this);
  if ((v14 & 0x100000000) != 0)
  {
    WTF::String::String();
  }

  else
  {
    WTF::String::String();
  }

  v16 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 40), &v45, v15);
  v18 = *(a1 + 40);
  if (v18)
  {
    v18 += 24 * *(v18 - 4);
  }

  if (v18 != v16)
  {
    v19 = *(a7 + 8);
    ++*(v16 + 16);
    if (v19)
    {
      if (*(v19 + 8))
      {
        v20 = *(v16 + 8);
        if (v20)
        {
          v21 = *(v20 - 8);
          v22 = (~(v19 << 32) + v19) ^ ((~(v19 << 32) + v19) >> 22);
          v23 = 9 * ((v22 + ~(v22 << 13)) ^ ((v22 + ~(v22 << 13)) >> 8));
          v24 = (v23 ^ (v23 >> 15)) + ~((v23 ^ (v23 >> 15)) << 27);
          v25 = v21 & ((v24 >> 31) ^ v24);
          for (i = 1; ; ++i)
          {
            v27 = *(v20 + 8 * v25);
            if (!v27)
            {
              break;
            }

            if (v27 != -1 && v27 == v19)
            {
              goto LABEL_25;
            }

            v25 = (v25 + i) & v21;
          }
        }
      }
    }
  }

  ++*(a1 + 16);
  v29 = v45;
  if (v45)
  {
    atomic_fetch_add_explicit(v45, 2u, memory_order_relaxed);
  }

  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a7 + 8), a7);
  v31 = *(a7 + 8);
  atomic_fetch_add(v31, 1u);
  {
    v32 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v44 = WebKit::WebProcess::operator new(0x370, v30);
    v32 = WebKit::WebProcess::WebProcess(v44);
    WebKit::WebProcess::singleton(void)::process = v32;
  }

  v33 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v32) + 24);
  v34 = WTF::fastMalloc(0x28);
  *v34 = &unk_1F11336E8;
  v34[1] = a1;
  v34[2] = a1;
  v34[3] = v29;
  v34[4] = v31;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v35 = v34;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v38 = IPC::Encoder::operator new(0x238, v37);
    *v38 = 495;
    *(v38 + 68) = 0;
    *(v38 + 70) = 0;
    *(v38 + 69) = 0;
    *(v38 + 2) = 0;
    *(v38 + 3) = 0;
    *(v38 + 1) = 0;
    IPC::Encoder::encodeHeader(v38);
    v47 = v38;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v38, this);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v38, a3);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v38, a4);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v38, a5);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v38, a6);
    v46[0] = v35;
    v46[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(v33, &v47, v46, 1, 0);
    v39 = v46[0];
    v46[0] = 0;
    if (v39)
    {
      (*(*v39 + 8))(v39);
    }

    v40 = v47;
    v47 = 0;
    if (v40)
    {
      IPC::Encoder::~Encoder(v40, v17);
      bmalloc::api::tzoneFree(v42, v43);
    }

LABEL_25:
    result = v45;
    v45 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v17);
      }
    }
  }

  return result;
}

uint64_t WebKit::WebCookieCache::cookiesAdded(uint64_t result, const WTF::StringImpl **a2, unsigned int *a3)
{
  v3 = *(result + 24);
  if (v3)
  {
    v5 = result;
    v6 = *a2;
    if (*a2 == -1)
    {
      goto LABEL_21;
    }

    if (!v6)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3C12ECLL);
    }

    v8 = *(v3 - 8);
    v9 = *(v6 + 4);
    v10 = v9 < 0x100 ? WTF::StringImpl::hashSlowCase(v6) : v9 >> 8;
    for (i = 0; ; v10 = ++i + v12)
    {
      v12 = v10 & v8;
      result = *(v3 + 8 * (v10 & v8));
      if (result != -1)
      {
        if (!result)
        {
          return result;
        }

        if (WTF::equal(result, *a2, a3))
        {
          break;
        }
      }
    }

    result = WebKit::WebCookieCache::inMemoryStorageSession(v5);
    v13 = result;
    v14 = *(result + 8) + 1;
    *(result + 8) = v14;
    v15 = a3[3];
    if (v15)
    {
      v16 = *a3;
      v17 = 144 * v15;
      do
      {
        result = WebCore::NetworkStorageSession::setCookie();
        v16 += 144;
        v17 -= 144;
      }

      while (v17);
      v14 = *(v13 + 8);
    }

    if (!v14)
    {
LABEL_21:
      __break(0xC471u);
      JUMPOUT(0x19E3C12CCLL);
    }

    *(v13 + 8) = v14 - 1;
  }

  return result;
}

uint64_t WebKit::WebCookieCache::cookiesDeleted(uint64_t result, const WTF::StringImpl **a2, unsigned int *a3)
{
  v3 = *(result + 24);
  if (v3)
  {
    v5 = result;
    v6 = *a2;
    if (*a2 == -1)
    {
      goto LABEL_23;
    }

    if (!v6)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3C14B4);
    }

    v8 = *(v3 - 8);
    v9 = *(v6 + 4);
    v10 = v9 < 0x100 ? WTF::StringImpl::hashSlowCase(v6) : v9 >> 8;
    for (i = 0; ; v10 = ++i + v12)
    {
      v12 = v10 & v8;
      result = *(v3 + 8 * (v10 & v8));
      if (result != -1)
      {
        if (!result)
        {
          return result;
        }

        if (WTF::equal(result, *a2, a3))
        {
          break;
        }
      }
    }

    result = WebKit::WebCookieCache::inMemoryStorageSession(v5);
    v13 = result;
    v14 = *(result + 8) + 1;
    *(result + 8) = v14;
    v15 = a3[3];
    if (v15)
    {
      v16 = *a3;
      v17 = 144 * v15;
      do
      {
        v18 = WTF::fastMalloc(0x10);
        *v18 = &unk_1F11335A8;
        v19 = v18;
        WebCore::NetworkStorageSession::deleteCookie();
        result = v19;
        if (v19)
        {
          result = (*(*v19 + 8))(v19);
        }

        v16 += 144;
        v17 -= 144;
      }

      while (v17);
      v14 = *(v13 + 8);
    }

    if (!v14)
    {
LABEL_23:
      __break(0xC471u);
      JUMPOUT(0x19E3C1494);
    }

    *(v13 + 8) = v14 - 1;
  }

  return result;
}

double WebKit::WebCookieCache::clear(WebKit::WebCookieCache *this)
{
  v3 = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::begin(this + 3);
  v5 = v2;
  v6 = *(this + 3);
  if (v6)
  {
    v7 = &v6[*(v6 - 1)];
  }

  else
  {
    v7 = 0;
  }

  if (v7 != v3)
  {
    do
    {
      v9 = *(WebKit::WebProcess::singleton(v6, v2) + 54);
      ++v9[4];
      v6 = WebKit::WebCookieJar::removeChangeListener(v9, v3, this);
      if (v9[4] == 1)
      {
        v6 = (*(*v9 + 120))(v9);
      }

      else
      {
        --v9[4];
      }

      do
      {
        ++v3;
      }

      while (v3 != v5 && *v3 + 1 <= 1);
    }

    while (v3 != v7);
    v6 = *(this + 3);
  }

  if (v6)
  {
    *(this + 3) = 0;
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v6, v2);
  }

  v8 = *(this + 4);
  *(this + 4) = 0;
  if (v8)
  {

    return WebCore::NetworkStorageSession::operator delete();
  }

  return result;
}

unsigned int ***WebKit::WebCookieJar::removeChangeListener(uint64_t a1, const WTF::StringImpl **a2, IPC::Encoder **a3)
{
  result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 40), a2, a3);
  v8 = result;
  v9 = *(a1 + 40);
  if (v9)
  {
    v9 += 3 * *(v9 - 1);
  }

  if (v9 == result)
  {
    return result;
  }

  v10 = result + 1;
  v11 = *(result + 5);
  v12 = *(result + 4) + 1;
  *(result + 4) = v12;
  if (v12 > v11)
  {
    v13 = *v10;
    if (*v10)
    {
      v14 = *(v13 - 1);
      if (!v14)
      {
LABEL_18:
        v20 = *(v13 - 1);
        if (6 * *(v13 - 3) < v20 && v20 > 8)
        {
          WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize(v8 + 1);
          v13 = v8[1];
          *(v8 + 4) = 0;
          if (!v13)
          {
            goto LABEL_25;
          }
        }

        else
        {
          *(v8 + 4) = 0;
        }

        LODWORD(v13) = *(v13 - 3);
        if (v13 > 0x7FFFFFFE)
        {
          v22 = -2;
          goto LABEL_27;
        }

LABEL_25:
        v22 = 2 * v13;
LABEL_27:
        *(v8 + 5) = v22;
        goto LABEL_28;
      }

      v15 = 0;
      v16 = v14;
      v17 = v13 - 1;
      do
      {
        v18 = v17[v16];
        if (v18 + 1 >= 2 && !*(v18 + 1))
        {
          v17[v16] = 0;
          if (atomic_fetch_add(v18, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v18);
            WTF::fastFree(v18, v7);
          }

          v17[v16] = -1;
          ++v15;
        }

        --v16;
      }

      while (v16 * 8);
      v13 = *v10;
      if (v15)
      {
        v19 = *(v13 - 3) - v15;
        *(v13 - 4) += v15;
        *(v13 - 3) = v19;
        goto LABEL_18;
      }

      if (v13)
      {
        goto LABEL_18;
      }
    }

    LODWORD(v13) = 0;
    *(v8 + 4) = 0;
    goto LABEL_25;
  }

LABEL_28:
  v23 = a3[1];
  if (!v23 || !*(v23 + 1))
  {
    goto LABEL_37;
  }

  v51 = a3[1];
  v24 = WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::find<WTF::HashSetTranslator<WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>>,(WTF::ShouldValidateKey)1,WTF::DefaultWeakPtrImpl const*>(v8 + 1, &v51);
  v7 = v24;
  if (*v10)
  {
    v25 = &(*v10)[*(*v10 - 1)];
    if (v25 == v24)
    {
      goto LABEL_37;
    }
  }

  else
  {
    if (!v24)
    {
      goto LABEL_43;
    }

    v25 = 0;
  }

  if (v25 != v24)
  {
    WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::remove(v8 + 1, v24);
  }

LABEL_37:
  if (!*v10 || !*(*v10 - 3))
  {
    goto LABEL_43;
  }

  v26 = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::begin(v8 + 1);
  v51 = (v8 + 1);
  v52 = v26;
  v53 = v27;
  v28 = *v10;
  if (*v10)
  {
    v29 = *(v28 - 1);
    v30 = &v28[v29];
    v54 = v30;
    v55 = v30;
    WTF::WeakHashSet<WebKit::RemoteLayerBackingStore,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v51);
  }

  else
  {
    v54 = 0;
    v55 = 0;
    WTF::WeakHashSet<WebKit::RemoteLayerBackingStore,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v51);
    v30 = 0;
    v29 = 0;
  }

  v46 = v8 + 1;
  v47 = v30;
  v48 = v30;
  v49 = v30;
  v50 = &v28[v29];
  result = WTF::WeakHashSet<WebKit::RemoteLayerBackingStore,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v46);
  if (v52 == v47)
  {
LABEL_43:
    v31 = *(a1 + 40);
    if (v31)
    {
      v32 = (v31 + 24 * *(v31 - 4));
      if (v32 == v8)
      {
        goto LABEL_60;
      }
    }

    else
    {
      if (!v8)
      {
LABEL_60:
        {
          v38 = WebKit::WebProcess::singleton(void)::process;
        }

        else
        {
          v45 = WebKit::WebProcess::operator new(0x370, v7);
          v38 = WebKit::WebProcess::WebProcess(v45);
          WebKit::WebProcess::singleton(void)::process = v38;
        }

        v39 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v38) + 24);
        v41 = IPC::Encoder::operator new(0x238, v40);
        *v41 = 499;
        *(v41 + 68) = 0;
        *(v41 + 70) = 0;
        *(v41 + 69) = 0;
        *(v41 + 2) = 0;
        *(v41 + 3) = 0;
        *(v41 + 1) = 0;
        IPC::Encoder::encodeHeader(v41);
        v51 = v41;
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v41, a2);
        IPC::Connection::sendMessageImpl(v39, &v51, 1, 0);
        result = v51;
        v51 = 0;
        if (result)
        {
          IPC::Encoder::~Encoder(result, v42);
          return bmalloc::api::tzoneFree(v43, v44);
        }

        return result;
      }

      v32 = 0;
    }

    if (v32 != v8)
    {
      v33 = *v8;
      *v8 = -1;
      if (v33 && atomic_fetch_add_explicit(v33, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v33, v7);
      }

      if (*v10)
      {
        WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(*v10, v7);
      }

      v34 = *(a1 + 40);
      v35 = vadd_s32(*(v34 - 16), 0xFFFFFFFF00000001);
      *(v34 - 16) = v35;
      v36 = *(v34 - 4);
      if (6 * v35.i32[1] < v36 && v36 >= 9)
      {
        WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash((a1 + 40), v36 >> 1, 0);
      }
    }

    goto LABEL_60;
  }

  return result;
}

uint64_t WebKit::WebCookieCache::clearForHost(WebKit::WebCookieCache *this, const WTF::StringImpl **a2)
{
  v16[1] = *MEMORY[0x1E69E9840];
  result = WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>::take(&v15, this + 3, a2);
  v4 = v15;
  if (v15)
  {
    v5 = WebKit::WebCookieCache::inMemoryStorageSession(this);
    ++*(v5 + 8);
    atomic_fetch_add_explicit(v4, 2u, memory_order_relaxed);
    v16[0] = v4;
    WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v14, v16, 1uLL);
    v6 = WTF::fastMalloc(0x10);
    *v6 = &unk_1F11335D0;
    v13 = v6;
    WebCore::NetworkStorageSession::deleteCookiesForHostnames();
    if (v13)
    {
      (*(*v13 + 8))(v13);
    }

    WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v14, v7);
    v9 = v16[0];
    v16[0] = 0;
    if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      v9 = WTF::StringImpl::destroy(v9, v8);
    }

    v10 = *(v5 + 8);
    if (v10)
    {
      *(v5 + 8) = v10 - 1;
      v11 = *(WebKit::WebProcess::singleton(v9, v8) + 54);
      ++v11[4];
      WebKit::WebCookieJar::removeChangeListener(v11, &v15, this);
      if (v11[4] == 1)
      {
        (*(*v11 + 120))(v11);
      }

      else
      {
        --v11[4];
      }

      result = v15;
      v15 = 0;
      if (result)
      {
        if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          return WTF::StringImpl::destroy(result, v12);
        }
      }
    }

    else
    {
      result = 290;
      __break(0xC471u);
    }
  }

  return result;
}

WTF::StringImpl *WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>::take(void *a1, uint64_t *a2, const WTF::StringImpl **a3)
{
  result = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashTraits<WTF::String>,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(a2, a3, a3);
  v6 = *a2;
  if (*a2)
  {
    v6 += 8 * *(v6 - 4);
  }

  if (v6 == result)
  {
    v7 = 0;
  }

  else
  {
    v7 = *result;
    *result = 0;
    result = WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>::remove(a2, result);
  }

  *a1 = v7;
  return result;
}

uint64_t WebKit::WebCookieJar::isEligibleForCache(WebKit::WebCookieJar *this, WebKit::WebFrame *a2, const WTF::URL *a3, const WTF::URL *a4)
{
  if (!WebKit::WebFrame::page(this))
  {
    return 0;
  }

  v7 = *(WebKit::WebFrame::page(this) + 56);
  if (!v7)
  {
    return 0;
  }

  v9 = *(v7 + 8);
  v8 = (v7 + 8);
  *v8 = v9 + 1;
  WebCore::RegistrableDomain::RegistrableDomain(&v17, a3);
  if (v17)
  {
    if (*(v17 + 1) && (MEMORY[0x19EB01EF0]() & 1) == 0)
    {
      if (WebKit::WebFrame::isMainFrame(this))
      {
        v11 = 1;
      }

      else
      {
        WebCore::RegistrableDomain::RegistrableDomain(&v16, a2);
        v11 = WTF::equal(v16, v17, v12);
        v13 = v16;
        v16 = 0;
        if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v13, v10);
        }
      }
    }

    else
    {
      v11 = 0;
    }

    v14 = v17;
    v17 = 0;
    if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v14, v10);
    }
  }

  else
  {
    v11 = 0;
  }

  WTF::RefCounted<WebCore::Page>::deref(v8);
  return v11;
}

uint64_t WebKit::WebFrame::page(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 24);
  if (!v3)
  {
    return 0;
  }

  v4 = *(v3 + 8);
  if (!v4)
  {
    return 0;
  }

  v5 = (v4 + 8);
  ++*(v4 + 8);
  v6 = WebKit::WebPage::fromCorePage(v4);
  WTF::RefCounted<WebCore::Page>::deref(v5);
  return v6;
}

BOOL WebKit::WebFrame::isMainFrame(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 16);
  *(v2 + 16) = v3 + 1;
  v4 = *(v2 + 120);
  if (v4)
  {
    v4 = *(v4 + 8);
  }

  v5 = v4 == v2;
  if (v3)
  {
    *(v2 + 16) = v3;
  }

  else
  {
    (*(*v2 + 8))(v2);
  }

  return v5;
}

void WebKit::WebCookieJar::cookies(WebKit::WebCookieJar *this@<X0>, WebCore::Document *a2@<X1>, const WTF::URL *a3@<X2>, uint64_t *a4@<X8>)
{
  v5 = *(a2 + 69);
  if (!v5)
  {
    goto LABEL_9;
  }

  v6 = *(v5 + 8);
  if (!v6)
  {
    goto LABEL_9;
  }

  v8 = a2;
  ++v6[4];
  WebKit::WebFrame::fromCoreFrame(v6, &v124);
  if (v6[4] == 1)
  {
    (*(*v6 + 8))(v6);
  }

  else
  {
    --v6[4];
  }

  v10 = v124;
  if (!v124)
  {
LABEL_9:
    *a4 = 0;
    return;
  }

  v11 = WebKit::WebFrame::page(v124);
  if (!v11)
  {
    *a4 = 0;
    goto LABEL_130;
  }

  v12 = v11;
  CFRetain(*(v11 + 8));
  v13 = WebCore::CookieJar::sameSiteInfo();
  v122 = v13;
  v123 = BYTE2(v13);
  if (WebKit::shouldBlockCookies(v10, (v8 + 1072), a3, v14) == 1)
  {
    WebKit::WebCookieJar::cookiesInPartitionedCookieStorage(v8, a3, this, &v122, a4);
    goto LABEL_129;
  }

  shouldIncludeSecureCookies = WebCore::CookieJar::shouldIncludeSecureCookies(v8, a3, v15);
  v121 = *(v10 + 11);
  v16 = *(v12 + 48);
  v17 = *(v12 + 1832);
  if (!WebKit::WebCookieJar::isEligibleForCache(v10, (v8 + 1072), a3, v18))
  {
    {
      v40 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v111 = WebKit::WebProcess::operator new(0x370, v19);
      v40 = WebKit::WebProcess::WebProcess(v111);
      WebKit::WebProcess::singleton(void)::process = v40;
    }

    v41 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v40) + 24);
    IPC::Connection::createSyncMessageEncoder(0xFA1, 0, &v135);
    v42 = v135;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v135, (v8 + 1072));
    IPC::ArgumentCoder<WebKit::AppPrivacyReportTestingData,void>::encode(v42, &v122);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v42, a3);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v42, v121);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v42, v16);
    LOBYTE(v125) = shouldIncludeSecureCookies;
    IPC::Encoder::operator<<<BOOL>(v42, &v125);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v42, v17);
    v35 = IPC::Connection::sendSyncMessage(v41, v136, &v135, 0, v130, INFINITY);
    if (LOBYTE(v130[1]))
    {
      if (LOBYTE(v130[1]) != 1)
      {
LABEL_148:
        mpark::throw_bad_variant_access(v35);
      }

      v44 = LOBYTE(v130[0]);
      v45 = 1;
LABEL_45:
      v56 = v135;
      v135 = 0;
      if (v56)
      {
        IPC::Encoder::~Encoder(v56, v43);
        bmalloc::api::tzoneFree(v83, v84);
        if (v45)
        {
          goto LABEL_47;
        }
      }

      else if (v45)
      {
LABEL_47:
        *a4 = 0;
        goto LABEL_129;
      }

      if (v8)
      {
        atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
        *a4 = v8;
        if (atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v8, v43);
        }

        if (!v44)
        {
          goto LABEL_129;
        }
      }

      else
      {
        *a4 = 0;
        if (!v44)
        {
          goto LABEL_129;
        }
      }

      IPC::Decoder::~Decoder(v44);
      bmalloc::api::tzoneFree(v85, v86);
      goto LABEL_129;
    }

    v44 = v130[0];
    v130[0] = 0;
    if (*(v44 + 25) == 3194)
    {
      v8 = 11;
    }

    else
    {
      LOBYTE(v125) = 0;
      LOBYTE(v127) = 0;
      IPC::Decoder::operator>><std::tuple<WTF::String,BOOL>>(v44, &v125);
      if (v127 == 1)
      {
        v45 = 0;
        v8 = v125;
LABEL_42:
        if (!LOBYTE(v130[1]))
        {
          v55 = v130[0];
          v130[0] = 0;
          if (v55)
          {
            IPC::Decoder::~Decoder(v55);
            bmalloc::api::tzoneFree(v96, v97);
          }
        }

        goto LABEL_45;
      }

      v8 = 14;
    }

    IPC::Decoder::~Decoder(v44);
    bmalloc::api::tzoneFree(v53, v54);
    v45 = 1;
    v44 = v8;
    goto LABEL_42;
  }

  v119 = v16;
  v20 = *(this + 4);
  v21 = WTF::URL::host(a3);
  v23 = v20;
  v26 = v20[3];
  v25 = v20 + 3;
  v24 = v26;
  if (v26)
  {
    v102 = v22;
    v114 = v21;
    v118 = *(v24 - 8);
    if ((v22 & 0x100000000) != 0)
    {
      v103 = WTF::SuperFastHash::computeHashImpl<unsigned char,WTF::StringHasher::DefaultConverter>(v21, v22);
    }

    else
    {
      v103 = WTF::SuperFastHash::computeHashImpl<char16_t,WTF::StringHasher::DefaultConverter>(v21, v22);
    }

    v104 = 0;
    v105 = (v103 ^ (8 * v103)) + ((v103 ^ (8 * v103)) >> 5);
    v106 = (v105 ^ (4 * v105)) + ((v105 ^ (4 * v105)) >> 15);
    v107 = (v106 ^ (v106 << 10)) & 0xFFFFFF;
    if (!v107)
    {
      v107 = 0x800000;
    }

    while (1)
    {
      v108 = v107 & v118;
      v109 = (v24 + 8 * (v107 & v118));
      if (*v109 != -1)
      {
        v115 = v107 & v118;
        v116 = v104;
        if (!*v109)
        {
          goto LABEL_12;
        }

        v110 = WTF::StringViewHashTranslator::equal(v109, v114, v102 & 0xFFFFFFFFFFLL);
        v108 = v115;
        v104 = v116;
        if (v110)
        {
          break;
        }
      }

      v107 = ++v104 + v108;
    }

    v28 = v23;
    if (!*(*(v23 + 7) + 8))
    {
      goto LABEL_127;
    }

    v27 = 1;
  }

  else
  {
LABEL_12:
    v27 = 0;
  }

  WTF::URL::host(a3);
  v28 = v23;
  if ((v29 & 0x100000000) != 0)
  {
    WTF::String::String();
    if (v27)
    {
      goto LABEL_19;
    }
  }

  else
  {
    WTF::String::String();
    if (v27)
    {
      goto LABEL_19;
    }
  }

  {
    v31 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v113 = WebKit::WebProcess::operator new(0x370, v30);
    v31 = WebKit::WebProcess::WebProcess(v113);
    WebKit::WebProcess::singleton(void)::process = v31;
  }

  v32 = *(v31 + 54);
  ++v32[4];
  WebKit::WebCookieJar::addChangeListenerWithAccess(v32, a3, (v8 + 1072), v121, v119, v17, v28);
  if (v32[4] == 1)
  {
    (*(*v32 + 120))(v32);
  }

  else
  {
    --v32[4];
  }

LABEL_19:
  {
    v33 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v112 = WebKit::WebProcess::operator new(0x370, v30);
    v33 = WebKit::WebProcess::WebProcess(v112);
    WebKit::WebProcess::singleton(void)::process = v33;
  }

  v34 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v33) + 24);
  IPC::Connection::createSyncMessageEncoder(0xFA2, 0, v134);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v134[0], a3);
  v35 = IPC::Connection::sendSyncMessage(v34, v134[1], v134, 0, &v132, INFINITY);
  if (!v133)
  {
    v46 = v132;
    v132 = 0;
    if (*(v46 + 25) == 3194)
    {
      v47 = 11;
    }

    else
    {
      LOBYTE(v130[0]) = 0;
      v131 = 0;
      v46 = IPC::Decoder::operator>><std::tuple<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>(v46, v130, v38, v39);
      if (v131 == 1)
      {
        *&v49 = 0;
        v50 = v130[0];
        v51 = v130[1];
        *v130 = v49;
        v135 = 0;
        v136 = 0;
        v125 = v46;
        v126 = v50;
        v137 = 0;
        v127 = v51;
        v128 = 0;
        WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v136, v48);
        v52 = v135;
        v135 = 0;
        if (v52)
        {
          IPC::Decoder::~Decoder(v52);
          bmalloc::api::tzoneFree(v100, v101);
        }

        if (v131)
        {
          WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v130, v36);
        }

        goto LABEL_50;
      }

      v47 = 14;
    }

    LOBYTE(v125) = v47;
    v128 = 1;
    IPC::Decoder::~Decoder(v46);
    bmalloc::api::tzoneFree(v57, v58);
LABEL_50:
    if (!v133)
    {
      v59 = v132;
      v132 = 0;
      if (v59)
      {
        IPC::Decoder::~Decoder(v59);
        bmalloc::api::tzoneFree(v98, v99);
      }
    }

    goto LABEL_53;
  }

  if (v133 != 1)
  {
    goto LABEL_148;
  }

  LOBYTE(v125) = v132;
  v128 = 1;
LABEL_53:
  v60 = v134[0];
  v134[0] = 0;
  if (v60)
  {
    IPC::Encoder::~Encoder(v60, v36);
    bmalloc::api::tzoneFree(v87, v88);
  }

  if (v128)
  {
    *a4 = 0;
    mpark::detail::move_constructor<mpark::detail::traits<IPC::ConnectionSendSyncResult<Messages::NetworkConnectionToWebProcess::DomCookiesForHost>::ReplyData,IPC::Error>,(mpark::detail::Trait)1>::~move_constructor(&v125, v36);
    v62 = v129;
    v129 = 0;
    if (v62)
    {
      if (atomic_fetch_add_explicit(v62, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v62, v61);
      }
    }

    goto LABEL_129;
  }

  if (!v27)
  {
    for (i = *v25; i; i = *(v28 + 3))
    {
      if (*(i - 12) < 5u)
      {
        break;
      }

      v77 = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::random(v25);
      WebKit::WebCookieCache::clearForHost(v28, v77);
    }

    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v25, &v129, v37, &v135);
    v78 = WebKit::WebCookieCache::inMemoryStorageSession(v28);
    v79 = *(v78 + 8) + 1;
    *(v78 + 8) = v79;
    if (HIDWORD(v127))
    {
      v80 = v27;
      v81 = v126;
      v82 = 144 * HIDWORD(v127);
      do
      {
        WebCore::NetworkStorageSession::setCookie();
        v81 = (v81 + 144);
        v82 -= 144;
      }

      while (v82);
      v79 = *(v78 + 8);
      LOBYTE(v27) = v80;
    }

    if (v79)
    {
      *(v78 + 8) = v79 - 1;
      goto LABEL_123;
    }

    goto LABEL_153;
  }

  v135 = 0;
  v136 = 0;
  LODWORD(v137) = 0;
  BYTE4(v137) = 1;
  if (!HIDWORD(v127))
  {
    goto LABEL_115;
  }

  v117 = v27;
  v63 = v126;
  v64 = 144 * HIDWORD(v127);
  do
  {
    v65 = *v63;
    if (!*v63)
    {
      goto LABEL_88;
    }

    v66 = *(v65 + 4);
    if (!v66 || (*(v63 + 64) & 1) != 0)
    {
      goto LABEL_88;
    }

    if (v137)
    {
      WTF::StringBuilder::append();
      v65 = *v63;
      if (!v137 && !v136)
      {
        if (v65)
        {
LABEL_71:
          atomic_fetch_add_explicit(v65, 2u, memory_order_relaxed);
        }

        v67 = v135;
        v135 = v65;
        if (v67 && atomic_fetch_add_explicit(v67, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v67, v36);
        }

        v68 = *v63;
        if (*v63)
        {
          LODWORD(v68) = *(v68 + 4);
        }

        LODWORD(v137) = v68;
        goto LABEL_78;
      }

      if (!v65)
      {
        v74 = 0;
        v75 = 0x100000000;
        goto LABEL_96;
      }

      v66 = *(v65 + 4);
    }

    else if (!v136)
    {
      goto LABEL_71;
    }

    v74 = *(v65 + 8);
    v75 = v66 | (((*(v65 + 16) >> 2) & 1) << 32);
LABEL_96:
    WTF::StringBuilder::append(&v135, v74, v75);
LABEL_78:
    WTF::StringBuilder::append(&v135, 0x3Du);
    v69 = *(v63 + 1);
    if (v137 || v136)
    {
      if (v69)
      {
        v72 = *(v69 + 8);
        v73 = *(v69 + 4) | (((*(v69 + 16) >> 2) & 1) << 32);
      }

      else
      {
        v72 = 0;
        v73 = 0x100000000;
      }

      WTF::StringBuilder::append(&v135, v72, v73);
    }

    else
    {
      if (v69)
      {
        atomic_fetch_add_explicit(v69, 2u, memory_order_relaxed);
      }

      v70 = v135;
      v135 = v69;
      if (v70 && atomic_fetch_add_explicit(v70, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v70, v36);
      }

      v71 = *(v63 + 1);
      if (v71)
      {
        LODWORD(v71) = *(v71 + 4);
      }

      LODWORD(v137) = v71;
    }

LABEL_88:
    v63 = (v63 + 144);
    v64 -= 144;
  }

  while (v64);
  v89 = v135;
  LOBYTE(v27) = v117;
  if (v135)
  {
    goto LABEL_116;
  }

LABEL_115:
  WTF::StringBuilder::shrinkToFit(&v135);
  WTF::StringBuilder::reifyString(&v135);
  v89 = v135;
  if (v135)
  {
LABEL_116:
    atomic_fetch_add_explicit(v89, 2u, memory_order_relaxed);
  }

  *a4 = v89;
  v90 = v136;
  v136 = 0;
  if (v90 && atomic_fetch_add_explicit(v90, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v90, v36);
  }

  v91 = v135;
  v135 = 0;
  if (v91 && atomic_fetch_add_explicit(v91, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v91, v36);
  }

LABEL_123:
  mpark::detail::move_constructor<mpark::detail::traits<IPC::ConnectionSendSyncResult<Messages::NetworkConnectionToWebProcess::DomCookiesForHost>::ReplyData,IPC::Error>,(mpark::detail::Trait)1>::~move_constructor(&v125, v36);
  v93 = v129;
  v129 = 0;
  if (v93 && atomic_fetch_add_explicit(v93, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v93, v92);
  }

  if ((v27 & 1) == 0)
  {
LABEL_127:
    v94 = WebKit::WebCookieCache::inMemoryStorageSession(v28);
    ++*(v94 + 8);
    WebCore::NetworkStorageSession::cookiesForDOM();
    *a4 = v125;
    v125 = 0;
    v95 = *(v94 + 8);
    if (v95)
    {
      *(v94 + 8) = v95 - 1;
      goto LABEL_129;
    }

LABEL_153:
    __break(0xC471u);
    JUMPOUT(0x19E3C282CLL);
  }

LABEL_129:
  CFRelease(*(v12 + 8));
LABEL_130:
  CFRelease(*(v10 + 1));
}

uint64_t WebKit::WebFrame::fromCoreFrame@<X0>(uint64_t a1@<X0>, void *a2@<X8>)
{
  v3 = *(a1 + 136);
  v4 = *(a1 + 208);
  if ((v3 & 1) == 0)
  {
    v5 = v4[2];
    result = (*(*v5 + 40))(v5);
    if (!result)
    {
      v8 = 0;
      goto LABEL_5;
    }

    v7 = v5 + 3;
LABEL_4:
    v8 = *v7;
    result = CFRetain(*(*v7 + 8));
LABEL_5:
    *a2 = v8;
    return result;
  }

  v9 = v4;
  if ((*(*v4 + 160))())
  {
    v7 = v9 + 2;
    goto LABEL_4;
  }

  result = 96;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::shouldBlockCookies(WebKit *this, WebKit::WebFrame *a2, const WTF::URL *a3, const WTF::URL *a4)
{
  if (*(WebCore::DeprecatedGlobalSettings::shared(this) + 19) != 1)
  {
    return 0;
  }

  WebCore::RegistrableDomain::RegistrableDomain(&v19, a2);
  if (!v19)
  {
    return 0;
  }

  if (*(v19 + 1))
  {
    if ((MEMORY[0x19EB01EF0]() & 1) == 0)
    {
      WebCore::RegistrableDomain::RegistrableDomain(&v18, a3);
      if (v18)
      {
        if (!*(v18 + 1) || (MEMORY[0x19EB01EF0]() & 1) != 0 || (WTF::equal(v19, v18, v8) & 1) != 0)
        {
          goto LABEL_16;
        }

        if (this)
        {
          if (*(WebKit::WebFrame::localFrameLoaderClient(this) + 80))
          {
LABEL_16:
            v12 = 0;
            goto LABEL_17;
          }

          v9 = WebKit::WebFrame::page(this);
          if (v9)
          {
            v10 = v9;
            CFRetain(*(v9 + 8));
            if (WebKit::WebPage::hasPageLevelStorageAccess(v10, &v19, &v18) & 1) != 0 || (v11 = *(v10 + 56)) != 0 && (*(v11 + 1563))
            {
              CFRelease(*(v10 + 8));
              goto LABEL_16;
            }

            CFRelease(*(v10 + 8));
          }
        }

        {
          v16 = WebKit::WebProcess::singleton(void)::process;
        }

        else
        {
          v17 = WebKit::WebProcess::operator new(0x370, v7);
          v16 = WebKit::WebProcess::WebProcess(v17);
          WebKit::WebProcess::singleton(void)::process = v16;
        }

        if (*(v16 + 720))
        {
          v12 = 2;
        }

        else
        {
          v12 = 1;
        }

LABEL_17:
        v13 = v18;
        v18 = 0;
        if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v13, v7);
        }

        goto LABEL_22;
      }
    }
  }

  v12 = 0;
LABEL_22:
  v14 = v19;
  v19 = 0;
  if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v14, v7);
  }

  return v12;
}

void WebKit::WebCookieJar::setCookies(WebKit::WebCookieJar *this, WebCore::Document *a2, const WTF::URL *a3, atomic_uint **a4)
{
  v4 = *(a2 + 69);
  if (v4)
  {
    v5 = *(v4 + 8);
    if (v5)
    {
      ++v5[4];
      WebKit::WebFrame::fromCoreFrame(v5, &v49);
      if (v5[4] == 1)
      {
        (*(*v5 + 8))(v5);
      }

      else
      {
        --v5[4];
      }

      v10 = v49;
      if (v49)
      {
        v11 = WebKit::WebFrame::page(v49);
        if (v11)
        {
          v12 = v11;
          CFRetain(*(v11 + 8));
          v13 = WebCore::CookieJar::sameSiteInfo();
          v47 = v13;
          v48 = BYTE2(v13);
          if (WebKit::shouldBlockCookies(v10, (a2 + 1072), a3, v14) == 1)
          {
            WebKit::WebCookieJar::setCookiesInPartitionedCookieStorage(this, a2, a3, &v47, a4);
          }

          else
          {
            v15 = *(v10 + 11);
            v16 = *(v12 + 48);
            v46 = WebCore::ScriptExecutionContext::requiresScriptTrackingPrivacyProtection();
            if (WebKit::WebCookieJar::isEligibleForCache(v10, (a2 + 1072), a3, v17))
            {
              v19 = *(this + 4);
              WebKit::shouldRelaxThirdPartyCookieBlocking(v10, v18);
              v20 = WTF::URL::host(a3);
              v21 = *(v19 + 3);
              if (v21)
              {
                v42 = v18;
                v43 = v20;
                v45 = *(v21 - 8);
                if ((v18 & 0x100000000) != 0)
                {
                  v31 = WTF::SuperFastHash::computeHashImpl<unsigned char,WTF::StringHasher::DefaultConverter>(v20, v18);
                }

                else
                {
                  v31 = WTF::SuperFastHash::computeHashImpl<char16_t,WTF::StringHasher::DefaultConverter>(v20, v18);
                }

                v32 = 0;
                v33 = (v31 ^ (8 * v31)) + ((v31 ^ (8 * v31)) >> 5);
                v34 = (v33 ^ (4 * v33)) + ((v33 ^ (4 * v33)) >> 15);
                v35 = (v34 ^ (v34 << 10)) & 0xFFFFFF;
                if (!v35)
                {
                  v35 = 0x800000;
                }

                while (1)
                {
                  v36 = v35 & v45;
                  v37 = (v21 + 8 * (v35 & v45));
                  if (*v37 != -1)
                  {
                    v44 = v35 & v45;
                    v18 = v43;
                    if (!*v37)
                    {
                      goto LABEL_11;
                    }

                    v38 = WTF::StringViewHashTranslator::equal(v37, v43, v42 & 0xFFFFFFFFFFLL);
                    v36 = v44;
                    if (v38)
                    {
                      break;
                    }
                  }

                  v35 = ++v32 + v36;
                }

                v39 = WebKit::WebCookieCache::inMemoryStorageSession(v19);
                ++*(v39 + 8);
                WebCore::NetworkStorageSession::setCookiesFromDOM();
                v40 = *(v39 + 8);
                if (!v40)
                {
                  __break(0xC471u);
                  return;
                }

                *(v39 + 8) = v40 - 1;
              }
            }

LABEL_11:
            {
              v22 = WebKit::WebProcess::singleton(void)::process;
            }

            else
            {
              v41 = WebKit::WebProcess::operator new(0x370, v18);
              v22 = WebKit::WebProcess::WebProcess(v41);
              WebKit::WebProcess::singleton(void)::process = v22;
            }

            v23 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v22) + 24);
            v24 = *(v12 + 1832);
            v26 = IPC::Encoder::operator new(0x238, v25);
            *v26 = 488;
            *(v26 + 68) = 0;
            *(v26 + 70) = 0;
            *(v26 + 69) = 0;
            *(v26 + 2) = 0;
            *(v26 + 3) = 0;
            *(v26 + 1) = 0;
            IPC::Encoder::encodeHeader(v26);
            v50 = v26;
            IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v26, a2 + 134);
            IPC::ArgumentCoder<WebKit::AppPrivacyReportTestingData,void>::encode(v26, &v47);
            IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v26, a3);
            IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, v15);
            IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, v16);
            IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v26, a4);
            v51 = v46;
            IPC::Encoder::operator<<<BOOL>(v26, &v51);
            IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, v24);
            IPC::Connection::sendMessageImpl(v23, &v50, 0, 0);
            v28 = v50;
            v50 = 0;
            if (v28)
            {
              IPC::Encoder::~Encoder(v28, v27);
              bmalloc::api::tzoneFree(v29, v30);
            }
          }

          CFRelease(*(v12 + 8));
        }

        CFRelease(*(v10 + 1));
      }
    }
  }
}

uint64_t WebKit::shouldRelaxThirdPartyCookieBlocking(WebKit *this, const WebKit::WebFrame *a2)
{
  if (this && (v2 = WebKit::WebFrame::page(this)) != 0)
  {
    v3 = v2;
    CFRetain(*(v2 + 8));
    v4 = *(v3 + 56);
    if (v4)
    {
      v6 = *(v4 + 8);
      v5 = v4 + 8;
      *v5 = v6 + 1;
      v7 = *(v5 + 1555);
      WTF::RefCounted<WebCore::Page>::deref(v5);
    }

    else
    {
      v7 = 0;
    }

    CFRelease(*(v3 + 8));
  }

  else
  {
    v7 = 0;
  }

  return v7 & 1;
}

uint64_t WebKit::WebCookieJar::cookiesAdded(uint64_t a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 40), a2, a3);
  v7 = result;
  v8 = *(a1 + 40);
  if (v8)
  {
    v8 += 24 * *(v8 - 4);
  }

  if (v8 != result)
  {
    v9 = WTF::fastMalloc(0x18);
    *v9 = &unk_1F11335F8;
    v9[1] = a2;
    v9[2] = a3;
    v10 = v9;
    WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::forEach((v7 + 8), &v10);
    result = v10;
    if (v10)
    {
      return (*(*v10 + 8))(v10);
    }
  }

  return result;
}

unsigned int *WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::forEach(unsigned int *result, uint64_t a2)
{
  v3 = result;
  if (*result && (v4 = *(*result - 12), v4))
  {
    if (v4 >> 29)
    {
      __break(0xC471u);
      return result;
    }

    v5 = WTF::fastMalloc((8 * v4));
  }

  else
  {
    v5 = 0;
  }

  result = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::begin(v3);
  v7 = result;
  v8 = v6;
  if (*v3)
  {
    v9 = *v3 + 8 * *(*v3 - 4);
  }

  else
  {
    v9 = 0;
  }

  if (v9 != result)
  {
    v10 = 0;
    v11 = 1;
    do
    {
      v12 = v11;
      v13 = *(*v7 + 8);
      if (v13)
      {
        result = WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v13 + 8), *(*v7 + 8));
        v14 = *(v13 + 8);
        if (v14)
        {
          atomic_fetch_add(v14, 1u);
        }
      }

      else
      {
        v14 = 0;
      }

      *(v5 + v10) = v14;
      do
      {
        v7 += 2;
      }

      while (v7 != v8 && (*v7 + 1) <= 1);
      ++v10;
      v11 = v12 + 1;
    }

    while (v7 != v9);
    if (v10)
    {
      v15 = v5;
      do
      {
        v16 = *v15;
        if (*v15)
        {
          v6 = *(v16 + 8);
          if (v6)
          {
            v17 = *v3;
            if (*v3)
            {
              v18 = *(v17 - 2);
              v19 = (~(v16 << 32) + v16) ^ ((~(v16 << 32) + v16) >> 22);
              v20 = 9 * ((v19 + ~(v19 << 13)) ^ ((v19 + ~(v19 << 13)) >> 8));
              v21 = (v20 ^ (v20 >> 15)) + ~((v20 ^ (v20 >> 15)) << 27);
              v22 = v18 & ((v21 >> 31) ^ v21);
              for (i = 1; ; ++i)
              {
                v24 = v17[v22];
                if (!v24)
                {
                  break;
                }

                if (v24 != -1 && v24 == v16)
                {
                  (*(**a2 + 16))();
                  break;
                }

                v22 = (v22 + i) & v18;
              }
            }
          }
        }

        v15 = (v15 + 8);
      }

      while (v15 != (v5 + 8 * v10));
      v26 = 8 * v12;
      v27 = v5;
      do
      {
        result = *v27;
        *v27 = 0;
        if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, result);
          result = WTF::fastFree(result, v6);
        }

        ++v27;
        v26 -= 8;
      }

      while (v26);
    }
  }

  if (v5)
  {

    return WTF::fastFree(v5, v6);
  }

  return result;
}

uint64_t WebKit::WebCookieJar::cookiesDeleted(uint64_t a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 40), a2, a3);
  v7 = result;
  v8 = *(a1 + 40);
  if (v8)
  {
    v8 += 24 * *(v8 - 4);
  }

  if (v8 != result)
  {
    v9 = WTF::fastMalloc(0x18);
    *v9 = &unk_1F1133620;
    v9[1] = a2;
    v9[2] = a3;
    v10 = v9;
    WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::forEach((v7 + 8), &v10);
    result = v10;
    if (v10)
    {
      return (*(*v10 + 8))(v10);
    }
  }

  return result;
}

uint64_t WebKit::WebCookieJar::cookiesEnabled(WebKit::WebCookieJar *this, WebCore::Document *a2)
{
  v5 = *(a2 + 69);
  if (!v5)
  {
    goto LABEL_10;
  }

  v6 = *(v5 + 8);
  if (!v6)
  {
    goto LABEL_10;
  }

  ++v6[4];
  WebKit::WebFrame::fromCoreFrame(v6, &v36);
  if (v6[4] == 1)
  {
    (*(*v6 + 8))(v6);
  }

  else
  {
    --v6[4];
  }

  v8 = v36;
  if (!v36)
  {
LABEL_10:
    LOBYTE(v15) = 0;
    return v15 & 1;
  }

  if (WebKit::WebFrame::page(v36))
  {
    v10 = a2 + 1032;
    shouldBlockCookies = WebKit::shouldBlockCookies(v8, (a2 + 1072), (a2 + 1032), v9);
    v13 = WebKit::shouldBlockCookies(v8, (a2 + 1072), (a2 + 1032), v12);
    if (v13 != 1)
    {
      if (shouldBlockCookies != 2)
      {
        LOBYTE(v15) = 1;
        goto LABEL_9;
      }

      v15 = *(a2 + 1816);
      if ((v15 & 0x100) != 0)
      {
        goto LABEL_50;
      }

      v17 = *(a2 + 69);
      if (!v17 || (v18 = *(v17 + 8)) == 0 || ((++v18[4], v13 = WebKit::WebFrame::fromCoreFrame(v18, &v44), v18[4] == 1) ? (v13 = (*(*v18 + 8))(v18)) : --v18[4], (v15 = v44) == 0))
      {
        LODWORD(v3) = 0;
        goto LABEL_49;
      }

      v19 = WebKit::WebFrame::page(v44);
      if (!v19)
      {
        LODWORD(v3) = 0;
        goto LABEL_48;
      }

      v2 = v19;
      CFRetain(*(v19 + 8));
      v20 = *v10;
      if (!*v10)
      {
        LODWORD(v3) = 0;
        goto LABEL_47;
      }

      atomic_fetch_add_explicit(v20, 2u, memory_order_relaxed);
      v41 = v20;
      v42 = *(a2 + 65);
      v43 = *(a2 + 66);
      if (!*(v20 + 1))
      {
        LODWORD(v3) = 0;
        v41 = 0;
        goto LABEL_45;
      }

      v39 = *(v15 + 11);
      v40 = 1;
      {
        v21 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v35 = WebKit::WebProcess::operator new(0x370, v14);
        v21 = WebKit::WebProcess::WebProcess(v35);
        WebKit::WebProcess::singleton(void)::process = v21;
      }

      v22 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v21) + 24);
      v37 = *(v2 + 48);
      v38 = 1;
      v3 = *(v2 + 1832);
      IPC::Connection::createSyncMessageEncoder(0xFA0, 0, v47);
      v23 = v47[0];
      IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v47[0], a2 + 134);
      IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v23, &v41);
      IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v23, &v39);
      IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v23, &v37);
      IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v23, v3);
      v24 = IPC::Connection::sendSyncMessage(v22, v47[1], v47, 0, &v45, INFINITY);
      if (v46)
      {
        if (v46 != 1)
        {
          mpark::throw_bad_variant_access(v24);
        }

        v10 = v45;
        v4 = 1;
LABEL_40:
        v13 = v47[0];
        v47[0] = 0;
        if (v13)
        {
          goto LABEL_52;
        }

        while (1)
        {
          LODWORD(v3) = (v4 == 0) & v3;
          if (!v4 && v10)
          {
            IPC::Decoder::~Decoder(v10);
            bmalloc::api::tzoneFree(v33, v34);
          }

          v20 = v41;
          v41 = 0;
          if (v20)
          {
LABEL_45:
            if (atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v20, v14);
            }
          }

LABEL_47:
          CFRelease(*(v2 + 8));
LABEL_48:
          CFRelease(*(v15 + 1));
LABEL_49:
          v15 = (v3 | 0x100);
          *(a2 + 1816) = v3 | 0x100;
LABEL_50:
          if ((v15 & 0x100) != 0)
          {
            break;
          }

          __break(1u);
LABEL_52:
          IPC::Encoder::~Encoder(v13, v14);
          bmalloc::api::tzoneFree(v29, v30);
        }

        goto LABEL_9;
      }

      v10 = v45;
      v45 = 0;
      if (*(v10 + 50) == 3194)
      {
        v3 = 11;
      }

      else
      {
        v27 = IPC::Decoder::decode<std::tuple<BOOL>>(v10);
        if (v27 >= 0x100u)
        {
          LOBYTE(v3) = v27;
          v4 = 0;
          goto LABEL_37;
        }

        v3 = 14;
      }

      IPC::Decoder::~Decoder(v10);
      bmalloc::api::tzoneFree(v25, v26);
      v4 = 1;
      v10 = v3;
LABEL_37:
      if (!v46)
      {
        v28 = v45;
        v45 = 0;
        if (v28)
        {
          IPC::Decoder::~Decoder(v28);
          bmalloc::api::tzoneFree(v31, v32);
        }
      }

      goto LABEL_40;
    }
  }

  LOBYTE(v15) = 0;
LABEL_9:
  CFRelease(v8[1]);
  return v15 & 1;
}

void WebKit::WebCookieJar::remoteCookiesEnabled(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a2 + 552);
  if (v4)
  {
    v5 = *(v4 + 8);
    if (v5)
    {
      ++v5[4];
      WebKit::WebFrame::fromCoreFrame(v5, &v30);
      if (v5[4] == 1)
      {
        (*(*v5 + 8))(v5);
      }

      else
      {
        --v5[4];
      }

      v9 = v30;
      if (v30)
      {
        v10 = WebKit::WebFrame::page(v30);
        if (!v10)
        {
          v20 = *a3;
          *a3 = 0;
          (*(*v20 + 16))(v20, 0);
          (*(*v20 + 8))(v20);
LABEL_15:
          CFRelease(*(v9 + 1));
          return;
        }

        v11 = v10;
        v12 = CFRetain(*(v10 + 8));
        v14 = *(a2 + 1032);
        if (v14)
        {
          atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
          v27 = v14;
          v28 = *(a2 + 1040);
          v29 = *(a2 + 1056);
          if (v14[1])
          {
            v25 = *(v9 + 11);
            v26 = 1;
            v15 = WebKit::WebProcess::singleton(v12, v13);
            v16 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v15) + 24);
            v17 = *(v11 + 48);
            v23 = 1;
            v21 = *(v11 + 1832);
            v22 = v17;
            v24[0] = a2 + 1072;
            v24[1] = &v27;
            v24[2] = &v25;
            v24[3] = &v22;
            v24[4] = &v21;
            IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::CookiesEnabled,WTF::CompletionHandler<void ()(BOOL)>>(v16, v24, a3);
            v14 = v27;
            goto LABEL_13;
          }
        }

        else
        {
          v28 = *(a2 + 1040);
          v29 = *(a2 + 1056);
        }

        v19 = *a3;
        *a3 = 0;
        (*(*v19 + 16))(v19, 0);
        (*(*v19 + 8))(v19);
LABEL_13:
        v27 = 0;
        if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v14, v18);
        }

        CFRelease(*(v11 + 8));
        goto LABEL_15;
      }
    }
  }

  v6 = *a3;
  *a3 = 0;
  (*(*v6 + 16))(v6, 0);
  v7 = *(*v6 + 8);

  v7(v6);
}

uint64_t IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::CookiesEnabled,WTF::CompletionHandler<void ()(BOOL)>>(uint64_t *a1, uint64_t a2, uint64_t *a3)
{
  v5 = *a3;
  *a3 = 0;
  v6 = WTF::fastMalloc(0x10);
  *v6 = &unk_1F1133648;
  v6[1] = v5;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v7 = v6;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v10 = IPC::Encoder::operator new(0x238, v9);
    *v10 = 437;
    *(v10 + 68) = 0;
    *(v10 + 70) = 0;
    *(v10 + 69) = 0;
    *(v10 + 2) = 0;
    *(v10 + 3) = 0;
    *(v10 + 1) = 0;
    IPC::Encoder::encodeHeader(v10);
    v17 = v10;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v10, *a2);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v10, *(a2 + 8));
    IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v10, *(a2 + 16));
    IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v10, *(a2 + 24));
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v10, **(a2 + 32));
    v16[0] = v7;
    v16[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(a1, &v17, v16, 0, 0);
    v12 = v16[0];
    v16[0] = 0;
    if (v12)
    {
      (*(*v12 + 8))(v12);
    }

    result = v17;
    v17 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v11);
      return bmalloc::api::tzoneFree(v14, v15);
    }
  }

  return result;
}

void WebKit::WebCookieJar::cookieRequestHeaderFieldValue(WebKit::WebFrame *a1@<X1>, uint64_t a2@<X2>, const WTF::URL *a3@<X3>, uint64_t a4@<X4>, uint64_t a5@<X5>, uint64_t a6@<X6>, uint64_t a7@<X7>, uint64_t a8@<X8>, char a9)
{
  v11 = a1;
  v43[0] = a4;
  v43[1] = a5;
  v42[0] = a6;
  v42[1] = a7;
  if ((a5 & 1) == 0)
  {
    v15 = 0;
LABEL_8:
    if (WebKit::shouldBlockCookies(v15, v11, a3, a3) == 1)
    {
      *(a8 + 8) = 0;
      *a8 = 0;
      return;
    }

    v16 = 0;
    v19 = 1;
    goto LABEL_10;
  }

  {
    v14 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v39 = WebKit::WebProcess::operator new(0x370, a1);
    v14 = WebKit::WebProcess::WebProcess(v39);
    WebKit::WebProcess::singleton(void)::process = v14;
  }

  v15 = WebKit::WebProcess::webFrame(v14, a4, 1);
  if (!v15)
  {
    goto LABEL_8;
  }

  v16 = v15;
  CFRetain(v15[1]);
  if (WebKit::shouldBlockCookies(v16, v11, a3, v17) == 1)
  {
    *(a8 + 8) = 0;
    *a8 = 0;
LABEL_37:
    CFRelease(v16[1]);
    return;
  }

  if (!WebKit::WebFrame::page(v16))
  {
    v19 = 0;
LABEL_10:
    v20 = 0;
    LOBYTE(v40) = 0;
    goto LABEL_13;
  }

  v19 = 0;
  v40 = *(WebKit::WebFrame::page(v16) + 1832);
  v20 = 1;
LABEL_13:
  v41 = v20;
  {
    v21 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v38 = WebKit::WebProcess::operator new(0x370, v18);
    v21 = WebKit::WebProcess::WebProcess(v38);
    WebKit::WebProcess::singleton(void)::process = v21;
  }

  v22 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v21) + 24);
  IPC::Connection::createSyncMessageEncoder(0xF9F, 0, v49);
  v23 = v49[0];
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v49[0], v11);
  IPC::ArgumentCoder<WebKit::AppPrivacyReportTestingData,void>::encode(v23, a2);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v23, a3);
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v23, v43);
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v23, v42);
  LOBYTE(v44) = a9;
  IPC::Encoder::operator<<<BOOL>(v23, &v44);
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v23, &v40);
  v24 = IPC::Connection::sendSyncMessage(v22, v49[1], v49, 0, &v47, INFINITY);
  if (v48)
  {
    if (v48 != 1)
    {
      mpark::throw_bad_variant_access(v24);
    }

    v26 = v47;
    v27 = 1;
    goto LABEL_28;
  }

  v26 = v47;
  v47 = 0;
  if (*(v26 + 50) == 3194)
  {
    a2 = 11;
LABEL_24:
    IPC::Decoder::~Decoder(v26);
    bmalloc::api::tzoneFree(v28, v29);
    v27 = 1;
    v26 = a2;
    goto LABEL_25;
  }

  LOBYTE(v44) = 0;
  v46 = 0;
  IPC::Decoder::operator>><std::tuple<WTF::String,BOOL>>(v26, &v44);
  if (v46 != 1)
  {
    a2 = 14;
    goto LABEL_24;
  }

  v27 = 0;
  a2 = v44;
  LOBYTE(v11) = v45;
LABEL_25:
  if (!v48)
  {
    v30 = v47;
    v47 = 0;
    if (v30)
    {
      IPC::Decoder::~Decoder(v30);
      bmalloc::api::tzoneFree(v36, v37);
    }
  }

LABEL_28:
  v31 = v49[0];
  v49[0] = 0;
  if (v31)
  {
    IPC::Encoder::~Encoder(v31, v25);
    bmalloc::api::tzoneFree(v32, v33);
    if (v27)
    {
LABEL_30:
      *(a8 + 8) = 0;
      *a8 = 0;
      if (v19)
      {
        return;
      }

      goto LABEL_37;
    }
  }

  else if (v27)
  {
    goto LABEL_30;
  }

  if (!a2)
  {
    *a8 = 0;
    *(a8 + 8) = v11;
    if (v26)
    {
      goto LABEL_42;
    }

LABEL_36:
    if (v19)
    {
      return;
    }

    goto LABEL_37;
  }

  atomic_fetch_add_explicit(a2, 2u, memory_order_relaxed);
  *a8 = a2;
  *(a8 + 8) = v11;
  if (atomic_fetch_add_explicit(a2, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(a2, v25);
    if (v26)
    {
      goto LABEL_42;
    }

    goto LABEL_36;
  }

  if (!v26)
  {
    goto LABEL_36;
  }

LABEL_42:
  IPC::Decoder::~Decoder(v26);
  bmalloc::api::tzoneFree(v34, v35);
  if ((v19 & 1) == 0)
  {
    goto LABEL_37;
  }
}

BOOL WebKit::WebCookieJar::getRawCookies(int a1, uint64_t a2, WTF::URL *a3, const WTF::URL *a4)
{
  v7 = *(a2 + 552);
  if (!v7 || (v8 = *(v7 + 8)) == 0)
  {
    v11 = (a2 + 1072);
    if (WebKit::shouldBlockCookies(0, (a2 + 1072), a3, a4) == 1)
    {
      return 0;
    }

    goto LABEL_13;
  }

  ++v8[4];
  WebKit::WebFrame::fromCoreFrame(v8, &v61);
  if (v8[4] == 1)
  {
    (*(*v8 + 8))(v8);
  }

  else
  {
    --v8[4];
  }

  v10 = v61;
  v11 = (a2 + 1072);
  if (WebKit::shouldBlockCookies(v61, (a2 + 1072), a3, v9) == 1)
  {
    v13 = 0;
    if (!v10)
    {
      return v13;
    }

    goto LABEL_46;
  }

  if (!v10)
  {
LABEL_13:
    v10 = 0;
    LOBYTE(v59) = 0;
    v60 = 0;
    LOBYTE(v57) = 0;
    v58 = 0;
LABEL_14:
    v15 = 0;
    LOBYTE(v55) = 0;
    goto LABEL_18;
  }

  v59 = *(v10 + 11);
  v60 = 1;
  if (WebKit::WebFrame::page(v10))
  {
    v57 = *(WebKit::WebFrame::page(v10) + 48);
    v14 = 1;
  }

  else
  {
    v14 = 0;
    LOBYTE(v57) = 0;
  }

  v58 = v14;
  if (!WebKit::WebFrame::page(v10))
  {
    goto LABEL_14;
  }

  v55 = *(WebKit::WebFrame::page(v10) + 1832);
  v15 = 1;
LABEL_18:
  v56 = v15;
  {
    v16 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v49 = WebKit::WebProcess::operator new(0x370, v12);
    v16 = WebKit::WebProcess::WebProcess(v49);
    WebKit::WebProcess::singleton(void)::process = v16;
  }

  v17 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v16) + 24);
  v18 = WebCore::CookieJar::sameSiteInfo();
  v50 = v18;
  v51 = BYTE2(v18);
  IPC::Connection::createSyncMessageEncoder(0xFA5, 0, v67);
  v19 = v67[0];
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v67[0], v11);
  IPC::ArgumentCoder<WebKit::AppPrivacyReportTestingData,void>::encode(v19, &v50);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v19, a3);
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v19, &v59);
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v19, &v57);
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v19, &v55);
  v20 = IPC::Connection::sendSyncMessage(v17, v67[1], v67, 0, &v65, INFINITY);
  if (!v66)
  {
    v25 = v65;
    v65 = 0;
    if (*(v25 + 25) == 3194)
    {
      v26 = 11;
    }

    else
    {
      LOBYTE(v62) = 0;
      v64 = 0;
      v25 = IPC::Decoder::operator>><std::tuple<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>(v25, &v62, *&v22, v23);
      if (v64 == 1)
      {
        v17 = v62;
        v62 = 0;
        LODWORD(v11) = v63;
        LODWORD(v19) = HIDWORD(v63);
        v63 = 0;
        v68 = 0uLL;
        v52 = v25;
        *&v53 = v17;
        v69 = 0;
        *(&v53 + 1) = __PAIR64__(v19, v11);
        v54 = 0;
        WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v68 + 8, v27);
        v28 = v68;
        *&v68 = 0;
        if (v28)
        {
          IPC::Decoder::~Decoder(v28);
          bmalloc::api::tzoneFree(v47, v48);
        }

        if (v64)
        {
          WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v62, v21);
        }

        v24 = 0;
        goto LABEL_33;
      }

      v26 = 14;
    }

    LOBYTE(v52) = v26;
    v54 = 1;
    IPC::Decoder::~Decoder(v25);
    bmalloc::api::tzoneFree(v29, v30);
    v24 = 1;
LABEL_33:
    if (!v66)
    {
      v31 = v65;
      v65 = 0;
      if (v31)
      {
        IPC::Decoder::~Decoder(v31);
        bmalloc::api::tzoneFree(v43, v44);
      }
    }

    goto LABEL_36;
  }

  if (v66 != 1)
  {
    mpark::throw_bad_variant_access(v20);
  }

  LOBYTE(v52) = v65;
  v24 = 1;
  v54 = 1;
LABEL_36:
  v32 = v67[0];
  v67[0] = 0;
  if (v32)
  {
    IPC::Encoder::~Encoder(v32, v21);
    bmalloc::api::tzoneFree(v41, v42);
  }

  v13 = v24 == 0;
  if (!v24)
  {
    *&v22 = 0;
    v53 = v22;
    v33 = *(a4 + 3);
    if (v33)
    {
      v34 = *a4;
      v35 = 144 * v33;
      do
      {
        WebCore::Cookie::~Cookie(v34, v21);
        v34 = (v36 + 144);
        v35 -= 144;
      }

      while (v35);
    }

    v37 = *a4;
    if (*a4)
    {
      *a4 = 0;
      *(a4 + 2) = 0;
      WTF::fastFree(v37, v21);
    }

    *&v22 = 0;
    v68 = v22;
    *a4 = v17;
    *(a4 + 2) = v11;
    *(a4 + 3) = v19;
    WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v68, v21);
    WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v53, v38);
    v39 = v52;
    v52 = 0;
    if (v39)
    {
      IPC::Decoder::~Decoder(v39);
      bmalloc::api::tzoneFree(v45, v46);
      if (!v10)
      {
        return v13;
      }

      goto LABEL_46;
    }
  }

  if (v10)
  {
LABEL_46:
    CFRelease(*(v10 + 1));
  }

  return v13;
}

IPC::Encoder *WebKit::WebCookieJar::setRawCookie(uint64_t a1, uint64_t *a2, uint64_t a3, char a4)
{
  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v15 = WebKit::WebProcess::operator new(0x370, a2);
    v7 = WebKit::WebProcess::WebProcess(v15);
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  v8 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v7) + 24);
  v10 = IPC::Encoder::operator new(0x238, v9);
  *v10 = 490;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = 0;
  IPC::Encoder::encodeHeader(v10);
  v16 = v10;
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v10, a2 + 134);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v10, a2 + 129);
  IPC::ArgumentCoder<WebCore::Cookie,void>::encode(v10, a3);
  v17 = a4;
  IPC::Encoder::operator<<<BOOL>(v10, &v17);
  IPC::Connection::sendMessageImpl(v8, &v16, 0, 0);
  result = v16;
  v16 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v11);
    return bmalloc::api::tzoneFree(v13, v14);
  }

  return result;
}

uint64_t WebKit::WebCookieJar::deleteCookie(uint64_t a1, uint64_t *a2, uint64_t *a3, uint64_t *a4, uint64_t *a5)
{
  {
    v9 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v22 = WebKit::WebProcess::operator new(0x370, a2);
    v9 = WebKit::WebProcess::WebProcess(v22);
    WebKit::WebProcess::singleton(void)::process = v9;
  }

  v10 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v9) + 24);
  v11 = *a5;
  *a5 = 0;
  v12 = WTF::fastMalloc(0x10);
  *v12 = &unk_1F1133670;
  v12[1] = v11;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v13 = v12;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v16 = IPC::Encoder::operator new(0x238, v15);
    *v16 = 442;
    *(v16 + 68) = 0;
    *(v16 + 70) = 0;
    *(v16 + 69) = 0;
    *(v16 + 2) = 0;
    *(v16 + 3) = 0;
    *(v16 + 1) = 0;
    IPC::Encoder::encodeHeader(v16);
    v24 = v16;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v16, a2 + 134);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v16, a3);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v16, a4);
    v23[0] = v13;
    v23[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(v10, &v24, v23, 0, 0);
    v18 = v23[0];
    v23[0] = 0;
    if (v18)
    {
      (*(*v18 + 8))(v18);
    }

    result = v24;
    v24 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v17);
      return bmalloc::api::tzoneFree(v20, v21);
    }
  }

  return result;
}

void WebKit::WebCookieJar::getCookiesAsync(uint64_t a1, void *a2, const WTF::URL *a3, uint64_t *a4, uint64_t *a5)
{
  v6 = a2[69];
  if (v6)
  {
    v7 = *(v6 + 8);
    if (v7)
    {
      ++v7[4];
      WebKit::WebFrame::fromCoreFrame(v7, &v45);
      v11 = v45;
      if (WebKit::shouldBlockCookies(v45, (a2 + 134), a3, v12) == 1)
      {
        LOBYTE(v46[0]) = 0;
        v47 = 0;
        v13 = *a5;
        *a5 = 0;
        (*(*v13 + 16))(v13, v46);
        (*(*v13 + 8))(v13);
        if (v47 == 1)
        {
          WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v46, v14);
          if (!v11)
          {
            goto LABEL_23;
          }

          goto LABEL_22;
        }

        goto LABEL_21;
      }

      v15 = WebCore::CookieJar::sameSiteInfo();
      v43 = v15;
      v44 = BYTE2(v15);
      shouldIncludeSecureCookies = WebCore::CookieJar::shouldIncludeSecureCookies(a2, a3, v16);
      if (v11)
      {
        v41 = *(v11 + 11);
        v42 = 1;
        if (WebKit::WebFrame::page(v11))
        {
          v39 = *(WebKit::WebFrame::page(v11) + 48);
          v19 = 1;
        }

        else
        {
          v19 = 0;
          LOBYTE(v39) = 0;
        }

        v40 = v19;
        if (WebKit::WebFrame::page(v11))
        {
          v37 = *(WebKit::WebFrame::page(v11) + 1832);
          v20 = 1;
          goto LABEL_15;
        }
      }

      else
      {
        LOBYTE(v41) = 0;
        v42 = 0;
        LOBYTE(v39) = 0;
        v40 = 0;
      }

      v20 = 0;
      LOBYTE(v37) = 0;
LABEL_15:
      v38 = v20;
      {
        v21 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v36 = WebKit::WebProcess::operator new(0x370, v17);
        v21 = WebKit::WebProcess::WebProcess(v36);
        WebKit::WebProcess::singleton(void)::process = v21;
      }

      v22 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v21) + 24);
      v23 = *a5;
      *a5 = 0;
      v24 = WTF::fastMalloc(0x10);
      *v24 = &unk_1F1133698;
      v24[1] = v23;
      if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
      {
        __break(0xC471u);
        return;
      }

      v25 = v24;
      IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
      v28 = IPC::Encoder::operator new(0x238, v27);
      *v28 = 438;
      *(v28 + 68) = 0;
      *(v28 + 70) = 0;
      *(v28 + 69) = 0;
      *(v28 + 2) = 0;
      *(v28 + 3) = 0;
      *(v28 + 1) = 0;
      IPC::Encoder::encodeHeader(v28);
      v48 = v28;
      IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v28, a2 + 134);
      IPC::ArgumentCoder<WebKit::AppPrivacyReportTestingData,void>::encode(v28, &v43);
      IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v28, a3);
      IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v28, &v41);
      IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v28, &v39);
      LOBYTE(v46[0]) = shouldIncludeSecureCookies;
      IPC::Encoder::operator<<<BOOL>(v28, v46);
      IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v28, a4);
      IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v28, a4 + 1);
      IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v28, &v37);
      v46[0] = v25;
      v46[1] = IdentifierInternal;
      IPC::Connection::sendMessageWithAsyncReply(v22, &v48, v46, 0, 0);
      v30 = v46[0];
      v46[0] = 0;
      if (v30)
      {
        (*(*v30 + 8))(v30);
      }

      v31 = v48;
      v48 = 0;
      if (v31)
      {
        IPC::Encoder::~Encoder(v31, v29);
        bmalloc::api::tzoneFree(v32, v33);
        if (!v11)
        {
LABEL_23:
          if (v7[4] == 1)
          {
            (*(*v7 + 8))(v7);
          }

          else
          {
            --v7[4];
          }

          return;
        }

LABEL_22:
        CFRelease(*(v11 + 1));
        goto LABEL_23;
      }

LABEL_21:
      if (!v11)
      {
        goto LABEL_23;
      }

      goto LABEL_22;
    }
  }

  LOBYTE(v46[0]) = 0;
  v47 = 0;
  v34 = *a5;
  *a5 = 0;
  (*(*v34 + 16))(v34, v46);
  (*(*v34 + 8))(v34);
  if (v47 == 1)
  {
    WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v46, v35);
  }
}

void WebKit::WebCookieJar::setCookieAsync(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t *a5)
{
  v6 = *(a2 + 552);
  if (v6)
  {
    v7 = *(v6 + 8);
    if (v7)
    {
      ++v7[4];
      WebKit::WebFrame::fromCoreFrame(v7, &v106);
      v12 = v106;
      if (WebKit::shouldBlockCookies(v106, (a2 + 1072), a3, v13) == 1)
      {
        v14 = *a5;
        *a5 = 0;
        (*(*v14 + 16))(v14, 0);
        (*(*v14 + 8))(v14);
        if (!v12)
        {
          goto LABEL_6;
        }

        goto LABEL_5;
      }

      v69 = WebCore::ScriptExecutionContext::requiresScriptTrackingPrivacyProtection();
      v15 = WebCore::CookieJar::sameSiteInfo();
      v104 = v15;
      v105 = BYTE2(v15);
      v74 = v7;
      if (v12)
      {
        v102 = *(v12 + 11);
        v103 = 1;
        if (WebKit::WebFrame::page(v12))
        {
          v100 = *(WebKit::WebFrame::page(v12) + 48);
          v16 = 1;
        }

        else
        {
          v16 = 0;
          LOBYTE(v100) = 0;
        }

        v101 = v16;
        if (WebKit::WebFrame::page(v12))
        {
          v98 = *(WebKit::WebFrame::page(v12) + 1832);
          v20 = 1;
        }

        else
        {
          v20 = 0;
          LOBYTE(v98) = 0;
        }

        v99 = v20;
        if (WebKit::WebCookieJar::isEligibleForCache(v12, (a2 + 1072), a3, v19))
        {
          v18 = *(*(a1 + 32) + 56);
          if (v18 && (v21 = *v18, ++*(v18 + 8), v21) && *v21)
          {
            v17 = 1;
            (*(**v21 + 16))(*v21, 1);
          }

          else
          {
            v17 = 1;
          }
        }

        else
        {
          v17 = 0;
          v18 = 0;
        }
      }

      else
      {
        v17 = 0;
        v18 = 0;
        LOBYTE(v102) = 0;
        v103 = 0;
        LOBYTE(v100) = 0;
        v101 = 0;
        LOBYTE(v98) = 0;
        v99 = 0;
      }

      ++*(a1 + 16);
      *&v75 = a1;
      *(&v75 + 1) = v18;
      v76 = v17;
      *(a2 + 28) += 2;
      *&v77 = a2;
      if (v12)
      {
        CFRetain(*(v12 + 1));
      }

      *(&v77 + 1) = v12;
      v78 = v104;
      v79 = v105;
      v22 = *a3;
      if (*a3)
      {
        atomic_fetch_add_explicit(v22, 2u, memory_order_relaxed);
      }

      v80 = v22;
      v81 = *(a3 + 8);
      v82 = *(a3 + 24);
      *v83 = v102;
      v83[8] = v103;
      *&v83[16] = v100;
      v83[24] = v101;
      v23 = *a4;
      if (*a4)
      {
        atomic_fetch_add_explicit(v23, 2u, memory_order_relaxed);
      }

      v84 = v23;
      v24 = *(a4 + 8);
      if (v24)
      {
        atomic_fetch_add_explicit(v24, 2u, memory_order_relaxed);
      }

      v85 = v24;
      v25 = *(a4 + 16);
      if (v25)
      {
        atomic_fetch_add_explicit(v25, 2u, memory_order_relaxed);
      }

      v86 = v25;
      v26 = *(a4 + 24);
      if (v26)
      {
        atomic_fetch_add_explicit(v26, 2u, memory_order_relaxed);
      }

      v87 = v26;
      v27 = *(a4 + 32);
      if (v27)
      {
        atomic_fetch_add_explicit(v27, 2u, memory_order_relaxed);
      }

      v88 = v27;
      v89[0] = *(a4 + 40);
      *(v89 + 11) = *(a4 + 51);
      v28 = *(a4 + 72);
      if (v28)
      {
        atomic_fetch_add_explicit(v28, 2u, memory_order_relaxed);
      }

      v90 = v28;
      v29 = *(a4 + 80);
      if (v29)
      {
        atomic_fetch_add_explicit(v29, 2u, memory_order_relaxed);
      }

      v91 = v29;
      v30 = *(a4 + 104);
      v92 = *(a4 + 88);
      v93 = v30;
      WTF::Vector<unsigned short,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&__src, a4 + 120);
      v96 = *(a4 + 136);
      v32 = *a5;
      *a5 = 0;
      v97 = v32;
      {
        v33 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v66 = WebKit::WebProcess::operator new(0x370, v31);
        v33 = WebKit::WebProcess::WebProcess(v66);
        WebKit::WebProcess::singleton(void)::process = v33;
      }

      v34 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v33) + 24);
      v35 = v75;
      v75 = 0u;
      v108 = v35;
      v68 = v34;
      v67 = v76;
      v109 = v76;
      v36 = v77;
      v77 = 0u;
      v110 = v36;
      v111 = v78;
      v112 = v79;
      v37 = v80;
      if (v80)
      {
        atomic_fetch_add_explicit(v80, 2u, memory_order_relaxed);
      }

      v113 = v80;
      v114 = v81;
      v115 = v82;
      v116[0] = *v83;
      *(v116 + 9) = *&v83[9];
      v38 = v84;
      if (v84)
      {
        atomic_fetch_add_explicit(v84, 2u, memory_order_relaxed);
      }

      v70 = a2;
      v71 = a3;
      v117 = v84;
      v39 = v85;
      if (v85)
      {
        atomic_fetch_add_explicit(v85, 2u, memory_order_relaxed);
      }

      v118 = v85;
      v40 = v86;
      if (v86)
      {
        atomic_fetch_add_explicit(v86, 2u, memory_order_relaxed);
      }

      v72 = a4;
      v73 = v12;
      v119 = v86;
      v41 = v87;
      if (v87)
      {
        atomic_fetch_add_explicit(v87, 2u, memory_order_relaxed);
      }

      v120 = v87;
      v42 = v88;
      if (v88)
      {
        atomic_fetch_add_explicit(v88, 2u, memory_order_relaxed);
      }

      v121 = v88;
      v122[0] = v89[0];
      *(v122 + 11) = *(v89 + 11);
      v43 = v90;
      if (v90)
      {
        atomic_fetch_add_explicit(v90, 2u, memory_order_relaxed);
      }

      v123 = v90;
      v44 = v91;
      if (v91)
      {
        atomic_fetch_add_explicit(v91, 2u, memory_order_relaxed);
      }

      v124 = v91;
      v125 = v92;
      v126 = v93;
      v45 = v95;
      v128 = 0;
      v127 = 0;
      v129 = v95;
      if (v95)
      {
        if ((v95 & 0x80000000) != 0)
        {
          goto LABEL_90;
        }

        v46 = WTF::fastMalloc((2 * v95));
        v128 = v45;
        v127 = v46;
        memcpy(v46, __src, 2 * v95);
      }

      v130 = v96;
      v47 = v97;
      v97 = 0;
      v131 = v47;
      v48 = WTF::fastMalloc(0x118);
      v49 = v48;
      *v48 = &unk_1F11336C0;
      *(v48 + 8) = v35;
      v108 = 0u;
      *(v48 + 16) = *(&v35 + 1);
      *(v48 + 24) = v67;
      *(v48 + 32) = v36;
      v110 = 0u;
      *(v48 + 40) = *(&v36 + 1);
      *(v48 + 48) = v111;
      *(v48 + 50) = v112;
      if (v37)
      {
        atomic_fetch_add_explicit(v37, 2u, memory_order_relaxed);
      }

      *(v48 + 56) = v37;
      v50 = v115;
      *(v48 + 64) = v114;
      *(v48 + 80) = v50;
      v51 = v116[0];
      *(v48 + 105) = *(v116 + 9);
      *(v48 + 96) = v51;
      if (v38)
      {
        atomic_fetch_add_explicit(v38, 2u, memory_order_relaxed);
      }

      *(v48 + 128) = v38;
      if (v39)
      {
        atomic_fetch_add_explicit(v39, 2u, memory_order_relaxed);
      }

      *(v48 + 136) = v39;
      if (v40)
      {
        atomic_fetch_add_explicit(v40, 2u, memory_order_relaxed);
      }

      *(v48 + 144) = v40;
      if (v41)
      {
        atomic_fetch_add_explicit(v41, 2u, memory_order_relaxed);
      }

      *(v48 + 152) = v41;
      if (v42)
      {
        atomic_fetch_add_explicit(v42, 2u, memory_order_relaxed);
      }

      *(v48 + 160) = v42;
      v52 = v122[0];
      *(v48 + 179) = *(v122 + 11);
      *(v48 + 168) = v52;
      if (v43)
      {
        atomic_fetch_add_explicit(v43, 2u, memory_order_relaxed);
      }

      *(v48 + 200) = v43;
      if (v44)
      {
        atomic_fetch_add_explicit(v44, 2u, memory_order_relaxed);
      }

      *(v48 + 208) = v44;
      v53 = v125;
      *(v48 + 232) = v126;
      *(v48 + 216) = v53;
      WTF::Vector<unsigned short,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v48 + 248, &v127);
      *(v49 + 264) = v130;
      v54 = v131;
      v131 = 0;
      *(v49 + 272) = v54;
      WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)const::$_0::~$_0(&v108, v55);
      if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected != 1)
      {
        IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
        v58 = IPC::Encoder::operator new(0x238, v57);
        *v58 = 487;
        *(v58 + 68) = 0;
        *(v58 + 70) = 0;
        *(v58 + 69) = 0;
        *(v58 + 2) = 0;
        *(v58 + 3) = 0;
        *(v58 + 1) = 0;
        IPC::Encoder::encodeHeader(v58);
        v107 = v58;
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v58, (v70 + 1072));
        IPC::ArgumentCoder<WebKit::AppPrivacyReportTestingData,void>::encode(v58, &v104);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v58, v71);
        IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v58, &v102);
        IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v58, &v100);
        IPC::ArgumentCoder<WebCore::Cookie,void>::encode(v58, v72);
        LOBYTE(v108) = v69;
        IPC::Encoder::operator<<<BOOL>(v58, &v108);
        IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v58, &v98);
        *&v108 = v49;
        *(&v108 + 1) = IdentifierInternal;
        IPC::Connection::sendMessageWithAsyncReply(v68, &v107, &v108, 0, 0);
        v60 = v108;
        *&v108 = 0;
        v7 = v74;
        if (v60)
        {
          (*(*v60 + 8))(v60);
        }

        v61 = v107;
        v107 = 0;
        v12 = v73;
        if (v61)
        {
          IPC::Encoder::~Encoder(v61, v59);
          bmalloc::api::tzoneFree(v62, v63);
        }

        WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)const::$_0::~$_0(&v75, v59);
        if (!v73)
        {
          goto LABEL_6;
        }

LABEL_5:
        CFRelease(*(v12 + 1));
LABEL_6:
        if (v7[4] == 1)
        {
          (*(*v7 + 8))(v7);
        }

        else
        {
          --v7[4];
        }

        return;
      }

LABEL_90:
      __break(0xC471u);
      JUMPOUT(0x19E3C51F4);
    }
  }

  v64 = *a5;
  *a5 = 0;
  (*(*v64 + 16))(v64, 0);
  v65 = *(*v64 + 8);

  v65(v64);
}

uint64_t WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)const::$_0::~$_0(uint64_t a1, void *a2)
{
  v3 = *(a1 + 264);
  *(a1 + 264) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  WebCore::Cookie::~Cookie((a1 + 120), a2);
  v5 = *(a1 + 48);
  *(a1 + 48) = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, v4);
  }

  v6 = *(a1 + 32);
  *(a1 + 32) = 0;
  if (v6)
  {
    CFRelease(*(v6 + 8));
  }

  v7 = *(a1 + 24);
  *(a1 + 24) = 0;
  if (v7)
  {
    if (*(v7 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v7);
    }

    else
    {
      *(v7 + 7) -= 2;
    }
  }

  v8 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v8)
  {
    v9 = *v8;
    v10 = *(v8 + 8) - 1;
    *(v8 + 8) = v10;
    if (v9)
    {
      v11 = *v9;
      if (!*v9)
      {
        goto LABEL_18;
      }

      v12 = *(v8 + 16);
      *(v8 + 16) = 1;
      (*(*v11 + 16))(v11, 0);
      *(v8 + 16) = v12;
      if (*v8)
      {
        goto LABEL_18;
      }

      v10 = *(v8 + 8);
    }

    if (!v10)
    {
      MEMORY[0x19EB14CF0](v8, 0x1020C40545B2139);
    }
  }

LABEL_18:
  v13 = *a1;
  *a1 = 0;
  if (v13)
  {
    if (v13[4] == 1)
    {
      (*(*v13 + 120))(v13);
    }

    else
    {
      --v13[4];
    }
  }

  return a1;
}

void WebKit::WebCookieJar::addChangeListener(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  v3 = a2[69];
  if (v3)
  {
    v4 = *(v3 + 8);
    if (v4)
    {
      ++v4[4];
      WebKit::WebFrame::fromCoreFrame(v4, &v13);
      if (v4[4] == 1)
      {
        (*(*v4 + 8))(v4);
      }

      else
      {
        --v4[4];
      }

      v8 = v13;
      if (v13)
      {
        v9 = WebKit::WebFrame::page(v13);
        if (v9)
        {
          v10 = v9;
          CFRetain(*(v9 + 8));
          if (WebKit::shouldBlockCookies(v8, (a2 + 134), (a2 + 129), v11) != 1)
          {
            WebKit::WebCookieJar::addChangeListenerWithAccess(a1, (a2 + 100), a2 + 134, *(v8 + 11), *(v10 + 48), *(v10 + 1832), a3);
          }

          CFRelease(*(v10 + 8));
        }

        v12 = *(v8 + 1);

        CFRelease(v12);
      }
    }
  }
}

uint64_t WebKit::WebFoundTextRangeController::findTextRangesForStringMatches(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t *a5)
{
  v6 = *(a1 + 8);
  if (v6 && (v7 = *(v6 + 8)) != 0)
  {
    v8 = v7 - 16;
    CFRetain(*(v7 - 8));
  }

  else
  {
    v8 = 0;
  }

  v9 = *(v8 + 56);
  if (v9)
  {
    ++*(v9 + 8);
  }

  WebCore::Page::findTextMatches();
  if (v9)
  {
    WTF::RefCounted<WebCore::Page>::deref((v9 + 8));
  }

  CFRelease(*(v8 + 8));
  v11 = v104;
  v101 = v104;
  v12 = v105;
  v13 = HIDWORD(v105);
  v104 = 0;
  v105 = 0;
  v102 = v12;
  v103 = v13;
  v79 = a1;
  if (v13)
  {
    v14 = *(a1 + 80);
    v86 = (a1 + 80);
    if (v14)
    {
      *v86 = 0;
      WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(v14, v10);
    }

    v15 = 0;
    v16 = 0;
    v99 = 0;
    v100 = 0;
    v81 = (v11 + 32 * v13);
    while (1)
    {
      v17 = *(*(*v11 + 48) + 8);
      *(v17 + 28) += 2;
      v18 = *(v17 + 1336);
      if (v18)
      {
        break;
      }

LABEL_74:
      if (*(v17 + 28) == 2)
      {
        WebCore::Node::removedLastRef(v17);
      }

      else
      {
        *(v17 + 28) -= 2;
      }

      v11 = (v11 + 32);
      if (v11 == v81)
      {
        goto LABEL_91;
      }
    }

    *(v18 + 7) += 2;
    WebCore::FrameTree::uniqueName(&v98, (*(*(v17 + 552) + 8) + 40));
    v20 = v98;
    if (v16 == v98)
    {
      v20 = v16;
    }

    else
    {
      if (v98)
      {
        atomic_fetch_add_explicit(v98, 2u, memory_order_relaxed);
      }

      if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v16, v19);
      }

      ++v15;
    }

    *(v18 + 7) += 2;
    v93[0] = v18;
    LODWORD(v93[1]) = 0;
    WebCore::SimpleRange::SimpleRange();
    v21 = WebCore::characterCount();
    v22 = WebCore::characterCount();
    v23 = v107;
    *&v107 = 0;
    if (v23)
    {
      if (*(v23 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v23);
      }

      else
      {
        *(v23 + 7) -= 2;
      }
    }

    v24 = v106;
    *&v106 = 0;
    if (v24)
    {
      if (*(v24 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v24);
      }

      else
      {
        *(v24 + 7) -= 2;
      }
    }

    v25 = v93[0];
    v93[0] = 0;
    if (v25)
    {
      if (*(v25 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v25);
      }

      else
      {
        *(v25 + 7) -= 2;
      }
    }

    v93[0] = v21;
    v93[1] = v22;
    LOBYTE(v95) = 0;
    if (v20 && (v26 = v20, *(v20 + 1)) || (v26 = *MEMORY[0x1E696EB98]) != 0)
    {
      atomic_fetch_add_explicit(v26, 2u, memory_order_relaxed);
    }

    v96 = v26;
    v97 = v15;
    WebCore::SimpleRange::makeWeakSimpleRange(v11);
    LOBYTE(v108) = 0;
    v106 = 0uLL;
    v109 = 0;
    v110 = 0;
    if (WebKit::WebFoundTextRange::operator==(v93, &v106))
    {
      goto LABEL_138;
    }

    if (v96 == -1)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3C5E38);
    }

    v82 = v20;
    v83 = v15;
    v27 = *v86;
    if (*v86 || (WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand(v86, 0), (v27 = *v86) != 0))
    {
      v28 = *(v27 - 8);
    }

    else
    {
      v28 = 0;
    }

    v29 = WebKit::WebFoundTextRange::hash(v93) & v28;
    LOBYTE(v108) = 0;
    v30 = (v27 + 96 * v29);
    v106 = 0uLL;
    v109 = 0;
    v110 = 0;
    if (!WebKit::WebFoundTextRange::operator==(v30, &v106))
    {
      v31 = 0;
      v32 = 1;
      while (!WebKit::WebFoundTextRange::operator==(v30, v93))
      {
        if (v30[5] == -1)
        {
          v31 = v30;
        }

        v29 = (v29 + v32) & v28;
        LOBYTE(v108) = 0;
        v30 = (v27 + 96 * v29);
        v106 = 0uLL;
        v109 = 0;
        v110 = 0;
        ++v32;
        if (WebKit::WebFoundTextRange::operator==(v30, &v106))
        {
          if (v31)
          {
            *(v31 + 32) = 0;
            *v31 = 0;
            v31[1] = 0;
            *(v31 + 88) = 0;
            v31[5] = 0;
            v31[6] = 0;
            *(v31 + 56) = 0;
            --*(*v86 - 16);
            v30 = v31;
          }

          goto LABEL_48;
        }
      }

      goto LABEL_55;
    }

LABEL_48:
    WTF::GenericHashTraits<WebKit::WebFoundTextRange>::assignToEmpty<WebKit::WebFoundTextRange,WebKit::WebFoundTextRange const&>(v30, v93);
    *&v106 = v89;
    DWORD2(v106) = v90;
    v33 = v91;
    v89 = 0;
    v91 = 0;
    *&v107 = v33;
    DWORD2(v107) = v92;
    LOBYTE(v108) = 1;
    std::__optional_storage_base<WebCore::WeakSimpleRange,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::WeakSimpleRange,false>>((v30 + 7), &v106);
    if (v108 == 1)
    {
      v52 = v107;
      *&v107 = 0;
      if (v52)
      {
        WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v52, v10);
      }

      v53 = v106;
      *&v106 = 0;
      if (v53)
      {
        WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v53, v10);
      }
    }

    v34 = *v86;
    if (*v86)
    {
      v35 = *(v34 - 12) + 1;
    }

    else
    {
      v35 = 1;
    }

    *(v34 - 12) = v35;
    v36 = (*(v34 - 16) + v35);
    v37 = *(v34 - 4);
    if (v37 > 0x400)
    {
      if (v37 > 2 * v36)
      {
        goto LABEL_55;
      }
    }

    else if (3 * v37 > 4 * v36)
    {
LABEL_55:
      v38 = v91;
      v91 = 0;
      if (v38)
      {
        WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v38, v10);
      }

      v39 = v89;
      v89 = 0;
      v16 = v82;
      v15 = v83;
      if (v39)
      {
        WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v39, v10);
      }

      v40 = HIDWORD(v100);
      if (HIDWORD(v100) == v100)
      {
        v41 = WTF::Vector<WebKit::WebFoundTextRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v99, HIDWORD(v100) + 1, v93);
        v40 = HIDWORD(v100);
        v42 = v99 + 56 * HIDWORD(v100);
        v43 = *v41;
        v44 = *(v41 + 16);
        *(v42 + 32) = *(v41 + 32);
        *v42 = v43;
        *(v42 + 16) = v44;
        v45 = *(v41 + 40);
        if (v45)
        {
          atomic_fetch_add_explicit(v45, 2u, memory_order_relaxed);
          v40 = HIDWORD(v100);
        }

        *(v42 + 40) = v45;
        v46 = (v41 + 48);
      }

      else
      {
        v42 = v99 + 56 * HIDWORD(v100);
        v47 = *v93;
        v48 = v94;
        *(v42 + 32) = v95;
        *v42 = v47;
        *(v42 + 16) = v48;
        v49 = v96;
        if (v96)
        {
          atomic_fetch_add_explicit(v96, 2u, memory_order_relaxed);
          v40 = HIDWORD(v100);
        }

        *(v42 + 40) = v49;
        v46 = &v97;
      }

      *(v42 + 48) = *v46;
      HIDWORD(v100) = v40 + 1;
      v50 = v96;
      v96 = 0;
      if (v50 && atomic_fetch_add_explicit(v50, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v50, v10);
      }

      v51 = v98;
      v98 = 0;
      if (v51 && atomic_fetch_add_explicit(v51, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v51, v10);
      }

      if (*(v18 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v18);
      }

      else
      {
        *(v18 + 7) -= 2;
      }

      goto LABEL_74;
    }

    WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand(v86, v30);
    goto LABEL_55;
  }

  v16 = 0;
  v15 = 0;
  v99 = 0;
  v100 = 0;
LABEL_91:
  v54 = *(v79 + 8);
  if (!v54 || (v55 = *(v54 + 8)) == 0)
  {
LABEL_138:
    __break(0xC471u);
    JUMPOUT(0x19E3C5E18);
  }

  v56 = *(*(v55 + 40) + 176);
  ++*(v56 + 16);
  do
  {
    if (*(v56 + 136))
    {
      v57 = 0;
    }

    else
    {
      v57 = v56;
    }

    if ((*(v56 + 136) & 1) == 0)
    {
      ++*(v56 + 16);
      v58 = WebKit::WebPage::pluginViewForFrame(v56, v10);
      if (v58)
      {
        v61 = v58;
        ++*(v58 + 8);
        WebCore::FrameTree::uniqueName(&v89, (v56 + 40));
        ++v15;
        if (*(v61 + 137) == 1)
        {
          (*(**(v61 + 72) + 1216))(v93);
          v63 = v93[0];
          if (HIDWORD(v93[1]))
          {
            v64 = 32 * HIDWORD(v93[1]);
            do
            {
              v65 = *(v63 + 1);
              v106 = *v63;
              v107 = v65;
              LOBYTE(v108) = 1;
              if (v16 && (v66 = v16, *(v16 + 1)) || (v66 = *MEMORY[0x1E696EB98]) != 0)
              {
                atomic_fetch_add_explicit(v66, 2u, memory_order_relaxed);
              }

              v109 = v66;
              v110 = v15;
              if (HIDWORD(v100) == v100)
              {
                v84 = v64;
                v87 = v63;
                WTF::Vector<WebKit::WebFoundTextRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::WebFoundTextRange>(&v99, &v106);
                v64 = v84;
                v63 = v87;
              }

              else
              {
                v67 = HIDWORD(v100) + 1;
                v68 = v99 + 56 * HIDWORD(v100);
                v69 = v106;
                v70 = v107;
                *(v68 + 32) = v108;
                *v68 = v69;
                *(v68 + 16) = v70;
                v71 = v109;
                v109 = 0;
                *(v68 + 40) = v71;
                *(v68 + 48) = v110;
                HIDWORD(v100) = v67;
              }

              v72 = v109;
              v109 = 0;
              if (v72 && atomic_fetch_add_explicit(v72, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                v85 = v64;
                v88 = v63;
                WTF::StringImpl::destroy(v72, v62);
                v64 = v85;
                v63 = v88;
              }

              v63 = (v63 + 32);
              v64 -= 32;
            }

            while (v64);
            v63 = v93[0];
          }

          if (v63)
          {
            v93[0] = 0;
            LODWORD(v93[1]) = 0;
            WTF::fastFree(v63, v62);
          }
        }

        v73 = v89;
        v89 = 0;
        if (v73 && atomic_fetch_add_explicit(v73, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v73, v62);
        }

        if (*(v61 + 8) == 1)
        {
          (*(*v61 + 8))(v61);
        }

        else
        {
          --*(v61 + 8);
        }
      }

      if (*(v56 + 16) == 1)
      {
        (*(*v57 + 8))(v57);
      }

      else
      {
        --*(v56 + 16);
      }
    }

    v59 = WebCore::FrameTree::traverseNext((v56 + 40), 0);
    v60 = v59;
    if (v59)
    {
      ++*(v59 + 16);
    }

    if (*(v56 + 16) == 1)
    {
      (*(*v56 + 8))(v56);
    }

    else
    {
      --*(v56 + 16);
    }

    v56 = v60;
  }

  while (v60);
  v74 = *a5;
  *a5 = 0;
  (*(*v74 + 16))(v74, &v99);
  (*(*v74 + 8))(v74);
  WTF::Vector<WebKit::WebFoundTextRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v99, v75);
  if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v16, v76);
  }

  WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v101, v76);
  return WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v104, v77);
}

_DWORD **WTF::RefPtr<WebCore::Frame,WTF::RawPtrTraits<WebCore::Frame>,WTF::DefaultRefDerefTraits<WebCore::Frame>>::operator=(_DWORD **a1, _DWORD *a2)
{
  if (a2)
  {
    ++a2[4];
  }

  v3 = *a1;
  *a1 = a2;
  if (v3)
  {
    if (v3[4] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[4];
    }
  }

  return a1;
}

void WebKit::WebFoundTextRangeController::replaceFoundTextRangeWithString(WebKit::WebFoundTextRangeController **this, const WebKit::WebFoundTextRange *a2, const WTF::String *a3)
{
  v5 = *(a2 + 1);
  v21[0] = *a2;
  v21[1] = v5;
  v6 = *(a2 + 5);
  v22 = *(a2 + 4);
  if (v6)
  {
    atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed);
    v7 = *(a2 + 6);
    v23 = v6;
    v24 = v7;
    WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v25, this, v21);
    if (atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v6, v8);
    }
  }

  else
  {
    v9 = *(a2 + 6);
    v23 = 0;
    v24 = v9;
    WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v25, this, v21);
  }

  if (v27 == 1)
  {
    found = WebKit::WebFoundTextRangeController::documentForFoundTextRange(this[1], a2);
    if (found)
    {
      v11 = found;
      *(found + 28) += 2;
      v12 = *(found + 552);
      if (v12)
      {
        v13 = *(v12 + 8);
        if (v13)
        {
          ++*(v13 + 16);
          if ((v27 & 1) == 0)
          {
            __break(1u);
LABEL_29:
            WebCore::Node::removedLastRef(v11);
            goto LABEL_19;
          }

          WebCore::VisibleSelection::VisibleSelection();
          std::optional<WebCore::VisibleSelection>::optional[abi:sn200100]<WebCore::VisibleSelection&,0>(v18, v20);
          WebCore::TemporarySelectionChange::TemporarySelectionChange();
          if (v18[104] == 1)
          {
            WebCore::VisibleSelection::~VisibleSelection(v18);
          }

          v14 = *(v13 + 224);
          if (v14)
          {
            *(v14 + 7) += 2;
            v15 = WebCore::Document::editor(v14);
            if (*(v14 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v14);
            }

            else
            {
              *(v14 + 7) -= 2;
            }
          }

          else
          {
            v15 = WebCore::Document::editor(0);
          }

          WebCore::Editor::ref(v15);
          WebCore::Editor::replaceSelectionWithText();
          WebCore::Editor::deref(v15);
          MEMORY[0x19EB0BB50](v19);
          WebCore::VisibleSelection::~VisibleSelection(v20);
          if (*(v13 + 16) == 1)
          {
            (*(*v13 + 8))(v13);
          }

          else
          {
            --*(v13 + 16);
          }
        }
      }

      if (*(v11 + 7) != 2)
      {
        *(v11 + 7) -= 2;
        goto LABEL_19;
      }

      goto LABEL_29;
    }
  }

LABEL_19:
  if (v27 == 1)
  {
    v16 = v26;
    v26 = 0;
    if (v16)
    {
      if (*(v16 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v16);
      }

      else
      {
        *(v16 + 7) -= 2;
      }
    }

    v17 = v25[0];
    v25[0] = 0;
    if (v17)
    {
      if (*(v17 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v17);
      }

      else
      {
        *(v17 + 7) -= 2;
      }
    }
  }
}

void WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(_BYTE *a1, uint64_t a2, uint64_t a3)
{
  v44 = 0;
  v40 = 0;
  v41 = 0;
  v45 = 0;
  v46 = 0;
  if (WebKit::WebFoundTextRange::operator==(a3, &v40) || *(a3 + 40) == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3C6580);
  }

  v6 = *(a2 + 80);
  if (v6 || (WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand((a2 + 80), 0), (v6 = *(a2 + 80)) != 0))
  {
    v7 = *(v6 - 8);
  }

  else
  {
    v7 = 0;
  }

  v8 = WebKit::WebFoundTextRange::hash(a3) & v7;
  v44 = 0;
  v9 = v6 + 96 * v8;
  v40 = 0;
  v41 = 0;
  v45 = 0;
  v46 = 0;
  if (!WebKit::WebFoundTextRange::operator==(v9, &v40))
  {
    v33 = a2;
    v10 = a1;
    v11 = 0;
    v12 = 1;
    do
    {
      if (WebKit::WebFoundTextRange::operator==(v9, a3))
      {
        a1 = v10;
        goto LABEL_42;
      }

      if (*(v9 + 40) == -1)
      {
        v11 = v9;
      }

      v8 = (v8 + v12) & v7;
      v44 = 0;
      v9 = v6 + 96 * v8;
      v40 = 0;
      v41 = 0;
      v45 = 0;
      v46 = 0;
      ++v12;
    }

    while (!WebKit::WebFoundTextRange::operator==(v9, &v40));
    a1 = v10;
    a2 = v33;
    if (v11)
    {
      *(v11 + 32) = 0;
      *v11 = 0;
      *(v11 + 8) = 0;
      *(v11 + 88) = 0;
      *(v11 + 40) = 0;
      *(v11 + 48) = 0;
      *(v11 + 56) = 0;
      --*(*(v33 + 80) - 16);
      v9 = v11;
    }
  }

  WTF::GenericHashTraits<WebKit::WebFoundTextRange>::assignToEmpty<WebKit::WebFoundTextRange,WebKit::WebFoundTextRange const&>(v9, a3);
  if (*(a3 + 32) || (found = WebKit::WebFoundTextRangeController::documentForFoundTextRange(*(a2 + 8), a3)) == 0)
  {
    LOBYTE(v40) = 0;
    v44 = 0;
  }

  else
  {
    v15 = found;
    *(found + 28) += 2;
    v16 = *(found + 1336);
    *(v16 + 7) += 2;
    if (*(a3 + 32))
    {
      mpark::throw_bad_variant_access(found);
    }

    WebCore::makeRangeSelectingNodeContents(&v40, v16, v14);
    WebCore::resolveCharacterRange();
    v17 = v42;
    v42 = 0;
    if (v17)
    {
      if (*(v17 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v17);
      }

      else
      {
        *(v17 + 7) -= 2;
      }
    }

    v18 = v40;
    v40 = 0;
    if (v18)
    {
      if (*(v18 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v18);
      }

      else
      {
        *(v18 + 7) -= 2;
      }
    }

    WebCore::SimpleRange::makeWeakSimpleRange(&v38);
    v40 = v34;
    LODWORD(v41) = v35;
    v42 = v36;
    v43 = v37;
    v44 = 1;
    v19 = v39;
    v39 = 0;
    if (v19)
    {
      if (*(v19 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v19);
      }

      else
      {
        *(v19 + 7) -= 2;
      }
    }

    v20 = v38;
    v38 = 0;
    if (v20)
    {
      if (*(v20 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v20);
      }

      else
      {
        *(v20 + 7) -= 2;
      }
    }

    if (*(v16 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v16);
    }

    else
    {
      *(v16 + 7) -= 2;
    }

    if (*(v15 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v15);
    }

    else
    {
      *(v15 + 7) -= 2;
    }
  }

  std::__optional_storage_base<WebCore::WeakSimpleRange,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::WeakSimpleRange,false>>(v9 + 56, &v40);
  if (v44 == 1)
  {
    v31 = v42;
    v42 = 0;
    if (v31)
    {
      WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v31, v21);
    }

    v32 = v40;
    v40 = 0;
    if (v32)
    {
      WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v32, v21);
    }
  }

  v22 = *(a2 + 80);
  if (v22)
  {
    v23 = *(v22 - 12) + 1;
  }

  else
  {
    v23 = 1;
  }

  *(v22 - 12) = v23;
  v24 = (*(v22 - 16) + v23);
  v25 = *(v22 - 4);
  if (v25 <= 0x400)
  {
    if (3 * v25 > 4 * v24)
    {
      goto LABEL_42;
    }

    goto LABEL_40;
  }

  if (v25 <= 2 * v24)
  {
LABEL_40:
    v9 = WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand((a2 + 80), v9);
  }

LABEL_42:
  LOBYTE(v40) = 0;
  v44 = 0;
  if (*(v9 + 88) == 1)
  {
    v26 = *(v9 + 56);
    if (v26)
    {
      atomic_fetch_add(v26, 1u);
    }

    v40 = v26;
    LODWORD(v41) = *(v9 + 64);
    v27 = *(v9 + 72);
    if (v27)
    {
      atomic_fetch_add(v27, 1u);
    }

    v42 = v27;
    v43 = *(v9 + 80);
    v44 = 1;
    WebCore::makeSimpleRangeHelper(&v40, &v42, a1);
    if (v44)
    {
      v29 = v42;
      v42 = 0;
      if (v29)
      {
        WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v29, v28);
      }

      v30 = v40;
      v40 = 0;
      if (v30)
      {
        WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v30, v28);
      }
    }
  }

  else
  {
    *a1 = 0;
    a1[32] = 0;
  }
}

uint64_t WebKit::WebFoundTextRangeController::documentForFoundTextRange(WebKit::WebFoundTextRangeController *this, const WebKit::WebFoundTextRange *a2)
{
  v2 = WebKit::WebFoundTextRangeController::frameForFoundTextRange(this, a2);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 4);
  *(v2 + 4) = v3 + 1;
  v4 = *(v2 + 28);
  if (v3)
  {
    *(v2 + 4) = v3;
  }

  else
  {
    (*(*v2 + 8))(v2);
  }

  return v4;
}

uint64_t std::optional<WebCore::VisibleSelection>::optional[abi:sn200100]<WebCore::VisibleSelection&,0>(uint64_t result, uint64_t *a2)
{
  v2 = *a2;
  if (*a2)
  {
    *(v2 + 28) += 2;
  }

  *result = v2;
  v3 = *(a2 + 2);
  *(result + 12) = *(a2 + 12);
  *(result + 8) = v3;
  v4 = a2[2];
  if (v4)
  {
    *(v4 + 28) += 2;
  }

  *(result + 16) = v4;
  v5 = *(a2 + 6);
  *(result + 28) = *(a2 + 28);
  *(result + 24) = v5;
  v6 = a2[4];
  if (v6)
  {
    *(v6 + 28) += 2;
  }

  *(result + 32) = v6;
  v7 = *(a2 + 10);
  *(result + 44) = *(a2 + 44);
  *(result + 40) = v7;
  v8 = a2[6];
  if (v8)
  {
    *(v8 + 28) += 2;
  }

  *(result + 48) = v8;
  v9 = *(a2 + 14);
  *(result + 60) = *(a2 + 60);
  *(result + 56) = v9;
  v10 = a2[8];
  if (v10)
  {
    *(v10 + 28) += 2;
  }

  *(result + 64) = v10;
  v11 = *(a2 + 18);
  *(result + 76) = *(a2 + 76);
  *(result + 72) = v11;
  v12 = a2[10];
  if (v12)
  {
    *(v12 + 28) += 2;
  }

  *(result + 80) = v12;
  v13 = *(a2 + 22);
  *(result + 92) = *(a2 + 92);
  *(result + 88) = v13;
  *(result + 96) = *(a2 + 24);
  *(result + 104) = 1;
  return result;
}

_DWORD *WebKit::WebFoundTextRangeController::decorateTextRangeWithStyle(uint64_t a1, __int128 *a2, int a3)
{
  v82 = *MEMORY[0x1E69E9840];
  v74 = 0;
  v72 = 0;
  v73 = 0;
  v75 = 0;
  v76 = 0;
  result = WebKit::WebFoundTextRange::operator==(a2, &v72);
  if (result)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3C70DCLL);
  }

  if (*(a2 + 5) == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3C70FCLL);
  }

  v7 = *(a1 + 88);
  if (v7)
  {
    v8 = *(v7 - 2);
    v9 = WebKit::WebFoundTextRange::hash(a2) & v8;
    v10 = &v7[8 * v9];
    result = WebKit::WebFoundTextRange::operator==(v10, a2);
    if (result)
    {
LABEL_8:
      v7 = LOBYTE(v7[8 * v9 + 7]);
    }

    else
    {
      v11 = 1;
      while (1)
      {
        v74 = 0;
        v72 = 0;
        v73 = 0;
        v75 = 0;
        v76 = 0;
        result = WebKit::WebFoundTextRange::operator==(v10, &v72);
        if (result)
        {
          break;
        }

        v9 = (v9 + v11) & v8;
        v10 = &v7[8 * v9];
        result = WebKit::WebFoundTextRange::operator==(v10, a2);
        ++v11;
        if (result)
        {
          goto LABEL_8;
        }
      }

      v7 = 0;
    }
  }

  if (v7 != a3)
  {
    v74 = 0;
    v72 = 0;
    v73 = 0;
    v75 = 0;
    v76 = 0;
    if (WebKit::WebFoundTextRange::operator==(a2, &v72))
    {
      __break(0xC471u);
      JUMPOUT(0x19E3C711CLL);
    }

    if (*(a2 + 5) == -1)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3C713CLL);
    }

    v12 = *(a1 + 88);
    if (v12 || (WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::FindDecorationStyle>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand((a1 + 88)), (v12 = *(a1 + 88)) != 0))
    {
      v13 = *(v12 - 8);
    }

    else
    {
      v13 = 0;
    }

    v14 = WebKit::WebFoundTextRange::hash(a2);
    v74 = 0;
    v15 = v14 & v13;
    v16 = v12 + (v15 << 6);
    v72 = 0;
    v73 = 0;
    v75 = 0;
    v76 = 0;
    if (!WebKit::WebFoundTextRange::operator==(v16, &v72))
    {
      v63 = a3;
      v17 = 0;
      v18 = 1;
      do
      {
        if (WebKit::WebFoundTextRange::operator==(v16, a2))
        {
          a3 = v63;
          *(v16 + 56) = v63;
          goto LABEL_31;
        }

        if (*(v16 + 40) == -1)
        {
          v17 = v16;
        }

        v74 = 0;
        v15 = (v15 + v18) & v13;
        v16 = v12 + (v15 << 6);
        v72 = 0;
        v73 = 0;
        v75 = 0;
        v76 = 0;
        ++v18;
      }

      while (!WebKit::WebFoundTextRange::operator==(v16, &v72));
      a3 = v63;
      if (v17)
      {
        *(v17 + 32) = 0;
        *v17 = 0;
        *(v17 + 8) = 0;
        *(v17 + 40) = 0;
        *(v17 + 48) = 0;
        *(v17 + 56) = 0;
        --*(*(a1 + 88) - 16);
        v16 = v17;
      }
    }

    WTF::GenericHashTraits<WebKit::WebFoundTextRange>::assignToEmpty<WebKit::WebFoundTextRange,WebKit::WebFoundTextRange const&>(v16, a2);
    *(v16 + 56) = a3;
    v19 = *(a1 + 88);
    if (v19)
    {
      v20 = *(v19 - 12) + 1;
    }

    else
    {
      v20 = 1;
    }

    *(v19 - 12) = v20;
    v21 = (*(v19 - 16) + v20);
    v22 = *(v19 - 4);
    if (v22 > 0x400)
    {
      if (v22 > 2 * v21)
      {
        goto LABEL_31;
      }
    }

    else if (3 * v22 > 4 * v21)
    {
LABEL_31:
      if (v7 == 2 && WebKit::WebFoundTextRange::operator==(a2, (a1 + 24)))
      {
        v24 = *(a1 + 96);
        *(a1 + 96) = 0;
        if (v24)
        {
          WTF::RefCounted<WebCore::TextIndicator>::deref(v24);
        }

        *(a1 + 24) = 0;
        *(a1 + 32) = 0;
        *(a1 + 56) = 0;
        v25 = *(a1 + 64);
        *(a1 + 64) = 0;
        if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v25, v23);
        }

        *(a1 + 72) = 0;
      }

      v26 = a2[1];
      v64[0] = *a2;
      v64[1] = v26;
      v27 = *(a2 + 5);
      v65 = *(a2 + 4);
      if (v27)
      {
        atomic_fetch_add_explicit(v27, 2u, memory_order_relaxed);
      }

      v28 = *(a2 + 6);
      v66 = v27;
      v67 = v28;
      WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v68, a1, v64);
      v66 = 0;
      if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v27, v29);
      }

      if (v70 != 1)
      {
LABEL_81:
        if (v70 == 1)
        {
          v40 = v69;
          v69 = 0;
          if (v40)
          {
            if (*(v40 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v40);
            }

            else
            {
              *(v40 + 7) -= 2;
            }
          }

          v41 = v68[0];
          v68[0] = 0;
          if (v41)
          {
            if (*(v41 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v41);
            }

            else
            {
              *(v41 + 7) -= 2;
            }
          }
        }

        if (a3 != 2 || *(a2 + 32) != 1)
        {
          goto LABEL_117;
        }

        v42 = *a2;
        v43 = a2[1];
        *(a1 + 56) = *(a2 + 4);
        *(a1 + 40) = v43;
        *(a1 + 24) = v42;
        v44 = *(a2 + 5);
        if (v44)
        {
          atomic_fetch_add_explicit(v44, 2u, memory_order_relaxed);
        }

        v45 = *(a1 + 64);
        *(a1 + 64) = v44;
        if (v45 && atomic_fetch_add_explicit(v45, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v45, v29);
        }

        *(a1 + 72) = *(a2 + 6);
        if (*(a1 + 16))
        {
          WebKit::WebFoundTextRangeController::setTextIndicatorWithPDFRange(a1, (a1 + 24));
          goto LABEL_117;
        }

        WebKit::WebFoundTextRangeController::createTextIndicatorForPDFRange(v68, *(a1 + 8), (a1 + 24), 1);
        v46 = v68[0];
        if (!v68[0])
        {
LABEL_117:
          result = *(a1 + 16);
          if (result)
          {
            v60 = result + 4;
            ++result[4];
            WebCore::PageOverlay::setNeedsDisplay(result);
            return WTF::RefCounted<WebCore::PageOverlay>::deref(v60);
          }

          return result;
        }

        v47 = *(a1 + 8);
        if (v47 && (v48 = *(v47 + 8)) != 0)
        {
          v49 = (v48 - 16);
          CFRetain(*(v48 - 8));
          v46 = v68[0];
        }

        else
        {
          v49 = 0;
        }

        WebCore::TextIndicator::data(v46, &v72);
        WebKit::WebPage::setTextIndicator(v49, &v72);
        if ((v81 & 0x8000000000000) != 0)
        {
          v61 = (v81 & 0xFFFFFFFFFFFFLL);
          if (atomic_fetch_add((v81 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v61);
            WTF::fastFree(v61, v50);
          }
        }

        v51 = v80;
        v80 = 0;
        if (v51)
        {
          if (v51[4] == 1)
          {
            (*(*v51 + 8))(v51);
          }

          else
          {
            --v51[4];
          }
        }

        v52 = v79;
        v79 = 0;
        if (v52)
        {
          if (v52[4] == 1)
          {
            (*(*v52 + 8))(v52);
          }

          else
          {
            --v52[4];
          }
        }

        v53 = v78;
        v78 = 0;
        if (v53)
        {
          if (v53[4] == 1)
          {
            (*(*v53 + 8))(v53);
          }

          else
          {
            --v53[4];
          }
        }

        v54 = v76;
        if (v76)
        {
          v76 = 0;
          v77 = 0;
          WTF::fastFree(v54, v50);
          if (!v49)
          {
LABEL_115:
            v55 = v68[0];
            v68[0] = 0;
            if (v55)
            {
              WTF::RefCounted<WebCore::TextIndicator>::deref(v55);
            }

            goto LABEL_117;
          }
        }

        else if (!v49)
        {
          goto LABEL_115;
        }

        CFRelease(v49[1]);
        goto LABEL_115;
      }

      if (a3 == 2)
      {
        v30 = *a2;
        v31 = a2[1];
        *(a1 + 56) = *(a2 + 4);
        *(a1 + 40) = v31;
        *(a1 + 24) = v30;
        v32 = *(a2 + 5);
        if (v32)
        {
          atomic_fetch_add_explicit(v32, 2u, memory_order_relaxed);
        }

        found = *(a1 + 64);
        *(a1 + 64) = v32;
        if (found && atomic_fetch_add_explicit(found, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          found = WTF::StringImpl::destroy(found, v29);
        }

        *(a1 + 72) = *(a2 + 6);
        if (v70)
        {
          v27 = v68[0];
          *(v68[0] + 7) += 2;
          found = WebCore::revealClosedDetailsAndHiddenUntilFoundAncestors(v27, v29);
          if (*(v27 + 7) == 2)
          {
            found = WebCore::Node::removedLastRef(v27);
          }

          else
          {
            *(v27 + 7) -= 2;
          }

          if (*(a1 + 16))
          {
            if (v70)
            {
              WebKit::WebFoundTextRangeController::setTextIndicatorWithRange(a1, v68);
              goto LABEL_81;
            }
          }

          else if (v70)
          {
            v27 = *(*(v68[0] + 6) + 8);
            *(v27 + 7) += 2;
            WebCore::VisibleSelection::VisibleSelection();
            WebCore::FrameSelection::setSelection();
            WebCore::VisibleSelection::~VisibleSelection(&v72);
            WebKit::WebFoundTextRangeController::createTextIndicatorForRange(&v71, a1);
            v34 = v71;
            if (!v71)
            {
              goto LABEL_79;
            }

            v35 = *(a1 + 8);
            if (v35 && (v36 = *(v35 + 8)) != 0)
            {
              v7 = (v36 - 16);
              CFRetain(*(v36 - 8));
              v34 = v71;
            }

            else
            {
              v7 = 0;
            }

            WebCore::TextIndicator::data(v34, &v72);
            WebKit::WebPage::setTextIndicator(v7, &v72);
            if ((v81 & 0x8000000000000) != 0)
            {
              v62 = (v81 & 0xFFFFFFFFFFFFLL);
              if (atomic_fetch_add((v81 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
              {
                atomic_store(1u, v62);
                WTF::fastFree(v62, v29);
              }
            }

            found = v80;
            v80 = 0;
            if (found)
            {
              if (*(found + 4) == 1)
              {
LABEL_143:
                (*(*found + 8))(found);
                goto LABEL_127;
              }

              --*(found + 4);
            }

LABEL_127:
            v56 = v79;
            v79 = 0;
            if (v56)
            {
              if (v56[4] == 1)
              {
                (*(*v56 + 8))(v56);
              }

              else
              {
                --v56[4];
              }
            }

            v57 = v78;
            v78 = 0;
            if (v57)
            {
              if (v57[4] == 1)
              {
                (*(*v57 + 8))(v57);
              }

              else
              {
                --v57[4];
              }
            }

            v58 = v76;
            if (v76)
            {
              v76 = 0;
              v77 = 0;
              WTF::fastFree(v58, v29);
            }

            if (v7)
            {
              CFRelease(v7[1]);
            }

            v59 = v71;
            v71 = 0;
            if (v59)
            {
              WTF::RefCounted<WebCore::TextIndicator>::deref(v59);
            }

            goto LABEL_79;
          }
        }
      }

      else
      {
        if (a3 != 1)
        {
          if (a3)
          {
            goto LABEL_81;
          }

          v27 = *(*(v68[0] + 6) + 8);
          *(v27 + 7) += 2;
          v7 = *(v27 + 195);
          if (v7)
          {
            ++*v7;
            goto LABEL_77;
          }

          found = WebCore::Document::ensureMarkers(v27);
          v7 = found;
          v39 = v70;
          ++*found;
          if (v39)
          {
LABEL_77:
            WebCore::DocumentMarkerController::removeMarkers();
            v38 = *v7;
            if (*v7)
            {
LABEL_78:
              *v7 = v38 - 1;
LABEL_79:
              if (*(v27 + 7) == 2)
              {
                WebCore::Node::removedLastRef(v27);
              }

              else
              {
                *(v27 + 7) -= 2;
              }

              goto LABEL_81;
            }

LABEL_158:
            __break(0xC471u);
            JUMPOUT(0x19E3C6C4CLL);
          }

          goto LABEL_142;
        }

        v27 = *(*(v68[0] + 6) + 8);
        *(v27 + 7) += 2;
        v7 = *(v27 + 195);
        if (v7)
        {
          ++*v7;
          goto LABEL_72;
        }

        found = WebCore::Document::ensureMarkers(v27);
        v7 = found;
        v37 = v70;
        ++*found;
        if (v37)
        {
LABEL_72:
          v72 = 0;
          LOBYTE(v76) = 0;
          WebCore::DocumentMarkerController::addMarker();
          if (v76 != 255)
          {
            mpark::detail::visitation::alt::visit_alt<mpark::detail::dtor,mpark::detail::destructor<mpark::detail::traits<WTF::String,WebCore::DocumentMarker::DictationData,WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::RetainPtr<objc_object *>,WTF::RefPtr<WebCore::Node,WTF::RawPtrTraits<WebCore::Node>,WTF::DefaultRefDerefTraits<WebCore::Node>>,WebCore::DocumentMarker::WritingToolsTextSuggestionData,WebCore::DocumentMarker::TransparentContentData>,(mpark::detail::Trait)1> &>(&v71, &v72);
          }

          v38 = *v7;
          if (*v7)
          {
            goto LABEL_78;
          }

          goto LABEL_158;
        }
      }

LABEL_142:
      __break(1u);
      goto LABEL_143;
    }

    WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::FindDecorationStyle>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand((a1 + 88));
    goto LABEL_31;
  }

  return result;
}

WebCore::TextIndicator *WebKit::WebFoundTextRangeController::setTextIndicatorWithRange(WebKit::WebFoundTextRangeController *this, const WebCore::SimpleRange *a2)
{
  WebKit::WebFoundTextRangeController::createTextIndicatorForRange(&v5, this);
  v3 = v5;
  v5 = 0;
  result = *(this + 12);
  *(this + 12) = v3;
  if (result)
  {
    WTF::RefCounted<WebCore::TextIndicator>::deref(result);
    result = v5;
    v5 = 0;
    if (result)
    {
      return WTF::RefCounted<WebCore::TextIndicator>::deref(result);
    }
  }

  return result;
}

WebCore::TextIndicator *WebKit::WebFoundTextRangeController::setTextIndicatorWithPDFRange(WebKit::WebFoundTextRangeController **this, const WebKit::WebFoundTextRange *a2)
{
  WebKit::WebFoundTextRangeController::createTextIndicatorForPDFRange(&v5, this[1], a2, 0);
  v3 = v5;
  v5 = 0;
  result = this[12];
  this[12] = v3;
  if (result)
  {
    WTF::RefCounted<WebCore::TextIndicator>::deref(result);
    result = v5;
    v5 = 0;
    if (result)
    {
      return WTF::RefCounted<WebCore::TextIndicator>::deref(result);
    }
  }

  return result;
}

void WebKit::WebFoundTextRangeController::scrollTextRangeToVisible(WebKit::WebFoundTextRangeController **this, const WebKit::WebFoundTextRange *a2)
{
  if (*(a2 + 32) != 1)
  {
    if (*(a2 + 32))
    {
      mpark::throw_bad_variant_access(this);
    }

    v4 = *(a2 + 1);
    v23[0] = *a2;
    v23[1] = v4;
    v5 = *(a2 + 5);
    v24 = *(a2 + 4);
    if (v5)
    {
      atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed);
      v6 = *(a2 + 6);
      v25 = v5;
      v26 = v6;
      WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v27, this, v23);
      if (atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v5, v7);
      }
    }

    else
    {
      v12 = *(a2 + 6);
      v25 = 0;
      v26 = v12;
      WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v27, this, v23);
    }

    if (v29 != 1)
    {
      goto LABEL_18;
    }

    found = WebKit::WebFoundTextRangeController::documentForFoundTextRange(this[1], a2);
    if (!found)
    {
      goto LABEL_18;
    }

    v14 = found;
    *(found + 28) += 2;
    if (v29)
    {
      WebCore::VisibleSelection::VisibleSelection();
      WebCore::Document::mainFrameDocument(v14);
      std::optional<WebCore::VisibleSelection>::optional[abi:sn200100]<WebCore::VisibleSelection&,0>(v20, v22);
      WebCore::TemporarySelectionChange::TemporarySelectionChange();
      if (v20[104] == 1)
      {
        WebCore::VisibleSelection::~VisibleSelection(v20);
      }

      MEMORY[0x19EB0BB50](v21);
      WebCore::VisibleSelection::~VisibleSelection(v22);
      if (*(v14 + 7) != 2)
      {
        *(v14 + 7) -= 2;
        goto LABEL_18;
      }
    }

    else
    {
      __break(1u);
    }

    WebCore::Node::removedLastRef(v14);
LABEL_18:
    if (v29 == 1)
    {
      v15 = v28;
      v28 = 0;
      if (v15)
      {
        if (*(v15 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v15);
        }

        else
        {
          *(v15 + 7) -= 2;
        }
      }

      v16 = v27[0];
      v27[0] = 0;
      if (v16)
      {
        if (*(v16 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v16);
        }

        else
        {
          *(v16 + 7) -= 2;
        }
      }
    }

    return;
  }

  v8 = WebKit::WebFoundTextRangeController::frameForFoundTextRange(this[1], a2);
  if (v8)
  {
    v10 = v8;
    ++*(v8 + 4);
    v11 = WebKit::WebPage::pluginViewForFrame(v8, v9);
    if (v11)
    {
      v18 = *(v11 + 8);
      *(v11 + 8) = v18 + 1;
      v19 = v11;
      if (*(v11 + 137) == 1)
      {
        (*(**(v11 + 72) + 1240))(*(v11 + 72), a2);
        v18 = v19[2] - 1;
      }

      if (v18)
      {
        v19[2] = v18;
      }

      else
      {
        (*(*v19 + 8))(v19);
      }
    }

    if (*(v10 + 4) == 1)
    {
      v17 = *(*v10 + 8);

      v17(v10);
    }

    else
    {
      --*(v10 + 4);
    }
  }
}

_DWORD *WebKit::WebFoundTextRangeController::clearAllDecoratedFoundText(WebKit::WebFoundTextRangeController *this, void *a2)
{
  v3 = *(this + 10);
  if (v3)
  {
    *(this + 10) = 0;
    WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 11);
  if (v4)
  {
    *(this + 11) = 0;
    WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::FindDecorationStyle>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  v5 = *(this + 1);
  if (v5 && (v6 = *(v5 + 8)) != 0)
  {
    v7 = v6 - 16;
    CFRetain(*(v6 - 8));
  }

  else
  {
    v7 = 0;
  }

  v8 = *(v7 + 56);
  if (v8)
  {
    v9 = v8 + 2;
    ++v8[2];
    WebCore::Page::unmarkAllTextMatches(v8);
    WTF::RefCounted<WebCore::Page>::deref(v9);
  }

  else
  {
    WebCore::Page::unmarkAllTextMatches(0);
  }

  CFRelease(*(v7 + 8));
  *(this + 3) = 0;
  *(this + 4) = 0;
  *(this + 56) = 0;
  v11 = *(this + 8);
  *(this + 8) = 0;
  if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v11, v10);
  }

  *(this + 9) = 0;
  v12 = *(this + 12);
  *(this + 12) = 0;
  if (v12)
  {
    WTF::RefCounted<WebCore::TextIndicator>::deref(v12);
  }

  result = *(this + 2);
  if (result)
  {
    v14 = result + 4;
    ++result[4];
    WebCore::PageOverlay::setNeedsDisplay(result);

    return WTF::RefCounted<WebCore::PageOverlay>::deref(v14);
  }

  return result;
}

uint64_t WebKit::WebFoundTextRangeController::didBeginTextSearchOperation(WebKit::WebFoundTextRangeController *this)
{
  v2 = *(this + 2);
  if (v2)
  {
    v7 = v2 + 4;
    ++v2[4];
    WebCore::PageOverlay::stopFadeOutAnimation(v2);
    WTF::RefCounted<WebCore::PageOverlay>::deref(v7);
  }

  else
  {
    WebCore::PageOverlay::create();
    v3 = *(this + 1);
    if (!v3 || !*(v3 + 8))
    {
      result = 121;
      __break(0xC471u);
      return result;
    }

    WebCore::PageOverlayController::installPageOverlay();
    v4 = *(this + 2);
    *(this + 2) = v9;
    if (v4)
    {
      WTF::RefCounted<WebCore::PageOverlay>::deref((v4 + 16));
    }
  }

  v5 = *(this + 2);
  if (!v5)
  {
    return WebCore::PageOverlay::setNeedsDisplay(0);
  }

  v8 = v5 + 4;
  ++v5[4];
  WebCore::PageOverlay::setNeedsDisplay(v5);
  return WTF::RefCounted<WebCore::PageOverlay>::deref(v8);
}

uint64_t WebKit::WebFoundTextRangeController::addLayerForFindOverlay(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 16);
  if (v3)
  {
    goto LABEL_2;
  }

  WebCore::PageOverlay::create();
  v6 = *(a1 + 8);
  if (!v6 || !*(v6 + 8))
  {
    result = 121;
    __break(0xC471u);
    return result;
  }

  WebCore::PageOverlayController::installPageOverlay();
  WebCore::PageOverlay::protectedLayer(&v14, v16[0]);
  (*(*v14 + 320))(0.0);
  v7 = v14;
  *&v14 = 0;
  if (v7)
  {
    if (v7[2] == 1)
    {
      (*(*v7 + 16))(v7);
    }

    else
    {
      --v7[2];
    }
  }

  v3 = v16[0];
  v16[0] = 0;
  v8 = *(a1 + 16);
  *(a1 + 16) = v3;
  if (v8)
  {
    WTF::RefCounted<WebCore::PageOverlay>::deref((v8 + 16));
    v12 = v16[0];
    v16[0] = 0;
    if (v12)
    {
      WTF::RefCounted<WebCore::PageOverlay>::deref(v12 + 4);
    }

    v3 = *(a1 + 16);
    if (v3)
    {
      goto LABEL_2;
    }

LABEL_10:
    v4 = 1;
    goto LABEL_11;
  }

  if (!v3)
  {
    goto LABEL_10;
  }

LABEL_2:
  v4 = 0;
  ++*(v3 + 4);
LABEL_11:
  WebCore::PageOverlay::protectedLayer(&v13, v3);
  (*(*v13 + 32))(&v14);
  v9 = *a2;
  *a2 = 0;
  v17 = v15;
  *v16 = v14;
  (*(*v9 + 16))(v9, v16);
  (*(*v9 + 8))(v9);
  v10 = v13;
  v13 = 0;
  if (v10)
  {
    if (v10[2] == 1)
    {
      (*(*v10 + 16))(v10);
    }

    else
    {
      --v10[2];
    }
  }

  result = WebCore::PageOverlay::setNeedsDisplay(v3);
  if ((v4 & 1) == 0)
  {
    return WTF::RefCounted<WebCore::PageOverlay>::deref(v3 + 4);
  }

  return result;
}

uint64_t WebKit::WebFoundTextRangeController::removeLayerForFindOverlay(uint64_t this)
{
  v1 = *(this + 16);
  if (v1)
  {
    v2 = (v1 + 16);
    ++*(v1 + 16);
    v3 = *(this + 8);
    if (v3 && *(v3 + 8))
    {
      WebCore::PageOverlayController::uninstallPageOverlay();

      return WTF::RefCounted<WebCore::PageOverlay>::deref(v2);
    }

    else
    {
      this = 121;
      __break(0xC471u);
    }
  }

  return this;
}

WTF *WebKit::WebFoundTextRangeController::requestRectForFoundTextRange(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a2 + 16);
  v25[0] = *a2;
  v25[1] = v4;
  v5 = *(a2 + 40);
  v26 = *(a2 + 32);
  if (v5)
  {
    atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed);
    v6 = *(a2 + 48);
    v27 = v5;
    v28 = v6;
    WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v29, a1, v25);
    if (atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v5, v7);
    }
  }

  else
  {
    v8 = *(a2 + 48);
    v27 = 0;
    v28 = v8;
    WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v29, a1, v25);
  }

  if (v31)
  {
    v9 = *(*(*(*(*(v29[0] + 48) + 8) + 552) + 8) + 216);
    if (v9)
    {
      ++*(v9 + 2);
    }

    WebCore::RenderObject::absoluteTextRects();
    v22[0] = WebCore::unionRect();
    v22[1] = v10;
    v23[0] = WebCore::ScrollView::contentsToRootView(v9, v22);
    v23[1] = v11;
    WebCore::FloatRect::FloatRect(v24, v23);
    v12 = *v24;
    v13 = *&v24[1];
    v14 = *&v24[2];
    v15 = *&v24[3];
    v16 = *a3;
    *a3 = 0;
    (*(*v16 + 16))(v16, v12, v13, v14, v15);
    (*(*v16 + 8))(v16);
    result = v21;
    if (v21)
    {
      result = WTF::fastFree(v21, v17);
    }

    if (v9)
    {
      if (*(v9 + 2) == 1)
      {
        result = (*(*v9 + 8))(v9);
      }

      else
      {
        --*(v9 + 2);
      }
    }
  }

  else
  {
    v19 = *a3;
    *a3 = 0;
    (*(*v19 + 16))(v19, 0.0, 0.0, 0.0, 0.0);
    result = (*(*v19 + 8))(v19);
  }

  if (v31 == 1)
  {
    v20 = v30;
    v30 = 0;
    if (v20)
    {
      if (*(v20 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v20);
      }

      else
      {
        *(v20 + 7) -= 2;
      }
    }

    result = v29[0];
    v29[0] = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        return WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }
  }

  return result;
}

uint64_t WebKit::WebFoundTextRangeController::redraw(uint64_t this)
{
  v1 = *(this + 16);
  if (v1)
  {
    ++*(v1 + 16);
    v2 = v1;
    v3 = 1;
    v4[0] = this;
    v4[1] = this;
    if (*(this + 56) == 1)
    {
      WebKit::WebFoundTextRangeController::setTextIndicatorWithPDFRange(this, (this + 24));
    }

    else
    {
      if (*(this + 56))
      {
        mpark::throw_bad_variant_access(this);
      }

      WebKit::WebFoundTextRangeController::redraw(void)::$_0::operator()(v4, this + 24);
    }

    return WTF::ScopeExit<WebKit::WebFoundTextRangeController::redraw(void)::$_2>::~ScopeExit(&v2);
  }

  return this;
}

uint64_t WTF::ScopeExit<WebKit::WebFoundTextRangeController::redraw(void)::$_2>::~ScopeExit(uint64_t a1)
{
  if (*(a1 + 8) == 1)
  {
    WebCore::PageOverlay::setNeedsDisplay(*a1);
  }

  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    WTF::RefCounted<WebCore::PageOverlay>::deref(v2 + 4);
  }

  return a1;
}

_DWORD *WebKit::WebFoundTextRangeController::willMoveToPage(_DWORD *this, WebCore::PageOverlay *a2, WebCore::Page *a3)
{
  if (!a3)
  {
    v3 = *(this + 2);
    *(this + 2) = 0;
    if (v3)
    {
      return WTF::RefCounted<WebCore::PageOverlay>::deref((v3 + 16));
    }
  }

  return this;
}

WTF *WebKit::WebFoundTextRangeController::drawRect(WebKit::WebFoundTextRangeController *this, WebCore::PageOverlay *a2, WebCore::GraphicsContext *a3, int8x16_t *a4)
{
  v4.i64[0] = 0xFFFFFFFF00000000;
  v4.i64[1] = 0xFFFFFFFF00000000;
  v99 = vaddq_s64(vbslq_s8(v4, *a4, vaddq_s64(*a4, xmmword_19E704900)), xmmword_19E704910);
  v91 = 0;
  v92 = 0;
  v5 = *(this + 1);
  if (!v5 || (v6 = *(v5 + 8)) == 0)
  {
    __break(0xC471u);
    goto LABEL_161;
  }

  v9 = *(*(v6 + 40) + 176);
  ++v9[4];
  v10 = (*(*v9 + 56))(v9, a2);
  v12 = v10;
  if (v10)
  {
    ++*(v10 + 8);
  }

  ++v9[4];
  v13 = v9;
  do
  {
    if (*(v13 + 136))
    {
      v14 = 0;
    }

    else
    {
      v14 = v13;
    }

    if ((*(v13 + 136) & 1) == 0)
    {
      ++*(v13 + 16);
      v15 = WebKit::WebPage::pluginViewForFrame(v13, v11);
      if (!v15)
      {
        v16 = *(v13 + 224);
        if (v16)
        {
          *(v16 + 28) += 2;
          if (!*(v16 + 1560))
          {
            WebCore::Document::ensureMarkers(v16);
          }

          WebCore::DocumentMarkerController::renderedRectsForMarkers();
          v18 = v100;
          if (HIDWORD(v101))
          {
            v19 = 16 * HIDWORD(v101);
            do
            {
              *v98 = *v18;
              v20 = *(v13 + 120);
              if (v20)
              {
                v20 = *(v20 + 8);
              }

              if (v20 != v14)
              {
                v21 = *(v13 + 216);
                if (v21)
                {
                  ++*(v21 + 2);
                }

                v93[0] = WebCore::enclosingIntRect(v98, v17);
                v93[1] = v22;
                v94[0] = WebCore::ScrollView::contentsToWindow(v21, v93);
                v94[1] = v23;
                v95 = WebCore::ScrollView::windowToContents(v12, v94);
                v96 = v24;
                WebCore::FloatRect::FloatRect(v97, &v95);
                *v98 = *v97;
                if (v21)
                {
                  if (*(v21 + 2) == 1)
                  {
                    (*(*v21 + 8))(v21);
                  }

                  else
                  {
                    --*(v21 + 2);
                  }
                }
              }

              if (*&v98[1] > 0.0 && *(&v98[1] + 1) > 0.0)
              {
                WebCore::FloatRect::FloatRect(v97, &v99);
                if (WebCore::FloatRect::intersects(v98, v97))
                {
                  v25 = HIDWORD(v92);
                  if (HIDWORD(v92) == v92)
                  {
                    v26 = WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v91, HIDWORD(v92) + 1, v98);
                    v25 = HIDWORD(v92);
                    v27 = v91;
                    v28 = *v26;
                  }

                  else
                  {
                    v27 = v91;
                    v28 = *v98;
                  }

                  *(v27 + v25) = v28;
                  ++HIDWORD(v92);
                }
              }

              v18 = (v18 + 16);
              v19 -= 16;
            }

            while (v19);
            v18 = v100;
          }

          if (v18)
          {
            v100 = 0;
            LODWORD(v101) = 0;
            WTF::fastFree(v18, v17);
          }

          if (*(v16 + 28) == 2)
          {
            WebCore::Node::removedLastRef(v16);
          }

          else
          {
            *(v16 + 28) -= 2;
          }
        }

LABEL_38:
        if (*(v13 + 16) == 1)
        {
          (*(*v13 + 8))(v13);
        }

        else
        {
          --*(v13 + 16);
        }

        goto LABEL_40;
      }

      v31 = v15;
      ++*(v15 + 8);
      WebCore::FrameTree::uniqueName(v97, (v13 + 40));
      v33 = v97[0];
      if (!v97[0] || !*(v97[0] + 1))
      {
        v34 = *MEMORY[0x1E696EB98];
        if (*MEMORY[0x1E696EB98])
        {
          atomic_fetch_add_explicit(v34, 2u, memory_order_relaxed);
          v33 = v97[0];
        }

        v97[0] = v34;
        if (v33 && atomic_fetch_add_explicit(v33, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v33, v32);
        }
      }

      v98[0] = 0;
      v98[1] = 0;
      v35 = *(this + 11);
      if (v35)
      {
        v36 = *(v35 - 4);
        v37 = v35 + (v36 << 6);
        if (*(v35 - 12))
        {
          if (!v36)
          {
            v40 = 0;
            v39 = *(this + 11);
            goto LABEL_69;
          }

          v38 = v36 << 6;
          v39 = *(this + 11);
          while (1)
          {
            v105 = 0;
            v100 = 0;
            v101 = 0;
            v106 = 0;
            v107 = 0;
            if (!WebKit::WebFoundTextRange::operator==(v39, &v100) && *(v39 + 40) != -1)
            {
              break;
            }

            v39 += 64;
            v38 -= 64;
            if (!v38)
            {
              v39 = v37;
              break;
            }
          }

LABEL_66:
          if (!v35)
          {
LABEL_70:
            if (v35 != v39)
            {
              v89 = 0;
              v41 = 0;
              do
              {
                if (*(v39 + 56) == 1 && *(v39 + 40) == v97[0] && *(v39 + 32) == 1)
                {
                  if (v41 == LODWORD(v98[1]))
                  {
                    v42 = WTF::Vector<WebKit::DocumentEditingContext::TextRectAndRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(v98, v41 + 1, v39);
                    v41 = HIDWORD(v98[1]);
                    v89 = v98[0];
                    v43 = (v98[0] + 32 * HIDWORD(v98[1]));
                    v44 = v42[1];
                    *v43 = *v42;
                    v43[1] = v44;
                  }

                  else
                  {
                    v45 = *(v39 + 16);
                    v46 = (v89 + 32 * v41);
                    *v46 = *v39;
                    v46[1] = v45;
                  }

                  HIDWORD(v98[1]) = ++v41;
                }

                do
                {
                  v39 += 64;
                  if (v39 == v37)
                  {
                    break;
                  }

                  v105 = 0;
                  v100 = 0;
                  v101 = 0;
                  v106 = 0;
                  v107 = 0;
                }

                while (WebKit::WebFoundTextRange::operator==(v39, &v100) || *(v39 + 40) == -1);
              }

              while (v39 != v35);
            }

            if (*(v31 + 137))
            {
              (*(**(v31 + 72) + 1224))(&v100);
              v47 = HIDWORD(v101);
            }

            else
            {
              v47 = 0;
              v100 = 0;
              v101 = 0;
            }

            v48 = HIDWORD(v92) + v47;
            if (v48 > v92)
            {
              v49 = v92 + (v92 >> 1);
              if (v49 <= v92 + 1)
              {
                v49 = v92 + 1;
              }

              if (v49 <= v48)
              {
                v49 = v48;
              }

              if (v49 <= 0x10)
              {
                v50 = 16;
              }

              else
              {
                v50 = v49;
              }

              WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v91, v50);
              v47 = HIDWORD(v101);
            }

            v51 = v100;
            if (v47)
            {
              v52 = HIDWORD(v92);
              v53 = 16 * v47;
              do
              {
                v54 = *v51;
                v51 = (v51 + 16);
                *(v91 + v52) = v54;
                v52 = ++HIDWORD(v92);
                v53 -= 16;
              }

              while (v53);
              v51 = v100;
            }

            if (v51)
            {
              v100 = 0;
              LODWORD(v101) = 0;
              WTF::fastFree(v51, v32);
            }

            v55 = v98[0];
            if (v98[0])
            {
              v98[0] = 0;
              LODWORD(v98[1]) = 0;
              WTF::fastFree(v55, v32);
            }

            v56 = v97[0];
            v97[0] = 0;
            if (v56 && atomic_fetch_add_explicit(v56, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v56, v32);
            }

            if (*(v31 + 8) == 1)
            {
              (*(*v31 + 8))(v31);
            }

            else
            {
              --*(v31 + 8);
            }

            goto LABEL_38;
          }

          v40 = *(v35 - 4);
LABEL_69:
          v35 += v40 << 6;
          goto LABEL_70;
        }
      }

      else
      {
        v37 = 0;
        v36 = 0;
      }

      v39 = v37;
      v37 = v35 + (v36 << 6);
      goto LABEL_66;
    }

LABEL_40:
    v29 = WebCore::FrameTree::traverseNext((v13 + 40), 0);
    v30 = v29;
    if (v29)
    {
      ++*(v29 + 16);
    }

    if (*(v13 + 16) == 1)
    {
      (*(*v13 + 8))(v13);
    }

    else
    {
      --*(v13 + 16);
    }

    v13 = v30;
  }

  while (v30);
  if (v12)
  {
    if (*(v12 + 2) == 1)
    {
      (*(*v12 + 8))(v12);
    }

    else
    {
      --*(v12 + 2);
    }
  }

  if (v9[4] == 1)
  {
    (*(*v9 + 8))(v9);
  }

  else
  {
    --v9[4];
  }

  WebCore::FloatRect::FloatRect(&v100, a4);
  v99.i64[0] = 0x110400001A1A1A40;
  (*(*a3 + 232))(a3, &v100, &v99);
  if ((v99.i64[0] & 0x8000000000000) != 0)
  {
    v85 = (v99.i64[0] & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v99.i64[0] & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v85);
      WTF::fastFree(v85, v57);
    }
  }

  WebCore::PathUtilities::pathsWithShrinkWrappedRects();
  (*(*a3 + 104))(a3, 1);
  v100 = 0;
  LODWORD(v101) = 1065353216;
  v102 = 0x1104000000000080;
  v103 = 0;
  v104 = 1065353216;
  WebCore::GraphicsContext::setDropShadow(a3, &v100);
  if ((v102 & 0x8000000000000) != 0)
  {
    v86 = (v102 & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v102 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v86);
      WTF::fastFree(v86, v58);
    }
  }

  v100 = 0x11040000FFFFFFFFLL;
  WebCore::GraphicsContext::setStrokeColor(a3, &v100);
  if ((v100 & 0x8000000000000) != 0)
  {
    v87 = (v100 & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v100 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v87);
      WTF::fastFree(v87, v59);
    }
  }

  if (*(a3 + 39) != 2.0)
  {
    *(a3 + 38) |= 8u;
    *(a3 + 39) = 0x40000000;
  }

  (*(*a3 + 96))(a3, a3 + 8, 3);
  if (v99.i32[3])
  {
    v60 = v99.i64[0];
    v61 = v99.u32[3] << 6;
    do
    {
      (*(*a3 + 192))(a3, v60);
      v60 += 64;
      v61 -= 64;
    }

    while (v61);
  }

  WebCore::GraphicsContext::clearDropShadow(a3);
  WebCore::GraphicsContext::setCompositeMode(a3, 256);
  if (v99.i32[3])
  {
    v62 = v99.i64[0];
    v63 = v99.u32[3] << 6;
    do
    {
      (*(*a3 + 184))(a3, v62);
      v62 += 64;
      v63 -= 64;
    }

    while (v63);
  }

  v64 = *(this + 12);
  if (!v64)
  {
    goto LABEL_145;
  }

  if (*(v64 + 16) <= 0.0)
  {
    goto LABEL_145;
  }

  if (*(v64 + 20) <= 0.0)
  {
    goto LABEL_145;
  }

  v65 = *(v64 + 96);
  if (!v65)
  {
    goto LABEL_145;
  }

  ++v65[4];
  v67 = *(v64 + 24);
  v66 = *(v64 + 32);
  v100 = v67;
  v101 = v66;
  WTF::Vector<WebCore::LinearTimingFunction::Point,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v98, v64 + 56);
  v97[0] = 0;
  v97[1] = 0;
  v68 = HIDWORD(v98[1]);
  if (!HIDWORD(v98[1]))
  {
    goto LABEL_135;
  }

  if (HIDWORD(v98[1]) >> 28)
  {
    __break(0xC471u);
LABEL_161:
    JUMPOUT(0x19E3C891CLL);
  }

  v69 = WTF::fastMalloc((16 * HIDWORD(v98[1])));
  LODWORD(v97[1]) = v68;
  v97[0] = v69;
  v70 = HIDWORD(v98[1]);
  if (HIDWORD(v98[1]))
  {
    v71 = (v69 + 8);
    v72 = (v98[0] + 8);
    v73 = HIDWORD(v98[1]);
    do
    {
      v74 = *v72;
      *(v71 - 1) = vadd_f32(v67, *(v72 - 1));
      *v71 = v74;
      v71 += 2;
      v72 += 2;
      --v73;
    }

    while (v73);
    HIDWORD(v97[1]) = v70;
  }

LABEL_135:
  WebCore::PathUtilities::pathsWithShrinkWrappedRects();
  WebCore::GraphicsContext::setCompositeMode(a3, 258);
  v94[0] = 0x11040000FFE438FFLL;
  WebCore::GraphicsContext::setFillColor(a3, v94);
  if ((v94[0] & 0x8000000000000) != 0)
  {
    v88 = (v94[0] & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v94[0] & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v88);
      WTF::fastFree(v88, v75);
    }
  }

  if (HIDWORD(v96))
  {
    v76 = v95;
    v77 = HIDWORD(v96) << 6;
    do
    {
      (*(*a3 + 184))(a3, v76);
      v76 += 64;
      v77 -= 64;
    }

    while (v77);
  }

  WebCore::GraphicsContext::drawImage();
  WTF::Vector<WebCore::Path,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v95, v78);
  v80 = v97[0];
  if (v97[0])
  {
    v97[0] = 0;
    LODWORD(v97[1]) = 0;
    WTF::fastFree(v80, v79);
  }

  v81 = v98[0];
  if (v98[0])
  {
    v98[0] = 0;
    LODWORD(v98[1]) = 0;
    WTF::fastFree(v81, v79);
  }

  if (v65[4] == 1)
  {
    (*(*v65 + 8))(v65);
  }

  else
  {
    --v65[4];
  }

LABEL_145:
  (*(*a3 + 112))(a3, 1);
  WTF::Vector<WebCore::Path,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v99, v82);
  result = v91;
  if (v91)
  {
    v91 = 0;
    LODWORD(v92) = 0;
    return WTF::fastFree(result, v83);
  }

  return result;
}

uint64_t WebKit::WebFoundTextRangeController::createTextIndicatorForRange(uint64_t a1, uint64_t a2)
{
  WebCore::ImageOverlay::isInsideOverlay();
  v3 = *(a2 + 8);
  if (v3 && (v4 = *(v3 + 8)) != 0)
  {
    v5 = WebCore::FocusController::focusedOrMainFrame(*(*(v4 + 40) + 80));
    if (v5)
    {
      v6 = v5;
      ++*(v5 + 16);
      v7 = (*(*(v5 + 224) + 3208) + 257);
      *v7 |= 0x100u;
      WebCore::FrameSelection::updateAppearance(*(*(v5 + 224) + 3208));
      v8 = (*(*(v6 + 224) + 3208) + 257);
      *v8 &= ~0x100u;
      if (*(v6 + 16) == 1)
      {
        (*(*v6 + 8))(v6);
      }

      else
      {
        --*(v6 + 16);
      }
    }

    return WebCore::TextIndicator::createWithRange();
  }

  else
  {
    result = 121;
    __break(0xC471u);
  }

  return result;
}

uint64_t WebKit::WebFoundTextRangeController::createTextIndicatorForPDFRange(void *a1, WebKit::WebFoundTextRangeController *this, WebKit::WebFoundTextRange *a3, uint64_t a4)
{
  result = WebKit::WebFoundTextRangeController::frameForFoundTextRange(this, a3);
  if (result)
  {
    v9 = result;
    ++*(result + 16);
    result = WebKit::WebPage::pluginViewForFrame(result, v8);
    if (result)
    {
      v11 = *(result + 8);
      v12 = result;
      *(result + 8) = v11 + 1;
      if (*(a3 + 32) == 1 && (*(result + 137) & 1) != 0)
      {
        result = (*(**(result + 72) + 1232))(*(result + 72), a3, a4);
        v11 = v12[2] - 1;
      }

      else
      {
        *a1 = 0;
      }

      if (v11)
      {
        v12[2] = v11;
      }

      else
      {
        result = (*(*v12 + 8))(v12);
      }
    }

    else
    {
      *a1 = 0;
    }

    if (v9[4] == 1)
    {
      v10 = *(*v9 + 8);

      return v10(v9);
    }

    else
    {
      --v9[4];
    }
  }

  else
  {
    *a1 = 0;
  }

  return result;
}

WebCore::Frame *WebKit::WebFoundTextRangeController::frameForFoundTextRange(WebKit::WebFoundTextRangeController *this, const WebKit::WebFoundTextRange *a2)
{
  if (this && (v3 = *(this + 1)) != 0)
  {
    v4 = v3 - 16;
    CFRetain(*(v3 - 8));
  }

  else
  {
    v4 = 0;
  }

  v5 = *(v4 + 56);
  if (v5)
  {
    v6 = v5 + 2;
    ++v5[2];
    WebCore::Page::localMainFrame(&v15, v5);
    WTF::RefCounted<WebCore::Page>::deref(v6);
  }

  else
  {
    WebCore::Page::localMainFrame(&v15, 0);
  }

  CFRelease(*(v4 + 8));
  v7 = v15;
  if (v15)
  {
    v8 = *(a2 + 5);
    if (v8 && v8[1])
    {
      atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
      v14 = v8;
      v9 = WebCore::FrameTree::findByUniqueName((v7 + 40), &v14, v15);
      if (v9)
      {
        if (*(v9 + 136))
        {
          v7 = 0;
        }

        else
        {
          v7 = v9;
        }
      }

      else
      {
        v7 = 0;
      }

      v11 = v14;
      v14 = 0;
      if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v11, v10);
      }

      v12 = v15;
      v15 = 0;
      if (!v12)
      {
        return v7;
      }
    }

    else
    {
      v15 = 0;
      v12 = v7;
    }

    if (*(v12 + 4) == 1)
    {
      (*(*v12 + 8))(v12);
    }

    else
    {
      --*(v12 + 4);
    }
  }

  return v7;
}

uint64_t WebKit::WebFrame::initWithCoreMainFrame(WebKit::WebFrame *this, WebKit::WebPage *a2, WebCore::Frame *a3)
{
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a3 + 2, a3);
  v6 = *(a3 + 1);
  atomic_fetch_add(v6, 1u);
  v7 = *(this + 5);
  *(this + 5) = v6;
  if (v7)
  {
    if (atomic_fetch_add(v7, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v7);
      WTF::fastFree(v7, v5);
    }

    v6 = *(this + 5);
  }

  if (v6 && (v8 = *(v6 + 8)) != 0)
  {
    result = WebCore::FrameTree::setSpecifiedName((v8 + 40), MEMORY[0x1E696EB90]);
    if ((*(a3 + 136) & 1) == 0)
    {

      return WebCore::LocalFrame::init(a3);
    }
  }

  else
  {
    result = 121;
    __break(0xC471u);
  }

  return result;
}

WebCore::LocalFrame *WebKit::WebFrame::createSubframe@<X0>(WebKit::WebFrame *this@<X0>, WebKit::WebPage *a2@<X1>, WebKit::WebFrame *a3@<X2>, const WTF::AtomString *a4@<X3>, uint64_t a5@<X8>)
{
  v9 = this;
  v11 = *(a4 + 64);
  v12 = *(a2 + 5);
  if (v12)
  {
    v13 = *(v12 + 8);
    if (v13)
    {
      if ((*(v13 + 136) & 1) == 0)
      {
        ++*(v13 + 16);
        this = WebCore::LocalFrame::effectiveSandboxFlags(v13);
        v11 |= this;
        if (*(v13 + 16) == 1)
        {
          this = (*(*v13 + 8))(v13);
        }

        else
        {
          --*(v13 + 16);
        }
      }
    }
  }

  FrameIdentifier = WebCore::generateFrameIdentifier(this);
  v15 = API::Object::newObject(0x98uLL, 138);
  *a5 = WebKit::WebFrame::WebFrame(v15, v9, FrameIdentifier);
  v16 = *(v9 + 7);
  if (v16)
  {
    ++*(v16 + 8);
  }

  CFRetain(*(v15 + 8));
  v17 = WTF::fastMalloc(0x10);
  *v17 = &unk_1F1133710;
  *(v17 + 1) = v15;
  v40 = v17;
  v19 = WebCore::FrameTreeSyncData::operator new(0x10, v18);
  *v19 = 1;
  *(v19 + 4) = 0;
  *(v19 + 8) = 0;
  v38 = v19;
  WebCore::LocalFrame::createSubframe();
  if (v38)
  {
    WTF::RefCounted<WebCore::FrameTreeSyncData>::deref(v38, v20);
  }

  v21 = v40;
  v40 = 0;
  if (v21)
  {
    (*(*v21 + 8))(v21);
  }

  WTF::RefCounted<WebCore::Page>::deref((v16 + 8));
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v39 + 2, v39);
  v23 = *(v39 + 1);
  atomic_fetch_add(v23, 1u);
  v24 = *(*a5 + 40);
  *(*a5 + 40) = v23;
  if (v24 && atomic_fetch_add(v24, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v24);
    WTF::fastFree(v24, v22);
  }

  v25 = *(a2 + 11);
  v26 = *(v39 + 4);
  v27 = (*(*a4 + 1256))(a4);
  v29 = *(v9 + 4);
  v28 = v9 + 32;
  v30 = (*(v29 + 56))(v28);
  v32 = IPC::Encoder::operator new(0x238, v31);
  *v32 = 2192;
  *(v32 + 2) = 0;
  *(v32 + 3) = 0;
  *(v32 + 1) = v30;
  *(v32 + 68) = 0;
  *(v32 + 70) = 0;
  *(v32 + 69) = 0;
  IPC::Encoder::encodeHeader(v32);
  v40 = v32;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v32, v25);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v32, v26);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v32, a3);
  IPC::ArgumentCoder<unsigned short,void>::encode<IPC::Encoder>(v32, v11);
  IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v32, v27);
  (*(*v28 + 32))(v28, &v40, 0);
  v34 = v40;
  v40 = 0;
  if (v34)
  {
    IPC::Encoder::~Encoder(v34, v33);
    bmalloc::api::tzoneFree(v36, v37);
  }

  WebCore::FrameTree::setSpecifiedName((v39 + 40), a3);
  WebCore::LocalFrame::init(v39);
  result = v39;
  if (v39)
  {
    if (*(v39 + 4) == 1)
    {
      return (*(*v39 + 8))();
    }

    else
    {
      --*(v39 + 4);
    }
  }

  return result;
}

_DWORD *WebKit::WebFrame::createRemoteSubframe@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, StringImpl **a4@<X3>, uint64_t a5@<X4>, char a6@<W5>, uint64_t a7@<X8>)
{
  {
    v15 = v14;
    CFRetain(*(v14 + 8));
    v16 = *(v15 + 40);
    if (v16)
    {
      v17 = *(v16 + 8);
      if (v17)
      {
        ++v17[4];
      }
    }

    else
    {
      v17 = 0;
    }

    CFRelease(*(v15 + 8));
  }

  else
  {
    v17 = 0;
  }

  v18 = *(a1 + 56);
  if (v18)
  {
    ++*(v18 + 8);
  }

  v19 = a2[5];
  if (!v19)
  {
    v20 = 0;
    goto LABEL_41;
  }

  v20 = *(v19 + 8);
  if (!v20)
  {
LABEL_41:
    v21 = 1;
    goto LABEL_15;
  }

  v21 = 0;
  ++v20[4];
LABEL_15:
  v22 = API::Object::newObject(0x98uLL, 138);
  *a7 = WebKit::WebFrame::WebFrame(v22, a1, a3);
  if (!v18 || v21)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3C94ECLL);
  }

  CFRetain(*(v22 + 8));
  v23 = WTF::fastMalloc(0x10);
  *v23 = &unk_1F1133738;
  *(v23 + 8) = v22;
  v34.var0.m_impl.m_ptr = v23;
  WebCore::RemoteFrame::createSubframe();
  m_ptr = v34.var0.m_impl.m_ptr;
  v34.var0.m_impl.m_ptr = 0;
  if (m_ptr)
  {
    (*(*m_ptr + 8))(m_ptr);
  }

  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v33 + 2, v33);
  v26 = *(v33 + 1);
  atomic_fetch_add(v26, 1u);
  v27 = *(*a7 + 40);
  *(*a7 + 40) = v26;
  if (v27 && atomic_fetch_add(v27, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v27);
    WTF::fastFree(v27, v25);
  }

  v28 = *a4;
  if (*a4)
  {
    if ((*(v28 + 16) & 0x10) != 0)
    {
      atomic_fetch_add_explicit(v28, 2u, memory_order_relaxed);
    }

    else
    {
      WTF::AtomStringImpl::addSlowCase(&v34, v28, v25);
      v28 = v34.var0.m_impl.m_ptr;
    }
  }

  v34.var0.m_impl.m_ptr = v28;
  WebCore::FrameTree::setSpecifiedName((v33 + 10), &v34);
  v30 = v34.var0.m_impl.m_ptr;
  v34.var0.m_impl.m_ptr = 0;
  if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v30, v29);
  }

  if (v33)
  {
    if (v33[4] == 1)
    {
      (*(*v33 + 8))();
    }

    else
    {
      --v33[4];
    }
  }

  if (v20[4] == 1)
  {
    (*(*v20 + 8))(v20);
  }

  else
  {
    --v20[4];
  }

  result = WTF::RefCounted<WebCore::Page>::deref((v18 + 8));
  if (v17)
  {
    if (v17[4] == 1)
    {
      return (*(*v17 + 8))(v17);
    }

    else
    {
      --v17[4];
    }
  }

  return result;
}

uint64_t WebKit::WebFrame::WebFrame(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v6 = API::Object::Object(a1);
  *v6 = &unk_1F1133428;
  *(v6 + 2) = &unk_1F1133478;
  *(v6 + 3) = 0;
  *(v6 + 4) = &unk_1F11334C0;
  *(v6 + 5) = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a2 + 24), a2 + 16);
  v8 = *(a2 + 24);
  atomic_fetch_add(v8, 1u);
  *(a1 + 80) = 0;
  *(a1 + 56) = 0;
  *(a1 + 64) = 0;
  *(a1 + 48) = v8;
  *(a1 + 72) = 0;
  *(a1 + 88) = a3;
  *(a1 + 96) = 0;
  *(a1 + 104) = 0;
  *(a1 + 120) = 0;
  *(a1 + 128) = 0;
  *(a1 + 130) = 0;
  *(a1 + 136) = 0;
  *(a1 + 144) = 0;
  {
    v9 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = WebKit::WebProcess::operator new(0x370, v7);
    v9 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v9;
    a3 = *(a1 + 88);
  }

  v13 = a1;
  v14 = a3;
  WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakPtr<WebKit::WebFrame,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<WebKit::WebFrame,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long> const&,WebKit::WebFrame*&>(v9 + 38, &v14, &v13, v12);
  return a1;
}

uint64_t WebKit::WebFrame::localFrameLoaderClient(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2 || (*(v2 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v2 + 16);
  v3 = *(*(v2 + 208) + 16);
  if (!(*(*v3 + 40))(v3))
  {
    v3 = 0;
  }

  if (*(v2 + 16) == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --*(v2 + 16);
  }

  return v3;
}

uint64_t WebKit::WebFrame::remoteFrameClient(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2 || *(v2 + 136) != 1)
  {
    return 0;
  }

  v3 = *(v2 + 16);
  *(v2 + 16) = v3 + 1;
  v4 = *(v2 + 208);
  if (!v4)
  {
LABEL_7:
    if (v3)
    {
      *(v2 + 16) = v3;
    }

    else
    {
      (*(*v2 + 8))(v2);
    }

    return v4;
  }

  if ((*(*v4 + 160))(*(v2 + 208)))
  {
    v3 = *(v2 + 16) - 1;
    goto LABEL_7;
  }

  result = 105;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::WebFrame::frameLoaderClient(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 136);
  v4 = *(v2 + 16);
  *(v2 + 16) = v4 + 1;
  v5 = *(v2 + 208);
  if ((v3 & 1) == 0)
  {
    v6 = v5[2];
    if ((*(*v6 + 40))(v6))
    {
      v7 = v6;
    }

    else
    {
      v7 = 0;
    }

    if (v7)
    {
      v8 = (v7 + 16);
    }

    else
    {
      v8 = 0;
    }

    v4 = *(v2 + 16) - 1;
    if (*(v2 + 16) != 1)
    {
LABEL_11:
      *(v2 + 16) = v4;
      return v8;
    }

LABEL_21:
    (*(*v2 + 8))(v2);
    return v8;
  }

  if (!v5)
  {
LABEL_17:
    if (v5)
    {
      v8 = v5 + 1;
    }

    else
    {
      v8 = 0;
    }

    if (v4)
    {
      goto LABEL_11;
    }

    goto LABEL_21;
  }

  if ((*(*v5 + 160))(*(v2 + 208)))
  {
    v4 = *(v2 + 16) - 1;
    goto LABEL_17;
  }

  result = 105;
  __break(0xC471u);
  return result;
}

void WebKit::WebFrame::~WebFrame(WebKit::WebFrame *this, void *a2)
{
  *this = &unk_1F1133428;
  *(this + 2) = &unk_1F1133478;
  *(this + 4) = &unk_1F11334C0;
  v3 = *(this + 8);
  if (v3)
  {
    WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 7);
  *(this + 7) = 0;
  if (v4)
  {
    if (v4[4] == 1)
    {
      (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[4];
    }
  }

  v5 = *(this + 6);
  *(this + 6) = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, a2);
  }

  v6 = *(this + 5);
  *(this + 5) = 0;
  if (v6 && atomic_fetch_add(v6, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v6);
    WTF::fastFree(v6, a2);
  }

  *(this + 2) = &unk_1F10EA5E0;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 3, a2);
}

{
  WebKit::WebFrame::~WebFrame(this, a2);

  JUMPOUT(0x19EB14CF0);
}

void non-virtual thunk toWebKit::WebFrame::~WebFrame(WebKit::WebFrame *this, void *a2)
{
  WebKit::WebFrame::~WebFrame((this - 16), a2);
}

{
  WebKit::WebFrame::~WebFrame((this - 32), a2);
}

{
  WebKit::WebFrame::~WebFrame((this - 16), a2);

  JUMPOUT(0x19EB14CF0);
}

{
  WebKit::WebFrame::~WebFrame((this - 32), a2);

  JUMPOUT(0x19EB14CF0);
}

uint64_t WebKit::WebFrame::protectedCoreLocalFrame@<X0>(uint64_t this@<X0>, void *a2@<X8>)
{
  v2 = *(this + 40);
  if (v2)
  {
    v2 = *(v2 + 8);
    if (v2)
    {
      if (*(v2 + 136))
      {
        v2 = 0;
      }

      else
      {
        ++*(v2 + 16);
      }
    }
  }

  *a2 = v2;
  return this;
}

uint64_t WebKit::WebFrame::getFrameInfo@<X0>(WebKit::WebFrame *this@<X0>, void *a2@<X8>)
{
  result = WTF::fastMalloc(0x1A0);
  *result = WebKit::WebFrame::getFrameInfo;
  *(result + 400) = this;
  *(result + 8) = WebKit::WebFrame::getFrameInfo;
  *(result + 16) = 0;
  *(result + 32) = 0;
  *(result + 384) = 0;
  *a2 = result;
  *(result + 408) = 0;
  return result;
}

void WebKit::WebFrame::info(WebKit::WebFrame *a1@<X0>, int a2@<W1>, uint64_t a3@<X8>)
{
  v40 = *MEMORY[0x1E69E9840];
  WebKit::WebFrame::parentFrame(a1, &v38);
  v6 = *(a1 + 5);
  v34 = a2;
  if (!v6)
  {
    v21 = 0;
    v12 = 0;
    v7 = 0;
    goto LABEL_39;
  }

  v7 = *(v6 + 8);
  if (!v7)
  {
    v21 = 0;
    v12 = 0;
LABEL_39:
    v11 = 0;
    v10 = 0;
    v30 = 0;
    v31 = 0;
    v19 = 0;
    v20 = 1;
    LOBYTE(v9) = 1;
    v32 = 0;
    v33 = 1;
    goto LABEL_13;
  }

  v8 = v7[4];
  v7[4] = v8 + 1;
  v9 = *(v7 + 136);
  if (v9)
  {
    v10 = 0;
    v11 = 0;
    v33 = 1;
  }

  else
  {
    v7[4] = v8 + 2;
    v10 = *(v7 + 28);
    if (v10)
    {
      v33 = 0;
      *(v10 + 28) += 2;
    }

    else
    {
      v33 = 1;
    }

    v11 = v7;
  }

  v12 = v9 ^ 1;
  v13 = (*(*v7 + 56))(v7);
  if (v13)
  {
    v14 = v13;
    ++*(v13 + 8);
    v32 = WebKit::WebFrame::hasHorizontalScrollbar(a1) || WebKit::WebFrame::hasVerticalScrollbar(a1);
    v15 = WebCore::ScrollView::contentsSize(v14);
    v16 = WebCore::ScrollView::contentsSize(v14);
    WebCore::ScrollableArea::visibleContentRectIncludingScrollbars();
    v31 = v17;
    WebCore::ScrollableArea::visibleContentRect();
    v30 = v18;
    v19 = v16 & 0xFFFFFFFF00000000 | v15;
    if (*(v14 + 2) == 1)
    {
      (*(*v14 + 8))(v14);
      v20 = 0;
    }

    else
    {
      v20 = 0;
      --*(v14 + 2);
    }
  }

  else
  {
    v20 = 0;
    v32 = 0;
    v30 = 0;
    v31 = 0;
    v19 = 0;
  }

  v21 = 1;
LABEL_13:
  *a3 = WebKit::WebFrame::isMainFrame(a1);
  *(a3 + 1) = v12 ^ 1;
  WebKit::WebFrame::url(a1, v35);
  WebCore::ResourceRequestBase::ResourceRequestBase(a3 + 8, v35, 0);
  *(a3 + 200) = 0;
  WebCore::SecurityOriginData::fromFrame(v11, v22);
  if (v21)
  {
    v23 = *(v7 + 7);
    if (v23)
    {
      atomic_fetch_add_explicit(v23, 2u, memory_order_relaxed);
    }
  }

  else
  {
    v23 = 0;
  }

  v24 = *(a1 + 11);
  *(a3 + 240) = v23;
  *(a3 + 248) = v24;
  v25 = v38;
  if (v38)
  {
    v25 = *(v38 + 88);
  }

  *(a3 + 256) = v25;
  if (v10)
  {
    v29 = *(v10 + 448);
    *&v39[15] = *(v10 + 464);
    *v39 = *(v10 + 449);
    *(a3 + 272) = v29;
    *(a3 + 273) = *v39;
    *(a3 + 288) = *&v39[15];
  }

  else
  {
    *(a3 + 272) = 0;
    *(a3 + 280) = 0;
    *(a3 + 288) = 0;
  }

  if (v34)
  {
    WebKit::WebFrame::certificateInfo(a1, (a3 + 304));
  }

  else
  {
    *(a3 + 304) = 0;
  }

  *(a3 + 312) = getpid();
  *(a3 + 316) = WebKit::WebFrame::isFocused(a1);
  if (v12)
  {
    v27 = *(*(v11 + 26) + 405);
  }

  else
  {
    v27 = 0;
  }

  *(a3 + 317) = v27 & 1;
  *(a3 + 320) = v32;
  *(a3 + 323) = v37;
  *(a3 + 321) = v36;
  *(a3 + 324) = v19;
  *(a3 + 332) = v31;
  *(a3 + 340) = v30;
  v28 = v35[0];
  v35[0] = 0;
  if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v28, v26);
  }

  if ((v33 & 1) == 0)
  {
    if (*(v10 + 28) == 2)
    {
      WebCore::Node::removedLastRef(v10);
    }

    else
    {
      *(v10 + 28) -= 2;
    }
  }

  if ((v9 & 1) == 0)
  {
    if (*(v11 + 4) == 1)
    {
      (*(*v11 + 8))(v11);
    }

    else
    {
      --*(v11 + 4);
    }
  }

  if ((v20 & 1) == 0)
  {
    if (v7[4] == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --v7[4];
    }
  }

  if (v38)
  {
    CFRelease(*(v38 + 8));
  }
}

uint64_t WebKit::WebFrame::parentFrame@<X0>(uint64_t this@<X0>, void *a2@<X8>)
{
  v3 = *(this + 40);
  if (v3 && (v4 = *(v3 + 8)) != 0)
  {
    ++v4[4];
    this = WebCore::FrameTree::parent((v4 + 10));
    if (this)
    {
      v5 = this;
      ++*(this + 16);
      this = WebKit::WebFrame::fromCoreFrame(this, a2);
      if (v5[4] == 1)
      {
        this = (*(*v5 + 8))(v5);
      }

      else
      {
        --v5[4];
      }
    }

    else
    {
      *a2 = 0;
    }

    if (v4[4] == 1)
    {
      v6 = *(*v4 + 8);

      return v6(v4);
    }

    else
    {
      --v4[4];
    }
  }

  else
  {
    *a2 = 0;
  }

  return this;
}

BOOL WebKit::WebFrame::hasHorizontalScrollbar(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2 || (*(v2 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v2 + 16);
  v3 = *(v2 + 216);
  if (v3)
  {
    v4 = *(v3 + 8);
    *(v3 + 8) = v4 + 1;
    v5 = *(v3 + 152) != 0;
    if (v4)
    {
      *(v3 + 8) = v4;
    }

    else
    {
      (*(*v3 + 8))(v3);
    }
  }

  else
  {
    v5 = 0;
  }

  if (*(v2 + 16) == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --*(v2 + 16);
  }

  return v5;
}

BOOL WebKit::WebFrame::hasVerticalScrollbar(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return 0;
  }

  ++v2[4];
  v3 = (*(*v2 + 56))(v2);
  if (v3)
  {
    v4 = *(v3 + 8);
    *(v3 + 8) = v4 + 1;
    v5 = *(v3 + 160) != 0;
    if (v4)
    {
      *(v3 + 8) = v4;
    }

    else
    {
      (*(*v3 + 8))(v3);
    }
  }

  else
  {
    v5 = 0;
  }

  if (v2[4] == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --v2[4];
  }

  return v5;
}

uint64_t WebKit::WebFrame::url@<X0>(WebKit::WebFrame *this@<X0>, uint64_t a2@<X8>)
{
  v3 = *(this + 5);
  if (v3 && (v4 = *(v3 + 8)) != 0 && (*(v4 + 136) & 1) == 0)
  {
    ++*(v4 + 16);
    v5 = *(*(v4 + 208) + 96);
    if (v5)
    {
      ++v5[6];
      result = WebCore::ResourceRequestBase::url((v5 + 220));
      v7 = *result;
      if (*result)
      {
        atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
      }

      *a2 = v7;
      v8 = *(result + 8);
      *(a2 + 24) = *(result + 24);
      *(a2 + 8) = v8;
      if (v5[6] == 1)
      {
        result = (*(*v5 + 24))(v5);
      }

      else
      {
        --v5[6];
      }
    }

    else
    {
      *a2 = 0;
      result = WTF::URL::invalidate(a2);
    }

    if (*(v4 + 16) == 1)
    {
      v9 = *(*v4 + 8);

      return v9(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  else
  {
    *a2 = 0;

    return WTF::URL::invalidate(a2);
  }

  return result;
}

void WebKit::WebFrame::certificateInfo(WebKit::WebFrame *this@<X0>, void *a2@<X8>)
{
  v3 = *(this + 5);
  if (v3 && (v4 = *(v3 + 8)) != 0 && (*(v4 + 136) & 1) == 0)
  {
    ++*(v4 + 16);
    v5 = *(*(v4 + 208) + 96);
    if (v5)
    {
      v6 = *(v5 + 24);
      *(v5 + 24) = v6 + 1;
      if (*(v5 + 1408) == 1 && (v7 = *(v5 + 1400)) != 0)
      {
        CFRetain(*(v5 + 1400));
        *a2 = v7;
        CFRetain(v7);
        CFRelease(v7);
        v6 = *(v5 + 24) - 1;
      }

      else
      {
        *a2 = 0;
      }

      if (v6)
      {
        *(v5 + 24) = v6;
      }

      else
      {
        (*(*v5 + 24))(v5);
      }
    }

    else
    {
      *a2 = 0;
    }

    if (*(v4 + 16) == 1)
    {
      v8 = *(*v4 + 8);

      v8(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  else
  {
    *a2 = 0;
  }
}

BOOL WebKit::WebFrame::isFocused(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 24);
  if (!v3)
  {
    return 0;
  }

  v4 = *(v3 + 8);
  if (!v4)
  {
    return 0;
  }

  v5 = *(*(v4 + 80) + 16);
  if (v5)
  {
    v5 = *(v5 + 8);
  }

  return v5 == v2;
}

void WebKit::WebFrame::frameTreeData(WebKit::WebFrame *this@<X0>, uint64_t a2@<X8>)
{
  v73 = *MEMORY[0x1E69E9840];
  WebKit::WebFrame::info(this, 0, a2);
  *(a2 + 352) = 0;
  *(a2 + 360) = 0;
  v4 = *(this + 5);
  if (!v4)
  {
    return;
  }

  v5 = *(v4 + 8);
  if (!v5)
  {
    return;
  }

  v6 = WebCore::FrameTree::childCount((v5 + 40));
  if (v6)
  {
    if (v6 >= 0xB21643)
    {
      goto LABEL_28;
    }

    v7 = 368 * v6;
    v8 = WTF::fastMalloc((368 * v6));
    *(a2 + 360) = v7 / 0x170;
    *(a2 + 352) = v8;
  }

  v9 = *(this + 5);
  if (!v9 || (v10 = *(v9 + 8)) == 0)
  {
LABEL_28:
    __break(0xC471u);
    JUMPOUT(0x19E3CA974);
  }

  v11 = *(v10 + 80);
  if (v11)
  {
    ++*(v11 + 16);
    while (1)
    {
      WebKit::WebFrame::fromCoreFrame(v11, &v36);
      v12 = v36;
      if (v36)
      {
        break;
      }

LABEL_18:
      v35 = *(v11 + 64);
      if (v35)
      {
        ++*(v35 + 16);
      }

      if (*(v11 + 16) == 1)
      {
        (*(*v11 + 8))(v11);
      }

      else
      {
        --*(v11 + 16);
      }

      v11 = v35;
      if (!v35)
      {
        return;
      }
    }

    WebKit::WebFrame::frameTreeData(&v37, v36);
    v13 = *(a2 + 364);
    if (v13 == *(a2 + 360))
    {
      WTF::Vector<WebKit::FrameTreeNodeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::FrameTreeNodeData>(a2 + 352, &v37);
LABEL_17:
      WTF::Vector<WebKit::FrameTreeNodeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v70, v14);
      WebKit::FrameInfoData::~FrameInfoData(&v37);
      CFRelease(*(v12 + 1));
      goto LABEL_18;
    }

    v15 = *(a2 + 352) + 368 * v13;
    *v15 = v37;
    WTF::URL::URL(v15 + 8, v38);
    WTF::URL::URL(v15 + 48, v39);
    *(v15 + 88) = v39[5];
    v16 = v40;
    v40 = 0;
    *(v15 + 104) = 0;
    *(v15 + 112) = 0;
    *(v15 + 96) = v16;
    v17 = v41;
    v41 = 0;
    *(v15 + 104) = v17;
    LODWORD(v17) = v42;
    v42 = 0;
    *(v15 + 112) = v17;
    LODWORD(v17) = v43;
    v43 = 0;
    *(v15 + 116) = v17;
    *(v15 + 120) = 0;
    *(v15 + 128) = 0;
    v18 = v44;
    v44 = 0;
    *(v15 + 120) = v18;
    LODWORD(v18) = v45;
    v45 = 0;
    *(v15 + 128) = v18;
    LODWORD(v18) = v46;
    v46 = 0;
    *(v15 + 132) = v18;
    *(v15 + 136) = 0;
    *(v15 + 144) = 0;
    v19 = v47;
    v47 = 0;
    *(v15 + 136) = v19;
    LODWORD(v19) = v48;
    v48 = 0;
    *(v15 + 144) = v19;
    LODWORD(v19) = v49;
    v49 = 0;
    *(v15 + 148) = v19;
    LODWORD(v19) = v50;
    *(v15 + 156) = v51;
    *(v15 + 152) = v19;
    v20 = v52;
    v52 = 0;
    *(v15 + 160) = v20;
    v21 = v53;
    v53 = 0;
    *(v15 + 168) = v21;
    v22 = v54;
    v54 = 0;
    *(v15 + 176) = v22;
    v23 = v55;
    *(v15 + 192) = v56;
    *(v15 + 184) = v23;
    v24 = v57;
    v57 = 0;
    *(v15 + 200) = v24;
    *(v15 + 208) = 0;
    *(v15 + 232) = -1;
    if (v60)
    {
      if (v60 == 255)
      {
        goto LABEL_16;
      }

      *(v15 + 208) = v58;
    }

    else
    {
      v25 = v58;
      *&v58 = 0;
      *(v15 + 208) = v25;
      v26 = *(&v58 + 1);
      *(&v58 + 1) = 0;
      *(v15 + 216) = v26;
      *(v15 + 224) = v59;
    }

    *(v15 + 232) = v60;
LABEL_16:
    v27 = v61;
    v61 = 0;
    *(v15 + 240) = v27;
    v28 = v62;
    v29 = v63;
    v30 = v64;
    *(v15 + 296) = v65;
    *(v15 + 264) = v29;
    *(v15 + 280) = v30;
    *(v15 + 248) = v28;
    v31 = v66;
    v66 = 0;
    *(v15 + 304) = v31;
    v32 = v67;
    v33 = v68;
    *(v15 + 344) = v69;
    *(v15 + 312) = v32;
    *(v15 + 328) = v33;
    *(v15 + 352) = 0;
    *(v15 + 360) = 0;
    v34 = v70;
    v70 = 0;
    *(v15 + 352) = v34;
    LODWORD(v34) = v71;
    v71 = 0;
    *(v15 + 360) = v34;
    LODWORD(v34) = v72;
    v72 = 0;
    *(v15 + 364) = v34;
    ++*(a2 + 364);
    goto LABEL_17;
  }
}

void WebKit::WebFrame::invalidate(WebKit::WebFrame *this, void *a2)
{
  v3 = *(this + 6);
  if (v3 && (v4 = *(v3 + 8)) != 0)
  {
    v5 = v4 - 16;
    CFRetain(*(v4 - 8));
    v6 = 0;
  }

  else
  {
    v5 = 0;
    v6 = 1;
  }

  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = WebKit::WebProcess::operator new(0x370, a2);
    v7 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  WebKit::WebProcess::removeWebFrame(v7, *(this + 11), v5);
  v9 = *(this + 5);
  *(this + 5) = 0;
  if (v9 && atomic_fetch_add(v9, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v9);
    WTF::fastFree(v9, v8);
  }

  if ((v6 & 1) == 0)
  {
    v10 = *(v5 + 8);

    CFRelease(v10);
  }
}

uint64_t WebKit::WebFrame::setUpPolicyListener(uint64_t a1, uint64_t *a2, char a3)
{
  v3 = WebKit::generateListenerID(void)::uniqueListenerID++;
  v10 = v3;
  v8[0] = a3;
  v4 = *a2;
  *a2 = 0;
  v9 = v4;
  WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WebKit::WebFrame::PolicyCheck>((a1 + 64), &v10, v8, &v7);
  v5 = v9;
  v9 = 0;
  if (v5)
  {
    (*(*v5 + 8))(v5);
  }

  return v10;
}

uint64_t *WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WebKit::WebFrame::PolicyCheck>@<X0>(uint64_t *result@<X0>, uint64_t *a2@<X1>, char *a3@<X2>, uint64_t a4@<X8>)
{
  v4 = *a2;
  if (*a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3CACE4);
  }

  if (!v4)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3CAD04);
  }

  v7 = result;
  v9 = *result;
  if (!*result)
  {
    result = WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::expand(result, 0);
    v9 = *v7;
    v4 = *a2;
  }

  v10 = *(v9 - 8);
  v11 = (v4 + ~(v4 << 32)) ^ ((v4 + ~(v4 << 32)) >> 22);
  v12 = 9 * ((v11 + ~(v11 << 13)) ^ ((v11 + ~(v11 << 13)) >> 8));
  v13 = (v12 ^ (v12 >> 15)) + ~((v12 ^ (v12 >> 15)) << 27);
  v14 = v10 & ((v13 >> 31) ^ v13);
  v15 = (v9 + 24 * v14);
  v16 = *v15;
  if (*v15)
  {
    v25 = 0;
    v26 = 1;
    do
    {
      if (v16 == v4)
      {
        v24 = 0;
        v23 = v9 + 24 * *(v9 - 4);
        goto LABEL_11;
      }

      if (v16 == -1)
      {
        v25 = v15;
      }

      v14 = (v14 + v26) & v10;
      v15 = (v9 + 24 * v14);
      v16 = *v15;
      ++v26;
    }

    while (*v15);
    if (v25)
    {
      *v25 = 0;
      v25[1] = 0;
      v25[2] = 0;
      v9 = *v7;
      --*(*v7 - 16);
      v4 = *a2;
      v15 = v25;
    }
  }

  *v15 = v4;
  v17 = *a3;
  v18 = *(a3 + 1);
  *(a3 + 1) = 0;
  *(v15 + 8) = v17;
  result = v15[2];
  v15[2] = v18;
  if (result)
  {
    result = (*(*result + 8))(result);
    v9 = *v7;
  }

  v19 = *(v9 - 16);
  v20 = *(v9 - 12) + 1;
  *(v9 - 12) = v20;
  v21 = (v19 + v20);
  v22 = *(v9 - 4);
  if (v22 > 0x400)
  {
    if (v22 > 2 * v21)
    {
      goto LABEL_10;
    }

LABEL_13:
    result = WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::expand(v7, v15);
    v15 = result;
    v9 = *v7;
    if (*v7)
    {
      LODWORD(v22) = *(v9 - 4);
    }

    else
    {
      LODWORD(v22) = 0;
    }

    goto LABEL_10;
  }

  if (3 * v22 <= 4 * v21)
  {
    goto LABEL_13;
  }

LABEL_10:
  v23 = v9 + 24 * v22;
  v24 = 1;
LABEL_11:
  *a4 = v15;
  *(a4 + 8) = v23;
  *(a4 + 16) = v24;
  return result;
}

_DWORD *WebKit::WebFrame::loadDidCommitInAnotherProcess(_DWORD *result)
{
  v1 = *(result + 5);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      if ((*(v2 + 136) & 1) == 0)
      {
        v3 = *(v2 + 16);
        *(v2 + 16) = v3 + 1;
        v4 = *(v2 + 24);
        if (!v4)
        {
          goto LABEL_64;
        }

        v5 = *(v4 + 8);
        if (!v5)
        {
          goto LABEL_64;
        }

        v6 = result;
        v7 = (v5 + 8);
        ++*(v5 + 8);
        v8 = WebCore::FrameTree::parent((v2 + 40));
        v9 = v8;
        if (v8)
        {
          ++*(v8 + 16);
        }

        v10 = *(v2 + 112);
        if (v10)
        {
          v11 = *(v10 + 8);
          if (v11)
          {
            v12 = 0;
            *(v11 + 7) += 2;
            goto LABEL_11;
          }
        }

        else
        {
          v11 = 0;
        }

        v12 = 1;
LABEL_11:
        v13 = WebKit::WebFrame::localFrameLoaderClient(v6);
        if (!v13)
        {
          goto LABEL_57;
        }

        v14 = v13;
        v29 = v12;
        WebCore::LocalFrameLoaderClient::ref(v13);
        v15 = *(v14 + 4);
        *(v14 + 4) = 0;
        v38 = v15;
        v16 = *(v14 + 40);
        *(v14 + 40) = 0;
        v39 = v16;
        v17 = WebCore::Frame::ownerRenderer(v2);
        v18 = v17;
        if (v17)
        {
          ++*(v17 + 216);
        }

        WebCore::LocalFrame::setView();
        if (v11)
        {
          WebCore::Frame::disconnectOwnerElement(v2);
        }

        CFRetain(*(v6 + 1));
        v38 = 0;
        v39 = 0;
        v19 = *(v2 + 184);
        ++*v19;
        v35 = v19;
        if (v11)
        {
          v20 = WTF::fastMalloc(0x20);
          *v20 = &unk_1F1133788;
          *(v20 + 8) = v6;
          v36 = 0;
          *(v20 + 16) = v15;
          v37 = 0;
          *(v20 + 24) = v16;
          v30 = v20;
          WebCore::RemoteFrame::createSubframeWithContentsInAnotherProcess();
          if (v30)
          {
            (*(*v30 + 8))(v30);
          }

          v12 = v29;
          if (!v9)
          {
LABEL_31:
            ++*(v34 + 4);
            WebCore::Page::setMainFrame();
            if (v34)
            {
              if (*(v34 + 4) == 1)
              {
                (*(*v34 + 8))();
              }

              else
              {
                --*(v34 + 4);
              }
            }

            goto LABEL_34;
          }
        }

        else
        {
          if (!v9)
          {
            v22 = WTF::fastMalloc(0x20);
            *v22 = &unk_1F1133788;
            *(v22 + 8) = v6;
            v36 = 0;
            *(v22 + 16) = v15;
            v37 = 0;
            *(v22 + 24) = v16;
            v32 = v22;
            WebCore::RemoteFrame::createMainFrame();
            if (v32)
            {
              (*(*v32 + 8))(v32);
            }

            v12 = v29;
            goto LABEL_31;
          }

          v21 = WTF::fastMalloc(0x20);
          *v21 = &unk_1F1133788;
          *(v21 + 8) = v6;
          v36 = 0;
          *(v21 + 16) = v15;
          v37 = 0;
          *(v21 + 24) = v16;
          v31 = v21;
          WebCore::RemoteFrame::createSubframe();
          if (v31)
          {
            (*(*v31 + 8))(v31);
          }

          v12 = v29;
        }

        WebCore::FrameTree::replaceChild((v9 + 10), v2, v34);
LABEL_34:
        WebCore::Frame::takeWindowProxyAndOpenerFrom(v34, v2);
        WebCore::FrameTree::setSpecifiedName((v34 + 40), (v2 + 56));
        if (v18)
        {
          v23 = *(v34 + 25);
          if (v23)
          {
            ++v23[2];
          }

          v33 = v23;
          WebCore::RenderWidget::setWidget();
          if (v33)
          {
            if (v33[2] == 1)
            {
              (*(*v33 + 8))(v33);
            }

            else
            {
              --v33[2];
            }
          }
        }

        WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v34 + 2, v34);
        v25 = *(v34 + 1);
        atomic_fetch_add(v25, 1u);
        v26 = *(v6 + 5);
        *(v6 + 5) = v25;
        if (v26 && atomic_fetch_add(v26, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v26);
          WTF::fastFree(v26, v24);
        }

        v27 = *(*(v5 + 80) + 16);
        if (v27 && *(v27 + 8) == v2)
        {
          WebCore::FocusController::setFocusedFrame();
        }

        WebCore::FrameLoader::detachFromParent(*(v2 + 208));
        if (v11)
        {
          WebCore::HTMLFrameOwnerElement::scheduleInvalidateStyleAndLayerComposition(v11);
        }

        if (v34)
        {
          if (*(v34 + 4) == 1)
          {
            (*(*v34 + 8))();
          }

          else
          {
            --*(v34 + 4);
          }
        }

        if (v35)
        {
          WTF::RefCounted<WebCore::FrameTreeSyncData>::deref(v35, v28);
        }

        WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v36);
        if (v18)
        {
          if (v18[54] == 1)
          {
            (*(*v18 + 8))(v18);
          }

          else
          {
            --v18[54];
          }
        }

        WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v38);
        WebCore::LocalFrameLoaderClient::deref(v14);
        v7 = (v5 + 8);
LABEL_57:
        if ((v12 & 1) == 0)
        {
          if (*(v11 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v11);
            if (v9)
            {
LABEL_61:
              if (v9[4] == 1)
              {
                (*(*v9 + 8))(v9);
              }

              else
              {
                --v9[4];
              }
            }

LABEL_63:
            result = WTF::RefCounted<WebCore::Page>::deref(v7);
            v3 = *(v2 + 16) - 1;
LABEL_64:
            if (!v3)
            {
              return (*(*v2 + 8))(v2);
            }

            *(v2 + 16) = v3;
            return result;
          }

          *(v11 + 7) -= 2;
        }

        if (v9)
        {
          goto LABEL_61;
        }

        goto LABEL_63;
      }
    }
  }

  return result;
}

_DWORD *WebKit::WebFrame::createProvisionalFrame(_DWORD *result, uint64_t a2)
{
  v2 = *(result + 5);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      if (*(v3 + 136) == 1)
      {
        v4 = *(v3 + 16);
        *(v3 + 16) = v4 + 1;
        v5 = *(v3 + 24);
        if (!v5)
        {
          goto LABEL_40;
        }

        v6 = *(v5 + 8);
        if (!v6)
        {
          goto LABEL_40;
        }

        v8 = result;
        v9 = (v6 + 8);
        ++*(v6 + 8);
        v10 = WebCore::FrameTree::parent((v3 + 40));
        v11 = v10;
        if (v10)
        {
          ++*(v10 + 16);
          CFRetain(*(v8 + 8));
          v12 = WTF::fastMalloc(0x18);
          *v12 = &unk_1F11337B0;
          *(v12 + 1) = v8;
          *(v12 + 2) = v8;
          v23 = v12;
          v13 = *(v3 + 184);
          ++*v13;
          v25 = v13;
          WebCore::LocalFrame::createProvisionalSubframe();
        }

        else
        {
          CFRetain(*(v8 + 8));
          v21 = WTF::fastMalloc(0x18);
          *v21 = &unk_1F11337B0;
          *(v21 + 1) = v8;
          *(v21 + 2) = v8;
          v23 = v21;
          v22 = *(v3 + 184);
          ++*v22;
          v25 = v22;
          WebCore::LocalFrame::createMainFrame();
        }

        if (v25)
        {
          WTF::RefCounted<WebCore::FrameTreeSyncData>::deref(v25, v14);
        }

        if (v23)
        {
          (*(*v23 + 8))(v23);
        }

        if (v26)
        {
          ++*(v26 + 4);
        }

        v15 = *(v8 + 56);
        *(v8 + 56) = v26;
        if (v15)
        {
          if (v15[4] == 1)
          {
            (*(*v15 + 8))(v15);
          }

          else
          {
            --v15[4];
          }
        }

        if (*(a2 + 16) == 1)
        {
          v16 = *(a2 + 8);
        }

        else
        {
          v16 = 0;
        }

        *(v8 + 144) = v16;
        v17 = WebCore::LocalFrame::init(v26);
        v18 = *(v26 + 28);
        if (v18)
        {
          *(v18 + 7) += 2;
        }

        v19 = *WTF::aboutBlankURL(v17);
        if (v19)
        {
          atomic_fetch_add_explicit(v19, 2u, memory_order_relaxed);
        }

        v24 = v19;
        WebCore::Document::setURL();
        if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v24, v20);
        }

        if (v18)
        {
          if (*(v18 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v18);
          }

          else
          {
            *(v18 + 7) -= 2;
          }
        }

        if (*(a2 + 32) == 1)
        {
          *(v8 + 136) = *(a2 + 24);
        }

        if (*(a2 + 52) == 1)
        {
          WebKit::WebFrame::updateLocalFrameSize(v8, v26, *(a2 + 44));
        }

        if (v26)
        {
          if (*(v26 + 4) == 1)
          {
            (*(*v26 + 8))();
            if (v11)
            {
LABEL_37:
              if (v11[4] == 1)
              {
                (*(*v11 + 8))(v11);
              }

              else
              {
                --v11[4];
              }
            }

LABEL_39:
            result = WTF::RefCounted<WebCore::Page>::deref(v9);
            v4 = *(v3 + 16) - 1;
LABEL_40:
            if (!v4)
            {
              return (*(*v3 + 8))(v3);
            }

            *(v3 + 16) = v4;
            return result;
          }

          --*(v26 + 4);
        }

        if (v11)
        {
          goto LABEL_37;
        }

        goto LABEL_39;
      }
    }
  }

  return result;
}

uint64_t WebKit::WebFrame::updateLocalFrameSize(uint64_t result, uint64_t a2, uint64_t a3)
{
  v15 = a3;
  v3 = *(a2 + 216);
  if (v3)
  {
    v5 = result;
    ++*(v3 + 2);
    result = WebCore::Widget::frameRect(v3);
    if (v6 != a3)
    {
      WebCore::Widget::resize(v3, &v15);
      v13[0] = WebCore::Widget::frameRect(v3);
      v13[1] = v7;
      WebCore::FloatRect::FloatRect(&v14, v13);
      WebCore::ScrollView::setExposedContentRect(v3, &v14);
      WebCore::Widget::frameRect(v3);
      v14.m_location.m_x = v8;
      v14.m_location.m_y = v9;
      result = WebCore::ScrollView::setUnobscuredContentSize(v3, &v14);
      v10 = *(v5 + 48);
      if (v10)
      {
        v11 = *(v10 + 8);
        if (v11)
        {
          v12 = *(v11 + 56);
          if (v12)
          {
            ++v12[4];
            (*(*v12 + 56))(v12);
            result = (*(*v12 + 280))(v12);
            if (v12[4] == 1)
            {
              result = (*(*v12 + 24))(v12);
            }

            else
            {
              --v12[4];
            }
          }
        }
      }
    }

    if (*(v3 + 2) == 1)
    {
      return (*(*v3 + 8))(v3);
    }

    else
    {
      --*(v3 + 2);
    }
  }

  return result;
}

uint64_t WebKit::WebFrame::destroyProvisionalFrame(uint64_t this)
{
  v1 = *(this + 56);
  *(this + 56) = 0;
  if (v1)
  {
    v2 = this;
    v3 = *(*(v1 + 208) + 16);
    if ((*(*v3 + 40))(v3))
    {
      v4 = *(v3 + 32);
      *(v3 + 32) = 0;
      v5 = v4;
      *(v3 + 40) = 0;
      v6 = 0;
      WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v5);
    }

    WebCore::FrameLoader::detachFromParent(*(v1 + 208));
    v5 = 0;
    WebCore::LocalFrame::setView();
    this = v5;
    v5 = 0;
    if (this)
    {
      if (*(this + 8) == 1)
      {
        this = (*(*this + 8))(this);
      }

      else
      {
        --*(this + 8);
      }
    }

    *(v2 + 144) = 0;
    if (*(v1 + 16) == 1)
    {
      return (*(*v1 + 8))(v1);
    }

    else
    {
      --*(v1 + 16);
    }
  }

  return this;
}

uint64_t WebKit::WebFrame::commitProvisionalFrame(uint64_t this, void *a2)
{
  v2 = *(this + 56);
  *(this + 56) = 0;
  if (v2)
  {
    v3 = this;
    v4 = *(this + 40);
    if (!v4)
    {
      goto LABEL_64;
    }

    v5 = *(v4 + 8);
    if (!v5 || *(v5 + 136) != 1)
    {
      goto LABEL_64;
    }

    v6 = *(v5 + 16);
    *(v5 + 16) = v6 + 1;
    v7 = *(v5 + 24);
    if (!v7 || (v8 = *(v7 + 8)) == 0)
    {
LABEL_62:
      if (v6)
      {
        *(v5 + 16) = v6;
      }

      else
      {
        this = (*(*v5 + 8))(v5);
      }

LABEL_64:
      if (v2[4] == 1)
      {
        return (*(*v2 + 8))(v2);
      }

      --v2[4];
      return this;
    }

    ++*(v8 + 8);
    v9 = WebKit::WebProcess::singleton(this, a2);
    v10 = *(v3 + 144);
    *(v3 + 144) = 0;
    v11 = WebKit::WebProcess::webFrame(v9, v10, v10 != 0);
    if (v11)
    {
      v12 = v11;
      CFRetain(*(v11 + 8));
      v13 = *(v12 + 40);
      if (v13)
      {
        v14 = *(v13 + 8);
        if (v14)
        {
          ++*(v14 + 4);
          WebCore::Frame::takeWindowProxyAndOpenerFrom(v5, v14);
          if (*(v14 + 4) == 1)
          {
            (*(*v14 + 8))(v14);
          }

          else
          {
            --*(v14 + 4);
          }
        }
      }

      CFRelease(*(v12 + 8));
    }

    v15 = WebCore::FrameTree::parent((v5 + 40));
    v16 = v15;
    if (v15)
    {
      ++*(v15 + 16);
    }

    v17 = *(v5 + 112);
    if (v17)
    {
      v18 = *(v17 + 8);
      if (v18)
      {
        v19 = 0;
        *(v18 + 7) += 2;
LABEL_18:
        v20 = WebCore::Frame::ownerRenderer(v5);
        v21 = v20;
        if (v20)
        {
          ++*(v20 + 216);
        }

        if (v16)
        {
          WebCore::FrameTree::replaceChild((v16 + 10), v5, v2);
        }

        WebCore::Frame::disconnectOwnerElement(v5);
        v22 = *(v5 + 208);
        if (((*(*v22 + 160))(v22) & 1) == 0)
        {
          this = 96;
          __break(0xC471u);
          return this;
        }

        v23 = *(v22 + 24);
        *(v22 + 24) = 0;
        v34 = v23;
        *(v22 + 32) = 0;
        v35 = 0;
        WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v34);
        WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v2 + 2, v2);
        v25 = *(v2 + 1);
        if (v25)
        {
          atomic_fetch_add(v25, 1u);
        }

        v26 = *(v3 + 40);
        *(v3 + 40) = v25;
        if (v26 && atomic_fetch_add(v26, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v26);
          WTF::fastFree(v26, v24);
        }

        v34 = 0;
        WebCore::RemoteFrame::setView();
        v27 = v34;
        v34 = 0;
        if (v27)
        {
          if (v27[2] == 1)
          {
            (*(*v27 + 8))(v27);
          }

          else
          {
            --v27[2];
          }
        }

        WebCore::FrameTree::setSpecifiedName((v2 + 10), (v5 + 56));
        if (v21)
        {
          v28 = *(v2 + 27);
          if (v28)
          {
            ++v28[2];
          }

          v34 = v28;
          WebCore::RenderWidget::setWidget();
          v29 = v34;
          v34 = 0;
          if (v29)
          {
            if (v29[2] == 1)
            {
              (*(*v29 + 8))(v29);
            }

            else
            {
              --v29[2];
            }
          }
        }

        WebCore::Frame::setOwnerElement(v2, v18);
        v30 = *(v5 + 120);
        if (v30)
        {
          v30 = *(v30 + 8);
        }

        if (v30 == v5)
        {
          ++v2[4];
          v34 = v2;
          WebCore::Page::setMainFrame();
          v31 = v34;
          v34 = 0;
          if (v31)
          {
            if (v31[4] == 1)
            {
              (*(*v31 + 8))(v31);
            }

            else
            {
              --v31[4];
            }
          }
        }

        WebCore::Frame::takeWindowProxyAndOpenerFrom(v2, v5);
        v32 = *(v2 + 28);
        if (v32)
        {
          *(v32 + 7) += 2;
          WebCore::Document::didBecomeCurrentDocumentInFrame(v32);
          if (*(v32 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v32);
          }

          else
          {
            *(v32 + 7) -= 2;
          }
        }

        v33 = *(*(v8 + 80) + 16);
        if (v33)
        {
          v33 = *(v33 + 8);
        }

        if (v33 == v5)
        {
          WebCore::FocusController::setFocusedFrame();
        }

        if (v18)
        {
          WebCore::HTMLFrameOwnerElement::scheduleInvalidateStyleAndLayerComposition(v18);
        }

        if (v21)
        {
          if (v21[54] == 1)
          {
            (*(*v21 + 8))(v21);
          }

          else
          {
            --v21[54];
          }
        }

        if ((v19 & 1) == 0)
        {
          if (*(v18 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v18);
          }

          else
          {
            *(v18 + 7) -= 2;
          }
        }

        if (v16)
        {
          if (v16[4] == 1)
          {
            (*(*v16 + 8))(v16);
          }

          else
          {
            --v16[4];
          }
        }

        this = WTF::RefCounted<WebCore::Page>::deref((v8 + 8));
        v6 = *(v5 + 16) - 1;
        goto LABEL_62;
      }
    }

    else
    {
      v18 = 0;
    }

    v19 = 1;
    goto LABEL_18;
  }

  return this;
}

void WebKit::WebFrame::removeFromTree(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      v3 = v2[4];
      v2[4] = v3 + 1;
      v4 = *(this + 6);
      if (v4)
      {
        v5 = *(v4 + 8);
        if (v5)
        {
          CFRetain(*(v5 - 8));
          v6 = *(v5 + 40);
          if (v6)
          {
            v8 = *(v6 + 8);
            v7 = (v6 + 8);
            *v7 = v8 + 1;
            v9 = WebCore::FrameTree::parent((v2 + 10));
            if (v9)
            {
              v10 = v9;
              ++*(v9 + 16);
              WebCore::FrameTree::removeChild((v9 + 40), v2);
              if (v10[4] == 1)
              {
                (*(*v10 + 8))(v10);
              }

              else
              {
                --v10[4];
              }
            }

            (*(*v2 + 64))(v2);
            WTF::RefCounted<WebCore::Page>::deref(v7);
          }

          CFRelease(*(v5 - 8));
          v3 = v2[4] - 1;
        }
      }

      if (v3)
      {
        v2[4] = v3;
      }

      else
      {
        v11 = *(*v2 + 8);

        v11(v2);
      }
    }
  }
}

uint64_t WebKit::WebFrame::didFinishLoadInAnotherProcess(uint64_t this)
{
  v1 = *(this + 40);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      ++v2[4];
      this = (*(*v2 + 48))(v2);
      if (v2[4] == 1)
      {
        v3 = *(*v2 + 8);

        return v3(v2);
      }

      else
      {
        --v2[4];
      }
    }
  }

  return this;
}

void WebKit::WebFrame::invalidatePolicyListeners(CFTypeRef *this)
{
  CFRetain(this[1]);
  *(this + 72) = 0;
  *(this + 80) = 0;
  v8 = this[8];
  this[8] = 0;
  v3 = WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::begin(&v8);
  v4 = v2;
  v5 = v8;
  if (v8)
  {
    v6 = &v8[3 * *(v8 - 1)];
  }

  else
  {
    v6 = 0;
  }

  if (v6 != v3)
  {
    do
    {
      v7 = v3[2];
      v3[2] = 0;
      (*(*v7 + 16))(v7, 2);
      (*(*v7 + 8))(v7);
      do
      {
        v3 += 3;
      }

      while (v3 != v4 && (*v3 + 1) <= 1);
    }

    while (v3 != v6);
    v5 = v8;
  }

  if (v5)
  {
    WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::deallocateTable(v5, v2);
  }

  if (this)
  {
    CFRelease(this[1]);
  }
}

void WebKit::WebFrame::didReceivePolicyDecision(WebKit::WebFrame *this, uint64_t a2, __int16 *a3)
{
  v6 = *(this + 6);
  if (v6)
  {
    v7 = *(v6 + 8);
    if (v7)
    {
      CFRetain(*(v7 - 8));
      v8 = *a3;
      CFRetain(*(this + 1));
      *(this + 64) = v8;
      *(v7 + 1930) = 1;
      CFRelease(*(this + 1));
      if (*(a3 + 200) == 1)
      {
        WebKit::WebPage::addConsoleMessage((v7 - 16), *(this + 11));
      }

      CFRelease(*(v7 - 8));
    }
  }

  v9 = *(this + 5);
  if (v9)
  {
    if (*(v9 + 8))
    {
      v10 = *(this + 8);
      *(this + 130) = *(a3 + 208);
      if (v10)
      {
        if (a2 == -1 || !a2)
        {
LABEL_54:
          __break(0xC471u);
          JUMPOUT(0x19E3CC6A8);
        }

        v11 = *(v10 - 8);
        v12 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
        v13 = 9 * ((v12 + ~(v12 << 13)) ^ ((v12 + ~(v12 << 13)) >> 8));
        v14 = (v13 ^ (v13 >> 15)) + ~((v13 ^ (v13 >> 15)) << 27);
        v15 = v11 & ((v14 >> 31) ^ v14);
        v16 = (v10 + 24 * v15);
        v17 = *v16;
        if (*v16 != a2)
        {
          v30 = 1;
          while (v17)
          {
            v15 = (v15 + v30) & v11;
            v16 = (v10 + 24 * v15);
            v17 = *v16;
            ++v30;
            if (*v16 == a2)
            {
              goto LABEL_12;
            }
          }

          v16 = (v10 + 24 * *(v10 - 4));
        }

LABEL_12:
        v18 = *(v10 - 4);
        if ((v10 + 24 * v18) != v16)
        {
          v19 = *(v16 + 8);
          v20 = v16[2];
          *v16 = -1;
          v16[2] = 0;
          v21 = vadd_s32(*(v10 - 16), 0xFFFFFFFF00000001);
          *(v10 - 16) = v21;
          if (v18 >= 9 && 6 * v21.i32[1] < v18)
          {
            WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::rehash(this + 8, v18 >> 1, 0);
          }

          if (v20)
          {
            if (!v19 || !WebKit::WebFrame::localFrameLoaderClient(this) || *(a3 + 160) != 1)
            {
              goto LABEL_26;
            }

            if (WebKit::WebFrame::page(this))
            {
              v22 = WebKit::WebFrame::page(this);
              if ((a3[80] & 1) == 0)
              {
                goto LABEL_53;
              }

              *(v22 + 1944) = *(a3 + 144);
            }

            v23 = WebKit::WebFrame::localFrameLoaderClient(this);
            if (v23)
            {
              v24 = v23;
              WebCore::LocalFrameLoaderClient::ref(v23);
              if (a3[80])
              {
                WebKit::WebLocalFrameLoaderClient::applyWebsitePolicies(v24, (a3 + 20));
                WebCore::LocalFrameLoaderClient::deref(v24);
                goto LABEL_26;
              }
            }

            else if (a3[80])
            {
              WebKit::WebLocalFrameLoaderClient::applyWebsitePolicies(0, (a3 + 20));
LABEL_26:
              v25 = *(a3 + 3);
              *(this + 80) = *(a3 + 32);
              *(this + 9) = v25;
              if (*(a3 + 16) == 1)
              {
                v26 = *(this + 5);
                if (v26)
                {
                  v27 = *(v26 + 8);
                  if (v27)
                  {
                    if ((*(v27 + 136) & 1) == 0)
                    {
                      ++*(v27 + 16);
                      v28 = *(*(v27 + 208) + 112);
                      if (v28)
                      {
                        ++v28[6];
                        WebCore::DocumentLoader::setNavigationID();
                        if (v28[6] == 1)
                        {
                          (*(*v28 + 24))(v28);
                        }

                        else
                        {
                          --v28[6];
                        }
                      }

                      if (*(v27 + 16) == 1)
                      {
                        (*(*v27 + 8))(v27);
                      }

                      else
                      {
                        --*(v27 + 16);
                      }
                    }
                  }
                }
              }

              if (*(a3 + 2))
              {
                goto LABEL_37;
              }

              if (*(a3 + 176) != 1)
              {
                goto LABEL_37;
              }

              v31 = WebKit::WebFrame::page(this);
              if (!v31)
              {
                goto LABEL_37;
              }

              v32 = v31;
              CFRetain(*(v31 + 8));
              v33 = *(v32 + 88);
              CFRetain(*(v33 + 8));
              if (a3[88])
              {
                WebKit::WebPage::SandboxExtensionTracker::beginLoad((v32 + 648), a3 + 21);
                CFRelease(*(v33 + 8));
                CFRelease(*(v32 + 8));
LABEL_37:
                (*(*v20 + 16))(v20, *(a3 + 2));
                v29 = *(*v20 + 8);

                v29(v20);
                return;
              }
            }

LABEL_53:
            __break(1u);
            goto LABEL_54;
          }
        }
      }
    }
  }
}

IPC::Encoder *WebKit::WebFrame::startDownload(IPC::Encoder *result, void *a2, uint64_t *a3, char a4)
{
  v49 = *MEMORY[0x1E69E9840];
  if (*(result + 80) != 1)
  {
    return result;
  }

  v7 = result;
  v8 = *(result + 5);
  if (!v8 || (v9 = *(v8 + 8)) == 0 || *(v9 + 136) == 1)
  {
    v16 = 0;
    v9 = 0;
    v14 = 1;
    goto LABEL_17;
  }

  ++*(v9 + 16);
  v10 = *(v9 + 224);
  if (!v10)
  {
    v14 = 0;
    v16 = 1;
LABEL_17:
    v11 = 0;
    v15 = 0;
    LOBYTE(v45[0]) = 0;
    v48 = 0;
    goto LABEL_18;
  }

  *(v10 + 7) += 2;
  result = WebCore::Document::topOrigin(v10);
  LOBYTE(v45[0]) = 0;
  v47 = -1;
  v11 = *(result + 32);
  if (*(result + 32))
  {
    if (v11 == 255)
    {
      goto LABEL_13;
    }

    *v45 = *(result + 8);
  }

  else
  {
    v12 = *(result + 1);
    if (v12)
    {
      atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
    }

    v45[0] = v12;
    v13 = *(result + 2);
    if (v13)
    {
      atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
    }

    v45[1] = v13;
    v46 = *(result + 6);
    v11 = *(result + 32);
  }

  v47 = v11;
LABEL_13:
  v48 = 1;
  if (*(v10 + 7) == 2)
  {
    result = WebCore::Node::removedLastRef(v10);
    v14 = 0;
  }

  else
  {
    v14 = 0;
    *(v10 + 7) -= 2;
  }

  v15 = 1;
  v16 = 1;
LABEL_18:
  if ((v7[10] & 1) == 0)
  {
    __break(1u);
    goto LABEL_53;
  }

  v17 = v7[9];
  *(v7 + 80) = 0;
  v42 = v17;
  if (v16)
  {
    LOWORD(v11) = *(v7 + 64);
    v7 = &qword_1ED643000;
    {
      v18 = WebKit::WebProcess::singleton(void)::process;
      goto LABEL_22;
    }

LABEL_53:
    v29 = WebKit::WebProcess::operator new(0x370, a2);
    v18 = WebKit::WebProcess::WebProcess(v29);
    WebKit::WebProcess::singleton(void)::process = v18;
    *(v7 + 2024) = 1;
LABEL_22:
    v20 = WebKit::WebProcess::ensureNetworkProcessConnection(v18);
    ++*(v20 + 20);
    v21 = *(v20 + 24);
    v22 = *(v9 + 24);
    v32 = *(v9 + 32);
    v33 = 1;
    if (v22)
    {
      v23 = *(v22 + 8);
      if (v23)
      {
        v22 = *(v23 + 40) & 0xFFFFFFFFFFFFFF00;
        v24 = *(v23 + 40);
        LOBYTE(v23) = *(v23 + 48);
LABEL_25:
        v30 = v24 | v22;
        v31 = v23;
        v34 = &v42;
        v35 = a2;
        v36 = v45;
        v37 = v11;
        v38 = a3;
        v39 = a4;
        v40 = &v32;
        v41 = &v30;
        v25 = IPC::Encoder::operator new(0x238, v19);
        *v25 = 493;
        *(v25 + 68) = 0;
        *(v25 + 70) = 0;
        *(v25 + 69) = 0;
        *(v25 + 2) = 0;
        *(v25 + 3) = 0;
        *(v25 + 1) = 0;
        IPC::Encoder::encodeHeader(v25);
        v43 = v25;
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v25, v42);
        IPC::ArgumentCoder<WebCore::ResourceRequest,void>::encode(v25, a2);
        IPC::ArgumentCoder<std::optional<WebCore::SecurityOriginData>,void>::encode<IPC::Encoder,std::optional<WebCore::SecurityOriginData> const&>(v25, v45);
        IPC::ArgumentCoder<std::optional<WebKit::NavigatingToAppBoundDomain>,void>::encode<IPC::Encoder,std::optional<WebKit::NavigatingToAppBoundDomain>&>(v25, &v37);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v25, v38);
        v44 = v39;
        IPC::Encoder::operator<<<BOOL>(v25, &v44);
        IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v25, v40);
        IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::NavigationIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v25, v41);
        IPC::Connection::sendMessageImpl(v21, &v43, 0, 0);
        result = v43;
        v43 = 0;
        if (result)
        {
          IPC::Encoder::~Encoder(result, a2);
          result = bmalloc::api::tzoneFree(v27, v28);
        }

        if (*(v20 + 20) == 1)
        {
          result = (*(*v20 + 24))(v20);
        }

        else
        {
          --*(v20 + 20);
        }

        if ((v48 & 1) == 0)
        {
          goto LABEL_39;
        }

        v11 = v47;
        goto LABEL_32;
      }

      v22 = 0;
    }

    else
    {
      LOBYTE(v23) = 0;
    }

    v24 = 0;
    goto LABEL_25;
  }

  if (v15)
  {
LABEL_32:
    if (!v11)
    {
      v26 = v45[1];
      v45[1] = 0;
      if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v26, a2);
      }

      result = v45[0];
      v45[0] = 0;
      if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        result = WTF::StringImpl::destroy(result, a2);
      }
    }
  }

LABEL_39:
  if ((v14 & 1) == 0)
  {
    if (*(v9 + 16) == 1)
    {
      return (*(*v9 + 8))(v9);
    }

    else
    {
      --*(v9 + 16);
    }
  }

  return result;
}

IPC::Encoder *WebKit::WebFrame::convertMainResourceLoadToDownload(IPC::Encoder *this, WebCore::DocumentLoader *a2, const WebCore::ResourceRequest *a3, const WebCore::ResourceResponse *a4)
{
  v38 = *MEMORY[0x1E69E9840];
  if (*(this + 80) != 1)
  {
    return this;
  }

  v7 = a2;
  v8 = this;
  v9 = *(this + 5);
  if (!v9 || (v10 = *(v9 + 8)) == 0 || *(v10 + 136) == 1)
  {
    v10 = 0;
    v14 = 1;
    goto LABEL_16;
  }

  ++*(v10 + 16);
  v4 = *(v10 + 224);
  if (!v4)
  {
    v14 = 0;
LABEL_16:
    LOBYTE(v34[0]) = 0;
    v37 = 0;
    goto LABEL_17;
  }

  *(v4 + 7) += 2;
  v11 = WebCore::Document::topOrigin(v4);
  LOBYTE(v34[0]) = 0;
  v36 = -1;
  LODWORD(v12) = *(v11 + 32);
  if (!*(v11 + 32))
  {
    v13 = *(v11 + 8);
    if (v13)
    {
      atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
    }

    v34[0] = v13;
    v12 = *(v11 + 16);
    if (v12)
    {
      atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
    }

    v34[1] = v12;
    v35 = *(v11 + 24);
    LOBYTE(v12) = *(v11 + 32);
    goto LABEL_12;
  }

  if (v12 != 255)
  {
    *v34 = *(v11 + 8);
LABEL_12:
    v36 = v12;
  }

  v37 = 1;
  if (*(v4 + 7) == 2)
  {
    WebCore::Node::removedLastRef(v4);
    v14 = 0;
  }

  else
  {
    v14 = 0;
    *(v4 + 7) -= 2;
  }

LABEL_17:
  if ((*(v8 + 20) & 1) == 0)
  {
    __break(1u);
    goto LABEL_50;
  }

  v15 = *(v8 + 9);
  *(v8 + 80) = 0;
  v32 = v15;
  v16 = WebCore::DocumentLoader::mainResourceLoader(v7);
  v7 = v16;
  if (v16)
  {
    ++*(v16 + 16);
    v4 = &qword_1ED643000;
    {
      v17 = WebKit::WebProcess::singleton(void)::process;
LABEL_21:
      v18 = *(v7 + 94) != 0;
      v30 = *(v7 + 94);
      v31 = v18;
      goto LABEL_22;
    }

LABEL_50:
    v27 = WebKit::WebProcess::operator new(0x370, a2);
    v17 = WebKit::WebProcess::WebProcess(v27);
    WebKit::WebProcess::singleton(void)::process = v17;
    *(v4 + 2024) = 1;
    goto LABEL_21;
  }

  {
    v17 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v28 = WebKit::WebProcess::operator new(0x370, a2);
    v17 = WebKit::WebProcess::WebProcess(v28);
    WebKit::WebProcess::singleton(void)::process = v17;
  }

  LOBYTE(v30) = 0;
  v31 = 0;
LABEL_22:
  v19 = *(v8 + 64);
  v20 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v17) + 24);
  *v29 = v19;
  v22 = IPC::Encoder::operator new(0x238, v21);
  *v22 = 436;
  *(v22 + 68) = 0;
  *(v22 + 70) = 0;
  *(v22 + 69) = 0;
  *(v22 + 2) = 0;
  *(v22 + 3) = 0;
  *(v22 + 1) = 0;
  IPC::Encoder::encodeHeader(v22);
  v33 = v22;
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v22, &v30);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v22, v32);
  IPC::ArgumentCoder<WebCore::ResourceRequest,void>::encode(v22, a3);
  IPC::ArgumentCoder<std::optional<WebCore::SecurityOriginData>,void>::encode<IPC::Encoder,std::optional<WebCore::SecurityOriginData> const&>(v22, v34);
  IPC::ArgumentCoder<WebCore::ResourceResponse,void>::encode(v22, a4);
  IPC::ArgumentCoder<std::optional<WebKit::NavigatingToAppBoundDomain>,void>::encode<IPC::Encoder,std::optional<WebKit::NavigatingToAppBoundDomain>&>(v22, v29);
  IPC::Connection::sendMessageImpl(v20, &v33, 0, 0);
  this = v33;
  v33 = 0;
  if (this)
  {
    IPC::Encoder::~Encoder(this, v23);
    this = bmalloc::api::tzoneFree(v25, v26);
    if (v7)
    {
LABEL_24:
      if (*(v7 + 4) == 1)
      {
        this = (*(*v7 + 8))(v7);
      }

      else
      {
        --*(v7 + 4);
      }
    }
  }

  else if (v7)
  {
    goto LABEL_24;
  }

  if (v37 == 1 && !v36)
  {
    v24 = v34[1];
    v34[1] = 0;
    if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v24, v23);
    }

    this = v34[0];
    v34[0] = 0;
    if (this && atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      this = WTF::StringImpl::destroy(this, v23);
    }
  }

  if ((v14 & 1) == 0)
  {
    if (*(v10 + 16) == 1)
    {
      return (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 16);
    }
  }

  return this;
}

uint64_t WebKit::WebFrame::addConsoleMessage(uint64_t result)
{
  v1 = *(result + 40);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      if ((*(v2 + 136) & 1) == 0)
      {
        ++*(v2 + 16);
        v3 = *(v2 + 224);
        if (v3)
        {
          *(v3 + 7) += 2;
          result = WebCore::Document::addConsoleMessage();
          if (*(v3 + 7) == 2)
          {
            result = WebCore::Node::removedLastRef(v3);
          }

          else
          {
            *(v3 + 7) -= 2;
          }
        }

        if (*(v2 + 16) == 1)
        {
          v4 = *(*v2 + 8);

          return v4(v2);
        }

        else
        {
          --*(v2 + 16);
        }
      }
    }
  }

  return result;
}

WebCore::TextResourceDecoder *WebKit::WebFrame::source@<X0>(WebCore::TextResourceDecoder *this@<X0>, void *a2@<X8>)
{
  v3 = *(this + 5);
  if (!v3 || (v4 = *(v3 + 8)) == 0 || (*(v4 + 136) & 1) != 0)
  {
    *a2 = 0;
    return this;
  }

  ++*(v4 + 16);
  v5 = *(v4 + 224);
  if (v5)
  {
    v6 = *(v5 + 28);
    *(v5 + 28) = v6 + 2;
    v7 = *(v5 + 1816);
    if (v7)
    {
      ++*v7;
      active = WebCore::FrameLoader::activeDocumentLoader(*(v4 + 208));
      if (active)
      {
        v9 = active;
        ++active[6];
        WebCore::DocumentLoader::mainResourceData(&v13, active);
        if (v13)
        {
          WebCore::FragmentedSharedBuffer::makeContiguous(&v12, v13);
          WebCore::SharedBuffer::span(v12);
          v14 = 0;
          PAL::TextEncoding::decode();
          v10 = v12;
          v12 = 0;
          if (v10 && atomic_fetch_add(v10 + 2, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v10 + 2);
            (*(*v10 + 8))(v10);
          }

          v11 = v13;
          v13 = 0;
          if (v11 && atomic_fetch_add(v11 + 2, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v11 + 2);
            (*(*v11 + 8))(v11);
          }
        }

        else
        {
          *a2 = 0;
        }

        if (v9[6] == 1)
        {
          (*(*v9 + 24))(v9);
        }

        else
        {
          --v9[6];
        }
      }

      else
      {
        *a2 = 0;
      }

      this = WTF::RefCounted<WebCore::TextResourceDecoder>::deref(v7);
      v6 = *(v5 + 28) - 2;
      if (*(v5 + 28) != 2)
      {
        goto LABEL_18;
      }
    }

    else
    {
      *a2 = 0;
      if (v6)
      {
LABEL_18:
        *(v5 + 28) = v6;
        goto LABEL_19;
      }
    }

    this = WebCore::Node::removedLastRef(v5);
  }

  else
  {
    *a2 = 0;
  }

LABEL_19:
  if (*(v4 + 16) == 1)
  {
    return (*(*v4 + 8))(v4);
  }

  --*(v4 + 16);
  return this;
}

uint64_t WebKit::WebFrame::contentsAsString@<X0>(uint64_t this@<X0>, Node *a2@<X1>, atomic_uint **a3@<X8>)
{
  v4 = *(this + 40);
  if (!v4 || (v5 = *(v4 + 8)) == 0 || (*(v5 + 136) & 1) != 0)
  {
    *a3 = 0;
    return this;
  }

  v6 = this;
  *(v5 + 16) += 2;
  v7 = *(v5 + 224);
  if (v7)
  {
    *(v7 + 7) += 2;
    this = (*(*v7 + 384))(v7);
    v8 = this;
    if (*(v7 + 7) == 2)
    {
      this = WebCore::Node::removedLastRef(v7);
    }

    else
    {
      *(v7 + 7) -= 2;
    }
  }

  else
  {
    v8 = 0;
  }

  if (*(v5 + 16) == 1)
  {
    this = (*(*v5 + 8))(v5);
  }

  else
  {
    --*(v5 + 16);
  }

  if (v8)
  {
    v21[0] = 0;
    v21[1] = 0;
    LODWORD(v22) = 0;
    BYTE4(v22) = 1;
    v12 = *(v6 + 40);
    if (!v12 || (v13 = *(v12 + 8)) == 0)
    {
      this = 121;
      __break(0xC471u);
      return this;
    }

    v14 = *(v13 + 80);
    if (v14)
    {
      ++*(v14 + 16);
      do
      {
        if (v22)
        {
          WTF::StringBuilder::append(v21, 0x20u);
        }

        WebKit::WebFrame::fromCoreFrame(v14, &v24);
        v15 = v24;
        if (v24)
        {
          WebKit::WebFrame::contentsAsString(&v23, v24);
          WTF::StringBuilder::append(v21, &v23);
          v17 = v23;
          v23 = 0;
          if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v17, v16);
          }

          CFRelease(*(v15 + 1));
        }

        v18 = *(v14 + 64);
        if (v18)
        {
          ++*(v18 + 16);
        }

        if (*(v14 + 16) == 1)
        {
          (*(*v14 + 8))(v14);
        }

        else
        {
          --*(v14 + 16);
        }

        v14 = v18;
      }

      while (v18);
    }

    v20 = *WTF::StringBuilder::toString(v21);
    if (v20)
    {
      atomic_fetch_add_explicit(v20, 2u, memory_order_relaxed);
    }

    *a3 = v20;
    this = WTF::KeyValuePair<WTF::String,WTF::String>::~KeyValuePair(v21, v19);
  }

  else
  {
    v9 = *(v5 + 224);
    if (v9)
    {
      *(v9 + 28) += 2;
      v10 = *(v9 + 1336);
      if (v10)
      {
        *(v10 + 7) += 2;
        WebCore::makeRangeSelectingNodeContents(v21, v10, a2);
        WebCore::plainText();
        v11 = v22;
        v22 = 0;
        if (v11)
        {
          if (*(v11 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v11);
          }

          else
          {
            *(v11 + 7) -= 2;
          }
        }

        this = v21[0];
        v21[0] = 0;
        if (this)
        {
          if (*(this + 28) == 2)
          {
            this = WebCore::Node::removedLastRef(this);
          }

          else
          {
            *(this + 28) -= 2;
          }
        }

        if (*(v10 + 7) == 2)
        {
          this = WebCore::Node::removedLastRef(v10);
        }

        else
        {
          *(v10 + 7) -= 2;
        }
      }

      else
      {
        *a3 = 0;
      }

      if (*(v9 + 28) == 2)
      {
        this = WebCore::Node::removedLastRef(v9);
      }

      else
      {
        *(v9 + 28) -= 2;
      }
    }

    else
    {
      *a3 = 0;
    }
  }

  if (*(v5 + 16) == 1)
  {
    return (*(*v5 + 8))(v5);
  }

  --*(v5 + 16);
  return this;
}

WTF::StringImpl *WTF::StringBuilder::append(WTF::StringImpl **this, atomic_uint **a2)
{
  if (*(this + 4) || this[1])
  {
    v7 = *a2;
    if (*a2)
    {
      v8 = *(v7 + 1);
      v9 = v7[1] | (((v7[4] >> 2) & 1) << 32);
    }

    else
    {
      v8 = 0;
      v9 = 0x100000000;
    }

    return WTF::StringBuilder::append(this, v8, v9);
  }

  else
  {
    v4 = *a2;
    if (*a2)
    {
      atomic_fetch_add_explicit(v4, 2u, memory_order_relaxed);
    }

    result = *this;
    *this = v4;
    if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      result = WTF::StringImpl::destroy(result, a2);
    }

    v6 = *a2;
    if (*a2)
    {
      LODWORD(v6) = v6[1];
    }

    *(this + 4) = v6;
  }

  return result;
}

uint64_t WebKit::WebFrame::selectionAsString@<X0>(uint64_t this@<X0>, void *a2@<X8>)
{
  v3 = *(this + 40);
  if (v3 && (v4 = *(v3 + 8)) != 0 && *(v4 + 136) != 1)
  {
    ++*(v4 + 16);
    v5 = *(v4 + 224);
    if (v5)
    {
      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    else
    {
      v6 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v6);
    WebCore::Editor::selectedText(&v9, v6);
    WebCore::LocalFrame::displayStringModifiedByEncoding(v4, &v9);
    v8 = v9;
    v9 = 0;
    if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v8, v7);
    }

    this = WebCore::Editor::deref(v6);
    if (*(v4 + 16) == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  else
  {
    *a2 = 0;
  }

  return this;
}

uint64_t WebKit::WebFrame::isRootFrame(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return 0;
  }

  ++v2[4];
  v3 = (*(*v2 + 16))(v2);
  if (v2[4] == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --v2[4];
  }

  return v3;
}

WTF::StringImpl *WebKit::WebFrame::name@<X0>(WTF::StringImpl *this@<X0>, WTF::StringImpl **a2@<X8>)
{
  v3 = *(this + 5);
  if (v3 && (v4 = *(v3 + 8)) != 0)
  {
    ++v4[4];
    this = WebCore::FrameTree::uniqueName(&v7, (v4 + 10));
    v6 = v7;
    if (v7)
    {
      atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
      this = v7;
      *a2 = v6;
      v7 = 0;
      if (this && atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        this = WTF::StringImpl::destroy(this, v5);
      }
    }

    else
    {
      *a2 = 0;
    }

    if (v4[4] == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[4];
    }
  }

  else
  {
    *a2 = 0;
  }

  return this;
}

uint64_t *WebKit::WebFrame::innerText(uint64_t *this, uint64_t a2)
{
  if (a2 && (v2 = *(a2 + 8)) != 0 && (*(v2 + 136) & 1) == 0)
  {
    ++*(v2 + 16);
    v3 = *(v2 + 224);
    v4 = *(v3 + 1336);
    if (v4)
    {
      *(v3 + 28) += 2;
      *(v4 + 7) += 2;
      this = WebCore::Element::innerText(this, v4);
      if (*(v4 + 7) == 2)
      {
        this = WebCore::Node::removedLastRef(v4);
      }

      else
      {
        *(v4 + 7) -= 2;
      }

      if (*(v3 + 28) == 2)
      {
        this = WebCore::Node::removedLastRef(v3);
      }

      else
      {
        *(v3 + 28) -= 2;
      }
    }

    else
    {
      *this = 0;
    }

    if (*(v2 + 16) == 1)
    {
      v5 = *(*v2 + 8);

      return v5(v2);
    }

    else
    {
      --*(v2 + 16);
    }
  }

  else
  {
    *this = 0;
  }

  return this;
}

uint64_t WebKit::WebFrame::childFrames@<X0>(WebKit::WebFrame *this@<X0>, API::Object **a2@<X8>)
{
  v3 = *(this + 5);
  if (v3 && (v4 = *(v3 + 8)) != 0)
  {
    v6 = WebCore::FrameTree::childCount((v4 + 40));
    if (v6)
    {
      v19 = 0;
      if (v6 >> 29 || (LODWORD(v19) = v6, v18 = WTF::fastMalloc((8 * v6)), (v9 = *(this + 5)) == 0) || (v10 = *(v9 + 8)) == 0)
      {
        __break(0xC471u);
        JUMPOUT(0x19E3CDB18);
      }

      v11 = *(v10 + 80);
      if (v11)
      {
        ++*(v11 + 4);
        v17 = v11;
        do
        {
          WebKit::WebFrame::fromCoreFrame(v11, &v16);
          v12 = v16;
          if (v16)
          {
            v13 = HIDWORD(v19);
            if (HIDWORD(v19) == v19)
            {
              WTF::Vector<WTF::RefPtr<API::Object,WTF::RawPtrTraits<API::Object>,WTF::DefaultRefDerefTraits<API::Object>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,API::Object*>(&v18, &v16);
            }

            else
            {
              v14 = v18;
              CFRetain(*(v16 + 8));
              *(v14 + 8 * v13) = v12;
              ++HIDWORD(v19);
            }

            v15 = v16;
            v16 = 0;
            if (v15)
            {
              CFRelease(*(v15 + 8));
            }
          }

          WTF::RefPtr<WebCore::Frame,WTF::RawPtrTraits<WebCore::Frame>,WTF::DefaultRefDerefTraits<WebCore::Frame>>::operator=(&v17, *(v17 + 8));
          v11 = v17;
        }

        while (v17);
      }
    }

    else
    {
      v18 = 0;
      v19 = 0;
    }

    API::Array::create(&v18, a2);
    return WTF::Vector<WTF::RefPtr<API::Object,WTF::RawPtrTraits<API::Object>,WTF::DefaultRefDerefTraits<API::Object>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v18, v7);
  }

  else
  {

    return API::Array::create(a2);
  }
}

uint64_t WebKit::WebFrame::layerTreeAsText@<X0>(uint64_t this@<X0>, atomic_uint **a2@<X8>)
{
  v3 = *(this + 40);
  if (v3 && (v4 = *(v3 + 8)) != 0 && *(v4 + 136) != 1)
  {
    ++*(v4 + 16);
    v5 = WebCore::LocalFrame::contentRenderer(v4);
    WebCore::RenderView::compositor(v5);
    this = WebCore::RenderLayerCompositor::layerTreeAsText();
    if (*(v4 + 16) == 1)
    {
      v7 = *(*v4 + 8);

      return v7(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  else
  {
    v6 = *MEMORY[0x1E696EBA8];
    if (*MEMORY[0x1E696EBA8])
    {
      atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed);
    }

    *a2 = v6;
  }

  return this;
}

uint64_t WebKit::WebFrame::pendingUnloadCount(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2 || (*(v2 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v2 + 16);
  v3 = *(v2 + 224);
  if (v3)
  {
    *(v3 + 28) += 2;
  }

  v4 = *(v3 + 736);
  if (v4)
  {
    ++*(v4 + 6);
    v5 = WebCore::LocalDOMWindow::pendingUnloadEventListeners(v4);
    if (*(v4 + 6) == 1)
    {
      (*(*v4 + 72))(v4);
    }

    else
    {
      --*(v4 + 6);
    }
  }

  else
  {
    v5 = WebCore::LocalDOMWindow::pendingUnloadEventListeners(0);
  }

  if (*(v3 + 28) == 2)
  {
    WebCore::Node::removedLastRef(v3);
  }

  else
  {
    *(v3 + 28) -= 2;
  }

  if (*(v2 + 16) == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --*(v2 + 16);
  }

  return v5;
}

uint64_t WebKit::WebFrame::allowsFollowingLink(WebKit::WebFrame *this, const WTF::URL *a2)
{
  v2 = *(this + 5);
  if (!v2)
  {
    return 1;
  }

  v3 = *(v2 + 8);
  if (!v3 || (*(v3 + 136) & 1) != 0)
  {
    return 1;
  }

  ++*(v3 + 16);
  v4 = *(v3 + 224);
  if (v4)
  {
    v4[7] += 2;
  }

  v5 = WebCore::SecurityContext::protectedSecurityOrigin(&v10, (v4 + 52));
  v6 = v10;
  WebCore::OriginAccessPatternsForWebProcess::singleton(v5);
  canDisplay = WebCore::SecurityOrigin::canDisplay();
  if (v6)
  {
    WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(v6, v7);
    if (v4)
    {
LABEL_8:
      if (v4[7] == 2)
      {
        WebCore::Node::removedLastRef(v4);
      }

      else
      {
        v4[7] -= 2;
      }
    }
  }

  else if (v4)
  {
    goto LABEL_8;
  }

  if (*(v3 + 16) == 1)
  {
    (*(*v3 + 8))(v3);
  }

  else
  {
    --*(v3 + 16);
  }

  return canDisplay;
}

uint64_t WebKit::WebFrame::jsContext(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2 || (*(v2 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v2 + 16);
  v3 = *(v2 + 232);
  v4 = WebCore::mainThreadNormalWorldSingleton(this);
  v5 = *(WebCore::ScriptController::jsWindowProxy(v3, v4) + 16);
  if (*(v2 + 16) == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --*(v2 + 16);
  }

  return v5;
}

uint64_t WebKit::WebFrame::jsContextForWorld(WebKit::WebFrame *this, WebCore::DOMWrapperWorld *a2)
{
  v2 = *(this + 5);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 8);
  if (!v3 || (*(v3 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v3 + 16);
  v4 = *(WebCore::ScriptController::jsWindowProxy(*(v3 + 232), a2) + 16);
  if (*(v3 + 16) == 1)
  {
    (*(*v3 + 8))(v3);
  }

  else
  {
    --*(v3 + 16);
  }

  return v4;
}

uint64_t WebKit::WebFrame::jsContextForWorld(WebKit::WebFrame *this, WebKit::InjectedBundleScriptWorld *a2)
{
  v2 = *(a2 + 3);
  ++*v2;
  v3 = WebKit::WebFrame::jsContextForWorld(this, v2);
  WTF::RefCounted<WebCore::DOMWrapperWorld>::deref(v2);
  return v3;
}

uint64_t WebKit::WebFrame::jsContextForServiceWorkerWorld(WebKit::WebFrame *this, WebCore::DOMWrapperWorld *a2)
{
  v2 = *(this + 5);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 8);
  if (!v3)
  {
    return 0;
  }

  v4 = *(v3 + 24);
  if (!v4)
  {
    return 0;
  }

  v5 = *(v4 + 8);
  if (!v5)
  {
    return 0;
  }

  v6 = v5 + 2;
  ++v5[2];
  v7 = WebCore::Page::serviceWorkerGlobalObject(v5, a2);
  WTF::RefCounted<WebCore::Page>::deref(v6);
  return v7;
}

uint64_t WebKit::WebFrame::setAccessibleName(uint64_t this, const WTF::AtomString *a2)
{
  v2 = atomic_load(MEMORY[0x1E69E2500]);
  if (v2)
  {
    v3 = *(this + 40);
    if (v3)
    {
      v4 = *(v3 + 8);
      if (v4)
      {
        if ((*(v4 + 136) & 1) == 0)
        {
          ++*(v4 + 16);
          v5 = *(v4 + 224);
          if (v5)
          {
            *(v5 + 7) += 2;
            v7 = WebCore::Document::axObjectCache(v5);
            this = WebCore::AXObjectCache::rootObjectForFrame(v7, v4);
            if (this)
            {
              v8 = this;
              ++*(this + 16);
              this = (*(*this + 1184))(this, a2);
              if (v8[4] == 1)
              {
                this = (*(*v8 + 8))(v8);
              }

              else
              {
                --v8[4];
              }
            }

            if (*(v5 + 7) == 2)
            {
              this = WebCore::Node::removedLastRef(v5);
            }

            else
            {
              *(v5 + 7) -= 2;
            }
          }

          if (*(v4 + 16) == 1)
          {
            v9 = *(*v4 + 8);

            return v9(v4);
          }

          else
          {
            --*(v4 + 16);
          }
        }
      }
    }
  }

  return this;
}

uint64_t WebKit::WebFrame::contentBounds(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      ++v2[4];
      v3 = (*(*v2 + 56))(v2);
      if (v3)
      {
        v4 = v3;
        ++*(v3 + 2);
        WebCore::ScrollView::contentsSize(v3);
        WebCore::ScrollView::contentsSize(v4);
        if (*(v4 + 2) == 1)
        {
          (*(*v4 + 8))(v4);
        }

        else
        {
          --*(v4 + 2);
        }
      }

      if (v2[4] == 1)
      {
        (*(*v2 + 8))(v2);
      }

      else
      {
        --v2[4];
      }
    }
  }

  return 0;
}

uint64_t WebKit::WebFrame::visibleContentBounds(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      ++v2[4];
      v3 = (*(*v2 + 56))(v2);
      if (v3)
      {
        v4 = v3;
        ++*(v3 + 8);
        WebCore::ScrollableArea::visibleContentRectIncludingScrollbars();
        if (v4[2] == 1)
        {
          (*(*v4 + 8))(v4);
        }

        else
        {
          --v4[2];
        }
      }

      if (v2[4] == 1)
      {
        (*(*v2 + 8))(v2);
      }

      else
      {
        --v2[4];
      }
    }
  }

  return 0;
}

uint64_t WebKit::WebFrame::visibleContentBoundsExcludingScrollbars(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      if ((*(v2 + 136) & 1) == 0)
      {
        ++*(v2 + 16);
        v3 = *(v2 + 216);
        if (v3)
        {
          ++v3[2];
          WebCore::ScrollableArea::visibleContentRect();
          if (v3[2] == 1)
          {
            (*(*v3 + 8))(v3);
          }

          else
          {
            --v3[2];
          }
        }

        if (*(v2 + 16) == 1)
        {
          (*(*v2 + 8))(v2);
        }

        else
        {
          --*(v2 + 16);
        }
      }
    }
  }

  return 0;
}

unint64_t WebKit::WebFrame::scrollOffset(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (v1 && (v2 = *(v1 + 8)) != 0)
  {
    ++v2[4];
    v3 = (*(*v2 + 56))(v2);
    if (v3)
    {
      v4 = v3;
      ++*(v3 + 8);
      v5 = WebCore::ScrollableArea::visibleContentRect();
      v6 = v5;
      v7 = HIDWORD(v5);
      if (v4[2] == 1)
      {
        (*(*v4 + 8))(v4);
      }

      else
      {
        --v4[2];
      }
    }

    else
    {
      v6 = 0;
      v7 = 0;
    }

    if (v2[4] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[4];
    }
  }

  else
  {
    v7 = 0;
    v6 = 0;
  }

  return v6 | (v7 << 32);
}

uint64_t WebKit::WebFrame::hitTest@<X0>(uint64_t result@<X0>, void *a2@<X8>)
{
  v3 = *(result + 40);
  if (v3 && (v4 = *(v3 + 8)) != 0 && *(v4 + 136) != 1)
  {
    ++*(v4 + 16);
    WebCore::EventHandler::hitTestResultAtPoint();
    WebKit::InjectedBundleHitTestResult::create(v5, &v6);
    *a2 = v6;
    result = MEMORY[0x19EB04BD0](v5);
    if (*(v4 + 16) == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  else
  {
    *a2 = 0;
  }

  return result;
}

uint64_t WebKit::WebFrame::getDocumentBackgroundColor(WebKit::WebFrame *this, double *a2, double *a3, double *a4, double *a5)
{
  v5 = *(this + 5);
  if (!v5)
  {
    return 0;
  }

  v6 = *(v5 + 8);
  if (!v6 || (*(v6 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v6 + 16);
  v7 = *(v6 + 216);
  if (v7)
  {
    ++*(v7 + 2);
    WebCore::LocalFrameView::documentBackgroundColor(&v26, v7);
    v14 = v26;
    if ((v26 & 0x4000000000000) != 0)
    {
      if ((v26 & 0x8000000000000) != 0)
      {
        v13.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
        v15 = *((v26 & 0xFFFFFFFFFFFFLL) + 8);
        v16 = *((v26 & 0xFFFFFFFFFFFFLL) + 0xC);
        v17 = *((v26 & 0xFFFFFFFFFFFFLL) + 0x10);
        switch(HIBYTE(v26))
        {
          case 0u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::BoundedGammaEncoded<float,WebCore::A98RGBDescriptor>,void>::convert(&v27);
            break;
          case 1u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::BoundedGammaEncoded<float,WebCore::DisplayP3Descriptor>,void>::convert(&v27);
            break;
          case 2u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::ExtendedGammaEncoded<float,WebCore::A98RGBDescriptor>,void>::convert(&v27);
            break;
          case 3u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::ExtendedGammaEncoded<float,WebCore::DisplayP3Descriptor>,void>::convert(&v27);
            break;
          case 4u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::ExtendedLinearEncoded<float,WebCore::SRGBADescriptor>,void>::handleRGBFamilyConversion(&v27);
            break;
          case 5u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::ExtendedGammaEncoded<float,WebCore::ProPhotoRGBDescriptor>,void>::convert(&v27);
            break;
          case 6u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::ExtendedGammaEncoded<float,WebCore::Rec2020Descriptor>,void>::convert(&v27);
            break;
          case 7u:
            *v13.i32 = WebCore::clipToGamut<WebCore::BoundedLinearEncoded<float,WebCore::SRGBADescriptor>,WebCore::ExtendedLinearEncoded<float,WebCore::SRGBADescriptor>>(v13, v15, v16, v17);
            break;
          case 8u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::HSLA<float>,void>::convert();
            break;
          case 9u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::HWBA<float>,void>::convert();
            break;
          case 0xAu:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::LCHA<float>,void>::convert();
            break;
          case 0xBu:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::Lab<float>,void>::convert();
            break;
          case 0xCu:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::BoundedLinearEncoded<float,WebCore::SRGBADescriptor>,void>::toGammaEncoded<WebCore::BoundedLinearEncoded<float,WebCore::SRGBADescriptor>>(&v27, v13);
            break;
          case 0xDu:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::OKLCHA<float>,void>::convert();
            break;
          case 0xEu:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::OKLab<float>,void>::convert();
            break;
          case 0xFu:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::BoundedGammaEncoded<float,WebCore::ProPhotoRGBDescriptor>,void>::convert(&v27);
            break;
          case 0x10u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::BoundedGammaEncoded<float,WebCore::Rec2020Descriptor>,void>::convert(&v27);
            break;
          case 0x12u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::XYZA<float,(WebCore::WhitePoint)0>,void>::convert(&v27, v13);
            break;
          case 0x13u:
            v27.i32[0] = *((v26 & 0xFFFFFFFFFFFFLL) + 4);
            *(v27.i64 + 4) = __PAIR64__(LODWORD(v16), LODWORD(v15));
            *&v27.i32[3] = v17;
            *v13.i32 = WebCore::ColorConversion<WebCore::BoundedGammaEncoded<float,WebCore::SRGBADescriptor>,WebCore::XYZA<float,(WebCore::WhitePoint)1>,void>::convert(&v27, v13);
            break;
          default:
            break;
        }
      }

      else
      {
        v13.i32[0] = bswap32(v26);
        v13 = vdivq_f32(vcvtq_f32_u32(vmovl_u16((*&vzip1_s8(*v13.i8, *v13.i8) & 0xFF00FF00FF00FFLL))), vdupq_n_s32(0x437F0000u));
        v15 = *&v13.i32[1];
        v17 = *&v13.i32[3];
        v16 = *&v13.i32[2];
      }

      v20 = WebCore::mapColorComponents<WebCore::resolveColorComponents(WebCore::ColorComponents<float,4ul> const&)::{lambda(float)#1},WebCore::ColorComponents<float,4ul>>(v13, v15, v16, v17);
      *a2 = *&v20;
      *a3 = v21;
      *a4 = v22;
      *a5 = v23;
      v18 = v26;
    }

    else
    {
      v18 = v26;
    }

    v19 = (v14 >> 50) & 1;
    if ((v18 & 0x8000000000000) != 0)
    {
      v25 = (v18 & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v18 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v25);
        WTF::fastFree(v25, v12);
      }
    }

    if (*(v7 + 2) == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --*(v7 + 2);
    }
  }

  else
  {
    v19 = 0;
  }

  if (*(v6 + 16) == 1)
  {
    (*(*v6 + 8))(v6);
  }

  else
  {
    --*(v6 + 16);
  }

  return v19;
}

uint64_t WebKit::WebFrame::containsAnyFormElements(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2 || (*(v2 + 136) & 1) != 0)
  {
    return 0;
  }

  v3 = *(v2 + 16);
  *(v2 + 16) = v3 + 1;
  v4 = *(v2 + 224);
  if (!v4)
  {
    v8 = 0;
LABEL_14:
    if (v3)
    {
      *(v2 + 16) = v3;
    }

    else
    {
      (*(*v2 + 8))(v2);
    }

    return v8;
  }

  v5 = v4[3];
  v6 = vadd_s32(v5, 0x200000001);
  v4[3] = v6;
  v7 = v4[11];
  if (v7)
  {
    while ((*(*&v7 + 32) & 0x10) == 0 || *(*(*&v7 + 104) + 24) != *(*MEMORY[0x1E69E2BC0] + 24))
    {
      v7 = *(*&v7 + 64);
      if (!*&v7)
      {
        goto LABEL_9;
      }
    }

    v8 = 1;
  }

  else
  {
LABEL_9:
    v8 = 0;
  }

  if (v6.i32[0])
  {
    v4[3].i32[0] = v5.i32[0];
    if (v5.i32[1])
    {
      v4[3].i32[1] = v5.i32[1];
    }

    else
    {
      v10 = v2;
      WebCore::Node::removedLastRef(v4);
      v2 = v10;
      v3 = *(v10 + 16) - 1;
    }

    goto LABEL_14;
  }

  result = 290;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::WebFrame::containsAnyFormControls(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  if (!v2 || (*(v2 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v2 + 16);
  v3 = *(v2 + 224);
  if (v3)
  {
    v4 = *(v3 + 24);
    *(v3 + 28) += 2;
    v5 = *(v3 + 88);
    if (v5)
    {
      while ((*(v5 + 32) & 8) == 0)
      {
        v5 = *(v5 + 64);
        if (!v5)
        {
          goto LABEL_8;
        }
      }

      *(v3 + 24) = v4 + 2;
      ++*(v5 + 24);
      v8 = MEMORY[0x1E69E2DD8];
      while (1)
      {
        *(v5 + 28) += 2;
        if (((*(*v5 + 864))(v5) & 1) != 0 || (*(v5 + 32) & 0x10) != 0 && *(*(v5 + 104) + 24) == *(*v8 + 24))
        {
          break;
        }

        if (*(v5 + 28) == 2)
        {
          WebCore::Node::removedLastRef(v5);
        }

        else
        {
          *(v5 + 28) -= 2;
        }

        v9 = v5;
        while (1)
        {
          v9 = *(v9 + 64);
          if (!v9)
          {
            break;
          }

          if ((*(v9 + 32) & 8) != 0)
          {
            ++*(v9 + 24);
            break;
          }
        }

        v10 = *(v5 + 24);
        if (!v10)
        {
          __break(0xC471u);
          JUMPOUT(0x19E3CEDC0);
        }

        *(v5 + 24) = v10 - 1;
        v5 = v9;
        if (!v9)
        {
          goto LABEL_33;
        }
      }

      if (*(v5 + 28) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 28) -= 2;
      }

      v11 = *(v5 + 24);
      if (!v11)
      {
        goto LABEL_42;
      }

      *(v5 + 24) = v11 - 1;
      v5 = 1;
LABEL_33:
      v6 = *(v3 + 24);
      if (!v6)
      {
LABEL_42:
        __break(0xC471u);
        JUMPOUT(0x19E3CED4CLL);
      }
    }

    else
    {
LABEL_8:
      v5 = 0;
      v6 = v4 + 2;
      *(v3 + 24) = v6;
      if (!v6)
      {
        goto LABEL_42;
      }
    }

    *(v3 + 24) = v6 - 1;
    if (v6 == 1)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3CEDE0);
    }

    *(v3 + 24) = v6 - 2;
    if (*(v3 + 28) == 2)
    {
      WebCore::Node::removedLastRef(v3);
    }

    else
    {
      *(v3 + 28) -= 2;
    }
  }

  else
  {
    v5 = 0;
  }

  if (*(v2 + 16) == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --*(v2 + 16);
  }

  return v5;
}

uint64_t WebKit::WebFrame::stopLoading(uint64_t this)
{
  v1 = *(this + 40);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      if ((*(v2 + 136) & 1) == 0)
      {
        ++*(v2 + 16);
        this = WebCore::FrameLoader::stopForUserCancel(*(v2 + 208));
        if (*(v2 + 16) == 1)
        {
          v3 = *(*v2 + 8);

          return v3(v2);
        }

        else
        {
          --*(v2 + 16);
        }
      }
    }
  }

  return this;
}

_DWORD *WebKit::WebFrame::frameForContext@<X0>(WebKit::WebFrame *this@<X0>, const OpaqueJSContext *a2@<X1>, void *a3@<X8>)
{
  result = WebCore::LocalFrame::fromJSContext(this, a2);
  if (result)
  {
    v5 = result;
    ++result[4];
    result = WebKit::WebFrame::fromCoreFrame(result, a3);
    if (v5[4] == 1)
    {
      v6 = *(*v5 + 8);

      return v6(v5);
    }

    else
    {
      --v5[4];
    }
  }

  else
  {
    *a3 = 0;
  }

  return result;
}

_DWORD *WebKit::WebFrame::contentFrameForWindowOrFrameElement@<X0>(WebKit::WebFrame *this@<X0>, const OpaqueJSContext *a2@<X1>, const OpaqueJSValue *a3@<X2>, void *a4@<X8>)
{
  result = WebCore::LocalFrame::contentFrameFromWindowOrFrameElement(this, a2, a3);
  if (result)
  {
    v6 = result;
    ++result[4];
    result = WebKit::WebFrame::fromCoreFrame(result, a4);
    if (v6[4] == 1)
    {
      v7 = *(*v6 + 8);

      return v7(v6);
    }

    else
    {
      --v6[4];
    }
  }

  else
  {
    *a4 = 0;
  }

  return result;
}

uint64_t WebKit::WebFrame::jsWrapperForWorld(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3 = *(a1 + 40);
  if (!v3)
  {
    return 0;
  }

  v4 = *(v3 + 8);
  if (!v4 || (*(v4 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v4 + 16);
  v5 = *(v4 + 232);
  v6 = *(a3 + 24);
  ++*v6;
  WebCore::ScriptController::jsWindowProxy(v5, v6);
  WTF::RefCounted<WebCore::DOMWrapperWorld>::deref(v6);
  JSC::JSLockHolder::JSLockHolder();
  v7 = WebCore::toJS();
  MEMORY[0x19EB002E0](v9);
  if (*(v4 + 16) == 1)
  {
    (*(*v4 + 8))(v4);
  }

  else
  {
    --*(v4 + 16);
  }

  return v7;
}

uint64_t WebKit::WebFrame::jsWrapperForWorld(WebKit::WebFrame *this, WebKit::InjectedBundleNodeHandle *a2, WebKit::InjectedBundleScriptWorld *a3)
{
  v3 = *(this + 5);
  if (!v3)
  {
    return 0;
  }

  v4 = *(v3 + 8);
  if (!v4 || (*(v4 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v4 + 16);
  v6 = *(v4 + 232);
  v7 = *(a3 + 3);
  ++*v7;
  v8 = *(WebCore::ScriptController::jsWindowProxy(v6, v7) + 16);
  WTF::RefCounted<WebCore::DOMWrapperWorld>::deref(v7);
  JSC::JSLockHolder::JSLockHolder();
  v9 = *(a2 + 7);
  if (v9)
  {
    v10 = *(v9 + 28) + 2;
    *(v9 + 28) = v10;
    if (*(v8 + 3448))
    {
      v14 = *(v9 + 8);
      if (v14)
      {
        if ((*(v14 + 8) & 3) == 0)
        {
          OutOfLineCachedWrapper = *v14;
          if (*v14)
          {
            goto LABEL_7;
          }
        }
      }
    }

    else
    {
      OutOfLineCachedWrapper = WebCore::getOutOfLineCachedWrapper();
      v10 = *(v9 + 28);
      if (OutOfLineCachedWrapper)
      {
LABEL_7:
        v12 = v10 - 2;
        if (v12)
        {
          *(v9 + 28) = v12;
        }

        else
        {
          WebCore::Node::removedLastRef(v9);
        }

        goto LABEL_9;
      }
    }

    *(v9 + 28) = v10 + 2;
    OutOfLineCachedWrapper = WebCore::createWrapper();
    v16 = 0;
    if (*(v9 + 28) == 2)
    {
      WebCore::Node::removedLastRef(v9);
    }

    else
    {
      *(v9 + 28) -= 2;
    }

    v10 = *(v9 + 28);
    goto LABEL_7;
  }

  OutOfLineCachedWrapper = 2;
LABEL_9:
  MEMORY[0x19EB002E0](&v15);
  if (*(v4 + 16) == 1)
  {
    (*(*v4 + 8))(v4);
  }

  else
  {
    --*(v4 + 16);
  }

  return OutOfLineCachedWrapper;
}

uint64_t WebKit::WebFrame::jsWrapperForWorld(WebKit::WebFrame *this, WebKit::InjectedBundleRangeHandle *a2, WebKit::InjectedBundleScriptWorld *a3)
{
  v3 = *(this + 5);
  if (!v3)
  {
    return 0;
  }

  v4 = *(v3 + 8);
  if (!v4 || (*(v4 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v4 + 16);
  v6 = *(v4 + 232);
  v7 = *(a3 + 3);
  ++*v7;
  v8 = *(WebCore::ScriptController::jsWindowProxy(v6, v7) + 16);
  WTF::RefCounted<WebCore::DOMWrapperWorld>::deref(v7);
  JSC::JSLockHolder::JSLockHolder();
  v9 = *(a2 + 3);
  ++v9[2];
  v10 = MEMORY[0x19EB0E670](v8, v8, v9);
  if (v9[2] == 1)
  {
    (*(*v9 + 8))(v9);
  }

  else
  {
    --v9[2];
  }

  MEMORY[0x19EB002E0](v12);
  if (*(v4 + 16) == 1)
  {
    (*(*v4 + 8))(v4);
  }

  else
  {
    --*(v4 + 16);
  }

  return v10;
}

uint64_t WebKit::WebFrame::counterValue@<X0>(uint64_t this@<X0>, OpaqueJSValue *a2@<X1>, void *a3@<X8>)
{
  if (*(this + 5) == 241)
  {
    v3 = *(this + 24);
    *(v3 + 7) += 2;
    this = WebCore::counterValueForElement(v3, a2);
    if (*(v3 + 7) == 2)
    {

      return WebCore::Node::removedLastRef(v3);
    }

    else
    {
      *(v3 + 7) -= 2;
    }
  }

  else
  {
    *a3 = 0;
  }

  return this;
}

uint64_t WebKit::WebFrame::provisionalURL@<X0>(uint64_t this@<X0>, atomic_uint **a2@<X8>)
{
  v3 = *(this + 40);
  if (v3 && (v4 = *(v3 + 8)) != 0 && (*(v4 + 136) & 1) == 0)
  {
    ++*(v4 + 16);
    v5 = *(*(v4 + 208) + 104);
    if (v5)
    {
      ++v5[6];
      this = WebCore::ResourceRequestBase::url((v5 + 220));
      v6 = *this;
      if (*this)
      {
        atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed);
      }

      *a2 = v6;
      if (v5[6] == 1)
      {
        this = (*(*v5 + 24))(v5);
      }

      else
      {
        --v5[6];
      }
    }

    else
    {
      *a2 = 0;
    }

    if (*(v4 + 16) == 1)
    {
      v7 = *(*v4 + 8);

      return v7(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  else
  {
    *a2 = 0;
  }

  return this;
}

uint64_t *WebKit::WebFrame::suggestedFilenameForResourceWithURL@<X0>(uint64_t *this@<X0>, const WTF::URL *a2@<X1>, uint64_t *a3@<X8>)
{
  v4 = this[5];
  if (v4 && (v5 = *(v4 + 8)) != 0 && (*(v5 + 136) & 1) == 0)
  {
    ++*(v5 + 16);
    v6 = *(*(v5 + 208) + 96);
    if (v6)
    {
      ++v6[6];
      v8 = WebCore::ResourceRequestBase::url((v6 + 220));
      if (WTF::equal(*v8, *a2, v9))
      {
        this = WebCore::ResourceResponseBase::suggestedFilename(a3, (v6 + 320));
      }

      else
      {
        this = WebCore::DocumentLoader::subresource(&v10, v6, a2);
        if (v10)
        {
          WebCore::ResourceResponseBase::suggestedFilename(a3, (v10 + 7));
          this = v10;
          v10 = 0;
          if (this)
          {
            if (*(this + 2) == 1)
            {
              this = (*(*this + 8))(this);
            }

            else
            {
              --*(this + 2);
            }
          }
        }

        else
        {
          *a3 = 0;
        }
      }

      if (v6[6] == 1)
      {
        this = (*(*v6 + 24))(v6);
      }

      else
      {
        --v6[6];
      }
    }

    else
    {
      *a3 = 0;
    }

    if (*(v5 + 16) == 1)
    {
      return (*(*v5 + 8))(v5);
    }

    else
    {
      --*(v5 + 16);
    }
  }

  else
  {
    *a3 = 0;
  }

  return this;
}

uint64_t WebKit::WebFrame::mimeTypeForResourceWithURL@<X0>(uint64_t this@<X0>, const WTF::StringImpl **a2@<X1>, atomic_uint **a3@<X8>)
{
  v4 = *(this + 40);
  if (!v4 || (v5 = *(v4 + 8)) == 0 || (*(v5 + 136) & 1) != 0)
  {
    *a3 = 0;
    return this;
  }

  ++*(v5 + 16);
  v6 = *(*(v5 + 208) + 96);
  if (v6)
  {
    ++v6[6];
    v8 = WebCore::ResourceRequestBase::url((v6 + 220));
    if (WTF::equal(*v8, *a2, v9))
    {
      this = WebCore::ResourceResponseBase::mimeType((v6 + 320));
      v10 = *this;
      if (*this)
      {
        atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
      }

      *a3 = v10;
      goto LABEL_17;
    }

    WebCore::DocumentLoader::subresource(&v12, v6, a2);
    this = v12;
    if (v12)
    {
      v11 = *(v12 + 328);
      if (v11)
      {
        atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
        this = v12;
        *a3 = v11;
        v12 = 0;
        if (!this)
        {
LABEL_17:
          if (v6[6] == 1)
          {
            this = (*(*v6 + 24))(v6);
          }

          else
          {
            --v6[6];
          }

          goto LABEL_19;
        }
      }

      else
      {
        *a3 = 0;
        v12 = 0;
      }

      if (*(this + 8) == 1)
      {
        this = (*(*this + 8))(this);
      }

      else
      {
        --*(this + 8);
      }

      goto LABEL_17;
    }

    *a3 = 0;
    goto LABEL_17;
  }

  *a3 = 0;
LABEL_19:
  if (*(v5 + 16) == 1)
  {
    return (*(*v5 + 8))(v5);
  }

  --*(v5 + 16);
  return this;
}

IPC::Encoder *WebKit::WebFrame::updateRemoteFrameSize(uint64_t a1, unint64_t a2)
{
  v2 = a2;
  v3 = HIDWORD(a2);
  v4 = a1 + 32;
  v5 = (*(*(a1 + 32) + 56))(a1 + 32);
  v7 = IPC::Encoder::operator new(0x238, v6);
  *v7 = 2013;
  *(v7 + 2) = 0;
  *(v7 + 3) = 0;
  *(v7 + 1) = v5;
  *(v7 + 68) = 0;
  *(v7 + 70) = 0;
  *(v7 + 69) = 0;
  IPC::Encoder::encodeHeader(v7);
  v12 = v7;
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v7, v2);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v7, v3);
  (*(*v4 + 32))(v4, &v12, 0);
  result = v12;
  v12 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v8);
    return bmalloc::api::tzoneFree(v10, v11);
  }

  return result;
}

uint64_t WebKit::WebFrame::updateFrameSize(uint64_t result, uint64_t a2)
{
  v2 = *(result + 40);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      if ((*(v3 + 136) & 1) == 0)
      {
        ++*(v3 + 16);
        result = WebKit::WebFrame::updateLocalFrameSize(result, v3, a2);
        if (*(v3 + 16) == 1)
        {
          v4 = *(*v3 + 8);

          return v4(v3);
        }

        else
        {
          --*(v3 + 16);
        }
      }
    }
  }

  return result;
}

uint64_t WebCore::Widget::resize(WebCore::Widget *this, const WebCore::IntSize *a2)
{
  v4 = WebCore::Widget::frameRect(this);
  v5 = *a2;
  v7[0] = v4;
  v7[1] = v5;
  return (*(*this + 16))(this, v7);
}

uint64_t WebKit::WebFrame::setTextDirection(uint64_t this, const WTF::String *a2)
{
  v2 = *(this + 40);
  if (!v2)
  {
    return this;
  }

  v3 = *(v2 + 8);
  if (!v3 || (*(v3 + 136) & 1) != 0)
  {
    return this;
  }

  ++*(v3 + 16);
  if (!MEMORY[0x19EB01EF0](*a2, "auto", 4))
  {
    if (MEMORY[0x19EB01EF0](*a2, "ltr", 3))
    {
      v5 = *(v3 + 224);
      if (!v5)
      {
        goto LABEL_24;
      }

      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) != 2)
      {
        *(v5 + 7) -= 2;
        goto LABEL_16;
      }
    }

    else
    {
      this = MEMORY[0x19EB01EF0](*a2, "rtl", 3);
      if (!this)
      {
        goto LABEL_17;
      }

      v5 = *(v3 + 224);
      if (!v5)
      {
        goto LABEL_24;
      }

      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) != 2)
      {
        *(v5 + 7) -= 2;
        goto LABEL_16;
      }
    }

LABEL_23:
    WebCore::Node::removedLastRef(v5);
    goto LABEL_16;
  }

  v5 = *(v3 + 224);
  if (!v5)
  {
LABEL_24:
    v6 = WebCore::Document::editor(0);
    goto LABEL_16;
  }

  *(v5 + 7) += 2;
  v6 = WebCore::Document::editor(v5);
  if (*(v5 + 7) == 2)
  {
    goto LABEL_23;
  }

  *(v5 + 7) -= 2;
LABEL_16:
  WebCore::Editor::ref(v6);
  WebCore::Editor::setBaseWritingDirection();
  this = WebCore::Editor::deref(v6);
LABEL_17:
  if (*(v3 + 16) == 1)
  {
    v7 = *(*v3 + 8);

    return v7(v3);
  }

  else
  {
    --*(v3 + 16);
  }

  return this;
}

uint64_t WebKit::WebFrame::webArchiveData@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t *a4@<X3>, atomic_uint **a5@<X4>, uint64_t *a6@<X8>)
{
  v10 = *(*(a1 + 40) + 8);
  if (*(v10 + 136))
  {
    v10 = 0;
  }

  v11 = *(v10 + 224);
  *(v11 + 7) += 2;
  v12 = *(a4 + 3);
  v36 = 0;
  v37 = 0;
  v38 = v12;
  if (v12)
  {
    if (v12 >= 0xAAAAAAB)
    {
LABEL_34:
      __break(0xC471u);
      JUMPOUT(0x19E3CFF18);
    }

    v14 = 24 * v12;
    v15 = WTF::fastMalloc((24 * v12));
    v37 = v14 / 0x18;
    v36 = v15;
    v16 = *(a4 + 3);
    if (v16)
    {
      v17 = v15;
      v18 = *a4;
      v19 = v18 + 24 * v16;
      do
      {
        v20 = *v18;
        if (*v18)
        {
          atomic_fetch_add_explicit(v20, 2u, memory_order_relaxed);
        }

        v21 = *(v18 + 20);
        *(v17 + 8) = 0;
        *(v17 + 16) = 0;
        *v17 = v20;
        *(v17 + 20) = v21;
        if (v21)
        {
          if (v21 >> 28)
          {
            goto LABEL_34;
          }

          v22 = WTF::fastMalloc((16 * v21));
          *(v17 + 16) = v21;
          *(v17 + 8) = v22;
          v23 = *(v18 + 20);
          if (v23)
          {
            v24 = *(v18 + 8);
            v25 = &v24[2 * v23];
            do
            {
              v26 = *v24;
              if (*v24)
              {
                atomic_fetch_add_explicit(v26, 2u, memory_order_relaxed);
              }

              *v22 = v26;
              v27 = v24[1];
              if (v27)
              {
                atomic_fetch_add_explicit(v27, 2u, memory_order_relaxed);
              }

              v22[1] = v27;
              v22 += 2;
              v24 += 2;
            }

            while (v24 != v25);
          }
        }

        v17 += 24;
        v18 += 24;
      }

      while (v18 != v19);
    }
  }

  v28 = *a5;
  if (*a5)
  {
    atomic_fetch_add_explicit(v28, 2u, memory_order_relaxed);
  }

  v39 = v28;
  v29 = WTF::fastMalloc(0x20);
  *v29 = &unk_1F11337D8;
  v29[1] = a1;
  v29[2] = a2;
  v29[3] = a3;
  v34 = v29;
  WebCore::LegacyWebArchive::create();
  if (v34)
  {
    (*(*v34 + 8))(v34);
  }

  if (v35)
  {
    WebCore::LegacyWebArchive::rawDataRepresentation(a6, v35);
    if (*(v35 + 2) == 1)
    {
      (*(*v35 + 8))();
    }

    else
    {
      --*(v35 + 2);
    }
  }

  else
  {
    *a6 = 0;
  }

  v31 = v39;
  v39 = 0;
  if (v31 && atomic_fetch_add_explicit(v31, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v31, v30);
  }

  result = WTF::Vector<WebCore::MarkupExclusionRule,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v36, v30);
  if (*(v11 + 7) == 2)
  {
    return WebCore::Node::removedLastRef(v11);
  }

  *(v11 + 7) -= 2;
  return result;
}

void WebKit::WebFrame::createSelectionSnapshot(WebKit::WebFrame *this@<X0>, API::Object **a2@<X8>)
{
  v3 = *(this + 5);
  if (!v3)
  {
    goto LABEL_15;
  }

  v4 = *(v3 + 8);
  if (!v4)
  {
    goto LABEL_5;
  }

  if (*(v4 + 136))
  {
LABEL_15:
    v4 = 0;
  }

  else
  {
    ++*(v4 + 16);
  }

LABEL_5:
  v5 = *WebCore::DestinationColorSpace::SRGB(this);
  cf = v5;
  if (v5)
  {
    CFRetain(v5);
  }

  WebCore::snapshotSelection();
  if (cf)
  {
    CFRelease(cf);
  }

  if (*(v4 + 16) == 1)
  {
    (*(*v4 + 8))(v4);
  }

  else
  {
    --*(v4 + 16);
  }

  if (v9)
  {
    v6 = API::Object::newObject(0x18uLL, 12);
    v7 = API::Object::Object(v6);
    *v7 = &unk_1F110E518;
    *(v7 + 2) = v9;
    *a2 = v7;
  }

  else
  {
    *a2 = 0;
  }
}

uint64_t WebKit::WebFrame::shouldEnableInAppBrowserPrivacyProtections(WebKit::WebFrame *this)
{
  v1 = this;
  if (WebKit::WebFrame::page(this) && (*(WebKit::WebFrame::page(v1) + 211) & 1) != 0)
  {
    return 0;
  }

  if (*(v1 + 129) != 1 || *(v1 + 128))
  {
    CFRetain(*(v1 + 1));
    while (1)
    {
      v2 = *(v1 + 64);
      if ((v2 & 0x100) != 0 && !v2)
      {
        break;
      }

      WebKit::WebFrame::parentFrame(v1, &v5);
      v3 = v5;
      CFRelease(*(v1 + 1));
      result = 0;
      v1 = v3;
      if (!v3)
      {
        return result;
      }
    }

    CFRelease(*(v1 + 1));
  }

  return 1;
}

uint64_t WebKit::WebFrame::isTopFrameNavigatingToAppBoundDomain(WebKit::WebFrame *this)
{
  v1 = *(this + 5);
  if (!v1)
  {
    goto LABEL_9;
  }

  v2 = *(v1 + 8);
  if (!v2 || (*(v2 + 136) & 1) != 0)
  {
    goto LABEL_9;
  }

  v3 = *(v2 + 120);
  if (v3)
  {
    v4 = *(v3 + 8);
    if (v4)
    {
      if ((*(v4 + 136) & 1) == 0)
      {
        WebKit::WebFrame::fromCoreFrame(v4, &v8);
        v5 = *(v8 + 128);
        v6 = v5 >> 8;
        CFRelease(*(v8 + 8));
        return v5 | (v6 << 8);
      }

LABEL_9:
      v6 = 0;
      LOBYTE(v5) = 0;
      return v5 | (v6 << 8);
    }
  }

  result = 133;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::WebFrame::advancedPrivacyProtections(WebKit::WebFrame **this)
{
  v1 = WebKit::WebFrame::policySourceDocumentLoader(this[5]);
  if (!v1)
  {
    return 0;
  }

  v2 = v1[6];
  v1[6] = v2 + 1;
  v3 = *(v1 + 1773);
  if (v2)
  {
    v1[6] = v2;
  }

  else
  {
    (*(*v1 + 24))(v1);
  }

  return v3;
}

_DWORD *WebKit::WebFrame::policySourceDocumentLoader(WebKit::WebFrame *this)
{
  if (!this)
  {
    return 0;
  }

  v1 = *(this + 1);
  if (!v1 || (*(v1 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v1 + 16);
  v2 = *(v1 + 224);
  if (v2)
  {
    *(v2 + 28) += 2;
    v3 = WebCore::Document::mainFrameDocument(v2);
    if (!v3)
    {
      v6 = 0;
LABEL_13:
      if (*(v2 + 28) == 2)
      {
        WebCore::Node::removedLastRef(v2);
      }

      else
      {
        *(v2 + 28) -= 2;
      }

      goto LABEL_15;
    }

    v4 = v3;
    *(v3 + 7) += 2;
    v5 = WebCore::Document::loader(v3);
    v6 = v5;
    if (v5)
    {
      ++v5[6];
      v10 = v5;
      v7 = WebCore::ResourceRequestBase::url((v5 + 220));
      if ((WTF::URL::hasSpecialScheme(v7) & 1) != 0 || (*(v2 + 808) & 2) == 0)
      {
        v10 = 0;
      }

      else
      {
        v9 = WebCore::Document::loader(v2);
        WTF::RefPtr<WebCore::DocumentLoader,WTF::RawPtrTraits<WebCore::DocumentLoader>,WTF::DefaultRefDerefTraits<WebCore::DocumentLoader>>::operator=(&v10, v9);
        v6 = v10;
        v10 = 0;
        if (!v6)
        {
          goto LABEL_11;
        }
      }

      if (v6[6] == 1)
      {
        (*(*v6 + 24))(v6);
      }

      else
      {
        --v6[6];
      }
    }

LABEL_11:
    if (*(v4 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v4);
    }

    else
    {
      *(v4 + 7) -= 2;
    }

    goto LABEL_13;
  }

  v6 = 0;
LABEL_15:
  if (*(v1 + 16) == 1)
  {
    (*(*v1 + 8))(v1);
  }

  else
  {
    --*(v1 + 16);
  }

  return v6;
}

uint64_t WebKit::WebFrame::originatorAdvancedPrivacyProtections(WebKit::WebFrame **this)
{
  v1 = WebKit::WebFrame::policySourceDocumentLoader(this[5]);
  if (v1)
  {
    v2 = v1[6];
    v1[6] = v2 + 1;
    v3 = v1[887];
    v4 = v3 >> 8;
    v5 = HIWORD(v3);
    if (v2)
    {
      v1[6] = v2;
    }

    else
    {
      (*(*v1 + 24))(v1);
    }
  }

  else
  {
    LOBYTE(v4) = 0;
    LOBYTE(v3) = 0;
    LOBYTE(v5) = 0;
  }

  return v3 | (v4 << 8) | (v5 << 16);
}

WTF::StringImpl *WebKit::WebFrame::handleMouseEvent@<X0>(WTF::StringImpl *this@<X0>, const WebKit::WebMouseEvent *a2@<X1>, _BYTE *a3@<X8>)
{
  v25[3] = *MEMORY[0x1E69E9840];
  v4 = *(this + 5);
  if (!v4 || (v5 = *(v4 + 8)) == 0 || (*(v5 + 136) & 1) != 0)
  {
    *a3 = 0;
    a3[16] = 0;
    return this;
  }

  v6 = *(v5 + 16);
  *(v5 + 16) = v6 + 1;
  if (*(v5 + 216))
  {
    v8 = this;
    WebKit::platform(&v20, a2);
    if (v21 > 7u)
    {
      if (v21 - 8 >= 3)
      {
LABEL_19:
        *a3 = 0;
        goto LABEL_20;
      }

      v10 = WebCore::EventHandler::handleMouseForceEvent();
    }

    else
    {
      if (v21 != 5)
      {
        if (v21 != 6)
        {
          if (v21 == 7)
          {
            if (*(a2 + 120) == 1)
            {
              WebCore::EventHandler::invalidateClick(*(v5 + 336));
            }

            WebCore::EventHandler::handleMouseReleaseEvent();
            goto LABEL_21;
          }

          goto LABEL_19;
        }

        v12 = WebCore::EventHandler::handleMousePressEvent();
        if (v22 == 2)
        {
          if (a3[16])
          {
            if (a3[16] != 1)
            {
              mpark::throw_bad_variant_access(v12);
            }
          }

          else
          {
            v13 = *(v8 + 5);
            if (v13)
            {
              v14 = *(v13 + 8);
              if (!v14 || (*(v14 + 136) & 1) != 0)
              {
                v17 = 0;
              }

              else
              {
                ++*(v14 + 16);
                v15 = *(v14 + 216);
                if (v15)
                {
                  ++v15[2];
                  WebCore::ScrollView::windowToContents();
                  if (v15[2] == 1)
                  {
                    (*(*v15 + 8))(v15);
                  }

                  else
                  {
                    --v15[2];
                  }
                }

                else
                {
                  WebCore::ScrollView::windowToContents();
                }

                WebCore::EventHandler::hitTestResultAtPoint();
                ++*(v14 + 16);
                v16 = v14;
                if (v19)
                {
                  v16 = *(*(*(*(v19 + 48) + 8) + 552) + 8);
                  ++v16[4];
                  if (*(v14 + 16) == 1)
                  {
                    (*(*v14 + 8))(v14);
                  }

                  else
                  {
                    --*(v14 + 16);
                  }
                }

                v17 = WebCore::EventHandler::sendContextMenuEvent();
                if (v16[4] == 1)
                {
                  (*(*v16 + 8))(v16);
                }

                else
                {
                  --v16[4];
                }

                MEMORY[0x19EB04BD0](v18);
                if (*(v14 + 16) == 1)
                {
                  (*(*v14 + 8))(v14);
                }

                else
                {
                  --*(v14 + 16);
                }
              }

              if (a3[16])
              {
                goto LABEL_21;
              }
            }

            else
            {
              v17 = 0;
            }

            *a3 = v17;
          }
        }

LABEL_21:
        WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v25, v9);
        WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v24, v11);
        this = v23;
        v23 = 0;
        if (this && atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          this = WTF::StringImpl::destroy(this, a2);
        }

        v6 = *(v5 + 16) - 1;
        goto LABEL_25;
      }

      if ((*(*(*(WebKit::WebFrame::page(v8) + 56) + 80) + 26) & 1) != 0 || *(a2 + 48) != 254)
      {
        WebCore::EventHandler::mouseMoved();
        goto LABEL_21;
      }

      v10 = WebCore::EventHandler::passMouseMovedEventToScrollbars();
    }

    *a3 = v10;
LABEL_20:
    a3[16] = 0;
    goto LABEL_21;
  }

  *a3 = 0;
  a3[16] = 0;
LABEL_25:
  if (!v6)
  {
    return (*(*v5 + 8))(v5, a2);
  }

  *(v5 + 16) = v6;
  return this;
}

uint64_t WebKit::WebFrame::handleKeyEvent(WebKit::WebFrame *this, const WebKit::WebKeyboardEvent *a2)
{
  v17 = *MEMORY[0x1E69E9840];
  v2 = *(this + 5);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 8);
  if (!v3 || (*(v3 + 136) & 1) != 0)
  {
    return 0;
  }

  ++*(v3 + 16);
  if (*(a2 + 12) == 10 && *(a2 + 103) == 1)
  {
    WebKit::WebKit2PlatformKeyboardEvent::WebKit2PlatformKeyboardEvent(&v12, a2);
    *v8 = v13;
    *v9 = v14;
    v10 = v15;
    cf = v16;
    v4 = WebCore::EventHandler::handleAccessKey();
  }

  else
  {
    WebKit::WebKit2PlatformKeyboardEvent::WebKit2PlatformKeyboardEvent(&v12, a2);
    *v8 = v13;
    *v9 = v14;
    v10 = v15;
    cf = v16;
    v4 = WebCore::EventHandler::keyEvent();
  }

  v6 = v4;
  if (cf)
  {
    CFRelease(cf);
  }

  if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, v5);
  }

  if (v9[1] && atomic_fetch_add_explicit(v9[1], 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9[1], v5);
  }

  if (v9[0] && atomic_fetch_add_explicit(v9[0], 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9[0], v5);
  }

  if (v8[1] && atomic_fetch_add_explicit(v8[1], 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8[1], v5);
  }

  if (v8[0] && atomic_fetch_add_explicit(v8[0], 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8[0], v5);
  }

  if (*(v3 + 16) == 1)
  {
    (*(*v3 + 8))(v3);
  }

  else
  {
    --*(v3 + 16);
  }

  return v6;
}

WTF::StringImpl *WebKit::WebFrame::frameTextForTesting@<X0>(WTF::StringImpl *this@<X0>, char a2@<W1>, WTF::StringImpl **a3@<X8>)
{
  v6 = a3;
  v139 = *MEMORY[0x1E69E9840];
  v119 = this;
  v7 = *(this + 5);
  if (!v7 || !*(v7 + 8))
  {
    *a3 = 0;
    return this;
  }

  v128 = 0;
  v129 = 0;
  v130 = 0;
  v131 = 1;
  WebKit::WebFrame::innerText(&v127, v7);
  if (v127)
  {
    v9 = *(v127 + 1) | (((*(v127 + 4) >> 2) & 1) << 32);
    v134 = *(v127 + 1);
    v135 = v9;
    v136 = 10;
    v137 = 1;
    v123 = &v134;
    v124 = 0;
    v126 = 0;
    WTF::StringView::SplitResult::Iterator::findNextSubstring(&v123);
    v10 = v135;
    v8 = v124;
    v118 = v6;
    if (v124 == v135)
    {
      goto LABEL_9;
    }

    do
    {
      do
      {
        v132 = WTF::StringView::substring(v123, v8, v125);
        LODWORD(v133) = v98;
        BYTE4(v133) = v99;
        if (WTF::StringView::endsWith())
        {
          do
          {
            if (v133)
            {
              v100 = (v133 - 1);
              v101 = v132;
              if (BYTE4(v133))
              {
                v100 |= 0x100000000uLL;
              }
            }

            else
            {
              v100 = 0x100000000;
              v101 = "";
            }

            v132 = v101;
            LODWORD(v133) = v100;
            BYTE4(v133) = BYTE4(v100);
          }

          while ((WTF::StringView::endsWith() & 1) != 0);
        }

        v3 = v132;
        v102 = v133;
        v103 = v133 + 1;
        if (v133 == -1)
        {
          v103 = -1;
        }

        if (__CFADD__(v130, v103))
        {
          v104 = 0xFFFFFFFFLL;
        }

        else
        {
          v104 = (v130 + v103);
        }

        v105 = v129;
        if ((v129 || (v105 = v128) != 0) && (*(v105 + 16) & 4) == 0 || (v133 & 0x100000000) == 0)
        {
          v46 = WTF::StringBuilder::extendBufferForAppendingWithUpconvert(&v128);
          if (v46)
          {
            v109 = v46;
            v4 = v108;
            if ((v102 & 0x100000000) != 0)
            {
              if (v102 < 0x40)
              {
                v110 = v46;
              }

              else
              {
                v110 = &v46[v102 & 0xFFFFFFC0];
                v111 = v46;
                do
                {
                  v140.val[0] = *v3;
                  v112 = *(v3 + 1);
                  v141.val[0] = *(v3 + 2);
                  v113 = *(v3 + 3);
                  v3 = (v3 + 64);
                  v142.val[1] = 0uLL;
                  v142.val[0] = v113;
                  v141.val[1] = 0u;
                  v143.val[0] = v112;
                  v140.val[1] = 0u;
                  v114 = v111;
                  vst2q_s8(v114, v140);
                  v114 += 32;
                  v143.val[1] = 0u;
                  vst2q_s8(v114, v143);
                  v115 = v111 + 64;
                  vst2q_s8(v115, v141);
                  v116 = v111 + 96;
                  vst2q_s8(v116, v142);
                  v111 += 128;
                }

                while (v111 != v110);
              }

              while (v110 != &v46[v102])
              {
                v117 = *v3;
                v3 = (v3 + 1);
                *v110 = v117;
                v110 += 2;
              }
            }

            else if (v102)
            {
              if (v102 == 1)
              {
                *v46 = *v3;
              }

              else
              {
                v46 = memcpy(v46, v3, 2 * v102);
              }
            }

            if (v4 <= v102)
            {
LABEL_215:
              __break(1u);
LABEL_216:
              mpark::throw_bad_variant_access(v46);
            }

            v109[v102] = 10;
          }
        }

        else
        {
          v46 = MEMORY[0x19EB01170](&v128, v104);
          if (v46)
          {
            v107 = v46;
            v4 = v106;
            if (v102)
            {
              if (v102 == 1)
              {
                *v46 = *v3;
              }

              else
              {
                v46 = memcpy(v46, v3, v102);
              }
            }

            if (v4 <= v102)
            {
              goto LABEL_215;
            }

            *(v107 + v102) = 10;
          }
        }

        WTF::StringView::SplitResult::Iterator::operator++();
        v8 = v124;
        v6 = v118;
      }

      while (v124 != v10);
LABEL_9:
      ;
    }

    while (!v126);
    if (a2)
    {
      v11 = *(v119 + 5);
      if (!v11 || (v12 = *(v11 + 8)) == 0)
      {
        __break(0xC471u);
LABEL_220:
        JUMPOUT(0x19E3D1640);
      }

      v13 = *(v12 + 80);
      if (v13)
      {
        ++*(v13 + 16);
        while (1)
        {
          WebKit::WebFrame::fromCoreFrame(v13, &v122);
          v14 = v122;
          if (v122)
          {
            break;
          }

LABEL_148:
          v92 = *(v13 + 64);
          if (v92)
          {
            ++*(v92 + 16);
          }

          if (*(v13 + 16) == 1)
          {
            (*(*v13 + 8))(v13);
          }

          else
          {
            --*(v13 + 16);
          }

          v13 = v92;
          if (!v92)
          {
            goto LABEL_162;
          }
        }

        WebKit::WebFrame::name(v122, &v120);
        v16 = v120;
        if (v120)
        {
          atomic_fetch_add_explicit(v120, 2u, memory_order_relaxed);
          v17 = *(v16 + 1);
          if (v17 < 0)
          {
            goto LABEL_28;
          }
        }

        else
        {
          v17 = 0;
        }

        v18 = __OFADD__(v17, 11);
        v19 = v17 + 11;
        if (v18)
        {
          goto LABEL_28;
        }

        v20 = (v19 + 18);
        if (__OFADD__(v19, 18))
        {
          goto LABEL_28;
        }

        if (v16 && (*(v16 + 16) & 4) == 0)
        {
          if (v20 < 0x40)
          {
            v66 = 0;
            v67 = "\n--------\nFrame: '";
            do
            {
              v68 = *v67++;
              *(&v134 + v66) = v68;
              v66 += 2;
            }

            while (v66 != 36);
            v123 = v16;
            v46 = WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<char16_t>(&v123, v138);
            v69 = v123;
            if (v123)
            {
              v69 = *(v123 + 1);
              if (v69 >= 0x2F)
              {
                goto LABEL_215;
              }
            }

            v70 = 0;
            v71 = &v138[v69];
            v72 = "'\n--------\n";
            do
            {
              v73 = *v72++;
              v71[v70++] = v73;
            }

            while (v70 != 11);
            WTF::AtomStringImpl::add();
            goto LABEL_29;
          }

          v21 = 0;
        }

        else
        {
          if (v20 < 0x40)
          {
            WTF::stringTypeAdapterAccumulator<unsigned char,WTF::StringTypeAdapter<WTF::ASCIILiteral,void>,WTF::StringTypeAdapter<WTF::String,void>,WTF::StringTypeAdapter<WTF::ASCIILiteral,void>>(&v134, 0x40uLL, "\n--------\nFrame: '", 0x12uLL, v16, "'\n--------\n", 0xBuLL);
            WTF::AtomStringImpl::add();
            goto LABEL_29;
          }

          v21 = 1;
        }

        WTF::tryMakeStringImplFromAdaptersInternal<WTF::StringTypeAdapter<WTF::ASCIILiteral,void>,WTF::StringTypeAdapter<WTF::String,void>,WTF::StringTypeAdapter<WTF::ASCIILiteral,void>>(v20, v21, "\n--------\nFrame: '", 0x12, v16, "'\n--------\n", 0xBuLL, &v123);
        v22 = v123;
        if (!v123)
        {
LABEL_28:
          v121 = 0;
          goto LABEL_29;
        }

        if ((*(v123 + 16) & 0x10) != 0)
        {
          atomic_fetch_add_explicit(v123, 2u, memory_order_relaxed);
        }

        else
        {
          WTF::AtomStringImpl::addSlowCase(&v134, v123, v15);
          v22 = v134;
        }

        v74 = v123;
        v121 = v22;
        v123 = 0;
        if (v74 && atomic_fetch_add_explicit(v74, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v74, v15);
        }

LABEL_29:
        if (v16)
        {
          if (atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v16, v15);
          }

          if (!v121)
          {
LABEL_217:
            __break(0xC471u);
            goto LABEL_220;
          }

          v120 = 0;
          if (atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v16, v15);
          }
        }

        else
        {
          if (!v121)
          {
            goto LABEL_217;
          }

          v120 = 0;
        }

        if (*(v13 + 136) == 1)
        {
          v23 = *(v119 + 6);
          if (!v23 || (v24 = *(v23 + 8)) == 0)
          {
            __break(0xC471u);
            JUMPOUT(0x19E3D1660);
          }

          v25 = *(v13 + 32);
          v27 = *(v24 + 16);
          v26 = v24 + 16;
          v28 = (*(v27 + 56))(v26);
          v29 = (*(*v26 + 48))(v26);
          if (!v29)
          {
            v50 = (v4 & 0xFFFFFFFFFFFFFF00 | 3);
            goto LABEL_108;
          }

          v30 = v29;
          while (1)
          {
            v31 = *v29;
            if ((*v29 & 1) == 0)
            {
              break;
            }

            v32 = *v29;
            atomic_compare_exchange_strong_explicit(v29, &v32, v31 + 2, memory_order_relaxed, memory_order_relaxed);
            if (v32 == v31)
            {
              goto LABEL_72;
            }
          }

          WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v29);
LABEL_72:
          IPC::Connection::createSyncMessageEncoder(0x1033, v28, &v134);
          IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v134, v25);
          v46 = IPC::Connection::sendSyncMessage(v30, v135, &v134, 0, &v123, INFINITY);
          if (v124)
          {
            if (v124 != 1)
            {
              goto LABEL_216;
            }

            v49 = 0;
            v50 = (v4 & 0xFFFFFFFFFFFFFF00 | v123);
LABEL_81:
            if (!v124)
            {
              v54 = v123;
              v123 = 0;
              if (v54)
              {
                IPC::Decoder::~Decoder(v54);
                bmalloc::api::tzoneFree(v60, v61);
              }
            }

            v55 = v134;
            v134 = 0;
            if (v55)
            {
              IPC::Encoder::~Encoder(v55, v48);
              bmalloc::api::tzoneFree(v58, v59);
            }

            WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v30);
            if (v49)
            {
              v56 = 0;
              v57 = 1;
              goto LABEL_109;
            }

LABEL_108:
            WTF::StringImpl::createWithoutCopyingNonEmpty();
            v57 = 0;
            v56 = v3;
            v3 = v134;
LABEL_109:
            v75 = v121;
            if (v3)
            {
              v76 = *(v3 + 1);
              v77 = (*(v3 + 16) >> 2) & 1;
            }

            else
            {
              v76 = 0;
              v77 = 1;
            }

            if (v121)
            {
              v78 = *(v121 + 1);
            }

            else
            {
              v78 = 0;
            }

            v39 = __CFADD__(v78, v76);
            v79 = v78 + v76;
            if (v39)
            {
              v79 = -1;
            }

            v39 = __CFADD__(v130, v79);
            v80 = v130 + v79;
            if (v39)
            {
              v81 = 0xFFFFFFFFLL;
            }

            else
            {
              v81 = v80;
            }

            v82 = v129;
            if (!v129 && (v82 = v128) == 0 || (*(v82 + 16) & 4) != 0)
            {
              if (v121)
              {
                if (v77 & ((*(v121 + 16) & 4) >> 2))
                {
                  goto LABEL_124;
                }
              }

              else if (v77)
              {
LABEL_124:
                v83 = MEMORY[0x19EB01170](&v128, v81);
                if (v83)
                {
                  v84 = v83;
                  v85 = v33;
                  v123 = v75;
                  v46 = WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<unsigned char>(&v123, v83);
                  v86 = v123;
                  if (v123)
                  {
                    v86 = *(v123 + 1);
                    if (v85 < v86)
                    {
                      goto LABEL_215;
                    }
                  }

                  v134 = v3;
                  WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<unsigned char>(&v134, &v84[v86]);
                }

                goto LABEL_135;
              }
            }

            v87 = WTF::StringBuilder::extendBufferForAppendingWithUpconvert(&v128);
            if (v87)
            {
              v88 = v87;
              v89 = v33;
              v123 = v75;
              v46 = WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<char16_t>(&v123, v87);
              v90 = v123;
              if (v123)
              {
                v90 = *(v123 + 1);
                if (v89 < v90)
                {
                  goto LABEL_215;
                }
              }

              v134 = v3;
              WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<char16_t>(&v134, &v88[2 * v90]);
            }

LABEL_135:
            if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v3, v33);
            }

            if (!v57)
            {
              v3 = v56;
              v4 = v50;
LABEL_144:
              v91 = v121;
              v121 = 0;
              if (v91 && atomic_fetch_add_explicit(v91, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v91, v33);
              }

              CFRelease(*(v14 + 1));
              goto LABEL_148;
            }

            if (v56 && atomic_fetch_add_explicit(v56, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v56, v33);
              if (!v50)
              {
                goto LABEL_142;
              }
            }

            else if (!v50)
            {
LABEL_142:
              v3 = 0;
              v4 = 0;
              goto LABEL_144;
            }

            IPC::Decoder::~Decoder(v50);
            bmalloc::api::tzoneFree(v93, v94);
            goto LABEL_142;
          }

          v50 = v123;
          v123 = 0;
          if (*(v50 + 25) == 3194)
          {
            v51 = v4 & 0xFFFFFFFFFFFFFF00 | 0xB;
          }

          else
          {
            LOBYTE(v132) = 0;
            LOBYTE(v133) = 0;
            IPC::Decoder::operator>><std::tuple<WTF::String>>(v50, &v132);
            if (v133 == 1)
            {
              v3 = v132;
              v49 = 1;
              goto LABEL_81;
            }

            v51 = v4 & 0xFFFFFFFFFFFFFF00 | 0xE;
          }

          IPC::Decoder::~Decoder(v50);
          bmalloc::api::tzoneFree(v52, v53);
          v49 = 0;
          v50 = v51;
          goto LABEL_81;
        }

        WebKit::WebFrame::innerText(&v134, *(v14 + 5));
        v34 = v134;
        v134 = 0;
        if (!v34)
        {
          goto LABEL_144;
        }

        if (atomic_fetch_add_explicit(v34, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v34, v33);
        }

        WebKit::WebFrame::frameTextForTesting(&v132, v14, 1);
        v35 = v121;
        v36 = v132;
        if (v121)
        {
          v37 = *(v121 + 1);
          if (v132)
          {
LABEL_50:
            v38 = *(v132 + 1);
LABEL_51:
            v39 = __CFADD__(v37, v38);
            v40 = v37 + v38;
            if (v39)
            {
              v40 = -1;
            }

            if (__CFADD__(v130, v40))
            {
              v41 = 0xFFFFFFFFLL;
            }

            else
            {
              v41 = (v130 + v40);
            }

            v42 = v129;
            if ((v129 || (v42 = v128) != 0) && (*(v42 + 16) & 4) == 0 || v121 && (*(v121 + 16) & 4) == 0 || v132 && (v132[16] & 4) == 0)
            {
              v43 = WTF::StringBuilder::extendBufferForAppendingWithUpconvert(&v128);
              if (v43)
              {
                v44 = v43;
                v45 = v33;
                v123 = v35;
                v46 = WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<char16_t>(&v123, v43);
                v47 = v123;
                if (v123)
                {
                  v47 = *(v123 + 1);
                  if (v45 < v47)
                  {
                    goto LABEL_215;
                  }
                }

                v134 = v36;
                WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<char16_t>(&v134, &v44[2 * v47]);
              }
            }

            else
            {
              v62 = MEMORY[0x19EB01170](&v128, v41);
              if (v62)
              {
                v63 = v62;
                v64 = v33;
                v123 = v35;
                v46 = WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<unsigned char>(&v123, v62);
                v65 = v123;
                if (v123)
                {
                  v65 = *(v123 + 1);
                  if (v64 < v65)
                  {
                    goto LABEL_215;
                  }
                }

                v134 = v36;
                WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<unsigned char>(&v134, &v63[v65]);
              }
            }

            if (v36 && atomic_fetch_add_explicit(v36, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v36, v33);
            }

            goto LABEL_144;
          }
        }

        else
        {
          v37 = 0;
          if (v132)
          {
            goto LABEL_50;
          }
        }

        v38 = 0;
        goto LABEL_51;
      }

LABEL_162:
      v95 = v128;
      if (v128)
      {
        v6 = v118;
        goto LABEL_164;
      }

      WTF::StringBuilder::shrinkToFit(&v128);
      WTF::StringBuilder::reifyString(&v128);
      v95 = v128;
      v6 = v118;
      if (v128)
      {
LABEL_164:
        atomic_fetch_add_explicit(v95, 2u, memory_order_relaxed);
      }
    }

    else
    {
      v95 = v128;
      if (v128)
      {
        goto LABEL_164;
      }

      WTF::StringBuilder::shrinkToFit(&v128);
      WTF::StringBuilder::reifyString(&v128);
      v95 = v128;
      if (v128)
      {
        goto LABEL_164;
      }
    }

    *v6 = v95;
    v96 = v127;
    v127 = 0;
    if (v96 && atomic_fetch_add_explicit(v96, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v96, v8);
    }

    goto LABEL_168;
  }

  *v6 = 0;
LABEL_168:
  v97 = v129;
  v129 = 0;
  if (v97 && atomic_fetch_add_explicit(v97, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v97, v8);
  }

  this = v128;
  v128 = 0;
  if (this)
  {
    if (atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(this, v8);
    }
  }

  return this;
}

uint64_t WebKit::WebFrame::webFrame(void *a1, uint64_t a2)
{
  v4 = a1;
  {
    v5 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v9 = a2;
    v7 = WebKit::WebProcess::operator new(0x370, a1);
    v5 = WebKit::WebProcess::WebProcess(v7);
    v4 = a1;
    a2 = v9;
    WebKit::WebProcess::singleton(void)::process = v5;
  }

  return WebKit::WebProcess::webFrame(v5, v4, a2);
}

uint64_t WebKit::WebFrame::messageSenderConnection(WebKit::WebFrame *this, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v4 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v4);
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  return *(v2 + 5);
}

uint64_t non-virtual thunk toWebKit::WebFrame::messageSenderConnection(WebKit::WebFrame *this, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v4 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v4);
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  return *(v2 + 5);
}

IPC::Encoder *WebKit::WebFrame::setAppBadge(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v13[0] = a3;
  v13[1] = a4;
  v5 = a1 + 32;
  v6 = (*(*(a1 + 32) + 56))(a1 + 32);
  v8 = IPC::Encoder::operator new(0x238, v7);
  *v8 = 2012;
  *(v8 + 2) = 0;
  *(v8 + 3) = 0;
  *(v8 + 1) = v6;
  *(v8 + 68) = 0;
  *(v8 + 70) = 0;
  *(v8 + 69) = 0;
  IPC::Encoder::encodeHeader(v8);
  v14 = v8;
  IPC::ArgumentCoder<WebCore::SecurityOriginData,void>::encode(v8, a2);
  IPC::ArgumentCoder<std::optional<unsigned long long>,void>::encode<IPC::Encoder,std::optional<unsigned long long> const&>(v8, v13);
  (*(*v5 + 32))(v5, &v14, 0);
  result = v14;
  v14 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v9);
    return bmalloc::api::tzoneFree(v11, v12);
  }

  return result;
}

WebCore::ResourceResponse *WebKit::WebFrame::resourceResponseForURL@<X0>(WebCore::ResourceResponse *this@<X0>, const WTF::URL *a2@<X1>, WebCore::ResourceResponse *a3@<X8>)
{
  v4 = *(this + 5);
  if (v4 && (v5 = *(v4 + 8)) != 0 && (*(v5 + 136) & 1) == 0)
  {
    ++*(v5 + 16);
    v6 = *(*(v5 + 208) + 96);
    if (v6)
    {
      ++v6[6];
      v8 = WebCore::ResourceRequestBase::url((v6 + 220));
      if (WTF::equal(*v8, *a2, v9))
      {
        this = WebCore::ResourceResponse::ResourceResponse(a3, (v6 + 320));
        *(a3 + 264) = 1;
      }

      else
      {
        this = WebCore::DocumentLoader::subresource(&v10, v6, a2);
        if (v10)
        {
          WebCore::ResourceResponse::ResourceResponse(a3, (v10 + 56));
          this = v10;
          *(a3 + 264) = 1;
          v10 = 0;
          if (this)
          {
            if (*(this + 2) == 1)
            {
              this = (*(*this + 8))(this);
            }

            else
            {
              --*(this + 2);
            }
          }
        }

        else
        {
          *a3 = 0;
          *(a3 + 264) = 0;
        }
      }

      if (v6[6] == 1)
      {
        this = (*(*v6 + 24))(v6);
      }

      else
      {
        --v6[6];
      }
    }

    else
    {
      *a3 = 0;
      *(a3 + 264) = 0;
    }

    if (*(v5 + 16) == 1)
    {
      return (*(*v5 + 8))(v5);
    }

    else
    {
      --*(v5 + 16);
    }
  }

  else
  {
    *a3 = 0;
    *(a3 + 264) = 0;
  }

  return this;
}

uint64_t WebKit::WebFrame::findFocusableElementDescendingIntoRemoteFrame(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v4 = *a4;
  *a4 = 0;
  (*(*v4 + 16))(v4, 0);
  v5 = *(*v4 + 8);

  return v5(v4);
}

void WebKit::WebHistoryItemClient::historyItemChanged(WebKit::WebHistoryItemClient *this, const WebCore::HistoryItem *a2)
{
  if ((*(this + 24) & 1) == 0)
  {
    v2 = *(this + 2);
    if (v2)
    {
      v3 = *(v2 + 8);
      if (v3)
      {
        CFRetain(*(v3 - 8));
        WebKit::toFrameState(a2, &v13);
        v5 = (*(*(v3 + 16) + 56))(v3 + 16);
        v7 = IPC::Encoder::operator new(0x238, v6);
        *v7 = 2152;
        *(v7 + 2) = 0;
        *(v7 + 3) = 0;
        *(v7 + 1) = v5;
        *(v7 + 68) = 0;
        *(v7 + 70) = 0;
        *(v7 + 69) = 0;
        IPC::Encoder::encodeHeader(v7);
        v14 = v7;
        IPC::ArgumentCoder<WebKit::FrameState,void>::encode(v7, v13);
        (*(*(v3 + 16) + 32))(v3 + 16, &v14, 0);
        v9 = v14;
        v14 = 0;
        if (v9)
        {
          IPC::Encoder::~Encoder(v9, v8);
          bmalloc::api::tzoneFree(v11, v12);
        }

        v10 = v13;
        v13 = 0;
        if (v10)
        {
          WTF::RefCounted<WebKit::FrameState>::deref(v10);
        }

        CFRelease(*(v3 - 8));
      }
    }
  }
}

void WebKit::WebHistoryItemClient::clearChildren(WebKit::WebHistoryItemClient *this, const WebCore::HistoryItem *a2)
{
  if ((*(this + 24) & 1) == 0)
  {
    v2 = *(this + 2);
    if (v2)
    {
      v3 = *(v2 + 8);
      if (v3)
      {
        v4 = (a2 + 312);
        CFRetain(*(v3 - 8));
        v5 = *v4;
        v13 = v4[1];
        *v14 = v5;
        v6 = (*(*(v3 + 16) + 56))(v3 + 16);
        v8 = IPC::Encoder::operator new(0x238, v7);
        *v8 = 2150;
        *(v8 + 2) = 0;
        *(v8 + 3) = 0;
        *(v8 + 1) = v6;
        *(v8 + 68) = 0;
        *(v8 + 70) = 0;
        *(v8 + 69) = 0;
        IPC::Encoder::encodeHeader(v8);
        v15 = v8;
        IPC::ArgumentCoder<WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::BackForwardFrameItemIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode(v8, v14);
        IPC::ArgumentCoder<WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::BackForwardFrameItemIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode(v8, &v13);
        (*(*(v3 + 16) + 32))(v3 + 16, &v15, 0);
        v10 = v15;
        v15 = 0;
        if (v10)
        {
          IPC::Encoder::~Encoder(v10, v9);
          bmalloc::api::tzoneFree(v11, v12);
        }

        CFRelease(*(v3 - 8));
      }
    }
  }
}

unsigned int *WebKit::WebOpenPanelResultListener::create@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X1>, uint64_t *a3@<X8>)
{
  v6 = WTF::fastMalloc(0x18);
  *v6 = 1;
  result = WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 24), a1 + 16);
  v8 = *(a1 + 24);
  if (v8)
  {
    atomic_fetch_add(v8, 1u);
  }

  *(v6 + 8) = v8;
  v9 = *a2;
  *a2 = 0;
  *(v6 + 16) = v9;
  *a3 = v6;
  return result;
}

void WebKit::WebOpenPanelResultListener::~WebOpenPanelResultListener(WebKit::WebOpenPanelResultListener *this, void *a2)
{
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    WTF::RefCounted<WebCore::FileChooser>::deref(v3);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  if (*this != 1)
  {
    __break(0xC471u);
  }
}

void WebKit::WebCookieJar::~WebCookieJar(WebKit::WebCookieJar *this, void *a2)
{
  v3 = *(this + 6);
  *(this + 6) = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  v4 = *(this + 5);
  if (v4)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  v5 = *(this + 4);
  *(this + 4) = 0;
  if (v5)
  {
    WTF::RefCounted<WebKit::WebCookieCache>::deref((v5 + 16), a2);
  }

  WebCore::CookieJar::~CookieJar(this);
}

{
  v3 = *(this + 6);
  *(this + 6) = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  v4 = *(this + 5);
  if (v4)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  v5 = *(this + 4);
  *(this + 4) = 0;
  if (v5)
  {
    WTF::RefCounted<WebKit::WebCookieCache>::deref((v5 + 16), a2);
  }

  WebCore::CookieJar::~CookieJar(this);

  WTF::fastFree(v6, v7);
}

void WebKit::WebFoundTextRangeController::~WebFoundTextRangeController(WebKit::WebFoundTextRangeController *this, WTF::StringImpl *a2)
{
  WebKit::WebFoundTextRangeController::~WebFoundTextRangeController(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

{
  *this = &unk_1F11333C8;
  v3 = *(this + 12);
  *(this + 12) = 0;
  if (v3)
  {
    WTF::RefCounted<WebCore::TextIndicator>::deref(v3);
  }

  v4 = *(this + 11);
  if (v4)
  {
    WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::FindDecorationStyle>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  v5 = *(this + 10);
  if (v5)
  {
    WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(v5, a2);
  }

  v6 = *(this + 8);
  *(this + 8) = 0;
  if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v6, a2);
  }

  v7 = *(this + 2);
  *(this + 2) = 0;
  if (v7)
  {
    WTF::RefCounted<WebCore::PageOverlay>::deref((v7 + 16));
  }

  v8 = *(this + 1);
  *(this + 1) = 0;
  if (v8)
  {
    if (atomic_fetch_add(v8, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v8);
      WTF::fastFree(v8, a2);
    }
  }
}

void WebKit::WebHistoryItemClient::~WebHistoryItemClient(WebKit::WebHistoryItemClient *this, void *a2)
{
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  if (*(this + 2) == 1)
  {

    bmalloc::api::tzoneFree(this, a2);
  }

  else
  {
    __break(0xC471u);
  }
}

uint64_t mpark::detail::move_constructor<mpark::detail::traits<IPC::ConnectionSendSyncResult<Messages::NetworkConnectionToWebProcess::DomCookiesForHost>::ReplyData,IPC::Error>,(mpark::detail::Trait)1>::~move_constructor(uint64_t a1, void *a2)
{
  if (!*(a1 + 24))
  {
    WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(a1 + 8, a2);
    std::unique_ptr<IPC::Decoder>::reset[abi:sn200100](a1, 0);
  }

  *(a1 + 24) = -1;
  return a1;
}

uint64_t WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 16);
    do
    {
      if (*(v4 - 2) != -1)
      {
        v5 = *v4;
        *v4 = 0;
        if (v5)
        {
          (*(*v5 + 8))(v5);
        }
      }

      v4 += 3;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

_DWORD *WTF::RefCounted<WebKit::WebCookieCache>::deref(_DWORD *result, WTF::StringImpl *a2)
{
  if (*result == 1)
  {
    WebKit::WebCookieCache::~WebCookieCache((result - 4), a2);

    return WTF::fastFree(v3, v4);
  }

  else
  {
    --*result;
  }

  return result;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = a1;
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        if (*(v4 + 8))
        {
          WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(*(v4 + 8), a2);
          v5 = *v4;
        }

        *v4 = 0;
        if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v5, a2);
        }
      }

      v4 += 24;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::FindDecorationStyle>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 40);
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        *v4 = 0;
        if (v5)
        {
          if (atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v5, a2);
          }
        }
      }

      v4 += 8;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = a1 + 56;
    do
    {
      if (*(v4 - 16) != -1)
      {
        if (*(v4 + 32) == 1)
        {
          v6 = *(v4 + 16);
          *(v4 + 16) = 0;
          if (v6)
          {
            WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v6, a2);
          }

          v7 = *v4;
          *v4 = 0;
          if (v7)
          {
            WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v7, a2);
          }
        }

        v5 = *(v4 - 16);
        *(v4 - 16) = 0;
        if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v5, a2);
        }
      }

      v4 += 96;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

IPC::Decoder *IPC::Decoder::operator>><std::tuple<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>(IPC::Decoder *a1, uint64_t a2, double a3, __n128 a4)
{
  IPC::ArgumentCoder<std::tuple<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,void>::decode<IPC::Decoder>(a1, &v19, a4);
  v7 = v21;
  if ((v21 & 1) == 0)
  {
    v6 = *a1;
    v16 = *(a1 + 1);
    *a1 = 0;
    *(a1 + 1) = 0;
    v17 = *(a1 + 3);
    if (v17 && v16 != 0)
    {
      (*(*v17 + 16))(v17, v6);
      v7 = v21;
    }
  }

  if (*(a2 + 16) == v7)
  {
    if (*(a2 + 16))
    {
      v8 = *(a2 + 12);
      if (v8)
      {
        v9 = *a2;
        v10 = 144 * v8;
        do
        {
          WebCore::Cookie::~Cookie(v9, v6);
          v9 = (v11 + 144);
          v10 -= 144;
        }

        while (v10);
      }

      v12 = *a2;
      if (*a2)
      {
        *a2 = 0;
        *(a2 + 8) = 0;
        WTF::fastFree(v12, v6);
      }

      *a2 = v19;
      v13 = v20;
      v19 = 0;
      v20 = 0;
      *(a2 + 8) = v13;
    }
  }

  else if (*(a2 + 16))
  {
    WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(a2, v6);
    *(a2 + 16) = 0;
  }

  else
  {
    *a2 = v19;
    v14 = v20;
    v19 = 0;
    v20 = 0;
    *(a2 + 8) = v14;
    *(a2 + 16) = 1;
  }

  if (v21 == 1)
  {
    WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v19, v6);
  }

  return a1;
}

IPC::Decoder *IPC::Decoder::operator>><std::tuple<WTF::String,BOOL>>(IPC::Decoder *a1, uint64_t a2)
{
  IPC::ArgumentCoder<std::tuple<WTF::String,BOOL>,void>::decode<IPC::Decoder>(a1, &v15);
  v5 = v17;
  if ((v17 & 1) == 0)
  {
    v4 = *a1;
    v12 = *(a1 + 1);
    *a1 = 0;
    *(a1 + 1) = 0;
    v13 = *(a1 + 3);
    if (v13 && v12 != 0)
    {
      (*(*v13 + 16))(v13, v4);
      v5 = v17;
    }
  }

  if (*(a2 + 16) == v5)
  {
    if (*(a2 + 16))
    {
      v6 = v15;
      v15 = 0;
      v7 = *a2;
      *a2 = v6;
      if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v7, v4);
      }

      *(a2 + 8) = v16;
    }
  }

  else if (*(a2 + 16))
  {
    v8 = *a2;
    *a2 = 0;
    if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v8, v4);
    }

    *(a2 + 16) = 0;
  }

  else
  {
    v9 = v15;
    v15 = 0;
    *a2 = v9;
    *(a2 + 8) = v16;
    *(a2 + 16) = 1;
  }

  if (v17 == 1)
  {
    v10 = v15;
    v15 = 0;
    if (v10)
    {
      if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v10, v4);
      }
    }
  }

  return a1;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(uint64_t *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  v3 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v6 = *a2;
  if (*a2 == -1 || !v6)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3D27E0);
  }

  v7 = *(v3 - 8);
  v8 = *(v6 + 4);
  if (v8 < 0x100)
  {
    v9 = WTF::StringImpl::hashSlowCase(v6);
  }

  else
  {
    v9 = v8 >> 8;
  }

  for (i = 0; ; v9 = i + v11)
  {
    v11 = v9 & v7;
    v12 = (v3 + 24 * (v9 & v7));
    v13 = *v12;
    if (*v12 == -1)
    {
      goto LABEL_10;
    }

    if (!v13)
    {
      break;
    }

    if (WTF::equal(v13, *a2, a3))
    {
      return v12;
    }

LABEL_10:
    ++i;
  }

  if (*a1)
  {
    return *a1 + 24 * *(*a1 - 4);
  }

  else
  {
    return 0;
  }
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::CookiesEnabled,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1133648;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::CookiesEnabled,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133648;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::CookiesEnabled,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = *&v4 & ((v4 & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::DeleteCookie,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1133670;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::DeleteCookie,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133670;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::DeleteCookie,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v1 + 16))(v1);
  v2 = *(*v1 + 8);

  return v2(v1);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::CookiesForDOMAsync,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1133698;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::CookiesForDOMAsync,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133698;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::CookiesForDOMAsync,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder>::call(uint64_t a1, double a2, __n128 a3, uint64_t a4, IPC::Decoder *a5)
{
  if (a5)
  {
    v7 = *a5;
    if (*a5)
    {
      v8 = *(a5 + 1);
      v9 = *(a5 + 2);
      if (v8 <= &v9[-v7])
      {
        *a5 = 0;
        *(a5 + 1) = 0;
        v19 = *(a5 + 3);
        if (v19)
        {
          if (v8)
          {
            (*(*v19 + 16))(v19);
            v7 = *a5;
            v8 = *(a5 + 1);
            goto LABEL_19;
          }
        }

        else
        {
          v8 = 0;
        }

        v7 = 0;
      }

      else
      {
        *(a5 + 2) = v9 + 1;
        if (v9)
        {
          v10 = *v9;
          if (v10 < 2)
          {
            if (!v10)
            {
              LOBYTE(v29) = 0;
              v30 = 0;
              v31 = 1;
LABEL_13:
              v17 = *(a1 + 8);
              *(a1 + 8) = 0;
              (*(*v17 + 16))(v17, &v29);
              result = (*(*v17 + 8))(v17);
              if ((v31 & 1) != 0 && v30 == 1)
              {
                return WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v29, v18);
              }

              return result;
            }

            IPC::Decoder::decode<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>(a5, &v35, a3);
            if (v36)
            {
              *&v12 = 0;
              v13 = v35;
              v28 = v12;
              v35 = v12;
              v33 = 1;
              WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v35, v11);
              v34 = 1;
              v32 = v28;
              v29 = v13;
              v30 = 1;
              v31 = 1;
              WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v32, v14);
              goto LABEL_13;
            }

            goto LABEL_23;
          }

          goto LABEL_22;
        }
      }

LABEL_19:
      *a5 = 0;
      *(a5 + 1) = 0;
      v20 = *(a5 + 3);
      if (v20)
      {
        if (v8)
        {
          (*(*v20 + 16))(v20, v7);
          v7 = *a5;
          v8 = *(a5 + 1);
          goto LABEL_22;
        }
      }

      else
      {
        v8 = 0;
      }

      v7 = 0;
LABEL_22:
      *a5 = 0;
      *(a5 + 1) = 0;
      v21 = *(a5 + 3);
      if (v21 && v8)
      {
        (*(*v21 + 16))(v21, v7);
      }

LABEL_23:
      v22 = *a5;
      v23 = *(a5 + 1);
      *a5 = 0;
      *(a5 + 1) = 0;
      v24 = *(a5 + 3);
      if (v24 && v23)
      {
        (*(*v24 + 16))(v24, v22);
        v25 = *(a5 + 3);
        v26 = *a5;
        v27 = *(a5 + 1);
        *a5 = 0;
        *(a5 + 1) = 0;
        if (v25 && v27)
        {
          (*(*v25 + 16))(v25, v26);
        }
      }

      else
      {
        *a5 = 0;
        *(a5 + 1) = 0;
      }

      return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::CookiesForDOMAsync,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>((a1 + 8));
    }
  }

  v15 = (a1 + 8);

  return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::CookiesForDOMAsync,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(v15);
}

uint64_t IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::CookiesForDOMAsync,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(uint64_t *a1)
{
  v4[0] = 0;
  v5 = 0;
  v1 = *a1;
  *a1 = 0;
  (*(*v1 + 16))(v1, v4);
  result = (*(*v1 + 8))(v1);
  if (v5 == 1)
  {
    return WTF::Vector<WebCore::Cookie,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v4, v3);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SetCookieFromDOMAsync,WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0>(WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,IPC::Decoder)#1},void,WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,IPC::Decoder>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F11336C0;
  WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)const::$_0::~$_0((a1 + 1), a2);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SetCookieFromDOMAsync,WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0>(WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,IPC::Decoder)#1},void,WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,IPC::Decoder>::~CallableWrapper(WTF *a1, void *a2)
{
  *a1 = &unk_1F11336C0;
  WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)const::$_0::~$_0(a1 + 8, a2);

  return WTF::fastFree(a1, v3);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SetCookieFromDOMAsync,WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0>(WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,IPC::Decoder)#1},void,WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,IPC::Decoder>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = v4 & (v4 << 23 >> 31);
  }

  else
  {
    v5 = 0;
  }

  return std::apply[abi:sn200100]<WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,std::tuple<BOOL>>(a1 + 8, v5);
}

uint64_t std::apply[abi:sn200100]<WebKit::WebCookieJar::setCookieAsync(WebCore::Document &,WTF::URL const&,WebCore::Cookie const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,std::tuple<BOOL>>(uint64_t a1, unint64_t a2)
{
  v3 = a2;
  v4 = a1;
  if ((a2 & 1) == 0 || *(a1 + 16) != 1)
  {
    goto LABEL_13;
  }

  v5 = *(a1 + 8);
  v6 = *(*a1 + 32);
  *(a1 + 8) = 0;
  if ((*(a1 + 96) & 1) == 0 || (*(a1 + 112) & 1) == 0)
  {
    __break(1u);
    goto LABEL_24;
  }

  WebKit::shouldRelaxThirdPartyCookieBlocking(*(a1 + 32), a2);
  a1 = WTF::URL::host((v4 + 6));
  v2 = *(v6 + 3);
  if (v2)
  {
LABEL_24:
    v19 = a2;
    v20 = *(v2 - 8);
    v21 = a1;
    if ((a2 & 0x100000000) != 0)
    {
      v22 = WTF::SuperFastHash::computeHashImpl<unsigned char,WTF::StringHasher::DefaultConverter>(a1, a2);
    }

    else
    {
      v22 = WTF::SuperFastHash::computeHashImpl<char16_t,WTF::StringHasher::DefaultConverter>(a1, a2);
    }

    v23 = 0;
    v24 = (v22 ^ (8 * v22)) + ((v22 ^ (8 * v22)) >> 5);
    v25 = (v24 ^ (4 * v24)) + ((v24 ^ (4 * v24)) >> 15);
    v26 = (v25 ^ (v25 << 10)) & 0xFFFFFF;
    if (!v26)
    {
      v26 = 0x800000;
    }

    while (1)
    {
      v27 = v26 & v20;
      v28 = (v2 + 8 * (v26 & v20));
      if (*v28 != -1)
      {
        if (!*v28)
        {
          goto LABEL_6;
        }

        if (WTF::StringViewHashTranslator::equal(v28, v21, v19 & 0xFFFFFFFFFFLL))
        {
          break;
        }
      }

      v26 = ++v23 + v27;
    }

    v29 = WebKit::WebCookieCache::inMemoryStorageSession(v6);
    ++*(v29 + 8);
    WebCore::NetworkStorageSession::setCookieFromDOM();
    v30 = *(v29 + 8);
    if (!v30)
    {
      result = 290;
      __break(0xC471u);
      return result;
    }

    *(v29 + 8) = v30 - 1;
  }

LABEL_6:
  if (!v5)
  {
    goto LABEL_13;
  }

  v7 = *v5;
  v8 = *(v5 + 8) - 1;
  *(v5 + 8) = v8;
  if (v7)
  {
    v9 = *v7;
    if (!*v7)
    {
      goto LABEL_13;
    }

    v10 = *(v5 + 16);
    *(v5 + 16) = 1;
    (*(*v9 + 16))(v9, 0);
    *(v5 + 16) = v10;
    if (*v5)
    {
      goto LABEL_13;
    }

    v8 = *(v5 + 8);
  }

  if (!v8)
  {
    MEMORY[0x19EB14CF0](v5, 0x1020C40545B2139);
  }

LABEL_13:
  v11 = v4[1];
  v4[1] = 0;
  if (v11)
  {
    v12 = *v11;
    v13 = *(v11 + 8) - 1;
    *(v11 + 8) = v13;
    if (!v12)
    {
      goto LABEL_18;
    }

    v14 = *v12;
    if (*v12)
    {
      v15 = *(v11 + 16);
      *(v11 + 16) = 1;
      (*(*v14 + 16))(v14, 0);
      *(v11 + 16) = v15;
      if (!*v11)
      {
        v13 = *(v11 + 8);
LABEL_18:
        if (!v13)
        {
          MEMORY[0x19EB14CF0](v11, 0x1020C40545B2139);
        }
      }
    }
  }

  v16 = v4[33];
  v4[33] = 0;
  (*(*v16 + 16))(v16, v3 & 1);
  v17 = *(*v16 + 8);

  return v17(v16);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SubscribeToCookieChangeNotifications,WebKit::WebCookieJar::addChangeListenerWithAccess(WTF::URL const&,WTF::URL const&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebCore::CookieChangeListener const&)::$_0>(WebKit::WebCookieJar::addChangeListenerWithAccess(WTF::URL const&,WTF::URL const&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebCore::CookieChangeListener const&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F11336E8;
  v3 = a1[4];
  a1[4] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = a1[3];
  a1[3] = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = a1[1];
  a1[1] = 0;
  if (v5)
  {
    if (v5[4] == 1)
    {
      (*(*v5 + 120))(v5);
    }

    else
    {
      --v5[4];
    }
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SubscribeToCookieChangeNotifications,WebKit::WebCookieJar::addChangeListenerWithAccess(WTF::URL const&,WTF::URL const&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebCore::CookieChangeListener const&)::$_0>(WebKit::WebCookieJar::addChangeListenerWithAccess(WTF::URL const&,WTF::URL const&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebCore::CookieChangeListener const&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F11336E8;
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = *(this + 3);
  *(this + 3) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = *(this + 1);
  *(this + 1) = 0;
  if (v5)
  {
    if (v5[4] == 1)
    {
      (*(*v5 + 120))(v5);
    }

    else
    {
      --v5[4];
    }
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SubscribeToCookieChangeNotifications,WebKit::WebCookieJar::addChangeListenerWithAccess(WTF::URL const&,WTF::URL const&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebCore::CookieChangeListener const&)::$_0>(WebKit::WebCookieJar::addChangeListenerWithAccess(WTF::URL const&,WTF::URL const&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebCore::CookieChangeListener const&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t result, uint64_t a2, IPC::Decoder *a3)
{
  if (!a3)
  {
    return result;
  }

  if (!*a3)
  {
    return result;
  }

  v3 = result;
  result = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
  if ((result & 0x100) == 0)
  {
    return result;
  }

  if ((result & 1) == 0)
  {
    return result;
  }

  v5 = v3[4];
  if (!v5 || !*(v5 + 8))
  {
    return result;
  }

  v7 = (v3 + 3);
  v6 = v3[3];
  if (v6 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3D38C8);
  }

  if (!v6)
  {
    goto LABEL_67;
  }

  v8 = v3[2];
  v9 = *(v8 + 40);
  if (v9 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((v8 + 40), 0), (v9 = *(v8 + 40)) != 0))
  {
    v10 = *(v9 - 8);
  }

  else
  {
    v10 = 0;
  }

  v11 = *(*v7 + 4);
  v12 = v11 < 0x100 ? WTF::StringImpl::hashSlowCase(*v7) : v11 >> 8;
  v13 = 0;
  for (i = 1; ; ++i)
  {
    v15 = v12 & v10;
    v16 = (v9 + 24 * (v12 & v10));
    v17 = *v16;
    if (*v16 == -1)
    {
      v13 = (v9 + 24 * v15);
      goto LABEL_20;
    }

    if (!v17)
    {
      break;
    }

    if (WTF::equal(v17, *v7, v4))
    {
      goto LABEL_31;
    }

LABEL_20:
    v12 = i + v15;
  }

  if (v13)
  {
    *v13 = 0;
    v13[1] = 0;
    v13[2] = 0;
    --*(*(v8 + 40) - 16);
    v16 = v13;
  }

  WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v16, (v3 + 3));
  v19 = v16[1];
  v16[1] = 0;
  if (v19)
  {
    WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(v19, v18);
  }

  v16[2] = 0;
  v20 = *(v8 + 40);
  v21 = v20 ? *(v20 - 12) + 1 : 1;
  *(v20 - 12) = v21;
  v22 = (*(v20 - 16) + v21);
  v23 = *(v20 - 4);
  if (v23 > 0x400)
  {
    if (v23 <= 2 * v22)
    {
LABEL_30:
      v16 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((v8 + 40), v16);
    }
  }

  else if (3 * v23 <= 4 * v22)
  {
    goto LABEL_30;
  }

LABEL_31:
  v24 = v3[4];
  if (!v24 || (v25 = *(v24 + 8)) == 0)
  {
LABEL_67:
    __break(0xC471u);
    JUMPOUT(0x19E3D38A8);
  }

  v26 = *(v16 + 5);
  v27 = *(v16 + 4) + 1;
  *(v16 + 4) = v27;
  if (v27 > v26)
  {
    v28 = v16[1];
    if (!v28)
    {
      goto LABEL_48;
    }

    v29 = *(v28 - 1);
    if (!v29)
    {
      goto LABEL_49;
    }

    v30 = 0;
    v31 = 8 * v29;
    v32 = v28 - 8;
    do
    {
      v33 = *&v32[v31];
      if ((v33 + 1) >= 2 && !*(v33 + 8))
      {
        *&v32[v31] = 0;
        if (atomic_fetch_add(v33, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v33);
          WTF::fastFree(v33, v18);
        }

        *&v32[v31] = -1;
        ++v30;
      }

      v31 -= 8;
    }

    while (v31);
    v28 = v16[1];
    if (v30)
    {
      v34 = *(v28 - 3) - v30;
      *(v28 - 4) += v30;
      *(v28 - 3) = v34;
      goto LABEL_49;
    }

    if (!v28)
    {
LABEL_48:
      LODWORD(v28) = 0;
      *(v16 + 4) = 0;
      goto LABEL_56;
    }

LABEL_49:
    v35 = *(v28 - 1);
    if (6 * *(v28 - 3) >= v35 || v35 <= 8)
    {
      *(v16 + 4) = 0;
      goto LABEL_55;
    }

    WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize(v16 + 1);
    v28 = v16[1];
    *(v16 + 4) = 0;
    if (v28)
    {
LABEL_55:
      LODWORD(v28) = *(v28 - 3);
      if (v28 <= 0x7FFFFFFE)
      {
        goto LABEL_56;
      }

      v37 = -2;
    }

    else
    {
LABEL_56:
      v37 = 2 * v28;
    }

    *(v16 + 5) = v37;
  }

  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v25 + 8), v25);
  v38 = *(v25 + 8);
  atomic_fetch_add(v38, 1u);
  v41 = v38;
  WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(v16 + 1, &v41, &v40);
  result = v41;
  v41 = 0;
  if (result)
  {
    if (atomic_fetch_add(result, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      return WTF::fastFree(result, v39);
    }
  }

  return result;
}

WTF::StringImpl **WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

WTF::StringImpl **WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WeakHashSet<WebCore::CookieChangeListener,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t a3)
{
  v5 = *a1;
  if (*a1)
  {
    v6 = *(v5 - 4);
    v7 = *(v5 - 12);
  }

  else
  {
    v6 = 0;
    v7 = 0;
  }

  v8 = WTF::fastMalloc((24 * a2 + 16));
  v10 = v8;
  v11 = v8 + 16;
  if (a2)
  {
    bzero((v8 + 16), 24 * a2);
  }

  *a1 = v11;
  v10[2] = a2 - 1;
  v10[3] = a2;
  *v10 = 0;
  v10[1] = v7;
  if (v6)
  {
    v12 = 0;
    v13 = 0;
    v14 = a3;
    do
    {
      v15 = v5 + 24 * v12;
      v16 = *v15;
      if (*v15 != -1)
      {
        if (v16)
        {
          v17 = *a1;
          if (*a1)
          {
            v18 = *(v17 - 8);
          }

          else
          {
            v18 = 0;
          }

          v19 = *(v16 + 4);
          if (v19 < 0x100)
          {
            v20 = WTF::StringImpl::hashSlowCase(v16);
            v14 = a3;
          }

          else
          {
            v20 = v19 >> 8;
          }

          v21 = 0;
          do
          {
            v22 = (v17 + 24 * (v20 & v18));
            v20 = ++v21 + (v20 & v18);
          }

          while (*v22);
          v23 = v22[1];
          if (v23)
          {
            WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(v23, v9);
            v14 = a3;
            v28 = *v22;
            *v22 = 0;
            if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v28, v9);
              v14 = a3;
            }
          }

          else
          {
            *v22 = 0;
          }

          v24 = *v15;
          *v15 = 0;
          *v22 = v24;
          v22[1] = 0;
          v25 = *(v15 + 8);
          *(v15 + 8) = 0;
          v22[1] = v25;
          v22[2] = *(v15 + 16);
          v26 = *(v15 + 8);
          if (v26)
          {
            WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(v26, v9);
            v14 = a3;
          }

          v27 = *v15;
          *v15 = 0;
          if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v27, v9);
            v14 = a3;
          }

          if (v15 == v14)
          {
            v13 = v22;
          }
        }

        else
        {
          if (*(v15 + 8))
          {
            WTF::HashTable<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(*(v15 + 8), v9);
            v14 = a3;
            v16 = *v15;
          }

          *v15 = 0;
          if (v16)
          {
            if (atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v16, v9);
              v14 = a3;
            }
          }
        }
      }

      ++v12;
    }

    while (v12 != v6);
  }

  else
  {
    v13 = 0;
    result = 0;
    if (!v5)
    {
      return result;
    }
  }

  WTF::fastFree((v5 - 16), v9);
  return v13;
}

uint64_t WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand(uint64_t *a1, __int128 *a2)
{
  v2 = *a1;
  if (*a1)
  {
    v3 = *(v2 - 4);
    v4 = *(v2 - 12);
    if (v3)
    {
      v5 = v3 << (6 * v4 >= 2 * v3);
      goto LABEL_6;
    }
  }

  else
  {
    v3 = 0;
    v4 = 0;
  }

  v5 = 8;
LABEL_6:
  v6 = WTF::fastMalloc(((96 * v5) | 0x10));
  if (v5)
  {
    v8 = v5;
    v9 = v6 + 14;
    do
    {
      *(v9 - 8) = 0;
      *(v9 - 5) = 0;
      *(v9 - 4) = 0;
      *(v9 + 48) = 0;
      *v9 = 0;
      *(v9 + 1) = 0;
      *(v9 + 16) = 0;
      v9 += 24;
      --v8;
    }

    while (v8);
  }

  *a1 = (v6 + 4);
  v6[2] = v5 - 1;
  v6[3] = v5;
  *v6 = 0;
  v6[1] = v4;
  if (v3)
  {
    v10 = 0;
    v11 = 0;
    v12 = v3;
    v36 = v3;
    do
    {
      v13 = (v2 + 96 * v10);
      if (*(v13 + 5) != -1)
      {
        v42 = 0;
        v40 = 0;
        v41 = 0;
        v43 = 0;
        v44 = 0;
        if (WebKit::WebFoundTextRange::operator==((v2 + 96 * v10), &v40))
        {
          if (*(v13 + 88) == 1)
          {
            v29 = *(v13 + 9);
            *(v13 + 9) = 0;
            if (v29)
            {
              WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v29, v7);
            }

            v30 = *(v13 + 7);
            *(v13 + 7) = 0;
            if (v30)
            {
              WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v30, v7);
            }
          }

          v14 = *(v13 + 5);
          *(v13 + 5) = 0;
          if (v14)
          {
            if (atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v14, v7);
            }
          }
        }

        else
        {
          v39 = v11;
          v15 = *a1;
          if (*a1)
          {
            v16 = *(v15 - 8);
          }

          else
          {
            v16 = 0;
          }

          v17 = WebKit::WebFoundTextRange::hash((v2 + 96 * v10));
          v18 = 0;
          do
          {
            v19 = v17 & v16;
            v42 = 0;
            v20 = (v15 + 96 * (v17 & v16));
            v40 = 0;
            v41 = 0;
            v43 = 0;
            v44 = 0;
            v21 = WebKit::WebFoundTextRange::operator==(v20, &v40);
            v17 = ++v18 + v19;
          }

          while (!v21);
          v11 = v39;
          if (*(v20 + 88) == 1)
          {
            v31 = v20[9];
            v20[9] = 0;
            if (v31)
            {
              WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v31, v7);
            }

            v32 = v20[7];
            v20[7] = 0;
            if (v32)
            {
              WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v32, v7);
            }
          }

          v22 = v20[5];
          v20[5] = 0;
          if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v22, v7);
          }

          v23 = *v13;
          v24 = v13[1];
          v20[4] = *(v13 + 4);
          *v20 = v23;
          *(v20 + 1) = v24;
          v25 = *(v13 + 5);
          *(v13 + 5) = 0;
          v20[5] = v25;
          v20[6] = *(v13 + 6);
          *(v20 + 56) = 0;
          *(v20 + 88) = 0;
          if (*(v13 + 88) == 1)
          {
            v26 = *(v13 + 7);
            *(v13 + 7) = 0;
            v20[7] = v26;
            *(v20 + 16) = *(v13 + 16);
            v27 = *(v13 + 9);
            *(v13 + 9) = 0;
            v20[9] = v27;
            *(v20 + 20) = *(v13 + 20);
            *(v20 + 88) = 1;
            if (*(v13 + 88))
            {
              v33 = *(v13 + 9);
              *(v13 + 9) = 0;
              if (v33)
              {
                WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v33, v7);
              }

              v34 = *(v13 + 7);
              *(v13 + 7) = 0;
              if (v34)
              {
                WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v34, v7);
              }
            }
          }

          v28 = *(v13 + 5);
          *(v13 + 5) = 0;
          if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v28, v7);
          }

          if (v13 == a2)
          {
            v11 = v15 + 96 * v19;
          }

          v12 = v36;
        }
      }

      ++v10;
    }

    while (v10 != v12);
  }

  else
  {
    v11 = 0;
    result = 0;
    if (!v2)
    {
      return result;
    }
  }

  WTF::fastFree((v2 - 16), v7);
  return v11;
}

WTF::StringImpl *WTF::GenericHashTraits<WebKit::WebFoundTextRange>::assignToEmpty<WebKit::WebFoundTextRange,WebKit::WebFoundTextRange const&>(uint64_t a1, __int128 *a2)
{
  v4 = *a2;
  v5 = a2[1];
  *(a1 + 32) = *(a2 + 4);
  *a1 = v4;
  *(a1 + 16) = v5;
  v6 = *(a2 + 5);
  if (v6)
  {
    atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed);
  }

  result = *(a1 + 40);
  *(a1 + 40) = v6;
  if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    result = WTF::StringImpl::destroy(result, a2);
  }

  *(a1 + 48) = *(a2 + 6);
  return result;
}

_DWORD *WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,WebKit::FindDecorationStyle,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::FindDecorationStyle>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::expand(uint64_t *a1)
{
  v1 = *a1;
  if (*a1)
  {
    v2 = *(v1 - 4);
    v3 = *(v1 - 12);
    if (v2)
    {
      v4 = v2 << (6 * v3 >= 2 * v2);
      goto LABEL_6;
    }
  }

  else
  {
    v2 = 0;
    v3 = 0;
  }

  v4 = 8;
LABEL_6:
  v5 = v4;
  result = WTF::fastMalloc(((v4 << 6) | 0x10));
  if (v4)
  {
    v8 = result + 14;
    do
    {
      *(v8 - 8) = 0;
      *(v8 - 5) = 0;
      *(v8 - 4) = 0;
      *v8 = 0;
      *(v8 + 1) = 0;
      *(v8 + 16) = 0;
      v8 += 16;
      --v5;
    }

    while (v5);
  }

  *a1 = (result + 4);
  result[2] = v4 - 1;
  result[3] = v4;
  *result = 0;
  result[1] = v3;
  if (v2)
  {
    v9 = 0;
    v10 = v2;
    v25 = v1;
    do
    {
      v11 = (v1 + (v9 << 6));
      v12 = *(v11 + 5);
      if (v12 != -1)
      {
        v29 = 0;
        v27 = 0;
        v28 = 0;
        v30 = 0;
        v31 = 0;
        if (WebKit::WebFoundTextRange::operator==((v1 + (v9 << 6)), &v27))
        {
          *(v11 + 5) = 0;
          if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v12, v7);
          }
        }

        else
        {
          v13 = *a1;
          if (*a1)
          {
            v14 = *(v13 - 8);
          }

          else
          {
            v14 = 0;
          }

          v15 = WebKit::WebFoundTextRange::hash((v1 + (v9 << 6)));
          v16 = 0;
          do
          {
            v17 = v15 & v14;
            v29 = 0;
            v18 = v13 + (v17 << 6);
            v27 = 0;
            v28 = 0;
            v30 = 0;
            v31 = 0;
            v19 = WebKit::WebFoundTextRange::operator==(v18, &v27);
            v15 = ++v16 + v17;
          }

          while (!v19);
          v20 = *(v18 + 40);
          *(v18 + 40) = 0;
          v1 = v25;
          if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v20, v7);
          }

          v21 = *v11;
          v22 = v11[1];
          *(v18 + 32) = *(v11 + 4);
          *v18 = v21;
          *(v18 + 16) = v22;
          v23 = *(v11 + 5);
          *(v11 + 5) = 0;
          *(v18 + 40) = v23;
          *(v18 + 48) = *(v11 + 6);
          *(v18 + 56) = *(v11 + 56);
          v24 = *(v11 + 5);
          *(v11 + 5) = 0;
          if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v24, v7);
          }
        }
      }

      ++v9;
    }

    while (v9 != v10);
  }

  else if (!v1)
  {
    return result;
  }

  return WTF::fastFree((v1 - 16), v7);
}

void WebKit::WebFoundTextRangeController::redraw(void)::$_0::operator()(WebKit::WebFoundTextRangeController **a1, uint64_t a2)
{
  if (*(a2 + 8))
  {
    v2 = *a1;
    v3 = *(*a1 + 40);
    v10[0] = *(*a1 + 24);
    v10[1] = v3;
    v4 = *(v2 + 8);
    v11 = *(v2 + 7);
    if (v4)
    {
      atomic_fetch_add_explicit(v4, 2u, memory_order_relaxed);
      v5 = *(v2 + 9);
      v12 = v4;
      v13 = v5;
      WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v14, v2, v10);
      if (atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v4, v6);
      }
    }

    else
    {
      v7 = *(v2 + 9);
      v12 = 0;
      v13 = v7;
      WebKit::WebFoundTextRangeController::simpleRangeFromFoundTextRange(v14, v2, v10);
    }

    if (v16 == 1)
    {
      WebKit::WebFoundTextRangeController::setTextIndicatorWithRange(v2, v14);
      if (v16)
      {
        v8 = v15;
        v15 = 0;
        if (v8)
        {
          if (*(v8 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v8);
          }

          else
          {
            *(v8 + 7) -= 2;
          }
        }

        v9 = v14[0];
        v14[0] = 0;
        if (v9)
        {
          if (*(v9 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v9);
          }

          else
          {
            *(v9 + 7) -= 2;
          }
        }
      }
    }
  }
}

void *WTF::Detail::CallableWrapper<WebKit::WebFrame::createSubframe(WebKit::WebPage &,WebKit::WebFrame&,WTF::AtomString const&,WebCore::HTMLFrameOwnerElement &)::$_0,WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WebCore::LocalFrame &,WebCore::FrameLoader &>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1133710;
  a1[1] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebFrame::createSubframe(WebKit::WebPage &,WebKit::WebFrame&,WTF::AtomString const&,WebCore::HTMLFrameOwnerElement &)::$_0,WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WebCore::LocalFrame &,WebCore::FrameLoader &>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133710;
  *(this + 1) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(this, a2);
}

_BYTE *WTF::Detail::CallableWrapper<WebKit::WebFrame::createSubframe(WebKit::WebPage &,WebKit::WebFrame&,WTF::AtomString const&,WebCore::HTMLFrameOwnerElement &)::$_0,WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WebCore::LocalFrame &,WebCore::FrameLoader &>::call@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, WebCore::FrameLoader *a3@<X2>, WebCore::LocalFrameLoaderClient **a4@<X8>)
{
  v7 = *(a1 + 8);
  CFRetain(*(v7 + 8));
  v8 = WTF::fastMalloc(0x10);
  *v8 = &unk_1F1133760;
  v8[1] = v7;
  v12 = v8;
  v13 = 1;
  v9 = WTF::fastMalloc(0x60);
  CFRetain(*(v7 + 8));
  v14 = v7;
  WebKit::WebLocalFrameLoaderClient::WebLocalFrameLoaderClient(v9, a2, a3, &v14, &v12);
  v10 = v14;
  v14 = 0;
  if (v10)
  {
    CFRelease(*(v10 + 8));
  }

  result = WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v12);
  *a4 = v9;
  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebFrame::createRemoteSubframe(WebKit::WebPage &,WebKit::WebFrame&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Ref<WebCore::FrameTreeSyncData,WTF::RawPtrTraits<WebCore::FrameTreeSyncData>,WTF::DefaultRefDerefTraits<WebCore::FrameTreeSyncData>> &&)::$_0,WTF::UniqueRef<WebCore::RemoteFrameClient>,WebCore::RemoteFrame &>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1133738;
  a1[1] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebFrame::createRemoteSubframe(WebKit::WebPage &,WebKit::WebFrame&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Ref<WebCore::FrameTreeSyncData,WTF::RawPtrTraits<WebCore::FrameTreeSyncData>,WTF::DefaultRefDerefTraits<WebCore::FrameTreeSyncData>> &&)::$_0,WTF::UniqueRef<WebCore::RemoteFrameClient>,WebCore::RemoteFrame &>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133738;
  *(this + 1) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(this, a2);
}

_BYTE *WTF::Detail::CallableWrapper<WebKit::WebFrame::createRemoteSubframe(WebKit::WebPage &,WebKit::WebFrame&,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String const&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::Ref<WebCore::FrameTreeSyncData,WTF::RawPtrTraits<WebCore::FrameTreeSyncData>,WTF::DefaultRefDerefTraits<WebCore::FrameTreeSyncData>> &&)::$_0,WTF::UniqueRef<WebCore::RemoteFrameClient>,WebCore::RemoteFrame &>::call@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X8>)
{
  v4 = *(a1 + 8);
  CFRetain(*(v4 + 8));
  v5 = *(a1 + 8);
  CFRetain(*(v5 + 8));
  v6 = WTF::fastMalloc(0x10);
  *v6 = &unk_1F1133760;
  v6[1] = v5;
  NonCompactSlow = bmalloc::api::tzoneAllocateNonCompactSlow();
  v9 = 0;
  *(NonCompactSlow + 16) = v4;
  *(NonCompactSlow + 24) = v6;
  v10 = 0;
  *(NonCompactSlow + 32) = 1;
  *NonCompactSlow = &unk_1F1132500;
  *(NonCompactSlow + 8) = &unk_1F11325C0;
  result = WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v9);
  *a2 = NonCompactSlow;
  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebFrame::makeInvalidator(void)::$_0,void>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1133760;
  a1[1] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebFrame::makeInvalidator(void)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133760;
  *(this + 1) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::expand(uint64_t *a1, void *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, void *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastMalloc((24 * a2 + 16));
  v11 = v9;
  v12 = v9 + 16;
  if (a2)
  {
    bzero((v9 + 16), 24 * a2);
  }

  *a1 = v12;
  v11[2] = a2 - 1;
  v11[3] = a2;
  *v11 = 0;
  v11[1] = v8;
  v13 = 0;
  if (v7)
  {
    v15 = v7;
    v16 = v6;
    do
    {
      if (*v16 != -1)
      {
        if (*v16)
        {
          v18 = WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::reinsert(*a1, v16);
          v19 = v16[2];
          v16[2] = 0;
          if (v19)
          {
            (*(*v19 + 8))(v19);
          }

          if (v16 == a3)
          {
            v13 = v18;
          }
        }

        else
        {
          v17 = v16[2];
          v16[2] = 0;
          if (v17)
          {
            (*(*v17 + 8))(v17);
          }
        }
      }

      v16 += 3;
      --v15;
    }

    while (v15);
    goto LABEL_19;
  }

  result = 0;
  if (v6)
  {
LABEL_19:
    WTF::fastFree((v6 - 16), v10);
    return v13;
  }

  return result;
}

uint64_t WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::reinsert(uint64_t a1, uint64_t a2)
{
  if (a1)
  {
    v3 = *(a1 - 8);
  }

  else
  {
    v3 = 0;
  }

  v4 = *a2 + ~(*a2 << 32);
  v5 = (v4 ^ (v4 >> 22)) + ~((v4 ^ (v4 >> 22)) << 13);
  v6 = (9 * (v5 ^ (v5 >> 8))) ^ ((9 * (v5 ^ (v5 >> 8))) >> 15);
  v7 = v3 & (((v6 + ~(v6 << 27)) >> 31) ^ (v6 + ~(v6 << 27)));
  v8 = 1;
  do
  {
    v9 = a1 + 24 * v7;
    v7 = (v7 + v8++) & v3;
  }

  while (*v9);
  v10 = *(v9 + 16);
  *(v9 + 16) = 0;
  if (v10)
  {
    (*(*v10 + 8))(v10);
  }

  *v9 = *a2;
  *(v9 + 8) = *(a2 + 8);
  v11 = *(a2 + 16);
  *(a2 + 16) = 0;
  *(v9 + 16) = v11;
  return v9;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebFrame::loadDidCommitInAnotherProcess(std::optional<WTF::ObjectIdentifierGeneric<WebCore::LayerHostingContextIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>)::$_0,WTF::UniqueRef<WebCore::RemoteFrameClient>,WebCore::RemoteFrame &>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F1133788;
  WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit((a1 + 16));
  v2 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

{
  *a1 = &unk_1F1133788;
  WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit((a1 + 16));
  v3 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(a1, v2);
}

__n128 WTF::Detail::CallableWrapper<WebKit::WebFrame::loadDidCommitInAnotherProcess(std::optional<WTF::ObjectIdentifierGeneric<WebCore::LayerHostingContextIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>)::$_0,WTF::UniqueRef<WebCore::RemoteFrameClient>,WebCore::RemoteFrame &>::call@<Q0>(uint64_t a1@<X0>, __n128 **a2@<X8>)
{
  NonCompactSlow = bmalloc::api::tzoneAllocateNonCompactSlow();
  result = *(a1 + 8);
  *(a1 + 8) = 0;
  *(a1 + 16) = 0;
  NonCompactSlow[1] = result;
  v6 = *(a1 + 24);
  *(a1 + 24) = 0;
  NonCompactSlow[2].n128_u8[0] = v6;
  NonCompactSlow->n128_u64[0] = &unk_1F1132500;
  NonCompactSlow->n128_u64[1] = &unk_1F11325C0;
  *a2 = NonCompactSlow;
  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebFrame::createProvisionalFrame(WebKit::ProvisionalFrameCreationParameters &&)::$_0,WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WTF::UniqueRef::LocalFrame &,WTF::UniqueRef::FrameLoader &>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F11337B0;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebFrame::createProvisionalFrame(WebKit::ProvisionalFrameCreationParameters &&)::$_0,WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WTF::UniqueRef::LocalFrame &,WTF::UniqueRef::FrameLoader &>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F11337B0;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(this, a2);
}

_BYTE *WTF::Detail::CallableWrapper<WebKit::WebFrame::createProvisionalFrame(WebKit::ProvisionalFrameCreationParameters &&)::$_0,WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WTF::UniqueRef::LocalFrame &,WTF::UniqueRef::FrameLoader &>::call@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, WebCore::FrameLoader *a3@<X2>, WebCore::LocalFrameLoaderClient **a4@<X8>)
{
  v8 = *(a1 + 8);
  CFRetain(*(v8 + 8));
  v9 = WTF::fastMalloc(0x10);
  *v9 = &unk_1F1133760;
  v9[1] = v8;
  v12 = v9;
  v13 = 1;
  v10 = WTF::fastMalloc(0x60);
  WebKit::WebLocalFrameLoaderClient::WebLocalFrameLoaderClient(v10, a2, a3, (a1 + 16), &v12);
  result = WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v12);
  *a4 = v10;
  return result;
}

void *WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WebKit::WebFrame::PolicyCheck>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WebKit::WebFrame::PolicyCheck,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WebKit::WebFrame::PolicyCheck>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::begin(void **a1)
{
  result = *a1;
  if (!result)
  {
    return 0;
  }

  v2 = *(result - 1);
  v3 = &result[3 * v2];
  if (!*(result - 3))
  {
    return &result[3 * v2];
  }

  if (v2)
  {
    v4 = 24 * v2;
    while ((*result + 1) <= 1)
    {
      result += 3;
      v4 -= 24;
      if (!v4)
      {
        return v3;
      }
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebFrame::webArchiveData(BOOL (*)(OpaqueWKBundleFrame const*,OpaqueWKBundleFrame const*,void *),void *,WTF::Vector<WebCore::MarkupExclusionRule,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::String const&)::$_0,BOOL,WebCore::LocalFrame &>::call(void *a1, uint64_t a2)
{
  if (!a1[2])
  {
    return 1;
  }

  v3 = a1[1];
  WebKit::WebFrame::fromCoreFrame(a2, &v9);
  v4 = a1[2];
  if (v3)
  {
    v5 = *(v3 + 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = v9;
  if (!v9)
  {
    return v4(v5, 0, a1[3]);
  }

  v7 = v4(v5, *(v9 + 8), a1[3]);
  CFRelease(*(v6 + 8));
  return v7;
}

void *WTF::Detail::CallableWrapper<WebKit::WebHistoryItemClient::ignoreChangesForScope(void)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1133800;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    if (v2[2] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebHistoryItemClient::ignoreChangesForScope(void)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1133800;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    if (v3[2] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[2];
    }
  }

  return WTF::fastFree(this, a2);
}

uint64_t WebKit::WebFrame::getFrameInfo(uint64_t a1)
{
  v80 = *MEMORY[0x1E69E9840];
  WebKit::WebFrame::info(*(a1 + 400), 1, &v47);
  v13 = v47;
  v2 = v48;
  v48 = 0;
  v14 = v2;
  v15 = v49;
  v16 = v50;
  LODWORD(v49) = v49 & 0xFFFFFFFE;
  v3 = v51;
  v51 = 0;
  v17 = v3;
  v18 = v52;
  v19 = v53;
  LODWORD(v52) = v52 & 0xFFFFFFFE;
  v20 = v54;
  v4 = v55;
  v55 = 0u;
  v21 = v4;
  *&v4 = v56;
  v56 = 0;
  v22 = v4;
  v5 = v57;
  v57 = 0;
  v23 = v5;
  *&v4 = v58;
  v58 = 0;
  v24 = v4;
  v6 = v59;
  v59 = 0;
  v25 = v6;
  *&v4 = v60;
  v60 = 0;
  v26 = v4;
  v28 = v62;
  v27 = v61;
  v7 = v63;
  v63 = 0u;
  v29 = v7;
  v32 = v66;
  v30 = v64;
  v31 = v65;
  v8 = v67;
  v64 = 0;
  v67 = 0;
  v33 = v8;
  LOBYTE(v34) = 0;
  v36 = -1;
  if (!v70)
  {
    v9 = v68;
    v68 = 0uLL;
    v34 = v9;
    v35 = v69;
LABEL_3:
    v36 = v70;
    goto LABEL_4;
  }

  if (v70 != 255)
  {
    v34 = v68;
    goto LABEL_3;
  }

LABEL_4:
  v37 = v71;
  v39 = v73;
  v40 = v74;
  v38 = v72;
  v10 = v76;
  v71 = 0;
  v76 = 0;
  v41 = v75;
  v42 = v10;
  v43 = v77;
  v44 = v78;
  v45 = v79;
  v46 = 1;
  std::__optional_storage_base<WebKit::FrameInfoData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebKit::FrameInfoData,false>>((a1 + 32), &v13);
  if (v46 == 1)
  {
    WebKit::FrameInfoData::~FrameInfoData(&v13);
  }

  WebKit::FrameInfoData::~FrameInfoData(&v47);
  *a1 = 0;
  v11 = **(a1 + 16);

  return v11();
}

uint64_t WebKit::WebFrame::getFrameInfo(WTF *this, void *a2)
{
  if (*(this + 384) == 1)
  {
    WebKit::FrameInfoData::~FrameInfoData((this + 32));
  }

  return WTF::fastFree(this, a2);
}

WebKit::WebProcess *WebKit::WebPage::create@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  v6 = *(a2 + 1464);
  if (v6)
  {
    atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed);
  }

  v7 = API::Object::newObject(0x878uLL, 141);
  *a3 = WebKit::WebPage::WebPage(v7, a1, a2);
  {
    v9 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v17 = WebKit::WebProcess::operator new(0x370, v8);
    v9 = WebKit::WebProcess::WebProcess(v17);
    WebKit::WebProcess::singleton(void)::process = v9;
  }

  v10 = *(v9 + 19);
  if (v10)
  {
    CFRetain(v10[1]);
    WebKit::InjectedBundle::didCreatePage(v10, v7);
    CFRelease(v10[1]);
  }

  v11 = *(*(v7 + 7) + 176);
  if (v6)
  {
    if ((*(v6 + 16) & 0x10) != 0)
    {
      atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed);
      m_ptr = v6;
    }

    else
    {
      WTF::AtomStringImpl::addSlowCase(&v18, v6, v8);
      m_ptr = v18.var0.m_impl.m_ptr;
    }
  }

  else
  {
    m_ptr = 0;
  }

  v18.var0.m_impl.m_ptr = m_ptr;
  WebCore::FrameTree::setSpecifiedName((v11 + 40), &v18);
  v14 = v18.var0.m_impl.m_ptr;
  v18.var0.m_impl.m_ptr = 0;
  if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    v14 = WTF::StringImpl::destroy(v14, v13);
  }

  result = WebKit::WebPage::setHasLaunchedWebContentProcess(v14, v13);
  if (v6)
  {
    if (atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(v6, v16);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::WebPage(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v394 = *MEMORY[0x1E69E9840];
  v6 = API::Object::Object(a1);
  v7 = v6 + 16;
  *(v6 + 3) = 0;
  v8 = (v6 + 24);
  *v6 = &unk_1F1133828;
  *(v6 + 2) = &unk_1F1133880;
  *(v6 + 4) = &unk_1F11338C8;
  v9 = WTF::fastMalloc(0x1C8);
  *v9 = 0u;
  *(v9 + 16) = 0u;
  *(v9 + 32) = 0u;
  *(v9 + 48) = 0u;
  *(v9 + 64) = 0u;
  *(v9 + 80) = 0u;
  *(v9 + 96) = 0u;
  *(v9 + 112) = 0u;
  *(v9 + 128) = 0u;
  *(v9 + 144) = 0u;
  *(v9 + 160) = 0u;
  *(v9 + 176) = 0u;
  *(v9 + 192) = 0u;
  *(v9 + 208) = 0u;
  *(v9 + 224) = 0u;
  *(v9 + 240) = 0u;
  *(v9 + 256) = 0u;
  *(v9 + 272) = 0u;
  *(v9 + 288) = 0u;
  *(v9 + 304) = 0u;
  *(v9 + 320) = 0u;
  *(v9 + 336) = 0u;
  *(v9 + 352) = 0u;
  *(v9 + 368) = 0u;
  *(v9 + 384) = 0u;
  *(v9 + 400) = 0u;
  *(v9 + 416) = 0u;
  *(v9 + 432) = 0u;
  *(v9 + 448) = 0;
  v10 = WebCore::VisibleSelection::VisibleSelection(v9);
  *(v10 + 104) = 0;
  *(v10 + 112) = 0;
  *(v10 + 128) = 0;
  *(v10 + 136) = 0;
  *(v10 + 160) = 0;
  *(v10 + 168) = 0;
  *(v10 + 176) = 0;
  *(v10 + 296) = 0;
  *(v10 + 304) = 0;
  *(v10 + 320) = 0;
  *(v10 + 328) = 0;
  *(v10 + 312) = 0;
  MEMORY[0x19EB04810](v10 + 336, "App nap disabled for page due to user activity", 47);
  *(v9 + 408) = 0;
  *(v9 + 424) = 0;
  *(v9 + 440) = 0;
  *(v9 + 448) = 0;
  *(v9 + 432) = 0;
  *(a1 + 40) = v9;
  *(a1 + 48) = a2;
  v335 = a2;
  *(a1 + 56) = 0;
  *(a1 + 64) = *a3;
  WebKit::DrawingArea::create(a1, a3, (a1 + 72));
  if (qword_1ED642D80)
  {
    NonCompact = bmalloc::api::tzoneAllocateNonCompact(qword_1ED642D80, v11);
  }

  else
  {
    NonCompact = WebKit::WebPageTesting::operatorNewSlow(0);
  }

  v13 = NonCompact;
  *(NonCompact + 16) = 1;
  *NonCompact = &unk_1F1133A00;
  *(NonCompact + 8) = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v15 = *(a1 + 24);
  atomic_fetch_add(v15, 1u);
  *(v13 + 24) = v15;
  v16 = *(a1 + 48);
  *(v13 + 32) = v16;
  v17 = &dword_1EB01E000;
  {
    v18 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v325 = WebKit::WebProcess::operator new(0x370, v14);
    v18 = WebKit::WebProcess::WebProcess(v325);
    WebKit::WebProcess::singleton(void)::process = v18;
    v16 = *(v13 + 32);
  }

  v361 = 186;
  v362 = v16;
  WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v18 + 7, &v361, v13, buf);
  *(a1 + 80) = v13;
  v19 = *(a3 + 1456);
  v20 = API::Object::newObject(0x98uLL, 138);
  *(a1 + 88) = WebKit::WebFrame::WebFrame(v20, a1, v19);
  *(a1 + 96) = 0;
  v336 = a1 + 96;
  *(a1 + 104) = 0;
  *(a1 + 112) = 0;
  *(a1 + 113) = *(a3 + 64);
  *(a1 + 200) = 0;
  *(a1 + 184) = 0u;
  *(a1 + 168) = 0u;
  *(a1 + 152) = 0u;
  *(a1 + 136) = 0u;
  *(a1 + 120) = 0u;
  *(a1 + 204) = 1;
  *(a1 + 205) = *(a3 + 192);
  *(a1 + 207) = *(a3 + 1142);
  v22 = *(a3 + 1672);
  *(a1 + 213) = 0u;
  *(a1 + 211) = 0;
  *(a1 + 212) = v22;
  *(a1 + 276) = 0;
  *(a1 + 245) = 0u;
  *(a1 + 261) = 0u;
  *(a1 + 229) = 0u;
  if (qword_1ED642D88)
  {
    v23 = bmalloc::api::tzoneAllocateNonCompact(qword_1ED642D88, v21);
  }

  else
  {
    v23 = WebKit::ViewGestureGeometryCollector::operatorNewSlow(0);
  }

  v24 = v23;
  *(v23 + 16) = 1;
  *v23 = &unk_1F1133A48;
  *(v23 + 8) = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v26 = *(a1 + 24);
  atomic_fetch_add(v26, 1u);
  *(v24 + 24) = v26;
  v27 = *(a1 + 48);
  *(v24 + 32) = v27;
  *(v24 + 40) = 0;
  *(v24 + 56) = 0;
  {
    v28 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v326 = WebKit::WebProcess::operator new(0x370, v25);
    v28 = WebKit::WebProcess::WebProcess(v326);
    WebKit::WebProcess::singleton(void)::process = v28;
    v27 = *(v24 + 32);
  }

  v361 = 153;
  v362 = v27;
  v29 = WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v28 + 7, &v361, v24, buf);
  *(a1 + 280) = v24;
  *(a1 + 288) = 0;
  *(a1 + 296) = 0;
  v30 = WTF::RunLoop::mainSingleton(v29);
  v31 = v30;
  while (1)
  {
    v32 = *(v30 + 8);
    if ((v32 & 1) == 0)
    {
      break;
    }

    v324 = *(v30 + 8);
    atomic_compare_exchange_strong_explicit((v30 + 8), &v324, v32 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v324 == v32)
    {
      goto LABEL_12;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v30 + 8));
LABEL_12:
  *buf = v31;
  v33 = WTF::fastMalloc(0x20);
  *v33 = &unk_1F1133DB0;
  v33[1] = a1;
  v33[2] = WebKit::WebPage::setCanStartMediaTimerFired;
  v33[3] = 0;
  WTF::RunLoop::TimerBase::TimerBase();
  *(a1 + 304) = &unk_1F10E6DC8;
  *(a1 + 344) = v33;
  v35 = *buf;
  *buf = 0;
  if (v35)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref((v35 + 8));
  }

  *(a1 + 352) = 0;
  *(a1 + 360) = 0;
  v36 = API::InjectedBundle::EditorClient::operator new(8, v34);
  *v36 = &unk_1F112B838;
  *(a1 + 368) = v36;
  v38 = API::InjectedBundle::FormClient::operator new(8, v37);
  *v38 = &unk_1F1133A90;
  *(a1 + 376) = v38;
  v40 = API::InjectedBundle::PageLoaderClient::operator new(8, v39);
  *v40 = &unk_1F1133B08;
  *(a1 + 384) = v40;
  v42 = API::InjectedBundle::ResourceLoadClient::operator new(8, v41);
  *v42 = &unk_1F1133C30;
  *(a1 + 392) = v42;
  v44 = API::InjectedBundle::PageUIClient::operator new(8, v43);
  *v44 = &unk_1F1133C90;
  *(a1 + 400) = v44;
  if (WebKit::FindController::s_heapRef)
  {
    v46 = bmalloc::api::tzoneAllocateNonCompact(WebKit::FindController::s_heapRef, v45);
  }

  else
  {
    v46 = WebKit::FindController::operatorNewSlow(0x58);
  }

  *(a1 + 408) = WebKit::FindController::FindController(v46, a1);
  if (WebKit::WebFoundTextRangeController::s_heapRef)
  {
    v48 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebFoundTextRangeController::s_heapRef, v47);
  }

  else
  {
    v48 = WebKit::WebFoundTextRangeController::operatorNewSlow(0x68);
  }

  v49 = v48;
  *v48 = &unk_1F11333C8;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v51 = *(a1 + 24);
  atomic_fetch_add(v51, 1u);
  *(v49 + 56) = 0;
  v49[1] = v51;
  v49[2] = 0;
  v49[3] = 0;
  v49[4] = 0;
  *(v49 + 4) = 0u;
  *(v49 + 5) = 0u;
  v49[12] = 0;
  *(a1 + 416) = v49;
  *(a1 + 424) = 0;
  *(a1 + 432) = 0;
  *(a1 + 440) = 0;
  if (WebKit::WebPageInspectorTargetController::s_heapRef)
  {
    v52 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebPageInspectorTargetController::s_heapRef, v50);
  }

  else
  {
    v52 = WebKit::WebPageInspectorTargetController::operatorNewSlow(0x40);
  }

  v53 = WebKit::WebPageInspectorTargetController::WebPageInspectorTargetController(v52, a1);
  *(a1 + 480) = 0;
  *(a1 + 512) = 0;
  *(a1 + 520) = 0;
  *(a1 + 528) = 0;
  *(a1 + 456) = 0;
  *(a1 + 464) = 0;
  *(a1 + 448) = v53;
  *(a1 + 472) = 0;
  *(a1 + 536) = 0u;
  *(a1 + 552) = 0u;
  *(a1 + 568) = 0u;
  WebKit::WebUserContentController::getOrCreate(*(a3 + 888), (a1 + 584));
  *(a1 + 592) = 0;
  if (WebKit::WebScreenOrientationManager::s_heapRef)
  {
    v55 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebScreenOrientationManager::s_heapRef, v54);
  }

  else
  {
    v55 = WebKit::WebScreenOrientationManager::operatorNewSlow(0x50);
  }

  *(a1 + 600) = WebKit::WebScreenOrientationManager::WebScreenOrientationManager(v55, a1);
  if (WebKit::GeolocationPermissionRequestManager::s_heapRef)
  {
    v57 = bmalloc::api::tzoneAllocateNonCompact(WebKit::GeolocationPermissionRequestManager::s_heapRef, v56);
  }

  else
  {
    v57 = WebKit::GeolocationPermissionRequestManager::operatorNewSlow(0x18);
  }

  v58 = v57;
  *v57 = 0;
  v57[1] = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v60 = *(a1 + 24);
  atomic_fetch_add(v60, 1u);
  v58[2] = v60;
  *(a1 + 608) = v58;
  if (WebKit::UserMediaPermissionRequestManager::s_heapRef)
  {
    v61 = bmalloc::api::tzoneAllocateNonCompact(WebKit::UserMediaPermissionRequestManager::s_heapRef, v59);
  }

  else
  {
    v61 = WebKit::UserMediaPermissionRequestManager::operatorNewSlow(0x38);
  }

  v62 = v61;
  *v61 = &unk_1F112C490;
  v61[1] = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v64 = *(a1 + 24);
  atomic_fetch_add(v64, 1u);
  v62[2] = v64;
  v62[3] = 0;
  v62[4] = 0;
  v62[5] = 0;
  *(v62 + 48) = 0;
  *(a1 + 616) = v62;
  if (WebKit::MediaKeySystemPermissionRequestManager::s_heapRef)
  {
    v65 = bmalloc::api::tzoneAllocateNonCompact(WebKit::MediaKeySystemPermissionRequestManager::s_heapRef, v63);
  }

  else
  {
    v65 = WebKit::MediaKeySystemPermissionRequestManager::operatorNewSlow(0x28);
  }

  v66 = v65;
  *v65 = &unk_1F1122DF8;
  v65[1] = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v67 = *(a1 + 24);
  atomic_fetch_add(v67, 1u);
  v66[3] = 0;
  v66[4] = 0;
  v66[2] = v67;
  *(a1 + 624) = v66;
  *(a1 + 632) = 0;
  *(a1 + 640) = 0;
  *(a1 + 648) = 0u;
  *(a1 + 664) = 0u;
  *(a1 + 680) = 0u;
  v68 = WTF::fastMalloc(0x10);
  *v68 = &unk_1F1133DD8;
  v68[1] = a1;
  *buf = v68;
  PAL::HysteresisActivity::HysteresisActivity(a1 + 696, buf, 0.3);
  v69 = *buf;
  *buf = 0;
  if (v69)
  {
    (*(*v69 + 8))(v69);
  }

  v70 = 0;
  v71 = 0;
  *(a1 + 768) = *(a3 + 232);
  *(a1 + 770) = 0;
  *buf = 134480385;
  *&buf[4] = 8208;
  buf[6] = 64;
  do
  {
    v70 |= buf[v71++];
  }

  while (v71 != 7);
  *(a1 + 772) = v70;
  *(a1 + 776) = 0;
  *(a1 + 784) = 0;
  *(a1 + 816) = 0;
  *(a1 + 824) = 16843009;
  *(a1 + 828) = 0;
  *(a1 + 832) = 0;
  *(a1 + 836) = 0;
  *(a1 + 839) = 0;
  *(a1 + 884) = 0;
  *(a1 + 892) = 0;
  *(a1 + 896) = 0;
  *(a1 + 898) = 0;
  *(a1 + 900) = 0;
  *(a1 + 848) = 0u;
  *(a1 + 864) = 0u;
  *(a1 + 880) = 0;
  *(a1 + 902) = *(a3 + 1154);
  *(a1 + 918) = 0;
  *(a1 + 903) = 0u;
  MEMORY[0x19EB09D00](a1 + 928);
  *(a1 + 1168) = 0x3FF0000000000000;
  *(a1 + 1176) = 0;
  *(a1 + 1177) = *(a3 + 348);
  *(a1 + 1184) = 0;
  *(a1 + 1216) = 0;
  *(a1 + 1238) = 0;
  *(a1 + 1224) = 0u;
  *(a1 + 1280) = 0;
  *(a1 + 1264) = 0u;
  *(a1 + 1248) = 0u;
  *(a1 + 1284) = 257;
  *(a1 + 1286) = 1;
  *(a1 + 1287) = *(a3 + 472);
  *(a1 + 1288) = 0u;
  *(a1 + 1304) = *(a3 + 428);
  *(a1 + 1312) = *(a3 + 436);
  *(a1 + 1320) = *(a3 + 444);
  *(a1 + 1328) = *(a3 + 452);
  *(a1 + 1336) = 0;
  *(a1 + 1368) = 0;
  *(a1 + 1376) = 0;
  *(a1 + 1408) = 0;
  *(a1 + 1416) = *(a3 + 464);
  *(a1 + 1420) = *(a3 + 468);
  *(a1 + 1421) = 0;
  *(a1 + 1460) = 0;
  *(a1 + 1464) = 0;
  *(a1 + 1472) = 0;
  *(a1 + 1480) = 0;
  *(a1 + 1424) = 0u;
  *(a1 + 1440) = 0u;
  *(a1 + 1456) = 0;
  WebCore::DeferrableOneShotTimer::DeferrableOneShotTimer<WebKit::WebPage>(a1 + 1488, a1, WebKit::WebPage::updateFocusedElementInformation, 0, 0.1);
  *(a1 + 1552) = 0;
  *(a1 + 1560) = 0;
  *(a1 + 1580) = 0;
  *(a1 + 1588) = 0;
  *(a1 + 1592) = 0;
  *(a1 + 1568) = 0;
  *(a1 + 1575) = 0;
  WebCore::Timer::Timer<WebKit::WebPage,WebKit::WebPage>((a1 + 1600), a1, WebKit::WebPage::layerVolatilityTimerFired, 0);
  *(a1 + 1688) = 0;
  *(a1 + 1672) = 0;
  *(a1 + 1664) = 0;
  *(a1 + 1680) = 0;
  *(a1 + 1656) = 0;
  *(a1 + 1696) = 0x11040000FFFFFFFFLL;
  *(a1 + 1704) = 1;
  *(a1 + 1712) = 0;
  *(a1 + 1719) = 0;
  *(a1 + 1728) = *(a3 + 8);
  *(a1 + 1730) = 1;
  *(a1 + 1736) = 0;
  *(a1 + 1744) = 256;
  *(a1 + 1748) = 2;
  *(a1 + 1752) = 0;
  *(a1 + 1760) = *(a3 + 545);
  v72 = *(a3 + 552);
  *(a3 + 552) = 0;
  *(a1 + 1768) = v72;
  *(a1 + 1776) = *(a3 + 560);
  *(a1 + 1792) = 0;
  *(a1 + 1808) = 0;
  *(a1 + 1800) = 0;
  *(a1 + 1815) = 0;
  *(a1 + 1823) = 1;
  *(a1 + 1824) = 0;
  *(a1 + 1832) = *(a3 + 80);
  *(a1 + 1840) = 0;
  *(a1 + 1848) = 0;
  *(a1 + 1852) = 0;
  *(a1 + 1864) = 0;
  WebCore::Timer::Timer<WebKit::WebPage,WebKit::WebPage>((a1 + 1872), a1, WebKit::WebPage::textAutoSizingAdjustmentTimerFired, 0);
  v73 = 0;
  v74 = *(a3 + 1048);
  *(a3 + 1048) = 0;
  if (v74)
  {
    v361 = v74;
    v73 = v74;
    if ((*(v74 + 16) & 0x10) == 0)
    {
      WTF::AtomStringImpl::addSlowCase();
      v309 = v361;
      v73 = *buf;
      *buf = 0;
      v361 = 0;
      if (v309)
      {
        if (atomic_fetch_add_explicit(v309, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v309, v308);
        }
      }
    }
  }

  *(a1 + 1928) = v73;
  v75 = *(a3 + 1128);
  *(a3 + 1128) = 0;
  *(a1 + 1936) = v75;
  *(a1 + 1944) = 1;
  *(a1 + 1945) = *(a3 + 1148);
  *(a1 + 1946) = 0;
  *(a1 + 1947) = *(a3 + 1149);
  *(a1 + 1948) = 1;
  *(a1 + 1949) = 0;
  *(a1 + 1953) = 0;
  WebCore::DeferrableOneShotTimer::DeferrableOneShotTimer<WebKit::WebPage>(a1 + 1960, a1, WebKit::WebPage::updateLayoutViewportHeightExpansionTimerFired, 0, 0.2);
  *(a1 + 2024) = 0;
  *(a1 + 2032) = 0;
  *(a1 + 2040) = 0;
  *(a1 + 2048) = 0u;
  *(a1 + 2064) = 0u;
  *(a1 + 2080) = 0u;
  *(a1 + 2096) = *(a3 + 1153);
  v76 = WebCore::HistoryItemClient::operatorNewSlow(0x20);
  *(v76 + 8) = 1;
  *v76 = &unk_1F1133510;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v78 = *(a1 + 24);
  atomic_fetch_add(v78, 1u);
  *(v76 + 16) = v78;
  *(v76 + 24) = 0;
  *(a1 + 2104) = v76;
  *(a1 + 2112) = 0;
  *(a1 + 2128) = 0;
  *(a1 + 2120) = 0;
  if (WebKit::TextAnimationController::s_heapRef)
  {
    v79 = bmalloc::api::tzoneAllocateNonCompact(WebKit::TextAnimationController::s_heapRef, v77);
  }

  else
  {
    v79 = WebKit::TextAnimationController::operatorNewSlow(0xE0);
  }

  v80 = v79;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v81 = *(a1 + 24);
  atomic_fetch_add(v81, 1u);
  *v80 = v81;
  *(v80 + 16) = 0;
  *(v80 + 32) = 0;
  *(v80 + 48) = 0;
  *(v80 + 96) = 0;
  *(v80 + 112) = 0;
  *(v80 + 136) = 0;
  *(v80 + 176) = 0;
  *(v80 + 192) = 0;
  *(v80 + 200) = 0;
  *(v80 + 208) = 0;
  *(v80 + 144) = 0;
  *(v80 + 152) = 0;
  *(v80 + 160) = 0;
  *(a1 + 2136) = v80;
  *(a1 + 2144) = 0;
  *(a1 + 2160) = 0;
  *(a1 + 2152) = 0;
  v82 = qword_1ED640D10;
  if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT))
  {
    v306 = *(a1 + 48);
    *buf = 134218240;
    *&buf[4] = a1;
    *&buf[12] = 2048;
    *&buf[14] = v306;
    _os_log_impl(&dword_19D52D000, v82, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::constructor:", buf, 0x16u);
  }

  {
    v84 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v327 = WebKit::WebProcess::operator new(0x370, v83);
    v84 = WebKit::WebProcess::WebProcess(v327);
    WebKit::WebProcess::singleton(void)::process = v84;
  }

  WebKit::WebProcess::auditTokenForSelf(v84, &v356);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::blockWebInspectorInWebContentSandboxKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::blockWebInspectorInWebContentSandboxKey(void)::key = WebKit::WebPreferencesKey::blockWebInspectorInWebContentSandboxKey(void)::$_0::operator() const(void)::impl;
  }

  BoolValueForKey = WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::blockWebInspectorInWebContentSandboxKey(void)::key, v85);
  if (BoolValueForKey)
  {
    if ((v358 & 1) == 0)
    {
      goto LABEL_426;
    }

    *buf = v356;
    *&buf[16] = v357;
    sandbox_enable_state_flag();
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::blockMobileGestaltInWebContentSandboxKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::blockMobileGestaltInWebContentSandboxKey(void)::key = WebKit::WebPreferencesKey::blockMobileGestaltInWebContentSandboxKey(void)::$_0::operator() const(void)::impl;
  }

  BoolValueForKey = WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::blockMobileGestaltInWebContentSandboxKey(void)::key, v88);
  if (BoolValueForKey)
  {
    if ((v358 & 1) == 0)
    {
      goto LABEL_426;
    }

    *buf = v356;
    *&buf[16] = v357;
    sandbox_enable_state_flag();
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::blockMobileAssetInWebContentSandboxKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::blockMobileAssetInWebContentSandboxKey(void)::key = WebKit::WebPreferencesKey::blockMobileAssetInWebContentSandboxKey(void)::$_0::operator() const(void)::impl;
  }

  BoolValueForKey = WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::blockMobileAssetInWebContentSandboxKey(void)::key, v89);
  if (BoolValueForKey)
  {
    if ((v358 & 1) == 0)
    {
      goto LABEL_426;
    }

    *buf = v356;
    *&buf[16] = v357;
    sandbox_enable_state_flag();
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::unifiedPDFEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::unifiedPDFEnabledKey(void)::key = WebKit::WebPreferencesKey::unifiedPDFEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  BoolValueForKey = WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::unifiedPDFEnabledKey(void)::key, v90);
  if (BoolValueForKey)
  {
    if ((v358 & 1) == 0)
    {
      goto LABEL_426;
    }

    *buf = v356;
    *&buf[16] = v357;
    sandbox_enable_state_flag();
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::blockIOKitInWebContentSandboxKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::blockIOKitInWebContentSandboxKey(void)::key = WebKit::WebPreferencesKey::blockIOKitInWebContentSandboxKey(void)::$_0::operator() const(void)::impl;
  }

  if (WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::blockIOKitInWebContentSandboxKey(void)::key, v91))
  {
    if (*(a1 + 210) == 1 && !*(a1 + 113) && *(a1 + 207) == 1 && *(a1 + 208) == 1 && *(a1 + 209) == 1)
    {
      WebCore::ProcessCapabilities::setHardwareAcceleratedDecodingDisabled(1);
      WebCore::ProcessCapabilities::setCanUseAcceleratedBuffers(0);
      v93 = _MergedGlobals_116;
      _MergedGlobals_116 = 1;
      if ((v93 & 1) == 0)
      {
        CGImageSourceDisableHardwareDecoding();
      }
    }
  }

  {
    v94 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v328 = WebKit::WebProcess::operator new(0x370, v92);
    v94 = WebKit::WebProcess::WebProcess(v328);
    WebKit::WebProcess::singleton(void)::process = v94;
  }

  v95 = WebKit::WebProcess::webPageGroup(v94, (a3 + 88));
  v96 = v95;
  if (v95)
  {
    ++*(v95 + 8);
  }

  v97 = *v336;
  *v336 = v96;
  if (v97)
  {
    if (v97[2] == 1)
    {
      (*(*v97 + 8))(v97);
    }

    else
    {
      --v97[2];
    }
  }

  v98 = *(a3 + 1384);
  {
    BoolValueForKey = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v329 = WebKit::WebProcess::operator new(0x370, v87);
    BoolValueForKey = WebKit::WebProcess::WebProcess(v329);
    WebKit::WebProcess::singleton(void)::process = BoolValueForKey;
  }

  if ((*(BoolValueForKey + 712) & 1) == 0)
  {
    goto LABEL_426;
  }

  if (WebKit::WebEditorClient::s_heapRef)
  {
    v99 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebEditorClient::s_heapRef, v87);
  }

  else
  {
    v99 = WebKit::WebEditorClient::operatorNewSlow(0x28);
  }

  v100 = v99;
  *(v99 + 16) = 0;
  *v99 = &unk_1F1131350;
  *(v99 + 8) = 0;
  *(v99 + 24) = &unk_1F1131648;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v101 = *v8;
  if (*v8)
  {
    atomic_fetch_add(v101, 1u);
  }

  *(v100 + 4) = v101;
  v355 = v100;
  v102 = *(a3 + 80);
  v103 = WTF::fastMalloc(0x18);
  *(v103 + 8) = 1;
  *v103 = &unk_1F112DB08;
  *(v103 + 16) = v102;
  v354 = v103;
  if (WebKit::LibWebRTCProvider::s_heapRef)
  {
    v105 = bmalloc::api::tzoneAllocateNonCompact(WebKit::LibWebRTCProvider::s_heapRef, v104);
  }

  else
  {
    v105 = WebKit::LibWebRTCProvider::operatorNewSlow(0xE0);
  }

  v353 = WebKit::LibWebRTCProvider::LibWebRTCProvider(v105, a1);
  {
    v107 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v330 = WebKit::WebProcess::operator new(0x370, v106);
    v107 = WebKit::WebProcess::WebProcess(v330);
    WebKit::WebProcess::singleton(void)::process = v107;
  }

  v108 = *(v107 + 49);
  ++v108[4];
  v109 = *(a1 + 584);
  ++v109[2];
  v351 = v109;
  v352 = v108;
  v110 = WTF::fastMalloc(0x28);
  v350 = WebKit::WebBackForwardListProxy::WebBackForwardListProxy(v110, a1);
  {
    v112 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v331 = WebKit::WebProcess::operator new(0x370, v111);
    v112 = WebKit::WebProcess::WebProcess(v331);
    WebKit::WebProcess::singleton(void)::process = v112;
  }

  v113 = *(v112 + 54);
  ++v113[4];
  v349 = v113;
  if (WebKit::WebProgressTrackerClient::s_heapRef)
  {
    v114 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebProgressTrackerClient::s_heapRef, v111);
  }

  else
  {
    v114 = WebKit::WebProgressTrackerClient::operatorNewSlow(0x10);
  }

  v115 = v114;
  *v114 = &unk_1F11324B8;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v116 = *(a1 + 24);
  atomic_fetch_add(v116, 1u);
  v115[1] = v116;
  v348 = v115;
  v117 = *(a1 + 88);
  CFRetain(*(v117 + 8));
  v118 = *(a3 + 1488);
  CFRetain(*(v117 + 8));
  v119 = WTF::fastMalloc(0x10);
  *v119 = &unk_1F1133760;
  v119[1] = v117;
  if (v98)
  {
    v359 = 0;
    LOBYTE(v360) = 0;
    v307 = WTF::fastMalloc(0x20);
    *v307 = &unk_1F1133E78;
    *(v307 + 8) = v117;
    *buf = 0;
    *&buf[8] = 0;
    *(v307 + 16) = v119;
    buf[16] = 0;
    *(v307 + 24) = 1;
    v361 = v307;
    v363 = 1;
    WebKit::mainFrameCreationParameters<WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>>(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&,WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>)::{lambda(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&&)#1}::~Ref(buf);
  }

  else
  {
    v359 = 0;
    LOBYTE(v360) = 0;
    v120 = WTF::fastMalloc(0x20);
    *v120 = &unk_1F1133E50;
    *(v120 + 8) = v117;
    *buf = 0;
    *&buf[8] = 0;
    *(v120 + 16) = v119;
    buf[16] = 0;
    *(v120 + 24) = 1;
    v361 = v120;
    LOWORD(v362) = v118;
    v363 = 0;
    WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&buf[8]);
    v121 = *buf;
    *buf = 0;
    if (v121)
    {
      CFRelease(*(v121 + 8));
    }
  }

  v17 = &v356;
  v122 = WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(&v359);
  v124 = *(*(a1 + 88) + 88);
  if ((*(a3 + 1480) & 1) != 0 && (v310 = *(a3 + 1472), v311 = WebKit::WebProcess::singleton(v122, v123), (v312 = WebKit::WebProcess::webFrame(v311, v310, 1)) != 0))
  {
    v313 = v312;
    CFRetain(*(v312 + 8));
    v314 = *(v313 + 40);
    if (v314)
    {
      v314 = *(v314 + 8);
      if (v314)
      {
        ++*(v314 + 16);
      }
    }

    v359 = v314;
    CFRelease(*(v313 + 8));
  }

  else
  {
    v359 = 0;
  }

  if (qword_1ED642D90)
  {
    NonCompactSlow = bmalloc::api::tzoneAllocateNonCompact(qword_1ED642D90, v123);
  }

  else
  {
    NonCompactSlow = bmalloc::api::tzoneAllocateNonCompactSlow();
  }

  *NonCompactSlow = &unk_1F1133EA0;
  NonCompactSlow[1] = v335;
  NonCompactSlow[2] = 0;
  v347 = NonCompactSlow;
  {
    v127 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v332 = WebKit::WebProcess::operator new(0x370, v126);
    v127 = WebKit::WebProcess::WebProcess(v332);
    WebKit::WebProcess::singleton(void)::process = v127;
  }

  v128 = *(v127 + 53);
  ++v128[2];
  v346 = v128;
  v129 = *(v127 + 103);
  if (v129)
  {
    atomic_fetch_add_explicit(v129, 2u, memory_order_relaxed);
    v127 = WebKit::WebProcess::singleton(void)::process;
  }

  v130 = *(v127 + 104);
  v131 = WebKit::WebStorageProvider::operator new(0x20, v126);
  *v131 = &unk_1F112FBA0;
  v131[1] = 0;
  if (v129)
  {
    atomic_fetch_add_explicit(v129, 2u, memory_order_relaxed);
  }

  v131[2] = v129;
  v131[3] = v130;
  v345 = v131;
  WebKit::WebModelPlayerProvider::create(a1, v132, &v343);
  v134 = v343;
  v343 = 0;
  v344 = v134;
  {
    v135 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v333 = WebKit::WebProcess::operator new(0x370, v133);
    v135 = WebKit::WebProcess::WebProcess(v333);
    WebKit::WebProcess::singleton(void)::process = v135;
  }

  v136 = *(v135 + 50);
  ++v136[2];
  v137 = *(a1 + 2104);
  ++v137[2];
  v341 = v137;
  v342 = v136;
  v138 = WebKit::WebPaymentCoordinator::operator new(0x50, v133);
  v340 = WebKit::WebPaymentCoordinator::WebPaymentCoordinator(v138, a1);
  if (WebKit::WebChromeClient::s_heapRef)
  {
    v140 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebChromeClient::s_heapRef, v139);
  }

  else
  {
    v140 = WebKit::WebChromeClient::operatorNewSlow(0x18);
  }

  v339 = WebKit::WebChromeClient::WebChromeClient(v140, a1);
  v141 = *(a1 + 48);
  v143 = WebKit::WebCryptoClient::operator new(0x18, v142);
  *v143 = &unk_1F1130CA0;
  *(v143 + 8) = v141;
  *(v143 + 16) = 1;
  v338 = v143;
  if (WebKit::WebProcessSyncClient::s_heapRef)
  {
    v145 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebProcessSyncClient::s_heapRef, v144);
  }

  else
  {
    v145 = WebKit::WebProcessSyncClient::operatorNewSlow(0x10);
  }

  v146 = v145;
  *v145 = &unk_1F1132488;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v147 = *(a1 + 24);
  atomic_fetch_add(v147, 1u);
  v146[1] = v147;
  v149 = WebKit::DigitalCredentialsCoordinator::operator new(0x40, v148);
  v337 = WebKit::DigitalCredentialsCoordinator::DigitalCredentialsCoordinator(v149, a1);
  WebCore::PageConfiguration::PageConfiguration();
  if (v337)
  {
    if (*(v337 + 2) == 1)
    {
      (*(*v337 + 8))(v337);
    }

    else
    {
      --*(v337 + 2);
    }
  }

  if (v146)
  {
    (*(*v146 + 8))(v146);
  }

  if (v338)
  {
    (*(*v338 + 8))(v338);
  }

  if (v339)
  {
    (*(*v339 + 2040))(v339);
  }

  if (v340)
  {
    (*(*v340 + 8))(v340);
  }

  if (v341)
  {
    if (v341[2] == 1)
    {
      (*(*v341 + 8))(v341);
    }

    else
    {
      --v341[2];
    }
  }

  if (v342)
  {
    if (v342[2] == 1)
    {
      (*(*v342 + 8))(v342);
    }

    else
    {
      --v342[2];
    }
  }

  v157 = v344;
  v344 = 0;
  if (v157)
  {
    if (v157[4] == 1)
    {
      (*(*v157 + 8))(v157);
    }

    else
    {
      --v157[4];
    }
  }

  if (v343)
  {
    if (v343[4] == 1)
    {
      (*(*v343 + 8))(v343, v150, v151, v152, v153, v154, v155, v156, &v351, &v350, &v349, &v348, &v361, v124, &v359, &v347, &v346, &v345);
    }

    else
    {
      --v343[4];
    }
  }

  v158 = v345;
  v345 = 0;
  if (v158)
  {
    (*(*v158 + 8))(v158);
  }

  if (v129 && atomic_fetch_add_explicit(v129, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v129, v150);
  }

  v159 = v346;
  v346 = 0;
  if (v159)
  {
    if (v159[2] == 1)
    {
      (*(*v159 + 8))(v159);
    }

    else
    {
      --v159[2];
    }
  }

  v160 = v347;
  v347 = 0;
  if (v160)
  {
    (*(*v160 + 8))(v160);
  }

  v161 = v359;
  v359 = 0;
  if (v161)
  {
    if (*(v161 + 4) == 1)
    {
      (*(*v161 + 8))(v161);
    }

    else
    {
      --*(v161 + 4);
    }
  }

  if (v363 != 255)
  {
    v162 = v361;
    v361 = 0;
    if (!v363)
    {
      if (!v162)
      {
        goto LABEL_132;
      }

      goto LABEL_131;
    }

    if (v162)
    {
LABEL_131:
      (*(*v162 + 8))(v162);
    }
  }

LABEL_132:
  v163 = v348;
  v348 = 0;
  if (v163)
  {
    (*(*v163 + 8))(v163);
  }

  v164 = v349;
  v349 = 0;
  if (v164)
  {
    if (v164[4] == 1)
    {
      (*(*v164 + 120))(v164);
    }

    else
    {
      --v164[4];
    }
  }

  v165 = v350;
  v350 = 0;
  if (v165)
  {
    if (*(v165 + 2) == 1)
    {
      (*(*v165 + 8))(v165);
    }

    else
    {
      --*(v165 + 2);
    }
  }

  v166 = v351;
  v351 = 0;
  if (v166)
  {
    if (v166[2] == 1)
    {
      (*(*v166 + 8))(v166);
    }

    else
    {
      --v166[2];
    }
  }

  v167 = v352;
  v352 = 0;
  if (v167)
  {
    if (v167[4] == 1)
    {
      (*(*v167 + 16))(v167);
    }

    else
    {
      --v167[4];
    }
  }

  v168 = v353;
  v353 = 0;
  if (v168)
  {
    (*(*v168 + 8))(v168);
  }

  v169 = v354;
  v354 = 0;
  if (v169 && atomic_fetch_add(v169 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v169 + 2);
    (*(*v169 + 24))(v169);
  }

  v170 = v355;
  v355 = 0;
  if (v170)
  {
    (*(*v170 + 8))(v170);
  }

  if (WebKit::WebDragClient::s_heapRef)
  {
    v171 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebDragClient::s_heapRef, v150);
  }

  else
  {
    v171 = WebKit::WebDragClient::operatorNewSlow(0x10);
  }

  v172 = v171;
  *v171 = &unk_1F11312E8;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v174 = *v8;
  if (*v8)
  {
    atomic_fetch_add(v174, 1u);
  }

  v172[1] = v174;
  v175 = v366;
  v366 = v172;
  if (v175)
  {
    (*(*v175 + 80))(v175);
  }

  if (WebKit::WebInspectorBackendClient::s_heapRef)
  {
    v176 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebInspectorBackendClient::s_heapRef, v173);
  }

  else
  {
    v176 = WebKit::WebInspectorBackendClient::operatorNewSlow(0x38);
  }

  v177 = WebKit::WebInspectorBackendClient::WebInspectorBackendClient(v176, a1);
  v179 = v367;
  v367 = v177;
  if (v179)
  {
    (*(*v179 + 8))(v179);
  }

  if (WebKit::WebDiagnosticLoggingClient::s_heapRef)
  {
    v180 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebDiagnosticLoggingClient::s_heapRef, v178);
  }

  else
  {
    v180 = WebKit::WebDiagnosticLoggingClient::operatorNewSlow(0x18);
  }

  v181 = v180;
  *(v180 + 8) = 0;
  *v180 = &unk_1F1130D60;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v183 = *v8;
  atomic_fetch_add(*v8, 1u);
  *(v181 + 16) = v183;
  v184 = v371;
  v371 = v181;
  if (v184)
  {
    (*(*v184 + 56))(v184);
  }

  if (WebKit::WebPerformanceLoggingClient::s_heapRef)
  {
    v185 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebPerformanceLoggingClient::s_heapRef, v182);
  }

  else
  {
    v185 = WebKit::WebPerformanceLoggingClient::operatorNewSlow(0x10);
  }

  v186 = v185;
  *v185 = &unk_1F1131C90;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v188 = *v8;
  atomic_fetch_add(*v8, 1u);
  v186[1] = v188;
  v189 = v372;
  v372 = v186;
  if (v189)
  {
    (*(*v189 + 16))(v189);
  }

  v190 = *(a1 + 600);
  if (!*(v190 + 8))
  {
    v191 = WTF::fastCompactMalloc(0x10);
    *v191 = 1;
    *(v191 + 8) = v190;
    v192 = *(v190 + 8);
    *(v190 + 8) = v191;
    if (v192)
    {
      if (atomic_fetch_add(v192, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v192);
        WTF::fastFree(v192, v187);
      }
    }
  }

  v193 = *(v190 + 8);
  atomic_fetch_add(v193, 1u);
  v194 = v378;
  v378 = v193;
  if (v194 && atomic_fetch_add(v194, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v194);
    WTF::fastFree(v194, v187);
  }

  if (WebKit::WebSpeechSynthesisClient::s_heapRef)
  {
    v195 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebSpeechSynthesisClient::s_heapRef, v187);
  }

  else
  {
    v195 = WebKit::WebSpeechSynthesisClient::operatorNewSlow(0x38);
  }

  v196 = v195;
  *(v195 + 16) = 1;
  *v195 = &unk_1F11329C8;
  *(v195 + 8) = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v198 = *v8;
  atomic_fetch_add(*v8, 1u);
  v196[3] = v198;
  v196[4] = 0;
  v196[5] = 0;
  v196[6] = 0;
  v199 = v373;
  v373 = v196;
  if (v199)
  {
    (*(*v199 + 8))(v199);
  }

  if (WebKit::WebValidationMessageClient::s_heapRef)
  {
    v200 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebValidationMessageClient::s_heapRef, v197);
  }

  else
  {
    v200 = WebKit::WebValidationMessageClient::operatorNewSlow(0x28);
  }

  v201 = v200;
  *v200 = &unk_1F1132AF0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v202 = *v8;
  atomic_fetch_add(*v8, 1u);
  v201[1] = v202;
  v201[2] = 0;
  v201[3] = 0;
  v201[4] = 0;
  v203 = v370;
  v370 = v201;
  if (v203)
  {
    (*(*v203 + 8))(v203);
  }

  WebKit::WebDatabaseProvider::getOrCreate(*(*v336 + 24), &v361);
  v204 = v361;
  v361 = 0;
  v205 = v374;
  v374 = v204;
  if (v205)
  {
    v315 = *(v205 + 2) - 1;
    if (*(v205 + 2) != 1)
    {
      goto LABEL_383;
    }

    (*(*v205 + 8))(v205);
    v205 = v361;
    v361 = 0;
    if (!v205)
    {
      goto LABEL_177;
    }

    v315 = *(v205 + 2) - 1;
    if (*(v205 + 2) != 1)
    {
LABEL_383:
      *(v205 + 2) = v315;
      goto LABEL_177;
    }

    v205 = (*(*v205 + 8))(v205);
  }

LABEL_177:
  v206 = WebKit::WebPluginInfoProvider::singleton(v205);
  ++*(v206 + 4);
  v207 = v375;
  v375 = v206;
  if (v207)
  {
    if (*(v207 + 4) == 1)
    {
      (*(*v207 + 8))(v207);
    }

    else
    {
      --*(v207 + 4);
    }
  }

  WebKit::WebStorageNamespaceProvider::getOrCreate(&v361);
  v208 = v376;
  v376 = v361;
  if (v208)
  {
    if (*(v208 + 2) == 1)
    {
      (*(*v208 + 8))(v208);
    }

    else
    {
      --*(v208 + 2);
    }
  }

  WebKit::VisitedLinkTableController::getOrCreate(*(a3 + 224), &v361);
  v210 = v377;
  v377 = v361;
  if (v210)
  {
    if (*(v210 + 2) == 1)
    {
      (*(*v210 + 8))(v210);
    }

    else
    {
      --*(v210 + 2);
    }
  }

  if (WebKit::WebAuthenticatorCoordinator::s_heapRef)
  {
    v211 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebAuthenticatorCoordinator::s_heapRef, v209);
  }

  else
  {
    v211 = WebKit::WebAuthenticatorCoordinator::operatorNewSlow(0x18);
  }

  v212 = v211;
  *v211 = &unk_1F112FE78;
  v211[1] = 0;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
  v213 = *v8;
  atomic_fetch_add(*v8, 1u);
  v212[2] = v213;
  v214 = v368;
  v368 = v212;
  if (v214)
  {
    (*(*v214 + 8))(v214);
  }

  std::__optional_storage_base<WebCore::ApplicationManifest,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::ApplicationManifest,false>>(&v369, (a3 + 600));
  v215 = WTF::fastMalloc(0x50);
  WebKit::WebDeviceOrientationUpdateProvider::WebDeviceOrientationUpdateProvider(v215, a1);
  v216 = v379;
  v379 = v215;
  if (v216)
  {
    if (*(v216 + 2) == 1)
    {
      (*(*v216 + 8))(v216);
    }

    else
    {
      --*(v216 + 2);
    }
  }

  if (*(a3 + 1008) == 1)
  {
    WebKit::WebExtensionControllerProxy::getOrCreate((a3 + 976), a1, &v361);
    v303 = v361;
    v361 = 0;
    v304 = *(a1 + 592);
    *(a1 + 592) = v303;
    if (v304)
    {
      WTF::RefCounted<WebKit::WebExtensionControllerProxy>::deref((v304 + 16));
      v305 = v361;
      v361 = 0;
      if (v305)
      {
        WTF::RefCounted<WebKit::WebExtensionControllerProxy>::deref(v305 + 4);
      }
    }
  }

  v217 = *(a1 + 2060);
  if (v217)
  {
    WTF::VectorDestructor<true,WTF::String>::destruct(*(a1 + 2048), (*(a1 + 2048) + 8 * v217));
  }

  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(a1 + 2048, (a3 + 1056));
  if (*(a1 + 2060))
  {
    WebKit::WebPage::synchronizeCORSDisablingPatternsWithNetworkProcess(a1, v218);
  }

  WebKit::parseAndAllowAccessToCORSDisablingPatterns(&v361, (a1 + 2048));
  if (HIDWORD(v381))
  {
    WTF::VectorTypeOperations<WebCore::InspectorFrontendClientSaveData>::destruct(v380, (v380 + 32 * HIDWORD(v381)));
  }

  v220 = v380;
  if (v380)
  {
    v380 = 0;
    LODWORD(v381) = 0;
    WTF::fastFree(v220, v219);
  }

  v380 = v361;
  v221 = v362;
  v361 = 0;
  v362 = 0;
  v381 = v221;
  WTF::Vector<WebCore::UserContentURLPattern,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v361, v219);
  v222 = *(a3 + 1072);
  *(a3 + 1072) = 0;
  BoolValueForKey = v382;
  v382 = v222;
  if (BoolValueForKey)
  {
    goto LABEL_427;
  }

  while (1)
  {
    v383 = *(a3 + 1080);
    v223 = std::__optional_storage_base<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::MemoryCompactLookupOnlyRobinHoodHashTableTraits,(WTF::ShouldValidateKey)1>,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::MemoryCompactLookupOnlyRobinHoodHashTableTraits,(WTF::ShouldValidateKey)1>,false>>(v384, a3 + 1088);
    v384[16] = *(a3 + 1151);
    if (v386 == *(a3 + 1124))
    {
      if (v386)
      {
        v385 = *(a3 + 1120);
      }
    }

    else if (v386)
    {
      v386 = 0;
    }

    else
    {
      v385 = *(a3 + 1120);
      v386 = 1;
    }

    if ((*(a3 + 1126) & 1) == 0)
    {
      v316 = WebCore::CrossOriginAccessControlCheckDisabler::singleton(v223);
      WebCore::CrossOriginAccessControlCheckDisabler::setCrossOriginAccessControlCheckEnabled(v316);
    }

    if (WebKit::WebAttachmentElementClient::s_heapRef)
    {
      v225 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebAttachmentElementClient::s_heapRef, v224);
    }

    else
    {
      v225 = WebKit::WebAttachmentElementClient::operatorNewSlow(0x10);
    }

    v226 = v225;
    *v225 = &unk_1F1130280;
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
    v228 = *v8;
    atomic_fetch_add(*v8, 1u);
    v226[1] = v228;
    v229 = v388;
    v388 = v226;
    if (v229)
    {
      (*(*v229 + 8))(v229);
    }

    v389 = *(a3 + 1155);
    if ((byte_1ED642D79 & 1) == 0)
    {
      WebKit::SandboxExtension::consumePermanently(a3 + 512);
      WebKit::SandboxExtension::consumePermanently(a3 + 528);
      byte_1ED642D79 = 1;
    }

    v387 = *(a3 + 471);
    if (*(a3 + 1656) == 1)
    {
      v231 = *(a3 + 1624);
      *(v17 + 13) = *(a3 + 1625);
      *(v17 + 67) = *(a3 + 1640);
      v230 = 1;
    }

    else
    {
      v230 = 0;
      v231 = 0;
    }

    v390 = v231;
    *v391 = *(v17 + 13);
    *&v391[15] = *(v17 + 67);
    v392 = v230;
    v232 = *(a3 + 1664);
    *(a3 + 1664) = 0;
    v233 = v393;
    v393 = v232;
    if (v233 && atomic_fetch_add_explicit(v233, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v233, v227);
    }

    WebCore::Page::create();
    v234 = v355;
    ++*(v355 + 2);
    v235 = *(a1 + 56);
    *(a1 + 56) = v234;
    if (v235)
    {
      WTF::RefCounted<WebCore::Page>::deref((v235 + 8));
      v234 = *(a1 + 56);
    }

    *(*(v234 + 15) + 696) |= 0x2000uLL;
    if (*(a3 + 180) == 1)
    {
      (*(**(*(a1 + 56) + 56) + 160))(*(*(a1 + 56) + 56), *(a3 + 176), *(a3 + 184));
    }

    v236 = *(a1 + 1832);
    if ((v236 - 1) >= 0xFFFFFFFFFFFFFFFELL)
    {
LABEL_461:
      __break(0xC471u);
      JUMPOUT(0x19E3D83F4);
    }

    WebKit::WebStorageNamespaceProvider::incrementUseCount(v236);
    WebKit::WebPage::updatePreferences(a1, (a3 + 16), v237);
    MEMORY[0x19EB0B7F0](1);
    std::__optional_storage_base<WebCore::Color,false>::__assign_from[abi:sn200100]<std::__optional_copy_assign_base<WebCore::Color,false> const&>((a1 + 1696), (a3 + 1016));
    WebCore::Page::setDeviceScaleFactor(v355, *(a3 + 236));
    v239 = *(a1 + 72);
    if (v239)
    {
      ++v239[4];
    }

    v240 = *(a3 + 544);
    if (*(v239 + 73) != v240)
    {
      *(v239 + 73) = v240;
      (*(*v239 + 280))(v239);
    }

    if (*(a3 + 345) == 1)
    {
      WebKit::WebPage::freezeLayerTree(a1, 32);
    }

    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::threadedScrollingEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::threadedScrollingEnabledKey(void)::key = WebKit::WebPreferencesKey::threadedScrollingEnabledKey(void)::$_0::operator() const(void)::impl;
    }

    *(a1 + 1726) = WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::threadedScrollingEnabledKey(void)::key, v238);
    if ((*(*v239 + 200))(v239))
    {
      v241 = 0x4000000;
      if ((*(a1 + 1726) & 1) == 0)
      {
        v241 = 0;
      }
    }

    else
    {
      v241 = 0;
      *(a1 + 1726) = 0;
    }

    v242 = v355;
    *(*(v355 + 15) + 712) = *(*(v355 + 15) + 712) & 0xFFFFFFFFFBFFFFFFLL | v241;
    *(*(v242 + 15) + 312) = 0x7FF0000000000000;
    v243 = *(a1 + 88);
    WebCore::Page::protectedMainFrame(&v361, v242);
    WebKit::WebFrame::initWithCoreMainFrame(v243, a1, v361);
    v244 = v361;
    v361 = 0;
    if (v244)
    {
      if (*(v244 + 4) == 1)
      {
        (*(*v244 + 8))(v244);
      }

      else
      {
        --*(v244 + 4);
      }
    }

    if (*(a3 + 1384) == 1)
    {
      v317 = *(a3 + 1232);
      ++*v317;
      v359 = v317;
      WebCore::Page::protectedMainFrame(&v361, v355);
      WebCore::Frame::updateFrameTreeSyncData();
      BoolValueForKey = v361;
      v361 = 0;
      if (BoolValueForKey)
      {
        if (*(BoolValueForKey + 16) == 1)
        {
          BoolValueForKey = (*(*BoolValueForKey + 8))(BoolValueForKey);
        }

        else
        {
          --*(BoolValueForKey + 16);
        }
      }

      if ((*(a3 + 1384) & 1) == 0)
      {
        goto LABEL_426;
      }

      v318 = *(a3 + 1252);
      if (v318)
      {
        v319 = *(a3 + 1240);
        v320 = 56 * v318;
        do
        {
          WebKit::WebPage::constructFrameTree(a1, *(a1 + 88), v319);
          v319 += 56;
          v320 -= 56;
        }

        while (v320);
        if ((*(a3 + 1384) & 1) == 0)
        {
          goto LABEL_426;
        }
      }

      v361 = 0;
      WebCore::Page::setMainFrameURLAndOrigin();
      BoolValueForKey = v361;
      v361 = 0;
      if (BoolValueForKey)
      {
        BoolValueForKey = WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(BoolValueForKey, v87);
      }

      if ((*(a3 + 1384) & 1) == 0)
      {
        goto LABEL_426;
      }

      LOBYTE(v361) = 0;
      v364 = 0;
      if (*(a3 + 1376))
      {
        WebKit::WebsitePoliciesData::WebsitePoliciesData(&v361, (a3 + 1256));
        v364 = 1;
        BoolValueForKey = WebKit::WebFrame::remoteFrameClient(*(a1 + 88));
        if (BoolValueForKey)
        {
          if ((*(a3 + 1384) & 1) == 0 || (*(a3 + 1376) & 1) == 0)
          {
            goto LABEL_426;
          }

          WebKit::WebRemoteFrameClient::applyWebsitePolicies(BoolValueForKey, a3 + 1256);
        }
      }

      if (v364 == 1)
      {
        WebKit::WebsitePoliciesData::~WebsitePoliciesData(&v361, v87);
      }

      v321 = v359;
      v359 = 0;
      if (v321)
      {
        WTF::RefCounted<WebCore::FrameTreeSyncData>::deref(v321, v87);
      }
    }

    if (*(a3 + 1448) == 1)
    {
      WebKit::WebPage::createProvisionalFrame((a3 + 1392), v87);
    }

    (*(*v239 + 120))(v239, a3 + 16);
    v245 = *(*(a1 + 56) + 120);
    if (*(a3 + 323) != (*(v245 + 684) & 8) >> 3)
    {
      WebCore::Settings::setBackgroundShouldExtendBeyondPage(v245);
    }

    WebKit::WebPage::didSetPageZoomFactor(a1, *(a3 + 256));
    WebKit::WebPage::didSetTextZoomFactor(a1, *(a3 + 248));
    if (WebKit::WebGeolocationClient::s_heapRef)
    {
      v247 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebGeolocationClient::s_heapRef, v246);
    }

    else
    {
      v247 = WebKit::WebGeolocationClient::operatorNewSlow(0x18);
    }

    v248 = v247;
    *(v247 + 8) = 1;
    v249 = (v247 + 8);
    *v247 = &unk_1F1130E98;
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
    v250 = *v8;
    atomic_fetch_add(*v8, 1u);
    *(v248 + 16) = v250;
    WebCore::provideGeolocationTo();
    WTF::RefCounted<WebKit::WebGeolocationClient>::deref(v249, v251);
    v253 = WebKit::WebNotificationClient::operator new(0x18, v252);
    *v253 = &unk_1F1131C38;
    v253[1] = 0;
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
    v254 = *v8;
    if (*v8)
    {
      atomic_fetch_add(v254, 1u);
    }

    v253[2] = v254;
    WebCore::provideNotification();
    if (WebKit::WebUserMediaClient::s_heapRef)
    {
      v256 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebUserMediaClient::s_heapRef, v255);
    }

    else
    {
      v256 = WebKit::WebUserMediaClient::operatorNewSlow(0x18);
    }

    v257 = v256;
    *(v256 + 8) = 1;
    *v256 = &unk_1F1132A38;
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
    v258 = *v8;
    atomic_fetch_add(*v8, 1u);
    *(v257 + 2) = v258;
    v361 = v257;
    WebCore::provideUserMediaTo();
    v260 = v361;
    v361 = 0;
    if (v260)
    {
      (*(*v260 + 8))(v260);
    }

    if (WebKit::WebMediaKeySystemClient::s_heapRef)
    {
      v261 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebMediaKeySystemClient::s_heapRef, v259);
    }

    else
    {
      v261 = WebKit::WebMediaKeySystemClient::operatorNewSlow(0x18);
    }

    v262 = v261;
    *v261 = &unk_1F1131BB0;
    v261[1] = 0;
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v8, v7);
    v263 = *(a1 + 24);
    atomic_fetch_add(v263, 1u);
    v262[2] = v263;
    WebCore::provideMediaKeySystemTo();
    v264 = v355;
    *(v355 + 1011) = *(a3 + 344);
    *(v264 + 1017) = *(a3 + 324);
    WebCore::Page::setCanStartMedia(v264);
    *(a1 + 352) = *(a3 + 286);
    if (*(a3 + 287) == 1)
    {
      WebCore::Page::suspendAllMediaPlayback(v355);
    }

    if (*(a3 + 285) == 1)
    {
      WebCore::Page::setOpenedByDOM(v355);
    }

    WebCore::Page::setGroupName(v355, (*(a1 + 96) + 16));
    WebCore::Page::setUserInterfaceLayoutDirection();
    *(v355 + 108) = *(a3 + 460);
    WebCore::Page::setOverrideViewportArguments();
    WebKit::WebPage::platformInitialize(a1, a3);
    WebKit::WebPage::setUseFixedLayout(a1, *(a3 + 120));
    if (*(a3 + 132) != *(a1 + 128) || *(a3 + 136) != *(a1 + 132))
    {
      *(a1 + 128) = *(a3 + 132);
      WebKit::WebPage::updateSizeForCSSDefaultViewportUnits(a1);
    }

    if (*(a3 + 140) != *(a1 + 136) || *(a3 + 144) != *(a1 + 140))
    {
      *(a1 + 136) = *(a3 + 140);
      WebKit::WebPage::updateSizeForCSSSmallViewportUnits(a1);
    }

    if (*(a3 + 148) != *(a1 + 144) || *(a3 + 152) != *(a1 + 148))
    {
      *(a1 + 144) = *(a3 + 148);
      WebKit::WebPage::updateSizeForCSSLargeViewportUnits(a1);
    }

    v266 = *(a1 + 152);
    if (v266 != *(a3 + 112))
    {
      if ((v266 & 0x8000000000000) != 0)
      {
        v334 = (v266 & 0xFFFFFFFFFFFFLL);
        if (atomic_fetch_add((v266 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v334);
          WTF::fastFree(v334, v265);
        }
      }

      v267 = *(a3 + 112);
      *(a1 + 152) = v267;
      if ((v267 & 0x8000000000000) != 0)
      {
        atomic_fetch_add((v267 & 0xFFFFFFFFFFFFLL), 1u);
      }
    }

    WebKit::WebPage::setPaginationMode(a1);
    WebKit::WebPage::setPaginationBehavesLikeColumns(a1);
    WebKit::WebPage::setPageLength(a1, *(a3 + 200));
    WebKit::WebPage::setGapBetweenPages(a1, *(a3 + 208));
    WebKit::WebPage::setUseColorAppearance(a1, *(a3 + 346));
    if (*(a3 + 104) == 1)
    {
      WebKit::WebPage::setEditable(a1, 1);
    }

    WebCore::Page::setActivityState();
    if ((*(a1 + 1728) & 4) == 0)
    {
      WebCore::Page::setIsPrerender(v355);
    }

    WebKit::WebPage::updateIsInWindow(a1, 1);
    WebKit::WebPage::setMinimumSizeForAutoLayout(a1, (a3 + 288));
    WebKit::WebPage::setSizeToContentAutoSizeMaximumSize(a1, (a3 + 296));
    WebKit::WebPage::setAutoSizingShouldExpandToViewHeight(a1, *(a3 + 304));
    WebKit::WebPage::setViewportSizeForCSSViewportUnits(a1, *(a3 + 308), *(a3 + 316));
    WebKit::WebPage::setScrollPinningBehavior(a1, *(a3 + 320));
    if (*(a3 + 322))
    {
      v268 = *(a3 + 321) | 0x100;
    }

    else
    {
      v268 = 0;
    }

    *(a1 + 1724) = v268;
    WebKit::WebPage::setObscuredContentInsets(a1, a3 + 264);
    v270 = *(a3 + 216);
    *(a3 + 216) = 0;
    v271 = *(a1 + 104);
    *(a1 + 104) = v270;
    if (v271 && atomic_fetch_add_explicit(v271, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v271, v269);
    }

    WebKit::WebPage::setMediaVolume(a1, *(a3 + 280));
    v272 = *(a3 + 284);
    v273 = WTF::fastMalloc(0x10);
    *v273 = &unk_1F1133EC8;
    v361 = v273;
    WebKit::WebPage::setMuted(a1, v272, &v361);
    if (v361)
    {
      (*(*v361 + 8))(v361);
    }

    WebCore::Page::addLayoutMilestones();
    {
      v275 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v275 = WebKit::WebProcess::operator new(0x370, v274);
      WebKit::WebProcess::singleton(void)::process = WebKit::WebProcess::WebProcess(v275);
    }

    v276 = *(a1 + 48);
    v359 = 184;
    v360 = v276;
    WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v275 + 7, &v359, v7, &v361);
    v277 = *(a1 + 48);
    v359 = 176;
    v360 = v277;
    WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v275 + 7, &v359, v7, &v361);
    v278 = *(a1 + 48);
    v359 = 178;
    v360 = v278;
    WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v275 + 7, &v359, v7, &v361);
    v279 = *(a1 + 48);
    v359 = 130;
    v360 = v279;
    WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v275 + 7, &v359, v7, &v361);
    v280 = *(a1 + 48);
    v359 = 171;
    v360 = v280;
    WTF::HashMap<std::pair<IPC::ReceiverName,unsigned long long>,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::DefaultHash<std::pair<IPC::ReceiverName,unsigned long long>>,WTF::PairHashTraits<WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<unsigned long long>>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<std::pair<IPC::ReceiverName,unsigned long long>,IPC::MessageReceiver&>(v275 + 7, &v359, v7, &v361);
    v281 = *(a3 + 340);
    if (v281)
    {
      v282 = *(a3 + 328);
      v283 = 8 * v281;
      do
      {
        WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::ASCIICaseInsensitiveHash,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((a1 + 1688), v282++, &v361);
        v283 -= 8;
      }

      while (v283);
    }

    v284 = *(a3 + 240);
    if (v284 != 1.0)
    {
      WebKit::WebPage::scaleView(a1, v284);
    }

    WebCore::Page::addLayoutMilestones();
    WebKit::WebPage::setSmartInsertDeleteEnabled(a1, *(a3 + 488));
    *(a1 + 1821) = *(a3 + 880);
    *(a1 + 903) = *(a3 + 881);
    if ((*(a3 + 882) & 1) == 0)
    {
      WebCore::Page::disableICECandidateFiltering(v355);
    }

    if (*(a3 + 883) == 1)
    {
      v322 = *(v355 + 32);
      if (((*(*v322 + 56))(v322) & 1) == 0)
      {
        goto LABEL_461;
      }

      WebCore::LibWebRTCProvider::enableEnumeratingAllNetworkInterfaces(v322);
    }

    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::enumeratingVisibleNetworkInterfacesEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::enumeratingVisibleNetworkInterfacesEnabledKey(void)::key = WebKit::WebPreferencesKey::enumeratingVisibleNetworkInterfacesEnabledKey(void)::$_0::operator() const(void)::impl;
    }

    if (WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::enumeratingVisibleNetworkInterfacesEnabledKey(void)::key, v285))
    {
      v286 = *(v355 + 32);
      if (((*(*v286 + 56))(v286) & 1) == 0)
      {
        __break(0xC471u);
        JUMPOUT(0x19E3D8414);
      }

      WebCore::LibWebRTCProvider::enableEnumeratingVisibleNetworkInterfaces(v286);
    }

    v287 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::JSObjectIDType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::begin((a3 + 576));
    v289 = v287;
    v8 = v288;
    v290 = *(a3 + 576);
    if (v290)
    {
      v291 = (v290 + 16 * *(v290 - 4));
    }

    else
    {
      v291 = 0;
    }

    if (v291 != v287)
    {
      do
      {
        WebKit::WebPage::registerURLSchemeHandler(a1, v289[1], v289);
        do
        {
          v289 += 2;
        }

        while (v289 != v8 && (*v289 + 1) <= 1);
      }

      while (v289 != v291);
    }

    v292 = *(a3 + 596);
    if (v292)
    {
      v293 = *(a3 + 584);
      v8 = (8 * v292);
      do
      {
        WebCore::LegacySchemeRegistry::registerURLSchemeAsHandledBySchemeHandler(v293, v288);
        v293 = (v293 + 8);
        v8 -= 2;
      }

      while (v8);
    }

    WebKit::WebUserContentController::addContentWorlds(*(a1 + 584), a3 + 896);
    WebKit::WebUserContentController::addUserScripts(*(a1 + 584), (a3 + 912), 0);
    WebKit::WebUserContentController::addUserStyleSheets(*(a1 + 584), (a3 + 928));
    WebKit::WebUserContentController::addUserScriptMessageHandlers(*(a1 + 584), (a3 + 944));
    WebKit::WebUserContentController::addContentRuleLists(*(a1 + 584), a3 + 960);
    WebKit::WebPage::setViewportConfigurationViewLayoutSize(a1, (a3 + 352), *(a3 + 360), *(a3 + 368));
    v7 = 1;
    ShouldDeactivateAudioSession = WebCore::PlatformMediaSessionManager::setShouldDeactivateAudioSession(1);
    v295 = WebCore::VP9TestingOverrides::singleton(ShouldDeactivateAudioSession);
    WebCore::VP9TestingOverrides::setShouldEnableVP9Decoder(v295);
    *(v355 + 1562) = *(a3 + 1150);
    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::experimentalSandboxEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::experimentalSandboxEnabledKey(void)::key = WebKit::WebPreferencesKey::experimentalSandboxEnabledKey(void)::$_0::operator() const(void)::impl;
    }

    BoolValueForKey = WebKit::WebPreferencesStore::getBoolValueForKey((a3 + 16), &WebKit::WebPreferencesKey::experimentalSandboxEnabledKey(void)::key, v296);
    if ((BoolValueForKey & 1) == 0)
    {
      goto LABEL_294;
    }

    if (v358)
    {
      break;
    }

LABEL_426:
    __break(1u);
LABEL_427:
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(BoolValueForKey, v87);
  }

  v323 = *(v17 + 1);
  *(v17 + 13) = *v17;
  *(v17 + 17) = v323;
  sandbox_enable_state_flag();
LABEL_294:
  WebKit::SandboxExtension::consumePermanently((a3 + 1616));
  WebKit::WebPage::updateThrottleState(a1);
  WebKit::WebPage::updateImageAnimationEnabled(a1, v297);
  WebKit::WebPage::updatePrefersNonBlinkingCursor(a1, v298);
  WebKit::WebPage::setLinkDecorationFilteringData(a1, (a3 + 1584), v299);
  WebKit::WebPage::setAllowedQueryParametersForAdvancedPrivacyProtections(a1, (a3 + 1600), v300);
  if (*(a3 + 1576) == 1)
  {
    WebCore::Page::applyWindowFeatures(v355, (a3 + 1496));
    WebCore::Chrome::show(*(v355 + 7));
    WebCore::Page::setOpenedByDOM(v355);
  }

  if (v239[4] == 1)
  {
    (*(*v239 + 24))(v239);
  }

  else
  {
    --v239[4];
  }

  v301 = v355;
  v355 = 0;
  if (v301)
  {
    WTF::RefCounted<WebCore::Page>::deref(v301 + 2);
  }

  MEMORY[0x19EB076A0](buf);
  return a1;
}

_DWORD *WebKit::WebPage::setCanStartMediaTimerFired(WebKit::WebPage *this)
{
  result = *(this + 7);
  if (result)
  {
    v2 = result + 2;
    ++result[2];
    WebCore::Page::setCanStartMedia(result);

    return WTF::RefCounted<WebCore::Page>::deref(v2);
  }

  return result;
}

uint64_t WebCore::DeferrableOneShotTimer::DeferrableOneShotTimer<WebKit::WebPage>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, double a5)
{
  v10 = WTF::fastMalloc(0x20);
  *v10 = &unk_1F1133E00;
  v10[1] = a3;
  v10[2] = a4;
  v10[3] = a2;
  result = WebCore::TimerBase::TimerBase(a1);
  *a1 = &unk_1F1122B58;
  *(a1 + 48) = v10;
  *(a1 + 56) = a5;
  return result;
}

uint64_t WebKit::WebPage::layerVolatilityTimerFired(WebKit::WebPage *this)
{
  v1 = *(this + 207) + *(this + 207);
  *(this + 207) = v1;
  return WebKit::WebPage::markLayersVolatileOrRetry(this, 2 * (v1 > 2.0));
}

_DWORD *WebKit::WebPage::textAutoSizingAdjustmentTimerFired(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::recomputeTextAutoSizingInAllFrames(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::recomputeTextAutoSizingInAllFrames(0);
  }
}

_DWORD **WTF::Ref<WebKit::WebHistoryItemClient,WTF::RawPtrTraits<WebKit::WebHistoryItemClient>,WTF::DefaultRefDerefTraits<WebKit::WebHistoryItemClient>>::~Ref(_DWORD **a1)
{
  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    if (v2[2] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }
  }

  return a1;
}

IPC::Encoder *WebKit::WebPage::synchronizeCORSDisablingPatternsWithNetworkProcess(WebKit::WebPage *this, void *a2)
{
  v3 = WebKit::WebProcess::singleton(this, a2);
  v4 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v3) + 24);
  v6[0] = this + 48;
  v6[1] = this + 2048;
  return IPC::Connection::send<Messages::NetworkConnectionToWebProcess::SetCORSDisablingPatterns>(v4, v6);
}

void *WebKit::parseAndAllowAccessToCORSDisablingPatterns(void *result, uint64_t *a2)
{
  v2 = result;
  *result = 0;
  result[1] = 0;
  v3 = *(a2 + 3);
  if (!v3)
  {
    goto LABEL_2;
  }

  if (!(v3 >> 27))
  {
    v6 = WTF::fastMalloc((32 * v3));
    *(v2 + 8) = v3;
    *v2 = v6;
    v7 = *(a2 + 3);
    if (v7)
    {
      v8 = *a2;
      v9 = 8 * v7;
      do
      {
        WebKit::parseAndAllowAccessToCORSDisablingPatterns(WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&)::$_0::operator()<WTF::String const>(&v20);
        if (v23 == 1)
        {
          v11 = v20;
          v20 = 0uLL;
          v17 = v11;
          v12 = v21;
          v21 = 0;
          v18 = v12;
          v19 = v22;
          v13 = *(v2 + 12);
          if (v13 == *(v2 + 8))
          {
            WTF::Vector<WebCore::UserContentURLPattern,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::UserContentURLPattern>(v2, &v17);
          }

          else
          {
            v14 = *v2 + 32 * v13;
            *&v17 = 0;
            *v14 = v11;
            v15 = *(&v17 + 1);
            *(&v17 + 1) = 0;
            *(v14 + 8) = v15;
            v16 = v18;
            v18 = 0;
            *(v14 + 16) = v16;
            *(v14 + 24) = v19;
            ++*(v2 + 12);
          }

          WebCore::UserContentURLPattern::~UserContentURLPattern(&v17, v10);
        }

        std::optional<WebCore::UserContentURLPattern>::~optional(&v20, v10);
        v8 += 8;
        v9 -= 8;
      }

      while (v9);
      v4 = *(v2 + 12);
      return WTF::Vector<WebCore::UserContentURLPattern,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(v2, v4);
    }

LABEL_2:
    v4 = 0;
    return WTF::Vector<WebCore::UserContentURLPattern,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(v2, v4);
  }

  __break(0xC471u);
  return result;
}

uint64_t WebKit::WebPage::updatePreferences(WebKit::WebPage *this, const WebKit::WebPreferencesStore *a2, const WTF::StringImpl *a3)
{
  v92 = *MEMORY[0x1E69E9840];
  WebKit::WebPage::updatePreferencesGenerated(a2, a2, a3);
  v5 = *(*(this + 7) + 120);
  WebKit::WebPage::updateSettingsGenerated(a2, v5, v6);
  if ((*(v5 + 680) & 1) == 0)
  {
    v78 = qword_1ED640CC0;
    if (os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
    {
      v79 = *(this + 6);
      *buf = 134218240;
      *v91 = this;
      *&v91[8] = 2048;
      *&v91[10] = v79;
      _os_log_impl(&dword_19D52D000, v78, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::updatePreferences: acceleratedCompositingEnabled setting was false. WebKit cannot function in this mode; changing setting to true", buf, 0x16u);
    }

    WebCore::Settings::setAcceleratedCompositingEnabled(v5);
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::requiresUserGestureForMediaPlaybackKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::requiresUserGestureForMediaPlaybackKey(void)::key = WebKit::WebPreferencesKey::requiresUserGestureForMediaPlaybackKey(void)::$_0::operator() const(void)::impl;
  }

  if (WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::requiresUserGestureForMediaPlaybackKey(void)::key, v7))
  {
    v11 = (v5 + 712);
    v14 = *(v5 + 712) | 0x40;
    *(v5 + 712) = v14;
LABEL_12:
    v15 = 32;
    goto LABEL_13;
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::requiresUserGestureForVideoPlaybackKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::requiresUserGestureForVideoPlaybackKey(void)::key = WebKit::WebPreferencesKey::requiresUserGestureForVideoPlaybackKey(void)::$_0::operator() const(void)::impl;
  }

  BoolValueForKey = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::requiresUserGestureForVideoPlaybackKey(void)::key, v8);
  v11 = (v5 + 712);
  v12 = 64;
  if (!BoolValueForKey)
  {
    v12 = 0;
  }

  *(v5 + 712) = *(v5 + 712) & 0xFFFFFFFFFFFFFFBFLL | v12;
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::requiresUserGestureForAudioPlaybackKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::requiresUserGestureForAudioPlaybackKey(void)::key = WebKit::WebPreferencesKey::requiresUserGestureForAudioPlaybackKey(void)::$_0::operator() const(void)::impl;
  }

  v13 = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::requiresUserGestureForAudioPlaybackKey(void)::key, v10);
  v14 = *v11;
  if (v13)
  {
    goto LABEL_12;
  }

  v15 = 0;
LABEL_13:
  *v11 = v15 | v14 & 0xFFFFFFFFFFFFFFDFLL;
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::userInterfaceDirectionPolicyKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::userInterfaceDirectionPolicyKey(void)::key = WebKit::WebPreferencesKey::userInterfaceDirectionPolicyKey(void)::$_0::operator() const(void)::impl;
  }

  *(v5 + 568) = WebKit::valueForKey<unsigned int>(a2, a2 + 24, &WebKit::WebPreferencesKey::userInterfaceDirectionPolicyKey(void)::key) != 0;
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::systemLayoutDirectionKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::systemLayoutDirectionKey(void)::key = WebKit::WebPreferencesKey::systemLayoutDirectionKey(void)::$_0::operator() const(void)::impl;
  }

  *(v5 + 557) = WebKit::valueForKey<unsigned int>(a2, a2 + 24, &WebKit::WebPreferencesKey::systemLayoutDirectionKey(void)::key) != 0;
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::javaScriptRuntimeFlagsKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::javaScriptRuntimeFlagsKey(void)::key = WebKit::WebPreferencesKey::javaScriptRuntimeFlagsKey(void)::$_0::operator() const(void)::impl;
  }

  *(v5 + 432) = WebKit::valueForKey<unsigned int>(a2, a2 + 24, &WebKit::WebPreferencesKey::javaScriptRuntimeFlagsKey(void)::key);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::storageBlockingPolicyKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::storageBlockingPolicyKey(void)::key = WebKit::WebPreferencesKey::storageBlockingPolicyKey(void)::$_0::operator() const(void)::impl;
  }

  WebKit::valueForKey<unsigned int>(a2, a2 + 24, &WebKit::WebPreferencesKey::storageBlockingPolicyKey(void)::key);
  WebCore::Settings::setStorageBlockingPolicy();
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::editableLinkBehaviorKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::editableLinkBehaviorKey(void)::key = WebKit::WebPreferencesKey::editableLinkBehaviorKey(void)::$_0::operator() const(void)::impl;
  }

  *(v5 + 369) = WebKit::valueForKey<unsigned int>(a2, a2 + 24, &WebKit::WebPreferencesKey::editableLinkBehaviorKey(void)::key);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::dataDetectorTypesKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::dataDetectorTypesKey(void)::key = WebKit::WebPreferencesKey::dataDetectorTypesKey(void)::$_0::operator() const(void)::impl;
  }

  *(v5 + 624) = WebKit::valueForKey<unsigned int>(a2, a2 + 24, &WebKit::WebPreferencesKey::dataDetectorTypesKey(void)::key);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::pitchCorrectionAlgorithmKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::pitchCorrectionAlgorithmKey(void)::key = WebKit::WebPreferencesKey::pitchCorrectionAlgorithmKey(void)::$_0::operator() const(void)::impl;
  }

  v16 = WebKit::valueForKey<unsigned int>(a2, a2 + 24, &WebKit::WebPreferencesKey::pitchCorrectionAlgorithmKey(void)::key);
  *(v5 + 528) = v16;
  v18 = WebCore::DatabaseManager::singleton(v16);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::databasesEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::databasesEnabledKey(void)::key = WebKit::WebPreferencesKey::databasesEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::databasesEnabledKey(void)::key, v17);
  WebCore::DatabaseManager::setIsAvailable(v18);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::tabsToLinksKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::tabsToLinksKey(void)::key = WebKit::WebPreferencesKey::tabsToLinksKey(void)::$_0::operator() const(void)::impl;
  }

  *(this + 203) = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::tabsToLinksKey(void)::key, v19);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::pageVisibilityBasedProcessSuppressionEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::pageVisibilityBasedProcessSuppressionEnabledKey(void)::key = WebKit::WebPreferencesKey::pageVisibilityBasedProcessSuppressionEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  v21 = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::pageVisibilityBasedProcessSuppressionEnabledKey(void)::key, v20);
  if (*(this + 1730) != v21)
  {
    *(this + 1730) = v21;
    WebKit::WebPage::updateThrottleState(this);
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::pdfPluginEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::pdfPluginEnabledKey(void)::key = WebKit::WebPreferencesKey::pdfPluginEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  *(this + 213) = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::pdfPluginEnabledKey(void)::key, v22);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::selectionFlippingEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::selectionFlippingEnabledKey(void)::key = WebKit::WebPreferencesKey::selectionFlippingEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  *(this + 215) = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::selectionFlippingEnabledKey(void)::key, v23);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::applePayEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::applePayEnabledKey(void)::key = WebKit::WebPreferencesKey::applePayEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  v25 = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::applePayEnabledKey(void)::key, v24);
  v27 = 0x400000;
  if (!v25)
  {
    v27 = 0;
  }

  *(v5 + 736) = *(v5 + 736) & 0xFFFFFFFFFFBFFFFFLL | v27;
  if (*(this + 1177))
  {
    v30 = 1;
  }

  else
  {
    v28 = WebKit::WebPreferencesKey::forceAlwaysUserScalableKey(v25);
    v30 = WebKit::WebPreferencesStore::getBoolValueForKey(a2, v28, v29);
  }

  *(this + 1177) = v30;
  *(this + 1161) = v30;
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::serviceWorkerEntitlementDisabledForTestingKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::serviceWorkerEntitlementDisabledForTestingKey(void)::key = WebKit::WebPreferencesKey::serviceWorkerEntitlementDisabledForTestingKey(void)::$_0::operator() const(void)::impl;
  }

  if (WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::serviceWorkerEntitlementDisabledForTestingKey(void)::key, v26))
  {
    WebKit::WebPage::disableServiceWorkerEntitlement(this);
  }

  v32 = *(this + 1945);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::serviceWorkersEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::serviceWorkersEnabledKey(void)::key = WebKit::WebPreferencesKey::serviceWorkersEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  if (WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::serviceWorkersEnabledKey(void)::key, v31) && (WebKit::WebPage::parentProcessHasServiceWorkerEntitlement(this, v33) & 1) == 0 && (v32 & 1) == 0)
  {
    *v11 &= ~0x400000000uLL;
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::needsInAppBrowserPrivacyQuirksKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::needsInAppBrowserPrivacyQuirksKey(void)::key = WebKit::WebPreferencesKey::needsInAppBrowserPrivacyQuirksKey(void)::$_0::operator() const(void)::impl;
  }

  *(this + 211) = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::needsInAppBrowserPrivacyQuirksKey(void)::key, v34);
  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::privateClickMeasurementEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::privateClickMeasurementEnabledKey(void)::key = WebKit::WebPreferencesKey::privateClickMeasurementEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  v36 = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::privateClickMeasurementEnabledKey(void)::key, v35);
  v39 = 0x400000000000000;
  if (!v36)
  {
    v39 = 0;
  }

  *(v5 + 704) = *(v5 + 704) & 0xFBFFFFFFFFFFFFFFLL | v39;
  v40 = *(this + 9);
  if (v40)
  {
    ++v40[4];
    (*(*v40 + 120))(v40, a2);
    if (v40[4] == 1)
    {
      (*(*v40 + 24))(v40);
    }

    else
    {
      --v40[4];
    }
  }

  {
    v41 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v41 = WebKit::WebProcess::operator new(0x370, v37);
    WebKit::WebProcess::singleton(void)::process = WebKit::WebProcess::WebProcess(v41);
  }

  {
    atomic_fetch_add_explicit(WebKit::WebPreferencesKey::childProcessDebuggabilityEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
    WebKit::WebPreferencesKey::childProcessDebuggabilityEnabledKey(void)::key = WebKit::WebPreferencesKey::childProcessDebuggabilityEnabledKey(void)::$_0::operator() const(void)::impl;
  }

  v42 = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::childProcessDebuggabilityEnabledKey(void)::key, v38);
  *(v41 + 800) = v42;
  v43 = WebCore::platformStrategies(v42);
  v44 = WebCore::PlatformStrategies::mediaStrategy(v43);
  if ((*(*v44 + 48))(v44))
  {
    atomic_store(*(this + 209), v44 + 9);
    {
      v46 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v80 = WebKit::WebProcess::operator new(0x370, v45);
      v46 = WebKit::WebProcess::WebProcess(v80);
      WebKit::WebProcess::singleton(void)::process = v46;
    }

    v47 = *(v46 + 51);
    v48 = v47 + 1;
    while (1)
    {
      v49 = *v48;
      if ((*v48 & 1) == 0)
      {
        break;
      }

      v50 = *v48;
      atomic_compare_exchange_strong_explicit(v48, &v50, v49 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v50 == v49)
      {
        goto LABEL_76;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v48);
LABEL_76:
    WebKit::RemoteMediaPlayerManager::setUseGPUProcess(v47, *(this + 209));
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteMediaPlayerManager,(WTF::DestructionThread)0>::deref(v47 + 1, v51);
    {
      v53 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v81 = WebKit::WebProcess::operator new(0x370, v52);
      v53 = WebKit::WebProcess::WebProcess(v81);
      WebKit::WebProcess::singleton(void)::process = v53;
    }

    v54 = *(v53 + 52);
    v55 = v54 + 3;
    while (1)
    {
      v56 = *v55;
      if ((*v55 & 1) == 0)
      {
        break;
      }

      v57 = *v55;
      atomic_compare_exchange_strong_explicit(v55, &v57, v56 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v57 == v56)
      {
        goto LABEL_83;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v55);
LABEL_83:
    WebKit::RemoteImageDecoderAVFManager::setUseGPUProcess(v54, *(this + 209));
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteImageDecoderAVFManager,(WTF::DestructionThread)0>::deref(v54 + 3, v58);
    {
      v60 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v82 = WebKit::WebProcess::operator new(0x370, v59);
      v60 = WebKit::WebProcess::WebProcess(v82);
      WebKit::WebProcess::singleton(void)::process = v60;
    }

    *(v60 + 801) = *(this + 207);
    v61 = *(this + 208) == 1 && *(this + 113) == 0;
    *(v60 + 802) = v61;
    WebKit::WebProcess::setUseGPUProcessForMedia(v60, *(this + 209) & 1);
    {
      v63 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v83 = WebKit::WebProcess::operator new(0x370, v62);
      v63 = WebKit::WebProcess::WebProcess(v83);
      WebKit::WebProcess::singleton(void)::process = v63;
    }

    *(v63 + 804) = *(this + 210);
    v65 = WebCore::VP9TestingOverrides::singleton(v63);
    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::sWVPDecodersAlwaysEnabledKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::sWVPDecodersAlwaysEnabledKey(void)::key = WebKit::WebPreferencesKey::sWVPDecodersAlwaysEnabledKey(void)::$_0::operator() const(void)::impl;
    }

    WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::sWVPDecodersAlwaysEnabledKey(void)::key, v64);
    WebCore::VP9TestingOverrides::setSWVPDecodersAlwaysEnabled(v65);
    {
      v68 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v84 = WebKit::WebProcess::operator new(0x370, v66);
      v68 = WebKit::WebProcess::WebProcess(v84);
      WebKit::WebProcess::singleton(void)::process = v68;
    }

    if (*(v68 + 659))
    {
      if (*(v68 + 658) == 1)
      {
        WebKit::WebPage::adjustSettingsForLockdownMode(v5, a2, v67);
      }

      if ((*(v5 + 697) & 0x80) != 0)
      {
        *(v5 + 368) = 2;
      }

      {
        atomic_fetch_add_explicit(WebKit::WebPreferencesKey::useARKitForModelKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
        WebKit::WebPreferencesKey::useARKitForModelKey(void)::key = WebKit::WebPreferencesKey::useARKitForModelKey(void)::$_0::operator() const(void)::impl;
      }

      *(this + 1952) = WebKit::WebPreferencesStore::getBoolValueForKey(a2, &WebKit::WebPreferencesKey::useARKitForModelKey(void)::key, v67);
      if ((*(v5 + 694) & 0x10) != 0)
      {
        *(v5 + 712) |= 0x800000000000000uLL;
        *(v5 + 720) |= 0x2000000uLL;
      }

      WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(buf, this + 20);
      v69 = *(this + 20);
      if (v69)
      {
        v71 = *(v69 - 4);
        v70 = v69 + 8 * v71;
      }

      else
      {
        v70 = 0;
        v71 = 0;
      }

      v85 = this + 160;
      v86 = v70;
      v87 = v70;
      v88 = v70;
      v89 = v69 + 8 * v71;
      WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v85);
      v72 = *&v91[4];
      v73 = v86;
      while (v72 != v73)
      {
        v77 = *(*v72 + 8);
        ++*(v77 + 2);
        WebKit::PluginView::didChangeSettings(v77);
        if (*(v77 + 2) == 1)
        {
          (*(*v77 + 8))(v77);
        }

        else
        {
          --*(v77 + 2);
        }

        WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(buf);
        v72 = *&v91[4];
      }

      v74 = *(this + 7);
      if (v74)
      {
        v75 = v74 + 2;
        ++v74[2];
        WebCore::Page::settingsDidChange(v74);
        return WTF::RefCounted<WebCore::Page>::deref(v75);
      }
    }

    else
    {
      v74 = std::__throw_bad_optional_access[abi:sn200100]();
    }

    return WebCore::Page::settingsDidChange(v74);
  }

  else
  {
    result = 96;
    __break(0xC471u);
  }

  return result;
}

uint64_t WebKit::WebPage::freezeLayerTree(uint64_t a1, int a2)
{
  v48 = *MEMORY[0x1E69E9840];
  v4 = *(a1 + 1816);
  *(a1 + 1816) = v4 | a2;
  v5 = WebCore::logClient(a1);
  v6 = *v5;
  if (*v5)
  {
    if ((*(*v6 + 24))(*v5))
    {
      v7 = *(a1 + 48);
      v41 = *(a1 + 1816);
      v42 = a2;
      v40 = v4;
      os_unfair_lock_lock((v6 + 16));
      v9 = *(v6 + 8);
      *buf = v7;
      *&buf[8] = &v42;
      *&buf[16] = &v41;
      v47 = &v40;
      v10 = *(v6 + 24);
      v11 = *(v9 + 128);
      v12 = INFINITY;
      if (fabs(v11) != INFINITY)
      {
        WTF::ApproximateTime::now(v8);
        v12 = v11 + v13;
      }

      if (*(v9 + 64) == v10)
      {
        goto LABEL_6;
      }

      IPC::StreamClientConnectionBuffer::tryAcquire(v9 + 72, &v43, v12);
      if (v45 != 1)
      {
LABEL_20:
        os_unfair_lock_unlock((v6 + 16));
        return WebKit::WebPage::updateDrawingAreaLayerTreeFreezeState(a1);
      }

      v32 = v44;
      if (v44 > 1)
      {
        v33 = v43;
        *v43 = 3198;
        v34 = v33 + 1;
        if (v32 - 2 >= (-v34 & 7 | 8uLL))
        {
          v35 = -v34 & 7;
          *(v34 + v35) = v10;
          v36 = 6;
          if (v35 > 6)
          {
            v36 = v35;
          }

          v37 = v36 + 10;
          v38 = (*(v9 + 88) + 1) & 0xFFFFFFFFFFFFFFFELL;
          v39 = *(v9 + 72);
          if (v38 + 16 >= v39)
          {
            v38 = 0;
          }

          v26 = v37 + v38;
          if (v39 <= v26)
          {
            v26 = 0;
          }

          *(v9 + 88) = v26;
          v16 = *(v9 + 80);
          if (*(v16 + 8) <= 0xFFuLL)
          {
            goto LABEL_40;
          }

          IPC::StreamClientConnection::wakeUpServerBatched(v9, atomic_exchange((*(v16 + 16) + 128), v26) == 0x80000000);
          *(v9 + 64) = v10;
LABEL_6:
          IPC::StreamClientConnectionBuffer::tryAcquire(v9 + 72, &v43, v12);
          if (v45 == 1)
          {
            v14 = v44;
            if (v44 <= 1)
            {
              __break(0xC471u);
              JUMPOUT(0x19E3D9844);
            }

            v15 = v43;
            *v43 = 303;
            v16 = (v15 + 1);
            v17 = -v16 & 7 | 8;
            v18 = v14 - 2 - v17;
            if (v14 - 2 < v17 || (*(v16 + (-v16 & 7)) = *buf, v16 += v17, v19 = -v16 & 3 | 4, v20 = v18 - v19, v18 < v19) || (*(v16 + (-v16 & 3)) = **&buf[8], v21 = v16 + v19, v22 = -(v16 + v19), v23 = v22 & 3 | 4, v16 = v20 - v23, v20 < v23) || (*(v21 + (v22 & 3)) = **&buf[16], v24 = v21 + v23, v25 = -v24 & 3 | 4, v16 < v25))
            {
              v26 = v45;
              if ((v45 & 1) == 0)
              {
                goto LABEL_40;
              }

              IPC::StreamClientConnection::sendProcessOutOfStreamMessage(v9, v43, v44);
              IPC::Connection::send<Messages::LogStream::WEBPAGE_FREEZE_LAYER_TREE>(*(v9 + 8), buf, v10);
            }

            else
            {
              *(v24 + (-v24 & 3)) = *v47;
              v26 = v14 - v16 + v25;
              if (v26 <= 0x10)
              {
                v26 = 16;
              }

              v27 = (*(v9 + 88) + 1) & 0xFFFFFFFFFFFFFFFELL;
              v16 = *(v9 + 72);
              if (v27 + 16 >= v16)
              {
                goto LABEL_41;
              }

              while (1)
              {
                v26 += v27;
                if (v16 <= v26)
                {
                  v26 = 0;
                }

                *(v9 + 88) = v26;
                v16 = *(v9 + 80);
                if (*(v16 + 8) > 0xFFuLL)
                {
                  break;
                }

LABEL_40:
                __break(1u);
LABEL_41:
                v27 = 0;
              }

              if (atomic_exchange((*(v16 + 16) + 128), v26) == 0x80000000 || *(v9 + 124))
              {
                if (*(v9 + 112) == 1)
                {
                  MEMORY[0x19EB16320](*(v9 + 100));
                }

                *(v9 + 124) = 0;
              }
            }
          }

          goto LABEL_20;
        }

        goto LABEL_20;
      }

      __break(0xC471u);
    }

    else
    {
      __break(0xC471u);
    }

    JUMPOUT(0x19E3D9824);
  }

  v29 = qword_1ED641030;
  if (os_log_type_enabled(qword_1ED641030, OS_LOG_TYPE_DEFAULT))
  {
    v30 = *(a1 + 48);
    v31 = *(a1 + 1816);
    *buf = 134218752;
    *&buf[4] = v30;
    *&buf[12] = 1024;
    *&buf[14] = a2;
    *&buf[18] = 1024;
    *&buf[20] = v31;
    LOWORD(v47) = 1024;
    *(&v47 + 2) = v4;
    _os_log_impl(&dword_19D52D000, v29, OS_LOG_TYPE_DEFAULT, "[webPageID=%llu] WebPage::freezeLayerTree: Adding a reason to freeze layer tree (reason=%d, new=%d, old=%d)", buf, 0x1Eu);
  }

  return WebKit::WebPage::updateDrawingAreaLayerTreeFreezeState(a1);
}

void WebKit::WebPage::constructFrameTree(uint64_t a1, void *a2, uint64_t a3)
{
  v5 = *a3;
  v6 = *(a3 + 8);
  v7 = *(a3 + 16);
  v8 = *(a3 + 32);
  ++*v8;
  v14 = v8;
  WebKit::WebFrame::createRemoteSubframe(a1, a2, v5, (a3 + 24), v6, v7, &v15);
  if (v14)
  {
    WTF::RefCounted<WebCore::FrameTreeSyncData>::deref(v14, v9);
  }

  v10 = *(a3 + 52);
  if (v10)
  {
    v11 = *(a3 + 40);
    v12 = 56 * v10;
    do
    {
      WebKit::WebPage::constructFrameTree(a1, v15, v11);
      v11 += 56;
      v12 -= 56;
    }

    while (v12);
  }

  v13 = v15;
  v15 = 0;
  if (v13)
  {
    CFRelease(*(v13 + 8));
  }
}

void WebKit::WebPage::createProvisionalFrame(uint64_t *a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v7 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v7);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::webFrame(v3, *a1, 1);
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    WebKit::WebFrame::createProvisionalFrame(v5, a1);
    v6 = *(v5 + 8);

    CFRelease(v6);
  }
}

WebCore::Settings *WebKit::WebPage::setBackgroundExtendsBeyondPage(WebKit::WebPage *this, int a2)
{
  result = *(*(this + 7) + 120);
  if (a2 != (*(result + 684) & 8) >> 3)
  {
    return WebCore::Settings::setBackgroundShouldExtendBeyondPage(result);
  }

  return result;
}

uint64_t WebKit::WebPage::didSetPageZoomFactor(WebKit::WebPage *this, double a2)
{
  result = WebKit::WebPage::mainFramePlugIn(this);
  if (result)
  {
    v15 = *(result + 8);
    *(result + 8) = v15 + 1;
    if (v15)
    {
      *(result + 8) = v15;
    }

    else
    {
      result = (*(*result + 8))(result);
    }
  }

  v5 = *(this + 7);
  if (v5)
  {
    result = WTF::HashTable<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::begin((v5 + 160));
    v6 = result;
    v8 = v7;
    v9 = *(v5 + 160);
    v10 = v9 ? v9 + 8 * *(v9 - 4) : 0;
    if (v10 != result)
    {
      v11 = a2;
      while (1)
      {
        v12 = *v6;
        atomic_fetch_add(*v6, 1u);
        v13 = *(v12 + 1);
        if (!v13)
        {
          break;
        }

        result = WebCore::LocalFrame::setPageZoomFactor(v13, v11);
        if (atomic_fetch_add(v12, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v12);
          result = WTF::fastFree(v12, v14);
        }

        do
        {
          ++v6;
        }

        while (v6 != v8 && *v6 + 1 <= 1);
        if (v6 == v10)
        {
          return result;
        }
      }

      result = 92;
      __break(0xC471u);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::didSetTextZoomFactor(WebKit::WebPage *this, double a2)
{
  result = WebKit::WebPage::mainFramePlugIn(this);
  if (result)
  {
    v15 = *(result + 8);
    *(result + 8) = v15 + 1;
    if (v15)
    {
      *(result + 8) = v15;
    }

    else
    {
      result = (*(*result + 8))(result);
    }
  }

  v5 = *(this + 7);
  if (v5)
  {
    result = WTF::HashTable<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::begin((v5 + 160));
    v6 = result;
    v8 = v7;
    v9 = *(v5 + 160);
    v10 = v9 ? v9 + 8 * *(v9 - 4) : 0;
    if (v10 != result)
    {
      v11 = a2;
      while (1)
      {
        v12 = *v6;
        atomic_fetch_add(*v6, 1u);
        v13 = *(v12 + 1);
        if (!v13)
        {
          break;
        }

        result = WebCore::LocalFrame::setTextZoomFactor(v13, v11);
        if (atomic_fetch_add(v12, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v12);
          result = WTF::fastFree(v12, v14);
        }

        do
        {
          ++v6;
        }

        while (v6 != v8 && *v6 + 1 <= 1);
        if (v6 == v10)
        {
          return result;
        }
      }

      result = 92;
      __break(0xC471u);
    }
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::setUseFixedLayout(IPC::Encoder *this, int a2)
{
  if (*(this + 200) != a2)
  {
    v16[5] = v2;
    v16[6] = v3;
    v4 = a2;
    v5 = this;
    *(this + 200) = a2;
    this = WebKit::WebPage::localMainFrameView(this);
    if (this)
    {
      v6 = this;
      ++*(this + 2);
      WebCore::ScrollView::setUseFixedLayout(this);
      if ((v4 & 1) == 0)
      {
        v16[0] = 0;
        WebKit::WebPage::setFixedLayoutSize(v5, v16);
      }

      v15 = v4;
      v8 = *(v5 + 4);
      v7 = v5 + 32;
      v9 = (*(v8 + 56))(v7);
      v11 = IPC::Encoder::operator new(0x238, v10);
      *v11 = 2413;
      *(v11 + 2) = 0;
      *(v11 + 3) = 0;
      *(v11 + 1) = v9;
      *(v11 + 68) = 0;
      *(v11 + 70) = 0;
      *(v11 + 69) = 0;
      IPC::Encoder::encodeHeader(v11);
      v16[0] = v11;
      IPC::Encoder::operator<<<BOOL &>(v11, &v15);
      (*(*v7 + 32))(v7, v16, 0);
      this = v16[0];
      v16[0] = 0;
      if (this)
      {
        IPC::Encoder::~Encoder(this, v12);
        this = bmalloc::api::tzoneFree(v13, v14);
      }

      if (*(v6 + 2) == 1)
      {
        return (*(*v6 + 8))(v6);
      }

      else
      {
        --*(v6 + 2);
      }
    }
  }

  return this;
}

_DWORD *WebKit::WebPage::setDefaultUnobscuredSize(_DWORD *this, const WebCore::FloatSize *a2)
{
  if (*a2 != *(this + 32) || *(a2 + 1) != *(this + 33))
  {
    *(this + 16) = *a2;
    return WebKit::WebPage::updateSizeForCSSDefaultViewportUnits(this);
  }

  return this;
}

_DWORD *WebKit::WebPage::setMinimumUnobscuredSize(_DWORD *this, const WebCore::FloatSize *a2)
{
  if (*a2 != *(this + 34) || *(a2 + 1) != *(this + 35))
  {
    *(this + 17) = *a2;
    return WebKit::WebPage::updateSizeForCSSSmallViewportUnits(this);
  }

  return this;
}

_DWORD *WebKit::WebPage::setMaximumUnobscuredSize(_DWORD *this, const WebCore::FloatSize *a2)
{
  if (*a2 != *(this + 36) || *(a2 + 1) != *(this + 37))
  {
    *(this + 18) = *a2;
    return WebKit::WebPage::updateSizeForCSSLargeViewportUnits(this);
  }

  return this;
}

_DWORD *WebKit::WebPage::setPaginationMode(uint64_t a1)
{
  v1 = *(a1 + 56);
  if (v1)
  {
    ++*(v1 + 8);
  }

  WebCore::Page::setPagination();
  return WTF::RefCounted<WebCore::Page>::deref((v1 + 8));
}

_DWORD *WebKit::WebPage::setPaginationBehavesLikeColumns(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (v1)
  {
    ++*(v1 + 8);
  }

  WebCore::Page::setPagination();
  return WTF::RefCounted<WebCore::Page>::deref((v1 + 8));
}

_DWORD *WebKit::WebPage::setPageLength(WebKit::WebPage *this, double a2)
{
  v2 = *(this + 7);
  if (v2)
  {
    ++*(v2 + 8);
  }

  WebCore::Page::setPagination();
  return WTF::RefCounted<WebCore::Page>::deref((v2 + 8));
}

_DWORD *WebKit::WebPage::setGapBetweenPages(WebKit::WebPage *this, double a2)
{
  v2 = *(this + 7);
  if (v2)
  {
    ++*(v2 + 8);
  }

  WebCore::Page::setPagination();
  return WTF::RefCounted<WebCore::Page>::deref((v2 + 8));
}

uint64_t WebKit::WebPage::setUseColorAppearance(WebKit::WebPage *this, int a2)
{
  v4 = *(this + 7);
  if (v4)
  {
    v5 = v4 + 2;
    ++v4[2];
    WebCore::Page::setUseColorAppearance(v4);
    result = WTF::RefCounted<WebCore::Page>::deref(v5);
  }

  else
  {
    result = WebCore::Page::setUseColorAppearance(0);
  }

  v7 = *(this + 54);
  if (v7)
  {
    ++v7[5];
    if (a2)
    {
      v8 = 2;
    }

    else
    {
      v8 = 1;
    }

    result = WebKit::WebInspectorUI::effectiveAppearanceDidChange(v7, v8);
    if (v7[5] == 1)
    {
      v9 = *(*v7 + 24);

      return v9(v7);
    }

    else
    {
      --v7[5];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::setEditable(WebKit::WebPage *this, int a2)
{
  v4 = *(this + 7);
  if (v4)
  {
    v5 = v4 + 2;
    ++v4[2];
    WebCore::Page::setEditable(v4);
    WTF::RefCounted<WebCore::Page>::deref(v5);
  }

  else
  {
    WebCore::Page::setEditable(0);
  }

  v6 = *(this + 7);
  if (v6)
  {
    ++*(v6 + 8);
  }

  *(v6 + 298) = a2 ^ 1;
  WTF::RefCounted<WebCore::Page>::deref((v6 + 8));
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v8 = result;
    ++*(result + 16);
    if (a2)
    {
      v9 = *(result + 224);
      if (v9)
      {
        *(v9 + 7) += 2;
        v10 = WebCore::Document::editor(v9);
        if (*(v9 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v9);
        }

        else
        {
          *(v9 + 7) -= 2;
        }
      }

      else
      {
        v10 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v10);
      WebCore::Editor::applyEditingStyleToBodyElement(v10);
      WebCore::Editor::deref(v10);
      result = *(*(v8 + 224) + 3208);
      if (!*(result + 153))
      {
        result = WebCore::FrameSelection::setSelectionFromNone(result);
      }
    }

    if (*(v8 + 16) == 1)
    {
      v11 = *(*v8 + 8);

      return v11(v8);
    }

    else
    {
      --*(v8 + 16);
    }
  }

  return result;
}

void *WebKit::WebPage::updateIsInWindow(WebKit::WebPage *this, void *a2)
{
  v2 = this;
  if ((*(this + 864) & 0x10) != 0)
  {
    if (*(this + 352) == 1)
    {
      this = WTF::RunLoop::TimerBase::start();
    }

    v14 = WebKit::WebProcess::singleton(this, a2);
    WebKit::WebProcess::pageDidEnterWindow(v14, *(v2 + 6));
    WebKit::WebPage::layoutIfNeeded(v2);
  }

  else
  {
    v3 = a2;
    WTF::RunLoop::TimerBase::stop((this + 304));
    v4 = *(v2 + 7);
    if (v4)
    {
      v5 = v4 + 2;
      ++v4[2];
      WebCore::Page::setCanStartMedia(v4);
      CanStartMedia = WTF::RefCounted<WebCore::Page>::deref(v5);
    }

    else
    {
      CanStartMedia = WebCore::Page::setCanStartMedia(0);
    }

    if ((v3 & 1) == 0)
    {
      v16 = WebKit::WebProcess::singleton(CanStartMedia, v7);
      WebKit::WebProcess::pageWillLeaveWindow(v16, *(v2 + 6));
    }
  }

  WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(&v22, v2 + 20);
  v8 = *(v2 + 20);
  if (v8)
  {
    v10 = *(v8 - 4);
    v9 = v8 + 8 * v10;
  }

  else
  {
    v9 = 0;
    v10 = 0;
  }

  v17 = v2 + 160;
  v18 = v9;
  v19 = v9;
  v20 = v9;
  v21 = v8 + 8 * v10;
  result = WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v17);
  v12 = v23;
  v13 = v18;
  while (v12 != v13)
  {
    v15 = *(*v12 + 8);
    ++*(v15 + 2);
    WebKit::PluginView::didChangeIsInWindow(v15);
    if (*(v15 + 2) == 1)
    {
      (*(*v15 + 8))(v15);
    }

    else
    {
      --*(v15 + 2);
    }

    result = WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(&v22);
    v12 = v23;
  }

  return result;
}

uint64_t WebKit::WebPage::setMinimumSizeForAutoLayout(uint64_t this, const WebCore::IntSize *a2)
{
  if (*(this + 864) != *a2 || *(this + 868) != *(a2 + 1))
  {
    v11 = v2;
    v12 = v3;
    *(this + 864) = *a2;
    v5 = *(*(this + 56) + 176);
    if (v5)
    {
      if ((*(v5 + 136) & 1) == 0)
      {
        ++*(v5 + 16);
        v6 = *(v5 + 216);
        if (v6)
        {
          ++*(v6 + 2);
        }

        if (*a2 <= 0)
        {
          v10 = 0;
          v8 = v6;
          v9 = 0;
        }

        else
        {
          v7 = *(a2 + 1);
          if (v7 <= 1)
          {
            v7 = 1;
          }

          v10.m_width = *a2;
          v10.m_height = v7;
          v8 = v6;
          v9 = 1;
        }

        this = WebCore::LocalFrameView::enableFixedWidthAutoSizeMode(v8, v9, &v10);
        if (v6)
        {
          if (*(v6 + 2) == 1)
          {
            this = (*(*v6 + 8))(v6);
          }

          else
          {
            --*(v6 + 2);
          }
        }

        if (*(v5 + 16) == 1)
        {
          return (*(*v5 + 8))(v5);
        }

        else
        {
          --*(v5 + 16);
        }
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::setSizeToContentAutoSizeMaximumSize(uint64_t this, IntSize *a2)
{
  if (*(this + 872) != a2->m_width || *(this + 876) != a2->m_height)
  {
    v11 = v2;
    v12 = v3;
    v5 = a2;
    *(this + 872) = *a2;
    v6 = *(*(this + 56) + 176);
    if (v6)
    {
      if ((*(v6 + 136) & 1) == 0)
      {
        ++*(v6 + 16);
        v7 = *(v6 + 216);
        if (v7)
        {
          ++*(v7 + 2);
        }

        if (a2->m_width < 1 || a2->m_height <= 0)
        {
          v10 = 0;
          v5 = &v10;
          v8 = v7;
          v9 = 0;
        }

        else
        {
          v8 = v7;
          v9 = 1;
        }

        this = WebCore::LocalFrameView::enableSizeToContentAutoSizeMode(v8, v9, v5);
        if (v7)
        {
          if (*(v7 + 2) == 1)
          {
            this = (*(*v7 + 8))(v7);
          }

          else
          {
            --*(v7 + 2);
          }
        }

        if (*(v6 + 16) == 1)
        {
          return (*(*v6 + 8))(v6);
        }

        else
        {
          --*(v6 + 16);
        }
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::setAutoSizingShouldExpandToViewHeight(uint64_t this, int a2)
{
  if (*(this + 880) != a2)
  {
    *(this + 880) = a2;
    v2 = *(*(this + 56) + 176);
    if (v2)
    {
      if ((*(v2 + 136) & 1) == 0)
      {
        ++*(v2 + 16);
        v3 = *(v2 + 216);
        if (v3)
        {
          ++*(v3 + 2);
        }

        this = WebCore::LocalFrameView::setAutoSizeFixedMinimumHeight(v3);
        if (v3)
        {
          if (*(v3 + 2) == 1)
          {
            this = (*(*v3 + 8))(v3);
          }

          else
          {
            --*(v3 + 2);
          }
        }

        if (*(v2 + 16) == 1)
        {
          v4 = *(*v2 + 8);

          return v4(v2);
        }

        else
        {
          --*(v2 + 16);
        }
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::setViewportSizeForCSSViewportUnits(uint64_t result, uint64_t a2, char a3)
{
  if ((a3 & 1) != 0 && *(result + 892))
  {
    if (*(result + 884) == *&a2 && *(result + 888) == *(&a2 + 1))
    {
      return result;
    }
  }

  else if ((a3 & 1) == *(result + 892))
  {
    return result;
  }

  *(result + 884) = a2;
  *(result + 892) = a3;
  if (a3)
  {
    v3 = *(*(result + 56) + 176);
    if (v3)
    {
      if ((*(v3 + 136) & 1) == 0)
      {
        ++*(v3 + 16);
        v4 = *(v3 + 216);
        if (v4)
        {
          ++v4[2];
          result = WebCore::LocalFrameView::setSizeForCSSDefaultViewportUnits();
          if (v4[2] == 1)
          {
            result = (*(*v4 + 8))(v4);
          }

          else
          {
            --v4[2];
          }
        }

        else
        {
          result = WebCore::LocalFrameView::setSizeForCSSDefaultViewportUnits();
        }

        if (*(v3 + 16) == 1)
        {
          v6 = *(*v3 + 8);

          return v6(v3);
        }

        else
        {
          --*(v3 + 16);
        }
      }
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::setScrollPinningBehavior(WebKit::WebPage *a1, char a2)
{
  *(*(a1 + 5) + 304) = a2;
  result = WebKit::WebPage::localMainFrame(a1, &v4);
  if (v4)
  {
    v3 = *(v4 + 216);
    if (v3)
    {
      ++v3[2];
      WebCore::LocalFrameView::setScrollPinningBehavior();
      if (v3[2] == 1)
      {
        (*(*v3 + 8))(v3);
      }

      else
      {
        --v3[2];
      }
    }

    else
    {
      WebCore::LocalFrameView::setScrollPinningBehavior();
    }

    result = v4;
    v4 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

void *WebKit::WebPage::setObscuredContentInsets(void *result, uint64_t a2)
{
  v2 = result;
  v3 = result[7];
  if (v3)
  {
    ++*(v3 + 8);
  }

  v4 = 0;
  do
  {
    v5 = *(a2 + v4);
    v6 = *(v3 + v4 + 332);
    v7 = v5 != v6 || v4 == 12;
    v4 += 4;
  }

  while (!v7);
  if (v5 != v6)
  {
    WebCore::Page::setObscuredContentInsets();
    WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(&v19, v2 + 20);
    v8 = v2[20];
    if (v8)
    {
      v10 = *(v8 - 4);
      v9 = v8 + 8 * v10;
    }

    else
    {
      v9 = 0;
      v10 = 0;
    }

    v14 = v2 + 20;
    v15 = v9;
    v16 = v9;
    v17 = v9;
    v18 = v8 + 8 * v10;
    result = WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v14);
    v11 = v20;
    v12 = v15;
    while (v11 != v12)
    {
      v13 = *(*v11 + 8);
      ++*(v13 + 2);
      WebKit::PluginView::obscuredContentInsetsDidChange(v13);
      if (*(v13 + 2) == 1)
      {
        (*(*v13 + 8))(v13);
      }

      else
      {
        --*(v13 + 2);
      }

      result = WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(&v19);
      v11 = v20;
    }
  }

  if (v3)
  {
    return WTF::RefCounted<WebCore::Page>::deref((v3 + 8));
  }

  return result;
}

_DWORD *WebKit::WebPage::setMediaVolume(WebKit::WebPage *this, float a2)
{
  v3 = *(this + 7);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::setMediaVolume(v3, a2);

    return WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {

    return WebCore::Page::setMediaVolume(0, a2);
  }
}

uint64_t WebKit::WebPage::setMuted(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a1 + 56);
  if (v4)
  {
    v5 = (v4 + 8);
    ++*(v4 + 8);
    WebCore::Page::setMuted();
    WTF::RefCounted<WebCore::Page>::deref(v5);
  }

  else
  {
    WebCore::Page::setMuted();
  }

  v6 = *a3;
  *a3 = 0;
  (*(*v6 + 16))(v6);
  v7 = *(*v6 + 8);

  return v7(v6);
}

IPC::Encoder *WebKit::WebPage::scaleView(IPC::Encoder *this, double a2)
{
  if (*(*(this + 7) + 328) != a2)
  {
    v3 = this;
    WebKit::WebPage::didScaleView(this, a2);
    v4 = *(v3 + 4);
    v3 = (v3 + 32);
    v5 = (*(v4 + 56))(v3);
    v7 = IPC::Encoder::operator new(0x238, v6);
    *v7 = 2415;
    *(v7 + 2) = 0;
    *(v7 + 3) = 0;
    *(v7 + 1) = v5;
    *(v7 + 68) = 0;
    *(v7 + 70) = 0;
    *(v7 + 69) = 0;
    IPC::Encoder::encodeHeader(v7);
    v11 = v7;
    IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v7, a2);
    (*(*v3 + 32))(v3, &v11, 0);
    this = v11;
    v11 = 0;
    if (this)
    {
      IPC::Encoder::~Encoder(this, v8);
      return bmalloc::api::tzoneFree(v9, v10);
    }
  }

  return this;
}

WebKit::WebPage *WebKit::WebPage::setSmartInsertDeleteEnabled(WebKit::WebPage *this, int a2)
{
  v2 = *(*(this + 7) + 120);
  v3 = *(v2 + 720);
  if (((v3 >> 4) & 1) != a2)
  {
    v4 = 16;
    if (!a2)
    {
      v4 = 0;
    }

    *(v2 + 720) = v3 & 0xFFFFFFFFFFFFFFEFLL | v4;
    return WebKit::WebPage::setSelectTrailingWhitespaceEnabled(this, a2 ^ 1u);
  }

  return this;
}

_DWORD *WebKit::WebPage::registerURLSchemeHandler(uint64_t a1, uint64_t a2, WebCore::LegacySchemeRegistry *a3)
{
  v62 = *MEMORY[0x1E69E9840];
  v6 = qword_1ED6416A0;
  if (os_log_type_enabled(qword_1ED6416A0, OS_LOG_TYPE_DEFAULT))
  {
    v46 = *(a1 + 48);
    WTF::String::utf8();
    v47 = v53 ? v53 + 16 : 0;
    *buf = 134218754;
    v55 = a1;
    v56 = 2048;
    v57 = v46;
    v58 = 2048;
    v59 = a2;
    v60 = 2080;
    v61 = v47;
    _os_log_impl(&dword_19D52D000, v6, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::registerURLSchemeHandler: Registered handler %llu for the '%s' scheme", buf, 0x2Au);
    if (v53)
    {
      if (*v53 == 1)
      {
        WTF::fastFree(v53, v7);
      }

      else
      {
        --*v53;
      }
    }
  }

  WebCore::LegacySchemeRegistry::registerURLSchemeAsHandledBySchemeHandler(a3, v7);
  WebCore::LegacySchemeRegistry::registerURLSchemeAsCORSEnabled(a3, v8);
  v9 = WTF::fastMalloc(0x28);
  *v9 = 0;
  *(v9 + 8) = 1;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 24), a1 + 16);
  v11 = *(a1 + 24);
  atomic_fetch_add(v11, 1u);
  *(v9 + 16) = v11;
  *(v9 + 24) = a2;
  *(v9 + 32) = 0;
  if (*a3 == -1)
  {
    goto LABEL_62;
  }

  if (!*a3)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3DB168);
  }

  v12 = (a1 + 1792);
  v13 = *(a1 + 1792);
  v52 = a2;
  if (v13 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((a1 + 1792), 0), (v13 = *v12) != 0))
  {
    v14 = *(v13 - 8);
  }

  else
  {
    v14 = 0;
  }

  v15 = *(*a3 + 16);
  v16 = v15 < 0x100 ? WTF::StringImpl::hashSlowCase(*a3) : v15 >> 8;
  v17 = 0;
  for (i = 1; ; ++i)
  {
    v19 = v16 & v14;
    v20 = v13 + 16 * (v16 & v14);
    v21 = *v20;
    if (!*v20)
    {
      break;
    }

    if (v21 == -1)
    {
      v17 = (v13 + 16 * v19);
    }

    else
    {
      v51 = i;
      v50 = WTF::equal(v21, *a3, v10);
      i = v51;
      if (v50)
      {
        WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v9 + 8));
        v23 = v52;
        goto LABEL_19;
      }
    }

    v16 = i + v19;
  }

  if (v17)
  {
    *v17 = 0;
    v17[1] = 0;
    --*(*v12 - 16);
    v20 = v17;
  }

  WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v20, a3);
  v22 = *(v20 + 8);
  *(v20 + 8) = v9;
  v23 = v52;
  if (v22)
  {
    WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v22 + 8));
  }

  v24 = *v12;
  v25 = *v12 ? *(v24 - 12) + 1 : 1;
  *(v24 - 12) = v25;
  v26 = (*(v24 - 16) + v25);
  v27 = *(v24 - 4);
  if (v27 > 0x400)
  {
    if (v27 > 2 * v26)
    {
      goto LABEL_19;
    }
  }

  else if (3 * v27 > 4 * v26)
  {
    goto LABEL_19;
  }

  v20 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((a1 + 1792), v20);
LABEL_19:
  v28 = *(v20 + 8);
  ++v28[2];
  if (v23 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3DB188);
  }

  if (!v23)
  {
LABEL_62:
    __break(0xC471u);
    JUMPOUT(0x19E3DB148);
  }

  v29 = (a1 + 1800);
  v30 = *v29;
  if (!*v29)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(v29);
    v30 = *v29;
  }

  v31 = *(v30 - 8);
  v32 = (~(v23 << 32) + v23) ^ ((~(v23 << 32) + v23) >> 22);
  v33 = 9 * ((v32 + ~(v32 << 13)) ^ ((v32 + ~(v32 << 13)) >> 8));
  v34 = (v33 ^ (v33 >> 15)) + ~((v33 ^ (v33 >> 15)) << 27);
  v35 = v31 & ((v34 >> 31) ^ v34);
  v36 = (v30 + 16 * v35);
  v37 = *v36;
  if (!*v36)
  {
LABEL_24:
    *v36 = v23;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v28, v28);
    v39 = *v28;
    atomic_fetch_add(*v28, 1u);
    v40 = v36[1];
    v36[1] = v39;
    if (v40 && atomic_fetch_add(v40, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v40);
      WTF::fastFree(v40, v38);
    }

    v41 = *v29;
    if (*v29)
    {
      v42 = *(v41 - 12) + 1;
    }

    else
    {
      v42 = 1;
    }

    *(v41 - 12) = v42;
    v43 = (*(v41 - 16) + v42);
    v44 = *(v41 - 4);
    if (v44 > 0x400)
    {
      if (v44 > 2 * v43)
      {
        return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v28 + 2);
      }
    }

    else if (3 * v44 > 4 * v43)
    {
      return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v28 + 2);
    }

    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(v29);
    return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v28 + 2);
  }

  v48 = 0;
  v49 = 1;
  while (v37 != v23)
  {
    if (v37 == -1)
    {
      v48 = v36;
    }

    v35 = (v35 + v49) & v31;
    v36 = (v30 + 16 * v35);
    v37 = *v36;
    ++v49;
    if (!*v36)
    {
      if (v48)
      {
        *v48 = 0;
        v48[1] = 0;
        --*(*v29 - 16);
        v36 = v48;
      }

      goto LABEL_24;
    }
  }

  return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v28 + 2);
}

uint64_t WebKit::WebPage::updateThrottleState(uint64_t this)
{
  v1 = this;
  if ((*(this + 1728) & 0x1E1) == 0x20)
  {
    v2 = *(this + 1730);
  }

  else
  {
    v2 = 0;
  }

  v3 = *(this + 40);
  if (v2 == 1)
  {
    if (*(v3 + 400) == 1)
    {
      *(v3 + 400) = 0;
      this = WTF::RunLoop::TimerBase::start();
    }
  }

  else
  {
    this = PAL::HysteresisActivity::start(v3 + 336);
  }

  v4 = *(v1 + 56);
  if (v4 && (*(*(v4 + 120) + 716) & 4) != 0)
  {
    WTF::RunLoop::mainSingleton(this);
    v5 = WTF::fastMalloc(0x10);
    *v5 = &unk_1F1133F18;
    *(v5 + 8) = v2;
    v6 = v5;
    WTF::RunLoop::dispatch();
    this = v6;
    if (v6)
    {
      return (*(*v6 + 8))(v6);
    }
  }

  return this;
}

_DWORD *WebKit::WebPage::updateImageAnimationEnabled(WebKit::WebPage *this, void *a2)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    {
      v7 = v2;
      v5 = WebKit::WebProcess::operator new(0x370, a2);
      v6 = WebKit::WebProcess::WebProcess(v5);
      v2 = v7;
      WebKit::WebProcess::singleton(void)::process = v6;
    }

    WebCore::Page::setImageAnimationEnabled(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {
    WebKit::WebProcess::singleton(0, a2);

    return WebCore::Page::setImageAnimationEnabled(0);
  }
}

_DWORD *WebKit::WebPage::updatePrefersNonBlinkingCursor(_DWORD *this, void *a2)
{
  v2 = *(this + 7);
  if (v2)
  {
    ++*(v2 + 2);
    {
      v4 = WebKit::WebProcess::operator new(0x370, a2);
      WebKit::WebProcess::singleton(void)::process = WebKit::WebProcess::WebProcess(v4);
    }

    WebCore::Page::setPrefersNonBlinkingCursor(v2);
    v3 = WTF::fastMalloc(0x10);
    *v3 = &unk_1F1134328;
    v5 = v3;
    WebCore::Page::forEachDocument();
    if (v5)
    {
      (*(*v5 + 8))(v5);
    }

    return WTF::RefCounted<WebCore::Page>::deref(v2 + 2);
  }

  return this;
}

void WebKit::WebPage::setLinkDecorationFilteringData(uint64_t a1, _DWORD *a2, const WTF::StringImpl *a3)
{
  v38 = *MEMORY[0x1E69E9840];
  v4 = *(a1 + 40);
  v5 = *(v4 + 440);
  if (v5)
  {
    *(v4 + 440) = 0;
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v5, a2);
  }

  v6 = a2[3];
  if (v6)
  {
    v7 = *a2;
    v8 = v7 + 24 * v6;
    v9 = &unk_1ED641000;
    while (1)
    {
      v10 = (v7 + 16);
      if ((*(v7 + 16) + 1) > 1)
      {
        break;
      }

      v11 = *(v9 + 41);
      if (os_log_type_enabled(v11, OS_LOG_TYPE_ERROR))
      {
        v35 = *(a1 + 48);
        *buf = 134218240;
        *&buf[4] = a1;
        *&buf[12] = 2048;
        *&buf[14] = v35;
        _os_log_error_impl(&dword_19D52D000, v11, OS_LOG_TYPE_ERROR, "%p - [webPageID=%llu] WebPage::Unable to set link decoration filtering data (invalid key)", buf, 0x16u);
      }

LABEL_8:
      v7 += 24;
      if (v7 == v8)
      {
        return;
      }
    }

    v12 = *(a1 + 40);
    v13 = *(v12 + 440);
    if (v13 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((v12 + 440), 0), (v13 = *(v12 + 440)) != 0))
    {
      v14 = *(v13 - 8);
    }

    else
    {
      v14 = 0;
    }

    v15 = *(*v10 + 4);
    if (v15 < 0x100)
    {
      v16 = WTF::StringImpl::hashSlowCase(*v10);
    }

    else
    {
      v16 = v15 >> 8;
    }

    v17 = 0;
    for (i = 1; ; ++i)
    {
      v19 = v16 & v14;
      v20 = v13 + 32 * v19;
      v21 = *v20;
      if (!*v20)
      {
        break;
      }

      if (v21 == -1)
      {
        v17 = (v13 + 32 * v19);
      }

      else if (WTF::equal(v21, *v10, a3))
      {
        goto LABEL_33;
      }

      v16 = i + v19;
    }

    if (v17)
    {
      *v17 = 0u;
      v17[1] = 0u;
      --*(*(v12 + 440) - 16);
      v20 = v17;
    }

    WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v20, (v7 + 16));
    *buf = 0;
    v24 = *(v20 + 8);
    *(v20 + 8) = 0;
    if (v24)
    {
      WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v24, v22);
    }

    v25 = *(v20 + 28);
    if (v25)
    {
      WTF::VectorDestructor<true,WTF::String>::destruct(*(v20 + 16), (*(v20 + 16) + 8 * v25));
    }

    v26 = *(v20 + 16);
    if (v26)
    {
      *(v20 + 16) = 0;
      *(v20 + 24) = 0;
      WTF::fastFree(v26, v22);
    }

    *&v23 = 0;
    *&buf[8] = v23;
    *(v20 + 16) = 0;
    *(v20 + 24) = 0;
    WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&buf[8], v22);
    if (*buf)
    {
      WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(*buf, v27);
    }

    v28 = *(v12 + 440);
    if (v28)
    {
      v29 = *(v28 - 12) + 1;
    }

    else
    {
      v29 = 1;
    }

    *(v28 - 12) = v29;
    v30 = (*(v28 - 16) + v29);
    v31 = *(v28 - 4);
    if (v31 > 0x400)
    {
      if (v31 > 2 * v30)
      {
        goto LABEL_33;
      }
    }

    else if (3 * v31 > 4 * v30)
    {
      goto LABEL_33;
    }

    v20 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((v12 + 440), v20);
LABEL_33:
    if (*v7 && *(*v7 + 4) && (MEMORY[0x19EB01EF0]() & 1) == 0 && *v7 != -1 && (WTF::equal(*v7, 0, a3) & 1) == 0)
    {
      WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((v20 + 8), v7, a3, buf);
    }

    v32 = *(v7 + 8);
    v9 = &unk_1ED641000;
    if (v32 && v32[1])
    {
      v33 = *(v20 + 28);
      if (v33 == *(v20 + 24))
      {
        WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String&>(v20 + 16, v7 + 8);
      }

      else
      {
        v34 = *(v20 + 16);
        atomic_fetch_add_explicit(v32, 2u, memory_order_relaxed);
        *(v34 + 8 * v33) = v32;
        ++*(v20 + 28);
      }
    }

    goto LABEL_8;
  }
}

uint64_t WebKit::WebPage::setAllowedQueryParametersForAdvancedPrivacyProtections(uint64_t a1, WTF::StringImpl *a2, const WTF::StringImpl *a3)
{
  v5 = *(a1 + 40);
  result = *(v5 + 448);
  if (result)
  {
    *(v5 + 448) = 0;
    result = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  v7 = *(a2 + 3);
  if (v7)
  {
    v8 = *a2;
    v9 = &v8[3 * v7];
    do
    {
      result = *v8;
      if (*v8 == -1)
      {
        goto LABEL_25;
      }

      result = WTF::equal(result, 0, a3);
      if (result)
      {
        goto LABEL_25;
      }

      v10 = *(a1 + 40);
      if (WTF::equal(*v8, 0, a3) || *v8 == -1)
      {
        __break(0xC471u);
        JUMPOUT(0x19E3DBA0CLL);
      }

      v12 = *(v10 + 448);
      if (v12 || (WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand((v10 + 448), 0), (v12 = *(v10 + 448)) != 0))
      {
        v13 = *(v12 - 8);
      }

      else
      {
        v13 = 0;
      }

      v14 = WTF::ASCIICaseInsensitiveHash::hash(*v8, v11) & v13;
      v15 = v12 + 16 * v14;
      if ((WTF::equal(*v15, 0, v16) & 1) == 0)
      {
        v18 = 0;
        v19 = 1;
        do
        {
          if (*v15 == -1)
          {
            v18 = v15;
          }

          else if (WTF::equalIgnoringASCIICase(*v15, *v8, v17))
          {
            goto LABEL_24;
          }

          v14 = (v14 + v19) & v13;
          v15 = v12 + 16 * v14;
          ++v19;
        }

        while (!WTF::equal(*v15, 0, v17));
        if (v18)
        {
          *v18 = 0;
          v18[1] = 0;
          --*(*(v10 + 448) - 16);
          v15 = v18;
        }
      }

      WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v15, v8);
      v21 = *(v15 + 8);
      *(v15 + 8) = 0;
      if (v21)
      {
        WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v21, v20);
      }

      v22 = *(v10 + 448);
      if (v22)
      {
        v23 = *(v22 - 12) + 1;
      }

      else
      {
        v23 = 1;
      }

      *(v22 - 12) = v23;
      v24 = (*(v22 - 16) + v23);
      v25 = *(v22 - 4);
      if (v25 > 0x400)
      {
        if (v25 <= 2 * v24)
        {
LABEL_32:
          v15 = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand((v10 + 448), v15);
        }
      }

      else if (3 * v25 <= 4 * v24)
      {
        goto LABEL_32;
      }

LABEL_24:
      result = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((v15 + 8), v8 + 2, v17, v26);
LABEL_25:
      v8 += 3;
    }

    while (v8 != v9);
  }

  return result;
}

void WebKit::WebPage::createRemoteSubframe(uint64_t a1, void *a2, uint64_t a3, StringImpl **a4)
{
  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v12 = a2;
    v11 = WebKit::WebProcess::operator new(0x370, a2);
    v7 = WebKit::WebProcess::WebProcess(v11);
    a2 = v12;
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  v8 = WebKit::WebProcess::webFrame(v7, a2, 1);
  if (v8)
  {
    v9 = v8;
    CFRetain(*(v8 + 8));
    WebKit::WebFrame::createRemoteSubframe(a1, v9, a3, a4, 0, 0, &v13);
    v10 = v13;
    v13 = 0;
    if (v10)
    {
      CFRelease(*(v10 + 8));
    }

    CFRelease(*(v9 + 8));
  }
}

uint64_t WebKit::WebPage::getFrameTree@<X0>(WebKit::WebPage *this@<X0>, void *a2@<X8>)
{
  result = WTF::fastMalloc(0x1B0);
  *result = WebKit::WebPage::getFrameTree;
  *(result + 416) = this;
  *(result + 8) = WebKit::WebPage::getFrameTree;
  *(result + 16) = 0;
  *(result + 32) = 0;
  *(result + 400) = 0;
  *a2 = result;
  *(result + 424) = 0;
  return result;
}

void WebKit::WebPage::didFinishLoadInAnotherProcess(uint64_t a1, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v7 = a2;
    v6 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v6);
    a2 = v7;
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  v3 = WebKit::WebProcess::webFrame(v2, a2, 1);
  if (v3)
  {
    v4 = v3;
    CFRetain(*(v3 + 8));
    WebKit::WebFrame::didFinishLoadInAnotherProcess(v4);
    v5 = *(v4 + 8);

    CFRelease(v5);
  }
}

void WebKit::WebPage::frameWasRemovedInAnotherProcess(uint64_t a1, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v6 = a2;
    v7 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v7);
    a2 = v6;
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  v3 = WebKit::WebProcess::webFrame(v2, a2, 1);
  if (v3)
  {
    v4 = v3;
    CFRetain(*(v3 + 8));
    *(v4 + 96) = 1;
    WebKit::WebFrame::removeFromTree(v4);
    v5 = *(v4 + 8);

    CFRelease(v5);
  }
}

void WebKit::WebPage::updateFrameTreeSyncData(uint64_t a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v9 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v9);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::webFrame(v3, a2, 1);
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    v6 = *(v5 + 40);
    if (v6)
    {
      v7 = *(v6 + 8);
      if (v7)
      {
        ++v7[4];
        WebCore::Frame::updateFrameTreeSyncData();
        if (v7[4] == 1)
        {
          (*(*v7 + 8))(v7);
        }

        else
        {
          --v7[4];
        }
      }
    }

    v8 = *(v5 + 8);

    CFRelease(v8);
  }
}

_DWORD *WebKit::WebPage::processSyncDataChangedInAnotherProcess(uint64_t a1)
{
  result = *(a1 + 56);
  if (result)
  {
    v2 = result + 2;
    ++result[2];
    WebCore::Page::updateProcessSyncData();

    return WTF::RefCounted<WebCore::Page>::deref(v2);
  }

  return result;
}

_DWORD *WebKit::WebPage::topDocumentSyncDataChangedInAnotherProcess(uint64_t a1)
{
  result = *(a1 + 56);
  if (result)
  {
    v2 = result + 2;
    ++result[2];
    WebCore::Page::updateTopDocumentSyncData();

    return WTF::RefCounted<WebCore::Page>::deref(v2);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::gpuProcessConnectionDidBecomeAvailable(WebKit::WebPage *this, WebKit::GPUProcessConnection *a2)
{
  result = WebKit::GPUProcessConnection::createVisibilityPropagationContextForPage(a2, this);
  v5 = *(this + 266);
  if (v5 && *(v5 + 4))
  {
    v6 = *(this + 6);

    return WebKit::GPUProcessConnection::setMediaEnvironment(a2, v6, this + 2128);
  }

  return result;
}

uint64_t WebKit::WebPage::gpuProcessConnectionWasDestroyed(uint64_t this)
{
  v1 = *(this + 72);
  if (v1)
  {
    v2 = *(v1 + 16);
    *(v1 + 16) = v2 + 1;
    if (*(v1 + 32))
    {
      if (v2)
      {
LABEL_4:
        *(v1 + 16) = v2;
        return this;
      }
    }

    else
    {
      this = (*(**(*(v1 + 88) + 88) + 56))(*(*(v1 + 88) + 88));
      v2 = *(v1 + 16) - 1;
      if (*(v1 + 16) != 1)
      {
        goto LABEL_4;
      }
    }

    v3 = *(*v1 + 24);

    return v3(v1);
  }

  return this;
}

_DWORD *WebKit::WebPage::requestMediaPlaybackState(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    ++*(v3 + 8);
  }

  if (!WebCore::Page::mediaPlaybackExists(v3))
  {
    v4 = 0;
LABEL_7:
    v5 = *a2;
    *a2 = 0;
    (*(*v5 + 16))(v5, v4);
    result = (*(*v5 + 8))(v5);
    if (!v3)
    {
      return result;
    }

    goto LABEL_13;
  }

  if (WebCore::Page::mediaPlaybackIsPaused(v3))
  {
    v4 = 1;
    goto LABEL_7;
  }

  v7 = *(v3 + 1015);
  v8 = *a2;
  *a2 = 0;
  if (v7)
  {
    v9 = 2;
  }

  else
  {
    v9 = 3;
  }

  (*(*v8 + 16))(v8, v9);
  (*(*v8 + 8))(v8);
LABEL_13:

  return WTF::RefCounted<WebCore::Page>::deref((v3 + 8));
}

uint64_t WebKit::WebPage::pauseAllMediaPlayback(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::pauseAllMediaPlayback(v3);
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    WebCore::Page::pauseAllMediaPlayback(0);
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5);
  v6 = *(*v5 + 8);

  return v6(v5);
}

uint64_t WebKit::WebPage::suspendAllMediaPlayback(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::suspendAllMediaPlayback(v3);
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    WebCore::Page::suspendAllMediaPlayback(0);
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5);
  v6 = *(*v5 + 8);

  return v6(v5);
}

uint64_t WebKit::WebPage::resumeAllMediaPlayback(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::resumeAllMediaPlayback(v3);
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    WebCore::Page::resumeAllMediaPlayback(0);
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5);
  v6 = *(*v5 + 8);

  return v6(v5);
}

_DWORD *WebKit::WebPage::suspendAllMediaBuffering(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::suspendAllMediaBuffering(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::suspendAllMediaBuffering(0);
  }
}

_DWORD *WebKit::WebPage::resumeAllMediaBuffering(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::resumeAllMediaBuffering(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::resumeAllMediaBuffering(0);
  }
}

void WebKit::WebPage::reinitializeWebPage(uint64_t a1, uint64_t a2)
{
  WebKit::WebPage::setSize(a1, a2);
  v5 = *(a1 + 72);
  if (*(v5 + 40) == *(a2 + 72))
  {
    goto LABEL_13;
  }

  *(a1 + 72) = 0;
  WebKit::DrawingArea::removeMessageReceiverIfNeeded(v5, v4);
  WebKit::DrawingArea::create(a1, a2, &v14);
  v7 = v14;
  v8 = *(a1 + 72);
  *(a1 + 72) = v14;
  if (v8)
  {
    if (v8[4] == 1)
    {
      (*(*v8 + 24))(v8);
      v7 = *(a1 + 72);
      if (!v7)
      {
        goto LABEL_7;
      }

      goto LABEL_6;
    }

    --v8[4];
  }

  if (v7)
  {
LABEL_6:
    ++*(v7 + 4);
  }

LABEL_7:
  *(*(*(a1 + 56) + 120) + 696) |= 0x2000uLL;
  WebKit::addRootFramesToNewDrawingArea(*(a1 + 88), v7, v6);
  v9 = *(a2 + 544);
  if (*(v7 + 73) != v9)
  {
    *(v7 + 73) = v9;
    (*(*v7 + 280))(v7);
  }

  (*(*v7 + 120))(v7, a2 + 16);
  (*(*v7 + 384))(v7, v5);
  (*(*v7 + 392))(v7, v5);
  WebKit::WebPage::unfreezeLayerTree(a1, 8);
  if (*(v7 + 4) == 1)
  {
    (*(*v7 + 24))(v7);
  }

  else
  {
    --*(v7 + 4);
  }

  if (*(v5 + 16) == 1)
  {
    (*(*v5 + 24))(v5);
  }

  else
  {
    --*(v5 + 16);
  }

LABEL_13:
  WebKit::WebPage::setMinimumSizeForAutoLayout(a1, (a2 + 288));
  WebKit::WebPage::setSizeToContentAutoSizeMaximumSize(a1, (a2 + 296));
  v10 = *(a2 + 8);
  if (*(a1 + 1728) != v10)
  {
    v11 = WTF::fastMalloc(0x10);
    *v11 = &unk_1F1133EF0;
    v14 = v11;
    WebKit::WebPage::setActivityState(a1, v10, 0, &v14);
    v12 = v14;
    v14 = 0;
    if (v12)
    {
      (*(*v12 + 8))(v12);
    }
  }

  WebKit::WebPage::setUseColorAppearance(a1, *(a2 + 346));
  if (*(a2 + 1448) == 1)
  {
    WebKit::WebPage::createProvisionalFrame((a2 + 1392), v13);
  }

  WebKit::WebPage::platformReinitialize(a1);
}

_DWORD *WebKit::WebPage::setSize(_DWORD *this, const WebCore::IntSize *a2)
{
  if (this[16] != *a2 || this[17] != *(a2 + 1))
  {
    v11[5] = v2;
    v11[6] = v3;
    v6 = this;
    *(this + 8) = *a2;
    v7 = *(this + 7);
    if (v7)
    {
      ++*(v7 + 2);
    }

    WebCore::Page::protectedMainFrame(v11, v7);
    v8 = (*(*v11[0] + 56))(v11[0]);
    v9 = v8;
    if (v8)
    {
      ++*(v8 + 8);
    }

    this = v11[0];
    v11[0] = 0;
    if (this)
    {
      if (this[4] == 1)
      {
        this = (*(*this + 8))(this);
      }

      else
      {
        --this[4];
      }
    }

    if (v7)
    {
      this = WTF::RefCounted<WebCore::Page>::deref(v7 + 2);
    }

    if (v9)
    {
      WebCore::Widget::resize(v9, a2);
      v10 = *(v6 + 9);
      if (v10)
      {
        ++v10[4];
      }

      this = (*(*v10 + 56))(v10);
      if (v10[4] == 1)
      {
        this = (*(*v10 + 24))(v10);
      }

      else
      {
        --v10[4];
      }

      if (*(v9 + 2) == 1)
      {
        return (*(*v9 + 8))(v9);
      }

      else
      {
        --*(v9 + 2);
      }
    }
  }

  return this;
}

void WebKit::addRootFramesToNewDrawingArea(WebKit *this, WebKit::WebFrame *a2, WebKit::DrawingArea *a3)
{
  if (WebKit::WebFrame::isRootFrame(this))
  {
    goto LABEL_2;
  }

  v5 = *(this + 7);
  if (v5)
  {
    v6 = *(v5 + 320);
    if (v6)
    {
      v6 = *(v6 + 8);
    }

    if (v6 == v5)
    {
LABEL_2:
      (*(*a2 + 264))(a2, *(this + 11));
    }
  }

  v7 = *(this + 5);
  if (v7)
  {
    v8 = *(v7 + 8);
    if (v8)
    {
      v9 = *(v8 + 80);
      if (v9)
      {
        ++*(v9 + 16);
        do
        {
          WebKit::WebFrame::fromCoreFrame(v9, &v13);
          v11 = v13;
          if (v13)
          {
            WebKit::addRootFramesToNewDrawingArea(v13, a2, v10);
            CFRelease(*(v11 + 1));
          }

          v12 = *(v9 + 64);
          if (v12)
          {
            ++*(v12 + 16);
          }

          if (*(v9 + 16) == 1)
          {
            (*(*v9 + 8))(v9);
          }

          else
          {
            --*(v9 + 16);
          }

          v9 = v12;
        }

        while (v12);
      }
    }
  }
}

uint64_t WebKit::WebPage::unfreezeLayerTree(uint64_t a1, int a2)
{
  v48 = *MEMORY[0x1E69E9840];
  v4 = *(a1 + 1816);
  *(a1 + 1816) = v4 & ~a2;
  v5 = WebCore::logClient(a1);
  v6 = *v5;
  if (*v5)
  {
    if ((*(*v6 + 24))(*v5))
    {
      v7 = *(a1 + 48);
      v41 = *(a1 + 1816);
      v42 = a2;
      v40 = v4;
      os_unfair_lock_lock((v6 + 16));
      v9 = *(v6 + 8);
      *buf = v7;
      *&buf[8] = &v42;
      *&buf[16] = &v41;
      v47 = &v40;
      v10 = *(v6 + 24);
      v11 = *(v9 + 128);
      v12 = INFINITY;
      if (fabs(v11) != INFINITY)
      {
        WTF::ApproximateTime::now(v8);
        v12 = v11 + v13;
      }

      if (*(v9 + 64) == v10)
      {
        goto LABEL_6;
      }

      IPC::StreamClientConnectionBuffer::tryAcquire(v9 + 72, &v43, v12);
      if (v45 != 1)
      {
LABEL_20:
        os_unfair_lock_unlock((v6 + 16));
        return WebKit::WebPage::updateDrawingAreaLayerTreeFreezeState(a1);
      }

      v32 = v44;
      if (v44 > 1)
      {
        v33 = v43;
        *v43 = 3198;
        v34 = v33 + 1;
        if (v32 - 2 >= (-v34 & 7 | 8uLL))
        {
          v35 = -v34 & 7;
          *(v34 + v35) = v10;
          v36 = 6;
          if (v35 > 6)
          {
            v36 = v35;
          }

          v37 = v36 + 10;
          v38 = (*(v9 + 88) + 1) & 0xFFFFFFFFFFFFFFFELL;
          v39 = *(v9 + 72);
          if (v38 + 16 >= v39)
          {
            v38 = 0;
          }

          v26 = v37 + v38;
          if (v39 <= v26)
          {
            v26 = 0;
          }

          *(v9 + 88) = v26;
          v16 = *(v9 + 80);
          if (*(v16 + 8) <= 0xFFuLL)
          {
            goto LABEL_40;
          }

          IPC::StreamClientConnection::wakeUpServerBatched(v9, atomic_exchange((*(v16 + 16) + 128), v26) == 0x80000000);
          *(v9 + 64) = v10;
LABEL_6:
          IPC::StreamClientConnectionBuffer::tryAcquire(v9 + 72, &v43, v12);
          if (v45 == 1)
          {
            v14 = v44;
            if (v44 <= 1)
            {
              __break(0xC471u);
              JUMPOUT(0x19E3DCDF8);
            }

            v15 = v43;
            *v43 = 306;
            v16 = (v15 + 1);
            v17 = -v16 & 7 | 8;
            v18 = v14 - 2 - v17;
            if (v14 - 2 < v17 || (*(v16 + (-v16 & 7)) = *buf, v16 += v17, v19 = -v16 & 3 | 4, v20 = v18 - v19, v18 < v19) || (*(v16 + (-v16 & 3)) = **&buf[8], v21 = v16 + v19, v22 = -(v16 + v19), v23 = v22 & 3 | 4, v16 = v20 - v23, v20 < v23) || (*(v21 + (v22 & 3)) = **&buf[16], v24 = v21 + v23, v25 = -v24 & 3 | 4, v16 < v25))
            {
              v26 = v45;
              if ((v45 & 1) == 0)
              {
                goto LABEL_40;
              }

              IPC::StreamClientConnection::sendProcessOutOfStreamMessage(v9, v43, v44);
              IPC::Connection::send<Messages::LogStream::WEBPAGE_UNFREEZE_LAYER_TREE>(*(v9 + 8), buf, v10);
            }

            else
            {
              *(v24 + (-v24 & 3)) = *v47;
              v26 = v14 - v16 + v25;
              if (v26 <= 0x10)
              {
                v26 = 16;
              }

              v27 = (*(v9 + 88) + 1) & 0xFFFFFFFFFFFFFFFELL;
              v16 = *(v9 + 72);
              if (v27 + 16 >= v16)
              {
                goto LABEL_41;
              }

              while (1)
              {
                v26 += v27;
                if (v16 <= v26)
                {
                  v26 = 0;
                }

                *(v9 + 88) = v26;
                v16 = *(v9 + 80);
                if (*(v16 + 8) > 0xFFuLL)
                {
                  break;
                }

LABEL_40:
                __break(1u);
LABEL_41:
                v27 = 0;
              }

              if (atomic_exchange((*(v16 + 16) + 128), v26) == 0x80000000 || *(v9 + 124))
              {
                if (*(v9 + 112) == 1)
                {
                  MEMORY[0x19EB16320](*(v9 + 100));
                }

                *(v9 + 124) = 0;
              }
            }
          }

          goto LABEL_20;
        }

        goto LABEL_20;
      }

      __break(0xC471u);
    }

    else
    {
      __break(0xC471u);
    }

    JUMPOUT(0x19E3DCDD8);
  }

  v29 = qword_1ED641030;
  if (os_log_type_enabled(qword_1ED641030, OS_LOG_TYPE_DEFAULT))
  {
    v30 = *(a1 + 48);
    v31 = *(a1 + 1816);
    *buf = 134218752;
    *&buf[4] = v30;
    *&buf[12] = 1024;
    *&buf[14] = a2;
    *&buf[18] = 1024;
    *&buf[20] = v31;
    LOWORD(v47) = 1024;
    *(&v47 + 2) = v4;
    _os_log_impl(&dword_19D52D000, v29, OS_LOG_TYPE_DEFAULT, "[webPageID=%llu] WebPage::unfreezeLayerTree: Removing a reason to freeze layer tree (reason=%d, new=%d, old=%d)", buf, 0x1Eu);
  }

  return WebKit::WebPage::updateDrawingAreaLayerTreeFreezeState(a1);
}

WTF *WebKit::WebPage::setActivityState(WebKit::WebPage *this, unsigned __int16 a2, uint64_t a3, uint64_t a4)
{
  v7 = *(this + 864);
  v8 = v7 ^ a2;
  *(this + 864) = a2;
  if (v7 != a2)
  {
    WebKit::WebPage::updateThrottleState(this);
  }

  v9 = *(this + 7);
  if (v9)
  {
    v10 = (v9 + 8);
    ++*(v9 + 8);
    v11 = *(this + 450);
    *(this + 450) = v8;
    WebCore::Page::setActivityState();
    *(this + 450) = v11;
    WTF::RefCounted<WebCore::Page>::deref(v10);
  }

  v12 = *(this + 9);
  if (v12)
  {
    ++v12[4];
  }

  (*(*v12 + 336))(v12, v8, a3, a4);
  if (v12[4] == 1)
  {
    (*(*v12 + 24))(v12);
  }

  else
  {
    --v12[4];
  }

  {
    result = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v15 = WebKit::WebProcess::operator new(0x370, v13);
    result = WebKit::WebProcess::WebProcess(v15);
    WebKit::WebProcess::singleton(void)::process = result;
  }

  if ((v8 & 4) != 0)
  {
    result = WTF::isIntegralOrPointerType(result);
  }

  if ((v8 & 0x10) != 0)
  {
    result = WebKit::WebPage::updateIsInWindow(this, 0);
  }

  if ((v8 & 4) != 0)
  {
    result = WebKit::WebPage::visibilityDidChange(this);
  }

  if (v8)
  {

    return WebKit::WebPage::windowActivityDidChange(this);
  }

  return result;
}

void WebKit::WebPage::~WebPage(WebKit::WebPage *this)
{
  v115 = *MEMORY[0x1E69E9840];
  v2 = qword_1ED640D10;
  if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT))
  {
    v3 = *(this + 6);
    *buf = 134218240;
    *&buf[4] = this;
    *&buf[12] = 2048;
    *&buf[14] = v3;
    _os_log_impl(&dword_19D52D000, v2, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::destructor:", buf, 0x16u);
  }

  if (*(this + 515))
  {
    WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(this + 512, 0);
    WebKit::WebPage::synchronizeCORSDisablingPatternsWithNetworkProcess(this, v108);
  }

  WebKit::WebPage::platformDetach(this);
  WebKit::WebPage::SandboxExtensionTracker::invalidate(this + 81);
  v4 = (this + 160);
  WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(buf, this + 20);
  v5 = *(this + 20);
  if (v5)
  {
    v7 = *(v5 - 4);
    v6 = v5 + 8 * v7;
  }

  else
  {
    v6 = 0;
    v7 = 0;
  }

  v109 = this + 160;
  v110 = v6;
  v111 = v6;
  v112 = v6;
  v113 = v5 + 8 * v7;
  WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v109);
  v9 = *&buf[8];
  v10 = v110;
  while (v9 != v10)
  {
    v104 = *(*v9 + 8);
    ++*(v104 + 2);
    WebKit::PluginView::webPageDestroyed(v104, v8);
    if (*(v104 + 2) == 1)
    {
      (*(*v104 + 8))(v104);
    }

    else
    {
      --*(v104 + 2);
    }

    WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(buf);
    v9 = *&buf[8];
  }

  v11 = *(this + 229);
  if ((v11 - 1) >= 0xFFFFFFFFFFFFFFFELL)
  {
    __break(0xC471u);
  }

  else
  {
    v12 = WebKit::WebStorageNamespaceProvider::decrementUseCount(v11);
    v14 = *(WebKit::WebProcess::singleton(v12, v13) + 45);
    if (v14)
    {
      WebKit::GPUProcessConnection::destroyVisibilityPropagationContextForPage(v14, this);
    }

    v15 = *(this + 57);
    if (v15)
    {
      ++*(v15 + 4);
      WebKit::PlaybackSessionManager::invalidate(v15);
      if (*(v15 + 4) == 1)
      {
        (*(*v15 + 24))(v15);
      }

      else
      {
        --*(v15 + 4);
      }
    }

    v16 = *(this + 58);
    if (v16)
    {
      ++*(v16 + 4);
      WebKit::VideoPresentationManager::invalidate(v16);
      if (*(v16 + 4) == 1)
      {
        (*(*v16 + 24))(v16);
      }

      else
      {
        --*(v16 + 4);
      }
    }

    v109 = 0;
    v110 = 0;
    std::exchange[abi:sn200100]<WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>(buf, this + 416, &v109);
    if (*&buf[12])
    {
      v105 = *buf;
      v106 = 8 * *&buf[12];
      do
      {
        v107 = *v105;
        *v105++ = 0;
        (*(*v107 + 16))(v107, 0);
        (*(*v107 + 8))(v107);
        v106 -= 8;
      }

      while (v106);
    }

    WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(buf, v17);
    WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v109, v18);
    *buf = 0;
    WebKit::WebPage::setMediaEnvironment(this, buf);
    v20 = *buf;
    *buf = 0;
    if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v20, v19);
    }

    v21 = *(this + 270);
    *(this + 270) = 0;
    if (v21 && atomic_fetch_add(v21 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v21 + 2);
      (*(*v21 + 8))(v21);
    }

    std::unique_ptr<WebKit::FrameInfoData>::~unique_ptr[abi:sn200100](this + 269, v19);
    std::unique_ptr<WTF::Observer<void ()(WebCore::NowPlayingMetadata const&)>>::reset[abi:sn200100](this + 268, 0);
    WTF::UniqueRef<WebKit::TextAnimationController>::~UniqueRef(this + 267, v22);
    v24 = *(this + 266);
    *(this + 266) = 0;
    if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v24, v23);
    }

    v25 = *(this + 264);
    if (v25)
    {
      WTF::HashTable<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::HashTraits<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::HashTraits<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::FastMalloc>::deallocateTable(v25, v23);
    }

    WTF::Ref<WebKit::WebHistoryItemClient,WTF::RawPtrTraits<WebKit::WebHistoryItemClient>,WTF::DefaultRefDerefTraits<WebKit::WebHistoryItemClient>>::~Ref(this + 263);
    WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::~Vector(this + 2080, v26);
    v28 = *(this + 259);
    *(this + 259) = 0;
    if (v28)
    {
      if (v28[5] == 1)
      {
        (*(*v28 + 24))(v28);
      }

      else
      {
        --v28[5];
      }
    }

    v29 = *(this + 258);
    *(this + 258) = 0;
    if (v29)
    {
      WebCore::CachedPage::operator delete();
    }

    WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 2048, v27);
    v31 = *(this + 254);
    *(this + 254) = 0;
    if (v31)
    {
      WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v31, v30);
    }

    WebCore::DeferrableOneShotTimer::~DeferrableOneShotTimer((this + 1960));
    v33 = *(this + 242);
    *(this + 242) = 0;
    if (v33 && atomic_fetch_add_explicit(v33, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v33, v32);
    }

    v34 = *(this + 241);
    *(this + 241) = 0;
    if (v34 && atomic_fetch_add_explicit(v34, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v34, v32);
    }

    WebCore::Timer::~Timer((this + 1872));
    std::unique_ptr<WebKit::LayerHostingContext>::reset[abi:sn200100](this + 233, 0);
    v36 = *(this + 228);
    *(this + 228) = 0;
    if (v36 && atomic_fetch_add(v36, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v36);
      WTF::fastFree(v36, v35);
    }

    v37 = *(this + 226);
    if (v37)
    {
      WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::Function<void ()(BOOL)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::Function<void ()(BOOL)>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::Function<void ()(BOOL)>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::Function<void ()(BOOL)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::deallocateTable(v37, v35);
    }

    v38 = *(this + 225);
    if (v38)
    {
      WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::ServiceWorkerFetchTask,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::ServiceWorkerFetchTask,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::ServiceWorkerFetchTask,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::ServiceWorkerFetchTask,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FetchIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v38, v35);
    }

    v39 = *(this + 224);
    if (v39)
    {
      WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v39, v35);
    }

    v40 = *(this + 221);
    *(this + 221) = 0;
    if (v40 && atomic_fetch_add_explicit(v40, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v40, v35);
    }

    v41 = *(this + 214);
    if (v41)
    {
      WTF::fastFree((v41 - 16), v35);
    }

    std::optional<WebCore::Color>::~optional(this + 1696, v35);
    v43 = *(this + 211);
    if (v43)
    {
      WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v43, v42);
    }

    WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 1664, v42);
    WebCore::Timer::~Timer((this + 1600));
    std::unique_ptr<WebCore::IgnoreSelectionChangeForScope>::reset[abi:sn200100](this + 196, 0);
    v44 = *(this + 194);
    *(this + 194) = 0;
    if (v44)
    {
      (*(*v44 + 8))(v44);
    }

    WebCore::DeferrableOneShotTimer::~DeferrableOneShotTimer((this + 1488));
    v46 = *(this + 178);
    *(this + 178) = 0;
    if (v46)
    {
      if (*(v46 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v46);
      }

      else
      {
        *(v46 + 7) -= 2;
      }
    }

    std::optional<WebCore::WeakSimpleRange>::~optional(this + 1376, v45);
    std::optional<WebCore::SimpleRange>::~optional(this + 1336);
    v48 = *(this + 159);
    *(this + 159) = 0;
    if (v48)
    {
      (*(*v48 + 8))(v48);
    }

    v49 = *(this + 158);
    *(this + 158) = 0;
    if (v49)
    {
      WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(v49, v47);
    }

    v50 = *(this + 156);
    *(this + 156) = 0;
    if (v50)
    {
      if (*(v50 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v50);
      }

      else
      {
        *(v50 + 7) -= 2;
      }
    }

    v51 = *(this + 153);
    *(this + 153) = 0;
    if (v51)
    {
      if (*(v51 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v51);
      }

      else
      {
        *(v51 + 7) -= 2;
      }
    }

    std::optional<WebCore::SimpleRange>::~optional(this + 1184);
    v53 = *(this + 114);
    *(this + 114) = 0;
    if (v53)
    {
      if (*(v53 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v53);
      }

      else
      {
        *(v53 + 7) -= 2;
      }
    }

    v54 = *(this + 113);
    *(this + 113) = 0;
    if (v54)
    {
      if (*(v54 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v54);
      }

      else
      {
        *(v54 + 7) -= 2;
      }
    }

    v55 = *(this + 107);
    if (v55)
    {
      WTF::fastFree((v55 - 16), v52);
    }

    v56 = *(this + 106);
    if (v56)
    {
      WTF::fastFree((v56 - 16), v52);
    }

    std::optional<WebCore::SimpleRange>::~optional(this + 784);
    v58 = *(this + 97);
    if (v58)
    {
      WTF::HashTable<WTF::RefPtr<WebCore::HTMLImageElement,WTF::RawPtrTraits<WebCore::HTMLImageElement>,WTF::DefaultRefDerefTraits<WebCore::HTMLImageElement>>,WTF::RefPtr<WebCore::HTMLImageElement,WTF::RawPtrTraits<WebCore::HTMLImageElement>,WTF::DefaultRefDerefTraits<WebCore::HTMLImageElement>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebCore::HTMLImageElement,WTF::RawPtrTraits<WebCore::HTMLImageElement>,WTF::DefaultRefDerefTraits<WebCore::HTMLImageElement>>>,WTF::HashTraits<WTF::RefPtr<WebCore::HTMLImageElement,WTF::RawPtrTraits<WebCore::HTMLImageElement>,WTF::DefaultRefDerefTraits<WebCore::HTMLImageElement>>>,WTF::HashTraits<WTF::RefPtr<WebCore::HTMLImageElement,WTF::RawPtrTraits<WebCore::HTMLImageElement>,WTF::DefaultRefDerefTraits<WebCore::HTMLImageElement>>>,WTF::FastMalloc>::deallocateTable(v58, v57);
    }

    PAL::HysteresisActivity::~HysteresisActivity((this + 696));
    WTF::Vector<WTF::RefPtr<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 680, v59);
    v60 = *(this + 84);
    *(this + 84) = 0;
    if (v60)
    {
      WTF::RefCounted<WebKit::SandboxExtension>::deref(v60);
    }

    WebKit::WebPage::SandboxExtensionTracker::~SandboxExtensionTracker(this + 81);
    v62 = *(this + 79);
    *(this + 79) = 0;
    if (v62)
    {
      (*(*v62 + 24))(v62);
    }

    v63 = *(this + 78);
    *(this + 78) = 0;
    if (v63)
    {
      (*(*v63 + 24))(v63);
    }

    v64 = *(this + 77);
    *(this + 77) = 0;
    if (v64)
    {
      (*(*v64 + 24))(v64);
    }

    WTF::UniqueRef<WebKit::GeolocationPermissionRequestManager>::~UniqueRef(this + 76, v61);
    WTF::UniqueRef<WebKit::WebScreenOrientationManager>::~UniqueRef(this + 75, v65);
    v66 = *(this + 74);
    *(this + 74) = 0;
    if (v66)
    {
      WTF::RefCounted<WebKit::WebExtensionControllerProxy>::deref((v66 + 16));
    }

    WTF::Ref<WebKit::WebUserContentController,WTF::RawPtrTraits<WebKit::WebUserContentController>,WTF::DefaultRefDerefTraits<WebKit::WebUserContentController>>::~Ref(this + 73);
    v68 = *(this + 72);
    *(this + 72) = 0;
    if (v68)
    {
      WTF::RefCounted<WebKit::NotificationPermissionRequestManager>::deref(v68);
    }

    v69 = *(this + 71);
    *(this + 71) = 0;
    if (v69)
    {
      WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v69, v67);
    }

    v70 = *(this + 70);
    *(this + 70) = 0;
    if (v70 && atomic_fetch_add(v70, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v70);
      WTF::fastFree(v70, v67);
    }

    v71 = *(this + 69);
    *(this + 69) = 0;
    if (v71 && atomic_fetch_add(v71, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v71);
      WTF::fastFree(v71, v67);
    }

    v72 = *(this + 68);
    *(this + 68) = 0;
    if (v72 && atomic_fetch_add(v72, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v72);
      WTF::fastFree(v72, v67);
    }

    v73 = *(this + 67);
    *(this + 67) = 0;
    if (v73)
    {
      if (v73[2] == 1)
      {
        (*(*v73 + 8))(v73);
      }

      else
      {
        --v73[2];
      }
    }

    v74 = *(this + 65);
    *(this + 65) = 0;
    if (v74)
    {
      if (v74[4] == 1)
      {
        (*(*v74 + 8))(v74);
      }

      else
      {
        --v74[4];
      }
    }

    std::optional<WebCore::SimpleRange>::~optional(this + 480);
    v76 = *(this + 58);
    *(this + 58) = 0;
    if (v76)
    {
      if (v76[4] == 1)
      {
        (*(*v76 + 24))(v76);
      }

      else
      {
        --v76[4];
      }
    }

    v77 = *(this + 57);
    *(this + 57) = 0;
    if (v77)
    {
      if (v77[4] == 1)
      {
        (*(*v77 + 24))(v77);
      }

      else
      {
        --v77[4];
      }
    }

    WTF::UniqueRef<WebKit::WebPageInspectorTargetController>::~UniqueRef(this + 56, v75);
    v79 = *(this + 55);
    *(this + 55) = 0;
    if (v79)
    {
      WTF::RefCounted<WebKit::RemoteWebInspectorUI>::deref((v79 + 16), v78);
    }

    v80 = *(this + 54);
    *(this + 54) = 0;
    if (v80)
    {
      if (v80[5] == 1)
      {
        (*(*v80 + 24))(v80);
      }

      else
      {
        --v80[5];
      }
    }

    v81 = *(this + 53);
    *(this + 53) = 0;
    if (v81 && atomic_fetch_add(v81 + 5, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v81 + 5);
      (*(*v81 + 24))(v81);
    }

    v82 = *(this + 52);
    *(this + 52) = 0;
    if (v82)
    {
      (*(*v82 + 8))(v82);
    }

    WTF::UniqueRef<WebKit::FindController>::~UniqueRef(this + 51, v78);
    v84 = *(this + 50);
    *(this + 50) = 0;
    if (v84)
    {
      (*(*v84 + 8))(v84);
    }

    v85 = *(this + 49);
    *(this + 49) = 0;
    if (v85)
    {
      (*(*v85 + 8))(v85);
    }

    v86 = *(this + 48);
    *(this + 48) = 0;
    if (v86)
    {
      (*(*v86 + 8))(v86);
    }

    v87 = *(this + 47);
    *(this + 47) = 0;
    if (v87)
    {
      (*(*v87 + 8))(v87);
    }

    v88 = *(this + 46);
    *(this + 46) = 0;
    if (v88)
    {
      (*(*v88 + 8))(v88);
    }

    v89 = *(this + 45);
    if (v89)
    {
      WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::deallocateTable(v89, v83);
    }

    WTF::RunLoop::Timer::~Timer((this + 304));
    v91 = *(this + 35);
    *(this + 35) = 0;
    if (v91)
    {
      if (v91[4] == 1)
      {
        (*(*v91 + 24))(v91);
      }

      else
      {
        --v91[4];
      }
    }

    v92 = *(this + 34);
    *(this + 34) = 0;
    if (v92)
    {
      CFRelease(v92);
    }

    v93 = *(this + 24);
    *(this + 24) = 0;
    if (v93)
    {
      (*(*v93 + 8))(v93);
    }

    v94 = *(this + 23);
    *(this + 23) = 0;
    if (v94 && atomic_fetch_add(v94, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v94);
      WTF::fastFree(v94, v90);
    }

    if (*v4)
    {
      WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(*v4, v90);
    }

    WebCore::Color::~Color((this + 152), v90);
    v96 = *(this + 15);
    if (v96)
    {
      WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v96, v95);
    }

    v97 = *(this + 13);
    *(this + 13) = 0;
    if (v97 && atomic_fetch_add_explicit(v97, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v97, v95);
    }

    v98 = *(this + 12);
    *(this + 12) = 0;
    if (v98)
    {
      if (v98[2] == 1)
      {
        (*(*v98 + 8))(v98);
      }

      else
      {
        --v98[2];
      }
    }

    v99 = *(this + 11);
    *(this + 11) = 0;
    if (v99)
    {
      CFRelease(*(v99 + 8));
    }

    v100 = *(this + 10);
    *(this + 10) = 0;
    if (v100)
    {
      if (v100[4] == 1)
      {
        (*(*v100 + 24))(v100);
      }

      else
      {
        --v100[4];
      }
    }

    v101 = *(this + 9);
    *(this + 9) = 0;
    if (v101)
    {
      if (v101[4] == 1)
      {
        (*(*v101 + 24))(v101);
      }

      else
      {
        --v101[4];
      }
    }

    v102 = *(this + 7);
    *(this + 7) = 0;
    if (v102)
    {
      WTF::RefCounted<WebCore::Page>::deref((v102 + 8));
    }

    WTF::UniqueRef<WebKit::WebPage::Internals>::~UniqueRef(this + 5, v95);
    WTF::isIntegralOrPointerType((this + 32));
    *(this + 2) = &unk_1F10EA5E0;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 3, v103);
  }
}

{
  WebKit::WebPage::~WebPage(this);

  JUMPOUT(0x19EB14CF0);
}

WebKit::SandboxExtension *WebKit::WebPage::SandboxExtensionTracker::invalidate(WebKit::SandboxExtension **this)
{
  result = *this;
  *this = 0;
  if (result)
  {
    result = WTF::RefCounted<WebKit::SandboxExtension>::deref(result);
  }

  v3 = this[1];
  this[1] = 0;
  if (v3)
  {
    WebKit::SandboxExtension::revoke(v3);
    result = WTF::RefCounted<WebKit::SandboxExtension>::deref(v3);
  }

  v4 = this[2];
  this[2] = 0;
  if (v4)
  {
    WebKit::SandboxExtension::revoke(v4);

    return WTF::RefCounted<WebKit::SandboxExtension>::deref(v4);
  }

  return result;
}

void *WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(void *a1, void **a2)
{
  v4 = WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::begin(a2);
  *a1 = a2;
  a1[1] = v4;
  a1[2] = v5;
  v6 = *a2;
  if (*a2)
  {
    v8 = *(v6 - 1);
    v7 = &v6[v8];
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  a1[3] = v7;
  a1[4] = &v6[v8];

  return WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(a1);
}

WTF *std::exchange[abi:sn200100]<WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>(void *a1, _DWORD *a2, _DWORD *a3)
{
  *a1 = 0;
  a1[1] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(a1, a2);
  v5 = a2[3];
  if (v5)
  {
    v7 = *a2;
    v8 = 8 * v5;
    do
    {
      v9 = *v7;
      *v7 = 0;
      if (v9)
      {
        (*(*v9 + 8))(v9);
      }

      ++v7;
      v8 -= 8;
    }

    while (v8);
  }

  return WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(a2, a3);
}

uint64_t *std::unique_ptr<WebKit::FrameInfoData>::~unique_ptr[abi:sn200100](uint64_t *a1, WTF::StringImpl *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    v5 = *(v3 + 304);
    *(v3 + 304) = 0;
    if (v5)
    {
      CFRelease(v5);
    }

    v6 = *(v3 + 240);
    *(v3 + 240) = 0;
    if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v6, a2);
    }

    if (!*(v3 + 232))
    {
      v7 = *(v3 + 216);
      *(v3 + 216) = 0;
      if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v7, a2);
      }

      v8 = *(v3 + 208);
      *(v3 + 208) = 0;
      if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v8, a2);
      }
    }

    *(v3 + 232) = -1;
    WebCore::ResourceRequest::~ResourceRequest((v3 + 8));
    WTF::fastFree(v3, v9);
  }

  return a1;
}

void non-virtual thunk toWebKit::WebPage::~WebPage(WebKit::WebPage *this)
{
  WebKit::WebPage::~WebPage((this - 16));
}

{
  WebKit::WebPage::~WebPage((this - 32));
}

{
  WebKit::WebPage::~WebPage((this - 16));

  JUMPOUT(0x19EB14CF0);
}

{
  WebKit::WebPage::~WebPage((this - 32));

  JUMPOUT(0x19EB14CF0);
}

uint64_t WebKit::WebPage::messageSenderConnection(WebKit::WebPage *this, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v4 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v4);
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  return *(v2 + 5);
}

uint64_t non-virtual thunk toWebKit::WebPage::messageSenderConnection(WebKit::WebPage *this, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v4 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v4);
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  return *(v2 + 5);
}

uint64_t WebKit::WebPage::setInjectedBundleEditorClient(uint64_t a1, void *a2)
{
  v3 = *a2;
  if (*a2)
  {
    *a2 = 0;
  }

  else
  {
    v3 = API::InjectedBundle::EditorClient::operator new(8, a2);
    *v3 = &unk_1F112B838;
  }

  result = *(a1 + 368);
  *(a1 + 368) = v3;
  if (result)
  {
    v5 = *(*result + 8);

    return v5();
  }

  return result;
}

uint64_t WebKit::WebPage::setInjectedBundleFormClient(uint64_t a1, void *a2)
{
  v3 = *a2;
  if (*a2)
  {
    *a2 = 0;
  }

  else
  {
    v3 = API::InjectedBundle::FormClient::operator new(8, a2);
    *v3 = &unk_1F1133A90;
  }

  result = *(a1 + 376);
  *(a1 + 376) = v3;
  if (result)
  {
    v5 = *(*result + 8);

    return v5();
  }

  return result;
}

_DWORD *WebKit::WebPage::setInjectedBundlePageLoaderClient(uint64_t a1, uint64_t *a2)
{
  v3 = *a2;
  if (*a2)
  {
    *a2 = 0;
    v4 = *(a1 + 384);
    *(a1 + 384) = v3;
    if (v4)
    {
      (*(*v4 + 8))(v4);
      v3 = *(a1 + 384);
    }

    result = (*(*v3 + 272))(v3);
    if (result)
    {

      return WebKit::WebPage::listenForLayoutMilestones(a1);
    }
  }

  else
  {
    v6 = API::InjectedBundle::PageLoaderClient::operator new(8, a2);
    *v6 = &unk_1F1133B08;
    result = *(a1 + 384);
    *(a1 + 384) = v6;
    if (result)
    {
      v7 = *(*result + 8);

      return v7();
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::listenForLayoutMilestones(uint64_t a1)
{
  result = *(a1 + 56);
  if (result)
  {
    v2 = result + 2;
    ++result[2];
    WebCore::Page::addLayoutMilestones();

    return WTF::RefCounted<WebCore::Page>::deref(v2);
  }

  return result;
}

uint64_t WebKit::WebPage::setInjectedBundleResourceLoadClient(uint64_t a1, void *a2)
{
  if (*(a1 + 392))
  {
    v3 = *a2;
    *a2 = 0;
  }

  else
  {
    v3 = API::InjectedBundle::ResourceLoadClient::operator new(8, a2);
    *v3 = &unk_1F1133C30;
  }

  result = *(a1 + 392);
  *(a1 + 392) = v3;
  if (result)
  {
    v5 = *(*result + 8);

    return v5();
  }

  return result;
}

uint64_t WebKit::WebPage::setInjectedBundleUIClient(uint64_t a1, void *a2)
{
  v3 = *a2;
  if (*a2)
  {
    *a2 = 0;
  }

  else
  {
    v3 = API::InjectedBundle::PageUIClient::operator new(8, a2);
    *v3 = &unk_1F1133C90;
  }

  result = *(a1 + 400);
  *(a1 + 400) = v3;
  if (result)
  {
    v5 = *(*result + 8);

    return v5();
  }

  return result;
}

WebKit::WebPage *WebKit::WebPage::editorState@<X0>(uint64_t a1@<X0>, char a2@<W1>, uint64_t a3@<X8>)
{
  v66 = *MEMORY[0x1E69E9840];
  *(a3 + 8) = 256;
  *(a3 + 32) = 0;
  v6 = (a3 + 32);
  *(a3 + 256) = 0;
  *(a3 + 272) = 0;
  *(a3 + 528) = 0;
  *(a3 + 10) = 0;
  *(a3 + 18) = 0;
  v7 = *(a1 + 40);
  v8 = *(v7 + 312) + 1;
  *(v7 + 312) = v8;
  *a3 = v8;
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (!result)
  {
    return result;
  }

  v11 = result;
  ++*(result + 4);
  v12 = WebKit::WebPage::focusedPluginViewForFrame(result, v10);
  if (!v12)
  {
    goto LABEL_3;
  }

  v39 = v12;
  ++*(v12 + 8);
  v40 = WebKit::PluginView::populateEditorStateIfNeeded(v12, a3);
  v41 = v39[2] - 1;
  if ((v40 & 1) == 0)
  {
    if (v39[2] != 1)
    {
      v39[2] = v41;
      goto LABEL_3;
    }

LABEL_74:
    (*(*v39 + 8))(v39);
    if (v40)
    {
      goto LABEL_68;
    }

LABEL_3:
    v13 = *(v11 + 28);
    v14 = *(v13 + 3208);
    *(v13 + 28) += 2;
    v15 = WebCore::Document::editor(v13);
    if (*(v13 + 28) == 2)
    {
      WebCore::Node::removedLastRef(v13);
    }

    else
    {
      *(v13 + 28) -= 2;
    }

    WebCore::Editor::ref(v15);
    v16 = *(v14 + 153);
    *(a3 + 9) = *(v14 + 153) == 0;
    *(a3 + 10) = v16 == 2;
    *(a3 + 13) = WebCore::VisibleSelection::hasEditableStyle((v14 + 56));
    *(a3 + 14) = WebCore::VisibleSelection::isContentRichlyEditable((v14 + 56));
    *(a3 + 15) = WebCore::VisibleSelection::isInPasswordField((v14 + 56));
    *(a3 + 16) = *(v15 + 32) != 0;
    if (*(v15 + 88))
    {
      v18 = 1;
    }

    else if (WebCore::Editor::client(v15))
    {
      v17 = WebCore::Editor::client(v15);
      v18 = (*(*v17 + 120))(v17) ^ 1;
    }

    else
    {
      v18 = 0;
    }

    *(a3 + 8) = v18;
    if (*(a1 + 924) == 2)
    {
      v19 = 1;
    }

    else
    {
      v19 = *(a1 + 1747);
    }

    *(a3 + 17) = v19 & 1;
    v20 = *(v11 + 28);
    *(v20 + 28) += 2;
    if (*(a3 + 10) == 1)
    {
      WebCore::VisibleSelection::range(&v43, (v14 + 56));
      if (LOBYTE(v45[0]) == 1)
      {
        isInsideOverlay = WebCore::ImageOverlay::isInsideOverlay();
      }

      else
      {
        isInsideOverlay = 0;
      }

      *(a3 + 11) = isInsideOverlay;
      *(a3 + 12) = WebCore::VisibleSelection::isInAutoFilledAndViewableField((v14 + 56));
      std::optional<WebCore::SimpleRange>::~optional(&v43);
    }

    *(a1 + 1748) = *(a3 + 13);
    if ((a2 & 1) != 0 || WebKit::WebPage::requiresPostLayoutDataForEditorState(a1, v11))
    {
      goto LABEL_51;
    }

    while (1)
    {
      v21 = *(v20 + 552);
      if (!v21)
      {
        break;
      }

      v22 = *(v21 + 8);
      if (!v22)
      {
        break;
      }

      v23 = *(v22 + 216);
      if (!v23)
      {
        break;
      }

      ++*(v23 + 2);
      if (WebCore::LocalFrameView::needsLayout(v23) & 1) != 0 || (*(v20 + 3542))
      {
        goto LABEL_37;
      }

      if ((*(a3 + 256) & 1) == 0)
      {
        LOBYTE(v43) = 0;
        *(&v43 + 1) = 0;
        LOBYTE(v44) = 0;
        *(&v44 + 1) = 0x11040000000000FFLL;
        LODWORD(v45[0]) = 0;
        v46[0] = 0;
        v46[1] = 0;
        v45[1] = 0;
        LODWORD(v47[0]) = 0;
        v47[1] = 0;
        v48[0] = 0;
        *(v48 + 5) = 0;
        *&v49 = 0;
        *(&v49 + 5) = 0;
        LOBYTE(v50) = 0;
        v57 = 0;
        v58 = 0;
        v59 = 0;
        v61 = 1;
        std::__optional_storage_base<WebKit::EditorState::PostLayoutData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebKit::EditorState::PostLayoutData,false>>(v6, &v43);
        if (v61 == 1)
        {
          if ((v49 & 0x8000000000000) != 0)
          {
            v37 = (v49 & 0xFFFFFFFFFFFFLL);
            if (atomic_fetch_add((v49 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
            {
              atomic_store(1u, v37);
              WTF::fastFree(v37, v24);
            }
          }

          v25 = v47[1];
          if (v47[1])
          {
            v47[1] = 0;
            LODWORD(v48[0]) = 0;
            WTF::fastFree(v25, v24);
          }

          v26 = v46[0];
          v46[0] = 0;
          if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v26, v24);
          }

          v27 = v45[1];
          v45[1] = 0;
          if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v27, v24);
          }

          if ((*(&v44 + 1) & 0x8000000000000) != 0)
          {
            v38 = (*(&v44 + 1) & 0xFFFFFFFFFFFFLL);
            if (atomic_fetch_add((*(&v44 + 1) & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
            {
              atomic_store(1u, v38);
              WTF::fastFree(v38, v24);
            }
          }
        }
      }

      canCut = WebCore::Editor::canCut(v15);
      if (*(a3 + 256))
      {
        *(a3 + 240) = canCut;
        canCopy = WebCore::Editor::canCopy(v15);
        if (*(a3 + 256))
        {
          *(a3 + 241) = canCopy;
          canEdit = WebCore::Editor::canEdit(v15);
          if (*(a3 + 256))
          {
            *(a3 + 242) = canEdit;
            if ((*(a3 + 528) & 1) == 0)
            {
              v52 = 0;
              v53 = 0;
              v54 = 0;
              v55 = 0;
              v56 = 0;
              v57 = 0;
              LOBYTE(v58) = 0;
              v60 = 0;
              v62 = 0;
              v63 = 0;
              v64 = 0;
              v43 = 0u;
              v44 = 0u;
              *v45 = 0u;
              *v46 = 0u;
              *v47 = 0u;
              *v48 = 0u;
              v49 = 0u;
              v50 = 0u;
              v51 = 0;
              v65 = 1;
              std::__optional_storage_base<WebKit::EditorState::VisualData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebKit::EditorState::VisualData,false>>((a3 + 272), &v43);
              if (v65 == 1)
              {
                v32 = v53;
                if (v53)
                {
                  v53 = 0;
                  LODWORD(v54) = 0;
                  WTF::fastFree(v32, v31);
                }

                v33 = v48[0];
                if (v48[0])
                {
                  v48[0] = 0;
                  LODWORD(v48[1]) = 0;
                  WTF::fastFree(v33, v31);
                }

                v34 = v47[0];
                if (v47[0])
                {
                  v47[0] = 0;
                  LODWORD(v47[1]) = 0;
                  WTF::fastFree(v34, v31);
                }
              }
            }

LABEL_37:
            if (*(v23 + 2) == 1)
            {
              (*(*v23 + 8))(v23);
            }

            else
            {
              --*(v23 + 2);
            }

            break;
          }
        }
      }

      __break(1u);
LABEL_51:
      WebCore::Document::updateLayout();
    }

    WebKit::WebPage::getPlatformEditorState(a1, v11, a3);
    if (*(v20 + 28) == 2)
    {
      WebCore::Node::removedLastRef(v20);
    }

    else
    {
      *(v20 + 28) -= 2;
    }

    WebCore::Editor::deref(v15);
    result = WebKit::EditorState::clipOwnedRectExtentsToNumericLimits(a3);
    v35 = *(v11 + 4) - 1;
    if (*(v11 + 4) == 1)
    {
      return (*(*v11 + 8))(v11);
    }

    goto LABEL_42;
  }

  if (v39[2] == 1)
  {
    goto LABEL_74;
  }

  v39[2] = v41;
LABEL_68:
  result = WebKit::EditorState::clipOwnedRectExtentsToNumericLimits(a3);
  v35 = *(v11 + 4) - 1;
  if (*(v11 + 4) != 1)
  {
LABEL_42:
    *(v11 + 4) = v35;
    return result;
  }

  v42 = *(*v11 + 8);

  return v42(v11);
}

uint64_t WebKit::WebPage::focusedPluginViewForFrame(WebKit::WebPage *this, WebCore::LocalFrame *a2)
{
  v2 = *(this + 28);
  if (!v2)
  {
    return 0;
  }

  if ((*(v2 + 3518) & 8) == 0)
  {
    return 0;
  }

  v4 = *(v2 + 28);
  *(v2 + 28) = v4 + 2;
  v6 = v2;
  if (*(v2 + 1312) == *(v2 + 3712))
  {
    v5 = WebKit::WebPage::pluginViewForFrame(this, a2);
    v4 = *(v6 + 7) - 2;
  }

  else
  {
    v5 = 0;
  }

  if (v4)
  {
    *(v6 + 7) = v4;
  }

  else
  {
    WebCore::Node::removedLastRef(v6);
  }

  return v5;
}

uint64_t WebKit::WebPage::changeFontAttributes(uint64_t a1, WebCore::FontAttributeChanges *a2)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (result)
  {
    v4 = result;
    ++*(result + 16);
    result = WebCore::VisibleSelection::isContentEditable((*(*(result + 224) + 3208) + 56));
    if (result)
    {
      v5 = *(v4 + 224);
      if (v5)
      {
        *(v5 + 7) += 2;
        v6 = WebCore::Document::editor(v5);
        if (*(v5 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v5);
        }

        else
        {
          *(v5 + 7) -= 2;
        }
      }

      else
      {
        v6 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v6);
      WebCore::FontAttributeChanges::createEditingStyle(&v8, a2);
      WebCore::FontAttributeChanges::editAction(a2);
      WebCore::Editor::applyStyleToSelection();
      v7 = v8;
      v8 = 0;
      if (v7)
      {
        WTF::RefCounted<WebCore::EditingStyle>::deref(v7);
      }

      result = WebCore::Editor::deref(v6);
    }

    if (*(v4 + 16) == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::changeFont(uint64_t a1, WebCore::FontChanges *a2)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (result)
  {
    v4 = result;
    ++*(result + 16);
    result = WebCore::VisibleSelection::isContentEditable((*(*(result + 224) + 3208) + 56));
    if (result)
    {
      v5 = *(v4 + 224);
      if (v5)
      {
        *(v5 + 7) += 2;
        v6 = WebCore::Document::editor(v5);
        if (*(v5 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v5);
        }

        else
        {
          *(v5 + 7) -= 2;
        }
      }

      else
      {
        v6 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v6);
      WebCore::FontChanges::createEditingStyle(&v8, a2);
      WebCore::Editor::applyStyleToSelection();
      v7 = v8;
      v8 = 0;
      if (v7)
      {
        WTF::RefCounted<WebCore::EditingStyle>::deref(v7);
      }

      result = WebCore::Editor::deref(v6);
    }

    if (*(v4 + 16) == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::executeEditCommandWithCallback(WebKit::WebPage *a1, const WTF::String *a2, const WTF::String *a3, uint64_t *a4)
{
  WebKit::WebPage::executeEditingCommand(a1, a2, a3);
  v5 = *a4;
  *a4 = 0;
  (*(*v5 + 16))(v5);
  v6 = *(*v5 + 8);

  return v6(v5);
}

WebCore::Node *WebKit::WebPage::selectAll(WebKit::WebPage *this)
{
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  v6 = 0;
  WebKit::WebPage::executeEditingCommand(this, &v7, &v6);
  v3 = v6;
  v6 = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, v2);
  }

  v4 = v7;
  v7 = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, v2);
  }

  return WebKit::WebPage::platformDidSelectAll(this);
}

uint64_t WebKit::WebPage::executeEditingCommand(WebKit::WebPage *this, const WTF::String *a2, const WTF::String *a3)
{
  WebKit::WebPage::platformWillPerformEditingCommand(this);
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v8 = result;
    ++*(result + 16);
    result = WebKit::WebPage::focusedPluginViewForFrame(result, v7);
    if (result)
    {
      v12 = result;
      v13 = *(result + 8);
      *(result + 8) = v13 + 1;
      if (*(result + 137) == 1)
      {
        result = (*(**(result + 72) + 1120))(*(result + 72), a2, a3);
        v13 = v12[2] - 1;
      }

      if (v13)
      {
        v12[2] = v13;
      }

      else
      {
        result = (*(*v12 + 8))(v12);
      }
    }

    else
    {
      v9 = *(v8 + 224);
      if (v9)
      {
        *(v9 + 7) += 2;
        v10 = WebCore::Document::editor(v9);
        if (*(v9 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v9);
        }

        else
        {
          *(v9 + 7) -= 2;
        }
      }

      else
      {
        v10 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v10);
      WebCore::Editor::command(&v14, v10, a2);
      WebCore::Editor::Command::execute();
      v11 = v15;
      v15 = 0;
      if (v11)
      {
        if (*(v11 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v11);
        }

        else
        {
          *(v11 + 7) -= 2;
        }
      }

      result = WebCore::Editor::deref(v10);
    }

    if (*(v8 + 16) == 1)
    {
      return (*(*v8 + 8))(v8);
    }

    else
    {
      --*(v8 + 16);
    }
  }

  return result;
}

WebCore::Node *WebKit::WebPage::shouldDispatchSyntheticMouseEventsWhenModifyingSelection(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (v1)
  {
    v2 = v1 + 2;
    ++v1[2];
    WebCore::Page::localTopDocument(&v7, v1);
    WTF::RefCounted<WebCore::Page>::deref(v2);
  }

  else
  {
    WebCore::Page::localTopDocument(&v7, 0);
  }

  result = v7;
  if (v7)
  {
    v4 = *(v7 + 91);
    if (!v4)
    {
      v4 = WebCore::Document::ensureQuirks(v7);
    }

    result = WebCore::Quirks::shouldDispatchSyntheticMouseEventsWhenModifyingSelection(v4);
    v5 = v7;
    v7 = 0;
    if (v5)
    {
      if (*(v5 + 7) == 2)
      {
        v6 = result;
        WebCore::Node::removedLastRef(v5);
        return v6;
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::updateEditorStateAfterLayoutIfEditabilityChanged(_DWORD *this)
{
  if (this[437] != 2)
  {
    v1 = this;
    if (!*(this + 924))
    {
      this = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
      if (this)
      {
        v2 = this;
        ++this[4];
        this = WebCore::VisibleSelection::hasEditableStyle((*(*(this + 28) + 3208) + 56));
        if (v1[437] != this)
        {
          this = WebKit::WebPage::scheduleFullEditorStateUpdate(v1);
        }

        if (v2[4] == 1)
        {
          v3 = *(*v2 + 8);

          return v3(v2);
        }

        else
        {
          --v2[4];
        }
      }
    }
  }

  return this;
}

_DWORD *WebKit::WebPage::scheduleFullEditorStateUpdate(_DWORD *this)
{
  *(this + 925) = 1;
  if (*(this + 924))
  {
    if (*(this + 1747))
    {
      *(this + 924) = 2;
    }
  }

  else
  {
    if (*(this + 1747))
    {
      v2 = 2;
    }

    else
    {
      v2 = 1;
    }

    *(this + 924) = v2;
    v3 = *(this + 7);
    if (v3)
    {
      v4 = (v3 + 8);
      ++*(v3 + 8);
      WebCore::Page::scheduleRenderingUpdate();

      return WTF::RefCounted<WebCore::Page>::deref(v4);
    }

    else
    {

      return WebCore::Page::scheduleRenderingUpdate();
    }
  }

  return this;
}

uint64_t WebKit::WebPage::renderTreeExternalRepresentation(WebKit::WebPage *this)
{
  v1 = *(*(this + 11) + 40);
  if (v1 && (v2 = *(v1 + 8)) != 0 && *(v2 + 136) != 1)
  {
    ++*(v2 + 16);
    result = WebCore::externalRepresentation();
    if (*(v2 + 16) == 1)
    {
      v4 = *(*v2 + 8);

      return v4(v2);
    }

    else
    {
      --*(v2 + 16);
    }
  }

  else
  {

    return WebCore::externalRepresentation();
  }

  return result;
}

uint64_t WebKit::WebPage::renderTreeExternalRepresentationForPrinting(WebKit::WebPage *this)
{
  v1 = *(*(this + 11) + 40);
  if (v1 && (v2 = *(v1 + 8)) != 0 && *(v2 + 136) != 1)
  {
    ++*(v2 + 16);
    result = WebCore::externalRepresentation();
    if (*(v2 + 16) == 1)
    {
      v4 = *(*v2 + 8);

      return v4(v2);
    }

    else
    {
      --*(v2 + 16);
    }
  }

  else
  {

    return WebCore::externalRepresentation();
  }

  return result;
}

_DWORD *WebKit::WebPage::renderTreeSize(WebKit::WebPage *this)
{
  result = *(this + 7);
  if (result)
  {
    v2 = result + 2;
    ++result[2];
    v3 = WebCore::Page::renderTreeSize(result);
    WTF::RefCounted<WebCore::Page>::deref(v2);
    return v3;
  }

  return result;
}

uint64_t WebKit::WebPage::setHasResourceLoadClient(uint64_t this, char a2)
{
  v2 = *(this + 56);
  if (v2)
  {
    *(v2 + 1017) = a2;
  }

  return this;
}

uint64_t WebKit::WebPage::setCanUseCredentialStorage(uint64_t this, char a2)
{
  v2 = *(this + 56);
  if (v2)
  {
    *(v2 + 1562) = a2;
  }

  return this;
}

uint64_t WebKit::WebPage::isTrackingRepaints(WebKit::WebPage *this)
{
  v1 = WebKit::WebPage::localMainFrameView(this);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 8);
  *(v1 + 8) = v2 + 1;
  v3 = *(v1 + 1478);
  if (v2)
  {
    *(v1 + 8) = v2;
  }

  else
  {
    (*(*v1 + 8))(v1);
  }

  return v3;
}

uint64_t WebKit::WebPage::localMainFrameView(WebKit::WebPage *this)
{
  result = WebKit::WebPage::mainFrameView(this);
  if (result)
  {
    v2 = result;
    if ((*(*result + 712))(result))
    {
      return 0;
    }

    else
    {
      return v2;
    }
  }

  return result;
}

uint64_t WebKit::WebPage::trackedRepaintRects@<X0>(WebKit::WebPage *this@<X0>, API::Object **a2@<X8>)
{
  result = WebKit::WebPage::localMainFrameView(this);
  if (!result)
  {
    v17 = 0;
    v18 = 0;
    API::Array::create(&v17, a2);
    return WTF::Vector<WTF::RefPtr<API::Object,WTF::RawPtrTraits<API::Object>,WTF::DefaultRefDerefTraits<API::Object>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v17, v14);
  }

  v4 = result;
  ++*(result + 8);
  v17 = 0;
  v18 = 0;
  v5 = *(result + 1164);
  if (v5)
  {
    if (v5 >> 29)
    {
      __break(0xC471u);
      return result;
    }

    v6 = WTF::fastMalloc((8 * v5));
    LODWORD(v18) = v5;
    v17 = v6;
    if (*(v4 + 1164))
    {
      v7 = v6;
      v8 = 0;
      do
      {
        v9 = v8;
        v10 = *(*(v4 + 1152) + 16 * v8);
        v15 = vcvt_hight_f64_f32(v10);
        v16 = vcvtq_f64_f32(*v10.f32);
        v11 = API::Object::newObject(0x30uLL, 37);
        v12 = API::Object::Object(v11);
        *v12 = &unk_1F10E7CB8;
        *(v12 + 1) = v16;
        *(v12 + 2) = v15;
        v8 = v9 + 1;
        *(v7 + 8 * v9) = v12;
      }

      while (v9 + 1 < *(v4 + 1164));
      HIDWORD(v18) = v9 + 1;
    }
  }

  API::Array::create(&v17, a2);
  result = WTF::Vector<WTF::RefPtr<API::Object,WTF::RawPtrTraits<API::Object>,WTF::DefaultRefDerefTraits<API::Object>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v17, v13);
  if (*(v4 + 8) == 1)
  {
    return (*(*v4 + 8))(v4);
  }

  --*(v4 + 8);
  return result;
}

uint64_t WebKit::WebPage::pluginViewForFrame(uint64_t this, WebCore::LocalFrame *a2)
{
  if (this)
  {
    v2 = *(this + 224);
    if (v2 && (*(v2 + 3518) & 8) != 0)
    {
      *(v2 + 28) += 2;
      v3 = WebCore::PluginDocument::pluginWidget(v2);
      v4 = WTF::downcast<WebKit::PluginView,WebCore::PluginViewBase>(v3);
      if (*(v2 + 28) == 2)
      {
        WebCore::Node::removedLastRef(v2);
      }

      else
      {
        *(v2 + 28) -= 2;
      }

      return v4;
    }

    else
    {
      return 0;
    }
  }

  return this;
}

uint64_t WTF::downcast<WebKit::PluginView,WebCore::PluginViewBase>(uint64_t a1)
{
  if (!a1 || ((*(*a1 + 248))(a1) & 1) != 0)
  {
    return a1;
  }

  result = 105;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::WebPage::mainFramePlugIn(WebKit::WebPage *this)
{
  WebKit::WebPage::localMainFrame(this, &v5);
  v2 = WebKit::WebPage::pluginViewForFrame(v5, v1);
  v3 = v5;
  v5 = 0;
  if (v3)
  {
    if (*(v3 + 4) == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --*(v3 + 4);
    }
  }

  return v2;
}

_DWORD *WebKit::WebPage::localMainFrame@<X0>(WebKit::WebPage *this@<X0>, uint64_t *a2@<X8>)
{
  result = *(this + 7);
  if (result)
  {
    v3 = result + 2;
    ++result[2];
    WebCore::Page::localMainFrame(a2, result);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {
    *a2 = 0;
  }

  return result;
}

uint64_t WebKit::WebPage::increaseListLevel(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v2 = result;
    ++*(result + 16);
    v3 = *(result + 224);
    if (v3)
    {
      *(v3 + 7) += 2;
      v4 = WebCore::Document::editor(v3);
      if (*(v3 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v3);
      }

      else
      {
        *(v3 + 7) -= 2;
      }
    }

    else
    {
      v4 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v4);
    WebCore::Editor::increaseSelectionListLevel(&v6, v4);
    v5 = v6;
    v6 = 0;
    if (v5)
    {
      if (*(v5 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    result = WebCore::Editor::deref(v4);
    if (v2[4] == 1)
    {
      return (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::decreaseListLevel(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v2 = result;
    ++*(result + 16);
    v3 = *(result + 224);
    if (v3)
    {
      *(v3 + 7) += 2;
      v4 = WebCore::Document::editor(v3);
      if (*(v3 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v3);
      }

      else
      {
        *(v3 + 7) -= 2;
      }
    }

    else
    {
      v4 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v4);
    WebCore::Editor::decreaseSelectionListLevel(v4);
    result = WebCore::Editor::deref(v4);
    if (v2[4] == 1)
    {
      v5 = *(*v2 + 8);

      return v5(v2);
    }

    else
    {
      --v2[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::changeListType(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v2 = result;
    ++*(result + 16);
    v3 = *(result + 224);
    if (v3)
    {
      *(v3 + 7) += 2;
      v4 = WebCore::Document::editor(v3);
      if (*(v3 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v3);
      }

      else
      {
        *(v3 + 7) -= 2;
      }
    }

    else
    {
      v4 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v4);
    WebCore::Editor::changeSelectionListType(v4);
    result = WebCore::Editor::deref(v4);
    if (v2[4] == 1)
    {
      v5 = *(*v2 + 8);

      return v5(v2);
    }

    else
    {
      --v2[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::setBaseWritingDirection(uint64_t a1)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (result)
  {
    v2 = result;
    ++*(result + 16);
    v3 = *(result + 224);
    if (v3)
    {
      *(v3 + 7) += 2;
      v4 = WebCore::Document::editor(v3);
      if (*(v3 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v3);
      }

      else
      {
        *(v3 + 7) -= 2;
      }
    }

    else
    {
      v4 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v4);
    WebCore::Editor::setBaseWritingDirection();
    result = WebCore::Editor::deref(v4);
    if (v2[4] == 1)
    {
      v5 = *(*v2 + 8);

      return v5(v2);
    }

    else
    {
      --v2[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::enterAcceleratedCompositingMode(uint64_t a1)
{
  v1 = *(a1 + 72);
  if (v1)
  {
    ++v1[4];
  }

  result = (*(*v1 + 256))(v1);
  if (v1[4] == 1)
  {
    v3 = *(*v1 + 24);

    return v3(v1);
  }

  else
  {
    --v1[4];
  }

  return result;
}

uint64_t WebKit::WebPage::exitAcceleratedCompositingMode(uint64_t a1, uint64_t a2)
{
  v2 = *(a1 + 72);
  if (v2)
  {
    ++v2[4];
  }

  result = (*(*v2 + 256))(v2, a2, 0);
  if (v2[4] == 1)
  {
    v4 = *(*v2 + 24);

    return v4(v2);
  }

  else
  {
    --v2[4];
  }

  return result;
}

_BYTE *WebKit::WebPage::close(_BYTE *this)
{
  v69 = *MEMORY[0x1E69E9840];
  if ((this[202] & 1) == 0)
  {
    v1 = this;
    v2 = WebKit::WebPage::flushDeferredDidReceiveMouseEvent(this);
    v3 = WebCore::logClient(v2);
    v4 = WTF::downcast<WebKit::LogClient,WebCore::LogClient>(*v3);
    if (v4)
    {
      WebKit::LogClient::WEBPAGE_CLOSE(v4, *(v1 + 6));
    }

    else
    {
      v60 = qword_1ED640D10;
      v5 = os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT);
      if (v5)
      {
        v61 = *(v1 + 6);
        *v68 = 134217984;
        *&v68[4] = v61;
        _os_log_impl(&dword_19D52D000, v60, OS_LOG_TYPE_DEFAULT, "[webPageID=%llu] WebPage::close", v68, 0xCu);
      }
    }

    v7 = WebKit::WebProcess::singleton(v5, v6);
    v8 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v7) + 24);
    *v68 = v1 + 48;
    IPC::Connection::send<Messages::NetworkConnectionToWebProcess::ClearPageSpecificData>(v8, v68);
    v1[202] = 1;
    WebKit::WebFrame::url(*(v1 + 11), v68);
    v10 = *v68;
    if (*v68)
    {
      v11 = *(*v68 + 4);
      *v68 = 0;
      if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        v10 = WTF::StringImpl::destroy(v10, v9);
      }

      if (v11)
      {
        v10 = WebKit::WebPage::reportUsedFeatures(v1);
      }
    }

    v12 = WebKit::WebProcess::singleton(v10, v9);
    if (*(v12 + 19))
    {
      v14 = *(WebKit::WebProcess::singleton(v12, v13) + 19);
      CFRetain(*(v1 + 1));
      WebKit::InjectedBundle::willDestroyPage(v14, v1);
      CFRelease(*(v1 + 1));
    }

    v15 = *(v1 + 53);
    *(v1 + 53) = 0;
    if (v15)
    {
      WebKit::WebInspector::close(v15, v13);
      if (atomic_fetch_add(v15 + 5, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v15 + 5);
        (*(*v15 + 24))(v15);
      }
    }

    WebCore::InspectorController::disconnectAllFrontends(*(*(v1 + 7) + 88));
    v17 = *(v1 + 65);
    *(v1 + 65) = 0;
    if (v17)
    {
      WebKit::WebFullScreenManager::invalidate(v17);
      if (*(v17 + 4) == 1)
      {
        (*(*v17 + 8))(v17);
      }

      else
      {
        --*(v17 + 4);
      }
    }

    v18 = *(v1 + 67);
    *(v1 + 67) = 0;
    if (v18)
    {
      v65 = *(v18 + 24);
      *(v18 + 24) = 0;
      if (v65 && atomic_fetch_add(v65, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v65);
        WTF::fastFree(v65, v16);
      }

      if (*(v18 + 8) == 1)
      {
        (*(*v18 + 8))(v18);
      }

      else
      {
        --*(v18 + 8);
      }
    }

    v19 = *(v1 + 71);
    *(v1 + 71) = 0;
    if (v19)
    {
      v66 = *(v19 + 1);
      *(v19 + 1) = 0;
      if (v66 && atomic_fetch_add(v66, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v66);
        WTF::fastFree(v66, v16);
      }

      WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v19, v16);
    }

    v20 = *(v1 + 68);
    if (v20)
    {
      v62 = *(v20 + 8);
      if (v62)
      {
        ++*(v62 + 4);
        WebKit::WebColorChooser::disconnectFromPage(v62, v16);
        v64 = *(v1 + 68);
        *(v1 + 68) = 0;
        if (v64 && atomic_fetch_add(v64, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v64);
          WTF::fastFree(v64, v63);
        }

        if (*(v62 + 4) == 1)
        {
          (*(*v62 + 24))(v62);
        }

        else
        {
          --*(v62 + 4);
        }
      }
    }

    WebKit::WebPage::SandboxExtensionTracker::invalidate(v1 + 81);
    if ((*(v1 + 238) & 0xFFFFFFFFFFFFLL) != 0)
    {
      WebCore::TimerBase::stopSlowCase((v1 + 1872));
    }

    WebKit::WebPage::invokePendingSyntheticClickCallback(v1);
    v22 = *(v1 + 190);
    *(v1 + 190) = v22 & 0xFDFFFFFFFFFFFFLL;
    if ((v22 & 0xFFFFFFFFFFFFLL) != 0)
    {
      WebCore::TimerBase::stopSlowCase((v1 + 1488));
    }

    v24 = API::InjectedBundle::EditorClient::operator new(8, v21);
    *v24 = &unk_1F112B838;
    v25 = *(v1 + 46);
    *(v1 + 46) = v24;
    if (v25)
    {
      (*(*v25 + 8))(v25);
    }

    v27 = API::InjectedBundle::FormClient::operator new(8, v23);
    *v27 = &unk_1F1133A90;
    v28 = *(v1 + 47);
    *(v1 + 47) = v27;
    if (v28)
    {
      (*(*v28 + 8))(v28);
    }

    v30 = API::InjectedBundle::PageLoaderClient::operator new(8, v26);
    *v30 = &unk_1F1133B08;
    v31 = *(v1 + 48);
    *(v1 + 48) = v30;
    if (v31)
    {
      (*(*v31 + 8))(v31);
    }

    v33 = API::InjectedBundle::ResourceLoadClient::operator new(8, v29);
    *v33 = &unk_1F1133C30;
    v34 = *(v1 + 49);
    *(v1 + 49) = v33;
    if (v34)
    {
      (*(*v34 + 8))(v34);
    }

    v35 = API::InjectedBundle::PageUIClient::operator new(8, v32);
    *v35 = &unk_1F1133C90;
    v36 = *(v1 + 50);
    *(v1 + 50) = v35;
    if (v36)
    {
      (*(*v36 + 8))(v36);
    }

    v37 = *(v1 + 79);
    *(v1 + 79) = 0;
    if (v37)
    {
      (*(*v37 + 24))(v37);
    }

    v38 = *(*(v1 + 11) + 40);
    if (v38)
    {
      v39 = *(v38 + 8);
      if (v39)
      {
        if ((*(v39 + 136) & 1) == 0)
        {
          ++*(v39 + 16);
          WebCore::FrameLoader::detachFromParent(*(v39 + 208));
          if (*(v39 + 16) == 1)
          {
            (*(*v39 + 8))(v39);
          }

          else
          {
            --*(v39 + 16);
          }
        }
      }
    }

    v40 = *(v1 + 7);
    if (v40)
    {
      v41 = v40 + 2;
      ++v40[2];
      WebCore::Page::destroyRenderTrees(v40);
      WTF::RefCounted<WebCore::Page>::deref(v41);
    }

    else
    {
      WebCore::Page::destroyRenderTrees(0);
    }

    v43 = *(v1 + 9);
    *(v1 + 9) = 0;
    if (v43)
    {
      if (v43[4] == 1)
      {
        (*(*v43 + 24))(v43);
      }

      else
      {
        --v43[4];
      }
    }

    v44 = *(v1 + 10);
    *(v1 + 10) = 0;
    if (v44)
    {
      if (*(v44 + 4) == 1)
      {
        v44 = (*(*v44 + 24))(v44);
      }

      else
      {
        --*(v44 + 4);
      }
    }

    v45 = *(v1 + 7);
    *(v1 + 7) = 0;
    if (v45)
    {
      v44 = WTF::RefCounted<WebCore::Page>::deref((v45 + 8));
    }

    v46 = v1[770];
    v1[770] = 0;
    v47 = *(v1 + 228);
    if (v47)
    {
      v44 = *(v47 + 8);
      if (v44)
      {
        v48 = (v44 + 32);
        ++*(v44 + 8);
        WebKit::WebRemoteObjectRegistry::close(v44);
        v44 = WTF::RefCounted<WebKit::WebRemoteObjectRegistry>::deref(v48);
      }
    }

    v49 = WebKit::WebProcess::singleton(v44, v42);
    WebKit::AuxiliaryProcess::removeMessageReceiver(v49, 0xB8u, *(v1 + 6));
    WebKit::AuxiliaryProcess::removeMessageReceiver(v49, 0xB0u, *(v1 + 6));
    WebKit::AuxiliaryProcess::removeMessageReceiver(v49, 0xB2u, *(v1 + 6));
    WebKit::AuxiliaryProcess::removeMessageReceiver(v49, 0x82u, *(v1 + 6));
    WebKit::AuxiliaryProcess::removeMessageReceiver(v49, 0xABu, *(v1 + 6));
    v50 = *(v1 + 35);
    *(v1 + 35) = 0;
    if (v50)
    {
      if (v50[4] == 1)
      {
        (*(*v50 + 24))(v50);
      }

      else
      {
        --v50[4];
      }
    }

    v51 = WebKit::WebPage::stopObservingNowPlayingMetadata(v1);
    v53 = *(v1 + 242);
    if (v53)
    {
      atomic_fetch_add_explicit(v53, 2u, memory_order_relaxed);
    }

    *v68 = v53;
    v54 = WebKit::WebProcess::singleton(v51, v52);
    v55 = WebKit::WebProcess::removeWebPage(v54, *(v1 + 6));
    v57 = WebKit::WebProcess::singleton(v55, v56);
    isIntegralOrPointerType = WTF::isIntegralOrPointerType(v57);
    if (v46)
    {
      v67 = WTF::RunLoop::mainSingleton(isIntegralOrPointerType);
      WTF::RunLoop::stop(v67);
    }

    this = *v68;
    *v68 = 0;
    if (this)
    {
      if (atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(this, v59);
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::flushDeferredDidReceiveMouseEvent(uint64_t this)
{
  v3 = *(this + 836);
  if ((v3 & 0x1000000) != 0)
  {
    *(this + 839) = 0;
    if ((v3 & 0x100) != 0)
    {
      v7 = v1;
      v8 = v2;
      v4[0] = 0;
      v4[16] = 0;
      v5[0] = v3;
      v5[1] = BYTE2(v3) & 1;
      v6 = v4;
      return IPC::MessageSender::send<Messages::WebPageProxy::DidReceiveEventIPC>(this + 32, v5);
    }

    else
    {
      __break(1u);
    }
  }

  return this;
}

void WebKit::LogClient::WEBPAGE_CLOSE(WebKit::LogClient *this, uint64_t a2)
{
  os_unfair_lock_lock(this + 4);
  v4 = *(this + 1);
  v5 = a2;
  IPC::StreamClientConnection::send<Messages::LogStream::WEBPAGE_CLOSE,WebKit::LogStreamIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>(v4, &v5, *(this + 3));

  os_unfair_lock_unlock(this + 4);
}

IPC::Encoder *IPC::Connection::send<Messages::NetworkConnectionToWebProcess::ClearPageSpecificData>(uint64_t *a1, void **a2)
{
  v4 = IPC::Encoder::operator new(0x238, a2);
  *v4 = 432;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v4, **a2);
  IPC::Connection::sendMessageImpl(a1, &v9, 0, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

uint64_t WebKit::WebPage::reportUsedFeatures(WebKit::WebPage *this)
{
  v3[0] = 0;
  v3[1] = 0;
  (*(**(this + 48) + 256))(*(this + 48), this, v3);
  return WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3, v1);
}

WebCore::PlatformMediaSessionManager *WebKit::WebPage::stopObservingNowPlayingMetadata(WebKit::WebPage *this)
{
  v1 = *(this + 268);
  *(this + 268) = 0;
  result = std::unique_ptr<WTF::Observer<void ()(WebCore::NowPlayingMetadata const&)>>::reset[abi:sn200100](this + 268, 0);
  if (v1)
  {
    WebCore::PlatformMediaSessionManager::singleton(result);
    WebCore::PlatformMediaSessionManager::removeNowPlayingMetadataObserver();
    v4 = WTF::Observer<void ()(WebCore::NowPlayingMetadata const&)>::~Observer(v1, v3);

    return WTF::fastFree(v4, v5);
  }

  return result;
}

uint64_t WebKit::WebPage::tryClose(uint64_t a1, uint64_t *a2)
{
  v3 = *(*(a1 + 88) + 40);
  if (v3 && (v4 = *(v3 + 8)) != 0 && *(v4 + 136) != 1)
  {
    ++*(v4 + 16);
    shouldClose = WebCore::FrameLoader::shouldClose(*(v4 + 208));
    v6 = *a2;
    *a2 = 0;
    (*(*v6 + 16))(v6, shouldClose);
    result = (*(*v6 + 8))(v6);
    if (*(v4 + 16) != 1)
    {
      --*(v4 + 16);
      return result;
    }

    v9 = *(*v4 + 8);
    v10 = v4;
  }

  else
  {
    v8 = *a2;
    *a2 = 0;
    (*(*v8 + 16))(v8, 0);
    v9 = *(*v8 + 8);
    v10 = v8;
  }

  return v9(v10);
}

IPC::Encoder *WebKit::WebPage::sendClose(WebKit::WebPage *this)
{
  v1 = this + 32;
  v2 = (*(*(this + 4) + 56))(this + 32);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2162;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*v1 + 32))(v1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

void WebKit::WebPage::loadURLInFrame(uint64_t a1, void *a2, const WTF::String *a3, uint64_t a4)
{
  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v19 = WebKit::WebProcess::operator new(0x370, a2);
    v7 = WebKit::WebProcess::WebProcess(v19);
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  v8 = WebKit::WebProcess::webFrame(v7, a4, 1);
  if (v8)
  {
    v9 = v8;
    CFRetain(*(v8 + 8));
    v10 = *(*(v9 + 40) + 8);
    ++v10[4];
    v11 = *a2;
    if (*a2)
    {
      atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
    }

    v26 = v11;
    v27 = *(a2 + 1);
    v28 = *(a2 + 3);
    WebCore::ResourceRequestBase::ResourceRequestBase(v29, &v26, 0);
    v30 = 0;
    WebCore::ResourceRequestBase::setHTTPReferrer(v29, a3);
    *cf = 0u;
    v25 = 0u;
    v22 = 0u;
    memset(v23, 0, sizeof(v23));
    *v20 = 0u;
    v21 = 0u;
    WebCore::SubstituteData::SubstituteData(v20);
    MEMORY[0x19EB068B0](v31, v10, v29, v20);
    WebCore::FrameLoader::load();
    MEMORY[0x19EB068C0](v31);
    v13 = cf[1];
    cf[1] = 0;
    if (v13)
    {
      CFRelease(v13);
    }

    WebCore::ResourceResponseBase::~ResourceResponseBase(v23, v12);
    v15 = v20[1];
    v20[1] = 0;
    if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v15, v14);
    }

    v16 = v20[0];
    v20[0] = 0;
    if (v16 && atomic_fetch_add(v16 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v16 + 2);
      (*(*v16 + 8))(v16);
    }

    WebCore::ResourceRequest::~ResourceRequest(v29);
    v18 = v26;
    v26 = 0;
    if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v18, v17);
    }

    if (v10[4] == 1)
    {
      (*(*v10 + 8))(v10);
    }

    else
    {
      --v10[4];
    }

    CFRelease(*(v9 + 8));
  }
}

void WebKit::WebPage::loadDataInFrame(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  v41[1] = a2;
  v41[2] = a3;
  {
    v9 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v28 = WebKit::WebProcess::operator new(0x370, a2);
    v9 = WebKit::WebProcess::WebProcess(v28);
    WebKit::WebProcess::singleton(void)::process = v9;
  }

  v10 = WebKit::WebProcess::webFrame(v9, a7, 1);
  if (v10)
  {
    v11 = v10;
    CFRetain(*(v10 + 8));
    WebCore::SharedBuffer::create<std::span<unsigned char const,18446744073709551615ul> &>(v41);
    v12 = *a6;
    if (*a6)
    {
      atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
    }

    v30 = v12;
    v31 = *(a6 + 8);
    v32 = *(a6 + 24);
    WebCore::ResourceResponseBase::ResourceResponseBase();
    v39 = 0;
    v40 = 0;
    v38 = v38 & 0xF1 | 4;
    v14 = v30;
    v30 = 0;
    if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v14, v13);
    }

    v15 = v41[0];
    v41[0] = 0;
    v29[0] = v15;
    v16 = *a6;
    if (*a6)
    {
      atomic_fetch_add_explicit(v16, 2u, memory_order_relaxed);
    }

    v30 = v16;
    v31 = *(a6 + 8);
    v32 = *(a6 + 24);
    WebCore::SubstituteData::SubstituteData(&v33, v29, &v30, v37, 1);
    v18 = v30;
    v30 = 0;
    if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v18, v17);
    }

    v19 = v29[0];
    v29[0] = 0;
    if (v19 && atomic_fetch_add(v19 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v19 + 2);
      (*(*v19 + 8))(v19);
    }

    if (*(*(*(v11 + 40) + 8) + 136))
    {
      v20 = 0;
    }

    else
    {
      v20 = *(*(v11 + 40) + 8);
    }

    WebCore::ResourceRequestBase::ResourceRequestBase(v29, a6, 0);
    v29[24] = 0;
    MEMORY[0x19EB068B0](&v30, v20, v29, &v33);
    WebCore::FrameLoader::load();
    MEMORY[0x19EB068C0](&v30);
    WebCore::ResourceRequest::~ResourceRequest(v29);
    v22 = cf;
    cf = 0;
    if (v22)
    {
      CFRelease(v22);
    }

    WebCore::ResourceResponseBase::~ResourceResponseBase(&v35, v21);
    v24 = v34;
    v34 = 0;
    if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v24, v23);
    }

    v25 = v33;
    v33 = 0;
    if (v25 && atomic_fetch_add(v25 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v25 + 2);
      (*(*v25 + 8))(v25);
    }

    v26 = v39;
    v39 = 0;
    if (v26)
    {
      CFRelease(v26);
    }

    WebCore::ResourceResponseBase::~ResourceResponseBase(v37, v23);
    v27 = v41[0];
    v41[0] = 0;
    if (v27)
    {
      if (atomic_fetch_add(v27 + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v27 + 2);
        (*(*v27 + 8))(v27);
      }
    }

    CFRelease(*(v11 + 8));
  }
}

uint64_t WebCore::SubstituteData::SubstituteData(uint64_t a1, uint64_t *a2, uint64_t *a3, uint64_t a4, char a5)
{
  v8 = *a2;
  *a2 = 0;
  *a1 = v8;
  WTF::URL::URL(a1 + 8, a3);
  WTF::URL::URL(a1 + 48, a4);
  v9 = *(a4 + 40);
  v10 = *(a4 + 48);
  *(a4 + 40) = 0;
  *(a1 + 88) = v9;
  *(a1 + 96) = v10;
  v11 = *(a4 + 56);
  *(a4 + 56) = 0;
  *(a1 + 104) = v11;
  v12 = *(a4 + 64);
  *(a4 + 64) = 0;
  *(a1 + 112) = v12;
  v13 = *(a4 + 72);
  *(a4 + 72) = 0;
  *(a1 + 120) = v13;
  *(a1 + 136) = 0;
  *(a1 + 128) = 0;
  WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(a1 + 128, (a4 + 80));
  *(a1 + 144) = 0;
  *(a1 + 152) = 0;
  WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(a1 + 144, (a4 + 96));
  v14 = *(a4 + 112);
  *(a4 + 112) = 0;
  *(a1 + 160) = v14;
  *(a1 + 168) = 0;
  *(a1 + 176) = 0;
  if (*(a4 + 128) == 1)
  {
    v23 = *(a4 + 120);
    *(a4 + 120) = 0;
    *(a1 + 168) = v23;
    *(a1 + 176) = 1;
  }

  v15 = *(a4 + 136);
  *(a1 + 186) = *(a4 + 138);
  *(a1 + 184) = v15;
  v16 = *(a4 + 144);
  *(a4 + 144) = 0;
  *(a1 + 192) = v16;
  v17 = *(a4 + 152);
  *(a1 + 216) = *(a4 + 168);
  *(a1 + 200) = v17;
  v18 = *(a4 + 184);
  v19 = *(a4 + 200);
  v20 = *(a4 + 216);
  *(a1 + 275) = *(a4 + 227);
  *(a1 + 264) = v20;
  *(a1 + 248) = v19;
  *(a1 + 232) = v18;
  v21 = *(a4 + 248);
  *(a4 + 248) = 0;
  *(a1 + 296) = v21;
  *(a1 + 304) = *(a4 + 256);
  *(a1 + 312) = a5;
  return a1;
}

void WebKit::WebPage::loadDidCommitInAnotherProcess(uint64_t a1, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v7 = a2;
    v6 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v6);
    a2 = v7;
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  v3 = WebKit::WebProcess::webFrame(v2, a2, 1);
  if (v3)
  {
    v4 = v3;
    CFRetain(*(v3 + 8));
    WebKit::WebFrame::loadDidCommitInAnotherProcess(v4);
    v5 = *(v4 + 8);

    CFRelease(v5);
  }
}

void WebKit::WebPage::loadRequest(uint64_t a1, uint64_t a2)
{
  v86 = *MEMORY[0x1E69E9840];
  v4 = WebCore::logClient(a1);
  v5 = WTF::downcast<WebKit::LogClient,WebCore::LogClient>(*v4);
  if (v5)
  {
    if (*(a2 + 16))
    {
      v39 = *(a2 + 8);
    }

    else
    {
      v39 = 0;
    }

    if (*(a2 + 912))
    {
      v40 = *(a2 + 904);
    }

    else
    {
      v40 = 0;
    }

    WebKit::LogClient::WEBPAGE_LOADREQUEST(v5, *(a1 + 48), v39, *(a2 + 801), (*(a2 + 188) >> 2) & 1, v40);
  }

  else
  {
    v6 = qword_1ED640D10;
    v7 = os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT);
    if (v7)
    {
      v43 = *(a1 + 48);
      if (*(a2 + 16))
      {
        v44 = *(a2 + 8);
      }

      else
      {
        v44 = 0;
      }

      v45 = *(a2 + 801);
      v46 = (*(a2 + 188) >> 2) & 1;
      if (*(a2 + 912))
      {
        v47 = *(a2 + 904);
      }

      else
      {
        v47 = 0;
      }

      *buf = 134219008;
      *&buf[4] = v43;
      v70 = 2048;
      v71 = v44;
      v72 = 1024;
      v73 = v45;
      v74 = 1024;
      v75 = v46;
      v76 = 2048;
      v77 = v47;
      _os_log_impl(&dword_19D52D000, v6, OS_LOG_TYPE_DEFAULT, "[webPageID=%llu] WebPage::loadRequest: navigationID=%llu, shouldTreatAsContinuingLoad=%u, lastNavigationWasAppInitiated=%d, existingNetworkResourceLoadIdentifierToResume=%llu", buf, 0x2Cu);
    }
  }

  if (*(a2 + 32) == 1)
  {
    v41 = WebKit::WebProcess::singleton(v7, v8);
    if ((*(a2 + 32) & 1) == 0)
    {
      __break(1u);
    }

    v9 = WebKit::WebProcess::webFrame(v41, *(a2 + 24), 1);
  }

  else
  {
    v9 = *(a1 + 88);
  }

  if (v9)
  {
    v10 = CFRetain(*(v9 + 8));
    v12 = *(v9 + 40);
    if (v12 && (v13 = *(v12 + 8)) != 0 && *(v13 + 136) != 1 || (v13 = *(v9 + 56)) != 0)
    {
      ++*(v13 + 16);
      *(a1 + 1947) = (*(a2 + 188) & 4) != 0;
      *(v9 + 128) = *(a2 + 896);
      *(a1 + 1946) = 1;
      v14 = *(WebKit::WebProcess::singleton(v10, v11) + 43);
      v15 = *(a2 + 912);
      *(v14 + 120) = *(a2 + 904);
      *(v14 + 128) = v15;
      if (*(a2 + 16))
      {
        v16 = *(a2 + 8);
      }

      else
      {
        v16 = 0;
      }

      *(a1 + 1736) = v16;
      std::__optional_storage_base<WebKit::WebsitePoliciesData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebKit::WebsitePoliciesData,false>>((*(a1 + 40) + 176), a2 + 296);
      v17 = WebKit::WebPage::SandboxExtensionTracker::beginLoad((a1 + 648), (a2 + 240));
      v18 = *(a1 + 384);
      WebKit::WebProcess::singleton(v17, v19);
      v20 = *(a2 + 808);
      if (v20)
      {
        CFRetain(v20[1]);
      }

      *buf = &unk_1F11223F0;
      WebKit::UserData::transform(v20, buf, v51);
      v21 = (*(*v18 + 16))(v18, a1, a2 + 40, *&v51[0]);
      v22 = *&v51[0];
      *&v51[0] = 0;
      if (v22)
      {
        CFRelease(*(v22 + 8));
      }

      if (v20)
      {
        CFRelease(v20[1]);
      }

      WebCore::PublicSuffixStore::singleton(v21);
      WebCore::PublicSuffixStore::addPublicSuffix();
      v23 = *(a2 + 928);
      *(a1 + 296) = *(a2 + 936);
      *(a1 + 288) = v23;
      if (*(a2 + 784) == 1 && (*(a2 + 32) & 1) == 0)
      {
        v24 = WTF::fastMalloc(0x160);
        WebKit::FrameInfoData::FrameInfoData(v24, (a2 + 432));
        *buf = 0;
        v26 = *(a1 + 2152);
        *(a1 + 2152) = v24;
        if (v26)
        {
          WebKit::FrameInfoData::~FrameInfoData(v26);
          WTF::fastFree(v48, v49);
        }

        std::unique_ptr<WebKit::FrameInfoData>::~unique_ptr[abi:sn200100](buf, v25);
      }

      v67 = 0u;
      v68 = 0u;
      v65 = 0u;
      v66 = 0u;
      v63 = 0u;
      v64 = 0u;
      v61 = 0u;
      v62 = 0u;
      v59 = 0u;
      v60 = 0u;
      v57 = 0u;
      v58 = 0u;
      v55 = 0u;
      v56 = 0u;
      v54 = 0u;
      v52 = 0u;
      v53 = 0u;
      memset(v51, 0, sizeof(v51));
      WebCore::SubstituteData::SubstituteData(v51);
      MEMORY[0x19EB068B0](buf, v13, a2 + 40, v51);
      WebCore::SubstituteData::~SubstituteData(v51, v27);
      v81 = *(a2 + 800);
      v79 = *(a2 + 801);
      v80 = *(a2 + 816);
      v29 = *(a2 + 824);
      *(a2 + 824) = 0;
      v30 = v78;
      v78 = v29;
      if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v30, v28);
      }

      v85 = *(a2 + 946);
      if (*(a2 + 944) == 1)
      {
        v82 = 1;
      }

      if (*(a2 + 950) == 1)
      {
        v42 = *(a2 + 948);
        if ((v84 & 1) == 0)
        {
          v84 = 1;
        }

        v83 = v42;
      }

      if (*(a2 + 832))
      {
        WebCore::LocalFrame::updateSandboxFlags();
      }

      v50[0] = 0;
      v50[48] = 0;
      std::exchange[abi:sn200100]<std::optional<WebCore::OwnerPermissionsPolicyData>,std::optional<WebCore::OwnerPermissionsPolicyData>>(v51, (a2 + 840), v50);
      std::optional<WebCore::OwnerPermissionsPolicyData>::~optional(v50, v31);
      if (v52 == 1)
      {
        WebCore::Frame::setOwnerPermissionsPolicy();
      }

      std::optional<WebCore::OwnerPermissionsPolicyData>::~optional(v51, v32);
      v33 = *(v13 + 208);
      *(v33 + 402) = *(a2 + 945);
      *(v33 + 408) = *(a2 + 952);
      WebCore::FrameLoader::load();
      v34 = MEMORY[0x19EB068C0](buf);
      WebKit::SendStopResponsivenessTimer::~SendStopResponsivenessTimer(v34, v35);
      v38 = *(WebKit::WebProcess::singleton(v36, v37) + 43);
      *(v38 + 120) = 0;
      *(v38 + 128) = 0;
      if (*(v13 + 16) == 1)
      {
        (*(*v13 + 8))(v13);
      }

      else
      {
        --*(v13 + 16);
      }
    }

    CFRelease(*(v9 + 8));
  }
}

void WebKit::LogClient::WEBPAGE_LOADREQUEST(WebKit::LogClient *this, uint64_t a2, uint64_t a3, int a4, int a5, uint64_t a6)
{
  v13 = a4;
  v12 = a5;
  os_unfair_lock_lock(this + 4);
  v10 = *(this + 1);
  v11[0] = a2;
  v11[1] = a3;
  v11[2] = &v13;
  v11[3] = &v12;
  v11[4] = a6;
  IPC::StreamClientConnection::send<Messages::LogStream::WEBPAGE_LOADREQUEST,WebKit::LogStreamIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>(v10, v11, *(this + 3));
  os_unfair_lock_unlock(this + 4);
}

WebKit::SandboxExtension *WebKit::WebPage::SandboxExtensionTracker::beginLoad(WebKit::SandboxExtension **a1, uint64_t *a2)
{
  if (*a2)
  {
    result = WTF::fastMalloc(0x18);
    *result = 1;
    v5 = *a2;
    *a2 = 0;
    *(result + 1) = v5;
    *(result + 2) = 0;
  }

  else
  {
    result = 0;
  }

  v6 = *a1;
  *a1 = result;
  if (v6)
  {

    return WTF::RefCounted<WebKit::SandboxExtension>::deref(v6);
  }

  return result;
}

_BYTE *std::exchange[abi:sn200100]<std::optional<WebCore::OwnerPermissionsPolicyData>,std::optional<WebCore::OwnerPermissionsPolicyData>>(_BYTE *a1, _BYTE *a2, uint64_t a3)
{
  *a1 = 0;
  a1[48] = 0;
  if (a2[48] == 1)
  {
    std::__optional_storage_base<WebCore::OwnerPermissionsPolicyData,false>::__construct[abi:sn200100]<WebCore::OwnerPermissionsPolicyData>(a1, a2);
  }

  return std::__optional_storage_base<WebCore::OwnerPermissionsPolicyData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::OwnerPermissionsPolicyData,false>>(a2, a3);
}

void WebKit::WebPage::loadDataImpl(uint64_t a1, uint64_t a2, char a3, char a4, uint64_t a5, uint64_t *a6, uint64_t a7, uint64_t a8, uint64_t *a9, CFTypeRef **a10, __int16 a11, int a12, char a13, char a14)
{
  v20 = *(a1 + 88);
  CFRetain(*(v20 + 8));
  *(v20 + 128) = a11;
  *(a1 + 1946) = 1;
  *(v20 + 130) = 0;
  if (a3)
  {
    v21 = a2;
  }

  else
  {
    v21 = 0;
  }

  *(a1 + 1736) = v21;
  std::__optional_storage_base<WebKit::WebsitePoliciesData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebKit::WebsitePoliciesData,false>>((*(a1 + 40) + 176), a5);
  v22 = *a6;
  *a6 = 0;
  v43[0] = v22;
  WebCore::SubstituteData::SubstituteData(&v49, v43, a9, a8, a13);
  v23 = v43[0];
  v43[0] = 0;
  if (v23 && atomic_fetch_add(v23 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v23 + 2);
    (*(*v23 + 8))(v23);
  }

  v24 = *(a1 + 384);
  v25 = v49;
  if (v49)
  {
    atomic_fetch_add(v49 + 2, 1u);
  }

  v48 = v25;
  v26 = WebCore::ResourceResponseBase::mimeType(v51);
  v28 = WebCore::ResourceResponseBase::textEncodingName(v51);
  {
    v40 = WebKit::WebProcess::operator new(0x370, v27);
    WebKit::WebProcess::singleton(void)::process = WebKit::WebProcess::WebProcess(v40);
  }

  v29 = *a10;
  if (*a10)
  {
    CFRetain(v29[1]);
  }

  v43[0] = &unk_1F11223F0;
  WebKit::UserData::transform(v29, v43, &v47);
  (*(*v24 + 24))(v24, a1, a7, &v48, v26, v28, &v50, v47);
  v31 = v47;
  v47 = 0;
  if (v31)
  {
    CFRelease(*(v31 + 1));
    if (!v29)
    {
      goto LABEL_15;
    }

LABEL_35:
    CFRelease(v29[1]);
    goto LABEL_15;
  }

  if (v29)
  {
    goto LABEL_35;
  }

LABEL_15:
  v32 = v48;
  v48 = 0;
  if (v32 && atomic_fetch_add(v32 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v32 + 2);
    (*(*v32 + 8))(v32);
  }

  v33 = *(a1 + 88);
  v34 = *(v33 + 40);
  if (v34 && (v35 = *(v34 + 8)) != 0 && *(v35 + 136) != 1 || (v35 = *(v33 + 56)) != 0)
  {
    ++*(v35 + 16);
    MEMORY[0x19EB068B0](v43, v35, a7, &v49);
    v45 = a14;
    v44 = a4;
    v46 = 1;
    WebCore::FrameLoader::load();
    MEMORY[0x19EB068C0](v43);
    if (*(v35 + 16) == 1)
    {
      (*(*v35 + 8))(v35);
    }

    else
    {
      --*(v35 + 16);
    }
  }

  v36 = cf;
  cf = 0;
  if (v36)
  {
    CFRelease(v36);
  }

  WebCore::ResourceResponseBase::~ResourceResponseBase(v51, v30);
  v38 = v50;
  v50 = 0;
  if (v38 && atomic_fetch_add_explicit(v38, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v38, v37);
  }

  v39 = v49;
  v49 = 0;
  if (v39 && atomic_fetch_add(v39 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v39 + 2);
    v39 = (*(*v39 + 8))(v39);
  }

  WebKit::SendStopResponsivenessTimer::~SendStopResponsivenessTimer(v39, v37);
  CFRelease(*(v20 + 8));
}

WTF::StringImpl *WebKit::WebPage::loadData(uint64_t a1, uint64_t a2)
{
  v53 = *MEMORY[0x1E69E9840];
  v4 = qword_1ED640D10;
  v5 = os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT);
  if (v5)
  {
    v6 = *(a1 + 48);
    if (*(a2 + 16))
    {
      v7 = *(a2 + 8);
    }

    else
    {
      v7 = 0;
    }

    v8 = *(a2 + 801);
    *buf = 134218752;
    *&buf[4] = a1;
    v44 = 2048;
    v45 = v6;
    v46 = 2048;
    v47 = v7;
    v48 = 1024;
    v49 = v8;
    _os_log_impl(&dword_19D52D000, v4, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::loadData: navigationID=%llu, shouldTreatAsContinuingLoad=%u", buf, 0x26u);
  }

  WebCore::PublicSuffixStore::singleton(v5);
  result = WebCore::PublicSuffixStore::addPublicSuffix();
  v10 = *(a2 + 928);
  *(a1 + 296) = *(a2 + 936);
  *(a1 + 288) = v10;
  v11 = *(a2 + 248);
  if (v11)
  {
    atomic_fetch_add((v11 + 8), 1u);
    v40 = 0;
    v12 = WTF::URL::invalidate(&v40);
    v13 = *(a2 + 272);
    if (v13 && *(v13 + 4))
    {
      MEMORY[0x19EB01DD0](buf, a2 + 272, 0);
      WTF::URL::operator=(&v40, buf);
      v15 = *buf;
      *buf = 0;
      if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v15, v14);
      }

      if ((v41 & 3) == 1)
      {
        WTF::URL::protocol(&v40);
        if ((v16 & 0x100000000) != 0)
        {
          WTF::String::String();
        }

        else
        {
          WTF::String::String();
        }

        WebCore::LegacySchemeRegistry::registerURLSchemeAsHandledBySchemeHandler(buf, v17);
        v19 = *buf;
        *buf = 0;
        if (v19)
        {
          if (atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v19, v18);
          }
        }
      }
    }

    else
    {
      v21 = WTF::aboutBlankURL(v12);
      v22 = *v21;
      if (*v21)
      {
        atomic_fetch_add_explicit(v22, 2u, memory_order_relaxed);
      }

      v23 = v40;
      v40 = v22;
      if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v23, v20);
      }

      v24 = *(v21 + 8);
      v42 = *(v21 + 24);
      v41 = v24;
    }

    if (*(a2 + 920) == 1)
    {
      v25 = *(a1 + 56);
      if (v25)
      {
        *(v25 + 1565) = 1;
      }
    }

    v38[0] = 0;
    WTF::URL::invalidate(v38);
    WebCore::ResourceResponseBase::ResourceResponseBase();
    cf = 0;
    v52 = 0;
    v50 = v50 & 0xF1 | 4;
    v27 = v38[0];
    v38[0] = 0;
    if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v27, v26);
    }

    v28 = *(a2 + 8);
    v29 = *(a2 + 16);
    v30 = *(a2 + 801);
    v39 = v11;
    WebCore::ResourceRequestBase::ResourceRequestBase(v38, &v40, 0);
    v38[24] = 0;
    v37[0] = 0;
    WTF::URL::invalidate(v37);
    WebKit::WebPage::loadDataImpl(a1, v28, v29, v30, a2 + 296, &v39, v38, buf, v37, (a2 + 808), *(a2 + 896), 0, *(a2 + 818), *(a2 + 800));
    v32 = v37[0];
    v37[0] = 0;
    if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v32, v31);
    }

    WebCore::ResourceRequest::~ResourceRequest(v38);
    v34 = v39;
    v39 = 0;
    if (v34 && atomic_fetch_add(v34 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v34 + 2);
      (*(*v34 + 8))(v34);
    }

    v35 = cf;
    cf = 0;
    if (v35)
    {
      CFRelease(v35);
    }

    WebCore::ResourceResponseBase::~ResourceResponseBase(buf, v33);
    result = v40;
    v40 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v36);
      }
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebPage::loadAlternateHTML(uint64_t a1, uint64_t a2)
{
  WebCore::PublicSuffixStore::singleton(a1);
  v4 = WebCore::PublicSuffixStore::addPublicSuffix();
  v5 = *(a2 + 928);
  *(a1 + 296) = *(a2 + 936);
  *(a1 + 288) = v5;
  v6 = *(a2 + 272);
  if (v6 && *(v6 + 4))
  {
    MEMORY[0x19EB01DD0](&v37, a2 + 272, 0);
  }

  else
  {
    v7 = WTF::aboutBlankURL(v4);
    v8 = *v7;
    if (*v7)
    {
      atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
    }

    v37 = v8;
    v9 = *(v7 + 24);
    v38 = *(v7 + 8);
    v39 = v9;
  }

  v10 = *(a2 + 280);
  if (v10 && *(v10 + 4))
  {
    MEMORY[0x19EB01DD0](v36, a2 + 280, 0);
  }

  else
  {
    v36[0] = 0;
    WTF::URL::invalidate(v36);
  }

  v11 = *(a2 + 288);
  if (v11 && *(v11 + 4))
  {
    MEMORY[0x19EB01DD0](v35, a2 + 288, 0);
  }

  else
  {
    v35[0] = 0;
    WTF::URL::invalidate(v35);
  }

  v13 = *(a2 + 248);
  if (v13)
  {
    atomic_fetch_add((v13 + 8), 1u);
    v14 = *(*(*(a1 + 88) + 40) + 8);
    if (*(v14 + 136))
    {
      v14 = 0;
    }

    WTF::URL::operator=(*(v14 + 208) + 120, v35);
    v29[0] = 0;
    WTF::URL::invalidate(v29);
    WebCore::ResourceResponseBase::ResourceResponseBase();
    cf = 0;
    v34 = 0;
    v32 = v32 & 0xF1 | 4;
    v16 = v29[0];
    v29[0] = 0;
    if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v16, v15);
    }

    v17 = *(a2 + 8);
    v18 = *(a2 + 16);
    v19 = *(a2 + 801);
    v30 = v13;
    WebCore::ResourceRequestBase::ResourceRequestBase(v29, &v37, 0);
    v29[24] = 0;
    WebKit::WebPage::loadDataImpl(a1, v17, v18, v19, a2 + 296, &v30, v29, v31, v36, (a2 + 808), *(a2 + 896), 0, 1, 0);
    WebCore::ResourceRequest::~ResourceRequest(v29);
    v20 = v30;
    v30 = 0;
    if (v20 && atomic_fetch_add(v20 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v20 + 2);
      (*(*v20 + 8))(v20);
    }

    v21 = *(*(*(a1 + 88) + 40) + 8);
    if (*(v21 + 136))
    {
      v21 = 0;
    }

    v22 = *(v21 + 208);
    v29[0] = 0;
    WTF::URL::invalidate(v29);
    WTF::URL::operator=(v22 + 120, v29);
    v24 = v29[0];
    v29[0] = 0;
    if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v24, v23);
    }

    v25 = cf;
    cf = 0;
    if (v25)
    {
      CFRelease(v25);
    }

    WebCore::ResourceResponseBase::~ResourceResponseBase(v31, v23);
  }

  v26 = v35[0];
  v35[0] = 0;
  if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v26, v12);
  }

  v27 = v36[0];
  v36[0] = 0;
  if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v27, v12);
  }

  result = v37;
  v37 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v12);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::loadSimulatedRequestAndResponse(uint64_t result, uint64_t a2, uint64_t a3)
{
  *(result + 1947) = (*(a2 + 188) & 4) != 0;
  v3 = *(a2 + 248);
  if (v3)
  {
    v6 = result;
    atomic_fetch_add((v3 + 8), 1u);
    v7 = *(a2 + 8);
    v8 = *(a2 + 16);
    v9 = *(a2 + 801);
    v13 = v3;
    v12[0] = 0;
    WTF::URL::invalidate(v12);
    WebKit::WebPage::loadDataImpl(v6, v7, v8, v9, a2 + 296, &v13, a2 + 40, a3, v12, (a2 + 808), *(a2 + 896), 0, 0, 0);
    v11 = v12[0];
    v12[0] = 0;
    if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v11, v10);
    }

    result = v13;
    v13 = 0;
    if (result)
    {
      if (atomic_fetch_add((result + 8), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, (result + 8));
        return (*(*result + 8))(result);
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::navigateToPDFLinkWithSimulatedClick(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v18 = a4;
  v19 = a3;
  v4 = *(*(*(result + 88) + 40) + 8);
  ++*(v4 + 16);
  v5 = *(v4 + 224);
  if (v5)
  {
    *(v5 + 7) += 2;
    v6 = *(_ReadStatusReg(ARM64_SYSREG(3, 3, 13, 0, 3)) + 736);
    if (!v6 || (v7 = *(v6 + 96)) == 0)
    {
      result = WebCore::threadGlobalDataSlow(result);
      v7 = result;
    }

    if (!*(v7 + 5))
    {
      result = WebCore::ThreadGlobalData::initializeEventNames(v7);
    }

    WTF::MonotonicTime::now(result);
    v16 = 0;
    v13[0] = 0;
    v13[1] = 0;
    v15[0] = 0;
    v15[1] = 0;
    WebCore::MouseEvent::create();
    WTF::Vector<WTF::Ref<WebCore::MouseEvent,WTF::RawPtrTraits<WebCore::MouseEvent>,WTF::DefaultRefDerefTraits<WebCore::MouseEvent>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v15, v8);
    WTF::Vector<WTF::Ref<WebCore::MouseEvent,WTF::RawPtrTraits<WebCore::MouseEvent>,WTF::DefaultRefDerefTraits<WebCore::MouseEvent>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v13, v9);
    v10 = v16;
    v16 = 0;
    if (v10)
    {
      WTF::RefCounted<WebCore::WindowProxy>::deref(v10);
    }

    WebCore::Document::completeURL();
    LOBYTE(v16) = 1;
    LOBYTE(v13[0]) = 0;
    v14 = 0;
    WebCore::FrameLoader::changeLocation();
    if (v14 == 1)
    {
      WebCore::PrivateClickMeasurement::~PrivateClickMeasurement(v13, v11);
    }

    v12 = v15[0];
    v15[0] = 0;
    if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v12, v11);
    }

    result = v17;
    v17 = 0;
    if (result)
    {
      if (*(result + 24) == 1)
      {
        result = (*(*result + 8))(result);
      }

      else
      {
        --*(result + 24);
      }
    }

    if (*(v5 + 7) == 2)
    {
      result = WebCore::Node::removedLastRef(v5);
    }

    else
    {
      *(v5 + 7) -= 2;
    }
  }

  if (*(v4 + 16) == 1)
  {
    return (*(*v4 + 8))(v4);
  }

  --*(v4 + 16);
  return result;
}

void WebKit::WebPage::stopLoading(WebKit::WebPage *this)
{
  if (*(this + 7))
  {
    v1 = *(*(this + 11) + 40);
    if (v1)
    {
      v2 = *(v1 + 8);
      if (v2)
      {
        if ((*(v2 + 136) & 1) == 0)
        {
          ++*(v2 + 16);
          WebCore::FrameLoader::stopForUserCancel(*(v2 + 208));
          v3 = WebCore::FrameLoader::completePageTransitionIfNeeded(*(v2 + 208));
          if (*(v2 + 16) == 1)
          {
            v3 = (*(*v2 + 8))(v2);
          }

          else
          {
            --*(v2 + 16);
          }

          WebKit::SendStopResponsivenessTimer::~SendStopResponsivenessTimer(v3, v4);
        }
      }
    }
  }
}

void WebKit::WebPage::stopLoadingDueToProcessSwap(WebKit::WebPage *this)
{
  v2 = *(this + 1950);
  *(this + 1950) = 1;
  WebKit::WebPage::stopLoading(this);
  *(this + 1950) = v2;
}

void WebKit::WebPage::reload(void *a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  a1[217] = a2;
  v6 = a1[11];
  CFRetain(*(v6 + 8));
  if (*a4)
  {
    v7 = WTF::fastMalloc(0x18);
    *v7 = 1;
    v8 = *a4;
    *a4 = 0;
    *(v7 + 8) = v8;
    *(v7 + 16) = 0;
    v9 = a1[81];
    a1[81] = v7;
    if (v9)
    {
      WTF::RefCounted<WebKit::SandboxExtension>::deref(v9);
    }
  }

  if (a1[7])
  {
    v10 = *(v6 + 40);
    if (v10)
    {
      v11 = *(v10 + 8);
      if (v11)
      {
        if ((*(v11 + 136) & 1) == 0)
        {
          WebCore::FrameLoader::reload();
        }
      }
    }
  }

  if (a1[217])
  {
    a1[217] = 0;
  }

  CFRelease(*(v6 + 8));

  WebKit::SendStopResponsivenessTimer::~SendStopResponsivenessTimer(v12, v13);
}

void WebKit::WebPage::goToBackForwardItem(uint64_t a1, uint64_t *a2)
{
  v61 = *MEMORY[0x1E69E9840];
  v4 = qword_1ED640D10;
  if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT))
  {
    v5 = a2[1];
    v6 = *(v5 + 144);
    if (!v6)
    {
      __break(0xC471u);
      return;
    }

    v7 = *(a1 + 48);
    v8 = *a2;
    WTF::makeString<unsigned long long,char,unsigned long long>(*(v5 + 152), 45, v6, &v46);
    WTF::String::utf8();
    if (v47)
    {
      v9 = v47 + 16;
    }

    else
    {
      v9 = 0;
    }

    v10 = *(a2 + 17);
    v11 = *(a2 + 152);
    if (*(a2 + 168))
    {
      v12 = a2[20];
    }

    else
    {
      v12 = 0;
    }

    *buf = 134219522;
    *&buf[4] = a1;
    v49 = 2048;
    v50 = v7;
    v51 = 2048;
    v52 = v8;
    v53 = 2080;
    v54 = v9;
    v55 = 1024;
    v56 = v10;
    v57 = 1024;
    v58 = v11;
    v59 = 2048;
    v60 = v12;
    _os_log_impl(&dword_19D52D000, v4, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::goToBackForwardItem: navigationID=%llu, backForwardItemID=%s, shouldTreatAsContinuingLoad=%u, lastNavigationWasAppInitiated=%d, existingNetworkResourceLoadIdentifierToResume=%llu", buf, 0x40u);
    v14 = v47;
    v47 = 0;
    if (v14)
    {
      if (*v14 == 1)
      {
        WTF::fastFree(v14, v13);
      }

      else
      {
        --*v14;
      }
    }

    v15 = v46;
    v46 = 0;
    if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v15, v13);
    }
  }

  WebKit::WebPage::SandboxExtensionTracker::beginLoad((a1 + 648), a2 + 23);
  *(a1 + 1947) = *(a2 + 152);
  v16 = *(a1 + 56);
  if (v16)
  {
    v17 = v16 + 2;
    ++v16[2];
    WebCore::Page::localMainFrame(buf, v16);
    WTF::RefCounted<WebCore::Page>::deref(v17);
  }

  else
  {
    WebCore::Page::localMainFrame(buf, 0);
  }

  v19 = *buf;
  if (*buf)
  {
    v20 = *(*(*buf + 208) + 96);
    if (v20)
    {
      v21 = *(v20 + 24);
      *(v20 + 24) = v21 + 1;
      *(v20 + 3579) = *(a2 + 152);
      if (!v21)
      {
        (*(*v20 + 24))(v20);
        v19 = *buf;
        *buf = 0;
        if (!v19)
        {
          goto LABEL_24;
        }

        goto LABEL_22;
      }

      *(v20 + 24) = v21;
    }

    *buf = 0;
LABEL_22:
    if (v19[4] == 1)
    {
      (*(*v19 + 8))(v19);
    }

    else
    {
      --v19[4];
    }
  }

LABEL_24:
  {
    v22 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v43 = WebKit::WebProcess::operator new(0x370, v18);
    v22 = WebKit::WebProcess::WebProcess(v43);
    WebKit::WebProcess::singleton(void)::process = v22;
  }

  v23 = *(v22 + 43);
  v24 = a2[21];
  *(v23 + 120) = a2[20];
  *(v23 + 128) = v24;
  v25 = *(a1 + 2104);
  *(v25 + 24) = 1;
  ++*(v25 + 8);
  v26 = WTF::fastMalloc(0x18);
  *v26 = &unk_1F1133800;
  v26[1] = v25;
  v26[2] = v25;
  *buf = v26;
  buf[8] = 1;
  WebKit::toHistoryItem(*(a1 + 2104), a2[1], &v47);
  v27 = v47;
  v28 = WTF::ScopeExit<WTF::CompletionHandler<void ()(void)>>::~ScopeExit(buf);
  WebCore::PublicSuffixStore::singleton(v28);
  WebCore::PublicSuffixStore::addPublicSuffix();
  *(a1 + 1736) = *a2;
  std::__optional_storage_base<WebKit::WebsitePoliciesData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebKit::WebsitePoliciesData,false>>((*(a1 + 40) + 176), (a2 + 3));
  v29 = *(a1 + 88);
  CFRetain(*(v29 + 1));
  {
    v31 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v44 = WebKit::WebProcess::operator new(0x370, v30);
    v31 = WebKit::WebProcess::WebProcess(v44);
    WebKit::WebProcess::singleton(void)::process = v31;
  }

  v32 = WebKit::WebProcess::webFrame(v31, *(v27 + 6), *(v27 + 56));
  if (v32)
  {
    v33 = v32;
    CFRetain(*(v32 + 8));
    v34 = WebKit::WebFrame::page(v33);
    if (v34 == a1)
    {
      v35 = v29;
    }

    else
    {
      v35 = v33;
    }

    if (v34 == a1)
    {
      v29 = v33;
    }

    CFRelease(*(v35 + 1));
  }

  v36 = *(v29 + 7);
  if (v36 || (v37 = *(v29 + 5)) != 0 && (v36 = *(v37 + 8)) != 0 && (*(v36 + 136) & 1) == 0)
  {
    ++*(v36 + 16);
    v38 = *(a1 + 56);
    if (v38)
    {
      v39 = (v38 + 8);
      ++*(v38 + 8);
      WebCore::Page::goToItem();
      WTF::RefCounted<WebCore::Page>::deref(v39);
    }

    else
    {
      WebCore::Page::goToItem();
    }

    if (*(v36 + 16) == 1)
    {
      (*(*v36 + 8))(v36);
    }

    else
    {
      --*(v36 + 16);
    }
  }

  CFRelease(*(v29 + 1));
  WTF::RefCounted<WebCore::HistoryItem>::deref(v27 + 2);
  {
    v41 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v45 = WebKit::WebProcess::operator new(0x370, v40);
    v41 = WebKit::WebProcess::WebProcess(v45);
    WebKit::WebProcess::singleton(void)::process = v41;
  }

  v42 = *(v41 + 43);
  *(v42 + 120) = 0;
  *(v42 + 128) = 0;
  WebKit::SendStopResponsivenessTimer::~SendStopResponsivenessTimer(v41, v40);
}

_DWORD *WebKit::WebPage::tryRestoreScrollPosition(WebKit::WebPage *this)
{
  result = WebKit::WebPage::localMainFrame(this, &v2);
  if (v2)
  {
    WebCore::HistoryController::restoreScrollPositionAndViewState(*(*(v2 + 26) + 32));
    result = v2;
    v2 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::fromCorePage(uint64_t a1)
{
  v1 = *(*(a1 + 56) + 16);
  if ((*(*v1 + 1440))(v1))
  {
    return 0;
  }

  if (((*(*v1 + 1112))(v1) & 1) == 0)
  {
    result = 96;
    __break(0xC471u);
    return result;
  }

  v2 = v1[2];
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 8);
  if (v3)
  {
    return v3 - 16;
  }

  else
  {
    return 0;
  }
}

double WebKit::WebPage::textZoomFactor(WebKit::WebPage *this)
{
  v2 = WebKit::WebPage::mainFramePlugIn(this);
  if (v2)
  {
    v8 = v2[2];
    v2[2] = v8 + 1;
    if (v8)
    {
      v2[2] = v8;
    }

    else
    {
      (*(*v2 + 8))(v2);
    }
  }

  v3 = *(*(this + 11) + 40);
  v4 = 1.0;
  if (v3)
  {
    v5 = *(v3 + 8);
    if (v5)
    {
      if ((*(v5 + 136) & 1) == 0)
      {
        v6 = *(v5 + 16);
        *(v5 + 16) = v6 + 1;
        v4 = *(v5 + 280);
        if (v6)
        {
          *(v5 + 16) = v6;
        }

        else
        {
          (*(*v5 + 8))(v5);
        }
      }
    }
  }

  return v4;
}

double WebKit::WebPage::pageZoomFactor(WebKit::WebPage *this)
{
  v2 = WebKit::WebPage::mainFramePlugIn(this);
  if (v2)
  {
    v8 = v2[2];
    v2[2] = v8 + 1;
    if (v8)
    {
      v2[2] = v8;
    }

    else
    {
      (*(*v2 + 8))(v2);
    }
  }

  v3 = *(*(this + 11) + 40);
  v4 = 1.0;
  if (v3)
  {
    v5 = *(v3 + 8);
    if (v5)
    {
      if ((*(v5 + 136) & 1) == 0)
      {
        v6 = *(v5 + 16);
        *(v5 + 16) = v6 + 1;
        v4 = *(v5 + 276);
        if (v6)
        {
          *(v5 + 16) = v6;
        }

        else
        {
          (*(*v5 + 8))(v5);
        }
      }
    }
  }

  return v4;
}

uint64_t WebKit::WebPage::dumpHistoryForTesting@<X0>(uint64_t this@<X0>, const WTF::String *a2@<X1>, WTF::StringImpl **a3@<X8>)
{
  v4 = *(this + 56);
  if (v4)
  {
    v6 = *(v4 + 152);
    ++*v6;
    v23 = 0;
    v24 = 0;
    v25 = 0;
    v26 = 1;
    v7 = WebCore::BackForwardController::backCount(v6);
    v8 = -v7;
    WebCore::BackForwardController::itemAtIndex();
    v9 = WebCore::HistoryItem::url(&v22, v21);
    v10 = WTF::aboutBlankURL(v9);
    v13 = WTF::equal(v22, *v10, v11);
    v14 = v22;
    v22 = 0;
    if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v14, v12);
    }

    if (v21)
    {
      WTF::RefCounted<WebCore::HistoryItem>::deref(v21 + 2);
    }

    if (v13)
    {
      v8 = 1 - v7;
    }

    if (v8 <= WebCore::BackForwardController::forwardCount(v6))
    {
      do
      {
        WebCore::BackForwardController::itemAtIndex();
        WebKit::dumpHistoryItem(v22, 8, v8 == 0, &v23, a2, v15);
        v16 = v22;
        v22 = 0;
        if (v16)
        {
          WTF::RefCounted<WebCore::HistoryItem>::deref(v16 + 2);
        }
      }

      while (v8++ < WebCore::BackForwardController::forwardCount(v6));
      v19 = v23;
      if (v23)
      {
        goto LABEL_15;
      }
    }

    WTF::StringBuilder::shrinkToFit(&v23);
    WTF::StringBuilder::reifyString(&v23);
    v19 = v23;
    if (v23)
    {
LABEL_15:
      atomic_fetch_add_explicit(v19, 2u, memory_order_relaxed);
    }

    *a3 = v19;
    v20 = v24;
    v24 = 0;
    if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v20, v18);
    }

    this = v23;
    v23 = 0;
    if (this && atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      this = WTF::StringImpl::destroy(this, v18);
    }

    if (*v6)
    {
      --*v6;
    }

    else
    {
      this = 290;
      __break(0xC471u);
    }
  }

  else
  {
    *a3 = 0;
  }

  return this;
}

WTF::StringImpl *WebKit::dumpHistoryItem(WebKit *this, WebCore::HistoryItem *a2, char a3, uint64_t a4, WTF::StringBuilder *a5, const WTF::String *a6)
{
  if (a3)
  {
    WTF::StringBuilder::append();
  }

  else if (a2)
  {
    v6 = a2;
    do
    {
      WTF::StringBuilder::append(a4, 0x20u);
      --v6;
    }

    while (v6);
  }

  WebCore::HistoryItem::url(&v76, this);
  if (WTF::URL::protocolIs())
  {
    if (!v76)
    {
      goto LABEL_30;
    }

    v12 = WTF::StringImpl::find();
    if (v12 == -1)
    {
      v14 = 0;
    }

    else
    {
      v13 = *a5;
      if (*a5)
      {
        LODWORD(v13) = *(v13 + 4);
      }

      v14 = v13 + v12;
    }

    if (v76)
    {
      v6 = *(v76 + 1);
      v18 = *(v76 + 1) | (((*(v76 + 4) >> 2) & 1) << 32);
    }

    else
    {
      v6 = 0;
      v18 = 0x100000000;
    }

    v19 = v18 - v14;
    if (v18 > v14)
    {
      if (v14)
      {
        v20 = v14;
        v21 = v18 - v14;
        if ((v18 & 0x100000000) != 0)
        {
          if (v21 < v19)
          {
            goto LABEL_104;
          }

          v6 += v20;
          v19 |= 0x100000000uLL;
        }

        else
        {
          if (v21 < v19)
          {
            goto LABEL_104;
          }

          v6 += 2 * v20;
        }
      }

      else
      {
        v19 = v18;
      }
    }

    else
    {
LABEL_30:
      v19 = 0x100000000;
      v6 = "";
    }

    v22 = *(a4 + 16);
    v23 = v19 + 12;
    if (v19 >= 0xFFFFFFF4)
    {
      v23 = -1;
    }

    v24 = __CFADD__(v22, v23);
    v25 = v22 + v23;
    if (v24)
    {
      v26 = 0xFFFFFFFFLL;
    }

    else
    {
      v26 = v25;
    }

    v27 = *(a4 + 8);
    if ((v27 || (v27 = *a4) != 0) && (*(v27 + 16) & 4) == 0 || (v19 & 0x100000000) == 0)
    {
      v12 = WTF::StringBuilder::extendBufferForAppendingWithUpconvert(a4);
      if (v12)
      {
        v30 = 0;
        v31 = "(file test):";
        do
        {
          v32 = *v31++;
          *(v12 + v30) = v32;
          v30 += 2;
        }

        while (v30 != 24);
        if (v29 <= 0xB)
        {
          goto LABEL_104;
        }

        v77[0] = v6;
        v77[1] = v19;
        WTF::StringTypeAdapter<WTF::StringView,void>::writeTo<char16_t>(v77, (v12 + 24));
      }
    }

    else
    {
      v12 = MEMORY[0x19EB01170](a4, v26);
      if (v12)
      {
        *(v12 + 8) = 975795315;
        *v12 = *"(file test):";
        if (v28 <= 0xB)
        {
          goto LABEL_104;
        }

        if (v19)
        {
          if (v19 == 1)
          {
            goto LABEL_105;
          }

          memcpy((v12 + 12), v6, v19);
        }
      }
    }
  }

  else
  {
    v15 = v76;
    if (*(a4 + 16) || *(a4 + 8))
    {
      if (v76)
      {
        v74 = *(v76 + 1);
        v75 = *(v76 + 1) | (((*(v76 + 4) >> 2) & 1) << 32);
      }

      else
      {
        v74 = 0;
        v75 = 0x100000000;
      }

      WTF::StringBuilder::append(a4, v74, v75);
    }

    else
    {
      if (v76)
      {
        atomic_fetch_add_explicit(v76, 2u, memory_order_relaxed);
      }

      v16 = *a4;
      *a4 = v15;
      if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v16, v11);
      }

      v17 = v76;
      if (v76)
      {
        v17 = *(v76 + 1);
      }

      *(a4 + 16) = v17;
    }
  }

  while (1)
  {
    v33 = *WebCore::HistoryItem::target(this);
    if (!v33)
    {
      break;
    }

    v34 = *(v33 + 4);
    if (!v34)
    {
      break;
    }

    v35 = *(a4 + 16);
    v24 = __CFADD__(v34, 14);
    v36 = v34 + 14;
    if (v24)
    {
      v36 = -1;
    }

    v24 = __CFADD__(v35, v36);
    v37 = v35 + v36;
    if (v24)
    {
      v38 = 0xFFFFFFFFLL;
    }

    else
    {
      v38 = v37;
    }

    v39 = *(a4 + 8);
    if ((!v39 && (v39 = *a4) == 0 || (*(v39 + 16) & 4) != 0) && (*(v33 + 16) & 4) != 0)
    {
      v12 = MEMORY[0x19EB01170](a4, v38);
      if (!v12)
      {
        break;
      }

      *(v12 + 8) = 572548461;
      *v12 = *" (in frame ";
      if (v46 > 0xB)
      {
        v47 = v46 - 12;
        v6 = (v12 + 12);
        v77[0] = v33;
        v12 = WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<unsigned char>(v77, (v12 + 12));
        v48 = v77[0];
        if (!v77[0] || (v48 = *(v77[0] + 4), v47 >= v48))
        {
          *&v6[v48] = 10530;
          break;
        }
      }
    }

    else
    {
      v12 = WTF::StringBuilder::extendBufferForAppendingWithUpconvert(a4);
      if (!v12)
      {
        break;
      }

      v41 = 0;
      v42 = " (in frame ";
      do
      {
        v43 = *v42++;
        *(v12 + v41) = v43;
        v41 += 2;
      }

      while (v41 != 24);
      if (v40 > 0xB)
      {
        v6 = (v12 + 24);
        v44 = v40 - 12;
        v77[0] = v33;
        v12 = WTF::StringTypeAdapter<WTF::StringImpl *,void>::writeTo<char16_t>(v77, (v12 + 24));
        v45 = v77[0];
        if (!v77[0] || (v45 = *(v77[0] + 4), v44 >= v45))
        {
          *&v6[2 * v45] = 2687010;
          break;
        }
      }
    }

LABEL_104:
    __break(1u);
LABEL_105:
    *(v12 + 12) = *v6;
  }

  WTF::StringBuilder::append(a4, 0xAu);
  v49 = WebCore::HistoryItem::children(this);
  v50 = *(v49 + 12);
  if (v50)
  {
    if (v50 >> 29)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3E3990);
    }

    v51 = v49;
    v52 = WTF::fastMalloc((8 * v50));
    v53 = v52;
    v54 = *(v51 + 12);
    if (v54)
    {
      v55 = *v51;
      v56 = 8 * v54;
      v57 = v52;
      do
      {
        v58 = *v55++;
        ++*(v58 + 8);
        *v57++ = v58;
        v56 -= 8;
      }

      while (v56);
    }

    v59 = (v52 + 8 * v50);
    v60 = MEMORY[0x1E69E5398];
    v61 = v50;
    while (1)
    {
      v62 = operator new(8 * v61, v60);
      if (v62)
      {
        break;
      }

      v63 = v61 >> 1;
      v64 = v61 > 1;
      v61 >>= 1;
      if (!v64)
      {
        v65 = v50;
        goto LABEL_84;
      }
    }

    v68 = v62;
    std::__stable_sort<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(v53, v53 + v50, v50, v62, v61);
    operator delete(v68);
LABEL_87:
    v69 = v53;
    do
    {
      v70 = *v69++;
      WebKit::dumpHistoryItem(v70, (a2 + 4), 0, a4, a5, v67);
    }

    while (v69 != v59);
    v71 = v53;
    do
    {
      v72 = *v71;
      *v71 = 0;
      if (v72)
      {
        WTF::RefCounted<WebCore::HistoryItem>::deref(v72 + 2);
      }

      ++v71;
    }

    while (v71 != v59);
    goto LABEL_93;
  }

  v59 = 0;
  v65 = 0;
  v53 = 0;
  v63 = 0;
LABEL_84:
  std::__stable_sort<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(v53, v59, v65, 0, v63);
  if (v50)
  {
    goto LABEL_87;
  }

LABEL_93:
  if (v53)
  {
    WTF::fastFree(v53, v66);
  }

  result = v76;
  v76 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v66);
    }
  }

  return result;
}

void WebKit::WebPage::didScalePage(WebKit::WebPage *this, double a2, const IntPoint *a3)
{
  v5 = *(*(this + 7) + 328) * a2;
  v6 = WebKit::WebPage::totalScaleFactor(this);
  CFRetain(*(this + 1));
  if (v5 != v6)
  {
    if ((*(this + 1421) & 1) == 0)
    {
      v8 = *(this + 5);
      v9 = *(v8 + 432);
      if (v9)
      {
        *(v8 + 432) = 0;
        WTF::fastFree((v9 - 16), v7);
      }
    }

    *(this + 1282) = 0;
  }

  v10 = *(this + 7);
  if (v10)
  {
    ++*(v10 + 2);
  }

  v11 = WebKit::WebPage::mainFramePlugIn(this);
  if (v11)
  {
    v20 = v11[2];
    v11[2] = v20 + 1;
    if (v20)
    {
      v11[2] = v20;
    }

    else
    {
      (*(*v11 + 8))(v11);
    }
  }

  v12 = v5;
  WebCore::Page::setPageScaleFactor(v10, v12, a3);
  if (v5 != v6)
  {
    WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(&v26, this + 20);
    v13 = *(this + 20);
    if (v13)
    {
      v15 = *(v13 - 4);
      v14 = v13 + 8 * v15;
    }

    else
    {
      v14 = 0;
      v15 = 0;
    }

    v21 = this + 160;
    v22 = v14;
    v23 = v14;
    v24 = v14;
    v25 = v13 + 8 * v15;
    WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v21);
    v16 = v27;
    v17 = v22;
    while (v16 != v17)
    {
      v18 = *(*v16 + 8);
      v19 = v18[2];
      v18[2] = v19 + 1;
      if (v19)
      {
        v18[2] = v19;
      }

      else
      {
        (*(*v18 + 8))(v18);
      }

      WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(&v26);
      v16 = v27;
    }
  }

  if (v10)
  {
    WTF::RefCounted<WebCore::Page>::deref(v10 + 2);
  }

  if (v5 != v6)
  {
    WebKit::WebPage::platformDidScalePage(this);
  }

  if (this)
  {
    CFRelease(*(this + 1));
  }
}

double WebKit::WebPage::totalScaleFactor(WebKit::WebPage *this)
{
  v2 = WebKit::WebPage::mainFramePlugIn(this);
  if (v2)
  {
    v4 = v2[2];
    v2[2] = v4 + 1;
    if (v4)
    {
      v2[2] = v4;
    }

    else
    {
      (*(*v2 + 8))(v2);
    }
  }

  return *(*(this + 7) + 316);
}

void WebKit::WebPage::didScalePageInViewCoordinates(WebKit::WebPage *this, double a2, const WebCore::IntPoint *a3)
{
  v6 = WebKit::WebPage::localMainFrameView(this);
  if (v6)
  {
    v7 = v6;
    ++v6[2];
    v10.m_x = -*a3;
    v10.m_y = -*(a3 + 1);
    v8 = WebCore::ScrollView::rootViewToContents(v6, &v10);
    v9 = a2 / (WebKit::WebPage::totalScaleFactor(this) / *(*(this + 7) + 328));
    v10.m_x = llroundf(v8 * v9);
    v10.m_y = llroundf(SHIDWORD(v8) * v9);
    WebKit::WebPage::didScalePage(this, a2, &v10);
    if (v7[2] == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --v7[2];
    }
  }
}

void WebKit::WebPage::didScalePageRelativeToScrollPosition(WebKit::WebPage *this, double a2, const WebCore::IntPoint *a3)
{
  v6 = WebKit::WebPage::localMainFrameView(this);
  if (v6)
  {
    v7 = v6;
    ++*(v6 + 8);
    v8 = *a3;
    v9 = WebCore::ScrollView::unobscuredContentRect();
    v10 = (v9 - (v8 & 0xFFFFFFFF00000000)) & 0xFFFFFFFF00000000 | (v9 - v8);
    WebKit::WebPage::didScalePage(this, a2, &v10);
    if (v7[2] == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --v7[2];
    }
  }
}

IPC::Encoder *WebKit::WebPage::scalePage(WebKit::WebPage *this, double a2, const IntPoint *a3)
{
  v4 = this;
  WebKit::WebPage::didScalePage(this, a2, a3);
  v5 = *(v4 + 4);
  v4 = (v4 + 32);
  v6 = (*(v5 + 56))(v4);
  v8 = IPC::Encoder::operator new(0x238, v7);
  *v8 = 2307;
  *(v8 + 2) = 0;
  *(v8 + 3) = 0;
  *(v8 + 1) = v6;
  *(v8 + 68) = 0;
  *(v8 + 70) = 0;
  *(v8 + 69) = 0;
  IPC::Encoder::encodeHeader(v8);
  v13 = v8;
  IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v8, a2);
  (*(*v4 + 32))(v4, &v13, 0);
  result = v13;
  v13 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v9);
    return bmalloc::api::tzoneFree(v11, v12);
  }

  return result;
}

WebKit::WebPage *WebKit::WebPage::didScaleView(WebKit::WebPage *this, double a2)
{
  if (*(*(this + 7) + 328) != a2)
  {
    v3 = this;
    v4 = WebKit::WebPage::totalScaleFactor(this);
    v5 = *(v3 + 7);
    v6 = *(v5 + 328);
    ++*(v5 + 8);
    v17 = 0;
    WebCore::Page::protectedMainFrame(&v16, v5);
    v7 = (*(*v16 + 56))(v16);
    v8 = v7;
    if (v7)
    {
      ++*(v7 + 8);
    }

    v9 = v16;
    v16 = 0;
    v10 = v4 / v6;
    if (v9)
    {
      if (v9[4] == 1)
      {
        (*(*v9 + 8))(v9);
      }

      else
      {
        --v9[4];
      }
    }

    v11 = v10;
    if (v8)
    {
      v12 = a2 / *(*(v3 + 7) + 328);
      v13 = WebCore::ScrollableArea::visibleContentRect();
      v14 = v12;
      v17.m_x = llroundf(v14 * v13);
      v17.m_y = llroundf(v14 * SHIDWORD(v13));
      if (v8[2] == 1)
      {
        (*(*v8 + 8))(v8);
      }

      else
      {
        --v8[2];
      }
    }

    v15 = a2;
    WebCore::Page::setViewScaleFactor(v5, v15);
    WebKit::WebPage::didScalePage(v3, v11, &v17);
    return WTF::RefCounted<WebCore::Page>::deref((v5 + 8));
  }

  return this;
}

_DWORD *WebKit::WebPage::setDeviceScaleFactor(WebKit::WebPage *this, float a2)
{
  v3 = *(this + 7);
  if (v3)
  {
    ++*(v3 + 8);
  }

  if (*(v3 + 324) != a2)
  {
    WebCore::Page::setDeviceScaleFactor(v3, a2);
    v4 = *(this + 51);
    if (*(v4 + 24) == 1)
    {
      v6 = *(v4 + 16);
      if (v6)
      {
        if (*(v6 + 8))
        {
          WebKit::WebPage::layoutIfNeeded(this);
          WebKit::FindController::deviceScaleFactorDidChange(*(this + 51));
        }
      }
    }
  }

  return WTF::RefCounted<WebCore::Page>::deref((v3 + 8));
}

_DWORD *WebKit::WebPage::layoutIfNeeded(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = (v2 + 8);
    ++*(v2 + 8);
    WebCore::Page::layoutIfNeeded();

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::layoutIfNeeded();
  }
}

_DWORD *WebKit::WebPage::accessibilitySettingsDidChange(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::accessibilitySettingsDidChange(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::accessibilitySettingsDidChange(0);
  }
}

IPC::Encoder *WebKit::WebPage::enableAccessibilityForAllProcesses(WebKit::WebPage *this)
{
  v1 = this + 32;
  v2 = (*(*(this + 4) + 56))(this + 32);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2246;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*v1 + 32))(v1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

void WebKit::WebPage::enableAccessibility(WebKit::WebPage *this)
{
  v1 = atomic_load(MEMORY[0x1E69E2500]);
  if ((v1 & 1) == 0)
  {
    atomic_store(1u, MEMORY[0x1E69E2500]);
  }
}

_DWORD *WebKit::WebPage::screenPropertiesDidChange(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::screenPropertiesDidChange(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::screenPropertiesDidChange(0);
  }
}

uint64_t WebKit::WebPage::setFixedLayoutSize(WebKit::WebPage *this, IntSize *a2)
{
  v4 = WebKit::WebPage::localMainFrameView(this);
  if (!v4)
  {
    return 0;
  }

  v5 = v4;
  ++*(v4 + 2);
  v6 = WebCore::ScrollView::fixedLayoutSize(v4);
  v7 = a2->m_width == v6 && a2->m_height == HIDWORD(v6);
  v8 = !v7;
  if (!v7)
  {
    WebCore::ScrollView::setFixedLayoutSize(v5, a2);
    v10 = *(this + 4);
    v9 = this + 32;
    v11 = (*(v10 + 56))(v9);
    v13 = IPC::Encoder::operator new(0x238, v12);
    *v13 = 2253;
    *(v13 + 2) = 0;
    *(v13 + 3) = 0;
    *(v13 + 1) = v11;
    *(v13 + 68) = 0;
    *(v13 + 70) = 0;
    *(v13 + 69) = 0;
    IPC::Encoder::encodeHeader(v13);
    v19 = v13;
    IPC::ArgumentCoder<WebCore::IntPoint,void>::encode(v13, a2);
    (*(*v9 + 32))(v9, &v19, 0);
    v15 = v19;
    v19 = 0;
    if (v15)
    {
      IPC::Encoder::~Encoder(v15, v14);
      bmalloc::api::tzoneFree(v17, v18);
    }
  }

  if (*(v5 + 2) == 1)
  {
    (*(*v5 + 8))(v5);
  }

  else
  {
    --*(v5 + 2);
  }

  return v8;
}

unint64_t WebKit::WebPage::fixedLayoutSize(WebKit::WebPage *this)
{
  v1 = WebKit::WebPage::localMainFrameView(this);
  if (v1)
  {
    v2 = v1;
    ++v1[2];
    v3 = WebCore::ScrollView::fixedLayoutSize(v1);
    v4 = v3;
    v5 = HIDWORD(v3);
    if (v2[2] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }
  }

  else
  {
    v4 = 0;
    LODWORD(v5) = 0;
  }

  return v4 | (v5 << 32);
}

_DWORD *WebKit::WebPage::updateSizeForCSSDefaultViewportUnits(WebKit::WebPage *this)
{
  result = WebKit::WebPage::localMainFrameView(this);
  if (result)
  {
    v3 = result;
    ++result[2];
    WebCore::ViewportConfiguration::initialScaleIgnoringContentSize((this + 928));
    result = WebCore::LocalFrameView::setSizeForCSSDefaultViewportUnits();
    if (v3[2] == 1)
    {
      v4 = *(*v3 + 8);

      return v4(v3);
    }

    else
    {
      --v3[2];
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::updateSizeForCSSSmallViewportUnits(WebKit::WebPage *this)
{
  result = WebKit::WebPage::localMainFrameView(this);
  if (result)
  {
    v3 = result;
    ++result[2];
    WebCore::ViewportConfiguration::initialScaleIgnoringContentSize((this + 928));
    result = WebCore::LocalFrameView::setSizeForCSSSmallViewportUnits();
    if (v3[2] == 1)
    {
      v4 = *(*v3 + 8);

      return v4(v3);
    }

    else
    {
      --v3[2];
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::updateSizeForCSSLargeViewportUnits(WebKit::WebPage *this)
{
  result = WebKit::WebPage::localMainFrameView(this);
  if (result)
  {
    v3 = result;
    ++result[2];
    WebCore::ViewportConfiguration::initialScaleIgnoringContentSize((this + 928));
    result = WebCore::LocalFrameView::setSizeForCSSLargeViewportUnits();
    if (v3[2] == 1)
    {
      v4 = *(*v3 + 8);

      return v4(v3);
    }

    else
    {
      --v3[2];
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::setSuppressScrollbarAnimations(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::setShouldSuppressScrollbarAnimations(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::setShouldSuppressScrollbarAnimations(0);
  }
}

_DWORD *WebKit::WebPage::setEnableVerticalRubberBanding(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = (v2 + 8);
    ++*(v2 + 8);
    WebCore::Page::setVerticalScrollElasticity();

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::setVerticalScrollElasticity();
  }
}

_DWORD *WebKit::WebPage::setEnableHorizontalRubberBanding(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = (v2 + 8);
    ++*(v2 + 8);
    WebCore::Page::setHorizontalScrollElasticity();

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::setHorizontalScrollElasticity();
  }
}

void WebKit::WebPage::postInjectedBundleMessage(uint64_t a1, void *a2, CFTypeRef **a3)
{
  {
    v6 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v10 = WebKit::WebProcess::operator new(0x370, a2);
    v6 = WebKit::WebProcess::WebProcess(v10);
    WebKit::WebProcess::singleton(void)::process = v6;
  }

  v7 = *(v6 + 19);
  if (v7)
  {
    CFRetain(*(v7 + 8));
    CFRetain(*(a1 + 8));
    v8 = *a3;
    if (v8)
    {
      CFRetain(v8[1]);
    }

    v12 = &unk_1F11223F0;
    WebKit::UserData::transform(v8, &v12, &v11);
    WebKit::InjectedBundle::didReceiveMessageToPage(v7, a1, a2, &v11);
    v9 = v11;
    v11 = 0;
    if (v9)
    {
      CFRelease(*(v9 + 1));
      if (!v8)
      {
        goto LABEL_8;
      }
    }

    else if (!v8)
    {
LABEL_8:
      CFRelease(*(a1 + 8));
      CFRelease(*(v7 + 8));
      return;
    }

    CFRelease(v8[1]);
    goto LABEL_8;
  }
}

_DWORD *WebKit::WebPage::setUnderPageBackgroundColorOverride(uint64_t a1)
{
  v2 = *(a1 + 56);
  if (v2)
  {
    v3 = (v2 + 8);
    ++*(v2 + 8);
    WebCore::Page::setUnderPageBackgroundColorOverride();

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::setUnderPageBackgroundColorOverride();
  }
}

_DWORD *WebKit::WebPage::setShouldSuppressHDR(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::setShouldSuppressHDR(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::setShouldSuppressHDR(0);
  }
}

WTF::MachSendRight *WebKit::WebPage::takeSnapshot(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned __int16 a5, void *a6)
{
  v6 = a6;
  *&v44 = a2;
  *(&v44 + 1) = a3;
  v43 = a4;
  v41[0] = 0;
  v42 = 0;
  v7 = *(*(a1 + 88) + 40);
  if (v7)
  {
    v8 = *(v7 + 8);
    if (v8)
    {
      if ((v8[136] & 1) == 0)
      {
        ++*(v8 + 4);
        v9 = *(v8 + 27);
        if (!v9)
        {
          v32 = *a6;
          *a6 = 0;
          (*(*v32 + 16))(v32, v41, 1.0);
          result = (*(*v32 + 8))(v32);
LABEL_32:
          if (*(v8 + 4) == 1)
          {
            result = (*(*v8 + 8))(v8);
          }

          else
          {
            --*(v8 + 4);
          }

          goto LABEL_34;
        }

        v10 = a5;
        v12 = a3;
        v13 = a1;
        ++*(v9 + 8);
        v39 = *(v9 + 1184);
        v40 = *(v9 + 1200);
        v15 = WebCore::LocalFrameView::paintBehavior(v9);
        v16 = v15;
        if ((a5 & 0x400) != 0)
        {
          v19 = WebCore::ScrollableArea::visibleContentRect();
          v12 = v20;
          *&v44 = v19;
          *(&v44 + 1) = v20;
          v17 = v16;
        }

        else
        {
          v17 = v15;
          if ((a5 & 0x800) != 0)
          {
            v12 = WebCore::ScrollView::contentsSize(v9);
            *&v44 = 0;
            *(&v44 + 1) = v12;
            *&v35 = 0;
            v18 = vcgt_s32(v12, 0xFE000000FE000000);
            *(&v35 + 1) = vorr_s8((*&v18 & 0x7FFFFFFF7FFFFFFFLL), vbic_s8(vbsl_s8(vcgt_s32(0xFE000000FE000000, v12), 0x8000000080000000, vshl_n_s32(v12, 6uLL)), v18));
            LOBYTE(v36) = 1;
            WebCore::LocalFrameView::setLayoutViewportOverrideRect();
            v17 = v16 | 0x4000;
          }
        }

        if ((a5 & 0x4000) == 0)
        {
LABEL_14:
          if (v16 != v17)
          {
            WebCore::LocalFrameView::setPaintBehavior();
          }

          if (a4 < 1 || SHIDWORD(a4) <= 0)
          {
            v43 = v12;
            if ((a5 & 0x20) == 0)
            {
              v25 = *(*(v13 + 56) + 324);
              v43.i32[0] = (v25 * v12.i32[0]);
              v43.i32[1] = (v25 * v12.i32[1]);
            }
          }

          WebKit::WebPage::snapshotAtSize(&v38, v13, &v44, &v43, v10 & 0xFFFE | 1, v8, v9);
          v26 = v38;
          if (v38)
          {
            WebKit::WebImage::createImageBufferBackendHandle(v38, 0, &v35);
            std::__optional_storage_base<mpark::variant<WebCore::ShareableBitmapHandle,WTF::MachSendRight>,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<mpark::variant<WebCore::ShareableBitmapHandle,WTF::MachSendRight>,false>>(v41, &v35);
            if (v37 == 1)
            {
              mpark::detail::move_constructor<mpark::detail::traits<WebCore::ShareableBitmapHandle,WTF::MachSendRight>,(mpark::detail::Trait)1>::~move_constructor(&v35);
            }

            if (WebKit::WebImage::context(v26))
            {
              v27 = WebKit::WebImage::context(v26);
              v28 = (*(*v27 + 344))(v27);
            }

            else
            {
              v28 = 1.0;
            }

            CFRelease(v26[1]);
          }

          else
          {
            v28 = 1.0;
          }

          if (v16 != v17)
          {
            v35 = v39;
            v36 = v40;
            WebCore::LocalFrameView::setLayoutViewportOverrideRect();
            WebCore::LocalFrameView::setPaintBehavior();
          }

          v29 = *v6;
          *v6 = 0;
          (*(*v29 + 16))(v29, v41, v28);
          result = (*(*v29 + 8))(v29);
          if (*(v9 + 8) == 1)
          {
            result = (*(*v9 + 8))(v9);
          }

          else
          {
            --*(v9 + 8);
          }

          goto LABEL_32;
        }

        v33 = v10;
        v34 = v13;
        v21 = v6;
        v22 = *(v13 + 56);
        if (v22)
        {
          v23 = v22 + 2;
          ++v22[2];
          v24 = WebCore::Page::drawsHDRContent(v22);
          WTF::RefCounted<WebCore::Page>::deref(v23);
          if (!v24)
          {
LABEL_13:
            v6 = v21;
            v10 = v33;
            v13 = v34;
            goto LABEL_14;
          }
        }

        else if ((WebCore::Page::drawsHDRContent(0) & 1) == 0)
        {
          goto LABEL_13;
        }

        v17 |= 0x400000u;
        goto LABEL_13;
      }
    }
  }

  v31 = *a6;
  *a6 = 0;
  (*(*v31 + 16))(v31, v41, 1.0);
  result = (*(*v31 + 8))(v31);
LABEL_34:
  if (v42 == 1)
  {
    return mpark::detail::move_constructor<mpark::detail::traits<WebCore::ShareableBitmapHandle,WTF::MachSendRight>,(mpark::detail::Trait)1>::~move_constructor(v41);
  }

  return result;
}

void WebKit::WebPage::snapshotAtSize(WebKit::WebImage **a1, uint64_t a2, __int128 *a3, int32x2_t *a4, unint64_t a5, WebCore::PrintContext *a6, WebCore::LocalFrameView *a7)
{
  v15 = (a2 + 160);
  v14 = *(a2 + 160);
  if (!v14)
  {
    goto LABEL_2;
  }

  v22 = *(v14 - 4);
  if (v22)
  {
    v23 = 0;
    v24 = (v14 + 8 * v22 - 8);
    do
    {
      if (*v24 + 1 >= 2 && !*(*v24 + 1))
      {
        v30 = v23;
        WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::deleteBucket(v24, a2);
        v23 = v30 + 1;
      }

      --v24;
      --v22;
    }

    while (v22);
    v14 = *v15;
    if (v23)
    {
      v25 = *(v14 - 12) - v23;
      *(v14 - 16) += v23;
      *(v14 - 12) = v25;
    }

    else if (!v14)
    {
LABEL_2:
      *(a2 + 168) = 0;
LABEL_3:
      *(a2 + 172) = 0;
LABEL_4:
      v16 = 1;
      goto LABEL_5;
    }
  }

  v26 = *(v14 - 4);
  if (6 * *(v14 - 12) < v26 && v26 > 8)
  {
    WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize(v15);
    v14 = *(a2 + 160);
    *(a2 + 168) = 0;
    if (!v14)
    {
      goto LABEL_3;
    }
  }

  else
  {
    *(a2 + 168) = 0;
  }

  v28 = *(v14 - 12);
  if (v28 >= 0x7FFFFFFF)
  {
    v29 = -2;
  }

  else
  {
    v29 = 2 * v28;
  }

  *(a2 + 172) = v29;
  if (!*(v14 - 12))
  {
    goto LABEL_4;
  }

  v16 = 2;
LABEL_5:
  WebKit::snapshotColorSpace(&cf, a5, a2);
  WebKit::WebImage::create(&cf, a4, v16 | (a5 >> 11) & 0xC, *(*(*(a2 + 56) + 56) + 16), &v32);
  v17 = cf;
  cf = 0;
  if (v17)
  {
    CFRelease(v17);
  }

  if (WebKit::WebImage::context(v32))
  {
    v18 = WebKit::WebImage::context(v32);
    WebCore::maxEDRHeadroomForDisplay(*(*(a2 + 56) + 272));
    v20 = (*(*v18 + 336))(v18, v19 | 0x100000000);
    WebKit::WebPage::paintSnapshotAtSize(v20, a3, a4, a5, a6, a7, v18);
    *a1 = v32;
  }

  else
  {
    *a1 = 0;
    v21 = v32;
    v32 = 0;
    if (v21)
    {
      CFRelease(*(v21 + 1));
    }
  }
}

void WebKit::WebPage::scaledSnapshotWithOptions(uint64_t a1@<X0>, uint64_t a2@<X1>, const WebCore::FloatSize *a3@<X2>, WebKit::WebImage **a4@<X8>, double a5@<D0>)
{
  v6 = *(*(a1 + 88) + 40);
  if (v6 && (v7 = *(v6 + 8)) != 0 && (*(v7 + 136) & 1) == 0)
  {
    ++*(v7 + 16);
    v8 = *(v7 + 216);
    if (v8)
    {
      v9 = a3;
      ++*(v8 + 2);
      v12 = *(a2 + 8);
      v17 = v12;
      v13 = HIDWORD(*&v12);
      if ((a3 & 0x100) != 0)
      {
        v16[0] = v12.i32[0];
        v16[1] = v12.i32[1];
        v15 = WebCore::PrintContext::numberOfPages(v7, v16, a3);
        v17.i32[1] = v15 + v15 * v13 - 1;
      }

      else
      {
        if ((a3 & 0x20) == 0)
        {
          a5 = *(*(a1 + 56) + 324) * a5;
        }

        v14 = a5;
        v17.i32[0] = (v12.i32[0] * v14);
        v17.i32[1] = (v12.i32[1] * v14);
      }

      WebKit::WebPage::snapshotAtSize(a4, a1, a2, &v17, v9, v7, v8);
      if (*(v8 + 2) == 1)
      {
        (*(*v8 + 8))(v8);
      }

      else
      {
        --*(v8 + 2);
      }
    }

    else
    {
      *a4 = 0;
    }

    if (*(v7 + 16) == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --*(v7 + 16);
    }
  }

  else
  {
    *a4 = 0;
  }
}

uint64_t WebKit::WebPage::paintSnapshotAtSize(uint64_t a1, __int128 *a2, int32x2_t *a3, __int16 a4, WebCore::PrintContext *a5, WebCore::LocalFrameView *a6, WebCore::LocalFrame *a7)
{
  kdebug_trace();
  v39 = *a2;
  v14 = vdiv_f32(vcvt_f32_s32(*a3), vcvt_f32_s32(*(a2 + 8)));
  if (v14.f32[0] >= v14.f32[1])
  {
    v15 = v14.f32[0];
  }

  else
  {
    v15 = v14.f32[1];
  }

  if ((a4 & 0x100) != 0)
  {
    *&v34 = SDWORD2(v39);
    *(&v34 + 1) = SHIDWORD(v39);
    WebCore::PrintContext::spoolAllPagesWithBoundaries(a5, a7, &v34, v13);
  }

  else
  {
    v37.m_colorAndFlags = 0;
    v38.m_colorAndFlags = 0;
    if ((a4 & 0x1000) != 0)
    {
      v38.m_colorAndFlags = 0x1104000000000000;
      WebCore::LocalFrameView::baseBackgroundColor(&v37, a6);
      WebCore::LocalFrameView::setBaseBackgroundColor(a6, &v38);
    }

    else
    {
      WebCore::LocalFrameView::documentBackgroundColor(&v34, a6);
      if ((*(*(a5 + 16) + 684) & 8) != 0 && (v34 & 0x4000000000000) != 0)
      {
        v33[0] = v34;
        if ((v34 & 0x8000000000000) != 0)
        {
          atomic_fetch_add((v34 & 0xFFFFFFFFFFFFLL), 1u);
        }
      }

      else
      {
        WebCore::LocalFrameView::baseBackgroundColor(v33, a6);
      }

      if ((v38.m_colorAndFlags & 0x8000000000000) != 0)
      {
        v32 = (v38.m_colorAndFlags & 0xFFFFFFFFFFFFLL);
        if (atomic_fetch_add((v38.m_colorAndFlags & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v32);
          WTF::fastFree(v32, v16);
        }
      }

      v38.m_colorAndFlags = v33[0];
      if ((v34 & 0x8000000000000) != 0)
      {
        v30 = (v34 & 0xFFFFFFFFFFFFLL);
        if (atomic_fetch_add((v34 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v30);
          WTF::fastFree(v30, v16);
        }
      }
    }

    v17 = *a3;
    v33[0] = 0;
    v33[1] = v17;
    WebCore::FloatRect::FloatRect(&v34, v33);
    (*(*a7 + 232))(a7, &v34, &v38);
    if ((a4 & 0x20) == 0)
    {
      v18 = *(*(*(a5 + 3) + 8) + 324);
      (*(*a7 + 704))(a7, v18);
      v15 = v15 / v18;
    }

    *&v34 = v15;
    *(&v34 + 1) = v15;
    (*(*a7 + 656))(a7, &v34);
    v33[0] = (-v39 - (v39 & 0xFFFFFFFF00000000));
    WebCore::FloatPoint::FloatPoint(&v34, v33);
    v20.n128_u32[0] = HIDWORD(v34);
    v19.n128_u32[0] = v34;
    (*(*a7 + 672))(a7, v19, v20);
    WebCore::LocalFrameView::paintContentsForSnapshot();
    if ((a4 & 8) != 0)
    {
      WebCore::FrameSelection::selectionBounds();
      v34 = __PAIR64__(v23, v22);
      v35 = v24;
      v36 = v25;
      v33[0] = 0x11040000FF0000FFLL;
      WebCore::GraphicsContext::setStrokeColor(a7, v33);
      if ((*v33 & 0x8000000000000) != 0)
      {
        v31 = (*v33 & 0xFFFFFFFFFFFFLL);
        if (atomic_fetch_add((*v33 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v31);
          WTF::fastFree(v31, v26);
        }
      }

      (*(*a7 + 296))(a7, &v34, 1.0);
    }

    if ((a4 & 0x1000) != 0)
    {
      WebCore::LocalFrameView::setBaseBackgroundColor(a6, &v37);
    }

    if ((v37.m_colorAndFlags & 0x8000000000000) != 0)
    {
      v28 = (v37.m_colorAndFlags & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v37.m_colorAndFlags & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v28);
        WTF::fastFree(v28, v21);
      }
    }

    if ((v38.m_colorAndFlags & 0x8000000000000) != 0)
    {
      v29 = (v38.m_colorAndFlags & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v38.m_colorAndFlags & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v29);
        WTF::fastFree(v29, v21);
      }
    }
  }

  return kdebug_trace();
}

void WebKit::snapshotColorSpace(CFTypeRef *a1, __int16 a2, uint64_t a3)
{
  v4 = a1;
  if ((a2 & 0x200) == 0)
  {
    if ((a2 & 0x4000) != 0)
    {
      v6 = *(a3 + 56);
      if (v6)
      {
        v7 = v6 + 2;
        ++v6[2];
        v8 = WebCore::Page::drawsHDRContent(v6);
        a1 = WTF::RefCounted<WebCore::Page>::deref(v7);
        if (v8)
        {
LABEL_5:
          v9 = WebCore::DestinationColorSpace::ExtendedSRGB(a1);
          goto LABEL_31;
        }
      }

      else
      {
        a1 = WebCore::Page::drawsHDRContent(0);
        if (a1)
        {
          goto LABEL_5;
        }
      }
    }

    v9 = WebCore::DestinationColorSpace::SRGB(a1);
LABEL_31:
    v20 = *v9;
    *v4 = v20;
    if (v20)
    {

      CFRetain(v20);
    }

    return;
  }

  v10 = *(a3 + 56);
  if (v10)
  {
    ++*(v10 + 2);
  }

  WebCore::Page::protectedMainFrame(&v23, v10);
  WebCore::Frame::protectedVirtualView(&cf, v23);
  WebCore::screenColorSpace(&v24, cf, v11);
  v12 = cf;
  cf = 0;
  if (v12)
  {
    if (v12[2] == 1)
    {
      (*(*v12 + 8))(v12);
    }

    else
    {
      --v12[2];
    }
  }

  v13 = v23;
  v23 = 0;
  if (!v13)
  {
LABEL_14:
    if (!v10)
    {
      goto LABEL_16;
    }

    goto LABEL_15;
  }

  if (*(v13 + 4) != 1)
  {
    --*(v13 + 4);
    goto LABEL_14;
  }

  (*(*v13 + 8))(v13);
  if (v10)
  {
LABEL_15:
    WTF::RefCounted<WebCore::Page>::deref(v10 + 2);
  }

LABEL_16:
  if ((a2 & 0x4000) == 0)
  {
    goto LABEL_36;
  }

  v14 = *(a3 + 56);
  if (v14)
  {
    v15 = v14 + 2;
    ++v14[2];
    v16 = WebCore::Page::drawsHDRContent(v14);
    WTF::RefCounted<WebCore::Page>::deref(v15);
    if (v16)
    {
      goto LABEL_19;
    }

LABEL_36:
    *v4 = v24;
    return;
  }

  if ((WebCore::Page::drawsHDRContent(0) & 1) == 0)
  {
    goto LABEL_36;
  }

LABEL_19:
  WebCore::DestinationColorSpace::asExtended(&cf, &v24);
  if (v22 != 1)
  {
    goto LABEL_36;
  }

  v17 = cf;
  *v4 = cf;
  if (v17)
  {
    CFRetain(v17);
    if (v22)
    {
      v18 = cf;
      cf = 0;
      if (v18)
      {
        CFRelease(v18);
      }
    }
  }

  v19 = v24;
  v24 = 0;
  if (v19)
  {
    CFRelease(v19);
  }
}

void WebKit::WebPage::snapshotNode(uint64_t a1@<X0>, uint64_t a2@<X1>, unint64_t a3@<X2>, unsigned int a4@<W3>, WebKit::WebImage **a5@<X8>)
{
  v6 = *(*(a1 + 88) + 40);
  if (v6 && (v7 = *(v6 + 8)) != 0 && (*(v7 + 136) & 1) == 0)
  {
    ++*(v7 + 16);
    v8 = *(v7 + 216);
    if (v8)
    {
      v11 = *(v8 + 2);
      *(v8 + 2) = v11 + 1;
      v12 = *(a2 + 72);
      if (v12)
      {
        v57[0] = 0;
        v57[1] = 0;
        v15 = WebCore::RenderObject::paintingRootRect(v12, v57);
        v18 = v15 - (v17 & 0xFFFFFFC0);
        v19 = v18 + 32;
        v20 = ((v18 + 32) >> 6) + v15 / 64;
        v21 = HIDWORD(v15) - (v17 & 0xFFFFFFC0);
        v22 = (((v21 + 32) >> 6) + SHIDWORD(v15) / 64);
        v24 = __OFADD__(v18, v23);
        v25 = v18 + v23;
        v26 = (v18 >> 31) + 0x7FFFFFFF;
        if (v24)
        {
          v25 = v26;
        }

        v27 = (v25 / 64 - (v19 >> 6) + ((v25 - (v26 & 0xFFFFFFC0) + 32) >> 6));
        v28 = v21 + v16;
        if (__OFADD__(v21, v16))
        {
          v28 = (v21 >> 31) + 0x7FFFFFFF;
        }

        v29 = (v28 / 64 - ((v21 + 32) >> 6) + ((v28 - (((v21 >> 31) + 0x7FFFFFFF) & 0xFFFFFFC0) + 32) >> 6));
        v30 = (v27 | (v29 << 32));
        v52 = v20;
        v53 = ((v21 + 32) >> 6) + SHIDWORD(v15) / 64;
        v54 = (((v21 + 32) >> 6) + SHIDWORD(v15) / 64) >> 16;
        v55 = (((v21 + 32) >> 6) + SHIDWORD(v15) / 64) >> 24;
        v56 = v30;
        if (v27 < 1 || v29 <= 0)
        {
          *a5 = 0;
        }

        else
        {
          v32 = a3;
          v33 = a4 / v27;
          if (v33 >= v29)
          {
            v34 = 1.0;
          }

          else
          {
            v34 = v33 / v29;
            v30 = ((v34 * v27) | (v33 << 32));
          }

          v51 = v30;
          if (a3)
          {
            LODWORD(v35) = 1;
          }

          else if ((a3 & 0x2000) != 0)
          {
            LODWORD(v35) = 4;
          }

          else
          {
            v35 = (a3 >> 11) & 8;
          }

          WebKit::snapshotColorSpace(&cf, a3, a1);
          WebKit::WebImage::create(&cf, &v51, v35, *(*(*(a1 + 56) + 56) + 16), &v50);
          v36 = cf;
          cf = 0;
          if (v36)
          {
            CFRelease(v36);
          }

          if (WebKit::WebImage::context(v50))
          {
            v37 = WebKit::WebImage::context(v50);
            v38 = v37;
            if ((v32 & 0x20) == 0)
            {
              v39 = *(*(a1 + 56) + 324);
              (*(*v37 + 704))(v37);
              v34 = v34 / v39;
            }

            v40 = v34;
            *&cf = v40;
            *(&cf + 1) = v40;
            (*(*v38 + 656))(v38, &cf);
            v49.m_colorAndFlags = -v20 - (v22 << 32);
            WebCore::FloatPoint::FloatPoint(&cf, &v49);
            v42.n128_u32[0] = HIDWORD(cf);
            v41.n128_u32[0] = cf;
            (*(*v38 + 672))(v38, v41, v42);
            WebCore::LocalFrameView::baseBackgroundColor(&cf, v8);
            v49.m_colorAndFlags = 0x1104000000000000;
            WebCore::LocalFrameView::setBaseBackgroundColor(v8, &v49);
            if ((v49.m_colorAndFlags & 0x8000000000000) != 0)
            {
              v47 = (v49.m_colorAndFlags & 0xFFFFFFFFFFFFLL);
              if (atomic_fetch_add((v49.m_colorAndFlags & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
              {
                atomic_store(1u, v47);
                WTF::fastFree(v47, v43);
              }
            }

            WebCore::LocalFrameView::setNodeToDraw(v8, a2);
            WebCore::LocalFrameView::paintContentsForSnapshot();
            WebCore::LocalFrameView::setBaseBackgroundColor(v8, &cf);
            WebCore::LocalFrameView::setNodeToDraw(v8, 0);
            v45 = v50;
            v50 = 0;
            *a5 = v45;
            if ((cf & 0x8000000000000) != 0)
            {
              v48 = (cf & 0xFFFFFFFFFFFFLL);
              if (atomic_fetch_add((cf & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
              {
                atomic_store(1u, v48);
                WTF::fastFree(v48, v44);
              }
            }
          }

          else
          {
            *a5 = 0;
          }

          v46 = v50;
          v50 = 0;
          if (v46)
          {
            CFRelease(*(v46 + 1));
          }
        }

        v11 = *(v8 + 2) - 1;
      }

      else
      {
        *a5 = 0;
      }

      if (v11)
      {
        *(v8 + 2) = v11;
      }

      else
      {
        (*(*v8 + 8))(v8);
      }
    }

    else
    {
      *a5 = 0;
    }

    if (*(v7 + 16) == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --*(v7 + 16);
    }
  }

  else
  {
    *a5 = 0;
  }
}

IPC::Encoder *WebKit::WebPage::pageDidScroll(WebKit::WebPage *this, void *a2)
{
  if ((*(this + 1421) & 1) == 0)
  {
    v3 = *(this + 5);
    v4 = *(v3 + 432);
    if (v4)
    {
      *(v3 + 432) = 0;
      WTF::fastFree((v4 - 16), a2);
    }
  }

  (*(**(this + 50) + 64))(*(this + 50), this);
  PAL::HysteresisActivity::impulse(this + 696);
  v5 = *(this + 7);
  if (v5)
  {
    ++*(v5 + 2);
  }

  WebCore::Page::protectedMainFrame(&v20, v5);
  v6 = (*(*v20 + 56))(v20);
  v7 = v6;
  if (v6)
  {
    ++*(v6 + 8);
  }

  result = v20;
  v20 = 0;
  if (!result)
  {
LABEL_11:
    if (!v5)
    {
      goto LABEL_13;
    }

    goto LABEL_12;
  }

  if (*(result + 4) != 1)
  {
    --*(result + 4);
    goto LABEL_11;
  }

  result = (*(*result + 8))(result);
  if (v5)
  {
LABEL_12:
    result = WTF::RefCounted<WebCore::Page>::deref(v5 + 2);
  }

LABEL_13:
  if (v7)
  {
    v9 = WebCore::ScrollableArea::visibleContentRect();
    v10 = v9;
    v11 = HIDWORD(v9);
    v13 = *(this + 4);
    v12 = this + 32;
    v14 = (*(v13 + 56))(v12);
    v16 = IPC::Encoder::operator new(0x238, v15);
    *v16 = 2305;
    *(v16 + 2) = 0;
    *(v16 + 3) = 0;
    *(v16 + 1) = v14;
    *(v16 + 68) = 0;
    *(v16 + 70) = 0;
    *(v16 + 69) = 0;
    IPC::Encoder::encodeHeader(v16);
    v20 = v16;
    IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v16, v10);
    IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v16, v11);
    (*(*v12 + 32))(v12, &v20, 0);
    result = v20;
    v20 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v17);
      result = bmalloc::api::tzoneFree(v18, v19);
    }

    if (v7[2] == 1)
    {
      return (*(*v7 + 8))(v7);
    }

    else
    {
      --v7[2];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::updateDrawingAreaLayerTreeFreezeState(uint64_t this)
{
  v1 = *(this + 72);
  if (!v1)
  {
    return this;
  }

  v2 = this;
  ++v1[4];
  v3 = *(this + 464);
  if (v3 && (++*(v3 + 4), WebKit::VideoPresentationManager::hasVideoPlayingInPictureInPicture(v3)) && ((*(v2 + 1816) ^ (*(v2 + 1816) - 1)) > *(v2 + 1816) - 1 ? (v4 = (*(v2 + 1816) & 2) == 0) : (v4 = 1), !v4))
  {
    this = (*(*v1 + 104))(v1, 0);
  }

  else
  {
    this = (*(*v1 + 104))(v1, *(v2 + 1816) != 0);
    if (!v3)
    {
      goto LABEL_4;
    }
  }

  if (*(v3 + 4) == 1)
  {
    this = (*(*v3 + 24))(v3);
  }

  else
  {
    --*(v3 + 4);
  }

LABEL_4:
  if (v1[4] == 1)
  {
    v5 = *(*v1 + 24);

    return v5(v1);
  }

  else
  {
    --v1[4];
  }

  return this;
}

void WebKit::WebPage::updateFrameScrollingMode(uint64_t a1, void *a2)
{
  if (*(a1 + 56))
  {
    {
      v3 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v9 = WebKit::WebProcess::operator new(0x370, a2);
      v3 = WebKit::WebProcess::WebProcess(v9);
      WebKit::WebProcess::singleton(void)::process = v3;
    }

    v4 = WebKit::WebProcess::webFrame(v3, a2, 1);
    if (v4)
    {
      v5 = v4;
      CFRetain(*(v4 + 8));
      v6 = *(v5 + 40);
      if (v6)
      {
        v7 = *(v6 + 8);
        if (v7)
        {
          if ((*(v7 + 136) & 1) == 0)
          {
            ++*(v7 + 16);
            WebCore::LocalFrame::setScrollingMode();
            if (*(v7 + 16) == 1)
            {
              (*(*v7 + 8))(v7);
            }

            else
            {
              --*(v7 + 16);
            }
          }
        }
      }

      v8 = *(v5 + 8);

      CFRelease(v8);
    }
  }
}

uint64_t WebKit::WebPage::tryMarkLayersVolatile(_DWORD *a1, void *a2)
{
  if (a1)
  {
    ++a1[4];
    result = (*(*a1 + 344))(a1);
    if (a1[4] != 1)
    {
      --a1[4];
      return result;
    }

    v4 = *(*a1 + 24);
    v5 = a1;
  }

  else
  {
    v6 = *a2;
    *a2 = 0;
    (*(*v6 + 16))(v6, 0);
    v4 = *(*v6 + 8);
    v5 = v6;
  }

  return v4(v5);
}

uint64_t WebKit::WebPage::callVolatilityCompletionHandlers(WebKit::WebPage *this, uint64_t a2)
{
  v9[0] = 0;
  v9[1] = 0;
  std::exchange[abi:sn200100]<WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>(&v10, this + 416, v9);
  WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v9, v3);
  if (v11)
  {
    v5 = v10;
    v6 = 8 * v11;
    do
    {
      v7 = *v5;
      *v5++ = 0;
      (*(*v7 + 16))(v7, a2);
      (*(*v7 + 8))(v7);
      v6 -= 8;
    }

    while (v6);
  }

  return WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v10, v4);
}

uint64_t WebKit::WebPage::markLayersVolatileOrRetry(uint64_t a1, char a2)
{
  CFRetain(*(a1 + 8));
  v4 = WTF::fastMalloc(0x18);
  *v4 = &unk_1F1133F40;
  *(v4 + 8) = a2;
  *(v4 + 16) = a1;
  v6 = v4;
  WebKit::WebPage::tryMarkLayersVolatile(*(a1 + 72), &v6);
  result = v6;
  v6 = 0;
  if (result)
  {
    return (*(*result + 8))(result);
  }

  return result;
}

uint64_t WebKit::WebPage::markLayersVolatile(uint64_t a1, uint64_t *a2)
{
  v14 = *MEMORY[0x1E69E9840];
  v4 = WebCore::logClient(a1);
  v5 = WTF::downcast<WebKit::LogClient,WebCore::LogClient>(*v4);
  if (v5)
  {
    WebKit::LogClient::WEBPAGE_MARK_LAYERS_VOLATILE(v5, *(a1 + 48));
  }

  else
  {
    v9 = qword_1ED640CC0;
    if (os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
    {
      v10 = *(a1 + 48);
      v12 = 134217984;
      v13 = v10;
      _os_log_impl(&dword_19D52D000, v9, OS_LOG_TYPE_DEFAULT, "[webPageID=%llu] WebPage::markLayersVolatile", &v12, 0xCu);
    }
  }

  if ((*(a1 + 1632) & 0xFFFFFFFFFFFFLL) != 0 && *((*(a1 + 1632) & 0xFFFFFFFFFFFFLL) + 8) != 0.0)
  {
    WebCore::TimerBase::stopSlowCase((a1 + 1600));
  }

  v6 = *a2;
  if (*a2)
  {
    v7 = *(a1 + 1676);
    if (v7 == *(a1 + 1672))
    {
      WTF::Vector<WTF::CompletionHandler<void ()(BOOL)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::CompletionHandler<void ()(BOOL)>>(a1 + 1664, a2);
    }

    else
    {
      v11 = *(a1 + 1664);
      *a2 = 0;
      *(v11 + 8 * v7) = v6;
      *(a1 + 1676) = v7 + 1;
    }
  }

  *(a1 + 1656) = 0x3F947AE147AE147BLL;
  return WebKit::WebPage::markLayersVolatileOrRetry(a1, *(a1 + 1680));
}

void WebKit::LogClient::WEBPAGE_MARK_LAYERS_VOLATILE(WebKit::LogClient *this, uint64_t a2)
{
  os_unfair_lock_lock(this + 4);
  v4 = *(this + 1);
  v5 = a2;
  IPC::StreamClientConnection::send<Messages::LogStream::WEBPAGE_MARK_LAYERS_VOLATILE,WebKit::LogStreamIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>(v4, &v5, *(this + 3));

  os_unfair_lock_unlock(this + 4);
}

void WebKit::WebPage::tryMarkLayersVolatileCompletionHandler(uint64_t a1, int a2, uint64_t a3)
{
  v27 = *MEMORY[0x1E69E9840];
  if ((*(a1 + 202) & 1) == 0)
  {
    if (a2 || a3)
    {
      if ((*(a1 + 1632) & 0xFFFFFFFFFFFFLL) != 0)
      {
        WebCore::TimerBase::stopSlowCase((a1 + 1600));
      }

      if (a3)
      {
        v6 = qword_1ED640CC0;
        if (!os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
        {
LABEL_11:
          WebKit::WebPage::callVolatilityCompletionHandlers(a1, a3);
          return;
        }

        v7 = *(a1 + 48);
        v21 = 134218240;
        v22 = a1;
        v23 = 2048;
        v24 = v7;
        v8 = "%p - [webPageID=%llu] WebPage::markLayersVolatile: Succeeded in marking layers as volatile";
      }

      else
      {
        if (a2 == 2)
        {
          v14 = qword_1ED640CC0;
          if (!os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
          {
            goto LABEL_11;
          }

          v15 = *(a1 + 48);
          v21 = 134218496;
          v22 = a1;
          v23 = 2048;
          v24 = v15;
          v25 = 2048;
          v26 = 0x409F400000000000;
          v8 = "%p - [webPageID=%llu] WebPage::markLayersVolatile: Failed to mark layers as volatile within %gms";
          v9 = v14;
          v10 = 32;
          goto LABEL_10;
        }

        if (a2 != 1)
        {
          goto LABEL_11;
        }

        v6 = qword_1ED640CC0;
        if (!os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
        {
          goto LABEL_11;
        }

        v11 = *(a1 + 48);
        v21 = 134218240;
        v22 = a1;
        v23 = 2048;
        v24 = v11;
        v8 = "%p - [webPageID=%llu] WebPage::markLayersVolatile: Did what we could to mark IOSurfaces as purgeable after locking the screen";
      }

      v9 = v6;
      v10 = 22;
LABEL_10:
      _os_log_impl(&dword_19D52D000, v9, OS_LOG_TYPE_DEFAULT, v8, &v21, v10);
      goto LABEL_11;
    }

    if (*(a1 + 1676))
    {
      v12 = WebCore::logClient(a1);
      v13 = WTF::downcast<WebKit::LogClient,WebCore::LogClient>(*v12);
      if (v13)
      {
        WebKit::LogClient::WEBPAGE_FAILED_TO_MARK_ALL_LAYERS_VOLATILE(v13, *(a1 + 48), *(a1 + 1656) * 1000.0);
      }

      else
      {
        v18 = qword_1ED640CC0;
        if (os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
        {
          v19 = *(a1 + 48);
          v20 = *(a1 + 1656) * 1000.0;
          v21 = 134218240;
          v22 = v19;
          v23 = 2048;
          v24 = v20;
          _os_log_impl(&dword_19D52D000, v18, OS_LOG_TYPE_DEFAULT, "[webPageID=%llu] WebPage::markLayersVolatile: Failed to mark all layers as volatile, will retry in %g ms", &v21, 0x16u);
        }
      }

      WebCore::TimerBase::start();
    }

    else
    {
      v16 = qword_1ED640CC0;
      if (os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
      {
        v17 = *(a1 + 48);
        v21 = 134218240;
        v22 = a1;
        v23 = 2048;
        v24 = v17;
        _os_log_impl(&dword_19D52D000, v16, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::markLayersVolatile: Failed to mark all layers as volatile, but will not retry because the operation was cancelled", &v21, 0x16u);
      }
    }
  }
}

void WebKit::LogClient::WEBPAGE_FAILED_TO_MARK_ALL_LAYERS_VOLATILE(os_unfair_lock_s *this, uint64_t a2, double a3)
{
  os_unfair_lock_lock(this + 4);
  v7 = *&this[2]._os_unfair_lock_opaque;
  v8 = *&this[6]._os_unfair_lock_opaque;
  v9 = *(v7 + 128);
  v10 = INFINITY;
  if (fabs(v9) != INFINITY)
  {
    WTF::ApproximateTime::now(v6);
    v10 = v9 + v11;
  }

  if (*(v7 + 64) != v8)
  {
    IPC::StreamClientConnectionBuffer::tryAcquire(v7 + 72, &v52, v10);
    if (v54 != 1)
    {
      goto LABEL_32;
    }

    v36 = v53;
    if (v53 <= 1)
    {
      goto LABEL_55;
    }

    v37 = v52;
    *v52 = 3198;
    v38 = v37 + 2;
    if (v36 - 2 < (-v38 & 7 | 8uLL))
    {
      goto LABEL_32;
    }

    v39 = -v38 & 7;
    *&v38[v39] = v8;
    if (v39 != 7)
    {
      v39 = 6;
    }

    v40 = (*(v7 + 88) + 1) & 0xFFFFFFFFFFFFFFFELL;
    v42 = *(v7 + 72);
    v41 = *(v7 + 80);
    v43 = v39 + 10;
    if (v40 + 16 >= v42)
    {
      v40 = 0;
    }

    v44 = v43 + v40;
    if (v42 <= v44)
    {
      v44 = 0;
    }

    *(v7 + 88) = v44;
    if (*(v41 + 8) <= 0xFFuLL)
    {
      goto LABEL_54;
    }

    v45 = atomic_exchange((*(v41 + 16) + 128), v44);
    v46 = *(v7 + 124);
    if (v45 == 0x80000000 || v46 != 0)
    {
      v48 = v46 + 1;
      *(v7 + 124) = v48;
      if (v48 >= *(v7 + 120))
      {
        if (*(v7 + 112) == 1)
        {
          MEMORY[0x19EB16320](*(v7 + 100));
        }

        *(v7 + 124) = 0;
      }
    }

    *(v7 + 64) = v8;
  }

  IPC::StreamClientConnectionBuffer::tryAcquire(v7 + 72, &v49, v10);
  if (v51 != 1)
  {
    goto LABEL_32;
  }

  v12 = v49;
  v13 = v50;
  v54 = v50;
  if (v50 <= 1)
  {
LABEL_55:
    __break(0xC471u);
    JUMPOUT(0x19E3E6D1CLL);
  }

  *v49 = 302;
  v14 = v12 + 1;
  v15 = v13 - 2;
  v16 = -v14 & 7 | 8;
  v17 = v15 >= v16;
  v18 = v15 - v16;
  if (v17)
  {
    *(v14 + (-v14 & 7)) = a2;
    v52 = (v14 + v16);
    v53 = v18;
  }

  else
  {
    v52 = 0;
    v53 = 0;
  }

  v55 = a3;
  IPC::StreamConnectionEncoder::encodeSpan<double const,18446744073709551615ul>(&v52, &v55, 1);
  if (v52)
  {
    v20 = v54 - v53;
    if (v54 - v53 <= 0x10)
    {
      v20 = 16;
    }

    v21 = (*(v7 + 88) + 1) & 0xFFFFFFFFFFFFFFFELL;
    v22 = *(v7 + 72);
    if (v21 + 16 >= v22)
    {
      v21 = 0;
    }

    v23 = v21 + v20;
    if (v22 <= v23)
    {
      v23 = 0;
    }

    *(v7 + 88) = v23;
    v24 = *(v7 + 80);
    if (*(v24 + 8) > 0xFFuLL)
    {
      if (atomic_exchange((*(v24 + 16) + 128), v23) == 0x80000000 || *(v7 + 124))
      {
        if (*(v7 + 112) == 1)
        {
          MEMORY[0x19EB16320](*(v7 + 100));
        }

        *(v7 + 124) = 0;
      }

      goto LABEL_32;
    }

    goto LABEL_54;
  }

  if ((v51 & 1) == 0)
  {
LABEL_54:
    __break(1u);
    goto LABEL_55;
  }

  if (v50 <= 1)
  {
    __break(0xC471u);
    goto LABEL_54;
  }

  *v49 = 3197;
  v25 = (*(v7 + 88) + 1) & 0xFFFFFFFFFFFFFFFELL;
  v26 = *(v7 + 72);
  if (v25 + 16 >= v26)
  {
    v25 = 0;
  }

  v27 = v25 + 16;
  if (v26 <= v27)
  {
    v28 = 0;
  }

  else
  {
    v28 = v27;
  }

  *(v7 + 88) = v28;
  v29 = *(v7 + 80);
  if (*(v29 + 8) <= 0xFFuLL)
  {
    goto LABEL_54;
  }

  atomic_exchange((*(v29 + 16) + 128), v28);
  *(v7 + 124) = 0;
  v30 = *(v7 + 8);
  v31 = IPC::Encoder::operator new(0x238, v19);
  *v31 = 302;
  *(v31 + 2) = 0;
  *(v31 + 3) = 0;
  *(v31 + 1) = v8;
  *(v31 + 68) = 0;
  *(v31 + 70) = 0;
  *(v31 + 69) = 0;
  IPC::Encoder::encodeHeader(v31);
  v52 = v31;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v31, a2);
  IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v31, a3);
  IPC::Connection::sendMessageImpl(v30, &v52, 1, 0);
  v33 = v52;
  v52 = 0;
  if (v33)
  {
    IPC::Encoder::~Encoder(v33, v32);
    bmalloc::api::tzoneFree(v34, v35);
  }

LABEL_32:
  os_unfair_lock_unlock(this + 4);
}

uint64_t WebKit::WebPage::cancelMarkLayersVolatile(WebKit::WebPage *this)
{
  v9 = *MEMORY[0x1E69E9840];
  v2 = qword_1ED640CC0;
  if (os_log_type_enabled(qword_1ED640CC0, OS_LOG_TYPE_DEFAULT))
  {
    v3 = *(this + 6);
    v5 = 134218240;
    v6 = this;
    v7 = 2048;
    v8 = v3;
    _os_log_impl(&dword_19D52D000, v2, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::cancelMarkLayersVolatile:", &v5, 0x16u);
  }

  if ((*(this + 204) & 0xFFFFFFFFFFFFLL) != 0)
  {
    WebCore::TimerBase::stopSlowCase((this + 1600));
  }

  return WebKit::WebPage::callVolatilityCompletionHandlers(this, 0);
}

IPC::Encoder *WebKit::WebPage::mouseEvent(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v69[2] = *MEMORY[0x1E69E9840];
  v8 = *(a1 + 896);
  *(a1 + 896) = 1;
  PAL::HysteresisActivity::impulse((*(a1 + 40) + 336));
  if (*(a1 + 771) != 1)
  {
    v64 = 0;
    v65 = 0;
    if (*(a4 + 16) == 1)
    {
      v66 = 0uLL;
      v18 = *(a4 + 12);
      if (!v18)
      {
        goto LABEL_13;
      }

      if (v18 >> 29)
      {
        __break(0xC471u);
        goto LABEL_55;
      }

      v19 = WTF::fastMalloc((8 * v18));
      DWORD2(v66) = v18;
      *&v66 = v19;
      v20 = *(a4 + 12);
      if (v20)
      {
        v21 = v19;
        v22 = 0;
        v23 = 0;
        v24 = *a4;
        v25 = 8 * v20;
        do
        {
          if (*v24)
          {
            v26 = WTF::fastMalloc(0x18);
            *v26 = 1;
            v27 = *v24;
            *v24 = 0;
            *(v26 + 8) = v27;
            *(v26 + 16) = 1;
            WebKit::SandboxExtensionImpl::consume(v27);
            v22 = v23 + 1;
            *(v21 + 8 * v23++) = v26;
          }

          ++v24;
          v25 -= 8;
        }

        while (v25);
        HIDWORD(v66) = v22;
        v28 = v23;
      }

      else
      {
LABEL_13:
        v28 = 0;
      }

      WTF::Vector<WTF::Ref<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(&v66, v28);
      v29 = *(&v66 + 1);
      v64 = v66;
      v66 = 0uLL;
      v65 = v29;
      WTF::Vector<WTF::Ref<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v66, v30);
    }

    {
      v31 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v59 = WebKit::WebProcess::operator new(0x370, v9);
      v31 = WebKit::WebProcess::WebProcess(v59);
      WebKit::WebProcess::singleton(void)::process = v31;
    }

    v32 = WebKit::WebProcess::webFrame(v31, a2, 1);
    if (!v32)
    {
      v43 = 0;
      goto LABEL_30;
    }

    v33 = v32;
    CFRetain(*(v32 + 8));
    v34 = WebKit::g_currentEvent;
    if (WebKit::g_currentEvent)
    {
      atomic_fetch_add((WebKit::g_currentEvent + 8), 1u);
    }

    WebKit::g_currentEvent = a3;
    v35 = WebKit::WebFrame::handleMouseEvent(v33, a3, &v66);
    if (v67)
    {
      if (v67 != 1)
      {
        mpark::throw_bad_variant_access(v35);
      }

      v36 = v66;
      v69[0] = *(&v66 + 1);
      *(v69 + 7) = *(&v66 + 1);
      WebKit::WebPage::revokeSandboxExtensions(&v64);
      v37 = *(a3 + 12);
      v60 = v36;
      *v61 = v69[0];
      *&v61[7] = *(v69 + 7);
      v62 = 1;
      LOWORD(v63[0]) = v37;
      v63[1] = &v60;
      v38 = (*(*(a1 + 32) + 56))(a1 + 32);
      v40 = IPC::Encoder::operator new(0x238, v39);
      *v40 = 2222;
      *(v40 + 2) = 0;
      *(v40 + 3) = 0;
      *(v40 + 1) = v38;
      *(v40 + 68) = 0;
      *(v40 + 70) = 0;
      *(v40 + 69) = 0;
      IPC::Encoder::encodeHeader(v40);
      v68 = v40;
      Messages::WebPageProxy::DidReceiveEventIPC::encode<IPC::Encoder>(v63, v40);
      (*(*(a1 + 32) + 32))(a1 + 32, &v68, 0);
      v42 = v68;
      v68 = 0;
      if (v42)
      {
        IPC::Encoder::~Encoder(v42, v41);
        bmalloc::api::tzoneFree(v55, v56);
      }

      v43 = 0;
      v44 = 1;
    }

    else
    {
      v44 = 0;
      v43 = v66;
    }

    WebKit::g_currentEvent = v34;
    if (!v34)
    {
LABEL_29:
      CFRelease(v33[1]);
      if (v44)
      {
LABEL_47:
        result = WTF::Vector<WTF::Ref<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v64, v46);
        goto LABEL_48;
      }

LABEL_30:
      WebKit::WebPage::revokeSandboxExtensions(&v64);
      v47 = *(a1 + 72);
      if (v47 && (++v47[4], *(a3 + 12) == 2) && *(a3 + 48) == 254)
      {
        v48 = *(a3 + 96);
        WebKit::WebPage::flushDeferredDidReceiveMouseEvent(a1);
        if (v48 == 0.0 && (*(*v47 + 288))(v47))
        {
          if (v43)
          {
            v49 = 16843008;
          }

          else
          {
            v49 = 16777472;
          }

          *(a1 + 836) = v49 | *(a3 + 12);
LABEL_45:
          if (v47[4] == 1)
          {
            (*(*v47 + 24))(v47);
          }

          else
          {
            --v47[4];
          }

          goto LABEL_47;
        }
      }

      else
      {
        WebKit::WebPage::flushDeferredDidReceiveMouseEvent(a1);
      }

      v50 = *(a3 + 12);
      LOBYTE(v66) = 0;
      v67 = 0;
      v60 = v50;
      v61[0] = v43 & 1;
      *&v61[7] = &v66;
      v51 = (*(*(a1 + 32) + 56))(a1 + 32);
      v53 = IPC::Encoder::operator new(0x238, v52);
      *v53 = 2222;
      *(v53 + 2) = 0;
      *(v53 + 3) = 0;
      *(v53 + 1) = v51;
      *(v53 + 68) = 0;
      *(v53 + 70) = 0;
      *(v53 + 69) = 0;
      IPC::Encoder::encodeHeader(v53);
      v63[0] = v53;
      Messages::WebPageProxy::DidReceiveEventIPC::encode<IPC::Encoder>(&v60, v53);
      (*(*(a1 + 32) + 32))(a1 + 32, v63, 0);
      v54 = v63[0];
      v63[0] = 0;
      if (v54)
      {
        IPC::Encoder::~Encoder(v54, v46);
        bmalloc::api::tzoneFree(v57, v58);
      }

      if (*(a3 + 12) == 1)
      {
        WebKit::WebPage::removeTextInteractionSources(a1, 2);
      }

      if (!v47)
      {
        goto LABEL_47;
      }

      goto LABEL_45;
    }

    if (atomic_load((v34 + 8)))
    {
      atomic_fetch_add((v34 + 8), 0xFFFFFFFF);
      goto LABEL_29;
    }

    __break(0xC471u);
LABEL_55:
    JUMPOUT(0x19E3E7444);
  }

  v10 = *(a3 + 12);
  LOBYTE(v66) = 0;
  v67 = 0;
  v60 = v10;
  v61[0] = 0;
  *&v61[7] = &v66;
  v11 = (*(*(a1 + 32) + 56))(a1 + 32);
  v13 = IPC::Encoder::operator new(0x238, v12);
  *v13 = 2222;
  *(v13 + 2) = 0;
  *(v13 + 3) = 0;
  *(v13 + 1) = v11;
  *(v13 + 68) = 0;
  *(v13 + 70) = 0;
  *(v13 + 69) = 0;
  IPC::Encoder::encodeHeader(v13);
  v64 = v13;
  Messages::WebPageProxy::DidReceiveEventIPC::encode<IPC::Encoder>(&v60, v13);
  (*(*(a1 + 32) + 32))(a1 + 32, &v64, 0);
  result = v64;
  v64 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v14);
    result = bmalloc::api::tzoneFree(v16, v17);
  }

LABEL_48:
  *(a1 + 896) = v8;
  return result;
}

uint64_t IPC::MessageSender::send<Messages::WebPageProxy::DidReceiveEventIPC>(uint64_t a1, uint64_t a2)
{
  v4 = (*(*a1 + 56))(a1);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2222;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v13 = v6;
  Messages::WebPageProxy::DidReceiveEventIPC::encode<IPC::Encoder>(a2, v6);
  v8 = (*(*a1 + 32))(a1, &v13, 0);
  v9 = v13;
  v13 = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v7);
    bmalloc::api::tzoneFree(v11, v12);
  }

  return v8;
}

unsigned int *WebKit::WebPage::revokeSandboxExtensions(unsigned int *a1)
{
  v2 = a1[3];
  if (v2)
  {
    v3 = *a1;
    v4 = 8 * v2;
    do
    {
      v5 = *v3;
      v6 = *(*v3 + 16) - 1;
      *(*v3 + 16) = v6;
      if (!v6)
      {
        *(*(v5 + 8) + 8) = 0;
        sandbox_extension_release();
      }

      ++v3;
      v4 -= 8;
    }

    while (v4);
  }

  return WTF::Vector<WTF::Ref<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(a1, 0);
}

void WebKit::WebPage::setLastKnownMousePosition(uint64_t a1, void *a2, IntPoint a3, IntPoint a4)
{
  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v15 = WebKit::WebProcess::operator new(0x370, a2);
    v7 = WebKit::WebProcess::WebProcess(v15);
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  v8 = WebKit::WebProcess::webFrame(v7, a2, 1);
  if (v8)
  {
    v9 = v8;
    CFRetain(*(v8 + 8));
    v10 = *(v9 + 40);
    if (v10)
    {
      v11 = *(v10 + 8);
      if (v11)
      {
        if ((*(v11 + 136) & 1) == 0 && *(v11 + 216))
        {
          v12 = a3;
          v13 = a4;
          WebCore::EventHandler::setLastKnownMousePosition(*(v11 + 336), v12, v13);
        }
      }
    }

    v14 = *(v9 + 8);

    CFRelease(v14);
  }
}

_DWORD *WebKit::WebPage::startDeferringResizeEvents(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::startDeferringResizeEvents(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::startDeferringResizeEvents(0);
  }
}

_DWORD *WebKit::WebPage::flushDeferredResizeEvents(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::flushDeferredResizeEvents(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::flushDeferredResizeEvents(0);
  }
}

_DWORD *WebKit::WebPage::startDeferringScrollEvents(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::startDeferringScrollEvents(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::startDeferringScrollEvents(0);
  }
}

_DWORD *WebKit::WebPage::flushDeferredScrollEvents(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::flushDeferredScrollEvents(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::flushDeferredScrollEvents(0);
  }
}

void WebKit::WebPage::performHitTestForMouseEvent(uint64_t a1, WebKit *this, uint64_t *a3)
{
  v44 = *MEMORY[0x1E69E9840];
  v4 = *(this + 13);
  if (*(*(*(a1 + 56) + 176) + 136))
  {
    v5 = 0;
  }

  else
  {
    v5 = *(*(a1 + 56) + 176);
  }

  if (v5)
  {
    ++*(v5 + 16);
    if (*(v5 + 216))
    {
      WebKit::platform(v30, this);
      WebCore::EventHandler::getHitTestResultForMouseEvent();
      WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v36, v7);
      WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v35, v8);
      v10 = v34;
      v34 = 0;
      if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v10, v9);
      }

      v27 = 0;
      v26 = 0;
      WebCore::Chrome::getToolTip();
      v25 = 0;
      WebKit::WebHitTestResultData::WebHitTestResultData(v30, v28, &v27, 0);
      (*(**(a1 + 400) + 56))(*(a1 + 400), a1, v28, v4, &v25);
      {
        v23 = WebKit::WebProcess::operator new(0x370, v11);
        WebKit::WebProcess::singleton(void)::process = WebKit::WebProcess::WebProcess(v23);
      }

      v29 = &unk_1F1122420;
      WebKit::UserData::transform(v25, &v29, &v24);
      v12 = v24;
      if (v24)
      {
        CFRetain(v24[1]);
      }

      v29 = v12;
      v13 = *a3;
      *a3 = 0;
      (*(*v13 + 16))(v13, v30, v4, &v29);
      (*(*v13 + 8))(v13);
      v15 = v29;
      v29 = 0;
      if (v15)
      {
        CFRelease(v15[1]);
      }

      v16 = v24;
      v24 = 0;
      if (v16)
      {
        CFRelease(v16[1]);
      }

      WebKit::WebHitTestResultData::~WebHitTestResultData(v30, v14);
      v18 = v25;
      v25 = 0;
      if (v18)
      {
        CFRelease(*(v18 + 1));
      }

      v19 = v27;
      v27 = 0;
      if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v19, v17);
      }

      MEMORY[0x19EB04BD0](v28);
LABEL_26:
      if (*(v5 + 16) == 1)
      {
        (*(*v5 + 8))(v5);
      }

      else
      {
        --*(v5 + 16);
      }

      return;
    }
  }

  v32 = 0;
  v31 = 0;
  v33 = 0;
  v36[304] = 0;
  v36[320] = 0;
  v36[336] = 0;
  v40 = 0;
  v41 = 0;
  memset(v30, 0, sizeof(v30));
  v37 = 0u;
  v38 = 0u;
  v39 = 0u;
  v42 = 0u;
  v43 = 0u;
  v28[0] = 0;
  v20 = *a3;
  *a3 = 0;
  (*(*v20 + 16))(v20, v30, v4, v28);
  (*(*v20 + 8))(v20);
  v22 = v28[0];
  v28[0] = 0;
  if (v22)
  {
    CFRelease(*(v22 + 8));
  }

  WebKit::WebHitTestResultData::~WebHitTestResultData(v30, v21);
  if (v5)
  {
    goto LABEL_26;
  }
}

atomic_uchar **WebKit::WebPage::handleWheelEvent(WebKit::WebPage *a1, uint64_t a2, const WebKit::WebWheelEvent *a3, uint64_t a4, __int16 a5, uint64_t *a6)
{
  v41 = *MEMORY[0x1E69E9840];
  v31 = a2;
  v10 = WebKit::WebPage::scrollingCoordinator(a1);
  if (!v10 || (v11 = v10, !(*(*v10 + 32))(v10)))
  {
    WebKit::WebPage::wheelEvent(a1, &v31, a3, &v28);
    v16 = v30;
    if (v30)
    {
      if (v30 != 1)
      {
        goto LABEL_19;
      }

      v17 = 0;
      v18 = v28;
      *&v39 = *v29;
      *(&v39 + 7) = *&v29[7];
    }

    else
    {
      v18 = 0;
      v17 = v28;
    }

    v19 = *a6;
    *a6 = 0;
    LOBYTE(v36) = 0;
    LOBYTE(v37) = 0;
    v32 = v18;
    *v33 = v39;
    *&v33[7] = *(&v39 + 7);
    v34 = v16;
    *v35 = v38[0];
    *&v35[3] = *(v38 + 3);
    (*(*v19 + 16))(v19, &v36, 0, v17 & 1, &v32);
    return (*(*v19 + 8))(v19);
  }

  v12 = (v11 + 8);
  while (1)
  {
    v13 = *v12;
    if ((*v12 & 1) == 0)
    {
      break;
    }

    v14 = *v12;
    atomic_compare_exchange_strong_explicit(v12, &v14, v13 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v14 == v13)
    {
      goto LABEL_13;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v12);
LABEL_13:
  *(v11 + 233) = a5;
  WebKit::WebPage::wheelEvent(a1, &v31, a3, &v28);
  v39 = *(v11 + 200);
  v40 = *(v11 + 216);
  v21 = *(v11 + 224);
  *(v11 + 200) = 0;
  *(v11 + 216) = 0;
  *(v11 + 224) = 0;
  v22 = v30;
  if (!v30)
  {
    v24 = 0;
    v23 = v28;
    goto LABEL_17;
  }

  if (v30 != 1)
  {
LABEL_19:
    mpark::throw_bad_variant_access(v15);
  }

  v23 = 0;
  v24 = v28;
  v38[0] = *v29;
  *(v38 + 7) = *&v29[7];
LABEL_17:
  v25 = *a6;
  *a6 = 0;
  v36 = v39;
  v37 = v40;
  v32 = v24;
  *v33 = v38[0];
  *&v33[7] = *(v38 + 7);
  v34 = v22;
  *v35 = *v27;
  *&v35[3] = *&v27[3];
  (*(*v25 + 16))(v25, &v36, v21, v23 & 1, &v32);
  (*(*v25 + 8))(v25);
  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebCore::ScrollingCoordinator,(WTF::DestructionThread)0>::deref((v11 + 8), v26);
}

uint64_t WebKit::WebPage::scrollingCoordinator(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    v4 = WebCore::Page::scrollingCoordinator(v2);
    WTF::RefCounted<WebCore::Page>::deref(v3);
    return v4;
  }

  else
  {

    return WebCore::Page::scrollingCoordinator(0);
  }
}

void WebKit::WebPage::wheelEvent(uint64_t a1@<X0>, uint64_t *a2@<X1>, const WebKit::WebWheelEvent *a3@<X2>, uint64_t a4@<X8>)
{
  v21 = *MEMORY[0x1E69E9840];
  PAL::HysteresisActivity::impulse((*(a1 + 40) + 336));
  v8 = WebKit::g_currentEvent;
  if (WebKit::g_currentEvent)
  {
    atomic_fetch_add((WebKit::g_currentEvent + 8), 1u);
  }

  WebKit::g_currentEvent = a3;
  {
    v9 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v16 = WebKit::WebProcess::operator new(0x370, v7);
    v9 = WebKit::WebProcess::WebProcess(v16);
    WebKit::WebProcess::singleton(void)::process = v9;
  }

  v10 = WebKit::WebProcess::webFrame(v9, *a2, 1);
  if (v10)
  {
    v11 = v10;
    CFRetain(*(v10 + 8));
    v12 = *(v11 + 40);
    if (v12 && (v13 = *(v12 + 8)) != 0 && (*(v13 + 136) & 1) == 0 && *(v13 + 216))
    {
      WebKit::WebKit2PlatformWheelEvent::WebKit2PlatformWheelEvent(v20, a3);
      WebCore::EventHandler::handleWheelEvent();
    }

    else
    {
      LOBYTE(v17) = 0;
      LOBYTE(v18) = 0;
      v19 = 0;
    }

    CFRelease(*(v11 + 8));
    v14 = v19;
  }

  else
  {
    v14 = 0;
    LOBYTE(v17) = 0;
    LOBYTE(v18) = 0;
  }

  *a4 = v17;
  *(a4 + 16) = v18;
  *(a4 + 24) = v14;
  WebKit::g_currentEvent = v8;
  if (v8)
  {
    if (atomic_load((v8 + 8)))
    {
      atomic_fetch_add((v8 + 8), 0xFFFFFFFF);
    }

    else
    {
      __break(0xC471u);
    }
  }
}

_DWORD *WebKit::WebPage::dispatchWheelEventWithoutScrolling(WebKit::WebPage *a1, uint64_t a2, const WebKit::WebWheelEvent *a3, uint64_t *a4)
{
  v12 = a2;
  WebKit::WebPage::localMainFrame(a1, &v11);
  WebKit::WebPage::wheelEvent(a1, &v12, a3, v10);
  if (v10[16] || v10[0] != 1)
  {
    v7 = 0;
  }

  else
  {
    v7 = (v10[24] >> 1) & 1;
  }

  v8 = *a4;
  *a4 = 0;
  (*(*v8 + 16))(v8, v7);
  (*(*v8 + 8))(v8);
  result = v11;
  v11 = 0;
  if (result)
  {
    if (result[4] == 1)
    {
      return (*(*result + 8))(result);
    }

    else
    {
      --result[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::keyEvent(uint64_t a1, uint64_t a2, const WebKit::WebKeyboardEvent *a3)
{
  v39 = *MEMORY[0x1E69E9840];
  v6 = *(a1 + 896);
  *(a1 + 896) = 1;
  PAL::HysteresisActivity::impulse((*(a1 + 40) + 336));
  WebKit::WebKit2PlatformKeyboardEvent::WebKit2PlatformKeyboardEvent(v32, a3);
  v7 = v33;
  v8 = v34;
  v9 = v35;
  v10 = v36;
  v11 = v37;
  v12 = v38;
  WebCore::PlatformKeyboardEvent::setCurrentModifierState();
  if (v12)
  {
    CFRelease(v12);
  }

  if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v11, v13);
    if (!v10)
    {
      goto LABEL_9;
    }
  }

  else if (!v10)
  {
    goto LABEL_9;
  }

  if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, v13);
  }

LABEL_9:
  if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9, v13);
    if (!v8)
    {
      goto LABEL_15;
    }
  }

  else if (!v8)
  {
    goto LABEL_15;
  }

  if (atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8, v13);
  }

LABEL_15:
  if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v7, v13);
  }

  v14 = WebKit::g_currentEvent;
  if (WebKit::g_currentEvent)
  {
    atomic_fetch_add((WebKit::g_currentEvent + 8), 1u);
  }

  WebKit::g_currentEvent = a3;
  {
    v15 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v28 = WebKit::WebProcess::operator new(0x370, v13);
    v15 = WebKit::WebProcess::WebProcess(v28);
    WebKit::WebProcess::singleton(void)::process = v15;
  }

  v16 = WebKit::WebProcess::webFrame(v15, a2, 1);
  if (v16)
  {
    v17 = v16;
    CFRetain(*(v16 + 8));
    v18 = WebKit::WebFrame::handleKeyEvent(v17, a3);
    CFRelease(v17[1]);
  }

  else
  {
    v18 = 0;
  }

  v19 = *(a3 + 12);
  v32[0] = 0;
  v32[16] = 0;
  v29[0] = v19;
  v29[1] = v18;
  v30 = v32;
  v20 = (*(*(a1 + 32) + 56))(a1 + 32);
  v22 = IPC::Encoder::operator new(0x238, v21);
  *v22 = 2222;
  *(v22 + 2) = 0;
  *(v22 + 3) = 0;
  *(v22 + 1) = v20;
  *(v22 + 68) = 0;
  *(v22 + 70) = 0;
  *(v22 + 69) = 0;
  IPC::Encoder::encodeHeader(v22);
  v31 = v22;
  Messages::WebPageProxy::DidReceiveEventIPC::encode<IPC::Encoder>(v29, v22);
  (*(*(a1 + 32) + 32))(a1 + 32, &v31, 0);
  result = v31;
  v31 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v23);
    result = bmalloc::api::tzoneFree(v26, v27);
  }

  WebKit::g_currentEvent = v14;
  if (!v14)
  {
    goto LABEL_29;
  }

  if (atomic_load((v14 + 8)))
  {
    atomic_fetch_add((v14 + 8), 0xFFFFFFFF);
LABEL_29:
    *(a1 + 896) = v6;
    return result;
  }

  result = 290;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::WebPage::handleKeyEventByRelinquishingFocusToChrome(WebKit::WebPage *this, const WebCore::KeyboardEvent *a2)
{
  if ((*(*(this + 7) + 298) & 1) != 0 || WebCore::KeyboardEvent::charCode(a2) != 9 || (*(a2 + 92) & 0xE) != 8)
  {
    return 0;
  }

  v4 = *(this + 7);
  if (v4)
  {
    ++*(v4 + 8);
  }

  v5 = WebCore::FocusController::relinquishFocusToChrome();
  WTF::RefCounted<WebCore::Page>::deref((v4 + 8));
  return v5;
}

uint64_t WebKit::WebPage::validateCommand(uint64_t a1, const WTF::String *a2, uint64_t *a3)
{
  v5 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v5)
  {
    v7 = v5;
    ++*(v5 + 4);
    v8 = WebKit::WebPage::focusedPluginViewForFrame(v5, v6);
    if (v8)
    {
      v18 = *(v8 + 8);
      *(v8 + 8) = v18 + 1;
      v19 = v8;
      if (*(v8 + 137) == 1)
      {
        isEnabled = (*(**(v8 + 72) + 1128))(*(v8 + 72), a2);
        v18 = v19[2] - 1;
      }

      else
      {
        isEnabled = 0;
      }

      if (v18)
      {
        v11 = 0;
        v19[2] = v18;
      }

      else
      {
        (*(*v19 + 8))(v19);
        v11 = 0;
      }
    }

    else
    {
      v9 = *(v7 + 28);
      if (v9)
      {
        *(v9 + 7) += 2;
        v10 = WebCore::Document::editor(v9);
        if (*(v9 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v9);
        }

        else
        {
          *(v9 + 7) -= 2;
        }
      }

      else
      {
        v10 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v10);
      WebCore::Editor::command(v20, v10, a2);
      WebCore::Editor::deref(v10);
      v11 = WebCore::Editor::Command::state() != 0;
      if (WebCore::Editor::Command::isSupported(v20))
      {
        isEnabled = WebCore::Editor::Command::isEnabled();
      }

      else
      {
        isEnabled = 0;
      }

      v13 = v21;
      v21 = 0;
      if (v13)
      {
        if (*(v13 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v13);
        }

        else
        {
          *(v13 + 7) -= 2;
        }
      }
    }

    v14 = *a3;
    *a3 = 0;
    (*(*v14 + 16))(v14, isEnabled, v11);
    result = (*(*v14 + 8))(v14);
    if (*(v7 + 4) == 1)
    {
      return (*(*v7 + 8))(v7);
    }

    else
    {
      --*(v7 + 4);
    }
  }

  else
  {
    v16 = *a3;
    *a3 = 0;
    (*(*v16 + 16))(v16, 0, 0);
    v17 = *(*v16 + 8);

    return v17(v16);
  }

  return result;
}

_DWORD *WebKit::WebPage::setNeedsFontAttributes(_DWORD *this, int a2)
{
  if (*(this + 1821) != a2)
  {
    *(this + 1821) = a2;
    if (a2)
    {
      return WebKit::WebPage::scheduleFullEditorStateUpdate(this);
    }
  }

  return this;
}

uint64_t WebKit::WebPage::setCurrentHistoryItemForReattach(uint64_t result, WebCore::HistoryItemClient **a2)
{
  v2 = *(result + 88);
  v3 = *(v2 + 56);
  if (v3 || (v4 = *(v2 + 40)) != 0 && (v3 = *(v4 + 8)) != 0 && (*(v3 + 136) & 1) == 0)
  {
    ++*(v3 + 16);
    WebKit::toHistoryItem(*(result + 2104), *a2, &v6);
    result = WebCore::HistoryController::setCurrentItem();
    v5 = v6;
    v6 = 0;
    if (v5)
    {
      result = WTF::RefCounted<WebCore::HistoryItem>::deref((v5 + 8));
    }

    if (*(v3 + 16) == 1)
    {
      return (*(*v3 + 8))(v3);
    }

    else
    {
      --*(v3 + 16);
    }
  }

  return result;
}

void WebKit::WebPage::requestFontAttributesAtSelectionStart(uint64_t a1, uint64_t *a2)
{
  v3 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v3)
  {
    v4 = v3;
    ++*(v3 + 16);
    v5 = *(v3 + 224);
    if (v5)
    {
      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    else
    {
      v6 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v6);
    WebCore::Editor::fontAttributesAtSelectionStart(v11, v6);
    v7 = *a2;
    *a2 = 0;
    (*(*v7 + 16))(v7, v11);
    (*(*v7 + 8))(v7);
    WebCore::FontAttributes::~FontAttributes(v11, v8);
    WebCore::Editor::deref(v6);
    if (v4[4] == 1)
    {
      (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[4];
    }
  }

  else
  {
    v12 = 0;
    memset(v11, 0, sizeof(v11));
    v13 = 0;
    memset(v14, 0, sizeof(v14));
    v9 = *a2;
    *a2 = 0;
    (*(*v9 + 16))(v9, v11);
    (*(*v9 + 8))(v9);
    WebCore::FontAttributes::~FontAttributes(v11, v10);
  }
}

void WebKit::WebPage::cancelCurrentInteractionInformationRequest(WebKit::WebPage *this)
{
  v25 = *MEMORY[0x1E69E9840];
  v1 = *(this + 194);
  *(this + 194) = 0;
  if (v1)
  {
    memset(v3, 0, sizeof(v3));
    v4 = 1;
    v6 = 0;
    v7 = 0;
    v8 = 1;
    v9 = 0;
    v10 = 0;
    memset(v11, 0, sizeof(v11));
    v12 = 0u;
    WTF::URL::invalidate((&v12 + 8));
    v13[0] = 0;
    WTF::URL::invalidate(v13);
    v20 = 0;
    v21 = 0;
    v23[104] = 0;
    v23[120] = 0;
    v23[200] = 0;
    v24 = 0u;
    v14 = 0u;
    v15 = 0u;
    v16 = 0u;
    v17 = 0u;
    v18 = 0u;
    v19 = 0;
    v22 = 0u;
    memset(v23, 0, 25);
    v5 = 0;
    (*(*v1 + 16))(v1, v3);
    (*(*v1 + 8))(v1);
    WebKit::InteractionInformationAtPosition::~InteractionInformationAtPosition(v3, v2);
  }
}

void WebKit::WebPage::localRootFrame(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, uint64_t *a4@<X8>)
{
  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v15 = a2;
    v14 = WebKit::WebProcess::operator new(0x370, a2);
    v7 = WebKit::WebProcess::WebProcess(v14);
    a2 = v15;
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  v8 = WebKit::WebProcess::webFrame(v7, a2, a3);
  if (v8)
  {
    v9 = v8;
    CFRetain(*(v8 + 8));
    v10 = *(v9 + 40);
    if (v10)
    {
      v10 = *(v10 + 8);
      if (v10)
      {
        if (*(v10 + 136))
        {
          v10 = 0;
        }

        else
        {
          ++*(v10 + 16);
        }
      }
    }

    *a4 = v10;
    v11 = *(v9 + 8);

    CFRelease(v11);
  }

  else
  {
    v12 = *(a1 + 56);
    if (v12)
    {
      v13 = v12 + 2;
      ++v12[2];
      WebCore::Page::localMainFrame(a4, v12);

      WTF::RefCounted<WebCore::Page>::deref(v13);
    }

    else
    {
      *a4 = 0;
    }
  }
}

void WebKit::WebPage::dispatchTouchEvent(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, unsigned __int8 *a4@<X8>)
{
  v36[7] = *MEMORY[0x1E69E9840];
  v8 = *(a1 + 896);
  *(a1 + 896) = 1;
  *(a1 + 1232) = *(a3 + 96);
  v9 = WebKit::g_currentEvent;
  if (WebKit::g_currentEvent)
  {
    atomic_fetch_add((WebKit::g_currentEvent + 8), 1u);
  }

  WebKit::g_currentEvent = a3;
  {
    v10 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v31 = WebKit::WebProcess::operator new(0x370, a2);
    v10 = WebKit::WebProcess::WebProcess(v31);
    WebKit::WebProcess::singleton(void)::process = v10;
  }

  v11 = WebKit::WebProcess::webFrame(v10, a2, 1);
  if (v11)
  {
    v12 = v11;
    CFRetain(*(v11 + 8));
    v13 = *(v12 + 40);
    if (v13 && (v14 = *(v13 + 8)) != 0 && *(v14 + 136) != 1)
    {
      v15 = *(v14 + 16);
      *(v14 + 16) = v15 + 1;
      if (*(v14 + 216))
      {
        WebKit::platform(v32, a3);
        WebCore::EventHandler::handleTouchEvent();
        WTF::Vector<WebCore::PlatformTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v36, v16);
        WTF::Vector<WebCore::PlatformTouchEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v35, v17);
        v19 = v33;
        if (v33)
        {
          v33 = 0;
          v34 = 0;
          WTF::fastFree(v19, v18);
        }

        v15 = *(v14 + 16) - 1;
        if (*(v14 + 16) != 1)
        {
          goto LABEL_13;
        }
      }

      else
      {
        *a4 = 0;
        a4[24] = 0;
        if (v15)
        {
LABEL_13:
          *(v14 + 16) = v15;
          goto LABEL_14;
        }
      }

      (*(*v14 + 8))(v14);
    }

    else
    {
      *a4 = 0;
      a4[24] = 0;
    }

LABEL_14:
    CFRelease(*(v12 + 8));
    if (!((a4[24] != 0) | (*a4 ^ 1) & 1))
    {
      goto LABEL_43;
    }

    goto LABEL_15;
  }

  *a4 = 0;
  a4[24] = 0;
LABEL_15:
  if ((*(a3 + 105) & 1) != 0 && *(a3 + 12) == 11)
  {
    WebKit::WebPage::localMainFrame(a1, v32);
    v20 = v32[0];
    if (v32[0])
    {
      v21 = *(v32[0] + 224);
      if (v21)
      {
        *(v21 + 28) += 2;
        if (*(v21 + 713) == 1)
        {
          ++*(v20 + 16);
          v22 = *(v20 + 336);
          v23 = *(v22 + 832);
          if (!v23 || (*(v23 + 136) & 1) != 0)
          {
            v24 = v20;
          }

          else
          {
            do
            {
              v24 = v23;
              ++*(v23 + 16);
              if (*(v20 + 16) == 1)
              {
                (*(*v20 + 8))(v20);
              }

              else
              {
                --*(v20 + 16);
              }

              v22 = *(v24 + 336);
              v23 = *(v22 + 832);
              if (!v23)
              {
                break;
              }

              v20 = v24;
            }

            while ((*(v23 + 136) & 1) == 0);
          }

          if (*(v22 + 828))
          {
            v25 = *(v24 + 224);
            if (v25)
            {
              v27 = WebCore::SecurityContext::securityOrigin((v25 + 208));
              atomic_fetch_add(v27, 1u);
              v28 = *(a1 + 1264);
              *(a1 + 1264) = v27;
              if (v28)
              {
                WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(v28, v26);
              }
            }
          }

          if (*(v24 + 16) == 1)
          {
            (*(*v24 + 8))(v24);
          }

          else
          {
            --*(v24 + 16);
          }
        }

        if (*(v21 + 28) == 2)
        {
          WebCore::Node::removedLastRef(v21);
        }

        else
        {
          *(v21 + 28) -= 2;
        }
      }

      v29 = v32[0];
      v32[0] = 0;
      if (v29)
      {
        if (v29[4] == 1)
        {
          (*(*v29 + 8))(v29);
        }

        else
        {
          --v29[4];
        }
      }
    }
  }

LABEL_43:
  WebKit::g_currentEvent = v9;
  if (!v9)
  {
LABEL_46:
    *(a1 + 896) = v8;
    return;
  }

  if (atomic_load((v9 + 8)))
  {
    atomic_fetch_add((v9 + 8), 0xFFFFFFFF);
    goto LABEL_46;
  }

  __break(0xC471u);
}

uint64_t WebKit::WebPage::didBeginTouchPoint(uint64_t a1, WTF::StringImpl *a2, float a3, float a4)
{
  *(a1 + 1577) = 1;
  result = *(a1 + 1264);
  *(a1 + 1264) = 0;
  if (result)
  {
    result = WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(result, a2);
  }

  if ((*(a1 + 1588) & 1) == 0)
  {
    *(a1 + 1588) = 1;
  }

  *(a1 + 1580) = a3;
  *(a1 + 1584) = a4;
  return result;
}

uint64_t WebKit::WebPage::scrollBy(uint64_t a1)
{
  v1 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (!v1)
  {
    return 0;
  }

  v2 = v1;
  ++*(v1 + 16);
  v3 = WebCore::EventHandler::scrollRecursively();
  if (v2[4] == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --v2[4];
  }

  return v3;
}

uint64_t WebKit::WebPage::centerSelectionInVisibleArea(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v3 = result;
    ++*(result + 16);
    WebCore::FrameSelection::revealSelection();
    result = WebKit::FindController::updateFindIndicator(*(this + 51), 0, 1);
    if (v3[4] == 1)
    {
      v4 = *(*v3 + 8);

      return v4(v3);
    }

    else
    {
      --v3[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::insertNewlineInQuotedContent(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v2 = result;
    v3 = *(result + 16);
    *(result + 16) = v3 + 1;
    v4 = *(result + 224);
    if (*(*(v4 + 3208) + 153))
    {
      *(v4 + 28) += 2;
      v5 = WebCore::Document::editor(v4);
      if (*(v4 + 28) == 2)
      {
        WebCore::Node::removedLastRef(v4);
      }

      else
      {
        *(v4 + 28) -= 2;
      }

      WebCore::Editor::ref(v5);
      WebCore::Editor::insertParagraphSeparatorInQuotedContent(v5);
      result = WebCore::Editor::deref(v5);
      v3 = v2[4] - 1;
    }

    if (v3)
    {
      v2[4] = v3;
    }

    else
    {
      v6 = *(*v2 + 8);

      return v6(v2);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::setBackgroundColor(unint64_t *a1, uint64_t *a2)
{
  result = std::operator==[abi:sn200100]<WebCore::Color,WebCore::Color>(a1 + 212, a2);
  if ((result & 1) == 0)
  {
    std::__optional_storage_base<WebCore::Color,false>::__assign_from[abi:sn200100]<std::__optional_copy_assign_base<WebCore::Color,false> const&>(a1 + 212, a2);
    v5 = WebKit::WebPage::localMainFrameView(a1);
    if (v5)
    {
      v6 = v5;
      ++*(v5 + 8);
      WebCore::LocalFrameView::updateBackgroundRecursively();
      if (v6[2] == 1)
      {
        (*(*v6 + 8))(v6);
      }

      else
      {
        --v6[2];
      }
    }

    v7 = a1[9];
    if (v7)
    {
      ++v7[4];
    }

    result = (*(*v7 + 56))(v7);
    if (v7[4] == 1)
    {
      v8 = *(*v7 + 24);

      return v8(v7);
    }

    else
    {
      --v7[4];
    }
  }

  return result;
}

void *WebKit::WebPage::setObscuredContentInsetsFenced(void *a1, uint64_t a2, uint64_t a3)
{
  v5 = a1[9];
  if (v5)
  {
    ++v5[4];
  }

  (*(*v5 + 168))(v5, a3);
  if (v5[4] == 1)
  {
    (*(*v5 + 24))(v5);
  }

  else
  {
    --v5[4];
  }

  return WebKit::WebPage::setObscuredContentInsets(a1, a2);
}

uint64_t WebKit::WebPage::viewWillStartLiveResize(uint64_t this)
{
  v1 = *(this + 56);
  if (v1)
  {
    this = WebCore::FocusController::focusedOrMainFrame(*(v1 + 80));
    if (this)
    {
      v2 = this;
      ++*(this + 16);
      v3 = *(this + 216);
      if (v3)
      {
        ++*(v3 + 2);
        this = WebCore::LocalFrameView::willStartLiveResize(v3);
        if (*(v3 + 2) == 1)
        {
          this = (*(*v3 + 8))(v3);
        }

        else
        {
          --*(v3 + 2);
        }
      }

      if (v2[4] == 1)
      {
        v4 = *(*v2 + 8);

        return v4(v2);
      }

      else
      {
        --v2[4];
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::viewWillEndLiveResize(uint64_t this)
{
  v1 = *(this + 56);
  if (v1)
  {
    this = WebCore::FocusController::focusedOrMainFrame(*(v1 + 80));
    if (this)
    {
      v2 = this;
      ++*(this + 16);
      v3 = *(this + 216);
      if (v3)
      {
        ++*(v3 + 2);
        this = WebCore::LocalFrameView::willEndLiveResize(v3);
        if (*(v3 + 2) == 1)
        {
          this = (*(*v3 + 8))(v3);
        }

        else
        {
          --*(v3 + 2);
        }
      }

      if (v2[4] == 1)
      {
        v4 = *(*v2 + 8);

        return v4(v2);
      }

      else
      {
        --v2[4];
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::setInitialFocus(uint64_t a1, uint64_t a2, int a3, const WebKit::WebKeyboardEvent *a4, uint64_t *a5)
{
  v29[15] = *MEMORY[0x1E69E9840];
  v6 = *(a1 + 56);
  if (v6)
  {
    v10 = *(a1 + 896);
    *(a1 + 896) = 1;
    v11 = *(v6 + 80);
    ++*v11;
    v12 = WebCore::FocusController::focusedOrMainFrame(v11);
    if (v12)
    {
      v13 = v12;
      ++*(v12 + 16);
      v14 = *(v12 + 224);
      if (v14)
      {
        *(v14 + 7) += 2;
        WebCore::Document::setFocusedElement(v14, 0);
        if (*(v14 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v14);
        }

        else
        {
          *(v14 + 7) -= 2;
        }
      }

      else
      {
        WebCore::Document::setFocusedElement(0, 0);
      }

      if (a3 && *(a4 + 112) == 1 && *(a4 + 12) == 7)
      {
        WebKit::WebKit2PlatformKeyboardEvent::WebKit2PlatformKeyboardEvent(v29, a4);
        *v25 = *&v29[7];
        *v26 = *&v29[9];
        v27 = v29[11];
        cf = v29[13];
        WebCore::PlatformKeyboardEvent::disambiguateKeyDownEvent();
        v15 = *(v13 + 104);
        ++*v15;
        v24 = v15;
        WebCore::KeyboardEvent::create();
        WebCore::FocusController::setInitialFocus();
        v16 = v29[0];
        v29[0] = 0;
        if (v16)
        {
          if (v16[6] == 1)
          {
            (*(*v16 + 8))(v16);
          }

          else
          {
            --v16[6];
          }
        }

        if (v24)
        {
          WTF::RefCounted<WebCore::WindowProxy>::deref(v24);
        }

        v17 = *a5;
        *a5 = 0;
        (*(*v17 + 16))(v17);
        (*(*v17 + 8))(v17);
        if (cf)
        {
          CFRelease(cf);
        }

        if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v27, v18);
        }

        if (v26[1] && atomic_fetch_add_explicit(v26[1], 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v26[1], v18);
        }

        if (v26[0] && atomic_fetch_add_explicit(v26[0], 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v26[0], v18);
        }

        if (v25[1] && atomic_fetch_add_explicit(v25[1], 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v25[1], v18);
        }

        result = v25[0];
        if (v25[0] && atomic_fetch_add_explicit(v25[0], 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          result = WTF::StringImpl::destroy(v25[0], v18);
        }
      }

      else
      {
        WebCore::FocusController::setInitialFocus();
        v20 = *a5;
        *a5 = 0;
        (*(*v20 + 16))(v20);
        result = (*(*v20 + 8))(v20);
      }

      if (*(v13 + 16) == 1)
      {
        result = (*(*v13 + 8))(v13);
      }

      else
      {
        --*(v13 + 16);
      }
    }

    else
    {
      v23 = *a5;
      *a5 = 0;
      (*(*v23 + 16))(v23);
      result = (*(*v23 + 8))(v23);
    }

    if (*v11)
    {
      --*v11;
      *(a1 + 896) = v10;
    }

    else
    {
      result = 290;
      __break(0xC471u);
    }
  }

  else
  {
    v21 = *a5;
    *a5 = 0;
    (*(*v21 + 16))(v21);
    v22 = *(*v21 + 8);

    return v22(v21);
  }

  return result;
}

uint64_t WebKit::WebPage::visibilityDidChange(uint64_t this)
{
  if ((*(this + 1728) & 4) == 0)
  {
    v1 = *(*(this + 88) + 40);
    if (v1)
    {
      v2 = *(v1 + 8);
      if (v2)
      {
        if ((*(v2 + 136) & 1) == 0)
        {
          ++*(v2 + 16);
          this = WebCore::HistoryController::saveDocumentAndScrollState(*(*(v2 + 208) + 32));
          if (*(v2 + 16) == 1)
          {
            v3 = *(*v2 + 8);

            return v3(v2);
          }

          else
          {
            --*(v2 + 16);
          }
        }
      }
    }
  }

  return this;
}

void *WebKit::WebPage::windowActivityDidChange(WebKit::WebPage *this)
{
  v2 = this + 160;
  WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(&v15, this + 20);
  v3 = *(this + 20);
  if (v3)
  {
    v5 = *(v3 - 4);
    v4 = v3 + 8 * v5;
  }

  else
  {
    v4 = 0;
    v5 = 0;
  }

  v10 = v2;
  v11 = v4;
  v12 = v4;
  v13 = v4;
  v14 = v3 + 8 * v5;
  result = WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v10);
  v7 = v16;
  v8 = v11;
  while (v7 != v8)
  {
    v9 = *(*v7 + 8);
    ++*(v9 + 2);
    WebKit::PluginView::windowActivityDidChange(v9);
    if (*(v9 + 2) == 1)
    {
      (*(*v9 + 8))(v9);
    }

    else
    {
      --*(v9 + 2);
    }

    result = WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(&v15);
    v7 = v16;
  }

  return result;
}

uint64_t WebKit::WebPage::didStartPageTransition(WebKit::WebPage *this)
{
  result = WebKit::WebPage::freezeLayerTree(this, 1);
  *(this + 437) = 2;
  *(this + 1240) = 0;
  *(this + 1243) = 0;
  return result;
}

IPC::Encoder *WebKit::WebPage::show(WebKit::WebPage *this)
{
  v1 = this + 32;
  v2 = (*(*(this + 4) + 56))(this + 32);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2383;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*v1 + 32))(v1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

void WebKit::WebPage::setIsTakingSnapshotsForApplicationSuspension(WebKit::WebPage *this, int a2)
{
  v13 = *MEMORY[0x1E69E9840];
  v4 = qword_1ED641120;
  if (os_log_type_enabled(qword_1ED641120, OS_LOG_TYPE_DEFAULT))
  {
    v5 = *(this + 6);
    v7 = 134218496;
    v8 = this;
    v9 = 2048;
    v10 = v5;
    v11 = 1024;
    v12 = a2;
    _os_log_impl(&dword_19D52D000, v4, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::setIsTakingSnapshotsForApplicationSuspension(%d)", &v7, 0x1Cu);
  }

  v6 = *(this + 7);
  if (v6)
  {
    *(v6 + 1560) = a2;
  }
}

_DWORD *WebKit::WebPage::setNeedsDOMWindowResizeEvent(WebKit::WebPage *this)
{
  result = *(this + 7);
  if (result)
  {
    v2 = result + 2;
    ++result[2];
    WebCore::Page::localTopDocument(&v4, result);
    if (v4)
    {
      WebCore::Document::setNeedsDOMWindowResizeEvent(v4);
      v3 = v4;
      v4 = 0;
      if (v3)
      {
        if (*(v3 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v3);
        }

        else
        {
          *(v3 + 7) -= 2;
        }
      }
    }

    return WTF::RefCounted<WebCore::Page>::deref(v2);
  }

  return result;
}

uint64_t WebKit::WebPage::userAgent@<X0>(uint64_t this@<X0>, atomic_uint **a2@<X8>)
{
  v3 = *(this + 104);
  if (v3)
  {
    atomic_fetch_add_explicit(v3, 2u, memory_order_relaxed);
  }

  *a2 = v3;
  return this;
}

uint64_t WebKit::WebPage::setUserAgent(uint64_t a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  result = WTF::equal(*(a1 + 104), *a2, a3);
  if ((result & 1) == 0)
  {
    v7 = *a2;
    *a2 = 0;
    v8 = *(a1 + 104);
    *(a1 + 104) = v7;
    if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v8, v6);
    }

    result = *(a1 + 56);
    if (result)
    {
      v9 = (result + 8);
      ++*(result + 8);
      WebCore::Page::userAgentChanged(result);

      return WTF::RefCounted<WebCore::Page>::deref(v9);
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::suspendActiveDOMObjectsAndAnimations(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::suspendActiveDOMObjectsAndAnimations(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::suspendActiveDOMObjectsAndAnimations(0);
  }
}

_DWORD *WebKit::WebPage::resumeActiveDOMObjectsAndAnimations(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::resumeActiveDOMObjectsAndAnimations(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::resumeActiveDOMObjectsAndAnimations(0);
  }
}

_DWORD *WebKit::WebPage::suspend(void *a1, uint64_t *a2)
{
  v21 = *MEMORY[0x1E69E9840];
  v4 = a1[7];
  if (v4)
  {
    ++*(v4 + 8);
  }

  v5 = qword_1ED640D10;
  if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT))
  {
    v6 = a1[6];
    *v16 = 134218496;
    *&v16[4] = a1;
    v17 = 2048;
    v18 = v6;
    v19 = 2048;
    v20 = v4;
    _os_log_impl(&dword_19D52D000, v5, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::suspend: m_page=%p", v16, 0x20u);
  }

  if (v4)
  {
    v7 = WebKit::WebPage::freezeLayerTree(a1, 8);
    WebCore::BackForwardCache::singleton(v7);
    WebCore::BackForwardCache::suspendPage();
    v8 = *v16;
    *v16 = 0;
    v9 = a1[258];
    a1[258] = v8;
    if (v9)
    {
      WebCore::CachedPage::operator delete();
      v15 = *v16;
      *v16 = 0;
      if (v15)
      {
        WebCore::CachedPage::operator delete();
      }
    }

    v10 = *(a1[11] + 40);
    if (v10)
    {
      v11 = *(v10 + 8);
      if (v11)
      {
        if ((*(v11 + 136) & 1) == 0)
        {
          ++*(v11 + 16);
          WebCore::Frame::detachFromAllOpenedFrames(v11);
          if (*(v11 + 16) == 1)
          {
            (*(*v11 + 8))(v11);
          }

          else
          {
            --*(v11 + 16);
          }
        }
      }
    }

    v12 = *a2;
    *a2 = 0;
    (*(*v12 + 16))(v12, 1);
    (*(*v12 + 8))(v12);
    return WTF::RefCounted<WebCore::Page>::deref((v4 + 8));
  }

  else
  {
    v14 = *a2;
    *a2 = 0;
    (*(*v14 + 16))(v14, 0);
    return (*(*v14 + 8))(v14);
  }
}

_DWORD *WebKit::WebPage::resume(void *a1, uint64_t *a2)
{
  v18 = *MEMORY[0x1E69E9840];
  v4 = a1[7];
  if (v4)
  {
    ++*(v4 + 8);
  }

  v5 = qword_1ED640D10;
  if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT))
  {
    v6 = a1[6];
    v12 = 134218496;
    v13 = a1;
    v14 = 2048;
    v15 = v6;
    v16 = 2048;
    v17 = v4;
    _os_log_impl(&dword_19D52D000, v5, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::resume: m_page=%p", &v12, 0x20u);
  }

  if (v4)
  {
    v7 = a1[258];
    a1[258] = 0;
    if (v7)
    {
      WebCore::CachedPage::restore();
      WebKit::WebPage::unfreezeLayerTree(a1, 8);
      v8 = *a2;
      *a2 = 0;
      (*(*v8 + 16))(v8, 1);
      (*(*v8 + 8))(v8);
      WebCore::CachedPage::operator delete();
    }

    else
    {
      v11 = *a2;
      *a2 = 0;
      (*(*v11 + 16))(v11, 0);
      (*(*v11 + 8))(v11);
    }

    return WTF::RefCounted<WebCore::Page>::deref((v4 + 8));
  }

  else
  {
    v9 = *a2;
    *a2 = 0;
    (*(*v9 + 16))(v9, 0);
    return (*(*v9 + 8))(v9);
  }
}

uint64_t WebKit::WebPage::screenToRootView(WebKit::WebPage *this, const WebCore::IntPoint *a2)
{
  v13 = a2;
  v2 = this + 32;
  v3 = (*(*(this + 4) + 56))(this + 32);
  v4 = (*(*v2 + 48))(v2);
  if (!v4)
  {
    return 0;
  }

  v5 = v4;
  while (1)
  {
    v6 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v7 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v7, v6 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v7 == v6)
    {
      goto LABEL_7;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_7:
  IPC::Connection::sendSync<Messages::WebPageProxy::ScreenToRootView>(v5, &v13, v3, 0, v14, INFINITY);
  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v5);
  v8 = 0;
  if (!v15)
  {
    v9 = v14[0];
    v8 = v14[1];
    v14[0] = 0;
    if (v9)
    {
      IPC::Decoder::~Decoder(v9);
      bmalloc::api::tzoneFree(v11, v12);
    }
  }

  return v8;
}

uint64_t WebKit::WebPage::rootViewToScreen(WebKit::WebPage *this, const WebCore::IntPoint *a2)
{
  v13 = a2;
  v2 = this + 32;
  v3 = (*(*(this + 4) + 56))(this + 32);
  v4 = (*(*v2 + 48))(v2);
  if (!v4)
  {
    return 0;
  }

  v5 = v4;
  while (1)
  {
    v6 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v7 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v7, v6 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v7 == v6)
    {
      goto LABEL_7;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_7:
  IPC::Connection::sendSync<Messages::WebPageProxy::RootViewPointToScreen>(v5, &v13, v3, 0, v14, INFINITY);
  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v5);
  v8 = 0;
  if (!v15)
  {
    v9 = v14[0];
    v8 = v14[1];
    v14[0] = 0;
    if (v9)
    {
      IPC::Decoder::~Decoder(v9);
      bmalloc::api::tzoneFree(v11, v12);
    }
  }

  return v8;
}

IPC::Decoder *WebKit::WebPage::rootViewToScreen(WebKit::WebPage *this, const WebCore::IntRect *a2)
{
  v15[0] = WebCore::IntRect::toRectWithExtentsClippedToNumericLimits(a2);
  v15[1] = v3;
  v16 = v15;
  v4 = *(this + 4);
  this = (this + 32);
  v5 = (*(v4 + 56))(this);
  v6 = (*(*this + 48))(this);
  v7 = v6;
  if (!v6)
  {
    return 0;
  }

  while (1)
  {
    v8 = *v6;
    if ((*v6 & 1) == 0)
    {
      break;
    }

    v9 = *v6;
    atomic_compare_exchange_strong_explicit(v6, &v9, v8 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v9 == v8)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v6);
LABEL_6:
  IPC::Connection::sendSync<Messages::WebPageProxy::RootViewRectToScreen>(v7, &v16, v5, 0, v17, INFINITY);
  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v7);
  v10 = 0;
  if (!v18)
  {
    v10 = v17[1];
    v11 = v17[0];
    v17[0] = 0;
    if (v11)
    {
      IPC::Decoder::~Decoder(v11);
      bmalloc::api::tzoneFree(v13, v14);
    }
  }

  return v10;
}

uint64_t WebKit::WebPage::accessibilityScreenToRootView(WebKit::WebPage *this, const WebCore::IntPoint *a2)
{
  v13 = a2;
  v2 = this + 32;
  v3 = (*(*(this + 4) + 56))(this + 32);
  v4 = (*(*v2 + 48))(v2);
  if (!v4)
  {
    return 0;
  }

  v5 = v4;
  while (1)
  {
    v6 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v7 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v7, v6 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v7 == v6)
    {
      goto LABEL_7;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_7:
  IPC::Connection::sendSync<Messages::WebPageProxy::AccessibilityScreenToRootView>(v5, &v13, v3, 0, v14, INFINITY);
  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v5);
  v8 = 0;
  if (!v15)
  {
    v9 = v14[0];
    v8 = v14[1];
    v14[0] = 0;
    if (v9)
    {
      IPC::Decoder::~Decoder(v9);
      bmalloc::api::tzoneFree(v11, v12);
    }
  }

  return v8;
}

IPC::Decoder *WebKit::WebPage::rootViewToAccessibilityScreen(WebKit::WebPage *this, const WebCore::IntRect *a2)
{
  v13 = a2;
  v2 = this + 32;
  v3 = (*(*(this + 4) + 56))(this + 32);
  v4 = (*(*v2 + 48))(v2);
  v5 = v4;
  if (!v4)
  {
    return 0;
  }

  while (1)
  {
    v6 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v7 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v7, v6 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v7 == v6)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_6:
  IPC::Connection::sendSync<Messages::WebPageProxy::RootViewToAccessibilityScreen>(v5, &v13, v3, 0, v14, INFINITY);
  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v5);
  v8 = 0;
  if (!v15)
  {
    v8 = v14[1];
    v9 = v14[0];
    v14[0] = 0;
    if (v9)
    {
      IPC::Decoder::~Decoder(v9);
      bmalloc::api::tzoneFree(v11, v12);
    }
  }

  return v8;
}

void WebKit::WebPage::runJavaScript(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, char a5, uint64_t *a6)
{
  v70 = *MEMORY[0x1E69E9840];
  if (!a2 || (v8 = *(a2 + 40)) == 0 || (v9 = *(v8 + 8)) == 0 || *(v9 + 136) == 1)
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    *&v31 = 0;
    v32 = *buf;
    LOBYTE(v50) = 1;
    *v49 = v31;
    buf[16] = 1;
    v51 = 0;
    *buf = __PAIR128__(*(&v31 + 1), 0);
    v64 = 1;
    v69 = 0;
    v63[0] = v32;
    v63[1] = *(&v31 + 1);
    v65 = 0;
    v66 = 1;
    v67 = 1;
    WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()(a6, v63);
    v16 = v63;
    goto LABEL_7;
  }

  v13 = WebKit::WebUserContentController::worldForIdentifier(*(a1 + 584), a4);
  if (!v13)
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    v14 = *buf;
    v49[0] = 0;
    v49[1] = 0;
    LOBYTE(v50) = 0;
    v51 = 0;
    memset(buf, 0, 17);
    v59 = 0;
    v69 = 0;
    v58[0] = v14;
    v58[1] = 0;
    v60 = 0;
    v61 = 1;
    v62 = 1;
    WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()(a6, v58);
    v16 = v58;
LABEL_7:
    std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>::~expected(v16, v15);
    std::experimental::fundamentals_v3::unexpected<WebCore::ExceptionDetails>::~unexpected(buf, v17);
    std::experimental::fundamentals_v3::unexpected<WebCore::ExceptionDetails>::~unexpected(v49, v18);
    return;
  }

  v19 = v13;
  CFRetain(*(v13 + 8));
  if (WebKit::WebFrame::shouldEnableInAppBrowserPrivacyProtections(a2))
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    *&v33 = 0;
    v34 = *buf;
    LOBYTE(v50) = 2;
    *v49 = v33;
    buf[16] = 2;
    v51 = 0;
    *buf = __PAIR128__(*(&v33 + 1), 0);
    v54 = 2;
    v69 = 0;
    v53[0] = v34;
    v53[1] = *(&v33 + 1);
    v55 = 0;
    v56 = 1;
    v57 = 1;
    WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()(a6, v53);
    std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>::~expected(v53, v35);
    std::experimental::fundamentals_v3::unexpected<WebCore::ExceptionDetails>::~unexpected(buf, v36);
    std::experimental::fundamentals_v3::unexpected<WebCore::ExceptionDetails>::~unexpected(v49, v37);
    v38 = *(a1 + 56);
    if (v38)
    {
      v39 = v38 + 2;
      ++v38[2];
      WebCore::Page::localTopDocument(buf, v38);
      WTF::RefCounted<WebCore::Page>::deref(v39);
    }

    else
    {
      WebCore::Page::localTopDocument(buf, 0);
    }

    if (*buf)
    {
      WTF::StringImpl::createWithoutCopyingNonEmpty();
      WebCore::Document::addConsoleMessage();
      v41 = v49[0];
      v49[0] = 0;
      if (v41 && atomic_fetch_add_explicit(v41, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v41, v40);
      }

      v42 = *buf;
      *buf = 0;
      if (v42)
      {
        if (*(v42 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v42);
        }

        else
        {
          *(v42 + 7) -= 2;
        }
      }
    }

    v43 = qword_1ED640D10;
    if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_ERROR))
    {
      v44 = *(a1 + 48);
      *buf = 134218240;
      *&buf[4] = a1;
      *&buf[12] = 2048;
      *&buf[14] = v44;
      _os_log_error_impl(&dword_19D52D000, v43, OS_LOG_TYPE_ERROR, "%p - [webPageID=%llu] WebPage::runJavaScript: Ignoring user script injection for non app-bound domain", buf, 0x16u);
    }
  }

  else
  {
    v20 = *(a1 + 896);
    if (v20)
    {
      v21 = 1;
    }

    else if (*(a3 + 88) == 1)
    {
      v21 = WTF::linkedOnOrAfterSDKWithBehavior();
      v20 = *(a1 + 896);
    }

    else
    {
      v21 = 0;
    }

    *(a1 + 896) = v21;
    CFRetain(v19[1]);
    v49[0] = v19;
    CFRetain(*(a2 + 8));
    if (*(*(*(a2 + 40) + 8) + 136))
    {
      v22 = 0;
    }

    else
    {
      v22 = *(*(a2 + 40) + 8);
    }

    ++*(v22 + 16);
    LOBYTE(v51) = a5;
    v23 = *a6;
    *a6 = 0;
    v24 = *(a3 + 8);
    v25 = *(a3 + 56);
    WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WebKit::RunJavaScriptParameters &&::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WebKit::RunJavaScriptParameters &&::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WebKit::RunJavaScriptParameters &&::Vector<WebKit::JavaScriptEvaluationResult::pair<WebKit::RunJavaScriptParameters &&::String,std::experimental::fundamentals_v3::expected>,0ul,WebKit::RunJavaScriptParameters &&::CrashOnOverflow,16ul,WebKit::RunJavaScriptParameters &&::FastMalloc>>>(&v47, (a3 + 64));
    v26 = WebCore::RunJavaScriptParameters::RunJavaScriptParameters(buf, a3, v24, (a3 + 16), v25, &v47, *(a3 + 88), *(a3 + 89));
    if (v48 == 1)
    {
      v26 = v47;
      if (v47)
      {
        v26 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v47, v27);
      }
    }

    if (!*MEMORY[0x1E69E25C0])
    {
      WebCore::commonVMSlow(v26);
    }

    MEMORY[0x19EB002D0](&v47);
    WebKit::InjectedBundleScriptWorld::protectedCoreWorld(v19, &v46);
    v28 = WTF::fastMalloc(0x30);
    *v28 = &unk_1F1133F68;
    *(v28 + 8) = v19;
    v49[0] = 0;
    v49[1] = 0;
    *(v28 + 16) = a2;
    *(v28 + 24) = v22;
    *(v28 + 32) = a5;
    v50 = 0;
    v52 = 0;
    *(v28 + 40) = v23;
    v45 = v28;
    WebCore::ScriptController::executeAsynchronousUserAgentScriptInWorld();
    if (v45)
    {
      (*(*v45 + 8))(v45);
    }

    v29 = v46;
    v46 = 0;
    if (v29)
    {
      WTF::RefCounted<WebCore::DOMWrapperWorld>::deref(v29);
    }

    MEMORY[0x19EB002E0](&v47);
    WebCore::RunJavaScriptParameters::~RunJavaScriptParameters(buf, v30);
    WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WebKit::RunJavaScriptParameters &&::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WebKit::RunJavaScriptParameters &&::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_2::~$_2(v49);
    *(a1 + 896) = v20;
  }

  CFRelease(v19[1]);
}

WTF::StringImpl **std::experimental::fundamentals_v3::unexpected<WebCore::ExceptionDetails>::~unexpected(WTF::StringImpl **a1, WTF::StringImpl *a2)
{
  v3 = a1[3];
  a1[3] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *a1;
  *a1 = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  return a1;
}

void WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WebKit::RunJavaScriptParameters &&::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WebKit::RunJavaScriptParameters &&::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WebKit::RunJavaScriptParameters &&::Vector<WebKit::JavaScriptEvaluationResult::pair<WebKit::RunJavaScriptParameters &&::String,std::experimental::fundamentals_v3::expected>,0ul,WebKit::RunJavaScriptParameters &&::CrashOnOverflow,16ul,WebKit::RunJavaScriptParameters &&::FastMalloc>>>(uint64_t a1, uint64_t *a2)
{
  if (a2[2])
  {
    v10 = 0;
    v3 = *(a2 + 3);
    if (v3)
    {
      v4 = *a2;
      v5 = 136 * v3;
      do
      {
        WebKit::JavaScriptEvaluationResult::JavaScriptEvaluationResult(v8, (v4 + 8));
        WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::set<std::__1<WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>> WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>> const(std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)::{lambda(JSC::JSGlobalObject &)#1}>(v9, &v10, v4, v8);
        WebKit::JavaScriptEvaluationResult::~JavaScriptEvaluationResult(v8, v6);
        v4 += 136;
        v5 -= 136;
      }

      while (v5);
      v7 = v10;
    }

    else
    {
      v7 = 0;
    }

    *a1 = v7;
    *(a1 + 8) = 1;
  }

  else
  {
    *a1 = 0;
    *(a1 + 8) = 0;
  }
}

uint64_t *WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WebKit::RunJavaScriptParameters &&::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WebKit::RunJavaScriptParameters &&::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_2::~$_2(uint64_t *a1)
{
  v2 = a1[4];
  a1[4] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    if (v3[4] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[4];
    }
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  v5 = *a1;
  *a1 = 0;
  if (v5)
  {
    CFRelease(*(v5 + 8));
  }

  return a1;
}

void WebKit::WebPage::runJavaScriptInFrameInScriptWorld(uint64_t a1, uint64_t a2, uint64_t a3, char a4, uint64_t *a5, char a6, uint64_t *a7)
{
  v35 = *MEMORY[0x1E69E9840];
  v14 = qword_1ED6416A0;
  v15 = os_log_type_enabled(qword_1ED6416A0, OS_LOG_TYPE_DEFAULT);
  if (v15)
  {
    v17 = *(a1 + 48);
    if (a4)
    {
      v18 = a3;
    }

    else
    {
      v18 = 0;
    }

    *buf = 134218496;
    *&buf[4] = a1;
    *&buf[12] = 2048;
    *&buf[14] = v17;
    *&buf[22] = 2048;
    v34 = v18;
    _os_log_impl(&dword_19D52D000, v14, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::runJavaScriptInFrameInScriptWorld: frameID=%llu", buf, 0x20u);
  }

  if (a4)
  {
    v31 = WebKit::WebProcess::singleton(v15, v16);
    v19 = WebKit::WebProcess::webFrame(v31, a3, 1);
  }

  else
  {
    v19 = *(a1 + 88);
  }

  if (v19)
  {
    CFRetain(*(v19 + 8));
  }

  v20 = WebKit::WebUserContentController::addContentWorld(*(a1 + 584), a5);
  if (v20)
  {
    v21 = v20;
    CFRetain(*(v20 + 8));
    v22 = WebKit::InjectedBundleScriptWorld::coreWorld(v21);
    ++*v22;
    v23 = *(a1 + 56);
    if (v23)
    {
      v24 = *(v23 + 176);
      if (v24)
      {
        ++*(v24 + 16);
        do
        {
          if ((*(v24 + 136) & 1) == 0)
          {
            ++*(v24 + 16);
            (*(**(*(v24 + 208) + 16) + 952))(*(*(v24 + 208) + 16), v22);
            if (*(v24 + 16) == 1)
            {
              (*(*v24 + 8))(v24);
            }

            else
            {
              --*(v24 + 16);
            }
          }

          v25 = WebCore::FrameTree::traverseNext((v24 + 40), 0);
          v26 = v25;
          if (v25)
          {
            ++*(v25 + 16);
          }

          if (*(v24 + 16) == 1)
          {
            (*(*v24 + 8))(v24);
          }

          else
          {
            --*(v24 + 16);
          }

          v24 = v26;
        }

        while (v26);
      }
    }

    WTF::RefCounted<WebCore::DOMWrapperWorld>::deref(v22);
    CFRelease(v21[1]);
  }

  v27 = *a5;
  *buf = a1;
  CFRetain(*(a1 + 8));
  v28 = *a7;
  *a7 = 0;
  v29 = WTF::fastMalloc(0x20);
  *v29 = &unk_1F1133F90;
  v29[1] = a1;
  v29[2] = a1;
  v29[3] = v28;
  *&buf[8] = 0uLL;
  v32 = v29;
  WebKit::WebPage::runJavaScript(a1, v19, a2, v27, a6, &v32);
  v30 = v32;
  v32 = 0;
  if (v30)
  {
    (*(*v30 + 8))(v30);
  }

  WebKit::WebPage::runJavaScriptInFrameInScriptWorld(WebKit::RunJavaScriptParameters &&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,std::optional::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WebKit::ContentWorldData const&,BOOL,std::optional::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>)> &&)::$_0::~$_0(buf);
  if (v19)
  {
    CFRelease(*(v19 + 8));
  }
}

uint64_t WebKit::WebPage::mainFrame(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (v1)
  {
    return *(v1 + 176);
  }

  else
  {
    return 0;
  }
}

uint64_t WebKit::WebPage::runJavaScriptInFrameInScriptWorld(WebKit::RunJavaScriptParameters &&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,std::optional::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WebKit::ContentWorldData const&,BOOL,std::optional::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>)> &&)::$_0::~$_0(uint64_t a1)
{
  v2 = *(a1 + 16);
  *(a1 + 16) = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  v3 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return a1;
}

WTF::StringImpl *WebKit::WebPage::getContentsAsString(uint64_t a1, Node *a2, uint64_t *a3)
{
  if (a2)
  {
    v23[0] = 0;
    v23[1] = 0;
    v24 = 0;
    v25 = 1;
    v7 = *(*(a1 + 88) + 40);
    if (v7)
    {
      v8 = *(v7 + 8);
      if (v8)
      {
        if ((v8[34] & 1) == 0)
        {
          ++v8[4];
          v22 = v8;
          do
          {
            WebKit::WebFrame::fromCoreFrame(v8, &v21);
            v10 = v21;
            if (v21)
            {
              if (v24)
              {
                v11 = "\n\n";
              }

              else
              {
                v11 = "";
              }

              if (v24)
              {
                v12 = 3;
              }

              else
              {
                v12 = 1;
              }

              v20[0] = v11;
              v20[1] = v12;
              WebKit::WebFrame::contentsAsString(v21, v9, &v19);
              WTF::StringBuilder::append<WTF::ASCIILiteral,WTF::String>(v23, v20, &v19);
              v14 = v19;
              v19 = 0;
              if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v14, v13);
              }

              CFRelease(*(v10 + 1));
            }

            Rendered = WebCore::FrameTree::traverseNextRendered((v22 + 10), 0);
            WTF::RefPtr<WebCore::Frame,WTF::RawPtrTraits<WebCore::Frame>,WTF::DefaultRefDerefTraits<WebCore::Frame>>::operator=(&v22, Rendered);
            v8 = v22;
          }

          while (v22);
        }
      }
    }

    v16 = WTF::StringBuilder::toString(v23);
    v17 = *a3;
    *a3 = 0;
    (*(*v17 + 16))(v17, v16);
    (*(*v17 + 8))(v17);
    return WTF::KeyValuePair<WTF::String,WTF::String>::~KeyValuePair(v23, v18);
  }

  else
  {
    WebKit::WebFrame::contentsAsString(*(a1 + 88), a2, v23);
    v4 = *a3;
    *a3 = 0;
    (*(*v4 + 16))(v4, v23);
    (*(*v4 + 8))(v4);
    result = v23[0];
    v23[0] = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v5);
      }
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebPage::getRenderTreeExternalRepresentation(WebKit::WebPage *a1, uint64_t *a2)
{
  WebKit::WebPage::renderTreeExternalRepresentation(a1);
  v3 = *a2;
  *a2 = 0;
  (*(*v3 + 16))(v3, &v6);
  (*(*v3 + 8))(v3);
  result = v6;
  v6 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v4);
    }
  }

  return result;
}

void WebKit::WebPage::getSelectionAsWebArchiveData(uint64_t a1, WebCore::Page *a2)
{
  WebKit::frameWithSelection(*(a1 + 56), a2, &v19);
  v4 = v19;
  if (!v19)
  {
    v23 = 0;
    v24 = 0;
    v25 = 0;
LABEL_19:
    v5 = 0;
    v12 = 0;
    v19 = 0;
    goto LABEL_20;
  }

  WebCore::LegacyWebArchive::createFromSelection(&v26, v19, v3);
  WebCore::LegacyWebArchive::rawDataRepresentation(&v23, v26);
  v5 = v23;
  v23 = 0;
  v6 = v26;
  v26 = 0;
  if (v6)
  {
    if (*(v6 + 2) == 1)
    {
      (*(*v6 + 8))(v6);
    }

    else
    {
      --*(v6 + 2);
    }
  }

  if (*(v4 + 4) == 1)
  {
    (*(*v4 + 8))(v4);
  }

  else
  {
    --*(v4 + 4);
  }

  v23 = 0;
  v24 = 0;
  v25 = 0;
  if (!v5)
  {
    goto LABEL_19;
  }

  WebCore::SharedBuffer::create<__CFData const*>(&v26, v5);
  v7 = v26;
  v8 = v26[7];
  v26 = 0;
  v19 = v8;
  v20 = v7;
  v21 = 0;
  IPC::SharedBufferReference::operator=(&v23, &v19);
  v9 = v21;
  v21 = 0;
  if (v9)
  {
    WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v9);
  }

  v10 = v20;
  v20 = 0;
  if (v10 && atomic_fetch_add(v10 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v10 + 2);
    (*(*v10 + 8))(v10);
  }

  v11 = v26;
  v26 = 0;
  if (v11 && atomic_fetch_add(v11 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v11 + 2);
    (*(*v11 + 8))(v11);
  }

  v12 = v24;
  v19 = v23;
  if (v24)
  {
    atomic_fetch_add(v24 + 2, 1u);
  }

LABEL_20:
  v20 = v12;
  v13 = v25;
  if (v25)
  {
    atomic_fetch_add(v25, 1u);
  }

  v21 = v13;
  v22 = 1;
  v14 = *a2;
  *a2 = 0;
  (*(*v14 + 16))(v14, &v19);
  (*(*v14 + 8))(v14);
  if (v22 == 1)
  {
    v15 = v21;
    v21 = 0;
    if (v15)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v15);
    }

    v16 = v20;
    v20 = 0;
    if (v16 && atomic_fetch_add(v16 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v16 + 2);
      (*(*v16 + 8))(v16);
    }
  }

  v17 = v25;
  v25 = 0;
  if (v17)
  {
    WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v17);
  }

  v18 = v24;
  v24 = 0;
  if (!v18 || atomic_fetch_add(v18 + 2, 0xFFFFFFFF) != 1)
  {
    if (!v5)
    {
      return;
    }

    goto LABEL_33;
  }

  atomic_store(1u, v18 + 2);
  (*(*v18 + 8))(v18);
  if (v5)
  {
LABEL_33:
    CFRelease(v5);
  }
}

uint64_t WebKit::frameWithSelection@<X0>(uint64_t this@<X0>, WebCore::Page *a2@<X1>, uint64_t *a3@<X8>)
{
  v4 = *(this + 176);
  ++*(v4 + 16);
  while (*(v4 + 136) == 1)
  {
    *a3 = 0;
LABEL_6:
    this = WebCore::FrameTree::traverseNext((v4 + 40), 0);
    v6 = this;
    if (this)
    {
      ++*(this + 16);
    }

    if (*(v4 + 16) == 1)
    {
      this = (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }

    v4 = v6;
    if (!v6)
    {
      *a3 = 0;
      return this;
    }
  }

  v5 = *(v4 + 16);
  *(v4 + 16) = v5 + 1;
  *a3 = v4;
  if (*(*(*(v4 + 224) + 3208) + 153) != 2)
  {
    *a3 = 0;
    if (v5)
    {
      *(v4 + 16) = v5;
    }

    else
    {
      (*(*v4 + 8))(v4, a2);
    }

    goto LABEL_6;
  }

  if (v5)
  {
    *(v4 + 16) = v5;
  }

  else
  {
    v7 = *(*v4 + 8);

    return v7(v4);
  }

  return this;
}

unsigned int *WebCore::SharedBuffer::create<__CFData const*>(void *a1, WebCore::FragmentedSharedBuffer *this)
{
  WebCore::FragmentedSharedBuffer::create(&v5, this, this);
  v3 = WTF::fastMalloc(0x40);
  *a1 = MEMORY[0x19EB04740](v3, &v5);
  result = v5;
  v5 = 0;
  if (result)
  {
    if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result + 2);
      return (*(*result + 8))(result);
    }
  }

  return result;
}

void *IPC::SharedBufferReference::operator=(void *a1, uint64_t *a2)
{
  v4 = *a2;
  v5 = a2[1];
  a2[1] = 0;
  v6 = a1[1];
  *a1 = v4;
  a1[1] = v5;
  if (v6 && atomic_fetch_add(v6 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v6 + 2);
    (*(*v6 + 8))(v6);
  }

  v7 = a2[2];
  a2[2] = 0;
  v8 = a1[2];
  a1[2] = v7;
  if (v8)
  {
    WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v8);
  }

  return a1;
}

void IPC::SharedBufferReference::~SharedBufferReference(IPC::SharedBufferReference *this)
{
  v2 = *(this + 2);
  *(this + 2) = 0;
  if (v2)
  {
    WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v2);
  }

  v3 = *(this + 1);
  *(this + 1) = 0;
  if (v3)
  {
    if (atomic_fetch_add(v3 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v3 + 2);
      (*(*v3 + 8))(v3);
    }
  }
}

_DWORD *WebKit::WebPage::copyLinkWithHighlight(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (v1)
  {
    ++*(v1 + 8);
  }

  WebCore::Page::fragmentDirectiveURLForSelectedText(&v13, v1);
  v2 = WebCore::FocusController::focusedOrMainFrame(*(v1 + 80));
  if (v2)
  {
    v4 = v2;
    v5 = *(v2 + 16);
    *(v2 + 16) = v5 + 1;
    if (v14)
    {
      v6 = *(v2 + 224);
      if (v6)
      {
        *(v6 + 7) += 2;
        v7 = WebCore::Document::editor(v6);
        if (*(v6 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v6);
        }

        else
        {
          *(v6 + 7) -= 2;
        }
      }

      else
      {
        v7 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v7);
      v12 = 0;
      WebCore::Editor::copyURL(v7, &v13, &v12);
      v9 = v12;
      v12 = 0;
      if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v9, v8);
      }

      WebCore::Editor::deref(v7);
      v5 = v4[4] - 1;
    }

    if (v5)
    {
      v4[4] = v5;
    }

    else
    {
      (*(*v4 + 8))(v4);
    }
  }

  v10 = v13;
  v13 = 0;
  if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, v3);
  }

  return WTF::RefCounted<WebCore::Page>::deref((v1 + 8));
}

void WebKit::WebPage::getSelectionOrContentsAsString(uint64_t a1, uint64_t *a2)
{
  v3 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  v5 = v3;
  if (v3)
  {
    ++*(v3 + 16);
    WebKit::WebFrame::fromCoreFrame(v3, &v26);
  }

  else
  {
    v26 = 0;
  }

  v6 = WebKit::WebPage::pluginViewForFrame(v5, v4);
  if (!v6)
  {
    v8 = v26;
    WebKit::WebFrame::selectionAsString(v26, &v25);
    if (!v25 || !*(v25 + 1))
    {
      WebKit::WebFrame::contentsAsString(v8, v9, &v24);
      v12 = v24;
      v11 = v25;
      v24 = 0;
      v25 = v12;
      if (v11)
      {
        if (atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v11, v10);
        }

        v13 = v24;
        v24 = 0;
        if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v13, v10);
        }
      }
    }

    v14 = *a2;
    *a2 = 0;
    (*(*v14 + 16))(v14, &v25);
    (*(*v14 + 8))(v14);
    v16 = v25;
    v25 = 0;
    if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v16, v15);
    }

    goto LABEL_15;
  }

  ++*(v6 + 8);
  v23 = v6;
  if ((*(v6 + 137) & 1) == 0)
  {
    v17 = 0;
    v25 = 0;
LABEL_28:
    if (*(v23 + 137) == 1)
    {
      (*(**(v23 + 72) + 1136))(&v24);
      v18 = v24;
      v17 = v25;
    }

    else
    {
      v18 = 0;
    }

    v24 = 0;
    v25 = v18;
    if (v17)
    {
      if (atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v17, v7);
      }

      v19 = v24;
      v24 = 0;
      if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v19, v7);
      }
    }

    goto LABEL_37;
  }

  (*(**(v6 + 72) + 1144))(&v25);
  v17 = v25;
  if (!v25 || !*(v25 + 1))
  {
    goto LABEL_28;
  }

LABEL_37:
  v20 = *a2;
  *a2 = 0;
  (*(*v20 + 16))(v20, &v25);
  (*(*v20 + 8))(v20);
  v22 = v25;
  v25 = 0;
  if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v22, v21);
  }

  if (*(v23 + 8) == 1)
  {
    (*(*v23 + 8))(v23);
  }

  else
  {
    --*(v23 + 8);
  }

LABEL_15:
  if (v26)
  {
    CFRelease(*(v26 + 1));
  }

  if (v5)
  {
    if (v5[4] == 1)
    {
      (*(*v5 + 8))(v5);
    }

    else
    {
      --v5[4];
    }
  }
}

WTF::StringImpl *WebKit::WebPage::getSourceForFrame(uint64_t a1, void *a2, uint64_t *a3)
{
  v12 = 0;
  {
    v4 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = a2;
    v10 = WebKit::WebProcess::operator new(0x370, a2);
    v4 = WebKit::WebProcess::WebProcess(v10);
    a2 = v11;
    WebKit::WebProcess::singleton(void)::process = v4;
  }

  v5 = WebKit::WebProcess::webFrame(v4, a2, 1);
  if (v5)
  {
    v6 = v5;
    CFRetain(*(v5 + 8));
    WebKit::WebFrame::source(v6, &v12);
    CFRelease(v6[1]);
  }

  v7 = *a3;
  *a3 = 0;
  (*(*v7 + 16))(v7, &v12);
  (*(*v7 + 8))(v7);
  result = v12;
  v12 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v8);
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::getMainResourceDataOfFrame(uint64_t a1, void *a2, uint64_t *a3)
{
  {
    v5 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v20 = WebKit::WebProcess::operator new(0x370, a2);
    v5 = WebKit::WebProcess::WebProcess(v20);
    WebKit::WebProcess::singleton(void)::process = v5;
  }

  v6 = WebKit::WebProcess::webFrame(v5, a2, 1);
  if (!v6)
  {
    v14 = 0;
    goto LABEL_15;
  }

  v7 = v6;
  CFRetain(*(v6 + 8));
  v9 = *(v7 + 40);
  if (!v9)
  {
    goto LABEL_26;
  }

  v10 = *(v9 + 8);
  if (!v10)
  {
LABEL_27:
    v11 = 1;
    goto LABEL_8;
  }

  if (*(v10 + 136))
  {
LABEL_26:
    v10 = 0;
    goto LABEL_27;
  }

  v11 = 0;
  ++*(v10 + 16);
LABEL_8:
  v12 = WebKit::WebPage::pluginViewForFrame(v10, v8);
  if (!v12)
  {
    goto LABEL_9;
  }

  v21 = v11;
  ++*(v12 + 8);
  v19 = v12;
  WebKit::PluginView::liveResourceData(v12, &v22);
  v14 = v22;
  if (v19[2] == 1)
  {
    (*(*v19 + 8))(v19);
  }

  else
  {
    --v19[2];
  }

  if (!v14)
  {
LABEL_9:
    v13 = *(*(v10 + 208) + 96);
    if (v13)
    {
      ++*(v13 + 6);
      WebCore::DocumentLoader::mainResourceData(&v22, v13);
      v14 = v22;
      if (*(v13 + 6) == 1)
      {
        (*(*v13 + 24))(v13);
      }

      else
      {
        --*(v13 + 6);
      }
    }

    else
    {
      v14 = 0;
    }

    goto LABEL_12;
  }

  if (!v21)
  {
LABEL_12:
    if (*(v10 + 16) == 1)
    {
      (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 16);
    }

    CFRelease(*(v7 + 8));
    if (v14)
    {
      goto LABEL_33;
    }

LABEL_15:
    v15 = 0;
    goto LABEL_16;
  }

  CFRelease(*(v7 + 8));
LABEL_33:
  v15 = v14[7];
LABEL_16:
  v22 = v15;
  v23 = v14;
  v24 = 0;
  v25 = 1;
  v16 = *a3;
  *a3 = 0;
  (*(*v16 + 16))(v16, &v22);
  result = (*(*v16 + 8))(v16);
  if (v25 == 1)
  {
    v18 = v24;
    v24 = 0;
    if (v18)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v18);
    }

    result = v23;
    v23 = 0;
    if (result)
    {
      if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, result + 2);
        return (*(*result + 8))(result);
      }
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::getResourceDataFromFrame(uint64_t a1, void *a2, atomic_uint **a3, uint64_t *a4)
{
  {
    v7 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v21 = WebKit::WebProcess::operator new(0x370, a2);
    v7 = WebKit::WebProcess::WebProcess(v21);
    WebKit::WebProcess::singleton(void)::process = v7;
  }

  v8 = WebKit::WebProcess::webFrame(v7, a2, 1);
  if (!v8)
  {
    v14 = 0;
LABEL_25:
    v17 = 0;
    goto LABEL_26;
  }

  v9 = v8;
  CFRetain(*(v8 + 8));
  WTF::URL::URL(&v22, a3);
  v11 = *(v9 + 40);
  if (!v11)
  {
    goto LABEL_37;
  }

  v12 = *(v11 + 8);
  if (!v12)
  {
    goto LABEL_8;
  }

  if (*(v12 + 136))
  {
LABEL_37:
    v12 = 0;
  }

  else
  {
    ++*(v12 + 16);
  }

LABEL_8:
  v13 = *(*(v12 + 208) + 96);
  if (v13)
  {
    ++*(v13 + 6);
    WebCore::DocumentLoader::subresource(&v26, v13, &v22);
    if (v26)
    {
      v14 = *(v26 + 320);
      if (v14)
      {
        atomic_fetch_add(v14 + 2, 1u);
        if (atomic_fetch_add(v14 + 2, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v14 + 2);
          (*(*v14 + 8))(v14);
        }
      }

      atomic_fetch_add(v14 + 2, 1u);
      v15 = v26;
      v26 = 0;
      if (v15)
      {
        if (v15[2] == 1)
        {
          (*(*v15 + 8))(v15);
        }

        else
        {
          --v15[2];
        }
      }
    }

    else
    {
      v14 = 0;
    }

    if (*(v13 + 6) == 1)
    {
      (*(*v13 + 24))(v13);
    }

    else
    {
      --*(v13 + 6);
    }
  }

  else
  {
    v14 = 0;
  }

  if (*(v12 + 16) == 1)
  {
    (*(*v12 + 8))(v12);
  }

  else
  {
    --*(v12 + 16);
  }

  v16 = v22;
  v22 = 0;
  if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v16, v10);
  }

  CFRelease(*(v9 + 8));
  if (!v14)
  {
    goto LABEL_25;
  }

  v17 = *(v14 + 7);
LABEL_26:
  v22 = v17;
  v23 = v14;
  v24 = 0;
  v25 = 1;
  v18 = *a4;
  *a4 = 0;
  (*(*v18 + 16))(v18, &v22);
  result = (*(*v18 + 8))(v18);
  if (v25 == 1)
  {
    v20 = v24;
    v24 = 0;
    if (v20)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v20);
    }

    result = v23;
    v23 = 0;
    if (result)
    {
      if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, result + 2);
        return (*(*result + 8))(result);
      }
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::getWebArchiveOfFrameWithFileName(uint64_t a1, void *a2, uint64_t *a3, atomic_uint **a4, uint64_t *a5)
{
  LOBYTE(v27) = 0;
  v30 = 0;
  {
    v9 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v21 = WebKit::WebProcess::operator new(0x370, a2);
    v9 = WebKit::WebProcess::WebProcess(v21);
    WebKit::WebProcess::singleton(void)::process = v9;
  }

  v10 = WebKit::WebProcess::webFrame(v9, a2, 1);
  if (v10)
  {
    v11 = v10;
    CFRetain(*(v10 + 8));
    WebKit::WebFrame::webArchiveData(v11, 0, 0, a3, a4, &cf);
    if (cf)
    {
      WebCore::SharedBuffer::create<__CFData const*>(&v22, cf);
      v12 = v22;
      v13 = *(v22 + 56);
      v22 = 0;
      v23 = v13;
      v24 = v12;
      v25 = 0;
      if (v30)
      {
        IPC::SharedBufferReference::operator=(&v27, &v23);
        v14 = v25;
        v25 = 0;
        if (v14)
        {
          WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v14);
        }
      }

      else
      {
        v27 = v13;
        v28 = v12;
        v29 = 0;
        v30 = 1;
        v24 = 0;
        v25 = 0;
      }

      v15 = v24;
      v24 = 0;
      if (v15 && atomic_fetch_add(v15 + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v15 + 2);
        (*(*v15 + 8))(v15);
      }

      v16 = v22;
      v22 = 0;
      if (v16 && atomic_fetch_add(v16 + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v16 + 2);
        (*(*v16 + 8))(v16);
      }

      v17 = cf;
      cf = 0;
      if (v17)
      {
        CFRelease(v17);
      }
    }

    CFRelease(*(v11 + 8));
  }

  v18 = *a5;
  *a5 = 0;
  (*(*v18 + 16))(v18, &v27);
  result = (*(*v18 + 8))(v18);
  if (v30 == 1)
  {
    v20 = v29;
    v29 = 0;
    if (v20)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v20);
    }

    result = v28;
    v28 = 0;
    if (result)
    {
      if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, result + 2);
        return (*(*result + 8))(result);
      }
    }
  }

  return result;
}

void WebKit::WebPage::getWebArchiveOfFrame(uint64_t a1, void *a2, char a3, uint64_t *a4)
{
  if (a3)
  {
    {
      v6 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v17 = WebKit::WebProcess::operator new(0x370, a2);
      v6 = WebKit::WebProcess::WebProcess(v17);
      WebKit::WebProcess::singleton(void)::process = v6;
    }

    v7 = WebKit::WebProcess::webFrame(v6, a2, 1);
    if (!v7)
    {
      goto LABEL_5;
    }
  }

  else
  {
    v7 = *(a1 + 88);
    if (!v7)
    {
LABEL_5:
      v8 = 0;
      goto LABEL_11;
    }
  }

  CFRetain(*(v7 + 8));
  v18 = 0;
  v19 = 0;
  v22 = 0;
  WebKit::WebFrame::webArchiveData(v7, 0, 0, &v18, &v22, &v23);
  v10 = v22;
  v8 = v23;
  v22 = 0;
  v23 = 0;
  if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, v9);
  }

  WTF::Vector<WebCore::MarkupExclusionRule,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v18, v9);
LABEL_11:
  WebCore::SharedBuffer::create<__CFData const*>(&v23, v8);
  v11 = v23;
  v12 = v23[7];
  v23 = 0;
  v18 = v12;
  v19 = v11;
  v20 = 0;
  v21 = 1;
  v13 = *a4;
  *a4 = 0;
  (*(*v13 + 16))(v13, &v18);
  (*(*v13 + 8))(v13);
  if (v21 == 1)
  {
    v14 = v20;
    v20 = 0;
    if (v14)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v14);
    }

    v15 = v19;
    v19 = 0;
    if (v15 && atomic_fetch_add(v15 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v15 + 2);
      (*(*v15 + 8))(v15);
    }
  }

  v16 = v23;
  v23 = 0;
  if (!v16 || atomic_fetch_add(v16 + 2, 0xFFFFFFFF) != 1)
  {
    if (!v7)
    {
      goto LABEL_21;
    }

    goto LABEL_20;
  }

  atomic_store(1u, v16 + 2);
  (*(*v16 + 8))(v16);
  if (v7)
  {
LABEL_20:
    CFRelease(*(v7 + 8));
  }

LABEL_21:
  if (v8)
  {
    CFRelease(v8);
  }
}

unsigned int *WebKit::WebPage::getAccessibilityTreeData(uint64_t a1, uint64_t *a2)
{
  v39 = 0;
  v40 = 0;
  v41 = 0;
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = (v3 + 8);
    ++*(v3 + 8);
    WebCore::Page::accessibilityTreeData();
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    WebCore::Page::accessibilityTreeData();
  }

  if (v33 == 1)
  {
    v6 = CFWriteStreamCreateWithAllocatedBuffers(0, 0);
    CFWriteStreamOpen(v6);
    if ((v33 & 1) == 0)
    {
      goto LABEL_54;
    }

    WTF::String::utf8();
    if (!v36)
    {
      goto LABEL_55;
    }

    v7 = v36 + 16;
    for (i = *(v36 + 1); ; i = 0)
    {
      CFWriteStreamWrite(v6, v7, i);
      v10 = v36;
      v36 = 0;
      if (v10)
      {
        if (*v10 == 1)
        {
          WTF::fastFree(v10, v9);
        }

        else
        {
          --*v10;
        }
      }

      if (v33)
      {
        break;
      }

LABEL_54:
      __break(1u);
LABEL_55:
      v7 = 0;
    }

    WTF::String::utf8();
    if (v36)
    {
      v11 = v36 + 16;
      v12 = *(v36 + 1);
    }

    else
    {
      v11 = 0;
      v12 = 0;
    }

    CFWriteStreamWrite(v6, v11, v12);
    v14 = v36;
    v36 = 0;
    if (v14)
    {
      if (*v14 == 1)
      {
        WTF::fastFree(v14, v13);
      }

      else
      {
        --*v14;
      }
    }

    v15 = CFWriteStreamCopyProperty(v6, *MEMORY[0x1E695E900]);
    v16 = WTF::checked_cf_cast<__CFData const*>(v15);
    CFWriteStreamClose(v6);
    WebCore::SharedBuffer::create<__CFData const*>(&v35, v16);
    v17 = v35;
    v18 = *(v35 + 56);
    v35 = 0;
    v36 = v18;
    v37 = v17;
    v38 = 0;
    IPC::SharedBufferReference::operator=(&v39, &v36);
    v19 = v38;
    v38 = 0;
    if (v19)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v19);
    }

    v20 = v37;
    v37 = 0;
    if (v20 && atomic_fetch_add(v20 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v20 + 2);
      (*(*v20 + 8))(v20);
    }

    v21 = v35;
    v35 = 0;
    if (v21 && atomic_fetch_add(v21 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v21 + 2);
      (*(*v21 + 8))(v21);
      if (!v16)
      {
LABEL_24:
        if (!v6)
        {
          goto LABEL_26;
        }

        goto LABEL_25;
      }
    }

    else if (!v16)
    {
      goto LABEL_24;
    }

    CFRelease(v16);
    if (v6)
    {
LABEL_25:
      CFRelease(v6);
    }
  }

LABEL_26:
  if (v33 == 1)
  {
    v22 = v32;
    v32 = 0;
    if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v22, v5);
    }

    v23 = v31;
    v31 = 0;
    if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v23, v5);
    }
  }

  v24 = v40;
  v31 = v39;
  if (v40)
  {
    atomic_fetch_add(v40 + 2, 1u);
  }

  v32 = v24;
  v25 = v41;
  if (v41)
  {
    atomic_fetch_add(v41, 1u);
  }

  v33 = v25;
  v34 = 1;
  v26 = *a2;
  *a2 = 0;
  (*(*v26 + 16))(v26, &v31);
  (*(*v26 + 8))(v26);
  if (v34 == 1)
  {
    v27 = v33;
    v33 = 0;
    if (v27)
    {
      WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v27);
    }

    v28 = v32;
    v32 = 0;
    if (v28 && atomic_fetch_add(v28 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v28 + 2);
      (*(*v28 + 8))(v28);
    }
  }

  v29 = v41;
  v41 = 0;
  if (v29)
  {
    WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v29);
  }

  result = v40;
  v40 = 0;
  if (result)
  {
    if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result + 2);
      return (*(*result + 8))(result);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::updateRenderingWithForcedRepaintWithoutCallback(WebKit::WebPage *this)
{
  v1 = *(this + 9);
  if (v1)
  {
    ++v1[4];
  }

  result = (*(*v1 + 88))(v1);
  if (v1[4] == 1)
  {
    v3 = *(*v1 + 24);

    return v3(v1);
  }

  else
  {
    --v1[4];
  }

  return result;
}

uint64_t WebKit::WebPage::updateRenderingWithForcedRepaint(uint64_t a1, uint64_t a2)
{
  v2 = *(a1 + 72);
  if (v2)
  {
    ++v2[4];
  }

  result = (*(*v2 + 96))(v2, a1, a2);
  if (v2[4] == 1)
  {
    v4 = *(*v2 + 24);

    return v4(v2);
  }

  else
  {
    --v2[4];
  }

  return result;
}

atomic_ullong *WebKit::WebPage::preferencesDidChange(WebKit::WebPage *this, WebKit::WebPreferencesStore *a2, const WTF::StringImpl *a3, char a4)
{
  if (a4)
  {
    {
      v7 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v13 = WebKit::WebProcess::operator new(0x370, a2);
      v7 = WebKit::WebProcess::WebProcess(v13);
      WebKit::WebProcess::singleton(void)::process = v7;
    }

    WebKit::AuxiliaryProcess::protectedParentProcessConnection(v7, &v15);
    v14 = a3;
    IPC::Connection::sendSync<Messages::WebProcessProxy::WaitForSharedPreferencesForWebProcessToSync>(v15, &v14, 0, 0, &v16, INFINITY);
    result = v15;
    v15 = 0;
    if (result)
    {
      result = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(result);
    }

    v9 = (v18 == 0) & v17;
    if (!v18 && (result = v16, v16 = 0, result))
    {
      IPC::Decoder::~Decoder(result);
      result = bmalloc::api::tzoneFree(v11, v12);
      if (!v9)
      {
        return result;
      }
    }

    else if (((v18 == 0) & v17) == 0)
    {
      return result;
    }
  }

  {
    v10 = WebKit::BOOLTestRunnerOverridesMap(void)::map;
    if (WebKit::BOOLTestRunnerOverridesMap(void)::map)
    {
      WebKit::BOOLTestRunnerOverridesMap(void)::map = 0;
      WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,Inspector::SupplementalBackendDispatcher *,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<Inspector::SupplementalBackendDispatcher *>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v10, a2);
    }
  }

  else
  {
    WebKit::BOOLTestRunnerOverridesMap(void)::map = 0;
  }

  return WebKit::WebPage::updatePreferences(this, a2, a3);
}

IPC::Encoder *IPC::Connection::sendSync<Messages::WebProcessProxy::WaitForSharedPreferencesForWebProcessToSync>@<X0>(unsigned __int8 *a1@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X2>, char a4@<W3>, char *a5@<X8>, double a6@<D0>)
{
  IPC::Connection::createSyncMessageEncoder(0x107D, a3, v27);
  v11 = v27[0];
  if (a4)
  {
    v12 = *(v27[0] + 2);
    if (v12)
    {
      if (!*(v27[0] + 3))
      {
        __break(1u);
        goto LABEL_22;
      }
    }

    else
    {
      v12 = v27[0] + 32;
    }

    *v12 |= 4u;
    a1[92] = 1;
  }

  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v11, *a2);
  v11 = IPC::Connection::sendSyncMessage(a1, v27[1], v27, a4, &v25, a6);
  if (v26)
  {
    if (v26 == 1)
    {
      *a5 = v25;
      a5[16] = 1;
      goto LABEL_14;
    }

LABEL_22:
    mpark::throw_bad_variant_access(v11);
  }

  v14 = v25;
  v25 = 0;
  if (*(v14 + 25) == 3194)
  {
    v15 = 11;
  }

  else
  {
    v18 = IPC::Decoder::decode<std::tuple<BOOL>>(v14);
    if (v18 >= 0x100u)
    {
      *a5 = v14;
      a5[8] = v18;
      a5[16] = 0;
      goto LABEL_14;
    }

    v15 = 14;
  }

  *a5 = v15;
  a5[16] = 1;
  IPC::Decoder::~Decoder(v14);
  bmalloc::api::tzoneFree(v16, v17);
LABEL_14:
  if (!v26)
  {
    v19 = v25;
    v25 = 0;
    if (v19)
    {
      IPC::Decoder::~Decoder(v19);
      bmalloc::api::tzoneFree(v23, v24);
    }
  }

  result = v27[0];
  v27[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v13);
    return bmalloc::api::tzoneFree(v21, v22);
  }

  return result;
}

uint64_t WebKit::WebPage::isParentProcessAWebBrowser(WebKit::WebPage *this, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v5 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v5);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  return WebKit::isParentProcessAFullWebBrowser(v3, a2);
}

WTF::StringImpl *WebKit::WebPage::adjustSettingsForLockdownMode(WebKit::WebPage *this, WebCore::Settings *a2, const WebKit::WebPreferencesStore *a3)
{
  v5 = WebCore::Settings::disableUnstableFeaturesForModernWebKit(this);
  WebCore::Settings::disableGlobalUnstableFeaturesForModernWebKit(v5);
  WebCore::Settings::disableFeaturesForLockdownMode(this);
  if (*(this + 368) != 3)
  {
    if ((*(this + 88) & 0x40000) != 0)
    {
      v6 = 2;
    }

    else
    {
      v6 = 1;
    }

    *(this + 368) = v6;
  }

  result = CGEnterLockdownModeForPDF();
  if (a2)
  {
    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::mediaContainerTypesAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::mediaContainerTypesAllowedInLockdownModeKey(void)::key = WebKit::WebPreferencesKey::mediaContainerTypesAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl;
    }

    WebKit::valueForKey<WTF::String>(a2, a2 + 24, &WebKit::WebPreferencesKey::mediaContainerTypesAllowedInLockdownModeKey(void)::key, &v17);
    WebCore::SettingsBase::setAllowedMediaContainerTypes(this, &v17);
    v9 = v17;
    v17 = 0;
    if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v9, v8);
    }

    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::mediaCodecTypesAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::mediaCodecTypesAllowedInLockdownModeKey(void)::key = WebKit::WebPreferencesKey::mediaCodecTypesAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl;
    }

    WebKit::valueForKey<WTF::String>(a2, a2 + 24, &WebKit::WebPreferencesKey::mediaCodecTypesAllowedInLockdownModeKey(void)::key, &v17);
    WebCore::SettingsBase::setAllowedMediaCodecTypes(this, &v17);
    v11 = v17;
    v17 = 0;
    if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v11, v10);
    }

    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::mediaVideoCodecIDsAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::mediaVideoCodecIDsAllowedInLockdownModeKey(void)::key = WebKit::WebPreferencesKey::mediaVideoCodecIDsAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl;
    }

    WebKit::valueForKey<WTF::String>(a2, a2 + 24, &WebKit::WebPreferencesKey::mediaVideoCodecIDsAllowedInLockdownModeKey(void)::key, &v17);
    WebCore::SettingsBase::setAllowedMediaVideoCodecIDs(this, &v17);
    v13 = v17;
    v17 = 0;
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v12);
    }

    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::mediaAudioCodecIDsAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::mediaAudioCodecIDsAllowedInLockdownModeKey(void)::key = WebKit::WebPreferencesKey::mediaAudioCodecIDsAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl;
    }

    WebKit::valueForKey<WTF::String>(a2, a2 + 24, &WebKit::WebPreferencesKey::mediaAudioCodecIDsAllowedInLockdownModeKey(void)::key, &v17);
    WebCore::SettingsBase::setAllowedMediaAudioCodecIDs(this, &v17);
    v15 = v17;
    v17 = 0;
    if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v15, v14);
    }

    {
      atomic_fetch_add_explicit(WebKit::WebPreferencesKey::mediaCaptionFormatTypesAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl, 2u, memory_order_relaxed);
      WebKit::WebPreferencesKey::mediaCaptionFormatTypesAllowedInLockdownModeKey(void)::key = WebKit::WebPreferencesKey::mediaCaptionFormatTypesAllowedInLockdownModeKey(void)::$_0::operator() const(void)::impl;
    }

    WebKit::valueForKey<WTF::String>(a2, a2 + 24, &WebKit::WebPreferencesKey::mediaCaptionFormatTypesAllowedInLockdownModeKey(void)::key, &v17);
    WebCore::SettingsBase::setAllowedMediaCaptionFormatTypes(this, &v17);
    result = v17;
    v17 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v16);
      }
    }
  }

  return result;
}

void WebKit::WebPage::setDataDetectionResults(WebKit::WebPage *this, NSArray *cf)
{
  if (cf)
  {
    CFRetain(cf);
  }

  v5 = *(this + 4);
  v4 = this + 32;
  v6 = (*(v5 + 56))(v4);
  v8 = IPC::Encoder::operator new(0x238, v7);
  *v8 = 2354;
  *(v8 + 2) = 0;
  *(v8 + 3) = 0;
  *(v8 + 1) = v6;
  *(v8 + 68) = 0;
  *(v8 + 70) = 0;
  *(v8 + 69) = 0;
  IPC::Encoder::encodeHeader(v8);
  v13 = v8;
  IPC::encodeObjectDirectly<NSArray>(v8, cf);
  (*(*v4 + 32))(v4, &v13, 0);
  v10 = v13;
  v13 = 0;
  if (v10)
  {
    IPC::Encoder::~Encoder(v10, v9);
    bmalloc::api::tzoneFree(v11, v12);
    if (!cf)
    {
      return;
    }
  }

  else if (!cf)
  {
    return;
  }

  CFRelease(cf);
}

void WebKit::WebPage::removeDataDetectedLinks(uint64_t a1, Document *a2)
{
  v3 = *(*(a1 + 56) + 176);
  ++*(v3 + 16);
  do
  {
    if ((*(v3 + 136) & 1) == 0)
    {
      ++*(v3 + 16);
      v4 = *(v3 + 224);
      if (v4)
      {
        *(v4 + 7) += 2;
        WebCore::DataDetection::removeDataDetectedLinksInDocument(v4, a2);
        v5 = *(v3 + 240);
        if (v5)
        {
          v6 = *v5;
          *v5 = 0;
          if (v6)
          {
            CFRelease(v6);
          }
        }

        if (*(v4 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v4);
        }

        else
        {
          *(v4 + 7) -= 2;
        }
      }

      if (*(v3 + 16) == 1)
      {
        (*(*v3 + 8))(v3);
      }

      else
      {
        --*(v3 + 16);
      }
    }

    v7 = WebCore::FrameTree::traverseNext((v3 + 40), 0);
    v8 = v7;
    if (v7)
    {
      ++*(v7 + 16);
    }

    if (*(v3 + 16) == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --*(v3 + 16);
    }

    v3 = v8;
  }

  while (v8);
  cf = 0;
  v9 = *a2;
  *a2 = 0;
  (*(*v9 + 16))(v9, &cf);
  (*(*v9 + 8))(v9);
  v10 = cf;
  cf = 0;
  if (v10)
  {
    CFRelease(v10);
  }
}

WTF *WebKit::WebPage::detectDataInAllFrames(uint64_t a1, char a2, uint64_t *a3)
{
  v6 = WTF::fastMalloc(8);
  *v6 = 0;
  v13 = v6;
  v7 = *(a1 + 56);
  if (v7)
  {
    ++*(v7 + 2);
  }

  WebCore::Page::protectedMainFrame(&v12, v7);
  v8 = v12;
  ++v12[4];
  WebKit::detectDataInFrame(v8, a2, a1 + 288, &v13, a3);
  if (v8[4] == 1)
  {
    (*(*v8 + 8))(v8);
  }

  else
  {
    --v8[4];
  }

  v10 = v12;
  v12 = 0;
  if (!v10)
  {
LABEL_8:
    if (!v7)
    {
      goto LABEL_10;
    }

    goto LABEL_9;
  }

  if (v10[4] != 1)
  {
    --v10[4];
    goto LABEL_8;
  }

  (*(*v10 + 8))(v10);
  if (v7)
  {
LABEL_9:
    WTF::RefCounted<WebCore::Page>::deref(v7 + 2);
  }

LABEL_10:
  result = v13;
  if (v13)
  {
    return std::default_delete<WebKit::DataDetectionResult>::operator()[abi:sn200100](v13, v9);
  }

  return result;
}

uint64_t WebKit::detectDataInFrame(uint64_t a1, char a2, uint64_t a3, uint64_t *a4, uint64_t *a5)
{
  if (!a1 || (*(a1 + 136) & 1) != 0)
  {
    v12 = *a4;
    v13 = *a5;
    *a5 = 0;
    (*(*v13 + 16))(v13, v12);
    v14 = *(*v13 + 8);

    return v14(v13);
  }

  else
  {
    v7 = *(a1 + 16);
    *(a1 + 16) = v7 + 1;
    *(a1 + 16) = v7 + 2;
    v8 = *a4;
    *a4 = 0;
    *&v15 = *a3;
    BYTE8(v15) = *(a3 + 8);
    v9 = *a5;
    *a5 = 0;
    v10 = WTF::fastMalloc(0x38);
    *v10 = &unk_1F1133D60;
    *(v10 + 8) = a1;
    *(v10 + 16) = v8;
    *(v10 + 24) = v15;
    *(v10 + 40) = v9;
    *(v10 + 48) = a2;
    v16 = v10;
    WebCore::DataDetection::detectContentInFrame();
    result = v16;
    if (v16)
    {
      result = (*(*v16 + 8))(v16);
    }

    if (*(a1 + 16) == 1)
    {
      return (*(*a1 + 8))(a1);
    }

    else
    {
      --*(a1 + 16);
    }
  }

  return result;
}

void WebKit::WebPage::willCommitLayerTree(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v77 = *MEMORY[0x1E69E9840];
  {
    v6 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v53 = WebKit::WebProcess::operator new(0x370, a2);
    v6 = WebKit::WebProcess::WebProcess(v53);
    WebKit::WebProcess::singleton(void)::process = v6;
  }

  v7 = WebKit::WebProcess::webFrame(v6, a3, 1);
  if (v7)
  {
    v8 = v7;
    CFRetain(*(v7 + 8));
    v9 = *(v8 + 40);
    if (!v9)
    {
      goto LABEL_46;
    }

    v10 = *(v9 + 8);
    if (!v10 || (*(v10 + 136) & 1) != 0)
    {
      goto LABEL_46;
    }

    ++*(v10 + 16);
    v11 = *(v10 + 216);
    if (!v11)
    {
LABEL_44:
      if (*(v10 + 16) == 1)
      {
        (*(*v10 + 8))(v10);
      }

      else
      {
        --*(v10 + 16);
      }

LABEL_46:
      CFRelease(*(v8 + 8));
      return;
    }

    ++*(v11 + 8);
    v12 = *(a1 + 56);
    ++*(v12 + 8);
    v13 = *(v10 + 224);
    if (v13)
    {
      v14 = *(v13 + 3072);
      if (v14)
      {
        v15 = *v14;
        v16 = *v14 + 1;
        *v14 = v16;
        v17 = *(v14 + 1);
        if (v17)
        {
          *(a2 + 944) = *(v17 + 8);
        }

        if (!v16)
        {
          __break(0xC471u);
          return;
        }

        *v14 = v15;
      }
    }

    *(a2 + 128) = WebCore::ScrollView::contentsSize(v11);
    *(a2 + 136) = *(v11 + 1384);
    *(a2 + 144) = *(v11 + 96);
    *(a2 + 280) = *(v12 + 316);
    *(a2 + 320) = WebCore::Page::renderTreeSize(v12);
    WebCore::Page::themeColor(&v59, v12);
    v19 = *(a2 + 184);
    if (v19 != v59)
    {
      if ((v19 & 0x8000000000000) != 0)
      {
        v54 = (v19 & 0xFFFFFFFFFFFFLL);
        if (atomic_fetch_add((v19 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v54);
          WTF::fastFree(v54, v18);
        }
      }

      v19 = v59;
      *(a2 + 184) = v59;
      if ((v19 & 0x8000000000000) != 0)
      {
        atomic_fetch_add((v19 & 0xFFFFFFFFFFFFLL), 1u);
        v19 = v59;
      }
    }

    if ((v19 & 0x8000000000000) != 0)
    {
      v48 = (v19 & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v19 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v48);
        WTF::fastFree(v48, v18);
      }
    }

    WebCore::Page::pageExtendedBackgroundColor(&v58, v12);
    v21 = *(a2 + 192);
    if (v21 != v58)
    {
      if ((v21 & 0x8000000000000) != 0)
      {
        v55 = (v21 & 0xFFFFFFFFFFFFLL);
        if (atomic_fetch_add((v21 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v55);
          WTF::fastFree(v55, v20);
        }
      }

      v21 = v58;
      *(a2 + 192) = v58;
      if ((v21 & 0x8000000000000) != 0)
      {
        atomic_fetch_add((v21 & 0xFFFFFFFFFFFFLL), 1u);
        v21 = v58;
      }
    }

    if ((v21 & 0x8000000000000) != 0)
    {
      v49 = (v21 & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v21 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v49);
        WTF::fastFree(v49, v20);
      }
    }

    WebCore::Page::sampledPageTopColor(&v57, v12);
    v23 = *(a2 + 200);
    if (v23 != v57)
    {
      if ((v23 & 0x8000000000000) != 0)
      {
        v56 = (v23 & 0xFFFFFFFFFFFFLL);
        if (atomic_fetch_add((v23 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v56);
          WTF::fastFree(v56, v22);
        }
      }

      v23 = v57;
      *(a2 + 200) = v57;
      if ((v23 & 0x8000000000000) != 0)
      {
        atomic_fetch_add((v23 & 0xFFFFFFFFFFFFLL), 1u);
        v23 = v57;
      }
    }

    if ((v23 & 0x8000000000000) != 0)
    {
      v50 = (v23 & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v23 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v50);
        WTF::fastFree(v50, v22);
      }
    }

    WebCore::Page::localMainFrame(v60, v12);
    v24 = *v60;
    *v60 = 0;
    if (!v24)
    {
      goto LABEL_33;
    }

    if (v24[4] == 1)
    {
      (*(*v24 + 8))(v24);
    }

    else
    {
      --v24[4];
    }

    v25 = *(a1 + 1823);
    *(a1 + 1823) = 0;
    if (v25 != 1)
    {
LABEL_33:
      *(a2 + 152) = WebCore::LocalFrameView::baseLayoutViewportSize(v11);
      *(a2 + 160) = WebCore::LocalFrameView::minStableLayoutViewportOrigin(v11);
      *(a2 + 168) = WebCore::LocalFrameView::maxStableLayoutViewportOrigin(v11);
      *(a2 + 354) = *(a1 + 1282);
      WebCore::ViewportConfiguration::minimumScale((a1 + 928));
      *(a2 + 288) = v26;
      v27 = *(a1 + 968);
      if (*(a1 + 1161) == 1)
      {
        if (v27 >= 5.0)
        {
          v28 = *(a1 + 968);
        }

        else
        {
          v28 = 5.0;
        }

        WebCore::ViewportConfiguration::effectiveLayoutSizeScaleFactor(a1 + 928);
        v27 = v28 * v29;
      }

      *(a2 + 296) = v27;
      WebCore::ViewportConfiguration::initialScale((a1 + 928));
      *(a2 + 304) = v30;
      *(a2 + 312) = *(a1 + 1084);
      *(a2 + 357) = *(a1 + 1117);
      *(a2 + 358) = *(a1 + 1080) == 1;
      *(a2 + 356) = *(a1 + 978);
      *(a2 + 359) = *(a1 + 1285);
      *(a2 + 355) = WebCore::ViewportConfiguration::allowsUserScaling((a1 + 928));
      if (*(a1 + 1472) == 1)
      {
        *(a2 + 928) = *(a1 + 1464);
        *(a2 + 936) = 1;
        if (*(a1 + 1472) == 1)
        {
          *(a1 + 1472) = 0;
        }
      }

      v31 = *(a2 + 280);
      if (*(a1 + 1480) != v31)
      {
        *(a1 + 1480) = v31;
        v45 = *(a1 + 40);
        v46 = *(v45 + 128);
        *(v45 + 112) = *(a2 + 328);
        if ((v46 & 1) == 0)
        {
          *(v45 + 128) = 1;
        }
      }

      *(a2 + 176) = WebCore::ScrollableArea::visibleContentRect();
      *(a1 + 921) = 0;
      *(a1 + 923) = 0;
      if (*(a1 + 924) || *(a1 + 925) == 1)
      {
        WebKit::WebPage::editorState(a1, 0, v60);
        v33 = (a2 + 368);
        if (*(a2 + 912) == 1)
        {
          WebKit::EditorState::operator=(v33, v60);
        }

        else
        {
          *v33 = *v60;
          *(a2 + 383) = *&v60[15];
          *(a2 + 400) = 0;
          *(a2 + 624) = 0;
          if (v68 == 1)
          {
            std::__optional_storage_base<WebKit::EditorState::PostLayoutData,false>::__construct[abi:sn200100]<WebKit::EditorState::PostLayoutData const&>(a2 + 400, &v61, v60);
          }

          *(a2 + 640) = 0;
          *(a2 + 896) = 0;
          if (v76 == 1)
          {
            std::__optional_storage_base<WebKit::EditorState::VisualData,false>::__construct[abi:sn200100]<WebKit::EditorState::VisualData const&>((a2 + 640), v69);
          }

          *(a2 + 912) = 1;
        }

        if (v76 == 1)
        {
          v34 = v74;
          if (v74)
          {
            v74 = 0;
            v75 = 0;
            WTF::fastFree(v34, v32);
          }

          v35 = v72;
          if (v72)
          {
            v72 = 0;
            v73 = 0;
            WTF::fastFree(v35, v32);
          }

          v36 = v70;
          if (v70)
          {
            v70 = 0;
            v71 = 0;
            WTF::fastFree(v36, v32);
          }
        }

        if (v68 == 1)
        {
          if ((v67 & 0x8000000000000) != 0)
          {
            v51 = (v67 & 0xFFFFFFFFFFFFLL);
            if (atomic_fetch_add((v67 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
            {
              atomic_store(1u, v51);
              WTF::fastFree(v51, v32);
            }
          }

          v37 = v65;
          if (v65)
          {
            v65 = 0;
            v66 = 0;
            WTF::fastFree(v37, v32);
          }

          v38 = v64;
          v64 = 0;
          if (v38 && atomic_fetch_add_explicit(v38, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v38, v32);
          }

          v39 = v63;
          v63 = 0;
          if (v39 && atomic_fetch_add_explicit(v39, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v39, v32);
          }

          if ((v62 & 0x8000000000000) != 0)
          {
            v52 = (v62 & 0xFFFFFFFFFFFFLL);
            if (atomic_fetch_add((v62 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
            {
              atomic_store(1u, v52);
              WTF::fastFree(v52, v32);
            }
          }
        }

        *(a1 + 924) = 0;
      }

      WTF::RefCounted<WebCore::Page>::deref((v12 + 8));
      if (*(v11 + 8) == 1)
      {
        (*(*v11 + 8))(v11);
      }

      else
      {
        --*(v11 + 8);
      }

      goto LABEL_44;
    }

    WebKit::WebPage::sidesRequiringFixedContainerEdges(a1);
    WebCore::Page::updateFixedContainerEdges();
    v40 = *(v12 + 1608);
    v41 = (a2 + 208);
    if (*(a2 + 272))
    {
      std::array<mpark::variant<WebCore::PredominantColorType,WebCore::Color>,4ul>::operator=(v41, v40);
      goto LABEL_33;
    }

    v42 = v40 + 8;
    v43 = 4;
    while (1)
    {
      *v41 = 0;
      v41[8] = -1;
      v44 = *v42;
      if (*v42)
      {
        if (v44 == 255)
        {
          goto LABEL_78;
        }

        v47 = *(v42 - 1);
        *v41 = v47;
        if ((v47 & 0x8000000000000) != 0)
        {
          atomic_fetch_add((v47 & 0xFFFFFFFFFFFFLL), 1u);
          LOBYTE(v44) = *v42;
        }
      }

      else
      {
        *v41 = *(v42 - 8);
      }

      v41[8] = v44;
LABEL_78:
      v42 += 16;
      v41 += 16;
      if (!--v43)
      {
        *(a2 + 272) = 1;
        goto LABEL_33;
      }
    }
  }
}

double *WebKit::WebPage::didFlushLayerTreeAtTime(double *result, char a2, double a3)
{
  v3 = result[161];
  if (v3 != 0.0)
  {
    result[161] = 0.0;
    result[162] = (a3 - v3) * 0.2 + result[162] * 0.8;
  }

  if ((a2 & 1) == 0)
  {
    v4 = *(result + 259);
    if (v4)
    {
      ++*(v4 + 20);
      result = WebKit::RemoteRenderingBackendProxy::didBecomeUnresponsive(v4);
      if (*(v4 + 20) == 1)
      {
        v5 = *(*v4 + 24);

        return v5(v4);
      }

      else
      {
        --*(v4 + 20);
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::updateRendering(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::updateRendering(v2);
    WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {
    WebCore::Page::updateRendering(0);
  }

  v4 = *(this + 51);
  if (*(v4 + 24) == 1)
  {
    v7 = *(v4 + 16);
    if (v7)
    {
      v8 = *(v7 + 8) != 0;
    }

    else
    {
      v8 = 0;
    }

    WebKit::FindController::updateFindIndicator(v4, v8, 0);
  }

  v5 = *(this + 52);

  return WebKit::WebFoundTextRangeController::redraw(v5);
}

void WebKit::WebPage::didUpdateRendering(uint64_t a1, uint64_t a2)
{
  v2 = a2;
  if (a2)
  {
    v4 = *(a1 + 2072);
    if (v4)
    {
      ++*(v4 + 20);
      WebKit::RemoteResourceCacheProxy::finalizeRenderingUpdateForFonts((v4 + 88), a2);
      *(v4 + 168) = 0;
      ++*(v4 + 184);
      if (*(v4 + 20) == 1)
      {
        (*(*v4 + 24))(v4);
      }

      else
      {
        --*(v4 + 20);
      }
    }
  }

  if ((v2 & 2) != 0)
  {
    if (*(a1 + 1949))
    {
      return;
    }

    *(a1 + 1949) = 1;
    IPC::MessageSender::send<Messages::WebPageProxy::DidUpdateRenderingAfterCommittingLoad>(a1 + 32);
  }

  v5 = *(a1 + 56);
  if (v5)
  {
    v6 = v5 + 2;
    ++v5[2];
    WebCore::Page::didUpdateRendering(v5);
    WTF::RefCounted<WebCore::Page>::deref(v6);
  }

  else
  {
    WebCore::Page::didUpdateRendering(0);
  }
}

uint64_t IPC::MessageSender::send<Messages::WebPageProxy::DidUpdateRenderingAfterCommittingLoad>(uint64_t a1)
{
  v2 = (*(*a1 + 56))(a1);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2237;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v11 = v4;
  v6 = (*(*a1 + 32))(a1, &v11, 0);
  v7 = v11;
  v11 = 0;
  if (v7)
  {
    IPC::Encoder::~Encoder(v7, v5);
    bmalloc::api::tzoneFree(v9, v10);
  }

  return v6;
}

BOOL WebKit::WebPage::shouldTriggerRenderingUpdate(WebKit::WebPage *this, unsigned int a2)
{
  if (a2 > 0x3B)
  {
    return 1;
  }

  v3 = *(this + 259);
  if (!v3)
  {
    return 1;
  }

  v4 = *(v3 + 20);
  *(v3 + 20) = v4 + 1;
  v5 = *(v3 + 288) - *(v3 + 296);
  v2 = (v5 & ~(v5 >> 63)) < 3;
  if (v4)
  {
    *(v3 + 20) = v4;
  }

  else
  {
    (*(*v3 + 24))(v3);
  }

  return v2;
}

uint64_t WebKit::WebPage::finalizeRenderingUpdate(uint64_t a1)
{
  v2 = *(a1 + 56);
  if (v2)
  {
    v3 = (v2 + 8);
    ++*(v2 + 8);
    WebCore::Page::finalizeRenderingUpdate();
    WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {
    WebCore::Page::finalizeRenderingUpdate();
  }

  v4 = *(a1 + 2072);
  if (v4)
  {
    ++*(v4 + 20);
    WebKit::RemoteRenderingBackendProxy::finalizeRenderingUpdate(v4);
    if (*(v4 + 20) == 1)
    {
      (*(*v4 + 24))(v4);
    }

    else
    {
      --*(v4 + 20);
    }
  }

  return WebKit::WebPage::flushDeferredDidReceiveMouseEvent(a1);
}

_DWORD *WebKit::WebPage::willStartRenderingUpdateDisplay(_DWORD *this)
{
  if ((*(this + 202) & 1) == 0)
  {
    v2 = *(this + 7);
    if (v2)
    {
      v3 = v2 + 2;
      ++v2[2];
      WebCore::Page::willStartRenderingUpdateDisplay(v2);

      return WTF::RefCounted<WebCore::Page>::deref(v3);
    }

    else
    {

      return WebCore::Page::willStartRenderingUpdateDisplay(0);
    }
  }

  return this;
}

_DWORD *WebKit::WebPage::didCompleteRenderingUpdateDisplay(_DWORD *this)
{
  if ((*(this + 202) & 1) == 0)
  {
    v2 = *(this + 7);
    if (v2)
    {
      v3 = v2 + 2;
      ++v2[2];
      WebCore::Page::didCompleteRenderingUpdateDisplay(v2);

      return WTF::RefCounted<WebCore::Page>::deref(v3);
    }

    else
    {

      return WebCore::Page::didCompleteRenderingUpdateDisplay(0);
    }
  }

  return this;
}

_DWORD *WebKit::WebPage::didCompleteRenderingFrame(_DWORD *this)
{
  if ((*(this + 202) & 1) == 0)
  {
    v2 = *(this + 7);
    if (v2)
    {
      v3 = v2 + 2;
      ++v2[2];
      WebCore::Page::didCompleteRenderingFrame(v2);

      return WTF::RefCounted<WebCore::Page>::deref(v3);
    }

    else
    {

      return WebCore::Page::didCompleteRenderingFrame(0);
    }
  }

  return this;
}

uint64_t WebKit::WebPage::releaseMemory(uint64_t a1, void *a2)
{
  v3 = *(a1 + 2072);
  if (v3)
  {
    ++*(v3 + 5);
    WebKit::RemoteRenderingBackendProxy::releaseMemory(v3, a2);
    if (*(v3 + 5) == 1)
    {
      (*(*v3 + 24))(v3);
    }

    else
    {
      --*(v3 + 5);
    }
  }

  v4 = *(a1 + 416);
  result = *(v4 + 80);
  if (result)
  {
    *(v4 + 80) = 0;

    return WTF::HashTable<WebKit::WebFoundTextRange,WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>>>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashMap<WebKit::WebFoundTextRange,std::optional<WebCore::WeakSimpleRange>,WTF::DefaultHash<WebKit::WebFoundTextRange>,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::HashTraits<std::optional<WebCore::WeakSimpleRange>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebKit::WebFoundTextRange>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  return result;
}

uint64_t WebKit::WebPage::willDestroyDecodedDataForAllImages(uint64_t this, void *a2)
{
  v2 = this;
  v3 = *(this + 2072);
  if (v3)
  {
    ++*(v3 + 5);
    this = WebKit::RemoteRenderingBackendProxy::releaseNativeImages(v3, a2);
    if (*(v3 + 5) == 1)
    {
      this = (*(*v3 + 24))(v3);
    }

    else
    {
      --*(v3 + 5);
    }
  }

  v4 = *(v2 + 72);
  if (v4)
  {
    ++v4[4];
    this = (*(*v4 + 400))(v4);
    if (v4[4] == 1)
    {
      v5 = *(*v4 + 24);

      return v5(v4);
    }

    else
    {
      --v4[4];
    }
  }

  return this;
}

uint64_t WebKit::WebPage::remoteImagesCountForTesting(WebKit::WebPage *this)
{
  v1 = *(this + 259);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 20);
  *(v1 + 20) = v2 + 1;
  v3 = *(v1 + 104);
  if (!v3)
  {
    v4 = 0;
    if (v2)
    {
      goto LABEL_4;
    }

LABEL_7:
    (*(*v1 + 24))(v1);
    return v4;
  }

  v4 = *(v3 - 12);
  if (!v2)
  {
    goto LABEL_7;
  }

LABEL_4:
  *(v1 + 20) = v2;
  return v4;
}

uint64_t WebKit::WebPage::inspector(WebKit::WebInspector *this, int a2)
{
  if (*(this + 202))
  {
    return 0;
  }

  v9[3] = v2;
  v9[4] = v3;
  result = *(this + 53);
  if (a2 == 1 && !result)
  {
    WebKit::WebInspector::create(this, v9);
    v6 = v9[0];
    v9[0] = 0;
    v7 = *(this + 53);
    *(this + 53) = v6;
    if (v7)
    {
      if (atomic_fetch_add(v7 + 5, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v7 + 5);
        (*(*v7 + 24))(v7);
      }

      v8 = v9[0];
      v9[0] = 0;
      if (v8)
      {
        if (atomic_fetch_add(v8 + 5, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v8 + 5);
          (*(*v8 + 24))(v8);
        }
      }
    }

    return *(this + 53);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::inspectorFrontendCountChanged(WebKit::WebPage *this, int a2)
{
  v3 = this + 32;
  v4 = (*(*(this + 4) + 56))(this + 32);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2180;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, a2);
  (*(*v3 + 32))(v3, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

WebKit::PlaybackSessionManager *WebKit::WebPage::playbackSessionManager(WebKit::WebPage *this)
{
  result = *(this + 57);
  if (!result)
  {
    WebKit::PlaybackSessionManager::create(this, &v4);
    result = v4;
    v3 = *(this + 57);
    *(this + 57) = v4;
    if (v3)
    {
      if (v3[4] == 1)
      {
        (*(*v3 + 24))(v3);
        return *(this + 57);
      }

      else
      {
        --v3[4];
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::videoPresentationManager(WebKit::WebPage *this)
{
  result = *(this + 58);
  if (!result)
  {
    v3 = WebKit::WebPage::playbackSessionManager(this);
    ++*(v3 + 4);
    WebKit::VideoPresentationManager::create(this, v3, &v5);
    v4 = *(this + 58);
    *(this + 58) = v5;
    if (v4)
    {
      if (v4[4] == 1)
      {
        (*(*v4 + 24))(v4);
      }

      else
      {
        --v4[4];
      }
    }

    if (*(v3 + 4) == 1)
    {
      (*(*v3 + 24))(v3);
    }

    else
    {
      --*(v3 + 4);
    }

    return *(this + 58);
  }

  return result;
}

uint64_t WebKit::WebPage::videoControlsManagerDidChange(WebKit::WebPage *this)
{
  v1 = WebKit::WebPage::fullScreenManager(this);
  ++*(v1 + 4);
  result = WebKit::WebFullScreenManager::videoControlsManagerDidChange(v1);
  if (*(v1 + 4) == 1)
  {
    v3 = *(*v1 + 8);

    return v3(v1);
  }

  else
  {
    --*(v1 + 4);
  }

  return result;
}

uint64_t WebKit::WebPage::startPlayingPredominantVideo(uint64_t a1, uint64_t *a2)
{
  v41 = *MEMORY[0x1E69E9840];
  v3 = *(*(a1 + 88) + 40);
  if (!v3 || (v4 = *(v3 + 8)) == 0 || *(v4 + 136) == 1)
  {
    v31 = *a2;
    *a2 = 0;
    (*(*v31 + 16))(v31, 0);
    v32 = *(*v31 + 8);

    return v32(v31);
  }

  ++*(v4 + 16);
  v5 = *(v4 + 216);
  if (!v5)
  {
    v33 = *a2;
    *a2 = 0;
    (*(*v33 + 16))(v33, 0);
    result = (*(*v33 + 8))(v33);
    goto LABEL_44;
  }

  ++v5[2];
  v6 = *(v4 + 224);
  if (!v6)
  {
    v34 = *a2;
    *a2 = 0;
    (*(*v34 + 16))(v34, 0);
    result = (*(*v34 + 8))(v34);
    goto LABEL_42;
  }

  *(v6 + 7) += 2;
  v36 = 0;
  v37 = 0;
  WebCore::Document::updateLayoutIgnorePendingStylesheets();
  v7 = WTF::fastMalloc(0x10);
  *v7 = &unk_1F1133FB8;
  v7[1] = &v36;
  v38 = v7;
  WebCore::Document::forEachMediaElement();
  if (v38)
  {
    (*(*v38 + 8))(v38);
  }

  v8 = WebCore::ScrollView::unobscuredContentRect();
  v10 = v9;
  if ((v9 & 0x80000000) == 0)
  {
    v11 = v9;
  }

  else
  {
    v11 = -v9;
  }

  v12 = HIDWORD(v9);
  if ((v9 & 0x8000000000000000) != 0)
  {
    LODWORD(v12) = -HIDWORD(v9);
  }

  v13 = v11 * v12;
  if ((v13 & 0xFFFFFFFF00000000) != 0 || !HIDWORD(v37))
  {
LABEL_39:
    v29 = *a2;
    *a2 = 0;
    (*(*v29 + 16))(v29, 0);
    (*(*v29 + 8))(v29);
    goto LABEL_40;
  }

  v14 = v8;
  v15 = 0;
  v16 = vcvtd_n_f64_u32(v13, 2uLL);
  v17 = v36;
  v18 = 8 * HIDWORD(v37);
  v19 = 0.0;
  do
  {
    v35.m_location = WebCore::Element::boundingBoxInRootViewCoordinates(*v17);
    v35.m_size = v20;
    v38 = v14;
    v39 = v10;
    WebCore::IntRect::intersect(&v38, &v35);
    if (v39 < 1 || SHIDWORD(v39) < 1)
    {
      goto LABEL_26;
    }

    v22 = v39 * HIDWORD(v39);
    if ((v22 & 0xFFFFFFFF00000000) != 0)
    {
      goto LABEL_26;
    }

    v23 = v22;
    if (v19 >= v22 || v23 < v16)
    {
      goto LABEL_26;
    }

    v25 = *v17;
    if (*v17)
    {
      *(v25 + 7) += 2;
    }

    if (v15)
    {
      if (*(v15 + 7) == 2)
      {
        v26 = v15;
        v19 = v23;
        v15 = v25;
        WebCore::Node::removedLastRef(v26);
LABEL_26:
        v23 = v19;
        goto LABEL_27;
      }

      *(v15 + 7) -= 2;
    }

    v15 = v25;
LABEL_27:
    ++v17;
    v19 = v23;
    v18 -= 8;
  }

  while (v18);
  if (!v15)
  {
    goto LABEL_39;
  }

  LOBYTE(v38) = 0;
  v40 = 0;
  WebCore::UserGestureIndicator::UserGestureIndicator();
  (*(*v15 + 1448))(v15);
  v27 = *a2;
  *a2 = 0;
  (*(*v27 + 16))(v27, 1);
  (*(*v27 + 8))(v27);
  MEMORY[0x19EB09070](&v35);
  if (*(v15 + 7) == 2)
  {
    WebCore::Node::removedLastRef(v15);
  }

  else
  {
    *(v15 + 7) -= 2;
  }

LABEL_40:
  result = WTF::Vector<WTF::Ref<WebCore::HTMLMediaElement,WTF::RawPtrTraits<WebCore::HTMLMediaElement>,WTF::DefaultRefDerefTraits<WebCore::HTMLMediaElement>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v36, v28);
  if (*(v6 + 7) == 2)
  {
    result = WebCore::Node::removedLastRef(v6);
  }

  else
  {
    *(v6 + 7) -= 2;
  }

LABEL_42:
  if (v5[2] == 1)
  {
    result = (*(*v5 + 8))(v5);
  }

  else
  {
    --v5[2];
  }

LABEL_44:
  if (*(v4 + 16) == 1)
  {
    return (*(*v4 + 8))(v4);
  }

  --*(v4 + 16);
  return result;
}

uint64_t WebKit::WebPage::setSceneIdentifier(WebCore::AudioSession *a1, uint64_t a2)
{
  v4 = WebCore::AudioSession::sharedSession(a1);
  (*(*v4 + 264))(v4, a2);
  v5 = *(a1 + 7);

  return MEMORY[0x1EEE5A630](v5, a2);
}

WebKit::WebFullScreenManager *WebKit::WebPage::fullScreenManager(WebKit::WebPage *this)
{
  result = *(this + 65);
  if (!result)
  {
    v3 = WTF::fastMalloc(0xC0);
    result = WebKit::WebFullScreenManager::WebFullScreenManager(v3, this);
    v4 = *(this + 65);
    *(this + 65) = result;
    if (v4)
    {
      if (v4[4] == 1)
      {
        (*(*v4 + 8))(v4);
        return *(this + 65);
      }

      else
      {
        --v4[4];
      }
    }
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::closeFullScreen(WebKit::WebPage *this)
{
  v1 = this;
  WebKit::WebPage::removeReasonsToDisallowLayoutViewportHeightExpansion(this, 1);
  v2 = *(v1 + 4);
  v1 = (v1 + 32);
  v3 = (*(v2 + 56))(v1);
  v5 = IPC::Encoder::operator new(0x238, v4);
  *v5 = 2021;
  *(v5 + 2) = 0;
  *(v5 + 3) = 0;
  *(v5 + 1) = v3;
  *(v5 + 68) = 0;
  *(v5 + 70) = 0;
  *(v5 + 69) = 0;
  IPC::Encoder::encodeHeader(v5);
  v10 = v5;
  (*(*v1 + 32))(v1, &v10, 0);
  result = v10;
  v10 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v6);
    return bmalloc::api::tzoneFree(v8, v9);
  }

  return result;
}

uint64_t WebKit::WebPage::removeReasonsToDisallowLayoutViewportHeightExpansion(uint64_t result, int a2)
{
  v4 = *(result + 1953);
  *(result + 1953) = v4 & ~a2;
  if (*(*(*(result + 56) + 120) + 440) != 0.0 && v4 != 0 && (v4 & ~a2) == 0)
  {
    v8 = v2;
    v9 = v3;
    v7 = 1;
    return IPC::MessageSender::send<Messages::WebPageProxy::SetAllowsLayoutViewportHeightExpansion>(result + 32, &v7);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::addReasonsToDisallowLayoutViewportHeightExpansion(IPC::Encoder *result, char a2)
{
  v4 = *(result + 1953);
  *(result + 1953) = v4 | a2;
  if (*(*(*(result + 7) + 120) + 440) != 0.0 && v4 == 0 && (v4 | a2) != 0)
  {
    v15[5] = v2;
    v15[6] = v3;
    v14 = 0;
    v7 = result + 32;
    v8 = (*(*(result + 4) + 56))(result + 32);
    v10 = IPC::Encoder::operator new(0x238, v9);
    *v10 = 2349;
    *(v10 + 2) = 0;
    *(v10 + 3) = 0;
    *(v10 + 1) = v8;
    *(v10 + 68) = 0;
    *(v10 + 70) = 0;
    *(v10 + 69) = 0;
    IPC::Encoder::encodeHeader(v10);
    v15[0] = v10;
    IPC::Encoder::operator<<<BOOL &>(v10, &v14);
    (*(*v7 + 32))(v7, v15, 0);
    result = v15[0];
    v15[0] = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v11);
      return bmalloc::api::tzoneFree(v12, v13);
    }
  }

  return result;
}

void WebKit::WebPage::addConsoleMessage(WebKit::WebProcess *a1, void *a2)
{
  v3 = WebKit::WebProcess::singleton(a1, a2);
  v4 = WebKit::WebProcess::webFrame(v3, a2, 1);
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    WebKit::WebFrame::addConsoleMessage(v5);
    v6 = *(v5 + 8);

    CFRelease(v6);
  }
}

void WebKit::WebPage::enqueueSecurityPolicyViolationEvent(uint64_t a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v10 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v10);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::webFrame(v3, a2, 1);
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    v6 = *(v5 + 40);
    if (v6)
    {
      v7 = *(v6 + 8);
      if (v7)
      {
        if ((*(v7 + 136) & 1) == 0)
        {
          ++*(v7 + 16);
          v8 = *(v7 + 224);
          if (v8)
          {
            *(v8 + 7) += 2;
            WebCore::Document::enqueueSecurityPolicyViolationEvent();
            if (*(v8 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v8);
            }

            else
            {
              *(v8 + 7) -= 2;
            }
          }

          if (*(v7 + 16) == 1)
          {
            (*(*v7 + 8))(v7);
          }

          else
          {
            --*(v7 + 16);
          }
        }
      }
    }

    v9 = *(v5 + 8);

    CFRelease(v9);
  }
}

void WebKit::WebPage::notifyReportObservers(uint64_t a1, void *a2)
{
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v12 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v12);
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = WebKit::WebProcess::webFrame(v3, a2, 1);
  if (v4)
  {
    v5 = v4;
    CFRetain(*(v4 + 8));
    v6 = *(v5 + 40);
    if (v6)
    {
      v7 = *(v6 + 8);
      if (v7)
      {
        if ((*(v7 + 136) & 1) == 0)
        {
          ++*(v7 + 16);
          v8 = *(v7 + 224);
          if (v8)
          {
            *(v8 + 28) += 2;
            v9 = *(v8 + 3344);
            if (!v9)
            {
              v9 = WebCore::Document::ensureReportingScope(v8);
            }

            v10 = (v9 + 24);
            ++*(v9 + 24);
            WebCore::ReportingScope::notifyReportObservers();
            WTF::RefCounted<WebCore::ReportingScope>::deref(v10);
            if (*(v8 + 28) == 2)
            {
              WebCore::Node::removedLastRef(v8);
            }

            else
            {
              *(v8 + 28) -= 2;
            }
          }

          if (*(v7 + 16) == 1)
          {
            (*(*v7 + 8))(v7);
          }

          else
          {
            --*(v7 + 16);
          }
        }
      }
    }

    v11 = *(v5 + 8);

    CFRelease(v11);
  }
}

void WebKit::WebPage::sendReportToEndpoints(uint64_t a1, void *a2, uint64_t a3, uint64_t *a4, uint64_t a5, WTF::RefCountedBase **a6)
{
  v6 = *a6;
  *a6 = 0;
  if (!v6)
  {
    return;
  }

  {
    v11 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v33 = WebKit::WebProcess::operator new(0x370, a2);
    v11 = WebKit::WebProcess::WebProcess(v33);
    WebKit::WebProcess::singleton(void)::process = v11;
  }

  v12 = WebKit::WebProcess::webFrame(v11, a2, 1);
  if (!v12)
  {
    goto LABEL_51;
  }

  v13 = v12;
  CFRetain(*(v12 + 8));
  v14 = *(v13 + 40);
  if (!v14)
  {
    goto LABEL_50;
  }

  v15 = *(v14 + 8);
  if (!v15 || (*(v15 + 136) & 1) != 0)
  {
    goto LABEL_50;
  }

  v16 = *(a4 + 3);
  if (!v16)
  {
    goto LABEL_25;
  }

  v17 = *a4;
  v18 = 8 * v16;
  do
  {
    v19 = *(v13 + 40);
    if (!v19)
    {
LABEL_22:
      v20 = 0;
      goto LABEL_14;
    }

    v20 = *(v19 + 8);
    if (v20)
    {
      if (*(v20 + 136))
      {
        goto LABEL_22;
      }

      ++*(v20 + 16);
    }

LABEL_14:
    MEMORY[0x19EB01E00](v35, a3, v17, 0);
    ++*v6;
    WebCore::PingLoader::sendViolationReport();
    v34 = 0;
    WTF::RefCounted<WebCore::FormData>::deref(v6);
    v21 = v35[0];
    v35[0] = 0;
    if (v21 && atomic_fetch_add_explicit(v21, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v21, v22);
    }

    if (*(v20 + 16) == 1)
    {
      (*(*v20 + 8))(v20);
    }

    else
    {
      --*(v20 + 16);
    }

    v17 += 8;
    v18 -= 8;
  }

  while (v18);
  v15 = *(*(v13 + 40) + 8);
  if (*(v15 + 136))
  {
    v15 = 0;
  }

LABEL_25:
  v23 = *(v15 + 224);
  if (v23)
  {
    v24 = *(v23 + 7);
    *(v23 + 7) = v24 + 2;
    v25 = *(a5 + 12);
    if (v25)
    {
      v26 = *a5;
      v27 = 8 * v25;
      while (1)
      {
        WebCore::Document::endpointURIForToken(&v34, v23, v26);
        v29 = v34;
        if (v34)
        {
          break;
        }

LABEL_44:
        v26 = (v26 + 8);
        v27 -= 8;
        if (!v27)
        {
          v24 = *(v23 + 7) - 2;
          goto LABEL_48;
        }
      }

      if (*(v34 + 1))
      {
        v30 = *(v13 + 40);
        if (!v30)
        {
          goto LABEL_47;
        }

        v31 = *(v30 + 8);
        if (!v31)
        {
          goto LABEL_34;
        }

        if (*(v31 + 136))
        {
LABEL_47:
          v31 = 0;
        }

        else
        {
          ++*(v31 + 16);
        }

LABEL_34:
        MEMORY[0x19EB01E00](v35, a3, &v34, 0);
        ++*v6;
        WebCore::PingLoader::sendViolationReport();
        WTF::RefCounted<WebCore::FormData>::deref(v6);
        v32 = v35[0];
        v35[0] = 0;
        if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v32, v28);
        }

        if (*(v31 + 16) == 1)
        {
          (*(*v31 + 8))(v31);
        }

        else
        {
          --*(v31 + 16);
        }

        v29 = v34;
        v34 = 0;
        if (!v29)
        {
          goto LABEL_44;
        }
      }

      else
      {
        v34 = 0;
      }

      if (atomic_fetch_add_explicit(v29, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v29, v28);
      }

      goto LABEL_44;
    }

LABEL_48:
    if (v24)
    {
      *(v23 + 7) = v24;
    }

    else
    {
      WebCore::Node::removedLastRef(v23);
    }
  }

LABEL_50:
  CFRelease(*(v13 + 8));
LABEL_51:
  WTF::RefCounted<WebCore::FormData>::deref(v6);
}

uint64_t WebKit::WebPage::notificationPermissionRequestManager(WebKit::WebPage *this)
{
  result = *(this + 72);
  if (!result)
  {
    WebKit::NotificationPermissionRequestManager::create(this, &v4);
    result = v4;
    v3 = *(this + 72);
    *(this + 72) = v4;
    if (v3)
    {
      WTF::RefCounted<WebKit::NotificationPermissionRequestManager>::deref(v3);
      return *(this + 72);
    }
  }

  return result;
}

void WebKit::WebPage::performDragControllerAction(uint64_t a1, void *a2, char a3, unsigned int a4, uint64_t a5, uint64_t *a6)
{
  if (*(a1 + 56))
  {
    if (a3)
    {
      {
        v10 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v26 = WebKit::WebProcess::operator new(0x370, a2);
        v10 = WebKit::WebProcess::WebProcess(v26);
        WebKit::WebProcess::singleton(void)::process = v10;
      }

      v11 = WebKit::WebProcess::webFrame(v10, a2, 1);
    }

    else
    {
      v11 = *(a1 + 88);
    }

    if (v11)
    {
      CFRetain(*(v11 + 8));
      v13 = *(v11 + 40);
      if (v13)
      {
        v14 = *(v13 + 8);
        if (v14)
        {
          if ((*(v14 + 136) & 1) == 0)
          {
            ++*(v14 + 16);
            if (a4 >= 2)
            {
              if (a4 == 2)
              {
                WebCore::DragController::dragExited();
                v17 = *a6;
                *a6 = 0;
                (*(*v17 + 16))(v17, 0, 0, 0, 0, 0, 0);
                (*(*v17 + 8))(v17);
              }
            }

            else
            {
              v15 = WebCore::DragController::dragEnteredOrUpdated();
              if (v28)
              {
                if (v28 != 1)
                {
                  mpark::throw_bad_variant_access(v15);
                }

                v16 = *a6;
                *a6 = 0;
                (*(*v16 + 16))(v16, 0, 0, 0, 0, 0, 0);
              }

              else
              {
                v18 = *(a1 + 56);
                v19 = *(v18 + 72);
                v20 = *(v19 + 44);
                v21 = *(v19 + 32) != 0;
                v22 = *(v19 + 40);
                v23 = WebCore::DragCaretController::caretRectInRootViewCoordinates(*(v18 + 64));
                v25 = v24;
                WebCore::DragCaretController::editableElementRectInRootViewCoordinates(*(*(a1 + 56) + 64));
                v16 = *a6;
                *a6 = 0;
                (*(*v16 + 16))(v16, v27, v20, v21, v22, v23, v25);
              }

              (*(*v16 + 8))(v16);
            }

            if (*(v14 + 16) == 1)
            {
              (*(*v14 + 8))(v14);
            }

            else
            {
              --*(v14 + 16);
            }
          }
        }
      }

      CFRelease(*(v11 + 8));
    }
  }

  else
  {
    v12 = *a6;
    *a6 = 0;
    (*(*v12 + 16))(v12, 0, 0, 0, 0, 0, 0);
    (*(*v12 + 8))(v12);
  }
}

uint64_t WebKit::WebPage::performDragOperation(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t *a4, uint64_t *a5)
{
  if (*a3)
  {
    v9 = WTF::fastMalloc(0x18);
    *v9 = 1;
    v10 = *a3;
    *a3 = 0;
    *(v9 + 8) = v10;
    *(v9 + 16) = 0;
  }

  else
  {
    v9 = 0;
  }

  v11 = *(a1 + 672);
  *(a1 + 672) = v9;
  if (v11)
  {
    WTF::RefCounted<WebKit::SandboxExtension>::deref(v11);
  }

  if (*(a4 + 3))
  {
    v12 = 0;
    do
    {
      v13 = *a4;
      if (*(*a4 + 8 * v12))
      {
        v14 = WTF::fastMalloc(0x18);
        *v14 = 1;
        v15 = *(v13 + 8 * v12);
        *(v13 + 8 * v12) = 0;
        *(v14 + 8) = v15;
        *(v14 + 16) = 0;
        v23 = v14;
        v16 = *(a1 + 692);
        if (v16 == *(a1 + 688))
        {
          WTF::Vector<WTF::RefPtr<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::RefPtr<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>&>(a1 + 680, &v23);
        }

        else
        {
          v17 = *(a1 + 680);
          *v14 = 2;
          *(v17 + 8 * v16) = v14;
          *(a1 + 692) = v16 + 1;
        }

        v18 = v23;
        v23 = 0;
        if (v18)
        {
          WTF::RefCounted<WebKit::SandboxExtension>::deref(v18);
        }
      }

      ++v12;
    }

    while (v12 < *(a4 + 3));
  }

  v19 = WebCore::DragController::performDragOperation();
  v20 = *(a1 + 672);
  *(a1 + 672) = 0;
  if (v20)
  {
    WTF::RefCounted<WebKit::SandboxExtension>::deref(v20);
  }

  WTF::Vector<WTF::RefPtr<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity((a1 + 680), 0);
  v21 = *a5;
  *a5 = 0;
  (*(*v21 + 16))(v21, v19);
  return (*(*v21 + 8))(v21);
}

void WebKit::WebPage::dragEnded(uint64_t a1, uint64_t a2, char a3, unint64_t a4, unint64_t a5, uint64_t a6, uint64_t *a7)
{
  v63 = *MEMORY[0x1E69E9840];
  v13 = *(*(a1 + 56) + 72);
  v14 = *(v13 + 13);
  v15 = *(v13 + 14);
  WebCore::DragController::dragEnded(v13);
  if (a3)
  {
    {
      v17 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v41 = WebKit::WebProcess::operator new(0x370, v16);
      v17 = WebKit::WebProcess::WebProcess(v41);
      WebKit::WebProcess::singleton(void)::process = v17;
    }

    v18 = WebKit::WebProcess::webFrame(v17, a2, 1);
  }

  else
  {
    v18 = *(a1 + 88);
  }

  if (v18)
  {
    v19 = CFRetain(*(v18 + 8));
    v20 = *(v18 + 40);
    if (v20 && (v21 = *(v20 + 8)) != 0 && (*(v21 + 136) & 1) == 0)
    {
      ++*(v21 + 16);
      v22 = *(v21 + 216);
      if (v22)
      {
        v42 = a1;
        v23 = a7;
        v24 = HIDWORD(a4);
        v25 = HIDWORD(a5);
        v26 = (v14 + a4);
        v27 = (v15 + v24);
        v28 = (v14 + a5);
        v29 = (v15 + v25);
        ++v22[2];
        v30 = WTF::WallTime::now(v19);
        v47 = v31;
        v48 = 5;
        v49 = 0;
        v50 = 0;
        v51 = 0;
        v52 = v26 | (v27 << 32);
        v53 = v28 | (v29 << 32);
        v55 = 0;
        v54 = 0;
        v56 = 0;
        v57 = 1;
        v32 = *WebCore::mousePointerEventType(v30);
        if (v32)
        {
          atomic_fetch_add_explicit(v32, 2u, memory_order_relaxed);
        }

        v58 = v32;
        v59 = 0;
        v60 = 0;
        v61 = 0u;
        v62 = 0u;
        WebCore::EventHandler::dragSourceEndedAt();
        v45 = v43;
        v46 = v44;
        v33 = *v23;
        *v23 = 0;
        (*(*v33 + 16))(v33, &v45);
        (*(*v33 + 8))(v33);
        *(v42 + 771) = 0;
        WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v62, v34);
        WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v61, v35);
        v37 = v58;
        v58 = 0;
        if (v37 && atomic_fetch_add_explicit(v37, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v37, v36);
        }

        if (v22[2] == 1)
        {
          (*(*v22 + 8))(v22);
        }

        else
        {
          --v22[2];
        }
      }

      else
      {
        v39 = *a7;
        *a7 = 0;
        LOBYTE(v47) = 0;
        v49 = 0;
        (*(*v39 + 16))(v39, &v47);
        (*(*v39 + 8))(v39);
      }

      if (*(v21 + 16) == 1)
      {
        (*(*v21 + 8))(v21);
      }

      else
      {
        --*(v21 + 16);
      }
    }

    else
    {
      v38 = *a7;
      *a7 = 0;
      LOBYTE(v47) = 0;
      v49 = 0;
      (*(*v38 + 16))(v38, &v47);
      (*(*v38 + 8))(v38);
    }

    CFRelease(*(v18 + 8));
  }

  else
  {
    v40 = *a7;
    *a7 = 0;
    LOBYTE(v47) = 0;
    v49 = 0;
    (*(*v40 + 16))(v40, &v47);
    (*(*v40 + 8))(v40);
  }
}

unsigned int *WebKit::WebPage::mayPerformUploadDragDestinationAction(WebKit::WebPage *this)
{
  v2 = *(this + 173);
  if (v2)
  {
    v3 = *(this + 85);
    v4 = 8 * v2;
    do
    {
      v5 = *v3;
      if (*v3)
      {
        ++*v5;
        WebKit::SandboxExtension::consumePermanently(v5);
        WTF::RefCounted<WebKit::SandboxExtension>::deref(v5);
      }

      else
      {
        WebKit::SandboxExtension::consumePermanently(0);
      }

      ++v3;
      v4 -= 8;
    }

    while (v4);
  }

  return WTF::Vector<WTF::RefPtr<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(this + 170, 0);
}

_DWORD *WebKit::WebPage::didStartDrag(WebKit::WebPage *this)
{
  *(this + 771) = 0;
  result = WebKit::WebPage::localMainFrame(this, &v2);
  if (v2)
  {
    WebCore::EventHandler::didStartDrag(v2[42]);
    result = v2;
    v2 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::dragCancelled(WebKit::WebPage *this)
{
  *(this + 771) = 0;
  result = WebKit::WebPage::localMainFrame(this, &v2);
  if (v2)
  {
    WebCore::EventHandler::dragCancelled(v2[42]);
    result = v2;
    v2 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

WebKit::WebUndoStep *WebKit::WebPage::unapplyEditCommand(WebKit::WebPage *this, uint64_t a2)
{
  result = WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<unsigned long long>>,unsigned long long>(this + 45, a2);
  if (result)
  {
    v3 = result;
    ++*result;
    v4 = *(result + 1);
    ++v4[2];
    (*(*v4 + 16))(v4);
    if (v4[2] == 1)
    {
      (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[2];
    }

    return WTF::RefCounted<WebKit::WebUndoStep>::deref(v3);
  }

  return result;
}

WebKit::WebUndoStep *WebKit::WebPage::reapplyEditCommand(WebKit::WebPage *this, uint64_t a2)
{
  result = WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<unsigned long long>>,unsigned long long>(this + 45, a2);
  if (result)
  {
    v4 = result;
    ++*result;
    *(this + 201) = 1;
    v5 = *(result + 1);
    ++v5[2];
    (*(*v5 + 24))(v5);
    if (v5[2] == 1)
    {
      (*(*v5 + 8))(v5);
    }

    else
    {
      --v5[2];
    }

    *(this + 201) = 0;

    return WTF::RefCounted<WebKit::WebUndoStep>::deref(v4);
  }

  return result;
}

WebKit::WebUndoStep *WebKit::WebPage::didRemoveEditCommand(WebKit::WebUndoStep *this, uint64_t a2)
{
  v2 = *(this + 45);
  if (v2)
  {
    if (a2 == -1 || !a2)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3F1378);
    }

    v3 = *(v2 - 8);
    v4 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v5 = 9 * ((v4 + ~(v4 << 13)) ^ ((v4 + ~(v4 << 13)) >> 8));
    v6 = (v5 ^ (v5 >> 15)) + ~((v5 ^ (v5 >> 15)) << 27);
    v7 = v3 & ((v6 >> 31) ^ v6);
    v8 = *(v2 + 16 * v7);
    if (v8 != a2)
    {
      v9 = 1;
      while (v8)
      {
        v7 = (v7 + v9) & v3;
        v8 = *(v2 + 16 * v7);
        ++v9;
        if (v8 == a2)
        {
          goto LABEL_10;
        }
      }

      v7 = *(v2 - 4);
    }

LABEL_10:
    if (v7 != *(v2 - 4))
    {
      v10 = (v2 + 16 * v7);
      v11 = v10[1];
      v10[1] = 0;
      v12 = *(this + 45);
      if (!v12 || (v12 += 2 * *(v12 - 1), v12 != v10))
      {
        if (v12 != v10)
        {
          *v10 = -1;
          v10[1] = 0;
          v13 = *(this + 45);
          v14 = vadd_s32(*(v13 - 16), 0xFFFFFFFF00000001);
          *(v13 - 16) = v14;
          v15 = *(v13 - 4);
          if (6 * v14.i32[1] < v15 && v15 >= 9)
          {
            this = WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::rehash(this + 45, v15 >> 1, 0);
          }
        }
      }

      if (v11)
      {
        (*(**(v11 + 1) + 48))(*(v11 + 1));

        return WTF::RefCounted<WebKit::WebUndoStep>::deref(v11);
      }
    }
  }

  return this;
}

WebCore::Editor *WebKit::WebPage::closeCurrentTypingCommand(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v2 = result;
    ++*(result + 4);
    v3 = *(result + 28);
    if (v3)
    {
      *(v3 + 7) += 2;
      WebCore::Document::protectedEditor(&v4, v3);
      WebCore::Editor::closeTyping(v4);
      result = v4;
      v4 = 0;
      if (result)
      {
        result = WebCore::Editor::deref(result);
      }

      if (*(v3 + 7) == 2)
      {
        result = WebCore::Node::removedLastRef(v3);
      }

      else
      {
        *(v3 + 7) -= 2;
      }
    }

    if (*(v2 + 4) == 1)
    {
      return (*(*v2 + 8))(v2);
    }

    else
    {
      --*(v2 + 4);
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::setActivePopupMenu(WebKit::WebPage *this, WebKit::WebPopupMenu *a2)
{
  if (a2)
  {
    ++*(a2 + 2);
  }

  result = *(this + 67);
  *(this + 67) = a2;
  if (result)
  {
    if (result[2] == 1)
    {
      return (*(*result + 8))();
    }

    else
    {
      --result[2];
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::setActiveColorChooser(WebKit::WebPage *this, WebKit::WebColorChooser *a2)
{
  if (a2)
  {
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a2 + 2, a2);
    v4 = *(a2 + 1);
    if (v4)
    {
      atomic_fetch_add(v4, 1u);
    }
  }

  else
  {
    v4 = 0;
  }

  result = *(this + 68);
  *(this + 68) = v4;
  if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, result);

    return WTF::fastFree(result, a2);
  }

  return result;
}

uint64_t WebKit::WebPage::didEndColorPicker(uint64_t this)
{
  v1 = *(this + 544);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      ++v2[4];
      this = WebKit::WebColorChooser::didEndChooser(v2);
      if (v2[4] == 1)
      {
        v3 = *(*v2 + 24);

        return v3(v2);
      }

      else
      {
        --v2[4];
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::didChooseColor(uint64_t this, const Color *a2)
{
  v2 = *(this + 544);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      ++v3[4];
      this = WebKit::WebColorChooser::didChooseColor(v3, a2);
      if (v3[4] == 1)
      {
        v4 = *(*v3 + 24);

        return v4(v3);
      }

      else
      {
        --v3[4];
      }
    }
  }

  return this;
}

unsigned int *WebKit::WebPage::setActiveDataListSuggestionPicker(WebKit::WebPage *this, WebKit::WebDataListSuggestionPicker *a2)
{
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a2 + 2, a2);
  v5 = *(a2 + 1);
  atomic_fetch_add(v5, 1u);
  result = *(this + 69);
  *(this + 69) = v5;
  if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, result);

    return WTF::fastFree(result, v4);
  }

  return result;
}

_DWORD *WebKit::WebPage::didSelectDataListOption(_DWORD *this, const WTF::String *a2)
{
  v2 = *(this + 69);
  if (v2)
  {
    this = *(v2 + 8);
    if (this)
    {
      v3 = this + 4;
      ++this[4];
      WebKit::WebDataListSuggestionPicker::didSelectOption(this, a2);

      return WTF::RefCounted<WebKit::WebDataListSuggestionPicker>::deref(v3, v4);
    }
  }

  return this;
}

_DWORD *WebKit::WebPage::didCloseSuggestions(WebKit::WebPage *this, void *a2)
{
  result = *(this + 69);
  *(this + 69) = 0;
  if (result)
  {
    v4 = *(result + 1);
    if (v4)
    {
      ++*(v4 + 16);
    }

    if (atomic_fetch_add(result, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      result = WTF::fastFree(result, a2);
      if (!v4)
      {
        return result;
      }
    }

    else if (!v4)
    {
      return result;
    }

    WebKit::WebDataListSuggestionPicker::didCloseSuggestions(v4);

    return WTF::RefCounted<WebKit::WebDataListSuggestionPicker>::deref((v4 + 16), v5);
  }

  return result;
}

unsigned int *WebKit::WebPage::setActiveDateTimeChooser(WebKit::WebPage *this, WebKit::WebDateTimeChooser *a2)
{
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a2 + 2, a2);
  v5 = *(a2 + 1);
  atomic_fetch_add(v5, 1u);
  result = *(this + 70);
  *(this + 70) = v5;
  if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, result);

    return WTF::fastFree(result, v4);
  }

  return result;
}

uint64_t WebKit::WebPage::didChooseDate(uint64_t this, const WTF::String *a2)
{
  v2 = *(this + 560);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      v4 = (v3 + 16);
      ++*(v3 + 16);
      v5 = *a2;
      if (*a2)
      {
        v6 = *(v5 + 8);
        v7 = *(v5 + 4) | (((*(v5 + 16) >> 2) & 1) << 32);
      }

      else
      {
        v6 = 0;
        v7 = 0x100000000;
      }

      v8 = *(v3 + 24);
      if (v8)
      {
        (*(*v8 + 16))(v8, v6, v7);

        return WTF::RefCounted<WebKit::WebDateTimeChooser>::deref(v4, v9);
      }

      else
      {
        this = 120;
        __break(0xC471u);
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::didEndDateTimePicker(uint64_t this, void *a2)
{
  v2 = *(this + 560);
  *(this + 560) = 0;
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      v4 = *(v3 + 24);
      if (!v4)
      {
        this = 120;
        __break(0xC471u);
        return this;
      }

      this = (*(*v4 + 24))(v4);
    }

    if (atomic_fetch_add(v2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v2);

      return WTF::fastFree(v2, a2);
    }
  }

  return this;
}

IPC::Encoder *WebKit::WebPage::setTextIndicator(WebKit::WebPage *this, const WebCore::TextIndicatorData *a2)
{
  v3 = this + 32;
  v2 = *(this + 4);
  v11 = *(*(this + 11) + 88);
  v12[0] = &v11;
  v12[1] = a2;
  v13 = 1;
  v4 = (*(v2 + 56))(this + 32);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2368;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v14 = v6;
  Messages::WebPageProxy::SetTextIndicatorFromFrame::encode<IPC::Encoder>(v12, v6);
  (*(*v3 + 32))(v3, &v14, 0);
  result = v14;
  v14 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::updateTextIndicator(WebKit::WebPage *this, const WebCore::TextIndicatorData *a2)
{
  v3 = this + 32;
  v4 = *(*(this + 11) + 88);
  v5 = (*(*(this + 4) + 56))(this + 32);
  v7 = IPC::Encoder::operator new(0x238, v6);
  *v7 = 2412;
  *(v7 + 2) = 0;
  *(v7 + 3) = 0;
  *(v7 + 1) = v5;
  *(v7 + 68) = 0;
  *(v7 + 70) = 0;
  *(v7 + 69) = 0;
  IPC::Encoder::encodeHeader(v7);
  v12 = v7;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v7, v4);
  IPC::ArgumentCoder<WebCore::TextIndicatorData,void>::encode(v7, a2);
  (*(*v3 + 32))(v3, &v12, 0);
  result = v12;
  v12 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v8);
    return bmalloc::api::tzoneFree(v10, v11);
  }

  return result;
}

_DWORD *WebKit::WebPage::clearAllDecoratedFoundText(WebKit::FindController **this, void *a2)
{
  WebKit::FindController::hideFindUI(this[51], a2);
  v4 = this[52];

  return WebKit::WebFoundTextRangeController::clearAllDecoratedFoundText(v4, v3);
}

uint64_t WebKit::WebPage::removeLayerForFindOverlay(uint64_t a1, uint64_t *a2)
{
  WebKit::WebFoundTextRangeController::removeLayerForFindOverlay(*(a1 + 416));
  v3 = *a2;
  *a2 = 0;
  (*(*v3 + 16))(v3);
  v4 = *(*v3 + 8);

  return v4(v3);
}

uint64_t WebKit::WebPage::replaceMatches(uint64_t a1, unsigned int **a2, const WTF::String *a3, uint64_t a4, uint64_t *a5)
{
  v6 = WebKit::FindController::replaceMatches(*(a1 + 408), a2, a3);
  v7 = *a5;
  *a5 = 0;
  (*(*v7 + 16))(v7, v6);
  v8 = *(*v7 + 8);

  return v8(v7);
}

uint64_t WebKit::WebPage::didChangeSelectedIndexForActivePopupMenu(uint64_t this, uint64_t a2)
{
  v2 = *(this + 536);
  if (v2)
  {
    v3 = this;
    ++v2[2];
    WebKit::WebPopupMenu::didChangeSelectedIndex(v2, a2);
    if (v2[2] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }

    this = *(v3 + 536);
    *(v3 + 536) = 0;
    if (this)
    {
      if (*(this + 8) == 1)
      {
        v4 = *(*this + 8);

        return v4();
      }

      else
      {
        --*(this + 8);
      }
    }
  }

  return this;
}

WebKit::WebOpenPanelResultListener *WebKit::WebPage::didChooseFilesForOpenPanelWithDisplayStringAndIcon(WebKit::WebOpenPanelResultListener *result, int a2, int a3, UInt8 *bytes, CFIndex length)
{
  v5 = *(result + 71);
  if (v5)
  {
    v6 = result;
    ++*v5;
    if (!length)
    {
      v9 = 0;
      goto LABEL_11;
    }

    v7 = CFDataCreate(0, bytes, length);
    v8 = CGDataProviderCreateWithCFData(v7);
    v13 = CGImageCreateWithPNGDataProvider(v8, 0, 1, kCGRenderingIntentDefault);
    if (!v13)
    {
      v13 = CGImageCreateWithJPEGDataProvider(v8, 0, 1, kCGRenderingIntentDefault);
    }

    WebCore::Icon::create();
    v9 = v12;
    if (v13)
    {
      CFRelease(v13);
      if (!v8)
      {
LABEL_8:
        if (v7)
        {
          CFRelease(v7);
        }

LABEL_11:
        WebCore::FileChooser::chooseMediaFiles();
        v11 = *(v6 + 71);
        *(v6 + 71) = 0;
        if (v11)
        {
          WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v11, v10);
          if (!v9)
          {
            return WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v5, v10);
          }
        }

        else if (!v9)
        {
          return WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v5, v10);
        }

        WTF::RefCounted<WebCore::Icon>::deref(v9);
        return WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v5, v10);
      }
    }

    else if (!v8)
    {
      goto LABEL_8;
    }

    CFRelease(v8);
    goto LABEL_8;
  }

  return result;
}

WebKit::WebOpenPanelResultListener *WebKit::WebPage::didChooseFilesForOpenPanel(WebKit::WebOpenPanelResultListener *result)
{
  v1 = *(result + 71);
  *(result + 71) = 0;
  if (v1)
  {
    WebCore::FileChooser::chooseFiles();

    return WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v1, v2);
  }

  return result;
}

WebKit::WebOpenPanelResultListener *WebKit::WebPage::didCancelForOpenPanel(WebKit::WebOpenPanelResultListener *this)
{
  v1 = *(this + 71);
  *(this + 71) = 0;
  if (v1)
  {
    WebCore::FileChooser::cancelFileChoosing(v1[2]);

    return WTF::RefCounted<WebKit::WebOpenPanelResultListener>::deref(v1, v2);
  }

  return this;
}

uint64_t WebKit::WebPage::extendSandboxForFilesFromOpenPanel(uint64_t a1, uint64_t a2)
{
  result = WebKit::SandboxExtension::consumePermanently(a2);
  if ((result & 1) == 0)
  {

    return WTFLogAlways();
  }

  return result;
}

_DWORD *WebKit::WebPage::userMediaAccessWasGranted(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t *a7)
{
  WebKit::SandboxExtension::consumePermanently(a6);
  v13 = *(a1 + 616);

  return WebKit::UserMediaPermissionRequestManager::userMediaAccessWasGranted(v13, a2, a3, a4, a5, a7);
}

_DWORD *WebKit::WebPage::voiceActivityDetected(WebKit::WebPage *this)
{
  v2 = *(this + 7);
  if (v2)
  {
    v3 = v2 + 2;
    ++v2[2];
    WebCore::Page::voiceActivityDetected(v2);

    return WTF::RefCounted<WebCore::Page>::deref(v3);
  }

  else
  {

    return WebCore::Page::voiceActivityDetected(0);
  }
}

uint64_t WebKit::WebPage::hasRichlyEditableSelection(WebKit::WebPage *this)
{
  v2 = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (!v2)
  {
    return 0;
  }

  v3 = v2;
  ++*(v2 + 16);
  if (WebCore::DragCaretController::isContentRichlyEditable(*(*(this + 7) + 64)))
  {
    isContentRichlyEditable = 1;
  }

  else
  {
    isContentRichlyEditable = WebCore::VisibleSelection::isContentRichlyEditable((*(*(v3 + 224) + 3208) + 56));
  }

  if (*(v3 + 16) == 1)
  {
    (*(*v3 + 8))(v3);
  }

  else
  {
    --*(v3 + 16);
  }

  return isContentRichlyEditable;
}

uint64_t WebKit::WebPage::changeSpellingToWord(WebKit::WebPage *this, const WTF::String *a2)
{
  v3 = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (v3)
  {
    v5 = v3;
    ++*(v3 + 16);
    result = WebKit::WebPage::replaceSelectionWithText(*(v3 + 224), a2, v4);
    if (v5[4] == 1)
    {
      v7 = *(*v5 + 8);

      return v7(v5);
    }

    else
    {
      --v5[4];
    }
  }

  else
  {
    v8 = MEMORY[0xE0];

    return WebKit::WebPage::replaceSelectionWithText(v8, a2, v4);
  }

  return result;
}

uint64_t WebKit::WebPage::replaceSelectionWithText(WebKit::WebPage *this, WebCore::LocalFrame *a2, const WTF::String *a3)
{
  if (this)
  {
    *(this + 7) += 2;
    v4 = WebCore::Document::editor(this);
    if (*(this + 7) == 2)
    {
      WebCore::Node::removedLastRef(this);
    }

    else
    {
      *(this + 7) -= 2;
    }
  }

  else
  {
    v4 = WebCore::Document::editor(0);
  }

  WebCore::Editor::ref(v4);
  WebCore::Editor::replaceSelectionWithText();

  return WebCore::Editor::deref(v4);
}

uint64_t WebKit::WebPage::unmarkAllMisspellings(WebKit::WebPage *this)
{
  v1 = *(*(this + 7) + 176);
  ++*(v1 + 16);
  do
  {
    if ((*(v1 + 136) & 1) == 0)
    {
      ++*(v1 + 16);
      v2 = *(v1 + 224);
      if (v2)
      {
        *(v2 + 28) += 2;
        if (!*(v2 + 1560))
        {
          WebCore::Document::ensureMarkers(v2);
        }

        WebCore::DocumentMarkerController::removeMarkers();
        if (*(v2 + 28) == 2)
        {
          WebCore::Node::removedLastRef(v2);
        }

        else
        {
          *(v2 + 28) -= 2;
        }
      }

      if (*(v1 + 16) == 1)
      {
        (*(*v1 + 8))(v1);
      }

      else
      {
        --*(v1 + 16);
      }
    }

    result = WebCore::FrameTree::traverseNext((v1 + 40), 0);
    v4 = result;
    if (result)
    {
      ++*(result + 16);
    }

    if (*(v1 + 16) == 1)
    {
      result = (*(*v1 + 8))(v1);
    }

    else
    {
      --*(v1 + 16);
    }

    v1 = v4;
  }

  while (v4);
  return result;
}

uint64_t WebKit::WebPage::unmarkAllBadGrammar(WebKit::WebPage *this)
{
  v1 = *(*(this + 7) + 176);
  ++*(v1 + 16);
  do
  {
    if ((*(v1 + 136) & 1) == 0)
    {
      ++*(v1 + 16);
      v2 = *(v1 + 224);
      if (v2)
      {
        *(v2 + 28) += 2;
        if (!*(v2 + 1560))
        {
          WebCore::Document::ensureMarkers(v2);
        }

        WebCore::DocumentMarkerController::removeMarkers();
        if (*(v2 + 28) == 2)
        {
          WebCore::Node::removedLastRef(v2);
        }

        else
        {
          *(v2 + 28) -= 2;
        }
      }

      if (*(v1 + 16) == 1)
      {
        (*(*v1 + 8))(v1);
      }

      else
      {
        --*(v1 + 16);
      }
    }

    result = WebCore::FrameTree::traverseNext((v1 + 40), 0);
    v4 = result;
    if (result)
    {
      ++*(result + 16);
    }

    if (*(v1 + 16) == 1)
    {
      result = (*(*v1 + 8))(v1);
    }

    else
    {
      --*(v1 + 16);
    }

    v1 = v4;
  }

  while (v4);
  return result;
}

uint64_t WebKit::WebPage::setTextForActivePopupMenu(uint64_t this, uint64_t a2)
{
  v2 = *(this + 536);
  if (v2)
  {
    ++v2[2];
    this = WebKit::WebPopupMenu::setTextForIndex(v2, a2);
    if (v2[2] == 1)
    {
      v3 = *(*v2 + 8);

      return v3(v2);
    }

    else
    {
      --v2[2];
    }
  }

  return this;
}

uint64_t WebKit::WebPage::restoreSelectionInFocusedEditableElement(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v2 = result;
    ++*(result + 16);
    v3 = *(result + 224);
    if (!*(*(v3 + 3208) + 153))
    {
      *(v3 + 28) += 2;
      v4 = *(v3 + 1312);
      if (v4)
      {
        *(v4 + 7) += 2;
        result = (*(*v4 + 680))(v4, 0, 3);
        if (*(v4 + 7) == 2)
        {
          result = WebCore::Node::removedLastRef(v4);
        }

        else
        {
          *(v4 + 7) -= 2;
        }
      }

      if (*(v3 + 28) == 2)
      {
        result = WebCore::Node::removedLastRef(v3);
      }

      else
      {
        *(v3 + 28) -= 2;
      }
    }

    if (v2[4] == 1)
    {
      v5 = *(*v2 + 8);

      return v5(v2);
    }

    else
    {
      --v2[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::mainFrameHasCustomContentProvider(WebKit::WebPage *this)
{
  WebKit::WebPage::localMainFrame(this, &v6);
  if (!v6)
  {
    return 0;
  }

  v1 = *(*(v6 + 208) + 16);
  if ((*(*v1 + 40))(v1))
  {
    v2 = v1;
  }

  else
  {
    v2 = 0;
  }

  v3 = *(v2 + 58);
  v4 = v6;
  v6 = 0;
  if (v4)
  {
    if (v4[4] == 1)
    {
      (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[4];
    }
  }

  return v3;
}

_DWORD *WebKit::WebPage::updateMainFrameScrollOffsetPinning(WebKit::WebPage *this)
{
  result = WebKit::WebPage::localMainFrameView(this);
  if (result)
  {
    v3 = result;
    ++result[2];
    result = WebCore::ScrollableArea::edgePinnedState((result + 16));
    v5 = result;
    if (result != *(this + 206))
    {
      v4 = &v5;
      result = IPC::MessageSender::send<Messages::WebPageProxy::DidChangeScrollOffsetPinningForMainFrame>(this + 32, &v4);
      *(this + 206) = v5;
    }

    if (v3[2] == 1)
    {
      return (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[2];
    }
  }

  return result;
}

uint64_t IPC::MessageSender::send<Messages::WebPageProxy::DidChangeScrollOffsetPinningForMainFrame>(uint64_t a1, char **a2)
{
  v4 = (*(*a1 + 56))(a1);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2186;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v13 = v6;
  IPC::ArgumentCoder<WebCore::RectEdges<BOOL>,void>::encode(v6, *a2);
  v8 = (*(*a1 + 32))(a1, &v13, 0);
  v9 = v13;
  v13 = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v7);
    bmalloc::api::tzoneFree(v11, v12);
  }

  return v8;
}

IPC::Encoder *WebKit::WebPage::mainFrameDidLayout(WebKit::WebPage *this)
{
  v2 = MEMORY[0x1E69E2668];
  ++*MEMORY[0x1E69E2668];
  v3 = *(this + 7);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    IsUpToDate = WebCore::Page::pageCountAssumingLayoutIsUpToDate(v3);
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    IsUpToDate = WebCore::Page::pageCountAssumingLayoutIsUpToDate(0);
  }

  v11 = IsUpToDate;
  if (IsUpToDate != *(this + 208))
  {
    v10 = &v11;
    IPC::MessageSender::send<Messages::WebPageProxy::DidChangePageCount>(this + 32, &v10);
    *(this + 208) = v11;
  }

  v6 = *(this + 35);
  if (v6)
  {
    v7 = *(v6 + 16);
    *(v6 + 16) = v7 + 1;
    if (*(v6 + 56) == 1)
    {
      *(v6 + 56) = 0;
    }

    if (v7)
    {
      *(v6 + 16) = v7;
    }

    else
    {
      (*(*v6 + 24))(v6);
    }
  }

  result = WebKit::WebPage::localMainFrameView(this);
  if (result)
  {
    v9 = result;
    ++*(result + 2);
    v10 = WebCore::ScrollView::contentsSize(result);
    result = WebCore::ViewportConfiguration::setContentsSize((this + 928), &v10);
    if (result)
    {
      result = WebKit::WebPage::viewportConfigurationChanged(this, 0);
    }

    if (*(v9 + 2) == 1)
    {
      result = (*(*v9 + 8))(v9);
    }

    else
    {
      --*(v9 + 2);
    }
  }

  --*v2;
  return result;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidChangePageCount>(uint64_t a1, int **a2)
{
  v4 = (*(*a1 + 56))(a1);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2183;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, **a2);
  (*(*a1 + 32))(a1, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

WTF **WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::add<WebKit::PluginView>@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  v6 = *(a1 + 12);
  v7 = *(a1 + 8) + 1;
  *(a1 + 8) = v7;
  if (v7 <= v6)
  {
    goto LABEL_6;
  }

  v8 = *a1;
  if (!*a1)
  {
    goto LABEL_3;
  }

  v28 = *(v8 - 4);
  if (v28)
  {
    v29 = 0;
    v30 = (v8 + 8 * v28 - 8);
    do
    {
      if (*v30 + 1 >= 2 && !*(*v30 + 1))
      {
        WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::deleteBucket(v30, a2);
        ++v29;
      }

      --v30;
      --v28;
    }

    while (v28);
    v8 = *a1;
    if (v29)
    {
      v31 = *(v8 - 12) - v29;
      *(v8 - 16) += v29;
      *(v8 - 12) = v31;
    }

    else if (!v8)
    {
LABEL_3:
      LODWORD(v8) = 0;
      *(a1 + 8) = 0;
      goto LABEL_4;
    }
  }

  v32 = *(v8 - 4);
  if (6 * *(v8 - 12) < v32 && v32 > 8)
  {
    WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize(a1);
    v8 = *a1;
    *(a1 + 8) = 0;
    if (!v8)
    {
      goto LABEL_4;
    }
  }

  else
  {
    *(a1 + 8) = 0;
  }

  LODWORD(v8) = *(v8 - 12);
  if (v8 > 0x7FFFFFFE)
  {
    v9 = -2;
    goto LABEL_5;
  }

LABEL_4:
  v9 = 2 * v8;
LABEL_5:
  *(a1 + 12) = v9;
LABEL_6:
  WTF::WeakPtrFactory<WebCore::Widget,WTF::SingleThreadWeakPtrImpl>::initializeIfNeeded((a2 + 16), a2);
  v10 = *(a2 + 16);
  ++*v10;
  if (v10 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3F2F98);
  }

  if (!v10)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3F2FB8);
  }

  v11 = *a1;
  if (*a1 || (WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::expand(a1, 0), (v11 = *a1) != 0))
  {
    v12 = 0;
    v13 = *(v11 - 8);
  }

  else
  {
    v13 = 0;
    v12 = 1;
  }

  v14 = 0;
  v15 = (v10 + ~(v10 << 32)) ^ ((v10 + ~(v10 << 32)) >> 22);
  v16 = 9 * ((v15 + ~(v15 << 13)) ^ ((v15 + ~(v15 << 13)) >> 8));
  v17 = (v16 ^ (v16 >> 15)) + ~((v16 ^ (v16 >> 15)) << 27);
  v18 = (v17 >> 31) ^ v17;
  for (i = 1; ; ++i)
  {
    v20 = v18 & v13;
    v21 = (v11 + 8 * v20);
    result = *v21;
    if (*v21 != -1)
    {
      break;
    }

    v14 = (v11 + 8 * v20);
LABEL_17:
    v18 = i + v20;
  }

  if (!result)
  {
    if (v14)
    {
      *v14 = 0;
      --*(*a1 - 16);
      *v14 = v10;
    }

    else
    {
      *v21 = v10;
      v14 = (v11 + 8 * v20);
    }

    v24 = *a1;
    if (*a1)
    {
      v25 = *(v24 - 12) + 1;
    }

    else
    {
      v25 = 1;
    }

    *(v24 - 12) = v25;
    v26 = (*(v24 - 16) + v25);
    v27 = *(v24 - 4);
    if (v27 > 0x400)
    {
      if (v27 <= 2 * v26)
      {
LABEL_29:
        result = WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::expand(a1, v14);
        v14 = result;
        v24 = *a1;
        if (*a1)
        {
          v27 = *(v24 - 4);
        }

        else
        {
          v27 = 0;
        }
      }
    }

    else if (3 * v27 <= 4 * v26)
    {
      goto LABEL_29;
    }

    *a3 = v14;
    *(a3 + 8) = v24 + 8 * v27;
    *(a3 + 16) = 1;
    return result;
  }

  if (result != v10)
  {
    goto LABEL_17;
  }

  if (v12)
  {
    v23 = 0;
  }

  else
  {
    v23 = *(v11 - 4);
  }

  *a3 = v21;
  *(a3 + 8) = v11 + 8 * v23;
  *(a3 + 16) = 0;
  if (*v10 == 1)
  {

    return WTF::fastFree(v10, v14);
  }

  else
  {
    --*v10;
  }

  return result;
}

uint64_t WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::remove<WebKit::PluginView>(uint64_t a1, void *a2)
{
  v4 = *(a1 + 12);
  v5 = *(a1 + 8) + 1;
  *(a1 + 8) = v5;
  if (v5 <= v4)
  {
    goto LABEL_6;
  }

  v6 = *a1;
  if (!*a1)
  {
    goto LABEL_3;
  }

  v23 = *(v6 - 4);
  if (v23)
  {
    v24 = 0;
    v25 = (v6 + 8 * v23 - 8);
    do
    {
      if (*v25 + 1 >= 2 && !*(*v25 + 1))
      {
        WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::deleteBucket(v25, a2);
        ++v24;
      }

      --v25;
      --v23;
    }

    while (v23);
    v6 = *a1;
    if (v24)
    {
      v26 = *(v6 - 12) - v24;
      *(v6 - 16) += v24;
      *(v6 - 12) = v26;
    }

    else if (!v6)
    {
LABEL_3:
      LODWORD(v6) = 0;
      *(a1 + 8) = 0;
      goto LABEL_4;
    }
  }

  v27 = *(v6 - 4);
  if (6 * *(v6 - 12) < v27 && v27 > 8)
  {
    WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize(a1);
    v6 = *a1;
    *(a1 + 8) = 0;
    if (!v6)
    {
      goto LABEL_4;
    }
  }

  else
  {
    *(a1 + 8) = 0;
  }

  LODWORD(v6) = *(v6 - 12);
  if (v6 > 0x7FFFFFFE)
  {
    v7 = -2;
    goto LABEL_5;
  }

LABEL_4:
  v7 = 2 * v6;
LABEL_5:
  *(a1 + 12) = v7;
LABEL_6:
  v8 = a2[2];
  if (!v8)
  {
    return 0;
  }

  if (!*(v8 + 8))
  {
    return 0;
  }

  v9 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v10 = *(v9 - 8);
  v11 = (~(v8 << 32) + v8) ^ ((~(v8 << 32) + v8) >> 22);
  v12 = 9 * ((v11 + ~(v11 << 13)) ^ ((v11 + ~(v11 << 13)) >> 8));
  v13 = (v12 ^ (v12 >> 15)) + ~((v12 ^ (v12 >> 15)) << 27);
  v14 = v10 & ((v13 >> 31) ^ v13);
  for (i = 1; ; v14 = (v16 + i++) & v10)
  {
    v16 = v14;
    v17 = *(v9 + 8 * v14);
    if (v17 != -1)
    {
      if (!v17)
      {
        return 0;
      }

      if (v17 == v8)
      {
        break;
      }
    }
  }

  if (v16 == *(v9 - 4))
  {
    return 0;
  }

  WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::deleteBucket((v9 + 8 * v16), a2);
  v19 = *a1;
  v20 = vadd_s32(*(*a1 - 16), 0xFFFFFFFF00000001);
  *(v19 - 16) = v20;
  v21 = *(v19 - 4);
  if (6 * v20.i32[1] < v21 && v21 >= 9)
  {
    WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::rehash(a1, v21 >> 1, 0);
  }

  return 1;
}

IPC::Encoder *WebKit::WebPage::sendSetWindowFrame(WebKit::WebPage *this, const WebCore::FloatRect *a2)
{
  v4 = this + 32;
  v3 = *(this + 4);
  *(this + 214) = 0;
  v5 = (*(v3 + 56))(this + 32);
  v7 = IPC::Encoder::operator new(0x238, v6);
  *v7 = 2370;
  *(v7 + 2) = 0;
  *(v7 + 3) = 0;
  *(v7 + 1) = v5;
  *(v7 + 68) = 0;
  *(v7 + 70) = 0;
  *(v7 + 69) = 0;
  IPC::Encoder::encodeHeader(v7);
  v12 = v7;
  IPC::ArgumentCoder<WebCore::FloatRect,void>::encode(v7, a2);
  (*(*v4 + 32))(v4, &v12, 0);
  result = v12;
  v12 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v8);
    return bmalloc::api::tzoneFree(v10, v11);
  }

  return result;
}

uint64_t WebKit::WebPage::windowAndViewFramesChanged(uint64_t result, uint64_t a2)
{
  *(result + 216) = *a2;
  *(result + 232) = *(a2 + 16);
  *(result + 248) = *(a2 + 32);
  *(result + 264) = *(a2 + 48);
  v2 = *(result + 240) > 0.0 && *(result + 244) > 0.0;
  *(result + 214) = v2;
  return result;
}

uint64_t WebKit::WebPage::setMainFrameIsScrollable(WebKit::WebPage *this, uint64_t a2)
{
  v2 = a2;
  *(this + 204) = a2;
  v4 = *(this + 9);
  if (v4)
  {
    ++v4[4];
  }

  result = (*(*v4 + 192))(v4, a2);
  if (v4[4] == 1)
  {
    result = (*(*v4 + 24))(v4);
  }

  else
  {
    --v4[4];
  }

  v6 = *(*(*(this + 11) + 40) + 8);
  if (*(v6 + 136))
  {
    v6 = 0;
  }

  v7 = *(v6 + 216);
  if (v7)
  {
    ++*(v7 + 8);
    result = WebCore::LocalFrameView::setCanHaveScrollbars(v7);
    *(v7 + 315) = v2 ^ 1;
    if (*(v7 + 8) == 1)
    {
      v8 = *(*v7 + 8);

      return v8(v7);
    }

    else
    {
      --*(v7 + 8);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::dispatchMessage(WebKit::WebPage *this, IPC::Connection *a2, IPC::Decoder *a3)
{
  v6 = 0;
  v7 = *(a3 + 25);
  if (v7 >= 0x107F)
  {
    v7 = 4223;
  }

  v8 = LOBYTE((&IPC::Detail::messageDescriptions)[3 * v7 + 2]);
  if (v8 > 175)
  {
    if (v8 == 178)
    {
      if ((*(this + 202) & 1) == 0)
      {
        v19 = *(this + 54);
        if (v19)
        {
          goto LABEL_20;
        }

        v19 = WTF::fastMalloc(0x98);
        WebKit::WebInspectorUI::WebInspectorUI(v19, this);
        v20 = *(this + 54);
        *(this + 54) = v19;
        if (!v20)
        {
          goto LABEL_20;
        }

        if (v20[5] == 1)
        {
          (*(*v20 + 24))(v20);
        }

        else
        {
          --v20[5];
        }

        v19 = *(this + 54);
        if (v19)
        {
LABEL_20:
          ++*(v19 + 5);
          WebKit::WebInspectorUI::didReceiveMessage(v19, a2, a3);
          if (*(v19 + 5) == 1)
          {
            (*(*v19 + 24))(v19);
          }

          else
          {
            --*(v19 + 5);
          }
        }
      }

      return 1;
    }

    if (v8 == 176)
    {
      v6 = 1;
      v10 = WebKit::WebPage::inspector(this, 1);
      if (v10)
      {
        v11 = v10;
        v12 = (v10 + 5);
        atomic_fetch_add(v10 + 5, 1u);
        (*(*v10 + 32))(v10, a2, a3);
        if (atomic_fetch_add(v12, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v12);
          (*(*v11 + 24))(v11);
        }
      }
    }
  }

  else
  {
    if (v8 == 130)
    {
      if ((*(this + 202) & 1) == 0)
      {
        v13 = *(this + 55);
        if (v13 || (v14 = WTF::fastMalloc(0x78), v13 = WebKit::RemoteWebInspectorUI::RemoteWebInspectorUI(v14, this), v16 = *(this + 55), *(this + 55) = v13, !v16) || (WTF::RefCounted<WebKit::RemoteWebInspectorUI>::deref((v16 + 16), v15), (v13 = *(this + 55)) != 0))
        {
          v17 = (v13 + 16);
          ++*(v13 + 4);
          WebKit::RemoteWebInspectorUI::didReceiveMessage(v13, a2, a3);
          WTF::RefCounted<WebKit::RemoteWebInspectorUI>::deref(v17, v18);
        }
      }

      return 1;
    }

    if (v8 == 171)
    {
      v9 = WebKit::WebPage::fullScreenManager(this);
      ++*(v9 + 4);
      WebKit::WebFullScreenManager::didReceiveMessage(v9, a2, a3);
      if (*(v9 + 4) == 1)
      {
        (*(*v9 + 8))(v9);
      }

      else
      {
        --*(v9 + 4);
      }

      return 1;
    }
  }

  return v6;
}

void WebKit::WebPage::SandboxExtensionTracker::~SandboxExtensionTracker(WebKit::SandboxExtension **this)
{
  WebKit::WebPage::SandboxExtensionTracker::invalidate(this);
  v2 = this[2];
  this[2] = 0;
  if (v2)
  {
    WTF::RefCounted<WebKit::SandboxExtension>::deref(v2);
  }

  v3 = this[1];
  this[1] = 0;
  if (v3)
  {
    WTF::RefCounted<WebKit::SandboxExtension>::deref(v3);
  }

  v4 = *this;
  *this = 0;
  if (v4)
  {
    WTF::RefCounted<WebKit::SandboxExtension>::deref(v4);
  }
}

BOOL WebKit::WebPage::SandboxExtensionTracker::shouldReuseCommittedSandboxExtension(WebKit::WebPage::SandboxExtensionTracker *this, WebKit::WebFrame *a2)
{
  v3 = *(*(a2 + 5) + 8);
  if (*(v3 + 136))
  {
    v3 = 0;
  }

  v4 = *(v3 + 208);
  WebCore::FrameLoader::loadType(v4);
  if ((WebCore::isReload() & 1) == 0)
  {
    if (*this)
    {
      return 0;
    }

    v6 = *(v4 + 12);
    if (v6)
    {
      v7 = v6[6];
      v6[6] = v7 + 1;
      v8 = *(v4 + 13);
      if (!v8)
      {
        v5 = 0;
        if (v7)
        {
          goto LABEL_16;
        }

        goto LABEL_21;
      }

      ++v8[6];
      WebCore::ResourceRequestBase::url((v6 + 220));
      v5 = 0;
      if (WTF::URL::protocolIs())
      {
        WebCore::ResourceRequestBase::url((v8 + 220));
        if (WTF::URL::protocolIs())
        {
          v5 = 1;
        }
      }
    }

    else
    {
      v8 = *(v4 + 13);
      if (!v8)
      {
        return 0;
      }

      v5 = 0;
      ++v8[6];
    }

    if (v8[6] == 1)
    {
      (*(*v8 + 24))(v8);
      if (!v6)
      {
        return v5;
      }
    }

    else
    {
      --v8[6];
      if (!v6)
      {
        return v5;
      }
    }

    v7 = v6[6] - 1;
    if (v6[6] != 1)
    {
LABEL_16:
      v6[6] = v7;
      return v5;
    }

LABEL_21:
    (*(*v6 + 24))(v6);
    return v5;
  }

  return 1;
}

WebKit::SandboxExtension *WebKit::WebPage::SandboxExtensionTracker::didStartProvisionalLoad(WebKit::SandboxExtension **this, WebKit::WebFrame *a2)
{
  result = WebKit::WebFrame::isMainFrame(a2);
  if (result)
  {
    if (this[2] && WebKit::WebPage::SandboxExtensionTracker::shouldReuseCommittedSandboxExtension(this, a2))
    {
      WTF::RefPtr<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>::operator=(this, this + 2);
    }

    v5 = *this;
    result = this[1];
    *this = 0;
    this[1] = v5;
    if (result)
    {
      result = WTF::RefCounted<WebKit::SandboxExtension>::deref(result);
      v5 = this[1];
    }

    if (v5)
    {
      ++*v5;
      v6 = *(v5 + 2);
      *(v5 + 2) = v6 + 1;
      if (!v6)
      {
        WebKit::SandboxExtensionImpl::consume(*(v5 + 1));
      }

      return WTF::RefCounted<WebKit::SandboxExtension>::deref(v5);
    }
  }

  return result;
}

WebKit::SandboxExtension **WTF::RefPtr<WebKit::SandboxExtension,WTF::RawPtrTraits<WebKit::SandboxExtension>,WTF::DefaultRefDerefTraits<WebKit::SandboxExtension>>::operator=(WebKit::SandboxExtension **a1, WebKit::SandboxExtension **a2)
{
  v3 = *a2;
  if (*a2)
  {
    ++*v3;
  }

  v4 = *a1;
  *a1 = v3;
  if (v4)
  {
    WTF::RefCounted<WebKit::SandboxExtension>::deref(v4);
  }

  return a1;
}

WebKit::SandboxExtension *WebKit::WebPage::SandboxExtensionTracker::didCommitProvisionalLoad(WebKit::WebPage::SandboxExtensionTracker *this, WebKit::WebFrame *a2)
{
  result = WebKit::WebFrame::isMainFrame(a2);
  if (result)
  {
    v4 = *(this + 2);
    if (v4)
    {
      ++*v4;
      WebKit::SandboxExtension::revoke(v4);
      WTF::RefCounted<WebKit::SandboxExtension>::deref(v4);
      v6 = *(this + 1);
      result = *(this + 2);
      *(this + 1) = 0;
      *(this + 2) = v6;
      if (result)
      {

        return WTF::RefCounted<WebKit::SandboxExtension>::deref(result);
      }
    }

    else
    {
      v5 = *(this + 1);
      *(this + 1) = 0;
      *(this + 2) = v5;
    }
  }

  return result;
}

WebKit::SandboxExtension *WebKit::WebPage::SandboxExtensionTracker::didFailProvisionalLoad(WebKit::WebPage::SandboxExtensionTracker *this, WebKit::WebFrame *a2)
{
  result = WebKit::WebFrame::isMainFrame(a2);
  if (result)
  {
    v4 = *(this + 1);
    *(this + 1) = 0;
    if (v4)
    {
      v5 = *(v4 + 2) - 1;
      *(v4 + 2) = v5;
      if (!v5)
      {
        *(*(v4 + 1) + 8) = 0;
        sandbox_extension_release();
      }

      return WTF::RefCounted<WebKit::SandboxExtension>::deref(v4);
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::setCustomTextEncodingName(WebKit::WebPage *this, const WTF::String *a2)
{
  result = WebKit::WebPage::localMainFrame(this, &v4);
  if (v4)
  {
    WebCore::FrameLoader::reloadWithOverrideEncoding(v4[26], a2);
    result = v4;
    v4 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::didRemoveBackForwardItem(WebCore::BackForwardCache *a1, uint64_t a2, uint64_t a3)
{
  WebCore::BackForwardCache::singleton(a1);
  WebCore::BackForwardCache::remove();

  return MEMORY[0x1EEE5A878](a2, a3);
}

uint64_t WebKit::WebPage::pdfDocumentForPrintingFrame@<X0>(WebCore::LocalFrame *a1@<X1>, void *a2@<X8>)
{
  result = WebKit::WebPage::pluginViewForFrame(a1, a1);
  if (result)
  {
    v5 = *(result + 8);
    *(result + 8) = v5 + 1;
    v7 = result;
    result = *(*(result + 72) + 296);
    *a2 = result;
    if (result)
    {
      result = CFRetain(result);
      v5 = v7[2] - 1;
    }

    if (v5)
    {
      v7[2] = v5;
    }

    else
    {
      v6 = *(*v7 + 8);

      return v6();
    }
  }

  else
  {
    *a2 = 0;
  }

  return result;
}

uint64_t WebKit::WebPage::swipeAnimationDidStart(WebKit::WebPage *this)
{
  result = WebKit::WebPage::freezeLayerTree(this, 64);
  *(*(this + 7) + 1021) = 1;
  return result;
}

uint64_t WebKit::WebPage::swipeAnimationDidEnd(WebKit::WebPage *this)
{
  result = WebKit::WebPage::unfreezeLayerTree(this, 64);
  *(*(this + 7) + 1021) = 0;
  return result;
}

void WebKit::WebPage::beginPrinting(uint64_t a1, uint64_t a2, float *a3)
{
  v6 = qword_1ED640FB8;
  if (os_log_type_enabled(qword_1ED640FB8, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(&dword_19D52D000, v6, OS_LOG_TYPE_DEFAULT, "Begin printing.", buf, 2u);
  }

  CFRetain(*(a1 + 8));
  *buf = a1;
  v28 = *(a1 + 640);
  *(a1 + 640) = 1;
  {
    v8 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v24 = WebKit::WebProcess::operator new(0x370, v7);
    v8 = WebKit::WebProcess::WebProcess(v24);
    WebKit::WebProcess::singleton(void)::process = v8;
  }

  v9 = WebKit::WebProcess::webFrame(v8, a2, 1);
  if (v9)
  {
    v10 = v9;
    CFRetain(*(v9 + 8));
    v11 = *(v10 + 40);
    if (v11)
    {
      v12 = *(v11 + 8);
      if (v12)
      {
        if ((*(v12 + 136) & 1) == 0)
        {
          ++*(v12 + 16);
          WebKit::WebPage::pdfDocumentForPrintingFrame(v12, &cf);
          if (cf.m_location)
          {
            CFRelease(*&cf.m_location);
          }

          else
          {
            if (!*(a1 + 632))
            {
              if (*MEMORY[0x1E69E24F0])
              {
                NonCompact = bmalloc::api::tzoneAllocateNonCompact(*MEMORY[0x1E69E24F0], v13);
              }

              else
              {
                NonCompact = WebCore::PrintContext::operatorNewSlow(0x38);
              }

              v15 = WebCore::PrintContext::PrintContext(NonCompact, v12);
              v16 = *(a1 + 632);
              *(a1 + 632) = v15;
              if (v16)
              {
                (*(*v16 + 24))(v16);
              }

              v17 = *(a1 + 56);
              if (v17)
              {
                v18 = v17 + 2;
                ++v17[2];
                WebCore::Page::dispatchBeforePrintEvent(v17);
                WTF::RefCounted<WebCore::Page>::deref(v18);
              }

              else
              {
                WebCore::Page::dispatchBeforePrintEvent(0);
              }
            }

            WebKit::WebPage::freezeLayerTree(a1, 16);
            WebCore::PrintContext::computedPageSize();
            v20 = v19;
            v22 = v21;
            WebCore::PrintContext::begin(*(a1 + 632), v19, v21);
            v23 = *(a1 + 632);
            if (v23)
            {
              v26 = 0.0;
              cf.m_location = 0;
              cf.m_size.m_width = v20;
              cf.m_size.m_height = v22;
              WebCore::PrintContext::computePageRects(v23, &cf, 0.0, 0.0, *a3, &v26);
            }

            else
            {
              WebKit::WebPage::unfreezeLayerTree(a1, 16);
            }
          }

          if (*(v12 + 16) == 1)
          {
            (*(*v12 + 8))(v12);
          }

          else
          {
            --*(v12 + 16);
          }
        }
      }
    }

    CFRelease(*(v10 + 8));
  }

  WebKit::WebPage::PrintContextAccessScope::~PrintContextAccessScope(buf);
}

uint64_t WebKit::WebPage::endPrinting(WebKit::WebPage *a1, uint64_t *a2)
{
  v4 = qword_1ED640FB8;
  if (os_log_type_enabled(qword_1ED640FB8, OS_LOG_TYPE_DEFAULT))
  {
    *v7 = 0;
    _os_log_impl(&dword_19D52D000, v4, OS_LOG_TYPE_DEFAULT, "End printing.", v7, 2u);
  }

  if (*(a1 + 640) == 1)
  {
    *(a1 + 641) = 1;
  }

  else
  {
    WebKit::WebPage::endPrintingImmediately(a1);
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5);
  return (*(*v5 + 8))(v5);
}

uint64_t WebKit::WebPage::endPrintingImmediately(WebKit::WebPage *this)
{
  if (*(this + 640) == 1)
  {
    result = 6568;
    __break(0xC471u);
  }

  else
  {
    *(this + 641) = 0;
    WebKit::WebPage::unfreezeLayerTree(this, 16);
    result = *(this + 79);
    if (result)
    {
      *(this + 79) = 0;
      (*(*result + 24))(result);
      v3 = *(this + 7);
      if (v3)
      {
        v4 = v3 + 2;
        ++v3[2];
        WebCore::Page::dispatchAfterPrintEvent(v3);

        return WTF::RefCounted<WebCore::Page>::deref(v4);
      }

      else
      {

        return WebCore::Page::dispatchAfterPrintEvent(0);
      }
    }
  }

  return result;
}

void WebKit::WebPage::computePagesForPrinting(uint64_t a1, void *a2, uint64_t a3, uint64_t *a4)
{
  CFRetain(*(a1 + 8));
  v15 = 0;
  v16 = a1;
  v17 = *(a1 + 640);
  *(a1 + 640) = 1;
  v13 = 0x3FF0000000000000;
  v14 = 0;
  v12 = *(a3 + 12);
  WebKit::WebPage::computePagesForPrintingImpl(a1, a2, a3, &v14, &v13, &v12);
  v8 = *&v13;
  v9 = *a4;
  *a4 = 0;
  (*(*v9 + 16))(v9, &v14, &v12, v8);
  (*(*v9 + 8))(v9);
  v11 = v14;
  if (v14)
  {
    v14 = 0;
    LODWORD(v15) = 0;
    WTF::fastFree(v11, v10);
  }

  WebKit::WebPage::PrintContextAccessScope::~PrintContextAccessScope(&v16);
}

void WebKit::WebPage::computePagesForPrintingImpl(uint64_t a1, void *a2, float *a3, uint64_t a4, double *a5, _DWORD *a6)
{
  WebKit::WebPage::beginPrinting(a1, a2, a3);
  if (*(a1 + 632))
  {
    CFRetain(*(a1 + 8));
    *&v28 = a1;
    BYTE8(v28) = *(a1 + 640);
    *(a1 + 640) = 1;
    v12 = *(a1 + 632);
    if (v12 + 24 != a4)
    {
      v13 = *(a4 + 12);
      v14 = *(v12 + 36);
      if (v13 <= v14)
      {
        if (v14 > *(a4 + 8))
        {
          WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(a4, 0);
          WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a4, *(v12 + 36));
          v13 = *(a4 + 12);
        }
      }

      else
      {
        *(a4 + 12) = v14;
        v13 = v14;
      }

      if (v13)
      {
        memmove(*a4, *(v12 + 24), 16 * v13);
        v13 = *(a4 + 12);
      }

      v15 = *(v12 + 36);
      if (v13 != v15)
      {
        v16 = (*a4 + 16 * v13);
        v17 = (*(v12 + 24) + 16 * v13);
        v18 = 16 * v15 - 16 * v13;
        do
        {
          v19 = *v17++;
          *v16++ = v19;
          v18 -= 16;
        }

        while (v18);
        v13 = *(v12 + 36);
      }

      *(a4 + 12) = v13;
    }

    WebCore::PrintContext::computedPageMargin();
    *a6 = v20;
    a6[1] = v21;
    a6[2] = v22;
    a6[3] = v23;
    WebCore::PrintContext::computedPageSize();
    v27[0] = v24;
    v27[1] = v25;
    WebCore::PrintContext::computeAutomaticScaleFactor(*(a1 + 632), v27);
    *a5 = (v26 * *a3);
    WebKit::WebPage::PrintContextAccessScope::~PrintContextAccessScope(&v28);
  }

  else
  {
    WebKit::WebPage::computePagesForPrintingPDFDocument(a1, a2, a3, a4);
  }

  if (!*(a4 + 12))
  {
    v28 = xmmword_19E704930;
    if (*(a4 + 8))
    {
      **a4 = v28;
    }

    else
    {
      *(*a4 + 16 * *(a4 + 12)) = *WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a4, 1uLL, &v28);
    }

    ++*(a4 + 12);
  }
}

unsigned int *WebKit::WebPage::drawMainFrameToPDF(WebKit::WebPage *this, WebCore::LocalFrame *a2, WebCore::GraphicsContext *a3, int32x4_t *a4, int a5)
{
  v10 = *(a2 + 27);
  ++*(v10 + 8);
  v22 = *(v10 + 1184);
  v23 = *(v10 + 1200);
  v11.i64[0] = 0xFE000000FE000000;
  v11.i64[1] = 0xFE000000FE000000;
  v12 = vcgtq_s32(*a4, v11);
  v13.i64[0] = 0xFE000000FE000000;
  v13.i64[1] = 0xFE000000FE000000;
  v14.i64[0] = 0x8000000080000000;
  v14.i64[1] = 0x8000000080000000;
  *&v20[0].m_colorAndFlags = vorrq_s8((*&v12 & __PAIR128__(0x7FFFFFFF7FFFFFFFLL, 0x7FFFFFFF7FFFFFFFLL)), vbicq_s8(vbslq_s8(vcgtq_s32(v13, *a4), v14, vshlq_n_s32(*a4, 6uLL)), v12));
  LOBYTE(v21) = 1;
  WebCore::LocalFrameView::setLayoutViewportOverrideRect();
  WebCore::LocalFrameView::paintBehavior(v10);
  WebCore::LocalFrameView::setPaintBehavior();
  WebCore::LocalFrameView::baseBackgroundColor(&v19, v10);
  if (a5)
  {
    WebCore::LocalFrameView::setTransparent(v10);
    v20[0].m_colorAndFlags = 0x1104000000000000;
    WebCore::LocalFrameView::setBaseBackgroundColor(v10, v20);
    if ((v20[0].m_colorAndFlags & 0x8000000000000) != 0)
    {
      v18 = (v20[0].m_colorAndFlags & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v20[0].m_colorAndFlags & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v18);
        WTF::fastFree(v18, v15);
      }
    }

    WebKit::WebPage::pdfSnapshotAtSize(this, a2, a3, a4->i8, 0);
    WebCore::LocalFrameView::setTransparent(v10);
    WebCore::LocalFrameView::setBaseBackgroundColor(v10, &v19);
  }

  else
  {
    WebKit::WebPage::pdfSnapshotAtSize(this, a2, a3, a4->i8, 0);
  }

  *&v20[0].m_colorAndFlags = v22;
  v21 = v23;
  WebCore::LocalFrameView::setLayoutViewportOverrideRect();
  result = WebCore::LocalFrameView::setPaintBehavior();
  if ((v19.m_colorAndFlags & 0x8000000000000) != 0)
  {
    result = (v19.m_colorAndFlags & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v19.m_colorAndFlags & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      result = WTF::fastFree(result, v17);
    }
  }

  if (*(v10 + 8) == 1)
  {
    return (*(*v10 + 8))(v10);
  }

  --*(v10 + 8);
  return result;
}

_DWORD *WebKit::WebPage::drawToPDF(WebKit::WebPage *a1, uint64_t a2, int8x16_t *a3, int a4, uint64_t *a5)
{
  result = WebKit::WebPage::localMainFrame(a1, &v23);
  if (v23)
  {
    v10 = *(v23 + 27);
    ++*(v10 + 2);
    v11 = WebCore::ScrollView::contentsSize(v10);
    v12.i64[0] = 0;
    *&v12.i32[2] = v11;
    *&v12.i32[3] = SHIDWORD(v11);
    v21 = vbslq_s8(vcltzq_s32(vshlq_n_s32(vmovl_u16(vdup_n_s16(a3[1].u8[0])), 0x1FuLL)), *a3, v12);
    v13 = WebCore::IntRect::IntRect(&v22, &v21);
    *&v20 = v22.i32[2];
    *(&v20 + 1) = v22.i32[3];
    WebCore::DestinationColorSpace::SRGB(v13);
    WebCore::ImageBuffer::create();
    if (v21.m_location)
    {
      v14 = v23;
      v15 = (*(**&v21.m_location + 16))(*&v21.m_location);
      WebKit::WebPage::drawMainFrameToPDF(a1, v14, v15, &v22, a4);
      (*(**&v21.m_location + 104))(&v20);
      v16 = *a5;
      *a5 = 0;
      (*(*v16 + 16))(v16, &v20);
      (*(*v16 + 8))(v16);
      v18 = v20;
      v20 = 0;
      if (v18 && atomic_fetch_add(v18 + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v18 + 2);
        (*(*v18 + 8))(v18);
      }

      m_location = v21.m_location;
      v21.m_location = 0;
      if (m_location)
      {
        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebCore::ImageBuffer,(WTF::DestructionThread)0>::deref((*&m_location + 8), v17);
      }
    }

    if (*(v10 + 2) == 1)
    {
      (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 2);
    }

    result = v23;
    v23 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::drawRemoteToPDF(WebKit::WebPage *a1, uint64_t a2, int8x16_t *a3, int a4, uint64_t a5)
{
  result = WebKit::WebPage::localMainFrame(a1, &v21);
  if (v21)
  {
    v10 = *(v21 + 27);
    ++*(v10 + 2);
    v11 = WebCore::ScrollView::contentsSize(v10);
    v12.i64[0] = 0;
    *&v12.i32[2] = v11;
    *&v12.i32[3] = SHIDWORD(v11);
    v22 = vbslq_s8(vcltzq_s32(vshlq_n_s32(vmovl_u16(vdup_n_s16(a3[1].u8[0])), 0x1FuLL)), *a3, v12);
    v13 = WebCore::IntRect::IntRect(&v20, &v22);
    v22.m_location.m_x = v20.i32[2];
    v22.m_location.m_y = v20.i32[3];
    WebCore::DestinationColorSpace::SRGB(v13);
    WebCore::ImageBuffer::create();
    if (v19)
    {
      v14 = v21;
      v15 = (*(*v19 + 16))();
      WebKit::WebPage::drawMainFrameToPDF(a1, v14, v15, &v20, a4);
      v16 = WebKit::WebPage::ensureRemoteRenderingBackendProxy(a1);
      ++*(v16 + 20);
      v17 = *(v19 + 120);
      v26 = *(a1 + 6);
      v24 = a5;
      v25 = v17;
      v22.m_location = &v26;
      v22.m_size = &v25;
      v23 = &v24;
      WebKit::RemoteRenderingBackendProxy::send<Messages::RemoteRenderingBackend::DidDrawRemoteToPDF,WebKit::RenderingBackendIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>(v16, &v22, *(v16 + 80));
      if (*(v16 + 20) == 1)
      {
        (*(*v16 + 24))(v16);
      }

      else
      {
        --*(v16 + 20);
      }

      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebCore::ImageBuffer,(WTF::DestructionThread)0>::deref((v19 + 8), v18);
    }

    if (*(v10 + 2) == 1)
    {
      (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 2);
    }

    result = v21;
    v21 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

void WebKit::WebPage::drawRectToImage(uint64_t a1, uint64_t a2, const PrintInfo *a3, int *a4, int32x2_t *a5, uint64_t *a6)
{
  CFRetain(*(a1 + 8));
  v45 = a1;
  v46 = *(a1 + 640);
  *(a1 + 640) = 1;
  {
    v13 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v36 = WebKit::WebProcess::operator new(0x370, v12);
    v13 = WebKit::WebProcess::WebProcess(v36);
    WebKit::WebProcess::singleton(void)::process = v13;
  }

  v14 = WebKit::WebProcess::webFrame(v13, a2, 1);
  v15 = v14;
  if (!v14 || (v16 = CFRetain(*(v14 + 8)), (v17 = *(v15 + 40)) == 0) || (v18 = *(v17 + 8)) == 0 || (*(v18 + 136) & 1) != 0)
  {
    v20 = 0;
    v18 = 0;
    LOBYTE(v41[0]) = 0;
    v44 = 0;
    v32 = 1;
LABEL_24:
    v34 = *a6;
    *a6 = 0;
    (*(*v34 + 16))(v34, v41);
    (*(*v34 + 8))(v34);
    if (v44 == 1)
    {
      if (v43 == 1)
      {
        v35 = cf;
        cf = 0;
        if (v35)
        {
          CFRelease(v35);
        }
      }

      WTF::MachSendRight::~MachSendRight(v41);
    }

    goto LABEL_29;
  }

  ++*(v18 + 16);
  v19 = WebCore::DestinationColorSpace::SRGB(v16);
  WebKit::WebImage::create(v19, a5, 2u, *(*(*(a1 + 56) + 56) + 16), v41);
  v20 = v41[0];
  if (v41[0] && WebKit::WebImage::context(v41[0]))
  {
    v21 = WebKit::WebImage::context(v20);
    *v41 = a5->i32[0] / a4[2];
    HIDWORD(v41[0]) = v41[0];
    (*(*v21 + 656))();
    WebKit::WebPage::pdfDocumentForPrintingFrame(v18, v41);
    v22 = v41[0];
    if (v41[0])
    {
      __asm { FMOV            V0.2S, #1.0 }

      v37[0] = -_D0;
      (*(*v21 + 656))(v21, v37);
      v28.n128_f32[0] = -a4[3];
      (*(*v21 + 672))(v21, 0.0, v28);
      v29 = (*(*v21 + 24))(v21);
      WebKit::WebPage::drawPDFDocument(a1, v29, v22, a3, a4);
      CFRelease(v22);
    }

    else
    {
      WebCore::PrintContext::spoolRect(*(a1 + 632), v21, a4);
    }

    LOBYTE(v41[0]) = 0;
    v44 = 0;
    WebKit::WebImage::createHandle(v20, 0, v37);
    std::__optional_storage_base<WebCore::ShareableBitmapHandle,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::ShareableBitmapHandle,false>>(v41, v37);
    if (v40 == 1)
    {
      if (v39 == 1)
      {
        v33 = v38;
        v38 = 0;
        if (v33)
        {
          CFRelease(v33);
        }
      }

      WTF::MachSendRight::~MachSendRight(v37);
    }

    v32 = 0;
    goto LABEL_24;
  }

  LOBYTE(v41[0]) = 0;
  v44 = 0;
  v30 = *a6;
  *a6 = 0;
  (*(*v30 + 16))(v30, v41);
  (*(*v30 + 8))(v30);
  if (v44 == 1)
  {
    if (v43 == 1)
    {
      v31 = cf;
      cf = 0;
      if (v31)
      {
        CFRelease(v31);
      }
    }

    WTF::MachSendRight::~MachSendRight(v41);
  }

  v32 = 0;
LABEL_29:
  if (v20)
  {
    CFRelease(v20[1]);
  }

  if ((v32 & 1) == 0)
  {
    if (*(v18 + 16) == 1)
    {
      (*(*v18 + 8))(v18);
      if (!v15)
      {
        goto LABEL_36;
      }

      goto LABEL_35;
    }

    --*(v18 + 16);
  }

  if (v15)
  {
LABEL_35:
    CFRelease(*(v15 + 8));
  }

LABEL_36:
  WebKit::WebPage::PrintContextAccessScope::~PrintContextAccessScope(&v45);
}

void WebKit::WebPage::drawPagesToPDF(uint64_t a1, void *a2, const PrintInfo *a3, unsigned int a4, int a5, uint64_t *a6)
{
  CFRetain(*(a1 + 8));
  cf = 0;
  v21 = a1;
  v22 = *(a1 + 640);
  *(a1 + 640) = 1;
  WebKit::WebPage::drawPagesToPDFImpl(a1, a2, a3, a4, a5, &cf);
  v17 = cf;
  WebCore::SharedBuffer::create<__CFData *>(&v17, v12, &v18);
  v13 = v18;
  v18 = 0;
  v19 = v13;
  v14 = *a6;
  *a6 = 0;
  (*(*v14 + 16))(v14, &v19);
  (*(*v14 + 8))(v14);
  v15 = v19;
  v19 = 0;
  if (v15 && atomic_fetch_add(v15 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v15 + 2);
    (*(*v15 + 8))(v15);
  }

  v16 = v18;
  v18 = 0;
  if (v16 && atomic_fetch_add(v16 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v16 + 2);
    (*(*v16 + 8))(v16);
  }

  if (cf)
  {
    CFRelease(cf);
  }

  WebKit::WebPage::PrintContextAccessScope::~PrintContextAccessScope(&v21);
}

void WebKit::WebPage::drawPagesToPDFImpl(WebKit::WebPage *a1, void *a2, const PrintInfo *a3, unsigned int a4, int a5, CFMutableDataRef *a6)
{
  v45 = *MEMORY[0x1E69E9840];
  {
    v12 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v40 = WebKit::WebProcess::operator new(0x370, a2);
    v12 = WebKit::WebProcess::WebProcess(v40);
    WebKit::WebProcess::singleton(void)::process = v12;
  }

  v13 = 1;
  v14 = WebKit::WebProcess::webFrame(v12, a2, 1);
  v15 = v14;
  if (v14)
  {
    CFRetain(*(v14 + 8));
    v16 = *(v15 + 40);
    if (v16)
    {
      v17 = *(v16 + 8);
      if (!v17)
      {
LABEL_40:
        v13 = 1;
        goto LABEL_8;
      }

      if ((*(v17 + 136) & 1) == 0)
      {
        v13 = 0;
        ++*(v17 + 16);
        goto LABEL_8;
      }
    }

    v17 = 0;
    goto LABEL_40;
  }

  v17 = 0;
LABEL_8:
  Mutable = CFDataCreateMutable(0, 0);
  v19 = *a6;
  *a6 = Mutable;
  if (v19)
  {
    CFRelease(v19);
  }

  if (!v17)
  {
    goto LABEL_21;
  }

  v20 = CGDataConsumerCreateWithCFData(*a6);
  memset(&mediaBox, 0, 24);
  v21 = *(a1 + 79);
  if (v21 && *(v21 + 36))
  {
    WebCore::IntRect::operator CGRect();
    mediaBox.origin.x = v23;
    mediaBox.origin.y = v24;
    mediaBox.size.width = v25;
  }

  else
  {
    availablePaperWidth = a3->availablePaperWidth;
    availablePaperHeight = a3->availablePaperHeight;
    mediaBox.origin.x = 0.0;
    mediaBox.origin.y = 0.0;
    mediaBox.size.width = availablePaperWidth;
  }

  mediaBox.size.height = availablePaperHeight;
  v27 = CGPDFContextCreate(v20, &mediaBox, 0);
  WebKit::WebPage::pdfDocumentForPrintingFrame(v17, &v42);
  v28 = v42;
  if (v42)
  {
    WebKit::WebPage::drawPagesToPDFFromPDFDocument(a1, v27, v42, a3, a4, a5);
    CFRelease(v28);
  }

  else
  {
    if (!*(a1 + 79))
    {
      goto LABEL_18;
    }

    if (a5 + a4 > a4)
    {
      v29 = a4;
      v30 = 16 * a4;
      __asm { FMOV            V0.2S, #1.0 }

      v36 = -_D0;
      do
      {
        if (v29 >= *(*(a1 + 79) + 36))
        {
          break;
        }

        v37 = CFDictionaryCreateMutable(0, 0, MEMORY[0x1E695E9D8], MEMORY[0x1E695E9E8]);
        CGPDFContextBeginPage(v27, v37);
        WebCore::GraphicsContextCG::GraphicsContextCG();
        v41 = v36;
        WebCore::GraphicsContextCG::scale(v44, &v41);
        v38 = *(a1 + 79);
        if (v29 < *(v38 + 36))
        {
          WebCore::GraphicsContextCG::translate(v44, 0.0, -*(*(v38 + 24) + v30 + 12));
          v39 = *(a1 + 79);
          if (v29 < *(v39 + 36))
          {
            continue;
          }
        }

        __break(0xC471u);
        JUMPOUT(0x19E3F54B8);
        WebCore::PrintContext::spoolPage(v39, v44, *(*(v39 + 24) + v30 + 8));
        CGPDFContextEndPage(v27);
        WebCore::GraphicsContextCG::~GraphicsContextCG(v44);
        if (v37)
        {
          CFRelease(v37);
        }

        ++v29;
        v30 += 16;
        --a5;
      }

      while (a5);
    }
  }

  CGPDFContextClose(v27);
LABEL_18:
  if (!v27)
  {
    if (!v20)
    {
      goto LABEL_21;
    }

    goto LABEL_20;
  }

  CFRelease(v27);
  if (v20)
  {
LABEL_20:
    CFRelease(v20);
  }

LABEL_21:
  if (v13)
  {
    goto LABEL_24;
  }

  if (*(v17 + 16) != 1)
  {
    --*(v17 + 16);
LABEL_24:
    if (!v15)
    {
      return;
    }

    goto LABEL_25;
  }

  (*(*v17 + 8))(v17);
  if (v15)
  {
LABEL_25:
    CFRelease(*(v15 + 8));
  }
}

uint64_t *WebKit::WebPage::addResourceRequest(uint64_t a1, uint64_t a2, char a3, WebCore::ResourceRequestBase *this, uint64_t a5, uint64_t a6)
{
  v37 = a2;
  if (!a6 || (a3 & 1) != 0)
  {
    goto LABEL_24;
  }

  v8 = *(a6 + 32);
  if (v8 == -1 || !v8)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3F5794);
  }

  v9 = (a1 + 848);
  v10 = *(a1 + 848);
  if (!v10)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 848), 0);
    v10 = *v9;
  }

  v11 = *(v10 - 8);
  v12 = (v8 + ~(v8 << 32)) ^ ((v8 + ~(v8 << 32)) >> 22);
  v13 = 9 * ((v12 + ~(v12 << 13)) ^ ((v12 + ~(v12 << 13)) >> 8));
  v14 = (v13 ^ (v13 >> 15)) + ~((v13 ^ (v13 >> 15)) << 27);
  v15 = v11 & ((v14 >> 31) ^ v14);
  v16 = (v10 + 16 * v15);
  v17 = *v16;
  if (*v16)
  {
    v18 = 0;
    v19 = 1;
    while (v17 != v8)
    {
      if (v17 == -1)
      {
        v18 = v16;
      }

      v15 = (v15 + v19) & v11;
      v16 = (v10 + 16 * v15);
      v17 = *v16;
      ++v19;
      if (!*v16)
      {
        if (v18)
        {
          *v18 = 0;
          v18[1] = 0;
          --*(*v9 - 16);
          v16 = v18;
        }

        goto LABEL_15;
      }
    }

    goto LABEL_19;
  }

LABEL_15:
  *v16 = v8;
  *(v16 + 2) = 0;
  v20 = *v9;
  if (*v9)
  {
    v21 = *(v20 - 12) + 1;
  }

  else
  {
    v21 = 1;
  }

  *(v20 - 12) = v21;
  v22 = (*(v20 - 16) + v21);
  v23 = *(v20 - 4);
  if (v23 > 0x400)
  {
    if (v23 > 2 * v22)
    {
      goto LABEL_19;
    }

LABEL_32:
    v16 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 848), v16);
    goto LABEL_19;
  }

  if (3 * v23 <= 4 * v22)
  {
    goto LABEL_32;
  }

LABEL_19:
  v24 = *(v16 + 2);
  if (!v24)
  {
    v25 = (*(*(a1 + 32) + 56))(a1 + 32);
    v27 = IPC::Encoder::operator new(0x238, v26);
    *v27 = 2396;
    *(v27 + 2) = 0;
    *(v27 + 3) = 0;
    *(v27 + 1) = v25;
    *(v27 + 68) = 0;
    *(v27 + 70) = 0;
    *(v27 + 69) = 0;
    IPC::Encoder::encodeHeader(v27);
    v36[0] = v27;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v27, v8);
    (*(*(a1 + 32) + 32))(a1 + 32, v36, 0);
    v29 = v36[0];
    v36[0] = 0;
    if (v29)
    {
      IPC::Encoder::~Encoder(v29, v28);
      bmalloc::api::tzoneFree(v34, v35);
    }

    v24 = *(v16 + 2);
  }

  *(v16 + 2) = v24 + 1;
LABEL_24:
  result = WebCore::ResourceRequestBase::url(this);
  if ((result[1] & 2) != 0)
  {
    if (*(a1 + 1744) != 1 || (result = WebCore::UserGestureIndicator::processingUserGesture(0, v31), result))
    {
      v32 = *(a1 + 856);
      if (v32)
      {
        v33 = *(v32 - 12);
        result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((a1 + 856), &v37, v36);
        if (v33)
        {
          return result;
        }
      }

      else
      {
        WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((a1 + 856), &v37, v36);
      }

      LOBYTE(v36[0]) = 1;
      return IPC::MessageSender::send<Messages::WebPageProxy::SetNetworkRequestsInProgress>(a1 + 32, v36);
    }
  }

  return result;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::SetNetworkRequestsInProgress>(uint64_t a1, char *a2)
{
  v4 = (*(*a1 + 56))(a1);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2363;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::Encoder::operator<<<BOOL &>(v6, a2);
  (*(*a1 + 32))(a1, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::removeResourceRequest(uint64_t *a1, uint64_t a2, char a3, uint64_t a4)
{
  v28 = a2;
  if (a4 && (a3 & 1) == 0)
  {
    v5 = *(a4 + 32);
    if (v5 == -1 || !v5)
    {
      __break(0xC471u);
      JUMPOUT(0x19E3F5AD0);
    }

    v6 = a1[106];
    v7 = *(v6 - 8);
    v8 = (v5 + ~(v5 << 32)) ^ ((v5 + ~(v5 << 32)) >> 22);
    v9 = 9 * ((v8 + ~(v8 << 13)) ^ ((v8 + ~(v8 << 13)) >> 8));
    v10 = (v9 ^ (v9 >> 15)) + ~((v9 ^ (v9 >> 15)) << 27);
    v11 = v7 & ((v10 >> 31) ^ v10);
    v12 = *(v6 + 16 * v11);
    if (v12 != v5)
    {
      v13 = 1;
      while (v12)
      {
        v11 = (v11 + v13) & v7;
        v12 = *(v6 + 16 * v11);
        ++v13;
        if (v12 == v5)
        {
          goto LABEL_9;
        }
      }

      v11 = *(v6 - 4);
    }

LABEL_9:
    v14 = v6 + 16 * v11;
    v15 = *(v14 + 8) - 1;
    *(v14 + 8) = v15;
    if (!v15)
    {
      WTF::WallTime::now(a1);
      v17 = v16;
      v18 = (*(a1[4] + 56))(a1 + 4);
      v20 = IPC::Encoder::operator new(0x238, v19);
      *v20 = 2251;
      *(v20 + 2) = 0;
      *(v20 + 3) = 0;
      *(v20 + 1) = v18;
      *(v20 + 68) = 0;
      *(v20 + 70) = 0;
      *(v20 + 69) = 0;
      IPC::Encoder::encodeHeader(v20);
      v29 = v20;
      IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v20, v5);
      IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v20, v17);
      (*(a1[4] + 32))(a1 + 4, &v29, 0);
      v22 = v29;
      v29 = 0;
      if (v22)
      {
        IPC::Encoder::~Encoder(v22, v21);
        bmalloc::api::tzoneFree(v26, v27);
      }
    }
  }

  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>(a1 + 107, &v28);
  v24 = a1[107];
  if (v24)
  {
    v25 = (v24 + 8 * *(v24 - 4));
    if (v25 == result)
    {
      return result;
    }
  }

  else
  {
    if (!result)
    {
      return result;
    }

    v25 = 0;
  }

  if (v25 != result)
  {
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(a1 + 107, result);
    v24 = a1[107];
  }

  if (!v24 || !*(v24 - 12))
  {
    LOBYTE(v29) = 0;
    return IPC::MessageSender::send<Messages::WebPageProxy::SetNetworkRequestsInProgress>((a1 + 4), &v29);
  }

  return result;
}

uint64_t WebKit::WebPage::stopMediaCapture(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a1 + 56);
  if (v4)
  {
    v5 = (v4 + 8);
    ++*(v4 + 8);
    WebCore::Page::stopMediaCapture();
    WTF::RefCounted<WebCore::Page>::deref(v5);
  }

  else
  {
    WebCore::Page::stopMediaCapture();
  }

  v6 = *a3;
  *a3 = 0;
  (*(*v6 + 16))(v6);
  v7 = *(*v6 + 8);

  return v7(v6);
}

uint64_t WebKit::WebPage::setMayStartMediaWhenInWindow(uint64_t this, int a2)
{
  if (*(this + 352) != a2)
  {
    *(this + 352) = a2;
    if (a2)
    {
      if ((*(*(this + 56) + 650) & 0x10) != 0)
      {
        return WTF::RunLoop::TimerBase::start();
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPage::runModal(uint64_t this)
{
  if ((*(this + 202) & 1) == 0 && (*(this + 770) & 1) == 0)
  {
    v2 = *(this + 32);
    v1 = this + 32;
    *(this + 770) = 1;
    v3 = (*(v2 + 56))(this + 32);
    v5 = IPC::Encoder::operator new(0x238, v4);
    *v5 = 2340;
    *(v5 + 2) = 0;
    *(v5 + 3) = 0;
    *(v5 + 1) = v3;
    *(v5 + 68) = 0;
    *(v5 + 70) = 0;
    *(v5 + 69) = 0;
    IPC::Encoder::encodeHeader(v5);
    v10 = v5;
    (*(*v1 + 32))(v1, &v10, 0);
    v7 = v10;
    v10 = 0;
    if (v7)
    {
      IPC::Encoder::~Encoder(v7, v6);
      v7 = bmalloc::api::tzoneFree(v8, v9);
    }

    return WTF::RunLoop::run(v7);
  }

  return this;
}

uint64_t WebKit::WebPage::canHandleRequest(WebKit::WebPage *this, const WebCore::ResourceRequest *a2)
{
  v3 = WebCore::ResourceRequestBase::url(this);
  WTF::URL::protocol(v3);
  if (WebCore::LegacySchemeRegistry::shouldLoadURLSchemeAsEmptyDocument())
  {
    return 1;
  }

  WebCore::ResourceRequestBase::url(this);
  if (WTF::URL::protocolIs())
  {
    return 1;
  }

  return WebKit::WebPage::platformCanHandleRequest(this, v4);
}

uint64_t WebKit::WebPage::handleAlternativeTextUIResult(WebKit::WebPage *this, const WTF::String *a2)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v4 = result;
    ++*(result + 16);
    v5 = *(result + 224);
    if (v5)
    {
      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    else
    {
      v6 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v6);
    WebCore::Editor::handleAlternativeTextUIResult(v6, a2);
    result = WebCore::Editor::deref(v6);
    if (v4[4] == 1)
    {
      v7 = *(*v4 + 8);

      return v7(v4);
    }

    else
    {
      --v4[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::setCompositionForTesting(uint64_t a1, uint64_t *a2, uint64_t a3, uint64_t a4, char a5)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (result)
  {
    v8 = result;
    ++*(result + 16);
    v9 = *(result + 224);
    if (v9)
    {
      *(v9 + 7) += 2;
      v10 = WebCore::Document::editor(v9);
      if (*(v9 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v9);
      }

      else
      {
        *(v9 + 7) -= 2;
      }
    }

    else
    {
      v10 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v10);
    if (WebCore::Editor::canEdit(v10))
    {
      v19[0] = 0;
      v19[1] = 0;
      if ((a5 & 1) == 0)
      {
        v11 = *a2;
        if (*a2)
        {
          LODWORD(v11) = *(v11 + 4);
        }

        v15[0] = 0;
        v15[1] = v11;
        v16 = 1;
        v17 = 0x11040000000000FFLL;
        v18 = 0;
        WTF::Vector<WebCore::CompositionUnderline,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::CompositionUnderline>(v19, v15);
        if ((v17 & 0x8000000000000) != 0)
        {
          v14 = (v17 & 0xFFFFFFFFFFFFLL);
          if (atomic_fetch_add((v17 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v14);
            WTF::fastFree(v14, v12);
          }
        }
      }

      WebCore::Editor::setComposition();
      WTF::Vector<WebCore::CompositionUnderline,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v19, v13);
    }

    result = WebCore::Editor::deref(v10);
    if (v8[4] == 1)
    {
      return (*(*v8 + 8))(v8);
    }

    else
    {
      --v8[4];
    }
  }

  return result;
}

BOOL WebKit::WebPage::hasCompositionForTesting(WebKit::WebPage *this)
{
  v1 = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (!v1)
  {
    return 0;
  }

  v2 = v1;
  ++*(v1 + 16);
  v3 = *(v1 + 224);
  if (v3)
  {
    *(v3 + 7) += 2;
    v4 = WebCore::Document::editor(v3);
    if (*(v3 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v3);
    }

    else
    {
      *(v3 + 7) -= 2;
    }
  }

  else
  {
    v4 = WebCore::Document::editor(0);
  }

  v5 = *(v4 + 32) != 0;
  if (v2[4] == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --v2[4];
  }

  return v5;
}

uint64_t WebKit::WebPage::confirmCompositionForTesting(WebKit::WebPage *this, const WTF::String *a2)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v4 = result;
    ++*(result + 16);
    v5 = *(result + 224);
    if (v5)
    {
      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    else
    {
      v6 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v6);
    if (WebCore::Editor::canEdit(v6))
    {
      if (!*a2)
      {
        WebCore::Editor::confirmComposition(v6);
      }

      WebCore::Editor::confirmComposition(v6, a2);
    }

    result = WebCore::Editor::deref(v6);
    if (v4[4] == 1)
    {
      v7 = *(*v4 + 8);

      return v7(v4);
    }

    else
    {
      --v4[4];
    }
  }

  return result;
}

unsigned __int8 *WebKit::WebPage::recomputeShortCircuitHorizontalWheelEventsState(unsigned __int8 *this)
{
  v1 = this;
  v2 = this[829];
  if (v2)
  {
    goto LABEL_2;
  }

  this = WebKit::WebPage::localMainFrame(this, &v30);
  v5 = v30;
  if (v30)
  {
    v3 = v2 ^ 1;
    v6 = *(v30 + 27);
    if (!v6)
    {
      goto LABEL_13;
    }

    ++v6[2];
    hasEnabledHorizontalScrollbar = WebKit::hasEnabledHorizontalScrollbar((v6 + 16), v4);
    if (v6[2] == 1)
    {
      (*(*v6 + 8))(v6);
    }

    else
    {
      --v6[2];
    }

    if (hasEnabledHorizontalScrollbar)
    {
LABEL_10:
      this = v30;
      v30 = 0;
      if (!this)
      {
LABEL_2:
        v3 = 0;
        goto LABEL_3;
      }

      if (*(this + 4) != 1)
      {
        --*(this + 4);
        goto LABEL_2;
      }

      v22 = 1;
    }

    else
    {
LABEL_13:
      ++*(v5 + 16);
      do
      {
        if ((*(v5 + 136) & 1) == 0)
        {
          v8 = *(v5 + 16);
          *(v5 + 16) = v8 + 1;
          v9 = *(v5 + 216);
          if (v9)
          {
            ++*(v9 + 8);
            v10 = *(v9 + 1392);
            if (v10)
            {
              WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(&v36, *(v9 + 1392));
              v23 = *v10;
              if (*v10)
              {
                v24 = *(v23 - 4);
                v25 = v23 + 8 * v24;
              }

              else
              {
                v25 = 0;
                v24 = 0;
              }

              v31 = v10;
              v32 = v25;
              v33 = v25;
              v34 = v25;
              v35 = v23 + 8 * v24;
              WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v31);
              v26 = v37;
              v27 = v32;
              while (1)
              {
                if (v26 == v27)
                {
                  v11 = 0;
                  goto LABEL_18;
                }

                v28 = *(*v26 + 8);
                (*(*v28 + 16))(v28);
                if (WebCore::ScrollableArea::scrollbarsCanBeActive(v28))
                {
                  if (WebKit::hasEnabledHorizontalScrollbar(v28, v29))
                  {
                    break;
                  }
                }

                (*(*v28 + 24))(v28);
                WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(&v36);
                v26 = v37;
              }

              (*(*v28 + 24))(v28);
              v11 = 1;
            }

            else
            {
              v11 = 4;
            }

LABEL_18:
            if (*(v9 + 8) == 1)
            {
              (*(*v9 + 8))(v9);
            }

            else
            {
              --*(v9 + 8);
            }

            v8 = *(v5 + 16) - 1;
          }

          else
          {
            v11 = 4;
          }

          if (v8)
          {
            *(v5 + 16) = v8;
          }

          else
          {
            (*(*v5 + 8))(v5);
          }

          if ((v11 | 4) != 4)
          {
            if (*(v5 + 16) == 1)
            {
              (*(*v5 + 8))(v5);
            }

            else
            {
              --*(v5 + 16);
            }

            goto LABEL_10;
          }
        }

        v12 = WebCore::FrameTree::traverseNext((v5 + 40), 0);
        v13 = v12;
        if (v12)
        {
          ++*(v12 + 16);
        }

        if (*(v5 + 16) == 1)
        {
          (*(*v5 + 8))(v5);
        }

        else
        {
          --*(v5 + 16);
        }

        v5 = v13;
      }

      while (v13);
      this = v30;
      v30 = 0;
      if (!this)
      {
        goto LABEL_3;
      }

      if (*(this + 4) != 1)
      {
        --*(this + 4);
        goto LABEL_3;
      }

      v22 = 0;
    }

    this = (*(*this + 8))(this);
    if (v22)
    {
      goto LABEL_2;
    }
  }

  else
  {
    v3 = 1;
  }

LABEL_3:
  if (v1[828] != v3)
  {
    v1[828] = v3;
    LOBYTE(v31) = v3;
    v15 = *(v1 + 4);
    v14 = (v1 + 32);
    v16 = (*(v15 + 56))(v14);
    v18 = IPC::Encoder::operator new(0x238, v17);
    *v18 = 2350;
    *(v18 + 2) = 0;
    *(v18 + 3) = 0;
    *(v18 + 1) = v16;
    *(v18 + 68) = 0;
    *(v18 + 70) = 0;
    *(v18 + 69) = 0;
    IPC::Encoder::encodeHeader(v18);
    v36 = v18;
    IPC::Encoder::operator<<<BOOL &>(v18, &v31);
    (*(*v14 + 32))(v14, &v36, 0);
    this = v36;
    v36 = 0;
    if (this)
    {
      IPC::Encoder::~Encoder(this, v19);
      return bmalloc::api::tzoneFree(v20, v21);
    }
  }

  return this;
}

uint64_t *WebKit::WebPage::localTopDocument(uint64_t *this, _DWORD *a2)
{
  if (a2)
  {
    v2 = a2 + 2;
    ++a2[2];
    WebCore::Page::localTopDocument(this, a2);

    return WTF::RefCounted<WebCore::Page>::deref(v2);
  }

  else
  {
    *this = 0;
  }

  return this;
}

uint64_t WebKit::WebPage::mainFrameView(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (!v1)
  {
    return 0;
  }

  v2 = *(v1 + 176);
  if (!v2)
  {
    return 0;
  }

  ++v2[4];
  v3 = (*(*v2 + 56))(v2);
  if (v2[4] == 1)
  {
    (*(*v2 + 8))(v2);
  }

  else
  {
    --v2[4];
  }

  return v3;
}

uint64_t WebKit::WebPage::shouldUseCustomContentProviderForResponse(WebKit::WebPage *this, const WebCore::ResourceResponse *a2)
{
  v4 = WebCore::ResourceResponseBase::mimeType(a2);
  result = *v4;
  if (*v4)
  {
    v6 = *(this + 211);
    if (v6)
    {
      if (result == -1)
      {
        __break(0xC471u);
        JUMPOUT(0x19E3F682CLL);
      }

      v7 = *(v6 - 8);
      v8 = WTF::ASCIICaseInsensitiveHash::hash(result, v3);
      for (i = 0; ; v8 = i + v10)
      {
        v10 = v8 & v7;
        result = *(v6 + 8 * (v8 & v7));
        if (!result)
        {
          break;
        }

        if (result != -1 && WTF::equalIgnoringASCIICaseCommon<WTF::StringImpl,WTF::StringImpl>(result, *v4))
        {
          return 1;
        }

        ++i;
      }
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void WebKit::WebPage::setTextAsync(WebKit::WebPage *this, const WTF::String *a2)
{
  v4 = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (v4)
  {
    v5 = v4;
    ++*(v4 + 16);
    if (WebCore::VisibleSelection::isContentEditable((*(*(v4 + 224) + 3208) + 56)))
    {
      WebCore::UserTypingGestureIndicator::UserTypingGestureIndicator(v11, v5);
      WebCore::FrameSelection::selectAll(*(*(v5 + 224) + 3208));
      if (*a2 && *(*a2 + 4))
      {
        v6 = *(v5 + 224);
        if (v6)
        {
          *(v6 + 7) += 2;
          v7 = WebCore::Document::editor(v6);
          if (*(v6 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v6);
          }

          else
          {
            *(v6 + 7) -= 2;
          }
        }

        else
        {
          v7 = WebCore::Document::editor(0);
        }

        WebCore::Editor::ref(v7);
        WebCore::Editor::insertText();
      }

      else
      {
        v10 = *(v5 + 224);
        if (v10)
        {
          *(v10 + 7) += 2;
          v7 = WebCore::Document::editor(v10);
          if (*(v10 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v10);
          }

          else
          {
            *(v10 + 7) -= 2;
          }
        }

        else
        {
          v7 = WebCore::Document::editor(0);
        }

        WebCore::Editor::ref(v7);
        WebCore::Editor::deleteSelectionWithSmartDelete();
      }

      WebCore::Editor::deref(v7);
      WebCore::UserTypingGestureIndicator::~UserTypingGestureIndicator(v11);
      goto LABEL_19;
    }

    v8 = *(this + 113);
    if (v8)
    {
      v9 = *(v8 + 28);
      *(v8 + 28) = v9 + 2;
      if ((*(v8 + 32) & 0x10) != 0 && *(*(v8 + 104) + 24) == *(*MEMORY[0x1E69E2C70] + 24))
      {
        WebCore::HTMLInputElement::setValueForUser(v8, a2);
        v9 = *(v8 + 28) - 2;
        if (*(v8 + 28) != 2)
        {
          goto LABEL_13;
        }
      }

      else if (v9)
      {
LABEL_13:
        *(v8 + 28) = v9;
        goto LABEL_19;
      }

      WebCore::Node::removedLastRef(v8);
    }

LABEL_19:
    if (*(v5 + 16) == 1)
    {
      (*(*v5 + 8))(v5);
    }

    else
    {
      --*(v5 + 16);
    }
  }
}

uint64_t WebKit::WebPage::insertTextAsync(uint64_t a1, const WTF::String *a2, void *a3, uint64_t a4)
{
  v80 = *MEMORY[0x1E69E9840];
  WebKit::WebPage::platformWillPerformEditingCommand(a1);
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (!result)
  {
    return result;
  }

  v9 = result;
  ++*(result + 16);
  LOBYTE(v61) = 0;
  LOBYTE(v64) = 0;
  Ref = WebCore::UserGestureIndicator::UserGestureIndicator();
  if (*a3 != -1)
  {
    Ref = WebKit::EditingRange::toRange(v9, *(a4 + 4), &v52);
    if (v56 == 1)
    {
      v11 = *(a1 + 1746);
      *(a1 + 1746) = *(a4 + 1);
      WebCore::VisibleSelection::VisibleSelection();
      WebCore::FrameSelection::setSelection();
      WebCore::VisibleSelection::~VisibleSelection(&v61);
      *(a1 + 1746) = v11;
      if (v56)
      {
        v12 = v55;
        v55 = 0;
        if (v12)
        {
          if (*(v12 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v12);
          }

          else
          {
            *(v12 + 7) -= 2;
          }
        }

        Ref = v52;
        v52 = 0;
        if (Ref)
        {
          if (*(Ref + 7) == 2)
          {
            Ref = WebCore::Node::removedLastRef(Ref);
          }

          else
          {
            *(Ref + 7) -= 2;
          }
        }
      }
    }
  }

  if (*a4 == 1)
  {
    v14 = *(a1 + 32);
    v13 = a1 + 32;
    v15 = (*(v14 + 56))(v13);
    v17 = IPC::Encoder::operator new(0x238, v16);
    *v17 = 2320;
    *(v17 + 2) = 0;
    *(v17 + 3) = 0;
    *(v17 + 1) = v15;
    *(v17 + 68) = 0;
    *(v17 + 70) = 0;
    *(v17 + 69) = 0;
    IPC::Encoder::encodeHeader(v17);
    v61 = v17;
    (*(*v13 + 32))(v13, &v61, 0);
    Ref = v61;
    v61 = 0;
    if (Ref)
    {
      IPC::Encoder::~Encoder(Ref, v18);
      Ref = bmalloc::api::tzoneFree(v50, v51);
    }
  }

  v19 = *(v9 + 224);
  if (v19)
  {
    v20 = *(v19 + 1312);
    v21 = v20 != 0;
    if (v20)
    {
      *(v20 + 7) += 2;
      if (*(a4 + 3) == 1)
      {
        v22 = *(_ReadStatusReg(ARM64_SYSREG(3, 3, 13, 0, 3)) + 736);
        if (!v22 || (v23 = *(v22 + 96)) == 0)
        {
          v23 = WebCore::threadGlobalDataSlow(Ref);
        }

        if (!*(v23 + 5))
        {
          WebCore::ThreadGlobalData::initializeEventNames(v23);
        }

        WebCore::Event::create();
        (*(*v20 + 48))(v20, v61);
        v24 = v61;
        v61 = 0;
        if (v24)
        {
          if (*(v24 + 6) == 1)
          {
            (*(*v24 + 8))(v24);
          }

          else
          {
            --*(v24 + 6);
          }
        }
      }
    }

    v25 = v20 == 0;
    v26 = *(v9 + 224);
    if (v26)
    {
      *(v26 + 7) += 2;
      v27 = WebCore::Document::editor(v26);
      if (*(v26 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v26);
      }

      else
      {
        *(v26 + 7) -= 2;
      }

      goto LABEL_30;
    }
  }

  else
  {
    v20 = 0;
    v21 = 0;
    v25 = 1;
  }

  v27 = WebCore::Document::editor(0);
LABEL_30:
  WebCore::Editor::ref(v27);
  if (*(v27 + 4))
  {
    inserted = WebCore::Editor::confirmComposition(v27, a2);
  }

  else if (*a2 && *(*a2 + 4) || *(*(*(v9 + 224) + 3208) + 153) != 2)
  {
    inserted = WebCore::Editor::insertText();
  }

  else
  {
    inserted = WebCore::Editor::deleteWithDirection();
  }

  v29 = *(a4 + 5);
  if ((v29 & 0x100) != 0)
  {
    inserted = MEMORY[0x19EB01EF0](*a2, "\n", 1);
    if (inserted)
    {
      v30 = *(*(v9 + 224) + 3208);
      v31 = *(v30 + 56);
      if (v31)
      {
        *(v31 + 7) += 2;
      }

      v61 = v31;
      v62 = *(v30 + 64);
      v63 = *(v30 + 68);
      v32 = *(v30 + 72);
      if (v32)
      {
        *(v32 + 28) += 2;
      }

      v64 = v32;
      v65 = *(v30 + 80);
      v66 = *(v30 + 84);
      v33 = *(v30 + 88);
      if (v33)
      {
        *(v33 + 28) += 2;
      }

      v67 = v33;
      v68 = *(v30 + 96);
      v69 = *(v30 + 100);
      v34 = *(v30 + 104);
      if (v34)
      {
        *(v34 + 28) += 2;
      }

      v70 = v34;
      v71 = *(v30 + 112);
      v72 = *(v30 + 116);
      v35 = *(v30 + 120);
      if (v35)
      {
        *(v35 + 28) += 2;
      }

      v73 = v35;
      v74 = *(v30 + 128);
      v75 = *(v30 + 132);
      v36 = *(v30 + 136);
      if (v36)
      {
        *(v36 + 28) += 2;
      }

      v76 = v36;
      v77 = *(v30 + 144);
      v78 = *(v30 + 148);
      v79 = *(v30 + 152);
      if ((v79 & 0xFF00) == 0x100 && WebCore::VisibleSelection::isContentEditable(&v61))
      {
        WebCore::VisiblePosition::VisiblePosition();
        if (!WebCore::isStartOfLine() || !WebCore::isEndOfLine())
        {
          goto LABEL_61;
        }

        v38 = v52;
        if (v52)
        {
          *(v52 + 7) += 2;
        }

        v58 = v38;
        v59 = v53;
        v60 = v54;
        v39 = WebCore::directionOfEnclosingBlock(&v58, v37);
        v40 = v58;
        v58 = 0;
        if (v40)
        {
          if (*(v40 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v40);
          }

          else
          {
            *(v40 + 7) -= 2;
          }
        }

        if (v39 != v29)
        {
          v41 = 1;
        }

        else
        {
LABEL_61:
          v41 = 0;
        }

        v42 = v52;
        v52 = 0;
        if (v42)
        {
          if (*(v42 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v42);
          }

          else
          {
            *(v42 + 7) -= 2;
          }
        }

        WebCore::VisibleSelection::~VisibleSelection(&v61);
        if (v41)
        {
          WebCore::Editor::setBaseWritingDirection();
          inserted = WebCore::Editor::setTextAlignmentForChangedBaseWritingDirection();
        }
      }

      else
      {
        WebCore::VisibleSelection::~VisibleSelection(&v61);
      }
    }
  }

  if (v21 && *(a4 + 3) == 1)
  {
    StatusReg = _ReadStatusReg(ARM64_SYSREG(3, 3, 13, 0, 3));
    v44 = *(StatusReg + 736);
    if (!v44 || (v45 = *(v44 + 96)) == 0)
    {
      v45 = WebCore::threadGlobalDataSlow(inserted);
    }

    if (!*(v45 + 5))
    {
      WebCore::ThreadGlobalData::initializeEventNames(v45);
    }

    WebCore::Event::create();
    (*(*v20 + 48))(v20, v61);
    v46 = v61;
    v61 = 0;
    if (v46)
    {
      if (*(v46 + 6) == 1)
      {
        v46 = (*(*v46 + 8))(v46);
      }

      else
      {
        --*(v46 + 6);
      }
    }

    v47 = *(StatusReg + 736);
    if (!v47 || (v48 = *(v47 + 96)) == 0)
    {
      v48 = WebCore::threadGlobalDataSlow(v46);
    }

    if (!*(v48 + 5))
    {
      WebCore::ThreadGlobalData::initializeEventNames(v48);
    }

    WebCore::Event::create();
    (*(*v20 + 48))(v20, v61);
    v49 = v61;
    v61 = 0;
    if (v49)
    {
      if (*(v49 + 6) == 1)
      {
        (*(*v49 + 8))(v49);
      }

      else
      {
        --*(v49 + 6);
      }
    }
  }

  WebCore::Editor::deref(v27);
  if (!v25)
  {
    if (*(v20 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v20);
    }

    else
    {
      *(v20 + 7) -= 2;
    }
  }

  result = MEMORY[0x19EB09070](v57);
  if (*(v9 + 16) == 1)
  {
    return (*(*v9 + 8))(v9);
  }

  --*(v9 + 16);
  return result;
}

uint64_t WebKit::WebPage::hasMarkedText(uint64_t a1, void *a2)
{
  v3 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v3)
  {
    v4 = v3;
    ++*(v3 + 16);
    v5 = *(v3 + 224);
    if (v5)
    {
      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) == 2)
      {
        v13 = v6;
        WebCore::Node::removedLastRef(v5);
        v6 = v13;
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    else
    {
      v6 = WebCore::Document::editor(0);
    }

    v7 = *(v6 + 32) != 0;
    v8 = *a2;
    *a2 = 0;
    (*(*v8 + 16))(v8, v7);
    result = (*(*v8 + 8))(v8);
    if (v4[4] != 1)
    {
      --v4[4];
      return result;
    }

    v10 = *(*v4 + 8);
    v11 = v4;
  }

  else
  {
    v12 = *a2;
    *a2 = 0;
    (*(*v12 + 16))(v12, 0);
    v10 = *(*v12 + 8);
    v11 = v12;
  }

  return v10(v11);
}

uint64_t WebKit::WebPage::getMarkedRangeAsync(uint64_t a1, uint64_t *a2)
{
  v3 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v3)
  {
    v4 = v3;
    ++*(v3 + 16);
    v5 = *(v3 + 224);
    if (v5)
    {
      *(v5 + 7) += 2;
      v6 = WebCore::Document::editor(v5);
      if (*(v5 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    else
    {
      v6 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v6);
    WebCore::Editor::compositionRange(v13, v6);
    v16[0] = WebKit::EditingRange::fromRange(v4, v13);
    v16[1] = v7;
    v8 = *a2;
    *a2 = 0;
    (*(*v8 + 16))(v8, v16);
    (*(*v8 + 8))(v8);
    if (v15 == 1)
    {
      v9 = v14;
      v14 = 0;
      if (v9)
      {
        if (*(v9 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v9);
        }

        else
        {
          *(v9 + 7) -= 2;
        }
      }

      v10 = v13[0];
      v13[0] = 0;
      if (v10)
      {
        if (*(v10 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v10);
        }

        else
        {
          *(v10 + 7) -= 2;
        }
      }
    }

    result = WebCore::Editor::deref(v6);
    if (v4[4] == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[4];
    }
  }

  else
  {
    *v13 = xmmword_19E7035E0;
    v12 = *a2;
    *a2 = 0;
    (*(*v12 + 16))(v12, v13);
    return (*(*v12 + 8))(v12);
  }

  return result;
}

WebCore::Node *WebKit::WebPage::getSelectedRangeAsync(uint64_t a1, uint64_t *a2)
{
  v3 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v3)
  {
    v4 = v3;
    ++*(v3 + 16);
    WebCore::VisibleSelection::toNormalizedRange(v19, (*(*(v3 + 224) + 3208) + 56));
    v22[0] = WebKit::EditingRange::fromRange(v4, v19);
    v22[1] = v5;
    v6 = *(v4 + 224);
    if (v6)
    {
      *(v6 + 7) += 2;
      v7 = WebCore::Document::editor(v6);
      if (*(v6 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v6);
      }

      else
      {
        *(v6 + 7) -= 2;
      }
    }

    else
    {
      v7 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v7);
    WebCore::Editor::compositionRange(v15, v7);
    v18[0] = WebKit::EditingRange::fromRange(v4, v15);
    v18[1] = v8;
    v9 = *a2;
    *a2 = 0;
    (*(*v9 + 16))(v9, v22, v18);
    (*(*v9 + 8))(v9);
    if (v17 == 1)
    {
      v10 = v16;
      v16 = 0;
      if (v10)
      {
        if (*(v10 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v10);
        }

        else
        {
          *(v10 + 7) -= 2;
        }
      }

      v11 = v15[0];
      v15[0] = 0;
      if (v11)
      {
        if (*(v11 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v11);
        }

        else
        {
          *(v11 + 7) -= 2;
        }
      }
    }

    result = WebCore::Editor::deref(v7);
    if (v21 == 1)
    {
      v13 = v20;
      v20 = 0;
      if (v13)
      {
        if (*(v13 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v13);
        }

        else
        {
          *(v13 + 7) -= 2;
        }
      }

      result = v19[0];
      v19[0] = 0;
      if (result)
      {
        if (*(result + 7) == 2)
        {
          result = WebCore::Node::removedLastRef(result);
        }

        else
        {
          *(result + 7) -= 2;
        }
      }
    }

    if (*(v4 + 16) == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }

  else
  {
    *v19 = xmmword_19E7035E0;
    *v15 = xmmword_19E7035E0;
    v14 = *a2;
    *a2 = 0;
    (*(*v14 + 16))(v14, v19, v15);
    return (*(*v14 + 8))(v14);
  }

  return result;
}

_DWORD *WebKit::WebPage::characterIndexForPointAsync(WebKit::WebPage *a1, int32x2_t *a2, uint64_t *a3)
{
  result = WebKit::WebPage::localMainFrame(a1, &v24);
  if (v24)
  {
    v7 = vcgt_s32(*a2, 0xFE000000FE000000);
    v17[0] = vorr_s8((*&v7 & 0x7FFFFFFF7FFFFFFFLL), vbic_s8(vbsl_s8(vcgt_s32(0xFE000000FE000000, *a2), 0x8000000080000000, vshl_n_s32(*a2, 6uLL)), v7));
    WebCore::EventHandler::hitTestResultAtPoint();
    if (v21)
    {
      v8 = WebCore::HitTestResult::innerNodeFrame(v20);
    }

    else
    {
      v8 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 7) + 80));
    }

    v10 = v8;
    if (v8)
    {
      ++v8[4];
      v16.m_x = ((v22 - (v9 & 0xFFFFFFC0) + 32) >> 6) + v22 / 64;
      v16.m_y = ((v23 - (v9 & 0xFFFFFFC0) + 32) >> 6) + v23 / 64;
      WebCore::LocalFrame::rangeForPoint(v17, v8, &v16);
      v11 = WebKit::EditingRange::fromRange(v10, v17);
      v12 = *a3;
      *a3 = 0;
      (*(*v12 + 16))(v12, v11);
      (*(*v12 + 8))(v12);
      if (v19 == 1)
      {
        v13 = v18;
        v18 = 0;
        if (v13)
        {
          if (*(v13 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v13);
          }

          else
          {
            *(v13 + 7) -= 2;
          }
        }

        v14 = v17[0];
        v17[0] = 0;
        if (v14)
        {
          if (*(v14 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v14);
          }

          else
          {
            *(v14 + 7) -= 2;
          }
        }
      }

      if (v10[4] == 1)
      {
        (*(*v10 + 8))(v10);
      }

      else
      {
        --v10[4];
      }
    }

    else
    {
      v15 = *a3;
      *a3 = 0;
      (*(*v15 + 16))(v15, 0);
      (*(*v15 + 8))(v15);
    }

    MEMORY[0x19EB04BD0](v20);
    result = v24;
    v24 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

WebCore::Node *WebKit::WebPage::firstRectForCharacterRangeAsync(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v5 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (!v5)
  {
    v52 = 0;
    v53 = 0;
    *v39 = xmmword_19E7035E0;
    v38 = *a3;
    *a3 = 0;
    (*(*v38 + 16))(v38, &v52, v39);
    return (*(*v38 + 8))(v38);
  }

  v6 = v5;
  ++*(v5 + 16);
  WebKit::EditingRange::toRange(v5, 0, &v52);
  if ((v55 & 1) == 0)
  {
    v39[0] = 0;
    v39[1] = 0;
    v17 = *a3;
    *a3 = 0;
    (*(*v17 + 16))(v17, v39, a2);
    result = (*(*v17 + 8))(v17);
    goto LABEL_73;
  }

  v7 = *(v6 + 216);
  if (v7)
  {
    ++*(v7 + 2);
  }

  v8 = *(v6 + 224);
  if (v8)
  {
    *(v8 + 7) += 2;
    v9 = WebCore::Document::editor(v8);
    if (*(v8 + 7) == 2)
    {
      goto LABEL_85;
    }

    *(v8 + 7) -= 2;
  }

  else
  {
    v9 = WebCore::Document::editor(0);
  }

  while (1)
  {
    WebCore::Editor::ref(v9);
    if ((v55 & 1) == 0)
    {
      goto LABEL_84;
    }

    v39[0] = WebCore::Editor::firstRectForRange();
    v39[1] = v10;
    v51[0] = WebCore::ScrollView::contentsToWindow(v7, v39);
    v51[1] = v11;
    WebCore::Editor::deref(v9);
    if (v7)
    {
      if (*(v7 + 2) == 1)
      {
        (*(*v7 + 8))(v7);
      }

      else
      {
        --*(v7 + 2);
      }
    }

    if ((v55 & 1) == 0)
    {
      goto LABEL_84;
    }

    WebCore::makeContainerOffsetPosition();
    WebCore::VisiblePosition::VisiblePosition();
    WebCore::endOfLine();
    v12 = v39[0];
    v39[0] = 0;
    if (v12)
    {
      if (*(v12 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v12);
      }

      else
      {
        *(v12 + 7) -= 2;
      }
    }

    if (!v46)
    {
      WebCore::VisiblePosition::VisiblePosition();
      v19 = v39[0];
      v39[0] = 0;
      v20 = v46;
      v46 = v19;
      if (!v20)
      {
        goto LABEL_37;
      }

      if (*(v20 + 7) != 2)
      {
        *(v20 + 7) -= 2;
LABEL_37:
        v47 = v39[1];
        v48 = BYTE4(v39[1]);
        v49 = v40;
        goto LABEL_38;
      }

      goto LABEL_102;
    }

    if (v49 != 1)
    {
      goto LABEL_38;
    }

    WebCore::VisiblePosition::VisiblePosition();
    v7 = WebCore::inSameLine();
    v13 = v39[0];
    v39[0] = 0;
    if (!v13)
    {
      goto LABEL_21;
    }

    if (*(v13 + 7) != 2)
    {
      *(v13 + 7) -= 2;
LABEL_21:
      if (!v7)
      {
        goto LABEL_38;
      }

      goto LABEL_22;
    }

    WebCore::Node::removedLastRef(v13);
    if (!v7)
    {
      goto LABEL_38;
    }

LABEL_22:
    WebCore::positionOfNextBoundaryOfGranularity();
    if (!v39[0])
    {
      goto LABEL_38;
    }

    v14 = WebCore::operator<=>();
    v15 = v39[0];
    if (v14 != -1)
    {
      goto LABEL_30;
    }

    if (v39[0])
    {
      *(v39[0] + 7) += 2;
    }

    v16 = v46;
    v46 = v15;
    if (v16)
    {
      if (*(v16 + 7) != 2)
      {
        *(v16 + 7) -= 2;
        goto LABEL_29;
      }

      v20 = v16;
LABEL_102:
      WebCore::Node::removedLastRef(v20);
      v15 = v39[0];
    }

LABEL_29:
    v47 = v39[1];
    v48 = BYTE4(v39[1]);
    v49 = v40;
LABEL_30:
    v39[0] = 0;
    if (v15)
    {
      if (*(v15 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v15);
      }

      else
      {
        *(v15 + 7) -= 2;
      }
    }

LABEL_38:
    WebCore::makeBoundaryPoint();
    if ((v45 & 1) == 0)
    {
      v39[0] = 0;
      v39[1] = 0;
      v34 = *a3;
      *a3 = 0;
      (*(*v34 + 16))(v34, v39, a2);
      (*(*v34 + 8))(v34);
      goto LABEL_63;
    }

    if (v55)
    {
      break;
    }

LABEL_84:
    __break(1u);
LABEL_85:
    WebCore::Node::removedLastRef(v8);
  }

  v21 = v52;
  v22 = v53;
  *(v52 + 7) += 2;
  v59 = v21;
  v60 = v22;
  v61 = 1;
  v23 = v43;
  v43 = 0;
  v56 = v23;
  v57 = v44;
  v58 = 1;
  WebCore::SimpleRange::SimpleRange();
  v39[0] = v62;
  LODWORD(v39[1]) = v63;
  v40 = v64;
  v41 = v65;
  v42 = 1;
  if (v58)
  {
    v24 = v56;
    v56 = 0;
    if (v24)
    {
      if (*(v24 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v24);
      }

      else
      {
        *(v24 + 7) -= 2;
      }
    }
  }

  if (v61 == 1)
  {
    v25 = v59;
    v59 = 0;
    if (v25)
    {
      if (*(v25 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v25);
      }

      else
      {
        *(v25 + 7) -= 2;
      }
    }
  }

  v26 = WebKit::EditingRange::fromRange(v6, v39);
  v28 = v27;
  if (v42 == 1)
  {
    v29 = v40;
    v40 = 0;
    if (v29)
    {
      if (*(v29 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v29);
      }

      else
      {
        *(v29 + 7) -= 2;
      }
    }

    v30 = v39[0];
    v39[0] = 0;
    if (v30)
    {
      if (*(v30 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v30);
      }

      else
      {
        *(v30 + 7) -= 2;
      }
    }
  }

  v31 = *a2;
  v32 = (*(a2 + 8) + *a2);
  if (v26 > *a2)
  {
    v31 = v26;
  }

  if (v32 < v31)
  {
    v31 = (*(a2 + 8) + *a2);
  }

  if (v32 >= v31 + v28)
  {
    v32 = v31 + v28;
  }

  v39[0] = v31;
  v39[1] = (v32 - v31);
  v33 = *a3;
  *a3 = 0;
  (*(*v33 + 16))(v33, v51, v39);
  (*(*v33 + 8))(v33);
LABEL_63:
  if (v45 == 1)
  {
    v35 = v43;
    v43 = 0;
    if (v35)
    {
      if (*(v35 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v35);
      }

      else
      {
        *(v35 + 7) -= 2;
      }
    }
  }

  v36 = v46;
  v46 = 0;
  if (v36)
  {
    if (*(v36 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v36);
    }

    else
    {
      *(v36 + 7) -= 2;
    }
  }

  result = v50;
  v50 = 0;
  if (result)
  {
    if (*(result + 7) == 2)
    {
      result = WebCore::Node::removedLastRef(result);
    }

    else
    {
      *(result + 7) -= 2;
    }
  }

LABEL_73:
  if (v55 == 1)
  {
    v37 = v54;
    v54 = 0;
    if (v37)
    {
      if (*(v37 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v37);
      }

      else
      {
        *(v37 + 7) -= 2;
      }
    }

    result = v52;
    v52 = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        result = WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }
  }

  if (*(v6 + 16) == 1)
  {
    return (*(*v6 + 8))(v6);
  }

  --*(v6 + 16);
  return result;
}

uint64_t WebKit::WebPage::setCompositionAsync(WebKit::WebPage *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, void *a7)
{
  WebKit::WebPage::platformWillPerformEditingCommand(a1);
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 7) + 80));
  if (result)
  {
    v10 = result;
    ++*(result + 16);
    result = WebCore::VisibleSelection::isContentEditable((*(*(result + 224) + 3208) + 56));
    if (result)
    {
      if (*a7 != -1)
      {
        WebKit::EditingRange::toRange(v10, 0, &v16);
        if (v18 == 1)
        {
          WebCore::VisibleSelection::VisibleSelection();
          WebCore::FrameSelection::setSelection();
          WebCore::VisibleSelection::~VisibleSelection(&v15);
          if (v18)
          {
            v11 = v17;
            v17 = 0;
            if (v11)
            {
              if (*(v11 + 7) == 2)
              {
                WebCore::Node::removedLastRef(v11);
              }

              else
              {
                *(v11 + 7) -= 2;
              }
            }

            v12 = v16;
            v16 = 0;
            if (v12)
            {
              if (*(v12 + 7) == 2)
              {
                WebCore::Node::removedLastRef(v12);
              }

              else
              {
                *(v12 + 7) -= 2;
              }
            }
          }
        }
      }

      v13 = *(v10 + 224);
      if (v13)
      {
        *(v13 + 7) += 2;
        v14 = WebCore::Document::editor(v13);
        if (*(v13 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v13);
        }

        else
        {
          *(v13 + 7) -= 2;
        }
      }

      else
      {
        v14 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v14);
      WebCore::Editor::setComposition();
      result = WebCore::Editor::deref(v14);
    }

    if (*(v10 + 16) == 1)
    {
      return (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 16);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::setWritingSuggestion(WebKit::WebPage *this, const WTF::String *a2, const EditingRange *a3)
{
  WebKit::WebPage::platformWillPerformEditingCommand(this);
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v5 = result;
    ++*(result + 16);
    v6 = *(result + 224);
    if (v6)
    {
      *(v6 + 7) += 2;
      v7 = WebCore::Document::editor(v6);
      if (*(v6 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v6);
      }

      else
      {
        *(v6 + 7) -= 2;
      }
    }

    else
    {
      v7 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v7);
    WebCore::Editor::setWritingSuggestion();
    result = WebCore::Editor::deref(v7);
    if (v5[4] == 1)
    {
      return (*(*v5 + 8))(v5);
    }

    else
    {
      --v5[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::confirmCompositionAsync(WebKit::WebPage *this)
{
  WebKit::WebPage::platformWillPerformEditingCommand(this);
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v3 = result;
    ++*(result + 16);
    v4 = *(result + 224);
    if (v4)
    {
      *(v4 + 7) += 2;
      v5 = WebCore::Document::editor(v4);
      if (*(v4 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v4);
      }

      else
      {
        *(v4 + 7) -= 2;
      }
    }

    else
    {
      v5 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v5);
    WebCore::Editor::confirmComposition(v5);
    result = WebCore::Editor::deref(v5);
    if (v3[4] == 1)
    {
      v6 = *(*v3 + 8);

      return v6(v3);
    }

    else
    {
      --v3[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::sendEditorStateUpdate(WebKit::WebPage *this)
{
  v34 = *MEMORY[0x1E69E9840];
  *(this + 925) = 1;
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v3 = result;
    ++*(result + 16);
    v4 = *(result + 224);
    if (v4)
    {
      *(v4 + 7) += 2;
      result = WebCore::Document::editor(v4);
      if (*(v4 + 7) == 2)
      {
        v16 = result;
        WebCore::Node::removedLastRef(v4);
        result = v16;
      }

      else
      {
        *(v4 + 7) -= 2;
      }
    }

    else
    {
      result = WebCore::Document::editor(0);
    }

    if ((*(result + 88) & 1) == 0)
    {
      v5 = *(v3 + 224);
      if (v5)
      {
        if (*(v5 + 2024) && (*(v5 + 3564) & 1) == 0)
        {
          *(this + 924) = 0;
          WebKit::WebPage::editorState(this, 0, v19);
          v6 = (*(*(this + 4) + 56))(this + 32);
          v8 = IPC::Encoder::operator new(0x238, v7);
          *v8 = 2243;
          *(v8 + 2) = 0;
          *(v8 + 3) = 0;
          *(v8 + 1) = v6;
          *(v8 + 68) = 0;
          *(v8 + 70) = 0;
          *(v8 + 69) = 0;
          IPC::Encoder::encodeHeader(v8);
          v18 = v8;
          IPC::ArgumentCoder<WebKit::EditorState,void>::encode(v8, v19);
          (*(*(this + 4) + 32))(this + 32, &v18, 0);
          result = v18;
          v18 = 0;
          if (result)
          {
            IPC::Encoder::~Encoder(result, v9);
            result = bmalloc::api::tzoneFree(v14, v15);
          }

          if ((v26 & 1) == 0)
          {
            result = WebKit::WebPage::scheduleFullEditorStateUpdate(this);
          }

          if (v33 == 1)
          {
            v10 = v31;
            if (v31)
            {
              v31 = 0;
              v32 = 0;
              WTF::fastFree(v10, v9);
            }

            v11 = v29;
            if (v29)
            {
              v29 = 0;
              v30 = 0;
              WTF::fastFree(v11, v9);
            }

            result = v27;
            if (v27)
            {
              v27 = 0;
              v28 = 0;
              result = WTF::fastFree(result, v9);
            }
          }

          if (v26 == 1)
          {
            if ((v25 & 0x8000000000000) != 0)
            {
              v17 = (v25 & 0xFFFFFFFFFFFFLL);
              if (atomic_fetch_add((v25 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
              {
                atomic_store(1u, v17);
                WTF::fastFree(v17, v9);
              }
            }

            v12 = v23;
            if (v23)
            {
              v23 = 0;
              v24 = 0;
              WTF::fastFree(v12, v9);
            }

            v13 = v22;
            v22 = 0;
            if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v13, v9);
            }

            result = v21;
            v21 = 0;
            if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              result = WTF::StringImpl::destroy(result, v9);
            }

            if ((v20 & 0x8000000000000) != 0)
            {
              result = v20 & 0xFFFFFFFFFFFFLL;
              if (atomic_fetch_add((v20 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
              {
                atomic_store(1u, result);
                result = WTF::fastFree(result, v9);
              }
            }
          }
        }
      }
    }

    if (*(v3 + 16) == 1)
    {
      return (*(*v3 + 8))(v3);
    }

    else
    {
      --*(v3 + 16);
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::didChangeSelectionOrOverflowScrollPosition(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v3 = result;
    ++result[4];
    v4 = *(result + 28);
    if (v4)
    {
      *(v4 + 7) += 2;
      result = WebCore::Document::editor(v4);
      if (*(v4 + 7) == 2)
      {
        v6 = result;
        WebCore::Node::removedLastRef(v4);
        result = v6;
      }

      else
      {
        *(v4 + 7) -= 2;
      }
    }

    else
    {
      result = WebCore::Document::editor(0);
    }

    if ((result[122] & 1) == 0 && (*(this + 1746) & 1) == 0)
    {
      result = WebKit::WebPage::scheduleFullEditorStateUpdate(this);
    }

    if (v3[4] == 1)
    {
      v5 = *(*v3 + 8);

      return v5(v3);
    }

    else
    {
      --v3[4];
    }
  }

  return result;
}

uint64_t *WebKit::WebPage::didChangeSelection(CFTypeRef *this, WebCore::LocalFrame *a2)
{
  WebKit::WebPage::didChangeSelectionOrOverflowScrollPosition(this);
  if (*(this + 896) == 1 && *(*(*(a2 + 28) + 3208) + 153) == 2)
  {
    *(this + 898) |= 2u;
  }

  v4 = this[7];
  if (v4)
  {
    v5 = v4 + 2;
    ++v4[2];
    WebCore::Page::updateStateForSelectedSuggestionIfNeeded(v4);
    WTF::RefCounted<WebCore::Page>::deref(v5);
  }

  else
  {
    WebCore::Page::updateStateForSelectedSuggestionIfNeeded(0);
  }

  result = WebKit::WebPage::resetLastSelectedReplacementRangeIfNeeded(this);
  v7 = *(this + 1560);
  *(this + 1560) = 0;
  if (v7 == 1)
  {
    CFRetain(this[1]);
    ++*(a2 + 4);
    v8 = WTF::fastMalloc(0x18);
    *v8 = &unk_1F1133FE0;
    v8[1] = this;
    v10[0] = 0;
    v10[1] = 0;
    v8[2] = a2;
    v11 = v8;
    WTF::callOnMainRunLoop();
    v9 = v11;
    v11 = 0;
    if (v9)
    {
      (*(*v9 + 8))(v9);
    }

    return WebKit::WebPage::didChangeSelection(WebCore::LocalFrame &)::$_0::~$_0(v10);
  }

  return result;
}

uint64_t *WebKit::WebPage::didChangeSelection(WebCore::LocalFrame &)::$_0::~$_0(uint64_t *a1)
{
  v2 = a1[1];
  a1[1] = 0;
  if (v2)
  {
    if (v2[4] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[4];
    }
  }

  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return a1;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::ElementDidBlur>(uint64_t a1)
{
  v2 = (*(*a1 + 56))(a1);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2244;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*a1 + 32))(a1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

void WebKit::WebPage::elementDidFocus(WebKit::WebPage *this, WebCore::Element *a2, char *a3)
{
  v49 = *MEMORY[0x1E69E9840];
  v8 = *(this + 190);
  *(this + 190) = v8 & 0xFDFFFFFFFFFFFFLL;
  if ((v8 & 0xFFFFFFFFFFFFLL) != 0)
  {
    WebCore::TimerBase::stopSlowCase((this + 1488));
  }

  if ((*(this + 113) == a2 || *(this + 114) == a2) && *(this + 1240) == 1)
  {
    WebKit::WebPage::updateInputContextAfterBlurringAndRefocusingElementIfNeeded(this, a2);
    *(a2 + 7) += 2;
    v25 = *(this + 113);
    *(this + 113) = a2;
    if (v25)
    {
      if (*(v25 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v25);
      }

      else
      {
        *(v25 + 7) -= 2;
      }
    }

    v26 = *(this + 114);
    *(this + 114) = 0;
    if (v26)
    {
      if (*(v26 + 7) == 2)
      {

        WebCore::Node::removedLastRef(v26);
      }

      else
      {
        *(v26 + 7) -= 2;
      }
    }

    return;
  }

  if (((*(a2 + 16) & 0x10) == 0 || *(*(a2 + 13) + 24) != *(*MEMORY[0x1E69E2DD8] + 24)) && ((*(*a2 + 864))(a2) & 1) == 0 && !WebCore::Node::computeEditability())
  {
    return;
  }

  v9 = *(this + 113);
  *(a2 + 7) += 2;
  *(this + 113) = a2;
  if (v9)
  {
    if (*(v9 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v9);
    }

    else
    {
      *(v9 + 7) -= 2;
    }
  }

  *(this + 920) = 0;
  v10 = WebCore::Document::fullscreen(*(*(a2 + 6) + 8));
  if (WebCore::DocumentFullscreen::fullscreenElement(v10))
  {
    if ((*(a2 + 16) & 0x10) != 0)
    {
      v27 = *(*(a2 + 13) + 24);
      if (v27 == *(*MEMORY[0x1E69E2C70] + 24))
      {
        *(a2 + 7) += 2;
        isTextField = WebCore::HTMLInputElement::isTextField(a2);
        v29 = isTextField;
        if (*(a2 + 7) == 2)
        {
          WebCore::Node::removedLastRef(a2);
          if ((v29 & 1) == 0)
          {
            goto LABEL_10;
          }
        }

        else
        {
          *(a2 + 7) -= 2;
          if (!isTextField)
          {
            goto LABEL_10;
          }
        }

LABEL_53:
        v30 = WebCore::Document::fullscreen(*(*(a2 + 6) + 8));
        WebCore::DocumentFullscreen::fullyExitFullscreen(v30);
        goto LABEL_10;
      }

      if (v27 == *(*MEMORY[0x1E69E2910] + 24))
      {
        goto LABEL_53;
      }
    }

    if (!WebCore::Node::computeEditability())
    {
      goto LABEL_10;
    }

    goto LABEL_53;
  }

LABEL_10:
  if (v9 != a2 && ((*(this + 896) & 1) != 0 || *(this + 1420) == 1))
  {
    *(this + 1560) = 1;
  }

  WebKit::WebPage::focusedElementInformation(this, v47);
  if (v48 == 1)
  {
    v45 = 0;
    v11 = *(this + 47);
    WebKit::WebFrame::fromCoreFrame(*(*(*(*(a2 + 6) + 8) + 552) + 8), &v39);
    v12 = v39;
    (*(*v11 + 96))(v11, this, a2, v39, *(this + 896), &v45);
    if (v12)
    {
      CFRelease(*(v12 + 1));
    }

    if (!v45)
    {
      WebCore::Element::userInfo(&v39, a2);
      if (v39)
      {
        WebCore::Element::userInfo(&v44, a2);
        WTF::JSONImpl::Value::parseJSON();
        v31 = v44;
        v44 = 0;
        if (v31 && atomic_fetch_add_explicit(v31, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v31, v13);
        }

        if (v46)
        {
          WebKit::userDataFromJSONData(v46, v13, &v44);
          v33 = v44;
          v32 = v45;
          v44 = 0;
          v45 = v33;
          if (v32)
          {
            CFRelease(*(v32 + 1));
            v37 = v44;
            v44 = 0;
            if (v37)
            {
              CFRelease(*(v37 + 1));
            }
          }

          v34 = v46;
          v46 = 0;
          if (v34)
          {
            if (*v34 == 1)
            {
              WTF::JSONImpl::Value::operator delete();
            }

            else
            {
              --*v34;
            }
          }
        }

        v35 = v39;
        v39 = 0;
        if (v35 && atomic_fetch_add_explicit(v35, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v35, v13);
        }
      }
    }

    if (v48)
    {
      v47[377] = a3[5];
      a3 = this + 32;
      LOBYTE(v12) = *(this + 896);
      v3 = *(this + 114);
      a2 = (this + 900);
      {
        v36 = WebKit::WebProcess::operator new(0x370, v13);
        WebKit::WebProcess::singleton(void)::process = WebKit::WebProcess::WebProcess(v36);
      }

      v11 = &v39;
      v39 = &unk_1F1122420;
      WebKit::UserData::transform(v45, &v39, &v38);
      v4 = v38;
      if (!v38)
      {
        goto LABEL_20;
      }
    }

    else
    {
      __break(1u);
    }

    CFRetain(v4[1]);
LABEL_20:
    v39 = v47;
    v40 = v12;
    v41 = v3 != 0;
    v42 = a2;
    v43 = &v44;
    v44 = v4;
    v14 = (*(*a3 + 56))(a3);
    v16 = IPC::Encoder::operator new(0x238, v15);
    *v16 = 2245;
    *(v16 + 2) = 0;
    *(v16 + 3) = 0;
    *(v16 + 1) = v14;
    *(v16 + 68) = 0;
    *(v16 + 70) = 0;
    *(v16 + 69) = 0;
    IPC::Encoder::encodeHeader(v16);
    v46 = v16;
    IPC::ArgumentCoder<WebKit::FocusedElementInformation,void>::encode(v16, v47);
    IPC::Encoder::operator<<<BOOL &>(v16, v11 + 8);
    IPC::Encoder::operator<<<BOOL &>(v16, v11 + 9);
    IPC::ArgumentCoder<unsigned short,void>::encode<IPC::Encoder>(v16, *v42);
    IPC::ArgumentCoder<WebKit::UserData,void>::encode(v16, v43);
    (*(*a3 + 32))(a3, &v46, 0);
    v18 = v46;
    v46 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v17);
      bmalloc::api::tzoneFree(v23, v24);
    }

    v19 = v44;
    v44 = 0;
    if (v19)
    {
      CFRelease(*(v19 + 1));
    }

    v20 = v38;
    v38 = 0;
    if (v20)
    {
      CFRelease(*(v20 + 1));
    }

    v21 = *(this + 114);
    *(this + 114) = 0;
    if (v21)
    {
      if (*(v21 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v21);
      }

      else
      {
        *(v21 + 7) -= 2;
      }
    }

    v22 = v45;
    v45 = 0;
    if (v22)
    {
      CFRelease(*(v22 + 1));
    }

    if (v48)
    {
      WebKit::FocusedElementInformation::~FocusedElementInformation(v47, v17);
    }
  }
}

WebCore::Node **WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>>::operator=(WebCore::Node **result, WebCore::Node **a2)
{
  v2 = *a2;
  *a2 = 0;
  v3 = *result;
  *result = v2;
  if (v3)
  {
    if (*(v3 + 7) == 2)
    {
      v4 = result;
      WebCore::Node::removedLastRef(v3);
      return v4;
    }

    else
    {
      *(v3 + 7) -= 2;
    }
  }

  return result;
}

uint64_t WebKit::WebPage::elementDidBlur(uint64_t this, WebCore::Element *a2)
{
  if (*(this + 904) == a2)
  {
    v2 = this;
    WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>>::operator=((this + 912), (this + 904));
    CFRetain(*(v2 + 8));
    v3 = WTF::fastMalloc(0x10);
    *v3 = &unk_1F1134008;
    v3[1] = v2;
    v4 = v3;
    WTF::callOnMainRunLoop();
    this = v4;
    if (v4)
    {
      this = (*(*v4 + 8))(v4);
    }

    *(v2 + 920) = 0;
    *(v2 + 1560) = 0;
  }

  return this;
}

uint64_t WebKit::WebPage::focusedElementDidChangeInputMode(uint64_t result, WebKit *this, char a3)
{
  if (*(result + 904) == this)
  {
    v15[5] = v3;
    v15[6] = v4;
    v6 = result;
    result = WebKit::isTextFormControlOrEditableContent(this, this);
    if (result)
    {
      v8 = *(v6 + 32);
      v7 = v6 + 32;
      v9 = (*(v8 + 56))(v7);
      v11 = IPC::Encoder::operator new(0x238, v10);
      *v11 = 2256;
      *(v11 + 2) = 0;
      *(v11 + 3) = 0;
      *(v11 + 1) = v9;
      *(v11 + 68) = 0;
      *(v11 + 70) = 0;
      *(v11 + 69) = 0;
      IPC::Encoder::encodeHeader(v11);
      v15[0] = v11;
      IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v11, a3);
      (*(*v7 + 32))(v7, v15, 0);
      result = v15[0];
      v15[0] = 0;
      if (result)
      {
        IPC::Encoder::~Encoder(result, v12);
        return bmalloc::api::tzoneFree(v13, v14);
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::didEndUserTriggeredSelectionChanges(WebKit::WebPage *this)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(this + 7) + 80));
  if (result)
  {
    v3 = result;
    ++*(result + 16);
    v4 = *(result + 224);
    if (v4)
    {
      *(v4 + 7) += 2;
      result = WebCore::Document::editor(v4);
      if (*(v4 + 7) == 2)
      {
        v6 = result;
        WebCore::Node::removedLastRef(v4);
        result = v6;
      }

      else
      {
        *(v4 + 7) -= 2;
      }
    }

    else
    {
      result = WebCore::Document::editor(0);
    }

    if ((*(result + 88) & 1) == 0)
    {
      result = WebKit::WebPage::sendEditorStateUpdate(this);
    }

    if (v3[4] == 1)
    {
      v5 = *(*v3 + 8);

      return v5(v3);
    }

    else
    {
      --v3[4];
    }
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::discardedComposition(WebKit::WebPage *this, const WebCore::Document *a2)
{
  v4 = this + 32;
  v5 = (*(*(this + 4) + 56))(this + 32);
  v7 = IPC::Encoder::operator new(0x238, v6);
  *v7 = 2164;
  *(v7 + 2) = 0;
  *(v7 + 3) = 0;
  *(v7 + 1) = v5;
  *(v7 + 68) = 0;
  *(v7 + 70) = 0;
  *(v7 + 69) = 0;
  IPC::Encoder::encodeHeader(v7);
  v12 = v7;
  (*(*v4 + 32))(v4, &v12, 0);
  result = v12;
  v12 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v8);
    result = bmalloc::api::tzoneFree(v10, v11);
  }

  if (*(a2 + 253))
  {
    if ((*(a2 + 3564) & 1) == 0)
    {
      return WebKit::WebPage::sendEditorStateUpdate(this);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::canceledComposition(WebKit::WebPage *this)
{
  v2 = this + 32;
  v3 = (*(*(this + 4) + 56))(this + 32);
  v5 = IPC::Encoder::operator new(0x238, v4);
  *v5 = 2164;
  *(v5 + 2) = 0;
  *(v5 + 3) = 0;
  *(v5 + 1) = v3;
  *(v5 + 68) = 0;
  *(v5 + 70) = 0;
  *(v5 + 69) = 0;
  IPC::Encoder::encodeHeader(v5);
  v11 = v5;
  (*(*v2 + 32))(v2, &v11, 0);
  v7 = v11;
  v11 = 0;
  if (v7)
  {
    IPC::Encoder::~Encoder(v7, v6);
    bmalloc::api::tzoneFree(v9, v10);
  }

  return WebKit::WebPage::sendEditorStateUpdate(this);
}

uint64_t WebKit::WebPage::navigateServiceWorkerClient(WebCore::Document *a1, unint64_t *a2, uint64_t a3, uint64_t *a4)
{
  v6 = WebCore::Document::allDocumentsMap(a1);
  v7 = WTF::HashTable<WebCore::ProcessQualified<WTF::UUID>,WTF::KeyValuePair<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashMap<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::FastMalloc>::lookup<WTF::HashMapTranslatorAdapter<WTF::HashMap<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::IdentityHashTranslator<WTF::HashMap<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>>>,(WTF::ShouldValidateKey)1,WebCore::ProcessQualified<WTF::UUID>>(v6, a2);
  if (v7 && (v8 = v7[4]) != 0 && (v9 = *(v8 + 8)) != 0)
  {
    *(v9 + 7) += 2;
    result = WebCore::Document::navigateFromServiceWorker();
    if (*(v9 + 7) == 2)
    {

      return WebCore::Node::removedLastRef(v9);
    }

    else
    {
      *(v9 + 7) -= 2;
    }
  }

  else
  {
    v11 = *a4;
    *a4 = 0;
    (*(*v11 + 16))(v11, 0);
    v12 = *(*v11 + 8);

    return v12(v11);
  }

  return result;
}

uint64_t WebKit::WebPage::setAlwaysShowsHorizontalScroller(uint64_t this, int a2)
{
  if (*(this + 205) == a2)
  {
    return this;
  }

  v9[5] = v2;
  v9[6] = v3;
  v4 = a2;
  *(this + 205) = a2;
  v5 = *(this + 56);
  if (v5)
  {
    ++*(v5 + 2);
  }

  WebCore::Page::protectedMainFrame(v9, v5);
  v6 = (*(*v9[0] + 56))(v9[0]);
  v7 = v6;
  if (v6)
  {
    ++*(v6 + 8);
  }

  v8 = v9[0];
  v9[0] = 0;
  if (v8)
  {
    if (v8[4] == 1)
    {
      (*(*v8 + 8))(v8);
      if (!v5)
      {
        goto LABEL_11;
      }

      goto LABEL_10;
    }

    --v8[4];
  }

  if (v5)
  {
LABEL_10:
    WTF::RefCounted<WebCore::Page>::deref(v5 + 2);
  }

LABEL_11:
  if (v4)
  {
    this = WebCore::ScrollView::setHorizontalScrollbarMode();
    if (!v7)
    {
      return this;
    }
  }

  else
  {
    *(v7 + 313) = 0;
    this = WebCore::ScrollView::setHorizontalScrollbarMode();
  }

  if (*(v7 + 8) == 1)
  {
    return (*(*v7 + 8))(v7);
  }

  --*(v7 + 8);
  return this;
}

uint64_t WebKit::WebPage::setAlwaysShowsVerticalScroller(uint64_t this, int a2)
{
  if (*(this + 206) == a2)
  {
    return this;
  }

  v9[5] = v2;
  v9[6] = v3;
  v4 = a2;
  *(this + 206) = a2;
  v5 = *(this + 56);
  if (v5)
  {
    ++*(v5 + 2);
  }

  WebCore::Page::protectedMainFrame(v9, v5);
  v6 = (*(*v9[0] + 56))(v9[0]);
  v7 = v6;
  if (v6)
  {
    ++*(v6 + 8);
  }

  v8 = v9[0];
  v9[0] = 0;
  if (v8)
  {
    if (v8[4] == 1)
    {
      (*(*v8 + 8))(v8);
      if (!v5)
      {
        goto LABEL_11;
      }

      goto LABEL_10;
    }

    --v8[4];
  }

  if (v5)
  {
LABEL_10:
    WTF::RefCounted<WebCore::Page>::deref(v5 + 2);
  }

LABEL_11:
  if (v4)
  {
    this = WebCore::ScrollView::setVerticalScrollbarMode();
    if (!v7)
    {
      return this;
    }
  }

  else
  {
    *(v7 + 314) = 0;
    this = WebCore::ScrollView::setVerticalScrollbarMode();
  }

  if (*(v7 + 8) == 1)
  {
    return (*(*v7 + 8))(v7);
  }

  --*(v7 + 8);
  return this;
}

WebKit::WebPage *WebKit::WebPage::setSelectTrailingWhitespaceEnabled(WebKit::WebPage *this, int a2)
{
  v2 = *(*(this + 7) + 120);
  v3 = *(v2 + 712);
  if (v3 < 0 != a2)
  {
    v4 = 0x80000000;
    if (!a2)
    {
      v4 = 0;
    }

    *(v2 + 712) = v3 & 0xFFFFFFFF7FFFFFFFLL | v4;
    return WebKit::WebPage::setSmartInsertDeleteEnabled(this, a2 != 1);
  }

  return this;
}

uint64_t WebKit::WebPage::canShowResponse(WebKit::WebPage *this, const WebCore::ResourceResponse *a2)
{
  v4 = WebCore::ResourceResponseBase::mimeType(a2);
  v5 = WTF::fastMalloc(0x18);
  *v5 = &unk_1F1134030;
  v5[1] = this;
  v5[2] = a2;
  v8 = v5;
  canShowMIMEType = WebKit::WebPage::canShowMIMEType(this, v4, &v8);
  (*(*v5 + 8))(v5);
  return canShowMIMEType;
}

uint64_t WebKit::WebPage::canShowMIMEType(uint64_t a1, WebCore::MIMETypeRegistry *this, uint64_t a3)
{
  if ((WebCore::MIMETypeRegistry::canShowMIMEType(this, this) & 1) != 0 || *this && *(a1 + 1688) && WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::ASCIICaseInsensitiveHash,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashTraits<WTF::String>,WTF::ASCIICaseInsensitiveHash>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 1688), this))
  {
    return 1;
  }

  v7 = *(**a3 + 16);

  return v7();
}

uint64_t WebKit::WebPage::canShowMIMEType(WebKit::WebPage *this, const WTF::String *a2)
{
  v4 = WTF::fastMalloc(0x10);
  *v4 = &unk_1F1134058;
  v4[1] = this;
  v7 = v4;
  canShowMIMEType = WebKit::WebPage::canShowMIMEType(this, a2, &v7);
  (*(*v4 + 8))(v4);
  return canShowMIMEType;
}

uint64_t *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WTF::Ref<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>@<X0>(uint64_t *result@<X0>, uint64_t *a2@<X1>, uint64_t *a3@<X2>, uint64_t a4@<X8>)
{
  v5 = *a2;
  if (*a2 == -1 || !v5)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3FA300);
  }

  v8 = result;
  v9 = *result;
  if (!*result)
  {
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(result, 0);
    v9 = *v8;
    v5 = *a2;
  }

  v10 = *(v9 - 8);
  v11 = (v5 + ~(v5 << 32)) ^ ((v5 + ~(v5 << 32)) >> 22);
  v12 = 9 * ((v11 + ~(v11 << 13)) ^ ((v11 + ~(v11 << 13)) >> 8));
  v13 = (v12 ^ (v12 >> 15)) + ~((v12 ^ (v12 >> 15)) << 27);
  v14 = v10 & ((v13 >> 31) ^ v13);
  v15 = (v9 + 16 * v14);
  v16 = *v15;
  if (*v15)
  {
    v17 = 0;
    v18 = 1;
    do
    {
      if (v16 == v5)
      {
        v22 = 0;
        v23 = v9 + 16 * *(v9 - 4);
        goto LABEL_26;
      }

      if (v16 == -1)
      {
        v17 = v15;
      }

      v14 = (v14 + v18) & v10;
      v15 = (v9 + 16 * v14);
      v16 = *v15;
      ++v18;
    }

    while (*v15);
    if (v17)
    {
      *v17 = 0;
      v17[1] = 0;
      --*(*v8 - 16);
      v5 = *a2;
      v15 = v17;
    }
  }

  *v15 = v5;
  v19 = *a3;
  *a3 = 0;
  result = v15[1];
  v15[1] = v19;
  if (result)
  {
    if (*(result + 2) == 1)
    {
      result = (*(*result + 8))(result);
    }

    else
    {
      --*(result + 2);
    }
  }

  v20 = *v8;
  if (*v8)
  {
    v21 = *(v20 - 12) + 1;
  }

  else
  {
    v21 = 1;
  }

  *(v20 - 12) = v21;
  v24 = (*(v20 - 16) + v21);
  v25 = *(v20 - 4);
  if (v25 > 0x400)
  {
    if (v25 <= 2 * v24)
    {
LABEL_22:
      result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(v8, v15);
      v15 = result;
      v20 = *v8;
      if (*v8)
      {
        v25 = *(v20 - 4);
      }

      else
      {
        v25 = 0;
      }
    }
  }

  else if (3 * v25 <= 4 * v24)
  {
    goto LABEL_22;
  }

  v23 = v20 + 16 * v25;
  v22 = 1;
LABEL_26:
  *a4 = v15;
  *(a4 + 8) = v23;
  *(a4 + 16) = v22;
  return result;
}

uint64_t *WebKit::WebPage::didFinishCheckingText(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4 = (a1 + 120);
  v5 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( *(a1 + 120),  a2);
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::take(&v9, v4, v5);
  v7 = v9;
  if (v9)
  {
    result = (*(*v9 + 24))(v9, a3);
    if (v7[2] == 1)
    {
      v8 = *(*v7 + 8);

      return v8(v7);
    }

    else
    {
      --v7[2];
    }
  }

  return result;
}

uint64_t *WebKit::WebPage::didCancelCheckingText(uint64_t a1, uint64_t a2)
{
  v2 = (a1 + 120);
  v3 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( *(a1 + 120),  a2);
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::take(&v7, v2, v3);
  v5 = v7;
  if (v7)
  {
    result = (*(*v7 + 32))(v7);
    if (v5[2] == 1)
    {
      v6 = *(*v5 + 8);

      return v6(v5);
    }

    else
    {
      --v5[2];
    }
  }

  return result;
}

void WebKit::WebPage::willReplaceMultipartContent(WebKit::WebPage *this, const WebKit::WebFrame *a2)
{
  if (WebKit::WebFrame::isMainFrame(a2))
  {
    v3 = *(this + 9);
    if (v3)
    {
      ++v3[4];
    }

    *(this + 360) = (*(*v3 + 176))(v3);
    *(this + 361) = v4;
    *(this + 362) = v5;
    *(this + 363) = v6;
    if (v3[4] == 1)
    {
      v7 = *(*v3 + 24);

      v7(v3);
    }

    else
    {
      --v3[4];
    }
  }
}

uint64_t WebKit::WebPage::didReplaceMultipartContent(WebKit::WebPage *this, const WebKit::WebFrame *a2)
{
  result = WebKit::WebFrame::isMainFrame(a2);
  if (result)
  {
    v4 = *(this + 9);
    if (v4)
    {
      ++v4[4];
    }

    result = (*(*v4 + 184))(v4, this + 1440);
    if (v4[4] == 1)
    {
      v5 = *(*v4 + 24);

      return v5(v4);
    }

    else
    {
      --v4[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::didCommitLoad(WebKit::WebPage *this, WebKit::WebFrame *a2)
{
  v70 = *MEMORY[0x1E69E9840];
  v4 = *(this + 9);
  if (v4)
  {
    ++*(v4 + 16);
  }

  if (*(v4 + 32))
  {
    result = 96;
    __break(0xC471u);
    goto LABEL_114;
  }

  v5 = *(v4 + 256);
  v6 = *(v4 + 248) + 1;
  if (*(v4 + 16) == 1)
  {
    (*(*v4 + 24))(v4);
  }

  else
  {
    --*(v4 + 16);
  }

  v7 = *(a2 + 120);
  *(a2 + 13) = v6;
  *(a2 + 14) = v5;
  if ((v7 & 1) == 0)
  {
    *(a2 + 120) = 1;
  }

  WebKit::WebPage::cancelPotentialTapInFrame(this, a2);
  if (*(this + 113))
  {
    if (WebKit::WebFrame::isMainFrame(a2))
    {
      goto LABEL_80;
    }

    v8 = *(*(*(*(this + 113) + 48) + 8) + 552);
    if (v8)
    {
      v8 = *(v8 + 8);
    }

    v9 = *(a2 + 5);
    if (v9)
    {
      v9 = *(v9 + 8);
      if (v9)
      {
        if (*(v9 + 136))
        {
          v9 = 0;
        }
      }
    }

    if (v8 == v9)
    {
LABEL_80:
      *(this + 1560) = 0;
      IPC::MessageSender::send<Messages::WebPageProxy::ElementDidBlur>(this + 32);
      v51 = *(this + 113);
      *(this + 113) = 0;
      if (v51)
      {
        if (*(v51 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v51);
        }

        else
        {
          *(v51 + 7) -= 2;
        }
      }
    }
  }

  if (WebKit::WebFrame::isMainFrame(a2))
  {
    *(this + 2040) = 0;
    goto LABEL_19;
  }

  if (*(this + 2040) != 1)
  {
    goto LABEL_19;
  }

  v59 = *(a2 + 5);
  if (!v59)
  {
    goto LABEL_109;
  }

  v60 = *(v59 + 8);
  if (!v60)
  {
    goto LABEL_97;
  }

  if (*(v60 + 136))
  {
LABEL_109:
    v60 = 0;
  }

  else
  {
    ++*(v60 + 16);
  }

LABEL_97:
  WebKit::WebPage::startTextManipulationForFrame(this, v60);
  if (*(v60 + 16) == 1)
  {
    (*(*v60 + 8))(v60);
  }

  else
  {
    --*(v60 + 16);
  }

LABEL_19:
  result = WebKit::WebFrame::isRootFrame(a2);
  if (!result)
  {
    return result;
  }

  v11 = *(this + 9);
  if (v11)
  {
    ++v11[4];
    (*(*v11 + 80))(v11);
    if (v11[4] == 1)
    {
      (*(*v11 + 24))(v11);
    }

    else
    {
      --v11[4];
    }
  }

  WebKit::WebPage::unfreezeLayerTree(this, 32);
  v13 = *(this + 523);
  if (v13)
  {
    v52 = *(this + 260);
    v53 = v52 + 24 * v13;
    do
    {
      v54 = *(v52 + 20);
      if (v54)
      {
        v55 = *(v52 + 8);
        v56 = 8 * v54;
        do
        {
          *buf = 0;
          v57 = *v55;
          *v55 = 0;
          (*(*v57 + 16))(v57, buf);
          (*(*v57 + 8))(v57);
          v58 = *buf;
          *buf = 0;
          if (v58)
          {
            if (*(v58 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v58);
            }

            else
            {
              *(v58 + 7) -= 2;
            }
          }

          ++v55;
          v56 -= 8;
        }

        while (v56);
      }

      v52 += 24;
    }

    while (v52 != v53);
  }

  WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::shrinkCapacity(this + 2080, v12);
  v15 = *(this + 5);
  v16 = *(v15 + 328);
  if (v16)
  {
    *(v15 + 328) = 0;
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v16, v14);
  }

  v17 = *(*(a2 + 5) + 8);
  if (*(v17 + 136))
  {
    v18 = 0;
  }

  else
  {
    v18 = *(*(a2 + 5) + 8);
  }

  if (*(*(v18 + 208) + 360))
  {
    WebKit::WebPage::reportUsedFeatures(this);
    v17 = *(*(a2 + 5) + 8);
    if (*(v17 + 136))
    {
      v17 = 0;
    }
  }

  if (!WebCore::FrameLoader::loadType(*(v17 + 208)))
  {
    v19 = *(*(a2 + 5) + 8);
    if (*(v19 + 136))
    {
      v19 = 0;
    }

    v20 = *(v19 + 24);
    if (v20)
    {
      v21 = *(v20 + 8);
      if (v21)
      {
        v23 = *(v21 + 8);
        v22 = v21 + 8;
        *v22 = v23 + 1;
        if (*(v22 + 308) != 1.0)
        {
          *buf = 0;
          WebKit::WebPage::scalePage(this, 1.0, buf);
        }

        WTF::RefCounted<WebCore::Page>::deref(v22);
      }
    }
  }

  PAL::HysteresisActivity::cancel((this + 696));
  *(this + 1949) = 0;
  v24 = *(this + 196);
  *(this + 196) = 0;
  std::unique_ptr<WebCore::IgnoreSelectionChangeForScope>::reset[abi:sn200100](this + 196, 0);
  if (v24)
  {
    WebCore::TemporarySelectionChange::invalidate(v24);
    v61 = MEMORY[0x19EB0CBC0](v24);
    bmalloc::api::tzoneFree(v61, v62);
  }

  *(this + 1560) = 0;
  *(this + 640) = 0;
  v25 = *(this + 5);
  v26 = *(v25 + 128);
  *(v25 + 112) = v6;
  *(v25 + 120) = v5;
  if ((v26 & 1) == 0)
  {
    *(v25 + 128) = 1;
  }

  *(this + 641) = 0;
  *(this + 162) = 0x3F91111111111111;
  *(this + 1286) = 1;
  v27 = *(this + 5);
  if (*(v27 + 160) == 1)
  {
    *(v27 + 160) = 0;
  }

  buf[0] = 0;
  v69 = 0;
  std::__optional_storage_base<WebCore::WeakSimpleRange,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::WeakSimpleRange,false>>(this + 1376, buf);
  std::optional<WebCore::WeakSimpleRange>::~optional(buf, v28);
  *(this + 1245) = 0;
  WebKit::WebPage::invokePendingSyntheticClickCallback(this);
  v29 = WTF::fastMalloc(0xB0);
  *v29 = v29 + 16;
  *(v29 + 1) = 1;
  v65 = v29;
  v31 = WebKit::WebProcess::singleton(v29, v30);
  WebKit::EventDispatcher::takeQueuedTouchEventsForPage(v31 + 160, this, &v65);
  WebKit::WebPage::cancelAsynchronousTouchEvents(this, &v65);
  *(this + 1580) = 0;
  *(this + 1588) = 0;
  *(this + 1577) = 0;
  v32 = *(a2 + 5);
  if (!v32)
  {
    goto LABEL_106;
  }

  v33 = *(v32 + 8);
  if (v33)
  {
    if ((*(v33 + 136) & 1) == 0)
    {
      ++*(v33 + 16);
      goto LABEL_50;
    }

LABEL_106:
    v33 = 0;
  }

LABEL_50:
  WebKit::WebPage::resetViewportDefaultConfiguration(this, a2, 0);
  shouldIgnoreMetaViewport = WebKit::WebPage::shouldIgnoreMetaViewport(this);
  WebKit::setCanIgnoreViewportArgumentsToAvoidExcessiveZoomIfNeeded(this + 116, v33, shouldIgnoreMetaViewport);
  WebKit::setCanIgnoreViewportArgumentsToAvoidEnlargedViewIfNeeded(this + 116, v33, v35);
  *(this + 1163) = WebKit::WebPage::shouldEnableViewportBehaviorsForResizableWindows(this);
  *buf = WebCore::ScrollView::contentsSize(*(v33 + 216));
  v36 = WebCore::ViewportConfiguration::setContentsSize((this + 928), buf);
  WebCore::Document::viewportArguments(buf, *(v33 + 224));
  v37 = WebCore::ViewportConfiguration::setViewportArguments();
  IsKnownToLayOutWiderThanViewport = WebCore::ViewportConfiguration::setIsKnownToLayOutWiderThanViewport((this + 928));
  if ((IsKnownToLayOutWiderThanViewport & 1) != 0 || (v37 & 1) != 0 || v36)
  {
    IsKnownToLayOutWiderThanViewport = WebKit::WebPage::viewportConfigurationChanged(this, 0);
  }

  if ((*(this + 238) & 0xFFFFFFFFFFFFLL) != 0)
  {
    IsKnownToLayOutWiderThanViewport = WebCore::TimerBase::stopSlowCase((this + 1872));
  }

  WTF::WallTime::now(IsKnownToLayOutWiderThanViewport);
  *(this + 219) = v39;
  v40 = *(this + 249);
  *(this + 249) = v40 & 0xFDFFFFFFFFFFFFLL;
  if ((v40 & 0xFFFFFFFFFFFFLL) != 0)
  {
    WebCore::TimerBase::stopSlowCase((this + 1960));
  }

  *(this + 2024) = 0;
  v41 = WebKit::WebPage::removeReasonsToDisallowLayoutViewportHeightExpansion(this, *(this + 1953));
  v43 = *(v33 + 120);
  if (v43)
  {
    v43 = *(v43 + 8);
  }

  if (v43 != v33)
  {
    goto LABEL_74;
  }

  result = WebKit::WebProcess::singleton(v41, v42);
  if ((*(result + 712) & 1) == 0)
  {
LABEL_114:
    __break(1u);
    return result;
  }

  if (*(result + 704) >= -1)
  {
    v44 = *(v33 + 224);
    if (v44)
    {
      *(v44 + 7) += 2;
    }

    v45 = WebCore::Document::loader(v44);
    v46 = v45;
    if (v45)
    {
      ++*(v45 + 24);
    }

    if (v44)
    {
      if (*(v44 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v44);
      }

      else
      {
        *(v44 + 7) -= 2;
      }
    }

    if (v46)
    {
      if (*(v46 + 3546))
      {
        v63 = qword_1ED640810;
        if (os_log_type_enabled(qword_1ED640810, OS_LOG_TYPE_DEFAULT))
        {
          v64 = *(this + 6);
          *buf = 134218240;
          *&buf[4] = this;
          v67 = 2048;
          v68 = v64;
          _os_log_impl(&dword_19D52D000, v63, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::didCommitLoad: advanced privacy protections enabled in non-ephemeral session", buf, 0x16u);
        }
      }

      if (*(v46 + 24) == 1)
      {
        (*(*v46 + 24))(v46);
      }

      else
      {
        --*(v46 + 24);
      }
    }
  }

LABEL_74:
  *(this + 921) = 1;
  v47 = *(this + 254);
  *(this + 254) = 0;
  if (v47)
  {
    v47 = WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v47, v42);
  }

  v48 = WebKit::WebProcess::singleton(v47, v42);
  WTF::isIntegralOrPointerType(v48);
  WebKit::WebPage::updateMainFrameScrollOffsetPinning(this);
  WebKit::WebPage::updateMockAccessibilityElementAfterCommittingLoad(this);
  WTF::WeakHashSet<WebCore::HTMLImageElement,WebCore::WeakPtrImplWithEventTargetData,(WTF::EnableWeakPtrThreadingAssertions)1>::clear(this + 2112, v49);
  *(this + 1592) = 0;
  *(this + 1823) = 1;
  WebKit::WebPage::flushDeferredDidReceiveMouseEvent(this);
  if (*(v33 + 16) == 1)
  {
    (*(*v33 + 8))(v33);
  }

  else
  {
    --*(v33 + 16);
  }

  return WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~UniqueRef(&v65, v50);
}

uint64_t WebKit::WebPage::startTextManipulationForFrame(uint64_t this, WebCore::Frame *a2)
{
  if ((*(a2 + 136) & 1) == 0)
  {
    ++*(a2 + 4);
    v3 = *(a2 + 28);
    if (!v3)
    {
      goto LABEL_26;
    }

    v4 = *(v3 + 28);
    *(v3 + 28) = v4 + 2;
    if (!*(v3 + 3184))
    {
      v5 = this;
      v6 = *(this + 40);
      if ((*(v6 + 424) & 1) == 0)
      {
        __break(1u);
        goto LABEL_31;
      }

      v7 = *(v6 + 420);
      v20 = 0;
      v21 = 0;
      v22 = v7;
      if (v7)
      {
        if (v7 >> 27)
        {
          __break(0xC471u);
          return this;
        }

        v8 = WTF::fastMalloc((32 * v7));
        v21 = v7;
        v20 = v8;
        v9 = *(v6 + 420);
        if (v9)
        {
          v10 = (v8 + 24);
          v11 = (*(v6 + 408) + 24);
          v12 = 32 * v9;
          do
          {
            *(v10 - 24) = *(v11 - 24);
            *(v10 - 16) = 0;
            *v10 = -1;
            v13 = *v11;
            if (v13 != 255)
            {
              v14 = *(v11 - 2);
              if (v13 == 1)
              {
                if (v14)
                {
                  atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
                }

                *(v10 - 2) = v14;
                v15 = *(v11 - 1);
                if (v15)
                {
                  atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
                }

                *(v10 - 1) = v15;
              }

              else
              {
                if (v14)
                {
                  atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
                }

                *(v10 - 2) = v14;
              }

              *v10 = *v11;
            }

            v10 += 32;
            v11 += 32;
            v12 -= 32;
          }

          while (v12);
        }
      }

      WebCore::Document::textManipulationController(v3);
      WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v5 + 24), v5 + 16);
      v16 = *(v5 + 24);
      atomic_fetch_add(v16, 1u);
      v17 = WTF::fastMalloc(0x10);
      *v17 = &unk_1F1134288;
      v17[1] = v16;
      v19 = v17;
      WebCore::TextManipulationController::startObservingParagraphs();
      if (v19)
      {
        (*(*v19 + 8))(v19);
      }

      this = WTF::Vector<WebCore::TextManipulationControllerExclusionRule,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v20, v18);
      v4 = *(v3 + 28) - 2;
    }

    if (v4)
    {
      *(v3 + 28) = v4;
      goto LABEL_26;
    }

LABEL_31:
    this = WebCore::Node::removedLastRef(v3);
LABEL_26:
    if (*(a2 + 4) == 1)
    {
      return (*(*a2 + 8))(a2);
    }

    else
    {
      --*(a2 + 4);
    }
  }

  return this;
}

WTF::StringImpl **WebKit::WebPage::clearLoadedSubresourceDomains(WebKit::WebPage *this, WTF::StringImpl *a2)
{
  v2 = *(this + 5);
  result = *(v2 + 328);
  if (result)
  {
    *(v2 + 328) = 0;
    return WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  return result;
}

void *WebKit::setCanIgnoreViewportArgumentsToAvoidExcessiveZoomIfNeeded(void *this, WebCore::ViewportConfiguration *a2, WebCore::LocalFrame *a3)
{
  if (a2)
  {
    v3 = this;
    this = *(a2 + 28);
    if (this)
    {
      v4 = a3;
      v5 = this[91];
      if (!v5)
      {
        v5 = WebCore::Document::ensureQuirks(this);
      }

      this = WebCore::Quirks::shouldIgnoreViewportArgumentsToAvoidExcessiveZoom(v5);
      if (this)
      {
        *(v3 + 236) = v4;
      }
    }
  }

  return this;
}

void *WebKit::setCanIgnoreViewportArgumentsToAvoidEnlargedViewIfNeeded(void *this, WebCore::ViewportConfiguration *a2, WebCore::LocalFrame *a3)
{
  if (a2)
  {
    v3 = this;
    this = *(a2 + 28);
    if (this)
    {
      v4 = this[91];
      if (!v4)
      {
        v4 = WebCore::Document::ensureQuirks(this);
      }

      this = WebCore::Quirks::shouldIgnoreViewportArgumentsToAvoidEnlargedView(v4);
      if (this)
      {
        *(v3 + 237) = 1;
      }
    }
  }

  return this;
}

atomic_uint **WTF::WeakHashSet<WebCore::HTMLImageElement,WebCore::WeakPtrImplWithEventTargetData,(WTF::EnableWeakPtrThreadingAssertions)1>::clear(uint64_t a1, void *a2)
{
  result = *a1;
  if (result)
  {
    *a1 = 0;
    result = WTF::HashTable<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::HashTraits<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::HashTraits<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::FastMalloc>::deallocateTable(result, a2);
    v4 = *a1;
    *(a1 + 8) = 0;
    if (v4)
    {
      LODWORD(v4) = *(v4 - 3);
      if (v4 > 0x7FFFFFFE)
      {
        v5 = -2;
        goto LABEL_4;
      }
    }
  }

  else
  {
    LODWORD(v4) = 0;
    *(a1 + 8) = 0;
  }

  v5 = 2 * v4;
LABEL_4:
  *(a1 + 12) = v5;
  return result;
}

IPC::Encoder *WebKit::WebPage::didFinishLoad(WebKit::WebPage *this, WebKit::WebFrame *a2)
{
  result = WebKit::WebFrame::isMainFrame(a2);
  if (result)
  {
    v6 = WebKit::WebProcess::singleton(result, v5);
    WebKit::WebFrame::url(a2, v9);
    WebKit::WebProcess::sendPrewarmInformation(v6, v9);
    v8 = v9[0];
    v9[0] = 0;
    if (v8)
    {
      if (atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v8, v7);
      }
    }

    return WebKit::WebPage::shrinkToFitContent(this, 1);
  }

  return result;
}

void WebKit::WebPage::didSameDocumentNavigationForFrame(WebKit::WebPage *this, WebFrame *a2)
{
  v39 = 0;
  v4 = *(a2[2]._private + 1);
  if (*(v4 + 136))
  {
    v4 = 0;
  }

  WebCore::FrameLoader::protectedDocumentLoader(&v34, *(v4 + 208));
  v5 = v34;
  v6 = *(v34 + 318) != 0;
  v37 = *(v34 + 318);
  v38 = v6;
  v34 = 0;
  if (*(v5 + 6) == 1)
  {
    (*(*v5 + 24))(v5);
  }

  else
  {
    --*(v5 + 6);
  }

  if (WebKit::WebFrame::isMainFrame(a2))
  {
    *(this + 217) = 0;
  }

  v7 = (*(**(this + 48) + 96))(*(this + 48), this, a2, 0, &v39);
  v9 = this + 32;
  v10 = a2[5]._private;
  v11 = *(a2[2]._private + 1);
  if (*(v11 + 136))
  {
    v11 = 0;
  }

  v12 = *(v11 + 224);
  WebKit::WebProcess::singleton(v7, v8);
  v34 = &unk_1F1122420;
  WebKit::UserData::transform(v39, &v34, &v36);
  v13 = v36;
  if (v36)
  {
    CFRetain(v36[1]);
  }

  v29 = v13;
  v14 = (*(*v9 + 56))(this + 32);
  v16 = IPC::Encoder::operator new(0x238, v15);
  *v16 = 2230;
  *(v16 + 2) = 0;
  *(v16 + 3) = 0;
  *(v16 + 1) = v14;
  *(v16 + 68) = 0;
  *(v16 + 70) = 0;
  *(v16 + 69) = 0;
  IPC::Encoder::encodeHeader(v16);
  v34 = v16;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v16, v10);
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>(v16, &v37);
  IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v16, 0);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v16, (v12 + 800));
  IPC::ArgumentCoder<WebKit::UserData,void>::encode(v16, &v29);
  (*(*v9 + 32))(this + 32, &v34, 0);
  v18 = v34;
  v34 = 0;
  if (v18)
  {
    IPC::Encoder::~Encoder(v18, v17);
    bmalloc::api::tzoneFree(v26, v27);
  }

  if (v13)
  {
    CFRelease(v13[1]);
  }

  v19 = v36;
  v36 = 0;
  if (v19)
  {
    CFRelease(v19[1]);
  }

  WTF::WeakHashSet<WebKit::PluginView,WTF::SingleThreadWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(&v34, this + 20);
  v20 = *(this + 20);
  if (v20)
  {
    v22 = *(v20 - 4);
    v21 = v20 + 8 * v22;
  }

  else
  {
    v21 = 0;
    v22 = 0;
  }

  v29 = (this + 160);
  v30 = v21;
  v31 = v21;
  v32 = v21;
  v33 = v20 + 8 * v22;
  WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(&v29);
  v23 = v35;
  v24 = v30;
  while (v23 != v24)
  {
    v28 = *(*v23 + 8);
    ++v28[2];
    WebKit::PluginView::didSameDocumentNavigationForFrame(v28, a2);
    if (v28[2] == 1)
    {
      (*(*v28 + 8))(v28);
    }

    else
    {
      --v28[2];
    }

    WTF::WeakHashSet<WebKit::NetworkCache::AsyncRevalidation,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(&v34);
    v23 = v35;
  }

  v25 = v39;
  v39 = 0;
  if (v25)
  {
    CFRelease(*(v25 + 1));
  }
}

uint64_t WebKit::WebPage::testProcessIncomingSyncMessagesWhenWaitingForSyncReply(uint64_t a1, uint64_t *a2)
{
  if (atomic_load(&IPC::UnboundedSynchronousIPCScope::unboundedSynchronousIPCCount))
  {
    v3 = *a2;
    *a2 = 0;
    (*(*v3 + 16))(v3, 1);
    v4 = *(*v3 + 8);

    return v4(v3);
  }

  else
  {
    result = 8052;
    __break(0xC471u);
  }

  return result;
}

uint64_t *WebKit::WebPage::currentSelectionAsRange@<X0>(WebKit::WebPage *this@<X0>, WebCore::Page *a2@<X1>, uint64_t a3@<X8>)
{
  result = WebKit::frameWithSelection(*(this + 7), a2, &v7);
  v5 = v7;
  if (v7)
  {
    result = WebCore::VisibleSelection::toNormalizedRange(a3, (*(*(v7 + 224) + 3208) + 56));
    if (v5[4] == 1)
    {
      v6 = *(*v5 + 8);

      return v6(v5);
    }

    else
    {
      --v5[4];
    }
  }

  else
  {
    *a3 = 0;
    *(a3 + 32) = 0;
  }

  return result;
}

uint64_t WebKit::WebPage::loadAndDecodeImage(uint64_t a1, WebCore::ResourceRequestBase *this, uint64_t a3, char a4, uint64_t a5, uint64_t *a6)
{
  v12 = WebCore::ResourceRequestBase::url(this);
  v14 = *v12;
  if (*v12)
  {
    atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
  }

  v32 = *(v12 + 24);
  v33 = *(v12 + 8);
  v15 = WebKit::WebProcess::singleton(v12, v13);
  v16 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v15) + 24);
  v17 = *a6;
  *a6 = 0;
  if (v14)
  {
    atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
  }

  v36 = a3;
  LOBYTE(v37) = a4;
  v38 = v14;
  v39 = v33;
  v40 = v32;
  v18 = WTF::fastMalloc(0x48);
  *v18 = &unk_1F1134080;
  *(v18 + 8) = v17;
  v35 = 0;
  v19 = v37;
  *(v18 + 16) = v36;
  *(v18 + 24) = v19;
  v21.n128_f64[0] = WTF::URL::URL(v18 + 32, &v38);
  v22 = v38;
  v38 = 0;
  if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v22, v20);
  }

  v23 = v35;
  v35 = 0;
  if (v23)
  {
    (*(*v23 + 8))(v23, v21);
  }

  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
    return result;
  }

  IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
  v26 = IPC::Encoder::operator new(0x238, v25);
  *v26 = 453;
  *(v26 + 68) = 0;
  *(v26 + 70) = 0;
  *(v26 + 69) = 0;
  *(v26 + 2) = 0;
  *(v26 + 3) = 0;
  *(v26 + 1) = 0;
  IPC::Encoder::encodeHeader(v26);
  v34 = v26;
  IPC::ArgumentCoder<WebCore::ResourceRequest,void>::encode(v26, this);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, *(a1 + 1832));
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v26, a5);
  v35 = v18;
  v36 = IdentifierInternal;
  IPC::Connection::sendMessageWithAsyncReply(v16, &v34, &v35, 0, 0);
  v28 = v35;
  v35 = 0;
  if (v28)
  {
    (*(*v28 + 8))(v28);
  }

  result = v34;
  v34 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v27);
    result = bmalloc::api::tzoneFree(v30, v31);
    if (!v14)
    {
      return result;
    }
  }

  else if (!v14)
  {
    return result;
  }

  if (atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    return WTF::StringImpl::destroy(v14, v27);
  }

  return result;
}

uint64_t WebKit::WebPage::getInformationFromImageData(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (*(a1 + 202) == 1)
  {
    v12[0] = 0;
    v14 = 1;
  }

  else
  {
    if (WebCore::SVGImage::isDataDecodable())
    {
      WTF::StringImpl::createWithoutCopyingNonEmpty();
      v10 = 0u;
      v13 = 0u;
      v11 = 0;
      v14 = 0;
      v7 = *a3;
      *a3 = 0;
      (*(*v7 + 16))(v7, v12);
      (*(*v7 + 8))(v7);
      std::experimental::fundamentals_v3::expected<std::pair<WTF::String,WTF::Vector<WebCore::IntSize,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WebCore::ImageDecodingError>::~expected(v12, v8);
      return std::pair<WTF::String,WTF::Vector<WebCore::IntSize,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~pair(&v10, v9);
    }

    WebCore::utiAndAvailableSizesFromImageData();
  }

  v4 = *a3;
  *a3 = 0;
  (*(*v4 + 16))(v4, v12);
  (*(*v4 + 8))(v4);
  return std::experimental::fundamentals_v3::expected<std::pair<WTF::String,WTF::Vector<WebCore::IntSize,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WebCore::ImageDecodingError>::~expected(v12, v5);
}

uint64_t WebKit::WebPage::flushPendingEditorStateUpdate(uint64_t this)
{
  if (*(this + 924))
  {
    v1 = this;
    this = WebCore::FocusController::focusedOrMainFrame(*(*(this + 56) + 80));
    if (this)
    {
      v2 = this;
      ++*(this + 16);
      v3 = *(this + 224);
      if (v3)
      {
        *(v3 + 7) += 2;
        this = WebCore::Document::editor(v3);
        if (*(v3 + 7) == 2)
        {
          v5 = this;
          WebCore::Node::removedLastRef(v3);
          this = v5;
        }

        else
        {
          *(v3 + 7) -= 2;
        }
      }

      else
      {
        this = WebCore::Document::editor(0);
      }

      if ((*(this + 88) & 1) == 0)
      {
        this = WebKit::WebPage::sendEditorStateUpdate(v1);
      }

      if (v2[4] == 1)
      {
        v4 = *(*v2 + 8);

        return v4(v2);
      }

      else
      {
        --v2[4];
      }
    }
  }

  return this;
}

_DWORD *WebKit::WebPage::updateWebsitePolicies(_DWORD *result, uint64_t a2)
{
  v2 = *(result + 7);
  if (v2)
  {
    v4 = result;
    ++*(v2 + 2);
    v5 = WebKit::WebFrame::remoteFrameClient(*(result + 11));
    if (v5)
    {
      WebKit::WebRemoteFrameClient::applyWebsitePolicies(v5, a2);
    }

    else
    {
      WebKit::WebPage::localMainFrame(v4, &v11);
      if (v11)
      {
        v6 = *(*(v11 + 26) + 96);
        if (v6)
        {
          ++v6[6];
          *(v4 + 1944) = *(a2 + 104);
          WebKit::WebsitePoliciesData::applyToDocumentLoader(a2, v6);
          WebCore::Page::updateMediaElementRateChangeRestrictions(v2);
          v7 = v11;
          shouldIgnoreMetaViewport = WebKit::WebPage::shouldIgnoreMetaViewport(v4);
          WebKit::setCanIgnoreViewportArgumentsToAvoidExcessiveZoomIfNeeded(v4 + 116, v7, shouldIgnoreMetaViewport);
          WebKit::setCanIgnoreViewportArgumentsToAvoidEnlargedViewIfNeeded(v4 + 116, v11, v9);
          if (v6[6] == 1)
          {
            (*(*v6 + 24))(v6);
          }

          else
          {
            --v6[6];
          }
        }

        v10 = v11;
        v11 = 0;
        if (v10)
        {
          if (*(v10 + 4) == 1)
          {
            (*(*v10 + 8))(v10);
          }

          else
          {
            --*(v10 + 4);
          }
        }
      }
    }

    return WTF::RefCounted<WebCore::Page>::deref(v2 + 2);
  }

  return result;
}

uint64_t WebKit::WebPage::extendIncrementalRenderingSuppression(WebKit::WebPage *this)
{
  v2 = (this + 1712);
  LODWORD(v3) = *(this + 430);
  v4 = *(this + 214);
  while (1)
  {
    do
    {
LABEL_2:
      v5 = v3;
      v3 = (v3 + 1);
    }

    while (v5 > 0xFFFFFFFD);
    if (!v4)
    {
      break;
    }

    v6 = *(v4 - 8);
    v7 = 9 * ((v5 - (v3 << 15)) ^ ((v5 - (v3 << 15)) >> 10));
    v8 = (v7 ^ (v7 >> 6)) + ~((v7 ^ (v7 >> 6)) << 11);
    v9 = v6 & (v8 ^ HIWORD(v8));
    v10 = *(v4 + 4 * v9);
    if (v10 != v3)
    {
      v11 = 1;
      while (v10)
      {
        v9 = (v9 + v11) & v6;
        v10 = *(v4 + 4 * v9);
        ++v11;
        if (v10 == v3)
        {
          goto LABEL_2;
        }
      }

      break;
    }
  }

  if (!v4)
  {
    WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::expand(this + 214, 0);
    v4 = *v2;
  }

  v12 = *(v4 - 8);
  v13 = 9 * ((v5 - (v3 << 15)) ^ ((v5 - (v3 << 15)) >> 10));
  v14 = (v13 ^ (v13 >> 6)) + ~((v13 ^ (v13 >> 6)) << 11);
  v15 = v12 & (v14 ^ HIWORD(v14));
  v16 = (v4 + 4 * v15);
  v17 = *v16;
  if (!*v16)
  {
LABEL_19:
    *v16 = v3;
    v20 = *(v4 - 16);
    v21 = *(v4 - 12) + 1;
    *(v4 - 12) = v21;
    v22 = (v20 + v21);
    v23 = *(v4 - 4);
    if (v23 > 0x400)
    {
      if (v23 > 2 * v22)
      {
        goto LABEL_22;
      }
    }

    else if (3 * v23 > 4 * v22)
    {
      goto LABEL_22;
    }

    WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::expand(v2, v16);
    goto LABEL_22;
  }

  v18 = 0;
  v19 = 1;
  while (v17 != v3)
  {
    if (v17 == -1)
    {
      v18 = v16;
    }

    v15 = (v15 + v19) & v12;
    v16 = (v4 + 4 * v15);
    v17 = *v16;
    ++v19;
    if (!*v16)
    {
      if (v18)
      {
        *v18 = 0;
        v4 = *v2;
        --*(*v2 - 16);
        v16 = v18;
      }

      goto LABEL_19;
    }
  }

LABEL_22:
  WebKit::WebPage::localMainFrame(this, &v27);
  if (v27)
  {
    v24 = *(v27 + 216);
    if (v24)
    {
      ++*(v24 + 2);
      WebCore::LocalFrameView::setVisualUpdatesAllowedByClient(v24);
      if (*(v24 + 2) == 1)
      {
        (*(*v24 + 8))(v24);
      }

      else
      {
        --*(v24 + 2);
      }
    }

    else
    {
      WebCore::LocalFrameView::setVisualUpdatesAllowedByClient(0);
    }

    v25 = v27;
    v27 = 0;
    if (v25)
    {
      if (v25[4] == 1)
      {
        (*(*v25 + 8))(v25);
      }

      else
      {
        --v25[4];
      }
    }
  }

  *(this + 430) = v3;
  return v3;
}

_DWORD *WebKit::WebPage::stopExtendingIncrementalRenderingSuppression(WebKit::WebPage *this, int a2)
{
  v9 = a2;
  v3 = (this + 1712);
  result = WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashTraits<unsigned int>,WTF::DefaultHash<unsigned int>>,(WTF::ShouldValidateKey)1,unsigned int>(this + 214, &v9);
  v5 = *(this + 214);
  if (v5)
  {
    v6 = (v5 + 4 * *(v5 - 4));
    if (v6 == result)
    {
      return result;
    }
  }

  else
  {
    if (!result)
    {
      return result;
    }

    v6 = 0;
  }

  if (v6 != result)
  {
    WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::remove(v3, result);
  }

  result = WebKit::WebPage::localMainFrame(this, &v8);
  if (v8)
  {
    v7 = *(v8 + 216);
    if (v7)
    {
      ++*(v7 + 2);
    }

    WebCore::LocalFrameView::setVisualUpdatesAllowedByClient(v7);
    if (v7)
    {
      if (*(v7 + 2) == 1)
      {
        (*(*v7 + 8))(v7);
      }

      else
      {
        --*(v7 + 2);
      }
    }

    result = v8;
    v8 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::setScrollbarOverlayStyle(WebKit::WebPage *a1, __int16 a2)
{
  *(a1 + 862) = a2;
  result = WebKit::WebPage::localMainFrame(a1, &v4);
  if (v4)
  {
    v3 = *(v4 + 216);
    if (v3)
    {
      ++*(v3 + 2);
      WebCore::LocalFrameView::recalculateScrollbarOverlayStyle(v3);
      if (*(v3 + 2) == 1)
      {
        (*(*v3 + 8))(v3);
      }

      else
      {
        --*(v3 + 2);
      }
    }

    else
    {
      WebCore::LocalFrameView::recalculateScrollbarOverlayStyle(0);
    }

    result = v4;
    v4 = 0;
    if (result)
    {
      if (result[4] == 1)
      {
        return (*(*result + 8))(result);
      }

      else
      {
        --result[4];
      }
    }
  }

  return result;
}

void WebKit::WebPage::createDocumentLoader(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t *a5@<X8>)
{
  v10 = WTF::fastMalloc(0xE20);
  v11 = MEMORY[0x19EB051F0](v10, a3, a4);
  *a5 = v11;
  *(v11 + 3579) = *(a1 + 1947);
  v12 = *(a2 + 120);
  if (v12 && *(v12 + 8) == a2 || (*(*(*(a1 + 56) + 120) + 720) & 8) != 0)
  {
    if (*(a1 + 1736))
    {
      WebCore::DocumentLoader::setNavigationID();
      *(a1 + 1736) = 0;
    }

    v13 = *(a1 + 40);
    if (*(v13 + 296) == 1)
    {
      v14 = *(a2 + 120);
      if (v14)
      {
        if (*(v14 + 8) == a2)
        {
          *(a1 + 1944) = *(v13 + 280);
          std::exchange[abi:sn200100]<std::optional<WebKit::WebsitePoliciesData>,std::nullopt_t const&>(v13 + 176, v16);
          if (v17)
          {
            WebKit::WebsitePoliciesData::applyToDocumentLoader(v16, v10);
            if (v17 == 1)
            {
              WebKit::WebsitePoliciesData::~WebsitePoliciesData(v16, v15);
            }
          }

          else
          {
            __break(1u);
          }
        }
      }
    }
  }
}

void std::exchange[abi:sn200100]<std::optional<WebKit::WebsitePoliciesData>,std::nullopt_t const&>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  *a2 = 0;
  *(a2 + 120) = 0;
  if (*(a1 + 120) == 1)
  {
    std::__optional_storage_base<WebKit::WebsitePoliciesData,false>::__construct[abi:sn200100]<WebKit::WebsitePoliciesData>(a2, a1);
    if (*(a1 + 120))
    {
      WebKit::WebsitePoliciesData::~WebsitePoliciesData(a1, v3);
      *(a1 + 120) = 0;
    }
  }
}

WTF::StringImpl *WebKit::WebPage::getBytecodeProfile(uint64_t a1, uint64_t *a2)
{
  v3 = MEMORY[0x1E69E25C0];
  v4 = *MEMORY[0x1E69E25C0];
  if (!*MEMORY[0x1E69E25C0])
  {
    v4 = WebCore::commonVMSlow(0);
  }

  if (*(v4 + 130720))
  {
    v8 = *v3;
    if (!*v3)
    {
      v8 = WebCore::commonVMSlow(0);
    }

    JSC::Profiler::Database::toJSON(&v10, *(v8 + 130720));
    WTF::JSONImpl::Value::toJSONString(&v11, v10);
    v9 = v10;
    v10 = 0;
    if (v9)
    {
      if (*v9 == 1)
      {
        WTF::JSONImpl::Value::operator delete();
      }

      else
      {
        --*v9;
      }
    }
  }

  else
  {
    v11 = 0;
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5, &v11);
  (*(*v5 + 8))(v5);
  result = v11;
  v11 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v6);
    }
  }

  return result;
}

void WebKit::WebPage::getSamplingProfilerOutput(uint64_t a1, uint64_t *a2)
{
  v14[20] = *MEMORY[0x1E69E9840];
  v3 = *MEMORY[0x1E69E25C0];
  if (!*MEMORY[0x1E69E25C0])
  {
    v3 = WebCore::commonVMSlow(0);
  }

  v4 = *(v3 + 131048);
  if (v4)
  {
    atomic_fetch_add(v4, 1u);
    WTF::StringPrintStream::StringPrintStream(v14);
    JSC::SamplingProfiler::reportTopFunctions();
    JSC::SamplingProfiler::reportTopBytecodes();
    WTF::StringPrintStream::toString(&v13, v14);
    v5 = *a2;
    *a2 = 0;
    (*(*v5 + 16))(v5, &v13);
    (*(*v5 + 8))(v5);
    v7 = v13;
    v13 = 0;
    if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v7, v6);
    }

    WTF::StringPrintStream::~StringPrintStream(v14);
    if (atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v4);
      v8 = MEMORY[0x19EB00340](v4);
      bmalloc::api::tzoneFree(v8, v9);
    }
  }

  else
  {
    v14[0] = 0;
    v10 = *a2;
    *a2 = 0;
    (*(*v10 + 16))(v10, v14);
    (*(*v10 + 8))(v10);
    v12 = v14[0];
    v14[0] = 0;
    if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v12, v11);
    }
  }
}

void WebKit::WebPage::postMessage(WebKit::WebPage *this, const WTF::String *a2, API::Object *a3)
{
  v5 = this;
  WebKit::WebProcess::singleton(this, a2);
  v18 = &unk_1F1122420;
  WebKit::UserData::transform(a3, &v18, &v16);
  v6 = v16;
  v16 = 0;
  v17 = v6;
  v7 = *(v5 + 4);
  v5 = (v5 + 32);
  v8 = (*(v7 + 56))(v5);
  v10 = IPC::Encoder::operator new(0x238, v9);
  *v10 = 2266;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = v8;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  IPC::Encoder::encodeHeader(v10);
  v18 = v10;
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v10, a2);
  IPC::ArgumentCoder<WebKit::UserData,void>::encode(v10, &v17);
  (*(*v5 + 32))(v5, &v18, 0);
  v12 = v18;
  v18 = 0;
  if (v12)
  {
    IPC::Encoder::~Encoder(v12, v11);
    bmalloc::api::tzoneFree(v14, v15);
    if (!v6)
    {
      goto LABEL_3;
    }
  }

  else if (!v6)
  {
    goto LABEL_3;
  }

  CFRelease(*(v6 + 1));
LABEL_3:
  v13 = v16;
  v16 = 0;
  if (v13)
  {
    CFRelease(*(v13 + 1));
  }
}

void WebKit::WebPage::postMessageWithAsyncReply(uint64_t a1, uint64_t *a2, uint64_t a3, uint64_t *a4)
{
  v7 = a1 + 32;
  if (a3)
  {
    CFRetain(*(a3 + 8));
  }

  v20 = a3;
  v8 = *a4;
  *a4 = 0;
  v9 = (*(*v7 + 56))(v7);
  v11 = IPC::Encoder::operator new(0x238, v10);
  *v11 = 2267;
  *(v11 + 2) = 0;
  *(v11 + 3) = 0;
  *(v11 + 1) = v9;
  *(v11 + 68) = 0;
  *(v11 + 70) = 0;
  *(v11 + 69) = 0;
  IPC::Encoder::encodeHeader(v11);
  v22 = v11;
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v11, a2);
  IPC::ArgumentCoder<WebKit::UserData,void>::encode(v11, &v20);
  v12 = WTF::fastMalloc(0x10);
  *v12 = &unk_1F11340A8;
  v12[1] = v8;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    __break(0xC471u);
    return;
  }

  v13 = v12;
  IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
  v21[0] = v13;
  v21[1] = IdentifierInternal;
  (*(*v7 + 40))(v7, &v22, v21, 0);
  v16 = v21[0];
  v21[0] = 0;
  if (v16)
  {
    (*(*v16 + 8))(v16);
  }

  v17 = v22;
  v22 = 0;
  if (!v17)
  {
    if (!a3)
    {
      return;
    }

LABEL_10:
    CFRelease(*(a3 + 8));
    return;
  }

  IPC::Encoder::~Encoder(v17, v15);
  bmalloc::api::tzoneFree(v18, v19);
  if (a3)
  {
    goto LABEL_10;
  }
}

void WebKit::WebPage::postMessageIgnoringFullySynchronousMode(WebKit::WebPage *this, const WTF::String *a2, API::Object *a3)
{
  v5 = this;
  WebKit::WebProcess::singleton(this, a2);
  v18 = &unk_1F1122420;
  WebKit::UserData::transform(a3, &v18, &v16);
  v6 = v16;
  v16 = 0;
  v17 = v6;
  v7 = *(v5 + 4);
  v5 = (v5 + 32);
  v8 = (*(v7 + 56))(v5);
  v10 = IPC::Encoder::operator new(0x238, v9);
  *v10 = 2266;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = v8;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  IPC::Encoder::encodeHeader(v10);
  v18 = v10;
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v10, a2);
  IPC::ArgumentCoder<WebKit::UserData,void>::encode(v10, &v17);
  (*(*v5 + 32))(v5, &v18, 1);
  v12 = v18;
  v18 = 0;
  if (v12)
  {
    IPC::Encoder::~Encoder(v12, v11);
    bmalloc::api::tzoneFree(v14, v15);
    if (!v6)
    {
      goto LABEL_3;
    }
  }

  else if (!v6)
  {
    goto LABEL_3;
  }

  CFRelease(*(v6 + 1));
LABEL_3:
  v13 = v16;
  v16 = 0;
  if (v13)
  {
    CFRelease(*(v13 + 1));
  }
}

void WebKit::WebPage::postSynchronousMessageForTesting(WebKit::WebProcess *a1, void *a2, API::Object *a3, IPC::Decoder **a4)
{
  v7 = a1;
  WebKit::WebProcess::singleton(a1, a2);
  v43[0] = &unk_1F1122420;
  WebKit::UserData::transform(a3, v43, &v37);
  v8 = v37;
  v37 = 0;
  v38 = v8;
  v9 = *(v7 + 4);
  v7 = (v7 + 32);
  v10 = (*(v9 + 56))(v7);
  v11 = (*(*v7 + 48))(v7);
  v12 = v11;
  if (!v11)
  {
LABEL_42:
    v19 = 3;
    if (!v8)
    {
      goto LABEL_25;
    }

    goto LABEL_43;
  }

  while (1)
  {
    v13 = *v11;
    if ((*v11 & 1) == 0)
    {
      break;
    }

    v14 = *v11;
    atomic_compare_exchange_strong_explicit(v11, &v14, v13 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v14 == v13)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v11);
LABEL_6:
  IPC::Connection::createSyncMessageEncoder(0x103A, v10, v43);
  v10 = v43[0];
  v15 = *(v43[0] + 2);
  if (!v15)
  {
    v15 = v43[0] + 32;
    goto LABEL_9;
  }

  if (!*(v43[0] + 3))
  {
    __break(1u);
    goto LABEL_42;
  }

LABEL_9:
  *v15 |= 4u;
  v12[92] = 1;
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v10, a2);
  IPC::ArgumentCoder<WebKit::UserData,void>::encode(v10, &v38);
  v16 = IPC::Connection::sendSyncMessage(v12, v43[1], v43, 1, &v41, INFINITY);
  if (v42)
  {
    if (v42 != 1)
    {
      mpark::throw_bad_variant_access(v16);
    }

    v19 = v41;
    v20 = 1;
    goto LABEL_22;
  }

  v19 = v41;
  v41 = 0;
  if (*(v19 + 50) == 3194)
  {
    v10 = 11;
  }

  else
  {
    LOBYTE(v39) = 0;
    v40 = 0;
    IPC::Decoder::operator>><std::tuple<WebKit::UserData>>(v19, &v39, v18);
    if (v40 == 1)
    {
      v10 = v39;
      if (v39)
      {
        CFRetain(*(v39 + 8));
        CFRetain(*(v10 + 8));
        CFRelease(*(v10 + 8));
        if (v40)
        {
          v36 = v39;
          v39 = 0;
          if (v36)
          {
            CFRelease(*(v36 + 8));
          }
        }
      }

      v20 = 0;
      goto LABEL_19;
    }

    v10 = 14;
  }

  IPC::Decoder::~Decoder(v19);
  bmalloc::api::tzoneFree(v21, v22);
  v20 = 1;
  v19 = v10;
LABEL_19:
  if (!v42)
  {
    v23 = v41;
    v41 = 0;
    if (v23)
    {
      IPC::Decoder::~Decoder(v23);
      bmalloc::api::tzoneFree(v32, v33);
    }
  }

LABEL_22:
  v24 = v43[0];
  v43[0] = 0;
  if (v24)
  {
    IPC::Encoder::~Encoder(v24, v17);
    bmalloc::api::tzoneFree(v30, v31);
  }

  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v12);
  LODWORD(v12) = v20 == 0;
  if (v8)
  {
LABEL_43:
    CFRelease(*(v8 + 1));
  }

LABEL_25:
  v25 = v37;
  v37 = 0;
  if (!v25)
  {
    if (v12)
    {
      goto LABEL_27;
    }

LABEL_34:
    v34 = *a4;
    *a4 = 0;
    if (v34)
    {
      CFRelease(*(v34 + 1));
    }

    return;
  }

  CFRelease(*(v25 + 1));
  if (!v12)
  {
    goto LABEL_34;
  }

LABEL_27:
  if (v10)
  {
    CFRetain(*(v10 + 8));
  }

  v43[0] = &unk_1F11223F0;
  WebKit::UserData::transform(v10, v43, &v41);
  v26 = v41;
  v41 = 0;
  v27 = *a4;
  *a4 = v26;
  if (v27)
  {
    CFRelease(*(v27 + 1));
    v35 = v41;
    v41 = 0;
    if (v35)
    {
      CFRelease(*(v35 + 1));
    }
  }

  if (v10)
  {
    CFRelease(*(v10 + 8));
    CFRelease(*(v10 + 8));
    if (v19)
    {
      goto LABEL_32;
    }
  }

  else if (v19)
  {
LABEL_32:
    IPC::Decoder::~Decoder(v19);
    bmalloc::api::tzoneFree(v28, v29);
  }
}

uint64_t WebKit::WebPage::setShouldScaleViewToFitDocument(uint64_t this, int a2)
{
  v2 = *(this + 72);
  if (v2)
  {
    v3 = *(v2 + 16);
    *(v2 + 16) = v3 + 1;
    if (*(v2 + 73) == a2)
    {
      if (v3)
      {
LABEL_4:
        *(v2 + 16) = v3;
        return this;
      }
    }

    else
    {
      *(v2 + 73) = a2;
      this = (*(*v2 + 280))(v2);
      v3 = *(v2 + 16) - 1;
      if (*(v2 + 16) != 1)
      {
        goto LABEL_4;
      }
    }

    v4 = *(*v2 + 24);

    return v4(v2);
  }

  return this;
}

IPC::Encoder *WebKit::WebPage::imageOrMediaDocumentSizeChanged(WebKit::WebPage *this, const WebCore::IntSize *a2)
{
  v3 = this + 32;
  v4 = (*(*(this + 4) + 56))(this + 32);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2275;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<WebCore::IntPoint,void>::encode(v6, a2);
  (*(*v3 + 32))(v3, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

void WebKit::WebPage::addUserScript(WTF *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  v12 = WTF::aboutBlankURL(a1);
  v13 = *v12;
  if (*v12)
  {
    atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
  }

  v22[1] = 0;
  v23 = v13;
  v14 = *(v12 + 24);
  v24 = *(v12 + 8);
  v25 = v14;
  v21[1] = 0;
  v22[0] = 0;
  v21[0] = 0;
  MEMORY[0x19EB02F10](v26, a2, &v23, v22, v21, a5, a4, a6);
  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v21, v15);
  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v22, v16);
  v18 = v23;
  v23 = 0;
  if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v18, v17);
  }

  v19 = *(a1 + 73);
  ++v19[2];
  LOBYTE(v23) = 0;
  LOBYTE(v24) = 0;
  WebKit::WebUserContentController::addUserScriptInternal(v19, a3, &v23, v26, 0);
  if (v19[2] == 1)
  {
    (*(*v19 + 8))(v19);
  }

  else
  {
    --v19[2];
  }

  WebCore::UserScript::~UserScript(v26, v20);
}

WTF::StringImpl *WebKit::WebPage::addUserStyleSheet(WTF *a1)
{
  WTF::aboutBlankURL(a1);
  v17 = 0uLL;
  v12[0] = 0;
  v12[1] = 0;
  WebCore::UserStyleSheet::UserStyleSheet();
  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v12, v2);
  v4 = WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v17, v3);
  v5 = *(a1 + 73);
  ++*(v5 + 2);
  v6 = WebKit::InjectedBundleScriptWorld::normalWorldSingleton(v4);
  LOBYTE(v17) = 0;
  BYTE8(v17) = 0;
  WebKit::WebUserContentController::addUserStyleSheetInternal(v5, v6, &v17, &v13);
  WebCore::UserContentProvider::invalidateInjectedStyleSheetCacheInAllFramesInAllPages(v5);
  if (*(v5 + 2) == 1)
  {
    (*(*v5 + 8))(v5);
  }

  else
  {
    --*(v5 + 2);
  }

  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v16, v7);
  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v15, v8);
  v10 = v14;
  v14 = 0;
  if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, v9);
  }

  result = v13;
  v13 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v9);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::removeAllUserContent(WebKit::WebPage *this, void *a2)
{
  v2 = *(this + 73);
  ++*(v2 + 2);
  result = WebKit::WebUserContentController::removeAllUserContent(v2, a2);
  if (*(v2 + 2) == 1)
  {
    v4 = *(*v2 + 8);

    return v4(v2);
  }

  else
  {
    --*(v2 + 2);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::updateIntrinsicContentSizeIfNeeded(IPC::Encoder *this, const WebCore::IntSize *a2)
{
  if (*(this + 1848) == 1)
  {
    *(this + 1848) = 0;
  }

  if ((*(this + 216) || *(this + 109)) && (*(this + 463) != *a2 || *(this + 464) != *(a2 + 1)))
  {
    v5[1] = v2;
    v5[2] = v3;
    *(this + 1852) = *a2;
    v5[0] = a2;
    return IPC::MessageSender::send<Messages::WebPageProxy::DidChangeIntrinsicContentSize>(this + 32, v5);
  }

  return this;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::DidChangeIntrinsicContentSize>(uint64_t a1, int **a2)
{
  v4 = (*(*a1 + 56))(a1);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2181;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<WebCore::IntPoint,void>::encode(v6, *a2);
  (*(*a1 + 32))(a1, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

void WebKit::WebPage::dispatchDidReachLayoutMilestone(uint64_t a1, unsigned __int16 a2)
{
  v2 = a2;
  v19 = 0;
  updated = (*(**(a1 + 384) + 160))(*(a1 + 384), a1, a2, &v19);
  v5 = *(a1 + 72);
  if (v5)
  {
    v6 = v5[4];
    v5[4] = v6 + 1;
    if ((v2 & 0x1A4) != 0)
    {
      updated = (*(*v5 + 368))(v5, v2 & 0x1A4);
      if (updated)
      {
        v2 &= 0xFE5Bu;
      }

      v6 = v5[4] - 1;
    }

    if (v6)
    {
      v5[4] = v6;
    }

    else
    {
      updated = (*(*v5 + 24))(v5);
    }
  }

  if (v2)
  {
    updated = WebKit::WebPage::localMainFrameView(a1);
    if (updated)
    {
      v20 = *(WebKit::WebPage::localMainFrameView(a1) + 1376);
      updated = WebKit::WebPage::updateIntrinsicContentSizeIfNeeded(a1, &v20);
    }
  }

  WTF::WallTime::now(updated);
  v8 = v7;
  v10 = *(a1 + 32);
  v9 = a1 + 32;
  v11 = (*(v10 + 56))(v9);
  v13 = IPC::Encoder::operator new(0x238, v12);
  *v13 = 2220;
  *(v13 + 2) = 0;
  *(v13 + 3) = 0;
  *(v13 + 1) = v11;
  *(v13 + 68) = 0;
  *(v13 + 70) = 0;
  *(v13 + 69) = 0;
  IPC::Encoder::encodeHeader(v13);
  v20 = v13;
  IPC::ArgumentCoder<unsigned short,void>::encode<IPC::Encoder>(v13, v2);
  IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v13, v8);
  (*(*v9 + 32))(v9, &v20, 0);
  v15 = v20;
  v20 = 0;
  if (v15)
  {
    IPC::Encoder::~Encoder(v15, v14);
    bmalloc::api::tzoneFree(v17, v18);
  }

  v16 = v19;
  v19 = 0;
  if (v16)
  {
    CFRelease(*(v16 + 8));
  }
}

IPC::Encoder *WebKit::WebPage::didRestoreScrollPosition(WebKit::WebPage *this)
{
  v1 = this + 32;
  v2 = (*(*(this + 4) + 56))(this + 32);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2228;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*v1 + 32))(v1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

_DWORD *WebKit::WebPage::setUserInterfaceLayoutDirection(WebKit::WebPage *this, int a2)
{
  *(this + 1760) = a2 != 0;
  v3 = *(this + 7);
  if (v3)
  {
    v4 = (v3 + 8);
    ++*(v3 + 8);
    WebCore::Page::setUserInterfaceLayoutDirection();

    return WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {

    return WebCore::Page::setUserInterfaceLayoutDirection();
  }
}

void *WebKit::WebPage::gamepadActivity(__n128 a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  {
    qword_1ED643808 = 0;
    unk_1ED643810 = 0;
    byte_1ED643818 = 0;
    WebKit::WebGamepadProvider::singleton(void)::provider = &unk_1F112AD70;
    a1 = 0uLL;
    xmmword_1ED643820 = 0u;
    unk_1ED643830 = 0u;
    xmmword_1ED643840 = 0u;
  }

  return WebKit::WebGamepadProvider::gamepadActivity(&WebKit::WebGamepadProvider::singleton(void)::provider, a3, a4, a1);
}

IPC::Encoder *WebKit::WebPage::gamepadsRecentlyAccessed(WebKit::WebPage *this)
{
  v1 = this + 32;
  v2 = (*(*(this + 4) + 56))(this + 32);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2259;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*v1 + 32))(v1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

void WebKit::WebPage::didGetLoadDecisionForIcon(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v4 = *(*(a1 + 56) + 176);
  if (!v4 || (*(v4 + 136) & 1) != 0)
  {
    v11 = 0;
    v12 = 0;
    v13 = 0;
    v10 = *a4;
    *a4 = 0;
    (*(*v10 + 16))(v10, &v11);
    (*(*v10 + 8))(v10);
    IPC::SharedBufferReference::~SharedBufferReference(&v11);
  }

  else
  {
    ++*(v4 + 16);
    v5 = *(*(v4 + 208) + 96);
    if (v5)
    {
      ++v5[6];
      v6 = *a4;
      *a4 = 0;
      v7 = WTF::fastMalloc(0x10);
      *v7 = &unk_1F11340D0;
      v7[1] = v6;
      v11 = v7;
      WebCore::DocumentLoader::didGetLoadDecisionForIcon();
      v8 = v11;
      v11 = 0;
      if (v8)
      {
        (*(*v8 + 8))(v8);
      }

      if (v5[6] == 1)
      {
        (*(*v5 + 24))(v5);
      }

      else
      {
        --v5[6];
      }
    }

    else
    {
      v11 = 0;
      v12 = 0;
      v13 = 0;
      v9 = *a4;
      *a4 = 0;
      (*(*v9 + 16))(v9, &v11);
      (*(*v9 + 8))(v9);
      IPC::SharedBufferReference::~SharedBufferReference(&v11);
    }

    if (*(v4 + 16) == 1)
    {
      (*(*v4 + 8))(v4);
    }

    else
    {
      --*(v4 + 16);
    }
  }
}

uint64_t WebKit::WebPage::setUseIconLoadingClient(uint64_t this, char a2)
{
  v2 = *(*(this + 56) + 176);
  if (v2 && (*(v2 + 136) & 1) == 0)
  {
    ++*(v2 + 16);
    v4 = *(*(v2 + 208) + 16);
    this = (*(*v4 + 40))(v4);
    if (this)
    {
      v4[60] = a2;
    }

    if (*(v2 + 16) == 1)
    {
      v5 = *(*v2 + 8);

      return v5(v2);
    }

    else
    {
      --*(v2 + 16);
    }
  }

  return this;
}

uint64_t WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::StringViewHashTranslator,WTF::StringView>(uint64_t *a1, uint64_t a2)
{
  v2 = *a1;
  if (*a1)
  {
    v4 = *(v2 - 8);
    v5 = *a2;
    v6 = *(a2 + 8);
    if ((v6 & 0x100000000) != 0)
    {
      v7 = WTF::SuperFastHash::computeHashImpl<unsigned char,WTF::StringHasher::DefaultConverter>(v5, v6);
    }

    else
    {
      v7 = WTF::SuperFastHash::computeHashImpl<char16_t,WTF::StringHasher::DefaultConverter>(v5, v6);
    }

    v8 = 0;
    v9 = (v7 ^ (8 * v7)) + ((v7 ^ (8 * v7)) >> 5);
    v10 = (v9 ^ (4 * v9)) + ((v9 ^ (4 * v9)) >> 15);
    v11 = (v10 ^ (v10 << 10)) & 0xFFFFFF;
    if (!v11)
    {
      v11 = 0x800000;
    }

    while (1)
    {
      v12 = v11 & v4;
      v13 = (v2 + 16 * (v11 & v4));
      if (!*v13)
      {
        break;
      }

      if (*v13 != -1 && WTF::StringViewHashTranslator::equal((v2 + 16 * v12), *a2, *(a2 + 8)))
      {
        return v13[1];
      }

      v11 = ++v8 + v12;
    }
  }

  return 0;
}

uint64_t *WebKit::WebPage::stopAllURLSchemeTasks(WebKit::WebPage *this)
{
  v18 = 0;
  v2 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WallTime>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WallTime>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WallTime,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WallTime>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::begin(this + 224);
  v3 = v2;
  v5 = v4;
  v6 = 0;
  v7 = *(this + 224);
  if (v7)
  {
    v6 = (v7 + 16 * *(v7 - 4));
  }

  if (v6 != v2)
  {
    do
    {
      v8 = v3[1];
      if (v8)
      {
        ++*(v8 + 8);
      }

      v17 = v8;
      WTF::HashTable<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(&v18, &v17, v16);
      v9 = v17;
      v17 = 0;
      if (v9)
      {
        WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v9 + 8));
      }

      do
      {
        v3 += 2;
      }

      while (v3 != v5 && (*v3 + 1) <= 1);
    }

    while (v3 != v6);
  }

  v11 = WTF::HashTable<WTF::Ref<WebKit::WebProcessProxy,WTF::RawPtrTraits<WebKit::WebProcessProxy>,WTF::DefaultRefDerefTraits<WebKit::WebProcessProxy>>,WTF::Ref<WebKit::WebProcessProxy,WTF::RawPtrTraits<WebKit::WebProcessProxy>,WTF::DefaultRefDerefTraits<WebKit::WebProcessProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WebKit::WebProcessProxy,WTF::RawPtrTraits<WebKit::WebProcessProxy>,WTF::DefaultRefDerefTraits<WebKit::WebProcessProxy>>>,WTF::HashTraits<WTF::Ref<WebKit::WebProcessProxy,WTF::RawPtrTraits<WebKit::WebProcessProxy>,WTF::DefaultRefDerefTraits<WebKit::WebProcessProxy>>>,WTF::HashTraits<WTF::Ref<WebKit::WebProcessProxy,WTF::RawPtrTraits<WebKit::WebProcessProxy>,WTF::DefaultRefDerefTraits<WebKit::WebProcessProxy>>>,WTF::FastMalloc>::begin(&v18);
  v12 = v10;
  result = v18;
  if (v18)
  {
    v14 = &v18[*(v18 - 1)];
  }

  else
  {
    v14 = 0;
  }

  if (v14 != v11)
  {
    do
    {
      v15 = *v11++;
      WebKit::WebURLSchemeHandlerProxy::stopAllTasks(v15);
      while (v11 != v12 && (*v11 + 1) <= 1)
      {
        ++v11;
      }
    }

    while (v11 != v14);
    result = v18;
  }

  if (result)
  {
    return WTF::HashTable<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::FastMalloc>::deallocateTable(result, v10);
  }

  return result;
}

_DWORD *WebKit::WebURLSchemeHandlerProxy::stopAllTasks(_DWORD *this)
{
  v2 = (this + 8);
  v1 = *(this + 4);
  if (v1)
  {
    do
    {
      if (!*(v1 - 3))
      {
        break;
      }

      v3 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::WallTime>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::WallTime>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::WallTime,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::WallTime>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::begin(v2)[1];
      v4 = v3 + 2;
      ++v3[2];
      WebKit::WebURLSchemeTaskProxy::stopLoading(v3);
      this = WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(v4, v5);
      v1 = *v2;
    }

    while (*v2);
  }

  return this;
}

void WebKit::WebPage::urlSchemeTaskWillPerformRedirection(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, const WebCore::ResourceRequest *a5, uint64_t *a6)
{
  v10 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 1800), a2);
  if (v10)
  {
    v11 = v10;
    v12 = (v10 + 8);
    ++*(v10 + 8);
    WebCore::ResourceRequest::ResourceRequest(v13, a5);
    WebKit::WebURLSchemeHandlerProxy::taskDidPerformRedirection(v11, a3, a4, a5, a6);
    WebCore::ResourceRequest::~ResourceRequest(v13);
    WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v12);
  }

  else
  {
    WebCore::ResourceRequest::ResourceRequest(v13, a5);
    WebKit::WebURLSchemeHandlerProxy::taskDidPerformRedirection(0, a3, a4, a5, a6);
    WebCore::ResourceRequest::~ResourceRequest(v13);
  }
}

_DWORD *WebKit::WebURLSchemeHandlerProxy::taskDidPerformRedirection(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t *a5)
{
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>((a1 + 32), a2);
  if (result)
  {
    v9 = result + 2;
    ++result[2];
    WebKit::WebURLSchemeTaskProxy::didPerformRedirection(result, a3, a4, a5);

    return WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(v9, v10);
  }

  return result;
}

_DWORD *WebKit::WebPage::urlSchemeTaskDidPerformRedirection(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v8 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 1800), a2);
  v9 = v8;
  if (v8)
  {
    ++*(v8 + 8);
  }

  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F11340F8;
  v12 = v10;
  WebKit::WebURLSchemeHandlerProxy::taskDidPerformRedirection(v9, a3, a4, a5, &v12);
  result = v12;
  if (v12)
  {
    result = (*(*v12 + 8))(v12);
  }

  if (v9)
  {

    return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v9 + 8));
  }

  return result;
}

_DWORD *WebKit::WebPage::urlSchemeTaskDidReceiveResponse(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v6 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 1800), a2);
  if (v6)
  {
    v8 = (v6 + 8);
    ++*(v6 + 8);
    WebKit::WebURLSchemeHandlerProxy::taskDidReceiveResponse(v6, a3, a4);

    return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v8);
  }

  else
  {

    return WebKit::WebURLSchemeHandlerProxy::taskDidReceiveResponse(0, a3, a4);
  }
}

_DWORD *WebKit::WebURLSchemeHandlerProxy::taskDidReceiveResponse(uint64_t a1, uint64_t a2, uint64_t a3)
{
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>((a1 + 32), a2);
  if (result)
  {
    v5 = result + 2;
    ++result[2];
    WebKit::WebURLSchemeTaskProxy::didReceiveResponse(result, a3);

    return WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(v5, v6);
  }

  return result;
}

_DWORD *WebKit::WebPage::urlSchemeTaskDidReceiveData(uint64_t a1, uint64_t a2, uint64_t a3, atomic_uint **a4)
{
  v6 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 1800), a2);
  if (v6)
  {
    v8 = (v6 + 8);
    ++*(v6 + 8);
    WebKit::WebURLSchemeHandlerProxy::taskDidReceiveData(v6, a3, a4);

    return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v8);
  }

  else
  {

    return WebKit::WebURLSchemeHandlerProxy::taskDidReceiveData(0, a3, a4);
  }
}

_DWORD *WebKit::WebURLSchemeHandlerProxy::taskDidReceiveData(uint64_t a1, uint64_t a2, atomic_uint **a3)
{
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>((a1 + 32), a2);
  if (result)
  {
    v5 = result + 2;
    ++result[2];
    WebKit::WebURLSchemeTaskProxy::didReceiveData(result, *a3);

    return WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(v5, v6);
  }

  return result;
}

WebKit::WebProcess *WebKit::WebPage::urlSchemeTaskDidComplete(uint64_t a1, uint64_t a2, uint64_t a3, const WebCore::ResourceError *a4)
{
  v6 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 1800), a2);
  if (v6)
  {
    v8 = (v6 + 8);
    ++*(v6 + 8);
    WebKit::WebURLSchemeHandlerProxy::taskDidComplete(v6, a3, a4);

    return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(v8);
  }

  else
  {

    return WebKit::WebURLSchemeHandlerProxy::taskDidComplete(0, a3, a4);
  }
}

WebKit::WebProcess *WebKit::WebURLSchemeHandlerProxy::taskDidComplete(uint64_t a1, uint64_t a2, const WebCore::ResourceError *a3)
{
  result = WebKit::WebURLSchemeHandlerProxy::removeTask(&v7, a1, a2);
  v5 = v7;
  if (v7)
  {
    WebKit::WebURLSchemeTaskProxy::didComplete(v7, a3);

    return WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(v5 + 2, v6);
  }

  return result;
}

_DWORD *WebKit::WebPage::setIsSuspended(uint64_t a1, int a2, uint64_t *a3)
{
  if (*(a1 + 1820) != a2)
  {
    *(a1 + 1820) = a2;
    if (a2)
    {
      WebKit::WebPage::freezeLayerTree(a1, 8);
      v5 = WebKit::WebPage::unfreezeLayerTree(a1, 2);
      v7 = WebKit::WebProcess::singleton(v5, v6);
      WebKit::WebFrame::url(*(a1 + 88), v25);
      WebKit::WebProcess::sendPrewarmInformation(v7, v25);
      v9 = v25[0];
      v25[0] = 0;
      if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v9, v8);
      }

      v10 = WebKit::WebPage::flushDeferredDidReceiveMouseEvent(a1);
      v11 = *(*(*(a1 + 88) + 40) + 8);
      if (*(v11 + 136))
      {
        v11 = 0;
      }

      v12 = *(*(*(v11 + 208) + 32) + 16);
      if (!v12)
      {
        v23 = *a3;
        *a3 = 0;
        (*(*v23 + 16))(v23, 256);
        return (*(*v23 + 8))(v23);
      }

      v13 = (v12 + 8);
      ++*(v12 + 8);
      WebCore::BackForwardCache::singleton(v10);
      v14 = *(a1 + 56);
      if (v14)
      {
        v15 = (v14 + 8);
        ++*(v14 + 8);
        v16 = WebCore::BackForwardCache::addIfCacheable();
        WTF::RefCounted<WebCore::Page>::deref(v15);
        if (v16)
        {
          goto LABEL_11;
        }
      }

      else if (WebCore::BackForwardCache::addIfCacheable())
      {
LABEL_11:
        v17 = *(*(a1 + 88) + 40);
        if (v17)
        {
          v18 = *(v17 + 8);
          if (v18)
          {
            if ((*(v18 + 136) & 1) == 0)
            {
              ++*(v18 + 16);
              WebCore::Frame::detachFromAllOpenedFrames(v18);
              if (*(v18 + 16) == 1)
              {
                (*(*v18 + 8))(v18);
              }

              else
              {
                --*(v18 + 16);
              }
            }
          }
        }

        v19 = 257;
        goto LABEL_24;
      }

      v19 = 256;
LABEL_24:
      v24 = *a3;
      *a3 = 0;
      (*(*v24 + 16))(v24, v19);
      (*(*v24 + 8))(v24);
      return WTF::RefCounted<WebCore::HistoryItem>::deref(v13);
    }
  }

  v20 = *a3;
  *a3 = 0;
  (*(*v20 + 16))(v20, 0);
  v21 = *(*v20 + 8);

  return v21(v20);
}

uint64_t WebKit::WebPage::hasStorageAccess(uint64_t *a1, WebCore::RegistrableDomain *a2, WTF **a3, uint64_t a4, uint64_t *a5)
{
  hasPageLevelStorageAccess = WebKit::WebPage::hasPageLevelStorageAccess(a1, a3, a2);
  if (hasPageLevelStorageAccess)
  {
    v12 = *a5;
    *a5 = 0;
    (*(*v12 + 16))(v12, 1);
    v13 = *(*v12 + 8);

    return v13(v12);
  }

  else
  {
    v15 = WebKit::WebProcess::singleton(hasPageLevelStorageAccess, v11);
    v16 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v15) + 24);
    v17 = *(a4 + 88);
    v18[0] = a2;
    v18[1] = a3;
    v18[2] = &v17;
    v18[3] = a1 + 6;
    return IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::HasStorageAccess,WTF::CompletionHandler<void ()(BOOL)>>(v16, v18, a5, 0, 0);
  }
}

uint64_t WebKit::WebPage::hasPageLevelStorageAccess(WebKit::WebPage *this, WTF **a2, const WebCore::RegistrableDomain *a3)
{
  v5 = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::RegistrableDomain>>,(WTF::ShouldValidateKey)1,WebCore::RegistrableDomain>((*(this + 5) + 320), a2, a3);
  v7 = v5;
  v8 = *(*(this + 5) + 320);
  if (v8)
  {
    v8 += 16 * *(v8 - 4);
  }

  if (v8 == v5 || !*(v5 + 8))
  {
    return 0;
  }

  if (WTF::equal(*a3, 0, v6) || *a3 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3FE8D4);
  }

  v10 = *(v7 + 8);
  if (!v10)
  {
    return 0;
  }

  v11 = *(v10 - 8);
  v12 = WTF::ASCIICaseInsensitiveHash::hash(*a3, v9) & v11;
  v13 = (v10 + 8 * v12);
  if (WTF::equal(*v13, 0, v14))
  {
    return 0;
  }

  v16 = 1;
  while (*v13 == -1 || (WTF::equalIgnoringASCIICase(*v13, *a3, v15) & 1) == 0)
  {
    v12 = (v12 + v16) & v11;
    v13 = (v10 + 8 * v12);
    v17 = WTF::equal(*v13, 0, v15);
    result = 0;
    ++v16;
    if (v17)
    {
      return result;
    }
  }

  return 1;
}

uint64_t IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::HasStorageAccess,WTF::CompletionHandler<void ()(BOOL)>>(uint64_t *a1, uint64_t **a2, uint64_t *a3, uint64_t a4, char a5)
{
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F1134120;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v11 = v10;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 448;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = a4;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    IPC::Encoder::encodeHeader(v14);
    v23 = v14;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, *a2);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, a2[1]);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v14, *a2[2]);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v14, *a2[3]);
    v22[0] = v11;
    v22[1] = IdentifierInternal;
    v16 = IPC::Connection::sendMessageWithAsyncReply(a1, &v23, v22, a5, 0);
    v17 = v22[0];
    v22[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v23;
    v23 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    if (v16)
    {
      return 0;
    }

    else
    {
      return IdentifierInternal;
    }
  }

  return result;
}

uint64_t WebKit::WebPage::requestStorageAccess(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, char a5, uint64_t *a6)
{
  v12 = WebKit::WebProcess::singleton(a1, a2);
  v13 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v12) + 24);
  v27 = *(a4 + 88);
  v28[0] = a2;
  v28[1] = a3;
  v28[2] = &v27;
  v28[3] = a1 + 48;
  v28[4] = a1 + 1832;
  v29 = a5;
  CFRetain(*(a1 + 8));
  v14 = *a6;
  *a6 = 0;
  CFRetain(*(a4 + 8));
  v15 = *(a1 + 48);
  v16 = *(a4 + 88);
  v17 = WTF::fastMalloc(0x38);
  *v17 = &unk_1F1134148;
  v17[1] = a1;
  v17[2] = a1;
  v17[3] = v14;
  v17[4] = a4;
  v17[5] = v15;
  v17[6] = v16;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v18 = v17;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v21 = IPC::Encoder::operator new(0x238, v20);
    *v21 = 479;
    *(v21 + 68) = 0;
    *(v21 + 70) = 0;
    *(v21 + 69) = 0;
    *(v21 + 2) = 0;
    *(v21 + 3) = 0;
    *(v21 + 1) = 0;
    IPC::Encoder::encodeHeader(v21);
    v31 = v21;
    Messages::NetworkConnectionToWebProcess::RequestStorageAccess::encode<IPC::Encoder>(v28, v21);
    v30[0] = v18;
    v30[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(v13, &v31, v30, 0, 0);
    v23 = v30[0];
    v30[0] = 0;
    if (v23)
    {
      (*(*v23 + 8))(v23);
    }

    result = v31;
    v31 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v22);
      return bmalloc::api::tzoneFree(v25, v26);
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::setLoginStatus(WebKit::WebProcess *a1, void *a2, char a3, uint64_t *a4)
{
  v5 = *(a1 + 7);
  if (v5)
  {
    v9 = *(v5 + 8);
    v8 = v5 + 8;
    *v8 = v9 + 1;
    v10 = *(v8 + 1864);
    if (v10)
    {
      v11 = *v10;
      if (*v10)
      {
        atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
      }

      v25 = v11;
      v12 = *(v10 + 8);
      if (v12)
      {
        atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
      }

      v26 = v12;
      v13 = *(v10 + 32);
      v27 = *(v10 + 16);
      v28 = v13;
      LOBYTE(v10) = 1;
    }

    else
    {
      LOBYTE(v25) = 0;
    }

    v29 = v10;
    v14 = WebKit::WebProcess::singleton(a1, a2);
    v15 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v14) + 24);
    v22 = a2;
    v23 = a3;
    v24 = &v25;
    IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::SetLoginStatus,WTF::CompletionHandler<void ()(void)>>(v15, &v22, a4, 0, 0);
    if (v29 == 1)
    {
      v17 = v26;
      v26 = 0;
      if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v17, v16);
      }

      v18 = v25;
      v25 = 0;
      if (v18)
      {
        if (atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v18, v16);
        }
      }
    }

    return WTF::RefCounted<WebCore::Page>::deref(v8);
  }

  else
  {
    v20 = *a4;
    *a4 = 0;
    (*(*v20 + 16))(v20);
    v21 = *(*v20 + 8);

    return v21(v20);
  }
}

uint64_t IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::SetLoginStatus,WTF::CompletionHandler<void ()(void)>>(uint64_t *a1, uint64_t a2, uint64_t *a3, uint64_t a4, char a5)
{
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F1134170;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    goto LABEL_14;
  }

  v11 = v10;
  IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
  v14 = IPC::Encoder::operator new(0x238, v13);
  *v14 = 489;
  *(v14 + 2) = 0;
  *(v14 + 3) = 0;
  *(v14 + 1) = a4;
  *(v14 + 68) = 0;
  *(v14 + 70) = 0;
  *(v14 + 69) = 0;
  IPC::Encoder::encodeHeader(v14);
  v24 = v14;
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, *a2);
  IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v14, *(a2 + 8));
  v15 = *(a2 + 16);
  if ((*(v15 + 40) & 1) == 0)
  {
    v25 = 0;
    IPC::Encoder::operator<<<BOOL>(v14, &v25);
    goto LABEL_6;
  }

  v25 = 1;
  IPC::Encoder::operator<<<BOOL>(v14, &v25);
  if ((*(v15 + 40) & 1) == 0)
  {
    std::__throw_bad_optional_access[abi:sn200100]();
LABEL_14:
    result = 141;
    __break(0xC471u);
    return result;
  }

  IPC::ArgumentCoder<WebCore::LoginStatus,void>::encode(v14, v15);
LABEL_6:
  v23[0] = v11;
  v23[1] = IdentifierInternal;
  v17 = IPC::Connection::sendMessageWithAsyncReply(a1, &v24, v23, a5, 0);
  v18 = v23[0];
  v23[0] = 0;
  if (v18)
  {
    (*(*v18 + 8))(v18);
  }

  v19 = v24;
  v24 = 0;
  if (v19)
  {
    IPC::Encoder::~Encoder(v19, v16);
    bmalloc::api::tzoneFree(v21, v22);
  }

  if (v17)
  {
    return 0;
  }

  else
  {
    return IdentifierInternal;
  }
}

uint64_t WebKit::WebPage::isLoggedIn(WebKit::WebProcess *a1, void *a2, uint64_t *a3)
{
  v5 = WebKit::WebProcess::singleton(a1, a2);
  v6 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v5) + 24);
  v8 = a2;
  return IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::IsLoggedIn,WTF::CompletionHandler<void ()(BOOL)>>(v6, &v8, a3, 0, 0);
}

uint64_t IPC::Connection::sendWithAsyncReply<Messages::NetworkConnectionToWebProcess::IsLoggedIn,WTF::CompletionHandler<void ()(BOOL)>>(uint64_t *a1, uint64_t **a2, uint64_t *a3, uint64_t a4, char a5)
{
  v9 = *a3;
  *a3 = 0;
  v10 = WTF::fastMalloc(0x10);
  *v10 = &unk_1F1134198;
  v10[1] = v9;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v11 = v10;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 451;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = a4;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    IPC::Encoder::encodeHeader(v14);
    v23 = v14;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, *a2);
    v22[0] = v11;
    v22[1] = IdentifierInternal;
    v16 = IPC::Connection::sendMessageWithAsyncReply(a1, &v23, v22, a5, 0);
    v17 = v22[0];
    v22[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v23;
    v23 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    if (v16)
    {
      return 0;
    }

    else
    {
      return IdentifierInternal;
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebPage::addDomainWithPageLevelStorageAccess(WebKit::WebPage *this, WTF **a2, WTF **a3)
{
  v6 = *(this + 5);
  v14 = 0;
  WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>((v6 + 320), a2, &v14, v17);
  WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((v17[0] + 8), a3, v7, v16);
  if (v14)
  {
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v14, v8);
  }

  result = WebCore::NetworkStorageSession::findAdditionalLoginDomain();
  if (v15 == 1)
  {
    v10 = *(this + 5);
    v13 = 0;
    result = WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>((v10 + 320), a2, &v13, v17);
    if (v15)
    {
      WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((v17[0] + 8), &v14, v11, v16);
      result = v13;
      if (v13)
      {
        result = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v13, v12);
      }

      if (v15)
      {
        result = v14;
        v14 = 0;
        if (result)
        {
          if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            return WTF::StringImpl::destroy(result, v12);
          }
        }
      }
    }

    else
    {
      __break(1u);
    }
  }

  return result;
}

WTF::StringImpl **WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>@<X0>(uint64_t *a1@<X0>, WTF **a2@<X1>, const WTF::StringImpl *a3@<X2>, uint64_t a4@<X8>)
{
  if (WTF::equal(*a2, 0, a3) || *a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E3FF460);
  }

  v9 = *a1;
  if (*a1 || (WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(a1, 0), (v9 = *a1) != 0))
  {
    v10 = *(v9 - 8);
  }

  else
  {
    v10 = 0;
  }

  v11 = WTF::ASCIICaseInsensitiveHash::hash(*a2, v8) & v10;
  v12 = v9 + 16 * v11;
  if ((WTF::equal(*v12, 0, v13) & 1) == 0)
  {
    v15 = 0;
    v16 = 1;
    do
    {
      if (*v12 == -1)
      {
        v15 = v12;
      }

      else
      {
        result = WTF::equalIgnoringASCIICase(*v12, *a2, v14);
        if (result)
        {
          v24 = *a1;
          if (*a1)
          {
            v25 = *(v24 - 4);
          }

          else
          {
            v25 = 0;
          }

          v27 = 0;
          v26 = v24 + 16 * v25;
          goto LABEL_28;
        }
      }

      v11 = (v11 + v16) & v10;
      v12 = v9 + 16 * v11;
      ++v16;
    }

    while (!WTF::equal(*v12, 0, v14));
    if (v15)
    {
      *v15 = 0;
      v15[1] = 0;
      --*(*a1 - 16);
      v12 = v15;
    }
  }

  WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v12, a2);
  v19 = *a3;
  *a3 = 0;
  result = *(v12 + 8);
  *(v12 + 8) = v19;
  if (result)
  {
    result = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(result, v18);
  }

  v20 = *a1;
  if (*a1)
  {
    v21 = *(v20 - 12) + 1;
  }

  else
  {
    v21 = 1;
  }

  *(v20 - 12) = v21;
  v22 = (*(v20 - 16) + v21);
  v23 = *(v20 - 4);
  if (v23 > 0x400)
  {
    if (v23 <= 2 * v22)
    {
LABEL_22:
      result = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(a1, v12);
      v12 = result;
      v20 = *a1;
      if (*a1)
      {
        v23 = *(v20 - 4);
      }

      else
      {
        v23 = 0;
      }
    }
  }

  else if (3 * v23 <= 4 * v22)
  {
    goto LABEL_22;
  }

  v26 = v20 + 16 * v23;
  v27 = 1;
LABEL_28:
  *a4 = v12;
  *(a4 + 8) = v26;
  *(a4 + 16) = v27;
  return result;
}

WebCore::Node *WebKit::WebPage::wasLoadedWithDataTransferFromPrevalentResource(WebKit::WebPage *this)
{
  WebKit::WebPage::localTopDocument(&v2, *(this + 7));
  result = v2;
  if (v2)
  {
    WebCore::Document::wasLoadedWithDataTransferFromPrevalentResource(v2);
    result = v2;
    v2 = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        return WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebPage::didLoadFromRegistrableDomain(uint64_t a1, WTF **a2)
{
  WebKit::WebFrame::url(*(a1 + 88), v10);
  WebCore::RegistrableDomain::RegistrableDomain(&v11, v10);
  v7 = WTF::equal(*a2, v11, v4);
  v8 = v11;
  v11 = 0;
  if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8, v5);
  }

  result = v10[0];
  v10[0] = 0;
  if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    result = WTF::StringImpl::destroy(result, v5);
  }

  if ((v7 & 1) == 0)
  {
    return WTF::HashTable<WebCore::RegistrableDomain,WebCore::RegistrableDomain,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>((*(a1 + 40) + 328), a2, v6, v10);
  }

  return result;
}

uint64_t WebKit::WebPage::getLoadedSubresourceDomains(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 40);
  v7[0] = 0;
  v7[1] = 0;
  WTF::Mapper<WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> WTF::copyToVectorOf<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>(WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1> const&)::{lambda(WebCore::RegistrableDomain&&)#1},WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1> const&,void>::map(v7, (v3 + 328), &v8);
  WTF::CompletionHandler<void ()(WTF::Vector<WebCore::RegistrableDomain,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>)>::operator()(a2, v7, v4);
  return WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v7, v5);
}

unsigned __int8 *WebKit::WebPage::requestDOMPasteAccess(WebKit::WebPage *a1, char a2, uint64_t a3, uint64_t a4)
{
  v6 = a1;
  v29 = a3;
  WebKit::WebPage::preemptivelySendAutocorrectionContext(a1);
  v7 = WebKit::AXRelayProcessSuspendedNotification::AXRelayProcessSuspendedNotification(v28, v6, 1);
  WebKit::AXRelayProcessSuspendedNotification::~AXRelayProcessSuspendedNotification(v7, v8);
  v20[0] = WebKit::WebPage::rectForElementAtInteractionLocation(v6);
  v20[1] = v9;
  v21[0] = a2;
  v22 = &v29;
  v23 = v20;
  v24 = a4;
  WebKit::WebPage::cancelCurrentInteractionInformationRequest(v6);
  v10 = *(v6 + 32);
  v6 += 32;
  v11 = (*(v10 + 56))(v6);
  v12 = (*(*v6 + 48))(v6);
  v13 = v12;
  if (v12)
  {
    while (1)
    {
      v14 = *v12;
      if ((*v12 & 1) == 0)
      {
        break;
      }

      v15 = *v12;
      atomic_compare_exchange_strong_explicit(v12, &v15, v14 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v15 == v14)
      {
        goto LABEL_6;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v12);
LABEL_6:
    IPC::Connection::sendSync<Messages::WebPageProxy::RequestDOMPasteAccess>(v13, v21, v11, 0, &v25, INFINITY);
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v13);
    if (v27)
    {
      return 0;
    }

    else
    {
      v13 = v26;
      v16 = v25;
      v25 = 0;
      if (v16)
      {
        IPC::Decoder::~Decoder(v16);
        bmalloc::api::tzoneFree(v18, v19);
      }
    }
  }

  return v13;
}

WebCore::Node *WebKit::WebPage::simulateDeviceOrientationChange(WebKit::WebPage *this, double a2, double a3, double a4)
{
  WebKit::WebPage::localTopDocument(&v8, *(this + 7));
  result = v8;
  if (v8)
  {
    WebCore::Document::simulateDeviceOrientationChange(v8, a2, a3, a4);
    result = v8;
    v8 = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        return WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }
  }

  return result;
}

uint64_t *WebKit::WebPage::systemPreviewActionTriggered(WebCore::Document *a1, uint64_t a2, const char *a3)
{
  v5 = WebCore::Document::allDocumentsMap(a1);
  if (*(a2 + 32) == 0)
  {
    v13 = "/AppleInternal/Library/BuildRoots/4~CAtBugAdX2ypK3woS13W0YBGfMX4uuy1xhucdh4/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.1.Internal.sdk/usr/local/include/wtf/Markable.h";
    v14 = "T &WTF::Markable<WebCore::ProcessQualified<WTF::UUID>>::operator*() & [T = WebCore::ProcessQualified<WTF::UUID>, Traits = WTF::MarkableTraits<WebCore::ProcessQualified<UUID>>]";
    v12 = 158;
    v9 = 53;
    __break(0xC471u);
    return MEMORY[0x1EEE5B358](v12, v13, v14, v9);
  }

  result = WTF::HashTable<WebCore::ProcessQualified<WTF::UUID>,WTF::KeyValuePair<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashMap<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::FastMalloc>::lookup<WTF::HashMapTranslatorAdapter<WTF::HashMap<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::IdentityHashTranslator<WTF::HashMap<WebCore::ProcessQualified<WTF::UUID>,WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WebCore::ProcessQualified<WTF::UUID>>,WTF::HashTraits<WTF::WeakRef<WebCore::Document,WebCore::WeakPtrImplWithEventTargetData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::ProcessQualified<WTF::UUID>>>>,(WTF::ShouldValidateKey)1,WebCore::ProcessQualified<WTF::UUID>>(v5, (a2 + 32));
  if (result)
  {
    v7 = result[4];
    if (v7)
    {
      v8 = *(v7 + 8);
      if (v8)
      {
        result = WebCore::Document::pageID(*(v7 + 8));
        if (v10)
        {
          v11 = *(a2 + 16);
          if (v11)
          {
            if (v11 == result)
            {
              v12 = v8;
              v13 = a2;
              v14 = a3;

              return MEMORY[0x1EEE5B358](v12, v13, v14, v9);
            }
          }
        }
      }
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::speakingErrorOccurred(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (v1)
  {
    ++*(v1 + 8);
  }

  (*(**(v1 + 240) + 40))(&v5);
  WTF::RefCounted<WebCore::Page>::deref((v1 + 8));
  result = v5;
  if (v5)
  {
    v4 = *(v5 + 1);
    if (v4)
    {
      (*(*v4 + 64))(*(v5 + 1));
      result = v5;
      v5 = 0;
      if (!result)
      {
        return result;
      }
    }

    else
    {
      v5 = 0;
    }

    if (atomic_fetch_add(result, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      return WTF::fastFree(result, v2);
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::boundaryEventOccurred(WebKit::WebPage *this, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v7 = *(this + 7);
  if (v7)
  {
    ++*(v7 + 8);
  }

  (*(**(v7 + 240) + 40))(&v11);
  WTF::RefCounted<WebCore::Page>::deref((v7 + 8));
  result = v11;
  if (v11)
  {
    v10 = *(v11 + 1);
    if (v10)
    {
      (*(*v10 + 72))(*(v11 + 1), a2, a3, a4);
      result = v11;
      v11 = 0;
      if (!result)
      {
        return result;
      }
    }

    else
    {
      v11 = 0;
    }

    if (atomic_fetch_add(result, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      return WTF::fastFree(result, v8);
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::voicesDidChange(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (v1)
  {
    ++*(v1 + 8);
  }

  (*(**(v1 + 240) + 40))(&v5);
  WTF::RefCounted<WebCore::Page>::deref((v1 + 8));
  result = v5;
  if (v5)
  {
    v4 = *(v5 + 1);
    if (v4)
    {
      (*(*v4 + 80))(*(v5 + 1));
      result = v5;
      v5 = 0;
      if (!result)
      {
        return result;
      }
    }

    else
    {
      v5 = 0;
    }

    if (atomic_fetch_add(result, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      return WTF::fastFree(result, v2);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::insertAttachment(uint64_t a1, uint64_t a2, uint64_t a3, WTF::StringImpl **a4, WTF::StringImpl **a5, uint64_t *a6)
{
  v9 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v9)
  {
    v10 = v9;
    ++*(v9 + 16);
    v11 = *(v9 + 224);
    if (v11)
    {
      *(v11 + 7) += 2;
      v12 = WebCore::Document::editor(v11);
      if (*(v11 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v11);
      }

      else
      {
        *(v11 + 7) -= 2;
      }
    }

    else
    {
      v12 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v12);
    v14 = *a4;
    if (*a4)
    {
      if ((*(v14 + 16) & 0x10) != 0)
      {
        atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
      }

      else
      {
        WTF::AtomStringImpl::addSlowCase(&v23, v14, v13);
        v14 = v23;
      }
    }

    v22 = v14;
    v15 = *a5;
    if (*a5)
    {
      if ((*(v15 + 16) & 0x10) != 0)
      {
        atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
      }

      else
      {
        WTF::AtomStringImpl::addSlowCase(&v23, v15, v13);
        v15 = v23;
      }
    }

    v23 = v15;
    WebCore::Editor::insertAttachment();
    v17 = v23;
    v23 = 0;
    if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v17, v16);
    }

    if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v22, v16);
    }

    WebCore::Editor::deref(v12);
    v18 = *a6;
    *a6 = 0;
    (*(*v18 + 16))(v18);
    result = (*(*v18 + 8))(v18);
    if (v10[4] == 1)
    {
      return (*(*v10 + 8))(v10);
    }

    else
    {
      --v10[4];
    }
  }

  else
  {
    v20 = *a6;
    *a6 = 0;
    (*(*v20 + 16))(v20);
    v21 = *(*v20 + 8);

    return v21(v20);
  }

  return result;
}

uint64_t WebKit::WebPage::updateAttachmentAttributes(uint64_t a1, const WTF::String *a2, uint64_t a3, WTF::StringImpl **a4, WTF::StringImpl **a5, IPC::SharedBufferReference *a6, uint64_t *a7)
{
  WebKit::WebPage::attachmentElementWithIdentifier(&v27, *(a1 + 56), a2);
  if (!v27)
  {
    goto LABEL_23;
  }

  v11 = *(*(v27 + 6) + 8);
  *(v11 + 7) += 2;
  WebCore::Document::updateLayout();
  if (*(v11 + 7) == 2)
  {
    WebCore::Node::removedLastRef(v11);
  }

  else
  {
    *(v11 + 7) -= 2;
  }

  v13 = *a4;
  if (*a4)
  {
    if ((*(v13 + 16) & 0x10) != 0)
    {
      atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
    }

    else
    {
      WTF::AtomStringImpl::addSlowCase(&v28, v13, v12);
      v13 = v28;
    }
  }

  v26 = v13;
  v14 = *a5;
  if (*a5)
  {
    if ((*(v14 + 16) & 0x10) != 0)
    {
      atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
    }

    else
    {
      WTF::AtomStringImpl::addSlowCase(&v28, v14, v12);
      v14 = v28;
    }
  }

  v28 = v14;
  WebCore::HTMLAttachmentElement::updateAttributes();
  v16 = v28;
  v28 = 0;
  if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v16, v15);
  }

  v17 = v26;
  v26 = 0;
  if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v17, v15);
  }

  if (*a6 || *(a6 + 1))
  {
    IPC::SharedBufferReference::unsafeBuffer(a6, &v26);
    v18 = 0;
    v19 = v26;
    v26 = 0;
  }

  else
  {
    v25 = WTF::fastMalloc(0x40);
    v19 = WebCore::SharedBuffer::SharedBuffer(v25);
    v18 = 1;
  }

  v28 = v19;
  WebCore::HTMLAttachmentElement::updateAssociatedElementWithData();
  v20 = v28;
  v28 = 0;
  if (v20 && atomic_fetch_add(v20 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v20 + 2);
    (*(*v20 + 8))(v20);
    if ((v18 & 1) == 0)
    {
      goto LABEL_17;
    }
  }

  else if ((v18 & 1) == 0)
  {
LABEL_17:
    v21 = v26;
    v26 = 0;
    if (v21 && atomic_fetch_add(v21 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v21 + 2);
      (*(*v21 + 8))(v21);
    }
  }

  v22 = v27;
  v27 = 0;
  if (v22)
  {
    if (*(v22 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v22);
    }

    else
    {
      *(v22 + 7) -= 2;
    }
  }

LABEL_23:
  v23 = *a7;
  *a7 = 0;
  (*(*v23 + 16))(v23);
  return (*(*v23 + 8))(v23);
}

WebCore::Node *WebKit::WebPage::attachmentElementWithIdentifier(WebKit::WebPage *this, const WTF::String *a2, const WTF::String *a3)
{
  WebKit::WebPage::localTopDocument(&v6, a2);
  result = v6;
  if (v6)
  {
    WebCore::Document::attachmentForIdentifier(v6, a3);
    result = v6;
    v6 = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        return WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }
  }

  else
  {
    *this = 0;
  }

  return result;
}

WebCore::Node *WebKit::WebPage::updateAttachmentIcon(uint64_t a1, const WTF::String *a2, uint64_t a3)
{
  result = WebKit::WebPage::attachmentElementWithIdentifier(&v21, *(a1 + 56), a2);
  if (!v21)
  {
    return result;
  }

  if (*(a3 + 80) == 1)
  {
    WebCore::ShareableBitmap::create();
    if (v20)
    {
      if (*(v21 + 120) != 1)
      {
        WebCore::ShareableBitmap::createImage(&v17.m_location, v20);
        WebCore::HTMLAttachmentElement::updateIconForNarrowLayout();
        m_location = v17.m_location;
        v17.m_location = 0;
        if (m_location)
        {
          if (m_location[4] == 1)
          {
            (*(*m_location + 8))(m_location);
          }

          else
          {
            --m_location[4];
          }
        }

        goto LABEL_16;
      }

      *&v5 = *(v20 + 3);
      *&v17.m_location.m_x = *(v20 + 2);
      v17.m_location.m_y = v5;
      WebCore::DestinationColorSpace::SRGB(v20);
      WebCore::ImageBuffer::create();
      if (v19)
      {
        v7 = (*(*v19 + 16))(v19);
        v8 = *(v20 + 1);
        v17.m_location = 0;
        v17.m_size = v8;
        v18 = 0;
        WebCore::ShareableBitmap::paint(v20, v7, &v18, &v17);
        WTF::StringImpl::createWithoutCopyingNonEmpty();
        WebCore::ImageBuffer::toData();
        v10 = v18;
        v18 = 0;
        if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v10, v9);
        }

        WebCore::HTMLAttachmentElement::updateIconForWideLayout();
        v12 = v17.m_location;
        if (v17.m_location)
        {
          v17.m_location = 0;
          v17.m_size.m_width = 0;
          WTF::fastFree(v12, v11);
        }

        v13 = v19;
        v19 = 0;
        if (v13)
        {
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebCore::ImageBuffer,(WTF::DestructionThread)0>::deref((v13 + 8), v11);
        }

LABEL_16:
        v15 = v20;
        v20 = 0;
        if (v15)
        {
          WTF::ThreadSafeRefCounted<WebCore::ShareableBitmap,(WTF::DestructionThread)0>::deref(v15, v11);
        }

        goto LABEL_22;
      }

      v16 = v20;
      v20 = 0;
      WTF::ThreadSafeRefCounted<WebCore::ShareableBitmap,(WTF::DestructionThread)0>::deref(v16, v6);
    }
  }

  if (*(v21 + 120) == 1)
  {
    v17.m_location = 0;
    v17.m_size = 0;
    WebCore::HTMLAttachmentElement::updateIconForWideLayout();
  }

  else
  {
    WebCore::HTMLAttachmentElement::updateIconForNarrowLayout();
    v17.m_location = 0;
  }

LABEL_22:
  result = v21;
  v21 = 0;
  if (result)
  {
    if (*(result + 7) == 2)
    {
      return WebCore::Node::removedLastRef(result);
    }

    else
    {
      *(result + 7) -= 2;
    }
  }

  return result;
}

WebCore::Node *WebKit::WebPage::requestAttachmentIcon(const WTF::String **this, const WTF::String *a2, const WebCore::FloatSize *a3)
{
  WebKit::WebPage::attachmentElementWithIdentifier(&v25, this[7], a2);
  result = v25;
  if (v25)
  {
    v24 = 0;
    v7 = WebCore::HTMLAttachmentElement::file(v25);
    if (v7)
    {
      v8 = *(v7 + 16);
      *(v7 + 16) = v8 + 1;
      v9 = *(v7 + 136);
      if (v9)
      {
        atomic_fetch_add_explicit(v9, 2u, memory_order_relaxed);
        v8 = *(v7 + 16) - 1;
      }

      v24 = v9;
      if (v8)
      {
        *(v7 + 16) = v8;
      }

      else
      {
        (*(*v7 + 8))(v7);
      }
    }

    WebCore::HTMLAttachmentElement::attachmentType(&v23, v25);
    WebCore::HTMLAttachmentElement::attachmentTitle(&v22, v25);
    v11 = this[4];
    v10 = (this + 4);
    v12 = (*(v11 + 7))(v10);
    v14 = IPC::Encoder::operator new(0x238, v13);
    *v14 = 2326;
    *(v14 + 2) = 0;
    *(v14 + 3) = 0;
    *(v14 + 1) = v12;
    *(v14 + 68) = 0;
    *(v14 + 70) = 0;
    *(v14 + 69) = 0;
    IPC::Encoder::encodeHeader(v14);
    v26 = v14;
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, a2);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, &v23);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, &v24);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v14, &v22);
    IPC::ArgumentCoder<WebCore::FloatPoint,void>::encode(v14, a3);
    (*(*v10 + 32))(v10, &v26, 0);
    v16 = v26;
    v26 = 0;
    if (v16)
    {
      IPC::Encoder::~Encoder(v16, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    v17 = v22;
    v22 = 0;
    if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v17, v15);
    }

    v18 = v23;
    v23 = 0;
    if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v18, v15);
    }

    v19 = v24;
    v24 = 0;
    if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v19, v15);
    }

    result = v25;
    v25 = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        return WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }
  }

  return result;
}

void WebKit::WebPage::getApplicationManifest(uint64_t a1, uint64_t *a2)
{
  v3 = *(*(*(a1 + 88) + 40) + 8);
  if (*(v3 + 136))
  {
    v3 = 0;
  }

  v4 = *(v3 + 224);
  if (v4)
  {
    *(v4 + 7) += 2;
    v5 = WebCore::Document::loader(v4);
    if (v5)
    {
      v6 = v5;
      ++*(v5 + 24);
      WebCore::DocumentLoader::loadApplicationManifest();
      if (v6[6] == 1)
      {
        (*(*v6 + 24))(v6);
      }

      else
      {
        --v6[6];
      }

LABEL_7:
      if (*(v4 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v4);
      }

      else
      {
        *(v4 + 7) -= 2;
      }

      return;
    }
  }

  v9[0] = 0;
  v10 = 0;
  v7 = *a2;
  *a2 = 0;
  (*(*v7 + 16))(v7, v9);
  (*(*v7 + 8))(v7);
  if (v10 == 1)
  {
    WebCore::ApplicationManifest::~ApplicationManifest(v9, v8);
  }

  if (v4)
  {
    goto LABEL_7;
  }
}

void WebKit::WebPage::getTextFragmentMatch(uint64_t a1, uint64_t *a2)
{
  v3 = *(*(a1 + 88) + 40);
  if (v3)
  {
    v4 = *(v3 + 8);
    if (v4)
    {
      if (*(v4 + 136) != 1)
      {
        v5 = *(v4 + 224);
        if (v5)
        {
          *(v5 + 28) += 2;
          v6 = *(v5 + 3216);
          if (v6 && (atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed), v6[1]))
          {
            WebCore::FragmentDirectiveParser::FragmentDirectiveParser();
            if (v42)
            {
              v37 = 0;
              v38 = 0;
              v39 = v41;
              if (v41)
              {
                if (v41 >> 27)
                {
                  __break(0xC471u);
                  return;
                }

                v7 = WTF::fastMalloc((32 * v41));
                v38 = v41;
                v37 = v7;
                v8 = v40;
                v9 = (v40 + 32 * v41);
                do
                {
                  v10 = *v8;
                  if (*v8)
                  {
                    atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
                  }

                  *v7 = v10;
                  v11 = *(v8 + 1);
                  if (v11)
                  {
                    atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
                  }

                  *(v7 + 1) = v11;
                  v12 = *(v8 + 2);
                  if (v12)
                  {
                    atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
                  }

                  *(v7 + 2) = v12;
                  v13 = *(v8 + 3);
                  if (v13)
                  {
                    atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
                  }

                  *(v7 + 3) = v13;
                  v7 = (v7 + 32);
                  v8 = (v8 + 32);
                }

                while (v8 != v9);
              }

              WebCore::FragmentDirectiveRangeFinder::findRangesFromTextDirectives();
              if (v36)
              {
                WebCore::plainText();
              }

              else
              {
                v34 = 0;
              }

              v20 = *a2;
              *a2 = 0;
              (*(*v20 + 16))(v20, &v34);
              (*(*v20 + 8))(v20);
              v22 = v34;
              v34 = 0;
              if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v22, v21);
              }

              WTF::Vector<WebCore::SimpleRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v35, v21);
              if (v39)
              {
                v24 = 32 * v39;
                v25 = v37 + 16;
                do
                {
                  v26 = *(v25 + 1);
                  *(v25 + 1) = 0;
                  if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v26, v23);
                  }

                  v27 = *v25;
                  *v25 = 0;
                  if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v27, v23);
                  }

                  v28 = *(v25 - 1);
                  *(v25 - 1) = 0;
                  if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v28, v23);
                  }

                  v29 = *(v25 - 2);
                  *(v25 - 2) = 0;
                  if (v29 && atomic_fetch_add_explicit(v29, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v29, v23);
                  }

                  v25 += 32;
                  v24 -= 32;
                }

                while (v24);
              }

              v30 = v37;
              if (v37)
              {
                v37 = 0;
                v38 = 0;
                WTF::fastFree(v30, v23);
              }
            }

            else
            {
              v37 = 0;
              v17 = *a2;
              *a2 = 0;
              (*(*v17 + 16))(v17, &v37);
              (*(*v17 + 8))(v17);
              v19 = v37;
              v37 = 0;
              if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v19, v18);
              }
            }

            WebCore::FragmentDirectiveParser::~FragmentDirectiveParser(&v40);
          }

          else
          {
            v40 = 0;
            v14 = *a2;
            *a2 = 0;
            (*(*v14 + 16))(v14, &v40);
            (*(*v14 + 8))(v14);
            v16 = v40;
            v40 = 0;
            if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v16, v15);
            }

            if (!v6)
            {
              goto LABEL_54;
            }
          }

          if (atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v6, v15);
          }

LABEL_54:
          if (*(v5 + 28) == 2)
          {
            WebCore::Node::removedLastRef(v5);
          }

          else
          {
            *(v5 + 28) -= 2;
          }

          return;
        }
      }
    }
  }

  v40 = 0;
  v31 = *a2;
  *a2 = 0;
  (*(*v31 + 16))(v31, &v40);
  (*(*v31 + 8))(v31);
  v33 = v40;
  v40 = 0;
  if (v33 && atomic_fetch_add_explicit(v33, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v33, v32);
  }
}

uint64_t WebKit::WebPage::setCanShowPlaceholder(WebKit::WebPage *this, const WebCore::ElementContext *a2)
{
  result = WebKit::WebPage::elementForContext(this, a2, &v4);
  v3 = v4;
  if (v4)
  {
    *(v4 + 7) += 2;
    result = (*(*v3 + 864))(v3);
    if (result)
    {
      result = WebCore::HTMLTextFormControlElement::setCanShowPlaceholder(v3);
    }

    if (*(v3 + 7) == 2)
    {
      result = WebCore::Node::removedLastRef(v3);
    }

    else
    {
      *(v3 + 7) -= 2;
    }

    if (*(v3 + 7) == 2)
    {

      return WebCore::Node::removedLastRef(v3);
    }

    else
    {
      *(v3 + 7) -= 2;
    }
  }

  return result;
}

uint64_t WebKit::WebPage::elementForContext@<X0>(uint64_t this@<X0>, const WebCore::ElementContext *a2@<X1>, void *a3@<X8>)
{
  v4 = *(a2 + 2);
  if (v4)
  {
    v5 = v4 == *(this + 48);
  }

  else
  {
    v5 = 0;
  }

  if (v5 && (v7 = this, (this = *(a2 + 8)) != 0) && (this = WebCore::Element::fromIdentifier()) != 0)
  {
    v8 = *(this + 28);
    *(this + 28) = v8 + 2;
    if ((*(this + 22) & 8) == 0 || *(a2 + 2) == 0)
    {
      goto LABEL_23;
    }

    v9 = *(*(this + 48) + 8);
    v10 = *(a2 + 5) == v9[57] && *(a2 + 4) == v9[56];
    if (!v10 || *(a2 + 6) != v9[58])
    {
      goto LABEL_23;
    }

    v12 = v9[69];
    if (v12)
    {
      v12 = *(v12 + 8);
      if (v12)
      {
        v12 = *(v12 + 24);
        if (v12)
        {
          v12 = *(v12 + 8);
        }
      }
    }

    if (v12 == *(v7 + 56))
    {
      *a3 = this;
    }

    else
    {
LABEL_23:
      *a3 = 0;
      if (v8)
      {
        *(this + 28) = v8;
      }

      else
      {

        return WebCore::Node::removedLastRef(this);
      }
    }
  }

  else
  {
    *a3 = 0;
  }

  return this;
}

uint64_t WebKit::WebPage::contextForElement@<X0>(uint64_t this@<X0>, const WebCore::Element *a2@<X1>, uint64_t a3@<X8>)
{
  v21 = *MEMORY[0x1E69E9840];
  v4 = *(*(a2 + 6) + 8);
  *(v4 + 28) += 2;
  v5 = *(this + 56);
  if (!v5)
  {
    goto LABEL_13;
  }

  v6 = *(v4 + 552);
  if (!v6)
  {
    goto LABEL_13;
  }

  v7 = *(v6 + 8);
  if (!v7)
  {
    goto LABEL_13;
  }

  v9 = this;
  v10 = *(v7 + 24);
  if (v10)
  {
    v10 = *(v10 + 8);
  }

  if (v10 == v5)
  {
    ++*(v7 + 16);
    v15[0] = WebCore::Element::boundingBoxInRootViewCoordinates(a2);
    v15[1] = v11;
    WebCore::FloatRect::FloatRect(&v16, v15);
    *&v17 = *(v9 + 48);
    v12 = *(v4 + 464);
    v18 = *(v4 + 448);
    v19 = v12;
    this = WebCore::Element::identifier(a2);
    *&v20 = this;
    v13 = v19;
    *(a3 + 32) = v18;
    *(a3 + 48) = v13;
    v14 = v17;
    *a3 = v16;
    *(a3 + 16) = v14;
    *(a3 + 64) = v20;
    *(a3 + 80) = 1;
    if (*(v7 + 16) == 1)
    {
      this = (*(*v7 + 8))(v7);
    }

    else
    {
      --*(v7 + 16);
    }
  }

  else
  {
LABEL_13:
    *a3 = 0;
    *(a3 + 80) = 0;
  }

  if (*(v4 + 28) == 2)
  {
    return WebCore::Node::removedLastRef(v4);
  }

  *(v4 + 28) -= 2;
  return this;
}

uint64_t WebKit::WebPage::startTextManipulations(uint64_t a1, _DWORD *a2, int a3, uint64_t *a4)
{
  if (*(a1 + 56))
  {
    v8 = *(a1 + 40);
    if (*(v8 + 424) == 1)
    {
      v9 = *(v8 + 420);
      if (v9)
      {
        WTF::VectorTypeOperations<WebCore::TextManipulationControllerExclusionRule>::destruct(*(v8 + 408), (*(v8 + 408) + 32 * v9));
      }

      WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(v8 + 408, a2);
    }

    else
    {
      *(v8 + 408) = 0;
      *(v8 + 416) = 0;
      WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(v8 + 408, a2);
      *(v8 + 424) = 1;
    }

    *(a1 + 2040) = a3;
    v10 = *(*(a1 + 88) + 40);
    if (a3)
    {
      if (v10)
      {
        v11 = *(v10 + 8);
        if (v11)
        {
          ++v11[4];
          do
          {
            WebKit::WebPage::startTextManipulationForFrame(a1, v11);
            v12 = WebCore::FrameTree::traverseNext((v11 + 10), 0);
            v13 = v12;
            if (v12)
            {
              ++*(v12 + 16);
            }

            if (v11[4] == 1)
            {
              (*(*v11 + 8))(v11);
            }

            else
            {
              --v11[4];
            }

            v11 = v13;
          }

          while (v13);
        }
      }
    }

    else if (v10)
    {
      v14 = *(v10 + 8);
      if (v14)
      {
        if ((*(v14 + 136) & 1) == 0)
        {
          ++*(v14 + 16);
          WebKit::WebPage::startTextManipulationForFrame(a1, v14);
          if (*(v14 + 16) == 1)
          {
            (*(*v14 + 8))(v14);
          }

          else
          {
            --*(v14 + 16);
          }
        }
      }
    }
  }

  v15 = *a4;
  *a4 = 0;
  (*(*v15 + 16))(v15);
  v16 = *(*v15 + 8);

  return v16(v15);
}

WTF *WebKit::WebPage::completeTextManipulation(uint64_t a1, uint64_t **a2, uint64_t *a3)
{
  if (*(a1 + 56) && (v5 = *(a2 + 3), v5))
  {
    v6 = *a2;
    v7 = **a2;
    v36 = &v37;
    v37 = v7;
    v8 = 40 * v5;
    v9 = 40 * v5;
    v10 = v6;
    while (1)
    {
      v11 = v7 != 0;
      v12 = *v10 != 0;
      if (v11 && v12 ? v7 != *v10 : v11 ^ v12)
      {
        break;
      }

      v10 += 5;
      v9 -= 40;
      if (!v9)
      {
        WebKit::WebPage::completeTextManipulation(WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::TextManipulationControllerManipulationResult const&)> &&)::$_1::operator()(v38, &v36);
        goto LABEL_29;
      }
    }

    v14 = 0;
    v15 = 0;
    v16 = 0;
    *v38 = 0u;
    *v39 = 0u;
    v35[0] = &v36;
    v35[1] = v38;
    v17 = 1;
    do
    {
      v18 = v7 != 0;
      v19 = v6[v14 / 8];
      v20 = v19 != 0;
      v21 = v7 == v19;
      if (v18 && v20)
      {
        v22 = v21;
      }

      else
      {
        v22 = v18 ^ v20 ^ 1u;
      }

      if (v22)
      {
        v22 = v16;
      }

      else
      {
        v23 = v15 - v16;
        if (v15 < v16)
        {
          goto LABEL_34;
        }

        v24 = *(a2 + 3);
        if (v23 > v24)
        {
          goto LABEL_26;
        }

        v24 = v17 + v16 + v24 - 1;
        if (v24 < v16)
        {
          goto LABEL_26;
        }

        WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector<WebCore::TextManipulationItem const,18446744073709551615ul>(v34, &(*a2)[v14 / 8 + -5 * v16], v16);
        WebKit::WebPage::completeTextManipulation(WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::TextManipulationControllerManipulationResult const&)> &&)::$_2::operator()(v35, v23, v34, v25);
        WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v34, v26);
        v22 = 0;
        v7 = v6[v14 / 8];
        v37 = v7;
      }

      ++v15;
      v16 = v22 + 1;
      --v17;
      v14 += 40;
    }

    while (v8 != v14);
    if (v15 < v16)
    {
LABEL_34:
      __break(0xC471u);
      JUMPOUT(0x19E4013ACLL);
    }

    v24 = -v22;
    v23 = -v22 - v17;
    v21 = *(a2 + 3);
    if (v23 <= v21)
    {
      v24 = *a2;
      v21 += v22 + v17;
      if (v22 == -2)
      {
        goto LABEL_27;
      }

      if (v21 >= v16)
      {
        goto LABEL_28;
      }
    }

LABEL_26:
    __break(1u);
LABEL_27:
    v16 = v21;
LABEL_28:
    WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector<WebCore::TextManipulationItem const,18446744073709551615ul>(v33, v24 - 40 * v22 + v14 - 40, v16);
    WebKit::WebPage::completeTextManipulation(WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::TextManipulationControllerManipulationResult const&)> &&)::$_2::operator()(v35, v23, v33, v27);
    WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v33, v28);
  }

  else
  {
    *v38 = 0u;
    *v39 = 0u;
  }

LABEL_29:
  v29 = *a3;
  *a3 = 0;
  (*(*v29 + 16))(v29, v38);
  (*(*v29 + 8))(v29);
  v31 = v39[0];
  if (v39[0])
  {
    v39[0] = 0;
    LODWORD(v39[1]) = 0;
    WTF::fastFree(v31, v30);
  }

  result = v38[0];
  if (v38[0])
  {
    v38[0] = 0;
    LODWORD(v38[1]) = 0;
    return WTF::fastFree(result, v30);
  }

  return result;
}

void WebKit::WebPage::completeTextManipulation(WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::TextManipulationControllerManipulationResult const&)> &&)::$_1::operator()(WebKit::WebProcess *a1, void **a2)
{
  v4 = WebKit::WebProcess::singleton(a1, a2);
  v5 = WebKit::WebProcess::webFrame(v4, **a2, **a2 != 0);
  if (!v5)
  {
    *a1 = 0u;
    *(a1 + 1) = 0u;
    return;
  }

  v6 = v5;
  CFRetain(*(v5 + 8));
  v7 = *(v6 + 40);
  if (!v7 || (v8 = *(v7 + 8)) == 0 || (*(v8 + 136) & 1) != 0)
  {
    *a1 = 0u;
    *(a1 + 1) = 0u;
    goto LABEL_9;
  }

  v9 = *(v8 + 16);
  *(v8 + 16) = v9 + 1;
  v10 = *(*(v8 + 224) + 3184);
  if (v10)
  {
    ++*(v10 + 8);
    WebCore::TextManipulationController::completeManipulation();
    v11 = *(v10 + 8);
    if (!v11)
    {
      __break(0xC471u);
      return;
    }

    *(v10 + 8) = v11 - 1;
    v9 = *(v8 + 16) - 1;
    if (*(v8 + 16) != 1)
    {
      goto LABEL_8;
    }

LABEL_14:
    (*(*v8 + 8))(v8);
    goto LABEL_9;
  }

  *a1 = 0u;
  *(a1 + 1) = 0u;
  if (!v9)
  {
    goto LABEL_14;
  }

LABEL_8:
  *(v8 + 16) = v9;
LABEL_9:
  v12 = *(v6 + 8);

  CFRelease(v12);
}

WTF *WebKit::WebPage::completeTextManipulation(WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::TextManipulationControllerManipulationResult const&)> &&)::$_2::operator()(uint64_t a1, uint64_t a2, void *a3, __n128 a4)
{
  a4.n128_u64[0] = 0;
  v6 = *a1;
  v40[0] = *a3;
  v40[1] = a3[1];
  v39 = a4;
  *a3 = a4;
  WebKit::WebPage::completeTextManipulation(WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,WTF::CompletionHandler<void ()(WebCore::TextManipulationControllerManipulationResult const&)> &&)::$_1::operator()(&v41, v6);
  WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v40, v7);
  WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v39, v8);
  v10 = v41;
  v11 = v43;
  if (v43)
  {
    v12 = 32 * v43;
    v13 = (v41 + 16);
    do
    {
      *v13 += a2;
      v13 += 4;
      v12 -= 32;
    }

    while (v12);
  }

  if (v46)
  {
    v14 = v44;
    v15 = 8 * v46;
    do
    {
      *v14 += a2;
      v14 = (v14 + 8);
      v15 -= 8;
    }

    while (v15);
  }

  v16 = *(a1 + 8);
  v17 = *(v16 + 8);
  v18 = *(v16 + 12) + v11;
  if (v18 > v17)
  {
    v19 = v17 + (v17 >> 1);
    if (v19 <= v17 + 1)
    {
      v19 = v17 + 1;
    }

    if (v19 <= v18)
    {
      v19 = *(v16 + 12) + v11;
    }

    if (v19 <= 0x10)
    {
      v20 = 16;
    }

    else
    {
      v20 = v19;
    }

    WTF::Vector<WebKit::DocumentEditingContext::TextRectAndRange,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(*(a1 + 8), v20);
    v11 = v43;
    v10 = v41;
  }

  if (v11)
  {
    v21 = *(v16 + 12);
    v22 = 32 * v11;
    do
    {
      v23 = (*v16 + 32 * v21);
      v24 = *v10;
      v25 = *(v10 + 1);
      v10 = (v10 + 32);
      *v23 = v24;
      v23[1] = v25;
      v21 = *(v16 + 12) + 1;
      *(v16 + 12) = v21;
      v22 -= 32;
    }

    while (v22);
  }

  v26 = *(a1 + 8);
  v27 = v46;
  v28 = *(v26 + 24);
  v29 = v46 + *(v26 + 28);
  if (v29 > v28)
  {
    v30 = v28 + (v28 >> 1);
    if (v30 <= v28 + 1)
    {
      v30 = v28 + 1;
    }

    if (v30 <= v29)
    {
      v30 = v46 + *(v26 + 28);
    }

    if (v30 <= 0x10)
    {
      v31 = 16;
    }

    else
    {
      v31 = v30;
    }

    WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(v26 + 16, v31);
    v27 = v46;
  }

  v32 = v44;
  if (v27)
  {
    v33 = *(v26 + 16);
    v34 = *(v26 + 28);
    v35 = 8 * v27;
    v36 = v44;
    do
    {
      v37 = *v36;
      v36 = (v36 + 8);
      *(v33 + 8 * v34++) = v37;
      v35 -= 8;
    }

    while (v35);
    *(v26 + 28) = v34;
  }

  if (v32)
  {
    v44 = 0;
    v45 = 0;
    WTF::fastFree(v32, v9);
  }

  result = v41;
  if (v41)
  {
    v41 = 0;
    v42 = 0;
    return WTF::fastFree(result, v9);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::configureLoggingChannel(WebKit::WebProcess *a1, void *a2, char a3, char a4)
{
  v8 = *(WebKit::WebProcess::singleton(a1, a2) + 45);
  if (v8)
  {
    v16 = (v8 + 24);
    while (1)
    {
      v17 = *v16;
      if ((*v16 & 1) == 0)
      {
        break;
      }

      v18 = *v16;
      atomic_compare_exchange_strong_explicit(v16, &v18, v17 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v18 == v17)
      {
        goto LABEL_10;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v16);
LABEL_10:
    v21 = *(v8 + 32);
    v24 = a2;
    v25 = a3;
    v26 = a4;
    IPC::Connection::send<Messages::GPUConnectionToWebProcess::ConfigureLoggingChannel>(v21, &v24, 0, 0, 0);
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::GPUProcessConnection,(WTF::DestructionThread)0>::deref((v8 + 24), v22);
  }

  v24 = a2;
  v25 = a3;
  v26 = a4;
  v10 = *(a1 + 4);
  v9 = (a1 + 32);
  v11 = (*(v10 + 56))(v9);
  v13 = IPC::Encoder::operator new(0x238, v12);
  *v13 = 2165;
  *(v13 + 2) = 0;
  *(v13 + 3) = 0;
  *(v13 + 1) = v11;
  *(v13 + 68) = 0;
  *(v13 + 70) = 0;
  *(v13 + 69) = 0;
  IPC::Encoder::encodeHeader(v13);
  v23 = v13;
  Messages::GPUConnectionToWebProcess::ConfigureLoggingChannel::encode<IPC::Encoder>(&v24, v13);
  (*(*v9 + 32))(v9, &v23, 0);
  result = v23;
  v23 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v14);
    return bmalloc::api::tzoneFree(v19, v20);
  }

  return result;
}

void *WebKit::WebPage::textAutosizingUsesIdempotentModeChanged(void *this)
{
  if ((*(*(this[7] + 120) + 739) & 0x80) == 0 && (this[238] & 0xFFFFFFFFFFFFLL) != 0)
  {
    return WebCore::TimerBase::stopSlowCase((this + 234));
  }

  return this;
}

uint64_t WebKit::WebPage::setOverriddenMediaType(WTF **this, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  result = WTF::equal(this[241], *a2, a3);
  if ((result & 1) == 0)
  {
    v7 = *a2;
    if (*a2)
    {
      if ((*(v7 + 16) & 0x10) != 0)
      {
        atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
      }

      else
      {
        WTF::AtomStringImpl::addSlowCase(&v11, v7, v6);
        v7 = v11;
      }
    }

    v8 = this[241];
    this[241] = v7;
    if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v8, v6);
    }

    v9 = this[7];
    if (v9)
    {
      v10 = (v9 + 8);
      ++*(v9 + 2);
      WebCore::Page::updateStyleAfterChangeInEnvironment(v9);
      return WTF::RefCounted<WebCore::Page>::deref(v10);
    }

    else
    {
      return WebCore::Page::updateStyleAfterChangeInEnvironment(0);
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::updateCORSDisablingPatterns(_DWORD *result, _DWORD *a2)
{
  v2 = *(result + 7);
  if (v2)
  {
    v4 = result;
    ++*(v2 + 8);
    v5 = (result + 512);
    v6 = result[515];
    if (v6)
    {
      WTF::VectorDestructor<true,WTF::String>::destruct(*v5, (*v5 + 8 * v6));
    }

    WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v5, a2);
    WebKit::WebPage::synchronizeCORSDisablingPatternsWithNetworkProcess(v4, v7);
    WebKit::parseAndAllowAccessToCORSDisablingPatterns(v9, v5);
    WebCore::Page::setCORSDisablingPatterns();
    WTF::Vector<WebCore::UserContentURLPattern,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v9, v8);
    return WTF::RefCounted<WebCore::Page>::deref((v2 + 8));
  }

  return result;
}

IPC::Encoder *IPC::Connection::send<Messages::NetworkConnectionToWebProcess::SetCORSDisablingPatterns>(uint64_t *a1, void *a2)
{
  v4 = IPC::Encoder::operator new(0x238, a2);
  *v4 = 485;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  Messages::NetworkConnectionToWebProcess::SetCORSDisablingPatterns::encode<IPC::Encoder>(a2, v4);
  IPC::Connection::sendMessageImpl(a1, &v9, 0, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::isAnyAnimationAllowedToPlayDidChange(IPC::Encoder *this, char a2)
{
  if ((*(*(*(this + 7) + 120) + 730) & 8) != 0)
  {
    v9 = a2;
    v2 = this + 32;
    v3 = (*(*(this + 4) + 56))(this + 32);
    v5 = IPC::Encoder::operator new(0x238, v4);
    *v5 = 2276;
    *(v5 + 2) = 0;
    *(v5 + 3) = 0;
    *(v5 + 1) = v3;
    *(v5 + 68) = 0;
    *(v5 + 70) = 0;
    *(v5 + 69) = 0;
    IPC::Encoder::encodeHeader(v5);
    v10 = v5;
    IPC::Encoder::operator<<<BOOL &>(v5, &v9);
    (*(*v2 + 32))(v2, &v10, 0);
    this = v10;
    v10 = 0;
    if (this)
    {
      IPC::Encoder::~Encoder(this, v6);
      return bmalloc::api::tzoneFree(v7, v8);
    }
  }

  return this;
}

IPC::Encoder *WebKit::WebPage::isPlayingMediaDidChange(uint64_t a1, int a2)
{
  v3 = a1 + 32;
  v4 = (*(*(a1 + 32) + 56))(a1 + 32);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2277;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, a2);
  (*(*v3 + 32))(v3, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

uint64_t WebKit::WebPage::requestTextRecognition(uint64_t result, WebCore::HTMLElement *a2, uint64_t a3, uint64_t *a4)
{
  if ((*(a2 + 16) & 0x10) != 0)
  {
    v7 = result;
    *(a2 + 7) += 2;
    v8 = *(result + 56);
    if (v8)
    {
      v9 = v8 + 2;
      ++v8[2];
      hasCachedTextRecognitionResult = WebCore::Page::hasCachedTextRecognitionResult(v8, a2);
      result = WTF::RefCounted<WebCore::Page>::deref(v9);
      if (hasCachedTextRecognitionResult)
      {
        goto LABEL_4;
      }
    }

    else
    {
      result = WebCore::Page::hasCachedTextRecognitionResult(0, a2);
      if (result)
      {
LABEL_4:
        if (*a4)
        {
          v72 = 0;
          if (WebCore::ImageOverlay::hasOverlay(a2, v11))
          {
            *(a2 + 7) += 2;
            v72 = a2;
          }

          v12 = *a4;
          goto LABEL_29;
        }

        goto LABEL_72;
      }
    }

    v14 = (v7 + 2080);
    v15 = *(v7 + 2092);
    if (v15)
    {
      v16 = 0;
      v17 = (*v14 + 20);
      while (1)
      {
        v18 = *(v17 - 5);
        if (v18)
        {
          if (*(v18 + 8) == a2)
          {
            break;
          }
        }

        ++v16;
        v17 += 6;
        if (v15 == v16)
        {
          goto LABEL_18;
        }
      }

      v33 = *a4;
      if (!*a4)
      {
        goto LABEL_72;
      }

      if (v16 < v15)
      {
        v34 = *v17;
        if (v34 == *(v17 - 1))
        {
          result = WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(v17 - 3, v34 + 1, a4);
          v35 = *v17;
          v36 = v35 + 1;
          v37 = *(v17 - 3);
          v38 = *result;
          *result = 0;
          *(v37 + 8 * v35) = v38;
        }

        else
        {
          v36 = v34 + 1;
          v43 = *(v17 - 3);
          *a4 = 0;
          *(v43 + 8 * v34) = v33;
        }

        *v17 = v36;
        goto LABEL_72;
      }

      __break(0xC471u);
      goto LABEL_84;
    }

LABEL_18:
    v19 = *(a2 + 9);
    if (!v19)
    {
      goto LABEL_27;
    }

    if ((*(v19 + 45) & 2) != 0)
    {
      __break(0xC471u);
      goto LABEL_86;
    }

    if ((*(v19 + 52) & 0x107) != 0x103)
    {
LABEL_27:
      v12 = *a4;
      if (*a4)
      {
        v72 = 0;
LABEL_29:
        *a4 = 0;
        (*(*v12 + 16))(v12, &v72);
        (*(*v12 + 8))(v12);
        result = v72;
        v72 = 0;
        if (result)
        {
          if (*(result + 28) == 2)
          {
            result = WebCore::Node::removedLastRef(result);
          }

          else
          {
            *(result + 28) -= 2;
          }
        }
      }

LABEL_72:
      if (*(a2 + 7) != 2)
      {
        *(a2 + 7) -= 2;
        return result;
      }

      result = a2;
      return WebCore::Node::removedLastRef(result);
    }

    ++*(v19 + 16);
    LOBYTE(v72) = 0;
    v73 = 0;
    v74 = 0;
    v75 = *(a3 + 16);
    WebKit::createShareableBitmap(v19, &v72, &v79);
    result = v79;
    if (v79)
    {
      WebCore::ShareableBitmap::createHandle();
      if (v78)
      {
        v70 = 0;
        v71 = 0;
        if (*a4)
        {
          v21 = WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v70, 1uLL, a4);
          v22 = HIDWORD(v71);
          v23 = HIDWORD(v71) + 1;
          v24 = v70;
          v25 = *v21;
          *v21 = 0;
          *(v24 + 8 * v22) = v25;
          HIDWORD(v71) = v23;
        }

        WTF::WeakPtrFactoryWithBitField<WebCore::EventTarget,WebCore::WeakPtrImplWithEventTargetData>::initializeIfNeeded(a2 + 4, a2);
        v27 = (*(a2 + 2) & 0xFFFFFFFFFFFFLL);
        atomic_fetch_add(v27, 1u);
        v67 = v27;
        v68 = v70;
        v28 = v71;
        v70 = 0;
        v71 = 0;
        v69 = v28;
        v29 = *(v7 + 2092);
        if (v29 == *(v7 + 2088))
        {
          v30 = WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::expandCapacity<(WTF::FailureAction)0>((v7 + 2080), v29 + 1, &v67);
          v31 = (*(v7 + 2080) + 24 * *(v7 + 2092));
          v32 = *v30;
          *v30 = 0;
          *v31 = v32;
          v31[2] = 0;
          v31[1] = 0;
          WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt((v31 + 1), (v30 + 8));
        }

        else
        {
          v44 = *v14 + 24 * v29;
          v67 = 0;
          *(v44 + 8) = 0;
          *(v44 + 16) = 0;
          *v44 = v27;
          v45 = v68;
          v68 = 0;
          *(v44 + 8) = v45;
          LODWORD(v45) = v69;
          LODWORD(v69) = 0;
          *(v44 + 16) = v45;
          LODWORD(v45) = HIDWORD(v69);
          HIDWORD(v69) = 0;
          *(v44 + 20) = v45;
        }

        ++*(v7 + 2092);
        WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v68, v26);
        v47 = v67;
        v67 = 0;
        if (v47)
        {
          WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v47, v46);
        }

        v48 = WebCore::CachedResourceHandleBase::get((*(v19 + 216) + 24));
        if (v48)
        {
          v49 = *(*(a2 + 6) + 8);
          *(v49 + 7) += 2;
          WebCore::ResourceRequestBase::url((v48 + 176));
          WebCore::Document::completeURL();
          if (*(v49 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v49);
          }

          else
          {
            *(v49 + 7) -= 2;
          }
        }

        else
        {
          v67 = 0;
          WTF::URL::invalidate(&v67);
        }

        if ((v78 & 1) == 0)
        {
LABEL_84:
          __break(1u);
          goto LABEL_85;
        }

        v50 = v7 + 32;
        WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v7 + 24), v7 + 16);
        v51 = *(v7 + 24);
        atomic_fetch_add(v51, 1u);
        WTF::WeakPtrFactoryWithBitField<WebCore::EventTarget,WebCore::WeakPtrImplWithEventTargetData>::initializeIfNeeded(a2 + 4, a2);
        v52 = (*(a2 + 2) & 0xFFFFFFFFFFFFLL);
        atomic_fetch_add(v52, 1u);
        v53 = (*(*(v7 + 32) + 56))(v7 + 32);
        v55 = IPC::Encoder::operator new(0x238, v54);
        *v55 = 2334;
        *(v55 + 2) = 0;
        *(v55 + 3) = 0;
        *(v55 + 1) = v53;
        *(v55 + 68) = 0;
        *(v55 + 70) = 0;
        *(v55 + 69) = 0;
        IPC::Encoder::encodeHeader(v55);
        v81 = v55;
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v55, &v67);
        IPC::ArgumentCoder<WebCore::ShareableBitmapHandle,void>::encode(v55, &v72);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v55, a3);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v55, (a3 + 8));
        v56 = WTF::fastMalloc(0x18);
        *v56 = &unk_1F11342B0;
        v56[1] = v51;
        v56[2] = v52;
        if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
        {
LABEL_85:
          __break(0xC471u);
LABEL_86:
          JUMPOUT(0x19E402438);
        }

        v57 = v56;
        IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
        v80[0] = v57;
        v80[1] = IdentifierInternal;
        (*(*v50 + 40))(v50, &v81, v80, 0);
        v60 = v80[0];
        v80[0] = 0;
        if (v60)
        {
          (*(*v60 + 8))(v60);
        }

        v61 = v81;
        v81 = 0;
        if (v61)
        {
          IPC::Encoder::~Encoder(v61, v59);
          bmalloc::api::tzoneFree(v65, v66);
        }

        v62 = v67;
        v67 = 0;
        if (v62 && atomic_fetch_add_explicit(v62, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v62, v59);
        }

        WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v70, v59);
      }

      else
      {
        v41 = *a4;
        if (*a4)
        {
          v67 = 0;
          *a4 = 0;
          (*(*v41 + 16))(v41, &v67);
          (*(*v41 + 8))(v41);
          v42 = v67;
          v67 = 0;
          if (v42)
          {
            if (*(v42 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v42);
            }

            else
            {
              *(v42 + 7) -= 2;
            }
          }
        }
      }

      if (v78 == 1)
      {
        if (v77 == 1)
        {
          v63 = cf;
          cf = 0;
          if (v63)
          {
            CFRelease(v63);
          }
        }

        WTF::MachSendRight::~MachSendRight(&v72);
      }
    }

    else
    {
      v39 = *a4;
      if (!*a4)
      {
LABEL_70:
        v64 = *(v19 + 16);
        if (!v64)
        {
          __break(0xC471u);
          JUMPOUT(0x19E402458);
        }

        *(v19 + 16) = v64 - 1;
        goto LABEL_72;
      }

      v72 = 0;
      *a4 = 0;
      (*(*v39 + 16))(v39, &v72);
      (*(*v39 + 8))(v39);
      v40 = v72;
      v72 = 0;
      if (v40)
      {
        if (*(v40 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v40);
        }

        else
        {
          *(v40 + 7) -= 2;
        }
      }
    }

    result = v79;
    v79 = 0;
    if (result)
    {
      result = WTF::ThreadSafeRefCounted<WebCore::ShareableBitmap,(WTF::DestructionThread)0>::deref(result, v20);
    }

    goto LABEL_70;
  }

  v13 = *a4;
  if (*a4)
  {
    v72 = 0;
    *a4 = 0;
    (*(*v13 + 16))(v13, &v72);
    (*(*v13 + 8))(v13);
    result = v72;
    v72 = 0;
    if (result)
    {
      if (*(result + 28) != 2)
      {
        *(result + 28) -= 2;
        return result;
      }

      return WebCore::Node::removedLastRef(result);
    }
  }

  return result;
}

uint64_t WebKit::WebPage::updateWithTextRecognitionResult(uint64_t a1, int a2, WebCore::ElementContext *a3, float *a4, uint64_t *a5)
{
  WebKit::WebPage::elementForContext(a1, a3, &v28);
  v8 = v28;
  if (!v28)
  {
LABEL_42:
    v25 = *a5;
    *a5 = 0;
    (*(*v25 + 16))(v25, 0);
    result = (*(*v25 + 8))(v25);
    if (!v8)
    {
      return result;
    }

    goto LABEL_29;
  }

  v9 = *(v28 + 28);
  *(v28 + 28) = v9 + 2;
  if ((*(v8 + 32) & 0x10) == 0)
  {
    if (v9)
    {
      *(v8 + 28) = v9;
    }

    else
    {
      WebCore::Node::removedLastRef(v8);
    }

    goto LABEL_42;
  }

  v10 = *(*(a1 + 56) + 176);
  if (!v10 || (*(v10 + 136) & 1) != 0)
  {
    v24 = *a5;
    *a5 = 0;
    (*(*v24 + 16))(v24, 0);
    result = (*(*v24 + 8))(v24);
  }

  else
  {
    ++*(v10 + 16);
    WebCore::ImageOverlay::updateWithTextRecognitionResult();
    v11 = roundf(*a4);
    if (v11 >= 2147500000.0)
    {
      v12 = 0x7FFFFFFF;
    }

    else if (v11 > -2147500000.0)
    {
      v12 = v11;
    }

    else
    {
      v12 = 0x80000000;
    }

    v13 = roundf(a4[1]);
    if (v13 >= 2147500000.0)
    {
      v14 = 0x7FFFFFFF;
    }

    else if (v13 > -2147500000.0)
    {
      v14 = v13;
    }

    else
    {
      v14 = 0x80000000;
    }

    v15 = vcgt_s32(__PAIR64__(v14, v12), 0xFE000000FE000000);
    v29[0] = vorr_s8((*&v15 & 0x7FFFFFFF7FFFFFFFLL), vbic_s8(vbsl_s8(vcgt_s32(0xFE000000FE000000, __PAIR64__(v14, v12)), 0x8000000080000000, vshl_n_s32(__PAIR64__(v14, v12), 6uLL)), v15));
    WebCore::EventHandler::hitTestResultAtPoint();
    v16 = v27;
    if (v27 && (*(v27 + 7) += 2, v8 == WebCore::Node::shadowHost(v16)) && WebCore::ImageOverlay::isInsideOverlay(v16, v17))
    {
      WebCore::DataDetection::findDataDetectionResultElementInImageOverlay(v29, a4, v8, v18);
      if (v30 == 1)
      {
        v20 = v29[0];
        v29[0] = 0;
        if (v20)
        {
          if (*(v20 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v20);
          }

          else
          {
            *(v20 + 7) -= 2;
          }
        }

        isOverlayText = 2;
      }

      else
      {
        isOverlayText = WebCore::ImageOverlay::isOverlayText(v16, v19);
      }
    }

    else
    {
      isOverlayText = 0;
    }

    v22 = *a5;
    *a5 = 0;
    (*(*v22 + 16))(v22, isOverlayText);
    (*(*v22 + 8))(v22);
    if (v16)
    {
      if (*(v16 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v16);
      }

      else
      {
        *(v16 + 7) -= 2;
      }
    }

    result = MEMORY[0x19EB04BD0](&v26);
    if (*(v10 + 16) == 1)
    {
      result = (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 16);
    }
  }

  if (*(v8 + 28) == 2)
  {
    result = WebCore::Node::removedLastRef(v8);
  }

  else
  {
    *(v8 + 28) -= 2;
  }

LABEL_29:
  if (*(v8 + 28) == 2)
  {
    return WebCore::Node::removedLastRef(v8);
  }

  *(v8 + 28) -= 2;
  return result;
}

void *WebKit::WebPage::startVisualTranslation(void *this, const WTF::String *a2, const WTF::String *a3)
{
  v3 = *(*(this[11] + 40) + 8);
  if (*(v3 + 136))
  {
    v3 = 0;
  }

  v4 = *(v3 + 224);
  if (v4)
  {
    *(v4 + 28) += 2;
    v7 = this[7];
    if (v7)
    {
      ++*(v7 + 2);
    }

    WebCore::Page::protectedImageAnalysisQueue(&v8, v7);
    WebCore::ImageAnalysisQueue::enqueueAllImagesIfNeeded(v8, v4, a2, a3);
    this = v8;
    v8 = 0;
    if (this)
    {
      this = WTF::RefCounted<WebCore::ImageAnalysisQueue>::deref(this);
    }

    if (v7)
    {
      this = WTF::RefCounted<WebCore::Page>::deref(v7 + 2);
    }

    if (*(v4 + 28) == 2)
    {
      return WebCore::Node::removedLastRef(v4);
    }

    else
    {
      *(v4 + 28) -= 2;
    }
  }

  return this;
}

void WebKit::WebPage::requestImageBitmap(uint64_t a1, const WebCore::ElementContext *a2, uint64_t *a3)
{
  WebKit::WebPage::elementForContext(a1, a2, &v40);
  v4 = v40;
  if (v40)
  {
    v5 = v40[9];
    if (v5)
    {
      if ((*(v5 + 45) & 2) != 0)
      {
        __break(0xC471u);
        goto LABEL_61;
      }

      if ((*(v5 + 52) & 0x107) == 0x103)
      {
        ++*(v5 + 16);
        v35[0] = 0;
        v35[8] = 0;
        v36 = 1;
        WebKit::createShareableBitmap(v5, v35, &v34);
        if (!v34)
        {
          v35[0] = 0;
          v39 = 0;
          v30[0] = 0;
          v22 = *a3;
          *a3 = 0;
          (*(*v22 + 16))(v22, v35, v30);
          (*(*v22 + 8))(v22);
          v13 = v30[0];
          v30[0] = 0;
          if (!v13)
          {
            goto LABEL_46;
          }

          goto LABEL_36;
        }

        WebCore::ShareableBitmap::createHandle();
        if ((v39 & 1) == 0)
        {
          LOBYTE(v30[0]) = 0;
          v33 = 0;
          v29 = 0;
          v23 = *a3;
          *a3 = 0;
          (*(*v23 + 16))(v23, v30, &v29);
          (*(*v23 + 8))(v23);
          v24 = v29;
          v29 = 0;
          if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v24, v11);
          }

          if (v33 == 1)
          {
            if (v32 == 1)
            {
              v25 = cf;
              cf = 0;
              if (v25)
              {
                CFRelease(v25);
              }
            }

            WTF::MachSendRight::~MachSendRight(v30);
          }

          goto LABEL_46;
        }

        v29 = 0;
        v6 = WebCore::CachedResourceHandleBase::get((*(v5 + 216) + 24));
        if (v6)
        {
          v7 = WebCore::CachedImage::image(v6);
          if (v7)
          {
            v8 = v7;
            ++v7[4];
            WebCore::Image::mimeType(&v29, v7);
            if (v8[4] == 1)
            {
              (*(*v8 + 8))(v8);
            }

            else
            {
              --v8[4];
            }
          }
        }

        if (v39)
        {
          v9 = WebCore::ShareableBitmapHandle::ShareableBitmapHandle(v30, v35);
          v33 = 1;
          v10 = *a3;
          *a3 = 0;
          (*(*v10 + 16))(v10, v30, &v29, v9);
          (*(*v10 + 8))(v10);
          if (v33 == 1)
          {
            if (v32 == 1)
            {
              v12 = cf;
              cf = 0;
              if (v12)
              {
                CFRelease(v12);
              }
            }

            WTF::MachSendRight::~MachSendRight(v30);
          }

          v13 = v29;
          v29 = 0;
          if (v13)
          {
LABEL_36:
            if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v13, v11);
            }
          }

LABEL_46:
          if (v39 == 1)
          {
            if (v38 == 1)
            {
              v26 = v37;
              v37 = 0;
              if (v26)
              {
                CFRelease(v26);
              }
            }

            WTF::MachSendRight::~MachSendRight(v35);
          }

          v27 = v34;
          v34 = 0;
          if (v27)
          {
            WTF::ThreadSafeRefCounted<WebCore::ShareableBitmap,(WTF::DestructionThread)0>::deref(v27, v11);
          }

          v28 = *(v5 + 16);
          if (v28)
          {
            *(v5 + 16) = v28 - 1;
LABEL_55:
            if (*(v4 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v4);
            }

            else
            {
              *(v4 + 7) -= 2;
            }

            return;
          }

LABEL_62:
          __break(0xC471u);
          return;
        }

LABEL_61:
        __break(1u);
        goto LABEL_62;
      }
    }

    v35[0] = 0;
    v39 = 0;
    v30[0] = 0;
    v18 = *a3;
    *a3 = 0;
    (*(*v18 + 16))(v18, v35, v30);
    (*(*v18 + 8))(v18);
    v20 = v30[0];
    v30[0] = 0;
    if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v20, v19);
    }

    if (v39 == 1)
    {
      if (v38 == 1)
      {
        v21 = v37;
        v37 = 0;
        if (v21)
        {
          CFRelease(v21);
        }
      }

      WTF::MachSendRight::~MachSendRight(v35);
    }

    goto LABEL_55;
  }

  v35[0] = 0;
  v39 = 0;
  v30[0] = 0;
  v14 = *a3;
  *a3 = 0;
  (*(*v14 + 16))(v14, v35, v30);
  (*(*v14 + 8))(v14);
  v16 = v30[0];
  v30[0] = 0;
  if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v16, v15);
  }

  if (v39 == 1)
  {
    if (v38 == 1)
    {
      v17 = v37;
      v37 = 0;
      if (v17)
      {
        CFRelease(v17);
      }
    }

    WTF::MachSendRight::~MachSendRight(v35);
  }
}

IPC::Encoder *WebKit::WebPage::notifyPageOfAppBoundBehavior(IPC::Encoder *this)
{
  if ((*(this + 1946) & 1) == 0 && (*(this + 1945) & 1) == 0)
  {
    return IPC::MessageSender::send<Messages::WebPageProxy::SetHasExecutedAppBoundBehaviorBeforeNavigation>(this + 32);
  }

  return this;
}

IPC::Encoder *IPC::MessageSender::send<Messages::WebPageProxy::SetHasExecutedAppBoundBehaviorBeforeNavigation>(uint64_t a1)
{
  v2 = (*(*a1 + 56))(a1);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2357;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*a1 + 32))(a1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

uint64_t WebKit::WebPage::ensureRemoteRenderingBackendProxy(WebKit::WebPage *this)
{
  result = *(this + 259);
  if (!result)
  {
    WebKit::RemoteRenderingBackendProxy::create(this, &v6);
    v3 = v6;
    v6 = 0;
    v4 = *(this + 259);
    *(this + 259) = v3;
    if (v4)
    {
      v5 = *(v4 + 5) - 1;
      if (*(v4 + 5) == 1)
      {
        (*(*v4 + 24))(v4);
        v4 = v6;
        v6 = 0;
        if (!v4)
        {
          return *(this + 259);
        }

        v5 = *(v4 + 5) - 1;
        if (*(v4 + 5) == 1)
        {
          (*(*v4 + 24))(v4);
          return *(this + 259);
        }
      }

      *(v4 + 5) = v5;
    }

    return *(this + 259);
  }

  return result;
}

WTF::StringImpl *WebKit::WebPage::createTextFragmentDirectiveFromSelection(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::fragmentDirectiveURLForSelectedText(v8, v3);
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    WebCore::Page::fragmentDirectiveURLForSelectedText(v8, 0);
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5, v8);
  (*(*v5 + 8))(v5);
  result = v8[0];
  v8[0] = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v6);
    }
  }

  return result;
}

WTF *WebKit::WebPage::getTextFragmentRanges(uint64_t a1, void *a2)
{
  v3 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v3)
  {
    v5 = v3;
    ++*(v3 + 16);
    v6 = *(v3 + 224);
    if (v6)
    {
      *(v6 + 28) += 2;
    }

    v7 = *(v6 + 552);
    if (!v7 || (v8 = *(v7 + 8)) == 0)
    {
      v40 = 0;
      v41 = 0;
      v31 = *a2;
      *a2 = 0;
      (*(*v31 + 16))(v31, &v40);
      (*(*v31 + 8))(v31);
      result = v40;
      if (v40)
      {
        v40 = 0;
        LODWORD(v41) = 0;
        result = WTF::fastFree(result, v32);
      }

      goto LABEL_49;
    }

    ++v8[4];
    v47 = 0;
    v48 = 0;
    v9 = *(v6 + 2584);
    if (!v9)
    {
LABEL_45:
      v28 = *a2;
      *a2 = 0;
      (*(*v28 + 16))(v28, &v47);
      (*(*v28 + 8))(v28);
      result = v47;
      if (v47)
      {
        v47 = 0;
        LODWORD(v48) = 0;
        result = WTF::fastFree(result, v29);
      }

      if (v8[4] == 1)
      {
        result = (*(*v8 + 8))(v8);
        if (v6)
        {
LABEL_49:
          if (*(v6 + 28) == 2)
          {
            result = WebCore::Node::removedLastRef(v6);
          }

          else
          {
            *(v6 + 28) -= 2;
          }
        }
      }

      else
      {
        --v8[4];
        if (v6)
        {
          goto LABEL_49;
        }
      }

      if (v5[4] == 1)
      {
        return (*(*v5 + 8))(v5);
      }

      --v5[4];
      return result;
    }

    v35 = a2;
    ++*v9;
    v10 = *(v9 + 1);
    if (v10)
    {
      v11 = *(v10 - 4);
      v12 = (v10 + 16 * v11);
      if (*(v10 - 12))
      {
        if (v11)
        {
          v13 = 16 * v11;
          v14 = *(v9 + 1);
          while ((*v14 + 1) <= 1)
          {
            v14 += 2;
            v13 -= 16;
            if (!v13)
            {
              v14 = v12;
              goto LABEL_19;
            }
          }
        }

        else
        {
          v14 = *(v9 + 1);
        }

        goto LABEL_19;
      }
    }

    else
    {
      v12 = 0;
      v11 = 0;
    }

    v14 = v12;
    v12 = (v10 + 16 * v11);
    if (!v10)
    {
      v15 = 0;
LABEL_20:
      while (v14 != v15)
      {
        v16 = v14[1];
        v17 = *(v16 + 20);
        if (v17)
        {
          v18 = *(v16 + 8);
          v19 = 8 * v17;
          do
          {
            v20 = *(*v18 + 16);
            ++v20[2];
            v46 = v20;
            WebCore::makeSimpleRange();
            v40 = v36;
            LODWORD(v41) = v37;
            v42 = v38;
            v43 = v39;
            v44 = 1;
            *&v45 = WebKit::EditingRange::fromRange(v8, &v40);
            *(&v45 + 1) = v4;
            v21 = HIDWORD(v48);
            if (HIDWORD(v48) == v48)
            {
              v22 = WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v47, HIDWORD(v48) + 1, &v45);
              v21 = HIDWORD(v48);
              v23 = v47;
              v24 = *v22;
            }

            else
            {
              v23 = v47;
              v24 = v45;
            }

            *(v23 + v21) = v24;
            ++HIDWORD(v48);
            if (v44 == 1)
            {
              v25 = v42;
              v42 = 0;
              if (v25)
              {
                if (*(v25 + 7) == 2)
                {
                  WebCore::Node::removedLastRef(v25);
                }

                else
                {
                  *(v25 + 7) -= 2;
                }
              }

              v26 = v40;
              v40 = 0;
              if (v26)
              {
                if (*(v26 + 7) == 2)
                {
                  WebCore::Node::removedLastRef(v26);
                }

                else
                {
                  *(v26 + 7) -= 2;
                }
              }
            }

            v38 = 0;
            v36 = 0;
            v27 = v46;
            v46 = 0;
            if (v27)
            {
              if (v27[2] == 1)
              {
                (*(*v27 + 8))(v27);
              }

              else
              {
                --v27[2];
              }
            }

            v18 += 8;
            v19 -= 8;
          }

          while (v19);
        }

        do
        {
          v14 += 2;
        }

        while (v14 != v12 && (*v14 + 1) <= 1);
      }

      WTF::RefCounted<WebCore::HighlightRegistry>::deref(v9, v4);
      a2 = v35;
      goto LABEL_45;
    }

LABEL_19:
    v15 = (v10 + 16 * *(v10 - 4));
    goto LABEL_20;
  }

  v40 = 0;
  v41 = 0;
  v33 = *a2;
  *a2 = 0;
  (*(*v33 + 16))(v33, &v40);
  (*(*v33 + 8))(v33);
  result = v40;
  if (v40)
  {
    v40 = 0;
    LODWORD(v41) = 0;
    return WTF::fastFree(result, v34);
  }

  return result;
}

WebCore::Node *WebKit::WebPage::createAppHighlightInSelectedRange(uint64_t a1, char a2, char a3, uint64_t *a4)
{
  v6 = *(a1 + 40);
  v7 = *(v6 + 168);
  *(v6 + 168) = a2;
  v8 = *(v6 + 169);
  *(v6 + 169) = a3;
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (!result)
  {
LABEL_32:
    *(v6 + 169) = v8;
    *(v6 + 168) = v7;
    return result;
  }

  v10 = result;
  ++*(result + 4);
  v11 = *(result + 28);
  if (v11)
  {
    *(v11 + 28) += 2;
  }

  v12 = *(v11 + 552);
  if (!v12 || (v13 = *(v12 + 8)) == 0)
  {
LABEL_28:
    if (*(v11 + 28) == 2)
    {
      result = WebCore::Node::removedLastRef(v11);
    }

    else
    {
      *(v11 + 28) -= 2;
    }

    if (*(v10 + 4) == 1)
    {
      result = (*(*v10 + 8))(v10);
    }

    else
    {
      --*(v10 + 4);
    }

    goto LABEL_32;
  }

  ++*(v13 + 16);
  result = WebCore::VisibleSelection::toNormalizedRange(&v23, (*(*(v13 + 224) + 3208) + 56));
  if (v25 != 1)
  {
LABEL_26:
    if (*(v13 + 16) == 1)
    {
      result = (*(*v13 + 8))(v13);
    }

    else
    {
      --*(v13 + 16);
    }

    goto LABEL_28;
  }

  WebCore::Document::protectedAppHighlightRegistry(&v22, v11);
  if (v25)
  {
    WebCore::StaticRange::create();
    WebCore::HighlightRegistry::addAnnotationHighlightWithRange();
    if (v20)
    {
      if (v20[2] == 1)
      {
        (*(*v20 + 8))();
      }

      else
      {
        --v20[2];
      }
    }

    v15 = v22;
    v22 = 0;
    if (v15)
    {
      WTF::RefCounted<WebCore::HighlightRegistry>::deref(v15, v14);
    }

    WebCore::Document::appHighlightStorage(v11);
    if (v25)
    {
      WebCore::StaticRange::create();
      v16 = *a4;
      *a4 = 0;
      CFRetain(*(a1 + 8));
      v17 = WTF::fastMalloc(0x20);
      *v17 = &unk_1F1134300;
      v17[1] = v16;
      v17[2] = a1;
      v17[3] = a1;
      v21 = v17;
      WebCore::AppHighlightStorage::storeAppHighlight();
      if (v21)
      {
        (*(*v21 + 8))(v21);
      }

      result = v22;
      v22 = 0;
      if (result)
      {
        if (*(result + 2) == 1)
        {
          result = (*(*result + 8))(result);
        }

        else
        {
          --*(result + 2);
        }
      }

      if (v25)
      {
        v18 = v24;
        v24 = 0;
        if (v18)
        {
          if (*(v18 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v18);
          }

          else
          {
            *(v18 + 7) -= 2;
          }
        }

        result = v23;
        v23 = 0;
        if (result)
        {
          if (*(result + 7) == 2)
          {
            result = WebCore::Node::removedLastRef(result);
          }

          else
          {
            *(result + 7) -= 2;
          }
        }
      }

      goto LABEL_26;
    }
  }

  v19 = std::__throw_bad_optional_access[abi:sn200100]();
  return WebKit::WebPage::restoreAppHighlightsAndScrollToIndex(v19);
}

uint64_t WebKit::WebPage::restoreAppHighlightsAndScrollToIndex(uint64_t a1, uint64_t *a2)
{
  result = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (result)
  {
    v4 = result;
    ++*(result + 16);
    v5 = *(result + 224);
    if (v5)
    {
      *(v5 + 7) += 2;
    }

    v6 = *(a2 + 3);
    if (v6)
    {
      v7 = 0;
      v8 = *a2;
      v9 = 16 * v6;
      do
      {
        result = WebCore::SharedMemory::map();
        if (v12)
        {
          WebCore::Document::appHighlightStorage(v5);
          WebCore::SharedMemory::createSharedBuffer(v12);
          WebCore::AppHighlightStorage::restoreAndScrollToAppHighlight();
          if (v11 && atomic_fetch_add(v11 + 2, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v11 + 2);
            (*(*v11 + 8))(v11);
          }

          v11 = 0;
          ++v7;
          v10 = v12;
          v12 = 0;
          result = WTF::ThreadSafeRefCounted<WebCore::SharedMemory,(WTF::DestructionThread)0>::deref(v10);
        }

        v8 += 16;
        v9 -= 16;
      }

      while (v9);
    }

    if (v5)
    {
      if (*(v5 + 7) == 2)
      {
        result = WebCore::Node::removedLastRef(v5);
      }

      else
      {
        *(v5 + 7) -= 2;
      }
    }

    if (v4[4] == 1)
    {
      return (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[4];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::setAppHighlightsVisibility(uint64_t result, char a2)
{
  *(result + 2096) = a2;
  v2 = *(*(result + 88) + 40);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      if ((*(v3 + 136) & 1) == 0)
      {
        ++*(v3 + 16);
        do
        {
          if ((*(v3 + 136) & 1) == 0)
          {
            ++*(v3 + 16);
            v4 = *(v3 + 224);
            if (v4)
            {
              *(v4 + 7) += 2;
              WebCore::Document::protectedAppHighlightRegistry(&v8, v4);
              WebCore::HighlightRegistry::setHighlightVisibility();
              v6 = v8;
              v8 = 0;
              if (v6)
              {
                WTF::RefCounted<WebCore::HighlightRegistry>::deref(v6, v5);
              }

              if (*(v4 + 7) == 2)
              {
                WebCore::Node::removedLastRef(v4);
              }

              else
              {
                *(v4 + 7) -= 2;
              }
            }

            if (*(v3 + 16) == 1)
            {
              (*(*v3 + 8))(v3);
            }

            else
            {
              --*(v3 + 16);
            }
          }

          result = WebCore::FrameTree::traverseNextRendered((v3 + 40), 0);
          v7 = result;
          if (result)
          {
            ++*(result + 16);
          }

          if (*(v3 + 16) == 1)
          {
            result = (*(*v3 + 8))(v3);
          }

          else
          {
            --*(v3 + 16);
          }

          v3 = v7;
        }

        while (v7);
      }
    }
  }

  return result;
}

WebCore::Node *WebKit::WebPage::lastNavigationWasAppInitiated(uint64_t a1, uint64_t *a2)
{
  WebKit::WebPage::localTopDocument(&v6, *(a1 + 56));
  if (v6)
  {
    v3 = *(WebCore::Document::loader(v6) + 3579);
  }

  else
  {
    v3 = 0;
  }

  v4 = *a2;
  *a2 = 0;
  (*(*v4 + 16))(v4, v3 & 1);
  (*(*v4 + 8))(v4);
  result = v6;
  v6 = 0;
  if (result)
  {
    if (*(result + 7) == 2)
    {
      return WebCore::Node::removedLastRef(result);
    }

    else
    {
      *(result + 7) -= 2;
    }
  }

  return result;
}

_DWORD *WebKit::WebPage::scrollToRect(WebKit::WebPage *this, const WebCore::FloatRect *a2, const WebCore::FloatPoint *a3)
{
  result = WebKit::WebPage::localMainFrameView(this);
  if (result)
  {
    v5 = result;
    ++result[2];
    v6 = *a2;
    WebCore::IntPoint::IntPoint(v7, &v6);
    result = WebCore::LocalFrameView::setScrollPosition();
    if (v5[2] == 1)
    {
      return (*(*v5 + 8))(v5);
    }

    else
    {
      --v5[2];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::setContentOffset(WebKit::WebPage *a1)
{
  result = WebKit::WebPage::localMainFrameView(a1);
  if (result)
  {
    v2 = result;
    ++*(result + 8);
    result = WebCore::LocalFrameView::setScrollOffsetWithOptions();
    if (v2[2] == 1)
    {
      return (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }
  }

  return result;
}

uint64_t WebKit::WebPage::scrollToEdge(WebKit::WebPage *a1)
{
  result = WebKit::WebPage::localMainFrameView(a1);
  if (result)
  {
    v2 = result;
    ++*(result + 8);
    result = WebCore::LocalFrameView::scrollToEdgeWithOptions();
    if (v2[2] == 1)
    {
      return (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::beginTextRecognitionForVideoInElementFullScreen(WebKit::WebPage *this, const WebCore::HTMLVideoElement *a2)
{
  result = WebCore::HTMLMediaElement::playerIdentifier(a2);
  if (v5)
  {
    v6 = *(a2 + 9);
    if (v6)
    {
      if ((*(v6 + 45) & 2) != 0)
      {
        __break(0xC471u);
      }

      else
      {
        if ((*(v6 + 52) & 0x207) != 0x203)
        {
          __break(0xC471u);
          JUMPOUT(0x19E4040F8);
        }

        if (*(v6 + 46) != 48)
        {
          __break(0xC471u);
          JUMPOUT(0x19E404118);
        }

        v7 = result;
        ++*(v6 + 16);
        result = WebCore::RenderVideo::videoBoxInRootView(v6);
        v19[0] = result;
        v19[1] = v8;
        if (v8 >= 1 && SHIDWORD(v8) >= 1)
        {
          WebCore::FloatRect::FloatRect(v18, v19);
          v10 = *(this + 4);
          v9 = this + 32;
          v11 = (*(v10 + 56))(v9);
          v13 = IPC::Encoder::operator new(0x238, v12);
          *v13 = 2155;
          *(v13 + 2) = 0;
          *(v13 + 3) = 0;
          *(v13 + 1) = v11;
          *(v13 + 68) = 0;
          *(v13 + 70) = 0;
          *(v13 + 69) = 0;
          IPC::Encoder::encodeHeader(v13);
          v20 = v13;
          IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v13, v7);
          IPC::ArgumentCoder<WebCore::FloatRect,void>::encode(v13, v18);
          (*(*v9 + 32))(v9, &v20, 0);
          result = v20;
          v20 = 0;
          if (result)
          {
            IPC::Encoder::~Encoder(result, v14);
            result = bmalloc::api::tzoneFree(v16, v17);
          }
        }

        v15 = *(v6 + 16);
        if (v15)
        {
          *(v6 + 16) = v15 - 1;
          return result;
        }

        __break(0xC471u);
      }

      JUMPOUT(0x19E4040D8);
    }
  }

  return result;
}

IPC::Encoder *WebKit::WebPage::cancelTextRecognitionForVideoInElementFullScreen(WebKit::WebPage *this)
{
  v1 = this + 32;
  v2 = (*(*(this + 4) + 56))(this + 32);
  v4 = IPC::Encoder::operator new(0x238, v3);
  *v4 = 2158;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = v2;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  IPC::Encoder::encodeHeader(v4);
  v9 = v4;
  (*(*v1 + 32))(v1, &v9, 0);
  result = v9;
  v9 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v5);
    return bmalloc::api::tzoneFree(v7, v8);
  }

  return result;
}

uint64_t WebKit::WebPage::shouldAllowRemoveBackground(uint64_t a1, const WebCore::ElementContext *a2, uint64_t *a3)
{
  WebKit::WebPage::elementForContext(a1, a2, &v19);
  v5 = v19;
  if (v19)
  {
    v6 = *(v19 + 2);
    ++*(a1 + 2120);
    v7 = v6 & 0xFFFFFFFFFFFFLL;
    if ((v6 & 0xFFFFFFFFFFFFLL) == 0 || !*((v6 & 0xFFFFFFFFFFFFLL) + 8) || (v8 = *(a1 + 2112)) == 0)
    {
LABEL_10:
      v16 = 1;
      goto LABEL_12;
    }

    v9 = *(v8 - 8);
    v10 = (v7 + ~(v6 << 32)) ^ ((v7 + ~(v6 << 32)) >> 22);
    v11 = 9 * ((v10 + ~(v10 << 13)) ^ ((v10 + ~(v10 << 13)) >> 8));
    v12 = (v11 ^ (v11 >> 15)) + ~((v11 ^ (v11 >> 15)) << 27);
    v13 = v9 & ((v12 >> 31) ^ v12);
    for (i = 1; ; ++i)
    {
      v15 = *(v8 + 8 * v13);
      if (v15 != -1)
      {
        if (!v15)
        {
          goto LABEL_10;
        }

        if (v15 == v7)
        {
          break;
        }
      }

      v13 = (v13 + i) & v9;
    }
  }

  v16 = 0;
LABEL_12:
  v17 = *a3;
  *a3 = 0;
  (*(*v17 + 16))(v17, v16);
  result = (*(*v17 + 8))(v17);
  if (v5)
  {
    if (*(v5 + 7) == 2)
    {

      return WebCore::Node::removedLastRef(v5);
    }

    else
    {
      *(v5 + 7) -= 2;
    }
  }

  return result;
}

_BYTE *WebKit::WebPage::setIsWindowResizingEnabled(_BYTE *this, int a2)
{
  if (this[902] != a2)
  {
    v2 = this;
    this[902] = a2;
    this = WebKit::WebPage::shouldEnableViewportBehaviorsForResizableWindows(this);
    v2[1163] = this;
  }

  return this;
}

WebCore::Node *WebKit::WebPage::insertTextPlaceholder(uint64_t a1, const IntSize *a2, uint64_t *a3)
{
  v16 = *MEMORY[0x1E69E9840];
  v6 = WebCore::FocusController::focusedOrMainFrame(*(*(a1 + 56) + 80));
  if (v6)
  {
    v7 = v6;
    ++*(v6 + 16);
    v8 = *(v6 + 224);
    if (v8)
    {
      *(v8 + 7) += 2;
      v9 = WebCore::Document::editor(v8);
      if (*(v8 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v8);
      }

      else
      {
        *(v8 + 7) -= 2;
      }
    }

    else
    {
      v9 = WebCore::Document::editor(0);
    }

    WebCore::Editor::ref(v9);
    WebCore::Editor::insertTextPlaceholder(&v13, v9, a2);
    WebCore::Editor::deref(v9);
    if (v13)
    {
      WebKit::WebPage::contextForElement(a1, v13, v14);
    }

    else
    {
      v14[0] = 0;
      v15 = 0;
    }

    v10 = *a3;
    *a3 = 0;
    (*(*v10 + 16))(v10, v14);
    (*(*v10 + 8))(v10);
    result = v13;
    v13 = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        result = WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }

    if (v7[4] == 1)
    {
      return (*(*v7 + 8))(v7);
    }

    else
    {
      --v7[4];
    }
  }

  else
  {
    v14[0] = 0;
    v15 = 0;
    v12 = *a3;
    *a3 = 0;
    (*(*v12 + 16))(v12, v14);
    return (*(*v12 + 8))(v12);
  }

  return result;
}

uint64_t WebKit::WebPage::removeTextPlaceholder(uint64_t a1, const WebCore::ElementContext *a2, uint64_t *a3)
{
  WebKit::WebPage::elementForContext(a1, a2, &v12);
  v4 = v12;
  if (v12)
  {
    v5 = *(*(*(v12 + 6) + 8) + 552);
    if (v5)
    {
      v6 = *(v5 + 8);
      if (v6)
      {
        ++*(v6 + 16);
        v7 = *(v6 + 224);
        if (v7)
        {
          *(v7 + 7) += 2;
          v8 = WebCore::Document::editor(v7);
          if (*(v7 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v7);
          }

          else
          {
            *(v7 + 7) -= 2;
          }
        }

        else
        {
          v8 = WebCore::Document::editor(0);
        }

        WebCore::Editor::ref(v8);
        if (((*(*v4 + 880))(v4) & 1) == 0)
        {
          result = 96;
          __break(0xC471u);
          return result;
        }

        WebCore::Editor::removeTextPlaceholder();
        WebCore::Editor::deref(v8);
        if (*(v6 + 16) == 1)
        {
          (*(*v6 + 8))(v6);
        }

        else
        {
          --*(v6 + 16);
        }
      }
    }

    if (*(v4 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v4);
    }

    else
    {
      *(v4 + 7) -= 2;
    }
  }

  v9 = *a3;
  *a3 = 0;
  (*(*v9 + 16))(v9);
  v10 = *(*v9 + 8);

  return v10(v9);
}

WebCore::Node *WebKit::WebPage::generateTestReport(uint64_t a1)
{
  result = WebKit::WebPage::localTopDocument(&v4, *(a1 + 56));
  if (v4)
  {
    v2 = *(v4 + 418);
    if (!v2)
    {
      v2 = WebCore::Document::ensureReportingScope(v4);
    }

    v3 = (v2 + 24);
    ++*(v2 + 24);
    WebCore::ReportingScope::generateTestReport();
    WTF::RefCounted<WebCore::ReportingScope>::deref(v3);
    result = v4;
    v4 = 0;
    if (result)
    {
      if (*(result + 7) == 2)
      {
        return WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 7) -= 2;
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::pauseAllAnimations(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::setImageAnimationEnabled(v3);
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    WebCore::Page::setImageAnimationEnabled(0);
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5);
  v6 = *(*v5 + 8);

  return v6(v5);
}

uint64_t WebKit::WebPage::playAllAnimations(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::setImageAnimationEnabled(v3);
    WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    WebCore::Page::setImageAnimationEnabled(0);
  }

  v5 = *a2;
  *a2 = 0;
  (*(*v5 + 16))(v5);
  v6 = *(*v5 + 8);

  return v6(v5);
}

uint64_t WebKit::WebPage::shouldSkipDecidePolicyForResponse(WebKit::WebPage *this, const WebCore::ResourceResponse *a2)
{
  if (*(this + 1951) != 1)
  {
    return 0;
  }

  v11 = v2;
  v12 = v3;
  v6 = WebCore::ResourceResponseBase::httpStatusCode(a2);
  result = 0;
  if (v6 != 204 && v6 <= 399)
  {
    result = *WebCore::ResourceResponseBase::mimeType(a2);
    if (result)
    {
      result = WTF::equalIgnoringASCIICaseCommon<WTF::StringImpl>(result, "text/html");
      if (result)
      {
        WebCore::ResourceResponseBase::url(a2);
        if (WTF::URL::protocolIs())
        {
          return 0;
        }

        else
        {
          WebCore::ResourceResponseBase::httpHeaderField();
          WTF::String::split();
          if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v8, v7);
          }

          if (v10)
          {
            WTF::String::trim();
          }

          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v9, v7);
          return 1;
        }
      }
    }
  }

  return result;
}

uint64_t WebKit::WebPage::logger(WebKit::WebPage *this)
{
  if (!*(this + 270))
  {
    v2 = WTF::fastMalloc(0x18);
    *(v2 + 8) = 1;
    *v2 = &unk_1F10FAF48;
    *(v2 + 12) = 1;
    *(v2 + 16) = this;
    v3 = *(this + 270);
    *(this + 270) = v2;
    if (v3 && atomic_fetch_add(v3 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v3 + 2);
      (*(*v3 + 8))(v3);
    }

    v4 = *(this + 270);
    v5 = WebKit::WebPage::isAlwaysOnLoggingAllowed(this);
    if (*(v4 + 16) == this)
    {
      *(v4 + 12) = v5;
    }
  }

  return *(this + 270);
}

_DWORD *WebKit::WebPage::isAlwaysOnLoggingAllowed(WebKit::WebPage *this)
{
  result = *(this + 7);
  if (result)
  {
    v2 = result + 2;
    ++result[2];
    isAlwaysOnLoggingAllowed = WebCore::Page::isAlwaysOnLoggingAllowed(result);
    WTF::RefCounted<WebCore::Page>::deref(v2);
    return isAlwaysOnLoggingAllowed;
  }

  return result;
}

uint64_t WebKit::WebPage::useRedirectionForCurrentNavigation(WebKit::WebPage *a1, WebCore::ResourceResponseBase *a2)
{
  v33 = *MEMORY[0x1E69E9840];
  WebKit::WebPage::localMainFrame(a1, &v29);
  if (!v29)
  {
    v21 = qword_1ED640D10;
    result = os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_ERROR);
    if (!result)
    {
      return result;
    }

    v24 = *(a1 + 6);
    *buf = 134218240;
    *&buf[4] = a1;
    v31 = 2048;
    v32 = v24;
    v25 = "%p - [webPageID=%llu] WebPage::WebPage::useRedirectionForCurrentNavigation failed without frame";
    goto LABEL_19;
  }

  v4 = *(v29 + 208);
  v5 = *(v4 + 112);
  if (v5 || (v5 = *(v4 + 104)) != 0)
  {
    ++*(v5 + 6);
    v6 = WebCore::DocumentLoader::mainResourceLoader(v5);
    if (v6)
    {
      v7 = v6;
      ++*(v6 + 16);
      v8 = qword_1ED640D10;
      v9 = os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT);
      if (v9)
      {
        v11 = *(a1 + 6);
        *buf = 134218240;
        *&buf[4] = a1;
        v31 = 2048;
        v32 = v11;
        _os_log_impl(&dword_19D52D000, v8, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::WebPage::useRedirectionForCurrentNavigation to network process", buf, 0x16u);
      }

      v12 = WebKit::WebProcess::singleton(v9, v10);
      v13 = WebKit::WebProcess::ensureNetworkProcessConnection(v12);
      v15 = *(v7 + 752);
      if (!v15)
      {
        __break(1u);
      }

      v16 = *(v13 + 24);
      v17 = IPC::Encoder::operator new(0x238, v14);
      *v17 = 500;
      *(v17 + 68) = 0;
      *(v17 + 70) = 0;
      *(v17 + 69) = 0;
      *(v17 + 2) = 0;
      *(v17 + 3) = 0;
      *(v17 + 1) = 0;
      IPC::Encoder::encodeHeader(v17);
      *buf = v17;
      IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v17, v15);
      IPC::ArgumentCoder<WebCore::ResourceResponse,void>::encode(v17, a2);
      IPC::Connection::sendMessageImpl(v16, buf, 0, 0);
      v19 = *buf;
      *buf = 0;
      if (v19)
      {
        IPC::Encoder::~Encoder(v19, v18);
        bmalloc::api::tzoneFree(v22, v23);
      }

      if (*(v7 + 16) == 1)
      {
        (*(*v7 + 8))(v7);
      }

      else
      {
        --*(v7 + 16);
      }
    }

    else
    {
      v27 = qword_1ED640D10;
      if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_DEFAULT))
      {
        v28 = *(a1 + 6);
        *buf = 134218240;
        *&buf[4] = a1;
        v31 = 2048;
        v32 = v28;
        _os_log_impl(&dword_19D52D000, v27, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::WebPage::useRedirectionForCurrentNavigation as substiute data", buf, 0x16u);
      }

      WebCore::DocumentLoader::setRedirectionAsSubstituteData();
    }

    if (*(v5 + 6) == 1)
    {
      (*(*v5 + 24))(v5);
    }

    else
    {
      --*(v5 + 6);
    }

    goto LABEL_13;
  }

  v21 = qword_1ED640D10;
  if (os_log_type_enabled(qword_1ED640D10, OS_LOG_TYPE_ERROR))
  {
    v26 = *(a1 + 6);
    *buf = 134218240;
    *&buf[4] = a1;
    v31 = 2048;
    v32 = v26;
    v25 = "%p - [webPageID=%llu] WebPage::WebPage::useRedirectionForCurrentNavigation failed without loader";
LABEL_19:
    _os_log_error_impl(&dword_19D52D000, v21, OS_LOG_TYPE_ERROR, v25, buf, 0x16u);
  }

LABEL_13:
  result = v29;
  v29 = 0;
  if (result)
  {
    if (*(result + 16) == 1)
    {
      return (*(*result + 8))(result);
    }

    else
    {
      --*(result + 16);
    }
  }

  return result;
}

void WebKit::WebPage::dispatchLoadEventToFrameOwnerElement(WebKit::WebProcess *a1, void *a2)
{
  v3 = WebKit::WebProcess::singleton(a1, a2);
  v4 = WebKit::WebProcess::webFrame(v3, a2, 1);
  if (v4)
  {
    v5 = v4;
    v6 = CFRetain(*(v4 + 8));
    v7 = *(v5 + 40);
    if (v7)
    {
      v8 = *(v7 + 8);
      if (v8)
      {
        if (*(v8 + 136) == 1)
        {
          ++*(v8 + 16);
          v9 = *(v8 + 112);
          if (v9)
          {
            v10 = *(v9 + 8);
            if (v10)
            {
              *(v10 + 7) += 2;
              v11 = *(_ReadStatusReg(ARM64_SYSREG(3, 3, 13, 0, 3)) + 736);
              if (!v11 || (v6 = *(v11 + 96)) == 0)
              {
                v6 = WebCore::threadGlobalDataSlow(v6);
              }

              if (!*(v6 + 5))
              {
                WebCore::ThreadGlobalData::initializeEventNames(v6);
              }

              WebCore::Event::create();
              (*(*v10 + 48))(v10);
              if (v12)
              {
                if (v12[6] == 1)
                {
                  (*(*v12 + 8))();
                }

                else
                {
                  --v12[6];
                }
              }

              if (*(v10 + 7) == 2)
              {
                WebCore::Node::removedLastRef(v10);
              }

              else
              {
                *(v10 + 7) -= 2;
              }
            }
          }

          if (*(v8 + 16) == 1)
          {
            (*(*v8 + 8))(v8);
          }

          else
          {
            --*(v8 + 16);
          }
        }
      }
    }

    CFRelease(*(v5 + 8));
  }
}

void WebKit::WebPage::frameWasFocusedInAnotherProcess(WebKit::WebProcess *a1, void *a2)
{
  v4 = WebKit::WebProcess::singleton(a1, a2);
  v5 = WebKit::WebProcess::webFrame(v4, a2, 1);
  if (v5)
  {
    v6 = v5;
    CFRetain(*(v5 + 8));
    v7 = *(a1 + 7);
    if (v7)
    {
      ++*(v7 + 8);
    }

    v8 = *(v6 + 40);
    if (v8 && (v9 = *(v8 + 8)) != 0)
    {
      ++v9[4];
      WebCore::FocusController::setFocusedFrame();
      if (v9[4] == 1)
      {
        (*(*v9 + 8))(v9);
      }

      else
      {
        --v9[4];
      }
    }

    else
    {
      WebCore::FocusController::setFocusedFrame();
    }

    WTF::RefCounted<WebCore::Page>::deref((v7 + 8));
    v10 = *(v6 + 8);

    CFRelease(v10);
  }
}

void WebKit::WebPage::remotePostMessage(WebKit::WebProcess *a1, void *a2, uint64_t a3, uint64_t a4)
{
  v6 = WebKit::WebProcess::singleton(a1, a2);
  v7 = WebKit::WebProcess::webFrame(v6, a4, 1);
  if (v7)
  {
    v8 = v7;
    CFRetain(*(v7 + 8));
    v9 = *(v8 + 40);
    if (v9)
    {
      v10 = *(v9 + 8);
      if (v10)
      {
        if ((*(v10 + 136) & 1) == 0)
        {
          ++*(v10 + 16);
          v11 = WebCore::LocalFrame::window(v10);
          v12 = v11;
          if (v11)
          {
            ++*(v11 + 24);
          }

          if (*(v10 + 16) == 1)
          {
            (*(*v10 + 8))(v10);
            if (v12)
            {
              goto LABEL_9;
            }
          }

          else
          {
            --*(v10 + 16);
            if (v11)
            {
LABEL_9:
              v13 = WebCore::LocalDOMWindow::localFrame(v12);
              if (v13)
              {
                v15 = v13;
                ++*(v13 + 4);
                v16 = WebKit::WebProcess::singleton(v13, v14);
                v17 = WebKit::WebProcess::webFrame(v16, a2, 1);
                v18 = v17;
                if (v17)
                {
                  v17 = CFRetain(v17[1]);
                  v19 = v18[5];
                  if (v19)
                  {
                    v19 = *(v19 + 1);
                    if (v19)
                    {
                      v19 = *(v19 + 13);
                      if (v19)
                      {
                        ++*v19;
                      }
                    }
                  }
                }

                else
                {
                  v19 = 0;
                }

                v23 = v19;
                v20 = *(v15 + 29);
                ++*(v20 + 2);
                v21 = WebCore::mainThreadNormalWorldSingleton(v17);
                if (*(WebCore::ScriptController::jsWindowProxy(v20, v21) + 16))
                {
                  WebCore::LocalDOMWindow::postMessageFromRemoteFrame();
                }

                v22 = *(v20 + 2);
                if (!v22)
                {
                  __break(0xC471u);
                  return;
                }

                *(v20 + 2) = v22 - 1;
                if (v23)
                {
                  WTF::RefCounted<WebCore::WindowProxy>::deref(v23);
                }

                if (v18)
                {
                  CFRelease(v18[1]);
                }

                if (*(v15 + 4) == 1)
                {
                  (*(*v15 + 8))(v15);
                }

                else
                {
                  --*(v15 + 4);
                }
              }

              if (*(v12 + 6) == 1)
              {
                (*(*v12 + 72))(v12);
              }

              else
              {
                --*(v12 + 6);
              }
            }
          }
        }
      }
    }

    CFRelease(*(v8 + 8));
  }
}

void WebKit::WebPage::renderTreeAsTextForTesting(WebKit::WebProcess *a1, void *a2, int a3, uint64_t a4, uint64_t *a5)
{
  v8 = WebKit::WebProcess::singleton(a1, a2);
  v9 = WebKit::WebProcess::webFrame(v8, a2, 1);
  if (v9)
  {
    v10 = v9;
    CFRetain(*(v9 + 8));
    v11 = *(v10 + 40);
    if (v11 && (v12 = *(v11 + 8)) != 0 && *(v12 + 136) != 1)
    {
      ++*(v12 + 16);
      v13 = WebCore::LocalFrame::contentRenderer(v12);
      if (v13)
      {
        v15 = v13;
        ++*(v13 + 4);
        WebCore::createTextStream(&v32, v13, v14);
        v34 = a3;
        WebCore::externalRepresentationForLocalFrame();
        WTF::TextStream::release(&v31, &v32);
        v16 = *a5;
        *a5 = 0;
        (*(*v16 + 16))(v16, &v31);
        (*(*v16 + 8))(v16);
        v18 = v31;
        v31 = 0;
        if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v18, v17);
        }

        v19 = v33;
        v33 = 0;
        if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v19, v17);
        }

        v20 = v32;
        v32 = 0;
        if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v20, v17);
        }

        v21 = *(v15 + 4);
        if (!v21)
        {
          __break(0xC471u);
          return;
        }

        *(v15 + 4) = v21 - 1;
      }

      else
      {
        WTF::StringImpl::createWithoutCopyingNonEmpty();
        v25 = *a5;
        *a5 = 0;
        (*(*v25 + 16))(v25, &v32);
        (*(*v25 + 8))(v25);
        v27 = v32;
        v32 = 0;
        if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v27, v26);
        }
      }

      if (*(v12 + 16) == 1)
      {
        (*(*v12 + 8))(v12);
      }

      else
      {
        --*(v12 + 16);
      }
    }

    else
    {
      WTF::StringImpl::createWithoutCopyingNonEmpty();
      v22 = *a5;
      *a5 = 0;
      (*(*v22 + 16))(v22, &v32);
      (*(*v22 + 8))(v22);
      v24 = v32;
      v32 = 0;
      if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v24, v23);
      }
    }

    CFRelease(*(v10 + 8));
  }

  else
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    v28 = *a5;
    *a5 = 0;
    (*(*v28 + 16))(v28, &v32);
    (*(*v28 + 8))(v28);
    v30 = v32;
    v32 = 0;
    if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v30, v29);
    }
  }
}

void WebKit::WebPage::layerTreeAsTextForTesting(WebKit::WebProcess *a1, void *a2, uint64_t a3, uint64_t a4, uint64_t *a5)
{
  v7 = WebKit::WebProcess::singleton(a1, a2);
  v8 = WebKit::WebProcess::webFrame(v7, a2, 1);
  if (v8)
  {
    v9 = v8;
    CFRetain(*(v8 + 8));
    v10 = *(v9 + 40);
    if (v10 && (v11 = *(v10 + 8)) != 0 && *(v11 + 136) != 1)
    {
      ++*(v11 + 16);
      v12 = WebCore::LocalFrame::contentRenderer(v11);
      if (v12)
      {
        v14 = v12;
        ++*(v12 + 4);
        WebCore::createTextStream(&v34, v12, v13);
        v15 = WebCore::LocalFrame::contentRenderer(v11);
        WebCore::RenderView::compositor(v15);
        WebCore::RenderLayerCompositor::layerTreeAsText();
        WTF::TextStream::operator<<();
        v17 = v33;
        v33 = 0;
        if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v17, v16);
        }

        WTF::TextStream::release(&v33, &v34);
        v18 = *a5;
        *a5 = 0;
        (*(*v18 + 16))(v18, &v33);
        (*(*v18 + 8))(v18);
        v20 = v33;
        v33 = 0;
        if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v20, v19);
        }

        v21 = v35;
        v35 = 0;
        if (v21 && atomic_fetch_add_explicit(v21, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v21, v19);
        }

        v22 = v34;
        v34 = 0;
        if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v22, v19);
        }

        v23 = *(v14 + 4);
        if (!v23)
        {
          __break(0xC471u);
          return;
        }

        *(v14 + 4) = v23 - 1;
      }

      else
      {
        WTF::StringImpl::createWithoutCopyingNonEmpty();
        v27 = *a5;
        *a5 = 0;
        (*(*v27 + 16))(v27, &v34);
        (*(*v27 + 8))(v27);
        v29 = v34;
        v34 = 0;
        if (v29 && atomic_fetch_add_explicit(v29, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v29, v28);
        }
      }

      if (*(v11 + 16) == 1)
      {
        (*(*v11 + 8))(v11);
      }

      else
      {
        --*(v11 + 16);
      }
    }

    else
    {
      WTF::StringImpl::createWithoutCopyingNonEmpty();
      v24 = *a5;
      *a5 = 0;
      (*(*v24 + 16))(v24, &v34);
      (*(*v24 + 8))(v24);
      v26 = v34;
      v34 = 0;
      if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v26, v25);
      }
    }

    CFRelease(*(v9 + 8));
  }

  else
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    v30 = *a5;
    *a5 = 0;
    (*(*v30 + 16))(v30, &v34);
    (*(*v30 + 8))(v30);
    v32 = v34;
    v34 = 0;
    if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v32, v31);
    }
  }
}

void WebKit::WebPage::frameTextForTesting(WebKit::WebProcess *a1, void *a2, uint64_t *a3)
{
  v5 = WebKit::WebProcess::singleton(a1, a2);
  v6 = WebKit::WebProcess::webFrame(v5, a2, 1);
  if (v6)
  {
    v7 = v6;
    CFRetain(*(v6 + 8));
    WebKit::WebFrame::frameTextForTesting(v7, 1, &v14);
    v8 = *a3;
    *a3 = 0;
    (*(*v8 + 16))(v8, &v14);
    (*(*v8 + 8))(v8);
    v10 = v14;
    v14 = 0;
    if (v10)
    {
      if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v10, v9);
      }
    }

    CFRelease(v7[1]);
  }

  else
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    v11 = *a3;
    *a3 = 0;
    (*(*v11 + 16))(v11, &v14);
    (*(*v11 + 8))(v11);
    v13 = v14;
    v14 = 0;
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v12);
    }
  }
}

_DWORD *WebKit::WebPage::requestAllTextAndRects(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = (v3 + 8);
    ++*(v3 + 8);
    WebCore::TextExtraction::extractAllTextAndRects();
    v5 = *a2;
    *a2 = 0;
    (*(*v5 + 16))(v5, v10);
    (*(*v5 + 8))(v5);
    WTF::Vector<WebKit::ITPThirdPartyDataForSpecificFirstParty,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v10, v6);
    return WTF::RefCounted<WebCore::Page>::deref(v4);
  }

  else
  {
    v10[0] = 0;
    v10[1] = 0;
    v8 = *a2;
    *a2 = 0;
    (*(*v8 + 16))(v8, v10);
    (*(*v8 + 8))(v8);
    return WTF::Vector<WebKit::ITPThirdPartyDataForSpecificFirstParty,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v10, v9);
  }
}

_DWORD *WebKit::WebPage::requestTargetedElement(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a1 + 56);
  if (v4)
  {
    v5 = v4 + 2;
    ++v4[2];
    WebCore::Page::checkedElementTargetingController(&v12, v4);
    if (v12)
    {
      WebCore::ElementTargetingController::findTargets();
      v6 = *a3;
      *a3 = 0;
      (*(*v6 + 16))(v6, v13);
      (*(*v6 + 8))(v6);
      WTF::Vector<WebCore::TargetedElementInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v13, v7);
      v8 = v12;
      v12 = 0;
      if (!v8)
      {
        return WTF::RefCounted<WebCore::Page>::deref(v5);
      }

      if (*v8)
      {
        --*v8;
        return WTF::RefCounted<WebCore::Page>::deref(v5);
      }
    }

    __break(0xC471u);
    JUMPOUT(0x19E4060E4);
  }

  v13[0] = 0;
  v13[1] = 0;
  v10 = *a3;
  *a3 = 0;
  (*(*v10 + 16))(v10, v13);
  (*(*v10 + 8))(v10);
  return WTF::Vector<WebCore::TargetedElementInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v13, v11);
}

_DWORD *WebKit::WebPage::requestAllTargetableElements(uint64_t a1, uint64_t *a2, float a3)
{
  v4 = *(a1 + 56);
  if (v4)
  {
    v6 = v4 + 2;
    ++v4[2];
    WebCore::Page::checkedElementTargetingController(&v13, v4);
    if (v13)
    {
      WebCore::ElementTargetingController::findAllTargets(v14, v13, a3);
      v7 = *a2;
      *a2 = 0;
      (*(*v7 + 16))(v7, v14);
      (*(*v7 + 8))(v7);
      WTF::Vector<WTF::Vector<WebCore::TargetedElementInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v14, v8);
      v9 = v13;
      v13 = 0;
      if (!v9)
      {
        return WTF::RefCounted<WebCore::Page>::deref(v6);
      }

      if (*v9)
      {
        --*v9;
        return WTF::RefCounted<WebCore::Page>::deref(v6);
      }
    }

    __break(0xC471u);
    JUMPOUT(0x19E406288);
  }

  v14[0] = 0;
  v14[1] = 0;
  v11 = *a2;
  *a2 = 0;
  (*(*v11 + 16))(v11, v14);
  (*(*v11 + 8))(v11);
  return WTF::Vector<WTF::Vector<WebCore::TargetedElementInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v14, v12);
}

_DWORD *WebKit::WebPage::requestTextExtraction(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a1 + 56);
  v6 = *(v4 + 8);
  v5 = (v4 + 8);
  *v5 = v6 + 1;
  WebCore::TextExtraction::extractItem();
  v7 = *a3;
  *a3 = 0;
  (*(*v7 + 16))(v7, v10);
  (*(*v7 + 8))(v7);
  WTF::Vector<WebCore::TextExtraction::Item,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v12, v8);
  if (v11 != 255)
  {
    mpark::detail::visitation::alt::visit_alt<mpark::detail::dtor,mpark::detail::destructor<mpark::detail::traits<WebCore::TextExtraction::ContainerType,WebCore::TextExtraction::TextItemData,WebCore::TextExtraction::ScrollableItemData,WebCore::TextExtraction::ImageItemData>,(mpark::detail::Trait)1> &>(&v13, v10);
  }

  v11 = -1;
  return WTF::RefCounted<WebCore::Page>::deref(v5);
}

uint64_t WebKit::WebPage::contentsToRootViewRect(float a1, float a2, float a3, float a4, uint64_t a5, WebKit::WebProcess *a6, uint64_t *a7)
{
  v8 = WebKit::WebPage::contentsToRootView<WebCore::FloatRect>(a6, a6, a1, a2, a3, a4);
  v9 = *a7;
  *a7 = 0;
  (*(*v9 + 16))(v9, v8);
  v10 = *(*v9 + 8);

  return v10(v9);
}

float WebKit::WebPage::contentsToRootView<WebCore::FloatRect>(WebKit::WebProcess *a1, void *a2, float a3, float a4, float a5, float a6)
{
  v6 = a3;
  *v17 = a3;
  *&v17[1] = a4;
  *&v17[2] = a5;
  *&v17[3] = a6;
  v8 = WebKit::WebProcess::singleton(a1, a2);
  v9 = WebKit::WebProcess::webFrame(v8, a1, 1);
  if (v9)
  {
    v10 = v9;
    CFRetain(*(v9 + 8));
    v11 = *(v10 + 40);
    if (v11)
    {
      v12 = *(v11 + 8);
      if (v12)
      {
        ++v12[4];
        v13 = (*(*v12 + 56))(v12);
        if (v13)
        {
          v14 = v13;
          ++v13[2];
          WebCore::ScrollView::contentsToRootView(v13, v17);
          v6 = v15;
          if (v14[2] == 1)
          {
            (*(*v14 + 8))(v14);
          }

          else
          {
            --v14[2];
          }
        }

        if (v12[4] == 1)
        {
          (*(*v12 + 8))(v12);
        }

        else
        {
          --v12[4];
        }
      }
    }

    CFRelease(*(v10 + 8));
  }

  return v6;
}

uint64_t WebKit::WebPage::contentsToRootViewPoint(float a1, float a2, uint64_t a3, WebKit::WebProcess *a4, uint64_t *a5)
{
  v6 = WebKit::WebPage::contentsToRootView<WebCore::FloatPoint>(a4, a4, a1, a2);
  v7 = *a5;
  *a5 = 0;
  (*(*v7 + 16))(v7, v6);
  v8 = *(*v7 + 8);

  return v8(v7);
}

float WebKit::WebPage::contentsToRootView<WebCore::FloatPoint>(WebKit::WebProcess *a1, void *a2, float a3, float a4)
{
  v4 = a3;
  *v15 = a3;
  *&v15[1] = a4;
  v6 = WebKit::WebProcess::singleton(a1, a2);
  v7 = WebKit::WebProcess::webFrame(v6, a1, 1);
  if (v7)
  {
    v8 = v7;
    CFRetain(*(v7 + 8));
    v9 = *(v8 + 40);
    if (v9)
    {
      v10 = *(v9 + 8);
      if (v10)
      {
        ++v10[4];
        v11 = (*(*v10 + 56))(v10);
        if (v11)
        {
          v12 = v11;
          ++v11[2];
          WebCore::ScrollView::contentsToRootView(v11, v15);
          v4 = v13;
          if (v12[2] == 1)
          {
            (*(*v12 + 8))(v12);
          }

          else
          {
            --v12[2];
          }
        }

        if (v10[4] == 1)
        {
          (*(*v10 + 8))(v10);
        }

        else
        {
          --v10[4];
        }
      }
    }

    CFRelease(*(v8 + 8));
  }

  return v4;
}

WTF::StringImpl *WebKit::WebPage::remoteDictionaryPopupInfoToRootView(uint64_t a1, WebKit::WebProcess *a2, uint64_t a3, uint64_t *a4)
{
  v7 = *(a3 + 8);
  if (v7)
  {
    ++*v7;
    *a3 = WebKit::WebPage::contentsToRootView<WebCore::FloatPoint>(a2, a2, *a3, *(a3 + 4));
    *(a3 + 4) = v8;
    v9 = *(v7 + 2);
    v10 = *(v7 + 10);
    v53 = *(v7 + 6);
    v54 = v10;
    v52 = v9;
    WTF::Vector<WebCore::LinearTimingFunction::Point,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&v55, (v7 + 14));
    v58 = v7[18];
    v12 = *(v7 + 10);
    if (v12)
    {
      ++v12[4];
    }

    v59 = v12;
    v13 = *(v7 + 11);
    if (v13)
    {
      ++v13[4];
    }

    v60 = v13;
    v14 = *(v7 + 12);
    if (v14)
    {
      ++v14[4];
    }

    v15 = *(v7 + 13);
    v61 = v14;
    v62 = v15;
    if ((v15 & 0x8000000000000) != 0)
    {
      atomic_fetch_add((v15 & 0xFFFFFFFFFFFFLL), 1u);
    }

    v16 = *(v7 + 7);
    *(v63 + 9) = *(v7 + 121);
    v63[0] = v16;
    LODWORD(v52) = WebKit::WebPage::contentsToRootView<WebCore::FloatRect>(a2, v11, *(*(a3 + 8) + 8), *(*(a3 + 8) + 12), *(*(a3 + 8) + 16), *(*(a3 + 8) + 20));
    *(&v52 + 4) = __PAIR64__(v18, v17);
    HIDWORD(v52) = v19;
    LODWORD(v53) = WebKit::WebPage::contentsToRootView<WebCore::FloatRect>(a2, v20, *(*(a3 + 8) + 24), *(*(a3 + 8) + 28), *(*(a3 + 8) + 32), *(*(a3 + 8) + 36));
    *(&v53 + 4) = __PAIR64__(v22, v21);
    HIDWORD(v53) = v23;
    LODWORD(v54) = WebKit::WebPage::contentsToRootView<WebCore::FloatRect>(a2, v24, *(*(a3 + 8) + 40), *(*(a3 + 8) + 44), *(*(a3 + 8) + 48), *(*(a3 + 8) + 52));
    *(&v54 + 4) = __PAIR64__(v26, v25);
    HIDWORD(v54) = v28;
    if (v57)
    {
      v29 = v55;
      v30 = (v55 + 16 * v57);
      do
      {
        *v29 = WebKit::WebPage::contentsToRootView<WebCore::FloatRect>(a2, v27, *v29, v29[1], v29[2], v29[3]);
        *(v29 + 1) = v31;
        *(v29 + 2) = v32;
        *(v29 + 3) = v33;
        v29 += 4;
      }

      while (v29 != v30);
    }

    v34 = *(a3 + 8);
    v49 = *a3;
    if (v34)
    {
      ++*v34;
    }

    v50 = v34;
    v35 = *(a3 + 16);
    if (v35)
    {
      atomic_fetch_add_explicit(v35, 2u, memory_order_relaxed);
    }

    v51 = v35;
    WTF::CompletionHandler<void ()(WebCore::DictionaryPopupInfo)>::operator()(a4, &v49);
    v37 = v51;
    v51 = 0;
    if (v37 && atomic_fetch_add_explicit(v37, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v37, v36);
    }

    v38 = v50;
    v50 = 0;
    if (v38)
    {
      WTF::RefCounted<WebCore::TextIndicator>::deref(v38);
    }

    if ((v62 & 0x8000000000000) != 0)
    {
      v48 = (v62 & 0xFFFFFFFFFFFFLL);
      if (atomic_fetch_add((v62 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v48);
        WTF::fastFree(v48, v36);
      }
    }

    v39 = v61;
    v61 = 0;
    if (v39)
    {
      if (v39[4] == 1)
      {
        (*(*v39 + 8))(v39);
      }

      else
      {
        --v39[4];
      }
    }

    v40 = v60;
    v60 = 0;
    if (v40)
    {
      if (v40[4] == 1)
      {
        (*(*v40 + 8))(v40);
      }

      else
      {
        --v40[4];
      }
    }

    v41 = v59;
    v59 = 0;
    if (v41)
    {
      if (v41[4] == 1)
      {
        (*(*v41 + 8))(v41);
      }

      else
      {
        --v41[4];
      }
    }

    v42 = v55;
    if (v55)
    {
      v55 = 0;
      v56 = 0;
      WTF::fastFree(v42, v36);
    }

    return WTF::RefCounted<WebCore::TextIndicator>::deref(v7);
  }

  *a3 = WebKit::WebPage::contentsToRootView<WebCore::FloatPoint>(a2, a2, *a3, *(a3 + 4));
  *(a3 + 4) = v44;
  v45 = *(a3 + 8);
  v64 = *a3;
  if (v45)
  {
    ++*v45;
  }

  v65 = v45;
  v46 = *(a3 + 16);
  if (v46)
  {
    atomic_fetch_add_explicit(v46, 2u, memory_order_relaxed);
  }

  v66 = v46;
  WTF::CompletionHandler<void ()(WebCore::DictionaryPopupInfo)>::operator()(a4, &v64);
  result = v66;
  if (v66 && atomic_fetch_add_explicit(v66, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    result = WTF::StringImpl::destroy(result, v47);
  }

  v7 = v65;
  if (v65)
  {
    return WTF::RefCounted<WebCore::TextIndicator>::deref(v7);
  }

  return result;
}

uint64_t WTF::CompletionHandler<void ()(WebCore::DictionaryPopupInfo)>::operator()(uint64_t *a1, uint64_t *a2)
{
  v2 = *a1;
  *a1 = 0;
  v8 = *a2;
  v3 = *(a2 + 1);
  a2[1] = 0;
  a2[2] = 0;
  *v9 = v3;
  (*(*v2 + 16))(v2, &v8);
  v5 = v9[1];
  v9[1] = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, v4);
  }

  v6 = v9[0];
  v9[0] = 0;
  if (v6)
  {
    WTF::RefCounted<WebCore::TextIndicator>::deref(v6);
  }

  return (*(*v2 + 8))(v2);
}

_DWORD *WebKit::WebPage::adjustVisibilityForTargetedElements(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a1 + 56);
  if (v4)
  {
    v5 = v4 + 2;
    ++v4[2];
    WebCore::Page::checkedElementTargetingController(&v12, v4);
    if (v12)
    {
      v6 = WebCore::ElementTargetingController::adjustVisibility();
      v7 = *a3;
      *a3 = 0;
      (*(*v7 + 16))(v7, v6);
      (*(*v7 + 8))(v7);
      v8 = v12;
      v12 = 0;
      if (!v8)
      {
        return WTF::RefCounted<WebCore::Page>::deref(v5);
      }

      if (*v8)
      {
        --*v8;
        return WTF::RefCounted<WebCore::Page>::deref(v5);
      }
    }

    __break(0xC471u);
    JUMPOUT(0x19E406D3CLL);
  }

  v10 = *a3;
  *a3 = 0;
  (*(*v10 + 16))(v10, 0);
  v11 = *(*v10 + 8);

  return v11(v10);
}

_DWORD *WebKit::WebPage::resetVisibilityAdjustmentsForTargetedElements(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a1 + 56);
  if (v4)
  {
    v5 = v4 + 2;
    ++v4[2];
    WebCore::Page::checkedElementTargetingController(&v12, v4);
    if (v12)
    {
      v6 = WebCore::ElementTargetingController::resetVisibilityAdjustments();
      v7 = *a3;
      *a3 = 0;
      (*(*v7 + 16))(v7, v6);
      (*(*v7 + 8))(v7);
      v8 = v12;
      v12 = 0;
      if (!v8)
      {
        return WTF::RefCounted<WebCore::Page>::deref(v5);
      }

      if (*v8)
      {
        --*v8;
        return WTF::RefCounted<WebCore::Page>::deref(v5);
      }
    }

    __break(0xC471u);
    JUMPOUT(0x19E406EDCLL);
  }

  v10 = *a3;
  *a3 = 0;
  (*(*v10 + 16))(v10, 0);
  v11 = *(*v10 + 8);

  return v11(v10);
}

void WebKit::WebPage::takeSnapshotForTargetedElement(uint64_t a1, uint64_t a2, _OWORD *a3, uint64_t *a4)
{
  v35 = *MEMORY[0x1E69E9840];
  v5 = *(a1 + 56);
  if (v5)
  {
    v7 = v5 + 2;
    ++v5[2];
    WebCore::Page::checkedElementTargetingController(&v29, v5);
    if (v29)
    {
      v8 = a3[1];
      *cf = *a3;
      *v32 = v8;
      WebCore::ElementTargetingController::snapshotIgnoringVisibilityAdjustment();
      v9 = v29;
      v29 = 0;
      if (!v9)
      {
LABEL_6:
        if (v30)
        {
          v27[0] = (*(*v30 + 176))(v30, 0);
          v27[1] = v10;
          WebCore::IntSize::IntSize(&v28, v27);
          LOBYTE(v25) = 0;
          v26 = 0;
          MEMORY[0x19EB0C920](cf, &v28, &v25, 0, 1.0);
          WebCore::ShareableBitmap::create();
          if (LOBYTE(v32[0]) == 1)
          {
            v11 = cf[1];
            cf[1] = 0;
            if (v11)
            {
              CFRelease(v11);
            }
          }

          if (v26 == 1)
          {
            v12 = v25;
            v25 = 0;
            if (v12)
            {
              CFRelease(v12);
            }
          }

          if (v29)
          {
            WebCore::ShareableBitmap::createGraphicsContext(&v28, v29);
            if (v28)
            {
              cf[0] = 0;
              WebCore::GraphicsContext::drawImage();
              WebCore::ShareableBitmap::createHandle();
            }

            else
            {
              LOBYTE(cf[0]) = 0;
              v34 = 0;
            }

            v18 = *a4;
            *a4 = 0;
            (*(*v18 + 16))(v18, cf);
            (*(*v18 + 8))(v18);
            if (v34 == 1)
            {
              if (v33 == 1)
              {
                v19 = v32[1];
                v32[1] = 0;
                if (v19)
                {
                  CFRelease(v19);
                }
              }

              WTF::MachSendRight::~MachSendRight(cf);
            }

            v20 = v28;
            v28 = 0;
            if (v20)
            {
              (*(*v20 + 8))(v20);
            }
          }

          else
          {
            LOBYTE(cf[0]) = 0;
            v34 = 0;
            v15 = *a4;
            *a4 = 0;
            (*(*v15 + 16))(v15, cf);
            (*(*v15 + 8))(v15);
            if (v34 == 1)
            {
              if (v33 == 1)
              {
                v17 = v32[1];
                v32[1] = 0;
                if (v17)
                {
                  CFRelease(v17);
                }
              }

              WTF::MachSendRight::~MachSendRight(cf);
            }
          }

          v21 = v29;
          v29 = 0;
          if (v21)
          {
            WTF::ThreadSafeRefCounted<WebCore::ShareableBitmap,(WTF::DestructionThread)0>::deref(v21, v16);
          }
        }

        else
        {
          LOBYTE(cf[0]) = 0;
          v34 = 0;
          v13 = *a4;
          *a4 = 0;
          (*(*v13 + 16))(v13, cf);
          (*(*v13 + 8))(v13);
          if (v34 == 1)
          {
            if (v33 == 1)
            {
              v14 = v32[1];
              v32[1] = 0;
              if (v14)
              {
                CFRelease(v14);
              }
            }

            WTF::MachSendRight::~MachSendRight(cf);
          }
        }

        v22 = v30;
        v30 = 0;
        if (v22)
        {
          if (v22[4] == 1)
          {
            (*(*v22 + 8))(v22);
          }

          else
          {
            --v22[4];
          }
        }

        WTF::RefCounted<WebCore::Page>::deref(v7);
        return;
      }

      if (*v9)
      {
        --*v9;
        goto LABEL_6;
      }
    }

    __break(0xC471u);
    JUMPOUT(0x19E4073ACLL);
  }

  LOBYTE(cf[0]) = 0;
  v34 = 0;
  v23 = *a4;
  *a4 = 0;
  (*(*v23 + 16))(v23, cf);
  (*(*v23 + 8))(v23);
  if (v34 == 1)
  {
    if (v33 == 1)
    {
      v24 = v32[1];
      v32[1] = 0;
      if (v24)
      {
        CFRelease(v24);
      }
    }

    WTF::MachSendRight::~MachSendRight(cf);
  }
}

_DWORD *WebKit::WebPage::numberOfVisibilityAdjustmentRects(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 56);
  if (v3)
  {
    v4 = v3 + 2;
    ++v3[2];
    WebCore::Page::checkedElementTargetingController(&v11, v3);
    if (v11)
    {
      v5 = WebCore::ElementTargetingController::numberOfVisibilityAdjustmentRects(v11);
      v6 = *a2;
      *a2 = 0;
      (*(*v6 + 16))(v6, v5);
      (*(*v6 + 8))(v6);
      v7 = v11;
      v11 = 0;
      if (!v7)
      {
        return WTF::RefCounted<WebCore::Page>::deref(v4);
      }

      if (*v7)
      {
        --*v7;
        return WTF::RefCounted<WebCore::Page>::deref(v4);
      }
    }

    __break(0xC471u);
    JUMPOUT(0x19E407544);
  }

  v9 = *a2;
  *a2 = 0;
  (*(*v9 + 16))(v9, 0);
  v10 = *(*v9 + 8);

  return v10(v9);
}

uint64_t WebKit::WebPage::startObservingNowPlayingMetadata(uint64_t this)
{
  if (!*(this + 2144))
  {
    v2 = this;
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((this + 24), this + 16);
    v3 = *(v2 + 24);
    atomic_fetch_add(v3, 1u);
    v4 = WTF::fastMalloc(0x10);
    v5 = WTF::fastMalloc(0x10);
    *v5 = &unk_1F1133D88;
    v5[1] = v3;
    *v4 = 0;
    v4[1] = v5;
    v6 = std::unique_ptr<WTF::Observer<void ()(WebCore::NowPlayingMetadata const&)>>::reset[abi:sn200100]((v2 + 2144), v4);
    v7 = WebCore::PlatformMediaSessionManager::singleton(v6);
    v8 = *(v2 + 2144);

    return MEMORY[0x1EEE597B0](v7, v8);
  }

  return this;
}

IPC::Encoder *WebKit::WebPage::didAdjustVisibilityWithSelectors(uint64_t a1, uint64_t a2)
{
  v3 = a1 + 32;
  v4 = (*(*(a1 + 32) + 56))(a1 + 32);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2176;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::VectorArgumentCoder<false,WTF::String,0ul,WTF::CrashOnOverflow,16ul>::encode<IPC::Encoder,WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>(v6, a2);
  (*(*v3 + 32))(v3, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

void WebKit::WebPage::frameNameWasChangedInAnotherProcess(WebKit::WebProcess *a1, void *a2, StringImpl **a3)
{
  v5 = WebKit::WebProcess::singleton(a1, a2);
  v6 = WebKit::WebProcess::webFrame(v5, a2, 1);
  if (v6)
  {
    v7 = v6;
    CFRetain(*(v6 + 8));
    v9 = *(v7 + 40);
    if (v9)
    {
      v10 = *(v9 + 8);
      if (v10)
      {
        ++v10[4];
        m_ptr = *a3;
        if (*a3)
        {
          if ((*(m_ptr + 16) & 0x10) != 0)
          {
            atomic_fetch_add_explicit(m_ptr, 2u, memory_order_relaxed);
          }

          else
          {
            WTF::AtomStringImpl::addSlowCase(&v14, m_ptr, v8);
            m_ptr = v14.var0.m_impl.m_ptr;
          }
        }

        v14.var0.m_impl.m_ptr = m_ptr;
        WebCore::FrameTree::setSpecifiedName((v10 + 10), &v14);
        v13 = v14.var0.m_impl.m_ptr;
        v14.var0.m_impl.m_ptr = 0;
        if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v13, v12);
        }

        if (v10[4] == 1)
        {
          (*(*v10 + 8))(v10);
        }

        else
        {
          --v10[4];
        }
      }
    }

    CFRelease(*(v7 + 8));
  }
}

uint64_t WebKit::WebPage::updateLastNodeBeforeWritingSuggestions(uint64_t this, const WebCore::KeyboardEvent *a2)
{
  v3 = this;
  v4 = *(_ReadStatusReg(ARM64_SYSREG(3, 3, 13, 0, 3)) + 736);
  if (!v4 || (v5 = *(v4 + 96)) == 0)
  {
    this = WebCore::threadGlobalDataSlow(this);
    v5 = this;
  }

  v6 = *(v5 + 5);
  if (!v6)
  {
    this = WebCore::ThreadGlobalData::initializeEventNames(v5);
    v6 = *(v5 + 5);
  }

  if (*(a2 + 4) == *(v6 + 1064))
  {
    this = WebCore::FocusController::focusedOrMainFrame(*(*(v3 + 56) + 80));
    if (this)
    {
      v7 = this;
      ++*(this + 16);
      v8 = *(this + 224);
      if (v8)
      {
        *(v8 + 7) += 2;
        v9 = WebCore::Document::editor(v8);
        if (*(v8 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v8);
        }

        else
        {
          *(v8 + 7) -= 2;
        }
      }

      else
      {
        v9 = WebCore::Document::editor(0);
      }

      WebCore::Editor::ref(v9);
      v10 = WebCore::Editor::nodeBeforeWritingSuggestions(v9);
      if (v10)
      {
        v12 = v10;
        WTF::WeakPtrFactoryWithBitField<WebCore::EventTarget,WebCore::WeakPtrImplWithEventTargetData>::initializeIfNeeded((v10 + 16), v10);
        v13 = (*(v12 + 16) & 0xFFFFFFFFFFFFLL);
        if (v13)
        {
          atomic_fetch_add(v13, 1u);
        }
      }

      else
      {
        v13 = 0;
      }

      v14 = *(v3 + 2032);
      *(v3 + 2032) = v13;
      if (v14)
      {
        WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v14, v11);
      }

      this = WebCore::Editor::deref(v9);
      if (v7[4] == 1)
      {
        v15 = *(*v7 + 8);

        return v15(v7);
      }

      else
      {
        --v7[4];
      }
    }
  }

  return this;
}

uint64_t IPC::MessageSender::send<Messages::WebPageProxy::SetAllowsLayoutViewportHeightExpansion>(uint64_t a1, char *a2)
{
  v4 = (*(*a1 + 56))(a1);
  v6 = IPC::Encoder::operator new(0x238, v5);
  *v6 = 2349;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = v4;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v13 = v6;
  IPC::Encoder::operator<<<BOOL &>(v6, a2);
  v8 = (*(*a1 + 32))(a1, &v13, 0);
  v9 = v13;
  v13 = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v7);
    bmalloc::api::tzoneFree(v11, v12);
  }

  return v8;
}

IPC::Encoder *WebKit::WebPage::hasActiveNowPlayingSessionChanged(WebKit::WebPage *this, char a2)
{
  v10 = a2;
  v2 = this + 32;
  v3 = (*(*(this + 4) + 56))(this + 32);
  v5 = IPC::Encoder::operator new(0x238, v4);
  *v5 = 2269;
  *(v5 + 2) = 0;
  *(v5 + 3) = 0;
  *(v5 + 1) = v3;
  *(v5 + 68) = 0;
  *(v5 + 70) = 0;
  *(v5 + 69) = 0;
  IPC::Encoder::encodeHeader(v5);
  v11 = v5;
  IPC::Encoder::operator<<<BOOL &>(v5, &v10);
  (*(*v2 + 32))(v2, &v11, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v6);
    return bmalloc::api::tzoneFree(v8, v9);
  }

  return result;
}

uint64_t WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v145 = *MEMORY[0x1E69E9840];
  v3 = *(*(a1 + 88) + 40);
  if (!v3 || (v4 = *(v3 + 8)) == 0 || *(v4 + 136) == 1)
  {
    v124 = 0;
    goto LABEL_194;
  }

  ++*(v4 + 16);
  v124 = v4;
  v5 = *(v4 + 216);
  if (!v5)
  {
LABEL_194:
    v111 = *a3;
    *a3 = 0;
    (*(*v111 + 16))(v111, 0);
    (*(*v111 + 8))(v111);
    goto LABEL_189;
  }

  ++v5[2];
  v6 = *(v4 + 224);
  if (v6)
  {
    *(v6 + 7) += 2;
    v8 = WebCore::Document::body(v6);
    if (v8)
    {
      v9 = v8;
      v115 = a1;
      *(v8 + 28) += 2;
      v122 = 0;
      v123 = 0;
      v121.i64[0] = WebCore::ScrollView::unobscuredContentRect();
      v121.i64[1] = v10;
      WebCore::makeRangeSelectingNodeContents(&v118, v9, v10);
      do
      {
LABEL_8:
        if (MEMORY[0x19EB103B0](&v118, &v120) != 0xFF)
        {
          break;
        }

        WebCore::findPlainText();
        v11 = *buf;
        v12 = *&v127[2];
        v13 = v128;
        v14 = *buf == *&v127[2] && *&buf[8] == v128;
        v15 = v14;
        if (v14)
        {
          goto LABEL_59;
        }

        *(*&v127[2] + 28) += 2;
        v16 = v118;
        v118 = v12;
        if (v16)
        {
          if (*(v16 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v16);
            v13 = v128;
            v11 = *buf;
          }

          else
          {
            *(v16 + 7) -= 2;
          }
        }

        v119 = v13;
        *(v11 + 28) += 2;
        while ((*(v11 + 32) & 0x10) == 0)
        {
LABEL_25:
          v17 = WebCore::Node::parentElementInComposedTree(v11);
          v18 = v17;
          if (v17)
          {
            *(v17 + 28) += 2;
          }

          if (*(v11 + 28) == 2)
          {
            WebCore::Node::removedLastRef(v11);
          }

          else
          {
            *(v11 + 28) -= 2;
          }

          v11 = v18;
          if (!v18)
          {
            goto LABEL_59;
          }
        }

        *(v11 + 28) += 2;
        if ((WebCore::Node::willRespondToMouseClickEvents(v11, 0) & 1) == 0 && (*(v11 + 36) & 1) == 0)
        {
          if (*(v11 + 28) == 2)
          {
            WebCore::Node::removedLastRef(v11);
          }

          else
          {
            *(v11 + 28) -= 2;
          }

          goto LABEL_25;
        }

        if (*(v11 + 28) == 2)
        {
          WebCore::Node::removedLastRef(v11);
        }

        else
        {
          *(v11 + 28) -= 2;
        }

        WebCore::RenderObject::absoluteBorderAndTextRects();
        if (HIDWORD(v117))
        {
          v20 = 0;
          v21 = 0;
          while (1)
          {
            *v142 = WebCore::enclosingIntRect((v116 + v20), v19);
            *&v142[8] = v22;
            if (WebCore::IntRect::intersects(&v121, v142))
            {
              break;
            }

            ++v21;
            v20 += 16;
            if (v21 >= HIDWORD(v117))
            {
              goto LABEL_55;
            }
          }

          *v142 = v11;
          if (v21 >= HIDWORD(v117))
          {
            __break(0xC471u);
            goto LABEL_205;
          }

          v23 = roundf(*(v116 + v20) + (*(v116 + v20 + 8) * 0.5));
          v24 = v23;
          if (v23 <= -2147500000.0)
          {
            v24 = 0x80000000;
          }

          if (v23 >= 2147500000.0)
          {
            v24 = 0x7FFFFFFFLL;
          }

          v25 = roundf(*(v116 + v20 + 4) + (*(v116 + v20 + 12) * 0.5));
          if (v25 >= 2147500000.0)
          {
            v26 = 0x7FFFFFFF00000000;
          }

          else if (v25 <= -2147500000.0)
          {
            v26 = 0x8000000000000000;
          }

          else
          {
            v26 = v25 << 32;
          }

          *&v142[8] = v26 | v24;
          v27 = HIDWORD(v123);
          if (HIDWORD(v123) == v123)
          {
            v28 = WTF::Vector<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v122, HIDWORD(v123) + 1, v142);
            v27 = HIDWORD(v123);
            v29 = (v122 + 16 * HIDWORD(v123));
            v30 = *v28;
            *v28 = 0;
            v31 = v28 + 1;
            *v29 = v30;
          }

          else
          {
            v29 = (v122 + 16 * HIDWORD(v123));
            *v142 = 0;
            *v29 = v11;
            v31 = &v142[8];
          }

          v29[1] = *v31;
          HIDWORD(v123) = v27 + 1;
          v32 = *v142;
          *v142 = 0;
          if (v32)
          {
            if (*(v32 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v32);
            }

            else
            {
              *(v32 + 7) -= 2;
            }
          }

          v11 = 0;
        }

LABEL_55:
        v33 = v116;
        if (v116)
        {
          v116 = 0;
          LODWORD(v117) = 0;
          WTF::fastFree(v33, v19);
          if (v11)
          {
            goto LABEL_57;
          }
        }

        else if (v11)
        {
LABEL_57:
          if (*(v11 + 28) == 2)
          {
            WebCore::Node::removedLastRef(v11);
          }

          else
          {
            *(v11 + 28) -= 2;
          }
        }

LABEL_59:
        v34 = *&v127[2];
        *&v127[2] = 0;
        if (v34)
        {
          if (*(v34 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v34);
          }

          else
          {
            *(v34 + 7) -= 2;
          }
        }

        v35 = *buf;
        *buf = 0;
        if (!v35)
        {
LABEL_65:
          if (v15)
          {
            break;
          }

          goto LABEL_8;
        }

        if (*(v35 + 7) != 2)
        {
          *(v35 + 7) -= 2;
          goto LABEL_65;
        }

        WebCore::Node::removedLastRef(v35);
      }

      while (!v15);
      WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(&v122);
      v36 = qword_1ED640DB0;
      v37 = os_log_type_enabled(qword_1ED640DB0, OS_LOG_TYPE_DEFAULT);
      v38 = HIDWORD(v123);
      v39 = a1;
      if (v37)
      {
        v40 = *(a1 + 48);
        *buf = 134218496;
        *&buf[4] = a1;
        v126 = 2048;
        *v127 = v40;
        *&v127[8] = 2048;
        v128 = HIDWORD(v123);
        _os_log_impl(&dword_19D52D000, v36, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::Simulating click - found %zu candidate(s) from visible text", buf, 0x20u);
      }

      if (v38)
      {
        goto LABEL_146;
      }

      v41.i64[0] = 0xFE000000FE000000;
      v41.i64[1] = 0xFE000000FE000000;
      v42 = vcgtq_s32(v121, v41);
      v43.i64[0] = 0xFE000000FE000000;
      v43.i64[1] = 0xFE000000FE000000;
      v44.i64[0] = 0x8000000080000000;
      v44.i64[1] = 0x8000000080000000;
      *v142 = vorrq_s8((*&v42 & __PAIR128__(0x7FFFFFFF7FFFFFFFLL, 0x7FFFFFFF7FFFFFFFLL)), vbicq_s8(vbslq_s8(vcgtq_s32(v43, v121), v44, vshlq_n_s32(v121, 6uLL)), v42));
      WebCore::HitTestResult::HitTestResult(buf, v142);
      *v142 = 32769;
      v142[4] = 1;
      WebCore::Document::hitTest();
      v46 = *(WebCore::HitTestResult::listBasedTestResult(buf) + 8);
      if (v46)
      {
        v47 = 0;
        v48 = MEMORY[0x1E69E29D8];
        while (1)
        {
          v49 = *v46;
          v50 = *(*v46 + 28);
          *(v49 + 28) = v50 + 2;
          if ((*(v49 + 32) & 0x10) == 0)
          {
            if (!v50)
            {
              goto LABEL_113;
            }

            goto LABEL_85;
          }

          v51 = *(v49 + 112);
          if (!v51)
          {
            break;
          }

          v52 = *(v51 + 4);
          if (v52)
          {
            v53 = *(v51 + 40);
            v54 = *(v51 + 52);
            if (!*(v51 + 52))
            {
              break;
            }
          }

          else
          {
            v53 = v51 + 32;
            v54 = v52 >> 5;
            if (!v54)
            {
              break;
            }
          }

          v55 = *v48;
          v56 = (v53 + 8);
          v57 = 16 * v54;
          while (1)
          {
            v58 = *(v56 - 1);
            if (v58 == v55 || *(v58 + 24) == *(v55 + 24) && *(v58 + 32) == *(v55 + 32))
            {
              break;
            }

            v56 += 2;
            v57 -= 16;
            if (!v57)
            {
              goto LABEL_99;
            }
          }

LABEL_100:
          v59 = *v56;
          if (*v56)
          {
            atomic_fetch_add_explicit(v59, 2u, memory_order_relaxed);
            *v142 = v59;
            if (v59[1])
            {
              v60 = WebCore::containsPlainText();
              v61 = *v142;
              *v142 = 0;
              if (v61 && atomic_fetch_add_explicit(v61, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v61, v45);
              }

              if (v60)
              {
                goto LABEL_127;
              }
            }

            else
            {
              *v142 = 0;
              if (atomic_fetch_add_explicit(v59, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v59, v45);
              }
            }
          }

          v62 = *(v49 + 28);
          *(v49 + 28) = v62 + 2;
          if (*(*(v49 + 104) + 24) != *(*MEMORY[0x1E69E2C70] + 24))
          {
            if (!v62)
            {
              goto LABEL_121;
            }

            goto LABEL_111;
          }

          if ((WebCore::HTMLInputElement::isSubmitButton(v49) & 1) == 0 && !WebCore::HTMLInputElement::isTextButton(v49) || (WebCore::HTMLInputElement::visibleValue(v142, v49), (v63 = *v142) == 0))
          {
            v62 = *(v49 + 28) - 2;
            if (*(v49 + 28) == 2)
            {
LABEL_121:
              WebCore::Node::removedLastRef(v49);
              goto LABEL_112;
            }

LABEL_111:
            *(v49 + 28) = v62;
LABEL_112:
            v50 = *(v49 + 28) - 2;
            if (*(v49 + 28) == 2)
            {
LABEL_113:
              WebCore::Node::removedLastRef(v49);
              goto LABEL_86;
            }

LABEL_85:
            *(v49 + 28) = v50;
            goto LABEL_86;
          }

          if (*(*v142 + 4))
          {
            v64 = WebCore::containsPlainText();
            v63 = *v142;
            *v142 = 0;
            if (!v63)
            {
              goto LABEL_125;
            }
          }

          else
          {
            v64 = 0;
            *v142 = 0;
          }

          if (atomic_fetch_add_explicit(v63, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v63, v45);
          }

LABEL_125:
          if (*(v49 + 28) == 2)
          {
            WebCore::Node::removedLastRef(v49);
            if (!v64)
            {
              goto LABEL_112;
            }
          }

          else
          {
            *(v49 + 28) -= 2;
            if ((v64 & 1) == 0)
            {
              goto LABEL_112;
            }
          }

LABEL_127:
          WebCore::Element::boundingAbsoluteRectWithoutLayout(v142, v49);
          if (v144 != 1)
          {
            if (!v49)
            {
              goto LABEL_86;
            }

            goto LABEL_112;
          }

          v116 = v49;
          v65 = WebCore::enclosingIntRect(&v142[8], v45);
          v117 = (v65 + v45 / 2) | ((HIDWORD(v65) + SHIDWORD(v45) / 2) << 32);
          if (v47 == v123)
          {
            v66 = WTF::Vector<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v122, v47 + 1, &v116);
            v47 = HIDWORD(v123);
            v67 = v122 + 16 * HIDWORD(v123);
            v68 = *v66;
            *v66 = 0;
            v69 = v66 + 1;
            *v67 = v68;
          }

          else
          {
            v70 = v116;
            v67 = v122 + 16 * v47;
            v116 = 0;
            *v67 = v70;
            v69 = &v117;
          }

          *(v67 + 1) = *v69;
          HIDWORD(v123) = ++v47;
          v71 = v116;
          v116 = 0;
          if (v71)
          {
            if (*(v71 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v71);
            }

            else
            {
              *(v71 + 7) -= 2;
            }
          }

          if ((v144 & 1) != 0 && *v142)
          {
            v72 = *(*v142 + 16);
            if (!v72)
            {
              __break(0xC471u);
LABEL_205:
              JUMPOUT(0x19E408ADCLL);
            }

            *(*v142 + 16) = v72 - 1;
          }

LABEL_86:
          v46 = v46[2];
          if (!v46)
          {
            goto LABEL_143;
          }
        }

LABEL_99:
        v56 = MEMORY[0x1E696EB90];
        goto LABEL_100;
      }

LABEL_143:
      WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(&v122);
      v73 = qword_1ED640DB0;
      v74 = os_log_type_enabled(qword_1ED640DB0, OS_LOG_TYPE_DEFAULT);
      v38 = HIDWORD(v123);
      v39 = v115;
      if (v74)
      {
        v75 = *(v115 + 48);
        *v142 = 134218496;
        *&v142[4] = v115;
        *&v142[12] = 2048;
        *&v142[14] = v75;
        v143 = 2048;
        v144 = HIDWORD(v123);
        _os_log_impl(&dword_19D52D000, v73, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::Simulating click - found %zu candidate(s) from DOM attributes", v142, 0x20u);
      }

      MEMORY[0x19EB04BD0](buf);
      if (v38)
      {
LABEL_146:
        if (v38 < 2)
        {
          v80 = *(v39 + 896);
          *(v39 + 896) = 1;
          v81 = WebCore::ScrollView::contentsToWindow();
          v82 = qword_1ED640DB0;
          v83 = os_log_type_enabled(qword_1ED640DB0, OS_LOG_TYPE_DEFAULT);
          if (v83)
          {
            v84 = *(v39 + 48);
            *buf = 134218240;
            *&buf[4] = v39;
            v126 = 2048;
            *v127 = v84;
            _os_log_impl(&dword_19D52D000, v82, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::Simulating click - dispatching events", buf, 0x16u);
          }

          v85 = WTF::WallTime::now(v83);
          *buf = v86;
          *&buf[8] = 6;
          v127[2] = 0;
          v129 = 0;
          v130 = 256;
          v131 = v81;
          v132 = v81;
          v134 = 0;
          v133 = 0;
          v135 = 0x3FF0000000000000;
          v136 = 1;
          v87 = *WebCore::mousePointerEventType(v85);
          if (v87)
          {
            atomic_fetch_add_explicit(v87, 2u, memory_order_relaxed);
          }

          v137 = v87;
          v138 = 1;
          v139 = 0;
          v140 = 0u;
          v141 = 0u;
          WebCore::EventHandler::handleMousePressEvent();
          WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v141, v88);
          WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v140, v89);
          v91 = v137;
          v137 = 0;
          if (v91 && atomic_fetch_add_explicit(v91, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            v91 = WTF::StringImpl::destroy(v91, v90);
          }

          v92 = *(v39 + 202);
          if ((v92 & 1) == 0)
          {
            v93 = WTF::WallTime::now(v91);
            *buf = v94;
            *&buf[8] = 7;
            v127[2] = 0;
            v129 = 0;
            v130 = 256;
            v131 = v81;
            v132 = v81;
            v134 = 0;
            v133 = 0;
            v135 = 0x3FF0000000000000;
            v136 = 1;
            v95 = *WebCore::mousePointerEventType(v93);
            if (v95)
            {
              atomic_fetch_add_explicit(v95, 2u, memory_order_relaxed);
            }

            v137 = v95;
            v138 = 1;
            v139 = 0;
            v140 = 0u;
            v141 = 0u;
            WebCore::EventHandler::handleMouseReleaseEvent();
            WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v141, v96);
            WTF::Vector<WebCore::PlatformMouseEvent,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v140, v97);
            v99 = v137;
            v137 = 0;
            if (v99 && atomic_fetch_add_explicit(v99, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v99, v98);
            }
          }

          v100 = *a3;
          *a3 = 0;
          (*(*v100 + 16))(v100, v92 ^ 1u);
          (*(*v100 + 8))(v100);
          *(v39 + 896) = v80;
          v38 = 1;
        }

        else
        {
          v76 = qword_1ED640DB0;
          if (os_log_type_enabled(qword_1ED640DB0, OS_LOG_TYPE_DEFAULT))
          {
            v77 = *(v39 + 48);
            *buf = 134218496;
            *&buf[4] = v39;
            v126 = 2048;
            *v127 = v77;
            *&v127[8] = 2048;
            v128 = v38;
            _os_log_impl(&dword_19D52D000, v76, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::Simulating click - too many matches found (%zu)", buf, 0x20u);
          }

          v78 = *a3;
          *a3 = 0;
          (*(*v78 + 16))(v78, 0);
          (*(*v78 + 8))(v78);
        }
      }

      else
      {
        v101 = qword_1ED640DB0;
        if (os_log_type_enabled(qword_1ED640DB0, OS_LOG_TYPE_DEFAULT))
        {
          v102 = *(v115 + 48);
          *buf = 134218240;
          *&buf[4] = v115;
          v126 = 2048;
          *v127 = v102;
          _os_log_impl(&dword_19D52D000, v101, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::Simulating click - no matches found", buf, 0x16u);
        }

        v103 = *a3;
        *a3 = 0;
        (*(*v103 + 16))(v103, 0);
        (*(*v103 + 8))(v103);
        v38 = 0;
      }

      v104 = v120;
      v120 = 0;
      if (v104)
      {
        if (*(v104 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v104);
        }

        else
        {
          *(v104 + 7) -= 2;
        }
      }

      v105 = v118;
      v118 = 0;
      if (v105)
      {
        if (*(v105 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v105);
        }

        else
        {
          *(v105 + 7) -= 2;
        }
      }

      v106 = v122;
      if (v38)
      {
        v107 = 16 * v38;
        v108 = v122;
        do
        {
          v109 = *v108;
          *v108 = 0;
          if (v109)
          {
            if (*(v109 + 7) == 2)
            {
              WebCore::Node::removedLastRef(v109);
            }

            else
            {
              *(v109 + 7) -= 2;
            }
          }

          v108 = (v108 + 16);
          v107 -= 16;
        }

        while (v107);
      }

      if (v106)
      {
        WTF::fastFree(v106, v79);
      }

      if (*(v9 + 7) == 2)
      {
        WebCore::Node::removedLastRef(v9);
      }

      else
      {
        *(v9 + 7) -= 2;
      }
    }

    else
    {
      v112 = *a3;
      *a3 = 0;
      (*(*v112 + 16))(v112, 0);
      (*(*v112 + 8))(v112);
    }

    if (*(v6 + 7) == 2)
    {
      WebCore::Node::removedLastRef(v6);
    }

    else
    {
      *(v6 + 7) -= 2;
    }
  }

  else
  {
    v113 = *a3;
    *a3 = 0;
    (*(*v113 + 16))(v113, 0);
    (*(*v113 + 8))(v113);
  }

  if (v5[2] == 1)
  {
    (*(*v5 + 8))(v5);
  }

  else
  {
    --v5[2];
  }

LABEL_189:
  result = v124;
  if (v124)
  {
    if (v124[4] == 1)
    {
      return (*(*v124 + 8))();
    }

    else
    {
      --v124[4];
    }
  }

  return result;
}

unsigned int *WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(unsigned int *result)
{
  v1 = result;
  v2 = *result;
  v3 = result[3];
  v4 = (*result + 16 * v3);
  if (v3)
  {
    v5 = 0;
    v6 = *result;
    v7 = (*result + 16 * v3);
    v8 = v7;
    while (1)
    {
      WebCore::EventHandler::hitTestResultAtPoint();
      v9 = v15;
      if (!v15)
      {
        break;
      }

      v10 = *(v15 + 7);
      *(v15 + 7) = v10 + 2;
      if (*v2 == v9)
      {
        if (v10)
        {
          *(v9 + 7) = v10;
        }

        else
        {
          WebCore::Node::removedLastRef(v9);
        }

        result = MEMORY[0x19EB04BD0](v14);
      }

      else
      {
        isShadowIncludingDescendantOf = WebCore::Node::isShadowIncludingDescendantOf(v9, *v2);
        if (*(v9 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v9);
        }

        else
        {
          *(v9 + 7) -= 2;
        }

        result = MEMORY[0x19EB04BD0](v14);
        if ((isShadowIncludingDescendantOf & 1) == 0)
        {
          goto LABEL_8;
        }
      }

LABEL_19:
      v2 += 2;
      v6 += 2;
      if (v2 >= v4)
      {
        v2 = *v1;
        LODWORD(v3) = v1[3];
        v4 = v8;
        goto LABEL_26;
      }
    }

    MEMORY[0x19EB04BD0](v14);
LABEL_8:
    v12 = v2;
    if (v7 != (*v1 + 16 * v1[3]))
    {
      if (v2 == v8)
      {
        v12 = v7;
      }

      else
      {
        WTF::VectorTypeOperations<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate>::moveOverlapping(v8, v2, v7);
        v12 = (v7 + v6 - v8);
      }
    }

    result = *v2;
    *v2 = 0;
    v8 = v2 + 2;
    if (result)
    {
      if (result[7] == 2)
      {
        result = WebCore::Node::removedLastRef(result);
      }

      else
      {
        result[7] -= 2;
      }
    }

    ++v5;
    v7 = v12;
    goto LABEL_19;
  }

  v5 = 0;
  v7 = (*result + 16 * v3);
LABEL_26:
  v13 = &v2[2 * v3];
  if (v4 != v13)
  {
    result = WTF::VectorTypeOperations<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate>::moveOverlapping(v4, v13, v7);
    LODWORD(v3) = v1[3];
  }

  v1[3] = v3 - v5;
  return result;
}

void WebKit::WebPage::updateCaptureState(uint64_t a1, void *a2, __int16 a3, __int16 a4, uint64_t *a5)
{
  v68 = *MEMORY[0x1E69E9840];
  v6 = a2[69];
  if (v6)
  {
    v7 = *(v6 + 8);
    if (v7)
    {
      ++v7[4];
      WebKit::WebFrame::fromCoreFrame(v7, &v51);
      v12 = a1 + 32;
      IdentifierInternal = WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>::generateIdentifierInternal();
      v13 = WebCore::Document::topOrigin(a2);
      LOBYTE(v62) = 0;
      v64 = -1;
      LODWORD(v14) = *(v13 + 32);
      if (*(v13 + 32))
      {
        if (v14 == 255)
        {
LABEL_10:
          v16 = WebCore::SecurityContext::securityOrigin((a2 + 26));
          LOBYTE(v65) = 0;
          v67 = -1;
          if (*(v16 + 32))
          {
            if (*(v16 + 32) == 255)
            {
LABEL_17:
              WebKit::WebFrame::info(v51, 0, v54);
              p_IdentifierInternal = &IdentifierInternal;
              v47 = &v62;
              v48 = v54;
              v49 = a3;
              v50 = a4;
              WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 24), a1 + 16);
              v19 = *(a1 + 24);
              atomic_fetch_add(v19, 1u);
              v20 = a3 | (a4 << 8);
              v21 = *a5;
              *a5 = 0;
              v22 = (*(*(a1 + 32) + 56))(a1 + 32);
              v24 = IPC::Encoder::operator new(0x238, v23);
              *v24 = 2414;
              *(v24 + 2) = 0;
              *(v24 + 3) = 0;
              *(v24 + 1) = v22;
              *(v24 + 68) = 0;
              *(v24 + 70) = 0;
              *(v24 + 69) = 0;
              IPC::Encoder::encodeHeader(v24);
              v53 = v24;
              IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v24, *p_IdentifierInternal);
              IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v24, v47);
              IPC::ArgumentCoder<WebKit::FrameInfoData,void>::encode(v24, v48);
              IPC::Encoder::operator<<<BOOL &>(v24, &v49);
              IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v24, v50);
              v25 = WTF::fastMalloc(0x20);
              *v25 = &unk_1F1134350;
              *(v25 + 8) = v19;
              *(v25 + 16) = v20;
              *(v25 + 24) = v21;
              if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
              {
                __break(0xC471u);
              }

              else
              {
                v26 = v25;
                v27 = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
                v52[0] = v26;
                v52[1] = v27;
                (*(*v12 + 40))(v12, &v53, v52, 0);
                v29 = v52[0];
                v52[0] = 0;
                if (v29)
                {
                  (*(*v29 + 8))(v29);
                }

                v30 = v53;
                v53 = 0;
                if (v30)
                {
                  IPC::Encoder::~Encoder(v30, v28);
                  bmalloc::api::tzoneFree(v40, v41);
                }

                v31 = cf;
                cf = 0;
                if (v31)
                {
                  CFRelease(v31);
                }

                v32 = v60;
                v60 = 0;
                if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v32, v28);
                }

                if (!v59)
                {
                  v33 = v58;
                  v58 = 0;
                  if (v33 && atomic_fetch_add_explicit(v33, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v33, v28);
                  }

                  v34 = v57;
                  v57 = 0;
                  if (v34 && atomic_fetch_add_explicit(v34, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v34, v28);
                  }
                }

                v59 = -1;
                WebCore::ResourceRequest::~ResourceRequest(&v55);
                if (!v67)
                {
                  v36 = *(&v65 + 1);
                  *(&v65 + 1) = 0;
                  if (v36 && atomic_fetch_add_explicit(v36, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v36, v35);
                  }

                  v37 = v65;
                  *&v65 = 0;
                  if (v37 && atomic_fetch_add_explicit(v37, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v37, v35);
                  }
                }

                v67 = -1;
                if (!v64)
                {
                  v38 = *(&v62 + 1);
                  *(&v62 + 1) = 0;
                  if (v38 && atomic_fetch_add_explicit(v38, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v38, v35);
                  }

                  v39 = v62;
                  *&v62 = 0;
                  if (v39 && atomic_fetch_add_explicit(v39, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v39, v35);
                  }
                }

                if (v51)
                {
                  CFRelease(v51[1]);
                }

                if (v7[4] == 1)
                {
                  (*(*v7 + 8))(v7);
                }

                else
                {
                  --v7[4];
                }
              }

              return;
            }

            v65 = *(v16 + 8);
          }

          else
          {
            v17 = *(v16 + 8);
            if (v17)
            {
              atomic_fetch_add_explicit(v17, 2u, memory_order_relaxed);
            }

            *&v65 = v17;
            v18 = *(v16 + 16);
            if (v18)
            {
              atomic_fetch_add_explicit(v18, 2u, memory_order_relaxed);
            }

            *(&v65 + 1) = v18;
            v66 = *(v16 + 24);
          }

          v67 = *(v16 + 32);
          goto LABEL_17;
        }

        v62 = *(v13 + 8);
      }

      else
      {
        v15 = *(v13 + 8);
        if (v15)
        {
          atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
        }

        *&v62 = v15;
        v14 = *(v13 + 16);
        if (v14)
        {
          atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
        }

        *(&v62 + 1) = v14;
        v63 = *(v13 + 24);
        LOBYTE(v14) = *(v13 + 32);
      }

      v64 = v14;
      goto LABEL_10;
    }
  }

  WTF::StringImpl::createWithoutCopyingNonEmpty();
  v54[0] = 8;
  v56 = 1;
  v42 = *a5;
  *a5 = 0;
  (*(*v42 + 16))(v42, v54);
  (*(*v42 + 8))(v42);
  if (v56 == 1)
  {
    v44 = v55;
    v55 = 0;
    if (v44)
    {
      if (atomic_fetch_add_explicit(v44, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v44, v43);
      }
    }
  }
}

void WebKit::WebPage::updateOpener(WebKit::WebProcess *a1, void *a2, uint64_t a3)
{
  v5 = WebKit::WebProcess::singleton(a1, a2);
  v6 = WebKit::WebProcess::webFrame(v5, a2, 1);
  if (v6)
  {
    v7 = v6;
    v8 = CFRetain(*(v6 + 8));
    v10 = v7[5];
    if (v10)
    {
      v11 = *(v10 + 8);
      if (v11)
      {
        ++v11[4];
        v12 = WebKit::WebProcess::singleton(v8, v9);
        v13 = WebKit::WebProcess::webFrame(v12, a3, 1);
        if (v13)
        {
          v14 = v13;
          CFRetain(*(v13 + 8));
          v15 = *(v14 + 40);
          if (v15)
          {
            v16 = *(v15 + 8);
            if (v16)
            {
              ++v16[4];
              WebCore::Frame::updateOpener();
              v17 = v7[7];
              if (v17)
              {
                ++v17[4];
                WebCore::Frame::updateOpener();
                if (v17[4] == 1)
                {
                  (*(*v17 + 8))(v17);
                }

                else
                {
                  --v17[4];
                }
              }

              if (v16[4] == 1)
              {
                (*(*v16 + 8))(v16);
              }

              else
              {
                --v16[4];
              }
            }
          }

          CFRelease(*(v14 + 8));
        }

        if (v11[4] == 1)
        {
          (*(*v11 + 8))(v11);
        }

        else
        {
          --v11[4];
        }
      }
    }

    v18 = v7[1];

    CFRelease(v18);
  }
}

uint64_t WebKit::WebPage::canShowWhileLocked(WebKit::WebPage *this)
{
  v1 = *(this + 7);
  if (v1)
  {
    LOBYTE(v1) = *(v1 + 425);
  }

  return v1 & 1;
}

_DWORD *WebKit::WebPage::setPresentingApplicationAuditTokenAndBundleIdentifier(_DWORD *result)
{
  v1 = *(result + 7);
  if (v1)
  {
    ++*(v1 + 8);
    WebCore::Page::setPresentingApplicationAuditToken();
    WebCore::Page::setPresentingApplicationBundleIdentifier();
    return WTF::RefCounted<WebCore::Page>::deref((v1 + 8));
  }

  return result;
}

uint64_t WebKit::WebPage::frameViewLayoutOrVisualViewportChanged(WebKit::WebPage *this, const WebCore::LocalFrameView *a2)
{
  v2 = WebCore::LocalFrameView::frame(a2);
  ++v2[4];
  result = WebKit::WebPage::pluginViewForFrame(v2, v3);
  if (result)
  {
    ++*(result + 8);
    v5 = result;
    v7[0] = WebCore::ScrollView::unobscuredContentRect();
    v7[1] = v6;
    WebKit::PluginView::frameViewLayoutOrVisualViewportChanged(v5, v7);
    result = v5;
    if (*(v5 + 8) == 1)
    {
      result = (*(*v5 + 8))(v5);
    }

    else
    {
      --*(v5 + 8);
    }
  }

  if (v2[4] == 1)
  {
    return (*(*v2 + 8))(v2);
  }

  --v2[4];
  return result;
}

uint64_t WebKit::WebPageGroupProxy::create@<X0>(const WTF::String *a1@<X0>, uint64_t *a2@<X8>)
{
  v4 = WTF::fastMalloc(0x28);
  result = WebKit::WebPageGroupProxy::WebPageGroupProxy(v4, a1);
  *a2 = result;
  return result;
}

uint64_t WebKit::WebPageGroupProxy::WebPageGroupProxy(uint64_t a1, const WTF::String *a2)
{
  *(a1 + 8) = 1;
  *a1 = &unk_1F1133918;
  v3 = *a2;
  *a2 = 0;
  *(a1 + 16) = v3;
  *(a1 + 24) = *(a2 + 1);
  v4 = WebCore::PageGroup::pageGroup((a1 + 16), a2);
  if (v4)
  {
    v7 = v4;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v4, v4);
    v5 = *v7;
    if (*v7)
    {
      atomic_fetch_add(v5, 1u);
    }
  }

  else
  {
    v5 = 0;
  }

  *(a1 + 32) = v5;
  return a1;
}

void WebKit::WebPageGroupProxy::~WebPageGroupProxy(WebKit::WebPageGroupProxy *this, void *a2)
{
  *this = &unk_1F1133918;
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  if (*(this + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  WebKit::WebPageGroupProxy::~WebPageGroupProxy(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::WebPageGroupProxy::corePageGroup(WebKit::WebPageGroupProxy *this)
{
  v1 = *(this + 4);
  if (v1)
  {
    return *(v1 + 8);
  }

  else
  {
    return 0;
  }
}

uint64_t WebKit::WebPageOverlay::create@<X0>(uint64_t *a1@<X0>, API::Object **a2@<X8>)
{
  v4 = API::Object::newObject(0x30uLL, 143);
  v5 = *a1;
  *a1 = 0;
  v8 = v5;
  *a2 = WebKit::WebPageOverlay::WebPageOverlay(v4, &v8);
  result = v8;
  if (v8)
  {
    v7 = *(*v8 + 8);

    return v7();
  }

  return result;
}

API::Object *WebKit::WebPageOverlay::WebPageOverlay(API::Object *a1, uint64_t *a2)
{
  *(API::Object::Object(a1) + 2) = 0;
  *a1 = &unk_1F1133938;
  *(a1 + 3) = &unk_1F11339A0;
  WebCore::PageOverlay::create();
  *(a1 + 4) = v10[0];
  v4 = *a2;
  *a2 = 0;
  *(a1 + 5) = v4;
  {
    WebKit::overlayMap(void)::map = 0;
  }

  v5 = *(a1 + 4);
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v5 + 8), v5);
  v6 = *(v5 + 8);
  atomic_fetch_add(v6, 1u);
  v11 = v6;
  WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WebKit::WebPageOverlay&>(&WebKit::overlayMap(void)::map, &v11, a1, v10);
  v8 = v11;
  v11 = 0;
  if (v8 && atomic_fetch_add(v8, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v8);
    WTF::fastFree(v8, v7);
  }

  return a1;
}

uint64_t WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WebKit::WebPageOverlay&>@<X0>(uint64_t *a1@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  if (*a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E409BF4);
  }

  if (!*a2)
  {
LABEL_47:
    __break(0xC471u);
    JUMPOUT(0x19E409BB4);
  }

  v8 = *a1;
  if (*a1 || (WTF::HashTable<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::expand(a1, 0), (v8 = *a1) != 0))
  {
    v9 = *(v8 - 8);
  }

  else
  {
    v9 = 0;
  }

  result = WTF::PtrHashBase<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,true>::hash(*(*a2 + 8));
  v12 = 0;
  v13 = *a2;
  for (i = 1; ; ++i)
  {
    v15 = result & v9;
    v16 = (v8 + 16 * (result & v9));
    v17 = *v16;
    if (*v16 == -1)
    {
      v12 = (v8 + 16 * v15);
      goto LABEL_14;
    }

    if (!v17)
    {
      if (v12)
      {
        *v12 = 0;
        v12[1] = 0;
        --*(*a1 - 16);
        v13 = *a2;
        v16 = v12;
      }

      *a2 = 0;
      v20 = *v16;
      *v16 = v13;
      if (v20 && atomic_fetch_add(v20, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v20);
        WTF::fastFree(v20, v11);
      }

      if (!*(a3 + 16))
      {
        v21 = WTF::fastCompactMalloc(0x10);
        *v21 = 1;
        *(v21 + 8) = a3;
        v22 = *(a3 + 16);
        *(a3 + 16) = v21;
        if (v22)
        {
          if (atomic_fetch_add(v22, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v22);
            WTF::fastFree(v22, v11);
          }
        }
      }

      v23 = *(a3 + 16);
      atomic_fetch_add(v23, 1u);
      result = v16[1];
      v16[1] = v23;
      if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, result);
        result = WTF::fastFree(result, v11);
      }

      v24 = *a1;
      if (*a1)
      {
        v25 = *(v24 - 12) + 1;
      }

      else
      {
        v25 = 1;
      }

      *(v24 - 12) = v25;
      v28 = (*(v24 - 16) + v25);
      v29 = *(v24 - 4);
      if (v29 > 0x400)
      {
        if (v29 <= 2 * v28)
        {
LABEL_30:
          result = WTF::HashTable<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::expand(a1, v16);
          v16 = result;
          v24 = *a1;
          if (*a1)
          {
            v29 = *(v24 - 4);
          }

          else
          {
            v29 = 0;
          }
        }
      }

      else if (3 * v29 <= 4 * v28)
      {
        goto LABEL_30;
      }

      v31 = v24 + 16 * v29;
      v30 = 1;
      goto LABEL_37;
    }

    v18 = *(v17 + 1);
    if (!v18)
    {
      goto LABEL_47;
    }

    v19 = *(v13 + 8);
    if (!v19)
    {
      __break(0xC471u);
      JUMPOUT(0x19E409BD4);
    }

    if (v19 == v18)
    {
      break;
    }

LABEL_14:
    result = i + v15;
  }

  v26 = *a1;
  if (*a1)
  {
    v27 = *(v26 - 4);
  }

  else
  {
    v27 = 0;
  }

  v30 = 0;
  v31 = v26 + 16 * v27;
LABEL_37:
  *a4 = v16;
  *(a4 + 8) = v31;
  *(a4 + 16) = v30;
  return result;
}

void WebKit::WebPageOverlay::~WebPageOverlay(WebKit::WebPageOverlay *this, void *a2)
{
  *this = &unk_1F1133938;
  *(this + 3) = &unk_1F11339A0;
  v3 = *(this + 4);
  if (v3)
  {
    v8 = (v3 + 16);
    ++*(v3 + 16);
    {
      v9 = &dword_1EB01E000;
      if (WebKit::overlayMap(void)::map)
      {
        v10 = *(WebKit::overlayMap(void)::map - 8);
        v11 = (~(v3 << 32) + v3) ^ ((~(v3 << 32) + v3) >> 22);
        v12 = 9 * ((v11 + ~(v11 << 13)) ^ ((v11 + ~(v11 << 13)) >> 8));
        v13 = (v12 ^ (v12 >> 15)) + ~((v12 ^ (v12 >> 15)) << 27);
        v14 = v10 & ((v13 >> 31) ^ v13);
        for (i = 1; ; ++i)
        {
          v16 = v14;
          v17 = *(WebKit::overlayMap(void)::map + 16 * v14);
          if (v17 != -1)
          {
            if (!v17)
            {
              goto LABEL_28;
            }

            v18 = *(v17 + 8);
            if (!v18)
            {
              __break(0xC471u);
              return;
            }

            if (v18 == v3)
            {
              break;
            }
          }

          v14 = (v16 + i) & v10;
        }

        if (v16 != *(WebKit::overlayMap(void)::map - 4))
        {
          v19 = (WebKit::overlayMap(void)::map + 16 * v16);
          *v19 = 0;
          if (atomic_fetch_add(v17, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v17);
            v26 = v19;
            v28 = v8;
            WTF::fastFree(v17, a2);
            v19 = v26;
            v8 = v28;
            v9 = &dword_1EB01E000;
          }

          v20 = v19[1];
          *v19 = -1;
          v19[1] = 0;
          if (v20 && atomic_fetch_add(v20, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v20);
            v29 = v8;
            WTF::fastFree(v20, a2);
            v9 = &dword_1EB01E000;
            v8 = v29;
          }

          v21 = *(v9 + 237);
          v22 = vadd_s32(*(v21 - 16), 0xFFFFFFFF00000001);
          *(v21 - 16) = v22;
          v23 = *(v21 - 4);
          if (6 * v22.i32[1] < v23 && v23 >= 9)
          {
            v27 = v8;
            WTF::HashTable<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::rehash(&WebKit::overlayMap(void)::map, v23 >> 1, 0);
            v8 = v27;
          }
        }
      }
    }

    else
    {
      WebKit::overlayMap(void)::map = 0;
    }

LABEL_28:
    v25 = *(this + 4);
    *(this + 4) = 0;
    if (v25)
    {
      v30 = v8;
      WTF::RefCounted<WebCore::PageOverlay>::deref((v25 + 16));
      v8 = v30;
    }

    WTF::RefCounted<WebCore::PageOverlay>::deref(v8);
  }

  v4 = *(this + 5);
  *(this + 5) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  v5 = *(this + 4);
  *(this + 4) = 0;
  if (v5)
  {
    WTF::RefCounted<WebCore::PageOverlay>::deref((v5 + 16));
  }

  v6 = *(this + 2);
  if (v6)
  {
    *(v6 + 8) = 0;
    v7 = *(this + 2);
    *(this + 2) = 0;
    if (v7)
    {
      if (atomic_fetch_add(v7, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v7);
        WTF::fastFree(v7, a2);
      }
    }
  }
}

{
  WebKit::WebPageOverlay::~WebPageOverlay(this, a2);

  JUMPOUT(0x19EB14CF0);
}

void non-virtual thunk toWebKit::WebPageOverlay::~WebPageOverlay(WebKit::WebPageOverlay *this, void *a2)
{
  WebKit::WebPageOverlay::~WebPageOverlay((this - 24), a2);
}

{
  WebKit::WebPageOverlay::~WebPageOverlay((this - 24), a2);

  JUMPOUT(0x19EB14CF0);
}

_DWORD *WebKit::WebPageOverlay::setNeedsDisplay(WebKit::WebPageOverlay *this, const IntRect *a2)
{
  v3 = *(this + 4);
  if (v3)
  {
    v5 = v3 + 4;
    ++v3[4];
    WebCore::PageOverlay::setNeedsDisplay(v3, a2);

    return WTF::RefCounted<WebCore::PageOverlay>::deref(v5);
  }

  else
  {

    return WebCore::PageOverlay::setNeedsDisplay(0, a2);
  }
}

_DWORD *WebKit::WebPageOverlay::clear(WebKit::WebPageOverlay *this)
{
  v2 = *(this + 4);
  if (v2)
  {
    v4 = v2 + 4;
    ++v2[4];
    WebCore::PageOverlay::clear(v2);

    return WTF::RefCounted<WebCore::PageOverlay>::deref(v4);
  }

  else
  {

    return WebCore::PageOverlay::clear(0);
  }
}

void WebKit::WebPageOverlay::willMoveToPage(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a3)
  {
    v4 = WebKit::WebPage::fromCorePage(a3);
    v5 = v4;
    if (v4)
    {
      CFRetain(*(v4 + 8));
      v6 = 0;
      goto LABEL_4;
    }
  }

  else
  {
    v5 = 0;
  }

  v6 = 1;
LABEL_4:
  (*(**(a1 + 40) + 16))(*(a1 + 40), a1, v5);
  if ((v6 & 1) == 0)
  {
    v7 = *(v5 + 8);

    CFRelease(v7);
  }
}

void WebKit::WebPageOverlay::didMoveToPage(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a3)
  {
    v4 = WebKit::WebPage::fromCorePage(a3);
    v5 = v4;
    if (v4)
    {
      CFRetain(*(v4 + 8));
      v6 = 0;
      goto LABEL_4;
    }
  }

  else
  {
    v5 = 0;
  }

  v6 = 1;
LABEL_4:
  (*(**(a1 + 40) + 24))(*(a1 + 40), a1, v5);
  if ((v6 & 1) == 0)
  {
    v7 = *(v5 + 8);

    CFRelease(v7);
  }
}

void WebKit::WebPageOverlay::didScrollFrame(uint64_t a1, uint64_t a2, uint64_t a3)
{
  WebKit::WebFrame::fromCoreFrame(a3, &v6);
  v4 = v6;
  (*(**(a1 + 40) + 48))(*(a1 + 40), a1, v6);
  if (v4)
  {
    v5 = *(v4 + 8);

    CFRelease(v5);
  }
}

uint64_t WebKit::WebPageOverlay::copyAccessibilityAttributeStringValueForPoint(uint64_t a1, uint64_t a2, atomic_uint **a3)
{
  v4 = *(a1 + 40);
  v5 = *a3;
  if (*a3)
  {
    atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed);
  }

  v10 = v5;
  v7 = (*(*v4 + 64))(v4, a1, &v10);
  v8 = v10;
  v10 = 0;
  if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8, v6);
  }

  return v7;
}

uint64_t WebKit::WebPageOverlay::copyAccessibilityAttributeBoolValueForPoint(uint64_t a1, uint64_t a2, atomic_uint **a3)
{
  v4 = *(a1 + 40);
  v5 = *a3;
  if (*a3)
  {
    atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed);
  }

  v10 = v5;
  v7 = (*(*v4 + 72))(v4, a1, &v10);
  v8 = v10;
  v10 = 0;
  if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v8, v6);
  }

  return v7;
}

void WebKit::WebPageTesting::~WebPageTesting(WebKit::WebPageTesting *this, void *a2)
{
  *this = &unk_1F1133A00;
  v3 = WebKit::WebProcess::singleton(this, a2);
  WebKit::AuxiliaryProcess::removeMessageReceiver(v3, 0xBAu, *(this + 4));
  v5 = *(this + 3);
  *(this + 3) = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, v4);
  }

  if (*(this + 4) == 1)
  {
    *this = &unk_1F10EA5E0;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 1, v4);
  }

  else
  {
    __break(0xC471u);
  }
}

{
  WebKit::WebPageTesting::~WebPageTesting(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

uint64_t WebKit::WebPageTesting::isLayerTreeFrozen(uint64_t a1, uint64_t *a2)
{
  v2 = *(a1 + 24);
  if (v2)
  {
    v2 = *(v2 + 8);
    if (v2)
    {
      v2 = *(v2 + 1800) != 0;
    }
  }

  v3 = *a2;
  *a2 = 0;
  (*(*v3 + 16))(v3, v2);
  v4 = *(*v3 + 8);

  return v4(v3);
}

void WebKit::WebPageTesting::setPermissionLevel(WebKit::WebPageTesting *this, const WTF::String *a2, char a3)
{
  v3 = *(this + 3);
  if (v3)
  {
    v4 = *(v3 + 8);
    if (v4)
    {
      CFRetain(*(v4 - 8));
      v7 = WebKit::WebPage::notificationPermissionRequestManager((v4 - 16));
      if (v7)
      {
        v8 = v7;
        ++*v7;
        WebKit::NotificationPermissionRequestManager::setPermissionLevelForTesting(v7, a2, a3);
        WTF::RefCounted<WebKit::NotificationPermissionRequestManager>::deref(v8);
      }

      v9 = *(v4 - 8);

      CFRelease(v9);
    }
  }
}

void WebKit::WebPageTesting::isEditingCommandEnabled(uint64_t a1, const WTF::String *a2, uint64_t *a3)
{
  v4 = *(a1 + 24);
  if (v4 && (v5 = *(v4 + 8)) != 0)
  {
    CFRetain(*(v5 - 8));
    v7 = WebCore::FocusController::focusedOrMainFrame(*(*(v5 + 40) + 80));
    if (v7)
    {
      v9 = v7;
      ++*(v7 + 4);
      v10 = WebKit::WebPage::focusedPluginViewForFrame(v7, v8);
      if (v10)
      {
        ++*(v10 + 8);
        v19 = v10;
        if (*(v10 + 137) == 1)
        {
          v20 = (*(**(v10 + 72) + 1128))(*(v10 + 72), a2);
        }

        else
        {
          v20 = 0;
        }

        v21 = *a3;
        *a3 = 0;
        (*(*v21 + 16))(v21, v20);
        (*(*v21 + 8))(v21);
        if (v19[2] == 1)
        {
          (*(*v19 + 8))(v19);
        }

        else
        {
          --v19[2];
        }
      }

      else
      {
        v11 = *(v9 + 28);
        if (v11)
        {
          *(v11 + 7) += 2;
          v12 = WebCore::Document::editor(v11);
          if (*(v11 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v11);
          }

          else
          {
            *(v11 + 7) -= 2;
          }
        }

        else
        {
          v12 = WebCore::Document::editor(0);
        }

        WebCore::Editor::ref(v12);
        WebCore::Editor::command(v22, v12, a2);
        WebCore::Editor::deref(v12);
        if (WebCore::Editor::Command::isSupported(v22))
        {
          isEnabled = WebCore::Editor::Command::isEnabled();
        }

        else
        {
          isEnabled = 0;
        }

        v16 = *a3;
        *a3 = 0;
        (*(*v16 + 16))(v16, isEnabled);
        (*(*v16 + 8))(v16);
        v17 = v23;
        v23 = 0;
        if (v17)
        {
          if (*(v17 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v17);
          }

          else
          {
            *(v17 + 7) -= 2;
          }
        }
      }

      if (*(v9 + 4) == 1)
      {
        (*(*v9 + 8))(v9);
      }

      else
      {
        --*(v9 + 4);
      }
    }

    else
    {
      v18 = *a3;
      *a3 = 0;
      (*(*v18 + 16))(v18, 0);
      (*(*v18 + 8))(v18);
    }

    CFRelease(*(v5 - 8));
  }

  else
  {
    v14 = *a3;
    *a3 = 0;
    (*(*v14 + 16))(v14, 0);
    v15 = *(*v14 + 8);

    v15(v14);
  }
}

uint64_t WebKit::WebPageTesting::clearNotificationPermissionState(WebKit::WebPageTesting *this, WebCore::Page *a2)
{
  v2 = *(this + 3);
  if (v2 && (v3 = *(v2 + 8)) != 0)
  {
    v4 = *(v3 + 40);
    if (v4)
    {
      v5 = 0;
      ++*(v4 + 2);
      goto LABEL_7;
    }
  }

  else
  {
    v4 = 0;
  }

  v5 = 1;
LABEL_7:
  v6 = *(WebCore::NotificationController::from(v4, a2) + 8);
  if ((*(*v6 + 48))(v6))
  {
    result = v6[1];
    if (result)
    {
      v6[1] = 0;
      result = WTF::HashTable<WebCore::SecurityOriginData,WebCore::SecurityOriginData,WTF::IdentityExtractor,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(result, v7);
    }

    if ((v5 & 1) == 0)
    {

      return WTF::RefCounted<WebCore::Page>::deref(v4 + 2);
    }
  }

  else
  {
    result = 96;
    __break(0xC471u);
  }

  return result;
}

uint64_t WebCore::NotificationController::from(WebCore::NotificationController *this, WebCore::Page *a2)
{
  v3 = WebCore::NotificationController::supplementName(this);
  if (!this)
  {
    return 0;
  }

  v5 = v4;
  if (!v4 || (v6 = v3, v3 == -1))
  {
    __break(0xC471u);
    JUMPOUT(0x19E40AC24);
  }

  v7 = *(this + 2);
  if (!v7)
  {
    return 0;
  }

  v8 = *(v7 - 8);
  v14 = -1640531527;
  v15 = 0;
  v16 = 0;
  WTF::SuperFastHash::addCharacters<char,WTF::StringHasher::DefaultConverter>(&v14, v3, v4 - 1);
  v9 = WTF::SuperFastHash::hash(&v14) & v8;
  v10 = v7 + 24 * v9;
  v11 = *(v10 + 8);
  if (!v11)
  {
    return 0;
  }

  v12 = 1;
  while (v11 != v5 || *v10 == -1 || memcmp(*v10, v6, v5))
  {
    v9 = (v9 + v12) & v8;
    v10 = v7 + 24 * v9;
    v11 = *(v10 + 8);
    ++v12;
    if (!v11)
    {
      return 0;
    }
  }

  return *(v10 + 16);
}

_DWORD *WebKit::WebPageTesting::clearWheelEventTestMonitor(_DWORD *this)
{
  v1 = *(this + 3);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      this = *(v2 + 40);
      if (this)
      {
        v3 = this + 2;
        ++this[2];
        WebCore::Page::clearWheelEventTestMonitor(this);

        return WTF::RefCounted<WebCore::Page>::deref(v3);
      }
    }
  }

  return this;
}

uint64_t WebKit::WebPageTesting::setObscuredContentInsets(uint64_t a1, uint64_t *a2, float a3, float a4, float a5, float a6)
{
  v7 = *(a1 + 24);
  if (v7)
  {
    v8 = *(v7 + 8);
    if (v8)
    {
      CFRetain(*(v8 - 8));
      *v15 = a3;
      *&v15[1] = a4;
      *&v15[2] = a5;
      *&v15[3] = a6;
      WebKit::WebPage::setObscuredContentInsets((v8 - 16), v15);
      CFRelease(*(v8 - 8));
    }
  }

  v13 = *a2;
  *a2 = 0;
  (*(*v13 + 16))(v13);
  return (*(*v13 + 8))(v13);
}

void WebKit::WebPageTesting::resetStateBetweenTests(WebKit::WebPageTesting *this)
{
  v1 = *(this + 3);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      CFRetain(*(v2 - 8));
      v3 = *(v2 + 40);
      if (v3)
      {
        v4 = *(v3 + 176);
        if (v4)
        {
          ++v4[4];
          WebCore::Frame::disownOpener(v4);
          WebCore::FrameTree::clearName((v4 + 10));
          if (v4[4] == 1)
          {
            (*(*v4 + 8))(v4);
          }

          else
          {
            --v4[4];
          }
        }

        v5 = *(v2 + 40);
        if (v5)
        {
          v7 = *(v5 + 8);
          v6 = v5 + 8;
          *v6 = v7 + 1;
          *(v6 + 1045) = 256;
          WTF::RefCounted<WebCore::Page>::deref(v6);
        }
      }

      v8 = *(v2 - 8);

      CFRelease(v8);
    }
  }
}

uint64_t WebKit::WebPageTesting::clearCachedBackForwardListCounts(uint64_t a1, uint64_t *a2)
{
  v3 = *(a1 + 24);
  if (v3 && (v4 = *(v3 + 8)) != 0 && (v5 = *(v4 + 40)) != 0)
  {
    v7 = *(v5 + 8);
    v6 = v5 + 8;
    *v6 = v7 + 1;
    v8 = *(*(v6 + 144) + 16);
    if ((*(*v8 + 80))(v8))
    {
      ++*(v8 + 8);
      if ((*(v8 + 32) & 1) == 0)
      {
        *(v8 + 32) = 1;
      }

      *(v8 + 24) = 0;
      v9 = *a2;
      *a2 = 0;
      (*(*v9 + 16))(v9);
      (*(*v9 + 8))(v9);
      if (*(v8 + 8) == 1)
      {
        (*(*v8 + 8))(v8);
      }

      else
      {
        --*(v8 + 8);
      }

      return WTF::RefCounted<WebCore::Page>::deref(v6);
    }

    else
    {
      result = 96;
      __break(0xC471u);
    }
  }

  else
  {
    v11 = *a2;
    *a2 = 0;
    (*(*v11 + 16))(v11);
    v12 = *(*v11 + 8);

    return v12(v11);
  }

  return result;
}

uint64_t WebKit::WebPageTesting::setTracksRepaints(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *(a1 + 24);
  if (v4 && (v5 = *(v4 + 8)) != 0 && (v6 = *(v5 + 40)) != 0)
  {
    v8 = *(v6 + 8);
    v7 = v6 + 8;
    *v7 = v8 + 1;
    v9 = WTF::HashTable<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::begin((v7 + 152));
    v10 = v9;
    v12 = v11;
    v13 = *(v7 + 152);
    if (v13)
    {
      v14 = (v13 + 8 * *(v13 - 4));
    }

    else
    {
      v14 = 0;
    }

    if (v14 == v9)
    {
LABEL_16:
      v17 = *a3;
      *a3 = 0;
      (*(*v17 + 16))(v17);
      (*(*v17 + 8))(v17);

      return WTF::RefCounted<WebCore::Page>::deref(v7);
    }

    else
    {
      while (1)
      {
        v15 = *(*v10 + 8);
        if (!v15)
        {
          break;
        }

        v16 = *(v15 + 216);
        if (v16)
        {
          ++*(v16 + 2);
          WebCore::LocalFrameView::setTracksRepaints(v16);
          if (*(v16 + 2) == 1)
          {
            (*(*v16 + 8))(v16);
          }

          else
          {
            --*(v16 + 2);
          }
        }

        do
        {
          ++v10;
        }

        while (v10 != v12 && (*v10 + 1) <= 1);
        if (v10 == v14)
        {
          goto LABEL_16;
        }
      }

      result = 92;
      __break(0xC471u);
    }
  }

  else
  {
    v19 = *a3;
    *a3 = 0;
    (*(*v19 + 16))(v19);
    v20 = *(*v19 + 8);

    return v20(v19);
  }

  return result;
}

void WebKit::WebPageTesting::displayAndTrackRepaints(uint64_t a1, uint64_t *a2)
{
  v2 = *(a1 + 24);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      CFRetain(*(v3 - 8));
      v6 = *(a1 + 24);
      if (!v6)
      {
        goto LABEL_30;
      }

      v7 = *(v6 + 8);
      if (!v7)
      {
        goto LABEL_30;
      }

      v8 = *(v7 + 40);
      if (v8)
      {
        v9 = (v8 + 8);
        ++*(v8 + 8);
        v10 = *(v3 + 56);
        if (v10)
        {
          ++v10[4];
        }

        (*(*v10 + 88))(v10);
        if (v10[4] == 1)
        {
          (*(*v10 + 24))(v10);
        }

        else
        {
          --v10[4];
        }

        v11 = WTF::HashTable<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::LocalFrame,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::begin((v8 + 160));
        v12 = v11;
        v14 = v13;
        v15 = *(v8 + 160);
        if (v15)
        {
          v16 = (v15 + 8 * *(v15 - 4));
        }

        else
        {
          v16 = 0;
        }

        if (v16 != v11)
        {
          while (1)
          {
            v17 = *(*v12 + 8);
            if (!v17)
            {
              break;
            }

            v18 = *(v17 + 216);
            if (v18)
            {
              ++*(v18 + 2);
              WebCore::LocalFrameView::setTracksRepaints(v18);
              WebCore::LocalFrameView::resetTrackedRepaints(v18);
              if (*(v18 + 2) == 1)
              {
                (*(*v18 + 8))(v18);
              }

              else
              {
                --*(v18 + 2);
              }
            }

            do
            {
              ++v12;
            }

            while (v12 != v14 && (*v12 + 1) <= 1);
            if (v12 == v16)
            {
              goto LABEL_22;
            }
          }

LABEL_30:
          __break(0xC471u);
          JUMPOUT(0x19E40B52CLL);
        }

LABEL_22:
        v19 = *a2;
        *a2 = 0;
        (*(*v19 + 16))(v19);
        (*(*v19 + 8))(v19);
        WTF::RefCounted<WebCore::Page>::deref(v9);
      }

      else
      {
        v21 = *a2;
        *a2 = 0;
        (*(*v21 + 16))(v21);
        (*(*v21 + 8))(v21);
      }

      v20 = *(v3 - 8);

      CFRelease(v20);
    }
  }
}

void WebKit::WebURLSchemeHandlerProxy::~WebURLSchemeHandlerProxy(WebKit::WebURLSchemeHandlerProxy *this, void *a2)
{
  v3 = *(this + 4);
  if (v3)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  WTF::RefCountedAndCanMakeWeakPtr<WebKit::WebURLSchemeHandlerProxy>::~RefCountedAndCanMakeWeakPtr(this, a2);
}

uint64_t WTF::RefCountedAndCanMakeWeakPtr<WebKit::WebURLSchemeHandlerProxy>::~RefCountedAndCanMakeWeakPtr(uint64_t a1, void *a2)
{
  if (*(a1 + 8) == 1)
  {
    return WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(a1, a2);
  }

  result = 191;
  __break(0xC471u);
  return result;
}

_DWORD *WebKit::WebURLSchemeHandlerProxy::startNewTask(WebKit::WebURLSchemeHandlerProxy *this, WebCore::ResourceLoader *a2, CFTypeRef *a3)
{
  v81 = *MEMORY[0x1E69E9840];
  v6 = WTF::fastMalloc(0x120);
  *v6 = 0;
  *(v6 + 8) = 1;
  v7 = (v6 + 8);
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(this, this);
  v8 = *this;
  atomic_fetch_add(*this, 1u);
  *(v6 + 16) = v8;
  ++*(a2 + 4);
  *(v6 + 24) = a2;
  CFRetain(a3[1]);
  *(v6 + 32) = a3;
  v9 = WebCore::ResourceRequest::ResourceRequest((v6 + 40), (a2 + 344));
  v11 = *(a2 + 94);
  if (!v11)
  {
    goto LABEL_65;
  }

  *(v6 + 240) = v11;
  *(v6 + 248) = 0;
  *(v6 + 256) = 0u;
  *(v6 + 272) = 0u;
  v12 = *(a2 + 94);
  if (!v12)
  {
    goto LABEL_65;
  }

  ++*v7;
  if (v12 == -1)
  {
    __break(0xC471u);
    goto LABEL_73;
  }

  v13 = *(this + 4);
  if (!v13)
  {
    v9 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(this + 4);
    v13 = *(this + 4);
  }

  v14 = *(v13 - 8);
  v15 = (v12 + ~(v12 << 32)) ^ ((v12 + ~(v12 << 32)) >> 22);
  v16 = 9 * ((v15 + ~(v15 << 13)) ^ ((v15 + ~(v15 << 13)) >> 8));
  v17 = (v16 ^ (v16 >> 15)) + ~((v16 ^ (v16 >> 15)) << 27);
  v18 = v14 & ((v17 >> 31) ^ v17);
  v19 = (v13 + 16 * v18);
  v20 = *v19;
  if (*v19)
  {
    v21 = 0;
    v22 = 1;
    do
    {
      if (v20 == v12)
      {
        v9 = WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(v7, v10);
        goto LABEL_22;
      }

      if (v20 == -1)
      {
        v21 = v19;
      }

      v18 = (v18 + v22) & v14;
      v19 = (v13 + 16 * v18);
      v20 = *v19;
      ++v22;
    }

    while (*v19);
    if (v21)
    {
      *v21 = 0;
      v21[1] = 0;
      --*(*(this + 4) - 16);
      v19 = v21;
    }
  }

  v11 = v19[1];
  *v19 = v12;
  v19[1] = v6;
  if (v11)
  {
    goto LABEL_66;
  }

  while (1)
  {
    v23 = *(this + 4);
    if (v23)
    {
      v24 = *(v23 - 12) + 1;
    }

    else
    {
      v24 = 1;
    }

    *(v23 - 12) = v24;
    v25 = (*(v23 - 16) + v24);
    v26 = *(v23 - 4);
    if (v26 <= 0x400)
    {
      if (3 * v26 > 4 * v25)
      {
        goto LABEL_22;
      }

LABEL_21:
      v9 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(this + 4);
      goto LABEL_22;
    }

    if (v26 <= 2 * v25)
    {
      goto LABEL_21;
    }

LABEL_22:
    v27 = *(WebKit::WebProcess::singleton(v9, v10) + 43);
    if (!*(*(v27 + 8) + 8))
    {
      __break(0xC471u);
      JUMPOUT(0x19E40BB8CLL);
    }

    v60 = *(v6 + 240);
    WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeTaskProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeTaskProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WebKit::WebURLSchemeTaskProxy&>((v27 + 80), &v60, v6, buf);
    if (!*(*(v27 + 8) + 8))
    {
      __break(0xC471u);
      JUMPOUT(0x19E40BBACLL);
    }

    v28 = qword_1ED6416F0;
    if (os_log_type_enabled(qword_1ED6416F0, OS_LOG_TYPE_DEFAULT))
    {
      v29 = *(*(v6 + 16) + 8);
      if (v29)
      {
        v30 = *(v29 + 24);
        v31 = WebKit::pageIDFromWebFrame(*(v6 + 32));
        v32 = *(v6 + 32);
        if (v32)
        {
          v32 = *(v32 + 88);
        }

        v33 = *(v6 + 240);
        *buf = 134218752;
        v68 = v30;
        v69 = 2048;
        v70 = v31;
        v71 = 2048;
        v72 = v32;
        v73 = 2048;
        v74 = v33;
        _os_log_impl(&dword_19D52D000, v28, OS_LOG_TYPE_DEFAULT, "[schemeHandler=%llu, webPageID=%llu, frameID=%llu, taskID=%llu] WebURLSchemeTaskProxy::startLoading", buf, 0x2Au);
        goto LABEL_29;
      }

      __break(0xC471u);
LABEL_73:
      JUMPOUT(0x19E40BB6CLL);
    }

LABEL_29:
    v34 = *(*(v6 + 16) + 8);
    if (!v34)
    {
      __break(0xC471u);
      JUMPOUT(0x19E40BBCCLL);
    }

    this = (v34 + 1);
    ++*(v34 + 2);
    v35 = *(v6 + 32);
    if (v35)
    {
      CFRetain(v35[1]);
    }

    v36 = *(v34[2] + 8);
    if (!v36)
    {
      __break(0xC471u);
      JUMPOUT(0x19E40BBECLL);
    }

    v11 = *(v6 + 24);
    v37 = *(v11 + 752);
    if (v37)
    {
      break;
    }

LABEL_65:
    __break(1u);
LABEL_66:
    v9 = WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v11 + 8), v10);
  }

  v38 = v34[3];
  WebKit::WebFrame::info(v35, 0, &v60);
  WebKit::URLSchemeTaskParameters::URLSchemeTaskParameters(buf, v38, v37, (v6 + 40), &v60);
  v40 = *(v36 + 16);
  v39 = v36 + 16;
  v41 = (*(v40 + 56))(v39);
  v43 = IPC::Encoder::operator new(0x238, v42);
  *v43 = 2397;
  *(v43 + 2) = 0;
  *(v43 + 3) = 0;
  *(v43 + 1) = v41;
  *(v43 + 68) = 0;
  *(v43 + 70) = 0;
  *(v43 + 69) = 0;
  IPC::Encoder::encodeHeader(v43);
  v59 = v43;
  IPC::ArgumentCoder<WebKit::URLSchemeTaskParameters,void>::encode(v43, buf);
  (*(*v39 + 32))(v39, &v59, 0);
  v45 = v59;
  v59 = 0;
  if (v45)
  {
    IPC::Encoder::~Encoder(v45, v44);
    bmalloc::api::tzoneFree(v57, v58);
  }

  v46 = cf;
  cf = 0;
  if (v46)
  {
    CFRelease(v46);
  }

  v47 = v79;
  v79 = 0;
  if (v47 && atomic_fetch_add_explicit(v47, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v47, v44);
  }

  if (!v78)
  {
    v48 = v77;
    v77 = 0;
    if (v48 && atomic_fetch_add_explicit(v48, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v48, v44);
    }

    v49 = v76;
    v76 = 0;
    if (v49 && atomic_fetch_add_explicit(v49, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v49, v44);
    }
  }

  v78 = -1;
  WebCore::ResourceRequest::~ResourceRequest(&v75);
  WebCore::ResourceRequest::~ResourceRequest((&v70 + 2));
  v51 = v66;
  v66 = 0;
  if (v51)
  {
    CFRelease(v51);
  }

  v52 = v65;
  v65 = 0;
  if (v52 && atomic_fetch_add_explicit(v52, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v52, v50);
  }

  if (!v64)
  {
    v53 = v63;
    v63 = 0;
    if (v53 && atomic_fetch_add_explicit(v53, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v53, v50);
    }

    v54 = v62;
    v62 = 0;
    if (v54 && atomic_fetch_add_explicit(v54, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v54, v50);
    }
  }

  v64 = -1;
  WebCore::ResourceRequest::~ResourceRequest(&v61);
  if (v35)
  {
    CFRelease(v35[1]);
  }

  WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref(this);
  return WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(v7, v55);
}

void WebKit::WebURLSchemeHandlerProxy::loadSynchronously(uint64_t a1, uint64_t a2, WebKit::WebFrame *a3, WebCore::ResourceRequest *a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  v226 = *MEMORY[0x1E69E9840];
  *(a7 + 12) = 0;
  v7 = *(*(a1 + 16) + 8);
  if (!v7)
  {
    __break(0xC471u);
    return;
  }

  CFRetain(*(v7 - 8));
  v14 = *(a1 + 24);
  WebKit::WebFrame::info(a3, 0, v194);
  WebKit::URLSchemeTaskParameters::URLSchemeTaskParameters(&v201, v14, a2, a4, v194);
  v15 = (*(*(v7 + 16) + 56))(v7 + 16);
  v16 = (*(*(v7 + 16) + 48))(v7 + 16);
  if (v16)
  {
    v18 = v16;
    while (1)
    {
      v19 = *v16;
      if ((*v16 & 1) == 0)
      {
        break;
      }

      v20 = *v16;
      atomic_compare_exchange_strong_explicit(v16, &v20, v19 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v20 == v19)
      {
        goto LABEL_8;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v16);
LABEL_8:
    IPC::Connection::createSyncMessageEncoder(0x103E, v15, v159);
    IPC::ArgumentCoder<WebKit::URLSchemeTaskParameters,void>::encode(v159[0], &v201);
    v21 = IPC::Connection::sendSyncMessage(v18, v159[1], v159, 0, &v157, INFINITY);
    if (v158)
    {
      if (v158 != 1)
      {
        mpark::throw_bad_variant_access(v21);
      }

      LOBYTE(v112) = v157;
      v143 = 1;
LABEL_69:
      v60 = v159[0];
      v159[0] = 0;
      if (v60)
      {
        IPC::Encoder::~Encoder(v60, v22);
        bmalloc::api::tzoneFree(v95, v96);
      }

      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v18);
      goto LABEL_72;
    }

    v23 = v157;
    v157 = 0;
    if (*(v23 + 25) == 3194)
    {
      v24 = 11;
    }

    else
    {
      v144[0] = 0;
      v156 = 0;
      IPC::ArgumentCoder<WebCore::ResourceResponse,void>::decode(v23, &v171);
      if ((v193 & 1) == 0)
      {
        goto LABEL_140;
      }

      while (1)
      {
        IPC::Decoder::decode<WebCore::ResourceError>(v23, &v160);
        if (v168 != 1)
        {
          LOBYTE(v112) = 0;
          v142 = 0;
          goto LABEL_34;
        }

        IPC::VectorArgumentCoder<true,unsigned char,0ul,WTF::CrashOnOverflow,16ul>::decode<IPC::Decoder>(v23, v169);
        if ((v170 & 1) == 0)
        {
          v25 = *v23;
          v105 = *(v23 + 1);
          *v23 = 0;
          *(v23 + 1) = 0;
          v106 = *(v23 + 3);
          if (!v106 || !v105 || ((*(*v106 + 16))(v106, v25), (v170 & 1) == 0))
          {
            v36 = 0;
            LOBYTE(v112) = 0;
            goto LABEL_21;
          }
        }

        if (v193 & 1) != 0 && (v168)
        {
          break;
        }

        __break(1u);
LABEL_140:
        v25 = *v23;
        v109 = *(v23 + 1);
        *v23 = 0;
        *(v23 + 1) = 0;
        v110 = *(v23 + 3);
        if (v110)
        {
          if (v109)
          {
            (*(*v110 + 16))(v110, v25);
            if (v193)
            {
              continue;
            }
          }
        }

        LOBYTE(v112) = 0;
        v142 = 0;
        goto LABEL_38;
      }

      v26 = v171;
      v27 = v173;
      v171 = 0;
      v112 = v26;
      v113[0] = v172[0];
      v113[1] = v172[1];
      LODWORD(v172[0]) &= ~1u;
      v173 = 0;
      v114 = v27;
      v115 = v174;
      v28 = v175;
      v175 = 0u;
      v29 = v176;
      v176 = 0u;
      v116 = v28;
      v117 = v29;
      *&v29 = v177;
      v177 = 0;
      v118 = v29;
      v30 = v178;
      v178 = 0;
      v119 = v30;
      *&v29 = v179;
      v179 = 0;
      v120 = v29;
      v31 = v180;
      v180 = 0;
      v121 = v31;
      LOBYTE(v122) = 0;
      v123 = 0;
      if (v182 == 1)
      {
        v101 = v181;
        v181 = 0;
        v122 = v101;
        v123 = 1;
      }

      v124 = v183;
      v125 = v184;
      v129 = v188;
      v130 = v189;
      v131[0] = v190[0];
      *(v131 + 11) = *(v190 + 11);
      v127 = v186;
      v128 = v187;
      v32 = v185;
      v33 = cf;
      v185 = 0;
      cf = 0;
      v126 = v32;
      v132 = v33;
      v133 = v192;
      v34 = v160;
      v160 = 0uLL;
      v134[0] = v34;
      v134[1] = v161;
      v134[2] = v162;
      LODWORD(v161) = v161 & 0xFFFFFFFE;
      v135 = v163;
      v137 = v165;
      v136 = v164;
      v35 = v166;
      v163 = 0;
      v166 = 0;
      v138 = v35;
      v139 = v167;
      v140 = v169[0];
      v36 = 1;
      v141 = v169[1];
LABEL_21:
      v142 = v36;
      if (v168)
      {
        v37 = v166;
        v166 = 0;
        if (v37)
        {
          CFRelease(v37);
        }

        v38 = v163;
        v163 = 0;
        if (v38 && atomic_fetch_add_explicit(v38, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v38, v25);
        }

        v39 = *(&v160 + 1);
        *(&v160 + 1) = 0;
        if (v39 && atomic_fetch_add_explicit(v39, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v39, v25);
        }

        v40 = v160;
        *&v160 = 0;
        if (v40 && atomic_fetch_add_explicit(v40, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v40, v25);
        }
      }

LABEL_34:
      if (v193)
      {
        v41 = cf;
        cf = 0;
        if (v41)
        {
          CFRelease(v41);
        }

        WebCore::ResourceResponseBase::~ResourceResponseBase(&v171, v25);
      }

LABEL_38:
      v42 = v142;
      if ((v142 & 1) == 0)
      {
        v25 = *v23;
        v107 = *(v23 + 1);
        *v23 = 0;
        *(v23 + 1) = 0;
        v108 = *(v23 + 3);
        if (v108)
        {
          if (v107)
          {
            (*(*v108 + 16))(v108, v25);
            v42 = v142;
          }
        }
      }

      if (v156 == v42)
      {
        if (v156)
        {
          WebCore::ResourceResponseBase::operator=(v144, &v112);
          v44 = v132;
          v132 = 0;
          v45 = v145;
          v145 = v44;
          if (v45)
          {
            CFRelease(v45);
          }

          v146 = v133;
          v46 = *&v134[0];
          *&v134[0] = 0;
          v47 = v147;
          v147 = v46;
          if (v47 && atomic_fetch_add_explicit(v47, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v47, v43);
          }

          WTF::URL::operator=(&v148, v134 + 8);
          v48 = v135;
          v135 = 0;
          v49 = v149;
          v149 = v48;
          if (v49 && atomic_fetch_add_explicit(v49, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v49, v25);
          }

          v150 = v136;
          v151 = v137;
          v50 = v138;
          v138 = 0;
          v51 = v152;
          v152 = v50;
          if (v51)
          {
            CFRelease(v51);
          }

          v153 = v139;
          v52 = v154;
          if (v154)
          {
            v154 = 0;
            LODWORD(v155) = 0;
            WTF::fastFree(v52, v25);
          }

          v154 = v140;
          v53 = v141;
          v140 = 0;
          v141 = 0;
          v155 = v53;
        }
      }

      else if (v156)
      {
        WebKit::WebLoaderStrategy::SyncLoadResult::~SyncLoadResult(v144, v25);
        v156 = 0;
      }

      else
      {
        WebKit::WebLoaderStrategy::SyncLoadResult::SyncLoadResult(v144, &v112);
        v156 = 1;
      }

      if (v142 == 1)
      {
        WebKit::WebLoaderStrategy::SyncLoadResult::~SyncLoadResult(&v112, v25);
      }

      if (v156 == 1)
      {
        v171 = v23;
        WebKit::WebLoaderStrategy::SyncLoadResult::SyncLoadResult(v172, v144);
        v54 = v171;
        v171 = 0;
        v112 = v54;
        WebKit::WebLoaderStrategy::SyncLoadResult::SyncLoadResult(v113, v172);
        v143 = 0;
        WebKit::WebLoaderStrategy::SyncLoadResult::~SyncLoadResult(v172, v55);
        v56 = v171;
        v171 = 0;
        if (v56)
        {
          IPC::Decoder::~Decoder(v56);
          bmalloc::api::tzoneFree(v103, v104);
        }

        if (v156)
        {
          WebKit::WebLoaderStrategy::SyncLoadResult::~SyncLoadResult(v144, v22);
        }

        goto LABEL_66;
      }

      v24 = 14;
    }

    LOBYTE(v112) = v24;
    v143 = 1;
    IPC::Decoder::~Decoder(v23);
    bmalloc::api::tzoneFree(v57, v58);
LABEL_66:
    if (!v158)
    {
      v59 = v157;
      v157 = 0;
      if (v59)
      {
        IPC::Decoder::~Decoder(v59);
        bmalloc::api::tzoneFree(v97, v98);
      }
    }

    goto LABEL_69;
  }

  LOBYTE(v112) = 3;
  v143 = 1;
LABEL_72:
  v61 = v225;
  v225 = 0;
  if (v61)
  {
    CFRelease(v61);
  }

  v62 = v224;
  v224 = 0;
  if (v62 && atomic_fetch_add_explicit(v62, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v62, v17);
  }

  if (!v223)
  {
    v63 = v222;
    v222 = 0;
    if (v63 && atomic_fetch_add_explicit(v63, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v63, v17);
    }

    v64 = v221;
    v221 = 0;
    if (v64 && atomic_fetch_add_explicit(v64, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v64, v17);
    }
  }

  v223 = -1;
  WebCore::ResourceRequest::~ResourceRequest(&v209);
  WebCore::ResourceRequest::~ResourceRequest(&v203);
  v66 = v200;
  v200 = 0;
  if (v66)
  {
    CFRelease(v66);
  }

  v67 = v199;
  v199 = 0;
  if (v67 && atomic_fetch_add_explicit(v67, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v67, v65);
  }

  if (!v198)
  {
    v68 = v197;
    v197 = 0;
    if (v68 && atomic_fetch_add_explicit(v68, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v68, v65);
    }

    v69 = v196;
    v196 = 0;
    if (v69 && atomic_fetch_add_explicit(v69, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v69, v65);
    }
  }

  v198 = -1;
  WebCore::ResourceRequest::~ResourceRequest(&v195);
  CFRelease(*(v7 - 8));
  if (v143)
  {
    WebKit::failedCustomProtocolSyncLoad(a4, &v201);
    v71 = v201;
    v201 = 0;
    v72 = *a6;
    *a6 = v71;
    if (v72 && atomic_fetch_add_explicit(v72, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v72, v70);
    }

    WTF::URL::operator=(a6 + 8, &v202);
    v74 = v204;
    v204 = 0;
    v75 = *(a6 + 48);
    *(a6 + 48) = v74;
    if (v75 && atomic_fetch_add_explicit(v75, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v75, v73);
    }

    *(a6 + 56) = v205;
    *(a6 + 60) = v206;
    v76 = v207;
    v207 = 0;
    v77 = *(a6 + 64);
    *(a6 + 64) = v76;
    if (v77)
    {
      CFRelease(v77);
      v102 = v207;
      *(a6 + 72) = v208;
      v207 = 0;
      if (v102)
      {
        CFRelease(v102);
      }
    }

    else
    {
      *(a6 + 72) = v208;
      v207 = 0;
    }

    v78 = v204;
    v204 = 0;
    if (v78 && atomic_fetch_add_explicit(v78, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v78, v73);
    }

    v79 = v202;
    v202 = 0;
    if (v79 && atomic_fetch_add_explicit(v79, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v79, v73);
    }

    v80 = v201;
    v201 = 0;
    if (v80 && atomic_fetch_add_explicit(v80, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v80, v73);
    }
  }

  else
  {
    WebKit::WebLoaderStrategy::SyncLoadResult::SyncLoadResult(&v201, v113);
    WebCore::ResourceResponseBase::operator=(a5, &v201);
    v82 = v210;
    v210 = 0;
    v83 = *(a5 + 248);
    *(a5 + 248) = v82;
    if (v83)
    {
      CFRelease(v83);
    }

    *(a5 + 256) = v211;
    v84 = v212;
    v212 = 0;
    v85 = *a6;
    *a6 = v84;
    if (v85 && atomic_fetch_add_explicit(v85, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v85, v81);
    }

    WTF::URL::operator=(a6 + 8, &v213);
    v87 = v214;
    v214 = 0;
    v88 = *(a6 + 48);
    *(a6 + 48) = v87;
    if (v88 && atomic_fetch_add_explicit(v88, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v88, v86);
    }

    *(a6 + 56) = v215;
    *(a6 + 60) = v216;
    v89 = v217;
    v217 = 0;
    v90 = *(a6 + 64);
    *(a6 + 64) = v89;
    if (v90)
    {
      CFRelease(v90);
    }

    *(a6 + 72) = v218;
    v91 = *a7;
    if (*a7)
    {
      *a7 = 0;
      *(a7 + 8) = 0;
      WTF::fastFree(v91, v86);
    }

    v92 = v219;
    v219 = 0;
    *a7 = v92;
    v93 = v220;
    v220 = 0;
    *(a7 + 8) = v93;
    WebKit::WebLoaderStrategy::SyncLoadResult::~SyncLoadResult(&v201, v86);
  }

  if (!v143)
  {
    WebKit::WebLoaderStrategy::SyncLoadResult::~SyncLoadResult(v113, v73);
    v94 = v112;
    v112 = 0;
    if (v94)
    {
      IPC::Decoder::~Decoder(v94);
      bmalloc::api::tzoneFree(v99, v100);
    }
  }
}

uint64_t WebKit::URLSchemeTaskParameters::URLSchemeTaskParameters(uint64_t a1, uint64_t a2, uint64_t a3, WebCore::ResourceRequest *a4, uint64_t a5)
{
  *a1 = a2;
  *(a1 + 8) = a3;
  WebCore::ResourceRequest::ResourceRequest((a1 + 16), a4);
  *(a1 + 224) = *a5;
  WTF::URL::URL(a1 + 232, (a5 + 8));
  WTF::URL::URL(a1 + 272, (a5 + 48));
  *(a1 + 312) = *(a5 + 88);
  v7 = *(a5 + 96);
  *(a5 + 96) = 0;
  *(a1 + 328) = 0;
  *(a1 + 336) = 0;
  *(a1 + 320) = v7;
  WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(a1 + 328, (a5 + 104));
  *(a1 + 344) = 0;
  *(a1 + 352) = 0;
  WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(a1 + 344, (a5 + 120));
  *(a1 + 360) = 0;
  *(a1 + 368) = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(a1 + 360, (a5 + 136));
  v8 = *(a5 + 152);
  *(a1 + 380) = *(a5 + 156);
  *(a1 + 376) = v8;
  v9 = *(a5 + 160);
  *(a5 + 160) = 0;
  *(a1 + 384) = v9;
  v10 = *(a5 + 168);
  *(a5 + 168) = 0;
  *(a1 + 392) = v10;
  v11 = *(a5 + 176);
  *(a5 + 176) = 0;
  *(a1 + 400) = v11;
  v12 = *(a5 + 184);
  *(a1 + 416) = *(a5 + 192);
  *(a1 + 408) = v12;
  v13 = *(a5 + 200);
  *(a5 + 200) = 0;
  *(a1 + 424) = v13;
  mpark::detail::move_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1>::move_assignment((a1 + 432));
  v14 = *(a5 + 240);
  *(a5 + 240) = 0;
  *(a1 + 464) = v14;
  v15 = *(a5 + 248);
  v16 = *(a5 + 264);
  v17 = *(a5 + 280);
  *(a1 + 520) = *(a5 + 296);
  *(a1 + 488) = v16;
  *(a1 + 504) = v17;
  *(a1 + 472) = v15;
  v18 = *(a5 + 304);
  *(a5 + 304) = 0;
  *(a1 + 528) = v18;
  v19 = *(a5 + 312);
  v20 = *(a5 + 328);
  *(a1 + 568) = *(a5 + 344);
  *(a1 + 536) = v19;
  *(a1 + 552) = v20;
  return a1;
}

_DWORD *WebKit::WebURLSchemeTaskProxy::stopLoading(WebKit::WebURLSchemeTaskProxy *this)
{
  v32 = *MEMORY[0x1E69E9840];
  v2 = qword_1ED6416F0;
  if (os_log_type_enabled(qword_1ED6416F0, OS_LOG_TYPE_DEFAULT))
  {
    v3 = *(*(this + 2) + 8);
    if (!v3)
    {
LABEL_23:
      __break(0xC471u);
      JUMPOUT(0x19E40CB04);
    }

    v4 = *(v3 + 24);
    v5 = WebKit::pageIDFromWebFrame(*(this + 4));
    v6 = *(this + 4);
    if (v6)
    {
      v6 = *(v6 + 88);
    }

    v7 = *(this + 30);
    *v25 = 134218752;
    *&v25[4] = v4;
    v26 = 2048;
    v27 = v5;
    v28 = 2048;
    v29 = v6;
    v30 = 2048;
    v31 = v7;
    _os_log_impl(&dword_19D52D000, v2, OS_LOG_TYPE_DEFAULT, "[schemeHandler=%llu, webPageID=%llu, frameID=%llu, taskID=%llu] WebURLSchemeTaskProxy::stopLoading", v25, 0x2Au);
  }

  v8 = *(*(this + 2) + 8);
  if (!v8)
  {
    goto LABEL_23;
  }

  ++*(v8 + 8);
  v9 = *(*(v8 + 16) + 8);
  if (!v9)
  {
    __break(0xC471u);
    goto LABEL_22;
  }

  v10 = *(*(this + 3) + 752);
  if (!v10)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }

  v11 = *(v8 + 24);
  v13 = *(v9 + 16);
  v12 = v9 + 16;
  v14 = (*(v13 + 56))(v12);
  v16 = IPC::Encoder::operator new(0x238, v15);
  *v16 = 2398;
  *(v16 + 2) = 0;
  *(v16 + 3) = 0;
  *(v16 + 1) = v14;
  *(v16 + 68) = 0;
  *(v16 + 70) = 0;
  *(v16 + 69) = 0;
  IPC::Encoder::encodeHeader(v16);
  *v25 = v16;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v16, v11);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v16, v10);
  (*(*v12 + 32))(v12, v25, 0);
  v18 = *v25;
  *v25 = 0;
  if (v18)
  {
    IPC::Encoder::~Encoder(v18, v17);
    bmalloc::api::tzoneFree(v23, v24);
  }

  v19 = *(this + 3);
  *(this + 3) = 0;
  if (v19)
  {
    if (v19[4] == 1)
    {
      (*(*v19 + 8))(v19);
    }

    else
    {
      --v19[4];
    }
  }

  v20 = *(this + 4);
  *(this + 4) = 0;
  if (v20)
  {
    CFRelease(*(v20 + 8));
  }

  WebKit::WebURLSchemeHandlerProxy::removeTask(v25, v8, *(this + 30));
  if (*v25)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((*v25 + 8), v21);
  }

  return WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v8 + 8));
}

void WebKit::WebURLSchemeTaskProxy::didPerformRedirection(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v110 = *MEMORY[0x1E69E9840];
  v8 = WebKit::WebURLSchemeTaskProxy::coreLoader(a1);
  if (!v8)
  {
    WebCore::ResourceRequest::ResourceRequest(buf);
    v76 = *a4;
    *a4 = 0;
    (*(*v76 + 16))(v76, buf);
    (*(*v76 + 8))(v76);
    WebCore::ResourceRequest::~ResourceRequest(buf);
    return;
  }

  v9 = v8;
  ++*(v8 + 16);
  if (*(a1 + 248) == 1)
  {
    v10 = qword_1ED6416F0;
    if (os_log_type_enabled(qword_1ED6416F0, OS_LOG_TYPE_DEFAULT))
    {
      v11 = *(*(a1 + 16) + 8);
      if (!v11)
      {
        __break(0xC471u);
        return;
      }

      v12 = *(v11 + 24);
      v13 = WebKit::pageIDFromWebFrame(*(a1 + 32));
      v14 = *(a1 + 32);
      if (v14)
      {
        v14 = *(v14 + 88);
      }

      v15 = *(a1 + 240);
      *buf = 134218752;
      *&buf[4] = v12;
      *&buf[12] = 2048;
      *&buf[14] = v13;
      v79 = 2048;
      v80 = v14;
      v81 = 2048;
      v82 = v15;
      _os_log_impl(&dword_19D52D000, v10, OS_LOG_TYPE_DEFAULT, "[schemeHandler=%llu, webPageID=%llu, frameID=%llu, taskID=%llu] WebURLSchemeTaskProxy::didPerformRedirection: Received redirect during previous redirect processing, queuing it.", buf, 0x2Au);
    }

    ++*(a1 + 8);
    *buf = a1;
    *&buf[8] = a1;
    WTF::URL::URL(&buf[16], a2);
    v16 = *(a2 + 40);
    v17 = *(a2 + 48);
    *(a2 + 40) = 0;
    v83 = v16;
    *v84 = v17;
    v18 = *(a2 + 56);
    *(a2 + 56) = 0u;
    *&v84[8] = v18;
    v19 = *(a2 + 72);
    *(a2 + 72) = 0u;
    v85 = v19;
    *&v19 = *(a2 + 88);
    *(a2 + 88) = 0;
    *&v86 = v19;
    v20 = *(a2 + 96);
    *&v19 = *(a2 + 104);
    *(a2 + 96) = 0u;
    *(&v86 + 1) = v20;
    *v87 = v19;
    v21 = *(a2 + 112);
    *(a2 + 112) = 0;
    *&v87[8] = v21;
    v87[16] = 0;
    LOBYTE(v88) = 0;
    if (*(a2 + 128) == 1)
    {
      v74 = *(a2 + 120);
      *(a2 + 120) = 0;
      *&v87[16] = v74;
      LOBYTE(v88) = 1;
    }

    WORD4(v88) = *(a2 + 136);
    BYTE10(v88) = *(a2 + 138);
    v22 = *(a2 + 144);
    *(a2 + 144) = 0;
    *v92 = *(a2 + 184);
    *&v92[16] = *(a2 + 200);
    v93[0] = *(a2 + 216);
    *(v93 + 11) = *(a2 + 227);
    v90 = *(a2 + 152);
    v91 = *(a2 + 168);
    v23 = *(a2 + 248);
    *(a2 + 248) = 0;
    v89 = v22;
    cf = v23;
    v95 = *(a2 + 256);
    WTF::URL::URL(v96, a3);
    WTF::URL::URL(v97, (a3 + 40));
    v24 = *(a3 + 80);
    v25 = *(a3 + 88);
    *(a3 + 88) = 0u;
    v99 = v25;
    *&v25 = *(a3 + 104);
    *(a3 + 104) = 0;
    v98 = v24;
    v100 = v25;
    v26 = *(a3 + 120);
    *&v101 = *(a3 + 112);
    *(&v101 + 1) = v26;
    v27 = *(a3 + 128);
    v28 = *(a3 + 136);
    *(a3 + 112) = 0u;
    *(a3 + 128) = 0u;
    *&v102 = v27;
    *(&v102 + 1) = v28;
    LODWORD(v27) = *(a3 + 144);
    v104 = *(a3 + 148);
    v103 = v27;
    v29 = *(a3 + 152);
    *(a3 + 152) = 0u;
    v105 = v29;
    v108 = *(a3 + 184);
    v30 = *(a3 + 168);
    v31 = *(a3 + 176);
    *(a3 + 168) = 0;
    v106 = v30;
    v107 = v31;
    v32 = *(a3 + 192);
    *(a3 + 192) = 0;
    v33 = *a4;
    *a4 = 0;
    *&v109 = v32;
    *(&v109 + 1) = v33;
    v34 = WTF::fastMalloc(0x1F0);
    *v34 = &unk_1F1134378;
    *(v34 + 8) = *buf;
    v35 = *&buf[8];
    *&buf[8] = 0;
    *(v34 + 16) = v35;
    WTF::URL::URL(v34 + 24, &buf[16]);
    v36 = v83;
    v83 = 0;
    *(v34 + 64) = v36;
    *(v34 + 72) = *v84;
    v37 = *&v84[16];
    *&v84[8] = 0u;
    *(v34 + 88) = v37;
    *(v34 + 96) = v85;
    v38 = *(&v85 + 1);
    v85 = 0u;
    *(v34 + 104) = v38;
    v39 = v86;
    v86 = 0u;
    *(v34 + 112) = v39;
    v40 = *v87;
    v41 = *&v87[8];
    *v87 = 0u;
    *(v34 + 128) = v40;
    *(v34 + 136) = v41;
    *(v34 + 144) = 0;
    *(v34 + 152) = 0;
    if (v88 == 1)
    {
      v75 = *&v87[16];
      *&v87[16] = 0;
      *(v34 + 144) = v75;
      *(v34 + 152) = 1;
    }

    *(v34 + 160) = WORD4(v88);
    *(v34 + 162) = BYTE10(v88);
    *(v34 + 168) = v89;
    v42 = *v92;
    v43 = *&v92[16];
    v44 = v93[0];
    *(v34 + 251) = *(v93 + 11);
    *(v34 + 224) = v43;
    *(v34 + 240) = v44;
    *(v34 + 208) = v42;
    v45 = v91;
    *(v34 + 176) = v90;
    *(v34 + 192) = v45;
    v46 = cf;
    v89 = 0;
    cf = 0;
    *(v34 + 272) = v46;
    *(v34 + 280) = v95;
    WTF::URL::URL(v34 + 288, v96);
    WTF::URL::URL(v34 + 328, v97);
    *&v47 = 0;
    *(v34 + 368) = v98;
    *(v34 + 376) = v99;
    v48 = v100;
    v100 = 0;
    v99 = 0u;
    *(v34 + 392) = v48;
    v49 = v101;
    v101 = v47;
    *(v34 + 400) = v49;
    v50 = v102;
    v102 = v47;
    *(v34 + 416) = v50;
    v51 = v103;
    *(v34 + 436) = v104;
    *(v34 + 432) = v51;
    *(v34 + 440) = v105;
    v52 = *(&v105 + 1);
    v105 = 0u;
    *(v34 + 448) = v52;
    v53 = v106;
    v106 = 0;
    *(v34 + 456) = v53;
    v54 = v107;
    *(v34 + 472) = v108;
    *(v34 + 464) = v54;
    *(v34 + 480) = v109;
    v109 = 0u;
    v77 = v34;
    WTF::Deque<WTF::Function<void ()(void)>,0ul>::append<WTF::Function<void ()(void)>>(a1 + 256, &v77);
    v55 = v77;
    v77 = 0;
    if (v55)
    {
      (*(*v55 + 8))(v55);
    }

    v56 = *(&v109 + 1);
    *(&v109 + 1) = 0;
    if (v56)
    {
      (*(*v56 + 8))(v56);
    }

    WebCore::ResourceRequest::~ResourceRequest(v96);
    v58 = cf;
    cf = 0;
    if (v58)
    {
      CFRelease(v58);
    }

    WebCore::ResourceResponseBase::~ResourceResponseBase(&buf[16], v57);
  }

  else
  {
    *(a1 + 248) = 1;
    ++*(a1 + 8);
    *buf = a1;
    *&buf[8] = a1;
    WebCore::ResourceRequest::ResourceRequest(&buf[16], a3);
    v60 = *a4;
    *a4 = 0;
    *&v92[16] = v60;
    v61 = WTF::fastMalloc(0xE8);
    *v61 = &unk_1F11343A0;
    *(v61 + 8) = *buf;
    v62 = *&buf[8];
    *&buf[8] = 0;
    *(v61 + 16) = v62;
    WTF::URL::URL(v61 + 24, &buf[16]);
    WTF::URL::URL(v61 + 64, &v83);
    *&v63 = 0;
    *(v61 + 104) = *(&v85 + 1);
    *(v61 + 112) = v86;
    v64 = *v87;
    *v87 = 0;
    v86 = 0u;
    *(v61 + 128) = v64;
    v65 = *&v87[8];
    v66 = *&v87[16];
    *&v87[8] = v63;
    *(v61 + 136) = v65;
    *(v61 + 144) = v66;
    v67 = v88;
    v88 = v63;
    *(v61 + 152) = v67;
    LODWORD(v65) = v89;
    *(v61 + 172) = BYTE4(v89);
    *(v61 + 168) = v65;
    *(v61 + 176) = v90;
    v68 = *(&v90 + 1);
    v90 = 0u;
    *(v61 + 184) = v68;
    v69 = v91;
    *&v91 = 0;
    *(v61 + 192) = v69;
    v70 = *(&v91 + 1);
    *(v61 + 208) = v92[0];
    *(v61 + 200) = v70;
    *(v61 + 216) = *&v92[8];
    *&v92[8] = 0u;
    v77 = v61;
    (*(*v9 + 192))(v9, a3, a2, &v77);
    v71 = v77;
    v77 = 0;
    if (v71)
    {
      (*(*v71 + 8))(v71);
    }

    v72 = *&v92[16];
    *&v92[16] = 0;
    if (v72)
    {
      (*(*v72 + 8))(v72);
    }

    WebCore::ResourceRequest::~ResourceRequest(&buf[16]);
  }

  v73 = *&buf[8];
  *&buf[8] = 0;
  if (v73)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v73 + 8), v59);
  }

  if (v9[4] == 1)
  {
    (*(*v9 + 8))(v9);
  }

  else
  {
    --v9[4];
  }
}

void WebKit::WebURLSchemeTaskProxy::didReceiveResponse(WebKit::WebURLSchemeTaskProxy *this, uint64_t a2)
{
  v64 = *MEMORY[0x1E69E9840];
  if (*(this + 248) == 1)
  {
    v4 = qword_1ED6416F0;
    if (os_log_type_enabled(qword_1ED6416F0, OS_LOG_TYPE_DEFAULT))
    {
      v5 = *(*(this + 2) + 8);
      if (!v5)
      {
        __break(0xC471u);
        return;
      }

      v6 = *(v5 + 24);
      v7 = WebKit::pageIDFromWebFrame(*(this + 4));
      v8 = *(this + 4);
      if (v8)
      {
        v8 = *(v8 + 88);
      }

      v9 = *(this + 30);
      *buf = 134218752;
      *&buf[4] = v6;
      *&buf[12] = 2048;
      *&buf[14] = v7;
      v43 = 2048;
      v44 = v8;
      v45 = 2048;
      v46 = v9;
      _os_log_impl(&dword_19D52D000, v4, OS_LOG_TYPE_DEFAULT, "[schemeHandler=%llu, webPageID=%llu, frameID=%llu, taskID=%llu] WebURLSchemeTaskProxy::didReceiveResponse: Received response during redirect processing, queuing it.", buf, 0x2Au);
    }

    ++*(this + 2);
    *buf = this;
    *&buf[8] = this;
    WTF::URL::URL(&buf[16], a2);
    v10 = *(a2 + 40);
    v11 = *(a2 + 48);
    *(a2 + 40) = 0;
    v47 = v10;
    *v48 = v11;
    v12 = *(a2 + 56);
    *(a2 + 56) = 0u;
    *&v48[8] = v12;
    v13 = *(a2 + 72);
    *(a2 + 72) = 0u;
    v49 = v13;
    *&v13 = *(a2 + 88);
    *(a2 + 88) = 0;
    *&v50 = v13;
    v14 = *(a2 + 96);
    *&v13 = *(a2 + 104);
    *(a2 + 96) = 0u;
    *(&v50 + 1) = v14;
    *&v51 = v13;
    v15 = *(a2 + 112);
    *(a2 + 112) = 0;
    *(&v51 + 1) = v15;
    LOBYTE(v52) = 0;
    v53 = 0;
    if (*(a2 + 128) == 1)
    {
      v39 = *(a2 + 120);
      *(a2 + 120) = 0;
      v52 = v39;
      v53 = 1;
    }

    v54 = *(a2 + 136);
    v55 = *(a2 + 138);
    v16 = *(a2 + 144);
    *(a2 + 144) = 0;
    v59 = *(a2 + 184);
    v60 = *(a2 + 200);
    v61[0] = *(a2 + 216);
    *(v61 + 11) = *(a2 + 227);
    v57 = *(a2 + 152);
    v58 = *(a2 + 168);
    v17 = *(a2 + 248);
    *(a2 + 248) = 0;
    v56 = v16;
    cf = v17;
    v63 = *(a2 + 256);
    v18 = WTF::fastMalloc(0x120);
    *v18 = &unk_1F11343C8;
    *(v18 + 8) = *buf;
    v19 = *&buf[8];
    *&buf[8] = 0;
    *(v18 + 16) = v19;
    WTF::URL::URL(v18 + 24, &buf[16]);
    v20 = v47;
    v47 = 0;
    *(v18 + 64) = v20;
    *(v18 + 72) = *v48;
    v21 = *&v48[16];
    *&v48[8] = 0u;
    *(v18 + 88) = v21;
    *(v18 + 96) = v49;
    v22 = *(&v49 + 1);
    v49 = 0u;
    *(v18 + 104) = v22;
    v23 = v50;
    v50 = 0u;
    *(v18 + 112) = v23;
    v24 = v51;
    v51 = 0u;
    *(v18 + 128) = v24;
    *(v18 + 144) = 0;
    *(v18 + 152) = 0;
    if (v53 == 1)
    {
      v40 = v52;
      v52 = 0;
      *(v18 + 144) = v40;
      *(v18 + 152) = 1;
    }

    *(v18 + 160) = v54;
    *(v18 + 162) = v55;
    *(v18 + 168) = v56;
    v25 = v59;
    v26 = v60;
    v27 = v61[0];
    *(v18 + 251) = *(v61 + 11);
    *(v18 + 224) = v26;
    *(v18 + 240) = v27;
    *(v18 + 208) = v25;
    v28 = v58;
    *(v18 + 176) = v57;
    *(v18 + 192) = v28;
    v29 = cf;
    v56 = 0;
    cf = 0;
    *(v18 + 272) = v29;
    *(v18 + 280) = v63;
    v41 = v18;
    WTF::Deque<WTF::Function<void ()(void)>,0ul>::append<WTF::Function<void ()(void)>>(this + 256, &v41);
    v31 = v41;
    v41 = 0;
    if (v31)
    {
      (*(*v31 + 8))(v31);
    }

    v32 = cf;
    cf = 0;
    if (v32)
    {
      CFRelease(v32);
    }

    WebCore::ResourceResponseBase::~ResourceResponseBase(&buf[16], v30);
    v34 = *&buf[8];
    *&buf[8] = 0;
    if (v34)
    {
      WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v34 + 8), v33);
    }
  }

  else
  {
    v35 = WebKit::WebURLSchemeTaskProxy::coreLoader(this);
    if (v35)
    {
      v36 = v35;
      ++*(v35 + 16);
      *(this + 248) = 1;
      ++*(this + 2);
      v37 = WTF::fastMalloc(0x18);
      *v37 = &unk_1F11343F0;
      v37[1] = this;
      v37[2] = this;
      *buf = v37;
      (*(*v36 + 208))(v36, a2, buf);
      v38 = *buf;
      *buf = 0;
      if (v38)
      {
        (*(*v38 + 8))(v38);
      }

      if (v36[4] == 1)
      {
        (*(*v36 + 8))(v36);
      }

      else
      {
        --v36[4];
      }
    }
  }
}

uint64_t WebKit::WebURLSchemeTaskProxy::didReceiveData(WebKit::WebFrame **this, atomic_uint *a2)
{
  v21 = *MEMORY[0x1E69E9840];
  result = WebKit::WebURLSchemeTaskProxy::coreLoader(this);
  if (result)
  {
    v5 = result;
    ++*(result + 16);
    if (*(this + 248) == 1)
    {
      v6 = qword_1ED6416F0;
      if (os_log_type_enabled(qword_1ED6416F0, OS_LOG_TYPE_DEFAULT))
      {
        v7 = *(this[2] + 1);
        if (!v7)
        {
          result = 92;
          __break(0xC471u);
          return result;
        }

        v8 = *(v7 + 24);
        v9 = WebKit::pageIDFromWebFrame(this[4]);
        v10 = this[4];
        if (v10)
        {
          v10 = *(v10 + 11);
        }

        v11 = this[30];
        *v14 = 134218752;
        *&v14[4] = v8;
        v15 = 2048;
        v16 = v9;
        v17 = 2048;
        v18 = v10;
        v19 = 2048;
        v20 = v11;
        _os_log_impl(&dword_19D52D000, v6, OS_LOG_TYPE_DEFAULT, "[schemeHandler=%llu, webPageID=%llu, frameID=%llu, taskID=%llu] WebURLSchemeTaskProxy::didReceiveData: Received data during response processing, queuing it.", v14, 0x2Au);
      }

      ++*(this + 2);
      atomic_fetch_add(a2 + 2, 1u);
      v12 = WTF::fastMalloc(0x20);
      *v12 = &unk_1F1134418;
      v12[1] = this;
      v12[2] = this;
      v12[3] = a2;
      *v14 = v12;
      WTF::Deque<WTF::Function<void ()(void)>,0ul>::append<WTF::Function<void ()(void)>>((this + 32), v14);
      result = *v14;
      *v14 = 0;
      if (result)
      {
        result = (*(*result + 8))(result);
      }
    }

    else
    {
      ++*(this + 2);
      (*(*result + 216))(result, a2, 0, 1);
      WebKit::WebURLSchemeTaskProxy::processNextPendingTask(this);
      result = WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref(this + 2, v13);
    }

    if (v5[4] == 1)
    {
      return (*(*v5 + 8))(v5);
    }

    else
    {
      --v5[4];
    }
  }

  return result;
}

WebKit::WebProcess *WebKit::WebURLSchemeHandlerProxy::removeTask(WebKit::WebProcess *result, uint64_t a2, uint64_t a3)
{
  v3 = result;
  v6 = *(a2 + 32);
  v4 = (a2 + 32);
  v5 = v6;
  if (!v6)
  {
LABEL_11:
    v14 = 0;
    goto LABEL_24;
  }

  if (a3 == -1)
  {
    goto LABEL_28;
  }

  if (!a3)
  {
    __break(0xC471u);
    JUMPOUT(0x19E40DC6CLL);
  }

  v7 = *(v5 - 8);
  v8 = (~(a3 << 32) + a3) ^ ((~(a3 << 32) + a3) >> 22);
  v9 = 9 * ((v8 + ~(v8 << 13)) ^ ((v8 + ~(v8 << 13)) >> 8));
  v10 = (v9 ^ (v9 >> 15)) + ~((v9 ^ (v9 >> 15)) << 27);
  v11 = v7 & ((v10 >> 31) ^ v10);
  v12 = *(v5 + 16 * v11);
  if (v12 != a3)
  {
    v13 = 1;
    while (v12)
    {
      v11 = (v11 + v13) & v7;
      v12 = *(v5 + 16 * v11);
      ++v13;
      if (v12 == a3)
      {
        goto LABEL_10;
      }
    }

    v11 = *(v5 - 4);
  }

LABEL_10:
  if (v11 == *(v5 - 4))
  {
    goto LABEL_11;
  }

  v15 = (v5 + 16 * v11);
  v14 = v15[1];
  v15[1] = 0;
  v16 = *v4;
  if (!*v4 || (v16 += 16 * *(v16 - 4), v16 != v15))
  {
    if (v16 != v15)
    {
      *v15 = -1;
      v15[1] = 0;
      v17 = *v4;
      v18 = vadd_s32(*(*v4 - 16), 0xFFFFFFFF00000001);
      *(v17 - 16) = v18;
      v19 = *(v17 - 4);
      if (6 * v18.i32[1] < v19 && v19 >= 9)
      {
        result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(v4, v19 >> 1);
      }
    }
  }

  if (v14)
  {
    v21 = WebKit::WebProcess::singleton(result, v4);
    v22 = *(v21 + 43);
    if (!*(*(v22 + 8) + 8))
    {
      __break(0xC471u);
      JUMPOUT(0x19E40DC8CLL);
    }

    result = WebKit::WebLoaderStrategy::removeURLSchemeTaskProxy(*(v21 + 43), v14);
    if (!*(*(v22 + 8) + 8))
    {
LABEL_28:
      __break(0xC471u);
      JUMPOUT(0x19E40DC4CLL);
    }
  }

LABEL_24:
  *v3 = v14;
  return result;
}

void WebKit::WebURLSchemeTaskProxy::didComplete(WebKit::WebURLSchemeTaskProxy *this, const WebCore::ResourceError *a2)
{
  v36 = *MEMORY[0x1E69E9840];
  v4 = qword_1ED6416F0;
  if (os_log_type_enabled(qword_1ED6416F0, OS_LOG_TYPE_DEFAULT))
  {
    v5 = *(*(this + 2) + 8);
    if (!v5)
    {
      __break(0xC471u);
      return;
    }

    v6 = *(v5 + 24);
    v7 = WebKit::pageIDFromWebFrame(*(this + 4));
    v8 = *(this + 4);
    if (v8)
    {
      v8 = *(v8 + 88);
    }

    v9 = *(this + 30);
    *buf = 134218752;
    *&buf[4] = v6;
    *&buf[12] = 2048;
    *&buf[14] = v7;
    *&buf[22] = 2048;
    *&buf[24] = v8;
    v32 = 2048;
    v33 = v9;
    _os_log_impl(&dword_19D52D000, v4, OS_LOG_TYPE_DEFAULT, "[schemeHandler=%llu, webPageID=%llu, frameID=%llu, taskID=%llu] WebURLSchemeTaskProxy::didComplete", buf, 0x2Au);
  }

  v10 = WebKit::WebURLSchemeTaskProxy::coreLoader(this);
  if (v10)
  {
    v11 = v10;
    ++v10[4];
    if (*(this + 248) != 1)
    {
      if (*(a2 + 60))
      {
        (*(*v10 + 240))(v10, a2);
      }

      else
      {
        WebCore::NetworkLoadMetrics::NetworkLoadMetrics(buf);
        (*(*v11 + 232))(v11, buf);
        v24 = v35;
        v35 = 0;
        if (v24)
        {
          WTF::RefCounted<WebCore::AdditionalNetworkLoadMetricsForWebInspector>::deref(v24, v23);
        }

        v25 = v34;
        v34 = 0;
        if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v25, v23);
        }
      }

      v26 = *(this + 3);
      *(this + 3) = 0;
      if (v26)
      {
        if (v26[4] == 1)
        {
          (*(*v26 + 8))(v26);
        }

        else
        {
          --v26[4];
        }
      }

      v27 = *(this + 4);
      *(this + 4) = 0;
      if (v27)
      {
        CFRelease(*(v27 + 8));
      }

      goto LABEL_46;
    }

    ++*(this + 2);
    v12 = *a2;
    if (*a2)
    {
      atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
    }

    v13 = *(a2 + 1);
    if (v13)
    {
      atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
    }

    v14 = *(a2 + 2);
    *buf = *(a2 + 1);
    *&buf[16] = v14;
    v15 = *(a2 + 6);
    if (v15)
    {
      atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
    }

    v28 = *(a2 + 14);
    v29 = *(a2 + 30);
    v16 = *(a2 + 8);
    if (v16)
    {
      CFRetain(*(a2 + 8));
    }

    v17 = *(a2 + 72);
    v18 = WTF::fastMalloc(0x68);
    v19 = v18;
    *v18 = &unk_1F1134440;
    *(v18 + 8) = this;
    *(v18 + 16) = this;
    if (v12)
    {
      atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
    }

    *(v18 + 24) = v12;
    if (v13)
    {
      atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
    }

    *(v18 + 32) = v13;
    v20 = *&buf[16];
    *(v18 + 40) = *buf;
    *(v18 + 56) = v20;
    if (v15)
    {
      atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
    }

    *(v18 + 72) = v15;
    *(v18 + 80) = v28;
    *(v18 + 84) = v29;
    *(v18 + 88) = v16;
    if (v16)
    {
      CFRetain(v16);
    }

    *(v19 + 96) = v17;
    v30 = v19;
    WTF::Deque<WTF::Function<void ()(void)>,0ul>::append<WTF::Function<void ()(void)>>(this + 256, &v30);
    v22 = v30;
    v30 = 0;
    if (v22)
    {
      (*(*v22 + 8))(v22);
      if (!v16)
      {
LABEL_26:
        if (!v15)
        {
          goto LABEL_29;
        }

        goto LABEL_27;
      }
    }

    else if (!v16)
    {
      goto LABEL_26;
    }

    CFRelease(v16);
    if (!v15)
    {
      goto LABEL_29;
    }

LABEL_27:
    if (atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v15, v21);
    }

LABEL_29:
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v21);
      if (v12)
      {
LABEL_32:
        if (atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v12, v21);
        }
      }
    }

    else if (v12)
    {
      goto LABEL_32;
    }

LABEL_46:
    if (v11[4] == 1)
    {
      (*(*v11 + 8))(v11);
    }

    else
    {
      --v11[4];
    }
  }
}

uint64_t WebKit::pageIDFromWebFrame(WebKit::WebFrame *a1)
{
  if (!a1)
  {
    return 0;
  }

  v1 = WebKit::WebFrame::page(a1);
  if (!v1)
  {
    return 0;
  }

  v2 = v1;
  CFRetain(*(v1 + 8));
  v3 = *(v2 + 48);
  CFRelease(*(v2 + 8));
  return v3;
}

uint64_t WebKit::WebURLSchemeTaskProxy::coreLoader(WebKit::WebURLSchemeTaskProxy *this)
{
  v2 = *(this + 3);
  if (v2 && *(v2 + 760) == 1)
  {
    *(this + 3) = 0;
    if (*(v2 + 16) == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --*(v2 + 16);
    }

    v3 = *(this + 4);
    *(this + 4) = 0;
    if (v3)
    {
      CFRelease(*(v3 + 8));
    }
  }

  return *(this + 3);
}

uint64_t WebKit::WebURLSchemeTaskProxy::processNextPendingTask(uint64_t this)
{
  v2 = *(this + 256);
  if (v2 != *(this + 264))
  {
    v3 = *(this + 280);
    if (v2 >= v3)
    {
      __break(1u);
    }

    else
    {
      v4 = *(this + 272);
      v5 = *(v4 + 8 * v2);
      *(v4 + 8 * v2) = 0;
      if (v2 == v3 - 1)
      {
        v6 = 0;
      }

      else
      {
        v6 = v2 + 1;
      }

      *(this + 256) = v6;
      (*(*v5 + 16))(v5);
      v7 = *(*v5 + 8);

      return v7(v5);
    }
  }

  return this;
}

void WebKit::WebUndoStep::~WebUndoStep(WebKit::WebUndoStep *this)
{
  v2 = *(this + 1);
  *(this + 1) = 0;
  if (v2)
  {
    if (v2[2] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }
  }

  if (*this != 1)
  {
    __break(0xC471u);
  }
}

void WebKit::ViewGestureGeometryCollector::~ViewGestureGeometryCollector(WebKit::ViewGestureGeometryCollector *this, void *a2)
{
  *this = &unk_1F1133A48;
  v3 = WebKit::WebProcess::singleton(this, a2);
  WebKit::AuxiliaryProcess::removeMessageReceiver(v3, 0x99u, *(this + 4));
  v5 = *(this + 3);
  *(this + 3) = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, v4);
  }

  if (*(this + 4) == 1)
  {
    *this = &unk_1F10EA5E0;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 1, v4);
  }

  else
  {
    __break(0xC471u);
  }
}

{
  WebKit::ViewGestureGeometryCollector::~ViewGestureGeometryCollector(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

void WebKit::ViewGestureGeometryCollector::dispatchDidCollectGeometryForSmartMagnificationGesture(uint64_t a1, char a2, float a3, float a4, float a5, float a6, float a7, float a8, double a9, double a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, __int128 a17, double a18, double a19)
{
  v31[0] = a3;
  v31[1] = a4;
  v30[0] = a5;
  v30[1] = a6;
  v30[2] = a7;
  v30[3] = a8;
  v29 = a17;
  if (a1)
  {
    v17 = *(a1 + 8);
    if (v17)
    {
      CFRetain(*(v17 - 8));
      v26[0] = a2;
      v27 = a18;
      v28 = a19;
      v19 = (*(*(v17 + 16) + 56))(v17 + 16);
      v21 = IPC::Encoder::operator new(0x238, v20);
      *v21 = 1729;
      *(v21 + 2) = 0;
      *(v21 + 3) = 0;
      *(v21 + 1) = v19;
      *(v21 + 68) = 0;
      *(v21 + 70) = 0;
      *(v21 + 69) = 0;
      IPC::Encoder::encodeHeader(v21);
      v32 = v21;
      IPC::ArgumentCoder<WebCore::FloatPoint,void>::encode(v21, v31);
      IPC::ArgumentCoder<WebCore::FloatRect,void>::encode(v21, v30);
      IPC::ArgumentCoder<WebCore::FloatRect,void>::encode(v21, &v29);
      IPC::Encoder::operator<<<BOOL &>(v21, v26);
      IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v21, v27);
      IPC::ArgumentCoder<double,void>::encode<IPC::Encoder>(v21, v28);
      (*(*(v17 + 16) + 32))(v17 + 16, &v32, 0);
      v23 = v32;
      v32 = 0;
      if (v23)
      {
        IPC::Encoder::~Encoder(v23, v22);
        bmalloc::api::tzoneFree(v24, v25);
      }

      CFRelease(*(v17 - 8));
    }
  }
}

void WebKit::ViewGestureGeometryCollector::collectGeometryForSmartMagnificationGesture(uint64_t *a1, float a2, float a3)
{
  v41 = __PAIR64__(LODWORD(a3), LODWORD(a2));
  v3 = a1[3];
  if (v3)
  {
    v4 = *(v3 + 8);
    if (v4)
    {
      CFRetain(*(v4 - 8));
      v6 = WebKit::WebPage::localMainFrameView((v4 - 16));
      if (v6)
      {
        v7 = v6;
        ++*(v6 + 8);
        v36[0] = WebCore::ScrollView::unobscuredContentRect();
        v36[1] = v8;
        WebCore::FloatRect::FloatRect(&v40, v36);
        v9 = WebKit::WebPage::mainFramePlugIn((v4 - 16));
        if (v9)
        {
          v32 = v9[2];
          v9[2] = v32 + 1;
          if (v32)
          {
            v9[2] = v32;
          }

          else
          {
            (*(*v9 + 8))(v9);
          }
        }

        v38 = 0.0;
        v39 = 0.0;
        v10 = WebCore::ScrollView::windowToContents();
        v11 = vcgt_s32(v10, 0xFE000000FE000000);
        v33 = vorr_s8((*&v11 & 0x7FFFFFFF7FFFFFFFLL), vbic_s8(vbsl_s8(vcgt_s32(0xFE000000FE000000, v10), 0x8000000080000000, vshl_n_s32(v10, 6uLL)), v11));
        WebCore::HitTestResult::HitTestResult();
        v20 = *(v4 + 40);
        if (v20)
        {
          v21 = *(v20 + 176);
          if (v21)
          {
            if ((*(v21 + 136) & 1) == 0)
            {
              ++*(v21 + 16);
              v22 = *(v21 + 224);
              if (v22)
              {
                *(v22 + 7) += 2;
                v33.i32[0] = 259;
                v33.i8[4] = 1;
                WebCore::Document::hitTest();
                if (*(v22 + 7) == 2)
                {
                  WebCore::Node::removedLastRef(v22);
                }

                else
                {
                  *(v22 + 7) -= 2;
                }
              }

              else
              {
                v33.i32[0] = 259;
                v33.i8[4] = 1;
                WebCore::Document::hitTest();
              }

              if (*(v21 + 16) == 1)
              {
                (*(*v21 + 8))(v21);
              }

              else
              {
                --*(v21 + 16);
              }
            }
          }
        }

        v23 = v37;
        if (v37)
        {
          *(v37 + 7) += 2;
          v35 = 0;
          v33 = 0;
          *v34 = 0;
          WebKit::ViewGestureGeometryCollector::computeZoomInformationForNode(a1, v23, &v41, &v33, &v35, &v39, &v38);
          LODWORD(v24) = v40;
          LODWORD(v25) = HIDWORD(v40);
          WebKit::ViewGestureGeometryCollector::dispatchDidCollectGeometryForSmartMagnificationGesture(a1[3], v35, *&v41, *(&v41 + 1), *v33.i32, *&v33.i32[1], v34[0], v34[1], v24, v25, v26, v27, v28, v29, v30, v31, v40, v39, v38);
          if (*(v23 + 7) == 2)
          {
            WebCore::Node::removedLastRef(v23);
          }

          else
          {
            *(v23 + 7) -= 2;
          }
        }

        else
        {
          WebKit::ViewGestureGeometryCollector::dispatchDidCollectGeometryForSmartMagnificationGesture(a1[3], 0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, v18, v19, v12, v13, v14, v15, v16, v17, 0, 0.0, 0.0);
        }

        MEMORY[0x19EB04BD0](v36);
        if (v7[2] == 1)
        {
          (*(*v7 + 8))(v7);
        }

        else
        {
          --v7[2];
        }
      }

      CFRelease(*(v4 - 8));
    }
  }
}

void WebKit::ViewGestureGeometryCollector::computeZoomInformationForNode(WebKit::ViewGestureGeometryCollector *this, WebCore::Node *a2, float32x2_t *a3, WebCore::FloatRect *a4, BOOL *a5, double *a6, double *a7)
{
  v14.i64[0] = WebCore::Node::absoluteBoundingRect(a2, a5);
  v14.i64[1] = v15;
  *a4 = vmulq_f32(vcvtq_f32_s32(v14), vdupq_n_s32(0x3C800000u));
  v16 = *(*(a2 + 6) + 8);
  if ((*(v16 + 3518) & 4) != 0)
  {
    v26 = WebCore::ImageDocument::imageElement(v16);
    if (v26)
    {
      v27 = v26;
      v28 = *(v26 + 7);
      *(v26 + 7) = v28 + 2;
      if (v26 != a2)
      {
        v29 = WebCore::Node::absoluteBoundingRect(v26, a5);
        v30 = vdup_n_s32(0x3C800000u);
        *&v32 = vmul_f32(vcvt_f32_s32(v29), v30);
        *(&v32 + 1) = vmul_f32(vcvt_f32_s32(v31), v30);
        *a4 = v32;
        *a3 = vbsl_s8(vorr_s8(vcgt_f32(*&v32, *a3), vcgt_f32(*a3, vadd_f32(*&v32, *(&v32 + 8)))), vadd_f32(*&v32, vmul_f32(*(&v32 + 8), 0x3F0000003F000000)), *a3);
        v28 = *(v27 + 7) - 2;
      }

      *a5 = 1;
      if (v28)
      {
        *(v27 + 7) = v28;
      }

      else
      {
        WebCore::Node::removedLastRef(v27);
      }
    }
  }

  else
  {
    v17 = *(this + 3);
    if (!v17 || (v18 = *(v17 + 8)) == 0)
    {
      __break(0xC471u);
      return;
    }

    v19 = WebKit::WebPage::mainFramePlugIn((v18 - 16));
    if (v19)
    {
      v20 = *(v19 + 8);
      *(v19 + 8) = v20 + 1;
      v21 = v19;
      if (*(v19 + 137) == 1)
      {
        (*(**(v19 + 72) + 1488))(*(v19 + 72), a3->f32[0], a3->f32[1]);
        v20 = v21[2] - 1;
      }

      else
      {
        v22 = 0;
        v23 = 0;
        v24 = 0;
        v25 = 0;
      }

      *a4 = v22;
      *(a4 + 1) = v23;
      *(a4 + 2) = v24;
      *(a4 + 3) = v25;
      *a5 = 0;
      if (v20)
      {
        v21[2] = v20;
      }

      else
      {
        (*(*v21 + 8))(v21);
      }
    }
  }

  WebKit::ViewGestureGeometryCollector::computeMinimumAndMaximumViewportScales(this, a6, a7);
}

void WebKit::ViewGestureGeometryCollector::computeMinimumAndMaximumViewportScales(WebKit::ViewGestureGeometryCollector *this, double *a2, double *a3)
{
  v3 = *(this + 3);
  if (v3)
  {
    v4 = *(v3 + 8);
    if (v4)
    {
      CFRetain(*(v4 - 8));
      v8 = *(this + 3);
      if (!v8 || (v9 = *(v8 + 8)) == 0 || (*a2 = WebKit::WebPage::minimumPageScaleFactor((v9 - 16)), (v10 = *(this + 3)) == 0) || (v11 = *(v10 + 8)) == 0)
      {
        __break(0xC471u);
        JUMPOUT(0x19E40EBD8);
      }

      WebKit::WebPage::maximumPageScaleFactor((v11 - 16));
      *a3 = v12;
      v13 = *(v4 - 8);

      CFRelease(v13);
    }
  }
}

_DWORD *WebKit::WebPageTesting::deref(_DWORD *this)
{
  if (this[4] == 1)
  {
    return (*(*this + 24))();
  }

  --this[4];
  return this;
}

_DWORD *WebKit::ViewGestureGeometryCollector::deref(_DWORD *this)
{
  if (this[4] == 1)
  {
    return (*(*this + 24))();
  }

  --this[4];
  return this;
}

uint64_t API::InjectedBundle::FormClient::operator new(API::InjectedBundle::FormClient *this, void *a2)
{
  if (this == 8 && API::InjectedBundle::FormClient::operator new(unsigned long)::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(API::InjectedBundle::FormClient::operator new(unsigned long)::s_heapRef, a2);
  }

  else
  {
    return bmalloc::api::tzoneAllocateNonCompactSlow();
  }
}

uint64_t API::InjectedBundle::PageLoaderClient::operator new(API::InjectedBundle::PageLoaderClient *this, void *a2)
{
  if (this == 8 && API::InjectedBundle::PageLoaderClient::operator new(unsigned long)::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(API::InjectedBundle::PageLoaderClient::operator new(unsigned long)::s_heapRef, a2);
  }

  else
  {
    return bmalloc::api::tzoneAllocateNonCompactSlow();
  }
}

uint64_t API::InjectedBundle::ResourceLoadClient::operator new(API::InjectedBundle::ResourceLoadClient *this, void *a2)
{
  if (this == 8 && API::InjectedBundle::ResourceLoadClient::operator new(unsigned long)::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(API::InjectedBundle::ResourceLoadClient::operator new(unsigned long)::s_heapRef, a2);
  }

  else
  {
    return bmalloc::api::tzoneAllocateNonCompactSlow();
  }
}

uint64_t API::InjectedBundle::PageUIClient::operator new(API::InjectedBundle::PageUIClient *this, void *a2)
{
  if (this == 8 && API::InjectedBundle::PageUIClient::operator new(unsigned long)::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(API::InjectedBundle::PageUIClient::operator new(unsigned long)::s_heapRef, a2);
  }

  else
  {
    return bmalloc::api::tzoneAllocateNonCompactSlow();
  }
}

void WebKit::WebSpeechRecognitionProvider::~WebSpeechRecognitionProvider(WebKit::WebSpeechRecognitionProvider *this)
{
  v2 = *(this + 2);
  *(this + 2) = 0;
  if (v2)
  {
    if (v2[2] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[2];
    }
  }
}

uint64_t WebKit::parseAndAllowAccessToCORSDisablingPatterns(WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&)::$_0::operator()<WTF::String const>(uint64_t a1)
{
  v2 = WebCore::UserContentURLPattern::parse();
  v4 = v2;
  if (v2)
  {
    *a1 = 0;
    *(a1 + 32) = 0;
  }

  else
  {
    WebCore::OriginAccessPatternsForWebProcess::singleton(v2);
    WebCore::OriginAccessPatternsForWebProcess::allowAccessTo();
    *a1 = 0uLL;
    *(a1 + 16) = 0;
    *(a1 + 24) = v4;
    *(a1 + 32) = 1;
  }

  return 0;
}

unint64_t WTF::Vector<WebCore::UserContentURLPattern,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::UserContentURLPattern>(uint64_t a1, unint64_t a2)
{
  result = WTF::Vector<WebCore::UserContentURLPattern,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, *(a1 + 12) + 1, a2);
  v4 = *a1 + 32 * *(a1 + 12);
  v5 = *result;
  *result = 0;
  *v4 = v5;
  v6 = *(result + 8);
  *(result + 8) = 0;
  *(v4 + 8) = v6;
  v7 = *(result + 16);
  *(result + 16) = 0;
  *(v4 + 16) = v7;
  *(v4 + 24) = *(result + 24);
  ++*(a1 + 12);
  return result;
}

WebKit::WebsitePoliciesData *WebKit::WebsitePoliciesData::WebsitePoliciesData(WebKit::WebsitePoliciesData *this, const WebKit::WebsitePoliciesData *a2)
{
  v4 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::HashTable(this, a2);
  WTF::Vector<WebCore::CustomHeaderFields,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector((v4 + 1), a2 + 8);
  WTF::Vector<WTF::Vector<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(this + 24, a2 + 24);
  v5 = *(a2 + 5);
  if (v5)
  {
    atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed);
  }

  *(this + 5) = v5;
  v6 = *(a2 + 6);
  if (v6)
  {
    atomic_fetch_add_explicit(v6, 2u, memory_order_relaxed);
  }

  *(this + 6) = v6;
  v7 = *(a2 + 7);
  if (v7)
  {
    atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
  }

  *(this + 7) = v7;
  v8 = *(a2 + 8);
  if (v8)
  {
    atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
  }

  *(this + 8) = v8;
  v9 = *(a2 + 74);
  *(this + 36) = *(a2 + 36);
  *(this + 74) = v9;
  *(this + 80) = *(a2 + 80);
  WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::HashTable(this + 11, a2 + 11);
  v10 = *(a2 + 6);
  *(this + 109) = *(a2 + 109);
  *(this + 6) = v10;
  return this;
}

uint64_t *WTF::UniqueRef<WebKit::TextAnimationController>::~UniqueRef(uint64_t *a1, void *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    v4 = *(v3 + 208);
    *(v3 + 208) = 0;
    if (v4)
    {
      WTF::RefCounted<WebCore::TextIndicator>::deref(v4);
    }

    if (*(v3 + 200) == 1)
    {
      v9 = *(v3 + 192);
      *(v3 + 192) = 0;
      if (v9)
      {
        (*(*v9 + 8))(v9);
      }
    }

    v5 = *(v3 + 144);
    if (v5)
    {
      *(v3 + 144) = 0;
      *(v3 + 152) = 0;
      WTF::fastFree(v5, a2);
    }

    std::__optional_destruct_base<WebKit::ReplacedRangeAndString,false>::~__optional_destruct_base[abi:sn200100](v3 + 112, a2);
    if (*(v3 + 96) == 1)
    {
      v10 = *(v3 + 80);
      *(v3 + 80) = 0;
      if (v10)
      {
        if (*(v10 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v10);
        }

        else
        {
          *(v10 + 7) -= 2;
        }
      }

      v11 = *(v3 + 64);
      *(v3 + 64) = 0;
      if (v11)
      {
        if (*(v11 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v11);
        }

        else
        {
          *(v11 + 7) -= 2;
        }
      }
    }

    v7 = *v3;
    *v3 = 0;
    if (v7 && atomic_fetch_add(v7, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v7);
      WTF::fastFree(v7, v6);
    }

    bmalloc::api::tzoneFree(v3, v6);
  }

  return a1;
}

uint64_t std::__optional_destruct_base<WebKit::ReplacedRangeAndString,false>::~__optional_destruct_base[abi:sn200100](uint64_t a1, WTF::StringImpl *a2)
{
  if (*(a1 + 24) == 1)
  {
    v4 = *(a1 + 16);
    *(a1 + 16) = 0;
    if (v4)
    {
      if (atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v4, a2);
      }
    }
  }

  return a1;
}

uint64_t WTF::HashTable<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::HashTraits<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::HashTraits<WTF::Ref<WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>,WTF::DefaultRefDerefTraits<WebCore::WeakPtrImplWithEventTargetData>>>,WTF::FastMalloc>::deallocateTable(atomic_uint **a1, void *a2)
{
  v3 = *(a1 - 1);
  if (v3)
  {
    v4 = a1;
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        *v4 = 0;
        if (v5)
        {
          WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v5, a2);
        }
      }

      ++v4;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 2), a2);
}

double WebCore::CachedPage::operator delete()
{
  v0 = MEMORY[0x19EB02B30]();
  if (*v0)
  {
    *(v0 + 48) = 0;
    result = 0.0;
    *(v0 + 16) = 0u;
    *(v0 + 32) = 0u;
    *v0 = 0u;
  }

  else
  {

    bmalloc::api::tzoneFree(v0, v1);
  }

  return result;
}

uint64_t WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::Function<void ()(BOOL)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::Function<void ()(BOOL)>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::Function<void ()(BOOL)>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::Function<void ()(BOOL)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      if (*(v4 - 1) != -1)
      {
        v5 = *v4;
        *v4 = 0;
        if (v5)
        {
          (*(*v5 + 8))(v5);
        }
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = a1;
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        v6 = *(v4 + 8);
        *(v4 + 8) = 0;
        if (v6)
        {
          WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v6 + 8));
          v5 = *v4;
        }

        *v4 = 0;
        if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v5, a2);
        }
      }

      v4 += 16;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>::~KeyValuePair(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v3)
  {
    WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v3 + 8));
  }

  v4 = *a1;
  *a1 = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  return a1;
}

void PAL::HysteresisActivity::~HysteresisActivity(PAL::HysteresisActivity *this)
{
  v2 = (this + 16);
  *(this + 2) = &unk_1F10E6DC8;
  v3 = *(this + 7);
  *(this + 7) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  WTF::RunLoop::TimerBase::~TimerBase(v2);
  v4 = *this;
  *this = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }
}

WebKit::GeolocationPermissionRequestManager **WTF::UniqueRef<WebKit::GeolocationPermissionRequestManager>::~UniqueRef(WebKit::GeolocationPermissionRequestManager **a1, void *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    WebKit::GeolocationPermissionRequestManager::~GeolocationPermissionRequestManager(v3, a2);
    bmalloc::api::tzoneFree(v4, v5);
  }

  return a1;
}

unsigned int ***WTF::UniqueRef<WebKit::WebScreenOrientationManager>::~UniqueRef(unsigned int ***a1, void *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    WebKit::WebScreenOrientationManager::~WebScreenOrientationManager(v3, a2);
    bmalloc::api::tzoneFree(v4, v5);
  }

  return a1;
}

WebKit::WebPageInspectorTargetController **WTF::UniqueRef<WebKit::WebPageInspectorTargetController>::~UniqueRef(WebKit::WebPageInspectorTargetController **a1, void *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    WebKit::WebPageInspectorTargetController::~WebPageInspectorTargetController(v3, a2);
    bmalloc::api::tzoneFree(v4, v5);
  }

  return a1;
}

WebKit::FindController **WTF::UniqueRef<WebKit::FindController>::~UniqueRef(WebKit::FindController **a1, void *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    WebKit::FindController::~FindController(v3, a2);
    bmalloc::api::tzoneFree(v4, v5);
  }

  return a1;
}

uint64_t WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      if (*(v4 - 1) != -1)
      {
        v5 = *v4;
        *v4 = 0;
        if (v5)
        {
          WTF::RefCounted<WebKit::WebUndoStep>::deref(v5);
        }
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::deallocateTable(WTF **a1, void *a2)
{
  v3 = *(a1 - 1);
  if (v3)
  {
    v4 = a1;
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        *v4 = 0;
        if (v5)
        {
          if (*v5 == 1)
          {
            WTF::fastFree(v5, a2);
          }

          else
          {
            --*v5;
          }
        }
      }

      ++v4;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 2), a2);
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      if (*(v4 - 1) != -1)
      {
        v5 = *v4;
        *v4 = 0;
        if (v5)
        {
          if (v5[2] == 1)
          {
            (*(*v5 + 8))(v5);
          }

          else
          {
            --v5[2];
          }
        }
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t *WTF::UniqueRef<WebKit::WebPage::Internals>::~UniqueRef(uint64_t *a1, WTF::StringImpl *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    v4 = *(v3 + 448);
    if (v4)
    {
      WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(v4, a2);
    }

    v5 = *(v3 + 440);
    if (v5)
    {
      WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v5, a2);
    }

    v6 = *(v3 + 432);
    if (v6)
    {
      WTF::fastFree((v6 - 16), a2);
    }

    if (*(v3 + 424) == 1)
    {
      WTF::Vector<WebCore::TextManipulationControllerExclusionRule,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3 + 408, a2);
    }

    *(v3 + 352) = &unk_1F10E6DC8;
    v7 = *(v3 + 392);
    *(v3 + 392) = 0;
    if (v7)
    {
      (*(*v7 + 8))(v7);
    }

    WTF::RunLoop::TimerBase::~TimerBase((v3 + 352));
    v9 = *(v3 + 336);
    *(v3 + 336) = 0;
    if (v9)
    {
      (*(*v9 + 8))(v9);
    }

    v10 = *(v3 + 328);
    if (v10)
    {
      WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v10, v8);
    }

    v11 = *(v3 + 320);
    if (v11)
    {
      WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(v11, v8);
    }

    if (*(v3 + 296) == 1)
    {
      WebKit::WebsitePoliciesData::~WebsitePoliciesData((v3 + 176), v8);
    }

    WebCore::VisibleSelection::~VisibleSelection(v3);
    WTF::fastFree(v12, v13);
  }

  return a1;
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::deallocateTable(void *a1, WTF::StringImpl *a2)
{
  v2 = a1;
  v3 = *(a1 - 1);
  if (v3)
  {
    do
    {
      if (*a1 != -1)
      {
        a1 = WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>::~KeyValuePair(a1, a2);
      }

      a1 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((v2 - 2), a2);
}

uint64_t WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>::~KeyValuePair(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 + 8);
  if (v3)
  {
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *a1;
  *a1 = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  return a1;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = a1 + 16;
    do
    {
      if (*(v4 - 16) != -1)
      {
        WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v4, a2);
        v5 = *(v4 - 8);
        if (v5)
        {
          WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v5, a2);
        }

        v6 = *(v4 - 16);
        *(v4 - 16) = 0;
        if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v6, a2);
        }
      }

      v4 += 32;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t IPC::StreamClientConnection::send<Messages::LogStream::WEBPAGE_CLOSE,WebKit::LogStreamIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>(uint64_t a1, void *a2, uint64_t a3)
{
  v6 = *(a1 + 128);
  v7 = INFINITY;
  if (fabs(v6) != INFINITY)
  {
    WTF::ApproximateTime::now(a1);
    v7 = v6 + v8;
  }

  result = IPC::StreamClientConnection::trySendDestinationIDIfNeeded(a1, a3, v7);
  if (!result)
  {
    result = IPC::StreamClientConnectionBuffer::tryAcquire(a1 + 72, &v10, v7);
    if (v12 == 1)
    {
      result = IPC::StreamClientConnection::trySendStream<Messages::LogStream::WEBPAGE_CLOSE>(a1, v10, v11, a2);
      if ((result & 1) == 0)
      {
        if (v12)
        {
          IPC::StreamClientConnection::sendProcessOutOfStreamMessage(a1, v10, v11);
          return IPC::Connection::send<Messages::LogStream::WEBPAGE_CLOSE>(*(a1 + 8), a2, a3);
        }

        else
        {
          __break(1u);
        }
      }
    }
  }

  return result;
}

uint64_t IPC::StreamClientConnection::trySendStream<Messages::LogStream::WEBPAGE_CLOSE>(uint64_t a1, _WORD *a2, unint64_t a3, void *a4)
{
  if (a3 <= 1)
  {
    result = 1067;
    __break(0xC471u);
  }

  else
  {
    *a2 = 301;
    v4 = a2 + 1;
    v5 = a3 - 2;
    v6 = -v4 & 7 | 8;
    if (a3 - 2 >= v6)
    {
      v8 = -v4 & 7;
      *(v4 + v8) = *a4;
      if ((IPC::StreamClientConnectionBuffer::release((a1 + 72), v8 + 10) & 1) != 0 || *(a1 + 124))
      {
        if (*(a1 + 112) == 1)
        {
          MEMORY[0x19EB16320](*(a1 + 100));
        }

        *(a1 + 124) = 0;
      }
    }

    return v5 >= v6;
  }

  return result;
}

uint64_t IPC::Connection::send<Messages::LogStream::WEBPAGE_CLOSE>(uint64_t *a1, void *a2, uint64_t a3)
{
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 301;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = a3;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v13 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *a2);
  v8 = IPC::Connection::sendMessageImpl(a1, &v13, 1, 0);
  v9 = v13;
  v13 = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v7);
    bmalloc::api::tzoneFree(v11, v12);
  }

  return v8;
}

WebCore::SubstituteData *WebCore::SubstituteData::SubstituteData(WebCore::SubstituteData *this)
{
  *this = 0;
  *(this + 1) = 0;
  WTF::URL::invalidate((this + 8));
  WebCore::ResourceResponseBase::ResourceResponseBase((this + 48));
  *(this + 37) = 0;
  *(this + 304) = 0;
  *(this + 186) = *(this + 186) & 0xF1 | 4;
  *(this + 312) = 1;
  return this;
}

void WebCore::SubstituteData::~SubstituteData(WebCore::SubstituteData *this, WTF::StringImpl *a2)
{
  v3 = *(this + 37);
  *(this + 37) = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  WebCore::ResourceResponseBase::~ResourceResponseBase((this + 48), a2);
  v5 = *(this + 1);
  *(this + 1) = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, v4);
  }

  v6 = *this;
  *this = 0;
  if (v6)
  {
    if (atomic_fetch_add(v6 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v6 + 2);
      (*(*v6 + 8))(v6);
    }
  }
}

uint64_t IPC::StreamClientConnection::send<Messages::LogStream::WEBPAGE_LOADREQUEST,WebKit::LogStreamIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>(uint64_t a1, void *a2, uint64_t a3)
{
  v6 = *(a1 + 128);
  v7 = INFINITY;
  if (fabs(v6) != INFINITY)
  {
    WTF::ApproximateTime::now(a1);
    v7 = v6 + v8;
  }

  result = IPC::StreamClientConnection::trySendDestinationIDIfNeeded(a1, a3, v7);
  if (!result)
  {
    result = IPC::StreamClientConnectionBuffer::tryAcquire(a1 + 72, &v10, v7);
    if (v12 == 1)
    {
      result = IPC::StreamClientConnection::trySendStream<Messages::LogStream::WEBPAGE_LOADREQUEST>(a1, v10, v11, a2);
      if ((result & 1) == 0)
      {
        if (v12)
        {
          IPC::StreamClientConnection::sendProcessOutOfStreamMessage(a1, v10, v11);
          return IPC::Connection::send<Messages::LogStream::WEBPAGE_LOADREQUEST>(*(a1 + 8), a2, a3);
        }

        else
        {
          __break(1u);
        }
      }
    }
  }

  return result;
}

uint64_t IPC::StreamClientConnection::trySendStream<Messages::LogStream::WEBPAGE_LOADREQUEST>(uint64_t a1, _WORD *a2, unint64_t a3, uint64_t a4)
{
  v9 = a3;
  if (a3 <= 1)
  {
    result = 1067;
    __break(0xC471u);
  }

  else
  {
    *a2 = 304;
    v7 = a2 + 1;
    v8 = a3 - 2;
    Messages::LogStream::WEBPAGE_LOADREQUEST::encode<IPC::StreamConnectionEncoder>(a4, &v7);
    v5 = v7;
    if (v7 && ((IPC::StreamClientConnectionBuffer::release((a1 + 72), v9 - v8) & 1) != 0 || *(a1 + 124)))
    {
      if (*(a1 + 112) == 1)
      {
        MEMORY[0x19EB16320](*(a1 + 100));
      }

      *(a1 + 124) = 0;
    }

    return v5 != 0;
  }

  return result;
}

uint64_t Messages::LogStream::WEBPAGE_LOADREQUEST::encode<IPC::StreamConnectionEncoder>(uint64_t a1, uint64_t a2)
{
  IPC::StreamConnectionEncoder::operator<<<unsigned long long const&>(a2, a1);
  IPC::StreamConnectionEncoder::operator<<<unsigned long long const&>(a2, (a1 + 8));
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::StreamConnectionEncoder>(a2, **(a1 + 16));
  IPC::StreamConnectionEncoder::operator<<<int>(a2, **(a1 + 24));

  return IPC::StreamConnectionEncoder::operator<<<unsigned long long const&>(a2, (a1 + 32));
}

uint64_t IPC::Connection::send<Messages::LogStream::WEBPAGE_LOADREQUEST>(uint64_t *a1, void *a2, uint64_t a3)
{
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 304;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = a3;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v13 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *a2);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, a2[1]);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[2]);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[3]);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, a2[4]);
  v8 = IPC::Connection::sendMessageImpl(a1, &v13, 1, 0);
  v9 = v13;
  v13 = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v7);
    bmalloc::api::tzoneFree(v11, v12);
  }

  return v8;
}

void WebKit::SendStopResponsivenessTimer::~SendStopResponsivenessTimer(WebKit::SendStopResponsivenessTimer *this, void *a2)
{
  {
    v2 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = WebKit::WebProcess::operator new(0x370, a2);
    v2 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v2;
  }

  WebKit::AuxiliaryProcess::protectedParentProcessConnection(v2, &v12);
  v3 = v12;
  v5 = IPC::Encoder::operator new(0x238, v4);
  *v5 = 2924;
  *(v5 + 68) = 0;
  *(v5 + 70) = 0;
  *(v5 + 69) = 0;
  *(v5 + 2) = 0;
  *(v5 + 3) = 0;
  *(v5 + 1) = 0;
  IPC::Encoder::encodeHeader(v5);
  v13 = v5;
  IPC::Connection::sendMessageImpl(v3, &v13, 0, 0);
  v7 = v13;
  v13 = 0;
  if (v7)
  {
    IPC::Encoder::~Encoder(v7, v6);
    bmalloc::api::tzoneFree(v9, v10);
  }

  v8 = v12;
  v12 = 0;
  if (v8)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v8);
  }
}

_BYTE *WTF::StringTypeAdapter<WTF::StringView,void>::writeTo<char16_t>(_BYTE *result, char *__dst)
{
  v2 = *result;
  v3 = *(result + 2);
  if (result[12] == 1)
  {
    v4 = &__dst[2 * v3];
    if (v3 >= 0x40)
    {
      v5 = __dst;
      __dst += 2 * (v3 & 0xFFFFFFC0);
      v6 = 0uLL;
      do
      {
        v14.val[0] = *v2;
        v7 = v2[1];
        v15.val[0] = v2[2];
        v8 = v2[3];
        v2 += 4;
        v9 = v8;
        v15.val[1] = 0uLL;
        v16.val[0] = v7;
        v14.val[1] = 0uLL;
        v10 = v5;
        vst2q_s8(v10, v14);
        v10 += 32;
        v16.val[1] = 0uLL;
        vst2q_s8(v10, v16);
        v11 = v5 + 64;
        vst2q_s8(v11, v15);
        v12 = v5 + 96;
        vst2q_s8(v12, *(&v6 - 1));
        v5 += 128;
      }

      while (v5 != __dst);
    }

    while (__dst != v4)
    {
      v13 = v2->u8[0];
      v2 = (v2 + 1);
      *__dst = v13;
      __dst += 2;
    }
  }

  else if (v3)
  {
    if (v3 == 1)
    {
      *__dst = v2->i16[0];
    }

    else
    {
      return memcpy(__dst, v2, 2 * v3);
    }
  }

  return result;
}

uint64_t std::__stable_sort<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(uint64_t result, WebCore::HistoryItem **a2, unint64_t a3, WebCore::HistoryItem **a4, uint64_t a5)
{
  if (a3 >= 2)
  {
    v6 = result;
    if (a3 == 2)
    {
      v7 = (a2 - 1);
      v8 = WebCore::HistoryItem::target(*(a2 - 1));
      v9 = WebCore::HistoryItem::target(*v6);
      result = WTF::codePointCompare(v8, v9, v10);
      if ((result & 0x80) != 0)
      {

        return std::ranges::__swap::__fn::operator()[abi:sn200100]<WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>>>(v6, v7);
      }
    }

    else
    {
      v11 = a3;
      if (a3 <= 0)
      {
        if (result != a2)
        {
          v17 = (result + 8);
          if ((result + 8) != a2)
          {
            v18 = 0;
            v19 = result;
            do
            {
              v20 = v19;
              v19 = v17;
              v21 = WebCore::HistoryItem::target(v20[1]);
              v22 = WebCore::HistoryItem::target(*v20);
              result = WTF::codePointCompare(v21, v22, v23);
              if ((result & 0x80) != 0)
              {
                v24 = 0;
                v25 = *v19;
                *v19 = 0;
                for (i = v18; ; i -= 8)
                {
                  v27 = (v6 + i);
                  v28 = *(v6 + i);
                  *v27 = 0;
                  v27[1] = v28;
                  if (v24)
                  {
                    result = WTF::RefCounted<WebCore::HistoryItem>::deref((v24 + 8));
                  }

                  if (!i)
                  {
                    break;
                  }

                  v29 = (v6 + i);
                  v30 = WebCore::HistoryItem::target(v25);
                  v31 = WebCore::HistoryItem::target(*(v6 + i - 8));
                  result = WTF::codePointCompare(v30, v31, v32);
                  if ((result & 0x80) == 0)
                  {
                    goto LABEL_23;
                  }

                  v24 = *v27;
                }

                v29 = v6;
LABEL_23:
                v33 = *v29;
                *v29 = v25;
                if (v33)
                {
                  result = WTF::RefCounted<WebCore::HistoryItem>::deref(v33 + 2);
                }
              }

              v17 = v19 + 1;
              v18 += 8;
            }

            while (v19 + 1 != a2);
          }
        }
      }

      else
      {
        v13 = a4;
        v14 = a3 >> 1;
        v15 = (result + 8 * (a3 >> 1));
        v16 = a3 >> 1;
        if (v11 <= a5)
        {
          std::__stable_sort_move<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(result, v15, v16, a4);
          v34 = &v13[v14];
          result = std::__stable_sort_move<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(&v6[v11 >> 1], a2, v11 - (v11 >> 1), v34);
          v35 = &v13[v11];
          v36 = v34;
          v37 = v13;
          while (v36 != v35)
          {
            v38 = WebCore::HistoryItem::target(*v36);
            v39 = WebCore::HistoryItem::target(*v37);
            result = WTF::codePointCompare(v38, v39, v40);
            if ((result & 0x80) != 0)
            {
              v43 = *v36;
              *v36 = 0;
              v44 = *v6;
              *v6 = v43;
              if (v44)
              {
                result = WTF::RefCounted<WebCore::HistoryItem>::deref(v44 + 2);
              }

              ++v36;
            }

            else
            {
              v41 = *v37;
              *v37 = 0;
              v42 = *v6;
              *v6 = v41;
              if (v42)
              {
                result = WTF::RefCounted<WebCore::HistoryItem>::deref(v42 + 2);
              }

              ++v37;
            }

            ++v6;
            if (v37 == v34)
            {
              while (v36 != v35)
              {
                v47 = *v36;
                *v36 = 0;
                v48 = *v6;
                *v6 = v47;
                if (v48)
                {
                  result = WTF::RefCounted<WebCore::HistoryItem>::deref(v48 + 2);
                }

                ++v36;
                ++v6;
              }

              goto LABEL_47;
            }
          }

          while (v37 != v34)
          {
            v45 = *v37;
            *v37 = 0;
            v46 = *v6;
            *v6 = v45;
            if (v46)
            {
              result = WTF::RefCounted<WebCore::HistoryItem>::deref(v46 + 2);
            }

            ++v37;
            ++v6;
          }

LABEL_47:
          if (v13)
          {
            do
            {
              v49 = *v13;
              *v13 = 0;
              if (v49)
              {
                result = WTF::RefCounted<WebCore::HistoryItem>::deref(v49 + 2);
              }

              ++v13;
              --v11;
            }

            while (v11);
          }
        }

        else
        {
          std::__stable_sort<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(result, v15, v16, a4, a5);
          std::__stable_sort<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(&v6[v11 >> 1], a2, v11 - (v11 >> 1), v13, a5);

          return std::__inplace_merge<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(v6, &v6[v11 >> 1], a2, v11 >> 1, v11 - (v11 >> 1), v13, a5);
        }
      }
    }
  }

  return result;
}

uint64_t std::__stable_sort_move<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(uint64_t result, WebCore::HistoryItem **a2, unint64_t a3, WebCore::HistoryItem **a4)
{
  if (!a3)
  {
    return result;
  }

  v4 = a4;
  v7 = result;
  if (a3 == 2)
  {
    v8 = a2 - 1;
    v9 = WebCore::HistoryItem::target(*(a2 - 1));
    v10 = WebCore::HistoryItem::target(*v7);
    result = WTF::codePointCompare(v9, v10, v11);
    if ((result & 0x80) != 0)
    {
      v12 = v8;
      if (!v4)
      {
        goto LABEL_47;
      }
    }

    else
    {
      v12 = v7;
      v7 = v8;
      if (!v4)
      {
        goto LABEL_47;
      }
    }

    v41 = *v12;
    *v12 = 0;
    *v4++ = v41;
LABEL_45:
    v42 = *v7;
    *v7 = 0;
    *v4 = v42;
    return result;
  }

  if (a3 == 1)
  {
    if (!a4)
    {
      goto LABEL_47;
    }

    goto LABEL_45;
  }

  if (a3 <= 8)
  {
    if (result == a2)
    {
      return result;
    }

    if (a4)
    {
      v13 = *result;
      *result = 0;
      v14 = (result + 8);
      *a4 = v13;
      if ((result + 8) != a2)
      {
        v15 = 0;
        v16 = a4;
        do
        {
          v17 = v16;
          v18 = WebCore::HistoryItem::target(*v14);
          v19 = *v16++;
          v20 = WebCore::HistoryItem::target(v19);
          result = WTF::codePointCompare(v18, v20, v21);
          if ((result & 0x80) != 0)
          {
            v23 = *v17;
            *v17 = 0;
            v17[1] = v23;
            v24 = v4;
            if (v17 != v4)
            {
              v25 = v15;
              while (1)
              {
                v24 = (v4 + v25);
                v26 = WebCore::HistoryItem::target(*v14);
                v27 = WebCore::HistoryItem::target(*(v4 + v25 - 8));
                result = WTF::codePointCompare(v26, v27, v28);
                if ((result & 0x80) == 0)
                {
                  break;
                }

                v30 = *(v24 - 1);
                v29 = *v24;
                *(v24 - 1) = 0;
                *v24 = v30;
                if (v29)
                {
                  result = WTF::RefCounted<WebCore::HistoryItem>::deref(v29 + 2);
                }

                v25 -= 8;
                if (!v25)
                {
                  v24 = v4;
                  break;
                }
              }
            }

            v31 = *v14;
            *v14 = 0;
            v32 = *v24;
            *v24 = v31;
            if (v32)
            {
              result = WTF::RefCounted<WebCore::HistoryItem>::deref(v32 + 2);
            }
          }

          else
          {
            v22 = *v14;
            *v14 = 0;
            *v16 = v22;
          }

          ++v14;
          v15 += 8;
        }

        while (v14 != a2);
      }

      return result;
    }

LABEL_47:
    __break(1u);
    return result;
  }

  v33 = (result + 8 * (a3 >> 1));
  std::__stable_sort<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(result, v33, a3 >> 1, a4, a3 >> 1);
  result = std::__stable_sort<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(&v7[a3 >> 1], a2, a3 - (a3 >> 1), &v4[a3 >> 1], a3 - (a3 >> 1));
  v34 = &v7[a3 >> 1];
  while (v34 != a2)
  {
    v35 = WebCore::HistoryItem::target(*v34);
    v36 = WebCore::HistoryItem::target(*v7);
    result = WTF::codePointCompare(v35, v36, v37);
    if ((result & 0x80) != 0)
    {
      if (!v4)
      {
        goto LABEL_47;
      }

      v38 = *v34;
      *v34++ = 0;
    }

    else
    {
      if (!v4)
      {
        goto LABEL_47;
      }

      v38 = *v7;
      *v7++ = 0;
    }

    *v4++ = v38;
    if (v7 == v33)
    {
      while (v34 != a2)
      {
        v40 = *v34;
        *v34++ = 0;
        *v4++ = v40;
      }

      return result;
    }
  }

  while (v7 != v33)
  {
    if (!v4)
    {
      goto LABEL_47;
    }

    v39 = *v7;
    *v7++ = 0;
    *v4++ = v39;
  }

  return result;
}

uint64_t std::__inplace_merge<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(uint64_t result, WebCore::HistoryItem **a2, WebCore::HistoryItem **a3, uint64_t a4, uint64_t a5, WebCore::HistoryItem **a6, uint64_t a7)
{
  v89 = a5;
  if (!a5)
  {
    return result;
  }

  v12 = result;
  while (a4 > a7 && v89 > a7)
  {
    if (!a4)
    {
      return result;
    }

    v13 = 0;
    v14 = v12;
    v15 = v12;
    while (1)
    {
      v16 = WebCore::HistoryItem::target(*a2);
      v17 = WebCore::HistoryItem::target(v12[v13]);
      result = WTF::codePointCompare(v16, v17, v18);
      if ((result & 0x80) != 0)
      {
        break;
      }

      ++v15;
      ++v13;
      ++v14;
      if (a4 == v13)
      {
        return result;
      }
    }

    v87 = a4;
    v88 = a3;
    if (a4 - v13 >= v89)
    {
      if (a4 - 1 == v13)
      {

        return std::ranges::__swap::__fn::operator()[abi:sn200100]<WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>>>(v15, a2);
      }

      v30 = a3 - a2;
      v85 = (a4 - v13) / 2;
      if (a3 == a2)
      {
        v41 = a3;
        v42 = a3;
        v20 = a2;
      }

      else
      {
        v31 = a6;
        v32 = v30 >> 3;
        v20 = a2;
        v33 = &v12[(a4 - v13) / 2];
        do
        {
          v34 = &v20[v32 >> 1];
          v36 = *v34;
          v35 = v34 + 1;
          v37 = WebCore::HistoryItem::target(v36);
          v38 = WebCore::HistoryItem::target(v33[v13]);
          v40 = WTF::codePointCompare(v37, v38, v39);
          if (v40 >= 0)
          {
            v32 >>= 1;
          }

          else
          {
            v32 += ~(v32 >> 1);
          }

          if (v40 < 0)
          {
            v20 = v35;
          }
        }

        while (v32);
        v41 = v20;
        v42 = a2;
        a6 = v31;
      }

      v43 = v85;
      v22 = &v15[v85];
      v19 = v41 - v42;
    }

    else
    {
      v19 = v89 / 2;
      v20 = &a2[v89 / 2];
      if (v15 == a2)
      {
        v29 = a2;
        v14 = a2;
        v22 = v15;
      }

      else
      {
        v84 = a6;
        v21 = a2 - v14;
        v22 = v15;
        do
        {
          v23 = &v22[v21 >> 1];
          v24 = WebCore::HistoryItem::target(*v20);
          v26 = *v23;
          v25 = v23 + 1;
          v27 = WebCore::HistoryItem::target(v26);
          if ((WTF::codePointCompare(v24, v27, v28) & 0x80u) != 0)
          {
            v21 >>= 1;
          }

          else
          {
            v22 = v25;
            v21 += ~(v21 >> 1);
          }
        }

        while (v21);
        v29 = v22;
        v19 = v89 / 2;
        a6 = v84;
      }

      v43 = v29 - v14;
    }

    v44 = v20;
    if (v22 != a2)
    {
      v44 = v22;
      if (a2 != v20)
      {
        v83 = v19;
        std::ranges::__swap::__fn::operator()[abi:sn200100]<WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>>>(v22, a2);
        v44 = v22 + 1;
        for (i = (a2 + 1); i != v20; ++i)
        {
          if (v44 == a2)
          {
            a2 = i;
          }

          std::ranges::__swap::__fn::operator()[abi:sn200100]<WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>>>(v44++, i);
        }

        if (v44 != a2)
        {
          v86 = v43;
          v46 = v44;
          v47 = a2;
          do
          {
            while (1)
            {
              std::ranges::__swap::__fn::operator()[abi:sn200100]<WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>>>(v46++, a2);
              if (++a2 == v20)
              {
                break;
              }

              if (v46 == v47)
              {
                v47 = a2;
              }
            }

            a2 = v47;
          }

          while (v46 != v47);
          v43 = v86;
        }

        v19 = v83;
      }
    }

    v48 = v87 - v43 - v13;
    v49 = v89 - v19;
    if (v43 + v19 >= v89 + v87 - (v43 + v19) - v13)
    {
      v50 = v19;
      result = std::__inplace_merge<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(v44, v20, v88, v87 - v43 - v13, v89 - v19, a6, a7);
      v20 = v22;
      v49 = v50;
      v48 = v43;
      a3 = v44;
    }

    else
    {
      result = std::__inplace_merge<std::_RangeAlgPolicy,WebKit::dumpHistoryItem(WebCore::HistoryItem &,unsigned long,BOOL,WTF::StringBuilder &,WTF::String const&)::$_0 &,WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>> *>(v15, v22, v44, v43, v19, a6, a7);
      v15 = v44;
      a3 = v88;
    }

    a4 = v48;
    v89 = v49;
    a2 = v20;
    v12 = v15;
    if (!v49)
    {
      return result;
    }
  }

  if (a4 > v89)
  {
    if (a2 == a3)
    {
      return result;
    }

    v51 = 0;
    v52 = 0;
    do
    {
      v53 = a2[v51];
      a2[v51] = 0;
      a6[v51] = v53;
      ++v52;
      ++v51;
    }

    while (&a2[v51] != a3);
    v54 = &a6[v51];
    while (1)
    {
      if (a2 == v12)
      {
        if (v54 != a6)
        {
          v76 = 0x1FFFFFFFFFFFFFFFLL;
          do
          {
            v77 = *--v54;
            *v54 = 0;
            v78 = a3[v76];
            a3[v76] = v77;
            if (v78)
            {
              result = WTF::RefCounted<WebCore::HistoryItem>::deref(v78 + 2);
            }

            --v76;
          }

          while (v54 != a6);
        }

        goto LABEL_96;
      }

      v55 = a6;
      v56 = v54 - 1;
      v57 = WebCore::HistoryItem::target(*(v54 - 1));
      v58 = a2 - 1;
      v59 = WebCore::HistoryItem::target(*(a2 - 1));
      result = WTF::codePointCompare(v57, v59, v60);
      --a3;
      if ((result & 0x80) != 0)
      {
        break;
      }

      v61 = *v56;
      *v56 = 0;
      v62 = *a3;
      *a3 = v61;
      v58 = a2;
      --v54;
      if (v62)
      {
        goto LABEL_61;
      }

LABEL_62:
      a2 = v58;
      a6 = v55;
      if (v54 == v55)
      {
        goto LABEL_96;
      }
    }

    v63 = *v58;
    *v58 = 0;
    v62 = *a3;
    *a3 = v63;
    if (!v62)
    {
      goto LABEL_62;
    }

LABEL_61:
    result = WTF::RefCounted<WebCore::HistoryItem>::deref(v62 + 2);
    goto LABEL_62;
  }

  if (v12 != a2)
  {
    v52 = 0;
    v64 = a6;
    v65 = v12;
    do
    {
      v66 = *v65;
      *v65++ = 0;
      *a6++ = v66;
      ++v52;
    }

    while (v65 != a2);
    v67 = a6 - 1;
    v68 = v64;
    while (a2 != a3)
    {
      v69 = WebCore::HistoryItem::target(*a2);
      v70 = WebCore::HistoryItem::target(*v68);
      result = WTF::codePointCompare(v69, v70, v71);
      if ((result & 0x80) != 0)
      {
        v74 = *a2;
        *a2 = 0;
        v75 = *v12;
        *v12 = v74;
        if (v75)
        {
          result = WTF::RefCounted<WebCore::HistoryItem>::deref(v75 + 2);
        }

        ++a2;
      }

      else
      {
        v72 = *v68;
        *v68 = 0;
        v73 = *v12;
        *v12 = v72;
        if (v73)
        {
          result = WTF::RefCounted<WebCore::HistoryItem>::deref(v73 + 2);
        }

        ++v68;
      }

      ++v12;
      if (a6 == v68)
      {
        goto LABEL_95;
      }
    }

    if (a6 == v68)
    {
LABEL_95:
      a6 = v64;
      goto LABEL_96;
    }

    v79 = v68 - 1;
    a6 = v64;
    do
    {
      v80 = v79[1];
      v79[1] = 0;
      v81 = *v12;
      *v12 = v80;
      if (v81)
      {
        result = WTF::RefCounted<WebCore::HistoryItem>::deref(v81 + 2);
      }

      ++v12;
      ++v79;
    }

    while (v67 != v79);
LABEL_96:
    if (a6)
    {
      do
      {
        v82 = *a6;
        *a6 = 0;
        if (v82)
        {
          result = WTF::RefCounted<WebCore::HistoryItem>::deref(v82 + 2);
        }

        ++a6;
        --v52;
      }

      while (v52);
    }
  }

  return result;
}

_DWORD *std::ranges::__swap::__fn::operator()[abi:sn200100]<WTF::Ref<WebCore::HistoryItem,WTF::RawPtrTraits<WebCore::HistoryItem>,WTF::DefaultRefDerefTraits<WebCore::HistoryItem>>>(_DWORD *result, uint64_t *a2)
{
  v3 = *result;
  *result = 0;
  v4 = *a2;
  *a2 = 0;
  v5 = *result;
  *result = v4;
  if (v5)
  {
    result = WTF::RefCounted<WebCore::HistoryItem>::deref((v5 + 8));
  }

  v6 = *a2;
  *a2 = v3;
  if (v6)
  {

    return WTF::RefCounted<WebCore::HistoryItem>::deref((v6 + 8));
  }

  return result;
}

IPC::Encoder *IPC::Connection::send<Messages::LogStream::WEBPAGE_FREEZE_LAYER_TREE>(uint64_t *a1, int **a2, uint64_t a3)
{
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 303;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = a3;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *a2);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[1]);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[2]);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[3]);
  IPC::Connection::sendMessageImpl(a1, &v11, 1, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

IPC::Encoder *IPC::Connection::send<Messages::LogStream::WEBPAGE_UNFREEZE_LAYER_TREE>(uint64_t *a1, int **a2, uint64_t a3)
{
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 306;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = a3;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v11 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *a2);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[1]);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[2]);
  IPC::ArgumentCoder<unsigned int,void>::encode<IPC::Encoder>(v6, *a2[3]);
  IPC::Connection::sendMessageImpl(a1, &v11, 1, 0);
  result = v11;
  v11 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v7);
    return bmalloc::api::tzoneFree(v9, v10);
  }

  return result;
}

uint64_t IPC::StreamClientConnection::send<Messages::LogStream::WEBPAGE_MARK_LAYERS_VOLATILE,WebKit::LogStreamIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>(uint64_t a1, void *a2, uint64_t a3)
{
  v6 = *(a1 + 128);
  v7 = INFINITY;
  if (fabs(v6) != INFINITY)
  {
    WTF::ApproximateTime::now(a1);
    v7 = v6 + v8;
  }

  result = IPC::StreamClientConnection::trySendDestinationIDIfNeeded(a1, a3, v7);
  if (!result)
  {
    result = IPC::StreamClientConnectionBuffer::tryAcquire(a1 + 72, &v10, v7);
    if (v12 == 1)
    {
      result = IPC::StreamClientConnection::trySendStream<Messages::LogStream::WEBPAGE_MARK_LAYERS_VOLATILE>(a1, v10, v11, a2);
      if ((result & 1) == 0)
      {
        if (v12)
        {
          IPC::StreamClientConnection::sendProcessOutOfStreamMessage(a1, v10, v11);
          return IPC::Connection::send<Messages::LogStream::WEBPAGE_MARK_LAYERS_VOLATILE>(*(a1 + 8), a2, a3);
        }

        else
        {
          __break(1u);
        }
      }
    }
  }

  return result;
}

uint64_t IPC::StreamClientConnection::trySendStream<Messages::LogStream::WEBPAGE_MARK_LAYERS_VOLATILE>(uint64_t a1, _WORD *a2, unint64_t a3, void *a4)
{
  if (a3 <= 1)
  {
    result = 1067;
    __break(0xC471u);
  }

  else
  {
    *a2 = 305;
    v4 = a2 + 1;
    v5 = a3 - 2;
    v6 = -v4 & 7 | 8;
    if (a3 - 2 >= v6)
    {
      v8 = -v4 & 7;
      *(v4 + v8) = *a4;
      if ((IPC::StreamClientConnectionBuffer::release((a1 + 72), v8 + 10) & 1) != 0 || *(a1 + 124))
      {
        if (*(a1 + 112) == 1)
        {
          MEMORY[0x19EB16320](*(a1 + 100));
        }

        *(a1 + 124) = 0;
      }
    }

    return v5 >= v6;
  }

  return result;
}

uint64_t IPC::Connection::send<Messages::LogStream::WEBPAGE_MARK_LAYERS_VOLATILE>(uint64_t *a1, void *a2, uint64_t a3)
{
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 305;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = a3;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  IPC::Encoder::encodeHeader(v6);
  v13 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *a2);
  v8 = IPC::Connection::sendMessageImpl(a1, &v13, 1, 0);
  v9 = v13;
  v13 = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v7);
    bmalloc::api::tzoneFree(v11, v12);
  }

  return v8;
}

uint64_t WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::set<std::__1<WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>> WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>> const(std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)::{lambda(JSC::JSGlobalObject &)#1}>(uint64_t a1, uint64_t *a2, WTF::StringImpl **a3, uint64_t *a4)
{
  if (*a3 == -1 || !*a3)
  {
    __break(0xC471u);
    JUMPOUT(0x19E411494);
  }

  v8 = *a2;
  if (*a2 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a2, 0), (v8 = *a2) != 0))
  {
    v9 = *(v8 - 8);
  }

  else
  {
    v9 = 0;
  }

  v10 = *(*a3 + 4);
  if (v10 < 0x100)
  {
    v11 = WTF::StringImpl::hashSlowCase(*a3);
  }

  else
  {
    v11 = v10 >> 8;
  }

  v12 = 0;
  for (i = 1; ; ++i)
  {
    v14 = v11 & v9;
    v15 = (v8 + 16 * (v11 & v9));
    v16 = *v15;
    if (*v15 != -1)
    {
      break;
    }

    v12 = (v8 + 16 * v14);
LABEL_14:
    v11 = i + v14;
  }

  if (!v16)
  {
    if (v12)
    {
      *v12 = 0;
      v12[1] = 0;
      --*(*a2 - 16);
      v15 = v12;
    }

    WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v15, a3);
    v17 = WTF::fastMalloc(0x88);
    *v17 = &unk_1F1133D38;
    WebKit::JavaScriptEvaluationResult::JavaScriptEvaluationResult(v17 + 8, a4);
    result = v15[1];
    v15[1] = v17;
    if (result)
    {
      result = (*(*result + 8))(result);
    }

    v19 = *a2;
    if (*a2)
    {
      v20 = *(v19 - 12) + 1;
    }

    else
    {
      v20 = 1;
    }

    *(v19 - 12) = v20;
    v23 = (*(v19 - 16) + v20);
    v24 = *(v19 - 4);
    if (v24 > 0x400)
    {
      if (v24 <= 2 * v23)
      {
LABEL_26:
        result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a2, v15);
        v15 = result;
        v19 = *a2;
        if (*a2)
        {
          v24 = *(v19 - 4);
        }

        else
        {
          v24 = 0;
        }
      }
    }

    else if (3 * v24 <= 4 * v23)
    {
      goto LABEL_26;
    }

    *a1 = v15;
    *(a1 + 8) = v19 + 16 * v24;
    *(a1 + 16) = 1;
    return result;
  }

  if (!WTF::equal(v16, *a3, a3))
  {
    goto LABEL_14;
  }

  v21 = *a2;
  if (*a2)
  {
    v22 = *(v21 - 4);
  }

  else
  {
    v22 = 0;
  }

  *a1 = v15;
  *(a1 + 8) = v21 + 16 * v22;
  *(a1 + 16) = 0;
  v25 = WTF::fastMalloc(0x88);
  *v25 = &unk_1F1133D38;
  WebKit::JavaScriptEvaluationResult::JavaScriptEvaluationResult(v25 + 8, a4);
  result = v15[1];
  v15[1] = v25;
  if (result)
  {
    v26 = *(*result + 8);

    return v26();
  }

  return result;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, __int128 *a2)
{
  v4 = *a1;
  if (*a1)
  {
    v5 = *(v4 - 4);
    v6 = *(v4 - 12);
    if (v5)
    {
      v7 = v5 << (6 * v6 >= (2 * v5));
      goto LABEL_6;
    }
  }

  else
  {
    v5 = 0;
    v6 = 0;
  }

  v7 = 8;
LABEL_6:
  v8 = WTF::fastMalloc((16 * v7 + 16));
  v10 = v8;
  v11 = v8 + 16;
  if (v7)
  {
    bzero((v8 + 16), 16 * v7);
  }

  *a1 = v11;
  v10[2] = v7 - 1;
  v10[3] = v7;
  *v10 = 0;
  v10[1] = v6;
  if (v5)
  {
    v12 = 0;
    v13 = 0;
    do
    {
      v14 = (v4 + 16 * v12);
      v15 = *v14;
      if (*v14 != -1)
      {
        if (v15)
        {
          v17 = *a1;
          if (*a1)
          {
            v18 = *(v17 - 8);
          }

          else
          {
            v18 = 0;
          }

          v19 = *(v15 + 4);
          if (v19 < 0x100)
          {
            v20 = WTF::StringImpl::hashSlowCase(v15);
          }

          else
          {
            v20 = v19 >> 8;
          }

          v21 = 0;
          do
          {
            v22 = v20 & v18;
            v20 = ++v21 + v22;
          }

          while (*(v17 + 16 * v22));
          v23 = v17 + 16 * v22;
          v24 = *(v23 + 8);
          *(v23 + 8) = 0;
          if (v24)
          {
            (*(*v24 + 8))(v24);
            v25 = *v23;
            *v23 = 0;
            if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v25, v9);
            }
          }

          else
          {
            *v23 = 0;
          }

          v26 = *v14;
          *v14 = 0;
          *(v14 + 1) = 0;
          *v23 = v26;
          v27 = *(v14 + 1);
          *(v14 + 1) = 0;
          if (v27)
          {
            (*(*v27 + 8))(v27);
          }

          v28 = *v14;
          *v14 = 0;
          if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v28, v9);
          }

          if (v14 == a2)
          {
            v13 = v23;
          }
        }

        else
        {
          v16 = *(v14 + 1);
          *(v14 + 1) = 0;
          if (v16)
          {
            (*(*v16 + 8))(v16);
            v15 = *v14;
          }

          *v14 = 0;
          if (v15)
          {
            if (atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v15, v9);
            }
          }
        }
      }

      ++v12;
    }

    while (v12 != v5);
  }

  else
  {
    v13 = 0;
    result = 0;
    if (!v4)
    {
      return result;
    }
  }

  WTF::fastFree((v4 - 16), v9);
  return v13;
}

void *WTF::Detail::CallableWrapper<std::__1<WTF::HashMap<WTF::Vector,WTF::Function<JSC::JSValue ()(WTF::HashMap::JSGlobalObject &)>,WTF::DefaultHash<WTF::Vector>,WTF::HashTraits<WTF::Vector>,WTF::DefaultHash<WTF::HashMap::JSGlobalObject &>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>>> WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>> const(std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)::{lambda(JSC::JSValue)#1},WTF::Function,JSC::JSValue>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1133D38;
  WebKit::JavaScriptEvaluationResult::~JavaScriptEvaluationResult((a1 + 1), a2);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<std::__1<WTF::HashMap<WTF::Vector,WTF::Function<JSC::JSValue ()(WTF::HashMap::JSGlobalObject &)>,WTF::DefaultHash<WTF::Vector>,WTF::HashTraits<WTF::Vector>,WTF::DefaultHash<WTF::HashMap::JSGlobalObject &>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>>> WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>> const(std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)::{lambda(JSC::JSValue)#1},WTF::Function,JSC::JSValue>::~CallableWrapper(uint64_t a1, void *a2)
{
  *a1 = &unk_1F1133D38;
  WebKit::JavaScriptEvaluationResult::~JavaScriptEvaluationResult((a1 + 8), a2);

  return WTF::fastFree(a1, v3);
}

uint64_t WTF::Detail::CallableWrapper<std::__1<WTF::HashMap<WTF::Vector,WTF::Function<JSC::JSValue ()(WTF::HashMap::JSGlobalObject &)>,WTF::DefaultHash<WTF::Vector>,WTF::HashTraits<WTF::Vector>,WTF::DefaultHash<WTF::HashMap::JSGlobalObject &>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>>> WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>> const(std::__1<WTF::Vector<WebKit::JavaScriptEvaluationResult::pair<WTF::String,std::experimental::fundamentals_v3::expected>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)::{lambda(JSC::JSValue)#1},WTF::Function,JSC::JSValue>::call(uint64_t a1, JSContextRef ctx)
{
  GlobalContext = JSContextGetGlobalContext(ctx);
  result = WebKit::JavaScriptEvaluationResult::toJS((a1 + 8), GlobalContext, v4);
  if (!result)
  {
    return 2;
  }

  return result;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = a1;
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        v6 = *(v4 + 8);
        *(v4 + 8) = 0;
        if (v6)
        {
          (*(*v6 + 8))(v6);
          v5 = *v4;
        }

        *v4 = 0;
        if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v5, a2);
        }
      }

      v4 += 16;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WebCore::RunJavaScriptParameters::RunJavaScriptParameters(uint64_t a1, uint64_t *a2, char a3, uint64_t *a4, char a5, uint64_t *a6, char a7, char a8)
{
  v13 = *a2;
  *a2 = 0;
  *a1 = v13;
  *(a1 + 8) = a3;
  WTF::URL::URL(a1 + 16, a4);
  *(a1 + 56) = a5;
  *(a1 + 64) = 0;
  *(a1 + 72) = 0;
  if (*(a6 + 8) == 1)
  {
    *(a1 + 64) = 0;
    v15 = *a6;
    *a6 = 0;
    *(a1 + 64) = v15;
    *(a1 + 72) = 1;
  }

  *(a1 + 80) = a7;
  *(a1 + 81) = a8;
  return a1;
}

void WebCore::RunJavaScriptParameters::~RunJavaScriptParameters(WebCore::RunJavaScriptParameters *this, WTF::StringImpl *a2)
{
  if (*(this + 72) == 1)
  {
    v5 = *(this + 8);
    if (v5)
    {
      WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Function<JSC::JSValue ()(JSC::JSGlobalObject &)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v5, a2);
    }
  }

  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *this;
  *this = 0;
  if (v4)
  {
    if (atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v4, a2);
    }
  }
}

void *WTF::Detail::CallableWrapper<WebKit::detectDataInFrame(WTF::Ref<WebCore::Frame,WTF::RawPtrTraits<WebCore::Frame>,WTF::DefaultRefDerefTraits<WebCore::Frame>> const&,WTF::OptionSet<WebCore::DataDetectorType>,std::optional<double> const&,WTF::UniqueRef<WebKit::DataDetectionResult> &&,WTF::CompletionHandler<void ()(WebKit::DataDetectionResult&&)> &&)::$_0,void,NSArray *>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1133D60;
  v3 = a1[5];
  a1[5] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = a1[2];
  a1[2] = 0;
  if (v4)
  {
    std::default_delete<WebKit::DataDetectionResult>::operator()[abi:sn200100](v4, a2);
  }

  v5 = a1[1];
  a1[1] = 0;
  if (v5)
  {
    if (v5[4] == 1)
    {
      (*(*v5 + 8))(v5);
    }

    else
    {
      --v5[4];
    }
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::detectDataInFrame(WTF::Ref<WebCore::Frame,WTF::RawPtrTraits<WebCore::Frame>,WTF::DefaultRefDerefTraits<WebCore::Frame>> const&,WTF::OptionSet<WebCore::DataDetectorType>,std::optional<double> const&,WTF::UniqueRef<WebKit::DataDetectionResult> &&,WTF::CompletionHandler<void ()(WebKit::DataDetectionResult&&)> &&)::$_0,void,NSArray *>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1133D60;
  v3 = *(this + 5);
  *(this + 5) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4)
  {
    std::default_delete<WebKit::DataDetectionResult>::operator()[abi:sn200100](v4, a2);
  }

  v5 = *(this + 1);
  *(this + 1) = 0;
  if (v5)
  {
    if (v5[4] == 1)
    {
      (*(*v5 + 8))(v5);
    }

    else
    {
      --v5[4];
    }
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::detectDataInFrame(WTF::Ref<WebCore::Frame,WTF::RawPtrTraits<WebCore::Frame>,WTF::DefaultRefDerefTraits<WebCore::Frame>> const&,WTF::OptionSet<WebCore::DataDetectorType>,std::optional<double> const&,WTF::UniqueRef<WebKit::DataDetectionResult> &&,WTF::CompletionHandler<void ()(WebKit::DataDetectionResult&&)> &&)::$_0,void,NSArray *>::call(uint64_t a1, const void *a2)
{
  v4 = WebCore::LocalFrame::dataDetectionResults(*(a1 + 8));
  if (a2)
  {
    CFRetain(a2);
  }

  v5 = *v4;
  *v4 = a2;
  if (v5)
  {
    CFRelease(v5);
  }

  v6 = *(a1 + 8);
  v7 = *(v6 + 120);
  if (v7)
  {
    v7 = *(v7 + 8);
  }

  if (v7 == v6)
  {
    v8 = *(a1 + 16);
    if (a2)
    {
      CFRetain(a2);
    }

    v9 = *v8;
    *v8 = a2;
    if (v9)
    {
      CFRelease(v9);
    }
  }

  v10 = WebCore::FrameTree::traverseNext((*(a1 + 8) + 40), 0);
  if (v10)
  {
    v11 = v10;
    *(v10 + 16) += 2;
    result = WebKit::detectDataInFrame(v10, *(a1 + 48), a1 + 24, (a1 + 16), (a1 + 40));
    v13 = v11[4] - 1;
    if (v11[4] == 1)
    {
      result = (*(*v11 + 8))(v11);
      v13 = v11[4];
    }

    else
    {
      v11[4] = v13;
    }

    v14 = v13 - 1;
    if (v14)
    {
      v11[4] = v14;
      return result;
    }

    v17 = *(*v11 + 8);
    v18 = v11;
  }

  else
  {
    v15 = *(a1 + 16);
    v16 = *(a1 + 40);
    *(a1 + 40) = 0;
    (*(*v16 + 16))(v16, v15);
    v17 = *(*v16 + 8);
    v18 = v16;
  }

  return v17(v18);
}

uint64_t std::default_delete<WebKit::DataDetectionResult>::operator()[abi:sn200100](WTF *this, void *a2)
{
  v3 = *this;
  *this = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t std::array<mpark::variant<WebCore::PredominantColorType,WebCore::Color>,4ul>::operator=(uint64_t a1, unsigned __int8 *a2)
{
  for (i = 0; i != 64; i += 16)
  {
    v5 = (a1 + i);
    v6 = *(a1 + i + 8);
    v7 = a2[i + 8];
    if (v6 != 255 || v7 != 255)
    {
      if (v7 == 255)
      {
        if (v6 != 255 && v6 != 0)
        {
          v9 = *v5;
          if ((*v5 & 0x8000000000000) != 0)
          {
            v10 = (v9 & 0xFFFFFFFFFFFFLL);
            if (atomic_fetch_add((v9 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
            {
              atomic_store(1u, v10);
              WTF::fastFree(v10, a2);
              v5 = (a1 + i);
            }
          }
        }

        *(v5 + 8) = -1;
      }

      else
      {
        v12 = a1 + i;
        _ZN5mpark6detail10visitation3alt12visit_alt_atIZNS0_10assignmentINS0_6traitsIJN7WebCore20PredominantColorTypeENS6_5ColorEEEEE14generic_assignIRKNS0_15copy_assignmentIS9_LNS0_5TraitE1EEEEEvOT_EUlRSH_OT0_E_JRSA_SG_EEEDcmSI_DpOT0_(v7, &v12, v5, &a2[i]);
      }
    }
  }

  return a1;
}

uint64_t WebKit::EditorState::operator=(uint64_t a1, __int128 *a2)
{
  v4 = *a2;
  *(a1 + 15) = *(a2 + 15);
  *a1 = v4;
  std::__optional_storage_base<WebKit::EditorState::PostLayoutData,false>::__assign_from[abi:sn200100]<std::__optional_copy_assign_base<WebKit::EditorState::PostLayoutData,false> const&>((a1 + 32), (a2 + 2));
  std::__optional_storage_base<WebKit::EditorState::VisualData,false>::__assign_from[abi:sn200100]<std::__optional_copy_assign_base<WebKit::EditorState::VisualData,false> const&>((a1 + 272), a2 + 272);
  return a1;
}

void WebKit::WebPage::PrintContextAccessScope::~PrintContextAccessScope(WebKit::WebPage::PrintContextAccessScope *this)
{
  v2 = *(this + 8);
  v3 = *this;
  *(v3 + 640) = v2;
  if ((v2 & 1) != 0 || *(v3 + 641) != 1)
  {
    *this = 0;
    goto LABEL_6;
  }

  WebKit::WebPage::endPrintingImmediately(v3);
  v3 = *this;
  *this = 0;
  if (v3)
  {
LABEL_6:
    CFRelease(*(v3 + 8));
  }
}

uint64_t WebKit::hasEnabledHorizontalScrollbar(WebKit *this, WebCore::ScrollableArea *a2)
{
  result = (*(*this + 392))(this, a2);
  if (result)
  {
    v3 = result;
    v4 = *(result + 8);
    *(result + 8) = v4 + 1;
    result = *(result + 136);
    if (v4)
    {
      v3[2] = v4;
    }

    else
    {
      v5 = result;
      (*(*v3 + 8))(v3);
      return v5;
    }
  }

  return result;
}

void *WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::begin(void *a1, void **a2)
{
  v4 = WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::begin(a2);
  *a1 = a2;
  a1[1] = v4;
  a1[2] = v5;
  v6 = *a2;
  if (*a2)
  {
    v7 = *(v6 - 1);
    v8 = &v6[v7];
  }

  else
  {
    v8 = 0;
    v7 = 0;
  }

  a1[3] = v8;
  a1[4] = &v6[v7];

  return WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(a1);
}

void *WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::operator++(void *a1)
{
  v2 = a1[2];
  v3 = (a1[1] + 8);
  a1[1] = v3;
  while (v3 != v2 && (*v3 + 1) <= 1)
  {
    a1[1] = ++v3;
  }

  WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(a1);
  ++*(*a1 + 8);
  return a1;
}

void *WTF::WeakHashSet<WebCore::ScrollableArea,WTF::DefaultWeakPtrImpl,(WTF::EnableWeakPtrThreadingAssertions)1>::WeakHashSetConstIterator::skipEmptyBuckets(void *result)
{
  v1 = result[3];
  v2 = result[1];
  while (v2 != v1 && !*(*v2 + 8))
  {
    v2 += 8;
    result[1] = v2;
    v3 = result[2];
    while (v2 != v3 && (*v2 + 1) <= 1)
    {
      v2 += 8;
      result[1] = v2;
    }
  }

  return result;
}

uint64_t *WTF::UniqueRef<WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~UniqueRef(uint64_t *a1, void *a2)
{
  v3 = *a1;
  *a1 = 0;
  if (v3)
  {
    v4 = WTF::Vector<WebKit::TouchEventData,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3, a2);
    WTF::fastFree(v4, v5);
  }

  return a1;
}

uint64_t std::pair<WTF::String,WTF::Vector<WebCore::IntSize,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~pair(uint64_t a1, void *a2)
{
  v3 = *(a1 + 8);
  if (v3)
  {
    *(a1 + 8) = 0;
    *(a1 + 16) = 0;
    WTF::fastFree(v3, a2);
  }

  v4 = *a1;
  *a1 = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  return a1;
}

uint64_t WTF::HashTable<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::FastMalloc>::deallocateTable(uint64_t *a1, void *a2)
{
  v3 = *(a1 - 1);
  if (v3)
  {
    v4 = a1;
    do
    {
      v5 = *v4;
      if (*v4 != -1)
      {
        *v4 = 0;
        if (v5)
        {
          WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v5 + 8));
        }
      }

      ++v4;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 2), a2);
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::startObservingNowPlayingMetadata(void)::$_0,void,WebCore::NowPlayingMetadata const&>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1133D88;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::startObservingNowPlayingMetadata(void)::$_0,void,WebCore::NowPlayingMetadata const&>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1133D88;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WebKit::WebPage::startObservingNowPlayingMetadata(void)::$_0,void,WebCore::NowPlayingMetadata const&>::call(uint64_t a1, uint64_t *a2)
{
  v2 = *(a1 + 8);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      CFRetain(*(v3 - 8));
      v5 = (*(*(v3 + 16) + 56))(v3 + 16);
      v7 = IPC::Encoder::operator new(0x238, v6);
      *v7 = 2304;
      *(v7 + 2) = 0;
      *(v7 + 3) = 0;
      *(v7 + 1) = v5;
      *(v7 + 68) = 0;
      *(v7 + 70) = 0;
      *(v7 + 69) = 0;
      IPC::Encoder::encodeHeader(v7);
      v12 = v7;
      IPC::ArgumentCoder<WebCore::NowPlayingMetadata,void>::encode(v7, a2);
      (*(*(v3 + 16) + 32))(v3 + 16, &v12, 0);
      v9 = v12;
      v12 = 0;
      if (v9)
      {
        IPC::Encoder::~Encoder(v9, v8);
        bmalloc::api::tzoneFree(v10, v11);
      }

      CFRelease(*(v3 - 8));
    }
  }
}

_DWORD *WTF::VectorTypeOperations<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate>::moveOverlapping(_DWORD *result, void *a2, void *a3)
{
  v3 = a3;
  v4 = a2;
  v5 = result;
  if (result <= a3)
  {
    if (a2 != result)
    {
      v7 = (a3 + a2 - result - 8);
      do
      {
        v8 = *(v4 - 2);
        v4 -= 2;
        *v4 = 0;
        *(v7 - 1) = v8;
        *v7 = v4[1];
        result = *v4;
        *v4 = 0;
        if (result)
        {
          if (result[7] == 2)
          {
            result = WebCore::Node::removedLastRef(result);
          }

          else
          {
            result[7] -= 2;
          }
        }

        v7 -= 2;
      }

      while (v4 != v5);
    }
  }

  else
  {
    while (v5 != v4)
    {
      v6 = *v5;
      *v5 = 0;
      *v3 = v6;
      v3[1] = v5[1];
      result = *v5;
      *v5 = 0;
      if (result)
      {
        if (result[7] == 2)
        {
          result = WebCore::Node::removedLastRef(result);
        }

        else
        {
          result[7] -= 2;
        }
      }

      v3 += 2;
      v5 += 2;
    }
  }

  return result;
}

WebKit::FrameInfoData **std::unique_ptr<WebKit::FrameInfoData>::operator=[abi:sn200100](WebKit::FrameInfoData **a1)
{
  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    WebKit::FrameInfoData::~FrameInfoData(v2);
    WTF::fastFree(v4, v5);
  }

  return a1;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      if (*(v4 - 1) != -1)
      {
        v5 = *v4;
        *v4 = 0;
        if (v5)
        {
          WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v5 + 8), a2);
        }
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

WTF *WTF::RefCounted<WebCore::HighlightRegistry>::deref(WTF *result, void *a2)
{
  v2 = result;
  if (*result == 1)
  {
    WTF::Vector<WTF::AtomString,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(result + 16, a2);
    v4 = *(v2 + 1);
    if (v4)
    {
      v5 = *(v4 - 4);
      if (v5)
      {
        for (i = 0; i != v5; ++i)
        {
          v7 = v4 + 16 * i;
          v8 = *v7;
          if (*v7 != -1)
          {
            v9 = *(v7 + 8);
            *(v7 + 8) = 0;
            if (v9)
            {
              if (*v9 == 1)
              {
                v10 = *(v9 + 20);
                if (v10)
                {
                  v11 = *(v9 + 8);
                  v12 = 8 * v10;
                  do
                  {
                    v13 = *v11;
                    *v11 = 0;
                    if (v13)
                    {
                      if (*(v13 + 8) == 1)
                      {
                        v21 = v11;
                        v22 = v12;
                        v20 = v9;
                        v14 = *(v13 + 40);
                        v23 = v13;
                        *(v13 + 40) = 0;
                        if (v14)
                        {
                          if (*(v14 + 7) == 2)
                          {
                            WebCore::Node::removedLastRef(v14);
                          }

                          else
                          {
                            *(v14 + 7) -= 2;
                          }
                        }

                        v15 = *(v23 + 3);
                        *(v23 + 3) = 0;
                        if (v15)
                        {
                          if (*(v15 + 7) == 2)
                          {
                            WebCore::Node::removedLastRef(v15);
                          }

                          else
                          {
                            *(v15 + 7) -= 2;
                          }
                        }

                        v16 = *(v23 + 2);
                        *(v23 + 2) = 0;
                        if (v16)
                        {
                          if (v16[2] == 1)
                          {
                            (*(*v16 + 8))(v16);
                          }

                          else
                          {
                            --v16[2];
                          }
                        }

                        if (*(v23 + 2) != 1)
                        {
                          __break(0xC471u);
                          JUMPOUT(0x19E4127F0);
                        }

                        if (*v23)
                        {
                          *(*v23 + 8) = 0;
                          v17 = *v23;
                          *v23 = 0;
                          if (v17)
                          {
                            if (atomic_fetch_add(v17, 0xFFFFFFFF) == 1)
                            {
                              atomic_store(1u, v17);
                              WTF::fastFree(v17, v3);
                            }
                          }
                        }

                        WTF::fastFree(v23, v3);
                        v9 = v20;
                        v11 = v21;
                        v12 = v22;
                      }

                      else
                      {
                        --*(v13 + 8);
                      }
                    }

                    ++v11;
                    v12 -= 8;
                  }

                  while (v12);
                }

                v18 = *(v9 + 8);
                if (v18)
                {
                  *(v9 + 8) = 0;
                  *(v9 + 16) = 0;
                  v19 = v9;
                  WTF::fastFree(v18, v3);
                  v9 = v19;
                }

                if (*v9 != 1)
                {
                  goto LABEL_51;
                }

                WTF::fastFree(v9, v3);
                v7 = v4 + 16 * i;
                v8 = *v7;
              }

              else
              {
                --*v9;
              }
            }

            *v7 = 0;
            if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v8, v3);
            }
          }
        }
      }

      WTF::fastFree((v4 - 16), v3);
    }

    if (*v2 != 1)
    {
LABEL_51:
      __break(0xC471u);
      JUMPOUT(0x19E4127D0);
    }

    return WTF::fastFree(v2, v3);
  }

  else
  {
    --*result;
  }

  return result;
}

void WTF::RunLoop::Timer::Timer<WebKit::WebPage>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::WebPage *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}::operator()(uint64_t *a1)
{
  v2 = *a1;
  if (*a1)
  {
    CFRetain(*(v2 + 8));
    v3 = *a1;
  }

  else
  {
    v3 = 0;
  }

  v4 = a1[1];
  v5 = a1[2];
  v6 = (v3 + (v5 >> 1));
  if (v5)
  {
    v4 = *(*v6 + v4);
  }

  v4(v6);
  if (v2)
  {
    v7 = *(v2 + 8);

    CFRelease(v7);
  }
}

_DWORD *WTF::Detail::CallableWrapper<WebKit::WebPage::WebPage(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebPageCreationParameters &&)::$_0,void,PAL::HysteresisState>::call(_DWORD *result, int a2)
{
  if (a2)
  {
    v2 = *(*(*(result + 1) + 88) + 40);
    if (v2)
    {
      v3 = *(v2 + 8);
      if (v3)
      {
        if ((*(v3 + 136) & 1) == 0)
        {
          ++*(v3 + 16);
          v4 = *(*(v3 + 208) + 32);
          WebCore::HistoryController::protectedCurrentItem(&v6, v4);
          result = WebCore::HistoryController::saveScrollPositionAndViewStateToItem(v4, v6);
          v5 = v6;
          v6 = 0;
          if (v5)
          {
            result = WTF::RefCounted<WebCore::HistoryItem>::deref(v5 + 2);
          }

          if (*(v3 + 16) == 1)
          {
            return (*(*v3 + 8))(v3);
          }

          else
          {
            --*(v3 + 16);
          }
        }
      }
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<std::__bind<void (WebKit::WebPage::*&)(void),WebKit::WebPage*>,void>::call(void *a1)
{
  v1 = a1[2];
  v2 = a1[1];
  v3 = (a1[3] + (v1 >> 1));
  if (v1)
  {
    return (*(*v3 + v2))();
  }

  else
  {
    return v2(v3);
  }
}

WebCore::TimerBase *WebCore::Timer::Timer<WebKit::WebPage,WebKit::WebPage>(WebCore::TimerBase *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  *WebCore::TimerBase::TimerBase(a1) = &unk_1F10EB388;
  v8 = WTF::fastMalloc(0x20);
  *v8 = &unk_1F1133E28;
  v8[1] = a2;
  v8[2] = a3;
  v8[3] = a4;
  *(a1 + 6) = v8;
  return a1;
}

void WTF::Detail::CallableWrapper<WebCore::Timer::Timer<WebKit::WebPage,WebKit::WebPage>(WebKit::WebPage &,void (WebKit::WebPage::*)(void))::{lambda(void)#1},void>::call(void *a1)
{
  v2 = a1[1];
  CFRetain(*(v2 + 8));
  v3 = a1[2];
  v4 = a1[3];
  v5 = (a1[1] + (v4 >> 1));
  if (v4)
  {
    v3 = *(*v5 + v3);
  }

  v3(v5);
  v6 = *(v2 + 8);

  CFRelease(v6);
}

uint64_t WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::~Vector(uint64_t a1, void *a2)
{
  v3 = *(a1 + 12);
  if (v3)
  {
    WTF::VectorTypeOperations<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::destruct(*a1, (*a1 + 24 * v3));
  }

  v4 = *a1;
  if (*a1)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v4, a2);
  }

  return a1;
}

atomic_uint *WTF::VectorTypeOperations<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::destruct(atomic_uint *result, void *a2)
{
  if (result != a2)
  {
    v3 = result;
    do
    {
      WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((v3 + 1), a2);
      result = *v3;
      *v3 = 0;
      if (result)
      {
        result = WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(result, a2);
      }

      v3 += 3;
    }

    while (v3 != a2);
  }

  return result;
}

uint64_t *WebKit::mainFrameCreationParameters<WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>>(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&,WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>)::{lambda(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&&)#1}::~Ref(uint64_t *a1)
{
  WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit(a1 + 8);
  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<mpark::variant<WebCore::PageConfiguration::LocalMainFrameCreationParameters,WTF::CompletionHandler<WTF::UniqueRef<WebCore::RemoteFrameClient> ()(WebCore::RemoteFrame &)>> WebKit::mainFrameCreationParameters<WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>>(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&,WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>)::{lambda(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&&,WebCore::Frame::FrameType&)#1},WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WebCore::LocalFrame &,WebCore::FrameLoader &>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F1133E50;
  WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit((a1 + 16));
  v2 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

{
  *a1 = &unk_1F1133E50;
  WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit((a1 + 16));
  v3 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(a1, v2);
}

WebCore::LocalFrameLoaderClient *WTF::Detail::CallableWrapper<mpark::variant<WebCore::PageConfiguration::LocalMainFrameCreationParameters,WTF::CompletionHandler<WTF::UniqueRef<WebCore::RemoteFrameClient> ()(WebCore::RemoteFrame &)>> WebKit::mainFrameCreationParameters<WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>>(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&,WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>)::{lambda(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&&,WebCore::Frame::FrameType&)#1},WTF::UniqueRef<WebCore::LocalFrameLoaderClient>,WebCore::LocalFrame &,WebCore::FrameLoader &>::call@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, WebCore::FrameLoader *a3@<X2>, WebCore::LocalFrameLoaderClient **a4@<X8>)
{
  v8 = WTF::fastMalloc(0x60);
  result = WebKit::WebLocalFrameLoaderClient::WebLocalFrameLoaderClient(v8, a2, a3, (a1 + 8), (a1 + 16));
  *a4 = result;
  return result;
}

uint64_t WTF::Detail::CallableWrapper<mpark::variant<WebCore::PageConfiguration::LocalMainFrameCreationParameters,WTF::CompletionHandler<WTF::UniqueRef<WebCore::RemoteFrameClient> ()(WebCore::RemoteFrame &)>> WebKit::mainFrameCreationParameters<WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>>(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&,WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>)::{lambda(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&&)#1},WTF::UniqueRef<WebCore::RemoteFrameClient>,WebCore::RemoteFrame &>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F1133E78;
  WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit((a1 + 16));
  v2 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

{
  *a1 = &unk_1F1133E78;
  WTF::ScopeExit<WTF::Function<void ()(void)>>::~ScopeExit((a1 + 16));
  v3 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(a1, v2);
}

__n128 WTF::Detail::CallableWrapper<mpark::variant<WebCore::PageConfiguration::LocalMainFrameCreationParameters,WTF::CompletionHandler<WTF::UniqueRef<WebCore::RemoteFrameClient> ()(WebCore::RemoteFrame &)>> WebKit::mainFrameCreationParameters<WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>>(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&,WebCore::Frame::FrameType,WTF::OptionSet<WebCore::SandboxFlag>)::{lambda(WTF::Ref<WebKit::WebFrame,WTF::RawPtrTraits<WebKit::WebFrame>,WTF::DefaultRefDerefTraits<WebKit::WebFrame>> &&&)#1},WTF::UniqueRef<WebCore::RemoteFrameClient>,WebCore::RemoteFrame &>::call@<Q0>(uint64_t a1@<X0>, __n128 **a2@<X8>)
{
  NonCompactSlow = bmalloc::api::tzoneAllocateNonCompactSlow();
  result = *(a1 + 8);
  *(a1 + 8) = 0;
  *(a1 + 16) = 0;
  NonCompactSlow[1] = result;
  v6 = *(a1 + 24);
  *(a1 + 24) = 0;
  NonCompactSlow[2].n128_u8[0] = v6;
  NonCompactSlow->n128_u64[0] = &unk_1F1132500;
  NonCompactSlow->n128_u64[1] = &unk_1F11325C0;
  *a2 = NonCompactSlow;
  return result;
}

void WebKit::WebSpeechRecognitionProvider::~WebSpeechRecognitionProvider(WebKit::WebSpeechRecognitionProvider *this, void *a2)
{
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    if (v3[2] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[2];
    }
  }

  bmalloc::api::tzoneFree(this, a2);
}

uint64_t WebKit::WebSpeechRecognitionProvider::speechRecognitionConnection(WebKit::WebSpeechRecognitionProvider *this)
{
  result = *(this + 2);
  if (!result)
  {
    v3 = *(this + 1);
    v4 = WTF::fastMalloc(0x38);
    result = WebKit::WebSpeechRecognitionConnection::WebSpeechRecognitionConnection(v4, v3);
    v5 = *(this + 2);
    *(this + 2) = result;
    if (v5)
    {
      if (v5[2] == 1)
      {
        (*(*v5 + 8))(v5);
        return *(this + 2);
      }

      else
      {
        --v5[2];
      }
    }
  }

  return result;
}

WebKit::WebProcess *WTF::Detail::CallableWrapper<WebKit::WebPage::updateThrottleState(void)::$_0,void>::call(uint64_t a1)
{
  {
    byte_1ED643870 = 0;
    WebKit::WebServiceWorkerProvider::singleton(void)::provider = &unk_1F112FBD8;
  }

  return WebKit::WebServiceWorkerProvider::updateThrottleState(&WebKit::WebServiceWorkerProvider::singleton(void)::provider, *(a1 + 8));
}

WTF *WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::deleteBucket(WTF **a1, void *a2)
{
  result = *a1;
  *a1 = 0;
  if (result)
  {
    if (*result == 1)
    {
      result = WTF::fastFree(result, a2);
    }

    else
    {
      --*result;
    }
  }

  *a1 = -1;
  return result;
}

uint64_t *WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::shrinkToBestSize(uint64_t *result)
{
  if (!*result)
  {
    LODWORD(v1) = 0;
LABEL_3:
    v2 = v1;
    v3 = 1;
    goto LABEL_4;
  }

  v1 = *(*result - 12);
  if (v1 <= 1)
  {
    goto LABEL_3;
  }

  v6 = __clz(v1 - 1);
  if (!v6)
  {
    __break(1u);
    return result;
  }

  v3 = (1 << -v6);
  if (v1 > 0x400)
  {
    if (v3 > 2 * v1)
    {
      goto LABEL_6;
    }

    goto LABEL_5;
  }

  v2 = *(*result - 12);
LABEL_4:
  if (3 * v3 <= 4 * v2)
  {
LABEL_5:
    LODWORD(v3) = 2 * v3;
  }

LABEL_6:
  if (v3 > 0x400)
  {
    v4 = 0.416666667;
  }

  else
  {
    v4 = 0.604166667;
  }

  if (v3 * v4 <= v1)
  {
    LODWORD(v3) = 2 * v3;
  }

  if (v3 <= 8)
  {
    v5 = 8;
  }

  else
  {
    v5 = v3;
  }

  return WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::rehash(result, v5, 0);
}

void *WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, WTF **a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((8 * a2 + 16));
  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = (v6 + 8 * v11);
      v14 = *v13;
      if (*v13 != -1)
      {
        if (v14)
        {
          v15 = *a1;
          if (*a1)
          {
            v16 = *(v15 - 8);
          }

          else
          {
            v16 = 0;
          }

          v17 = (v14 + ~(v14 << 32)) ^ ((v14 + ~(v14 << 32)) >> 22);
          v18 = 9 * ((v17 + ~(v17 << 13)) ^ ((v17 + ~(v17 << 13)) >> 8));
          v19 = (v18 ^ (v18 >> 15)) + ~((v18 ^ (v18 >> 15)) << 27);
          v20 = v16 & ((v19 >> 31) ^ v19);
          v21 = 1;
          do
          {
            v22 = v20;
            v23 = *(v15 + 8 * v20);
            v20 = (v20 + v21++) & v16;
          }

          while (v23);
          v24 = (v15 + 8 * v22);
          *v13 = 0;
          *v24 = v14;
          v25 = *v13;
          *v13 = 0;
          if (v25)
          {
            if (*v25 == 1)
            {
              WTF::fastFree(v25, v10);
            }

            else
            {
              --*v25;
            }
          }

          if (v13 == a3)
          {
            v12 = v24;
          }
        }

        else
        {
          *v13 = 0;
        }
      }

      ++v11;
    }

    while (v11 != v7);
  }

  else
  {
    v12 = 0;
    result = 0;
    if (!v6)
    {
      return result;
    }
  }

  WTF::fastFree((v6 - 16), v10);
  return v12;
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::markLayersVolatileOrRetry(WebKit::WebPage::MarkLayersVolatileDontRetryReason)::$_0,void,BOOL>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1133F40;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::markLayersVolatileOrRetry(WebKit::WebPage::MarkLayersVolatileDontRetryReason)::$_0,void,BOOL>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1133F40;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(this, a2);
}

IPC::Encoder *IPC::Connection::sendSync<Messages::WebPageProxy::ScreenToRootView>@<X0>(unsigned __int8 *a1@<X0>, int **a2@<X1>, uint64_t a3@<X2>, char a4@<W3>, uint64_t a5@<X8>, double a6@<D0>)
{
  IPC::Connection::createSyncMessageEncoder(0x1049, a3, v27);
  v11 = v27[0];
  if (a4)
  {
    v12 = *(v27[0] + 2);
    if (v12)
    {
      if (!*(v27[0] + 3))
      {
        __break(1u);
        goto LABEL_22;
      }
    }

    else
    {
      v12 = v27[0] + 32;
    }

    *v12 |= 4u;
    a1[92] = 1;
  }

  IPC::ArgumentCoder<WebCore::IntPoint,void>::encode(v11, *a2);
  v11 = IPC::Connection::sendSyncMessage(a1, v27[1], v27, a4, &v25, a6);
  if (!v26)
  {
    v14 = v25;
    v25 = 0;
    if (*(v14 + 25) == 3194)
    {
      v15 = 11;
    }

    else
    {
      v16 = IPC::Decoder::decode<std::tuple<WebCore::IntPoint>>(v14);
      if (v13)
      {
        *a5 = v14;
        *(a5 + 8) = v16;
        *(a5 + 16) = 0;
        goto LABEL_15;
      }

      v15 = 14;
    }

    *a5 = v15;
    *(a5 + 16) = 1;
    IPC::Decoder::~Decoder(v14);
    bmalloc::api::tzoneFree(v17, v18);
    goto LABEL_15;
  }

  if (v26 != 1)
  {
LABEL_22:
    mpark::throw_bad_variant_access(v11);
  }

  *a5 = v25;
  *(a5 + 16) = 1;
LABEL_15:
  if (!v26)
  {
    v19 = v25;
    v25 = 0;
    if (v19)
    {
      IPC::Decoder::~Decoder(v19);
      bmalloc::api::tzoneFree(v23, v24);
    }
  }

  result = v27[0];
  v27[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v13);
    return bmalloc::api::tzoneFree(v21, v22);
  }

  return result;
}

IPC::Encoder *IPC::Connection::sendSync<Messages::WebPageProxy::RootViewPointToScreen>@<X0>(unsigned __int8 *a1@<X0>, int **a2@<X1>, uint64_t a3@<X2>, char a4@<W3>, uint64_t a5@<X8>, double a6@<D0>)
{
  IPC::Connection::createSyncMessageEncoder(0x1042, a3, v27);
  v11 = v27[0];
  if (a4)
  {
    v12 = *(v27[0] + 2);
    if (v12)
    {
      if (!*(v27[0] + 3))
      {
        __break(1u);
        goto LABEL_22;
      }
    }

    else
    {
      v12 = v27[0] + 32;
    }

    *v12 |= 4u;
    a1[92] = 1;
  }

  IPC::ArgumentCoder<WebCore::IntPoint,void>::encode(v11, *a2);
  v11 = IPC::Connection::sendSyncMessage(a1, v27[1], v27, a4, &v25, a6);
  if (!v26)
  {
    v14 = v25;
    v25 = 0;
    if (*(v14 + 25) == 3194)
    {
      v15 = 11;
    }

    else
    {
      v16 = IPC::Decoder::decode<std::tuple<WebCore::IntPoint>>(v14);
      if (v13)
      {
        *a5 = v14;
        *(a5 + 8) = v16;
        *(a5 + 16) = 0;
        goto LABEL_15;
      }

      v15 = 14;
    }

    *a5 = v15;
    *(a5 + 16) = 1;
    IPC::Decoder::~Decoder(v14);
    bmalloc::api::tzoneFree(v17, v18);
    goto LABEL_15;
  }

  if (v26 != 1)
  {
LABEL_22:
    mpark::throw_bad_variant_access(v11);
  }

  *a5 = v25;
  *(a5 + 16) = 1;
LABEL_15:
  if (!v26)
  {
    v19 = v25;
    v25 = 0;
    if (v19)
    {
      IPC::Decoder::~Decoder(v19);
      bmalloc::api::tzoneFree(v23, v24);
    }
  }

  result = v27[0];
  v27[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v13);
    return bmalloc::api::tzoneFree(v21, v22);
  }

  return result;
}

IPC::Encoder *IPC::Connection::sendSync<Messages::WebPageProxy::RootViewRectToScreen>@<X0>(unsigned __int8 *a1@<X0>, int **a2@<X1>, uint64_t a3@<X2>, char a4@<W3>, uint64_t a5@<X8>, double a6@<D0>)
{
  IPC::Connection::createSyncMessageEncoder(0x1043, a3, v28);
  v11 = v28[0];
  if (a4)
  {
    v12 = *(v28[0] + 2);
    if (v12)
    {
      if (!*(v28[0] + 3))
      {
        __break(1u);
        goto LABEL_22;
      }
    }

    else
    {
      v12 = v28[0] + 32;
    }

    *v12 |= 4u;
    a1[92] = 1;
  }

  IPC::ArgumentCoder<WebCore::IntRect,void>::encode(v11, *a2);
  v11 = IPC::Connection::sendSyncMessage(a1, v28[1], v28, a4, &v26, a6);
  if (!v27)
  {
    v14 = v26;
    v26 = 0;
    if (*(v14 + 25) == 3194)
    {
      v15 = 11;
    }

    else
    {
      LOBYTE(v24) = 0;
      v25 = 0;
      v14 = IPC::Decoder::operator>><std::tuple<WebCore::IntRect>>(v14, &v24);
      if (v25 == 1)
      {
        *(a5 + 8) = v24;
        *a5 = v14;
        *(a5 + 24) = 0;
        goto LABEL_15;
      }

      v15 = 14;
    }

    *a5 = v15;
    *(a5 + 24) = 1;
    IPC::Decoder::~Decoder(v14);
    bmalloc::api::tzoneFree(v16, v17);
    goto LABEL_15;
  }

  if (v27 != 1)
  {
LABEL_22:
    mpark::throw_bad_variant_access(v11);
  }

  *a5 = v26;
  *(a5 + 24) = 1;
LABEL_15:
  if (!v27)
  {
    v18 = v26;
    v26 = 0;
    if (v18)
    {
      IPC::Decoder::~Decoder(v18);
      bmalloc::api::tzoneFree(v22, v23);
    }
  }

  result = v28[0];
  v28[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v13);
    return bmalloc::api::tzoneFree(v20, v21);
  }

  return result;
}

IPC::Decoder *IPC::Decoder::operator>><std::tuple<WebCore::IntRect>>(IPC::Decoder *a1, uint64_t a2)
{
  v16[2] = *MEMORY[0x1E69E9840];
  IPC::ArgumentCoder<WebCore::IntRect,void>::decode(a1, &v13);
  if (v15)
  {
    v4 = v13;
    v16[0] = *v14;
    *(v16 + 7) = *&v14[7];
    v5 = 1;
  }

  else
  {
    v7 = *a1;
    v8 = *(a1 + 1);
    *a1 = 0;
    *(a1 + 1) = 0;
    v9 = *(a1 + 3);
    if (v9 && v8)
    {
      (*(*v9 + 16))(v9, v7);
      v5 = 0;
      v10 = *a1;
      v11 = *(a1 + 1);
      v12 = *(a1 + 3);
      *a1 = 0;
      *(a1 + 1) = 0;
      v4 = 0;
      if (v12 && v11)
      {
        (*(*v12 + 16))(v12, v10);
        v5 = 0;
        v4 = 0;
      }
    }

    else
    {
      v5 = 0;
      v4 = 0;
      *a1 = 0;
      *(a1 + 1) = 0;
    }
  }

  if (*(a2 + 16) == v5)
  {
    if (*(a2 + 16))
    {
      *a2 = v4;
      *(a2 + 1) = v16[0];
      *(a2 + 8) = *(v16 + 7);
    }
  }

  else if (*(a2 + 16))
  {
    *(a2 + 16) = 0;
  }

  else
  {
    *a2 = v4;
    *(a2 + 1) = v16[0];
    *(a2 + 8) = *(v16 + 7);
    *(a2 + 16) = 1;
  }

  return a1;
}

IPC::Encoder *IPC::Connection::sendSync<Messages::WebPageProxy::AccessibilityScreenToRootView>@<X0>(unsigned __int8 *a1@<X0>, int **a2@<X1>, uint64_t a3@<X2>, char a4@<W3>, uint64_t a5@<X8>, double a6@<D0>)
{
  IPC::Connection::createSyncMessageEncoder(0x1023, a3, v27);
  v11 = v27[0];
  if (a4)
  {
    v12 = *(v27[0] + 2);
    if (v12)
    {
      if (!*(v27[0] + 3))
      {
        __break(1u);
        goto LABEL_22;
      }
    }

    else
    {
      v12 = v27[0] + 32;
    }

    *v12 |= 4u;
    a1[92] = 1;
  }

  IPC::ArgumentCoder<WebCore::IntPoint,void>::encode(v11, *a2);
  v11 = IPC::Connection::sendSyncMessage(a1, v27[1], v27, a4, &v25, a6);
  if (!v26)
  {
    v14 = v25;
    v25 = 0;
    if (*(v14 + 25) == 3194)
    {
      v15 = 11;
    }

    else
    {
      v16 = IPC::Decoder::decode<std::tuple<WebCore::IntPoint>>(v14);
      if (v13)
      {
        *a5 = v14;
        *(a5 + 8) = v16;
        *(a5 + 16) = 0;
        goto LABEL_15;
      }

      v15 = 14;
    }

    *a5 = v15;
    *(a5 + 16) = 1;
    IPC::Decoder::~Decoder(v14);
    bmalloc::api::tzoneFree(v17, v18);
    goto LABEL_15;
  }

  if (v26 != 1)
  {
LABEL_22:
    mpark::throw_bad_variant_access(v11);
  }

  *a5 = v25;
  *(a5 + 16) = 1;
LABEL_15:
  if (!v26)
  {
    v19 = v25;
    v25 = 0;
    if (v19)
    {
      IPC::Decoder::~Decoder(v19);
      bmalloc::api::tzoneFree(v23, v24);
    }
  }

  result = v27[0];
  v27[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v13);
    return bmalloc::api::tzoneFree(v21, v22);
  }

  return result;
}

IPC::Encoder *IPC::Connection::sendSync<Messages::WebPageProxy::RootViewToAccessibilityScreen>@<X0>(unsigned __int8 *a1@<X0>, int **a2@<X1>, uint64_t a3@<X2>, char a4@<W3>, uint64_t a5@<X8>, double a6@<D0>)
{
  IPC::Connection::createSyncMessageEncoder(0x1044, a3, v28);
  v11 = v28[0];
  if (a4)
  {
    v12 = *(v28[0] + 2);
    if (v12)
    {
      if (!*(v28[0] + 3))
      {
        __break(1u);
        goto LABEL_22;
      }
    }

    else
    {
      v12 = v28[0] + 32;
    }

    *v12 |= 4u;
    a1[92] = 1;
  }

  IPC::ArgumentCoder<WebCore::IntRect,void>::encode(v11, *a2);
  v11 = IPC::Connection::sendSyncMessage(a1, v28[1], v28, a4, &v26, a6);
  if (!v27)
  {
    v14 = v26;
    v26 = 0;
    if (*(v14 + 25) == 3194)
    {
      v15 = 11;
    }

    else
    {
      LOBYTE(v24) = 0;
      v25 = 0;
      v14 = IPC::Decoder::operator>><std::tuple<WebCore::IntRect>>(v14, &v24);
      if (v25 == 1)
      {
        *(a5 + 8) = v24;
        *a5 = v14;
        *(a5 + 24) = 0;
        goto LABEL_15;
      }

      v15 = 14;
    }

    *a5 = v15;
    *(a5 + 24) = 1;
    IPC::Decoder::~Decoder(v14);
    bmalloc::api::tzoneFree(v16, v17);
    goto LABEL_15;
  }

  if (v27 != 1)
  {
LABEL_22:
    mpark::throw_bad_variant_access(v11);
  }

  *a5 = v26;
  *(a5 + 24) = 1;
LABEL_15:
  if (!v27)
  {
    v18 = v26;
    v26 = 0;
    if (v18)
    {
      IPC::Decoder::~Decoder(v18);
      bmalloc::api::tzoneFree(v22, v23);
    }
  }

  result = v28[0];
  v28[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v13);
    return bmalloc::api::tzoneFree(v20, v21);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_2,void,std::experimental::fundamentals_v3<JSC::JSValue,WebCore>>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1133F68;
  v2 = a1[5];
  a1[5] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  v3 = a1[3];
  a1[3] = 0;
  if (v3)
  {
    if (v3[4] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[4];
    }
  }

  v4 = a1[2];
  a1[2] = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  v5 = a1[1];
  a1[1] = 0;
  if (v5)
  {
    CFRelease(*(v5 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_2,void,std::experimental::fundamentals_v3<JSC::JSValue,WebCore>>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1133F68;
  v3 = *(this + 5);
  *(this + 5) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 3);
  *(this + 3) = 0;
  if (v4)
  {
    if (v4[4] == 1)
    {
      (*(*v4 + 8))(v4);
    }

    else
    {
      --v4[4];
    }
  }

  v5 = *(this + 2);
  *(this + 2) = 0;
  if (v5)
  {
    CFRelease(*(v5 + 8));
  }

  v6 = *(this + 1);
  *(this + 1) = 0;
  if (v6)
  {
    CFRelease(*(v6 + 8));
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_2,void,std::experimental::fundamentals_v3<JSC::JSValue,WebCore>>::call(uint64_t a1, WTF::StringImpl *a2)
{
  LOBYTE(v5[0]) = 0;
  v6 = -1;
  mpark::detail::constructor<mpark::detail::traits<JSC::JSValue,WebCore::ExceptionDetails>>::generic_construct<mpark::detail::move_constructor<mpark::detail::traits<JSC::JSValue,WebCore::ExceptionDetails>,(mpark::detail::Trait)1>>(v5, a2);
  WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WebKit::RunJavaScriptParameters &&::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WebKit::RunJavaScriptParameters &&::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_2::operator()(a1 + 8, v5);
  if (v6 != 255 && v6 != 0)
  {
    mpark::lib::cpp17::invoke<mpark::detail::dtor,mpark::detail::alt<1ul,WebCore::ExceptionDetails> &>(v5, v3);
  }
}

void WebKit::WebPage::runJavaScript(WebKit::WebFrame *,WebKit::RunJavaScriptParameters &&,WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WebKit::RunJavaScriptParameters &&::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,BOOL,WebKit::RunJavaScriptParameters &&::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)> &&)::$_2::operator()(uint64_t a1, uint64_t a2)
{
  v3 = a1;
  if (!*(a2 + 32))
  {
    if ((*(a1 + 24) & 1) == 0)
    {
      v23[0] = 0;
      v23[32] = 0;
      v23[128] = 1;
      WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()((a1 + 32), v23);
      v15 = v23;
      goto LABEL_15;
    }

    v4 = WebKit::WebFrame::jsContextForWorld(*(a1 + 8), *a1);
    v5 = *(*(v3 + 16) + 232);
    v6 = WebKit::InjectedBundleScriptWorld::coreWorld(*v3);
    ++*v6;
    a1 = WebCore::ScriptController::jsWindowProxy(v5, v6);
    if (!*(a2 + 32))
    {
      v7 = *a2;
      WTF::RefCounted<WebCore::DOMWrapperWorld>::deref(v6);
      WebKit::JavaScriptEvaluationResult::extract(v4, v7, &v18);
      if (v22 == 1)
      {
        WebKit::JavaScriptEvaluationResult::JavaScriptEvaluationResult(v17, &v18);
        v17[128] = 0;
        WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()((v3 + 32), v17);
        std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>::~expected(v17, v8);
        if (v22 == 1)
        {
          WebKit::JavaScriptEvaluationResult::~JavaScriptEvaluationResult(&v18, v9);
        }

        return;
      }

      v16[0] = 0;
      v16[32] = 0;
      v16[128] = 1;
      WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()((v3 + 32), v16);
      v15 = v16;
LABEL_15:
      std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>::~expected(v15, v14);
      return;
    }

LABEL_16:
    mpark::throw_bad_variant_access(a1);
  }

  if (*(a2 + 32) != 1)
  {
    goto LABEL_16;
  }

  v10 = *a2;
  if (*a2)
  {
    atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
  }

  v19 = *(a2 + 8);
  v20 = *(a2 + 16);
  v11 = *(a2 + 24);
  if (v11)
  {
    atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
  }

  v25 = v20;
  v18 = 0;
  v21 = 0;
  v24[0] = v10;
  v24[1] = v19;
  v26 = v11;
  v27 = 1;
  v28 = 1;
  WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()((a1 + 32), v24);
  std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>::~expected(v24, v12);
  std::experimental::fundamentals_v3::unexpected<WebCore::ExceptionDetails>::~unexpected(&v18, v13);
}

WTF::StringImpl *mpark::detail::constructor<mpark::detail::traits<JSC::JSValue,WebCore::ExceptionDetails>>::generic_construct<mpark::detail::move_constructor<mpark::detail::traits<JSC::JSValue,WebCore::ExceptionDetails>,(mpark::detail::Trait)1>>(WTF::StringImpl *result, WTF::StringImpl *a2)
{
  v3 = result;
  v4 = *(result + 32);
  if (v4 != 255 && v4 != 0)
  {
    result = mpark::lib::cpp17::invoke<mpark::detail::dtor,mpark::detail::alt<1ul,WebCore::ExceptionDetails> &>(result, a2);
  }

  *(v3 + 32) = -1;
  if (!*(a2 + 32))
  {
    *v3 = *a2;
LABEL_8:
    *(v3 + 32) = *(a2 + 32);
    return result;
  }

  if (*(a2 + 32) != 255)
  {
    v6 = *a2;
    *a2 = 0;
    *v3 = v6;
    v7 = *(a2 + 1);
    *(v3 + 16) = *(a2 + 16);
    *(v3 + 1) = v7;
    v8 = *(a2 + 3);
    *(a2 + 3) = 0;
    *(v3 + 3) = v8;
    goto LABEL_8;
  }

  return result;
}

WTF::StringImpl *mpark::lib::cpp17::invoke<mpark::detail::dtor,mpark::detail::alt<1ul,WebCore::ExceptionDetails> &>(WTF::StringImpl **a1, WTF::StringImpl *a2)
{
  v3 = a1[3];
  a1[3] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  result = *a1;
  *a1 = 0;
  if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {

    return WTF::StringImpl::destroy(result, a2);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::runJavaScriptInFrameInScriptWorld(WebKit::RunJavaScriptParameters &&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WebKit::ContentWorldData const&,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>)> &&)::$_0,void,std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1133F90;
  v2 = a1[3];
  a1[3] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::runJavaScriptInFrameInScriptWorld(WebKit::RunJavaScriptParameters &&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WebKit::ContentWorldData const&,BOOL,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>)> &&)::$_0,void,std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1133F90;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  return WTF::fastFree(this, a2);
}

WebKit::JavaScriptEvaluationResult *WebKit::WebPage::runJavaScriptInFrameInScriptWorld(WebKit::RunJavaScriptParameters &&,std::optional<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,std::optional::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WebKit::ContentWorldData const&,BOOL,std::optional::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>)> &&)::$_0::operator()<std::__1<WTF::ObjectIdentifierGeneric::ExceptionDetails>>(uint64_t *a1, uint64_t a2)
{
  v22 = *MEMORY[0x1E69E9840];
  v4 = *a1;
  if (!*(a2 + 128))
  {
    goto LABEL_2;
  }

  if (*(a2 + 128) != 1)
  {
    mpark::throw_bad_variant_access(a1);
  }

  if (*(a2 + 32) == 1)
  {
    v9 = qword_1ED6416A0;
    if (os_log_type_enabled(qword_1ED6416A0, OS_LOG_TYPE_ERROR))
    {
      v10 = *(v4 + 48);
      WTF::String::utf8();
      v11 = v15 ? v15 + 16 : 0;
      *buf = 134218499;
      v17 = v4;
      v18 = 2048;
      v19 = v10;
      v20 = 2081;
      v21 = v11;
      _os_log_error_impl(&dword_19D52D000, v9, OS_LOG_TYPE_ERROR, "%p - [webPageID=%llu] WebPage::runJavaScriptInFrameInScriptWorld: Request to run JavaScript failed with error %{private}s", buf, 0x20u);
      v13 = v15;
      v15 = 0;
      if (v13)
      {
        if (*v13 == 1)
        {
          WTF::fastFree(v13, v12);
        }

        else
        {
          --*v13;
        }
      }
    }
  }

  else
  {
LABEL_2:
    v5 = qword_1ED6416A0;
    if (os_log_type_enabled(qword_1ED6416A0, OS_LOG_TYPE_DEFAULT))
    {
      v6 = *(v4 + 48);
      *buf = 134218240;
      v17 = v4;
      v18 = 2048;
      v19 = v6;
      _os_log_impl(&dword_19D52D000, v5, OS_LOG_TYPE_DEFAULT, "%p - [webPageID=%llu] WebPage::runJavaScriptInFrameInScriptWorld: Request to run JavaScript succeeded", buf, 0x16u);
    }
  }

  v14[0] = 0;
  v14[128] = -1;
  mpark::detail::constructor<mpark::detail::traits<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>>::generic_construct<mpark::detail::move_constructor<mpark::detail::traits<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>,(mpark::detail::Trait)1>>(v14, a2);
  WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>)>::operator()(a1 + 2, v14);
  return std::experimental::fundamentals_v3::expected<WebKit::JavaScriptEvaluationResult,std::optional<WebCore::ExceptionDetails>>::~expected(v14, v7);
}

uint64_t WTF::Vector<WTF::Ref<WebCore::HTMLMediaElement,WTF::RawPtrTraits<WebCore::HTMLMediaElement>,WTF::DefaultRefDerefTraits<WebCore::HTMLMediaElement>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(uint64_t a1, void *a2)
{
  v3 = *(a1 + 12);
  if (v3)
  {
    v4 = *a1;
    v5 = 8 * v3;
    do
    {
      v6 = *v4;
      *v4 = 0;
      if (v6)
      {
        if (*(v6 + 7) == 2)
        {
          WebCore::Node::removedLastRef(v6);
        }

        else
        {
          *(v6 + 7) -= 2;
        }
      }

      v4 = (v4 + 8);
      v5 -= 8;
    }

    while (v5);
  }

  v7 = *a1;
  if (*a1)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v7, a2);
  }

  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::startPlayingPredominantVideo(WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,WebCore::HTMLMediaElement &>::call(uint64_t a1, WebCore::HTMLMediaElement *a2)
{
  result = (*(*a2 + 1528))(a2);
  if (result)
  {
    result = WebCore::HTMLMediaElement::isVisibleInViewport(a2);
    if (result)
    {
      v5 = *(a1 + 8);
      v6 = *(v5 + 12);
      if (v6 == *(v5 + 8))
      {
        v7 = v6 + (v6 >> 1);
        if (v7 <= v6 + 1)
        {
          v7 = v6 + 1;
        }

        if (v7 >> 29)
        {
          __break(0xC471u);
          return result;
        }

        v8 = *v5;
        if (v7 <= 0x10)
        {
          v9 = 16;
        }

        else
        {
          v9 = v7;
        }

        v10 = WTF::fastMalloc((8 * v9));
        *(v5 + 8) = v9;
        *v5 = v10;
        result = memcpy(v10, v8, 8 * v6);
        if (v8)
        {
          if (*v5 == v8)
          {
            *v5 = 0;
            *(v5 + 8) = 0;
          }

          result = WTF::fastFree(v8, v11);
        }

        v6 = *(v5 + 12);
        v12 = (*v5 + 8 * v6);
      }

      else
      {
        v12 = (*v5 + 8 * v6);
      }

      *(a2 + 7) += 2;
      *v12 = a2;
      *(v5 + 12) = v6 + 1;
    }
  }

  return result;
}

_DWORD *WTF::RefCounted<WebCore::ReportingScope>::deref(_DWORD *result)
{
  if (*result == 1)
  {
    v2 = MEMORY[0x19EB05750](result - 6);

    return bmalloc::api::tzoneFree(v2, v3);
  }

  else
  {
    --*result;
  }

  return result;
}

uint64_t WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<unsigned long long>>,unsigned long long>(uint64_t *a1, uint64_t a2)
{
  if (a2 == -1 || !a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E41460CLL);
  }

  v2 = *a1;
  if (*a1)
  {
    v3 = *(v2 - 8);
    v4 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v5 = 9 * ((v4 + ~(v4 << 13)) ^ ((v4 + ~(v4 << 13)) >> 8));
    v6 = (v5 ^ (v5 >> 15)) + ~((v5 ^ (v5 >> 15)) << 27);
    v7 = v3 & ((v6 >> 31) ^ v6);
    v8 = *(v2 + 16 * v7);
    if (v8 == a2)
    {
      return *(v2 + 16 * v7 + 8);
    }

    v9 = 1;
    while (v8)
    {
      v7 = (v7 + v9) & v3;
      v8 = *(v2 + 16 * v7);
      ++v9;
      if (v8 == a2)
      {
        return *(v2 + 16 * v7 + 8);
      }
    }
  }

  return 0;
}

WebKit::WebUndoStep *WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<unsigned long long const&,WTF::Ref<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>@<X0>(uint64_t *a1@<X0>, uint64_t *a2@<X1>, uint64_t *a3@<X2>, uint64_t a4@<X8>)
{
  v5 = *a2;
  if (*a2 == -1 || !v5)
  {
    __break(0xC471u);
    JUMPOUT(0x19E414828);
  }

  v9 = *a1;
  if (!*a1)
  {
    WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::expand(a1, 0);
    v9 = *a1;
    v5 = *a2;
  }

  v10 = *(v9 - 8);
  v11 = (v5 + ~(v5 << 32)) ^ ((v5 + ~(v5 << 32)) >> 22);
  v12 = 9 * ((v11 + ~(v11 << 13)) ^ ((v11 + ~(v11 << 13)) >> 8));
  v13 = (v12 ^ (v12 >> 15)) + ~((v12 ^ (v12 >> 15)) << 27);
  v14 = v10 & ((v13 >> 31) ^ v13);
  v15 = (v9 + 16 * v14);
  v16 = *v15;
  if (!*v15)
  {
LABEL_13:
    v19 = *a3;
    *a3 = 0;
    result = v15[1];
    *v15 = v5;
    v15[1] = v19;
    if (result)
    {
      result = WTF::RefCounted<WebKit::WebUndoStep>::deref(result);
    }

    v21 = *a1;
    if (*a1)
    {
      v22 = *(v21 - 12) + 1;
    }

    else
    {
      v22 = 1;
    }

    *(v21 - 12) = v22;
    v25 = (*(v21 - 16) + v22);
    v26 = *(v21 - 4);
    if (v26 > 0x400)
    {
      if (v26 <= 2 * v25)
      {
LABEL_24:
        result = WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::expand(a1, v15);
        v15 = result;
        v21 = *a1;
        if (*a1)
        {
          v26 = *(v21 - 4);
        }

        else
        {
          v26 = 0;
        }
      }
    }

    else if (3 * v26 <= 4 * v25)
    {
      goto LABEL_24;
    }

    *a4 = v15;
    *(a4 + 8) = v21 + 16 * v26;
    *(a4 + 16) = 1;
    return result;
  }

  v17 = 0;
  v18 = 1;
  while (v16 != v5)
  {
    if (v16 == -1)
    {
      v17 = v15;
    }

    v14 = (v14 + v18) & v10;
    v15 = (v9 + 16 * v14);
    v16 = *v15;
    ++v18;
    if (!*v15)
    {
      if (v17)
      {
        *v17 = 0;
        v17[1] = 0;
        --*(*a1 - 16);
        v5 = *a2;
        v15 = v17;
      }

      goto LABEL_13;
    }
  }

  v23 = v9 + 16 * *(v9 - 4);
  *a4 = v15;
  *(a4 + 8) = v23;
  *(a4 + 16) = 0;
  v24 = *a3;
  *a3 = 0;
  result = v15[1];
  v15[1] = v24;
  if (result)
  {

    return WTF::RefCounted<WebKit::WebUndoStep>::deref(result);
  }

  return result;
}

void *WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

void *WTF::HashTable<unsigned long long,WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>>,WTF::DefaultHash<unsigned long long>,WTF::HashMap<unsigned long long,WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>,WTF::DefaultHash<unsigned long long>,WTF::HashTraits<unsigned long long>,WTF::HashTraits<WTF::RefPtr<WebKit::WebUndoStep,WTF::RawPtrTraits<WebKit::WebUndoStep>,WTF::DefaultRefDerefTraits<WebKit::WebUndoStep>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<unsigned long long>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = (v6 + 16 * v11);
      v14 = *v13;
      if (*v13 != -1)
      {
        if (v14)
        {
          v16 = *a1;
          if (*a1)
          {
            v17 = *(v16 - 8);
          }

          else
          {
            v17 = 0;
          }

          v18 = (v14 + ~(v14 << 32)) ^ ((v14 + ~(v14 << 32)) >> 22);
          v19 = 9 * ((v18 + ~(v18 << 13)) ^ ((v18 + ~(v18 << 13)) >> 8));
          v20 = (v19 ^ (v19 >> 15)) + ~((v19 ^ (v19 >> 15)) << 27);
          v21 = v17 & ((v20 >> 31) ^ v20);
          v22 = 1;
          do
          {
            v23 = v21;
            v24 = *(v16 + 16 * v21);
            v21 = (v21 + v22++) & v17;
          }

          while (v24);
          v25 = (v16 + 16 * v23);
          v26 = v25[1];
          v25[1] = 0;
          if (v26)
          {
            WTF::RefCounted<WebKit::WebUndoStep>::deref(v26);
          }

          v27 = *v13;
          v28 = v13[1];
          v13[1] = 0;
          *v25 = v27;
          v25[1] = v28;
          v29 = v13[1];
          v13[1] = 0;
          if (v29)
          {
            WTF::RefCounted<WebKit::WebUndoStep>::deref(v29);
          }

          if (v13 == a3)
          {
            v12 = v25;
          }
        }

        else
        {
          v15 = v13[1];
          v13[1] = 0;
          if (v15)
          {
            WTF::RefCounted<WebKit::WebUndoStep>::deref(v15);
          }
        }
      }

      ++v11;
    }

    while (v11 != v7);
  }

  else
  {
    v12 = 0;
    result = 0;
    if (!v6)
    {
      return result;
    }
  }

  WTF::fastFree((v6 - 16), v10);
  return v12;
}

uint64_t Messages::WebPageProxy::SetTextIndicatorFromFrame::encode<IPC::Encoder>(uint64_t a1, IPC::Encoder *a2)
{
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(a2, **a1);
  IPC::ArgumentCoder<WebCore::TextIndicatorData,void>::encode(a2, *(a1 + 8));
  v4 = *(a1 + 16);

  return IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(a2, v4);
}

void *WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::expand(uint64_t *a1, WTF **a2)
{
  v3 = *a1;
  if (*a1 && (v5 = *(v3 - 4)) != 0)
  {
    v4 = v5 << (6 * *(v3 - 12) >= (2 * v5));
  }

  else
  {
    v4 = 8;
  }

  return WTF::HashTable<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::HashTraits<WTF::Ref<WTF::SingleThreadWeakPtrImpl,WTF::RawPtrTraits<WTF::SingleThreadWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::SingleThreadWeakPtrImpl>>>,WTF::FastMalloc>::rehash(a1, v4, a2);
}

_OWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1, void *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

_OWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,unsigned int,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, void *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = (v6 + 16 * v11);
      if ((*v13 + 1) >= 2)
      {
        v14 = *a1;
        if (*a1)
        {
          v15 = *(v14 - 8);
        }

        else
        {
          v15 = 0;
        }

        v16 = (*v13 + ~(*v13 << 32)) ^ ((*v13 + ~(*v13 << 32)) >> 22);
        v17 = 9 * ((v16 + ~(v16 << 13)) ^ ((v16 + ~(v16 << 13)) >> 8));
        v18 = (v17 ^ (v17 >> 15)) + ~((v17 ^ (v17 >> 15)) << 27);
        v19 = v15 & ((v18 >> 31) ^ v18);
        v20 = 1;
        do
        {
          v21 = v19;
          v22 = *(v14 + 16 * v19);
          v19 = (v19 + v20++) & v15;
        }

        while (v22);
        v23 = (v14 + 16 * v21);
        *v23 = *v13;
        if (v13 == a3)
        {
          v12 = v23;
        }
      }

      ++v11;
    }

    while (v11 != v7);
    goto LABEL_13;
  }

  v12 = 0;
  result = 0;
  if (v6)
  {
LABEL_13:
    WTF::fastFree((v6 - 16), v10);
    return v12;
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::didChangeSelection(WebCore::LocalFrame &)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1133FE0;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    if (v2[4] == 1)
    {
      (*(*v2 + 8))(v2);
    }

    else
    {
      --v2[4];
    }
  }

  v3 = a1[1];
  a1[1] = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::didChangeSelection(WebCore::LocalFrame &)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1133FE0;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    if (v3[4] == 1)
    {
      (*(*v3 + 8))(v3);
    }

    else
    {
      --v3[4];
    }
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WebKit::WebPage::didChangeSelection(WebCore::LocalFrame &)::$_0,void>::call(WTF::StringImpl *result)
{
  v1 = *(*(result + 2) + 224);
  if (v1 && *(v1 + 2024) && (*(v1 + 3564) & 1) == 0)
  {
    if (*(*(v1 + 3208) + 153))
    {
      return WebKit::WebPage::preemptivelySendAutocorrectionContext(*(result + 1));
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::elementDidBlur(WebCore::Element &)::$_0,void>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1134008;
  a1[1] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::elementDidBlur(WebCore::Element &)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134008;
  *(this + 1) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::elementDidBlur(WebCore::Element &)::$_0,void>::call(uint64_t result)
{
  v1 = *(result + 8);
  if (*(v1 + 912))
  {
    v2 = result;
    v4 = *(v1 + 32);
    v3 = v1 + 32;
    v5 = (*(v4 + 56))(v3);
    v7 = IPC::Encoder::operator new(0x238, v6);
    *v7 = 2244;
    *(v7 + 2) = 0;
    *(v7 + 3) = 0;
    *(v7 + 1) = v5;
    *(v7 + 68) = 0;
    *(v7 + 70) = 0;
    *(v7 + 69) = 0;
    IPC::Encoder::encodeHeader(v7);
    v13 = v7;
    (*(*v3 + 32))(v3, &v13, 0);
    v9 = v13;
    v13 = 0;
    if (v9)
    {
      IPC::Encoder::~Encoder(v9, v8);
      bmalloc::api::tzoneFree(v11, v12);
    }

    v10 = *(v2 + 8);
    result = *(v10 + 912);
    *(v10 + 912) = 0;
    if (result)
    {
      if (*(result + 28) == 2)
      {
        return WebCore::Node::removedLastRef(result);
      }

      else
      {
        *(result + 28) -= 2;
      }
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::canShowResponse(WebCore::ResourceResponse const&)::$_0,BOOL,WTF::String const&,WebCore::PluginData::AllowedPluginTypes>::call(uint64_t a1)
{
  v2 = *(*(a1 + 8) + 56);
  if (v2)
  {
    ++*(v2 + 2);
  }

  WebCore::Page::pluginData(v2);
  WebCore::ResourceResponseBase::url(*(a1 + 16));
  v3 = WebCore::PluginData::supportsWebVisibleMimeTypeForURL();
  if (v2)
  {
    WTF::RefCounted<WebCore::Page>::deref(v2 + 2);
  }

  return v3;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::canShowMIMEType(WTF::String const&)::$_0,BOOL,WTF::String const&,WebCore::PluginData::AllowedPluginTypes>::call(uint64_t a1)
{
  v1 = *(*(a1 + 8) + 56);
  if (v1)
  {
    ++*(v1 + 2);
  }

  WebCore::Page::pluginData(v1);
  v2 = WebCore::PluginData::supportsWebVisibleMimeType();
  if (v1)
  {
    WTF::RefCounted<WebCore::Page>::deref(v1 + 2);
  }

  return v2;
}

uint64_t *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = (v6 + 16 * v11);
      v14 = *v13;
      if (*v13 != -1)
      {
        if (v14)
        {
          v16 = *a1;
          if (*a1)
          {
            v17 = *(v16 - 8);
          }

          else
          {
            v17 = 0;
          }

          v18 = (v14 + ~(v14 << 32)) ^ ((v14 + ~(v14 << 32)) >> 22);
          v19 = 9 * ((v18 + ~(v18 << 13)) ^ ((v18 + ~(v18 << 13)) >> 8));
          v20 = (v19 ^ (v19 >> 15)) + ~((v19 ^ (v19 >> 15)) << 27);
          v21 = v17 & ((v20 >> 31) ^ v20);
          v22 = 1;
          do
          {
            v23 = v21;
            v24 = *(v16 + 16 * v21);
            v21 = (v21 + v22++) & v17;
          }

          while (v24);
          v25 = (v16 + 16 * v23);
          v26 = v25[1];
          v25[1] = 0;
          if (v26)
          {
            if (v26[2] == 1)
            {
              (*(*v26 + 8))(v26);
            }

            else
            {
              --v26[2];
            }
          }

          *v25 = *v13;
          v27 = v13[1];
          v13[1] = 0;
          v25[1] = v27;
          v28 = v13[1];
          v13[1] = 0;
          if (v28)
          {
            if (v28[2] == 1)
            {
              (*(*v28 + 8))(v28);
            }

            else
            {
              --v28[2];
            }
          }

          if (v13 == a3)
          {
            v12 = v25;
          }
        }

        else
        {
          v15 = v13[1];
          v13[1] = 0;
          if (v15)
          {
            if (v15[2] == 1)
            {
              (*(*v15 + 8))(v15);
            }

            else
            {
              --v15[2];
            }
          }
        }
      }

      ++v11;
    }

    while (v11 != v7);
  }

  else
  {
    v12 = 0;
    result = 0;
    if (!v6)
    {
      return result;
    }
  }

  WTF::fastFree((v6 - 16), v10);
  return v12;
}

uint64_t *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::take(uint64_t *result, uint64_t *a2, void *a3)
{
  v3 = *a2;
  if (*a2)
  {
    v3 += 16 * *(v3 - 4);
  }

  if (v3 == a3)
  {
    *result = 0;
    return result;
  }

  v4 = a3[1];
  a3[1] = 0;
  *result = v4;
  if (*a2)
  {
    v5 = *a2 + 16 * *(*a2 - 4);
    if (v5 == a3)
    {
      return result;
    }
  }

  else
  {
    if (!a3)
    {
      return result;
    }

    v5 = 0;
  }

  if (v5 != a3)
  {
    *a3 = -1;
    a3[1] = 0;
    v6 = *a2;
    v7 = vadd_s32(*(*a2 - 16), 0xFFFFFFFF00000001);
    *(v6 - 16) = v7;
    v8 = *(v6 - 4);
    if (6 * v7.i32[1] < v8 && v8 >= 9)
    {
      return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a2, v8 >> 1, 0);
    }
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebCore::TextCheckingRequest,WTF::RawPtrTraits<WebCore::TextCheckingRequest>,WTF::DefaultRefDerefTraits<WebCore::TextCheckingRequest>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::TextCheckerRequestType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t a1, uint64_t a2)
{
  if (!a1)
  {
    return 0;
  }

  if (a2 == -1 || !a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E415430);
  }

  v2 = *(a1 - 8);
  v3 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
  v4 = 9 * ((v3 + ~(v3 << 13)) ^ ((v3 + ~(v3 << 13)) >> 8));
  v5 = (v4 ^ (v4 >> 15)) + ~((v4 ^ (v4 >> 15)) << 27);
  v6 = v2 & ((v5 >> 31) ^ v5);
  v7 = *(a1 + 16 * v6);
  if (v7 == a2)
  {
    return a1 + 16 * v6;
  }

  v8 = 1;
  while (v7)
  {
    v6 = (v6 + v8) & v2;
    v7 = *(a1 + 16 * v6);
    ++v8;
    if (v7 == a2)
    {
      return a1 + 16 * v6;
    }
  }

  return a1 + 16 * *(a1 - 4);
}

uint64_t WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::shrinkCapacity(uint64_t result, void *a2)
{
  if (*(result + 8))
  {
    v2 = result;
    v3 = *(result + 12);
    if (v3)
    {
      WTF::VectorTypeOperations<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::destruct(*result, (*result + 24 * v3));
      *(v2 + 12) = 0;
    }

    result = *v2;
    if (*v2)
    {
      *v2 = 0;
      *(v2 + 8) = 0;

      return WTF::fastFree(result, a2);
    }
  }

  return result;
}

atomic_uint *WTF::VectorMover<false,std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::move(atomic_uint *result, atomic_uint *a2, void *a3)
{
  if (result != a2)
  {
    v4 = result + 2;
    do
    {
      v5 = *(v4 - 1);
      *(v4 - 1) = 0;
      *a3 = v5;
      a3[1] = 0;
      v6 = a3 + 1;
      a3[2] = 0;
      WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt((a3 + 1), v4);
      WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v4, v7);
      result = *(v4 - 1);
      *(v4 - 1) = 0;
      if (result)
      {
        result = WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(result, v8);
      }

      v9 = v4 + 4;
      v4 += 6;
      a3 = v6 + 2;
    }

    while (v9 != a2);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<std::optional<WebCore::FloatSize><void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>(WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1134080;
  v3 = a1[4];
  a1[4] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<std::optional<WebCore::FloatSize><void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>(WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1134080;
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<std::optional<WebCore::FloatSize><void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>(WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0)#1},void,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WTF::Ref>,WTF::DefaultRefDerefTraits<WTF::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  v51 = *MEMORY[0x1E69E9840];
  if (a3)
  {
    v5 = *a3;
    if (*a3)
    {
      v6 = *(a3 + 1);
      v7 = *(a3 + 2);
      if (v6 <= &v7[-v5])
      {
        *a3 = 0;
        *(a3 + 1) = 0;
        v17 = *(a3 + 3);
        if (v17)
        {
          if (v6)
          {
            (*(*v17 + 16))(v17);
            v5 = *a3;
            v6 = *(a3 + 1);
            goto LABEL_34;
          }
        }

        else
        {
          v6 = 0;
        }

        v5 = 0;
      }

      else
      {
        *(a3 + 2) = v7 + 1;
        if (v7)
        {
          v8 = *v7;
          if (v8 < 2)
          {
            if (v8)
            {
              IPC::Decoder::decode<WTF::Ref<WebCore::FragmentedSharedBuffer,WTF::RawPtrTraits<WebCore::FragmentedSharedBuffer>,WTF::DefaultRefDerefTraits<WebCore::FragmentedSharedBuffer>>>(a3, v30);
              if (BYTE8(v30[0]) == 1)
              {
                *&v43[0] = *&v30[0];
                v49 = 0;
LABEL_14:
                v50 = 1;
                std::tuple<std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>>::tuple[abi:sn200100]<std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>,0>(&v37, v43);
                v42 = 1;
                if ((v50 & 1) != 0 && v49 != 255)
                {
                  if (v49)
                  {
                    v13 = v47;
                    v47 = 0;
                    if (v13)
                    {
                      CFRelease(v13);
                    }

                    v14 = v44;
                    v44 = 0;
                    if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      WTF::StringImpl::destroy(v14, v11);
                    }

                    v15 = *(&v43[0] + 1);
                    *(&v43[0] + 1) = 0;
                    if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      WTF::StringImpl::destroy(v15, v11);
                    }

                    v16 = *&v43[0];
                    *&v43[0] = 0;
                    if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      WTF::StringImpl::destroy(v16, v11);
                    }
                  }

                  else
                  {
                    v12 = *&v43[0];
                    *&v43[0] = 0;
                    if (v12 && atomic_fetch_add(v12 + 2, 0xFFFFFFFF) == 1)
                    {
                      atomic_store(1u, v12 + 2);
                      (*(*v12 + 8))(v12);
                    }
                  }
                }

LABEL_40:
                if ((v42 & 1) == 0)
                {
                  v27 = *a3;
                  v28 = *(a3 + 1);
                  *a3 = 0;
                  *(a3 + 1) = 0;
                  v29 = *(a3 + 3);
                  if (!v29)
                  {
                    return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>((a1 + 8));
                  }

                  if (!v28)
                  {
                    return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>((a1 + 8));
                  }

                  (*(*v29 + 16))(v29, v27);
                  if ((v42 & 1) == 0)
                  {
                    return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>((a1 + 8));
                  }
                }

                result = std::apply[abi:sn200100]<WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0,std::tuple<std::experimental::fundamentals_v3<std::experimental::fundamentals_v3::expected<WebCore::FragmentedSharedBuffer,WebCore::ShareableBitmap<WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&>,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref><WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&>>,std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>>>>((a1 + 8), &v37);
                if ((v42 & 1) != 0 && v41 != 255)
                {
                  if (v41)
                  {
                    v24 = cf;
                    cf = 0;
                    if (v24)
                    {
                      CFRelease(v24);
                    }

                    v25 = v39;
                    v39 = 0;
                    if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      WTF::StringImpl::destroy(v25, v23);
                    }

                    v26 = v38;
                    v38 = 0;
                    if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      WTF::StringImpl::destroy(v26, v23);
                    }

                    result = v37;
                    v37 = 0;
                    if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      return WTF::StringImpl::destroy(result, v23);
                    }
                  }

                  else
                  {
                    result = v37;
                    v37 = 0;
                    if (result)
                    {
                      if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
                      {
                        atomic_store(1u, result + 2);
                        return (*(*result + 8))(result);
                      }
                    }
                  }
                }

                return result;
              }
            }

            else
            {
              IPC::Decoder::decode<WebCore::ResourceError>(a3, v30);
              if (v36 == 1)
              {
                v45 = v32;
                v46 = v33;
                v43[0] = v30[0];
                v43[1] = v30[1];
                v43[2] = v30[2];
                v44 = v31;
                v47 = v34;
                v48 = v35;
                v49 = 1;
                goto LABEL_14;
              }
            }

LABEL_38:
            v20 = *a3;
            v21 = *(a3 + 1);
            *a3 = 0;
            *(a3 + 1) = 0;
            v22 = *(a3 + 3);
            if (v22 && v21)
            {
              (*(*v22 + 16))(v22, v20);
            }

            LOBYTE(v37) = 0;
            v42 = 0;
            goto LABEL_40;
          }

          goto LABEL_37;
        }
      }

LABEL_34:
      *a3 = 0;
      *(a3 + 1) = 0;
      v18 = *(a3 + 3);
      if (v18)
      {
        if (v6)
        {
          (*(*v18 + 16))(v18, v5);
          v5 = *a3;
          v6 = *(a3 + 1);
          goto LABEL_37;
        }
      }

      else
      {
        v6 = 0;
      }

      v5 = 0;
LABEL_37:
      *a3 = 0;
      *(a3 + 1) = 0;
      v19 = *(a3 + 3);
      if (v19 && v6)
      {
        (*(*v19 + 16))(v19, v5);
      }

      goto LABEL_38;
    }
  }

  v9 = (a1 + 8);

  return IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>(v9);
}

WTF::StringImpl *IPC::Connection::cancelReply<Messages::NetworkConnectionToWebProcess::LoadImageForDecoding,WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0>(mpark *a1)
{
  v28 = *MEMORY[0x1E69E9840];
  v13[0] = 0;
  v13[1] = 0;
  WTF::URL::invalidate(&v13[1]);
  v24 = 0;
  v23 = 0;
  *v19 = *v13;
  v20 = v14;
  v21 = v15;
  v22 = 0;
  cf = 0;
  v26 = 1;
  v27 = 1;
  std::tuple<std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>>::tuple[abi:sn200100]<std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>,0>(v13, v19);
  if (v27 != 255)
  {
    if (v27)
    {
      v4 = cf;
      cf = 0;
      if (v4)
      {
        CFRelease(v4);
      }

      v5 = v22;
      v22 = 0;
      if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v5, v2);
      }

      v6 = v19[1];
      v19[1] = 0;
      if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v6, v2);
      }

      v7 = v19[0];
      v19[0] = 0;
      if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v7, v2);
      }
    }

    else
    {
      v3 = v19[0];
      v19[0] = 0;
      if (v3 && atomic_fetch_add(v3 + 2, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v3 + 2);
        (*(*v3 + 8))(v3);
      }
    }
  }

  result = std::apply[abi:sn200100]<WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0,std::tuple<std::experimental::fundamentals_v3<std::experimental::fundamentals_v3::expected<WebCore::FragmentedSharedBuffer,WebCore::ShareableBitmap<WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&>,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref><WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&>>,std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>>>>(a1, v13);
  if (v18 != 255)
  {
    if (v18)
    {
      v10 = v17;
      v17 = 0;
      if (v10)
      {
        CFRelease(v10);
      }

      v11 = v16;
      v16 = 0;
      if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v11, v9);
      }

      v12 = v13[1];
      v13[1] = 0;
      if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v12, v9);
      }

      result = v13[0];
      v13[0] = 0;
      if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v9);
      }
    }

    else
    {
      result = v13[0];
      v13[0] = 0;
      if (result)
      {
        if (atomic_fetch_add(result + 2, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, result + 2);
          return (*(*result + 8))(result);
        }
      }
    }
  }

  return result;
}

WTF::StringImpl *std::apply[abi:sn200100]<WebKit::WebPage::loadAndDecodeImage(WebCore::ResourceRequest &&,std::optional<WebCore::FloatSize>,unsigned long long,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&)::$_0,std::tuple<std::experimental::fundamentals_v3<std::experimental::fundamentals_v3::expected<WebCore::FragmentedSharedBuffer,WebCore::ShareableBitmap<WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&>,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref><WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>,WebCore::ResourceError> &&)> &&>>,std::optional<WebCore::FloatSize>::Ref<WebCore::ShareableBitmap,std::optional<WebCore::FloatSize>::RawPtrTraits<std::optional<WebCore::FloatSize>::Ref>,std::optional<WebCore::FloatSize>::DefaultRefDerefTraits<std::optional<WebCore::FloatSize>::Ref>>>>>(mpark *a1, uint64_t a2)
{
  v3 = a1;
  v94 = *MEMORY[0x1E69E9840];
  if (*(a2 + 80))
  {
    if (*(a2 + 80) == 1)
    {
      v4 = *a2;
      *a2 = 0;
      v77[0] = v4;
      WTF::URL::URL(&v77[1], (a2 + 8));
      v5 = *(a2 + 48);
      *(a2 + 48) = 0;
      v81 = *(a2 + 56);
      v82 = *(a2 + 60);
      v6 = *(a2 + 64);
      *(a2 + 64) = 0;
      v84 = *(a2 + 72);
      v7 = *v77;
      v77[0] = 0;
      v77[1] = 0;
      *cf = v7;
      v86 = v78;
      v87 = v79;
      LODWORD(v78) = v78 & 0xFFFFFFFE;
      v80 = 0;
      v88 = v5;
      LODWORD(v5) = *(a2 + 56);
      v90 = *(a2 + 60);
      v89 = v5;
      v83 = 0;
      v91 = v6;
      v92 = v84;
      v93 = 1;
      v8 = *v3;
      *v3 = 0;
      (*(*v8 + 16))(v8, cf);
      (*(*v8 + 8))(v8);
      std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>::~expected(cf, v9);
      v11 = v83;
      v83 = 0;
      if (v11)
      {
        CFRelease(v11);
      }

      v12 = v80;
      v80 = 0;
      if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v12, v10);
      }

      v13 = v77[1];
      v77[1] = 0;
      if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v13, v10);
      }

      result = v77[0];
      v77[0] = 0;
      if (result)
      {
        if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          return WTF::StringImpl::destroy(result, v10);
        }
      }

      return result;
    }

LABEL_98:
    mpark::throw_bad_variant_access(a1);
  }

  a1 = WebCore::BitmapImage::create();
  if (*(a2 + 80))
  {
    goto LABEL_98;
  }

  v15 = *a2;
  atomic_fetch_add((*a2 + 8), 1u);
  cf[0] = v15;
  WebCore::Image::setData();
  v16 = cf[0];
  cf[0] = 0;
  if (v16 && atomic_fetch_add(v16 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v16 + 2);
    (*(*v16 + 8))(v16);
  }

  (*(**(v76 + 8) + 128))(&v75);
  if (v75)
  {
    v17 = WebCore::NativeImage::size(v75);
    v19 = v17;
    v20 = SHIDWORD(v17);
    v21 = v17;
    v22 = SHIDWORD(v17);
    if (*(v3 + 16) == 1)
    {
      v23 = *(v3 + 2);
      v24 = *(v3 + 3);
      if (v23 >= v19)
      {
        v23 = v17;
      }

      cf[0] = 0;
      if (v24 >= v20)
      {
        v24 = SHIDWORD(v17);
      }

      cf[1] = __PAIR64__(LODWORD(v24), LODWORD(v23));
      WebCore::largestRectWithAspectRatioInsideRect(cf, v19 / v20, v18);
    }

    v25 = floorf(v21);
    v26 = 0x7FFFFFFFLL;
    v27 = 0x80000000;
    if (v25 > -2147500000.0)
    {
      v27 = v25;
    }

    if (v25 < 2147500000.0)
    {
      v26 = v27;
    }

    v28 = floorf(v22);
    v29 = 0x7FFFFFFF00000000;
    v30 = 0x8000000000000000;
    if (v28 > -2147500000.0)
    {
      v30 = v28 << 32;
    }

    if (v28 < 2147500000.0)
    {
      v29 = v30;
    }

    v74 = v29 | v26;
    v31 = &v73;
    WebCore::NativeImage::colorSpace(&v73, v75);
    v32 = WebCore::DestinationColorSpace::supportsOutput(&v73);
    if ((v32 & 1) == 0)
    {
      v31 = WebCore::DestinationColorSpace::SRGB(v32);
    }

    v33 = *v31;
    if (v33)
    {
      CFRetain(v33);
      v70 = v33;
      CFRetain(v33);
    }

    else
    {
      v70 = 0;
    }

    v71 = 1;
    MEMORY[0x19EB0C920](cf, &v74, &v70, 0, 1.0);
    WebCore::ShareableBitmap::create();
    if (v86 == 1)
    {
      v34 = cf[1];
      cf[1] = 0;
      if (v34)
      {
        CFRelease(v34);
      }
    }

    if (v71 == 1)
    {
      v35 = v70;
      v70 = 0;
      if (v35)
      {
        CFRelease(v35);
      }
    }

    if (v72)
    {
      WebCore::ShareableBitmap::createGraphicsContext(&v69, v72);
      if (v69)
      {
        cf[0] = 0;
        cf[1] = vcvt_f32_s32(v74);
        v77[0] = 0;
        v77[1] = __PAIR64__(LODWORD(v20), LODWORD(v19));
        WebCore::GraphicsContext::drawNativeImage();
        v36 = v72;
        v72 = 0;
        cf[0] = v36;
        v93 = 0;
        v37 = *v3;
        *v3 = 0;
        (*(*v37 + 16))(v37, cf);
        (*(*v37 + 8))(v37);
        std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>::~expected(cf, v38);
      }

      else
      {
        v77[0] = 0;
        v77[1] = 0;
        WTF::URL::invalidate(&v77[1]);
        v82 = 0;
        v81 = 0;
        v84 = 1;
        v80 = 0;
        v90 = 0;
        v89 = 0;
        v83 = 0;
        v56 = *v77;
        v77[0] = 0;
        v77[1] = 0;
        *cf = v56;
        v86 = v78;
        LODWORD(v78) = v78 & 0xFFFFFFFE;
        v87 = v79;
        v88 = 0;
        v91 = 0;
        v92 = 1;
        v93 = 1;
        v57 = *v3;
        *v3 = 0;
        (*(*v57 + 16))(v57, cf);
        (*(*v57 + 8))(v57);
        std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>::~expected(cf, v58);
        v59 = v83;
        v83 = 0;
        if (v59)
        {
          CFRelease(v59);
        }

        v60 = v80;
        v80 = 0;
        if (v60 && atomic_fetch_add_explicit(v60, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v60, v39);
        }

        v61 = v77[1];
        v77[1] = 0;
        if (v61 && atomic_fetch_add_explicit(v61, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v61, v39);
        }

        v62 = v77[0];
        v77[0] = 0;
        if (v62 && atomic_fetch_add_explicit(v62, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v62, v39);
        }
      }

      v63 = v69;
      v69 = 0;
      if (v63)
      {
        (*(*v63 + 8))(v63);
      }
    }

    else
    {
      v77[0] = 0;
      v77[1] = 0;
      WTF::URL::invalidate(&v77[1]);
      v82 = 0;
      v81 = 0;
      v84 = 1;
      v80 = 0;
      v90 = 0;
      v89 = 0;
      v83 = 0;
      v49 = *v77;
      v77[0] = 0;
      v77[1] = 0;
      *cf = v49;
      v86 = v78;
      LODWORD(v78) = v78 & 0xFFFFFFFE;
      v87 = v79;
      v88 = 0;
      v91 = 0;
      v92 = 1;
      v93 = 1;
      v50 = *v3;
      *v3 = 0;
      (*(*v50 + 16))(v50, cf);
      (*(*v50 + 8))(v50);
      std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>::~expected(cf, v51);
      v52 = v83;
      v83 = 0;
      if (v52)
      {
        CFRelease(v52);
      }

      v53 = v80;
      v80 = 0;
      if (v53 && atomic_fetch_add_explicit(v53, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v53, v39);
      }

      v54 = v77[1];
      v77[1] = 0;
      if (v54 && atomic_fetch_add_explicit(v54, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v54, v39);
      }

      v55 = v77[0];
      v77[0] = 0;
      if (v55 && atomic_fetch_add_explicit(v55, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v55, v39);
      }
    }

    v64 = v72;
    v72 = 0;
    if (v64)
    {
      WTF::ThreadSafeRefCounted<WebCore::ShareableBitmap,(WTF::DestructionThread)0>::deref(v64, v39);
    }

    if (v33)
    {
      CFRelease(v33);
    }

    v65 = v73;
    v73 = 0;
    if (v65)
    {
      CFRelease(v65);
    }
  }

  else
  {
    WebKit::decodeError((v3 + 24), v77);
    v40 = v80;
    v90 = v82;
    v89 = v81;
    v41 = v83;
    v80 = 0;
    v83 = 0;
    v42 = *v77;
    v77[0] = 0;
    v77[1] = 0;
    *cf = v42;
    v86 = v78;
    LODWORD(v78) = v78 & 0xFFFFFFFE;
    v87 = v79;
    v88 = v40;
    v91 = v41;
    v92 = v84;
    v93 = 1;
    v43 = *v3;
    *v3 = 0;
    (*(*v43 + 16))(v43, cf);
    (*(*v43 + 8))(v43);
    std::experimental::fundamentals_v3::expected<WTF::Ref<WebCore::ShareableBitmap,WTF::RawPtrTraits<WebCore::ShareableBitmap>,WTF::DefaultRefDerefTraits<WebCore::ShareableBitmap>>,WebCore::ResourceError>::~expected(cf, v44);
    v45 = v83;
    v83 = 0;
    if (v45)
    {
      CFRelease(v45);
    }

    v46 = v80;
    v80 = 0;
    if (v46 && atomic_fetch_add_explicit(v46, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v46, v39);
    }

    v47 = v77[1];
    v77[1] = 0;
    if (v47 && atomic_fetch_add_explicit(v47, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v47, v39);
    }

    v48 = v77[0];
    v77[0] = 0;
    if (v48 && atomic_fetch_add_explicit(v48, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v48, v39);
    }
  }

  v66 = v75;
  v75 = 0;
  if (v66)
  {
    do
    {
      v67 = v66[1];
      if ((v67 & 1) == 0)
      {
        WTF::ThreadSafeWeakPtrControlBlock::strongDeref<WebCore::RenderingResource,(WTF::DestructionThread)0>(v66[1], v39);
        goto LABEL_92;
      }

      v68 = v66[1];
      atomic_compare_exchange_strong_explicit(v66 + 1, &v68, (v67 - 2), memory_order_relaxed, memory_order_relaxed);
    }

    while (v68 != v67);
    if (v67 == 3)
    {
      (*(*v66 + 1))(v66);
    }
  }

LABEL_92:
  result = v76;
  v76 = 0;
  if (result)
  {
    if (*(result + 4) == 1)
    {
      return (*(*result + 8))(result);
    }

    else
    {
      --*(result + 4);
    }
  }

  return result;
}

_DWORD *WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::expand(uint64_t *a1, int *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

_DWORD *WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, int *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((4 * a2 + 16));
  v11 = v9 + 4;
  *a1 = (v9 + 4);
  v12 = a2 - 1;
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (!v7)
  {
    v14 = 0;
    if (!v6)
    {
      return v14;
    }

    goto LABEL_13;
  }

  v13 = 0;
  v14 = 0;
  do
  {
    v15 = (v6 + 4 * v13);
    v16 = *v15;
    if ((*v15 + 1) >= 2)
    {
      v17 = 0;
      v18 = 9 * ((v16 + ~(v16 << 15)) ^ ((v16 + ~(v16 << 15)) >> 10));
      v19 = ((v18 ^ (v18 >> 6)) + ~((v18 ^ (v18 >> 6)) << 11)) ^ (((v18 ^ (v18 >> 6)) + ~((v18 ^ (v18 >> 6)) << 11)) >> 16);
      do
      {
        v20 = v19 & v12;
        v19 = ++v17 + v20;
      }

      while (v11[v20]);
      v11[v20] = v16;
      if (v15 == a3)
      {
        v14 = &v11[v20];
      }
    }

    ++v13;
  }

  while (v13 != v7);
  if (v6)
  {
LABEL_13:
    WTF::fastFree((v6 - 16), v10);
  }

  return v14;
}

uint64_t *WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::remove(uint64_t *result, _DWORD *a2)
{
  *a2 = -1;
  v2 = *result;
  v3 = vadd_s32(*(*result - 16), 0xFFFFFFFF00000001);
  *(v2 - 16) = v3;
  v4 = *(v2 - 4);
  if (6 * v3.i32[1] < v4 && v4 >= 9)
  {
    return WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::rehash(result, v4 >> 1, 0);
  }

  return result;
}

uint64_t WTF::HashTable<unsigned int,unsigned int,WTF::IdentityExtractor,WTF::DefaultHash<unsigned int>,WTF::HashTraits<unsigned int>,WTF::HashTraits<unsigned int>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashTraits<unsigned int>,WTF::DefaultHash<unsigned int>>,(WTF::ShouldValidateKey)1,unsigned int>(uint64_t *a1, int *a2)
{
  v2 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v3 = *a2;
  if (*a2 == -1 || !v3)
  {
    __break(0xC471u);
    JUMPOUT(0x19E416910);
  }

  v4 = *(v2 - 8);
  v5 = 9 * ((v3 + ~(v3 << 15)) ^ ((v3 + ~(v3 << 15)) >> 10));
  v6 = v4 & (((v5 ^ (v5 >> 6)) + ~((v5 ^ (v5 >> 6)) << 11)) ^ (((v5 ^ (v5 >> 6)) + ~((v5 ^ (v5 >> 6)) << 11)) >> 16));
  v7 = *(v2 + 4 * v6);
  if (v7 == v3)
  {
    return v2 + 4 * v6;
  }

  v8 = 1;
  while (v7)
  {
    v6 = (v6 + v8) & v4;
    v7 = *(v2 + 4 * v6);
    ++v8;
    if (v7 == v3)
    {
      return v2 + 4 * v6;
    }
  }

  return v2 + 4 * *(v2 - 4);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::HandleMessageWithAsyncReply,WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0>(WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0,IPC::Decoder)#1},void,WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0,IPC::Decoder>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11340A8;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::HandleMessageWithAsyncReply,WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0>(WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0,IPC::Decoder)#1},void,WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0,IPC::Decoder>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11340A8;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::HandleMessageWithAsyncReply,WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0>(WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0,IPC::Decoder)#1},void,WebKit::WebPage::postMessageWithAsyncReply(WTF::String const&,API::Object *,WTF::CompletionHandler<void ()(API::Object *)> &&)::$_0,IPC::Decoder>::call(uint64_t a1, __n128 a2, uint64_t a3, IPC::Decoder *a4)
{
  if (a4 && *a4)
  {
    IPC::Decoder::decode<std::tuple<WebKit::UserData>>(a4, &v11, a2);
    if (v12 == 1)
    {
      v5 = v11;
      if (v11)
      {
        CFRetain(*(v11 + 8));
        CFRetain(*(v5 + 8));
      }

      v6 = *(a1 + 8);
      *(a1 + 8) = 0;
      (*(*v6 + 16))(v6, v5);
      (*(*v6 + 8))(v6);
      if (v5)
      {
        CFRelease(*(v5 + 8));
        CFRelease(*(v5 + 8));
      }

      if (v12)
      {
        v7 = v11;
        v11 = 0;
        if (v7)
        {
          CFRelease(*(v7 + 8));
        }
      }
    }

    else
    {
      v10 = *(a1 + 8);
      *(a1 + 8) = 0;
      (*(*v10 + 16))(v10, 0);
      (*(*v10 + 8))(v10);
    }
  }

  else
  {
    v8 = *(a1 + 8);
    *(a1 + 8) = 0;
    (*(*v8 + 16))(v8, 0);
    v9 = *(*v8 + 8);

    v9(v8);
  }
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::didGetLoadDecisionForIcon(BOOL,WebKit::CallbackID,WTF::CompletionHandler<void ()(IPC::SharedBufferReference const&)> &&)::$_0,void,WebCore::FragmentedSharedBuffer *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11340D0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::didGetLoadDecisionForIcon(BOOL,WebKit::CallbackID,WTF::CompletionHandler<void ()(IPC::SharedBufferReference const&)> &&)::$_0,void,WebCore::FragmentedSharedBuffer *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11340D0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

void WebKit::WebPage::didGetLoadDecisionForIcon(BOOL,WebKit::CallbackID,WTF::CompletionHandler<void ()(IPC::SharedBufferReference const&)> &&)::$_0::operator()(uint64_t *a1, uint64_t a2)
{
  if (a2)
  {
    atomic_fetch_add((a2 + 8), 1u);
    v2 = *(a2 + 56);
  }

  else
  {
    v2 = 0;
  }

  v4[0] = v2;
  v4[1] = a2;
  v4[2] = 0;
  v3 = *a1;
  *a1 = 0;
  (*(*v3 + 16))(v3, v4);
  (*(*v3 + 8))(v3);
  IPC::SharedBufferReference::~SharedBufferReference(v4);
}

uint64_t *WTF::HashTable<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>@<X0>(uint64_t *result@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X8>)
{
  v4 = *a2;
  if (*a2 == -1 || !v4)
  {
    __break(0xC471u);
    JUMPOUT(0x19E416F4CLL);
  }

  v6 = result;
  v7 = *result;
  if (!*result)
  {
    result = WTF::HashTable<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::FastMalloc>::expand(result, 0);
    v7 = *v6;
    v4 = *a2;
  }

  v8 = *(v7 - 8);
  v9 = (v4 + ~(v4 << 32)) ^ ((v4 + ~(v4 << 32)) >> 22);
  v10 = 9 * ((v9 + ~(v9 << 13)) ^ ((v9 + ~(v9 << 13)) >> 8));
  v11 = (v10 ^ (v10 >> 15)) + ~((v10 ^ (v10 >> 15)) << 27);
  v12 = v8 & ((v11 >> 31) ^ v11);
  v13 = (v7 + 8 * v12);
  v14 = *v13;
  if (*v13)
  {
    v15 = 0;
    v16 = 1;
    do
    {
      if (v14 == v4)
      {
        v20 = 0;
        v21 = v7 + 8 * *(v7 - 4);
        goto LABEL_25;
      }

      if (v14 == -1)
      {
        v15 = v13;
      }

      v12 = (v12 + v16) & v8;
      v13 = (v7 + 8 * v12);
      v14 = *v13;
      ++v16;
    }

    while (*v13);
    if (v15)
    {
      *v15 = 0;
      --*(*v6 - 16);
      v4 = *a2;
      v13 = v15;
    }
  }

  *a2 = 0;
  v17 = *v13;
  *v13 = v4;
  if (v17)
  {
    result = WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v17 + 8));
  }

  v18 = *v6;
  if (*v6)
  {
    v19 = *(v18 - 12) + 1;
  }

  else
  {
    v19 = 1;
  }

  *(v18 - 12) = v19;
  v22 = (*(v18 - 16) + v19);
  v23 = *(v18 - 4);
  if (v23 > 0x400)
  {
    if (v23 <= 2 * v22)
    {
LABEL_21:
      result = WTF::HashTable<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::FastMalloc>::expand(v6, v13);
      v13 = result;
      v18 = *v6;
      if (*v6)
      {
        v23 = *(v18 - 4);
      }

      else
      {
        v23 = 0;
      }
    }
  }

  else if (3 * v23 <= 4 * v22)
  {
    goto LABEL_21;
  }

  v21 = v18 + 8 * v23;
  v20 = 1;
LABEL_25:
  *a3 = v13;
  *(a3 + 8) = v21;
  *(a3 + 16) = v20;
  return result;
}

void *WTF::HashTable<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::IdentityExtractor,WTF::DefaultHash<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t *a2)
{
  v4 = *a1;
  if (*a1)
  {
    v5 = *(v4 - 4);
    v6 = *(v4 - 12);
    if (v5)
    {
      v7 = v5 << (6 * v6 >= (2 * v5));
      goto LABEL_6;
    }
  }

  else
  {
    v5 = 0;
    v6 = 0;
  }

  v7 = 8;
LABEL_6:
  v8 = WTF::fastZeroedMalloc((8 * v7 + 16));
  *a1 = (v8 + 4);
  v8[2] = v7 - 1;
  v8[3] = v7;
  *v8 = 0;
  v8[1] = v6;
  if (v5)
  {
    v10 = 0;
    v11 = 0;
    do
    {
      v12 = (v4 + 8 * v10);
      v13 = *v12;
      if (*v12 != -1)
      {
        if (v13)
        {
          v14 = *a1;
          if (*a1)
          {
            v15 = *(v14 - 8);
          }

          else
          {
            v15 = 0;
          }

          v16 = (~(v13 << 32) + v13) ^ ((~(v13 << 32) + v13) >> 22);
          v17 = 9 * ((v16 + ~(v16 << 13)) ^ ((v16 + ~(v16 << 13)) >> 8));
          v18 = (v17 ^ (v17 >> 15)) + ~((v17 ^ (v17 >> 15)) << 27);
          v19 = v15 & ((v18 >> 31) ^ v18);
          v20 = 1;
          do
          {
            v21 = v19;
            v22 = *(v14 + 8 * v19);
            v19 = (v19 + v20++) & v15;
          }

          while (v22);
          v23 = (v14 + 8 * v21);
          *v12 = 0;
          *v23 = v13;
          v24 = *v12;
          *v12 = 0;
          if (v24)
          {
            WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v24 + 8));
          }

          if (v12 == a2)
          {
            v11 = v23;
          }
        }

        else
        {
          *v12 = 0;
        }
      }

      ++v10;
    }

    while (v10 != v5);
  }

  else
  {
    v11 = 0;
    result = 0;
    if (!v4)
    {
      return result;
    }
  }

  WTF::fastFree((v4 - 16), v9);
  return v11;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, void *a2)
{
  v4 = *a1;
  if (!*a1)
  {
    v5 = 0;
    v6 = 0;
LABEL_3:
    v7 = 8;
    goto LABEL_4;
  }

  v5 = *(v4 - 4);
  v6 = *(v4 - 12);
  if (!v5)
  {
    goto LABEL_3;
  }

  v7 = v5 << (6 * v6 >= 2 * v5);
LABEL_4:
  v8 = WTF::fastZeroedMalloc((16 * v7 + 16));
  *a1 = (v8 + 4);
  v8[2] = v7 - 1;
  v8[3] = v7;
  *v8 = 0;
  v8[1] = v6;
  v10 = 0;
  if (v5)
  {
    v12 = v5;
    v13 = v4;
    do
    {
      if (*v13 != -1)
      {
        if (*v13)
        {
          v14 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::reinsert(*a1, v13);
          WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>::~KeyValuePair(v13, v15);
          if (v13 == a2)
          {
            v10 = v14;
          }
        }

        else
        {
          WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>::~KeyValuePair(v13, v9);
        }
      }

      v13 += 2;
      --v12;
    }

    while (v12);
    goto LABEL_16;
  }

  result = 0;
  if (v4)
  {
LABEL_16:
    WTF::fastFree((v4 - 16), v9);
    return v10;
  }

  return result;
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeHandlerProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeHandlerProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeHandlerProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::reinsert(uint64_t a1, uint64_t a2)
{
  v4 = *a2;
  if (a1)
  {
    v5 = *(a1 - 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(v4 + 4);
  if (v6 < 0x100)
  {
    v7 = WTF::StringImpl::hashSlowCase(v4);
  }

  else
  {
    v7 = v6 >> 8;
  }

  v8 = 0;
  do
  {
    v9 = v7 & v5;
    v7 = ++v8 + v9;
  }

  while (*(a1 + 16 * v9));
  v10 = a1 + 16 * v9;
  v11 = *(v10 + 8);
  *(v10 + 8) = 0;
  if (v11)
  {
    WTF::RefCounted<WebKit::WebURLSchemeHandlerProxy>::deref((v11 + 8));
    v16 = *v10;
    *v10 = 0;
    if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v16, v15);
    }
  }

  else
  {
    *v10 = 0;
  }

  v12 = *a2;
  *a2 = 0;
  *v10 = v12;
  v13 = *(a2 + 8);
  *(a2 + 8) = 0;
  *(v10 + 8) = v13;
  return v10;
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1)
{
  v2 = *a1;
  if (!*a1)
  {
    LODWORD(v3) = 0;
    v4 = 0;
LABEL_3:
    v5 = 8;
    goto LABEL_4;
  }

  LODWORD(v3) = *(v2 - 4);
  v4 = *(v2 - 12);
  if (!v3)
  {
    goto LABEL_3;
  }

  v5 = v3 << (6 * v4 >= (2 * v3));
LABEL_4:
  result = WTF::fastZeroedMalloc((16 * v5 + 16));
  *a1 = (result + 4);
  result[2] = v5 - 1;
  result[3] = v5;
  *result = 0;
  result[1] = v4;
  if (v3)
  {
    v8 = v2;
    v3 = v3;
    do
    {
      if (*v8 != -1)
      {
        if (*v8)
        {
          WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::reinsert(*a1, v8);
          v10 = v8[1];
          v8[1] = 0;
          if (v10 && atomic_fetch_add(v10, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v10);
            WTF::fastFree(v10, v7);
          }
        }

        else
        {
          v9 = v8[1];
          v8[1] = 0;
          if (v9 && atomic_fetch_add(v9, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v9);
            WTF::fastFree(v9, v7);
          }
        }
      }

      v8 += 2;
      --v3;
    }

    while (v3);
  }

  else if (!v2)
  {
    return result;
  }

  return WTF::fastFree((v2 - 16), v7);
}

void *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::reinsert(uint64_t a1, void *a2)
{
  if (a1)
  {
    v3 = *(a1 - 8);
  }

  else
  {
    v3 = 0;
  }

  v4 = *a2 + ~(*a2 << 32);
  v5 = (v4 ^ (v4 >> 22)) + ~((v4 ^ (v4 >> 22)) << 13);
  v6 = (9 * (v5 ^ (v5 >> 8))) ^ ((9 * (v5 ^ (v5 >> 8))) >> 15);
  v7 = v3 & (((v6 + ~(v6 << 27)) >> 31) ^ (v6 + ~(v6 << 27)));
  v8 = 1;
  do
  {
    v9 = v7;
    v10 = *(a1 + 16 * v7);
    v7 = (v7 + v8++) & v3;
  }

  while (v10);
  v11 = (a1 + 16 * v9);
  v12 = v11[1];
  v11[1] = 0;
  if (v12 && atomic_fetch_add(v12, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v12);
    WTF::fastFree(v12, a2);
  }

  *v11 = *a2;
  v13 = a2[1];
  a2[1] = 0;
  v11[1] = v13;
  return v11;
}

uint64_t WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebURLSchemeHandlerProxy,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebKit::WebURLSchemeHandlerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t a2)
{
  if (a2 == -1 || !a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E4175C8);
  }

  v2 = *a1;
  if (*a1)
  {
    v3 = *(v2 - 8);
    v4 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v5 = 9 * ((v4 + ~(v4 << 13)) ^ ((v4 + ~(v4 << 13)) >> 8));
    v6 = (v5 ^ (v5 >> 15)) + ~((v5 ^ (v5 >> 15)) << 27);
    v7 = v3 & ((v6 >> 31) ^ v6);
    v8 = *(v2 + 16 * v7);
    if (v8 == a2)
    {
LABEL_8:
      v10 = *(v2 + 16 * v7 + 8);
      if (v10)
      {
        return *(v10 + 8);
      }
    }

    else
    {
      v9 = 1;
      while (v8)
      {
        v7 = (v7 + v9) & v3;
        v8 = *(v2 + 16 * v7);
        ++v9;
        if (v8 == a2)
        {
          goto LABEL_8;
        }
      }
    }
  }

  return 0;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::HasStorageAccess,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1134120;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::HasStorageAccess,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134120;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::HasStorageAccess,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = *&v4 & ((v4 & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

uint64_t Messages::NetworkConnectionToWebProcess::RequestStorageAccess::encode<IPC::Encoder>(uint64_t a1, IPC::Encoder *a2)
{
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(a2, *a1);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(a2, *(a1 + 8));
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(a2, **(a1 + 16));
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(a2, **(a1 + 24));
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(a2, **(a1 + 32));
  v5 = *(a1 + 40);
  return IPC::Encoder::operator<<<BOOL>(a2, &v5);
}

void *WTF::Detail::CallableWrapper<WebCore::StorageAccessScope<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::RequestStorageAccess,WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0>(WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&,IPC::Connection*>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1134148;
  v2 = a1[4];
  a1[4] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  v3 = a1[3];
  a1[3] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = a1[2];
  a1[2] = 0;
  if (v4)
  {
    CFRelease(*(v4 + 8));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebCore::StorageAccessScope<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::RequestStorageAccess,WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0>(WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&,IPC::Connection*>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1134148;
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  v4 = *(this + 3);
  *(this + 3) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  v5 = *(this + 2);
  *(this + 2) = 0;
  if (v5)
  {
    CFRelease(*(v5 + 8));
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WebCore::StorageAccessScope<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::RequestStorageAccess,WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0>(WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&,IPC::Connection*>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (!a3 || !*a3)
  {
    goto LABEL_14;
  }

  IPC::ArgumentCoder<WebCore::RequestStorageAccessResult,void>::decode(a3, &v17);
  if ((v20 & 1) == 0)
  {
    v8 = *a3;
    v9 = a3[1];
    *a3 = 0;
    a3[1] = 0;
    v10 = a3[3];
    if (v10)
    {
      if (v9)
      {
        (*(*v10 + 16))(v10, v8);
        if (v20)
        {
          goto LABEL_4;
        }

        v11 = *a3;
        v9 = a3[1];
        v10 = a3[3];
        goto LABEL_13;
      }
    }

    else
    {
      v9 = 0;
    }

    v11 = 0;
LABEL_13:
    *a3 = 0;
    a3[1] = 0;
    if (v10 && v9)
    {
      (*(*v10 + 16))(v10, v11);
    }

LABEL_14:
    v17 = 0;
    v18 = 0;
    v19[0] = 0;
    v19[1] = 0;
    std::apply[abi:sn200100]<WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0,std::tuple<WTF::CompletionHandler>>(a1 + 8, &v17);
    v12 = v19[1];
    if (v19[1] && atomic_fetch_add_explicit(v19[1], 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v12, v6);
    }

    result = v19[0];
    if (v19[0])
    {
      goto LABEL_18;
    }

    return result;
  }

LABEL_4:
  v13 = v17;
  v14 = v18;
  *v15 = *v19;
  v16 = 1;
  result = std::apply[abi:sn200100]<WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0,std::tuple<WTF::CompletionHandler>>(a1 + 8, &v13);
  if (v16)
  {
    v7 = v15[1];
    if (v15[1] && atomic_fetch_add_explicit(v15[1], 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v7, v6);
    }

    result = v15[0];
    if (v15[0])
    {
LABEL_18:
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v6);
      }
    }
  }

  return result;
}

WTF::StringImpl *std::apply[abi:sn200100]<WebKit::WebPage::requestStorageAccess(WebCore::RegistrableDomain &&,WebCore::RegistrableDomain &,WebKit::WebFrame &,WebCore::StorageAccessScope,WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)> &&)::$_0,std::tuple<WTF::CompletionHandler>>(uint64_t a1, uint64_t a2)
{
  v14 = *a2;
  v15 = *(a2 + 2);
  v3 = *(a2 + 8);
  *(a2 + 8) = 0;
  *(a2 + 16) = 0;
  *v16 = v3;
  v4 = v3;
  if (v14 == 1)
  {
    if (v15)
    {
      WebKit::WebPage::addDomainWithPageLevelStorageAccess(*a1, v16, &v16[1]);
      v4 = v16[0];
    }

    else
    {
      v5 = WebKit::WebFrame::localFrameLoaderClient(*(a1 + 24));
      v6 = v5;
      if (v5)
      {
        WebCore::LocalFrameLoaderClient::ref(v5);
      }

      v7 = v6[5].i8[0];
      v6[4] = vextq_s8(*(a1 + 32), *(a1 + 32), 8uLL);
      if ((v7 & 1) == 0)
      {
        v6[5].i8[0] = 1;
      }

      WebCore::LocalFrameLoaderClient::deref(v6);
    }
  }

  v17 = v14;
  v18 = v15;
  if (v4)
  {
    atomic_fetch_add_explicit(v4, 2u, memory_order_relaxed);
  }

  v19 = v4;
  v8 = v16[1];
  if (v16[1])
  {
    atomic_fetch_add_explicit(v16[1], 2u, memory_order_relaxed);
  }

  v20 = v8;
  WTF::CompletionHandler<void ()(WebCore::RequestStorageAccessResult)>::operator()((a1 + 16), &v17);
  v10 = v20;
  v20 = 0;
  if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, v9);
  }

  v11 = v19;
  v19 = 0;
  if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v11, v9);
  }

  v12 = v16[1];
  v16[1] = 0;
  if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v12, v9);
  }

  result = v16[0];
  v16[0] = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v9);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SetLoginStatus,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1134170;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SetLoginStatus,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134170;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::SetLoginStatus,WTF::CompletionHandler<void ()(void)>>(WTF::CompletionHandler<void ()(void)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v1 + 16))(v1);
  v2 = *(*v1 + 8);

  return v2(v1);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::IsLoggedIn,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1134198;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::IsLoggedIn,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134198;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkConnectionToWebProcess::IsLoggedIn,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = *&v4 & ((v4 & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WebCore::RegistrableDomain,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::RegistrableDomain>>,(WTF::ShouldValidateKey)1,WebCore::RegistrableDomain>(uint64_t *a1, WTF **a2, const WTF::StringImpl *a3)
{
  if (!*a1)
  {
    return 0;
  }

  if (WTF::equal(*a2, 0, a3) || *a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E418070);
  }

  v6 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v7 = *(v6 - 8);
  v8 = WTF::ASCIICaseInsensitiveHash::hash(*a2, v5) & v7;
  v9 = (v6 + 16 * v8);
  if (WTF::equal(*v9, 0, v10))
  {
LABEL_10:
    if (*a1)
    {
      return *a1 + 16 * *(*a1 - 4);
    }

    return 0;
  }

  v12 = 1;
  while (*v9 == -1 || (WTF::equalIgnoringASCIICase(*v9, *a2, v11) & 1) == 0)
  {
    v8 = (v8 + v12) & v7;
    v9 = (v6 + 16 * v8);
    ++v12;
    if (WTF::equal(*v9, 0, v11))
    {
      goto LABEL_10;
    }
  }

  return v9;
}

uint64_t IPC::MessageSender::sendWithAsyncReply<Messages::WebPageProxy::ShouldAllowDeviceOrientationAndMotionAccess,WTF::CompletionHandler<void ()(WebCore::DeviceOrientationOrMotionPermissionState)>>(uint64_t a1, char *a2, uint64_t *a3, uint64_t a4, unsigned __int8 a5)
{
  v10 = IPC::Encoder::operator new(0x238, a2);
  *v10 = 2371;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = a4;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  IPC::Encoder::encodeHeader(v10);
  v23 = v10;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v10, **a2);
  IPC::ArgumentCoder<WebKit::FrameInfoData,void>::encode(v10, *(a2 + 1));
  IPC::Encoder::operator<<<BOOL &>(v10, a2 + 16);
  v11 = *a3;
  *a3 = 0;
  v12 = WTF::fastMalloc(0x10);
  *v12 = &unk_1F11341C0;
  v12[1] = v11;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v13 = v12;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v22[0] = v13;
    v22[1] = IdentifierInternal;
    v16 = (*(*a1 + 40))(a1, &v23, v22, a5);
    v17 = v22[0];
    v22[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v23;
    v23 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    if (v16)
    {
      return IdentifierInternal;
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShouldAllowDeviceOrientationAndMotionAccess,WTF::CompletionHandler<void ()(WebCore::DeviceOrientationOrMotionPermissionState)>>(WTF::CompletionHandler<void ()(WebCore::DeviceOrientationOrMotionPermissionState)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11341C0;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShouldAllowDeviceOrientationAndMotionAccess,WTF::CompletionHandler<void ()(WebCore::DeviceOrientationOrMotionPermissionState)>>(WTF::CompletionHandler<void ()(WebCore::DeviceOrientationOrMotionPermissionState)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11341C0;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShouldAllowDeviceOrientationAndMotionAccess,WTF::CompletionHandler<void ()(WebCore::DeviceOrientationOrMotionPermissionState)>>(WTF::CompletionHandler<void ()(WebCore::DeviceOrientationOrMotionPermissionState)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3)
  {
    v5 = *a3;
    if (*a3)
    {
      v6 = IPC::Decoder::decode<WebCore::StoredCredentialsPolicy>(a3);
      v7 = v6 & 0x100;
      if ((v6 & 0x100) == 0)
      {
        v12 = *a3;
        v13 = *(a3 + 1);
        *a3 = 0;
        *(a3 + 1) = 0;
        v14 = *(a3 + 3);
        if (v14)
        {
          if (v13)
          {
            v16 = v6;
            v15 = v6 & 0x100;
            (*(*v14 + 16))(v14, v12);
            v7 = v15;
            LOBYTE(v6) = v16;
          }
        }
      }

      v8 = v6;
      if (!v7)
      {
        v8 = 0;
      }

      LODWORD(v5) = v8 | v7;
      if (v5 <= 0x100)
      {
        LOBYTE(v5) = 0;
      }
    }
  }

  else
  {
    LOBYTE(v5) = 0;
  }

  v9 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v9 + 16))(v9, v5);
  v10 = *(*v9 + 8);

  return v10(v9);
}

uint64_t IPC::MessageSender::sendWithAsyncReply<Messages::WebPageProxy::ShowShareSheet,WTF::CompletionHandler<void ()(BOOL)>>(uint64_t a1, void *a2, uint64_t *a3, uint64_t a4, unsigned __int8 a5)
{
  v10 = IPC::Encoder::operator new(0x238, a2);
  *v10 = 2386;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = a4;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  IPC::Encoder::encodeHeader(v10);
  v23 = v10;
  IPC::ArgumentCoder<WebCore::ShareDataWithParsedURL,void>::encode(v10, *a2);
  v11 = *a3;
  *a3 = 0;
  v12 = WTF::fastMalloc(0x10);
  *v12 = &unk_1F11341E8;
  v12[1] = v11;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v13 = v12;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v22[0] = v13;
    v22[1] = IdentifierInternal;
    v16 = (*(*a1 + 40))(a1, &v23, v22, a5);
    v17 = v22[0];
    v22[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v23;
    v23 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    if (v16)
    {
      return IdentifierInternal;
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowShareSheet,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11341E8;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowShareSheet,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11341E8;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowShareSheet,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = *&v4 & ((v4 & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

uint64_t IPC::MessageSender::sendWithAsyncReply<Messages::WebPageProxy::ShowContactPicker,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(uint64_t a1, void *a2, uint64_t *a3, uint64_t a4, unsigned __int8 a5)
{
  v10 = IPC::Encoder::operator new(0x238, a2);
  *v10 = 2374;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = a4;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  IPC::Encoder::encodeHeader(v10);
  v23 = v10;
  IPC::ArgumentCoder<WebCore::ContactsRequestData,void>::encode(v10, *a2);
  v11 = *a3;
  *a3 = 0;
  v12 = WTF::fastMalloc(0x10);
  *v12 = &unk_1F1134210;
  v12[1] = v11;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v13 = v12;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v22[0] = v13;
    v22[1] = IdentifierInternal;
    v16 = (*(*a1 + 40))(a1, &v23, v22, a5);
    v17 = v22[0];
    v22[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v23;
    v23 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    if (v16)
    {
      return IdentifierInternal;
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowContactPicker,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1134210;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowContactPicker,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134210;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowContactPicker,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>,IPC::Decoder>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (!a3 || (v5 = *a3) == 0)
  {
    v22 = (a1 + 8);

    return IPC::Connection::cancelReply<Messages::WebPageProxy::ShowContactPicker,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(v22);
  }

  v6 = *(a3 + 1);
  v7 = *(a3 + 2);
  if (v6 <= v7 - v5)
  {
    *a3 = 0;
    *(a3 + 1) = 0;
    v48 = *(a3 + 3);
    if (v48)
    {
      if (v6)
      {
        (*(*v48 + 16))(v48);
        v5 = *a3;
        v6 = *(a3 + 1);
LABEL_73:
        *a3 = 0;
        *(a3 + 1) = 0;
        v49 = *(a3 + 3);
        if (v49)
        {
          if (v6)
          {
            (*(*v49 + 16))(v49, v5);
            goto LABEL_54;
          }
        }

        else
        {
          v6 = 0;
        }

        v5 = 0;
LABEL_55:
        *a3 = 0;
        *(a3 + 1) = 0;
        v37 = *(a3 + 3);
        if (v37 && v6)
        {
          (*(*v37 + 16))(v37, v5);
        }

        v38 = *a3;
        v39 = *(a3 + 1);
        *a3 = 0;
        *(a3 + 1) = 0;
        v40 = *(a3 + 3);
        if (v40 && v39)
        {
          (*(*v40 + 16))(v40, v38);
          v41 = *(a3 + 3);
          v42 = *a3;
          v43 = *(a3 + 1);
          *a3 = 0;
          *(a3 + 1) = 0;
          if (v41)
          {
            if (v43)
            {
              (*(*v41 + 16))(v41, v42);
            }
          }
        }

        else
        {
          *a3 = 0;
          *(a3 + 1) = 0;
        }

        return IPC::Connection::cancelReply<Messages::WebPageProxy::ShowContactPicker,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>((a1 + 8));
      }
    }

    else
    {
      v6 = 0;
    }

    v5 = 0;
    goto LABEL_73;
  }

  *(a3 + 2) = v7 + 1;
  if (!v7)
  {
    goto LABEL_73;
  }

  if (*v7 >= 2u)
  {
    goto LABEL_55;
  }

  if (*v7)
  {
    v8 = v7 & 0xFFFFFFFFFFFFFFF8;
    v9 = ((v7 & 0xFFFFFFFFFFFFFFF8) + 8);
    if (v6 < v9 - v5 || v6 - (v9 - v5) <= 7)
    {
      v44 = 0;
      v45 = 0;
      *a3 = 0;
      *(a3 + 1) = 0;
      v46 = *(a3 + 3);
      if (v46)
      {
        (*(*v46 + 16))(v46);
        v45 = *a3;
        v44 = *(a3 + 1);
      }

      goto LABEL_67;
    }

    *(a3 + 2) = v8 + 16;
    if (!v9)
    {
      v44 = v6;
      v45 = v5;
LABEL_67:
      *a3 = 0;
      *(a3 + 1) = 0;
      v47 = *(a3 + 3);
      if (v47 && v44)
      {
        (*(*v47 + 16))(v47, v45, v44);
      }

      goto LABEL_54;
    }

    v11 = *v9;
    v70 = 0;
    v71 = 0;
    if (v11 >= 0x5555)
    {
      while (1)
      {
        result = IPC::Decoder::decode<WebCore::ContactInfo>(&v60, a3);
        v28 = v69;
        if (v69 == 1)
        {
          v29 = HIDWORD(v71);
          if (HIDWORD(v71) == v71)
          {
            result = WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::ContactInfo>(&v70, &v60);
          }

          else
          {
            v30 = v70 + 48 * HIDWORD(v71);
            *v30 = 0;
            *(v30 + 8) = 0;
            v31 = v60;
            v60 = 0;
            *v30 = v31;
            LODWORD(v31) = v61;
            v61 = 0;
            *(v30 + 8) = v31;
            LODWORD(v31) = v62;
            v62 = 0;
            *(v30 + 12) = v31;
            *(v30 + 16) = 0;
            *(v30 + 24) = 0;
            v32 = v63;
            v63 = 0;
            *(v30 + 16) = v32;
            LODWORD(v32) = v64;
            v64 = 0;
            *(v30 + 24) = v32;
            LODWORD(v32) = v65;
            v65 = 0;
            *(v30 + 28) = v32;
            *(v30 + 32) = 0;
            *(v30 + 40) = 0;
            v33 = v66;
            v66 = 0;
            *(v30 + 32) = v33;
            LODWORD(v33) = v67;
            v67 = 0;
            *(v30 + 40) = v33;
            LODWORD(v33) = v68;
            v68 = 0;
            *(v30 + 44) = v33;
            HIDWORD(v71) = v29 + 1;
          }
        }

        if (v69 == 1)
        {
          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v66, v5);
          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v63, v34);
          result = WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v60, v35);
        }

        if ((v28 & 1) == 0)
        {
          goto LABEL_53;
        }

        if (!--v11)
        {
          LODWORD(v11) = v71;
          v21 = HIDWORD(v71);
          v20 = v70;
          if (v71 <= HIDWORD(v71))
          {
            goto LABEL_30;
          }

          v36 = v70;
          if (HIDWORD(v71))
          {
            if (HIDWORD(v71) >= 0x5555556)
            {
              __break(0xC471u);
              return result;
            }

            v36 = WTF::fastMalloc((48 * HIDWORD(v71)));
            LODWORD(v11) = 48 * v21 / 0x30;
            if (v36 != v20)
            {
              WTF::VectorMover<false,WebCore::ContactInfo>::move(v20, v20 + 12 * v21, v36);
            }
          }

          if (v20)
          {
            if (v36 == v20)
            {
              LODWORD(v11) = 0;
              v36 = 0;
              v70 = 0;
            }

            WTF::fastFree(v20, v5);
          }

          v20 = v36;
          goto LABEL_30;
        }
      }
    }

    if (v11)
    {
      LODWORD(v71) = 48 * v11 / 0x30u;
      v70 = WTF::fastMalloc((48 * v11));
      while (1)
      {
        IPC::Decoder::decode<WebCore::ContactInfo>(&v60, a3);
        v12 = v69;
        if (v69 == 1)
        {
          v13 = HIDWORD(v71);
          if (HIDWORD(v71) == v71)
          {
            WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::ContactInfo>(&v70, &v60);
          }

          else
          {
            v14 = v70 + 48 * HIDWORD(v71);
            *v14 = 0;
            *(v14 + 8) = 0;
            v15 = v60;
            v60 = 0;
            *v14 = v15;
            LODWORD(v15) = v61;
            v61 = 0;
            *(v14 + 8) = v15;
            LODWORD(v15) = v62;
            v62 = 0;
            *(v14 + 12) = v15;
            *(v14 + 16) = 0;
            *(v14 + 24) = 0;
            v16 = v63;
            v63 = 0;
            *(v14 + 16) = v16;
            LODWORD(v16) = v64;
            v64 = 0;
            *(v14 + 24) = v16;
            LODWORD(v16) = v65;
            v65 = 0;
            *(v14 + 28) = v16;
            *(v14 + 32) = 0;
            *(v14 + 40) = 0;
            v17 = v66;
            v66 = 0;
            *(v14 + 32) = v17;
            LODWORD(v17) = v67;
            v67 = 0;
            *(v14 + 40) = v17;
            LODWORD(v17) = v68;
            v68 = 0;
            *(v14 + 44) = v17;
            HIDWORD(v71) = v13 + 1;
          }
        }

        if (v69 == 1)
        {
          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v66, v5);
          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v63, v18);
          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v60, v19);
        }

        if ((v12 & 1) == 0)
        {
          break;
        }

        if (!--v11)
        {
          v20 = v70;
          LODWORD(v11) = v71;
          v21 = HIDWORD(v71);
          goto LABEL_30;
        }
      }

LABEL_53:
      WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v70, v5);
LABEL_54:
      v5 = *a3;
      v6 = *(a3 + 1);
      goto LABEL_55;
    }

    v21 = 0;
    v20 = 0;
LABEL_30:
    v70 = 0;
    v71 = 0;
    v59 = 1;
    WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v70, v5);
    v58[0] = 0;
    v58[1] = 0;
    v56 = 1;
    v57 = 1;
    WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v58, v24);
    v55[0] = 0;
    v55[1] = 0;
    v50 = v20;
    v51 = v11;
    v52 = v21;
    v53 = 1;
    v54 = 1;
    WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v55, v25);
  }

  else
  {
    LOBYTE(v50) = 0;
    v53 = 0;
    v54 = 1;
  }

  v26 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v26 + 16))(v26, &v50);
  result = (*(*v26 + 8))(v26);
  if ((v54 & 1) != 0 && v53 == 1)
  {
    return WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v50, v27);
  }

  return result;
}

uint64_t IPC::Connection::cancelReply<Messages::WebPageProxy::ShowContactPicker,WTF::CompletionHandler<void ()(std::optional<WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>> &&)>>(uint64_t *a1)
{
  v4[0] = 0;
  v5 = 0;
  v1 = *a1;
  *a1 = 0;
  (*(*v1 + 16))(v1, v4);
  result = (*(*v1 + 8))(v1);
  if (v5 == 1)
  {
    return WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v4, v3);
  }

  return result;
}

uint64_t IPC::Decoder::decode<WebCore::ContactInfo>(uint64_t a1, IPC::Decoder *a2)
{
  result = IPC::ArgumentCoder<WebCore::ContactInfo,void>::decode(a2, a1);
  if ((*(a1 + 48) & 1) == 0)
  {
    v5 = *(a2 + 1);
    *a2 = 0;
    *(a2 + 1) = 0;
    result = *(a2 + 3);
    if (result && v5 != 0)
    {
      v7 = *(*result + 16);

      return v7();
    }
  }

  return result;
}

WTF *WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::ContactInfo>(uint64_t a1, unint64_t a2)
{
  v3 = WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, *(a1 + 12) + 1, a2);
  v4 = (*a1 + 48 * *(a1 + 12));
  *v4 = 0;
  v4[1] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v4, v3);
  v4[3] = 0;
  v4[2] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((v4 + 2), v3 + 4);
  v4[4] = 0;
  v4[5] = 0;
  result = WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((v4 + 4), v3 + 8);
  ++*(a1 + 12);
  return result;
}

unint64_t WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(uint64_t a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 48 * *(a1 + 12) <= a3)
  {
    v10 = *(a1 + 8);
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = *(a1 + 8);
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

uint64_t WTF::Vector<WebCore::ContactInfo,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(uint64_t result, unint64_t a2)
{
  if (*(result + 8) < a2)
  {
    if (a2 >= 0x5555556)
    {
      __break(0xC471u);
      JUMPOUT(0x19E419348);
    }

    v2 = result;
    v3 = *result;
    v4 = (*result + 48 * *(result + 12));
    v5 = 48 * a2;
    v6 = WTF::fastMalloc((48 * a2));
    *(v2 + 8) = v5 / 0x30;
    *v2 = v6;
    result = WTF::VectorMover<false,WebCore::ContactInfo>::move(v3, v4, v6);
    if (v3)
    {
      if (*v2 == v3)
      {
        *v2 = 0;
        *(v2 + 8) = 0;
      }

      return WTF::fastFree(v3, v7);
    }
  }

  return result;
}

uint64_t WTF::VectorMover<false,WebCore::ContactInfo>::move(uint64_t result, _DWORD *a2, void *a3)
{
  if (result != a2)
  {
    v5 = result;
    do
    {
      *a3 = 0;
      a3[1] = 0;
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(a3, v5);
      a3[3] = 0;
      a3[2] = 0;
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt((a3 + 2), v5 + 4);
      a3[4] = 0;
      a3[5] = 0;
      v6 = (a3 + 4);
      WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v6, v5 + 8);
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((v5 + 8), v7);
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((v5 + 4), v8);
      result = WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v5, v9);
      v5 += 12;
      a3 = (v6 + 16);
    }

    while (v5 != a2);
  }

  return result;
}

uint64_t IPC::MessageSender::sendWithAsyncReply<Messages::WebPageProxy::ShowDigitalCredentialsPicker,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>>(uint64_t a1, void *a2, uint64_t *a3, uint64_t a4, unsigned __int8 a5)
{
  v10 = IPC::Encoder::operator new(0x238, a2);
  *v10 = 2379;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = a4;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  IPC::Encoder::encodeHeader(v10);
  v23 = v10;
  IPC::ArgumentCoder<WebCore::DigitalCredentialsRequestData,void>::encode(v10, *a2);
  v11 = *a3;
  *a3 = 0;
  v12 = WTF::fastMalloc(0x10);
  *v12 = &unk_1F1134238;
  v12[1] = v11;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v13 = v12;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v22[0] = v13;
    v22[1] = IdentifierInternal;
    v16 = (*(*a1 + 40))(a1, &v23, v22, a5);
    v17 = v22[0];
    v22[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v23;
    v23 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    if (v16)
    {
      return IdentifierInternal;
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowDigitalCredentialsPicker,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>>(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>,IPC::Decoder>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1134238;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowDigitalCredentialsPicker,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>>(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>,IPC::Decoder>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134238;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowDigitalCredentialsPicker,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>>(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>,IPC::Decoder)#1},void,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>,IPC::Decoder>::call(uint64_t a1, WTF::StringImpl *a2, uint64_t *a3)
{
  if (a3)
  {
    a2 = *a3;
    if (*a3)
    {
      v5 = a3[1];
      v6 = a3[2];
      if (v5 > v6 - a2)
      {
        a3[2] = (v6 + 1);
        if (v6)
        {
          v7 = *v6;
          if (v7 >= 2)
          {
            goto LABEL_23;
          }

          if (v7)
          {
            IPC::ArgumentCoder<WebCore::DigitalCredentialsResponseData,void>::decode(a3, v30);
            if (v32)
            {
              v9 = 0;
              v10 = v30[0];
              v26[0] = v30[0];
              v11 = v31;
              v28 = 0;
              v29 = 1;
              goto LABEL_11;
            }
          }

          else
          {
            IPC::ArgumentCoder<WebCore::Exception,void>::decode(a3, v30);
            if (v32)
            {
              v10 = v30[0];
              v11 = v31;
              v9 = 1;
              v28 = 1;
              v26[0] = v30[0];
              v29 = 1;
LABEL_11:
              v22[0] = v10;
              v27 = 0;
              v23 = v11;
              v24 = v9;
              v25 = 1;
              std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData>::~expected(v26, v8);
              v12 = *(a1 + 8);
              *(a1 + 8) = 0;
              (*(*v12 + 16))(v12, v22);
              result = (*(*v12 + 8))(v12);
              if (v25)
              {
                return std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData>::~expected(v22, v14);
              }

              return result;
            }
          }

          goto LABEL_22;
        }

LABEL_17:
        *a3 = 0;
        a3[1] = 0;
        v16 = a3[3];
        if (v16)
        {
          if (v5)
          {
            (*(*v16 + 16))(v16, a2);
LABEL_22:
            a2 = *a3;
            v5 = a3[1];
LABEL_23:
            *a3 = 0;
            a3[1] = 0;
            v17 = a3[3];
            if (v17 && v5)
            {
              (*(*v17 + 16))(v17, a2);
            }

            a2 = *a3;
            v18 = a3[1];
            *a3 = 0;
            a3[1] = 0;
            v19 = a3[3];
            if (v19 && v18)
            {
              (*(*v19 + 16))(v19, a2);
              v20 = a3[3];
              a2 = *a3;
              v21 = a3[1];
              *a3 = 0;
              a3[1] = 0;
              if (v20 && v21)
              {
                (*(*v20 + 16))(v20, a2);
              }
            }

            else
            {
              *a3 = 0;
              a3[1] = 0;
            }

            goto LABEL_26;
          }
        }

        else
        {
          v5 = 0;
        }

        a2 = 0;
        goto LABEL_23;
      }

      *a3 = 0;
      a3[1] = 0;
      v15 = a3[3];
      if (v15)
      {
        if (v5)
        {
          (*(*v15 + 16))(v15);
          a2 = *a3;
          v5 = a3[1];
          goto LABEL_17;
        }
      }

      else
      {
        v5 = 0;
      }

      a2 = 0;
      goto LABEL_17;
    }
  }

LABEL_26:

  return IPC::Connection::cancelReply<Messages::WebPageProxy::ShowDigitalCredentialsPicker,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>>((a1 + 8), a2);
}

uint64_t IPC::Connection::cancelReply<Messages::WebPageProxy::ShowDigitalCredentialsPicker,WTF::CompletionHandler<void ()(std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData> &&)>>(uint64_t *a1, WTF::StringImpl *a2)
{
  v9[0] = 0;
  v11 = 1;
  v6[0] = 0;
  v10 = 0;
  v7 = 0;
  v8 = 1;
  std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData>::~expected(v9, a2);
  v3 = *a1;
  *a1 = 0;
  (*(*v3 + 16))(v3, v6);
  (*(*v3 + 8))(v3);
  return std::experimental::fundamentals_v3::expected<WebCore::DigitalCredentialsResponseData,WebCore::ExceptionData>::~expected(v6, v4);
}

uint64_t IPC::MessageSender::sendWithAsyncReply<Messages::WebPageProxy::DismissDigitalCredentialsPicker,WTF::CompletionHandler<void ()(BOOL)>>(uint64_t a1, void *a2, uint64_t *a3, uint64_t a4, unsigned __int8 a5)
{
  v9 = IPC::Encoder::operator new(0x238, a2);
  *v9 = 2240;
  *(v9 + 2) = 0;
  *(v9 + 3) = 0;
  *(v9 + 1) = a4;
  *(v9 + 68) = 0;
  *(v9 + 70) = 0;
  *(v9 + 69) = 0;
  IPC::Encoder::encodeHeader(v9);
  v22 = v9;
  v10 = *a3;
  *a3 = 0;
  v11 = WTF::fastMalloc(0x10);
  *v11 = &unk_1F1134260;
  v11[1] = v10;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v12 = v11;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v21[0] = v12;
    v21[1] = IdentifierInternal;
    v15 = (*(*a1 + 40))(a1, &v22, v21, a5);
    v16 = v21[0];
    v21[0] = 0;
    if (v16)
    {
      (*(*v16 + 8))(v16);
    }

    v17 = v22;
    v22 = 0;
    if (v17)
    {
      IPC::Encoder::~Encoder(v17, v14);
      bmalloc::api::tzoneFree(v19, v20);
    }

    if (v15)
    {
      return IdentifierInternal;
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::DismissDigitalCredentialsPicker,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1134260;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::DismissDigitalCredentialsPicker,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134260;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::DismissDigitalCredentialsPicker,WTF::CompletionHandler<void ()(BOOL)>>(WTF::CompletionHandler<void ()(BOOL)> &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<BOOL>>(a3);
    v5 = *&v4 & ((v4 & 0x100) >> 8);
  }

  else
  {
    v5 = 0;
  }

  v6 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v6 + 16))(v6, v5);
  v7 = *(*v6 + 8);

  return v7(v6);
}

IPC::Encoder *IPC::Connection::sendSync<Messages::WebPageProxy::RequestDOMPasteAccess>@<X0>(unsigned __int8 *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, char a4@<W3>, uint64_t a5@<X8>, double a6@<D0>)
{
  SyncMessageEncoder = IPC::Connection::createSyncMessageEncoder(0x1041, a3, v36);
  v12 = v36[0];
  if (a4)
  {
    v13 = *(v36[0] + 2);
    if (v13)
    {
      if (!*(v36[0] + 3))
      {
        __break(1u);
LABEL_16:
        mpark::throw_bad_variant_access(SyncMessageEncoder);
      }
    }

    else
    {
      v13 = v36[0] + 32;
    }

    *v13 |= 4u;
    a1[92] = 1;
  }

  IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v12, *a2);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v12, **(a2 + 8));
  IPC::ArgumentCoder<WebCore::IntRect,void>::encode(v12, *(a2 + 16));
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v12, *(a2 + 24));
  SyncMessageEncoder = IPC::Connection::sendSyncMessage(a1, v36[1], v36, a4, &v34, a6);
  if (!v35)
  {
    v15 = v34;
    v34 = 0;
    if (*(v15 + 25) == 3194)
    {
      v16 = 11;
      goto LABEL_24;
    }

    v17 = *(v15 + 1);
    v18 = *(v15 + 2);
    v14 = *v15;
    if (v17 <= &v18[-*v15])
    {
      *v15 = 0;
      *(v15 + 1) = 0;
      v20 = *(v15 + 3);
      if (v20)
      {
        if (v17)
        {
          (*(*v20 + 16))(v20);
          v17 = *(v15 + 1);
        }
      }

      else
      {
        v17 = 0;
      }
    }

    else
    {
      *(v15 + 2) = v18 + 1;
      if (v18)
      {
        v19 = *v18;
        if (v19 < 3)
        {
          *a5 = v15;
          *(a5 + 8) = v19;
          *(a5 + 16) = 0;
          goto LABEL_25;
        }

        goto LABEL_22;
      }
    }

    *v15 = 0;
    *(v15 + 1) = 0;
    v21 = *(v15 + 3);
    if (v21)
    {
      if (v17)
      {
        (*(*v21 + 16))(v21);
        v14 = *v15;
        v17 = *(v15 + 1);
LABEL_22:
        *v15 = 0;
        *(v15 + 1) = 0;
        v22 = *(v15 + 3);
        if (v22 && v17)
        {
          (*(*v22 + 16))(v22, v14);
          v31 = *v15;
          v32 = *(v15 + 1);
          v33 = *(v15 + 3);
          v16 = 14;
          *v15 = 0;
          *(v15 + 1) = 0;
          if (!v33 || !v32)
          {
            goto LABEL_24;
          }

          (*(*v33 + 16))(v33, v31);
        }

        v16 = 14;
LABEL_24:
        *a5 = v16;
        *(a5 + 16) = 1;
        IPC::Decoder::~Decoder(v15);
        bmalloc::api::tzoneFree(v23, v24);
        goto LABEL_25;
      }
    }

    else
    {
      v17 = 0;
    }

    v14 = 0;
    goto LABEL_22;
  }

  if (v35 != 1)
  {
    goto LABEL_16;
  }

  *a5 = v34;
  *(a5 + 16) = 1;
LABEL_25:
  if (!v35)
  {
    v25 = v34;
    v34 = 0;
    if (v25)
    {
      IPC::Decoder::~Decoder(v25);
      bmalloc::api::tzoneFree(v29, v30);
    }
  }

  result = v36[0];
  v36[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v14);
    return bmalloc::api::tzoneFree(v27, v28);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::startTextManipulationForFrame(WebCore::Frame &)::$_0,void,WebCore::Document &,WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1134288;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::startTextManipulationForFrame(WebCore::Frame &)::$_0,void,WebCore::Document &,WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134288;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WebKit::WebPage::startTextManipulationForFrame(WebCore::Frame &)::$_0,void,WebCore::Document &,WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>::call(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v5 = *(a2 + 552);
  if (!v5)
  {
    v6 = 0;
    goto LABEL_18;
  }

  v6 = *(v5 + 8);
  if (!v6)
  {
LABEL_18:
    v7 = 1;
    goto LABEL_4;
  }

  v7 = 0;
  ++v6[4];
LABEL_4:
  v8 = *(a1 + 8);
  if (v8 && *(v8 + 8))
  {
    if (v7)
    {
      return;
    }

    WebKit::WebFrame::fromCoreFrame(v6, &v21);
    v9 = v21;
    if (v21)
    {
      v10 = *(a1 + 8);
      if (!v10 || (v11 = *(v10 + 8)) == 0)
      {
        __break(0xC471u);
        return;
      }

      v13 = *(v11 + 16);
      v12 = v11 + 16;
      v14 = (*(v13 + 56))(v12);
      v16 = IPC::Encoder::operator new(0x238, v15);
      *v16 = 2201;
      *(v16 + 2) = 0;
      *(v16 + 3) = 0;
      *(v16 + 1) = v14;
      *(v16 + 68) = 0;
      *(v16 + 70) = 0;
      *(v16 + 69) = 0;
      IPC::Encoder::encodeHeader(v16);
      v22 = v16;
      IPC::VectorArgumentCoder<false,WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul>::encode<IPC::Encoder,WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>(v16, a3);
      (*(*v12 + 32))(v12, &v22, 0);
      v18 = v22;
      v22 = 0;
      if (v18)
      {
        IPC::Encoder::~Encoder(v18, v17);
        bmalloc::api::tzoneFree(v19, v20);
      }

      CFRelease(*(v9 + 8));
    }
  }

  else if (v7)
  {
    return;
  }

  if (v6[4] == 1)
  {
    (*(*v6 + 8))(v6);
  }

  else
  {
    --v6[4];
  }
}

uint64_t WTF::Vector<WebCore::TextManipulationItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector<WebCore::TextManipulationItem const,18446744073709551615ul>(uint64_t result, uint64_t a2, unint64_t a3)
{
  v3 = result;
  *result = 0;
  *(result + 8) = 0;
  *(result + 12) = a3;
  if (!a3)
  {
    return v3;
  }

  if (a3 < 0x6666667)
  {
    v5 = 40 * a3;
    v6 = WTF::fastMalloc((40 * a3));
    *(v3 + 8) = v5 / 0x28;
    *v3 = v6;
    v7 = v6 + 24;
    v8 = (a2 + 24);
    do
    {
      v9 = *(v8 - 3);
      *(v7 - 8) = *(v8 - 1);
      *(v7 - 24) = v9;
      v7 = WTF::Vector<WebCore::TextManipulationToken,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v7, v8) + 40;
      v8 += 5;
      v5 -= 40;
    }

    while (v5);
    return v3;
  }

  __break(0xC471u);
  return result;
}

uint64_t Messages::NetworkConnectionToWebProcess::SetCORSDisablingPatterns::encode<IPC::Encoder>(uint64_t a1, IPC::Encoder *a2)
{
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(a2, **a1);
  v4 = *(a1 + 8);

  return IPC::VectorArgumentCoder<false,WTF::String,0ul,WTF::CrashOnOverflow,16ul>::encode<IPC::Encoder,WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>(a2, v4);
}

unint64_t WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(unsigned int *a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 8 * a1[3] <= a3)
  {
    v10 = a1[2];
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = a1[2];
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

unsigned int *WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(unsigned int *result, unint64_t a2)
{
  if (result[2] < a2)
  {
    v2 = a2;
    if (a2 >> 29)
    {
      __break(0xC471u);
    }

    else
    {
      v3 = result;
      v4 = *result;
      v5 = result[3];
      result = WTF::fastMalloc((8 * a2));
      v3[2] = v2;
      *v3 = result;
      if (v5)
      {
        v7 = result;
        v8 = 8 * v5;
        v9 = v4;
        do
        {
          v10 = *v9;
          *v9 = 0;
          *v7 = v10;
          result = *v9;
          *v9 = 0;
          if (result)
          {
            result = (*(*result + 8))(result);
          }

          v7 += 2;
          ++v9;
          v8 -= 8;
        }

        while (v8);
      }

      if (v4)
      {
        if (*v3 == v4)
        {
          *v3 = 0;
          v3[2] = 0;
        }

        return WTF::fastFree(v4, v6);
      }
    }
  }

  return result;
}

uint64_t WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(uint64_t a1, void *a2)
{
  v3 = *(a1 + 12);
  v4 = *a1;
  if (v3)
  {
    v5 = 8 * v3;
    do
    {
      v6 = *v4;
      *v4 = 0;
      if (v6)
      {
        (*(*v6 + 8))(v6);
      }

      v4 = (v4 + 8);
      v5 -= 8;
    }

    while (v5);
    v4 = *a1;
  }

  if (v4)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v4, a2);
  }

  return a1;
}

unint64_t WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::expandCapacity<(WTF::FailureAction)0>(atomic_uint *a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 24 * a1[3] <= a3)
  {
    v10 = a1[2];
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = a1[2];
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

atomic_uint *WTF::Vector<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,0ul,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,16ul,WTF::CrashOnOverflow>::reserveCapacity<(WTF::FailureAction)0>(atomic_uint *result, unint64_t a2)
{
  if (result[2] < a2)
  {
    if (a2 >= 0xAAAAAAB)
    {
      __break(0xC471u);
    }

    else
    {
      v2 = result;
      v3 = *result;
      v4 = (*result + 24 * result[3]);
      v5 = 24 * a2;
      v6 = WTF::fastMalloc((24 * a2));
      v2[2] = v5 / 0x18;
      *v2 = v6;
      result = WTF::VectorMover<false,std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::move(v3, v4, v6);
      if (v3)
      {
        if (*v2 == v3)
        {
          *v2 = 0;
          v2[2] = 0;
        }

        return WTF::fastFree(v3, v7);
      }
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebCore::TextRecognitionOptions &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::RequestTextRecognition,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>(WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1)#1},void,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F11342B0;
  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v3, a2);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebCore::TextRecognitionOptions &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::RequestTextRecognition,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>(WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1)#1},void,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F11342B0;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v3, a2);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WebCore::TextRecognitionOptions &&<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::RequestTextRecognition,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>(WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1)#1},void,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    IPC::ArgumentCoder<WebCore::TextRecognitionResult,void>::decode(a3, v25);
    if (v29 & 1) != 0 || (v14 = *a3, v15 = *(a3 + 1), *a3 = 0, *(a3 + 1) = 0, (v16 = *(a3 + 3)) != 0) && v15 && ((*(*v16 + 16))(v16, v14), (v29))
    {
      std::tuple<WebCore::TextRecognitionResult>::tuple[abi:sn200100]<WebCore::TextRecognitionResult,0>(v20, v25);
      v24 = 1;
      if ((v29 & 1) == 0)
      {
        goto LABEL_8;
      }

      v6 = cf;
      cf = 0;
      if (v6)
      {
        CFRelease(v6);
      }

      WTF::Vector<WebCore::TextRecognitionBlockData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v27, v5);
      WTF::Vector<WebCore::TextRecognitionDataDetector,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v26, v7);
      WTF::Vector<WebCore::TextRecognitionLineData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v25, v8);
      if (v24)
      {
LABEL_8:
        std::apply[abi:sn200100]<WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WebCore::TextRecognitionOptions &&::RefPtr<WebCore::Element,WebCore::TextRecognitionOptions &&::RawPtrTraits<WebCore::Element>,WebCore::TextRecognitionOptions &&::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1,std::tuple<WebCore::TextRecognitionResult>>(a1 + 8);
        if (v24)
        {
          v10 = v23;
          v23 = 0;
          if (v10)
          {
            CFRelease(v10);
          }

          WTF::Vector<WebCore::TextRecognitionBlockData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v22, v9);
          WTF::Vector<WebCore::TextRecognitionDataDetector,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v21, v11);
          WTF::Vector<WebCore::TextRecognitionLineData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v20, v12);
        }

        return;
      }
    }

    else
    {
      LOBYTE(v20[0]) = 0;
      v24 = 0;
    }

    v17 = *a3;
    v18 = *(a3 + 1);
    *a3 = 0;
    *(a3 + 1) = 0;
    v19 = *(a3 + 3);
    if (!v19 || !v18 || ((*(*v19 + 16))(v19, v17), (v24 & 1) == 0))
    {
      IPC::Connection::cancelReply<Messages::WebPageProxy::RequestTextRecognition,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WebCore::TextRecognitionOptions &&::RefPtr<WebCore::Element,WebCore::TextRecognitionOptions &&::RawPtrTraits<WebCore::Element>,WebCore::TextRecognitionOptions &&::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>(a1 + 8);
      return;
    }

    goto LABEL_8;
  }

  v13 = a1 + 8;

  IPC::Connection::cancelReply<Messages::WebPageProxy::RequestTextRecognition,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WebCore::TextRecognitionOptions &&::RefPtr<WebCore::Element,WebCore::TextRecognitionOptions &&::RawPtrTraits<WebCore::Element>,WebCore::TextRecognitionOptions &&::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>(v13);
}

uint64_t IPC::Connection::cancelReply<Messages::WebPageProxy::RequestTextRecognition,WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WebCore::TextRecognitionOptions &&::RefPtr<WebCore::Element,WebCore::TextRecognitionOptions &&::RawPtrTraits<WebCore::Element>,WebCore::TextRecognitionOptions &&::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1>(uint64_t a1)
{
  cf = 0;
  v16 = 0u;
  v17 = 0u;
  v15 = 0u;
  std::tuple<WebCore::TextRecognitionResult>::tuple[abi:sn200100]<WebCore::TextRecognitionResult,0>(v11, &v15);
  v3 = cf;
  cf = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  WTF::Vector<WebCore::TextRecognitionBlockData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v17, v2);
  WTF::Vector<WebCore::TextRecognitionDataDetector,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v16, v4);
  WTF::Vector<WebCore::TextRecognitionLineData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v15, v5);
  std::apply[abi:sn200100]<WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WebCore::TextRecognitionOptions &&::RefPtr<WebCore::Element,WebCore::TextRecognitionOptions &&::RawPtrTraits<WebCore::Element>,WebCore::TextRecognitionOptions &&::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1,std::tuple<WebCore::TextRecognitionResult>>(a1);
  v7 = v14;
  v14 = 0;
  if (v7)
  {
    CFRelease(v7);
  }

  WTF::Vector<WebCore::TextRecognitionBlockData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v13, v6);
  WTF::Vector<WebCore::TextRecognitionDataDetector,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v12, v8);
  return WTF::Vector<WebCore::TextRecognitionLineData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v11, v9);
}

void std::apply[abi:sn200100]<WebKit::WebPage::requestTextRecognition(WebCore::Element &,WebCore::TextRecognitionOptions &&,WTF::CompletionHandler<void ()(WebCore::TextRecognitionOptions &&::RefPtr<WebCore::Element,WebCore::TextRecognitionOptions &&::RawPtrTraits<WebCore::Element>,WebCore::TextRecognitionOptions &&::DefaultRefDerefTraits<WebCore::Element>> &&)> &&)::$_1,std::tuple<WebCore::TextRecognitionResult>>(uint64_t a1)
{
  if (*a1)
  {
    v1 = *(*a1 + 8);
    if (v1)
    {
      v2 = a1;
      CFRetain(*(v1 - 8));
      v4 = *(v1 + 2064);
      v5 = *(v1 + 2076);
      v6 = (v4 + 24 * v5);
      if (v5)
      {
        v35 = v2;
        v7 = 0;
        v8 = (v4 + 24 * v5);
        v9 = v8;
        do
        {
          if (!*v4 || !*(*v4 + 8))
          {
            v10 = *(v4 + 20);
            if (v10)
            {
              v11 = *(v4 + 8);
              v12 = 8 * v10;
              do
              {
                v36 = 0;
                v13 = *v11;
                *v11 = 0;
                (*(*v13 + 16))(v13, &v36);
                (*(*v13 + 8))(v13);
                v14 = v36;
                v36 = 0;
                if (v14)
                {
                  if (*(v14 + 7) == 2)
                  {
                    WebCore::Node::removedLastRef(v14);
                  }

                  else
                  {
                    *(v14 + 7) -= 2;
                  }
                }

                ++v11;
                v12 -= 8;
              }

              while (v12);
            }

            v15 = v4;
            if (v8 != (*(v1 + 2064) + 24 * *(v1 + 2076)))
            {
              if (v9 == v4)
              {
                v15 = v8;
              }

              else
              {
                WTF::VectorMover<false,std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::moveOverlapping(v9, v4, v8);
                v15 = (v8 + v4 - v9);
              }
            }

            WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v4 + 8, v3);
            v16 = *v4;
            *v4 = 0;
            v9 = (v4 + 24);
            if (v16)
            {
              WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(v16, v3);
            }

            ++v7;
            v8 = v15;
          }

          v4 += 24;
        }

        while (v4 < v6);
        v4 = *(v1 + 2064);
        v5 = *(v1 + 2076);
        v6 = v9;
        v2 = v35;
      }

      else
      {
        v7 = 0;
        v8 = *(v1 + 2064);
      }

      v17 = (v4 + 24 * v5);
      if (v6 != v17)
      {
        WTF::VectorMover<false,std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::moveOverlapping(v6, v17, v8);
        v5 = *(v1 + 2076);
      }

      *(v1 + 2076) = v5 - v7;
      v18 = *(v2 + 8);
      if (!v18)
      {
        goto LABEL_56;
      }

      v19 = *(v18 + 8);
      if (!v19)
      {
        goto LABEL_56;
      }

      if ((*(v19 + 32) & 0x10) != 0)
      {
        *(v19 + 28) += 2;
        WebCore::ImageOverlay::updateWithTextRecognitionResult();
        v21 = *(v1 + 2076);
        if (!v21)
        {
LABEL_54:
          if (*(v19 + 28) == 2)
          {
            WebCore::Node::removedLastRef(v19);
          }

          else
          {
            *(v19 + 28) -= 2;
          }

LABEL_56:
          CFRelease(*(v1 - 8));
          return;
        }

        v22 = 0;
        v23 = 20;
        while (1)
        {
          v24 = *(*(v1 + 2064) + v23 - 20);
          if (v24)
          {
            if (*(v24 + 8) == v19)
            {
              break;
            }
          }

          ++v22;
          v23 += 24;
          if (v21 == v22)
          {
            goto LABEL_54;
          }
        }

        hasOverlay = WebCore::ImageOverlay::hasOverlay(v19, v20);
        if (hasOverlay)
        {
          *(v19 + 28) += 2;
          v26 = v19;
        }

        else
        {
          v26 = 0;
        }

        v27 = *(v1 + 2076);
        if (v22 >= v27)
        {
          __break(0xC471u);
        }

        else
        {
          v28 = (*(v1 + 2064) + v23);
          v29 = *v28;
          if (v29)
          {
            v30 = *(v28 - 3);
            v31 = 8 * v29;
            do
            {
              if (hasOverlay)
              {
                *(v26 + 7) += 2;
              }

              v36 = v26;
              v32 = *v30;
              *v30 = 0;
              (*(*v32 + 16))(v32, &v36);
              (*(*v32 + 8))(v32);
              v33 = v36;
              v36 = 0;
              if (v33)
              {
                if (*(v33 + 7) == 2)
                {
                  WebCore::Node::removedLastRef(v33);
                }

                else
                {
                  *(v33 + 7) -= 2;
                }
              }

              ++v30;
              v31 -= 8;
            }

            while (v31);
            v27 = *(v1 + 2076);
          }

          if (v22 < v27)
          {
            v34 = *(v1 + 2064) + v23;
            WTF::VectorTypeOperations<std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::destruct((v34 - 20), (v34 + 4));
            WTF::VectorMover<false,std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::moveOverlapping((v34 + 4), (*(v1 + 2064) + 24 * *(v1 + 2076)), (v34 - 20));
            --*(v1 + 2076);
            if (hasOverlay)
            {
              if (*(v26 + 7) == 2)
              {
                WebCore::Node::removedLastRef(v26);
              }

              else
              {
                *(v26 + 7) -= 2;
              }
            }

            goto LABEL_54;
          }
        }

        __break(1u);
      }

      else
      {
        __break(0xC471u);
      }

      JUMPOUT(0x19E41AE28);
    }
  }
}

void *std::tuple<WebCore::TextRecognitionResult>::tuple[abi:sn200100]<WebCore::TextRecognitionResult,0>(void *a1, uint64_t a2)
{
  *a1 = 0;
  a1[1] = 0;
  WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(a1, a2);
  a1[3] = 0;
  a1[2] = 0;
  WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt((a1 + 2), (a2 + 16));
  a1[5] = 0;
  a1[4] = 0;
  WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt((a1 + 4), (a2 + 32));
  v4 = *(a2 + 48);
  *(a2 + 48) = 0;
  a1[6] = v4;
  return a1;
}

atomic_uint *WTF::VectorMover<false,std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::moveOverlapping(atomic_uint *result, atomic_uint *a2, atomic_uint *a3)
{
  v3 = a2;
  v4 = result;
  if (result <= a3)
  {
    if (a2 != result)
    {
      v5 = (a3 + a2 - result - 24);
      do
      {
        v6 = *(v3 - 3);
        v3 -= 6;
        *v3 = 0;
        *v5 = v6;
        v5[2] = 0;
        v5[1] = 0;
        WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt((v5 + 1), v3 + 2);
        WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((v3 + 2), v7);
        result = *v3;
        *v3 = 0;
        if (result)
        {
          result = WTF::ThreadSafeRefCounted<WebCore::WeakPtrImplWithEventTargetData,(WTF::DestructionThread)0>::deref(result, v8);
        }

        v5 -= 3;
      }

      while (v3 != v4);
    }
  }

  else
  {

    return WTF::VectorMover<false,std::pair<WTF::WeakPtr<WebCore::HTMLElement,WebCore::WeakPtrImplWithEventTargetData,WTF::RawPtrTraits<WebCore::WeakPtrImplWithEventTargetData>>,WTF::Vector<WTF::CompletionHandler<void ()(WTF::RefPtr<WebCore::Element,WTF::RawPtrTraits<WebCore::Element>,WTF::DefaultRefDerefTraits<WebCore::Element>> &&)>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>::move(result, a2, a3);
  }

  return result;
}

uint64_t IPC::MessageSender::sendWithAsyncReply<Messages::WebPageProxy::ShowMediaControlsContextMenu,WTF::CompletionHandler<void ()(unsigned long long)> &>(uint64_t a1, uint64_t *a2, uint64_t *a3, uint64_t a4, unsigned __int8 a5)
{
  v10 = IPC::Encoder::operator new(0x238, a2);
  *v10 = 2382;
  *(v10 + 2) = 0;
  *(v10 + 3) = 0;
  *(v10 + 1) = a4;
  *(v10 + 68) = 0;
  *(v10 + 70) = 0;
  *(v10 + 69) = 0;
  IPC::Encoder::encodeHeader(v10);
  v23 = v10;
  IPC::ArgumentCoder<WebCore::FloatRect,void>::encode(v10, *a2);
  IPC::VectorArgumentCoder<false,WebCore::MediaControlsContextMenuItem,0ul,WTF::CrashOnOverflow,16ul>::encode<IPC::Encoder,WTF::Vector<WebCore::MediaControlsContextMenuItem,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>(v10, a2[1]);
  v11 = *a3;
  *a3 = 0;
  v12 = WTF::fastMalloc(0x10);
  *v12 = &unk_1F11342D8;
  v12[1] = v11;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v13 = v12;
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v22[0] = v13;
    v22[1] = IdentifierInternal;
    v16 = (*(*a1 + 40))(a1, &v23, v22, a5);
    v17 = v22[0];
    v22[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v23;
    v23 = 0;
    if (v18)
    {
      IPC::Encoder::~Encoder(v18, v15);
      bmalloc::api::tzoneFree(v20, v21);
    }

    if (v16)
    {
      return IdentifierInternal;
    }

    else
    {
      return 0;
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowMediaControlsContextMenu,WTF::CompletionHandler<void ()(unsigned long long)> &>(WTF::CompletionHandler<void ()(unsigned long long)> &,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F11342D8;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowMediaControlsContextMenu,WTF::CompletionHandler<void ()(unsigned long long)> &>(WTF::CompletionHandler<void ()(unsigned long long)> &,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F11342D8;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ShowMediaControlsContextMenu,WTF::CompletionHandler<void ()(unsigned long long)> &>(WTF::CompletionHandler<void ()(unsigned long long)> &,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (a3 && *a3)
  {
    v4 = IPC::Decoder::decode<std::tuple<unsigned long long>>(a3);
    if (v5)
    {
      v6 = v4;
    }

    else
    {
      v6 = 0;
    }
  }

  else
  {
    v6 = 0;
  }

  v7 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v7 + 16))(v7, v6);
  v8 = *(*v7 + 8);

  return v8(v7);
}

void *WTF::Detail::CallableWrapper<WebKit::WebPage::createAppHighlightInSelectedRange(WebCore::CreateNewGroupForHighlight,WebCore::HighlightRequestOriginatedInApp,WTF::CompletionHandler<void ()(WebCore::AppHighlight &&)> &&)::$_0,void,WebCore::AppHighlight &>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1134300;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    CFRelease(*(v2 + 8));
  }

  v3 = a1[1];
  a1[1] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::createAppHighlightInSelectedRange(WebCore::CreateNewGroupForHighlight,WebCore::HighlightRequestOriginatedInApp,WTF::CompletionHandler<void ()(WebCore::AppHighlight &&)> &&)::$_0,void,WebCore::AppHighlight &>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1134300;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    CFRelease(*(v3 + 8));
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::createAppHighlightInSelectedRange(WebCore::CreateNewGroupForHighlight,WebCore::HighlightRequestOriginatedInApp,WTF::CompletionHandler<void ()(WebCore::AppHighlight &&)> &&)::$_0,void,WebCore::AppHighlight &>::call(uint64_t a1, uint64_t a2)
{
  *(a2 + 24) = *(*(*(a1 + 24) + 40) + 168);
  v2 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v2 + 16))(v2);
  v3 = *(*v2 + 8);

  return v3(v2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebPage::updatePrefersNonBlinkingCursor(void)::$_0,void,WebCore::Document &>::call(uint64_t a1, void *a2)
{
  v2 = a2[401];
  {
    v3 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v7 = a2[401];
    v5 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v5);
    v2 = v7;
    WebKit::WebProcess::singleton(void)::process = v3;
  }

  v4 = *(v3 + 821);

  return MEMORY[0x1EEE55600](v2, v4);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WebKit::WebPage::Internals::LinkDecorationFilteringConditionals,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WebKit::WebPage::Internals::LinkDecorationFilteringConditionals>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t a2)
{
  v4 = *a1;
  if (*a1)
  {
    v5 = *(v4 - 4);
    v6 = *(v4 - 12);
    if (v5)
    {
      v7 = v5 << (6 * v6 >= (2 * v5));
      goto LABEL_4;
    }
  }

  else
  {
    v5 = 0;
    v6 = 0;
  }

  v7 = 8;
LABEL_4:
  v8 = WTF::fastMalloc(((32 * v7) | 0x10));
  v10 = v8;
  v11 = v8 + 16;
  if (v7)
  {
    bzero((v8 + 16), 32 * v7);
  }

  *a1 = v11;
  v10[2] = v7 - 1;
  v10[3] = v7;
  *v10 = 0;
  v10[1] = v6;
  if (v5)
  {
    v12 = 0;
    v13 = 0;
    do
    {
      v14 = v4 + 32 * v12;
      v15 = *v14;
      if (*v14)
      {
        if (v15 != -1)
        {
          v16 = *a1;
          if (*a1)
          {
            v17 = *(v16 - 8);
          }

          else
          {
            v17 = 0;
          }

          v18 = *(v15 + 4);
          if (v18 < 0x100)
          {
            v19 = WTF::StringImpl::hashSlowCase(v15);
          }

          else
          {
            v19 = v18 >> 8;
          }

          v20 = 0;
          do
          {
            v21 = v19 & v17;
            v19 = ++v20 + v21;
          }

          while (*(v16 + 32 * v21));
          v22 = v16 + 32 * v21;
          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v22 + 16, v9);
          v24 = *(v22 + 8);
          if (v24)
          {
            WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v24, v23);
          }

          v25 = *v22;
          *v22 = 0;
          if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v25, v23);
          }

          v26 = *v14;
          *v14 = 0;
          *v22 = v26;
          *(v22 + 8) = 0;
          v27 = *(v14 + 8);
          *(v14 + 8) = 0;
          *(v22 + 16) = 0;
          *(v22 + 24) = 0;
          *(v22 + 8) = v27;
          WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(v22 + 16, (v14 + 16));
          WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v14 + 16, v28);
          v29 = *(v14 + 8);
          if (v29)
          {
            WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v29, v9);
          }

          v30 = *v14;
          *v14 = 0;
          if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v30, v9);
          }

          if (v14 == a2)
          {
            v13 = v22;
          }
        }
      }

      else
      {
        WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v14 + 16, v9);
        v31 = *(v14 + 8);
        if (v31)
        {
          WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v31, v9);
        }

        v32 = *v14;
        *v14 = 0;
        if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v32, v9);
        }
      }

      ++v12;
    }

    while (v12 != v5);
  }

  else
  {
    v13 = 0;
    result = 0;
    if (!v4)
    {
      return result;
    }
  }

  WTF::fastFree((v4 - 16), v9);
  return v13;
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::expand(uint64_t *a1, WTF **a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, WTF **a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastMalloc((16 * a2 + 16));
  v12 = v9;
  v13 = v9 + 16;
  if (a2)
  {
    bzero((v9 + 16), 16 * a2);
  }

  *a1 = v13;
  v12[2] = a2 - 1;
  v12[3] = a2;
  *v12 = 0;
  v12[1] = v8;
  v14 = 0;
  if (v7)
  {
    v16 = v7;
    v17 = v6;
    do
    {
      if (*v17 != -1)
      {
        if (WTF::equal(*v17, 0, v11))
        {
          WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>::~KeyValuePair(v17, v18);
        }

        else
        {
          v19 = WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::reinsert(*a1, v17);
          WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>::~KeyValuePair(v17, v20);
          if (v17 == a3)
          {
            v14 = v19;
          }
        }
      }

      v17 += 2;
      --v16;
    }

    while (v16);
    goto LABEL_15;
  }

  result = 0;
  if (v6)
  {
LABEL_15:
    WTF::fastFree((v6 - 16), v10);
    return v14;
  }

  return result;
}

uint64_t WTF::HashTable<WebCore::RegistrableDomain,WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashMap<WebCore::RegistrableDomain,WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>,WTF::DefaultHash<WebCore::RegistrableDomain>,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::HashTraits<WTF::HashSet<WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::RegistrableDomain>,WTF::FastMalloc>::reinsert(uint64_t a1, uint64_t a2)
{
  if (a1)
  {
    v4 = *(a1 - 8);
  }

  else
  {
    v4 = 0;
  }

  v5 = WTF::ASCIICaseInsensitiveHash::hash(*a2, a2);
  v7 = 0;
  do
  {
    v8 = v5 & v4;
    v10 = WTF::equal(*(a1 + 16 * v8), 0, v6);
    v5 = ++v7 + v8;
  }

  while (!v10);
  v11 = a1 + 16 * v8;
  v12 = *(v11 + 8);
  if (v12)
  {
    WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v12, v9);
  }

  v13 = *v11;
  *v11 = 0;
  if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v13, v9);
  }

  v14 = *a2;
  *a2 = 0;
  *v11 = v14;
  *(v11 + 8) = 0;
  v15 = *(a2 + 8);
  *(a2 + 8) = 0;
  *(v11 + 8) = v15;
  return v11;
}

unint64_t WTF::Vector<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(unsigned int *a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 16 * a1[3] <= a3)
  {
    WTF::Vector<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, a2);
  }

  else
  {
    v6 = a3 - v5;
    WTF::Vector<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, a2);
    return *a1 + v6;
  }

  return v3;
}

unsigned int *WTF::Vector<WebKit::WebPage::simulateClickOverFirstMatchingTextInViewportWithUserInteraction(WTF::String const&,WTF::CompletionHandler<void ()(BOOL)> &&)::Candidate,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(unsigned int *result, unint64_t a2)
{
  v2 = result[2];
  if (v2 + (v2 >> 1) <= v2 + 1)
  {
    v3 = v2 + 1;
  }

  else
  {
    v3 = v2 + (v2 >> 1);
  }

  if (v3 <= a2)
  {
    v3 = a2;
  }

  if (v3 >> 28)
  {
    __break(0xC471u);
  }

  else
  {
    v4 = result;
    v5 = *result;
    v6 = result[3];
    if (v3 <= 0x10)
    {
      v7 = 16;
    }

    else
    {
      v7 = v3;
    }

    result = WTF::fastMalloc((16 * v7));
    v4[2] = v7;
    *v4 = result;
    if (v6)
    {
      v9 = result;
      v10 = (v5 + 16 * v6);
      v11 = v5;
      do
      {
        v12 = *v11;
        *v11 = 0;
        *v9 = v12;
        *(v9 + 1) = v11[1];
        result = *v11;
        *v11 = 0;
        if (result)
        {
          if (result[7] == 2)
          {
            result = WebCore::Node::removedLastRef(result);
          }

          else
          {
            result[7] -= 2;
          }
        }

        v9 += 4;
        v11 += 2;
      }

      while (v11 != v10);
    }

    if (v5)
    {
      if (*v4 == v5)
      {
        *v4 = 0;
        v4[2] = 0;
      }

      return WTF::fastFree(v5, v8);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ValidateCaptureStateUpdate,WebKit::WebPage::updateCaptureState(WebCore::Document const&,BOOL,WebCore::MediaProducerMediaCaptureKind,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&)::$_0>(WebKit::WebPage::updateCaptureState(WebCore::Document const&,BOOL,WebCore::MediaProducerMediaCaptureKind,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,IPC::Connection*>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1134350;
  v3 = a1[3];
  a1[3] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ValidateCaptureStateUpdate,WebKit::WebPage::updateCaptureState(WebCore::Document const&,BOOL,WebCore::MediaProducerMediaCaptureKind,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&)::$_0>(WebKit::WebPage::updateCaptureState(WebCore::Document const&,BOOL,WebCore::MediaProducerMediaCaptureKind,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,IPC::Connection*>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1134350;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::WebPageProxy::ValidateCaptureStateUpdate,WebKit::WebPage::updateCaptureState(WebCore::Document const&,BOOL,WebCore::MediaProducerMediaCaptureKind,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&)::$_0>(WebKit::WebPage::updateCaptureState(WebCore::Document const&,BOOL,WebCore::MediaProducerMediaCaptureKind,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,IPC::Connection*)#1},void,WTF::CompletionHandler<void ()(std::optional<WebCore::Exception> &&)> &&,IPC::Connection*>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  if (!a3 || !*a3)
  {
    goto LABEL_17;
  }

  IPC::ArgumentCoder<std::tuple<std::optional<WebCore::Exception>>,void>::decode<IPC::Decoder>(a3, v22);
  if (v25 & 1) != 0 || (v6 = *a3, v20 = a3[1], *a3 = 0, a3[1] = 0, (v21 = a3[3]) != 0) && v20 && ((*(*v21 + 16))(v21, v6), (v25))
  {
    v5 = *(a1 + 24);
    *(a1 + 24) = 0;
    (*(*v5 + 16))(v5, v22);
    (*(*v5 + 8))(v5);
    if ((v24 & 1) == 0)
    {
      v7 = *(a1 + 8);
      if (v7)
      {
        v8 = *(v7 + 8);
        if (v8)
        {
          CFRetain(*(v8 - 8));
          v9 = *(v8 + 40);
          if (v9)
          {
            v10 = (v9 + 8);
            ++*(v9 + 8);
            WebCore::Page::updateCaptureState();
            WTF::RefCounted<WebCore::Page>::deref(v10);
          }

          CFRelease(*(v8 - 8));
        }
      }
    }

    v11 = 1;
  }

  else
  {
    v11 = 0;
  }

  if (v25 == 1 && v24 == 1)
  {
    v12 = v23;
    v23 = 0;
    if (v12)
    {
      if (atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v12, v6);
      }
    }
  }

  if ((v11 & 1) == 0)
  {
LABEL_17:
    v22[0] = 0;
    v24 = 0;
    v13 = *(a1 + 24);
    *(a1 + 24) = 0;
    (*(*v13 + 16))(v13, v22);
    (*(*v13 + 8))(v13);
    if (v24)
    {
      goto LABEL_23;
    }

    v15 = *(a1 + 8);
    if (v15)
    {
      v16 = *(v15 + 8);
      if (v16)
      {
        CFRetain(*(v16 - 8));
        v17 = *(v16 + 40);
        if (v17)
        {
          v18 = (v17 + 8);
          ++*(v17 + 8);
          WebCore::Page::updateCaptureState();
          WTF::RefCounted<WebCore::Page>::deref(v18);
        }

        CFRelease(*(v16 - 8));
        if (v24)
        {
LABEL_23:
          v19 = v23;
          v23 = 0;
          if (v19)
          {
            if (atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v19, v14);
            }
          }
        }
      }
    }
  }
}

unsigned int **WTF::HashTable<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::expand(uint64_t *a1, unsigned int **a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

unsigned int **WTF::HashTable<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashMap<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>,WTF::DefaultHash<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTraits<WTF::WeakRef<WebKit::WebPageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, unsigned int **a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = (v6 + 16 * v11);
      v14 = *v13;
      if (*v13 != -1)
      {
        if (v14)
        {
          v17 = *a1;
          if (*a1)
          {
            v18 = *(v17 - 8);
          }

          else
          {
            v18 = 0;
          }

          v19 = WTF::PtrHashBase<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,true>::hash(*(v14 + 1));
          v20 = 0;
          do
          {
            v21 = v19 & v18;
            v19 = ++v20 + v21;
          }

          while (*(v17 + 16 * v21));
          v22 = (v17 + 16 * v21);
          v23 = v22[1];
          v22[1] = 0;
          if (v23 && atomic_fetch_add(v23, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v23);
            WTF::fastFree(v23, v10);
          }

          v24 = *v22;
          *v22 = 0;
          if (v24 && atomic_fetch_add(v24, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v24);
            WTF::fastFree(v24, v10);
          }

          v25 = *v13;
          *v13 = 0;
          *v22 = v25;
          v26 = v13[1];
          v13[1] = 0;
          v22[1] = v26;
          v27 = v13[1];
          v13[1] = 0;
          if (v27 && atomic_fetch_add(v27, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v27);
            WTF::fastFree(v27, v10);
          }

          v28 = *v13;
          *v13 = 0;
          if (v28 && atomic_fetch_add(v28, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v28);
            WTF::fastFree(v28, v10);
          }

          if (v13 == a3)
          {
            v12 = v22;
          }
        }

        else
        {
          v15 = v13[1];
          v13[1] = 0;
          if (v15 && atomic_fetch_add(v15, 0xFFFFFFFF) == 1)
          {
            atomic_store(1u, v15);
            WTF::fastFree(v15, v10);
          }

          v16 = *v13;
          *v13 = 0;
          if (v16)
          {
            if (atomic_fetch_add(v16, 0xFFFFFFFF) == 1)
            {
              atomic_store(1u, v16);
              WTF::fastFree(v16, v10);
            }
          }
        }
      }

      ++v11;
    }

    while (v11 != v7);
  }

  else
  {
    v12 = 0;
    result = 0;
    if (!v6)
    {
      return result;
    }
  }

  WTF::fastFree((v6 - 16), v10);
  return v12;
}

uint64_t WTF::PtrHashBase<WTF::WeakRef<WebCore::PageOverlay,WTF::DefaultWeakPtrImpl>,true>::hash(uint64_t a1)
{
  if (a1)
  {
    v1 = (~(a1 << 32) + a1) ^ ((~(a1 << 32) + a1) >> 22);
    v2 = 9 * ((v1 + ~(v1 << 13)) ^ ((v1 + ~(v1 << 13)) >> 8));
    v3 = (v2 ^ (v2 >> 15)) + ~((v2 ^ (v2 >> 15)) << 27);
    return (v3 >> 31) ^ v3;
  }

  else
  {
    result = 92;
    __break(0xC471u);
  }

  return result;
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1)
{
  v1 = *a1;
  if (*a1 && (v2 = *(v1 - 4)) != 0)
  {
    v3 = v2 << (6 * *(v1 - 12) >= (2 * v2));
  }

  else
  {
    v3 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v3);
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2)
{
  v4 = *a1;
  if (*a1)
  {
    v5 = *(v4 - 4);
    v6 = *(v4 - 12);
  }

  else
  {
    v5 = 0;
    v6 = 0;
  }

  result = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (result + 4);
  result[2] = a2 - 1;
  result[3] = a2;
  *result = 0;
  result[1] = v6;
  if (v5)
  {
    v9 = 0;
    while (1)
    {
      v10 = (v4 + 16 * v9);
      v11 = *v10;
      if (*v10 != -1)
      {
        if (v11)
        {
          v13 = *a1;
          if (*a1)
          {
            v14 = *(v13 - 8);
          }

          else
          {
            v14 = 0;
          }

          v15 = (v11 + ~(v11 << 32)) ^ ((v11 + ~(v11 << 32)) >> 22);
          v16 = 9 * ((v15 + ~(v15 << 13)) ^ ((v15 + ~(v15 << 13)) >> 8));
          v17 = (v16 ^ (v16 >> 15)) + ~((v16 ^ (v16 >> 15)) << 27);
          v18 = v14 & ((v17 >> 31) ^ v17);
          v19 = 1;
          do
          {
            v20 = v18;
            v21 = *(v13 + 16 * v18);
            v18 = (v18 + v19++) & v14;
          }

          while (v21);
          v22 = (v13 + 16 * v20);
          v23 = v22[1];
          v22[1] = 0;
          if (v23)
          {
            WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v23 + 8), v8);
          }

          *v22 = *v10;
          v24 = v10[1];
          v10[1] = 0;
          v22[1] = v24;
          v12 = v10[1];
          v10[1] = 0;
          if (!v12)
          {
            goto LABEL_19;
          }

LABEL_18:
          WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v12 + 8), v8);
          goto LABEL_19;
        }

        v12 = v10[1];
        v10[1] = 0;
        if (v12)
        {
          goto LABEL_18;
        }
      }

LABEL_19:
      if (++v9 == v5)
      {
        goto LABEL_22;
      }
    }
  }

  if (v4)
  {
LABEL_22:

    return WTF::fastFree((v4 - 16), v8);
  }

  return result;
}

uint64_t WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebURLSchemeTaskProxy,WTF::RawPtrTraits<WebKit::WebURLSchemeTaskProxy>,WTF::DefaultRefDerefTraits<WebKit::WebURLSchemeTaskProxy>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::ResourceLoaderIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t a2)
{
  if (a2 == -1 || !a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E41C354);
  }

  v2 = *a1;
  if (*a1)
  {
    v3 = *(v2 - 8);
    v4 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v5 = 9 * ((v4 + ~(v4 << 13)) ^ ((v4 + ~(v4 << 13)) >> 8));
    v6 = (v5 ^ (v5 >> 15)) + ~((v5 ^ (v5 >> 15)) << 27);
    v7 = v3 & ((v6 >> 31) ^ v6);
    v8 = *(v2 + 16 * v7);
    if (v8 == a2)
    {
      return *(v2 + 16 * v7 + 8);
    }

    v9 = 1;
    while (v8)
    {
      v7 = (v7 + v9) & v3;
      v8 = *(v2 + 16 * v7);
      ++v9;
      if (v8 == a2)
      {
        return *(v2 + 16 * v7 + 8);
      }
    }
  }

  return 0;
}

void *WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didPerformRedirection(WebCore::ResourceResponse &&,WebCore::ResourceRequest &&,WTF::CompletionHandler<void ()(WebCore::ResourceRequest)> &&)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1134378;
  v2 = a1[61];
  a1[61] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  WebCore::ResourceRequest::~ResourceRequest((a1 + 36));
  v4 = a1[34];
  a1[34] = 0;
  if (v4)
  {
    CFRelease(v4);
  }

  WebCore::ResourceResponseBase::~ResourceResponseBase((a1 + 3), v3);
  v6 = a1[2];
  a1[2] = 0;
  if (v6)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v6 + 8), v5);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didPerformRedirection(WebCore::ResourceResponse &&,WebCore::ResourceRequest &&,WTF::CompletionHandler<void ()(WebCore::ResourceRequest)> &&)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1134378;
  v2 = a1[61];
  a1[61] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  WebCore::ResourceRequest::~ResourceRequest((a1 + 36));
  v4 = a1[34];
  a1[34] = 0;
  if (v4)
  {
    CFRelease(v4);
  }

  WebCore::ResourceResponseBase::~ResourceResponseBase((a1 + 3), v3);
  v6 = a1[2];
  a1[2] = 0;
  if (v6)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v6 + 8), v5);
  }

  return WTF::fastFree(a1, v5);
}

void *WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didPerformRedirection(WebCore::ResourceResponse &&,WebCore::ResourceRequest &&,WTF::CompletionHandler<void ()(WebCore::ResourceRequest)> &&)::$_1,void,WebCore::ResourceRequest>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F11343A0;
  v2 = a1[28];
  a1[28] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  WebCore::ResourceRequest::~ResourceRequest((a1 + 3));
  v4 = a1[2];
  a1[2] = 0;
  if (v4)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v4 + 8), v3);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didPerformRedirection(WebCore::ResourceResponse &&,WebCore::ResourceRequest &&,WTF::CompletionHandler<void ()(WebCore::ResourceRequest)> &&)::$_1,void,WebCore::ResourceRequest>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F11343A0;
  v2 = a1[28];
  a1[28] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  WebCore::ResourceRequest::~ResourceRequest((a1 + 3));
  v4 = a1[2];
  a1[2] = 0;
  if (v4)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v4 + 8), v3);
  }

  return WTF::fastFree(a1, v3);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didPerformRedirection(WebCore::ResourceResponse &&,WebCore::ResourceRequest &&,WTF::CompletionHandler<void ()(WebCore::ResourceRequest)> &&)::$_1,void,WebCore::ResourceRequest>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(v1 + 248) = 0;
  v2 = *(a1 + 224);
  *(a1 + 224) = 0;
  (*(*v2 + 16))(v2);
  (*(*v2 + 8))(v2);

  return WebKit::WebURLSchemeTaskProxy::processNextPendingTask(v1);
}

void *WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didReceiveResponse(WebCore::ResourceResponse &&)::$_0,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F11343C8;
  v3 = a1[34];
  a1[34] = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  WebCore::ResourceResponseBase::~ResourceResponseBase((a1 + 3), a2);
  v5 = a1[2];
  a1[2] = 0;
  if (v5)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v5 + 8), v4);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didReceiveResponse(WebCore::ResourceResponse &&)::$_0,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F11343C8;
  v3 = a1[34];
  a1[34] = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  WebCore::ResourceResponseBase::~ResourceResponseBase((a1 + 3), a2);
  v5 = a1[2];
  a1[2] = 0;
  if (v5)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v5 + 8), v4);
  }

  return WTF::fastFree(a1, v4);
}

void *WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didReceiveResponse(WebCore::ResourceResponse &&)::$_1,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F11343F0;
  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v3 + 8), a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didReceiveResponse(WebCore::ResourceResponse &&)::$_1,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F11343F0;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v3 + 8), a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didReceiveResponse(WebCore::ResourceResponse &&)::$_1,void>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(v1 + 248) = 0;
  return WebKit::WebURLSchemeTaskProxy::processNextPendingTask(v1);
}

void *WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didReceiveData(WebCore::SharedBuffer const&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1134418;
  v3 = a1[3];
  a1[3] = 0;
  if (v3 && atomic_fetch_add(v3 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3 + 2);
    (*(*v3 + 8))(v3);
  }

  v4 = a1[2];
  a1[2] = 0;
  if (v4)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v4 + 8), a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didReceiveData(WebCore::SharedBuffer const&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1134418;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3 && atomic_fetch_add(v3 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3 + 2);
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v4 + 8), a2);
  }

  return WTF::fastFree(this, a2);
}

void *WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didComplete(WebCore::ResourceError const&)::$_0,void>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1134440;
  v3 = a1[11];
  a1[11] = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  v4 = a1[9];
  a1[9] = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = a1[4];
  a1[4] = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, a2);
  }

  v6 = a1[3];
  a1[3] = 0;
  if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v6, a2);
  }

  v7 = a1[2];
  a1[2] = 0;
  if (v7)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v7 + 8), a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::WebURLSchemeTaskProxy::didComplete(WebCore::ResourceError const&)::$_0,void>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1134440;
  v3 = *(this + 11);
  *(this + 11) = 0;
  if (v3)
  {
    CFRelease(v3);
  }

  v4 = *(this + 9);
  *(this + 9) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = *(this + 4);
  *(this + 4) = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, a2);
  }

  v6 = *(this + 3);
  *(this + 3) = 0;
  if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v6, a2);
  }

  v7 = *(this + 2);
  *(this + 2) = 0;
  if (v7)
  {
    WTF::RefCounted<WebKit::WebURLSchemeTaskProxy>::deref((v7 + 8), a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WebKit::WebPage::getFrameTree(uint64_t a1)
{
  v93 = *MEMORY[0x1E69E9840];
  WebKit::WebFrame::frameTreeData(*(*(a1 + 416) + 88), &v58);
  v22 = v58;
  v2 = v59;
  v59 = 0;
  v23 = v2;
  v24 = v60;
  v25 = v61;
  LODWORD(v60) = v60 & 0xFFFFFFFE;
  v3 = v62;
  v62 = 0;
  v26 = v3;
  v27 = v63;
  v28 = v64;
  LODWORD(v63) = v63 & 0xFFFFFFFE;
  v29 = v65;
  v4 = v66;
  v66 = 0u;
  v30 = v4;
  *&v4 = v67;
  v67 = 0;
  v31 = v4;
  v5 = v68;
  v68 = 0;
  v32 = v5;
  *&v4 = v69;
  v69 = 0;
  v33 = v4;
  v6 = v70;
  v70 = 0;
  v34 = v6;
  *&v4 = v71;
  v71 = 0;
  v35 = v4;
  v37 = v73;
  v36 = v72;
  v7 = v74;
  v74 = 0u;
  v38 = v7;
  v41 = v77;
  v39 = v75;
  v40 = v76;
  v8 = v78;
  v75 = 0;
  v78 = 0;
  v42 = v8;
  LOBYTE(v43) = 0;
  v45 = -1;
  if (!v81)
  {
    v9 = *v79;
    v79[1] = 0;
    v79[0] = 0;
    v43 = v9;
    v44 = v80;
LABEL_3:
    v45 = v81;
    goto LABEL_4;
  }

  if (v81 != 255)
  {
    v43 = *v79;
    goto LABEL_3;
  }

LABEL_4:
  v46 = v82;
  v48 = v84;
  v49 = v85;
  v47 = v83;
  v10 = cf;
  v82 = 0;
  cf = 0;
  v50 = v86;
  v51 = v10;
  v52 = v88;
  v53 = v89;
  v54 = v90;
  v11 = v91;
  v91 = 0;
  v55 = v11;
  v12 = v92;
  v92 = 0;
  v56 = v12;
  v57 = 1;
  std::__optional_storage_base<WebKit::FrameTreeNodeData,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebKit::FrameTreeNodeData,false>>(a1 + 32, &v22);
  std::optional<WebKit::FrameTreeNodeData>::~optional(&v22, v13);
  WTF::Vector<WebKit::FrameTreeNodeData,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v91, v14);
  v16 = cf;
  cf = 0;
  if (v16)
  {
    CFRelease(v16);
  }

  v17 = v82;
  v82 = 0;
  if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v17, v15);
  }

  if (!v81)
  {
    v18 = v79[1];
    v79[1] = 0;
    if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v18, v15);
    }

    v19 = v79[0];
    v79[0] = 0;
    if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v19, v15);
    }
  }

  v81 = -1;
  WebCore::ResourceRequest::~ResourceRequest(&v59);
  *a1 = 0;
  v20 = **(a1 + 16);

  return v20();
}

uint64_t WebKit::WebPage::getFrameTree(WTF *a1, void *a2)
{
  std::optional<WebKit::FrameTreeNodeData>::~optional(a1 + 32, a2);

  return WTF::fastFree(a1, v3);
}

WebKit::ViewUpdateDispatcher *WebKit::ViewUpdateDispatcher::ViewUpdateDispatcher(WebKit::ViewUpdateDispatcher *this, atomic_uint *a2)
{
  *this = &unk_1F1134468;
  *(this + 1) = 0;
  *(this + 2) = a2;
  atomic_fetch_add(a2 + 4, 1u);
  WTF::WorkQueue::create();
  *(this + 32) = 0;
  *(this + 5) = 0;
  return this;
}

void WebKit::ViewUpdateDispatcher::~ViewUpdateDispatcher(WebKit::ViewUpdateDispatcher *this, void *a2)
{
  v3 = *(this + 5);
  if (v3)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 3);
  *(this + 3) = 0;
  if (v4)
  {
    (*(*v4 + 40))(v4);
  }

  v5 = *(this + 2);
  *(this + 2) = 0;
  if (!v5)
  {
    goto LABEL_8;
  }

  v6 = (v5 + 16);
  if (atomic_load(v6))
  {
    atomic_fetch_add(v6, 0xFFFFFFFF);
LABEL_8:
    *this = &unk_1F10EA5E0;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 1, a2);
    return;
  }

  __break(0xC471u);
}

{
  WebKit::ViewUpdateDispatcher::~ViewUpdateDispatcher(this, a2);

  JUMPOUT(0x19EB14CF0);
}

uint64_t WebKit::ViewUpdateDispatcher::ref(uint64_t this)
{
  if (!*(this + 16))
  {
    this = 120;
    __break(0xC471u);
  }

  return this;
}

uint64_t WebKit::ViewUpdateDispatcher::deref(uint64_t this)
{
  if (!*(this + 16))
  {
    this = 120;
    __break(0xC471u);
  }

  return this;
}

WTF *WebKit::ViewUpdateDispatcher::visibleContentRectUpdate(uint64_t a1, uint64_t a2, __int128 *a3)
{
  v5 = 0;
  v53 = a2;
  v6 = (a1 + 32);
  atomic_compare_exchange_strong_explicit((a1 + 32), &v5, 1u, memory_order_acquire, memory_order_acquire);
  if (v5)
  {
    MEMORY[0x19EB01E30](a1 + 32);
  }

  v8 = (a1 + 40);
  v7 = *(a1 + 40);
  if (!v7)
  {
    v9 = 1;
    goto LABEL_9;
  }

  v9 = *(v7 - 12) == 0;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 40), &v53);
  v11 = *v8;
  if (!result && v11)
  {
    result = (v11 + 16 * *(v11 - 1));
  }

  else if (!v11)
  {
    goto LABEL_8;
  }

  v11 = (v11 + 16 * *(v11 - 1));
LABEL_8:
  if (v11 != result)
  {
    v40 = *(result + 1);
    v41 = *a3;
    v42 = a3[1];
    v43 = a3[3];
    *(v40 + 32) = a3[2];
    *(v40 + 48) = v43;
    *v40 = v41;
    *(v40 + 16) = v42;
    v44 = a3[4];
    v45 = a3[5];
    v46 = a3[7];
    *(v40 + 96) = a3[6];
    *(v40 + 112) = v46;
    *(v40 + 64) = v44;
    *(v40 + 80) = v45;
    v47 = a3[8];
    v48 = a3[9];
    v49 = a3[10];
    *(v40 + 176) = *(a3 + 44);
    *(v40 + 144) = v48;
    *(v40 + 160) = v49;
    *(v40 + 128) = v47;
    goto LABEL_20;
  }

LABEL_9:
  v12 = *(a3 + 18);
  v13 = WTF::fastMalloc(0xC0);
  v15 = *a3;
  v16 = a3[1];
  v17 = a3[3];
  *(v13 + 32) = a3[2];
  *(v13 + 48) = v17;
  *v13 = v15;
  *(v13 + 16) = v16;
  v18 = a3[4];
  v19 = a3[5];
  v20 = a3[7];
  *(v13 + 96) = a3[6];
  *(v13 + 112) = v20;
  *(v13 + 64) = v18;
  *(v13 + 80) = v19;
  v21 = a3[8];
  v22 = a3[9];
  v23 = a3[10];
  *(v13 + 176) = *(a3 + 22);
  *(v13 + 144) = v22;
  *(v13 + 160) = v23;
  *(v13 + 128) = v21;
  *(v13 + 184) = v12;
  v24 = v53;
  if (v53 == -1)
  {
    goto LABEL_44;
  }

  if (!v53)
  {
    __break(0xC471u);
    JUMPOUT(0x19E41D3CCLL);
  }

  v25 = v13;
  v26 = *v8;
  if (!*v8)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 40));
    v26 = *v8;
    v24 = v53;
  }

  v27 = *(v26 - 2);
  v28 = (v24 + ~(v24 << 32)) ^ ((v24 + ~(v24 << 32)) >> 22);
  v29 = 9 * ((v28 + ~(v28 << 13)) ^ ((v28 + ~(v28 << 13)) >> 8));
  v30 = (v29 ^ (v29 >> 15)) + ~((v29 ^ (v29 >> 15)) << 27);
  v31 = v27 & ((v30 >> 31) ^ v30);
  v32 = (v26 + 16 * v31);
  v33 = *v32;
  if (*v32)
  {
    v50 = 0;
    v51 = 1;
    while (v33 != v24)
    {
      if (v33 == -1)
      {
        v50 = v32;
      }

      v31 = (v31 + v51) & v27;
      v32 = (v26 + 16 * v31);
      v33 = *v32;
      ++v51;
      if (!*v32)
      {
        if (v50)
        {
          *v50 = 0;
          v50[1] = 0;
          --*(*v8 - 4);
          v24 = v53;
          v32 = v50;
        }

        goto LABEL_14;
      }
    }

    result = v32[1];
    v32[1] = v25;
    if (result)
    {
      result = WTF::fastFree(result, v14);
    }
  }

  else
  {
LABEL_14:
    result = v32[1];
    *v32 = v24;
    v32[1] = v25;
    if (result)
    {
      result = WTF::fastFree(result, v14);
    }

    v34 = *v8;
    if (*v8)
    {
      v35 = *(v34 - 3) + 1;
    }

    else
    {
      v35 = 1;
    }

    *(v34 - 3) = v35;
    v36 = (*(v34 - 4) + v35);
    v37 = *(v34 - 1);
    if (v37 > 0x400)
    {
      if (v37 > 2 * v36)
      {
        goto LABEL_20;
      }
    }

    else if (3 * v37 > 4 * v36)
    {
      goto LABEL_20;
    }

    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 40));
  }

LABEL_20:
  v38 = 1;
  atomic_compare_exchange_strong_explicit(v6, &v38, 0, memory_order_release, memory_order_relaxed);
  if (v38 != 1)
  {
    result = WTF::Lock::unlockSlow(v6);
  }

  if (v9)
  {
    WTF::RunLoop::mainSingleton(result);
    if (*(a1 + 16))
    {
      v39 = WTF::fastMalloc(0x18);
      *v39 = &unk_1F1134AC0;
      *(v39 + 1) = a1;
      *(v39 + 2) = a1;
      v52 = v39;
      WTF::RunLoop::dispatch();
      result = v52;
      if (v52)
      {
        return (*(*v52 + 8))(v52);
      }

      return result;
    }

LABEL_44:
    __break(0xC471u);
    JUMPOUT(0x19E41D3ACLL);
  }

  return result;
}

WebKit::WebRemoteObjectRegistry *WebKit::WebRemoteObjectRegistry::WebRemoteObjectRegistry(WebKit::WebRemoteObjectRegistry *this, _WKRemoteObjectRegistry *a2, WebKit::WebPage *a3)
{
  v5 = WebKit::RemoteObjectRegistry::RemoteObjectRegistry(this, a2);
  *(v5 + 8) = 1;
  *v5 = &unk_1F11344B0;
  v6 = WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a3 + 6, a3 + 16);
  v7 = *(a3 + 3);
  atomic_fetch_add(v7, 1u);
  *(this + 5) = v7;
  v9 = WebKit::WebProcess::singleton(v6, v8);
  WebKit::AuxiliaryProcess::addMessageReceiver(v9, 0x69u, *(a3 + 6), this);
  WebKit::WebPage::setRemoteObjectRegistry(a3, this);
  return this;
}

void WebKit::WebRemoteObjectRegistry::~WebRemoteObjectRegistry(unsigned int **this)
{
  WebKit::WebRemoteObjectRegistry::close(this);
  v3 = this[5];
  this[5] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, v2);
  }

  if (*(this + 8) == 1)
  {

    WebKit::RemoteObjectRegistry::~RemoteObjectRegistry(this, v2);
  }

  else
  {
    __break(0xC471u);
  }
}

{
  WebKit::WebRemoteObjectRegistry::~WebRemoteObjectRegistry(this);

  bmalloc::api::tzoneFree(v1, v2);
}

void WebKit::WebRemoteObjectRegistry::close(WebKit::WebRemoteObjectRegistry *this)
{
  v1 = *(this + 5);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      CFRetain(*(v2 - 8));
      v4 = WebKit::WebPage::remoteObjectRegistry((v2 - 16));
      if (v4 == this)
      {
        v6 = WebKit::WebProcess::singleton(v4, v5);
        WebKit::AuxiliaryProcess::removeMessageReceiver(v6, 0x69u, *(v2 + 32));
        WebKit::WebPage::setRemoteObjectRegistry((v2 - 16), 0);
      }

      v7 = *(v2 - 8);

      CFRelease(v7);
    }
  }
}

uint64_t WebKit::WebRemoteObjectRegistry::messageSender@<X0>(uint64_t this@<X0>, uint64_t a2@<X8>)
{
  v2 = *(this + 40);
  if (v2 && (v3 = *(v2 + 8)) != 0)
  {
    *a2 = v3 - 16;
    v4 = 1;
    *(a2 + 8) = 1;
  }

  else
  {
    v4 = 0;
    *a2 = 0;
  }

  *(a2 + 16) = v4;
  return this;
}

unint64_t WebKit::WebRemoteObjectRegistry::messageDestinationID(WebKit::WebRemoteObjectRegistry *this)
{
  v1 = *(this + 5);
  if (v1 && (v1 = *(v1 + 8)) != 0)
  {
    v1 = *(v1 + 1816);
    v2 = v1 & 0xFFFFFFFFFFFFFF00;
    v1 = v1;
  }

  else
  {
    v2 = 0;
  }

  return v2 | v1;
}

uint64_t WebKit::PlatformCALayerRemoteTiledBacking::PlatformCALayerRemoteTiledBacking(uint64_t a1, int a2, uint64_t a3, uint64_t a4)
{
  *WebKit::PlatformCALayerRemote::PlatformCALayerRemote(a1, a2, a3, a4) = &unk_1F1134518;
  v6 = WebCore::TileController::operator new(0x178, v5);
  v7 = MEMORY[0x19EB05C10](v6, a1, 1);
  *(a1 + 928) = v7;
  *(a1 + 936) = 0u;
  WebCore::TileController::contentsScale(v7);
  if (*(a1 + 16) != 3)
  {
    *(a1 + 612) = v8;
    *(a1 + 72) = vorrq_s8(*(a1 + 72), vdupq_n_s64(0x20000uLL));
    WebKit::PlatformCALayerRemote::updateBackingStore(a1);
  }

  return a1;
}

void WebKit::PlatformCALayerRemoteTiledBacking::~PlatformCALayerRemoteTiledBacking(WebKit::PlatformCALayerRemoteTiledBacking *this, void *a2)
{
  WTF::Vector<WTF::RefPtr<WebCore::PlatformCALayer,WTF::RawPtrTraits<WebCore::PlatformCALayer>,WTF::DefaultRefDerefTraits<WebCore::PlatformCALayer>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 936, a2);
  v4 = *(this + 116);
  *(this + 116) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  WebKit::PlatformCALayerRemote::~PlatformCALayerRemote(this, v3);
}

{
  WebKit::PlatformCALayerRemoteTiledBacking::~PlatformCALayerRemoteTiledBacking(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::PlatformCALayerRemoteTiledBacking::setNeedsDisplayInRect(WebKit::PlatformCALayerRemoteTiledBacking *this, const WebCore::FloatRect *a2)
{
  v2 = *(this + 116);
  v5.m_location = WebCore::enclosingIntRect(a2, a2);
  v5.m_size = v3;
  return WebCore::TileController::setNeedsDisplayInRect(v2, &v5);
}

WebCore::TileController **WebKit::PlatformCALayerRemoteTiledBacking::customSublayers(WebCore::TileController **this)
{
  WebCore::TileController::containerLayers(&v11, this[116]);
  v3 = this + 117;
  v4 = *(this + 237);
  if (v4)
  {
    v8 = *v3;
    v9 = 8 * v4;
    do
    {
      v10 = *v8;
      *v8 = 0;
      if (v10)
      {
        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebCore::PlatformCALayer,(WTF::DestructionThread)1>::deref((v10 + 8));
      }

      v8 = (v8 + 8);
      v9 -= 8;
    }

    while (v9);
  }

  v5 = *v3;
  if (*v3)
  {
    this[117] = 0;
    *(this + 236) = 0;
    WTF::fastFree(v5, v2);
  }

  this[117] = v11;
  v6 = v12;
  v11 = 0;
  v12 = 0;
  this[118] = v6;
  WTF::Vector<WTF::RefPtr<WebCore::PlatformCALayer,WTF::RawPtrTraits<WebCore::PlatformCALayer>,WTF::DefaultRefDerefTraits<WebCore::PlatformCALayer>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v11, v2);
  return this + 117;
}

uint64_t WebKit::PlatformCALayerRemoteTiledBacking::setBounds(WebKit::PlatformCALayerRemoteTiledBacking *this, const WebCore::FloatRect *a2)
{
  WebKit::PlatformCALayerRemote::setBounds(this, a2);
  v3 = *(this + 116);

  return MEMORY[0x1EEE55BB8](v3);
}

uint64_t WebKit::PlatformCALayerRemoteTiledBacking::setTonemappingEnabled(WebKit::PlatformCALayerRemoteTiledBacking *this, int a2)
{
  if (*(this + 665) != a2)
  {
    *(this + 665) = a2;
    *(this + 72) = vorrq_s8(*(this + 72), vdupq_n_s64(0x8000000000uLL));
  }

  return MEMORY[0x1EEE55B98](*(this + 116));
}

uint64_t WebKit::PlatformCALayerRemoteTiledBacking::setContentsScale(WebKit::PlatformCALayerRemoteTiledBacking *this, __n128 a2)
{
  v2 = a2.n128_u32[0];
  if (*(this + 16) != 3)
  {
    *(this + 153) = a2.n128_u32[0];
    *(this + 72) = vorrq_s8(*(this + 72), vdupq_n_s64(0x20000uLL));
    WebKit::PlatformCALayerRemote::updateBackingStore(this);
  }

  v4 = *(this + 116);
  a2.n128_u32[0] = v2;

  return MEMORY[0x1EEE55B78](v4, a2);
}

unsigned int *WebKit::PlatformCALayerRemoteTiledBacking::setBorderColor(WebKit::PlatformCALayerRemoteTiledBacking *this, const WebCore::Color *a2)
{
  v2 = *(this + 116);
  v3 = *a2;
  v7 = v3;
  if ((v3 & 0x8000000000000) != 0)
  {
    atomic_fetch_add((v3 & 0xFFFFFFFFFFFFLL), 1u);
  }

  v4.m_colorAndFlags = &v7;
  result = WebCore::TileController::setTileDebugBorderColor(v2, v4);
  if ((v7 & 0x8000000000000) != 0)
  {
    result = (v7 & 0xFFFFFFFFFFFFLL);
    if (atomic_fetch_add((v7 & 0xFFFFFFFFFFFFLL), 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, result);
      return WTF::fastFree(result, v6);
    }
  }

  return result;
}

void WebKit::StorageAreaImpl::~StorageAreaImpl(WebKit::StorageAreaImpl *this, void *a2)
{
  v3 = *(this + 3);
  if (!v3)
  {
    goto LABEL_7;
  }

  v4 = *(v3 + 8);
  if (!v4)
  {
    *(this + 3) = 0;
LABEL_5:
    if (atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v3);
      WTF::fastFree(v3, a2);
    }

    goto LABEL_7;
  }

  v5 = (v4 + 16);
  ++*(v4 + 16);
  v6 = *(v4 + 104) - 1;
  *(v4 + 104) = v6;
  if (!v6)
  {
    v7 = *(*(v4 + 40) + 8);
    if (!v7)
    {
LABEL_15:
      __break(0xC471u);
      JUMPOUT(0x19E41DB20);
    }

    ++v7[2];
    WebKit::StorageNamespaceImpl::destroyStorageAreaMap(v7, *(v4 + 48));
    if (v7[2] == 1)
    {
      (*(*v7 + 8))(v7);
    }

    else
    {
      --v7[2];
    }
  }

  WTF::RefCounted<WebKit::StorageAreaMap>::deref(v5);
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3)
  {
    goto LABEL_5;
  }

LABEL_7:
  if (*(this + 2) != 1)
  {
    goto LABEL_15;
  }
}

{
  WebKit::StorageAreaImpl::~StorageAreaImpl(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::StorageAreaImpl::length(WebKit::StorageAreaImpl *this, void *a2)
{
  v2 = *(this + 3);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 8);
  if (!v3)
  {
    return 0;
  }

  v4 = v3 + 4;
  ++v3[4];
  v5 = WebKit::StorageAreaMap::ensureMap(v3, a2);
  v6 = WebCore::StorageMap::length(v5);
  WTF::RefCounted<WebKit::StorageAreaMap>::deref(v4);
  return v6;
}

_DWORD *WebKit::StorageAreaImpl::key@<X0>(_DWORD *this@<X0>, void *a2@<X1>, atomic_uint **a3@<X8>)
{
  v4 = *(this + 3);
  if (v4 && (this = *(v4 + 8)) != 0)
  {
    v5 = this + 4;
    ++this[4];
    v6 = WebKit::StorageAreaMap::ensureMap(this, a2);
    WebCore::StorageMap::key(v6);

    return WTF::RefCounted<WebKit::StorageAreaMap>::deref(v5);
  }

  else
  {
    v7 = *MEMORY[0x1E696EBA0];
    if (*MEMORY[0x1E696EBA0])
    {
      atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
    }

    *a3 = v7;
  }

  return this;
}

_DWORD *WebKit::StorageAreaImpl::item@<X0>(_DWORD *this@<X0>, const WTF::String *a2@<X1>, uint64_t *a3@<X8>)
{
  v4 = *(this + 3);
  if (v4 && (this = *(v4 + 8)) != 0)
  {
    v6 = this + 4;
    ++this[4];
    v7 = WebKit::StorageAreaMap::ensureMap(this, a2);
    WebCore::StorageMap::getItem(a3, v7, a2);

    return WTF::RefCounted<WebKit::StorageAreaMap>::deref(v6);
  }

  else
  {
    v8 = *MEMORY[0x1E696EBA0];
    if (*MEMORY[0x1E696EBA0])
    {
      atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
    }

    *a3 = v8;
  }

  return this;
}

uint64_t WebKit::StorageAreaImpl::setItem(uint64_t this, WebCore::LocalFrame *a2, const WTF::String *a3, const WTF::String *a4, BOOL *a5)
{
  v5 = *(this + 24);
  if (v5)
  {
    v6 = *(v5 + 8);
    if (v6)
    {
      v11 = this;
      ++*(v6 + 16);
      v12 = WebKit::StorageAreaMap::ensureMap(v6, a2);
      v41 = 0;
      *a5 = 0;
      WebCore::StorageMap::setItem(v12, a3, a4, &v41, a5);
      if (!*a5 && (WTF::equal(v41, *a4, v14) & 1) == 0)
      {
        LODWORD(v42) = 0;
        WTF::HashMap<WTF::String,unsigned int,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<int>((v6 + 80), a3, &v42, buf);
        ++*(*buf + 8);
        if (*(v6 + 72))
        {
          WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v6 + 8), v6);
          v16 = *(v6 + 8);
          atomic_fetch_add(v16, 1u);
          v17 = *(v6 + 88);
          v18 = *a3;
          if (*a3)
          {
            atomic_fetch_add_explicit(v18, 2u, memory_order_relaxed);
          }

          v19 = &qword_1ED643000;
          {
            goto LABEL_40;
          }

          v20 = WebKit::WebProcess::singleton(void)::process;
          while (1)
          {
            v19 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v20) + 24);
            while (1)
            {
              v21 = *v19;
              if ((*v19 & 1) == 0)
              {
                break;
              }

              v22 = *v19;
              atomic_compare_exchange_strong_explicit(v19, &v22, v21 + 2, memory_order_relaxed, memory_order_relaxed);
              if (v22 == v21)
              {
                goto LABEL_17;
              }
            }

            WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v19);
LABEL_17:
            if (*(v6 + 72))
            {
              break;
            }

            __break(1u);
LABEL_40:
            v37 = WebKit::WebProcess::operator new(0x370, v15);
            v20 = WebKit::WebProcess::WebProcess(v37);
            WebKit::WebProcess::singleton(void)::process = v20;
            *(v19 + 2024) = 1;
          }

          v24 = *(v11 + 16);
          v38 = *(a2 + 28);
          if (v18)
          {
            atomic_fetch_add_explicit(v18, 2u, memory_order_relaxed);
          }

          v25 = WTF::fastMalloc(0x20);
          v27 = v25;
          *v25 = &unk_1F1134AE8;
          v25[1] = v16;
          v25[2] = v17;
          if (v18)
          {
            atomic_fetch_add_explicit(v18, 2u, memory_order_relaxed);
            v25[3] = v18;
            if (atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v18, v26);
            }
          }

          else
          {
            v25[3] = 0;
          }

          if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
          {
            this = 141;
            __break(0xC471u);
            return this;
          }

          IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
          v30 = IPC::Encoder::operator new(0x238, v29);
          *v30 = 812;
          *(v30 + 68) = 0;
          *(v30 + 70) = 0;
          *(v30 + 69) = 0;
          *(v30 + 2) = 0;
          *(v30 + 3) = 0;
          *(v30 + 1) = 0;
          IPC::Encoder::encodeHeader(v30);
          v42 = v30;
          IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v30, *(v6 + 64));
          IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v30, v24);
          IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v30, a3);
          IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v30, a4);
          IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v30, (v38 + 800));
          *buf = v27;
          v40 = IdentifierInternal;
          IPC::Connection::sendMessageWithAsyncReply(v19, &v42, buf, 0, 0);
          v32 = *buf;
          *buf = 0;
          if (v32)
          {
            (*(*v32 + 8))(v32);
          }

          v33 = v42;
          v42 = 0;
          if (v33)
          {
            IPC::Encoder::~Encoder(v33, v31);
            bmalloc::api::tzoneFree(v35, v36);
          }

          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v19);
          if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v18, v13);
          }
        }

        else
        {
          v23 = qword_1ED641350;
          if (os_log_type_enabled(qword_1ED641350, OS_LOG_TYPE_ERROR))
          {
            *buf = 0;
            _os_log_error_impl(&dword_19D52D000, v23, OS_LOG_TYPE_ERROR, "StorageAreaMap::setItem failed because storage map ID is invalid", buf, 2u);
          }
        }
      }

      v34 = v41;
      v41 = 0;
      if (v34 && atomic_fetch_add_explicit(v34, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v34, v13);
      }

      return WTF::RefCounted<WebKit::StorageAreaMap>::deref((v6 + 16));
    }
  }

  return this;
}

_DWORD *WebKit::StorageAreaImpl::removeItem(_DWORD *this, WebCore::LocalFrame *a2, const WTF::String *a3)
{
  v3 = *(this + 3);
  if (v3)
  {
    v5 = this;
    this = *(v3 + 8);
    if (this)
    {
      v6 = this + 4;
      ++this[4];
      WebKit::StorageAreaMap::removeItem(this, a2, v5, a3);

      return WTF::RefCounted<WebKit::StorageAreaMap>::deref(v6);
    }
  }

  return this;
}

WTF::StringImpl *WebKit::StorageAreaMap::removeItem(WebKit::StorageAreaMap *this, WebCore::LocalFrame *a2, WebKit::StorageAreaImpl *a3, const WTF::String *a4)
{
  v8 = WebKit::StorageAreaMap::ensureMap(this, a2);
  v27 = 0;
  result = WebCore::StorageMap::removeItem(v8, a4, &v27);
  if (v27)
  {
    LODWORD(v26[0]) = 0;
    WTF::HashMap<WTF::String,unsigned int,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<int>(this + 10, a4, v26, buf);
    ++*(*buf + 8);
    if (*(this + 72))
    {
      v10 = WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(this + 2, this);
      v12 = *(this + 1);
      atomic_fetch_add(v12, 1u);
      v13 = *(this + 11);
      v26[0] = v12;
      v26[1] = v13;
      v14 = *a4;
      if (*a4)
      {
        atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
      }

      v26[2] = v14;
      v15 = WebKit::WebProcess::singleton(v10, v11);
      result = WebKit::WebProcess::ensureNetworkProcessConnection(v15);
      if ((*(this + 72) & 1) == 0)
      {
        __break(1u);
        return result;
      }

      v16 = *(result + 3);
      v21 = *(a3 + 2);
      *buf = this + 64;
      v17 = *(a2 + 28) + 800;
      v23 = &v21;
      v24 = a4;
      v25 = v17;
      IPC::Connection::sendWithAsyncReply<Messages::NetworkStorageManager::RemoveItem,WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0>(v16, buf, v26);
      WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0::~$_0(v26, v18);
    }

    else
    {
      v20 = qword_1ED641350;
      if (os_log_type_enabled(qword_1ED641350, OS_LOG_TYPE_ERROR))
      {
        *buf = 0;
        _os_log_error_impl(&dword_19D52D000, v20, OS_LOG_TYPE_ERROR, "StorageAreaMap::removeItem failed because storage map ID is invalid", buf, 2u);
      }
    }

    result = v27;
    v27 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v19);
      }
    }
  }

  return result;
}

uint64_t WebKit::StorageAreaImpl::clear(uint64_t this, WebCore::LocalFrame *a2)
{
  v2 = *(this + 24);
  if (v2)
  {
    v3 = *(v2 + 8);
    if (v3)
    {
      v5 = this;
      v6 = (v3 + 16);
      ++*(v3 + 16);
      v7 = WebKit::StorageAreaMap::ensureMap(v3, a2);
      WebCore::StorageMap::clear(v7);
      v9 = *(v3 + 80);
      if (v9)
      {
        *(v3 + 80) = 0;
        WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,Inspector::SupplementalBackendDispatcher *,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<Inspector::SupplementalBackendDispatcher *>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v9, v8);
      }

      ++*(v3 + 88);
      *(v3 + 112) = 1;
      if (*(v3 + 72))
      {
        WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v3 + 8), v3);
        v11 = *(v3 + 8);
        atomic_fetch_add(v11, 1u);
        v12 = *(v3 + 88);
        {
          goto LABEL_21;
        }

        v13 = WebKit::WebProcess::singleton(void)::process;
        while (1)
        {
          v14 = WebKit::WebProcess::ensureNetworkProcessConnection(v13);
          if (*(v3 + 72))
          {
            break;
          }

          __break(1u);
LABEL_21:
          v29 = WebKit::WebProcess::operator new(0x370, v10);
          v13 = WebKit::WebProcess::WebProcess(v29);
          WebKit::WebProcess::singleton(void)::process = v13;
        }

        v15 = *(v14 + 24);
        v16 = *(v5 + 16);
        v17 = *(a2 + 28);
        v18 = WTF::fastMalloc(0x18);
        *v18 = &unk_1F1134B38;
        v18[1] = v11;
        v18[2] = v12;
        if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
        {
          this = 141;
          __break(0xC471u);
          return this;
        }

        v19 = v18;
        IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
        v22 = IPC::Encoder::operator new(0x238, v21);
        *v22 = 761;
        *(v22 + 68) = 0;
        *(v22 + 70) = 0;
        *(v22 + 69) = 0;
        *(v22 + 2) = 0;
        *(v22 + 3) = 0;
        *(v22 + 1) = 0;
        IPC::Encoder::encodeHeader(v22);
        v31 = v22;
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v22, *(v3 + 64));
        IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v22, v16);
        IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v22, (v17 + 800));
        v30[0] = v19;
        v30[1] = IdentifierInternal;
        IPC::Connection::sendMessageWithAsyncReply(v15, &v31, v30, 0, 0);
        v24 = v30[0];
        v30[0] = 0;
        if (v24)
        {
          (*(*v24 + 8))(v24);
        }

        v25 = v31;
        v31 = 0;
        if (v25)
        {
          IPC::Encoder::~Encoder(v25, v23);
          bmalloc::api::tzoneFree(v26, v27);
        }
      }

      else
      {
        v28 = qword_1ED641350;
        if (os_log_type_enabled(qword_1ED641350, OS_LOG_TYPE_ERROR))
        {
          LOWORD(v30[0]) = 0;
          _os_log_error_impl(&dword_19D52D000, v28, OS_LOG_TYPE_ERROR, "StorageAreaMap::clear failed because storage map ID is invalid", v30, 2u);
        }
      }

      return WTF::RefCounted<WebKit::StorageAreaMap>::deref(v6);
    }
  }

  return this;
}

uint64_t WebKit::StorageAreaImpl::contains(WebKit::StorageAreaImpl *this, const WTF::String *a2)
{
  v2 = *(this + 3);
  if (!v2)
  {
    return 0;
  }

  v3 = *(v2 + 8);
  if (!v3)
  {
    return 0;
  }

  v5 = v3 + 4;
  ++v3[4];
  v6 = WebKit::StorageAreaMap::ensureMap(v3, a2);
  v7 = WebCore::StorageMap::contains(v6, a2);
  WTF::RefCounted<WebKit::StorageAreaMap>::deref(v5);
  return v7;
}

uint64_t WebKit::StorageAreaImpl::storageType(WebKit::StorageAreaImpl *this)
{
  v1 = *(this + 3);
  if (!v1)
  {
    return 1;
  }

  v2 = *(v1 + 8);
  if (!v2)
  {
    return 1;
  }

  v4 = *(v2 + 16);
  v3 = v2 + 16;
  *v3 = v4 + 1;
  v5 = *(v3 + 84);
  WTF::RefCounted<WebKit::StorageAreaMap>::deref(v3);
  return v5;
}

_DWORD *WebKit::StorageAreaImpl::prewarm(_DWORD *this)
{
  v1 = *(this + 3);
  if (v1)
  {
    this = *(v1 + 8);
    if (this)
    {
      v2 = this + 4;
      ++this[4];
      if ((this[18] & 1) == 0)
      {
        WebKit::StorageAreaMap::sendConnectMessage(this, 0);
      }

      return WTF::RefCounted<WebKit::StorageAreaMap>::deref(v2);
    }
  }

  return this;
}

uint64_t WebKit::StorageAreaMap::StorageAreaMap(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  *(a1 + 16) = 1;
  *a1 = &unk_1F10EA5E0;
  *(a1 + 8) = 0;
  *(a1 + 24) = WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>::generateIdentifierInternal();
  *(a1 + 32) = 0;
  *a1 = &unk_1F1134958;
  v6 = WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a2 + 16), a2);
  v7 = *(a2 + 16);
  atomic_fetch_add(v7, 1u);
  *(a1 + 40) = v7;
  v8 = *a3;
  *a3 = 0;
  *(a1 + 48) = v8;
  *(a1 + 56) = 0;
  *(a1 + 64) = 0;
  *(a1 + 72) = 0;
  *(a1 + 80) = 0;
  *(a1 + 88) = 1;
  *(a1 + 96) = *(a2 + 56);
  *(a1 + 100) = *(a2 + 24);
  *(a1 + 104) = 0;
  *(a1 + 112) = 0;
  v10 = WebKit::WebProcess::singleton(v6, v9);
  WebKit::WebProcess::registerStorageAreaMap(v10, a1);
  return a1;
}

void WebKit::StorageAreaMap::~StorageAreaMap(unsigned int **this, void *a2)
{
  WebKit::StorageAreaMap::disconnect(this, a2);
  {
    v4 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v10 = WebKit::WebProcess::operator new(0x370, v3);
    v4 = WebKit::WebProcess::WebProcess(v10);
    WebKit::WebProcess::singleton(void)::process = v4;
  }

  WebKit::WebProcess::unregisterStorageAreaMap(v4, this);
  v6 = this[10];
  if (v6)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,Inspector::SupplementalBackendDispatcher *>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,Inspector::SupplementalBackendDispatcher *,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<Inspector::SupplementalBackendDispatcher *>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v6, v5);
  }

  v7 = this[7];
  this[7] = 0;
  if (v7)
  {
    std::default_delete<WebCore::StorageMap>::operator()[abi:sn200100](v7, v5);
  }

  v8 = this[6];
  this[6] = 0;
  if (v8)
  {
    WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(v8, v5);
  }

  v9 = this[5];
  this[5] = 0;
  if (v9 && atomic_fetch_add(v9, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v9);
    WTF::fastFree(v9, v5);
  }

  *this = &unk_1F10EA5E0;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 1, v5);
  if (*(this + 4) != 1)
  {
    __break(0xC471u);
  }
}

{
  WebKit::StorageAreaMap::~StorageAreaMap(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

uint64_t WebKit::StorageAreaMap::disconnect(WebKit::StorageAreaMap *this, void *a2)
{
  v35 = *MEMORY[0x1E69E9840];
  v3 = *(this + 72);
  {
    result = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v25 = WebKit::WebProcess::operator new(0x370, a2);
    result = WebKit::WebProcess::WebProcess(v25);
    WebKit::WebProcess::singleton(void)::process = result;
  }

  v5 = *(result + 336);
  if (v3)
  {
    if (!v5)
    {
LABEL_10:
      *(this + 64) = 0;
      *(this + 72) = 0;
      *(this + 4) = 0;
      return result;
    }

    ++*(v5 + 20);
    if (*(this + 72))
    {
      v6 = *(v5 + 24);
      v7 = IPC::Encoder::operator new(0x238, a2);
      *v7 = 781;
      *(v7 + 68) = 0;
      *(v7 + 70) = 0;
      *(v7 + 69) = 0;
      *(v7 + 2) = 0;
      *(v7 + 3) = 0;
      *(v7 + 1) = 0;
      IPC::Encoder::encodeHeader(v7);
      v29 = v7;
      IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v7, *(this + 8));
      IPC::Connection::sendMessageImpl(v6, &v29, 0, 0);
      result = v29;
      v29 = 0;
      if (result)
      {
        IPC::Encoder::~Encoder(result, v8);
        result = bmalloc::api::tzoneFree(v21, v22);
      }

      if (*(v5 + 20) == 1)
      {
        result = (*(*v5 + 24))(v5);
      }

      else
      {
        --*(v5 + 20);
      }

      goto LABEL_10;
    }

    goto LABEL_38;
  }

  if (v5)
  {
    v9 = *(v5 + 20);
    *(v5 + 20) = v9 + 1;
    if (*(this + 113) == 1)
    {
      v10 = *(v5 + 24);
      v11 = WebKit::StorageAreaMap::computeStorageType(this);
      v12 = *(*(this + 5) + 8);
      if (!v12)
      {
        result = 92;
        __break(0xC471u);
LABEL_38:
        __break(1u);
        return result;
      }

      v13 = v11;
      v15 = *(v12 + 64);
      v14 = *(v12 + 72);
      v26 = v15;
      v27 = v14;
      WebKit::StorageAreaMap::clientOrigin(&v29, this);
      v17 = IPC::Encoder::operator new(0x238, v16);
      *v17 = 760;
      *(v17 + 68) = 0;
      *(v17 + 70) = 0;
      *(v17 + 69) = 0;
      *(v17 + 2) = 0;
      *(v17 + 3) = 0;
      *(v17 + 1) = 0;
      IPC::Encoder::encodeHeader(v17);
      v28 = v17;
      IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v17, v13);
      IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>> const&>(v17, &v26);
      IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v17, &v29);
      IPC::Connection::sendMessageImpl(v10, &v28, 0, 0);
      result = v28;
      v28 = 0;
      if (result)
      {
        IPC::Encoder::~Encoder(result, v18);
        result = bmalloc::api::tzoneFree(v23, v24);
      }

      if (!v34)
      {
        v19 = v33;
        v33 = 0;
        if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v19, v18);
        }

        result = v32;
        v32 = 0;
        if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          result = WTF::StringImpl::destroy(result, v18);
        }
      }

      v34 = -1;
      if (!v31)
      {
        v20 = v30;
        v30 = 0;
        if (v20 && atomic_fetch_add_explicit(v20, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v20, v18);
        }

        result = v29;
        v29 = 0;
        if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          result = WTF::StringImpl::destroy(result, v18);
        }
      }

      v9 = *(v5 + 20) - 1;
    }

    if (v9)
    {
      *(v5 + 20) = v9;
    }

    else
    {
      return (*(*v5 + 24))(v5);
    }
  }

  return result;
}

uint64_t WebKit::StorageAreaMap::ensureMap(WebKit::StorageAreaMap *this, void *a2)
{
  if ((*(this + 72) & 1) == 0)
  {
    WebKit::StorageAreaMap::sendConnectMessage(this, 1);
  }

  result = *(this + 7);
  if (!result)
  {
    v4 = WebCore::StorageMap::operator new(0, a2);
    result = WebCore::StorageMap::StorageMap(v4);
    v6 = *(this + 7);
    *(this + 7) = result;
    if (v6)
    {
      std::default_delete<WebCore::StorageMap>::operator()[abi:sn200100](v6, v5);
      return *(this + 7);
    }
  }

  return result;
}

uint64_t IPC::Connection::sendWithAsyncReply<Messages::NetworkStorageManager::RemoveItem,WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0>(uint64_t *a1, uint64_t **a2, uint64_t *a3)
{
  v5 = *a3;
  v6 = a3[1];
  *a3 = 0;
  v7 = a3[2];
  if (v7)
  {
    atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
  }

  v8 = WTF::fastMalloc(0x20);
  v10 = v8;
  *v8 = &unk_1F1134B10;
  v8[1] = v5;
  v8[2] = v6;
  if (v7)
  {
    atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
    v8[3] = v7;
    if (atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v7, v9);
    }
  }

  else
  {
    v8[3] = 0;
  }

  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    v13 = IPC::Encoder::operator new(0x238, v12);
    *v13 = 806;
    *(v13 + 68) = 0;
    *(v13 + 70) = 0;
    *(v13 + 69) = 0;
    *(v13 + 2) = 0;
    *(v13 + 3) = 0;
    *(v13 + 1) = 0;
    IPC::Encoder::encodeHeader(v13);
    v20 = v13;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v13, **a2);
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v13, *a2[1]);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v13, a2[2]);
    IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v13, a2[3]);
    v19[0] = v10;
    v19[1] = IdentifierInternal;
    IPC::Connection::sendMessageWithAsyncReply(a1, &v20, v19, 0, 0);
    v15 = v19[0];
    v19[0] = 0;
    if (v15)
    {
      (*(*v15 + 8))(v15);
    }

    result = v20;
    v20 = 0;
    if (result)
    {
      IPC::Encoder::~Encoder(result, v14);
      return bmalloc::api::tzoneFree(v17, v18);
    }
  }

  return result;
}

uint64_t WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0::~$_0(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 + 16);
  *(a1 + 16) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *a1;
  *a1 = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WebKit::StorageAreaMap::didSetItem(uint64_t result, uint64_t a2, const WTF::StringImpl **a3, int a4, void *a5)
{
  if (*(result + 88) != a2)
  {
    return result;
  }

  v7 = result;
  result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,unsigned int>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,unsigned int>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,unsigned int,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,unsigned int,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((result + 80), a3, a3);
  v8 = *(v7 + 80);
  if (v8)
  {
    v9 = v8 + 16 * *(v8 - 4);
  }

  else
  {
    v9 = 0;
  }

  if (v9 != result)
  {
    if (*(result + 8) != 1)
    {
      --*(result + 8);
      goto LABEL_8;
    }

    if (v8)
    {
      v10 = v8 + 16 * *(v8 - 4);
      if (v10 == result)
      {
        goto LABEL_8;
      }
    }

    else
    {
      if (!result)
      {
        goto LABEL_8;
      }

      v10 = 0;
    }

    if (v10 != result)
    {
      result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,unsigned int>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,unsigned int>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,unsigned int,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<unsigned int>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::remove((v7 + 80), result);
    }
  }

LABEL_8:
  if (a4)
  {

    return WebKit::StorageAreaMap::syncItems(v7, a5);
  }

  return result;
}

uint64_t WebKit::StorageAreaMap::syncItems(uint64_t result, void *a2)
{
  if (!*(result + 56))
  {
    return result;
  }

  v2 = result;
  if (*(result + 112))
  {
    return result;
  }

  v3 = WebCore::StorageMap::operator new(result, a2);
  v4 = WebCore::StorageMap::StorageMap(v3);
  v5 = *(v2 + 56);
  *(v2 + 56) = v4;
  result = WebCore::StorageMap::importItems();
  v7 = *(v2 + 80);
  if (v7)
  {
    v8 = *(v7 - 4);
    v9 = v7 + 16 * v8;
    if (*(v7 - 12))
    {
      if (v8)
      {
        v10 = 16 * v8;
        v11 = *(v2 + 80);
        while ((*v11 + 1) <= 1)
        {
          v11 += 16;
          v10 -= 16;
          if (!v10)
          {
            v11 = v9;
            goto LABEL_15;
          }
        }
      }

      else
      {
        v11 = *(v2 + 80);
      }

      goto LABEL_15;
    }
  }

  else
  {
    v9 = 0;
    v8 = 0;
  }

  v11 = v9;
  v9 = v7 + 16 * v8;
  if (v7)
  {
LABEL_15:
    v12 = v7 + 16 * *(v7 - 4);
    goto LABEL_16;
  }

  v12 = 0;
LABEL_16:
  while (v11 != v12)
  {
    v13 = *v11;
    if (*v11)
    {
      atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
    }

    v18 = v13;
    v19 = *(v11 + 8);
    WebCore::StorageMap::getItem(&v17, v5, &v18);
    if (v17)
    {
      WebCore::StorageMap::setItemIgnoringQuota(*(v2 + 56), &v18, &v17);
    }

    else
    {
      v16 = 0;
      WebCore::StorageMap::removeItem(*(v2 + 56), &v18, &v16);
      v14 = v16;
      v16 = 0;
      if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v14, v6);
      }
    }

    v15 = v17;
    v17 = 0;
    if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v15, v6);
    }

    result = v18;
    v18 = 0;
    if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      result = WTF::StringImpl::destroy(result, v6);
    }

    do
    {
      v11 += 16;
    }

    while (v11 != v9 && (*v11 + 1) <= 1);
  }

  if (v5)
  {
    return std::default_delete<WebCore::StorageMap>::operator()[abi:sn200100](v5, v6);
  }

  return result;
}

void WebKit::StorageAreaMap::dispatchStorageEvent(uint64_t a1, WTF::StringImpl *a2, const WTF::StringImpl **a3, int a4, WTF::String *a5, uint64_t a6, unint64_t a7)
{
  if (*(a1 + 32) > a7)
  {
    return;
  }

  *(a1 + 32) = a7;
  if ((*(a2 + 8) & 1) == 0)
  {
    v11 = *a3;
    if (*a3)
    {
      if (*(a1 + 56))
      {
        v12 = *(a1 + 80);
        if (v12)
        {
          if (v11 == -1)
          {
LABEL_42:
            __break(0xC471u);
            goto LABEL_44;
          }

          if (!v11)
          {
            __break(0xC471u);
LABEL_44:
            JUMPOUT(0x19E41F470);
          }

          v13 = *(v12 - 8);
          v14 = *(v11 + 4);
          if (v14 < 0x100)
          {
            v15 = WTF::StringImpl::hashSlowCase(v11);
          }

          else
          {
            v15 = v14 >> 8;
          }

          for (i = 0; ; v15 = i + v17)
          {
            v17 = v15 & v13;
            v18 = *(v12 + 16 * (v15 & v13));
            if (v18 != -1)
            {
              if (!v18)
              {
                goto LABEL_17;
              }

              if (WTF::equal(v18, *a3, a3))
              {
                break;
              }
            }

            ++i;
          }
        }

        else
        {
LABEL_17:
          if (*a5)
          {
            WebCore::StorageMap::setItemIgnoringQuota(*(a1 + 56), a3, a5);
          }

          else
          {
            v29[0] = 0;
            WebCore::StorageMap::removeItem(*(a1 + 56), a3, v29);
            v19 = v29[0];
            v29[0] = 0;
            if (v19 && atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v19, a2);
            }
          }
        }
      }
    }

    else
    {
      v29[0] = 0;
      WebKit::StorageAreaMap::syncItems(a1, v29);
      if (v29[0])
      {
        WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v29[0], a2);
      }
    }
  }

  if (*(a1 + 100))
  {
    v29[0] = *a2;
    LOBYTE(v29[1]) = *(a2 + 8);
    v20 = WTF::fastMalloc(0x18);
    *v20 = &unk_1F1134B88;
    *(v20 + 8) = *v29;
    v30 = v20;
    WebCore::StorageEventDispatcher::dispatchLocalStorageEvents();
    if (v30)
    {
      (*(*v30 + 8))(v30);
    }

    return;
  }

  {
    v21 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v28 = WebKit::WebProcess::operator new(0x370, a2);
    v21 = WebKit::WebProcess::WebProcess(v28);
    WebKit::WebProcess::singleton(void)::process = v21;
  }

  v22 = *(*(a1 + 40) + 8);
  if (!v22)
  {
    __break(0xC471u);
    goto LABEL_41;
  }

  if ((*(v22 + 40) & 1) == 0)
  {
LABEL_41:
    __break(1u);
    goto LABEL_42;
  }

  v29[0] = *(v22 + 32);
  v23 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v21 + 17, v29);
  if (v23)
  {
    v24 = v23;
    CFRetain(*(v23 + 8));
    v25 = *(v24 + 56);
    if (v25)
    {
      ++*(v25 + 8);
      v29[0] = *a2;
      LOBYTE(v29[1]) = *(a2 + 8);
      v26 = WTF::fastMalloc(0x18);
      *v26 = &unk_1F1134B60;
      *(v26 + 8) = *v29;
      v30 = v26;
      WebCore::StorageEventDispatcher::dispatchSessionStorageEvents();
      if (v30)
      {
        (*(*v30 + 8))(v30);
      }

      WTF::RefCounted<WebCore::Page>::deref((v25 + 8));
    }

    v27 = *(v24 + 8);

    CFRelease(v27);
  }
}

WTF::StringImpl **WebKit::StorageAreaMap::clearCache(WTF::StringImpl **this, WTF::StringImpl *a2)
{
  if (this[4] <= a2)
  {
    v5[1] = v2;
    v5[2] = v3;
    this[4] = a2;
    v5[0] = 0;
    WebKit::StorageAreaMap::syncItems(this, v5);
    this = v5[0];
    if (v5[0])
    {
      return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v5[0], v4);
    }
  }

  return this;
}

uint64_t WebKit::StorageAreaMap::computeStorageType(WebKit::StorageAreaMap *this)
{
  result = *(this + 100);
  if ((result - 1) <= 1)
  {
    v3 = *(*(this + 5) + 8);
    if (v3)
    {
      if (*(v3 + 48))
      {
        return 2;
      }

      else
      {
        return result;
      }
    }

    else
    {
      result = 92;
      __break(0xC471u);
    }
  }

  return result;
}

void WebKit::StorageAreaMap::clientOrigin(WebKit::StorageAreaMap *this, uint64_t a2)
{
  v9 = *MEMORY[0x1E69E9840];
  mpark::detail::move_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1>::move_assignment(v8, *(a2 + 48) + 8);
  v4 = *(*(a2 + 40) + 8);
  if (v4)
  {
    v5 = *(v4 + 48);
    if (v5)
    {
      v6 = (v5 + 8);
    }

    else
    {
      v6 = v8;
    }

    mpark::detail::move_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1>::move_assignment(v7, v6);
    mpark::detail::move_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1>::move_assignment(this, v7);
    mpark::detail::move_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1>::move_assignment(this + 32, v8);
    WebCore::SecurityOriginData::~SecurityOriginData(v7);
    WebCore::SecurityOriginData::~SecurityOriginData(v8);
  }

  else
  {
    __break(0xC471u);
  }
}

uint64_t WebKit::StorageAreaMap::sendConnectMessage(uint64_t a1, void *a2)
{
  v2 = a2;
  v30 = *MEMORY[0x1E69E9840];
  *(a1 + 113) = 1;
  v4 = WebKit::WebProcess::singleton(a1, a2);
  v5 = *(WebKit::WebProcess::ensureNetworkProcessConnection(v4) + 24);
  while (1)
  {
    v6 = *v5;
    if ((*v5 & 1) == 0)
    {
      break;
    }

    v16 = *v5;
    atomic_compare_exchange_strong_explicit(v5, &v16, v6 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v16 == v6)
    {
      goto LABEL_4;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v5);
LABEL_4:
  v7 = *(*(a1 + 40) + 8);
  if (v7)
  {
    v9 = *(v7 + 64);
    v8 = *(v7 + 72);
    v27 = v9;
    v28 = v8;
    WebKit::StorageAreaMap::clientOrigin(v29, a1);
    v26 = WebKit::StorageAreaMap::computeStorageType(a1);
    if (v2)
    {
      v17 = *(a1 + 24);
      v18[0] = &v26;
      v18[1] = &v17;
      v19 = &v27;
      v20 = v29;
      IPC::Connection::sendSync<Messages::NetworkStorageManager::ConnectToStorageAreaSync>(&v21, v5, v18);
      if (v25)
      {
        *(a1 + 113) = 0;
      }

      else
      {
        *v18 = v22;
        v15 = v23;
        v23 = 0;
        v19 = v15;
        v20 = v24;
        WebKit::StorageAreaMap::didConnect(a1, v22, SBYTE8(v22), &v19, v24);
        if (v19)
        {
          WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v19, v14);
        }
      }

      mpark::detail::move_constructor<mpark::detail::traits<IPC::ConnectionSendSyncResult<Messages::NetworkStorageManager::ConnectToStorageAreaSync>::ReplyData,IPC::Error>,(mpark::detail::Trait)1>::~move_constructor(&v21, v14);
    }

    else
    {
      WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 8), a1);
      v10 = *(a1 + 8);
      atomic_fetch_add(v10, 1u);
      v17 = *(a1 + 24);
      v18[0] = v10;
      v21 = &v26;
      *&v22 = &v17;
      *(&v22 + 1) = &v27;
      v23 = v29;
      IPC::Connection::sendWithAsyncReply<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(v5, &v21, v18);
      v12 = v18[0];
      v18[0] = 0;
      if (v12)
      {
        if (atomic_fetch_add(v12, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v12);
          WTF::fastFree(v12, v11);
        }
      }
    }

    WebCore::ClientOrigin::~ClientOrigin(v29, v11);
    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v5);
  }

  else
  {
    result = 92;
    __break(0xC471u);
  }

  return result;
}

IPC::Encoder *IPC::Connection::sendSync<Messages::NetworkStorageManager::ConnectToStorageAreaSync>(uint64_t a1, unsigned __int8 *a2, uint64_t a3)
{
  v31 = *MEMORY[0x1E69E9840];
  IPC::Connection::createSyncMessageEncoder(0xFAE, 0, v24);
  v6 = v24[0];
  IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(v24[0], **a3);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, **(a3 + 8));
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>> const&>(v6, *(a3 + 16));
  IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(v6, *(a3 + 24));
  v7 = IPC::Connection::sendSyncMessage(a2, v24[1], v24, 0, &v22, INFINITY);
  if (!v23)
  {
    v9 = v22;
    v22 = 0;
    if (*(v9 + 25) == 3194)
    {
      v10 = 11;
    }

    else
    {
      IPC::Decoder::decode<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>>(&v25, v9);
      if (v29)
      {
        v11 = v27;
        *&v30[7] = *&v26[7];
        *v30 = *v26;
        v12 = v28;
        *(a1 + 8) = v25;
        *(a1 + 9) = *v30;
        v13 = *&v30[7];
        *a1 = v9;
        *(a1 + 16) = v13;
        *(a1 + 24) = v11;
        *(a1 + 32) = v12;
        *(a1 + 40) = 0;
        goto LABEL_10;
      }

      v10 = 14;
    }

    *a1 = v10;
    *(a1 + 40) = 1;
    IPC::Decoder::~Decoder(v9);
    bmalloc::api::tzoneFree(v14, v15);
    goto LABEL_10;
  }

  if (v23 != 1)
  {
    mpark::throw_bad_variant_access(v7);
  }

  *a1 = v22;
  *(a1 + 40) = 1;
LABEL_10:
  if (!v23)
  {
    v16 = v22;
    v22 = 0;
    if (v16)
    {
      IPC::Decoder::~Decoder(v16);
      bmalloc::api::tzoneFree(v20, v21);
    }
  }

  result = v24[0];
  v24[0] = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v8);
    return bmalloc::api::tzoneFree(v18, v19);
  }

  return result;
}

uint64_t WebKit::StorageAreaMap::didConnect(uint64_t result, void *a2, char a3, uint64_t a4, unint64_t a5)
{
  *(result + 113) = 0;
  if (*(result + 32) <= a5)
  {
    v5 = result;
    *(result + 32) = a5;
    if (a3)
    {
      if ((*(result + 72) & 1) == 0)
      {
        *(result + 72) = 1;
      }

      *(result + 64) = a2;
      v6 = WebCore::StorageMap::operator new(result, a2);
      v7 = WebCore::StorageMap::StorageMap(v6);
      v9 = *(v5 + 56);
      *(v5 + 56) = v7;
      if (v9)
      {
        std::default_delete<WebCore::StorageMap>::operator()[abi:sn200100](v9, v8);
      }

      return WebCore::StorageMap::importItems();
    }
  }

  return result;
}

IPC::Encoder *IPC::Connection::sendWithAsyncReply<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(uint64_t *a1, uint64_t a2, uint64_t *a3)
{
  IPC::Connection::makeAsyncReplyHandler<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(v15, a3);
  v5 = v15[1];
  v7 = IPC::Encoder::operator new(0x238, v6);
  *v7 = 767;
  *(v7 + 68) = 0;
  *(v7 + 70) = 0;
  *(v7 + 69) = 0;
  *(v7 + 2) = 0;
  *(v7 + 3) = 0;
  *(v7 + 1) = 0;
  IPC::Encoder::encodeHeader(v7);
  v14 = v7;
  Messages::NetworkStorageManager::ConnectToStorageArea::encode<IPC::Encoder>(a2, v7);
  v13[0] = v15[0];
  v13[1] = v5;
  IPC::Connection::sendMessageWithAsyncReply(a1, &v14, v13, 0, 0);
  v9 = v13[0];
  v13[0] = 0;
  if (v9)
  {
    (*(*v9 + 8))(v9);
  }

  result = v14;
  v14 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v8);
    return bmalloc::api::tzoneFree(v11, v12);
  }

  return result;
}

uint64_t WebKit::StorageNamespaceImpl::destroyStorageAreaMap(uint64_t this, WebKit::StorageAreaMap *a2)
{
  v2 = (this + 80);
  if (!*(this + 80))
  {
    return this;
  }

  this = WebCore::SecurityOriginData::isNull((a2 + 8));
  if (this)
  {
    goto LABEL_40;
  }

  if (!*(a2 + 32))
  {
    if (*(a2 + 1) != -1)
    {
      goto LABEL_5;
    }

LABEL_40:
    __break(0xC471u);
    JUMPOUT(0x19E41FD94);
  }

  if (*(a2 + 32) != 1)
  {
LABEL_32:
    mpark::throw_bad_variant_access(this);
  }

LABEL_5:
  v4 = *v2;
  if (!*v2)
  {
    return this;
  }

  v5 = *(v4 - 8);
  v17 = -1640531527;
  v18 = 0;
  v19 = 0;
  WTF::add<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(&v17, a2 + 8);
  v6 = WTF::SuperFastHash::hash(&v17) & v5;
  v7 = v4 + 40 * v6;
  this = WebCore::SecurityOriginData::isNull(v7);
  if ((this & 1) == 0)
  {
    v16 = 1;
    do
    {
      if (*(v7 + 24))
      {
        if (*(v7 + 24) != 1)
        {
          goto LABEL_32;
        }
      }

      else if (*v7 == -1)
      {
        goto LABEL_29;
      }

      this = WebCore::operator==();
      if (this)
      {
        v9 = *v2;
        if (!*v2)
        {
          goto LABEL_10;
        }

        goto LABEL_9;
      }

LABEL_29:
      v6 = (v6 + v16) & v5;
      v7 = v4 + 40 * v6;
      this = WebCore::SecurityOriginData::isNull(v7);
      ++v16;
    }

    while (!this);
  }

  v9 = *v2;
  if (*v2)
  {
    v7 = v9 + 40 * *(v9 - 4);
LABEL_9:
    v9 += 40 * *(v9 - 4);
    if (v9 != v7)
    {
LABEL_10:
      if (v9 != v7)
      {
        if (!*(v7 + 24))
        {
          v10 = *(v7 + 8);
          *(v7 + 8) = 0;
          if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v10, v8);
          }

          this = *v7;
          *v7 = 0;
          if (this && atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            this = WTF::StringImpl::destroy(this, v8);
          }
        }

        *v7 = -1;
        *(v7 + 8) = 0;
        *(v7 + 16) = 0;
        *(v7 + 24) = 0;
        v11 = *(v7 + 32);
        *(v7 + 32) = 0;
        if (v11)
        {
          this = WTF::RefCounted<WebKit::StorageAreaMap>::deref((v11 + 16));
        }

        v12 = *v2;
        v13 = vadd_s32(*(*v2 - 16), 0xFFFFFFFF00000001);
        *(v12 - 16) = v13;
        v14 = *(v12 - 4);
        if (6 * v13.i32[1] < v14 && v14 >= 9)
        {

          return WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::rehash(v2, v14 >> 1, 0);
        }
      }
    }
  }

  return this;
}

uint64_t WebKit::StorageNamespaceImpl::createLocalStorageNamespace(WebKit::StorageNamespaceImpl *this, int a2)
{
  result = WTF::fastMalloc(0x58);
  *(result + 8) = 1;
  *(result + 16) = 0;
  *result = &unk_1F11349A0;
  *(result + 24) = 1;
  *(result + 32) = 0;
  *(result + 40) = 0;
  *(result + 48) = 0;
  *(result + 56) = a2;
  *(result + 72) = 0;
  *(result + 80) = 0;
  *(result + 64) = 0;
  *this = result;
  return result;
}

void WebKit::StorageNamespaceImpl::~StorageNamespaceImpl(WebKit::StorageNamespaceImpl *this, WTF::StringImpl *a2)
{
  v2 = this;
  v3 = *(this + 10);
  if (v3)
  {
    v4 = *(v3 - 4);
    if (v4)
    {
      v5 = (v3 + 24);
      while (1)
      {
        v6 = *v5;
        if (*v5)
        {
          break;
        }

        if (*(v5 - 3) != -1)
        {
          goto LABEL_6;
        }

LABEL_16:
        v5 += 40;
        if (!--v4)
        {
          goto LABEL_20;
        }
      }

      if (v6 != 1)
      {
        mpark::throw_bad_variant_access(this);
      }

LABEL_6:
      v7 = *(v5 + 1);
      *(v5 + 1) = 0;
      if (v7)
      {
        this = WTF::RefCounted<WebKit::StorageAreaMap>::deref((v7 + 16));
        if (!*v5)
        {
LABEL_8:
          v8 = *(v5 - 2);
          *(v5 - 2) = 0;
          if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v8, a2);
          }

          this = *(v5 - 3);
          *(v5 - 3) = 0;
          if (this && atomic_fetch_add_explicit(this, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            this = WTF::StringImpl::destroy(this, a2);
          }
        }
      }

      else if (!v6)
      {
        goto LABEL_8;
      }

      *v5 = -1;
      goto LABEL_16;
    }

LABEL_20:
    WTF::fastFree((v3 - 16), a2);
  }

  v9 = *(v2 + 6);
  *(v2 + 6) = 0;
  if (v9)
  {
    WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(v9, a2);
  }

  v10 = *(v2 + 2);
  if (v10)
  {
    *(v10 + 8) = 0;
    v11 = *(v2 + 2);
    *(v2 + 2) = 0;
    if (v11)
    {
      if (atomic_fetch_add(v11, 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, v11);
        WTF::fastFree(v11, a2);
      }
    }
  }

  if (*(v2 + 2) != 1)
  {
    __break(0xC471u);
  }
}

{
  WebKit::StorageNamespaceImpl::~StorageNamespaceImpl(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::StorageNamespaceImpl::sessionID(WebKit::StorageNamespaceImpl *this, void *a2)
{
  v2 = &qword_1ED643000;
  {
    goto LABEL_6;
  }

  v3 = WebKit::WebProcess::singleton(void)::process;
  while (1)
  {
    v2 = *(v3 + 712);
    if (v2)
    {
      break;
    }

    __break(1u);
LABEL_6:
    v5 = v2;
    v6 = WebKit::WebProcess::operator new(0x370, a2);
    v3 = WebKit::WebProcess::WebProcess(v6);
    WebKit::WebProcess::singleton(void)::process = v3;
    *(v5 + 2024) = 1;
  }

  return *(v3 + 88);
}

unsigned int *WebKit::StorageNamespaceImpl::storageArea@<X0>(WebKit::StorageNamespaceImpl *this@<X0>, const WebCore::SecurityOrigin *a2@<X1>, uint64_t *a3@<X8>)
{
  v21[0] = this;
  v21[1] = a2;
  isNull = WebCore::SecurityOriginData::isNull((a2 + 8));
  if (isNull)
  {
    goto LABEL_30;
  }

  if (!*(a2 + 32))
  {
    if (*(a2 + 1) != -1)
    {
      goto LABEL_4;
    }

LABEL_30:
    __break(0xC471u);
    JUMPOUT(0x19E420288);
  }

  if (*(a2 + 32) != 1)
  {
LABEL_29:
    mpark::throw_bad_variant_access(isNull);
  }

LABEL_4:
  v7 = *(this + 10);
  if (v7 || (WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::expand(this + 10, 0), (v7 = *(this + 10)) != 0))
  {
    v8 = *(v7 - 8);
  }

  else
  {
    v8 = 0;
  }

  v22 = -1640531527;
  v23 = 0;
  v24 = 0;
  WTF::add<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(&v22, a2 + 8);
  v9 = WTF::SuperFastHash::hash(&v22) & v8;
  v10 = (v7 + 40 * v9);
  isNull = WebCore::SecurityOriginData::isNull(v10);
  if ((isNull & 1) == 0)
  {
    v11 = 0;
    v12 = 1;
    while (!*(v10 + 24))
    {
      if (*v10 != -1)
      {
        goto LABEL_10;
      }

      v11 = v10;
LABEL_15:
      v9 = (v9 + v12) & v8;
      v10 = (v7 + 40 * v9);
      isNull = WebCore::SecurityOriginData::isNull(v10);
      ++v12;
      if (isNull)
      {
        if (v11)
        {
          v11[4] = 0;
          *v11 = 0u;
          *(v11 + 1) = 0u;
          --*(*(this + 10) - 16);
          v10 = v11;
        }

        goto LABEL_18;
      }
    }

    if (*(v10 + 24) != 1)
    {
      goto LABEL_29;
    }

LABEL_10:
    if (WebCore::operator==())
    {
      goto LABEL_11;
    }

    goto LABEL_15;
  }

LABEL_18:
  WTF::HashMapEnsureTranslator<WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::SecurityOriginData>>::translate<WebCore::SecurityOriginData const&,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WebKit::StorageNamespaceImpl::storageArea(WebCore::SecurityOrigin const&)::$_0>(v10, (a2 + 8), v21);
  v17 = *(this + 10);
  if (v17)
  {
    v18 = *(v17 - 12) + 1;
  }

  else
  {
    v18 = 1;
  }

  *(v17 - 12) = v18;
  v19 = (*(v17 - 16) + v18);
  v20 = *(v17 - 4);
  if (v20 > 0x400)
  {
    if (v20 > 2 * v19)
    {
      goto LABEL_11;
    }

    goto LABEL_22;
  }

  if (3 * v20 <= 4 * v19)
  {
LABEL_22:
    v10 = WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::expand(this + 10, v10);
  }

LABEL_11:
  v13 = v10[4];
  v14 = WTF::fastMalloc(0x20);
  *(v14 + 8) = 1;
  *v14 = &unk_1F1134A30;
  *(v14 + 16) = WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>::generateIdentifierInternal();
  *v14 = &unk_1F11348C8;
  result = WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v13 + 8), v13);
  v16 = *(v13 + 8);
  atomic_fetch_add(v16, 1u);
  *(v14 + 24) = v16;
  ++*(v13 + 104);
  *a3 = v14;
  return result;
}

void WebKit::StorageNamespaceImpl::copy(WebKit::StorageNamespaceImpl *this@<X0>, WebCore::Page *a2@<X1>, uint64_t *a3@<X8>)
{
  v5 = WebKit::WebPage::fromCorePage(a2);
  v6 = v5;
  if (v5)
  {
    CFRetain(*(v5 + 8));
  }

  v7 = WTF::fastMalloc(0x58);
  v8 = v6[229];
  if ((v8 - 1) >= 0xFFFFFFFFFFFFFFFELL)
  {
    __break(0xC471u);
  }

  else
  {
    v9 = *(this + 6);
    v10 = *(this + 14);
    v11 = *(this + 24);
    v12 = v6[6];
    *(v7 + 8) = 1;
    *(v7 + 16) = 0;
    *v7 = &unk_1F11349A0;
    *(v7 + 24) = v11;
    *(v7 + 32) = v12;
    *(v7 + 40) = 1;
    if (v9)
    {
      atomic_fetch_add(v9, 1u);
    }

    *(v7 + 48) = v9;
    *(v7 + 56) = v10;
    *(v7 + 64) = v8;
    *(v7 + 72) = 1;
    *(v7 + 80) = 0;
    *a3 = v7;
    v13 = v6[1];

    CFRelease(v13);
  }
}

WebKit::WebStorageNamespaceProvider *WebKit::WebStorageNamespaceProvider::getOrCreate@<X0>(WebKit::WebStorageNamespaceProvider **a1@<X8>)
{
  {
    if (WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider)
    {
      result = *(WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider + 8);
      if (result)
      {
        ++*(result + 2);
        goto LABEL_5;
      }
    }
  }

  else
  {
    WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider = 0;
  }

  v4 = WTF::fastMalloc(0x38);
  result = WebKit::WebStorageNamespaceProvider::WebStorageNamespaceProvider(v4);
LABEL_5:
  *a1 = result;
  return result;
}

unsigned __int8 *WebKit::WebStorageNamespaceProvider::incrementUseCount(unsigned __int8 *result)
{
  v7 = result;
  {
    if (WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider)
    {
      v1 = *(WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider + 8);
      if (v1)
      {
        v4 = 0;
        v5 = 0;
        WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>((v1 + 48), &v7, &v4, v6);
        result = v5;
        v3 = v6[0];
        if (v5)
        {
          result = WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(v5, v2);
        }

        ++*(v3 + 8);
      }
    }
  }

  else
  {
    WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider = 0;
  }

  return result;
}

uint64_t *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>@<X0>(uint64_t *result@<X0>, WTF::StringImpl *a2@<X1>, int *a3@<X2>, uint64_t a4@<X8>)
{
  v5 = *a2;
  if (*a2 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E42068CLL);
  }

  if (!v5)
  {
    __break(0xC471u);
    JUMPOUT(0x19E4206ACLL);
  }

  v8 = result;
  v9 = *result;
  if (!*result)
  {
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(result, 0);
    v9 = *v8;
    v5 = *a2;
  }

  v10 = *(v9 - 8);
  v11 = (v5 + ~(v5 << 32)) ^ ((v5 + ~(v5 << 32)) >> 22);
  v12 = 9 * ((v11 + ~(v11 << 13)) ^ ((v11 + ~(v11 << 13)) >> 8));
  v13 = (v12 ^ (v12 >> 15)) + ~((v12 ^ (v12 >> 15)) << 27);
  v14 = v10 & ((v13 >> 31) ^ v13);
  v15 = (v9 + 24 * v14);
  v16 = *v15;
  if (*v15)
  {
    v25 = 0;
    v26 = 1;
    do
    {
      if (v16 == v5)
      {
        v24 = 0;
        v23 = v9 + 24 * *(v9 - 4);
        goto LABEL_13;
      }

      if (v16 == -1)
      {
        v25 = v15;
      }

      v14 = (v14 + v26) & v10;
      v15 = (v9 + 24 * v14);
      v16 = *v15;
      ++v26;
    }

    while (*v15);
    if (v25)
    {
      *v25 = 0;
      v25[1] = 0;
      v25[2] = 0;
      --*(*v8 - 16);
      v5 = *a2;
      v15 = v25;
    }
  }

  *v15 = v5;
  v17 = *a3;
  v18 = *(a3 + 1);
  *(a3 + 1) = 0;
  *(v15 + 2) = v17;
  result = v15[2];
  v15[2] = v18;
  if (result)
  {
    result = WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  v19 = *v8;
  if (*v8)
  {
    v20 = *(v19 - 12) + 1;
  }

  else
  {
    v20 = 1;
  }

  *(v19 - 12) = v20;
  v21 = (*(v19 - 16) + v20);
  v22 = *(v19 - 4);
  if (v22 > 0x400)
  {
    if (v22 > 2 * v21)
    {
      goto LABEL_12;
    }

LABEL_16:
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(v8, v15);
    v15 = result;
    v19 = *v8;
    if (*v8)
    {
      LODWORD(v22) = *(v19 - 4);
    }

    else
    {
      LODWORD(v22) = 0;
    }

    goto LABEL_12;
  }

  if (3 * v22 <= 4 * v21)
  {
    goto LABEL_16;
  }

LABEL_12:
  v23 = v19 + 24 * v22;
  v24 = 1;
LABEL_13:
  *a4 = v15;
  *(a4 + 8) = v23;
  *(a4 + 16) = v24;
  return result;
}

uint64_t WebKit::WebStorageNamespaceProvider::decrementUseCount(uint64_t result)
{
  v5 = result;
  {
    if (WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider)
    {
      v1 = *(WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider + 8);
      if (v1)
      {
        result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((v1 + 48), &v5);
        v2 = *(result + 8) - 1;
        *(result + 8) = v2;
        if (!v2)
        {
          if (WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider && (v3 = *(WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider + 8)) != 0)
          {
            v4 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((v3 + 48), &v5);
            return WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::remove((v3 + 48), v4);
          }

          else
          {
            result = 121;
            __break(0xC471u);
          }
        }
      }
    }
  }

  else
  {
    WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider = 0;
  }

  return result;
}

WebKit::WebStorageNamespaceProvider *WebKit::WebStorageNamespaceProvider::WebStorageNamespaceProvider(WebKit::WebStorageNamespaceProvider *this)
{
  v2 = WebCore::StorageNamespaceProvider::StorageNamespaceProvider(this);
  *v2 = &unk_1F11349F0;
  *(v2 + 48) = 0;
  *(v2 + 40) = 0;
  v3 = (v2 + 40);
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((v2 + 40), this);
  v5 = *v3;
  atomic_fetch_add(*v3, 1u);
  {
    v6 = WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider;
    WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider = v5;
    if (v6 && atomic_fetch_add(v6, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v6);
      WTF::fastFree(v6, v4);
    }
  }

  else
  {
    WebKit::existingStorageNameSpaceProvider(void)::storageNameSpaceProvider = v5;
  }

  return this;
}

void WebKit::WebStorageNamespaceProvider::~WebStorageNamespaceProvider(WebKit::WebStorageNamespaceProvider *this, WTF::StringImpl *a2)
{
  v3 = *(this + 6);
  if (v3)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 5, a2);

  MEMORY[0x1EEE59210](this);
}

{
  WebKit::WebStorageNamespaceProvider::~WebStorageNamespaceProvider(this, a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::WebStorageNamespaceProvider::createTransientLocalStorageNamespace@<X0>(atomic_uint *a1@<X1>, int a2@<W2>, uint64_t *a3@<X8>)
{
  result = WTF::fastMalloc(0x58);
  *(result + 8) = 1;
  *(result + 16) = 0;
  *result = &unk_1F11349A0;
  *(result + 24) = 2;
  *(result + 32) = 0;
  *(result + 40) = 0;
  atomic_fetch_add(a1, 1u);
  *(result + 48) = a1;
  *(result + 56) = a2;
  *(result + 72) = 0;
  *(result + 80) = 0;
  *(result + 64) = 0;
  *a3 = result;
  return result;
}

void WebKit::WebStorageNamespaceProvider::sessionStorageNamespace(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, int a4@<W3>, void *a5@<X8>)
{
  v9 = WebKit::WebPage::fromCorePage(a3);
  if (!v9)
  {
    *a5 = 0;
    return;
  }

  v10 = v9;
  CFRetain(*(v9 + 8));
  if ((*(v10 + 1832) - 1) >= 0xFFFFFFFFFFFFFFFELL)
  {
    __break(0xC471u);
    goto LABEL_107;
  }

  v60 = *(v10 + 1832);
  v11 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 48), &v60);
  v13 = v11;
  v14 = *(a1 + 48);
  if (v14)
  {
    v15 = (v14 + 24 * *(v14 - 4));
  }

  else
  {
    v15 = 0;
  }

  if (v15 != v11)
  {
    goto LABEL_7;
  }

  if (!a4)
  {
    goto LABEL_52;
  }

  v34 = *(v10 + 1832);
  if ((v34 - 1) >= 0xFFFFFFFFFFFFFFFELL)
  {
    __break(0xC471u);
LABEL_107:
    JUMPOUT(0x19E420F58);
  }

  if (!v14)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 48), 0);
    v14 = *(a1 + 48);
  }

  v35 = *(v14 - 8);
  v36 = (v34 + ~(v34 << 32)) ^ ((v34 + ~(v34 << 32)) >> 22);
  v37 = 9 * ((v36 + ~(v36 << 13)) ^ ((v36 + ~(v36 << 13)) >> 8));
  v38 = (v37 ^ (v37 >> 15)) + ~((v37 ^ (v37 >> 15)) << 27);
  v39 = v35 & ((v38 >> 31) ^ v38);
  v13 = v14 + 24 * v39;
  v40 = *v13;
  if (!*v13)
  {
LABEL_48:
    *v13 = v34;
    *(v13 + 8) = 0;
    v43 = *(v13 + 16);
    *(v13 + 16) = 0;
    if (v43)
    {
      WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(v43, v12);
    }

    v44 = *(a1 + 48);
    if (v44)
    {
      v45 = *(v44 - 12) + 1;
    }

    else
    {
      v45 = 1;
    }

    *(v44 - 12) = v45;
    v55 = (*(v44 - 16) + v45);
    v56 = *(v44 - 4);
    if (v56 > 0x400)
    {
      if (v56 > 2 * v55)
      {
        goto LABEL_7;
      }
    }

    else if (3 * v56 > 4 * v55)
    {
      goto LABEL_7;
    }

    v13 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((a1 + 48), v13);
    goto LABEL_7;
  }

  v41 = 0;
  v42 = 1;
  while (v40 != v34)
  {
    if (v40 == -1)
    {
      v41 = v13;
    }

    v39 = (v39 + v42) & v35;
    v13 = v14 + 24 * v39;
    v40 = *v13;
    ++v42;
    if (!*v13)
    {
      if (v41)
      {
        *v41 = 0;
        v41[1] = 0;
        v41[2] = 0;
        --*(*(a1 + 48) - 16);
        v13 = v41;
      }

      goto LABEL_48;
    }
  }

  *(v13 + 8) = 0;
  v54 = *(v13 + 16);
  *(v13 + 16) = 0;
  if (v54)
  {
    WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(v54, v12);
  }

LABEL_7:
  v17 = *(v13 + 16);
  v16 = (v13 + 16);
  if (!v17)
  {
    goto LABEL_17;
  }

  isNull = WebCore::SecurityOriginData::isNull((a2 + 8));
  if (isNull)
  {
    __break(0xC471u);
    JUMPOUT(0x19E420F78);
  }

  if (*(a2 + 32))
  {
    if (*(a2 + 32) != 1)
    {
      goto LABEL_60;
    }
  }

  else if (*(a2 + 8) == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E420F98);
  }

  v19 = *v16;
  if (!*v16)
  {
    goto LABEL_17;
  }

  v58 = v10;
  v20 = a5;
  v21 = *(v19 - 8);
  LODWORD(v60) = -1640531527;
  WORD2(v60) = 0;
  BYTE6(v60) = 0;
  WTF::add<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(&v60, a2 + 8);
  v22 = WTF::SuperFastHash::hash(&v60) & v21;
  v23 = v19 + 40 * v22;
  isNull = WebCore::SecurityOriginData::isNull(v23);
  if (isNull)
  {
LABEL_13:
    v24 = *v16;
    a5 = v20;
    v10 = v58;
    if (*v16)
    {
      v23 = v24 + 40 * *(v24 - 4);
      goto LABEL_15;
    }

    goto LABEL_17;
  }

  v47 = 1;
  while (!*(v23 + 24))
  {
    if (*v23 != -1)
    {
      goto LABEL_56;
    }

LABEL_57:
    v22 = (v22 + v47) & v21;
    v23 = v19 + 40 * v22;
    isNull = WebCore::SecurityOriginData::isNull(v23);
    ++v47;
    if (isNull)
    {
      goto LABEL_13;
    }
  }

  if (*(v23 + 24) != 1)
  {
    goto LABEL_60;
  }

LABEL_56:
  if ((WebCore::operator==() & 1) == 0)
  {
    goto LABEL_57;
  }

  v24 = *v16;
  if (*v16)
  {
    a5 = v20;
    v10 = v58;
LABEL_15:
    v24 += 40 * *(v24 - 4);
  }

  else
  {
    a5 = v20;
    v10 = v58;
  }

  if (v24 != v23)
  {
    goto LABEL_75;
  }

LABEL_17:
  if (!a4)
  {
LABEL_52:
    v46 = 0;
    goto LABEL_77;
  }

  v25 = *(v10 + 1832);
  if ((v25 - 1) >= 0xFFFFFFFFFFFFFFFELL)
  {
    __break(0xC471u);
    JUMPOUT(0x19E420FB8);
  }

  v26 = *(v10 + 48);
  v27 = *(a1 + 32);
  v28 = WTF::fastMalloc(0x58);
  *(v28 + 8) = 1;
  *(v28 + 16) = 0;
  *v28 = &unk_1F11349A0;
  *(v28 + 24) = 0;
  *(v28 + 32) = v26;
  *(v28 + 40) = 1;
  atomic_fetch_add(a2, 1u);
  *(v28 + 48) = a2;
  *(v28 + 56) = v27;
  *(v28 + 64) = v25;
  *(v28 + 72) = 1;
  *(v28 + 80) = 0;
  isNull = WebCore::SecurityOriginData::isNull((a2 + 8));
  if (isNull)
  {
    __break(0xC471u);
    JUMPOUT(0x19E420FD8);
  }

  if (*(a2 + 32))
  {
    if (*(a2 + 32) == 1)
    {
      goto LABEL_22;
    }

LABEL_60:
    mpark::throw_bad_variant_access(isNull);
  }

  if (*(a2 + 8) == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E420FF8);
  }

LABEL_22:
  v29 = *v16;
  v59 = v10;
  if (*v16 || (WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::expand(v16, 0), (v29 = *v16) != 0))
  {
    v30 = *(v29 - 8);
  }

  else
  {
    v30 = 0;
  }

  v57 = a5;
  LODWORD(v60) = -1640531527;
  WORD2(v60) = 0;
  BYTE6(v60) = 0;
  WTF::add<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(&v60, a2 + 8);
  v31 = WTF::SuperFastHash::hash(&v60) & v30;
  v23 = v29 + 40 * v31;
  isNull = WebCore::SecurityOriginData::isNull(v23);
  if (isNull)
  {
    goto LABEL_63;
  }

  v32 = 0;
  v33 = 1;
  while (2)
  {
    if (*(v23 + 24))
    {
      if (*(v23 + 24) != 1)
      {
        goto LABEL_60;
      }

      goto LABEL_29;
    }

    if (*v23 == -1)
    {
      v32 = v23;
    }

    else
    {
LABEL_29:
      if (WebCore::operator==())
      {
        v53 = *(v23 + 32);
        *(v23 + 32) = v28;
        if (v53)
        {
          a5 = v57;
          v10 = v59;
          if (v53[2] == 1)
          {
            (*(*v53 + 8))(v53);
          }

          else
          {
            --v53[2];
          }
        }

        else
        {
          a5 = v57;
          v10 = v59;
        }

        goto LABEL_75;
      }
    }

    v31 = (v31 + v33) & v30;
    v23 = v29 + 40 * v31;
    isNull = WebCore::SecurityOriginData::isNull(v23);
    ++v33;
    if (!isNull)
    {
      continue;
    }

    break;
  }

  if (v32)
  {
    *(v32 + 32) = 0;
    *v32 = 0u;
    *(v32 + 16) = 0u;
    --*(*v16 - 16);
    v23 = v32;
  }

LABEL_63:
  mpark::detail::assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>>::generic_assign<mpark::detail::copy_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1> const&>(v23, (a2 + 8));
  v48 = *(v23 + 32);
  *(v23 + 32) = v28;
  a5 = v57;
  v10 = v59;
  if (v48)
  {
    if (v48[2] == 1)
    {
      (*(*v48 + 8))(v48);
    }

    else
    {
      --v48[2];
    }
  }

  v49 = *v16;
  if (*v16)
  {
    v50 = *(v49 - 12) + 1;
  }

  else
  {
    v50 = 1;
  }

  *(v49 - 12) = v50;
  v51 = (*(v49 - 16) + v50);
  v52 = *(v49 - 4);
  if (v52 > 0x400)
  {
    if (v52 <= 2 * v51)
    {
LABEL_71:
      v23 = WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::expand(v16, v23);
    }
  }

  else if (3 * v52 <= 4 * v51)
  {
    goto LABEL_71;
  }

LABEL_75:
  v46 = *(v23 + 32);
  if (v46)
  {
    ++*(v46 + 8);
  }

LABEL_77:
  *a5 = v46;
  CFRelease(*(v10 + 8));
}

uint64_t WebKit::StorageNamespaceImpl::storageAreaMapCountForTesting(WebKit::StorageNamespaceImpl *this)
{
  v1 = *(this + 10);
  if (v1)
  {
    return *(v1 - 12);
  }

  else
  {
    return 0;
  }
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      if (*(v4 - 1) != -1)
      {
        v5 = *v4;
        *v4 = 0;
        if (v5)
        {
          WTF::fastFree(v5, a2);
        }
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t std::default_delete<WebCore::StorageMap>::operator()[abi:sn200100](bmalloc::api *this, void *a2)
{
  v3 = *this;
  *this = 0;
  if (v3)
  {
    WTF::RefCounted<WebCore::StorageMap::Impl>::deref(v3, a2);
  }

  return bmalloc::api::tzoneFree(this, a2);
}

uint64_t WebCore::StorageMap::operator new(WebCore::StorageMap *this, void *a2)
{
  if (*MEMORY[0x1E69E24B8])
  {
    return bmalloc::api::tzoneAllocateNonCompact(*MEMORY[0x1E69E24B8], a2);
  }

  else
  {
    return MEMORY[0x1EEE54068](16);
  }
}

uint64_t mpark::detail::move_constructor<mpark::detail::traits<IPC::ConnectionSendSyncResult<Messages::NetworkStorageManager::ConnectToStorageAreaSync>::ReplyData,IPC::Error>,(mpark::detail::Trait)1>::~move_constructor(uint64_t a1, WTF::StringImpl *a2)
{
  if (!*(a1 + 40))
  {
    v3 = *(a1 + 24);
    if (v3)
    {
      WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v3, a2);
    }

    std::unique_ptr<IPC::Decoder>::reset[abi:sn200100](a1, 0);
  }

  *(a1 + 40) = -1;
  return a1;
}

uint64_t WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>::~KeyValuePair(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 + 32);
  *(a1 + 32) = 0;
  if (v3)
  {
    WTF::RefCounted<WebKit::StorageAreaMap>::deref((v3 + 16));
  }

  if (!*(a1 + 24))
  {
    v4 = *(a1 + 8);
    *(a1 + 8) = 0;
    if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v4, a2);
    }

    v5 = *a1;
    *a1 = 0;
    if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v5, a2);
    }
  }

  *(a1 + 24) = -1;
  return a1;
}

uint64_t WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(unsigned __int8 *a1, WTF::StringImpl *a2)
{
  v2 = a1;
  v3 = *(a1 - 1);
  if (v3)
  {
    v4 = a1 + 24;
    while (1)
    {
      v5 = *v4;
      if (*v4)
      {
        break;
      }

      if (*(v4 - 3) != -1)
      {
        goto LABEL_5;
      }

LABEL_16:
      v4 += 40;
      if (!--v3)
      {
        goto LABEL_22;
      }
    }

    if (v5 != 1)
    {
      mpark::throw_bad_variant_access(a1);
    }

LABEL_5:
    a1 = *(v4 + 1);
    *(v4 + 1) = 0;
    if (a1)
    {
      if (*(a1 + 2) == 1)
      {
        a1 = (*(*a1 + 8))(a1);
        if (!*v4)
        {
LABEL_9:
          v6 = *(v4 - 2);
          *(v4 - 2) = 0;
          if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v6, a2);
          }

          a1 = *(v4 - 3);
          *(v4 - 3) = 0;
          if (a1 && atomic_fetch_add_explicit(a1, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            a1 = WTF::StringImpl::destroy(a1, a2);
          }
        }

LABEL_15:
        *v4 = -1;
        goto LABEL_16;
      }

      --*(a1 + 2);
    }

    if (!v5)
    {
      goto LABEL_9;
    }

    goto LABEL_15;
  }

LABEL_22:

  return WTF::fastFree((v2 - 16), a2);
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 16);
    do
    {
      if (*(v4 - 2) != -1 && *v4)
      {
        WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(*v4, a2);
      }

      v4 += 3;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t *a2)
{
  WTF::checkHashTableKey<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*a2);
  v4 = *a1;
  if (v4)
  {
    v5 = *(v4 - 8);
    v6 = WTF::ObjectIdentifierGenericBaseHash<unsigned long long>::hash(a2) & v5;
    v7 = *(v4 + 16 * v6);
    if (v7 == *a2)
    {
      return v4 + 16 * v6;
    }

    v9 = 1;
    while (v7)
    {
      v6 = (v6 + v9) & v5;
      v7 = *(v4 + 16 * v6);
      ++v9;
      if (v7 == *a2)
      {
        return v4 + 16 * v6;
      }
    }
  }

  return 0;
}

uint64_t WTF::checkHashTableKey<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t result)
{
  if (result == -1 || !result)
  {
    __break(0xC471u);
    JUMPOUT(0x19E4214ACLL);
  }

  return result;
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1)
{
  v2 = *a1;
  if (!*a1)
  {
    v3 = 0;
    v4 = 0;
LABEL_3:
    v5 = 8;
    goto LABEL_4;
  }

  v3 = *(v2 - 4);
  v4 = *(v2 - 12);
  if (!v3)
  {
    goto LABEL_3;
  }

  v5 = v3 << (6 * v4 >= 2 * v3);
LABEL_4:
  result = WTF::fastZeroedMalloc((16 * v5 + 16));
  *a1 = (result + 4);
  result[2] = v5 - 1;
  result[3] = v5;
  *result = 0;
  result[1] = v4;
  if (v3)
  {
    v8 = v3;
    v9 = v2;
    while (1)
    {
      if (*v9 != -1)
      {
        if (*v9)
        {
          WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::reinsert(*a1, v9);
          v10 = v9[1];
          v9[1] = 0;
          if (v10)
          {
LABEL_15:
            WTF::fastFree(v10, v7);
          }
        }

        else
        {
          v10 = v9[1];
          v9[1] = 0;
          if (v10)
          {
            goto LABEL_15;
          }
        }
      }

      v9 += 2;
      if (!--v8)
      {
        goto LABEL_17;
      }
    }
  }

  if (v2)
  {
LABEL_17:

    return WTF::fastFree((v2 - 16), v7);
  }

  return result;
}

void *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::reinsert(uint64_t a1, void *a2)
{
  if (a1)
  {
    v3 = *(a1 - 8);
  }

  else
  {
    v3 = 0;
  }

  v4 = *a2 + ~(*a2 << 32);
  v5 = (v4 ^ (v4 >> 22)) + ~((v4 ^ (v4 >> 22)) << 13);
  v6 = (9 * (v5 ^ (v5 >> 8))) ^ ((9 * (v5 ^ (v5 >> 8))) >> 15);
  v7 = v3 & (((v6 + ~(v6 << 27)) >> 31) ^ (v6 + ~(v6 << 27)));
  v8 = 1;
  do
  {
    v9 = v7;
    v10 = *(a1 + 16 * v7);
    v7 = (v7 + v8++) & v3;
  }

  while (v10);
  v11 = (a1 + 16 * v9);
  v12 = v11[1];
  v11[1] = 0;
  if (v12)
  {
    WTF::fastFree(v12, a2);
  }

  *v11 = *a2;
  v13 = a2[1];
  a2[1] = 0;
  v11[1] = v13;
  return v11;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::ViewUpdateDispatcher::visibleContentRectUpdate(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::VisibleContentRectUpdateInfo const&)::$_0,void>::~CallableWrapper(uint64_t result)
{
  *result = &unk_1F1134AC0;
  v1 = *(result + 16);
  *(result + 16) = 0;
  if (v1)
  {
    if (!*(v1 + 16))
    {
      result = 120;
      __break(0xC471u);
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::ViewUpdateDispatcher::visibleContentRectUpdate(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::VisibleContentRectUpdateInfo const&)::$_0,void>::~CallableWrapper(WTF *a1, void *a2)
{
  *a1 = &unk_1F1134AC0;
  v2 = *(a1 + 2);
  *(a1 + 2) = 0;
  if (!v2 || *(v2 + 16))
  {
    return WTF::fastFree(a1, a2);
  }

  result = 120;
  __break(0xC471u);
  return result;
}

void WTF::Detail::CallableWrapper<WebKit::ViewUpdateDispatcher::visibleContentRectUpdate(WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::VisibleContentRectUpdateInfo const&)::$_0,void>::call(uint64_t a1, void *a2)
{
  v2 = 0;
  v3 = *(a1 + 8);
  v4 = 1;
  atomic_compare_exchange_strong_explicit((v3 + 32), &v2, 1u, memory_order_acquire, memory_order_acquire);
  if (v2)
  {
    MEMORY[0x19EB01E30](v3 + 32);
  }

  v5 = *(v3 + 40);
  *(v3 + 40) = 0;
  atomic_compare_exchange_strong_explicit((v3 + 32), &v4, 0, memory_order_release, memory_order_relaxed);
  if (v4 != 1)
  {
    WTF::Lock::unlockSlow((v3 + 32));
  }

  if (!v5)
  {
    v7 = 0;
    v6 = 0;
    goto LABEL_27;
  }

  v6 = *(v5 - 4);
  v7 = (v5 + 16 * v6);
  if (!*(v5 - 12))
  {
LABEL_27:
    v9 = v7;
    v7 = (v5 + 16 * v6);
    goto LABEL_12;
  }

  if (!v6)
  {
    v14 = 0;
    v9 = v5;
    goto LABEL_25;
  }

  v8 = 16 * v6;
  v9 = v5;
  while ((*v9 + 1) <= 1)
  {
    v9 += 2;
    v8 -= 16;
    if (!v8)
    {
      v9 = v7;
      break;
    }
  }

LABEL_12:
  if (!v5)
  {
    v10 = 0;
    goto LABEL_14;
  }

  v14 = *(v5 - 4);
LABEL_25:
  v10 = (v5 + 16 * v14);
LABEL_14:
  while (v9 != v10)
  {
    {
      v11 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v15 = WebKit::WebProcess::operator new(0x370, a2);
      v11 = WebKit::WebProcess::WebProcess(v15);
      WebKit::WebProcess::singleton(void)::process = v11;
    }

    v16 = *v9;
    v12 = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::get<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::RefPtr<WebKit::WebPage,WTF::RawPtrTraits<WebKit::WebPage>,WTF::DefaultRefDerefTraits<WebKit::WebPage>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v11 + 17, &v16);
    if (v12)
    {
      v13 = v12;
      CFRetain(*(v12 + 8));
      WebKit::WebPage::updateVisibleContentRects(v13, v9[1], *(v9[1] + 184));
      CFRelease(*(v13 + 8));
    }

    do
    {
      v9 += 2;
    }

    while (v9 != v7 && (*v9 + 1) <= 1);
  }

  if (v5)
  {

    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::UniqueRef<WebKit::ViewUpdateDispatcher::UpdateData>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::PageIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v5, a2);
  }
}

uint64_t WebCore::TileController::operator new(WebCore::TileController *this, void *a2)
{
  if (this == 376 && *MEMORY[0x1E69E2548])
  {
    return bmalloc::api::tzoneAllocateNonCompact(*MEMORY[0x1E69E2548], a2);
  }

  else
  {
    return MEMORY[0x1EEE55B68]();
  }
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::SetItem,WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0>(WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1134AE8;
  v3 = a1[3];
  a1[3] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::SetItem,WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0>(WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1134AE8;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl **WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::SetItem,WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0>(WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3 && (IPC::Decoder::decode<std::tuple<BOOL,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>(v8, a3), v10 == 1))
  {
    v5 = *(a1 + 8);
    if (!v5 || (v6 = *(v5 + 8)) == 0 || (result = WebKit::StorageAreaMap::didSetItem(v6, *(a1 + 16), (a1 + 24), v8[0], &v9), (v10 & 1) != 0))
    {
      result = v9;
      if (v9)
      {
        return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v9, v4);
      }
    }
  }

  else
  {

    return IPC::Connection::cancelReply<Messages::NetworkStorageManager::SetItem,WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0>((a1 + 8));
  }

  return result;
}

WTF::StringImpl **IPC::Connection::cancelReply<Messages::NetworkStorageManager::SetItem,WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0>(WTF::StringImpl **result)
{
  v2 = 0;
  if (*result && *(*result + 1))
  {
    WebKit::StorageAreaMap::didSetItem(*(*result + 1), result[1], result + 2, 0, &v2);
    result = v2;
    if (v2)
    {
      return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v2, v1);
    }
  }

  return result;
}

uint64_t IPC::Decoder::decode<std::tuple<BOOL,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>(uint64_t a1, IPC::Decoder *a2)
{
  v4 = *(a2 + 2);
  v5 = *a2;
  v6 = *(a2 + 1);
  if (v6 <= &v4[-v5])
  {
    *a2 = 0;
    *(a2 + 1) = 0;
    v9 = *(a2 + 3);
    if (v9)
    {
      if (v6)
      {
        (*(*v9 + 16))(v9);
        v5 = *a2;
        v6 = *(a2 + 1);
        goto LABEL_9;
      }
    }

    else
    {
      v6 = 0;
    }

    v5 = 0;
LABEL_9:
    *a2 = 0;
    *(a2 + 1) = 0;
    v10 = *(a2 + 3);
    if (v10)
    {
      if (v6)
      {
        (*(*v10 + 16))(v10, v5);
        v5 = *a2;
        v6 = *(a2 + 1);
        goto LABEL_12;
      }
    }

    else
    {
      v6 = 0;
    }

    v5 = 0;
LABEL_12:
    *a2 = 0;
    *(a2 + 1) = 0;
    v11 = *(a2 + 3);
    if (v11 && v6)
    {
      (*(*v11 + 16))(v11, v5);
    }

    goto LABEL_13;
  }

  *(a2 + 2) = v4 + 1;
  if (!v4)
  {
    goto LABEL_9;
  }

  v7 = *v4;
  if (v7 >= 2)
  {
    goto LABEL_12;
  }

  result = IPC::Decoder::decode<WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>(a2, &v14);
  if (v15 == 1)
  {
    *a1 = v7;
    *(a1 + 8) = v14;
    *(a1 + 16) = 1;
    return result;
  }

LABEL_13:
  *a1 = 0;
  *(a1 + 16) = 0;
  v12 = *(a2 + 1);
  *a2 = 0;
  *(a2 + 1) = 0;
  result = *(a2 + 3);
  if (result && v12)
  {
    v13 = *(*result + 16);

    return v13();
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::RemoveItem,WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0>(WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1, WTF::StringImpl *a2)
{
  *a1 = &unk_1F1134B10;
  v3 = a1[3];
  a1[3] = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::RemoveItem,WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0>(WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1134B10;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl **WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::RemoveItem,WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0>(WebKit::StorageAreaMap::removeItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3 && (IPC::Decoder::decode<std::tuple<BOOL,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>>(v8, a3), v10 == 1))
  {
    v5 = *(a1 + 8);
    if (!v5 || (v6 = *(v5 + 8)) == 0 || (result = WebKit::StorageAreaMap::didSetItem(v6, *(a1 + 16), (a1 + 24), v8[0], &v9), (v10 & 1) != 0))
    {
      result = v9;
      if (v9)
      {
        return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v9, v4);
      }
    }
  }

  else
  {

    return IPC::Connection::cancelReply<Messages::NetworkStorageManager::SetItem,WebKit::StorageAreaMap::setItem(WebCore::LocalFrame &,WebKit::StorageAreaImpl *,WTF::String const&,WTF::String const&,BOOL &)::$_0>((a1 + 8));
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Clear,WebKit::StorageAreaMap::clear(WebCore::LocalFrame &,WebKit::StorageAreaImpl *)::$_0>(WebKit::StorageAreaMap::clear(WebCore::LocalFrame &,WebKit::StorageAreaImpl *)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1134B38;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Clear,WebKit::StorageAreaMap::clear(WebCore::LocalFrame &,WebKit::StorageAreaImpl *)::$_0>(WebKit::StorageAreaMap::clear(WebCore::LocalFrame &,WebKit::StorageAreaImpl *)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134B38;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::Clear,WebKit::StorageAreaMap::clear(WebCore::LocalFrame &,WebKit::StorageAreaImpl *)::$_0>(WebKit::StorageAreaMap::clear(WebCore::LocalFrame &,WebKit::StorageAreaImpl *)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::call(uint64_t result)
{
  v1 = *(result + 8);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      if (*(v2 + 88) == *(result + 16))
      {
        *(v2 + 112) = 0;
      }
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::StorageAreaMap::dispatchSessionStorageEvent(std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaImplIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>> const&,WTF::String const&,WTF::String const&,WTF::String const&,WTF::String const&)::$_0,BOOL,WebCore::Storage &>::call(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if ((*(*v3 + 80))(v3))
  {
    if (v3[2] == *(a1 + 8))
    {
      return *(a1 + 16);
    }

    else
    {
      return 0;
    }
  }

  else
  {
    result = 96;
    __break(0xC471u);
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::StorageAreaMap::dispatchLocalStorageEvent(std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaImplIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>> const&,WTF::String const&,WTF::String const&,WTF::String const&,WTF::String const&)::$_0,BOOL,WebCore::Storage &>::call(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if ((*(*v3 + 80))(v3))
  {
    if (v3[2] == *(a1 + 8))
    {
      return *(a1 + 16);
    }

    else
    {
      return 0;
    }
  }

  else
  {
    result = 96;
    __break(0xC471u);
  }

  return result;
}

uint64_t IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>> const&>(IPC::Encoder *a1, uint64_t a2)
{
  if (*(a2 + 8))
  {
    v6 = 1;
    IPC::Encoder::operator<<<BOOL>(a1, &v6);
    if (*(a2 + 8))
    {
      return IPC::ArgumentCoder<WebKit::CallbackID,void>::encode(a1, a2);
    }

    else
    {
      v5 = std::__throw_bad_optional_access[abi:sn200100]();
      return IPC::Decoder::decode<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>>(v5);
    }
  }

  else
  {
    v7 = 0;
    return IPC::Encoder::operator<<<BOOL>(a1, &v7);
  }
}

WTF::StringImpl **IPC::Decoder::decode<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>>(_BYTE *a1, IPC::Decoder *a2)
{
  result = IPC::ArgumentCoder<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>,void>::decode<IPC::Decoder>(a1, a2);
  if ((a1[32] & 1) == 0)
  {

    return IPC::Decoder::markInvalid(a2);
  }

  return result;
}

WTF::StringImpl **IPC::ArgumentCoder<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>,void>::decode<IPC::Decoder>(_BYTE *a1, IPC::Decoder *a2)
{
  result = IPC::Decoder::decode<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(v5, a2);
  if (v5[16])
  {
    return IPC::ArgumentCoder<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>,void>::decode<IPC::Decoder,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(a1, a2, v5);
  }

  *a1 = 0;
  a1[32] = 0;
  return result;
}

uint64_t IPC::Decoder::decode<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(_BYTE *a1, IPC::Decoder *a2)
{
  result = IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,void>::decode<IPC::Decoder>(a1, a2);
  if ((a1[16] & 1) == 0)
  {

    return IPC::Decoder::markInvalid(a2);
  }

  return result;
}

WTF::StringImpl **IPC::ArgumentCoder<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>,void>::decode<IPC::Decoder,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(uint64_t a1, IPC::Decoder *a2, uint64_t a3)
{
  result = IPC::Decoder::decode<WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>>(a2, &v9);
  if (v10 == 1)
  {
    result = IPC::Decoder::decode<unsigned long long>(a2);
    if (v7)
    {
      if (*(a3 + 16) & 1) != 0 && (v10)
      {
        *a1 = *a3;
        *(a1 + 16) = v9;
        *(a1 + 24) = result;
        *(a1 + 32) = 1;
      }

      else
      {
        __break(1u);
      }
    }

    else
    {
      *a1 = 0;
      v8 = v10;
      *(a1 + 32) = 0;
      if (v8)
      {
        result = v9;
        if (v9)
        {
          return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v9, v7);
        }
      }
    }
  }

  else
  {
    *a1 = 0;
    *(a1 + 32) = 0;
  }

  return result;
}

uint64_t IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,void>::decode<IPC::Decoder>(_BYTE *a1, IPC::Decoder *a2)
{
  result = IPC::Decoder::decode<BOOL>(a2);
  if ((result & 0x100) == 0)
  {
    goto LABEL_6;
  }

  if ((result & 1) == 0)
  {
    *a1 = 0;
    a1[8] = 0;
    v6 = 1;
    goto LABEL_5;
  }

  result = IPC::Decoder::decode<WTF::ObjectIdentifierGeneric<WebKit::ContentWorldIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(a2);
  if (v5)
  {
    *a1 = result;
    v6 = 1;
    a1[8] = 1;
  }

  else
  {
LABEL_6:
    v6 = 0;
    *a1 = 0;
  }

LABEL_5:
  a1[16] = v6;
  return result;
}

uint64_t IPC::Connection::makeAsyncReplyHandler<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(void *a1, uint64_t *a2)
{
  v3 = *a2;
  *a2 = 0;
  v4 = WTF::fastMalloc(0x10);
  *v4 = &unk_1F1134BB0;
  v4[1] = v3;
  *a1 = v4;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    result = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    a1[1] = result;
  }

  return result;
}

mpark *Messages::NetworkStorageManager::ConnectToStorageArea::encode<IPC::Encoder>(uint64_t a1, IPC::Encoder *a2)
{
  IPC::ArgumentCoder<BOOL,void>::encode<IPC::Encoder>(a2, **a1);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(a2, **(a1 + 8));
  IPC::ArgumentCoder<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,void>::encode<IPC::Encoder,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>> const&>(a2, *(a1 + 16));
  v4 = *(a1 + 24);

  return IPC::ArgumentCoder<WebCore::ClientOrigin,void>::encode(a2, v4);
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(void *a1, void *a2)
{
  v3 = a1[1];
  *a1 = &unk_1F1134BB0;
  a1[1] = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1},void,IPC::Connection*,IPC::Decoder *>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1134BB0;
  *(this + 1) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl **IPC::Connection::makeAsyncReplyCompletionHandler<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0 &&,WTF::ThreadLikeAssertion)::{lambda(IPC::Connection*,IPC::Decoder *)#1}::operator()(_DWORD **a1, IPC::Decoder *a2)
{
  if (a2 && *a2)
  {
    return IPC::Connection::callReply<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(a2, a1);
  }

  else
  {
    return IPC::Connection::cancelReply<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(a1);
  }
}

WTF::StringImpl **IPC::Connection::callReply<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(IPC::Decoder *a1, _DWORD **a2)
{
  IPC::Decoder::decode<std::tuple<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>>(&v5, a1);
  if (v8 == 1)
  {
    result = std::__invoke[abi:sn200100]<WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>(a2, v5, v6, v7, v7[1]);
    if (v8)
    {
      result = v7[0];
      if (v7[0])
      {
        return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v7[0], v4);
      }
    }
  }

  else
  {

    return IPC::Connection::cancelReply<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(a2);
  }

  return result;
}

WTF::StringImpl **IPC::Connection::cancelReply<Messages::NetworkStorageManager::ConnectToStorageArea,WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0>(_DWORD **a1)
{
  v3[0] = 0;
  v3[1] = 0;
  std::__invoke[abi:sn200100]<WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>(a1, 0, 0, v3, 0);
  result = v3[0];
  if (v3[0])
  {

    return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(result, v1);
  }

  return result;
}

WTF::StringImpl **std::__invoke[abi:sn200100]<WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0,std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>(_DWORD **a1, void *a2, char a3, WTF::StringImpl ***a4, unint64_t a5)
{
  v5 = *a4;
  *a4 = 0;
  v8 = v5;
  WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0::operator()<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>(*a1, a2, a3, &v8, a5);
  result = v8;
  if (v8)
  {
    return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::String>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v8, v6);
  }

  return result;
}

_DWORD *WebKit::StorageAreaMap::sendConnectMessage(WebKit::StorageAreaMap::SendMode)::$_0::operator()<std::optional<WTF::ObjectIdentifierGeneric<WebKit::StorageAreaIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::String,WTF::String,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,unsigned long long>(_DWORD *result, void *a2, char a3, uint64_t a4, unint64_t a5)
{
  if (result)
  {
    result = *(result + 1);
    if (result)
    {
      v5 = result + 4;
      ++result[4];
      WebKit::StorageAreaMap::didConnect(result, a2, a3, a4, a5);

      return WTF::RefCounted<WebKit::StorageAreaMap>::deref(v5);
    }
  }

  return result;
}

_BYTE *WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, WebCore::SecurityOriginData *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastMalloc((40 * a2 + 16));
  v11 = v9;
  v12 = v9 + 16;
  if (a2)
  {
    bzero((v9 + 16), 40 * a2);
  }

  *a1 = v12;
  v11[2] = a2 - 1;
  v11[3] = a2;
  *v11 = 0;
  v11[1] = v8;
  v13 = 0;
  if (v7)
  {
    v15 = v7;
    v16 = v6;
    while (!*(v16 + 24))
    {
      if (*v16 != -1)
      {
        goto LABEL_11;
      }

LABEL_15:
      v16 = (v16 + 40);
      if (!--v15)
      {
        goto LABEL_16;
      }
    }

    if (*(v16 + 24) != 1)
    {
      mpark::throw_bad_variant_access(v9);
    }

LABEL_11:
    if (WebCore::SecurityOriginData::isNull(v16))
    {
      v9 = WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>::~KeyValuePair(v16, v17);
    }

    else
    {
      v18 = WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::reinsert(*a1, v16);
      v9 = WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>::~KeyValuePair(v16, v19);
      if (v16 == a3)
      {
        v13 = v18;
      }
    }

    goto LABEL_15;
  }

  result = 0;
  if (v6)
  {
LABEL_16:
    WTF::fastFree((v6 - 16), v10);
    return v13;
  }

  return result;
}

_BYTE *WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::reinsert(uint64_t a1, uint64_t a2)
{
  if (a1)
  {
    v4 = *(a1 - 8);
  }

  else
  {
    v4 = 0;
  }

  v16 = -1640531527;
  v17 = 0;
  v18 = 0;
  WTF::add<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(&v16, a2);
  v5 = WTF::SuperFastHash::hash(&v16);
  v6 = 0;
  do
  {
    v7 = v5 & v4;
    v8 = a1 + 40 * (v5 & v4);
    isNull = WebCore::SecurityOriginData::isNull(v8);
    v5 = ++v6 + v7;
  }

  while (!isNull);
  v11 = *(v8 + 32);
  *(v8 + 32) = 0;
  if (v11)
  {
    WTF::RefCounted<WebKit::StorageAreaMap>::deref((v11 + 16));
  }

  if (!*(v8 + 24))
  {
    v12 = *(v8 + 8);
    *(v8 + 8) = 0;
    if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v12, v9);
    }

    v13 = *v8;
    *v8 = 0;
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v9);
    }
  }

  *(v8 + 24) = -1;
  result = mpark::detail::move_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1>::move_assignment((a1 + 40 * v7));
  v15 = *(a2 + 32);
  *(a2 + 32) = 0;
  *(v8 + 32) = v15;
  return result;
}

_BYTE *WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::expand(uint64_t *a1, WebCore::SecurityOriginData *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

_DWORD *WTF::HashMapEnsureTranslator<WTF::HashMap<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WebCore::SecurityOriginData>>::translate<WebCore::SecurityOriginData const&,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::Ref<WebKit::StorageAreaMap,WTF::RawPtrTraits<WebKit::StorageAreaMap>,WTF::DefaultRefDerefTraits<WebKit::StorageAreaMap>>>,WebKit::StorageNamespaceImpl::storageArea(WebCore::SecurityOrigin const&)::$_0>(uint64_t a1, __n128 *a2, uint64_t a3)
{
  mpark::detail::assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>>::generic_assign<mpark::detail::copy_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1> const&>(a1, a2);
  result = WebKit::StorageNamespaceImpl::storageArea(WebCore::SecurityOrigin const&)::$_0::operator()(&v7, *a3, *(a3 + 8));
  v6 = *(a1 + 32);
  *(a1 + 32) = v7;
  if (v6)
  {

    return WTF::RefCounted<WebKit::StorageAreaMap>::deref((v6 + 16));
  }

  return result;
}

uint64_t WebKit::StorageNamespaceImpl::storageArea(WebCore::SecurityOrigin const&)::$_0::operator()(uint64_t *a1, void *a2, atomic_uint *a3)
{
  atomic_fetch_add(a3, 1u);
  v8 = a3;
  v5 = WebKit::StorageAreaMap::operator new(0x78, a2);
  *a1 = WebKit::StorageAreaMap::StorageAreaMap(v5, a2, &v8);
  result = v8;
  if (v8)
  {

    return WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(result, v6);
  }

  return result;
}

uint64_t WebKit::StorageAreaMap::operator new(WebKit::StorageAreaMap *this, void *a2)
{
  if (WebKit::StorageAreaMap::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(WebKit::StorageAreaMap::s_heapRef, a2);
  }

  else
  {
    return WebKit::StorageAreaMap::operatorNewSlow(0x78);
  }
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1, WTF::StringImpl *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, WTF::StringImpl *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastMalloc((24 * a2 + 16));
  v11 = v9;
  v12 = v9 + 16;
  if (a2)
  {
    bzero((v9 + 16), 24 * a2);
  }

  *a1 = v12;
  v11[2] = a2 - 1;
  v11[3] = a2;
  *v11 = 0;
  v11[1] = v8;
  v13 = 0;
  if (v7)
  {
    v15 = v7;
    v16 = v6;
    do
    {
      if (*v16 != -1)
      {
        if (*v16)
        {
          v18 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::reinsert(*a1, v16);
          v19 = *(v16 + 2);
          if (v19)
          {
            WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(v19, v10);
          }

          if (v16 == a3)
          {
            v13 = v18;
          }
        }

        else
        {
          v17 = *(v16 + 2);
          if (v17)
          {
            WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(v17, v10);
          }
        }
      }

      v16 = (v16 + 24);
      --v15;
    }

    while (v15);
    goto LABEL_19;
  }

  result = 0;
  if (v6)
  {
LABEL_19:
    WTF::fastFree((v6 - 16), v10);
    return v13;
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::reinsert(uint64_t a1, WTF::StringImpl *a2)
{
  if (a1)
  {
    v3 = *(a1 - 8);
  }

  else
  {
    v3 = 0;
  }

  v4 = *a2;
  v5 = *a2 + ~(*a2 << 32);
  v6 = (v5 ^ (v5 >> 22)) + ~((v5 ^ (v5 >> 22)) << 13);
  v7 = (9 * (v6 ^ (v6 >> 8))) ^ ((9 * (v6 ^ (v6 >> 8))) >> 15);
  v8 = v3 & (((v7 + ~(v7 << 27)) >> 31) ^ (v7 + ~(v7 << 27)));
  v9 = 1;
  do
  {
    v10 = a1 + 24 * v8;
    v8 = (v8 + v9++) & v3;
  }

  while (*v10);
  v11 = *(v10 + 16);
  if (v11)
  {
    WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(v11, a2);
    v4 = *a2;
  }

  *v10 = v4;
  *(v10 + 8) = *(a2 + 2);
  *(v10 + 16) = 0;
  v12 = *(a2 + 2);
  *(a2 + 2) = 0;
  *(v10 + 16) = v12;
  return v10;
}

uint64_t *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t *a2)
{
  if (!*a1)
  {
    return 0;
  }

  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(a1, a2);
  v4 = *a1;
  if (!result)
  {
    if (v4)
    {
      return (v4 + 24 * *(v4 - 4));
    }

    else
    {
      return 0;
    }
  }

  return result;
}

uint64_t *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::lookup<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t *a2)
{
  WTF::checkHashTableKey<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*a2);
  v4 = *a1;
  if (!v4)
  {
    return 0;
  }

  v5 = *(v4 - 8);
  v6 = WTF::ObjectIdentifierGenericBaseHash<unsigned long long>::hash(a2) & v5;
  result = (v4 + 24 * v6);
  v8 = *result;
  if (*result != *a2)
  {
    v9 = 1;
    while (v8)
    {
      v6 = (v6 + v9) & v5;
      result = (v4 + 24 * v6);
      v8 = *result;
      ++v9;
      if (*result == *a2)
      {
        return result;
      }
    }

    return 0;
  }

  return result;
}

uint64_t WTF::checkHashTableKey<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t result)
{
  if (result == -1 || !result)
  {
    __break(0xC471u);
    JUMPOUT(0x19E422E0CLL);
  }

  return result;
}

uint64_t *WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::remove(uint64_t *a1, WTF::StringImpl *a2)
{
  if (*a1)
  {
    v2 = (*a1 + 24 * *(*a1 - 4));
    if (v2 == a2)
    {
      return a1;
    }
  }

  else
  {
    if (!a2)
    {
      return a1;
    }

    v2 = 0;
  }

  if (v2 != a2)
  {
    return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(a1, a2);
  }

  return a1;
}

unsigned __int8 *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(uint64_t *a1, WTF::StringImpl *a2)
{
  *a2 = -1;
  result = *(a2 + 2);
  if (result)
  {
    result = WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::deallocateTable(result, a2);
  }

  v4 = *a1;
  v5 = vadd_s32(*(*a1 - 16), 0xFFFFFFFF00000001);
  *(v4 - 16) = v5;
  v6 = *(v4 - 4);
  if (6 * v5.i32[1] < v6 && v6 >= 9)
  {

    return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WebKit::WebStorageNamespaceProvider::SessionStorageNamespaces>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::StorageNamespaceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v6 >> 1, 0);
  }

  return result;
}

uint64_t WTF::HashTable<WebCore::SecurityOriginData,WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashMap<WebCore::SecurityOriginData,WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>,WTF::DefaultHash<WebCore::SecurityOriginData>,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::HashTraits<WTF::RefPtr<WebCore::StorageNamespace,WTF::RawPtrTraits<WebCore::StorageNamespace>,WTF::DefaultRefDerefTraits<WebCore::StorageNamespace>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WebCore::SecurityOriginData>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t a2)
{
  v2 = *a1;
  if (*a1)
  {
    v3 = *(v2 - 4);
    v4 = *(v2 - 12);
    if (v3)
    {
      v5 = v3 << (6 * v4 >= 2 * v3);
      goto LABEL_6;
    }
  }

  else
  {
    v3 = 0;
    v4 = 0;
  }

  v5 = 8;
LABEL_6:
  v6 = WTF::fastMalloc((40 * v5 + 16));
  v8 = v6;
  v9 = v6 + 4;
  if (v5)
  {
    bzero(v6 + 4, 40 * v5);
  }

  *a1 = v9;
  v8[2] = v5 - 1;
  v8[3] = v5;
  *v8 = 0;
  v8[1] = v4;
  if (v3)
  {
    v10 = 0;
    v11 = 0;
    v12 = v3;
    v30 = v3;
    while (1)
    {
      v13 = v2 + 40 * v10;
      if (*(v13 + 24))
      {
        break;
      }

      if (*v13 != -1)
      {
        goto LABEL_12;
      }

LABEL_52:
      if (++v10 == v12)
      {
        goto LABEL_60;
      }
    }

    if (*(v13 + 24) != 1)
    {
      mpark::throw_bad_variant_access(v6);
    }

LABEL_12:
    if (WebCore::SecurityOriginData::isNull((v2 + 40 * v10)))
    {
      v6 = *(v13 + 32);
      *(v13 + 32) = 0;
      if (v6)
      {
        if (v6[2] == 1)
        {
          v6 = (*(*v6 + 8))(v6);
        }

        else
        {
          --v6[2];
        }
      }

      if (!*(v13 + 24))
      {
        v14 = *(v13 + 8);
        *(v13 + 8) = 0;
        if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v14, v7);
        }

        v6 = *v13;
        *v13 = 0;
        if (v6)
        {
          if (atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            v6 = WTF::StringImpl::destroy(v6, v7);
          }
        }
      }

      *(v13 + 24) = -1;
    }

    else
    {
      v15 = v2;
      v16 = *a1;
      if (*a1)
      {
        v17 = *(v16 - 8);
      }

      else
      {
        v17 = 0;
      }

      v33 = -1640531527;
      v34 = 0;
      v35 = 0;
      WTF::add<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>(&v33, v13);
      v18 = WTF::SuperFastHash::hash(&v33);
      v19 = 0;
      do
      {
        v20 = v18 & v17;
        v21 = v16 + 40 * (v18 & v17);
        isNull = WebCore::SecurityOriginData::isNull(v21);
        v18 = ++v19 + v20;
      }

      while (!isNull);
      v24 = *(v21 + 32);
      *(v21 + 32) = 0;
      v2 = v15;
      if (v24)
      {
        if (v24[2] == 1)
        {
          (*(*v24 + 8))(v24);
        }

        else
        {
          --v24[2];
        }
      }

      if (!*(v21 + 24))
      {
        v25 = *(v21 + 8);
        *(v21 + 8) = 0;
        if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v25, v22);
        }

        v26 = *v21;
        *v21 = 0;
        if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v26, v22);
        }
      }

      *(v21 + 24) = -1;
      mpark::detail::move_assignment<mpark::detail::traits<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>,(mpark::detail::Trait)1>::move_assignment(v21);
      v27 = *(v13 + 32);
      *(v13 + 32) = 0;
      *(v21 + 32) = v27;
      v6 = *(v13 + 32);
      *(v13 + 32) = 0;
      if (v6)
      {
        if (v6[2] == 1)
        {
          v6 = (*(*v6 + 8))(v6);
        }

        else
        {
          --v6[2];
        }
      }

      if (!*(v13 + 24))
      {
        v28 = *(v13 + 8);
        *(v13 + 8) = 0;
        if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v28, v7);
        }

        v6 = *v13;
        *v13 = 0;
        if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          v6 = WTF::StringImpl::destroy(v6, v7);
        }
      }

      *(v13 + 24) = -1;
      if (v13 == a2)
      {
        v11 = v21;
      }

      v12 = v30;
    }

    goto LABEL_52;
  }

  v11 = 0;
  result = 0;
  if (v2)
  {
LABEL_60:
    WTF::fastFree((v2 - 16), v7);
    return v11;
  }

  return result;
}

void WebKit::RemoteCaptureSampleManager::~RemoteCaptureSampleManager(WebKit::RemoteCaptureSampleManager *this, void *a2)
{
  *this = &unk_1F1134BD8;
  v3 = *(this + 9);
  *(this + 9) = 0;
  if (v3)
  {
    WTF::ThreadSafeRefCounted<WebKit::RemoteVideoFrameObjectHeapProxy,(WTF::DestructionThread)2>::deref(v3);
  }

  v4 = *(this + 7);
  if (v4)
  {
    v5 = *(v4 - 4);
    if (v5)
    {
      v6 = (v4 + 8);
      do
      {
        if (*(v6 - 1) != -1)
        {
          v7 = *v6;
          *v6 = 0;
          if (v7)
          {
            WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v7 + 344));
          }
        }

        v6 += 2;
        --v5;
      }

      while (v5);
    }

    WTF::fastFree((v4 - 16), a2);
  }

  v8 = *(this + 6);
  if (v8)
  {
    v9 = *(v8 - 4);
    if (v9)
    {
      v10 = (v8 + 8);
      do
      {
        if (*(v10 - 1) != -1)
        {
          std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>::reset[abi:sn200100](v10, 0);
        }

        v10 += 2;
        --v9;
      }

      while (v9);
    }

    WTF::fastFree((v8 - 16), a2);
  }

  v11 = *(this + 5);
  *(this + 5) = 0;
  if (v11)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v11);
  }

  v12 = *(this + 4);
  *(this + 4) = 0;
  if (v12)
  {
    (*(*v12 + 40))(v12);
  }

  v13 = *(this + 2);
  *(this + 2) = 0;
  if (v13)
  {
    v14 = *(v13 + 24);
    if (v14)
    {
      *(v13 + 24) = v14 - 1;
    }

    else
    {
      __break(0xC471u);
    }
  }
}

{
  WebKit::RemoteCaptureSampleManager::~RemoteCaptureSampleManager(this, a2);

  bmalloc::api::tzoneFree(v2, v3);
}

uint64_t WebKit::RemoteCaptureSampleManager::ref(uint64_t this)
{
  v1 = *(this + 16);
  if (!v1 || !*(v1 + 32))
  {
    __break(0xC471u);
    JUMPOUT(0x19E423430);
  }

  return this;
}

uint64_t WebKit::UserMediaCaptureManager::ref(uint64_t this)
{
  if (!*(this + 32))
  {
    this = 120;
    __break(0xC471u);
  }

  return this;
}

uint64_t WebKit::RemoteCaptureSampleManager::deref(uint64_t this)
{
  v1 = *(this + 16);
  if (!v1 || !*(v1 + 32))
  {
    __break(0xC471u);
    JUMPOUT(0x19E4234B0);
  }

  return this;
}

uint64_t WebKit::UserMediaCaptureManager::deref(uint64_t this)
{
  if (!*(this + 32))
  {
    this = 120;
    __break(0xC471u);
  }

  return this;
}

void WebKit::RemoteCaptureSampleManager::setConnection(uint64_t a1, atomic_ullong **a2)
{
  if (*(a1 + 40) == *a2)
  {
    return;
  }

  {
    v4 = WebKit::WebProcess::singleton(void)::process;
  }

  else
  {
    v11 = WebKit::WebProcess::operator new(0x370, a2);
    v4 = WebKit::WebProcess::WebProcess(v11);
    WebKit::WebProcess::singleton(void)::process = v4;
  }

  v5 = *(v4 + 5);
  if (v5)
  {
    while (1)
    {
      v6 = *v5;
      if ((*v5 & 1) == 0)
      {
        break;
      }

      v7 = *v5;
      atomic_compare_exchange_strong_explicit(v5, &v7, v6 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v7 == v6)
      {
        goto LABEL_9;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v5);
  }

LABEL_9:
  v8 = *a2;
  if (*a2 == v5)
  {
    if (*(a1 + 24))
    {
      goto LABEL_19;
    }

    *(a1 + 24) = 1;
    v10 = *(a1 + 32);
    v8 = v5;
  }

  else
  {
    if (*(a1 + 40))
    {
      IPC::Connection::removeWorkQueueMessageReceiver(*(a1 + 40), 0x47u, 0);
      v8 = *a2;
    }

    *a2 = 0;
    v9 = *(a1 + 40);
    *(a1 + 40) = v8;
    if (v9)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v9);
      v8 = *(a1 + 40);
    }

    if (!v8)
    {
      goto LABEL_19;
    }

    v10 = *(a1 + 32);
  }

  IPC::Connection::addWorkQueueMessageReceiver(v8, 0x47, v10, a1, 0);
LABEL_19:
  if (v5)
  {

    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v5);
  }
}

atomic_ullong *WebKit::RemoteCaptureSampleManager::addSource(uint64_t a1, atomic_ullong *a2)
{
  v4 = *(*a2 + 360);
  while (1)
  {
    v5 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v6 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v6, v5 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v6 == v5)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_6:
  v11 = v4;
  WebKit::RemoteCaptureSampleManager::setConnection(a1, &v11);
  if (v11)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v11);
  }

  v7 = *(a1 + 32);
  (**a1)(a1);
  v8 = *a2;
  *a2 = 0;
  v9 = WTF::fastMalloc(0x20);
  *v9 = &unk_1F1135528;
  v9[1] = a1;
  v9[2] = a1;
  v9[3] = v8;
  v11 = v9;
  (*(*v7 + 48))(v7, &v11);
  result = v11;
  v11 = 0;
  if (result)
  {
    return (*(*result + 8))(result);
  }

  return result;
}

unsigned int *WebKit::RemoteCaptureSampleManager::setVideoFrameObjectHeapProxy(uint64_t a1, uint64_t *a2)
{
  v4 = 0;
  v5 = (a1 + 64);
  atomic_compare_exchange_strong_explicit((a1 + 64), &v4, 1u, memory_order_acquire, memory_order_acquire);
  if (v4)
  {
    MEMORY[0x19EB01E30](a1 + 64);
  }

  v6 = *a2;
  *a2 = 0;
  result = *(a1 + 72);
  *(a1 + 72) = v6;
  if (result)
  {
    result = WTF::ThreadSafeRefCounted<WebKit::RemoteVideoFrameObjectHeapProxy,(WTF::DestructionThread)2>::deref(result);
  }

  v8 = 1;
  atomic_compare_exchange_strong_explicit(v5, &v8, 0, memory_order_release, memory_order_relaxed);
  if (v8 != 1)
  {

    return WTF::Lock::unlockSlow(v5);
  }

  return result;
}

void WebKit::RemoteCaptureSampleManager::audioStorageChanged(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, IPC::Semaphore *a5, uint64_t *a6, uint64_t a7)
{
  v41 = *MEMORY[0x1E69E9840];
  v14 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*(a1 + 48), a2);
  v15 = *(a1 + 48);
  if (v15)
  {
    v15 += 16 * *(v15 - 4);
  }

  if (v15 == v14)
  {
    v22 = qword_1ED641580;
    if (os_log_type_enabled(qword_1ED641580, OS_LOG_TYPE_ERROR))
    {
      *buf = 134217984;
      *&buf[4] = a2;
      _os_log_error_impl(&dword_19D52D000, v22, OS_LOG_TYPE_ERROR, "Unable to find source %llu for storageChanged", buf, 0xCu);
    }
  }

  else
  {
    v16 = *(v14 + 8);
    WebKit::RemoteCaptureSampleManager::RemoteAudio::stopThread(v16);
    std::unique_ptr<WebCore::WebAudioBufferList>::reset[abi:sn200100](v16 + 12, 0);
    WebKit::ConsumerSharedCARingBuffer::map(a4, a3, buf);
    v17 = *buf;
    *buf = 0;
    std::unique_ptr<WebKit::ConsumerSharedCARingBuffer>::reset[abi:sn200100](v16 + 13, v17);
    std::unique_ptr<WebKit::ConsumerSharedCARingBuffer>::reset[abi:sn200100](buf, 0);
    if (v16[13])
    {
      IPC::Semaphore::operator=((v16 + 18), a5);
      if (*(v16 + 88) == 1)
      {
        v19 = *(a4 + 8);
        v20 = *(a4 + 24);
        v16[6] = *(a4 + 40);
        *(v16 + 1) = v19;
        *(v16 + 2) = v20;
        v21 = *(a4 + 48);
        v16[9] = *(a4 + 64);
        *(v16 + 7) = v21;
        *(v16 + 20) = *(a4 + 72);
      }

      else
      {
        v16[1] = MEMORY[0x1E69E2E98] + 16;
        *(v16 + 1) = *(a4 + 8);
        v23 = *(a4 + 24);
        v24 = *(a4 + 40);
        v25 = *(a4 + 56);
        *(v16 + 20) = *(a4 + 72);
        *(v16 + 3) = v24;
        *(v16 + 4) = v25;
        *(v16 + 2) = v23;
        *(v16 + 88) = 1;
      }

      v26 = *a6;
      *(v16 + 125) = *(a6 + 5);
      v16[15] = v26;
      v16[17] = a7;
      v27 = WebCore::WebAudioBufferList::operator new(0x48, v18);
      WebCore::WebAudioBufferList::WebAudioBufferList();
      std::unique_ptr<WebCore::WebAudioBufferList>::reset[abi:sn200100](v16 + 12, v27);
      v28 = *v16;
      if (*(*v16 + 2968) == 1)
      {
        v29 = *(a4 + 8);
        v30 = *(a4 + 24);
        *(v28 + 2928) = *(a4 + 40);
        *(v28 + 2912) = v30;
        *(v28 + 2896) = v29;
        v31 = *(a4 + 48);
        *(v28 + 2952) = *(a4 + 64);
        *(v28 + 2936) = v31;
        *(v28 + 2960) = *(a4 + 72);
      }

      else
      {
        *(v28 + 2888) = MEMORY[0x1E69E2E98] + 16;
        *(v28 + 2896) = *(a4 + 8);
        v32 = *(a4 + 24);
        v33 = *(a4 + 40);
        v34 = *(a4 + 56);
        *(v28 + 2960) = *(a4 + 72);
        *(v28 + 2944) = v34;
        *(v28 + 2928) = v33;
        *(v28 + 2912) = v32;
        *(v28 + 2968) = 1;
      }

      atomic_store(0, v16 + 160);
      v35 = WTF::fastMalloc(0x10);
      *v35 = &unk_1F11355A0;
      v35[1] = v16;
      v39 = v35;
      if ((v16[11] & 1) == 0)
      {
        __break(1u);
      }

      WebCore::CAAudioStreamDescription::sampleRate((v16 + 1));
      WebCore::createMaybeRealtimeAudioThread();
      v36 = *buf;
      *buf = 0;
      v37 = v16[19];
      v16[19] = v36;
      if (v37)
      {
        WTF::ThreadSafeRefCounted<WTF::Thread,(WTF::DestructionThread)0>::deref(v37);
        v38 = *buf;
        *buf = 0;
        if (v38)
        {
          WTF::ThreadSafeRefCounted<WTF::Thread,(WTF::DestructionThread)0>::deref(v38);
        }
      }

      if (v39)
      {
        (*(*v39 + 8))(v39);
      }
    }
  }
}

void WebKit::RemoteCaptureSampleManager::videoFrameAvailable(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  v8 = 0;
  v23 = *MEMORY[0x1E69E9840];
  v9 = (a1 + 64);
  atomic_compare_exchange_strong_explicit((a1 + 64), &v8, 1u, memory_order_acquire, memory_order_acquire);
  if (v8)
  {
    MEMORY[0x19EB01E30](a1 + 64);
  }

  v10 = *(a1 + 40);
  while (1)
  {
    v11 = *v10;
    if ((*v10 & 1) == 0)
    {
      break;
    }

    v12 = *v10;
    atomic_compare_exchange_strong_explicit(v10, &v12, v11 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v12 == v11)
    {
      goto LABEL_8;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v10);
LABEL_8:
  v13 = *(a1 + 72);
  v14 = 1;
  atomic_fetch_add(v13, 1u);
  v15 = WebKit::RemoteVideoFrameProxy::operator new(0x88, a2);
  WebKit::RemoteVideoFrameProxy::RemoteVideoFrameProxy(v15, v10, v13, a3);
  WTF::ThreadSafeRefCounted<WebKit::RemoteVideoFrameObjectHeapProxy,(WTF::DestructionThread)2>::deref(v13);
  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v10);
  atomic_compare_exchange_strong_explicit((a1 + 64), &v14, 0, memory_order_release, memory_order_relaxed);
  if (v14 != 1)
  {
    WTF::Lock::unlockSlow(v9);
  }

  v16 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( *(a1 + 56),  a2);
  v17 = *(a1 + 56);
  if (v17)
  {
    v17 += 16 * *(v17 - 4);
  }

  if (v17 == v16)
  {
    v20 = qword_1ED641580;
    if (os_log_type_enabled(qword_1ED641580, OS_LOG_TYPE_ERROR))
    {
      LODWORD(v21[0]) = 134217984;
      *(v21 + 4) = a2;
      _os_log_error_impl(&dword_19D52D000, v20, OS_LOG_TYPE_ERROR, "Unable to find source %llu for videoFrameAvailable", v21, 0xCu);
      if (!v15)
      {
        return;
      }
    }

    else if (!v15)
    {
      return;
    }
  }

  else
  {
    v18 = *(v16 + 8);
    v19 = *(a4 + 16);
    v21[0] = *a4;
    v21[1] = v19;
    v21[2] = *(a4 + 32);
    v22 = *(a4 + 48);
    WebKit::RemoteRealtimeVideoSource::remoteVideoFrameAvailable(v18, v15, v21);
    if (!v15)
    {
      return;
    }
  }

  if (atomic_fetch_add((v15 + 8), 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, (v15 + 8));
    (*(*v15 + 8))(v15);
  }
}

uint64_t WebKit::RemoteRealtimeVideoSource::remoteVideoFrameAvailable(uint64_t a1, void *a2, uint64_t a3)
{
  v6 = a2[3];
  v53 = a2[2];
  v54 = v6;
  v55 = BYTE4(v6);
  WTF::MediaTime::toDouble(&v53);
  v8 = v7;
  v9 = *(a1 + 2888);
  v10 = *(a1 + 2896);
  if (v9)
  {
    if (v10 + 1 != v9)
    {
      goto LABEL_35;
    }

    LODWORD(v11) = *(a1 + 2912);
  }

  else
  {
    v11 = *(a1 + 2912);
    if (v10)
    {
      if (v10 != v11 - 1)
      {
        goto LABEL_35;
      }
    }

    else if (v11)
    {
      v10 = 0;
      goto LABEL_35;
    }
  }

  v12 = v11;
  v13 = (v11 >> 2) + v11;
  if (v13 >= 0x1FFFFFFF)
  {
LABEL_76:
    __break(0xC471u);
    JUMPOUT(0x19E42413CLL);
  }

  v14 = *(a1 + 2904);
  if (v13 <= 0xF)
  {
    v13 = 15;
  }

  v15 = v13 + 1;
  v16 = WTF::fastMalloc((8 * (v13 + 1)));
  *(a1 + 2912) = v15;
  *(a1 + 2904) = v16;
  v18 = *(a1 + 2888);
  v10 = *(a1 + 2896);
  v19 = v10 - v18;
  if (v10 < v18)
  {
    if (v10 > v12)
    {
      goto LABEL_73;
    }

    if (v10)
    {
      v20 = 8 * v10;
      v21 = v16;
      v22 = v14;
      do
      {
        v23 = *v22;
        v22 = (v22 + 8);
        *v21++ = v23;
        v20 -= 8;
      }

      while (v20);
    }

    if (v12 < v18 || v15 < v12 - v18)
    {
      goto LABEL_73;
    }

    v24 = v15 - (v12 - v18);
    if (v12 != v18)
    {
      v25 = (v16 + 8 * v24);
      v26 = (v14 + 8 * v18);
      v27 = 8 * v12 - 8 * v18;
      do
      {
        v28 = *v26++;
        *v25++ = v28;
        v27 -= 8;
      }

      while (v27);
    }

    *(a1 + 2888) = v24;
    goto LABEL_31;
  }

  v29 = v12 - v18;
  if (v12 < v18)
  {
    goto LABEL_73;
  }

  if (v19 == -1)
  {
    v19 = v12 - v18;
    if (!v29)
    {
      goto LABEL_31;
    }
  }

  else
  {
    if (v29 < v19)
    {
      goto LABEL_73;
    }

    if (!v19)
    {
      goto LABEL_31;
    }
  }

  v30 = (v14 + 8 * v18);
  v31 = 8 * v19;
  v32 = (v16 + 8 * v18);
  do
  {
    v33 = *v30++;
    *v32++ = v33;
    v31 -= 8;
  }

  while (v31);
LABEL_31:
  if (v14)
  {
    if (v16 == v14)
    {
      *(a1 + 2904) = 0;
      *(a1 + 2912) = 0;
    }

    WTF::fastFree(v14, v17);
    v10 = *(a1 + 2896);
  }

LABEL_35:
  v34 = *(a1 + 2912);
  if (v10 >= v34)
  {
    goto LABEL_73;
  }

  v35 = *(a1 + 2904);
  *(v35 + 8 * v10) = v8;
  v36 = v34 - 1;
  if (v10 == v34 - 1)
  {
    v10 = 0;
  }

  else
  {
    ++v10;
  }

  *(a1 + 2896) = v10;
  v37 = *(a1 + 2888);
  if (v37 <= v10)
  {
    v38 = 0;
  }

  else
  {
    v38 = v34;
  }

  v39 = v38 + v10 - v37;
  if (v39)
  {
    while (v37 < v34)
    {
      if (v37 == v10)
      {
        goto LABEL_76;
      }

      v40 = *(v35 + 8 * v37);
      if (v37 == v36)
      {
        v37 = 0;
      }

      else
      {
        ++v37;
      }

      *(a1 + 2888) = v37;
      if (v8 + -2.0 < v40)
      {
        if (v10 >= v34)
        {
          goto LABEL_73;
        }

        *(v35 + 8 * v10) = v40;
        if (v10 == v36)
        {
          v10 = 0;
        }

        else
        {
          ++v10;
        }

        *(a1 + 2896) = v10;
      }

      if (!--v39)
      {
        goto LABEL_55;
      }
    }

    goto LABEL_73;
  }

LABEL_55:
  if (v10)
  {
    if (v10 - 1 < v34)
    {
      v41 = (v35 + 8 * (v10 - 1));
      goto LABEL_59;
    }

LABEL_73:
    __break(1u);
LABEL_74:
    v48 = 0x7FFFFFFF00000000;
    goto LABEL_72;
  }

  v41 = (v35 + 8 * v34 - 8);
LABEL_59:
  if (v37 >= v34)
  {
    goto LABEL_73;
  }

  v42 = *v41 - *(v35 + 8 * v37);
  if (v42 > 1.0)
  {
    v43 = v10 >= v37;
    v44 = v10 - v37;
    if (v43)
    {
      v34 = 0;
    }

    *(a1 + 2920) = (v44 + v34) / v42;
  }

  v45 = (*(*a2 + 16))(a2);
  v46 = SHIDWORD(v45);
  v10 = 0x7FFFFFFFLL;
  v47 = 0x80000000;
  if (v45 > -2147500000.0)
  {
    v47 = v45;
  }

  if (v45 < 2147500000.0)
  {
    v10 = v47;
  }

  if (v46 >= 2147500000.0)
  {
    goto LABEL_74;
  }

  if (v46 <= -2147500000.0)
  {
    v48 = 0x8000000000000000;
  }

  else
  {
    v48 = v46 << 32;
  }

LABEL_72:
  *&v51[0] = v48 | v10;
  WebCore::RealtimeMediaSource::setIntrinsicSize(a1, v51);
  v49 = *(a3 + 16);
  v51[0] = *a3;
  v51[1] = v49;
  v51[2] = *(a3 + 32);
  v52 = *(a3 + 48);
  return WebCore::RealtimeMediaSource::videoFrameAvailable();
}

void WebKit::RemoteCaptureSampleManager::videoFrameAvailableCV(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  v22 = *MEMORY[0x1E69E9840];
  v11 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( *(a1 + 56),  a2);
  v12 = v11;
  v13 = *(a1 + 56);
  if (v13)
  {
    v13 += 16 * *(v13 - 4);
  }

  if (v13 == v11)
  {
    v16 = qword_1ED641580;
    if (os_log_type_enabled(qword_1ED641580, OS_LOG_TYPE_ERROR))
    {
      *buf = 134217984;
      *&buf[4] = a2;
      _os_log_error_impl(&dword_19D52D000, v16, OS_LOG_TYPE_ERROR, "Unable to find source %llu for videoFrameAvailableCV", buf, 0xCu);
    }
  }

  else
  {
    buf[0] = 0;
    buf[8] = 0;
    WebCore::VideoFrameCV::create();
    v14 = *(v12 + 8);
    v15 = *(a8 + 16);
    *buf = *a8;
    v19 = v15;
    v20 = *(a8 + 32);
    v21 = *(a8 + 48);
    WebKit::RemoteRealtimeVideoSource::remoteVideoFrameAvailable(v14, v17, buf);
    if (v17)
    {
      if (atomic_fetch_add((v17 + 8), 0xFFFFFFFF) == 1)
      {
        atomic_store(1u, (v17 + 8));
        (*(*v17 + 8))();
      }
    }
  }
}

void WebKit::RemoteCaptureSampleManager::RemoteAudio::~RemoteAudio(WebKit::RemoteCaptureSampleManager::RemoteAudio *this)
{
  WebKit::RemoteCaptureSampleManager::RemoteAudio::stopThread(this);
  v2 = *(this + 19);
  *(this + 19) = 0;
  if (v2)
  {
    WTF::ThreadSafeRefCounted<WTF::Thread,(WTF::DestructionThread)0>::deref(v2);
  }

  IPC::Semaphore::destroy((this + 144));
  WTF::MachSendRight::~MachSendRight((this + 144));
  std::unique_ptr<WebKit::ConsumerSharedCARingBuffer>::reset[abi:sn200100](this + 13, 0);
  std::unique_ptr<WebCore::WebAudioBufferList>::reset[abi:sn200100](this + 12, 0);
  if (*(this + 88) == 1)
  {
    WebCore::CAAudioStreamDescription::~CAAudioStreamDescription((this + 8));
  }

  v3 = *this;
  *this = 0;
  if (v3)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v3 + 344));
  }
}

atomic_uint *WebKit::RemoteCaptureSampleManager::RemoteAudio::stopThread(atomic_uint *this)
{
  if (*(this + 19))
  {
    v1 = this;
    atomic_store(1u, this + 160);
    MEMORY[0x19EB16320](this[37]);
    WTF::Thread::waitForCompletion(*(v1 + 19));
    this = *(v1 + 19);
    *(v1 + 19) = 0;
    if (this)
    {

      return WTF::ThreadSafeRefCounted<WTF::Thread,(WTF::DestructionThread)0>::deref(this);
    }
  }

  return this;
}

atomic_ullong *WebKit::RemoteRealtimeMediaSource::createRemoteMediaSource(atomic_ullong *this)
{
  v2 = WebCore::RealtimeMediaSource::deviceIDHashSalts(this);
  v3 = this[10];
  if (!v3)
  {
    __break(1u);
    goto LABEL_23;
  }

  v4 = v2;
  while (1)
  {
    v5 = this[43];
    if ((v5 & 1) == 0)
    {
      break;
    }

    v6 = this[43];
    atomic_compare_exchange_strong_explicit(this + 43, &v6, v5 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v6 == v5)
    {
      goto LABEL_7;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(this[43]);
LABEL_7:
  v7 = WTF::fastMalloc(0x18);
  *v7 = &unk_1F11355C8;
  v7[1] = this;
  v7[2] = this;
  if (*(this + 408) == 1)
  {
    v8 = this[182];
    if (!v8)
    {
      __break(0xC471u);
LABEL_25:
      JUMPOUT(0x19E424664);
    }

    v9 = *(v8 + 240);
  }

  else
  {
    v9 = 0;
  }

  v30 = v3;
  v10 = this[45];
  while (1)
  {
    v11 = *v10;
    if ((*v10 & 1) == 0)
    {
      break;
    }

    v12 = *v10;
    atomic_compare_exchange_strong_explicit(v10, &v12, v11 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v12 == v11)
    {
      goto LABEL_16;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v10);
LABEL_16:
  v13 = this[44];
  v14 = (this + 46);
  v15 = (this + 52);
  v27[0] = v13;
  v27[1] = v27;
  v27[2] = v14;
  v27[3] = v4;
  v27[4] = v15;
  v28[0] = v9 & 1;
  v29 = &v30;
  v16 = WTF::fastMalloc(0x10);
  *v16 = &unk_1F1135618;
  v16[1] = v7;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
LABEL_23:
    __break(0xC471u);
    goto LABEL_25;
  }

  v17 = v16;
  IdentifierInternal = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
  v20 = IPC::Encoder::operator new(0x238, v19);
  *v20 = 1758;
  *(v20 + 68) = 0;
  *(v20 + 70) = 0;
  *(v20 + 69) = 0;
  *(v20 + 2) = 0;
  *(v20 + 3) = 0;
  *(v20 + 1) = 0;
  IPC::Encoder::encodeHeader(v20);
  v32 = v20;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v20, v27[0]);
  IPC::ArgumentCoder<WebCore::CaptureDevice,void>::encode(v20, v14);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v20, v4);
  IPC::ArgumentCoder<WTF::String,void>::encode<IPC::Encoder>(v20, v4 + 1);
  IPC::ArgumentCoder<WebCore::MediaConstraints,void>::encode(v20, v15);
  IPC::Encoder::operator<<<BOOL &>(v20, v28);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v20, *v29);
  v31[0] = v17;
  v31[1] = IdentifierInternal;
  IPC::Connection::sendMessageWithAsyncReply(v10, &v32, v31, 0, 0);
  v22 = v31[0];
  v31[0] = 0;
  if (v22)
  {
    (*(*v22 + 8))(v22);
  }

  v23 = v32;
  v32 = 0;
  if (v23)
  {
    IPC::Encoder::~Encoder(v23, v21);
    bmalloc::api::tzoneFree(v25, v26);
  }

  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v10);
}

uint64_t WebKit::RemoteRealtimeMediaSource::RemoteRealtimeMediaSource(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, void *a7)
{
  v13 = WebCore::RealtimeMediaSource::RealtimeMediaSource();
  v13[43] = 3;
  *v13 = &unk_1F1134E78;
  v13[1] = &unk_1F1135048;
  v13[42] = &unk_1F1135088;
  WebKit::RemoteRealtimeMediaSourceProxy::RemoteRealtimeMediaSourceProxy((v13 + 44), a2, a3, a7, a4);
  *(a1 + 1456) = a6;
  ++*(a6 + 24);
  *(a1 + 1464) = 0;
  *(a1 + 2432) = 0;
  *(a1 + 2440) = 0u;
  *(a1 + 2456) = 0u;
  *(a1 + 2472) = 0u;
  *(a1 + 2488) = 0u;
  *(a1 + 2504) = 0u;
  *(a1 + 2520) = 0u;
  *(a1 + 2536) = 1;
  *(a1 + 2544) = 0u;
  *(a1 + 2560) = 0u;
  *(a1 + 2576) = 0u;
  *(a1 + 2592) = 0u;
  *(a1 + 2608) = 0u;
  *(a1 + 2622) = 0;
  *(a1 + 2632) = 0;
  *(a1 + 2776) = 0;
  *(a1 + 2784) = 0;
  *(a1 + 2789) = 0;
  *(a1 + 2816) = 0;
  *(a1 + 2800) = 0u;
  *(a1 + 2840) = 0;
  *(a1 + 2824) = 0u;
  *(a1 + 2848) = 4;
  *(a1 + 2850) = 0;
  *(a1 + 2856) = 0x3FF0000000000000;
  *(a1 + 2878) = 0;
  *(a1 + 2864) = 0u;
  return a1;
}

void WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource(WebKit::RemoteRealtimeMediaSource *this, WTF::StringImpl *a2)
{
  *this = &unk_1F1134E78;
  *(this + 1) = &unk_1F1135048;
  *(this + 42) = &unk_1F1135088;
  v3 = *(this + 355);
  *(this + 355) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *(this + 354);
  *(this + 354) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, a2);
  }

  v5 = *(this + 353);
  *(this + 353) = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, a2);
  }

  if (*(this + 2776) == 1 && *(this + 2768) == 1)
  {
    v6 = *(this + 344);
    if (v6)
    {
      *(this + 344) = 0;
      *(this + 690) = 0;
      WTF::fastFree(v6, a2);
    }
  }

  WebCore::RealtimeMediaSourceCapabilities::~RealtimeMediaSourceCapabilities((this + 2440), a2);
  if (*(this + 2432) == 1)
  {
    WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 2408, v7);
    WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap((this + 1464), v8);
  }

  v9 = *(this + 182);
  *(this + 182) = 0;
  if (v9)
  {
    v10 = *(v9 + 24);
    if (!v10)
    {
      v11 = "/AppleInternal/Library/BuildRoots/4~CAtBugAdX2ypK3woS13W0YBGfMX4uuy1xhucdh4/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.1.Internal.sdk/usr/local/include/wtf/CheckedRef.h";
      v12 = "void WTF::CanMakeCheckedPtrBase<WTF::SingleThreadIntegralWrapper<unsigned int>, unsigned int>::decrementCheckedPtrCount() const [StorageType = WTF::SingleThreadIntegralWrapper<unsigned int>, PtrCounterType = unsigned int]";
      v14 = 290;
      v13 = 37;
      __break(0xC471u);
      goto __ZN7WebCore19RealtimeMediaSourceD2Ev;
    }

    *(v9 + 24) = v10 - 1;
  }

  WebKit::RemoteRealtimeMediaSourceProxy::~RemoteRealtimeMediaSourceProxy((this + 352));
  v14 = this;

{
  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource(this, a2);

  WTF::fastFree(v2, v3);
}

void WebKit::RemoteRealtimeAudioSource::~RemoteRealtimeAudioSource(WebKit::RemoteRealtimeAudioSource *this, WTF::StringImpl *a2)
{
  if (*(this + 2968) == 1)
  {
    WebCore::CAAudioStreamDescription::~CAAudioStreamDescription((this + 2888));
  }

  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource(this, a2);
}

{
  if (*(this + 2968) == 1)
  {
    WebCore::CAAudioStreamDescription::~CAAudioStreamDescription((this + 2888));
  }

  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource(this, a2);

  WTF::fastFree(v3, v4);
}

void non-virtual thunk toWebKit::RemoteRealtimeAudioSource::~RemoteRealtimeAudioSource(WebKit::RemoteRealtimeAudioSource *this, WTF::StringImpl *a2)
{
  if (*(this + 2960) == 1)
  {
    WebCore::CAAudioStreamDescription::~CAAudioStreamDescription((this + 2880));
  }

  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource((this - 8), a2);
}

{
  if (*(this + 2632) == 1)
  {
    WebCore::CAAudioStreamDescription::~CAAudioStreamDescription((this + 2552));
  }

  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource((this - 336), a2);
}

{
  WebKit::RemoteRealtimeAudioSource::~RemoteRealtimeAudioSource((this - 8), a2);
}

{
  WebKit::RemoteRealtimeAudioSource::~RemoteRealtimeAudioSource((this - 336), a2);
}

IPC::Encoder *WebKit::RemoteRealtimeAudioSource::setIsInBackground(WebKit::RemoteRealtimeAudioSource *this, void *a2)
{
  v2 = *(this + 45);
  v8[0] = *(this + 44);
  v8[1] = v8;
  v9[0] = a2;
  v3 = IPC::Encoder::operator new(0x238, a2);
  *v3 = 1763;
  *(v3 + 68) = 0;
  *(v3 + 70) = 0;
  *(v3 + 69) = 0;
  *(v3 + 2) = 0;
  *(v3 + 3) = 0;
  *(v3 + 1) = 0;
  IPC::Encoder::encodeHeader(v3);
  v10 = v3;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v3, v8[0]);
  IPC::Encoder::operator<<<BOOL &>(v3, v9);
  IPC::Connection::sendMessageImpl(v2, &v10, 0, 0);
  result = v10;
  v10 = 0;
  if (result)
  {
    IPC::Encoder::~Encoder(result, v4);
    return bmalloc::api::tzoneFree(v6, v7);
  }

  return result;
}

uint64_t WebKit::RemoteRealtimeAudioSource::audioStreamDescription(WebKit::RemoteRealtimeAudioSource *this)
{
  if (*(this + 2968))
  {
    return this + 2888;
  }

  else
  {
    return 0;
  }
}

void non-virtual thunk toWebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource(WebKit::RemoteRealtimeMediaSource *this, WTF::StringImpl *a2)
{
  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource((this - 8), a2);
}

{
  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource((this - 336), a2);
}

{
  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource((this - 8), a2);

  WTF::fastFree(v2, v3);
}

{
  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource((this - 336), a2);

  WTF::fastFree(v2, v3);
}

__n128 WebKit::RemoteRealtimeMediaSource::setCapabilities(uint64_t a1, __int128 *a2)
{
  v4 = *a2;
  v5 = a2[2];
  *(a1 + 2456) = a2[1];
  *(a1 + 2472) = v5;
  *(a1 + 2440) = v4;
  WTF::Vector<WebCore::VideoFacingMode,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=((a1 + 2488), (a2 + 3));
  v7 = a2[4];
  v8 = a2[5];
  *(a1 + 2536) = *(a2 + 96);
  *(a1 + 2504) = v7;
  *(a1 + 2520) = v8;
  v9 = *(a2 + 13);
  if (v9)
  {
    atomic_fetch_add_explicit(v9, 2u, memory_order_relaxed);
  }

  v10 = *(a1 + 2544);
  *(a1 + 2544) = v9;
  if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v10, v6);
  }

  v11 = *(a2 + 14);
  if (v11)
  {
    atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
  }

  v12 = *(a1 + 2552);
  *(a1 + 2552) = v11;
  if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v12, v6);
  }

  *(a1 + 2560) = *(a2 + 120);
  WTF::Vector<WebCore::VideoFacingMode,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=((a1 + 2576), a2 + 136);
  v13 = *(a2 + 182);
  result = *(a2 + 168);
  *(a1 + 2592) = *(a2 + 152);
  *(a1 + 2608) = result;
  *(a1 + 2622) = v13;
  return result;
}

uint64_t WebKit::RemoteRealtimeMediaSource::setSettings(uint64_t a1, __int128 *a2)
{
  v5 = WebCore::RealtimeMediaSourceSettings::difference();
  v6 = *a2;
  v7 = a2[1];
  *(a1 + 2816) = *(a2 + 32);
  *(a1 + 2800) = v7;
  *(a1 + 2784) = v6;
  v8 = *(a2 + 5);
  *(a2 + 5) = 0;
  v9 = *(a1 + 2824);
  *(a1 + 2824) = v8;
  if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9, v4);
  }

  v10 = *(a2 + 6);
  *(a2 + 6) = 0;
  v11 = *(a1 + 2832);
  *(a1 + 2832) = v10;
  if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v11, v4);
  }

  v12 = *(a2 + 7);
  *(a2 + 7) = 0;
  v13 = *(a1 + 2840);
  *(a1 + 2840) = v12;
  if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v13, v4);
  }

  v14 = a2[4];
  v15 = a2[5];
  *(a1 + 2878) = *(a2 + 94);
  *(a1 + 2864) = v15;
  *(a1 + 2848) = v14;

  return MEMORY[0x1EEE57598](a1, v5);
}

uint64_t WebKit::RemoteRealtimeMediaSource::takePhoto@<X0>(uint64_t a1@<X0>, char *a2@<X1>, atomic_uint **a3@<X8>)
{
  v6 = *(a1 + 360);
  while (1)
  {
    v7 = *v6;
    if ((*v6 & 1) == 0)
    {
      break;
    }

    v8 = *v6;
    atomic_compare_exchange_strong_explicit(v6, &v8, v7 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v8 == v7)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v6);
LABEL_6:
  v9 = *(a1 + 352);
  v26 = 0;
  *&v27 = 0;
  *(&v27 + 1) = "sendWithPromisedReply";
  *&v28 = 0;
  WTF::NativePromiseProducer<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::NativePromiseProducer<std::enable_if<true,void>>(&v23, 0, &v26);
  v10 = v23;
  if (v23)
  {
    atomic_fetch_add(v23 + 2, 1u);
    v11 = v23;
  }

  else
  {
    v11 = 0;
  }

  *a3 = v10;
  v23 = 0;
  v27 = v24;
  v28 = v25;
  v12 = WTF::fastMalloc(0x30);
  *v12 = &unk_1F1135640;
  *(v12 + 8) = v11;
  v26 = 0;
  v13 = v28;
  *(v12 + 16) = v27;
  *(v12 + 32) = v13;
  v22[0] = v12;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v22[1] = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
    WTF::NativePromiseProducer<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::~NativePromiseProducer(&v26);
    v15 = IPC::Encoder::operator new(0x238, v14);
    *v15 = 1767;
    *(v15 + 68) = 0;
    *(v15 + 70) = 0;
    *(v15 + 69) = 0;
    *(v15 + 2) = 0;
    *(v15 + 3) = 0;
    *(v15 + 1) = 0;
    IPC::Encoder::encodeHeader(v15);
    v26 = v15;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v15, v9);
    IPC::ArgumentCoder<WebCore::PhotoSettings,void>::encode(v15, a2);
    IPC::Connection::sendMessageWithAsyncReplyWithDispatcher(v6, &v26, v22, 0, 0);
    v17 = v26;
    v26 = 0;
    if (v17)
    {
      IPC::Encoder::~Encoder(v17, v16);
      bmalloc::api::tzoneFree(v20, v21);
    }

    v18 = v22[0];
    v22[0] = 0;
    if (v18)
    {
      (*(*v18 + 8))(v18);
    }

    WTF::NativePromiseProducer<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::~NativePromiseProducer(&v23);
    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v6);
  }

  return result;
}

atomic_ullong *WebKit::RemoteRealtimeMediaSource::getPhotoCapabilities@<X0>(WebKit::RemoteRealtimeMediaSource *this@<X0>, WTF::Logger **a2@<X8>)
{
  v58 = *MEMORY[0x1E69E9840];
  v4 = *(this + 45);
  while (1)
  {
    v5 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v6 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v6, v5 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v6 == v5)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_6:
  v7 = *(this + 44);
  v48 = 0uLL;
  *&v49 = "sendWithPromisedReply";
  *(&v49 + 1) = 0;
  v8 = WTF::fastMalloc(0x108);
  *(v8 + 8) = 1;
  *v8 = &unk_1F1135690;
  v9 = v49;
  *(v8 + 16) = v48;
  *(v8 + 32) = v9;
  *(v8 + 48) = 0;
  v10 = (v8 + 48);
  *(v8 + 208) = 0;
  *(v8 + 216) = v8 + 232;
  *(v8 + 224) = 1;
  *(v8 + 240) = 0;
  *(v8 + 248) = 0;
  *(v8 + 256) = 0;
  v11 = WTF::NativePromiseBase::logChannel(v8);
  if (*v11)
  {
    v12 = v11;
    if (v11[16] >= 4u)
    {
      WTF::String::String(&v54, "creating ");
      WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v8, &v53);
      *buf = v54;
      v50 = v53;
      WTF::tryMakeStringFromAdapters<WTF::StringTypeAdapter<WTF::String,void>,WTF::StringTypeAdapter<WTF::String,void>>(buf, &v50, &v55);
      if (!v55)
      {
        __break(0xC471u);
LABEL_61:
        JUMPOUT(0x19E4255A4);
      }

      v14 = v53;
      v53 = 0;
      if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v14, v13);
      }

      v15 = v54;
      v54 = 0;
      if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v15, v13);
      }

      v16 = *(v12 + 4);
      v17 = os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT);
      if (v17)
      {
        WTF::String::utf8();
        v19 = v50 ? v50 + 16 : 0;
        *buf = 136446210;
        *&buf[4] = v19;
        _os_log_impl(&dword_19D52D000, v16, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
        v17 = v50;
        v50 = 0;
        if (v17)
        {
          if (*v17 == 1)
          {
            v17 = WTF::fastFree(v17, v18);
          }

          else
          {
            --*v17;
          }
        }
      }

      if (*v12 && v12[16] >= 4u)
      {
        v20 = MEMORY[0x1E696EBC0];
        while (1)
        {
          v21 = *v20;
          if (v21)
          {
            break;
          }

          v22 = *v20;
          atomic_compare_exchange_strong_explicit(v20, &v22, v21 | 1, memory_order_acquire, memory_order_acquire);
          if (v22 == v21)
          {
            v47 = a2;
            v23 = WTF::Logger::observers(v17);
            v24 = *(v23 + 12);
            if (v24)
            {
              v25 = *v23;
              v26 = *v23 + 8 * v24;
              do
              {
                v27 = *v25;
                *buf = 0;
                WTF::String::String(&buf[8], "creating ");
                *&buf[16] = 0;
                WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v8, &v57);
                WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&v50, buf, 2uLL);
                (*(*v27 + 16))(v27, v12, 4, &v50);
                WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v50, v28);
                for (i = 24; i != -8; i -= 16)
                {
                  v30 = *&buf[i];
                  *&buf[i] = 0;
                  if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v30, v18);
                  }
                }

                ++v25;
              }

              while (v25 != v26);
            }

            v31 = 1;
            atomic_compare_exchange_strong_explicit(v20, &v31, 0, memory_order_release, memory_order_relaxed);
            a2 = v47;
            v10 = (v8 + 48);
            if (v31 != 1)
            {
              WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
            }

            break;
          }
        }
      }

      v11 = v55;
      v55 = 0;
      if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        v11 = WTF::StringImpl::destroy(v11, v18);
      }
    }
  }

  v32 = 0;
  v50 = v8;
  v51 = v48;
  v52 = v49;
  atomic_fetch_add((v8 + 8), 1u);
  atomic_compare_exchange_strong_explicit((v8 + 48), &v32, 1u, memory_order_acquire, memory_order_acquire);
  if (v32)
  {
    v11 = MEMORY[0x19EB01E30](v10);
  }

  v33 = WTF::NativePromiseBase::logChannel(v11);
  if (*v33 && v33[16] >= 4u)
  {
    WTF::Logger::log<WTF::Logger::LogSiteIdentifier,char [27],WTF::NativePromise<WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WebCore::PlatformMediaError,0u>>(v33, &v48, " runSynchronouslyOnTarget ", v8);
  }

  atomic_store(0, (v8 + 257));
  v34 = 1;
  atomic_compare_exchange_strong_explicit((v8 + 48), &v34, 0, memory_order_release, memory_order_relaxed);
  if (v34 != 1)
  {
    WTF::Lock::unlockSlow(v10);
  }

  if (atomic_fetch_add((v8 + 8), 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, (v8 + 8));
    (*(*v8 + 16))(v8);
  }

  v35 = v50;
  if (v50)
  {
    atomic_fetch_add(v50 + 2, 1u);
    v36 = v50;
  }

  else
  {
    v36 = 0;
  }

  *a2 = v35;
  v50 = 0;
  *&buf[8] = v51;
  v57 = v52;
  v37 = WTF::fastMalloc(0x30);
  *v37 = &unk_1F11356B8;
  *(v37 + 8) = v36;
  *buf = 0;
  v38 = v57;
  *(v37 + 16) = *&buf[8];
  *(v37 + 32) = v38;
  *&v48 = v37;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    __break(0xC471u);
    goto LABEL_61;
  }

  *(&v48 + 1) = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
  WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromiseProducer(buf);
  v40 = IPC::Encoder::operator new(0x238, v39);
  *v40 = 1760;
  *(v40 + 68) = 0;
  *(v40 + 70) = 0;
  *(v40 + 69) = 0;
  *(v40 + 2) = 0;
  *(v40 + 3) = 0;
  *(v40 + 1) = 0;
  IPC::Encoder::encodeHeader(v40);
  *buf = v40;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v40, v7);
  IPC::Connection::sendMessageWithAsyncReplyWithDispatcher(v4, buf, &v48, 0, 0);
  v42 = *buf;
  *buf = 0;
  if (v42)
  {
    IPC::Encoder::~Encoder(v42, v41);
    bmalloc::api::tzoneFree(v45, v46);
  }

  v43 = v48;
  *&v48 = 0;
  if (v43)
  {
    (*(*v43 + 8))(v43);
  }

  WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromiseProducer(&v50);
  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v4);
}

atomic_ullong *WebKit::RemoteRealtimeMediaSource::getPhotoSettings@<X0>(WebKit::RemoteRealtimeMediaSource *this@<X0>, WTF::Logger **a2@<X8>)
{
  v58 = *MEMORY[0x1E69E9840];
  v4 = *(this + 45);
  while (1)
  {
    v5 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v6 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v6, v5 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v6 == v5)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_6:
  v7 = *(this + 44);
  v48 = 0uLL;
  *&v49 = "sendWithPromisedReply";
  *(&v49 + 1) = 0;
  v8 = WTF::fastMalloc(0xA8);
  *(v8 + 8) = 1;
  *v8 = &unk_1F1135708;
  v9 = v49;
  *(v8 + 16) = v48;
  *(v8 + 32) = v9;
  *(v8 + 48) = 0;
  v10 = (v8 + 48);
  *(v8 + 112) = 0;
  *(v8 + 120) = v8 + 136;
  *(v8 + 128) = 1;
  *(v8 + 144) = 0;
  *(v8 + 152) = 0;
  *(v8 + 160) = 0;
  v11 = WTF::NativePromiseBase::logChannel(v8);
  if (*v11)
  {
    v12 = v11;
    if (v11[16] >= 4u)
    {
      WTF::String::String(&v54, "creating ");
      WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v8, &v53);
      *buf = v54;
      v50 = v53;
      WTF::tryMakeStringFromAdapters<WTF::StringTypeAdapter<WTF::String,void>,WTF::StringTypeAdapter<WTF::String,void>>(buf, &v50, &v55);
      if (!v55)
      {
        __break(0xC471u);
LABEL_61:
        JUMPOUT(0x19E425B78);
      }

      v14 = v53;
      v53 = 0;
      if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v14, v13);
      }

      v15 = v54;
      v54 = 0;
      if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v15, v13);
      }

      v16 = *(v12 + 4);
      v17 = os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT);
      if (v17)
      {
        WTF::String::utf8();
        v19 = v50 ? v50 + 16 : 0;
        *buf = 136446210;
        *&buf[4] = v19;
        _os_log_impl(&dword_19D52D000, v16, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
        v17 = v50;
        v50 = 0;
        if (v17)
        {
          if (*v17 == 1)
          {
            v17 = WTF::fastFree(v17, v18);
          }

          else
          {
            --*v17;
          }
        }
      }

      if (*v12 && v12[16] >= 4u)
      {
        v20 = MEMORY[0x1E696EBC0];
        while (1)
        {
          v21 = *v20;
          if (v21)
          {
            break;
          }

          v22 = *v20;
          atomic_compare_exchange_strong_explicit(v20, &v22, v21 | 1, memory_order_acquire, memory_order_acquire);
          if (v22 == v21)
          {
            v47 = a2;
            v23 = WTF::Logger::observers(v17);
            v24 = *(v23 + 12);
            if (v24)
            {
              v25 = *v23;
              v26 = *v23 + 8 * v24;
              do
              {
                v27 = *v25;
                *buf = 0;
                WTF::String::String(&buf[8], "creating ");
                *&buf[16] = 0;
                WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v8, &v57);
                WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&v50, buf, 2uLL);
                (*(*v27 + 16))(v27, v12, 4, &v50);
                WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v50, v28);
                for (i = 24; i != -8; i -= 16)
                {
                  v30 = *&buf[i];
                  *&buf[i] = 0;
                  if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v30, v18);
                  }
                }

                ++v25;
              }

              while (v25 != v26);
            }

            v31 = 1;
            atomic_compare_exchange_strong_explicit(v20, &v31, 0, memory_order_release, memory_order_relaxed);
            a2 = v47;
            v10 = (v8 + 48);
            if (v31 != 1)
            {
              WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
            }

            break;
          }
        }
      }

      v11 = v55;
      v55 = 0;
      if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        v11 = WTF::StringImpl::destroy(v11, v18);
      }
    }
  }

  v32 = 0;
  v50 = v8;
  v51 = v48;
  v52 = v49;
  atomic_fetch_add((v8 + 8), 1u);
  atomic_compare_exchange_strong_explicit((v8 + 48), &v32, 1u, memory_order_acquire, memory_order_acquire);
  if (v32)
  {
    v11 = MEMORY[0x19EB01E30](v10);
  }

  v33 = WTF::NativePromiseBase::logChannel(v11);
  if (*v33 && v33[16] >= 4u)
  {
    WTF::Logger::log<WTF::Logger::LogSiteIdentifier,char [27],WTF::NativePromise<WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WebCore::PlatformMediaError,0u>>(v33, &v48, " runSynchronouslyOnTarget ", v8);
  }

  atomic_store(0, (v8 + 161));
  v34 = 1;
  atomic_compare_exchange_strong_explicit((v8 + 48), &v34, 0, memory_order_release, memory_order_relaxed);
  if (v34 != 1)
  {
    WTF::Lock::unlockSlow(v10);
  }

  if (atomic_fetch_add((v8 + 8), 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, (v8 + 8));
    (*(*v8 + 16))(v8);
  }

  v35 = v50;
  if (v50)
  {
    atomic_fetch_add(v50 + 2, 1u);
    v36 = v50;
  }

  else
  {
    v36 = 0;
  }

  *a2 = v35;
  v50 = 0;
  *&buf[8] = v51;
  v57 = v52;
  v37 = WTF::fastMalloc(0x30);
  *v37 = &unk_1F1135730;
  *(v37 + 8) = v36;
  *buf = 0;
  v38 = v57;
  *(v37 + 16) = *&buf[8];
  *(v37 + 32) = v38;
  *&v48 = v37;
  if (WTF::ObjectIdentifierGeneric<IPC::AsyncReplyIDType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    __break(0xC471u);
    goto LABEL_61;
  }

  *(&v48 + 1) = WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>::generateIdentifierInternal();
  WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::~NativePromiseProducer(buf);
  v40 = IPC::Encoder::operator new(0x238, v39);
  *v40 = 1761;
  *(v40 + 68) = 0;
  *(v40 + 70) = 0;
  *(v40 + 69) = 0;
  *(v40 + 2) = 0;
  *(v40 + 3) = 0;
  *(v40 + 1) = 0;
  IPC::Encoder::encodeHeader(v40);
  *buf = v40;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v40, v7);
  IPC::Connection::sendMessageWithAsyncReplyWithDispatcher(v4, buf, &v48, 0, 0);
  v42 = *buf;
  *buf = 0;
  if (v42)
  {
    IPC::Encoder::~Encoder(v42, v41);
    bmalloc::api::tzoneFree(v45, v46);
  }

  v43 = v48;
  *&v48 = 0;
  if (v43)
  {
    (*(*v43 + 8))(v43);
  }

  WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::~NativePromiseProducer(&v50);
  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v4);
}

uint64_t WebKit::RemoteRealtimeMediaSource::stopProducingData(WebKit::RemoteRealtimeMediaSource *this, void *a2)
{
  if ((*(this + 128) & 1) == 0)
  {
    v3 = *(this + 182);
    if (!v3)
    {
      result = 120;
      __break(0xC471u);
      return result;
    }

    v4 = *(this + 44);
    v5 = *(v3 + 192);
    v7 = *(v3 + 160);
    v6 = v3 + 160;
    (*v7)(v6);
    v8 = WTF::fastMalloc(0x20);
    *v8 = &unk_1F1135578;
    *(v8 + 1) = v6;
    *(v8 + 2) = v6;
    *(v8 + 3) = v4;
    v19 = v8;
    (*(*v5 + 48))(v5, &v19);
    v9 = v19;
    v19 = 0;
    if (v9)
    {
      (*(*v9 + 8))(v9);
    }
  }

  *(this + 1448) = 0;
  v10 = *(this + 45);
  while (1)
  {
    v11 = *v10;
    if ((*v10 & 1) == 0)
    {
      break;
    }

    v12 = *v10;
    atomic_compare_exchange_strong_explicit(v10, &v12, v11 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v12 == v11)
    {
      goto LABEL_10;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v10);
LABEL_10:
  v13 = IPC::Encoder::operator new(0x238, a2);
  *v13 = 1766;
  *(v13 + 68) = 0;
  *(v13 + 70) = 0;
  *(v13 + 69) = 0;
  *(v13 + 2) = 0;
  *(v13 + 3) = 0;
  *(v13 + 1) = 0;
  IPC::Encoder::encodeHeader(v13);
  v19 = v13;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v13, *(this + 44));
  IPC::Connection::sendMessageImpl(v10, &v19, 0, 0);
  v15 = v19;
  v19 = 0;
  if (v15)
  {
    IPC::Encoder::~Encoder(v15, v14);
    bmalloc::api::tzoneFree(v17, v18);
  }

  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v10);
}

IPC::Encoder *WebKit::RemoteRealtimeMediaSource::didEnd(IPC::Encoder *this, void *a2)
{
  if ((*(this + 1449) & 1) == 0)
  {
    v2 = this;
    *(this + 1449) = 1;
    v3 = *(this + 45);
    while (1)
    {
      v4 = *v3;
      if ((*v3 & 1) == 0)
      {
        break;
      }

      v5 = *v3;
      atomic_compare_exchange_strong_explicit(v3, &v5, v4 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v5 == v4)
      {
        goto LABEL_7;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v3);
LABEL_7:
    v6 = IPC::Encoder::operator new(0x238, a2);
    *v6 = 1762;
    *(v6 + 68) = 0;
    *(v6 + 70) = 0;
    *(v6 + 69) = 0;
    *(v6 + 2) = 0;
    *(v6 + 3) = 0;
    *(v6 + 1) = 0;
    IPC::Encoder::encodeHeader(v6);
    v25 = v6;
    IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *(v2 + 44));
    IPC::Connection::sendMessageImpl(v3, &v25, 0, 0);
    v8 = v25;
    v25 = 0;
    if (v8)
    {
      IPC::Encoder::~Encoder(v8, v7);
      bmalloc::api::tzoneFree(v23, v24);
    }

    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v3);
    v9 = *(v2 + 182);
    if (!v9)
    {
      goto LABEL_26;
    }

    v25 = *(v2 + 44);
    v10 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( (v9 + 40),  &v25);
    v11 = *(v9 + 40);
    if (v11)
    {
      v12 = (v11 + 24 * *(v11 - 4));
      if (v12 == v10)
      {
        goto LABEL_22;
      }
    }

    else
    {
      if (!v10)
      {
        goto LABEL_22;
      }

      v12 = 0;
    }

    if (v12 != v10)
    {
      *v10 = -1;
      mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(v10 + 1);
      v13 = *(v9 + 40);
      v14 = vadd_s32(*(v13 - 16), 0xFFFFFFFF00000001);
      *(v13 - 16) = v14;
      v15 = *(v13 - 4);
      if (6 * v14.i32[1] < v15 && v15 >= 9)
      {
        WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash((v9 + 40), v15 >> 1, 0);
      }
    }

LABEL_22:
    v17 = *(v2 + 182);
    if (v17)
    {
      v18 = *(v2 + 44);
      v19 = *(v17 + 192);
      v21 = *(v17 + 160);
      v20 = v17 + 160;
      (*v21)(v20);
      v22 = WTF::fastMalloc(0x20);
      *v22 = &unk_1F1135550;
      *(v22 + 1) = v20;
      *(v22 + 2) = v20;
      *(v22 + 3) = v18;
      v25 = v22;
      (*(*v19 + 48))(v19, &v25);
      this = v25;
      v25 = 0;
      if (this)
      {
        return (*(*this + 8))(this);
      }

      return this;
    }

LABEL_26:
    __break(0xC471u);
    JUMPOUT(0x19E425F98);
  }

  return this;
}

atomic_ullong *WebKit::RemoteRealtimeMediaSource::applyConstraints(uint64_t a1, const WebCore::MediaTrackConstraintSetMap *a2, IPC::Encoder **a3)
{
  std::optional<WebCore::MediaConstraints>::operator=[abi:sn200100]<WebCore::MediaConstraints const&,void>(a1 + 1464, a2);

  return WebKit::RemoteRealtimeMediaSourceProxy::applyConstraints(a1 + 352, a2, a3);
}

atomic_ullong *WebKit::RemoteRealtimeMediaSourceProxy::applyConstraints(uint64_t a1, const WebCore::MediaTrackConstraintSetMap *a2, IPC::Encoder **a3)
{
  v5 = *a3;
  *a3 = 0;
  v38 = v5;
  WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap(v39, a2);
  result = WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&v40, a2 + 944);
  v43 = *(a2 + 960);
  v7 = *(a1 + 1032);
  v8 = *(a1 + 1040);
  if (v7)
  {
    if (v8 + 1 != v7)
    {
      goto LABEL_29;
    }

    LODWORD(v9) = *(a1 + 1056);
    goto LABEL_9;
  }

  v9 = *(a1 + 1056);
  if (!v8)
  {
    if (v9)
    {
      v8 = 0;
      goto LABEL_29;
    }

LABEL_9:
    v10 = v9;
    v11 = (v9 >> 2) + v9;
    if (v11 >= 0x4325C5)
    {
LABEL_44:
      __break(0xC471u);
      return result;
    }

    v12 = *(a1 + 1048);
    if (v11 <= 0xF)
    {
      v11 = 15;
    }

    v13 = 976 * v11 + 976;
    result = WTF::fastMalloc((976 * v11 + 976));
    *(a1 + 1056) = v13 / 0x3D0;
    *(a1 + 1048) = result;
    v14 = *(a1 + 1032);
    v15 = *(a1 + 1040);
    v16 = v15 - v14;
    if (v15 >= v14)
    {
      if (v10 < v14)
      {
        goto LABEL_43;
      }

      if (v16 == -1)
      {
        v16 = v10 - v14;
      }

      else if (v10 - v14 < v16)
      {
        goto LABEL_43;
      }

      if (v14 > v13 / 0x3D0)
      {
LABEL_43:
        __break(1u);
        goto LABEL_44;
      }

      result = WTF::VectorMover<false,std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::move(v12 + 976 * v14, v12 + 976 * v14 + 976 * v16, &result[122 * v14]);
      if (!v12)
      {
        goto LABEL_28;
      }
    }

    else
    {
      if (v15 > v10)
      {
        goto LABEL_43;
      }

      result = WTF::VectorMover<false,std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::move(v12, v12 + 976 * v15, result);
      v17 = *(a1 + 1032);
      if (v10 < v17)
      {
        goto LABEL_43;
      }

      v18 = *(a1 + 1056);
      if (v18 < v10 - v17)
      {
        goto LABEL_43;
      }

      v19 = v18 - (v10 - v17);
      result = WTF::VectorMover<false,std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::move(v12 + 976 * v17, v12 + 976 * v10, *(a1 + 1048) + 976 * v19);
      *(a1 + 1032) = v19;
      if (!v12)
      {
        goto LABEL_28;
      }
    }

    if (*(a1 + 1048) == v12)
    {
      *(a1 + 1048) = 0;
      *(a1 + 1056) = 0;
    }

    result = WTF::fastFree(v12, v20);
LABEL_28:
    v8 = *(a1 + 1040);
    goto LABEL_29;
  }

  if (v8 == v9 - 1)
  {
    goto LABEL_9;
  }

LABEL_29:
  if (v8 >= *(a1 + 1056))
  {
    goto LABEL_43;
  }

  v21 = v38;
  v22 = *(a1 + 1048) + 976 * v8;
  v38 = 0;
  *v22 = v21;
  WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap(v22 + 8, v39);
  *(v22 + 952) = 0u;
  v24 = v40;
  v40 = 0;
  *(v22 + 952) = v24;
  LODWORD(v24) = v41;
  v41 = 0;
  *(v22 + 960) = v24;
  LODWORD(v24) = v42;
  v42 = 0;
  *(v22 + 964) = v24;
  *(v22 + 968) = v43;
  v25 = *(a1 + 1040);
  if (v25 == *(a1 + 1056) - 1)
  {
    v26 = 0;
  }

  else
  {
    v26 = v25 + 1;
  }

  *(a1 + 1040) = v26;
  WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v40, v23);
  WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap(v39, v27);
  v29 = v38;
  v38 = 0;
  if (v29)
  {
    (*(*v29 + 8))(v29);
  }

  v30 = *(a1 + 8);
  while (1)
  {
    v31 = *v30;
    if ((*v30 & 1) == 0)
    {
      break;
    }

    v32 = *v30;
    atomic_compare_exchange_strong_explicit(v30, &v32, v31 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v32 == v31)
    {
      goto LABEL_40;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v30);
LABEL_40:
  v33 = IPC::Encoder::operator new(0x238, v28);
  *v33 = 1756;
  *(v33 + 68) = 0;
  *(v33 + 70) = 0;
  *(v33 + 69) = 0;
  *(v33 + 2) = 0;
  *(v33 + 3) = 0;
  *(v33 + 1) = 0;
  IPC::Encoder::encodeHeader(v33);
  v38 = v33;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v33, *a1);
  IPC::ArgumentCoder<WebCore::MediaConstraints,void>::encode(v33, a2);
  IPC::Connection::sendMessageImpl(v30, &v38, 0, 0);
  v35 = v38;
  v38 = 0;
  if (v35)
  {
    IPC::Encoder::~Encoder(v35, v34);
    bmalloc::api::tzoneFree(v36, v37);
  }

  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v30);
}

uint64_t WebKit::RemoteRealtimeMediaSource::gpuProcessConnectionDidClose(uint64_t this, WebKit::GPUProcessConnection *a2)
{
  if ((*(this + 326) & 1) == 0)
  {
    v2 = this;
    WebKit::getSourceConnection(&v17, *(this + 408));
    v3 = *(v2 + 360);
    *(v2 + 360) = v17;
    if (v3)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v3);
    }

    v4 = *(v2 + 1456);
    if (!v4)
    {
      this = 120;
      __break(0xC471u);
      goto LABEL_31;
    }

    v5 = *(v2 + 360);
    do
    {
      v6 = *v5;
      if ((*v5 & 1) == 0)
      {
        WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v5);
        break;
      }

      v7 = *v5;
      atomic_compare_exchange_strong_explicit(v5, &v7, v6 + 2, memory_order_relaxed, memory_order_relaxed);
    }

    while (v7 != v6);
    while (1)
    {
      v8 = *v5;
      if ((*v5 & 1) == 0)
      {
        break;
      }

      v9 = *v5;
      atomic_compare_exchange_strong_explicit(v5, &v9, v8 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v9 == v8)
      {
        goto LABEL_14;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v5);
LABEL_14:
    v17 = v5;
    WebKit::RemoteCaptureSampleManager::setConnection(v4 + 160, &v17);
    if (v17)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v17);
    }

    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v5);
    *(v2 + 1416) = 0;
    WebKit::RemoteRealtimeMediaSource::createRemoteMediaSource(v2);
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    v10 = v17;
    v16 = v17;
    WebKit::RemoteRealtimeMediaSourceProxy::failApplyConstraintCallbacks(v2 + 352, &v16);
    if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v10, v11);
    }

    if (*(v2 + 2432) == 1)
    {
      v12 = WTF::fastMalloc(0x10);
      *v12 = &unk_1F11355F0;
      v17 = v12;
      WebKit::RemoteRealtimeMediaSourceProxy::applyConstraints(v2 + 352, (v2 + 1464), &v17);
      if (v17)
      {
        (*(*v17 + 8))(v17);
      }
    }

    this = (*(*v2 + 64))(v2);
    if (this)
    {
      v13 = *(v2 + 80);
      if (v13)
      {
        return WebKit::RemoteRealtimeMediaSourceProxy::startProducingData(v2 + 352, v13);
      }

      goto LABEL_31;
    }

    if ((*(v2 + 128) & 1) == 0 && (*(v2 + 1448) & 1) == 0)
    {
      v14 = *(v2 + 80);
      if (v14)
      {
        WebKit::RemoteRealtimeMediaSourceProxy::startProducingData(v2 + 352, v14);
        return WebKit::RemoteRealtimeMediaSource::stopProducingData(v2, v15);
      }

LABEL_31:
      __break(1u);
    }
  }

  return this;
}

uint64_t WebKit::RemoteRealtimeMediaSourceProxy::failApplyConstraintCallbacks(uint64_t this, atomic_uint **a2)
{
  v2 = *(this + 1032);
  v3 = *(this + 1040);
  *(this + 1032) = 0u;
  v4 = *(this + 1048);
  *(this + 1048) = 0;
  v5 = *(this + 1056);
  *(this + 1056) = 0;
  if (v2 != v3)
  {
    while (v2 < v5)
    {
      v7 = v4 + 976 * v2;
      v8 = *v7;
      *v7 = 0;
      v19 = v8;
      WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap(v20, v7 + 8);
      v9 = *(v7 + 952);
      *(v7 + 952) = 0;
      v21 = v9;
      LODWORD(v9) = *(v7 + 960);
      *(v7 + 960) = 0;
      v22 = v9;
      LODWORD(v9) = *(v7 + 964);
      *(v7 + 964) = 0;
      v23 = v9;
      v24 = *(v7 + 968);
      WTF::VectorTypeOperations<std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::destruct(v7, 1);
      if (v2 == v5 - 1)
      {
        v2 = 0;
      }

      else
      {
        ++v2;
      }

      v10 = *a2;
      if (*a2)
      {
        atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
      }

      v16[0] = 0;
      v17 = v10;
      v18 = 1;
      v11 = v19;
      v19 = 0;
      (*(*v11 + 16))(v11, v16);
      (*(*v11 + 8))(v11);
      if (v18 == 1)
      {
        v13 = v17;
        v17 = 0;
        if (v13)
        {
          if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v13, v12);
          }
        }
      }

      WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v21, v12);
      WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap(v20, v14);
      this = v19;
      v19 = 0;
      if (this)
      {
        this = (*(*this + 8))(this);
      }

      if (v2 == v3)
      {
        v2 = v3;
        goto LABEL_16;
      }
    }

    goto LABEL_20;
  }

LABEL_16:
  if (v2 > v5)
  {
LABEL_20:
    __break(1u);
    return this;
  }

  this = WTF::VectorTypeOperations<std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::destruct(v4 + 976 * v2, 0);
  if (v4)
  {
    return WTF::fastFree(v4, v15);
  }

  return this;
}

atomic_ullong *WebKit::RemoteRealtimeMediaSource::startProducingData(atomic_ullong *this)
{
  v1 = this[10];
  if (v1)
  {
    return WebKit::RemoteRealtimeMediaSourceProxy::startProducingData((this + 44), v1);
  }

  __break(1u);
  return this;
}

uint64_t WebKit::RemoteRealtimeMediaSourceProxy::RemoteRealtimeMediaSourceProxy(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5)
{
  v6 = a4;
  *a1 = a2;
  WebKit::getSourceConnection((a1 + 8), a4);
  v9 = *a3;
  if (*a3)
  {
    atomic_fetch_add_explicit(v9, 2u, memory_order_relaxed);
  }

  *(a1 + 16) = v9;
  *(a1 + 24) = *(a3 + 8);
  v10 = *(a3 + 16);
  if (v10)
  {
    atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
  }

  *(a1 + 32) = v10;
  v11 = *(a3 + 24);
  if (v11)
  {
    atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
  }

  *(a1 + 40) = v11;
  *(a1 + 48) = *(a3 + 32);
  *(a1 + 56) = v6;
  WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap((a1 + 64));
  *(a1 + 1024) = 0;
  *(a1 + 1008) = 0u;
  *(a1 + 1096) = 0;
  *(a1 + 1032) = 0u;
  *(a1 + 1048) = 0u;
  *(a1 + 1064) = 0;
  *(a1 + 1072) = 0u;
  *(a1 + 1088) = 0;
  if (a5)
  {
    WebCore::MediaTrackConstraintSetMap::operator=((a1 + 64), a5);
    WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=((a1 + 1008), (a5 + 944));
    *(a1 + 1024) = *(a5 + 960);
  }

  return a1;
}

void *WebKit::getSourceConnection(WebKit *this, void *a2)
{
  {
    result = WebKit::WebProcess::singleton(void)::process;
    if (a2)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v10 = a2;
    v7 = WebKit::WebProcess::operator new(0x370, a2);
    result = WebKit::WebProcess::WebProcess(v7);
    WebKit::WebProcess::singleton(void)::process = result;
    if (v10)
    {
LABEL_3:
      result = WebKit::WebProcess::ensureGPUProcessConnection(result);
      v4 = *(result + 4);
      while (1)
      {
        v5 = *v4;
        if ((*v4 & 1) == 0)
        {
          goto LABEL_12;
        }

        v6 = *v4;
        atomic_compare_exchange_strong_explicit(v4, &v6, v5 + 2, memory_order_relaxed, memory_order_relaxed);
        if (v6 == v5)
        {
          goto LABEL_13;
        }
      }
    }
  }

  v4 = *(result + 5);
  while (1)
  {
    v8 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v9 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v9, v8 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v9 == v8)
    {
      goto LABEL_13;
    }
  }

LABEL_12:
  result = WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_13:
  *this = v4;
  return result;
}

void WebKit::RemoteRealtimeMediaSourceProxy::~RemoteRealtimeMediaSourceProxy(WebKit::RemoteRealtimeMediaSourceProxy *this)
{
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  v2 = v20;
  v19 = v20;
  WebKit::RemoteRealtimeMediaSourceProxy::failApplyConstraintCallbacks(this, &v19);
  if (v2 && atomic_fetch_add_explicit(v2, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v2, v3);
  }

  v4 = *(this + 135);
  *(this + 135) = 0;
  if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, v3);
  }

  v5 = *(this + 134);
  *(this + 134) = 0;
  if (v5)
  {
    (*(*v5 + 8))(v5);
  }

  v6 = *(this + 131);
  v7 = *(this + 264);
  v8 = *(this + 129);
  v9 = *(this + 130);
  v10 = &v9[-v8];
  if (v9 >= v8)
  {
    v9 = (v7 - v8);
    if (v7 >= v8)
    {
      if (v10 == -1)
      {
LABEL_17:
        v10 = v9;
        goto LABEL_18;
      }

      if (v9 >= v10)
      {
        goto LABEL_18;
      }
    }

LABEL_16:
    __break(1u);
    goto LABEL_17;
  }

  if (v9 > v7)
  {
    goto LABEL_16;
  }

  WTF::VectorTypeOperations<std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::destruct(*(this + 131), *(this + 130));
  v8 = *(this + 129);
  v10 = (v7 - v8);
  if (v7 < v8)
  {
    goto LABEL_16;
  }

LABEL_18:
  WTF::VectorTypeOperations<std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::destruct(v6 + 976 * v8, v10);
  v12 = *(this + 131);
  if (v12)
  {
    *(this + 131) = 0;
    *(this + 264) = 0;
    WTF::fastFree(v12, v11);
  }

  WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 1008, v11);
  WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap((this + 64), v13);
  v15 = *(this + 5);
  *(this + 5) = 0;
  if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v15, v14);
  }

  v16 = *(this + 4);
  *(this + 4) = 0;
  if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v16, v14);
  }

  v17 = *(this + 2);
  *(this + 2) = 0;
  if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v17, v14);
  }

  v18 = *(this + 1);
  *(this + 1) = 0;
  if (v18)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v18);
  }
}

atomic_ullong *WebKit::RemoteRealtimeMediaSourceProxy::startProducingData(uint64_t a1, void *a2)
{
  *(a1 + 1096) = 0;
  v4 = *(a1 + 8);
  while (1)
  {
    v5 = *v4;
    if ((*v4 & 1) == 0)
    {
      break;
    }

    v6 = *v4;
    atomic_compare_exchange_strong_explicit(v4, &v6, v5 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v6 == v5)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v4);
LABEL_6:
  v7 = IPC::Encoder::operator new(0x238, a2);
  *v7 = 1765;
  *(v7 + 68) = 0;
  *(v7 + 70) = 0;
  *(v7 + 69) = 0;
  *(v7 + 2) = 0;
  *(v7 + 3) = 0;
  *(v7 + 1) = 0;
  IPC::Encoder::encodeHeader(v7);
  v13 = v7;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v7, *a1);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v7, a2);
  IPC::Connection::sendMessageImpl(v4, &v13, 0, 0);
  v9 = v13;
  v13 = 0;
  if (v9)
  {
    IPC::Encoder::~Encoder(v9, v8);
    bmalloc::api::tzoneFree(v11, v12);
  }

  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v4);
}

uint64_t WebKit::RemoteRealtimeVideoSource::create(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  v12 = WTF::fastMalloc(0xB70);
  if (WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
  {
    result = 141;
    __break(0xC471u);
  }

  else
  {
    v13 = v12;
    IdentifierInternal = WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>::generateIdentifierInternal();
    WebKit::RemoteRealtimeMediaSource::RemoteRealtimeMediaSource(v13, IdentifierInternal, a2, a3, a4, a5, a6);
    *v13 = &unk_1F11350D0;
    *(v13 + 8) = &unk_1F11352A0;
    *(v13 + 336) = &unk_1F11352E0;
    *(v13 + 2888) = 0u;
    *(v13 + 2904) = 0u;
    *(v13 + 2920) = 0;
    while (1)
    {
      v15 = *(v13 + 344);
      if ((v15 & 1) == 0)
      {
        break;
      }

      v16 = *(v13 + 344);
      atomic_compare_exchange_strong_explicit((v13 + 344), &v16, v15 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v16 == v15)
      {
        goto LABEL_7;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v13 + 344));
LABEL_7:
    v20 = v13;
    WebKit::UserMediaCaptureManager::addSource(a5, &v20);
    if (v20)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v20 + 344));
    }

    while (1)
    {
      v17 = *(v13 + 344);
      if ((v17 & 1) == 0)
      {
        break;
      }

      v18 = *(v13 + 344);
      atomic_compare_exchange_strong_explicit((v13 + 344), &v18, v17 + 2, memory_order_relaxed, memory_order_relaxed);
      if (v18 == v17)
      {
        goto LABEL_13;
      }
    }

    WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v13 + 344));
LABEL_13:
    v20 = v13;
    WebKit::RemoteCaptureSampleManager::addSource(a5 + 160, &v20);
    if (v20)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v20 + 344));
    }

    result = WebKit::RemoteRealtimeMediaSource::createRemoteMediaSource(v13);
    *a1 = v13;
  }

  return result;
}

uint64_t *WebKit::UserMediaCaptureManager::addSource(uint64_t a1, uint64_t *a2)
{
  v2 = *a2;
  v7 = *(*a2 + 352);
  *a2 = 0;
  v5 = v2;
  v6 = 2;
  WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>(&v4, (a1 + 40), &v7, &v5);
  return mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(&v5);
}

void WebKit::RemoteRealtimeVideoSource::~RemoteRealtimeVideoSource(WebKit::RemoteRealtimeVideoSource *this, void *a2)
{
  v3 = *(this + 728);
  v4 = *(this + 361);
  v5 = *(this + 362);
  v6 = v5 - v4;
  if (v5 >= v4)
  {
    v8 = v3 >= v4;
    v7 = v3 - v4;
    if (!v8)
    {
      goto LABEL_17;
    }

    v8 = v6 == -1 || v7 >= v6;
    if (!v8)
    {
      goto LABEL_17;
    }
  }

  else if (v5 > v3 || v3 < v4)
  {
LABEL_17:
    __break(1u);
    return;
  }

  v9 = *(this + 363);
  if (v9)
  {
    *(this + 363) = 0;
    *(this + 728) = 0;
    WTF::fastFree(v9, a2);
  }

  WebKit::RemoteRealtimeMediaSource::~RemoteRealtimeMediaSource(this, a2);
}

{
  WebKit::RemoteRealtimeVideoSource::~RemoteRealtimeVideoSource(this, a2);

  WTF::fastFree(v2, v3);
}

void non-virtual thunk toWebKit::RemoteRealtimeVideoSource::~RemoteRealtimeVideoSource(WebKit::RemoteRealtimeVideoSource *this, void *a2)
{
  WebKit::RemoteRealtimeVideoSource::~RemoteRealtimeVideoSource((this - 8), a2);
}

{
  WebKit::RemoteRealtimeVideoSource::~RemoteRealtimeVideoSource((this - 336), a2);
}

{
  WebKit::RemoteRealtimeVideoSource::~RemoteRealtimeVideoSource((this - 8), a2);

  WTF::fastFree(v2, v3);
}

{
  WebKit::RemoteRealtimeVideoSource::~RemoteRealtimeVideoSource((this - 336), a2);

  WTF::fastFree(v2, v3);
}

uint64_t WebKit::RemoteRealtimeVideoSource::setShouldApplyRotation(WebKit::RemoteRealtimeVideoSource *this, void *a2)
{
  v3 = *(this + 44);
  v2 = *(this + 45);
  v4 = IPC::Encoder::operator new(0x238, a2);
  *v4 = 1764;
  *(v4 + 68) = 0;
  *(v4 + 70) = 0;
  *(v4 + 69) = 0;
  *(v4 + 2) = 0;
  *(v4 + 3) = 0;
  *(v4 + 1) = 0;
  IPC::Encoder::encodeHeader(v4);
  v10 = v4;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v4, v3);
  IPC::Connection::sendMessageImpl(v2, &v10, 0, 0);
  v6 = v10;
  v10 = 0;
  if (v6)
  {
    IPC::Encoder::~Encoder(v6, v5);
    bmalloc::api::tzoneFree(v8, v9);
  }

  return 1;
}

uint64_t WebKit::RemoteRealtimeVideoSource::clone@<X0>(WebKit::RemoteRealtimeVideoSource *this@<X0>, void *a2@<X8>)
{
  v7 = 0;
  v4 = WTF::fastMalloc(0x18);
  *v4 = &unk_1F11357A8;
  v4[1] = this;
  v4[2] = &v7;
  v6 = v4;
  WTF::callOnMainRunLoopAndWait();
  result = v6;
  if (v6)
  {
    result = (*(*v6 + 8))(v6);
  }

  *a2 = v7;
  return result;
}

void WebKit::UserMediaCaptureManager::~UserMediaCaptureManager(unsigned int **this)
{
  v2 = WebCore::RealtimeMediaSourceCenter::singleton(this);
  v3 = WebCore::RealtimeMediaSourceCenter::unsetAudioCaptureFactory(v2, (this + 9));
  WebCore::RealtimeMediaSourceCenter::singleton(v3);
  v4 = WebCore::RealtimeMediaSourceCenter::unsetDisplayCaptureFactory();
  WebCore::RealtimeMediaSourceCenter::singleton(v4);
  WebCore::RealtimeMediaSourceCenter::unsetVideoCaptureFactory();
  v5 = this[4];
  if (!v5)
  {
    __break(0xC471u);
    goto LABEL_34;
  }

  IPC::MessageReceiverMap::removeMessageReceiver(v5 + 6, 0x94u);
  if (*(this + 184) == 1)
  {
    {
      v7 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v24 = WebKit::WebProcess::operator new(0x370, v6);
      v7 = WebKit::WebProcess::WebProcess(v24);
      WebKit::WebProcess::singleton(void)::process = v7;
    }

    IPC::Connection::removeWorkQueueMessageReceiver(*(v7 + 5), 0x47u, 0);
  }

  v25 = 0;
  WebKit::RemoteCaptureSampleManager::setConnection((this + 20), &v25);
  if (v25)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v25);
  }

  WebKit::RemoteCaptureSampleManager::~RemoteCaptureSampleManager((this + 20), v8);
  v10 = this[18];
  this[17] = &unk_1F1135440;
  this[18] = 0;
  if (v10)
  {
    v11 = v10[6];
    if (!v11)
    {
      __break(0xC471u);
      JUMPOUT(0x19E427310);
    }

    v10[6] = v11 - 1;
  }

  v12 = this[15];
  this[14] = &unk_1F1135410;
  this[15] = 0;
  if (v12)
  {
    v13 = v12[6];
    if (!v13)
    {
      __break(0xC471u);
      JUMPOUT(0x19E427330);
    }

    v12[6] = v13 - 1;
  }

  this[9] = &unk_1F11353C0;
  WTF::Vector<WebCore::CaptureDevice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((this + 12), v9);
  v15 = this[10];
  this[10] = 0;
  if (v15)
  {
    v16 = v15[6];
    if (!v16)
    {
      __break(0xC471u);
      JUMPOUT(0x19E427350);
    }

    v15[6] = v16 - 1;
  }

  this[6] = &unk_1F1135470;
  WTF::Vector<WebCore::CaptureDevice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((this + 7), v14);
  WebCore::CaptureDeviceManager::~CaptureDeviceManager((this + 6));
  v18 = this[5];
  if (v18)
  {
    v19 = *(v18 - 1);
    if (v19)
    {
      v20 = (v18 + 2);
      do
      {
        if (*(v20 - 1) != -1)
        {
          v20 = mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(v20);
        }

        v20 += 3;
        --v19;
      }

      while (v19);
    }

    WTF::fastFree((v18 - 4), v17);
  }

  v21 = this[4];
  this[4] = 0;
  if (v21)
  {
    v22 = (v21 + 4);
    if (atomic_load(v22))
    {
      atomic_fetch_add(v22, 0xFFFFFFFF);
      goto LABEL_27;
    }

    __break(0xC471u);
LABEL_34:
    JUMPOUT(0x19E4272F0);
  }

LABEL_27:
  this[1] = &unk_1F10EA5E0;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 2, v17);
}

void WebKit::UserMediaCaptureManager::DisplayFactory::~DisplayFactory(WebKit::UserMediaCaptureManager::DisplayFactory *this)
{
  v1 = *(this + 1);
  *this = &unk_1F1135440;
  *(this + 1) = 0;
  if (v1)
  {
    v2 = *(v1 + 24);
    if (v2)
    {
      *(v1 + 24) = v2 - 1;
    }

    else
    {
      __break(0xC471u);
    }
  }
}

{
  v1 = *(this + 1);
  *this = &unk_1F1135440;
  *(this + 1) = 0;
  if (v1)
  {
    v2 = *(v1 + 24);
    if (v2)
    {
      *(v1 + 24) = v2 - 1;
    }

    else
    {
      __break(0xC471u);
    }
  }

  JUMPOUT(0x19EB14CF0);
}

void WebKit::UserMediaCaptureManager::VideoFactory::~VideoFactory(WebKit::UserMediaCaptureManager::VideoFactory *this)
{
  v1 = *(this + 1);
  *this = &unk_1F1135410;
  *(this + 1) = 0;
  if (v1)
  {
    v2 = *(v1 + 24);
    if (v2)
    {
      *(v1 + 24) = v2 - 1;
    }

    else
    {
      __break(0xC471u);
    }
  }
}

{
  v1 = *(this + 1);
  *this = &unk_1F1135410;
  *(this + 1) = 0;
  if (v1)
  {
    v2 = *(v1 + 24);
    if (v2)
    {
      *(v1 + 24) = v2 - 1;
    }

    else
    {
      __break(0xC471u);
    }
  }

  JUMPOUT(0x19EB14CF0);
}

void WebKit::UserMediaCaptureManager::AudioFactory::~AudioFactory(WebKit::UserMediaCaptureManager::AudioFactory *this, void *a2)
{
  *this = &unk_1F11353C0;
  WTF::Vector<WebCore::CaptureDevice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 24, a2);
  v3 = *(this + 1);
  *(this + 1) = 0;
  if (v3)
  {
    v4 = *(v3 + 24);
    if (v4)
    {
      *(v3 + 24) = v4 - 1;
    }

    else
    {
      __break(0xC471u);
    }
  }
}

{
  *this = &unk_1F11353C0;
  WTF::Vector<WebCore::CaptureDevice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 24, a2);
  v3 = *(this + 1);
  *(this + 1) = 0;
  if (v3)
  {
    v4 = *(v3 + 24);
    if (!v4)
    {
      __break(0xC471u);
      goto LABEL_8;
    }

    *(v3 + 24) = v4 - 1;
  }

LABEL_8:
  JUMPOUT(0x19EB14CF0);
}

void WebKit::UserMediaCaptureManager::NoOpCaptureDeviceManager::~NoOpCaptureDeviceManager(WebKit::UserMediaCaptureManager::NoOpCaptureDeviceManager *this, void *a2)
{
  *this = &unk_1F1135470;
  WTF::Vector<WebCore::CaptureDevice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 8, a2);

  WebCore::CaptureDeviceManager::~CaptureDeviceManager(this);
}

{
  *this = &unk_1F1135470;
  WTF::Vector<WebCore::CaptureDevice,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 8, a2);
  WebCore::CaptureDeviceManager::~CaptureDeviceManager(this);

  JUMPOUT(0x19EB14CF0);
}

void non-virtual thunk toWebKit::UserMediaCaptureManager::~UserMediaCaptureManager(unsigned int **this)
{
  WebKit::UserMediaCaptureManager::~UserMediaCaptureManager(this - 1);
}

{
  WebKit::UserMediaCaptureManager::operator delete(this - 1);
}

double WebKit::UserMediaCaptureManager::operator delete(unsigned int **a1)
{
  WebKit::UserMediaCaptureManager::~UserMediaCaptureManager(a1);
  if (*(v1 + 24))
  {
    *(v1 + 240) = 0;
    result = 0.0;
    *(v1 + 208) = 0u;
    *(v1 + 224) = 0u;
    *(v1 + 176) = 0u;
    *(v1 + 192) = 0u;
    *(v1 + 144) = 0u;
    *(v1 + 160) = 0u;
    *(v1 + 112) = 0u;
    *(v1 + 128) = 0u;
    *(v1 + 80) = 0u;
    *(v1 + 96) = 0u;
    *(v1 + 48) = 0u;
    *(v1 + 64) = 0u;
    *(v1 + 16) = 0u;
    *(v1 + 32) = 0u;
    *v1 = 0u;
  }

  else
  {

    bmalloc::api::tzoneFree(v1, v2);
  }

  return result;
}

uint64_t non-virtual thunk toWebKit::UserMediaCaptureManager::ref(uint64_t this)
{
  if (!*(this + 24))
  {
    this = 120;
    __break(0xC471u);
  }

  return this;
}

uint64_t non-virtual thunk toWebKit::UserMediaCaptureManager::deref(uint64_t this)
{
  if (!*(this + 24))
  {
    this = 120;
    __break(0xC471u);
  }

  return this;
}

WebCore::RealtimeMediaSourceCenter *WebKit::UserMediaCaptureManager::setupCaptureProcesses(WebKit::UserMediaCaptureManager *this, char a2, char a3, int a4, int a5, int a6, int a7, char a8)
{
  *(this + 240) = a8;
  v15 = WebCore::MockRealtimeMediaSourceCenter::singleton(this);
  *(v15 + 24) = (a2 | a3) ^ 1;
  v16 = WebCore::MockRealtimeMediaSourceCenter::singleton(v15);
  v17 = a4 | a5;
  *(v16 + 25) = v17 ^ 1;
  result = WebCore::MockRealtimeMediaSourceCenter::singleton(v16);
  v19 = a6 | a7;
  *(result + 26) = v19 ^ 1;
  *(this + 88) = a3;
  *(this + 128) = a5;
  *(this + 152) = a7;
  if ((((a2 | a3) ^ 1) & 1) == 0)
  {
    Function = WebCore::AudioMediaStreamTrackRendererInternalUnit::setCreateFunction();
    v21 = WebCore::RealtimeMediaSourceCenter::singleton(Function);
    result = WebCore::RealtimeMediaSourceCenter::setAudioCaptureFactory(v21, (this + 72));
  }

  if (v17)
  {
    WebCore::RealtimeMediaSourceCenter::singleton(result);
    result = WebCore::RealtimeMediaSourceCenter::setVideoCaptureFactory();
  }

  if (v19)
  {
    v22 = WebCore::RealtimeMediaSourceCenter::singleton(result);

    return MEMORY[0x1EEE59398](v22, this + 136);
  }

  return result;
}

uint64_t WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>(uint64_t result, uint64_t *a2, uint64_t *a3, uint64_t *a4)
{
  v6 = *a3;
  if (*a3 == -1 || !v6)
  {
    __break(0xC471u);
    JUMPOUT(0x19E4279D4);
  }

  v38 = v4;
  v39 = v5;
  v10 = result;
  v11 = *a2;
  if (!*a2)
  {
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(a2, 0);
    v11 = *a2;
    v6 = *a3;
  }

  v12 = *(v11 - 8);
  v13 = (v6 + ~(v6 << 32)) ^ ((v6 + ~(v6 << 32)) >> 22);
  v14 = 9 * ((v13 + ~(v13 << 13)) ^ ((v13 + ~(v13 << 13)) >> 8));
  v15 = (v14 ^ (v14 >> 15)) + ~((v14 ^ (v14 >> 15)) << 27);
  v16 = v12 & ((v15 >> 31) ^ v15);
  v17 = v11 + 24 * v16;
  v18 = *v17;
  if (*v17)
  {
    v19 = 0;
    v20 = 1;
    do
    {
      if (v18 == v6)
      {
        v22 = 0;
        v23 = v11 + 24 * *(v11 - 4);
        goto LABEL_54;
      }

      if (v18 == -1)
      {
        v19 = v17;
      }

      v16 = (v16 + v20) & v12;
      v17 = v11 + 24 * v16;
      v18 = *v17;
      ++v20;
    }

    while (*v17);
    if (v19)
    {
      *v19 = 0;
      *(v19 + 8) = 0;
      *(v19 + 16) = 0;
      --*(*a2 - 16);
      v6 = *a3;
      v17 = v19;
    }
  }

  *v17 = v6;
  LOBYTE(v36) = 0;
  v37 = -1;
  v21 = *(a4 + 8);
  if (v21 == 255)
  {
    if (*(v17 + 16) > 1u)
    {
      if (*(v17 + 16) != 2)
      {
        goto LABEL_45;
      }
    }

    else if (!*(v17 + 16))
    {
LABEL_34:
      v29 = -1;
LABEL_44:
      *(v17 + 16) = v29;
      goto LABEL_45;
    }

    v28 = *(v17 + 8);
    *(v17 + 8) = 0;
    if (v28)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v28 + 344));
    }

    goto LABEL_34;
  }

  if (!*(a4 + 8))
  {
    v36 = 0;
    v37 = 0;
    if (*(v17 + 16) > 1u)
    {
      if (*(v17 + 16) != 2)
      {
LABEL_30:
        *(v17 + 8) = 0;
        *(v17 + 16) = 0;
        goto LABEL_45;
      }
    }

    else if (!*(v17 + 16))
    {
      *(v17 + 8) = 0;
      goto LABEL_45;
    }

    v27 = *(v17 + 8);
    *(v17 + 8) = 0;
    if (v27)
    {
      WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v27 + 344));
    }

    goto LABEL_30;
  }

  v24 = *a4;
  *a4 = 0;
  v37 = v21;
  v25 = *(v17 + 16);
  if (v21 != 2)
  {
    if (*(v17 + 16) > 1u)
    {
      if (v25 == 2)
      {
        v30 = *(v17 + 8);
        *(v17 + 8) = 0;
        if (v30)
        {
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v30 + 344));
        }
      }
    }

    else if (*(v17 + 16))
    {
      goto LABEL_55;
    }

    v36 = 0;
    *(v17 + 8) = v24;
    v29 = 1;
    goto LABEL_44;
  }

  if (*(v17 + 16) <= 1u)
  {
    if (*(v17 + 16))
    {
      v26 = *(v17 + 8);
      *(v17 + 8) = 0;
      if (v26)
      {
        WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v26 + 344));
      }
    }

    goto LABEL_39;
  }

  if (v25 == 255)
  {
LABEL_39:
    v36 = 0;
    *(v17 + 8) = v24;
    v29 = 2;
    goto LABEL_44;
  }

LABEL_55:
  v36 = 0;
  v35 = *(v17 + 8);
  *(v17 + 8) = v24;
  if (v35)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v35 + 344));
  }

LABEL_45:
  result = mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(&v36);
  v31 = *a2;
  if (*a2)
  {
    v32 = *(v31 - 12) + 1;
  }

  else
  {
    v32 = 1;
  }

  *(v31 - 12) = v32;
  v33 = (*(v31 - 16) + v32);
  v34 = *(v31 - 4);
  if (v34 > 0x400)
  {
    if (v34 <= 2 * v33)
    {
LABEL_50:
      result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(a2, v17);
      v17 = result;
      v31 = *a2;
      if (*a2)
      {
        LODWORD(v34) = *(v31 - 4);
      }

      else
      {
        LODWORD(v34) = 0;
      }
    }
  }

  else if (3 * v34 <= 4 * v33)
  {
    goto LABEL_50;
  }

  v23 = v31 + 24 * v34;
  v22 = 1;
LABEL_54:
  *v10 = v17;
  *(v10 + 8) = v23;
  *(v10 + 16) = v22;
  return result;
}

uint64_t *mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(uint64_t *a1)
{
  if (*(a1 + 8) > 1u)
  {
    if (*(a1 + 8) != 2)
    {
      goto LABEL_7;
    }
  }

  else if (!*(a1 + 8))
  {
    goto LABEL_7;
  }

  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v2 + 344));
  }

LABEL_7:
  *(a1 + 8) = -1;
  return a1;
}

uint64_t *WebKit::UserMediaCaptureManager::sourceStopped(uint64_t a1, uint64_t a2, int a3)
{
  v10 = a2;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( (a1 + 40),  &v10);
  v6 = *(a1 + 40);
  if (v6)
  {
    v6 += 3 * *(v6 - 1);
  }

  if (v6 != result)
  {
    v7 = *(result + 16);
    if (v7 == 255)
    {
      v8 = -1;
    }

    else
    {
      v8 = *(result + 16);
    }

    if (v8 == 2)
    {
      if (v7 != 2)
      {
        goto LABEL_15;
      }

LABEL_12:
      v9 = result[1];
      if (a3)
      {
        return (*(*v9 + 224))(v9);
      }

      else
      {
        return WebCore::RealtimeMediaSource::end(v9, 0);
      }
    }

    if (v8 == 1)
    {
      if (v7 != 1)
      {
LABEL_15:
        mpark::throw_bad_variant_access(result);
      }

      goto LABEL_12;
    }

    if (*(result + 16))
    {
      goto LABEL_15;
    }
  }

  return result;
}

uint64_t *WebKit::UserMediaCaptureManager::sourceMutedChanged(uint64_t a1, uint64_t a2, uint64_t a3, char a4)
{
  v11 = a2;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( (a1 + 40),  &v11);
  v7 = *(a1 + 40);
  if (v7)
  {
    v7 += 3 * *(v7 - 1);
  }

  if (v7 != result)
  {
    v8 = *(result + 16);
    if (v8 == 255)
    {
      v9 = -1;
    }

    else
    {
      v9 = *(result + 16);
    }

    if (v9 == 2)
    {
      if (v8 != 2)
      {
        goto LABEL_15;
      }

LABEL_12:
      v10 = result[1];
      *(v10 + 1448) = a4;
      return WebCore::RealtimeMediaSource::notifyMutedChange(v10);
    }

    if (v9 == 1)
    {
      if (v8 != 1)
      {
LABEL_15:
        mpark::throw_bad_variant_access(result);
      }

      goto LABEL_12;
    }

    if (*(result + 16))
    {
      goto LABEL_15;
    }
  }

  return result;
}

uint64_t *WebKit::UserMediaCaptureManager::sourceSettingsChanged(uint64_t a1, uint64_t a2, __int128 *a3)
{
  v9 = a2;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( (a1 + 40),  &v9);
  v6 = *(a1 + 40);
  if (v6)
  {
    v6 += 3 * *(v6 - 1);
  }

  if (v6 != result)
  {
    v7 = *(result + 16);
    if (v7 == 255)
    {
      v8 = -1;
    }

    else
    {
      v8 = *(result + 16);
    }

    if (v8 == 2)
    {
      if (v7 != 2)
      {
        goto LABEL_15;
      }

      return WebKit::RemoteRealtimeMediaSource::setSettings(result[1], a3);
    }

    if (v8 == 1)
    {
      if (v7 != 1)
      {
LABEL_15:
        mpark::throw_bad_variant_access(result);
      }

      return WebKit::RemoteRealtimeMediaSource::setSettings(result[1], a3);
    }

    if (*(result + 16))
    {
      goto LABEL_15;
    }
  }

  return result;
}

uint64_t *WebKit::UserMediaCaptureManager::sourceConfigurationChanged(uint64_t a1, uint64_t a2, const WTF::String *a3, __int128 *a4, __int128 *a5)
{
  v17 = a2;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( (a1 + 40),  &v17);
  v10 = *(a1 + 40);
  if (v10)
  {
    v10 += 3 * *(v10 - 1);
  }

  if (v10 != result)
  {
    v11 = *(result + 16);
    if (v11 == 255)
    {
      v12 = -1;
    }

    else
    {
      v12 = *(result + 16);
    }

    if (v12 == 2)
    {
      if (v11 != 2)
      {
        goto LABEL_20;
      }

LABEL_12:
      v13 = result[1];
      WebCore::RealtimeMediaSource::setPersistentId(v13, a3);
      WebKit::RemoteRealtimeMediaSource::setSettings(v13, a4);
      WebKit::RemoteRealtimeMediaSource::setCapabilities(v13, a5);
      v15 = *(v13 + 355);
      if (v15)
      {
        atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
      }

      v16 = *(v13 + 17);
      *(v13 + 17) = v15;
      if (v16)
      {
        if (atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v16, v14);
        }
      }

      return WebCore::RealtimeMediaSource::configurationChanged(v13);
    }

    if (v12 == 1)
    {
      if (v11 != 1)
      {
LABEL_20:
        mpark::throw_bad_variant_access(result);
      }

      goto LABEL_12;
    }

    if (*(result + 16))
    {
      goto LABEL_20;
    }
  }

  return result;
}

uint64_t WebKit::UserMediaCaptureManager::applyConstraintsSucceeded(uint64_t a1, uint64_t a2, __int128 *a3)
{
  v41 = a2;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( (a1 + 40),  &v41);
  v6 = *(a1 + 40);
  if (v6)
  {
    v6 += 24 * *(v6 - 4);
  }

  if (v6 != result)
  {
    v7 = *(result + 16);
    if (v7 == 255)
    {
      v8 = -1;
    }

    else
    {
      v8 = *(result + 16);
    }

    if (v8 == 2)
    {
      if (v7 != 2)
      {
        goto LABEL_22;
      }

      goto LABEL_12;
    }

    if (v8 == 1)
    {
      if (v7 != 1)
      {
LABEL_22:
        mpark::throw_bad_variant_access(result);
      }

LABEL_12:
      v9 = *(result + 8);
      WebKit::RemoteRealtimeMediaSource::setSettings(v9, a3);
      v10 = *(v9 + 1384);
      if (v10 < *(v9 + 1408))
      {
        v11 = *(v9 + 1400) + 976 * v10;
        v12 = *v11;
        *v11 = 0;
        v45 = v12;
        WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap(&v46, v11 + 8);
        v13 = *(v11 + 952);
        *(v11 + 952) = 0;
        *&v101 = v13;
        LODWORD(v13) = *(v11 + 960);
        *(v11 + 960) = 0;
        DWORD2(v101) = v13;
        LODWORD(v13) = *(v11 + 964);
        *(v11 + 964) = 0;
        HIDWORD(v101) = v13;
        v102 = *(v11 + 968);
        v14 = *(v9 + 1384);
        if (v14 == *(v9 + 1392))
        {
LABEL_117:
          result = 513;
          __break(0xC471u);
          return result;
        }

        if (v14 < *(v9 + 1408))
        {
          WTF::VectorTypeOperations<std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::destruct(*(v9 + 1400) + 976 * v14, 1);
          v15 = *(v9 + 1384);
          if (v15 == *(v9 + 1408) - 1)
          {
            v16 = 0;
          }

          else
          {
            v16 = v15 + 1;
          }

          *(v9 + 1384) = v16;
          if (*(v9 + 464) == v49)
          {
            if (*(v9 + 464))
            {
              *(v9 + 424) = v47;
              *(v9 + 428) = v48[0];
              *(v9 + 441) = *(v48 + 13);
            }
          }

          else if (*(v9 + 464))
          {
            *(v9 + 464) = 0;
          }

          else
          {
            *(v9 + 424) = v47;
            *(v9 + 428) = v48[0];
            *(v9 + 441) = *(v48 + 13);
            *(v9 + 416) = &unk_1F10E7EA0;
            *(v9 + 464) = 1;
          }

          if (*(v9 + 520) == v52)
          {
            if (*(v9 + 520))
            {
              *(v9 + 480) = v50;
              *(v9 + 484) = v51[0];
              *(v9 + 497) = *(v51 + 13);
            }
          }

          else if (*(v9 + 520))
          {
            *(v9 + 520) = 0;
          }

          else
          {
            *(v9 + 480) = v50;
            *(v9 + 484) = v51[0];
            *(v9 + 497) = *(v51 + 13);
            *(v9 + 472) = &unk_1F10E7EA0;
            *(v9 + 520) = 1;
          }

          if (*(v9 + 576) == v55)
          {
            if (*(v9 + 576))
            {
              *(v9 + 536) = v53;
              *(v9 + 540) = v54[0];
              *(v9 + 553) = *(v54 + 13);
            }
          }

          else if (*(v9 + 576))
          {
            *(v9 + 576) = 0;
          }

          else
          {
            *(v9 + 536) = v53;
            *(v9 + 540) = v54[0];
            *(v9 + 553) = *(v54 + 13);
            *(v9 + 528) = &unk_1F10E7EA0;
            *(v9 + 576) = 1;
          }

          if (*(v9 + 632) == v58)
          {
            if (*(v9 + 632))
            {
              *(v9 + 592) = v56;
              *(v9 + 596) = v57[0];
              *(v9 + 609) = *(v57 + 13);
            }
          }

          else if (*(v9 + 632))
          {
            *(v9 + 632) = 0;
          }

          else
          {
            *(v9 + 592) = v56;
            *(v9 + 596) = v57[0];
            *(v9 + 609) = *(v57 + 13);
            *(v9 + 584) = &unk_1F10E7EA0;
            *(v9 + 632) = 1;
          }

          if (*(v9 + 720) == v63)
          {
            if (*(v9 + 720))
            {
              *(v9 + 648) = v59;
              v17 = v61;
              v18 = v62[0];
              *(v9 + 656) = v60;
              *(v9 + 672) = v17;
              *(v9 + 688) = v18;
              *(v9 + 697) = *(v62 + 9);
            }
          }

          else if (*(v9 + 720))
          {
            *(v9 + 720) = 0;
          }

          else
          {
            v19 = v61;
            v20 = v62[0];
            *(v9 + 656) = v60;
            *(v9 + 672) = v19;
            *(v9 + 648) = v59;
            *(v9 + 688) = v20;
            *(v9 + 697) = *(v62 + 9);
            *(v9 + 640) = &unk_1F10E7F18;
            *(v9 + 720) = 1;
          }

          if (*(v9 + 808) == v68)
          {
            if (*(v9 + 808))
            {
              *(v9 + 736) = v64;
              v21 = v66;
              *(v9 + 744) = v65;
              *(v9 + 760) = v21;
              *(v9 + 776) = v67[0];
              *(v9 + 785) = *(v67 + 9);
            }
          }

          else if (*(v9 + 808))
          {
            *(v9 + 808) = 0;
          }

          else
          {
            *(v9 + 736) = v64;
            v22 = v66;
            *(v9 + 744) = v65;
            *(v9 + 760) = v22;
            *(v9 + 776) = v67[0];
            *(v9 + 785) = *(v67 + 9);
            *(v9 + 728) = &unk_1F10E7F18;
            *(v9 + 808) = 1;
          }

          if (*(v9 + 896) == v73)
          {
            if (*(v9 + 896))
            {
              *(v9 + 824) = v69;
              v23 = v71;
              *(v9 + 832) = v70;
              *(v9 + 848) = v23;
              *(v9 + 864) = v72[0];
              *(v9 + 873) = *(v72 + 9);
            }
          }

          else if (*(v9 + 896))
          {
            *(v9 + 896) = 0;
          }

          else
          {
            *(v9 + 824) = v69;
            v24 = v71;
            *(v9 + 832) = v70;
            *(v9 + 848) = v24;
            *(v9 + 864) = v72[0];
            *(v9 + 873) = *(v72 + 9);
            *(v9 + 816) = &unk_1F10E7F18;
            *(v9 + 896) = 1;
          }

          v25 = (v9 + 913);
          if (*(v9 + 920) == v76)
          {
            if (*(v9 + 920))
            {
              *(v9 + 912) = v74;
              *v25 = v75;
            }
          }

          else if (*(v9 + 920))
          {
            *(v9 + 920) = 0;
          }

          else
          {
            *(v9 + 912) = v74;
            *(v9 + 904) = &unk_1F10E7F68;
            *v25 = v75;
            *(v9 + 920) = 1;
          }

          if (*(v9 + 944) == v79)
          {
            if (*(v9 + 944))
            {
              *(v9 + 936) = v77;
              *(v9 + 937) = v78;
            }
          }

          else if (*(v9 + 944))
          {
            *(v9 + 944) = 0;
          }

          else
          {
            *(v9 + 936) = v77;
            *(v9 + 928) = &unk_1F10E7F68;
            *(v9 + 937) = v78;
            *(v9 + 944) = 1;
          }

          if (*(v9 + 968) == v82)
          {
            if (*(v9 + 968))
            {
              *(v9 + 960) = v80;
              *(v9 + 961) = v81;
            }
          }

          else if (*(v9 + 968))
          {
            *(v9 + 968) = 0;
          }

          else
          {
            *(v9 + 960) = v80;
            *(v9 + 952) = &unk_1F10E7F68;
            *(v9 + 961) = v81;
            *(v9 + 968) = 1;
          }

          std::__optional_storage_base<WebCore::StringConstraint,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::StringConstraint,false>>((v9 + 976), &v83);
          std::__optional_storage_base<WebCore::StringConstraint,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::StringConstraint,false>>((v9 + 1032), &v84);
          std::__optional_storage_base<WebCore::StringConstraint,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::StringConstraint,false>>((v9 + 1088), &v85);
          std::__optional_storage_base<WebCore::StringConstraint,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::StringConstraint,false>>((v9 + 1144), &v86);
          if (*(v9 + 1280) == v91)
          {
            if (*(v9 + 1280))
            {
              *(v9 + 1208) = v87;
              v28 = v89;
              *(v9 + 1216) = v88;
              *(v9 + 1232) = v28;
              *(v9 + 1248) = v90[0];
              *(&v27 + 1) = *(&v90[1] + 1);
              *(v9 + 1257) = *(v90 + 9);
            }
          }

          else if (*(v9 + 1280))
          {
            *(v9 + 1280) = 0;
          }

          else
          {
            v29 = v89;
            *(v9 + 1216) = v88;
            *(v9 + 1208) = v87;
            *(v9 + 1232) = v29;
            *(v9 + 1248) = v90[0];
            *(&v27 + 1) = *(&v90[1] + 1);
            *(v9 + 1257) = *(v90 + 9);
            *(v9 + 1200) = &unk_1F10E7F18;
            *(v9 + 1280) = 1;
          }

          if (*(v9 + 1304) == v94)
          {
            if (*(v9 + 1304))
            {
              *(v9 + 1296) = v92;
              *(v9 + 1297) = v93;
            }
          }

          else if (*(v9 + 1304))
          {
            *(v9 + 1304) = 0;
          }

          else
          {
            *(v9 + 1296) = v92;
            *(v9 + 1288) = &unk_1F10E7F68;
            *(v9 + 1297) = v93;
            *(v9 + 1304) = 1;
          }

          if (*(v9 + 1328) == v97)
          {
            if (*(v9 + 1328))
            {
              *(v9 + 1320) = v95;
              *(v9 + 1321) = v96;
            }
          }

          else if (*(v9 + 1328))
          {
            *(v9 + 1328) = 0;
          }

          else
          {
            *(v9 + 1320) = v95;
            *(v9 + 1312) = &unk_1F10E7F68;
            *(v9 + 1321) = v96;
            *(v9 + 1328) = 1;
          }

          if (*(v9 + 1352) == v100)
          {
            if (*(v9 + 1352))
            {
              *(v9 + 1344) = v98;
              *(v9 + 1345) = v99;
            }
          }

          else if (*(v9 + 1352))
          {
            *(v9 + 1352) = 0;
          }

          else
          {
            *(v9 + 1344) = v98;
            *(v9 + 1336) = &unk_1F10E7F68;
            *(v9 + 1345) = v99;
            *(v9 + 1352) = 1;
          }

          v30 = *(v9 + 1372);
          if (v30)
          {
            v31 = *(v9 + 1360);
            v32 = 944 * v30;
            do
            {
              WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap(v31, v26);
              v31 = (v33 + 944);
              v32 -= 944;
            }

            while (v32);
          }

          v34 = *(v9 + 1360);
          if (v34)
          {
            *(v9 + 1360) = 0;
            *(v9 + 1368) = 0;
            WTF::fastFree(v34, v26);
          }

          *&v27 = 0;
          v35 = *(&v101 + 1);
          v36 = v101;
          v37 = v45;
          v101 = v27;
          *(v9 + 1360) = v36;
          *(v9 + 1368) = v35;
          *(v9 + 1376) = v102;
          v42[0] = 0;
          v44 = 0;
          v45 = 0;
          (*(*v37 + 16))(v37, v42);
          (*(*v37 + 8))(v37);
          if (v44 == 1)
          {
            v39 = v43;
            v43 = 0;
            if (v39)
            {
              if (atomic_fetch_add_explicit(v39, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v39, v38);
              }
            }
          }

          WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v101, v38);
          WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap(&v46, v40);
          result = v45;
          v45 = 0;
          if (result)
          {
            return (*(*result + 8))(result);
          }

          return result;
        }
      }

      __break(1u);
      goto LABEL_117;
    }

    if (*(result + 16))
    {
      goto LABEL_22;
    }
  }

  return result;
}

uint64_t WebKit::UserMediaCaptureManager::applyConstraintsFailed(uint64_t a1, uint64_t a2, char a3, WTF::StringImpl **a4)
{
  v25 = a2;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( (a1 + 40),  &v25);
  v8 = *(a1 + 40);
  if (v8)
  {
    v8 += 24 * *(v8 - 4);
  }

  if (v8 == result)
  {
    return result;
  }

  v9 = *(result + 16);
  if (v9 == 255)
  {
    v10 = -1;
  }

  else
  {
    v10 = *(result + 16);
  }

  if (v10 == 2)
  {
    if (v9 != 2)
    {
      goto LABEL_27;
    }
  }

  else
  {
    if (v10 != 1)
    {
      if (*(result + 16))
      {
        goto LABEL_27;
      }

      return result;
    }

    if (v9 != 1)
    {
LABEL_27:
      mpark::throw_bad_variant_access(result);
    }
  }

  v11 = *(result + 8);
  v12 = *(v11 + 1384);
  if (v12 >= *(v11 + 1408))
  {
    goto LABEL_26;
  }

  v13 = *(v11 + 1400) + 976 * v12;
  v14 = *v13;
  *v13 = 0;
  v26 = v14;
  result = WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap(&v27, v13 + 8);
  v15 = *(v13 + 952);
  *(v13 + 952) = 0;
  v29 = v15;
  LODWORD(v15) = *(v13 + 960);
  *(v13 + 960) = 0;
  v30 = v15;
  LODWORD(v15) = *(v13 + 964);
  *(v13 + 964) = 0;
  v31 = v15;
  v32 = *(v13 + 968);
  v16 = *(v11 + 1384);
  if (v16 == *(v11 + 1392))
  {
    result = 513;
    __break(0xC471u);
    return result;
  }

  if (v16 >= *(v11 + 1408))
  {
LABEL_26:
    __break(1u);
    goto LABEL_27;
  }

  WTF::VectorTypeOperations<std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::destruct(*(v11 + 1400) + 976 * v16, 1);
  v18 = *(v11 + 1384);
  if (v18 == *(v11 + 1408) - 1)
  {
    v19 = 0;
  }

  else
  {
    v19 = v18 + 1;
  }

  *(v11 + 1384) = v19;
  v20 = v26;
  v26 = 0;
  WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v29, v17);
  WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap(&v27, v21);
  v22 = v26;
  v26 = 0;
  if (v22)
  {
    (*(*v22 + 8))(v22);
  }

  v23 = *a4;
  *a4 = 0;
  LOBYTE(v26) = a3;
  v27 = v23;
  v28 = 1;
  (*(*v20 + 16))(v20, &v26);
  result = (*(*v20 + 8))(v20);
  if (v28 == 1)
  {
    result = v27;
    v27 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v24);
      }
    }
  }

  return result;
}

atomic_ullong *WebKit::UserMediaCaptureManager::AudioFactory::createAudioCaptureSource@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>)
{
  if (*(a1 + 16) == 1)
  {
    MEMORY[0x19EB0B7F0](1);
  }

  v10 = *(a1 + 8);
  if (!v10 || (v11 = *(a1 + 16), v12 = WTF::fastMalloc(0xBA0), WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1))
  {
    __break(0xC471u);
    JUMPOUT(0x19E428CD8);
  }

  v13 = v12;
  IdentifierInternal = WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>::generateIdentifierInternal();
  WebKit::RemoteRealtimeMediaSource::RemoteRealtimeMediaSource(v13, IdentifierInternal, a2, a4, a3, v10, v11);
  *v13 = &unk_1F1134C20;
  *(v13 + 8) = &unk_1F1134DF0;
  *(v13 + 336) = &unk_1F1134E30;
  *(v13 + 2888) = 0;
  *(v13 + 2968) = 0;
  while (1)
  {
    v15 = *(v13 + 344);
    if ((v15 & 1) == 0)
    {
      break;
    }

    v16 = *(v13 + 344);
    atomic_compare_exchange_strong_explicit((v13 + 344), &v16, v15 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v16 == v15)
    {
      goto LABEL_10;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v13 + 344));
LABEL_10:
  v30 = *(v13 + 352);
  v28 = v13;
  v29 = 1;
  WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>(v27, (v10 + 40), &v30, &v28);
  mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(&v28);
  v17 = v10 + 160;
  while (1)
  {
    v18 = *(v13 + 344);
    if ((v18 & 1) == 0)
    {
      break;
    }

    v19 = *(v13 + 344);
    atomic_compare_exchange_strong_explicit((v13 + 344), &v19, v18 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v19 == v18)
    {
      goto LABEL_15;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v13 + 344));
LABEL_15:
  v20 = *(v13 + 360);
  while (1)
  {
    v21 = *v20;
    if ((*v20 & 1) == 0)
    {
      break;
    }

    v22 = *v20;
    atomic_compare_exchange_strong_explicit(v20, &v22, v21 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v22 == v21)
    {
      goto LABEL_20;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v20);
LABEL_20:
  v27[0] = v20;
  WebKit::RemoteCaptureSampleManager::setConnection(v10 + 160, v27);
  if (v27[0])
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v27[0]);
  }

  v23 = *(v10 + 192);
  (**(v10 + 160))(v10 + 160);
  v24 = WTF::fastMalloc(0x20);
  *v24 = &unk_1F1135500;
  v24[1] = v17;
  v24[2] = v17;
  v24[3] = v13;
  v27[0] = v24;
  (*(*v23 + 48))(v23, v27);
  v25 = v27[0];
  v27[0] = 0;
  if (v25)
  {
    (*(*v25 + 8))(v25);
  }

  result = WebKit::RemoteRealtimeMediaSource::createRemoteMediaSource(v13);
  *a5 = v13;
  *(a5 + 8) = 0;
  *(a5 + 16) = 0;
  return result;
}

uint64_t WebKit::UserMediaCaptureManager::VideoFactory::createVideoCaptureSource@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>)
{
  if (*(a1 + 16) == 1)
  {
    v10 = *(a1 + 8);
    if (!v10)
    {
      __break(0xC471u);
LABEL_12:
      JUMPOUT(0x19E428E24);
    }

    {
      v11 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v16 = WebKit::WebProcess::operator new(0x370, a2);
      v11 = WebKit::WebProcess::WebProcess(v16);
      WebKit::WebProcess::singleton(void)::process = v11;
    }

    v12 = WebKit::WebProcess::ensureGPUProcessConnection(v11);
    v13 = WebKit::GPUProcessConnection::videoFrameObjectHeapProxy(v12);
    atomic_fetch_add(v13, 1u);
    v17 = v13;
    WebKit::RemoteCaptureSampleManager::setVideoFrameObjectHeapProxy(v10 + 160, &v17);
    if (v17)
    {
      WTF::ThreadSafeRefCounted<WebKit::RemoteVideoFrameObjectHeapProxy,(WTF::DestructionThread)2>::deref(v17);
    }
  }

  v14 = *(a1 + 8);
  if (!v14)
  {
    __break(0xC471u);
    goto LABEL_12;
  }

  result = WebKit::RemoteRealtimeVideoSource::create(a5, a2, a4, a3, v14, *(a1 + 16));
  *(a5 + 8) = 0;
  *(a5 + 16) = 0;
  return result;
}

uint64_t WebKit::UserMediaCaptureManager::DisplayFactory::createDisplayCaptureSource@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>)
{
  if (*(a1 + 16) == 1)
  {
    {
      v10 = WebKit::WebProcess::singleton(void)::process;
    }

    else
    {
      v16 = WebKit::WebProcess::operator new(0x370, a2);
      v10 = WebKit::WebProcess::WebProcess(v16);
      WebKit::WebProcess::singleton(void)::process = v10;
    }

    v11 = WebKit::WebProcess::ensureGPUProcessConnection(v10);
    v12 = WebKit::GPUProcessConnection::videoFrameObjectHeapProxy(v11);
    atomic_fetch_add(v12, 1u);
    v13 = *(a1 + 8);
    if (!v13)
    {
      __break(0xC471u);
LABEL_12:
      JUMPOUT(0x19E428F68);
    }

    v17 = v12;
    WebKit::RemoteCaptureSampleManager::setVideoFrameObjectHeapProxy(v13 + 160, &v17);
    if (v17)
    {
      WTF::ThreadSafeRefCounted<WebKit::RemoteVideoFrameObjectHeapProxy,(WTF::DestructionThread)2>::deref(v17);
    }
  }

  v14 = *(a1 + 8);
  if (!v14)
  {
    __break(0xC471u);
    goto LABEL_12;
  }

  result = WebKit::RemoteRealtimeVideoSource::create(a5, a2, a4, a3, v14, *(a1 + 16));
  *(a5 + 8) = 0;
  *(a5 + 16) = 0;
  return result;
}

uint64_t WebKit::UserMediaCaptureManager::AudioFactory::audioCaptureDeviceManager(WebKit::UserMediaCaptureManager::AudioFactory *this)
{
  v1 = *(this + 1);
  if (v1)
  {
    return v1 + 48;
  }

  result = 120;
  __break(0xC471u);
  return result;
}

uint64_t WebCore::AudioCaptureFactory::computeSpeakerDevices(uint64_t a1, uint64_t *a2)
{
  v2 = *a2;
  *a2 = 0;
  (*(*v2 + 16))(v2);
  v3 = *(*v2 + 8);

  return v3(v2);
}

uint64_t WebKit::UserMediaCaptureManager::VideoFactory::videoCaptureDeviceManager(WebKit::UserMediaCaptureManager::VideoFactory *this)
{
  v1 = *(this + 1);
  if (v1)
  {
    return v1 + 48;
  }

  result = 120;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::UserMediaCaptureManager::DisplayFactory::displayCaptureDeviceManager(WebKit::UserMediaCaptureManager::DisplayFactory *this)
{
  v1 = *(this + 1);
  if (v1)
  {
    return v1 + 48;
  }

  result = 120;
  __break(0xC471u);
  return result;
}

uint64_t WebKit::RemoteRealtimeMediaSource::ref(uint64_t this)
{
  while (1)
  {
    v1 = *(this + 344);
    if ((v1 & 1) == 0)
    {
      break;
    }

    v2 = *(this + 344);
    atomic_compare_exchange_strong_explicit((this + 344), &v2, v1 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v2 == v1)
    {
      return this;
    }
  }

  return WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(this + 344));
}

WTF::StringImpl *WebKit::RemoteRealtimeMediaSource::whenReady(uint64_t a1, uint64_t *a2)
{
  if (*(a1 + 1416) == 1)
  {
    v4 = *(a1 + 1432);
    if (v4)
    {
      atomic_fetch_add_explicit(v4, 2u, memory_order_relaxed);
    }

    v14 = v4;
    v15 = *(a1 + 1440);
    v5 = *a2;
    *a2 = 0;
    (*(*v5 + 16))(v5, &v14);
    (*(*v5 + 8))(v5);
    result = v14;
    v14 = 0;
    if (result)
    {
      if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v6);
      }
    }
  }

  else
  {
    v8 = *(a1 + 1424);
    if (v8)
    {
      *(a1 + 1424) = 0;
      v9 = *a2;
      *a2 = 0;
      v10 = WTF::fastMalloc(0x18);
      *v10 = &unk_1F1135780;
      v10[1] = v8;
      v10[2] = v9;
      v11 = *a2;
      *a2 = v10;
      if (v11)
      {
        (*(*v11 + 8))(v11);
      }
    }

    v12 = *a2;
    *a2 = 0;
    result = *(a1 + 1424);
    *(a1 + 1424) = v12;
    if (result)
    {
      v13 = *(*result + 8);

      return v13();
    }
  }

  return result;
}

uint64_t WebKit::RemoteRealtimeMediaSource::isPowerEfficient(atomic_ullong **this)
{
  v2 = this;
  v3 = this[45];
  while (1)
  {
    v4 = *v3;
    if ((*v3 & 1) == 0)
    {
      break;
    }

    v5 = *v3;
    atomic_compare_exchange_strong_explicit(v3, &v5, v4 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v5 == v4)
    {
      goto LABEL_6;
    }
  }

  this = WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v3);
LABEL_6:
  v6 = *(v2 + 44);
  WTF::ApproximateTime::now(this);
  v8 = v7 + 3.0;
  IPC::Connection::createSyncMessageEncoder(0x1022, 0, v28);
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v28[0], v6);
  v9 = IPC::Connection::sendSyncMessage(v3, v28[1], v28, 0, &v26, v8);
  if (v27)
  {
    if (v27 != 1)
    {
      mpark::throw_bad_variant_access(v9);
    }

    v11 = v26;
    v12 = 1;
    goto LABEL_17;
  }

  v11 = v26;
  v26 = 0;
  if (*(v11 + 50) == 3194)
  {
    v13 = 11;
  }

  else
  {
    v16 = IPC::Decoder::decode<std::tuple<BOOL>>(v11);
    if (v16 >= 0x100u)
    {
      v1 = v16;
      v12 = 0;
      goto LABEL_14;
    }

    v13 = 14;
  }

  IPC::Decoder::~Decoder(v11);
  bmalloc::api::tzoneFree(v14, v15);
  v12 = 1;
  v11 = v13;
LABEL_14:
  if (!v27)
  {
    v17 = v26;
    v26 = 0;
    if (v17)
    {
      IPC::Decoder::~Decoder(v17);
      bmalloc::api::tzoneFree(v22, v23);
    }
  }

LABEL_17:
  v18 = v28[0];
  v28[0] = 0;
  if (v18)
  {
    IPC::Encoder::~Encoder(v18, v10);
    bmalloc::api::tzoneFree(v20, v21);
  }

  WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v3);
  if (!v12 && v11)
  {
    IPC::Decoder::~Decoder(v11);
    bmalloc::api::tzoneFree(v24, v25);
  }

  return (v12 == 0) & v1;
}

atomic_ullong *WebKit::RemoteRealtimeMediaSource::endProducingData(WebKit::RemoteRealtimeMediaSource *this, void *a2)
{
  v3 = *(this + 45);
  while (1)
  {
    v4 = *v3;
    if ((*v3 & 1) == 0)
    {
      break;
    }

    v5 = *v3;
    atomic_compare_exchange_strong_explicit(v3, &v5, v4 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v5 == v4)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v3);
LABEL_6:
  v6 = IPC::Encoder::operator new(0x238, a2);
  *v6 = 1759;
  *(v6 + 68) = 0;
  *(v6 + 70) = 0;
  *(v6 + 69) = 0;
  *(v6 + 2) = 0;
  *(v6 + 3) = 0;
  *(v6 + 1) = 0;
  IPC::Encoder::encodeHeader(v6);
  v12 = v6;
  IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v6, *(this + 44));
  IPC::Connection::sendMessageImpl(v3, &v12, 0, 0);
  v8 = v12;
  v12 = 0;
  if (v8)
  {
    IPC::Encoder::~Encoder(v8, v7);
    bmalloc::api::tzoneFree(v10, v11);
  }

  return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v3);
}

uint64_t non-virtual thunk toWebKit::RemoteRealtimeMediaSource::ref(uint64_t this)
{
  while (1)
  {
    v1 = *(this + 8);
    if ((v1 & 1) == 0)
    {
      break;
    }

    v2 = *(this + 8);
    atomic_compare_exchange_strong_explicit((this + 8), &v2, v1 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v2 == v1)
    {
      return this;
    }
  }

  return WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(this + 8));
}

WebKit::RemoteCaptureSampleManager::RemoteAudio *std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>::reset[abi:sn200100](WebKit::RemoteCaptureSampleManager::RemoteAudio **a1, WebKit::RemoteCaptureSampleManager::RemoteAudio *a2)
{
  result = *a1;
  *a1 = a2;
  if (result)
  {
    WebKit::RemoteCaptureSampleManager::RemoteAudio::~RemoteAudio(result);

    return bmalloc::api::tzoneFree(v4, v5);
  }

  return result;
}

atomic_ullong *WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref(atomic_ullong *result)
{
  v1 = result;
  while (1)
  {
    v2 = *result;
    if ((*result & 1) == 0)
    {
      break;
    }

    v3 = *result;
    atomic_compare_exchange_strong_explicit(result, &v3, v2 - 2, memory_order_relaxed, memory_order_relaxed);
    if (v3 == v2)
    {
      if (v2 != 3)
      {
        return result;
      }

      v4 = WTF::fastMalloc(0x10);
      *v4 = &unk_1F11354B0;
      v4[1] = v1;
      goto LABEL_13;
    }
  }

  v5 = 0;
  v6 = *result;
  atomic_compare_exchange_strong_explicit(*result, &v5, 1u, memory_order_acquire, memory_order_acquire);
  if (v5)
  {
    result = MEMORY[0x19EB01E30](v6);
  }

  v7 = *(v6 + 8) - 1;
  *(v6 + 8) = v7;
  if (v7)
  {
    v8 = 0;
  }

  else
  {
    v8 = *(v6 + 24);
    ++*(v6 + 16);
    *(v6 + 24) = 0;
  }

  v9 = 1;
  atomic_compare_exchange_strong_explicit(v6, &v9, 0, memory_order_release, memory_order_relaxed);
  if (v9 == 1)
  {
    if (v7)
    {
      return result;
    }
  }

  else
  {
    v10 = v7;
    result = WTF::Lock::unlockSlow(v6);
    if (v10)
    {
      return result;
    }
  }

  v4 = WTF::fastMalloc(0x18);
  *v4 = &unk_1F11354D8;
  v4[1] = v6;
  v4[2] = v8;
LABEL_13:
  v11 = v4;
  WTF::ensureOnMainRunLoop();
  result = v11;
  if (v11)
  {
    return (*(*v11 + 8))(v11);
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<void WTF::ThreadSafeWeakPtrControlBlock::strongDeref<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>(void)::{lambda(void)#1},void>::call(uint64_t a1, void *a2)
{
  v3 = *(a1 + 8);
  result = *(a1 + 16);
  if (result)
  {
    result = (*(*result + 24))(result);
  }

  v4 = 0;
  v5 = 1;
  atomic_compare_exchange_strong_explicit(v3, &v4, 1u, memory_order_acquire, memory_order_acquire);
  if (v4)
  {
    result = MEMORY[0x19EB01E30](v3);
  }

  v6 = *(v3 + 16) - 1;
  *(v3 + 16) = v6;
  atomic_compare_exchange_strong_explicit(v3, &v5, 0, memory_order_release, memory_order_relaxed);
  if (v5 == 1)
  {
    if (v6)
    {
      return result;
    }
  }

  else
  {
    v7 = v6;
    result = WTF::Lock::unlockSlow(v3);
    if (v7)
    {
      return result;
    }
  }

  return WTF::fastFree(v3, a2);
}

unint64_t WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::controlBlock(atomic_ullong *a1)
{
  result = *a1;
  if (result)
  {
    result = WTF::fastMalloc(0x20);
    *result = 0;
    *(result + 8) = xmmword_19E7014F0;
    *(result + 24) = a1 - 43;
    while (1)
    {
      v4 = *a1;
      if ((*a1 & 1) == 0)
      {
        break;
      }

      *(result + 8) = v4 >> 1;
      v5 = v4;
      atomic_compare_exchange_strong_explicit(a1, &v5, result, memory_order_release, memory_order_relaxed);
      if (v5 == v4)
      {
        return result;
      }
    }

    WTF::fastFree(result, v3);
    return *a1;
  }

  return result;
}

uint64_t WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::weakRefCount(atomic_ullong *a1)
{
  if (*a1)
  {
    return 0;
  }

  v1 = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::controlBlock(a1);

  return WTF::ThreadSafeWeakPtrControlBlock::weakRefCount(v1);
}

void *WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::addSource(WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>> &&)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1135500;
  v2 = a1[3];
  a1[3] = 0;
  if (v2)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v2 + 344));
  }

  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::addSource(WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>> &&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135500;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v3 + 344));
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  return WTF::fastFree(this, a2);
}

WebKit::RemoteCaptureSampleManager::RemoteAudio *WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::addSource(WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>> &&)::$_0,void>::call(uint64_t a1, void *a2)
{
  v3 = *(a1 + 8);
  v4 = *(*(a1 + 24) + 352);
  if (WebKit::RemoteCaptureSampleManager::RemoteAudio::s_heapRef)
  {
    NonCompact = bmalloc::api::tzoneAllocateNonCompact(WebKit::RemoteCaptureSampleManager::RemoteAudio::s_heapRef, a2);
  }

  else
  {
    NonCompact = WebKit::RemoteCaptureSampleManager::RemoteAudio::operatorNewSlow(0);
  }

  v6 = NonCompact;
  v7 = *(a1 + 24);
  *(a1 + 24) = 0;
  *NonCompact = v7;
  *(NonCompact + 8) = 0;
  *(NonCompact + 88) = 0;
  *(NonCompact + 96) = 0u;
  *(NonCompact + 112) = 0u;
  *(NonCompact + 128) = 10000000;
  *(NonCompact + 132) = 1;
  *(NonCompact + 136) = 0;
  *(NonCompact + 144) = 0;
  semaphore_create(*MEMORY[0x1E69E9A60], (NonCompact + 148), 0, 0);
  *(v6 + 152) = 0;
  *(v6 + 160) = 0;
  if (v4 == -1 || !v4)
  {
    __break(0xC471u);
    JUMPOUT(0x19E429DA8);
  }

  v8 = *(v3 + 48);
  if (!v8)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((v3 + 48));
    v8 = *(v3 + 48);
  }

  v9 = *(v8 - 8);
  v10 = (v4 + ~(v4 << 32)) ^ ((v4 + ~(v4 << 32)) >> 22);
  v11 = 9 * ((v10 + ~(v10 << 13)) ^ ((v10 + ~(v10 << 13)) >> 8));
  v12 = (v11 ^ (v11 >> 15)) + ~((v11 ^ (v11 >> 15)) << 27);
  v13 = v9 & ((v12 >> 31) ^ v12);
  v14 = (v8 + 16 * v13);
  v15 = *v14;
  if (*v14)
  {
    v16 = 0;
    v17 = 1;
    while (v15 != v4)
    {
      if (v15 == -1)
      {
        v16 = v14;
      }

      v13 = (v13 + v17) & v9;
      v14 = (v8 + 16 * v13);
      v15 = *v14;
      ++v17;
      if (!*v14)
      {
        if (v16)
        {
          *v16 = 0;
          v16[1] = 0;
          --*(*(v3 + 48) - 16);
          v14 = v16;
        }

        goto LABEL_15;
      }
    }

    WebKit::RemoteCaptureSampleManager::RemoteAudio::~RemoteAudio(v6);

    return bmalloc::api::tzoneFree(v21, v22);
  }

  else
  {
LABEL_15:
    *v14 = v4;
    result = std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>::reset[abi:sn200100](v14 + 1, v6);
    v19 = *(v3 + 48);
    if (v19)
    {
      v20 = *(v19 - 12) + 1;
    }

    else
    {
      v20 = 1;
    }

    *(v19 - 12) = v20;
    v23 = (*(v19 - 16) + v20);
    v24 = *(v19 - 4);
    if (v24 > 0x400)
    {
      if (v24 > 2 * v23)
      {
        return result;
      }
    }

    else if (3 * v24 > 4 * v23)
    {
      return result;
    }

    return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((v3 + 48));
  }
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1)
{
  v1 = *a1;
  if (*a1 && (v2 = *(v1 - 4)) != 0)
  {
    v3 = v2 << (6 * *(v1 - 12) >= (2 * v2));
  }

  else
  {
    v3 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v3);
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2)
{
  v4 = *a1;
  if (*a1)
  {
    v5 = *(v4 - 4);
    v6 = *(v4 - 12);
  }

  else
  {
    v5 = 0;
    v6 = 0;
  }

  result = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (result + 4);
  result[2] = a2 - 1;
  result[3] = a2;
  *result = 0;
  result[1] = v6;
  if (v5)
  {
    for (i = 0; i != v5; ++i)
    {
      v10 = (v4 + 16 * i);
      v11 = *v10;
      if (*v10 != -1)
      {
        if (v11)
        {
          v12 = *a1;
          if (*a1)
          {
            v13 = *(v12 - 8);
          }

          else
          {
            v13 = 0;
          }

          v14 = (v11 + ~(v11 << 32)) ^ ((v11 + ~(v11 << 32)) >> 22);
          v15 = 9 * ((v14 + ~(v14 << 13)) ^ ((v14 + ~(v14 << 13)) >> 8));
          v16 = (v15 ^ (v15 >> 15)) + ~((v15 ^ (v15 >> 15)) << 27);
          v17 = v13 & ((v16 >> 31) ^ v16);
          v18 = 1;
          do
          {
            v19 = v17;
            v20 = *(v12 + 16 * v17);
            v17 = (v17 + v18++) & v13;
          }

          while (v20);
          v21 = v12 + 16 * v19;
          std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>::reset[abi:sn200100]((v21 + 8), 0);
          *v21 = *v10;
          v22 = v10[1];
          v10[1] = 0;
          *(v21 + 8) = v22;
          std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>::reset[abi:sn200100](v10 + 1, 0);
        }

        else
        {
          std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>::reset[abi:sn200100](v10 + 1, 0);
        }
      }
    }
  }

  else if (!v4)
  {
    return result;
  }

  return WTF::fastFree((v4 - 16), v8);
}

void *WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::addSource(WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>> &&)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1135528;
  v2 = a1[3];
  a1[3] = 0;
  if (v2)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v2 + 344));
  }

  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::addSource(WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>> &&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135528;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v3 + 344));
  }

  v4 = *(this + 2);
  *(this + 2) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  return WTF::fastFree(this, a2);
}

_DWORD *WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::addSource(WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>> &&)::$_0,void>::call(_DWORD *result)
{
  v1 = *(*(result + 3) + 352);
  if (v1 == -1 || !v1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E42A254);
  }

  v2 = result;
  v3 = *(result + 1);
  v4 = *(v3 + 56);
  if (!v4)
  {
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((v3 + 56));
    v4 = *(v3 + 56);
  }

  v5 = *(v4 - 8);
  v6 = (v1 + ~(v1 << 32)) ^ ((v1 + ~(v1 << 32)) >> 22);
  v7 = 9 * ((v6 + ~(v6 << 13)) ^ ((v6 + ~(v6 << 13)) >> 8));
  v8 = (v7 ^ (v7 >> 15)) + ~((v7 ^ (v7 >> 15)) << 27);
  v9 = v5 & ((v8 >> 31) ^ v8);
  v10 = (v4 + 16 * v9);
  v11 = *v10;
  if (*v10)
  {
    v12 = 0;
    v13 = 1;
    while (v11 != v1)
    {
      if (v11 == -1)
      {
        v12 = v10;
      }

      v9 = (v9 + v13) & v5;
      v10 = (v4 + 16 * v9);
      v11 = *v10;
      ++v13;
      if (!*v10)
      {
        if (v12)
        {
          *v12 = 0;
          v12[1] = 0;
          --*(*(v3 + 56) - 16);
          v10 = v12;
        }

        goto LABEL_13;
      }
    }
  }

  else
  {
LABEL_13:
    *v10 = v1;
    v14 = *(v2 + 3);
    *(v2 + 3) = 0;
    v15 = v10[1];
    v10[1] = v14;
    if (v15)
    {
      result = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v15 + 344));
    }

    v16 = *(v3 + 56);
    if (v16)
    {
      v17 = *(v16 - 12) + 1;
    }

    else
    {
      v17 = 1;
    }

    *(v16 - 12) = v17;
    v18 = (*(v16 - 16) + v17);
    v19 = *(v16 - 4);
    if (v19 > 0x400)
    {
      if (v19 > 2 * v18)
      {
        return result;
      }
    }

    else if (3 * v19 > 4 * v18)
    {
      return result;
    }

    return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand((v3 + 56));
  }

  return result;
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1)
{
  v1 = *a1;
  if (*a1 && (v2 = *(v1 - 4)) != 0)
  {
    v3 = v2 << (6 * *(v1 - 12) >= (2 * v2));
  }

  else
  {
    v3 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v3);
}

_DWORD *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2)
{
  v4 = *a1;
  if (*a1)
  {
    v5 = *(v4 - 4);
    v6 = *(v4 - 12);
  }

  else
  {
    v5 = 0;
    v6 = 0;
  }

  result = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (result + 4);
  result[2] = a2 - 1;
  result[3] = a2;
  *result = 0;
  result[1] = v6;
  if (v5)
  {
    v9 = 0;
    while (1)
    {
      v10 = (v4 + 16 * v9);
      v11 = *v10;
      if (*v10 != -1)
      {
        if (v11)
        {
          v13 = *a1;
          if (*a1)
          {
            v14 = *(v13 - 8);
          }

          else
          {
            v14 = 0;
          }

          v15 = (v11 + ~(v11 << 32)) ^ ((v11 + ~(v11 << 32)) >> 22);
          v16 = 9 * ((v15 + ~(v15 << 13)) ^ ((v15 + ~(v15 << 13)) >> 8));
          v17 = (v16 ^ (v16 >> 15)) + ~((v16 ^ (v16 >> 15)) << 27);
          v18 = v14 & ((v17 >> 31) ^ v17);
          v19 = 1;
          do
          {
            v20 = v18;
            v21 = *(v13 + 16 * v18);
            v18 = (v18 + v19++) & v14;
          }

          while (v21);
          v22 = (v13 + 16 * v20);
          v23 = v22[1];
          v22[1] = 0;
          if (v23)
          {
            WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v23 + 344));
          }

          *v22 = *v10;
          v24 = v10[1];
          v10[1] = 0;
          v22[1] = v24;
          v12 = v10[1];
          v10[1] = 0;
          if (!v12)
          {
            goto LABEL_19;
          }

LABEL_18:
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v12 + 344));
          goto LABEL_19;
        }

        v12 = v10[1];
        v10[1] = 0;
        if (v12)
        {
          goto LABEL_18;
        }
      }

LABEL_19:
      if (++v9 == v5)
      {
        goto LABEL_22;
      }
    }
  }

  if (v4)
  {
LABEL_22:

    return WTF::fastFree((v4 - 16), v8);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::removeSource(WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1135550;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::removeSource(WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135550;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

WebKit::RemoteCaptureSampleManager::RemoteAudio **WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::removeSource(WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>)::$_0,void>::call(uint64_t a1)
{
  v2 = *(a1 + 8);
  v3 = (v2 + 48);
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*(v2 + 48), *(a1 + 24));
  if (*(v2 + 48))
  {
    v5 = *v3 + 16 * *(*v3 - 4);
    if (v5 == result)
    {
      goto LABEL_15;
    }

LABEL_6:
    if (v5 != result)
    {
      *result = -1;
      result = std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>::reset[abi:sn200100](result + 1, 0);
      v6 = *v3;
      v7 = vadd_s32(*(*v3 - 16), 0xFFFFFFFF00000001);
      *(v6 - 16) = v7;
      v8 = *(v6 - 4);
      if (6 * v7.i32[1] < v8 && v8 >= 9)
      {

        return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(v3, v8 >> 1);
      }
    }

    return result;
  }

  if (result)
  {
    v5 = 0;
    goto LABEL_6;
  }

LABEL_15:
  v11 = *(v2 + 56);
  v10 = (v2 + 56);
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>( v11,  *(a1 + 24));
  if (*v10)
  {
    v12 = *v10 + 16 * *(*v10 - 4);
    if (v12 == result)
    {
      return result;
    }
  }

  else
  {
    if (!result)
    {
      return result;
    }

    v12 = 0;
  }

  if (v12 != result)
  {
    v13 = result[1];
    *result = -1;
    result[1] = 0;
    if (v13)
    {
      result = WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref(v13 + 43);
    }

    v14 = *v10;
    v15 = vadd_s32(*(*v10 - 16), 0xFFFFFFFF00000001);
    *(v14 - 16) = v15;
    v16 = *(v14 - 4);
    if (6 * v15.i32[1] < v16 && v16 >= 9)
    {

      return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(v10, v16 >> 1);
    }
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t result, uint64_t a2)
{
  if (result)
  {
    if (a2 == -1 || !a2)
    {
      __break(0xC471u);
      JUMPOUT(0x19E42A794);
    }

    v2 = *(result - 8);
    v3 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v4 = 9 * ((v3 + ~(v3 << 13)) ^ ((v3 + ~(v3 << 13)) >> 8));
    v5 = (v4 ^ (v4 >> 15)) + ~((v4 ^ (v4 >> 15)) << 27);
    v6 = v2 & ((v5 >> 31) ^ v5);
    v7 = *(result + 16 * v6);
    if (v7 == a2)
    {
LABEL_8:
      result += 16 * v6;
    }

    else
    {
      v8 = 1;
      while (v7)
      {
        v6 = (v6 + v8) & v2;
        v7 = *(result + 16 * v6);
        ++v8;
        if (v7 == a2)
        {
          goto LABEL_8;
        }
      }

      result += 16 * *(result - 4);
    }
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::audioSourceWillBeStopped(WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>)::$_0,void>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1135578;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::audioSourceWillBeStopped(WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135578;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

atomic_uint *WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::audioSourceWillBeStopped(WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>)::$_0,void>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<std::unique_ptr<WebKit::RemoteCaptureSampleManager::RemoteAudio>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*(v1 + 48), *(a1 + 24));
  v3 = *(v1 + 48);
  if (v3)
  {
    v3 += 4 * *(v3 - 1);
  }

  if (v3 != result)
  {
    v4 = *(result + 1);

    return WebKit::RemoteCaptureSampleManager::RemoteAudio::stopThread(v4);
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t result, uint64_t a2)
{
  if (result)
  {
    if (a2 == -1 || !a2)
    {
      __break(0xC471u);
      JUMPOUT(0x19E42A9C0);
    }

    v2 = *(result - 8);
    v3 = (~(a2 << 32) + a2) ^ ((~(a2 << 32) + a2) >> 22);
    v4 = 9 * ((v3 + ~(v3 << 13)) ^ ((v3 + ~(v3 << 13)) >> 8));
    v5 = (v4 ^ (v4 >> 15)) + ~((v4 ^ (v4 >> 15)) << 27);
    v6 = v2 & ((v5 >> 31) ^ v5);
    v7 = *(result + 16 * v6);
    if (v7 == a2)
    {
LABEL_8:
      result += 16 * v6;
    }

    else
    {
      v8 = 1;
      while (v7)
      {
        v6 = (v6 + v8) & v2;
        v7 = *(result + 16 * v6);
        ++v8;
        if (v7 == a2)
        {
          goto LABEL_8;
        }
      }

      result += 16 * *(result - 4);
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteCaptureSampleManager::RemoteAudio::startThread(void)::$_0,void>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  *(v1 + 112) = 0;
  do
  {
    result = MEMORY[0x19EB16340](*(v1 + 148));
    if (result)
    {
      break;
    }

    v3 = atomic_load((v1 + 160));
    if (v3)
    {
      break;
    }

    if ((*(v1 + 88) & 1) == 0 || (WebCore::CAAudioStreamDescription::sampleRate((v1 + 8)), WTF::MediaTime::operator+(), result = WebCore::CARingBuffer::fetch(), *(v1 + 112) += *(v1 + 136), (*(v1 + 88) & 1) == 0))
    {
      __break(1u);
      return result;
    }

    result = WebCore::RealtimeMediaSource::audioSamplesAvailable();
    v4 = atomic_load((v1 + 160));
  }

  while ((v4 & 1) == 0);
  return result;
}

uint64_t WTF::VectorTypeOperations<std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::destruct(uint64_t result, void *a2)
{
  if (a2)
  {
    v2 = result;
    v3 = 976 * a2;
    do
    {
      WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((v2 + 119), a2);
      WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap((v2 + 1), v4);
      result = *v2;
      *v2 = 0;
      if (result)
      {
        result = (*(*result + 8))(result);
      }

      v2 += 122;
      v3 -= 976;
    }

    while (v3);
  }

  return result;
}

void *WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeMediaSource::createRemoteMediaSource(void)::$_0,void,WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F11355C8;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v2 + 344));
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeMediaSource::createRemoteMediaSource(void)::$_0,void,WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F11355C8;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v3 + 344));
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeMediaSource::createRemoteMediaSource(void)::$_0,void,WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&>::call(uint64_t a1, WTF::StringImpl *a2, __int128 *a3, __int128 *a4)
{
  v4 = *(a1 + 8);
  if (*(a2 + 8))
  {
    *(v4 + 1416) = 1;
    v6 = *a2;
    *a2 = 0;
    result = *(v4 + 1432);
    *(v4 + 1432) = v6;
    if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      result = WTF::StringImpl::destroy(result, a2);
    }

    v8 = *(a2 + 4);
    *(v4 + 1440) = v8;
    v9 = *(v4 + 1424);
    if (v9)
    {
      v10 = *(v4 + 1432);
      if (v10)
      {
        atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
        v8 = *(v4 + 1440);
        v9 = *(v4 + 1424);
      }

      v20 = v10;
      LOWORD(v21) = v8;
      *(v4 + 1424) = 0;
      (*(*v9 + 16))(v9, &v20);
      (*(*v9 + 8))(v9);
      result = v20;
      v20 = 0;
      if (result)
      {
        if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          return WTF::StringImpl::destroy(result, v11);
        }
      }
    }
  }

  else
  {
    WebKit::RemoteRealtimeMediaSource::setSettings(*(a1 + 8), a3);
    v14 = WebKit::RemoteRealtimeMediaSource::setCapabilities(v4, a4);
    v15 = *(v4 + 2840);
    if (v15)
    {
      atomic_fetch_add_explicit(v15, 2u, memory_order_relaxed);
    }

    result = *(v4 + 136);
    *(v4 + 136) = v15;
    if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      result = WTF::StringImpl::destroy(result, v13);
    }

    *(v4 + 1416) = 1;
    v16 = *(v4 + 1424);
    if (v16)
    {
      v20 = 0;
      v21 = 0;
      *(v4 + 1424) = 0;
      (*(*v16 + 16))(v16, &v20, v14);
      (*(*v16 + 8))(v16);
      result = v20;
      v20 = 0;
      if (result)
      {
        if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          result = WTF::StringImpl::destroy(result, v13);
        }
      }
    }

    if (*(v4 + 408) == 1)
    {
      {
        v17 = WebKit::WebProcess::singleton(void)::process;
      }

      else
      {
        v19 = WebKit::WebProcess::operator new(0x370, v13);
        v17 = WebKit::WebProcess::WebProcess(v19);
        WebKit::WebProcess::singleton(void)::process = v17;
      }

      v18 = WebKit::WebProcess::ensureGPUProcessConnection(v17) + 23;

      return WTF::ThreadSafeWeakHashSet<WebKit::GPUProcessConnection::Client>::add<WebKit::GPUProcessConnection::Client>(v18, (v4 + 336));
    }
  }

  return result;
}

void WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeMediaSource::gpuProcessConnectionDidClose(WebKit::GPUProcessConnection &)::$_0,void,std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&>::call(uint64_t a1, uint64_t a2)
{
  if (*(a2 + 16) == 1)
  {
    v2 = *(a2 + 8);
    *(a2 + 8) = 0;
    if (v2)
    {
      if (atomic_fetch_add_explicit(v2, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v2, a2);
      }
    }
  }
}

void *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>(WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WebCore::RealtimeMediaSourceCapabilities &&,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>)#1},void,WebCore::RealtimeMediaSourceCapabilities &&,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>::~CallableWrapper(void *a1)
{
  v2 = a1[1];
  *a1 = &unk_1F1135618;
  a1[1] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>(WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WebCore::RealtimeMediaSourceCapabilities &&,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>)#1},void,WebCore::RealtimeMediaSourceCapabilities &&,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>::~CallableWrapper(WTF *this, void *a2)
{
  v3 = *(this + 1);
  *this = &unk_1F1135618;
  *(this + 1) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return WTF::fastFree(this, a2);
}

WTF::StringImpl *WTF::Detail::CallableWrapper<WTF::CompletionHandler<void ()(IPC::Connection*,IPC::Decoder *)> IPC::Connection::makeAsyncReplyCompletionHandler<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>(WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)> &&,WTF::ThreadLikeAssertion)::{lambda(WebCore::RealtimeMediaSourceCapabilities &&,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>)#1},void,WebCore::RealtimeMediaSourceCapabilities &&,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>::call(uint64_t a1, uint64_t a2, IPC::Decoder *a3)
{
  if (a3 && *a3)
  {
    IPC::ArgumentCoder<WebCore::CaptureSourceError,void>::decode(a3, v34);
    if (v35)
    {
      IPC::ArgumentCoder<WebCore::RealtimeMediaSourceSettings,void>::decode(a3, v36);
      if ((v40 & 1) == 0)
      {
        v6 = *a3;
        v23 = *(a3 + 1);
        *a3 = 0;
        *(a3 + 1) = 0;
        v24 = *(a3 + 3);
        if (!v24 || !v23 || ((*(*v24 + 16))(v24, v6), (v40 & 1) == 0))
        {
          LOBYTE(v27[0]) = 0;
          v33 = 0;
LABEL_19:
          if (v35)
          {
            v11 = v34[0];
            if (v34[0])
            {
              if (atomic_fetch_add_explicit(v34[0], 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v11, v6);
              }
            }
          }

          goto LABEL_23;
        }
      }

      v5 = IPC::ArgumentCoder<WebCore::RealtimeMediaSourceCapabilities,void>::decode(a3, v41);
      if ((v42 & 1) == 0)
      {
        v6 = *a3;
        v25 = *(a3 + 1);
        *a3 = 0;
        *(a3 + 1) = 0;
        v26 = *(a3 + 3);
        if (!v26 || !v25 || (v5 = (*(*v26 + 16))(v26, v6), (v42 & 1) == 0))
        {
          LOBYTE(v27[0]) = 0;
          v33 = 0;
LABEL_9:
          if (v40)
          {
            v8 = v39;
            v39 = 0;
            if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v8, v6);
            }

            v9 = v38;
            v38 = 0;
            if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v9, v6);
            }

            v10 = v37;
            v37 = 0;
            if (v10 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v10, v6);
            }
          }

          goto LABEL_19;
        }
      }

      if (v40)
      {
        std::tuple<WebCore::CaptureSourceError,WebCore::RealtimeMediaSourceSettings,WebCore::RealtimeMediaSourceCapabilities>::tuple[abi:sn200100]<WebCore::CaptureSourceError,WebCore::RealtimeMediaSourceSettings,WebCore::RealtimeMediaSourceCapabilities,0>(v27, v34, v36, v41);
        v33 = 1;
        if (v42)
        {
          WebCore::RealtimeMediaSourceCapabilities::~RealtimeMediaSourceCapabilities(v41, v6);
        }

        goto LABEL_9;
      }

      __break(1u);
    }

    else
    {
      v6 = *a3;
      v7 = *(a3 + 1);
      *a3 = 0;
      *(a3 + 1) = 0;
      v5 = *(a3 + 3);
      if (!v5)
      {
LABEL_42:
        LOBYTE(v27[0]) = 0;
        v33 = 0;
LABEL_23:
        if ((v33 & 1) == 0)
        {
          v20 = *a3;
          v21 = *(a3 + 1);
          *a3 = 0;
          *(a3 + 1) = 0;
          v22 = *(a3 + 3);
          if (!v22)
          {
            return IPC::Connection::cancelReply<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>((a1 + 8));
          }

          if (!v21)
          {
            return IPC::Connection::cancelReply<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>((a1 + 8));
          }

          (*(*v22 + 16))(v22, v20);
          if ((v33 & 1) == 0)
          {
            return IPC::Connection::cancelReply<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>((a1 + 8));
          }
        }

        v12 = *(a1 + 8);
        *(a1 + 8) = 0;
        (*(*v12 + 16))(v12, v27, &v28, v32);
        result = (*(*v12 + 8))(v12);
        if (v33)
        {
          WebCore::RealtimeMediaSourceCapabilities::~RealtimeMediaSourceCapabilities(v32, v14);
          v16 = v31;
          v31 = 0;
          if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v16, v15);
          }

          v17 = v30;
          v30 = 0;
          if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v17, v15);
          }

          v18 = v29;
          v29 = 0;
          if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v18, v15);
          }

          result = v27[0];
          v27[0] = 0;
          if (result)
          {
            if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              return WTF::StringImpl::destroy(result, v15);
            }
          }
        }

        return result;
      }
    }

    if (v7)
    {
      (*(*v5 + 16))(v5, v6);
    }

    goto LABEL_42;
  }

  v19 = (a1 + 8);

  return IPC::Connection::cancelReply<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>(v19);
}

WTF::StringImpl *IPC::Connection::cancelReply<Messages::UserMediaCaptureManagerProxy::CreateMediaSourceForCaptureDeviceWithConstraints,WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&,WebCore::RealtimeMediaSourceSettings &&,WebCore::RealtimeMediaSourceCapabilities &&)>>(uint64_t *a1)
{
  v36[0] = 0;
  v36[1] = 0;
  v31 = 4;
  v29 = 0u;
  v30 = 0u;
  memset(v28, 0, sizeof(v28));
  memset(v34, 0, sizeof(v34));
  v35 = 0;
  v32 = 0x3FF0000000000000;
  v33 = 0;
  v22 = 1;
  memset(v21, 0, sizeof(v21));
  v23 = 0u;
  v24 = 0u;
  v25 = 0u;
  v26 = 0u;
  memset(v27, 0, sizeof(v27));
  std::tuple<WebCore::CaptureSourceError,WebCore::RealtimeMediaSourceSettings,WebCore::RealtimeMediaSourceCapabilities>::tuple[abi:sn200100]<WebCore::CaptureSourceError,WebCore::RealtimeMediaSourceSettings,WebCore::RealtimeMediaSourceCapabilities,0>(v15, v36, v28, v21);
  WebCore::RealtimeMediaSourceCapabilities::~RealtimeMediaSourceCapabilities(v21, v2);
  v4 = *(&v30 + 1);
  if (*(&v30 + 1) && atomic_fetch_add_explicit(*(&v30 + 1), 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v4, v3);
  }

  v5 = v30;
  if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, v3);
  }

  v6 = *(&v29 + 1);
  if (*(&v29 + 1) && atomic_fetch_add_explicit(*(&v29 + 1), 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v6, v3);
  }

  v7 = v36[0];
  if (v36[0] && atomic_fetch_add_explicit(v36[0], 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v7, v3);
  }

  v8 = *a1;
  *a1 = 0;
  (*(*v8 + 16))(v8, v15, &v16, v20);
  (*(*v8 + 8))(v8);
  WebCore::RealtimeMediaSourceCapabilities::~RealtimeMediaSourceCapabilities(v20, v9);
  v11 = v19;
  v19 = 0;
  if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v11, v10);
  }

  v12 = v18;
  v18 = 0;
  if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v12, v10);
  }

  v13 = v17;
  v17 = 0;
  if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v13, v10);
  }

  result = v15[0];
  v15[0] = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v10);
    }
  }

  return result;
}

uint64_t std::tuple<WebCore::CaptureSourceError,WebCore::RealtimeMediaSourceSettings,WebCore::RealtimeMediaSourceCapabilities>::tuple[abi:sn200100]<WebCore::CaptureSourceError,WebCore::RealtimeMediaSourceSettings,WebCore::RealtimeMediaSourceCapabilities,0>(uint64_t a1, uint64_t *a2, __int128 *a3, __int128 *a4)
{
  v6 = *a2;
  *a2 = 0;
  *a1 = v6;
  *(a1 + 8) = *(a2 + 4);
  v7 = *a3;
  v8 = a3[1];
  *(a1 + 48) = *(a3 + 32);
  *(a1 + 16) = v7;
  *(a1 + 32) = v8;
  v9 = *(a3 + 5);
  *(a3 + 5) = 0;
  *(a1 + 56) = v9;
  v10 = *(a3 + 6);
  *(a3 + 6) = 0;
  *(a1 + 64) = v10;
  v11 = *(a3 + 7);
  *(a3 + 7) = 0;
  *(a1 + 72) = v11;
  v12 = a3[4];
  v13 = a3[5];
  *(a1 + 110) = *(a3 + 94);
  *(a1 + 80) = v12;
  *(a1 + 96) = v13;
  v14 = *a4;
  v15 = a4[1];
  *(a1 + 152) = a4[2];
  *(a1 + 136) = v15;
  *(a1 + 120) = v14;
  v16 = *(a4 + 15);
  *(a1 + 168) = 0;
  *(a1 + 176) = 0;
  *(a1 + 180) = v16;
  if (v16)
  {
    v17 = WTF::fastMalloc(v16);
    *(a1 + 176) = v16;
    *(a1 + 168) = v17;
    memcpy(v17, *(a4 + 6), *(a4 + 15));
  }

  v18 = a4[4];
  v19 = a4[5];
  *(a1 + 216) = *(a4 + 96);
  *(a1 + 200) = v19;
  *(a1 + 184) = v18;
  v20 = *(a4 + 13);
  if (v20)
  {
    atomic_fetch_add_explicit(v20, 2u, memory_order_relaxed);
  }

  *(a1 + 224) = v20;
  v21 = *(a4 + 14);
  if (v21)
  {
    atomic_fetch_add_explicit(v21, 2u, memory_order_relaxed);
  }

  *(a1 + 232) = v21;
  *(a1 + 240) = *(a4 + 120);
  v22 = *(a4 + 37);
  *(a1 + 256) = 0;
  *(a1 + 264) = 0;
  *(a1 + 268) = v22;
  if (v22)
  {
    v23 = WTF::fastMalloc(v22);
    *(a1 + 264) = v22;
    *(a1 + 256) = v23;
    memcpy(v23, *(a4 + 17), *(a4 + 37));
  }

  v24 = *(a4 + 152);
  v25 = *(a4 + 168);
  *(a1 + 302) = *(a4 + 182);
  *(a1 + 272) = v24;
  *(a1 + 288) = v25;
  return a1;
}

uint64_t WTF::VectorMover<false,std::pair<WTF::CompletionHandler<void ()(std::optional<WebCore::RealtimeMediaSource::ApplyConstraintsError> &&)>,WebCore::MediaConstraints>>::move(uint64_t result, uint64_t a2, uint64_t a3)
{
  if (result != a2)
  {
    v4 = result;
    v5 = a3 + 8;
    do
    {
      v6 = *v4;
      *v4 = 0;
      *(v5 - 8) = v6;
      WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap(v5, v4 + 8);
      v7 = v4 + 952;
      *(v5 + 944) = 0u;
      WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(v5 + 944, (v4 + 952));
      *(v5 + 960) = *(v4 + 968);
      WTF::Vector<WebCore::MediaTrackConstraintSetMap,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v4 + 952, v8);
      WebCore::MediaTrackConstraintSetMap::~MediaTrackConstraintSetMap((v4 + 8), v9);
      result = *v4;
      *v4 = 0;
      if (result)
      {
        result = (*(*result + 8))(result);
      }

      v5 += 976;
      v4 += 976;
    }

    while (v7 + 24 != a2);
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::TakePhoto,WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>>(WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F1135640;
  WTF::NativePromiseProducer<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::~NativePromiseProducer((a1 + 8));
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::TakePhoto,WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>>(WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::~CallableWrapper(atomic_uint **a1)
{
  *a1 = &unk_1F1135640;
  WTF::NativePromiseProducer<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::~NativePromiseProducer(a1 + 1);

  return WTF::fastFree(a1, v2);
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::TakePhoto,WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>>(WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v4 = *a3;
  *a3 = 0;
  v5 = WTF::fastMalloc(0x10);
  *v5 = &unk_1F1135668;
  v5[1] = v4;
  v10[3] = 0;
  v11 = v5;
  v10[0] = 0;
  v10[1] = 0;
  v10[2] = "operator()";
  isNothing = WTF::NativePromiseProducer<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::isNothing((a1 + 8));
  v7 = *(a1 + 8);
  if (isNothing)
  {
    if (v7)
    {
      atomic_fetch_add(v7 + 2, 1u);
      WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::settleWithFunction(v7, &v11, v10);
      if (atomic_fetch_add(v7 + 2, 0xFFFFFFFF) != 1)
      {
        goto LABEL_12;
      }

      goto LABEL_15;
    }

    WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::settleWithFunction(0, &v11, v10);
  }

  else
  {
    if (v7)
    {
      atomic_fetch_add(v7 + 2, 1u);
    }

    v8 = WTF::NativePromiseBase::logChannel(isNothing);
    if (*v8 && v8[16] >= 4u)
    {
      WTF::Logger::log<WTF::Logger::LogSiteIdentifier,char [12],WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>(v8, 4u, v10, " ignored already resolved or rejected ", v7);
    }

    if (v7 && atomic_fetch_add(v7 + 2, 0xFFFFFFFF) == 1)
    {
LABEL_15:
      atomic_store(1u, v7 + 2);
      (*(*v7 + 16))(v7);
    }
  }

LABEL_12:
  result = v11;
  if (v11)
  {
    return (*(*v11 + 8))(v11);
  }

  return result;
}

WTF::Lock *WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::settleWithFunction(uint64_t a1, uint64_t *a2, WTF::Logger::LogSiteIdentifier *a3)
{
  v6 = 0;
  v7 = (a1 + 48);
  v15 = v7;
  v16 = 1;
  atomic_compare_exchange_strong_explicit(v7, &v6, 1u, memory_order_acquire, memory_order_acquire);
  if (v6)
  {
    v7 = MEMORY[0x19EB01E30]();
  }

  v8 = WTF::NativePromiseBase::logChannel(v7);
  if (*v8)
  {
    v10 = v8[16] >= 4u;
  }

  else
  {
    v10 = 0;
  }

  if (v10)
  {
    WTF::Logger::log<WTF::Logger::LogSiteIdentifier,char [12],WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>(v8, 4u, a3, " settling ", a1);
  }

  if (*(a1 + 88) > 1u)
  {
    if (*(a1 + 88) == 2)
    {
      v11 = *(a1 + 56);
      *(a1 + 56) = 0;
      if (v11)
      {
        (*(*v11 + 8))(v11);
      }
    }
  }

  else if (*(a1 + 88))
  {
    mpark::variant<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>::~variant(a1 + 56, v9);
  }

  v12 = *a2;
  *a2 = 0;
  *(a1 + 56) = v12;
  *(a1 + 88) = 2;
  result = WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::dispatchAll(a1, &v15);
  v14 = v16;
  if (v16 == 1)
  {
    result = v15;
    atomic_compare_exchange_strong_explicit(v15, &v14, 0, memory_order_release, memory_order_relaxed);
    if (v14 != 1)
    {
      return WTF::Lock::unlockSlow(result);
    }
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::TakePhoto,WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>>(WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F1135668;
  std::unique_ptr<IPC::Decoder>::reset[abi:sn200100]((a1 + 8), 0);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::TakePhoto,WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>>(WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>>::~CallableWrapper(IPC::Decoder **a1)
{
  *a1 = &unk_1F1135668;
  std::unique_ptr<IPC::Decoder>::reset[abi:sn200100](a1 + 1, 0);

  return WTF::fastFree(a1, v2);
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::TakePhoto,WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>>(WTF::NativePromise<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>>::call@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  v3 = *(a1 + 8);
  if (!v3)
  {
    goto LABEL_26;
  }

  v4 = *v3;
  if (!*v3)
  {
    goto LABEL_26;
  }

  v5 = *(v3 + 1);
  v6 = *(v3 + 2);
  if (v5 <= v6 - v4)
  {
    *v3 = 0;
    *(v3 + 1) = 0;
    v29 = *(v3 + 3);
    if (v29)
    {
      if (v5)
      {
        (*(*v29 + 16))(v29);
        v4 = *v3;
        v5 = *(v3 + 1);
LABEL_48:
        *v3 = 0;
        *(v3 + 1) = 0;
        v30 = *(v3 + 3);
        if (v30)
        {
          if (v5)
          {
            (*(*v30 + 16))(v30, v4);
            v4 = *v3;
            v5 = *(v3 + 1);
LABEL_51:
            *v3 = 0;
            *(v3 + 1) = 0;
            v15 = *(v3 + 3);
            if (v15)
            {
              v31 = v5 == 0;
            }

            else
            {
              v31 = 1;
            }

            if (v31)
            {
              goto LABEL_19;
            }

            goto LABEL_36;
          }
        }

        else
        {
          v5 = 0;
        }

        v4 = 0;
        goto LABEL_51;
      }
    }

    else
    {
      v5 = 0;
    }

    v4 = 0;
    goto LABEL_48;
  }

  *(v3 + 2) = v6 + 1;
  if (!v6)
  {
    goto LABEL_48;
  }

  v7 = *v6;
  if (v7 >= 2)
  {
    goto LABEL_51;
  }

  if (v7)
  {
    IPC::VectorArgumentCoder<true,unsigned char,0ul,WTF::CrashOnOverflow,16ul>::decode<IPC::Decoder>(v3, &v39);
    if (v41)
    {
      while (1)
      {
        v8 = IPC::ArgumentCoder<WTF::String,void>::decode<IPC::Decoder>(v3, &v37);
        if ((v38 & 1) == 0)
        {
          v9 = *v3;
          v23 = *(v3 + 1);
          *v3 = 0;
          *(v3 + 1) = 0;
          v24 = *(v3 + 3);
          if (!v24)
          {
            break;
          }

          if (!v23)
          {
            break;
          }

          v8 = (*(*v24 + 16))(v24, v9);
          if ((v38 & 1) == 0)
          {
            break;
          }
        }

        if (v41)
        {
          v34[0] = v39;
          v34[1] = v40;
          v34[2] = v37;
          v35 = 0;
          goto LABEL_13;
        }

        __break(1u);
LABEL_29:
        if (v10)
        {
          (*(*v8 + 16))(v8, v9);
          if (v41)
          {
            continue;
          }
        }

        goto LABEL_18;
      }

      if (v41)
      {
        v25 = v39;
        if (v39)
        {
          v39 = 0;
          LODWORD(v40) = 0;
          WTF::fastFree(v25, v9);
        }
      }
    }

    else
    {
      v9 = *v3;
      v10 = *(v3 + 1);
      *v3 = 0;
      *(v3 + 1) = 0;
      v8 = *(v3 + 3);
      if (v8)
      {
        goto LABEL_29;
      }
    }

LABEL_18:
    v4 = *v3;
    v14 = *(v3 + 1);
    *v3 = 0;
    *(v3 + 1) = 0;
    v15 = *(v3 + 3);
    if (!v15 || !v14)
    {
      goto LABEL_19;
    }

LABEL_36:
    (*(*v15 + 16))(v15, v4);
    goto LABEL_19;
  }

  IPC::ArgumentCoder<WTF::String,void>::decode<IPC::Decoder>(v3, &v39);
  if (v40 & 1) != 0 || (v26 = *v3, v27 = *(v3 + 1), *v3 = 0, *(v3 + 1) = 0, (v28 = *(v3 + 3)) != 0) && v27 && ((*(*v28 + 16))(v28, v26), (v40))
  {
    v34[0] = v39;
    v35 = 1;
LABEL_13:
    v36 = 1;
    mpark::detail::move_assignment<mpark::detail::traits<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>,(mpark::detail::Trait)1>::move_assignment(v32, v34);
    v33 = 1;
    if ((v36 & 1) == 0)
    {
      goto LABEL_15;
    }

    mpark::variant<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>::~variant(v34, v11);
    if (v33)
    {
      goto LABEL_15;
    }

    goto LABEL_25;
  }

LABEL_19:
  v16 = *v3;
  v17 = *(v3 + 1);
  *v3 = 0;
  *(v3 + 1) = 0;
  v18 = *(v3 + 3);
  if (v18)
  {
    v19 = v17 == 0;
  }

  else
  {
    v19 = 1;
  }

  if (!v19)
  {
    (*(*v18 + 16))(v18, v16);
  }

  LOBYTE(v32[0]) = 0;
  v33 = 0;
LABEL_25:
  v20 = *v3;
  v21 = *(v3 + 1);
  *v3 = 0;
  *(v3 + 1) = 0;
  v22 = *(v3 + 3);
  if (!v22 || !v21 || ((*(*v22 + 16))(v22, v20), (v33 & 1) == 0))
  {
LABEL_26:
    result = WTF::StringImpl::createWithoutCopyingNonEmpty();
    *(a2 + 24) = 1;
    return result;
  }

LABEL_15:
  result = mpark::detail::move_assignment<mpark::detail::traits<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>,(mpark::detail::Trait)1>::move_assignment(a2, v32);
  if (v33)
  {
    return mpark::variant<std::pair<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::String>,WTF::String>::~variant(v32, v13);
  }

  return result;
}

uint64_t WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::assertIsDead(uint64_t result)
{
  v1 = result;
  v2 = 0;
  v3 = (result + 48);
  atomic_compare_exchange_strong_explicit((result + 48), &v2, 1u, memory_order_acquire, memory_order_acquire);
  if (v2)
  {
    result = MEMORY[0x19EB01E30](result + 48);
  }

  v4 = *(v1 + 252);
  if (v4)
  {
    v5 = *(v1 + 240);
    v6 = 40 * v4;
    do
    {
      result = WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::assertIsDead(v5);
      v5 += 40;
      v6 -= 40;
    }

    while (v6);
  }

  v7 = 1;
  atomic_compare_exchange_strong_explicit(v3, &v7, 0, memory_order_release, memory_order_relaxed);
  if (v7 != 1)
  {

    return WTF::Lock::unlockSlow(v3);
  }

  return result;
}

uint64_t WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromise(uint64_t a1)
{
  v1 = WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromise(a1);

  return WTF::fastFree(v1, v2);
}

{
  v36[2] = *MEMORY[0x1E69E9840];
  v2 = WTF::NativePromiseBase::logChannel(a1);
  if (*v2)
  {
    v3 = v2[16] >= 4u;
  }

  else
  {
    v3 = 0;
  }

  if (v3)
  {
    v4 = v2;
    WTF::String::String(&v32, "destroying ");
    WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, &v31);
    *buf = v32;
    v30[0] = v31;
    result = WTF::tryMakeStringFromAdapters<WTF::StringTypeAdapter<WTF::String,void>,WTF::StringTypeAdapter<WTF::String,void>>(buf, v30, &v33);
    if (!v33)
    {
      __break(0xC471u);
      return result;
    }

    v7 = v31;
    v31 = 0;
    if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v7, v6);
    }

    v8 = v32;
    v32 = 0;
    if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v8, v6);
    }

    v9 = *(v4 + 4);
    v10 = os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT);
    if (v10)
    {
      WTF::String::utf8();
      v12 = v30[0] ? v30[0] + 16 : 0;
      *buf = 136446210;
      *&buf[4] = v12;
      _os_log_impl(&dword_19D52D000, v9, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
      v10 = v30[0];
      v30[0] = 0;
      if (v10)
      {
        if (*v10 == 1)
        {
          v10 = WTF::fastFree(v10, v11);
        }

        else
        {
          --*v10;
        }
      }
    }

    if (*v4 && v4[16] >= 4u)
    {
      v13 = MEMORY[0x1E696EBC0];
      while (1)
      {
        v14 = *v13;
        if (v14)
        {
          break;
        }

        v15 = *v13;
        atomic_compare_exchange_strong_explicit(v13, &v15, v14 | 1, memory_order_acquire, memory_order_acquire);
        if (v15 == v14)
        {
          v16 = WTF::Logger::observers(v10);
          v17 = *(v16 + 12);
          if (v17)
          {
            v18 = *v16;
            v19 = *v16 + 8 * v17;
            do
            {
              v20 = *v18;
              *buf = 0;
              WTF::String::String(&buf[8], "destroying ");
              v35 = 0;
              WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, v36);
              WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v30, buf, 2uLL);
              (*(*v20 + 16))(v20, v4, 4, v30);
              WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v30, v21);
              for (i = 24; i != -8; i -= 16)
              {
                v23 = *&buf[i];
                *&buf[i] = 0;
                if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v23, v11);
                }
              }

              ++v18;
            }

            while (v18 != v19);
          }

          v24 = 1;
          atomic_compare_exchange_strong_explicit(v13, &v24, 0, memory_order_release, memory_order_relaxed);
          if (v24 != 1)
          {
            WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
          }

          break;
        }
      }
    }

    v25 = v33;
    v33 = 0;
    if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v25, v11);
    }
  }

  WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::assertIsDead(a1);
  WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(a1 + 240, v26);
  WTF::Vector<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(a1 + 216, v27);
  if (*(a1 + 208) > 1u)
  {
    if (*(a1 + 208) == 2)
    {
      v29 = *(a1 + 56);
      *(a1 + 56) = 0;
      if (v29)
      {
        (*(*v29 + 8))(v29);
      }
    }
  }

  else if (*(a1 + 208))
  {
    std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(a1 + 56, v28);
  }

  *(a1 + 208) = -1;
  return a1;
}

atomic_uint **WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::assertIsDead(atomic_uint **result)
{
  v1 = *result;
  if (*result)
  {
    atomic_fetch_add(v1 + 2, 1u);
    result = WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::assertIsDead(v1);
    if (atomic_fetch_add(v1 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v1 + 2);
      v2 = *(*v1 + 16);

      return v2(v1);
    }
  }

  return result;
}

uint64_t WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(uint64_t a1, void *a2)
{
  v3 = *(a1 + 12);
  if (v3)
  {
    v4 = *a1;
    v5 = 40 * v3;
    do
    {
      v4 = WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromiseProducer(v4) + 5;
      v5 -= 40;
    }

    while (v5);
  }

  v6 = *a1;
  if (*a1)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v6, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoCapabilities,WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F11356B8;
  WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromiseProducer((a1 + 8));
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoCapabilities,WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::~CallableWrapper(atomic_uint **a1)
{
  *a1 = &unk_1F11356B8;
  WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromiseProducer(a1 + 1);

  return WTF::fastFree(a1, v2);
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoCapabilities,WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v47[1] = *MEMORY[0x1E69E9840];
  v4 = *a3;
  *a3 = 0;
  v5 = WTF::fastMalloc(0x10);
  *v5 = &unk_1F11356E0;
  *(v5 + 1) = v4;
  v36[3] = 0;
  v37 = v5;
  v36[0] = 0;
  v36[1] = 0;
  v36[2] = "operator()";
  v6 = *(a1 + 8);
  v7 = 1;
  if (!v6)
  {
    v11 = 0;
    goto LABEL_12;
  }

  v8 = 0;
  atomic_fetch_add((v6 + 8), 1u);
  atomic_compare_exchange_strong_explicit((v6 + 48), &v8, 1u, memory_order_acquire, memory_order_acquire);
  if (v8)
  {
    v5 = MEMORY[0x19EB01E30](v6 + 48);
  }

  v9 = *(v6 + 208);
  v10 = 1;
  atomic_compare_exchange_strong_explicit((v6 + 48), &v10, 0, memory_order_release, memory_order_relaxed);
  if (v10 != 1)
  {
    v5 = WTF::Lock::unlockSlow((v6 + 48));
  }

  if (atomic_fetch_add((v6 + 8), 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, (v6 + 8));
    v5 = (*(*v6 + 16))(v6);
  }

  v11 = *(a1 + 8);
  if (v9)
  {
    if (v11)
    {
      atomic_fetch_add(v11 + 2, 1u);
      v7 = 0;
    }

LABEL_12:
    v12 = WTF::NativePromiseBase::logChannel(v5);
    if (*v12)
    {
      v13 = v12;
      if (v12[16] >= 4u)
      {
        WTF::Logger::LogSiteIdentifier::toString(&v41, v36);
        WTF::String::String(&v40, " ignored already resolved or rejected ");
        WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v11, &v39);
        WTF::makeString<WTF::String,WTF::String,WTF::String>(&v41, &v40, &v39, &v42);
        v15 = v39;
        v39 = 0;
        if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v15, v14);
        }

        v16 = v40;
        v40 = 0;
        if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v16, v14);
        }

        v17 = v41;
        v41 = 0;
        if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v17, v14);
        }

        v18 = *(v13 + 4);
        v19 = os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT);
        if (v19)
        {
          WTF::String::utf8();
          v21 = v38[0] ? v38[0] + 16 : 0;
          *buf = 136446210;
          v44 = v21;
          _os_log_impl(&dword_19D52D000, v18, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
          v19 = v38[0];
          v38[0] = 0;
          if (v19)
          {
            if (*v19 == 1)
            {
              v19 = WTF::fastFree(v19, v20);
            }

            else
            {
              --*v19;
            }
          }
        }

        if (*v13 && v13[16] >= 4u)
        {
          v22 = MEMORY[0x1E696EBC0];
          while (1)
          {
            v23 = *v22;
            if (v23)
            {
              break;
            }

            v24 = *v22;
            atomic_compare_exchange_strong_explicit(v22, &v24, v23 | 1, memory_order_acquire, memory_order_acquire);
            if (v24 == v23)
            {
              v25 = WTF::Logger::observers(v19);
              v26 = *(v25 + 12);
              if (v26)
              {
                v27 = *v25;
                v28 = *v25 + 8 * v26;
                do
                {
                  v29 = *v27;
                  *buf = 0;
                  WTF::Logger::LogSiteIdentifier::toString((&v44 + 4), v36);
                  v45 = 0;
                  WTF::String::String(v46, " ignored already resolved or rejected ");
                  v46[2] = 0;
                  WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v11, v47);
                  WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v38, buf, 3uLL);
                  (*(*v29 + 16))(v29, v13, 4, v38);
                  WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v38, v30);
                  for (i = 40; i != -8; i -= 16)
                  {
                    v32 = *&buf[i];
                    *&buf[i] = 0;
                    if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      WTF::StringImpl::destroy(v32, v20);
                    }
                  }

                  ++v27;
                }

                while (v27 != v28);
              }

              v33 = 1;
              atomic_compare_exchange_strong_explicit(v22, &v33, 0, memory_order_release, memory_order_relaxed);
              if (v33 != 1)
              {
                WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
              }

              break;
            }
          }
        }

        v34 = v42;
        v42 = 0;
        if (v34 && atomic_fetch_add_explicit(v34, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v34, v20);
        }
      }
    }

    if ((v7 & 1) == 0 && atomic_fetch_add(v11 + 2, 0xFFFFFFFF) == 1)
    {
LABEL_53:
      atomic_store(1u, v11 + 2);
      (*(*v11 + 16))(v11);
      goto LABEL_54;
    }

    goto LABEL_54;
  }

  if (v11)
  {
    atomic_fetch_add(v11 + 2, 1u);
    WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::settleWithFunction(v11, &v37, v36);
    if (atomic_fetch_add(v11 + 2, 0xFFFFFFFF) != 1)
    {
      goto LABEL_54;
    }

    goto LABEL_53;
  }

  WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::settleWithFunction(0, &v37, v36);
LABEL_54:
  result = v37;
  if (v37)
  {
    return (*(*v37 + 8))(v37);
  }

  return result;
}

WTF::Lock *WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::settleWithFunction(uint64_t a1, uint64_t *a2, WTF::Logger::LogSiteIdentifier *a3)
{
  v6 = 0;
  v47[2] = *MEMORY[0x1E69E9840];
  v7 = (a1 + 48);
  v36 = v7;
  v37 = 1;
  atomic_compare_exchange_strong_explicit(v7, &v6, 1u, memory_order_acquire, memory_order_acquire);
  if (v6)
  {
    v7 = MEMORY[0x19EB01E30]();
  }

  v8 = WTF::NativePromiseBase::logChannel(v7);
  if (*v8)
  {
    v10 = v8[16] >= 4u;
  }

  else
  {
    v10 = 0;
  }

  if (v10)
  {
    v11 = v8;
    WTF::Logger::LogSiteIdentifier::toString(&v41, a3);
    WTF::String::String(&v40, " settling ");
    WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, &v39);
    WTF::makeString<WTF::String,WTF::String,WTF::String>(&v41, &v40, &v39, &v42);
    v13 = v39;
    v39 = 0;
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v12);
    }

    v14 = v40;
    v40 = 0;
    if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v14, v12);
    }

    v15 = v41;
    v41 = 0;
    if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v15, v12);
    }

    v16 = *(v11 + 4);
    v17 = os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT);
    if (v17)
    {
      WTF::String::utf8();
      v18 = v38[0] ? v38[0] + 16 : 0;
      *buf = 136446210;
      v44 = v18;
      _os_log_impl(&dword_19D52D000, v16, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
      v17 = v38[0];
      v38[0] = 0;
      if (v17)
      {
        if (*v17 == 1)
        {
          v17 = WTF::fastFree(v17, v9);
        }

        else
        {
          --*v17;
        }
      }
    }

    if (*v11 && v11[16] >= 4u)
    {
      v19 = MEMORY[0x1E696EBC0];
      while (1)
      {
        v20 = *v19;
        if (v20)
        {
          break;
        }

        v21 = *v19;
        atomic_compare_exchange_strong_explicit(v19, &v21, v20 | 1, memory_order_acquire, memory_order_acquire);
        if (v21 == v20)
        {
          v22 = WTF::Logger::observers(v17);
          v23 = *(v22 + 12);
          if (v23)
          {
            v24 = *v22;
            v25 = *v22 + 8 * v23;
            do
            {
              v26 = *v24;
              *buf = 0;
              WTF::Logger::LogSiteIdentifier::toString((&v44 + 4), a3);
              v45 = 0;
              WTF::String::String(v46, " settling ");
              v46[2] = 0;
              WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, v47);
              WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v38, buf, 3uLL);
              (*(*v26 + 16))(v26, v11, 4, v38);
              WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v38, v27);
              for (i = 40; i != -8; i -= 16)
              {
                v29 = *&buf[i];
                *&buf[i] = 0;
                if (v29 && atomic_fetch_add_explicit(v29, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v29, v9);
                }
              }

              ++v24;
            }

            while (v24 != v25);
          }

          v30 = 1;
          atomic_compare_exchange_strong_explicit(v19, &v30, 0, memory_order_release, memory_order_relaxed);
          if (v30 != 1)
          {
            WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
          }

          break;
        }
      }
    }

    v31 = v42;
    v42 = 0;
    if (v31 && atomic_fetch_add_explicit(v31, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v31, v9);
    }
  }

  if (*(a1 + 208) > 1u)
  {
    if (*(a1 + 208) == 2)
    {
      v32 = *(a1 + 56);
      *(a1 + 56) = 0;
      if (v32)
      {
        (*(*v32 + 8))(v32);
      }
    }
  }

  else if (*(a1 + 208))
  {
    std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(a1 + 56, v9);
  }

  v33 = *a2;
  *a2 = 0;
  *(a1 + 56) = v33;
  *(a1 + 208) = 2;
  result = WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::dispatchAll(a1, &v36);
  v35 = v37;
  if (v37 == 1)
  {
    result = v36;
    atomic_compare_exchange_strong_explicit(v36, &v35, 0, memory_order_release, memory_order_relaxed);
    if (v35 != 1)
    {
      return WTF::Lock::unlockSlow(result);
    }
  }

  return result;
}

uint64_t WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::dispatchAll(uint64_t a1, atomic_uchar *volatile *a2)
{
  v29[0] = &v29[2];
  v29[1] = 1;
  __dst = &v24;
  v23 = 1;
  WTF::VectorBuffer<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::FastMalloc>::adopt(&__dst, (a1 + 216));
  v4 = *(a1 + 228);
  if (v4)
  {
    WTF::VectorDestructor<true,WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>>::destruct(*(a1 + 216), (*(a1 + 216) + 8 * v4));
  }

  WTF::VectorBuffer<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::FastMalloc>::adopt((a1 + 216), v29);
  WTF::Vector<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v29, v5);
  *&v6 = 0;
  v7 = *(a1 + 240);
  v19 = v7;
  v8 = *(a1 + 252);
  v20 = *(a1 + 248);
  v21 = v8;
  *v29 = v6;
  *(a1 + 240) = 0;
  *(a1 + 248) = 0;
  WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v29, v9);
  if (HIDWORD(v23))
  {
    v11 = __dst;
    v12 = 8 * HIDWORD(v23);
    do
    {
      v13 = *v11++;
      WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::ThenCallbackBase::dispatch(v13, a1, a2);
      v12 -= 8;
    }

    while (v12);
  }

  if (v8)
  {
    v14 = v7 + 40 * v8;
    do
    {
      v15 = *v7;
      *v7 = 0;
      v29[0] = v15;
      v16 = *(v7 + 24);
      *&v29[1] = *(v7 + 8);
      *&v29[3] = v16;
      if (v15)
      {
        atomic_fetch_add(v15 + 2, 1u);
        v25 = 0;
        v26 = 0;
        v27 = "<chained promise>";
        v28 = 0;
        WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::settleAsChainedPromise<WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Storage>(v15, a1 + 56, &v25);
        if (atomic_fetch_add(v15 + 2, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v15 + 2);
          (*(*v15 + 16))(v15);
        }
      }

      else
      {
        v25 = 0;
        v26 = 0;
        v27 = "<chained promise>";
        v28 = 0;
        WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::settleAsChainedPromise<WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Storage>(0, a1 + 56, &v25);
      }

      WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromiseProducer(v29);
      v7 += 40;
    }

    while (v7 != v14);
  }

  WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v19, v10);
  return WTF::Vector<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&__dst, v17);
}

uint64_t mpark::variant<WebCore::PhotoCapabilities,WTF::String>::variant(uint64_t a1, uint64_t *a2)
{
  *a1 = 0;
  *(a1 + 144) = -1;
  if (*(a2 + 144) != 255)
  {
    if (*(a2 + 144))
    {
      v11 = *a2;
      *a2 = 0;
      *a1 = v11;
    }

    else
    {
      v4 = *a2;
      v5 = *(a2 + 1);
      v6 = *(a2 + 3);
      *(a1 + 32) = *(a2 + 2);
      *(a1 + 48) = v6;
      *a1 = v4;
      *(a1 + 16) = v5;
      v7 = *(a2 + 4);
      v8 = *(a2 + 5);
      v9 = *(a2 + 6);
      *(a1 + 112) = *(a2 + 112);
      *(a1 + 80) = v8;
      *(a1 + 96) = v9;
      *(a1 + 64) = v7;
      *(a1 + 120) = 0;
      v10 = (a1 + 120);
      *(a1 + 136) = 0;
      if (*(a2 + 136) == 1)
      {
        *v10 = 0;
        *(a1 + 128) = 0;
        WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(v10, a2 + 30);
        *(a1 + 136) = 1;
      }
    }

    *(a1 + 144) = *(a2 + 144);
  }

  return a1;
}

WTF::Lock *WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::settleAsChainedPromise<WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Storage>(uint64_t a1, uint64_t a2, WTF::Logger::LogSiteIdentifier *a3)
{
  v6 = 0;
  v28 = *MEMORY[0x1E69E9840];
  v7 = (a1 + 48);
  v24 = v7;
  v25 = 1;
  atomic_compare_exchange_strong_explicit(v7, &v6, 1u, memory_order_acquire, memory_order_acquire);
  if (v6)
  {
    v7 = MEMORY[0x19EB01E30]();
  }

  v8 = WTF::NativePromiseBase::logChannel(v7);
  if (*v8)
  {
    v10 = v8[16] >= 4u;
  }

  else
  {
    v10 = 0;
  }

  if (v10)
  {
    WTF::Logger::log<WTF::Logger::LogSiteIdentifier,char [27],WTF::NativePromise<WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WebCore::PlatformMediaError,0u>>(v8, a3, " settling chained promise ", a1);
  }

  v11 = *(a1 + 208);
  v12 = *(a2 + 152);
  if (v11 != 255 || v12 != 255)
  {
    switch(v12)
    {
      case 255:
        if (*(a1 + 208) > 1u)
        {
          if (v11 == 2)
          {
            v15 = *(a1 + 56);
            *(a1 + 56) = 0;
            if (v15)
            {
              (*(*v15 + 8))(v15);
            }
          }
        }

        else if (*(a1 + 208))
        {
          std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(a1 + 56, v9);
        }

        v16 = -1;
        goto LABEL_24;
      case 2:
        if (*(a1 + 208) > 1u)
        {
          if (v11 != 255)
          {
            v22 = *a2;
            *a2 = 0;
            v23 = *(a1 + 56);
            *(a1 + 56) = v22;
            if (v23)
            {
              (*(*v23 + 8))(v23);
            }

            goto LABEL_25;
          }
        }

        else if (*(a1 + 208))
        {
          std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(a1 + 56, v9);
        }

        v20 = *a2;
        *a2 = 0;
        *(a1 + 56) = v20;
        v16 = 2;
LABEL_24:
        *(a1 + 208) = v16;
        goto LABEL_25;
      case 1:
        if (*(a1 + 208) > 1u)
        {
          if (v11 == 2)
          {
            v19 = *(a1 + 56);
            *(a1 + 56) = 0;
            if (v19)
            {
              (*(*v19 + 8))(v19);
            }
          }
        }

        else if (*(a1 + 208))
        {
          mpark::variant<WebCore::PhotoCapabilities,WTF::String>::variant(v26, a2);
          mpark::variant<WebCore::PhotoCapabilities,WTF::String>::variant(v27, v26);
          mpark::variant<WebCore::PhotoCapabilities,WTF::String>::operator=(v26, (a1 + 56));
          mpark::variant<WebCore::PhotoCapabilities,WTF::String>::operator=(a1 + 56, v27);
          std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(v27, v13);
          std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(v26, v14);
          goto LABEL_25;
        }

        *(a1 + 208) = -1;
        mpark::variant<WebCore::PhotoCapabilities,WTF::String>::variant(a1 + 56, a2);
        v16 = 1;
        goto LABEL_24;
    }

    if (*(a1 + 208) > 1u)
    {
      if (v11 == 2)
      {
        v21 = *(a1 + 56);
        *(a1 + 56) = 0;
        if (v21)
        {
          (*(*v21 + 8))(v21);
        }
      }
    }

    else
    {
      if (!*(a1 + 208))
      {
        goto LABEL_25;
      }

      std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(a1 + 56, v9);
    }

    *(a1 + 208) = 0;
  }

LABEL_25:
  result = WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::dispatchAll(a1, &v24);
  v18 = v25;
  if (v25 == 1)
  {
    result = v24;
    atomic_compare_exchange_strong_explicit(v24, &v18, 0, memory_order_release, memory_order_relaxed);
    if (v18 != 1)
    {
      return WTF::Lock::unlockSlow(result);
    }
  }

  return result;
}

uint64_t mpark::variant<WebCore::PhotoCapabilities,WTF::String>::operator=(uint64_t a1, WTF::StringImpl *a2)
{
  v4 = *(a1 + 144);
  v5 = *(a2 + 144);
  if (v4 == 255 && v5 == 255)
  {
    return a1;
  }

  if (v5 == 255)
  {
    if (v4 != 255)
    {
      if (*(a1 + 144))
      {
        v15 = *a1;
        *a1 = 0;
        if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v15, a2);
        }
      }

      else if (*(a1 + 136) == 1)
      {
        v6 = *(a1 + 120);
        if (v6)
        {
          *(a1 + 120) = 0;
          *(a1 + 128) = 0;
          WTF::fastFree(v6, a2);
        }
      }
    }

    v16 = -1;
    goto LABEL_32;
  }

  if (*(a2 + 144))
  {
    if (*(a1 + 144))
    {
      if (v4 != 255)
      {
        if (v4 == 1)
        {
          v7 = *a2;
          *a2 = 0;
          v8 = *a1;
          *a1 = v7;
          if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v8, a2);
          }

          return a1;
        }

        v18 = *a1;
        *a1 = 0;
        if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v18, a2);
        }
      }
    }

    else if (*(a1 + 136) == 1)
    {
      v17 = *(a1 + 120);
      if (v17)
      {
        *(a1 + 120) = 0;
        *(a1 + 128) = 0;
        WTF::fastFree(v17, a2);
      }
    }

    v19 = *a2;
    *a2 = 0;
    *a1 = v19;
    v16 = 1;
LABEL_32:
    *(a1 + 144) = v16;
    return a1;
  }

  if (v4 != 255)
  {
    if (!*(a1 + 144))
    {
      v9 = *a2;
      v10 = *(a2 + 1);
      v11 = *(a2 + 3);
      *(a1 + 32) = *(a2 + 2);
      *(a1 + 48) = v11;
      *a1 = v9;
      *(a1 + 16) = v10;
      v12 = *(a2 + 4);
      v13 = *(a2 + 5);
      v14 = *(a2 + 6);
      *(a1 + 112) = *(a2 + 112);
      *(a1 + 80) = v13;
      *(a1 + 96) = v14;
      *(a1 + 64) = v12;
      if (*(a1 + 136) == *(a2 + 136))
      {
        if (*(a1 + 136))
        {
          WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(a1 + 120, a2 + 30);
        }
      }

      else if (*(a1 + 136))
      {
        v29 = *(a1 + 120);
        if (v29)
        {
          *(a1 + 120) = 0;
          *(a1 + 128) = 0;
          WTF::fastFree(v29, a2);
        }

        *(a1 + 136) = 0;
      }

      else
      {
        *(a1 + 120) = 0;
        *(a1 + 128) = 0;
        WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(a1 + 120, a2 + 30);
        *(a1 + 136) = 1;
      }

      return a1;
    }

    v21 = *a1;
    *a1 = 0;
    if (v21 && atomic_fetch_add_explicit(v21, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v21, a2);
    }
  }

  *(a1 + 144) = -1;
  v22 = *a2;
  v23 = *(a2 + 1);
  v24 = *(a2 + 3);
  *(a1 + 32) = *(a2 + 2);
  *(a1 + 48) = v24;
  *a1 = v22;
  *(a1 + 16) = v23;
  v25 = *(a2 + 4);
  v26 = *(a2 + 5);
  v27 = *(a2 + 6);
  *(a1 + 112) = *(a2 + 112);
  *(a1 + 80) = v26;
  *(a1 + 96) = v27;
  *(a1 + 64) = v25;
  *(a1 + 120) = 0;
  v28 = (a1 + 120);
  *(a1 + 136) = 0;
  if (*(a2 + 136) == 1)
  {
    *v28 = 0;
    *(a1 + 128) = 0;
    WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(v28, a2 + 30);
    *(a1 + 136) = 1;
  }

  *(a1 + 144) = 0;
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoCapabilities,WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F11356E0;
  std::unique_ptr<IPC::Decoder>::reset[abi:sn200100]((a1 + 8), 0);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoCapabilities,WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>>::~CallableWrapper(IPC::Decoder **a1)
{
  *a1 = &unk_1F11356E0;
  std::unique_ptr<IPC::Decoder>::reset[abi:sn200100](a1 + 1, 0);

  return WTF::fastFree(a1, v2);
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoCapabilities,WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoCapabilities,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>>::call@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  v43 = *MEMORY[0x1E69E9840];
  v3 = *(a1 + 8);
  if (!v3)
  {
    goto LABEL_25;
  }

  v4 = *v3;
  if (!*v3)
  {
    goto LABEL_25;
  }

  v5 = *(v3 + 1);
  v6 = *(v3 + 2);
  if (v5 <= &v6[-v4])
  {
    *v3 = 0;
    *(v3 + 1) = 0;
    v24 = *(v3 + 3);
    if (v24)
    {
      if (v5)
      {
        (*(*v24 + 16))(v24);
        v4 = *v3;
        v5 = *(v3 + 1);
LABEL_40:
        *v3 = 0;
        *(v3 + 1) = 0;
        v25 = *(v3 + 3);
        if (v25)
        {
          if (v5)
          {
            (*(*v25 + 16))(v25, v4);
            v4 = *v3;
            v5 = *(v3 + 1);
LABEL_43:
            *v3 = 0;
            *(v3 + 1) = 0;
            v26 = *(v3 + 3);
            if (v26)
            {
              v27 = v5 == 0;
            }

            else
            {
              v27 = 1;
            }

            if (!v27)
            {
              (*(*v26 + 16))(v26, v4, v5);
            }

            goto LABEL_18;
          }
        }

        else
        {
          v5 = 0;
        }

        v4 = 0;
        goto LABEL_43;
      }
    }

    else
    {
      v5 = 0;
    }

    v4 = 0;
    goto LABEL_40;
  }

  *(v3 + 2) = v6 + 1;
  if (!v6)
  {
    goto LABEL_40;
  }

  v7 = *v6;
  if (v7 >= 2)
  {
    goto LABEL_43;
  }

  if (v7)
  {
    IPC::ArgumentCoder<WebCore::PhotoCapabilities,void>::decode(v3, v28);
    if ((v33 & 1) == 0)
    {
      v11 = *v3;
      v12 = *(v3 + 1);
      *v3 = 0;
      *(v3 + 1) = 0;
      v13 = *(v3 + 3);
      if (!v13)
      {
        goto LABEL_18;
      }

      if (!v12)
      {
        goto LABEL_18;
      }

      (*(*v13 + 16))(v13, v11);
      if ((v33 & 1) == 0)
      {
        goto LABEL_18;
      }
    }

    v36[4] = v28[4];
    v36[5] = v28[5];
    v36[6] = v28[6];
    v37 = v29;
    v36[0] = v28[0];
    v36[1] = v28[1];
    v36[2] = v28[2];
    v36[3] = v28[3];
    LOBYTE(v38) = 0;
    v40 = 0;
    if (v32 == 1)
    {
      v38 = v30;
      v39 = v31;
      v40 = 1;
    }

    v41 = 0;
LABEL_13:
    v42 = 1;
    mpark::variant<WebCore::PhotoCapabilities,WTF::String>::variant(v34, v36);
    v35 = 1;
    if ((v42 & 1) == 0)
    {
      goto LABEL_15;
    }

    std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(v36, v8);
    if (v35)
    {
      goto LABEL_15;
    }

    goto LABEL_24;
  }

  IPC::ArgumentCoder<WTF::String,void>::decode<IPC::Decoder>(v3, v28);
  if (BYTE8(v28[0]) & 1) != 0 || (v21 = *v3, v22 = *(v3 + 1), *v3 = 0, *(v3 + 1) = 0, (v23 = *(v3 + 3)) != 0) && v22 && ((*(*v23 + 16))(v23, v21), (BYTE8(v28[0])))
  {
    *&v36[0] = *&v28[0];
    v41 = 1;
    goto LABEL_13;
  }

LABEL_18:
  v14 = *v3;
  v15 = *(v3 + 1);
  *v3 = 0;
  *(v3 + 1) = 0;
  v16 = *(v3 + 3);
  if (v16)
  {
    v17 = v15 == 0;
  }

  else
  {
    v17 = 1;
  }

  if (!v17)
  {
    (*(*v16 + 16))(v16, v14);
  }

  LOBYTE(v34[0]) = 0;
  v35 = 0;
LABEL_24:
  v18 = *v3;
  v19 = *(v3 + 1);
  *v3 = 0;
  *(v3 + 1) = 0;
  v20 = *(v3 + 3);
  if (!v20 || !v19 || ((*(*v20 + 16))(v20, v18), (v35 & 1) == 0))
  {
LABEL_25:
    result = WTF::StringImpl::createWithoutCopyingNonEmpty();
    *(a2 + 144) = 1;
    return result;
  }

LABEL_15:
  result = mpark::variant<WebCore::PhotoCapabilities,WTF::String>::variant(a2, v34);
  if (v35)
  {
    return std::experimental::fundamentals_v3::expected<WebCore::PhotoCapabilities,WTF::String>::~expected(v34, v10);
  }

  return result;
}

atomic_uint **WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::~NativePromiseProducer(atomic_uint **a1)
{
  WTF::NativePromiseProducer<WebCore::PhotoCapabilities,WTF::String,0u>::assertIsDead(a1);
  v2 = *a1;
  *a1 = 0;
  if (v2 && atomic_fetch_add(v2 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v2 + 2);
    (*(*v2 + 16))(v2);
  }

  return a1;
}

uint64_t WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::assertIsDead(uint64_t result)
{
  v1 = result;
  v2 = 0;
  v3 = (result + 48);
  atomic_compare_exchange_strong_explicit((result + 48), &v2, 1u, memory_order_acquire, memory_order_acquire);
  if (v2)
  {
    result = MEMORY[0x19EB01E30](result + 48);
  }

  v4 = *(v1 + 156);
  if (v4)
  {
    v5 = *(v1 + 144);
    v6 = 40 * v4;
    do
    {
      result = WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::assertIsDead(v5);
      v5 += 40;
      v6 -= 40;
    }

    while (v6);
  }

  v7 = 1;
  atomic_compare_exchange_strong_explicit(v3, &v7, 0, memory_order_release, memory_order_relaxed);
  if (v7 != 1)
  {

    return WTF::Lock::unlockSlow(v3);
  }

  return result;
}

uint64_t WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::~NativePromise(uint64_t a1)
{
  v1 = WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::~NativePromise(a1);

  return WTF::fastFree(v1, v2);
}

{
  v36[2] = *MEMORY[0x1E69E9840];
  v2 = WTF::NativePromiseBase::logChannel(a1);
  if (*v2)
  {
    v3 = v2[16] >= 4u;
  }

  else
  {
    v3 = 0;
  }

  if (v3)
  {
    v4 = v2;
    WTF::String::String(&v32, "destroying ");
    WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, &v31);
    *buf = v32;
    v30[0] = v31;
    result = WTF::tryMakeStringFromAdapters<WTF::StringTypeAdapter<WTF::String,void>,WTF::StringTypeAdapter<WTF::String,void>>(buf, v30, &v33);
    if (!v33)
    {
      __break(0xC471u);
      return result;
    }

    v7 = v31;
    v31 = 0;
    if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v7, v6);
    }

    v8 = v32;
    v32 = 0;
    if (v8 && atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v8, v6);
    }

    v9 = *(v4 + 4);
    v10 = os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT);
    if (v10)
    {
      WTF::String::utf8();
      v12 = v30[0] ? v30[0] + 16 : 0;
      *buf = 136446210;
      *&buf[4] = v12;
      _os_log_impl(&dword_19D52D000, v9, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
      v10 = v30[0];
      v30[0] = 0;
      if (v10)
      {
        if (*v10 == 1)
        {
          v10 = WTF::fastFree(v10, v11);
        }

        else
        {
          --*v10;
        }
      }
    }

    if (*v4 && v4[16] >= 4u)
    {
      v13 = MEMORY[0x1E696EBC0];
      while (1)
      {
        v14 = *v13;
        if (v14)
        {
          break;
        }

        v15 = *v13;
        atomic_compare_exchange_strong_explicit(v13, &v15, v14 | 1, memory_order_acquire, memory_order_acquire);
        if (v15 == v14)
        {
          v16 = WTF::Logger::observers(v10);
          v17 = *(v16 + 12);
          if (v17)
          {
            v18 = *v16;
            v19 = *v16 + 8 * v17;
            do
            {
              v20 = *v18;
              *buf = 0;
              WTF::String::String(&buf[8], "destroying ");
              v35 = 0;
              WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, v36);
              WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v30, buf, 2uLL);
              (*(*v20 + 16))(v20, v4, 4, v30);
              WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v30, v21);
              for (i = 24; i != -8; i -= 16)
              {
                v23 = *&buf[i];
                *&buf[i] = 0;
                if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v23, v11);
                }
              }

              ++v18;
            }

            while (v18 != v19);
          }

          v24 = 1;
          atomic_compare_exchange_strong_explicit(v13, &v24, 0, memory_order_release, memory_order_relaxed);
          if (v24 != 1)
          {
            WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
          }

          break;
        }
      }
    }

    v25 = v33;
    v33 = 0;
    if (v25 && atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v25, v11);
    }
  }

  WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::assertIsDead(a1);
  WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(a1 + 144, v26);
  WTF::Vector<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(a1 + 120, v27);
  if (*(a1 + 112) > 1u)
  {
    if (*(a1 + 112) == 2)
    {
      v29 = *(a1 + 56);
      *(a1 + 56) = 0;
      if (v29)
      {
        (*(*v29 + 8))(v29);
      }
    }
  }

  else if (*(a1 + 112))
  {
    mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(a1 + 56, v28);
  }

  *(a1 + 112) = -1;
  return a1;
}

atomic_uint **WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::assertIsDead(atomic_uint **result)
{
  v1 = *result;
  if (*result)
  {
    atomic_fetch_add(v1 + 2, 1u);
    result = WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::assertIsDead(v1);
    if (atomic_fetch_add(v1 + 2, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v1 + 2);
      v2 = *(*v1 + 16);

      return v2(v1);
    }
  }

  return result;
}

uint64_t WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(uint64_t a1, void *a2)
{
  v3 = *(a1 + 12);
  if (v3)
  {
    v4 = *a1;
    v5 = 40 * v3;
    do
    {
      v4 = WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::~NativePromiseProducer(v4) + 5;
      v5 -= 40;
    }

    while (v5);
  }

  v6 = *a1;
  if (*a1)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v6, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoSettings,WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F1135730;
  WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::~NativePromiseProducer((a1 + 8));
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoSettings,WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::~CallableWrapper(atomic_uint **a1)
{
  *a1 = &unk_1F1135730;
  WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::~NativePromiseProducer(a1 + 1);

  return WTF::fastFree(a1, v2);
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoSettings,WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1},void,IPC::Connection*,std::unique_ptr<IPC::Decoder> &>::call(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v47[1] = *MEMORY[0x1E69E9840];
  v4 = *a3;
  *a3 = 0;
  v5 = WTF::fastMalloc(0x10);
  *v5 = &unk_1F1135758;
  *(v5 + 1) = v4;
  v36[3] = 0;
  v37 = v5;
  v36[0] = 0;
  v36[1] = 0;
  v36[2] = "operator()";
  v6 = *(a1 + 8);
  v7 = 1;
  if (!v6)
  {
    v11 = 0;
    goto LABEL_12;
  }

  v8 = 0;
  atomic_fetch_add((v6 + 8), 1u);
  atomic_compare_exchange_strong_explicit((v6 + 48), &v8, 1u, memory_order_acquire, memory_order_acquire);
  if (v8)
  {
    v5 = MEMORY[0x19EB01E30](v6 + 48);
  }

  v9 = *(v6 + 112);
  v10 = 1;
  atomic_compare_exchange_strong_explicit((v6 + 48), &v10, 0, memory_order_release, memory_order_relaxed);
  if (v10 != 1)
  {
    v5 = WTF::Lock::unlockSlow((v6 + 48));
  }

  if (atomic_fetch_add((v6 + 8), 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, (v6 + 8));
    v5 = (*(*v6 + 16))(v6);
  }

  v11 = *(a1 + 8);
  if (v9)
  {
    if (v11)
    {
      atomic_fetch_add(v11 + 2, 1u);
      v7 = 0;
    }

LABEL_12:
    v12 = WTF::NativePromiseBase::logChannel(v5);
    if (*v12)
    {
      v13 = v12;
      if (v12[16] >= 4u)
      {
        WTF::Logger::LogSiteIdentifier::toString(&v41, v36);
        WTF::String::String(&v40, " ignored already resolved or rejected ");
        WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v11, &v39);
        WTF::makeString<WTF::String,WTF::String,WTF::String>(&v41, &v40, &v39, &v42);
        v15 = v39;
        v39 = 0;
        if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v15, v14);
        }

        v16 = v40;
        v40 = 0;
        if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v16, v14);
        }

        v17 = v41;
        v41 = 0;
        if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v17, v14);
        }

        v18 = *(v13 + 4);
        v19 = os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT);
        if (v19)
        {
          WTF::String::utf8();
          v21 = v38[0] ? v38[0] + 16 : 0;
          *buf = 136446210;
          v44 = v21;
          _os_log_impl(&dword_19D52D000, v18, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
          v19 = v38[0];
          v38[0] = 0;
          if (v19)
          {
            if (*v19 == 1)
            {
              v19 = WTF::fastFree(v19, v20);
            }

            else
            {
              --*v19;
            }
          }
        }

        if (*v13 && v13[16] >= 4u)
        {
          v22 = MEMORY[0x1E696EBC0];
          while (1)
          {
            v23 = *v22;
            if (v23)
            {
              break;
            }

            v24 = *v22;
            atomic_compare_exchange_strong_explicit(v22, &v24, v23 | 1, memory_order_acquire, memory_order_acquire);
            if (v24 == v23)
            {
              v25 = WTF::Logger::observers(v19);
              v26 = *(v25 + 12);
              if (v26)
              {
                v27 = *v25;
                v28 = *v25 + 8 * v26;
                do
                {
                  v29 = *v27;
                  *buf = 0;
                  WTF::Logger::LogSiteIdentifier::toString((&v44 + 4), v36);
                  v45 = 0;
                  WTF::String::String(v46, " ignored already resolved or rejected ");
                  v46[2] = 0;
                  WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(v11, v47);
                  WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v38, buf, 3uLL);
                  (*(*v29 + 16))(v29, v13, 4, v38);
                  WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v38, v30);
                  for (i = 40; i != -8; i -= 16)
                  {
                    v32 = *&buf[i];
                    *&buf[i] = 0;
                    if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
                    {
                      WTF::StringImpl::destroy(v32, v20);
                    }
                  }

                  ++v27;
                }

                while (v27 != v28);
              }

              v33 = 1;
              atomic_compare_exchange_strong_explicit(v22, &v33, 0, memory_order_release, memory_order_relaxed);
              if (v33 != 1)
              {
                WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
              }

              break;
            }
          }
        }

        v34 = v42;
        v42 = 0;
        if (v34 && atomic_fetch_add_explicit(v34, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v34, v20);
        }
      }
    }

    if ((v7 & 1) == 0 && atomic_fetch_add(v11 + 2, 0xFFFFFFFF) == 1)
    {
LABEL_53:
      atomic_store(1u, v11 + 2);
      (*(*v11 + 16))(v11);
      goto LABEL_54;
    }

    goto LABEL_54;
  }

  if (v11)
  {
    atomic_fetch_add(v11 + 2, 1u);
    WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::settleWithFunction(v11, &v37, v36);
    if (atomic_fetch_add(v11 + 2, 0xFFFFFFFF) != 1)
    {
      goto LABEL_54;
    }

    goto LABEL_53;
  }

  WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::settleWithFunction(0, &v37, v36);
LABEL_54:
  result = v37;
  if (v37)
  {
    return (*(*v37 + 8))(v37);
  }

  return result;
}

WTF::Lock *WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::settleWithFunction(uint64_t a1, uint64_t *a2, WTF::Logger::LogSiteIdentifier *a3)
{
  v6 = 0;
  v47[2] = *MEMORY[0x1E69E9840];
  v7 = (a1 + 48);
  v36 = v7;
  v37 = 1;
  atomic_compare_exchange_strong_explicit(v7, &v6, 1u, memory_order_acquire, memory_order_acquire);
  if (v6)
  {
    v7 = MEMORY[0x19EB01E30]();
  }

  v8 = WTF::NativePromiseBase::logChannel(v7);
  if (*v8)
  {
    v10 = v8[16] >= 4u;
  }

  else
  {
    v10 = 0;
  }

  if (v10)
  {
    v11 = v8;
    WTF::Logger::LogSiteIdentifier::toString(&v41, a3);
    WTF::String::String(&v40, " settling ");
    WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, &v39);
    WTF::makeString<WTF::String,WTF::String,WTF::String>(&v41, &v40, &v39, &v42);
    v13 = v39;
    v39 = 0;
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v12);
    }

    v14 = v40;
    v40 = 0;
    if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v14, v12);
    }

    v15 = v41;
    v41 = 0;
    if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v15, v12);
    }

    v16 = *(v11 + 4);
    v17 = os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT);
    if (v17)
    {
      WTF::String::utf8();
      v18 = v38[0] ? v38[0] + 16 : 0;
      *buf = 136446210;
      v44 = v18;
      _os_log_impl(&dword_19D52D000, v16, OS_LOG_TYPE_DEFAULT, "%{public}s", buf, 0xCu);
      v17 = v38[0];
      v38[0] = 0;
      if (v17)
      {
        if (*v17 == 1)
        {
          v17 = WTF::fastFree(v17, v9);
        }

        else
        {
          --*v17;
        }
      }
    }

    if (*v11 && v11[16] >= 4u)
    {
      v19 = MEMORY[0x1E696EBC0];
      while (1)
      {
        v20 = *v19;
        if (v20)
        {
          break;
        }

        v21 = *v19;
        atomic_compare_exchange_strong_explicit(v19, &v21, v20 | 1, memory_order_acquire, memory_order_acquire);
        if (v21 == v20)
        {
          v22 = WTF::Logger::observers(v17);
          v23 = *(v22 + 12);
          if (v23)
          {
            v24 = *v22;
            v25 = *v22 + 8 * v23;
            do
            {
              v26 = *v24;
              *buf = 0;
              WTF::Logger::LogSiteIdentifier::toString((&v44 + 4), a3);
              v45 = 0;
              WTF::String::String(v46, " settling ");
              v46[2] = 0;
              WTF::LogArgument<WTF::NativePromise<void,WebCore::PlatformMediaError,0u>>::toString(a1, v47);
              WTF::Vector<WTF::JSONLogValue,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v38, buf, 3uLL);
              (*(*v26 + 16))(v26, v11, 4, v38);
              WTF::Vector<std::tuple<Inspector::BackendDispatcher::CommonErrorCode,WTF::String>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v38, v27);
              for (i = 40; i != -8; i -= 16)
              {
                v29 = *&buf[i];
                *&buf[i] = 0;
                if (v29 && atomic_fetch_add_explicit(v29, 0xFFFFFFFE, memory_order_relaxed) == 2)
                {
                  WTF::StringImpl::destroy(v29, v9);
                }
              }

              ++v24;
            }

            while (v24 != v25);
          }

          v30 = 1;
          atomic_compare_exchange_strong_explicit(v19, &v30, 0, memory_order_release, memory_order_relaxed);
          if (v30 != 1)
          {
            WTF::Lock::unlockSlow(MEMORY[0x1E696EBC0]);
          }

          break;
        }
      }
    }

    v31 = v42;
    v42 = 0;
    if (v31 && atomic_fetch_add_explicit(v31, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v31, v9);
    }
  }

  if (*(a1 + 112) > 1u)
  {
    if (*(a1 + 112) == 2)
    {
      v32 = *(a1 + 56);
      *(a1 + 56) = 0;
      if (v32)
      {
        (*(*v32 + 8))(v32);
      }
    }
  }

  else if (*(a1 + 112))
  {
    mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(a1 + 56, v9);
  }

  v33 = *a2;
  *a2 = 0;
  *(a1 + 56) = v33;
  *(a1 + 112) = 2;
  result = WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::dispatchAll(a1, &v36);
  v35 = v37;
  if (v37 == 1)
  {
    result = v36;
    atomic_compare_exchange_strong_explicit(v36, &v35, 0, memory_order_release, memory_order_relaxed);
    if (v35 != 1)
    {
      return WTF::Lock::unlockSlow(result);
    }
  }

  return result;
}

uint64_t WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::dispatchAll(uint64_t a1, atomic_uchar *volatile *a2)
{
  v29[0] = &v29[2];
  v29[1] = 1;
  __dst = &v24;
  v23 = 1;
  WTF::VectorBuffer<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::FastMalloc>::adopt(&__dst, (a1 + 120));
  v4 = *(a1 + 132);
  if (v4)
  {
    WTF::VectorDestructor<true,WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>>::destruct(*(a1 + 120), (*(a1 + 120) + 8 * v4));
  }

  WTF::VectorBuffer<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::FastMalloc>::adopt((a1 + 120), v29);
  WTF::Vector<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v29, v5);
  *&v6 = 0;
  v7 = *(a1 + 144);
  v19 = v7;
  v8 = *(a1 + 156);
  v20 = *(a1 + 152);
  v21 = v8;
  *v29 = v6;
  *(a1 + 144) = 0;
  *(a1 + 152) = 0;
  WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v29, v9);
  if (HIDWORD(v23))
  {
    v11 = __dst;
    v12 = 8 * HIDWORD(v23);
    do
    {
      v13 = *v11++;
      WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::ThenCallbackBase::dispatch(v13, a1, a2);
      v12 -= 8;
    }

    while (v12);
  }

  if (v8)
  {
    v14 = v7 + 40 * v8;
    do
    {
      v15 = *v7;
      *v7 = 0;
      v29[0] = v15;
      v16 = *(v7 + 24);
      *&v29[1] = *(v7 + 8);
      *&v29[3] = v16;
      if (v15)
      {
        atomic_fetch_add(v15 + 2, 1u);
        v25 = 0;
        v26 = 0;
        v27 = "<chained promise>";
        v28 = 0;
        WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::settleAsChainedPromise<WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Storage>(v15, (a1 + 56), &v25);
        if (atomic_fetch_add(v15 + 2, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v15 + 2);
          (*(*v15 + 16))(v15);
        }
      }

      else
      {
        v25 = 0;
        v26 = 0;
        v27 = "<chained promise>";
        v28 = 0;
        WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::settleAsChainedPromise<WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Storage>(0, (a1 + 56), &v25);
      }

      WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::~NativePromiseProducer(v29);
      v7 += 40;
    }

    while (v7 != v14);
  }

  WTF::Vector<WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v19, v10);
  return WTF::Vector<WTF::Ref<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase,WTF::RawPtrTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>,WTF::DefaultRefDerefTraits<WTF::NativePromise<WTF::String,void,0u>::ThenCallbackBase>>,1ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&__dst, v17);
}

WTF::Lock *WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::settleAsChainedPromise<WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Storage>(uint64_t a1, uint64_t *a2, WTF::Logger::LogSiteIdentifier *a3)
{
  v6 = 0;
  v39 = *MEMORY[0x1E69E9840];
  v7 = (a1 + 48);
  v33 = v7;
  v34 = 1;
  atomic_compare_exchange_strong_explicit(v7, &v6, 1u, memory_order_acquire, memory_order_acquire);
  if (v6)
  {
    v7 = MEMORY[0x19EB01E30]();
  }

  v8 = WTF::NativePromiseBase::logChannel(v7);
  if (*v8)
  {
    v10 = v8[16] >= 4u;
  }

  else
  {
    v10 = 0;
  }

  if (v10)
  {
    WTF::Logger::log<WTF::Logger::LogSiteIdentifier,char [27],WTF::NativePromise<WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WebCore::PlatformMediaError,0u>>(v8, a3, " settling chained promise ", a1);
  }

  v11 = *(a1 + 112);
  v12 = *(a2 + 56);
  if (v11 != 255 || v12 != 255)
  {
    switch(v12)
    {
      case 255:
        if (*(a1 + 112) > 1u)
        {
          if (v11 == 2)
          {
            v14 = *(a1 + 56);
            *(a1 + 56) = 0;
            if (v14)
            {
              (*(*v14 + 8))(v14);
            }
          }
        }

        else if (*(a1 + 112))
        {
          mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(a1 + 56, v9);
        }

        v15 = -1;
        goto LABEL_26;
      case 2:
        if (*(a1 + 112) > 1u)
        {
          if (v11 != 255)
          {
            v24 = *a2;
            *a2 = 0;
            v25 = *(a1 + 56);
            *(a1 + 56) = v24;
            if (v25)
            {
              (*(*v25 + 8))(v25);
            }

            goto LABEL_27;
          }
        }

        else if (*(a1 + 112))
        {
          mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(a1 + 56, v9);
        }

        v22 = *a2;
        *a2 = 0;
        *(a1 + 56) = v22;
        v15 = 2;
LABEL_26:
        *(a1 + 112) = v15;
        goto LABEL_27;
      case 1:
        if (*(a1 + 112) > 1u)
        {
          if (v11 == 2)
          {
            v18 = *(a1 + 56);
            *(a1 + 56) = 0;
            if (v18)
            {
              (*(*v18 + 8))(v18);
            }
          }
        }

        else if (*(a1 + 112))
        {
          LOBYTE(v35[0]) = 0;
          v36 = -1;
          v13 = *(a2 + 48);
          if (*(a2 + 48))
          {
            if (v13 == 255)
            {
              LOBYTE(v37[0]) = 0;
            }

            else
            {
              v30 = *a2;
              *a2 = 0;
              v36 = v13;
              *&v35[0] = 0;
              *&v37[0] = v30;
            }
          }

          else
          {
            v27 = *(a2 + 1);
            v35[0] = *a2;
            v35[1] = v27;
            v29 = *a2;
            v28 = *(a2 + 1);
            v35[2] = *(a2 + 2);
            v36 = 0;
            v37[0] = v29;
            v37[1] = v28;
            v37[2] = *(a2 + 2);
          }

          v38 = v13;
          mpark::variant<WebCore::PhotoSettings,WTF::String>::operator=(v35, (a1 + 56));
          mpark::variant<WebCore::PhotoSettings,WTF::String>::operator=(a1 + 56, v37);
          mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(v37, v31);
          mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(v35, v32);
          goto LABEL_27;
        }

        *(a1 + 112) = -1;
        *(a1 + 56) = 0;
        *(a1 + 104) = -1;
        v19 = *(a2 + 48);
        if (v19 != 255)
        {
          if (*(a2 + 48))
          {
            v26 = *a2;
            *a2 = 0;
            *(a1 + 56) = v26;
          }

          else
          {
            v20 = *a2;
            v21 = *(a2 + 1);
            *(a1 + 88) = *(a2 + 2);
            *(a1 + 72) = v21;
            *(a1 + 56) = v20;
            LOBYTE(v19) = *(a2 + 48);
          }

          *(a1 + 104) = v19;
        }

        v15 = 1;
        goto LABEL_26;
    }

    if (*(a1 + 112) > 1u)
    {
      if (v11 == 2)
      {
        v23 = *(a1 + 56);
        *(a1 + 56) = 0;
        if (v23)
        {
          (*(*v23 + 8))(v23);
        }
      }
    }

    else
    {
      if (!*(a1 + 112))
      {
        goto LABEL_27;
      }

      mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(a1 + 56, v9);
    }

    *(a1 + 112) = 0;
  }

LABEL_27:
  result = WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::dispatchAll(a1, &v33);
  v17 = v34;
  if (v34 == 1)
  {
    result = v33;
    atomic_compare_exchange_strong_explicit(v33, &v17, 0, memory_order_release, memory_order_relaxed);
    if (v17 != 1)
    {
      return WTF::Lock::unlockSlow(result);
    }
  }

  return result;
}

uint64_t mpark::variant<WebCore::PhotoSettings,WTF::String>::operator=(uint64_t a1, __int128 *a2)
{
  v4 = *(a1 + 48);
  v5 = *(a2 + 48);
  if (v4 == 255 && v5 == 255)
  {
    return a1;
  }

  if (v5 == 255)
  {
    if (*(a1 + 48))
    {
      if (v4 != 255)
      {
        v6 = *a1;
        *a1 = 0;
        if (v6)
        {
          if (atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v6, a2);
          }
        }
      }
    }

    v7 = -1;
    goto LABEL_24;
  }

  if (!*(a2 + 48))
  {
    if (v4 != 255)
    {
      if (!*(a1 + 48))
      {
        v10 = *a2;
        v11 = a2[1];
        *(a1 + 26) = *(a2 + 26);
        *a1 = v10;
        *(a1 + 16) = v11;
        return a1;
      }

      v15 = *a1;
      *a1 = 0;
      if (v15 && atomic_fetch_add_explicit(v15, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v15, a2);
      }
    }

    *(a1 + 48) = -1;
    v16 = *a2;
    v17 = a2[2];
    *(a1 + 16) = a2[1];
    *(a1 + 32) = v17;
    *a1 = v16;
    *(a1 + 48) = 0;
    return a1;
  }

  if (!*(a1 + 48) || v4 == 255)
  {
LABEL_23:
    v13 = *a2;
    *a2 = 0;
    *a1 = v13;
    v7 = 1;
LABEL_24:
    *(a1 + 48) = v7;
    return a1;
  }

  if (v4 != 1)
  {
    v12 = *a1;
    *a1 = 0;
    if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v12, a2);
    }

    goto LABEL_23;
  }

  v8 = *a2;
  *a2 = 0;
  v9 = *a1;
  *a1 = v8;
  if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoSettings,WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<WebCore::PhotoSettings,WTF::String>>::~CallableWrapper(uint64_t a1)
{
  *a1 = &unk_1F1135758;
  std::unique_ptr<IPC::Decoder>::reset[abi:sn200100]((a1 + 8), 0);
  return a1;
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoSettings,WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<WebCore::PhotoSettings,WTF::String>>::~CallableWrapper(IPC::Decoder **a1)
{
  *a1 = &unk_1F1135758;
  std::unique_ptr<IPC::Decoder>::reset[abi:sn200100](a1 + 1, 0);

  return WTF::fastFree(a1, v2);
}

uint64_t WTF::Detail::CallableWrapper<IPC::Connection::AsyncReplyHandlerWithDispatcher IPC::Connection::makeAsyncReplyHandlerWithDispatcher<WebKit::RemoteRealtimeMediaSourceProxy::PromiseConverter,Messages::UserMediaCaptureManagerProxy::GetPhotoSettings,WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>>(WTF::NativePromise<WebCore::PhotoSettings,WTF::String,0u>::Producer &&)::{lambda(IPC::Connection*,std::unique_ptr<IPC::Decoder> &&)#1}::operator()(IPC::Connection*,std::unique_ptr<IPC::Decoder> &)::{lambda(void)#1},std::experimental::fundamentals_v3::expected<WebCore::PhotoSettings,WTF::String>>::call@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  v43 = *MEMORY[0x1E69E9840];
  v3 = *(a1 + 8);
  if (v3)
  {
    v4 = *v3;
    if (*v3)
    {
      v5 = *(v3 + 1);
      v6 = *(v3 + 2);
      if (v5 > &v6[-v4])
      {
        *(v3 + 2) = v6 + 1;
        if (v6)
        {
          v7 = *v6;
          if (v7 < 2)
          {
            if (v7)
            {
              IPC::ArgumentCoder<WebCore::PhotoSettings,void>::decode(v3, &v31);
              if ((v34 & 1) == 0)
              {
                v15 = *v3;
                v16 = *(v3 + 1);
                *v3 = 0;
                *(v3 + 1) = 0;
                v17 = *(v3 + 3);
                if (!v17)
                {
                  goto LABEL_13;
                }

                if (!v16)
                {
                  goto LABEL_13;
                }

                (*(*v17 + 16))(v17, v15);
                if ((v34 & 1) == 0)
                {
                  goto LABEL_13;
                }
              }

              v40[0] = v31;
              v40[1] = v32;
              v40[2] = v33;
              v41 = 0;
              v42 = 1;
              v35 = v31;
              v36 = v32;
              v37 = v33;
              v38 = 0;
              v39 = 1;
              mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(v40, v8);
              v10 = 0;
              v11 = v36;
              *a2 = v35;
              *(a2 + 16) = v11;
              *(a2 + 32) = v37;
            }

            else
            {
              IPC::ArgumentCoder<WTF::String,void>::decode<IPC::Decoder>(v3, &v31);
              if ((BYTE8(v31) & 1) == 0)
              {
                v21 = *v3;
                v22 = *(v3 + 1);
                *v3 = 0;
                *(v3 + 1) = 0;
                v23 = *(v3 + 3);
                if (!v23 || !v22 || ((*(*v23 + 16))(v23, v21), (BYTE8(v31) & 1) == 0))
                {
LABEL_13:
                  v18 = *v3;
                  v19 = *(v3 + 1);
                  *v3 = 0;
                  *(v3 + 1) = 0;
                  v20 = *(v3 + 3);
                  if (v20 && v19)
                  {
                    (*(*v20 + 16))(v20, v18);
                    v24 = *v3;
                    v25 = *(v3 + 1);
                    v26 = *(v3 + 3);
                    *v3 = 0;
                    *(v3 + 1) = 0;
                    if (v26)
                    {
                      if (v25)
                      {
                        (*(*v26 + 16))(v26, v24);
                      }
                    }
                  }

                  else
                  {
                    *v3 = 0;
                    *(v3 + 1) = 0;
                  }

                  goto LABEL_15;
                }
              }

              v13 = v31;
              v10 = 1;
              v41 = 1;
              v42 = 1;
              *&v40[0] = 0;
              v38 = 1;
              v39 = 1;
              mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(v40, v12);
              *&v35 = 0;
              *a2 = v13;
            }

            *(a2 + 48) = v10;
            return mpark::detail::move_constructor<mpark::detail::traits<WebCore::PhotoSettings,WTF::String>,(mpark::detail::Trait)1>::~move_constructor(&v35, v9);
          }

LABEL_34:
          *v3 = 0;
          *(v3 + 1) = 0;
          v29 = *(v3 + 3);
          if (v29)
          {
            v30 = v5 == 0;
          }

          else
          {
            v30 = 1;
          }

          if (!v30)
          {
            (*(*v29 + 16))(v29, v4, v5);
          }

          goto LABEL_13;
        }

LABEL_31:
        *v3 = 0;
        *(v3 + 1) = 0;
        v28 = *(v3 + 3);
        if (v28)
        {
          if (v5)
          {
            (*(*v28 + 16))(v28, v4);
            v4 = *v3;
            v5 = *(v3 + 1);
            goto LABEL_34;
          }
        }

        else
        {
          v5 = 0;
        }

        v4 = 0;
        goto LABEL_34;
      }

      *v3 = 0;
      *(v3 + 1) = 0;
      v27 = *(v3 + 3);
      if (v27)
      {
        if (v5)
        {
          (*(*v27 + 16))(v27);
          v4 = *v3;
          v5 = *(v3 + 1);
          goto LABEL_31;
        }
      }

      else
      {
        v5 = 0;
      }

      v4 = 0;
      goto LABEL_31;
    }
  }

LABEL_15:
  result = WTF::StringImpl::createWithoutCopyingNonEmpty();
  *(a2 + 48) = 1;
  return result;
}

atomic_uint **WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::~NativePromiseProducer(atomic_uint **a1)
{
  WTF::NativePromiseProducer<WebCore::PhotoSettings,WTF::String,0u>::assertIsDead(a1);
  v2 = *a1;
  *a1 = 0;
  if (v2 && atomic_fetch_add(v2 + 2, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v2 + 2);
    (*(*v2 + 16))(v2);
  }

  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeMediaSourceProxy::whenReady(WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&)> &&)::$_0,void,WebCore::CaptureSourceError &>::~CallableWrapper(void *a1)
{
  *a1 = &unk_1F1135780;
  v2 = a1[2];
  a1[2] = 0;
  if (v2)
  {
    (*(*v2 + 8))(v2);
  }

  v3 = a1[1];
  a1[1] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeMediaSourceProxy::whenReady(WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&)> &&)::$_0,void,WebCore::CaptureSourceError &>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135780;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4)
  {
    (*(*v4 + 8))(v4);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeMediaSourceProxy::whenReady(WTF::CompletionHandler<void ()(WebCore::CaptureSourceError &&)> &&)::$_0,void,WebCore::CaptureSourceError &>::call(uint64_t a1, uint64_t a2)
{
  v4 = *a2;
  if (*a2)
  {
    atomic_fetch_add_explicit(v4, 2u, memory_order_relaxed);
  }

  v10 = v4;
  v11 = *(a2 + 8);
  v5 = *(a1 + 8);
  *(a1 + 8) = 0;
  (*(*v5 + 16))(v5, &v10);
  (*(*v5 + 8))(v5);
  v7 = v10;
  v10 = 0;
  if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v7, v6);
  }

  v8 = *(a1 + 16);
  *(a1 + 16) = 0;
  (*(*v8 + 16))(v8, a2);
  return (*(*v8 + 8))(v8);
}

atomic_ullong *WTF::Detail::CallableWrapper<WebKit::RemoteRealtimeVideoSource::clone(void)::$_0,void>::call(atomic_ullong *result)
{
  v1 = result;
  v95 = *MEMORY[0x1E69E9840];
  v2 = result[1];
  if ((*(v2 + 326) & 1) == 0 && *(v2 + 1449) != 1)
  {
    v7 = WTF::fastMalloc(0xB70);
    if (WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>::m_generationProtected == 1)
    {
      goto LABEL_100;
    }

    v8 = v7;
    IdentifierInternal = WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>::generateIdentifierInternal();
    WebKit::RemoteRealtimeMediaSourceProxy::RemoteRealtimeMediaSourceProxy(v70, IdentifierInternal, v2 + 368, *(v2 + 408), v2 + 416);
    v92 = *(v2 + 1448);
    v10 = WebCore::RealtimeMediaSource::deviceIDHashSalts(v2);
    v11 = *v10;
    if (*v10)
    {
      atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
    }

    v93 = v11;
    v12 = *(v10 + 8);
    if (v12)
    {
      atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
    }

    v94 = v12;
    v13 = *(v2 + 1456);
    if (v13)
    {
      if (*(v2 + 80))
      {
        WebCore::RealtimeMediaSource::RealtimeMediaSource();
        *v8 = &unk_1F1134E78;
        *(v8 + 8) = &unk_1F1135048;
        *(v8 + 336) = &unk_1F1135088;
        *(v8 + 344) = 3;
        *(v8 + 352) = *v70;
        v14 = *&v70[8];
        *&v70[8] = 0u;
        *(v8 + 360) = v14;
        *(v8 + 376) = v70[24];
        v15 = *v71;
        *v71 = 0u;
        *(v8 + 384) = v15;
        *(v8 + 400) = v72;
        *(v8 + 408) = v73;
        WebCore::MediaTrackConstraintSetMap::MediaTrackConstraintSetMap(v8 + 416, &v74);
        *&v17 = 0;
        v18 = v84;
        v84 = v17;
        *(v8 + 1360) = v18;
        *(v8 + 1376) = v85;
        *(v8 + 1408) = 0;
        v19 = v86;
        *&v86 = 0;
        *(v8 + 1384) = v19;
        *(&v86 + 1) = 0;
        *(v8 + 1400) = v87;
        v87 = 0;
        *(v8 + 1408) = v88;
        v88 = 0;
        *(v8 + 1416) = v89;
        v20 = v90;
        v90 = 0u;
        *(v8 + 1424) = v20;
        *(v8 + 1440) = v91;
        *(v8 + 1448) = v92;
        *(v8 + 1456) = v13;
        ++*(v13 + 24);
        *(v8 + 1464) = 0;
        *(v8 + 2432) = 0;
        *(v8 + 2440) = 0u;
        *(v8 + 2456) = 0u;
        *(v8 + 2472) = 0u;
        *(v8 + 2488) = 0u;
        *(v8 + 2504) = 0u;
        *(v8 + 2520) = 0u;
        *(v8 + 2536) = 1;
        *(v8 + 2544) = 0u;
        *(v8 + 2560) = 0u;
        *(v8 + 2576) = 0u;
        *(v8 + 2592) = 0u;
        *(v8 + 2608) = 0u;
        *(v8 + 2622) = 0;
        *(v8 + 2632) = 0;
        *(v8 + 2776) = 0;
        *(v8 + 2784) = 0;
        *(v8 + 2789) = 0;
        *(v8 + 2816) = 0;
        *(v8 + 2800) = 0u;
        *(v8 + 2840) = 0;
        *(v8 + 2824) = 0u;
        *(v8 + 2848) = 4;
        *(v8 + 2850) = 0;
        *(v8 + 2856) = 0x3FF0000000000000;
        *(v8 + 2878) = 0;
        *(v8 + 2864) = 0u;
        *v8 = &unk_1F11350D0;
        *(v8 + 8) = &unk_1F11352A0;
        *(v8 + 336) = &unk_1F11352E0;
        *(v8 + 2920) = 0;
        *(v8 + 2888) = 0u;
        *(v8 + 2904) = 0u;
        v21 = v1[2];
        v22 = *v21;
        *v21 = v8;
        if (v22)
        {
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v22 + 344));
        }

        v23 = v94;
        v94 = 0;
        if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v23, v16);
        }

        v24 = v93;
        v93 = 0;
        if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v24, v16);
        }

        WebKit::RemoteRealtimeMediaSourceProxy::~RemoteRealtimeMediaSourceProxy(v70);
        v25 = *v1[2];
        v26 = (v25 + 16);
        v27 = *(v2 + 40);
        if (v27)
        {
          if (v27 == v2 + 16)
          {
            *&v70[24] = v70;
            (*(*v27 + 24))(v27, v70);
          }

          else
          {
            *&v70[24] = (*(*v27 + 16))(v27);
          }
        }

        else
        {
          *&v70[24] = 0;
        }

        if (v70 != v26)
        {
          v28 = *&v70[24];
          v29 = *(v25 + 40);
          if (*&v70[24] == v70)
          {
            if (v29 == v26)
            {
              (*(**&v70[24] + 24))();
              (*(**&v70[24] + 32))(*&v70[24]);
              *&v70[24] = 0;
              (*(**(v25 + 40) + 24))(*(v25 + 40), v70);
              (*(**(v25 + 40) + 32))(*(v25 + 40));
              *(v25 + 40) = 0;
              *&v70[24] = v70;
              (*(v93 + 3))(&v93, v26);
              (*(v93 + 4))(&v93);
            }

            else
            {
              (*(**&v70[24] + 24))();
              (*(**&v70[24] + 32))(*&v70[24]);
              *&v70[24] = *(v25 + 40);
            }

            *(v25 + 40) = v26;
          }

          else if (v29 == v26)
          {
            (*(*v29 + 24))(*(v25 + 40), v70);
            (*(**(v25 + 40) + 32))(*(v25 + 40));
            *(v25 + 40) = *&v70[24];
            *&v70[24] = v70;
          }

          else
          {
            *&v70[24] = *(v25 + 40);
            *(v25 + 40) = v28;
          }
        }

        if (*&v70[24] == v70)
        {
          (*(**&v70[24] + 32))(*&v70[24]);
        }

        else if (*&v70[24])
        {
          (*(**&v70[24] + 40))();
        }

        v30 = *v1[2];
        v31 = *(v2 + 2800);
        *v70 = *(v2 + 2784);
        *&v70[16] = v31;
        LOBYTE(v71[0]) = *(v2 + 2816);
        v32 = *(v2 + 2824);
        if (v32)
        {
          atomic_fetch_add_explicit(v32, 2u, memory_order_relaxed);
        }

        v71[1] = v32;
        v33 = *(v2 + 2832);
        if (v33)
        {
          atomic_fetch_add_explicit(v33, 2u, memory_order_relaxed);
        }

        v72 = v33;
        v34 = *(v2 + 2840);
        if (v34)
        {
          atomic_fetch_add_explicit(v34, 2u, memory_order_relaxed);
        }

        v73 = v34;
        v35 = *(v2 + 2864);
        v74 = *(v2 + 2848);
        *v75 = v35;
        *&v75[14] = *(v2 + 2878);
        WebKit::RemoteRealtimeMediaSource::setSettings(v30, v70);
        v37 = v73;
        v73 = 0;
        if (v37 && atomic_fetch_add_explicit(v37, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v37, v36);
        }

        v38 = v72;
        v72 = 0;
        if (v38 && atomic_fetch_add_explicit(v38, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v38, v36);
        }

        v39 = v71[1];
        v71[1] = 0;
        if (v39 && atomic_fetch_add_explicit(v39, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v39, v36);
        }

        v40 = *v1[2];
        v41 = *(v2 + 2456);
        *v70 = *(v2 + 2440);
        *&v70[16] = v41;
        *v71 = *(v2 + 2472);
        v42 = *(v2 + 2500);
        v72 = 0;
        LODWORD(v73) = 0;
        HIDWORD(v73) = v42;
        if (v42)
        {
          v43 = WTF::fastMalloc(v42);
          LODWORD(v73) = v42;
          v72 = v43;
          memcpy(v43, *(v2 + 2488), *(v2 + 2500));
        }

        v75[16] = *(v2 + 2536);
        v44 = *(v2 + 2520);
        v74 = *(v2 + 2504);
        *v75 = v44;
        v45 = *(v2 + 2544);
        if (v45)
        {
          atomic_fetch_add_explicit(v45, 2u, memory_order_relaxed);
        }

        v76 = v45;
        v46 = *(v2 + 2552);
        if (v46)
        {
          atomic_fetch_add_explicit(v46, 2u, memory_order_relaxed);
        }

        v77 = v46;
        v78 = *(v2 + 2560);
        v47 = *(v2 + 2588);
        v79 = 0;
        v80 = 0;
        v81 = v47;
        if (v47)
        {
          v48 = WTF::fastMalloc(v47);
          v80 = v47;
          v79 = v48;
          memcpy(v48, *(v2 + 2576), *(v2 + 2588));
        }

        v82 = *(v2 + 2592);
        v83[0] = *(v2 + 2608);
        *(v83 + 14) = *(v2 + 2622);
        WebKit::RemoteRealtimeMediaSource::setCapabilities(v40, v70);
        WebCore::RealtimeMediaSourceCapabilities::~RealtimeMediaSourceCapabilities(v70, v49);
        WebCore::RealtimeMediaSource::setMuted(*v1[2]);
        v50 = *(v2 + 1456);
        if (!v50)
        {
LABEL_99:
          __break(0xC471u);
          JUMPOUT(0x19E430088);
        }

        v51 = *v1[2];
        while (1)
        {
          v52 = *(v51 + 344);
          if ((v52 & 1) == 0)
          {
            break;
          }

          v53 = *(v51 + 344);
          atomic_compare_exchange_strong_explicit((v51 + 344), &v53, v52 + 2, memory_order_relaxed, memory_order_relaxed);
          if (v53 == v52)
          {
            goto LABEL_74;
          }
        }

        WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v51 + 344));
LABEL_74:
        *v70 = v51;
        WebKit::UserMediaCaptureManager::addSource(v50, v70);
        if (*v70)
        {
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((*v70 + 344));
        }

        v54 = *(v2 + 1456);
        if (!v54)
        {
          goto LABEL_100;
        }

        v55 = *v1[2];
        while (1)
        {
          v56 = *(v55 + 344);
          if ((v56 & 1) == 0)
          {
            break;
          }

          v57 = *(v55 + 344);
          atomic_compare_exchange_strong_explicit((v55 + 344), &v57, v56 + 2, memory_order_relaxed, memory_order_relaxed);
          if (v57 == v56)
          {
            goto LABEL_82;
          }
        }

        WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v55 + 344));
LABEL_82:
        *v70 = v55;
        WebKit::RemoteCaptureSampleManager::addSource(v54 + 160, v70);
        if (*v70)
        {
          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((*v70 + 344));
        }

        v59 = *(v2 + 80);
        if (v59)
        {
          v60 = *(*v1[2] + 352);
          v61 = *(v2 + 360);
          while (1)
          {
            v62 = *v61;
            if ((*v61 & 1) == 0)
            {
              break;
            }

            v63 = *v61;
            atomic_compare_exchange_strong_explicit(v61, &v63, v62 + 2, memory_order_relaxed, memory_order_relaxed);
            if (v63 == v62)
            {
              goto LABEL_90;
            }
          }

          WTF::ThreadSafeWeakPtrControlBlock::strongRef(*v61);
LABEL_90:
          v64 = IPC::Encoder::operator new(0x238, v58);
          *v64 = 1757;
          *(v64 + 68) = 0;
          *(v64 + 70) = 0;
          *(v64 + 69) = 0;
          *(v64 + 2) = 0;
          *(v64 + 3) = 0;
          *(v64 + 1) = 0;
          IPC::Encoder::encodeHeader(v64);
          *v70 = v64;
          IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v64, *(v2 + 352));
          IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v64, v60);
          IPC::ArgumentCoder<unsigned long long,void>::encode<IPC::Encoder>(v64, v59);
          IPC::Connection::sendMessageImpl(v61, v70, 0, 0);
          v66 = *v70;
          *v70 = 0;
          if (v66)
          {
            IPC::Encoder::~Encoder(v66, v65);
            bmalloc::api::tzoneFree(v68, v69);
          }

          WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<IPC::Connection,(WTF::DestructionThread)2>::deref(v61);
          v67 = *(*v1[2] + 40);
          v70[0] = 1;
          if (v67)
          {
            return (*(*v67 + 48))(v67);
          }

          std::__throw_bad_function_call[abi:sn200100]();
LABEL_100:
          __break(0xC471u);
          JUMPOUT(0x19E430048);
        }
      }
    }

    else
    {
      __break(0xC471u);
    }

    __break(1u);
    goto LABEL_99;
  }

  v3 = result[2];
  while (1)
  {
    v4 = *(v2 + 344);
    if ((v4 & 1) == 0)
    {
      break;
    }

    v5 = *(v2 + 344);
    atomic_compare_exchange_strong_explicit((v2 + 344), &v5, v4 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v5 == v4)
    {
      goto LABEL_8;
    }
  }

  result = WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v2 + 344));
LABEL_8:
  v6 = *v3;
  *v3 = v2;
  if (v6)
  {

    return WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WebKit::RemoteRealtimeMediaSource,(WTF::DestructionThread)2>::deref((v6 + 344));
  }

  return result;
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, uint64_t *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastMalloc((24 * a2 + 16));
  if (a2)
  {
    v11 = a2;
    v12 = v9 + 4;
    do
    {
      *v12 = 0;
      *(v12 + 1) = 0;
      *(v12 + 16) = 0;
      v12 += 6;
      --v11;
    }

    while (v11);
  }

  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v13 = 0;
    v14 = 0;
    while (1)
    {
      v15 = (v6 + 24 * v13);
      v16 = *v15;
      if (*v15 != -1)
      {
        if (v16)
        {
          v17 = *a1;
          if (*a1)
          {
            v18 = *(v17 - 8);
          }

          else
          {
            v18 = 0;
          }

          v19 = (v16 + ~(v16 << 32)) ^ ((v16 + ~(v16 << 32)) >> 22);
          v20 = 9 * ((v19 + ~(v19 << 13)) ^ ((v19 + ~(v19 << 13)) >> 8));
          v21 = (v20 ^ (v20 >> 15)) + ~((v20 ^ (v20 >> 15)) << 27);
          v22 = v18 & ((v21 >> 31) ^ v21);
          v23 = 1;
          do
          {
            v24 = v17 + 24 * v22;
            v22 = (v22 + v23++) & v18;
          }

          while (*v24);
          mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant((v24 + 8));
          *v24 = *v15;
          *(v24 + 8) = 0;
          *(v24 + 16) = -1;
          if (*(v15 + 16))
          {
            if (*(v15 + 16) != 255)
            {
              v25 = v15[1];
              v15[1] = 0;
              goto LABEL_21;
            }
          }

          else
          {
            v25 = 0;
LABEL_21:
            *(v24 + 8) = v25;
            *(v24 + 16) = *(v15 + 16);
          }

          mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(v15 + 1);
          if (v15 == a3)
          {
            v14 = v24;
          }

          goto LABEL_24;
        }

        mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>::~variant(v15 + 1);
      }

LABEL_24:
      if (++v13 == v7)
      {
        goto LABEL_27;
      }
    }
  }

  v14 = 0;
  result = 0;
  if (v6)
  {
LABEL_27:
    WTF::fastFree((v6 - 16), v10);
    return v14;
  }

  return result;
}

uint64_t *WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<mpark::variant<decltype(nullptr),WTF::Ref<WebKit::RemoteRealtimeAudioSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeAudioSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeAudioSource>>,WTF::Ref<WebKit::RemoteRealtimeVideoSource,WTF::RawPtrTraits<WebKit::RemoteRealtimeVideoSource>,WTF::DefaultRefDerefTraits<WebKit::RemoteRealtimeVideoSource>>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::RealtimeMediaSourceIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(uint64_t *a1, uint64_t *a2)
{
  v2 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v3 = *a2;
  if (*a2 == -1 || !v3)
  {
    __break(0xC471u);
    JUMPOUT(0x19E430380);
  }

  v4 = *(v2 - 8);
  v5 = (v3 + ~(v3 << 32)) ^ ((v3 + ~(v3 << 32)) >> 22);
  v6 = 9 * ((v5 + ~(v5 << 13)) ^ ((v5 + ~(v5 << 13)) >> 8));
  v7 = (v6 ^ (v6 >> 15)) + ~((v6 ^ (v6 >> 15)) << 27);
  v8 = v4 & ((v7 >> 31) ^ v7);
  result = (v2 + 24 * v8);
  v10 = *result;
  if (*result != v3)
  {
    v11 = 1;
    while (v10)
    {
      v8 = (v8 + v11) & v4;
      result = (v2 + 24 * v8);
      v10 = *result;
      ++v11;
      if (*result == v3)
      {
        return result;
      }
    }

    return (v2 + 24 * *(v2 - 4));
  }

  return result;
}

uint64_t WebKit::VirtualAuthenticatorManager::operator new(WebKit::VirtualAuthenticatorManager *this, void *a2)
{
  if (this == 960 && WebKit::VirtualAuthenticatorManager::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(WebKit::VirtualAuthenticatorManager::s_heapRef, a2);
  }

  else
  {
    return WebKit::VirtualAuthenticatorManager::operatorNewSlow(this);
  }
}

uint64_t WebKit::VirtualAuthenticatorManager::createAuthenticator@<X0>(uint64_t *a1@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  WTF::createVersion4UUIDString(a3, a1);
  v6 = WTF::fastMalloc(0x10);
  v7 = *a2;
  if (*a2)
  {
    atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
  }

  *v6 = v7;
  v8 = *(a2 + 8);
  *(v6 + 12) = *(a2 + 12);
  *(v6 + 8) = v8;
  v12[0] = v6;
  WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>(a1 + 118, a3, v12, v13);
  v9 = v12[0];
  v12[0] = 0;
  if (v9)
  {
    std::default_delete<WTF::URL>::operator()[abi:sn200100](v12, v9);
  }

  v12[0] = 0;
  v12[1] = 0;
  WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>(a1 + 119, a3, v12, v13);
  return WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v12, v10);
}

uint64_t WebKit::VirtualAuthenticatorManager::removeAuthenticator(WebKit::VirtualAuthenticatorManager *this, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  v4 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(this + 118, a2, a3);
  v5 = *(this + 118);
  if (v5)
  {
    v6 = (v5 + 16 * *(v5 - 4));
    if (v6 == v4)
    {
      return 0;
    }
  }

  else
  {
    if (!v4)
    {
      return 0;
    }

    v6 = 0;
  }

  if (v6 != v4)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::remove(this + 118, v4);
  }

  return 1;
}

void *WebKit::VirtualAuthenticatorManager::addCredential(uint64_t a1, const WTF::StringImpl **a2, unint64_t a3)
{
  v4 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 952), a2, a3);
  v5 = v4;
  v6 = *(v4 + 20);
  if (v6 == *(v4 + 16))
  {
    v7 = (v4 + 8);

    return WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::VirtualCredential>(v7, a3);
  }

  else
  {
    v9 = *(v4 + 8) + 72 * v6;
    *v9 = 0;
    *(v9 + 8) = 0;
    WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(v9, a3);
    v10 = *(a3 + 16);
    *(a3 + 16) = 0;
    *(v9 + 16) = v10;
    v11 = *(a3 + 24);
    *(a3 + 24) = 0;
    *(v9 + 24) = v11;
    *(v9 + 32) = 0;
    result = (v9 + 32);
    *(v9 + 48) = 0;
    if (*(a3 + 48) == 1)
    {
      *result = 0;
      *(v9 + 40) = 0;
      result = WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(result, (a3 + 32));
      *(v9 + 48) = 1;
    }

    v12 = *(a3 + 56);
    *(v9 + 64) = *(a3 + 64);
    *(v9 + 56) = v12;
    ++*(v5 + 20);
  }

  return result;
}

uint64_t WebKit::VirtualAuthenticatorManager::credentialsMatchingList@<X0>(uint64_t a1@<X0>, const WTF::StringImpl **a2@<X1>, const WTF::StringImpl *a3@<X2>, uint64_t *a4@<X3>, uint64_t a5@<X8>)
{
  *a5 = 0;
  *(a5 + 8) = 0;
  result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 952), a2, a3);
  v10 = *(result + 20);
  if (v10)
  {
    v11 = *(result + 8);
    v12 = v11 + 72 * v10;
    do
    {
      result = WTF::equal(*(v11 + 16), *a3, v9);
      if (result)
      {
        v13 = *(a4 + 3);
        if (v13)
        {
          v14 = *a4;
          v15 = *(v11 + 12);
          while (1)
          {
            if (*(v14 + 12) == v15)
            {
              result = memcmp(*v14, *v11, v15);
              if (!result)
              {
                break;
              }
            }

            v14 += 16;
            if (!--v13)
            {
              goto LABEL_33;
            }
          }

LABEL_11:
          v16 = *(a5 + 12);
          if (v16 == *(a5 + 8))
          {
            result = WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a5, v16 + 1, v11);
            v17 = result;
            v18 = *a5 + 72 * *(a5 + 12);
            v19 = *(result + 12);
            *v18 = 0;
            *(v18 + 8) = 0;
            *(v18 + 12) = v19;
            if (v19)
            {
              v20 = WTF::fastMalloc(v19);
              *(v18 + 8) = v19;
              *v18 = v20;
              result = memcpy(v20, *v17, *(v17 + 12));
            }

            v21 = *(v17 + 16);
            if (v21)
            {
              atomic_fetch_add_explicit(v21, 2u, memory_order_relaxed);
            }

            *(v18 + 16) = v21;
            v22 = *(v17 + 24);
            if (v22)
            {
              atomic_fetch_add_explicit(v22, 2u, memory_order_relaxed);
            }

            *(v18 + 32) = 0;
            *(v18 + 24) = v22;
            *(v18 + 48) = 0;
            if (*(v17 + 48) != 1)
            {
              goto LABEL_32;
            }

            v23 = *(v17 + 44);
            *(v18 + 32) = 0;
            *(v18 + 40) = 0;
            *(v18 + 44) = v23;
            if (!v23)
            {
LABEL_30:
              *(v18 + 48) = 1;
LABEL_32:
              v29 = *(v17 + 56);
              *(v18 + 64) = *(v17 + 64);
              *(v18 + 56) = v29;
              ++*(a5 + 12);
              goto LABEL_33;
            }
          }

          else
          {
            v24 = *(v11 + 12);
            v18 = *a5 + 72 * v16;
            *v18 = 0;
            *(v18 + 8) = 0;
            *(v18 + 12) = v24;
            if (v24)
            {
              v25 = WTF::fastMalloc(v24);
              *(v18 + 8) = v24;
              *v18 = v25;
              result = memcpy(v25, *v11, *(v11 + 12));
            }

            v26 = *(v11 + 16);
            if (v26)
            {
              atomic_fetch_add_explicit(v26, 2u, memory_order_relaxed);
            }

            *(v18 + 16) = v26;
            v27 = *(v11 + 24);
            if (v27)
            {
              atomic_fetch_add_explicit(v27, 2u, memory_order_relaxed);
            }

            *(v18 + 32) = 0;
            *(v18 + 24) = v27;
            *(v18 + 48) = 0;
            if (*(v11 + 48) != 1)
            {
              v17 = v11;
              goto LABEL_32;
            }

            v23 = *(v11 + 44);
            *(v18 + 32) = 0;
            *(v18 + 40) = 0;
            *(v18 + 44) = v23;
            v17 = v11;
            if (!v23)
            {
              goto LABEL_30;
            }
          }

          v28 = WTF::fastMalloc(v23);
          *(v18 + 40) = v23;
          *(v18 + 32) = v28;
          result = memcpy(v28, *(v17 + 32), *(v17 + 44));
          goto LABEL_30;
        }

        if (*(v11 + 64))
        {
          goto LABEL_11;
        }
      }

LABEL_33:
      v11 += 72;
    }

    while (v11 != v12);
  }

  return result;
}

unsigned int *WebKit::VirtualAuthenticatorManager::createService@<X0>(uint64_t a1@<X0>, WTF::StringImpl *a2@<X1>, const WTF::StringImpl *a3@<X2>, uint64_t *a4@<X8>)
{
  v40 = a2;
  v45 = 0;
  v46 = 0;
  v5 = *(a1 + 944);
  if (v5)
  {
    v6 = *(v5 - 4);
    v7 = (v5 + 16 * v6);
    if (*(v5 - 12))
    {
      if (v6)
      {
        v8 = 16 * v6;
        v9 = *(a1 + 944);
        while (*v9 + 1 <= 1)
        {
          v9 += 2;
          v8 -= 16;
          if (!v8)
          {
            v9 = v7;
            goto LABEL_13;
          }
        }
      }

      else
      {
        v9 = *(a1 + 944);
      }

      goto LABEL_13;
    }
  }

  else
  {
    v7 = 0;
    v6 = 0;
  }

  v9 = v7;
  v7 = (v5 + 16 * v6);
  if (!v5)
  {
    v10 = 0;
    goto LABEL_14;
  }

LABEL_13:
  v10 = (v5 + 16 * *(v5 - 4));
LABEL_14:
  if (v10 != v9)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = *v9;
      if (*v9 == -1 || !v13)
      {
        __break(0xC471u);
        JUMPOUT(0x19E430AF0);
      }

      v14 = *(a1 + 944);
      if (v14)
      {
        v15 = *(v14 - 8);
        v16 = *(v13 + 4);
        if (v16 < 0x100)
        {
          v17 = WTF::StringImpl::hashSlowCase(v13);
        }

        else
        {
          v17 = v16 >> 8;
        }

        for (i = 0; ; v17 = i + v19)
        {
          v19 = v17 & v15;
          v20 = *(v14 + 16 * v19);
          if (v20 != -1)
          {
            if (!v20)
            {
              v21 = 0;
              goto LABEL_29;
            }

            if (WTF::equal(v20, *v9, a3))
            {
              break;
            }
          }

          ++i;
        }

        v21 = *(v14 + 16 * v19 + 8);
      }

      else
      {
        v21 = 0;
      }

LABEL_29:
      v22 = (v21 + 8);
      if (*(v21 + 8) == v40)
      {
        v23 = *v9;
        if (*v9)
        {
          atomic_fetch_add_explicit(v23, 2u, memory_order_relaxed);
        }

        v41 = v23;
        v24 = *v21;
        if (v24)
        {
          atomic_fetch_add_explicit(v24, 2u, memory_order_relaxed);
        }

        v42 = v24;
        v25 = *v22;
        v44 = *(v22 + 4);
        v43 = v25;
        if (v12 == v46)
        {
          v26 = WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v45, v12 + 1, &v41);
          v27 = HIDWORD(v46);
          v11 = v45;
          v28 = v45 + 24 * HIDWORD(v46);
          v29 = *v26;
          *v26 = 0;
          *v28 = v29;
          v30 = *(v26 + 8);
          *(v26 + 8) = 0;
          *(v28 + 8) = v30;
          LOBYTE(v30) = *(v26 + 20);
          *(v28 + 16) = *(v26 + 16);
          *(v28 + 20) = v30;
        }

        else
        {
          v31 = v11 + 24 * v12;
          v32 = v41;
          v41 = 0;
          *v31 = v32;
          v33 = v42;
          v42 = 0;
          *(v31 + 8) = v33;
          LODWORD(v33) = v43;
          *(v31 + 20) = v44;
          *(v31 + 16) = v33;
          v27 = HIDWORD(v46);
        }

        v12 = v27 + 1;
        HIDWORD(v46) = v27 + 1;
        v34 = v42;
        v42 = 0;
        if (v34 && atomic_fetch_add_explicit(v34, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v34, a2);
        }

        v35 = v41;
        v41 = 0;
        if (v35 && atomic_fetch_add_explicit(v35, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v35, a2);
        }
      }

      do
      {
        v9 += 2;
      }

      while (v9 != v7 && *v9 + 1 <= 1);
    }

    while (v9 != v10);
  }

  WebKit::VirtualService::create(a3, &v45, a4);
  return WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v45, v36);
}

uint64_t WebKit::VirtualAuthenticatorManager::runPanel(WebKit::VirtualAuthenticatorManager *this)
{
  WebKit::AuthenticatorManager::getTransports(this, &v4);
  if (v4 && *(v4 - 12))
  {
    result = WebKit::AuthenticatorManager::startDiscovery(this, &v4);
  }

  else
  {
    result = WebKit::AuthenticatorManager::cancel(this);
  }

  if (v4)
  {
    return WTF::fastFree((v4 - 16), v3);
  }

  return result;
}

void WebKit::VirtualAuthenticatorManager::selectAssertionResponse(uint64_t a1, uint64_t **a2, uint64_t a3, uint64_t *a4)
{
  if (*(a2 + 3))
  {
    v4 = **a2;
    v5 = *a4;
    *a4 = 0;
    (*(*v5 + 16))(v5, v4);
    v6 = *(*v5 + 8);

    v6(v5);
  }

  else
  {
    __break(0xC471u);
  }
}

uint64_t WebKit::VirtualAuthenticatorManager::decidePolicyForLocalAuthenticator(uint64_t a1, uint64_t *a2)
{
  v2 = *a2;
  *a2 = 0;
  (*(*v2 + 16))(v2, 0);
  v3 = *(*v2 + 8);

  return v3(v2);
}

uint64_t non-virtual thunk toWebKit::VirtualAuthenticatorManager::decidePolicyForLocalAuthenticator(uint64_t a1, uint64_t *a2)
{
  v2 = *a2;
  *a2 = 0;
  (*(*v2 + 16))(v2, 0);
  v3 = *(*v2 + 8);

  return v3(v2);
}

void WebKit::VirtualAuthenticatorManager::~VirtualAuthenticatorManager(WebKit::VirtualAuthenticatorManager *this, void *a2)
{
  v3 = *(this + 119);
  if (v3)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 118);
  if (v4)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  WebKit::AuthenticatorManager::~AuthenticatorManager(this);
}

{
  v3 = *(this + 119);
  if (v3)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 118);
  if (v4)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  WebKit::AuthenticatorManager::~AuthenticatorManager(this);

  bmalloc::api::tzoneFree(v5, v6);
}

void non-virtual thunk toWebKit::VirtualAuthenticatorManager::~VirtualAuthenticatorManager(WebKit::VirtualAuthenticatorManager *this, void *a2)
{
  v3 = *(this + 116);
  if (v3)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 115);
  if (v4)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  WebKit::AuthenticatorManager::~AuthenticatorManager((this - 24));
}

{
  v3 = *(this + 116);
  if (v3)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v3, a2);
  }

  v4 = *(this + 115);
  if (v4)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v4, a2);
  }

  WebKit::AuthenticatorManager::~AuthenticatorManager((this - 24));

  bmalloc::api::tzoneFree(v5, v6);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(uint64_t a1, void *a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = a1 + 8;
    do
    {
      if (*(v4 - 8) != -1)
      {
        WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v4, a2);
        v5 = *(v4 - 8);
        *(v4 - 8) = 0;
        if (v5)
        {
          if (atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v5, a2);
          }
        }
      }

      v4 += 24;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(uint64_t a1, WTF::StringImpl **a2)
{
  v3 = *(a1 - 4);
  if (v3)
  {
    v4 = (a1 + 8);
    do
    {
      v5 = *(v4 - 1);
      if (v5 != -1)
      {
        a2 = *v4;
        *v4 = 0;
        if (a2)
        {
          std::default_delete<WTF::URL>::operator()[abi:sn200100](v4, a2);
          v5 = *(v4 - 1);
        }

        *(v4 - 1) = 0;
        if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v5, a2);
        }
      }

      v4 += 2;
      --v3;
    }

    while (v3);
  }

  return WTF::fastFree((a1 - 16), a2);
}

void WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>(uint64_t *a1@<X0>, WTF::StringImpl **a2@<X1>, const WTF::StringImpl *a3@<X2>, uint64_t a4@<X8>)
{
  if (*a2 == -1 || !*a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E4311A4);
  }

  v8 = *a1;
  if (*a1 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a1, 0), (v8 = *a1) != 0))
  {
    v9 = *(v8 - 8);
  }

  else
  {
    v9 = 0;
  }

  v10 = *(*a2 + 4);
  if (v10 < 0x100)
  {
    v11 = WTF::StringImpl::hashSlowCase(*a2);
  }

  else
  {
    v11 = v10 >> 8;
  }

  v12 = 0;
  for (i = 1; ; ++i)
  {
    v14 = v11 & v9;
    v15 = (v8 + 16 * (v11 & v9));
    v16 = *v15;
    if (*v15 != -1)
    {
      break;
    }

    v12 = (v8 + 16 * v14);
LABEL_14:
    v11 = i + v14;
  }

  if (!v16)
  {
    if (v12)
    {
      *v12 = 0;
      v12[1] = 0;
      --*(*a1 - 16);
      v15 = v12;
    }

    WTF::String::operator=(v15, a2);
    v17 = *a3;
    *a3 = 0;
    v18 = v15[1];
    v15[1] = v17;
    if (v18)
    {
      std::default_delete<WTF::URL>::operator()[abi:sn200100](v15 + 8, v18);
    }

    v19 = *a1;
    if (*a1)
    {
      v20 = *(v19 - 12) + 1;
    }

    else
    {
      v20 = 1;
    }

    *(v19 - 12) = v20;
    v23 = (*(v19 - 16) + v20);
    v24 = *(v19 - 4);
    if (v24 > 0x400)
    {
      if (v24 <= 2 * v23)
      {
LABEL_26:
        v15 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a1, v15);
        v19 = *a1;
        if (*a1)
        {
          v24 = *(v19 - 4);
        }

        else
        {
          v24 = 0;
        }
      }
    }

    else if (3 * v24 <= 4 * v23)
    {
      goto LABEL_26;
    }

    *a4 = v15;
    *(a4 + 8) = v19 + 16 * v24;
    *(a4 + 16) = 1;
    return;
  }

  if (!WTF::equal(v16, *a2, a3))
  {
    goto LABEL_14;
  }

  v21 = *a1;
  if (*a1)
  {
    v22 = *(v21 - 4);
  }

  else
  {
    v22 = 0;
  }

  *a4 = v15;
  *(a4 + 8) = v21 + 16 * v22;
  *(a4 + 16) = 0;
  v25 = *a3;
  *a3 = 0;
  v28 = v15[1];
  v27 = v15 + 1;
  v26 = v28;
  *v27 = v25;
  if (v28)
  {

    std::default_delete<WTF::URL>::operator()[abi:sn200100](v27, v26);
  }
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, __int128 *a2)
{
  v3 = *a1;
  if (*a1 && (v4 = *(v3 - 4)) != 0)
  {
    v5 = v4 << (6 * *(v3 - 12) >= (2 * v4));
  }

  else
  {
    v5 = 8;
  }

  return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1, v5, a2);
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(uint64_t *a1, unsigned int a2, __int128 *a3)
{
  v6 = *a1;
  if (*a1)
  {
    v7 = *(v6 - 4);
    v8 = *(v6 - 12);
  }

  else
  {
    v7 = 0;
    v8 = 0;
  }

  v9 = WTF::fastZeroedMalloc((16 * a2 + 16));
  *a1 = (v9 + 4);
  v9[2] = a2 - 1;
  v9[3] = a2;
  *v9 = 0;
  v9[1] = v8;
  if (v7)
  {
    v11 = 0;
    v12 = 0;
    do
    {
      v13 = (v6 + 16 * v11);
      v14 = *v13;
      if (*v13 != -1)
      {
        if (v14)
        {
          v15 = *a1;
          if (*a1)
          {
            v16 = *(v15 - 8);
          }

          else
          {
            v16 = 0;
          }

          v17 = *(v14 + 4);
          if (v17 < 0x100)
          {
            v18 = WTF::StringImpl::hashSlowCase(v14);
          }

          else
          {
            v18 = v17 >> 8;
          }

          v19 = 0;
          do
          {
            v20 = v18 & v16;
            v18 = ++v19 + v20;
          }

          while (*(v15 + 16 * v20));
          v21 = v15 + 16 * v20;
          v22 = *(v21 + 8);
          *(v21 + 8) = 0;
          if (v22)
          {
            std::default_delete<WTF::URL>::operator()[abi:sn200100](v21 + 8, v22);
            v24 = *v21;
            *v21 = 0;
            if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v24, v23);
            }
          }

          else
          {
            *v21 = 0;
          }

          v25 = *v13;
          *(v13 + 1) = 0;
          *v13 = 0;
          *v21 = v25;
          v10 = *(v13 + 1);
          *(v13 + 1) = 0;
          if (v10)
          {
            std::default_delete<WTF::URL>::operator()[abi:sn200100](v13 + 8, v10);
          }

          v26 = *v13;
          *v13 = 0;
          if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v26, v10);
          }

          if (v13 == a3)
          {
            v12 = v21;
          }
        }

        else
        {
          v10 = *(v13 + 1);
          *(v13 + 1) = 0;
          if (v10)
          {
            std::default_delete<WTF::URL>::operator()[abi:sn200100](v13 + 8, v10);
            v14 = *v13;
          }

          *v13 = 0;
          if (v14)
          {
            if (atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v14, v10);
            }
          }
        }
      }

      ++v11;
    }

    while (v11 != v7);
  }

  else
  {
    v12 = 0;
    result = 0;
    if (!v6)
    {
      return result;
    }
  }

  WTF::fastFree((v6 - 16), v10);
  return v12;
}

uint64_t WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(uint64_t a1, void *a2)
{
  v3 = *(a1 + 12);
  if (v3)
  {
    WTF::VectorTypeOperations<WebKit::VirtualCredential>::destruct(*a1, (*a1 + 72 * v3));
  }

  v4 = *a1;
  if (*a1)
  {
    *a1 = 0;
    *(a1 + 8) = 0;
    WTF::fastFree(v4, a2);
  }

  return a1;
}

WTF *WTF::VectorTypeOperations<WebKit::VirtualCredential>::destruct(WTF *result, WTF *a2)
{
  if (result != a2)
  {
    v3 = result;
    do
    {
      if (*(v3 + 48) == 1)
      {
        v6 = *(v3 + 4);
        if (v6)
        {
          *(v3 + 4) = 0;
          *(v3 + 10) = 0;
          WTF::fastFree(v6, a2);
        }
      }

      v4 = *(v3 + 3);
      *(v3 + 3) = 0;
      if (v4 && atomic_fetch_add_explicit(v4, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v4, a2);
      }

      v5 = *(v3 + 2);
      *(v3 + 2) = 0;
      if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v5, a2);
      }

      result = *v3;
      if (*v3)
      {
        *v3 = 0;
        *(v3 + 2) = 0;
        result = WTF::fastFree(result, a2);
      }

      v3 = (v3 + 72);
    }

    while (v3 != a2);
  }

  return result;
}

WTF *WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>@<X0>(uint64_t *a1@<X0>, WTF::StringImpl **a2@<X1>, const WTF::StringImpl *a3@<X2>, uint64_t a4@<X8>)
{
  if (*a2 == -1 || !*a2)
  {
    __break(0xC471u);
    JUMPOUT(0x19E431778);
  }

  v8 = *a1;
  if (*a1 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a1, 0), (v8 = *a1) != 0))
  {
    v9 = *(v8 - 8);
  }

  else
  {
    v9 = 0;
  }

  v10 = *(*a2 + 4);
  v31 = a4;
  if (v10 < 0x100)
  {
    v11 = WTF::StringImpl::hashSlowCase(*a2);
  }

  else
  {
    v11 = v10 >> 8;
  }

  v12 = 0;
  for (i = 1; ; ++i)
  {
    v14 = v11 & v9;
    v15 = v8 + 24 * (v11 & v9);
    v16 = *v15;
    if (*v15 != -1)
    {
      break;
    }

    v12 = (v8 + 24 * v14);
LABEL_14:
    v11 = i + v14;
  }

  if (!v16)
  {
    if (v12)
    {
      *v12 = 0;
      v12[1] = 0;
      v12[2] = 0;
      --*(*a1 - 16);
      v15 = v12;
    }

    WTF::String::operator=(v15, a2);
    v19 = *a3;
    v20 = *(a3 + 1);
    *a3 = 0;
    *(a3 + 1) = 0;
    v21 = *(v15 + 20);
    if (v21)
    {
      WTF::VectorTypeOperations<WebKit::VirtualCredential>::destruct(*(v15 + 8), (*(v15 + 8) + 72 * v21));
    }

    v22 = *(v15 + 8);
    if (v22)
    {
      *(v15 + 8) = 0;
      *(v15 + 16) = 0;
      WTF::fastFree(v22, v17);
    }

    *&v18 = 0;
    v32 = v18;
    *(v15 + 8) = v19;
    *(v15 + 16) = v20;
    result = WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v32, v17);
    v24 = *a1;
    if (*a1)
    {
      v25 = *(v24 - 12) + 1;
    }

    else
    {
      v25 = 1;
    }

    *(v24 - 12) = v25;
    v28 = (*(v24 - 16) + v25);
    v29 = *(v24 - 4);
    if (v29 > 0x400)
    {
      if (v29 <= 2 * v28)
      {
LABEL_28:
        result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(a1, v15);
        v15 = result;
        v24 = *a1;
        if (*a1)
        {
          LODWORD(v29) = *(v24 - 4);
        }

        else
        {
          LODWORD(v29) = 0;
        }
      }
    }

    else if (3 * v29 <= 4 * v28)
    {
      goto LABEL_28;
    }

    *v31 = v15;
    *(v31 + 8) = v24 + 24 * v29;
    *(v31 + 16) = 1;
    return result;
  }

  if (!WTF::equal(v16, *a2, a3))
  {
    goto LABEL_14;
  }

  v26 = *a1;
  if (*a1)
  {
    v27 = *(v26 - 4);
  }

  else
  {
    v27 = 0;
  }

  *v31 = v15;
  *(v31 + 8) = v26 + 24 * v27;
  *(v31 + 16) = 0;
  v30 = *(v15 + 20);
  if (v30)
  {
    WTF::VectorTypeOperations<WebKit::VirtualCredential>::destruct(*(v15 + 8), (*(v15 + 8) + 72 * v30));
  }

  return WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt(v15 + 8, a3);
}

WTF::StringImpl **WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(uint64_t *a1, uint64_t a2)
{
  v3 = *a1;
  if (*a1)
  {
    v4 = *(v3 - 4);
    v5 = *(v3 - 12);
    if (v4)
    {
      v6 = v4 << (6 * v5 >= (2 * v4));
      goto LABEL_6;
    }
  }

  else
  {
    v4 = 0;
    v5 = 0;
  }

  v6 = 8;
LABEL_6:
  v7 = WTF::fastZeroedMalloc((24 * v6 + 16));
  *a1 = (v7 + 4);
  v7[2] = v6 - 1;
  v7[3] = v6;
  *v7 = 0;
  v7[1] = v5;
  if (v4)
  {
    v9 = 0;
    v10 = 0;
    do
    {
      v11 = v3 + 24 * v9;
      v12 = *v11;
      if (*v11 != -1)
      {
        if (v12)
        {
          v14 = *a1;
          if (*a1)
          {
            v15 = *(v14 - 8);
          }

          else
          {
            v15 = 0;
          }

          v16 = *(v12 + 4);
          if (v16 < 0x100)
          {
            v17 = WTF::StringImpl::hashSlowCase(v12);
          }

          else
          {
            v17 = v16 >> 8;
          }

          v18 = 0;
          do
          {
            v19 = (v14 + 24 * (v17 & v15));
            v17 = ++v18 + (v17 & v15);
          }

          while (*v19);
          WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((v19 + 1), v8);
          v21 = *v19;
          *v19 = 0;
          if (v21 && atomic_fetch_add_explicit(v21, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v21, v20);
          }

          v22 = *v11;
          *v11 = 0;
          v19[1] = 0;
          v19[2] = 0;
          *v19 = v22;
          WTF::VectorBuffer<WebCore::HTTPHeaderField,0ul,WTF::FastMalloc>::adopt((v19 + 1), (v11 + 8));
          WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v11 + 8, v23);
          v24 = *v11;
          *v11 = 0;
          if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v24, v8);
          }

          if (v11 == a2)
          {
            v10 = v19;
          }
        }

        else
        {
          WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v11 + 8, v8);
          v13 = *v11;
          *v11 = 0;
          if (v13)
          {
            if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v13, v8);
            }
          }
        }
      }

      ++v9;
    }

    while (v9 != v4);
  }

  else
  {
    v10 = 0;
    result = 0;
    if (!v3)
    {
      return result;
    }
  }

  WTF::fastFree((v3 - 16), v8);
  return v10;
}

void WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::remove(uint64_t *a1, WTF::StringImpl *a2)
{
  WTF::KeyValuePairHashTraits<WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>::customDeleteBucket(a2, a2);
  v3 = *a1;
  v4 = vadd_s32(*(*a1 - 16), 0xFFFFFFFF00000001);
  *(v3 - 16) = v4;
  v5 = *(v3 - 4);
  if (6 * v4.i32[1] < v5 && v5 >= 9)
  {

    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1, v5 >> 1, 0);
  }
}

void WTF::KeyValuePairHashTraits<WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>::customDeleteBucket(uint64_t a1, WTF::StringImpl *a2)
{
  v3 = *a1;
  *a1 = -1;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v6 = *(a1 + 8);
  v5 = (a1 + 8);
  v4 = v6;
  *v5 = 0;
  if (v6)
  {

    std::default_delete<WTF::URL>::operator()[abi:sn200100](v5, v4);
  }
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::UniqueRef<WebKit::VirtualAuthenticatorConfiguration>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(uint64_t *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  v3 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v6 = *a2;
  if (*a2 == -1 || !v6)
  {
    __break(0xC471u);
    JUMPOUT(0x19E431B68);
  }

  v7 = *(v3 - 8);
  v8 = *(v6 + 4);
  if (v8 < 0x100)
  {
    v9 = WTF::StringImpl::hashSlowCase(v6);
  }

  else
  {
    v9 = v8 >> 8;
  }

  for (i = 0; ; v9 = i + v11)
  {
    v11 = v9 & v7;
    v12 = *(v3 + 16 * v11);
    if (v12 == -1)
    {
      goto LABEL_10;
    }

    if (!v12)
    {
      break;
    }

    if (WTF::equal(v12, *a2, a3))
    {
      return v3 + 16 * v11;
    }

LABEL_10:
    ++i;
  }

  if (*a1)
  {
    return *a1 + 16 * *(*a1 - 4);
  }

  else
  {
    return 0;
  }
}

uint64_t WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(uint64_t *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  v3 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v6 = *a2;
  if (*a2 == -1 || !v6)
  {
    __break(0xC471u);
    JUMPOUT(0x19E431C98);
  }

  v7 = *(v3 - 8);
  v8 = *(v6 + 4);
  if (v8 < 0x100)
  {
    v9 = WTF::StringImpl::hashSlowCase(v6);
  }

  else
  {
    v9 = v8 >> 8;
  }

  for (i = 0; ; v9 = i + v11)
  {
    v11 = v9 & v7;
    v12 = (v3 + 24 * (v9 & v7));
    v13 = *v12;
    if (*v12 == -1)
    {
      goto LABEL_10;
    }

    if (!v13)
    {
      break;
    }

    if (WTF::equal(v13, *a2, a3))
    {
      return v12;
    }

LABEL_10:
    ++i;
  }

  if (*a1)
  {
    return *a1 + 24 * *(*a1 - 4);
  }

  else
  {
    return 0;
  }
}

uint64_t WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebKit::VirtualCredential>(unsigned int *a1, unint64_t a2)
{
  v3 = WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, a1[3] + 1, a2);
  v4 = *a1 + 72 * a1[3];
  *v4 = 0;
  *(v4 + 8) = 0;
  WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(v4, v3);
  v5 = *(v3 + 16);
  *(v3 + 16) = 0;
  *(v4 + 16) = v5;
  v6 = *(v3 + 24);
  *(v3 + 24) = 0;
  *(v4 + 24) = v6;
  *(v4 + 32) = 0;
  v7 = (v4 + 32);
  *(v4 + 48) = 0;
  if (*(v3 + 48) == 1)
  {
    *v7 = 0;
    *(v4 + 40) = 0;
    WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(v7, (v3 + 32));
    *(v4 + 48) = 1;
  }

  v8 = *(v3 + 56);
  *(v4 + 64) = *(v3 + 64);
  *(v4 + 56) = v8;
  ++a1[3];
  return 1;
}

unint64_t WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(unsigned int *a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 72 * a1[3] <= a3)
  {
    v10 = a1[2];
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = a1[2];
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

unsigned int *WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(unsigned int *result, unint64_t a2)
{
  if (result[2] < a2)
  {
    if (a2 >= 0x38E38E4)
    {
      __break(0xC471u);
    }

    else
    {
      v2 = result;
      v3 = *result;
      v4 = result[3];
      v5 = 72 * a2;
      result = WTF::fastMalloc((72 * a2));
      v2[2] = v5 / 0x48;
      *v2 = result;
      if (v4)
      {
        v7 = result;
        v8 = 0;
        v9 = 72 * v4;
        do
        {
          v10 = v3 + v8;
          v11 = &v7[v8 / 4];
          *v11 = 0;
          *(v11 + 1) = 0;
          WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(&v7[v8 / 4], (v3 + v8));
          v12 = *(v3 + v8 + 16);
          *(v10 + 2) = 0;
          *(v11 + 2) = v12;
          v13 = *(v3 + v8 + 24);
          *(v10 + 3) = 0;
          *(v11 + 3) = v13;
          *(v11 + 32) = 0;
          v14 = &v7[v8 / 4 + 8];
          *(v11 + 48) = 0;
          if (*(v3 + v8 + 48) == 1)
          {
            *v14 = 0;
            *(v11 + 5) = 0;
            WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(v14, v10 + 4);
            *(v11 + 48) = 1;
          }

          v15 = *(v10 + 7);
          *(v11 + 32) = *(v10 + 32);
          *(v11 + 7) = v15;
          if (v10[48] == 1)
          {
            v19 = *(v10 + 4);
            if (v19)
            {
              *(v10 + 4) = 0;
              *(v3 + v8 + 40) = 0;
              WTF::fastFree(v19, v6);
            }
          }

          v16 = *(v10 + 3);
          *(v10 + 3) = 0;
          if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v16, v6);
          }

          v17 = *(v10 + 2);
          *(v10 + 2) = 0;
          if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v17, v6);
          }

          result = *v10;
          if (*v10)
          {
            v18 = v3 + v8;
            *v18 = 0;
            *(v18 + 2) = 0;
            result = WTF::fastFree(result, v6);
          }

          v8 += 72;
        }

        while (v9 != v8);
      }

      if (v3)
      {
        if (*v2 == v3)
        {
          *v2 = 0;
          v2[2] = 0;
        }

        return WTF::fastFree(v3, v6);
      }
    }
  }

  return result;
}

unsigned int *WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(unsigned int *a1, WTF::StringImpl *a2)
{
  v3 = a1[3];
  if (v3)
  {
    v4 = 24 * v3;
    v5 = (*a1 + 8);
    do
    {
      v6 = *v5;
      *v5 = 0;
      if (v6 && atomic_fetch_add_explicit(v6, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v6, a2);
      }

      v7 = *(v5 - 1);
      *(v5 - 1) = 0;
      if (v7 && atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v7, a2);
      }

      v5 += 3;
      v4 -= 24;
    }

    while (v4);
  }

  v8 = *a1;
  if (*a1)
  {
    *a1 = 0;
    a1[2] = 0;
    WTF::fastFree(v8, a2);
  }

  return a1;
}

unint64_t WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(unsigned int *a1, unint64_t a2, unint64_t a3)
{
  v3 = a3;
  v5 = *a1;
  if (*a1 > a3 || v5 + 24 * a1[3] <= a3)
  {
    v10 = a1[2];
    if (v10 + (v10 >> 1) <= v10 + 1)
    {
      v11 = v10 + 1;
    }

    else
    {
      v11 = v10 + (v10 >> 1);
    }

    if (v11 <= a2)
    {
      v11 = a2;
    }

    if (v11 <= 0x10)
    {
      v12 = 16;
    }

    else
    {
      v12 = v11;
    }

    WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v12);
  }

  else
  {
    v6 = a3 - v5;
    v7 = a1[2];
    if (v7 + (v7 >> 1) <= v7 + 1)
    {
      v8 = v7 + 1;
    }

    else
    {
      v8 = v7 + (v7 >> 1);
    }

    if (v8 <= a2)
    {
      v8 = a2;
    }

    if (v8 <= 0x10)
    {
      v9 = 16;
    }

    else
    {
      v9 = v8;
    }

    WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, v9);
    return *a1 + v6;
  }

  return v3;
}

unsigned int *WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(unsigned int *result, unint64_t a2)
{
  if (result[2] < a2)
  {
    if (a2 >= 0xAAAAAAB)
    {
      __break(0xC471u);
    }

    else
    {
      v2 = result;
      v3 = *result;
      v4 = result[3];
      v5 = 24 * a2;
      result = WTF::fastMalloc((24 * a2));
      v2[2] = v5 / 0x18;
      *v2 = result;
      if (v4)
      {
        v7 = result;
        v8 = v3;
        do
        {
          v9 = *v8;
          *v8 = 0;
          *v7 = v9;
          v10 = *(v8 + 1);
          *(v8 + 1) = 0;
          *(v7 + 1) = v10;
          LODWORD(v10) = *(v8 + 4);
          *(v7 + 20) = *(v8 + 20);
          v7[4] = v10;
          v11 = *(v8 + 1);
          *(v8 + 1) = 0;
          if (v11 && atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v11, v6);
          }

          result = *v8;
          *v8 = 0;
          if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            result = WTF::StringImpl::destroy(result, v6);
          }

          v7 += 6;
          v8 = (v8 + 24);
        }

        while (v8 != (v3 + 24 * v4));
      }

      if (v3)
      {
        if (*v2 == v3)
        {
          *v2 = 0;
          v2[2] = 0;
        }

        return WTF::fastFree(v3, v6);
      }
    }
  }

  return result;
}

void WebKit::createPrivateKey(SecKeyRef *a1@<X8>)
{
  v9[3] = *MEMORY[0x1E69E9840];
  v3 = *MEMORY[0x1E697AD78];
  v4 = *MEMORY[0x1E697AD30];
  v8[0] = *MEMORY[0x1E697AD68];
  v8[1] = v4;
  v5 = *MEMORY[0x1E697AD38];
  v9[0] = v3;
  v9[1] = v5;
  v8[2] = *MEMORY[0x1E697AD50];
  v9[2] = &unk_1F11849B0;
  v7 = 0;
  v6 = SecKeyCreateRandomKey([MEMORY[0x1E695DF20] dictionaryWithObjects:v9 forKeys:v8 count:3], &v7);
  if (v7)
  {
    *a1 = 0;
    if (v6)
    {
      CFRelease(v6);
    }
  }

  else
  {
    *a1 = v6;
  }
}

void WebKit::credentialIdAndCosePubKeyForPrivateKey(SecKeyRef *a1@<X0>, uint64_t a2@<X8>)
{
  v3 = SecKeyCopyPublicKey(*a1);
  error = 0;
  v4 = SecKeyCopyExternalRepresentation(v3, &error);
  if (error)
  {
    CFRelease(error);
  }

  if (v3)
  {
    CFRelease(v3);
  }

  PAL::CryptoDigest::create();
  if (v4)
  {
    [(__CFData *)v4 bytes];
    [(__CFData *)v4 length];
  }

  PAL::CryptoDigest::addBytes();
  PAL::CryptoDigest::computeHash(&error, v16);
  v5 = v20;
  v6 = error;
  if (v16)
  {
    PAL::CryptoDigest::~CryptoDigest(v16);
    bmalloc::api::tzoneFree(v7, v8);
  }

  v20 = 32;
  v9 = WTF::fastMalloc(0x20);
  v19 = 32;
  error = v9;
  [(__CFData *)v4 getBytes:v9 range:1, 32];
  v17 = WTF::fastMalloc(0x20);
  [(__CFData *)v4 getBytes:v17 range:33, 32];
  WebCore::encodeES256PublicKeyAsCBOR();
  if (v17)
  {
    WTF::fastFree(v17, v10);
  }

  v11 = error;
  if (error)
  {
    error = 0;
    v19 = 0;
    WTF::fastFree(v11, v10);
  }

  *a2 = 0;
  *(a2 + 8) = 0;
  *(a2 + 12) = v5;
  if (v5)
  {
    v12 = WTF::fastMalloc(v5);
    *(a2 + 8) = v5;
    *a2 = v12;
    memcpy(v12, v6, v5);
  }

  *(a2 + 16) = 0;
  *(a2 + 24) = 0;
  *(a2 + 28) = v15;
  if (v15)
  {
    v13 = WTF::fastMalloc(v15);
    *(a2 + 24) = v15;
    *(a2 + 16) = v13;
    memcpy(v13, v14, v15);
  }

  if (v14)
  {
    WTF::fastFree(v14, v10);
    if (!v6)
    {
LABEL_19:
      if (!v4)
      {
        return;
      }

      goto LABEL_20;
    }
  }

  else if (!v6)
  {
    goto LABEL_19;
  }

  WTF::fastFree(v6, v10);
  if (v4)
  {
LABEL_20:
  }
}

void sub_19E4325B4(_Unwind_Exception *exception_object, void *a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, PAL::CryptoDigest *a11, int a12, WTF *a13, int a14)
{
  if (v18)
  {
    *v16 = 0;
    *(v16 + 8) = 0;
    WTF::fastFree(v18, a2);
  }

  if (v17)
  {
    WTF::fastFree(v17, a2);
  }

  if (v15)
  {
    WTF::fastFree(v15, a2);
  }

  if (v14)
  {
  }

  _Unwind_Resume(exception_object);
}

void WebKit::base64PrivateKey(SecKeyRef *a1@<X0>, atomic_uint **a2@<X8>)
{
  error = 0;
  v3 = SecKeyCopyExternalRepresentation(*a1, &error);
  v4 = error;
  if (error)
  {
    v5 = *MEMORY[0x1E696EBA8];
    if (*MEMORY[0x1E696EBA8])
    {
      atomic_fetch_add_explicit(v5, 2u, memory_order_relaxed);
    }

    *a2 = v5;
    CFRelease(v4);
  }

  else
  {
    MEMORY[0x19EB02040](a2, [(__CFData *)v3 base64EncodedStringWithOptions:0]);
  }

  if (v3)
  {
  }
}

void sub_19E432704(_Unwind_Exception *exception_object)
{
  if (v1)
  {
  }

  _Unwind_Resume(exception_object);
}

void WebKit::privateKeyFromBase64(atomic_uint **this@<X0>, SecKeyRef *a2@<X8>)
{
  v17[3] = *MEMORY[0x1E69E9840];
  v5 = *MEMORY[0x1E697AD78];
  v6 = *MEMORY[0x1E697AD30];
  v16[0] = *MEMORY[0x1E697AD68];
  v16[1] = v6;
  v7 = *MEMORY[0x1E697AD38];
  v17[0] = v5;
  v17[1] = v7;
  v16[2] = *MEMORY[0x1E697AD50];
  v17[2] = &unk_1F11849B0;
  v8 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v17 forKeys:v16 count:3];
  v9 = objc_alloc(MEMORY[0x1E695DEF0]);
  v10 = *this;
  if (v10)
  {
    atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
    MEMORY[0x19EB00B70](&v15, v10);
    if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v10, v11);
    }
  }

  else
  {
    v15 = &stru_1F1147748;
    v12 = &stru_1F1147748;
  }

  v13 = [v9 initWithBase64EncodedString:v15 options:{0, v15}];
  v14 = v15;
  v15 = 0;
  if (v14)
  {
  }

  v15 = 0;
  *a2 = SecKeyCreateWithData(v13, v8, &v15);
  if (v13)
  {
  }
}

void sub_19E432884(_Unwind_Exception *exception_object, WTF::StringImpl *a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9)
{
  if (atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9, a2);
  }

  _Unwind_Resume(exception_object);
}

void WebKit::signatureForPrivateKey(SecKeyRef *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  v7 = [objc_alloc(MEMORY[0x1E695DF88]) initWithBytes:*a2 length:*(a2 + 12)];
  [v7 appendBytes:*a3 length:*(a3 + 12)];
  error = 0;
  v8 = SecKeyCreateSignature(*a1, *MEMORY[0x1E697B128], v7, &error);
  if (error)
  {
    CFRelease(error);
  }

  if (v8)
  {
    v9 = [(__CFData *)v8 bytes];
    v10 = [(__CFData *)v8 length];
  }

  else
  {
    v9 = 0;
    v10 = 0;
  }

  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector<unsigned char const,18446744073709551615ul>(a4, v9, v10);
  if (!v8)
  {
    if (!v7)
    {
      return;
    }

    goto LABEL_7;
  }

  CFRelease(v8);
  if (v7)
  {
LABEL_7:
  }
}

void sub_19E4329BC(_Unwind_Exception *exception_object)
{
  if (v2)
  {
    CFRelease(v2);
  }

  if (v1)
  {
  }

  _Unwind_Resume(exception_object);
}

const void **WebKit::VirtualHidConnection::VirtualHidConnection(const void **a1, atomic_uint **a2, uint64_t a3, atomic_uint **a4)
{
  result = WebKit::HidConnection::HidConnection(a1, 0);
  *result = &unk_1F1135910;
  v8 = *a4;
  if (*a4)
  {
    atomic_fetch_add(v8, 1u);
  }

  result[12] = v8;
  v9 = *a3;
  if (*a3)
  {
    atomic_fetch_add_explicit(v9, 2u, memory_order_relaxed);
  }

  result[13] = v9;
  v10 = *(a3 + 8);
  *(result + 116) = *(a3 + 12);
  *(result + 28) = v10;
  *(result + 120) = 0;
  *(result + 168) = 0;
  result[22] = 0;
  result[23] = 0;
  *(result + 48) = -1;
  v11 = *a2;
  if (*a2)
  {
    atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
  }

  result[25] = v11;
  return result;
}

void WebKit::VirtualHidConnection::send(uint64_t a1, uint64_t *a2, uint64_t *a3)
{
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 8), a1);
  v6 = *(a1 + 8);
  atomic_fetch_add(v6, 1u);
  v7 = *a2;
  *a2 = 0;
  v8 = *a3;
  *a3 = 0;
  v9 = a2[1];
  a2[1] = 0;
  v10 = malloc_type_malloc(0x40uLL, 0x10F00407B933D54uLL);
  *v10 = MEMORY[0x1E69E9818];
  v10[1] = 50331650;
  v10[2] = WTF::BlockPtr<void ()(void)>::fromCallable<WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0>(WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0)::{lambda(void *)#1}::__invoke;
  v10[3] = &WTF::BlockPtr<void ()(void)>::fromCallable<WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0>(WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0)::descriptor;
  v10[4] = v6;
  v10[5] = v7;
  v10[6] = v9;
  v10[7] = v8;
  global_queue = dispatch_get_global_queue(0, 0);
  dispatch_async(global_queue, v10);

  _Block_release(v10);
}

uint64_t WebKit::VirtualHidConnection::receiveHidMessage(uint64_t a1, fido::FidoHidMessage *this)
{
  for (result = fido::FidoHidMessage::numPackets(this); result; result = fido::FidoHidMessage::numPackets(this))
  {
    Packet = fido::FidoHidMessage::popNextPacket(&v13, this);
    WTF::RunLoop::mainSingleton(Packet);
    v6 = v13;
    v7 = v14;
    v13 = 0;
    v14 = 0;
    WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a1 + 8), a1);
    v8 = *(a1 + 8);
    atomic_fetch_add(v8, 1u);
    v9 = WTF::fastMalloc(0x20);
    *v9 = &unk_1F11359A0;
    v9[1] = v6;
    v9[2] = v7;
    v9[3] = v8;
    v12 = v9;
    WTF::RunLoop::dispatch();
    if (v12)
    {
      (*(*v12 + 8))(v12);
    }

    v11 = v13;
    if (v13)
    {
      v13 = 0;
      LODWORD(v14) = 0;
      WTF::fastFree(v11, v10);
    }
  }

  return result;
}

WTF *WebKit::VirtualHidConnection::recieveResponseCode(uint64_t a1, char a2)
{
  v9 = 0;
  v10 = 0;
  v6[0] = a2;
  v3 = WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v9, 1uLL, v6);
  *(v9 + HIDWORD(v10)) = *v3;
  ++HIDWORD(v10);
  result = fido::FidoHidMessage::create();
  if (v8)
  {
    WebKit::VirtualHidConnection::receiveHidMessage(a1, v6);
    if (v8 == 1)
    {
      WTF::Deque<std::unique_ptr<fido::FidoHidPacket>,0ul>::~Deque(&v7);
    }

    result = v9;
    if (v9)
    {
      v9 = 0;
      LODWORD(v10) = 0;
      return WTF::fastFree(result, v5);
    }
  }

  else
  {
    __break(1u);
  }

  return result;
}

void WebKit::VirtualHidConnection::~VirtualHidConnection(WebKit::VirtualHidConnection *this, WTF::StringImpl *a2)
{
  WebKit::VirtualHidConnection::~VirtualHidConnection(this, a2);

  WTF::fastFree(v2, v3);
}

{
  v3 = *(this + 25);
  *(this + 25) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  v4 = *(this + 22);
  if (v4)
  {
    *(this + 22) = 0;
    *(this + 46) = 0;
    WTF::fastFree(v4, a2);
  }

  if (*(this + 168) == 1)
  {
    WTF::Deque<std::unique_ptr<fido::FidoHidPacket>,0ul>::~Deque((this + 128));
  }

  v5 = *(this + 13);
  *(this + 13) = 0;
  if (v5 && atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v5, a2);
  }

  v6 = *(this + 12);
  *(this + 12) = 0;
  if (v6 && atomic_fetch_add(v6, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v6);
    WTF::fastFree(v6, a2);
  }

  WebKit::HidConnection::~HidConnection(this);
}

unsigned int *WTF::BlockPtr<void ()(void)>::fromCallable<WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0>(WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0)::{lambda(void const*)#1}::__invoke(uint64_t a1, void *a2)
{
  v3 = *(a1 + 56);
  *(a1 + 56) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(a1 + 40);
  if (v4)
  {
    *(a1 + 40) = 0;
    *(a1 + 48) = 0;
    WTF::fastFree(v4, a2);
  }

  result = *(a1 + 32);
  *(a1 + 32) = 0;
  if (result && atomic_fetch_add(result, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, result);

    return WTF::fastFree(result, a2);
  }

  return result;
}

uint64_t WTF::BlockPtr<void ()(void)>::fromCallable<WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0>(WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0)::{lambda(void *)#1}::__invoke(WTF::RunLoop *a1)
{
  WTF::RunLoop::mainSingleton(a1);
  v2 = *(a1 + 4);
  if (v2)
  {
    atomic_fetch_add(v2, 1u);
  }

  v3 = *(a1 + 5);
  v4 = *(a1 + 7);
  *(a1 + 7) = 0;
  v5 = *(a1 + 6);
  *(a1 + 5) = 0;
  *(a1 + 6) = 0;
  v6 = WTF::fastMalloc(0x28);
  *v6 = &unk_1F1135978;
  v6[1] = v2;
  v6[2] = v3;
  v6[3] = v5;
  v6[4] = v4;
  v8 = v6;
  WTF::RunLoop::dispatch();
  result = v8;
  if (v8)
  {
    return (*(*v8 + 8))(v8);
  }

  return result;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0::operator()(void)::{lambda(void)#1},void>::~CallableWrapper(uint64_t a1, void *a2)
{
  *a1 = &unk_1F1135978;
  v3 = *(a1 + 32);
  *(a1 + 32) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(a1 + 16);
  if (v4)
  {
    *(a1 + 16) = 0;
    *(a1 + 24) = 0;
    WTF::fastFree(v4, a2);
  }

  v5 = *(a1 + 8);
  *(a1 + 8) = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0::operator()(void)::{lambda(void)#1},void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135978;
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 2);
  if (v4)
  {
    *(this + 2) = 0;
    *(this + 6) = 0;
    WTF::fastFree(v4, a2);
  }

  v5 = *(this + 1);
  *(this + 1) = 0;
  if (v5 && atomic_fetch_add(v5, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v5);
    WTF::fastFree(v5, a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualHidConnection::send(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(WebKit::HidConnection::DataSent)> &&)::$_0::operator()(void)::{lambda(void)#1},void>::call(uint64_t a1)
{
  v5 = *(a1 + 8);
  if (!v5 || (v6 = *(v5 + 8)) == 0)
  {
    v8 = 0;
    goto LABEL_250;
  }

  if (*(v6 + 168))
  {
    fido::FidoHidMessage::addContinuationPacket();
  }

  else
  {
    v1 = &v154;
    fido::FidoHidMessage::createFromSerializedData();
    std::__optional_storage_base<fido::FidoHidMessage,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<fido::FidoHidMessage,false>>((v6 + 120), &v154);
    if (v158 == 1)
    {
      WTF::Deque<std::unique_ptr<fido::FidoHidPacket>,0ul>::~Deque((&v154 + 8));
    }
  }

  if ((*(v6 + 168) & 1) == 0)
  {
    goto LABEL_257;
  }

  if (!fido::FidoHidMessage::messageComplete((v6 + 120)))
  {
    goto LABEL_249;
  }

  if (*(v6 + 168) != 1)
  {
    goto LABEL_249;
  }

  v9 = *(v6 + 96);
  if (!v9)
  {
    goto LABEL_249;
  }

  v1 = *(v9 + 8);
  if (!v1)
  {
    goto LABEL_249;
  }

  ++*(v1 + 4);
  *(v6 + 192) = *(v6 + 120);
  v10 = *(v6 + 124);
  if (v10 == 16)
  {
    fido::FidoHidMessage::getMessagePayload(&v164, (v6 + 120));
    if (v166)
    {
      v2 = *v164;
      memmove(v164, v164 + 1, --v166);
      *&v154 = v164;
      *(&v154 + 1) = v166;
      cbor::CBORReader::read();
      if (v2 != 2)
      {
        if (v2 != 1)
        {
LABEL_199:
          v104 = 1;
          goto LABEL_240;
        }

        v158 = 0;
        v154 = 0u;
        v155 = 0u;
        LOBYTE(v156) = 0;
        if ((v163 & 1) == 0)
        {
          goto LABEL_257;
        }

        Map = cbor::CBORValue::getMap(&v161);
        cbor::CBORValue::CBORValue(&v131);
        v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(Map, &v131);
        cbor::CBORValue::~CBORValue(&v131);
        if ((v163 & 1) == 0)
        {
          goto LABEL_257;
        }

        if (cbor::CBORValue::getMap(&v161) + 8 != v2)
        {
          v18 = cbor::CBORValue::getMap((v2 + 64));
          cbor::CBORValue::CBORValue();
          v19 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v18, &v131);
          cbor::CBORValue::~CBORValue(&v131);
          v20 = v18 + 8;
          if (v18 + 8 != v19 && cbor::CBORValue::getBool((v19 + 64)))
          {
            if (*(v6 + 113) != 1)
            {
              v80 = 43;
              goto LABEL_138;
            }

            v159 = 1;
          }

          cbor::CBORValue::CBORValue();
          v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v18, &v131);
          cbor::CBORValue::~CBORValue(&v131);
          if (v20 != v2)
          {
            Bool = cbor::CBORValue::getBool((v2 + 64));
            if (Bool)
            {
              if (*(v6 + 114) != 1)
              {
                v80 = 44;
                goto LABEL_138;
              }

              if (*(v6 + 116) != 1)
              {
                v80 = 39;
                goto LABEL_138;
              }
            }

            v160 = Bool;
          }
        }

        if ((v163 & 1) == 0)
        {
          goto LABEL_257;
        }

        v22 = cbor::CBORValue::getMap(&v161);
        cbor::CBORValue::CBORValue(&v131);
        v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v22, &v131);
        cbor::CBORValue::~CBORValue(&v131);
        if ((v163 & 1) == 0)
        {
          goto LABEL_257;
        }

        if (cbor::CBORValue::getMap(&v161) + 8 != v2)
        {
          v23 = cbor::CBORValue::getMap((v2 + 64));
          cbor::CBORValue::CBORValue();
          v24 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v23, &v131);
          cbor::CBORValue::~CBORValue(&v131);
          if (v23 + 8 != v24)
          {
            v26 = *cbor::CBORValue::getString((v24 + 64));
            if (v26)
            {
              atomic_fetch_add_explicit(v26, 2u, memory_order_relaxed);
            }

            v27 = v155;
            *&v155 = v26;
            if (v27 && atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v27, v25);
            }

            WebKit::createPrivateKey(&cf);
            v2 = cf;
            v167 = cf;
            if (cf)
            {
              CFRetain(cf);
            }

            WebKit::base64PrivateKey(&v167, &v131);
            v28 = v131;
            v131 = 0;
            v29 = *(&v155 + 1);
            *(&v155 + 1) = v28;
            if (v29)
            {
              if (atomic_fetch_add_explicit(v29, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v29, v7);
              }

              v30 = v131;
              v131 = 0;
              if (v30 && atomic_fetch_add_explicit(v30, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v30, v7);
              }
            }

            v167 = 0;
            if (v2)
            {
              CFRelease(v2);
            }

            if ((v163 & 1) == 0)
            {
              goto LABEL_257;
            }

            v31 = cbor::CBORValue::getMap(&v161);
            cbor::CBORValue::CBORValue(&v131);
            v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v31, &v131);
            cbor::CBORValue::~CBORValue(&v131);
            if ((v163 & 1) == 0)
            {
              goto LABEL_257;
            }

            if (cbor::CBORValue::getMap(&v161) + 8 != v2)
            {
              v32 = cbor::CBORValue::getMap((v2 + 64));
              cbor::CBORValue::CBORValue();
              v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v32, &v131);
              cbor::CBORValue::~CBORValue(&v131);
              v3 = v32 + 8;
              if (v32 + 8 == v2)
              {
                WebKit::VirtualHidConnection::recieveResponseCode(v6, 20);
                goto LABEL_187;
              }

              ByteString = cbor::CBORValue::getByteString((v2 + 64));
              std::optional<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::operator=[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&,void>(&v156, ByteString);
              v149 = cf;
              if (cf)
              {
                CFRetain(cf);
              }

              WebKit::credentialIdAndCosePubKeyForPrivateKey(&v149, &v150);
              v34 = v149;
              v149 = 0;
              if (v34)
              {
                CFRelease(v34);
              }

              WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(&v154, &v150);
              WebKit::VirtualAuthenticatorManager::addCredential(v1, (v6 + 200), &v154);
              v131 = 0;
              v132 = 0x1000000000;
              v35 = WTF::fastMalloc(0x10);
              LODWORD(v132) = 16;
              v131 = v35;
              bzero(v35, HIDWORD(v132));
              WebCore::buildAttestedCredentialData();
              v37 = v131;
              if (v131)
              {
                v131 = 0;
                LODWORD(v132) = 0;
                WTF::fastFree(v37, v36);
              }

              WebCore::buildAuthData();
              v144[0] = 0;
              v144[1] = 0;
              v143 = v144;
              cbor::CBORValue::CBORValue(&v131, "none");
              cbor::CBORValue::CBORValue(&__src);
              p_src = &__src;
              std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&v143, &__src);
              cbor::CBORValue::operator=();
              cbor::CBORValue::~CBORValue(&__src);
              cbor::CBORValue::~CBORValue(&v131);
              cbor::CBORValue::CBORValue();
              cbor::CBORValue::CBORValue(&__src);
              p_src = &__src;
              std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&v143, &__src);
              cbor::CBORValue::operator=();
              cbor::CBORValue::~CBORValue(&__src);
              cbor::CBORValue::~CBORValue(&v131);
              v38 = *MEMORY[0x1E696EBA8];
              if (*MEMORY[0x1E696EBA8])
              {
                atomic_fetch_add_explicit(v38, 2u, memory_order_relaxed);
              }

              __src = v38;
              v132 = 0;
              v133 = 0;
              v131 = &v132;
              LOBYTE(v136) = 0;
              WebCore::buildAttestationMap();
              std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::destroy(&v131, v132);
              v40 = __src;
              __src = 0;
              if (v40 && atomic_fetch_add_explicit(v40, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v40, v39);
              }

              MEMORY[0x19EB024C0](&v131, &p_src);
              cbor::CBORValue::CBORValue(&__src);
              v136 = &__src;
              std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&v143, &__src);
              cbor::CBORValue::operator=();
              cbor::CBORValue::~CBORValue(&__src);
              cbor::CBORValue::~CBORValue(&v131);
              MEMORY[0x19EB024C0](&v131, &v143);
              cbor::CBORWriter::write();
              cbor::CBORValue::~CBORValue(&v131);
              v136 = 0;
              v137 = 0;
              if (v142)
              {
                WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v136, (HIDWORD(__n) + 1));
                LOBYTE(v131) = 0;
                if (HIDWORD(v137) == v137)
                {
                  v41 = WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v136, HIDWORD(v137) + 1, &v131);
                  *(v136 + HIDWORD(v137)) = *v41;
                }

                else
                {
                  *(v136 + HIDWORD(v137)) = 0;
                }

                v89 = ++HIDWORD(v137);
                if (v142)
                {
                  v90 = HIDWORD(__n);
                  if (HIDWORD(__n))
                  {
                    v91 = __src;
                    v92 = HIDWORD(__n) + v89;
                    if (v92 > v137)
                    {
                      v93 = v137 + (v137 >> 1);
                      if (v93 <= v137 + 1)
                      {
                        v93 = v137 + 1;
                      }

                      if (v93 <= v92)
                      {
                        v93 = v92;
                      }

                      if (v93 <= 0x10)
                      {
                        v94 = 16;
                      }

                      else
                      {
                        v94 = v93;
                      }

                      WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v136, v94);
                      v89 = HIDWORD(v137);
                      if (v92 < HIDWORD(v137))
                      {
                        __break(0xC471u);
                        JUMPOUT(0x19E43463CLL);
                      }
                    }

                    memcpy(v136 + v89, v91, v90);
                    HIDWORD(v137) = v92;
                  }

                  if (*(v6 + 168))
                  {
                    fido::FidoHidMessage::create();
                    if (v135)
                    {
                      WebKit::VirtualHidConnection::receiveHidMessage(v6, &v131);
                      if (v135 == 1)
                      {
                        WTF::Deque<std::unique_ptr<fido::FidoHidPacket>,0ul>::~Deque(&v132);
                      }

                      v95 = v136;
                      if (v136)
                      {
                        v136 = 0;
                        LODWORD(v137) = 0;
                        WTF::fastFree(v95, v7);
                      }

                      if (v142 != 1)
                      {
                        goto LABEL_179;
                      }

                      goto LABEL_258;
                    }
                  }
                }
              }

LABEL_257:
              __break(1u);
LABEL_258:
              v124 = __src;
              if (__src)
              {
                __src = 0;
                LODWORD(__n) = 0;
                WTF::fastFree(v124, v7);
              }

LABEL_179:
              std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::destroy(&p_src, v139);
              std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::destroy(&v143, v144[0]);
              v96 = v145;
              if (v145)
              {
                v145 = 0;
                v146 = 0;
                WTF::fastFree(v96, v7);
              }

              v97 = *&v147[1];
              if (*&v147[1])
              {
                *&v147[1] = 0;
                LODWORD(v148) = 0;
                WTF::fastFree(v97, v7);
              }

              v98 = v152;
              if (v152)
              {
                v152 = 0;
                v153 = 0;
                WTF::fastFree(v98, v7);
              }

              v99 = v150;
              if (v150)
              {
                v150 = 0;
                LODWORD(v151) = 0;
                WTF::fastFree(v99, v7);
              }

LABEL_187:
              v100 = cf;
              cf = 0;
              if (v100)
              {
                CFRelease(v100);
              }

              if (v158 == 1)
              {
                v123 = v156;
                if (v156)
                {
                  v156 = 0;
                  v157 = 0;
                  WTF::fastFree(v123, v7);
                }
              }

              v101 = *(&v155 + 1);
              *(&v155 + 1) = 0;
              if (v101 && atomic_fetch_add_explicit(v101, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v101, v7);
              }

              v102 = v155;
              *&v155 = 0;
              if (v102 && atomic_fetch_add_explicit(v102, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v102, v7);
              }

              v103 = v154;
              if (v154)
              {
                *&v154 = 0;
                DWORD2(v154) = 0;
                WTF::fastFree(v103, v7);
              }

              if (v3 != v2)
              {
                goto LABEL_199;
              }

LABEL_239:
              v104 = 0;
LABEL_240:
              if (v163 == 1)
              {
                cbor::CBORValue::~CBORValue(&v161);
              }

              v119 = v164;
              if (v164)
              {
                v164 = 0;
                v165 = 0;
                WTF::fastFree(v119, v7);
              }

              if (!v104)
              {
                goto LABEL_247;
              }

              goto LABEL_245;
            }

            WebKit::VirtualHidConnection::recieveResponseCode(v6, 20);
            v88 = cf;
            cf = 0;
            if (v88)
            {
              CFRelease(v88);
            }

LABEL_139:
            if (v158 == 1)
            {
              v87 = v156;
              if (v156)
              {
                v156 = 0;
                v157 = 0;
                WTF::fastFree(v87, v7);
              }
            }

            v81 = *(&v155 + 1);
            *(&v155 + 1) = 0;
            if (v81 && atomic_fetch_add_explicit(v81, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v81, v7);
            }

            v82 = v155;
            *&v155 = 0;
            if (v82 && atomic_fetch_add_explicit(v82, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v82, v7);
            }

            v83 = v154;
            if (v154)
            {
              *&v154 = 0;
              DWORD2(v154) = 0;
              WTF::fastFree(v83, v7);
            }

            goto LABEL_239;
          }
        }

        v80 = 20;
LABEL_138:
        WebKit::VirtualHidConnection::recieveResponseCode(v6, v80);
        goto LABEL_139;
      }

      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      v42 = cbor::CBORValue::getMap(&v161);
      cbor::CBORValue::CBORValue(&v154);
      v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v42, &v154);
      cbor::CBORValue::~CBORValue(&v154);
      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      if (cbor::CBORValue::getMap(&v161) + 8 == v2)
      {
        WebKit::VirtualHidConnection::recieveResponseCode(v6, 20);
        goto LABEL_239;
      }

      v43 = *cbor::CBORValue::getString((v2 + 64));
      if (v43)
      {
        atomic_fetch_add_explicit(v43, 2u, memory_order_relaxed);
      }

      v149 = v43;
      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      v44 = cbor::CBORValue::getMap(&v161);
      cbor::CBORValue::CBORValue(&v154);
      v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v44, &v154);
      cbor::CBORValue::~CBORValue(&v154);
      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      if (cbor::CBORValue::getMap(&v161) + 8 == v2)
      {
        WebKit::VirtualHidConnection::recieveResponseCode(v6, 20);
        v65 = 0;
        goto LABEL_235;
      }

      v45 = cbor::CBORValue::getByteString((v2 + 64));
      v46 = *(v45 + 12);
      p_src = 0;
      LODWORD(v139) = 0;
      HIDWORD(v139) = v46;
      if (v46)
      {
        v2 = v45;
        LODWORD(v139) = v46;
        p_src = WTF::fastMalloc(v46);
        memcpy(p_src, *v2, *(v2 + 12));
      }

      *&v147[1] = 0;
      v148 = 0;
      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      v47 = cbor::CBORValue::getMap(&v161);
      cbor::CBORValue::CBORValue(&v154);
      v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v47, &v154);
      cbor::CBORValue::~CBORValue(&v154);
      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      if (cbor::CBORValue::getMap(&v161) + 8 != v2)
      {
        Array = cbor::CBORValue::getArray((v2 + 64));
        v49 = *(Array + 12);
        if (v49)
        {
          v2 = *Array;
          v50 = 32 * v49;
          while (1)
          {
            v51 = cbor::CBORValue::getMap(v2);
            cbor::CBORValue::CBORValue();
            v52 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v51, &v154);
            cbor::CBORValue::~CBORValue(&v154);
            if (v51 + 8 == v52)
            {
              goto LABEL_150;
            }

            v54 = *(v52 + 64);
            v53 = (v52 + 64);
            if (v54 != 2)
            {
              goto LABEL_150;
            }

            v55 = cbor::CBORValue::getByteString(v53);
            v56 = v55;
            if (HIDWORD(v148) == v148)
            {
              v57 = WTF::Vector<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v147[1], HIDWORD(v148) + 1, v55);
              v58 = *&v147[1] + 16 * HIDWORD(v148);
              v3 = *(v57 + 12);
              *v58 = 0;
              *(v58 + 8) = 0;
              *(v58 + 12) = v3;
              if (v3)
              {
                v56 = v57;
LABEL_97:
                v59 = WTF::fastMalloc(v3);
                *(v58 + 8) = v3;
                *v58 = v59;
                memcpy(v59, *v56, *(v56 + 12));
              }
            }

            else
            {
              v3 = *(v55 + 12);
              v58 = *&v147[1] + 16 * HIDWORD(v148);
              *v58 = 0;
              *(v58 + 8) = 0;
              *(v58 + 12) = v3;
              if (v3)
              {
                goto LABEL_97;
              }
            }

            ++HIDWORD(v148);
            v2 += 32;
            v50 -= 32;
            if (!v50)
            {
              goto LABEL_99;
            }
          }
        }

        goto LABEL_150;
      }

LABEL_99:
      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      v60 = cbor::CBORValue::getMap(&v161);
      cbor::CBORValue::CBORValue(&v154);
      v2 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v60, &v154);
      cbor::CBORValue::~CBORValue(&v154);
      if ((v163 & 1) == 0)
      {
        goto LABEL_257;
      }

      if (cbor::CBORValue::getMap(&v161) + 8 != v2)
      {
        v61 = cbor::CBORValue::getMap((v2 + 64));
        cbor::CBORValue::CBORValue();
        v62 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v61, &v154);
        cbor::CBORValue::~CBORValue(&v154);
        v63 = v61 + 8;
        if (v61 + 8 != v62)
        {
          if (cbor::CBORValue::getBool((v62 + 64)))
          {
            if ((*(v6 + 114) & 1) == 0)
            {
LABEL_150:
              v84 = v6;
              v85 = 44;
LABEL_151:
              WebKit::VirtualHidConnection::recieveResponseCode(v84, v85);
              v65 = 0;
              goto LABEL_233;
            }

            if ((*(v6 + 116) & 1) == 0)
            {
              goto LABEL_260;
            }
          }
        }

        cbor::CBORValue::CBORValue();
        v64 = std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::find<cbor::CBORValue>(v61, &v154);
        cbor::CBORValue::~CBORValue(&v154);
        if (v63 != v64 && cbor::CBORValue::getBool((v64 + 64)) && (*(v6 + 115) & 1) == 0)
        {
LABEL_260:
          v84 = v6;
          v85 = 39;
          goto LABEL_151;
        }
      }

      WebKit::VirtualAuthenticatorManager::credentialsMatchingList(v1, (v6 + 200), &v149, &v147[1], &v145);
      v65 = v147[0] != 0;
      if (!v147[0])
      {
        WebKit::VirtualHidConnection::recieveResponseCode(v6, 46);
LABEL_232:
        WTF::Vector<WebKit::VirtualCredential,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v145, v105);
LABEL_233:
        WTF::Vector<WebCore::PlatformTimeRanges,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v147[1], v86);
        v117 = p_src;
        if (p_src)
        {
          p_src = 0;
          LODWORD(v139) = 0;
          WTF::fastFree(v117, v7);
        }

LABEL_235:
        v118 = v149;
        v149 = 0;
        if (v118 && atomic_fetch_add_explicit(v118, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v118, v7);
        }

        if (v65)
        {
          goto LABEL_199;
        }

        goto LABEL_239;
      }

      v66 = v145;
      __n = 0;
      v142 = 0;
      __src = &__n;
      WebCore::buildCredentialDescriptor();
      cbor::CBORValue::CBORValue();
      cbor::CBORValue::CBORValue(&v131);
      v143 = &v131;
      std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&__src, &v131);
      cbor::CBORValue::operator=();
      cbor::CBORValue::~CBORValue(&v131);
      cbor::CBORValue::~CBORValue(&v154);
      std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::destroy(&v150, v151);
      WebKit::privateKeyFromBase64(v66 + 3, &v130);
      v129 = v130;
      if (v130)
      {
        CFRetain(v130);
      }

      WebKit::credentialIdAndCosePubKeyForPrivateKey(&v129, &v131);
      v67 = v129;
      v129 = 0;
      if (v67)
      {
        CFRelease(v67);
      }

      *&v154 = 0;
      *(&v154 + 1) = 0x1000000000;
      v3 = 16;
      v68 = WTF::fastMalloc(0x10);
      DWORD2(v154) = 16;
      *&v154 = v68;
      bzero(v68, HIDWORD(v154));
      WebCore::buildAttestedCredentialData();
      v70 = v154;
      if (v154)
      {
        *&v154 = 0;
        DWORD2(v154) = 0;
        WTF::fastFree(v70, v69);
      }

      WebCore::buildAuthData();
      cbor::CBORValue::CBORValue();
      cbor::CBORValue::CBORValue(&v150);
      v143 = &v150;
      std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&__src, &v150);
      cbor::CBORValue::operator=();
      cbor::CBORValue::~CBORValue(&v150);
      cbor::CBORValue::~CBORValue(&v154);
      v126 = v130;
      if (v130)
      {
        CFRetain(v130);
      }

      WebKit::signatureForPrivateKey(&v126, &cf, &p_src, &v143);
      cbor::CBORValue::CBORValue();
      cbor::CBORValue::CBORValue(&v150);
      v167 = &v150;
      std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&__src, &v150);
      cbor::CBORValue::operator=();
      cbor::CBORValue::~CBORValue(&v150);
      cbor::CBORValue::~CBORValue(&v154);
      v72 = v143;
      if (v143)
      {
        v143 = 0;
        LODWORD(v144[0]) = 0;
        WTF::fastFree(v72, v71);
      }

      v73 = v126;
      v126 = 0;
      if (v73)
      {
        CFRelease(v73);
      }

      if (*(v66 + 48) == 1)
      {
        WebCore::buildUserEntityMap();
        cbor::CBORValue::CBORValue();
        cbor::CBORValue::CBORValue(&v150);
        v167 = &v150;
        std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&__src, &v150);
        cbor::CBORValue::operator=();
        cbor::CBORValue::~CBORValue(&v150);
        cbor::CBORValue::~CBORValue(&v154);
        std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::destroy(&v143, v144[0]);
      }

      cbor::CBORValue::CBORValue(&v154);
      v2 = &v150;
      cbor::CBORValue::CBORValue(&v150);
      v143 = &v150;
      std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::__emplace_unique_key_args<cbor::CBORValue,std::piecewise_construct_t const&,std::tuple<cbor::CBORValue&&>,std::tuple<>>(&__src, &v150);
      cbor::CBORValue::operator=();
      cbor::CBORValue::~CBORValue(&v150);
      cbor::CBORValue::~CBORValue(&v154);
      MEMORY[0x19EB024C0]();
      cbor::CBORWriter::write();
      cbor::CBORValue::~CBORValue(&v154);
      v143 = 0;
      v144[0] = 0;
      if ((v152 & 1) == 0)
      {
        goto LABEL_257;
      }

      WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v143, (HIDWORD(v151) + 1));
      LOBYTE(v154) = 0;
      if (HIDWORD(v144[0]) == LODWORD(v144[0]))
      {
        v74 = WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v143, HIDWORD(v144[0]) + 1, &v154);
        *(v143 + HIDWORD(v144[0])) = *v74;
      }

      else
      {
        *(v143 + HIDWORD(v144[0])) = 0;
      }

      v106 = ++HIDWORD(v144[0]);
      if ((v152 & 1) == 0)
      {
        goto LABEL_257;
      }

      v2 = HIDWORD(v151);
      if (!HIDWORD(v151))
      {
LABEL_214:
        if ((*(v6 + 168) & 1) == 0)
        {
          goto LABEL_257;
        }

        fido::FidoHidMessage::create();
        if ((v158 & 1) == 0)
        {
          goto LABEL_257;
        }

        WebKit::VirtualHidConnection::receiveHidMessage(v6, &v154);
        if (v158 == 1)
        {
          WTF::Deque<std::unique_ptr<fido::FidoHidPacket>,0ul>::~Deque((&v154 + 8));
        }

        v111 = v143;
        if (v143)
        {
          v143 = 0;
          LODWORD(v144[0]) = 0;
          WTF::fastFree(v111, v110);
        }

        if (v152 == 1)
        {
          v125 = v150;
          if (v150)
          {
            v150 = 0;
            LODWORD(v151) = 0;
            WTF::fastFree(v125, v110);
          }
        }

        v112 = cf;
        if (cf)
        {
          cf = 0;
          v128 = 0;
          WTF::fastFree(v112, v110);
        }

        v113 = v136;
        if (v136)
        {
          v136 = 0;
          LODWORD(v137) = 0;
          WTF::fastFree(v113, v110);
        }

        v114 = v133;
        if (v133)
        {
          v133 = 0;
          v134 = 0;
          WTF::fastFree(v114, v110);
        }

        v115 = v131;
        if (v131)
        {
          v131 = 0;
          LODWORD(v132) = 0;
          WTF::fastFree(v115, v110);
        }

        v116 = v130;
        v130 = 0;
        if (v116)
        {
          CFRelease(v116);
        }

        std::__tree<std::__value_type<cbor::CBORValue,cbor::CBORValue>,std::__map_value_compare<cbor::CBORValue,std::__value_type<cbor::CBORValue,cbor::CBORValue>,cbor::CBORValue::CTAPLess,true>,WTF::FastAllocator<std::__value_type<cbor::CBORValue,cbor::CBORValue>>>::destroy(&__src, __n);
        goto LABEL_232;
      }

      v107 = v150;
      v3 = HIDWORD(v151) + v106;
      if (v3 <= LODWORD(v144[0]))
      {
        goto LABEL_213;
      }

      v108 = LODWORD(v144[0]) + (LODWORD(v144[0]) >> 1);
      if (v108 <= LODWORD(v144[0]) + 1)
      {
        v108 = LODWORD(v144[0]) + 1;
      }

      if (v108 <= v3)
      {
        v108 = v3;
      }

      v109 = (v108 <= 0x10 ? 16 : v108);
      WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v143, v109);
      v106 = HIDWORD(v144[0]);
      if (v3 >= HIDWORD(v144[0]))
      {
LABEL_213:
        memcpy(v143 + v106, v107, v2);
        HIDWORD(v144[0]) = v3;
        goto LABEL_214;
      }

      __break(0xC471u);
    }

    else
    {
      __break(0xC471u);
    }

    JUMPOUT(0x19E43462CLL);
  }

  if (v10 == 6)
  {
    fido::FidoHidMessage::getMessagePayload(&v154, (v6 + 120));
    v12 = *(v6 + 176);
    if (v12)
    {
      *(v6 + 176) = 0;
      *(v6 + 184) = 0;
      WTF::fastFree(v12, v11);
    }

    *(v6 + 176) = v154;
    v132 = 17;
    v13 = WTF::fastMalloc(0x11);
    v131 = v13;
    v2 = *(v6 + 188);
    if (v2)
    {
      v14 = *(v6 + 176);
      if (v2 < 0x12)
      {
        v16 = 0;
      }

      else
      {
        if (v2 <= 0x19)
        {
          v15 = 25;
        }

        else
        {
          v15 = *(v6 + 188);
        }

        WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(&v131, v15);
        v16 = HIDWORD(v132);
        if (v2 < HIDWORD(v132))
        {
          __break(0xC471u);
          JUMPOUT(0x19E434634);
        }

        v13 = v131;
      }

      memcpy(v13 + v16, v14, v2);
      HIDWORD(v132) = v2;
    }

    WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::growImpl<(WTF::FailureAction)0>(&v131, 0x11uLL);
    if (HIDWORD(v132) >= v2 && HIDWORD(v132) - v2 > 3)
    {
      WTF::cryptographicallyRandomValues();
      inited = fido::FidoHidInitPacket::FidoHidInitPacket();
      fido::FidoHidInitPacket::getSerializedData(&v161, inited);
      WebKit::HidConnection::receiveReport(v6, &v161);
      v77 = v161;
      if (v161)
      {
        v161 = 0;
        v162 = 0;
        WTF::fastFree(v77, v76);
      }

      *&v154 = &unk_1F1120F28;
      v78 = *(&v154 + 1);
      if (*(&v154 + 1))
      {
        *(&v154 + 1) = 0;
        LODWORD(v155) = 0;
        WTF::fastFree(v78, v76);
      }

      v79 = v131;
      if (v131)
      {
        v131 = 0;
        LODWORD(v132) = 0;
        WTF::fastFree(v79, v76);
      }

      goto LABEL_245;
    }

    goto LABEL_257;
  }

LABEL_245:
  if (*(v6 + 168) == 1)
  {
    WTF::Deque<std::unique_ptr<fido::FidoHidPacket>,0ul>::~Deque((v6 + 128));
    *(v6 + 168) = 0;
  }

LABEL_247:
  if (*(v1 + 4) == 1)
  {
    (*(*v1 + 24))(v1);
  }

  else
  {
    --*(v1 + 4);
  }

LABEL_249:
  v8 = 1;
LABEL_250:
  v120 = *(a1 + 32);
  *(a1 + 32) = 0;
  (*(*v120 + 16))(v120, v8);
  v121 = *(*v120 + 8);

  return v121(v120);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualHidConnection::receiveHidMessage(fido::FidoHidMessage &&)::$_0,void>::~CallableWrapper(uint64_t a1, void *a2)
{
  *a1 = &unk_1F11359A0;
  v3 = *(a1 + 24);
  *(a1 + 24) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = *(a1 + 8);
  if (v4)
  {
    *(a1 + 8) = 0;
    *(a1 + 16) = 0;
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualHidConnection::receiveHidMessage(fido::FidoHidMessage &&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F11359A0;
  v3 = *(this + 3);
  *(this + 3) = 0;
  if (v3 && atomic_fetch_add(v3, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v3);
    WTF::fastFree(v3, a2);
  }

  v4 = *(this + 1);
  if (v4)
  {
    *(this + 1) = 0;
    *(this + 4) = 0;
    WTF::fastFree(v4, a2);
  }

  return WTF::fastFree(this, a2);
}

BOOL WTF::Detail::CallableWrapper<WebKit::VirtualHidConnection::receiveHidMessage(fido::FidoHidMessage &&)::$_0,void>::call(_BOOL8 result)
{
  v1 = *(result + 24);
  if (v1)
  {
    v2 = *(v1 + 8);
    if (v2)
    {
      return WebKit::HidConnection::receiveReport(v2, (result + 8));
    }
  }

  return result;
}

uint64_t WebKit::VirtualLocalConnection::operator new(WebKit::VirtualLocalConnection *this, void *a2)
{
  if (this == 48 && WebKit::VirtualLocalConnection::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(WebKit::VirtualLocalConnection::s_heapRef, a2);
  }

  else
  {
    return WebKit::VirtualLocalConnection::operatorNewSlow(this);
  }
}

uint64_t WebKit::VirtualLocalConnection::verifyUser(unsigned int *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t *a6)
{
  WTF::RunLoop::mainSingleton(a1);
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a1 + 6, a1);
  v8 = *(a1 + 3);
  atomic_fetch_add(v8, 1u);
  v9 = *a6;
  *a6 = 0;
  v10 = WTF::fastMalloc(0x18);
  *v10 = &unk_1F1135A10;
  v10[1] = v8;
  v10[2] = v9;
  v12 = v10;
  WTF::RunLoop::dispatch();
  result = v12;
  if (v12)
  {
    return (*(*v12 + 8))(v12);
  }

  return result;
}

void sub_19E434928(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10)
{
  if (a10)
  {
    (*(*a10 + 8))(a10);
  }

  _Unwind_Resume(exception_object);
}

uint64_t WebKit::VirtualLocalConnection::verifyUser(unsigned int *a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  WTF::RunLoop::mainSingleton(a1);
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a1 + 6, a1);
  v6 = *(a1 + 3);
  atomic_fetch_add(v6, 1u);
  v7 = *a4;
  *a4 = 0;
  v8 = WTF::fastMalloc(0x18);
  *v8 = &unk_1F1135A38;
  v8[1] = v6;
  v8[2] = v7;
  v10 = v8;
  WTF::RunLoop::dispatch();
  result = v10;
  if (v10)
  {
    return (*(*v10 + 8))(v10);
  }

  return result;
}

void sub_19E434A84(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10)
{
  if (a10)
  {
    (*(*a10 + 8))(a10);
  }

  _Unwind_Resume(exception_object);
}

void WebKit::VirtualLocalConnection::~VirtualLocalConnection(WebKit::VirtualLocalConnection *this, WTF::StringImpl *a2)
{
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 3, a2);

  WebKit::LocalConnection::~LocalConnection(this);
}

{
  v3 = *(this + 4);
  *(this + 4) = 0;
  if (v3 && atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v3, a2);
  }

  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 3, a2);
  WebKit::LocalConnection::~LocalConnection(this);

  bmalloc::api::tzoneFree(v4, v5);
}

void *WTF::Detail::CallableWrapper<WebKit::VirtualLocalConnection::verifyUser(WTF::String const&,WebCore::ClientDataType,__SecAccessControl *,WebCore::UserVerificationRequirement,WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification,LAContext *)> &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1135A10;
  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualLocalConnection::verifyUser(WTF::String const&,WebCore::ClientDataType,__SecAccessControl *,WebCore::UserVerificationRequirement,WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification,LAContext *)> &&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135A10;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return WTF::fastFree(this, a2);
}

void WTF::Detail::CallableWrapper<WebKit::VirtualLocalConnection::verifyUser(WTF::String const&,WebCore::ClientDataType,__SecAccessControl *,WebCore::UserVerificationRequirement,WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification,LAContext *)> &&)::$_0,void>::call(uint64_t *a1)
{
  v2 = a1[1];
  if (v2 && (v3 = *(v2 + 8)) != 0)
  {
    ++v3[2];
    v4 = [objc_alloc(WebKit::getLAContextClass(a1)) init];
    WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification,LAContext *)>::operator()(a1 + 2);
    if (v4)
    {
    }

    if (v3[2] == 1)
    {
      v5 = *(*v3 + 8);

      v5(v3);
    }

    else
    {
      --v3[2];
    }
  }

  else
  {
    v6 = [objc_alloc(WebKit::getLAContextClass(a1)) init];
    WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification,LAContext *)>::operator()(a1 + 2);
    if (v6)
    {
    }
  }
}

void sub_19E434E50(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  if (a10)
  {
  }

  _Unwind_Resume(exception_object);
}

void *WTF::Detail::CallableWrapper<WebKit::VirtualLocalConnection::verifyUser(__SecAccessControl *,LAContext *,WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification)> &&)::$_0,void>::~CallableWrapper(void *a1, void *a2)
{
  *a1 = &unk_1F1135A38;
  v3 = a1[2];
  a1[2] = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = a1[1];
  a1[1] = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return a1;
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualLocalConnection::verifyUser(__SecAccessControl *,LAContext *,WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification)> &&)::$_0,void>::~CallableWrapper(WTF *this, void *a2)
{
  *this = &unk_1F1135A38;
  v3 = *(this + 2);
  *(this + 2) = 0;
  if (v3)
  {
    (*(*v3 + 8))(v3);
  }

  v4 = *(this + 1);
  *(this + 1) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  return WTF::fastFree(this, a2);
}

uint64_t WTF::Detail::CallableWrapper<WebKit::VirtualLocalConnection::verifyUser(__SecAccessControl *,LAContext *,WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification)> &&)::$_0,void>::call(uint64_t a1)
{
  v1 = *(a1 + 8);
  if (v1 && (v2 = *(v1 + 8)) != 0)
  {
    ++v2[2];
    result = WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification)>::operator()((a1 + 16));
    if (v2[2] == 1)
    {
      v5 = *(*v2 + 8);

      return v5(v2);
    }

    else
    {
      --v2[2];
    }
  }

  else
  {
    v4 = (a1 + 16);

    return WTF::CompletionHandler<void ()(WebKit::LocalConnection::UserVerification)>::operator()(v4);
  }

  return result;
}

void sub_19E4350C4(_Unwind_Exception *exception_object)
{
  if (v1[2] == 1)
  {
    (*(*v1 + 8))(v1);
  }

  else
  {
    --v1[2];
  }

  _Unwind_Resume(exception_object);
}

uint64_t WebKit::VirtualService::create@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t *a3@<X8>)
{
  v6 = WebKit::VirtualService::operator new(0x30, a2);
  result = WebKit::VirtualService::VirtualService(v6, a1, a2);
  *a3 = v6;
  return result;
}

uint64_t WebKit::VirtualService::operator new(WebKit::VirtualService *this, void *a2)
{
  if (this == 48 && WebKit::VirtualService::s_heapRef)
  {
    return bmalloc::api::tzoneAllocateNonCompact(WebKit::VirtualService::s_heapRef, a2);
  }

  else
  {
    return WebKit::VirtualService::operatorNewSlow(this);
  }
}

uint64_t WebKit::VirtualService::VirtualService(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  *a1 = &unk_1F10E8570;
  *(a1 + 8) = 0;
  WTF::WeakPtrFactory<WebKit::AuthenticatorObserver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded((a2 + 8), a2);
  v6 = *(a2 + 8);
  atomic_fetch_add(v6, 1u);
  *(a1 + 16) = v6;
  *(a1 + 24) = 1;
  *a1 = &unk_1F1135A60;
  WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a1 + 32, a3);
  return a1;
}

uint64_t WebKit::VirtualService::startDiscoveryInternal(uint64_t this)
{
  v1 = *(this + 44);
  if (v1)
  {
    v2 = this;
    v3 = 24 * v1;
    v4 = *(this + 32) + 16;
    do
    {
      v5 = *(v2 + 16);
      if (!v5)
      {
        return this;
      }

      v6 = *(v5 + 8);
      if (!v6)
      {
        return this;
      }

      (**v6)(v6);
      v8 = *(v4 - 8);
      if (v8)
      {
        atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
      }

      v35 = v8;
      v36 = *v4;
      v37 = *(v4 + 4);
      v9 = *(v4 - 16);
      if (v9)
      {
        atomic_fetch_add_explicit(v9, 2u, memory_order_relaxed);
      }

      v34 = v9;
      if (v36 >= 3u)
      {
        if (v36 != 3)
        {
          goto LABEL_43;
        }

        v21 = WebKit::VirtualLocalConnection::operator new(0x30, v7);
        *(v21 + 8) = 1;
        *(v21 + 16) = 0;
        *(v21 + 24) = 0;
        *v21 = &unk_1F11359C8;
        if (v8)
        {
          atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
        }

        *(v21 + 32) = v8;
        *(v21 + 40) = v36;
        *(v21 + 44) = v37;
        v38 = v21;
        v22 = WebKit::LocalAuthenticator::create(&v38, &v42);
        v23 = v42;
        v42 = 0;
        v28[0] = v23;
        (*(*v6 + 32))(v6, v28, v22);
        v24 = v28[0];
        v28[0] = 0;
        if (v24)
        {
          if (v24[4] == 1)
          {
            (*(*v24 + 8))(v24);
          }

          else
          {
            --v24[4];
          }
        }

        v25 = v42;
        v42 = 0;
        if (v25)
        {
          if (*(v25 + 4) == 1)
          {
            (*(*v25 + 8))(v25);
          }

          else
          {
            --*(v25 + 4);
          }
        }

        v26 = v38;
        v38 = 0;
        if (!v26)
        {
          goto LABEL_43;
        }

        if (v26[2] != 1)
        {
          --v26[2];
LABEL_43:
          if (v9)
          {
            goto LABEL_44;
          }

          goto LABEL_46;
        }

        (*(*v26 + 8))(v26);
        if (v9)
        {
          goto LABEL_44;
        }
      }

      else
      {
        if (!(*(*v6 + 48))(v6) || ((*(*v6 + 64))(v6) & 1) == 0)
        {
          this = 96;
          __break(0xC471u);
          return this;
        }

        WTF::WeakPtrFactory<WebKit::AuthenticatorObserver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v6 + 1, v6);
        v10 = v6[1];
        atomic_fetch_add(v10, 1u);
        v29 = v10;
        v11 = WTF::fastMalloc(0xD0);
        v30 = WebKit::VirtualHidConnection::VirtualHidConnection(v11, &v34, &v35, &v29);
        WebKit::CtapHidDriver::create(&v30, &v31);
        v12 = v31;
        v31 = 0;
        v32 = v12;
        v41 = 0;
        v43[0] = 0;
        v43[1] = 0;
        v42 = v43;
        std::__tree<fido::ProtocolVersion,std::less<fido::ProtocolVersion>,WTF::FastAllocator<fido::ProtocolVersion>>::__emplace_hint_unique_key_args<fido::ProtocolVersion,fido::ProtocolVersion const&>(&v42, v43, &v41, &v41);
        v40 = 16;
        v13 = WTF::fastMalloc(0x10);
        v39 = 16;
        v38 = v13;
        *v13 = 0;
        v13[1] = 0;
        fido::AuthenticatorGetInfoResponse::AuthenticatorGetInfoResponse();
        v15 = v38;
        if (v38)
        {
          v38 = 0;
          v39 = 0;
          WTF::fastFree(v15, v14);
        }

        std::__tree<fido::ProtocolVersion,std::less<fido::ProtocolVersion>,WTF::FastAllocator<fido::ProtocolVersion>>::destroy(&v42, v43[0]);
        LOWORD(v42) = 256;
        HIDWORD(v42) = 2;
        LOBYTE(v43[0]) = 1;
        HIDWORD(v43[0]) = 2;
        fido::AuthenticatorGetInfoResponse::setOptions();
        v16 = WTF::fastMalloc(0x450);
        WebKit::CtapAuthenticator::CtapAuthenticator(v16, &v32, v28);
        v33 = v16;
        (*(*v6 + 32))(v6, &v33);
        v17 = v33;
        v33 = 0;
        if (v17)
        {
          if (v17[4] == 1)
          {
            (*(*v17 + 8))(v17);
          }

          else
          {
            --v17[4];
          }
        }

        fido::AuthenticatorGetInfoResponse::~AuthenticatorGetInfoResponse(v28);
        v18 = v32;
        v32 = 0;
        if (v18)
        {
          if (v18[4] == 1)
          {
            (*(*v18 + 8))(v18);
          }

          else
          {
            --v18[4];
          }
        }

        v19 = v31;
        v31 = 0;
        if (v19)
        {
          if (v19[4] == 1)
          {
            (*(*v19 + 8))(v19);
          }

          else
          {
            --v19[4];
          }
        }

        v20 = v30;
        v30 = 0;
        if (v20)
        {
          if (*(v20 + 4) == 1)
          {
            (*(*v20 + 1))(v20);
          }

          else
          {
            --*(v20 + 4);
          }
        }

        v29 = 0;
        if (v10 && atomic_fetch_add(v10, 0xFFFFFFFF) == 1)
        {
          atomic_store(1u, v10);
          WTF::fastFree(v10, v7);
        }

        v9 = v34;
        if (v34)
        {
LABEL_44:
          if (atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v9, v7);
          }
        }
      }

LABEL_46:
      v27 = v35;
      if (v35)
      {
        if (atomic_fetch_add_explicit(v35, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v27, v7);
        }
      }

      this = (*(*v6 + 8))(v6);
      v4 += 24;
      v3 -= 24;
    }

    while (v3);
  }

  return this;
}

void sub_19E435808(_Unwind_Exception *a1, WTF::StringImpl *a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, _DWORD *a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34)
{
  if (a10)
  {
    if (a10[4] == 1)
    {
      (*(*a10 + 8))(a10);
    }

    else
    {
      --a10[4];
    }
  }

  v38 = *(v36 - 112);
  *(v36 - 112) = 0;
  if (v38)
  {
    if (v38[4] == 1)
    {
      (*(*v38 + 8))(v38);
    }

    else
    {
      --v38[4];
    }
  }

  v39 = *(v36 - 136);
  *(v36 - 136) = 0;
  if (v39)
  {
    if (v39[2] == 1)
    {
      (*(*v39 + 8))(v39);
    }

    else
    {
      --v39[2];
    }
  }

  if (v35 && atomic_fetch_add_explicit(v35, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v35, a2);
  }

  v40 = *(v36 - 152);
  if (v40)
  {
    if (atomic_fetch_add_explicit(v40, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v40, a2);
    }
  }

  (*(*v34 + 8))(v34);
  _Unwind_Resume(a1);
}

uint64_t WebKit::VirtualService::deref(uint64_t this, WTF::StringImpl *a2)
{
  v2 = this;
  if (*(this + 24) == 1)
  {
    WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector((this + 32), a2);
    if (*(v2 + 6) == 1)
    {
      WebKit::AuthenticatorTransportService::~AuthenticatorTransportService(v2);

      return bmalloc::api::tzoneFree(v3, v4);
    }

    else
    {
      this = 191;
      __break(0xC471u);
    }
  }

  else
  {
    --*(this + 24);
  }

  return this;
}

void WebKit::VirtualService::~VirtualService(WebKit::VirtualService *this, WTF::StringImpl *a2)
{
  WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 8, a2);
  if (*(this + 6) == 1)
  {

    WebKit::AuthenticatorTransportService::~AuthenticatorTransportService(this);
  }

  else
  {
    __break(0xC471u);
  }
}

{
  WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 8, a2);
  if (*(this + 6) == 1)
  {
    WebKit::AuthenticatorTransportService::~AuthenticatorTransportService(this);

    bmalloc::api::tzoneFree(v3, v4);
  }

  else
  {
    __break(0xC471u);
  }
}

uint64_t WTF::Vector<std::pair<WTF::String,WebKit::VirtualAuthenticatorConfiguration>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(uint64_t result, uint64_t *a2)
{
  v2 = result;
  v3 = *(a2 + 3);
  *result = 0;
  *(result + 8) = 0;
  *(result + 12) = v3;
  if (!v3)
  {
    return v2;
  }

  if (v3 < 0xAAAAAAB)
  {
    v5 = 24 * v3;
    v6 = WTF::fastMalloc((24 * v3));
    *(v2 + 8) = v5 / 0x18;
    *v2 = v6;
    v7 = *(a2 + 3);
    if (v7)
    {
      v8 = *a2;
      v9 = *a2 + 24 * v7;
      do
      {
        v10 = *v8;
        if (*v8)
        {
          atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
        }

        *v6 = v10;
        v11 = *(v8 + 8);
        if (v11)
        {
          atomic_fetch_add_explicit(v11, 2u, memory_order_relaxed);
        }

        *(v6 + 8) = v11;
        v12 = *(v8 + 16);
        *(v6 + 20) = *(v8 + 20);
        *(v6 + 16) = v12;
        v6 += 24;
        v8 += 24;
      }

      while (v8 != v9);
    }

    return v2;
  }

  __break(0xC471u);
  return result;
}

uint64_t WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(uint64_t *a1)
{
  result = WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::get(a1);
  if (!result)
  {
    isIntegralOrPointerType = WTF::isIntegralOrPointerType(0);
    WTF::isIntegralOrPointerType(isIntegralOrPointerType);
    __break(0xC471u);
    JUMPOUT(0x19E435EE0);
  }

  return result;
}

uint64_t *WTF::RetainPtr<WKWebView>::operator=(uint64_t *a1, uint64_t *a2)
{
  v4[2] = a1;
  v4[1] = a2;
  WTF::RetainPtr<NSURLRequest>::RetainPtr(v4, a2);
  WTF::RetainPtr<NSURLRequest>::swap(a1, v4);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(v4);
}

uint64_t WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::operator=(const void **a1, uint64_t *a2)
{
  _Block_release(*a1);
  result = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(a2);
  *a1 = result;
  return result;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::constructASController(void **this, const WebKit::WebAuthenticationRequestData *a2, uint64_t a3)
{
  v20 = this;
  v19 = a2;
  v18 = a3;
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v17);
  *&v15 = &v17;
  *(&v15 + 1) = a2;
  v16 = v18;
  *&v13 = &v17;
  *(&v13 + 1) = a2;
  v14 = v18;
  v26 = v18 + 16;
  v25[7] = &v15;
  v25[6] = &v13;
  v24 = v18;
  v23 = v15;
  v22 = v18;
  v21 = v13;
  v36 = &v23;
  v35 = &v21;
  v34 = v18;
  v33 = v15;
  v32 = v18;
  v31 = v13;
  WTF::Visitor<WebKit::CtapAuthenticator::continueSilentlyCheckCredentials(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,WebKit::CtapAuthenticator::continueSilentlyCheckCredentials(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &,WTF::CompletionHandler<void ()(BOOL)>)::$_1>::Visitor(v25, &v33, &v31);
  v37 = v26;
  v30 = v25;
  v29 = v26;
  v28 = 2;
  switch(mpark::variant<WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialRequestOptions>::index(v26))
  {
    case 0:
      v5 = v30;
      mpark::get<WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialRequestOptions>(v29);
      WebKit::WebAuthenticatorCoordinatorProxy::constructASController(WebKit::WebAuthenticationRequestData const&)::$_0::operator()(v5, v6);
      goto LABEL_35;
    case 1:
      v7 = (v30 + 3);
      mpark::get<WebCore::PublicKeyCredentialRequestOptions,WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialRequestOptions>(v29);
      WebKit::WebAuthenticatorCoordinatorProxy::constructASController(WebKit::WebAuthenticationRequestData const&)::$_1::operator()(v7, v8);
      goto LABEL_35;
    case 2:
      __break(1u);
      goto LABEL_5;
    case 3:
LABEL_5:
      __break(1u);
      goto LABEL_6;
    case 4:
LABEL_6:
      __break(1u);
      goto LABEL_7;
    case 5:
LABEL_7:
      __break(1u);
      goto LABEL_8;
    case 6:
LABEL_8:
      __break(1u);
      goto LABEL_9;
    case 7:
LABEL_9:
      __break(1u);
      goto LABEL_10;
    case 8:
LABEL_10:
      __break(1u);
      goto LABEL_11;
    case 9:
LABEL_11:
      __break(1u);
      goto LABEL_12;
    case 10:
LABEL_12:
      __break(1u);
      goto LABEL_13;
    case 11:
LABEL_13:
      __break(1u);
      goto LABEL_14;
    case 12:
LABEL_14:
      __break(1u);
      goto LABEL_15;
    case 13:
LABEL_15:
      __break(1u);
      goto LABEL_16;
    case 14:
LABEL_16:
      __break(1u);
      goto LABEL_17;
    case 15:
LABEL_17:
      __break(1u);
      goto LABEL_18;
    case 16:
LABEL_18:
      __break(1u);
      goto LABEL_19;
    case 17:
LABEL_19:
      __break(1u);
      goto LABEL_20;
    case 18:
LABEL_20:
      __break(1u);
      goto LABEL_21;
    case 19:
LABEL_21:
      __break(1u);
      goto LABEL_22;
    case 20:
LABEL_22:
      __break(1u);
      goto LABEL_23;
    case 21:
LABEL_23:
      __break(1u);
      goto LABEL_24;
    case 22:
LABEL_24:
      __break(1u);
      goto LABEL_25;
    case 23:
LABEL_25:
      __break(1u);
      goto LABEL_26;
    case 24:
LABEL_26:
      __break(1u);
      goto LABEL_27;
    case 25:
LABEL_27:
      __break(1u);
      goto LABEL_28;
    case 26:
LABEL_28:
      __break(1u);
      goto LABEL_29;
    case 27:
LABEL_29:
      __break(1u);
      goto LABEL_30;
    case 28:
LABEL_30:
      __break(1u);
      goto LABEL_31;
    case 29:
LABEL_31:
      __break(1u);
      goto LABEL_32;
    case 30:
LABEL_32:
      __break(1u);
      goto LABEL_33;
    case 31:
LABEL_33:
      __break(1u);
      break;
    default:
      break;
  }

  v27 = 2;
  __break(1u);
LABEL_35:
  if (!WTF::RefPtr<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>::operator!(&v17) && (v9 = [std::span<char const 18446744073709551615ul>:"count" :? data[abi:?sn200100](&v17)]) != 0)
  {
    v10 = WebKit::allocASAuthorizationControllerInstance(v9);
    v11 = [v10 initWithAuthorizationRequests:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v17)}];
    WTF::adoptCF<__IOHIDManager *>(this, v11);
  }

  else
  {
    WTF::RetainPtr<ASAuthorizationController>::RetainPtr(this);
  }

  return WTF::RetainPtr<WKWebView>::~RetainPtr(&v17);
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::requestsForRegistration(WebKit::WebAuthenticatorCoordinatorProxy *this, const WebCore::PublicKeyCredentialCreationOptions *a2, const WebCore::SecurityOriginData *a3, WebCore::SecurityOriginData *a4)
{
  v148 = this;
  v147 = a2;
  v146 = a3;
  v145 = a4;
  WTF::adoptCF<__IOHIDManager *>(&v143, objc_alloc_init(MEMORY[0x1E695DF70]));
  WTF::RetainPtr<NSURLRequest>::RetainPtr(&v144, &v143);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v143);
  v142 = 1;
  v141 = 1;
  if (std::optional<WebCore::AuthenticatorSelectionCriteria>::operator BOOL[abi:sn200100](v146 + 120))
  {
    std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](v146 + 120);
    v140[0] = *v6;
    v140[1] = v6[1];
    if (std::optional<WebCore::MediationRequirement>::operator BOOL[abi:sn200100](v140))
    {
      std::optional<WebCore::MediationRequirement>::operator*[abi:sn200100](v140);
      if (*v7)
      {
        if (*v7 == 1)
        {
          v142 = 0;
        }
      }

      else
      {
        v141 = 0;
      }
    }
  }

  WTF::adoptCF<__IOHIDManager *>(&v138, objc_alloc_init(MEMORY[0x1E695DF70]));
  WTF::RetainPtr<NSURLRequest>::RetainPtr(&v139, &v138);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v138);
  WTF::adoptCF<__IOHIDManager *>(&v136, objc_alloc_init(MEMORY[0x1E695DF70]));
  WTF::RetainPtr<NSURLRequest>::RetainPtr(&v137, &v136);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v136);
  v135 = v146 + 104;
  v134 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v146 + 104);
  v8 = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v135);
  v133 = v8;
  while (v134 != v133)
  {
    WebCore::PublicKeyCredentialDescriptor::PublicKeyCredentialDescriptor(v130, v134);
    v129 = 3;
    v9 = WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::contains<WebCore::AuthenticatorTransport>(v132, &v129);
    isEmpty = 1;
    if (!v9)
    {
      isEmpty = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::isEmpty(v132);
    }

    if (isEmpty)
    {
      v11 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v139);
      v12 = WebKit::allocASAuthorizationPlatformPublicKeyCredentialDescriptorInstance(v11);
      WebCore::toNSData(&v127, v131);
      v13 = [v12 initWithCredentialID:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v127)}];
      WTF::adoptCF<__IOHIDManager *>(&v128, v13);
      -[WebKit addObject:](v11, "addObject:", std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v128));
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v128);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v127);
    }

    v14 = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::isEmpty(v132);
    v15 = 1;
    if (!v14)
    {
      v126 = 3;
      v15 = !WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::contains<WebCore::AuthenticatorTransport>(v132, &v126);
    }

    if (v15)
    {
      WTF::adoptCF<__IOHIDManager *>(&v124, objc_alloc_init(MEMORY[0x1E695DF70]));
      WTF::RetainPtr<NSURLRequest>::RetainPtr(&v125, &v124);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v124);
      v123 = v132;
      v122 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v132);
      v121 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v123);
      while (v122 != v121)
      {
        v120 = *v122;
        WebKit::toASAuthorizationSecurityKeyPublicKeyCredentialDescriptorTransport(&v119, v120);
        if (std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100](&v119))
        {
          v16 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v125);
          [v16 addObject:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v119)}];
        }

        WTF::RetainPtr<WKWebView>::~RetainPtr(&v119);
        ++v122;
      }

      v17 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v137);
      v18 = WebKit::allocASAuthorizationSecurityKeyPublicKeyCredentialDescriptorInstance(v17);
      WebCore::toNSData(&v117, v131);
      v19 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v117);
      v20 = [v18 initWithCredentialID:v19 transports:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v125)}];
      WTF::adoptCF<__IOHIDManager *>(&v118, v20);
      -[WebKit addObject:](v17, "addObject:", std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v118));
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v118);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v117);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v125);
    }

    WebCore::PublicKeyCredentialDescriptor::~PublicKeyCredentialDescriptor(v130);
    v134 = (v134 + 40);
  }

  v21 = WebKit::allocASPublicKeyCredentialClientDataInstance(v8);
  WebCore::toNSData(&v115, (v146 + 64));
  v22 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v115);
  WebCore::SecurityOriginData::toString(&v113, v145);
  WTF::String::createNSString(&v113, &v114);
  v23 = [v21 initWithChallenge:v22 origin:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v114)}];
  WTF::adoptCF<__IOHIDManager *>(&v116, v23);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v114);
  v149 = &v113;
  v150 = &v113;
  v151 = &v113;
  v152[1] = &v113;
  v152[0] = 0;
  v155 = &v113;
  v154 = v152;
  v153 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v113);
  if (v153)
  {
    WTF::StringImpl::deref(v153);
  }

  v24 = WTF::RetainPtr<WKWebView>::~RetainPtr(&v115);
  if (v142)
  {
    v25 = WebKit::allocASAuthorizationPlatformPublicKeyCredentialProviderInstance(v24);
    WTF::String::createNSString(v146 + 2, &v111);
    v26 = [v25 initWithRelyingPartyIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v111)}];
    WTF::adoptCF<__IOHIDManager *>(&v112, v26);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v111);
    v27 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v112);
    v28 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v116);
    WTF::String::createNSString(v146 + 3, &v109);
    v29 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v109);
    WebCore::toNSData(&v108, (v146 + 40));
    v30 = [v27 createCredentialRegistrationRequestWithClientData:v28 name:v29 userID:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v108)}];
    WTF::adoptCF<__IOHIDManager *>(&v110, v30);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v108);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v109);
    if (*(a2 + 57))
    {
      std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v110);
      if (objc_opt_respondsToSelector())
      {
        [std::span<char const 18446744073709551615ul>:"setRequestStyle:" :1 data[abi:?sn200100](&v110)];
      }
    }

    if (std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator BOOL[abi:sn200100](v146 + 136))
    {
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v146 + 136);
      if (std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator BOOL[abi:sn200100](v31 + 64))
      {
        std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v146 + 136);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::optional[abi:sn200100](v107, v32 + 64);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator->[abi:sn200100](v107);
        v34 = std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::operator BOOL[abi:sn200100](v33);
        if (v34)
        {
          v35 = WebKit::allocASAuthorizationPublicKeyCredentialPRFRegistrationInputInstance(v34);
          std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator->[abi:sn200100](v107);
          std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::optional[abi:sn200100](v104, v36);
          WebKit::toASAssertionPRFInputValue(&v105, v104);
          v37 = [v35 initWithInputValues:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v105)}];
          WTF::adoptCF<__IOHIDManager *>(&v106, v37);
          v38 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v106);
          [std::span<char const 18446744073709551615ul>:"setPrf:" :v38 data[abi:?sn200100](&v110)];
          WTF::RetainPtr<WKWebView>::~RetainPtr(&v106);
          WTF::RetainPtr<WKWebView>::~RetainPtr(&v105);
          std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::~optional(v104);
        }

        else
        {
          v39 = [WebKit::getASAuthorizationPublicKeyCredentialPRFRegistrationInputClass[0](v34) checkForSupport];
          [std::span<char const 18446744073709551615ul>:"setPrf:" :v39 data[abi:?sn200100](&v110)];
        }

        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::~optional(v107);
      }
    }

    if (*(v146 + 128) == 3)
    {
      WebKit::toAttestationConveyancePreference(&v103, *(v146 + 128));
      v40 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v103);
      [std::span<char const 18446744073709551615ul>:"setAttestationPreference:" :v40 data[abi:?sn200100](&v110)];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v103);
    }

    if (std::optional<WebCore::AuthenticatorSelectionCriteria>::operator BOOL[abi:sn200100](v146 + 120))
    {
      std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](v146 + 120);
      WebKit::toASUserVerificationPreference(&v102, *(v41 + 5));
      v42 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v102);
      [std::span<char const 18446744073709551615ul>:"setUserVerificationPreference:" :v42 data[abi:?sn200100](&v110)];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v102);
    }

    if (std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator BOOL[abi:sn200100](v146 + 136))
    {
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v146 + 136);
      v44 = std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::operator BOOL[abi:sn200100](v43 + 16);
      if (v44)
      {
        v45 = WebKit::allocASAuthorizationPublicKeyCredentialLargeBlobRegistrationInputInstance(v44);
        std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v146 + 136);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](v46 + 16);
        v49 = [v45 initWithSupportRequirement:{WebKit::toASAuthorizationPublicKeyCredentialLargeBlobSupportRequirement(v47, v48)}];
        WTF::adoptCF<__IOHIDManager *>(&v101, v49);
        v50 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v101);
        [std::span<char const 18446744073709551615ul>:"setLargeBlob:" :v50 data[abi:?sn200100](&v110)];
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v101);
      }
    }

    v51 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v139);
    [std::span<char const 18446744073709551615ul>:"setExcludedCredentials:" :v51 data[abi:?sn200100](&v110)];
    v52 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v144);
    [v52 addObject:WTF::RetainPtr<NSURLRequest>::leakRef<NSURLRequest*>(&v110)];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v110);
    v24 = WTF::RetainPtr<WKWebView>::~RetainPtr(&v112);
  }

  if (v141)
  {
    v53 = WebKit::allocASAuthorizationSecurityKeyPublicKeyCredentialProviderInstance(v24);
    WTF::String::createNSString(v146 + 2, &v99);
    v54 = [v53 initWithRelyingPartyIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v99)}];
    WTF::adoptCF<__IOHIDManager *>(&v100, v54);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v99);
    std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v98);
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v100);
    if (objc_opt_respondsToSelector())
    {
      v55 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v100);
      v56 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v116);
      WTF::String::createNSString(v146 + 7, &v96);
      v57 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v96);
      WTF::String::createNSString(v146 + 3, &v95);
      v58 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v95);
      WebCore::toNSData(&v94, (v146 + 40));
      v59 = [v55 createCredentialRegistrationRequestWithClientData:v56 displayName:v57 name:v58 userID:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v94)}];
      WTF::adoptCF<__IOHIDManager *>(&v97, v59);
      WTF::RetainPtr<WKWebView>::operator=(&v98, &v97);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v97);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v94);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v95);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v96);
    }

    else
    {
      v60 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v100);
      WebCore::toNSData(&v92, (v146 + 64));
      v61 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v92);
      WTF::String::createNSString(v146 + 7, &v91);
      v62 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v91);
      WTF::String::createNSString(v146 + 3, &v90);
      v63 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v90);
      WebCore::toNSData(&v89, (v146 + 40));
      v64 = [v60 createCredentialRegistrationRequestWithChallenge:v61 displayName:v62 name:v63 userID:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v89)}];
      WTF::adoptCF<__IOHIDManager *>(&v93, v64);
      WTF::RetainPtr<WKWebView>::operator=(&v98, &v93);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v93);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v89);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v90);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v91);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v92);
    }

    WebKit::toAttestationConveyancePreference(&v88, *(v146 + 128));
    v65 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v88);
    [std::span<char const 18446744073709551615ul>:"setAttestationPreference:" :v65 data[abi:?sn200100](&v98)];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v88);
    WTF::adoptCF<__IOHIDManager *>(&v86, objc_alloc_init(MEMORY[0x1E695DF70]));
    WTF::RetainPtr<NSURLRequest>::RetainPtr(&v87, &v86);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v86);
    v85 = v146 + 80;
    v84 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v146 + 80);
    v83 = WTF::Vector<WebCore::PublicKeyCredentialParameters,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v85);
    while (v84 != v83)
    {
      v81[1] = *v84;
      v82 = v84[1];
      v66 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v87);
      v67 = WebKit::allocASAuthorizationPublicKeyCredentialParametersInstance(v66);
      WTF::adoptCF<__IOHIDManager *>(v81, [v67 initWithAlgorithm:v82]);
      -[WebKit addObject:](v66, "addObject:", std::span<char const,18446744073709551615ul>::data[abi:sn200100](v81));
      WTF::RetainPtr<WKWebView>::~RetainPtr(v81);
      v84 += 2;
    }

    v68 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v87);
    [std::span<char const 18446744073709551615ul>:"setCredentialParameters:" :v68 data[abi:?sn200100](&v98)];
    if (std::optional<WebCore::AuthenticatorSelectionCriteria>::operator BOOL[abi:sn200100](v146 + 120))
    {
      std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](v146 + 120);
      WebKit::toASUserVerificationPreference(&v80, *(v69 + 5));
      v70 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v80);
      [std::span<char const 18446744073709551615ul>:"setUserVerificationPreference:" :v70 data[abi:?sn200100](&v98)];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v80);
      std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](v146 + 120);
      v78 = *(v71 + 2);
      std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](v146 + 120);
      LOWORD(v77) = v78;
      WebKit::toASResidentKeyPreference(&v79, v78, *(v72 + 4) & 1);
      v73 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v79);
      [std::span<char const 18446744073709551615ul>:"setResidentKeyPreference:" :v73 data[abi:v77sn200100](&v98)];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v79);
    }

    v74 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v137);
    [std::span<char const 18446744073709551615ul>:"setExcludedCredentials:" :v74 data[abi:?sn200100](&v98)];
    v75 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v144);
    [v75 addObject:WTF::RetainPtr<NSURLRequest>::leakRef<NSURLRequest*>(&v98)];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v87);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v98);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v100);
  }

  WTF::RetainPtr<NSURLRequest>::RetainPtr(this, &v144);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v116);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v137);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v139);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(&v144);
}

void **WebKit::toASAuthorizationSecurityKeyPublicKeyCredentialDescriptorTransport(void **a1, char a2)
{
  switch(a2)
  {
    case 0:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"usb");
    case 1:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"nfc");
    case 2:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"ble");
  }

  return WTF::RetainPtr<NSString>::RetainPtr(a1, 0);
}

void std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator->[abi:sn200100](uint64_t a1)
{
  if ((std::__optional_storage_base<WebCore::AuthenticationExtensionsClientInputs::PRFInputs,false>::has_value[abi:sn200100](a1) & 1) == 0)
  {
    __break(1u);
  }

  std::__to_address[abi:sn200100]<char const>();
}

uint64_t *WebKit::toASAssertionPRFInputValue(void **a1, uint64_t a2)
{
  v21[2] = a1;
  v21[1] = a2;
  if ((std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::operator BOOL[abi:sn200100](a2) & 1) == 0)
  {
    return WTF::RetainPtr<ASAuthorizationController>::RetainPtr(a1);
  }

  std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](a2);
  WebCore::toNSData(v21, v5);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v20);
  std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](a2);
  if (std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v6 + 16))
  {
    std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](a2);
    std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v7 + 16);
    WebCore::toNSData(&v19, v8);
    WTF::RetainPtr<WKWebView>::operator=(&v20, &v19);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v19);
  }

  std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](a2);
  v10 = std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v9 + 16);
  if (v10)
  {
    v11 = WebKit::allocASAuthorizationPublicKeyCredentialPRFAssertionInputValuesInstance(v10);
    v12 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](v21);
    std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](a2);
    std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v13 + 16);
    WebCore::toNSData(&v18, v14);
    v15 = [v11 initWithSaltInput1:v12 saltInput2:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v18)}];
    WTF::adoptCF<__IOHIDManager *>(a1, v15);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v18);
  }

  else
  {
    v16 = WebKit::allocASAuthorizationPublicKeyCredentialPRFAssertionInputValuesInstance(v10);
    v17 = [v16 initWithSaltInput1:std::span<char const saltInput2:{18446744073709551615ul>::data[abi:sn200100](v21), 0}];
    WTF::adoptCF<__IOHIDManager *>(a1, v17);
  }

  WTF::RetainPtr<WKWebView>::~RetainPtr(&v20);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(v21);
}

void **WebKit::toAttestationConveyancePreference(void **a1, char a2)
{
  switch(a2)
  {
    case 0:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"none");
    case 1:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"indirect");
    case 2:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"direct");
  }

  if (a2 != 3)
  {
    return WTF::RetainPtr<NSString>::RetainPtr(a1, @"none");
  }

  return WTF::RetainPtr<NSString>::RetainPtr(a1, @"enterprise");
}

void **WebKit::toASUserVerificationPreference(void **a1, char a2)
{
  switch(a2)
  {
    case 0:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"required");
    case 1:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"preferred");
    case 2:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"discouraged");
    default:
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"required");
  }
}

void std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](uint64_t a1)
{
  if ((std::__optional_storage_base<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs,false>::has_value[abi:sn200100](a1) & 1) == 0)
  {
    __break(1u);
  }

  std::__to_address[abi:sn200100]<char const>();
}

void **WebKit::toASResidentKeyPreference(void **a1, __int16 a2, char a3)
{
  v9 = a1;
  v8 = a2;
  if (std::optional<WebCore::MediationRequirement>::operator BOOL[abi:sn200100](&v8))
  {
    std::optional<WebCore::MediationRequirement>::operator*[abi:sn200100](&v8);
    if (*v6)
    {
      if (*v6 == 2)
      {
        return WTF::RetainPtr<NSString>::RetainPtr(a1, @"discouraged");
      }

      else
      {
        return WTF::RetainPtr<NSString>::RetainPtr(a1, @"preferred");
      }
    }

    else
    {
      return WTF::RetainPtr<NSString>::RetainPtr(a1, @"required");
    }
  }

  else
  {
    if (a3)
    {
      v4 = @"required";
    }

    else
    {
      v4 = @"discouraged";
    }

    return WTF::RetainPtr<NSString>::RetainPtr(a1, v4);
  }
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::requestsForAssertion(uint64_t *a1, uint64_t a2, WebCore::BufferSource *a3, WebCore::SecurityOriginData *a4, uint64_t a5)
{
  v139 = a1;
  v138 = a2;
  v137 = a3;
  v136 = a4;
  v135 = a5;
  WTF::adoptCF<__IOHIDManager *>(&v133, objc_alloc_init(MEMORY[0x1E695DF70]));
  WTF::RetainPtr<NSURLRequest>::RetainPtr(&v134, &v133);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v133);
  WTF::adoptCF<__IOHIDManager *>(&v131, objc_alloc_init(MEMORY[0x1E695DF70]));
  WTF::RetainPtr<NSURLRequest>::RetainPtr(&v132, &v131);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v131);
  WTF::adoptCF<__IOHIDManager *>(&v129, objc_alloc_init(MEMORY[0x1E695DF70]));
  WTF::RetainPtr<NSURLRequest>::RetainPtr(&v130, &v129);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v129);
  isEmpty = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::isEmpty(v137 + 32);
  v127 = v137 + 32;
  v126 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v137 + 32);
  v7 = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v127);
  v125 = v7;
  while (v126 != v125)
  {
    WebCore::PublicKeyCredentialDescriptor::PublicKeyCredentialDescriptor(v122, v126);
    if (WebKit::isPlatformRequest(v124))
    {
      v8 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v132);
      v9 = WebKit::allocASAuthorizationPlatformPublicKeyCredentialDescriptorInstance(v8);
      WebCore::toNSData(&v120, v123);
      v10 = [v9 initWithCredentialID:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v120)}];
      WTF::adoptCF<__IOHIDManager *>(&v121, v10);
      -[WebKit addObject:](v8, "addObject:", std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v121));
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v121);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v120);
    }

    if (WebKit::isCrossPlatformRequest(v124))
    {
      WTF::adoptCF<__IOHIDManager *>(&v118, objc_alloc_init(MEMORY[0x1E695DF70]));
      WTF::RetainPtr<NSURLRequest>::RetainPtr(&v119, &v118);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v118);
      v117 = v124;
      v116 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v124);
      v115 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v117);
      while (v116 != v115)
      {
        v114 = *v116;
        WebKit::toASAuthorizationSecurityKeyPublicKeyCredentialDescriptorTransport(&v113, v114);
        if (std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100](&v113))
        {
          v11 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v119);
          [v11 addObject:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v113)}];
        }

        WTF::RetainPtr<WKWebView>::~RetainPtr(&v113);
        ++v116;
      }

      v12 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v130);
      v13 = WebKit::allocASAuthorizationSecurityKeyPublicKeyCredentialDescriptorInstance(v12);
      WebCore::toNSData(&v111, v123);
      v14 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v111);
      v15 = [v13 initWithCredentialID:v14 transports:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v119)}];
      WTF::adoptCF<__IOHIDManager *>(&v112, v15);
      -[WebKit addObject:](v12, "addObject:", std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v112));
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v112);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v111);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v119);
    }

    if (!isEmpty && WebKit::allowsHybrid(v124))
    {
      isEmpty = 1;
    }

    WebCore::PublicKeyCredentialDescriptor::~PublicKeyCredentialDescriptor(v122);
    v126 = (v126 + 40);
  }

  v16 = WebKit::allocASPublicKeyCredentialClientDataInstance(v7);
  WebCore::toNSData(&v109, v137);
  v17 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v109);
  WebCore::SecurityOriginData::toString(&v107, v136);
  WTF::String::createNSString(&v107, &v108);
  v18 = [v16 initWithChallenge:v17 origin:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v108)}];
  WTF::adoptCF<__IOHIDManager *>(&v110, v18);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v108);
  v141 = &v107;
  v142 = &v107;
  v143 = &v107;
  v144[1] = &v107;
  v144[0] = 0;
  v147 = &v107;
  v146 = v144;
  v145 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v107);
  if (v145)
  {
    WTF::StringImpl::deref(v145);
  }

  WTF::RetainPtr<WKWebView>::~RetainPtr(&v109);
  if (std::optional<WebCore::SecurityOriginData>::operator BOOL[abi:sn200100](v135))
  {
    [std::span<char const 18446744073709551615ul>:"setCrossOrigin:" :1 data[abi:?sn200100](&v110)];
    std::optional<WebCore::SecurityOriginData>::operator->[abi:sn200100](v135);
    WebCore::SecurityOriginData::toString(&v105, v19);
    WTF::String::createNSString(&v105, &v106);
    v20 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v106);
    [std::span<char const 18446744073709551615ul>:"setTopOrigin:" :v20 data[abi:?sn200100](&v110)];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v106);
    v140 = &v105;
    v148 = &v105;
    v149 = &v105;
    v150[1] = &v105;
    v150[0] = 0;
    v153 = &v105;
    v152 = v150;
    v151 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v105);
    if (v151)
    {
      WTF::StringImpl::deref(v151);
    }
  }

  v21 = [std::span<char const 18446744073709551615ul>:"count" :? data[abi:?sn200100](&v132)];
  if (v21 || (v21 = [std::span<char const 18446744073709551615ul>:"count" :? data[abi:?sn200100](&v130)]) == 0)
  {
    v22 = WebKit::allocASAuthorizationPlatformPublicKeyCredentialProviderInstance(v21);
    WTF::String::createNSString(v137 + 3, &v103);
    v23 = [v22 initWithRelyingPartyIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v103)}];
    WTF::adoptCF<__IOHIDManager *>(&v104, v23);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v103);
    v24 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v104);
    v25 = [v24 createCredentialAssertionRequestWithClientData:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v110)}];
    WTF::adoptCF<__IOHIDManager *>(&v102, v25);
    if (std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100](&v132))
    {
      v26 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v132);
      [std::span<char const 18446744073709551615ul>:"setAllowedCredentials:" :v26 data[abi:?sn200100](&v102)];
    }

    if (std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator BOOL[abi:sn200100](v137 + 56))
    {
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v137 + 56);
      if (std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::operator BOOL[abi:sn200100](v27 + 16))
      {
        std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v137 + 56);
        v29 = std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::optional[abi:sn200100](v101, v28 + 16);
        v30 = WebKit::allocASAuthorizationPublicKeyCredentialLargeBlobAssertionInputInstance(v29);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](v101);
        v32 = std::optional<WebCore::MediationRequirement>::operator BOOL[abi:sn200100](v31 + 8);
        v33 = 0;
        if (v32)
        {
          std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](v101);
          std::optional<WebCore::MediationRequirement>::operator*[abi:sn200100](v34 + 8);
          v33 = *v35;
        }

        WTF::adoptCF<__IOHIDManager *>(&v100, [v30 initWithOperation:(v33 & 1) == 0]);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](v101);
        if (std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v36 + 16))
        {
          std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::operator->[abi:sn200100](v101);
          std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v37 + 16);
          WebCore::toNSData(&v99, v38);
          v39 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v99);
          [std::span<char const 18446744073709551615ul>:"setDataToWrite:" :v39 data[abi:?sn200100](&v100)];
          WTF::RetainPtr<WKWebView>::~RetainPtr(&v99);
        }

        v40 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v100);
        [std::span<char const 18446744073709551615ul>:"setLargeBlob:" :v40 data[abi:?sn200100](&v102)];
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v100);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::~optional(v101);
      }
    }

    WebKit::toASUserVerificationPreference(&v98, *(v137 + 48));
    v41 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v98);
    [std::span<char const 18446744073709551615ul>:"setUserVerificationPreference:" :v41 data[abi:?sn200100](&v102)];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v98);
    if (!isEmpty)
    {
      [std::span<char const 18446744073709551615ul>:"setShouldShowHybridTransport:" :0 data[abi:?sn200100](&v102)];
    }

    if (std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator BOOL[abi:sn200100](v137 + 56))
    {
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v137 + 56);
      if (std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator BOOL[abi:sn200100](v42 + 64))
      {
        std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v137 + 56);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::optional[abi:sn200100](v97, v43 + 64);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator->[abi:sn200100](v97);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::optional[abi:sn200100](v95, v44);
        WebKit::toASAssertionPRFInputValue(&v96, v95);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::~optional(v95);
        WTF::RetainPtr<ASAuthorizationController>::RetainPtr(&v94);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator->[abi:sn200100](v97);
        v46 = std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v45 + 48);
        if (v46)
        {
          WTF::adoptCF<__IOHIDManager *>(&v93, objc_alloc_init(MEMORY[0x1E695DF90]));
          WTF::RetainPtr<WKWebView>::operator=(&v94, &v93);
          WTF::RetainPtr<WKWebView>::~RetainPtr(&v93);
          std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::operator->[abi:sn200100](v97);
          std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v47 + 48);
          v92 = v48;
          v91 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v48);
          v46 = WTF::Vector<WTF::KeyValuePair<WTF::String,WebCore::AuthenticationExtensionsClientInputs::PRFValues>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v92);
          v90 = v46;
          while (v91 != v90)
          {
            v89 = v91;
            WTF::String::utf8();
            v85 = WTF::CString::span(&v84);
            v86 = v49;
            WTF::StringView::StringView(v87, v85, v49);
            WTF::base64URLDecode(v88, v87[0], v87[1]);
            WTF::CString::~CString(&v84);
            if (std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v88))
            {
              v50 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v94);
              std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::optional[abi:sn200100]<WebCore::AuthenticationExtensionsClientInputs::PRFValues&,0>(v81, (v89 + 8));
              WebKit::toASAssertionPRFInputValue(&v82, v81);
              v51 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v82);
              std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v88);
              std::span<unsigned char const,18446744073709551615ul>::span[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v79, v52);
              WTF::toNSData(&v80, v79[0], v79[1]);
              [v50 setObject:v51 forKey:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v80)}];
              WTF::RetainPtr<WKWebView>::~RetainPtr(&v80);
              WTF::RetainPtr<WKWebView>::~RetainPtr(&v82);
              std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::~optional(v81);
              v83 = 0;
            }

            else
            {
              v83 = 7;
            }

            v46 = std::optional<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~optional(v88);
            v91 += 48;
          }
        }

        v53 = WebKit::allocASAuthorizationPublicKeyCredentialPRFAssertionInputInstance(v46);
        v54 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v96);
        v55 = [v53 initWithInputValues:v54 perCredentialInputValues:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v94)}];
        WTF::adoptCF<__IOHIDManager *>(&v78, v55);
        v56 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v78);
        [std::span<char const 18446744073709551615ul>:"setPrf:" :v56 data[abi:?sn200100](&v102)];
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v78);
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v94);
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v96);
        std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFInputs>::~optional(v97);
      }
    }

    v57 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v134);
    [v57 addObject:WTF::RetainPtr<NSURLRequest>::leakRef<NSURLRequest*>(&v102)];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v102);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v104);
  }

  if ((*(a2 + 57) & 1) == 0)
  {
    v58 = [std::span<char const 18446744073709551615ul>:"count" :? data[abi:?sn200100](&v130)];
    if (v58 || (v58 = [std::span<char const 18446744073709551615ul>:"count" :? data[abi:?sn200100](&v132)]) == 0)
    {
      v59 = WebKit::allocASAuthorizationSecurityKeyPublicKeyCredentialProviderInstance(v58);
      WTF::String::createNSString(v137 + 3, &v76);
      v60 = [v59 initWithRelyingPartyIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v76)}];
      WTF::adoptCF<__IOHIDManager *>(&v77, v60);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v76);
      std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v75);
      std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v77);
      if (objc_opt_respondsToSelector())
      {
        v61 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v77);
        v62 = [v61 createCredentialAssertionRequestWithClientData:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v110)}];
        WTF::adoptCF<__IOHIDManager *>(&v74, v62);
        WTF::RetainPtr<WKWebView>::operator=(&v75, &v74);
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v74);
      }

      else
      {
        v63 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v77);
        WebCore::toNSData(&v72, v137);
        v64 = [v63 createCredentialAssertionRequestWithChallenge:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v72)}];
        WTF::adoptCF<__IOHIDManager *>(&v73, v64);
        WTF::RetainPtr<WKWebView>::operator=(&v75, &v73);
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v73);
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v72);
      }

      if (std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100](&v130))
      {
        v65 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v130);
        [std::span<char const 18446744073709551615ul>:"setAllowedCredentials:" :v65 data[abi:?sn200100](&v75)];
      }

      if (std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator BOOL[abi:sn200100](v137 + 56))
      {
        std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v137 + 56);
        if (!WTF::String::isNull(v66))
        {
          std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v137 + 56);
          WTF::String::createNSString(v67, &v71);
          v68 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v71);
          [std::span<char const 18446744073709551615ul>:"setAppID:" :v68 data[abi:?sn200100](&v75)];
          WTF::RetainPtr<WKWebView>::~RetainPtr(&v71);
        }
      }

      v69 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v134);
      [v69 addObject:WTF::RetainPtr<NSURLRequest>::leakRef<NSURLRequest*>(&v75)];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v75);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v77);
    }
  }

  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1, &v134);
  v83 = 1;
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v110);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v130);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v132);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(&v134);
}

BOOL WebKit::isPlatformRequest(uint64_t a1)
{
  v5 = a1;
  isEmpty = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::isEmpty(a1);
  v2 = 1;
  if (!isEmpty)
  {
    return _ZNK3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS_15CrashOnOverflowELm16ENS_10FastMallocEE10containsIfIZN6WebKitL17isPlatformRequestERKS5_EUlT_E_EEbRKSA_(v5, &v4);
  }

  return v2;
}

BOOL WebKit::isCrossPlatformRequest(uint64_t a1)
{
  v5 = a1;
  isEmpty = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::isEmpty(a1);
  v2 = 1;
  if (!isEmpty)
  {
    return _ZNK3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS_15CrashOnOverflowELm16ENS_10FastMallocEE10containsIfIZN6WebKitL22isCrossPlatformRequestERKS5_EUlT_E_EEbRKSA_(v5, &v4);
  }

  return v2;
}

BOOL WebKit::allowsHybrid(uint64_t a1)
{
  v5 = a1;
  isEmpty = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::isEmpty(a1);
  v2 = 1;
  if (!isEmpty)
  {
    return _ZNK3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS_15CrashOnOverflowELm16ENS_10FastMallocEE10containsIfIZN6WebKitL12allowsHybridERKS5_EUlT_E_EEbRKSA_(v5, &v4);
  }

  return v2;
}

void std::optional<WebCore::SecurityOriginData>::operator->[abi:sn200100](uint64_t a1)
{
  if ((std::__optional_storage_base<WebCore::SecurityOriginData,false>::has_value[abi:sn200100](a1) & 1) == 0)
  {
    __break(1u);
  }

  std::__to_address[abi:sn200100]<char const>();
}

uint64_t std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::optional[abi:sn200100](uint64_t a1, uint64_t a2)
{
  std::optional<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs>::optional[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientInputs::LargeBlobInputs,false>::__optional_move_assign_base[abi:sn200100](a1, a2);
  return a1;
}

uint64_t WTF::base64URLDecode(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v10 = a1;
  *(&v9 + 1) = a3;
  *&v9 = a2;
  v8 = v9;
  v4 = 1;
  v5 = &v4;
  v6 = 1;
  WTF::OptionSet<WTF::Base64DecodeOption>::OptionSet(&v7, &v4, 1);
  return WTF::base64Decode();
}

uint64_t WTF::CString::span(WTF::CStringBuffer **this)
{
  if (WTF::RefPtr<WebKit::AuthenticatorPresenterCoordinator,WTF::RawPtrTraits<WebKit::AuthenticatorPresenterCoordinator>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorPresenterCoordinator>>::operator BOOL(this))
  {
    v5[2] = this;
    v5[3] = this;
    v2 = WTF::CStringBuffer::span(*this);
    v5[1] = v3;
    v5[0] = v2;
  }

  else
  {
    std::span<unsigned char,18446744073709551615ul>::span[abi:sn200100](v5);
  }

  return v5[0];
}

uint64_t WTF::StringView::StringView(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return WTF::StringView::StringView(a1, a2, a3);
}

{
  v7[0] = a2;
  v7[1] = a3;
  *a1 = 0;
  *(a1 + 8) = 0;
  *(a1 + 12) = 1;
  v4 = WTF::byteCast<unsigned char,std::span<char const,18446744073709551615ul>>(v7);
  WTF::StringView::initialize(a1, v4, v5);
  return a1;
}

WebCore::AuthenticationExtensionsClientInputs::PRFValues *std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::optional[abi:sn200100]<WebCore::AuthenticationExtensionsClientInputs::PRFValues&,0>(WebCore::AuthenticationExtensionsClientInputs::PRFValues *a1, const PRFValues *a2)
{
  std::optional<WebCore::AuthenticationExtensionsClientInputs::PRFValues>::optional[abi:sn200100]<WebCore::AuthenticationExtensionsClientInputs::PRFValues&,0>(a1, a2);
  return a1;
}

{
  _ZNSt3__127__optional_move_assign_baseIN7WebCore36AuthenticationExtensionsClientInputs9PRFValuesELb0EECI2NS_24__optional_destruct_baseIS3_Lb0EEEIJRS3_EEENS_10in_place_tEDpOT_(a1, a2);
  return a1;
}

void *WTF::toNSData(void *a1, uint64_t a2, uint64_t a3)
{
  v8[2] = a1;
  v8[1] = a3;
  v8[0] = a2;
  v4 = objc_alloc(MEMORY[0x1E695DEF0]);
  v5 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](v8);
  v6 = [v4 initWithBytes:v5 length:{std::span<char const, 18446744073709551615ul>::size_bytes[abi:sn200100](v8)}];
  return WTF::adoptCF<__IOHIDManager *>(a1, v6);
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::pauseConditionalAssertion(uint64_t a1, uint64_t *a2)
{
  if ((*(a1 + 56) & 1) != 0 || (*(a1 + 57) & 1) == 0)
  {
    return WTF::CompletionHandler<void ()(void)>::operator()(a2);
  }

  *(a1 + 56) = 1;
  WTF::CompletionHandler<void ()(void)>::operator=((a1 + 96), a2);
  return [std::span<char const 18446744073709551615ul>:"cancel" :? data[abi:?sn200100](a1 + 48)];
}

WTF::ThreadSafeRefCountedBase **WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr<void>(WTF::ThreadSafeRefCountedBase **a1, uint64_t a2)
{
  WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr<void>(a1, a2);
  return a1;
}

{
  v5 = WTF::CanMakeWeakPtrBase<WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>,(WTF::WeakPtrFactoryInitialization)0>::weakImpl((a2 + 8));
  if (v5)
  {
    WTF::ThreadSafeRefCountedBase::ref(v5);
  }

  *a1 = v5;
  return a1;
}

uint64_t WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(uint64_t *a1)
{
  result = WTF::WeakPtr<WebKit::AuthenticatorManager,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::get(a1);
  if (!result)
  {
    isIntegralOrPointerType = WTF::isIntegralOrPointerType(0);
    WTF::isIntegralOrPointerType(isIntegralOrPointerType);
    __break(0xC471u);
    JUMPOUT(0x19E4396A0);
  }

  return result;
}

uint64_t *WTF::CompletionHandler<void ()(void)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(void)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

WTF::ThreadLikeAssertion *WTF::CompletionHandler<void ()(void)>::~CompletionHandler(WTF::ThreadLikeAssertion *a1)
{
  WTF::CompletionHandler<void ()(void)>::~CompletionHandler(a1);
  return a1;
}

{
  v4 = a1;
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::operator=();
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(a1);
  WTF::Function<void ()(void)>::~Function(a1);
  return a1;
}

void WebKit::WebAuthenticatorCoordinatorProxy::performRequest(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v49 = a1;
  v48 = a2;
  v47 = a3;
  v51 = &v46;
  v50 = WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::get((a1 + 24));
  v55 = &v46;
  v54 = v50;
  v56 = v50;
  if (v50)
  {
    WebKit::WebPageProxy::ref(v56);
  }

  v46 = v56;
  v44 = 0;
  v4 = 1;
  if (!WTF::RefPtr<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>::operator!(&v46))
  {
    v52 = &v46;
    v61 = &v46;
    WebKit::WebPageProxy::protectedPreferences(v46, &v45);
    v44 = 1;
    v5 = WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v45);
    v4 = WebKit::WebPreferences::webAuthenticationASEnabled(v5, v6, v7) ^ 1;
  }

  if (v44)
  {
    WTF::Ref<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::~Ref(&v45);
  }

  if (v4)
  {
    WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(&v43, a1, v48);
    if (std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v43))
    {
      WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v33, &v43);
      WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(a1, &v33, v47);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v33);
      v34 = 1;
    }

    else
    {
      v8 = v47;
      memset(v42, 0, sizeof(v42));
      WebCore::AuthenticatorResponseData::AuthenticatorResponseData(v42);
      v40[0] = 31;
      v38 = WTF::StringLiterals::operator"" _s("The origin of the document is not the same as its ancestors.", 0x3C);
      v39 = v9;
      WTF::String::String(&v41, v38, v9);
      WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(v8, v42, 0, v40);
      WebCore::ExceptionData::~ExceptionData(v40);
      WebCore::AuthenticatorResponseData::~AuthenticatorResponseData(v42, v10);
      oslog = qword_1ED641530;
      v36 = 16;
      if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
      {
        v11 = oslog;
        v12 = v36;
        __os_log_helper_16_0_0(buf);
        _os_log_error_impl(&dword_19D52D000, v11, v12, "The origin of the document is not the same as its ancestors.", buf, 2u);
      }

      v34 = 1;
    }

    WTF::RetainPtr<WKWebView>::~RetainPtr(&v43);
  }

  else
  {
    v32 = 3;
    *(a1 + 57) = std::operator==[abi:sn200100]<WebCore::MediationRequirement,WebCore::MediationRequirement>(v48 + 752, &v32);
    WebKit::WebAuthenticatorCoordinatorProxy::constructASController(&v31, a1, v48);
    if (WTF::RefPtr<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>::operator!(&v31))
    {
      v13 = v47;
      memset(v30, 0, sizeof(v30));
      WebCore::AuthenticatorResponseData::AuthenticatorResponseData(v30);
      v28[0] = 31;
      WTF::String::String(&v29, &stru_1F1147748.isa);
      WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(v13, v30, 0, v28);
      WebCore::ExceptionData::~ExceptionData(v28);
      WebCore::AuthenticatorResponseData::~AuthenticatorResponseData(v30, v14);
      v34 = 1;
    }

    else
    {
      if (*(a1 + 57))
      {
        v15 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr<void>(&v27, a1);
        WebKit::WebAuthenticatorCoordinatorProxy::activeConditionalMediationProxy(v15);
        WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator=(v16, &v27);
        WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::~WeakPtr(&v27);
      }

      WTF::RetainPtr<WKWebView>::operator=((a1 + 48), &v31);
      WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator=((a1 + 32), v47);
      v17 = [_WKASDelegate alloc];
      v18 = v48 + 312;
      WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr<void>(&v23, a1);
      WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(&v24, &v23);
      v19 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v24);
      WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::BlockPtr(&v25, v19);
      WTF::adoptCF<__IOHIDManager *>(&v26, [(_WKASDelegate *)v17 initWithPage:v18 completionHandler:&v25]);
      WTF::RetainPtr<WKWebView>::operator=((a1 + 40), &v26);
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v26);
      WTF::BlockPtr<void ()(void)>::~BlockPtr(&v25);
      WTF::BlockPtr<void ()(void)>::~BlockPtr(&v24);
      WebKit::CtapHidDriverWorker::transact(fido::FidoHidMessage &&,WTF::Function<void ()(std::optional<fido::FidoHidMessage> &&)> &&)::$_0::~$_0(&v23);
      v20 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1 + 40);
      [std::span<char const 18446744073709551615ul>:"setPresentationContextProvider:" :v20 data[abi:?sn200100](a1 + 48)];
      v21 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1 + 40);
      [std::span<char const 18446744073709551615ul>:"setDelegate:" :v21 data[abi:?sn200100](a1 + 48)];
      if ((std::optional<WebCore::MediationRequirement>::operator BOOL[abi:sn200100](v48 + 752) & 1) != 0 && (std::optional<WebCore::MediationRequirement>::operator*[abi:sn200100](v48 + 752), *v22 == 3) && std::holds_alternative<WebCore::PublicKeyCredentialRequestOptions,WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialRequestOptions>(v48 + 16))
      {
        [std::span<char const 18446744073709551615ul>:"performAutoFillAssistedRequests" :? data[abi:?sn200100](a1 + 48)];
      }

      else
      {
        [std::span<char const 18446744073709551615ul>:"performRequests" :? data[abi:?sn200100](a1 + 48)];
      }

      v34 = 0;
    }

    WTF::RetainPtr<WKWebView>::~RetainPtr(&v31);
  }

  v53 = &v46;
  v57[1] = &v46;
  v57[0] = 0;
  v60 = &v46;
  v59 = v57;
  v58 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v46);
  if (v58)
  {
    WebKit::WebPageProxy::deref(v58);
  }
}

void WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(void *a1, uint64_t a2, uint64_t a3)
{
  v13 = a1;
  v12 = a2;
  v11 = a3;
  v10 = 0;
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *&v9 = a1;
  *(&v9 + 1) = v11;
  *&v8 = a1;
  *(&v8 + 1) = v11;
  v17 = v11 + 16;
  v16[5] = &v9;
  v16[4] = &v8;
  v15 = v9;
  v14 = v8;
  v25 = v9;
  v24 = v8;
  v23 = v9;
  v22 = v8;
  WTF::Visitor<WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &&)::$_0,WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &)::$_1>::Visitor(v16, a1, v11, a1, v11);
  v26 = v17;
  v21 = v16;
  v20 = v17;
  v19 = 2;
  switch(mpark::variant<WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialRequestOptions>::index(v17))
  {
    case 0:
      v4 = v21;
      mpark::get<WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialRequestOptions>(v20);
      WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &&)::$_0::operator()(v4, v5);
      return;
    case 1:
      v6 = v21 + 2;
      mpark::get<WebCore::PublicKeyCredentialRequestOptions,WebCore::PublicKeyCredentialCreationOptions,WebCore::PublicKeyCredentialRequestOptions>(v20);
      WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &&)::$_1::operator()(v6, v7);
      return;
    case 2:
      __break(1u);
      goto LABEL_5;
    case 3:
LABEL_5:
      __break(1u);
      goto LABEL_6;
    case 4:
LABEL_6:
      __break(1u);
      goto LABEL_7;
    case 5:
LABEL_7:
      __break(1u);
      goto LABEL_8;
    case 6:
LABEL_8:
      __break(1u);
      goto LABEL_9;
    case 7:
LABEL_9:
      __break(1u);
      goto LABEL_10;
    case 8:
LABEL_10:
      __break(1u);
      goto LABEL_11;
    case 9:
LABEL_11:
      __break(1u);
      goto LABEL_12;
    case 10:
LABEL_12:
      __break(1u);
      goto LABEL_13;
    case 11:
LABEL_13:
      __break(1u);
      goto LABEL_14;
    case 12:
LABEL_14:
      __break(1u);
      goto LABEL_15;
    case 13:
LABEL_15:
      __break(1u);
      goto LABEL_16;
    case 14:
LABEL_16:
      __break(1u);
      goto LABEL_17;
    case 15:
LABEL_17:
      __break(1u);
      goto LABEL_18;
    case 16:
LABEL_18:
      __break(1u);
      goto LABEL_19;
    case 17:
LABEL_19:
      __break(1u);
      goto LABEL_20;
    case 18:
LABEL_20:
      __break(1u);
      goto LABEL_21;
    case 19:
LABEL_21:
      __break(1u);
      goto LABEL_22;
    case 20:
LABEL_22:
      __break(1u);
      goto LABEL_23;
    case 21:
LABEL_23:
      __break(1u);
      goto LABEL_24;
    case 22:
LABEL_24:
      __break(1u);
      goto LABEL_25;
    case 23:
LABEL_25:
      __break(1u);
      goto LABEL_26;
    case 24:
LABEL_26:
      __break(1u);
      goto LABEL_27;
    case 25:
LABEL_27:
      __break(1u);
      goto LABEL_28;
    case 26:
LABEL_28:
      __break(1u);
      goto LABEL_29;
    case 27:
LABEL_29:
      __break(1u);
      goto LABEL_30;
    case 28:
LABEL_30:
      __break(1u);
      goto LABEL_31;
    case 29:
LABEL_31:
      __break(1u);
      goto LABEL_32;
    case 30:
LABEL_32:
      __break(1u);
      goto LABEL_33;
    case 31:
LABEL_33:
      __break(1u);
      break;
    default:
      break;
  }

  v18 = 2;
  __break(1u);
}

uint64_t *WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(WTF::RefCountedBase *a1, uint64_t a2, char a3, uint64_t a4)
{
  v9 = a1;
  v8 = a2;
  v7 = a3;
  v6[1] = a4;
  WTF::RefCountedBase::applyRefDerefThreadingCheck(a1);
  std::exchange[abi:sn200100]<WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>,decltype(nullptr)>(v6, a1);
  WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(v6);
  return WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~Function(v6);
}

WebCore::AuthenticatorResponseData *WebCore::AuthenticatorResponseData::AuthenticatorResponseData(WebCore::AuthenticatorResponseData *this)
{
  WebCore::AuthenticatorResponseData::AuthenticatorResponseData(this);
  return this;
}

{
  *this = 0;
  *(this + 1) = 0;
  std::optional<WebCore::AuthenticationExtensionsClientOutputs>::optional[abi:sn200100](this + 16);
  *(this + 13) = 0;
  *(this + 14) = 0;
  *(this + 15) = 0;
  *(this + 16) = 0;
  *(this + 17) = 0;
  WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(this + 144);
  return this;
}

void WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v53 = a1;
  v52 = a2;
  v51 = a3;
  v5 = [std::span<char const 18446744073709551615ul>:"requestTypes" :? data[abi:?sn200100](a2)];
  if (v5)
  {
    v11 = [WebKit::allocASCAgentProxyInstance(v5) init];
    WTF::adoptCF<__IOHIDManager *>(&v42, v11);
    WTF::RetainPtr<WKWebView>::operator=((a1 + 88), &v42);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v42);
    if ([std::span<char const 18446744073709551615ul>:"requestStyle" :? data[abi:?sn200100](a2)] == 2)
    {
      v12 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1 + 88);
      v13 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a2);
      WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr<void>(&v39, a1);
      WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(&v40, v51);
      WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0>(&v41, &v39);
      [v12 performSilentAuthorizationRequestsForContext:v13 withCompletionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v41)}];
      WTF::BlockPtr<void ()(void)>::~BlockPtr(&v41);
      WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::~$_0(&v39);
    }

    else
    {
      v14 = WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::get((a1 + 24));
      v56 = &v38;
      v55 = v14;
      v70 = &v38;
      v69 = v14;
      v71 = v14;
      if (v14)
      {
        WebKit::WebPageProxy::ref(v71);
      }

      v38 = v71;
      if (WTF::RefPtr<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>::operator!(&v38))
      {
        v37 = qword_1ED641530;
        v36 = 16;
        if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
        {
          v15 = v37;
          v16 = v36;
          __os_log_helper_16_0_0(v35);
          _os_log_error_impl(&dword_19D52D000, v15, v16, "WebPageProxy had been released", v35, 2u);
        }

        v17 = v51;
        memset(v34, 0, sizeof(v34));
        WebCore::AuthenticatorResponseData::AuthenticatorResponseData(v34);
        v32[0] = 31;
        v30 = WTF::StringLiterals::operator"" _s("Operation failed.", 0x11);
        v31 = v18;
        WTF::String::String(&v33, v30, v18);
        WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(v17, v34, 0, v32);
        WebCore::ExceptionData::~ExceptionData(v32);
        WebCore::AuthenticatorResponseData::~AuthenticatorResponseData(v34, v19);
      }

      v57 = &v38;
      v76 = &v38;
      v20 = WebKit::WebPageProxy::pageClient(v38);
      v60 = &v29;
      v59 = v20;
      v78 = &v29;
      v77 = v20;
      v79 = v20;
      if (v20)
      {
        WebKit::PageClient::ref(v79);
      }

      v29 = v79;
      if (WTF::RefPtr<WebKit::AuthenticatorPresenterCoordinator,WTF::RawPtrTraits<WebKit::AuthenticatorPresenterCoordinator>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorPresenterCoordinator>>::operator BOOL(&v29))
      {
        v61 = &v29;
        v84 = &v29;
        (*(*v29 + 1280))(&v27);
        WTF::String::createNSString(&v27, &v28);
        v21 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v28);
        [std::span<char const 18446744073709551615ul>:"setWindowSceneIdentifier:" :v21 data[abi:?sn200100](a2)];
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v28);
        v54 = &v27;
        v63 = &v27;
        v64 = &v27;
        v65[1] = &v27;
        v65[0] = 0;
        v68 = &v27;
        v67 = v65;
        v66 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v27);
        if (v66)
        {
          WTF::StringImpl::deref(v66);
        }
      }

      v62 = &v29;
      v80[1] = &v29;
      v80[0] = 0;
      v83 = &v29;
      v82 = v80;
      v81 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v29);
      if (v81)
      {
        WebKit::PageClient::deref(v81);
      }

      v22 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1 + 88);
      v23 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a2);
      WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr<void>(&v24, a1);
      WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(&v25, v51);
      WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1>(&v26, &v24);
      [v22 performAuthorizationRequestsForContext:v23 withCompletionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v26)}];
      WTF::BlockPtr<void ()(void)>::~BlockPtr(&v26);
      WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::~$_0(&v24);
      v58 = &v38;
      v72[1] = &v38;
      v72[0] = 0;
      v75 = &v38;
      v74 = v72;
      v73 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v38);
      if (v73)
      {
        WebKit::WebPageProxy::deref(v73);
      }
    }
  }

  else
  {
    v6 = v51;
    memset(v50, 0, sizeof(v50));
    WebCore::AuthenticatorResponseData::AuthenticatorResponseData(v50);
    v48[0] = 31;
    v46 = WTF::StringLiterals::operator"" _s("This request has been cancelled by the user.", 0x2C);
    v47 = v7;
    WTF::String::String(&v49, v46, v7);
    WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(v6, v50, 0, v48);
    WebCore::ExceptionData::~ExceptionData(v48);
    WebCore::AuthenticatorResponseData::~AuthenticatorResponseData(v50, v8);
    oslog = qword_1ED641530;
    v44 = 16;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      v9 = oslog;
      v10 = v44;
      __os_log_helper_16_0_0(buf);
      _os_log_error_impl(&dword_19D52D000, v9, v10, "Request cancelled due to none requestTypes.", buf, 2u);
    }
  }
}

void sub_19E43A874(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, int a49, int a50, uint64_t a51)
{
  a51 = a1;
  a50 = a2;
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::~WeakPtr(&a9);
  v53[42] = v53;
  *(v51 - 224) = v53;
  v52 = *(v51 - 224);
  *(v51 - 232) = 0;
  *(v51 - 192) = v52;
  *(v51 - 200) = v51 - 232;
  *(v51 - 216) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v51 - 192));
  if (*(v51 - 216))
  {
    WebKit::WebPageProxy::deref(*(v51 - 216));
  }

  _Unwind_Resume(v53[8]);
}

void sub_19E43A888(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, int a49, int a50, uint64_t a51)
{
  a51 = a1;
  a50 = a2;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::~$_0(&a9);
  JUMPOUT(0x19E43A8ACLL);
}

void **WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::BlockPtr(void **a1, const void *a2)
{
  WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::BlockPtr(a1, a2);
  return a1;
}

{
  *a1 = _Block_copy(a2);
  return a1;
}

uint64_t *WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(WTF::String const&)>::Function(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::~$_0(uint64_t *a1)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::~$_0(a1);
  return a1;
}

{
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~CompletionHandler((a1 + 1));
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::~WeakPtr(a1);
  return a1;
}

WTF::ThreadLikeAssertion *WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(uint64_t a1, WebCore::SecurityOriginData *a2, uint64_t *a3)
{
  v7[3] = a1;
  v7[2] = a2;
  v7[1] = a3;
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(&v6, a3);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v5);
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0,void>(v7, &v6);
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(a2, v7);
  WTF::CompletionHandler<void ()(BOOL)>::~CompletionHandler(v7);
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v5);
  return WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::~$_0(&v6);
}

uint64_t *WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData *a1, uint64_t *a2)
{
  v13 = a1;
  v12 = a2;
  WebKit::getASCWebKitSPISupportClass[0](a1);
  v2 = objc_opt_respondsToSelector();
  if ((v2 & 1) == 0)
  {
    return WTF::CompletionHandler<void ()(BOOL)>::operator()(v12, 0);
  }

  v3 = WebKit::getASCWebKitSPISupportClass[0](v2);
  WebCore::SecurityOriginData::securityOrigin(&v10, v13);
  v4 = WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v10);
  v5 = fido::AuthenticatorGetInfoResponse::maxMsgSize(v4);
  WTF::String::createNSString(v5, &v11);
  v6 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v11);
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(&v8, v12);
  WTF::makeBlockPtr<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(&v9, &v8);
  [v3 getCanCurrentProcessAccessPasskeysForRelyingParty:v6 withCompletionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v9)}];
  WTF::BlockPtr<void ()(void)>::~BlockPtr(&v9);
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler(&v8);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v11);
  return WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(&v10);
}

uint64_t *WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0,void>(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void>(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebKit *a1, WebCore::SecurityOriginData *a2, uint64_t *a3)
{
  v17 = a1;
  v16 = a2;
  v15 = a3;
  WebKit::getASCWebKitSPISupportClass[0](a1);
  v3 = objc_opt_respondsToSelector();
  if (v3)
  {
    v6 = WebKit::getASCWebKitSPISupportClass[0](v3);
    WebCore::SecurityOriginData::securityOrigin(&v12, v16);
    v7 = WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v12);
    v8 = fido::AuthenticatorGetInfoResponse::maxMsgSize(v7);
    WTF::String::createNSString(v8, &v13);
    v9 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v13);
    WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::CompletionHandler(&v10, v15);
    WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0>(&v11, &v10);
    [v6 getClientCapabilitiesForRelyingParty:v9 withCompletionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v11)}];
    WTF::BlockPtr<void ()(void)>::~BlockPtr(&v11);
    WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::~$_0(&v10);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v13);
    return WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(&v12);
  }

  else
  {
    WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v14);
    WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::operator()(v15, v14);
    return WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v14, v4);
  }
}

void sub_19E43AFD0(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, int a14, int a15, uint64_t a16)
{
  a16 = a1;
  a15 = a2;
  WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(&a12);
  JUMPOUT(0x19E43B01CLL);
}

uint64_t *WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::operator()(WTF::RefCountedBase *a1, uint64_t a2)
{
  v4[2] = a1;
  v4[1] = a2;
  WTF::RefCountedBase::applyRefDerefThreadingCheck(a1);
  std::exchange[abi:sn200100]<WTF::Function<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>,decltype(nullptr)>(v4, a1);
  WTF::Function<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::operator()(v4);
  return WTF::Function<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~Function(v4);
}

uint64_t *WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::CompletionHandler(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::CompletionHandler(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(WTF::String const&)>::Function(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

WTF::ThreadLikeAssertion *WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::~$_0(WTF::ThreadLikeAssertion *a1)
{
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::~$_0(a1);
  return a1;
}

{
  WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~CompletionHandler(a1);
  return a1;
}

uint64_t *WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(uint64_t *a1)
{
  WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(a1);
  return a1;
}

{
  v5 = a1;
  v6 = a1;
  v3 = 0;
  v8 = a1;
  v7 = &v3;
  v4 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(a1);
  if (v4)
  {
    v9 = v4;
    WTF::ThreadSafeRefCounted<WebCore::SecurityOrigin,(WTF::DestructionThread)0>::deref(v4, v1);
  }

  return v6;
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(uint64_t a1, WebCore::SecurityOriginData *a2, uint64_t *a3)
{
  v10[4] = *MEMORY[0x1E69E9840];
  v8 = a1;
  v7 = a2;
  v6[1] = a3;
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(&v9, a3);
  WebCore::SecurityOriginData::SecurityOriginData(v10, v7);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(v5);
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0,void>(v6, &v9);
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(a2, v6);
  WTF::CompletionHandler<void ()(BOOL)>::~CompletionHandler(v6);
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(v5);
  return WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::~$_0(&v9);
}

uint64_t *WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0,void>(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void>(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::~$_0(uint64_t a1)
{
  WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::~$_0(a1);
  return a1;
}

{
  WebCore::SecurityOriginData::~SecurityOriginData((a1 + 8));
  WTF::CompletionHandler<void ()(BOOL)>::~CompletionHandler(a1);
  return a1;
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::cancel(void *a1, uint64_t *a2)
{
  v9 = a1;
  v8 = a2;
  if (WTF::CompletionHandler<void ()(mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&)>::operator BOOL(a1 + 4) || std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100](a1 + 5))
  {
    WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr<void>(&v5, a1);
    WTF::CompletionHandler<void ()(void)>::CompletionHandler(&v6, v8);
    WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v4);
    WTF::CompletionHandler<void ()(void)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)>&&)::$_0,void>(&v7, &v5);
    WTF::CompletionHandler<void ()(void)>::operator=(a1 + 12, &v7);
    WTF::CompletionHandler<void ()(void)>::~CompletionHandler(&v7);
    WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v4);
    WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::~$_0(&v5);
  }

  else
  {
    WTF::CompletionHandler<void ()(void)>::operator()(v8);
  }

  if (std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100](a1 + 11))
  {
    [std::span<char const 18446744073709551615ul>:"cancelCurrentRequest" :? data[abi:?sn200100]((a1 + 11))];
    WTF::RetainPtr<ASCAgentProxy>::clear(a1 + 11);
  }

  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100](a1 + 6);
  if (result)
  {
    return [std::span<char const 18446744073709551615ul>:"cancel" :? data[abi:?sn200100]((a1 + 6))];
  }

  return result;
}

uint64_t *WTF::CompletionHandler<void ()(void)>::CompletionHandler(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(void)>::CompletionHandler(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(void)>::Function(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

uint64_t *WTF::CompletionHandler<void ()(void)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)>&&)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(void)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)>&&)::$_0,void>(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::~$_0(uint64_t *a1)
{
  WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::~$_0(a1);
  return a1;
}

{
  WTF::CompletionHandler<void ()(void)>::~CompletionHandler((a1 + 1));
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::~WeakPtr(a1);
  return a1;
}

void WTF::RetainPtr<ASCAgentProxy>::clear(uint64_t *a1)
{
  v1 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(a1);
  if (v1)
  {
    WTF::RetainPtr<ASAuthorization>::releaseFoundationPtr(v1);
  }
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v33 = a1;
  v32 = a2;
  v31 = a3;
  v30 = a4;
  WTF::StringView::StringView(v28, (a3 + 8));
  WTF::base64URLDecode(v29, v28[0], v28[1]);
  v4 = std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v29);
  if (v4)
  {
    CredentialUpdaterShimClass = WebKit::getCredentialUpdaterShimClass(v4);
    WTF::String::createNSString(v31, &v18);
    v10 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v18);
    std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v29);
    std::span<unsigned char const,18446744073709551615ul>::span[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v16, v11);
    WTF::toNSData(&v17, v16[0], v16[1]);
    v12 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v17);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::CompletionHandler(&v14, v30);
    WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(&v15, &v14);
    [CredentialUpdaterShimClass signalUnknownCredentialWithRelyingPartyIdentifier:v10 credentialID:v12 completionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v15)}];
    WTF::BlockPtr<void ()(void)>::~BlockPtr(&v15);
    WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(&v14);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v17);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v18);
    v19 = 0;
  }

  else
  {
    v27 = qword_1ED641530;
    v26 = 16;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      v5 = v27;
      v6 = v26;
      __os_log_helper_16_0_0(buf);
      _os_log_error_impl(&dword_19D52D000, v5, v6, "Failed to parse credentialId for signalUnknownCredential.", buf, 2u);
    }

    v7 = v30;
    v22[0] = 24;
    v20 = WTF::StringLiterals::operator"" _s("Unable to parse credential ID.", 0x1E);
    v21 = v8;
    WTF::String::String(&v23, v20, v8);
    std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(v24, v22);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(v7, v24);
    std::optional<WebCore::ExceptionData>::~optional(v24);
    WebCore::ExceptionData::~ExceptionData(v22);
    v19 = 1;
  }

  return std::optional<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~optional(v29);
}

void sub_19E43B814(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, int a16, int a17, uint64_t a18)
{
  a18 = a1;
  a17 = a2;
  WTF::RetainPtr<WKWebView>::~RetainPtr(&a15);
  JUMPOUT(0x19E43B860);
}

WTF::StringView *WTF::StringView::StringView(WTF::StringView *this, fido::AuthenticatorSupportedOptions **a2)
{
  WTF::StringView::StringView(this, a2);
  return this;
}

{
  *this = 0;
  *(this + 2) = 0;
  *(this + 12) = 1;
  WTF::WeakPtrFactory<WebKit::AuthenticatorObserver,WTF::DefaultWeakPtrImpl>::impl(a2);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  if (WTF::WeakPtrFactory<WebKit::AuthenticatorObserver,WTF::DefaultWeakPtrImpl>::impl(a2))
  {
    if (WTF::String::is8Bit(a2))
    {
      v3 = WTF::String::span8(a2);
      WTF::StringView::initialize(this, v3, v4);
    }

    else
    {
      v5 = WTF::String::span8(a2);
      WTF::StringView::initialize(this, v5, v6);
    }
  }

  else
  {
    WTF::StringView::clear(this);
  }

  return this;
}

uint64_t std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(uint64_t a1, uint64_t a2)
{
  std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(a1, a2);
  return a1;
}

{
  _ZNSt3__127__optional_move_assign_baseIN7WebCore13ExceptionDataELb0EECI2NS_24__optional_destruct_baseIS2_Lb0EEEIJS2_EEENS_10in_place_tEDpOT_(a1, a2);
  return a1;
}

WebCore::ExceptionData *std::optional<WebCore::ExceptionData>::~optional(WebCore::ExceptionData *a1)
{
  std::optional<WebCore::ExceptionData>::~optional(a1);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::ExceptionData,false>::~__optional_move_assign_base(a1);
  return a1;
}

uint64_t *WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::CompletionHandler(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::CompletionHandler(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(WTF::String const&)>::Function(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

WTF::ThreadLikeAssertion *WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(WTF::ThreadLikeAssertion *a1)
{
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(a1);
  return a1;
}

{
  WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::~CompletionHandler(a1);
  return a1;
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v58 = a1;
  v57 = a2;
  v56 = a3;
  v55 = a4;
  WTF::StringView::StringView(v53, (a3 + 8));
  WTF::base64URLDecode(v54, v53[0], v53[1]);
  if (std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v54))
  {
    WTF::adoptCF<__IOHIDManager *>(&v42, objc_alloc_init(MEMORY[0x1E695DF70]));
    WTF::RetainPtr<NSURLRequest>::RetainPtr(&v43, &v42);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v42);
    v41 = v56 + 2;
    v40 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin((v56 + 2));
    v8 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v41);
    v39 = v8;
    while (v40 != v39)
    {
      v38 = v40;
      WTF::StringView::StringView(v36, v40);
      WTF::base64URLDecode(v37, v36[0], v36[1]);
      if (std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v37))
      {
        v13 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v43);
        std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v37);
        std::span<unsigned char const,18446744073709551615ul>::span[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v26, v14);
        WTF::toNSData(&v27, v26[0], v26[1]);
        [v13 addObject:WTF::RetainPtr<NSURLRequest>::leakRef<NSURLRequest*>(&v27)];
        WTF::RetainPtr<WKWebView>::~RetainPtr(&v27);
        v44 = 0;
      }

      else
      {
        oslog = qword_1ED641530;
        v34 = 16;
        if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
        {
          v9 = oslog;
          v10 = v34;
          __os_log_helper_16_0_0(v33);
          _os_log_error_impl(&dword_19D52D000, v9, v10, "Failed to parse credentialId for signalAllAcceptedCredentials.", v33, 2u);
        }

        v11 = v55;
        v30[0] = 24;
        v28 = WTF::StringLiterals::operator"" _s("Unable to parse credential ID.", 0x1E);
        v29 = v12;
        WTF::String::String(&v31, v28, v12);
        std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(v32, v30);
        WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(v11, v32);
        std::optional<WebCore::ExceptionData>::~optional(v32);
        WebCore::ExceptionData::~ExceptionData(v30);
        v44 = 1;
      }

      v8 = std::optional<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~optional(v37);
      if (v44)
      {
        goto LABEL_15;
      }

      ++v40;
    }

    CredentialUpdaterShimClass = WebKit::getCredentialUpdaterShimClass(v8);
    WTF::String::createNSString(v56, &v25);
    v16 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v25);
    std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v54);
    std::span<unsigned char const,18446744073709551615ul>::span[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v23, v17);
    WTF::toNSData(&v24, v23[0], v23[1]);
    v18 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v24);
    v19 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v43);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::CompletionHandler(&v21, v55);
    WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(&v22, &v21);
    [CredentialUpdaterShimClass signalAllAcceptedCredentialsWithRelyingPartyIdentifier:v16 userHandle:v18 acceptedCredentialIDs:v19 completionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v22)}];
    WTF::BlockPtr<void ()(void)>::~BlockPtr(&v22);
    WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(&v21);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v24);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v25);
    v44 = 0;
LABEL_15:
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v43);
  }

  else
  {
    v52 = qword_1ED641530;
    v51 = 16;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      v4 = v52;
      v5 = v51;
      __os_log_helper_16_0_0(buf);
      _os_log_error_impl(&dword_19D52D000, v4, v5, "Failed to parse userHandle for signalAllAcceptedCredentials.", buf, 2u);
    }

    v6 = v55;
    v47[0] = 24;
    v45 = WTF::StringLiterals::operator"" _s("Unable to parse credential ID.", 0x1E);
    v46 = v7;
    WTF::String::String(&v48, v45, v7);
    std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(v49, v47);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(v6, v49);
    std::optional<WebCore::ExceptionData>::~optional(v49);
    WebCore::ExceptionData::~ExceptionData(v47);
    v44 = 1;
  }

  return std::optional<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~optional(v54);
}

void sub_19E43BEEC(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  *(v7 - 208) = a1;
  *(v7 - 212) = a2;
  WTF::RetainPtr<WKWebView>::~RetainPtr(va);
  JUMPOUT(0x19E43BF38);
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  v35 = a1;
  v34 = a2;
  v33 = a3;
  v32 = a4;
  WTF::StringView::StringView(v30, (a3 + 8));
  WTF::base64URLDecode(v31, v30[0], v30[1]);
  v4 = std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](v31);
  if (v4)
  {
    CredentialUpdaterShimClass = WebKit::getCredentialUpdaterShimClass(v4);
    WTF::String::createNSString(v33, &v20);
    v10 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v20);
    std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](v31);
    std::span<unsigned char const,18446744073709551615ul>::span[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v18, v11);
    WTF::toNSData(&v19, v18[0], v18[1]);
    v12 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v19);
    WTF::String::createNSString(v33 + 2, &v17);
    v13 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v17);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::CompletionHandler(&v15, v32);
    WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(&v16, &v15);
    [CredentialUpdaterShimClass signalCurrentUserDetailsWithRelyingPartyIdentifier:v10 userHandle:v12 newName:v13 completionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v16)}];
    WTF::BlockPtr<void ()(void)>::~BlockPtr(&v16);
    WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(&v15);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v17);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v19);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v20);
    v21 = 0;
  }

  else
  {
    v29 = qword_1ED641530;
    v28 = 16;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      v5 = v29;
      v6 = v28;
      __os_log_helper_16_0_0(buf);
      _os_log_error_impl(&dword_19D52D000, v5, v6, "Failed to parse userHandle for signalAllAcceptedCredentials.", buf, 2u);
    }

    v7 = v32;
    v24[0] = 24;
    v22 = WTF::StringLiterals::operator"" _s("Unable to parse credential ID.", 0x1E);
    v23 = v8;
    WTF::String::String(&v25, v22, v8);
    std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(v26, v24);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(v7, v26);
    std::optional<WebCore::ExceptionData>::~optional(v26);
    WebCore::ExceptionData::~ExceptionData(v24);
    v21 = 1;
  }

  return std::optional<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>>::~optional(v31);
}

void sub_19E43C220(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, int a16, int a17, uint64_t a18)
{
  a18 = a1;
  a17 = a2;
  WTF::RetainPtr<WKWebView>::~RetainPtr(&a15);
  JUMPOUT(0x19E43C280);
}

void **WTF::RetainPtr<NSString>::RetainPtr(void **a1, void *a2)
{
  WTF::RetainPtr<NSString>::RetainPtr(a1, a2);
  return a1;
}

{
  *a1 = a2;
  if (*a1)
  {
    WTF::RetainPtr<NSString>::retainFoundationPtr(*a1);
  }

  return a1;
}

WebCore::AuthenticationExtensionsClientInputs::PRFValues *WebCore::AuthenticationExtensionsClientInputs::PRFValues::PRFValues(WebCore::AuthenticationExtensionsClientInputs::PRFValues *this, const PRFValues *a2)
{
  WebCore::AuthenticationExtensionsClientInputs::PRFValues::PRFValues(this, a2);
  return this;
}

{
  WebCore::BufferSource::BufferSource(this, a2);
  std::__optional_copy_base<WebCore::BufferSource,false>::__optional_copy_base[abi:sn200100](this + 16, &a2->var1);
  return this;
}

uint64_t WTF::operator==(uint64_t a1, uint64_t a2, uint64_t a3)
{
  *&v7 = a2;
  *(&v7 + 1) = a3;
  v8 = v7;
  v3 = WTF::WeakPtrFactory<WebKit::AuthenticatorObserver,WTF::DefaultWeakPtrImpl>::impl(a1);
  v4 = WTF::ASCIILiteral::span8(&v8);
  return MEMORY[0x19EB01EF0](v3, v4, v5) & 1;
}

uint64_t _ZNK3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS_15CrashOnOverflowELm16ENS_10FastMallocEE6findIfIZN6WebKitL17isPlatformRequestERKS5_EUlT_E_EEmRKSA_(uint64_t a1, uint64_t a2)
{
  for (i = 0; i < WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1); ++i)
  {
    v3 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::at(a1, i);
    if (_ZZN6WebKitL17isPlatformRequestERKN3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEEENKUlT_E_clIS3_EEDaS9_(a2, *v3))
    {
      return i;
    }
  }

  return -1;
}

BOOL _ZZN6WebKitL17isPlatformRequestERKN3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEEENKUlT_E_clIS3_EEDaS9_(uint64_t a1, char a2)
{
  v2 = 1;
  if (a2 != 3)
  {
    return a2 == 5;
  }

  return v2;
}

uint64_t _ZNK3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS_15CrashOnOverflowELm16ENS_10FastMallocEE6findIfIZN6WebKitL22isCrossPlatformRequestERKS5_EUlT_E_EEmRKSA_(uint64_t a1, uint64_t a2)
{
  for (i = 0; i < WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1); ++i)
  {
    v3 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::at(a1, i);
    if (_ZZN6WebKitL22isCrossPlatformRequestERKN3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEEENKUlT_E_clIS3_EEDaS9_(a2, *v3))
    {
      return i;
    }
  }

  return -1;
}

BOOL _ZZN6WebKitL22isCrossPlatformRequestERKN3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEEENKUlT_E_clIS3_EEDaS9_(uint64_t a1, char a2)
{
  v2 = 0;
  if (a2 != 3)
  {
    return a2 != 5;
  }

  return v2;
}

uint64_t _ZNK3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS_15CrashOnOverflowELm16ENS_10FastMallocEE6findIfIZN6WebKitL12allowsHybridERKS5_EUlT_E_EEmRKSA_(uint64_t a1, uint64_t a2)
{
  for (i = 0; i < WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1); ++i)
  {
    v3 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::at(a1, i);
    if (_ZZN6WebKitL12allowsHybridERKN3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEEENKUlT_E_clIS3_EEDaS9_(a2, *v3))
    {
      return i;
    }
  }

  return -1;
}

BOOL _ZZN6WebKitL12allowsHybridERKN3WTF6VectorIN7WebCore22AuthenticatorTransportELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEEENKUlT_E_clIS3_EEDaS9_(uint64_t a1, char a2)
{
  v2 = 1;
  if (a2 != 5)
  {
    return a2 == 4;
  }

  return v2;
}

_DWORD *WTF::OptionSet<WTF::Base64DecodeOption>::OptionSet(_DWORD *a1, uint64_t a2, uint64_t a3)
{
  return WTF::OptionSet<WTF::Base64DecodeOption>::OptionSet(a1, a2, a3);
}

{
  v7[0] = a2;
  v7[1] = a3;
  v8 = a1;
  *a1 = 0;
  v6 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](v7);
  v5 = std::initializer_list<WTF::Base64DecodeOption>::end[abi:sn200100](v7);
  while (v6 != v5)
  {
    *a1 |= *v6++;
  }

  return v8;
}

uint64_t WTF::StringView::initialize(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v5[0] = a2;
  v5[1] = a3;
  *a1 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](v5);
  result = std::span<char const,18446744073709551615ul>::size_bytes[abi:sn200100](v5);
  *(a1 + 8) = result;
  *(a1 + 12) = 1;
  return result;
}

{
  v5[0] = a2;
  v5[1] = a3;
  *a1 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](v5);
  result = std::span<char const,18446744073709551615ul>::size_bytes[abi:sn200100](v5);
  *(a1 + 8) = result;
  *(a1 + 12) = 0;
  return result;
}

WebCore::AuthenticationExtensionsClientInputs::PRFValues *std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientInputs::PRFValues,false>::__optional_destruct_base[abi:sn200100]<WebCore::AuthenticationExtensionsClientInputs::PRFValues&>(WebCore::AuthenticationExtensionsClientInputs::PRFValues *a1, const PRFValues *a2)
{
  WebCore::AuthenticationExtensionsClientInputs::PRFValues::PRFValues(a1, a2);
  *(a1 + 40) = 1;
  return a1;
}

void std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::operator=[abi:sn200100](uint64_t *a1, uint64_t *a2)
{
  v3 = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::release[abi:sn200100](a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::reset[abi:sn200100](a1, v3);
  std::__to_address[abi:sn200100]<char const>();
}

void sub_19E43D044(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, int a10, int a11, _Unwind_Exception *exception_object, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, char a28, uint64_t a29, char a30)
{
  a21 = v37;
  a20 = 0;
  *(v31 + 168) = v37;
  *(v31 + 160) = &a20;
  *(v31 + 72) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v31 + 168));
  if (*(v31 + 72))
  {
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(*(v31 + 72));
  }

  a23 = v36;
  a22 = 0;
  *(v31 + 152) = v36;
  *(v31 + 144) = &a22;
  *(v31 + 64) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v31 + 152));
  if (*(v31 + 64))
  {
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(*(v31 + 64));
  }

  a25 = v35;
  a24 = 0;
  *(v31 + 136) = v35;
  *(v31 + 128) = &a24;
  *(v31 + 56) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v31 + 136));
  if (*(v31 + 56))
  {
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(*(v31 + 56));
  }

  a27 = v34;
  a26 = 0;
  *(v31 + 120) = v34;
  *(v31 + 112) = &a26;
  *(v31 + 48) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v31 + 120));
  if (*(v31 + 48))
  {
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(*(v31 + 48));
  }

  *(v31 + 8) = v33;
  v38 = *(v31 + 8);
  *v31 = 0;
  *(v31 + 104) = v38;
  *(v31 + 96) = &a28;
  *(v31 + 40) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v31 + 104));
  if (*(v31 + 40))
  {
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(*(v31 + 40));
  }

  std::optional<WebCore::AuthenticationExtensionsClientOutputs>::~optional(v30);
  *(v31 + 24) = v32;
  v39 = *(v31 + 24);
  *(v31 + 16) = 0;
  *(v31 + 88) = v39;
  *(v31 + 80) = &a30;
  *(v31 + 32) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v31 + 88));
  if (*(v31 + 32))
  {
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(*(v31 + 32));
  }

  _Unwind_Resume(a1);
}

_BYTE *std::optional<WebCore::AuthenticationExtensionsClientOutputs>::optional[abi:sn200100](_BYTE *a1)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__optional_move_assign_base[abi:sn200100](a1);
  return a1;
}

{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__optional_move_assign_base[abi:sn200100](a1);
  return a1;
}

WebCore::AuthenticationExtensionsClientOutputs *std::optional<WebCore::AuthenticationExtensionsClientOutputs>::~optional(WebCore::AuthenticationExtensionsClientOutputs *a1)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs>::~optional(a1);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs,false>::~__optional_move_assign_base(a1);
  return a1;
}

_BYTE *std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__optional_destruct_base[abi:sn200100](_BYTE *result)
{
  *result = 0;
  result[80] = 0;
  return result;
}

WebCore::AuthenticationExtensionsClientOutputs *std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs,false>::~__optional_destruct_base[abi:sn200100](WebCore::AuthenticationExtensionsClientOutputs *a1)
{
  if (*(a1 + 80))
  {
    WebCore::AuthenticationExtensionsClientOutputs::~AuthenticationExtensionsClientOutputs(a1);
  }

  return a1;
}

void std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::operator=[abi:sn200100](uint64_t *a1, uint64_t *a2)
{
  v3 = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::release[abi:sn200100](a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::reset[abi:sn200100](a1, v3);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(a2);
}

uint64_t *std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::reset[abi:sn200100](uint64_t *result, uint64_t a2)
{
  v2 = *result;
  *result = a2;
  if (v2)
  {
    return std::default_delete<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::operator()[abi:sn200100](result, v2);
  }

  return result;
}

uint64_t std::default_delete<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::operator()[abi:sn200100](uint64_t a1, uint64_t a2)
{
  result = a2;
  if (a2)
  {
    return (*(*a2 + 8))(a2, a2);
  }

  return result;
}

uint64_t *WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &,void,ASAuthorization *,NSError *>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[6] = a1;
  v6[5] = a4;
  v6[4] = a3;
  v6[3] = a2;
  v6[2] = a4;
  v6[1] = a3;
  WebKit::CtapAuthenticator::makeCredential(void)::$_0::$_0(v6, a2);
  WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(a1, v6);
  return WebKit::CtapHidDriverWorker::transact(fido::FidoHidMessage &&,WTF::Function<void ()(std::optional<fido::FidoHidMessage> &&)> &&)::$_0::~$_0(v6);
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(uint64_t *a1, void *a2, void *a3)
{
  v10 = a1;
  v9 = a2;
  v8 = a3;
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(&v4, a1);
  WTF::retainPtr<ASAuthorization *>(&v5, v9);
  WTF::retainPtr<ASAuthorization *>(&v6, v8);
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>(&v7, &v4);
  WTF::ensureOnMainRunLoop();
  WTF::Function<void ()(void)>::~Function(&v7);
  return WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::~NSError(&v4);
}

void *WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x28uLL, 0x10E004053C0834CuLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::{lambda(void *,ASAuthorization *,NSError *)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::descriptor;
  WebKit::CtapAuthenticator::makeCredential(void)::$_0::$_0(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

uint64_t *WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::{lambda(void *,ASAuthorization *,NSError *)#1}::__invoke(uint64_t a1, void *a2, void *a3)
{
  v7 = a1;
  v6 = a2;
  v5 = a3;
  return WTF::BlockPtr<void ()(ASAuthorization *,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::{lambda(void *,ASAuthorization *,NSError *)#1}::operator()(&v4, a1, a2, a3);
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>,NSError,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::~NSError(uint64_t *a1)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::~NSError(a1);
  return a1;
}

{
  WTF::RetainPtr<WKWebView>::~RetainPtr(a1 + 2);
  WTF::RetainPtr<WKWebView>::~RetainPtr(a1 + 1);
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::~WeakPtr(a1);
  return a1;
}

uint64_t *WTF::RetainPtr<ASAuthorization>::~RetainPtr(uint64_t *a1)
{
  v2 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(a1);
  if (v2)
  {
    WTF::RetainPtr<ASAuthorization>::releaseFoundationPtr(v2);
  }

  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>,NSError,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x20);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135AC8;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::NSError(a1 + 1, a2);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::NSError(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::NSError(a1, a2);
  return a1;
}

{
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(a1, a2);
  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1 + 1, a2 + 1);
  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1 + 2, a2 + 2);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1},void>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135AC8;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::~NSError(a1 + 1);
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

void WebKit::WebAuthenticatorCoordinatorProxy::performRequest(WebKit::WebAuthenticationRequestData &&,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0::operator()(ASAuthorization *,NSError *)::{lambda(void)#1}::operator()(uint64_t *a1)
{
  v143 = a1;
  if (!WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator!(a1))
  {
    v142 = 0u;
    v141 = 0u;
    v140 = 0u;
    v139 = 0u;
    memset(v138, 0, sizeof(v138));
    v137 = 0u;
    WebCore::AuthenticatorResponseData::AuthenticatorResponseData(&v137);
    v135[0] = 31;
    WTF::String::String(&v136, &stru_1F1147748.isa);
    v134 = 0;
    if ([objc_msgSend(std::span<char const 18446744073709551615ul>:"domain") :"isEqualToString:" data[abi:@"WKErrorDomain"sn200100]((a1 + 2))])
    {
      v2 = [std::span<char const 18446744073709551615ul>:"code" :? data[abi:?sn200100]((a1 + 2))];
      v132[0] = WebKit::toExceptionCode(v2);
      v3 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"userInfo") :"objectForKeyedSubscript:" data[abi:*MEMORY[0x1E696A578]sn200100]((a1 + 2))];
      WTF::String::String(&v133, v3);
      WebCore::ExceptionData::operator=(v135, v132);
      WebCore::ExceptionData::~ExceptionData(v132);
    }

    else
    {
      v4 = [std::span<char const 18446744073709551615ul>:"domain" :? data[abi:?sn200100]((a1 + 2))];
      if ([v4 isEqualToString:WebKit::get_AuthenticationServices_ASAuthorizationErrorDomain(v4)])
      {
        v5 = [std::span<char const 18446744073709551615ul>:"code" :? data[abi:?sn200100]((a1 + 2))];
        if (v5 != 1000)
        {
          if (v5 == 1001)
          {
            v122[0] = 31;
            WTF::String::String(&v123, &stru_1F1147748.isa);
            WebCore::ExceptionData::operator=(v135, v122);
            WebCore::ExceptionData::~ExceptionData(v122);
          }

          else if ((v5 - 1002) >= 2)
          {
            if (v5 == 1004)
            {
              v6 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"userInfo") :"objectForKeyedSubscript:" data[abi:*MEMORY[0x1E696AA08]sn200100]((a1 + 2))];
              WTF::retainPtr<ASAuthorization *>(&v130, v6);
              WTF::RetainPtr<NSURLRequest>::RetainPtr(&v131, &v130);
              WTF::RetainPtr<WKWebView>::~RetainPtr(&v130);
              v7 = [std::span<char const 18446744073709551615ul>:"domain" :? data[abi:?sn200100](&v131)];
              if (([v7 isEqualToString:WebKit::get_AuthenticationServicesCore_ASCAuthorizationErrorDomain(v7)] & 1) != 0 && objc_msgSend(std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v131), "code") == 17)
              {
                v128[0] = 14;
                v8 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"userInfo") :"objectForKeyedSubscript:" data[abi:*MEMORY[0x1E696A588]sn200100](&v131)];
                WTF::String::String(&v129, v8);
                WebCore::ExceptionData::operator=(v135, v128);
                WebCore::ExceptionData::~ExceptionData(v128);
              }

              else if ([objc_msgSend(std::span<char const 18446744073709551615ul>:"domain") :"isEqualToString:" data[abi:@"WKErrorDomain"sn200100](&v131)])
              {
                v9 = [std::span<char const 18446744073709551615ul>:"code" :? data[abi:?sn200100](&v131)];
                v126[0] = WebKit::toExceptionCode(v9);
                v10 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"userInfo") :"objectForKeyedSubscript:" data[abi:*MEMORY[0x1E696A578]sn200100](&v131)];
                WTF::String::String(&v127, v10);
                WebCore::ExceptionData::operator=(v135, v126);
                WebCore::ExceptionData::~ExceptionData(v126);
              }

              WTF::RetainPtr<WKWebView>::~RetainPtr(&v131);
            }

            else if (v5 == 1006)
            {
              v124[0] = 8;
              WTF::String::String(&v125, &stru_1F1147748.isa);
              WebCore::ExceptionData::operator=(v135, v124);
              WebCore::ExceptionData::~ExceptionData(v124);
            }
          }
        }
      }

      else
      {
        v11 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
        WebKit::getASAuthorizationPlatformPublicKeyCredentialRegistrationClass[0](v11);
        if (objc_opt_isKindOfClass())
        {
          LOBYTE(v137) = 1;
          v12 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
          WTF::retainPtr<ASAuthorization *>(&v121, v12);
          v13 = [std::span<char const 18446744073709551615ul>:"credentialID" :? data[abi:?sn200100](&v121)];
          WebKit::toArrayBuffer(&v120, v13);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v137 + 1, &v120);
          WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v120);
          v14 = [std::span<char const 18446744073709551615ul>:"rawAttestationObject" :? data[abi:?sn200100](&v121)];
          WebKit::toArrayBuffer(&v119, v14);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v140, &v119);
          WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v119);
          v115[0] = 3;
          v115[1] = 5;
          v116 = v115;
          v117 = 2;
          WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v118, v115, 2);
          WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(&v142, v118);
          WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v118);
          v15 = [std::span<char const 18446744073709551615ul>:"rawClientDataJSON" :? data[abi:?sn200100](&v121)];
          WebKit::toArrayBuffer(&v114, v15);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v139 + 1, &v114);
          WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v114);
          v16 = [std::span<char const 18446744073709551615ul>:"attachment" :? data[abi:?sn200100](&v121)];
          v134 = WebKit::fromASAuthorizationPublicKeyCredentialAttachment(v16, v17);
          v113 = 0;
          WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(v110);
          if ([std::span<char const 18446744073709551615ul>:"largeBlob" :? data[abi:?sn200100](&v121)])
          {
            v113 = 1;
            v106 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"largeBlob") :"isSupported" data[abi:?sn200100](&v121)] & 1;
            std::optional<BOOL>::optional[abi:sn200100]<BOOL,0>(v107, &v106);
            v218 = &v108;
            v217 = 0;
            v220 = &v108;
            v219 = 0;
            v108 = 0;
            std::optional<BOOL>::optional[abi:sn200100](v109);
            std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,void>(&v111, v107);
            WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::~LargeBlobOutputs(v107);
          }

          std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v121);
          if ((objc_opt_respondsToSelector() & 1) != 0 && [std::span<char const 18446744073709551615ul>:"prf" :? data[abi:?sn200100](&v121)])
          {
            v113 = 1;
            v216 = &v105;
            v215 = 0;
            v222 = &v105;
            v221 = 0;
            v105 = 0;
            v214 = &v104;
            v213 = 0;
            v224 = &v104;
            v223 = 0;
            v104 = 0;
            if ([objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"first" data[abi:?sn200100](&v121)])
            {
              v18 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"first" data[abi:?sn200100](&v121)];
              WebKit::toArrayBuffer(&v103, v18);
              WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v105, &v103);
              WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v103);
            }

            if ([objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"second" data[abi:?sn200100](&v121)])
            {
              v19 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"second" data[abi:?sn200100](&v121)];
              WebKit::toArrayBuffer(&v102, v19);
              WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v104, &v102);
              WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v102);
            }

            if (WTF::RefPtr<WebKit::AuthenticatorPresenterCoordinator,WTF::RawPtrTraits<WebKit::AuthenticatorPresenterCoordinator>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorPresenterCoordinator>>::operator BOOL(&v105))
            {
              v99 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"isSupported" data[abi:?sn200100](&v121)] & 1;
              std::optional<BOOL>::optional[abi:sn200100]<BOOL,0>(&v100, &v99);
              v188 = &v97;
              v187 = &v105;
              v190 = &v97;
              v189 = &v105;
              v208 = &v105;
              v203 = v105;
              if (v105)
              {
                WTF::DeferrableRefCountedBase::ref(v203);
              }

              v97 = v203;
              v186 = &v98;
              v185 = &v104;
              v192 = &v98;
              v191 = &v104;
              v207 = &v104;
              v202 = v104;
              if (v104)
              {
                WTF::DeferrableRefCountedBase::ref(v202);
              }

              v98 = v202;
              std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,0>(&v101, &v97);
              std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,void>(v112, &v100);
              WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::~PRFOutputs(&v100);
              WebCore::AuthenticationExtensionsClientOutputs::PRFValues::~PRFValues(&v97);
            }

            else
            {
              v94 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"isSupported" data[abi:?sn200100](&v121)] & 1;
              std::optional<BOOL>::optional[abi:sn200100]<BOOL,0>(&v95, &v94);
              std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](v96);
              std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,void>(v112, &v95);
              WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::~PRFOutputs(&v95);
            }

            v150 = &v104;
            v151[1] = &v104;
            v151[0] = 0;
            v178 = &v104;
            v177 = v151;
            v164 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v104);
            if (v164)
            {
              WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v164);
            }

            v149 = &v105;
            v152[1] = &v105;
            v152[0] = 0;
            v176 = &v105;
            v175 = v152;
            v163 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v105);
            if (v163)
            {
              WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v163);
            }
          }

          if (v113)
          {
            std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs&,void>(v138, v110);
          }

          WebCore::AuthenticationExtensionsClientOutputs::~AuthenticationExtensionsClientOutputs(v110);
          WTF::RetainPtr<WKWebView>::~RetainPtr(&v121);
        }

        else
        {
          v20 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
          WebKit::getASAuthorizationPlatformPublicKeyCredentialAssertionClass[0](v20);
          if (objc_opt_isKindOfClass())
          {
            v21 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
            WTF::retainPtr<ASAuthorization *>(&v93, v21);
            v22 = [std::span<char const 18446744073709551615ul>:"credentialID" :? data[abi:?sn200100](&v93)];
            WebKit::toArrayBuffer(&v92, v22);
            WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v137 + 1, &v92);
            WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v92);
            v23 = [std::span<char const 18446744073709551615ul>:"rawAuthenticatorData" :? data[abi:?sn200100](&v93)];
            WebKit::toArrayBuffer(&v91, v23);
            WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v140 + 1, &v91);
            WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v91);
            v24 = [std::span<char const 18446744073709551615ul>:"signature" :? data[abi:?sn200100](&v93)];
            WebKit::toArrayBuffer(&v90, v24);
            WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v141, &v90);
            WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v90);
            v25 = [std::span<char const 18446744073709551615ul>:"userID" :? data[abi:?sn200100](&v93)];
            WebKit::toArrayBufferNilIfEmpty(&v89, v25);
            WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=(&v141 + 1, &v89);
            v148 = &v89;
            v153[1] = &v89;
            v153[0] = 0;
            v174 = &v89;
            v173 = v153;
            v162 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v89);
            if (v162)
            {
              WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v162);
            }

            v26 = [std::span<char const 18446744073709551615ul>:"rawClientDataJSON" :? data[abi:?sn200100](&v93)];
            WebKit::toArrayBuffer(&v88, v26);
            WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v139 + 1, &v88);
            WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v88);
            v27 = [std::span<char const 18446744073709551615ul>:"attachment" :? data[abi:?sn200100](&v93)];
            v134 = WebKit::fromASAuthorizationPublicKeyCredentialAttachment(v27, v28);
            v87 = 0;
            WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(v84);
            if ([std::span<char const 18446744073709551615ul>:"largeBlob" :? data[abi:?sn200100](&v93)])
            {
              v87 = 1;
              v212 = &v83;
              v211 = 0;
              v226 = &v83;
              v225 = 0;
              v83 = 0;
              if ([objc_msgSend(std::span<char const 18446744073709551615ul>:"largeBlob") :"readData" data[abi:?sn200100](&v93)])
              {
                v29 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"largeBlob") :"readData" data[abi:?sn200100](&v93)];
                WebKit::toArrayBuffer(&v82, v29);
                WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v83, &v82);
                WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v82);
              }

              std::optional<BOOL>::optional[abi:sn200100](v79);
              v184 = &v80;
              v183 = &v83;
              v194 = &v80;
              v193 = &v83;
              v206 = &v83;
              v201 = v83;
              if (v83)
              {
                WTF::DeferrableRefCountedBase::ref(v201);
              }

              v80 = v201;
              v78[0] = [objc_msgSend(std::span<char const 18446744073709551615ul>:"largeBlob") :"didWrite" data[abi:?sn200100](&v93)] & 1;
              std::optional<BOOL>::optional[abi:sn200100]<BOOL,0>(v81, v78);
              std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,void>(&v85, v79);
              WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::~LargeBlobOutputs(v79);
              v147 = &v83;
              v154[1] = &v83;
              v154[0] = 0;
              v172 = &v83;
              v171 = v154;
              v161 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v83);
              if (v161)
              {
                WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v161);
              }
            }

            std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v93);
            if ((objc_opt_respondsToSelector() & 1) != 0 && [std::span<char const 18446744073709551615ul>:"prf" :? data[abi:?sn200100](&v93)])
            {
              v87 = 1;
              v30 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"first" data[abi:?sn200100](&v93)];
              WebKit::toArrayBuffer(&v76, v30);
              WTF::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>,WTF::DefaultRefDerefTraits<WTF::StringImpl>>::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>>(&v77, &v76);
              WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v76);
              v210 = &v75;
              v209 = 0;
              v228 = &v75;
              v227 = 0;
              v75 = 0;
              if ([objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"second" data[abi:?sn200100](&v93)])
              {
                v31 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"prf") :"second" data[abi:?sn200100](&v93)];
                WebKit::toArrayBuffer(&v74, v31);
                WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v75, &v74);
                WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v74);
              }

              std::optional<BOOL>::optional[abi:sn200100](&v72);
              v182 = &v70;
              v181 = &v77;
              v196 = &v70;
              v195 = &v77;
              v205 = &v77;
              v200 = v77;
              if (v77)
              {
                WTF::DeferrableRefCountedBase::ref(v200);
              }

              v70 = v200;
              v180 = v71;
              v179 = &v75;
              v198 = v71;
              v197 = &v75;
              v204 = &v75;
              v199 = v75;
              if (v75)
              {
                WTF::DeferrableRefCountedBase::ref(v199);
              }

              v71[0] = v199;
              std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,0>(&v73, &v70);
              std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,void>(&v86, &v72);
              WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::~PRFOutputs(&v72);
              WebCore::AuthenticationExtensionsClientOutputs::PRFValues::~PRFValues(&v70);
              v146 = &v75;
              v155[1] = &v75;
              v155[0] = 0;
              v170 = &v75;
              v169 = v155;
              v160 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v75);
              if (v160)
              {
                WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v160);
              }

              v145 = &v77;
              v156[1] = &v77;
              v156[0] = 0;
              v168 = &v77;
              v167 = v156;
              v159 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v77);
              if (v159)
              {
                WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v159);
              }
            }

            if (v87)
            {
              std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs&,void>(v138, v84);
            }

            WebCore::AuthenticationExtensionsClientOutputs::~AuthenticationExtensionsClientOutputs(v84);
            WTF::RetainPtr<WKWebView>::~RetainPtr(&v93);
          }

          else
          {
            v32 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
            WebKit::getASAuthorizationSecurityKeyPublicKeyCredentialRegistrationClass[0](v32);
            if (objc_opt_isKindOfClass())
            {
              v33 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
              WTF::retainPtr<ASAuthorization *>(&v69, v33);
              LOBYTE(v137) = 1;
              v34 = [std::span<char const 18446744073709551615ul>:"credentialID" :? data[abi:?sn200100](&v69)];
              WebKit::toArrayBuffer(&v68, v34);
              WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v137 + 1, &v68);
              WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v68);
              v35 = [std::span<char const 18446744073709551615ul>:"rawAttestationObject" :? data[abi:?sn200100](&v69)];
              WebKit::toArrayBuffer(&v67, v35);
              WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v140, &v67);
              WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v67);
              std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v69);
              if (objc_opt_respondsToSelector())
              {
                v36 = [std::span<char const 18446744073709551615ul>:"transports" :? data[abi:?sn200100](&v69)];
                WebKit::toTransports(v66, v36);
                WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(&v142, v66);
                WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v66);
              }

              else
              {
                WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(v65);
                WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(&v142, v65);
                WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v65);
              }

              v37 = [std::span<char const 18446744073709551615ul>:"rawClientDataJSON" :? data[abi:?sn200100](&v69)];
              WebKit::toArrayBuffer(&v64, v37);
              WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v139 + 1, &v64);
              WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v64);
              v134 = 1;
              WTF::RetainPtr<WKWebView>::~RetainPtr(&v69);
            }

            else
            {
              v38 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
              WebKit::getASAuthorizationSecurityKeyPublicKeyCredentialAssertionClass[0](v38);
              if (objc_opt_isKindOfClass())
              {
                v39 = [std::span<char const 18446744073709551615ul>:"credential" :? data[abi:?sn200100]((a1 + 1))];
                WTF::retainPtr<ASAuthorization *>(&v63, v39);
                v40 = [std::span<char const 18446744073709551615ul>:"credentialID" :? data[abi:?sn200100](&v63)];
                WebKit::toArrayBuffer(&v62, v40);
                WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v137 + 1, &v62);
                WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v62);
                v41 = [std::span<char const 18446744073709551615ul>:"rawAuthenticatorData" :? data[abi:?sn200100](&v63)];
                WebKit::toArrayBuffer(&v61, v41);
                WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v140 + 1, &v61);
                WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v61);
                v42 = [std::span<char const 18446744073709551615ul>:"signature" :? data[abi:?sn200100](&v63)];
                WebKit::toArrayBuffer(&v60, v42);
                WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v141, &v60);
                WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v60);
                v43 = [std::span<char const 18446744073709551615ul>:"userID" :? data[abi:?sn200100](&v63)];
                WebKit::toArrayBufferNilIfEmpty(&v59, v43);
                WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=(&v141 + 1, &v59);
                v144 = &v59;
                v157[1] = &v59;
                v157[0] = 0;
                v166 = &v59;
                v165 = v157;
                v158 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v59);
                if (v158)
                {
                  WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v158);
                }

                v44 = [std::span<char const 18446744073709551615ul>:"rawClientDataJSON" :? data[abi:?sn200100](&v63)];
                WebKit::toArrayBuffer(&v58, v44);
                WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v139 + 1, &v58);
                WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v58);
                v134 = 1;
                std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v63);
                if (objc_opt_respondsToSelector())
                {
                  WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(v57);
                  v55 = [std::span<char const 18446744073709551615ul>:"appID" :? data[abi:?sn200100](&v63)] & 1;
                  std::optional<BOOL>::optional[abi:sn200100]<BOOL,0>(&v56, &v55);
                  v57[0] = v56;
                  std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs&,void>(v138, v57);
                  WebCore::AuthenticationExtensionsClientOutputs::~AuthenticationExtensionsClientOutputs(v57);
                }

                WTF::RetainPtr<WKWebView>::~RetainPtr(&v63);
              }
            }
          }
        }
      }
    }

    v45 = WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator BOOL(a1);
    if (v45)
    {
      WebKit::WebAuthenticatorCoordinatorProxy::activeConditionalMediationProxy(v45);
      v47 = WTF::operator==<WebKit::WebAuthenticatorCoordinatorProxy,WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>(v46, a1);
      if (v47)
      {
        WebKit::WebAuthenticatorCoordinatorProxy::activeConditionalMediationProxy(v47);
        WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator=(v48);
      }

      if ((*(WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1) + 56) & 1) == 0)
      {
        v49 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
        WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()((v49 + 32), &v137, v134, v135);
        v50 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
        WTF::RetainPtr<ASCAgentProxy>::clear((v50 + 40));
        v51 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
        WTF::RetainPtr<ASCAgentProxy>::clear((v51 + 48));
        *(WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1) + 57) = 0;
      }

      v52 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
      WTF::CompletionHandler<void ()(void)>::CompletionHandler(&v54, (v52 + 96));
      if (WTF::CompletionHandler<void ()(mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&)>::operator BOOL(&v54))
      {
        WTF::CompletionHandler<void ()(void)>::operator()(&v54);
      }

      WTF::CompletionHandler<void ()(void)>::~CompletionHandler(&v54);
    }

    WebCore::ExceptionData::~ExceptionData(v135);
    WebCore::AuthenticatorResponseData::~AuthenticatorResponseData(&v137, v53);
  }
}

uint64_t WebKit::toExceptionCode(WebKit *this)
{
  if (this > 0x25u)
  {
    return 31;
  }

  else
  {
    return this;
  }
}

WTF::DeferrableRefCountedBase *WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(uint64_t *a1, uint64_t *a2)
{
  v4[2] = a1;
  v4[1] = a2;
  WTF::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>,WTF::DefaultRefDerefTraits<WTF::StringImpl>>::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>>(v4, a2);
  WTF::RefPtr<JSC::ArrayBufferView,WTF::RawPtrTraits<JSC::ArrayBufferView>,WTF::DefaultRefDerefTraits<JSC::ArrayBufferView>>::swap<JSC::ArrayBufferView,WTF::RawPtrTraits<JSC::ArrayBufferView>,WTF::DefaultRefDerefTraits<JSC::ArrayBufferView>>(a1, v4);
  v4[4] = v4;
  v5[1] = v4;
  v5[0] = 0;
  v8 = v4;
  v7 = v5;
  result = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(v4);
  v6 = result;
  if (result)
  {
    return WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v6);
  }

  return result;
}

void sub_19E43FAF8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, int a10, int a11, _Unwind_Exception *exception_object, char a13, uint64_t a14, uint64_t a15, char *a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20)
{
  a16 = &a13;
  *(v20 - 72) = &a13;
  v21 = *(v20 - 72);
  a20 = 0;
  *(v20 - 40) = v21;
  *(v20 - 48) = &a20;
  *(v20 - 64) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v20 - 40));
  if (*(v20 - 64))
  {
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(*(v20 - 64));
  }

  _Unwind_Resume(a1);
}

uint64_t *WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(uint64_t *a1)
{
  WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(a1);
  return a1;
}

{
  v4 = a1;
  v5 = a1;
  v2 = 0;
  v8 = a1;
  v7 = &v2;
  v3 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(a1);
  if (v3)
  {
    v6 = v3;
    WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v3);
  }

  return v5;
}

void WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(uint64_t a1, uint64_t *a2)
{
  if (*(a1 + 12))
  {
    WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(a1);
    WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
    WTF::VectorTypeOperations<unsigned char>::destruct();
  }

  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetBufferSizeToFullCapacity(a1);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetBufferSizeToFullCapacity(a2);
  WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(a1, a2);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
}

WebCore::AuthenticationExtensionsClientOutputs *WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(WebCore::AuthenticationExtensionsClientOutputs *this)
{
  WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(this);
  return this;
}

{
  std::optional<BOOL>::optional[abi:sn200100](this);
  std::optional<BOOL>::optional[abi:sn200100](this + 2);
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100](this + 8);
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](this + 40);
  return this;
}

_BYTE *std::optional<BOOL>::optional[abi:sn200100]<BOOL,0>(_BYTE *a1, _BYTE *a2)
{
  std::optional<BOOL>::optional[abi:sn200100]<BOOL,0>(a1, a2);
  return a1;
}

{
  _ZNSt3__127__optional_move_assign_baseIbLb1EECI2NS_24__optional_destruct_baseIbLb1EEEIJbEEENS_10in_place_tEDpOT_(a1, a2);
  return a1;
}

_BYTE *std::optional<BOOL>::optional[abi:sn200100](_BYTE *a1)
{
  std::optional<BOOL>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::optional<BOOL>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::__optional_move_assign_base<BOOL,true>::__optional_move_assign_base(a1);
  return a1;
}

{
  std::__optional_move_assign_base<BOOL,true>::__optional_move_assign_base(a1);
  return a1;
}

uint64_t std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,0>(uint64_t a1, uint64_t *a2)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,0>(a1, a2);
  return a1;
}

{
  _ZNSt3__127__optional_move_assign_baseIN7WebCore37AuthenticationExtensionsClientOutputs9PRFValuesELb0EECI2NS_24__optional_destruct_baseIS3_Lb0EEEIJS3_EEENS_10in_place_tEDpOT_(a1, a2);
  return a1;
}

void std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,void>(uint64_t a1, _WORD *a2)
{
  if (std::__optional_storage_base<WebCore::SecurityOriginData,false>::has_value[abi:sn200100](a1))
  {
    std::__to_address[abi:sn200100]<char const>();
    WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::operator=(v3, a2);
  }

  else
  {
    std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>(a1, a2);
  }
}

_BYTE *std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](_BYTE *a1)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__optional_move_assign_base[abi:sn200100](a1);
  return a1;
}

WebCore::AuthenticationExtensionsClientOutputs *std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs&,void>(WebCore::AuthenticationExtensionsClientOutputs *a1, const WebCore::AuthenticationExtensionsClientOutputs *a2)
{
  if ((std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs,false>::has_value[abi:sn200100](a1) & 1) == 0)
  {
    return std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs&>(a1, a2);
  }

  std::__to_address[abi:sn200100]<char const>();
  return WebCore::AuthenticationExtensionsClientOutputs::operator=(v3, a2);
}

uint64_t *WebKit::toArrayBufferNilIfEmpty(uint64_t *this, NSData *a2)
{
  v2 = this;
  v6 = this;
  v5 = a2;
  if (a2 && (this = [(WTF *)v5 length]) != 0)
  {
    WTF::span(v5, v3);
    JSC::ArrayBuffer::create();
    WTF::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>,WTF::DefaultRefDerefTraits<WTF::StringImpl>>::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>>(v2, &v4);
    return WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v4);
  }

  else
  {
    v7 = 0;
    *v2 = 0;
  }

  return this;
}

uint64_t WebKit::toTransports(uint64_t a1, void *a2)
{
  v36 = *MEMORY[0x1E69E9840];
  v22 = a1;
  v21 = a2;
  v20 = 0;
  WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a1);
  v18 = 0u;
  v17 = 0u;
  v16 = 0u;
  v15 = 0u;
  v3 = v21;
  result = [v21 countByEnumeratingWithState:&v15 objects:v35 count:16];
  v5 = result;
  if (result)
  {
    v6 = *v16;
    do
    {
      v7 = 0;
      do
      {
        if (*v16 != v6)
        {
          objc_enumerationMutation(v3);
        }

        v19 = 0;
        v19 = *(*(&v15 + 1) + 8 * v7);
        WTF::String::String(&v13, v19);
        v14 = WebCore::convertStringToAuthenticatorTransport(&v13, v8);
        v23 = &v13;
        v24 = &v13;
        v25 = &v13;
        v26[1] = &v13;
        v26[0] = 0;
        v29 = &v13;
        v28 = v26;
        v27 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v13);
        if (v27)
        {
          WTF::StringImpl::deref(v27);
        }

        if (std::optional<WebCore::MediationRequirement>::operator BOOL[abi:sn200100](&v14))
        {
          std::optional<WebCore::MediationRequirement>::operator*[abi:sn200100](&v14);
          v31 = a1;
          v30 = v9;
          v33 = a1;
          v32 = v9;
          v10 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v10 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v32);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v11 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v12 = operator new(1, 0, v11);
            *v12 = *v32;
            ++*(a1 + 12);
          }

          v34 = 1;
        }

        ++v7;
      }

      while (v7 < v5);
      result = [v3 countByEnumeratingWithState:&v15 objects:v35 count:16];
      v5 = result;
    }

    while (result);
  }

  return result;
}

uint64_t WTF::span(WTF *this, NSData *a2)
{
  if (this)
  {
    v2 = WTF::unsafeMakeSpan<char const,18446744073709551615ul>([(WTF *)this bytes], [(WTF *)this length]);
    v5[1] = v3;
    v5[0] = v2;
  }

  else
  {
    std::span<unsigned char,18446744073709551615ul>::span[abi:sn200100](v5);
  }

  return v5[0];
}

_BYTE *std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100](_BYTE *a1)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_move_assign_base[abi:sn200100](a1);
  return a1;
}

_BYTE *std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](_BYTE *a1)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::__optional_move_assign_base[abi:sn200100](a1);
  return a1;
}

_BYTE *std::__optional_destruct_base<BOOL,true>::__optional_destruct_base[abi:sn200100]<BOOL>(_BYTE *result, _BYTE *a2)
{
  *result = *a2 & 1;
  result[1] = 1;
  return result;
}

uint64_t *WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::operator=(uint64_t a1, uint64_t a2)
{
  *a1 = *a2;
  result = WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=((a1 + 8), (a2 + 8));
  *(a1 + 16) = *(a2 + 16);
  return result;
}

uint64_t std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>(uint64_t a1, uint64_t a2)
{
  result = std::__construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs*>(a1, a2);
  *(a1 + 24) = 1;
  return result;
}

uint64_t std::construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs*>(uint64_t a1, uint64_t a2)
{
  if (!a1)
  {
    __break(1u);
  }

  return WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::LargeBlobOutputs(a1, a2);
}

uint64_t WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::LargeBlobOutputs(uint64_t a1, uint64_t a2)
{
  WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::LargeBlobOutputs(a1, a2);
  return a1;
}

{
  *a1 = *a2;
  *(a1 + 8) = WTF::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>,WTF::DefaultRefDerefTraits<WTF::StringImpl>>::leakRef((a2 + 8));
  *(a1 + 16) = *(a2 + 16);
  return a1;
}

uint64_t std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__optional_destruct_base[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>(uint64_t a1, uint64_t *a2)
{
  WebCore::AuthenticationExtensionsClientOutputs::PRFValues::PRFValues(a1, a2);
  *(a1 + 16) = 1;
  return a1;
}

uint64_t *WebCore::AuthenticationExtensionsClientOutputs::PRFValues::PRFValues(uint64_t *a1, uint64_t *a2)
{
  WebCore::AuthenticationExtensionsClientOutputs::PRFValues::PRFValues(a1, a2);
  return a1;
}

{
  *a1 = WTF::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>,WTF::DefaultRefDerefTraits<WTF::StringImpl>>::leakRef(a2);
  a1[1] = WTF::RefPtr<WTF::StringImpl,WTF::RawPtrTraits<WTF::StringImpl>,WTF::DefaultRefDerefTraits<WTF::StringImpl>>::leakRef(a2 + 1);
  return a1;
}

uint64_t std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>(uint64_t a1, _WORD *a2)
{
  result = std::__construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs*>(a1, a2);
  *(a1 + 32) = 1;
  return result;
}

void std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>>(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 16) & 1;
  if (v3 == (std::__optional_storage_base<WebCore::BufferSource,false>::has_value[abi:sn200100](a2) & 1))
  {
    if (*(a1 + 16))
    {
      std::__to_address[abi:sn200100]<char const>();
      WebCore::AuthenticationExtensionsClientOutputs::PRFValues::operator=(a1, v4);
    }
  }

  else if (*(a1 + 16))
  {
    std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::reset[abi:sn200100](a1);
  }

  else
  {
    std::__to_address[abi:sn200100]<char const>();
    std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>(a1, v5);
  }
}

void std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::reset[abi:sn200100](WebCore::AuthenticationExtensionsClientOutputs::PRFValues *a1)
{
  if (*(a1 + 16))
  {
    WebCore::AuthenticationExtensionsClientOutputs::PRFValues::~PRFValues(a1);
    *(a1 + 16) = 0;
  }
}

uint64_t *std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>(uint64_t a1, uint64_t *a2)
{
  result = std::__construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,WebCore::AuthenticationExtensionsClientOutputs::PRFValues,WebCore::AuthenticationExtensionsClientOutputs::PRFValues*>(a1, a2);
  *(a1 + 16) = 1;
  return result;
}

uint64_t *std::construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,WebCore::AuthenticationExtensionsClientOutputs::PRFValues,WebCore::AuthenticationExtensionsClientOutputs::PRFValues*>(uint64_t *a1, uint64_t *a2)
{
  if (!a1)
  {
    __break(1u);
  }

  return WebCore::AuthenticationExtensionsClientOutputs::PRFValues::PRFValues(a1, a2);
}

uint64_t std::construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs*>(uint64_t a1, _WORD *a2)
{
  if (!a1)
  {
    __break(1u);
  }

  return WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::PRFOutputs(a1, a2);
}

uint64_t WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::PRFOutputs(uint64_t a1, _WORD *a2)
{
  WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::PRFOutputs(a1, a2);
  return a1;
}

{
  *a1 = *a2;
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100]((a1 + 8), (a2 + 4));
  return a1;
}

_BYTE *std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__optional_move_assign_base[abi:sn200100](a1, a2);
  return a1;
}

_BYTE *std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__optional_move_base[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::__optional_copy_base<WebCore::BufferSource,false>::__optional_copy_base[abi:sn200100](a1);
  std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__construct_from[abi:sn200100]<std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>>(a1, a2);
  return a1;
}

uint64_t std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__construct_from[abi:sn200100]<std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>>(uint64_t a1, uint64_t a2)
{
  result = std::__optional_storage_base<WebCore::BufferSource,false>::has_value[abi:sn200100](a2);
  if (result)
  {
    std::__to_address[abi:sn200100]<char const>();
    return std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFValues,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>(a1, v4);
  }

  return result;
}

uint64_t WebCore::AuthenticationExtensionsClientOutputs::operator=(_DWORD *a1, uint64_t a2)
{
  *a1 = *a2;
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::operator=[abi:sn200100]((a1 + 2), a2 + 8);
  return std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::operator=[abi:sn200100]((a1 + 10), (a2 + 40));
}

WebCore::AuthenticationExtensionsClientOutputs *std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs&>(WebCore::AuthenticationExtensionsClientOutputs *a1, const WebCore::AuthenticationExtensionsClientOutputs *a2)
{
  result = std::__construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs,WebCore::AuthenticationExtensionsClientOutputs&,WebCore::AuthenticationExtensionsClientOutputs*>(a1, a2);
  *(a1 + 80) = 1;
  return result;
}

void std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::reset[abi:sn200100](WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs *a1)
{
  if (*(a1 + 24))
  {
    WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::~LargeBlobOutputs(a1);
    *(a1 + 24) = 0;
  }
}

_WORD *std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs const&>(uint64_t a1, uint64_t a2)
{
  result = std::__construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs const&,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs*>(a1, a2);
  *(a1 + 24) = 1;
  return result;
}

_WORD *std::construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs const&,WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs*>(_WORD *a1, uint64_t a2)
{
  if (!a1)
  {
    __break(1u);
  }

  return WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::LargeBlobOutputs(a1, a2);
}

_WORD *WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::LargeBlobOutputs(_WORD *a1, uint64_t a2)
{
  WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::LargeBlobOutputs(a1, a2);
  return a1;
}

{
  *a1 = *a2;
  v3 = a1 + 4;
  v6 = *(a2 + 8);
  if (v6)
  {
    WTF::DeferrableRefCountedBase::ref(v6);
  }

  *v3 = v6;
  a1[8] = *(a2 + 16);
  return a1;
}

void std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::reset[abi:sn200100](WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs *a1)
{
  if (*(a1 + 32))
  {
    WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::~PRFOutputs(a1);
    *(a1 + 32) = 0;
  }
}

WebCore::AuthenticationExtensionsClientOutputs *std::construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs,WebCore::AuthenticationExtensionsClientOutputs&,WebCore::AuthenticationExtensionsClientOutputs*>(WebCore::AuthenticationExtensionsClientOutputs *a1, const WebCore::AuthenticationExtensionsClientOutputs *a2)
{
  if (!a1)
  {
    __break(1u);
  }

  return WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(a1, a2);
}

WebCore::AuthenticationExtensionsClientOutputs *WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(WebCore::AuthenticationExtensionsClientOutputs *this, const WebCore::AuthenticationExtensionsClientOutputs *a2)
{
  WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(this, a2);
  return this;
}

{
  *this = *a2;
  v3 = this + 40;
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100](this + 8, a2 + 8);
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](v3, a2 + 40);
  return this;
}

_BYTE *std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_move_assign_base[abi:sn200100](a1, a2);
  return a1;
}

{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_move_assign_base[abi:sn200100](a1, a2);
  return a1;
}

_BYTE *std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::__optional_move_assign_base[abi:sn200100](a1, a2);
  return a1;
}

_BYTE *std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_move_assign_base[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::__optional_copy_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_copy_assign_base[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_copy_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_copy_assign_base[abi:sn200100](a1, a2);
  return a1;
}

_BYTE *std::__optional_copy_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_copy_assign_base[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_move_base[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_move_base[abi:sn200100](a1, a2);
  return a1;
}

_BYTE *std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_move_base[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::__optional_copy_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_copy_base[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_copy_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_copy_base[abi:sn200100](a1);
  std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct_from[abi:sn200100]<std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>>(a1, a2);
  return a1;
}

_BYTE *std::__optional_copy_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__optional_copy_base[abi:sn200100](_BYTE *a1, uint64_t a2)
{
  std::__optional_storage_base<fido::PinParameters,false>::__optional_storage_base(a1);
  std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct_from[abi:sn200100]<std::__optional_copy_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false> const&>(a1, a2);
  return a1;
}

uint64_t std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct_from[abi:sn200100]<std::__optional_copy_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false> const&>(uint64_t a1, uint64_t a2)
{
  result = std::__optional_storage_base<fido::PinParameters,false>::has_value[abi:sn200100](a2);
  if (result)
  {
    std::__to_address[abi:sn200100]<char const>();
    return std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs const&>(a1, v4);
  }

  return result;
}

_BYTE *WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(uint64_t a1, unint64_t a2)
{
  v3 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
  v7 = WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, v3 + 1, a2);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  v4 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
  result = operator new(1, 0, v4);
  *result = *v7;
  ++*(a1 + 12);
  return result;
}

WTF::ThreadSafeRefCountedBase *WTF::RefPtr<WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>,WTF::DefaultRefDerefTraits<WTF::DefaultWeakPtrImpl>>::operator=(uint64_t *a1)
{
  v2[2] = a1;
  v2[1] = 0;
  v2[0] = 0;
  v2[4] = a1;
  v2[3] = v2;
  result = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(a1);
  v3 = result;
  if (result)
  {
    return WTF::ThreadSafeRefCounted<WTF::DefaultWeakPtrImpl,(WTF::DestructionThread)0>::deref(v3);
  }

  return result;
}

uint64_t *WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&,void,objc_object  {objcproto21ASCCredentialProtocol}*,NSError *>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[7] = a1;
  v6[6] = a4;
  v6[5] = a3;
  v6[4] = a2;
  v6[3] = a4;
  v6[2] = a3;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::$_0(v6, a2);
  WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(a1, v6);
  return WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::~$_0(v6);
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(uint64_t a1, void *a2, void *a3)
{
  v12 = a1;
  v11 = a2;
  v10 = a3;
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(&v5, a1);
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(&v6, (a1 + 8));
  WTF::retainPtr<ASAuthorization *>(&v7, v11);
  WTF::retainPtr<ASAuthorization *>(&v8, v10);
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>(&v9, &v5);
  WTF::ensureOnMainRunLoop();
  WTF::Function<void ()(void)>::~Function(&v9);
  return WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::~NSError(&v5);
}

void *WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x30uLL, 0x10E0040FAC56454uLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::{lambda(void *,objc_object  {objcproto21ASCCredentialProtocol},NSError)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::descriptor;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::$_0(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::$_0(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::$_0(a1, a2);
  return a1;
}

{
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(a1, a2);
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(a1 + 1, a2 + 1);
  return a1;
}

uint64_t *WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::{lambda(void *,objc_object  {objcproto21ASCCredentialProtocol},NSError)#1}::__invoke(uint64_t a1, void *a2, void *a3)
{
  v7 = a1;
  v6 = a2;
  v5 = a3;
  return WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_0)::{lambda(void *,objc_object  {objcproto21ASCCredentialProtocol},NSError)#1}::operator()(&v4, a1, a2, a3);
}

WTF::ThreadLikeAssertion *WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~CompletionHandler(WTF::ThreadLikeAssertion *a1)
{
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~CompletionHandler(a1);
  return a1;
}

{
  v4 = a1;
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::operator=();
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(a1);
  WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~Function(a1);
  return a1;
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>,NSError,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::~NSError(uint64_t *a1)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::~NSError(a1);
  return a1;
}

{
  WTF::RetainPtr<WKWebView>::~RetainPtr(a1 + 3);
  WTF::RetainPtr<WKWebView>::~RetainPtr(a1 + 2);
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~CompletionHandler((a1 + 1));
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::~WeakPtr(a1);
  return a1;
}

void sub_19E442384(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, _Unwind_Exception *exception_object)
{
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(v11);
  WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~Function(v11);
  _Unwind_Resume(a1);
}

uint64_t *WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~Function(uint64_t *a1)
{
  WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~Function(a1);
  return a1;
}

{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::~unique_ptr[abi:sn200100](a1);
  return a1;
}

uint64_t *std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::~unique_ptr[abi:sn200100](uint64_t *a1)
{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::~unique_ptr[abi:sn200100](a1);
  return a1;
}

{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&>>::reset[abi:sn200100](a1, 0);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>,NSError,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x28);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135B10;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::NSError(a1 + 1, a2);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::NSError(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::NSError(a1, a2);
  return a1;
}

{
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(a1, a2);
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(a1 + 1, a2 + 1);
  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1 + 2, a2 + 2);
  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1 + 3, a2 + 3);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135B10;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::~NSError(a1 + 1);
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

void WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::operator()(uint64_t a1)
{
  v18 = a1;
  if (WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator!(a1))
  {
    memset(v17, 0, sizeof(v17));
    WebCore::AuthenticatorResponseData::AuthenticatorResponseData(v17);
    v15[0] = 31;
    v13 = WTF::StringLiterals::operator"" _s("Operation failed.", 0x11);
    v14 = v2;
    WTF::String::String(&v16, v13, v2);
    WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()((a1 + 8), v17, 0, v15);
    WebCore::ExceptionData::~ExceptionData(v15);
    WebCore::AuthenticatorResponseData::~AuthenticatorResponseData(v17, v3);
    oslog = qword_1ED641530;
    v11 = 16;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      v4 = oslog;
      v5 = v11;
      __os_log_helper_16_0_0(buf);
      _os_log_error_impl(&dword_19D52D000, v4, v5, "Request cancelled after WebAuthenticatorCoordinatorProxy invalid after starting request.", buf, 2u);
    }
  }

  else
  {
    WTF::RetainPtr<objc_object  {objcproto21ASCCredentialProtocol}*>::RetainPtr<objc_object>(&v9, a1 + 16);
    WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v8, (a1 + 24));
    WebKit::continueAfterRequest(&v9, &v8, (a1 + 8));
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v8);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v9);
    v6 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
    if (std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100]((v6 + 88)))
    {
      v7 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
      WTF::RetainPtr<ASCAgentProxy>::clear((v7 + 88));
    }
  }
}

void WebKit::continueAfterRequest(uint64_t a1, uint64_t a2, WTF::RefCountedBase *a3)
{
  v75 = *MEMORY[0x1E69E9840];
  v63 = a1;
  v62 = a2;
  v61 = a3;
  v60 = 0u;
  v59 = 0u;
  v58 = 0u;
  v57 = 0u;
  memset(v56, 0, sizeof(v56));
  v55 = 0u;
  WebCore::AuthenticatorResponseData::AuthenticatorResponseData(&v55);
  v53[0] = 0;
  v54 = 0;
  WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(&v54);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(v52);
  v5 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
  WebKit::getASCPlatformPublicKeyCredentialRegistrationClass[0](v5);
  if (objc_opt_isKindOfClass())
  {
    LOBYTE(v55) = 1;
    v51 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
    WebKit::toArrayBuffer(&v50, [v51 credentialID]);
    WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v55 + 1, &v50);
    WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v50);
    WebKit::toArrayBuffer(&v49, [v51 attestationObject]);
    WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v58, &v49);
    WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v49);
    WebKit::toArrayBuffer(&v48, [v51 rawClientDataJSON]);
    WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v57 + 1, &v48);
    WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v48);
    WTF::RetainPtr<NSString>::operator=(v52, [v51 attachment]);
    if (objc_opt_respondsToSelector())
    {
      WebKit::toAuthenticatorTransports(v47, [v51 transports]);
      WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(&v60, v47);
      WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v47);
    }

    if (objc_opt_respondsToSelector())
    {
      WebKit::toExtensionOutputs(v46, [v51 extensionOutputsCBOR]);
      std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100](v56, v46);
      std::optional<WebCore::AuthenticationExtensionsClientOutputs>::~optional(v46);
    }
  }

  else
  {
    v6 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
    WebKit::getASCSecurityKeyPublicKeyCredentialRegistrationClass[0](v6);
    if (objc_opt_isKindOfClass())
    {
      LOBYTE(v55) = 1;
      v45 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
      WebKit::toArrayBuffer(&v44, [v45 credentialID]);
      WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v55 + 1, &v44);
      WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v44);
      WebKit::toArrayBuffer(&v43, [v45 attestationObject]);
      WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v58, &v43);
      WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v43);
      WebKit::toArrayBuffer(&v42, [v45 rawClientDataJSON]);
      WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v57 + 1, &v42);
      WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v42);
      WTF::RetainPtr<NSString>::operator=(v52, [v45 attachment]);
      if (objc_opt_respondsToSelector())
      {
        WebKit::toAuthenticatorTransports(v41, [v45 transports]);
        WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(&v60, v41);
        WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v41);
      }

      if (objc_opt_respondsToSelector())
      {
        WebKit::toExtensionOutputs(v40, [v45 extensionOutputsCBOR]);
        std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100](v56, v40);
        std::optional<WebCore::AuthenticationExtensionsClientOutputs>::~optional(v40);
      }
    }

    else
    {
      v7 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
      WebKit::getASCPlatformPublicKeyCredentialAssertionClass[0](v7);
      if (objc_opt_isKindOfClass())
      {
        LOBYTE(v55) = 0;
        v39 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
        WebKit::toArrayBuffer(&v38, [v39 credentialID]);
        WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v55 + 1, &v38);
        WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v38);
        WebKit::toArrayBuffer(&v37, [v39 authenticatorData]);
        WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v58 + 1, &v37);
        WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v37);
        WebKit::toArrayBuffer(&v36, [v39 signature]);
        WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v59, &v36);
        WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v36);
        WebKit::toArrayBufferNilIfEmpty(&v35, [v39 userHandle]);
        WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=(&v59 + 1, &v35);
        v65 = &v35;
        v66[1] = &v35;
        v66[0] = 0;
        v73 = &v35;
        v72 = v66;
        v69 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v35);
        if (v69)
        {
          WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v69);
        }

        WebKit::toArrayBuffer(&v34, [v39 rawClientDataJSON]);
        WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v57 + 1, &v34);
        WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v34);
        WTF::RetainPtr<NSString>::operator=(v52, [v39 attachment]);
        if (objc_opt_respondsToSelector())
        {
          WebKit::toExtensionOutputs(v33, [v39 extensionOutputsCBOR]);
          std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100](v56, v33);
          std::optional<WebCore::AuthenticationExtensionsClientOutputs>::~optional(v33);
        }
      }

      else
      {
        v8 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
        WebKit::getASCSecurityKeyPublicKeyCredentialAssertionClass[0](v8);
        if (objc_opt_isKindOfClass())
        {
          LOBYTE(v55) = 0;
          v32 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
          WebKit::toArrayBuffer(&v31, [v32 credentialID]);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v55 + 1, &v31);
          WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v31);
          WebKit::toArrayBuffer(&v30, [v32 authenticatorData]);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v58 + 1, &v30);
          WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v30);
          WebKit::toArrayBuffer(&v29, [v32 signature]);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v59, &v29);
          WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v29);
          WebKit::toArrayBufferNilIfEmpty(&v28, [v32 userHandle]);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=(&v59 + 1, &v28);
          v64 = &v28;
          v67[1] = &v28;
          v67[0] = 0;
          v71 = &v28;
          v70 = v67;
          v68 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v28);
          if (v68)
          {
            WTF::DeferrableRefCounted<JSC::ArrayBuffer>::deref(v68);
          }

          WebKit::toArrayBuffer(&v27, [v32 rawClientDataJSON]);
          WTF::RefPtr<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::operator=<JSC::ArrayBuffer>(&v57 + 1, &v27);
          WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v27);
          WTF::RetainPtr<NSString>::operator=(v52, [v32 attachment]);
          if (objc_opt_respondsToSelector())
          {
            WebKit::toExtensionOutputs(v26, [v32 extensionOutputsCBOR]);
            std::optional<WebCore::AuthenticationExtensionsClientOutputs>::operator=[abi:sn200100](v56, v26);
            std::optional<WebCore::AuthenticationExtensionsClientOutputs>::~optional(v26);
          }
        }

        else
        {
          v25 = 0;
          std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v24);
          if ([objc_msgSend(std::span<char const 18446744073709551615ul>:"domain") :"isEqualToString:" data[abi:@"WKErrorDomain"sn200100](a2)])
          {
            v9 = [std::span<char const 18446744073709551615ul>:"code" :? data[abi:?sn200100](a2)];
            v25 = WebKit::toExceptionCode(v9);
            v10 = [objc_msgSend(std::span<char const 18446744073709551615ul>:"userInfo") :"objectForKeyedSubscript:" data[abi:*MEMORY[0x1E696A578]sn200100](a2)];
            WTF::RetainPtr<NSString>::operator=<objc_object>(&v24, v10);
          }

          else
          {
            v25 = 31;
            v11 = [std::span<char const 18446744073709551615ul>:"domain" :? data[abi:?sn200100](a2)];
            if (([v11 isEqualToString:WebKit::get_AuthenticationServicesCore_ASCAuthorizationErrorDomain(v11)] & 1) != 0 && objc_msgSend(std::span<char const,18446744073709551615ul>::data[abi:sn200100](a2), "code") == 2)
            {
              WTF::RetainPtr<NSString>::operator=(&v24, @"This request has been cancelled by the user.");
              oslog = qword_1ED641530;
              v22 = 16;
              if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
              {
                v12 = oslog;
                v13 = v22;
                __os_log_helper_16_0_0(buf);
                _os_log_error_impl(&dword_19D52D000, v12, v13, "Request cancelled after ASCAuthorizationErrorUserCanceled.", buf, 2u);
              }
            }

            else
            {
              WTF::RetainPtr<NSString>::operator=(&v24, @"Operation failed.");
              v20 = qword_1ED641530;
              v19 = OS_LOG_TYPE_ERROR;
              if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
              {
                v14 = [std::span<char const 18446744073709551615ul>:"localizedDescription" :? data[abi:?sn200100](a2)];
                __os_log_helper_16_2_1_8_64(v74, v14);
                _os_log_error_impl(&dword_19D52D000, v20, v19, "Request cancelled after error: %@.", v74, 0xCu);
              }
            }
          }

          v17[0] = v25;
          v15 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v24);
          WTF::String::String(&v18, v15);
          WebCore::ExceptionData::operator=(v53, v17);
          WebCore::ExceptionData::~ExceptionData(v17);
          WTF::RetainPtr<WKWebView>::~RetainPtr(&v24);
        }
      }
    }
  }

  if ([std::span<char const 18446744073709551615ul>:"isEqualToString:" :@"platform" data[abi:?sn200100](v52)])
  {
    WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(v61, &v55, 0, v53);
  }

  else
  {
    WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator()(v61, &v55, 1, v53);
  }

  WTF::RetainPtr<WKWebView>::~RetainPtr(v52);
  WebCore::ExceptionData::~ExceptionData(v53);
  WebCore::AuthenticatorResponseData::~AuthenticatorResponseData(&v55, v16);
}

void **WTF::RetainPtr<objc_object  {objcproto21ASCCredentialProtocol}*>::RetainPtr<objc_object>(void **a1, uint64_t a2)
{
  v3 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a2);
  WTF::RetainPtr<NSString>::RetainPtr(a1, v3);
  return a1;
}

uint64_t *WTF::RetainPtr<NSString>::operator=(void *a1, void *a2)
{
  v4[2] = a1;
  v4[1] = a2;
  WTF::RetainPtr<NSString>::RetainPtr(v4, a2);
  WTF::RetainPtr<NSURLRequest>::swap(a1, v4);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(v4);
}

uint64_t WebKit::toAuthenticatorTransports(uint64_t a1, void *a2)
{
  v96 = *MEMORY[0x1E69E9840];
  v43 = a1;
  v42 = a2;
  v41 = 0;
  WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a1);
  v45 = a1;
  v44 = [v42 count];
  WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveInitialCapacity<(WTF::FailureAction)0>(a1, v44);
  v39 = 0u;
  v38 = 0u;
  v37 = 0u;
  v36 = 0u;
  v3 = v42;
  result = [v42 countByEnumeratingWithState:&v36 objects:v95 count:16];
  v5 = result;
  if (result)
  {
    v6 = *v37;
    do
    {
      v7 = 0;
      do
      {
        if (*v37 != v6)
        {
          objc_enumerationMutation(v3);
        }

        v40 = 0;
        v40 = *(*(&v36 + 1) + 8 * v7);
        if ([v40 isEqualToString:@"usb"])
        {
          v35 = 0;
          v59 = a1;
          v58 = &v35;
          v61 = a1;
          v60 = &v35;
          v93 = a1;
          v92 = &v35;
          v8 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v8 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v92);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v9 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v10 = operator new(1, 0, v9);
            *v10 = *v92;
            ++*(a1 + 12);
          }

          v94 = 1;
        }

        else if ([v40 isEqualToString:@"nfc"])
        {
          v34 = 1;
          v57 = a1;
          v56 = &v34;
          v63 = a1;
          v62 = &v34;
          v90 = a1;
          v89 = &v34;
          v11 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v11 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v89);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v12 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v13 = operator new(1, 0, v12);
            *v13 = *v89;
            ++*(a1 + 12);
          }

          v91 = 1;
        }

        else if ([v40 isEqualToString:@"ble"])
        {
          v33 = 2;
          v55 = a1;
          v54 = &v33;
          v65 = a1;
          v64 = &v33;
          v87 = a1;
          v86 = &v33;
          v14 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v14 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v86);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v15 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v16 = operator new(1, 0, v15);
            *v16 = *v86;
            ++*(a1 + 12);
          }

          v88 = 1;
        }

        else if ([v40 isEqualToString:@"internal"])
        {
          v32 = 3;
          v53 = a1;
          v52 = &v32;
          v67 = a1;
          v66 = &v32;
          v84 = a1;
          v83 = &v32;
          v17 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v17 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v83);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v18 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v19 = operator new(1, 0, v18);
            *v19 = *v83;
            ++*(a1 + 12);
          }

          v85 = 1;
        }

        else if ([v40 isEqualToString:@"cable"])
        {
          v31 = 4;
          v51 = a1;
          v50 = &v31;
          v69 = a1;
          v68 = &v31;
          v81 = a1;
          v80 = &v31;
          v20 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v20 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v80);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v21 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v22 = operator new(1, 0, v21);
            *v22 = *v80;
            ++*(a1 + 12);
          }

          v82 = 1;
        }

        else if ([v40 isEqualToString:@"hybrid"])
        {
          v30 = 5;
          v49 = a1;
          v48 = &v30;
          v71 = a1;
          v70 = &v30;
          v78 = a1;
          v77 = &v30;
          v23 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v23 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v77);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v24 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v25 = operator new(1, 0, v24);
            *v25 = *v77;
            ++*(a1 + 12);
          }

          v79 = 1;
        }

        else if ([v40 isEqualToString:@"smartCard"])
        {
          v29 = 6;
          v47 = a1;
          v46 = &v29;
          v73 = a1;
          v72 = &v29;
          v75 = a1;
          v74 = &v29;
          v26 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
          if (v26 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(a1))
          {
            WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WebCore::AuthenticatorTransport&>(a1, v74);
          }

          else
          {
            WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
            v27 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
            v28 = operator new(1, 0, v27);
            *v28 = *v74;
            ++*(a1 + 12);
          }

          v76 = 1;
        }

        ++v7;
      }

      while (v7 < v5);
      result = [v3 countByEnumeratingWithState:&v36 objects:v95 count:16];
      v5 = result;
    }

    while (result);
  }

  return result;
}

_BYTE *WebKit::toExtensionOutputs(WebKit *this, NSData *a2)
{
  v5 = this;
  v4 = a2;
  if (!a2)
  {
    return std::optional<WebCore::AuthenticationExtensionsClientOutputs>::optional[abi:sn200100](this);
  }

  WTF::makeVector(v3, v4);
  WebCore::AuthenticationExtensionsClientOutputs::fromCBOR();
  return WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v3);
}

uint64_t *WTF::RetainPtr<NSString>::operator=<objc_object>(void *a1, void *a2)
{
  v4[2] = a1;
  v4[1] = a2;
  WTF::RetainPtr<NSString>::RetainPtr(v4, a2);
  WTF::RetainPtr<NSURLRequest>::swap(a1, v4);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(v4);
}

double __os_log_helper_16_2_1_8_64(uint64_t a1, uint64_t a2)
{
  *&result = 138412290;
  *a1 = 138412290;
  *(a1 + 4) = a2;
  return result;
}

void std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs,false>>(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 80) & 1;
  if (v3 == (std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs,false>::has_value[abi:sn200100](a2) & 1))
  {
    if (*(a1 + 80))
    {
      std::__to_address[abi:sn200100]<char const>();
      WebCore::AuthenticationExtensionsClientOutputs::operator=(a1, v4);
    }
  }

  else if (*(a1 + 80))
  {
    std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs,false>::reset[abi:sn200100](a1);
  }

  else
  {
    std::__to_address[abi:sn200100]<char const>();
    std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs>(a1, v5);
  }
}

void WebCore::AuthenticationExtensionsClientOutputs::operator=(_DWORD *a1, _DWORD *a2)
{
  *a1 = *a2;
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::operator=[abi:sn200100]((a1 + 2), (a2 + 2));
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::operator=[abi:sn200100]((a1 + 10), (a2 + 10));
}

void std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs,false>::reset[abi:sn200100](WebCore::AuthenticationExtensionsClientOutputs *a1)
{
  if (*(a1 + 80))
  {
    WebCore::AuthenticationExtensionsClientOutputs::~AuthenticationExtensionsClientOutputs(a1);
    *(a1 + 80) = 0;
  }
}

uint64_t std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs>(uint64_t a1, _DWORD *a2)
{
  result = std::__construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs,WebCore::AuthenticationExtensionsClientOutputs,WebCore::AuthenticationExtensionsClientOutputs*>(a1, a2);
  *(a1 + 80) = 1;
  return result;
}

void std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>>(WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs *a1, uint64_t a2)
{
  v3 = *(a1 + 24) & 1;
  if (v3 == (std::__optional_storage_base<fido::PinParameters,false>::has_value[abi:sn200100](a2) & 1))
  {
    if (*(a1 + 24))
    {
      std::__to_address[abi:sn200100]<char const>();
      WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs::operator=(a1, v4);
    }
  }

  else if (*(a1 + 24))
  {
    std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::reset[abi:sn200100](a1);
  }

  else
  {
    std::__to_address[abi:sn200100]<char const>();
    std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>(a1, v5);
  }
}

void std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::__assign_from[abi:sn200100]<std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>>(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 32) & 1;
  if (v3 == (std::__optional_storage_base<WebCore::SecurityOriginData,false>::has_value[abi:sn200100](a2) & 1))
  {
    if (*(a1 + 32))
    {
      std::__to_address[abi:sn200100]<char const>();
      WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs::operator=(a1, v4);
    }
  }

  else if (*(a1 + 32))
  {
    std::__optional_destruct_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::reset[abi:sn200100](a1);
  }

  else
  {
    std::__to_address[abi:sn200100]<char const>();
    std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>(a1, v5);
  }
}

uint64_t std::construct_at[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs,WebCore::AuthenticationExtensionsClientOutputs,WebCore::AuthenticationExtensionsClientOutputs*>(uint64_t a1, _DWORD *a2)
{
  if (!a1)
  {
    __break(1u);
  }

  return WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(a1, a2);
}

uint64_t WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(uint64_t a1, _DWORD *a2)
{
  WebCore::AuthenticationExtensionsClientOutputs::AuthenticationExtensionsClientOutputs(a1, a2);
  return a1;
}

{
  *a1 = *a2;
  v3 = a1 + 40;
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>::optional[abi:sn200100]((a1 + 8), (a2 + 2));
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](v3, (a2 + 10));
  return a1;
}

uint64_t std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](uint64_t a1, uint64_t a2)
{
  std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs>::optional[abi:sn200100](a1, a2);
  return a1;
}

{
  std::__optional_move_assign_base<WebCore::AuthenticationExtensionsClientOutputs::PRFOutputs,false>::__optional_move_assign_base[abi:sn200100](a1, a2);
  return a1;
}

uint64_t std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct_from[abi:sn200100]<std::__optional_move_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>>(uint64_t a1, uint64_t a2)
{
  result = std::__optional_storage_base<fido::PinParameters,false>::has_value[abi:sn200100](a2);
  if (result)
  {
    std::__to_address[abi:sn200100]<char const>();
    return std::__optional_storage_base<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs,false>::__construct[abi:sn200100]<WebCore::AuthenticationExtensionsClientOutputs::LargeBlobOutputs>(a1, v4);
  }

  return result;
}

void **WTF::RetainPtr<NSError>::RetainPtr(void **a1, void **a2)
{
  *a1 = *a2;
  if (*a1)
  {
    WTF::RetainPtr<NSString>::retainFoundationPtr(*a1);
  }

  return a1;
}

uint64_t *WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&,void,objc_object  {objcproto21ASCCredentialProtocol}*,NSError *>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[7] = a1;
  v6[6] = a4;
  v6[5] = a3;
  v6[4] = a2;
  v6[3] = a4;
  v6[2] = a3;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::$_1(v6, a2);
  WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1>(a1, v6);
  return WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::~$_0(v6);
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(uint64_t a1, void *a2, void *a3)
{
  v12 = a1;
  v11 = a2;
  v10 = a3;
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(&v5, a1);
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(&v6, (a1 + 8));
  WTF::retainPtr<ASAuthorization *>(&v7, v11);
  WTF::retainPtr<ASAuthorization *>(&v8, v10);
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>(&v9, &v5);
  WTF::callOnMainRunLoop();
  WTF::Function<void ()(void)>::~Function(&v9);
  return WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::~NSError(&v5);
}

void *WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x30uLL, 0x10E0040FAC56454uLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1)::{lambda(void *,objc_object  {objcproto21ASCCredentialProtocol},NSError)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1)::descriptor;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::$_1(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::$_1(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::$_1(a1, a2);
  return a1;
}

{
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(a1, a2);
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(a1 + 1, a2 + 1);
  return a1;
}

uint64_t *WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1)::{lambda(void *,objc_object  {objcproto21ASCCredentialProtocol},NSError)#1}::__invoke(uint64_t a1, void *a2, void *a3)
{
  v7 = a1;
  v6 = a2;
  v5 = a3;
  return WTF::BlockPtr<void ()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1>(WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WTF::CompletionHandler::AuthenticatorAttachment,WTF::CompletionHandler::ExceptionData const&)> &&)::$_1)::{lambda(void *,objc_object  {objcproto21ASCCredentialProtocol},NSError)#1}::operator()(&v4, a1, a2, a3);
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>,NSError,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>,NSError,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x28);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135B58;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::NSError(a1 + 1, a2);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::NSError(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::NSError(a1, a2);
  return a1;
}

{
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(a1, a2);
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler(a1 + 1, a2 + 1);
  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1 + 2, a2 + 2);
  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1 + 3, a2 + 3);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1},void>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135B58;
  WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_0::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::~NSError(a1 + 1);
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

void WebKit::WebAuthenticatorCoordinatorProxy::performRequestLegacy(WTF::RetainPtr<ASCCredentialRequestContext>,WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)> &&)::$_1::operator()(objc_object  {objcproto21ASCCredentialProtocol}*,NSError *)::{lambda(void)#1}::operator()(void **a1)
{
  v5[1] = a1;
  WTF::RetainPtr<objc_object  {objcproto21ASCCredentialProtocol}*>::RetainPtr<objc_object>(v5, (a1 + 2));
  WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v4, a1 + 3);
  WebKit::continueAfterRequest(v5, &v4, (a1 + 1));
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v4);
  WTF::RetainPtr<WKWebView>::~RetainPtr(v5);
  if (WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator BOOL(a1))
  {
    v2 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
    if (std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::operator BOOL[abi:sn200100]((v2 + 88)))
    {
      v3 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
      WTF::RetainPtr<ASCAgentProxy>::clear((v3 + 88));
    }
  }
}

WTF::ThreadLikeAssertion *WTF::makeBlockPtr<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1},WTF::CompletionHandler<void ()(BOOL)> &&,void,BOOL>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[6] = a1;
  v6[5] = a4;
  v6[4] = a3;
  v6[3] = a2;
  v6[2] = a4;
  v6[1] = a3;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(v6, a2);
  WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(a1, v6);
  return WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler(v6);
}

WTF::ThreadLikeAssertion *WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(uint64_t *a1, char a2)
{
  v7 = a1;
  v6 = a2 & 1;
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(&v3, a1);
  v4 = v6 & 1;
  WTF::Function<void ()(void)>::Function<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>(&v5, &v3);
  WTF::ensureOnMainRunLoop();
  WTF::Function<void ()(void)>::~Function(&v5);
  return WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler(&v3);
}

void *WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x28uLL, 0x10E004053C0834CuLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::{lambda(void *,BOOL)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::descriptor;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

uint64_t *WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(uint64_t *a1, uint64_t *a2)
{
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(a1, a2);
  return a1;
}

{
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(a1, a2);
  return a1;
}

WTF::ThreadLikeAssertion *WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::{lambda(void *,BOOL)#1}::__invoke(uint64_t a1, char a2)
{
  v4 = a1;
  v3[1] = a2;
  return WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::{lambda(void *,BOOL)#1}::operator()(v3, a1, a2 & 1);
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>(uint64_t *a1, uint64_t a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>,{lambda(BOOL)#1},0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>,{lambda(BOOL)#1},0>(void *a1, uint64_t a2)
{
  v3 = WTF::FastMalloc::malloc(0x18);
  WTF::Detail::CallableWrapper<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::CallableWrapper(void *a1, uint64_t a2)
{
  WTF::Detail::CallableWrapper<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135BA0;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1}::((a1 + 1), a2);
  return a1;
}

uint64_t WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1}::(uint64_t a1, uint64_t a2)
{
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1}::(a1, a2);
  return a1;
}

{
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(a1, a2);
  *(a1 + 8) = *(a2 + 8) & 1;
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135BA0;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler((a1 + 1));
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

WTF::ThreadLikeAssertion *WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &,void,NSDictionary<NSString *,NSNumber *> *>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[6] = a1;
  v6[5] = a4;
  v6[4] = a3;
  v6[3] = a2;
  v6[2] = a4;
  v6[1] = a3;
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::$_0(v6, a2);
  WTF::BlockPtr<void ()(NSDictionary<NSString *,NSNumber *> *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0>(a1, v6);
  return WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::~$_0(v6);
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(uint64_t *a1, void *a2)
{
  v34 = *MEMORY[0x1E69E9840];
  v25 = a1;
  v24 = a2;
  WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&v22);
  v20 = 0u;
  v19 = 0u;
  v18 = 0u;
  v17 = 0u;
  v3 = v24;
  v4 = [v24 countByEnumeratingWithState:&v17 objects:v33 count:16];
  if (v4)
  {
    v5 = *v18;
    do
    {
      for (i = 0; i < v4; ++i)
      {
        if (*v18 != v5)
        {
          objc_enumerationMutation(v3);
        }

        v21 = 0;
        v21 = *(*(&v17 + 1) + 8 * i);
        v15 = [objc_msgSend(v24 objectForKeyedSubscript:{v21), "BOOLValue"}] & 1;
        WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair<NSString *&,BOOL>(v16, &v21, &v15);
        v27 = &v22;
        v26 = v16;
        v29 = &v22;
        v28 = v16;
        v31 = &v22;
        v30 = v16;
        v7 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(&v22);
        if (v7 == WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::capacity(&v22))
        {
          WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::KeyValuePair<WTF::String,BOOL>>(&v22, v30);
        }

        else
        {
          WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
          WTF::Vector<WebCore::PublicKeyCredentialParameters,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(&v22);
          WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator new();
          WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v8, v30);
          ++v23;
        }

        v32 = 1;
        WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v16);
      }

      v4 = [v3 countByEnumeratingWithState:&v17 objects:v33 count:16];
    }

    while (v4);
  }

  std::ranges::__sort::operator()[abi:sn200100]<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &,BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>(&v22);
  WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::CompletionHandler(&v12, a1);
  WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(&v13, &v22);
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>(&v14, &v12);
  WTF::ensureOnMainRunLoop();
  WTF::Function<void ()(void)>::~Function(&v14);
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1}::~NSDictionary(&v12, v9);
  return WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v22, v10);
}

void *WTF::BlockPtr<void ()(NSDictionary<NSString *,NSNumber *> *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x28uLL, 0x10E004053C0834CuLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(NSDictionary<NSString *,NSNumber *> *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0)::{lambda(void *,NSDictionary<NSString *,NSNumber *> *)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(NSDictionary<NSString *,NSNumber *> *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0)::descriptor;
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::$_0(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::$_0(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::$_0(a1, a2);
  return a1;
}

{
  WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::CompletionHandler(a1, a2);
  return a1;
}

uint64_t WTF::BlockPtr<void ()(NSDictionary<NSString *,NSNumber *> *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0)::{lambda(void *,NSDictionary<NSString *,NSNumber *> *)#1}::__invoke(uint64_t a1, void *a2)
{
  v5 = a1;
  v4 = a2;
  return WTF::BlockPtr<void ()(NSDictionary<NSString *,NSNumber *> *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0)::{lambda(void *,NSDictionary<NSString *,NSNumber *> *)#1}::operator()(&v3, a1, a2);
}

WTF::String *WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair<NSString *&,BOOL>(WTF::String *a1, NSString **a2, _BYTE *a3)
{
  WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair<NSString *&,BOOL>(a1, a2, a3);
  return a1;
}

{
  WTF::String::String(a1, *a2);
  *(a1 + 8) = *a3 & 1;
  return a1;
}

uint64_t *WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(uint64_t *a1)
{
  WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(a1);
  return a1;
}

{
  v3[1] = a1;
  v3[0] = 0;
  v6 = a1;
  v5 = v3;
  v4 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(a1);
  if (v4)
  {
    WTF::StringImpl::deref(v4);
  }

  return a1;
}

void std::ranges::__sort::operator()[abi:sn200100]<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &,BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>(uint64_t a1)
{
  v6 = &std::ranges::__cpo::sort;
  v5 = a1;
  v4 = WTF::codePointCompareLessThan;
  v3 = 0;
  v1 = std::ranges::__begin::__fn::operator()[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> const&>(a1);
  v2 = std::ranges::__end::__fn::operator()[abi:sn200100]<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v5);
  std::ranges::__sort::__sort_fn_impl[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,WTF::KeyValuePair<WTF::String,BOOL> *,BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>(v1, v2, &v4, &v3);
}

uint64_t WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(uint64_t a1, uint64_t *a2)
{
  WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector(a1, a2);
  return a1;
}

{
  WTF::VectorBuffer<WTF::KeyValuePair<WTF::String,WebCore::AuthenticationExtensionsClientInputs::PRFValues>,0ul,WTF::FastMalloc>::VectorBuffer(a1);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetBufferSizeToFullCapacity(a1);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetBufferSizeToFullCapacity(a2);
  WTF::VectorBuffer<unsigned char,0ul,WTF::FastMalloc>::adopt(a1, a2);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  return a1;
}

WTF::ThreadLikeAssertion *WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~CompletionHandler(WTF::ThreadLikeAssertion *a1)
{
  WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~CompletionHandler(a1);
  return a1;
}

{
  v4 = a1;
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::operator=();
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(a1);
  WTF::Function<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~Function(a1);
  return a1;
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>,NSDictionary<NSString *,NSNumber *>,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

WTF::ThreadLikeAssertion *WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1}::~NSDictionary(WTF::ThreadLikeAssertion *a1, void *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1}::~NSDictionary(a1, a2);
  return a1;
}

{
  WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(a1 + 8, a2);
  WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~CompletionHandler(a1);
  return a1;
}

uint64_t WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(uint64_t a1, uint64_t a2)
{
  WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(a1, a2);
  return a1;
}

{
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(a1, a2);
  *(a1 + 8) = *(a2 + 8) & 1;
  return a1;
}

uint64_t WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::KeyValuePair<WTF::String,BOOL>>(uint64_t a1, unint64_t a2)
{
  v3 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1);
  v7 = WTF::Vector<WebCore::ContentType,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(a1, v3 + 1, a2);
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  WTF::Vector<WebCore::PublicKeyCredentialParameters,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a1);
  WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator new();
  result = WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v4, v7);
  ++*(a1 + 12);
  return result;
}

void std::ranges::__sort::__sort_fn_impl[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,WTF::KeyValuePair<WTF::String,BOOL> *,BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v11 = a1;
  v10 = a2;
  v9 = a3;
  v8 = a4;
  v7 = std::ranges::__next::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,WTF::KeyValuePair<WTF::String,BOOL> *>(&std::ranges::__cpo::next, a1, a2);
  v4 = std::__make_projected[abi:sn200100]<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*,0>(v9, v8);
  v6[1] = v5;
  v6[0] = v4;
  v6[2] = v6;
  std::__sort_impl[abi:sn200100]<std::_RangeAlgPolicy,WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>>(v11, v7, v6);
}

uint64_t std::ranges::__next::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,WTF::KeyValuePair<WTF::String,BOOL> *>(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4[1] = a1;
  v4[0] = a2;
  std::ranges::__advance::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,WTF::KeyValuePair<WTF::String,BOOL> *>(v4, a3);
  return v4[0];
}

void std::__sort_impl[abi:sn200100]<std::_RangeAlgPolicy,WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>>(uint64_t a1, uint64_t a2, uint64_t a3)
{
  WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  std::__value_type<cbor::CBORValue,cbor::CBORValue>::__get_value[abi:sn200100]();
  v4 = v3;
  std::__value_type<cbor::CBORValue,cbor::CBORValue>::__get_value[abi:sn200100]();
  std::__sort_dispatch[abi:sn200100]<std::_RangeAlgPolicy,WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>>(v4, v5, a3);
  std::__value_type<cbor::CBORValue,cbor::CBORValue>::__get_value[abi:sn200100]();
  std::__value_type<cbor::CBORValue,cbor::CBORValue>::__get_value[abi:sn200100]();
  std::__check_strict_weak_ordering_sorted[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>>();
}

void *std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::_ProjectedPred[abi:sn200100](void *result, uint64_t a2, uint64_t a3)
{
  *result = a2;
  result[1] = a3;
  return result;
}

uint64_t std::__log2i[abi:sn200100]<long>(unint64_t a1)
{
  if (a1)
  {
    return 63 - std::__libcpp_clz[abi:sn200100](a1);
  }

  else
  {
    return 0;
  }
}

void std::__introsort<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,false>(uint64_t *a1, unint64_t a2, uint64_t a3, uint64_t a4, char a5)
{
  v18[5] = *MEMORY[0x1E69E9840];
  v18[0] = a1;
  v17 = a2;
  v16 = a3;
  v15 = a4;
  v14 = a5;
  v13 = 24;
  v12 = 128;
  while (1)
  {
    v11 = (v17 - v18[0]) >> 4;
    if (v11 < 2)
    {
      break;
    }

    switch(v11)
    {
      case 2:
        v17 -= 16;
        if (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v16, v17, v18[0]))
        {
          std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(v18, &v17);
        }

        return;
      case 3:
        std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v18[0], (v18[0] + 2), v17 - 16, v16);
        return;
      case 4:
        std::__sort4[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v18[0], (v18[0] + 2), (v18[0] + 4), v17 - 16, v16);
        return;
      case 5:
        std::__sort5[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v18[0], (v18[0] + 2), (v18[0] + 4), (v18[0] + 6), v17 - 16, v16);
        return;
    }

    if (v11 < 24)
    {
      if (v14)
      {
        std::__insertion_sort[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v18[0], v17, v16);
      }

      else
      {
        std::__insertion_sort_unguarded[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v18[0], v17, v16);
      }

      return;
    }

    if (!v15)
    {
      std::__partial_sort[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,WTF::KeyValuePair<WTF::String,BOOL>*>(v18[0], v17, v17, v16);
      return;
    }

    --v15;
    v10 = v11 >> 1;
    if (v11 <= 128)
    {
      std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(&v18[0][2 * v10], v18[0], v17 - 16, v16);
    }

    else
    {
      std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v18[0], &v18[0][2 * v10], v17 - 16, v16);
      std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>((v18[0] + 2), &v18[0][2 * v10 - 2], v17 - 32, v16);
      std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>((v18[0] + 4), &v18[0][2 * v10 + 2], v17 - 48, v16);
      std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(&v18[0][2 * v10 - 2], &v18[0][2 * v10], &v18[0][2 * v10 + 2], v16);
      v9 = &v18[0][2 * v10];
      std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(v18, &v9);
    }

    if (v14 & 1) != 0 || (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v16, (v18[0] - 2), v18[0]))
    {
      v5 = std::__partition_with_equals_on_right[abi:sn200100]<std::_RangeAlgPolicy,WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &>(v18[0], v17, v16);
      v18[2] = v6;
      v18[1] = v5;
      v8 = v5;
      if ((v6 & 1) == 0)
      {
        goto LABEL_33;
      }

      v7 = std::__insertion_sort_incomplete[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v18[0], v5, v16);
      if (std::__insertion_sort_incomplete[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v8 + 16, v17, v16))
      {
        if (v7)
        {
          return;
        }

        v17 = v8;
      }

      else if (v7)
      {
        v18[0] = (v8 + 16);
      }

      else
      {
LABEL_33:
        std::__introsort<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,false>(v18[0], v8, v16, v15, v14 & 1);
        v14 = 0;
        v18[0] = (v8 + 16);
      }
    }

    else
    {
      v18[0] = std::__partition_with_equals_on_left[abi:sn200100]<std::_RangeAlgPolicy,WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &>(v18[0], v17, v16);
    }
  }
}

uint64_t std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4 = *a1;
  v5 = std::__invoke[abi:sn200100]<WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*&,WTF::KeyValuePair<WTF::String,BOOL>&,void>(*(a1 + 8), a2);
  v6 = std::__invoke[abi:sn200100]<WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*&,WTF::KeyValuePair<WTF::String,BOOL>&,void>(*(a1 + 8), a3);
  return std::__invoke[abi:sn200100]<BOOL (*&)(WTF::String const&,WTF::String const&),WTF::String&,WTF::String&>(v4, v5, v6) & 1;
}

uint64_t std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v8 = a1;
  v7 = a2;
  v6 = a3;
  if (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a4, a2, a1))
  {
    if (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a4, v6, v7))
    {
      result = std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v8, &v6);
      v9 = 1;
    }

    else
    {
      std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v8, &v7);
      result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a4, v6, v7);
      if (result)
      {
        return std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v7, &v6);
      }
    }
  }

  else
  {
    result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a4, v6, v7);
    if (result)
    {
      std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v7, &v6);
      result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a4, v7, v8);
      if (result)
      {
        result = std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v8, &v7);
      }

      v9 = 1;
    }

    else
    {
      v9 = 0;
    }
  }

  return result;
}

uint64_t std::__sort4[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v10 = a1;
  v9 = a2;
  v8 = a3;
  v7 = a4;
  std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(a1, a2, a3, a5);
  result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a5, v7, v8);
  if (result)
  {
    std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v8, &v7);
    result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a5, v8, v9);
    if (result)
    {
      std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v9, &v8);
      result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a5, v9, v10);
      if (result)
      {
        return std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v10, &v9);
      }
    }
  }

  return result;
}

uint64_t std::__sort5[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  v12 = a1;
  v11 = a2;
  v10 = a3;
  v9 = a4;
  v8 = a5;
  std::__sort4[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(a1, a2, a3, a4, a6);
  result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a6, v8, v9);
  if (result)
  {
    std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v9, &v8);
    result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a6, v9, v10);
    if (result)
    {
      std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v10, &v9);
      result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a6, v10, v11);
      if (result)
      {
        std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v11, &v10);
        result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(a6, v11, v12);
        if (result)
        {
          return std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v12, &v11);
        }
      }
    }
  }

  return result;
}

uint64_t std::__insertion_sort[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t result, uint64_t a2, uint64_t a3)
{
  v12 = result;
  v11 = a2;
  v10 = a3;
  if (result != a2)
  {
    for (i = v12 + 16; i != v11; i += 16)
    {
      v8 = i - 16;
      result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v10, i, i - 16);
      if (result)
      {
        v3 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&i);
        WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v7, v3);
        v6 = v8;
        v8 = i;
        do
        {
          v4 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v6);
          WTF::KeyValuePair<WTF::String,BOOL>::operator=(v8, v4);
          v8 = v6;
          v5 = 0;
          if (v6 != v12)
          {
            v6 -= 16;
            v5 = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v10, v7, v6);
          }
        }

        while ((v5 & 1) != 0);
        WTF::KeyValuePair<WTF::String,BOOL>::operator=(v8, v7);
        result = WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v7);
      }
    }
  }

  return result;
}

uint64_t std::__insertion_sort_unguarded[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t result, uint64_t a2, uint64_t a3)
{
  v12 = result;
  v11 = a2;
  v10 = a3;
  if (result != a2)
  {
    v9 = v12 - 16;
    for (i = v12 + 16; i != v11; i += 16)
    {
      v7 = i - 16;
      result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v10, i, i - 16);
      if (result)
      {
        v3 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&i);
        WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v6, v3);
        v5 = v7;
        v7 = i;
        do
        {
          v4 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v5);
          WTF::KeyValuePair<WTF::String,BOOL>::operator=(v7, v4);
          v7 = v5;
          if (v5 == v9)
          {
            __break(1u);
          }

          v5 -= 16;
        }

        while ((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v10, v6, v5) & 1) != 0);
        WTF::KeyValuePair<WTF::String,BOOL>::operator=(v7, v6);
        result = WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v6);
      }
    }
  }

  return result;
}

void std::__partial_sort[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  if (a1 == a2)
  {
    std::ranges::__next::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,WTF::KeyValuePair<WTF::String,BOOL> *>(&std::_IterOps<std::_RangeAlgPolicy>::next, a2, a3);
  }

  else
  {
    WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
    std::__partial_sort_impl[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,WTF::KeyValuePair<WTF::String,BOOL>*>(a1, a2, a3, a4);
    WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::asanSetInitialBufferSizeTo();
  }
}

unint64_t std::__partition_with_equals_on_left[abi:sn200100]<std::_RangeAlgPolicy,WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &>(unint64_t a1, unint64_t a2, uint64_t a3)
{
  v14 = a1;
  v13 = a2;
  v12 = a3;
  v11 = a1;
  v10 = a2;
  v3 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v14);
  WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v9, v3);
  if (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v12, v9, v13 - 16))
  {
    do
    {
      v14 += 16;
      if (v14 == v10)
      {
        __break(1u);
      }
    }

    while (((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v12, v9, v14) ^ 1) & 1) != 0);
  }

  else
  {
    do
    {
      v14 += 16;
      v4 = 0;
      if (v14 < v13)
      {
        v4 = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v12, v9, v14) ^ 1;
      }
    }

    while ((v4 & 1) != 0);
  }

  if (v14 < v13)
  {
    do
    {
      if (v13 == v11)
      {
        __break(1u);
      }

      v13 -= 16;
    }

    while ((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v12, v9, v13) & 1) != 0);
  }

  while (v14 < v13)
  {
    std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v14, &v13);
    do
    {
      v14 += 16;
      if (v14 == v10)
      {
        __break(1u);
      }
    }

    while (((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v12, v9, v14) ^ 1) & 1) != 0);
    do
    {
      if (v13 == v11)
      {
        __break(1u);
      }

      v13 -= 16;
    }

    while ((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v12, v9, v13) & 1) != 0);
  }

  v8 = v14 - 16;
  if (v11 != v14 - 16)
  {
    v5 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v8);
    WTF::KeyValuePair<WTF::String,BOOL>::operator=(v11, v5);
  }

  WTF::KeyValuePair<WTF::String,BOOL>::operator=(v8, v9);
  v6 = v14;
  WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v9);
  return v6;
}

uint64_t std::__partition_with_equals_on_right[abi:sn200100]<std::_RangeAlgPolicy,WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &>(unint64_t a1, unint64_t a2, uint64_t a3)
{
  v21 = *MEMORY[0x1E69E9840];
  v16 = a1;
  v15 = a2;
  v14 = a3;
  v13 = a1;
  v12 = a2;
  v3 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v16);
  WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v11, v3);
  do
  {
    v16 += 16;
    if (v16 == v12)
    {
      __break(1u);
    }
  }

  while ((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v14, v16, v11) & 1) != 0);
  if (v13 == v16 - 16)
  {
    do
    {
      v4 = 0;
      if (v16 < v15)
      {
        v15 -= 16;
        v4 = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v14, v15, v11) ^ 1;
      }
    }

    while ((v4 & 1) != 0);
  }

  else
  {
    do
    {
      if (v15 == v13)
      {
        __break(1u);
      }

      v15 -= 16;
    }

    while (((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v14, v15, v11) ^ 1) & 1) != 0);
  }

  v10 = v16 >= v15;
  while (v16 < v15)
  {
    std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v16, &v15);
    do
    {
      v16 += 16;
      if (v16 == v12)
      {
        __break(1u);
      }
    }

    while ((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v14, v16, v11) & 1) != 0);
    do
    {
      if (v15 == v13)
      {
        __break(1u);
      }

      v15 -= 16;
    }

    while (((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v14, v15, v11) ^ 1) & 1) != 0);
  }

  v9 = v16 - 16;
  if (v13 != v16 - 16)
  {
    v5 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v9);
    WTF::KeyValuePair<WTF::String,BOOL>::operator=(v13, v5);
  }

  WTF::KeyValuePair<WTF::String,BOOL>::operator=(v9, v11);
  v6 = std::make_pair[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,BOOL &>(&v9, &v10);
  v20 = v7;
  v19 = v6;
  LOBYTE(v18) = v7;
  v17 = v6;
  WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v11);
  return v17;
}

BOOL std::__insertion_sort_incomplete[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v17 = a1;
  v16 = a2;
  v15 = a3;
  v3 = (a2 - a1) >> 4;
  if (v3 < 2)
  {
    return 1;
  }

  else
  {
    switch(v3)
    {
      case 2uLL:
        v16 -= 16;
        if (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v15, v16, v17))
        {
          std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&v17, &v16);
        }

        v18 = 1;
        break;
      case 3uLL:
        std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v17, v17 + 16, v16 - 16, v15);
        v18 = 1;
        break;
      case 4uLL:
        std::__sort4[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v17, v17 + 16, v17 + 32, v16 - 16, v15);
        v18 = 1;
        break;
      case 5uLL:
        std::__sort5[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v17, v17 + 16, v17 + 32, v17 + 48, v16 - 16, v15);
        v18 = 1;
        break;
      default:
        v14 = v17 + 32;
        std::__sort3[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,0>(v17, v17 + 16, v17 + 32, v15);
        v13 = 8;
        v12 = 0;
        for (i = v17 + 48; i != v16; i += 16)
        {
          if (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v15, i, v14))
          {
            v4 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&i);
            WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v10, v4);
            v9 = v14;
            v14 = i;
            do
            {
              v5 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v9);
              WTF::KeyValuePair<WTF::String,BOOL>::operator=(v14, v5);
              v14 = v9;
              v6 = 0;
              if (v9 != v17)
              {
                v9 -= 16;
                v6 = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v15, v10, v9);
              }
            }

            while ((v6 & 1) != 0);
            WTF::KeyValuePair<WTF::String,BOOL>::operator=(v14, v10);
            if (++v12 == 8)
            {
              i += 16;
              v18 = i == v16;
              v8 = 1;
            }

            else
            {
              v8 = 0;
            }

            WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v10);
            if (v8)
            {
              return v18;
            }
          }

          v14 = i;
        }

        v18 = 1;
        break;
    }
  }

  return v18;
}

uint64_t *std::ranges::__swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>>(uint64_t a1, uint64_t a2)
{
  v6 = &std::ranges::__cpo::swap;
  v5 = a1;
  v4 = a2;
  std::exchange[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>,WTF::KeyValuePair<WTF::String,BOOL>>(v3, a1, a2);
  WTF::KeyValuePair<WTF::String,BOOL>::operator=(v4, v3);
  return WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v3);
}

uint64_t *WTF::KeyValuePair<WTF::String,BOOL>::operator=(uint64_t a1, uint64_t a2)
{
  result = WTF::String::operator=(a1, a2);
  *(a1 + 8) = *(a2 + 8) & 1;
  return result;
}

uint64_t std::__partial_sort_impl[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v10 = a1;
  v9 = a2;
  v8 = a3;
  v7 = a4;
  if (a1 == a2)
  {
    return std::ranges::__next::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,WTF::KeyValuePair<WTF::String,BOOL> *>(&std::_IterOps<std::_RangeAlgPolicy>::next, v9, v8);
  }

  std::__make_heap[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v10, v9, v7);
  v6 = (v9 - v10) >> 4;
  for (i = v9; i != v8; i += 16)
  {
    if (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v7, i, v10))
    {
      std::ranges::__iter_swap::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,WTF::KeyValuePair<WTF::String,BOOL> *&>(&i, &v10);
      std::__sift_down[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v10, v7, v6, v10);
    }
  }

  std::__sort_heap[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v10, v9, v7);
  return i;
}

uint64_t std::__make_heap[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t result, uint64_t a2, uint64_t a3)
{
  v7 = result;
  v5 = (a2 - result) >> 4;
  if (v5 > 1)
  {
    v3 = v5 - 2;
    if (v5 - 2 < 0)
    {
      v3 = v5 - 1;
    }

    for (i = v3 >> 1; (i & 0x8000000000000000) == 0; --i)
    {
      result = std::__sift_down[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v7, a3, v5, v7 + 16 * i);
    }
  }

  return result;
}

uint64_t std::__sift_down[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v14 = result;
  v13 = a2;
  v12 = a3;
  v11 = a4;
  v10 = (a4 - result) >> 4;
  if (a3 >= 2)
  {
    v4 = v12 - 2;
    if (v12 - 2 < 0)
    {
      v4 = v12 - 1;
    }

    if (v4 >> 1 >= v10)
    {
      v10 = 2 * v10 + 1;
      v9 = v14 + 16 * v10;
      if (v10 + 1 < v12 && (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v13, v9, v9 + 16) & 1) != 0)
      {
        v9 += 16;
        ++v10;
      }

      result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v13, v9, v11);
      if ((result & 1) == 0)
      {
        v5 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v11);
        WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v8, v5);
        do
        {
          v6 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v9);
          WTF::KeyValuePair<WTF::String,BOOL>::operator=(v11, v6);
          v11 = v9;
          v7 = v12 - 2;
          if (v12 - 2 < 0)
          {
            v7 = v12 - 1;
          }

          if (v7 >> 1 < v10)
          {
            break;
          }

          v10 = 2 * v10 + 1;
          v9 = v14 + 16 * v10;
          if (v10 + 1 < v12 && (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v13, v9, v9 + 16) & 1) != 0)
          {
            v9 += 16;
            ++v10;
          }
        }

        while (((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v13, v9, v8) ^ 1) & 1) != 0);
        WTF::KeyValuePair<WTF::String,BOOL>::operator=(v11, v8);
        return WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v8);
      }
    }
  }

  return result;
}

void std::__sort_heap[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t *a1, uint64_t a2, uint64_t a3)
{
  v5 = a2;
  for (i = (a2 - a1) >> 4; i > 1; --i)
  {
    std::__pop_heap[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>,WTF::KeyValuePair<WTF::String,BOOL>*>(a1, v5, a3, i);
    v5 -= 16;
  }

  std::__check_strict_weak_ordering_sorted[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>>();
}

uint64_t *std::__pop_heap[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t *result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v12 = result;
  v11 = a2;
  v10 = a3;
  v9 = a4;
  if (a4 <= 0)
  {
    __break(1u);
  }

  v8 = v10;
  if (v9 > 1)
  {
    v4 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v12);
    WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v7, v4);
    v6 = std::__floyd_sift_down[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v12, v8, v9);
    v11 -= 16;
    if (v6 == v11)
    {
      WTF::KeyValuePair<WTF::String,BOOL>::operator=(v6, v7);
    }

    else
    {
      v5 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v11);
      WTF::KeyValuePair<WTF::String,BOOL>::operator=(v6, v5);
      WTF::KeyValuePair<WTF::String,BOOL>::operator=(v11, v7);
      std::__sift_up[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(v12, v6 + 16, v8, (v6 + 16 - v12) >> 4);
    }

    return WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v7);
  }

  return result;
}

uint64_t std::__floyd_sift_down[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v11 = a1;
  v10 = a2;
  v9 = a3;
  v8 = a1;
  v7 = a1;
  v6 = 0;
  do
  {
    v7 += 16 * (v6 + 1);
    v6 = 2 * v6 + 1;
    if (v6 + 1 < v9 && (std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v10, v7, v7 + 16) & 1) != 0)
    {
      v7 += 16;
      ++v6;
    }

    v3 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v7);
    WTF::KeyValuePair<WTF::String,BOOL>::operator=(v8, v3);
    v8 = v7;
    v4 = v9 - 2;
    if (v9 - 2 < 0)
    {
      v4 = v9 - 1;
    }
  }

  while (v6 <= v4 >> 1);
  return v8;
}

uint64_t std::__sift_up[abi:sn200100]<std::_RangeAlgPolicy,std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*> &,WTF::KeyValuePair<WTF::String,BOOL>*>(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v13 = result;
  v12 = a2;
  v11 = a3;
  v10 = a4;
  if (a4 > 1)
  {
    v4 = v10 - 2;
    if (v10 - 2 < 0)
    {
      v4 = v10 - 1;
    }

    v10 = v4 >> 1;
    v9 = v13 + 16 * (v4 >> 1);
    v12 -= 16;
    result = std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v11, v9, v12);
    if (result)
    {
      v5 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v12);
      WTF::KeyValuePair<WTF::String,BOOL>::KeyValuePair(v8, v5);
      do
      {
        v6 = std::ranges::__iter_move::__fn::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&>(&v9);
        WTF::KeyValuePair<WTF::String,BOOL>::operator=(v12, v6);
        v12 = v9;
        if (!v10)
        {
          break;
        }

        v7 = v10 - 1;
        if (v10 - 1 < 0)
        {
          v7 = v10;
        }

        v10 = v7 >> 1;
        v9 = v13 + 16 * (v7 >> 1);
      }

      while ((std::_ProjectedPred<BOOL (*)(WTF::String const&,WTF::String const&),WTF::String WTF::KeyValuePair<WTF::String,BOOL>::*>::operator()[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL>&,WTF::KeyValuePair<WTF::String,BOOL>&>(v11, v9, v8) & 1) != 0);
      WTF::KeyValuePair<WTF::String,BOOL>::operator=(v12, v8);
      return WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(v8);
    }
  }

  return result;
}

uint64_t std::pair<WTF::KeyValuePair<WTF::String,BOOL> *,BOOL>::pair[abi:sn200100]<WTF::KeyValuePair<WTF::String,BOOL> *&,BOOL &,0>(uint64_t result, void *a2, _BYTE *a3)
{
  *result = *a2;
  *(result + 8) = *a3 & 1;
  return result;
}

uint64_t WTF::VectorBuffer<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::FastMalloc>::~VectorBuffer(uint64_t a1)
{
  v2 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
  WTF::VectorBufferBase<unsigned char,WTF::FastMalloc>::deallocateBuffer(a1, v2);
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

void sub_19E44882C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, _Unwind_Exception *exception_object)
{
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(v11);
  WTF::Function<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~Function(v11);
  _Unwind_Resume(a1);
}

uint64_t *WTF::Function<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~Function(uint64_t *a1)
{
  WTF::Function<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::~Function(a1);
  return a1;
}

{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>,std::default_delete<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>>::~unique_ptr[abi:sn200100](a1);
  return a1;
}

uint64_t *std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>,std::default_delete<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>>::~unique_ptr[abi:sn200100](uint64_t *a1)
{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>,std::default_delete<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>>::~unique_ptr[abi:sn200100](a1);
  return a1;
}

{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>,std::default_delete<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>>::reset[abi:sn200100](a1);
  return a1;
}

uint64_t *std::unique_ptr<WTF::Detail::CallableWrapperBase<void,WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>,std::default_delete<WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>>::reset[abi:sn200100](uint64_t *result)
{
  v1 = *result;
  *result = 0;
  if (v1)
  {
    return std::default_delete<WTF::Detail::CallableWrapperBase<void,WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>>::operator()[abi:sn200100](result, v1);
  }

  return result;
}

uint64_t std::default_delete<WTF::Detail::CallableWrapperBase<void,WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&>>::operator()[abi:sn200100](uint64_t a1, uint64_t a2)
{
  result = a2;
  if (a2)
  {
    return (*(*a2 + 8))(a2, a2);
  }

  return result;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>,NSDictionary<NSString *,NSNumber *>,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x20);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135BE8;
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1}::NSDictionary(a1 + 1, a2);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1}::NSDictionary(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1}::NSDictionary(a1, a2);
  return a1;
}

{
  WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)>::CompletionHandler(a1, a2);
  WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::Vector((a1 + 1), a2 + 1);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>::~CallableWrapper(void *a1, void *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1},void>::~CallableWrapper(a1, a2);
  return a1;
}

{
  *a1 = &unk_1F1135BE8;
  WebKit::WebAuthenticatorCoordinatorProxy::getClientCapabilities(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(WTF::Vector<WTF::KeyValuePair<WTF::String,BOOL>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)> &&)::$_0::operator()(NSDictionary<NSString *,NSNumber *> *)::{lambda(void)#1}::~NSDictionary((a1 + 1), a2);
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

uint64_t WTF::StringView::clear(uint64_t this)
{
  *this = 0;
  *(this + 8) = 0;
  *(this + 12) = 1;
  return this;
}

uint64_t WTF::String::span8(fido::AuthenticatorSupportedOptions **this)
{
  if (WTF::RefPtr<WebKit::AuthenticatorPresenterCoordinator,WTF::RawPtrTraits<WebKit::AuthenticatorPresenterCoordinator>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorPresenterCoordinator>>::operator BOOL(this))
  {
    v7[2] = this;
    v7[3] = this;
    v8 = *this;
    v2 = *(v8 + 1);
    v3 = fido::AuthenticatorSupportedOptions::userVerificationAvailability(v8);
    v4 = WTF::unsafeMakeSpan<char const,18446744073709551615ul>(v2, v3);
    v7[1] = v5;
    v7[0] = v4;
  }

  else
  {
    std::span<unsigned char,18446744073709551615ul>::span[abi:sn200100](v7);
  }

  return v7[0];
}

uint64_t std::__optional_destruct_base<WebCore::ExceptionData,false>::__optional_destruct_base[abi:sn200100]<WebCore::ExceptionData>(uint64_t a1, uint64_t a2)
{
  WebCore::ExceptionData::ExceptionData(a1, a2);
  *(a1 + 16) = 1;
  return a1;
}

WebCore::ExceptionData *std::__optional_destruct_base<WebCore::ExceptionData,false>::~__optional_destruct_base[abi:sn200100](WebCore::ExceptionData *a1)
{
  if (*(a1 + 16))
  {
    WebCore::ExceptionData::~ExceptionData(a1);
  }

  return a1;
}

WTF::ThreadLikeAssertion *WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &,void,NSError *>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[6] = a1;
  v6[5] = a4;
  v6[4] = a3;
  v6[3] = a2;
  v6[2] = a4;
  v6[1] = a3;
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(v6, a2);
  WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(a1, v6);
  return WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(v6);
}

void WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::operator()(uint64_t *a1, void *a2)
{
  v15 = *MEMORY[0x1E69E9840];
  v13 = a1;
  v12 = a2;
  if (a2)
  {
    v11 = qword_1ED641530;
    v10 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      __os_log_helper_16_2_1_8_64(buf, [v12 localizedDescription]);
      _os_log_error_impl(&dword_19D52D000, v11, v10, "Error signaling unknown credential: %@.", buf, 0xCu);
    }

    v7[0] = 24;
    v5 = WTF::StringLiterals::operator"" _s("Error signaling unknown credential.", 0x23);
    v6 = v3;
    WTF::String::String(&v8, v5, v3);
    std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(v9, v7);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(a1, v9);
    std::optional<WebCore::ExceptionData>::~optional(v9);
    WebCore::ExceptionData::~ExceptionData(v7);
  }

  else
  {
    std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](v4);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(a1, v4);
    std::optional<WebCore::ExceptionData>::~optional(v4);
  }
}

void sub_19E449640(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, char a11, uint64_t a12, uint64_t a13, int a14, int a15, uint64_t a16)
{
  a16 = a1;
  a15 = a2;
  std::optional<WebCore::ExceptionData>::~optional(&a11);
  JUMPOUT(0x19E449650);
}

void *WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x28uLL, 0x10E004053C0834CuLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::descriptor;
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(a1, a2);
  return a1;
}

{
  WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::CompletionHandler(a1, a2);
  return a1;
}

void WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::__invoke(uint64_t a1, void *a2)
{
  v4 = a1;
  v3 = a2;
  WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::operator()(&v2, a1, a2);
}

uint64_t *WTF::Function<void ()(std::optional<WebCore::ExceptionData>)>::~Function(uint64_t *a1)
{
  WTF::Function<void ()(std::optional<WebCore::ExceptionData>)>::~Function(a1);
  return a1;
}

{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,std::optional<WebCore::ExceptionData>>>::~unique_ptr[abi:sn200100](a1);
  return a1;
}

uint64_t *std::unique_ptr<WTF::Detail::CallableWrapperBase<void,std::optional<WebCore::ExceptionData>>>::~unique_ptr[abi:sn200100](uint64_t *a1)
{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,std::optional<WebCore::ExceptionData>>>::~unique_ptr[abi:sn200100](a1);
  return a1;
}

{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,std::optional<WebCore::ExceptionData>>>::reset[abi:sn200100](a1);
  return a1;
}

uint64_t *std::unique_ptr<WTF::Detail::CallableWrapperBase<void,std::optional<WebCore::ExceptionData>>>::reset[abi:sn200100](uint64_t *result)
{
  v1 = *result;
  *result = 0;
  if (v1)
  {
    return std::default_delete<WTF::Detail::CallableWrapperBase<void,std::optional<WebCore::ExceptionData>>>::operator()[abi:sn200100](result, v1);
  }

  return result;
}

uint64_t std::default_delete<WTF::Detail::CallableWrapperBase<void,std::optional<WebCore::ExceptionData>>>::operator()[abi:sn200100](uint64_t a1, uint64_t a2)
{
  result = a2;
  if (a2)
  {
    return (*(*a2 + 8))(a2, a2);
  }

  return result;
}

WTF::ThreadLikeAssertion *WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::~CompletionHandler(WTF::ThreadLikeAssertion *a1)
{
  WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::~CompletionHandler(a1);
  return a1;
}

{
  v4 = a1;
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::operator=();
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v3);
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(a1);
  WTF::Function<void ()(std::optional<WebCore::ExceptionData>)>::~Function(a1);
  return a1;
}

void sub_19E449B88(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, _Unwind_Exception *exception_object)
{
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(v11);
  WTF::Function<void ()(std::optional<WebCore::ExceptionData>)>::~Function(v11);
  _Unwind_Resume(a1);
}

WTF::ThreadLikeAssertion *WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &,void,NSError *>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[6] = a1;
  v6[5] = a4;
  v6[4] = a3;
  v6[3] = a2;
  v6[2] = a4;
  v6[1] = a3;
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(v6, a2);
  WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(a1, v6);
  return WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(v6);
}

void WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::operator()(uint64_t *a1, void *a2)
{
  v15 = *MEMORY[0x1E69E9840];
  v13 = a1;
  v12 = a2;
  if (a2)
  {
    v11 = qword_1ED641530;
    v10 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      __os_log_helper_16_2_1_8_64(buf, [v12 localizedDescription]);
      _os_log_error_impl(&dword_19D52D000, v11, v10, "Error signaling all accepted credentials: %@.", buf, 0xCu);
    }

    v7[0] = 24;
    v5 = WTF::StringLiterals::operator"" _s("Error signaling all accepted credentials", 0x28);
    v6 = v3;
    WTF::String::String(&v8, v5, v3);
    std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(v9, v7);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(a1, v9);
    std::optional<WebCore::ExceptionData>::~optional(v9);
    WebCore::ExceptionData::~ExceptionData(v7);
  }

  else
  {
    std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](v4);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(a1, v4);
    std::optional<WebCore::ExceptionData>::~optional(v4);
  }
}

void sub_19E449DC8(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, char a11, uint64_t a12, uint64_t a13, int a14, int a15, uint64_t a16)
{
  a16 = a1;
  a15 = a2;
  std::optional<WebCore::ExceptionData>::~optional(&a11);
  JUMPOUT(0x19E449DD8);
}

void *WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x28uLL, 0x10E004053C0834CuLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::descriptor;
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

void WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::__invoke(uint64_t a1, void *a2)
{
  v4 = a1;
  v3 = a2;
  WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalAllAcceptedCredentials(WebCore::SecurityOriginData const&,WebCore::AllAcceptedCredentialsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::operator()(&v2, a1, a2);
}

WTF::ThreadLikeAssertion *WTF::makeBlockPtr<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &,void,NSError *>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[6] = a1;
  v6[5] = a4;
  v6[4] = a3;
  v6[3] = a2;
  v6[2] = a4;
  v6[1] = a3;
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(v6, a2);
  WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(a1, v6);
  return WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::~$_0(v6);
}

void WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::operator()(uint64_t *a1, void *a2)
{
  v15 = *MEMORY[0x1E69E9840];
  v13 = a1;
  v12 = a2;
  if (a2)
  {
    v11 = qword_1ED641530;
    v10 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(qword_1ED641530, OS_LOG_TYPE_ERROR))
    {
      __os_log_helper_16_2_1_8_64(buf, [v12 localizedDescription]);
      _os_log_error_impl(&dword_19D52D000, v11, v10, "Error signaling current user details: %@.", buf, 0xCu);
    }

    v7[0] = 24;
    v5 = WTF::StringLiterals::operator"" _s("Error signaling current user details.", 0x25);
    v6 = v3;
    WTF::String::String(&v8, v5, v3);
    std::optional<WebCore::ExceptionData>::optional[abi:sn200100]<WebCore::ExceptionData,0>(v9, v7);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(a1, v9);
    std::optional<WebCore::ExceptionData>::~optional(v9);
    WebCore::ExceptionData::~ExceptionData(v7);
  }

  else
  {
    std::optional<WebCore::AuthenticationExtensionsClientOutputs::PRFValues>::optional[abi:sn200100](v4);
    WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)>::operator()(a1, v4);
    std::optional<WebCore::ExceptionData>::~optional(v4);
  }
}

void sub_19E44A1C0(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, char a11, uint64_t a12, uint64_t a13, int a14, int a15, uint64_t a16)
{
  a16 = a1;
  a15 = a2;
  std::optional<WebCore::ExceptionData>::~optional(&a11);
  JUMPOUT(0x19E44A1D0);
}

void *WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x28uLL, 0x10E004053C0834CuLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::descriptor;
  WebKit::WebAuthenticatorCoordinatorProxy::signalUnknownCredential(WebCore::SecurityOriginData const&,WebCore::UnknownCredentialOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0::$_0(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

void WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::__invoke(uint64_t a1, void *a2)
{
  v4 = a1;
  v3 = a2;
  WTF::BlockPtr<void ()(NSError *)>::fromCallable<WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0>(WebKit::WebAuthenticatorCoordinatorProxy::signalCurrentUserDetails(WebCore::SecurityOriginData const&,WebCore::CurrentUserDetailsOptions &&,WTF::CompletionHandler<void ()(std::optional<WebCore::ExceptionData>)> &&)::$_0)::{lambda(void *,NSError *)#1}::operator()(&v2, a1, a2);
}

void sub_19E44A3F8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, _Unwind_Exception *exception_object)
{
  WTF::ThreadLikeAssertion::~ThreadLikeAssertion(v11);
  WTF::Function<void ()(void)>::~Function(v11);
  _Unwind_Resume(a1);
}

void WebKit::WebAuthenticatorCoordinatorProxy::constructASController(WebKit::WebAuthenticationRequestData const&)::$_0::operator()(uint64_t a1, const WebCore::SecurityOriginData *a2)
{
  v8 = *MEMORY[0x1E69E9840];
  v6[2] = a1;
  v6[1] = a2;
  v3 = *(a1 + 8);
  if (std::optional<WebKit::FrameInfoData>::operator BOOL[abi:sn200100](*(a1 + 16) + 368))
  {
    std::optional<WebKit::FrameInfoData>::operator*[abi:sn200100](*(a1 + 16) + 368);
    WebCore::SecurityOriginData::SecurityOriginData(v7, (v5 + 208));
  }

  else
  {
    memset(v7, 0, sizeof(v7));
    WebCore::SecurityOriginData::SecurityOriginData(v7);
  }

  WebKit::WebAuthenticatorCoordinatorProxy::requestsForRegistration(v6, v3, a2, v7);
  WTF::RetainPtr<WKWebView>::operator=(*a1, v6);
  WTF::RetainPtr<WKWebView>::~RetainPtr(v6);
  WebCore::SecurityOriginData::~SecurityOriginData(v7);
}

void WebKit::WebAuthenticatorCoordinatorProxy::constructASController(WebKit::WebAuthenticationRequestData const&)::$_1::operator()(uint64_t a1, WebCore::BufferSource *a2)
{
  v8 = *MEMORY[0x1E69E9840];
  v6[2] = a1;
  v6[1] = a2;
  v3 = *(a1 + 8);
  if (std::optional<WebKit::FrameInfoData>::operator BOOL[abi:sn200100](*(a1 + 16) + 368))
  {
    std::optional<WebKit::FrameInfoData>::operator*[abi:sn200100](*(a1 + 16) + 368);
    WebCore::SecurityOriginData::SecurityOriginData(v7, (v5 + 208));
  }

  else
  {
    memset(v7, 0, sizeof(v7));
    WebCore::SecurityOriginData::SecurityOriginData(v7);
  }

  WebKit::WebAuthenticatorCoordinatorProxy::requestsForAssertion(v6, v3, a2, v7, *(a1 + 16) + 760);
  WTF::RetainPtr<WKWebView>::operator=(*a1, v6);
  WTF::RetainPtr<WKWebView>::~RetainPtr(v6);
  WebCore::SecurityOriginData::~SecurityOriginData(v7);
}

WebCore::SecurityOriginData *WebCore::SecurityOriginData::SecurityOriginData(WebCore::SecurityOriginData *this)
{
  WebCore::SecurityOriginData::SecurityOriginData(this);
  return this;
}

{
  mpark::variant<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>::variant<WebCore::SecurityOriginData::Tuple,0>(this);
  return this;
}

_BYTE *mpark::variant<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>::variant<WebCore::SecurityOriginData::Tuple,0>(_BYTE *a1)
{
  mpark::variant<WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>::variant<WebCore::SecurityOriginData::Tuple,0>(a1);
  return a1;
}

{
  _ZN5mpark6detail4implIJN7WebCore18SecurityOriginData5TupleENS2_16ProcessQualifiedIN3WTF23ObjectIdentifierGenericINS2_26OpaqueOriginIdentifierTypeENS6_38ObjectIdentifierThreadSafeAccessTraitsIyEEyEEEEEECI1NS0_4baseILNS0_5TraitE1EJS4_SC_EEEILm0EJEEENS_16in_place_index_tIXT_EEEDpOT0_(a1);
  return a1;
}

_BYTE *mpark::detail::base<(mpark::detail::Trait)1,WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>::base<0ul>(_BYTE *a1)
{
  mpark::detail::recursive_union<(mpark::detail::Trait)1,0ul,WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>::recursive_union<>(a1);
  a1[24] = 0;
  return a1;
}

void *mpark::detail::recursive_union<(mpark::detail::Trait)1,0ul,WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>::recursive_union<>(void *a1)
{
  mpark::detail::recursive_union<(mpark::detail::Trait)1,0ul,WebCore::SecurityOriginData::Tuple,WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::OpaqueOriginIdentifierType,WTF::ObjectIdentifierThreadSafeAccessTraits<unsigned long long>,unsigned long long>>>::recursive_union<>(a1);
  return a1;
}

{
  mpark::detail::alt<0ul,WebCore::SecurityOriginData::Tuple>::alt<>(a1);
  return a1;
}

void *mpark::detail::alt<0ul,WebCore::SecurityOriginData::Tuple>::alt<>(void *a1)
{
  mpark::detail::alt<0ul,WebCore::SecurityOriginData::Tuple>::alt<>(a1);
  return a1;
}

{
  memset(a1, 0, 0x18uLL);
  WebCore::SecurityOriginData::Tuple::Tuple(a1);
  return a1;
}

WebCore::SecurityOriginData::Tuple *WebCore::SecurityOriginData::Tuple::Tuple(WebCore::SecurityOriginData::Tuple *this)
{
  WebCore::SecurityOriginData::Tuple::Tuple(this);
  return this;
}

{
  WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(this);
  WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(this + 1);
  std::optional<unsigned short>::optional[abi:sn200100](this + 16);
  return this;
}

void sub_19E44AAF0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, int a10, int a11, _Unwind_Exception *exception_object, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17)
{
  *(v18 - 48) = v17;
  v19 = *(v18 - 48);
  a17 = 0;
  *(v18 - 24) = v19;
  *(v18 - 32) = &a17;
  *(v18 - 40) = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(*(v18 - 24));
  if (*(v18 - 40))
  {
    WTF::StringImpl::deref(*(v18 - 40));
  }

  _Unwind_Resume(a1);
}

_BYTE *std::optional<unsigned short>::optional[abi:sn200100](_BYTE *a1)
{
  std::optional<unsigned short>::optional[abi:sn200100](a1);
  return a1;
}

{
  std::__optional_move_assign_base<unsigned short,true>::__optional_move_assign_base(a1);
  return a1;
}

_BYTE *std::__optional_destruct_base<unsigned short,true>::__optional_destruct_base[abi:sn200100](_BYTE *result)
{
  *result = 0;
  result[2] = 0;
  return result;
}

uint64_t WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::find<WebCore::AuthenticatorTransport>(char *a1, char *a2)
{
  v3[2] = a1;
  v3[1] = a2;
  v3[0] = a2;
  return WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::findIf<unsigned long WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::find<WebCore::AuthenticatorTransport>(WebCore::AuthenticatorTransport const&)::{lambda(WebCore::AuthenticatorTransport&)#1}>(a1, v3);
}

uint64_t WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::findIf<unsigned long WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::find<WebCore::AuthenticatorTransport>(WebCore::AuthenticatorTransport const&)::{lambda(WebCore::AuthenticatorTransport&)#1}>(uint64_t a1, char **a2)
{
  for (i = 0; i < WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a1); ++i)
  {
    v3 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::at(a1, i);
    if (WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::find<WebCore::AuthenticatorTransport>(WebCore::AuthenticatorTransport const&)const::{lambda(WebCore::AuthenticatorTransport&)#1}::operator()<WebCore::AuthenticatorTransport const>(a2, v3))
    {
      return i;
    }
  }

  return -1;
}

WTF *WTF::NeverDestroyed<WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::MainRunLoopAccessTraits>::NeverDestroyed<>(WTF *a1)
{
  v5 = a1;
  WTF::isIntegralOrPointerType(a1);
  WTF::NeverDestroyed<WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::MainRunLoopAccessTraits>::storagePointer(a1);
  WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator new();
  WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(v2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v4);
  return a1;
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>,WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>,WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x10);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135C70;
  WebKit::CtapAuthenticator::makeCredential(void)::$_0::$_0(a1 + 1, a2);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0,void>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135C70;
  WebKit::CtapHidDriverWorker::transact(fido::FidoHidMessage &&,WTF::Function<void ()(std::optional<fido::FidoHidMessage> &&)> &&)::$_0::~$_0(a1 + 1);
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::makeActiveConditionalAssertion(void)::$_0::operator()(uint64_t *a1)
{
  result = WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator!(a1);
  if ((result & 1) == 0)
  {
    v3 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
    return WebKit::WebAuthenticatorCoordinatorProxy::unpauseConditionalAssertion(v3);
  }

  return result;
}

void WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &&)::$_0::operator()(uint64_t **a1, void *a2)
{
  v11 = *MEMORY[0x1E69E9840];
  v9[2] = a1;
  v9[1] = a2;
  v4 = a1[1];
  v7 = *(v4 + 21);
  v8 = v4[44];
  v6 = *(a1[1] + 376);
  if (std::optional<WebKit::FrameInfoData>::operator BOOL[abi:sn200100]((a1[1] + 46)))
  {
    std::optional<WebKit::FrameInfoData>::operator*[abi:sn200100]((a1[1] + 46));
    WebCore::SecurityOriginData::SecurityOriginData(v10, (v5 + 208));
  }

  else
  {
    memset(v10, 0, sizeof(v10));
    WebCore::SecurityOriginData::SecurityOriginData(v10);
  }

  WebKit::configureRegistrationRequestContext(v9, a2, &v7, v6, v10);
  WTF::RetainPtr<WKWebView>::operator=(*a1, v9);
  WTF::RetainPtr<WKWebView>::~RetainPtr(v9);
  WebCore::SecurityOriginData::~SecurityOriginData(v10);
}

void WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &&)::$_1::operator()(uint64_t **a1, void *a2)
{
  v13 = *MEMORY[0x1E69E9840];
  v11[2] = a1;
  v11[1] = a2;
  v10 = *(a1[1] + 376);
  v4 = a1[1];
  v8 = *(v4 + 21);
  v9 = v4[44];
  v5 = a1[1];
  v6 = (v5 + 95);
  if (std::optional<WebKit::FrameInfoData>::operator BOOL[abi:sn200100]((v5 + 46)))
  {
    std::optional<WebKit::FrameInfoData>::operator*[abi:sn200100]((a1[1] + 46));
    WebCore::SecurityOriginData::SecurityOriginData(v12, (v7 + 208));
  }

  else
  {
    memset(v12, 0, sizeof(v12));
    WebCore::SecurityOriginData::SecurityOriginData(v12);
  }

  WebKit::configurationAssertionRequestContext(v11, a2, v10, &v8, v6, v12);
  WTF::RetainPtr<WKWebView>::operator=(*a1, v11);
  WTF::RetainPtr<WKWebView>::~RetainPtr(v11);
  WebCore::SecurityOriginData::~SecurityOriginData(v12);
}

uint64_t *WebKit::configureRegistrationRequestContext(void **a1, uint64_t a2, __int128 *a3, __int16 a4, WebCore::SecurityOriginData *a5)
{
  v95 = a1;
  v94 = a4;
  v93 = a2;
  v92 = a3;
  v91 = a5;
  v90 = 20;
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v89);
  v88 = 0;
  std::optional<BOOL>::optional[abi:sn200100](&v87);
  memcpy(__dst, (v93 + 120), sizeof(__dst));
  v7 = std::optional<WebCore::AuthenticatorSelectionCriteria>::operator BOOL[abi:sn200100](__dst);
  if (v7)
  {
    std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](__dst);
    v85[0] = *v8;
    v85[1] = v8[1];
    v84 = 0;
    if (std::operator==[abi:sn200100]<WebCore::MediationRequirement,WebCore::MediationRequirement>(v85, &v84))
    {
      v90 = 4;
    }

    else
    {
      v83[0] = 1;
      if (std::operator==[abi:sn200100]<WebCore::MediationRequirement,WebCore::MediationRequirement>(v85, v83))
      {
        v90 = 16;
      }
    }

    std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](__dst);
    WebKit::toNSString(&v82, *(v9 + 5));
    WTF::RetainPtr<NSString>::operator=(&v89, &v82);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v82);
    std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](__dst);
    v88 = *(v10 + 4) & 1;
    std::optional<WebCore::AuthenticatorSelectionCriteria>::operator->[abi:sn200100](__dst);
    v87 = *(v7 + 2);
  }

  isAvailable = WebKit::LocalService::isAvailable(v7);
  if ((isAvailable & 1) == 0)
  {
    v90 &= ~4uLL;
  }

  v81 = 0;
  v12 = WebKit::allocASCCredentialRequestContextInstance(isAvailable);
  WTF::adoptCF<__IOHIDManager *>(a1, [v12 initWithRequestTypes:v90]);
  v13 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
  WTF::String::createNSString((v93 + 16), &v80);
  [v13 setRelyingPartyIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v80)}];
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v80);
  WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v79, a1);
  v14 = *a3;
  v78 = *(a3 + 2);
  v77 = v14;
  WebKit::setGlobalFrameIDForContext(&v79, &v77);
  v15 = WTF::RetainPtr<WKWebView>::~RetainPtr(&v79);
  v16 = [WebKit::allocASCPublicKeyCredentialCreationOptionsInstance(v15) init];
  WTF::adoptCF<__IOHIDManager *>(&v76, v16);
  WebCore::SecurityOriginData::securityOrigin(&v74, v91);
  WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v74);
  v73 = 0;
  WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(&v73);
  WebCore::buildClientDataJson();
  v96 = &v73;
  v97 = &v73;
  v98 = &v73;
  v99[1] = &v73;
  v99[0] = 0;
  v102 = &v73;
  v101 = v99;
  v100 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v73);
  if (v100)
  {
    WTF::StringImpl::deref(v100);
  }

  WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(&v74);
  v17 = WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v75);
  v70 = JSC::ArrayBuffer::span(v17);
  v71 = v18;
  WTF::toNSData(&v72, v70, v18);
  v19 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  [v19 setClientDataJSON:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v72)}];
  v20 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  WTF::String::createNSString((v93 + 16), &v69);
  [v20 setRelyingPartyIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v69)}];
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v69);
  v21 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  WTF::String::createNSString((v93 + 24), &v68);
  [v21 setUserName:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v68)}];
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v68);
  v22 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  WebCore::toNSData(&v67, (v93 + 40));
  [v22 setUserIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v67)}];
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v67);
  v23 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  WTF::String::createNSString((v93 + 56), &v66);
  [v23 setUserDisplayName:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v66)}];
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v66);
  v24 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  [v24 setUserVerificationPreference:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v89)}];
  std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  if (objc_opt_respondsToSelector())
  {
    v25 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
    v65 = v87;
    v64 = v87;
    [v25 setResidentKeyPreference:{WebKit::toASCResidentKeyPreference(v87, v88 & 1)}];
  }

  else
  {
    v26 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
    [v26 setShouldRequireResidentKey:v88 & 1];
  }

  v27 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  WebKit::toAttestationConveyancePreference(&v63, *(v93 + 128));
  [v27 setAttestationPreference:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v63)}];
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v63);
  v28 = objc_alloc(MEMORY[0x1E695DF70]);
  v29 = [v28 initWithCapacity:{WTF::Vector<unsigned char, 0ul, WTF::CrashOnOverflow, 16ul, WTF::FastMalloc>::size(v93 + 80)}];
  WTF::adoptCF<__IOHIDManager *>(&v61, v29);
  WTF::RetainPtr<NSURLRequest>::RetainPtr(&v62, &v61);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v61);
  v60 = v93 + 80;
  v59 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v93 + 80);
  v58 = WTF::Vector<WebCore::PublicKeyCredentialParameters,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v60);
  while (v59 != v58)
  {
    v56 = *v59;
    v57 = v59[1];
    [std::span<char const 18446744073709551615ul>:"addObject:" :objc_msgSend(MEMORY[0x1E696AD98] data[abi:{"numberWithLongLong:", v57)}sn200100](&v62)];
    v59 += 2;
  }

  v30 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
  [v30 setSupportedAlgorithmIdentifiers:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v62)}];
  v55 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(v93 + 104);
  if (v55)
  {
    WTF::adoptCF<__IOHIDManager *>(&v53, [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:v55]);
    WTF::RetainPtr<NSURLRequest>::RetainPtr(&v54, &v53);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v53);
    v52 = v93 + 104;
    v51 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v93 + 104);
    v50 = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v52);
    while (v51 != v50)
    {
      WebCore::PublicKeyCredentialDescriptor::PublicKeyCredentialDescriptor(v49, v51);
      v31 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v54);
      WebCore::PublicKeyCredentialDescriptor::PublicKeyCredentialDescriptor(v47, v49);
      WebKit::toASCDescriptor(&v48, v47);
      [v31 addObject:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v48)}];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v48);
      WebCore::PublicKeyCredentialDescriptor::~PublicKeyCredentialDescriptor(v47);
      WebCore::PublicKeyCredentialDescriptor::~PublicKeyCredentialDescriptor(v49);
      v51 = (v51 + 40);
    }

    v32 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
    [v32 setExcludedCredentials:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v54)}];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v54);
  }

  if (std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator BOOL[abi:sn200100](v93 + 136))
  {
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
    if (objc_opt_respondsToSelector())
    {
      v33 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v93 + 136);
      WebCore::AuthenticationExtensionsClientInputs::toCBOR(v44, v34);
      std::span<unsigned char const,18446744073709551615ul>::span[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v45, v44);
      WTF::toNSData(&v46, v45[0], v45[1]);
      [v33 setExtensionsCBOR:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v46)}];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v46);
      WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v44);
    }

    else
    {
      v35 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v93 + 136);
      WebKit::toASCExtensions(&v43, v36);
      [v35 setExtensions:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v43)}];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v43);
    }
  }

  if (std::optional<unsigned int>::operator BOOL[abi:sn200100](v93 + 96))
  {
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v76);
    if (objc_opt_respondsToSelector())
    {
      v37 = MEMORY[0x1E696AD98];
      std::optional<unsigned int>::operator*[abi:sn200100](v93 + 96);
      [std::span<char const 18446744073709551615ul>:"setTimeout:" :objc_msgSend(v37 data[abi:{"numberWithUnsignedInt:", *v38)}sn200100](&v76)];
    }
  }

  if ((v90 & 4) != 0)
  {
    v39 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
    [v39 setPlatformKeyCredentialCreationOptions:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v76)}];
  }

  if ((v90 & 0x10) != 0)
  {
    v40 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
    [v40 setSecurityKeyCredentialCreationOptions:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v76)}];
  }

  v42 = 3;
  if (std::operator==[abi:sn200100]<WebCore::MediationRequirement,WebCore::MediationRequirement>(&v94, &v42))
  {
    [std::span<char const 18446744073709551615ul>:"setRequestStyle:" :2 data[abi:?sn200100](a1)];
  }

  v81 = 1;
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v62);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v72);
  WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v75);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v76);
  if ((v81 & 1) == 0)
  {
    WTF::RetainPtr<WKWebView>::~RetainPtr(a1);
  }

  return WTF::RetainPtr<WKWebView>::~RetainPtr(&v89);
}

void **WebKit::toNSString(void **a1, char a2)
{
  if (!a2)
  {
    return WTF::RetainPtr<NSString>::RetainPtr(a1, @"required");
  }

  if (a2 == 2)
  {
    return WTF::RetainPtr<NSString>::RetainPtr(a1, @"discouraged");
  }

  return WTF::RetainPtr<NSString>::RetainPtr(a1, @"preferred");
}

uint64_t *WTF::RetainPtr<NSString>::operator=(uint64_t *a1, uint64_t *a2)
{
  v4[2] = a1;
  v4[1] = a2;
  WTF::RetainPtr<NSURLRequest>::RetainPtr(v4, a2);
  WTF::RetainPtr<NSURLRequest>::swap(a1, v4);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(v4);
}

uint64_t WebKit::setGlobalFrameIDForContext(uint64_t a1, uint64_t a2)
{
  v13[2] = a1;
  v13[1] = a2;
  result = std::optional<WebCore::GlobalFrameIdentifier>::operator BOOL[abi:sn200100](a2);
  if (result)
  {
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](a1);
    result = objc_opt_respondsToSelector();
    if (result)
    {
      v5 = WebKit::allocASGlobalFrameIdentifierInstance(result);
      v6 = MEMORY[0x1E696AD98];
      std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](a2);
      v8 = [v6 numberWithUnsignedLong:{WTF::Vector<unsigned char, 0ul, WTF::CrashOnOverflow, 16ul, WTF::FastMalloc>::data(v7)}];
      v9 = MEMORY[0x1E696AD98];
      std::optional<WebCore::GlobalFrameIdentifier>::operator->[abi:sn200100](a2);
      v11 = [v5 initWithPageID:v8 frameID:{objc_msgSend(v9, "numberWithUnsignedLong:", WTF::Vector<unsigned char, 0ul, WTF::CrashOnOverflow, 16ul, WTF::FastMalloc>::data(v10 + 8))}];
      WTF::adoptCF<__IOHIDManager *>(v13, v11);
      v12 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](v13);
      [std::span<char const 18446744073709551615ul>:"setGlobalFrameID:" :v12 data[abi:?sn200100](a1)];
      return WTF::RetainPtr<WKWebView>::~RetainPtr(v13);
    }
  }

  return result;
}

uint64_t WebKit::toASCResidentKeyPreference(__int16 a1, char a2)
{
  v6 = a1;
  if (std::optional<WebCore::MediationRequirement>::operator BOOL[abi:sn200100](&v6))
  {
    std::optional<WebCore::MediationRequirement>::operator*[abi:sn200100](&v6);
    if (*v3)
    {
      if (*v3 == 1)
      {
        return 2;
      }

      else
      {
        return *v3 == 2;
      }
    }

    else
    {
      return 3;
    }
  }

  else if (a2)
  {
    return 3;
  }

  else
  {
    return 0;
  }
}

uint64_t *WebKit::toASCDescriptor(void *a1, uint64_t a2)
{
  v17[2] = a1;
  v17[1] = a2;
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(v17);
  v4 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(a2 + 24);
  v16 = v4;
  if (v4)
  {
    WTF::adoptCF<__IOHIDManager *>(&v15, [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:v16]);
    WTF::RetainPtr<WKWebView>::operator=(v17, &v15);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v15);
    v14 = a2 + 24;
    v13 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(a2 + 24);
    v4 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(a2 + 24);
    v12 = v4;
    while (v13 != v12)
    {
      v11 = *v13;
      v10 = 0;
      if (v11)
      {
        switch(v11)
        {
          case 1:
            v10 = @"nfc";
            break;
          case 2:
            v10 = @"ble";
            break;
          case 3:
            v10 = @"internal";
            break;
          case 4:
            v10 = @"cable";
            break;
          case 5:
            v10 = @"hybrid";
            break;
          case 6:
            v10 = @"smart-card";
            break;
        }
      }

      else
      {
        v10 = @"usb";
      }

      if (v10)
      {
        v4 = [std::span<char const 18446744073709551615ul>:"addObject:" :v10 data[abi:?sn200100](v17)];
      }

      v13 = (v13 + 1);
    }
  }

  v5 = WebKit::allocASCPublicKeyCredentialDescriptorInstance(v4);
  WebCore::toNSData(&v9, (a2 + 8));
  v6 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v9);
  v7 = [v5 initWithCredentialID:v6 transports:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](v17)}];
  WTF::adoptCF<__IOHIDManager *>(a1, v7);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v9);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(v17);
}

void sub_19E44C948(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, int a16, int a17, uint64_t a18)
{
  a18 = a1;
  a17 = a2;
  WTF::RetainPtr<WKWebView>::~RetainPtr(&a10);
  JUMPOUT(0x19E44C958);
}

uint64_t *WebKit::toASCExtensions(WebKit *this, const WebCore::AuthenticationExtensionsClientInputs *a2)
{
  v9 = this;
  v8 = a2;
  v3 = [WebKit::getASCWebAuthenticationExtensionsClientInputsClass[0](this) instancesRespondToSelector:sel_initWithAppID_];
  if ((v3 & 1) == 0)
  {
    return WTF::RetainPtr<ASAuthorizationController>::RetainPtr(this);
  }

  v4 = WebKit::allocASCWebAuthenticationExtensionsClientInputsInstance(v3);
  WTF::String::createNSString(v8, &v7);
  v5 = [v4 initWithAppID:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v7)}];
  WTF::adoptCF<__IOHIDManager *>(this, v5);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(&v7);
}

uint64_t *WebKit::configurationAssertionRequestContext(void **a1, uint64_t a2, __int16 a3, __int128 *a4, uint64_t a5, WebCore::SecurityOriginData *a6)
{
  v54 = a1;
  v53 = a3;
  v52 = a2;
  v51 = a4;
  v50 = a5;
  v49 = a6;
  v48 = 40;
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v47);
  v46[0] = *(v52 + 208);
  v46[1] = *(v52 + 209);
  v45 = 0;
  if (std::operator==[abi:sn200100]<WebCore::MediationRequirement,WebCore::MediationRequirement>(v46, &v45))
  {
    v48 = 8;
  }

  else
  {
    v44 = 1;
    if (std::operator==[abi:sn200100]<WebCore::MediationRequirement,WebCore::MediationRequirement>(v46, &v44))
    {
      v48 = 32;
    }
  }

  WebKit::toNSString(&v43, *(v52 + 48));
  WTF::RetainPtr<NSString>::operator=(&v47, &v43);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v43);
  v42 = WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::size(v52 + 32);
  v8 = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v41);
  if (v42)
  {
    v9 = objc_alloc(MEMORY[0x1E695DF70]);
    WTF::adoptCF<__IOHIDManager *>(&v40, [v9 initWithCapacity:v42]);
    WTF::RetainPtr<WKWebView>::operator=(&v41, &v40);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v40);
    v39 = v52 + 32;
    v38 = WTF::Vector<WTF::Ref<WebKit::AuthenticatorTransportService,WTF::RawPtrTraits<WebKit::AuthenticatorTransportService>,WTF::DefaultRefDerefTraits<WebKit::AuthenticatorTransportService>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::begin(v52 + 32);
    v8 = WTF::Vector<WebCore::PublicKeyCredentialDescriptor,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::end(v39);
    v37 = v8;
    while (v38 != v37)
    {
      WebCore::PublicKeyCredentialDescriptor::PublicKeyCredentialDescriptor(v36, v38);
      v10 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v41);
      WebCore::PublicKeyCredentialDescriptor::PublicKeyCredentialDescriptor(v34, v36);
      WebKit::toASCDescriptor(&v35, v34);
      [v10 addObject:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v35)}];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v35);
      WebCore::PublicKeyCredentialDescriptor::~PublicKeyCredentialDescriptor(v34);
      WebCore::PublicKeyCredentialDescriptor::~PublicKeyCredentialDescriptor(v36);
      v38 = (v38 + 40);
    }
  }

  v11 = WebKit::allocASCCredentialRequestContextInstance(v8);
  WTF::adoptCF<__IOHIDManager *>(&v33, [v11 initWithRequestTypes:v48]);
  v12 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v33);
  WTF::String::createNSString((v52 + 24), &v32);
  [v12 setRelyingPartyIdentifier:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v32)}];
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v32);
  v31 = 3;
  if (std::operator==[abi:sn200100]<WebCore::MediationRequirement,WebCore::MediationRequirement>(&v53, &v31))
  {
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v33);
    if ((objc_opt_respondsToSelector() & 1) == 0)
    {
      WTF::RetainPtr<ASAuthorizationController>::RetainPtr(a1);
      v30 = 1;
      goto LABEL_24;
    }

    [std::span<char const 18446744073709551615ul>:"setRequestStyle:" :1 data[abi:?sn200100](&v33)];
  }

  WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v29, &v33);
  v13 = *a4;
  v28 = *(a4 + 2);
  v27 = v13;
  WebKit::setGlobalFrameIDForContext(&v29, &v27);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v29);
  if ((v48 & 8) == 0 || ((v14 = v52, v15 = v50, WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v25, &v41), WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v24, &v47), WebKit::configureAssertionOptions(&v26, v14, 1, v15, &v25, &v24, v49), WTF::RetainPtr<WKWebView>::~RetainPtr(&v24), WTF::RetainPtr<WKWebView>::~RetainPtr(&v25), !WTF::RefPtr<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>::operator!(&v26)) ? (v16 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v33), [v16 setPlatformKeyCredentialAssertionOptions:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v26)}], v30 = 0) : (WTF::RetainPtr<ASAuthorizationController>::RetainPtr(a1), v30 = 1), WTF::RetainPtr<WKWebView>::~RetainPtr(&v26), !v30))
  {
    if ((v48 & 0x20) == 0 || ((v17 = v52, v18 = v50, WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v22, &v41), WTF::RetainPtr<ASCCredentialRequestContext>::RetainPtr(&v21, &v47), WebKit::configureAssertionOptions(&v23, v17, 2, v18, &v22, &v21, v49), WTF::RetainPtr<WKWebView>::~RetainPtr(&v21), WTF::RetainPtr<WKWebView>::~RetainPtr(&v22), !WTF::RefPtr<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>::operator!(&v23)) ? (v19 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v33), [v19 setSecurityKeyCredentialAssertionOptions:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v23)}], v30 = 0) : (WTF::RetainPtr<ASAuthorizationController>::RetainPtr(a1), v30 = 1), WTF::RetainPtr<WKWebView>::~RetainPtr(&v23), !v30))
    {
      WTF::RetainPtr<NSURLRequest>::RetainPtr(a1, &v33);
      v30 = 1;
    }
  }

LABEL_24:
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v33);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v41);
  return WTF::RetainPtr<WKWebView>::~RetainPtr(&v47);
}

atomic_uint *WebKit::configureAssertionOptions(void **a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, WebCore::SecurityOriginData *a7)
{
  v65 = a1;
  v64 = a2;
  v63 = a3;
  v62 = a4;
  v61 = a5;
  v60 = a6;
  v59 = a7;
  v58 = (std::optional<WebCore::SecurityOriginData>::operator BOOL[abi:sn200100](a4) & 1) == 0;
  v10 = std::optional<WebCore::SecurityOriginData>::operator BOOL[abi:sn200100](v62);
  if (v10)
  {
    std::optional<WebCore::SecurityOriginData>::operator->[abi:sn200100](v62);
    WebCore::SecurityOriginData::toString(&v57, v11);
  }

  else
  {
    WTF::isIntegralOrPointerType(v10);
    WTF::String::String(&v57, MEMORY[0x1E696EBA0]);
  }

  WebCore::SecurityOriginData::securityOrigin(&v55, v59);
  WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v55);
  WebCore::buildClientDataJson();
  WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(&v55);
  v12 = WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v56);
  v52 = JSC::ArrayBuffer::span(v12);
  v53 = v13;
  WTF::toNSData(&v54, v52, v13);
  v14 = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(&v51);
  v15 = [WebKit::getASCPublicKeyCredentialAssertionOptionsClass[0](v14) instancesRespondToSelector:sel_initWithKind_relyingPartyIdentifier_clientDataJSON_userVerificationPreference_allowedCredentials_origin_];
  if (v15)
  {
    v16 = WebKit::allocASCPublicKeyCredentialAssertionOptionsInstance(v15);
    v17 = v63;
    WTF::String::createNSString((v64 + 24), &v49);
    v18 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v49);
    v19 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v54);
    v20 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a6);
    v21 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a5);
    WebCore::SecurityOriginData::toString(&v47, v59);
    WTF::String::createNSString(&v47, &v48);
    v22 = [v16 initWithKind:v17 relyingPartyIdentifier:v18 clientDataJSON:v19 userVerificationPreference:v20 allowedCredentials:v21 origin:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v48)}];
    WTF::adoptCF<__IOHIDManager *>(&v50, v22);
    WTF::RetainPtr<WKWebView>::operator=(&v51, &v50);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v50);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v48);
    v67 = &v47;
    v68 = &v47;
    v69 = &v47;
    v70[1] = &v47;
    v70[0] = 0;
    v73 = &v47;
    v72 = v70;
    v71 = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v47);
    if (v71)
    {
      WTF::StringImpl::deref(v71);
    }

    WTF::RetainPtr<WKWebView>::~RetainPtr(&v49);
  }

  else
  {
    v23 = WebKit::allocASCPublicKeyCredentialAssertionOptionsInstance(v15);
    v24 = v63;
    WTF::String::createNSString((v64 + 24), &v45);
    v25 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v45);
    v26 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v54);
    v27 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](a6);
    v28 = [v23 initWithKind:v24 relyingPartyIdentifier:v25 clientDataJSON:v26 userVerificationPreference:v27 allowedCredentials:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](a5)}];
    WTF::adoptCF<__IOHIDManager *>(&v46, v28);
    WTF::RetainPtr<WKWebView>::operator=(&v51, &v46);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v46);
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v45);
  }

  if (std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator BOOL[abi:sn200100](v64 + 56))
  {
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v51);
    if (objc_opt_respondsToSelector())
    {
      v29 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v51);
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v64 + 56);
      WebCore::AuthenticationExtensionsClientInputs::toCBOR(v42, v30);
      std::span<unsigned char const,18446744073709551615ul>::span[abi:sn200100]<WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &>(v43, v42);
      WTF::toNSData(&v44, v43[0], v43[1]);
      [v29 setExtensionsCBOR:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v44)}];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v44);
      WTF::Vector<WebCore::AuthenticatorTransport,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v42);
    }

    else
    {
      v31 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v51);
      std::optional<WebCore::AuthenticationExtensionsClientInputs>::operator->[abi:sn200100](v64 + 56);
      WebKit::toASCExtensions(&v41, v32);
      [v31 setExtensions:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v41)}];
      WTF::RetainPtr<WKWebView>::~RetainPtr(&v41);
    }
  }

  if (std::optional<WebCore::SecurityOriginData>::operator BOOL[abi:sn200100](v62) & 1) != 0 && (std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v51), (objc_opt_respondsToSelector()))
  {
    std::optional<WebCore::SecurityOriginData>::operator->[abi:sn200100](v62);
    WebCore::RegistrableDomain::RegistrableDomain(&v39, v33);
    std::__to_address[abi:sn200100]<char const>();
    WTF::String::createNSString(v34, &v40);
    v35 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v40);
    [std::span<char const 18446744073709551615ul>:"setDestinationSiteForCrossSiteAssertion:" :v35 data[abi:?sn200100](&v51)];
    WTF::RetainPtr<WKWebView>::~RetainPtr(&v40);
    WTF::KeyValuePair<WTF::String,BOOL>::~KeyValuePair(&v39);
  }

  else if (std::optional<WebCore::SecurityOriginData>::operator BOOL[abi:sn200100](v62))
  {
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v51);
    if ((objc_opt_respondsToSelector() & 1) == 0)
    {
      WTF::RetainPtr<ASAuthorizationController>::RetainPtr(a1);
      goto LABEL_23;
    }
  }

  if (std::optional<unsigned int>::operator BOOL[abi:sn200100](v64 + 16))
  {
    std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v51);
    if (objc_opt_respondsToSelector())
    {
      v36 = MEMORY[0x1E696AD98];
      std::optional<unsigned int>::operator*[abi:sn200100](v64 + 16);
      [std::span<char const 18446744073709551615ul>:"setTimeout:" :objc_msgSend(v36 data[abi:{"numberWithUnsignedInt:", *v37)}sn200100](&v51)];
    }
  }

  WTF::RetainPtr<NSURLRequest>::RetainPtr(a1, &v51);
LABEL_23:
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v51);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v54);
  WTF::Ref<JSC::ArrayBuffer,WTF::RawPtrTraits<JSC::ArrayBuffer>,WTF::DefaultRefDerefTraits<JSC::ArrayBuffer>>::~Ref(&v56);
  v66 = &v57;
  v74 = &v57;
  v75 = &v57;
  v76[1] = &v57;
  v76[0] = 0;
  v79 = &v57;
  v78 = v76;
  result = std::exchange[abi:sn200100]<WTF::StringImpl *,decltype(nullptr) &>(&v57);
  v77 = result;
  if (result)
  {
    return WTF::StringImpl::deref(v77);
  }

  return result;
}

void *WTF::Visitor<WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &&)::$_0,WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &)::$_1>::Visitor(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return WTF::Visitor<WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &&)::$_0,WebKit::WebAuthenticatorCoordinatorProxy::contextForRequest(WebKit::WebAuthenticationRequestData &)::$_1>::Visitor(a1, a2, a3, a4, a5);
}

{
  WTF::ASCIILiteral::ASCIILiteral(a1, a2, a3);
  WTF::ASCIILiteral::ASCIILiteral(a1 + 2, a4, a5);
  return a1;
}

uint64_t *WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>,WTF::CompletionHandler<void ()(BOOL)> &&,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WebKit::CtapAuthenticator::makeCredential(void)::$_0::operator() const(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)::{lambda(BOOL)#1},void,BOOL>,std::default_delete<WebKit::CtapAuthenticator::makeCredential(void)::$_0::operator() const(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)::{lambda(BOOL)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>,WTF::CompletionHandler<void ()(BOOL)> &&,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x10);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void,BOOL>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135C98;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(a1 + 1, a2);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135C98;
  WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::~$_0((a1 + 1));
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::isConditionalMediationAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(WebKit *a1, char a2)
{
  v3 = 0;
  if (a2)
  {
    v3 = [WebKit::getASCWebKitSPISupportClass[0](a1) shouldUseAlternateCredentialStore];
  }

  return WTF::CompletionHandler<void ()(BOOL)>::operator()(a1, v3 & 1);
}

uint64_t *WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>,WTF::CompletionHandler<void ()(BOOL)> &&,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WebKit::CtapAuthenticator::makeCredential(void)::$_0::operator() const(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)::{lambda(BOOL)#1},void,BOOL>,std::default_delete<WebKit::CtapAuthenticator::makeCredential(void)::$_0::operator() const(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)::{lambda(BOOL)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>,WTF::CompletionHandler<void ()(BOOL)> &&,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x30);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void,BOOL>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135CC0;
  WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::$_0(a1 + 1, a2);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::$_0(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::$_0(a1, a2);
  return a1;
}

{
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(a1, a2);
  WebCore::SecurityOriginData::SecurityOriginData((a1 + 1), (a2 + 1));
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0,void,BOOL>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135CC0;
  WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::~$_0((a1 + 1));
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(uint64_t a1, char a2)
{
  v10 = a1;
  v9 = a2;
  if ((a2 & 1) == 0)
  {
    return WTF::CompletionHandler<void ()(BOOL)>::operator()(a1, 0);
  }

  v4 = [WebKit::getASCWebKitSPISupportClass[0](a1) shouldUseAlternateCredentialStore];
  if (v4)
  {
    WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(&v7, a1);
    WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v6);
    WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void>(&v8, &v7);
    WebKit::getArePasskeysDisallowedForRelyingParty((a1 + 8), &v8);
    WTF::CompletionHandler<void ()(BOOL)>::~CompletionHandler(&v8);
    WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v6);
    return WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler(&v7);
  }

  else
  {
    isAvailable = WebKit::LocalService::isAvailable(v4);
    return WTF::CompletionHandler<void ()(BOOL)>::operator()(a1, isAvailable & 1);
  }
}

uint64_t *WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData *a1, uint64_t *a2)
{
  v13 = a1;
  v12 = a2;
  WebKit::getASCWebKitSPISupportClass[0](a1);
  v2 = objc_opt_respondsToSelector();
  if ((v2 & 1) == 0)
  {
    return WTF::CompletionHandler<void ()(BOOL)>::operator()(v12, 0);
  }

  v3 = WebKit::getASCWebKitSPISupportClass[0](v2);
  WebCore::SecurityOriginData::securityOrigin(&v10, v13);
  v4 = WTF::RefPtr<API::WebAuthenticationPanel,WTF::RawPtrTraits<API::WebAuthenticationPanel>,WTF::DefaultRefDerefTraits<API::WebAuthenticationPanel>>::get(&v10);
  v5 = fido::AuthenticatorGetInfoResponse::maxMsgSize(v4);
  WTF::String::createNSString(v5, &v11);
  v6 = std::span<char const,18446744073709551615ul>::data[abi:sn200100](&v11);
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(&v8, v12);
  WTF::makeBlockPtr<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(&v9, &v8);
  [v3 getArePasskeysDisallowedForRelyingParty:v6 withCompletionHandler:{std::span<char const, 18446744073709551615ul>::data[abi:sn200100](&v9)}];
  WTF::BlockPtr<void ()(void)>::~BlockPtr(&v9);
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler(&v8);
  WTF::RetainPtr<WKWebView>::~RetainPtr(&v11);
  return WTF::Ref<WebCore::SecurityOrigin,WTF::RawPtrTraits<WebCore::SecurityOrigin>,WTF::DefaultRefDerefTraits<WebCore::SecurityOrigin>>::~Ref(&v10);
}

uint64_t *WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void>(uint64_t *a1, uint64_t *a2)
{
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)>&&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void>(a1, a2);
  return a1;
}

{
  WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void>(a1, a2);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

WTF::ThreadLikeAssertion *WTF::makeBlockPtr<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1},WTF::CompletionHandler<void ()(BOOL)> &&,void,BOOL>(void *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  v6[6] = a1;
  v6[5] = a4;
  v6[4] = a3;
  v6[3] = a2;
  v6[2] = a4;
  v6[1] = a3;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(v6, a2);
  WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(a1, v6);
  return WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler(v6);
}

WTF::ThreadLikeAssertion *WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(uint64_t *a1, char a2)
{
  v7 = a1;
  v6 = a2 & 1;
  WTF::CompletionHandler<void ()(BOOL)>::CompletionHandler(&v3, a1);
  v4 = v6 & 1;
  WTF::Function<void ()(void)>::Function<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>(&v5, &v3);
  WTF::ensureOnMainRunLoop();
  WTF::Function<void ()(void)>::~Function(&v5);
  return WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler(&v3);
}

void *WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(void *a1, uint64_t *a2)
{
  v10 = a1;
  v9 = a2;
  v8 = malloc_type_malloc(0x28uLL, 0x10E004053C0834CuLL);
  *v8 = MEMORY[0x1E69E9818];
  v7 = 1;
  *(v8 + 2) = 50331650;
  *(v8 + 3) = 0;
  v4 = (v8 + 16);
  WTF::RefCountedBase::applyRefDerefThreadingCheck(&v6);
  *v4 = WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::{lambda(void *,BOOL)#1}::__invoke;
  *(v8 + 3) = &WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::descriptor;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(v8 + 4, a2);
  result = std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  *a1 = v8;
  return result;
}

WTF::ThreadLikeAssertion *WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::{lambda(void *,BOOL)#1}::__invoke(uint64_t a1, char a2)
{
  v4 = a1;
  v3[1] = a2;
  return WTF::BlockPtr<void ()(BOOL)>::fromCallable<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}>(WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1})::{lambda(void *,BOOL)#1}::operator()(v3, a1, a2 & 1);
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>(uint64_t *a1, uint64_t a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>,{lambda(BOOL)#1},0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>,{lambda(BOOL)#1},0>(void *a1, uint64_t a2)
{
  v3 = WTF::FastMalloc::malloc(0x18);
  WTF::Detail::CallableWrapper<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::CallableWrapper(void *a1, uint64_t a2)
{
  WTF::Detail::CallableWrapper<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135D08;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1}::((a1 + 1), a2);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::getArePasskeysDisallowedForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::operator()(BOOL)::{lambda(void)#1},void>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135D08;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler((a1 + 1));
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

uint64_t *WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(BOOL)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void,BOOL>,$_0,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WebKit::CtapAuthenticator::makeCredential(void)::$_0::operator() const(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)::{lambda(BOOL)#1},void,BOOL>,std::default_delete<WebKit::CtapAuthenticator::makeCredential(void)::$_0::operator() const(WTF::Vector<unsigned char,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> &&)::{lambda(BOOL)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void,BOOL>,$_0,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x10);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void,BOOL>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void,BOOL>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void,BOOL>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void,BOOL>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135D30;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::CompletionHandler(a1 + 1, a2);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void,BOOL>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::isUserVerifyingPlatformAuthenticatorAvailable(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::$_0::operator()(BOOL)::{lambda(BOOL)#1},void,BOOL>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135D30;
  WebKit::getCanCurrentProcessAccessPasskeyForRelyingParty(WebCore::SecurityOriginData const&,WTF::CompletionHandler<void ()(BOOL)> &&)::{lambda(BOOL)#1}::~CompletionHandler((a1 + 1));
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

uint64_t *WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>(uint64_t *a1, uint64_t *a2)
{
  WTF::Function<void ()(void)>::Function<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>(a1, a2);
  return a1;
}

{
  v4[2] = a1;
  v4[1] = a2;
  v4[4] = v4;
  v4[3] = a2;
  std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>,WTF::CompletionHandler<void ()(void)> &&,0>(v4, a2);
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void>>::unique_ptr[abi:sn200100]<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>,void,void>(a1, v4);
  std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::~unique_ptr[abi:sn200100](v4);
  return a1;
}

void *std::make_unique[abi:sn200100]<WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>,WTF::CompletionHandler<void ()(void)> &&,0>(void *a1, uint64_t *a2)
{
  v3 = WTF::FastMalloc::malloc(0x18);
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::CallableWrapper(v3, a2);
  return std::unique_ptr<WTF::Detail::CallableWrapper<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1},void>,std::default_delete<WTF::RunLoop::Timer::Timer<WebKit::AuthenticatorManager>(WTF::Ref<WTF::RunLoop,WTF::RawPtrTraits<WTF::RunLoop>,WTF::DefaultRefDerefTraits<WTF::RunLoop>> &&,WTF::ASCIILiteral,WebKit::AuthenticatorManager *,void (WTF::ASCIILiteral::*)(void))::{lambda(void)#1}>>::unique_ptr[abi:sn200100]<true,void>(a1, v3);
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::CallableWrapper(void *a1, uint64_t *a2)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::CallableWrapper(a1, a2);
  return a1;
}

{
  WTF::Detail::CallableWrapperBase<void>::CallableWrapperBase(a1);
  *a1 = &unk_1F1135D58;
  WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::$_0(a1 + 1, a2);
  return a1;
}

uint64_t *WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::$_0(uint64_t *a1, uint64_t *a2)
{
  WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::$_0(a1, a2);
  return a1;
}

{
  WTF::WeakPtr<API::WebAuthenticationPanel,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::WeakPtr(a1, a2);
  WTF::CompletionHandler<void ()(void)>::CompletionHandler(a1 + 1, a2 + 1);
  return a1;
}

void *WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::~CallableWrapper(void *a1)
{
  WTF::Detail::CallableWrapper<WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0,void>::~CallableWrapper(a1);
  return a1;
}

{
  *a1 = &unk_1F1135D58;
  WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::~$_0(a1 + 1);
  std::__to_address[abi:sn200100]<char const>();
  return a1;
}

uint64_t WebKit::WebAuthenticatorCoordinatorProxy::cancel(WTF::CompletionHandler<void ()(void)> &&)::$_0::operator()(uint64_t *a1)
{
  v8[1] = a1;
  if (WTF::WeakPtr<WebKit::WebPageProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator BOOL(a1))
  {
    v2 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
    WTF::RetainPtr<ASCAgentProxy>::clear((v2 + 48));
    v3 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
    WTF::RetainPtr<ASCAgentProxy>::clear((v3 + 40));
    v7 = 0;
    WTF::ThreadLikeAssertion::ThreadLikeAssertion(&v6);
    WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler<decltype(nullptr),void>(v8);
    v4 = WTF::WeakPtr<WebKit::WebAuthenticatorCoordinatorProxy,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>::operator->(a1);
    WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::operator=((v4 + 32), v8);
    WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::~CompletionHandler(v8);
    WTF::ThreadLikeAssertion::~ThreadLikeAssertion(&v6);
  }

  return WTF::CompletionHandler<void ()(void)>::operator()(a1 + 1);
}

void *WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler<decltype(nullptr),void>(void *a1)
{
  WTF::CompletionHandler<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::CompletionHandler<decltype(nullptr),void>(a1);
  return a1;
}

{
  WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::Function(a1);
  WTF::ThreadLikeAssertion::ThreadLikeAssertion(a1);
  return a1;
}

void *WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::Function(void *a1)
{
  WTF::Function<void ()(WebCore::AuthenticatorResponseData const&,WebCore::AuthenticatorAttachment,WebCore::ExceptionData const&)>::Function(a1);
  return a1;
}

{
  std::unique_ptr<WTF::Detail::CallableWrapperBase<void,mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>,std::default_delete<mpark::variant<WTF::Ref<WebCore::AuthenticatorResponse,WTF::RawPtrTraits<WebCore::AuthenticatorResponse>,WTF::DefaultRefDerefTraits<WebCore::AuthenticatorResponse>>,WebCore::ExceptionData> &&>>::unique_ptr[abi:sn200100]<true,void>(a1);
  return a1;
}

void *WebKit::WebAutocorrectionData::WebAutocorrectionData(void *a1, _DWORD *a2, uint64_t a3, double a4, double a5)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  WTF::VectorBuffer<WTF::String,0ul,WTF::FastMalloc>::adopt(a1, a2);
  v9 = MEMORY[0x1E69DB878];
  if (*(a3 + 8) == 1)
  {
    v10 = *a3;
    if (v10)
    {
      atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
      MEMORY[0x19EB00B70](&v22, v10);
      if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v10, v11);
      }
    }

    else
    {
      v22 = &stru_1F1147748;
      v17 = &stru_1F1147748;
    }

    v18 = [v9 fontWithName:v22 size:a4];
    v19 = v18;
    if (v18)
    {
      v20 = v18;
    }

    v21 = a1[2];
    a1[2] = v19;
    if (v21)
    {
    }

    v15 = v22;
    v22 = 0;
    if (v15)
    {
LABEL_8:
    }
  }

  else
  {
    v12 = [MEMORY[0x1E69DB878] systemFontOfSize:a4 weight:a5];
    v13 = v12;
    if (v12)
    {
      v14 = v12;
    }

    v15 = a1[2];
    a1[2] = v13;
    if (v15)
    {
      goto LABEL_8;
    }
  }

  return a1;
}

void sub_19E44F618(_Unwind_Exception *exception_object, void *a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10)
{
  v12 = *(v10 + 16);
  *(v10 + 16) = 0;
  if (v12)
  {
  }

  v13 = *v10;
  if (*v10)
  {
    *v10 = 0;
    *(v10 + 8) = 0;
    WTF::fastFree(v13, a2);
  }

  _Unwind_Resume(exception_object);
}

void *WebKit::WebAutocorrectionData::WebAutocorrectionData(void *a1, uint64_t a2, void **a3)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  WTF::Vector<WebCore::FloatRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(a1, a2);
  v5 = *a3;
  if (v5)
  {
    v6 = v5;
  }

  v7 = a1[2];
  a1[2] = v5;
  if (v7)
  {
  }

  return a1;
}

void sub_19E44F6D4(_Unwind_Exception *exception_object, void *a2)
{
  v4 = *(v2 + 16);
  *(v2 + 16) = 0;
  if (v4)
  {
  }

  v5 = *v2;
  if (*v2)
  {
    *v2 = 0;
    *(v2 + 8) = 0;
    WTF::fastFree(v5, a2);
  }

  _Unwind_Resume(exception_object);
}

uint64_t WTF::Vector<WebCore::FloatRect,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::operator=(uint64_t a1, uint64_t a2)
{
  if (a2 != a1)
  {
    v4 = *(a1 + 12);
    v5 = *(a2 + 12);
    if (v4 <= v5)
    {
      if (v5 > *(a1 + 8))
      {
        WTF::Vector<WebCore::ProcessQualified<WTF::ObjectIdentifierGeneric<WebCore::PlatformLayerIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrinkCapacity(a1, 0);
        WTF::Vector<WTF::UUID,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::reserveCapacity<(WTF::FailureAction)0>(a1, *(a2 + 12));
        v4 = *(a1 + 12);
      }
    }

    else
    {
      *(a1 + 12) = v5;
      v4 = v5;
    }

    if (v4)
    {
      memmove(*a1, *a2, 16 * v4);
      v4 = *(a1 + 12);
    }

    v6 = *(a2 + 12);
    if (v4 != v6)
    {
      v7 = (*a1 + 16 * v4);
      v8 = (*a2 + 16 * v4);
      v9 = 16 * v6 - 16 * v4;
      do
      {
        v10 = *v8++;
        *v7++ = v10;
        v9 -= 16;
      }

      while (v9);
      v4 = *(a2 + 12);
    }

    *(a1 + 12) = v4;
  }

  return a1;
}

uint64_t WebKit::WebAutocorrectionData::fontName@<X0>(id *this@<X0>, _BYTE *a2@<X8>)
{
  result = [this[2] isSystemFont];
  if (result)
  {
    v5 = 0;
    *a2 = 0;
  }

  else
  {
    result = MEMORY[0x19EB02040](a2, [this[2] fontName]);
    v5 = 1;
  }

  a2[8] = v5;
  return result;
}

WTF::StringImpl *WebKit::AutomationCommandError::toProtocolString(WebKit::AutomationCommandError *this, unsigned int *a2)
{
  result = Inspector::Protocol::AutomationHelpers::getEnumConstantValue(*a2, &v12);
  v5 = v12;
  if ((a2[4] & 1) == 0)
  {
    goto LABEL_5;
  }

  if (v12)
  {
    atomic_fetch_add_explicit(v12, 2u, memory_order_relaxed);
    v6 = *(a2 + 16);
    v11 = v5;
    if ((v6 & 1) == 0)
    {
      __break(1u);
LABEL_5:
      *this = v5;
      return result;
    }
  }

  else
  {
    v11 = 0;
  }

  v7 = *(a2 + 1);
  if (v7)
  {
    atomic_fetch_add_explicit(v7, 2u, memory_order_relaxed);
  }

  v10 = v7;
  WTF::makeString<WTF::String,char,WTF::String>(&v11, 59, &v10, this);
  v9 = v10;
  v10 = 0;
  if (v9 && atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v9, v8);
  }

  result = v11;
  v11 = 0;
  if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    result = WTF::StringImpl::destroy(result, v8);
    if (!v5)
    {
      return result;
    }
  }

  else if (!v5)
  {
    return result;
  }

  if (atomic_fetch_add_explicit(v5, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    return WTF::StringImpl::destroy(v5, v8);
  }

  return result;
}

uint64_t WebKit::WebAutomationSession::Debuggable::name@<X0>(WebKit::WebAutomationSession::Debuggable *this@<X0>, void *a2@<X8>)
{
  *a2 = 0;
  while (1)
  {
    v4 = *(this + 1);
    if ((v4 & 1) == 0)
    {
      break;
    }

    v5 = *(this + 1);
    atomic_compare_exchange_strong_explicit(this + 1, &v5, v4 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v5 == v4)
    {
      goto LABEL_6;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(this + 1));
LABEL_6:
  v6 = WTF::fastMalloc(0x20);
  *v6 = &unk_1F1136298;
  v6[1] = this;
  v6[2] = this;
  v6[3] = a2;
  v9 = v6;
  WTF::callOnMainRunLoopAndWait();
  result = v9;
  if (v9)
  {
    v8 = *(*v9 + 8);

    return v8();
  }

  return result;
}

uint64_t WebKit::WebAutomationSession::Debuggable::dispatchMessageFromRemote(uint64_t a1)
{
  while (1)
  {
    v2 = *(a1 + 8);
    if ((v2 & 1) == 0)
    {
      break;
    }

    v3 = *(a1 + 8);
    atomic_compare_exchange_strong_explicit((a1 + 8), &v3, v2 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v3 == v2)
    {
      goto LABEL_5;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(a1 + 8));
LABEL_5:
  WTF::String::isolatedCopy();
  v4 = WTF::fastMalloc(0x20);
  *v4 = &unk_1F11362C0;
  v4[1] = a1;
  v4[2] = a1;
  v4[3] = v7;
  v8 = v4;
  WTF::callOnMainRunLoopAndWait();
  if (v8)
  {
    (*(*v8 + 8))(v8);
  }

  return 0;
}

uint64_t WebKit::WebAutomationSession::Debuggable::connect(uint64_t a1, uint64_t a2, char a3, char a4)
{
  while (1)
  {
    v8 = *(a1 + 8);
    if ((v8 & 1) == 0)
    {
      break;
    }

    v9 = *(a1 + 8);
    atomic_compare_exchange_strong_explicit((a1 + 8), &v9, v8 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v9 == v8)
    {
      goto LABEL_5;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(a1 + 8));
LABEL_5:
  v10 = WTF::fastMalloc(0x28);
  *v10 = &unk_1F11362E8;
  *(v10 + 8) = a1;
  *(v10 + 16) = a1;
  *(v10 + 24) = a2;
  *(v10 + 32) = a3;
  *(v10 + 33) = a4;
  v13 = v10;
  WTF::callOnMainRunLoopAndWait();
  result = v13;
  if (v13)
  {
    v12 = *(*v13 + 8);

    return v12();
  }

  return result;
}

uint64_t WebKit::WebAutomationSession::Debuggable::disconnect(uint64_t a1, uint64_t a2)
{
  while (1)
  {
    v4 = *(a1 + 8);
    if ((v4 & 1) == 0)
    {
      break;
    }

    v5 = *(a1 + 8);
    atomic_compare_exchange_strong_explicit((a1 + 8), &v5, v4 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v5 == v4)
    {
      goto LABEL_5;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(a1 + 8));
LABEL_5:
  v6 = WTF::fastMalloc(0x20);
  *v6 = &unk_1F1136310;
  v6[1] = a1;
  v6[2] = a1;
  v6[3] = a2;
  v9 = v6;
  WTF::callOnMainRunLoopAndWait();
  result = v9;
  if (v9)
  {
    v8 = *(*v9 + 8);

    return v8();
  }

  return result;
}

WebKit::WebAutomationSession *WebKit::WebAutomationSession::WebAutomationSession(WebKit::WebAutomationSession *this)
{
  v2 = API::Object::Object(this);
  *(v2 + 3) = 0;
  v4 = (v2 + 24);
  v5 = v2 + 16;
  v6 = v2 + 32;
  *v2 = &unk_1F1135DD8;
  *(v2 + 2) = &unk_1F1135FB0;
  *(v2 + 4) = &unk_1F1135FF8;
  *(v2 + 5) = &unk_1F1136198;
  *(v2 + 6) = 0;
  if (API::AutomationSessionClient::operator new(unsigned long)::s_heapRef)
  {
    NonCompact = bmalloc::api::tzoneAllocateNonCompact(API::AutomationSessionClient::operator new(unsigned long)::s_heapRef, v3);
  }

  else
  {
    NonCompact = bmalloc::api::tzoneAllocateNonCompactSlow();
  }

  *NonCompact = &unk_1F11361D0;
  *(this + 7) = NonCompact;
  v8 = WTF::StringImpl::createWithoutCopyingNonEmpty();
  *(this + 8) = v25;
  Inspector::FrontendRouter::create(v8);
  v9 = *(this + 9);
  ++*v9;
  v26 = v9;
  Inspector::BackendDispatcher::create();
  if (v26)
  {
    WTF::RefCounted<Inspector::FrontendRouter>::deref(v26, v10);
  }

  v11 = *(this + 10);
  v12 = WTF::fastMalloc(0x20);
  *(this + 11) = Inspector::AutomationBackendDispatcher::AutomationBackendDispatcher(v12, v11, v6);
  v13 = WTF::fastMalloc(8);
  *v13 = *(this + 9);
  *(this + 12) = v13;
  if (WebKit::WebDriverBidiProcessor::s_heapRef)
  {
    v15 = bmalloc::api::tzoneAllocateNonCompact(WebKit::WebDriverBidiProcessor::s_heapRef, v14);
  }

  else
  {
    v15 = WebKit::WebDriverBidiProcessor::operatorNewSlow(0x50);
  }

  v16 = WebKit::WebDriverBidiProcessor::WebDriverBidiProcessor(v15, this);
  *(this + 13) = v16;
  *(this + 7) = 0u;
  *(this + 8) = 0u;
  *(this + 9) = 0u;
  *(this + 10) = 0u;
  *(this + 11) = 0u;
  *(this + 25) = 0;
  *(this + 26) = 0;
  *(this + 24) = 1;
  v17 = WTF::RunLoop::mainSingleton(v16);
  v18 = v17;
  while (1)
  {
    v19 = *(v17 + 8);
    if ((v19 & 1) == 0)
    {
      break;
    }

    v20 = *(v17 + 8);
    atomic_compare_exchange_strong_explicit((v17 + 8), &v20, v19 + 2, memory_order_relaxed, memory_order_relaxed);
    if (v20 == v19)
    {
      goto LABEL_13;
    }
  }

  WTF::ThreadSafeWeakPtrControlBlock::strongRef(*(v17 + 8));
LABEL_13:
  v27 = v18;
  v21 = WTF::fastMalloc(0x20);
  *v21 = &unk_1F1136338;
  v21[1] = this;
  v21[2] = WebKit::WebAutomationSession::loadTimerFired;
  v21[3] = 0;
  WTF::RunLoop::TimerBase::TimerBase();
  *(this + 27) = &unk_1F10E6DC8;
  *(this + 32) = v21;
  if (v27)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<WTF::SerialFunctionDispatcher,(WTF::DestructionThread)0>::deref(v27 + 1);
  }

  *(this + 33) = 0;
  *(this + 34) = 0;
  *(this + 280) = 1;
  *(this + 39) = 0;
  *(this + 36) = 0;
  *(this + 37) = 0;
  *(this + 301) = 0;
  v22 = WTF::fastMalloc(0x20);
  *Inspector::RemoteAutomationTarget::RemoteAutomationTarget(v22) = &unk_1F1135D80;
  WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(v4, v5);
  v23 = *(this + 3);
  if (v23)
  {
    atomic_fetch_add(v23, 1u);
  }

  *(v22 + 3) = v23;
  *(this + 40) = v22;
  return this;
}

void WebKit::WebAutomationSession::loadTimerFired(WebKit::WebAutomationSession *this)
{
  WebKit::WebAutomationSession::respondToPendingFrameNavigationCallbacksWithTimeout(this, this + 20);
  WebKit::WebAutomationSession::respondToPendingFrameNavigationCallbacksWithTimeout(this, this + 21);
  WebKit::WebAutomationSession::respondToPendingPageNavigationCallbacksWithTimeout(this, this + 18);

  WebKit::WebAutomationSession::respondToPendingPageNavigationCallbacksWithTimeout(this, this + 19);
}

void WebKit::WebAutomationSession::~WebAutomationSession(WebKit::WebAutomationSession *this, void *a2)
{
  v3 = *(this + 40);
  v4 = *(v3 + 24);
  *(v3 + 24) = 0;
  if (v4 && atomic_fetch_add(v4, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v4);
    WTF::fastFree(v4, a2);
  }

  v5 = *(this + 40);
  *(this + 40) = 0;
  if (v5)
  {
    WTF::ThreadSafeRefCountedAndCanMakeThreadSafeWeakPtr<Inspector::RemoteControllableTarget,(WTF::DestructionThread)0>::deref((v5 + 8), a2);
  }

  v6 = *(this + 37);
  if (v6)
  {
    v7 = *(v6 - 4);
    if (v7)
    {
      v8 = (v6 + 8);
      do
      {
        if (*(v8 - 1) != -1)
        {
          v9 = *v8;
          *v8 = 0;
          if (v9)
          {
            WTF::RefCounted<WebKit::SimulatedInputDispatcher>::deref(v9, a2);
          }
        }

        v8 += 2;
        --v7;
      }

      while (v7);
    }

    WTF::fastFree((v6 - 16), a2);
  }

  v10 = *(this + 36);
  if (v10)
  {
    WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::Ref<WebKit::SimulatedInputSource,WTF::RawPtrTraits<WebKit::SimulatedInputSource>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputSource>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::Ref<WebKit::SimulatedInputSource,WTF::RawPtrTraits<WebKit::SimulatedInputSource>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputSource>>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::Ref<WebKit::SimulatedInputSource,WTF::RawPtrTraits<WebKit::SimulatedInputSource>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputSource>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WebKit::SimulatedInputSource,WTF::RawPtrTraits<WebKit::SimulatedInputSource>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputSource>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v10, a2);
  }

  WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(this + 264, a2);
  *(this + 27) = &unk_1F10E6DC8;
  v11 = *(this + 32);
  *(this + 32) = 0;
  if (v11)
  {
    (*(*v11 + 8))(v11);
  }

  WTF::RunLoop::TimerBase::~TimerBase((this + 216));
  v13 = *(this + 26);
  *(this + 26) = 0;
  if (v13)
  {
    (*(*v13 + 8))(v13);
  }

  v14 = *(this + 25);
  if (v14)
  {
    v15 = *(v14 - 4);
    if (v15)
    {
      v16 = (v14 + 8);
      do
      {
        if (*(v16 - 1) != -1)
        {
          v17 = *v16;
          *v16 = 0;
          if (v17)
          {
            (*(*v17 + 8))(v17);
          }
        }

        v16 += 2;
        --v15;
      }

      while (v15);
    }

    WTF::fastFree((v14 - 16), v12);
  }

  v18 = *(this + 23);
  if (v18)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v18, v12);
  }

  v19 = *(this + 22);
  if (v19)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v19, v12);
  }

  v20 = *(this + 21);
  if (v20)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v20, v12);
  }

  v21 = *(this + 20);
  if (v21)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v21, v12);
  }

  v22 = *(this + 19);
  if (v22)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v22, v12);
  }

  v23 = *(this + 18);
  if (v23)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v23, v12);
  }

  v24 = *(this + 17);
  if (v24)
  {
    v25 = *(v24 - 4);
    if (v25)
    {
      v26 = *(this + 17);
      do
      {
        v27 = *v26;
        if (*v26 != -1)
        {
          *v26 = 0;
          if (v27)
          {
            if (atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v27, v12);
            }
          }
        }

        v26 += 2;
        --v25;
      }

      while (v25);
    }

    WTF::fastFree((v24 - 16), v12);
  }

  v28 = *(this + 16);
  if (v28)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v28, v12);
  }

  v29 = *(this + 15);
  if (v29)
  {
    v30 = *(v29 - 4);
    if (v30)
    {
      v31 = *(this + 15);
      do
      {
        v32 = *v31;
        if (*v31 != -1)
        {
          *v31 = 0;
          if (v32)
          {
            if (atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
            {
              WTF::StringImpl::destroy(v32, v12);
            }
          }
        }

        v31 += 2;
        --v30;
      }

      while (v30);
    }

    WTF::fastFree((v29 - 16), v12);
  }

  v33 = *(this + 14);
  if (v33)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::deallocateTable(v33, v12);
  }

  v34 = *(this + 13);
  *(this + 13) = 0;
  if (v34)
  {
    WebKit::WebDriverBidiProcessor::~WebDriverBidiProcessor(v34);
    bmalloc::api::tzoneFree(v35, v36);
  }

  v37 = *(this + 12);
  *(this + 12) = 0;
  if (v37)
  {
    WTF::fastFree(v37, v12);
  }

  v38 = *(this + 11);
  *(this + 11) = 0;
  if (v38)
  {
    if (v38[2] == 1)
    {
      (*(*v38 + 8))(v38);
    }

    else
    {
      --v38[2];
    }
  }

  v39 = *(this + 10);
  *(this + 10) = 0;
  if (v39)
  {
    WTF::RefCounted<Inspector::BackendDispatcher>::deref(v39, v12);
  }

  v40 = *(this + 9);
  *(this + 9) = 0;
  if (v40)
  {
    WTF::RefCounted<Inspector::FrontendRouter>::deref(v40, v12);
  }

  v41 = *(this + 8);
  *(this + 8) = 0;
  if (v41 && atomic_fetch_add_explicit(v41, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v41, v12);
  }

  v42 = *(this + 7);
  *(this + 7) = 0;
  if (v42)
  {
    (*(*v42 + 8))(v42);
  }

  v43 = *(this + 6);
  *(this + 6) = 0;
  if (v43 && atomic_fetch_add(v43, 0xFFFFFFFF) == 1)
  {
    atomic_store(1u, v43);
    WTF::fastFree(v43, v12);
  }

  *(this + 2) = &unk_1F10EA5E0;
  WTF::WeakPtrFactory<WebPushD::PushServiceConnection,WTF::DefaultWeakPtrImpl>::~WeakPtrFactory(this + 3, v12);
}

{
  WebKit::WebAutomationSession::~WebAutomationSession(this, a2);

  JUMPOUT(0x19EB14CF0);
}

void non-virtual thunk toWebKit::WebAutomationSession::~WebAutomationSession(WebKit::WebAutomationSession *this, void *a2)
{
  WebKit::WebAutomationSession::~WebAutomationSession((this - 16), a2);
}

{
  WebKit::WebAutomationSession::~WebAutomationSession((this - 32), a2);
}

{
  WebKit::WebAutomationSession::~WebAutomationSession((this - 40), a2);
}

{
  WebKit::WebAutomationSession::~WebAutomationSession((this - 16), a2);

  JUMPOUT(0x19EB14CF0);
}

{
  WebKit::WebAutomationSession::~WebAutomationSession((this - 32), a2);

  JUMPOUT(0x19EB14CF0);
}

{
  WebKit::WebAutomationSession::~WebAutomationSession((this - 40), a2);

  JUMPOUT(0x19EB14CF0);
}

void WebKit::WebAutomationSession::setProcessPool(WebKit::WebAutomationSession *this, WebKit::WebProcessPool *a2)
{
  v4 = *(this + 6);
  if (v4)
  {
    v5 = *(v4 + 8);
    if (v5)
    {
      CFRetain(*(v5 - 8));
      IPC::MessageReceiverMap::removeMessageReceiver((v5 + 40), 0x9Eu);
      CFRelease(*(v5 - 8));
    }
  }

  if (a2)
  {
    WTF::WeakPtrFactory<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl>::initializeIfNeeded(a2 + 6, a2 + 16);
    v6 = *(a2 + 3);
    if (v6)
    {
      atomic_fetch_add(v6, 1u);
    }
  }

  else
  {
    v6 = 0;
  }

  v7 = *(this + 6);
  *(this + 6) = v6;
  if (v7)
  {
    if (atomic_fetch_add(v7, 0xFFFFFFFF) == 1)
    {
      atomic_store(1u, v7);
      WTF::fastFree(v7, a2);
    }

    v6 = *(this + 6);
  }

  if (v6)
  {
    v8 = *(v6 + 8);
    if (v8)
    {
      CFRetain(*(v8 - 8));
      v11 = -98;
      WTF::HashMap<IPC::ReceiverName,WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>,WTF::IntHash<IPC::ReceiverName>,WTF::StrongEnumHashTraits<IPC::ReceiverName>,WTF::HashTraits<WTF::WeakPtr<IPC::MessageReceiver,WTF::DefaultWeakPtrImpl,WTF::RawPtrTraits<WTF::DefaultWeakPtrImpl>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<IPC::ReceiverName const&,IPC::MessageReceiver&>((v8 + 40), &v11, this + 16, &v10);
      v9 = *(v8 - 8);

      CFRelease(v9);
    }
  }
}

uint64_t WebKit::WebAutomationSession::terminate(WebKit::WebAutomationSession *this)
{
  v3 = (this + 184);
  v2 = *(this + 23);
  if (v2)
  {
    v4 = *(v2 - 4);
    v5 = (v2 + 16 * v4);
    if (*(v2 - 12))
    {
      v6 = *(this + 23);
      if (v4)
      {
        v7 = 16 * v4;
        v6 = *(this + 23);
        while ((*v6 + 1) <= 1)
        {
          v6 += 2;
          v7 -= 16;
          if (!v7)
          {
            v6 = v5;
            goto LABEL_8;
          }
        }
      }

      goto LABEL_8;
    }

    v6 = (v2 + 16 * v4);
  }

  else
  {
    v6 = 0;
    v4 = 0;
  }

  v5 = (v2 + 16 * v4);
  if (v2)
  {
LABEL_8:
    v8 = *(v2 - 4);
    v9 = (v2 + 16 * v8);
    goto LABEL_13;
  }

  v9 = 0;
  v8 = 0;
LABEL_13:
  v21[0] = (this + 184);
  v21[1] = v6;
  v21[2] = v5;
  v21[3] = v9;
  v21[4] = (v2 + 16 * v8);
  v22 = 0;
  v23 = 0;
  result = WTF::Mapper<WTF::Vector<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> WTF::copyToVectorOf<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::SizedIteratorRange<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::HashTableKeysIterator<WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>>(WTF::SizedIteratorRange<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::HashTableKeysIterator<WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>> const&)::{lambda(WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>&&)#1},WTF::Vector<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::SizedIteratorRange<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::HashTableKeysIterator<WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>> const&,void>::map( &v22,  v21);
  v12 = HIDWORD(v23);
  v13 = v22;
  if (!HIDWORD(v23))
  {
    goto LABEL_25;
  }

  v14 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(v3, v22);
  if (*v3)
  {
    if ((*v3 + 16 * *(*v3 - 4)) != v14)
    {
LABEL_16:
      v15 = v14[1];
      v14[1] = 0;
      v20 = v15;
      WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(v3, v14);
      goto LABEL_19;
    }
  }

  else if (v14)
  {
    goto LABEL_16;
  }

  v20 = 0;
LABEL_19:
  Inspector::Protocol::AutomationHelpers::getEnumConstantValue(5, &v17);
  v18 = v17;
  v19 = 1;
  WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v20, &v18);
  if (v19 == 1)
  {
    v16 = v18;
    v18 = 0;
    if (v16)
    {
      if (atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v16, v11);
      }
    }
  }

  result = v20;
  v20 = 0;
  if (result)
  {
    result = (*(*result + 8))(result);
  }

LABEL_25:
  if (v13)
  {
    result = WTF::fastFree(v13, v11);
    if (v12)
    {
      return result;
    }
  }

  else if (v12)
  {
    return result;
  }

  if (*(this + 39))
  {
    *(this + 39) = 0;
    Inspector::FrontendRouter::disconnectFrontend();
  }

  Inspector::RemoteAutomationTarget::setIsPaired(*(this + 40));
  result = *(this + 7);
  if (result)
  {
    return (*(*result + 24))(result, this);
  }

  return result;
}

uint64_t WebKit::WebAutomationSession::webPageProxyForHandle@<X0>(WebKit::WebAutomationSession *this@<X0>, const WTF::StringImpl **a2@<X1>, const WTF::StringImpl *a3@<X2>, uint64_t *a4@<X8>)
{
  result = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(this + 15, a2, a3);
  v7 = *(this + 15);
  if (v7)
  {
    v7 += 16 * *(v7 - 4);
  }

  if (v7 == result)
  {
    *a4 = 0;
  }

  else
  {
    v8 = *(result + 8);

    return WebKit::WebProcessProxy::webPage(v8, a4);
  }

  return result;
}

_DWORD *WebKit::WebAutomationSession::handleForWebPageProxy@<X0>(WebKit::WebAutomationSession *this@<X0>, const WebKit::WebPageProxy *a2@<X1>, WTF::StringImpl *a3@<X8>)
{
  v47[0] = *(a2 + 5);
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 14, v47);
  v7 = *(this + 14);
  if (v7)
  {
    v7 += 4 * *(v7 - 1);
  }

  if (v7 != result)
  {
    v8 = *(result + 1);
    if (v8)
    {
      atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
    }

    *a3 = v8;
    return result;
  }

  WTF::createVersion4UUIDString(&v46, result);
  if (v46)
  {
    v9 = *(v46 + 1);
    v10 = *(v46 + 1) | (((*(v46 + 4) >> 2) & 1) << 32);
  }

  else
  {
    v9 = 0;
    v10 = 0x100000000;
  }

  LODWORD(v47[0]) = 0;
  v47[1] = v9;
  v48 = v10;
  v49 = BYTE4(v10);
  WTF::tryMakeString<WTF::ASCIILiteral,WTF::ASCIICaseConverter>(a3, "page-", 6, v47);
  v13 = *a3;
  if (!*a3)
  {
    __break(0xC471u);
    JUMPOUT(0x19E450C5CLL);
  }

  v14 = v46;
  v46 = 0;
  if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v14, v11);
  }

  v15 = *(a2 + 5);
  if (v15 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E450C7CLL);
  }

  if (!v15)
  {
    __break(0xC471u);
    JUMPOUT(0x19E450C9CLL);
  }

  v16 = *(this + 14);
  if (!v16)
  {
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(this + 14, 0);
    v16 = *(this + 14);
  }

  v17 = *(v16 - 8);
  v18 = (v15 + ~(v15 << 32)) ^ ((v15 + ~(v15 << 32)) >> 22);
  v19 = 9 * ((v18 + ~(v18 << 13)) ^ ((v18 + ~(v18 << 13)) >> 8));
  v20 = (v19 ^ (v19 >> 15)) + ~((v19 ^ (v19 >> 15)) << 27);
  v21 = v17 & ((v20 >> 31) ^ v20);
  v22 = (v16 + 16 * v21);
  v23 = *v22;
  if (*v22)
  {
    v24 = 0;
    v25 = 1;
    do
    {
      if (v23 == v15)
      {
        __break(0xC471u);
        JUMPOUT(0x19E450C54);
      }

      if (v23 == -1)
      {
        v24 = v22;
      }

      v21 = (v21 + v25) & v17;
      v22 = (v16 + 16 * v21);
      v23 = *v22;
      ++v25;
    }

    while (*v22);
    if (v24)
    {
      *v24 = 0;
      v24[1] = 0;
      --*(*(this + 14) - 16);
      v22 = v24;
    }
  }

  *v22 = v15;
  atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed);
  v26 = v22[1];
  v22[1] = v13;
  if (v26 && atomic_fetch_add_explicit(v26, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v26, v11);
  }

  v27 = *(this + 14);
  if (v27)
  {
    v28 = *(v27 - 12) + 1;
  }

  else
  {
    v28 = 1;
  }

  *(v27 - 12) = v28;
  v29 = (*(v27 - 16) + v28);
  v30 = *(v27 - 4);
  if (v30 > 0x400)
  {
    if (v30 > 2 * v29)
    {
      goto LABEL_34;
    }

    goto LABEL_33;
  }

  if (3 * v30 <= 4 * v29)
  {
LABEL_33:
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::expand(this + 14, v22);
  }

LABEL_34:
  v31 = *a3;
  if (*a3 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E450CBCLL);
  }

  if (!v31)
  {
LABEL_69:
    __break(0xC471u);
    JUMPOUT(0x19E450C34);
  }

  v32 = *(a2 + 5);
  v33 = *(this + 15);
  if (v33 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(this + 15), (v33 = *(this + 15)) != 0))
  {
    v34 = *(v33 - 8);
  }

  else
  {
    v34 = 0;
  }

  v35 = v31[4];
  if (v35 < 0x100)
  {
    v36 = WTF::StringImpl::hashSlowCase(v31);
  }

  else
  {
    v36 = v35 >> 8;
  }

  v37 = 0;
  for (i = 1; ; ++i)
  {
    v39 = v36 & v34;
    v40 = (v33 + 16 * (v36 & v34));
    v41 = *v40;
    if (*v40 == -1)
    {
      v37 = (v33 + 16 * v39);
      goto LABEL_47;
    }

    if (!v41)
    {
      break;
    }

    if (WTF::equal(v41, v31, v12))
    {
      goto LABEL_69;
    }

LABEL_47:
    v36 = i + v39;
  }

  if (v37)
  {
    *v37 = 0;
    v37[1] = 0;
    --*(*(this + 15) - 16);
    v40 = v37;
  }

  result = WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v40, a3);
  v40[1] = v32;
  v42 = *(this + 15);
  if (v42)
  {
    v43 = *(v42 - 12) + 1;
  }

  else
  {
    v43 = 1;
  }

  *(v42 - 12) = v43;
  v44 = (*(v42 - 16) + v43);
  v45 = *(v42 - 4);
  if (v45 > 0x400)
  {
    if (v45 <= 2 * v44)
    {
      return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(this + 15);
    }
  }

  else if (3 * v45 <= 4 * v44)
  {
    return WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand(this + 15);
  }

  return result;
}

WTF::StringImpl *WebKit::WebAutomationSession::didDestroyFrame(uint64_t a1, uint64_t a2)
{
  v11 = a2;
  v3 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 128), &v11);
  result = WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::take((a1 + 128), v3, &v10);
  if (!v10)
  {
    return result;
  }

  if (*(v10 + 1))
  {
    v7 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>((a1 + 136), &v10, v6);
    v5 = v7;
    v8 = *(a1 + 136);
    if (v8)
    {
      v9 = (v8 + 16 * *(v8 - 4));
      if (v9 == v7)
      {
        goto LABEL_10;
      }
    }

    else
    {
      if (!v7)
      {
        goto LABEL_10;
      }

      v9 = 0;
    }

    if (v9 != v7)
    {
      WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::remove((a1 + 136), v7);
    }
  }

LABEL_10:
  result = v10;
  v10 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v5);
    }
  }

  return result;
}

unint64_t WebKit::WebAutomationSession::webFrameIDForHandle(WebKit::WebAutomationSession *this, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  v3 = *a2;
  if (*a2)
  {
    if (*(v3 + 4))
    {
      v6 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(this + 17, a2, a3);
      v7 = *(this + 17);
      if (v7)
      {
        v7 += 16 * *(v7 - 4);
      }

      if (v7 == v6)
      {
        v3 = 0;
        v8 = 0;
        *a3 = 1;
      }

      else
      {
        v8 = *(v6 + 8) & 0xFFFFFFFFFFFFFF00;
        v3 = *(v6 + 8);
      }
    }

    else
    {
      v3 = 0;
      v8 = 0;
    }
  }

  else
  {
    v8 = 0;
  }

  return v8 | v3;
}

void WebKit::WebAutomationSession::handleForWebFrameID(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, atomic_uint **a4@<X8>)
{
  v36 = a2;
  v37 = a3;
  if ((a3 & 1) == 0)
  {
    v10 = *MEMORY[0x1E696EBA8];
    if (!*MEMORY[0x1E696EBA8])
    {
LABEL_11:
      *a4 = v10;
      return;
    }

LABEL_10:
    atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
    goto LABEL_11;
  }

  v6 = WebKit::WebFrameProxy::webFrame(a2, 1);
  if (v6)
  {
    v7 = v6;
    CFRetain(*(v6 + 8));
    if (*(v7 + 56))
    {
      v8 = *MEMORY[0x1E696EBA8];
      if (*MEMORY[0x1E696EBA8])
      {
        atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
      }

      *a4 = v8;
      v9 = *(v7 + 8);

      CFRelease(v9);
      return;
    }

    CFRelease(*(v7 + 8));
  }

  v11 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>((a1 + 128), &v36);
  v12 = *(a1 + 128);
  if (v12)
  {
    v12 = (v12 + 16 * *(v12 - 1));
  }

  if (v12 != v11)
  {
    v10 = *(v11 + 1);
    if (!v10)
    {
      goto LABEL_11;
    }

    goto LABEL_10;
  }

  WTF::createVersion4UUIDString(&v31, v11);
  if (v31)
  {
    v13 = *(v31 + 1);
    v14 = *(v31 + 1) | (((*(v31 + 4) >> 2) & 1) << 32);
  }

  else
  {
    v13 = 0;
    v14 = 0x100000000;
  }

  v32 = 0;
  v33 = v13;
  v34 = v14;
  v35 = BYTE4(v14);
  WTF::tryMakeString<WTF::ASCIILiteral,WTF::ASCIICaseConverter>(a4, "frame-", 7, &v32);
  if (!*a4)
  {
    __break(0xC471u);
    goto LABEL_56;
  }

  v16 = v31;
  v31 = 0;
  if (v16 && atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v16, v15);
  }

  if ((v37 & 1) == 0)
  {
    goto LABEL_56;
  }

  WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::add<WTF::String&>((a1 + 128), &v36, a4, &v32);
  if ((v34 & 1) == 0)
  {
LABEL_57:
    __break(0xC471u);
    JUMPOUT(0x19E451168);
  }

  if ((v37 & 1) == 0)
  {
LABEL_56:
    __break(1u);
    goto LABEL_57;
  }

  if (*a4 == -1)
  {
    __break(0xC471u);
    JUMPOUT(0x19E451188);
  }

  if (!*a4)
  {
LABEL_59:
    __break(0xC471u);
    JUMPOUT(0x19E451140);
  }

  v18 = *(a1 + 136);
  if (v18 || (WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((a1 + 136), 0), (v18 = *(a1 + 136)) != 0))
  {
    v19 = *(v18 - 8);
  }

  else
  {
    v19 = 0;
  }

  v20 = (*a4)[4];
  if (v20 < 0x100)
  {
    v21 = WTF::StringImpl::hashSlowCase(*a4);
  }

  else
  {
    v21 = v20 >> 8;
  }

  v22 = 0;
  for (i = 1; ; ++i)
  {
    v24 = v21 & v19;
    v25 = v18 + 16 * (v21 & v19);
    v26 = *v25;
    if (*v25 == -1)
    {
      v22 = (v18 + 16 * v24);
      goto LABEL_41;
    }

    if (!v26)
    {
      break;
    }

    if (WTF::equal(v26, *a4, v17))
    {
      goto LABEL_59;
    }

LABEL_41:
    v21 = i + v24;
  }

  if (v22)
  {
    *v22 = 0;
    v22[1] = 0;
    --*(*(a1 + 136) - 16);
    v25 = v22;
  }

  WTF::GenericHashTraits<WebCore::RegistrableDomain>::assignToEmpty<WebCore::RegistrableDomain,WebCore::RegistrableDomain const&>(v25, a4);
  *(v25 + 8) = v36;
  v27 = *(a1 + 136);
  if (v27)
  {
    v28 = *(v27 - 12) + 1;
  }

  else
  {
    v28 = 1;
  }

  *(v27 - 12) = v28;
  v29 = (*(v27 - 16) + v28);
  v30 = *(v27 - 4);
  if (v30 > 0x400)
  {
    if (v30 <= 2 * v29)
    {
LABEL_49:
      WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::expand((a1 + 136), v25);
    }
  }

  else if (3 * v30 <= 4 * v29)
  {
    goto LABEL_49;
  }
}

WTF::StringImpl *WebKit::WebAutomationSession::buildBrowsingContextForPage(WTF::JSONImpl::Object *a1, WebKit::WebAutomationSession *a2, const WebKit::WebPageProxy *a3, float a4, float a5, float a6, float a7)
{
  WTF::JSONImpl::Object::create(v73, a1);
  Inspector::Protocol::Automation::Point::Builder<0>::setX(v73, a4);
  v14 = Inspector::Protocol::Automation::Point::Builder<1>::setY(v73, a5);
  v15 = v73[0];
  WTF::JSONImpl::Object::create(v73, v14);
  Inspector::Protocol::Automation::Size::Builder<0>::setWidth(v73, a6);
  Inspector::Protocol::Automation::Size::Builder<1>::setHeight(v73, a7);
  v16 = v73[0];
  v17 = *(*(a3 + 4) + 80);
  v18 = WebKit::WebAutomationSession::handleForWebPageProxy(a2, a3, &v70);
  WTF::JSONImpl::Object::create(&v69, v18);
  v19 = v69;
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  WTF::JSONImpl::Value::create(&v72, &v70, v20);
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v19 + 16), &v71, &v72, v73);
  if (v74 == 1)
  {
    v22 = *(v19 + 36);
    if (v22 == *(v19 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v19 + 24, &v71);
    }

    else
    {
      v23 = *(v19 + 24);
      v24 = v71;
      if (v71)
      {
        atomic_fetch_add_explicit(v71, 2u, memory_order_relaxed);
      }

      v25 = *(v19 + 36);
      *(v23 + 8 * v22) = v24;
      *(v19 + 36) = v25 + 1;
    }
  }

  v26 = v72;
  v72 = 0;
  if (v26)
  {
    if (*v26 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v26;
    }
  }

  v27 = v17 & 7;
  v28 = v71;
  v71 = 0;
  if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v28, v21);
  }

  v29 = v69;
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  WTF::JSONImpl::Value::create((v27 == 7));
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v29 + 16), &v71, &v72, v73);
  if (v74 == 1)
  {
    v31 = *(v29 + 36);
    if (v31 == *(v29 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v29 + 24, &v71);
    }

    else
    {
      v32 = *(v29 + 24);
      v33 = v71;
      if (v71)
      {
        atomic_fetch_add_explicit(v71, 2u, memory_order_relaxed);
      }

      v34 = *(v29 + 36);
      *(v32 + 8 * v31) = v33;
      *(v29 + 36) = v34 + 1;
    }
  }

  v35 = v72;
  v72 = 0;
  if (v35)
  {
    if (*v35 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v35;
    }
  }

  v36 = v71;
  v71 = 0;
  if (v36 && atomic_fetch_add_explicit(v36, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v36, v30);
  }

  v37 = *(a3 + 4);
  WebKit::PageLoadState::ref((v37 + 1120));
  WebKit::PageLoadState::activeURL((v37 + 1144), &v68);
  v38 = v69;
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  WTF::JSONImpl::Value::create(&v72, &v68, v39);
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v38 + 16), &v71, &v72, v73);
  if (v74 == 1)
  {
    v41 = *(v38 + 36);
    if (v41 == *(v38 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v38 + 24, &v71);
    }

    else
    {
      v42 = *(v38 + 24);
      v43 = v71;
      if (v71)
      {
        atomic_fetch_add_explicit(v71, 2u, memory_order_relaxed);
      }

      v44 = *(v38 + 36);
      *(v42 + 8 * v41) = v43;
      *(v38 + 36) = v44 + 1;
    }
  }

  v45 = v72;
  v72 = 0;
  if (v45)
  {
    if (*v45 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v45;
    }
  }

  v46 = v71;
  v71 = 0;
  if (v46 && atomic_fetch_add_explicit(v46, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v46, v40);
  }

  v47 = v69;
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  v71 = v15;
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v47 + 16), &v72, &v71, v73);
  if (v74 == 1)
  {
    v49 = *(v47 + 36);
    if (v49 == *(v47 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v47 + 24, &v72);
    }

    else
    {
      v50 = *(v47 + 24);
      v51 = v72;
      if (v72)
      {
        atomic_fetch_add_explicit(v72, 2u, memory_order_relaxed);
      }

      v52 = *(v47 + 36);
      *(v50 + 8 * v49) = v51;
      *(v47 + 36) = v52 + 1;
    }
  }

  v53 = v71;
  v71 = 0;
  if (v53)
  {
    if (*v53 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v53;
    }
  }

  v54 = v72;
  v72 = 0;
  if (v54 && atomic_fetch_add_explicit(v54, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v54, v48);
  }

  v55 = v69;
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  v71 = v16;
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v55 + 16), &v72, &v71, v73);
  if (v74 == 1)
  {
    v57 = *(v55 + 36);
    if (v57 == *(v55 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v55 + 24, &v72);
    }

    else
    {
      v58 = *(v55 + 24);
      v59 = v72;
      if (v72)
      {
        atomic_fetch_add_explicit(v72, 2u, memory_order_relaxed);
      }

      v60 = *(v55 + 36);
      *(v58 + 8 * v57) = v59;
      *(v55 + 36) = v60 + 1;
    }
  }

  v61 = v71;
  v71 = 0;
  if (v61)
  {
    if (*v61 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v61;
    }
  }

  v62 = v72;
  v72 = 0;
  if (v62 && atomic_fetch_add_explicit(v62, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v62, v56);
  }

  v63 = v68;
  v64 = v69;
  v68 = 0;
  v69 = 0;
  *a1 = v64;
  if (v63 && atomic_fetch_add_explicit(v63, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v63, v56);
  }

  WebKit::PageLoadState::deref((v37 + 1120));
  v66 = v69;
  v69 = 0;
  if (v66)
  {
    if (*v66 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v66;
    }
  }

  result = v70;
  v70 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v65);
    }
  }

  return result;
}

uint64_t *Inspector::Protocol::Automation::Point::Builder<0>::setX(uint64_t *a1, double a2)
{
  v4 = *a1;
  v5 = WTF::StringImpl::createWithoutCopyingNonEmpty();
  WTF::JSONImpl::Value::create(&v15, v5, a2);
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v4 + 16), &v14, &v15, v16);
  if (v16[16] == 1)
  {
    v7 = *(v4 + 36);
    if (v7 == *(v4 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v4 + 24, &v14);
    }

    else
    {
      v8 = *(v4 + 24);
      v9 = v14;
      if (v14)
      {
        atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
      }

      v10 = *(v4 + 36);
      *(v8 + 8 * v7) = v9;
      *(v4 + 36) = v10 + 1;
    }
  }

  v11 = v15;
  v15 = 0;
  if (v11)
  {
    if (*v11 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v11;
    }
  }

  v12 = v14;
  v14 = 0;
  if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v12, v6);
  }

  return a1;
}

uint64_t *Inspector::Protocol::Automation::Point::Builder<1>::setY(uint64_t *a1, double a2)
{
  v4 = *a1;
  v5 = WTF::StringImpl::createWithoutCopyingNonEmpty();
  WTF::JSONImpl::Value::create(&v15, v5, a2);
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v4 + 16), &v14, &v15, v16);
  if (v16[16] == 1)
  {
    v7 = *(v4 + 36);
    if (v7 == *(v4 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v4 + 24, &v14);
    }

    else
    {
      v8 = *(v4 + 24);
      v9 = v14;
      if (v14)
      {
        atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
      }

      v10 = *(v4 + 36);
      *(v8 + 8 * v7) = v9;
      *(v4 + 36) = v10 + 1;
    }
  }

  v11 = v15;
  v15 = 0;
  if (v11)
  {
    if (*v11 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v11;
    }
  }

  v12 = v14;
  v14 = 0;
  if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v12, v6);
  }

  return a1;
}

uint64_t *Inspector::Protocol::Automation::Size::Builder<0>::setWidth(uint64_t *a1, double a2)
{
  v4 = *a1;
  v5 = WTF::StringImpl::createWithoutCopyingNonEmpty();
  WTF::JSONImpl::Value::create(&v15, v5, a2);
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v4 + 16), &v14, &v15, v16);
  if (v16[16] == 1)
  {
    v7 = *(v4 + 36);
    if (v7 == *(v4 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v4 + 24, &v14);
    }

    else
    {
      v8 = *(v4 + 24);
      v9 = v14;
      if (v14)
      {
        atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
      }

      v10 = *(v4 + 36);
      *(v8 + 8 * v7) = v9;
      *(v4 + 36) = v10 + 1;
    }
  }

  v11 = v15;
  v15 = 0;
  if (v11)
  {
    if (*v11 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v11;
    }
  }

  v12 = v14;
  v14 = 0;
  if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v12, v6);
  }

  return a1;
}

uint64_t *Inspector::Protocol::Automation::Size::Builder<1>::setHeight(uint64_t *a1, double a2)
{
  v4 = *a1;
  v5 = WTF::StringImpl::createWithoutCopyingNonEmpty();
  WTF::JSONImpl::Value::create(&v15, v5, a2);
  WTF::HashMap<WTF::String,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)0,WTF::FastMalloc>::inlineSet<WTF::String const&,WTF::Ref<WTF::JSONImpl::Value,WTF::RawPtrTraits<WTF::JSONImpl::Value>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::Value>>>((v4 + 16), &v14, &v15, v16);
  if (v16[16] == 1)
  {
    v7 = *(v4 + 36);
    if (v7 == *(v4 + 32))
    {
      WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::appendSlowCase<(WTF::FailureAction)0,WTF::String const&>(v4 + 24, &v14);
    }

    else
    {
      v8 = *(v4 + 24);
      v9 = v14;
      if (v14)
      {
        atomic_fetch_add_explicit(v14, 2u, memory_order_relaxed);
      }

      v10 = *(v4 + 36);
      *(v8 + 8 * v7) = v9;
      *(v4 + 36) = v10 + 1;
    }
  }

  v11 = v15;
  v15 = 0;
  if (v11)
  {
    if (*v11 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v11;
    }
  }

  v12 = v14;
  v14 = 0;
  if (v12 && atomic_fetch_add_explicit(v12, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v12, v6);
  }

  return a1;
}

void WebKit::WebAutomationSession::getNextContext(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t *a4)
{
  v6 = *(a2 + 12);
  if (v6)
  {
    v9 = *a2 + 8 * v6;
    v10 = *(v9 - 8);
    *(v9 - 8) = 0;
    WTF::Vector<WTF::Ref<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::shrink(a2, v6 - 1);
    CFRetain(*(v10 + 8));
    v23 = a1;
    CFRetain(*(a1 + 8));
    v11 = *a4;
    *a4 = 0;
    v12 = *a2;
    *a2 = 0;
    v13 = *a3;
    *a3 = 0;
    v27 = v13;
    v28 = v10;
    v14 = *(a2 + 8);
    *(a2 + 8) = 0;
    v15 = WTF::fastMalloc(0x40);
    *v15 = &unk_1F1136360;
    v15[1] = a1;
    v15[2] = a1;
    v15[3] = v11;
    v24 = 0;
    v25 = 0;
    v26[0] = 0;
    v15[4] = v12;
    v26[1] = 0;
    v15[5] = v14;
    v15[6] = v13;
    v15[7] = v10;
    v29 = v15;
    WebKit::WebPageProxy::getWindowFrameWithCallback(v10, &v29);
    if (v29)
    {
      (*(*v29 + 8))(v29);
    }

    v27 = 0;
    v28 = 0;
    WTF::Vector<WTF::Ref<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(v26, v16);
    v17 = v25;
    v25 = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }

    v18 = v24;
    v24 = 0;
    if (v18)
    {
      CFRelease(*(v18 + 8));
    }

    CFRelease(*(v10 + 8));
  }

  else
  {
    v19 = *a3;
    *a3 = 0;
    v31 = 0;
    v20 = *a4;
    v30 = 0;
    v23 = v19;
    LOBYTE(v24) = 0;
    (*(*v20 + 16))(v20, &v23);
    std::experimental::fundamentals_v3::expected<WTF::Ref<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>,WTF::RawPtrTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>>,WTF::String>::~expected(&v23, v21);
    std::experimental::fundamentals_v3::expected<WTF::Ref<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>,WTF::RawPtrTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>>,WTF::String>::~expected(&v30, v22);
  }
}

uint64_t WebKit::WebAutomationSession::getBrowsingContexts(uint64_t a1, uint64_t *a2)
{
  v25 = 0;
  v26 = 0;
  v3 = *(*(a1 + 48) + 8);
  CFRetain(*(v3 - 8));
  v4 = *(v3 + 68);
  if (v4)
  {
    v5 = *(v3 + 56);
    v6 = &v5[v4];
    while (1)
    {
      v7 = *v5;
      v8 = (*v5 + 16);
      atomic_fetch_add(v8, 1u);
      WebKit::WebProcessProxy::pages(v7, &v23);
      if (v24)
      {
        break;
      }

LABEL_13:
      WTF::Vector<WTF::Ref<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v23, v9);
      if (v7)
      {
        WTF::ThreadSafeRefCounted<WebKit::AuxiliaryProcessProxy,(WTF::DestructionThread)2>::deref(v8);
      }

      if (++v5 == v6)
      {
        goto LABEL_16;
      }
    }

    v10 = v23;
    v11 = 8 * v24;
    while (1)
    {
      v12 = *v10;
      CFRetain(*(*v10 + 8));
      v22 = v12;
      if (*(v12 + 962))
      {
        LODWORD(v13) = HIDWORD(v26);
        if (HIDWORD(v26) == v26)
        {
          v14 = WTF::Vector<WTF::Ref<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::expandCapacity<(WTF::FailureAction)0>(&v25, HIDWORD(v26) + 1, &v22);
          v13 = HIDWORD(v26);
          v15 = v25;
          v16 = *v14;
          *v14 = 0;
          *(v15 + 8 * v13) = v16;
        }

        else
        {
          v22 = 0;
          *(v25 + 8 * HIDWORD(v26)) = v12;
        }

        HIDWORD(v26) = v13 + 1;
        v12 = v22;
        v22 = 0;
        if (!v12)
        {
          goto LABEL_12;
        }
      }

      else
      {
        v22 = 0;
      }

      CFRelease(*(v12 + 8));
LABEL_12:
      ++v10;
      v11 -= 8;
      if (!v11)
      {
        goto LABEL_13;
      }
    }
  }

LABEL_16:
  CFRelease(*(v3 - 8));
  v17 = WTF::fastMalloc(0x20);
  v21 = WTF::JSONImpl::ArrayBase::ArrayBase(v17);
  WebKit::WebAutomationSession::getNextContext(a1, &v25, &v21, a2);
  if (v21)
  {
    if (*v21 == 1)
    {
      WTF::JSONImpl::Value::operator delete();
    }

    else
    {
      --*v21;
    }
  }

  return WTF::Vector<WTF::Ref<WebKit::WebPageProxy,WTF::RawPtrTraits<WebKit::WebPageProxy>,WTF::DefaultRefDerefTraits<WebKit::WebPageProxy>>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v25, v18);
}

void WebKit::WebAutomationSession::getBrowsingContext(CFTypeRef *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v13);
  v5 = v13;
  if (v13)
  {
    CFRetain(a1[1]);
    CFRetain(*(v5 + 8));
    v6 = *a3;
    *a3 = 0;
    v7 = WTF::fastMalloc(0x20);
    *v7 = &unk_1F1136388;
    v7[1] = a1;
    v7[2] = v5;
    v7[3] = v6;
    v10 = v7;
    WebKit::WebPageProxy::getWindowFrameWithCallback(v5, &v10);
    if (v10)
    {
      (*(*v10 + 8))(v10);
    }

    v8 = *(v5 + 8);

    CFRelease(v8);
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v10);
    v11 = v10;
    v12 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<Inspector::Protocol::Automation::BrowsingContext,WTF::RawPtrTraits<Inspector::Protocol::Automation::BrowsingContext>,WTF::DefaultRefDerefTraits<Inspector::Protocol::Automation::BrowsingContext>>,WTF::String>)>::operator()(*a3, &v11);
    std::experimental::fundamentals_v3::expected<WTF::Ref<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>,WTF::RawPtrTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>>,WTF::String>::~expected(&v11, v9);
  }
}

uint64_t WTF::Function<void ()(std::experimental::fundamentals_v3::expected<WTF::Ref<Inspector::Protocol::Automation::BrowsingContext,WTF::RawPtrTraits<Inspector::Protocol::Automation::BrowsingContext>,WTF::DefaultRefDerefTraits<Inspector::Protocol::Automation::BrowsingContext>>,WTF::String>)>::operator()(uint64_t a1, uint64_t *a2)
{
  LOBYTE(v6) = 0;
  v7 = -1;
  v2 = *(a2 + 8);
  if (v2 != 255)
  {
    v3 = *a2;
    *a2 = 0;
    v6 = v3;
    v7 = v2;
  }

  (*(*a1 + 16))(a1, &v6);
  return std::experimental::fundamentals_v3::expected<WTF::Ref<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>,WTF::RawPtrTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>,WTF::DefaultRefDerefTraits<WTF::JSONImpl::ArrayOf<Inspector::Protocol::BidiBrowsingContext::Info>>>,WTF::String>::~expected(&v6, v4);
}

WTF::StringImpl *WebKit::WebAutomationSession::createBrowsingContext(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  v20 = *MEMORY[0x1E69E9840];
  v4 = *(a1 + 56);
  if (v4)
  {
    if (*a2 == 4)
    {
      v6 = *(a2 + 4);
    }

    else
    {
      v6 = 0;
    }

    CFRetain(*(a1 + 8));
    v7 = *a3;
    *a3 = 0;
    v8 = WTF::fastMalloc(0x18);
    *v8 = &unk_1F11363B0;
    v8[1] = a1;
    v8[2] = v7;
    v17[0] = v8;
    (*(*v4 + 32))(v4, a1, v6, v17);
    result = v17[0];
    v17[0] = 0;
    if (result)
    {
      return (*(*result + 8))(result);
    }
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(5, &v14);
    v17[0] = "The remote session could not request a new browsing context.";
    v17[1] = 61;
    v16 = 59;
    result = WTF::tryMakeString<WTF::String,char,WTF::ASCIILiteral>(&v14, &v16, v17, &v15);
    v10 = v15;
    if (v15)
    {
      v15 = 0;
      v18[0] = v10;
      v19 = 1;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<std::tuple<WTF::String,Inspector::Protocol::Automation::BrowsingContextPresentation>,WTF::String>)>::operator()(*a3, v18);
      std::experimental::fundamentals_v3::expected<std::tuple<WTF::String,Inspector::Protocol::Automation::BrowsingContextPresentation>,WTF::String>::~expected(v18, v11);
      v13 = v15;
      v15 = 0;
      if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v13, v12);
      }

      result = v14;
      v14 = 0;
      if (result && atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        return WTF::StringImpl::destroy(result, v12);
      }
    }

    else
    {
      __break(0xC471u);
    }
  }

  return result;
}

uint64_t WTF::Function<void ()(std::experimental::fundamentals_v3::expected<std::tuple<WTF::String,Inspector::Protocol::Automation::BrowsingContextPresentation>,WTF::String>)>::operator()(uint64_t a1, uint64_t *a2)
{
  v9 = *MEMORY[0x1E69E9840];
  LOBYTE(v6) = 0;
  v8 = -1;
  v2 = *(a2 + 16);
  if (v2 != 255)
  {
    v3 = *a2;
    if (!*(a2 + 16))
    {
      v7 = *(a2 + 2);
    }

    *a2 = 0;
    v6 = v3;
    v8 = v2;
  }

  (*(*a1 + 16))(a1, &v6);
  return std::experimental::fundamentals_v3::expected<std::tuple<WTF::String,Inspector::Protocol::Automation::BrowsingContextPresentation>,WTF::String>::~expected(&v6, v4);
}

uint64_t std::experimental::fundamentals_v3::expected<std::tuple<WTF::String,Inspector::Protocol::Automation::BrowsingContextPresentation>,WTF::String>::~expected(uint64_t a1, WTF::StringImpl *a2)
{
  if (*(a1 + 16) != 255)
  {
    v3 = *a1;
    *a1 = 0;
    if (v3)
    {
      if (atomic_fetch_add_explicit(v3, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v3, a2);
      }
    }
  }

  *(a1 + 16) = -1;
  return a1;
}

void WebKit::WebAutomationSession::closeBrowsingContext(uint64_t *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v26);
  v7 = v26;
  if (v26)
  {
    v8 = WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::String>>,(WTF::ShouldValidateKey)1,WTF::String>(a1 + 15, a2, v6);
    v10 = a1[15];
    if (v10)
    {
      v11 = (v10 + 16 * *(v10 - 4));
      if (v11 == v8)
      {
        goto LABEL_21;
      }
    }

    else
    {
      if (!v8)
      {
LABEL_21:
        v19 = WebKit::WebPageProxy::closePage(v7);
        WTF::RunLoop::mainSingleton(v19);
        v20 = *a3;
        *a3 = 0;
        v21 = WTF::fastMalloc(0x10);
        *v21 = &unk_1F11363D8;
        *(v21 + 1) = v20;
        v23 = v21;
        WTF::RunLoop::dispatch();
        v22 = v23;
        v23 = 0;
        if (v22)
        {
          (*(*v22 + 8))(v22);
        }

        CFRelease(*(v7 + 8));
        return;
      }

      v11 = 0;
    }

    if (v11 != v8)
    {
      v14 = *v8;
      *v8 = -1;
      if (v14 && atomic_fetch_add_explicit(v14, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v14, v9);
      }

      v15 = a1[15];
      v16 = vadd_s32(*(v15 - 16), 0xFFFFFFFF00000001);
      *(v15 - 16) = v16;
      v17 = *(v15 - 4);
      if (6 * v16.i32[1] < v17 && v17 >= 9)
      {
        WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(a1 + 15, v17 >> 1);
      }
    }

    goto LABEL_21;
  }

  Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v23);
  v24 = v23;
  v25 = 1;
  WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a3, &v24);
  if (v25 == 1)
  {
    v13 = v24;
    v24 = 0;
    if (v13)
    {
      if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v13, v12);
      }
    }
  }
}

uint64_t WebKit::WebAutomationSession::deleteSession@<X0>(WebKit::WebAutomationSession *this@<X0>, uint64_t a2@<X8>)
{
  if (*(*(this + 40) + 20))
  {
    result = WebKit::WebAutomationSession::terminate(this);
    v4 = 0;
    *a2 = 0;
  }

  else
  {
    result = Inspector::Protocol::AutomationHelpers::getEnumConstantValue(5, a2);
    v4 = 1;
  }

  *(a2 + 8) = v4;
  return result;
}

void WebKit::WebAutomationSession::switchToBrowsingContext(WebKit::WebAutomationSession *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3, uint64_t *a4)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v26);
  v7 = v26;
  if (v26)
  {
    v22 = 0;
    v8 = WebKit::WebAutomationSession::webFrameIDForHandle(a1, a3, &v22);
    if (v22)
    {
      Inspector::Protocol::AutomationHelpers::getEnumConstantValue(10, &v23);
      v20 = v23;
      v21 = 1;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a4, &v20);
      if (v21 == 1)
      {
        v11 = v20;
        v20 = 0;
        if (v11)
        {
          if (atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v11, v10);
          }
        }
      }
    }

    else
    {
      v14 = v8;
      v15 = v9;
      v16 = *(a1 + 7);
      CFRetain(*(v7 + 8));
      v17 = *a4;
      *a4 = 0;
      v18 = WTF::fastMalloc(0x28);
      *v18 = &unk_1F1136400;
      *(v18 + 8) = v14;
      *(v18 + 16) = v15;
      *(v18 + 24) = v7;
      *(v18 + 32) = v17;
      v23 = v18;
      (*(*v16 + 64))(v16, a1, v7, &v23);
      v19 = v23;
      v23 = 0;
      if (v19)
      {
        (*(*v19 + 8))(v19);
      }
    }

    CFRelease(*(v7 + 8));
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v23);
    v24 = v23;
    v25 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a4, &v24);
    if (v25 == 1)
    {
      v13 = v24;
      v24 = 0;
      if (v13)
      {
        if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v13, v12);
        }
      }
    }
  }
}

void WebKit::WebAutomationSession::setWindowFrameOfBrowsingContext(CFTypeRef *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3, WTF::JSONImpl::ObjectBase **a4, uint64_t *a5)
{
  v9 = *a3;
  if (*a3)
  {
    WTF::StringImpl::createWithoutCopyingNonEmpty();
    v78 = v80;
    Double = WTF::JSONImpl::ObjectBase::getDouble(v9, &v78);
    LOBYTE(v9) = v11;
    v13 = v78;
    v78 = 0;
    if (v13 && atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v13, v11);
      if (v9)
      {
        goto LABEL_5;
      }
    }

    else if (v11)
    {
LABEL_5:
      v14 = *a3;
      WTF::StringImpl::createWithoutCopyingNonEmpty();
      v78 = v80;
      v16 = WTF::JSONImpl::ObjectBase::getDouble(v14, &v78);
      v17 = v15;
      v18 = v78;
      v78 = 0;
      if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v18, v15);
        if (v17)
        {
          goto LABEL_8;
        }
      }

      else if (v15)
      {
LABEL_8:
        v57 = Double & 0xFFFFFFFFFFFFFF00;
        v19 = v16 & 0xFFFFFFFFFFFFFF00;
        goto LABEL_10;
      }

      Inspector::Protocol::AutomationHelpers::getEnumConstantValue(16, &v72);
      v80 = "The 'y' parameter was not found or invalid.";
      v81 = 44;
      v79 = 59;
      WTF::tryMakeString<WTF::String,char,WTF::ASCIILiteral>(&v72, &v79, &v80, &v78);
      v52 = v78;
      if (!v78)
      {
        __break(0xC471u);
        JUMPOUT(0x19E452F04);
      }

      v78 = 0;
      v73 = v52;
      v74 = 1;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v73);
      if (v74 == 1)
      {
        v53 = v73;
        v73 = 0;
        if (v53)
        {
          if (atomic_fetch_add_explicit(v53, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v53, v26);
          }
        }
      }

      v54 = v78;
      v78 = 0;
      if (v54 && atomic_fetch_add_explicit(v54, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v54, v26);
      }

      v29 = v72;
      v72 = 0;
      if (v29)
      {
        goto LABEL_90;
      }

      return;
    }

    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(16, &v75);
    v80 = "The 'x' parameter was not found or invalid.";
    v81 = 44;
    v79 = 59;
    WTF::tryMakeString<WTF::String,char,WTF::ASCIILiteral>(&v75, &v79, &v80, &v78);
    v43 = v78;
    if (v78)
    {
      v78 = 0;
      v76 = v43;
      v77 = 1;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v76);
      if (v77 == 1)
      {
        v44 = v76;
        v76 = 0;
        if (v44)
        {
          if (atomic_fetch_add_explicit(v44, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v44, v26);
          }
        }
      }

      v45 = v78;
      v78 = 0;
      if (v45 && atomic_fetch_add_explicit(v45, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v45, v26);
      }

      v29 = v75;
      v75 = 0;
      if (v29)
      {
        goto LABEL_90;
      }

      return;
    }

    __break(0xC471u);
    goto LABEL_100;
  }

  v17 = 0;
  LOBYTE(v16) = 0;
  v19 = 0;
  LOBYTE(Double) = 0;
  v57 = 0;
LABEL_10:
  v20 = *a4;
  if (!*a4)
  {
    v30 = 0;
    v24 = 0.0;
    v31 = 0.0;
    goto LABEL_26;
  }

  v55 = v19;
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  v78 = v80;
  v22 = COERCE_DOUBLE(WTF::JSONImpl::ObjectBase::getDouble(v20, &v78));
  LOBYTE(v20) = v21;
  v23 = v78;
  v78 = 0;
  if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v23, v21);
    if (v20)
    {
      goto LABEL_14;
    }

LABEL_70:
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(16, &v69);
    v80 = "The 'width' parameter was not found or invalid.";
    v81 = 48;
    v79 = 59;
    WTF::tryMakeString<WTF::String,char,WTF::ASCIILiteral>(&v69, &v79, &v80, &v78);
    v49 = v78;
    if (!v78)
    {
      __break(0xC471u);
      JUMPOUT(0x19E452EFCLL);
    }

    v78 = 0;
    v70 = v49;
    v71 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v70);
    if (v71 == 1)
    {
      v50 = v70;
      v70 = 0;
      if (v50)
      {
        if (atomic_fetch_add_explicit(v50, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v50, v26);
        }
      }
    }

    v51 = v78;
    v78 = 0;
    if (v51 && atomic_fetch_add_explicit(v51, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v51, v26);
    }

    v29 = v69;
    v69 = 0;
    if (v29)
    {
      goto LABEL_90;
    }

    return;
  }

  if ((v21 & 1) == 0)
  {
    goto LABEL_70;
  }

LABEL_14:
  v24 = v22;
  if (v22 < 0.0)
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(17, &v66);
    v80 = "The 'width' parameter had an invalid value.";
    v81 = 44;
    v79 = 59;
    WTF::tryMakeString<WTF::String,char,WTF::ASCIILiteral>(&v66, &v79, &v80, &v78);
    v25 = v78;
    if (!v78)
    {
      __break(0xC471u);
      JUMPOUT(0x19E452F0CLL);
    }

    v78 = 0;
    v67 = v25;
    v68 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v67);
    if (v68 == 1)
    {
      v27 = v67;
      v67 = 0;
      if (v27)
      {
        if (atomic_fetch_add_explicit(v27, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v27, v26);
        }
      }
    }

    v28 = v78;
    v78 = 0;
    if (v28 && atomic_fetch_add_explicit(v28, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v28, v26);
    }

    v29 = v66;
    v66 = 0;
    if (v29)
    {
      goto LABEL_90;
    }

    return;
  }

  v36 = *a4;
  WTF::StringImpl::createWithoutCopyingNonEmpty();
  v78 = v80;
  v38 = COERCE_DOUBLE(WTF::JSONImpl::ObjectBase::getDouble(v36, &v78));
  v30 = v37;
  v39 = v78;
  v78 = 0;
  if (v39 && atomic_fetch_add_explicit(v39, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    WTF::StringImpl::destroy(v39, v37);
  }

  if ((v30 & 1) == 0)
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(16, &v63);
    v80 = "The 'height' parameter was not found or invalid.";
    v81 = 49;
    v79 = 59;
    WTF::tryMakeString<WTF::String,char,WTF::ASCIILiteral>(&v63, &v79, &v80, &v78);
    v46 = v78;
    if (!v78)
    {
      __break(0xC471u);
      JUMPOUT(0x19E452F14);
    }

    v78 = 0;
    v64 = v46;
    v65 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v64);
    if (v65 == 1)
    {
      v47 = v64;
      v64 = 0;
      if (v47)
      {
        if (atomic_fetch_add_explicit(v47, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v47, v26);
        }
      }
    }

    v48 = v78;
    v78 = 0;
    if (v48 && atomic_fetch_add_explicit(v48, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v48, v26);
    }

    v29 = v63;
    v63 = 0;
    if (v29)
    {
      goto LABEL_90;
    }

    return;
  }

  v31 = v38;
  if (v38 < 0.0)
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(17, &v60);
    v80 = "The 'height' parameter had an invalid value.";
    v81 = 45;
    v79 = 59;
    WTF::tryMakeString<WTF::String,char,WTF::ASCIILiteral>(&v60, &v79, &v80, &v78);
    v40 = v78;
    if (v78)
    {
      v78 = 0;
      v61 = v40;
      v62 = 1;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v61);
      if (v62 == 1)
      {
        v41 = v61;
        v61 = 0;
        if (v41)
        {
          if (atomic_fetch_add_explicit(v41, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v41, v26);
          }
        }
      }

      v42 = v78;
      v78 = 0;
      if (v42 && atomic_fetch_add_explicit(v42, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v42, v26);
      }

      v29 = v60;
      v60 = 0;
      if (v29)
      {
        goto LABEL_90;
      }

      return;
    }

    __break(0xC471u);
LABEL_100:
    JUMPOUT(0x19E452EF4);
  }

  v19 = v55;
LABEL_26:
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v80);
  v32 = v80;
  if (v80)
  {
    CFRetain(a1[1]);
    v56 = v17;
    v33 = v30;
    v34 = *a5;
    *a5 = 0;
    CFRetain(*(v32 + 1));
    v35 = WTF::fastMalloc(0x68);
    *v35 = &unk_1F1136450;
    *(v35 + 1) = a1;
    *(v35 + 2) = a1;
    *(v35 + 3) = v34;
    *(v35 + 4) = v32;
    *(v35 + 5) = v24;
    v35[48] = v20;
    *(v35 + 7) = v31;
    v35[64] = v33;
    *(v35 + 9) = v57 | Double;
    v35[80] = v9;
    *(v35 + 11) = v19 | v16;
    v35[96] = v56;
    v78 = v35;
    WebKit::WebAutomationSession::exitFullscreenWindowForPage(a1, *(v32 + 63), &v78);
    if (v78)
    {
      (*(*v78 + 8))(v78);
    }

    CFRelease(*(v32 + 1));
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v78);
    v58 = v78;
    v59 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v58);
    if (v59 == 1)
    {
      v29 = v58;
      v58 = 0;
      if (v29)
      {
LABEL_90:
        if (atomic_fetch_add_explicit(v29, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v29, v26);
        }
      }
    }
  }
}

void WebKit::WebAutomationSession::exitFullscreenWindowForPage(uint64_t a1, WebKit::WebFullScreenManagerProxy *this, uint64_t *a3)
{
  if (this && (++*(this + 5), WebKit::WebFullScreenManagerProxy::isFullScreen(this)))
  {
    CFRetain(*(a1 + 8));
    v6 = *a3;
    *a3 = 0;
    v7 = WTF::fastMalloc(0x20);
    *v7 = &unk_1F1136590;
    v7[1] = a1;
    v7[2] = a1;
    v7[3] = v6;
    v8 = *(a1 + 208);
    *(a1 + 208) = v7;
    if (v8)
    {
      (*(*v8 + 8))(v8);
    }

    WebKit::WebFullScreenManagerProxy::requestExitFullScreen(this);
  }

  else
  {
    v9 = *a3;
    *a3 = 0;
    (*(*v9 + 16))(v9);
    (*(*v9 + 8))(v9);
    if (!this)
    {
      return;
    }
  }

  if (*(this + 5) == 1)
  {
    v10 = *(*this + 24);

    v10(this);
  }

  else
  {
    --*(this + 5);
  }
}

void WebKit::WebAutomationSession::waitForNavigationToComplete(uint64_t *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3, uint64_t a4, uint64_t a5, uint64_t *a6)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v38);
  v10 = v38;
  if (v38)
  {
    if (*(a4 + 4))
    {
      v11 = *a4;
    }

    else
    {
      v11 = 29;
    }

    if (v11 == 29)
    {
      v14 = *(v38 + 32);
      WebKit::PageLoadState::ref((v14 + 1120));
      if (*(v14 + 1160) || *(v14 + 1144) <= 1u)
      {
        v15 = (*(*a1[7] + 72))(a1[7], a1, v10);
      }

      else
      {
        v15 = 0;
      }

      WebKit::PageLoadState::deref((v14 + 1120));
    }

    else
    {
      v15 = 0;
    }

    if (!*a3 || !*(*a3 + 4))
    {
      if (v15)
      {
LABEL_27:
        LOBYTE(v29) = 0;
        v30 = 0;
        WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a6, &v29);
        if (v30 != 1)
        {
          goto LABEL_44;
        }

        v19 = v29;
        v29 = 0;
        if (!v19)
        {
          goto LABEL_44;
        }

        goto LABEL_29;
      }

      WebKit::WebAutomationSession::waitForNavigationToCompleteOnPage(a1, v10, v11, a6);
LABEL_44:
      CFRelease(*(v10 + 8));
      return;
    }

    v35 = 0;
    v16 = WebKit::WebAutomationSession::webFrameIDForHandle(a1, a3, &v35);
    if (v35)
    {
      Inspector::Protocol::AutomationHelpers::getEnumConstantValue(10, &v39);
      v33 = v39;
      v34 = 1;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a6, &v33);
      if (v34 != 1)
      {
        goto LABEL_44;
      }

      v19 = v33;
      v33 = 0;
      if (!v19)
      {
        goto LABEL_44;
      }

      goto LABEL_29;
    }

    if ((v17 & 1) == 0)
    {
      v25 = std::__throw_bad_optional_access[abi:sn200100]();
      WebKit::WebAutomationSession::waitForNavigationToCompleteOnPage(v25, v26, v27, v28);
      return;
    }

    v20 = WebKit::WebFrameProxy::webFrame(v16, 1);
    if (!v20)
    {
      Inspector::Protocol::AutomationHelpers::getEnumConstantValue(10, &v39);
      v31 = v39;
      v32 = 1;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a6, &v31);
      if (v32 != 1)
      {
        goto LABEL_44;
      }

      v19 = v31;
      v31 = 0;
      if (!v19)
      {
        goto LABEL_44;
      }

LABEL_29:
      if (atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v19, v18);
      }

      goto LABEL_44;
    }

    v21 = v20;
    CFRetain(*(v20 + 8));
    if (v15)
    {
      CFRelease(*(v21 + 8));
      goto LABEL_27;
    }

    if (v11 == 27 || *(v21 + 60) == 2)
    {
      LOBYTE(v39) = 0;
      v40 = 0;
      WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a6, &v39);
      if (v40 == 1)
      {
        v24 = v39;
        v39 = 0;
        if (v24)
        {
          if (atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v24, v23);
          }
        }
      }

      goto LABEL_43;
    }

    WTF::RunLoop::TimerBase::start();
    if (v11 == 28)
    {
      v41 = *(v21 + 288);
      v22 = a1 + 21;
    }

    else
    {
      if (v11 != 29)
      {
LABEL_43:
        CFRelease(*(v21 + 8));
        goto LABEL_44;
      }

      v41 = *(v21 + 288);
      v22 = a1 + 20;
    }

    WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>(&v39, v22, &v41, a6);
    goto LABEL_43;
  }

  Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v39);
  v36 = v39;
  v37 = 1;
  WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a6, &v36);
  if (v37 == 1)
  {
    v13 = v36;
    v36 = 0;
    if (v13)
    {
      if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v13, v12);
      }
    }
  }
}

void WebKit::WebAutomationSession::waitForNavigationToCompleteOnPage(uint64_t a1, uint64_t a2, int a3, uint64_t *a4)
{
  v8 = *(a2 + 32);
  WebKit::PageLoadState::ref((v8 + 1120));
  if (a3 != 27 && (*(v8 + 1160) || *(v8 + 1144) < 2u || *(v8 + 1344) || *(v8 + 1328) < 2u))
  {
    WTF::RunLoop::TimerBase::start();
    if (a3 == 28)
    {
      v13 = *(a2 + 40);
      v11 = (a1 + 152);
      goto LABEL_14;
    }

    if (a3 == 29)
    {
      v13 = *(a2 + 40);
      v11 = (a1 + 144);
LABEL_14:
      WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::inlineSet<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>(v11, &v13, a4, &v12);
    }
  }

  else
  {
    LOBYTE(v14) = 0;
    v15 = 0;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a4, &v14);
    if (v15 == 1)
    {
      v10 = v14;
      v14 = 0;
      if (v10)
      {
        if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v10, v9);
        }
      }
    }
  }

  WebKit::PageLoadState::deref((v8 + 1120));
}

void WebKit::WebAutomationSession::respondToPendingPageNavigationCallbacksWithTimeout(uint64_t a1, uint64_t *a2)
{
  v4 = *a2;
  if (*a2)
  {
    v5 = *(v4 - 4);
    v6 = (v4 + 16 * v5);
    if (*(v4 - 12))
    {
      v7 = *a2;
      if (v5)
      {
        v8 = 16 * v5;
        v7 = *a2;
        while ((*v7 + 1) <= 1)
        {
          v7 += 2;
          v8 -= 16;
          if (!v8)
          {
            v7 = v6;
            break;
          }
        }
      }

      if (v4)
      {
        goto LABEL_9;
      }

LABEL_13:
      v10 = 0;
      v9 = 0;
      goto LABEL_14;
    }

    v7 = (v4 + 16 * v5);
  }

  else
  {
    v7 = 0;
    v5 = 0;
  }

  v6 = (v4 + 16 * v5);
  if (!v4)
  {
    goto LABEL_13;
  }

LABEL_9:
  v9 = *(v4 - 4);
  v10 = (v4 + 16 * v9);
LABEL_14:
  v31[0] = a2;
  v31[1] = v7;
  v31[2] = v6;
  v31[3] = v10;
  v31[4] = (v4 + 16 * v9);
  v32 = 0;
  v33 = 0;
  WTF::Mapper<WTF::Vector<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc> WTF::copyToVectorOf<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::SizedIteratorRange<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::HashTableKeysIterator<WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>>(WTF::SizedIteratorRange<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::HashTableKeysIterator<WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>> const&)::{lambda(WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>&&)#1},WTF::Vector<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>,WTF::SizedIteratorRange<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>,WTF::HashTableKeysIterator<WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>> const&,void>::map( &v32,  v31);
  v12 = v32;
  if (!HIDWORD(v33))
  {
    goto LABEL_39;
  }

  v13 = 8 * HIDWORD(v33);
  v14 = v32;
  while (1)
  {
    v30 = *v14;
    WebKit::WebProcessProxy::webPage(v30, &v29);
    v15 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(a2, &v30);
    if (*a2)
    {
      if ((*a2 + 16 * *(*a2 - 4)) == v15)
      {
        goto LABEL_20;
      }
    }

    else if (!v15)
    {
LABEL_20:
      v28 = 0;
      goto LABEL_21;
    }

    v16 = v15[1];
    v15[1] = 0;
    v28 = v16;
    WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(a2, v15);
LABEL_21:
    v17 = v29;
    if (!v29 || !(*(**(a1 + 56) + 72))(*(a1 + 56), a1, v29))
    {
      break;
    }

    LOBYTE(v26) = 0;
    v27 = 0;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v28, &v26);
    if (v27 == 1)
    {
      v19 = v26;
      v26 = 0;
      if (v19)
      {
        if (atomic_fetch_add_explicit(v19, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v19, v18);
        }
      }
    }

    v20 = v28;
    v28 = 0;
    if (v20)
    {
      (*(*v20 + 8))(v20);
    }

    CFRelease(*(v17 + 8));
    ++v14;
    v13 -= 8;
    if (!v13)
    {
      goto LABEL_39;
    }
  }

  Inspector::Protocol::AutomationHelpers::getEnumConstantValue(6, &v23);
  v24 = v23;
  v25 = 1;
  WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v28, &v24);
  if (v25 == 1)
  {
    v21 = v24;
    v24 = 0;
    if (v21)
    {
      if (atomic_fetch_add_explicit(v21, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v21, v11);
      }
    }
  }

  v22 = v28;
  v28 = 0;
  if (v22)
  {
    (*(*v22 + 8))(v22);
  }

  if (v17)
  {
    CFRelease(*(v17 + 8));
  }

LABEL_39:
  if (v12)
  {
    WTF::fastFree(v12, v11);
  }
}

void WebKit::WebAutomationSession::respondToPendingFrameNavigationCallbacksWithTimeout(uint64_t a1, uint64_t *a2)
{
  v4 = *a2;
  if (!*a2)
  {
    v7 = 0;
    v5 = 0;
    goto LABEL_14;
  }

  v5 = *(v4 - 4);
  v6 = (v4 + 16 * v5);
  if (!*(v4 - 12))
  {
    v7 = (v4 + 16 * v5);
LABEL_14:
    v6 = (v4 + 16 * v5);
    if (v4)
    {
      goto LABEL_9;
    }

LABEL_15:
    v9 = 0;
    goto LABEL_16;
  }

  v7 = *a2;
  if (v5)
  {
    v8 = 16 * v5;
    v7 = *a2;
    while ((*v7 + 1) <= 1)
    {
      v7 += 2;
      v8 -= 16;
      if (!v8)
      {
        v7 = v6;
        break;
      }
    }
  }

  if (!v4)
  {
    goto LABEL_15;
  }

LABEL_9:
  v9 = (v4 + 16 * *(v4 - 4));
  v10 = *(v4 - 12);
  if (v10)
  {
    if (v10 >> 29)
    {
      __break(0xC471u);
      return;
    }

    v11 = WTF::fastMalloc((8 * v10));
    goto LABEL_17;
  }

LABEL_16:
  v11 = 0;
LABEL_17:
  if (v7 == v9)
  {
    goto LABEL_62;
  }

  v12 = 0;
  v13 = 1;
  do
  {
    v14 = v13;
    v15 = *v7;
    v7 += 2;
    *(v11 + v12) = v15;
    while (v7 != v6 && (*v7 + 1) <= 1)
    {
      v7 += 2;
    }

    ++v12;
    ++v13;
  }

  while (v7 != v9);
  if (!v12)
  {
    goto LABEL_62;
  }

  v16 = 8 * v14;
  v17 = v11;
  while (1)
  {
    v18 = *v17;
    v19 = *(a1 + 48);
    if (v19 && (v20 = *(v19 + 8)) != 0)
    {
      v21 = v20 - 16;
      CFRetain(*(v20 - 8));
    }

    else
    {
      v21 = 0;
    }

    v22 = 1;
    v23 = WebKit::WebFrameProxy::webFrame(v18, 1);
    if (v23)
    {
      v24 = v23;
      CFRetain(*(v23 + 8));
      v25 = *(v24 + 32);
      if (!v25 || (v26 = *(v25 + 8)) == 0)
      {
        CFRelease(*(v24 + 8));
        v27 = 0;
        v22 = 1;
        if (!v21)
        {
          goto LABEL_37;
        }

LABEL_36:
        CFRelease(*(v21 + 8));
        goto LABEL_37;
      }

      v27 = v26 - 16;
      CFRelease(*(v24 + 8));
      CFRetain(*(v26 - 8));
      v22 = 0;
      if (v21)
      {
        goto LABEL_36;
      }
    }

    else
    {
      v27 = 0;
      if (v21)
      {
        goto LABEL_36;
      }
    }

LABEL_37:
    v28 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*a2, v18);
    if (*a2)
    {
      if ((*a2 + 16 * *(*a2 - 4)) != v28)
      {
        goto LABEL_39;
      }
    }

    else if (v28)
    {
LABEL_39:
      v29 = v28[1];
      v28[1] = 0;
      v40 = v29;
      WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(a2, v28);
      if (!v27)
      {
        break;
      }

      goto LABEL_43;
    }

    v40 = 0;
    if (!v27)
    {
      break;
    }

LABEL_43:
    if (!(*(**(a1 + 56) + 72))(*(a1 + 56), a1, v27))
    {
      break;
    }

    LOBYTE(v38) = 0;
    v39 = 0;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v40, &v38);
    if (v39 == 1)
    {
      v31 = v38;
      v38 = 0;
      if (v31)
      {
        if (atomic_fetch_add_explicit(v31, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v31, v30);
        }
      }
    }

    v32 = v40;
    v40 = 0;
    if (v32)
    {
      (*(*v32 + 8))(v32);
    }

    CFRelease(*(v27 + 8));
    ++v17;
    v16 -= 8;
    if (!v16)
    {
      goto LABEL_62;
    }
  }

  Inspector::Protocol::AutomationHelpers::getEnumConstantValue(6, &v35);
  v36 = v35;
  v37 = 1;
  WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v40, &v36);
  if (v37 == 1)
  {
    v33 = v36;
    v36 = 0;
    if (v33)
    {
      if (atomic_fetch_add_explicit(v33, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v33, a2);
      }
    }
  }

  v34 = v40;
  v40 = 0;
  if (v34)
  {
    (*(*v34 + 8))(v34);
  }

  if ((v22 & 1) == 0)
  {
    CFRelease(*(v27 + 8));
  }

LABEL_62:
  if (v11)
  {
    WTF::fastFree(v11, a2);
  }
}

void WebKit::WebAutomationSession::maximizeWindowOfBrowsingContext(CFTypeRef *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v14);
  v5 = v14;
  if (v14)
  {
    CFRetain(a1[1]);
    v6 = *a3;
    *a3 = 0;
    CFRetain(*(v5 + 8));
    v7 = WTF::fastMalloc(0x28);
    *v7 = &unk_1F11364C8;
    *(v7 + 1) = a1;
    *(v7 + 2) = a1;
    *(v7 + 3) = v6;
    *(v7 + 4) = v5;
    v11 = v7;
    WebKit::WebAutomationSession::exitFullscreenWindowForPage(a1, *(v5 + 504), &v11);
    if (v11)
    {
      (*(*v11 + 8))(v11);
    }

    v8 = *(v5 + 8);

    CFRelease(v8);
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v11);
    v12 = v11;
    v13 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a3, &v12);
    if (v13 == 1)
    {
      v10 = v12;
      v12 = 0;
      if (v10)
      {
        if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v10, v9);
        }
      }
    }
  }
}

void WebKit::WebAutomationSession::hideWindowOfBrowsingContext(CFTypeRef *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v14);
  v5 = v14;
  if (v14)
  {
    CFRetain(a1[1]);
    v6 = *a3;
    *a3 = 0;
    CFRetain(*(v5 + 8));
    v7 = WTF::fastMalloc(0x20);
    *v7 = &unk_1F1136540;
    *(v7 + 1) = a1;
    *(v7 + 2) = v6;
    *(v7 + 3) = v5;
    v11 = v7;
    WebKit::WebAutomationSession::exitFullscreenWindowForPage(a1, *(v5 + 504), &v11);
    if (v11)
    {
      (*(*v11 + 8))(v11);
    }

    v8 = *(v5 + 8);

    CFRelease(v8);
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v11);
    v12 = v11;
    v13 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a3, &v12);
    if (v13 == 1)
    {
      v10 = v12;
      v12 = 0;
      if (v10)
      {
        if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v10, v9);
        }
      }
    }
  }
}

uint64_t WebKit::WebAutomationSession::willShowJavaScriptDialog(CFTypeRef *a1, uint64_t a2, atomic_uint **a3, uint64_t a4)
{
  WTF::RunLoop::mainSingleton(a1);
  CFRetain(a1[1]);
  CFRetain(*(a2 + 8));
  v8 = *a3;
  if (v8)
  {
    atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
  }

  v9 = *(a4 + 8);
  if (v9 == 1)
  {
    v10 = *a4;
    if (v10)
    {
      atomic_fetch_add_explicit(v10, 2u, memory_order_relaxed);
    }
  }

  else
  {
    v10 = 0;
  }

  v11 = WTF::fastMalloc(0x38);
  *v11 = &unk_1F11365B8;
  *(v11 + 8) = a1;
  *(v11 + 16) = a1;
  *(v11 + 24) = a2;
  if (v8)
  {
    atomic_fetch_add_explicit(v8, 2u, memory_order_relaxed);
  }

  *(v11 + 32) = v8;
  *(v11 + 40) = 0;
  *(v11 + 48) = 0;
  if (v9)
  {
    *(v11 + 40) = v10;
    *(v11 + 48) = 1;
    v10 = 0;
  }

  v14 = v11;
  WTF::RunLoop::dispatch();
  result = v14;
  if (v14)
  {
    result = (*(*v14 + 8))(v14);
    if (!v10)
    {
      goto LABEL_16;
    }
  }

  else if (!v10)
  {
    goto LABEL_16;
  }

  if (v9 && atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
  {
    result = WTF::StringImpl::destroy(v10, v12);
  }

LABEL_16:
  if (v8)
  {
    if (atomic_fetch_add_explicit(v8, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(v8, v12);
    }
  }

  return result;
}

void WebKit::WebAutomationSession::navigateBrowsingContext(WebKit::WebAutomationSession *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3, uint64_t a4, uint64_t a5, uint64_t *a6)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v40);
  v10 = v40;
  if (v40)
  {
    if (*(a4 + 4))
    {
      v11 = *a4;
    }

    else
    {
      v11 = 29;
    }

    WTF::URL::URL(v26, a3);
    WebCore::ResourceRequestBase::ResourceRequestBase(v27, v26, 0);
    cf = 0;
    v41 = 0;
    WebKit::WebPageProxy::loadRequest(v10, v27, 1, 0, &v41, 0, 1, &v37);
    if (v37)
    {
      CFRelease(*(v37 + 8));
    }

    v15 = cf;
    cf = 0;
    if (v15)
    {
      CFRelease(v15);
    }

    v16 = v35;
    v35 = 0;
    if (v16)
    {
      WTF::RefCounted<WebCore::FormData>::deref(v16);
    }

    v17 = v34;
    v34 = 0;
    if (v17 && atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v17, v14);
    }

    v18 = v33;
    v33 = 0;
    if (v18 && atomic_fetch_add_explicit(v18, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v18, v14);
    }

    WTF::Vector<WTF::String,0ul,WTF::CrashOnOverflow,16ul,WTF::FastMalloc>::~Vector(&v32, v14);
    WTF::Vector<WebCore::HTTPHeaderMap::UncommonHeader,0ul,WTF::CrashOnOverflow,0ul,WTF::FastMalloc>::~Vector(v31, v19);
    WTF::Vector<WebCore::HTTPHeaderMap::CommonHeader,0ul,WTF::CrashOnOverflow,6ul,WTF::FastMalloc>::~Vector(&v30, v20);
    v22 = v29;
    v29 = 0;
    if (v22 && atomic_fetch_add_explicit(v22, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v22, v21);
    }

    v23 = v28;
    v28 = 0;
    if (v23 && atomic_fetch_add_explicit(v23, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v23, v21);
    }

    v24 = v27[0];
    v27[0] = 0;
    if (v24 && atomic_fetch_add_explicit(v24, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      WTF::StringImpl::destroy(v24, v21);
    }

    v25 = v26[0];
    v26[0] = 0;
    if (v25)
    {
      if (atomic_fetch_add_explicit(v25, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v25, v21);
      }
    }

    WebKit::WebAutomationSession::waitForNavigationToCompleteOnPage(a1, v10, v11, a6);
    CFRelease(*(v10 + 8));
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, v27);
    v38 = v27[0];
    v39 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a6, &v38);
    if (v39 == 1)
    {
      v13 = v38;
      v38 = 0;
      if (v13)
      {
        if (atomic_fetch_add_explicit(v13, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v13, v12);
        }
      }
    }
  }
}

void WebKit::WebAutomationSession::goBackInBrowsingContext(WebKit::WebAutomationSession *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3, uint64_t a4, uint64_t *a5)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v17);
  v8 = v17;
  if (v17)
  {
    if (*(a3 + 4))
    {
      v9 = *a3;
    }

    else
    {
      v9 = 29;
    }

    WebKit::WebPageProxy::goBack(v17, &v13);
    v12 = v13;
    v13 = 0;
    if (v12)
    {
      CFRelease(*(v12 + 8));
    }

    WebKit::WebAutomationSession::waitForNavigationToCompleteOnPage(a1, v8, v9, a5);
    CFRelease(*(v8 + 1));
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v14);
    v15 = v14;
    v16 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v15);
    if (v16 == 1)
    {
      v11 = v15;
      v15 = 0;
      if (v11)
      {
        if (atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v11, v10);
        }
      }
    }
  }
}

void WebKit::WebAutomationSession::goForwardInBrowsingContext(WebKit::WebAutomationSession *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3, uint64_t a4, uint64_t *a5)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v17);
  v8 = v17;
  if (v17)
  {
    if (*(a3 + 4))
    {
      v9 = *a3;
    }

    else
    {
      v9 = 29;
    }

    WebKit::WebPageProxy::goForward(v17, &v13);
    v12 = v13;
    v13 = 0;
    if (v12)
    {
      CFRelease(*(v12 + 8));
    }

    WebKit::WebAutomationSession::waitForNavigationToCompleteOnPage(a1, v8, v9, a5);
    CFRelease(*(v8 + 1));
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v14);
    v15 = v14;
    v16 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v15);
    if (v16 == 1)
    {
      v11 = v15;
      v15 = 0;
      if (v11)
      {
        if (atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v11, v10);
        }
      }
    }
  }
}

void WebKit::WebAutomationSession::reloadBrowsingContext(WebKit::WebAutomationSession *a1, const WTF::StringImpl **a2, const WTF::StringImpl *a3, uint64_t a4, uint64_t *a5)
{
  WebKit::WebAutomationSession::webPageProxyForHandle(a1, a2, a3, &v17);
  v8 = v17;
  if (v17)
  {
    if (*(a3 + 4))
    {
      v9 = *a3;
    }

    else
    {
      v9 = 29;
    }

    WebKit::WebPageProxy::reload(v17, 0, &v13);
    v12 = v13;
    v13 = 0;
    if (v12)
    {
      CFRelease(*(v12 + 8));
    }

    WebKit::WebAutomationSession::waitForNavigationToCompleteOnPage(a1, v8, v9, a5);
    CFRelease(*(v8 + 8));
  }

  else
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v14);
    v15 = v14;
    v16 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(a5, &v15);
    if (v16 == 1)
    {
      v11 = v15;
      v15 = 0;
      if (v11)
      {
        if (atomic_fetch_add_explicit(v11, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v11, v10);
        }
      }
    }
  }
}

void WebKit::WebAutomationSession::navigationOccurredForFrame(WebKit::WebAutomationSession *this, const WebKit::WebFrameProxy *a2, const WTF::StringImpl *a3)
{
  if (*(a2 + 56) == 1)
  {
    v72 = 0;
    v5 = (this + 136);
    v6 = *(this + 17);
    if (v6)
    {
      v7 = *(v6 - 4);
      v8 = v6 + 16 * v7;
      if (*(v6 - 12))
      {
        if (v7)
        {
          v9 = 16 * v7;
          v10 = *(this + 17);
          do
          {
            if ((*v10 + 1) > 1)
            {
              goto LABEL_25;
            }

            v10 += 16;
            v9 -= 16;
          }

          while (v9);
          v10 = v8;
        }

        else
        {
          v10 = *(this + 17);
        }

        goto LABEL_25;
      }
    }

    else
    {
      v8 = 0;
      v7 = 0;
    }

    v10 = v8;
    v8 = v6 + 16 * v7;
    if (!v6)
    {
      v13 = 0;
      goto LABEL_26;
    }

LABEL_25:
    v13 = v6 + 16 * *(v6 - 4);
LABEL_26:
    if (v13 == v10)
    {
      goto LABEL_49;
    }

    while (1)
    {
      v18 = WebKit::WebFrameProxy::webFrame(*(v10 + 8), 1);
      if (!v18)
      {
        goto LABEL_38;
      }

      v19 = v18;
      CFRetain(*(v18 + 8));
      v21 = *(v19 + 32);
      if (v21)
      {
        v22 = *(v21 + 8);
        if (v22)
        {
          v21 = v22 - 16;
        }

        else
        {
          v21 = 0;
        }
      }

      v23 = *(a2 + 4);
      if (v23)
      {
        v24 = *(v23 + 8);
        if (v24)
        {
          v23 = v24 - 16;
        }

        else
        {
          v23 = 0;
        }
      }

      if (v21 == v23)
      {
        WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(&v72, v10, v20, v71);
        v25 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 16, (v10 + 8));
        v26 = *(this + 16);
        if (v26)
        {
          v27 = (v26 + 16 * *(v26 - 4));
          if (v27 != v25)
          {
            goto LABEL_47;
          }
        }

        else if (v25)
        {
          v27 = 0;
LABEL_47:
          if (v27 != v25)
          {
            WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::String,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::String>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 16, v25);
          }
        }
      }

      CFRelease(*(v19 + 8));
      do
      {
LABEL_38:
        v10 += 16;
      }

      while (v10 != v8 && (*v10 + 1) <= 1);
      if (v10 == v13)
      {
        v6 = *v5;
LABEL_49:
        if (!v6)
        {
          goto LABEL_91;
        }

        v28 = *(v6 - 4);
        if (!v28)
        {
          goto LABEL_71;
        }

        v29 = 0;
        do
        {
          --v28;
          v30 = (v6 + 16 * v28);
          v31 = *v30;
          if (*v30 + 1 >= 2)
          {
            v32 = v72;
            if (v72)
            {
              v33 = *(v72 - 2);
              v34 = *(v31 + 4);
              v65 = v33;
              if (v34 < 0x100)
              {
                v35 = WTF::StringImpl::hashSlowCase(v31);
                v33 = v65;
              }

              else
              {
                v35 = v34 >> 8;
              }

              for (i = 0; ; v35 = i + v37)
              {
                v37 = v35 & v33;
                v38 = v32[v35 & v33];
                if (v38 != -1)
                {
                  if (!v38)
                  {
                    goto LABEL_54;
                  }

                  v39 = WTF::equal(v38, *v30, a3);
                  v33 = v65;
                  if (v39)
                  {
                    break;
                  }
                }

                ++i;
              }

              v41 = *v30;
              *v30 = -1;
              if (v41 && atomic_fetch_add_explicit(v41, 0xFFFFFFFE, memory_order_relaxed) == 2)
              {
                WTF::StringImpl::destroy(v41, v40);
              }

              ++v29;
            }
          }

LABEL_54:
          ;
        }

        while (v28);
        v6 = *v5;
        if (v29)
        {
          v42 = *(v6 - 12) - v29;
          *(v6 - 16) += v29;
          *(v6 - 12) = v42;
          goto LABEL_71;
        }

        if (!v6)
        {
          goto LABEL_91;
        }

LABEL_71:
        v43 = *(v6 - 12);
        v44 = *(v6 - 4);
        if (6 * v43 >= v44 || v44 < 9)
        {
          goto LABEL_91;
        }

        if (v43 <= 1)
        {
          v46 = 1;
          goto LABEL_80;
        }

        v47 = __clz(v43 - 1);
        if (v47)
        {
          v46 = (1 << -v47);
          if (v43 > 0x400)
          {
            if (v46 <= 2 * v43)
            {
LABEL_81:
              LODWORD(v46) = 2 * v46;
            }
          }

          else
          {
LABEL_80:
            if (3 * v46 <= 4 * v43)
            {
              goto LABEL_81;
            }
          }

          if (v46 > 0x400)
          {
            v48 = 0.416666667;
          }

          else
          {
            v48 = 0.604166667;
          }

          if (v46 * v48 <= v43)
          {
            LODWORD(v46) = 2 * v46;
          }

          if (v46 <= 8)
          {
            v49 = 8;
          }

          else
          {
            v49 = v46;
          }

          WTF::HashTable<WTF::String,WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,WTF::DefaultHash<WTF::String>,WTF::HashMap<WTF::String,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::rehash(this + 17, v49, 0);
LABEL_91:
          v50 = *(*(a2 + 4) + 8);
          if (v50)
          {
            v51 = v50 - 16;
          }

          else
          {
            v51 = 0;
          }

          v70 = *(v51 + 40);
          v52 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 18, &v70);
          v53 = *(this + 18);
          if (v53)
          {
            if ((v53 + 16 * *(v53 - 4)) == v52)
            {
              goto LABEL_105;
            }

LABEL_98:
            v54 = v52[1];
            v52[1] = 0;
            v71[0] = v54;
            WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 18, v52);
            if (v54)
            {
              WTF::RunLoop::TimerBase::stop((this + 216));
              LOBYTE(v68) = 0;
              v69 = 0;
              WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(v71, &v68);
              if (v69 == 1)
              {
                v56 = v68;
                v68 = 0;
                if (v56)
                {
                  if (atomic_fetch_add_explicit(v56, 0xFFFFFFFE, memory_order_relaxed) == 2)
                  {
                    WTF::StringImpl::destroy(v56, v55);
                  }
                }
              }

              v57 = v71[0];
              v71[0] = 0;
              if (v57)
              {
                (*(*v57 + 8))(v57);
              }
            }
          }

          else if (v52)
          {
            goto LABEL_98;
          }

LABEL_105:
          v58 = *(this + 12);
          v59 = *(a2 + 4);
          if (v59 && (v60 = *(v59 + 8)) != 0)
          {
            v61 = (v60 - 16);
            CFRetain(*(v60 - 8));
          }

          else
          {
            v61 = 0;
          }

          WebKit::WebAutomationSession::handleForWebPageProxy(this, v61, v71);
          Inspector::AutomationFrontendDispatcher::browsingContextCleared(v58, v71);
          v63 = v71[0];
          v71[0] = 0;
          if (v63 && atomic_fetch_add_explicit(v63, 0xFFFFFFFE, memory_order_relaxed) == 2)
          {
            WTF::StringImpl::destroy(v63, v62);
          }

          CFRelease(v61[1]);
          if (v72)
          {
            WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::deallocateTable(v72, v64);
          }
        }

        else
        {
          __break(1u);
        }

        return;
      }
    }
  }

  v11 = (this + 160);
  v12 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*(this + 20), *(a2 + 36));
  if (*v11)
  {
    if ((*v11 + 16 * *(*v11 - 4)) == v12)
    {
      return;
    }
  }

  else if (!v12)
  {
    return;
  }

  v14 = v12[1];
  v12[1] = 0;
  v71[0] = v14;
  WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 20, v12);
  if (v14)
  {
    WTF::RunLoop::TimerBase::stop((this + 216));
    LOBYTE(v66) = 0;
    v67 = 0;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(v71, &v66);
    if (v67 == 1)
    {
      v16 = v66;
      v66 = 0;
      if (v16)
      {
        if (atomic_fetch_add_explicit(v16, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v16, v15);
        }
      }
    }

    v17 = v71[0];
    v71[0] = 0;
    if (v17)
    {
      (*(*v17 + 8))(v17);
    }
  }
}

void *WebKit::WebAutomationSession::documentLoadedForFrame(WebKit::WebAutomationSession *this, const WebKit::WebFrameProxy *a2)
{
  if (*(a2 + 56) == 1)
  {
    v3 = *(*(a2 + 4) + 8);
    if (v3)
    {
      v4 = v3 - 16;
    }

    else
    {
      v4 = 0;
    }

    v16 = *(v4 + 40);
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 19, &v16);
    v6 = *(this + 19);
    if (v6)
    {
      if ((v6 + 16 * *(v6 - 4)) == result)
      {
        return result;
      }
    }

    else if (!result)
    {
      return result;
    }

    v8 = result[1];
    result[1] = 0;
    v17 = v8;
    result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 19, result);
    if (!v8)
    {
      return result;
    }

    WTF::RunLoop::TimerBase::stop((this + 216));
    LOBYTE(v14) = 0;
    v15 = 0;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v17, &v14);
    if (v15 != 1)
    {
      goto LABEL_22;
    }

    v10 = v14;
    v14 = 0;
    if (!v10)
    {
      goto LABEL_22;
    }

    goto LABEL_20;
  }

  v7 = (this + 168);
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebCore::FrameIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(*(this + 21), *(a2 + 36));
  if (*v7)
  {
    if ((*v7 + 16 * *(*v7 - 4)) == result)
    {
      return result;
    }
  }

  else if (!result)
  {
    return result;
  }

  v11 = result[1];
  result[1] = 0;
  v17 = v11;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 21, result);
  if (!v11)
  {
    return result;
  }

  WTF::RunLoop::TimerBase::stop((this + 216));
  LOBYTE(v12) = 0;
  v13 = 0;
  WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v17, &v12);
  if (v13 == 1)
  {
    v10 = v12;
    v12 = 0;
    if (v10)
    {
LABEL_20:
      if (atomic_fetch_add_explicit(v10, 0xFFFFFFFE, memory_order_relaxed) == 2)
      {
        WTF::StringImpl::destroy(v10, v9);
      }
    }
  }

LABEL_22:
  result = v17;
  v17 = 0;
  if (result)
  {
    return (*(*result + 8))(result);
  }

  return result;
}

void *WebKit::WebAutomationSession::inspectorFrontendLoaded(WebKit::WebAutomationSession *this, const WebKit::WebPageProxy *a2)
{
  v10 = *(a2 + 5);
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 22, &v10);
  v4 = *(this + 22);
  if (v4)
  {
    if ((v4 + 16 * *(v4 - 4)) == result)
    {
      return result;
    }
  }

  else if (!result)
  {
    return result;
  }

  v5 = result[1];
  result[1] = 0;
  v11 = v5;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 22, result);
  if (v5)
  {
    LOBYTE(v8) = 0;
    v9 = 0;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v11, &v8);
    if (v9 == 1)
    {
      v7 = v8;
      v8 = 0;
      if (v7)
      {
        if (atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v7, v6);
        }
      }
    }

    result = v11;
    v11 = 0;
    if (result)
    {
      return (*(*result + 8))(result);
    }
  }

  return result;
}

void *WebKit::WebAutomationSession::keyboardEventsFlushedForPage(WebKit::WebAutomationSession *this, const WebKit::WebPageProxy *a2)
{
  v10 = *(a2 + 5);
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 23, &v10);
  v4 = *(this + 23);
  if (v4)
  {
    if ((v4 + 16 * *(v4 - 4)) == result)
    {
      return result;
    }
  }

  else if (!result)
  {
    return result;
  }

  v5 = result[1];
  result[1] = 0;
  v11 = v5;
  result = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 23, result);
  if (v5)
  {
    LOBYTE(v8) = 0;
    v9 = 0;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v11, &v8);
    if (v9 == 1)
    {
      v7 = v8;
      v8 = 0;
      if (v7)
      {
        if (atomic_fetch_add_explicit(v7, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v7, v6);
        }
      }
    }

    result = v11;
    v11 = 0;
    if (result)
    {
      return (*(*result + 8))(result);
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebAutomationSession::willClosePage(WebKit::WebAutomationSession *this, WTF::StringImpl **a2)
{
  WebKit::WebAutomationSession::handleForWebPageProxy(this, a2, &v30);
  Inspector::AutomationFrontendDispatcher::browsingContextCleared(*(this + 12), &v30);
  v29 = a2[5];
  v4 = WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::find<WTF::IdentityHashTranslator<WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>>,(WTF::ShouldValidateKey)1,WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>(this + 23, &v29);
  v5 = v4;
  v6 = *(this + 23);
  if (v6)
  {
    if ((v6 + 16 * *(v6 - 4)) == v4)
    {
      goto LABEL_12;
    }
  }

  else if (!v4)
  {
    goto LABEL_12;
  }

  v7 = *(v4 + 1);
  *(v4 + 1) = 0;
  v31 = v7;
  WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::remove(this + 23, v4);
  if (v7)
  {
    Inspector::Protocol::AutomationHelpers::getEnumConstantValue(9, &v29);
    v27 = v29;
    v28 = 1;
    WTF::Function<void ()(std::experimental::fundamentals_v3::expected<void,WTF::String>)>::operator()(&v31, &v27);
    if (v28 == 1)
    {
      v9 = v27;
      v27 = 0;
      if (v9)
      {
        if (atomic_fetch_add_explicit(v9, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v9, v8);
        }
      }
    }

    v10 = v31;
    v31 = 0;
    if (v10)
    {
      (*(*v10 + 8))(v10);
    }

    goto LABEL_36;
  }

LABEL_12:
  v11 = *(this + 37);
  if (v11)
  {
    v12 = a2[5];
    if (v12 == -1 || !v12)
    {
      __break(0xC471u);
      JUMPOUT(0x19E45514CLL);
    }

    v13 = *(v11 - 2);
    v14 = (v12 + ~(v12 << 32)) ^ ((v12 + ~(v12 << 32)) >> 22);
    v15 = 9 * ((v14 + ~(v14 << 13)) ^ ((v14 + ~(v14 << 13)) >> 8));
    v16 = (v15 ^ (v15 >> 15)) + ~((v15 ^ (v15 >> 15)) << 27);
    v17 = v13 & ((v16 >> 31) ^ v16);
    v18 = v11[2 * v17];
    if (v18 != v12)
    {
      v19 = 1;
      while (v18)
      {
        v17 = (v17 + v19) & v13;
        v18 = v11[2 * v17];
        ++v19;
        if (v18 == v12)
        {
          goto LABEL_21;
        }
      }

      v17 = *(v11 - 1);
    }

LABEL_21:
    if (v17 != *(v11 - 1))
    {
      v20 = &v11[2 * v17];
      v21 = v20[1];
      if (v21 && (v20[1] = 0, (v11 = *(this + 37)) == 0) || (v11 += 2 * *(v11 - 1), v11 != v20))
      {
        if (v11 != v20)
        {
          *v20 = -1;
          v20[1] = 0;
          v22 = *(this + 37);
          v23 = *(v22 - 4);
          v24 = vadd_s32(*(v22 - 16), 0xFFFFFFFF00000001);
          *(v22 - 16) = v24;
          if (v23 >= 9 && 6 * v24.i32[1] < v23)
          {
            WTF::HashTable<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::SimulatedInputDispatcher,WTF::RawPtrTraits<WebKit::SimulatedInputDispatcher>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputDispatcher>>>,WTF::KeyValuePairKeyExtractor<WTF::KeyValuePair<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::SimulatedInputDispatcher,WTF::RawPtrTraits<WebKit::SimulatedInputDispatcher>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputDispatcher>>>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashMap<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>,WTF::Ref<WebKit::SimulatedInputDispatcher,WTF::RawPtrTraits<WebKit::SimulatedInputDispatcher>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputDispatcher>>,WTF::DefaultHash<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::HashTraits<WTF::Ref<WebKit::SimulatedInputDispatcher,WTF::RawPtrTraits<WebKit::SimulatedInputDispatcher>,WTF::DefaultRefDerefTraits<WebKit::SimulatedInputDispatcher>>>,WTF::HashTableTraits,(WTF::ShouldValidateKey)1,WTF::FastMalloc>::KeyValuePairTraits,WTF::HashTraits<WTF::ObjectIdentifierGeneric<WebKit::WebPageProxyIdentifierType,WTF::ObjectIdentifierMainThreadAccessTraits<unsigned long long>,unsigned long long>>,WTF::FastMalloc>::rehash(this + 37, v23 >> 1, 0);
          }
        }
      }

      if (v21)
      {
        if (*(v21 + 5))
        {
          LODWORD(v31) = 5;
          v32 = 0;
          v33 = 0;
          v34 = 1;
          WebKit::SimulatedInputDispatcher::finishDispatching(v21, &v31);
        }

        WTF::RefCounted<WebKit::SimulatedInputDispatcher>::deref(v21, v5);
      }
    }
  }

  WebKit::BidiBrowserAgent::willClosePage(*(*(this + 13) + 32), a2);
LABEL_36:
  result = v30;
  v30 = 0;
  if (result)
  {
    if (atomic_fetch_add_explicit(result, 0xFFFFFFFE, memory_order_relaxed) == 2)
    {
      return WTF::StringImpl::destroy(result, v8);
    }
  }

  return result;
}

WTF::StringImpl *WebKit::WebAutomationSession::handleRunOpenPanel(WTF::JSONImpl::Object **this, const WebKit::WebPageProxy *a2, const WebKit::WebFrameProxy *a3, const API::OpenPanelParameters *a4, WebKit::WebOpenPanelResultListenerProxy *a5)
{
  v115 = *MEMORY[0x1E69E9840];
  WebKit::WebAutomationSession::handleForWebPageProxy(this, a2, &v105);
  v8 = *(this + 69);
  if (v8 == 1 || v8 && (*(a4 + 17) & 1) != 0)
  {
    v104 = 0;
    API::Array::createStringArray(a4 + 24, &v103);
    v9 = v103;
    API::Array::elementsOfType<API::String>(v103, &v110);
    v10 = v112;
    v11 = v114;
    if (v112 != v114)
    {
      v12 = v113;
      while (1)
      {
        v13 = WTF::downcast<API::String,API::Object>(*v10);
        v14 = v13;
        if (v13)
        {
          CFRetain(*(v13 + 8));
        }

        WTF::String::isolatedCopy();
        WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(&v104, &v109, v15, &v101);
        v17 = v109;
        v109 = 0;
        if (!v17 || atomic_fetch_add_explicit(v17, 0xFFFFFFFE, memory_order_relaxed) != 2)
        {
          break;
        }

        WTF::StringImpl::destroy(v17, v16);
        if (v14)
        {
          goto LABEL_11;
        }

LABEL_12:
        v18 = v10 + 1;
        while (1)
        {
          if (v18 - 1 == v12)
          {
            v10 = v18 - 1;
            goto LABEL_19;
          }

          if (v18 == v12)
          {
            break;
          }

          ++v10;
          v19 = *v18++;
          if ((*(*v19 + 16))(v19) == 20)
          {
            goto LABEL_19;
          }
        }

        v10 = v18;
LABEL_19:
        if (v10 == v11)
        {
          goto LABEL_26;
        }
      }

      if (!v14)
      {
        goto LABEL_12;
      }

LABEL_11:
      CFRelease(*(v14 + 8));
      goto LABEL_12;
    }

LABEL_26:
    v100 = 0;
    API::Array::createStringArray(a4 + 40, &v99);
    v23 = v99;
    API::Array::elementsOfType<API::String>(v99, &v110);
    v25 = v112;
    v26 = v114;
    if (v112 != v114)
    {
      v27 = v113;
      while (1)
      {
        v28 = WTF::downcast<API::String,API::Object>(*v25);
        v29 = v28;
        if (v28)
        {
          CFRetain(*(v28 + 8));
        }

        WTF::String::isolatedCopy();
        if (v109)
        {
          WTF::StringImpl::substring(v109);
          v31 = v101;
        }

        else
        {
          v31 = 0;
        }

        v108 = v31;
        WTF::HashTable<WTF::String,WTF::String,WTF::IdentityExtractor,WTF::DefaultHash<WTF::String>,WTF::HashTraits<WTF::String>,WTF::HashTraits<WTF::String>,WTF::FastMalloc>::add<(WTF::ShouldValidateKey)1>(&v100, &v108, v30, &v101);
        v32 = v108;
        v108 = 0;
        if (v32 && atomic_fetch_add_explicit(v32, 0xFFFFFFFE, memory_order_relaxed) == 2)
        {
          WTF::StringImpl::destroy(v32, v24);
        }

        v33 = v109;
        v109 = 0;
        if (!v33 || atomic_fetch_add_explicit(v33, 0xFFFFFFFE, memory_order_relaxed) != 2)
        {
          break;
        }

        WTF::StringImpl::destroy(v33, v24);
        if (v29)
        {
          goto LABEL_39;
        }

LABEL_40:
        v34 = v25 + 1;
        while (1)
        {
          if (v34 - 1 == v27)
          {
            v25 = v34 - 1;
            goto LABEL_47;
          }

          if (v34 == v27)
          {
            break;
          }

          ++v25;
          v35 = *v34++;
          if ((*(*v35 + 16))(v35) == 20)
          {
            goto LABEL_47;
          }
        }

        v25 = v34;
LABEL_47:
        if (v25 == v26)
        {
          goto LABEL_51;
        }
      }

      if (!v29)
      {
        goto LABEL_40;
      }

LABEL_39:
      CFRelease(*(v29 + 8));
      goto LABEL_40;
    }

LABEL_51:
    v36 = *(this + 69);
    if (v36)
    {
      v37 = this[33];
      v38 = (v37 + 8 * v36);