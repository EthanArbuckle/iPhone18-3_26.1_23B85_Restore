uint64_t glTranslate_Exec(uint64_t result, double a2, double a3, double a4)
{
  if (*(result + 20484) < 24)
  {
    v4 = *(result + 20488);
    *(*(result + 19976) + 48) = vaddq_f32(*(*(result + 19976) + 48), vmlaq_n_f32(vmlaq_n_f32(vmulq_n_f32(*(*(result + 19976) + 16), *&a3), **(result + 19976), *&a2), *(*(result + 19976) + 32), *&a4));
    *(result + 1528) |= v4;
    *(result + 1540) |= v4;
    v5 = *(result + 1544);
    if ((v4 & ~v5 & *(result + 2216) & 0xFFFFFC) != 0)
    {
      v6 = *(result + 19984);
      v8 = v6[2];
      v7 = v6[3];
      v9 = vmlsq_lane_f32(v6[1], v7, *&a3, 0);
      *v6 = vmlsq_lane_f32(*v6, v7, *&a2, 0);
      v6[1] = v9;
      v6[2] = vmlsq_lane_f32(v8, v7, *&a4, 0);
      v4 &= 0xFF000003;
    }

    *(result + 28652) = 0;
    *(result + 1544) = v4 | v5;
  }

  else if (!*(result + 29832))
  {
    *(result + 29832) = 1282;
  }

  return result;
}

void glWeightPointerARB_Exec(uint64_t a1, uint64_t a2, int a3, unsigned int a4, uint64_t a5)
{
  v5 = a1 + 28652;
  if ((a2 - 5) < 0xFFFFFFFC || (a4 & 0x80000000) != 0)
  {
    if (!*(a1 + 29832))
    {
      v20 = 1281;
      goto LABEL_25;
    }

    return;
  }

  v7 = a5;
  v8 = a3;
  v11 = *(a1 + 26384);
  v12 = *(a1 + 19312);
  if (!v12 && v11 != *(a1 + 26392) && a5 && !*(a1 + 32502))
  {
    if (!*(a1 + 29832))
    {
      v20 = 1282;
LABEL_25:
      *(a1 + 29832) = v20;
      return;
    }

    return;
  }

  if (a3 == 5126 || a3 == 5132)
  {
    *(v11 + 944) |= 0x100000uLL;
    *(v11 + 232) = a5;
    v13 = *(v11 + 1272);
    if (v12 == v13)
    {
      goto LABEL_39;
    }

    if (v13 && (v14 = *(v13 + 20) - 1, (*(v13 + 20) = v14) == 0))
    {
      gleUnbindAndFreeBufferObject(a1, v13);
      if (v12)
      {
        goto LABEL_10;
      }
    }

    else if (v12)
    {
LABEL_10:
      ++*(v12 + 20);
      v15 = *(v11 + 912);
      if ((v15 & 0x100000) == 0)
      {
        *(v11 + 912) = v15 | 0x100000;
        if ((*(v11 + 906) & 0x10) != 0)
        {
          gleUpdateDrawArraysFuncs(a1);
        }
      }

      v16 = *(v5 + 3844);
      if (*(v5 + 3844))
      {
        v17 = (v12 + 40);
        v18 = (v11 + 1528);
        do
        {
          v19 = *v17++;
          *v18 = v19;
          v18 += 35;
          --v16;
        }

        while (v16);
      }

      if (v13)
      {
        goto LABEL_38;
      }

      goto LABEL_37;
    }

    v21 = *(v11 + 912);
    if ((v21 & 0x100000) != 0)
    {
      *(v11 + 912) = v21 & 0xFFFFFFFFFFEFFFFFLL;
      if ((*(v11 + 906) & 0x10) != 0)
      {
        gleUpdateDrawArraysFuncs(a1);
      }
    }

    v22 = *(v5 + 3844);
    if (*(v5 + 3844))
    {
      v23 = (v22 + 1) & 0x1FE;
      v24 = vdupq_n_s64(v22 - 1);
      v25 = xmmword_23A102AE0;
      v26 = (v11 + 1528);
      v27 = vdupq_n_s64(2uLL);
      do
      {
        v28 = vmovn_s64(vcgeq_u64(v24, v25));
        if (v28.i8[0])
        {
          *v26 = 0;
        }

        if (v28.i8[4])
        {
          v26[35] = 0;
        }

        v25 = vaddq_s64(v25, v27);
        v26 += 70;
        v23 -= 2;
      }

      while (v23);
    }

LABEL_37:
    *(v11 + 952) |= 0x100000uLL;
LABEL_38:
    *v5 = 0;
    *(a1 + 1532) |= 0x1000u;
    *(v11 + 944) |= 0x100010uLL;
    *(v11 + 1272) = v12;
LABEL_39:
    if (v12)
    {
      v7 += *(v12 + 136);
      if (*(v12 + 192))
      {
        if ((*(v11 + 906) & 0x10) != 0)
        {
          *(v11 + 1216) = 0;
        }
      }
    }

    *(v11 + 992) = v7;
    LODWORD(v29) = 4 * a2;
    if (a4)
    {
      v29 = a4;
    }

    else
    {
      v29 = v29;
    }

    v30 = ((((v29 | v7) & 0xF) == 0) << 57) | (a2 << 48) | (v8 << 32) | v29;
    if (*(v11 + 248) != v30)
    {
      *(v11 + 952) |= 0x100000uLL;
      *(v11 + 248) = v30;
      *(a1 + 26184) = gleSetVertexArrayFunc;
      *(a1 + 26192) = gleSetVertexArrayFunc;
      *(a1 + 26200) = gleSetVertexElemFunc;
      *(a1 + 26208) = gleSetVertexElemFunc;
      *v5 = 0;
      *(a1 + 1532) |= 0x1000u;
    }

    return;
  }

  if (!*(a1 + 29832))
  {
    v20 = 1280;
    goto LABEL_25;
  }
}

uint64_t gleSetAttrib(uint64_t result, int a2, unsigned __int16 *a3)
{
  v4 = result;
  v5 = result + 28652;
  v6 = result + 17572;
  v7 = (result + 12516);
  if (a2 <= 511)
  {
    if (a2 <= 15)
    {
      if (a2 > 3)
      {
        if (a2 == 4)
        {
          *(result + 15315) = *(a3 + 11);
          *(result + 15314) = *(a3 + 10);
          *(result + 15312) = a3[4];
          *(result + 15308) = *(a3 + 1);
          *(result + 15304) = *a3;
        }

        else if (a2 == 8)
        {
          *(result + 15534) = *(a3 + 18);
          *(result + 15530) = a3[7];
          *(result + 15528) = a3[6];
          *(result + 15524) = a3[4];
          v39 = a3[5];
          *(result + 15526) = a3[5];
          v41 = a3[4] == 6914 && v39 == 6914;
          *(result + 15538) = v41;
          *(result + 15533) = *(a3 + 17);
          *(result + 15532) = *(a3 + 16);
          *(result + 15537) = *(a3 + 21);
          *(result + 15536) = *(a3 + 20);
          *(result + 15535) = *(a3 + 19);
          *(result + 15516) = *a3;
          *(result + 15520) = *(a3 + 1);
        }
      }

      else if (a2 == 1)
      {
        v54 = *(result + 26000);
        *(result + 29596) = *(a3 + 107);
        *(result + 8448) = *(a3 + 104);
        *(result + 8452) = *(a3 + 105);
        *(result + 8456) = *(a3 + 106);
        *(result + 8464) = *(a3 + 100);
        *(result + 8468) = *(a3 + 101);
        *(result + 8472) = *(a3 + 102);
        *(result + 8476) = *(a3 + 103);
        *(result + 8480) = *(a3 + 108);
        *(result + 8484) = *(a3 + 109);
        *(result + 8488) = *(a3 + 110);
        *(result + 8496) = *(a3 + 96);
        *(result + 8500) = *(a3 + 97);
        *(result + 8504) = *(a3 + 98);
        *(result + 8508) = *(a3 + 99);
        *(result + 8512) = *(a3 + 111);
        *(result + 8528) = *(a3 + 167);
        v55 = (result + 8572);
        v56 = (v54 - 1056);
        v57 = 8;
        v58 = a3;
        do
        {
          *(v55 - 3) = *v58;
          *(v55 - 2) = v58[1];
          *(v55 - 1) = v58[2];
          *v55 = v58[3];
          v55 += 4;
          *v56 = v58[128];
          v56[1] = v58[129];
          v56[2] = v58[130];
          v56[3] = v58[131];
          v56 += 4;
          v58 += 4;
          --v57;
        }

        while (v57);
        v59 = (a3 + 70);
        v60 = (result + 8700);
        v61 = 16;
        do
        {
          *(v60 - 3) = *(v59 - 3);
          *(v60 - 2) = *(v59 - 2);
          *(v60 - 1) = *(v59 - 1);
          v62 = *v59;
          v59 += 4;
          *v60 = v62;
          v60 += 8;
          --v61;
        }

        while (v61);
        *(result + 2256) = *(a3 + 112);
        *(result + 2260) = *(a3 + 113);
        *(result + 2264) = *(a3 + 114);
        *(v54 - 1204) = *(a3 + 115);
        *(v54 - 1184) = *(a3 + 116);
        *(v54 - 1180) = *(a3 + 117);
        *(v54 - 1176) = *(a3 + 118);
        *(v54 - 1172) = *(a3 + 119);
        *(v54 - 1200) = *(a3 + 120);
        *(v54 - 1196) = *(a3 + 121);
        *(v54 - 1192) = *(a3 + 122);
        *(v54 - 1188) = *(a3 + 123);
        *(v54 - 1168) = *(a3 + 124);
        *(v54 - 1164) = *(a3 + 125);
        *(v54 - 1160) = *(a3 + 126);
        *(v54 - 1152) = *(a3 + 160);
        *(v54 - 1148) = *(a3 + 161);
        *(v54 - 1144) = *(a3 + 162);
        *(v54 - 1140) = *(a3 + 163);
        *(v54 - 1136) = *(a3 + 164);
        *(v54 - 1132) = *(a3 + 165);
        *(v54 - 1128) = *(a3 + 166);
        *(result + 32491) = *(a3 + 673);
      }

      else if (a2 == 2)
      {
        *(result + 15344) = *a3;
        *(result + 15348) = *(a3 + 1);
        *(result + 15352) = *(a3 + 2);
        *(result + 15356) = *(a3 + 3);
        *(result + 15360) = *(a3 + 4);
        *(result + 15364) = *(a3 + 5);
        *(result + 15368) = *(a3 + 6);
        *(result + 32507) = *(result + 32507) & 0x80 | a3[14] & 0x7F;
        *(result + 15377) = *(a3 + 29);
        *(result + 15378) = *(a3 + 30);
        *(result + 15380) = a3[16];
        *(result + 15382) = a3[17];
        *(result + 15384) = *(a3 + 9);
      }
    }

    else if (a2 <= 63)
    {
      if (a2 == 16)
      {
        for (i = 0; i != 128; ++i)
        {
          *(result + 15388 + i) = *(a3 + i);
        }
      }

      else if (a2 == 32)
      {
        *(result + 15176) = a3[4];
        *(result + 29844) = a3[5];
        *(result + 18440) = *a3;
        *(result + 18444) = *(a3 + 1);
        *(result + 18520) = *(a3 + 4);
        *(result + 18524) = *(a3 + 5);
        *(result + 18528) = *(a3 + 6);
        *(result + 18532) = *(a3 + 7);
        *(result + 18536) = *(a3 + 8);
        *(result + 18540) = *(a3 + 9);
        *(result + 18544) = *(a3 + 10);
        *(result + 18548) = *(a3 + 11);
        *(result + 18552) = *(a3 + 12);
        *(result + 18556) = *(a3 + 13);
        *(result + 18560) = *(a3 + 14);
        *(result + 18564) = *(a3 + 15);
        v42 = *(result + 19162);
        *(result + 19160) = v42 << 16;
        *(result + 19160) = *(a3 + 3) | (v42 << 16);
      }
    }

    else
    {
      if (a2 == 64)
      {
        *(result + 15592) = *a3;
        *(result + 17704) = a3[1];
        *(result + 29708) = a3[4];
        *(result + 14884) = a3[2];
        *(result + 14886) = a3[3];
        *(result + 14888) = a3[5];
        *(result + 12528) = *(a3 + 3);
        *(result + 12532) = *(a3 + 4);
        *(result + 12536) = *(a3 + 5);
        *(result + 12540) = *(a3 + 6);
        *(result + 14891) = *(a3 + 28);
        *(result + 14893) = *(a3 + 29);
        *(result + 14892) = *(a3 + 30);
        *(result + 14894) = *(a3 + 31);
        *(result + 14890) = *(a3 + 32);
        *(result + 14880) = *(a3 + 9);
        v69 = (result + 12544);
        v70 = a3 + 34;
        v71 = 8;
        do
        {
          v69[12] = v70[5];
          v69[13] = v70[6];
          v69[14] = v70[7];
          v69[15] = v70[8];
          *v69 = *(v70 - 7);
          v69[1] = *(v70 - 6);
          v69[2] = *(v70 - 5);
          v69[3] = *(v70 - 4);
          v69[4] = *(v70 - 3);
          v69[5] = *(v70 - 2);
          v69[6] = *(v70 - 1);
          v69[7] = *v70;
          v69[8] = v70[1];
          v69[9] = v70[2];
          v69[10] = v70[3];
          v69[11] = v70[4];
          v69[16] = v70[9];
          v69[17] = v70[10];
          v69[18] = v70[11];
          v69[23] = v70[12];
          v69[36] = v70[13];
          v69[19] = v70[14];
          v69[20] = v70[15];
          v69[21] = v70[16];
          v69[22] = v70[17];
          v70 += 25;
          v69 += 40;
          --v71;
        }

        while (v71);
        v72 = 0;
        v73 = 1;
        do
        {
          v74 = &a3[40 * v72 + 420];
          v75 = *(result + 1424 + 8 * v72);
          *v75 = *v74;
          v75[1] = *(v74 + 1);
          v75[2] = *(v74 + 2);
          v75[3] = *(v74 + 3);
          v75[4] = *(v74 + 4);
          v75[5] = *(v74 + 5);
          v75[6] = *(v74 + 6);
          v75[7] = *(v74 + 7);
          v75[8] = *(v74 + 8);
          v75[9] = *(v74 + 9);
          v75[10] = *(v74 + 10);
          v75[11] = *(v74 + 11);
          v75[12] = *(v74 + 12);
          v75[13] = *(v74 + 13);
          v75[14] = *(v74 + 14);
          v75[15] = *(v74 + 15);
          v75[16] = *(v74 + 19);
          v76 = (result + 29604 + 12 * v72);
          *v76 = *(v74 + 16);
          LOBYTE(v75) = v73;
          v76[1] = *(v74 + 17);
          v76[2] = *(v74 + 18);
          v72 = 1;
          v73 = 0;
        }

        while ((v75 & 1) != 0);
        return result;
      }

      if (a2 != 128)
      {
        if (a2 != 256)
        {
          return result;
        }

        *(result + 15204) = *(a3 + 28);
        *(result + 15200) = a3[12];
        *(result + 15128) = *a3;
        v15 = *(a3 + 29) != 0;
        *(result + 15340) = *(a3 + 29);
        *(result + 15206) = *(a3 + 30);
        *(result + 15208) = *(a3 + 1);
        *(result + 15216) = *(a3 + 2);
        v16 = *(result + 29804) & 0xFFFFFEFF | (v15 << 8);
        *(result + 29804) = v16;
        v17 = *(result + 28960);
        if (v17)
        {
          v18 = (v17 + 552);
        }

        else
        {
          v18 = (result + 29808);
        }

        v19 = *v18 & v16;
        goto LABEL_112;
      }

      *(result + 29576) = *a3;
      *(result + 29580) = *(a3 + 1);
      *(result + 29584) = *(a3 + 2);
      *(result + 29588) = *(a3 + 3);
      v63 = *(a3 + 5);
      *(result + 15244) = v63;
      v64 = *(a3 + 6);
      *(result + 15248) = v64;
      v65 = *(a3 + 7);
      *(result + 15252) = v65;
      *(result + 29600) = *(a3 + 4);
      *(result + 15276) = a3[16];
      *(result + 15278) = a3[17];
      *(result + 15280) = a3[18];
      *(result + 15282) = *(a3 + 38);
      *(result + 32506) = *(a3 + 39);
      v66 = 1.0 / (v65 - v64);
      v67 = vabds_f32(v65, v64) < 0.000005;
      v68 = 200000.0;
      if (!v67)
      {
        v68 = v66;
      }

      *(result + 15256) = v68;
      *(result + 15272) = v65 * v68;
      *(result + 15260) = vmul_n_f32(0x3F99BE613FB8AA3BLL, v63);
    }
  }

  else
  {
    if (a2 < 0x4000)
    {
      if (a2 > 2047)
      {
        switch(a2)
        {
          case 0x800:
            *(result + 9280) = *a3;
            *(result + 9288) = *(a3 + 1);
            *(result + 9312) = *(a3 + 4);
            *(result + 9316) = *(a3 + 5);
            *(result + 9320) = *(a3 + 6);
            *(result + 9324) = *(a3 + 7);
            break;
          case 0x1000:
            *(result + 20484) = *a3;
            *v7 = *(a3 + 8);
            *(result + 12517) = *(a3 + 9);
            *v6 = *(a3 + 27);
            v77 = (a3 + 12);
            v78 = (result + 17588);
            v79 = 6;
            do
            {
              *(v78 - 3) = *(v77 - 3);
              *(v78 - 2) = *(v77 - 2);
              *(v78 - 1) = *(v77 - 1);
              v80 = *v77;
              v77 += 4;
              *v78 = v80;
              v78 += 4;
              --v79;
            }

            while (v79);
            *(result + 17697) = *(a3 + 10);
            *(result + 17696) = *(a3 + 1);
            *(result + 20494) = *(a3 + 11);
            *(result + 15205) = *(a3 + 112);
            break;
          case 0x2000:
            v8 = *(a3 + 119);
            if (*(result + 14891) != v8)
            {
              *(result + 14891) = v8;
              if (!*(a3 + 119))
              {
                result = (*(result + 1456))(result, result + 8464);
              }
            }

            v9 = 0;
            v7[2766] = *(a3 + 123);
            v7[2374] = *(a3 + 124);
            v7[2798] = *(a3 + 126);
            v7[3016] = *(a3 + 135);
            v7[3018] = *(a3 + 120);
            v7[2490] = *(a3 + 116);
            v7[2604] = *(a3 + 118);
            v7[2803] = *(a3 + 127);
            v7[2802] = *(a3 + 128);
            v7[2708] = *(a3 + 122);
            v7[2688] = *(a3 + 121);
            *(v5 + 3855) = *(v5 + 3855) & 0x80 | a3[65] & 0x7F;
            v7[2861] = *(a3 + 148);
            v7[2799] = *(a3 + 125);
            v7[3017] = *(a3 + 134);
            *(v4 + 15576) = *(a3 + 19);
            *v7 = *(a3 + 129);
            v7[1] = *(a3 + 140);
            v7[3021] = *(a3 + 131);
            v7[3020] = *(a3 + 132);
            v7[3019] = *(a3 + 133);
            *(v6 + 2922) = *(a3 + 141);
            *(v6 + 108) = *(a3 + 142);
            *(v6 + 109) = *(a3 + 136);
            *(v6 + 110) = *(a3 + 137);
            *(v6 + 111) = *(a3 + 138);
            *(v6 + 125) = *(a3 + 139);
            v10 = (v4 + 15684);
            do
            {
              *v10 = *&a3[v9 + 16];
              v10 += 19;
              v9 += 2;
            }

            while (v9 != 16);
            v11 = a3 + 83;
            v12 = v7 + 4019;
            v13 = 8;
            do
            {
              *(v12 - 3) = *(v11 - 3);
              *(v12 - 2) = *(v11 - 2);
              *(v12 - 1) = *(v11 - 1);
              v14 = *v11;
              v11 += 4;
              *v12 = v14;
              v12 += 148;
              --v13;
            }

            while (v13);
            *(v4 + 15644) = *(a3 + 18);
            *v6 = *(a3 + 17);
            *(v4 + 14880) = *(a3 + 16);
            *(v4 + 24756) = *(a3 + 112);
            *(v4 + 24760) = *(a3 + 113);
            *(v4 + 24750) = *(a3 + 114);
            *(v4 + 24751) = *(a3 + 115);
            *(v5 + 3854) = *(a3 + 149);
            v7[2690] = *(a3 + 144);
            v7[2689] = *(a3 + 145);
            v7[2680] = *(a3 + 146);
            *(v5 + 1056) = a3[75];
            *(v5 + 1058) = a3[76];
            *(v5 + 1060) = a3[77];
            v7[2863] = *(a3 + 147);
            break;
        }

        return result;
      }

      if (a2 == 512)
      {
        *(result + 15136) = *a3;
        *(result + 15140) = *(a3 + 1);
        *(result + 15144) = *(a3 + 2);
        *(result + 15148) = *(a3 + 3);
        return result;
      }

      if (a2 != 1024)
      {
        return result;
      }

      v43 = a3 + 4;
      v44 = 3831;
      v45 = 15610;
      v46 = 15596;
      do
      {
        v47 = (result + v46);
        v48 = (result + v45);
        *(v48 - 3) = *v43;
        *v47 = *(v43 - 1);
        v47[1] = *(v43 - 2);
        *(v48 - 2) = v43[1];
        *(v48 - 1) = v43[2];
        *v48 = v43[3];
        *(result + 4 * v44++) = *(v43 + 2);
        v45 += 16;
        v43 += 10;
        v46 += 16;
      }

      while (v44 != 3834);
      v49 = *(a3 + 16);
      *(result + 15644) = v49;
      *(result + 15172) = *(a3 + 15);
      *(result + 29776) = a3[34];
      if ((v49 & 4) != 0)
      {
        v50 = 1;
      }

      else
      {
        v50 = 2;
      }

      v51 = *(result + 29804) & 0xFFFFF9FF;
      *(result + 29804) = v51;
      if (*(result + 15324))
      {
        v51 |= 0x200u;
        *(result + 29804) = v51;
      }

      if (*(result + 15324 + 4 * v50))
      {
        v51 |= 0x400u;
        *(result + 29804) = v51;
      }

      v52 = *(result + 28960);
      if (v52)
      {
        v53 = (v52 + 552);
      }

      else
      {
        v53 = (result + 29808);
      }

      v19 = *v53 & v51;
LABEL_112:
      *(result + 15342) = v19;
      return result;
    }

    if (a2 < 0x40000)
    {
      if (a2 == 0x4000)
      {
        for (j = 0; j != 8; ++j)
        {
          *(result + 15180 + j * 2) = a3[j + 10];
        }

        *(result + 29836) = a3[46];
        *(result + 29838) = a3[47];
        *(result + 29840) = a3[48];
        *(result + 29842) = a3[49];
        *(result + 15006) = *(a3 + 76);
        *(result + 15004) = a3[2];
        *(result + 29704) = *a3;
        *(result + 15120) = *(a3 + 77);
        *(result + 15008) = a3[3];
        *(result + 15010) = a3[4];
        *(result + 15012) = a3[5];
        *(result + 15014) = a3[6];
        *(result + 15016) = a3[7];
        *(result + 15018) = a3[8];
        *(result + 29688) = *(a3 + 9);
        *(result + 29692) = *(a3 + 10);
        *(result + 29696) = *(a3 + 11);
        *(result + 29700) = *(a3 + 12);
        *(result + 15224) = *(a3 + 78);
        *(result + 15319) = *(a3 + 79);
        *(result + 15318) = *(a3 + 80);
        *(result + 15316) = a3[9];
        *(result + 29672) = *(a3 + 13);
        *(result + 29676) = *(a3 + 14);
        *(result + 29680) = *(a3 + 15);
        *(result + 29684) = *(a3 + 16);
        v83 = *(a3 + 81);
        *(result + 15336) = v83;
        v84 = *(a3 + 82);
        *(result + 15337) = v84;
        v85 = *(a3 + 83);
        *(result + 15338) = v85;
        v86 = *(a3 + 84);
        *(result + 15339) = v86;
        *(result + 15168) = *(a3 + 17) * 257.0;
        *(result + 15320) = *(a3 + 18);
        *(result + 15196) = *(a3 + 85);
        *(result + 29710) = a3[44];
        *(result + 29712) = a3[45];
        v87 = *(result + 29804) & 0xFFFFFF00 | (v84 | v83 | v85 | v86);
        *(result + 29804) = v87;
        v88 = *(result + 28960);
        if (v88)
        {
          v89 = (v88 + 552);
        }

        else
        {
          v89 = (result + 29808);
        }

        v19 = *v89 & v87;
        goto LABEL_112;
      }

      if (a2 == 0x8000)
      {
        *(result + 15284) = *a3;
        *(result + 15286) = a3[1];
        *(result + 15288) = a3[2];
        *(result + 15290) = a3[3];
        *(result + 15292) = a3[4];
        *(result + 15294) = a3[5];
        *(result + 15296) = a3[6];
        *(result + 15298) = a3[7];
        *(result + 15300) = a3[8];
        *(result + 15302) = a3[9];
        *(result + 20384) = a3[10];
      }
    }

    else
    {
      switch(a2)
      {
        case 0x20000000:
          *(result + 17672) = *a3;
          *(result + 17680) = *(a3 + 4);
          *(result + 17681) = *(a3 + 5);
          *(result + 17682) = *(a3 + 6);
          *(result + 17683) = *(a3 + 7);
          *(result + 17684) = *(a3 + 8);
          break;
        case 0x80000:
          *(result + 15560) = *a3;
          *(result + 15576) = *(a3 + 4);
          break;
        case 0x40000:
          v90 = (result + 23768);
          v20 = 0;
          v21 = (result + 16535);
          do
          {
            *(v21 - 127) = *&a3[v20];
            *(v21 - 123) = *&a3[v20 + 2];
            *(v21 - 119) = *&a3[v20 + 4];
            *(v21 - 115) = *&a3[v20 + 6];
            *(v21 - 143) = *&a3[v20 + 8];
            *(v21 - 139) = *&a3[v20 + 10];
            *(v21 - 135) = *&a3[v20 + 12];
            *(v21 - 131) = *&a3[v20 + 14];
            *(v21 - 91) = *&a3[v20 + 18];
            *(v21 - 87) = *&a3[v20 + 20];
            *(v21 - 83) = *&a3[v20 + 22];
            *(v21 - 79) = *&a3[v20 + 24];
            *(v21 - 107) = *&a3[v20 + 26];
            *(v21 - 103) = *&a3[v20 + 28];
            *(v21 - 99) = *&a3[v20 + 30];
            *(v21 - 95) = *&a3[v20 + 32];
            *(v21 - 55) = *&a3[v20 + 36];
            *(v21 - 51) = *&a3[v20 + 38];
            *(v21 - 47) = *&a3[v20 + 40];
            *(v21 - 43) = *&a3[v20 + 42];
            *(v21 - 71) = *&a3[v20 + 44];
            *(v21 - 67) = *&a3[v20 + 46];
            *(v21 - 63) = *&a3[v20 + 48];
            *(v21 - 59) = *&a3[v20 + 50];
            *(v21 - 19) = *&a3[v20 + 54];
            *(v21 - 15) = *&a3[v20 + 56];
            *(v21 - 11) = *&a3[v20 + 58];
            *(v21 - 7) = *&a3[v20 + 60];
            *(v21 - 35) = *&a3[v20 + 62];
            *(v21 - 31) = *&a3[v20 + 64];
            *(v21 - 27) = *&a3[v20 + 66];
            *(v21 - 23) = *&a3[v20 + 68];
            *(v21 - 3) = a3[v20 + 17];
            *(v21 - 2) = a3[v20 + 35];
            *(v21 - 1) = a3[v20 + 53];
            *v21 = a3[v20 + 71];
            *(v21 - 147) = a3[v20 + 16];
            *(v21 - 111) = a3[v20 + 34];
            *(v21 - 75) = a3[v20 + 52];
            *(v21 - 39) = a3[v20 + 70];
            v21 += 148;
            v20 += 72;
          }

          while (v20 != 576);
          v22 = 0;
          v94 = result + 15652;
          v95 = a3 + 576;
          v93 = result + 20776;
          v92 = result + 23808;
          v23 = (a3 + 584);
          do
          {
            v24 = &v95[428 * v22];
            v25 = v94 + 76 * v22;
            *(v25 + 32) = *(v24 + 213);
            os_unfair_lock_lock((*(v4 + 19296) + 324));
            v26 = 0;
            v96 = v23;
            do
            {
              v27 = *v23;
              v23 += 18;
              gleBindTexture(v4, v26++, v27, v22);
            }

            while (v26 != 11);
            os_unfair_lock_unlock((*(v4 + 19296) + 324));
            for (k = 0; k != 11; ++k)
            {
              v29 = *(v93 + 88 * v22 + 8 * k);
              v30 = &v24[36 * k];
              *(v29 + 984) = *v30;
              *(v29 + 988) = *(v30 + 1);
              *(v29 + 992) = *(v30 + 2);
              *(v29 + 996) = *(v30 + 3);
              *(v29 + 952) = v30[26];
              *(v29 + 954) = v30[27];
              *(v29 + 960) = v30[28];
              *(v29 + 962) = v30[29];
              *(v29 + 964) = v30[30];
              *(v29 + 968) = *(v30 + 6);
              *(v29 + 972) = *(v30 + 7);
              *(v29 + 976) = *(v30 + 8);
              *(v29 + 980) = *(v30 + 9);
              *(v29 + 958) = v30[31];
              *(v29 + 956) = v30[32];
              *(v29 + 966) = *(v29 + 966) & 0xFE | ((v30[34] & 2) != 0);
              *(v29 + 816) = *(v30 + 5);
              v31 = *(v30 + 11);
              *(v29 + 924) = v31;
              v32 = *(v30 + 12);
              *(v29 + 928) = v32;
              *(v29 + 932) = *(v30 + 10);
              *(v29 + 922) = v30[33];
              v33 = *(v30 + 68);
              *(v29 + 938) = *(v29 + 938) & 0xFE | v33 & 1;
              *(v29 + 597) = *(v30 + 69);
              if (v32 != 1000 && v32 || v31 | v33 & 1)
              {
                *(v29 + 598) = 1;
              }

              v34 = *(v5 + 3844);
              if (*(v5 + 3844))
              {
                v35 = (v29 + 520);
                do
                {
                  *v35 |= 1u;
                  v35 += 4;
                  --v34;
                }

                while (v34);
              }

              gfxUpdatePluginTextureLevelGeometry();
              *v5 = 0;
              *(v4 + 1548) |= 0x22000u;
              result = gleDirtyTextureObjectCurrentBindPointsData(v4, v29 + 40, 1);
            }

            v36 = (v92 + 16 * v22);
            *v36 = *(v24 + 198);
            v36[1] = *(v24 + 199);
            v36[2] = *(v24 + 200);
            v36[3] = *(v24 + 201);
            *(v25 + 36) = v24[404];
            *(v25 + 40) = v24[406];
            *(v25 + 42) = v24[407];
            *(v25 + 44) = v24[408];
            *(v25 + 46) = v24[409];
            *(v25 + 48) = v24[410];
            *(v25 + 50) = v24[411];
            *(v25 + 52) = v24[412];
            *(v25 + 54) = v24[413];
            *(v25 + 56) = v24[414];
            *(v25 + 58) = v24[415];
            *(v25 + 60) = v24[416];
            *(v25 + 62) = v24[417];
            *(v25 + 64) = v24[418];
            *(v25 + 66) = v24[419];
            *(v25 + 68) = *(v24 + 210);
            *(v25 + 72) = *(v24 + 211);
            ++v22;
            v23 = v96 + 214;
          }

          while (v22 != 8);
          v37 = a3[4065];
          if (v90[2] < v37)
          {
            v90[2] = v37;
          }

          for (m = 0; m != 64; m += 2)
          {
            *(v4 + 16260 + m * 2) = *&a3[m + 4000];
          }

          *v90 = a3[4064] + 31552;
          break;
      }
    }
  }

  return result;
}

void glLightfv_Exec(float32x4_t *a1, int a2, int a3, float *a4)
{
  v4 = &a1[1790].i32[3];
  v5 = a2 - 0x4000;
  if ((a2 - 0x4000) >= 8)
  {
    goto LABEL_2;
  }

  v8 = &a1[10 * v5 + 784];
  if (a3 <= 4612)
  {
    if (a3 > 4609)
    {
      if (a3 != 4610)
      {
        if (a3 == 4611)
        {
          v35 = *a4;
          a1[10 * v5 + 787].f32[0] = *a4;
          v36 = a4[1];
          a1[10 * v5 + 787].f32[1] = v36;
          v37 = a4[2];
          a1[10 * v5 + 787].f32[2] = v37;
          a1[10 * v5 + 787] = vmlaq_n_f32(vmlaq_n_f32(vmlaq_n_f32(vmulq_n_f32(a1[602], v36), a1[601], v35), a1[603], v37), a1[604], a4[3]);
          v38 = a2 - 0x4000;

          gleUpdateLightPosition(a1, v38);
        }

        else
        {
          a1[10 * v5 + 788].f32[0] = *a4;
          a1[10 * v5 + 788].f32[1] = a4[1];
          a1[10 * v5 + 788].f32[2] = a4[2];
          v9 = a2 - 0x4000;

          gleTransformLightDirection(a1, v9);
        }

        return;
      }

      a1[10 * v5 + 786].f32[0] = *a4;
      a1[10 * v5 + 786].f32[1] = a4[1];
      a1[10 * v5 + 786].f32[2] = a4[2];
      a1[10 * v5 + 786].f32[3] = a4[3];
      *(a1[89].i64[0] + 496) |= 0x10u;
      *(a1[89].i64[1] + 496) |= 0x10u;
      *v4 = 0;
      a1[96].i32[2] |= 0x1000000u;
      v30 = a1[1203].i64[0];
      if (v30)
      {
        v31 = *(v30 + 20 * v5 + 2564);
        if (v31 <= 0x3FF)
        {
          *(a1[97].i32 + ((v31 >> 3) & 0x1FFC)) |= 1 << v31;
          *v4 = 0;
          a1[95].i32[3] |= 0x800000u;
        }
      }

      v32 = a1[1204].i64[1];
      if (v32)
      {
        v33 = *(v32 + 20 * v5 + 2564);
        if (v33 <= 0x3FF)
        {
          *(a1[121].i32 + ((v33 >> 3) & 0x1FFC)) |= 1 << v33;
          *v4 = 0;
          a1[95].i32[3] |= 0x4000000u;
        }
      }

      v34 = a1[1205].i64[0];
      if (v34)
      {
        v15 = *(v34 + 20 * v5 + 2564);
        goto LABEL_80;
      }

      return;
    }

    if (a3 == 4608)
    {
      v8->f32[0] = *a4;
      a1[10 * v5 + 784].f32[1] = a4[1];
      a1[10 * v5 + 784].f32[2] = a4[2];
      a1[10 * v5 + 784].f32[3] = a4[3];
      *(a1[89].i64[0] + 496) |= 4u;
      *(a1[89].i64[1] + 496) |= 4u;
      *v4 = 0;
      a1[96].i32[2] |= 0x1000000u;
      v19 = a1[1203].i64[0];
      if (v19)
      {
        v20 = *(v19 + 20 * v5 + 2560);
        if (v20 <= 0x3FF)
        {
          *(a1[97].i32 + ((v20 >> 3) & 0x1FFC)) |= 1 << v20;
          *v4 = 0;
          a1[95].i32[3] |= 0x800000u;
        }
      }

      v21 = a1[1204].i64[1];
      if (v21)
      {
        v22 = *(v21 + 20 * v5 + 2560);
        if (v22 <= 0x3FF)
        {
          *(a1[121].i32 + ((v22 >> 3) & 0x1FFC)) |= 1 << v22;
          *v4 = 0;
          a1[95].i32[3] |= 0x4000000u;
        }
      }

      v23 = a1[1205].i64[0];
      if (v23)
      {
        v15 = *(v23 + 20 * v5 + 2560);
        goto LABEL_80;
      }

      return;
    }

    if (a3 == 4609)
    {
      a1[10 * v5 + 785].f32[0] = *a4;
      a1[10 * v5 + 785].f32[1] = a4[1];
      a1[10 * v5 + 785].f32[2] = a4[2];
      a1[10 * v5 + 785].f32[3] = a4[3];
      *(a1[89].i64[0] + 496) |= 8u;
      *(a1[89].i64[1] + 496) |= 8u;
      *v4 = 0;
      a1[96].i32[2] |= 0x1000000u;
      v10 = a1[1203].i64[0];
      if (v10)
      {
        v11 = *(v10 + 20 * v5 + 2562);
        if (v11 <= 0x3FF)
        {
          *(a1[97].i32 + ((v11 >> 3) & 0x1FFC)) |= 1 << v11;
          *v4 = 0;
          a1[95].i32[3] |= 0x800000u;
        }
      }

      v12 = a1[1204].i64[1];
      if (v12)
      {
        v13 = *(v12 + 20 * v5 + 2562);
        if (v13 <= 0x3FF)
        {
          *(a1[121].i32 + ((v13 >> 3) & 0x1FFC)) |= 1 << v13;
          *v4 = 0;
          a1[95].i32[3] |= 0x4000000u;
        }
      }

      v14 = a1[1205].i64[0];
      if (v14)
      {
        v15 = *(v14 + 20 * v5 + 2562);
        goto LABEL_80;
      }

      return;
    }

LABEL_2:
    if (a1[1864].i16[4])
    {
      return;
    }

    v6 = 1280;
    goto LABEL_4;
  }

  if (a3 > 4614)
  {
    switch(a3)
    {
      case 4615:
        if (*a4 >= 0.0)
        {
          a1[10 * v5 + 789].f32[0] = *a4;
          goto LABEL_65;
        }

        break;
      case 4616:
        if (*a4 >= 0.0)
        {
          a1[10 * v5 + 789].f32[1] = *a4;
          goto LABEL_65;
        }

        break;
      case 4617:
        if (*a4 >= 0.0)
        {
          a1[10 * v5 + 789].f32[2] = *a4;
LABEL_65:
          v39 = a2 - 0x4000;

          gleUpdateLightAttenuation(a1, v39);
          return;
        }

        break;
      default:
        goto LABEL_2;
    }

LABEL_69:
    if (!a1[1864].i16[4])
    {
      v6 = 1281;
LABEL_4:
      a1[1864].i16[4] = v6;
      return;
    }

    return;
  }

  if (a3 == 4613)
  {
    v24 = *a4;
    if (*a4 >= 0.0 && v24 <= *(a1[1814].i64[1] + 128))
    {
      a1[10 * v5 + 789].f32[3] = v24;
      gleUpdateLightExponents(a1, a2 - 0x4000);
      v25 = a1[1203].i64[0];
      if (v25)
      {
        v26 = *(v25 + 20 * v5 + 2570);
        if (v26 <= 0x3FF)
        {
          *(a1[97].i32 + ((v26 >> 3) & 0x1FFC)) |= 1 << v26;
          *v4 = 0;
          a1[95].i32[3] |= 0x800000u;
        }
      }

      v27 = a1[1204].i64[1];
      if (v27)
      {
        v28 = *(v27 + 20 * v5 + 2570);
        if (v28 <= 0x3FF)
        {
          *(a1[121].i32 + ((v28 >> 3) & 0x1FFC)) |= 1 << v28;
          *v4 = 0;
          a1[95].i32[3] |= 0x4000000u;
        }
      }

      v29 = a1[1205].i64[0];
      if (v29)
      {
        v15 = *(v29 + 20 * v5 + 2570);
        goto LABEL_80;
      }

      return;
    }

    goto LABEL_69;
  }

  v16 = *a4;
  if (*a4 < 0.0 || v16 > 90.0)
  {
    if (v16 != 180.0)
    {
      goto LABEL_69;
    }

    a1[10 * v5 + 788].i32[3] = -1082130432;
    v17 = 180.0;
    v18 = 36;
  }

  else
  {
    a1[10 * v5 + 793].f32[0] = v16;
    v17 = cosf(*a4 * 0.017453);
    v18 = 19;
  }

  v8->f32[v18] = v17;
  gleUpdateLightExponents(a1, v5);
  v40 = a1[1203].i64[0];
  if (v40)
  {
    v41 = *(v40 + 20 * v5 + 2568);
    if (v41 <= 0x3FF)
    {
      *(a1[97].i32 + ((v41 >> 3) & 0x1FFC)) |= 1 << v41;
      *v4 = 0;
      a1[95].i32[3] |= 0x800000u;
    }
  }

  v42 = a1[1204].i64[1];
  if (v42)
  {
    v43 = *(v42 + 20 * v5 + 2568);
    if (v43 <= 0x3FF)
    {
      *(a1[121].i32 + ((v43 >> 3) & 0x1FFC)) |= 1 << v43;
      *v4 = 0;
      a1[95].i32[3] |= 0x4000000u;
    }
  }

  v44 = a1[1205].i64[0];
  if (v44)
  {
    v15 = *(v44 + 20 * v5 + 2568);
LABEL_80:
    if (v15 <= 0x3FF)
    {
      *(a1[129].i32 + ((v15 >> 3) & 0x1FFC)) |= 1 << v15;
      *v4 = 0;
      a1[95].i32[3] |= 0x8000000u;
    }
  }
}

void gleSetEnable_LIGHT(uint64_t a1, int a2, int a3)
{
  v3 = *(a1 + 14880);
  v4 = v3 & ~(1 << a2) | (a3 << a2);
  if (v3 != v4)
  {
    *(a1 + 14880) = v4;
    *(*(a1 + 1424) + 496) = 63;
    *(*(a1 + 1432) + 496) = 63;
    gleUpdateLightFast(a1, a2 - 0x4000);
    *(a1 + 28652) = 0;
    OUTLINED_FUNCTION_1_7(*(a1 + 1548));
  }
}

uint64_t glLightModelfv_Exec(uint64_t a1, int a2, _DWORD *a3)
{
  v3 = (a1 + 14888);
  if (a2 > 2898)
  {
    if (a2 != 34224)
    {
      if (a2 != 33272)
      {
        if (a2 == 2899)
        {
          *(a1 + 12528) = *a3;
          *(a1 + 12532) = a3[1];
          *(a1 + 12536) = a3[2];
          *(a1 + 12540) = a3[3];
          *(*(a1 + 1424) + 496) |= 4u;
          *(*(a1 + 1432) + 496) |= 4u;
          v4 = *(a1 + 19248);
          if (v4)
          {
            v5 = *(v4 + 3786);
            if (v5 <= 0x3FF)
            {
              *(a1 + ((v5 >> 3) & 0x1FFC) + 1552) |= 1 << v5;
              *(a1 + 1532) |= 0x800000u;
            }
          }

          v6 = *(a1 + 19272);
          if (v6)
          {
            v7 = *(v6 + 3786);
            if (v7 <= 0x3FF)
            {
              *(a1 + ((v7 >> 3) & 0x1FFC) + 1936) |= 1 << v7;
              *(a1 + 1532) |= 0x4000000u;
            }
          }

          v8 = *(a1 + 19280);
          if (v8)
          {
            v9 = *(v8 + 3786);
            if (v9 <= 0x3FF)
            {
              *(a1 + ((v9 >> 3) & 0x1FFC) + 2064) |= 1 << v9;
              *(a1 + 1532) |= 0x8000000u;
            }
          }

          *(a1 + 28652) = 0;
          *(a1 + 1544) |= 0x1000000u;
          return a1;
        }

        goto LABEL_34;
      }

      v15 = *a3;
      if (*v3 == v15)
      {
        return a1;
      }

      if (v15 - 33273 <= 1)
      {
        *v3 = v15;
        if (*(a1 + 14890))
        {
          if (!*(a1 + 24756) && (*(a1 + 24864) & 1) == 0)
          {
            v16 = v15 == 33274;
            if (*(a1 + 15283) != v16)
            {
              *(a1 + 15283) = v16;
              *(a1 + 28652) = 0;
              *(a1 + 1548) |= 0x20000u;
            }
          }
        }

        return gleUpdateLightModel(a1);
      }

LABEL_34:
      if (!*(a1 + 29832))
      {
        *(a1 + 29832) = 1280;
      }

      return a1;
    }

    v14 = *a3 != 0.0;
    if (*(a1 + 14894) == v14)
    {
      return a1;
    }

    *(a1 + 14894) = v14;
    return gleUpdateLightModel(a1);
  }

  if (a2 == 2897)
  {
    v17 = *a3 != 0.0;
    if (*(a1 + 14893) == v17)
    {
      return a1;
    }

    *(a1 + 14893) = v17;
    return gleUpdateLightModel(a1);
  }

  if (a2 != 2898)
  {
    goto LABEL_34;
  }

  v10 = *a3;
  v11 = *a3 != 0.0;
  if (*(a1 + 14892) != v11)
  {
    *(a1 + 14892) = v11;
    if ((*(a1 + 24864) & 9) != 0 || *(a1 + 24756))
    {
      v12 = *(a1 + 24751);
    }

    else
    {
      if (*(a1 + 14890))
      {
        v18 = v10 == 0.0;
      }

      else
      {
        v18 = 1;
      }

      v12 = !v18;
    }

    if (v12 == *(a1 + 17701))
    {
      v13 = *(a1 + 1548);
    }

    else
    {
      *(a1 + 17701) = v12;
      *(a1 + 1532) |= 0x40000000u;
      *(a1 + 28652) = 0;
      v13 = *(a1 + 1548) | 0x10008400;
      *(a1 + 1548) = v13;
      if ((*(*(a1 + 29032) + 25) & 0x7F) != 0)
      {
        v13 |= 0x30000u;
      }
    }

    *(a1 + 28652) = 0;
    *(a1 + 1548) = v13 | 0x18402;
  }

  return a1;
}

void glStencilOp_Exec(uint64_t a1, int a2, int a3, int a4)
{
  v4 = (a1 + 28652);
  v7 = (a2 - 7680) < 4 || (a2 - 34055) < 2 || a2 == 0 || a2 == 5386;
  if (!v7 || ((a3 - 7680) >= 4 ? (v8 = (a3 - 34055) >= 2) : (v8 = 0), v8 && a3 && a3 != 5386 || ((a4 - 7680) >= 4 ? (v9 = (a4 - 34055) >= 2) : (v9 = 0), v9 && a4 && a4 != 5386)))
  {
    if (!*(a1 + 29832))
    {
      OUTLINED_FUNCTION_1_2(v4);
    }

    return;
  }

  v10 = (a1 + 15606);
  if (*(a1 + 29776) == 1028)
  {
    if (*v10 != a2 || *(a1 + 15608) != a3 || *(a1 + 15610) != a4 || *(a1 + 15638) != a2 || *(a1 + 15640) != a3 || *(a1 + 15642) != a4)
    {
      *v10 = a2;
      *(a1 + 15608) = a3;
      *(a1 + 15610) = a4;
      *(a1 + 15638) = a2;
      *(a1 + 15640) = a3;
      *(a1 + 15642) = a4;
      v11 = *(a1 + 15644);
      if (v11 == 33)
      {
        *(a1 + 15644) = 1;
        *(a1 + 1548) |= 0x8000u;
      }

      else
      {
        *(a1 + 15644) = v11 & 0xFFFFFFDF;
      }

      goto LABEL_34;
    }
  }

  else if (*(a1 + 15622) != a2 || *(a1 + 15624) != a3 || *(a1 + 15626) != a4)
  {
    *(a1 + 15622) = a2;
    *(a1 + 15624) = a3;
    *(a1 + 15626) = a4;
LABEL_34:
    OUTLINED_FUNCTION_3_2(a1, v4);
  }
}

uint64_t gleFlushAndSubmit(uint64_t a1, float a2, float a3, float a4, float a5)
{
  (*(a1 + 28152))();
  v10 = *(a1 + 26136);
  v11 = *(a1 + 26008);
  v12.n128_f32[0] = a2;
  v13.n128_f32[0] = a3;
  v14.n128_f32[0] = a4;
  v15.n128_f32[0] = a5;

  return v10(a1, v11, v12, v13, v14, v15);
}

unint64_t gleClipLines(uint64_t a1, char *a2, unint64_t a3, int a4)
{
  v5 = a2;
  v7 = *(a1 + 26008);
  v8 = a2 - 8;
  v9 = 1;
  v18 = a2 - 8;
  while (2)
  {
    if ((a4 & v9) == 0)
    {
      goto LABEL_17;
    }

    v10 = &v8[8 * a3];
    v11 = v5;
    if (v10 <= v5)
    {
      goto LABEL_16;
    }

    do
    {
      v13 = *v5;
      v12 = *(v5 + 1);
      if ((*(*v5 + 3) & v9) != 0)
      {
        if ((*(v12 + 3) & v9) != 0)
        {
          goto LABEL_14;
        }

        a4 |= (*(a1 + 27896))(a1, *v5, *(v5 + 1), *v5, v9);
        *v11 = v13;
LABEL_13:
        *(v11 + 1) = v12;
        v11 += 16;
        goto LABEL_14;
      }

      *v11 = v13;
      if ((*(v12 + 3) & v9) == 0)
      {
        goto LABEL_13;
      }

      v14 = 640;
      if (*(v12 + 1))
      {
        v14 = 0;
      }

      v15 = v7 + v14;
      if (*(v12 + 1))
      {
        v7 = v12;
      }

      a4 |= (*(a1 + 27896))(a1, v12, v13, v7, v9);
      *(v11 + 1) = v7;
      v11 += 16;
      v7 = v15;
LABEL_14:
      v5 += 16;
    }

    while (v5 < v10);
    v8 = v18;
    v5 = a2;
LABEL_16:
    a3 = (v11 - v5) >> 3;
    if (a3 < 2)
    {
      return 0;
    }

LABEL_17:
    v16 = v9 >= 0x11;
    v9 *= 2;
    if (!v16)
    {
      continue;
    }

    break;
  }

  *(a1 + 26008) = v7;
  return a3;
}

void *glMatrixMode_Comp(uint64_t a1, int a2)
{
  result = gleAddCommand(a1, glMatrixMode_ListExec, 4);
  *result = a2;
  return result;
}

float *glScalef_Comp(uint64_t a1, float a2, float a3, float a4)
{
  result = gleAddCommand(a1, glScale_ListExec, 12);
  *result = a2;
  result[1] = a3;
  result[2] = a4;
  return result;
}

void glRotatef_Comp(uint64_t a1, float a2, float a3, float a4, float a5)
{
  v6 = *(a1 + 288);
  if (v6 == a4 && v6 == a5)
  {
    v10 = __sincosf_stret(flt_23A102B98[v6 > a3] * a2);
    sinval = v10.__sinval;
    cosval = v10.__cosval;
    v13 = glRotateX_ListExec;
LABEL_19:
    v16 = gleAddCommand(a1, v13, 8);
    *v16 = sinval;
    v16[1] = cosval;
    return;
  }

  if (v6 == a3 && v6 == a5)
  {
    v14 = __sincosf_stret(flt_23A102B98[v6 > a4] * a2);
    sinval = v14.__sinval;
    cosval = v14.__cosval;
    v13 = glRotateY_ListExec;
    goto LABEL_19;
  }

  if (v6 == a3 && v6 == a4)
  {
    v15 = __sincosf_stret(flt_23A102B98[v6 > a5] * a2);
    sinval = v15.__sinval;
    cosval = v15.__cosval;
    v13 = glRotateZ_ListExec;
    goto LABEL_19;
  }

  glRotateXYZ_Comp(a1, a2, a3, a4, a5);
}

float *glNormal3f_Comp(uint64_t a1, float a2, float a3, float a4)
{
  result = gleAddCommand(a1, glNormal_ListExec, 12);
  *result = a2;
  result[1] = a3;
  result[2] = a4;
  return result;
}

float *glTranslatef_Comp(uint64_t a1, float a2, float a3, float a4)
{
  result = gleAddCommand(a1, glTranslate_ListExec, 12);
  *result = a2;
  result[1] = a3;
  result[2] = a4;
  return result;
}

uint64_t gleSetEnable_NORMALIZE(uint64_t result, uint64_t a2, int a3)
{
  if (*(result + 12516) != a3)
  {
    *(result + 12516) = a3;
    *(result + 28652) = 0;
    *(result + 1548) |= 0x10010u;
  }

  return result;
}

uint64_t gleSetEnable_FOG(uint64_t result, uint64_t a2, int a3)
{
  if (*(result + 15282) != a3)
  {
    *(result + 15282) = a3;
    *(result + 28652) = 0;
    *(result + 1548) |= 0x20000u;
    return gleUpdateFogData(result);
  }

  return result;
}

float *glNormal3f_Exec(float *result, float a2, float a3, float a4)
{
  result[2112] = a2;
  result[2113] = a3;
  result[2114] = a4;
  return result;
}

float *glMaterialfv_Exec(float *result, int a2, int a3, float *a4)
{
  v4 = result;
  v5 = result + 7163;
  v8 = 0uLL;
  if (a3 <= 5631)
  {
    switch(a3)
    {
      case 4608:
        v8 = *a4;
        if (a2 == 1032)
        {
          result = gleLightMaterialRGBAChange_FB_A(result, &v8);
          goto LABEL_18;
        }

        break;
      case 4609:
        v8 = *a4;
        if (a2 == 1032)
        {
          result = gleLightMaterialRGBAChange_FB_D(result, &v8);
          goto LABEL_18;
        }

        break;
      case 4610:
        v8 = *a4;
        if (a2 == 1032)
        {
          result = gleLightMaterialRGBAChange_FB_S(result, &v8);
LABEL_18:
          *v5 = 0;
          *(v4 + 386) |= 0x1000000u;
          return result;
        }

        break;
    }

    goto LABEL_27;
  }

  if (a3 == 5632)
  {
    v8 = *a4;
    if (a2 == 1032)
    {
      result = gleLightMaterialRGBAChange_FB_E(result, &v8);
      goto LABEL_18;
    }

    goto LABEL_27;
  }

  if (a3 != 5633)
  {
    if (a3 == 5634)
    {
      v8 = *a4;
      if (a2 == 1032)
      {
        result = gleLightMaterialRGBAChange_FB_AD(result, &v8);
        goto LABEL_18;
      }
    }

    goto LABEL_27;
  }

  v6 = *a4;
  if (*a4 < 0.0 || v6 > *(*(result + 3629) + 124))
  {
    if (*(result + 14916))
    {
      return result;
    }

    v7 = 1281;
LABEL_29:
    *(result + 14916) = v7;
    return result;
  }

  if (a2 != 1032)
  {
LABEL_27:
    if (*(result + 14916))
    {
      return result;
    }

    v7 = 1280;
    goto LABEL_29;
  }

  return gleLightMaterialShineChange_FB(result, v6);
}

void *gleLightMaterialRGBAChange_F_AD(uint64_t a1, void *a2)
{
  result = glePushMaterial(a1, 0);
  *result = *a2;
  result[1] = a2[1];
  result[2] = *a2;
  result[3] = a2[1];
  *(result + 248) |= 0xC0Cu;
  v5 = *(a1 + 19248);
  if (v5)
  {
    v6 = *(v5 + 2816);
    if (v6 <= 0x3FF)
    {
      *(a1 + ((v6 >> 3) & 0x1FFC) + 1552) |= 1 << v6;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x800000u;
    }
  }

  v7 = *(a1 + 19272);
  if (v7)
  {
    v8 = *(v7 + 2816);
    if (v8 <= 0x3FF)
    {
      *(a1 + ((v8 >> 3) & 0x1FFC) + 1936) |= 1 << v8;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x4000000u;
    }
  }

  v9 = *(a1 + 19280);
  if (v9)
  {
    v10 = *(v9 + 2816);
    if (v10 <= 0x3FF)
    {
      *(a1 + ((v10 >> 3) & 0x1FFC) + 2064) |= 1 << v10;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x8000000u;
    }
  }

  if (v5)
  {
    v11 = *(v5 + 2818);
    if (v11 <= 0x3FF)
    {
      *(a1 + ((v11 >> 3) & 0x1FFC) + 1552) |= 1 << v11;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x800000u;
    }
  }

  if (v7)
  {
    v12 = *(v7 + 2818);
    if (v12 <= 0x3FF)
    {
      *(a1 + ((v12 >> 3) & 0x1FFC) + 1936) |= 1 << v12;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x4000000u;
    }
  }

  if (v9)
  {
    v13 = *(v9 + 2818);
    if (v13 <= 0x3FF)
    {
      *(a1 + ((v13 >> 3) & 0x1FFC) + 2064) |= 1 << v13;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x8000000u;
    }
  }

  return result;
}

void *glePushMaterial(uint64_t a1, unsigned int a2)
{
  v2 = a1 + 1424;
  v3 = *(a1 + 1424 + 8 * a2);
  if (*(v3 + 500))
  {
    v6 = *(a1 + 1440);
    if (v6)
    {
      *(a1 + 1440) = v6[64];
    }

    else
    {
      v6 = malloc_type_malloc(0x210uLL, 0x746FBC94uLL);
      if (!v6)
      {
        abort();
      }

      *(v6 + 17) = 0;
      *(v6 + 18) = 0;
      *(v6 + 19) = 1065353216;
    }

    v6[63] = 0;
    v6[64] = v3;
    *(v3 + 504) = v6;
    *(v2 + 8 * a2) = v6;
    v6[62] = 63;
    *v6 = *v3;
    v6[1] = *(v3 + 8);
    v6[2] = *(v3 + 16);
    v6[3] = *(v3 + 24);
    v6[4] = *(v3 + 32);
    v6[5] = *(v3 + 40);
    v6[6] = *(v3 + 48);
    v6[7] = *(v3 + 56);
    *(v6 + 16) = *(v3 + 64);
    return v6;
  }

  return v3;
}

void *gleLightMaterialRGBAChange_F_E(uint64_t a1, void *a2)
{
  result = glePushMaterial(a1, 0);
  result[6] = *a2;
  result[7] = a2[1];
  *(result + 248) |= 0x202u;
  v5 = *(a1 + 19248);
  if (v5)
  {
    v6 = *(v5 + 2822);
    if (v6 <= 0x3FF)
    {
      *(a1 + ((v6 >> 3) & 0x1FFC) + 1552) |= 1 << v6;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x800000u;
    }
  }

  v7 = *(a1 + 19272);
  if (v7)
  {
    v8 = *(v7 + 2822);
    if (v8 <= 0x3FF)
    {
      *(a1 + ((v8 >> 3) & 0x1FFC) + 1936) |= 1 << v8;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x4000000u;
    }
  }

  v9 = *(a1 + 19280);
  if (v9)
  {
    v10 = *(v9 + 2822);
    if (v10 <= 0x3FF)
    {
      *(a1 + ((v10 >> 3) & 0x1FFC) + 2064) |= 1 << v10;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x8000000u;
    }
  }

  return result;
}

void *gleLightMaterialRGBAChange_F_S(uint64_t a1, void *a2)
{
  result = glePushMaterial(a1, 0);
  result[4] = *a2;
  result[5] = a2[1];
  *(result + 248) |= 0x1010u;
  v5 = *(a1 + 19248);
  if (v5)
  {
    v6 = *(v5 + 2820);
    if (v6 <= 0x3FF)
    {
      *(a1 + ((v6 >> 3) & 0x1FFC) + 1552) |= 1 << v6;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x800000u;
    }
  }

  v7 = *(a1 + 19272);
  if (v7)
  {
    v8 = *(v7 + 2820);
    if (v8 <= 0x3FF)
    {
      *(a1 + ((v8 >> 3) & 0x1FFC) + 1936) |= 1 << v8;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x4000000u;
    }
  }

  v9 = *(a1 + 19280);
  if (v9)
  {
    v10 = *(v9 + 2820);
    if (v10 <= 0x3FF)
    {
      *(a1 + ((v10 >> 3) & 0x1FFC) + 2064) |= 1 << v10;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x8000000u;
    }
  }

  return result;
}

uint64_t glMaterialf_Exec(uint64_t a1, float a2, int a3, int a4)
{
  if (a4 == 5633)
  {
    if (a2 < 0.0 || *(*(a1 + 29032) + 124) < a2)
    {
      if (*(a1 + 29832))
      {
        return a1;
      }

      v4 = 1281;
LABEL_11:
      *(a1 + 29832) = v4;
      return a1;
    }

    if (a3 == 1032)
    {
      return gleLightMaterialShineChange_FB(a1, a2);
    }
  }

  if (!*(a1 + 29832))
  {
    v4 = 1280;
    goto LABEL_11;
  }

  return a1;
}

uint64_t gleCullTriangle(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, _DWORD *a6)
{
  v6 = *(a1 + 28748) == (((*(a4 + 64) - *(a2 + 64)) * (*(a4 + 68) - *(a3 + 68))) - ((*(a4 + 64) - *(a3 + 64)) * (*(a4 + 68) - *(a2 + 68)))) > 0.0;
  if (*(a1 + 28750) == (v6 != a5))
  {
    return 1;
  }

  result = 0;
  *a6 = v6 == a5;
  return result;
}

uint64_t glScale_Exec(uint64_t result, float a2, float a3, float a4)
{
  if (*(result + 20484) < 24)
  {
    v4 = *(result + 20488);
    v5 = *(result + 19976);
    v6 = vmulq_n_f32(v5[1], a3);
    *v5 = vmulq_n_f32(*v5, a2);
    v5[1] = v6;
    v5[2] = vmulq_n_f32(v5[2], a4);
    *(result + 1528) |= v4;
    *(result + 1540) |= v4;
    v7 = *(result + 1544);
    if (!*(result + 12517) && (v4 & ~v7 & *(result + 2216) & 0xFFFFFC) != 0)
    {
      v8 = a2 < 0.0 ? -a2 : a2;
      if (v8 >= 0.000005)
      {
        v9 = -a3;
        if (a3 >= 0.0)
        {
          v9 = a3;
        }

        if (v9 >= 0.000005)
        {
          v10 = -a4;
          if (a4 >= 0.0)
          {
            v10 = a4;
          }

          if (v10 >= 0.000005)
          {
            v11 = *(result + 19984);
            v12 = vmulq_n_f32(v11[1], 1.0 / a3);
            *v11 = vmulq_n_f32(*v11, 1.0 / a2);
            v11[1] = v12;
            v11[2] = vmulq_n_f32(v11[2], 1.0 / a4);
            v4 &= 0xFF000003;
          }
        }
      }
    }

    *(result + 28652) = 0;
    *(result + 1544) = v7 | v4;
  }

  else if (!*(result + 29832))
  {
    *(result + 29832) = 1282;
  }

  return result;
}

uint64_t glRotateX_Exec(uint64_t result, float a2, double a3)
{
  if (*(result + 20484) < 24)
  {
    v3 = *(result + 20488);
    v4 = *(result + 19976);
    v5 = v4[1];
    v6 = v4[2];
    v4[1] = vmlaq_n_f32(vmulq_n_f32(v6, a2), v5, *&a3);
    v4[2] = vmlaq_n_f32(vmulq_n_f32(vnegq_f32(v5), a2), v6, *&a3);
    *(result + 1528) |= v3;
    *(result + 1540) |= v3;
    v7 = *(result + 1544);
    if ((v3 & ~v7 & *(result + 2216) & 0xFFFFFC) != 0)
    {
      v8 = vdupq_lane_s32(*&a3, 0);
      v9 = *(result + 19984);
      v10 = v9[1];
      v11 = v9[2];
      v9[1] = vmlaq_f32(vmulq_n_f32(v11, a2), v8, v10);
      v9[2] = vmlaq_f32(vmulq_n_f32(vnegq_f32(v10), a2), v8, v11);
      v3 &= 0xFF000003;
    }

    *(result + 28652) = 0;
    *(result + 1544) = v3 | v7;
  }

  else if (!*(result + 29832))
  {
    *(result + 29832) = 1282;
  }

  return result;
}

uint64_t gleCullQuad(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _DWORD *a6)
{
  v6 = *(a1 + 28748);
  v7 = (((((*(a2 + 64) * *(a3 + 68)) - (*(a3 + 64) * *(a2 + 68))) + ((*(a3 + 64) * *(a4 + 68)) - (*(a4 + 64) * *(a3 + 68)))) + ((*(a4 + 64) * *(a5 + 68)) - (*(a5 + 64) * *(a4 + 68)))) + ((*(a5 + 64) * *(a2 + 68)) - (*(a2 + 64) * *(a5 + 68)))) > 0.0;
  if (*(a1 + 28750) == (v6 == v7))
  {
    return 1;
  }

  result = 0;
  *a6 = v6 != v7;
  return result;
}

void glRotatef_Exec(uint64_t a1, float a2, float a3, float a4, float a5)
{
  v6 = *(a1 + 288);
  if (v6 == a4 && v6 == a5)
  {
    v11 = __sincosf_stret(flt_23A102B98[v6 > a3] * a2);
    *&v10 = v11.__cosval;

    glRotateX_Exec(a1, v11.__sinval, v10);
  }

  else if (v6 == a3 && v6 == a5)
  {
    v13 = __sincosf_stret(flt_23A102B98[v6 > a4] * a2);
    *&v12 = v13.__cosval;

    glRotateY_Exec(a1, v13.__sinval, v12);
  }

  else if (v6 == a3 && v6 == a4)
  {
    v15 = __sincosf_stret(flt_23A102B98[v6 > a5] * a2);
    *&v14 = v15.__cosval;

    glRotateZ_Exec(a1, v15.__sinval, v14);
  }

  else
  {

    glRotateXYZ_Exec(a1, a2, a3, a4, a5);
  }
}

uint64_t glRotateY_Exec(uint64_t result, float a2, double a3)
{
  if (*(result + 20484) < 24)
  {
    v3 = *(result + 20488);
    v4 = *(result + 19976);
    v5 = *v4;
    v6 = v4[2];
    *v4 = vmlaq_n_f32(vmulq_n_f32(vnegq_f32(v6), a2), *v4, *&a3);
    v4[2] = vmlaq_n_f32(vmulq_n_f32(v5, a2), v6, *&a3);
    *(result + 1528) |= v3;
    *(result + 1540) |= v3;
    v7 = *(result + 1544);
    if ((v3 & ~v7 & *(result + 2216) & 0xFFFFFC) != 0)
    {
      v8 = vdupq_lane_s32(*&a3, 0);
      v9 = *(result + 19984);
      v10 = *v9;
      v11 = v9[2];
      *v9 = vmlaq_f32(vmulq_n_f32(vnegq_f32(v11), a2), v8, *v9);
      v9[2] = vmlaq_f32(vmulq_n_f32(v10, a2), v8, v11);
      v3 &= 0xFF000003;
    }

    *(result + 28652) = 0;
    *(result + 1544) = v3 | v7;
  }

  else if (!*(result + 29832))
  {
    *(result + 29832) = 1282;
  }

  return result;
}

float64x2_t gleGetMatrixd(float32x2_t *a1, float64x2_t *a2)
{
  v2 = vcvtq_f64_f32(a1[1]);
  *a2 = vcvtq_f64_f32(*a1);
  a2[1] = v2;
  v3 = vcvtq_f64_f32(a1[3]);
  a2[2] = vcvtq_f64_f32(a1[2]);
  a2[3] = v3;
  v4 = vcvtq_f64_f32(a1[5]);
  a2[4] = vcvtq_f64_f32(a1[4]);
  a2[5] = v4;
  result = vcvtq_f64_f32(a1[6]);
  v6 = vcvtq_f64_f32(a1[7]);
  a2[6] = result;
  a2[7] = v6;
  return result;
}

unint64_t glReadPixels_Exec(unint64_t result, unsigned int a2, unsigned int a3, unsigned int a4, unsigned int a5, unsigned int a6, int a7, uint64_t a8)
{
  v68 = a3;
  v69 = a2;
  v66 = a5;
  v67 = a4;
  v8 = result + 29632;
  if (((a5 | a4) & 0x80000000) != 0)
  {
    if (*(result + 29832))
    {
      return result;
    }

    v63 = 1281;
    goto LABEL_122;
  }

  LODWORD(v10) = a7;
  v13 = result;
  result = glePixelStorageFromFormatType(result, a6, a7);
  v17 = result;
  if ((result & 0x2000000000000000) == 0)
  {
    result = glReadPixels_Exec_cold_1(v13, result);
    if ((result & 1) == 0)
    {
      return result;
    }
  }

  if (a6 == 35359 || a6 == 34233) && (a4)
  {
    if (*(v8 + 200))
    {
      return result;
    }

    v63 = 1282;
LABEL_122:
    *(v8 + 200) = v63;
    return result;
  }

  v18 = (v13 + 18448);
  if ((*(v13 + 1540) & 4) != 0)
  {
    MatrixIdentifier = gleGenerateMatrixIdentifier(v13, v13 + 9488, v14, v15, v16);
    *(v13 + 19152) = *(v13 + 19152) & 0xFFFFFEFF | ((MatrixIdentifier != -1074791426) << 8);
    *(v8 + 100) = MatrixIdentifier;
  }

  if ((*(v8 + 171) & 0x8A) != 0)
  {
    result = gleUpdateReadFramebufferState(v13);
    if (result)
    {
      if (result != 16711680 && !*(v8 + 200))
      {
        *(v8 + 200) = result;
      }

      return result;
    }
  }

  result = gleCheckReadPixelsNeeds(v13, a6, 0, (v17 >> 31) & 1);
  if (!result)
  {
    return result;
  }

  v65 = 0;
  if (*(v8 + 2869) == 4 && v10 == 5131)
  {
    v10 = 36193;
  }

  else
  {
    v10 = v10;
  }

  if ((*(v8 + 2862) & 0x20) != 0)
  {
    goto LABEL_58;
  }

  v21 = *(v13 + 28968);
  v22 = v21 + 88 * *(v8 + 2867);
  v23 = *(v22 + 644);
  v24 = *(v22 + 646);
  v27 = a6 == 6408 && v23 == 32993 && v24 == 33638;
  v28 = v10 == 32820;
  if (v28 && v27)
  {
    v29 = 6408;
  }

  else
  {
    v29 = v23;
  }

  if (v28 && v27)
  {
    v30 = -32716;
  }

  else
  {
    v30 = v24;
  }

  if ((*(*(v13 + 19296) + 344) & 4) != 0)
  {
    v23 = v29;
    v24 = v30;
  }

  if (v23 == a6 && v10 == v24)
  {
    goto LABEL_58;
  }

  v32 = *(*(v21 + 40 + 16 * (*(v21 + 472) - 36064)) + 1000);
  v33 = v32;
  v34 = v32 - 34836;
  v35 = v32 - 33325;
  v36 = v32 & 0xFFFE;
  if (v34 < 0xC || v35 < 4 || v36 == 36012 || v33 == 35901 || v33 == 35898)
  {
    if (a6 == 6408 && v10 == 5126)
    {
      goto LABEL_58;
    }

    if (a6 != 6407 || (*(*(v13 + 29480) + 578) & 1) == 0)
    {
      goto LABEL_120;
    }

    if (v10 == 35899 && v33 == 35898)
    {
      goto LABEL_58;
    }

    if (v10 != 35902)
    {
      goto LABEL_120;
    }

    v57 = 35901;
LABEL_86:
    if (v33 == v57)
    {
      goto LABEL_58;
    }

    goto LABEL_120;
  }

  if ((v33 - 36208) < 0x12)
  {
    goto LABEL_89;
  }

  if ((v33 - 33330) <= 0xA)
  {
    if (v33)
    {
      v61 = 0;
      goto LABEL_108;
    }

LABEL_89:
    if (a6 == 36249)
    {
      v58 = 5125;
      goto LABEL_91;
    }

LABEL_120:
    if (*(v8 + 200))
    {
      return result;
    }

    v63 = 1280;
    goto LABEL_122;
  }

  if (v33 == 36975)
  {
    goto LABEL_89;
  }

  if ((v33 - 36226) < 0x12)
  {
    goto LABEL_118;
  }

  v61 = (v33 & 1) == 0;
LABEL_108:
  if ((v33 - 33340) < 0xFFFFFFF5 || v61)
  {
    result = gleInternalFormatIsSigned(v33);
    if (result)
    {
      goto LABEL_120;
    }

    if (a6 == 6408 && v10 == 5121)
    {
      goto LABEL_58;
    }

    if (a6 != 6408 || v10 != 33640)
    {
      goto LABEL_120;
    }

    v57 = 32857;
    goto LABEL_86;
  }

LABEL_118:
  if (a6 != 36249)
  {
    goto LABEL_120;
  }

  v58 = 5124;
LABEL_91:
  if (v10 != v58)
  {
    goto LABEL_120;
  }

LABEL_58:
  v41 = gleStandardizeIntegerFormat(a6);
  v42 = *(v13 + 28968);
  v64 = v41;
  if (v42)
  {
    v43 = *(v42 + 474);
    v44 = *(v42 + 476);
  }

  else
  {
    v43 = *v8;
    v44 = *(v8 + 4);
  }

  v45 = (BYTE4(v17) & 0x1Fu) + 1;
  v46 = v45 + v45 * ((v17 >> 37) & 3);
  v47 = *(v13 + 18452);
  if (!v47)
  {
    v48 = *v18;
    if (!*v18)
    {
      v48 = a4;
    }

    v47 = (*(v13 + 18476) + v48 * v46 - 1) & -*(v13 + 18476);
  }

  result = gleClipReadableRange(v13, v43, v44, &v69, &v68, &v67, &v66, &v65 + 1, &v65);
  if (result)
  {
    a8 += HIDWORD(v65) * v46 + v65 * v47;
  }

  v49 = v67;
  if (v67 >= 1)
  {
    v50 = v66;
    if (v66 >= 1)
    {
      v51 = *(v13 + 18452);
      *(v13 + 18452) = v47;
      v52 = *(v13 + 19328);
      if (v52)
      {
        result = gleOffsetLimitStorage((v13 + 18448), v49, v50, v17, a8);
        if (result > *(v52 + 152) || a8 % v45 || *(v52 + 292))
        {
          if (!*(v8 + 200))
          {
            *(v8 + 200) = 1282;
          }

          goto LABEL_100;
        }

        if (*(v52 + 164))
        {
LABEL_100:
          *(v13 + 18452) = v51;
          return result;
        }

        v53 = v52 + 40;
        v54 = *(v52 + 136) + a8;
        if (*(v52 + 165))
        {
          (*(*(v13 + 29448) + 1024))(*(v13 + 29016), *(v53 + 8 * *(v8 + 2868)));
          if (!*(v52 + 192))
          {
            gfxWaitBufferOnDevices();
          }
        }

        result = (*(*(v13 + 29496) + 224))(*(v13 + 29464), v69, v68, v67, v66, v64, v10, v54, 0, *(v53 + 8 * *(v8 + 2868)));
        if (result)
        {
          v55 = *(v13 + 29472);
          *(v52 + 167) = 0;
          *(v52 + 192) = v55;
          v56 = *(v13 + 26384);
          if (v56)
          {
            *(v56 + 1216) = 0;
          }

          goto LABEL_100;
        }

        if (*(v52 + 192))
        {
          gleSynchronizeBufferOnCurrentDevices(v13, v52 + 40);
        }

        *(v52 + 167) = 1;
        v59 = *(v8 + 2864);
        if (*(v8 + 2864))
        {
          v60 = (v52 + 304);
          do
          {
            *v60 |= 4u;
            v60 += 2;
            --v59;
          }

          while (v59);
        }

        gleDirtyBufferObjectCurrentBindPoints(v13, v52 + 40);
      }

      result = (*(*(v13 + 29496) + 224))(*(v13 + 29464), v69, v68);
      goto LABEL_100;
    }
  }

  return result;
}

void *gleLightMaterialRGBAChange_FB_AD(uint64_t a1, void *a2)
{
  v4 = 0;
  v5 = a1 + 1552;
  v6 = a1 + 1936;
  v7 = a1 + 2064;
  v8 = 1;
  do
  {
    v9 = v8;
    result = glePushMaterial(a1, v4);
    *result = *a2;
    result[1] = a2[1];
    result[2] = *a2;
    result[3] = a2[1];
    *(result + 248) |= 0xC0Cu;
    v11 = *(a1 + 19248);
    if (v11)
    {
      v12 = *(v11 + 12 * v4 + 2816);
      if (v12 <= 0x3FF)
      {
        *(v5 + ((v12 >> 3) & 0x1FFC)) |= 1 << v12;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x800000u;
      }
    }

    v13 = *(a1 + 19272);
    if (v13)
    {
      v14 = *(v13 + 12 * v4 + 2816);
      if (v14 <= 0x3FF)
      {
        *(v6 + ((v14 >> 3) & 0x1FFC)) |= 1 << v14;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x4000000u;
      }
    }

    v15 = *(a1 + 19280);
    if (v15)
    {
      v16 = *(v15 + 12 * v4 + 2816);
      if (v16 <= 0x3FF)
      {
        *(v7 + ((v16 >> 3) & 0x1FFC)) |= 1 << v16;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x8000000u;
      }
    }

    if (v11)
    {
      v17 = *(v11 + 12 * v4 + 2818);
      if (v17 <= 0x3FF)
      {
        *(v5 + ((v17 >> 3) & 0x1FFC)) |= 1 << v17;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x800000u;
      }
    }

    if (v13)
    {
      v18 = *(v13 + 12 * v4 + 2818);
      if (v18 <= 0x3FF)
      {
        *(v6 + ((v18 >> 3) & 0x1FFC)) |= 1 << v18;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x4000000u;
      }
    }

    if (v15)
    {
      v19 = *(v15 + 12 * v4 + 2818);
      if (v19 <= 0x3FF)
      {
        *(v7 + ((v19 >> 3) & 0x1FFC)) |= 1 << v19;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x8000000u;
      }
    }

    v8 = 0;
    v4 = 1;
  }

  while ((v9 & 1) != 0);
  return result;
}

void *gleLightMaterialRGBAChange_FB_E(uint64_t a1, void *a2)
{
  v4 = 0;
  v5 = a1 + 1552;
  v6 = a1 + 1936;
  v7 = a1 + 2064;
  v8 = 1;
  do
  {
    v9 = v8;
    result = glePushMaterial(a1, v4);
    result[6] = *a2;
    result[7] = a2[1];
    *(result + 248) |= 0x202u;
    v11 = *(a1 + 19248);
    if (v11)
    {
      v12 = *(v11 + 12 * v4 + 2822);
      if (v12 <= 0x3FF)
      {
        *(v5 + ((v12 >> 3) & 0x1FFC)) |= 1 << v12;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x800000u;
      }
    }

    v13 = *(a1 + 19272);
    if (v13)
    {
      v14 = *(v13 + 12 * v4 + 2822);
      if (v14 <= 0x3FF)
      {
        *(v6 + ((v14 >> 3) & 0x1FFC)) |= 1 << v14;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x4000000u;
      }
    }

    v15 = *(a1 + 19280);
    if (v15)
    {
      v16 = *(v15 + 12 * v4 + 2822);
      if (v16 <= 0x3FF)
      {
        *(v7 + ((v16 >> 3) & 0x1FFC)) |= 1 << v16;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x8000000u;
      }
    }

    v8 = 0;
    v4 = 1;
  }

  while ((v9 & 1) != 0);
  return result;
}

void *gleLightMaterialRGBAChange_FB_S(uint64_t a1, void *a2)
{
  v4 = 0;
  v5 = a1 + 1552;
  v6 = a1 + 1936;
  v7 = a1 + 2064;
  v8 = 1;
  do
  {
    v9 = v8;
    result = glePushMaterial(a1, v4);
    result[4] = *a2;
    result[5] = a2[1];
    *(result + 248) |= 0x1010u;
    v11 = *(a1 + 19248);
    if (v11)
    {
      v12 = *(v11 + 12 * v4 + 2820);
      if (v12 <= 0x3FF)
      {
        *(v5 + ((v12 >> 3) & 0x1FFC)) |= 1 << v12;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x800000u;
      }
    }

    v13 = *(a1 + 19272);
    if (v13)
    {
      v14 = *(v13 + 12 * v4 + 2820);
      if (v14 <= 0x3FF)
      {
        *(v6 + ((v14 >> 3) & 0x1FFC)) |= 1 << v14;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x4000000u;
      }
    }

    v15 = *(a1 + 19280);
    if (v15)
    {
      v16 = *(v15 + 12 * v4 + 2820);
      if (v16 <= 0x3FF)
      {
        *(v7 + ((v16 >> 3) & 0x1FFC)) |= 1 << v16;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x8000000u;
      }
    }

    v8 = 0;
    v4 = 1;
  }

  while ((v9 & 1) != 0);
  return result;
}

float *gleLightMaterialShineChange_FB(uint64_t a1, float a2)
{
  v4 = 0;
  v5 = a1 + 1552;
  v6 = a1 + 1936;
  v7 = a1 + 2064;
  v8 = 1;
  do
  {
    v9 = v8;
    result = glePushMaterial(a1, v4);
    result[16] = a2;
    *(result + 248) |= 0x2020u;
    v11 = *(a1 + 19248);
    if (v11)
    {
      v12 = *(v11 + 12 * v4 + 2824);
      if (v12 <= 0x3FF)
      {
        *(v5 + ((v12 >> 3) & 0x1FFC)) |= 1 << v12;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x800000u;
      }
    }

    v13 = *(a1 + 19272);
    if (v13)
    {
      v14 = *(v13 + 12 * v4 + 2824);
      if (v14 <= 0x3FF)
      {
        *(v6 + ((v14 >> 3) & 0x1FFC)) |= 1 << v14;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x4000000u;
      }
    }

    v15 = *(a1 + 19280);
    if (v15)
    {
      v16 = *(v15 + 12 * v4 + 2824);
      if (v16 <= 0x3FF)
      {
        *(v7 + ((v16 >> 3) & 0x1FFC)) |= 1 << v16;
        *(a1 + 28652) = 0;
        *(a1 + 1532) |= 0x8000000u;
      }
    }

    v8 = 0;
    v4 = 1;
  }

  while ((v9 & 1) != 0);
  return result;
}

uint64_t gleCullPolygonPtrStack(uint64_t a1, float32x2_t **a2, int a3, _DWORD *a4, float *a5)
{
  v5 = *a2;
  v6 = (*a2)[8];
  v7 = 0.0;
  v9 = v6.f32[1];
  v8 = v6.f32[0];
  if (a3 >= 2)
  {
    v10 = (a2 + 1);
    v11 = a3 - 1;
    LODWORD(v12) = HIDWORD(*&(*a2)[8]);
    v13 = v6.f32[0];
    do
    {
      v14 = *v10++;
      v8 = *(v14 + 64);
      v9 = *(v14 + 68);
      v7 = v7 + ((v13 * v9) - (v8 * v12));
      v12 = v9;
      v13 = v8;
      --v11;
    }

    while (v11);
  }

  v15 = v7 + ((v8 * COERCE_FLOAT(HIDWORD(*&(*a2)[8]))) - (v6.f32[0] * v9));
  v16 = *(a1 + 28748);
  v17 = v15 > 0.0;
  if (*(a1 + 28750) == (v16 == v17))
  {
    return 1;
  }

  *a4 = v16 != v17;
  if (!a5)
  {
    return 0;
  }

  v19 = v16 == v17;
  v20 = 15526;
  if (v19)
  {
    v20 = 15524;
  }

  v21 = *(a1 + v20);
  v22 = 0.0;
  if (v21 != 6913)
  {
    if (v21 != 6912 || !*(a1 + 15535))
    {
      goto LABEL_24;
    }

LABEL_15:
    if (v15 == 0.0)
    {
      v35 = 0;
    }

    else
    {
      v23 = -v6.f32[0];
      v24 = v5[9].f32[0];
      v25 = 0;
      v26 = v24;
      v27 = v6;
      v28 = 1.0 / v15;
      if (a3 >= 2)
      {
        v29 = a2 + 1;
        v30 = a3 - 1;
        v31 = v24;
        v32 = v6;
        do
        {
          v33 = *v29++;
          v26 = v33[9].f32[0];
          v27 = v33[8];
          v25 = vadd_f32(v25, vmla_n_f32(vmul_n_f32(vneg_f32(v27), v31), v32, v26));
          v31 = v26;
          v32 = v27;
          --v30;
        }

        while (v30);
      }

      v34 = vneg_f32(v6);
      v34.f32[0] = v23;
      v35 = vabs_f32(vmul_n_f32(vadd_f32(v25, vmla_n_f32(vmul_n_f32(v34, v26), v27, v24)), v28));
    }

    if (v35.f32[0] <= v35.f32[1])
    {
      v35.f32[0] = v35.f32[1];
    }

    v22 = (*(a1 + 15520) * *(*(a1 + 29032) + 140)) + ((*(a1 + 15516) * v35.f32[0]) * *(*(a1 + 29032) + 136));
    goto LABEL_24;
  }

  if (*(a1 + 15536))
  {
    goto LABEL_15;
  }

LABEL_24:
  result = 0;
  *a5 = v22;
  return result;
}

void glCompressedTexImage2D_Exec(uint64_t a1, int a2, uint64_t a3, uint64_t a4, int a5, int a6, int a7, int a8, uint64_t a9)
{
  v13 = a4;
  v16 = a1;
  v17 = a1 + 28652;
  v18 = gleSRGBToFormat(a4);
  v74 = a9;
  if (!a9 && *(v16 + 18518))
  {
    if (!*(v17 + 1180))
    {
      v27 = 1281;
LABEL_17:
      *(v17 + 1180) = v27;
      return;
    }

    return;
  }

  v75 = 0;
  v19 = *(v17 + 3841) & 0x10;
  v20 = v13 == 33776;
  if ((v20 & (v19 >> 4)) != 0)
  {
    v21 = 33777;
  }

  else
  {
    v21 = v18;
  }

  if ((v20 & (v19 >> 4)) != 0)
  {
    v22 = 33777;
  }

  else
  {
    v22 = v13;
  }

  v67 = v22;
  v23 = gleCheckCompressedTexImage2DArgs(v16, a2, a3, v22, a5, a6, a7, a8, &v75);
  if (!v23)
  {
    return;
  }

  v24 = v23;
  if (*(v23 + 770))
  {
    return;
  }

  v25 = *(v16 + 19336);
  v68 = v25;
  if (v25)
  {
    v74 = gleHandleUnpackBufferInEngineNoSync(v16, v25, a9 + a8, 1, a9);
    if (!v74)
    {
      return;
    }
  }

  if (*(v17 + 3851))
  {
    v26 = mach_absolute_time();
  }

  else
  {
    v26 = 0;
  }

  v28 = *(v24 + 768);
  v29 = v74;
  if ((v28 & 0x1C00) == 0x1000)
  {
    goto LABEL_25;
  }

  if ((*(v24 + 768) & 0x1C00) == 0)
  {
    *(v24 + 768) = v28 | 0x1000;
    goto LABEL_25;
  }

  if ((*(v24 + 768) & 0xC00) == 0)
  {
LABEL_25:
    v62 = v26;
    if (a6)
    {
      v30 = a5;
    }

    else
    {
      v30 = 0;
    }

    if ((a2 - 34069) >= 6)
    {
      v31 = 0;
    }

    else
    {
      v31 = (a2 - 34069);
    }

    v32 = v67 - 35728;
    v64 = v30;
    if (v67 - 35728 <= 9)
    {
      v63 = a6;
      v65 = v17;
      v33 = dword_23A102BE0[v32];
      v70 = dword_23A102C08[v32];
      if (v68 && *(v68 + 192))
      {
        gleSynchronizeBufferOnCurrentDevicesForRead(v16, v68 + 40);
        v29 = v74;
      }

      v72 = v16;
      v34 = 0;
      v35 = 0;
      v69 = -a3;
      v37 = v63;
      v36 = v64;
      v38 = v64;
      do
      {
        v39 = v24 + 1032 + 480 * v31 + 32 * v34;
        LOWORD(v60) = 256;
        v40 = gleEvaluateTextureImageChange(v72, v24, v39, v31, v34, v38, v37, 1, 0, v33, v33, v70, v60, v29);
        v29 = v74;
        if (v38 && v74 && (*(v24 + 768) & 0x100) == 0)
        {
          if (gfxAllocateTextureLevel())
          {
            gleCompressedPalettedTextureImagePut(v72, v24, v39, v34, v36, v63, v67, v74);
            v29 = v74;
            v36 = v64;
            *(v24 + 968) = *(v39 + 16);
            *(v39 + 11) |= 0x10u;
            *(v24 + 996 + 2 * v31) |= *(v24 + 984 + 2 * v31) & (1 << v34);
            v41 = v24 + 96 + 24 * *(v65 + 3847);
            *(v41 + 20) |= 4u;
            *(v41 + 2 * v31 + 8) |= 1 << v34;
          }

          else
          {
            v29 = v74;
            if (!*(v65 + 1180))
            {
              *(v65 + 1180) = 1285;
            }
          }
        }

        else
        {
          *(v24 + 968) = 65538;
        }

        v35 |= v40;
        v38 >>= v38 > 1;
        v37 >>= v37 > 1;
        ++v34;
      }

      while (v34 <= v69);
      if (v35 < 0)
      {
        v56 = 134356992;
      }

      else
      {
        v56 = 139264;
      }

      *v65 = 0;
      *(v72 + 1548) |= v56;
      gleDirtyTextureObjectCurrentBindPointsNoFBO(v72, v24);
      if (*(v65 + 3851))
      {
        *(v72 + 19168) += mach_absolute_time() - v62;
      }

      return;
    }

    if (a6)
    {
      v42 = a7;
    }

    else
    {
      v42 = 0;
    }

    v43 = v24 + 480 * v31 + 32 * a3 + 1032;
    LOWORD(v60) = 256;
    v71 = v31;
    v44 = v31;
    v45 = a6;
    v46 = gleEvaluateTextureImageChange(v16, v24, v43, v44, a3, v30, a6, 1, v42, v67, v21, 0, v60, v74);
    if (!v30)
    {
      LOBYTE(v57) = 0;
      v55 = v62;
      goto LABEL_77;
    }

    v47 = v74;
    if (v74 && (*(v24 + 768) & 0x100) == 0 && *(*(v16 + 29032) + 174) && *(v24 + 976) <= a3 && *(v24 + 978) >= a3 && ((*(v24 + 2 * v71 + 984) >> a3) & 1) != 0)
    {
      v66 = v17;
      v48 = *(v16 + 8 * *(v16 + 23768) + 23936);
      if (v48)
      {
        v49 = (v48 + 198);
      }

      else
      {
        v49 = (v24 + 926);
      }

      v50 = v16;
      v51 = (*v49 & 1) == 0;
      *(v24 + 968) = v21;
      *(v24 + 970) = 0;
      if (v68)
      {
        v52 = *(*(v50 + 29448) + 368);
        v73 = v50;
        v53 = *(v50 + 29016);
        v17 = v66;
        v54 = v52(v53, *(v24 + 8 * *(v66 + 3847)), v71, a3, 0, 0, 0, v30, v45 | 0x100000000, v21, v74, 0, *(v68 + 40 + 8 * *(v66 + 3847)), v51);
        if (v54)
        {
          v16 = v73;
          v55 = v62;
LABEL_93:
          *(v24 + 536) = *(v16 + 29024);
          *(v43 + 11) |= 0x40u;
          LOBYTE(v57) = v54 == 1;
          goto LABEL_77;
        }

        v50 = v73;
        if (*(v68 + 192))
        {
          gleSynchronizeBufferOnCurrentDevicesForRead(v73, v68 + 40);
        }
      }

      v54 = (*(*(v50 + 29448) + 368))(*(v50 + 29016), *(v24 + 8 * *(v66 + 3847)), v71, a3, 0, 0, 0, v30, v45 | 0x100000000, v21, v74, 0, 0, v51);
      v16 = v50;
      v17 = v66;
      v55 = v62;
      if (v54)
      {
        goto LABEL_93;
      }
    }

    else
    {
      v55 = v62;
      if (v68 && *(v68 + 192))
      {
        gleSynchronizeBufferOnCurrentDevicesForRead(v16, v68 + 40);
        v47 = v74;
      }

      if (!v47)
      {
        goto LABEL_75;
      }
    }

    if ((*(v24 + 768) & 0x100) == 0)
    {
      if ((*(v43 + 11) & 1) != 0 || gfxAllocateTextureLevel())
      {
        LOBYTE(v61) = 0;
        gleTextureImagePut(v16, v24, v43, 0, 0, 0, v30, v45, 1, v75, v61, 0, v74);
        LOBYTE(v57) = 0;
        *(v24 + 968) = *(v43 + 16);
        *(v43 + 11) |= 0x10u;
        *(v24 + 2 * v71 + 996) |= *(v24 + 2 * v71 + 984) & (1 << a3);
        v58 = v24 + 24 * *(v17 + 3847);
        *(v58 + 116) |= 4u;
        *(v58 + 2 * v71 + 104) |= 1 << a3;
      }

      else
      {
        v57 = *(v17 + 1180);
        if (v57)
        {
          LOBYTE(v57) = 0;
        }

        else
        {
          *(v17 + 1180) = 1285;
        }
      }

LABEL_77:
      if ((v46 & 0xC0000001) != 0)
      {
        if (v46 < 0)
        {
          v59 = 134356992;
        }

        else
        {
          v59 = 139264;
        }

        *v17 = 0;
        *(v16 + 1548) |= v59;
      }

      else if (v57)
      {
        goto LABEL_84;
      }

      gleDirtyTextureObjectCurrentBindPointsNoFBO(v16, v24);
LABEL_84:
      if (*(v17 + 3851))
      {
        *(v16 + 19168) += mach_absolute_time() - v55;
      }

      return;
    }

LABEL_75:
    LOBYTE(v57) = 0;
    *(v24 + 968) = 65538;
    goto LABEL_77;
  }

  if (!*(v17 + 1180))
  {
    v27 = 1282;
    goto LABEL_17;
  }
}

uint64_t gleCheckCompressedTexImage2DArgs(uint64_t a1, int a2, int a3, unsigned int a4, int a5, int a6, int a7, int a8, unint64_t *a9)
{
  v16 = a1 + 28672;
  v17 = gleLookUpTexture2D(a1, a2);
  v18 = glePixelStorageFromCompressedFormat(a1, a4);
  *a9 = v18;
  if (!v17)
  {
LABEL_12:
    if (!*(v16 + 1160))
    {
      result = 0;
      v24 = 1280;
LABEL_36:
      *(v16 + 1160) = v24;
      return result;
    }

    return 0;
  }

  if (*(v17 + 559))
  {
    if (!*(v16 + 1160))
    {
      result = 0;
      v24 = 1282;
      goto LABEL_36;
    }

    return 0;
  }

  v20 = a5 - 2 * a7;
  v21 = a6 - 2 * a7;
  v22 = *(v17 + 768) & 0xF;
  if (v22 <= 2)
  {
    if ((*(v17 + 768) & 0xF) != 0)
    {
      if (v22 == 2)
      {
        goto LABEL_12;
      }

      goto LABEL_9;
    }

    if (a5 != a6 || v20 > *(*(a1 + 29032) + 168))
    {
LABEL_33:
      if (!*(v16 + 1160))
      {
        result = 0;
        v24 = 1281;
        goto LABEL_36;
      }

      return 0;
    }

LABEL_16:
    if ((v20 & 0x80000000) == 0)
    {
      if ((v20 & (v20 - 1)) == 0 || (v25 = *(v16 + 3829), v25 == 4) || !a3 && (v25 == 3 || (*(*(a1 + 29032) + 578) & 0x10) != 0))
      {
        v26 = *(a1 + 29032);
        v27 = *(v26 + 160);
        if (v20 <= v27 && (v21 & 0x80000000) == 0)
        {
          if ((v21 & (v21 - 1)) == 0 || (v28 = *(v16 + 3829), v28 == 4) || !a3 && (v28 == 3 || (*(v26 + 578) & 0x10) != 0))
          {
            if (v21 <= v27)
            {
              goto LABEL_9;
            }
          }
        }
      }
    }

    goto LABEL_33;
  }

  if (v22 == 3)
  {
    goto LABEL_16;
  }

  if (v22 == 6)
  {
    goto LABEL_12;
  }

LABEL_9:
  if (a4 >> 2 == 8853 && (*(v16 + 3829) == 2 || (*(*(a1 + 29032) + 577) & 1) == 0))
  {
    goto LABEL_12;
  }

  if (gleCheckCompressedTexImageArgs(a1, a3, a7, v20, v21, 1, a8, v18, v19))
  {
    return v17;
  }

  else
  {
    return 0;
  }
}

uint64_t gleCheckCompressedTexImageArgs(uint64_t a1, int a2, int a3, int a4, int a5, int a6, int a7, unint64_t a8, int8x8_t a9)
{
  if ((a8 & 0x800000000000000) == 0)
  {
    v16 = *(a1 + 29832);
    if (*(a1 + 29832))
    {
      return 0;
    }

    if ((a8 & 0x4000000000000000) != 0)
    {
      v17 = 1282;
    }

    else
    {
      v17 = 1280;
    }

    goto LABEL_37;
  }

  v9 = (a8 >> 6) & 0xF;
  if (v9 - 11 < 2)
  {
    v11 = 0;
    v10 = 0;
    v12 = 0;
    goto LABEL_11;
  }

  if (v9 == 4)
  {
    v10 = 4;
  }

  else
  {
    if (v9 != 5)
    {
      v11 = 0;
      v10 = 0;
      goto LABEL_10;
    }

    v10 = 8;
  }

  v11 = (((a8 >> 37) & 3) + 1 + (((a8 >> 37) & 3) + 1) * (BYTE4(a8) & 0x1F)) << v10;
LABEL_10:
  v12 = 1;
LABEL_11:
  if (a3)
  {
    goto LABEL_39;
  }

  if (!v11)
  {
    if ((v12 & 1) != 0 || a4 == a5 && (a9.i32[0] = a4, v15 = vcnt_s8(a9), v15.i16[0] = vaddlv_u8(v15), v15.i32[0] < 2u))
    {
      if ((a8 & 0x1CF800000000000) == 0x9800000000000 || v9 == 14 && (*(*(a1 + 29032) + 576) & 0x20) == 0)
      {
        v16 = *(a1 + 29832);
        if (*(a1 + 29832))
        {
          return 0;
        }

        v17 = 1280;
LABEL_37:
        *(a1 + 29832) = v17;
        return v16;
      }

      v18 = a6 + a6 * ((a8 >> 37) & 3);
      v19 = (v18 + v18 * (BYTE4(a8) & 0x1F)) * ((((a8 >> 39) & 0xF) + a4) / (((a8 >> 39) & 0xF) + 1)) * ((((a8 >> 43) & 0xF) + a5) / (((a8 >> 43) & 0xF) + 1));
      goto LABEL_32;
    }

LABEL_39:
    v16 = *(a1 + 29832);
    if (*(a1 + 29832))
    {
      return 0;
    }

    v17 = 1282;
    goto LABEL_37;
  }

  if ((a2 - 1) < 0xFFFFFFF1)
  {
LABEL_34:
    v16 = *(a1 + 29832);
    if (*(a1 + 29832))
    {
      return 0;
    }

    v17 = 1281;
    goto LABEL_37;
  }

  v13 = 0;
  v14 = 1 - a2;
  if (1 - a2 <= 1)
  {
    v14 = 1;
  }

  while (a4 != 1 || a5 != 1)
  {
    v13 += (a5 * v10 * a4) >> 3;
    a4 = a4 >> (a4 > 1);
    a5 = a5 >> (a5 > 1);
    ++a2;
    if (!--v14)
    {
      goto LABEL_31;
    }
  }

  if (a2)
  {
    goto LABEL_34;
  }

  ++v13;
LABEL_31:
  v19 = v13 + v11;
LABEL_32:
  if (v19 != a7)
  {
    goto LABEL_34;
  }

  return 1;
}

int8x8_t glMultMatrixf_Exec(uint64_t a1, float32x2_t *a2)
{
  v12 = *MEMORY[0x277D85DE8];
  v2 = (a1 + 28652);
  v3 = a1 + 20484;
  if (*(a1 + 20484) < 24)
  {
    v5 = (a1 + 1540);
    v10 = 0u;
    v11 = 0u;
    v8 = 0u;
    v9 = 0u;
    gleMultMatrixf(*(a1 + 19976), a2, &v8);
    v6 = *(a1 + 19976);
    *v6 = v8;
    *(v6 + 16) = v9;
    *(v6 + 32) = v10;
    *(v6 + 48) = v11;
    LODWORD(v6) = *(v3 + 4);
    *(a1 + 1528) |= v6;
    *v2 = 0;
    result = vorr_s8(*v5, vdup_n_s32(v6));
    *v5 = result;
  }

  else if (!*(a1 + 29832))
  {
    *(a1 + 29832) = 1282;
  }

  return result;
}

__n128 gleMultMatrixf(float32x4_t *a1, float32x2_t *a2, float32x4_t *a3)
{
  result = *a2->f32;
  v4 = a1[1];
  v5 = a1[2];
  v6 = a1[3];
  v7 = vmlaq_laneq_f32(vmlaq_laneq_f32(vmlaq_lane_f32(vmulq_n_f32(*a1, COERCE_FLOAT(*a2[2].f32)), v4, a2[2], 1), v5, *a2[2].f32, 2), v6, *a2[2].f32, 3);
  v8 = vmlaq_laneq_f32(vmlaq_laneq_f32(vmlaq_lane_f32(vmulq_n_f32(*a1, COERCE_FLOAT(*a2[4].f32)), v4, a2[4], 1), v5, *a2[4].f32, 2), v6, *a2[4].f32, 3);
  v9 = vmlaq_laneq_f32(vmlaq_laneq_f32(vmlaq_lane_f32(vmulq_n_f32(*a1, COERCE_FLOAT(*a2[6].f32)), v4, a2[6], 1), v5, *a2[6].f32, 2), v6, *a2[6].f32, 3);
  *a3 = vmlaq_laneq_f32(vmlaq_laneq_f32(vmlaq_lane_f32(vmulq_n_f32(*a1, COERCE_FLOAT(*a2->f32)), v4, *a2, 1), v5, *a2->f32, 2), v6, *a2->f32, 3);
  a3[1] = v7;
  a3[2] = v8;
  a3[3] = v9;
  return result;
}

void *gleLightMaterialRGBAChange_F_A(uint64_t a1, void *a2)
{
  result = glePushMaterial(a1, 0);
  *result = *a2;
  result[1] = a2[1];
  *(result + 248) |= 0x404u;
  v5 = *(a1 + 19248);
  if (v5)
  {
    v6 = *(v5 + 2816);
    if (v6 <= 0x3FF)
    {
      *(a1 + ((v6 >> 3) & 0x1FFC) + 1552) |= 1 << v6;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x800000u;
    }
  }

  v7 = *(a1 + 19272);
  if (v7)
  {
    v8 = *(v7 + 2816);
    if (v8 <= 0x3FF)
    {
      *(a1 + ((v8 >> 3) & 0x1FFC) + 1936) |= 1 << v8;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x4000000u;
    }
  }

  v9 = *(a1 + 19280);
  if (v9)
  {
    v10 = *(v9 + 2816);
    if (v10 <= 0x3FF)
    {
      *(a1 + ((v10 >> 3) & 0x1FFC) + 2064) |= 1 << v10;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x8000000u;
    }
  }

  return result;
}

void *gleLightMaterialRGBAChange_F_D(uint64_t a1, void *a2)
{
  result = glePushMaterial(a1, 0);
  result[2] = *a2;
  result[3] = a2[1];
  *(result + 248) |= 0x808u;
  v5 = *(a1 + 19248);
  if (v5)
  {
    v6 = *(v5 + 2818);
    if (v6 <= 0x3FF)
    {
      *(a1 + ((v6 >> 3) & 0x1FFC) + 1552) |= 1 << v6;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x800000u;
    }
  }

  v7 = *(a1 + 19272);
  if (v7)
  {
    v8 = *(v7 + 2818);
    if (v8 <= 0x3FF)
    {
      *(a1 + ((v8 >> 3) & 0x1FFC) + 1936) |= 1 << v8;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x4000000u;
    }
  }

  v9 = *(a1 + 19280);
  if (v9)
  {
    v10 = *(v9 + 2818);
    if (v10 <= 0x3FF)
    {
      *(a1 + ((v10 >> 3) & 0x1FFC) + 2064) |= 1 << v10;
      *(a1 + 28652) = 0;
      *(a1 + 1532) |= 0x8000000u;
    }
  }

  return result;
}

uint64_t glGetPointerv_Exec(uint64_t result, int a2, void *a3)
{
  v3 = *(result + 26384);
  if (a2 > 34475)
  {
    if (a2 > 35211)
    {
      if (a2 == 35212)
      {
        v4 = v3[35];
        goto LABEL_20;
      }

      if (a2 == 35342)
      {
        v4 = v3[117];
        goto LABEL_20;
      }
    }

    else
    {
      if (a2 == 34476)
      {
        v4 = v3[29];
        goto LABEL_20;
      }

      if (a2 == 34889)
      {
        v4 = v3[38];
        goto LABEL_20;
      }
    }
  }

  else if (a2 > 32911)
  {
    if (a2 == 32912)
    {
      v4 = v3[23];
      goto LABEL_20;
    }

    if (a2 == 32914)
    {
      v4 = v3[3 * *(result + 23770) + 41];
      goto LABEL_20;
    }
  }

  else
  {
    if (a2 == 32910)
    {
      v4 = v3[17];
      goto LABEL_20;
    }

    if (a2 == 32911)
    {
      v4 = v3[20];
LABEL_20:
      *a3 = v4;
      return result;
    }
  }

  if (!*(result + 29832))
  {
    *(result + 29832) = 1280;
  }

  return result;
}

void *glActiveTexture_Comp(uint64_t a1, int a2)
{
  result = gleAddCommand(a1, glActiveTexture_ListExec, 4);
  *result = a2;
  return result;
}

void *glClientActiveTexture_PackThread(void *result, int a2)
{
  v2 = result + 6645;
  if ((a2 - 33992) > 0xFFFFFFF7)
  {
    v4 = a2 - 33984;
    result = gleAddCommand(result, glClientActiveTexture_UnpackThread, 4);
    *result = a2;
    *v2 = v4;
  }

  else if (!*(result + 14916))
  {
    *(result + 14916) = 1280;
  }

  return result;
}

uint64_t glClientActiveTexture_UnpackThread(uint64_t a1, _WORD *a2)
{
  if ((*a2 - 33984) < 8)
  {
    *(a1 + 23770) = *a2 + 31552;
  }

  else if (!*(a1 + 29832))
  {
    *(a1 + 29832) = 1280;
  }

  return 4;
}

float *glAlphaFunc_Comp(uint64_t a1, int a2, float a3)
{
  result = gleAddCommand(a1, glAlphaFunc_ListExec, 8);
  *result = a2;
  result[1] = a3;
  return result;
}

uint64_t glAlphaFunc_ListExec(uint64_t a1, int *a2, double a3, double a4, double a5)
{
  LODWORD(a3) = a2[1];
  glAlphaFunc_Exec(a1, *a2, a3, a4, a5);
  return 8;
}

float *glAlphaFuncx_PackThread(uint64_t a1, int a2, unsigned int a3)
{
  v4 = vcvts_n_f32_s32(a3, 0x10uLL);
  result = gleAddCommand(a1, glAlphaFunc_ListExec, 8);
  *result = a2;
  result[1] = v4;
  return result;
}

_DWORD *glBlendFunc_Comp(uint64_t a1, int a2, int a3)
{
  result = gleAddCommand(a1, glBlendFunc_ListExec, 8);
  *result = a2;
  result[1] = a3;
  return result;
}

float *glBlendColor_Comp(uint64_t a1, float a2, float a3, float a4, float a5)
{
  result = gleAddCommand(a1, glBlendColor_ListExec, 16);
  *result = a2;
  result[1] = a3;
  result[2] = a4;
  result[3] = a5;
  return result;
}

uint64_t glBlendColor_ListExec(uint64_t a1, uint64_t a2, float32x4_t a3, double a4, double a5)
{
  a3.i32[0] = *a2;
  LODWORD(a4) = *(a2 + 4);
  LODWORD(a5) = *(a2 + 8);
  glBlendColor_Exec(a1, a3, a4, a5, *(a2 + 12));
  return 16;
}

void *glBlendEquation_Comp(uint64_t a1, int a2)
{
  result = gleAddCommand(a1, glBlendEquation_ListExec, 4);
  *result = a2;
  return result;
}

uint64_t glBlendEquation_Exec(uint64_t result, int a2)
{
  if ((a2 - 32774) < 3 || (a2 - 32778) < 2 || (a2 - 34685) < 2 || a2 == 35445 && (*(*(result + 29032) + 578) & 4) != 0)
  {
    v2 = 0;
    v3 = a2 | (a2 << 16);
    v4 = (result + 15016);
    do
    {
      v6 = *v4;
      v4 += 3;
      v5 = v6;
    }

    while (v6 == v3 && v2++ < 7);
    if (v5 != v3)
    {
      for (i = 0; i != 96; i += 12)
      {
        *(result + 15016 + i) = v3;
      }

      *(result + 15121) &= ~2u;
      *(result + 1520) |= 2u;
      *(result + 28652) = 0;
      *(result + 1548) |= 0x40000u;
    }
  }

  else if (!*(result + 29832))
  {
    *(result + 29832) = 1280;
  }

  return result;
}

_DWORD *glBlendFuncSeparate_Comp(uint64_t a1, int a2, int a3, int a4, int a5)
{
  result = gleAddCommand(a1, glBlendFuncSeparate_ListExec, 16);
  *result = a2;
  result[1] = a3;
  result[2] = a4;
  result[3] = a5;
  return result;
}

uint64_t glBlendFuncSeparate_Exec(uint64_t result, int a2, int a3, int a4, int a5)
{
  v5 = (result + 28652);
  v6 = *(result + 29812);
  v7 = v6 & 0xFFFFFF00;
  if (a2 < 2)
  {
    goto LABEL_2;
  }

  if (a2 <= 0x8000)
  {
    if ((a2 - 770) < 7)
    {
      goto LABEL_2;
    }

    if ((a2 - 768) >= 2)
    {
      goto LABEL_57;
    }

    goto LABEL_50;
  }

  if ((a2 - 32769) < 4)
  {
LABEL_50:
    if (*(result + 32501) == 2)
    {
      goto LABEL_57;
    }

    goto LABEL_2;
  }

  if ((a2 - 35065) >= 3 && a2 != 34185)
  {
    goto LABEL_57;
  }

  v7 = v6 | 0xFF;
LABEL_2:
  if (a3 < 2)
  {
    goto LABEL_3;
  }

  if (a3 <= 0x8000)
  {
    if ((a3 - 768) > 8)
    {
      goto LABEL_57;
    }

    if (((1 << a3) & 0x13F) != 0)
    {
      goto LABEL_3;
    }

    goto LABEL_52;
  }

  if ((a3 - 32769) < 4)
  {
LABEL_52:
    if (*(result + 32501) == 2)
    {
      goto LABEL_57;
    }

    goto LABEL_3;
  }

  if ((a3 - 35065) >= 3 && a3 != 34185)
  {
    goto LABEL_57;
  }

  v7 |= 0xFFu;
LABEL_3:
  if (a4 < 2)
  {
    goto LABEL_4;
  }

  if (a4 <= 0x8000)
  {
    if ((a4 - 770) < 7)
    {
      goto LABEL_4;
    }

    if ((a4 - 768) >= 2)
    {
      goto LABEL_57;
    }

    goto LABEL_54;
  }

  if ((a4 - 32769) < 4)
  {
LABEL_54:
    if (*(result + 32501) == 2)
    {
      goto LABEL_57;
    }

    goto LABEL_4;
  }

  if ((a4 - 35065) >= 3 && a4 != 34185)
  {
    goto LABEL_57;
  }

  v7 |= 0xFFu;
LABEL_4:
  if (a5 < 2)
  {
LABEL_5:
    if (v6 != v7)
    {
      *(result + 29812) = v7;
      *v5 = 0;
      *(result + 1548) |= 0x80000u;
    }

    v8 = 0;
    v9 = a2 | (a3 << 16) | (a4 << 32) | (a5 << 48);
    v10 = (result + 15008);
    do
    {
      v12 = *v10;
      v10 = (v10 + 12);
      v11 = v12;
    }

    while (v12 == v9 && v8++ < 7);
    if (v11 != v9)
    {
      for (i = 0; i != 96; i += 12)
      {
        *(result + 15008 + i) = v9;
      }

      *(result + 15121) &= ~1u;
      *(result + 1520) |= 2u;
      *v5 = 0;
      *(result + 1548) |= 0x40000u;
    }

    return result;
  }

  if (a5 <= 0x8000)
  {
    if ((a5 - 768) > 8)
    {
      goto LABEL_57;
    }

    if (((1 << a5) & 0x13F) != 0)
    {
      goto LABEL_5;
    }

    goto LABEL_56;
  }

  if ((a5 - 32769) < 4)
  {
LABEL_56:
    if (*(result + 32501) != 2)
    {
      goto LABEL_5;
    }

    goto LABEL_57;
  }

  if ((a5 - 35065) < 3 || a5 == 34185)
  {
    v7 |= 0xFFu;
    goto LABEL_5;
  }

LABEL_57:
  if (!*(result + 29832))
  {
    *(result + 29832) = 1280;
  }

  return result;
}

_DWORD *glBlendEquationSeparateEXT_Comp(uint64_t a1, int a2, int a3)
{
  result = gleAddCommand(a1, glBlendEquationSeparateEXT_ListExec, 8);
  *result = a2;
  result[1] = a3;
  return result;
}

uint64_t glBlendEquationSeparateEXT_Exec(uint64_t result, int a2, int a3)
{
  if (((a2 - 32774) < 3 || (a2 - 32778) < 2 || (a2 - 34685) < 2 || a2 == 35445 && (*(*(result + 29032) + 578) & 4) != 0) && ((a3 - 32774) < 3 || (a3 - 32778) < 2 || (a3 - 34685) < 2 || a3 == 35445 && (*(*(result + 29032) + 578) & 4) != 0))
  {
    v3 = 0;
    v4 = a2 | (a3 << 16);
    v5 = (result + 15016);
    do
    {
      v7 = *v5;
      v5 += 3;
      v6 = v7;
    }

    while (v7 == v4 && v3++ < 7);
    if (v6 != v4)
    {
      for (i = 0; i != 96; i += 12)
      {
        *(result + 15016 + i) = v4;
      }

      *(result + 15121) &= ~2u;
      *(result + 1520) |= 2u;
      *(result + 28652) = 0;
      *(result + 1548) |= 0x40000u;
    }
  }

  else if (!*(result + 29832))
  {
    *(result + 29832) = 1280;
  }

  return result;
}

void glBindBuffer_Exec(uint64_t a1, int a2, int a3)
{
  if ((a2 - 34962) < 2)
  {
LABEL_2:
    os_unfair_lock_lock((*(a1 + 19296) + 324));
    gleBindBufferObject(a1, a2, a3);
    v6 = (*(a1 + 19296) + 324);

    os_unfair_lock_unlock(v6);
    return;
  }

  if (a2 > 35981)
  {
    if ((a2 - 36662) >= 2 && a2 != 35982)
    {
      goto LABEL_12;
    }
  }

  else if ((a2 - 35051) >= 2 && a2 != 35345)
  {
    goto LABEL_12;
  }

  if ((*(a1 + 32501) & 0xFE) != 2)
  {
    goto LABEL_2;
  }

LABEL_12:
  if (!*(a1 + 29832))
  {
    *(a1 + 29832) = 1280;
  }
}

void *glBindBuffer_PackThread(void *a1, int a2, int a3)
{
  if ((a2 - 34962) < 2)
  {
    return gleBindBufferObject_Thread(a1, a2, a3);
  }

  if (a2 > 35981)
  {
    if ((a2 - 36662) >= 2 && a2 != 35982)
    {
      goto LABEL_10;
    }
  }

  else if ((a2 - 35051) >= 2 && a2 != 35345)
  {
    goto LABEL_10;
  }

  if ((*(a1 + 32501) & 0xFE) != 2)
  {
    return gleBindBufferObject_Thread(a1, a2, a3);
  }

LABEL_10:
  if (!*(a1 + 14916))
  {
    *(a1 + 14916) = 1280;
  }

  return a1;
}

void glDeleteBuffers_Exec(uint64_t a1, unsigned int a2, uint64_t a3)
{
  v3 = a1 + 28652;
  if ((a2 & 0x80000000) == 0)
  {
    os_unfair_lock_lock((*(a1 + 19296) + 324));
    v79 = *(a1 + 26384);
    if (v79)
    {
      v6 = v79 + 5;
    }

    else
    {
      v6 = 0;
    }

    v7 = *(a1 + 19312);
    if (v7)
    {
      v88 = *(v7 + 16);
    }

    else
    {
      v88 = 0;
    }

    if (v79)
    {
      v8 = v79[154];
      if (v8)
      {
LABEL_10:
        v87 = *(v8 + 16);
        goto LABEL_13;
      }
    }

    else
    {
      v8 = *(a1 + 19320);
      if (v8)
      {
        goto LABEL_10;
      }
    }

    v87 = 0;
LABEL_13:
    v9 = *(a1 + 19328);
    if (v9)
    {
      v86 = *(v9 + 16);
    }

    else
    {
      v86 = 0;
    }

    v10 = *(a1 + 19336);
    if (v10)
    {
      v85 = *(v10 + 16);
    }

    else
    {
      v85 = 0;
    }

    v11 = *(a1 + 19352);
    if (v11)
    {
      v84 = *(v11 + 16);
    }

    else
    {
      v84 = 0;
    }

    v12 = *(a1 + 19344);
    if (v12)
    {
      v83 = *(v12 + 16);
    }

    else
    {
      v83 = 0;
    }

    v13 = *(a1 + 19360);
    if (v13)
    {
      v82 = *(v13 + 16);
    }

    else
    {
      v82 = 0;
    }

    v14 = *(a1 + 19368);
    if (v14)
    {
      v81 = *(v14 + 16);
    }

    else
    {
      v81 = 0;
    }

    v15 = *(a1 + 19376);
    if (v15)
    {
      v80 = *(v15 + 16);
      if (!a2)
      {
        goto LABEL_144;
      }
    }

    else
    {
      v80 = 0;
      if (!a2)
      {
        goto LABEL_144;
      }
    }

    v16 = 0;
    v17 = 0;
    v78 = 0;
    v93 = v6 + 150;
    v18 = vdupq_n_s64(2uLL);
    v89 = a2;
    v92 = v18;
    do
    {
      v19 = *(a3 + 4 * v16);
      if (v19)
      {
        if (v19 == v88)
        {
          gleBindBufferObject(a1, 34962, 0);
          v18 = v92;
        }

        if (v19 == v87)
        {
          gleBindBufferObject(a1, 34963, 0);
          v18 = v92;
        }

        if (v19 == v86)
        {
          gleBindBufferObject(a1, 35051, 0);
          v18 = v92;
        }

        if (v19 == v85)
        {
          gleBindBufferObject(a1, 35052, 0);
          v18 = v92;
        }

        if (v19 == v84)
        {
          gleBindBufferObject(a1, 35982, 0);
          v18 = v92;
        }

        if (v19 == v83)
        {
          gleBindBufferObject(a1, 36334, 0);
          v18 = v92;
        }

        if (v19 == v82)
        {
          gleBindBufferObject(a1, 35882, 0);
          v18 = v92;
        }

        if (v19 == v81)
        {
          gleBindBufferObject(a1, 36662, 0);
          v18 = v92;
        }

        v91 = v16;
        if (v19 == v80)
        {
          gleBindBufferObject(a1, 36663, 0);
          v18 = v92;
        }

        v20 = *(*(a1 + 26432) + 168);
        if (v20)
        {
          v21 = 0;
          v22 = (a1 + 33552);
          do
          {
            v23 = *(a1 + 26432);
            v24 = *(v23 + 8 * v21 + 128);
            if (v24 && v19 == *(v24 + 16))
            {
              v25 = *(v24 + 20) - 1;
              *(v24 + 20) = v25;
              if (!v25)
              {
                gleUnbindAndFreeBufferObject(a1, v24);
                v18 = v92;
                v23 = *(a1 + 26432);
              }

              *(v23 + 8 * v21 + 128) = 0;
              *(*(a1 + 26432) + 168) &= ~(1 << v21);
              v26 = *(v3 + 3844);
              if (*(v3 + 3844))
              {
                v27 = (v26 + 1) & 0x1FE;
                v28 = vdupq_n_s64(v26 - 1);
                v29 = v22;
                v30 = xmmword_23A102AE0;
                do
                {
                  v31 = vmovn_s64(vcgeq_u64(v28, v30));
                  if (v31.i8[0])
                  {
                    *v29 = 0;
                  }

                  if (v31.i8[4])
                  {
                    v29[209] = 0;
                  }

                  v30 = vaddq_s64(v30, vdupq_n_s64(2uLL));
                  v29 += 418;
                  v27 -= 2;
                }

                while (v27);
              }

              v17 |= 8u;
              *(a1 + 17992 + 8 * v21) = 0;
              *(a1 + 18024 + 8 * v21) = 0;
            }

            v20 &= ~(1 << v21);
            if (!v20)
            {
              break;
            }

            ++v22;
            v32 = v21++ >= 3;
          }

          while (!v32);
        }

        v33 = *(a1 + 24896);
        if (v33)
        {
          v34 = *(a1 + 24896);
          do
          {
            v35 = __clz(__rbit64(v34));
            v36 = *(a1 + 24888);
            v37 = *(v36 + 8 * v35);
            if (v37 && v19 == *(v37 + 16))
            {
              v38 = *(v37 + 20) - 1;
              *(v37 + 20) = v38;
              if (!v38)
              {
                gleUnbindAndFreeBufferObject(a1, v37);
                v18 = v92;
                v36 = *(a1 + 24888);
                v33 = *(a1 + 24896);
              }

              v17 |= 4u;
              *(v36 + 8 * v35) = 0;
              v39 = (a1 + 18056 + 16 * v35);
              v33 &= ~(1 << v35);
              *v39 = 0;
              v39[1] = 0;
              *(a1 + 24896) = v33;
              v40 = *(v3 + 3844);
              if (*(v3 + 3844))
              {
                v41 = (v40 + 1) & 0x1FE;
                v42 = vdupq_n_s64(v40 - 1);
                v43 = (a1 + 33704 + 8 * v35);
                v44 = xmmword_23A102AE0;
                do
                {
                  v45 = vmovn_s64(vcgeq_u64(v42, v44));
                  if (v45.i8[0])
                  {
                    *v43 = 0;
                  }

                  if (v45.i8[4])
                  {
                    v43[209] = 0;
                  }

                  v44 = vaddq_s64(v44, vdupq_n_s64(2uLL));
                  v43 += 418;
                  v41 -= 2;
                }

                while (v41);
              }
            }

            v34 &= ~(1 << v35);
          }

          while (v34);
        }

        v46 = *(a1 + 24768);
        if (v46)
        {
          v78 = v46 + 40;
          if (*(v46 + 3748))
          {
            v47 = 0;
            do
            {
              v48 = *(v46 + 3704);
              v49 = *(v48 + 8 * v47);
              if (v49 && v19 == *(v49 + 16))
              {
                v50 = *(v49 + 20) - 1;
                *(v49 + 20) = v50;
                if (!v50)
                {
                  gleUnbindAndFreeBufferObject(a1, v49);
                  v18 = v92;
                  v48 = *(v46 + 3704);
                }

                v17 |= 0x10u;
                *(v48 + 8 * v47) = 0;
                v51 = *(v3 + 3844);
                if (*(v3 + 3844))
                {
                  v52 = (v46 + 4056);
                  do
                  {
                    v53 = *v52;
                    v52 += 9;
                    *(v53 + 8 * v47) = 0;
                    --v51;
                  }

                  while (v51);
                }
              }

              ++v47;
            }

            while (v47 < *(v46 + 3748));
          }
        }

        if ((*(v3 + 3841) & 0x20) == 0)
        {
          if (v79)
          {
            v54 = v79[114];
            if (v54)
            {
              v55 = 0;
              v56 = v6 + 182;
              do
              {
                v57 = v93[v55];
                if (v57 && v19 == *(v57 + 16))
                {
                  v58 = *(v57 + 20) - 1;
                  *(v57 + 20) = v58;
                  if (!v58)
                  {
                    gleUnbindAndFreeBufferObject(a1, v57);
                    v18 = v92;
                  }

                  v93[v55] = 0;
                  v6[113] |= (0x10000 << v55) | 0x10;
                  v6[109] &= ~(0x10000 << v55);
                  v6[v55 + 115] = v6[3 * v55 + 12];
                  if ((v6[108] & (0x10000 << v55)) != 0)
                  {
                    v59 = 3;
                  }

                  else
                  {
                    v59 = 1;
                  }

                  v60 = *(v3 + 3844);
                  if (*(v3 + 3844))
                  {
                    v61 = (v60 + 1) & 0x1FE;
                    v62 = vdupq_n_s64(v60 - 1);
                    v63 = v56;
                    v64 = xmmword_23A102AE0;
                    do
                    {
                      v65 = vmovn_s64(vcgeq_u64(v62, v64));
                      if (v65.i8[0])
                      {
                        *v63 = 0;
                      }

                      if (v65.i8[4])
                      {
                        v63[35] = 0;
                      }

                      v64 = vaddq_s64(v64, v18);
                      v63 += 70;
                      v61 -= 2;
                    }

                    while (v61);
                  }

                  v17 |= v59;
                  if (*(a1 + 27648))
                  {
                    v66 = *(a1 + 26448);
                    *(v66 + 8 * v55 + 8) = 0;
                    *(v66 + 264) = v6[109];
                  }
                }

                v54 &= ~(0x10000 << v55);
                if (!v54)
                {
                  break;
                }

                ++v56;
                v32 = v55++ >= 0x1F;
              }

              while (!v32);
            }
          }
        }

        v67 = *(a1 + 23776);
        if (v67)
        {
          v68 = 0;
          do
          {
            if (v67)
            {
              v69 = *(a1 + 20776 + 88 * v68 + 56);
              v70 = *(v69 + 568);
              if (v70)
              {
                if (v19 == *(v70 + 16))
                {
                  v71 = *(v70 + 20) - 1;
                  *(v70 + 20) = v71;
                  if (!v71)
                  {
                    gleUnbindAndFreeBufferObject(a1, v70);
                  }

                  *(v69 + 568) = 0;
                  *(a1 + 23776) &= -2 << v68;
                  v72 = *(v3 + 3844);
                  if (*(v3 + 3844))
                  {
                    v73 = (v69 + 156);
                    do
                    {
                      *(v73 - 20) = 0;
                      *v73 |= 8u;
                      v73 += 24;
                      --v72;
                    }

                    while (v72);
                  }

                  *v3 = 0;
                  *(a1 + 1548) |= 0x22000u;
                  gleDirtyTextureObjectCurrentBindPointsGeom(a1, v69 + 40);
                }
              }
            }

            ++v68;
            v74 = v67 > 1;
            v67 >>= 1;
          }

          while (v74);
        }

        v75 = gleLookupHashObject(*(a1 + 19296) + 264, v19);
        if (v75 && *(v75 + 5) == 1)
        {
          v76 = (v75 + 5);
          (*(*(a1 + 29448) + 1024))(*(a1 + 29016), v75[*(v3 + 3848) + 5]);
          gleOrphanBufferObject(a1, v76);
        }

        gleUnbindDeleteHashNameAndObject(a1, (*(a1 + 19296) + 264), gleUnbindBufferObject, v19);
        v16 = v91;
        v18 = v92;
      }

      ++v16;
    }

    while (v16 != v89);
    if (!v17)
    {
      goto LABEL_144;
    }

    if ((v17 & 2) != 0)
    {
      gleUpdateDrawArraysFuncs(a1);
      if ((v17 & 1) == 0)
      {
LABEL_140:
        if ((v17 & 4) == 0)
        {
          goto LABEL_141;
        }

        goto LABEL_149;
      }
    }

    else if ((v17 & 1) == 0)
    {
      goto LABEL_140;
    }

    *v3 = 0;
    *(a1 + 1532) |= 0x1000u;
    if ((v17 & 4) == 0)
    {
LABEL_141:
      if ((v17 & 8) == 0)
      {
        goto LABEL_142;
      }

      goto LABEL_150;
    }

LABEL_149:
    *(a1 + 1532) |= 0x20000000u;
    *v3 = 0;
    *(a1 + 1548) |= 0x200u;
    if ((v17 & 8) == 0)
    {
LABEL_142:
      if ((v17 & 0x10) != 0)
      {
LABEL_143:
        *(v78 + 3656) |= 0x10u;
        *(a1 + 1532) |= 0x30000000u;
        *v3 = 0;
        *(a1 + 1540) |= 0x10000000u;
      }

LABEL_144:
      v77 = (*(a1 + 19296) + 324);

      os_unfair_lock_unlock(v77);
      return;
    }

LABEL_150:
    *v3 = 0;
    *(a1 + 1524) |= 0x40000000u;
    if ((v17 & 0x10) == 0)
    {
      goto LABEL_144;
    }

    goto LABEL_143;
  }

  if (!*(a1 + 29832))
  {
    *(a1 + 29832) = 1281;
  }
}

void glDeleteBuffers_ExecThread(uint64_t a1, unsigned int a2, uint64_t a3)
{
  (*(a1 + 27752))();

  glDeleteBuffers_Exec(a1, a2, a3);
}

void glGenBuffers_Exec(uint64_t a1, unsigned int a2, uint64_t a3)
{
  if ((a2 & 0x80000000) != 0)
  {
    if (!*(a1 + 29832))
    {
      *(a1 + 29832) = 1281;
    }
  }

  else
  {
    os_unfair_lock_lock((*(a1 + 19296) + 324));
    v6 = gleGenHashNames(*(a1 + 19296) + 264, a2);
    os_unfair_lock_unlock((*(a1 + 19296) + 324));
    if (v6)
    {
      v7 = a2 == 0;
    }

    else
    {
      v7 = 1;
    }

    if (!v7)
    {
      v8 = (a2 + 3) & 0xFFFFFFFC;
      v9 = vdupq_n_s64(a2 - 1);
      v10 = xmmword_23A102AF0;
      v11 = xmmword_23A102AE0;
      v12 = (a3 + 8);
      v13 = vdupq_n_s64(4uLL);
      do
      {
        v14 = vmovn_s64(vcgeq_u64(v9, v11));
        if (vuzp1_s16(v14, *v9.i8).u8[0])
        {
          *(v12 - 2) = v6;
        }

        if (vuzp1_s16(v14, *&v9).i8[2])
        {
          *(v12 - 1) = v6 + 1;
        }

        if (vuzp1_s16(*&v9, vmovn_s64(vcgeq_u64(v9, *&v10))).i32[1])
        {
          *v12 = v6 + 2;
          v12[1] = v6 + 3;
        }

        v10 = vaddq_s64(v10, v13);
        v11 = vaddq_s64(v11, v13);
        v6 += 4;
        v12 += 4;
        v8 -= 4;
      }

      while (v8);
    }
  }
}

void glGenBuffers_ExecThread(uint64_t a1, unsigned int a2, uint64_t a3)
{
  (*(a1 + 27752))();

  glGenBuffers_Exec(a1, a2, a3);
}

BOOL glIsBuffer_Exec(uint64_t a1, int a2)
{
  os_unfair_lock_lock((*(a1 + 19296) + 324));
  v4 = gleLookupHashObject(*(a1 + 19296) + 264, a2);
  os_unfair_lock_unlock((*(a1 + 19296) + 324));
  return v4 != 0;
}

BOOL glIsBuffer_ExecThread(uint64_t a1, int a2)
{
  (*(a1 + 27752))();

  return glIsBuffer_Exec(a1, a2);
}

BOOL *gleCreateTransformFeedbackBuffer(uint64_t a1)
{
  v2 = malloc_type_malloc(8 * *(a1 + 32496) + 304, 0x746FBC94uLL);
  if (!v2)
  {
    abort();
  }

  v3 = v2;
  v4 = (*(*(a1 + 29032) + 640) + 55) & -*(*(a1 + 29032) + 640);
  if (v4 < 0x20000)
  {
    v5 = (v4 - 1) | ((v4 - 1) >> 1) | (((v4 - 1) | ((v4 - 1) >> 1)) >> 2);
    v6 = v5 | (v5 >> 4) | ((v5 | (v5 >> 4)) >> 8);
    v4 = (v6 | HIWORD(v6)) + 1;
  }

  *v2 = 0;
  *(v2 + 1) = 0;
  *(v2 + 4) = 0;
  *(v2 + 1) = xmmword_23A102B00;
  gfxInitializeBufferObject();
  gfxCreatePluginBuffer();
  WCMemory = allocateWCMemory(a1, 36671, 35002, v4, v3 + 166);
  if (WCMemory)
  {
    *(WCMemory + 48) = 0;
    *(WCMemory + 16) = 0u;
    *(WCMemory + 32) = 0u;
    *WCMemory = 0u;
    *(v3 + 18) = v4;
    *(v3 + 19) = 56;
    *(v3 + 17) = WCMemory;
  }

  else
  {
    free(v3);
    return 0;
  }

  return v3;
}

mach_vm_address_t allocateWCMemory(uint64_t a1, int a2, int a3, mach_vm_size_t size, BOOL *a5)
{
  v7 = 0;
  v8 = a1 + 28672;
  v9 = *MEMORY[0x277D85F48];
  address = 0;
  v11 = a3 == 35048 || (a3 & 0xFFFFFFFB) == 35040;
  if (a2 == 34962 && v11)
  {
    v12 = *(a1 + 29032);
    if (*(v12 + 101) && *(a1 + 32492) >= 6u)
    {
      v13 = *(v12 + 106);
      v7 = v13 != 0;
      if (v13)
      {
        v14 = 67371011;
        goto LABEL_15;
      }
    }

    else
    {
      v7 = 0;
    }
  }

  v14 = 17039363;
LABEL_15:
  *a5 = v7;
  if (mach_vm_allocate(v9, &address, size, 3))
  {
    if (*(v8 + 1160))
    {
      return 0;
    }

    result = 0;
    *(v8 + 1160) = 1285;
  }

  else
  {
    if (*a5)
    {
      object_handle = 0;
      sizea = size;
      if (mach_make_memory_entry_64(v9, &sizea, address, v14, &object_handle, 0))
      {
        v16 = 1;
      }

      else
      {
        v16 = object_handle == 0;
      }

      if (v16 || sizea < size)
      {
        if (object_handle)
        {
          mach_port_deallocate(v9, object_handle);
        }

        mach_vm_deallocate(v9, address, size);
        if (!*(v8 + 1160))
        {
          *(v8 + 1160) = 1285;
        }

        return 0;
      }

      mach_port_deallocate(v9, object_handle);
    }

    return address;
  }

  return result;
}

uint64_t glBufferData_Exec(uint64_t result, int a2, size_t a3, const void *a4, int a5)
{
  v9 = result;
  v10 = result + 28672;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 != 35982)
        {
          goto LABEL_49;
        }

        v11 = 19352;
        goto LABEL_25;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(result + 32501) & 0xFE) == 2)
        {
          goto LABEL_49;
        }

        v11 = 19368;
      }

      else
      {
        if (a2 != 36663 || (*(result + 32501) & 0xFE) == 2)
        {
          goto LABEL_49;
        }

        v11 = 19376;
      }

      goto LABEL_25;
    }

    v11 = 19344;
LABEL_25:
    v13 = (result + v11);
    goto LABEL_26;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v11 = 19328;
    }

    else
    {
      if (a2 != 35052)
      {
        goto LABEL_49;
      }

      v11 = 19336;
    }

    goto LABEL_25;
  }

  if (a2 == 34962)
  {
    v11 = 19312;
    goto LABEL_25;
  }

  if (a2 != 34963)
  {
    goto LABEL_49;
  }

  v12 = *(result + 26384);
  if (v12)
  {
    v13 = (v12 + 1232);
  }

  else
  {
    v13 = (result + 19320);
  }

LABEL_26:
  v14 = *v13;
  if (!*v13 || *(v14 + 292))
  {
    if (*(result + 29832))
    {
      return result;
    }

    v21 = 1282;
    goto LABEL_51;
  }

  if ((a3 & 0x8000000000000000) != 0)
  {
    if (*(result + 29832))
    {
      return result;
    }

    v21 = 1281;
    goto LABEL_51;
  }

  if ((a5 - 35040) > 0xA || ((1 << (a5 + 32)) & 0x777) == 0)
  {
LABEL_49:
    if (*(result + 29832))
    {
      return result;
    }

    v21 = 1280;
    goto LABEL_51;
  }

  if (*(v14 + 164))
  {
    return result;
  }

  (*(*(result + 29448) + 1024))(*(result + 29016), *(v14 + 40 + 8 * *(result + 32500)));
  gleOrphanBufferObject(v9, v14 + 40);
  v15 = gleAcquireBufferData(v9, v14 + 136, a3, a2, a5);
  gleApplyBufferData(v9, v14 + 40, v15);
  if (!a3)
  {
    goto LABEL_36;
  }

  result = *(v14 + 136);
  if (!result)
  {
    if (*(v10 + 1160))
    {
      return result;
    }

    v21 = 1285;
LABEL_51:
    *(v10 + 1160) = v21;
    return result;
  }

  if (a4)
  {
    memcpy(result, a4, a3);
    *(v14 + 167) = 1;
  }

LABEL_36:
  if (v9[3111])
  {
    v16 = 0;
    v17 = v9 + 2257;
    do
    {
      if (*(v9[3111] + v16) == v14)
      {
        gleTransferBufferBindingToGLD(v14, *(v9[3109] + v16), *(v9[3110] + v16), v17, v17 + 1, *(v9[3685] + 504), 1);
      }

      v17 += 2;
      v16 += 8;
    }

    while (v16 != 192);
  }

  if (*(v9[3304] + 168))
  {
    v18 = 0;
    v19 = v9 + 2253;
    do
    {
      v20 = (v9[3304] + v18);
      if (v20[16] == v14)
      {
        gleTransferBufferBindingToGLD(v14, v20[6], v20[11], v19 - 4, v19, 4, 4);
      }

      ++v19;
      v18 += 8;
    }

    while (v18 != 32);
  }

  return gleDirtyBufferObjectCurrentBindPoints(v9, v14 + 40);
}

uint64_t *gleAcquireBufferData(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5)
{
  v22 = 0;
  if (!a3)
  {
    v15 = 0;
    result = 0;
    v17 = 0;
    v18 = 0;
LABEL_21:
    *(a2 + 31) = 0;
    *(a2 + 8) = v18;
    *(a2 + 16) = a3;
    *(a2 + 24) = a5;
    *a2 = v17;
    *(a2 + 30) = v15;
    return result;
  }

  v10 = 0;
  v11 = a1 + 28672;
  v13 = a5 == 35048 || (a5 & 0xFFFFFFFB) == 35040;
  if (a4 == 34962 && v13)
  {
    v14 = *(a1 + 29032);
    v10 = *(v14 + 101) && *(a1 + 32492) >= 6u && *(v14 + 106) != 0;
  }

  result = gleGetFreeOrphanNode(a1, a3, a5, v10);
  if (result)
  {
    v17 = result[4];
    v18 = result[5];
    v15 = *(result + 50);
    goto LABEL_21;
  }

  v18 = (a3 + *(*(a1 + 29032) + 640) - 1) & -*(*(a1 + 29032) + 640);
  if (v18 < 0x20000)
  {
    v19 = (v18 - 1) | ((v18 - 1) >> 1) | (((v18 - 1) | ((v18 - 1) >> 1)) >> 2);
    v20 = v19 | (v19 >> 4) | ((v19 | (v19 >> 4)) >> 8);
    v18 = (v20 | HIWORD(v20)) + 1;
  }

  WCMemory = allocateWCMemory(a1, a4, a5, v18, &v22);
  if (WCMemory)
  {
    v17 = WCMemory;
    result = 0;
    v15 = v22;
    goto LABEL_21;
  }

  if (!*(v11 + 1160))
  {
    *(v11 + 1160) = 1285;
  }

  result = 0;
  *(a2 + 26) = 0;
  *(a2 + 30) = 0;
  *(a2 + 8) = 0;
  *(a2 + 16) = 0;
  *a2 = 0;
  return result;
}

void gleApplyBufferData(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a3)
  {
    gleBufferObjectAdoptOrphan(a1, a2, a3);
  }

  else
  {
    if (*(a2 + 112))
    {
      v4 = 5;
    }

    else
    {
      v4 = 1;
    }

    v5 = *(a1 + 32496);
    if (*(a1 + 32496))
    {
      v6 = (a2 + 264);
      do
      {
        *v6 |= v4;
        v6 += 2;
        --v5;
      }

      while (v5);
    }
  }

  *(a2 + 152) = 0;
}

void *glBufferData_PackThread(void *result, int a2, size_t a3, const void *a4, int a5)
{
  v8 = result;
  v9 = result + 3584;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 != 35982)
        {
          goto LABEL_42;
        }

        v10 = 3313;
        goto LABEL_25;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(result + 32501) & 0xFE) == 2)
        {
          goto LABEL_42;
        }

        v10 = 3315;
      }

      else
      {
        if (a2 != 36663 || (*(result + 32501) & 0xFE) == 2)
        {
          goto LABEL_42;
        }

        v10 = 3316;
      }

      goto LABEL_25;
    }

    v10 = 3312;
LABEL_25:
    v11 = &result[v10];
    goto LABEL_26;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v10 = 3310;
    }

    else
    {
      if (a2 != 35052)
      {
        goto LABEL_42;
      }

      v10 = 3311;
    }

    goto LABEL_25;
  }

  if (a2 == 34962)
  {
    v10 = 3308;
    goto LABEL_25;
  }

  if (a2 != 34963)
  {
    goto LABEL_42;
  }

  v11 = result[3306];
  if (!v11)
  {
    v11 = result + 3309;
  }

LABEL_26:
  v12 = *v11;
  if (!*v11)
  {
    if (*(result + 14916))
    {
      return result;
    }

    v19 = 1282;
    goto LABEL_44;
  }

  if ((a3 & 0x8000000000000000) != 0)
  {
    if (*(result + 14916))
    {
      return result;
    }

    v19 = 1281;
    goto LABEL_44;
  }

  if ((a5 - 35040) > 0xA || ((1 << (a5 + 32)) & 0x777) == 0)
  {
LABEL_42:
    if (*(result + 14916))
    {
      return result;
    }

    v19 = 1280;
    goto LABEL_44;
  }

  if (*(v12 + 28))
  {
    return result;
  }

  v13 = gleAcquireBufferData(result, v12, a3, a2, a5);
  if (!a3)
  {
    goto LABEL_35;
  }

  result = *v12;
  if (!*v12)
  {
    if (*(v9 + 580))
    {
      return result;
    }

    v19 = 1285;
LABEL_44:
    *(v9 + 580) = v19;
    return result;
  }

  if (a4)
  {
    memcpy(result, a4, a3);
    *(v12 + 31) = 1;
  }

LABEL_35:
  *(v12 + 56) = 0;
  result = gleAddCommand(v8, glBufferData_UnpackThread, 72);
  *(result + 16) = a2;
  v14 = *(v12 + 32);
  v15 = *(v12 + 48);
  v16 = *v12;
  *(result + 1) = *(v12 + 16);
  *(result + 2) = v14;
  *result = v16;
  result[6] = v15;
  result[7] = v13;
  if (a3)
  {
    v17 = a4 == 0;
  }

  else
  {
    v17 = 0;
  }

  v18 = v17;
  *(result + 68) = v18;
  return result;
}

uint64_t glBufferData_UnpackThread(uint64_t a1, __int128 *a2)
{
  v4 = 0;
  v5 = *(a2 + 16);
  if (v5 <= 35344)
  {
    if (v5 > 35050)
    {
      if (v5 == 35051)
      {
        v4 = *(a1 + 19328);
      }

      else if (v5 == 35052)
      {
        v4 = *(a1 + 19336);
      }
    }

    else if (v5 == 34962)
    {
      v4 = *(a1 + 19312);
    }

    else if (v5 == 34963)
    {
      v6 = *(a1 + 26384);
      if (v6)
      {
        v4 = *(v6 + 1232);
      }

      else
      {
        v4 = *(a1 + 19320);
      }
    }

    goto LABEL_26;
  }

  if (v5 <= 36333)
  {
    if (v5 != 35345)
    {
      if (v5 == 35982)
      {
        v4 = *(a1 + 19352);
      }

      goto LABEL_26;
    }

LABEL_19:
    v4 = *(a1 + 19344);
    goto LABEL_26;
  }

  if (v5 == 36334)
  {
    goto LABEL_19;
  }

  if (v5 != 36662)
  {
    if (v5 != 36663)
    {
      goto LABEL_26;
    }

    if ((*(a1 + 32501) & 0xFE) != 2)
    {
      v4 = *(a1 + 19376);
      goto LABEL_26;
    }

    goto LABEL_23;
  }

  if ((*(a1 + 32501) & 0xFE) == 2)
  {
LABEL_23:
    v4 = 0;
    goto LABEL_26;
  }

  v4 = *(a1 + 19368);
LABEL_26:
  gleOrphanBufferObject(a1, v4 + 40);
  v7 = *a2;
  v8 = a2[1];
  v9 = a2[2];
  *(v4 + 184) = *(a2 + 6);
  *(v4 + 168) = v9;
  *(v4 + 152) = v8;
  *(v4 + 136) = v7;
  gleApplyBufferData(a1, v4 + 40, *(a2 + 7));
  if (*(a1 + 24888))
  {
    v10 = 0;
    v11 = (a1 + 18056);
    do
    {
      if (*(*(a1 + 24888) + v10) == v4)
      {
        gleTransferBufferBindingToGLD(v4, *(*(a1 + 24872) + v10), *(*(a1 + 24880) + v10), v11, v11 + 1, *(*(a1 + 29480) + 504), 1);
      }

      v11 += 2;
      v10 += 8;
    }

    while (v10 != 192);
  }

  if (*(*(a1 + 26432) + 168))
  {
    v12 = 0;
    v13 = (a1 + 18024);
    do
    {
      v14 = (*(a1 + 26432) + v12);
      if (v14[16] == v4)
      {
        gleTransferBufferBindingToGLD(v4, v14[6], v14[11], v13 - 4, v13, 4, 4);
      }

      ++v13;
      v12 += 8;
    }

    while (v12 != 32);
  }

  gleDirtyBufferObjectCurrentBindPoints(a1, v4 + 40);
  return 72;
}

char *glBufferSubData_Exec(char *result, int a2, uint64_t a3, size_t a4, const void *a5)
{
  v8 = result;
  v9 = result + 28672;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 == 35982)
        {
          v10 = 19352;
          goto LABEL_28;
        }

        goto LABEL_24;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((result[32501] & 0xFE) != 2)
        {
          v10 = 19368;
          goto LABEL_28;
        }
      }

      else if (a2 == 36663 && (result[32501] & 0xFE) != 2)
      {
        v10 = 19376;
LABEL_28:
        v12 = &result[v10];
        goto LABEL_29;
      }

      goto LABEL_24;
    }

    v10 = 19344;
    goto LABEL_28;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v10 = 19328;
      goto LABEL_28;
    }

    if (a2 == 35052)
    {
      v10 = 19336;
      goto LABEL_28;
    }

LABEL_24:
    if (*(result + 14916))
    {
      return result;
    }

    v13 = 1280;
    goto LABEL_26;
  }

  if (a2 == 34962)
  {
    v10 = 19312;
    goto LABEL_28;
  }

  if (a2 != 34963)
  {
    goto LABEL_24;
  }

  v11 = *(result + 3298);
  if (v11)
  {
    v12 = (v11 + 1232);
  }

  else
  {
    v12 = result + 19320;
  }

LABEL_29:
  v14 = *v12;
  if (!*v12 || *(v14 + 292))
  {
    if (*(result + 14916))
    {
      return result;
    }

    v13 = 1282;
    goto LABEL_26;
  }

  if (((a4 | a3) & 0x8000000000000000) != 0)
  {
    goto LABEL_61;
  }

  if (!a4 || *(v14 + 164))
  {
    return result;
  }

  if (a4 + a3 > *(v14 + 152))
  {
LABEL_61:
    if (*(result + 14916))
    {
      return result;
    }

    v13 = 1281;
LABEL_26:
    *(result + 14916) = v13;
    return result;
  }

  v15 = v14 + 40;
  (*(*(result + 3681) + 1024))(*(result + 3627), *(v14 + 40 + 8 * result[32500]));
  if (*(v14 + 165) && !*(v14 + 192))
  {
    gfxWaitBufferOnDevices();
  }

  if (v9[3809] && (*(v14 + 165) || *(v8[3629] + 102)) && (result = (*(v8[3681] + 416))(v8[3627], *(v15 + 8 * v9[3827]), a3, a4, a5), result))
  {
    v16 = v8[3628];
    *(v14 + 167) = 0;
    *(v14 + 192) = v16;
    v17 = v8[3298];
    if (v17)
    {
      *(v17 + 1216) = 0;
    }
  }

  else
  {
    if (*(v14 + 192))
    {
      gleSynchronizeBufferOnCurrentDevices(v8, v14 + 40);
    }

    else if (*(v14 + 165))
    {
      (*(v8[3681] + 280))(v8[3627], 3, 0, *(v15 + 8 * v9[3827]));
    }

    *(v14 + 167) = 1;
    v18 = v9[3824];
    if (v9[3824])
    {
      v19 = (v14 + 304);
      do
      {
        *v19 |= 4u;
        v19 += 2;
        --v18;
      }

      while (v18);
    }

    gleDirtyBufferObjectCurrentBindPoints(v8, v14 + 40);
    v20 = (*(v14 + 136) + a3);

    return memcpy(v20, a5, a4);
  }

  return result;
}

char *glBufferSubData_PackThread(char *result, int a2, uint64_t a3, size_t a4, const void *a5)
{
  v9 = result;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 == 35982)
        {
          v10 = 26504;
          goto LABEL_28;
        }

        goto LABEL_24;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((result[32501] & 0xFE) != 2)
        {
          v10 = 26520;
          goto LABEL_28;
        }
      }

      else if (a2 == 36663 && (result[32501] & 0xFE) != 2)
      {
        v10 = 26528;
LABEL_28:
        v11 = &result[v10];
        goto LABEL_29;
      }

      goto LABEL_24;
    }

    v10 = 26496;
    goto LABEL_28;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v10 = 26480;
      goto LABEL_28;
    }

    if (a2 == 35052)
    {
      v10 = 26488;
      goto LABEL_28;
    }

LABEL_24:
    if (*(result + 14916))
    {
      return result;
    }

    v12 = 1280;
    goto LABEL_26;
  }

  if (a2 == 34962)
  {
    v10 = 26464;
    goto LABEL_28;
  }

  if (a2 != 34963)
  {
    goto LABEL_24;
  }

  v11 = *(result + 3306);
  if (!v11)
  {
    v11 = result + 26472;
  }

LABEL_29:
  v13 = *v11;
  if (!v13 || *(v13 + 56))
  {
    if (*(result + 14916))
    {
      return result;
    }

    v12 = 1282;
    goto LABEL_26;
  }

  if (((a4 | a3) & 0x8000000000000000) != 0)
  {
    goto LABEL_49;
  }

  if (!a4 || *(v13 + 28))
  {
    return result;
  }

  if (a4 + a3 > *(v13 + 16))
  {
LABEL_49:
    if (*(result + 14916))
    {
      return result;
    }

    v12 = 1281;
LABEL_26:
    *(result + 14916) = v12;
    return result;
  }

  v14 = gleAddLargeCommand(result, glBufferSubData_UnpackThread, a4 + 24);
  if (v14)
  {
    v15 = v14;
    *(v14 + 4) = a2;
    v16 = v14 + 3;
    *v15 = a3;
    v15[1] = a4;

    return memcpy(v16, a5, a4);
  }

  else
  {
    (*(v9 + 3469))(v9);

    return glBufferSubData_Exec(v9, a2, a3, a4, a5);
  }
}

uint64_t glMapBuffer_Exec(uint64_t a1, int a2, int a3)
{
  v4 = a1 + 28672;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 != 35982)
        {
          goto LABEL_34;
        }

        v5 = 19352;
        goto LABEL_25;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(a1 + 32501) & 0xFE) == 2)
        {
          goto LABEL_34;
        }

        v5 = 19368;
      }

      else
      {
        if (a2 != 36663 || (*(a1 + 32501) & 0xFE) == 2)
        {
          goto LABEL_34;
        }

        v5 = 19376;
      }

      goto LABEL_25;
    }

    v5 = 19344;
LABEL_25:
    v7 = (a1 + v5);
    goto LABEL_26;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v5 = 19328;
    }

    else
    {
      if (a2 != 35052)
      {
        goto LABEL_34;
      }

      v5 = 19336;
    }

    goto LABEL_25;
  }

  if (a2 == 34962)
  {
    v5 = 19312;
    goto LABEL_25;
  }

  if (a2 != 34963)
  {
    goto LABEL_34;
  }

  v6 = *(a1 + 26384);
  if (v6)
  {
    v7 = (v6 + 1232);
  }

  else
  {
    v7 = (a1 + 19320);
  }

LABEL_26:
  v8 = *v7;
  if (!*v7 || *(v8 + 292))
  {
    if (*(a1 + 29832))
    {
      return 0;
    }

    result = 0;
    v10 = 1282;
    goto LABEL_37;
  }

  if (a3 != 35001)
  {
LABEL_34:
    if (*(a1 + 29832))
    {
      return 0;
    }

    result = 0;
    v10 = 1280;
LABEL_37:
    *(v4 + 1160) = v10;
    return result;
  }

  if (*(v8 + 164))
  {
    return 0;
  }

  *(v8 + 292) = 1;
  *(v8 + 280) = *(v8 + 152);
  *(v8 + 288) = 2;
  *(v8 + 162) = -30535;
  (*(*(a1 + 29448) + 1024))(*(a1 + 29016), *(v8 + 40 + 8 * *(a1 + 32500)));
  if (*(v8 + 192) && !*(v8 + 167))
  {
    gleSynchronizeBufferOnCurrentDevices(a1, v8 + 40);
  }

  else if (*(v8 + 165))
  {
    (*(*(a1 + 29448) + 272))(*(a1 + 29016), 3, 0, *(v8 + 40 + 8 * *(v4 + 3827)));
    gfxWaitBufferOnDevices();
  }

  if (*(v4 + 3809) && !*(v8 + 294) && (*(v8 + 165) || *(*(a1 + 29032) + 102)))
  {
    LOBYTE(v11) = *(v8 + 167);
    if (v11)
    {
      v11 = (*(v8 + 8 * *(v4 + 3827) + 304) >> 2) & 1;
    }
  }

  else
  {
    LOBYTE(v11) = 1;
  }

  *(v8 + 298) = v11;
  return *(v8 + 136);
}

uint64_t gleNeedsFlushOnUnmap(uint64_t a1, _BYTE *a2)
{
  if (!*(a1 + 32481) || a2[294] || !a2[165] && !*(*(a1 + 29032) + 102))
  {
    return 1;
  }

  if (a2[167])
  {
    return (*&a2[8 * *(a1 + 32499) + 304] >> 2) & 1;
  }

  return 0;
}

uint64_t glMapBuffer_PackThread(uint64_t a1, int a2, int a3)
{
  v5 = a1 + 28672;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 != 35982)
        {
          goto LABEL_35;
        }

        v6 = 26504;
        goto LABEL_25;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(a1 + 32501) & 0xFE) == 2)
        {
          goto LABEL_35;
        }

        v6 = 26520;
      }

      else
      {
        if (a2 != 36663 || (*(a1 + 32501) & 0xFE) == 2)
        {
          goto LABEL_35;
        }

        v6 = 26528;
      }

      goto LABEL_25;
    }

    v6 = 26496;
LABEL_25:
    v7 = (a1 + v6);
    goto LABEL_26;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v6 = 26480;
    }

    else
    {
      if (a2 != 35052)
      {
        goto LABEL_35;
      }

      v6 = 26488;
    }

    goto LABEL_25;
  }

  if (a2 == 34962)
  {
    v6 = 26464;
    goto LABEL_25;
  }

  if (a2 != 34963)
  {
    goto LABEL_35;
  }

  v7 = *(a1 + 26448);
  if (!v7)
  {
    v7 = (a1 + 26472);
  }

LABEL_26:
  v8 = *v7;
  if (!*v7 || *(v8 + 56))
  {
    if (*(a1 + 29832))
    {
      return 0;
    }

    result = 0;
    v12 = 1282;
    goto LABEL_38;
  }

  if (a3 != 35001)
  {
LABEL_35:
    if (*(a1 + 29832))
    {
      return 0;
    }

    result = 0;
    v12 = 1280;
LABEL_38:
    *(v5 + 1160) = v12;
    return result;
  }

  if (*(v8 + 28))
  {
    return 0;
  }

  v9 = *(v8 + 57);
  if ((v9 & 0xA) != 0 || (v9 & 1) != 0 && *(v8 + 29) || !*v8)
  {
    (*(a1 + 27752))(a1);
    result = glMapBuffer_Exec(a1, a2, 35001);
  }

  else
  {
    v10 = gleAddCommand(a1, glMapBuffer_UnpackThread, 8);
    *v10 = a2;
    v10[1] = 35001;
    result = *v8;
  }

  *(v8 + 56) = 1;
  *(v8 + 26) = -30535;
  return result;
}

uint64_t glMapBuffer_UnpackThread(uint64_t a1, int *a2)
{
  v2 = 0;
  v3 = *a2;
  if (*a2 <= 35344)
  {
    if (v3 > 35050)
    {
      if (v3 == 35051)
      {
        v2 = *(a1 + 19328);
      }

      else if (v3 == 35052)
      {
        v2 = *(a1 + 19336);
      }
    }

    else if (v3 == 34962)
    {
      v2 = *(a1 + 19312);
    }

    else if (v3 == 34963)
    {
      v4 = *(a1 + 26384);
      if (v4)
      {
        v2 = *(v4 + 1232);
      }

      else
      {
        v2 = *(a1 + 19320);
      }
    }

    goto LABEL_26;
  }

  if (v3 <= 36333)
  {
    if (v3 != 35345)
    {
      if (v3 == 35982)
      {
        v2 = *(a1 + 19352);
      }

      goto LABEL_26;
    }

LABEL_19:
    v2 = *(a1 + 19344);
    goto LABEL_26;
  }

  if (v3 == 36334)
  {
    goto LABEL_19;
  }

  if (v3 != 36662)
  {
    if (v3 != 36663)
    {
      goto LABEL_26;
    }

    if ((*(a1 + 32501) & 0xFE) != 2)
    {
      v2 = *(a1 + 19376);
      goto LABEL_26;
    }

    goto LABEL_23;
  }

  if ((*(a1 + 32501) & 0xFE) == 2)
  {
LABEL_23:
    v2 = 0;
    goto LABEL_26;
  }

  v2 = *(a1 + 19368);
LABEL_26:
  LOBYTE(v5) = 1;
  *(v2 + 292) = 1;
  *(v2 + 280) = *(v2 + 152);
  *(v2 + 288) = a2[1] - 34999;
  *(v2 + 162) = a2[1];
  if (*(a1 + 32481))
  {
    if (!*(v2 + 294) && (*(v2 + 165) || *(*(a1 + 29032) + 102)))
    {
      LOBYTE(v5) = *(v2 + 167);
      if (v5)
      {
        v5 = (*(v2 + 8 * *(a1 + 32499) + 304) >> 2) & 1;
      }
    }

    else
    {
      LOBYTE(v5) = 1;
    }
  }

  *(v2 + 298) = v5;
  return 8;
}

uint64_t glUnmapBuffer_Exec(uint64_t a1, int a2)
{
  v2 = a1 + 28672;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 == 35982)
        {
          v3 = 19352;
          goto LABEL_29;
        }

        goto LABEL_24;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(a1 + 32501) & 0xFE) != 2)
        {
          v3 = 19368;
          goto LABEL_29;
        }
      }

      else if (a2 == 36663 && (*(a1 + 32501) & 0xFE) != 2)
      {
        v3 = 19376;
LABEL_29:
        v5 = (a1 + v3);
        goto LABEL_30;
      }

      goto LABEL_24;
    }

    v3 = 19344;
    goto LABEL_29;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v3 = 19328;
      goto LABEL_29;
    }

    if (a2 == 35052)
    {
      v3 = 19336;
      goto LABEL_29;
    }

LABEL_24:
    if (!*(a1 + 29832))
    {
      result = 0;
      v7 = 1280;
LABEL_27:
      *(v2 + 1160) = v7;
      return result;
    }

    return 0;
  }

  if (a2 == 34962)
  {
    v3 = 19312;
    goto LABEL_29;
  }

  if (a2 != 34963)
  {
    goto LABEL_24;
  }

  v4 = *(a1 + 26384);
  if (v4)
  {
    v5 = (v4 + 1232);
  }

  else
  {
    v5 = (a1 + 19320);
  }

LABEL_30:
  v8 = *v5;
  if (!*v5 || !*(v8 + 292))
  {
    if (!*(a1 + 29832))
    {
      result = 0;
      v7 = 1282;
      goto LABEL_27;
    }

    return 0;
  }

  glUnmapBuffer_Core(a1, v8);
  return 1;
}

uint64_t glUnmapBuffer_Core(uint64_t result, uint64_t a2)
{
  v3 = result;
  v4 = result + 28672;
  v5 = a2 + 40;
  if (*(a2 + 292) == 2)
  {
    if (*(a2 + 298))
    {
      if ((*(a2 + 288) & 0x12) == 2)
      {
        *(a2 + 298) = 0;
        result = (*(*(result + 29448) + 416))(*(result + 29016), *(v5 + 8 * *(result + 32499)), *(a2 + 272), *(a2 + 280), *(a2 + 136) + *(a2 + 272));
        if (!result)
        {
          *(a2 + 298) = 1;
        }
      }
    }

    *(a2 + 165) = *(a2 + 297);
    *(a2 + 294) = *(a2 + 296);
  }

  *(a2 + 272) = 0;
  *(a2 + 280) = 0;
  *(a2 + 285) = 0;
  if (*(a2 + 298))
  {
    *(a2 + 192) = 0;
    *(a2 + 167) = 1;
    v6 = *(v4 + 3824);
    if (*(v4 + 3824))
    {
      v7 = (a2 + 304);
      do
      {
        *v7 |= 4u;
        v7 += 2;
        --v6;
      }

      while (v6);
    }

    return gleDirtyBufferObjectCurrentBindPoints(v3, v5);
  }

  else
  {
    *(a2 + 192) = *(v3 + 29024);
    *(a2 + 167) = 1;
  }

  return result;
}

uint64_t glUnmapBuffer_PackThread(uint64_t a1, int a2)
{
  v2 = a1 + 28672;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 == 35982)
        {
          v3 = 26504;
          goto LABEL_29;
        }

        goto LABEL_24;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(a1 + 32501) & 0xFE) != 2)
        {
          v3 = 26520;
          goto LABEL_29;
        }
      }

      else if (a2 == 36663 && (*(a1 + 32501) & 0xFE) != 2)
      {
        v3 = 26528;
LABEL_29:
        v4 = (a1 + v3);
        goto LABEL_30;
      }

      goto LABEL_24;
    }

    v3 = 26496;
    goto LABEL_29;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v3 = 26480;
      goto LABEL_29;
    }

    if (a2 == 35052)
    {
      v3 = 26488;
      goto LABEL_29;
    }

LABEL_24:
    if (!*(a1 + 29832))
    {
      result = 0;
      v6 = 1280;
LABEL_27:
      *(v2 + 1160) = v6;
      return result;
    }

    return 0;
  }

  if (a2 == 34962)
  {
    v3 = 26464;
    goto LABEL_29;
  }

  if (a2 != 34963)
  {
    goto LABEL_24;
  }

  v4 = *(a1 + 26448);
  if (!v4)
  {
    v4 = (a1 + 26472);
  }

LABEL_30:
  v7 = *v4;
  if (!v7 || !*(v7 + 56))
  {
    if (!*(a1 + 29832))
    {
      result = 0;
      v6 = 1282;
      goto LABEL_27;
    }

    return 0;
  }

  *(v7 + 56) = 0;
  *gleAddCommand(a1, glUnmapBuffer_UnpackThread, 4) = a2;
  return 1;
}

uint64_t glUnmapBuffer_UnpackThread(uint64_t a1, int *a2)
{
  v3 = 0;
  v4 = *a2;
  if (v4 <= 35344)
  {
    if (v4 > 35050)
    {
      if (v4 == 35051)
      {
        v3 = *(a1 + 19328);
      }

      else if (v4 == 35052)
      {
        v3 = *(a1 + 19336);
      }
    }

    else if (v4 == 34962)
    {
      v3 = *(a1 + 19312);
    }

    else if (v4 == 34963)
    {
      v5 = *(a1 + 26384);
      if (v5)
      {
        v3 = *(v5 + 1232);
      }

      else
      {
        v3 = *(a1 + 19320);
      }
    }

    goto LABEL_26;
  }

  if (v4 <= 36333)
  {
    if (v4 != 35345)
    {
      if (v4 == 35982)
      {
        v3 = *(a1 + 19352);
      }

      goto LABEL_26;
    }

LABEL_19:
    v3 = *(a1 + 19344);
    goto LABEL_26;
  }

  switch(v4)
  {
    case 36334:
      goto LABEL_19;
    case 36662:
      if ((*(a1 + 32501) & 0xFE) != 2)
      {
        v3 = *(a1 + 19368);
        break;
      }

      goto LABEL_23;
    case 36663:
      if ((*(a1 + 32501) & 0xFE) != 2)
      {
        v3 = *(a1 + 19376);
        break;
      }

LABEL_23:
      v3 = 0;
      break;
  }

LABEL_26:
  glUnmapBuffer_Core(a1, v3);
  return 4;
}

uint64_t glGetBufferParameteriv_Exec(uint64_t a1, int a2, int a3, _DWORD *a4)
{
  v6 = 0;
  result = gleGetBufferParameterCore(a1, a2, a3, &v6);
  if (result)
  {
    *a4 = v6;
  }

  return result;
}

uint64_t gleGetBufferParameterCore(uint64_t a1, int a2, int a3, void *a4)
{
  v4 = a1 + 28672;
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 != 35982)
        {
          goto LABEL_40;
        }

        v5 = 19352;
        goto LABEL_25;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(a1 + 32501) & 0xFE) == 2)
        {
          goto LABEL_40;
        }

        v5 = 19368;
      }

      else
      {
        if (a2 != 36663 || (*(a1 + 32501) & 0xFE) == 2)
        {
          goto LABEL_40;
        }

        v5 = 19376;
      }

      goto LABEL_25;
    }

    v5 = 19344;
LABEL_25:
    v7 = (a1 + v5);
    goto LABEL_26;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v5 = 19328;
    }

    else
    {
      if (a2 != 35052)
      {
        goto LABEL_40;
      }

      v5 = 19336;
    }

    goto LABEL_25;
  }

  if (a2 == 34962)
  {
    v5 = 19312;
    goto LABEL_25;
  }

  if (a2 != 34963)
  {
    goto LABEL_40;
  }

  v6 = *(a1 + 26384);
  if (v6)
  {
    v7 = (v6 + 1232);
  }

  else
  {
    v7 = (a1 + 19320);
  }

LABEL_26:
  v8 = *v7;
  if (!v8)
  {
    if (*(a1 + 29832))
    {
      return 0;
    }

    result = 0;
    v11 = 1282;
    goto LABEL_43;
  }

  if (a3 <= 35345)
  {
    if (a3 > 35002)
    {
      if (a3 == 35003)
      {
        v9 = *(v8 + 162);
        goto LABEL_48;
      }

      if (a3 == 35004)
      {
        v9 = *(v8 + 292) != 0;
        goto LABEL_48;
      }
    }

    else
    {
      if (a3 == 34660)
      {
        v9 = *(v8 + 152);
        goto LABEL_48;
      }

      if (a3 == 34661)
      {
        v9 = *(v8 + 160);
        goto LABEL_48;
      }
    }

    goto LABEL_40;
  }

  if (a3 <= 37150)
  {
    goto LABEL_40;
  }

  if (a3 == 37151)
  {
    v9 = *(v8 + 288);
    goto LABEL_48;
  }

  if (a3 == 37152)
  {
    v9 = *(v8 + 280);
    goto LABEL_48;
  }

  if (a3 != 37153)
  {
LABEL_40:
    if (*(a1 + 29832))
    {
      return 0;
    }

    result = 0;
    v11 = 1280;
LABEL_43:
    *(v4 + 1160) = v11;
    return result;
  }

  v9 = *(v8 + 272);
LABEL_48:
  *a4 = v9;
  return 1;
}

uint64_t glGetBufferParameteriv_ExecThread(uint64_t a1, int a2, int a3, _DWORD *a4)
{
  (*(a1 + 27752))();
  v9 = 0;
  result = gleGetBufferParameterCore(a1, a2, a3, &v9);
  if (result)
  {
    *a4 = v9;
  }

  return result;
}

uint64_t glGetBufferParameteri64v_ExecThread(uint64_t a1, int a2, int a3, void *a4)
{
  (*(a1 + 27752))();

  return gleGetBufferParameterCore(a1, a2, a3, a4);
}

uint64_t glGetBufferPointerv_Exec(uint64_t result, int a2, int a3, void *a4)
{
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 != 35982)
        {
          goto LABEL_30;
        }

        v4 = 19352;
        goto LABEL_25;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(result + 32501) & 0xFE) == 2)
        {
          goto LABEL_30;
        }

        v4 = 19368;
      }

      else
      {
        if (a2 != 36663 || (*(result + 32501) & 0xFE) == 2)
        {
          goto LABEL_30;
        }

        v4 = 19376;
      }

      goto LABEL_25;
    }

    v4 = 19344;
LABEL_25:
    v6 = (result + v4);
    goto LABEL_26;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v4 = 19328;
    }

    else
    {
      if (a2 != 35052)
      {
        goto LABEL_30;
      }

      v4 = 19336;
    }

    goto LABEL_25;
  }

  if (a2 == 34962)
  {
    v4 = 19312;
    goto LABEL_25;
  }

  if (a2 != 34963)
  {
    goto LABEL_30;
  }

  v5 = *(result + 26384);
  if (v5)
  {
    v6 = (v5 + 1232);
  }

  else
  {
    v6 = (result + 19320);
  }

LABEL_26:
  v7 = *v6;
  if (!v7)
  {
    if (*(result + 29832))
    {
      return result;
    }

    v9 = 1282;
LABEL_33:
    *(result + 29832) = v9;
    return result;
  }

  if (a3 != 35005)
  {
LABEL_30:
    if (*(result + 29832))
    {
      return result;
    }

    v9 = 1280;
    goto LABEL_33;
  }

  if (*(v7 + 292))
  {
    v8 = *(v7 + 136) + *(v7 + 272);
  }

  else
  {
    v8 = 0;
  }

  *a4 = v8;
  return result;
}

uint64_t glGetBufferPointerv_ExecThread(uint64_t a1, int a2, int a3, void *a4)
{
  (*(a1 + 27752))();

  return glGetBufferPointerv_Exec(a1, a2, a3, a4);
}

void glBindBufferRange_Exec(uint64_t a1, int a2, unsigned int a3, int a4, uint64_t a5, uint64_t a6)
{
  if (a2 != 35982)
  {
    if (a2 != 35345)
    {
      if (*(a1 + 29832))
      {
        return;
      }

      v13 = 1280;
      goto LABEL_15;
    }

    v12 = *(a1 + 29480);
    if (*(v12 + 506) > a3 && a6 >= 1 && ((*(v12 + 504) - 1) & a5) == 0)
    {
      goto LABEL_20;
    }

LABEL_8:
    if (*(a1 + 29832))
    {
      return;
    }

    v13 = 1281;
LABEL_15:
    *(a1 + 29832) = v13;
    return;
  }

  if (a3 >= 4)
  {
    goto LABEL_8;
  }

  if (*(*(a1 + 26432) + 42) != -1)
  {
    if (*(a1 + 29832))
    {
      return;
    }

    v13 = 1282;
    goto LABEL_15;
  }

  if (a4 && (a6 < 1 || ((a6 | a5) & 3) != 0))
  {
    goto LABEL_8;
  }

LABEL_20:
  os_unfair_lock_lock((*(a1 + 19296) + 324));
  if (a4 && !gleLookupHashObject(*(a1 + 19296) + 264, a4))
  {
    if (!*(a1 + 29832))
    {
      *(a1 + 29832) = 1281;
    }

    v14 = (*(a1 + 19296) + 324);

    os_unfair_lock_unlock(v14);
  }

  else
  {
    gleBindBufferObject(a1, a2, a4);
    os_unfair_lock_unlock((*(a1 + 19296) + 324));

    gleBindBufferRange(a1, a2, a3, a5, a6);
  }
}

void gleBindBufferRange(uint64_t a1, int a2, unsigned int a3, uint64_t a4, uint64_t a5)
{
  v9 = a1 + 28652;
  if (a2 == 35982)
  {
    v10 = *(a1 + 26432) + 128;
    v11 = *(v10 + 8 * a3);
    v12 = *(a1 + 19352);
    v13 = 1 << a3;
    v14 = (a1 + 8 * a3);
    if (v12)
    {
      *(v10 + 8 * a3) = v12;
      *(*(a1 + 26432) + 168) |= v13;
      ++*(v12 + 20);
      v15 = *(v9 + 3844);
      if (*(v9 + 3844))
      {
        v16 = (v12 + 40);
        v17 = v14 + 4194;
        do
        {
          v18 = *v16++;
          *v17 = v18;
          v17 += 209;
          --v15;
        }

        while (v15);
      }
    }

    else
    {
      *(v10 + 8 * a3) = 0;
      *(*(a1 + 26432) + 168) &= ~v13;
      v30 = *(v9 + 3844);
      if (*(v9 + 3844))
      {
        v31 = (v30 + 1) & 0x1FE;
        v32 = vdupq_n_s64(v30 - 1);
        v33 = v14 + 4194;
        v34 = xmmword_23A102AE0;
        v35 = vdupq_n_s64(2uLL);
        do
        {
          v36 = vmovn_s64(vcgeq_u64(v32, v34));
          if (v36.i8[0])
          {
            *v33 = 0;
          }

          if (v36.i8[4])
          {
            v33[209] = 0;
          }

          v34 = vaddq_s64(v34, v35);
          v33 += 418;
          v31 -= 2;
        }

        while (v31);
      }

      a4 = 0;
      a5 = 0;
    }

    *(*(a1 + 26432) + 8 * a3 + 48) = a4;
    *(*(a1 + 26432) + 8 * a3 + 88) = a5;
    v37 = *(a1 + 26432) + 8 * a3;
    gleTransferBufferBindingToGLD(v12, *(v37 + 48), *(v37 + 88), v14 + 2249, v14 + 2253, 4, 4);
    *v9 = 0;
    v38 = 0x40000000;
    v39 = 1524;
    goto LABEL_37;
  }

  v19 = *(a1 + 24888);
  if (!v19)
  {
    v20 = malloc_type_calloc(0x18uLL, 8uLL, 0x8B91BE10uLL);
    if (!v20 || (*(a1 + 24872) = v20, (v21 = malloc_type_calloc(0x18uLL, 8uLL, 0x8B91BE10uLL)) == 0) || (*(a1 + 24880) = v21, (v22 = malloc_type_calloc(0x18uLL, 8uLL, 0x8B91BE10uLL)) == 0))
    {
      abort();
    }

    v19 = v22;
    *(a1 + 24888) = v22;
  }

  v11 = v19[a3];
  v23 = *(a1 + 19344);
  v24 = 1 << a3;
  if (v23)
  {
    v19[a3] = v23;
    *(a1 + 8 * (a3 >> 6) + 24896) |= v24;
    v25 = *(a1 + 24872);
    *(v25 + 8 * a3) = a4;
    *(*(a1 + 24880) + 8 * a3) = a5;
    ++*(v23 + 20);
    v26 = *(v9 + 3844);
    if (*(v9 + 3844))
    {
      v27 = (v23 + 40);
      v28 = (a1 + 8 * a3 + 33704);
      do
      {
        v29 = *v27++;
        *v28 = v29;
        v28 += 209;
        --v26;
      }

      while (v26);
    }
  }

  else
  {
    v19[a3] = 0;
    *(a1 + 8 * (a3 >> 6) + 24896) &= ~v24;
    v25 = *(a1 + 24872);
    *(v25 + 8 * a3) = 0;
    *(*(a1 + 24880) + 8 * a3) = 0;
    v40 = *(v9 + 3844);
    if (*(v9 + 3844))
    {
      v41 = (v40 + 1) & 0x1FE;
      v42 = vdupq_n_s64(v40 - 1);
      v43 = (a1 + 8 * a3 + 33704);
      v44 = xmmword_23A102AE0;
      v45 = vdupq_n_s64(2uLL);
      do
      {
        v46 = vmovn_s64(vcgeq_u64(v42, v44));
        if (v46.i8[0])
        {
          *v43 = 0;
        }

        if (v46.i8[4])
        {
          v43[209] = 0;
        }

        v44 = vaddq_s64(v44, v45);
        v43 += 418;
        v41 -= 2;
      }

      while (v41);
    }

    a5 = 0;
  }

  gleTransferBufferBindingToGLD(v23, *(v25 + 8 * a3), a5, (a1 + 16 * a3 + 18056), (a1 + 16 * a3 + 18064), *(*(a1 + 29480) + 504), 1);
  *v9 = 0;
  *(a1 + 1532) |= 0x20000000u;
  v47 = *(a1 + 24768);
  if (v47 && *(v47 + 3780))
  {
    v38 = 512;
    v39 = 1548;
LABEL_37:
    *(a1 + v39) |= v38;
  }

  if (v11)
  {
    v48 = *(v11 + 20) - 1;
    *(v11 + 20) = v48;
    if (!v48)
    {

      gleUnbindAndFreeBufferObject(a1, v11);
    }
  }
}

void glBindBufferBase_Exec(uint64_t a1, int a2, unsigned int a3, int a4)
{
  if (a2 != 35982)
  {
    if (a2 != 35345)
    {
      if (*(a1 + 29832))
      {
        return;
      }

      v8 = 1280;
      goto LABEL_13;
    }

    if (*(*(a1 + 29480) + 506) > a3)
    {
      goto LABEL_15;
    }

LABEL_6:
    if (*(a1 + 29832))
    {
      return;
    }

    v8 = 1281;
LABEL_13:
    *(a1 + 29832) = v8;
    return;
  }

  if (a3 >= 4)
  {
    goto LABEL_6;
  }

  if (*(*(a1 + 26432) + 42) != -1)
  {
    if (*(a1 + 29832))
    {
      return;
    }

    v8 = 1282;
    goto LABEL_13;
  }

LABEL_15:
  os_unfair_lock_lock((*(a1 + 19296) + 324));
  gleBindBufferObject(a1, a2, a4);
  os_unfair_lock_unlock((*(a1 + 19296) + 324));

  gleBindBufferRange(a1, a2, a3, 0, 0);
}

void glBindBufferRange_PackThread(uint64_t a1, int a2, unsigned int a3, int a4, uint64_t a5, uint64_t a6)
{
  if (a2 == 35982)
  {
    if (a3 < 4)
    {
      if (*(*(a1 + 26432) + 42) != -1)
      {
        if (*(a1 + 29832))
        {
          return;
        }

        v13 = 1282;
        goto LABEL_16;
      }

      if (!a4)
      {
LABEL_23:
        gleBindBufferObject_Thread(a1, a2, a4);
        v14 = gleAddCommand(a1, glBindBufferRange_UnpackThread, 24);
        *v14 = a2;
        *(v14 + 1) = a3;
        v14[1] = a5;
        v14[2] = a6;
        return;
      }

      if (a6 >= 1 && ((a6 | a5) & 3) == 0)
      {
        goto LABEL_21;
      }
    }

    goto LABEL_9;
  }

  if (a2 != 35345)
  {
    if (*(a1 + 29832))
    {
      return;
    }

    v13 = 1280;
    goto LABEL_16;
  }

  v12 = *(a1 + 29480);
  if (*(v12 + 506) <= a3 || a6 < 1 || ((*(v12 + 504) - 1) & a5) != 0)
  {
LABEL_9:
    if (*(a1 + 29832))
    {
      return;
    }

    v13 = 1281;
LABEL_16:
    *(a1 + 29832) = v13;
    return;
  }

  if (!a4)
  {
    goto LABEL_23;
  }

LABEL_21:
  os_unfair_lock_lock((*(a1 + 19296) + 324));
  if (gleLookupHashObject(*(a1 + 19296) + 264, a4))
  {
    os_unfair_lock_unlock((*(a1 + 19296) + 324));
    goto LABEL_23;
  }

  if (!*(a1 + 29832))
  {
    *(a1 + 29832) = 1281;
  }

  v15 = (*(a1 + 19296) + 324);

  os_unfair_lock_unlock(v15);
}

void *glBindBufferBase_PackThread(void *result, int a2, unsigned int a3, int a4)
{
  v6 = result;
  if (a2 != 35982)
  {
    if (a2 != 35345)
    {
      if (*(result + 14916))
      {
        return result;
      }

      v7 = 1280;
      goto LABEL_13;
    }

    if (*(result[3685] + 506) > a3)
    {
      goto LABEL_14;
    }

LABEL_6:
    if (*(result + 14916))
    {
      return result;
    }

    v7 = 1281;
LABEL_13:
    *(result + 14916) = v7;
    return result;
  }

  if (a3 >= 4)
  {
    goto LABEL_6;
  }

  if (*(result[3304] + 42) != -1)
  {
    if (*(result + 14916))
    {
      return result;
    }

    v7 = 1282;
    goto LABEL_13;
  }

LABEL_14:
  gleBindBufferObject_Thread(result, a2, a4);
  result = gleAddCommand(v6, glBindBufferRange_UnpackThread, 24);
  *result = a2;
  *(result + 1) = a3;
  result[1] = 0;
  result[2] = 0;
  return result;
}

uint64_t glCopyBufferSubData_Exec(uint64_t result, int a2, int a3, uint64_t a4, uint64_t a5, size_t a6)
{
  v6 = 0;
  v7 = 0;
  if (a2 <= 35344)
  {
    if (a2 > 35050)
    {
      if (a2 == 35051)
      {
        v6 = *(result + 19328);
      }

      else
      {
        if (a2 != 35052)
        {
          goto LABEL_27;
        }

        v6 = *(result + 19336);
      }
    }

    else if (a2 == 34962)
    {
      v6 = *(result + 19312);
    }

    else
    {
      if (a2 != 34963)
      {
        goto LABEL_27;
      }

      v8 = *(result + 26384);
      if (v8)
      {
        v6 = *(v8 + 1232);
      }

      else
      {
        v6 = *(result + 19320);
      }
    }

    goto LABEL_26;
  }

  if (a2 <= 36333)
  {
    if (a2 != 35345)
    {
      if (a2 != 35982)
      {
        goto LABEL_27;
      }

      v6 = *(result + 19352);
      goto LABEL_26;
    }

    goto LABEL_19;
  }

  if (a2 == 36334)
  {
LABEL_19:
    v6 = *(result + 19344);
    goto LABEL_26;
  }

  if (a2 == 36662)
  {
    if ((*(result + 32501) & 0xFE) != 2)
    {
      v6 = *(result + 19368);
      goto LABEL_26;
    }

LABEL_23:
    v7 = 0;
    v6 = 0;
    goto LABEL_27;
  }

  if (a2 != 36663)
  {
    goto LABEL_27;
  }

  if ((*(result + 32501) & 0xFE) == 2)
  {
    goto LABEL_23;
  }

  v6 = *(result + 19376);
LABEL_26:
  v7 = 1;
LABEL_27:
  if (a3 > 35344)
  {
    if (a3 <= 36333)
    {
      if (a3 != 35345)
      {
        if (a3 != 35982)
        {
          goto LABEL_50;
        }

        v9 = 19352;
        goto LABEL_53;
      }
    }

    else if (a3 != 36334)
    {
      if (a3 != 36662)
      {
        if (a3 != 36663 || (*(result + 32501) & 0xFE) == 2)
        {
          goto LABEL_50;
        }

        v9 = 19376;
        goto LABEL_53;
      }

      if ((*(result + 32501) & 0xFE) == 2)
      {
LABEL_50:
        if (*(result + 29832))
        {
          return result;
        }

        v12 = 1280;
        goto LABEL_62;
      }

      v9 = 19368;
LABEL_53:
      v11 = (result + v9);
      goto LABEL_54;
    }

    v9 = 19344;
    goto LABEL_53;
  }

  if (a3 > 35050)
  {
    if (a3 == 35051)
    {
      v9 = 19328;
    }

    else
    {
      if (a3 != 35052)
      {
        goto LABEL_50;
      }

      v9 = 19336;
    }

    goto LABEL_53;
  }

  if (a3 == 34962)
  {
    v9 = 19312;
    goto LABEL_53;
  }

  if (a3 != 34963)
  {
    goto LABEL_50;
  }

  v10 = *(result + 26384);
  if (v10)
  {
    v11 = (v10 + 1232);
  }

  else
  {
    v11 = (result + 19320);
  }

LABEL_54:
  if ((v7 & 1) == 0)
  {
    goto LABEL_50;
  }

  if (!v6 || (v13 = *v11) == 0 || *(v6 + 292) || *(v13 + 292))
  {
    if (*(result + 29832))
    {
      return result;
    }

    v12 = 1282;
LABEL_62:
    *(result + 29832) = v12;
    return result;
  }

  if (((a5 | a4 | a6) & 0x8000000000000000) != 0 || a6 + a4 > *(v6 + 152) || a6 + a5 > *(v13 + 152) || (a6 + a4) > a5 && (a6 + a5) > a4 && v6 == v13)
  {
    if (!*(result + 29832))
    {
      v12 = 1281;
      goto LABEL_62;
    }
  }

  else if (!*(v6 + 164) && !*(v13 + 164))
  {
    return glCopyBufferSubData_Core(result, v6 + 40, v13 + 40, a4, a5, a6);
  }

  return result;
}

uint64_t glCopyBufferSubData_Core(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, size_t a6)
{
  v12 = a1 + 3584;
  if (!*(a3 + 152))
  {
    gfxWaitBufferOnDevices();
  }

  result = (*(a1[3681] + 424))(a1[3627], *(a2 + 8 * *(v12 + 3827)), *(a3 + 8 * *(v12 + 3827)), a4, a5, a6);
  if (result)
  {
    goto LABEL_9;
  }

  v14 = *(a2 + 96);
  if (*(a2 + 152))
  {
    gleSynchronizeBufferOnCurrentDevicesForRead(a1, a2);
  }

  if ((*(a3 + 125) || *(a1[3629] + 102)) && (result = (*(a1[3681] + 416))(a1[3627], *(a3 + 8 * *(v12 + 3827)), a5, a6, v14 + a4), result))
  {
LABEL_9:
    v15 = a1[3628];
    *(a3 + 127) = 0;
    *(a3 + 152) = v15;
    v16 = a1[3298];
    if (v16)
    {
      *(v16 + 1216) = 0;
    }
  }

  else
  {
    v17 = *(a3 + 96);
    if (*(a3 + 152))
    {
      gleSynchronizeBufferOnCurrentDevices(a1, a3);
    }

    else if (*(a3 + 125))
    {
      (*(a1[3681] + 280))(a1[3627], 3, 0, *(a3 + 8 * *(v12 + 3827)));
    }

    memcpy((v17 + a5), (v14 + a4), a6);
    *(a3 + 127) = 1;
    v18 = *(v12 + 3824);
    if (*(v12 + 3824))
    {
      v19 = (a3 + 264);
      do
      {
        *v19 |= 4u;
        v19 += 2;
        --v18;
      }

      while (v18);
    }

    return gleDirtyBufferObjectCurrentBindPoints(a1, a3);
  }

  return result;
}

void *glCopyBufferSubData_PackThread(uint64_t a1, int a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  result = gleAddCommand(a1, glCopyBufferSubData_UnpackThread, 32);
  *result = a2;
  *(result + 1) = a3;
  result[1] = a4;
  result[2] = a5;
  result[3] = a6;
  return result;
}

uint64_t glMapBufferRange_Exec(uint64_t a1, int a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v9 = a1 + 28672;
  if (*(a1 + 32492) <= 8u)
  {
    v10 = a5 & 0xFFFFFFF7;
  }

  else
  {
    v10 = a5;
  }

  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 == 35982)
        {
          v11 = 19352;
          goto LABEL_30;
        }

        goto LABEL_27;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(a1 + 32501) & 0xFE) != 2)
        {
          v11 = 19368;
          goto LABEL_30;
        }
      }

      else if (a2 == 36663 && (*(a1 + 32501) & 0xFE) != 2)
      {
        v11 = 19376;
LABEL_30:
        v13 = (a1 + v11);
        goto LABEL_31;
      }

      goto LABEL_27;
    }

    v11 = 19344;
    goto LABEL_30;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v11 = 19328;
      goto LABEL_30;
    }

    if (a2 == 35052)
    {
      v11 = 19336;
      goto LABEL_30;
    }

LABEL_27:
    if (!*(a1 + 29832))
    {
      v14 = 0;
      v15 = 1280;
LABEL_45:
      *(v9 + 1160) = v15;
      return v14;
    }

    return 0;
  }

  if (a2 == 34962)
  {
    v11 = 19312;
    goto LABEL_30;
  }

  if (a2 != 34963)
  {
    goto LABEL_27;
  }

  v12 = *(a1 + 26384);
  if (v12)
  {
    v13 = (v12 + 1232);
  }

  else
  {
    v13 = (a1 + 19320);
  }

LABEL_31:
  v16 = *v13;
  if (!*v13 || *(v16 + 292))
  {
    goto LABEL_40;
  }

  if ((a4 | a3) < 0 || (v17 = *(v16 + 152), a4 + a3 > v17) || v10 >= 0x40)
  {
    if (!*(a1 + 29832))
    {
      v14 = 0;
      v15 = 1281;
      goto LABEL_45;
    }

    return 0;
  }

  if ((v10 & 3) == 0 || (v10 & 1) != 0 && (v10 & 0x2C) != 0 || (v10 & 0x12) == 0x10)
  {
LABEL_40:
    if (!*(a1 + 29832))
    {
      v14 = 0;
      v15 = 1282;
      goto LABEL_45;
    }

    return 0;
  }

  if (*(v16 + 164))
  {
    return 0;
  }

  v19 = *(v16 + 136);
  if (!v19 || !*(v16 + 144))
  {
    goto LABEL_40;
  }

  v20 = v16 + 40;
  v21 = 1;
  if (a4 && (v10 & 0xC) != 0)
  {
    if (v17 == a4)
    {
      v22 = 8;
    }

    else
    {
      v22 = v10;
    }

    if ((v10 & 4) == 0)
    {
      v22 = v10;
    }

    if ((v22 & 8) != 0)
    {
      v23 = *(v16 + 160);
      gleOrphanBufferObject(a1, v16 + 40);
      v24 = gleAcquireBufferData(a1, v16 + 136, v17, a2, v23);
      gleApplyBufferData(a1, v16 + 40, v24);
      gleDirtyBufferObjectCurrentBindPoints(a1, v16 + 40);
      v19 = *(v16 + 136);
      if (v19)
      {
        v21 = 0;
        goto LABEL_60;
      }

      if (!*(v9 + 1160))
      {
        v14 = 0;
        v15 = 1285;
        goto LABEL_45;
      }

      return 0;
    }
  }

LABEL_60:
  v14 = v19 + a3;
  if (v10)
  {
    if ((v10 & 2) != 0)
    {
      v25 = -30534;
    }

    else
    {
      v25 = -30536;
    }
  }

  else
  {
    if ((v10 & 2) == 0)
    {
      goto LABEL_67;
    }

    v25 = -30535;
  }

  *(v16 + 162) = v25;
LABEL_67:
  *(v16 + 297) = *(v16 + 165);
  *(v16 + 296) = *(v16 + 294);
  *(v16 + 165) = v10 < 0x20;
  *(v16 + 294) = (v10 & 0x10) == 0;
  *(v16 + 292) = 2;
  *(v16 + 272) = a3;
  *(v16 + 280) = a4;
  *(v16 + 288) = v10;
  *(v16 + 298) = gleNeedsFlushOnUnmap(a1, v16);
  if (v21)
  {
    (*(*(a1 + 29448) + 1024))(*(a1 + 29016), *(v20 + 8 * *(v9 + 3828)));
    if (*(v16 + 192) && !*(v16 + 167))
    {
      gleSynchronizeBufferOnCurrentDevices(a1, v16 + 40);
    }

    else if (*(v16 + 165))
    {
      (*(*(a1 + 29448) + 272))(*(a1 + 29016), 3, 0, *(v20 + 8 * *(v9 + 3827)));
      gfxWaitBufferOnDevices();
    }
  }

  return v14;
}

uint64_t glFlushMappedBufferRange_Exec(uint64_t result, int a2, uint64_t a3, uint64_t a4)
{
  if (a2 > 35344)
  {
    if (a2 <= 36333)
    {
      if (a2 != 35345)
      {
        if (a2 == 35982)
        {
          v4 = 19352;
          goto LABEL_27;
        }

        goto LABEL_24;
      }
    }

    else if (a2 != 36334)
    {
      if (a2 == 36662)
      {
        if ((*(result + 32501) & 0xFE) != 2)
        {
          v4 = 19368;
          goto LABEL_27;
        }
      }

      else if (a2 == 36663 && (*(result + 32501) & 0xFE) != 2)
      {
        v4 = 19376;
LABEL_27:
        v6 = (result + v4);
        goto LABEL_28;
      }

      goto LABEL_24;
    }

    v4 = 19344;
    goto LABEL_27;
  }

  if (a2 > 35050)
  {
    if (a2 == 35051)
    {
      v4 = 19328;
      goto LABEL_27;
    }

    if (a2 == 35052)
    {
      v4 = 19336;
      goto LABEL_27;
    }
  }

  else
  {
    if (a2 == 34962)
    {
      v4 = 19312;
      goto LABEL_27;
    }

    if (a2 == 34963)
    {
      v5 = *(result + 26384);
      if (v5)
      {
        v6 = (v5 + 1232);
      }

      else
      {
        v6 = (result + 19320);
      }

LABEL_28:
      v7 = *v6;
      if (*v6 && *(v7 + 292) && !*(v7 + 294))
      {
        if (((a4 | a3) & 0x8000000000000000) == 0 && (a4 + a3) <= *(v7 + 280))
        {
          if (a4 && !*(v7 + 164) && !*(v7 + 298))
          {
            result = (*(*(result + 29448) + 416))(*(result + 29016), *(v7 + 40 + 8 * *(result + 32499)));
            if (!result)
            {
              *(v7 + 298) = 1;
            }
          }

          return result;
        }

        if (*(result + 29832))
        {
          return result;
        }

        v8 = 1281;
      }

      else
      {
        if (*(result + 29832))
        {
          return result;
        }

        v8 = 1282;
      }

      *(result + 29832) = v8;
      return result;
    }
  }

LABEL_24:
  if (!*(result + 29832))
  {
    *(result + 29832) = 1280;
  }

  return result;
}

uint64_t glMapBufferRange_ExecThread(uint64_t a1, int a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  v10 = 0;
  v11 = 0;
  v12 = a1 + 28672;
  if (a2 <= 35344)
  {
    if (a2 > 35050)
    {
      if (a2 == 35051)
      {
        v10 = *(a1 + 26480);
        goto LABEL_26;
      }

      if (a2 == 35052)
      {
        v10 = *(a1 + 26488);
        goto LABEL_26;
      }
    }

    else
    {
      if (a2 == 34962)
      {
        v10 = *(a1 + 26464);
        goto LABEL_26;
      }

      if (a2 == 34963)
      {
        v13 = *(a1 + 26448);
        if (v13)
        {
          v10 = *v13;
        }

        else
        {
          v10 = *(a1 + 26472);
        }

        goto LABEL_26;
      }
    }

    goto LABEL_27;
  }

  if (a2 <= 36333)
  {
    if (a2 != 35345)
    {
      if (a2 == 35982)
      {
        v10 = *(a1 + 26504);
        goto LABEL_26;
      }

      goto LABEL_27;
    }

LABEL_19:
    v10 = *(a1 + 26496);
    goto LABEL_26;
  }

  switch(a2)
  {
    case 36334:
      goto LABEL_19;
    case 36662:
      if ((*(a1 + 32501) & 0xFE) != 2)
      {
        v10 = *(a1 + 26520);
        goto LABEL_26;
      }

LABEL_23:
      v11 = 0;
      v10 = 0;
      break;
    case 36663:
      if ((*(a1 + 32501) & 0xFE) != 2)
      {
        v10 = *(a1 + 26528);
LABEL_26:
        v11 = 1;
        break;
      }

      goto LABEL_23;
  }

LABEL_27:
  if (a4 && (a5 & 8) != 0)
  {
    if ((v11 & 1) == 0)
    {
      if (!*(a1 + 29832))
      {
        result = 0;
        v15 = 1280;
        goto LABEL_51;
      }

      return 0;
    }

    if (v10 && !*(v10 + 56))
    {
      if ((a4 | a3) < 0 || (a4 + a3) > *(v10 + 16) || a5 >= 0x40)
      {
        if (!*(a1 + 29832))
        {
          result = 0;
          v15 = 1281;
          goto LABEL_51;
        }

        return 0;
      }

      if ((a5 & 3) != 0 && (a5 & 1) == 0 && (a5 & 0x12) != 0x10)
      {
        if (*(v10 + 28))
        {
          return 0;
        }

        if (*v10 && *(v10 + 8))
        {
          v21 = gleAddCommand(a1, glMapBufferRange_UnpackThread, 96);
          *(v21 + 16) = a2;
          *(v21 + 17) = a5;
          v21[9] = a3;
          v21[10] = a4;
          v21[7] = gleAcquireBufferData(a1, v10, *(v10 + 16), a2, *(v10 + 24));
          *(v10 + 26) = -30535;
          v22 = *v10;
          v23 = *(v10 + 16);
          v24 = *(v10 + 32);
          v21[6] = *(v10 + 48);
          *(v21 + 1) = v23;
          *(v21 + 2) = v24;
          *v21 = v22;
          v25 = *v10;
          if (*v10)
          {
            *(v21 + 88) = 2;
            result = v25 + a3;
            *(v10 + 56) = 2;
            return result;
          }

          if (!*(v12 + 1160))
          {
            result = 0;
            v15 = 1285;
            goto LABEL_51;
          }

          return 0;
        }
      }
    }

    if (!*(a1 + 29832))
    {
      result = 0;
      v15 = 1282;
LABEL_51:
      *(v12 + 1160) = v15;
      return result;
    }

    return 0;
  }

  (*(a1 + 27752))(a1);
  result = glMapBufferRange_Exec(a1, a2, a3, a4, a5);
  if (result)
  {
    if (a2 <= 35344)
    {
      if (a2 > 35050)
      {
        v16 = a2 == 35051;
        v17 = (a1 + 19328);
        v18 = 19336;
LABEL_53:
        v20 = (a1 + v18);
        if (!v16)
        {
          v17 = v20;
        }

        goto LABEL_68;
      }

      if (a2 != 34962)
      {
        v26 = *(a1 + 26384);
        if (v26)
        {
          v17 = (v26 + 1232);
        }

        else
        {
          v17 = (a1 + 19320);
        }

        goto LABEL_68;
      }

      v19 = 19312;
    }

    else
    {
      if (a2 <= 36333)
      {
        if (a2 != 35345)
        {
          v19 = 19352;
          goto LABEL_67;
        }
      }

      else if (a2 != 36334)
      {
        v16 = a2 == 36662;
        v17 = (a1 + 19368);
        v18 = 19376;
        goto LABEL_53;
      }

      v19 = 19344;
    }

LABEL_67:
    v17 = (a1 + v19);
LABEL_68:
    v27 = *v17;
    *(v10 + 56) = 2;
    *(v10 + 26) = *(v27 + 162);
  }

  return result;
}

uint64_t glMapBufferRange_UnpackThread(uint64_t a1, __int128 *a2)
{
  v4 = 0;
  v5 = a1 + 28672;
  v6 = *(a2 + 16);
  if (v6 <= 35344)
  {
    if (v6 > 35050)
    {
      if (v6 == 35051)
      {
        v4 = *(a1 + 19328);
      }

      else if (v6 == 35052)
      {
        v4 = *(a1 + 19336);
      }
    }

    else if (v6 == 34962)
    {
      v4 = *(a1 + 19312);
    }

    else if (v6 == 34963)
    {
      v7 = *(a1 + 26384);
      if (v7)
      {
        v4 = *(v7 + 1232);
      }

      else
      {
        v4 = *(a1 + 19320);
      }
    }

    goto LABEL_26;
  }

  if (v6 <= 36333)
  {
    if (v6 != 35345)
    {
      if (v6 == 35982)
      {
        v4 = *(a1 + 19352);
      }

      goto LABEL_26;
    }

LABEL_19:
    v4 = *(a1 + 19344);
    goto LABEL_26;
  }

  if (v6 == 36334)
  {
    goto LABEL_19;
  }

  if (v6 != 36662)
  {
    if (v6 != 36663)
    {
      goto LABEL_26;
    }

    if ((*(a1 + 32501) & 0xFE) != 2)
    {
      v4 = *(a1 + 19376);
      goto LABEL_26;
    }

    goto LABEL_23;
  }

  if ((*(a1 + 32501) & 0xFE) == 2)
  {
LABEL_23:
    v4 = 0;
    goto LABEL_26;
  }

  v4 = *(a1 + 19368);
LABEL_26:
  if (*(a2 + 88) == 2)
  {
    gleOrphanBufferObject(a1, v4 + 40);
    v8 = *a2;
    v9 = a2[1];
    v10 = a2[2];
    *(v4 + 184) = *(a2 + 6);
    *(v4 + 168) = v10;
    *(v4 + 152) = v9;
    *(v4 + 136) = v8;
    gleApplyBufferData(a1, v4 + 40, *(a2 + 7));
    gleDirtyBufferObjectCurrentBindPoints(a1, v4 + 40);
  }

  *(v4 + 297) = *(v4 + 165);
  *(v4 + 296) = *(v4 + 294);
  v11 = *(a2 + 17);
  *(v4 + 165) = (v11 & 0x20) == 0;
  v12 = *(a2 + 17) & 0x10;
  *(v4 + 294) = v12 == 0;
  *(v4 + 292) = *(a2 + 88);
  *(v4 + 272) = *(a2 + 9);
  *(v4 + 280) = *(a2 + 10);
  *(v4 + 288) = *(a2 + 17);
  LOBYTE(v13) = 1;
  if (*(v5 + 3809) && v12 && ((v11 & 0x20) == 0 || *(*(a1 + 29032) + 102)))
  {
    if (*(v4 + 167))
    {
      v13 = (*(v4 + 8 * *(v5 + 3827) + 304) >> 2) & 1;
    }

    else
    {
      LOBYTE(v13) = 0;
    }
  }

  *(v4 + 298) = v13;
  return 96;
}

void *glFlushMappedBufferRange_PackThread(uint64_t a1, int a2, uint64_t a3, uint64_t a4)
{
  result = gleAddCommand(a1, glFlushMappedBufferRange_UnpackThread, 24);
  *(result + 4) = a2;
  *result = a3;
  result[1] = a4;
  return result;
}

void *glClear_Comp(uint64_t a1, int a2)
{
  result = gleAddCommand(a1, glClear_ListExec, 4);
  *result = a2;
  return result;
}

uint64_t glClearBufferfv_Exec(uint64_t result, int a2, unsigned int a3, float32x4_t *a4, double a5, double a6, double a7)
{
  v7 = a4;
  v8 = result;
  v26 = *MEMORY[0x277D85DE8];
  v9 = result + 29732;
  v10 = *(result + 29480);
  if (!*(v10 + 110))
  {
    v23.i64[0] = 0;
    switch(a2)
    {
      case 6144:
        v13 = 0x4000;
        break;
      case 6145:
        v13 = 256;
        break;
      case 6146:
        LODWORD(a5) = a4->i32[0];
        v23.i32[1] = a4->i32[0];
        v13 = 1024;
        v7 = &v23;
        break;
      default:
        goto LABEL_11;
    }

    return glClearBuffer_Core(result, v13, a3, 1, v7->f32, a5, a6, a7);
  }

  v23 = 0uLL;
  v25 = 0;
  v24 = 0;
  if (a2 == 6144)
  {
    if ((a3 & 0x80000000) == 0 && *(v10 + 21) > a3)
    {
      v12 = 1 << a3;
      v11 = *a4;
      v22 = *a4;
      v23 = *a4;
      goto LABEL_19;
    }

    goto LABEL_40;
  }

  if (a2 == 6145)
  {
    if (!a3)
    {
      LODWORD(v24) = a4->i32[0];
      v11.i64[0] = 0;
      v22 = 0u;
      v12 = 256;
      goto LABEL_19;
    }

    goto LABEL_40;
  }

  if (a2 != 6146)
  {
LABEL_11:
    if (*(result + 29832))
    {
      return result;
    }

    v14 = 1280;
    goto LABEL_13;
  }

  if (a3)
  {
LABEL_40:
    if (*(result + 29832))
    {
      return result;
    }

    v14 = 1281;
LABEL_13:
    *(result + 29832) = v14;
    return result;
  }

  HIDWORD(v24) = a4->f32[0];
  v11.i64[0] = 0;
  v22 = 0u;
  v12 = 512;
LABEL_19:
  v15 = (result + 15342);
  if ((*(result + 1540) & 4) != 0)
  {
    result = gleGenerateMatrixIdentifier(result, result + 9488, *v11.i64, a6, a7);
    *(v8 + 19152) = *(v8 + 19152) & 0xFFFFFEFF | ((result != -1074791426) << 8);
    *v9 = result;
  }

  if ((*(v9 + 68) & 0x743C0478) != 0 && (result = gleUpdateDrawFramebufferState(v8, *v11.i64, a6, a7), result))
  {
    if (result != 16711680 && !*(v9 + 100))
    {
      *(v9 + 100) = result;
    }
  }

  else if (!*(v8 + 17984))
  {
    v16 = *v15;
    if ((v12 & v16) != 0)
    {
      if ((v12 & v16) != 0 && !*(v9 + 2756) && (*(*(v8 + 29032) + 561) & 0x40) == 0)
      {
        v17 = (v8 + 288);
        v18 = vld1q_dup_f32(v17);
        v19 = (v8 + 292);
        v20 = vld1q_dup_f32(v19);
        v23 = vminnmq_f32(vmaxnmq_f32(v22, v18), v20);
      }

      v25 = 0;
      result = (*(*(v8 + 29496) + 208))(*(v8 + 29464));
      v21 = *(*(v8 + 19296) + 316);
      if (*(v9 + 84) != v21)
      {
        if (*(v8 + 28960))
        {
          result = gleInvalidateCurrentDrawFramebufferTextures(v8);
          v21 = *(*(v8 + 19296) + 316);
        }

        *(v9 + 84) = v21;
      }
    }
  }

  return result;
}

uint64_t glClearBuffer_Core(uint64_t result, int a2, unsigned int a3, int a4, float *a5, double a6, double a7, double a8)
{
  LODWORD(v9) = a2;
  v10 = result;
  v11 = result + 28652;
  v12 = (result + 15336);
  *&v13 = 0;
  v33 = 0u;
  if ((a2 & 0x4000) != 0)
  {
    if ((a3 & 0x80000000) == 0 && *(*(result + 29480) + 21) > a3)
    {
      v17 = 1 << a3;
      if ((*(result + 29803) & 0x10) != 0)
      {
        result = gleUpdateAnyDrawBuffersFloat(result, 0.0, a7, a8);
      }

      v16 = *v12;
      v19 = v12[1];
      v14 = v12[2];
      v15 = v12[3];
      *v12 = v16 & v17;
      v32 = v19;
      v20 = v19 & v17;
      v12[1] = v20;
      v12[2] = v14 & v17;
      v12[3] = v15 & v17;
      v21 = *(v11 + 1152) & 0xFFFFFF00 | v20 | v16 & v17 | v14 & v17 | v15 & v17;
      *(v11 + 1152) = v21;
      v22 = *(v10 + 28960);
      if (v22)
      {
        v23 = (v22 + 552);
      }

      else
      {
        v23 = (v11 + 1156);
      }

      *(v12 + 3) = *v23 & v21;
      v13 = *(v10 + 15152);
      v33 = v13;
      if (!a4 || *(v11 + 3836) || (*(*(v10 + 29032) + 561) & 0x40) != 0)
      {
        *(v10 + 15152) = *a5;
        *(v10 + 15156) = a5[1];
        *(v10 + 15160) = a5[2];
        *&v13 = a5[3];
      }

      else
      {
        LODWORD(a7) = *(v10 + 288);
        LODWORD(a8) = *(v10 + 292);
        *(v10 + 15152) = fminf(fmaxf(*a5, *&a7), *&a8);
        *(v10 + 15156) = fminf(fmaxf(a5[1], *&a7), *&a8);
        *(v10 + 15160) = fminf(fmaxf(a5[2], *&a7), *&a8);
        *&v13 = fminf(fmaxf(a5[3], *&a7), *&a8);
      }

      *(v10 + 15164) = v13;
      *v11 = 0;
      *(v11 + 1148) |= 0x40008u;
LABEL_17:
      v24 = 0;
      if ((v9 & 0x100) != 0)
      {
        LOWORD(v17) = v17 | 0x100;
        v24 = *(v10 + 15128);
        a7 = 0.0;
        a8 = 1.0;
        if (*a5 <= 1.0)
        {
          a8 = *a5;
        }

        if (*a5 >= 0.0)
        {
          *&v13 = a8;
        }

        else
        {
          *&v13 = 0.0;
        }

        *(v10 + 15128) = v13;
        *v11 = 0;
        *(v11 + 1148) |= 0x10u;
      }

      if ((v9 & 0x400) != 0)
      {
        LOWORD(v17) = v17 | 0x200;
        v25 = *(v10 + 15172);
        *(v10 + 15172) = *(a5 + 4);
        *v11 = 0;
        *(v11 + 1148) |= 0x20u;
      }

      else
      {
        v25 = 0;
      }

      if ((*(v10 + 1540) & 4) != 0)
      {
        result = gleGenerateMatrixIdentifier(v10, v10 + 9488, *&v13, a7, a8);
        *(v12 + 954) = *(v12 + 954) & 0xFFFFFEFF | ((result != -1074791426) << 8);
        *(v11 + 1080) = result;
      }

      if ((*(v11 + 1148) & 0x743C0478) != 0 && (result = gleUpdateDrawFramebufferState(v10, *&v13, a7, a8), result))
      {
        if (result != 16711680 && !*(v11 + 1180))
        {
          *(v11 + 1180) = result;
        }
      }

      else if (!v12[2648])
      {
        v26 = v17 & *(v12 + 3);
        if (v26)
        {
          v27 = v9 & 0xFFFFFEFF;
          if ((v26 & 0x100) != 0)
          {
            v27 = v9;
          }

          if ((v26 & 0x200) != 0)
          {
            v9 = v27;
          }

          else
          {
            v9 = v27 & 0xFFFFFBFF;
          }

          result = (**(v10 + 29488))(*(v10 + 29464), v9);
          v28 = *(*(v10 + 19296) + 316);
          if (*(v11 + 1164) != v28)
          {
            if (*(v10 + 28960))
            {
              result = gleInvalidateCurrentDrawFramebufferTextures(v10);
              v28 = *(*(v10 + 19296) + 316);
            }

            *(v11 + 1164) = v28;
          }
        }
      }

      if ((v9 & 0x4000) != 0)
      {
        *v12 = v16;
        v12[1] = v32;
        v12[2] = v14;
        v12[3] = v15;
        v29 = *(v11 + 1152) & 0xFFFFFF00 | v14 | v32 | v15 | v16;
        *(v11 + 1152) = v29;
        v30 = *(v10 + 28960);
        if (v30)
        {
          v31 = (v30 + 552);
        }

        else
        {
          v31 = (v11 + 1156);
        }

        *(v12 + 3) = *v31 & v29;
        *(v10 + 15152) = v33;
        *v11 = 0;
        *(v11 + 1148) |= 0x40008u;
        if ((v9 & 0x100) == 0)
        {
LABEL_47:
          if ((v9 & 0x400) == 0)
          {
            return result;
          }

LABEL_54:
          *(v10 + 15172) = v25;
          *v11 = 0;
          *(v11 + 1148) |= 0x20u;
          return result;
        }
      }

      else if ((v9 & 0x100) == 0)
      {
        goto LABEL_47;
      }

      *(v10 + 15128) = v24;
      *v11 = 0;
      *(v11 + 1148) |= 0x10u;
      if ((v9 & 0x400) == 0)
      {
        return result;
      }

      goto LABEL_54;
    }
  }

  else if (!a3)
  {
    v32 = 0;
    v14 = 0;
    v15 = 0;
    v16 = 0;
    LOWORD(v17) = 0;
    goto LABEL_17;
  }

  if (!*(result + 29832))
  {
    *(result + 29832) = 1281;
  }

  return result;
}

uint64_t glClearBufferiv_Exec(uint64_t result, int a2, unsigned int a3, float *a4, __n128 a5, double a6, double a7)
{
  v7 = a4;
  v8 = result;
  v22 = *MEMORY[0x277D85DE8];
  v9 = result + 29732;
  v10 = *(result + 29480);
  if (!*(v10 + 110))
  {
    v19.n128_u64[0] = 0;
    switch(a2)
    {
      case 6144:
        v14 = 0x4000;
        break;
      case 6145:
        v14 = 256;
        break;
      case 6146:
        v19.n128_f32[1] = *a4;
        v14 = 1024;
        v7 = &v19;
        break;
      default:
        goto LABEL_11;
    }

    return glClearBuffer_Core(result, v14, a3, 0, v7, a5.n128_f64[0], a6, a7);
  }

  v11 = &v21;
  v19 = 0uLL;
  v21 = 0;
  v20 = 0;
  if (a2 == 6144)
  {
    if ((a3 & 0x80000000) == 0 && *(v10 + 21) > a3)
    {
      v12 = 1;
      v13 = 1 << a3;
      a5 = *a4;
      v19 = *a4;
      goto LABEL_19;
    }

    goto LABEL_36;
  }

  if (a2 == 6145)
  {
    if (!a3)
    {
      *&v20 = *a4;
      v13 = 256;
      v12 = 1;
      goto LABEL_19;
    }

    goto LABEL_36;
  }

  if (a2 != 6146)
  {
LABEL_11:
    if (*(result + 29832))
    {
      return result;
    }

    v15 = 1280;
    goto LABEL_13;
  }

  if (a3)
  {
LABEL_36:
    if (*(result + 29832))
    {
      return result;
    }

    v15 = 1281;
LABEL_13:
    *(result + 29832) = v15;
    return result;
  }

  v11 = &v20 + 1;
  v12 = *a4;
  v13 = 512;
LABEL_19:
  v16 = (result + 15342);
  *v11 = v12;
  if ((*(result + 1540) & 4) != 0)
  {
    result = gleGenerateMatrixIdentifier(result, result + 9488, a5.n128_f64[0], a6, a7);
    *(v8 + 19152) = *(v8 + 19152) & 0xFFFFFEFF | ((result != -1074791426) << 8);
    *v9 = result;
  }

  if ((*(v9 + 68) & 0x743C0478) != 0 && (result = gleUpdateDrawFramebufferState(v8, a5.n128_f64[0], a6, a7), result))
  {
    if (result != 16711680 && !*(v9 + 100))
    {
      *(v9 + 100) = result;
    }
  }

  else if (!*(v8 + 17984))
  {
    v17 = *v16;
    if ((v13 & v17) != 0)
    {
      result = (*(*(v8 + 29496) + 208))(*(v8 + 29464), v13 & v17, &v19);
      v18 = *(*(v8 + 19296) + 316);
      if (*(v9 + 84) != v18)
      {
        if (*(v8 + 28960))
        {
          result = gleInvalidateCurrentDrawFramebufferTextures(v8);
          v18 = *(*(v8 + 19296) + 316);
        }

        *(v9 + 84) = v18;
      }
    }
  }

  return result;
}

uint64_t glClearBufferuiv_Exec(uint64_t result, int a2, unsigned int a3, float *a4, __n128 a5, double a6, double a7)
{
  v7 = a4;
  v8 = result;
  v22 = *MEMORY[0x277D85DE8];
  v9 = result + 29732;
  v10 = *(result + 29480);
  if (!*(v10 + 110))
  {
    v19.n128_u64[0] = 0;
    switch(a2)
    {
      case 6144:
        v14 = 0x4000;
        break;
      case 6145:
        v14 = 256;
        break;
      case 6146:
        v19.n128_f32[1] = *a4;
        v14 = 1024;
        v7 = &v19;
        break;
      default:
        goto LABEL_11;
    }

    return glClearBuffer_Core(result, v14, a3, 0, v7, a5.n128_f64[0], a6, a7);
  }

  v11 = &v21;
  v19 = 0uLL;
  v21 = 0;
  v20 = 0;
  if (a2 == 6144)
  {
    if ((a3 & 0x80000000) == 0 && *(v10 + 21) > a3)
    {
      v12 = 1;
      v13 = 1 << a3;
      a5 = *a4;
      v19 = *a4;
      goto LABEL_19;
    }

    goto LABEL_36;
  }

  if (a2 == 6145)
  {
    if (!a3)
    {
      *&v20 = *a4;
      v13 = 256;
      v12 = 1;
      goto LABEL_19;
    }

    goto LABEL_36;
  }

  if (a2 != 6146)
  {
LABEL_11:
    if (*(result + 29832))
    {
      return result;
    }

    v15 = 1280;
    goto LABEL_13;
  }

  if (a3)
  {
LABEL_36:
    if (*(result + 29832))
    {
      return result;
    }

    v15 = 1281;
LABEL_13:
    *(result + 29832) = v15;
    return result;
  }

  v11 = &v20 + 1;
  v12 = *a4;
  v13 = 512;
LABEL_19:
  v16 = (result + 15342);
  *v11 = v12;
  if ((*(result + 1540) & 4) != 0)
  {
    result = gleGenerateMatrixIdentifier(result, result + 9488, a5.n128_f64[0], a6, a7);
    *(v8 + 19152) = *(v8 + 19152) & 0xFFFFFEFF | ((result != -1074791426) << 8);
    *v9 = result;
  }

  if ((*(v9 + 68) & 0x743C0478) != 0 && (result = gleUpdateDrawFramebufferState(v8, a5.n128_f64[0], a6, a7), result))
  {
    if (result != 16711680 && !*(v9 + 100))
    {
      *(v9 + 100) = result;
    }
  }

  else if (!*(v8 + 17984))
  {
    v17 = *v16;
    if ((v13 & v17) != 0)
    {
      result = (*(*(v8 + 29496) + 208))(*(v8 + 29464), v13 & v17, &v19);
      v18 = *(*(v8 + 19296) + 316);
      if (*(v9 + 84) != v18)
      {
        if (*(v8 + 28960))
        {
          result = gleInvalidateCurrentDrawFramebufferTextures(v8);
          v18 = *(*(v8 + 19296) + 316);
        }

        *(v9 + 84) = v18;
      }
    }
  }

  return result;
}

uint64_t glClearBufferfi_Exec(uint64_t result, int a2, unsigned int a3, unsigned int a4, double a5, double a6, double a7)
{
  v7 = result;
  v17 = *MEMORY[0x277D85DE8];
  v8 = result + 29732;
  if (!*(*(result + 29480) + 110))
  {
    if (a2 == 34041)
    {
      v13[0] = __PAIR64__(a4, LODWORD(a5));
      return glClearBuffer_Core(result, 1280, a3, 0, v13, a5, a6, a7);
    }

    goto LABEL_19;
  }

  v13[0] = 0;
  v13[1] = 0;
  if (a2 != 34041)
  {
LABEL_19:
    if (*(result + 29832))
    {
      return result;
    }

    v12 = 1280;
    goto LABEL_21;
  }

  if (a3)
  {
    if (*(result + 29832))
    {
      return result;
    }

    v12 = 1281;
LABEL_21:
    *(result + 29832) = v12;
    return result;
  }

  v9 = (result + 15342);
  v14 = LODWORD(a5);
  v15 = a4;
  if ((*(result + 1540) & 4) != 0)
  {
    result = gleGenerateMatrixIdentifier(result, result + 9488, a5, a6, a7);
    *(v7 + 19152) = *(v7 + 19152) & 0xFFFFFEFF | ((result != -1074791426) << 8);
    *v8 = result;
  }

  if ((*(v8 + 68) & 0x743C0478) != 0 && (result = gleUpdateDrawFramebufferState(v7, a5, a6, a7), result))
  {
    if (result != 16711680 && !*(v8 + 100))
    {
      *(v8 + 100) = result;
    }
  }

  else if (!*(v7 + 17984))
  {
    v10 = *v9 & 0x300;
    if ((*v9 & 0x300) != 0)
    {
      v16 = 0;
      result = (*(*(v7 + 29496) + 208))(*(v7 + 29464), v10, v13);
      v11 = *(*(v7 + 19296) + 316);
      if (*(v8 + 84) != v11)
      {
        if (*(v7 + 28960))
        {
          result = gleInvalidateCurrentDrawFramebufferTextures(v7);
          v11 = *(*(v7 + 19296) + 316);
        }

        *(v8 + 84) = v11;
      }
    }
  }

  return result;
}

_DWORD *glClearBufferfv_PackThread(uint64_t a1, int a2, int a3, _DWORD *a4)
{
  result = gleAddCommand(a1, glClearBufferfv_UnpackThread, 24);
  *result = a2;
  result[1] = a3;
  if ((a2 - 6145) >= 2)
  {
    if (a2 != 6144)
    {
      return result;
    }

    result[2] = *a4;
    result[3] = a4[1];
    result[4] = a4[2];
    a4 += 3;
    v8 = 5;
  }

  else
  {
    v8 = 2;
  }

  result[v8] = *a4;
  return result;
}

_DWORD *glClearBufferiv_PackThread(uint64_t a1, int a2, int a3, _DWORD *a4)
{
  result = gleAddCommand(a1, glClearBufferiv_UnpackThread, 24);
  *result = a2;
  result[1] = a3;
  if ((a2 - 6145) >= 2)
  {
    if (a2 != 6144)
    {
      return result;
    }

    result[2] = *a4;
    result[3] = a4[1];
    result[4] = a4[2];
    a4 += 3;
    v8 = 5;
  }

  else
  {
    v8 = 2;
  }

  result[v8] = *a4;
  return result;
}

_DWORD *glClearBufferuiv_PackThread(uint64_t a1, int a2, int a3, _DWORD *a4)
{
  result = gleAddCommand(a1, glClearBufferuiv_UnpackThread, 24);
  *result = a2;
  result[1] = a3;
  if ((a2 - 6145) >= 2)
  {
    if (a2 != 6144)
    {
      return result;
    }

    result[2] = *a4;
    result[3] = a4[1];
    result[4] = a4[2];
    a4 += 3;
    v8 = 5;
  }

  else
  {
    v8 = 2;
  }

  result[v8] = *a4;
  return result;
}

void *glClearBufferfi_PackThread(uint64_t a1, int a2, int a3, int a4, float a5)
{
  result = gleAddCommand(a1, glClearBufferfi_UnpackThread, 24);
  *result = a2;
  *(result + 1) = a3;
  if (a2 == 34041)
  {
    *(result + 2) = a5;
    *(result + 3) = a4;
  }

  return result;
}

uint64_t glClearBufferfi_UnpackThread(uint64_t a1, int *a2, double a3, double a4, double a5)
{
  LODWORD(a3) = a2[2];
  glClearBufferfi_Exec(a1, *a2, a2[1], a2[3], a3, a4, a5);
  return 24;
}

float *glClearColor_FlushExecThread(uint64_t a1, float a2, float a3, float a4, float a5)
{
  *(a1 + 32493) &= ~1u;
  v9 = *(a1 + 28984);
  v10 = *(a1 + 28976);
  if (v9[301])
  {
    v11 = *(a1 + 28984);
  }

  else
  {
    v11 = *(a1 + 28976);
  }

  *(v11 + 2408) = glTexImage2D_PackThread;
  if (v9[307])
  {
    v12 = v9;
  }

  else
  {
    v12 = v10;
  }

  v12[307] = glTexSubImage2D_PackThread;
  if (v9[380])
  {
    v13 = v9;
  }

  else
  {
    v13 = v10;
  }

  v13[380] = glCompressedTexImage2D_PackThread;
  if (v9[383])
  {
    v14 = v9;
  }

  else
  {
    v14 = v10;
  }

  v14[383] = glCompressedTexSubImage2D_PackThread;
  if (!v9[12])
  {
    v9 = v10;
  }

  v9[12] = glClearColor_Comp;
  result = gleAddCommand(a1, glClearColor_ListExec, 16);
  *result = a2;
  result[1] = a3;
  result[2] = a4;
  result[3] = a5;
  return result;
}

float *glClearColor_Comp(uint64_t a1, float a2, float a3, float a4, float a5)
{
  result = gleAddCommand(a1, glClearColor_ListExec, 16);
  *result = a2;
  result[1] = a3;
  result[2] = a4;
  result[3] = a5;
  return result;
}

uint64_t glClearColor_ListExec(uint64_t a1, uint64_t a2, double a3, double a4, double a5)
{
  LODWORD(a3) = *a2;
  LODWORD(a4) = *(a2 + 4);
  LODWORD(a5) = *(a2 + 8);
  glClearColor_Exec(a1, a3, a4, a5, *(a2 + 12));
  return 16;
}

uint64_t glClearColor_FlushExec(uint64_t result, double a2, double a3, double a4, float a5)
{
  *(result + 32493) &= ~1u;
  v5 = *(result + 28984);
  v6 = *(result + 28976);
  if (v5[301])
  {
    v7 = *(result + 28984);
  }

  else
  {
    v7 = *(result + 28976);
  }

  *(v7 + 2408) = glTexImage2D_Exec;
  if (v5[307])
  {
    v8 = v5;
  }

  else
  {
    v8 = v6;
  }

  v8[307] = glTexSubImage2D_Exec;
  if (v5[380])
  {
    v9 = v5;
  }

  else
  {
    v9 = v6;
  }

  v9[380] = glCompressedTexImage2D_Exec;
  if (v5[383])
  {
    v10 = v5;
  }

  else
  {
    v10 = v6;
  }

  v10[383] = glCompressedTexSubImage2D_Exec;
  if (!v5[12])
  {
    v5 = v6;
  }

  v5[12] = glClearColor_Exec;
  return glClearColor_Exec(result, a2, a3, a4, a5);
}