uint64_t vt_Copy_xf420_TRC_Tone_Mat_TRC_RGhA_neon_fp16(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (8 * (v24 + v25) + 8) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 8 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Tone_Mat_TRC_RGhA_neon_fp16_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

char *vt_Copy_xf420_TRC_Tone_Mat_TRC_RGhA_neon_fp16_GCD(char *result, uint64_t a2, int16x4_t _D0, double a4, float32x4_t a5)
{
  v6 = 2 * *result;
  v256 = result;
  v7 = *(result + 13);
  v8 = v7 * a2 / v6;
  v265 = 2 * ((v7 + v7 * a2) / v6 - v8);
  if (v265 >= 1)
  {
    v9 = 0;
    v10 = *(result + 24);
    v11 = *(result + 19);
    v13 = *(result + 7);
    v12 = *(result + 8);
    v15 = *v12;
    v14 = v12[1];
    v16 = **(result + 17);
    v17 = v11[17].u16[2];
    v18 = v11[17].u16[3];
    _D0.i32[0] = v11->i32[0];
    v19.i32[0] = v11[3].i32[1];
    _S23 = v11[10].i32[1];
    _S6 = v11[11].f32[0];
    _S7 = v11[11].f32[1];
    _S16 = v11[12].f32[0];
    _S17 = v11[12].f32[1];
    _S18 = v11[13].f32[0];
    _S20 = v11[15].f32[0];
    v27 = &v11[2068] + 4;
    v296 = v10 & 0xFFFFFFFE;
    a5.f32[0] = 8191.0 / v11[16].u32[0];
    v28 = v17;
    v299 = v18;
    _S24 = a5.f32[0] * v11->f32[0];
    v30 = &v11[20] + 4;
    v31 = &v11[4116] + 4;
    __asm { FCVT            H0, S24 }

    v272 = *_D0.i16;
    *_D0.i16 = v17;
    v260 = vdupq_lane_s16(_D0, 0);
    v36 = -v18;
    v19.i32[1] = v11[1].i32[0];
    *v5.f32 = vmul_n_f32(v19, a5.f32[0]);
    *a5.f32 = vmul_n_f32(v11[2], a5.f32[0]);
    v258 = vdupq_lane_s32(vcvt_f16_f32(a5), 0);
    v259 = vdupq_lane_s32(vcvt_f16_f32(v5), 0);
    v286 = vmulq_n_f16(v258, v36);
    v287 = vmulq_n_f16(v259, v36);
    v291 = v11[13].f32[1];
    __asm { FCVT            H0, S19 }

    v285 = _H0;
    v290 = v11[14].f32[0];
    __asm { FCVT            H0, S25 }

    v284 = _H0;
    v289 = v11[14].f32[1];
    __asm { FCVT            H0, S26 }

    v283 = _H0;
    __asm { FCVT            H0, S20 }

    v282 = _H0;
    v295 = v11[9].f32[0];
    __asm { FCVT            H0, S3 }

    v281 = _H0;
    v294 = v11[9].f32[1];
    __asm { FCVT            H0, S4 }

    v280 = _H0;
    v293 = v11[10].f32[0];
    __asm { FCVT            H0, S5 }

    v279 = _H0;
    v44 = v11[15].u8[4];
    v45 = 16 - v44;
    v47 = v13[1];
    v46 = v13[2];
    v48 = *(result + 44) + 2 * (*(result + 28) * a2 / v6);
    v49 = *v13;
    v263 = v12[2];
    _CF = v44 >= 0x11;
    v50 = *(result + 36);
    result = (v46 + v263 * v48 + 2 * v50);
    if (_CF)
    {
      v45 = 0;
    }

    v51 = **(v256 + 16) + v16 * (*(v256 + 15) + 2 * v8) + 8 * *(v256 + 14);
    if (v46)
    {
      v52 = v46 + v263 * v48 + 2 * v50;
    }

    else
    {
      v52 = 0;
    }

    v297 = v52;
    v53 = (v47 + v14 * (v48 / 2) + 2 * v50);
    v54 = (v49 + v15 * v48 + 2 * v50);
    v261 = v45;
    v292 = v11[10].f32[1];
    __asm { FCVT            H0, S23 }

    v278 = _H0;
    __asm { FCVT            H0, S6 }

    v277 = _H0;
    __asm { FCVT            H0, S7 }

    v276 = _H0;
    __asm { FCVT            H0, S16 }

    v275 = _H0;
    __asm { FCVT            H0, S17 }

    v274 = _H0;
    __asm { FCVT            H0, S18 }

    v273 = _H0;
    v271 = vdupq_n_s16(-v45);
    v288 = a5.f32[0];
    v61 = v5.i64[0];
    v270 = a5.f32[1];
    v62.i64[0] = 0x9000900090009000;
    v62.i64[1] = 0x9000900090009000;
    v264 = v15;
    v262 = v16;
    do
    {
      v269 = v9;
      v63 = v51 + v16;
      v267 = v51 + v16;
      v268 = v53;
      v266 = &v54->i8[v15];
      if (v10 < 8)
      {
        v160 = 0;
        v162 = (v54 + v15);
        v161 = v261;
      }

      else
      {
        v302 = v54;
        v64 = 0;
        v301 = (v54 + v15);
        v300 = v53;
        do
        {
          v298 = v64;
          if (v297)
          {
            v65 = vcvt_hight_f16_f32(vcvt_f16_f32(0), 0);
          }

          else
          {
            v65.i64[0] = 0x3C003C003C003C00;
            v65.i64[1] = 0x3C003C003C003C00;
          }

          v66 = *v300++;
          v67 = vcvtq_f16_u16(vshlq_u16(v66, v271));
          v68 = vmlaq_f16(v287, v259, v67);
          v69 = vmlaq_f16(v286, v258, v67);
          v70 = vtrn2q_s16(v68, v68);
          v71 = vtrn1q_s16(v68, v68);
          v72 = vuzp1q_s16(v69, v67);
          *v72.i8 = vadd_f16(*v72.i8, *&vuzp2q_s16(v69, v72));
          v73 = vzip1q_s16(v72, v72);
          v74 = *v302++;
          v75 = *v301++;
          v76 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(v74, v271)), v260);
          v77 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(v75, v271)), v260);
          v78 = vmlaq_n_f16(v73, v76, v272);
          v79 = vmlaq_n_f16(v71, v76, v272);
          v80 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v70, v76, v272), 0), v62));
          v81.i16[0] = *&v30[2 * v80.u16[0]];
          v81.i16[1] = *&v30[2 * v80.u16[1]];
          v81.i16[2] = *&v30[2 * v80.u16[2]];
          v81.i16[3] = *&v30[2 * v80.u16[3]];
          v81.i16[4] = *&v30[2 * v80.u16[4]];
          v81.i16[5] = *&v30[2 * v80.u16[5]];
          v81.i16[6] = *&v30[2 * v80.u16[6]];
          v81.i16[7] = *&v30[2 * v80.u16[7]];
          v82 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v78, 0), v62));
          v83.i16[0] = *&v30[2 * v82.u16[0]];
          v83.i16[1] = *&v30[2 * v82.u16[1]];
          v83.i16[2] = *&v30[2 * v82.u16[2]];
          v83.i16[3] = *&v30[2 * v82.u16[3]];
          v83.i16[4] = *&v30[2 * v82.u16[4]];
          v83.i16[5] = *&v30[2 * v82.u16[5]];
          v83.i16[6] = *&v30[2 * v82.u16[6]];
          v83.i16[7] = *&v30[2 * v82.u16[7]];
          v84 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v79, 0), v62));
          v79.i16[0] = *&v30[2 * v84.u16[0]];
          v79.i16[1] = *&v30[2 * v84.u16[1]];
          v79.i16[2] = *&v30[2 * v84.u16[2]];
          v79.i16[3] = *&v30[2 * v84.u16[3]];
          v79.i16[4] = *&v30[2 * v84.u16[4]];
          v79.i16[5] = *&v30[2 * v84.u16[5]];
          v79.i16[6] = *&v30[2 * v84.u16[6]];
          v79.i16[7] = *&v30[2 * v84.u16[7]];
          v85 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v70, v77, v272), 0), v62));
          v70.i16[0] = *&v30[2 * v85.u16[0]];
          v70.i16[1] = *&v30[2 * v85.u16[1]];
          v70.i16[2] = *&v30[2 * v85.u16[2]];
          v70.i16[3] = *&v30[2 * v85.u16[3]];
          v70.i16[4] = *&v30[2 * v85.u16[4]];
          v70.i16[5] = *&v30[2 * v85.u16[5]];
          v70.i16[6] = *&v30[2 * v85.u16[6]];
          v70.i16[7] = *&v30[2 * v85.u16[7]];
          v86 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v73, v77, v272), 0), v62));
          v73.i16[0] = *&v30[2 * v86.u16[0]];
          v73.i16[1] = *&v30[2 * v86.u16[1]];
          v73.i16[2] = *&v30[2 * v86.u16[2]];
          v73.i16[3] = *&v30[2 * v86.u16[3]];
          v73.i16[4] = *&v30[2 * v86.u16[4]];
          v73.i16[5] = *&v30[2 * v86.u16[5]];
          v73.i16[6] = *&v30[2 * v86.u16[6]];
          v73.i16[7] = *&v30[2 * v86.u16[7]];
          v87 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v71, v77, v272), 0), v62));
          v88.i16[0] = *&v30[2 * v87.u16[0]];
          v88.i16[1] = *&v30[2 * v87.u16[1]];
          v88.i16[2] = *&v30[2 * v87.u16[2]];
          v88.i16[3] = *&v30[2 * v87.u16[3]];
          v88.i16[4] = *&v30[2 * v87.u16[4]];
          v88.i16[5] = *&v30[2 * v87.u16[5]];
          v88.i16[6] = *&v30[2 * v87.u16[6]];
          v88.i16[7] = *&v30[2 * v87.u16[7]];
          v89 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v81, v285), v83, v284), v79, v283), vmaxq_f16(vmaxq_f16(v81, v83), v79), v282), 0), v62));
          v77.i16[0] = *&v27[2 * v89.u16[0]];
          v77.i16[1] = *&v27[2 * v89.u16[1]];
          v77.i16[2] = *&v27[2 * v89.u16[2]];
          v77.i16[3] = *&v27[2 * v89.u16[3]];
          v77.i16[4] = *&v27[2 * v89.u16[4]];
          v77.i16[5] = *&v27[2 * v89.u16[5]];
          v77.i16[6] = *&v27[2 * v89.u16[6]];
          v77.i16[7] = *&v27[2 * v89.u16[7]];
          v90 = vmulq_f16(v81, v77);
          v91 = vmulq_f16(v83, v77);
          v92 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v70, v285), v73, v284), v88, v283), vmaxq_f16(vmaxq_f16(v70, v73), v88), v282), 0), v62));
          v83.i16[0] = *&v27[2 * v92.u16[0]];
          v93 = vmulq_f16(v79, v77);
          v83.i16[1] = *&v27[2 * v92.u16[1]];
          v83.i16[2] = *&v27[2 * v92.u16[2]];
          v83.i16[3] = *&v27[2 * v92.u16[3]];
          v83.i16[4] = *&v27[2 * v92.u16[4]];
          v83.i16[5] = *&v27[2 * v92.u16[5]];
          v83.i16[6] = *&v27[2 * v92.u16[6]];
          v83.i16[7] = *&v27[2 * v92.u16[7]];
          v94 = vmulq_f16(v70, v83);
          v95 = vmulq_f16(v73, v83);
          v96 = vmulq_f16(v88, v83);
          v97 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v90, v278), v91, v277), v93, v276);
          v98 = vmlaq_n_f16(vmulq_n_f16(v93, v273), v91, v274);
          v99 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v90, v281), v91, v280), v93, v279), 0), v62));
          v100 = v99.u16[0];
          v101 = v99.u16[1];
          v102 = v99.u16[2];
          v103 = v99.u16[3];
          v104 = v99.u16[4];
          v105 = v99.u16[5];
          v106 = v99.u16[6];
          v107 = v99.u16[7];
          v108 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v97, 0), v62));
          v109 = v108.u16[0];
          v110 = v108.u16[1];
          v111 = v108.u16[2];
          v112 = v108.u16[3];
          v113 = v108.u16[4];
          v114 = v108.u16[5];
          v115 = v108.u16[6];
          v116 = v108.u16[7];
          v117 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v98, v90, v275), 0), v62));
          v118 = *&v31[2 * v100];
          v119 = *&v31[2 * v101];
          v120 = *&v31[2 * v102];
          v121 = *&v31[2 * v103];
          v122 = *&v31[2 * v104];
          v123 = *&v31[2 * v105];
          v124 = *&v31[2 * v106];
          v125 = *&v31[2 * v107];
          v126 = *&v31[2 * v109];
          v127 = *&v31[2 * v110];
          v128 = *&v31[2 * v111];
          v129 = *&v31[2 * v112];
          v130 = *&v31[2 * v113];
          v131 = *&v31[2 * v114];
          v132 = *&v31[2 * v115];
          v133 = *&v31[2 * v116];
          v134 = *&v31[2 * v117.u16[0]];
          v135 = *&v31[2 * v117.u16[1]];
          v136 = *&v31[2 * v117.u16[2]];
          v137 = *&v31[2 * v117.u16[3]];
          v138 = *&v31[2 * v117.u16[4]];
          v139 = *&v31[2 * v117.u16[5]];
          v140 = *&v31[2 * v117.u16[6]];
          v141 = *&v31[2 * v117.u16[7]];
          v142 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v94, v281), v95, v280), v96, v279), 0), v62));
          v143 = v142.u16[0];
          v144 = v142.u16[1];
          v145 = v142.u16[2];
          v146 = v142.u16[3];
          v147 = v142.u16[4];
          v148 = v142.u16[5];
          v149 = v142.u16[6];
          v150 = v142.u16[7];
          v151 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v94, v278), v95, v277), v96, v276), 0), v62));
          v152 = v151.u16[0];
          LOWORD(v109) = v151.i16[1];
          v153 = v151.u16[2];
          v154 = v151.u16[3];
          v155 = v151.u16[4];
          v156 = v151.u16[5];
          v157 = v151.u16[6];
          v158 = v151.u16[7];
          v159 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v96, v273), v95, v274), v94, v275), 0), v62));
          v303.val[0].i16[0] = *&v31[2 * v143];
          v303.val[0].i16[1] = *&v31[2 * v144];
          v303.val[0].i16[2] = *&v31[2 * v145];
          v303.val[0].i16[3] = *&v31[2 * v146];
          v303.val[0].i16[4] = *&v31[2 * v147];
          result = &v31[2 * v148];
          v303.val[0].i16[5] = *result;
          v303.val[0].i16[6] = *&v31[2 * v149];
          v303.val[0].i16[7] = *&v31[2 * v150];
          v303.val[1].i16[0] = *&v31[2 * v152];
          v303.val[1].i16[1] = *&v31[2 * v109];
          v303.val[1].i16[2] = *&v31[2 * v153];
          v303.val[1].i16[3] = *&v31[2 * v154];
          v303.val[1].i16[4] = *&v31[2 * v155];
          v303.val[1].i16[5] = *&v31[2 * v156];
          v303.val[1].i16[6] = *&v31[2 * v157];
          v303.val[1].i16[7] = *&v31[2 * v158];
          v303.val[2].i16[0] = *&v31[2 * v159.u16[0]];
          v303.val[2].i16[1] = *&v31[2 * v159.u16[1]];
          v303.val[2].i16[2] = *&v31[2 * v159.u16[2]];
          v303.val[2].i16[3] = *&v31[2 * v159.u16[3]];
          v303.val[2].i16[4] = *&v31[2 * v159.u16[4]];
          v303.val[2].i16[5] = *&v31[2 * v159.u16[5]];
          v303.val[2].i16[6] = *&v31[2 * v159.u16[6]];
          v303.val[2].i16[7] = *&v31[2 * v159.u16[7]];
          vst4q_s16(v51, *(&v65 - 3));
          v51 += 64;
          v303.val[3] = v65;
          vst4q_s16(v63, v303);
          v63 += 64;
          v64 = v298 + 8;
        }

        while (v298 + 8 < v10 - 7);
        v160 = v10 & 0xFFFFFFF8;
        v161 = v261;
        v54 = v302;
        v162 = v301;
        v53 = v300;
      }

      if (v160 < v296)
      {
        if (v297)
        {
          v163 = COERCE_SHORT_FLOAT(0);
        }

        else
        {
          LOWORD(v163) = COERCE_UNSIGNED_INT(1.0);
        }

        do
        {
          v164 = (v53->u16[1] >> v161) - v299;
          v165 = *(&v61 + 1) * v164;
          v166 = _S24 * ((v54->u16[0] >> v161) - v28);
          v167 = (*(&v61 + 1) * v164) + v166;
          v168 = 8191.0;
          if (v167 <= 8191.0)
          {
            v168 = (*(&v61 + 1) * v164) + v166;
            if (v167 < 0.0)
            {
              v168 = 0.0;
            }
          }

          v169 = (v53->u16[0] >> v161) - v299;
          v170 = (v270 * v164) + (v169 * v288);
          v171 = 8191.0;
          if ((v166 + v170) <= 8191.0)
          {
            v171 = v166 + v170;
            if ((v166 + v170) < 0.0)
            {
              v171 = 0.0;
            }
          }

          v172 = *&v61 * v169;
          v173 = (*&v61 * v169) + v166;
          v174 = 8191.0;
          if (v173 <= 8191.0)
          {
            v174 = v173;
            if (v173 < 0.0)
            {
              v174 = 0.0;
            }
          }

          v175 = _S24 * ((v54->u16[1] >> v161) - v28);
          v176 = 8191.0;
          if ((v165 + v175) <= 8191.0)
          {
            v176 = v165 + v175;
            if ((v165 + v175) < 0.0)
            {
              v176 = 0.0;
            }
          }

          v177 = 8191.0;
          if ((v170 + v175) <= 8191.0)
          {
            v177 = v170 + v175;
            if ((v170 + v175) < 0.0)
            {
              v177 = 0.0;
            }
          }

          v178 = v172 + v175;
          v179 = 8191.0;
          if (v178 <= 8191.0)
          {
            v179 = v178;
            if (v178 < 0.0)
            {
              v179 = 0.0;
            }
          }

          v180 = _S24 * ((v162->u16[0] >> v161) - v28);
          v181 = 8191.0;
          if ((v165 + v180) <= 8191.0)
          {
            v181 = v165 + v180;
            if ((v165 + v180) < 0.0)
            {
              v181 = 0.0;
            }
          }

          v182 = 8191.0;
          if ((v170 + v180) <= 8191.0)
          {
            v182 = v170 + v180;
            if ((v170 + v180) < 0.0)
            {
              v182 = 0.0;
            }
          }

          v183 = v172 + v180;
          v184 = (v172 + v180) <= 8191.0;
          v185 = 8191.0;
          if (v184)
          {
            v185 = v183;
            if (v183 < 0.0)
            {
              v185 = 0.0;
            }
          }

          v186 = _S24 * ((v162->u16[1] >> v161) - v28);
          v187 = v165 + v186;
          v184 = (v165 + v186) <= 8191.0;
          v188 = 8191.0;
          if (v184)
          {
            v188 = v187;
            if (v187 < 0.0)
            {
              v188 = 0.0;
            }
          }

          v189 = v170 + v186;
          v184 = (v170 + v186) <= 8191.0;
          v190 = 8191.0;
          if (v184)
          {
            v190 = v189;
            if (v189 < 0.0)
            {
              v190 = 0.0;
            }
          }

          v191 = v172 + v186;
          v192 = 8191.0;
          if (v191 <= 8191.0)
          {
            v192 = v191;
            if (v191 < 0.0)
            {
              v192 = 0.0;
            }
          }

          _H1 = *&v30[2 * llroundf(fminf(fmaxf(v168, 0.0), 8191.0))];
          __asm { FCVT            S23, H1 }

          _H1 = *&v30[2 * llroundf(fminf(fmaxf(v171, 0.0), 8191.0))];
          __asm { FCVT            S25, H1 }

          _H1 = *&v30[2 * llroundf(fminf(fmaxf(v174, 0.0), 8191.0))];
          __asm { FCVT            S26, H1 }

          _H5 = *&v30[2 * llroundf(fminf(fmaxf(v176, 0.0), 8191.0))];
          _H13 = *&v30[2 * llroundf(fminf(fmaxf(v177, 0.0), 8191.0))];
          _H14 = *&v30[2 * llroundf(fminf(fmaxf(v179, 0.0), 8191.0))];
          _H1 = *&v30[2 * llroundf(fminf(fmaxf(v181, 0.0), 8191.0))];
          _H2 = *&v30[2 * llroundf(fminf(fmaxf(v182, 0.0), 8191.0))];
          _H3 = *&v30[2 * llroundf(fminf(fmaxf(v185, 0.0), 8191.0))];
          _H10 = *&v30[2 * llroundf(fminf(fmaxf(v188, 0.0), 8191.0))];
          _H11 = *&v30[2 * llroundf(fminf(fmaxf(v190, 0.0), 8191.0))];
          _H12 = *&v30[2 * llroundf(fminf(fmaxf(v192, 0.0), 8191.0))];
          v208 = (((v290 * _S25) + (v291 * _S23)) + (v289 * _S26)) + (_S20 * fmaxf(_S23, fmaxf(_S25, _S26)));
          v209 = 8191.0;
          if (v208 <= 8191.0)
          {
            v209 = v208;
            if (v208 < 0.0)
            {
              v209 = 0.0;
            }
          }

          __asm
          {
            FCVT            S0, H5
            FCVT            S27, H13
            FCVT            S29, H14
          }

          _H13 = *&v27[2 * llroundf(v209)];
          v214 = (((v290 * _S27) + (v291 * _S0)) + (v289 * _S29)) + (_S20 * fmaxf(_S0, fmaxf(_S27, _S29)));
          v215 = 8191.0;
          if (v214 <= 8191.0)
          {
            v215 = v214;
            if (v214 < 0.0)
            {
              v215 = 0.0;
            }
          }

          __asm
          {
            FCVT            S1, H1
            FCVT            S2, H2
            FCVT            S3, H3
          }

          _H4 = *&v27[2 * llroundf(v215)];
          v220 = (((v290 * _S2) + (v291 * _S1)) + (v289 * _S3)) + (_S20 * fmaxf(_S1, fmaxf(_S2, _S3)));
          v221 = 8191.0;
          if (v220 <= 8191.0)
          {
            v221 = v220;
            if (v220 < 0.0)
            {
              v221 = 0.0;
            }
          }

          __asm
          {
            FCVT            S5, H10
            FCVT            S10, H11
            FCVT            S11, H12
          }

          _H12 = *&v27[2 * llroundf(v221)];
          v226 = (((v290 * _S10) + (v291 * _S5)) + (v289 * _S11)) + (_S20 * fmaxf(_S5, fmaxf(_S10, _S11)));
          v227 = 8191.0;
          if (v226 <= 8191.0)
          {
            v227 = v226;
            if (v226 < 0.0)
            {
              v227 = 0.0;
            }
          }

          __asm { FCVT            S13, H13 }

          v229 = _S23 * _S13;
          v230 = _S25 * _S13;
          v231 = _S26 * _S13;
          __asm { FCVT            S4, H4 }

          v233 = _S0 * _S4;
          v234 = _S27 * _S4;
          v235 = _S29 * _S4;
          __asm { FCVT            S29, H12 }

          v237 = _S1 * _S29;
          v238 = _S2 * _S29;
          v239 = _S3 * _S29;
          LOWORD(_S29) = *&v27[2 * llroundf(v227)];
          __asm { FCVT            S29, H29 }

          v241 = _S5 * _S29;
          v242 = _S10 * _S29;
          v243 = _S11 * _S29;
          v244 = ((v294 * v230) + (v229 * v295)) + (v231 * v293);
          v245 = ((_S6 * v230) + (v229 * v292)) + (v231 * _S7);
          v246 = ((_S17 * v230) + (v229 * _S16)) + (v231 * _S18);
          v247 = ((v294 * v234) + (v233 * v295)) + (v235 * v293);
          v248 = ((_S6 * v234) + (v233 * v292)) + (v235 * _S7);
          v249 = ((_S17 * v234) + (v233 * _S16)) + (v235 * _S18);
          v250 = ((v294 * v238) + (v237 * v295)) + (v239 * v293);
          v251 = ((_S6 * v238) + (v237 * v292)) + (v239 * _S7);
          v252 = ((_S17 * v238) + (v237 * _S16)) + (v239 * _S18);
          v253 = ((v294 * v242) + (v241 * v295)) + (v243 * v293);
          v254 = ((_S6 * v242) + (v241 * v292)) + (v243 * _S7);
          v255 = ((_S17 * v242) + (v241 * _S16)) + (v243 * _S18);
          LOWORD(v243) = *&v31[2 * llroundf(fminf(fmaxf(v245, 0.0), 8191.0))];
          LOWORD(v246) = *&v31[2 * llroundf(fminf(fmaxf(v246, 0.0), 8191.0))];
          LOWORD(v247) = *&v31[2 * llroundf(fminf(fmaxf(v247, 0.0), 8191.0))];
          LOWORD(v248) = *&v31[2 * llroundf(fminf(fmaxf(v248, 0.0), 8191.0))];
          LOWORD(v249) = *&v31[2 * llroundf(fminf(fmaxf(v249, 0.0), 8191.0))];
          LOWORD(v250) = *&v31[2 * llroundf(fminf(fmaxf(v250, 0.0), 8191.0))];
          LOWORD(v251) = *&v31[2 * llroundf(fminf(fmaxf(v251, 0.0), 8191.0))];
          LOWORD(v252) = *&v31[2 * llroundf(fminf(fmaxf(v252, 0.0), 8191.0))];
          LOWORD(v253) = *&v31[2 * llroundf(fminf(fmaxf(v253, 0.0), 8191.0))];
          LOWORD(v254) = *&v31[2 * llroundf(fminf(fmaxf(v254, 0.0), 8191.0))];
          LOWORD(v255) = *&v31[2 * llroundf(fminf(fmaxf(v255, 0.0), 8191.0))];
          *v51 = *&v31[2 * llroundf(fminf(fmaxf(v244, 0.0), 8191.0))];
          *(v51 + 2) = LOWORD(v243);
          *(v51 + 4) = LOWORD(v246);
          *(v51 + 6) = v163;
          *(v51 + 8) = LOWORD(v247);
          *(v51 + 10) = LOWORD(v248);
          *(v51 + 12) = LOWORD(v249);
          *(v51 + 14) = v163;
          *v63 = LOWORD(v250);
          *(v63 + 2) = LOWORD(v251);
          *(v63 + 4) = LOWORD(v252);
          *(v63 + 6) = v163;
          *(v63 + 8) = LOWORD(v253);
          *(v63 + 10) = LOWORD(v254);
          v160 += 2;
          v53 = (v53 + 4);
          v54 = (v54 + 4);
          *(v63 + 12) = LOWORD(v255);
          *(v63 + 14) = v163;
          v162 = (v162 + 4);
          v51 += 16;
          v63 += 16;
        }

        while (v160 < v296);
      }

      v16 = v262;
      v15 = v264;
      v54 = &v266[v264];
      v53 = (v268 + v14);
      v297 += v263 + v263;
      v51 = v267 + v262;
      v9 += 2;
    }

    while (v269 + 2 < v265);
  }

  *&v256[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_TRC_Tone_Mat_TRC_RGhA(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (8 * (v24 + v25) + 8) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 8 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Tone_Mat_TRC_RGhA_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_TRC_Tone_Mat_TRC_RGhA_GCD(unsigned __int8 *result, uint64_t a2, double a3, double a4, float a5)
{
  v5 = 2 * *result;
  v6 = *(result + 13);
  v7 = v6 * a2 / v5;
  v8 = 2 * ((v6 + v6 * a2) / v5 - v7);
  if (v8 >= 1)
  {
    v9 = 0;
    v10 = *(result + 19);
    v11 = *(result + 24) & 0xFFFFFFFE;
    v12 = *(result + 7);
    v13 = *(result + 8);
    v14 = *v13;
    v15 = v13[1];
    v16 = v13[2];
    v17 = **(result + 17);
    v18 = 8191.0 / *(v10 + 128);
    LOWORD(a5) = *(v10 + 140);
    v19 = LODWORD(a5);
    LOWORD(a5) = *(v10 + 142);
    v20 = LODWORD(a5);
    v21 = v18 * *v10;
    v156 = v18 * *(v10 + 16);
    v157 = v18 * *(v10 + 8);
    v154 = v18 * *(v10 + 28);
    v155 = v18 * *(v10 + 20);
    v152 = *(v10 + 76);
    v153 = *(v10 + 72);
    v22 = *(v10 + 80);
    v23 = *(v10 + 84);
    v24 = *(v10 + 88);
    v25 = *(v10 + 92);
    v26 = *(v10 + 96);
    v27 = *(v10 + 100);
    v28 = v10 + 164;
    v29 = v10 + 16548;
    v30 = v10 + 32932;
    v31 = *(v10 + 104);
    v32 = *(v10 + 108);
    v33 = *(v10 + 112);
    v34 = *(v10 + 116);
    v35 = *(v10 + 120);
    v36 = *(result + 44) + 2 * (*(result + 28) * a2 / v5);
    v37 = *(result + 36);
    v38 = **(result + 16) + v17 * (*(result + 15) + 2 * v7) + 8 * *(result + 14);
    v39 = v12[2];
    if (v39)
    {
      v40 = v39 + v36 * v16 + 2 * v37;
    }

    else
    {
      v40 = 0;
    }

    v41 = *(v10 + 124);
    v42 = 16 - v41;
    _CF = v41 >= 0x11;
    v44 = *v12;
    v45 = v12[1];
    v46 = (v44 + v36 * v14 + 2 * v37);
    if (_CF)
    {
      v42 = 0;
    }

    v47 = v45 + v36 / 2 * v15 + 2 * v37;
    v159 = LODWORD(a5);
    v160 = v19;
    v158 = v21;
    do
    {
      v48 = &v46[v14];
      v49 = v38 + v17;
      if (v11 >= 1)
      {
        v50 = 0;
        if (v40)
        {
          v51 = COERCE_SHORT_FLOAT(0);
        }

        else
        {
          LOWORD(v51) = COERCE_UNSIGNED_INT(1.0);
        }

        v52 = &v46[v14];
        v53 = v38 + v17;
        do
        {
          v54 = (v47 + 2 * v50);
          v55 = (v54[1] >> v42) - v20;
          v56 = v157 * v55;
          v57 = v21 * ((*v46 >> v42) - v19);
          v58 = (v157 * v55) + v57;
          v59 = 8191.0;
          if (v58 <= 8191.0)
          {
            v59 = (v157 * v55) + v57;
            if (v58 < 0.0)
            {
              v59 = 0.0;
            }
          }

          v60 = (*v54 >> v42) - v20;
          v61 = (v155 * v55) + (v60 * v156);
          v62 = 8191.0;
          if ((v57 + v61) <= 8191.0)
          {
            v62 = v57 + v61;
            if ((v57 + v61) < 0.0)
            {
              v62 = 0.0;
            }
          }

          v63 = v154 * v60;
          v64 = (v154 * v60) + v57;
          v65 = 8191.0;
          if (v64 <= 8191.0)
          {
            v65 = v64;
            if (v64 < 0.0)
            {
              v65 = 0.0;
            }
          }

          v66 = v21 * ((*(v46 + 1) >> v42) - v19);
          v67 = 8191.0;
          if ((v56 + v66) <= 8191.0)
          {
            v67 = v56 + v66;
            if ((v56 + v66) < 0.0)
            {
              v67 = 0.0;
            }
          }

          v68 = 8191.0;
          if ((v61 + v66) <= 8191.0)
          {
            v68 = v61 + v66;
            if ((v61 + v66) < 0.0)
            {
              v68 = 0.0;
            }
          }

          v69 = v63 + v66;
          v70 = 8191.0;
          if (v69 <= 8191.0)
          {
            v70 = v69;
            if (v69 < 0.0)
            {
              v70 = 0.0;
            }
          }

          v71 = v21 * ((*v52 >> v42) - v19);
          v72 = 8191.0;
          if ((v56 + v71) <= 8191.0)
          {
            v72 = v56 + v71;
            if ((v56 + v71) < 0.0)
            {
              v72 = 0.0;
            }
          }

          v73 = 8191.0;
          if ((v61 + v71) <= 8191.0)
          {
            v73 = v61 + v71;
            if ((v61 + v71) < 0.0)
            {
              v73 = 0.0;
            }
          }

          v74 = v63 + v71;
          v75 = 8191.0;
          if (v74 <= 8191.0)
          {
            v75 = v74;
            if (v74 < 0.0)
            {
              v75 = 0.0;
            }
          }

          v76 = v21 * ((*(v52 + 1) >> v42) - v19);
          v77 = v56 + v76;
          v78 = (v56 + v76) <= 8191.0;
          v79 = 8191.0;
          if (v78)
          {
            v79 = v77;
            if (v77 < 0.0)
            {
              v79 = 0.0;
            }
          }

          v80 = v61 + v76;
          v78 = (v61 + v76) <= 8191.0;
          v81 = 8191.0;
          if (v78)
          {
            v81 = v80;
            if (v80 < 0.0)
            {
              v81 = 0.0;
            }
          }

          v82 = v63 + v76;
          v78 = (v63 + v76) <= 8191.0;
          v83 = 8191.0;
          if (v78)
          {
            v83 = v82;
            if (v82 < 0.0)
            {
              v83 = 0.0;
            }
          }

          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v59, 0.0), 8191.0)));
          __asm { FCVT            S9, H2 }

          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v62, 0.0), 8191.0)));
          __asm { FCVT            S10, H2 }

          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v65, 0.0), 8191.0)));
          __asm { FCVT            S11, H2 }

          _H3 = *(v28 + 2 * llroundf(fminf(fmaxf(v67, 0.0), 8191.0)));
          _H16 = *(v28 + 2 * llroundf(fminf(fmaxf(v68, 0.0), 8191.0)));
          _H17 = *(v28 + 2 * llroundf(fminf(fmaxf(v70, 0.0), 8191.0)));
          _H15 = *(v28 + 2 * llroundf(fminf(fmaxf(v72, 0.0), 8191.0)));
          _H7 = *(v28 + 2 * llroundf(fminf(fmaxf(v73, 0.0), 8191.0)));
          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v75, 0.0), 8191.0)));
          _H29 = *(v28 + 2 * llroundf(fminf(fmaxf(v79, 0.0), 8191.0)));
          _H30 = *(v28 + 2 * llroundf(fminf(fmaxf(v81, 0.0), 8191.0)));
          _H13 = *(v28 + 2 * llroundf(fminf(fmaxf(v83, 0.0), 8191.0)));
          v102 = (((v33 * _S10) + (v32 * _S9)) + (v34 * _S11)) + (v35 * fmaxf(_S9, fmaxf(_S10, _S11)));
          v103 = 8191.0;
          if (v102 <= 8191.0)
          {
            v103 = v102;
            if (v102 < 0.0)
            {
              v103 = 0.0;
            }
          }

          __asm
          {
            FCVT            S4, H3
            FCVT            S5, H16
            FCVT            S6, H17
          }

          _H12 = *(v29 + 2 * llroundf(v103));
          v108 = (((v33 * _S5) + (v32 * _S4)) + (v34 * _S6)) + (v35 * fmaxf(_S4, fmaxf(_S5, _S6)));
          v109 = 8191.0;
          if (v108 <= 8191.0)
          {
            v109 = v108;
            if (v108 < 0.0)
            {
              v109 = 0.0;
            }
          }

          __asm
          {
            FCVT            S14, H15
            FCVT            S15, H7
            FCVT            S7, H2
          }

          _H1 = *(v29 + 2 * llroundf(v109));
          v114 = fmaxf(_S14, fmaxf(_S15, _S7));
          v115 = (((v33 * _S15) + (v32 * _S14)) + (v34 * _S7)) + (v35 * v114);
          v116 = 8191.0;
          if (v115 <= 8191.0)
          {
            v116 = (((v33 * _S15) + (v32 * _S14)) + (v34 * _S7)) + (v35 * v114);
            if (v115 < 0.0)
            {
              v116 = 0.0;
            }
          }

          __asm
          {
            FCVT            S2, H29
            FCVT            S3, H30
            FCVT            S16, H13
          }

          _H17 = *(v29 + 2 * llroundf(v116));
          v121 = (((v33 * _S3) + (v32 * _S2)) + (v34 * _S16)) + (v35 * fmaxf(_S2, fmaxf(_S3, _S16)));
          v122 = 8191.0;
          if (v121 <= 8191.0)
          {
            v122 = v121;
            if (v121 < 0.0)
            {
              v122 = 0.0;
            }
          }

          __asm { FCVT            S30, H12 }

          v124 = _S9 * _S30;
          v125 = _S10 * _S30;
          v126 = _S11 * _S30;
          __asm { FCVT            S1, H1 }

          v128 = _S4 * _S1;
          v129 = _S5 * _S1;
          v130 = _S6 * _S1;
          __asm { FCVT            S6, H17 }

          v132 = _S14 * _S6;
          v133 = _S15 * _S6;
          v134 = _S7 * _S6;
          _H7 = *(v29 + 2 * llroundf(v122));
          __asm { FCVT            S7, H7 }

          v137 = _S2 * _S7;
          v138 = _S3 * _S7;
          v139 = _S16 * _S7;
          v140 = ((v152 * v125) + (v124 * v153)) + (v126 * v22);
          v141 = ((v24 * v125) + (v124 * v23)) + (v126 * v25);
          v142 = ((v27 * v125) + (v124 * v26)) + (v126 * v31);
          v143 = ((v152 * v129) + (v128 * v153)) + (v130 * v22);
          v144 = ((v24 * v129) + (v128 * v23)) + (v130 * v25);
          v145 = ((v27 * v129) + (v128 * v26)) + (v130 * v31);
          v146 = ((v152 * v133) + (v132 * v153)) + (v134 * v22);
          v147 = ((v24 * v133) + (v132 * v23)) + (v134 * v25);
          v148 = ((v27 * v133) + (v132 * v26)) + (v134 * v31);
          v149 = ((v152 * v138) + (v137 * v153)) + (v139 * v22);
          v150 = ((v24 * v138) + (v137 * v23)) + (v139 * v25);
          v151 = ((v27 * v138) + (v137 * v26)) + (v139 * v31);
          LOWORD(v138) = *(v30 + 2 * llroundf(fminf(fmaxf(v141, 0.0), 8191.0)));
          LOWORD(v139) = *(v30 + 2 * llroundf(fminf(fmaxf(v142, 0.0), 8191.0)));
          LOWORD(v141) = *(v30 + 2 * llroundf(fminf(fmaxf(v143, 0.0), 8191.0)));
          LOWORD(v142) = *(v30 + 2 * llroundf(fminf(fmaxf(v144, 0.0), 8191.0)));
          LOWORD(v145) = *(v30 + 2 * llroundf(fminf(fmaxf(v145, 0.0), 8191.0)));
          LOWORD(v146) = *(v30 + 2 * llroundf(fminf(fmaxf(v146, 0.0), 8191.0)));
          LOWORD(v147) = *(v30 + 2 * llroundf(fminf(fmaxf(v147, 0.0), 8191.0)));
          LOWORD(v148) = *(v30 + 2 * llroundf(fminf(fmaxf(v148, 0.0), 8191.0)));
          LOWORD(v149) = *(v30 + 2 * llroundf(fminf(fmaxf(v149, 0.0), 8191.0)));
          LOWORD(v143) = *(v30 + 2 * llroundf(fminf(fmaxf(v150, 0.0), 8191.0)));
          LOWORD(v151) = *(v30 + 2 * llroundf(fminf(fmaxf(v151, 0.0), 8191.0)));
          *v38 = *(v30 + 2 * llroundf(fminf(fmaxf(v140, 0.0), 8191.0)));
          *(v38 + 2) = LOWORD(v138);
          *(v38 + 4) = LOWORD(v139);
          *(v38 + 6) = v51;
          *(v38 + 8) = LOWORD(v141);
          *(v38 + 10) = LOWORD(v142);
          *(v38 + 12) = LOWORD(v145);
          *(v38 + 14) = v51;
          *v53 = LOWORD(v146);
          *(v53 + 2) = LOWORD(v147);
          *(v53 + 4) = LOWORD(v148);
          *(v53 + 6) = v51;
          v46 += 4;
          v52 += 4;
          v38 += 16;
          *(v53 + 8) = LOWORD(v149);
          *(v53 + 10) = LOWORD(v143);
          *(v53 + 12) = LOWORD(v151);
          *(v53 + 14) = v51;
          v53 += 16;
          v50 += 2;
          v20 = v159;
          v19 = v160;
          v21 = v158;
        }

        while (v50 < v11);
      }

      v46 = &v48[v14];
      v47 += v15;
      v40 += v16 + v16;
      v38 = v49 + v17;
      v9 += 2;
    }

    while (v9 < v8);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_TRC_Mat_TRC_RGhA_neon_fp16(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (8 * (v24 + v25) + 8) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 8 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Mat_TRC_RGhA_neon_fp16_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_TRC_Mat_TRC_RGhA_neon_fp16_GCD(unsigned __int8 *result, uint64_t a2, int16x4_t a3, double a4, float32x4_t a5, float32x4_t a6)
{
  v6 = 2 * *result;
  v186 = result;
  v7 = *(result + 13);
  v8 = v7 * a2 / v6;
  v9 = 2 * ((v7 + v7 * a2) / v6 - v8);
  if (v9 >= 1)
  {
    v10 = 0;
    v11 = *(result + 24);
    v12 = *(result + 19);
    v13 = *(result + 7);
    v14 = *(result + 8);
    v15 = *v14;
    v16 = v14[1];
    v17 = v14[2];
    v18 = **(result + 17);
    v19 = v12[17].u16[2];
    v20 = v12[17].u16[3];
    a3.i32[0] = v12->i32[0];
    v21.i32[0] = v12[3].i32[1];
    _S16 = v12[13].f32[0];
    v23 = &v12[20] + 4;
    v24 = v11 & 0xFFFFFFFE;
    a5.f32[0] = 8191.0 / v12[16].u32[0];
    v25 = v19;
    v26 = v20;
    _S20 = a5.f32[0] * v12->f32[0];
    v28 = &v12[2068] + 4;
    __asm { FCVT            H8, S20 }

    *a3.i16 = v19;
    v213 = vdupq_lane_s16(a3, 0);
    v21.i32[1] = v12[1].i32[0];
    *a6.f32 = vmul_n_f32(v21, a5.f32[0]);
    *a5.f32 = vmul_n_f32(v12[2], a5.f32[0]);
    v34 = -v20;
    v211 = vdupq_lane_s32(vcvt_f16_f32(a6), 0);
    v208 = vmulq_n_f16(v211, v34);
    v209 = vdupq_lane_s32(vcvt_f16_f32(a5), 0);
    v207 = vmulq_n_f16(v209, v34);
    v205 = v12[9].f32[0];
    __asm { FCVT            H0, S21 }

    v206 = _H0;
    v203 = v12[9].f32[1];
    __asm { FCVT            H0, S22 }

    v204 = _H0;
    v201 = v12[10].f32[0];
    __asm { FCVT            H0, S23 }

    v202 = _H0;
    v199 = v12[10].f32[1];
    __asm { FCVT            H0, S24 }

    v200 = _H0;
    v197 = v12[11].f32[0];
    __asm { FCVT            H0, S4 }

    v198 = _H0;
    v195 = v12[11].f32[1];
    __asm { FCVT            H0, S5 }

    v196 = _H0;
    v192 = v12[12].f32[0];
    __asm { FCVT            H0, S6 }

    v194 = _H0;
    v190 = v12[12].f32[1];
    __asm { FCVT            H0, S7 }

    v193 = _H0;
    __asm { FCVT            H0, S16 }

    v191 = _H0;
    v44 = v12[15].u8[4];
    v46 = v13[1];
    v45 = v13[2];
    v47 = *(result + 44) + 2 * (*(result + 28) * a2 / v6);
    v48 = *v13;
    v49 = v46 + v16 * (v47 / 2);
    v50 = *(result + 15) + 2 * v8;
    v51 = *(result + 36);
    if (v44 >= 0x11)
    {
      v52 = 0;
    }

    else
    {
      v52 = 16 - v44;
    }

    v53 = **(result + 16) + v18 * v50 + 8 * *(result + 14);
    if (v45)
    {
      v54 = v45 + v17 * v47 + 2 * v51;
    }

    else
    {
      v54 = 0;
    }

    v58 = vdupq_n_s16(-v52);
    v189 = v58;
    v55 = (v49 + 2 * v51);
    v210 = a5.f32[0];
    v56 = (v48 + v15 * v47 + 2 * v51);
    v57 = v52;
    v58.i32[0] = a6.i32[1];
    LODWORD(v187) = HIDWORD(a6.u64[0]);
    LODWORD(v212) = a6.i64[0];
    v188 = a5.f32[1];
    v59.i64[0] = 0x9000900090009000;
    v59.i64[1] = 0x9000900090009000;
    do
    {
      v60 = &v56->i8[v15];
      v61 = v53 + v18;
      if (v11 < 8)
      {
        v119 = 0;
        v65 = v53 + v18;
        v64 = v55;
        v63 = (v56 + v15);
      }

      else
      {
        v62 = 0;
        v63 = (v56 + v15);
        v64 = v55;
        v65 = v53 + v18;
        do
        {
          if (v54)
          {
            v66 = vcvt_hight_f16_f32(vcvt_f16_f32(0), 0);
          }

          else
          {
            v66.i64[0] = 0x3C003C003C003C00;
            v66.i64[1] = 0x3C003C003C003C00;
          }

          v67 = *v64++;
          v68 = vcvtq_f16_u16(vshlq_u16(v67, v189));
          v69 = vmlaq_f16(v208, v211, v68);
          v70 = vmlaq_f16(v207, v209, v68);
          v71 = vtrn2q_s16(v69, v69);
          v72 = vtrn1q_s16(v69, v69);
          v73 = vuzp1q_s16(v70, v58);
          *v73.i8 = vadd_f16(*v73.i8, *&vuzp2q_s16(v70, v58));
          v74 = vzip1q_s16(v73, v73);
          v75 = *v56++;
          v76 = vcvtq_f16_u16(vshlq_u16(v75, v189));
          v77 = *v63++;
          v78 = vsubq_f16(v76, v213);
          v79 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(v77, v189)), v213);
          v80 = vmlaq_n_f16(v71, v78, _H8);
          v81 = vmlaq_n_f16(v71, v79, _H8);
          v82 = vmlaq_n_f16(v74, v78, _H8);
          v83 = vmlaq_n_f16(v74, v79, _H8);
          v84 = vmlaq_n_f16(v72, v78, _H8);
          v85 = vmlaq_n_f16(v72, v79, _H8);
          v86 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v80, 0), v59));
          v87.i16[0] = *&v23[2 * v86.u16[0]];
          v87.i16[1] = *&v23[2 * v86.u16[1]];
          v87.i16[2] = *&v23[2 * v86.u16[2]];
          v87.i16[3] = *&v23[2 * v86.u16[3]];
          v87.i16[4] = *&v23[2 * v86.u16[4]];
          v87.i16[5] = *&v23[2 * v86.u16[5]];
          v87.i16[6] = *&v23[2 * v86.u16[6]];
          v87.i16[7] = *&v23[2 * v86.u16[7]];
          v88 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v82, 0), v59));
          v86.i16[0] = *&v23[2 * v88.u16[0]];
          v86.i16[1] = *&v23[2 * v88.u16[1]];
          v86.i16[2] = *&v23[2 * v88.u16[2]];
          v86.i16[3] = *&v23[2 * v88.u16[3]];
          v86.i16[4] = *&v23[2 * v88.u16[4]];
          v86.i16[5] = *&v23[2 * v88.u16[5]];
          v86.i16[6] = *&v23[2 * v88.u16[6]];
          v86.i16[7] = *&v23[2 * v88.u16[7]];
          v89 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v84, 0), v59));
          v90.i16[0] = *&v23[2 * v89.u16[0]];
          v90.i16[1] = *&v23[2 * v89.u16[1]];
          v90.i16[2] = *&v23[2 * v89.u16[2]];
          v90.i16[3] = *&v23[2 * v89.u16[3]];
          v90.i16[4] = *&v23[2 * v89.u16[4]];
          v90.i16[5] = *&v23[2 * v89.u16[5]];
          v90.i16[6] = *&v23[2 * v89.u16[6]];
          v90.i16[7] = *&v23[2 * v89.u16[7]];
          v91 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v81, 0), v59));
          v81.i16[0] = *&v23[2 * v91.u16[0]];
          v81.i16[1] = *&v23[2 * v91.u16[1]];
          v81.i16[2] = *&v23[2 * v91.u16[2]];
          v81.i16[3] = *&v23[2 * v91.u16[3]];
          v81.i16[4] = *&v23[2 * v91.u16[4]];
          v81.i16[5] = *&v23[2 * v91.u16[5]];
          v81.i16[6] = *&v23[2 * v91.u16[6]];
          v81.i16[7] = *&v23[2 * v91.u16[7]];
          v92 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v83, 0), v59));
          v91.i16[0] = *&v23[2 * v92.u16[0]];
          v91.i16[1] = *&v23[2 * v92.u16[1]];
          v91.i16[2] = *&v23[2 * v92.u16[2]];
          v91.i16[3] = *&v23[2 * v92.u16[3]];
          v91.i16[4] = *&v23[2 * v92.u16[4]];
          v91.i16[5] = *&v23[2 * v92.u16[5]];
          v91.i16[6] = *&v23[2 * v92.u16[6]];
          v91.i16[7] = *&v23[2 * v92.u16[7]];
          v93 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v85, 0), v59));
          v82.i16[0] = *&v23[2 * v93.u16[0]];
          v82.i16[1] = *&v23[2 * v93.u16[1]];
          v82.i16[2] = *&v23[2 * v93.u16[2]];
          v82.i16[3] = *&v23[2 * v93.u16[3]];
          v82.i16[4] = *&v23[2 * v93.u16[4]];
          v82.i16[5] = *&v23[2 * v93.u16[5]];
          v82.i16[6] = *&v23[2 * v93.u16[6]];
          v82.i16[7] = *&v23[2 * v93.u16[7]];
          v94 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v87, v206), v86, v204), v90, v202);
          v214.val[2] = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v87, v200), v86, v198), v90, v196);
          v214.val[1] = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v90, v191), v86, v193), v87, v194);
          v95 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v81, v206), v91, v204), v82, v202);
          v96 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v81, v200), v91, v198), v82, v196);
          v97 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v82, v191), v91, v193), v81, v194);
          v98 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v94, 0), v59));
          v58.i16[0] = *&v28[2 * v98.u16[0]];
          v58.i16[1] = *&v28[2 * v98.u16[1]];
          v58.i16[2] = *&v28[2 * v98.u16[2]];
          v58.i16[3] = *&v28[2 * v98.u16[3]];
          v58.i16[4] = *&v28[2 * v98.u16[4]];
          v58.i16[5] = *&v28[2 * v98.u16[5]];
          v58.i16[6] = *&v28[2 * v98.u16[6]];
          v58.i16[7] = *&v28[2 * v98.u16[7]];
          v99 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v214.val[2], 0), v59));
          v100 = *&v28[2 * v99.u16[0]];
          v101 = *&v28[2 * v99.u16[1]];
          v102 = *&v28[2 * v99.u16[2]];
          v103 = *&v28[2 * v99.u16[3]];
          v104 = *&v28[2 * v99.u16[4]];
          v105 = *&v28[2 * v99.u16[5]];
          v106 = *&v28[2 * v99.u16[6]];
          v107 = *&v28[2 * v99.u16[7]];
          v214.val[0] = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v214.val[1], 0), v59));
          v108 = *&v28[2 * v214.val[0].u16[0]];
          v109 = *&v28[2 * v214.val[0].u16[1]];
          v110 = *&v28[2 * v214.val[0].u16[2]];
          v111 = *&v28[2 * v214.val[0].u16[3]];
          v112 = *&v28[2 * v214.val[0].u16[4]];
          v113 = *&v28[2 * v214.val[0].u16[5]];
          v114 = *&v28[2 * v214.val[0].u16[6]];
          v115 = *&v28[2 * v214.val[0].u16[7]];
          v116 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v95, 0), v59));
          v214.val[0].i16[0] = *&v28[2 * v116.u16[0]];
          v214.val[0].i16[1] = *&v28[2 * v116.u16[1]];
          v214.val[0].i16[2] = *&v28[2 * v116.u16[2]];
          v214.val[0].i16[3] = *&v28[2 * v116.u16[3]];
          v214.val[0].i16[4] = *&v28[2 * v116.u16[4]];
          v214.val[0].i16[5] = *&v28[2 * v116.u16[5]];
          v214.val[0].i16[6] = *&v28[2 * v116.u16[6]];
          v214.val[0].i16[7] = *&v28[2 * v116.u16[7]];
          v117 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v96, 0), v59));
          v214.val[1].i16[0] = *&v28[2 * v117.u16[0]];
          v214.val[1].i16[1] = *&v28[2 * v117.u16[1]];
          v214.val[1].i16[2] = *&v28[2 * v117.u16[2]];
          v214.val[1].i16[3] = *&v28[2 * v117.u16[3]];
          v214.val[1].i16[4] = *&v28[2 * v117.u16[4]];
          v214.val[1].i16[5] = *&v28[2 * v117.u16[5]];
          v214.val[1].i16[6] = *&v28[2 * v117.u16[6]];
          v214.val[1].i16[7] = *&v28[2 * v117.u16[7]];
          v118 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v97, 0), v59));
          v214.val[2].i16[0] = *&v28[2 * v118.u16[0]];
          v214.val[2].i16[1] = *&v28[2 * v118.u16[1]];
          v214.val[2].i16[2] = *&v28[2 * v118.u16[2]];
          v214.val[2].i16[3] = *&v28[2 * v118.u16[3]];
          v214.val[2].i16[4] = *&v28[2 * v118.u16[4]];
          v214.val[2].i16[5] = *&v28[2 * v118.u16[5]];
          v214.val[2].i16[6] = *&v28[2 * v118.u16[6]];
          v214.val[2].i16[7] = *&v28[2 * v118.u16[7]];
          vst4q_s16(v53, *v58.i8);
          v53 += 64;
          v214.val[3] = v66;
          vst4q_s16(v65, v214);
          v65 += 64;
          v62 += 8;
        }

        while (v62 < v11 - 7);
        v119 = v11 & 0xFFFFFFF8;
      }

      if (v119 < v24)
      {
        v58.i32[1] = 0;
        if (v54)
        {
          v120 = COERCE_SHORT_FLOAT(0);
        }

        else
        {
          LOWORD(v120) = COERCE_UNSIGNED_INT(1.0);
        }

        do
        {
          v121 = (v64->u16[1] >> v57) - v26;
          v122 = v187 * v121;
          v123 = _S20 * ((v56->u16[0] >> v57) - v25);
          v124 = (v187 * v121) + v123;
          v125 = 8191.0;
          if (v124 <= 8191.0)
          {
            v125 = (v187 * v121) + v123;
            if (v124 < 0.0)
            {
              v125 = 0.0;
            }
          }

          v126 = (v64->u16[0] >> v57) - v26;
          v127 = (v188 * v121) + (v126 * v210);
          v128 = 8191.0;
          if ((v123 + v127) <= 8191.0)
          {
            v128 = v123 + v127;
            if ((v123 + v127) < 0.0)
            {
              v128 = 0.0;
            }
          }

          v129 = v212 * v126;
          v130 = v129 + v123;
          v131 = 8191.0;
          if (v130 <= 8191.0)
          {
            v131 = v130;
            if (v130 < 0.0)
            {
              v131 = 0.0;
            }
          }

          v132 = _S20 * ((v56->u16[1] >> v57) - v25);
          v58.i32[0] = 1174403072;
          if ((v122 + v132) <= 8191.0)
          {
            *v58.i32 = v122 + v132;
            if ((v122 + v132) < 0.0)
            {
              v58.i64[0] = 0;
            }
          }

          v133 = 8191.0;
          if ((v127 + v132) <= 8191.0)
          {
            v133 = v127 + v132;
            if ((v127 + v132) < 0.0)
            {
              v133 = 0.0;
            }
          }

          v134 = v129 + v132;
          v135 = (v129 + v132) <= 8191.0;
          v136 = 8191.0;
          if (v135)
          {
            v136 = v134;
            if (v134 < 0.0)
            {
              v136 = 0.0;
            }
          }

          v137 = _S20 * ((v63->u16[0] >> v57) - v25);
          v138 = 8191.0;
          if ((v122 + v137) <= 8191.0)
          {
            v138 = v122 + v137;
            if ((v122 + v137) < 0.0)
            {
              v138 = 0.0;
            }
          }

          v139 = 8191.0;
          if ((v127 + v137) <= 8191.0)
          {
            v139 = v127 + v137;
            if ((v127 + v137) < 0.0)
            {
              v139 = 0.0;
            }
          }

          v140 = v129 + v137;
          v135 = (v129 + v137) <= 8191.0;
          v141 = 8191.0;
          if (v135)
          {
            v141 = v140;
            if (v140 < 0.0)
            {
              v141 = 0.0;
            }
          }

          v142 = _S20 * ((v63->u16[1] >> v57) - v25);
          v143 = v122 + v142;
          v144 = 8191.0;
          if (v143 <= 8191.0)
          {
            v144 = v143;
            if (v143 < 0.0)
            {
              v144 = 0.0;
            }
          }

          v145 = v127 + v142;
          v135 = (v127 + v142) <= 8191.0;
          v146 = 8191.0;
          if (v135)
          {
            v146 = v145;
            if (v145 < 0.0)
            {
              v146 = 0.0;
            }
          }

          v147 = v129 + v142;
          v135 = (v129 + v142) <= 8191.0;
          v148 = 8191.0;
          if (v135)
          {
            v148 = v147;
            if (v147 < 0.0)
            {
              v148 = 0.0;
            }
          }

          _H19 = *&v23[2 * llroundf(fminf(fmaxf(v125, 0.0), 8191.0))];
          _H21 = *&v23[2 * llroundf(fminf(fmaxf(v128, 0.0), 8191.0))];
          __asm
          {
            FCVT            S19, H19
            FCVT            S21, H21
          }

          _H25 = *&v23[2 * llroundf(fminf(fmaxf(v131, 0.0), 8191.0))];
          v154 = llroundf(fminf(fmaxf(*v58.i32, 0.0), 8191.0));
          __asm { FCVT            S0, H25 }

          _H25 = *&v23[2 * v154];
          __asm { FCVT            S25, H25 }

          _H3 = *&v23[2 * llroundf(fminf(fmaxf(v133, 0.0), 8191.0))];
          __asm { FCVT            S3, H3 }

          _H26 = *&v23[2 * llroundf(fminf(fmaxf(v136, 0.0), 8191.0))];
          __asm { FCVT            S26, H26 }

          _H27 = *&v23[2 * llroundf(fminf(fmaxf(v138, 0.0), 8191.0))];
          _H29 = *&v23[2 * llroundf(fminf(fmaxf(v139, 0.0), 8191.0))];
          __asm
          {
            FCVT            S27, H27
            FCVT            S29, H29
          }

          _H30 = *&v23[2 * llroundf(fminf(fmaxf(v141, 0.0), 8191.0))];
          __asm { FCVT            S30, H30 }

          _H10 = *&v23[2 * llroundf(fminf(fmaxf(v144, 0.0), 8191.0))];
          __asm { FCVT            S10, H10 }

          _H1 = *&v23[2 * llroundf(fminf(fmaxf(v146, 0.0), 8191.0))];
          __asm { FCVT            S1, H1 }

          _H2 = *&v23[2 * llroundf(fminf(fmaxf(v148, 0.0), 8191.0))];
          __asm { FCVT            S2, H2 }

          v174 = ((v203 * _S21) + (_S19 * v205)) + (_S0 * v201);
          v175 = ((v197 * _S21) + (_S19 * v199)) + (_S0 * v195);
          v176 = ((v190 * _S21) + (_S19 * v192)) + (_S0 * _S16);
          v177 = ((v203 * _S3) + (_S25 * v205)) + (_S26 * v201);
          v178 = ((v197 * _S3) + (_S25 * v199)) + (_S26 * v195);
          v179 = ((v190 * _S3) + (_S25 * v192)) + (_S26 * _S16);
          v180 = ((v203 * _S29) + (_S27 * v205)) + (_S30 * v201);
          v181 = ((v197 * _S29) + (_S27 * v199)) + (_S30 * v195);
          v182 = ((v190 * _S29) + (_S27 * v192)) + (_S30 * _S16);
          v183 = ((v203 * _S1) + (_S10 * v205)) + (_S2 * v201);
          v184 = ((v197 * _S1) + (_S10 * v199)) + (_S2 * v195);
          v185 = ((v190 * _S1) + (_S10 * v192)) + (_S2 * _S16);
          LOWORD(_S2) = *&v28[2 * llroundf(fminf(fmaxf(v175, 0.0), 8191.0))];
          *v58.i32 = fminf(fmaxf(v176, 0.0), 8191.0);
          v58.i16[0] = *&v28[2 * llroundf(*v58.i32)];
          LOWORD(v177) = *&v28[2 * llroundf(fminf(fmaxf(v177, 0.0), 8191.0))];
          LOWORD(v178) = *&v28[2 * llroundf(fminf(fmaxf(v178, 0.0), 8191.0))];
          LOWORD(v179) = *&v28[2 * llroundf(fminf(fmaxf(v179, 0.0), 8191.0))];
          LOWORD(v180) = *&v28[2 * llroundf(fminf(fmaxf(v180, 0.0), 8191.0))];
          LOWORD(v181) = *&v28[2 * llroundf(fminf(fmaxf(v181, 0.0), 8191.0))];
          LOWORD(v182) = *&v28[2 * llroundf(fminf(fmaxf(v182, 0.0), 8191.0))];
          LOWORD(v183) = *&v28[2 * llroundf(fminf(fmaxf(v183, 0.0), 8191.0))];
          LOWORD(v184) = *&v28[2 * llroundf(fminf(fmaxf(v184, 0.0), 8191.0))];
          LOWORD(v185) = *&v28[2 * llroundf(fminf(fmaxf(v185, 0.0), 8191.0))];
          *v53 = *&v28[2 * llroundf(fminf(fmaxf(v174, 0.0), 8191.0))];
          *(v53 + 2) = LOWORD(_S2);
          *(v53 + 4) = v58.i16[0];
          *(v53 + 6) = v120;
          *(v53 + 8) = LOWORD(v177);
          *(v53 + 10) = LOWORD(v178);
          *(v53 + 12) = LOWORD(v179);
          *(v53 + 14) = v120;
          *v65 = LOWORD(v180);
          *(v65 + 2) = LOWORD(v181);
          *(v65 + 4) = LOWORD(v182);
          *(v65 + 6) = v120;
          *(v65 + 8) = LOWORD(v183);
          *(v65 + 10) = LOWORD(v184);
          v119 += 2;
          v64 = (v64 + 4);
          v56 = (v56 + 4);
          *(v65 + 12) = LOWORD(v185);
          *(v65 + 14) = v120;
          v63 = (v63 + 4);
          v53 += 16;
          v65 += 16;
        }

        while (v119 < v24);
      }

      result = (v54 + v17);
      v56 = &v60[v15];
      v55 = (v55 + v16);
      v54 += v17 + v17;
      v53 = v61 + v18;
      v10 += 2;
    }

    while (v10 < v9);
  }

  *&v186[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_TRC_Mat_TRC_RGhA(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (8 * (v24 + v25) + 8) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 8 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Mat_TRC_RGhA_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_TRC_Mat_TRC_RGhA_GCD(unsigned __int8 *result, uint64_t a2, double a3, double a4, float a5)
{
  v5 = 2 * *result;
  v6 = *(result + 13);
  v7 = v6 * a2 / v5;
  v8 = 2 * ((v6 + v6 * a2) / v5 - v7);
  if (v8 >= 1)
  {
    v9 = 0;
    v10 = *(result + 19);
    v11 = *(result + 24) & 0xFFFFFFFE;
    v12 = *(result + 7);
    v13 = *(result + 8);
    v14 = *v13;
    v15 = v13[1];
    v16 = v13[2];
    v17 = **(result + 17);
    *&v18 = *(v10 + 128);
    v19 = 8191.0 / *&v18;
    LOWORD(v18) = *(v10 + 140);
    v20 = v18;
    LOWORD(a5) = *(v10 + 142);
    v21 = LODWORD(a5);
    v22 = v19 * *v10;
    v124 = v19 * *(v10 + 8);
    v23 = v19 * *(v10 + 16);
    v24 = v19 * *(v10 + 20);
    v25 = v19 * *(v10 + 28);
    v26 = *(v10 + 72);
    v27 = *(v10 + 76);
    v28 = *(v10 + 80);
    v29 = *(v10 + 84);
    v30 = *(v10 + 88);
    v31 = *(v10 + 92);
    v32 = *(v10 + 96);
    v33 = *(v10 + 100);
    v34 = *(v10 + 104);
    v35 = v10 + 164;
    v36 = v10 + 16548;
    v37 = *(result + 44) + 2 * (*(result + 28) * a2 / v5);
    v38 = *(result + 36);
    v39 = **(result + 16) + v17 * (*(result + 15) + 2 * v7) + 8 * *(result + 14);
    v40 = v12[2];
    if (v40)
    {
      v41 = v40 + v37 * v16 + 2 * v38;
    }

    else
    {
      v41 = 0;
    }

    v42 = *(v10 + 124);
    v43 = 16 - v42;
    _CF = v42 >= 0x11;
    v45 = *v12;
    v46 = v12[1];
    v47 = (v45 + v37 * v14 + 2 * v38);
    if (_CF)
    {
      v43 = 0;
    }

    v48 = v46 + v37 / 2 * v15 + 2 * v38;
    do
    {
      v49 = &v47[v14];
      v50 = v39 + v17;
      if (v11 >= 1)
      {
        v51 = 0;
        if (v41)
        {
          v52 = COERCE_SHORT_FLOAT(0);
        }

        else
        {
          LOWORD(v52) = COERCE_UNSIGNED_INT(1.0);
        }

        v53 = &v47[v14];
        v54 = v39 + v17;
        do
        {
          v55 = (v48 + 2 * v51);
          v56 = (v55[1] >> v43) - v21;
          v57 = v124 * v56;
          v58 = v22 * ((*v47 >> v43) - v20);
          v59 = (v124 * v56) + v58;
          v60 = 8191.0;
          if (v59 <= 8191.0)
          {
            v60 = (v124 * v56) + v58;
            if (v59 < 0.0)
            {
              v60 = 0.0;
            }
          }

          v61 = (*v55 >> v43) - v21;
          v62 = (v24 * v56) + (v61 * v23);
          v63 = 8191.0;
          if ((v58 + v62) <= 8191.0)
          {
            v63 = v58 + v62;
            if ((v58 + v62) < 0.0)
            {
              v63 = 0.0;
            }
          }

          v64 = v25 * v61;
          v65 = (v25 * v61) + v58;
          v66 = 8191.0;
          if (v65 <= 8191.0)
          {
            v66 = v65;
            if (v65 < 0.0)
            {
              v66 = 0.0;
            }
          }

          v67 = v22 * ((*(v47 + 1) >> v43) - v20);
          v68 = 8191.0;
          if ((v57 + v67) <= 8191.0)
          {
            v68 = v57 + v67;
            if ((v57 + v67) < 0.0)
            {
              v68 = 0.0;
            }
          }

          v69 = 8191.0;
          if ((v62 + v67) <= 8191.0)
          {
            v69 = v62 + v67;
            if ((v62 + v67) < 0.0)
            {
              v69 = 0.0;
            }
          }

          v70 = v64 + v67;
          v71 = 8191.0;
          if (v70 <= 8191.0)
          {
            v71 = v70;
            if (v70 < 0.0)
            {
              v71 = 0.0;
            }
          }

          v72 = v22 * ((*v53 >> v43) - v20);
          v73 = 8191.0;
          if ((v57 + v72) <= 8191.0)
          {
            v73 = v57 + v72;
            if ((v57 + v72) < 0.0)
            {
              v73 = 0.0;
            }
          }

          v74 = 8191.0;
          if ((v62 + v72) <= 8191.0)
          {
            v74 = v62 + v72;
            if ((v62 + v72) < 0.0)
            {
              v74 = 0.0;
            }
          }

          v75 = v64 + v72;
          v76 = (v64 + v72) <= 8191.0;
          v77 = 8191.0;
          if (v76)
          {
            v77 = v75;
            if (v75 < 0.0)
            {
              v77 = 0.0;
            }
          }

          v78 = v22 * ((*(v53 + 1) >> v43) - v20);
          v79 = v57 + v78;
          v80 = 8191.0;
          if (v79 <= 8191.0)
          {
            v80 = v79;
            if (v79 < 0.0)
            {
              v80 = 0.0;
            }
          }

          v81 = v62 + v78;
          v76 = (v62 + v78) <= 8191.0;
          v82 = 8191.0;
          if (v76)
          {
            v82 = v81;
            if (v81 < 0.0)
            {
              v82 = 0.0;
            }
          }

          v83 = v64 + v78;
          v84 = 8191.0;
          if (v83 <= 8191.0)
          {
            v84 = v83;
            if (v83 < 0.0)
            {
              v84 = 0.0;
            }
          }

          _H26 = *(v35 + 2 * llroundf(fminf(fmaxf(v60, 0.0), 8191.0)));
          __asm { FCVT            S26, H26 }

          _H29 = *(v35 + 2 * llroundf(fminf(fmaxf(v63, 0.0), 8191.0)));
          __asm { FCVT            S29, H29 }

          _H30 = *(v35 + 2 * llroundf(fminf(fmaxf(v66, 0.0), 8191.0)));
          __asm { FCVT            S30, H30 }

          _H31 = *(v35 + 2 * llroundf(fminf(fmaxf(v68, 0.0), 8191.0)));
          __asm { FCVT            S31, H31 }

          _H8 = *(v35 + 2 * llroundf(fminf(fmaxf(v69, 0.0), 8191.0)));
          _H9 = *(v35 + 2 * llroundf(fminf(fmaxf(v71, 0.0), 8191.0)));
          __asm
          {
            FCVT            S8, H8
            FCVT            S9, H9
          }

          _H12 = *(v35 + 2 * llroundf(fminf(fmaxf(v73, 0.0), 8191.0)));
          __asm { FCVT            S12, H12 }

          _H13 = *(v35 + 2 * llroundf(fminf(fmaxf(v74, 0.0), 8191.0)));
          __asm { FCVT            S13, H13 }

          _H25 = *(v35 + 2 * llroundf(fminf(fmaxf(v77, 0.0), 8191.0)));
          __asm { FCVT            S25, H25 }

          _H4 = *(v35 + 2 * llroundf(fminf(fmaxf(v80, 0.0), 8191.0)));
          __asm { FCVT            S4, H4 }

          _H10 = *(v35 + 2 * llroundf(fminf(fmaxf(v82, 0.0), 8191.0)));
          _H11 = *(v35 + 2 * llroundf(fminf(fmaxf(v84, 0.0), 8191.0)));
          __asm
          {
            FCVT            S10, H10
            FCVT            S11, H11
          }

          v112 = ((v27 * _S29) + (_S26 * v26)) + (_S30 * v28);
          v113 = ((v30 * _S29) + (_S26 * v29)) + (_S30 * v31);
          v114 = ((v33 * _S29) + (_S26 * v32)) + (_S30 * v34);
          v115 = ((v27 * _S8) + (_S31 * v26)) + (_S9 * v28);
          v116 = ((v30 * _S8) + (_S31 * v29)) + (_S9 * v31);
          v117 = ((v33 * _S8) + (_S31 * v32)) + (_S9 * v34);
          v118 = ((v27 * _S13) + (_S12 * v26)) + (_S25 * v28);
          v119 = ((v30 * _S13) + (_S12 * v29)) + (_S25 * v31);
          v120 = ((v33 * _S13) + (_S12 * v32)) + (_S25 * v34);
          v121 = ((v27 * _S10) + (_S4 * v26)) + (_S11 * v28);
          v122 = ((v30 * _S10) + (_S4 * v29)) + (_S11 * v31);
          v123 = ((v33 * _S10) + (_S4 * v32)) + (_S11 * v34);
          LOWORD(_S10) = *(v36 + 2 * llroundf(fminf(fmaxf(v113, 0.0), 8191.0)));
          LOWORD(v114) = *(v36 + 2 * llroundf(fminf(fmaxf(v114, 0.0), 8191.0)));
          LOWORD(v115) = *(v36 + 2 * llroundf(fminf(fmaxf(v115, 0.0), 8191.0)));
          LOWORD(v116) = *(v36 + 2 * llroundf(fminf(fmaxf(v116, 0.0), 8191.0)));
          LOWORD(v117) = *(v36 + 2 * llroundf(fminf(fmaxf(v117, 0.0), 8191.0)));
          LOWORD(v118) = *(v36 + 2 * llroundf(fminf(fmaxf(v118, 0.0), 8191.0)));
          LOWORD(v119) = *(v36 + 2 * llroundf(fminf(fmaxf(v119, 0.0), 8191.0)));
          LOWORD(v120) = *(v36 + 2 * llroundf(fminf(fmaxf(v120, 0.0), 8191.0)));
          LOWORD(_S11) = *(v36 + 2 * llroundf(fminf(fmaxf(v121, 0.0), 8191.0)));
          LOWORD(v121) = *(v36 + 2 * llroundf(fminf(fmaxf(v122, 0.0), 8191.0)));
          LOWORD(v123) = *(v36 + 2 * llroundf(fminf(fmaxf(v123, 0.0), 8191.0)));
          *v39 = *(v36 + 2 * llroundf(fminf(fmaxf(v112, 0.0), 8191.0)));
          *(v39 + 2) = LOWORD(_S10);
          *(v39 + 4) = LOWORD(v114);
          *(v39 + 6) = v52;
          *(v39 + 8) = LOWORD(v115);
          *(v39 + 10) = LOWORD(v116);
          *(v39 + 12) = LOWORD(v117);
          *(v39 + 14) = v52;
          *v54 = LOWORD(v118);
          *(v54 + 2) = LOWORD(v119);
          *(v54 + 4) = LOWORD(v120);
          *(v54 + 6) = v52;
          v47 += 4;
          v53 += 4;
          v39 += 16;
          *(v54 + 8) = LOWORD(_S11);
          *(v54 + 10) = LOWORD(v121);
          *(v54 + 12) = LOWORD(v123);
          *(v54 + 14) = v52;
          v54 += 16;
          v51 += 2;
        }

        while (v51 < v11);
      }

      v47 = &v49[v14];
      v48 += v15;
      v41 += v16 + v16;
      v39 = v50 + v17;
      v9 += 2;
    }

    while (v9 < v8);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_rgb_RGhA_neon_fp16(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (8 * (v24 + v25) + 8) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 8 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_rgb_RGhA_neon_fp16_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_rgb_RGhA_neon_fp16_GCD(unsigned __int8 *result, uint64_t a2, int16x8_t a3, double a4, double a5, double a6, int16x4_t a7, float32x4_t a8, double a9, float32x4_t a10)
{
  v10 = 2 * *result;
  v11 = *(result + 13);
  v12 = v11 * a2 / v10;
  v13 = 2 * ((v11 + v11 * a2) / v10 - v12);
  if (v13 >= 1)
  {
    v14 = 0;
    v15 = *(result + 24);
    v16 = *(result + 19);
    v17 = *(result + 7);
    v18 = *(result + 8);
    v19 = *v18;
    v20 = v18[1];
    v21 = v18[2];
    v22 = **(result + 17);
    v23 = v16[17].u16[2];
    v24 = v16[17].u16[3];
    a8.i32[0] = v16[3].i32[1];
    v25 = v15 & 0xFFFFFFFE;
    a10.f32[0] = 1.0 / v16[16].u32[0];
    *a3.i32 = v23;
    v26 = v24;
    _S2 = a10.f32[0] * v16->f32[0];
    __asm { FCVT            H3, S2 }

    *a7.i16 = v23;
    v33 = vdupq_lane_s16(a7, 0);
    a8.i32[1] = v16[1].i32[0];
    *a8.f32 = vmul_n_f32(*a8.f32, a10.f32[0]);
    v34 = vdupq_lane_s32(vcvt_f16_f32(a8), 0);
    v35 = -v24;
    *a10.f32 = vmul_n_f32(v16[2], a10.f32[0]);
    v36 = vdupq_lane_s32(vcvt_f16_f32(a10), 0);
    v37 = vmulq_n_f16(v34, v35);
    v38 = vmulq_n_f16(v36, v35);
    LODWORD(v16) = v16[15].u8[4];
    v39 = 16 - v16;
    v41 = v17[1];
    v40 = v17[2];
    v42 = *(result + 44) + 2 * (*(result + 28) * a2 / v10);
    v43 = *v17;
    v44 = v41 + v20 * (v42 / 2);
    v45 = *(result + 15) + 2 * v12;
    _CF = v16 >= 0x11;
    v46 = *(result + 36);
    v47 = v40 + v21 * v42 + 2 * v46;
    if (_CF)
    {
      v39 = 0;
    }

    v48 = **(result + 16) + v22 * v45 + 8 * *(result + 14);
    if (!v40)
    {
      v47 = 0;
    }

    v49 = (v44 + 2 * v46);
    v50 = (v43 + v19 * v42 + 2 * v46);
    v51 = vdupq_n_s16(-v39);
    do
    {
      v52 = &v50->i8[v19];
      v53 = v48 + v22;
      if (v15 < 8)
      {
        v75 = 0;
        v57 = v48 + v22;
        v56 = v49;
        v55 = (v50 + v19);
      }

      else
      {
        v54 = 0;
        v55 = (v50 + v19);
        v56 = v49;
        v57 = v48 + v22;
        do
        {
          if (v47)
          {
            v58 = vcvt_hight_f16_f32(vcvt_f16_f32(0), 0);
          }

          else
          {
            v58.i64[0] = 0x3C003C003C003C00;
            v58.i64[1] = 0x3C003C003C003C00;
          }

          v59 = *v56++;
          v60 = vcvtq_f16_u16(vshlq_u16(v59, v51));
          v61 = vmlaq_f16(v37, v34, v60);
          v62 = vmlaq_f16(v38, v36, v60);
          v63 = vtrn2q_s16(v61, v61);
          v64 = vtrn1q_s16(v61, v61);
          v65 = vuzp1q_s16(v62, a3);
          *v65.i8 = vadd_f16(*v65.i8, *&vuzp2q_s16(v62, a3));
          v66 = *v50++;
          v67 = vzip1q_s16(v65, v65);
          v68 = vcvtq_f16_u16(vshlq_u16(v66, v51));
          v69 = *v55++;
          v70 = vsubq_f16(v68, v33);
          v71 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(v69, v51)), v33);
          v72 = vmlaq_n_f16(v63, v70, _H3);
          v98.val[0] = vmlaq_n_f16(v63, v71, _H3);
          v73 = vmlaq_n_f16(v67, v70, _H3);
          v98.val[1] = vmlaq_n_f16(v67, v71, _H3);
          v74 = vmlaq_n_f16(v64, v70, _H3);
          vst4q_s16(v48, *(&v58 - 3));
          v48 += 64;
          v98.val[2] = vmlaq_n_f16(v64, v71, _H3);
          v98.val[3] = v58;
          vst4q_s16(v57, v98);
          v57 += 64;
          v54 += 8;
        }

        while (v54 < v15 - 7);
        v75 = v15 & 0x7FFFFFF8;
      }

      if (v75 < v25)
      {
        if (v47)
        {
          v76 = COERCE_SHORT_FLOAT(0);
        }

        else
        {
          LOWORD(v76) = COERCE_UNSIGNED_INT(1.0);
        }

        do
        {
          v77 = (v56->u16[0] >> v39) - v26;
          v78 = (v56->u16[1] >> v39) - v26;
          v79 = a8.f32[1] * v78;
          _S29 = a8.f32[0] * v77;
          v81 = _S2 * ((v50->u16[0] >> v39) - *a3.i32);
          v82 = _S2 * ((v50->u16[1] >> v39) - *a3.i32);
          v83 = (a10.f32[1] * v78) + (v77 * a10.f32[0]);
          v84 = _S2 * ((v55->u16[0] >> v39) - *a3.i32);
          v85 = _S2 * ((v55->u16[1] >> v39) - *a3.i32);
          _S9 = v79 + v81;
          _S10 = v81 + v83;
          _S30 = _S29 + v81;
          _S11 = v79 + v82;
          _S12 = v83 + v82;
          _S31 = _S29 + v82;
          _S13 = v79 + v84;
          _S14 = v83 + v84;
          _S8 = _S29 + v84;
          _S28 = v79 + v85;
          _S26 = v83 + v85;
          __asm { FCVT            H9, S9 }

          *v48 = LOWORD(_S9);
          __asm
          {
            FCVT            H9, S10
            FCVT            H30, S30
          }

          *(v48 + 4) = LOWORD(_S30);
          *(v48 + 2) = LOWORD(_S9);
          *(v48 + 6) = v76;
          __asm { FCVT            H30, S11 }

          *(v48 + 8) = LOWORD(_S30);
          _S27 = _S29 + v85;
          __asm { FCVT            H29, S12 }

          *(v48 + 10) = LOWORD(_S29);
          __asm { FCVT            H29, S31 }

          *(v48 + 12) = LOWORD(_S29);
          *(v48 + 14) = v76;
          __asm
          {
            FCVT            H29, S13
            FCVT            H30, S14
          }

          *v57 = LOWORD(_S29);
          *(v57 + 2) = LOWORD(_S30);
          __asm { FCVT            H29, S8 }

          *(v57 + 4) = LOWORD(_S29);
          *(v57 + 6) = v76;
          __asm { FCVT            H28, S28 }

          *(v57 + 8) = LOWORD(_S28);
          __asm
          {
            FCVT            H26, S26
            FCVT            H27, S27
          }

          v75 += 2;
          v56 = (v56 + 4);
          v50 = (v50 + 4);
          *(v57 + 10) = LOWORD(_S26);
          *(v57 + 12) = LOWORD(_S27);
          *(v57 + 14) = v76;
          v55 = (v55 + 4);
          v48 += 16;
          v57 += 16;
        }

        while (v75 < v25);
      }

      v50 = &v52[v19];
      v49 = (v49 + v20);
      v47 += v21 + v21;
      v48 = v53 + v22;
      v14 += 2;
    }

    while (v14 < v13);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_rgb_RGhA(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (8 * (v24 + v25) + 8) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 8 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_rgb_RGhA_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_rgb_RGhA_GCD(unsigned __int8 *result, uint64_t a2)
{
  v2 = 2 * *result;
  v3 = *(result + 13);
  v4 = v3 * a2 / v2;
  v5 = 2 * ((v3 + v3 * a2) / v2 - v4);
  if (v5 >= 1)
  {
    v6 = 0;
    v7 = *(result + 19);
    v8 = *(result + 24) & 0xFFFFFFFE;
    v9 = *(result + 7);
    v10 = *(result + 8);
    v11 = *v10;
    v12 = v10[1];
    v13 = v10[2];
    v14 = **(result + 17);
    *&v15 = *(v7 + 128);
    v16 = 1.0;
    v17 = 1.0 / *&v15;
    LOWORD(v15) = *(v7 + 140);
    v18 = v15;
    LOWORD(v16) = *(v7 + 142);
    v19 = v16;
    v20 = v17 * *v7;
    v21 = v17 * *(v7 + 8);
    v22 = v17 * *(v7 + 16);
    v23 = v17 * *(v7 + 20);
    v24 = v17 * *(v7 + 28);
    v25 = *(result + 44) + 2 * (*(result + 28) * a2 / v2);
    v26 = *(result + 36);
    v27 = **(result + 16) + v14 * (*(result + 15) + 2 * v4) + 8 * *(result + 14);
    v28 = v9[2];
    if (v28)
    {
      v29 = v28 + v25 * v13 + 2 * v26;
    }

    else
    {
      v29 = 0;
    }

    v30 = *(v7 + 124);
    v31 = 16 - v30;
    _CF = v30 >= 0x11;
    v34 = *v9;
    v33 = v9[1];
    v35 = (v34 + v25 * v11 + 2 * v26);
    if (_CF)
    {
      v31 = 0;
    }

    v36 = v33 + v25 / 2 * v12 + 2 * v26;
    do
    {
      v37 = &v35[v11];
      v38 = v27 + v14;
      if (v8 >= 1)
      {
        v39 = 0;
        if (v29)
        {
          v40 = COERCE_SHORT_FLOAT(0);
        }

        else
        {
          LOWORD(v40) = COERCE_UNSIGNED_INT(1.0);
        }

        v41 = &v35[v11];
        v42 = v27 + v14;
        do
        {
          v43 = (v36 + 2 * v39);
          v44 = (*v43 >> v31) - v19;
          v45 = (v43[1] >> v31) - v19;
          v46 = v20 * ((*v35 >> v31) - v18);
          v47 = v21 * v45;
          v48 = v20 * ((*(v35 + 1) >> v31) - v18);
          v35 += 4;
          v49 = v24 * v44;
          v50 = (v23 * v45) + (v44 * v22);
          v51 = v20 * ((*v41 >> v31) - v18);
          v52 = v20 * ((*(v41 + 1) >> v31) - v18);
          v41 += 4;
          _S25 = v47 + v46;
          _S26 = v46 + v50;
          _S20 = v49 + v46;
          _S27 = v47 + v48;
          _S28 = v50 + v48;
          _S22 = v49 + v48;
          _S29 = v47 + v51;
          _S30 = v50 + v51;
          _S19 = v49 + v51;
          _S21 = v47 + v52;
          _S18 = v50 + v52;
          __asm { FCVT            H25, S25 }

          *v27 = LOWORD(_S25);
          __asm
          {
            FCVT            H25, S26
            FCVT            H20, S20
          }

          *(v27 + 4) = LOWORD(_S20);
          *(v27 + 6) = v40;
          __asm { FCVT            H20, S27 }

          *(v27 + 8) = LOWORD(_S20);
          *(v27 + 2) = LOWORD(_S25);
          __asm { FCVT            H20, S22 }

          *(v27 + 12) = LOWORD(_S20);
          _S20 = v49 + v52;
          __asm { FCVT            H22, S28 }

          *(v27 + 14) = v40;
          *(v27 + 10) = LOWORD(_S22);
          v27 += 16;
          __asm { FCVT            H22, S29 }

          *v42 = LOWORD(_S22);
          __asm
          {
            FCVT            H22, S30
            FCVT            H19, S19
          }

          *(v42 + 2) = LOWORD(_S22);
          *(v42 + 4) = LOWORD(_S19);
          *(v42 + 6) = v40;
          __asm { FCVT            H19, S21 }

          *(v42 + 8) = LOWORD(_S19);
          __asm { FCVT            H18, S18 }

          *(v42 + 10) = LOWORD(_S18);
          __asm { FCVT            H18, S20 }

          *(v42 + 12) = LOWORD(_S18);
          *(v42 + 14) = v40;
          v42 += 16;
          v39 += 2;
        }

        while (v39 < v8);
      }

      v35 = &v37[v11];
      v36 += v12;
      v29 += v13 + v13;
      v27 = v38 + v14;
      v6 += 2;
    }

    while (v6 < v5);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_TRC_Tone_Mat_TRC_RGfA_neon_fp16(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (16 * (v24 + v25) + 16) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 16 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Tone_Mat_TRC_RGfA_neon_fp16_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

uint64_t vt_Copy_xf420_TRC_Tone_Mat_TRC_RGfA_neon_fp16_GCD(uint64_t result, uint64_t a2, int16x4_t a3, int64x2_t a4, float32x4_t a5)
{
  v8 = 2 * *result;
  v276 = result;
  v9 = *(result + 104);
  v10 = v9 * a2 / v8;
  v11 = 2 * ((v9 + v9 * a2) / v8 - v10);
  if (v11 >= 1)
  {
    v12 = 0;
    v13 = *(result + 96);
    v14 = *(result + 152);
    v16 = *(result + 56);
    v15 = *(result + 64);
    v17 = *v15;
    v18 = v15[1];
    v19 = v15[2];
    v20 = **(result + 136);
    v21 = v14[17].u16[2];
    v22 = v14[17].u16[3];
    a3.i32[0] = v14->i32[0];
    v23.i32[0] = v14[3].i32[1];
    _S16 = v14[10].f32[1];
    _S17 = v14[11].f32[0];
    _S18 = v14[11].f32[1];
    _S19 = v14[12].f32[0];
    _S23 = v14[12].f32[1];
    _S6 = v14[13].f32[0];
    v30 = v13 - 7;
    v31 = &v14[2068] + 4;
    v32 = v13 & 0xFFFFFFFE;
    v33 = v21;
    v332 = v22;
    a5.f32[0] = 8191.0 / v14[16].u32[0];
    _S24 = a5.f32[0] * v14->f32[0];
    v35 = &v14[20] + 4;
    v36 = &v14[4116] + 4;
    __asm { FCVT            H8, S24 }

    *a3.i16 = v21;
    _Q0 = vdupq_lane_s16(a3, 0);
    v281 = _Q0;
    v23.i32[1] = v14[1].i32[0];
    *_Q0.i16 = -v22;
    *v7.f32 = vmul_n_f32(v23, a5.f32[0]);
    *a5.f32 = vmul_n_f32(v14[2], a5.f32[0]);
    v41 = vdupq_lane_s32(vcvt_f16_f32(a5), 0);
    v304 = vdupq_lane_s32(vcvt_f16_f32(v7), 0);
    v42 = vmulq_n_f16(v304, *_Q0.i16);
    v43 = vmulq_n_f16(v41, *_Q0.i16);
    v307 = v14[13].f32[1];
    __asm { FCVT            H11, S7 }

    v306 = v14[14].f32[0];
    __asm { FCVT            H12, S25 }

    v305 = v14[14].f32[1];
    __asm { FCVT            H13, S26 }

    v302 = v14[15].f32[0];
    __asm { FCVT            H14, S20 }

    v315 = v14[9].f32[0];
    __asm { FCVT            H15, S3 }

    v314 = v14[9].f32[1];
    __asm { FCVT            H0, S4 }

    v280 = *_Q0.i16;
    v313 = v14[10].f32[0];
    __asm { FCVT            H0, S5 }

    v301 = *_Q0.i16;
    LODWORD(v14) = v14[15].u8[4];
    v49 = 16 - v14;
    v50 = *(result + 44) + 2 * (*(result + 28) * a2 / v8);
    v52 = v16[1];
    v51 = v16[2];
    v53 = *v16;
    v54 = *(result + 120) + 2 * v10;
    _CF = v14 >= 0x11;
    v55 = *(result + 36);
    result = v51 + v19 * v50 + 2 * v55;
    if (_CF)
    {
      v49 = 0;
    }

    v56 = **(v276 + 128) + v20 * v54 + 16 * *(v276 + 112);
    if (v51)
    {
      v57 = v51 + v19 * v50 + 2 * v55;
    }

    else
    {
      v57 = 0;
    }

    v58 = v52 + v18 * (v50 / 2) + 2 * v55;
    v59 = (v53 + v17 * v50 + 2 * v55);
    v60 = v49;
    v278 = v13 & 0xFFFFFFF8;
    v312 = _S16;
    __asm { FCVT            H0, S16 }

    v300 = _H0;
    v311 = _S17;
    __asm { FCVT            H0, S17 }

    v299 = _H0;
    v310 = _S18;
    __asm { FCVT            H0, S18 }

    v298 = _H0;
    v309 = _S19;
    __asm { FCVT            H0, S19 }

    v297 = _H0;
    v308 = _S23;
    __asm { FCVT            H0, S23 }

    v296 = _H0;
    __asm { FCVT            H0, S6 }

    v295 = _H0;
    v67 = vdupq_n_s16(-v49);
    v303 = a5.f32[0];
    v68 = v7.i64[0];
    v294 = a5.f32[1];
    v69.i64[0] = 0x9000900090009000;
    v69.i64[1] = 0x9000900090009000;
    v316 = v67;
    v317 = v41;
    v330 = v43;
    v331 = v42;
    v328 = _H12;
    v329 = _H11;
    v326 = _H14;
    v327 = _H13;
    v287 = v13;
    v288 = v11;
    v285 = v18;
    v286 = v17;
    v283 = v20;
    v284 = v19;
    v282 = v13 & 0xFFFFFFFE;
    v279 = v49;
    do
    {
      v70 = &v59->i8[v17];
      v71 = v56 + v20;
      if (v13 < 8)
      {
        v163 = 0;
        v78 = v56 + v20;
        v77 = v58;
        v76 = (v59 + v17);
      }

      else
      {
        v293 = v12;
        _Q0.i64[0] = 0;
        v72 = 0;
        v291 = v57;
        v292 = v58;
        a4.i64[0] = v57;
        v73 = vdupq_lane_s64(vceqq_s64(a4, _Q0).i64[0], 0);
        __asm { FMOV            V1.4S, #1.0 }

        v75 = vandq_s8(_Q1, v73);
        v289 = &v59->i8[v17];
        v290 = v56 + v20;
        v76 = (v59 + v17);
        v77 = v58;
        v78 = v56 + v20;
        v79 = _Q15;
        do
        {
          v322 = v72;
          v80 = vcvtq_f16_u16(vshlq_u16(*v77, v67));
          v81 = vmlaq_f16(v42, v304, v80);
          v82 = vmlaq_f16(v43, v41, v80);
          v83 = vtrn2q_s16(v81, v81);
          v84 = vtrn1q_s16(v81, v81);
          v85 = vuzp1q_s16(v82, v80);
          *v85.i8 = vadd_f16(*v85.i8, *&vuzp2q_s16(v82, v85));
          v325 = v59 + 1;
          v86 = vzip1q_s16(v85, v85);
          v323 = v77 + 1;
          v324 = v76 + 1;
          v87 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(*v59, v67)), v281);
          v88 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v83, v87, *&_Q8), 0), v69));
          v89 = v88.u16[0];
          v90 = v88.u16[1];
          v91 = v88.u16[2];
          v92 = v88.u16[3];
          v93 = v88.u16[4];
          v94 = v88.u16[5];
          v95 = v88.u16[6];
          v96 = v88.u16[7];
          v97 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v86, v87, *&_Q8), 0), v69));
          v98 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(*v76, v67)), v281);
          v99.i16[0] = *&v35[2 * v89];
          v100 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v84, v87, *&_Q8), 0), v69));
          v99.i16[1] = *&v35[2 * v90];
          v101.i16[0] = *&v35[2 * v100.u16[0]];
          v99.i16[2] = *&v35[2 * v91];
          v102.i16[0] = *&v35[2 * v97.u16[0]];
          v103 = &v35[2 * v100.u16[6]];
          v104 = &v35[2 * v100.u16[7]];
          v101.i16[1] = *&v35[2 * v100.u16[1]];
          v105 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v83, v98, *&_Q8), 0), v69));
          v106.i16[0] = *&v35[2 * v105.u16[0]];
          v101.i16[2] = *&v35[2 * v100.u16[2]];
          v99.i16[3] = *&v35[2 * v92];
          v107 = &v35[2 * v105.u16[5]];
          v108 = &v35[2 * v105.u16[6]];
          v102.i16[1] = *&v35[2 * v97.u16[1]];
          v106.i16[1] = *&v35[2 * v105.u16[1]];
          v106.i16[2] = *&v35[2 * v105.u16[2]];
          v101.i16[3] = *&v35[2 * v100.u16[3]];
          v106.i16[3] = *&v35[2 * v105.u16[3]];
          v106.i16[4] = *&v35[2 * v105.u16[4]];
          v99.i16[4] = *&v35[2 * v93];
          v109 = &v35[2 * v105.u16[7]];
          v110 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v86, v98, *&_Q8), 0), v69));
          v102.i16[2] = *&v35[2 * v97.u16[2]];
          v86.i16[0] = *&v35[2 * v110.u16[0]];
          v101.i16[4] = *&v35[2 * v100.u16[4]];
          v106.i16[5] = *v107;
          v99.i16[5] = *&v35[2 * v94];
          v102.i16[3] = *&v35[2 * v97.u16[3]];
          v101.i16[5] = *&v35[2 * v100.u16[5]];
          v106.i16[6] = *v108;
          v86.i16[1] = *&v35[2 * v110.u16[1]];
          v86.i16[2] = *&v35[2 * v110.u16[2]];
          v99.i16[6] = *&v35[2 * v95];
          v86.i16[3] = *&v35[2 * v110.u16[3]];
          v86.i16[4] = *&v35[2 * v110.u16[4]];
          v102.i16[4] = *&v35[2 * v97.u16[4]];
          v111 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v84, v98, *&_Q8), 0), v69));
          v101.i16[6] = *v103;
          v110.i16[0] = *&v35[2 * v111.u16[0]];
          v106.i16[7] = *v109;
          v86.i16[5] = *&v35[2 * v110.u16[5]];
          v99.i16[7] = *&v35[2 * v96];
          v102.i16[5] = *&v35[2 * v97.u16[5]];
          v86.i16[6] = *&v35[2 * v110.u16[6]];
          v102.i16[6] = *&v35[2 * v97.u16[6]];
          v110.i16[1] = *&v35[2 * v111.u16[1]];
          v110.i16[2] = *&v35[2 * v111.u16[2]];
          v102.i16[7] = *&v35[2 * v97.u16[7]];
          v110.i16[3] = *&v35[2 * v111.u16[3]];
          v110.i16[4] = *&v35[2 * v111.u16[4]];
          v86.i16[7] = *&v35[2 * v110.u16[7]];
          v110.i16[5] = *&v35[2 * v111.u16[5]];
          v110.i16[6] = *&v35[2 * v111.u16[6]];
          v101.i16[7] = *v104;
          v110.i16[7] = *&v35[2 * v111.u16[7]];
          v112 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v99, _H11), v102, _H12), v101, _H13), vmaxq_f16(vmaxq_f16(v99, v102), v101), _H14), 0), v69));
          v111.i16[0] = *&v31[2 * v112.u16[0]];
          v113 = &v31[2 * v112.u16[1]];
          v114 = &v31[2 * v112.u16[2]];
          v115 = &v31[2 * v112.u16[3]];
          v116 = &v31[2 * v112.u16[4]];
          v117 = &v31[2 * v112.u16[5]];
          LOWORD(v103) = v112.i16[7];
          v118 = &v31[2 * v112.u16[6]];
          v119 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v106, _H11), v86, _H12), v110, _H13), vmaxq_f16(vmaxq_f16(v106, v86), v110), _H14), 0), v69));
          v111.i16[1] = *v113;
          v97.i16[0] = *&v31[2 * v119.u16[0]];
          v111.i16[2] = *v114;
          v111.i16[3] = *v115;
          v111.i16[4] = *v116;
          v120 = &v31[2 * v119.u16[4]];
          v111.i16[5] = *v117;
          v121 = v119.u16[6];
          v111.i16[6] = *v118;
          LOWORD(v118) = v119.i16[7];
          v97.i16[1] = *&v31[2 * v119.u16[1]];
          v111.i16[7] = *&v31[2 * v103];
          v122 = &v31[2 * v119.u16[5]];
          v97.i16[2] = *&v31[2 * v119.u16[2]];
          v97.i16[3] = *&v31[2 * v119.u16[3]];
          v123 = vmulq_f16(v99, v111);
          v97.i16[4] = *v120;
          v97.i16[5] = *v122;
          v124 = vmulq_f16(v102, v111);
          v97.i16[6] = *&v31[2 * v121];
          v97.i16[7] = *&v31[2 * v118];
          v125 = vmulq_f16(v101, v111);
          v126 = vmulq_f16(v106, v97);
          v127 = vmulq_f16(v86, v97);
          v128 = vmulq_f16(v110, v97);
          v129 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v123, v300), v124, v299), v125, v298);
          v130 = vmlaq_n_f16(vmulq_n_f16(v125, v295), v124, v296);
          v131 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v123, *&v79), v124, v280), v125, v301), 0), v69));
          v132 = v131.u16[0];
          LOWORD(v108) = v131.i16[1];
          v133 = vmlaq_n_f16(v130, v123, v297);
          v319 = v131.u16[2];
          v134 = v131.u16[3];
          v135 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v126, *&v79), v127, v280), v128, v301);
          v136 = v131.u16[4];
          LOWORD(v113) = v131.i16[5];
          v320 = v131.u16[6];
          v137 = v131.u16[7];
          v138 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v129, 0), v69));
          v139 = v138.u16[0];
          v140 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v126, v300), v127, v299), v128, v298);
          v321 = v138.u16[3];
          v141 = vmlaq_n_f16(vmulq_n_f16(v128, v295), v127, v296);
          v142 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v133, 0), v69));
          v143 = v142.u16[1];
          v144 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v135, 0), v69));
          LOWORD(v109) = v142.i16[2];
          v145 = v144.u16[1];
          LOWORD(v118) = v144.i16[2];
          v318 = v142.u16[3];
          LOWORD(v120) = v144.i16[3];
          v146 = v144.u16[5];
          v147 = v144.u16[6];
          v125.i16[0] = *&v36[2 * v144.u16[0]];
          LOWORD(v115) = v144.i16[7];
          v138.i16[0] = *&v36[2 * v144.u16[4]];
          v148 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v140, 0), v69));
          v101.i16[0] = *&v36[2 * v148.u16[0]];
          v149 = v148.u16[1];
          LOWORD(v116) = v148.i16[2];
          v150.i16[0] = *&v36[2 * v132];
          v129.i16[0] = *&v36[2 * v148.u16[4]];
          result = v142.u16[5];
          v151 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v141, v126, v297), 0), v69));
          v152.i16[0] = *&v36[2 * v136];
          v153.i16[0] = *&v36[2 * v151.u16[0]];
          v140.i16[0] = *&v36[2 * v139];
          v106.i16[0] = *&v36[2 * v151.u16[4]];
          v126.i16[0] = *&v36[2 * v138.u16[4]];
          v133.i16[0] = *&v36[2 * v142.u16[0]];
          v148.i16[0] = *&v36[2 * v142.u16[4]];
          LOWORD(v122) = v142.i16[6];
          v150.i16[1] = *&v36[2 * v108];
          LOWORD(v108) = v142.i16[7];
          v67 = v316;
          v140.i16[1] = *&v36[2 * v138.u16[1]];
          v133.i16[1] = *&v36[2 * v143];
          v152.i16[1] = *&v36[2 * v113];
          v150.i16[2] = *&v36[2 * v319];
          v126.i16[1] = *&v36[2 * v138.u16[5]];
          v140.i16[2] = *&v36[2 * v138.u16[2]];
          v148.i16[1] = *&v36[2 * result];
          v133.i16[2] = *&v36[2 * v109];
          v125.i16[1] = *&v36[2 * v145];
          v152.i16[2] = *&v36[2 * v320];
          v125.i16[2] = *&v36[2 * v118];
          v126.i16[2] = *&v36[2 * v138.u16[6]];
          v154 = &v36[2 * v146];
          v77 = v323;
          v76 = v324;
          v138.i16[1] = *v154;
          v148.i16[2] = *&v36[2 * v122];
          v138.i16[2] = *&v36[2 * v147];
          v125.i16[3] = *&v36[2 * v120];
          v155 = &v36[2 * v115];
          v59 = v325;
          v138.i16[3] = *v155;
          v150.i16[3] = *&v36[2 * v134];
          v101.i16[1] = *&v36[2 * v149];
          v140.i16[3] = *&v36[2 * v321];
          v101.i16[2] = *&v36[2 * v116];
          v133.i16[3] = *&v36[2 * v318];
          v101.i16[3] = *&v36[2 * v148.u16[3]];
          v152.i16[3] = *&v36[2 * v137];
          v129.i16[1] = *&v36[2 * v148.u16[5]];
          v126.i16[3] = *&v36[2 * v138.u16[7]];
          v129.i16[2] = *&v36[2 * v148.u16[6]];
          v148.i16[3] = *&v36[2 * v108];
          v129.i16[3] = *&v36[2 * v148.u16[7]];
          v153.i16[1] = *&v36[2 * v151.u16[1]];
          v153.i16[2] = *&v36[2 * v151.u16[2]];
          v153.i16[3] = *&v36[2 * v151.u16[3]];
          v156 = vcvtq_f32_f16(v150);
          _H14 = v326;
          v106.i16[1] = *&v36[2 * v151.u16[5]];
          v106.i16[2] = *&v36[2 * v151.u16[6]];
          v157 = vcvtq_f32_f16(*v140.i8);
          v158 = vcvtq_f32_f16(*v133.i8);
          v106.i16[3] = *&v36[2 * v151.u16[7]];
          v159 = v56 + 128;
          vst4q_f32(v56, *(&v75 - 3));
          v160 = (v56 + 64);
          v334.val[0] = vcvtq_f32_f16(v152);
          v334.val[1] = vcvtq_f32_f16(*v126.i8);
          v334.val[2] = vcvtq_f32_f16(*v148.i8);
          v334.val[3] = v75;
          vst4q_f32(v160, v334);
          _H12 = v328;
          _H11 = v329;
          v41 = v317;
          v333.val[0] = vcvtq_f32_f16(*v125.i8);
          v333.val[1] = vcvtq_f32_f16(*v101.i8);
          v43 = v330;
          v42 = v331;
          v333.val[2] = vcvtq_f32_f16(v153);
          _H13 = v327;
          v333.val[3] = v75;
          v161 = v78 + 128;
          vst4q_f32(v78, v333);
          v162 = (v78 + 64);
          _Q0 = vcvtq_f32_f16(*v138.i8);
          a4 = vcvtq_f32_f16(*v129.i8);
          v333.val[2] = vcvtq_f32_f16(*v106.i8);
          v333.val[3] = v75;
          vst4q_f32(v162, *(&a4 - 1));
          v56 = v159;
          v78 = v161;
          v72 = v322 + 8;
        }

        while (v322 + 8 < v30);
        v163 = v278;
        v60 = v279;
        v13 = v287;
        v11 = v288;
        v12 = v293;
        v18 = v285;
        v17 = v286;
        v20 = v283;
        v19 = v284;
        v32 = v282;
        _Q15 = v79;
        v57 = v291;
        v58 = v292;
        v70 = v289;
        v71 = v290;
      }

      if (v163 < v32)
      {
        if (v57)
        {
          v164 = 0.0;
        }

        else
        {
          v164 = 1.0;
        }

        do
        {
          v165 = (v77->u16[1] >> v60) - v332;
          v166 = *(&v68 + 1) * v165;
          v167 = _S24 * ((v59->u16[0] >> v60) - v33);
          v168 = (*(&v68 + 1) * v165) + v167;
          v169 = 8191.0;
          if (v168 <= 8191.0)
          {
            v169 = (*(&v68 + 1) * v165) + v167;
            if (v168 < 0.0)
            {
              v169 = 0.0;
            }
          }

          v170 = (v77->u16[0] >> v60) - v332;
          v171 = (v294 * v165) + (v170 * v303);
          v172 = 8191.0;
          if ((v167 + v171) <= 8191.0)
          {
            v172 = v167 + v171;
            if ((v167 + v171) < 0.0)
            {
              v172 = 0.0;
            }
          }

          v173 = *&v68 * v170;
          v174 = (*&v68 * v170) + v167;
          v175 = 8191.0;
          if (v174 <= 8191.0)
          {
            v175 = v174;
            if (v174 < 0.0)
            {
              v175 = 0.0;
            }
          }

          v176 = _S24 * ((v59->u16[1] >> v60) - v33);
          v177 = 8191.0;
          if ((v166 + v176) <= 8191.0)
          {
            v177 = v166 + v176;
            if ((v166 + v176) < 0.0)
            {
              v177 = 0.0;
            }
          }

          v178 = 8191.0;
          if ((v171 + v176) <= 8191.0)
          {
            v178 = v171 + v176;
            if ((v171 + v176) < 0.0)
            {
              v178 = 0.0;
            }
          }

          v179 = v173 + v176;
          v180 = (v173 + v176) <= 8191.0;
          v181 = 8191.0;
          if (v180)
          {
            v181 = v179;
            if (v179 < 0.0)
            {
              v181 = 0.0;
            }
          }

          v182 = _S24 * ((v76->u16[0] >> v60) - v33);
          v183 = 8191.0;
          if ((v166 + v182) <= 8191.0)
          {
            v183 = v166 + v182;
            if ((v166 + v182) < 0.0)
            {
              v183 = 0.0;
            }
          }

          v184 = 8191.0;
          if ((v171 + v182) <= 8191.0)
          {
            v184 = v171 + v182;
            if ((v171 + v182) < 0.0)
            {
              v184 = 0.0;
            }
          }

          v185 = v173 + v182;
          v180 = (v173 + v182) <= 8191.0;
          v186 = 8191.0;
          if (v180)
          {
            v186 = v185;
            if (v185 < 0.0)
            {
              v186 = 0.0;
            }
          }

          v187 = _S24 * ((v76->u16[1] >> v60) - v33);
          v188 = v166 + v187;
          v189 = 8191.0;
          if (v188 <= 8191.0)
          {
            v189 = v188;
            if (v188 < 0.0)
            {
              v189 = 0.0;
            }
          }

          v190 = v171 + v187;
          v180 = (v171 + v187) <= 8191.0;
          v191 = 8191.0;
          if (v180)
          {
            v191 = v190;
            if (v190 < 0.0)
            {
              v191 = 0.0;
            }
          }

          v192 = v173 + v187;
          v193 = 8191.0;
          if (v192 <= 8191.0)
          {
            v193 = v192;
            if (v192 < 0.0)
            {
              v193 = 0.0;
            }
          }

          _H0 = *&v35[2 * llroundf(fminf(fmaxf(v169, 0.0), 8191.0))];
          __asm { FCVT            S0, H0 }

          _H1 = *&v35[2 * llroundf(fminf(fmaxf(v172, 0.0), 8191.0))];
          __asm { FCVT            S1, H1 }

          _H2 = *&v35[2 * llroundf(fminf(fmaxf(v175, 0.0), 8191.0))];
          __asm { FCVT            S2, H2 }

          _H4 = *&v35[2 * llroundf(fminf(fmaxf(v177, 0.0), 8191.0))];
          _H13 = *&v35[2 * llroundf(fminf(fmaxf(v178, 0.0), 8191.0))];
          _H14 = *&v35[2 * llroundf(fminf(fmaxf(v181, 0.0), 8191.0))];
          _H11 = *&v35[2 * llroundf(fminf(fmaxf(v183, 0.0), 8191.0))];
          _H29 = *&v35[2 * llroundf(fminf(fmaxf(v184, 0.0), 8191.0))];
          _H10 = *&v35[2 * llroundf(fminf(fmaxf(v186, 0.0), 8191.0))];
          _H23 = *&v35[2 * llroundf(fminf(fmaxf(v189, 0.0), 8191.0))];
          _H25 = *&v35[2 * llroundf(fminf(fmaxf(v191, 0.0), 8191.0))];
          _H26 = *&v35[2 * llroundf(fminf(fmaxf(v193, 0.0), 8191.0))];
          v209 = fmaxf(_S0, fmaxf(_S1, _S2));
          v210 = (((v306 * _S1) + (v307 * _S0)) + (v305 * _S2)) + (v302 * v209);
          v211 = 8191.0;
          if (v210 <= 8191.0)
          {
            v211 = (((v306 * _S1) + (v307 * _S0)) + (v305 * _S2)) + (v302 * v209);
            if (v210 < 0.0)
            {
              v211 = 0.0;
            }
          }

          v212 = _Q8;
          __asm
          {
            FCVT            S3, H4
            FCVT            S4, H13
            FCVT            S5, H14
          }

          _H27 = *&v31[2 * llroundf(v211)];
          v217 = fmaxf(_S3, fmaxf(_S4, _S5));
          v218 = (((v306 * _S4) + (v307 * _S3)) + (v305 * _S5)) + (v302 * v217);
          v219 = 8191.0;
          if (v218 <= 8191.0)
          {
            v219 = (((v306 * _S4) + (v307 * _S3)) + (v305 * _S5)) + (v302 * v217);
            if (v218 < 0.0)
            {
              v219 = 0.0;
            }
          }

          v220 = _Q15;
          __asm
          {
            FCVT            S11, H11
            FCVT            S29, H29
            FCVT            S10, H10
          }

          _H12 = *&v31[2 * llroundf(v219)];
          v225 = fmaxf(_S11, fmaxf(_S29, _S10));
          v226 = (((v306 * _S29) + (v307 * _S11)) + (v305 * _S10)) + (v302 * v225);
          v227 = 8191.0;
          if (v226 <= 8191.0)
          {
            v227 = (((v306 * _S29) + (v307 * _S11)) + (v305 * _S10)) + (v302 * v225);
            if (v226 < 0.0)
            {
              v227 = 0.0;
            }
          }

          __asm
          {
            FCVT            S23, H23
            FCVT            S25, H25
            FCVT            S26, H26
          }

          _H13 = *&v31[2 * llroundf(v227)];
          v232 = fmaxf(_S23, fmaxf(_S25, _S26));
          v233 = (((v306 * _S25) + (v307 * _S23)) + (v305 * _S26)) + (v302 * v232);
          v234 = 8191.0;
          if (v233 <= 8191.0)
          {
            v234 = (((v306 * _S25) + (v307 * _S23)) + (v305 * _S26)) + (v302 * v232);
            if (v233 < 0.0)
            {
              v234 = 0.0;
            }
          }

          __asm { FCVT            S16, H27 }

          v236 = _S0 * _S16;
          v237 = _S1 * _S16;
          v238 = _S2 * _S16;
          __asm { FCVT            S16, H12 }

          v240 = _S3 * _S16;
          v241 = _S4 * _S16;
          v242 = _S5 * _S16;
          __asm { FCVT            S16, H13 }

          v244 = _S11 * _S16;
          v245 = _S29 * _S16;
          v246 = _S10 * _S16;
          _H19 = *&v31[2 * llroundf(v234)];
          __asm { FCVT            S19, H19 }

          _S23 = _S23 * _S19;
          _S25 = _S25 * _S19;
          v251 = _S26 * _S19;
          v252 = ((v314 * v237) + (v236 * v315)) + (v238 * v313);
          v253 = ((v311 * v237) + (v236 * v312)) + (v238 * v310);
          _S0 = ((v308 * v237) + (v236 * v309)) + (v238 * _S6);
          _S1 = ((v314 * v241) + (v240 * v315)) + (v242 * v313);
          _S2 = ((v311 * v241) + (v240 * v312)) + (v242 * v310);
          _S3 = ((v308 * v241) + (v240 * v309)) + (v242 * _S6);
          _S4 = ((v314 * v245) + (v244 * v315)) + (v246 * v313);
          _S5 = ((v311 * v245) + (v244 * v312)) + (v246 * v310);
          _S16 = ((v308 * v245) + (v244 * v309)) + (v246 * _S6);
          _S17 = ((v314 * _S25) + (_S23 * v315)) + (v251 * v313);
          _S18 = ((v311 * _S25) + (_S23 * v312)) + (v251 * v310);
          _S19 = ((v308 * _S25) + (_S23 * v309)) + (v251 * _S6);
          LOWORD(_S23) = *&v36[2 * llroundf(fminf(fmaxf(v252, 0.0), 8191.0))];
          LOWORD(_S25) = *&v36[2 * llroundf(fminf(fmaxf(v253, 0.0), 8191.0))];
          LOWORD(_S0) = *&v36[2 * llroundf(fminf(fmaxf(_S0, 0.0), 8191.0))];
          LOWORD(_S1) = *&v36[2 * llroundf(fminf(fmaxf(_S1, 0.0), 8191.0))];
          LOWORD(_S2) = *&v36[2 * llroundf(fminf(fmaxf(_S2, 0.0), 8191.0))];
          LOWORD(_S3) = *&v36[2 * llroundf(fminf(fmaxf(_S3, 0.0), 8191.0))];
          LOWORD(_S4) = *&v36[2 * llroundf(fminf(fmaxf(_S4, 0.0), 8191.0))];
          LOWORD(_S5) = *&v36[2 * llroundf(fminf(fmaxf(_S5, 0.0), 8191.0))];
          LOWORD(_S16) = *&v36[2 * llroundf(fminf(fmaxf(_S16, 0.0), 8191.0))];
          LOWORD(_S17) = *&v36[2 * llroundf(fminf(fmaxf(_S17, 0.0), 8191.0))];
          LOWORD(_S18) = *&v36[2 * llroundf(fminf(fmaxf(_S18, 0.0), 8191.0))];
          LOWORD(_S19) = *&v36[2 * llroundf(fminf(fmaxf(_S19, 0.0), 8191.0))];
          __asm
          {
            FCVT            S23, H23
            FCVT            S25, H25
          }

          *v56 = _S23;
          *(v56 + 4) = _S25;
          __asm { FCVT            S0, H0 }

          *(v56 + 8) = _S0;
          *(v56 + 12) = v164;
          __asm
          {
            FCVT            S0, H1
            FCVT            S1, H2
          }

          *(v56 + 16) = _S0;
          *(v56 + 20) = _S1;
          __asm { FCVT            S0, H3 }

          *(v56 + 24) = _S0;
          *(v56 + 28) = v164;
          __asm
          {
            FCVT            S0, H4
            FCVT            S1, H5
          }

          *v78 = _S0;
          *(v78 + 4) = _S1;
          __asm
          {
            FCVT            S0, H16
            FCVT            S1, H17
            FCVT            S2, H18
          }

          *(v78 + 8) = _S0;
          *(v78 + 12) = v164;
          __asm { FCVT            S0, H19 }

          *(v78 + 16) = _S1;
          *(v78 + 20) = _S2;
          v163 += 2;
          v77 = (v77 + 4);
          v59 = (v59 + 4);
          *(v78 + 24) = _S0;
          *(v78 + 28) = v164;
          v76 = (v76 + 4);
          v56 += 32;
          v78 += 32;
          v43 = v330;
          v42 = v331;
          _H12 = v328;
          _H11 = v329;
          _H14 = v326;
          _H13 = v327;
          _Q15 = v220;
          _Q8 = v212;
        }

        while (v163 < v32);
      }

      v59 = &v70[v17];
      v58 += v18;
      v57 += v19 + v19;
      v56 = v71 + v20;
      v12 += 2;
      v67 = v316;
      v41 = v317;
    }

    while (v12 < v11);
  }

  *(v276 + 4 * a2 + 160) = 0;
  return result;
}

uint64_t vt_Copy_xf420_TRC_Tone_Mat_TRC_RGfA(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (16 * (v24 + v25) + 16) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 16 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Tone_Mat_TRC_RGfA_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_TRC_Tone_Mat_TRC_RGfA_GCD(unsigned __int8 *result, uint64_t a2, double a3, double a4, float a5)
{
  v5 = 2 * *result;
  v6 = *(result + 13);
  v7 = v6 * a2 / v5;
  v8 = 2 * ((v6 + v6 * a2) / v5 - v7);
  if (v8 >= 1)
  {
    v9 = 0;
    v10 = *(result + 19);
    v11 = *(result + 24) & 0xFFFFFFFE;
    v12 = *(result + 7);
    v13 = *(result + 8);
    v14 = *v13;
    v15 = v13[1];
    v16 = v13[2];
    v17 = **(result + 17);
    v18 = 8191.0 / *(v10 + 128);
    LOWORD(a5) = *(v10 + 140);
    v19 = LODWORD(a5);
    LOWORD(a5) = *(v10 + 142);
    v20 = LODWORD(a5);
    v21 = v18 * *v10;
    v168 = v18 * *(v10 + 16);
    v169 = v18 * *(v10 + 8);
    v166 = v18 * *(v10 + 28);
    v167 = v18 * *(v10 + 20);
    v164 = *(v10 + 76);
    v165 = *(v10 + 72);
    v22 = *(v10 + 80);
    v23 = *(v10 + 84);
    v24 = *(v10 + 88);
    v25 = *(v10 + 92);
    v26 = *(v10 + 96);
    v27 = *(v10 + 100);
    v28 = v10 + 164;
    v29 = v10 + 16548;
    v30 = v10 + 32932;
    v31 = *(v10 + 104);
    v32 = *(v10 + 108);
    v33 = *(v10 + 112);
    v34 = *(v10 + 116);
    v35 = *(v10 + 120);
    v36 = *(result + 44) + 2 * (*(result + 28) * a2 / v5);
    v37 = *(result + 36);
    v38 = **(result + 16) + v17 * (*(result + 15) + 2 * v7) + 16 * *(result + 14);
    v39 = v12[2];
    if (v39)
    {
      v40 = v39 + v36 * v16 + 2 * v37;
    }

    else
    {
      v40 = 0;
    }

    v41 = *(v10 + 124);
    v42 = 16 - v41;
    _CF = v41 >= 0x11;
    v44 = *v12;
    v45 = v12[1];
    v46 = (v44 + v36 * v14 + 2 * v37);
    if (_CF)
    {
      v42 = 0;
    }

    v47 = v45 + v36 / 2 * v15 + 2 * v37;
    v170 = LODWORD(a5);
    v171 = v19;
    do
    {
      v48 = &v46[v14];
      v49 = v38 + v17;
      if (v11 >= 1)
      {
        v50 = 0;
        if (v40)
        {
          v51 = 0.0;
        }

        else
        {
          v51 = 1.0;
        }

        v52 = &v46[v14];
        v53 = v38 + v17;
        do
        {
          v54 = (v47 + 2 * v50);
          v55 = (v54[1] >> v42) - v20;
          v56 = v169 * v55;
          v57 = v21 * ((*v46 >> v42) - v19);
          v58 = (v169 * v55) + v57;
          v59 = 8191.0;
          if (v58 <= 8191.0)
          {
            v59 = (v169 * v55) + v57;
            if (v58 < 0.0)
            {
              v59 = 0.0;
            }
          }

          v60 = (*v54 >> v42) - v20;
          v61 = (v167 * v55) + (v60 * v168);
          v62 = 8191.0;
          if ((v57 + v61) <= 8191.0)
          {
            v62 = v57 + v61;
            if ((v57 + v61) < 0.0)
            {
              v62 = 0.0;
            }
          }

          v63 = v166 * v60;
          v64 = (v166 * v60) + v57;
          v65 = 8191.0;
          if (v64 <= 8191.0)
          {
            v65 = v64;
            if (v64 < 0.0)
            {
              v65 = 0.0;
            }
          }

          v66 = v21 * ((*(v46 + 1) >> v42) - v19);
          v67 = 8191.0;
          if ((v56 + v66) <= 8191.0)
          {
            v67 = v56 + v66;
            if ((v56 + v66) < 0.0)
            {
              v67 = 0.0;
            }
          }

          v68 = 8191.0;
          if ((v61 + v66) <= 8191.0)
          {
            v68 = v61 + v66;
            if ((v61 + v66) < 0.0)
            {
              v68 = 0.0;
            }
          }

          v69 = v63 + v66;
          v70 = 8191.0;
          if (v69 <= 8191.0)
          {
            v70 = v69;
            if (v69 < 0.0)
            {
              v70 = 0.0;
            }
          }

          v71 = v21 * ((*v52 >> v42) - v19);
          v72 = 8191.0;
          if ((v56 + v71) <= 8191.0)
          {
            v72 = v56 + v71;
            if ((v56 + v71) < 0.0)
            {
              v72 = 0.0;
            }
          }

          v73 = 8191.0;
          if ((v61 + v71) <= 8191.0)
          {
            v73 = v61 + v71;
            if ((v61 + v71) < 0.0)
            {
              v73 = 0.0;
            }
          }

          v74 = v63 + v71;
          v75 = 8191.0;
          if (v74 <= 8191.0)
          {
            v75 = v74;
            if (v74 < 0.0)
            {
              v75 = 0.0;
            }
          }

          v76 = v21 * ((*(v52 + 1) >> v42) - v19);
          v77 = v56 + v76;
          v78 = (v56 + v76) <= 8191.0;
          v79 = 8191.0;
          if (v78)
          {
            v79 = v77;
            if (v77 < 0.0)
            {
              v79 = 0.0;
            }
          }

          v80 = v61 + v76;
          v78 = (v61 + v76) <= 8191.0;
          v81 = 8191.0;
          if (v78)
          {
            v81 = v80;
            if (v80 < 0.0)
            {
              v81 = 0.0;
            }
          }

          v82 = v63 + v76;
          v78 = (v63 + v76) <= 8191.0;
          v83 = 8191.0;
          if (v78)
          {
            v83 = v82;
            if (v82 < 0.0)
            {
              v83 = 0.0;
            }
          }

          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v59, 0.0), 8191.0)));
          __asm { FCVT            S8, H2 }

          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v62, 0.0), 8191.0)));
          __asm { FCVT            S9, H2 }

          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v65, 0.0), 8191.0)));
          __asm { FCVT            S10, H2 }

          _H12 = *(v28 + 2 * llroundf(fminf(fmaxf(v67, 0.0), 8191.0)));
          _H15 = *(v28 + 2 * llroundf(fminf(fmaxf(v68, 0.0), 8191.0)));
          _H3 = *(v28 + 2 * llroundf(fminf(fmaxf(v70, 0.0), 8191.0)));
          _H14 = *(v28 + 2 * llroundf(fminf(fmaxf(v72, 0.0), 8191.0)));
          _H7 = *(v28 + 2 * llroundf(fminf(fmaxf(v73, 0.0), 8191.0)));
          _H2 = *(v28 + 2 * llroundf(fminf(fmaxf(v75, 0.0), 8191.0)));
          _H30 = *(v28 + 2 * llroundf(fminf(fmaxf(v79, 0.0), 8191.0)));
          _H11 = *(v28 + 2 * llroundf(fminf(fmaxf(v81, 0.0), 8191.0)));
          _H13 = *(v28 + 2 * llroundf(fminf(fmaxf(v83, 0.0), 8191.0)));
          v102 = (((v33 * _S9) + (v32 * _S8)) + (v34 * _S10)) + (v35 * fmaxf(_S8, fmaxf(_S9, _S10)));
          v103 = 8191.0;
          if (v102 <= 8191.0)
          {
            v103 = v102;
            if (v102 < 0.0)
            {
              v103 = 0.0;
            }
          }

          __asm
          {
            FCVT            S4, H12
            FCVT            S5, H15
            FCVT            S6, H3
          }

          _H12 = *(v29 + 2 * llroundf(v103));
          v108 = (((v33 * _S5) + (v32 * _S4)) + (v34 * _S6)) + (v35 * fmaxf(_S4, fmaxf(_S5, _S6)));
          v109 = 8191.0;
          if (v108 <= 8191.0)
          {
            v109 = v108;
            if (v108 < 0.0)
            {
              v109 = 0.0;
            }
          }

          __asm
          {
            FCVT            S14, H14
            FCVT            S15, H7
            FCVT            S7, H2
          }

          _H1 = *(v29 + 2 * llroundf(v109));
          v114 = fmaxf(_S14, fmaxf(_S15, _S7));
          v115 = (((v33 * _S15) + (v32 * _S14)) + (v34 * _S7)) + (v35 * v114);
          v116 = 8191.0;
          if (v115 <= 8191.0)
          {
            v116 = (((v33 * _S15) + (v32 * _S14)) + (v34 * _S7)) + (v35 * v114);
            if (v115 < 0.0)
            {
              v116 = 0.0;
            }
          }

          __asm
          {
            FCVT            S2, H30
            FCVT            S3, H11
            FCVT            S30, H13
          }

          _H11 = *(v29 + 2 * llroundf(v116));
          v121 = (((v33 * _S3) + (v32 * _S2)) + (v34 * _S30)) + (v35 * fmaxf(_S2, fmaxf(_S3, _S30)));
          v122 = 8191.0;
          if (v121 <= 8191.0)
          {
            v122 = v121;
            if (v121 < 0.0)
            {
              v122 = 0.0;
            }
          }

          __asm { FCVT            S16, H12 }

          v124 = _S8 * _S16;
          v125 = _S9 * _S16;
          v126 = _S10 * _S16;
          __asm { FCVT            S1, H1 }

          v128 = _S4 * _S1;
          v129 = _S5 * _S1;
          v130 = _S6 * _S1;
          __asm { FCVT            S6, H11 }

          v132 = _S14 * _S6;
          v133 = _S15 * _S6;
          v134 = _S7 * _S6;
          _H7 = *(v29 + 2 * llroundf(v122));
          __asm { FCVT            S7, H7 }

          v137 = _S2 * _S7;
          _S3 = _S3 * _S7;
          _S7 = _S30 * _S7;
          _S30 = ((v164 * v125) + (v124 * v165)) + (v126 * v22);
          v141 = ((v24 * v125) + (v124 * v23)) + (v126 * v25);
          _S16 = ((v27 * v125) + (v124 * v26)) + (v126 * v31);
          _S8 = ((v164 * v129) + (v128 * v165)) + (v130 * v22);
          _S9 = ((v24 * v129) + (v128 * v23)) + (v130 * v25);
          _S1 = ((v27 * v129) + (v128 * v26)) + (v130 * v31);
          _S4 = ((v164 * v133) + (v132 * v165)) + (v134 * v22);
          _S5 = ((v24 * v133) + (v132 * v23)) + (v134 * v25);
          _S6 = ((v27 * v133) + (v132 * v26)) + (v134 * v31);
          _S10 = ((v164 * _S3) + (v137 * v165)) + (_S7 * v22);
          v150 = ((v24 * _S3) + (v137 * v23)) + (_S7 * v25);
          _S2 = ((v27 * _S3) + (v137 * v26)) + (_S7 * v31);
          LOWORD(_S3) = *(v30 + 2 * llroundf(fminf(fmaxf(_S30, 0.0), 8191.0)));
          LOWORD(_S7) = *(v30 + 2 * llroundf(fminf(fmaxf(v141, 0.0), 8191.0)));
          LOWORD(_S16) = *(v30 + 2 * llroundf(fminf(fmaxf(_S16, 0.0), 8191.0)));
          LOWORD(_S30) = *(v30 + 2 * llroundf(fminf(fmaxf(_S8, 0.0), 8191.0)));
          LOWORD(_S8) = *(v30 + 2 * llroundf(fminf(fmaxf(_S9, 0.0), 8191.0)));
          LOWORD(_S1) = *(v30 + 2 * llroundf(fminf(fmaxf(_S1, 0.0), 8191.0)));
          LOWORD(_S4) = *(v30 + 2 * llroundf(fminf(fmaxf(_S4, 0.0), 8191.0)));
          LOWORD(_S5) = *(v30 + 2 * llroundf(fminf(fmaxf(_S5, 0.0), 8191.0)));
          LOWORD(_S6) = *(v30 + 2 * llroundf(fminf(fmaxf(_S6, 0.0), 8191.0)));
          LOWORD(_S9) = *(v30 + 2 * llroundf(fminf(fmaxf(_S10, 0.0), 8191.0)));
          LOWORD(_S10) = *(v30 + 2 * llroundf(fminf(fmaxf(v150, 0.0), 8191.0)));
          LOWORD(_S2) = *(v30 + 2 * llroundf(fminf(fmaxf(_S2, 0.0), 8191.0)));
          __asm
          {
            FCVT            S3, H3
            FCVT            S7, H7
          }

          *v38 = _S3;
          *(v38 + 4) = _S7;
          __asm { FCVT            S3, H16 }

          *(v38 + 8) = _S3;
          *(v38 + 12) = v51;
          __asm
          {
            FCVT            S3, H30
            FCVT            S7, H8
          }

          *(v38 + 16) = _S3;
          *(v38 + 20) = _S7;
          __asm { FCVT            S1, H1 }

          *(v38 + 24) = _S1;
          *(v38 + 28) = v51;
          __asm
          {
            FCVT            S1, H4
            FCVT            S3, H5
          }

          *v53 = _S1;
          *(v53 + 4) = _S3;
          v46 += 4;
          v52 += 4;
          __asm
          {
            FCVT            S1, H6
            FCVT            S3, H9
            FCVT            S4, H10
          }

          *(v53 + 8) = _S1;
          *(v53 + 12) = v51;
          __asm { FCVT            S1, H2 }

          v38 += 32;
          *(v53 + 16) = _S3;
          *(v53 + 20) = _S4;
          *(v53 + 24) = _S1;
          *(v53 + 28) = v51;
          v53 += 32;
          v50 += 2;
          v20 = v170;
          v19 = v171;
        }

        while (v50 < v11);
      }

      v46 = &v48[v14];
      v47 += v15;
      v40 += v16 + v16;
      v38 = v49 + v17;
      v9 += 2;
    }

    while (v9 < v8);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_TRC_Mat_TRC_RGfA_neon_fp16(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (16 * (v24 + v25) + 16) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 16 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Mat_TRC_RGfA_neon_fp16_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

uint64_t vt_Copy_xf420_TRC_Mat_TRC_RGfA_neon_fp16_GCD(uint64_t result, uint64_t a2, int16x4_t a3, int64x2_t a4, double a5, double a6, double a7, float32x4_t a8)
{
  v9 = 2 * *result;
  v231 = result;
  v10 = *(result + 104);
  v11 = v10 * a2 / v9;
  v12 = 2 * ((v10 + v10 * a2) / v9 - v11);
  if (v12 >= 1)
  {
    v13 = 0;
    v14 = *(result + 96);
    v15 = *(result + 152);
    v17 = *(result + 56);
    v16 = *(result + 64);
    v18 = *v16;
    v19 = v16[1];
    v20 = v16[2];
    v21 = **(result + 136);
    v22 = v15[17].u16[2];
    v23 = v15[17].u16[3];
    a3.i32[0] = v15->i32[0];
    v24.i32[0] = v15[3].i32[1];
    _S31 = v15[9].f32[0];
    _S23 = v15[9].f32[1];
    _S15 = v15[10].f32[0];
    v28 = (v14 - 7);
    v29 = &v15[20] + 4;
    v30 = v14 & 0xFFFFFFFE;
    v8.f32[0] = 8191.0 / v15[16].u32[0];
    v31 = v22;
    v284 = v23;
    _S20 = v8.f32[0] * v15->f32[0];
    v33 = &v15[2068] + 4;
    *a3.i16 = v22;
    v34 = vdupq_lane_s16(a3, 0);
    __asm { FCVT            H0, S20 }

    v251 = _H0;
    v40 = -v23;
    v24.i32[1] = v15[1].i32[0];
    *a8.f32 = vmul_n_f32(v24, v8.f32[0]);
    v41 = vdupq_lane_s32(vcvt_f16_f32(a8), 0);
    *v8.f32 = vmul_n_f32(v15[2], v8.f32[0]);
    v42 = vdupq_lane_s32(vcvt_f16_f32(v8), 0);
    v43 = vmulq_n_f16(v41, v40);
    v44 = vmulq_n_f16(v42, v40);
    __asm
    {
      FCVT            H11, S31
      FCVT            H10, S23
      FCVT            H6, S15
    }

    v260 = v15[10].f32[1];
    __asm { FCVT            H0, S2 }

    v254 = _H0;
    v259 = v15[11].f32[0];
    __asm { FCVT            H7, S3 }

    v258 = v15[11].f32[1];
    __asm { FCVT            H13, S4 }

    v255 = v15[12].f32[0];
    __asm { FCVT            H8, S22 }

    v252 = v15[13].f32[0];
    v253 = v15[12].f32[1];
    __asm
    {
      FCVT            H14, S27
      FCVT            H9, S16
    }

    LODWORD(v15) = v15[15].u8[4];
    v54 = 16 - v15;
    v55 = *(result + 44) + 2 * (*(result + 28) * a2 / v9);
    v57 = v17[1];
    v56 = v17[2];
    v58 = *v17;
    v59 = v57 + v19 * (v55 / 2);
    v60 = *(result + 120) + 2 * v11;
    _CF = v15 >= 0x11;
    v61 = *(result + 36);
    result = v56 + v20 * v55 + 2 * v61;
    if (_CF)
    {
      v54 = 0;
    }

    v62 = **(v231 + 128) + v21 * v60 + 16 * *(v231 + 112);
    if (v56)
    {
      v63 = v56 + v20 * v55 + 2 * v61;
    }

    else
    {
      v63 = 0;
    }

    v64 = (v59 + 2 * v61);
    v65 = vdupq_n_s16(-v54);
    v235 = v65;
    v66 = (v58 + v18 * v55 + 2 * v61);
    v67 = v54;
    v233 = v14 & 0xFFFFFFF8;
    v256 = v8.f32[0];
    v257 = a8.f32[0];
    v250 = v8.f32[1];
    v266 = v41;
    v267 = v34;
    v264 = v43;
    v265 = v42;
    v262 = _H14;
    v263 = v44;
    v282 = _H10;
    v283 = _H11;
    v280 = _H9;
    v281 = _H8;
    v244 = v14;
    v245 = v12;
    v242 = v19;
    v243 = v18;
    v240 = v21;
    v241 = v20;
    v238 = _S23;
    v239 = _S31;
    v237 = _S15;
    v236 = v14 & 0xFFFFFFFE;
    v234 = v54;
    v261 = _H13;
    do
    {
      v68 = &v66->i8[v18];
      v69 = v62 + v21;
      if (v14 < 8)
      {
        v151 = 0;
        v76 = v62 + v21;
        v75 = v64;
        v74 = (v66 + v18);
      }

      else
      {
        v249 = v13;
        v65.i64[0] = 0;
        v70 = 0;
        v248 = v64;
        a4.i64[0] = v63;
        v71 = vdupq_lane_s64(vceqq_s64(a4, v65).i64[0], 0);
        __asm { FMOV            V1.4S, #1.0 }

        v73 = vandq_s8(_Q1, v71);
        v246 = &v66->i8[v18];
        v247 = v62 + v21;
        v74 = (v66 + v18);
        v75 = v64;
        v76 = v62 + v21;
        v77.i64[0] = 0x9000900090009000;
        v77.i64[1] = 0x9000900090009000;
        do
        {
          v278 = v70;
          v78 = *v75++;
          v79 = v43;
          v279 = v66 + 1;
          v80 = vcvtq_f16_u16(vshlq_u16(v78, v235));
          v81 = vmlaq_f16(v79, v41, v80);
          v82 = *v74++;
          v83 = vtrn2q_s16(v81, v81);
          v84 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(*v66, v235)), v34);
          v85 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v83, v84, v251), 0), v77));
          v86 = v85.u16[0];
          v87 = v85.u16[1];
          v88 = v85.u16[2];
          v89 = v85.u16[3];
          v271 = v85.u16[4];
          v276 = v85.u16[5];
          v90 = vmlaq_f16(v44, v42, v80);
          v91 = vuzp1q_s16(v90, v83);
          v274 = v85.u16[6];
          *v91.i8 = vadd_f16(*v91.i8, *&vuzp2q_s16(v90, v83));
          v92 = vzip1q_s16(v91, v91);
          v273 = v85.u16[7];
          v93 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v92, v84, v251), 0), v77));
          v94 = v93.u16[0];
          v95 = vtrn1q_s16(v81, v81);
          v96 = v93.u16[1];
          v97 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v95, v84, v251), 0), v77));
          v98 = v97.u16[0];
          v99 = v93.u16[2];
          v100 = v93.u16[3];
          v101 = v97.u16[3];
          v102 = v97.u16[4];
          v103 = v93.u16[4];
          v104 = v97.u16[5];
          v269 = v97.u16[6];
          v105 = v93.u16[5];
          v106 = v93.u16[6];
          v107 = _H9;
          v108 = vsubq_f16(vcvtq_f16_u16(vshlq_u16(v82, v235)), v34);
          v109 = v93.u16[7];
          v110 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v83, v108, v251), 0), v77));
          v97.i16[0] = *&v29[2 * v110.u16[0]];
          v83.i16[0] = *&v29[2 * v86];
          v111 = v28;
          v112 = v110.u16[4];
          v113.i16[0] = *&v29[2 * v98];
          LOWORD(v98) = v110.i16[5];
          v83.i16[1] = *&v29[2 * v87];
          v114 = v110.u16[6];
          v113.i16[1] = *&v29[2 * v97.u16[1]];
          v115 = &v29[2 * v88];
          v116 = v110.u16[7];
          v83.i16[2] = *v115;
          v97.i16[1] = *&v29[2 * v110.u16[1]];
          v90.i16[0] = *&v29[2 * v94];
          v117 = &v29[2 * v97.u16[2]];
          v97.i16[2] = *&v29[2 * v110.u16[2]];
          v113.i16[2] = *v117;
          v97.i16[3] = *&v29[2 * v110.u16[3]];
          v83.i16[3] = *&v29[2 * v89];
          v90.i16[1] = *&v29[2 * v96];
          v118 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v92, v108, v251), 0), v77));
          v113.i16[3] = *&v29[2 * v101];
          v92.i16[0] = *&v29[2 * v118.u16[0]];
          v97.i16[4] = *&v29[2 * v112];
          v83.i16[4] = *&v29[2 * v271];
          v90.i16[2] = *&v29[2 * v99];
          v113.i16[4] = *&v29[2 * v102];
          v97.i16[5] = *&v29[2 * v98];
          v83.i16[5] = *&v29[2 * v276];
          v90.i16[3] = *&v29[2 * v100];
          v113.i16[5] = *&v29[2 * v104];
          v92.i16[1] = *&v29[2 * v118.u16[1]];
          v28 = v111;
          v97.i16[6] = *&v29[2 * v114];
          v92.i16[2] = *&v29[2 * v118.u16[2]];
          v92.i16[3] = *&v29[2 * v118.u16[3]];
          v92.i16[4] = *&v29[2 * v118.u16[4]];
          v119 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(vmlaq_n_f16(v95, v108, v251), 0), v77));
          v83.i16[6] = *&v29[2 * v274];
          v90.i16[4] = *&v29[2 * v103];
          v118.i16[0] = *&v29[2 * v119.u16[0]];
          v120 = &v29[2 * v97.u16[7]];
          v113.i16[6] = *&v29[2 * v269];
          v97.i16[7] = *&v29[2 * v116];
          v92.i16[5] = *&v29[2 * v118.u16[5]];
          v83.i16[7] = *&v29[2 * v273];
          v90.i16[5] = *&v29[2 * v105];
          v113.i16[7] = *v120;
          v92.i16[6] = *&v29[2 * v118.u16[6]];
          v118.i16[1] = *&v29[2 * v119.u16[1]];
          v118.i16[2] = *&v29[2 * v119.u16[2]];
          v90.i16[6] = *&v29[2 * v106];
          v118.i16[3] = *&v29[2 * v119.u16[3]];
          v118.i16[4] = *&v29[2 * v119.u16[4]];
          v92.i16[7] = *&v29[2 * v118.u16[7]];
          v118.i16[5] = *&v29[2 * v119.u16[5]];
          v118.i16[6] = *&v29[2 * v119.u16[6]];
          v90.i16[7] = *&v29[2 * v109];
          v118.i16[7] = *&v29[2 * v119.u16[7]];
          v121 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v83, _H11), v90, _H10), v113, _H6);
          v122 = _H10;
          v123 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v83, v254), v90, _H7), v113, v261);
          v124 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v113, v107), v90, v262), v83, _H8);
          v125 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v121, 0), v77));
          v126 = v125.u16[0];
          LOWORD(v117) = v125.i16[1];
          v127 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v97, _H11), v92, v122), v118, _H6);
          v268 = v125.u16[2];
          v275 = v125.u16[3];
          v128 = v125.u16[4];
          v129 = v125.u16[5];
          v270 = v125.u16[6];
          v277 = v125.u16[7];
          v130 = vmlaq_n_f16(vmlaq_n_f16(vmulq_n_f16(v97, v254), v92, _H7), v118, v261);
          v131 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v123, 0), v77));
          v132 = v131.u16[0];
          v133 = vmlaq_n_f16(vmulq_n_f16(v118, v107), v92, v262);
          v272 = v131.u16[3];
          result = v131.u16[5];
          v134 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v124, 0), v77));
          v135 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v127, 0), v77));
          v131.i16[0] = *&v33[2 * v135.u16[0]];
          v136 = vmlaq_n_f16(v133, v97, _H8);
          v97.i16[0] = *&v33[2 * v135.u16[4]];
          v137 = vcvtq_u16_f16(vminq_f16(vmaxq_f16(v130, 0), v77));
          v135.i16[0] = *&v33[2 * v137.u16[0]];
          v138 = v137.u16[1];
          v139 = v137.u16[2];
          v140.i16[0] = *&v33[2 * v126];
          v130.i16[0] = *&v33[2 * v137.u16[4]];
          v65 = vminq_f16(vmaxq_f16(v136, 0), v77);
          v141 = vcvtq_u16_f16(v65);
          v142.i16[0] = *&v33[2 * v128];
          v143.i16[0] = *&v33[2 * v141.u16[0]];
          v124.i16[0] = *&v33[2 * v132];
          v144.i16[0] = *&v33[2 * v141.u16[4]];
          v123.i16[0] = *&v33[2 * v131.u16[4]];
          v65.i16[0] = *&v33[2 * v134.u16[0]];
          v137.i16[0] = *&v33[2 * v134.u16[4]];
          v140.i16[1] = *&v33[2 * v117];
          v124.i16[1] = *&v33[2 * v131.u16[1]];
          v65.i16[1] = *&v33[2 * v134.u16[1]];
          v142.i16[1] = *&v33[2 * v129];
          v140.i16[2] = *&v33[2 * v268];
          v123.i16[1] = *&v33[2 * v131.u16[5]];
          v124.i16[2] = *&v33[2 * v131.u16[2]];
          v66 = v279;
          v137.i16[1] = *&v33[2 * v134.u16[5]];
          v65.i16[2] = *&v33[2 * v134.u16[2]];
          v131.i16[1] = *&v33[2 * v135.u16[1]];
          v142.i16[2] = *&v33[2 * v270];
          v131.i16[2] = *&v33[2 * v135.u16[2]];
          v123.i16[2] = *&v33[2 * v131.u16[6]];
          v97.i16[1] = *&v33[2 * v135.u16[5]];
          v137.i16[2] = *&v33[2 * v134.u16[6]];
          v97.i16[2] = *&v33[2 * v135.u16[6]];
          v131.i16[3] = *&v33[2 * v135.u16[3]];
          v97.i16[3] = *&v33[2 * v135.u16[7]];
          v140.i16[3] = *&v33[2 * v275];
          v135.i16[1] = *&v33[2 * v138];
          v124.i16[3] = *&v33[2 * v272];
          v135.i16[2] = *&v33[2 * v139];
          v65.i16[3] = *&v33[2 * v134.u16[3]];
          v135.i16[3] = *&v33[2 * v137.u16[3]];
          v142.i16[3] = *&v33[2 * v277];
          v130.i16[1] = *&v33[2 * v137.u16[5]];
          v123.i16[3] = *&v33[2 * v131.u16[7]];
          v130.i16[2] = *&v33[2 * v137.u16[6]];
          v137.i16[3] = *&v33[2 * v134.u16[7]];
          v130.i16[3] = *&v33[2 * v137.u16[7]];
          v143.i16[1] = *&v33[2 * v141.u16[1]];
          v143.i16[2] = *&v33[2 * v141.u16[2]];
          v143.i16[3] = *&v33[2 * v141.u16[3]];
          a4 = vcvtq_f32_f16(v140);
          _H8 = v281;
          v144.i16[1] = *&v33[2 * v141.u16[5]];
          v144.i16[2] = *&v33[2 * v141.u16[6]];
          v145 = vcvtq_f32_f16(*v124.i8);
          v146 = vcvtq_f32_f16(*v65.i8);
          v144.i16[3] = *&v33[2 * v141.u16[7]];
          v147 = v62 + 128;
          vst4q_f32(v62, *a4.i8);
          v148 = (v62 + 64);
          v285.val[0] = vcvtq_f32_f16(v142);
          _H9 = v280;
          v285.val[1] = vcvtq_f32_f16(*v123.i8);
          v285.val[2] = vcvtq_f32_f16(*v137.i8);
          v285.val[3] = v73;
          vst4q_f32(v148, v285);
          v285.val[0] = vcvtq_f32_f16(*v131.i8);
          v285.val[1] = vcvtq_f32_f16(*v135.i8);
          v43 = v264;
          v285.val[2] = vcvtq_f32_f16(v143);
          _H10 = v282;
          v285.val[3] = v73;
          v149 = v76 + 128;
          vst4q_f32(v76, v285);
          v150 = (v76 + 64);
          v285.val[0] = vcvtq_f32_f16(*v97.i8);
          v285.val[1] = vcvtq_f32_f16(*v130.i8);
          v285.val[2] = vcvtq_f32_f16(v144);
          _H11 = v283;
          v285.val[3] = v73;
          vst4q_f32(v150, v285);
          v44 = v263;
          v42 = v265;
          v41 = v266;
          v34 = v267;
          v62 = v147;
          v76 = v149;
          v70 = v278 + 8;
        }

        while (v278 + 8 < v111);
        v151 = v233;
        v67 = v234;
        v14 = v244;
        v12 = v245;
        v13 = v249;
        v19 = v242;
        v18 = v243;
        v21 = v240;
        v20 = v241;
        _S23 = v238;
        _S31 = v239;
        _S15 = v237;
        v30 = v236;
        v64 = v248;
        v68 = v246;
        v69 = v247;
      }

      if (v151 < v30)
      {
        if (v63)
        {
          v152 = 0.0;
        }

        else
        {
          v152 = 1.0;
        }

        do
        {
          v153 = (v75->u16[1] >> v67) - v284;
          v154 = a8.f32[1] * v153;
          v155 = _S20 * ((v66->u16[0] >> v67) - v31);
          v156 = (a8.f32[1] * v153) + v155;
          v157 = 8191.0;
          if (v156 <= 8191.0)
          {
            v157 = (a8.f32[1] * v153) + v155;
            if (v156 < 0.0)
            {
              v157 = 0.0;
            }
          }

          v158 = (v75->u16[0] >> v67) - v284;
          v159 = (v250 * v153) + (v158 * v256);
          v160 = 8191.0;
          if ((v155 + v159) <= 8191.0)
          {
            v160 = v155 + v159;
            if ((v155 + v159) < 0.0)
            {
              v160 = 0.0;
            }
          }

          v161 = v257 * v158;
          v162 = (v257 * v158) + v155;
          v163 = 8191.0;
          if (v162 <= 8191.0)
          {
            v163 = v162;
            if (v162 < 0.0)
            {
              v163 = 0.0;
            }
          }

          v164 = _S20 * ((v66->u16[1] >> v67) - v31);
          v165 = 8191.0;
          if ((v154 + v164) <= 8191.0)
          {
            v165 = v154 + v164;
            if ((v154 + v164) < 0.0)
            {
              v165 = 0.0;
            }
          }

          v166 = 8191.0;
          if ((v159 + v164) <= 8191.0)
          {
            v166 = v159 + v164;
            if ((v159 + v164) < 0.0)
            {
              v166 = 0.0;
            }
          }

          v167 = v161 + v164;
          v168 = (v161 + v164) <= 8191.0;
          v169 = 8191.0;
          if (v168)
          {
            v169 = v167;
            if (v167 < 0.0)
            {
              v169 = 0.0;
            }
          }

          v170 = _S20 * ((v74->u16[0] >> v67) - v31);
          v171 = 8191.0;
          if ((v154 + v170) <= 8191.0)
          {
            v171 = v154 + v170;
            if ((v154 + v170) < 0.0)
            {
              v171 = 0.0;
            }
          }

          v172 = 8191.0;
          if ((v159 + v170) <= 8191.0)
          {
            v172 = v159 + v170;
            if ((v159 + v170) < 0.0)
            {
              v172 = 0.0;
            }
          }

          v173 = v161 + v170;
          v168 = (v161 + v170) <= 8191.0;
          v174 = 8191.0;
          if (v168)
          {
            v174 = v173;
            if (v173 < 0.0)
            {
              v174 = 0.0;
            }
          }

          v175 = _S20 * ((v74->u16[1] >> v67) - v31);
          v176 = v154 + v175;
          v177 = 8191.0;
          if (v176 <= 8191.0)
          {
            v177 = v176;
            if (v176 < 0.0)
            {
              v177 = 0.0;
            }
          }

          v178 = v159 + v175;
          v168 = (v159 + v175) <= 8191.0;
          v179 = 8191.0;
          if (v168)
          {
            v179 = v178;
            if (v178 < 0.0)
            {
              v179 = 0.0;
            }
          }

          v180 = v161 + v175;
          v181 = 8191.0;
          if (v180 <= 8191.0)
          {
            v181 = v180;
            if (v180 < 0.0)
            {
              v181 = 0.0;
            }
          }

          _H0 = *&v29[2 * llroundf(fminf(fmaxf(v157, 0.0), 8191.0))];
          _H2 = *&v29[2 * llroundf(fminf(fmaxf(v160, 0.0), 8191.0))];
          __asm
          {
            FCVT            S0, H0
            FCVT            S2, H2
          }

          _H3 = *&v29[2 * llroundf(fminf(fmaxf(v163, 0.0), 8191.0))];
          __asm { FCVT            S3, H3 }

          _H4 = *&v29[2 * llroundf(fminf(fmaxf(v165, 0.0), 8191.0))];
          __asm { FCVT            S4, H4 }

          _H5 = *&v29[2 * llroundf(fminf(fmaxf(v166, 0.0), 8191.0))];
          __asm { FCVT            S5, H5 }

          _H19 = *&v29[2 * llroundf(fminf(fmaxf(v169, 0.0), 8191.0))];
          __asm { FCVT            S19, H19 }

          _H21 = *&v29[2 * llroundf(fminf(fmaxf(v171, 0.0), 8191.0))];
          _H26 = *&v29[2 * llroundf(fminf(fmaxf(v172, 0.0), 8191.0))];
          __asm
          {
            FCVT            S21, H21
            FCVT            S26, H26
          }

          _H28 = *&v29[2 * llroundf(fminf(fmaxf(v174, 0.0), 8191.0))];
          v199 = llroundf(fminf(fmaxf(v177, 0.0), 8191.0));
          __asm { FCVT            S25, H28 }

          _H28 = *&v29[2 * v199];
          __asm { FCVT            S28, H28 }

          _H1 = *&v29[2 * llroundf(fminf(fmaxf(v179, 0.0), 8191.0))];
          __asm { FCVT            S1, H1 }

          _H27 = *&v29[2 * llroundf(fminf(fmaxf(v181, 0.0), 8191.0))];
          __asm { FCVT            S27, H27 }

          v207 = ((_S23 * _S2) + (_S0 * _S31)) + (_S3 * _S15);
          v208 = ((v259 * _S2) + (_S0 * v260)) + (_S3 * v258);
          _S0 = ((v253 * _S2) + (_S0 * v255)) + (_S3 * v252);
          _S2 = ((_S23 * _S5) + (_S4 * _S31)) + (_S19 * _S15);
          _S3 = ((v259 * _S5) + (_S4 * v260)) + (_S19 * v258);
          _S4 = ((v253 * _S5) + (_S4 * v255)) + (_S19 * v252);
          _S5 = ((_S23 * _S26) + (_S21 * _S31)) + (_S25 * _S15);
          _S19 = ((v259 * _S26) + (_S21 * v260)) + (_S25 * v258);
          _S21 = ((v253 * _S26) + (_S21 * v255)) + (_S25 * v252);
          _S25 = ((_S23 * _S1) + (_S28 * _S31)) + (_S27 * _S15);
          _S26 = ((v259 * _S1) + (_S28 * v260)) + (_S27 * v258);
          _S1 = ((v253 * _S1) + (_S28 * v255)) + (_S27 * v252);
          LOWORD(_S27) = *&v33[2 * llroundf(fminf(fmaxf(v207, 0.0), 8191.0))];
          LOWORD(_S28) = *&v33[2 * llroundf(fminf(fmaxf(v208, 0.0), 8191.0))];
          LOWORD(_S0) = *&v33[2 * llroundf(fminf(fmaxf(_S0, 0.0), 8191.0))];
          LOWORD(_S2) = *&v33[2 * llroundf(fminf(fmaxf(_S2, 0.0), 8191.0))];
          LOWORD(_S3) = *&v33[2 * llroundf(fminf(fmaxf(_S3, 0.0), 8191.0))];
          LOWORD(_S4) = *&v33[2 * llroundf(fminf(fmaxf(_S4, 0.0), 8191.0))];
          LOWORD(_S5) = *&v33[2 * llroundf(fminf(fmaxf(_S5, 0.0), 8191.0))];
          LOWORD(_S19) = *&v33[2 * llroundf(fminf(fmaxf(_S19, 0.0), 8191.0))];
          LOWORD(_S21) = *&v33[2 * llroundf(fminf(fmaxf(_S21, 0.0), 8191.0))];
          LOWORD(_S25) = *&v33[2 * llroundf(fminf(fmaxf(_S25, 0.0), 8191.0))];
          LOWORD(_S26) = *&v33[2 * llroundf(fminf(fmaxf(_S26, 0.0), 8191.0))];
          LOWORD(_S1) = *&v33[2 * llroundf(fminf(fmaxf(_S1, 0.0), 8191.0))];
          __asm
          {
            FCVT            S27, H27
            FCVT            S28, H28
          }

          *v62 = _S27;
          *(v62 + 4) = _S28;
          __asm { FCVT            S0, H0 }

          *(v62 + 8) = _S0;
          *(v62 + 12) = v152;
          __asm
          {
            FCVT            S0, H2
            FCVT            S2, H3
          }

          *(v62 + 16) = _S0;
          *(v62 + 20) = _S2;
          __asm { FCVT            S0, H4 }

          *(v62 + 24) = _S0;
          *(v62 + 28) = v152;
          __asm
          {
            FCVT            S0, H5
            FCVT            S2, H19
          }

          *v76 = _S0;
          *(v76 + 4) = _S2;
          __asm
          {
            FCVT            S0, H21
            FCVT            S2, H25
            FCVT            S3, H26
          }

          *(v76 + 8) = _S0;
          *(v76 + 12) = v152;
          __asm { FCVT            S0, H1 }

          *(v76 + 16) = _S2;
          *(v76 + 20) = _S3;
          v151 += 2;
          v75 = (v75 + 4);
          v66 = (v66 + 4);
          *(v76 + 24) = _S0;
          *(v76 + 28) = v152;
          v74 = (v74 + 4);
          v62 += 32;
          v76 += 32;
          _H10 = v282;
          _H11 = v283;
          _H9 = v280;
          _H8 = v281;
        }

        while (v151 < v30);
      }

      v66 = &v68[v18];
      v64 = (v64 + v19);
      v63 += v20 + v20;
      v62 = v69 + v21;
      v13 += 2;
      v41 = v266;
      v34 = v267;
      v43 = v264;
      v42 = v265;
      v44 = v263;
    }

    while (v13 < v12);
  }

  *(v231 + 4 * a2 + 160) = 0;
  return result;
}

uint64_t vt_Copy_xf420_TRC_Mat_TRC_RGfA(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (16 * (v24 + v25) + 16) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 16 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_TRC_Mat_TRC_RGfA_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_TRC_Mat_TRC_RGfA_GCD(unsigned __int8 *result, uint64_t a2, double a3, double a4, float a5)
{
  v5 = 2 * *result;
  v6 = *(result + 13);
  v7 = v6 * a2 / v5;
  v8 = 2 * ((v6 + v6 * a2) / v5 - v7);
  if (v8 >= 1)
  {
    v9 = 0;
    v10 = *(result + 19);
    v11 = *(result + 24) & 0xFFFFFFFE;
    v12 = *(result + 7);
    v13 = *(result + 8);
    v14 = *v13;
    v15 = v13[1];
    v16 = v13[2];
    v17 = **(result + 17);
    *&v18 = *(v10 + 128);
    v19 = 8191.0 / *&v18;
    LOWORD(v18) = *(v10 + 140);
    v20 = v18;
    LOWORD(a5) = *(v10 + 142);
    v21 = LODWORD(a5);
    v22 = v19 * *v10;
    v136 = v19 * *(v10 + 8);
    v23 = v19 * *(v10 + 16);
    v24 = v19 * *(v10 + 20);
    v25 = v19 * *(v10 + 28);
    v26 = *(v10 + 72);
    v27 = *(v10 + 76);
    v28 = *(v10 + 80);
    v29 = *(v10 + 84);
    v30 = *(v10 + 88);
    v31 = *(v10 + 92);
    v32 = *(v10 + 96);
    v33 = *(v10 + 100);
    v34 = *(v10 + 104);
    v35 = v10 + 164;
    v36 = v10 + 16548;
    v37 = *(result + 44) + 2 * (*(result + 28) * a2 / v5);
    v38 = *(result + 36);
    v39 = **(result + 16) + v17 * (*(result + 15) + 2 * v7) + 16 * *(result + 14);
    v40 = v12[2];
    if (v40)
    {
      v41 = v40 + v37 * v16 + 2 * v38;
    }

    else
    {
      v41 = 0;
    }

    v42 = *(v10 + 124);
    v43 = 16 - v42;
    _CF = v42 >= 0x11;
    v45 = *v12;
    v46 = v12[1];
    v47 = (v45 + v37 * v14 + 2 * v38);
    if (_CF)
    {
      v43 = 0;
    }

    v48 = v46 + v37 / 2 * v15 + 2 * v38;
    do
    {
      v49 = &v47[v14];
      v50 = v39 + v17;
      if (v11 >= 1)
      {
        v51 = 0;
        if (v41)
        {
          v52 = 0.0;
        }

        else
        {
          v52 = 1.0;
        }

        v53 = &v47[v14];
        v54 = v39 + v17;
        do
        {
          v55 = (v48 + 2 * v51);
          v56 = (v55[1] >> v43) - v21;
          v57 = v136 * v56;
          v58 = v22 * ((*v47 >> v43) - v20);
          v59 = (v136 * v56) + v58;
          v60 = 8191.0;
          if (v59 <= 8191.0)
          {
            v60 = (v136 * v56) + v58;
            if (v59 < 0.0)
            {
              v60 = 0.0;
            }
          }

          v61 = (*v55 >> v43) - v21;
          v62 = (v24 * v56) + (v61 * v23);
          v63 = 8191.0;
          if ((v58 + v62) <= 8191.0)
          {
            v63 = v58 + v62;
            if ((v58 + v62) < 0.0)
            {
              v63 = 0.0;
            }
          }

          v64 = v25 * v61;
          v65 = (v25 * v61) + v58;
          v66 = 8191.0;
          if (v65 <= 8191.0)
          {
            v66 = v65;
            if (v65 < 0.0)
            {
              v66 = 0.0;
            }
          }

          v67 = v22 * ((*(v47 + 1) >> v43) - v20);
          v68 = 8191.0;
          if ((v57 + v67) <= 8191.0)
          {
            v68 = v57 + v67;
            if ((v57 + v67) < 0.0)
            {
              v68 = 0.0;
            }
          }

          v69 = 8191.0;
          if ((v62 + v67) <= 8191.0)
          {
            v69 = v62 + v67;
            if ((v62 + v67) < 0.0)
            {
              v69 = 0.0;
            }
          }

          v70 = v64 + v67;
          v71 = (v64 + v67) <= 8191.0;
          v72 = 8191.0;
          if (v71)
          {
            v72 = v70;
            if (v70 < 0.0)
            {
              v72 = 0.0;
            }
          }

          v73 = v22 * ((*v53 >> v43) - v20);
          v74 = 8191.0;
          if ((v57 + v73) <= 8191.0)
          {
            v74 = v57 + v73;
            if ((v57 + v73) < 0.0)
            {
              v74 = 0.0;
            }
          }

          v75 = 8191.0;
          if ((v62 + v73) <= 8191.0)
          {
            v75 = v62 + v73;
            if ((v62 + v73) < 0.0)
            {
              v75 = 0.0;
            }
          }

          v76 = v64 + v73;
          v71 = (v64 + v73) <= 8191.0;
          v77 = 8191.0;
          if (v71)
          {
            v77 = v76;
            if (v76 < 0.0)
            {
              v77 = 0.0;
            }
          }

          v78 = v22 * ((*(v53 + 1) >> v43) - v20);
          v79 = v57 + v78;
          v80 = 8191.0;
          if (v79 <= 8191.0)
          {
            v80 = v79;
            if (v79 < 0.0)
            {
              v80 = 0.0;
            }
          }

          v81 = v62 + v78;
          v71 = (v62 + v78) <= 8191.0;
          v82 = 8191.0;
          if (v71)
          {
            v82 = v81;
            if (v81 < 0.0)
            {
              v82 = 0.0;
            }
          }

          v83 = v64 + v78;
          v84 = 8191.0;
          if (v83 <= 8191.0)
          {
            v84 = v83;
            if (v83 < 0.0)
            {
              v84 = 0.0;
            }
          }

          _H26 = *(v35 + 2 * llroundf(fminf(fmaxf(v60, 0.0), 8191.0)));
          __asm { FCVT            S26, H26 }

          _H28 = *(v35 + 2 * llroundf(fminf(fmaxf(v63, 0.0), 8191.0)));
          __asm { FCVT            S28, H28 }

          _H29 = *(v35 + 2 * llroundf(fminf(fmaxf(v66, 0.0), 8191.0)));
          __asm { FCVT            S29, H29 }

          _H30 = *(v35 + 2 * llroundf(fminf(fmaxf(v68, 0.0), 8191.0)));
          __asm { FCVT            S30, H30 }

          _H31 = *(v35 + 2 * llroundf(fminf(fmaxf(v69, 0.0), 8191.0)));
          _H8 = *(v35 + 2 * llroundf(fminf(fmaxf(v72, 0.0), 8191.0)));
          __asm
          {
            FCVT            S31, H31
            FCVT            S8, H8
          }

          _H11 = *(v35 + 2 * llroundf(fminf(fmaxf(v74, 0.0), 8191.0)));
          __asm { FCVT            S11, H11 }

          _H12 = *(v35 + 2 * llroundf(fminf(fmaxf(v75, 0.0), 8191.0)));
          __asm { FCVT            S12, H12 }

          _H13 = *(v35 + 2 * llroundf(fminf(fmaxf(v77, 0.0), 8191.0)));
          __asm { FCVT            S13, H13 }

          _H4 = *(v35 + 2 * llroundf(fminf(fmaxf(v80, 0.0), 8191.0)));
          __asm { FCVT            S4, H4 }

          _H9 = *(v35 + 2 * llroundf(fminf(fmaxf(v82, 0.0), 8191.0)));
          _H10 = *(v35 + 2 * llroundf(fminf(fmaxf(v84, 0.0), 8191.0)));
          __asm
          {
            FCVT            S9, H9
            FCVT            S10, H10
          }

          v112 = ((v27 * _S28) + (_S26 * v26)) + (_S29 * v28);
          v113 = ((v30 * _S28) + (_S26 * v29)) + (_S29 * v31);
          _S26 = ((v33 * _S28) + (_S26 * v32)) + (_S29 * v34);
          _S28 = ((v27 * _S31) + (_S30 * v26)) + (_S8 * v28);
          _S29 = ((v30 * _S31) + (_S30 * v29)) + (_S8 * v31);
          _S30 = ((v33 * _S31) + (_S30 * v32)) + (_S8 * v34);
          _S31 = ((v27 * _S12) + (_S11 * v26)) + (_S13 * v28);
          _S8 = ((v30 * _S12) + (_S11 * v29)) + (_S13 * v31);
          _S11 = ((v33 * _S12) + (_S11 * v32)) + (_S13 * v34);
          _S12 = ((v27 * _S9) + (_S4 * v26)) + (_S10 * v28);
          _S13 = ((v30 * _S9) + (_S4 * v29)) + (_S10 * v31);
          _S4 = ((v33 * _S9) + (_S4 * v32)) + (_S10 * v34);
          LOWORD(_S9) = *(v36 + 2 * llroundf(fminf(fmaxf(v112, 0.0), 8191.0)));
          LOWORD(_S10) = *(v36 + 2 * llroundf(fminf(fmaxf(v113, 0.0), 8191.0)));
          LOWORD(_S26) = *(v36 + 2 * llroundf(fminf(fmaxf(_S26, 0.0), 8191.0)));
          LOWORD(_S28) = *(v36 + 2 * llroundf(fminf(fmaxf(_S28, 0.0), 8191.0)));
          LOWORD(_S29) = *(v36 + 2 * llroundf(fminf(fmaxf(_S29, 0.0), 8191.0)));
          LOWORD(_S30) = *(v36 + 2 * llroundf(fminf(fmaxf(_S30, 0.0), 8191.0)));
          LOWORD(_S31) = *(v36 + 2 * llroundf(fminf(fmaxf(_S31, 0.0), 8191.0)));
          LOWORD(_S8) = *(v36 + 2 * llroundf(fminf(fmaxf(_S8, 0.0), 8191.0)));
          LOWORD(_S11) = *(v36 + 2 * llroundf(fminf(fmaxf(_S11, 0.0), 8191.0)));
          LOWORD(_S12) = *(v36 + 2 * llroundf(fminf(fmaxf(_S12, 0.0), 8191.0)));
          LOWORD(_S13) = *(v36 + 2 * llroundf(fminf(fmaxf(_S13, 0.0), 8191.0)));
          LOWORD(_S4) = *(v36 + 2 * llroundf(fminf(fmaxf(_S4, 0.0), 8191.0)));
          __asm
          {
            FCVT            S9, H9
            FCVT            S10, H10
          }

          *v39 = _S9;
          *(v39 + 4) = _S10;
          __asm { FCVT            S26, H26 }

          *(v39 + 8) = _S26;
          *(v39 + 12) = v52;
          __asm
          {
            FCVT            S26, H28
            FCVT            S28, H29
          }

          *(v39 + 16) = _S26;
          *(v39 + 20) = _S28;
          __asm { FCVT            S26, H30 }

          *(v39 + 24) = _S26;
          *(v39 + 28) = v52;
          __asm
          {
            FCVT            S26, H31
            FCVT            S28, H8
          }

          *v54 = _S26;
          *(v54 + 4) = _S28;
          v47 += 4;
          v53 += 4;
          __asm
          {
            FCVT            S26, H11
            FCVT            S28, H12
            FCVT            S29, H13
          }

          *(v54 + 8) = _S26;
          *(v54 + 12) = v52;
          __asm { FCVT            S4, H4 }

          v39 += 32;
          *(v54 + 16) = _S28;
          *(v54 + 20) = _S29;
          *(v54 + 24) = _S4;
          *(v54 + 28) = v52;
          v54 += 32;
          v51 += 2;
        }

        while (v51 < v11);
      }

      v47 = &v49[v14];
      v48 += v15;
      v41 += v16 + v16;
      v39 = v50 + v17;
      v9 += 2;
    }

    while (v9 < v8);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_rgb_RGfA_neon_fp16(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (16 * (v24 + v25) + 16) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 16 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_rgb_RGfA_neon_fp16_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_rgb_RGfA_neon_fp16_GCD(unsigned __int8 *result, uint64_t a2, float32x4_t a3, double a4, double a5, double a6, double a7, int16x4_t a8, float32x4_t a9)
{
  v11 = 2 * *result;
  v12 = *(result + 13);
  v13 = v12 * a2 / v11;
  v14 = 2 * ((v12 + v12 * a2) / v11 - v13);
  if (v14 >= 1)
  {
    v15 = 0;
    v16 = *(result + 24);
    v17 = *(result + 19);
    v18 = *(result + 7);
    v19 = *(result + 8);
    v20 = *v19;
    v21 = v19[1];
    v22 = v19[2];
    v23 = **(result + 17);
    v24 = v17[17].u16[2];
    v25 = v17[17].u16[3];
    a9.i32[0] = v17[3].i32[1];
    v26 = v16 & 0xFFFFFFFE;
    v27 = v24;
    v28 = v25;
    v29 = 1.0 / v17[16].u32[0];
    _S3 = v29 * v17->f32[0];
    __asm { FCVT            H4, S3 }

    *a8.i16 = v24;
    v36 = vdupq_lane_s16(a8, 0);
    a9.i32[1] = v17[1].i32[0];
    *a9.f32 = vmul_n_f32(*a9.f32, v29);
    v37 = vdupq_lane_s32(vcvt_f16_f32(a9), 0);
    *a3.f32 = vmul_n_f32(v17[2], v29);
    v38 = vdupq_lane_s32(vcvt_f16_f32(a3), 0);
    v39 = -v25;
    v40 = vmulq_n_f16(v37, v39);
    v41 = vmulq_n_f16(v38, v39);
    LODWORD(v17) = v17[15].u8[4];
    v42 = 16 - v17;
    v44 = v18[1];
    v43 = v18[2];
    v45 = *(result + 44) + 2 * (*(result + 28) * a2 / v11);
    v46 = *v18;
    v47 = v44 + v21 * (v45 / 2);
    v48 = *(result + 15) + 2 * v13;
    _CF = v17 >= 0x11;
    v49 = *(result + 36);
    if (_CF)
    {
      v50 = 0;
    }

    else
    {
      v50 = v42;
    }

    v51 = (**(result + 16) + v23 * v48 + 16 * *(result + 14));
    if (v43)
    {
      v52 = v43 + v22 * v45 + 2 * v49;
    }

    else
    {
      v52 = 0;
    }

    v53 = (v47 + 2 * v49);
    v54 = (v46 + v20 * v45 + 2 * v49);
    v55 = vdupq_n_s16(-v50);
    v56 = v50;
    __asm { FMOV            V23.4S, #1.0 }

    do
    {
      v58 = &v54->i8[v20];
      v59 = v51 + v23;
      if (v16 < 8)
      {
        v90 = 0;
        v64 = (v51 + v23);
        v63 = v53;
        v62 = (v54 + v20);
      }

      else
      {
        v9.i64[0] = 0;
        v60 = 0;
        v10.i64[0] = v52;
        v61 = vandq_s8(_Q23, vdupq_lane_s64(vceqq_s64(v10, v9).i64[0], 0));
        v62 = (v54 + v20);
        v63 = v53;
        v64 = (v51 + v23);
        do
        {
          v65 = *v63++;
          v66 = vcvtq_f16_u16(vshlq_u16(v65, v55));
          v67 = vmlaq_f16(v40, v37, v66);
          v68 = vmlaq_f16(v41, v38, v66);
          v69 = vtrn2q_s16(v67, v67);
          v70 = vtrn1q_s16(v67, v67);
          v71 = vuzp1q_s16(v68, a3);
          *v71.i8 = vadd_f16(*v71.i8, *&vuzp2q_s16(v68, a3));
          v72 = vzip1q_s16(v71, v71);
          v73 = *v54++;
          v74 = vcvtq_f16_u16(vshlq_u16(v73, v55));
          v75 = *v62++;
          v76 = vsubq_f16(v74, v36);
          v77 = vmlaq_n_f16(v69, v76, _H4);
          v78 = vmlaq_n_f16(v72, v76, _H4);
          v79 = vmlaq_n_f16(v70, v76, _H4);
          v80 = vcvtq_f32_f16(*v77.i8);
          v81 = vcvtq_f32_f16(*v78.i8);
          v82 = vcvtq_f32_f16(*v79.i8);
          v102.val[0] = vcvtq_f32_f16(*&vextq_s8(v77, v77, 8uLL));
          v102.val[1] = vcvtq_f32_f16(*&vextq_s8(v78, v78, 8uLL));
          v102.val[2] = vcvtq_f32_f16(*&vextq_s8(v79, v79, 8uLL));
          v102.val[3] = v61;
          v83 = v51 + 32;
          vst4q_f32(v51, *(&v61 - 3));
          v84 = v51 + 16;
          vst4q_f32(v84, v102);
          v102.val[0] = vsubq_f16(vcvtq_f16_u16(vshlq_u16(v75, v55)), v36);
          v85 = vmlaq_n_f16(v69, v102.val[0], _H4);
          v86 = vmlaq_n_f16(v72, v102.val[0], _H4);
          v87 = vmlaq_n_f16(v70, v102.val[0], _H4);
          v9 = vcvtq_f32_f16(*v85.i8);
          v10 = vcvtq_f32_f16(*v86.i8);
          v102.val[2] = vcvtq_f32_f16(*v87.i8);
          v102.val[3] = v61;
          v101.val[0] = vcvtq_f32_f16(*&vextq_s8(v85, v85, 8uLL));
          v101.val[1] = vcvtq_f32_f16(*&vextq_s8(v86, v86, 8uLL));
          v101.val[2] = vcvtq_f32_f16(*&vextq_s8(v87, v87, 8uLL));
          v101.val[3] = v61;
          v88 = v64 + 32;
          vst4q_f32(v64, *v9.i8);
          v89 = v64 + 16;
          vst4q_f32(v89, v101);
          v51 = v83;
          v64 = v88;
          v60 += 8;
        }

        while (v60 < v16 - 7);
        v90 = v16 & 0x7FFFFFF8;
      }

      if (v90 < v26)
      {
        if (v52)
        {
          v91 = 0.0;
        }

        else
        {
          v91 = 1.0;
        }

        do
        {
          v92 = (v63->u16[0] >> v56) - v28;
          v93 = (v63->u16[1] >> v56) - v28;
          v94 = a9.f32[1] * v93;
          v95 = a9.f32[0] * v92;
          v96 = _S3 * ((v54->u16[0] >> v56) - v27);
          v97 = _S3 * ((v54->u16[1] >> v56) - v27);
          v98 = (a3.f32[1] * v93) + (v92 * a3.f32[0]);
          v99 = _S3 * ((v62->u16[0] >> v56) - v27);
          v100 = _S3 * ((v62->u16[1] >> v56) - v27);
          v51[2] = v95 + v96;
          v51[3] = v91;
          *v51 = v94 + v96;
          v51[1] = v96 + v98;
          v51[4] = v94 + v97;
          v51[5] = v98 + v97;
          v51[6] = v95 + v97;
          v51[7] = v91;
          *v64 = v94 + v99;
          v64[1] = v98 + v99;
          v64[2] = v95 + v99;
          v64[3] = v91;
          v90 += 2;
          v63 = (v63 + 4);
          v54 = (v54 + 4);
          v64[4] = v94 + v100;
          v64[5] = v98 + v100;
          v64[6] = v95 + v100;
          v64[7] = v91;
          v62 = (v62 + 4);
          v51 += 8;
          v64 += 8;
        }

        while (v90 < v26);
      }

      v54 = &v58[v20];
      v53 = (v53 + v21);
      v52 += v22 + v22;
      v51 = &v59[v23];
      v15 += 2;
    }

    while (v15 < v14);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t vt_Copy_xf420_rgb_RGfA(uint64_t a1, int64x2_t *a2, uint64_t a3, void *a4, void *a5, int64x2_t *a6, uint64_t a7, void *a8, void *a9)
{
  v13 = a3;
  v62 = *MEMORY[0x1E69E9840];
  v15 = *(a1 + 162);
  v16 = *a2;
  v17 = a2[1];
  v58 = a2[2];
  v59 = v17;
  v18 = a6[1];
  v60 = *a6;
  v61 = v16;
  v56 = a6[2];
  v57 = v18;
  if (v15 == 255)
  {
    v19 = malloc_type_calloc(1uLL, 0x49CuLL, 0x10B0040FF6A342BuLL);
    if (!v19)
    {
      v20 = 0;
LABEL_56:
      free(v19);
      return v20;
    }
  }

  else
  {
    MEMORY[0x1EEE9AC00](a1, 4 * v15 + 160, a3, a4);
    v19 = (&v50 - v21);
    bzero(&v50 - v21, v22);
  }

  v23 = vmovn_s32(vmvnq_s8(vuzp1q_s32(vceqq_s64(vaddq_s64(v56, v57), v60), vceqq_s64(vaddq_s64(v58, v59), v61))));
  v24 = v56.i64[0];
  v25 = v57.i64[0];
  v26 = v59.i64[0];
  v27 = v58.i64[0];
  if (v56.i8[0])
  {
    v24 = v56.i64[0] + 1;
    v27 = v58.i64[0] + 1;
    v25 = v57.i64[0] - 1;
    v26 = v59.i64[0] - 1;
  }

  v28 = a9;
  v29 = v60.i64[0];
  v30 = v61.i64[0];
  if (v25)
  {
    if (v23.i8[4] & 1 | v23.i8[0] & 1 || (v31 = v26 + 1 + v27, v32 = 2 * v31, 2 * v31 > *a4) || ((2 * (v31 + (v31 >> 63))) & 0xFFFFFFFFFFFFFFFCLL) > a4[1] || (v33 = a4[2], v32 > v33) && v33 || (16 * (v24 + v25) + 16) > *a8)
    {
      --v25;
      --v26;
    }

    else
    {
      ++v25;
      v29 = v60.i64[0] + 1;
      v30 = v61.i64[0] + 1;
      ++v26;
    }
  }

  v34 = v57.i64[1];
  v35 = v59.i64[1];
  if (v56.i8[8])
  {
    v35 = v59.i64[1] - 1;
    v36 = v58.i64[1] + 1;
  }

  else
  {
    v36 = v58.i64[1];
  }

  if (v56.i8[8])
  {
    v34 = v57.i64[1] - 1;
    v37 = v56.i64[1] + 1;
  }

  else
  {
    v37 = v56.i64[1];
  }

  v38 = v60.i64[1];
  v39 = v61.i64[1];
  v55 = a1;
  if (v34)
  {
    if (v23.i8[6] & 1 | v23.i8[2] & 1 || (v40 = v35 + 1 + v36, (*a4 * v40) > *a5) || (a4[1] * (v40 / 2)) > a5[1] || (a4[2] * v40) > a5[2] || (*a8 * (v34 + 1 + v37)) > *a9)
    {
      --v34;
      --v35;
    }

    else
    {
      v38 = v60.i64[1] + 1;
      v39 = v61.i64[1] + 1;
      ++v35;
      ++v34;
    }
  }

  if (v26 + v27 > v30)
  {
    v26 = v30 - v27;
  }

  if (v25 + v24 > v29)
  {
    v25 = v29 - v24;
  }

  if (v35 + v36 > v39)
  {
    v35 = v39 - v36;
  }

  if (v34 + v37 > v38)
  {
    v34 = v38 - v37;
  }

  if (v26 >= v25)
  {
    v41 = v25;
  }

  else
  {
    v41 = v26;
  }

  if (v35 >= v34)
  {
    v42 = v34;
  }

  else
  {
    v42 = v35;
  }

  v43 = v42 + v36 - 1;
  v44 = v41 + v27;
  if ((v43 * *a4 + 2 * (v41 + v27)) <= *a5 && (!*(v13 + 8) || a4[1] * ((v42 + v36 + 1) / 2 - 1) + 4 * ((v44 + 1 + ((v44 + 1) >> 63)) >> 1) <= a5[1]) && (!*(v13 + 16) || (2 * v44 + a4[2] * v43) <= a5[2]) && (*a8 * (v37 + v42 - 1) + 16 * (v41 + v24)) <= *a9 || (v51 = v39, v52 = v38, v53 = v36, v54 = v37, v56.i64[0] = v30, v57.i64[0] = v29, v58.i64[0] = a9, v59.i64[0] = v27, v60.i64[0] = v24, v61.i64[0] = v13, fig_log_get_emitter(), v20 = FigSignalErrorAtGM(), v13 = v61.i64[0], v24 = v60.i64[0], v27 = v59.i64[0], v28 = v58.i64[0], v29 = v57.i64[0], v30 = v56.i64[0], v36 = v53, v37 = v54, v39 = v51, v38 = v52, !v20))
  {
    *v19 = v15;
    *(v19 + 4) = v30;
    *(v19 + 12) = v39;
    *(v19 + 20) = v41;
    *(v19 + 28) = v42;
    *(v19 + 36) = v27;
    *(v19 + 44) = v36;
    v19[11] = v38;
    v19[12] = v41;
    v19[13] = v42;
    v19[14] = v24;
    v19[7] = v13;
    v19[8] = a4;
    v19[9] = a5;
    v19[10] = v29;
    v19[15] = v37;
    v19[16] = a7;
    v19[17] = a8;
    v19[18] = v28;
    v19[19] = v55;
    global_queue = dispatch_get_global_queue(0, 0);
    dispatch_apply_f(v15, global_queue, v19, vt_Copy_xf420_rgb_RGfA_GCD);
    if (!v15)
    {
      return 0;
    }

    v46 = (v19 + 20);
    v47 = v15;
    while (1)
    {
      v48 = *v46++;
      v20 = v48;
      if (v48)
      {
        break;
      }

      if (!--v47)
      {
        v20 = 0;
        break;
      }
    }
  }

  if (v15 == 255)
  {
    goto LABEL_56;
  }

  return v20;
}

unsigned __int8 *vt_Copy_xf420_rgb_RGfA_GCD(unsigned __int8 *result, uint64_t a2, double a3, double a4, float a5)
{
  v5 = 2 * *result;
  v6 = *(result + 13);
  v7 = v6 * a2 / v5;
  v8 = 2 * ((v6 + v6 * a2) / v5 - v7);
  if (v8 >= 1)
  {
    v9 = 0;
    v10 = *(result + 19);
    v11 = *(result + 24) & 0xFFFFFFFE;
    v12 = *(result + 7);
    v13 = *(result + 8);
    v14 = *v13;
    v15 = v13[1];
    v16 = v13[2];
    v17 = **(result + 17);
    *&v18 = *(v10 + 128);
    v19 = 1.0 / *&v18;
    LOWORD(v18) = *(v10 + 140);
    v20 = v18;
    LOWORD(a5) = *(v10 + 142);
    v21 = LODWORD(a5);
    v22 = v19 * *v10;
    v23 = v19 * *(v10 + 8);
    v24 = v19 * *(v10 + 16);
    v25 = v19 * *(v10 + 20);
    v26 = v19 * *(v10 + 28);
    v27 = *(result + 44) + 2 * (*(result + 28) * a2 / v5);
    v28 = *(result + 36);
    v29 = (**(result + 16) + v17 * (*(result + 15) + 2 * v7) + 16 * *(result + 14));
    v30 = v12[2];
    if (v30)
    {
      v31 = v30 + v27 * v16 + 2 * v28;
    }

    else
    {
      v31 = 0;
    }

    v32 = *(v10 + 124);
    v33 = 16 - v32;
    v34 = v32 >= 0x11;
    v36 = *v12;
    v35 = v12[1];
    v37 = (v36 + v27 * v14 + 2 * v28);
    if (v34)
    {
      v33 = 0;
    }

    v38 = v35 + v27 / 2 * v15 + 2 * v28;
    do
    {
      v39 = &v37[v14];
      v40 = v29 + v17;
      if (v11 >= 1)
      {
        v41 = 0;
        if (v31)
        {
          v42 = 0.0;
        }

        else
        {
          v42 = 1.0;
        }

        v43 = &v37[v14];
        v44 = (v29 + v17);
        do
        {
          v45 = (v38 + 2 * v41);
          v46 = (*v45 >> v33) - v21;
          v47 = (v45[1] >> v33) - v21;
          v48 = v22 * ((*v37 >> v33) - v20);
          v49 = v23 * v47;
          v50 = v22 * ((*(v37 + 1) >> v33) - v20);
          v37 += 4;
          v51 = v26 * v46;
          v52 = (v25 * v47) + (v46 * v24);
          v53 = v22 * ((*v43 >> v33) - v20);
          v54 = v22 * ((*(v43 + 1) >> v33) - v20);
          v29[2] = v51 + v48;
          v29[3] = v42;
          v43 += 4;
          v29[6] = v51 + v50;
          v29[7] = v42;
          *v29 = v49 + v48;
          v29[1] = v48 + v52;
          v29[4] = v49 + v50;
          v29[5] = v52 + v50;
          v29 += 8;
          *v44 = v49 + v53;
          v44[1] = v52 + v53;
          v44[2] = v51 + v53;
          v44[3] = v42;
          v44[4] = v49 + v54;
          v44[5] = v52 + v54;
          v44[6] = v51 + v54;
          v44[7] = v42;
          v44 += 8;
          v41 += 2;
        }

        while (v41 < v11);
      }

      v37 = &v39[v14];
      v38 += v15;
      v31 += v16 + v16;
      v29 = &v40[v17];
      v9 += 2;
    }

    while (v9 < v8);
  }

  *&result[4 * a2 + 160] = 0;
  return result;
}

uint64_t RegisterVTTemporalFilterSession()
{
  v0 = _CFRuntimeRegisterClass();
  sVTTemporalFilterSessionID = v0;
  sVTTemporalFilterSessionPropertyCallbacks = 0;
  unk_1EAD31F80 = VTTemporalFilterSessionCopySupportedPropertyDictionary;
  qword_1EAD31F88 = VTTemporalFilterSessionSessionSetProperty;
  qword_1EAD31F90 = VTTemporalFilterSessionCopyProperty;
  qword_1EAD31F98 = VTTemporalFilterSessionSetProperties;
  qword_1EAD31FA0 = VTTemporalFilterSessionCopySerializableProperties;

  return VTSessionRegisterCallbacksForTypeID(&sVTTemporalFilterSessionPropertyCallbacks, v0);
}

uint64_t VTTemporalFilterSessionCreate(const __CFAllocator *a1, const __CFString *a2, uint64_t a3, uint64_t a4, const void *a5, const void *a6, const void *a7, const void *a8, uint64_t a9, uint64_t a10, uint64_t *a11)
{
  poolAttributes = 0;
  if (a11)
  {
    if (a9)
    {
      *a11 = 0;
      MEMORY[0x193AE3010](&VTTemporalFilterSessionGetTypeID_sRegisterVTTemporalFilterSessionOnce, RegisterVTTemporalFilterSession);
      Instance = _CFRuntimeCreateInstance();
      if (Instance)
      {
        v20 = Instance;
        if (vtTemporalFilterSessionShouldUseSeparateProcess_onceToken != -1)
        {
          VTTemporalFilterSessionCreate_cold_1();
        }

        if (vtTemporalFilterSessionShouldUseSeparateProcess_featureEnabled)
        {
          v21 = CFStringCompare(a2, @"TemporalNoiseReduction", 0);
          vtTemporalFilterSessionShouldUseSeparateProcess_featureEnabled = v21 == kCFCompareEqualTo;
          if (v21 == kCFCompareEqualTo)
          {
            if (VTVideoCodecService_ShouldUseSeparateCodecProcessForEncode())
            {
              if (FigServer_IsVideocodecd())
              {
                goto LABEL_8;
              }
            }

            else if (FigServer_IsServerProcess())
            {
              goto LABEL_8;
            }

            if (!VTShouldRunVideoEncodersInProcess())
            {
              TemporalFilterInstance = VTTemporalFilterSessionRemote_Create(v20, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, (v20 + 256));
              if (!TemporalFilterInstance)
              {
                goto LABEL_29;
              }

              goto LABEL_41;
            }
          }
        }

LABEL_8:
        if (a2)
        {
          v22 = CFRetain(a2);
        }

        else
        {
          v22 = 0;
        }

        *(v20 + 48) = v22;
        if (a5)
        {
          v23 = CFRetain(a5);
        }

        else
        {
          v23 = 0;
        }

        *(v20 + 56) = v23;
        *(v20 + 64) = a3;
        *(v20 + 68) = a4;
        *(v20 + 112) = FigSimpleMutexCreate();
        if (a6)
        {
          v24 = CFRetain(a6);
        }

        else
        {
          v24 = 0;
        }

        *(v20 + 120) = v24;
        if (a7)
        {
          v25 = CFRetain(a7);
        }

        else
        {
          v25 = 0;
        }

        *(v20 + 128) = v25;
        if (a8)
        {
          v26 = CFRetain(a8);
        }

        else
        {
          v26 = 0;
        }

        *(v20 + 136) = v26;
        FigCFDictionaryGetInt32IfPresent();
        if (!*(v20 + 128) || (TemporalFilterInstance = vtTemporalFilterSessionCreatePixelBufferPoolAttributesWithNameSuffix(v20, @"output", &poolAttributes), !TemporalFilterInstance) && (TemporalFilterInstance = CVPixelBufferPoolCreate(a1, poolAttributes, *(v20 + 128), (v20 + 192)), !TemporalFilterInstance))
        {
          *(v20 + 96) = a9;
          *(v20 + 104) = a10;
          *(v20 + 224) = FigSimpleMutexCreate();
          v28 = CFGetAllocator(v20);
          Mutable = CFArrayCreateMutable(v28, 0, 0);
          *(v20 + 232) = 1;
          *(v20 + 240) = Mutable;
          *(v20 + 248) = dispatch_group_create();
          TemporalFilterInstance = VTSelectAndCreateTemporalFilterInstance(*(v20 + 48), a1, *(v20 + 56), v20 + 24);
          if (!TemporalFilterInstance)
          {
            *(v20 + 32) = v20;
            v30 = *(v20 + 24);
            v31 = *(v20 + 64);
            v32 = *(*(CMBaseObjectGetVTable() + 16) + 8);
            if (!v32)
            {
              v33 = 4294954514;
LABEL_31:
              CFRelease(v20);
              goto LABEL_32;
            }

            TemporalFilterInstance = v32(v30, v20 + 32, v31);
            if (!TemporalFilterInstance)
            {
LABEL_29:
              v33 = 0;
              *a11 = v20;
              goto LABEL_32;
            }
          }
        }

LABEL_41:
        v33 = TemporalFilterInstance;
        goto LABEL_31;
      }

      VTTemporalFilterSessionCreate_cold_2(&v36);
    }

    else
    {
      VTTemporalFilterSessionCreate_cold_3(&v36);
    }
  }

  else
  {
    VTTemporalFilterSessionCreate_cold_4(&v36);
  }

  v33 = v36;
LABEL_32:
  if (poolAttributes)
  {
    CFRelease(poolAttributes);
  }

  return v33;
}

uint64_t vtTemporalFilterSessionCreatePixelBufferPoolAttributesWithNameSuffix(uint64_t a1, uint64_t a2, __CFDictionary **a3)
{
  v6 = *(a1 + 136);
  if (v6)
  {
    Value = CFDictionaryGetValue(v6, @"ShortName");
    v8 = Value;
    if (!a2)
    {
      if (!Value)
      {
        v9 = 0;
        goto LABEL_9;
      }

      goto LABEL_7;
    }
  }

  else
  {
    v8 = @"filter";
    if (!a2)
    {
LABEL_7:
      v11 = CFRetain(v8);
      goto LABEL_8;
    }
  }

  v10 = CFGetAllocator(a1);
  v11 = CFStringCreateWithFormat(v10, 0, @"%@-%@", v8, a2);
LABEL_8:
  v9 = v11;
LABEL_9:
  v12 = CFGetAllocator(a1);
  v13 = VTCreatePixelBufferPoolAttributesWithName(v12, *(a1 + 144), v9, a3);
  if (v9)
  {
    CFRelease(v9);
  }

  return v13;
}

void VTTemporalFilterSessionInvalidate(uint64_t a1)
{
  if (a1 && !*(a1 + 16))
  {
    v2 = *(a1 + 256);
    if (v2)
    {
      VTCompressionSessionRemote_Invalidate(v2);
      *(a1 + 16) = 1;
      v3 = *(a1 + 256);
      if (!v3)
      {
        return;
      }

      v4 = (a1 + 256);
      CFRelease(v3);
      goto LABEL_6;
    }

    VTTemporalFilterSessionCompleteFrames(a1);
    *(a1 + 16) = 1;
    v5 = *(a1 + 24);
    if (v5)
    {
      CFRelease(v5);
      *(a1 + 24) = 0;
    }

    v6 = *(a1 + 48);
    if (v6)
    {
      CFRelease(v6);
      *(a1 + 48) = 0;
    }

    v7 = *(a1 + 56);
    if (v7)
    {
      CFRelease(v7);
      *(a1 + 56) = 0;
    }

    FigSimpleMutexDestroy();
    *(a1 + 112) = 0;
    v8 = *(a1 + 120);
    if (v8)
    {
      CFRelease(v8);
      *(a1 + 120) = 0;
    }

    v9 = *(a1 + 128);
    if (v9)
    {
      CFRelease(v9);
      *(a1 + 128) = 0;
    }

    v10 = *(a1 + 136);
    if (v10)
    {
      CFRelease(v10);
      *(a1 + 136) = 0;
    }

    v11 = *(a1 + 152);
    if (v11)
    {
      CFRelease(v11);
      *(a1 + 152) = 0;
    }

    v12 = *(a1 + 160);
    if (v12)
    {
      CFRelease(v12);
      *(a1 + 160) = 0;
    }

    v13 = *(a1 + 168);
    if (v13)
    {
      CFRelease(v13);
      *(a1 + 168) = 0;
    }

    v14 = *(a1 + 176);
    if (v14)
    {
      CFRelease(v14);
      *(a1 + 176) = 0;
    }

    v15 = *(a1 + 184);
    if (v15)
    {
      CFRelease(v15);
      *(a1 + 184) = 0;
    }

    v16 = *(a1 + 192);
    if (v16)
    {
      CFRelease(v16);
      *(a1 + 192) = 0;
    }

    v17 = *(a1 + 200);
    if (v17)
    {
      CFRelease(v17);
      *(a1 + 200) = 0;
    }

    v18 = *(a1 + 208);
    if (v18)
    {
      CFRelease(v18);
      *(a1 + 208) = 0;
    }

    FigSimpleMutexDestroy();
    *(a1 + 224) = 0;
    v19 = *(a1 + 240);
    if (v19)
    {
      CFRelease(v19);
      *(a1 + 240) = 0;
    }

    v21 = *(a1 + 248);
    v4 = (a1 + 248);
    v20 = v21;
    if (v21)
    {
      dispatch_release(v20);
LABEL_6:
      *v4 = 0;
    }
  }
}

uint64_t VTTemporalFilterSessionProcessFrame(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  v5 = *a3;
  v6 = *(a3 + 16);
  return vtTemporalFilterSessionProcessFrameCommon(a1, a2, 0, &v5, a4);
}

uint64_t vtTemporalFilterSessionProcessFrameCommon(uint64_t a1, void *a2, const void *a3, __int128 *a4, uint64_t a5)
{
  v29 = 0;
  if (a1)
  {
    if (*(a1 + 16))
    {
      vtTemporalFilterSessionProcessFrameCommon_cold_1(cf);
    }

    else if (a2)
    {
      v9 = *(a1 + 256);
      if (v9)
      {
        *cf = *a4;
        v31 = *(a4 + 2);
        return VTTemporalFilterSessionRemote_ProcessFrame(v9, a2, cf, a5);
      }

      if (*(a1 + 24))
      {
        FigSimpleMutexLock();
        if (*(a1 + 240))
        {
          v12 = malloc_type_calloc(1uLL, 8uLL, 0x2004093837F09uLL);
          if (a3)
          {
            v13 = CFRetain(a3);
          }

          else
          {
            v13 = 0;
          }

          *v12 = v13;
          CFArrayAppendValue(*(a1 + 240), v12);
          dispatch_group_enter(*(a1 + 248));
          FigSimpleMutexUnlock();
LABEL_12:
          cf[0] = 0;
          FigSimpleMutexLock();
          if (!*(a1 + 152) || CVPixelBufferIsCompatibleWithAttributes())
          {
            v10 = 0;
            v14 = 0;
            v29 = CFRetain(a2);
LABEL_15:
            FigSimpleMutexUnlock();
            if (cf[0])
            {
              CFRelease(cf[0]);
            }

            if (v14)
            {
              CFRelease(v14);
            }

            if (v10)
            {
              if (v12)
              {
                vtTemporalFilterSessionTrackFrameExitingPlugin(a1, v12);
              }
            }

            else
            {
              v15 = *(a1 + 24);
              v16 = v29;
              v27 = *a4;
              v28 = *(a4 + 2);
              v17 = *(*(CMBaseObjectGetVTable() + 16) + 16);
              if (v17)
              {
                *cf = v27;
                v31 = v28;
                v10 = v17(v15, v12, v16, cf, a5);
              }

              else
              {
                v10 = 4294954514;
              }
            }

            goto LABEL_23;
          }

          if (*(a1 + 89))
          {
            v14 = 0;
            v10 = 4294955078;
            goto LABEL_15;
          }

          v20 = (a1 + 168);
          v19 = *(a1 + 168);
          if (*(a1 + 216))
          {
            if (!v19)
            {
LABEL_34:
              v21 = *(a1 + 184);
              if (v21)
              {
                CFRelease(v21);
                *(a1 + 184) = 0;
              }

              v22 = CFGetAllocator(a1);
              PixelBufferPoolAttributesWithNameSuffix = VTPixelTransferSessionCreate(v22, (a1 + 168));
              if (PixelBufferPoolAttributesWithNameSuffix || (PixelBufferPoolAttributesWithNameSuffix = vtTemporalFilterSessionCreatePixelBufferPoolAttributesWithNameSuffix(a1, @"input", cf), PixelBufferPoolAttributesWithNameSuffix))
              {
                v10 = PixelBufferPoolAttributesWithNameSuffix;
                v14 = 0;
                goto LABEL_15;
              }

              v14 = CVPixelBufferCopyCreationAttributes(a2);
              v24 = CFGetAllocator(a1);
              PixelBuffer = VTBuildPixelBufferPools2(v24, *(a1 + 152), v14, cf[0], *(a1 + 64), 0, 0, 0, 0, 0, (a1 + 184), 0, 0, 0);
              if (PixelBuffer)
              {
                goto LABEL_42;
              }

              *(a1 + 216) = 0;
LABEL_40:
              v26 = CFGetAllocator(a1);
              PixelBuffer = CVPixelBufferPoolCreatePixelBuffer(v26, *(a1 + 184), &v29);
              if (!PixelBuffer)
              {
                PixelBuffer = VTPixelTransferSessionTransferImage(*v20, a2, v29);
              }

LABEL_42:
              v10 = PixelBuffer;
              goto LABEL_15;
            }
          }

          else
          {
            if (!v19)
            {
              goto LABEL_34;
            }

            if (*(a1 + 184))
            {
              v14 = 0;
              goto LABEL_40;
            }
          }

          CFRelease(v19);
          *v20 = 0;
          goto LABEL_34;
        }

        if (vtTemporalFilterSessionProcessFrameCommon_cold_2(a1 + 224, cf))
        {
          v12 = 0;
          goto LABEL_12;
        }
      }

      else
      {
        vtTemporalFilterSessionProcessFrameCommon_cold_3(cf);
      }
    }

    else
    {
      vtTemporalFilterSessionProcessFrameCommon_cold_4(cf);
    }
  }

  else
  {
    vtTemporalFilterSessionProcessFrameCommon_cold_5(cf);
  }

  v10 = LODWORD(cf[0]);
LABEL_23:
  if (v29)
  {
    CFRelease(v29);
  }

  return v10;
}

uint64_t VTTemporalFilterSessionProcessFrameWithOutputPixelBuffer(uint64_t a1, void *a2, const void *a3, uint64_t a4, uint64_t a5)
{
  if (!a3)
  {
    VTTemporalFilterSessionProcessFrameWithOutputPixelBuffer_cold_3(&v11);
    return v11;
  }

  if (*(a1 + 256))
  {
    VTTemporalFilterSessionProcessFrameWithOutputPixelBuffer_cold_1(&v11);
    return v11;
  }

  if (*(a1 + 160) && !CVPixelBufferIsCompatibleWithAttributes())
  {
    VTTemporalFilterSessionProcessFrameWithOutputPixelBuffer_cold_2(&v11);
    return v11;
  }

  v11 = *a4;
  v12 = *(a4 + 16);
  return vtTemporalFilterSessionProcessFrameCommon(a1, a2, a3, &v11, a5);
}

uint64_t VTTemporalFilterPluginSessionSetInputPixelBufferAttributes(uint64_t *a1, const void *a2)
{
  if (a1)
  {
    v2 = *a1;
    if (*a1)
    {
      if (*(v2 + 16))
      {
        VTTemporalFilterPluginSessionSetInputPixelBufferAttributes_cold_1(&v6);
        return v6;
      }

      else
      {
        FigSimpleMutexLock();
        v4 = *(v2 + 152);
        *(v2 + 152) = a2;
        if (a2)
        {
          CFRetain(a2);
        }

        if (v4)
        {
          CFRelease(v4);
        }

        *(v2 + 216) = 1;
        FigSimpleMutexUnlock();
        return 0;
      }
    }

    else
    {
      VTTemporalFilterPluginSessionSetInputPixelBufferAttributes_cold_2(&v7);
      return v7;
    }
  }

  else
  {
    VTTemporalFilterPluginSessionSetInputPixelBufferAttributes_cold_3(&v8);
    return v8;
  }
}

uint64_t VTTemporalFilterPluginSessionSetOutputPixelBufferAttributes(uint64_t *a1, const void *a2)
{
  values[2] = *MEMORY[0x1E69E9840];
  poolAttributes = 0;
  if (!a1)
  {
    VTTemporalFilterPluginSessionSetOutputPixelBufferAttributes_cold_4(values);
    return LODWORD(values[0]);
  }

  v2 = *a1;
  if (!*a1)
  {
    VTTemporalFilterPluginSessionSetOutputPixelBufferAttributes_cold_3(values);
    return LODWORD(values[0]);
  }

  if (*(v2 + 16))
  {
    VTTemporalFilterPluginSessionSetOutputPixelBufferAttributes_cold_1(values);
    return LODWORD(values[0]);
  }

  FigSimpleMutexLock();
  v4 = *(v2 + 160);
  *(v2 + 160) = a2;
  if (a2)
  {
    CFRetain(a2);
  }

  if (v4)
  {
    CFRelease(v4);
  }

  v6 = (v2 + 200);
  v5 = *(v2 + 200);
  *(v2 + 217) = 1;
  if (v5)
  {
    CFRelease(v5);
    *v6 = 0;
  }

  v7 = *(v2 + 208);
  if (!v7)
  {
    goto LABEL_30;
  }

  v8 = *(v2 + 160);
  resolvedDictionaryOut = 0;
  if (!v8)
  {
    goto LABEL_25;
  }

  values[0] = CVPixelBufferPoolGetPixelBufferAttributes(v7);
  values[1] = v8;
  v9 = *MEMORY[0x1E695E480];
  v10 = CFArrayCreate(*MEMORY[0x1E695E480], values, 2, MEMORY[0x1E695E9C0]);
  if (!CVPixelBufferCreateResolvedAttributesDictionary(v9, v10, &resolvedDictionaryOut))
  {
    v11 = resolvedDictionaryOut;
    if (resolvedDictionaryOut)
    {
      v12 = 0;
LABEL_15:
      CFRelease(v11);
      goto LABEL_16;
    }

    VTTemporalFilterPluginSessionSetOutputPixelBufferAttributes_cold_2();
  }

  v11 = resolvedDictionaryOut;
  v12 = 1;
  if (resolvedDictionaryOut)
  {
    goto LABEL_15;
  }

LABEL_16:
  if (v10)
  {
    CFRelease(v10);
  }

  if ((v12 & 1) == 0)
  {
    v7 = *(v2 + 208);
    if (!v7)
    {
LABEL_26:
      *(v2 + 200) = v7;
      v15 = *(v2 + 192);
      if (v15)
      {
        CFRelease(v15);
        *(v2 + 192) = 0;
      }

      v16 = *(v2 + 128);
      if (v16)
      {
        CFRelease(v16);
        *(v2 + 128) = 0;
      }

      goto LABEL_30;
    }

LABEL_25:
    v7 = CFRetain(v7);
    goto LABEL_26;
  }

  v13 = *(v2 + 192);
  if (v13)
  {
    CFRelease(v13);
  }

  v14 = *(v2 + 208);
  if (v14)
  {
    v14 = CFRetain(v14);
  }

  *(v2 + 192) = v14;
LABEL_30:
  if (*v6 || !*(v2 + 160))
  {
    v17 = 0;
  }

  else
  {
    v18 = vtTemporalFilterSessionCreatePixelBufferPoolAttributesWithNameSuffix(v2, 0, &poolAttributes);
    if (!v18)
    {
      v19 = CFGetAllocator(v2);
      v18 = CVPixelBufferPoolCreate(v19, poolAttributes, *(v2 + 160), (v2 + 200));
    }

    v17 = v18;
  }

  FigSimpleMutexUnlock();
  if (poolAttributes)
  {
    CFRelease(poolAttributes);
  }

  return v17;
}

uint64_t VTTemporalFilterPluginSessionCreateOutputPixelBuffer(uint64_t *a1, CFTypeRef *a2, uint64_t a3, CFTypeRef *a4)
{
  if (!a1)
  {
    VTTemporalFilterPluginSessionCreateOutputPixelBuffer_cold_5(&v9);
    return v9;
  }

  v9 = 0;
  v4 = *a1;
  if (!*a1)
  {
    VTTemporalFilterPluginSessionCreateOutputPixelBuffer_cold_4(&v10);
    return v10;
  }

  if (*(v4 + 16))
  {
    VTTemporalFilterPluginSessionCreateOutputPixelBuffer_cold_1(&v10);
    return v10;
  }

  if (*a2)
  {
    v6 = 0;
    *a4 = CFRetain(*a2);
  }

  else
  {
    FigSimpleMutexLock();
    v7 = CVPixelBufferPoolCreatePixelBuffer(*MEMORY[0x1E695E480], *(v4 + 200), &v9);
    if (v7)
    {
      v6 = v7;
      VTTemporalFilterPluginSessionCreateOutputPixelBuffer_cold_2();
    }

    else if (v9)
    {
      v6 = 0;
      *a4 = v9;
    }

    else
    {
      VTTemporalFilterPluginSessionCreateOutputPixelBuffer_cold_3(&v10);
      v6 = v10;
    }

    FigSimpleMutexUnlock();
  }

  return v6;
}

uint64_t VTTemporalFilterPluginSessionGetOutputPixelBufferPool(uint64_t *a1)
{
  if (a1)
  {
    if (!a1[1])
    {
      v2 = *a1;
      if (*a1)
      {
        if (!*(v2 + 16))
        {
          FigSimpleMutexLock();
          v1 = *(v2 + 200);
          FigSimpleMutexUnlock();
          return v1;
        }

        VTTemporalFilterPluginSessionGetOutputPixelBufferPool_cold_1();
      }

      else
      {
        VTTemporalFilterPluginSessionGetOutputPixelBufferPool_cold_2();
      }
    }
  }

  else
  {
    VTTemporalFilterPluginSessionGetOutputPixelBufferPool_cold_3();
  }

  return 0;
}

CVPixelBufferRef VTTemporalFilterPluginSessionEmitOutputFrame(uint64_t *a1, uint64_t a2, uint64_t a3, __int128 *a4, __CVBuffer *a5)
{
  pixelBufferOut = 0;
  if (!a1)
  {
    VTTemporalFilterPluginSessionEmitOutputFrame_cold_4(&v19);
    return v19;
  }

  v5 = *a1;
  if (!*a1)
  {
    VTTemporalFilterPluginSessionEmitOutputFrame_cold_3(&v19);
    return v19;
  }

  if (*(v5 + 16))
  {
    VTTemporalFilterPluginSessionEmitOutputFrame_cold_1(&v19);
    return v19;
  }

  v9 = a2;
  v10 = 0;
  if (a2 || !a5)
  {
    goto LABEL_20;
  }

  FigSimpleMutexLock();
  if (*(v5 + 128) && !CVPixelBufferIsCompatibleWithAttributes())
  {
    v12 = (v5 + 176);
    v11 = *(v5 + 176);
    if (*(v5 + 217))
    {
      if (v11)
      {
        CFRelease(v11);
        *v12 = 0;
      }
    }

    else if (v11)
    {
      goto LABEL_15;
    }

    v13 = CFGetAllocator(v5);
    v14 = VTPixelTransferSessionCreate(v13, (v5 + 176));
    if (v14)
    {
LABEL_18:
      v9 = v14;
      goto LABEL_19;
    }

    *(v5 + 217) = 0;
LABEL_15:
    if (!*(v5 + 192))
    {
      VTTemporalFilterPluginSessionEmitOutputFrame_cold_2(&v19);
      v9 = v19;
      goto LABEL_19;
    }

    v15 = CFGetAllocator(v5);
    v14 = CVPixelBufferPoolCreatePixelBuffer(v15, *(v5 + 192), &pixelBufferOut);
    if (!v14)
    {
      v14 = VTPixelTransferSessionTransferImage(*v12, a5, pixelBufferOut);
    }

    goto LABEL_18;
  }

  v9 = 0;
  pixelBufferOut = CFRetain(a5);
LABEL_19:
  FigSimpleMutexUnlock();
  v10 = pixelBufferOut;
LABEL_20:
  v17 = *(v5 + 96);
  v16 = *(v5 + 104);
  v19 = *a4;
  v20 = *(a4 + 2);
  v17(v16, v9, a3, &v19, v10);
  result = pixelBufferOut;
  if (pixelBufferOut)
  {
    CFRelease(pixelBufferOut);
    return 0;
  }

  return result;
}

uint64_t VTTemporalFilterPluginSessionConcludeInputFrame(uint64_t *a1, CFTypeRef *a2)
{
  if (a1)
  {
    v2 = *a1;
    if (v2)
    {
      if (*(v2 + 16))
      {
        VTTemporalFilterPluginSessionConcludeInputFrame_cold_1(&v4);
        return v4;
      }

      else
      {

        return vtTemporalFilterSessionTrackFrameExitingPlugin(v2, a2);
      }
    }

    else
    {
      VTTemporalFilterPluginSessionConcludeInputFrame_cold_2(&v5);
      return v5;
    }
  }

  else
  {
    VTTemporalFilterPluginSessionConcludeInputFrame_cold_3(&v6);
    return v6;
  }
}

uint64_t vtTemporalFilterSessionTrackFrameExitingPlugin(uint64_t a1, CFTypeRef *a2)
{
  FigSimpleMutexLock();
  v4 = *(a1 + 240);
  if (v4)
  {
    if (CFArrayGetCount(v4) <= 0)
    {
      vtTemporalFilterSessionTrackFrameExitingPlugin_cold_2(&v10);
      v7 = v10;
    }

    else
    {
      v5 = *(a1 + 240);
      v12.length = CFArrayGetCount(v5);
      v12.location = 0;
      FirstIndexOfValue = CFArrayGetFirstIndexOfValue(v5, v12, a2);
      if (FirstIndexOfValue == -1)
      {
        vtTemporalFilterSessionTrackFrameExitingPlugin_cold_1(&v9);
        v7 = v9;
      }

      else
      {
        CFArrayRemoveValueAtIndex(*(a1 + 240), FirstIndexOfValue);
        if (*a2)
        {
          CFRelease(*a2);
        }

        free(a2);
        dispatch_group_leave(*(a1 + 248));
        v7 = 0;
      }
    }
  }

  else
  {
    vtTemporalFilterSessionTrackFrameExitingPlugin_cold_3(&v11);
    v7 = v11;
  }

  FigSimpleMutexUnlock();
  return v7;
}

uint64_t VTTemporalFilterPluginSessionGetClientInputPixelBufferAttributesHint(uint64_t *a1)
{
  if (!a1)
  {
    VTTemporalFilterPluginSessionGetClientInputPixelBufferAttributesHint_cold_3();
    return 0;
  }

  v1 = *a1;
  if (!*a1)
  {
    VTTemporalFilterPluginSessionGetClientInputPixelBufferAttributesHint_cold_2();
    return 0;
  }

  if (*(v1 + 16))
  {
    VTTemporalFilterPluginSessionGetClientInputPixelBufferAttributesHint_cold_1();
    return 0;
  }

  FigSimpleMutexLock();
  v2 = *(v1 + 120);
  FigSimpleMutexUnlock();
  return v2;
}

uint64_t VTTemporalFilterPluginSessionGetClientOutputPixelBufferAttributes(uint64_t *a1)
{
  if (!a1)
  {
    VTTemporalFilterPluginSessionGetClientOutputPixelBufferAttributes_cold_3();
    return 0;
  }

  v1 = *a1;
  if (!*a1)
  {
    VTTemporalFilterPluginSessionGetClientOutputPixelBufferAttributes_cold_2();
    return 0;
  }

  if (*(v1 + 16))
  {
    VTTemporalFilterPluginSessionGetClientOutputPixelBufferAttributes_cold_1();
    return 0;
  }

  FigSimpleMutexLock();
  v2 = *(v1 + 128);
  FigSimpleMutexUnlock();
  return v2;
}

uint64_t RegisterVTTemporalFilterPluginType()
{
  CMBaseGetClassID();

  return FigBaseClassRegisterClass();
}

uint64_t VTTemporalFilterPluginGetTypeID()
{
  MEMORY[0x193AE3010](&VTTemporalFilterPluginGetClassID_sRegisterVTTemporalFilterTypeOnce, RegisterVTTemporalFilterPluginType);

  return CMBaseClassGetCFTypeID();
}

uint64_t VTTemporalFilterSessionCopySupportedPropertyDictionary(uint64_t a1, void *a2)
{
  v16[1] = *MEMORY[0x1E69E9840];
  v12 = 0;
  cf = 0;
  v15 = 0;
  v16[0] = 0;
  *a2 = 0;
  if (*(a1 + 16))
  {
    VTTemporalFilterSessionCopySupportedPropertyDictionary_cold_1(&v14);
    v10 = v14;
  }

  else
  {
    v3 = *(a1 + 256);
    if (v3)
    {

      return VTCompressionSessionRemote_CopySupportedPropertyDictionary(v3);
    }

    v5 = *(a1 + 24);
    v6 = *(*(CMBaseObjectGetVTable() + 16) + 32);
    if (!v6 || ((v7 = v6(v5, &cf), v7 != -12782) ? (v8 = v7 == 0) : (v8 = 1), v8))
    {
      v11 = vtTemporalFilterSessionCopyPropertiesHandledByVideoToolbox(&v12);
      if (!v11)
      {
        if (cf)
        {
          v9 = v16;
          v15 = cf;
        }

        else
        {
          v9 = &v15;
        }

        if (v12)
        {
          *v9 = v12;
        }

        CFGetAllocator(a1);
        v11 = FigCFCreateCombinedDictionary();
      }
    }

    else
    {
      fig_log_get_emitter();
      v11 = FigSignalErrorAtGM();
    }

    v10 = v11;
  }

  if (cf)
  {
    CFRelease(cf);
  }

  if (v12)
  {
    CFRelease(v12);
  }

  return v10;
}

uint64_t VTTemporalFilterSessionCopyProperty(uint64_t a1, CFTypeRef cf2, uint64_t a3, void *a4)
{
  *a4 = 0;
  if (*(a1 + 16))
  {
    VTTemporalFilterSessionCopyProperty_cold_1(&v20);
    return v20;
  }

  if (!*(a1 + 256))
  {
    if (*(a1 + 40) && CFEqual(@"OutputPixelBufferPool", cf2))
    {
LABEL_7:
      fig_log_get_emitter();

      return FigSignalErrorAtGM();
    }

    if (!vtTemporalFilterSessionIsPropertyHandledByVideoToolbox(cf2))
    {
      if (!vtTemporalFilterSessionIsPropertyHandledByTemporalFilter(a1, cf2))
      {
        goto LABEL_7;
      }

      v10 = *(a1 + 24);
      v11 = *(*(CMBaseObjectGetVTable() + 8) + 48);
      if (!v11)
      {
        return 4294954514;
      }

      return v11(v10, cf2, a3, a4);
    }

    if (!CFEqual(@"FilterSourcePixelBufferAttributes", cf2) && !CFEqual(@"FilterDestinationPixelBufferAttributes", cf2) && !CFEqual(@"AllowPixelTransfer", cf2) && !CFEqual(@"OutputPixelBufferPool", cf2) && !CFEqual(@"MaxLookBehind", cf2) && !CFEqual(@"MaxLookAhead", cf2))
    {
      result = CFEqual(@"RealTime", cf2);
      if (!result)
      {
        return result;
      }
    }

    if (CFEqual(@"AllowPixelTransfer", cf2))
    {
      result = 0;
      v12 = *(a1 + 89);
      v13 = MEMORY[0x1E695E4C0];
      v14 = MEMORY[0x1E695E4D0];
LABEL_29:
      if (v12)
      {
        v15 = v13;
      }

      else
      {
        v15 = v14;
      }

      v16 = *v15;
      goto LABEL_53;
    }

    if (CFEqual(@"OutputPixelBufferPool", cf2))
    {
      v17 = *(a1 + 208);
      if (v17)
      {
LABEL_35:
        v16 = CFRetain(v17);
LABEL_52:
        result = 0;
LABEL_53:
        *a4 = v16;
        return result;
      }

LABEL_51:
      v16 = 0;
      goto LABEL_52;
    }

    if (vtTemporalFilterSessionIsPropertyHandledByTemporalFilter(a1, cf2))
    {
      v18 = *(a1 + 24);

      return VTVideoEncoderCopyProperty(v18, cf2, a3, a4);
    }

    if (CFEqual(@"FilterSourcePixelBufferAttributes", cf2))
    {
      FigSimpleMutexLock();
      v19 = *(a1 + 152);
      if (v19)
      {
LABEL_44:
        v19 = CFRetain(v19);
      }
    }

    else
    {
      if (!CFEqual(@"FilterDestinationPixelBufferAttributes", cf2))
      {
        if (CFEqual(@"MaxLookBehind", cf2))
        {
          v17 = *(a1 + 72);
          if (v17)
          {
            goto LABEL_35;
          }
        }

        else
        {
          if (!CFEqual(@"MaxLookAhead", cf2))
          {
            result = CFEqual(@"RealTime", cf2);
            if (!result)
            {
              return result;
            }

            result = 0;
            v12 = *(a1 + 88);
            v13 = MEMORY[0x1E695E4D0];
            v14 = MEMORY[0x1E695E4C0];
            goto LABEL_29;
          }

          v17 = *(a1 + 80);
          if (v17)
          {
            goto LABEL_35;
          }
        }

        goto LABEL_51;
      }

      FigSimpleMutexLock();
      v19 = *(a1 + 160);
      if (v19)
      {
        goto LABEL_44;
      }
    }

    *a4 = v19;
    FigSimpleMutexUnlock();
    return 0;
  }

  if (CFEqual(@"OutputPixelBufferPool", cf2))
  {
    goto LABEL_7;
  }

  v9 = *(a1 + 256);

  return VTCompressionSessionRemote_CopyProperty(v9);
}

uint64_t VTTemporalFilterSessionSetProperties(uint64_t a1, CFDictionaryRef theDict)
{
  v16 = a1;
  v17 = 0;
  if (*(a1 + 16))
  {
    VTTemporalFilterSessionSetProperties_cold_1(&v17);
    return v17;
  }

  v4 = *(a1 + 256);
  if (!v4)
  {
    if (theDict)
    {
      context = 0u;
      v19 = 0u;
      v6 = vtTemporalFilterSessionCopyPropertiesHandledByVideoToolbox(&context);
      if (v6)
      {
        v15 = v6;
      }

      else
      {
        v7 = *(a1 + 24);
        v8 = *(*(CMBaseObjectGetVTable() + 16) + 32);
        if (!v8 || ((v9 = v8(v7, &context + 8), v9 != -12782) ? (v10 = v9 == 0) : (v10 = 1), v10))
        {
          CFDictionaryApplyFunction(theDict, vtTemporalFilterSessionAddPropertyToPartition, &context);
          v15 = 0;
          v12 = *(&v19 + 1);
          v11 = v19;
LABEL_15:
          if (context)
          {
            CFRelease(context);
          }

          if (*(&context + 1))
          {
            CFRelease(*(&context + 1));
          }

          LODWORD(v17) = v15;
          if (!v15)
          {
            if (v11)
            {
              CFDictionaryApplyFunction(v11, vtTemporalFilterSessionSetOneProperty, &v16);
            }

            if (v12)
            {
              v13 = *(a1 + 24);
              v14 = *(*(CMBaseObjectGetVTable() + 16) + 40);
              if (!v14 || (LODWORD(v17) = v14(v13, v12), v17 == -12782))
              {
                LODWORD(v17) = 0;
                CFDictionaryApplyFunction(v12, vtTemporalFilterSessionSetOneProperty, &v16);
              }
            }
          }

          if (v11)
          {
            CFRelease(v11);
          }

          if (v12)
          {
            CFRelease(v12);
          }

          return v17;
        }

        v15 = v9;
        fig_log_get_emitter();
        FigSignalErrorAtGM();
      }

      v11 = 0;
      v12 = 0;
      goto LABEL_15;
    }

    return v17;
  }

  return VTCompressionSessionRemote_SetProperties(v4, theDict);
}

uint64_t VTTemporalFilterSessionCopySerializableProperties(uint64_t a1, uint64_t a2, void *a3)
{
  *a3 = 0;
  if (*(a1 + 16))
  {
    VTTemporalFilterSessionCopySerializableProperties_cold_1(&v9);
    return v9;
  }

  else if (*(a1 + 256))
  {
    v5 = *(a1 + 256);

    return VTCompressionSessionRemote_CopySerializableProperties(v5);
  }

  else
  {
    v7 = *(a1 + 24);
    v8 = *(*(CMBaseObjectGetVTable() + 16) + 48);
    if (!v8)
    {
      return 0;
    }

    result = v8(v7, a2, a3);
    if (result == -12782)
    {
      return 0;
    }
  }

  return result;
}

double vtTemporalFilterSessionInit(uint64_t a1)
{
  *(a1 + 256) = 0;
  result = 0.0;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0u;
  *(a1 + 160) = 0u;
  *(a1 + 176) = 0u;
  *(a1 + 128) = 0u;
  *(a1 + 144) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = 0u;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0u;
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  return result;
}

__CFString *vtTemporalFilterSessionCopyDebugDesc(const void *a1)
{
  v2 = CFGetAllocator(a1);
  Mutable = CFStringCreateMutable(v2, 0);
  v4 = CFGetAllocator(a1);
  CFStringAppendFormat(Mutable, 0, @"<VTTemporalFilterSession %p [%p]>{}", a1, v4);
  return Mutable;
}

uint64_t vtTemporalFilterSessionCopyPropertiesHandledByVideoToolbox(CFTypeRef *a1)
{
  MEMORY[0x193AE3010](&sCreatePropertiesHandledByVideoToolboxOnce_1, vtTemporalFilterSessionCreatePropertiesHandledByVideoToolbox);
  if (a1 && sVTTemporalFilterSessionPropertiesHandledByVideoToolbox)
  {
    *a1 = CFRetain(sVTTemporalFilterSessionPropertiesHandledByVideoToolbox);
    return 0;
  }

  else
  {
    fig_log_get_emitter();

    return FigSignalErrorAtGM();
  }
}

void vtTemporalFilterSessionCreatePropertiesHandledByVideoToolbox()
{
  v0 = *MEMORY[0x1E695E480];
  v1 = CFDictionaryCreate(*MEMORY[0x1E695E480], 0, 0, 0, MEMORY[0x1E695E9D8], MEMORY[0x1E695E9E8]);
  if (v1)
  {
    v2 = v1;
    Mutable = CFDictionaryCreateMutable(v0, 0, MEMORY[0x1E695E9D8], MEMORY[0x1E695E9E8]);
    sVTTemporalFilterSessionPropertiesHandledByVideoToolbox = Mutable;
    if (Mutable)
    {
      CFDictionaryAddValue(Mutable, @"FilterSourcePixelBufferAttributes", v2);
      CFDictionaryAddValue(sVTTemporalFilterSessionPropertiesHandledByVideoToolbox, @"FilterDestinationPixelBufferAttributes", v2);
      CFDictionaryAddValue(sVTTemporalFilterSessionPropertiesHandledByVideoToolbox, @"MaxLookBehind", v2);
      CFDictionaryAddValue(sVTTemporalFilterSessionPropertiesHandledByVideoToolbox, @"MaxLookAhead", v2);
      CFDictionaryAddValue(sVTTemporalFilterSessionPropertiesHandledByVideoToolbox, @"RealTime", v2);
      CFDictionaryAddValue(sVTTemporalFilterSessionPropertiesHandledByVideoToolbox, @"AllowPixelTransfer", v2);
      CFDictionaryAddValue(sVTTemporalFilterSessionPropertiesHandledByVideoToolbox, @"OutputPixelBufferPool", v2);
    }

    else
    {
      vtTemporalFilterSessionCreatePropertiesHandledByVideoToolbox_cold_1();
    }

    CFRelease(v2);
  }

  else
  {
    vtTemporalFilterSessionCreatePropertiesHandledByVideoToolbox_cold_2();
  }
}

BOOL vtTemporalFilterSessionIsPropertyHandledByVideoToolbox(const void *a1)
{
  theDict = 0;
  vtTemporalFilterSessionCopyPropertiesHandledByVideoToolbox(&theDict);
  if (!theDict)
  {
    return 0;
  }

  v2 = CFDictionaryContainsKey(theDict, a1) != 0;
  if (theDict)
  {
    CFRelease(theDict);
  }

  return v2;
}

const void *vtTemporalFilterSessionValidateBooleanProperty(const void *result)
{
  if (result)
  {
    v1 = CFGetTypeID(result);
    if (v1 == CFBooleanGetTypeID())
    {
      return 0;
    }

    else
    {
      vtTemporalFilterSessionValidateBooleanProperty_cold_1(&v2);
      return v2;
    }
  }

  return result;
}

BOOL vtTemporalFilterSessionIsPropertyHandledByTemporalFilter(uint64_t a1, const void *a2)
{
  theDict = 0;
  v3 = *(a1 + 24);
  v4 = *(*(CMBaseObjectGetVTable() + 16) + 32);
  if (!v4)
  {
    return 0;
  }

  v4(v3, &theDict);
  if (!theDict)
  {
    return 0;
  }

  v5 = CFDictionaryContainsKey(theDict, a2) != 0;
  if (theDict)
  {
    CFRelease(theDict);
  }

  return v5;
}

uint64_t vtTemporalFilterSessionSetOneProperty(CFStringRef propertyKey, CFTypeRef propertyValue, uint64_t a3)
{
  result = VTSessionSetProperty(*a3, propertyKey, propertyValue);
  if (!*(a3 + 8))
  {
    *(a3 + 8) = result;
  }

  return result;
}

void vtTemporalFilterSessionAddPropertyToPartition(void *key, const void *a2, CFDictionaryRef *a3)
{
  if (CFDictionaryContainsKey(*a3, key))
  {
    v8 = a3[2];
    v7 = a3 + 2;
    Mutable = v8;
    if (!v8)
    {
LABEL_3:
      Mutable = CFDictionaryCreateMutable(*MEMORY[0x1E695E480], 0, MEMORY[0x1E695E9D8], MEMORY[0x1E695E9E8]);
      *v7 = Mutable;
    }
  }

  else
  {
    v9 = a3[1];
    if (!v9 || !CFDictionaryContainsKey(v9, key))
    {
      return;
    }

    v10 = a3[3];
    v7 = a3 + 3;
    Mutable = v10;
    if (!v10)
    {
      goto LABEL_3;
    }
  }

  CFDictionarySetValue(Mutable, key, a2);
}

uint64_t __vtTemporalFilterSessionShouldUseSeparateProcess_block_invoke()
{
  result = _os_feature_enabled_impl();
  vtTemporalFilterSessionShouldUseSeparateProcess_featureEnabled = result;
  return result;
}

uint64_t VTVideoCodecService_ShouldUseSeparateCodecProcessForDecode()
{
  if (VTVideoCodecService_ShouldUseSeparateCodecProcessForDecode_onceToken != -1)
  {
    VTVideoCodecService_ShouldUseSeparateCodecProcessForDecode_cold_1();
  }

  return VTVideoCodecService_ShouldUseSeparateCodecProcessForDecode_featureEnabled;
}

BOOL VTVideoCodecService_ShouldUseXPCRemoteDecompressionSession()
{
  if (VTVideoCodecService_ShouldUseSeparateCodecProcessForDecode_onceToken != -1)
  {
    VTVideoCodecService_ShouldUseSeparateCodecProcessForDecode_cold_1();
  }

  if (!VTVideoCodecService_ShouldUseSeparateCodecProcessForDecode_featureEnabled)
  {
    return 0;
  }

  if (shouldUseMIGInterfaceForRemoteDecompressionSession_onceToken != -1)
  {
    VTVideoCodecService_ShouldUseXPCRemoteDecompressionSession_cold_2();
  }

  return shouldUseMIGInterfaceForRemoteDecompressionSession_featureEnabled != 1;
}

BOOL VTVideoCodecService_ShouldUseXPCRemoteTileDecompressionSession()
{
  if (VTVideoCodecService_ShouldUseXPCRemoteTileDecompressionSession_onceToken != -1)
  {
    VTVideoCodecService_ShouldUseXPCRemoteTileDecompressionSession_cold_1();
  }

  if (VTVideoCodecService_ShouldUseXPCRemoteTileDecompressionSession_prefersMIG)
  {
    return 0;
  }

  return VTVideoCodecService_ShouldUseXPCRemoteDecompressionSession();
}

uint64_t VTVideoCodecService_ShouldUseOOPDecodeForVideoPlayer()
{
  if (VTVideoCodecService_ShouldUseOOPDecodeForVideoPlayer_onceToken != -1)
  {
    VTVideoCodecService_ShouldUseOOPDecodeForVideoPlayer_cold_1();
  }

  return VTVideoCodecService_ShouldUseOOPDecodeForVideoPlayer_featureEnabled;
}

uint64_t VTVideoCodecService_ShouldUseSeparateCodecProcessForEncode()
{
  if (VTVideoCodecService_ShouldUseSeparateCodecProcessForEncode_onceToken != -1)
  {
    VTVideoCodecService_ShouldUseSeparateCodecProcessForEncode_cold_1();
  }

  return VTVideoCodecService_ShouldUseSeparateCodecProcessForEncode_featureEnabled;
}

uint64_t __deviceIsDarwinOSProduct_block_invoke()
{
  result = os_variant_is_darwinos();
  deviceIsDarwinOSProduct_isDarwinOS = result;
  return result;
}

uint64_t __shouldUseMIGInterfaceForRemoteDecompressionSession_block_invoke()
{
  result = _os_feature_enabled_impl();
  shouldUseMIGInterfaceForRemoteDecompressionSession_featureEnabled = result;
  return result;
}

uint64_t VTPixelTransferNodeCelesteRotationSetProperty(uint64_t a1, const void *a2, const __CFBoolean *a3)
{
  DerivedStorage = CMBaseObjectGetDerivedStorage();
  if (CFEqual(a2, @"RotationEnableHighSpeedTransfer"))
  {
    if (*MEMORY[0x1E695E738] == a3 || a3 == 0)
    {
      a3 = *MEMORY[0x1E695E4D0];
    }

    if (a3)
    {
      TypeID = CFBooleanGetTypeID();
      if (TypeID == CFGetTypeID(a3))
      {
        *(DerivedStorage + 32) = CFBooleanGetValue(a3);
        goto LABEL_40;
      }
    }

    goto LABEL_43;
  }

  if (CFEqual(a2, @"RotationZeroFillData"))
  {
    if (*MEMORY[0x1E695E738] == a3 || a3 == 0)
    {
      a3 = *MEMORY[0x1E695E4C0];
    }

    if (a3)
    {
      v9 = CFBooleanGetTypeID();
      if (v9 == CFGetTypeID(a3))
      {
        *(DerivedStorage + 33) = CFBooleanGetValue(a3);
        goto LABEL_40;
      }
    }

LABEL_43:
    fig_log_get_emitter();

    return FigSignalErrorAtGM();
  }

  if (CFEqual(a2, @"RotationEnableHistogram"))
  {
    if (*MEMORY[0x1E695E738] == a3 || a3 == 0)
    {
      a3 = *MEMORY[0x1E695E4C0];
    }

    if (!a3)
    {
      goto LABEL_43;
    }

    v11 = CFBooleanGetTypeID();
    if (v11 != CFGetTypeID(a3))
    {
      goto LABEL_43;
    }

    *(DerivedStorage + 34) = CFBooleanGetValue(a3);
LABEL_40:
    result = *(DerivedStorage + 88);
    if (result)
    {
      CFRelease(result);
      result = 0;
      *(DerivedStorage + 88) = 0;
    }

    return result;
  }

  if (CFEqual(a2, @"ReducedPrecisionFractionalOffsets"))
  {
    if (*MEMORY[0x1E695E738] == a3 || a3 == 0)
    {
      a3 = *MEMORY[0x1E695E4C0];
    }

    if (!a3)
    {
      goto LABEL_43;
    }

    v13 = CFBooleanGetTypeID();
    if (v13 != CFGetTypeID(a3))
    {
      goto LABEL_43;
    }

    *(DerivedStorage + 118) = CFBooleanGetValue(a3);
    goto LABEL_40;
  }

  if (!CFEqual(a2, @"RotationHistogramRectangle"))
  {
    return 4294954396;
  }

  if (a3)
  {
    v15 = CFDictionaryGetTypeID();
    if (v15 != CFGetTypeID(a3))
    {
      goto LABEL_43;
    }

    v16 = *(MEMORY[0x1E695F050] + 16);
    v20.origin = *MEMORY[0x1E695F050];
    v20.size = v16;
    if (CGRectMakeWithDictionaryRepresentation(a3, &v20))
    {
      v20 = CGRectStandardize(v20);
      v20 = CGRectIntegral(v20);
    }
  }

  else
  {
    v17 = *(MEMORY[0x1E695F050] + 16);
    v20.origin = *MEMORY[0x1E695F050];
    v20.size = v17;
  }

  size = v20.size;
  *(DerivedStorage + 48) = v20.origin;
  *(DerivedStorage + 64) = size;
  v19 = *(DerivedStorage + 88);
  if (v19)
  {
    CFRelease(v19);
    *(DerivedStorage + 88) = 0;
  }

  return 0;
}

uint64_t VTPixelTransferNodeCelesteRotationCopyProperty(uint64_t a1, const void *a2, uint64_t a3, void *a4)
{
  DerivedStorage = CMBaseObjectGetDerivedStorage();
  *a4 = 0;
  if (CFEqual(a2, @"RotationEnableHighSpeedTransfer"))
  {
    v7 = MEMORY[0x1E695E4D0];
    v8 = *(DerivedStorage + 32);
    goto LABEL_3;
  }

  if (CFEqual(a2, @"ScalingSupported"))
  {
    v7 = MEMORY[0x1E695E4D0];
LABEL_11:
    DictionaryRepresentation = *v7;
LABEL_12:
    DictionaryRepresentation = CFRetain(DictionaryRepresentation);
    goto LABEL_13;
  }

  if (CFEqual(a2, @"NonIntegralSourceBoundingOriginSupported"))
  {
    v9 = hardwareSupportsNonIntegralSrcOffset();
    v7 = MEMORY[0x1E695E4D0];
    if (!v9)
    {
      v7 = MEMORY[0x1E695E4C0];
    }

    goto LABEL_11;
  }

  if (CFEqual(a2, @"RotationZeroFillData"))
  {
    v7 = MEMORY[0x1E695E4D0];
    v8 = *(DerivedStorage + 33);
    goto LABEL_3;
  }

  if (CFEqual(a2, @"RotationEnableHistogram"))
  {
    v7 = MEMORY[0x1E695E4D0];
    v8 = *(DerivedStorage + 34);
LABEL_3:
    if (!v8)
    {
      v7 = MEMORY[0x1E695E4C0];
    }

    goto LABEL_11;
  }

  if (CFEqual(a2, @"RotationHistogramData"))
  {
    DictionaryRepresentation = *(DerivedStorage + 40);
    if (!DictionaryRepresentation)
    {
      goto LABEL_13;
    }

    goto LABEL_12;
  }

  if (!CFEqual(a2, @"RotationHistogramRectangle"))
  {
    return 4294954396;
  }

  if (CGRectIsNull(*(DerivedStorage + 48)))
  {
    DictionaryRepresentation = 0;
  }

  else
  {
    DictionaryRepresentation = CGRectCreateDictionaryRepresentation(*(DerivedStorage + 48));
  }

LABEL_13:
  v11 = 0;
  *a4 = DictionaryRepresentation;
  return v11;
}

BOOL hardwareSupportsNonIntegralSrcOffset()
{
  if ((isH3Platform_checked_0 & 1) == 0)
  {
    v0 = *MEMORY[0x1E696CD60];
    v1 = IOServiceMatching("AppleM2ScalerCSCDriver");
    MatchingService = IOServiceGetMatchingService(v0, v1);
    if (MatchingService)
    {
      v3 = MatchingService;
      valuePtr = 0;
      v4 = IORegistryEntrySearchCFProperty(MatchingService, "IOService", @"IOSurfaceAcceleratorCapabilitiesDict", 0, 0);
      if (v4)
      {
        v5 = v4;
        Value = CFDictionaryGetValue(v4, @"IOSurfaceAcceleratorScalerVersion");
        if (Value)
        {
          v7 = Value;
          v8 = CFGetTypeID(Value);
          if (v8 == CFNumberGetTypeID())
          {
            CFNumberGetValue(v7, kCFNumberLongLongType, &valuePtr);
            if (valuePtr == 131079 || valuePtr == 131074)
            {
              isH3Platform_isH3Platform_0 = 1;
            }
          }
        }

        CFRelease(v5);
      }

      IOObjectRelease(v3);
    }

    isH3Platform_checked_0 = 1;
  }

  return (isH3Platform_isH3Platform_0 & 1) == 0;
}

uint64_t VTPixelTransferNodeCelesteRotationCopySupportedPropertyDictionary(uint64_t a1, __CFDictionary **a2)
{
  v18 = *MEMORY[0x1E69E9840];
  v3 = *MEMORY[0x1E695E480];
  v4 = MEMORY[0x1E695E9D8];
  v5 = MEMORY[0x1E695E9E8];
  Mutable = CFDictionaryCreateMutable(*MEMORY[0x1E695E480], 0, MEMORY[0x1E695E9D8], MEMORY[0x1E695E9E8]);
  *a2 = 0;
  keys = @"PropertyType";
  v17 = @"ReadWriteStatus";
  values = @"Boolean";
  v15 = @"ReadWrite";
  v7 = CFDictionaryCreate(v3, &keys, &values, 2, v4, v5);
  if (!v7)
  {
    VTPixelTransferNodeCelesteRotationCopySupportedPropertyDictionary_cold_2(&v13);
    goto LABEL_8;
  }

  v8 = v7;
  keys = @"PropertyType";
  v17 = @"ReadWriteStatus";
  values = @"Boolean";
  v15 = @"ReadOnly";
  v9 = CFDictionaryCreate(v3, &keys, &values, 2, MEMORY[0x1E695E9D8], MEMORY[0x1E695E9E8]);
  if (!v9)
  {
    VTPixelTransferNodeCelesteRotationCopySupportedPropertyDictionary_cold_1(v8, &v13);
LABEL_8:
    v11 = v13;
    if (!Mutable)
    {
      return v11;
    }

    goto LABEL_4;
  }

  v10 = v9;
  CFDictionarySetValue(Mutable, @"RotationEnableHighSpeedTransfer", v8);
  CFDictionarySetValue(Mutable, @"ScalingSupported", v8);
  CFDictionarySetValue(Mutable, @"NonIntegralSourceBoundingOriginSupported", v8);
  CFDictionarySetValue(Mutable, @"RotationZeroFillData", v8);
  CFDictionarySetValue(Mutable, @"RotationEnableHistogram", v8);
  CFDictionarySetValue(Mutable, @"RotationHistogramData", v10);
  CFDictionarySetValue(Mutable, @"RotationHistogramRectangle", v8);
  *a2 = Mutable;
  CFRelease(v8);
  v11 = 0;
  Mutable = v10;
LABEL_4:
  CFRelease(Mutable);
  return v11;
}

uint64_t vt_Rotate_Celeste(int a1, __CVBuffer *a2, const __CFDictionary *a3, CVPixelBufferRef pixelBuffer, double a5, double a6, double a7, double a8, double a9, double a10, double a11, double a12, const __CFDictionary *a13, int a14, int a15, int a16)
{
  v198 = *MEMORY[0x1E69E9840];
  PixelFormatType = CVPixelBufferGetPixelFormatType(pixelBuffer);
  IOSurface = CVPixelBufferGetIOSurface(a2);
  v30 = CVPixelBufferGetIOSurface(pixelBuffer);
  DerivedStorage = CMBaseObjectGetDerivedStorage();
  v32 = DerivedStorage;
  if (*(DerivedStorage + 34))
  {
    v33 = *(DerivedStorage + 40);
    if (v33)
    {
      CFRelease(v33);
    }

    *(v32 + 40) = CFDataCreateMutable(*MEMORY[0x1E695E480], 0);
  }

  if (!IOSurface)
  {
    if ((vt_Rotate_Celeste_sAlreadyLogged & 1) == 0)
    {
      os_log_and_send_and_compose_flags_and_os_log_type = fig_log_emitter_get_os_log_and_send_and_compose_flags_and_os_log_type();
      os_log_type_enabled(os_log_and_send_and_compose_flags_and_os_log_type, OS_LOG_TYPE_DEFAULT);
      fig_log_call_emit_and_clean_up_after_send_and_compose();
      vt_Rotate_Celeste_sAlreadyLogged = 1;
    }

    goto LABEL_50;
  }

  if (!v30)
  {
    if ((vt_Rotate_Celeste_sAlreadyLogged_11 & 1) == 0)
    {
      v36 = fig_log_emitter_get_os_log_and_send_and_compose_flags_and_os_log_type();
      os_log_type_enabled(v36, OS_LOG_TYPE_DEFAULT);
      fig_log_call_emit_and_clean_up_after_send_and_compose();
      vt_Rotate_Celeste_sAlreadyLogged_11 = 1;
    }

LABEL_50:
    fig_log_get_emitter();
    return FigSignalErrorAtGM();
  }

  if (!CFEqual(IOSurface, v30))
  {
    if (!hardwareSupportsNonIntegralSrcOffset())
    {
      v37 = a5 + a7;
      a5 = floor(a5);
      v38 = a6 + a8;
      a6 = floor(a6);
      a7 = ceil(v37) - a5;
      a8 = ceil(v38) - a6;
    }

    v187 = CVPixelBufferGetPixelFormatType(a2);
    v186 = CVPixelBufferGetPixelFormatType(pixelBuffer);
    Width = CVPixelBufferGetWidth(a2);
    Height = CVPixelBufferGetHeight(a2);
    v183 = CVPixelBufferGetWidth(pixelBuffer);
    v181 = CVPixelBufferGetHeight(pixelBuffer);
    v163 = PixelFormatType;
    if (a3 && a13)
    {
      v39 = *MEMORY[0x1E695E480];
      Count = CFDictionaryGetCount(a3);
      MutableCopy = CFDictionaryCreateMutableCopy(v39, Count, a3);
      v42 = CFDictionaryGetCount(a13);
      v43 = CFDictionaryCreateMutableCopy(v39, v42, a13);
      v44 = *MEMORY[0x1E6965F98];
      CFDictionaryRemoveValue(MutableCopy, *MEMORY[0x1E6965F98]);
      CFDictionaryRemoveValue(v43, v44);
      v185 = VTDoColorDictionariesMatch(MutableCopy, v43);
      if (MutableCopy)
      {
        CFRelease(MutableCopy);
      }

      v45 = v187;
      if (v43)
      {
        CFRelease(v43);
      }
    }

    else
    {
      v185 = VTDoColorDictionariesMatch(0, 0);
      v45 = v187;
    }

    v46 = 0x1ED6D3000;
    v47 = &qword_1ED6D4000;
    v48 = &qword_1ED6D4000;
    v49 = &qword_1ED6D4000;
    v50 = &qword_1ED6D4000;
    v51 = &qword_1ED6D4000;
    v52 = &qword_1ED6D4000;
    v53 = &qword_1ED6D4000;
    v54 = &qword_1ED6D4000;
    v55 = &qword_1ED6D4000;
    v56 = &qword_1ED6D4000;
    v57 = &qword_1ED6D4000;
    v58 = &qword_1ED6D4000;
    v59 = &qword_1ED6D4000;
    v60 = &qword_1ED6D4000;
    v61 = &qword_1ED6D4000;
    if ((scalerCapabilities_checked_0 & 1) == 0)
    {
      v62 = *MEMORY[0x1E696CD60];
      v63 = IOServiceMatching("AppleM2ScalerCSCDriver");
      MatchingService = IOServiceGetMatchingService(v62, v63);
      if (MatchingService)
      {
        *&valuePtr[0] = 0;
        v65 = MatchingService;
        v66 = IORegistryEntrySearchCFProperty(MatchingService, "IOService", @"IOSurfaceAcceleratorCapabilitiesDict", 0, 0);
        if (v66)
        {
          v67 = v66;
          FigCFDictionaryGetFloatIfPresent();
          FigCFDictionaryGetFloatIfPresent();
          if (FigCFDictionaryGetFloatIfPresent())
          {
            *&scalerCapabilities_maxHDownscale = 1.0 / *&scalerCapabilities_maxHDownscale;
          }

          if (FigCFDictionaryGetFloatIfPresent())
          {
            *&scalerCapabilities_maxVDownscale = 1.0 / *&scalerCapabilities_maxVDownscale;
          }

          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          FigCFDictionaryGetInt64IfPresent();
          *&valuePtr[0] = 0;
          FigCFDictionaryGetInt64IfPresent();
          CFRelease(v67);
        }

        IOObjectRelease(v65);
        v61 = &qword_1ED6D4000;
      }

      scalerCapabilities_checked_0 = 1;
      v46 = 0x1ED6D3000uLL;
      v47 = &qword_1ED6D4000;
      v48 = &qword_1ED6D4000;
      v49 = &qword_1ED6D4000;
      v50 = &qword_1ED6D4000;
      v51 = &qword_1ED6D4000;
      v52 = &qword_1ED6D4000;
      v53 = &qword_1ED6D4000;
      v54 = &qword_1ED6D4000;
      v55 = &qword_1ED6D4000;
      v56 = &qword_1ED6D4000;
      v57 = &qword_1ED6D4000;
      v58 = &qword_1ED6D4000;
      v59 = &qword_1ED6D4000;
      v60 = &qword_1ED6D4000;
    }

    v172 = *(v51 + 1251);
    v173 = *(v55 + 1259);
    v68 = *(v58 + 1264);
    v69 = *(v59 + 1265);
    v164 = *&scalerCapabilities_maxVDownscale;
    v165 = *&scalerCapabilities_maxVUpscale;
    v166 = *(v46 + 3412);
    v171 = *&scalerCapabilities_maxHUpscale;
    v182 = *(v61 + 1267);
    v184 = *(v60 + 1266);
    v176 = *(v52 + 1253);
    v177 = *(v56 + 1261);
    v174 = *(v54 + 1257);
    v175 = *(v53 + 1255);
    v169 = *(v50 + 1249);
    v170 = *(v47 + 1243);
    v178 = *(v57 + 1263);
    v167 = *(v49 + 1247);
    v168 = *(v48 + 1245);
    if (v45 > 1530422831)
    {
      if (v45 > 1953903667)
      {
        if (v45 <= 2021078067)
        {
          if (v45 <= 2019963439)
          {
            if (v45 <= 2016686639)
            {
              if (v45 != 1953903668 && (v187 != 1999843442 || (scalerCapabilities_hasSupportIn_w30r & 1) == 0))
              {
                goto LABEL_462;
              }

              goto LABEL_184;
            }

            if (v45 != 2016686640)
            {
              if (v45 != 2016686642)
              {
                if (v187 != 2016687156)
                {
                  goto LABEL_462;
                }

                goto LABEL_148;
              }

LABEL_152:
              if ((scalerCapabilities_hasSupportIn_2plane10bit422 & 1) == 0)
              {
                goto LABEL_462;
              }

              goto LABEL_184;
            }

            goto LABEL_154;
          }

          if (v45 <= 2019963955)
          {
            if (v45 != 2019963440)
            {
              if (v45 != 2019963442)
              {
                goto LABEL_462;
              }

              goto LABEL_152;
            }

            goto LABEL_154;
          }

          if (v45 != 2019963956)
          {
            if (v187 != 2021077552)
            {
              if (v187 != 2021077554)
              {
                goto LABEL_462;
              }

              goto LABEL_152;
            }

LABEL_154:
            if ((scalerCapabilities_hasSupportIn_2plane10bit420 & 1) == 0)
            {
              goto LABEL_462;
            }

            goto LABEL_184;
          }

LABEL_148:
          if ((scalerCapabilities_hasSupportIn_2plane10bit444 & 1) == 0)
          {
            goto LABEL_462;
          }

          goto LABEL_184;
        }

        if (v45 <= 2084718400)
        {
          if (v45 > 2037741170)
          {
            if (v45 == 2037741171)
            {
              goto LABEL_184;
            }

            if (v187 == 2084070960)
            {
              goto LABEL_167;
            }

            v72 = 2084075056;
            goto LABEL_166;
          }

          if (v45 == 2021078068)
          {
            goto LABEL_148;
          }

          v71 = 2037741158;
          goto LABEL_183;
        }

        if (v45 <= 2088265265)
        {
          if (v45 != 2084718401)
          {
            v74 = 26160;
            goto LABEL_158;
          }
        }

        else if (v45 != 2088265266 && v187 != 2088269360)
        {
          v74 = 30258;
LABEL_158:
          v72 = v74 | 0x7C780000;
          goto LABEL_166;
        }

LABEL_167:
        v77 = CVPixelBufferGetIOSurface(a2);
        if (v77)
        {
          PlaneCount = IOSurfaceGetPlaneCount(v77);
          if (PlaneCount)
          {
            v79 = PlaneCount;
            v80 = 0;
            v81 = 1;
            do
            {
              while (1)
              {
                CompressionTypeOfPlane = IOSurfaceGetCompressionTypeOfPlane();
                if (CompressionTypeOfPlane != 2)
                {
                  break;
                }

                v81 = 0;
                if (++v80 == v79)
                {
                  goto LABEL_462;
                }
              }

              v83 = (CompressionTypeOfPlane != 4) | v69;
              if (CompressionTypeOfPlane == 3)
              {
                v83 = v68;
              }

              if ((v83 & 1) == 0)
              {
                v81 = 0;
              }

              ++v80;
            }

            while (v80 != v79);
            if (!v81)
            {
              goto LABEL_462;
            }
          }
        }

        goto LABEL_184;
      }

      if (v45 > 1885745713)
      {
        if (v45 <= 1937125935)
        {
          if (v45 <= 1886859823)
          {
            if (v45 != 1885745714)
            {
              if (v45 != 1885746228)
              {
                goto LABEL_462;
              }

              goto LABEL_133;
            }

            goto LABEL_135;
          }

          if (v45 != 1886859824)
          {
            if (v187 != 1886859826)
            {
              if (v187 != 1886860340)
              {
                goto LABEL_462;
              }

              goto LABEL_133;
            }

LABEL_135:
            if ((scalerCapabilities_hasSupportIn_2planePacked10bit422 & 1) == 0)
            {
              goto LABEL_462;
            }

            goto LABEL_184;
          }

LABEL_127:
          if ((scalerCapabilities_hasSupportIn_2planePacked10bit420 & 1) == 0)
          {
            goto LABEL_462;
          }

          goto LABEL_184;
        }

        if (v45 <= 1937126451)
        {
          if (v45 == 1937125936)
          {
            goto LABEL_184;
          }

          v71 = 1937125938;
        }

        else
        {
          if (v45 == 1937126452 || v187 == 1953903152)
          {
            goto LABEL_184;
          }

          v71 = 1953903154;
        }

LABEL_183:
        if (v187 != v71)
        {
          goto LABEL_462;
        }

LABEL_184:
        v84 = v186;
        if (v186 <= 1530422831)
        {
          if (v186 > 762869295)
          {
            if (v186 > 875704421)
            {
              if (v186 > 875836533)
              {
                if (v186 > 1278226487)
                {
                  if (v186 == 1278226488)
                  {
                    if (v167)
                    {
                      goto LABEL_332;
                    }

                    goto LABEL_462;
                  }

                  if (v186 == 1278226742)
                  {
                    if ((v169 & 1) == 0)
                    {
                      goto LABEL_462;
                    }

                    goto LABEL_332;
                  }

                  v88 = 1380411457;
                  goto LABEL_314;
                }

                if (v186 == 875836534)
                {
                  goto LABEL_332;
                }

                v87 = 1111970369;
              }

              else if (v186 <= 875704933)
              {
                if (v186 == 875704422)
                {
                  goto LABEL_332;
                }

                v87 = 875704438;
              }

              else
              {
                if (v186 == 875704934 || v186 == 875704950)
                {
                  goto LABEL_332;
                }

                v87 = 875836518;
              }

              goto LABEL_331;
            }

            if (v186 > 792872768)
            {
              if (v186 <= 796419633)
              {
                if (v186 == 792872769)
                {
                  goto LABEL_315;
                }

                v90 = 26160;
              }

              else
              {
                if (v186 == 796419634 || v186 == 796423728)
                {
                  goto LABEL_315;
                }

                v90 = 30258;
              }

              v88 = v90 | 0x2F780000;
              goto LABEL_313;
            }

            if (v186 > 792225327)
            {
              if (v186 == 792225328)
              {
                goto LABEL_315;
              }

              v88 = 792229424;
              goto LABEL_313;
            }

            if (v186 == 762869296)
            {
              goto LABEL_315;
            }

            v93 = 30258;
          }

          else
          {
            if (v186 <= 645424687)
            {
              if (v186 > 645101103)
              {
                if (((v186 - 645101104) > 4 || ((1 << (v186 - 48)) & 0x15) == 0) && ((v186 - 645166640) > 4 || ((1 << (v186 - 48)) & 0x15) == 0))
                {
                  goto LABEL_462;
                }

                goto LABEL_315;
              }

              if (v186 == 641230384 || v186 == 641234480)
              {
LABEL_315:
                v95 = CVPixelBufferGetIOSurface(pixelBuffer);
                if (v95)
                {
                  v96 = IOSurfaceGetPlaneCount(v95);
                  if (v96)
                  {
                    v97 = v96;
                    v98 = 0;
                    v99 = 1;
                    do
                    {
                      while (1)
                      {
                        v100 = IOSurfaceGetCompressionTypeOfPlane();
                        if (v100 != 2)
                        {
                          break;
                        }

                        v99 = 0;
                        if (++v98 == v97)
                        {
                          goto LABEL_462;
                        }
                      }

                      v101 = (v100 != 4) | v69;
                      if (v100 == 3)
                      {
                        v101 = v68;
                      }

                      if ((v101 & 1) == 0)
                      {
                        v99 = 0;
                      }

                      ++v98;
                    }

                    while (v98 != v97);
                    if (!v99)
                    {
                      goto LABEL_462;
                    }
                  }
                }

                goto LABEL_332;
              }

              v88 = 641877825;
              goto LABEL_313;
            }

            if (v186 <= 758670895)
            {
              if (v186 <= 645428783)
              {
                if (v186 == 645424688)
                {
                  goto LABEL_315;
                }

                v85 = 26162;
              }

              else
              {
                if (v186 == 645428784 || v186 == 645428786)
                {
                  goto LABEL_315;
                }

                v85 = 30512;
              }

              v88 = v85 | 0x26780000;
              goto LABEL_313;
            }

            if (v186 <= 759318336)
            {
              if (v186 == 758670896)
              {
                goto LABEL_315;
              }

              v88 = 758674992;
              goto LABEL_313;
            }

            if (v186 == 759318337 || v186 == 762865200)
            {
              goto LABEL_315;
            }

            v93 = 26162;
          }

          v88 = v93 | 0x2D780000;
LABEL_313:
          v84 = v186;
LABEL_314:
          if (v84 != v88)
          {
            goto LABEL_462;
          }

          goto LABEL_315;
        }

        if (v186 > 1953903667)
        {
          if (v186 <= 2021078067)
          {
            if (v186 <= 2019963439)
            {
              if (v186 <= 2016686639)
              {
                if (v186 != 1953903668 && (v186 != 1999843442 || (v170 & 1) == 0))
                {
                  goto LABEL_462;
                }

                goto LABEL_332;
              }

              if (v186 != 2016686640)
              {
                if (v186 != 2016686642)
                {
                  if (v186 != 2016687156)
                  {
                    goto LABEL_462;
                  }

                  goto LABEL_294;
                }

LABEL_299:
                if ((v176 & 1) == 0)
                {
                  goto LABEL_462;
                }

                goto LABEL_332;
              }

LABEL_301:
              if ((v172 & 1) == 0)
              {
                goto LABEL_462;
              }

              goto LABEL_332;
            }

            if (v186 <= 2019963955)
            {
              if (v186 == 2019963440)
              {
                goto LABEL_301;
              }

              v91 = 2019963442;
              goto LABEL_298;
            }

            if (v186 != 2019963956)
            {
              v84 = v186;
              if (v186 == 2021077552)
              {
                goto LABEL_301;
              }

              v91 = 2021077554;
LABEL_298:
              if (v84 == v91)
              {
                goto LABEL_299;
              }

LABEL_462:
              fig_log_get_emitter();
              return FigSignalErrorAtGM();
            }

LABEL_294:
            if ((v175 & 1) == 0)
            {
              goto LABEL_462;
            }

            goto LABEL_332;
          }

          if (v186 > 2084718400)
          {
            if (v186 <= 2088265265)
            {
              if (v186 == 2084718401)
              {
                goto LABEL_315;
              }

              v92 = 26160;
            }

            else
            {
              if (v186 == 2088265266 || v186 == 2088269360)
              {
                goto LABEL_315;
              }

              v92 = 30258;
            }

            v88 = v92 | 0x7C780000;
            goto LABEL_313;
          }

          if (v186 > 2037741170)
          {
            if (v186 == 2037741171)
            {
              goto LABEL_332;
            }

            if (v186 == 2084070960)
            {
              goto LABEL_315;
            }

            v88 = 2084075056;
            goto LABEL_313;
          }

          if (v186 == 2021078068)
          {
            goto LABEL_294;
          }

          v87 = 2037741158;
LABEL_331:
          if (v186 == v87)
          {
            goto LABEL_332;
          }

          goto LABEL_462;
        }

        if (v186 > 1885745713)
        {
          if (v186 > 1937125935)
          {
            if (v186 <= 1937126451)
            {
              if (v186 == 1937125936)
              {
                goto LABEL_332;
              }

              v87 = 1937125938;
            }

            else
            {
              if (v186 == 1937126452 || v186 == 1953903152)
              {
                goto LABEL_332;
              }

              v87 = 1953903154;
            }

            goto LABEL_331;
          }

          if (v186 <= 1886859823)
          {
            if (v186 != 1885745714)
            {
              v86 = 1885746228;
LABEL_278:
              if (v84 != v86)
              {
                goto LABEL_462;
              }

              goto LABEL_279;
            }

LABEL_281:
            if ((v173 & 1) == 0)
            {
              goto LABEL_462;
            }

            goto LABEL_332;
          }

          if (v186 != 1886859824)
          {
            v84 = v186;
            if (v186 != 1886859826)
            {
              v86 = 1886860340;
              goto LABEL_278;
            }

            goto LABEL_281;
          }

          goto LABEL_272;
        }

        if (v186 > 1647534391)
        {
          if (v186 <= 1882468913)
          {
            if (v186 == 1647534392)
            {
              if ((v168 & 1) == 0)
              {
                goto LABEL_462;
              }

              goto LABEL_332;
            }

            v89 = 1882468912;
          }

          else
          {
            if (v186 == 1882468914)
            {
              goto LABEL_281;
            }

            if (v186 == 1882469428)
            {
LABEL_279:
              if ((v177 & 1) == 0)
              {
                goto LABEL_462;
              }

              goto LABEL_332;
            }

            v89 = 1885745712;
            v84 = v186;
          }

          if (v84 != v89)
          {
            goto LABEL_462;
          }

LABEL_272:
          if ((v174 & 1) == 0)
          {
            goto LABEL_462;
          }

          goto LABEL_332;
        }

        if (v186 > 1534617135)
        {
          if (v186 != 1534617136)
          {
            v94 = 1534621232;
LABEL_266:
            if (v186 != v94)
            {
              goto LABEL_462;
            }
          }
        }

        else if (v186 != 1530422832)
        {
          v94 = 1530426928;
          goto LABEL_266;
        }

        if ((v178 & 1) == 0)
        {
          goto LABEL_462;
        }

LABEL_332:
        if (!((v185 != 0) | v184 & 1))
        {
          goto LABEL_462;
        }

        if (v187 == 2037741171 || v187 == 2037741158 || v186 == 2037741171 || v186 == 2037741158)
        {
          if ((hardwareSupportsYUVS_checked & 1) == 0)
          {
            v102 = *MEMORY[0x1E696CD60];
            v103 = IOServiceMatching("AppleM2ScalerCSCDriver");
            v104 = IOServiceGetMatchingService(v102, v103);
            if (v104)
            {
              v105 = v104;
              *&valuePtr[0] = 0;
              v106 = IORegistryEntrySearchCFProperty(v104, "IOService", @"IOSurfaceAcceleratorCapabilitiesDict", 0, 0);
              if (v106)
              {
                v107 = v106;
                Value = CFDictionaryGetValue(v106, @"IOSurfaceAcceleratorFormatInInterleaved422");
                if (Value)
                {
                  v109 = Value;
                  v110 = CFGetTypeID(Value);
                  if (v110 == CFNumberGetTypeID())
                  {
                    CFNumberGetValue(v109, kCFNumberLongLongType, valuePtr);
                    if (*&valuePtr[0])
                    {
                      hardwareSupportsYUVS_hasSupport = 1;
                    }
                  }
                }

                CFRelease(v107);
              }

              IOObjectRelease(v105);
            }

            hardwareSupportsYUVS_checked = 1;
          }

          if (hardwareSupportsYUVS_hasSupport != 1)
          {
            goto LABEL_462;
          }
        }

        if (a14 > 179)
        {
          if (a14 != 270 && a14 != 180)
          {
            goto LABEL_462;
          }
        }

        else if (a14 && a14 != 90)
        {
          goto LABEL_462;
        }

        v111 = 0;
        v112 = a10 + a12;
        v113 = floor(a9);
        v114 = floor(a10);
        v115 = ceil(a9 + a11);
        v116 = ceil(v112);
        if (v186 > 1886859825)
        {
          v117 = v182;
          if (v186 <= 2019963441)
          {
            if (v186 > 2016686641)
            {
              v118 = v187;
              if (v186 == 2016686642)
              {
                goto LABEL_381;
              }

              v119 = 2019963440;
            }

            else
            {
              v118 = v187;
              if (v186 == 1886859826)
              {
                goto LABEL_381;
              }

              v119 = 2016686640;
            }
          }

          else if (v186 <= 2021077553)
          {
            v118 = v187;
            if (v186 == 2019963442)
            {
              goto LABEL_381;
            }

            v119 = 2021077552;
          }

          else
          {
            v118 = v187;
            if (v186 == 2021077554 || v186 == 2037741171)
            {
              goto LABEL_381;
            }

            v119 = 2037741158;
          }
        }

        else
        {
          v117 = v182;
          if (v186 <= 1882468911)
          {
            if (v186 > 875704933)
            {
              v118 = v187;
              if (v186 == 875704934)
              {
                goto LABEL_381;
              }

              v120 = 12918;
            }

            else
            {
              v118 = v187;
              if (v186 == 875704422)
              {
                goto LABEL_381;
              }

              v120 = 12406;
            }

            v119 = v120 | 0x34320000;
          }

          else if (v186 <= 1885745711)
          {
            v118 = v187;
            if (v186 == 1882468912)
            {
              goto LABEL_381;
            }

            v119 = 1882468914;
          }

          else
          {
            v118 = v187;
            if (v186 == 1885745712 || v186 == 1885745714)
            {
              goto LABEL_381;
            }

            v119 = 1886859824;
          }
        }

        if (v186 != v119)
        {
          goto LABEL_398;
        }

LABEL_381:
        v111 = v183 & 1;
        if (v186 <= 2016686639)
        {
          if (v186 <= 1882468911)
          {
            if (v186 == 875704422)
            {
              goto LABEL_396;
            }

            v121 = 875704438;
          }

          else
          {
            if (v186 == 1882468912 || v186 == 1885745712)
            {
              goto LABEL_396;
            }

            v121 = 1886859824;
          }
        }

        else
        {
          if (v186 <= 2019963441)
          {
            if (v186 != 2016686640 && v186 != 2016686642)
            {
              v121 = 2019963440;
              goto LABEL_395;
            }

LABEL_396:
            if (v181)
            {
              v111 = 1;
            }

LABEL_398:
            v122 = v115 - v113;
            v123 = v116 - v114;
            if (v117)
            {
              goto LABEL_399;
            }

            if (v118 > 875704949)
            {
              if (v118 != 875704950 && v187 != 2037741171)
              {
                v136 = 2037741158;
LABEL_437:
                if (v187 != v136)
                {
                  goto LABEL_440;
                }
              }
            }

            else if (v118 != 875704422 && v187 != 875704438)
            {
              v136 = 875704934;
              goto LABEL_437;
            }

            if (a7 & 1) != 0 || (a8)
            {
              goto LABEL_462;
            }

LABEL_440:
            if (v186 > 875704949)
            {
              if (v186 != 875704950 && v186 != 2037741171)
              {
                v137 = 2037741158;
LABEL_447:
                if (v186 != v137)
                {
                  goto LABEL_399;
                }
              }
            }

            else if (v186 != 875704422 && v186 != 875704438)
            {
              v137 = 875704934;
              goto LABEL_447;
            }

            if (v122 & 1) != 0 || (v123)
            {
              goto LABEL_462;
            }

LABEL_399:
            if (a5 < 0.0 || a5 + a7 > Width || a6 < 0.0 || a6 + a8 > Height || v113 < 0.0 || v113 + v122 > v183 || v114 < 0.0 || v114 + v123 > v181)
            {
              goto LABEL_462;
            }

            v124 = a8;
            v125 = a7;
            if (a14 != 90)
            {
              v124 = a8;
              v125 = a7;
              if (a14 != 270)
              {
                v124 = a7;
                v125 = a8;
              }
            }

            v126 = v122;
            v127 = v124;
            v128 = v126 / v127;
            if (v128 > v171 || v128 < v166)
            {
              goto LABEL_462;
            }

            v129 = v123;
            v130 = v125;
            v131 = v129 / v130;
            v132 = v131 >= v164 && v131 <= v165;
            v133 = v132;
            if (!v133 || !*(v32 + 24) && IOSurfaceAcceleratorCreate())
            {
              goto LABEL_462;
            }

            IOSurfaceBindAccel();
            if (a16)
            {
              v134 = 3;
            }

            else
            {
              v134 = 2;
            }

            if (a15)
            {
              v135 = v134;
            }

            else
            {
              v135 = a16 != 0;
            }

            switch(a14)
            {
              case 270:
                v135 ^= 7u;
                break;
              case 180:
                v135 ^= 3u;
                break;
              case 90:
                v135 |= 4u;
                break;
            }

            v139 = *(v32 + 88);
            if (*(v32 + 80) == v135)
            {
              if (v139)
              {
                goto LABEL_485;
              }
            }

            else if (v139)
            {
              CFRelease(v139);
              *(v32 + 88) = 0;
            }

            Mutable = CFDictionaryCreateMutable(0, 0, MEMORY[0x1E695E9D8], MEMORY[0x1E695E9E8]);
            *(v32 + 88) = Mutable;
            *(v32 + 80) = v135;
            v141 = *MEMORY[0x1E69A85C0];
            LODWORD(valuePtr[0]) = v135;
            v142 = CFNumberCreate(0, kCFNumberIntType, valuePtr);
            CFDictionarySetValue(Mutable, v141, v142);
            CFRelease(v142);
            v143 = MEMORY[0x1E695E4D0];
            if (*(v32 + 32))
            {
              CFDictionarySetValue(*(v32 + 88), *MEMORY[0x1E69A84D0], *MEMORY[0x1E695E4D0]);
            }

            if (*(v32 + 33))
            {
              CFDictionarySetValue(*(v32 + 88), *MEMORY[0x1E69A85F8], *v143);
            }

            if (*(v32 + 118))
            {
              CFDictionarySetValue(*(v32 + 88), @"ReducedPrecisionFractionalOffsets", *v143);
            }

            if (*(v32 + 34))
            {
              LODWORD(valuePtr[0]) = 1;
              if (CGRectIsNull(*(v32 + 48)))
              {
                v144 = 0;
                v145 = 0;
                v146 = v122;
                v147 = v123;
              }

              else
              {
                v146 = *(v32 + 64);
                v147 = *(v32 + 72);
                v144 = *(v32 + 48);
                v145 = *(v32 + 56);
              }

              v148 = *MEMORY[0x1E695E480];
              v149 = CFNumberCreate(*MEMORY[0x1E695E480], kCFNumberSInt32Type, valuePtr);
              CFDictionarySetValue(*(v32 + 88), *MEMORY[0x1E69A84E0], v149);
              CFRelease(v149);
              LODWORD(v196[0]) = v144;
              v150 = CFNumberCreate(v148, kCFNumberSInt32Type, v196);
              CFDictionarySetValue(*(v32 + 88), *MEMORY[0x1E69A84F0], v150);
              CFRelease(v150);
              LODWORD(v196[0]) = v145;
              v151 = CFNumberCreate(v148, kCFNumberSInt32Type, v196);
              CFDictionarySetValue(*(v32 + 88), *MEMORY[0x1E69A84F8], v151);
              CFRelease(v151);
              LODWORD(v196[0]) = v146;
              v152 = CFNumberCreate(v148, kCFNumberSInt32Type, v196);
              CFDictionarySetValue(*(v32 + 88), *MEMORY[0x1E69A8500], v152);
              CFRelease(v152);
              LODWORD(v196[0]) = v147;
              v153 = CFNumberCreate(v148, kCFNumberSInt32Type, v196);
              CFDictionarySetValue(*(v32 + 88), *MEMORY[0x1E69A84E8], v153);
              CFRelease(v153);
            }

LABEL_485:
            v154 = 0;
            v155 = MEMORY[0x1E6965F30];
            if (v163 <= 793522279)
            {
              if (v163 <= 759967799)
              {
                if ((v163 - 642527536) <= 6 && ((1 << (v163 - 48)) & 0x45) != 0 || v163 == 642527288)
                {
                  goto LABEL_504;
                }

                v156 = 642527336;
                goto LABEL_503;
              }

              if (v163 == 759967800 || v163 == 759967848)
              {
                goto LABEL_504;
              }

              v157 = 12344;
            }

            else
            {
              if (v163 > 1278226735)
              {
                if ((v163 - 1278226736) <= 6 && ((1 << (v163 - 48)) & 0x45) != 0 || v163 == 2085367912)
                {
                  goto LABEL_504;
                }

                v156 = 2085367864;
                goto LABEL_503;
              }

              if ((v163 - 1278226488) <= 0x30 && ((1 << (v163 - 56)) & 0x1400000000001) != 0)
              {
                goto LABEL_504;
              }

              v157 = 12392;
            }

            v156 = v157 | 0x2F4C0000;
LABEL_503:
            v158 = 0;
            if (v163 != v156)
            {
LABEL_514:
              v138 = IOSurfaceAcceleratorTransformSurface();
              if (v138)
              {
                v192 = 0;
                memset(valuePtr, 0, sizeof(valuePtr));
                v197 = 0;
                memset(v196, 0, sizeof(v196));
                IOSurfaceGetBulkAttachments();
                IOSurfaceGetBulkAttachments();
                fig_log_get_emitter();
                FigSignalErrorAtGM();
              }

              else
              {
                if (v158)
                {
                  CVBufferSetAttachment(pixelBuffer, *MEMORY[0x1E6965D88], v158, kCVAttachmentMode_ShouldPropagate);
                }

                if (v154)
                {
                  CVBufferSetAttachment(pixelBuffer, *v155, v154, kCVAttachmentMode_ShouldPropagate);
                }

                if (v111)
                {
                  vtDuplicateOddPixels(pixelBuffer);
                }

                if (*(v32 + 34))
                {
                  bzero(valuePtr, 0x620uLL);
                  if (!IOSurfaceAcceleratorGetHistogram())
                  {
                    CFDataAppendBytes(*(v32 + 40), bytes, 4 * LODWORD(valuePtr[0]));
                    CFDataAppendBytes(*(v32 + 40), v194, 4 * LODWORD(valuePtr[0]));
                    CFDataAppendBytes(*(v32 + 40), v195, 4 * LODWORD(valuePtr[0]));
                  }
                }
              }

              if (v158)
              {
                CFRelease(v158);
              }

              if (v154)
              {
                CFRelease(v154);
              }

              return v138;
            }

LABEL_504:
            LODWORD(valuePtr[0]) = 0;
            v159 = *MEMORY[0x1E6965D88];
            v160 = CVBufferCopyAttachment(pixelBuffer, *MEMORY[0x1E6965D88], valuePtr);
            v158 = v160;
            if (v160 && LODWORD(valuePtr[0]) == 1)
            {
              CVBufferRemoveAttachment(pixelBuffer, v159);
            }

            else if (v160)
            {
              CFRelease(v160);
              v158 = 0;
            }

            v161 = *v155;
            v162 = CVBufferCopyAttachment(pixelBuffer, *v155, valuePtr);
            v154 = v162;
            if (v162 && LODWORD(valuePtr[0]) == 1)
            {
              CVBufferRemoveAttachment(pixelBuffer, v161);
            }

            else if (v162)
            {
              CFRelease(v162);
              v154 = 0;
            }

            goto LABEL_514;
          }

          if (v186 == 2019963442 || v186 == 2021077554)
          {
            goto LABEL_396;
          }

          v121 = 2021077552;
        }

LABEL_395:
        if (v186 != v121)
        {
          goto LABEL_398;
        }

        goto LABEL_396;
      }

      if (v45 > 1647534391)
      {
        if (v45 <= 1882468913)
        {
          if (v45 == 1647534392)
          {
            if ((scalerCapabilities_hasSupportIn_b3a8 & 1) == 0)
            {
              goto LABEL_462;
            }

            goto LABEL_184;
          }

          if (v45 != 1882468912)
          {
            goto LABEL_462;
          }
        }

        else
        {
          if (v45 == 1882468914)
          {
            goto LABEL_135;
          }

          if (v45 == 1882469428)
          {
LABEL_133:
            if ((scalerCapabilities_hasSupportIn_2planePacked10bit444 & 1) == 0)
            {
              goto LABEL_462;
            }

            goto LABEL_184;
          }

          if (v187 != 1885745712)
          {
            goto LABEL_462;
          }
        }

        goto LABEL_127;
      }

      if (v45 > 1534617135)
      {
        if (v45 != 1534617136)
        {
          v76 = 1534621232;
LABEL_122:
          if (v187 != v76)
          {
            goto LABEL_462;
          }
        }
      }

      else if (v45 != 1530422832)
      {
        v76 = 1530426928;
        goto LABEL_122;
      }

      if ((scalerCapabilities_hasSupportIn_mediaCompression & 1) == 0)
      {
        goto LABEL_462;
      }

      goto LABEL_184;
    }

    if (v45 > 762869295)
    {
      if (v45 > 875704421)
      {
        if (v45 > 875836533)
        {
          if (v45 > 1278226487)
          {
            if (v45 == 1278226488)
            {
              if ((scalerCapabilities_hasSupportIn_L008 & 1) == 0)
              {
                goto LABEL_462;
              }

              goto LABEL_184;
            }

            if (v45 == 1278226742)
            {
              if ((scalerCapabilities_hasSupportIn_L016 & 1) == 0)
              {
                goto LABEL_462;
              }

              goto LABEL_184;
            }

            if (v45 != 1380411457)
            {
              goto LABEL_462;
            }

            goto LABEL_167;
          }

          if (v45 == 875836534)
          {
            goto LABEL_184;
          }

          v71 = 1111970369;
        }

        else if (v45 <= 875704933)
        {
          if (v45 == 875704422)
          {
            goto LABEL_184;
          }

          v71 = 875704438;
        }

        else
        {
          if (v45 == 875704934 || v187 == 875704950)
          {
            goto LABEL_184;
          }

          v71 = 875836518;
        }

        goto LABEL_183;
      }

      if (v45 > 792872768)
      {
        if (v45 <= 796419633)
        {
          if (v45 == 792872769)
          {
            goto LABEL_167;
          }

          v73 = 26160;
        }

        else
        {
          if (v45 == 796419634 || v187 == 796423728)
          {
            goto LABEL_167;
          }

          v73 = 30258;
        }

        v72 = v73 | 0x2F780000;
        goto LABEL_166;
      }

      if (v45 > 792225327)
      {
        if (v45 != 792225328)
        {
          v72 = 792229424;
          goto LABEL_166;
        }

        goto LABEL_167;
      }

      if (v45 == 762869296)
      {
        goto LABEL_167;
      }

      v75 = 30258;
    }

    else
    {
      if (v45 <= 645424687)
      {
        if (v45 <= 645101103)
        {
          if (v45 != 641230384 && v187 != 641234480)
          {
            v72 = 641877825;
            goto LABEL_166;
          }
        }

        else if (((v45 - 645101104) > 4 || ((1 << (v45 - 48)) & 0x15) == 0) && (v187 - 645166640 > 4 || ((1 << (v187 - 48)) & 0x15) == 0))
        {
          goto LABEL_462;
        }

        goto LABEL_167;
      }

      if (v45 <= 758670895)
      {
        if (v45 <= 645428783)
        {
          if (v45 == 645424688)
          {
            goto LABEL_167;
          }

          v70 = 26162;
        }

        else
        {
          if (v45 == 645428784 || v187 == 645428786)
          {
            goto LABEL_167;
          }

          v70 = 30512;
        }

        v72 = v70 | 0x26780000;
        goto LABEL_166;
      }

      if (v45 <= 759318336)
      {
        if (v45 == 758670896)
        {
          goto LABEL_167;
        }

        v72 = 758674992;
LABEL_166:
        if (v187 != v72)
        {
          goto LABEL_462;
        }

        goto LABEL_167;
      }

      if (v45 == 759318337 || v187 == 762865200)
      {
        goto LABEL_167;
      }

      v75 = 26162;
    }

    v72 = v75 | 0x2D780000;
    goto LABEL_166;
  }

  fig_log_get_emitter();

  return FigSignalErrorAtGM();
}