void AGX::BlitUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::setupBlitCommand(uint64_t a1, void *a2, uint64_t a3, void *a4, uint64_t a5)
{
  v166 = *MEMORY[0x29EDCA608];
  v7 = *(a5 + 4940);
  v8 = *(a5 + 3580);
  v9 = *(a5 + 4932);
  v10 = *(a5 + 4936);
  v11 = *(a5 + 6144);
  LODWORD(v163) = 0;
  BYTE4(v163) = 0;
  *(&v163 + 1) = 0;
  *&v164 = 0;
  LdShdrTransformFragment<AGX::HAL300::Encoders>::LdShdrTransformFragment(&v155, v7, v8, v9, v10, v11, &v163);
  v12 = *(a5 + 5376);
  v13 = a5 + 3648;
  v14 = *(v12 + 2120);
  do
  {
    IOGPUResourceListAddResource();
    v14 &= ~(1 << __clz(__rbit32(v14)));
  }

  while (v14);
  v15 = (*(*(v12 + 1784) + 8) - **(v12 + 1784)) + 63;
  v16 = a4;
  v17 = a4[30] + v15;
  if (v17 <= a4[29])
  {
LABEL_4:
    v16[31] = v17;
    goto LABEL_5;
  }

  v16 = a4;
  if (AGX::DataBufferAllocator<44ul>::growNoInline(a4, 6, 0))
  {
    v17 = a4[30] + v15;
    if (v17 > a4[29])
    {
      goto LABEL_146;
    }

    goto LABEL_4;
  }

LABEL_5:
  v18 = *(v12 + 16) + 31;
  v19 = v16[22] + v18;
  if (v19 <= v16[21])
  {
LABEL_6:
    v16[23] = v19;
    goto LABEL_7;
  }

  v131 = AGX::DataBufferAllocator<44ul>::growNoInline(v16, 4, 0);
  v16 = a4;
  if (v131)
  {
    v19 = a4[22] + v18;
    if (v19 <= a4[21])
    {
      goto LABEL_6;
    }

LABEL_146:
    abort();
  }

LABEL_7:
  v20 = *(v12 + 16);
  if (v20)
  {
    v21 = (v16[22] + 31) & 0xFFFFFFFFFFFFFFE0;
    v22 = v21 + v16[24];
    v16[22] = v21 + v20;
  }

  else
  {
    v22 = 0;
    v21 = 0;
  }

  v23 = a5 + 4456;
  v24 = v16[32];
  __dst = ((v16[30] + 63) & 0xFFFFFFFFFFFFFFC0);
  v16[30] = &__dst[*(*(v12 + 1784) + 8) - **(v12 + 1784)];
  v160 = *v157;
  v161 = *&v157[16];
  v162 = *&v157[32];
  v158 = v155;
  v159 = v156;
  v25 = *(v12 + 520);
  v26 = *(v12 + 512);
  v27 = v25 - v26;
  v128 = v25 == v26;
  v28 = *(v12 + 408);
  v29 = v28 & 1;
  if (v128)
  {
    v29 = 0;
  }

  if (!v20)
  {
    goto LABEL_94;
  }

  v145 = v24;
  v30 = *(v12 + 712);
  v31 = *(v12 + 128);
  v137 = *(v12 + 264);
  v136 = *(v12 + 256);
  v32 = *(v12 + 48);
  v33 = *(v12 + 52);
  v140 = *(v12 + 416);
  v142 = *(v12 + 420);
  v34 = *(v12 + 744);
  v35 = *(v12 + 745);
  if (*(v12 + 744))
  {
    *(a5 + 4440) = v22 + *(v12 + 20);
  }

  v141 = v27;
  v138 = v29;
  v139 = v28;
  if (v35)
  {
    *(a5 + 4448) = v22 + *(v12 + 40);
  }

  v36 = 0;
  v146 = v22;
  v143 = v33;
  v144 = v32;
  if (v32 != v30)
  {
    v134 = v31;
    v135 = v35;
    v153 = a5 + 4456;
    v154 = (a5 + 3648);
    v37 = &unk_2A23F6860;
    *&v163 = &unk_2A23F6860;
    *(&v163 + 1) = &v153;
    *&v164 = &v154;
    *(&v164 + 1) = &v163;
    v38 = *(v12 + 80);
    v39 = *(v12 + 88);
    if (v38 == v39)
    {
      v46 = &v163;
      v22 = v146;
    }

    else
    {
      v40 = 0;
      do
      {
        LODWORD(v152) = *v38;
        if (!*(&v164 + 1))
        {
LABEL_151:
          std::__throw_bad_function_call[abi:nn200100]();
        }

        v42 = (*(**(&v164 + 1) + 48))(*(&v164 + 1), &v152);
        v43 = *(v38 + 8);
        v44 = *(v38 + 16);
        if (v43 == v44)
        {
          v41 = v40;
        }

        else
        {
          do
          {
            v45 = *v43++;
            v41 = (v40 + 1);
            *(v21 + 8 * v40) = *(v42 + 8 * v45);
            LODWORD(v40) = v40 + 1;
          }

          while (v43 != v44);
        }

        v38 += 32;
        v40 = v41;
      }

      while (v38 != v39);
      v46 = *(&v164 + 1);
      if (*(&v164 + 1) != &v163)
      {
        v16 = a4;
        v22 = v146;
        if (*(&v164 + 1))
        {
          (*(**(&v164 + 1) + 40))();
        }

LABEL_32:
        v33 = v143;
        v32 = v144;
        if (*(v12 + 552))
        {
          v47 = *(v12 + 536);
          if (v47 != (v12 + 544))
          {
            do
            {
              *(v21 + 4 * *(v47 + 7)) |= *(v47 + 8);
              v57 = v47[1];
              if (v57)
              {
                do
                {
                  v58 = v57;
                  v57 = *v57;
                }

                while (v57);
              }

              else
              {
                do
                {
                  v58 = v47[2];
                  v128 = *v58 == v47;
                  v47 = v58;
                }

                while (!v128);
              }

              v47 = v58;
            }

            while (v58 != (v12 + 544));
          }
        }

        v48 = (v134 + 3) & 0xFFFFFFFC;
        if (v34)
        {
          v49 = *(v12 + 704);
          if (v49 >= 4)
          {
            v50 = v49 >> 2;
            v51 = *(v12 + 144);
            v52 = (v21 + 8 * v48);
            do
            {
              v53 = *v51;
              v51 += 4;
              v54 = (v13 + 8 * v53);
              v55 = v54[1];
              *v52 = *v54;
              v52[1] = v55;
              v52 += 2;
              --v50;
            }

            while (v50);
          }

          v48 += v49;
          v56 = v144 - v30;
          if (!v135)
          {
            goto LABEL_52;
          }
        }

        else
        {
          v49 = 0;
          v56 = v144 - v30;
          if (!v135)
          {
LABEL_52:
            v36 = 8 * v56;
            goto LABEL_53;
          }
        }

        v59 = *(v12 + 708);
        v60 = (v21 + 8 * v48);
        if (*(v12 + 1584) == 1)
        {
          if (v59)
          {
            v132 = (*(v12 + 144) + 4 * v49);
            do
            {
              v133 = *v132++;
              *v60++ = *(v13 + 8 * v133);
              --v59;
            }

            while (v59);
          }
        }

        else if (v59 >= 4)
        {
          v61 = v59 >> 2;
          v62 = (*(v12 + 144) + 4 * v49);
          do
          {
            v63 = *v62;
            v62 += 4;
            *v60 = *(v13 + 8 * v63);
            v60 += 4;
            --v61;
          }

          while (v61);
        }

        goto LABEL_52;
      }

      v37 = **(&v164 + 1);
      v16 = a4;
      v22 = v146;
    }

    v37[4](v46);
    goto LABEL_32;
  }

LABEL_53:
  if (!v30)
  {
    v23 = a5 + 4456;
    if (v33)
    {
      goto LABEL_58;
    }

LABEL_70:
    v24 = v145;
    goto LABEL_75;
  }

  v23 = a5 + 4456;
  if (v30 >= 4)
  {
    v64 = *(v12 + 2312);
    v65 = v30 >> 2;
    v66 = (v21 + v36);
    do
    {
      v67 = *v64;
      v64 += 4;
      *v66 = v67;
      v66 += 4;
      --v65;
    }

    while (v65);
  }

  v36 += 8 * v30;
  if (!v33)
  {
    goto LABEL_70;
  }

LABEL_58:
  *(a5 + 4784) = v22 + v36 + 8;
  v153 = v23;
  v154 = (a5 + 3648);
  v68 = &unk_2A23F68A8;
  *&v163 = &unk_2A23F68A8;
  *(&v163 + 1) = &v153;
  *&v164 = &v154;
  *(&v164 + 1) = &v163;
  v69 = *(v12 + 192);
  v70 = *(v12 + 200);
  if (v69 == v70)
  {
    v77 = &v163;
    v24 = v145;
    v22 = v146;
  }

  else
  {
    v71 = 0;
    do
    {
      LODWORD(v152) = *v69;
      if (!*(&v164 + 1))
      {
        goto LABEL_151;
      }

      v73 = (*(**(&v164 + 1) + 48))(*(&v164 + 1), &v152);
      v74 = *(v69 + 8);
      v75 = *(v69 + 16);
      if (v74 == v75)
      {
        v72 = v71;
      }

      else
      {
        do
        {
          v76 = *v74++;
          v72 = (v71 + 1);
          *(v21 + v36 + 4 * v71) = *(v73 + 4 * v76);
          LODWORD(v71) = v71 + 1;
        }

        while (v74 != v75);
      }

      v69 += 32;
      v71 = v72;
    }

    while (v69 != v70);
    v77 = *(&v164 + 1);
    v16 = a4;
    if (*(&v164 + 1) != &v163)
    {
      v22 = v146;
      v23 = a5 + 4456;
      v24 = v145;
      if (*(&v164 + 1))
      {
        (*(**(&v164 + 1) + 40))();
      }

      goto LABEL_74;
    }

    v68 = **(&v164 + 1);
    v22 = v146;
    v23 = a5 + 4456;
    v24 = v145;
  }

  v68[4](v77);
LABEL_74:
  v32 = v144;
  v36 += 4 * v143;
LABEL_75:
  if ((v141 >> 2))
  {
    v78 = v32 + ((v137 - v136) >> 2);
    v79 = 4 * (v138 + v139);
    v80 = (v21 + (v79 + 8 * v78));
    v81 = *(v12 + 512);
    v82 = v141 >> 2;
    do
    {
      v83 = *v81++;
      *v80++ = *(v13 + 8 * v83);
      LODWORD(v82) = v82 - 1;
    }

    while (v82);
    v36 = v79 + 8 * (v78 + (v141 >> 2));
  }

  if (v142 != -v140)
  {
    v84 = (v21 + v36);
    v85 = 4 * *(v12 + 416);
    memcpy(v84, (v13 + 4 * *(v12 + 412)), v85);
    v153 = v23;
    v154 = (a5 + 3648);
    v86 = &unk_2A23F68A8;
    *&v163 = &unk_2A23F68A8;
    *(&v163 + 1) = &v153;
    *&v164 = &v154;
    *(&v164 + 1) = &v163;
    v87 = *(v12 + 448);
    v88 = *(v12 + 456);
    if (v87 == v88)
    {
      v96 = &v163;
      v22 = v146;
      v23 = a5 + 4456;
      v24 = v145;
    }

    else
    {
      v89 = 0;
      v90 = &v84[v85];
      v24 = v145;
      do
      {
        LODWORD(v152) = *v87;
        if (!*(&v164 + 1))
        {
          goto LABEL_151;
        }

        v92 = (*(**(&v164 + 1) + 48))(*(&v164 + 1), &v152);
        v93 = *(v87 + 8);
        v94 = *(v87 + 16);
        if (v93 == v94)
        {
          v91 = v89;
        }

        else
        {
          do
          {
            v95 = *v93++;
            v91 = (v89 + 1);
            *&v90[4 * v89] = *(v92 + 4 * v95);
            LODWORD(v89) = v89 + 1;
          }

          while (v93 != v94);
        }

        v87 += 32;
        v89 = v91;
      }

      while (v87 != v88);
      v96 = *(&v164 + 1);
      if (*(&v164 + 1) != &v163)
      {
        v16 = a4;
        v22 = v146;
        v23 = a5 + 4456;
        if (*(&v164 + 1))
        {
          (*(**(&v164 + 1) + 40))();
        }

        goto LABEL_94;
      }

      v86 = **(&v164 + 1);
      v16 = a4;
      v22 = v146;
      v23 = a5 + 4456;
    }

    v86[4](v96);
  }

LABEL_94:
  v97 = &__dst[v24];
  v154 = 0;
  *v165 = v160;
  *&v165[16] = v161;
  *&v165[32] = v162;
  v163 = v158;
  v164 = v159;
  AGX::ESLStateLoadEncoderGen2<AGX::HAL300::Classes,AGX::HAL300::Encoders>::emitUscStateLoad<LdShdrTransformFragment<AGX::HAL300::Encoders>>(*(v12 + 1784), __dst, &v154, v22, a5 + 3648, v23, &v163);
  v98 = *a1;
  if (*a1)
  {
    v99 = v154;
    v100 = *(v12 + 2192);
    LODWORD(v101) = *(v98 + 2);
    v102 = v101 + 1;
    if (*(v98 + 3) >= (v101 + 1))
    {
      v105 = *v98;
    }

    else
    {
      v103 = -__clz(v101);
      v104 = malloc_type_malloc(40 << (v103 & 0x1F), 0x10800400D7C94D2uLL);
      v105 = v104;
      v106 = 1 << v103;
      v101 = *(v98 + 2);
      if (v101)
      {
        memcpy(v104, *v98, 40 * v101);
        free(*v98);
        LODWORD(v101) = *(v98 + 2);
      }

      *(v98 + 3) = v106;
      *v98 = v105;
      v16 = a4;
    }

    v107 = &v105[40 * v101];
    *v107 = 9;
    *(v107 + 1) = v97;
    *(v107 + 2) = __dst;
    *(v107 + 3) = (v99 - __dst);
    *(v107 + 8) = v100;
    *(v98 + 2) = v102;
  }

  v108 = *(v12 + 3120) & 0xFFFF00000000003FLL | (((v97 >> 6) & 0x3FFFFFFFFFFLL) << 6);
  a2[20] = *(v12 + 3112) & 0x7FFFFFFFFFFFLL | (*(v12 + 3136) << 47);
  a2[21] = v108;
  *(a1 + 28) = *(v12 + 684);
  v109 = (a1 + 28);
  v111 = (a1 + 24);
  v110 = *(a1 + 24);
  if (v110 <= *(v12 + 688))
  {
    v110 = *(v12 + 688);
  }

  if (v110 <= *(v12 + 700))
  {
    v110 = *(v12 + 700);
  }

  *v111 = v110;
  v113 = (a1 + 32);
  v112 = *(a1 + 32);
  if (v112 <= *(v12 + 716))
  {
    v112 = *(v12 + 716);
  }

  if (v112 <= *(v12 + 728))
  {
    v112 = *(v12 + 728);
  }

  *v113 = v112;
  v114 = *(a5 + 5848);
  v163 = v155;
  v164 = v156;
  *v165 = *v157;
  *&v165[9] = *&v157[9];
  *&v165[26] = *&v157[26];
  *&v165[34] = *&v157[34];
  *&v158 = 0;
  v153 = 0;
  v154 = 0;
  v151 = 0;
  v152 = 0;
  v165[25] = 1;
  v115 = AGX::EndOfTileEmitter<AGX::HAL300::Encoders,AGX::HAL300::Classes>::emitEndOfTileArgumentsEarly(a3, v16, v114, &v163, &v158, &v154, &v153, &v152, &v151);
  v117 = v116;
  AGX::EndOfTileEmitter<AGX::HAL300::Encoders,AGX::HAL300::Classes>::emitEndOfTileArgumentsLate(v114, (a5 + 448), v158, v154, v153, v152, v151, *a1);
  a2[24] = v115;
  a2[25] = v117;
  a2[26] = v115;
  a2[27] = v117;
  v118 = v114[48];
  if (*v111 > v118)
  {
    v118 = *v111;
  }

  if (v118 <= v114[50])
  {
    v118 = v114[50];
  }

  *v111 = v118;
  v119 = v114[51];
  if (*v113 > v119)
  {
    v119 = *v113;
  }

  if (v119 <= v114[53])
  {
    v119 = v114[53];
  }

  *v113 = v119;
  v120 = v114[54];
  if (*v109 > v120)
  {
    v120 = *v109;
  }

  *v109 = v120;
  v121 = *(a5 + 3580);
  if (v121 == 1)
  {
    v122 = *(a1 + 16);
  }

  else
  {
    v123 = *(a5 + 4932);
    v124 = *(a5 + 4936);
    v125 = *(a5 + 4940) & 0xFFFFFFFC;
    switch(v121)
    {
      case 8:
        v127 = (v124 >> 2) * (v123 >> 3) * ((v125 + 31) >> 5);
        break;
      case 4:
        v127 = ((v124 >> 2) * (v123 >> 3) * ((v125 + 31) >> 5)) >> 1;
        break;
      case 2:
        v126 = (v124 >> 2) * (v123 >> 3) * ((v125 + 31) >> 5);
        if (v126 < 8)
        {
          v127 = 1;
        }

        else
        {
          v127 = v126 >> 3;
        }

        break;
      default:
        v127 = 0;
        break;
    }

    v128 = v121 == 2 && v123 == 16;
    v130 = !v128 || v124 != 16;
    v122 = *(a1 + 16) & 0xFFFFFFFFFFE0FFFFLL | (((v127 >> v130) & 0x1F) << 16);
    *(a1 + 16) = v122;
  }

  a2[55] = v122;
}

uint64_t LdShdrTransformFragment<AGX::HAL300::Encoders>::LdShdrTransformFragment(uint64_t a1, unsigned int a2, unsigned int a3, int a4, int a5, int a6, __int128 *a7)
{
  v25[1] = *MEMORY[0x29EDCA608];
  v9 = *(a7 + 2);
  v10 = *a7;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  *(a1 + 32) = v10;
  *(a1 + 48) = v9;
  *(a1 + 56) = 0;
  memset(v19, 0, sizeof(v19));
  v20 = 0;
  v21 = 0x3000000A5;
  v24 = 0;
  v23 = 0;
  v11 = a2 >> 2;
  if (a3 <= 1)
  {
    v12 = 1;
  }

  else
  {
    v12 = a3;
  }

  v13 = 4 * v12 * v11;
  if (a5 * a4 * v13 && (v14 = 1 << -__clz(a4 - 1), v15 = -__clz(a5 - 1), (v14 << v15) * v13))
  {
    v23 = AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::SpecLM::encodeImageBlockData(v11, v12, v14, 1 << (v15 & 0x1F));
    v24 = v16;
    v17 = 0x100000000;
  }

  else
  {
    v17 = 0;
  }

  if (a6)
  {
    ++v17;
  }

  v22 = v17 | ((a6 << 16) + 4128768) & 0xFFC00000;
  AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::AGX3EncodedInstr<AGXIotoInstruction_SPECLM_0>::AGX3EncodedInstr(v25, v19);
  *(a1 + 58) = v25[0];
  return a1;
}

uint64_t AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::SpecLM::encodeImageBlockData(uint64_t a1, uint64_t a2, int a3, int a4)
{
  v4 = 0;
  if (a3 > 63)
  {
    if (a3 <= 255)
    {
      if (a3 == 64)
      {
        v4 = 6;
      }

      else if (a3 == 128)
      {
        v4 = 7;
      }
    }

    else
    {
      switch(a3)
      {
        case 256:
          v4 = 8;
          break;
        case 512:
          v4 = 9;
          break;
        case 1024:
          v4 = 10;
          break;
      }
    }
  }

  else if (a3 <= 7)
  {
    if (a3 == 2)
    {
      v4 = 1;
    }

    else if (a3 == 4)
    {
      v4 = 2;
    }
  }

  else
  {
    switch(a3)
    {
      case 8:
        v4 = 3;
        break;
      case 16:
        v4 = 4;
        break;
      case 32:
        v4 = 5;
        break;
    }
  }

  v5 = 0;
  if (a4 > 63)
  {
    if (a4 <= 255)
    {
      if (a4 == 64)
      {
        v5 = 0x600000000;
      }

      else if (a4 == 128)
      {
        v5 = 0x700000000;
      }
    }

    else
    {
      switch(a4)
      {
        case 256:
          v5 = 0x800000000;
          break;
        case 512:
          v5 = 0x900000000;
          break;
        case 1024:
          v5 = 0xA00000000;
          break;
      }
    }
  }

  else if (a4 <= 7)
  {
    if (a4 == 2)
    {
      v5 = 0x100000000;
    }

    else if (a4 == 4)
    {
      v5 = 0x200000000;
    }
  }

  else
  {
    switch(a4)
    {
      case 8:
        v5 = 0x300000000;
        break;
      case 16:
        v5 = 0x400000000;
        break;
      case 32:
        v5 = 0x500000000;
        break;
    }
  }

  return v5 | v4;
}

unint64_t *AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::AGX3EncodedInstr<AGXIotoInstruction_SPECLM_0>::AGX3EncodedInstr(unint64_t *a1, uint64_t a2)
{
  v2 = *(a2 + 44);
  v3 = *(a2 + 48);
  v237 = *(a2 + 44) == 0;
  v4 = v3 == 10 && v2 == 0;
  v293 = v4;
  v5 = v3 == 9 && v2 == 0;
  v294 = v5;
  v6 = v3 == 9 && v2 == 1;
  v283 = v6;
  v7 = v3 == 8 && v2 == 0;
  v295 = v7;
  v8 = v3 == 8 && v2 == 1;
  v284 = v8;
  v9 = v3 == 8 && v2 == 2;
  v253 = v9;
  v10 = v3 == 7 && v2 == 0;
  v296 = v10;
  v11 = v3 == 7 && v2 == 1;
  v285 = v11;
  v12 = v3 == 7 && v2 == 2;
  v251 = v12;
  v13 = v3 == 7 && v2 == 3;
  v262 = v13;
  v14 = v3 == 6 && v2 == 0;
  v297 = v14;
  v15 = v3 == 6 && v2 == 1;
  v286 = v15;
  v16 = v3 == 6 && v2 == 2;
  v248 = v16;
  v17 = v3 == 6 && v2 == 3;
  v258 = v17;
  v18 = v3 == 6 && v2 == 4;
  v269 = v18;
  v19 = v3 == 5 && v2 == 0;
  v298 = v19;
  v20 = v3 == 5 && v2 == 1;
  v287 = v20;
  v21 = v3 == 5 && v2 == 2;
  v245 = v21;
  v22 = v3 == 5 && v2 == 3;
  v255 = v22;
  v23 = v3 == 5 && v2 == 4;
  v265 = v23;
  v24 = v3 == 5 && v2 == 5;
  v275 = v24;
  v25 = v3 == 4 && v2 == 0;
  v299 = v25;
  v26 = v3 == 4 && v2 == 1;
  v288 = v26;
  v27 = v3 == 4 && v2 == 2;
  v242 = v27;
  v28 = v3 == 4 && v2 == 3;
  v250 = v28;
  v29 = v3 == 4 && v2 == 4;
  v260 = v29;
  v30 = v3 == 4 && v2 == 5;
  v270 = v30;
  v31 = v3 == 4 && v2 == 6;
  v278 = v31;
  v32 = v3 == 3 && v2 == 0;
  v300 = v32;
  v33 = v3 == 3 && v2 == 1;
  v289 = v33;
  v34 = v3 == 3 && v2 == 2;
  v240 = v34;
  v35 = v3 == 3 && v2 == 3;
  v247 = v35;
  v36 = v3 == 3 && v2 == 4;
  v256 = v36;
  v37 = v3 == 3 && v2 == 5;
  v264 = v37;
  v38 = v3 == 3 && v2 == 6;
  v272 = v38;
  v39 = v3 == 3 && v2 == 7;
  v280 = v39;
  v40 = v3 == 2 && v2 == 0;
  v301 = v40;
  v41 = v3 == 2 && v2 == 1;
  v290 = v41;
  v42 = v3 == 2 && v2 == 2;
  v238 = v42;
  v43 = v3 == 2 && v2 == 3;
  v244 = v43;
  v44 = v3 == 2 && v2 == 4;
  v252 = v44;
  v45 = v3 == 2 && v2 == 5;
  v259 = v45;
  v46 = v3 == 2 && v2 == 6;
  v266 = v46;
  v47 = v3 == 2 && v2 == 7;
  v274 = v47;
  v48 = v3 == 2 && v2 == 8;
  v279 = v48;
  v49 = v2 == 9;
  v50 = v3 == 1 && v2 == 0;
  v316 = v50;
  v51 = v3 == 1 && v2 == 1;
  v291 = v51;
  v52 = v3 == 1 && v2 == 2;
  v281 = v52;
  v53 = v3 == 1 && v2 == 3;
  v241 = v53;
  v54 = v3 == 1 && v2 == 4;
  v246 = v54;
  v55 = v3 == 1 && v2 == 5;
  v254 = v55;
  v56 = v3 == 1 && v2 == 6;
  v261 = v56;
  v57 = v3 == 1 && v2 == 7;
  v268 = v57;
  v58 = v3 == 1 && v2 == 8;
  v273 = v58;
  v59 = v3 == 1 && v2 == 9;
  v277 = v59;
  v60 = v3 == 0;
  if (v3)
  {
    v61 = 0;
  }

  else
  {
    v61 = v2 == 1;
  }

  v292 = v61;
  v62 = v60 && v2 == 2;
  v282 = v62;
  v63 = v60 && v2 == 3;
  v239 = v63;
  v64 = v60 && v2 == 4;
  v243 = v64;
  v65 = v60 && v2 == 5;
  v249 = v65;
  v66 = v60 && v2 == 6;
  v257 = v66;
  v67 = v60 && v2 == 7;
  v263 = v67;
  v68 = v60 && v2 == 8;
  v267 = v68;
  if (!v60)
  {
    v49 = 0;
  }

  v271 = v49;
  v69 = v60 && v2 == 10;
  v276 = v69;
  v70 = *(a2 + 16);
  v71 = *(a2 + 20);
  v72 = v71 != 0;
  v73 = *(a2 + 4);
  v74 = *(a2 + 8);
  v75 = *(a2 + 12);
  v76 = v74 == 0;
  v77 = v71 | v70 | v75;
  v78 = v74 | v73;
  v79 = *(a2 + 16) != 0;
  v236 = (v77 | v74 | v73) == 0;
  v80 = v74 == 1;
  v81 = v74 == 2;
  if (v73)
  {
    v82 = 0;
  }

  else
  {
    v82 = v80;
  }

  if (v73)
  {
    v83 = 0;
  }

  else
  {
    v83 = v81;
  }

  v84 = v73 == 1 && v76;
  v85 = v73 == 1 && v80;
  v86 = v73 == 1 && v81;
  v87 = v73 == 2;
  v88 = v73 == 2 && v76;
  v89 = v87 && v80;
  v90 = v87 && v81;
  v225 = v82;
  v226 = v88;
  if (v77)
  {
    v91 = 0;
  }

  else
  {
    v91 = v88;
  }

  v235 = v91;
  v223 = v89;
  v224 = v85;
  if (v77)
  {
    v92 = 0;
  }

  else
  {
    v92 = v89;
  }

  v234 = v92;
  if (v77)
  {
    v93 = 0;
  }

  else
  {
    v93 = v82;
  }

  v233 = v93;
  if (v77)
  {
    v94 = 0;
  }

  else
  {
    v94 = v84;
  }

  if (v77)
  {
    v95 = 0;
  }

  else
  {
    v95 = v85;
  }

  v231 = v95;
  v232 = v94;
  v221 = v86;
  v222 = v83;
  if (v77)
  {
    v83 = 0;
  }

  v230 = v83;
  if (v77)
  {
    v96 = 0;
  }

  else
  {
    v96 = v86;
  }

  v229 = v96;
  v220 = v90;
  if (v77)
  {
    v97 = 0;
  }

  else
  {
    v97 = v90;
  }

  v227 = v84;
  v228 = v97;
  v98 = v71 != 1;
  v99 = v71 != 2;
  if (v70)
  {
    v100 = 1;
  }

  else
  {
    v100 = v98;
  }

  if (v70)
  {
    v101 = 1;
  }

  else
  {
    v101 = v99;
  }

  v102 = v70 != 1 || v72;
  v103 = v70 != 1 || v98;
  v104 = v70 != 1 || v99;
  if (v70 != 2)
  {
    v72 = 1;
    v98 = 1;
    v99 = 1;
  }

  if (v75)
  {
    v105 = 1;
  }

  else
  {
    v105 = v102;
  }

  if (v75)
  {
    v106 = 1;
  }

  else
  {
    v106 = v72;
  }

  if (v75)
  {
    v107 = 1;
  }

  else
  {
    v107 = v100;
  }

  if (v75)
  {
    v108 = 1;
  }

  else
  {
    v108 = v103;
  }

  v302 = v108;
  if (v75)
  {
    v109 = 1;
  }

  else
  {
    v109 = v98;
  }

  v306 = v109;
  if (v75)
  {
    v110 = 1;
  }

  else
  {
    v110 = v101;
  }

  v310 = v110;
  if (v75)
  {
    v111 = 1;
  }

  else
  {
    v111 = v104;
  }

  v314 = v111;
  if (v75)
  {
    v112 = 1;
  }

  else
  {
    v112 = v99;
  }

  v318 = v112;
  v113 = v75 != 1 || *(a2 + 16) != 0;
  if (v75 == 1)
  {
    v114 = v102;
  }

  else
  {
    v114 = 1;
  }

  v115 = v75 != 1 || v72;
  if (v75 == 1)
  {
    v116 = v100;
  }

  else
  {
    v116 = 1;
  }

  if (v75 == 1)
  {
    v117 = v103;
  }

  else
  {
    v117 = 1;
  }

  v118 = v75 != 1 || v98;
  if (v75 == 1)
  {
    v119 = v101;
  }

  else
  {
    v119 = 1;
  }

  v304 = v119;
  if (v75 == 1)
  {
    v120 = v104;
  }

  else
  {
    v120 = 1;
  }

  v308 = v120;
  v121 = v75 != 1 || v99;
  v312 = v121;
  if (v75 == 2)
  {
    v122 = v101;
  }

  else
  {
    v79 = 1;
    v102 = 1;
    v72 = 1;
    v100 = 1;
    v103 = 1;
    v98 = 1;
    v122 = 1;
  }

  if (v75 != 2)
  {
    v104 = 1;
    v99 = 1;
  }

  v123 = v78 == 0;
  v124 = !v113;
  v125 = !v79;
  v126 = v105 ^ 1;
  v127 = v114 ^ 1;
  v128 = v102 ^ 1;
  v129 = v106 ^ 1;
  v130 = v115 ^ 1;
  v131 = !v72;
  v132 = v107 ^ 1;
  v133 = v116 ^ 1;
  v134 = v100 ^ 1;
  v135 = v302 ^ 1;
  v136 = v117 ^ 1;
  v137 = v103 ^ 1;
  v138 = v118 ^ 1;
  v139 = !v98;
  v140 = v310 ^ 1;
  v141 = v304 ^ 1;
  v142 = v122 ^ 1;
  v143 = v314 ^ 1;
  v144 = v308 ^ 1;
  v145 = v104 ^ 1;
  v146 = v318 ^ 1;
  v147 = v312 ^ 1;
  v148 = !v99;
  v313 = v124;
  if (v123)
  {
    v149 = v124;
  }

  else
  {
    v149 = 0;
  }

  v315 = v149;
  v311 = v125;
  if (v123)
  {
    v150 = v125;
  }

  else
  {
    v150 = 0;
  }

  v309 = v150;
  if (v123)
  {
    v151 = v126;
  }

  else
  {
    v151 = 0;
  }

  if (v123)
  {
    v152 = v127;
  }

  else
  {
    v152 = 0;
  }

  v201 = v152;
  if (v123)
  {
    v153 = v128;
  }

  else
  {
    v153 = 0;
  }

  v202 = v153;
  if (v123)
  {
    v154 = v129;
  }

  else
  {
    v154 = 0;
  }

  v204 = v154;
  if (v123)
  {
    v155 = v130;
  }

  else
  {
    v155 = 0;
  }

  v206 = v155;
  if (v123)
  {
    v156 = v131;
  }

  else
  {
    v156 = 0;
  }

  v208 = v156;
  if (v123)
  {
    v157 = v132;
  }

  else
  {
    v157 = 0;
  }

  v210 = v157;
  if (v123)
  {
    v158 = v133;
  }

  else
  {
    v158 = 0;
  }

  v212 = v158;
  if (v123)
  {
    v159 = v134;
  }

  else
  {
    v159 = 0;
  }

  v214 = v159;
  v200 = v306 ^ 1;
  if (v123)
  {
    v160 = v302 ^ 1;
  }

  else
  {
    v160 = 0;
  }

  v216 = v160;
  if (v123)
  {
    v161 = v136;
  }

  else
  {
    v161 = 0;
  }

  v218 = v161;
  if (v123)
  {
    v162 = v103 ^ 1;
  }

  else
  {
    v162 = 0;
  }

  v303 = v162;
  if (v123)
  {
    v163 = v306 ^ 1;
  }

  else
  {
    v163 = 0;
  }

  v307 = v163;
  if (v123)
  {
    v164 = v138;
  }

  else
  {
    v164 = 0;
  }

  if (v123)
  {
    v165 = v139;
  }

  else
  {
    v165 = 0;
  }

  v211 = v165;
  if (v123)
  {
    v166 = v140;
  }

  else
  {
    v166 = 0;
  }

  v203 = v166;
  if (v123)
  {
    v167 = v304 ^ 1;
  }

  else
  {
    v167 = 0;
  }

  v205 = v167;
  if (v123)
  {
    v168 = v142;
  }

  else
  {
    v168 = 0;
  }

  v213 = v168;
  if (v123)
  {
    v169 = v143;
  }

  else
  {
    v169 = 0;
  }

  v207 = v169;
  if (v123)
  {
    v170 = v144;
  }

  else
  {
    v170 = 0;
  }

  v215 = v170;
  if (v123)
  {
    v171 = v145;
  }

  else
  {
    v171 = 0;
  }

  v209 = v171;
  if (v123)
  {
    v172 = v318 ^ 1;
  }

  else
  {
    v172 = 0;
  }

  v217 = v172;
  if (v123)
  {
    v173 = v147;
  }

  else
  {
    v173 = 0;
  }

  v219 = v173;
  v174 = v123 && !v99;
  v305 = v174;
  v319 = 3072;
  if (*(a2 + 32) != 3 || *(a2 + 28) != 165)
  {
    v175 = 0;
    v176 = 0;
    LOWORD(v177) = 7;
    goto LABEL_435;
  }

  v198 = v136;
  v199 = v137;
  v175 = 0;
  v176 = 0;
  LOWORD(v177) = 7;
  if (*(a2 + 44) == 0 || v316 || v301 || v300 || v299 || v298 || v297 || v296 || v295 || v294 || v293 || v292 || v291 || v290 || v289 || v288 || v287 || v286 || v285 || v284 || v283 || v282 || v281 || v238 || v240 || v242 || v245 || v248 || v251 || v253 || v239 || v241 || v244 || v247 || v250 || v255 || v258 || v262 || v243 || v246 || v252 || v256 || v260 || v265 || v269 || v249 || v254 || v259 || v264 || v270 || v275 || v257 || v261 || v266 || v272 || v278 || v263 || v268 || v274 || v280 || v267 || v273 || v279 || v271 || v277 || v276)
  {
    v178 = v126;
    v179 = v127;
    v180 = v128;
    v181 = v129;
    v182 = v130;
    v183 = v131;
    v184 = v132;
    v185 = v133;
    v186 = v134;
    v187 = *(a2 + 36);
    v188 = ((v187 >> 16) >> 8) & 0xF8;
    v319 = v188 | 0xC00;
    v177 = (8 * (v187 & 1)) | (32 * (v187 >> 16)) | (v187 >> 28) & 0x10 | 7;
    v189 = (*(a2 + 56) << 8) | ((*(a2 + 52) & 3) << 6) | *a2 & 1;
    v190 = *(a2 + 24);
    v175 = v189 | (v190 >> 5) & 6;
    if (v237)
    {
      goto LABEL_406;
    }

    if (v316)
    {
      v191 = v188 | 0x1C00;
LABEL_405:
      v319 = v191;
      goto LABEL_406;
    }

    if (v301)
    {
      v192 = 11264;
LABEL_402:
      v191 = v188 | v192;
      goto LABEL_405;
    }

    if (v300)
    {
      v191 = v188 | 0x3C00;
      goto LABEL_405;
    }

    if (v299)
    {
      v192 = 19456;
      goto LABEL_402;
    }

    if (v298)
    {
      v192 = 23552;
      goto LABEL_402;
    }

    if (v297)
    {
      v192 = 27648;
      goto LABEL_402;
    }

    if (v296)
    {
      v191 = v188 | 0x7C00;
      goto LABEL_405;
    }

    if (v295)
    {
      v192 = -29696;
      goto LABEL_402;
    }

    if (v294)
    {
      v192 = -25600;
      goto LABEL_402;
    }

    if (v293)
    {
      v192 = -21504;
      goto LABEL_402;
    }

    if (v292)
    {
      v192 = -17408;
      goto LABEL_402;
    }

    if (v291)
    {
      v192 = -13312;
      goto LABEL_402;
    }

    if (v290)
    {
      v192 = -9216;
      goto LABEL_402;
    }

    if (v289)
    {
      v192 = -5120;
      goto LABEL_402;
    }

    if (v288)
    {
      v191 = v188 | 0xFC00;
      goto LABEL_405;
    }

    if (v287)
    {
      v175 = v175 | 8;
      goto LABEL_406;
    }

    if (v286)
    {
      v195 = v188 | 0x1C00;
LABEL_526:
      v319 = v195;
      v175 = v175 | 8;
      goto LABEL_406;
    }

    if (v285)
    {
      v195 = v188 | 0x2C00;
      goto LABEL_526;
    }

    if (v284)
    {
      v195 = v188 | 0x3C00;
      goto LABEL_526;
    }

    if (v283)
    {
      v195 = v188 | 0x4C00;
      goto LABEL_526;
    }

    if (v282)
    {
      v195 = v188 | 0x5C00;
      goto LABEL_526;
    }

    if (v281)
    {
      v195 = v188 | 0x6C00;
      goto LABEL_526;
    }

    if (v238)
    {
      v195 = v188 | 0x7C00;
      goto LABEL_526;
    }

    if (v240)
    {
      v195 = v188 | 0x8C00;
      goto LABEL_526;
    }

    if (v242)
    {
      v195 = v188 | 0x9C00;
      goto LABEL_526;
    }

    if (v245)
    {
      v195 = v188 | 0xAC00;
      goto LABEL_526;
    }

    if (v248)
    {
      v195 = v188 | 0xBC00;
      goto LABEL_526;
    }

    if (v251)
    {
      v195 = v188 | 0xCC00;
      goto LABEL_526;
    }

    if (v253)
    {
      v195 = v188 | 0xDC00;
      goto LABEL_526;
    }

    if (v239)
    {
      v195 = v188 | 0xEC00;
      goto LABEL_526;
    }

    if (v241)
    {
      v195 = v188 | 0xFC00;
      goto LABEL_526;
    }

    if (v244)
    {
      v175 = v175 | 0x10;
      goto LABEL_406;
    }

    if (v247)
    {
      v196 = v188 | 0x1C00;
LABEL_591:
      v319 = v196;
      v175 = v175 | 0x10;
      goto LABEL_406;
    }

    if (v250)
    {
      v196 = v188 | 0x2C00;
      goto LABEL_591;
    }

    if (v255)
    {
      v196 = v188 | 0x3C00;
      goto LABEL_591;
    }

    if (v258)
    {
      v196 = v188 | 0x4C00;
      goto LABEL_591;
    }

    if (v262)
    {
      v196 = v188 | 0x5C00;
      goto LABEL_591;
    }

    if (v243)
    {
      v196 = v188 | 0x6C00;
      goto LABEL_591;
    }

    if (v246)
    {
      v196 = v188 | 0x7C00;
      goto LABEL_591;
    }

    if (v252)
    {
      v196 = v188 | 0x8C00;
      goto LABEL_591;
    }

    if (v256)
    {
      v196 = v188 | 0x9C00;
      goto LABEL_591;
    }

    if (v260)
    {
      v196 = v188 | 0xAC00;
      goto LABEL_591;
    }

    if (v265)
    {
      v196 = v188 | 0xBC00;
      goto LABEL_591;
    }

    if (v269)
    {
      v196 = v188 | 0xCC00;
      goto LABEL_591;
    }

    if (v249)
    {
      v196 = v188 | 0xDC00;
      goto LABEL_591;
    }

    if (v254)
    {
      v196 = v188 | 0xEC00;
      goto LABEL_591;
    }

    if (v259)
    {
      v196 = v188 | 0xFC00;
      goto LABEL_591;
    }

    if (v264)
    {
      v175 = v175 | 0x18;
      goto LABEL_406;
    }

    if (v270)
    {
      v197 = v188 | 0x1C00;
LABEL_656:
      v319 = v197;
      v175 = v175 | 0x18;
      goto LABEL_406;
    }

    if (v275)
    {
      v197 = v188 | 0x2C00;
      goto LABEL_656;
    }

    if (v257)
    {
      v197 = v188 | 0x3C00;
      goto LABEL_656;
    }

    if (v261)
    {
      v197 = v188 | 0x4C00;
      goto LABEL_656;
    }

    if (v266)
    {
      v197 = v188 | 0x5C00;
      goto LABEL_656;
    }

    if (v272)
    {
      v197 = v188 | 0x6C00;
      goto LABEL_656;
    }

    if (v278)
    {
      v197 = v188 | 0x7C00;
      goto LABEL_656;
    }

    if (v263)
    {
      v197 = v188 | 0x8C00;
      goto LABEL_656;
    }

    if (v268)
    {
      v197 = v188 | 0x9C00;
      goto LABEL_656;
    }

    if (v274)
    {
      v197 = v188 | 0xAC00;
      goto LABEL_656;
    }

    if (v280)
    {
      v197 = v188 | 0xBC00;
      goto LABEL_656;
    }

    if (v267)
    {
      v197 = v188 | 0xCC00;
      goto LABEL_656;
    }

    if (v273)
    {
      v197 = v188 | 0xDC00;
      goto LABEL_656;
    }

    if (v279)
    {
      v197 = v188 | 0xEC00;
      goto LABEL_656;
    }

    if (v271)
    {
      v197 = v188 | 0xFC00;
      goto LABEL_656;
    }

    if (!v277)
    {
      if (!v276)
      {
        goto LABEL_406;
      }

      v319 = v188 | 0x1C00;
    }

    v175 = v175 | 0x20;
LABEL_406:
    v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10);
    if (v236)
    {
      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10);
    }

    else if (v235)
    {
      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 4;
    }

    else if (v234)
    {
      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 8;
    }

    else if (v233)
    {
      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0xC;
    }

    else if (v232)
    {
      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x10;
    }

    else
    {
      if (v231)
      {
        v193 = 5;
      }

      else
      {
        if (v230)
        {
          v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x18;
          goto LABEL_435;
        }

        if (v229)
        {
          v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x1C;
          goto LABEL_435;
        }

        if (v228)
        {
          v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x20;
          goto LABEL_435;
        }

        if (v315)
        {
          v193 = 9;
        }

        else if ((v313 & v227) != 0)
        {
          v193 = 10;
        }

        else if ((v313 & v226) != 0)
        {
          v193 = 11;
        }

        else
        {
          if ((v313 & v225) != 0)
          {
            v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x30;
            goto LABEL_435;
          }

          if ((v313 & v224) != 0)
          {
            v193 = 13;
          }

          else
          {
            if ((v313 & v223) != 0)
            {
              v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x38;
              goto LABEL_435;
            }

            if ((v313 & v222) != 0)
            {
              v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x3C;
              goto LABEL_435;
            }

            if ((v313 & v221) != 0)
            {
              v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x40;
              goto LABEL_435;
            }

            if ((v313 & v220) != 0)
            {
              v193 = 17;
            }

            else if (v309)
            {
              v193 = 18;
            }

            else if ((v311 & v227) != 0)
            {
              v193 = 19;
            }

            else if ((v311 & v226) != 0)
            {
              v193 = 20;
            }

            else if ((v311 & v225) != 0)
            {
              v193 = 21;
            }

            else if ((v311 & v224) != 0)
            {
              v193 = 22;
            }

            else if ((v311 & v223) != 0)
            {
              v193 = 23;
            }

            else
            {
              if ((v311 & v222) != 0)
              {
                v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x60;
                goto LABEL_435;
              }

              if ((v311 & v221) != 0)
              {
                v193 = 25;
              }

              else if ((v311 & v220) != 0)
              {
                v193 = 26;
              }

              else if (v151)
              {
                v193 = 27;
              }

              else
              {
                if ((v178 & v227) != 0)
                {
                  v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x70;
                  goto LABEL_435;
                }

                if ((v178 & v226) != 0)
                {
                  v193 = 29;
                }

                else
                {
                  if ((v178 & v225) != 0)
                  {
                    v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x78;
                    goto LABEL_435;
                  }

                  if ((v178 & v224) != 0)
                  {
                    v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x7C;
                    goto LABEL_435;
                  }

                  if ((v178 & v223) != 0)
                  {
                    v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x80;
                    goto LABEL_435;
                  }

                  if ((v178 & v222) != 0)
                  {
                    v193 = 33;
                  }

                  else if ((v178 & v221) != 0)
                  {
                    v193 = 34;
                  }

                  else if ((v178 & v220) != 0)
                  {
                    v193 = 35;
                  }

                  else if (v201)
                  {
                    v193 = 36;
                  }

                  else if ((v179 & v227) != 0)
                  {
                    v193 = 37;
                  }

                  else if ((v179 & v226) != 0)
                  {
                    v193 = 38;
                  }

                  else if ((v179 & v225) != 0)
                  {
                    v193 = 39;
                  }

                  else if ((v179 & v224) != 0)
                  {
                    v193 = 40;
                  }

                  else if ((v179 & v223) != 0)
                  {
                    v193 = 41;
                  }

                  else if ((v179 & v222) != 0)
                  {
                    v193 = 42;
                  }

                  else if ((v179 & v221) != 0)
                  {
                    v193 = 43;
                  }

                  else if ((v179 & v220) != 0)
                  {
                    v193 = 44;
                  }

                  else if (v202)
                  {
                    v193 = 45;
                  }

                  else if ((v180 & v227) != 0)
                  {
                    v193 = 46;
                  }

                  else if ((v180 & v226) != 0)
                  {
                    v193 = 47;
                  }

                  else
                  {
                    if ((v180 & v225) != 0)
                    {
                      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0xC0;
                      goto LABEL_435;
                    }

                    if ((v180 & v224) != 0)
                    {
                      v193 = 49;
                    }

                    else if ((v180 & v223) != 0)
                    {
                      v193 = 50;
                    }

                    else if ((v180 & v222) != 0)
                    {
                      v193 = 51;
                    }

                    else if ((v180 & v221) != 0)
                    {
                      v193 = 52;
                    }

                    else if ((v180 & v220) != 0)
                    {
                      v193 = 53;
                    }

                    else if (v204)
                    {
                      v193 = 54;
                    }

                    else if ((v181 & v227) != 0)
                    {
                      v193 = 55;
                    }

                    else
                    {
                      if ((v181 & v226) != 0)
                      {
                        v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0xE0;
                        goto LABEL_435;
                      }

                      if ((v181 & v225) != 0)
                      {
                        v193 = 57;
                      }

                      else if ((v181 & v224) != 0)
                      {
                        v193 = 58;
                      }

                      else if ((v181 & v223) != 0)
                      {
                        v193 = 59;
                      }

                      else
                      {
                        if ((v181 & v222) != 0)
                        {
                          v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0xF0;
                          goto LABEL_435;
                        }

                        if ((v181 & v221) != 0)
                        {
                          v193 = 61;
                        }

                        else
                        {
                          if ((v181 & v220) != 0)
                          {
                            v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0xF8;
                            goto LABEL_435;
                          }

                          if (v206)
                          {
                            v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0xFC;
                            goto LABEL_435;
                          }

                          if ((v182 & v227) != 0)
                          {
                            v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x100;
                            goto LABEL_435;
                          }

                          if ((v182 & v226) != 0)
                          {
                            v193 = 65;
                          }

                          else if ((v182 & v225) != 0)
                          {
                            v193 = 66;
                          }

                          else if ((v182 & v224) != 0)
                          {
                            v193 = 67;
                          }

                          else if ((v182 & v223) != 0)
                          {
                            v193 = 68;
                          }

                          else if ((v182 & v222) != 0)
                          {
                            v193 = 69;
                          }

                          else if ((v182 & v221) != 0)
                          {
                            v193 = 70;
                          }

                          else if ((v182 & v220) != 0)
                          {
                            v193 = 71;
                          }

                          else if (v208)
                          {
                            v193 = 72;
                          }

                          else if ((v183 & v227) != 0)
                          {
                            v193 = 73;
                          }

                          else if ((v183 & v226) != 0)
                          {
                            v193 = 74;
                          }

                          else if ((v183 & v225) != 0)
                          {
                            v193 = 75;
                          }

                          else if ((v183 & v224) != 0)
                          {
                            v193 = 76;
                          }

                          else if ((v183 & v223) != 0)
                          {
                            v193 = 77;
                          }

                          else if ((v183 & v222) != 0)
                          {
                            v193 = 78;
                          }

                          else if ((v183 & v221) != 0)
                          {
                            v193 = 79;
                          }

                          else if ((v183 & v220) != 0)
                          {
                            v193 = 80;
                          }

                          else if (v210)
                          {
                            v193 = 81;
                          }

                          else if ((v184 & v227) != 0)
                          {
                            v193 = 82;
                          }

                          else if ((v184 & v226) != 0)
                          {
                            v193 = 83;
                          }

                          else if ((v184 & v225) != 0)
                          {
                            v193 = 84;
                          }

                          else if ((v184 & v224) != 0)
                          {
                            v193 = 85;
                          }

                          else if ((v184 & v223) != 0)
                          {
                            v193 = 86;
                          }

                          else if ((v184 & v222) != 0)
                          {
                            v193 = 87;
                          }

                          else if ((v184 & v221) != 0)
                          {
                            v193 = 88;
                          }

                          else if ((v184 & v220) != 0)
                          {
                            v193 = 89;
                          }

                          else if (v212)
                          {
                            v193 = 90;
                          }

                          else if ((v185 & v227) != 0)
                          {
                            v193 = 91;
                          }

                          else if ((v185 & v226) != 0)
                          {
                            v193 = 92;
                          }

                          else if ((v185 & v225) != 0)
                          {
                            v193 = 93;
                          }

                          else if ((v185 & v224) != 0)
                          {
                            v193 = 94;
                          }

                          else if ((v185 & v223) != 0)
                          {
                            v193 = 95;
                          }

                          else
                          {
                            if ((v185 & v222) != 0)
                            {
                              v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x180;
                              goto LABEL_435;
                            }

                            if ((v185 & v221) != 0)
                            {
                              v193 = 97;
                            }

                            else if ((v185 & v220) != 0)
                            {
                              v193 = 98;
                            }

                            else if (v214)
                            {
                              v193 = 99;
                            }

                            else if ((v186 & v227) != 0)
                            {
                              v193 = 100;
                            }

                            else if ((v186 & v226) != 0)
                            {
                              v193 = 101;
                            }

                            else if ((v186 & v225) != 0)
                            {
                              v193 = 102;
                            }

                            else if ((v186 & v224) != 0)
                            {
                              v193 = 103;
                            }

                            else if ((v186 & v223) != 0)
                            {
                              v193 = 104;
                            }

                            else if ((v186 & v222) != 0)
                            {
                              v193 = 105;
                            }

                            else if ((v186 & v221) != 0)
                            {
                              v193 = 106;
                            }

                            else if ((v186 & v220) != 0)
                            {
                              v193 = 107;
                            }

                            else if (v216)
                            {
                              v193 = 108;
                            }

                            else if ((v135 & v227) != 0)
                            {
                              v193 = 109;
                            }

                            else if ((v135 & v226) != 0)
                            {
                              v193 = 110;
                            }

                            else if ((v135 & v225) != 0)
                            {
                              v193 = 111;
                            }

                            else
                            {
                              if ((v135 & v224) != 0)
                              {
                                v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x1C0;
                                goto LABEL_435;
                              }

                              if ((v135 & v223) != 0)
                              {
                                v193 = 113;
                              }

                              else if ((v135 & v222) != 0)
                              {
                                v193 = 114;
                              }

                              else if ((v135 & v221) != 0)
                              {
                                v193 = 115;
                              }

                              else if ((v135 & v220) != 0)
                              {
                                v193 = 116;
                              }

                              else if (v218)
                              {
                                v193 = 117;
                              }

                              else if ((v198 & v227) != 0)
                              {
                                v193 = 118;
                              }

                              else if ((v198 & v226) != 0)
                              {
                                v193 = 119;
                              }

                              else
                              {
                                if ((v198 & v225) != 0)
                                {
                                  v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x1E0;
                                  goto LABEL_435;
                                }

                                if ((v198 & v224) != 0)
                                {
                                  v193 = 121;
                                }

                                else if ((v198 & v223) != 0)
                                {
                                  v193 = 122;
                                }

                                else if ((v198 & v222) != 0)
                                {
                                  v193 = 123;
                                }

                                else
                                {
                                  if ((v198 & v221) != 0)
                                  {
                                    v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x1F0;
                                    goto LABEL_435;
                                  }

                                  if ((v198 & v220) != 0)
                                  {
                                    v193 = 125;
                                  }

                                  else
                                  {
                                    if (v303)
                                    {
                                      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x1F8;
                                      goto LABEL_435;
                                    }

                                    if ((v199 & v227) != 0)
                                    {
                                      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x1FC;
                                      goto LABEL_435;
                                    }

                                    if ((v199 & v226) != 0)
                                    {
                                      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x200;
                                      goto LABEL_435;
                                    }

                                    if ((v199 & v225) != 0)
                                    {
                                      v193 = -127;
                                    }

                                    else if ((v199 & v224) != 0)
                                    {
                                      v193 = -126;
                                    }

                                    else if ((v199 & v223) != 0)
                                    {
                                      v193 = -125;
                                    }

                                    else if ((v199 & v222) != 0)
                                    {
                                      v193 = -124;
                                    }

                                    else if ((v199 & v221) != 0)
                                    {
                                      v193 = -123;
                                    }

                                    else if ((v199 & v220) != 0)
                                    {
                                      v193 = -122;
                                    }

                                    else if (v307)
                                    {
                                      v193 = -121;
                                    }

                                    else if ((v200 & v227) != 0)
                                    {
                                      v193 = -120;
                                    }

                                    else if ((v200 & v226) != 0)
                                    {
                                      v193 = -119;
                                    }

                                    else if ((v200 & v225) != 0)
                                    {
                                      v193 = -118;
                                    }

                                    else if ((v200 & v224) != 0)
                                    {
                                      v193 = -117;
                                    }

                                    else if ((v200 & v223) != 0)
                                    {
                                      v193 = -116;
                                    }

                                    else if ((v200 & v222) != 0)
                                    {
                                      v193 = -115;
                                    }

                                    else if ((v200 & v221) != 0)
                                    {
                                      v193 = -114;
                                    }

                                    else if ((v200 & v220) != 0)
                                    {
                                      v193 = -113;
                                    }

                                    else if (v164)
                                    {
                                      v193 = -112;
                                    }

                                    else if ((v138 & v227) != 0)
                                    {
                                      v193 = -111;
                                    }

                                    else if ((v138 & v226) != 0)
                                    {
                                      v193 = -110;
                                    }

                                    else if ((v138 & v225) != 0)
                                    {
                                      v193 = -109;
                                    }

                                    else if ((v138 & v224) != 0)
                                    {
                                      v193 = -108;
                                    }

                                    else if ((v138 & v223) != 0)
                                    {
                                      v193 = -107;
                                    }

                                    else if ((v138 & v222) != 0)
                                    {
                                      v193 = -106;
                                    }

                                    else if ((v138 & v221) != 0)
                                    {
                                      v193 = -105;
                                    }

                                    else if ((v138 & v220) != 0)
                                    {
                                      v193 = -104;
                                    }

                                    else if (v211)
                                    {
                                      v193 = -103;
                                    }

                                    else if ((v139 & v227) != 0)
                                    {
                                      v193 = -102;
                                    }

                                    else if ((v139 & v226) != 0)
                                    {
                                      v193 = -101;
                                    }

                                    else if ((v139 & v225) != 0)
                                    {
                                      v193 = -100;
                                    }

                                    else if ((v139 & v224) != 0)
                                    {
                                      v193 = -99;
                                    }

                                    else if ((v139 & v223) != 0)
                                    {
                                      v193 = -98;
                                    }

                                    else if ((v139 & v222) != 0)
                                    {
                                      v193 = -97;
                                    }

                                    else if ((v139 & v221) != 0)
                                    {
                                      v193 = -96;
                                    }

                                    else if ((v139 & v220) != 0)
                                    {
                                      v193 = -95;
                                    }

                                    else if (v203)
                                    {
                                      v193 = -94;
                                    }

                                    else if ((v140 & v227) != 0)
                                    {
                                      v193 = -93;
                                    }

                                    else if ((v140 & v226) != 0)
                                    {
                                      v193 = -92;
                                    }

                                    else if ((v140 & v225) != 0)
                                    {
                                      v193 = -91;
                                    }

                                    else if ((v140 & v224) != 0)
                                    {
                                      v193 = -90;
                                    }

                                    else if ((v140 & v223) != 0)
                                    {
                                      v193 = -89;
                                    }

                                    else if ((v140 & v222) != 0)
                                    {
                                      v193 = -88;
                                    }

                                    else if ((v140 & v221) != 0)
                                    {
                                      v193 = -87;
                                    }

                                    else if ((v140 & v220) != 0)
                                    {
                                      v193 = -86;
                                    }

                                    else if (v205)
                                    {
                                      v193 = -85;
                                    }

                                    else if ((v141 & v227) != 0)
                                    {
                                      v193 = -84;
                                    }

                                    else if ((v141 & v226) != 0)
                                    {
                                      v193 = -83;
                                    }

                                    else if ((v141 & v225) != 0)
                                    {
                                      v193 = -82;
                                    }

                                    else if ((v141 & v224) != 0)
                                    {
                                      v193 = -81;
                                    }

                                    else if ((v141 & v223) != 0)
                                    {
                                      v193 = -80;
                                    }

                                    else if ((v141 & v222) != 0)
                                    {
                                      v193 = -79;
                                    }

                                    else if ((v141 & v221) != 0)
                                    {
                                      v193 = -78;
                                    }

                                    else if ((v141 & v220) != 0)
                                    {
                                      v193 = -77;
                                    }

                                    else if (v213)
                                    {
                                      v193 = -76;
                                    }

                                    else if ((v142 & v227) != 0)
                                    {
                                      v193 = -75;
                                    }

                                    else if ((v142 & v226) != 0)
                                    {
                                      v193 = -74;
                                    }

                                    else if ((v142 & v225) != 0)
                                    {
                                      v193 = -73;
                                    }

                                    else if ((v142 & v224) != 0)
                                    {
                                      v193 = -72;
                                    }

                                    else if ((v142 & v223) != 0)
                                    {
                                      v193 = -71;
                                    }

                                    else if ((v142 & v222) != 0)
                                    {
                                      v193 = -70;
                                    }

                                    else if ((v142 & v221) != 0)
                                    {
                                      v193 = -69;
                                    }

                                    else if ((v142 & v220) != 0)
                                    {
                                      v193 = -68;
                                    }

                                    else if (v207)
                                    {
                                      v193 = -67;
                                    }

                                    else if ((v143 & v227) != 0)
                                    {
                                      v193 = -66;
                                    }

                                    else if ((v143 & v226) != 0)
                                    {
                                      v193 = -65;
                                    }

                                    else
                                    {
                                      if ((v143 & v225) != 0)
                                      {
                                        v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x300;
                                        goto LABEL_435;
                                      }

                                      if ((v143 & v224) != 0)
                                      {
                                        v193 = -63;
                                      }

                                      else if ((v143 & v223) != 0)
                                      {
                                        v193 = -62;
                                      }

                                      else if ((v143 & v222) != 0)
                                      {
                                        v193 = -61;
                                      }

                                      else if ((v143 & v221) != 0)
                                      {
                                        v193 = -60;
                                      }

                                      else if ((v143 & v220) != 0)
                                      {
                                        v193 = -59;
                                      }

                                      else if (v215)
                                      {
                                        v193 = -58;
                                      }

                                      else if ((v144 & v227) != 0)
                                      {
                                        v193 = -57;
                                      }

                                      else if ((v144 & v226) != 0)
                                      {
                                        v193 = -56;
                                      }

                                      else if ((v144 & v225) != 0)
                                      {
                                        v193 = -55;
                                      }

                                      else if ((v144 & v224) != 0)
                                      {
                                        v193 = -54;
                                      }

                                      else if ((v144 & v223) != 0)
                                      {
                                        v193 = -53;
                                      }

                                      else if ((v144 & v222) != 0)
                                      {
                                        v193 = -52;
                                      }

                                      else if ((v144 & v221) != 0)
                                      {
                                        v193 = -51;
                                      }

                                      else if ((v144 & v220) != 0)
                                      {
                                        v193 = -50;
                                      }

                                      else if (v209)
                                      {
                                        v193 = -49;
                                      }

                                      else if ((v145 & v227) != 0)
                                      {
                                        v193 = -48;
                                      }

                                      else if ((v145 & v226) != 0)
                                      {
                                        v193 = -47;
                                      }

                                      else if ((v145 & v225) != 0)
                                      {
                                        v193 = -46;
                                      }

                                      else if ((v145 & v224) != 0)
                                      {
                                        v193 = -45;
                                      }

                                      else if ((v145 & v223) != 0)
                                      {
                                        v193 = -44;
                                      }

                                      else if ((v145 & v222) != 0)
                                      {
                                        v193 = -43;
                                      }

                                      else if ((v145 & v221) != 0)
                                      {
                                        v193 = -42;
                                      }

                                      else if ((v145 & v220) != 0)
                                      {
                                        v193 = -41;
                                      }

                                      else if (v217)
                                      {
                                        v193 = -40;
                                      }

                                      else if ((v146 & v227) != 0)
                                      {
                                        v193 = -39;
                                      }

                                      else if ((v146 & v226) != 0)
                                      {
                                        v193 = -38;
                                      }

                                      else if ((v146 & v225) != 0)
                                      {
                                        v193 = -37;
                                      }

                                      else if ((v146 & v224) != 0)
                                      {
                                        v193 = -36;
                                      }

                                      else if ((v146 & v223) != 0)
                                      {
                                        v193 = -35;
                                      }

                                      else if ((v146 & v222) != 0)
                                      {
                                        v193 = -34;
                                      }

                                      else if ((v146 & v221) != 0)
                                      {
                                        v193 = -33;
                                      }

                                      else
                                      {
                                        if ((v146 & v220) != 0)
                                        {
                                          v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x380;
                                          goto LABEL_435;
                                        }

                                        if (v219)
                                        {
                                          v193 = -31;
                                        }

                                        else if ((v147 & v227) != 0)
                                        {
                                          v193 = -30;
                                        }

                                        else if ((v147 & v226) != 0)
                                        {
                                          v193 = -29;
                                        }

                                        else if ((v147 & v225) != 0)
                                        {
                                          v193 = -28;
                                        }

                                        else if ((v147 & v224) != 0)
                                        {
                                          v193 = -27;
                                        }

                                        else if ((v147 & v223) != 0)
                                        {
                                          v193 = -26;
                                        }

                                        else if ((v147 & v222) != 0)
                                        {
                                          v193 = -25;
                                        }

                                        else if ((v147 & v221) != 0)
                                        {
                                          v193 = -24;
                                        }

                                        else if ((v147 & v220) != 0)
                                        {
                                          v193 = -23;
                                        }

                                        else if (v305)
                                        {
                                          v193 = -22;
                                        }

                                        else if ((v148 & v227) != 0)
                                        {
                                          v193 = -21;
                                        }

                                        else if ((v148 & v226) != 0)
                                        {
                                          v193 = -20;
                                        }

                                        else if ((v148 & v225) != 0)
                                        {
                                          v193 = -19;
                                        }

                                        else if ((v148 & v224) != 0)
                                        {
                                          v193 = -18;
                                        }

                                        else if ((v148 & v223) != 0)
                                        {
                                          v193 = -17;
                                        }

                                        else
                                        {
                                          if ((v148 & v222) != 0)
                                          {
                                            v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | 0x3C0;
                                            goto LABEL_435;
                                          }

                                          if ((v148 & v221) != 0)
                                          {
                                            v193 = -15;
                                          }

                                          else
                                          {
                                            if ((v148 & v220) == 0)
                                            {
                                              goto LABEL_435;
                                            }

                                            v193 = -14;
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }

      v176 = ((v190 >> 5) << 15) | (((v190 >> 4) & 1) << 14) | (((v190 >> 3) & 1) << 13) | (((v190 >> 2) & 1) << 12) | (((v190 >> 1) & 1) << 11) | ((v190 & 1) << 10) | (4 * v193);
    }
  }

LABEL_435:
  result = a1;
  *a1 = (v175 << 48) | (v176 << 32) | (v319 << 16) | v177;
  return result;
}

double AGX::BlitUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::emitFragmentProgramVariantArguments(uint64_t a1, char ***a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6, _DWORD *a7)
{
  v151 = *MEMORY[0x29EDCA608];
  v12 = (*(*(a4 + 1784) + 8) - **(a4 + 1784)) + 63;
  v13 = a3[30] + v12;
  if (v13 <= a3[29])
  {
LABEL_2:
    a3[31] = v13;
    goto LABEL_3;
  }

  v114 = a7;
  v115 = AGX::DataBufferAllocator<44ul>::growNoInline(a3, 6, 0);
  a7 = v114;
  if (v115)
  {
    v13 = a3[30] + v12;
    if (v13 > a3[29])
    {
      goto LABEL_105;
    }

    goto LABEL_2;
  }

LABEL_3:
  v14 = *(a4 + 16) + 31;
  v15 = a3[22] + v14;
  if (v15 <= a3[21])
  {
LABEL_4:
    a3[23] = v15;
    goto LABEL_5;
  }

  v116 = a7;
  v117 = AGX::DataBufferAllocator<44ul>::growNoInline(a3, 4, 0);
  a7 = v116;
  if (v117)
  {
    v15 = a3[22] + v14;
    if (v15 <= a3[21])
    {
      goto LABEL_4;
    }

LABEL_105:
    abort();
  }

LABEL_5:
  v16 = a7[1235];
  v17 = a7[895];
  v18 = a7[1233];
  v19 = a7[1234];
  v20 = a7[1536];
  LODWORD(v146) = 0;
  BYTE4(v146) = 0;
  *(&v146 + 1) = 0;
  *&v147 = 0;
  LdShdrTransformFragment<AGX::HAL300::Encoders>::LdShdrTransformFragment(v138, v16, v17, v18, v19, v20, &v146);
  BYTE9(v139) = 1;
  v21 = *(a4 + 16);
  if (v21)
  {
    v22 = (a3[22] + 31) & 0xFFFFFFFFFFFFFFE0;
    v134 = v22 + a3[24];
    a3[22] = v22 + v21;
  }

  else
  {
    v134 = 0;
    v22 = 0;
  }

  v132 = a2;
  v23 = ((a3[30] + 63) & 0xFFFFFFFFFFFFFFC0);
  v24 = a3[32];
  a3[30] = &v23[*(*(a4 + 1784) + 8) - **(a4 + 1784)];
  v144 = v139;
  v145 = v140;
  v142 = v138[1];
  v143 = v138[2];
  v141 = v138[0];
  v25 = *(a4 + 520);
  v26 = *(a4 + 512);
  v28 = v25 - v26;
  v27 = v25 == v26;
  v29 = *(a4 + 408);
  v30 = v29 & 1;
  if (v27)
  {
    v30 = 0;
  }

  if (!v21)
  {
    goto LABEL_92;
  }

  v131 = v24;
  v129 = a1;
  v31 = *(a4 + 712);
  v32 = *(a4 + 128);
  v123 = *(a4 + 264);
  v122 = *(a4 + 256);
  v33 = *(a4 + 48);
  v34 = *(a4 + 52);
  v127 = *(a4 + 416);
  v35 = *(a4 + 420);
  v36 = *(a4 + 744);
  v37 = *(a4 + 745);
  if (*(a4 + 744))
  {
    *(a5 + 104) = vaddw_u32(vdupq_n_s64(v134), *(a4 + 20));
  }

  v128 = v28;
  v124 = v30;
  v125 = v29;
  if (v37)
  {
    *(a5 + 120) = v134 + *(a4 + 40);
  }

  v38 = 0;
  v130 = v33;
  if (v33 != v31)
  {
    v126 = v35;
    v135 = a6;
    v136 = a5;
    v39 = &unk_2A23F68F0;
    *&v146 = &unk_2A23F68F0;
    *(&v146 + 1) = &v135;
    *&v147 = &v136;
    *(&v147 + 1) = &v146;
    v41 = *(a4 + 80);
    v40 = *(a4 + 88);
    v120 = v32;
    v121 = v34;
    if (v41 == v40)
    {
      v48 = &v146;
      v35 = v126;
    }

    else
    {
      v42 = 0;
      do
      {
        v137 = *v41;
        if (!*(&v147 + 1))
        {
LABEL_110:
          std::__throw_bad_function_call[abi:nn200100]();
        }

        v44 = (*(**(&v147 + 1) + 48))(*(&v147 + 1), &v137);
        v45 = *(v41 + 1);
        v46 = *(v41 + 2);
        if (v45 == v46)
        {
          v43 = v42;
        }

        else
        {
          do
          {
            v47 = *v45++;
            v43 = (v42 + 1);
            *(v22 + 8 * v42) = *(v44 + 8 * v47);
            LODWORD(v42) = v42 + 1;
          }

          while (v45 != v46);
        }

        v41 += 8;
        v42 = v43;
      }

      while (v41 != v40);
      v48 = *(&v147 + 1);
      if (*(&v147 + 1) != &v146)
      {
        v35 = v126;
        if (*(&v147 + 1))
        {
          (*(**(&v147 + 1) + 40))(*(&v147 + 1));
        }

LABEL_30:
        v33 = v130;
        v34 = v121;
        if (*(a4 + 552))
        {
          v49 = *(a4 + 536);
          if (v49 != (a4 + 544))
          {
            do
            {
              *(v22 + 4 * *(v49 + 7)) |= *(v49 + 8);
              v59 = v49[1];
              if (v59)
              {
                do
                {
                  v60 = v59;
                  v59 = *v59;
                }

                while (v59);
              }

              else
              {
                do
                {
                  v60 = v49[2];
                  v27 = *v60 == v49;
                  v49 = v60;
                }

                while (!v27);
              }

              v49 = v60;
            }

            while (v60 != (a4 + 544));
          }
        }

        v50 = (v120 + 3) & 0xFFFFFFFC;
        if (v36)
        {
          v51 = *(a4 + 704);
          if (v51 >= 4)
          {
            v52 = v51 >> 2;
            v53 = *(a4 + 144);
            v54 = (v22 + 8 * v50);
            do
            {
              v55 = *v53;
              v53 += 4;
              v56 = (a5 + 8 * v55);
              v57 = v56[1];
              *v54 = *v56;
              v54[1] = v57;
              v54 += 2;
              --v52;
            }

            while (v52);
          }

          v50 += v51;
          v58 = v130 - v31;
          if (!v37)
          {
            goto LABEL_50;
          }
        }

        else
        {
          v51 = 0;
          v58 = v130 - v31;
          if (!v37)
          {
LABEL_50:
            v38 = 8 * v58;
            goto LABEL_51;
          }
        }

        v61 = *(a4 + 708);
        v62 = (v22 + 8 * v50);
        if (*(a4 + 1584) == 1)
        {
          if (v61)
          {
            v118 = (*(a4 + 144) + 4 * v51);
            do
            {
              v119 = *v118++;
              *v62++ = *(a5 + 8 * v119);
              --v61;
            }

            while (v61);
          }
        }

        else if (v61 >= 4)
        {
          v63 = v61 >> 2;
          v64 = (*(a4 + 144) + 4 * v51);
          do
          {
            v65 = *v64;
            v64 += 4;
            *v62 = *(a5 + 8 * v65);
            v62 += 4;
            --v63;
          }

          while (v63);
        }

        goto LABEL_50;
      }

      v39 = **(&v147 + 1);
      v35 = v126;
    }

    v39[4](v48);
    goto LABEL_30;
  }

LABEL_51:
  if (v31)
  {
    if (v31 >= 4)
    {
      v66 = *(a4 + 2312);
      v67 = v31 >> 2;
      v68 = (v22 + v38);
      do
      {
        v69 = *v66;
        v66 += 4;
        *v68 = v69;
        v68 += 4;
        --v67;
      }

      while (v67);
    }

    v38 += 8 * v31;
  }

  if (!v34)
  {
    a1 = v129;
    v24 = v131;
    goto LABEL_73;
  }

  *(a6 + 56) = v134 + v38 + 8;
  v135 = a6;
  v136 = a5;
  v70 = &unk_2A23F6938;
  *&v146 = &unk_2A23F6938;
  *(&v146 + 1) = &v135;
  *&v147 = &v136;
  *(&v147 + 1) = &v146;
  v71 = *(a4 + 192);
  v72 = *(a4 + 200);
  v73 = v34;
  if (v71 == v72)
  {
    v80 = &v146;
    a1 = v129;
    v24 = v131;
  }

  else
  {
    v74 = 0;
    do
    {
      v137 = *v71;
      if (!*(&v147 + 1))
      {
        goto LABEL_110;
      }

      v76 = (*(**(&v147 + 1) + 48))(*(&v147 + 1), &v137);
      v77 = *(v71 + 1);
      v78 = *(v71 + 2);
      if (v77 == v78)
      {
        v75 = v74;
      }

      else
      {
        do
        {
          v79 = *v77++;
          v75 = (v74 + 1);
          *(v22 + v38 + 4 * v74) = *(v76 + 4 * v79);
          LODWORD(v74) = v74 + 1;
        }

        while (v77 != v78);
      }

      v71 += 8;
      v74 = v75;
    }

    while (v71 != v72);
    v80 = *(&v147 + 1);
    if (*(&v147 + 1) != &v146)
    {
      a1 = v129;
      v24 = v131;
      if (*(&v147 + 1))
      {
        (*(**(&v147 + 1) + 40))(*(&v147 + 1));
      }

      goto LABEL_72;
    }

    v70 = **(&v147 + 1);
    a1 = v129;
    v24 = v131;
  }

  v70[4](v80);
LABEL_72:
  v38 += 4 * v73;
  v33 = v130;
LABEL_73:
  if ((v128 >> 2))
  {
    v81 = v33 + ((v123 - v122) >> 2);
    v82 = 4 * (v124 + v125);
    v83 = (v22 + (v82 + 8 * v81));
    v84 = *(a4 + 512);
    v85 = v128 >> 2;
    do
    {
      v86 = *v84++;
      *v83++ = *(a5 + 8 * v86);
      LODWORD(v85) = v85 - 1;
    }

    while (v85);
    v38 = v82 + 8 * (v81 + (v128 >> 2));
  }

  if (v35 != -v127)
  {
    v87 = (v22 + v38);
    v88 = 4 * *(a4 + 416);
    memcpy(v87, (a5 + 4 * *(a4 + 412)), v88);
    v135 = a6;
    v136 = a5;
    v89 = &unk_2A23F6938;
    *&v146 = &unk_2A23F6938;
    *(&v146 + 1) = &v135;
    *&v147 = &v136;
    *(&v147 + 1) = &v146;
    v90 = *(a4 + 448);
    v91 = *(a4 + 456);
    if (v90 == v91)
    {
      v99 = &v146;
    }

    else
    {
      v92 = 0;
      v93 = &v87[v88];
      do
      {
        v137 = *v90;
        if (!*(&v147 + 1))
        {
          goto LABEL_110;
        }

        v95 = (*(**(&v147 + 1) + 48))(*(&v147 + 1), &v137);
        v96 = *(v90 + 1);
        v97 = *(v90 + 2);
        if (v96 == v97)
        {
          v94 = v92;
        }

        else
        {
          do
          {
            v98 = *v96++;
            v94 = (v92 + 1);
            *&v93[4 * v92] = *(v95 + 4 * v98);
            LODWORD(v92) = v92 + 1;
          }

          while (v96 != v97);
        }

        v90 += 8;
        v92 = v94;
      }

      while (v90 != v91);
      v99 = *(&v147 + 1);
      if (*(&v147 + 1) != &v146)
      {
        v24 = v131;
        if (*(&v147 + 1))
        {
          (*(**(&v147 + 1) + 40))(*(&v147 + 1));
        }

        goto LABEL_92;
      }

      v89 = **(&v147 + 1);
    }

    v24 = v131;
    v89[4](v99);
  }

LABEL_92:
  v100 = &v23[v24];
  v136 = 0;
  v148 = v143;
  v149 = v144;
  v150 = v145;
  v146 = v141;
  v147 = v142;
  AGX::ESLStateLoadEncoderGen2<AGX::HAL300::Classes,AGX::HAL300::Encoders>::emitUscStateLoad<LdShdrTransformFragment<AGX::HAL300::Encoders>>(*(a4 + 1784), v23, &v136, v134, a5, a6, &v146);
  v101 = *v132;
  if (*v132)
  {
    v102 = v136;
    v103 = *(a4 + 2192);
    LODWORD(v104) = *(v101 + 2);
    v105 = v104 + 1;
    if (*(v101 + 3) >= (v104 + 1))
    {
      v108 = *v101;
    }

    else
    {
      v106 = -__clz(v104);
      v107 = malloc_type_malloc(40 << (v106 & 0x1F), 0x10800400D7C94D2uLL);
      v108 = v107;
      v109 = 1 << v106;
      v104 = *(v101 + 2);
      if (v104)
      {
        memcpy(v107, *v101, 40 * v104);
        free(*v101);
        LODWORD(v104) = *(v101 + 2);
      }

      *(v101 + 3) = v109;
      *v101 = v108;
    }

    v110 = &v108[40 * v104];
    *v110 = 14;
    *(v110 + 1) = v100;
    *(v110 + 2) = v23;
    *(v110 + 3) = (v102 - v23);
    *(v110 + 8) = v103;
    *(v101 + 2) = v105;
  }

  v111 = *(a4 + 3132);
  v112 = (v100 >> 16) & 0xFFC00000 | *(a4 + 3136) & 0x3FFFFF;
  result = *(a4 + 3124);
  *a1 = result;
  *(a1 + 8) = v111;
  *(a1 + 12) = v112;
  *(a1 + 16) = v100 >> 6;
  return result;
}

__n128 std::__function::__func<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned int,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitFragmentArgumentTable,AGX::BlitFragmentDriverTable>(unsigned int *,AGX::HAL300::BlitFragmentArgumentTable *,AGX::BlitFragmentDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1},std::allocator<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned int,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitFragmentArgumentTable,AGX::BlitFragmentDriverTable>(unsigned int *,AGX::HAL300::BlitFragmentArgumentTable *,AGX::BlitFragmentDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1}>,char const* ()(DriverArgumentOffset::SectionType)>::__clone(uint64_t a1, uint64_t a2)
{
  *a2 = &unk_2A23F6938;
  result = *(a1 + 8);
  *(a2 + 8) = result;
  return result;
}

__n128 std::__function::__func<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned long long,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitFragmentArgumentTable,AGX::BlitFragmentDriverTable>(unsigned long long *,AGX::HAL300::BlitFragmentArgumentTable *,AGX::BlitFragmentDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1},std::allocator<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned long long,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitFragmentArgumentTable,AGX::BlitFragmentDriverTable>(unsigned long long *,AGX::HAL300::BlitFragmentArgumentTable *,AGX::BlitFragmentDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1}>,char const* ()(DriverArgumentOffset::SectionType)>::__clone(uint64_t a1, uint64_t a2)
{
  *a2 = &unk_2A23F68F0;
  result = *(a1 + 8);
  *(a2 + 8) = result;
  return result;
}

__n128 std::__function::__func<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned int,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitVertexArgumentTable,AGX::BlitVertexDriverTable>(unsigned int *,AGX::HAL300::BlitVertexArgumentTable *,AGX::BlitVertexDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1},std::allocator<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned int,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitVertexArgumentTable,AGX::BlitVertexDriverTable>(unsigned int *,AGX::HAL300::BlitVertexArgumentTable *,AGX::BlitVertexDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1}>,char const* ()(DriverArgumentOffset::SectionType)>::__clone(uint64_t a1, uint64_t a2)
{
  *a2 = &unk_2A23F69C8;
  result = *(a1 + 8);
  *(a2 + 8) = result;
  return result;
}

__n128 std::__function::__func<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned long long,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitVertexArgumentTable,AGX::BlitVertexDriverTable>(unsigned long long *,AGX::HAL300::BlitVertexArgumentTable *,AGX::BlitVertexDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1},std::allocator<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned long long,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitVertexArgumentTable,AGX::BlitVertexDriverTable>(unsigned long long *,AGX::HAL300::BlitVertexArgumentTable *,AGX::BlitVertexDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1}>,char const* ()(DriverArgumentOffset::SectionType)>::__clone(uint64_t a1, uint64_t a2)
{
  *a2 = &unk_2A23F6980;
  result = *(a1 + 8);
  *(a2 + 8) = result;
  return result;
}

void *AGX::BlitUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::reserveComputeProgramVariantArguments(void *result, uint64_t a2)
{
  v2 = (*(*(a2 + 1784) + 8) - **(a2 + 1784)) + 63;
  v3 = result[27];
  v4 = v3 + v2;
  if ((v3 + v2) <= result[25])
  {
LABEL_2:
    result[27] = v4;
    goto LABEL_3;
  }

  v9 = result[26];
  v10 = result;
  v11 = a2;
  v12 = AGX::DataBufferAllocator<44ul>::growNoInline(result, 5, 0);
  a2 = v11;
  v13 = v12;
  result = v10;
  if (v13)
  {
    v4 = v10[26] + v3 - v9 + v2;
    if (v4 > v10[25])
    {
      goto LABEL_17;
    }

    goto LABEL_2;
  }

LABEL_3:
  v5 = *(a2 + 16) + 31;
  v6 = result[19];
  v7 = v6 + v5;
  if ((v6 + v5) <= result[17])
  {
LABEL_4:
    result[19] = v7;
    goto LABEL_5;
  }

  v14 = result[18];
  v15 = result;
  v16 = AGX::DataBufferAllocator<44ul>::growNoInline(result, 3, 0);
  result = v15;
  if (v16)
  {
    v7 = v15[18] + v6 - v14 + v5;
    if (v7 > v15[17])
    {
      goto LABEL_17;
    }

    goto LABEL_4;
  }

LABEL_5:
  v8 = result[95];
  if ((v8 + 40) <= result[93])
  {
    result[95] = v8 + 40;
    return result;
  }

  v17 = result[94];
  v18 = result;
  result = AGX::DataBufferAllocator<44ul>::growNoInline(result, 22, 0);
  if (result)
  {
    v19 = v18[94] + v8 - v17 + 40;
    if (v19 <= v18[93])
    {
      v18[95] = v19;
      result = AGX::DataBufferAllocator<44ul>::getGPUAddress(v18, 22);
      *v17 = __ROR8__(result, 32) & 0xFFFFFFFF0000FFFFLL | 0x20000000;
      return result;
    }

LABEL_17:
    abort();
  }

  return result;
}

uint64_t AGX::BlitUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::emitComputeProgramVariantArguments(char ***a1, void *a2, uint64_t a3, uint64x2_t *a4, uint64_t a5, int a6, int a7, int a8, _DWORD *a9)
{
  v171[1] = *MEMORY[0x29EDCA608];
  v13 = *(a3 + 3212) + 3;
  v14 = v13 & 0xFFFFFFFC;
  v15 = __clz(a7 - 1);
  v16 = __clz(a8 - 1);
  if ((v13 & 0xFFFFFFFC) * a7 * a8)
  {
    v17 = (v13 & 0xFFFFFFFC) * (1 << -v15 << -v16);
  }

  else
  {
    v17 = 0;
  }

  *(a5 + 36) = v17;
  v18 = (*(*(a3 + 1784) + 8) - **(a3 + 1784)) + 63;
  v19 = a2[26] + v18;
  v162 = a2;
  if (v19 <= a2[25])
  {
LABEL_5:
    a2[27] = v19;
    goto LABEL_6;
  }

  v159 = a8;
  v133 = a7;
  v134 = AGX::DataBufferAllocator<44ul>::growNoInline(a2, 5, 0);
  a7 = v133;
  a2 = v162;
  a8 = v159;
  if (v134)
  {
    v19 = v162[26] + v18;
    if (v19 > v162[25])
    {
      goto LABEL_136;
    }

    goto LABEL_5;
  }

LABEL_6:
  v20 = *(a3 + 16) + 31;
  v21 = a2[18] + v20;
  if (v21 <= a2[17])
  {
LABEL_7:
    a2[19] = v21;
    goto LABEL_8;
  }

  v160 = a8;
  v135 = a7;
  v136 = AGX::DataBufferAllocator<44ul>::growNoInline(a2, 3, 0);
  a7 = v135;
  a2 = v162;
  a8 = v160;
  if (v136)
  {
    v21 = v162[18] + v20;
    if (v21 > v162[17])
    {
      goto LABEL_136;
    }

    goto LABEL_7;
  }

LABEL_8:
  v22 = a2[94];
  if ((v22 + 5) <= a2[93])
  {
    a2[95] = v22 + 5;
    goto LABEL_10;
  }

  v137 = a8;
  v161 = a7;
  v138 = AGX::DataBufferAllocator<44ul>::growNoInline(a2, 22, 0);
  a7 = v161;
  a8 = v137;
  if (v138)
  {
    v139 = v162[94] + 40;
    if (v139 <= v162[93])
    {
      v162[95] = v139;
      *v22 = __ROR8__(AGX::DataBufferAllocator<44ul>::getGPUAddress(v162, 22), 32) & 0xFFFFFFFF0000FFFFLL | 0x20000000;
      a8 = v137;
      a7 = v161;
      goto LABEL_10;
    }

LABEL_136:
    abort();
  }

LABEL_10:
  v165 = 0;
  v166 = 0;
  v168[0] = 0;
  v167 = 0;
  *&v168[1] = 0x3000000A5;
  v170 = 0;
  v169 = 0;
  if (a8 * a7 * v14)
  {
    v23 = 1 << -v15;
    v24 = v162;
    if (v14 * (v23 << -v16))
    {
      v169 = AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::SpecLM::encodeImageBlockData(v13 >> 2, 1, v23, 1 << (-v16 & 0x1F));
      v170 = v25;
      v26 = 0x100000000;
    }

    else
    {
      v26 = 0;
    }
  }

  else
  {
    v26 = 0;
    v24 = v162;
  }

  if (a6)
  {
    ++v26;
  }

  *&v168[3] = v26 | ((a6 << 16) + 4128768) & 0xFFC00000;
  AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::AGX3EncodedInstr<AGXIotoInstruction_SPECLM_0>::AGX3EncodedInstr(v171, &v165);
  v27 = *(a3 + 16);
  if (v27)
  {
    v28 = (v24[18] + 31) & 0xFFFFFFFFFFFFFFE0;
    v157 = v28 + v24[20];
    v24[18] = v28 + v27;
  }

  else
  {
    v157 = 0;
    v28 = 0;
  }

  v154 = v171[0];
  v29 = ((v24[26] + 63) & 0xFFFFFFFFFFFFFFC0);
  v30 = v24[28];
  v24[26] = &v29[*(*(a3 + 1784) + 8) - **(a3 + 1784)];
  v31 = *(a3 + 520);
  v32 = *(a3 + 512);
  v34 = v31 - v32;
  v33 = v31 == v32;
  v35 = *(a3 + 408) & 1;
  if (v33)
  {
    v35 = 0;
  }

  if (!v27)
  {
    goto LABEL_104;
  }

  v151 = v34;
  v148 = v35;
  v149 = *(a3 + 408);
  __n = v30;
  v36 = *(a3 + 712);
  v37 = *(a3 + 128);
  v146 = *(a3 + 256);
  v147 = *(a3 + 264);
  v38 = *(a3 + 48);
  v39 = *(a3 + 52);
  v150 = *(a3 + 416);
  v40 = *(a3 + 420);
  v41 = *(a3 + 744);
  v42 = *(a3 + 745);
  if (*(a3 + 744))
  {
    a4[10] = vaddw_u32(vdupq_n_s64(v157), *(a3 + 20));
  }

  if (v42)
  {
    a4[11].i64[0] = v157 + *(a3 + 40);
  }

  v43 = 0;
  v152 = v39;
  v153 = v38;
  if (v38 != v36)
  {
    v142 = v37;
    v143 = v42;
    v171[0] = a4;
    v163 = a5;
    v44 = &unk_2A23F6A10;
    v165 = &unk_2A23F6A10;
    v166 = &v163;
    v167 = v171;
    *v168 = &v165;
    v46 = *(a3 + 80);
    v45 = *(a3 + 88);
    if (v46 == v45)
    {
      v53 = &v165;
    }

    else
    {
      v144 = v40;
      v47 = 0;
      do
      {
        v164 = *v46;
        if (!*v168)
        {
LABEL_135:
          std::__throw_bad_function_call[abi:nn200100]();
        }

        v49 = (*(**v168 + 48))(*v168, &v164);
        v50 = *(v46 + 1);
        v51 = *(v46 + 2);
        if (v50 == v51)
        {
          v48 = v47;
        }

        else
        {
          do
          {
            v52 = *v50++;
            v48 = (v47 + 1);
            *(v28 + 8 * v47) = *(v49 + 8 * v52);
            LODWORD(v47) = v47 + 1;
          }

          while (v50 != v51);
        }

        v46 += 8;
        v47 = v48;
      }

      while (v46 != v45);
      v53 = *v168;
      if (*v168 != &v165)
      {
        v40 = v144;
        if (*v168)
        {
          (*(**v168 + 40))();
        }

        goto LABEL_42;
      }

      v44 = **v168;
      v40 = v144;
    }

    v44[4](v53);
LABEL_42:
    v39 = v152;
    v38 = v153;
    if (*(a3 + 552))
    {
      v54 = *(a3 + 536);
      if (v54 != (a3 + 544))
      {
        do
        {
          *(v28 + 4 * *(v54 + 7)) |= *(v54 + 8);
          v63 = v54[1];
          if (v63)
          {
            do
            {
              v64 = v63;
              v63 = *v63;
            }

            while (v63);
          }

          else
          {
            do
            {
              v64 = v54[2];
              v33 = *v64 == v54;
              v54 = v64;
            }

            while (!v33);
          }

          v54 = v64;
        }

        while (v64 != (a3 + 544));
      }
    }

    v55 = (v142 + 3) & 0xFFFFFFFC;
    if (v41)
    {
      v56 = *(a3 + 704);
      if (v56 >= 4)
      {
        v57 = v56 >> 2;
        v58 = *(a3 + 144);
        v59 = (v28 + 8 * v55);
        do
        {
          v60 = *v58;
          v58 += 4;
          v61 = &a4->i8[8 * v60];
          v62 = *(v61 + 1);
          *v59 = *v61;
          v59[1] = v62;
          v59 += 2;
          --v57;
        }

        while (v57);
      }

      v55 += v56;
    }

    else
    {
      v56 = 0;
    }

    if (v143)
    {
      v65 = *(a3 + 708);
      v66 = (v28 + 8 * v55);
      if (*(a3 + 1584) == 1)
      {
        if (v65)
        {
          v140 = (*(a3 + 144) + 4 * v56);
          do
          {
            v141 = *v140++;
            *v66++ = a4->i64[v141];
            --v65;
          }

          while (v65);
        }
      }

      else if (v65 >= 4)
      {
        v67 = v65 >> 2;
        v68 = (*(a3 + 144) + 4 * v56);
        do
        {
          v69 = *v68;
          v68 += 4;
          *v66 = a4->i64[v69];
          v66 += 4;
          --v67;
        }

        while (v67);
      }
    }

    v43 = 8 * (v153 - v36);
  }

  if (v36)
  {
    if (v36 >= 4)
    {
      v70 = *(a3 + 2312);
      v71 = v36 >> 2;
      v72 = (v28 + v43);
      do
      {
        v73 = *v70;
        v70 += 4;
        *v72 = v73;
        v72 += 4;
        --v71;
      }

      while (v71);
    }

    v43 += 8 * v36;
  }

  if (!v39)
  {
    v30 = __n;
    v84 = v151;
    v85 = v150;
    goto LABEL_85;
  }

  *(a5 + 88) = v157 + v43 + 8;
  v171[0] = a4;
  v163 = a5;
  v74 = &unk_2A23F6A58;
  v165 = &unk_2A23F6A58;
  v166 = &v163;
  v167 = v171;
  *v168 = &v165;
  v75 = *(a3 + 192);
  v76 = *(a3 + 200);
  if (v75 == v76)
  {
    v83 = &v165;
    v30 = __n;
    v84 = v151;
    v85 = v150;
  }

  else
  {
    v145 = v40;
    v77 = 0;
    do
    {
      v164 = *v75;
      if (!*v168)
      {
        goto LABEL_135;
      }

      v79 = (*(**v168 + 48))(*v168, &v164);
      v80 = *(v75 + 1);
      v81 = *(v75 + 2);
      if (v80 == v81)
      {
        v78 = v77;
      }

      else
      {
        do
        {
          v82 = *v80++;
          v78 = (v77 + 1);
          *(v28 + v43 + 4 * v77) = *(v79 + 4 * v82);
          LODWORD(v77) = v77 + 1;
        }

        while (v80 != v81);
      }

      v75 += 8;
      v77 = v78;
    }

    while (v75 != v76);
    v83 = *v168;
    v40 = v145;
    if (*v168 != &v165)
    {
      v30 = __n;
      v84 = v151;
      v85 = v150;
      if (*v168)
      {
        (*(**v168 + 40))();
      }

      goto LABEL_84;
    }

    v74 = **v168;
    v30 = __n;
    v84 = v151;
    v85 = v150;
  }

  v74[4](v83);
LABEL_84:
  v38 = v153;
  v43 += 4 * v152;
LABEL_85:
  if ((v84 >> 2))
  {
    v86 = v38 + ((v147 - v146) >> 2);
    v87 = 4 * (v148 + v149);
    v88 = (v28 + (v87 + 8 * v86));
    v89 = *(a3 + 512);
    v90 = v84 >> 2;
    do
    {
      v91 = *v89++;
      *v88++ = a4->i64[v91];
      LODWORD(v90) = v90 - 1;
    }

    while (v90);
    v43 = v87 + 8 * (v86 + (v84 >> 2));
  }

  if (v40 != -v85)
  {
    v92 = (v28 + v43);
    v93 = 4 * *(a3 + 416);
    memcpy(v92, a4 + 4 * *(a3 + 412), v93);
    v171[0] = a4;
    v163 = a5;
    v94 = &unk_2A23F6A58;
    v165 = &unk_2A23F6A58;
    v166 = &v163;
    v167 = v171;
    *v168 = &v165;
    v95 = *(a3 + 448);
    v96 = *(a3 + 456);
    if (v95 == v96)
    {
      v104 = &v165;
    }

    else
    {
      v97 = 0;
      v98 = &v92[v93];
      do
      {
        v164 = *v95;
        if (!*v168)
        {
          goto LABEL_135;
        }

        v100 = (*(**v168 + 48))(*v168, &v164);
        v101 = *(v95 + 1);
        v102 = *(v95 + 2);
        if (v101 == v102)
        {
          v99 = v97;
        }

        else
        {
          do
          {
            v103 = *v101++;
            v99 = (v97 + 1);
            *&v98[4 * v97] = *(v100 + 4 * v103);
            LODWORD(v97) = v97 + 1;
          }

          while (v101 != v102);
        }

        v95 += 8;
        v97 = v99;
      }

      while (v95 != v96);
      v104 = *v168;
      if (*v168 != &v165)
      {
        v30 = __n;
        if (*v168)
        {
          (*(**v168 + 40))();
        }

        goto LABEL_104;
      }

      v94 = **v168;
    }

    v30 = __n;
    v94[4](v104);
  }

LABEL_104:
  v105 = *(a3 + 1784);
  memcpy(v29, *v105, *(v105 + 8) - *v105);
  if (*(v105 + 272) == 1)
  {
    v106.i64[0] = v157;
    v106.i64[1] = v157 >> 5;
    *&v29[*(v105 + 276)] = vbslq_s8(xmmword_29D2F17C0, *&v29[*(v105 + 276)], vshlq_u8(vqtbl1q_s8(v106, xmmword_29D2F17A0), xmmword_29D2F17B0));
  }

  v107 = *(v105 + 224);
  for (i = *(v105 + 232); v107 != i; v107 += 3)
  {
    v109.i64[0] = a4->i64[v107[1]] + *v107;
    v109.i64[1] = v109.i64[0] >> 5;
    *&v29[v107[2]] = vbslq_s8(xmmword_29D2F17C0, *&v29[v107[2]], vshlq_u8(vqtbl1q_s8(v109, xmmword_29D2F17A0), xmmword_29D2F17B0));
  }

  v110 = *(v105 + 248);
  for (j = *(v105 + 256); v110 != j; v110 += 3)
  {
    v112.i64[0] = *(a5 + 8 * v110[1]) + *v110;
    v112.i64[1] = v112.i64[0] >> 5;
    *&v29[v110[2]] = vbslq_s8(xmmword_29D2F17C0, *&v29[v110[2]], vshlq_u8(vqtbl1q_s8(v112, xmmword_29D2F17A0), xmmword_29D2F17B0));
  }

  if (!*(v105 + 312))
  {
    *&v29[*(v105 + 316)] = v154;
  }

  v113 = &v29[v30];
  v114 = *a1;
  if (*a1)
  {
    v115 = *v105;
    v116 = *(v105 + 8);
    v117 = *(a3 + 2192);
    LODWORD(v118) = *(v114 + 2);
    v119 = v118 + 1;
    if (*(v114 + 3) >= (v118 + 1))
    {
      v122 = *v114;
    }

    else
    {
      v158 = *(a3 + 2192);
      v120 = -__clz(v118);
      v121 = malloc_type_malloc(40 << (v120 & 0x1F), 0x10800400D7C94D2uLL);
      v122 = v121;
      v123 = 1 << v120;
      v118 = *(v114 + 2);
      if (v118)
      {
        memcpy(v121, *v114, 40 * v118);
        free(*v114);
        LODWORD(v118) = *(v114 + 2);
      }

      v117 = v158;
      *(v114 + 3) = v123;
      *v114 = v122;
    }

    v124 = &v122[40 * v118];
    *v124 = 15;
    *(v124 + 1) = v113;
    *(v124 + 2) = v29;
    *(v124 + 3) = (v116 - v115);
    *(v124 + 8) = v117;
    *(v114 + 2) = v119;
  }

  v125 = *(a3 + 3152);
  v126 = *(a3 + 3156);
  v127 = *(a3 + 3164);
  v128 = *(a5 + 24);
  v129 = *(a5 + 32);
  v130 = *(a5 + 12);
  v131 = *(a5 + 20);
  if (a9)
  {
    ++*a9;
  }

  result = v162[94];
  *result = v125;
  *(result + 4) = (v113 >> 16) & 0xFFC00000 | v126 & 0x3FFFFF;
  *(result + 8) = v113 >> 6;
  *(result + 12) = v127;
  *(result + 16) = v128;
  *(result + 24) = v129;
  *(result + 28) = v130 & 0x7FF;
  *(result + 32) = WORD2(v130) & 0x7FF;
  *(result + 36) = v131 & 0x7FF;
  v162[94] = result + 40;
  return result;
}

void sub_29CD140BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  std::function<char const* ()(DriverArgumentOffset::SectionType)>::~function(va);
  _Unwind_Resume(a1);
}

__n128 std::__function::__func<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned int,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitComputeArgumentTable,AGX::BlitComputeDriverTable>(unsigned int *,AGX::HAL300::BlitComputeArgumentTable *,AGX::BlitComputeDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1},std::allocator<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned int,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitComputeArgumentTable,AGX::BlitComputeDriverTable>(unsigned int *,AGX::HAL300::BlitComputeArgumentTable *,AGX::BlitComputeDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1}>,char const* ()(DriverArgumentOffset::SectionType)>::__clone(uint64_t a1, uint64_t a2)
{
  *a2 = &unk_2A23F6A58;
  result = *(a1 + 8);
  *(a2 + 8) = result;
  return result;
}

__n128 std::__function::__func<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned long long,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitComputeArgumentTable,AGX::BlitComputeDriverTable>(unsigned long long *,AGX::HAL300::BlitComputeArgumentTable *,AGX::BlitComputeDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1},std::allocator<void AGX::SegmentedArgumentGatherer<(AGX::SegmentedArgumentGathererAlgorthim)1,unsigned long long,AGX::NoCombinedUserDriverArgumentTable>::gatherArguments<AGX::HAL300::BlitComputeArgumentTable,AGX::BlitComputeDriverTable>(unsigned long long *,AGX::HAL300::BlitComputeArgumentTable *,AGX::BlitComputeDriverTable *)::{lambda(DriverArgumentOffset::SectionType)#1}>,char const* ()(DriverArgumentOffset::SectionType)>::__clone(uint64_t a1, uint64_t a2)
{
  *a2 = &unk_2A23F6A10;
  result = *(a1 + 8);
  *(a2 + 8) = result;
  return result;
}

uint64_t AGX::BlitUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::bindComputeProgramVariantResources(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 2120);
  do
  {
    v2 &= ~(1 << __clz(__rbit32(v2)));
    result = IOGPUResourceListAddResource();
  }

  while (v2);
  return result;
}

uint64_t AGX::BlitUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::reserveBarrier(uint64_t a1)
{
  v1 = a1;
  {
    v1 = a1;
    if (v3)
    {
      v1 = a1;
    }
  }

  v5 = 1;
  return agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, v1, 4, 0, 0, 0, &v5);
}

uint64_t AGX::BlitUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::barrier(uint64_t a1, unsigned int *a2)
{
  v3 = *a2;
  {
    v11 = a2;
    v10 = v3;
    v3 = v10;
    a2 = v11;
    if (v9)
    {
      v3 = v10;
      a2 = v11;
    }
  }

  v4 = v3 >> 2;
  if (v3)
  {
    v5 = 1610617184;
  }

  else
  {
    v5 = 1610613088;
  }

  v6 = v5 & 0xFFFFF3FF | ((v4 & 1) << 10) & 0xF7FF | v4 & 2 | (((*a2 >> 1) & 1) << 11);
  v12 = 0;
  result = agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, a1, 4, 0, 0, 0, &v12);
  v8 = *(a1 + 752);
  *v8 = v6;
  *(a1 + 752) = v8 + 1;
  return result;
}

uint64_t AGX::Mempool<16u,0u,true,0u,0u,AGX::HAL300::BVHStateHeapElem>::~Mempool(uint64_t a1)
{
  if ((*(a1 + 12) & 1) == 0)
  {
    *(a1 + 12) = 1;
  }

  if ((*(a1 + 36) & 1) == 0)
  {
    *(a1 + 36) = 1;
  }

  if ((*(a1 + 60) & 1) == 0)
  {
    *(a1 + 60) = 1;
  }

  if ((*(a1 + 84) & 1) == 0)
  {
    *(a1 + 84) = 1;
  }

  if ((*(a1 + 108) & 1) == 0)
  {
    *(a1 + 108) = 1;
  }

  if ((*(a1 + 132) & 1) == 0)
  {
    *(a1 + 132) = 1;
  }

  if ((*(a1 + 156) & 1) == 0)
  {
    *(a1 + 156) = 1;
  }

  if ((*(a1 + 180) & 1) == 0)
  {
    *(a1 + 180) = 1;
  }

  if ((*(a1 + 204) & 1) == 0)
  {
    *(a1 + 204) = 1;
  }

  if ((*(a1 + 228) & 1) == 0)
  {
    *(a1 + 228) = 1;
  }

  if ((*(a1 + 252) & 1) == 0)
  {
    *(a1 + 252) = 1;
  }

  if ((*(a1 + 276) & 1) == 0)
  {
    *(a1 + 276) = 1;
  }

  if ((*(a1 + 300) & 1) == 0)
  {
    *(a1 + 300) = 1;
  }

  if ((*(a1 + 324) & 1) == 0)
  {
    *(a1 + 324) = 1;
  }

  if ((*(a1 + 348) & 1) == 0)
  {
    *(a1 + 348) = 1;
  }

  if ((*(a1 + 372) & 1) == 0)
  {
    *(a1 + 372) = 1;
  }

  if ((*(a1 + 396) & 1) == 0)
  {
    *(a1 + 396) = 1;
  }

  if ((*(a1 + 420) & 1) == 0)
  {
    *(a1 + 420) = 1;
  }

  if ((*(a1 + 444) & 1) == 0)
  {
    *(a1 + 444) = 1;
  }

  if ((*(a1 + 468) & 1) == 0)
  {
    *(a1 + 468) = 1;
  }

  if ((*(a1 + 492) & 1) == 0)
  {
    *(a1 + 492) = 1;
  }

  if ((*(a1 + 516) & 1) == 0)
  {
    *(a1 + 516) = 1;
  }

  if ((*(a1 + 540) & 1) == 0)
  {
    *(a1 + 540) = 1;
  }

  if ((*(a1 + 564) & 1) == 0)
  {
    *(a1 + 564) = 1;
  }

  if ((*(a1 + 588) & 1) == 0)
  {
    *(a1 + 588) = 1;
  }

  if ((*(a1 + 612) & 1) == 0)
  {
    *(a1 + 612) = 1;
  }

  if ((*(a1 + 636) & 1) == 0)
  {
    *(a1 + 636) = 1;
  }

  if ((*(a1 + 660) & 1) == 0)
  {
    *(a1 + 660) = 1;
  }

  if ((*(a1 + 684) & 1) == 0)
  {
    *(a1 + 684) = 1;
  }

  std::__tree<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval,AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::IntervalRangeComparator,std::allocator<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval>>::destroy(*(a1 + 760));
  std::__tree<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval,AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::IntervalRangeComparator,std::allocator<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval>>::destroy(*(a1 + 736));
  return a1;
}

void AGX::Mempool<16u,0u,true,0u,0u,AGX::HAL300::BVHStateHeapElem>::grow(uint64_t a1, unsigned int a2, int a3)
{
  add = atomic_fetch_add((a1 + 704), 1u);
  v7 = add + 1;
  if (add == -1)
  {
    v8 = 0;
  }

  else
  {
    v8 = *(a1 + 24 * add + 16);
  }

  v9 = a1 + 8;
  v10 = [[AGXBuffer alloc] initUntrackedInternalBufferWithDevice:*a1 length:16 * a2 options:0];
  *(a1 + 8 + 24 * v7 + 8) = v10;
  if (v8)
  {
    memcpy(*&v10[*MEMORY[0x29EDC5638] + 24], *(v8 + *MEMORY[0x29EDC5638] + 24), 16 * *(a1 + 716));
  }

  if (*(a1 + 716) <= 1u)
  {
    v11 = 1;
  }

  else
  {
    v11 = *(a1 + 716);
  }

  *(a1 + 716) = a2;
  atomic_fetch_add((v9 + 24 * v7), 0x80000000);
  if ((add & 0x80000000) == 0)
  {
    v12 = v9 + 24 * add;
    if (atomic_fetch_add(v12, 0x80000000) == 0x80000000)
    {
      os_unfair_lock_assert_owner((a1 + 776));
      if ((*(v12 + 4) & 1) == 0)
      {
        *(v12 + 4) = 1;
      }
    }
  }

  if (a3)
  {
    AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::push(a1 + 720, v11, a2 - 1);
  }

  v13 = *(a1 + 792);
  v14 = *v13;
  if ((*v13 + 1) > 1)
  {
    v15 = v14 + 1;
  }

  else
  {
    v15 = 1;
  }

  v16 = *v13;
  atomic_compare_exchange_strong(v13, &v16, v15);
  if (v16 != v14)
  {
    v17 = v16;
    do
    {
      if ((v16 + 1) > 1)
      {
        v18 = v16 + 1;
      }

      else
      {
        v18 = 1;
      }

      atomic_compare_exchange_strong(v13, &v17, v18);
      v19 = v17 == v16;
      v16 = v17;
    }

    while (!v19);
  }
}

uint64_t AGX::Mempool<16u,0u,true,0u,0u,AGX::HAL300::BVHStateHeapElem>::RangeAllocation::RangeAllocation(uint64_t a1, os_unfair_lock_s *a2, int a3)
{
  *a1 = a3;
  *(a1 + 4) = 1;
  *(a1 + 8) = a2;
  *(a1 + 16) = a3 != 0;
  os_unfair_lock_lock(a2 + 194);
  if ((*(a1 + 16) & 1) == 0)
  {
    v5 = AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::pop((*(a1 + 8) + 720));
    *a1 = v5;
    if (!v5)
    {
      v8 = *(a1 + 8);
      v9 = *(v8 + 716);
      if (v9)
      {
        v10 = v9 + 1;
        do
        {
          if (v9)
          {
            v9 *= 2;
          }

          else
          {
            v9 = 16;
          }
        }

        while (v9 <= v10);
        AGX::Mempool<16u,0u,true,0u,0u,AGX::HAL300::BVHStateHeapElem>::grow(v8, v9, 1);
      }

      else
      {
        AGX::Mempool<16u,0u,true,0u,0u,AGX::HAL300::BVHStateHeapElem>::grow(v8, 0x10u, 1);
      }

      *a1 = AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::pop((*(a1 + 8) + 720));
    }
  }

  explicit = atomic_load_explicit((*(a1 + 8) + 780), memory_order_acquire);
  if (explicit <= *a1)
  {
    explicit = *a1;
  }

  atomic_store(explicit, (*(a1 + 8) + 780));
  atomic_fetch_add((*(a1 + 8) + 784), 1u);
  os_unfair_lock_unlock(a2 + 194);
  return a1;
}

uint64_t AGX::Mempool<16u,0u,true,0u,0u,AGX::HAL300::BVHStateHeapElem>::addToResourceList(os_unfair_lock_s *a1, uint64_t a2)
{
  os_unfair_lock_lock(a1 + 194);
  os_unfair_lock_assert_owner(a1 + 194);
  v4 = &a1[6 * a1[176]._os_unfair_lock_opaque];
  v6 = *&v4[4]._os_unfair_lock_opaque;
  v5 = v4 + 4;
  v7 = *(a2 + 8);
  v8 = MEMORY[0x29EDC5638];
  v9 = v6 + *MEMORY[0x29EDC5638];
  v10 = *(v9 + 8);
  if (**a2 == v10 && ((*(v9 + 40) ^ *(*v7 + 40)) & 0xFFFFFFFFFFFFFFLL) == 0)
  {
    v11 = 0;
  }

  else
  {
    **a2 = v10;
    *v7 = *&v5->_os_unfair_lock_opaque + *v8;
    MTLResourceListAddResource();
    v11 = 1;
  }

  os_unfair_lock_unlock(a1 + 194);
  return v11;
}

void AGX::CDMSubstreamProcessor<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses,AGX::HAL300::EncoderComputeServiceClasses>::~CDMSubstreamProcessor(uint64_t a1)
{
  *a1 = &unk_2A23F6AA0;
  v2 = *(a1 + 24);
  v3 = *(a1 + 32);
  if (v2)
  {
    do
    {
      v4 = 16 * v2;

      v3 = *(a1 + 32);
      v2 = *&v3[v4 + 8];
    }

    while (*&v3[v4 + 8]);
  }

  free(v3);
  dispatch_release(*(a1 + 16));

  JUMPOUT(0x29ED520D0);
}

uint64_t AGX::CDMSubstreamProcessor<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses,AGX::HAL300::EncoderComputeServiceClasses>::~CDMSubstreamProcessor(uint64_t a1)
{
  *a1 = &unk_2A23F6AA0;
  v2 = *(a1 + 24);
  v3 = *(a1 + 32);
  if (v2)
  {
    do
    {
      v4 = 16 * v2;

      v3 = *(a1 + 32);
      v2 = *&v3[v4 + 8];
    }

    while (*&v3[v4 + 8]);
  }

  free(v3);
  dispatch_release(*(a1 + 16));
  return a1;
}

unsigned int *AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::encodeViewportState(uint64_t a1, uint64_t a2, int a3)
{
  v19[1] = *MEMORY[0x29EDCA608];
  if (*(a1 + 816))
  {
    v3 = MEMORY[0x2A1C7C4A8](a1);
    v9 = v19 - v5 * v8;
    if (v6 && v7)
    {
      v10 = 0;
      for (i = 0; i != v6; ++i)
      {
        v12 = (v4 + 48 * i);
        v13 = v10;
        v14 = v7;
        do
        {
          v15 = &v9[48 * v13];
          v16 = v12[1];
          *v15 = *v12;
          *(v15 + 1) = v16;
          *(v15 + 2) = v12[2];
          ++v13;
          --v14;
        }

        while (v14);
        v10 += v7;
      }
    }

    return AGX::PPPEncoderGen7<AGX::HAL300::ESLEncoder,AGX::HAL300::VsStateConfig>::RasterToken::setViewports(*v3, v9, v5);
  }

  else
  {
    v18 = *a1;

    return AGX::PPPEncoderGen7<AGX::HAL300::ESLEncoder,AGX::HAL300::VsStateConfig>::RasterToken::setViewports(v18, a2, a3);
  }
}

uint64_t AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::ClipRectContextGen3(uint64_t a1, unsigned int a2, unsigned int a3, uint64_t a4, uint64_t a5)
{
  *a1 = a5;
  *(a1 + 776) = 0;
  *(a1 + 780) = a2;
  *(a1 + 784) = 0;
  *(a1 + 788) = a3;
  *(a1 + 792) = 1;
  *(a1 + 794) = 1;
  *(a1 + 804) = 0;
  *(a1 + 796) = 0;
  *(a1 + 824) = 0;
  *(a1 + 828) = xmmword_29D2F1840;
  *(a1 + 844) = xmmword_29D2F1840;
  *(a1 + 860) = xmmword_29D2F1840;
  *(a1 + 876) = xmmword_29D2F1840;
  *(a1 + 892) = xmmword_29D2F1840;
  *(a1 + 908) = xmmword_29D2F1840;
  *(a1 + 924) = xmmword_29D2F1840;
  *(a1 + 940) = xmmword_29D2F1840;
  *(a1 + 956) = xmmword_29D2F1840;
  *(a1 + 972) = xmmword_29D2F1840;
  *(a1 + 988) = xmmword_29D2F1840;
  *(a1 + 1004) = xmmword_29D2F1840;
  *(a1 + 1020) = xmmword_29D2F1840;
  *(a1 + 1036) = xmmword_29D2F1840;
  *(a1 + 1052) = xmmword_29D2F1840;
  *(a1 + 1068) = xmmword_29D2F1840;
  *(a1 + 1084) = 0x3F80000000000000;
  v8 = *(a4 + 168);
  *(a1 + 808) = v8;
  v9 = v8;
  if (v8)
  {
    v10 = *(*(a1 + 808) + 64);
    *(a1 + 816) = v10;
  }

  else
  {
    v10 = *(a1 + 816);
  }

  v30[0] = 0;
  v30[1] = 0;
  v31 = a2;
  v32 = a3;
  v33 = xmmword_29D2F1850;
  v27 = 0uLL;
  v28 = a2;
  v29 = a3;
  if (v10)
  {
    v11 = *(v10 + 49320);
    *(a1 + 824) = v11;
    if (v11)
    {
      v12 = *(v10 + 49232);
      v13 = *(v10 + 49236);
    }

    else
    {
      v14 = *(v10 + 16);
      if (v14)
      {
        v15 = (v10 + 49240);
        v12 = 3.4028e38;
        v16 = v10;
        do
        {
          v17 = *(v15 - 5);
          if (v17 >= a2)
          {
            v17 = a2;
          }

          v18 = v17;
          v19 = *v15++;
          v20 = vcvts_n_f32_u32(v17, 5uLL);
          v21 = v19 - 1;
          if (v19 <= v20)
          {
            v20 = v21;
          }

          v22 = *(v16 + 8 * v20 + 20) * (v18 - *(v16 + 8 * v20 + 24));
          if (v12 >= v22)
          {
            v12 = v22;
          }

          v16 += 8200;
          --v14;
        }

        while (v14);
      }

      else
      {
        v12 = 3.4028e38;
      }

      v23 = *(v10 + 49248);
      v24 = vcvts_n_f32_u32(a3, 5uLL);
      if (v23 <= v24)
      {
        v25 = v23 - 1;
      }

      else
      {
        v25 = v24;
      }

      v13 = *(v10 + 8 * v25 + 32820) * (a3 - *(v10 + 8 * v25 + 32824));
    }

    v31 = v12;
    v32 = v13;
    v28 = v12;
    v29 = v13;
  }

  AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::setViewports(a1, v30, 1u, 0);
  AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::setScissors(a1, &v27, 1u);
  return a1;
}

unsigned int *AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::setViewports(uint64_t a1, uint64_t a2, unsigned int a3, int a4)
{
  v7 = *(a1 + 816);
  if (!v7)
  {
    *(a1 + 796) = a3;
    if (!a3)
    {
      v86 = *a1;
      *v86 = **a1 | 0x3C000;
      v86[33] &= ~1u;
      goto LABEL_101;
    }

    v113 = a4;
    v50 = 0;
    v51 = (a2 + 16);
    v52 = vdupq_n_s64(0x41EFFFFFFFE00000uLL);
    do
    {
      v53 = v51[-1];
      v54 = vaddq_f64(v53, *v51);
      v55 = vmovn_s64(vmvnq_s8(vorrq_s8(vcgtq_f64(v53, v54), vcgeq_f64(v54, v53))));
      if (vorr_s8(v55, vdup_lane_s32(v55, 1)).u8[0])
      {
        v56 = -1;
      }

      else
      {
        v56 = 0;
      }

      v57 = vdupq_n_s64(v56);
      v58 = vbicq_s8(v53, v57);
      v59 = vbicq_s8(v54, v57);
      v60 = vcltzq_f64(*v51);
      v61 = vbslq_s8(v60, v58, v59);
      v62 = vbslq_s8(v60, v59, v58);
      *(a1 + 16 * v50++ + 8) = vsliq_n_s64(vcvtq_u64_f64(vbicq_s8(vbslq_s8(vcgtq_f64(v62, v52), v52, v62), vcltzq_f64(v62))), vcvtq_u64_f64(vrndpq_f64(vbicq_s8(vbslq_s8(vcgtq_f64(v61, v52), v52, v61), vcltzq_f64(v61)))), 0x20uLL);
      v51 += 3;
    }

    while (v50 < *(a1 + 796));
    v114 = a3;
    AGX::PPPEncoderGen7<AGX::HAL300::ESLEncoder,AGX::HAL300::VsStateConfig>::RasterToken::setViewports(*a1, a2, a3);
    goto LABEL_57;
  }

  v8 = *(v7 + 16);
  *(a1 + 796) = v8 * a3;
  if (!a3)
  {
    goto LABEL_101;
  }

  if (v8)
  {
    v113 = a4;
    v114 = a3;
    v9 = 0;
    v10 = 0;
    v11 = a3;
    do
    {
      v12 = (a2 + 48 * v10);
      v13 = *v12;
      v14 = v12[1];
      v15 = v12[2];
      v16 = v12[3];
      v17 = *v12 + v15;
      v18 = v14 + v16;
      v19 = 0;
      _NF = v16 < 0.0;
      if (v16 >= 0.0)
      {
        v21 = v14 + v16;
      }

      else
      {
        v21 = v12[1];
      }

      if (_NF)
      {
        v14 = v18;
      }

      if (v21 <= 4294967300.0)
      {
        v22 = v21;
      }

      else
      {
        v22 = 4294967300.0;
      }

      if (v21 >= 0.0)
      {
        v23 = v22;
      }

      else
      {
        v23 = 0.0;
      }

      v24 = vcvtpd_u64_f64(v23);
      if (v14 <= 4294967300.0)
      {
        v25 = v14;
      }

      else
      {
        v25 = 4294967300.0;
      }

      if (v14 < 0.0)
      {
        v25 = 0.0;
      }

      v26 = v25;
      v27 = v15 < 0.0;
      if (v15 >= 0.0)
      {
        v28 = v17;
      }

      else
      {
        v28 = v13;
      }

      if (v27)
      {
        v13 = v17;
      }

      if (v28 <= 4294967300.0)
      {
        v29 = v28;
      }

      else
      {
        v29 = 4294967300.0;
      }

      if (v28 >= 0.0)
      {
        v30 = v29;
      }

      else
      {
        v30 = 0.0;
      }

      if (v13 <= 4294967300.0)
      {
        v31 = v13;
      }

      else
      {
        v31 = 4294967300.0;
      }

      if (v13 >= 0.0)
      {
        v32 = v31;
      }

      else
      {
        v32 = 0.0;
      }

      v33 = v32;
      v34 = v33;
      v35 = v26;
      v36 = vcvtpd_u64_f64(v30);
      v37 = v24;
      do
      {
        v39 = *(a1 + 824);
        v40 = v36;
        v41 = v37;
        v42 = v35;
        v43 = v34;
        if ((v39 & 1) == 0)
        {
          AGX::WarpFunction<AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getWarpedCoordinate();
          v45 = v44;
          v47 = v46;
          AGX::WarpFunction<AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getWarpedCoordinate();
          v43 = floorf(v45);
          if ((v45 - v43) != 0.5)
          {
            v43 = v45;
          }

          v42 = floorf(v47);
          if ((v47 - v42) != 0.5)
          {
            v42 = v47;
          }

          v49 = floorf(v40);
          if ((v40 - v49) == 0.5)
          {
            v40 = v49;
          }

          v41 = floorf(v48);
          if ((v48 - v41) != 0.5)
          {
            v41 = v48;
          }
        }

        LODWORD(v39) = vcvtas_u32_f32(v43);
        LODWORD(v26) = vcvtas_u32_f32(v42);
        LODWORD(v33) = vcvtas_u32_f32(v40);
        LODWORD(v4) = vcvtas_u32_f32(v41);
        v38 = v39 | (v33 << 32);
        v26 |= v4 << 32;
        v33 = a1 + 8 + 16 * (v9 + v19);
        *v33 = v38;
        *(v33 + 8) = v26;
        ++v19;
      }

      while (v8 != v19);
      ++v10;
      v9 += v8;
    }

    while (v10 != v11);
LABEL_57:
    a4 = v113;
    a3 = v114;
  }

  v63 = (a1 + 828);
  if (a4)
  {
    if (a3 >= 7 && ((v64 = (a2 + 32), v63 >= a2 + 48 * a3) || v64 >= a1 + 8 * a3 + 828))
    {
      v65 = (a3 | 0xFFFFFFFFFFFFFFFELL) + a3;
      __asm { FMOV            V0.2D, #2.0 }

      v93 = v65;
      do
      {
        v94 = v64[3];
        v95 = *v64;
        v64 += 6;
        v96 = vzip1q_s64(v95, v94);
        v97 = vzip2q_s64(v95, v94);
        v98 = vcvt_f32_f64(vmlaq_f64(vnegq_f64(v97), _Q0, v96));
        *&v96.f64[0] = vcvt_f32_f64(v97);
        vst2_f32(v63, *(&v96 - 8));
        v63 += 4;
        v93 -= 2;
      }

      while (v93);
    }

    else
    {
      v65 = 0;
    }

    v99 = a3 - v65;
    v100 = (a1 + 8 * v65 + 828);
    v101 = (a2 + 48 * v65 + 40);
    do
    {
      v102.f64[0] = -(*v101 - *(v101 - 1) * 2.0);
      v102.f64[1] = *v101;
      *v100++ = vcvt_f32_f64(v102);
      v101 += 6;
      --v99;
    }

    while (v99);
    goto LABEL_101;
  }

  v66 = *(a1 + 816);
  if (!v66)
  {
    if (a3 >= 9 && ((v87 = a2 + 32, v63 >= a2 + 48 * a3) || v87 >= a1 + 8 * a3 + 828))
    {
      v103 = a3 & 3;
      if (!v103)
      {
        v103 = 4;
      }

      v88 = a3 - v103;
      v104 = v88;
      do
      {
        v105 = *(v87 + 48);
        v106 = *(v87 + 144);
        v107 = *(v87 + 96);
        v117.val[0] = vcvt_hight_f32_f64(vcvt_f32_f64(vzip1q_s64(*v87, v105)), vzip1q_s64(v107, v106));
        v117.val[1] = vcvt_hight_f32_f64(vcvt_f32_f64(vzip2q_s64(*v87, v105)), vzip2q_s64(v107, v106));
        vst2q_f32(v63, v117);
        v63 += 8;
        v87 += 192;
        v104 -= 4;
      }

      while (v104);
    }

    else
    {
      v88 = 0;
    }

    v108 = a3 - v88;
    v109 = (a1 + 8 * v88 + 828);
    v110 = (a2 + 48 * v88 + 32);
    do
    {
      v111 = *v110;
      v110 += 3;
      *v109++ = vcvt_f32_f64(v111);
      --v108;
    }

    while (v108);
    goto LABEL_101;
  }

  v67 = *(v66 + 16);
  if (!v67)
  {
    goto LABEL_101;
  }

  v68 = 0;
LABEL_67:
  v69 = (a2 + 48 * v68);
  if (v67 < 0x14)
  {
    goto LABEL_68;
  }

  v70 = 0;
  v73 = v67 * v68;
  v74 = __CFADD__(v73, v67 - 1);
  v75 = 8 * v67 * v68;
  v76 = 8 * (v67 - 1);
  if (a1 + 832 + v75 + v76 < (a1 + 832 + v75))
  {
    goto LABEL_69;
  }

  v77 = &v63[v75 / 4];
  if (v77 + v76 < v77 || v74)
  {
    goto LABEL_69;
  }

  v78 = a2 + 48 * v68;
  if (v78 + 32 < &v63[2 * v67 + 2 * v73] && v77 < v78 + 48)
  {
LABEL_68:
    v70 = 0;
LABEL_69:
    v71 = v67 - v70;
    v72 = v70 + v67 * v68;
    do
    {
      *&v63[2 * v72++] = vcvt_f32_f64(v69[2]);
      --v71;
    }

    while (v71);
    goto LABEL_83;
  }

  v70 = v67 & 0xFFFFFFFC;
  v79 = v67 * v68;
  v80 = v70;
  do
  {
    f64 = v69[2].f64;
    v82 = vld1q_dup_f64(f64);
    v116.val[0] = vcvt_hight_f32_f64(vcvt_f32_f64(v82), v82);
    v83 = &v69[2].f64[1];
    v84 = vld1q_dup_f64(v83);
    v116.val[1] = vcvt_hight_f32_f64(vcvt_f32_f64(v84), v84);
    v85 = &v63[2 * v79];
    vst2q_f32(v85, v116);
    v79 += 4;
    v80 -= 4;
  }

  while (v80);
  if (v70 != v67)
  {
    goto LABEL_69;
  }

LABEL_83:
  while (++v68 != a3)
  {
    v67 = *(v66 + 16);
    if (v67)
    {
      goto LABEL_67;
    }
  }

LABEL_101:

  return AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::encodeViewportState(a1, a2, a3);
}

void AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::setScissors(uint64_t a1, int64x2_t *a2, unsigned int a3)
{
  if (a3 != 1)
  {
    v10 = *(a1 + 816);
    if (v10)
    {
      v9 = *(v10 + 16);
      *(a1 + 800) = v9 * a3;
      if (!a3 || !v9)
      {
        return;
      }

      goto LABEL_8;
    }

    *(a1 + 800) = a3;
    if (!a3)
    {
      return;
    }

    v29 = (a1 + 800);
LABEL_22:
    v30 = 0;
    v31 = a2 + 1;
    do
    {
      *(a1 + 264 + 16 * v30++) = vsliq_n_s64(v31[-1], vaddq_s64(*v31, v31[-1]), 0x20uLL);
      v31 += 2;
    }

    while (v30 < *v29);
    return;
  }

  v5 = a2->i32[2];
  v6 = a2[1].i32[0] + a2->i32[0];
  v7 = a2[1].i32[2] + v5;
  *(a1 + 1092) = a2->i32[0];
  *(a1 + 1096) = v6;
  *(a1 + 1100) = v5;
  *(a1 + 1104) = v7;
  v8 = *(a1 + 816);
  if (!v8)
  {
    v29 = (a1 + 800);
    *(a1 + 800) = 1;
    goto LABEL_22;
  }

  v9 = *(v8 + 16);
  *(a1 + 800) = v9;
  if (!v9)
  {
    return;
  }

LABEL_8:
  v11 = 0;
  v12 = 0;
  v13 = a3;
  v14 = v9;
  do
  {
    v15 = 0;
    v16 = &a2[2 * v12];
    v17 = vcvt_f32_u32(vmovn_s64(*v16));
    v34 = vcvt_f32_u32(vmovn_s64(vaddq_s64(v16[1], *v16)));
    v32 = v17;
    do
    {
      v20 = v34;
      v21 = v17;
      if ((*(a1 + 824) & 1) == 0)
      {
        AGX::WarpFunction<AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getWarpedCoordinate();
        v23.i32[1] = v22;
        v33 = v23;
        AGX::WarpFunction<AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getWarpedCoordinate();
        v26 = vrndm_f32(v33);
        v21 = vbsl_s8(vceq_f32(vsub_f32(v33, v26), 0x3F0000003F000000), v26, v33);
        v27 = floorf(v24);
        if ((v24 - v27) == 0.5)
        {
          v20.f32[0] = v27;
        }

        else
        {
          v20.f32[0] = v24;
        }

        v28 = floorf(v25);
        v20.f32[1] = v25;
        if ((v25 - v28) == 0.5)
        {
          v20.f32[1] = v28;
        }

        v17 = v32;
      }

      v18 = vcvt_u32_f32(vrnda_f32(v21));
      v19.i64[0] = v18.u32[0];
      v19.i64[1] = v18.u32[1];
      *(a1 + 264 + 16 * (v11 + v15++)) = vorrq_s8(vshll_n_s32(vcvt_u32_f32(vrnda_f32(v20)), 0x20uLL), v19);
    }

    while (v14 != v15);
    ++v12;
    v11 += v14;
  }

  while (v12 != v13);
}

void AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::setClonedScissorShadows(uint64_t a1, unint64_t a2, unint64_t a3)
{
  v34[3] = *MEMORY[0x29EDCA608];
  v6 = *(a1 + 816);
  if (v6)
  {
    v7 = *(v6 + 16);
    if (v7)
    {
      v8 = 0;
      v9 = HIDWORD(a3);
      v10 = a2;
      v11 = a3;
      v12 = HIDWORD(a2);
      v13 = HIDWORD(a3);
      v14 = *(a1 + 824);
      v15 = v33;
      v16 = v34;
      v17 = v14;
      do
      {
        if (v14)
        {
          v18 = v12;
          v19 = v13;
          v20 = v11;
          v21 = v10;
        }

        else
        {
          AGX::WarpFunction<AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getWarpedCoordinate();
          v21 = v22;
          v20 = v23;
          if (v17)
          {
            v18 = v12;
            v19 = v13;
          }

          else
          {
            AGX::WarpFunction<AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getWarpedCoordinate();
            v25 = floorf(v21);
            if ((v21 - v25) == 0.5)
            {
              v21 = v25;
            }

            v26 = floorf(v20);
            if ((v20 - v26) == 0.5)
            {
              v20 = v26;
            }

            v27 = floorf(v18);
            if ((v18 - v27) == 0.5)
            {
              v18 = v27;
            }

            v19 = floorf(v24);
            v17 = 0;
            if ((v24 - v19) != 0.5)
            {
              v19 = v24;
            }
          }
        }

        LODWORD(v15) = vcvtas_u32_f32(v21);
        LODWORD(v9) = vcvtas_u32_f32(v20);
        LODWORD(v3) = vcvtas_u32_f32(v18);
        LODWORD(v4) = vcvtas_u32_f32(v19);
        v15 |= v3 << 32;
        v9 |= v4 << 32;
        *(v16 - 1) = v15;
        *v16 = v9;
        ++v8;
        v16 += 2;
      }

      while (v7 != v8);
    }

    v28 = *(a1 + 800);
    LODWORD(v29) = *(a1 + 796);
    if (v28 < v29)
    {
      v30 = (a1 + 16 * v28 + 264);
      do
      {
        *v30++ = *&v33[16 * (v28++ % v7)];
        v29 = *(a1 + 796);
      }

      while (v28 < v29);
    }
  }

  else
  {
    v31 = *(a1 + 800);
    LODWORD(v29) = *(a1 + 796);
    if (v31 < v29)
    {
      v32 = (a1 + 16 * v31 + 272);
      do
      {
        *(v32 - 1) = a2;
        *v32 = a3;
        ++v31;
        v32 += 2;
      }

      while (v31 < *(a1 + 796));
      LODWORD(v29) = *(a1 + 796);
    }
  }

  *(a1 + 800) = v29;
}

uint64_t AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::updateClipRegions(uint64_t a1, void *a2)
{
  v2 = (a1 + 264);
  v3 = *(a1 + 796);
  LODWORD(v4) = *(a1 + 800);
  if (v3 > v4)
  {
    if (v4 == 1 || (v42 = *(a1 + 816)) != 0 && v4 == *(v42 + 16))
    {
      v43 = a2;
      v44 = *(a1 + 1092);
      v45 = *(a1 + 1100);
    }

    else
    {
      v43 = a2;
      v44 = 0;
      v45 = 0;
    }

    v49 = a1;
    AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::setClonedScissorShadows(a1, v44, v45);
    a1 = v49;
    v3 = *(v49 + 796);
    LODWORD(v4) = *(v49 + 800);
    a2 = v43;
  }

  *(a1 + 794) = 1;
  *(a1 + 792) = 1;
  if (v3 > v4)
  {
    v46 = 0uLL;
    if (v4 == 1)
    {
      v46 = *v2;
    }

    v4 = v4;
    do
    {
      *(a1 + 264 + 16 * v4++) = v46;
      v47 = *(a1 + 796);
    }

    while (v4 < v47);
    *(a1 + 800) = v47;
    if (v47)
    {
      goto LABEL_4;
    }

LABEL_64:
    v7 = 0;
    return v7 & 1;
  }

  if (!v3)
  {
    goto LABEL_64;
  }

LABEL_4:
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = (v2 + 16);
  do
  {
    v11 = v8[-16];
    v12 = v8[-32];
    v13 = vmovn_s64(v11);
    v14 = vmovn_s64(v12);
    *v12.i8 = vshrn_n_s64(v12, 0x20uLL);
    v15 = vbsl_s8(vcgt_u32(v14, v13), v14, vmin_u32(v13, *v12.i8));
    *v11.i8 = vshrn_n_s64(v11, 0x20uLL);
    v16.i64[0] = v15.u32[0];
    v16.i64[1] = v15.u32[1];
    v17 = vorrq_s8(vshll_n_s32(vbsl_s8(vcgt_u32(v15, *v11.i8), v15, vmin_u32(*v11.i8, *v12.i8)), 0x20uLL), v16);
    v18 = *a1 + v5;
    v19 = *(v18 + 4);
    v20 = *(v18 + 8);
    *(v18 + 4) = -COERCE_DOUBLE(0x8000000080000000);
    if (v17.i32[0] == v17.i32[1] || v17.i32[2] == v17.i32[3])
    {
      v23 = 0;
      v25 = 0;
      v22 = 0x80000000;
    }

    else
    {
      v22 = (v17.i32[0] << 11) & 0x3FF0000 | ((v17.i32[1] - 1) >> 5) & 0x3FF | 0x80000000;
      v23 = (v17.i32[2] << 11) & 0x3FF0000 | ((v17.i32[3] - 1) >> 5) & 0x3FF;
      *(v18 + 4) = v22;
      *(v18 + 8) = v23;
      v24 = vorr_s8(*v17.i8, *&vextq_s8(v17, v17, 8uLL));
      v25 = ((v24.i8[0] | v24.i8[4]) & 0x1F) == 0;
    }

    if (v19 != v22 || v20 != v23)
    {
      *a2 |= 0x1000000000000uLL;
    }

    v27 = *(a1 + 794);
    if (!v25)
    {
      v27 = 0;
    }

    *(a1 + 794) = v27;
    v28 = *(a1 + 776);
    v29 = v17.i32[0] == v28 && *(v17.i64 + 4) == *(a1 + 780) && v17.i32[3] == *(a1 + 788);
    *(a1 + 792) &= v29;
    if (v8->i32[0] == v17.i32[0] && *(v8->i64 + 4) == *(v17.i64 + 4))
    {
      v30 = v8->i32[3] != v17.i32[3];
      if (v17.i32[0] > v28)
      {
        goto LABEL_5;
      }
    }

    else
    {
      v30 = 1;
      if (v17.i32[0] > v28)
      {
        goto LABEL_5;
      }
    }

    if (v17.i32[2] > *(a1 + 784) || v17.i32[1] < *(a1 + 780))
    {
LABEL_5:
      v9 = 1;
      goto LABEL_6;
    }

    v9 = v17.i32[3] < *(a1 + 788);
LABEL_6:
    v7 |= v30;
    *(a1 + 793) |= v9;
    *v8++ = v17;
    ++v6;
    v10 = *(a1 + 796);
    v5 += 8;
  }

  while (v6 < v10);
  if (*(a1 + 794) != 1)
  {
    goto LABEL_43;
  }

  if (v10)
  {
    v31 = *(a1 + 804);
    if (v31 != 1)
    {
      goto LABEL_50;
    }

    v32 = (a1 + 832);
    v33 = *(a1 + 796);
    do
    {
      v34 = *(v32 - 1) == *(a1 + 1084) && *v32 == *(a1 + 1088);
      LOBYTE(v31) = v31 & v34;
      v32 += 2;
      --v33;
    }

    while (v33);
    if ((v31 & 1) == 0)
    {
      *(a1 + 794) = 0;
    }

LABEL_43:
    if (v10)
    {
      if (*(a1 + 804))
      {
        v35 = v2 + 141;
        do
        {
          v37 = *v35;
          v36 = v35[32] != COERCE_FLOAT(*v35) || v35[33] != *(&v37 + 1);
          v7 |= v36;
          *(v35 + 16) = v37;
          v35 += 2;
          --v10;
        }

        while (v10);
        return v7 & 1;
      }

LABEL_50:
      v38 = (a1 + 960);
      do
      {
        v40 = *(a1 + 1084);
        v41 = *(a1 + 1088);
        v39 = *(v38 - 1) != v40 || *v38 != v41;
        v7 |= v39;
        *(v38 - 1) = v40;
        *v38 = v41;
        v38 += 2;
        --v10;
      }

      while (v10);
    }
  }

  return v7 & 1;
}

uint64_t AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::canUseScissorConfigReg(uint64_t a1)
{
  if ((*(a1 + 824) & 1) != 0 || *(a1 + 792) != 1)
  {
    return 0;
  }

  v1 = *(a1 + 796);
  if (!v1)
  {
    return 1;
  }

  LODWORD(v2) = *(a1 + 804);
  if (v2 != 1)
  {
    return 1;
  }

  v3 = (a1 + 832);
  do
  {
    v4 = *(v3 - 1) == *(a1 + 1084) && *v3 == *(a1 + 1088);
    v2 = v2 & v4;
    v3 += 2;
    --v1;
  }

  while (v1);
  return v2;
}

uint64_t AGX::ClipRectContextGen3<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::anyPartialScreenClip(uint64_t a1)
{
  if (*(a1 + 824))
  {
    return 1;
  }

  if (*(a1 + 793))
  {
    return 1;
  }

  v2 = *(a1 + 796);
  if (!v2)
  {
    return 0;
  }

  v3 = *(a1 + 804);
  if (v3 == 1)
  {
    v4 = (a1 + 832);
    do
    {
      v5 = *(v4 - 1) == *(a1 + 1084) && *v4 == *(a1 + 1088);
      v3 &= v5;
      v4 += 2;
      --v2;
    }

    while (v2);
  }

  else
  {
    v3 = 1;
  }

  return v3 ^ 1u;
}

void std::vector<AGXG18PFamilyTexture *>::push_back[abi:nn200100](uint64_t a1, void *a2)
{
  v4 = *(a1 + 8);
  v3 = *(a1 + 16);
  if (v4 >= v3)
  {
    v6 = *a1;
    v7 = v4 - *a1;
    v8 = v7 >> 3;
    v9 = (v7 >> 3) + 1;
    if (v9 >> 61)
    {
      std::__throw_bad_array_new_length[abi:nn200100]();
    }

    v10 = v3 - v6;
    if (v10 >> 2 > v9)
    {
      v9 = v10 >> 2;
    }

    if (v10 >= 0x7FFFFFFFFFFFFFF8)
    {
      v11 = 0x1FFFFFFFFFFFFFFFLL;
    }

    else
    {
      v11 = v9;
    }

    if (v11)
    {
      if (!(v11 >> 61))
      {
        operator new();
      }

      std::__throw_bad_array_new_length[abi:nn200100]();
    }

    *(8 * v8) = *a2;
    v5 = 8 * v8 + 8;
    memcpy(0, v6, v7);
    *a1 = 0;
    *(a1 + 8) = v5;
    *(a1 + 16) = 0;
    if (v6)
    {
      operator delete(v6);
    }
  }

  else
  {
    *v4 = *a2;
    v5 = (v4 + 1);
  }

  *(a1 + 8) = v5;
}

void sub_29CD18ABC(_Unwind_Exception *a1)
{
  v4 = *v2;
  if (*v2)
  {
    *(v1 + 552) = v4;
    operator delete(v4);
  }

  AGX::ResourceGroupUsage<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::~ResourceGroupUsage(v1 + 24);
  _Unwind_Resume(a1);
}

void sub_29CD19114(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  std::unordered_map<unsigned long,AGX::FunctionCompiledEventInfo>::~unordered_map[abi:nn200100](v15 + 48);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__3512(uint64_t result, uint64_t a2)
{
  v4 = *(a2 + 64);
  v2 = a2 + 64;
  v3 = v4;
  *(result + 64) = v4;
  v5 = *(v2 - 16);
  *(result + 56) = *(v2 - 8);
  *(v2 - 16) = 0;
  *(result + 48) = v5;
  *(v2 - 8) = 0;
  v6 = *(v2 + 8);
  *(result + 72) = v6;
  *(result + 80) = *(v2 + 16);
  if (v6)
  {
    v7 = *(v3 + 8);
    v8 = *(result + 56);
    if ((v8 & (v8 - 1)) != 0)
    {
      if (v7 >= v8)
      {
        v7 %= v8;
      }
    }

    else
    {
      v7 &= v8 - 1;
    }

    *(v5 + 8 * v7) = result + 64;
    *v2 = 0;
    *(v2 + 8) = 0;
  }

  return result;
}

void __Block_byref_object_dispose__3513(uint64_t a1)
{
  v2 = *(a1 + 64);
  if (v2)
  {
    do
    {
      v3 = *v2;
      operator delete(v2);
      v2 = v3;
    }

    while (v3);
  }

  v4 = *(a1 + 48);
  *(a1 + 48) = 0;
  if (v4)
  {

    operator delete(v4);
  }
}

uint64_t ___ZNK3AGX13CommandBufferINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE39processDebugBufferAndUpdateEncoderInfosEP7NSArrayIPU38objcproto27MTLCommandBufferEncoderInfo11objc_objectE_block_invoke(uint64_t result, unsigned int *a2, unint64_t a3)
{
  v8[0] = MEMORY[0x29EDCA5F8];
  v8[1] = 3221225472;
  v9 = ___ZNK3AGX13CommandBufferINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE39processDebugBufferAndUpdateEncoderInfosEP7NSArrayIPU38objcproto27MTLCommandBufferEncoderInfo11objc_objectE_block_invoke_2;
  v10 = &unk_29F3412E8;
  v11 = *(result + 32);
  if (a3 >= 8)
  {
    v3 = *a2;
    v4 = 8 * v3;
    if (8 * v3 + 8 <= a3 && v3 != 0)
    {
      v6 = (a2 + 2);
      do
      {
        v7 = *v6++;
        result = v9(v8, v7 & 0x1FFFFFFFFFFFFFFLL, (v7 >> 57) & 3, v7 >> 59);
        v4 -= 8;
      }

      while (v4);
    }
  }

  return result;
}

void *std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(void *result, unint64_t a2)
{
  v2 = result[1];
  if (!*&v2)
  {
    goto LABEL_22;
  }

  v3 = vcnt_s8(v2);
  v3.i16[0] = vaddlv_u8(v3);
  if (v3.u32[0] > 1uLL)
  {
    v4 = a2;
    if (*&v2 <= a2)
    {
      v4 = a2 % *&v2;
    }
  }

  else
  {
    v4 = (*&v2 - 1) & a2;
  }

  v5 = *(*result + 8 * v4);
  if (!v5 || (v6 = *v5) == 0)
  {
LABEL_22:
    operator new();
  }

  if (v3.u32[0] < 2uLL)
  {
    while (1)
    {
      v7 = v6[1];
      if (v7 == a2)
      {
        if (v6[2] == a2)
        {
          return result;
        }
      }

      else if ((v7 & (*&v2 - 1)) != v4)
      {
        goto LABEL_22;
      }

      v6 = *v6;
      if (!v6)
      {
        goto LABEL_22;
      }
    }
  }

  while (1)
  {
    v8 = v6[1];
    if (v8 == a2)
    {
      break;
    }

    if (v8 >= *&v2)
    {
      v8 %= *&v2;
    }

    if (v8 != v4)
    {
      goto LABEL_22;
    }

LABEL_17:
    v6 = *v6;
    if (!v6)
    {
      goto LABEL_22;
    }
  }

  if (v6[2] != a2)
  {
    goto LABEL_17;
  }

  return result;
}

void *___ZNK3AGX13CommandBufferINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE39processDebugBufferAndUpdateEncoderInfosEP7NSArrayIPU38objcproto27MTLCommandBufferEncoderInfo11objc_objectE_block_invoke_2(void *result, unint64_t a2, unsigned int a3)
{
  v3 = *(result[4] + 8);
  v4 = v3[7];
  if (!*&v4)
  {
    return std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(&v3[6], a2);
  }

  v5 = vcnt_s8(v4);
  v5.i16[0] = vaddlv_u8(v5);
  if (v5.u32[0] > 1uLL)
  {
    v6 = a2;
    if (*&v4 <= a2)
    {
      v6 = a2 % *&v4;
    }
  }

  else
  {
    v6 = (*&v4 - 1) & a2;
  }

  v7 = *(*&v3[6] + 8 * v6);
  if (!v7)
  {
    return std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(&v3[6], a2);
  }

  v8 = *v7;
  if (!v8)
  {
    return std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(&v3[6], a2);
  }

  if (v5.u32[0] < 2uLL)
  {
    v9 = *&v4 - 1;
    while (1)
    {
      v10 = v8[1];
      if (v10 == a2)
      {
        if (v8[2] == a2)
        {
          goto LABEL_22;
        }
      }

      else if ((v10 & v9) != v6)
      {
        return std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(&v3[6], a2);
      }

      v8 = *v8;
      if (!v8)
      {
        return std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(&v3[6], a2);
      }
    }
  }

  while (1)
  {
    v11 = v8[1];
    if (v11 == a2)
    {
      break;
    }

    if (v11 >= *&v4)
    {
      v11 %= *&v4;
    }

    if (v11 != v6)
    {
      return std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(&v3[6], a2);
    }

LABEL_16:
    v8 = *v8;
    if (!v8)
    {
      return std::__hash_table<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::__unordered_map_hasher<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::hash<unsigned long long>,std::equal_to<unsigned long long>,true>,std::__unordered_map_equal<unsigned long long,std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>,std::equal_to<unsigned long long>,std::hash<unsigned long long>,true>,std::allocator<std::__hash_value_type<unsigned long long,AGXSDebugBuffer::KickStatus>>>::__emplace_unique_key_args<unsigned long long,std::pair<unsigned long long const,AGXSDebugBuffer::KickStatus>>(&v3[6], a2);
    }
  }

  if (v8[2] != a2)
  {
    goto LABEL_16;
  }

LABEL_22:
  v12 = *(v8 + 24);
  if (v12 <= a3)
  {
    LOBYTE(v12) = a3;
  }

  *(v8 + 24) = v12;
  return result;
}

void std::vector<AGX::AGXTimestampEntry>::push_back[abi:nn200100](uint64_t a1, _OWORD *a2)
{
  v4 = *(a1 + 8);
  v3 = *(a1 + 16);
  if (v4 >= v3)
  {
    v6 = *a1;
    v7 = v4 - *a1;
    v8 = v7 >> 4;
    v9 = (v7 >> 4) + 1;
    if (v9 >> 60)
    {
      std::__throw_bad_array_new_length[abi:nn200100]();
    }

    v10 = v3 - v6;
    if (v10 >> 3 > v9)
    {
      v9 = v10 >> 3;
    }

    if (v10 >= 0x7FFFFFFFFFFFFFF0)
    {
      v11 = 0xFFFFFFFFFFFFFFFLL;
    }

    else
    {
      v11 = v9;
    }

    if (v11)
    {
      if (!(v11 >> 60))
      {
        operator new();
      }

      std::__throw_bad_array_new_length[abi:nn200100]();
    }

    *(16 * v8) = *a2;
    v5 = 16 * v8 + 16;
    memcpy(0, v6, v7);
    *a1 = 0;
    *(a1 + 8) = v5;
    *(a1 + 16) = 0;
    if (v6)
    {
      operator delete(v6);
    }
  }

  else
  {
    *v4 = *a2;
    v5 = (v4 + 1);
  }

  *(a1 + 8) = v5;
}

void std::vector<AGX::CommandBuffer<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::ProgressMarker,std::allocator<AGX::CommandBuffer<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::ProgressMarker>>::push_back[abi:nn200100](uint64_t a1, __int128 *a2)
{
  v3 = *(a1 + 8);
  v4 = *(a1 + 16);
  if (v3 >= v4)
  {
    v7 = *a1;
    v8 = 0xAAAAAAAAAAAAAAABLL * ((v3 - *a1) >> 3);
    v9 = v8 + 1;
    if (v8 + 1 > 0xAAAAAAAAAAAAAAALL)
    {
      std::__throw_bad_array_new_length[abi:nn200100]();
    }

    v10 = 0xAAAAAAAAAAAAAAABLL * ((v4 - v7) >> 3);
    if (2 * v10 > v9)
    {
      v9 = 2 * v10;
    }

    if (v10 >= 0x555555555555555)
    {
      v11 = 0xAAAAAAAAAAAAAAALL;
    }

    else
    {
      v11 = v9;
    }

    if (v11)
    {
      if (v11 <= 0xAAAAAAAAAAAAAAALL)
      {
        operator new();
      }

      std::__throw_bad_array_new_length[abi:nn200100]();
    }

    v12 = 8 * ((v3 - *a1) >> 3);
    *v12 = *a2;
    *(v12 + 16) = *(a2 + 2);
    v6 = 24 * v8 + 24;
    v13 = 24 * v8 - (v3 - v7);
    memcpy((v12 - (v3 - v7)), v7, v3 - v7);
    *a1 = v13;
    *(a1 + 8) = v6;
    *(a1 + 16) = 0;
    if (v7)
    {
      operator delete(v7);
    }
  }

  else
  {
    v5 = *a2;
    *(v3 + 16) = *(a2 + 2);
    *v3 = v5;
    v6 = v3 + 24;
  }

  *(a1 + 8) = v6;
}

void resolveCounterHeap(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  if (!a1[16])
  {
    v14 = 8 * a2;
    v15 = 8 * a3;
    *(a1[13] + 20) = 1;
    [a1 protectionOptions];
    [a1 device];
    v17 = [AGXG18PFamilyComputeContext_mtlnext alloc];
    v18 = [(AGXG18PFamilyComputeContext_mtlnext *)v17 initWithCommandBuffer:a1 allocator:*(a1 + *MEMORY[0x29EDBB748]) enableStateLoaderProgramTracking:0];
    [(IOGPUMetal4ComputeCommandEncoder *)v18 setLabel:@"TimestampCounterResolve"];
    if (a7)
    {
      [(AGXG18PFamilyComputeContext_mtlnext *)v18 waitForFence:a7 beforeEncoderStages:0x10000000];
    }

    [(AGXG18PFamilyComputeContext_mtlnext *)v18 internalResolveCounterHeap:a6 offset:v14 size:v15 destAddress:a4 destResource:a5];
    if (a8)
    {
      [(AGXG18PFamilyComputeContext_mtlnext *)v18 updateFence:a8 afterEncoderStages:0x10000000];
    }

    [(AGXG18PFamilyComputeContext_mtlnext *)v18 endEncoding];
  }
}

void sub_29CD1C140(_Unwind_Exception *a1)
{
  free(*(v1 + 32));
  *(v1 + 32) = 0;
  free(*(v1 + 8));
  *(v1 + 8) = 0;
  MEMORY[0x29ED520D0](v1, v2);
  _Unwind_Resume(a1);
}

void sub_29CD1C294(_Unwind_Exception *a1)
{
  free(*(v1 + 32));
  *(v1 + 32) = 0;
  free(*(v1 + 8));
  *(v1 + 8) = 0;
  MEMORY[0x29ED520D0](v1, v2);
  _Unwind_Resume(a1);
}

void sub_29CD1C3E8(_Unwind_Exception *a1)
{
  free(*(v1 + 32));
  *(v1 + 32) = 0;
  free(*(v1 + 8));
  *(v1 + 8) = 0;
  MEMORY[0x29ED520D0](v1, v2);
  _Unwind_Resume(a1);
}

uint64_t AGX::UserBinaryFunctionFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createBinaryFunction(uint64_t a1, void *a2, void *a3, uint64_t a4, void *a5, void *a6, uint64_t a7, uint64_t a8)
{
  v24 = [a2 functionDescriptor];
  v16 = [MEMORY[0x29EDBB5B0] functionDescriptor];
  [v16 setOptions:1];
  if (([a2 options] & 2) != 0)
  {
    [v16 setOptions:{objc_msgSend(v16, "options") | 8}];
  }

  if ([a5 lookupArchives])
  {
    v17 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(objc_msgSend(a5, "lookupArchives"), "count")}];
    v18 = [a5 lookupArchives];
    v38[0] = MEMORY[0x29EDCA5F8];
    v38[1] = 3221225472;
    v38[2] = ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createBinaryFunctionEP28MTL4BinaryFunctionDescriptorP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchiveP23MTL4CompilerTaskOptionsPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke;
    v38[3] = &unk_29F341450;
    v38[4] = v17;
    [v18 enumerateObjectsUsingBlock:v38];
    [v16 setBinaryArchives:v17];
  }

  v32 = 0;
  v33 = &v32;
  v34 = 0x3052000000;
  v35 = __Block_byref_object_copy__3844;
  v36 = __Block_byref_object_dispose__3845;
  v37 = 0;
  v26 = 0;
  v27 = &v26;
  v28 = 0x3052000000;
  v29 = __Block_byref_object_copy__3844;
  v30 = __Block_byref_object_dispose__3845;
  v31 = 0;
  if (a8)
  {
    v19 = dispatch_group_create();
  }

  else
  {
    v19 = 0;
  }

  v20 = [v16 binaryArchives];
  v21 = *(a1 + 16);
  v25[0] = MEMORY[0x29EDCA5F8];
  v25[1] = 3221225472;
  v25[2] = ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createBinaryFunctionEP28MTL4BinaryFunctionDescriptorP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchiveP23MTL4CompilerTaskOptionsPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke_2;
  v25[3] = &unk_29F341940;
  v25[8] = a8;
  v25[9] = &v32;
  v25[10] = &v26;
  v25[11] = a1;
  v25[4] = a3;
  v25[5] = v16;
  v25[6] = a4;
  v25[7] = a7;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v24, v20, a4, 0, v19, v21, a3, v25, 0);
  if (a6)
  {
    *a6 = v33[5];
  }

  v22 = v27[5];
  _Block_object_dispose(&v26, 8);
  _Block_object_dispose(&v32, 8);
  return v22;
}

void sub_29CD1EB24(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, char a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29)
{
  _Block_object_dispose(&a23, 8);
  _Block_object_dispose(&a29, 8);
  _Unwind_Resume(a1);
}

uint64_t ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createBinaryFunctionEP28MTL4BinaryFunctionDescriptorP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchiveP23MTL4CompilerTaskOptionsPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke(uint64_t result, uint64_t a2, uint64_t a3, _BYTE *a4)
{
  if (a2)
  {
    v5 = *(result + 32);
    v7 = *(a2 + 56);
    v6 = v7;
    if (atomic_load_explicit((v7 + 24), memory_order_acquire) != -1)
    {
      v9 = &v7;
      v8 = &v9;
      std::__call_once((v7 + 24), &v8, std::__call_once_proxy[abi:nn200100]<std::tuple<AGX::ArchivePipelineFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getOrCreateBinaryArchive(void)::{lambda(void)#1} &&>>);
    }

    result = [v5 addObject:*(v6 + 32)];
  }

  *a4 = 0;
  return result;
}

void ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createBinaryFunctionEP28MTL4BinaryFunctionDescriptorP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchiveP23MTL4CompilerTaskOptionsPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke_2(uint64_t *a1, void *a2, id a3)
{
  if (!a2 || a3)
  {
    if (!a3)
    {
      v13 = [MEMORY[0x29EDB8DC0] dictionaryWithObject:@"Internal error creating binary function" forKey:*MEMORY[0x29EDB9ED8]];
      a3 = [objc_alloc(MEMORY[0x29EDB9FA0]) initWithDomain:@"AGXMetalG18P" code:1 userInfo:v13];
    }

    *(*(a1[9] + 8) + 40) = a3;
    v14 = a1[8];
    if (v14)
    {
      v15 = *(v14 + 16);

      v15();
    }
  }

  else
  {
    v5 = a1[11];
    if ([a2 functionType] == 6 && (objc_msgSend(a1[4], "requiresRaytracingEmulation") & 1) == 0)
    {
      v22 = a1[4];
      v21 = a1[5];
      v23 = a1[8];
      v24 = *(a1[9] + 8);
      v25 = a1[6];
      v26 = a1[7];
      v29 = 0;
      v30 = &v29;
      v31 = 0x3052000000;
      v32 = __Block_byref_object_copy__3844;
      v33 = __Block_byref_object_dispose__3845;
      v34 = 0;
      v27 = *(v5 + 32);
      if (v23)
      {
        v35 = MEMORY[0x29EDCA5F8];
        v36 = 3221225472;
        v37 = ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE26createIntersectionFunctionEP21MTLFunctionDescriptorP12_MTLFunctionP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke;
        v38 = &unk_29F341968;
        v40 = v23;
        v41 = &v29;
        v39 = a2;
        v42 = 0;
        v43 = &v42;
        v44 = 0x3052000000;
        v45 = __Block_byref_object_copy__3844;
        v46 = __Block_byref_object_dispose__3845;
        v47 = 0;
        v48 = MEMORY[0x29EDCA5F8];
        v49 = 3221225472;
        v50 = ___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE23createIntersectionFnSetEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_3853;
        v51 = &unk_29F341990;
        v53 = &v42;
        v54 = v27;
        v52 = &v35;
        AGX::UserShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createBinaryLinkedIntersectionProgramVariants<true>(v27, v21, a2, v22, v25, 1, v26, &v48);
        _Block_object_dispose(&v42, 8);
      }

      else
      {
        AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createIntersectionFnSet(v27, v21, a2, v22, v25, (v24 + 40));
        if (!*(v24 + 40))
        {
          v28 = [[AGXG18PFamilyBinaryFunction alloc] initWithFunction:a2];
          v30[5] = v28;
        }
      }

      v19 = v30[5];
      v20 = &v29;
    }

    else
    {
      v7 = a1[4];
      v6 = a1[5];
      v8 = a1[8];
      v9 = *(a1[9] + 8);
      v10 = a1[6];
      v11 = a1[7];
      v42 = 0;
      v43 = &v42;
      v44 = 0x3052000000;
      v45 = __Block_byref_object_copy__3844;
      v46 = __Block_byref_object_dispose__3845;
      v47 = 0;
      v12 = *(v5 + 32);
      if (v8)
      {
        v35 = MEMORY[0x29EDCA5F8];
        v36 = 3221225472;
        v37 = ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createVisibleFunctionEP21MTLFunctionDescriptorP12_MTLFunctionP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke;
        v38 = &unk_29F341968;
        v40 = v8;
        v41 = &v42;
        v39 = a2;
        v48 = MEMORY[0x29EDCA5F8];
        v49 = 3221225472;
        v50 = ___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE31createDynamicLibraryForFunctionEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_3850;
        v51 = &unk_29F341A30;
        v52 = a2;
        v53 = v7;
        v54 = a2;
        v55 = &v35;
        v56 = v12;
        v57 = 0;
        AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::compileVisibleFunction(v12, v6, a2, v7, v10, 1, v11, &v48);
      }

      else
      {
        v16 = (v9 + 40);
        *(v9 + 40) = 0;
        v48 = MEMORY[0x29EDCA5F8];
        v49 = 3221225472;
        v50 = ___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE31createDynamicLibraryForFunctionEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_3850;
        v51 = &unk_29F341A30;
        v52 = a2;
        v53 = v7;
        v54 = a2;
        v55 = 0;
        v56 = v12;
        v57 = v9 + 40;
        AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::compileVisibleFunction(v12, v6, a2, v7, v10, 0, 0, &v48);
        v17 = *v16;
        if (!*v16)
        {
          v18 = [[AGXG18PFamilyBinaryFunction alloc] initWithFunction:a2];
          v43[5] = v18;
        }
      }

      v19 = v43[5];
      v20 = &v42;
    }

    _Block_object_dispose(v20, 8);
    *(*(a1[10] + 8) + 40) = v19;
  }
}

void sub_29CD1F01C(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va1, a2);
  va_start(va, a2);
  v3 = va_arg(va1, void);
  v5 = va_arg(va1, void);
  v6 = va_arg(va1, void);
  v7 = va_arg(va1, void);
  v8 = va_arg(va1, void);
  v9 = va_arg(va1, void);
  v10 = va_arg(va1, void);
  v11 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  v13 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(void *a1, uint64_t a2, uint64_t a3, unsigned int a4, NSObject *a5, NSObject *a6, void *a7, uint64_t a8, uint64_t a9)
{
  v64 = *MEMORY[0x29EDCA608];
  v57 = 0;
  v58 = &v57;
  v59 = 0x3052000000;
  v60 = __Block_byref_object_copy__3844;
  v61 = __Block_byref_object_dispose__3845;
  v62 = 0;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v12 = [objc_msgSend(a1 "library")];
    (*(a8 + 16))(a8, v12, 0);
  }

  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      if (a5)
      {
        v13 = dispatch_group_create();
      }

      else
      {
        v13 = 0;
      }

      v51 = 0;
      v52 = &v51;
      v53 = 0x3052000000;
      v54 = __Block_byref_object_copy__3844;
      v55 = __Block_byref_object_dispose__3845;
      v56 = 0;
      v17 = objc_opt_new();
      [v17 setConstantValues:{objc_msgSend(a1, "constantValues")}];
      [v17 setSpecializedName:{objc_msgSend(a1, "specializedName")}];
      [v17 setBinaryArchives:a2];
      v18 = [v17 options];
      v19 = 4;
      if (!a4)
      {
        v19 = 0;
      }

      [v17 setOptions:v18 | v19];
      v20 = [a1 functionDescriptor];
      objc_opt_class();
      if (objc_opt_isKindOfClass())
      {
        v21 = [v20 library];
        v52[5] = v21;
        [v17 setName:{objc_msgSend(v20, "name")}];
      }

      else
      {
        objc_opt_class();
        if (objc_opt_isKindOfClass())
        {
          [v17 setName:{objc_msgSend(objc_msgSend(v20, "functionGraph"), "functionName")}];
          v50[0] = MEMORY[0x29EDCA5F8];
          v50[1] = 3221225472;
          v50[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke;
          v50[3] = &unk_29F3414C8;
          v50[4] = &v57;
          v50[5] = &v51;
          AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v20, a2, a3, a4, v13, a6, a7, 0, v50);
        }
      }

      if (v13)
      {
        dispatch_group_enter(a5);
        block[0] = MEMORY[0x29EDCA5F8];
        block[1] = 3221225472;
        block[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_2;
        block[3] = &unk_29F3414F0;
        block[8] = &v51;
        block[9] = &v57;
        block[4] = v17;
        block[5] = a5;
        block[6] = a3;
        block[7] = a8;
        dispatch_group_notify(v13, a6, block);
        dispatch_release(v13);
      }

      else
      {
        v22 = [v52[5] newFunctionWithDescriptor:v17 destinationArchive:a3 error:v58 + 5];
        (*(a8 + 16))(a8, v22, v58[5]);
      }

      _Block_object_dispose(&v51, 8);
    }

    else
    {
      objc_opt_class();
      if (objc_opt_isKindOfClass())
      {
        v14 = [MEMORY[0x29EDB8D80] arrayWithObject:{objc_msgSend(a1, "functionGraph")}];
        v15 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(objc_msgSend(a1, "functionDescriptors"), "count")}];
        v35 = a8;
        v36 = v14;
        group = a5;
        if (a5)
        {
          v16 = dispatch_group_create();
        }

        else
        {
          v16 = 0;
        }

        v47 = 0u;
        v48 = 0u;
        v45 = 0u;
        v46 = 0u;
        v34 = a1;
        v23 = [a1 functionDescriptors];
        v24 = [v23 countByEnumeratingWithState:&v45 objects:v63 count:16];
        if (v24)
        {
          v25 = *v46;
          do
          {
            for (i = 0; i != v24; ++i)
            {
              if (*v46 != v25)
              {
                objc_enumerationMutation(v23);
              }

              v27 = *(*(&v45 + 1) + 8 * i);
              objc_opt_class();
              if (objc_opt_isKindOfClass())
              {
                v28 = [objc_msgSend(v27 "library")];
                [v15 addObject:v28];
              }

              else
              {
                objc_opt_class();
                if (objc_opt_isKindOfClass())
                {
                  v44[0] = MEMORY[0x29EDCA5F8];
                  v44[1] = 3221225472;
                  v44[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_3;
                  v44[3] = &unk_29F341518;
                  v44[4] = v15;
                  v44[5] = &v57;
                  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v27, a2, a3, a4, v16, a6, a7, v44, 0);
                }

                else
                {
                  objc_opt_class();
                  if (objc_opt_isKindOfClass())
                  {
                    v43[0] = MEMORY[0x29EDCA5F8];
                    v43[1] = 3221225472;
                    v43[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_4;
                    v43[3] = &unk_29F341540;
                    v43[5] = v15;
                    v43[6] = &v57;
                    v43[4] = v27;
                    AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v27, a2, a3, a4, v16, a6, a7, 0, v43);
                  }
                }
              }
            }

            v24 = [v23 countByEnumeratingWithState:&v45 objects:v63 count:16];
          }

          while (v24);
        }

        v29 = objc_opt_new();
        [v29 setFunctionGraphs:v36];
        [v29 setBinaryArchives:a2];
        [v29 setOptions:{objc_msgSend(v29, "options") | a4}];
        if (v16)
        {
          dispatch_group_enter(group);
          v42[0] = MEMORY[0x29EDCA5F8];
          v42[1] = 3221225472;
          v42[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_5;
          v42[3] = &unk_29F341568;
          v42[4] = v29;
          v42[5] = v15;
          v42[11] = a9;
          v42[12] = &v57;
          v42[6] = a3;
          v42[7] = a7;
          v42[9] = group;
          v42[10] = v35;
          v42[8] = v34;
          dispatch_group_notify(v16, a6, v42);
          dispatch_release(v16);
        }

        else
        {
          [v29 setFunctions:v15];
          if (v58[5])
          {
            v30 = 0;
          }

          else
          {
            v30 = v58 + 5;
          }

          v31 = [a7 newLibraryWithStitchedDescriptor:v29 destinationBinaryArchive:a3 error:v30];
          if (v35)
          {
            v32 = [v31 newFunctionWithName:{objc_msgSend(objc_msgSend(v34, "functionGraph"), "functionName")}];
            (*(v35 + 16))(v35, v32, v58[5]);
          }

          if (a9)
          {
            (*(a9 + 16))(a9, v31, v58[5]);
          }
        }
      }
    }
  }

  _Block_object_dispose(&v57, 8);
}

id ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke(uint64_t a1, void *a2, uint64_t a3)
{
  if (a3)
  {
    v4 = *(*(a1 + 32) + 8);
    if (!*(v4 + 40))
    {
      *(v4 + 40) = a3;
    }
  }

  result = a2;
  *(*(*(a1 + 40) + 8) + 40) = result;
  return result;
}

void ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_2(uint64_t a1)
{
  v2 = *(*(*(a1 + 64) + 8) + 40);
  if (v2)
  {
    v3 = [v2 newFunctionWithDescriptor:*(a1 + 32) destinationArchive:*(a1 + 48) error:*(*(a1 + 72) + 8) + 40];
    (*(*(a1 + 56) + 16))();
  }

  else
  {
    (*(*(a1 + 56) + 16))();
  }

  v4 = *(a1 + 40);

  dispatch_group_leave(v4);
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_3(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a3)
  {
    v3 = *(*(a1 + 40) + 8);
    if (!*(v3 + 40))
    {
      *(v3 + 40) = a3;
    }
  }

  return [*(a1 + 32) addObject:a2];
}

void ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_4(uint64_t a1, void *a2, uint64_t a3)
{
  if (a3)
  {
    v4 = *(*(a1 + 48) + 8);
    if (!*(v4 + 40))
    {
      *(v4 + 40) = a3;
    }
  }

  v5 = [a2 newFunctionWithName:{objc_msgSend(objc_msgSend(*(a1 + 32), "functionGraph"), "functionName")}];
  [*(a1 + 40) addObject:v5];
}

void ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE14createFunctionEPK22MTL4FunctionDescriptorP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESB_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSE_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPU22objcproto11MTLFunction11objc_objectP7NSErrorEU13block_pointerFvPU21objcproto10MTLLibrary11objc_objectSO_E_block_invoke_5(uint64_t a1)
{
  [*(a1 + 32) setFunctions:*(a1 + 40)];
  v2 = *(*(a1 + 96) + 8);
  v4 = *(v2 + 40);
  v3 = v2 + 40;
  if (v4)
  {
    v5 = 0;
  }

  else
  {
    v5 = v3;
  }

  v6 = [*(a1 + 56) newLibraryWithStitchedDescriptor:*(a1 + 32) destinationBinaryArchive:*(a1 + 48) error:v5];
  if (*(a1 + 80))
  {
    v7 = [v6 newFunctionWithName:{objc_msgSend(objc_msgSend(*(a1 + 64), "functionGraph"), "functionName")}];
    (*(*(a1 + 80) + 16))();
  }

  v8 = *(a1 + 88);
  if (v8)
  {
    (*(v8 + 16))(v8, v6, *(*(*(a1 + 96) + 8) + 40));
  }

  v9 = *(a1 + 72);

  dispatch_group_leave(v9);
}

uint64_t ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createVisibleFunctionEP21MTLFunctionDescriptorP12_MTLFunctionP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke(void *a1, uint64_t a2)
{
  if (!a2)
  {
    *(*(a1[6] + 8) + 40) = [[AGXG18PFamilyBinaryFunction alloc] initWithFunction:a1[4]];
  }

  v3 = *(a1[5] + 16);

  return v3();
}

void ___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE31createDynamicLibraryForFunctionEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_3850(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  v5 = *(a2 + 24);
  if (v5)
  {
    v6 = -[AGXG18PFamilyDynamicLibrary initWithBinaryData:name:device:]([AGXG18PFamilyDynamicLibrary alloc], "initWithBinaryData:name:device:", v5, [*(a1 + 32) name], *(a1 + 40));
    [*(a1 + 48) setVendorPrivate:v6];

    [*(a1 + 48) setPrecompiledOutput:MEMORY[0x29EDCA560]];
    v7 = (*(a1 + 40) + 856);
    atomic_fetch_or(v7, 0x40000000000uLL);
    atomic_fetch_or(v7 + 1, 0);
    v8 = *(a1 + 56);
    if (v8)
    {
      v9 = *(v8 + 16);

      v9();
    }
  }

  else
  {
    v14 = MEMORY[0x29EDCA5F8];
    v15 = 3221225472;
    v16 = ___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE31createDynamicLibraryForFunctionEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_2_3851;
    v17 = &unk_29F3413D8;
    v10 = *(a1 + 72);
    v18 = *(a1 + 56);
    v19 = v10;
    if (a3 > 3)
    {
      v11 = 5;
    }

    else
    {
      v11 = qword_29D2F40D8[a3];
    }

    v12 = [MEMORY[0x29EDB8DC0] dictionaryWithObject:a4 forKey:{*MEMORY[0x29EDB9ED8], v14, v15}];
    v13 = [objc_alloc(MEMORY[0x29EDB9FA0]) initWithDomain:@"AGXMetalG18P" code:v11 userInfo:v12];
    v16(&v14, 0, 0, v13);
  }
}

void *___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE31createDynamicLibraryForFunctionEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_2_3851(void *result, uint64_t a2, uint64_t a3, void *a4)
{
  v5 = result[4];
  if (v5)
  {
    v6 = *(v5 + 16);
    v7 = result[4];

    return v6(v7, a4);
  }

  else if (result[5])
  {
    v8 = result;
    result = a4;
    *v8[5] = result;
  }

  return result;
}

uint64_t ___ZN3AGX25UserBinaryFunctionFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE26createIntersectionFunctionEP21MTLFunctionDescriptorP12_MTLFunctionP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU29objcproto18MTL4BinaryFunction11objc_objectSF_E_block_invoke(void *a1, uint64_t a2)
{
  if (!a2)
  {
    *(*(a1[6] + 8) + 40) = [[AGXG18PFamilyBinaryFunction alloc] initWithFunction:a1[4]];
  }

  v3 = *(a1[5] + 16);

  return v3();
}

uint64_t ___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE23createIntersectionFnSetEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_3853(uint64_t a1, unint64_t a2, uint64_t a3)
{
  if (a2)
  {
    v4 = *(*(a1 + 40) + 8);
    if (a2 > 3)
    {
      v5 = 5;
    }

    else
    {
      v5 = qword_29D2F40D8[a2];
    }

    v6 = [MEMORY[0x29EDB8DC0] dictionaryWithObject:a3 forKey:*MEMORY[0x29EDB9ED8]];
    *(v4 + 40) = [objc_alloc(MEMORY[0x29EDB9FA0]) initWithDomain:@"AGXMetalG18P" code:v5 userInfo:v6];
  }

  result = *(a1 + 32);
  if (result)
  {
    v8 = *(result + 16);

    return v8();
  }

  return result;
}

void std::__call_once_proxy[abi:nn200100]<std::tuple<AGX::ArchivePipelineFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getOrCreateBinaryArchive(void)::{lambda(void)#1} &&>>(uint64_t ***a1)
{
  v1 = ***a1;
  v5 = objc_opt_new();
  [v5 setUrl:*(*(v1 + 16) + 48)];
  v2 = [*(*(v1 + 16) + 40) newBinaryArchiveWithDescriptor:v5 error:0];
  v3 = *(v1 + 32);
  if (v3 != v2)
  {
    v4 = v2;

    *(v1 + 32) = v4;
  }
}

uint64_t AGX::UserPipelineFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createRenderPipeline(uint64_t a1, void *a2, void *a3, void *a4, void *a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  v15 = [a5 lookupArchives];
  if (v15)
  {
    v16 = v15;
    v17 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v15, "count")}];
    block = MEMORY[0x29EDCA5F8];
    v29 = 3221225472;
    v30 = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21convertBinaryArchivesEP7NSArrayIPU22objcproto11MTL4Archive11objc_objectE_block_invoke;
    v31 = &unk_29F341450;
    v32 = v17;
    [v16 enumerateObjectsUsingBlock:&block];
  }

  else
  {
    v17 = 0;
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    if (a10)
    {
      v18 = dispatch_group_create();
    }

    else
    {
      v18 = 0;
    }

    MTLRenderPipelineDescriptor = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLRenderPipelineDescriptor(a2, a3, v18, *(a1 + 16), a4, v17, a6);
    v42 = 0;
    v43 = &v42;
    v44 = 0x3052000000;
    v45 = __Block_byref_object_copy__3844;
    v46 = __Block_byref_object_dispose__3845;
    v47 = 0;
    block = MEMORY[0x29EDCA5F8];
    v29 = 3221225472;
    v30 = ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createRenderPipelineEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectEP26AGXG18PFamilyBinaryArchivePP27MTLRenderPipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU33objcproto22MTLRenderPipelineState11objc_objectSK_SN_E_block_invoke;
    v31 = &unk_29F341428;
    v32 = a2;
    v33 = MTLRenderPipelineDescriptor;
    v38 = &v42;
    v39 = a1;
    v34 = a4;
    v35 = a6;
    v40 = a7;
    v41 = a8;
    v36 = a9;
    v37 = a10;
    v20 = dispatch_block_create(DISPATCH_BLOCK_INHERIT_QOS_CLASS, &block);
    v21 = v20;
    if (!v18)
    {
LABEL_24:
      (*(v20 + 2))(v20);
      goto LABEL_25;
    }

LABEL_19:
    dispatch_group_notify(v18, *(a1 + 16), v21);
    dispatch_release(v18);
LABEL_25:
    _Block_release(v21);
    v22 = v43[5];
    _Block_object_dispose(&v42, 8);
    return v22;
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    if (a10)
    {
      v18 = dispatch_group_create();
    }

    else
    {
      v18 = 0;
    }

    MTLMeshRenderPipelineDescriptor = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLMeshRenderPipelineDescriptor(a2, a3, v18, *(a1 + 16), a4, v17, a6);
    v42 = 0;
    v43 = &v42;
    v44 = 0x3052000000;
    v45 = __Block_byref_object_copy__3844;
    v46 = __Block_byref_object_dispose__3845;
    v47 = 0;
    block = MEMORY[0x29EDCA5F8];
    v29 = 3221225472;
    v30 = ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createRenderPipelineEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectEP26AGXG18PFamilyBinaryArchivePP27MTLRenderPipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU33objcproto22MTLRenderPipelineState11objc_objectSK_SN_E_block_invoke;
    v31 = &unk_29F341428;
    v32 = a2;
    v33 = MTLMeshRenderPipelineDescriptor;
    v38 = &v42;
    v39 = a1;
    v34 = a4;
    v35 = a6;
    v40 = a7;
    v41 = a8;
    v36 = a9;
    v37 = a10;
    v20 = dispatch_block_create(DISPATCH_BLOCK_INHERIT_QOS_CLASS, &block);
    v21 = v20;
    if (!v18)
    {
      goto LABEL_24;
    }

    goto LABEL_19;
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    if (a10)
    {
      v18 = dispatch_group_create();
    }

    else
    {
      v18 = 0;
    }

    MTLTileRenderPipelineDescriptor = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLTileRenderPipelineDescriptor(a2, a3, v18, *(a1 + 16), a4, v17, a6);
    v42 = 0;
    v43 = &v42;
    v44 = 0x3052000000;
    v45 = __Block_byref_object_copy__3844;
    v46 = __Block_byref_object_dispose__3845;
    v47 = 0;
    block = MEMORY[0x29EDCA5F8];
    v29 = 3221225472;
    v30 = ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createRenderPipelineEP32MTL4TileRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectEP26AGXG18PFamilyBinaryArchivePP27MTLRenderPipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU33objcproto22MTLRenderPipelineState11objc_objectSK_SN_E_block_invoke;
    v31 = &unk_29F341428;
    v32 = a2;
    v33 = MTLTileRenderPipelineDescriptor;
    v38 = &v42;
    v39 = a1;
    v34 = a4;
    v35 = a6;
    v40 = a7;
    v41 = a8;
    v36 = a9;
    v37 = a10;
    v20 = dispatch_block_create(DISPATCH_BLOCK_INHERIT_QOS_CLASS, &block);
    v21 = v20;
    if (!v18)
    {
      goto LABEL_24;
    }

    goto LABEL_19;
  }

  return 0;
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21convertBinaryArchivesEP7NSArrayIPU22objcproto11MTL4Archive11objc_objectE_block_invoke(uint64_t result, uint64_t a2, uint64_t a3, _BYTE *a4)
{
  if (a2)
  {
    v5 = *(result + 32);
    v7 = *(a2 + 56);
    v6 = v7;
    if (atomic_load_explicit((v7 + 24), memory_order_acquire) != -1)
    {
      v9 = &v7;
      v8 = &v9;
      std::__call_once((v7 + 24), &v8, std::__call_once_proxy[abi:nn200100]<std::tuple<AGX::ArchivePipelineFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::getOrCreateBinaryArchive(void)::{lambda(void)#1} &&>>);
    }

    result = [v5 addObject:*(v6 + 32)];
  }

  *a4 = 0;
  return result;
}

void *AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLTileRenderPipelineDescriptor(void *a1, void *a2, NSObject *a3, NSObject *a4, void *a5, uint64_t a6, uint64_t a7)
{
  v39 = *MEMORY[0x29EDCA608];
  v14 = objc_opt_new();
  [v14 setBinaryArchives:a6];
  if ([a1 label])
  {
    [v14 setLabel:{objc_msgSend(a1, "label")}];
  }

  [v14 setThreadgroupSizeMatchesTileSize:{objc_msgSend(a1, "threadgroupSizeMatchesTileSize")}];
  [v14 setMaxTotalThreadsPerThreadgroup:{objc_msgSend(a1, "maxTotalThreadsPerThreadgroup")}];
  if (a1)
  {
    [a1 requiredThreadsPerThreadgroup];
  }

  else
  {
    v31 = 0uLL;
    v32 = 0;
  }

  v37 = v31;
  v38 = v32;
  [v14 setRequiredThreadsPerThreadgroup:&v37];
  [v14 setRasterSampleCount:{objc_msgSend(a1, "rasterSampleCount")}];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  v15 = [a1 staticLinkingDescriptor];
  [v14 setSupportAddingBinaryFunctions:{objc_msgSend(a1, "supportBinaryLinking")}];
  if (a2)
  {
    v28 = a4;
    [v14 setMaxCallStackDepth:{objc_msgSend(objc_msgSend(a2, "tileLinkingDescriptor"), "maxCallStackDepth")}];
    [v14 setPreloadedLibraries:{objc_msgSend(objc_msgSend(a2, "tileLinkingDescriptor"), "preloadedLibraries")}];
    v16 = [objc_msgSend(a2 "tileLinkingDescriptor")];
    v17 = v16;
    v27 = a6;
    v26 = v15;
    v18 = a5;
    if (v16)
    {
      v19 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v16, "count")}];
    }

    else
    {
      v19 = 0;
    }

    v35 = 0u;
    v36 = 0u;
    v33 = 0u;
    v34 = 0u;
    v20 = [v17 countByEnumeratingWithState:&v33 objects:&v37 count:16];
    if (v20)
    {
      v21 = v20;
      v22 = *v34;
      do
      {
        for (i = 0; i != v21; ++i)
        {
          if (*v34 != v22)
          {
            objc_enumerationMutation(v17);
          }

          [v19 addObject:*(*(*(&v33 + 1) + 8 * i) + 80)];
        }

        v21 = [v17 countByEnumeratingWithState:&v33 objects:&v37 count:16];
      }

      while (v21);
    }

    [objc_msgSend(v14 "linkedFunctions")];
    a5 = v18;
    a6 = v27;
    a4 = v28;
    v15 = v26;
  }

  v24 = [a1 tileFunctionDescriptor];
  v30[0] = MEMORY[0x29EDCA5F8];
  v30[1] = 3221225472;
  v30[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLTileRenderPipelineDescriptorEP32MTL4TileRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke;
  v30[3] = &unk_29F341478;
  v30[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v24, a6, a7, 0, a3, a4, a5, v30, 0);
  v29[0] = MEMORY[0x29EDCA5F8];
  v29[1] = 3221225472;
  v29[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLTileRenderPipelineDescriptorEP32MTL4TileRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_2;
  v29[3] = &unk_29F3414A0;
  v29[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(v15, a6, a7, a3, a4, a5, v29);
  return v14;
}

void ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createRenderPipelineEP32MTL4TileRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectEP26AGXG18PFamilyBinaryArchivePP27MTLRenderPipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU33objcproto22MTLRenderPipelineState11objc_objectSK_SN_E_block_invoke(uint64_t a1)
{
  v2 = *(a1 + 88);
  v3 = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLTileRenderPipelineDescriptor>([*(a1 + 32) options], *(a1 + 40));
  *(*(*(a1 + 80) + 8) + 40) = AGX::UserTileShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createTileRenderPipeline_impl(*(v2 + 40), *(a1 + 40), *(a1 + 48), *(a1 + 56), v3, *(a1 + 96), *(a1 + 104), 0, *(a1 + 64), *(a1 + 72));
  v4 = *(a1 + 40);
}

uint64_t AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLTileRenderPipelineDescriptor>(void *a1, void *a2)
{
  v4 = [a1 shaderReflection];
  v5 = [a1 shaderReflection] & 2 | v4 & 1;
  if ([a1 shaderValidation] == 1)
  {
    v5 |= 0x1000000uLL;
  }

  v6 = [MEMORY[0x29EDB8E00] dictionaryWithDictionary:{objc_msgSend(a2, "gpuCompilerSPIOptions")}];
  if ([a1 enablePerformanceStatistics])
  {
    v5 |= 0x40000uLL;
  }

  if ([a1 enablePostVertexDump])
  {
    v7 = v5 | 0x80000;
  }

  else
  {
    v7 = v5;
  }

  if ([a1 enablePostMeshDump])
  {
    [v6 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-post-mesh-dump-instrumentation"}];
    v7 |= 0x200000000uLL;
  }

  if ([a1 enableAccelerationStructureViewerInstrumentation])
  {
    [v6 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-acceleration-structure-viewer-intersect-instrumentation"}];
  }

  v8 = [a1 shaderValidationConfig];
  if (v8)
  {
    v9 = v8;
    if (([v8 enableBoundsChecking] & 1) == 0 && (objc_msgSend(v9, "enableThreadgroupMemoryChecks") & 1) == 0 && (objc_msgSend(v9, "enableTextureChecks") & 1) == 0 && (objc_msgSend(v9, "enableResourceUsageValidation") & 1) == 0 && !objc_msgSend(v9, "enableStackOverflow"))
    {
      v10 = @"disable-shader-validation";
      goto LABEL_28;
    }

    if ([v9 enableBoundsChecking])
    {
      [v6 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-bounds-checking"}];
    }

    if ([v9 enableThreadgroupMemoryChecks])
    {
      [v6 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-threadgroup-memory-checks"}];
    }

    if ([v9 enableTextureChecks])
    {
      [v6 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-texture-checks"}];
    }

    if ([v9 enableResourceUsageValidation])
    {
      [v6 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-resource-usage-validation"}];
    }

    if ([v9 enableStackOverflow])
    {
      v10 = @"enable-stack-overflow";
LABEL_28:
      [v6 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), v10}];
    }
  }

  if ([a1 enableResourcePatchingInstrumentation])
  {
    v11 = v7 | 0x40000000;
  }

  else
  {
    v11 = v7;
  }

  if ([a1 enableResourceUsageInstrumentation])
  {
    v11 |= 0x80000000uLL;
  }

  [a1 maxNumRegisters];
  [a2 setGpuCompilerSPIOptions:v6];
  [a2 setPluginData:{objc_msgSend(a1, "pluginData")}];
  return v11;
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLTileRenderPipelineDescriptorEP32MTL4TileRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_2(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  [objc_msgSend(*(a1 + 32) "linkedFunctions")];
  [objc_msgSend(*(a1 + 32) "linkedFunctions")];
  v7 = [*(a1 + 32) linkedFunctions];

  return [v7 setGroups:a4];
}

void AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(void *a1, uint64_t a2, uint64_t a3, NSObject *a4, NSObject *a5, void *a6, uint64_t a7)
{
  v49 = *MEMORY[0x29EDCA608];
  if (a4)
  {
    v13 = dispatch_group_create();
  }

  else
  {
    v13 = 0;
  }

  v31 = v13;
  v45[0] = 0;
  v45[1] = v45;
  v45[2] = 0x4812000000;
  v45[3] = __Block_byref_object_copy__172;
  v45[4] = __Block_byref_object_dispose__173;
  v45[5] = &unk_29D31B497;
  v46[1] = 0;
  v45[6] = v46;
  v46[0] = 0;
  v30 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(objc_msgSend(a1, "functionDescriptors"), "count")}];
  group = a4;
  v28 = a7;
  v43 = 0u;
  v44 = 0u;
  v41 = 0u;
  v42 = 0u;
  v14 = [a1 functionDescriptors];
  v15 = [v14 countByEnumeratingWithState:&v41 objects:v48 count:16];
  if (v15)
  {
    v16 = *v42;
    do
    {
      for (i = 0; i != v15; ++i)
      {
        if (*v42 != v16)
        {
          objc_enumerationMutation(v14);
        }

        v18 = *(*(&v41 + 1) + 8 * i);
        v40[0] = MEMORY[0x29EDCA5F8];
        v40[1] = 3221225472;
        v40[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke;
        v40[3] = &unk_29F341590;
        v40[5] = v18;
        v40[6] = v45;
        v40[4] = v30;
        AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v18, a2, a3, 0, v31, a5, a6, v40, 0);
      }

      v15 = [v14 countByEnumeratingWithState:&v41 objects:v48 count:16];
    }

    while (v15);
  }

  v29 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(objc_msgSend(a1, "privateFunctionDescriptors"), "count")}];
  v38 = 0u;
  v39 = 0u;
  v36 = 0u;
  v37 = 0u;
  v19 = [a1 privateFunctionDescriptors];
  v20 = [v19 countByEnumeratingWithState:&v36 objects:v47 count:16];
  if (v20)
  {
    v21 = *v37;
    do
    {
      for (j = 0; j != v20; ++j)
      {
        if (*v37 != v21)
        {
          objc_enumerationMutation(v19);
        }

        v23 = *(*(&v36 + 1) + 8 * j);
        v35[0] = MEMORY[0x29EDCA5F8];
        v35[1] = 3221225472;
        v35[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke_2;
        v35[3] = &unk_29F341590;
        v35[5] = v23;
        v35[6] = v45;
        v35[4] = v29;
        AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v23, a2, a3, 0, v31, a5, a6, v35, 0);
      }

      v20 = [v19 countByEnumeratingWithState:&v36 objects:v47 count:16];
    }

    while (v20);
  }

  v24 = [MEMORY[0x29EDB8E00] dictionaryWithCapacity:{objc_msgSend(objc_msgSend(a1, "groups"), "count")}];
  block[0] = MEMORY[0x29EDCA5F8];
  block[1] = 3221225472;
  block[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke_3;
  block[3] = &unk_29F3419B8;
  block[5] = v24;
  block[6] = v45;
  block[4] = a1;
  v25 = dispatch_block_create(DISPATCH_BLOCK_INHERIT_QOS_CLASS, block);
  v26 = v25;
  if (v31)
  {
    dispatch_group_enter(group);
    v33[0] = MEMORY[0x29EDCA5F8];
    v33[1] = 3221225472;
    v33[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke_4;
    v33[3] = &unk_29F3415B8;
    v33[8] = v26;
    v33[9] = v28;
    v33[4] = v30;
    v33[5] = v29;
    v33[6] = v24;
    v33[7] = group;
    dispatch_group_notify(v31, a5, v33);
    dispatch_release(v31);
  }

  else
  {
    (*(v25 + 2))(v25);
    (*(v28 + 16))(v28, v30, v29, v24);
  }

  _Block_release(v26);
  _Block_object_dispose(v45, 8);
  std::__tree<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval,AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::IntervalRangeComparator,std::allocator<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval>>::destroy(v46[0]);
}

void sub_29CD213C0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  _Block_object_dispose(&a66, 8);
  std::__tree<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval,AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::IntervalRangeComparator,std::allocator<AGX::Mempool<16u,0u,true,0u,0u,unsigned long long>::FreeIntervalList::Interval>>::destroy(STACK[0x200]);
  _Unwind_Resume(a1);
}

void *__Block_byref_object_copy__172(void *result, void *a2)
{
  v2 = a2 + 7;
  v3 = a2[7];
  v4 = a2[6];
  result[7] = v3;
  v5 = result + 7;
  result[6] = v4;
  v6 = a2[8];
  result[8] = v6;
  if (v6)
  {
    *(v3 + 16) = v5;
    a2[6] = v2;
    *v2 = 0;
    a2[8] = 0;
  }

  else
  {
    result[6] = v5;
  }

  return result;
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke(uint64_t a1, uint64_t a2)
{
  result = [*(a1 + 32) addObject:a2];
  v5 = *(*(*(a1 + 48) + 8) + 56);
  if (!v5)
  {
LABEL_7:
    operator new();
  }

  v6 = *(a1 + 40);
  while (1)
  {
    while (1)
    {
      v7 = v5;
      v8 = v5[4];
      if (v6 >= v8)
      {
        break;
      }

      v5 = *v7;
      if (!*v7)
      {
        goto LABEL_7;
      }
    }

    if (v8 >= v6)
    {
      break;
    }

    v5 = v7[1];
    if (!v5)
    {
      goto LABEL_7;
    }
  }

  v7[5] = a2;
  return result;
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke_2(uint64_t a1, uint64_t a2)
{
  result = [*(a1 + 32) addObject:a2];
  v5 = *(*(*(a1 + 48) + 8) + 56);
  if (!v5)
  {
LABEL_7:
    operator new();
  }

  v6 = *(a1 + 40);
  while (1)
  {
    while (1)
    {
      v7 = v5;
      v8 = v5[4];
      if (v6 >= v8)
      {
        break;
      }

      v5 = *v7;
      if (!*v7)
      {
        goto LABEL_7;
      }
    }

    if (v8 >= v6)
    {
      break;
    }

    v5 = v7[1];
    if (!v5)
    {
      goto LABEL_7;
    }
  }

  v7[5] = a2;
  return result;
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke_3(uint64_t a1)
{
  v29 = *MEMORY[0x29EDCA608];
  v23 = 0u;
  v24 = 0u;
  v25 = 0u;
  v26 = 0u;
  obj = [objc_msgSend(*(a1 + 32) "groups")];
  result = [obj countByEnumeratingWithState:&v23 objects:v28 count:16];
  v14 = result;
  if (result)
  {
    v13 = *v24;
    do
    {
      v2 = 0;
      do
      {
        if (*v24 != v13)
        {
          v3 = v2;
          objc_enumerationMutation(obj);
          v2 = v3;
        }

        v15 = v2;
        v16 = *(*(&v23 + 1) + 8 * v2);
        v4 = [MEMORY[0x29EDB8DE8] array];
        v21 = 0u;
        v22 = 0u;
        v19 = 0u;
        v20 = 0u;
        v17 = [objc_msgSend(*(a1 + 32) "groups")];
        v5 = [v17 countByEnumeratingWithState:&v19 objects:v27 count:16];
        if (v5)
        {
          v6 = *v20;
          do
          {
            v7 = 0;
            do
            {
              if (*v20 != v6)
              {
                objc_enumerationMutation(v17);
              }

              v8 = *(*(&v19 + 1) + 8 * v7);
              v9 = *(*(*(a1 + 48) + 8) + 56);
              if (!v9)
              {
LABEL_17:
                operator new();
              }

              while (1)
              {
                while (1)
                {
                  v10 = v9;
                  v11 = v9[4];
                  if (v8 >= v11)
                  {
                    break;
                  }

                  v9 = *v10;
                  if (!*v10)
                  {
                    goto LABEL_17;
                  }
                }

                if (v11 >= v8)
                {
                  break;
                }

                v9 = v10[1];
                if (!v9)
                {
                  goto LABEL_17;
                }
              }

              [v4 addObject:v10[5]];
              ++v7;
            }

            while (v7 != v5);
            v5 = [v17 countByEnumeratingWithState:&v19 objects:v27 count:16];
          }

          while (v5);
        }

        [*(a1 + 40) setObject:v4 forKeyedSubscript:v16];
        v2 = v15 + 1;
      }

      while (v15 + 1 != v14);
      result = [obj countByEnumeratingWithState:&v23 objects:v28 count:16];
      v14 = result;
    }

    while (result);
  }

  return result;
}

void ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createLinkedFunctionsI27MTL4StaticLinkingDescriptorEEvPKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESD_bPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSG_PU19objcproto9MTLDevice11objc_objectU13block_pointerFvPSB_IPU22objcproto11MTLFunction11objc_objectESQ_P12NSDictionaryIP8NSStringSQ_EE_block_invoke_4(void *a1)
{
  (*(a1[8] + 16))();
  (*(a1[9] + 16))();
  v2 = a1[7];

  dispatch_group_leave(v2);
}

void *AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLMeshRenderPipelineDescriptor(void *a1, void *a2, NSObject *a3, NSObject *a4, void *a5, uint64_t a6, uint64_t a7)
{
  v66 = *MEMORY[0x29EDCA608];
  v14 = objc_opt_new();
  [v14 setBinaryArchives:a6];
  if ([a1 label])
  {
    [v14 setLabel:{objc_msgSend(a1, "label")}];
  }

  [v14 setRasterSampleCount:{objc_msgSend(a1, "rasterSampleCount")}];
  [v14 setAlphaToCoverageEnabled:{objc_msgSend(a1, "alphaToCoverageState") == 1}];
  [v14 setAlphaToOneEnabled:{objc_msgSend(a1, "alphaToOneState") == 1}];
  [v14 setRasterizationEnabled:{objc_msgSend(a1, "isRasterizationEnabled")}];
  [v14 setMaxVertexAmplificationCount:{objc_msgSend(a1, "maxVertexAmplificationCount")}];
  [v14 setPayloadMemoryLength:{objc_msgSend(a1, "payloadMemoryLength")}];
  v15 = [a1 maxTotalThreadgroupsPerMeshGrid];
  if (v15)
  {
    v15 = [a1 maxTotalThreadgroupsPerMeshGrid];
    v16 = 1;
  }

  else
  {
    v16 = 0;
  }

  *&v64 = v15;
  *(&v64 + 1) = v16;
  v65 = v16;
  [v14 setMaxThreadgroupsPerMeshGrid:&v64];
  [v14 setMaxTotalThreadsPerMeshThreadgroup:{objc_msgSend(a1, "maxTotalThreadsPerMeshThreadgroup")}];
  [v14 setMaxTotalThreadsPerObjectThreadgroup:{objc_msgSend(a1, "maxTotalThreadsPerObjectThreadgroup")}];
  if (a1)
  {
    [a1 requiredThreadsPerMeshThreadgroup];
    v64 = v58;
    v65 = v59;
    [v14 setRequiredThreadsPerMeshThreadgroup:&v64];
    [a1 requiredThreadsPerObjectThreadgroup];
  }

  else
  {
    v58 = 0uLL;
    v59 = 0;
    v64 = 0uLL;
    v65 = 0;
    [v14 setRequiredThreadsPerMeshThreadgroup:&v64];
    v57 = 0;
    v56 = 0uLL;
  }

  v64 = v56;
  v65 = v57;
  [v14 setRequiredThreadsPerObjectThreadgroup:&v64];
  [v14 setMeshThreadgroupSizeIsMultipleOfThreadExecutionWidth:{objc_msgSend(a1, "meshThreadgroupSizeIsMultipleOfThreadExecutionWidth")}];
  [v14 setObjectThreadgroupSizeIsMultipleOfThreadExecutionWidth:{objc_msgSend(a1, "objectThreadgroupSizeIsMultipleOfThreadExecutionWidth")}];
  for (i = 0; i != 8; ++i)
  {
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    if ([objc_msgSend(objc_msgSend(v14 "colorAttachments")])
    {
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    }
  }

  [v14 setSupportIndirectCommandBuffers:{objc_msgSend(a1, "supportIndirectCommandBuffers") == 1}];
  [v14 setResourceIndex:{objc_msgSend(a1, "resourceIndex")}];
  [v14 setForceResourceIndex:{objc_msgSend(a1, "forceResourceIndex")}];
  v48 = [a1 meshStaticLinkingDescriptor];
  v49 = [a1 objectStaticLinkingDescriptor];
  v18 = [a1 fragmentStaticLinkingDescriptor];
  [v14 setSupportAddingMeshBinaryFunctions:{objc_msgSend(a1, "supportMeshBinaryLinking")}];
  [v14 setSupportAddingObjectBinaryFunctions:{objc_msgSend(a1, "supportObjectBinaryLinking")}];
  [v14 setSupportAddingFragmentBinaryFunctions:{objc_msgSend(a1, "supportFragmentBinaryLinking")}];
  if (a2)
  {
    v44 = v18;
    v45 = a3;
    [v14 setMaxMeshCallStackDepth:{objc_msgSend(objc_msgSend(a2, "meshLinkingDescriptor"), "maxCallStackDepth")}];
    [v14 setMaxObjectCallStackDepth:{objc_msgSend(objc_msgSend(a2, "objectLinkingDescriptor"), "maxCallStackDepth")}];
    [v14 setMaxFragmentCallStackDepth:{objc_msgSend(objc_msgSend(a2, "fragmentLinkingDescriptor"), "maxCallStackDepth")}];
    [v14 setMeshPreloadedLibraries:{objc_msgSend(objc_msgSend(a2, "meshLinkingDescriptor"), "preloadedLibraries")}];
    [v14 setObjectPreloadedLibraries:{objc_msgSend(objc_msgSend(a2, "objectLinkingDescriptor"), "preloadedLibraries")}];
    [v14 setFragmentPreloadedLibraries:{objc_msgSend(objc_msgSend(a2, "fragmentLinkingDescriptor"), "preloadedLibraries")}];
    v19 = [objc_msgSend(a2 "meshLinkingDescriptor")];
    v20 = v19;
    v47 = a7;
    v46 = a4;
    if (v19)
    {
      v21 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v19, "count")}];
    }

    else
    {
      v21 = 0;
    }

    v62 = 0u;
    v63 = 0u;
    v60 = 0u;
    v61 = 0u;
    v22 = [v20 countByEnumeratingWithState:&v60 objects:&v64 count:16];
    if (v22)
    {
      v23 = v22;
      v24 = *v61;
      do
      {
        for (j = 0; j != v23; ++j)
        {
          if (*v61 != v24)
          {
            objc_enumerationMutation(v20);
          }

          [v21 addObject:*(*(*(&v60 + 1) + 8 * j) + 80)];
        }

        v23 = [v20 countByEnumeratingWithState:&v60 objects:&v64 count:16];
      }

      while (v23);
    }

    [objc_msgSend(v14 "meshLinkedFunctions")];
    v26 = [objc_msgSend(a2 "objectLinkingDescriptor")];
    v27 = v26;
    if (v26)
    {
      v28 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v26, "count")}];
    }

    else
    {
      v28 = 0;
    }

    v62 = 0u;
    v63 = 0u;
    v60 = 0u;
    v61 = 0u;
    v29 = [v27 countByEnumeratingWithState:&v60 objects:&v64 count:16];
    if (v29)
    {
      v30 = v29;
      v31 = *v61;
      do
      {
        for (k = 0; k != v30; ++k)
        {
          if (*v61 != v31)
          {
            objc_enumerationMutation(v27);
          }

          [v28 addObject:*(*(*(&v60 + 1) + 8 * k) + 80)];
        }

        v30 = [v27 countByEnumeratingWithState:&v60 objects:&v64 count:16];
      }

      while (v30);
    }

    [objc_msgSend(v14 "objectLinkedFunctions")];
    v33 = [objc_msgSend(a2 "fragmentLinkingDescriptor")];
    v34 = v33;
    if (v33)
    {
      v35 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v33, "count")}];
    }

    else
    {
      v35 = 0;
    }

    a3 = v45;
    v62 = 0u;
    v63 = 0u;
    v60 = 0u;
    v61 = 0u;
    v36 = [v34 countByEnumeratingWithState:&v60 objects:&v64 count:16];
    if (v36)
    {
      v37 = v36;
      v38 = *v61;
      do
      {
        for (m = 0; m != v37; ++m)
        {
          if (*v61 != v38)
          {
            objc_enumerationMutation(v34);
          }

          [v35 addObject:*(*(*(&v60 + 1) + 8 * m) + 80)];
        }

        v37 = [v34 countByEnumeratingWithState:&v60 objects:&v64 count:16];
      }

      while (v37);
    }

    [objc_msgSend(v14 "fragmentLinkedFunctions")];
    a7 = v47;
    a4 = v46;
    v18 = v44;
  }

  [v14 setColorAttachmentMappingState:{objc_msgSend(a1, "colorAttachmentMappingState")}];
  if ([a1 colorAttachmentMappingState] == 2)
  {
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  }

  [v14 setDepthAttachmentPixelFormat:651];
  [v14 setStencilAttachmentPixelFormat:652];
  v40 = [a1 meshFunctionDescriptor];
  v55[0] = MEMORY[0x29EDCA5F8];
  v55[1] = 3221225472;
  v55[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke;
  v55[3] = &unk_29F341478;
  v55[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v40, a6, a7, 0, a3, a4, a5, v55, 0);
  v41 = [a1 objectFunctionDescriptor];
  v54[0] = MEMORY[0x29EDCA5F8];
  v54[1] = 3221225472;
  v54[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_2;
  v54[3] = &unk_29F341478;
  v54[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v41, a6, a7, 0, a3, a4, a5, v54, 0);
  v42 = [a1 fragmentFunctionDescriptor];
  v53[0] = MEMORY[0x29EDCA5F8];
  v53[1] = 3221225472;
  v53[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_3;
  v53[3] = &unk_29F341478;
  v53[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v42, a6, a7, 0, a3, a4, a5, v53, 0);
  v52[0] = MEMORY[0x29EDCA5F8];
  v52[1] = 3221225472;
  v52[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_4;
  v52[3] = &unk_29F3414A0;
  v52[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(v48, a6, a7, a3, a4, a5, v52);
  v51[0] = MEMORY[0x29EDCA5F8];
  v51[1] = 3221225472;
  v51[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_5;
  v51[3] = &unk_29F3414A0;
  v51[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(v49, a6, a7, a3, a4, a5, v51);
  v50[0] = MEMORY[0x29EDCA5F8];
  v50[1] = 3221225472;
  v50[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_6;
  v50[3] = &unk_29F3414A0;
  v50[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(v18, a6, a7, a3, a4, a5, v50);
  return v14;
}

void ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createRenderPipelineEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectEP26AGXG18PFamilyBinaryArchivePP27MTLRenderPipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU33objcproto22MTLRenderPipelineState11objc_objectSK_SN_E_block_invoke(uint64_t a1)
{
  v2 = *(a1 + 88);
  v3 = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLComputePipelineDescriptor>([*(a1 + 32) options], *(a1 + 40));
  *(*(*(a1 + 80) + 8) + 40) = AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createRenderPipeline_impl<MTLMeshRenderPipelineDescriptor>(*(v2 + 32), *(a1 + 40), *(a1 + 48), *(a1 + 56), v3, *(a1 + 96), *(a1 + 104), 0, *(a1 + 64), *(a1 + 72));
  v4 = *(a1 + 40);
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  [objc_msgSend(*(a1 + 32) "meshLinkedFunctions")];
  [objc_msgSend(*(a1 + 32) "meshLinkedFunctions")];
  v7 = [*(a1 + 32) meshLinkedFunctions];

  return [v7 setGroups:a4];
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_5(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  [objc_msgSend(*(a1 + 32) "objectLinkedFunctions")];
  [objc_msgSend(*(a1 + 32) "objectLinkedFunctions")];
  v7 = [*(a1 + 32) objectLinkedFunctions];

  return [v7 setGroups:a4];
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE37createMTLMeshRenderPipelineDescriptorEP32MTL4MeshRenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_6(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  [objc_msgSend(*(a1 + 32) "fragmentLinkedFunctions")];
  [objc_msgSend(*(a1 + 32) "fragmentLinkedFunctions")];
  v7 = [*(a1 + 32) fragmentLinkedFunctions];

  return [v7 setGroups:a4];
}

void *AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLRenderPipelineDescriptor(void *a1, void *a2, NSObject *a3, NSObject *a4, void *a5, uint64_t a6, uint64_t a7)
{
  v48 = *MEMORY[0x29EDCA608];
  v14 = objc_opt_new();
  [v14 setBinaryArchives:a6];
  if ([a1 label])
  {
    [v14 setLabel:{objc_msgSend(a1, "label")}];
  }

  [v14 setVertexDescriptor:{objc_msgSend(a1, "vertexDescriptor")}];
  [v14 setRasterSampleCount:{objc_msgSend(a1, "rasterSampleCount")}];
  [v14 setAlphaToCoverageEnabled:{objc_msgSend(a1, "alphaToCoverageState") == 1}];
  [v14 setAlphaToOneEnabled:{objc_msgSend(a1, "alphaToOneState") == 1}];
  [v14 setRasterizationEnabled:{objc_msgSend(a1, "isRasterizationEnabled")}];
  [v14 setMaxVertexAmplificationCount:{objc_msgSend(a1, "maxVertexAmplificationCount")}];
  for (i = 0; i != 8; ++i)
  {
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    if ([objc_msgSend(objc_msgSend(v14 "colorAttachments")])
    {
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
      [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    }
  }

  [v14 setInputPrimitiveTopology:{objc_msgSend(a1, "inputPrimitiveTopology")}];
  [v14 setSupportIndirectCommandBuffers:{objc_msgSend(a1, "supportIndirectCommandBuffers") != 0}];
  [v14 setResourceIndex:{objc_msgSend(a1, "resourceIndex")}];
  [v14 setForceResourceIndex:{objc_msgSend(a1, "forceResourceIndex")}];
  v38 = [a1 vertexStaticLinkingDescriptor];
  v16 = [a1 fragmentStaticLinkingDescriptor];
  [v14 setSupportAddingVertexBinaryFunctions:{objc_msgSend(a1, "supportVertexBinaryLinking")}];
  [v14 setSupportAddingFragmentBinaryFunctions:{objc_msgSend(a1, "supportFragmentBinaryLinking")}];
  if (a2)
  {
    v34 = v16;
    v35 = a3;
    [v14 setMaxVertexCallStackDepth:{objc_msgSend(objc_msgSend(a2, "vertexLinkingDescriptor"), "maxCallStackDepth")}];
    [v14 setMaxFragmentCallStackDepth:{objc_msgSend(objc_msgSend(a2, "fragmentLinkingDescriptor"), "maxCallStackDepth")}];
    [v14 setVertexPreloadedLibraries:{objc_msgSend(objc_msgSend(a2, "vertexLinkingDescriptor"), "preloadedLibraries")}];
    [v14 setFragmentPreloadedLibraries:{objc_msgSend(objc_msgSend(a2, "fragmentLinkingDescriptor"), "preloadedLibraries")}];
    v17 = [objc_msgSend(a2 "vertexLinkingDescriptor")];
    v18 = v17;
    v37 = a7;
    v36 = a4;
    if (v17)
    {
      v19 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v17, "count")}];
    }

    else
    {
      v19 = 0;
    }

    v45 = 0u;
    v46 = 0u;
    v43 = 0u;
    v44 = 0u;
    v20 = [v18 countByEnumeratingWithState:&v43 objects:v47 count:16];
    if (v20)
    {
      v21 = v20;
      v22 = *v44;
      do
      {
        for (j = 0; j != v21; ++j)
        {
          if (*v44 != v22)
          {
            objc_enumerationMutation(v18);
          }

          [v19 addObject:*(*(*(&v43 + 1) + 8 * j) + 80)];
        }

        v21 = [v18 countByEnumeratingWithState:&v43 objects:v47 count:16];
      }

      while (v21);
    }

    [objc_msgSend(v14 "vertexLinkedFunctions")];
    v24 = [objc_msgSend(a2 "fragmentLinkingDescriptor")];
    v25 = v24;
    if (v24)
    {
      v26 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v24, "count")}];
    }

    else
    {
      v26 = 0;
    }

    a3 = v35;
    v45 = 0u;
    v46 = 0u;
    v43 = 0u;
    v44 = 0u;
    v27 = [v25 countByEnumeratingWithState:&v43 objects:v47 count:16];
    if (v27)
    {
      v28 = v27;
      v29 = *v44;
      do
      {
        for (k = 0; k != v28; ++k)
        {
          if (*v44 != v29)
          {
            objc_enumerationMutation(v25);
          }

          [v26 addObject:*(*(*(&v43 + 1) + 8 * k) + 80)];
        }

        v28 = [v25 countByEnumeratingWithState:&v43 objects:v47 count:16];
      }

      while (v28);
    }

    [objc_msgSend(v14 "fragmentLinkedFunctions")];
    a7 = v37;
    a4 = v36;
    v16 = v34;
  }

  [v14 setColorAttachmentMappingState:{objc_msgSend(a1, "colorAttachmentMappingState")}];
  if ([a1 colorAttachmentMappingState] == 2)
  {
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
    [objc_msgSend(objc_msgSend(v14 "colorAttachments")];
  }

  [v14 setDepthAttachmentPixelFormat:651];
  [v14 setStencilAttachmentPixelFormat:652];
  v31 = [a1 vertexFunctionDescriptor];
  v42[0] = MEMORY[0x29EDCA5F8];
  v42[1] = 3221225472;
  v42[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE33createMTLRenderPipelineDescriptorEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke;
  v42[3] = &unk_29F341478;
  v42[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v31, a6, a7, 0, a3, a4, a5, v42, 0);
  v32 = [a1 fragmentFunctionDescriptor];
  v41[0] = MEMORY[0x29EDCA5F8];
  v41[1] = 3221225472;
  v41[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE33createMTLRenderPipelineDescriptorEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_2;
  v41[3] = &unk_29F341478;
  v41[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v32, a6, a7, 0, a3, a4, a5, v41, 0);
  v40[0] = MEMORY[0x29EDCA5F8];
  v40[1] = 3221225472;
  v40[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE33createMTLRenderPipelineDescriptorEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_3;
  v40[3] = &unk_29F3414A0;
  v40[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(v38, a6, a7, a3, a4, a5, v40);
  v39[0] = MEMORY[0x29EDCA5F8];
  v39[1] = 3221225472;
  v39[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE33createMTLRenderPipelineDescriptorEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_4;
  v39[3] = &unk_29F3414A0;
  v39[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(v16, a6, a7, a3, a4, a5, v39);
  return v14;
}

void ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20createRenderPipelineEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectEP26AGXG18PFamilyBinaryArchivePP27MTLRenderPipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU33objcproto22MTLRenderPipelineState11objc_objectSK_SN_E_block_invoke(uint64_t a1)
{
  v2 = *(a1 + 88);
  v3 = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLRenderPipelineDescriptor>([*(a1 + 32) options], *(a1 + 40));
  *(*(*(a1 + 80) + 8) + 40) = AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createRenderPipeline_impl<MTLRenderPipelineDescriptor>(*(v2 + 32), *(a1 + 40), *(a1 + 48), *(a1 + 56), v3, *(a1 + 96), *(a1 + 104), 0, *(a1 + 64), *(a1 + 72));
  v4 = *(a1 + 40);
}

uint64_t AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLRenderPipelineDescriptor>(void *a1, void *a2)
{
  v4 = [a1 shaderReflection];
  v5 = [a1 shaderReflection] & 2 | v4 & 1;
  if ([a1 shaderValidation] == 1)
  {
    v6 = v5 | 0x1000000;
  }

  else
  {
    v6 = v5;
  }

  v7 = [MEMORY[0x29EDB8E00] dictionaryWithDictionary:{objc_msgSend(a2, "driverCompilerOptions")}];
  v8 = [MEMORY[0x29EDB8E00] dictionaryWithDictionary:{objc_msgSend(a2, "gpuCompilerSPIOptions")}];
  if ([a1 enablePerformanceStatistics])
  {
    v9 = v6 | 0x40000;
  }

  else
  {
    v9 = v6;
  }

  if ([a1 enablePostVertexDump])
  {
    v9 |= 0x80000uLL;
    [a2 setPostVertexDumpBufferIndex:{objc_msgSend(a1, "postVertexDumpBufferIndex")}];
  }

  if ([a1 enablePostMeshDump])
  {
    [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-post-mesh-dump-instrumentation"}];
    v9 |= 0x200000000uLL;
  }

  if ([a1 enableAccelerationStructureViewerInstrumentation])
  {
    [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-acceleration-structure-viewer-intersect-instrumentation"}];
  }

  v10 = [a1 shaderValidationConfig];
  if (v10)
  {
    v11 = v10;
    if (([v10 enableBoundsChecking] & 1) == 0 && (objc_msgSend(v11, "enableThreadgroupMemoryChecks") & 1) == 0 && (objc_msgSend(v11, "enableTextureChecks") & 1) == 0 && (objc_msgSend(v11, "enableResourceUsageValidation") & 1) == 0 && !objc_msgSend(v11, "enableStackOverflow"))
    {
      v12 = @"disable-shader-validation";
      goto LABEL_29;
    }

    if ([v11 enableBoundsChecking])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-bounds-checking"}];
    }

    if ([v11 enableThreadgroupMemoryChecks])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-threadgroup-memory-checks"}];
    }

    if ([v11 enableTextureChecks])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-texture-checks"}];
    }

    if ([v11 enableResourceUsageValidation])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-resource-usage-validation"}];
    }

    if ([v11 enableStackOverflow])
    {
      v12 = @"enable-stack-overflow";
LABEL_29:
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), v12}];
    }
  }

  v13 = [a1 enableResourcePatchingInstrumentation];
  v14 = [a1 enableResourceUsageInstrumentation];
  if ([a1 maxNumRegisters] && v7)
  {
    [v7 setObject:objc_msgSend(MEMORY[0x29EDBA070] forKeyedSubscript:{"numberWithUnsignedInteger:", objc_msgSend(a1, "maxNumRegisters")), @"maxNumRegisters"}];
  }

  v15 = v9 | 0x40000000;
  if (!v13)
  {
    v15 = v9;
  }

  if (v14)
  {
    v16 = v15 | 0x80000000;
  }

  else
  {
    v16 = v15;
  }

  [a2 setDriverCompilerOptions:v7];
  [a2 setGpuCompilerSPIOptions:v8];
  [a2 setPluginData:{objc_msgSend(a1, "pluginData")}];
  return v16;
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE33createMTLRenderPipelineDescriptorEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_3(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  [objc_msgSend(*(a1 + 32) "vertexLinkedFunctions")];
  [objc_msgSend(*(a1 + 32) "vertexLinkedFunctions")];
  v7 = [*(a1 + 32) vertexLinkedFunctions];

  return [v7 setGroups:a4];
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE33createMTLRenderPipelineDescriptorEP28MTL4RenderPipelineDescriptorP42MTL4RenderPipelineDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  [objc_msgSend(*(a1 + 32) "fragmentLinkedFunctions")];
  [objc_msgSend(*(a1 + 32) "fragmentLinkedFunctions")];
  v7 = [*(a1 + 32) fragmentLinkedFunctions];

  return [v7 setGroups:a4];
}

uint64_t AGX::UserPipelineFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createComputePipeline(uint64_t a1, void *a2, void *a3, void *a4, void *a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  v16 = [a5 lookupArchives];
  if (v16)
  {
    v17 = v16;
    v18 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v16, "count")}];
    v28 = MEMORY[0x29EDCA5F8];
    v29 = 3221225472;
    v30 = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21convertBinaryArchivesEP7NSArrayIPU22objcproto11MTL4Archive11objc_objectE_block_invoke;
    v31 = &unk_29F341450;
    v32 = v18;
    [v17 enumerateObjectsUsingBlock:&v28];
    v19 = a9;
    if (a10)
    {
LABEL_3:
      v20 = dispatch_group_create();
      goto LABEL_6;
    }
  }

  else
  {
    v18 = 0;
    v19 = a9;
    if (a10)
    {
      goto LABEL_3;
    }
  }

  v20 = 0;
LABEL_6:
  MTLComputePipelineDescriptor = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLComputePipelineDescriptor(a2, a3, v20, *(a1 + 16), a4, v18, a6);
  v28 = 0;
  v29 = &v28;
  v30 = 0x3052000000;
  v31 = __Block_byref_object_copy__3844;
  v32 = __Block_byref_object_dispose__3845;
  v33 = 0;
  block[0] = MEMORY[0x29EDCA5F8];
  block[1] = 3221225472;
  block[2] = ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createComputePipelineEP29MTL4ComputePipelineDescriptorP41MTL4PipelineStageDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP23MTL4CompilerTaskOptionsP26AGXG18PFamilyBinaryArchivePP28MTLComputePipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU34objcproto23MTLComputePipelineState11objc_objectSH_SK_E_block_invoke;
  block[3] = &unk_29F341428;
  block[4] = a2;
  block[5] = MTLComputePipelineDescriptor;
  block[10] = &v28;
  block[11] = a1;
  block[6] = a4;
  block[7] = a6;
  block[12] = a7;
  block[13] = a8;
  block[8] = v19;
  block[9] = a10;
  v22 = dispatch_block_create(DISPATCH_BLOCK_INHERIT_QOS_CLASS, block);
  v23 = v22;
  if (v20)
  {
    dispatch_group_notify(v20, *(a1 + 16), v22);
    dispatch_release(v20);
  }

  else
  {
    v22[2](v22);
  }

  _Block_release(v23);
  v24 = *(v29 + 40);
  _Block_object_dispose(&v28, 8);
  return v24;
}

void sub_29CD23930(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLComputePipelineDescriptor(void *a1, void *a2, NSObject *a3, NSObject *a4, void *a5, uint64_t a6, uint64_t a7)
{
  v39 = *MEMORY[0x29EDCA608];
  v14 = objc_opt_new();
  [v14 setBinaryArchives:a6];
  if ([a1 label])
  {
    [v14 setLabel:{objc_msgSend(a1, "label")}];
  }

  [v14 setThreadGroupSizeIsMultipleOfThreadExecutionWidth:{objc_msgSend(a1, "threadGroupSizeIsMultipleOfThreadExecutionWidth")}];
  [v14 setMaxTotalThreadsPerThreadgroup:{objc_msgSend(a1, "maxTotalThreadsPerThreadgroup")}];
  if (a1)
  {
    [a1 requiredThreadsPerThreadgroup];
  }

  else
  {
    v31 = 0uLL;
    v32 = 0;
  }

  v37 = v31;
  v38 = v32;
  [v14 setRequiredThreadsPerThreadgroup:&v37];
  [v14 setSupportIndirectCommandBuffers:{objc_msgSend(a1, "supportIndirectCommandBuffers") == 1}];
  [v14 setResourceIndex:{objc_msgSend(a1, "resourceIndex")}];
  [v14 setForceResourceIndex:{objc_msgSend(a1, "forceResourceIndex")}];
  v15 = [a1 staticLinkingDescriptor];
  [v14 setSupportAddingBinaryFunctions:{objc_msgSend(a1, "supportBinaryLinking")}];
  if (a2)
  {
    v26 = v15;
    v27 = a3;
    [v14 setMaxCallStackDepth:{objc_msgSend(a2, "maxCallStackDepth")}];
    [v14 setPreloadedLibraries:{objc_msgSend(a2, "preloadedLibraries")}];
    v16 = [a2 binaryLinkedFunctions];
    v17 = v16;
    v28 = a4;
    v18 = a5;
    if (v16)
    {
      v19 = [MEMORY[0x29EDB8DE8] arrayWithCapacity:{objc_msgSend(v16, "count")}];
    }

    else
    {
      v19 = 0;
    }

    v35 = 0u;
    v36 = 0u;
    v33 = 0u;
    v34 = 0u;
    v20 = [v17 countByEnumeratingWithState:&v33 objects:&v37 count:16];
    if (v20)
    {
      v21 = v20;
      v22 = *v34;
      do
      {
        for (i = 0; i != v21; ++i)
        {
          if (*v34 != v22)
          {
            objc_enumerationMutation(v17);
          }

          [v19 addObject:*(*(*(&v33 + 1) + 8 * i) + 80)];
        }

        v21 = [v17 countByEnumeratingWithState:&v33 objects:&v37 count:16];
      }

      while (v21);
    }

    [objc_msgSend(v14 "linkedFunctions")];
    a5 = v18;
    a4 = v28;
    v15 = v26;
    a3 = v27;
  }

  v24 = [a1 computeFunctionDescriptor];
  v30[0] = MEMORY[0x29EDCA5F8];
  v30[1] = 3221225472;
  v30[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE34createMTLComputePipelineDescriptorEP29MTL4ComputePipelineDescriptorP41MTL4PipelineStageDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke;
  v30[3] = &unk_29F341478;
  v30[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createFunction(v24, a6, a7, 0, a3, a4, a5, v30, 0);
  v29[0] = MEMORY[0x29EDCA5F8];
  v29[1] = 3221225472;
  v29[2] = ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE34createMTLComputePipelineDescriptorEP29MTL4ComputePipelineDescriptorP41MTL4PipelineStageDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_2;
  v29[3] = &unk_29F3414A0;
  v29[4] = v14;
  AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createLinkedFunctions<MTL4StaticLinkingDescriptor>(v15, a6, a7, a3, a4, a5, v29);
  return v14;
}

void ___ZN3AGX19UserPipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE21createComputePipelineEP29MTL4ComputePipelineDescriptorP41MTL4PipelineStageDynamicLinkingDescriptorP19AGXG18PFamilyDeviceP23MTL4CompilerTaskOptionsP26AGXG18PFamilyBinaryArchivePP28MTLComputePipelineReflectionPP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvPU34objcproto23MTLComputePipelineState11objc_objectSH_SK_E_block_invoke(uint64_t a1)
{
  v2 = *(a1 + 88);
  v3 = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLComputePipelineDescriptor>([*(a1 + 32) options], *(a1 + 40));
  *(*(*(a1 + 80) + 8) + 40) = AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createComputePipeline_impl(*(v2 + 32), *(a1 + 40), *(a1 + 48), *(a1 + 56), v3, *(a1 + 96), *(a1 + 104), 0, *(a1 + 64), *(a1 + 72));
  v4 = *(a1 + 40);
}

uint64_t AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLComputePipelineDescriptor>(void *a1, void *a2)
{
  v4 = [a1 shaderReflection];
  v5 = [a1 shaderReflection] & 2 | v4 & 1;
  if ([a1 shaderValidation] == 1)
  {
    v6 = v5 | 0x1000000;
  }

  else
  {
    v6 = v5;
  }

  v7 = [MEMORY[0x29EDB8E00] dictionaryWithDictionary:{objc_msgSend(a2, "driverCompilerOptions")}];
  v8 = [MEMORY[0x29EDB8E00] dictionaryWithDictionary:{objc_msgSend(a2, "gpuCompilerSPIOptions")}];
  if ([a1 enablePerformanceStatistics])
  {
    v6 |= 0x40000uLL;
  }

  if ([a1 enablePostVertexDump])
  {
    v9 = v6 | 0x80000;
  }

  else
  {
    v9 = v6;
  }

  if ([a1 enablePostMeshDump])
  {
    [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-post-mesh-dump-instrumentation"}];
    v9 |= 0x200000000uLL;
  }

  if ([a1 enableAccelerationStructureViewerInstrumentation])
  {
    [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-acceleration-structure-viewer-intersect-instrumentation"}];
  }

  v10 = [a1 shaderValidationConfig];
  if (v10)
  {
    v11 = v10;
    if (([v10 enableBoundsChecking] & 1) == 0 && (objc_msgSend(v11, "enableThreadgroupMemoryChecks") & 1) == 0 && (objc_msgSend(v11, "enableTextureChecks") & 1) == 0 && (objc_msgSend(v11, "enableResourceUsageValidation") & 1) == 0 && !objc_msgSend(v11, "enableStackOverflow"))
    {
      v12 = @"disable-shader-validation";
      goto LABEL_29;
    }

    if ([v11 enableBoundsChecking])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-bounds-checking"}];
    }

    if ([v11 enableThreadgroupMemoryChecks])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-threadgroup-memory-checks"}];
    }

    if ([v11 enableTextureChecks])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-texture-checks"}];
    }

    if ([v11 enableResourceUsageValidation])
    {
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), @"enable-resource-usage-validation"}];
    }

    if ([v11 enableStackOverflow])
    {
      v12 = @"enable-stack-overflow";
LABEL_29:
      [v8 setObject:objc_msgSend(MEMORY[0x29EDB8E28] forKeyedSubscript:{"null"), v12}];
    }
  }

  v13 = [a1 enableResourcePatchingInstrumentation];
  v14 = [a1 enableResourceUsageInstrumentation];
  if ([a1 maxNumRegisters] && v7)
  {
    [v7 setObject:objc_msgSend(MEMORY[0x29EDBA070] forKeyedSubscript:{"numberWithUnsignedInteger:", objc_msgSend(a1, "maxNumRegisters")), @"maxNumRegisters"}];
  }

  v15 = v9 | 0x40000000;
  if (!v13)
  {
    v15 = v9;
  }

  if (v14)
  {
    v16 = v15 | 0x80000000;
  }

  else
  {
    v16 = v15;
  }

  [a2 setDriverCompilerOptions:v7];
  [a2 setGpuCompilerSPIOptions:v8];
  [a2 setPluginData:{objc_msgSend(a1, "pluginData")}];
  return v16;
}

uint64_t ___ZN3AGX26Metal4To3ConversionUtilityINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE34createMTLComputePipelineDescriptorEP29MTL4ComputePipelineDescriptorP41MTL4PipelineStageDynamicLinkingDescriptorPU28objcproto17OS_dispatch_group8NSObjectPU28objcproto17OS_dispatch_queueSA_PU19objcproto9MTLDevice11objc_objectP7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectESJ__block_invoke_2(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  [objc_msgSend(*(a1 + 32) "linkedFunctions")];
  [objc_msgSend(*(a1 + 32) "linkedFunctions")];
  v7 = [*(a1 + 32) linkedFunctions];

  return [v7 setGroups:a4];
}

void sub_29CD249A0(_Unwind_Exception *a1)
{
  dispatch_release(*(v1 + 16));
  MEMORY[0x29ED520D0](v1, 0x10A0C40C485B26CLL);
  _Unwind_Resume(a1);
}

void sub_29CD24C08(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, ...)
{
  va_start(va, a12);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v12 - 120), 8);
  _Unwind_Resume(a1);
}

void ___ZN3AGX22ArchivePipelineFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE20lookupBinaryFunctionEP28MTL4BinaryFunctionDescriptorPP7NSError_block_invoke(uint64_t a1, void *a2, AGXG18PFamilyBinaryFunction *a3)
{
  if (!a2 || a3)
  {
    if (!a3)
    {
      v10 = [MEMORY[0x29EDB8DC0] dictionaryWithObject:@"Internal error looking up binary function" forKey:*MEMORY[0x29EDB9ED8]];
      a3 = [objc_alloc(MEMORY[0x29EDB9FA0]) initWithDomain:@"AGXMetalG18P" code:1 userInfo:v10];
    }

    v11 = 56;
    goto LABEL_13;
  }

  v5 = *(a1 + 72);
  v6 = [MEMORY[0x29EDBB5B0] functionDescriptor];
  [v6 setOptions:5];
  if (([*(a1 + 32) options] & 2) != 0)
  {
    [v6 setOptions:{objc_msgSend(v6, "options") | 8}];
  }

  [v6 setBinaryArchives:*(a1 + 40)];
  v7 = [a2 functionType];
  v8 = *(*(a1 + 56) + 8);
  v9 = (v8 + 40);
  if (v7 == 6)
  {
    AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createIntersectionFnSet(*v5, v6, a2, *(a1 + 48), 0, (v8 + 40));
  }

  else
  {
    v12 = *v5;
    v13 = *(a1 + 48);
    *v9 = 0;
    v15[0] = MEMORY[0x29EDCA5F8];
    v15[1] = 3221225472;
    v15[2] = ___ZN3AGX23UserCommonShaderFactoryINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE31createDynamicLibraryForFunctionEP21MTLFunctionDescriptorPU22objcproto11MTLFunction11objc_objectP19AGXG18PFamilyDeviceP26AGXG18PFamilyBinaryArchivePP7NSErrorPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvSF_E_block_invoke_3850;
    v15[3] = &unk_29F341A30;
    v15[4] = a2;
    v15[5] = v13;
    v15[6] = a2;
    v15[7] = 0;
    v15[8] = v12;
    v15[9] = v8 + 40;
    AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::compileVisibleFunction(v12, v6, a2, v13, 0, 0, 0, v15);
    v14 = *v9;
  }

  if (!*(*(*(a1 + 56) + 8) + 40))
  {
    a3 = [[AGXG18PFamilyBinaryFunction alloc] initWithFunction:a2];
    v11 = 64;
LABEL_13:
    *(*(*(a1 + v11) + 8) + 40) = a3;
  }
}

uint64_t AGX::ArchivePipelineFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::lookupRenderPipeline(uint64_t *a1, void *a2, void *a3, uint64_t a4, uint64_t *a5)
{
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    MTLRenderPipelineDescriptor = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLRenderPipelineDescriptor(a2, a3, 0, 0, *(a1[2] + 40), 0, 0);
    v11 = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLRenderPipelineDescriptor>([a2 options], MTLRenderPipelineDescriptor);
    v18 = a1[2];
    v19 = 0;
    v20 = a2;
    RenderPipeline = AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createRenderPipeline_impl<MTLRenderPipelineDescriptor>(*a1, MTLRenderPipelineDescriptor, *(v18 + 40), 0, v11, a4, a5, &v18, 0, 0);
  }

  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      MTLRenderPipelineDescriptor = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLMeshRenderPipelineDescriptor(a2, a3, 0, 0, *(a1[2] + 40), 0, 0);
      v13 = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLComputePipelineDescriptor>([a2 options], MTLRenderPipelineDescriptor);
      v18 = a1[2];
      v19 = 0;
      v20 = a2;
      RenderPipeline = AGX::UserCommonShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createRenderPipeline_impl<MTLMeshRenderPipelineDescriptor>(*a1, MTLRenderPipelineDescriptor, *(v18 + 40), 0, v13, a4, a5, &v18, 0, 0);
    }

    else
    {
      objc_opt_class();
      if ((objc_opt_isKindOfClass() & 1) == 0)
      {
        return 0;
      }

      MTLRenderPipelineDescriptor = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createMTLTileRenderPipelineDescriptor(a2, a3, 0, 0, *(a1[2] + 40), 0, 0);
      v14 = AGX::Metal4To3ConversionUtility<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::convertPipelineOptions<MTLTileRenderPipelineDescriptor>([a2 options], MTLRenderPipelineDescriptor);
      v15 = a1[1];
      v18 = a1[2];
      v19 = 0;
      v20 = a2;
      RenderPipeline = AGX::UserTileShaderFactory<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::createTileRenderPipeline_impl(v15, MTLRenderPipelineDescriptor, *(v18 + 40), 0, v14, a4, a5, &v18, 0, 0);
    }
  }

  v16 = RenderPipeline;

  return v16;
}

void AGX::ComputeCoalescingResourceTracker<AGX::HAL300::Encoders,AGX::HAL300::Classes>::ComputeCoalescingResourceTracker(uint64_t a1)
{
  *(a1 + 32) = 0;
  *a1 = 0u;
  *(a1 + 16) = 0u;
  *(a1 + 40) = 1065353216;
  operator new();
}

void sub_29CD256A4(_Unwind_Exception *a1)
{
  std::unordered_map<unsigned long,AGX::FunctionCompiledEventInfo>::~unordered_map[abi:nn200100](v2);
  std::unordered_map<unsigned long,AGX::FunctionCompiledEventInfo>::~unordered_map[abi:nn200100](v1 + 8);
  _Unwind_Resume(a1);
}

void AGX::ComputeCoalescingResourceTracker<AGX::HAL300::Encoders,AGX::HAL300::Classes>::merge(uint64_t a1)
{
  for (i = *(a1 + 24); i; i = *i)
  {
    while (1)
    {
      v3 = i[2];
      v16[0] = v3;
      v4 = *(a1 + 56);
      if (v4)
      {
        v5 = vcnt_s8(v4);
        v5.i16[0] = vaddlv_u8(v5);
        if (v5.u32[0] > 1uLL)
        {
          v6 = v3;
          if (v4 <= v3)
          {
            v6 = v3 % v4;
          }
        }

        else
        {
          v6 = (v4 - 1) & v3;
        }

        v7 = *(*(a1 + 48) + 8 * v6);
        if (v7)
        {
          v8 = *v7;
          if (v8)
          {
            break;
          }
        }
      }

LABEL_22:
      v16[1] = v16;
      v12 = std::__hash_table<std::__hash_value_type<unsigned int,_ResourceTrackerBinding>,std::__unordered_map_hasher<unsigned int,std::__hash_value_type<unsigned int,_ResourceTrackerBinding>,ResourceTrackerBindingsHash,ResourceTrackerBindingsEqual,true>,std::__unordered_map_equal<unsigned int,std::__hash_value_type<unsigned int,_ResourceTrackerBinding>,ResourceTrackerBindingsEqual,ResourceTrackerBindingsHash,true>,std::allocator<std::__hash_value_type<unsigned int,_ResourceTrackerBinding>>>::__emplace_unique_key_args<unsigned int,std::piecewise_construct_t const&,std::tuple<unsigned int const&>,std::tuple<>>((a1 + 48), v3);
      *(v12 + 5) = HIDWORD(v16[0]);
      i = *i;
      if (!i)
      {
        goto LABEL_25;
      }
    }

    if (v5.u32[0] < 2uLL)
    {
      v9 = v4 - 1;
      while (1)
      {
        v10 = v8[1];
        if (v10 == v3)
        {
          if (*(v8 + 4) == v3)
          {
            goto LABEL_24;
          }
        }

        else if ((v10 & v9) != v6)
        {
          goto LABEL_22;
        }

        v8 = *v8;
        if (!v8)
        {
          goto LABEL_22;
        }
      }
    }

    while (1)
    {
      v11 = v8[1];
      if (v11 == v3)
      {
        break;
      }

      if (v11 >= v4)
      {
        v11 %= v4;
      }

      if (v11 != v6)
      {
        goto LABEL_22;
      }

LABEL_17:
      v8 = *v8;
      if (!v8)
      {
        goto LABEL_22;
      }
    }

    if (*(v8 + 4) != v3)
    {
      goto LABEL_17;
    }

LABEL_24:
    *(v8 + 5) |= HIDWORD(v3);
  }

LABEL_25:
  if (*(a1 + 32))
  {
    v13 = *(a1 + 24);
    if (v13)
    {
      do
      {
        v14 = *v13;
        operator delete(v13);
        v13 = v14;
      }

      while (v14);
    }

    *(a1 + 24) = 0;
    v15 = *(a1 + 16);
    if (v15)
    {
      bzero(*(a1 + 8), 8 * v15);
    }

    *(a1 + 32) = 0;
  }
}

_DWORD *AGX::ComputeControlFlowEmitterGen1<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::emitLink(uint64_t a1, unint64_t a2)
{
  v2 = a2;
  v4 = HIDWORD(a2);
  if (HIDWORD(a2))
  {
    v11 = 0;
    agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, a1, 4, 0, a2 != 0, v4, &v11);
    v6 = *(a1 + 752);
    *v6 = -1610612736;
    v5 = v6 + 1;
    *(a1 + 752) = v5;
  }

  else
  {
    v5 = *(a1 + 752);
  }

  v10 = 0;
  agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, a1, 8, 0, 0, 0, &v10);
  v7 = *(a1 + 752);
  *v7 = 0xADE17D00200000DELL;
  *(a1 + 752) = v7 + 1;
  if (v4)
  {
    v12 = 0;
    agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, a1, 4, 0, v2 != 0, 0, &v12);
    v8 = *(a1 + 752);
    *v8 = (v4 + 1) & 7 | 0xA0000000;
    *(a1 + 752) = v8 + 1;
  }

  return v5;
}

void AGX::ComputeControlFlowEmitterGen2<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::emitPredicate(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unint64_t a9, unint64_t a10)
{
  v10 = MEMORY[0x2A1C7C4A8](a1);
  v17 = v15;
  v18 = v13;
  v19 = v12;
  v367 = *MEMORY[0x29EDCA608];
  v20 = *(v12 + 4);
  v21 = v13[4];
  v22 = v20 == 2 && v21 == 1;
  if (v22)
  {
    v28 = v10;
    if (v11 - 1 >= 6)
    {
      v29 = v11;
    }

    else
    {
      v29 = 7 - v11;
    }

    v30 = *(v15 + 752);
    v31 = *(v15 + 768);
    v342[0] = 0;
    AGX::ComputeUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::barrier(22, v15, v342);
    v32 = v19[1];
    v33 = *(*v19 + *MEMORY[0x29EDC5638] + 8);
    v34 = *v18;
    v342[0] = 0;
    agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, v17, 20, 0, 0, 0, v342);
    v35 = 0;
    v36 = *(v17 + 752);
    v37 = v36 + *(v17 + 768);
    v36->i32[0] = ((v29 & 7) << 24) | 0x280000DE;
    v36->i32[1] = -1377731328;
    v36[1] = vand_s8((v33 + v32), 0xFFFFFFFFFFFCLL);
    v36[2].i32[0] = v34;
    *(v17 + 752) = v36 + 20;
    v38 = &v36[2] + *(v17 + 768) + 4;
    *v28 = v30;
    *(v28 + 1) = v31 + v30;
    *(v28 + 2) = v36 + 20;
    *(v28 + 3) = v38;
    *(v28 + 4) = v36;
    *(v28 + 5) = v37;
    goto LABEL_243;
  }

  v285 = v11;
  v294 = v14;
  v287 = v16;
  v273 = v10;
  v23 = *v12;
  v24 = v12[1];
  v291 = *v13;
  v280 = *(v13 + 1);
  if (HIDWORD(a9))
  {
    v342[0] = 0;
    agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, v15, 4, 0, a9 != 0, HIDWORD(a9), v342);
    v25 = *(v17 + 752);
    *v25 = -1610612736;
    *(v17 + 752) = v25 + 1;
  }

  v26 = *(v17 + 1840) - 1;
  if (v26 > 6)
  {
    v27 = 10;
  }

  else
  {
    v27 = dword_29D2FEF90[v26];
  }

  v39 = v27;
  if (((1 << v27) & 0xFFF00000480) != 0 && !*(v17 + 32 * v27 + 48) && (AGX::DataBufferAllocator<44ul>::growNoInline(v17, v27, 0) & 1) == 0)
  {
LABEL_276:
    abort();
  }

  v40 = (v17 + 40 + 32 * v39);
  v41 = v40[1] + 11;
  if (v41 <= *v40)
  {
    goto LABEL_17;
  }

  if (AGX::DataBufferAllocator<44ul>::growNoInline(v17, v39, 0))
  {
    v41 = v40[1] + 11;
    if (v41 > *v40)
    {
      goto LABEL_276;
    }

LABEL_17:
    v40[2] = v41;
  }

  v42 = *(v17 + 1840) - 1;
  if (v42 > 6)
  {
    v43 = 10;
  }

  else
  {
    v43 = qword_29D2FEFB0[v42];
  }

  v44 = v17 + 40 + 32 * v43;
  v45 = ((*(v44 + 8) + 3) & 0xFFFFFFFFFFFFFFFCLL);
  v46 = *(v44 + 24);
  *(v44 + 8) = v45 + 1;
  *v45 = 0xADE17D00200000DELL;
  v289 = *(v17 + 752);
  v276 = *(v17 + 768);
  v342[0] = 0;
  AGX::ComputeUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::barrier(22, v17, v342);
  if (v20 == 2)
  {
    v51 = v23 + *MEMORY[0x29EDC5638];
    v49 = (v24 + *(v51 + 24));
    v50 = (*(v51 + 8) + v24);
    if (v21 != 2)
    {
      goto LABEL_28;
    }

    goto LABEL_33;
  }

  if (v20 != 1)
  {
    v50 = 0;
    v49 = 0;
    if (v21 != 2)
    {
      goto LABEL_28;
    }

LABEL_33:
    v56 = v291 + *MEMORY[0x29EDC5638];
    v54 = (v280 + *(v56 + 24));
    v55 = (*(v56 + 8) + v280);
    goto LABEL_35;
  }

  v47 = *(v17 + 144);
  v48 = v47 + 7;
  if ((v47 + 7) <= *(v17 + 136))
  {
LABEL_24:
    *(v17 + 152) = v48;
    goto LABEL_25;
  }

  v259 = AGX::DataBufferAllocator<44ul>::growNoInline(v17, 3, 0);
  v47 = *(v17 + 144);
  if (v259)
  {
    v48 = v47 + 7;
    if ((v47 + 7) > *(v17 + 136))
    {
      goto LABEL_276;
    }

    goto LABEL_24;
  }

LABEL_25:
  v49 = ((v47 + 3) & 0xFFFFFFFFFFFFFFFCLL);
  v50 = v49 + *(v17 + 160);
  *(v17 + 144) = v49 + 1;
  *v49 = v23;
  if (v21 == 2)
  {
    goto LABEL_33;
  }

LABEL_28:
  if (v21 == 1)
  {
    v52 = *(v17 + 144);
    v53 = v52 + 7;
    if ((v52 + 7) > *(v17 + 136))
    {
      v260 = AGX::DataBufferAllocator<44ul>::growNoInline(v17, 3, 0);
      v52 = *(v17 + 144);
      if (!v260)
      {
        goto LABEL_31;
      }

      v53 = v52 + 7;
      if ((v52 + 7) > *(v17 + 136))
      {
        goto LABEL_276;
      }
    }

    *(v17 + 152) = v53;
LABEL_31:
    v54 = ((v52 + 3) & 0xFFFFFFFFFFFFFFFCLL);
    v55 = v54 + *(v17 + 160);
    *(v17 + 144) = v54 + 1;
    *v54 = v291;
    goto LABEL_35;
  }

  v55 = 0;
  v54 = 0;
LABEL_35:
  v57 = *(v17 + 144);
  v58 = v57 + 15;
  if ((v57 + 15) <= *(v17 + 136))
  {
LABEL_36:
    *(v17 + 152) = v58;
    goto LABEL_37;
  }

  v255 = AGX::DataBufferAllocator<44ul>::growNoInline(v17, 3, 0);
  v57 = *(v17 + 144);
  if (v255)
  {
    v58 = v57 + 15;
    if ((v57 + 15) > *(v17 + 136))
    {
      goto LABEL_276;
    }

    goto LABEL_36;
  }

LABEL_37:
  v59 = ((v57 + 7) & 0xFFFFFFFFFFFFFFF8);
  v60 = *(v17 + 160);
  *(v17 + 144) = v59 + 1;
  v292 = v59;
  *v59 = 0;
  v61 = *(v17 + 144);
  v62 = v61 + 15;
  v274 = v17 + 40;
  v281 = v54;
  v283 = v50;
  v278 = v55;
  if ((v61 + 15) <= *(v17 + 136))
  {
    v63 = v17;
LABEL_39:
    v64 = v49;
    v17 = v63;
    *(v63 + 152) = v62;
    goto LABEL_40;
  }

  v256 = AGX::DataBufferAllocator<44ul>::growNoInline(v17, 3, 0);
  v61 = *(v17 + 144);
  if (v256)
  {
    v62 = v61 + 15;
    v63 = v17;
    if ((v61 + 15) > *(v17 + 136))
    {
      goto LABEL_276;
    }

    goto LABEL_39;
  }

  v64 = v49;
LABEL_40:
  v65 = *(v17 + 160);
  v66 = ((v61 + 7) & 0xFFFFFFFFFFFFFFF8);
  *(v17 + 144) = v66 + 1;
  v67 = v45 + v46;
  *v66 = 0;
  v68 = v45;
  v69 = v66 + v65;
  v345 = 0u;
  v344 = 0u;
  v343 = 0u;
  v302 = 0;
  v303 = -1;
  v304 = 0;
  bzero(v312, 0x720uLL);
  v323 = 1;
  v324 = 0u;
  v325 = 0u;
  v326 = 0u;
  v327 = 0u;
  v328 = 0u;
  v329 = 0u;
  v330 = 0u;
  v331 = 0u;
  v332 = 0u;
  v333 = 0u;
  v334 = 0u;
  v335 = 0u;
  v336 = 0u;
  v337 = 0u;
  v338 = 0u;
  v339 = 0u;
  v340 = 0u;
  v341 = 0;
  v307 = 0x100000001;
  v308 = 0x1000100000001;
  v310 = 0x100000001;
  v311 = 1;
  v309 = 0;
  v305 = 0x100000001;
  v306 = 1;
  v312[155] = v283;
  v316 = v64;
  v312[156] = v278;
  v317 = v281;
  v312[157] = v292 + v60;
  v318 = v292;
  v279 = v69;
  v282 = v67;
  v312[158] = v69;
  v284 = v66;
  v319 = v66;
  v312[159] = v67;
  v320 = v68;
  v297 = 42;
  v299 = 0;
  v300 = 0;
  __p = 0;
  v296 = &unk_2A23F6F18;
  v301 = 0;
  v70 = 0x3010205000400uLL >> (8 * v285);
  if (v285 >= 7)
  {
    LOBYTE(v70) = 0;
  }

  LOBYTE(v301) = v70;
  v346 = 0;
  v347 = &v346;
  v348 = 0x2020000000;
  v349 = 0;
  v71 = v294;
  os_unfair_lock_lock((v294 + 16912));
  v72 = *(v294 + 6160);
  os_unfair_lock_lock((v72 + 728));
  v73 = *(v72 + 400);
  v74 = *(v72 + 392);
  if (v73)
  {
    v75 = 0;
    v76 = (v74 + 40);
    while (1)
    {
      v77 = *v76;
      v76 += 48;
      if (((v77 ^ v301) & 0x1F) == 0)
      {
        break;
      }

      if (v73 == ++v75)
      {
        goto LABEL_46;
      }
    }

    v82 = v74 + 48 * v75;
  }

  else
  {
LABEL_46:
    v78 = *(v74 + 384);
    if (v78)
    {
      v79 = 1;
      while (1)
      {
        if (((*(v78 + 40) ^ v301) & 0x1F) == 0)
        {
          v79 = 0;
          goto LABEL_62;
        }

        if (((*(v78 + 88) ^ v301) & 0x1F) == 0)
        {
          goto LABEL_62;
        }

        if (((*(v78 + 136) ^ v301) & 0x1F) == 0)
        {
          v79 = 2;
          goto LABEL_62;
        }

        if (((*(v78 + 184) ^ v301) & 0x1F) == 0)
        {
          break;
        }

        v78 = *(v78 + 384);
        if (!v78)
        {
          goto LABEL_53;
        }
      }

      v79 = 3;
LABEL_62:
      v82 = v78 + 48 * v79;
    }

    else
    {
LABEL_53:
      if (v73 == 4)
      {
        operator new();
      }

      v80 = v74 + 48 * v73;
      *(v80 + 8) = v297;
      if (v80 != &v296)
      {
        std::vector<unsigned int>::__assign_with_size[abi:nn200100]<unsigned int *,unsigned int *>((v80 + 16), __p, v299, (v299 - __p) >> 2);
      }

      *(v80 + 40) = v301;
      v81 = *(v72 + 400);
      v82 = *(v72 + 392) + 48 * v81;
      *(v72 + 400) = v81 + 1;
    }
  }

  v83 = v82 + 192;
  if (*(v82 + 192))
  {
    if (*(v82 + 232) != 1)
    {
      os_unfair_lock_unlock((v72 + 728));
      v347[3] = *(v83 + 8);
      goto LABEL_95;
    }

    v84 = *(v82 + 200);
    if (v84)
    {
      (*(*v84 + 8))(v84);
    }

    *(v83 + 8) = 0;
    *(v83 + 16) = 0;
    v71 = v294;

    *(v83 + 24) = 0;
    *(v83 + 32) = 0;
    *(v83 + 40) = 0;
    v85 = *v83;
  }

  else
  {
    v85 = dispatch_group_create();
    *v83 = v85;
  }

  dispatch_group_enter(v85);
  os_unfair_lock_unlock((v72 + 728));
  v86 = v71;
  v87 = *(v71 + 7160);
  v358 = MEMORY[0x29EDCA5F8];
  v359 = 3221225472;
  v360 = ___ZN3AGX6DeviceINS_6HAL3008EncodersENS1_7ClassesENS1_10ObjClassesEE46findOrCreateComputeControlFlowPredicateProgramERKNS_37ComputeControlFlowPredicateProgramKeyE_block_invoke;
  *v361 = &unk_29F340F80;
  *&v361[16] = v86;
  *&v361[8] = &v346;
  *&v361[24] = &v296;
  *&v361[32] = v83;
  v88 = *(v87 + 8);
  if (!v296[3](&v296))
  {
    v88 = 0;
  }

  v89 = objc_opt_new();
  [v89 setSync:1];
  [v89 setPipelineCache:v88];
  [v89 setBinaryArchives:0];
  v350[0] = MEMORY[0x29EDCA5F8];
  v350[1] = 3221225472;
  v350[2] = ___ZN3AGX8Compiler14compileProgramINS_37ComputeControlFlowPredicateProgramKeyEEEvRKT_P7NSArrayIPU27objcproto16MTLBinaryArchive11objc_objectEU13block_pointerFvRK20AGCDeserializedReply16MTLCompilerErrorP8NSStringEb_block_invoke;
  v350[3] = &unk_29F342280;
  v350[4] = &v358;
  v90 = *(v87 + 24);
  if (v90 && *(v90 + 120) == 1)
  {
    v91 = [objc_msgSend(v89 "binaryArchives")];
    v92 = 0x200000000000;
    if (!v91)
    {
      v92 = 1;
    }

    atomic_fetch_or(v90, v92);
    v93 = *(v87 + 24);
    v94 = [v89 destinationBinaryArchive];
    v95 = 0x400000000000;
    if (!v94)
    {
      v95 = 1;
    }

    atomic_fetch_or(v93, v95);
  }

  if ([v89 destinationBinaryArchive])
  {
    {
      AGX::Compiler::shouldUseAIRNTInterfacesForBinaryArchiveAddRequests(void)::envDisable = 0;
    }

    if (AGX::Compiler::shouldUseAIRNTInterfacesForBinaryArchiveAddRequests(void)::envDisable == 1)
    {
      [v89 setUseAIRNTInterfaces:0];
    }
  }

  buffer = 0;
  size = 0;
  (v296[2])(&v296, &buffer, &size);
  v96 = dispatch_data_create(buffer, size, 0, 0);
  [v89 setDriverKeyData:v96];
  if ([v89 airScript])
  {
    v97 = [v89 airScript];
    v352 = 0;
    object = 0;
    v353 = 0;
    object = dispatch_data_create_map(v97, &v352, &v353);
    v98 = v352;
    v99 = *v352;
    CC_SHA256_Init(&c);
    (*v296)(&v296, &c);
    data = 0;
    v356 = 0;
    if (AGX::GetSerializedVertexFormat((v98 + v99), &data, &v356, v100, v101))
    {
      v102 = data;
      CC_SHA256_Update(&c, data, v356);
      free(v102);
    }

    CC_SHA256_Final(&v362, &c);
    dispatch_release(object);
    *c.count = v362;
    *&c.hash[2] = v363;
    [v89 setVendorPluginFunctionId:&c];
  }

  *c.count = MEMORY[0x29EDCA5F8];
  *c.hash = 3221225472;
  *&c.hash[2] = ___ZN3AGX8Compiler14compileProgramINS_37ComputeControlFlowPredicateProgramKeyE20AGCDeserializedReplyEEvRKT_P29MTLCompileFunctionRequestDataPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvRKT0_PU27objcproto16OS_dispatch_data8NSObjectSG_SG_SG_SG_16MTLCompilerErrorP8NSStringyE_block_invoke;
  *&c.hash[4] = &unk_29F3422D0;
  *&c.hash[6] = v89;
  *c.wbuf = v350;
  if ([v89 function])
  {
    v103 = mach_absolute_time();
    v104 = *v87;
    *&v362 = MEMORY[0x29EDCA5F8];
    *(&v362 + 1) = 3221225472;
    *&v363 = ___ZN3AGX8Compiler14compileProgramINS_37ComputeControlFlowPredicateProgramKeyE20AGCDeserializedReplyEEvRKT_P29MTLCompileFunctionRequestDataPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvRKT0_PU27objcproto16OS_dispatch_data8NSObjectSG_SG_SG_SG_16MTLCompilerErrorP8NSStringyE_block_invoke_4;
    *(&v363 + 1) = &unk_29F342320;
    v365 = v103;
    p_c = &c;
    [v104 compileFunctionRequest:v89 compilerTask:0 completionHandler:&v362];
  }

  else
  {
    if ([v89 frameworkData] || objc_msgSend(v89, "pipelineOptions"))
    {
      AGX::Device<AGX::HAL300::Encoders,AGX::HAL300::Classes,AGX::HAL300::ObjClasses>::alertCommandBufferActivityStart(void)::{lambda(void)#1}::operator()[abi:[AGX] Failed assertion _previousValue _ 2147483647_]();
    }

    *&v362 = MEMORY[0x29EDCA5F8];
    *(&v362 + 1) = 3221225472;
    *&v363 = ___ZN3AGX8Compiler14compileProgramINS_37ComputeControlFlowPredicateProgramKeyE20AGCDeserializedReplyEEvRKT_P29MTLCompileFunctionRequestDataPU27objcproto16MTL4CompilerTask11objc_objectU13block_pointerFvRKT0_PU27objcproto16OS_dispatch_data8NSObjectSG_SG_SG_SG_16MTLCompilerErrorP8NSStringyE_block_invoke_3;
    *(&v363 + 1) = &unk_29F3422F8;
    p_c = &c;
    v105 = [objc_msgSend(v89 "binaryArchives")];
    v106 = *v87;
    v107 = [v89 driverKeyData];
    if (v105)
    {
      [v106 compileRequest:v107 binaryArchives:objc_msgSend(v89 failOnBinaryArchiveMiss:"binaryArchives") pipelineCache:0 sync:objc_msgSend(v89 completionHandler:{"pipelineCache"), objc_msgSend(v89, "sync"), &v362}];
    }

    else
    {
      [v106 compileRequest:v107 pipelineCache:objc_msgSend(v89 sync:"pipelineCache") completionHandler:{objc_msgSend(v89, "sync"), &v362}];
    }
  }

  dispatch_release(v96);

  v71 = v294;
LABEL_95:
  v286 = v276 + v289;
  os_unfair_lock_unlock((v71 + 16912));
  v108 = v347[3];
  _Block_object_dispose(&v346, 8);
  v109 = *(v108 + 2728);
  do
  {
    IOGPUResourceListAddResource();
    v109 &= ~(1 << __clz(__rbit32(v109)));
  }

  while (v109);
  v110 = *(v17 + 1840);
  if (v110)
  {
    v111 = 3;
  }

  else
  {
    v111 = 10;
  }

  v112 = *(v108 + 624);
  v113 = (v274 + 32 * v111);
  if (!v110 && !v113[1] && (AGX::DataBufferAllocator<44ul>::growNoInline(v17, 10, 0) & 1) == 0)
  {
    goto LABEL_276;
  }

  v114 = v112 + 31;
  v115 = v113[1] + v114;
  if (v115 <= *v113)
  {
    goto LABEL_103;
  }

  if (AGX::DataBufferAllocator<44ul>::growNoInline(v17, v111, 0))
  {
    v115 = v113[1] + v114;
    if (v115 > *v113)
    {
      goto LABEL_276;
    }

LABEL_103:
    v113[2] = v115;
  }

  v116 = (*(*(v108 + 2392) + 8) - **(v108 + 2392)) + 63;
  v117 = *(v17 + 208) + v116;
  if (v117 <= *(v17 + 200))
  {
LABEL_105:
    *(v17 + 216) = v117;
    goto LABEL_106;
  }

  if (AGX::DataBufferAllocator<44ul>::growNoInline(v17, 5, 0))
  {
    v117 = *(v17 + 208) + v116;
    if (v117 > *(v17 + 200))
    {
      goto LABEL_276;
    }

    goto LABEL_105;
  }

LABEL_106:
  c.count[0] = 0;
  agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, v17, 40, 0, 0, 0, &c);
  v118 = *(v108 + 3912);
  v119 = (*(v108 + 4084) + 3) >> 2;
  v120 = v287[4].u32[0];
  v121 = v287[3];
  if (v120 <= 1)
  {
    v122 = 1;
  }

  else
  {
    v122 = v120;
  }

  v123 = 4 * v122 * v119;
  v124 = v287[3];
  v125 = HIDWORD(*&v287[3]);
  v126 = v123 * v121.i32[0] * v121.i32[1];
  if (v126)
  {
    v127 = vand_s8(vneg_s32(vclz_s32(vadd_s32(v121, -1))), 0x1F0000001FLL);
    v126 = v123 * (1 << v127.i8[0] << v127.i8[4]);
  }

  v321 = v126;
  v322 = 4 * v118;
  v359 = 0;
  v358 = 0;
  *v361 = 0;
  v360 = 0;
  *&v361[4] = 0x3000000A5;
  *&v361[20] = 0uLL;
  if (v125 * v124 * v123 && (v128 = 1 << -__clz(v124 - 1), v129 = -__clz(v125 - 1), (v128 << v129) * v123))
  {
    *&v361[20] = AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::SpecLM::encodeImageBlockData(v119, v122, v128, 1 << (v129 & 0x1F));
    *&v361[28] = v130;
    v131 = 0x100000000;
  }

  else
  {
    v131 = 0;
  }

  if (4 * v118)
  {
    ++v131;
  }

  *&v361[12] = v131 | ((v118 << 18) + 4128768) & 0xFFC00000;
  AGX::ESLInstructionEncoderGen3<AGX::HAL300::Encoders>::AGX3EncodedInstr<AGXIotoInstruction_SPECLM_0>::AGX3EncodedInstr((&c.wbuf[4] + 2), &v358);
  v132 = *(v17 + 1840);
  memset(&c, 0, 37);
  memset(c.wbuf, 0, 18);
  v133 = *(v108 + 624);
  if (v133)
  {
    v134 = 3;
    if (!v132)
    {
      v134 = 10;
    }

    if (v132 == 7 || v132 == 3 || v132 == 1)
    {
      v134 = 3;
    }

    v137 = v274 + 32 * v134;
    v136 = (*(v137 + 8) + 31) & 0xFFFFFFFFFFFFFFE0;
    v135 = v136 + *(v137 + 24);
    *(v137 + 8) = v136 + v133;
  }

  else
  {
    v135 = 0;
    v136 = 0;
  }

  v138 = ((*(v17 + 208) + 63) & 0xFFFFFFFFFFFFFFC0);
  v139 = *(v17 + 224);
  *(v17 + 208) = &v138[*(*(v108 + 2392) + 8) - **(v108 + 2392)];
  v271 = *(&c.wbuf[4] + 2);
  v140 = *(v108 + 1128);
  v141 = *(v108 + 1120);
  v142 = v140 - v141;
  v22 = v140 == v141;
  v143 = *(v108 + 1016);
  v144 = v143 & 1;
  if (v22)
  {
    v144 = 0;
  }

  if (!v133)
  {
    goto LABEL_213;
  }

  v145 = *(v108 + 1320);
  v146 = *(v108 + 656);
  v264 = *(v108 + 736);
  v277 = *(v108 + 660);
  v147 = *(v108 + 1024);
  v148 = *(v108 + 1028);
  v149 = v146 + ((*(v108 + 872) - *(v108 + 864)) >> 2);
  v275 = *(v108 + 1353);
  v263 = *(v108 + 1352);
  if (*(v108 + 1352))
  {
    v313 = vaddw_u32(vdupq_n_s64(v135), *(v108 + 628));
  }

  if (v275)
  {
    v314 = v135 + *(v108 + 648);
  }

  v270 = 8 * v149;
  v269 = v144 + v143;
  if (v148 + v147)
  {
    v315 = v270 + v135 + 4 * (v269 + ((v142 >> 1) & 0xFFFFFFFE));
  }

  v272 = v139;
  v267 = v142;
  v268 = v135;
  v265 = v147;
  v266 = v148;
  if (v146 == v145)
  {
    v150 = 0;
    if (v145)
    {
      goto LABEL_138;
    }

LABEL_178:
    if (!v277)
    {
      goto LABEL_194;
    }

LABEL_179:
    v312[1] = v135 + v150 + 8;
    *&v362 = v342;
    v350[0] = &v302;
    v181 = &unk_2A23F7108;
    v358 = &unk_2A23F7108;
    v359 = v350;
    v360 = &v362;
    *v361 = &v358;
    v182 = *(v108 + 800);
    v183 = *(v108 + 808);
    if (v182 == v183)
    {
      v190 = &v358;
      v135 = v268;
    }

    else
    {
      v184 = 0;
      do
      {
        LODWORD(v346) = *v182;
        if (!*v361)
        {
          goto LABEL_281;
        }

        v186 = (*(**v361 + 48))(*v361, &v346);
        v187 = *(v182 + 8);
        v188 = *(v182 + 16);
        if (v187 == v188)
        {
          v185 = v184;
        }

        else
        {
          do
          {
            v189 = *v187++;
            v185 = (v184 + 1);
            *(v136 + v150 + 4 * v184) = *(v186 + 4 * v189);
            LODWORD(v184) = v184 + 1;
          }

          while (v187 != v188);
        }

        v182 += 32;
        v184 = v185;
      }

      while (v182 != v183);
      v190 = *v361;
      v139 = v272;
      if (*v361 != &v358)
      {
        v135 = v268;
        if (*v361)
        {
          (*(**v361 + 40))();
        }

        goto LABEL_193;
      }

      v181 = **v361;
      v135 = v268;
    }

    v181[4](v190);
LABEL_193:
    v150 += 4 * v277;
    v142 = v267;
    v148 = v266;
    goto LABEL_194;
  }

  *&v362 = v342;
  v350[0] = &v302;
  v155 = &unk_2A23F70C0;
  v358 = &unk_2A23F70C0;
  v359 = v350;
  v360 = &v362;
  *v361 = &v358;
  v156 = *(v108 + 688);
  v157 = *(v108 + 696);
  if (v156 == v157)
  {
    v164 = &v358;
    v139 = v272;
    v135 = v268;
LABEL_156:
    v155[4](v164);
    goto LABEL_157;
  }

  v158 = 0;
  do
  {
    LODWORD(v346) = *v156;
    if (!*v361)
    {
LABEL_281:
      std::__throw_bad_function_call[abi:nn200100]();
    }

    v160 = (*(**v361 + 48))(*v361, &v346);
    v161 = *(v156 + 8);
    v162 = *(v156 + 16);
    if (v161 == v162)
    {
      v159 = v158;
    }

    else
    {
      do
      {
        v163 = *v161++;
        v159 = (v158 + 1);
        *(v136 + 8 * v158) = *(v160 + 8 * v163);
        LODWORD(v158) = v158 + 1;
      }

      while (v161 != v162);
    }

    v156 += 32;
    v158 = v159;
  }

  while (v156 != v157);
  v164 = *v361;
  if (*v361 == &v358)
  {
    v155 = **v361;
    v139 = v272;
    v135 = v268;
    goto LABEL_156;
  }

  v139 = v272;
  v135 = v268;
  if (*v361)
  {
    (*(**v361 + 40))();
  }

LABEL_157:
  v142 = v267;
  v148 = v266;
  if (*(v108 + 1160))
  {
    v165 = *(v108 + 1144);
    if (v165 != (v108 + 1152))
    {
      do
      {
        *(v136 + 4 * *(v165 + 7)) |= *(v165 + 8);
        v174 = v165[1];
        if (v174)
        {
          do
          {
            v175 = v174;
            v174 = *v174;
          }

          while (v174);
        }

        else
        {
          do
          {
            v175 = v165[2];
            v22 = *v175 == v165;
            v165 = v175;
          }

          while (!v22);
        }

        v165 = v175;
      }

      while (v175 != (v108 + 1152));
    }
  }

  v166 = (v264 + 3) & 0xFFFFFFFC;
  if (v263)
  {
    v167 = *(v108 + 1312);
    if (v167 >= 4)
    {
      v168 = v167 >> 2;
      v169 = *(v108 + 752);
      v170 = (v136 + 8 * v166);
      do
      {
        v171 = *v169;
        v169 += 4;
        v172 = &v342[2 * v171 + 124];
        v173 = *(v172 + 1);
        *v170 = *v172;
        v170[1] = v173;
        v170 += 2;
        --v168;
      }

      while (v168);
    }

    v166 += v167;
  }

  else
  {
    v167 = 0;
  }

  if (v275)
  {
    v176 = *(v108 + 1316);
    v177 = (v136 + 8 * v166);
    if (*(v108 + 2192) == 1)
    {
      if (v176)
      {
        v261 = (*(v108 + 752) + 4 * v167);
        do
        {
          v262 = *v261++;
          *v177++ = *&v342[2 * v262 + 4220];
          --v176;
        }

        while (v176);
      }
    }

    else if (v176 >= 4)
    {
      v178 = v176 >> 2;
      v179 = (*(v108 + 752) + 4 * v167);
      do
      {
        v180 = *v179;
        v179 += 4;
        *v177 = *&v342[2 * v180 + 4220];
        v177 += 4;
        --v178;
      }

      while (v178);
    }
  }

  v150 = 8 * (v146 - v145);
  if (!v145)
  {
    goto LABEL_178;
  }

LABEL_138:
  if (v145 >= 4)
  {
    v151 = *(v108 + 2920);
    v152 = v145 >> 2;
    v153 = (v136 + v150);
    do
    {
      v154 = *v151;
      v151 += 4;
      *v153 = v154;
      v153 += 4;
      --v152;
    }

    while (v152);
  }

  v150 += 8 * v145;
  if (v277)
  {
    goto LABEL_179;
  }

LABEL_194:
  v191 = v142 >> 2;
  if ((v142 >> 2))
  {
    v192 = v270 + 4 * v269;
    v193 = (v136 + (v192 & 0xFFFFFFFC));
    v194 = *(v108 + 1120);
    do
    {
      v195 = *v194++;
      *v193++ = *&v342[2 * v195 + 4220];
      LODWORD(v191) = v191 - 1;
    }

    while (v191);
    v150 = v192 + 8 * (v142 >> 2);
  }

  if (v148 != -v265)
  {
    v196 = v135;
    v197 = (v136 + v150);
    v198 = 4 * *(v108 + 1024);
    memcpy(v197, &v342[*(v108 + 1020)], v198);
    *&v362 = v342;
    v350[0] = &v302;
    v199 = &unk_2A23F7150;
    v358 = &unk_2A23F7150;
    v359 = v350;
    v360 = &v362;
    *v361 = &v358;
    v200 = *(v108 + 1056);
    v201 = *(v108 + 1064);
    if (v200 == v201)
    {
      v209 = &v358;
      v135 = v196;
    }

    else
    {
      v202 = 0;
      v203 = &v197[v198];
      do
      {
        LODWORD(v346) = *v200;
        if (!*v361)
        {
          goto LABEL_281;
        }

        v205 = (*(**v361 + 48))(*v361, &v346);
        v206 = *(v200 + 8);
        v207 = *(v200 + 16);
        if (v206 == v207)
        {
          v204 = v202;
        }

        else
        {
          do
          {
            v208 = *v206++;
            v204 = (v202 + 1);
            *&v203[4 * v202] = *(v205 + 4 * v208);
            LODWORD(v202) = v202 + 1;
          }

          while (v206 != v207);
        }

        v200 += 32;
        v202 = v204;
      }

      while (v200 != v201);
      v209 = *v361;
      if (*v361 != &v358)
      {
        v139 = v272;
        v135 = v196;
        if (*v361)
        {
          (*(**v361 + 40))();
        }

        goto LABEL_213;
      }

      v199 = **v361;
      v139 = v272;
      v135 = v196;
    }

    v199[4](v209);
  }

LABEL_213:
  v210 = *(v108 + 2392);
  memcpy(v138, *v210, *(v210 + 8) - *v210);
  if (*(v210 + 272) == 1)
  {
    v211.i64[0] = v135;
    v211.i64[1] = v135 >> 5;
    *&v138[*(v210 + 276)] = vbslq_s8(xmmword_29D2F17C0, *&v138[*(v210 + 276)], vshlq_u8(vqtbl1q_s8(v211, xmmword_29D2F17A0), xmmword_29D2F17B0));
  }

  v212 = *(v210 + 224);
  for (i = *(v210 + 232); v212 != i; v212 += 3)
  {
    v214.i64[0] = *&v342[2 * v212[1]] + *v212;
    v214.i64[1] = v214.i64[0] >> 5;
    *&v138[v212[2]] = vbslq_s8(xmmword_29D2F17C0, *&v138[v212[2]], vshlq_u8(vqtbl1q_s8(v214, xmmword_29D2F17A0), xmmword_29D2F17B0));
  }

  v215 = *(v210 + 248);
  for (j = *(v210 + 256); v215 != j; v215 += 3)
  {
    v217.i64[0] = *(&v302 + v215[1]) + *v215;
    v217.i64[1] = v217.i64[0] >> 5;
    *&v138[v215[2]] = vbslq_s8(xmmword_29D2F17C0, *&v138[v215[2]], vshlq_u8(vqtbl1q_s8(v217, xmmword_29D2F17A0), xmmword_29D2F17B0));
  }

  if (!*(v210 + 312))
  {
    *&v138[*(v210 + 316)] = v271;
  }

  v218 = &v138[v139];
  v219 = *v287;
  if (*v287)
  {
    v221 = *v210;
    v220 = *(v210 + 8);
    v222 = *(v108 + 2800);
    LODWORD(v223) = *(v219 + 2);
    v224 = v223 + 1;
    if (*(v219 + 3) >= (v223 + 1))
    {
      v227 = *v219;
    }

    else
    {
      v288 = *(v108 + 2800);
      v225 = -__clz(v223);
      v226 = malloc_type_malloc(40 << (v225 & 0x1F), 0x10800400D7C94D2uLL);
      v227 = v226;
      v228 = 1 << v225;
      v223 = *(v219 + 2);
      if (v223)
      {
        memcpy(v226, *v219, 40 * v223);
        free(*v219);
        LODWORD(v223) = *(v219 + 2);
      }

      v222 = v288;
      *(v219 + 3) = v228;
      *v219 = v227;
    }

    v229 = &v227[40 * v223];
    *v229 = 8;
    *(v229 + 1) = v218;
    *(v229 + 2) = v138;
    *(v229 + 3) = (v220 - v221);
    *(v229 + 8) = v222;
    *(v219 + 2) = v224;
  }

  v230 = v307 & 0x7FF;
  v231 = WORD2(v307) & 0x7FF;
  v232 = v308 & 0x7FF;
  if ((a10 - 1) > 2u)
  {
    v233 = 0x40000000;
  }

  else
  {
    v233 = dword_29D2F4558[(a10 - 1)] | 0x40000000;
  }

  v234 = (v218 >> 16) & 0xFFC00000 | *(v108 + 3732) & 0x3FFFFF;
  v235 = v307 * v305;
  v236 = HIDWORD(v307) * HIDWORD(v305);
  v237 = v308 * v306;
  if ((a10 & 0xFCFF) == 3)
  {
    v238 = dword_29D2F2740[(a10 >> 8) & 3] & 7;
  }

  else
  {
    v238 = 0;
  }

  v239 = v238 | v233;
  v240 = *(v17 + 752);
  *v240 = *(v108 + 3728);
  v240[1] = v234;
  v240[2] = v218 >> 6;
  v240[3] = v239;
  v240[4] = v235;
  v240[5] = v236;
  v240[6] = v237;
  v240[7] = v230;
  v240[8] = v231;
  v240[9] = v232;
  *(v17 + 752) = v240 + 10;
  v241 = *(v17 + 144);
  v242 = v241 + 7;
  if ((v241 + 7) <= *(v17 + 136))
  {
LABEL_235:
    *(v17 + 152) = v242;
    goto LABEL_236;
  }

  v257 = AGX::DataBufferAllocator<44ul>::growNoInline(v17, 3, 0);
  v241 = *(v17 + 144);
  if (v257)
  {
    v242 = v241 + 7;
    if ((v241 + 7) > *(v17 + 136))
    {
      goto LABEL_276;
    }

    goto LABEL_235;
  }

LABEL_236:
  v243 = ((v241 + 3) & 0xFFFFFFFFFFFFFFFCLL);
  v244 = *(v17 + 160);
  *(v17 + 144) = v243 + 1;
  *v243 = 0x80000000;
  c.count[0] = 0;
  AGX::ComputeUSCStateLoader<AGX::HAL300::Encoders,AGX::HAL300::Classes>::barrier(22, v17, c.count);
  v245 = *(v17 + 752);
  v246 = v245 + 11;
  if ((v245 + 11) > *(v17 + 744))
  {
    v258 = AGX::DataBufferAllocator<44ul>::growNoInline(v17, 22, 0);
    v245 = *(v17 + 752);
    if (!v258)
    {
      goto LABEL_238;
    }

    v246 = v245 + 11;
    if ((v245 + 11) > *(v17 + 744))
    {
      goto LABEL_276;
    }
  }

  *(v17 + 760) = v246;
LABEL_238:
  v247 = ((v245 + 3) & 0xFFFFFFFFFFFFFFFCLL);
  *(v17 + 752) = v247 + 1;
  *v247 = __ROR8__(v243 + v244, 32) & 0xFFFFFFFF0000FFFFLL | 0x30000000;
  c.count[0] = 0;
  agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, v17, 8, 0, 0, 0, &c);
  v248 = *(v17 + 752);
  *v248 = __ROR8__(v282, 32) & 0xFFFFFFFF0000FFFFLL | 0x20000000;
  v249 = v248 + 1;
  *(v17 + 752) = v249;
  v250 = v249 + *(v17 + 768);
  *v292 = v250;
  *v284 = v250;
  if (HIDWORD(a9))
  {
    c.count[0] = 0;
    agxaReserveCDMTokenSpace<AGX::HAL300::Encoders,AGX::HAL300::DataBufferAllocator>(22, v17, 4, 0, a9 != 0, 0, &c);
    v251 = *(v17 + 752);
    *v251 = (BYTE4(a9) + 1) & 7 | 0xA0000000;
    *(v17 + 752) = v251 + 1;
  }

  *&v252 = v289;
  *(&v252 + 1) = v286;
  *&v253 = v249;
  *(&v253 + 1) = v250;
  *&v254 = v284;
  *(&v254 + 1) = v279;
  v296 = &unk_2A23F6F58;
  if (__p)
  {
    v299 = __p;
    v293 = v253;
    v295 = v252;
    v290 = v254;
    operator delete(__p);
    v254 = v290;
    v253 = v293;
    v252 = v295;
  }

  v28 = v273;
  *v273 = v252;
  v273[1] = v253;
  v35 = 1;
  v273[2] = v254;
LABEL_243:
  *(v28 + 48) = v35;
}