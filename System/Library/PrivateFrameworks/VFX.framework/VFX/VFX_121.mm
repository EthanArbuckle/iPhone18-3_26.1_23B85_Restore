void sub_1AFA5BD4C(uint64_t a1@<X8>)
{
  *a1 = 0;
  v2 = MEMORY[0x1E69E7CC0];
  *(a1 + 32) = MEMORY[0x1E69E7CC0];
  *(a1 + 40) = 0;
  inited = type metadata accessor for ParticleInitScript(0);
  *(a1 + 48) = 0;
  *(a1 + 56) = 0;
  v4 = *(inited + 40);
  v5 = type metadata accessor for ScriptIndex();
  (*(*(v5 - 8) + 56))(a1 + v4, 1, 1, v5);
  *(a1 + 16) = 0x80000001AFF2B900;
  *(a1 + 24) = &unk_1F24FDAB0;
  *(a1 + 8) = 0xD0000000000000BFLL;
  sub_1AF5B234C(0);
  v7 = a1 + v6[9];
  *v7 = 0;
  *(v7 + 8) = 1;
  *(a1 + v6[10]) = 0;
  *(a1 + v6[11]) = 0;
  v8 = (a1 + v6[12]);
  *v8 = 0;
  v8[1] = 0xE000000000000000;
  *(a1 + v6[13]) = v2;
}

void sub_1AFA5BE44(uint64_t a1@<X8>)
{
  *(a1 + 16) = 2;
  v2 = type metadata accessor for ShaderScript(0);
  v3 = v2[6];
  v4 = type metadata accessor for ScriptIndex();
  (*(*(v4 - 8) + 56))(a1 + v3, 1, 1, v4);
  v5 = (a1 + v2[7]);
  *v5 = 0;
  v5[1] = 0;
  *(a1 + v2[8]) = &unk_1F24FDAE0;
  *a1 = 0;
  *(a1 + 8) = 0xE000000000000000;
  sub_1AF5B23C4(0);
  v7 = a1 + v6[9];
  *v7 = 0;
  *(v7 + 8) = 1;
  *(a1 + v6[10]) = 0;
  *(a1 + v6[11]) = 0;
  v8 = (a1 + v6[12]);
  *v8 = 0;
  v8[1] = 0xE000000000000000;
  *(a1 + v6[13]) = MEMORY[0x1E69E7CC0];
}

void sub_1AFA5BF30(uint64_t a1@<X8>)
{
  *(a1 + 16) = 2;
  v2 = type metadata accessor for MetalFunctionScript(0);
  v3 = v2[6];
  v4 = type metadata accessor for ScriptIndex();
  (*(*(v4 - 8) + 56))(a1 + v3, 1, 1, v4);
  v5 = (a1 + v2[7]);
  *v5 = 0;
  v5[1] = 0;
  *(a1 + v2[9]) = 0;
  *(a1 + v2[8]) = &unk_1F24FDB20;
  *a1 = 0xD000000000000129;
  *(a1 + 8) = 0x80000001AFF455A0;
  sub_1AF5B243C(0);
  v7 = a1 + v6[9];
  *v7 = 0;
  *(v7 + 8) = 1;
  *(a1 + v6[10]) = 0;
  *(a1 + v6[11]) = 0;
  v8 = (a1 + v6[12]);
  *v8 = 0;
  v8[1] = 0xE000000000000000;
  *(a1 + v6[13]) = MEMORY[0x1E69E7CC0];
}

void sub_1AFA5C03C(uint64_t a1@<X8>)
{
  v2 = MEMORY[0x1E69E7CC0];
  *a1 = MEMORY[0x1E69E7CC0];
  *(a1 + 8) = 0;
  *(a1 + 16) = 0xE000000000000000;
  *(a1 + 24) = &unk_1F24FDB50;
  *(a1 + 32) = 3;
  v3 = type metadata accessor for SimpleScript(0);
  *(a1 + 40) = 0;
  *(a1 + 48) = 0;
  *(a1 + 56) = 0;
  v4 = *(v3 + 40);
  v5 = type metadata accessor for ScriptIndex();
  (*(*(v5 - 8) + 56))(a1 + v4, 1, 1, v5);
  sub_1AF5B24B4(0);
  v7 = a1 + v6[9];
  *v7 = 0;
  *(v7 + 8) = 1;
  *(a1 + v6[10]) = 0;
  *(a1 + v6[11]) = 0;
  v8 = (a1 + v6[12]);
  *v8 = 0;
  v8[1] = 0xE000000000000000;
  *(a1 + v6[13]) = v2;
}

void sub_1AFA5C124(uint64_t a1@<X8>)
{
  v2 = MEMORY[0x1E69E7CC0];
  *a1 = MEMORY[0x1E69E7CC0];
  *(a1 + 8) = 0;
  *(a1 + 16) = 0xE000000000000000;
  *(a1 + 24) = 3;
  *(a1 + 32) = &unk_1F24FDB80;
  *(a1 + 40) = 0;
  v3 = type metadata accessor for GraphScript(0);
  *(a1 + 48) = 0;
  *(a1 + 56) = 0;
  v4 = *(v3 + 44);
  v5 = type metadata accessor for ScriptIndex();
  (*(*(v5 - 8) + 56))(a1 + v4, 1, 1, v5);
  sub_1AF5B252C(0);
  v7 = a1 + v6[9];
  *v7 = 0;
  *(v7 + 8) = 1;
  *(a1 + v6[10]) = 0;
  *(a1 + v6[11]) = 0;
  v8 = (a1 + v6[12]);
  *v8 = 0;
  v8[1] = 0xE000000000000000;
  *(a1 + v6[13]) = v2;
}

void sub_1AFA5C210(uint64_t a1@<X8>)
{
  *a1 = 0;
  *(a1 + 32) = 0;
  v2 = type metadata accessor for EmitterScript(0);
  v3 = *(v2 + 32);
  v4 = type metadata accessor for ScriptIndex();
  (*(*(v4 - 8) + 56))(a1 + v3, 1, 1, v4);
  v5 = (a1 + *(v2 + 36));
  *v5 = 0;
  v5[1] = 0;
  *(a1 + 16) = 0x80000001AFF2B740;
  *(a1 + 24) = &unk_1F24FDBB0;
  *(a1 + 8) = 0xD0000000000000C0;
  sub_1AF5B25A4(0);
  v7 = a1 + v6[9];
  *v7 = 0;
  *(v7 + 8) = 1;
  *(a1 + v6[10]) = 0;
  *(a1 + v6[11]) = 0;
  v8 = (a1 + v6[12]);
  *v8 = 0;
  v8[1] = 0xE000000000000000;
  *(a1 + v6[13]) = MEMORY[0x1E69E7CC0];
}

unint64_t sub_1AFA5C310(uint64_t a1, uint64_t a2)
{
  if (a2 > 1)
  {
    if (a2 != 2)
    {
      if (a2 == 3)
      {
        return 0xD000000000000015;
      }

      goto LABEL_8;
    }

    return 0xD000000000000027;
  }

  else
  {
    if (a2)
    {
      if (a2 == 1)
      {
        return 0xD000000000000018;
      }

LABEL_8:
      sub_1AFDFE218();

      MEMORY[0x1B2718AE0](a1, a2);
      return 0xD000000000000018;
    }

    return 0xD00000000000002DLL;
  }
}

uint64_t sub_1AFA5C43C()
{
  v1 = *v0;
  sub_1AFDFF288();
  MEMORY[0x1B271ACB0](v1);
  sub_1AFDFF2C8();
  sub_1AFDFF2C8();
  return sub_1AFDFF2F8();
}

uint64_t sub_1AFA5C4A8()
{
  MEMORY[0x1B271ACB0](*v0);
  sub_1AFDFF2C8();
  return sub_1AFDFF2C8();
}

uint64_t sub_1AFA5C4F0()
{
  v1 = *v0;
  sub_1AFDFF288();
  MEMORY[0x1B271ACB0](v1);
  sub_1AFDFF2C8();
  sub_1AFDFF2C8();
  return sub_1AFDFF2F8();
}

BOOL sub_1AFA5C558(uint64_t a1, uint64_t a2)
{
  if (*a1 != *a2)
  {
    return 0;
  }

  return *(a1 + 8) == *(a2 + 8) && *(a1 + 12) == *(a2 + 12);
}

uint64_t sub_1AFA5C588()
{
  v1 = v0;
  v2 = sub_1AFDFCAC8();
  MEMORY[0x1EEE9AC00](v2 - 8, v3);
  v4 = sub_1AFDFDAF8();
  v5 = *(v4 - 8);
  MEMORY[0x1EEE9AC00](v4, v6);
  v8 = &v17[-((v7 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  v9 = sub_1AFDFDAC8();
  MEMORY[0x1EEE9AC00](v9 - 8, v10);
  sub_1AF615168();
  *(v0 + 16) = 0;
  *(v0 + 24) = 0;
  sub_1AFDFDAB8();
  (*(v5 + 104))(v8, *MEMORY[0x1E69E8098], v4);
  sub_1AFDFCAA8();
  *(v0 + 32) = sub_1AFDFDB28();
  *(v0 + 40) = [objc_allocWithZone(MEMORY[0x1E696ADC8]) init];
  v11 = swift_slowAlloc();
  *v11 = 0;
  *(v0 + 48) = "CompilationResult";
  *(v0 + 56) = 17;
  *(v0 + 64) = 2;
  *(v0 + 72) = v11;
  v12 = MEMORY[0x1E69E7CC0];
  *(v1 + 80) = sub_1AF43E270(MEMORY[0x1E69E7CC0]);
  *(v1 + 88) = sub_1AF43E3B4(v12);
  sub_1AFA5EDF4(v17);
  memcpy((v1 + 96), v17, 0x148uLL);
  sub_1AFA5F378(v18);
  memcpy((v1 + 424), v18, 0x148uLL);
  sub_1AFA5F8FC(v19);
  memcpy((v1 + 752), v19, 0x148uLL);
  sub_1AFA5FE80(v20);
  memcpy((v1 + 1080), v20, 0x148uLL);
  sub_1AFA60404(v21);
  memcpy((v1 + 1408), v21, 0x148uLL);
  sub_1AFA60988(v22);
  memcpy((v1 + 1736), v22, 0x148uLL);
  sub_1AFA60F0C(v23);
  memcpy((v1 + 2064), v23, 0x148uLL);
  sub_1AFA61490(v24);
  memcpy((v1 + 2392), v24, 0x148uLL);
  sub_1AFA61A14(v25);
  memcpy((v1 + 2720), v25, 0x148uLL);
  v13 = [objc_opt_self() standardUserDefaults];
  v14 = sub_1AFDFCEC8();
  LOBYTE(v8) = [v13 BOOLForKey_];

  *(v1 + 3048) = v8 ^ 1;
  [*(v1 + 40) setUnderlyingQueue_];
  [*(v1 + 40) setMaxConcurrentOperationCount_];
  return v1;
}

uint64_t sub_1AFA5C924()
{
  MEMORY[0x1B271DEA0](*(v0 + 72), -1, -1);

  memcpy(__dst, (v0 + 96), sizeof(__dst));
  sub_1AFA9A458(__dst, &unk_1EB633F28, type metadata accessor for EmitterScript);
  memcpy(v3, (v0 + 424), sizeof(v3));
  sub_1AFA9A458(v3, &unk_1EB633F60, type metadata accessor for GraphScript);
  memcpy(v4, (v0 + 752), sizeof(v4));
  sub_1AFA9A458(v4, &unk_1EB633F38, type metadata accessor for SimpleScript);
  memcpy(v5, (v0 + 1080), sizeof(v5));
  sub_1AFA9A458(v5, &qword_1EB633F80, type metadata accessor for MetalFunctionScript);
  memcpy(v6, (v0 + 1408), sizeof(v6));
  sub_1AFA9A458(v6, &qword_1EB633F48, type metadata accessor for ShaderScript);
  memcpy(v7, (v0 + 1736), sizeof(v7));
  sub_1AFA9A458(v7, &unk_1EB633F50, type metadata accessor for HeaderScript);
  memcpy(v8, (v0 + 2064), sizeof(v8));
  sub_1AFA9A458(v8, qword_1EB633F88, type metadata accessor for ParticleInitScript);
  memcpy(v9, (v0 + 2392), sizeof(v9));
  sub_1AFA9A458(v9, &unk_1EB633F70, type metadata accessor for ParticleUpdateScript);
  memcpy(v10, (v0 + 2720), sizeof(v10));
  sub_1AFA9A458(v10, &unk_1EB633F18, type metadata accessor for TriggerScript);
  return v0;
}

uint64_t sub_1AFA5CBE0()
{
  sub_1AFA5C924();

  return swift_deallocClassInstance();
}

uint64_t sub_1AFA5CC38()
{
}

uint64_t sub_1AFA5CCA4(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 8);
  *a1 = *a2;
  *(a1 + 8) = v3;
  *(a1 + 16) = *(a2 + 16);
  *(a1 + 20) = *(a2 + 20);
  *(a1 + 24) = *(a2 + 24);
  *(a1 + 32) = *(a2 + 32);
  v4 = *(a2 + 48);
  *(a1 + 40) = *(a2 + 40);
  *(a1 + 48) = v4;
  v5 = *(a2 + 56);
  *(a1 + 60) = *(a2 + 60);
  *(a1 + 56) = v5;
  *(a1 + 64) = *(a2 + 64);
  *(a1 + 72) = *(a2 + 72);
  v6 = *(a2 + 88);
  *(a1 + 80) = *(a2 + 80);
  *(a1 + 88) = v6;
  *(a1 + 96) = *(a2 + 96);
  *(a1 + 100) = *(a2 + 100);
  *(a1 + 104) = *(a2 + 104);
  *(a1 + 112) = *(a2 + 112);
  v7 = *(a2 + 128);
  *(a1 + 120) = *(a2 + 120);
  *(a1 + 128) = v7;
  *(a1 + 140) = *(a2 + 140);
  *(a1 + 136) = *(a2 + 136);
  *(a1 + 144) = *(a2 + 144);
  *(a1 + 152) = *(a2 + 152);
  v8 = *(a2 + 168);
  *(a1 + 160) = *(a2 + 160);
  *(a1 + 168) = v8;
  *(a1 + 180) = *(a2 + 180);
  *(a1 + 176) = *(a2 + 176);
  *(a1 + 184) = *(a2 + 184);
  *(a1 + 192) = *(a2 + 192);
  v9 = *(a2 + 208);
  *(a1 + 200) = *(a2 + 200);
  *(a1 + 208) = v9;
  v10 = *(a2 + 216);
  *(a1 + 220) = *(a2 + 220);
  *(a1 + 216) = v10;
  *(a1 + 224) = *(a2 + 224);
  *(a1 + 232) = *(a2 + 232);
  v11 = *(a2 + 248);
  *(a1 + 240) = *(a2 + 240);
  *(a1 + 248) = v11;
  v12 = *(a2 + 256);
  *(a1 + 260) = *(a2 + 260);
  *(a1 + 256) = v12;
  *(a1 + 264) = *(a2 + 264);
  *(a1 + 272) = *(a2 + 272);
  v13 = *(a2 + 288);
  *(a1 + 280) = *(a2 + 280);
  *(a1 + 288) = v13;
  v14 = *(a2 + 296);
  *(a1 + 300) = *(a2 + 300);
  *(a1 + 296) = v14;
  *(a1 + 304) = *(a2 + 304);
  *(a1 + 312) = *(a2 + 312);
  *(a1 + 320) = *(a2 + 320);

  return a1;
}

uint64_t sub_1AFA5CE64(uint64_t a1, uint64_t a2)
{
  *a1 = *a2;
  *(a1 + 8) = *(a2 + 8);

  v4 = *(a2 + 16);
  *(a1 + 20) = *(a2 + 20);
  *(a1 + 16) = v4;
  *(a1 + 24) = *(a2 + 24);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = *(a2 + 40);
  *(a1 + 48) = *(a2 + 48);

  v5 = *(a2 + 56);
  *(a1 + 60) = *(a2 + 60);
  *(a1 + 56) = v5;
  *(a1 + 64) = *(a2 + 64);
  *(a1 + 72) = *(a2 + 72);
  *(a1 + 80) = *(a2 + 80);
  *(a1 + 88) = *(a2 + 88);

  v6 = *(a2 + 96);
  *(a1 + 100) = *(a2 + 100);
  *(a1 + 96) = v6;
  *(a1 + 104) = *(a2 + 104);
  *(a1 + 112) = *(a2 + 112);
  *(a1 + 120) = *(a2 + 120);
  *(a1 + 128) = *(a2 + 128);

  v7 = *(a2 + 136);
  *(a1 + 140) = *(a2 + 140);
  *(a1 + 136) = v7;
  *(a1 + 144) = *(a2 + 144);
  *(a1 + 152) = *(a2 + 152);
  *(a1 + 160) = *(a2 + 160);
  *(a1 + 168) = *(a2 + 168);

  v8 = *(a2 + 176);
  *(a1 + 180) = *(a2 + 180);
  *(a1 + 176) = v8;
  *(a1 + 184) = *(a2 + 184);
  *(a1 + 192) = *(a2 + 192);
  *(a1 + 200) = *(a2 + 200);
  *(a1 + 208) = *(a2 + 208);

  v9 = *(a2 + 216);
  *(a1 + 220) = *(a2 + 220);
  *(a1 + 216) = v9;
  *(a1 + 224) = *(a2 + 224);
  *(a1 + 232) = *(a2 + 232);
  *(a1 + 240) = *(a2 + 240);
  *(a1 + 248) = *(a2 + 248);

  v10 = *(a2 + 256);
  *(a1 + 260) = *(a2 + 260);
  *(a1 + 256) = v10;
  *(a1 + 264) = *(a2 + 264);
  *(a1 + 272) = *(a2 + 272);
  *(a1 + 280) = *(a2 + 280);
  *(a1 + 288) = *(a2 + 288);

  v11 = *(a2 + 296);
  *(a1 + 300) = *(a2 + 300);
  *(a1 + 296) = v11;
  *(a1 + 304) = *(a2 + 304);
  *(a1 + 312) = *(a2 + 312);
  *(a1 + 320) = *(a2 + 320);
  return a1;
}

uint64_t sub_1AFA5D0A4(uint64_t a1, uint64_t a2)
{
  *a1 = *a2;

  *(a1 + 16) = *(a2 + 16);
  *(a1 + 20) = *(a2 + 20);
  *(a1 + 24) = *(a2 + 24);
  *(a1 + 32) = *(a2 + 32);
  v4 = *(a2 + 48);
  *(a1 + 40) = *(a2 + 40);
  *(a1 + 48) = v4;

  *(a1 + 56) = *(a2 + 56);
  *(a1 + 60) = *(a2 + 60);
  *(a1 + 64) = *(a2 + 64);
  *(a1 + 72) = *(a2 + 72);
  v5 = *(a2 + 88);
  *(a1 + 80) = *(a2 + 80);
  *(a1 + 88) = v5;

  *(a1 + 96) = *(a2 + 96);
  *(a1 + 100) = *(a2 + 100);
  *(a1 + 104) = *(a2 + 104);
  *(a1 + 112) = *(a2 + 112);
  v6 = *(a2 + 128);
  *(a1 + 120) = *(a2 + 120);
  *(a1 + 128) = v6;

  *(a1 + 136) = *(a2 + 136);
  *(a1 + 140) = *(a2 + 140);
  *(a1 + 144) = *(a2 + 144);
  *(a1 + 152) = *(a2 + 152);
  v7 = *(a2 + 168);
  *(a1 + 160) = *(a2 + 160);
  *(a1 + 168) = v7;

  *(a1 + 176) = *(a2 + 176);
  *(a1 + 180) = *(a2 + 180);
  *(a1 + 184) = *(a2 + 184);
  *(a1 + 192) = *(a2 + 192);
  v8 = *(a2 + 208);
  *(a1 + 200) = *(a2 + 200);
  *(a1 + 208) = v8;

  *(a1 + 216) = *(a2 + 216);
  *(a1 + 220) = *(a2 + 220);
  *(a1 + 224) = *(a2 + 224);
  *(a1 + 232) = *(a2 + 232);
  v9 = *(a2 + 248);
  *(a1 + 240) = *(a2 + 240);
  *(a1 + 248) = v9;

  *(a1 + 256) = *(a2 + 256);
  *(a1 + 260) = *(a2 + 260);
  *(a1 + 264) = *(a2 + 264);
  *(a1 + 272) = *(a2 + 272);
  v10 = *(a2 + 288);
  *(a1 + 280) = *(a2 + 280);
  *(a1 + 288) = v10;

  *(a1 + 296) = *(a2 + 296);
  *(a1 + 300) = *(a2 + 300);
  *(a1 + 304) = *(a2 + 304);
  *(a1 + 312) = *(a2 + 312);
  *(a1 + 320) = *(a2 + 320);
  return a1;
}

uint64_t sub_1AFA5D254(uint64_t *a1, int a2)
{
  if (!a2)
  {
    return 0;
  }

  if (a2 < 0 && *(a1 + 328))
  {
    return *a1 + 0x80000000;
  }

  v2 = *a1;
  if (*a1 >= 0xFFFFFFFF)
  {
    LODWORD(v2) = -1;
  }

  return (v2 + 1);
}

uint64_t sub_1AFA5D29C(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(result + 248) = 0u;
    *(result + 232) = 0u;
    *(result + 216) = 0u;
    *(result + 200) = 0u;
    *(result + 184) = 0u;
    *(result + 168) = 0u;
    *(result + 152) = 0u;
    *(result + 136) = 0u;
    *(result + 120) = 0u;
    *(result + 104) = 0u;
    *(result + 88) = 0u;
    *(result + 72) = 0u;
    *(result + 56) = 0u;
    *(result + 40) = 0u;
    *(result + 24) = 0u;
    *(result + 8) = 0u;
    *(result + 296) = 0u;
    *(result + 280) = 0u;
    *(result + 264) = 0u;
    *(result + 312) = 0u;
    *result = a2 & 0x7FFFFFFF;
    if (a3 < 0)
    {
      *(result + 328) = 1;
    }
  }

  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2)
      {
        return result;
      }

LABEL_8:
      *result = (a2 - 1);
      return result;
    }

    *(result + 328) = 0;
    if (a2)
    {
      goto LABEL_8;
    }
  }

  return result;
}

uint64_t _s18CachedBuildResultsV6ResultOwcp(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 40);
  if (v3 >= 2)
  {
    v3 = *a2 + 2;
  }

  v4 = v3 == 1;
  v5 = *(a2 + 24);
  *(a1 + 24) = v5;
  (**(v5 - 8))(a1);
  *(a1 + 40) = v4;
  return a1;
}

uint64_t _s18CachedBuildResultsV6ResultOwca(uint64_t a1, uint64_t a2)
{
  if (a1 != a2)
  {
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(a1);
    v4 = *(a2 + 40);
    if (v4 >= 2)
    {
      v4 = *a2 + 2;
    }

    v5 = v4 == 1;
    v6 = *(a2 + 24);
    *(a1 + 24) = v6;
    *(a1 + 32) = *(a2 + 32);
    (**(v6 - 8))(a1, a2);
    *(a1 + 40) = v5;
  }

  return a1;
}

uint64_t _s18CachedBuildResultsV6ResultOwta(uint64_t result, uint64_t a2)
{
  if (result != a2)
  {
    v3 = result;
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(result);
    v4 = *(a2 + 40);
    if (v4 >= 2)
    {
      v4 = *a2 + 2;
    }

    v5 = *(a2 + 16);
    result = v3;
    *v3 = *a2;
    *(v3 + 16) = v5;
    *(v3 + 32) = *(a2 + 32);
    *(v3 + 40) = v4 == 1;
  }

  return result;
}

uint64_t _s18CachedBuildResultsV6ResultOwet(uint64_t a1, unsigned int a2)
{
  if (!a2)
  {
    return 0;
  }

  if (a2 >= 0xFF && *(a1 + 41))
  {
    return (*a1 + 255);
  }

  v3 = *(a1 + 40);
  if (v3 >= 2)
  {
    return (v3 ^ 0xFF) + 1;
  }

  else
  {
    return 0;
  }
}

uint64_t _s18CachedBuildResultsV6ResultOwst(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0xFE)
  {
    *(result + 25) = 0u;
    *result = 0u;
    *(result + 16) = 0u;
    *result = a2 - 255;
    if (a3 >= 0xFF)
    {
      *(result + 41) = 1;
    }
  }

  else
  {
    if (a3 >= 0xFF)
    {
      *(result + 41) = 0;
    }

    if (a2)
    {
      *(result + 40) = -a2;
    }
  }

  return result;
}

uint64_t sub_1AFA5D564(uint64_t a1)
{
  result = *(a1 + 40);
  if (result >= 2)
  {
    return (*a1 + 2);
  }

  return result;
}

uint64_t sub_1AFA5D580(uint64_t result, unsigned int a2)
{
  if (a2 > 1)
  {
    *(result + 32) = 0;
    *result = 0u;
    *(result + 16) = 0u;
    *result = a2 - 2;
    LOBYTE(a2) = 2;
  }

  *(result + 40) = a2;
  return result;
}

void destroy for CompilationStatus(uint64_t a1)
{
  v1 = *(a1 + 88);
  if (v1 >= 3)
  {
    v1 = *a1 + 3;
  }

  if (v1)
  {
    if (v1 == 2)
    {
      _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(a1);
      v3 = *(a1 + 32);
    }

    else
    {
      _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(a1);

      _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(a1 + 56);
    }
  }
}

uint64_t initializeWithCopy for CompilationStatus(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 88);
  if (v3 >= 3)
  {
    v3 = *a2 + 3;
  }

  if (v3 == 2)
  {
    v10 = *(a2 + 24);
    *(a1 + 24) = v10;
    (**(v10 - 8))(a1);
    v12 = *(a2 + 32);
    v13 = v12;
    *(a1 + 32) = v12;
    v9 = 2;
  }

  else if (v3 == 1)
  {
    v4 = *(a2 + 24);
    *(a1 + 24) = v4;
    (**(v4 - 8))(a1);
    v6 = *(a2 + 40);
    *(a1 + 32) = *(a2 + 32);
    *(a1 + 40) = v6;
    *(a1 + 48) = *(a2 + 48);
    v7 = *(a2 + 80);
    *(a1 + 80) = v7;
    v8 = **(v7 - 8);

    v8(a1 + 56, a2 + 56, v7);
    v9 = 1;
  }

  else
  {
    v9 = 0;
    *a1 = *a2;
  }

  *(a1 + 88) = v9;
  return a1;
}

uint64_t assignWithCopy for CompilationStatus(uint64_t a1, uint64_t a2)
{
  if (a1 != a2)
  {
    v4 = *(a1 + 88);
    if (v4 >= 3)
    {
      v4 = *a1 + 3;
    }

    if (v4)
    {
      if (v4 == 2)
      {
        _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(a1);
      }

      else
      {
        _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(a1);

        _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(a1 + 56);
      }
    }

    v5 = *(a2 + 88);
    if (v5 >= 3)
    {
      v5 = *a2 + 3;
    }

    if (v5 == 2)
    {
      v10 = *(a2 + 24);
      *(a1 + 24) = v10;
      (**(v10 - 8))(a1, a2);
      v11 = *(a2 + 32);
      v12 = v11;
      *(a1 + 32) = v11;
      v9 = 2;
    }

    else if (v5 == 1)
    {
      v6 = *(a2 + 24);
      *(a1 + 24) = v6;
      (**(v6 - 8))(a1, a2);
      *(a1 + 32) = *(a2 + 32);
      *(a1 + 40) = *(a2 + 40);
      *(a1 + 48) = *(a2 + 48);
      v7 = *(a2 + 80);
      *(a1 + 80) = v7;
      v8 = **(v7 - 8);

      v8(a1 + 56, a2 + 56, v7);
      v9 = 1;
    }

    else
    {
      v9 = 0;
      *a1 = *a2;
    }

    *(a1 + 88) = v9;
  }

  return a1;
}

__n128 initializeWithTake for CompilationStatus(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 16);
  *a1 = *a2;
  *(a1 + 16) = v2;
  result = *(a2 + 32);
  v4 = *(a2 + 48);
  v5 = *(a2 + 64);
  *(a1 + 73) = *(a2 + 73);
  *(a1 + 48) = v4;
  *(a1 + 64) = v5;
  *(a1 + 32) = result;
  return result;
}

uint64_t assignWithTake for CompilationStatus(uint64_t result, uint64_t a2)
{
  if (result != a2)
  {
    v3 = *(result + 88);
    if (v3 >= 3)
    {
      v3 = *result + 3;
    }

    if (v3)
    {
      v4 = result;
      if (v3 == 2)
      {
        _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(result);
      }

      else
      {
        _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(result);

        _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v4 + 56);
      }

      result = v4;
    }

    v5 = *(a2 + 88);
    if (v5 >= 3)
    {
      v5 = *a2 + 3;
    }

    if (v5 == 2)
    {
      v9 = *(a2 + 16);
      *result = *a2;
      *(result + 16) = v9;
      *(result + 32) = *(a2 + 32);
      v8 = 2;
    }

    else if (v5 == 1)
    {
      v6 = *(a2 + 48);
      *(result + 32) = *(a2 + 32);
      *(result + 48) = v6;
      *(result + 64) = *(a2 + 64);
      *(result + 80) = *(a2 + 80);
      v7 = *(a2 + 16);
      v8 = 1;
      *result = *a2;
      *(result + 16) = v7;
    }

    else
    {
      v8 = 0;
      *result = *a2;
    }

    *(result + 88) = v8;
  }

  return result;
}

uint64_t getEnumTagSinglePayload for CompilationStatus(uint64_t a1, unsigned int a2)
{
  if (!a2)
  {
    return 0;
  }

  if (a2 >= 0xFE && *(a1 + 89))
  {
    return (*a1 + 254);
  }

  v3 = *(a1 + 88);
  if (v3 >= 3)
  {
    return (v3 ^ 0xFF) + 1;
  }

  else
  {
    return 0;
  }
}

uint64_t storeEnumTagSinglePayload for CompilationStatus(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0xFD)
  {
    *(result + 73) = 0u;
    *(result + 48) = 0u;
    *(result + 64) = 0u;
    *(result + 16) = 0u;
    *(result + 32) = 0u;
    *result = 0u;
    *result = a2 - 254;
    if (a3 >= 0xFE)
    {
      *(result + 89) = 1;
    }
  }

  else
  {
    if (a3 >= 0xFE)
    {
      *(result + 89) = 0;
    }

    if (a2)
    {
      *(result + 88) = -a2;
    }
  }

  return result;
}

uint64_t sub_1AFA5DB3C(uint64_t a1)
{
  result = *(a1 + 88);
  if (result >= 3)
  {
    return (*a1 + 3);
  }

  return result;
}

uint64_t sub_1AFA5DB58(uint64_t result, unsigned int a2)
{
  if (a2 > 2)
  {
    v2 = a2 - 3;
    *(result + 80) = 0;
    *(result + 48) = 0u;
    *(result + 64) = 0u;
    *(result + 16) = 0u;
    *(result + 32) = 0u;
    *result = 0u;
    LOBYTE(a2) = 3;
    *result = v2;
  }

  *(result + 88) = a2;
  return result;
}

char *sub_1AFA5DBA8(uint64_t a1, uint64_t *a2, int *a3)
{
  v4 = a1;
  v5 = *(*(a3 - 1) + 80);
  if ((v5 & 0x20000) != 0)
  {
    v11 = *a2;
    *v4 = *a2;
    v4 = (v11 + ((v5 + 16) & ~v5));
  }

  else
  {
    *a1 = *a2;
    *(a1 + 1) = *(a2 + 1);
    v7 = a3[7];
    v8 = sub_1AFDFC128();
    v9 = *(v8 - 8);
    if ((*(v9 + 48))(a2 + v7, 1, v8))
    {
      sub_1AF0D0FCC(0, &qword_1ED7315E0, MEMORY[0x1E6968FB0], MEMORY[0x1E69E6720]);
      memcpy(&v4[v7], a2 + v7, *(*(v10 - 8) + 64));
    }

    else
    {
      (*(v9 + 16))(&v4[v7], a2 + v7, v8);
      (*(v9 + 56))(&v4[v7], 0, 1, v8);
    }

    v12 = a3[9];
    *&v4[a3[8]] = *(a2 + a3[8]);
    *&v4[v12] = *(a2 + v12);
  }

  return v4;
}

uint64_t sub_1AFA5DD50(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 28);
  v4 = sub_1AFDFC128();
  v5 = *(v4 - 8);
  if (!(*(v5 + 48))(a1 + v3, 1, v4))
  {
    (*(v5 + 8))(a1 + v3, v4);
  }
}

uint64_t sub_1AFA5DE28(uint64_t a1, uint64_t a2, int *a3)
{
  *a1 = *a2;
  *(a1 + 1) = *(a2 + 1);
  v6 = a3[7];
  v7 = sub_1AFDFC128();
  v8 = *(v7 - 8);
  if ((*(v8 + 48))(a2 + v6, 1, v7))
  {
    sub_1AF0D0FCC(0, &qword_1ED7315E0, MEMORY[0x1E6968FB0], MEMORY[0x1E69E6720]);
    memcpy((a1 + v6), (a2 + v6), *(*(v9 - 8) + 64));
  }

  else
  {
    (*(v8 + 16))(a1 + v6, a2 + v6, v7);
    (*(v8 + 56))(a1 + v6, 0, 1, v7);
  }

  v10 = a3[9];
  *(a1 + a3[8]) = *(a2 + a3[8]);
  *(a1 + v10) = *(a2 + v10);

  return a1;
}

_BYTE *sub_1AFA5DF84(_BYTE *a1, _BYTE *a2, int *a3)
{
  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  v6 = a3[7];
  v7 = sub_1AFDFC128();
  v8 = *(v7 - 8);
  v9 = *(v8 + 48);
  v10 = v9(&a1[v6], 1, v7);
  v11 = v9(&a2[v6], 1, v7);
  if (!v10)
  {
    if (!v11)
    {
      (*(v8 + 24))(&a1[v6], &a2[v6], v7);
      goto LABEL_7;
    }

    (*(v8 + 8))(&a1[v6], v7);
    goto LABEL_6;
  }

  if (v11)
  {
LABEL_6:
    sub_1AF0D0FCC(0, &qword_1ED7315E0, MEMORY[0x1E6968FB0], MEMORY[0x1E69E6720]);
    memcpy(&a1[v6], &a2[v6], *(*(v12 - 8) + 64));
    goto LABEL_7;
  }

  (*(v8 + 16))(&a1[v6], &a2[v6], v7);
  (*(v8 + 56))(&a1[v6], 0, 1, v7);
LABEL_7:
  *&a1[a3[8]] = *&a2[a3[8]];

  *&a1[a3[9]] = *&a2[a3[9]];
  return a1;
}

uint64_t sub_1AFA5E164(uint64_t a1, uint64_t a2, int *a3)
{
  *a1 = *a2;
  *(a1 + 1) = *(a2 + 1);
  v6 = a3[7];
  v7 = sub_1AFDFC128();
  v8 = *(v7 - 8);
  if ((*(v8 + 48))(a2 + v6, 1, v7))
  {
    sub_1AF0D0FCC(0, &qword_1ED7315E0, MEMORY[0x1E6968FB0], MEMORY[0x1E69E6720]);
    memcpy((a1 + v6), (a2 + v6), *(*(v9 - 8) + 64));
  }

  else
  {
    (*(v8 + 32))(a1 + v6, a2 + v6, v7);
    (*(v8 + 56))(a1 + v6, 0, 1, v7);
  }

  v10 = a3[9];
  *(a1 + a3[8]) = *(a2 + a3[8]);
  *(a1 + v10) = *(a2 + v10);
  return a1;
}

_BYTE *sub_1AFA5E2BC(_BYTE *a1, _BYTE *a2, int *a3)
{
  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  v6 = a3[7];
  v7 = sub_1AFDFC128();
  v8 = *(v7 - 8);
  v9 = *(v8 + 48);
  v10 = v9(&a1[v6], 1, v7);
  v11 = v9(&a2[v6], 1, v7);
  if (!v10)
  {
    if (!v11)
    {
      (*(v8 + 40))(&a1[v6], &a2[v6], v7);
      goto LABEL_7;
    }

    (*(v8 + 8))(&a1[v6], v7);
    goto LABEL_6;
  }

  if (v11)
  {
LABEL_6:
    sub_1AF0D0FCC(0, &qword_1ED7315E0, MEMORY[0x1E6968FB0], MEMORY[0x1E69E6720]);
    memcpy(&a1[v6], &a2[v6], *(*(v12 - 8) + 64));
    goto LABEL_7;
  }

  (*(v8 + 32))(&a1[v6], &a2[v6], v7);
  (*(v8 + 56))(&a1[v6], 0, 1, v7);
LABEL_7:
  *&a1[a3[8]] = *&a2[a3[8]];

  *&a1[a3[9]] = *&a2[a3[9]];
  return a1;
}

void sub_1AFA5E4BC(uint64_t a1, uint64_t a2)
{
  MEMORY[0x1EEE9AC00](a1, a2);
  v3 = v2;
  v5 = v4;
  v7 = v6;
  v8 = type metadata accessor for ScriptingConfiguration();
  MEMORY[0x1EEE9AC00](v8, v9);
  v11 = &v28[-1] - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1AFA9E3C8(v7 + OBJC_IVAR____TtC3VFX13EntityManager_scriptingConfig, v11, type metadata accessor for ScriptingConfiguration);
  if (v11[2] != 1)
  {
    goto LABEL_27;
  }

  if (!swift_unknownObjectRetain())
  {
    v3[3] = CFXMTLCreateSystemDefaultDevice();
  }

  swift_unknownObjectRelease();
  if (!swift_unknownObjectRetain())
  {
    if (qword_1ED730EA0 != -1)
    {
      swift_once();
    }

    v19 = sub_1AFDFDA08();
    if (qword_1ED731058 != -1)
    {
      v24 = v19;
      swift_once();
      v19 = v24;
    }

    *v49 = 0;
    sub_1AF0D4F18(v19, v49, 0xD000000000000029, 0x80000001AFF453A0);
    goto LABEL_27;
  }

  swift_unknownObjectRelease();
  sub_1AF7D5A90(v7, 1, 0);
  v12 = *&v11[*(v8 + 32)];
  v3[2] = v7;
  v13 = swift_allocObject();
  *(v13 + 16) = 0;
  v14 = dispatch_group_create();

  dispatch_group_enter(v14);
  memcpy(v49, v3 + 12, sizeof(v49));
  sub_1AFA70744(v3, v12, v14, 1, v5, 0, v49, v13, v3);
  memcpy(v48, v3 + 53, sizeof(v48));
  sub_1AFA74E78(v3, v12, v14, 1, v5, 0, v48, v13, v3);
  memcpy(v47, v3 + 94, sizeof(v47));
  sub_1AFA7959C(v3, v12, v14, 1, v5, 0, v47, v13, v3);
  memcpy(v46, v3 + 135, sizeof(v46));
  sub_1AFA7E50C(v3, v12, v14, 1, v5, 0, v46, v13, v3);
  memcpy(v45, v3 + 176, sizeof(v45));
  sub_1AFA833C4(v3, v12, v14, 1, v5, 0, v45, v13, v3);
  memcpy(v44, v3 + 258, sizeof(v44));
  sub_1AFA87AFC(v3, v12, v14, 1, v5, 0, v44, v13, v3);
  memcpy(v43, v3 + 299, sizeof(v43));
  sub_1AFA8C234(v3, v12, v14, 1, v5, 0, v43, v13, v3);
  memcpy(v42, v3 + 340, sizeof(v42));
  sub_1AFA90A30(v3, v12, v14, 1, v5, 0, v42, v13, v3);
  memcpy(v41, v3 + 217, sizeof(v41));
  sub_1AFA967B8(v3, v12, v14, 1, v5, 0, v41, v13, v3);
  dispatch_group_leave(v14);
  sub_1AFDFDAA8();
  dispatch_group_enter(v14);
  memcpy(v40, v3 + 12, sizeof(v40));
  sub_1AFA70744(v3, v12, v14, 1, v5, 0, v40, v13, v3);
  memcpy(v39, v3 + 53, sizeof(v39));
  sub_1AFA74E78(v3, v12, v14, 1, v5, 0, v39, v13, v3);
  memcpy(v38, v3 + 94, sizeof(v38));
  sub_1AFA7959C(v3, v12, v14, 1, v5, 0, v38, v13, v3);
  memcpy(v37, v3 + 135, sizeof(v37));
  sub_1AFA7E50C(v3, v12, v14, 1, v5, 0, v37, v13, v3);
  memcpy(v36, v3 + 176, sizeof(v36));
  sub_1AFA833C4(v3, v12, v14, 1, v5, 0, v36, v13, v3);
  memcpy(v35, v3 + 258, sizeof(v35));
  sub_1AFA87AFC(v3, v12, v14, 1, v5, 0, v35, v13, v3);
  memcpy(v34, v3 + 299, sizeof(v34));
  sub_1AFA8C234(v3, v12, v14, 1, v5, 0, v34, v13, v3);
  memcpy(v33, v3 + 340, sizeof(v33));
  sub_1AFA90A30(v3, v12, v14, 1, v5, 0, v33, v13, v3);
  memcpy(v32, v3 + 217, sizeof(v32));
  sub_1AFA967B8(v3, v12, v14, 1, v5, 0, v32, v13, v3);
  dispatch_group_leave(v14);
  v15 = *(v13 + 16);
  if (!v15)
  {

LABEL_27:
    sub_1AFA9E8FC(v11, type metadata accessor for ScriptingConfiguration);
    return;
  }

  swift_willThrow();
  v16 = v15;

  v31 = v15;
  v17 = v15;
  sub_1AF5C5358(0, &qword_1ED7268D0);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_22:

    if (qword_1ED730EA0 != -1)
    {
      swift_once();
    }

    v29 = 0;
    v30 = 0xE000000000000000;
    sub_1AFDFE218();

    v29 = 0xD00000000000001FLL;
    v30 = 0x80000001AFF453D0;
    swift_getErrorValue();
    v20 = sub_1AFDFF1D8();
    MEMORY[0x1B2718AE0](v20);

    v22 = v29;
    v21 = v30;
    v23 = sub_1AFDFDA08();
    if (qword_1ED731058 != -1)
    {
      v25 = v23;
      swift_once();
      v23 = v25;
    }

    v29 = 0;
    sub_1AF0D4F18(v23, &v29, v22, v21);

    goto LABEL_27;
  }

  if (v30 != 2)
  {
    sub_1AFA9A444(v29, v30);
    goto LABEL_22;
  }

  if (*v11 == 1)
  {
    if (qword_1ED730EA0 != -1)
    {
      swift_once();
    }

    v18 = sub_1AFDFDA08();
    if (qword_1ED731058 != -1)
    {
      v26 = v18;
      swift_once();
      v18 = v26;
    }

    v28[0] = 0;
    sub_1AF0D4F18(v18, v28, 0xD000000000000032, 0x80000001AFF453F0);
  }

  sub_1AFA9E8FC(v11, type metadata accessor for ScriptingConfiguration);
}

uint64_t sub_1AFA5EDF4@<X0>(uint64_t a1@<X8>)
{
  v2 = type metadata accessor for EmitterScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B25A4(0);
  v4 = v3;
  sub_1AFCC4F20(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B2568(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E82C);
  swift_setDeallocating();
  sub_1AF70473C(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = v2;
  *(v7 + 40) = &off_1F255B668;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FCABC);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF828CF0(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = v2;
  *(v8 + 40) = &off_1F255B668;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E95C);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF828EDC(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = v2;
  *(v9 + 40) = &off_1F255B668;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C6A0(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF704984(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81F8AC);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC4F20(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = v2;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA5F378@<X0>(uint64_t a1@<X8>)
{
  v2 = type metadata accessor for GraphScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B252C(0);
  v4 = v3;
  sub_1AFCC4CE4(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B24F0(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E7B4);
  swift_setDeallocating();
  sub_1AF703884(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = v2;
  *(v7 + 40) = &off_1F255B490;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FCB70);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF828918(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = v2;
  *(v8 + 40) = &off_1F255B490;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E7F0);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF828B04(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = v2;
  *(v9 + 40) = &off_1F255B490;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C7F0(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF70335C(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81FD74);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC4CE4(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = v2;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA5F8FC@<X0>(uint64_t a1@<X8>)
{
  v2 = type metadata accessor for SimpleScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B24B4(0);
  v4 = v3;
  sub_1AFCC4AA8(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B2478(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E73C);
  swift_setDeallocating();
  sub_1AF7044D4(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = v2;
  *(v7 + 40) = &off_1F255B788;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FCB34);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF828540(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = v2;
  *(v8 + 40) = &off_1F255B788;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E778);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF82872C(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = v2;
  *(v9 + 40) = &off_1F255B788;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C79C(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF70471C(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81FC5C);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC4AA8(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = v2;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA5FE80@<X0>(uint64_t a1@<X8>)
{
  v2 = type metadata accessor for MetalFunctionScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B243C(0);
  v4 = v3;
  sub_1AFCC486C(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B2400(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E6C4);
  swift_setDeallocating();
  sub_1AF70426C(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = v2;
  *(v7 + 40) = &off_1F255B5B0;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FCAF8);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF828168(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = v2;
  *(v8 + 40) = &off_1F255B5B0;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E700);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF828354(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = v2;
  *(v9 + 40) = &off_1F255B5B0;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C748(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF7044B4(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81FB10);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC486C(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = v2;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA60404@<X0>(uint64_t a1@<X8>)
{
  v2 = type metadata accessor for ShaderScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B23C4(0);
  v4 = v3;
  sub_1AFCC4630(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B2388(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E610);
  swift_setDeallocating();
  sub_1AF704004(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = v2;
  *(v7 + 40) = &off_1F255B850;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AFA9E64C);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF827D90(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = v2;
  *(v8 + 40) = &off_1F255B850;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E688);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF827F7C(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = v2;
  *(v9 + 40) = &off_1F255B850;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C6F4(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF70424C(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81F9C4);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC4630(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = v2;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA60988@<X0>(uint64_t a1@<X8>)
{
  v2 = type metadata accessor for HeaderScript();
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B21E4(0);
  v4 = v3;
  sub_1AFCC43F4(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B21A8(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E598);
  swift_setDeallocating();
  sub_1AF703D9C(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = v2;
  *(v7 + 40) = &off_1F25421A0;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FC9CC);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF8279B8(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = v2;
  *(v8 + 40) = &off_1F25421A0;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E5D4);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF827BA4(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = v2;
  *(v9 + 40) = &off_1F25421A0;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C550(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF703FE4(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF8BDC30);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC43F4(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = v2;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA60F0C@<X0>(uint64_t a1@<X8>)
{
  inited = type metadata accessor for ParticleInitScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B234C(0);
  v4 = v3;
  sub_1AFCC41B8(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  v5 = swift_initStackObject();
  *(v5 + 16) = xmmword_1AFE431C0;
  sub_1AF5B2310(0);
  *(v5 + 32) = v6;
  *(v5 + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(v5, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E520);
  swift_setDeallocating();
  sub_1AF7033F4(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = inited;
  *(v7 + 40) = &off_1F255B908;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FCA80);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF8275E0(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = inited;
  *(v8 + 40) = &off_1F255B908;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E55C);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF8277CC(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = inited;
  *(v9 + 40) = &off_1F255B908;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C64C(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF703D7C(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81F794);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC41B8(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(v5) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = inited;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = v5;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA61490@<X0>(uint64_t a1@<X8>)
{
  updated = type metadata accessor for ParticleUpdateScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B22D4(0);
  v4 = v3;
  sub_1AFCC3F7C(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B2298(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E4A8);
  swift_setDeallocating();
  sub_1AF70363C(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = updated;
  *(v7 + 40) = &off_1F255BA18;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FCA44);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF827208(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = updated;
  *(v8 + 40) = &off_1F255BA18;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E4E4);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF8273F4(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = updated;
  *(v9 + 40) = &off_1F255BA18;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C5F8(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF703D5C(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81F67C);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC3F7C(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = updated;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA61A14@<X0>(uint64_t a1@<X8>)
{
  v2 = type metadata accessor for TriggerScript(0);
  if (qword_1ED72D720 != -1)
  {
    swift_once();
  }

  v110 = qword_1ED73B840;
  v111 = 0;
  v112 = 2;
  v113 = 0;
  v114 = 2;
  v115 = 0;
  sub_1AF5B225C(0);
  v4 = v3;
  sub_1AFCC3D40(1, 3, v58);
  sub_1AF0D0FCC(0, &qword_1ED7269A0, sub_1AF5C5300, MEMORY[0x1E69E6F90]);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1AFE431C0;
  sub_1AF5B2220(0);
  *(inited + 32) = v6;
  *(inited + 40) = &off_1F2558F10;
  sub_1AF5D1EC0(inited, &v59);
  v56 = v59;
  v54 = v61;
  v55 = v60;
  v53 = v62;
  v52 = v63;
  v51 = v64;
  sub_1AFA9E8FC(v58, sub_1AFA9E430);
  swift_setDeallocating();
  sub_1AF703AF4(1, v65);
  v7 = swift_allocObject();
  *(v7 + 16) = xmmword_1AFE431C0;
  *(v7 + 32) = v2;
  *(v7 + 40) = &off_1F255BB48;
  sub_1AF5D1EC0(v7, &v66);
  v50 = v66;
  v48 = v68;
  v49 = v67;
  v47 = v69;
  v46 = v70;
  v45 = v71;
  sub_1AFA9E8FC(v65, sub_1AF6FCA08);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF826E30(v72);
  v8 = swift_allocObject();
  *(v8 + 16) = xmmword_1AFE431C0;
  *(v8 + 32) = v2;
  *(v8 + 40) = &off_1F255BB48;
  sub_1AF5D1EC0(v8, &v73);
  v39 = v73;
  v40 = v74;
  v41 = v75;
  v42 = v76;
  v43 = v77;
  v44 = v78;
  sub_1AFA9E8FC(v72, sub_1AFA9E46C);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF82701C(v79);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1AFE431C0;
  *(v9 + 32) = v2;
  *(v9 + 40) = &off_1F255BB48;
  sub_1AF5D1EC0(v9, &v80);
  v38 = v80;
  v36 = v82;
  v37 = v81;
  v35 = v83;
  v34 = v84;
  v33 = v85;
  sub_1AFA9C5A4(v79);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AF703D3C(1, v86);
  v10 = swift_allocObject();
  *(v10 + 16) = xmmword_1AFE431C0;
  *(v10 + 32) = v4;
  *(v10 + 40) = &off_1F250F288;
  sub_1AF5D1EC0(v10, &v87);
  v57 = v87;
  v31 = v89;
  v32 = v88;
  v30 = v90;
  v29 = v91;
  v28 = v92;
  sub_1AFA9E8FC(v86, sub_1AF81F514);
  swift_setDeallocating();
  swift_deallocClassInstance();
  sub_1AFCC3D40(1, 3, &v93);
  v24 = v95;
  v25 = v94;
  v26 = v93;
  v27 = v97;
  v11 = v96 | 6;
  sub_1AFCC3A60(1, 2, &v98);
  v12 = v98;
  v13 = v99;
  v14 = v100;
  v15 = v101;
  LOBYTE(inited) = v102;
  v16 = v103;
  result = sub_1AF703280(3, &v104);
  *a1 = v2;
  *(a1 + 8) = v56;
  *(a1 + 16) = v55;
  *(a1 + 20) = v54;
  *(a1 + 24) = v53;
  *(a1 + 32) = v52;
  *(a1 + 40) = v51;
  *(a1 + 48) = v50;
  *(a1 + 56) = v49;
  *(a1 + 60) = v48;
  *(a1 + 64) = v47;
  *(a1 + 72) = v46;
  *(a1 + 80) = v45;
  *(a1 + 88) = v39;
  v18 = v104;
  *(a1 + 96) = v40;
  v19 = v105;
  *(a1 + 100) = v41;
  v20 = v106;
  *(a1 + 104) = v42;
  v21 = v107;
  *(a1 + 112) = v43;
  v22 = v108;
  *(a1 + 120) = v44;
  *(a1 + 128) = v38;
  v23 = v109;
  *(a1 + 136) = v37;
  *(a1 + 140) = v36;
  *(a1 + 144) = v35;
  *(a1 + 152) = v34;
  *(a1 + 160) = v33;
  *(a1 + 168) = v57;
  *(a1 + 176) = v32;
  *(a1 + 180) = v31;
  *(a1 + 184) = v30;
  *(a1 + 192) = v29;
  *(a1 + 200) = v28;
  *(a1 + 208) = v26;
  *(a1 + 216) = v25;
  *(a1 + 220) = v24;
  *(a1 + 224) = v11;
  *(a1 + 232) = 2;
  *(a1 + 240) = v27;
  *(a1 + 248) = v12;
  *(a1 + 256) = v13;
  *(a1 + 260) = v14;
  *(a1 + 264) = v15;
  *(a1 + 272) = inited;
  *(a1 + 280) = v16;
  *(a1 + 288) = v18;
  *(a1 + 296) = v19;
  *(a1 + 300) = v20;
  *(a1 + 304) = v21;
  *(a1 + 312) = v22;
  *(a1 + 320) = v23;
  return result;
}

uint64_t sub_1AFA61F98(uint64_t a1, uint64_t a2)
{
  *(v2 + 16) = a1;
  if (!swift_unknownObjectRetain())
  {
    if (a2)
    {
      v4 = CFXGPUDeviceGetMTLDevice(*(a2 + 16));
    }

    else
    {
      v4 = 0;
    }

    *(v2 + 24) = v4;
  }

  return swift_unknownObjectRelease();
}

void sub_1AFA61FF8(uint64_t a1, uint64_t a2, void (*a3)(void *, uint64_t, uint64_t, char *))
{
  v31 = 0;
  v6 = *(v3 + 24);
  v46[0] = *(v3 + 8);
  v46[1] = v6;
  v47 = *(v3 + 40);

  sub_1AF6B06C0(v7, v46, 0x200000000, &v32);
  v27 = v32;
  if (v32)
  {
    v8 = v35;
    v9 = v36;
    v10 = v38;
    v40 = v33;
    v41 = v34;
    v25 = v39;
    v26 = v37;
    if (v39 < 1)
    {

      sub_1AFA9BF94(&v32, &qword_1ED725EA0, &type metadata for QueryResult);
    }

    else if (v36)
    {
      v11 = *(v38 + 32);
      v12 = *(v37 + OBJC_IVAR____TtC3VFX13EntityManager_lockChunksOnQueryForEach);

      sub_1AFA9C3FC(&v32, v50, &qword_1ED725EA0, &type metadata for QueryResult, MEMORY[0x1E69E6720], sub_1AFA9D6A4);
      v13 = (v8 + 24);
      v23 = a1;
      v24 = a2;
      v22 = v12;
      do
      {
        v15 = *(v13 - 6);
        v14 = *(v13 - 5);
        v16 = *(v13 - 4);
        v17 = *(v13 - 1);
        v18 = v13[2];
        v29 = v13[1];
        v30 = *v13;
        if (v12)
        {
          v19 = *(v18 + 376);

          os_unfair_lock_lock(v19);
          os_unfair_lock_lock(*(v18 + 344));
        }

        else
        {
        }

        ecs_stack_allocator_push_snapshot(v11);
        v20 = *(v10 + 64);
        v48[0] = *(v10 + 48);
        v48[1] = v20;
        v49 = *(v10 + 80);
        v21 = *(*(*(*(v18 + 40) + 16) + 32) + 16) + 1;
        *(v10 + 48) = ecs_stack_allocator_allocate(*(v10 + 32), 48 * v21, 8);
        *(v10 + 56) = v21;
        *(v10 + 72) = 0;
        *(v10 + 80) = 0;
        *(v10 + 64) = 0;
        LOBYTE(v45) = 1;
        v50[0] = v26;
        v50[1] = v18;
        v50[2] = v10;
        v50[3] = v16;
        v50[4] = (v14 - v15 + v16);
        v50[5] = v25;
        v50[6] = v15;
        v50[7] = v14;
        v50[8] = 0;
        v50[9] = 0;
        v51 = 1;
        v52 = v17;
        v53 = v30;
        v54 = v29;

        a3(v50, v24, v23, &v31);

        v42 = v27;
        v43 = v40;
        v44 = v41;
        sub_1AF630994(v10, &v42, v48);
        sub_1AF62D29C(v18);
        ecs_stack_allocator_pop_snapshot(v11);
        v12 = v22;
        if (v22)
        {
          os_unfair_lock_unlock(*(v18 + 344));
          os_unfair_lock_unlock(*(v18 + 376));
        }

        v13 += 6;
        --v9;
      }

      while (v9);

      sub_1AFA9BF94(&v32, &qword_1ED725EA0, &type metadata for QueryResult);
      sub_1AFA9BF94(&v32, &qword_1ED725EA0, &type metadata for QueryResult);
    }

    else
    {

      sub_1AFA9BF94(&v32, &qword_1ED725EA0, &type metadata for QueryResult);
    }
  }

  else
  {
  }
}

uint64_t sub_1AFA62400(uint64_t result)
{
  if (*(result + 56) == 1)
  {
    v2 = result;
    *(v1 + 16) = result;
    v3 = *(result + 184);

    v4 = sub_1AF6D53D4(&type metadata for DiagnosticsTrackerInstance, &off_1F2537498, v3);

    if (v4)
    {
      swift_unknownObjectRelease();
      v11[0] = sub_1AF43EA74(MEMORY[0x1E69E7CC0]);
      sub_1AFA6ED20(v11, sub_1AF828B04, sub_1AFA9C7F0, sub_1AF706B6C, sub_1AF5B252C, type metadata accessor for GraphScript);
      sub_1AFA6ED20(v11, sub_1AF82872C, sub_1AFA9C79C, sub_1AF706AB0, sub_1AF5B24B4, type metadata accessor for SimpleScript);
      sub_1AFA6ED20(v11, sub_1AF828354, sub_1AFA9C748, sub_1AF7069F4, sub_1AF5B243C, type metadata accessor for MetalFunctionScript);
      sub_1AFA6ED20(v11, sub_1AF827F7C, sub_1AFA9C6F4, sub_1AF706938, sub_1AF5B23C4, type metadata accessor for ShaderScript);
      sub_1AFA6ED20(v11, sub_1AF828EDC, sub_1AFA9C6A0, sub_1AF70687C, sub_1AF5B25A4, type metadata accessor for EmitterScript);
      sub_1AFA6ED20(v11, sub_1AF8277CC, sub_1AFA9C64C, sub_1AF7067C0, sub_1AF5B234C, type metadata accessor for ParticleInitScript);
      sub_1AFA6ED20(v11, sub_1AF8273F4, sub_1AFA9C5F8, sub_1AF706704, sub_1AF5B22D4, type metadata accessor for ParticleUpdateScript);
      sub_1AFA6ED20(v11, sub_1AF82701C, sub_1AFA9C5A4, sub_1AF706648, sub_1AF5B225C, type metadata accessor for TriggerScript);
      sub_1AFA6ED20(v11, sub_1AF827BA4, sub_1AFA9C550, sub_1AF70658C, sub_1AF5B21E4, type metadata accessor for HeaderScript);
      v5 = v11[0];
      v6 = *(v2 + 184);

      v7 = sub_1AF6D53D4(&type metadata for DiagnosticsTrackerInstance, &off_1F2537498, v6);
      v9 = v8;

      if (v7)
      {
        ObjectType = swift_getObjectType();
        (*(v9 + 16))(v2, v5, ObjectType, v9);
        swift_unknownObjectRelease();
      }
    }
  }

  return result;
}

void sub_1AFA628DC(char *a1@<X1>, unsigned __int8 *a2@<X2>, unint64_t a3@<X4>, uint64_t a4@<X5>, uint64_t a5@<X6>, uint64_t a6@<X7>, uint64_t *a7@<X8>, uint64_t a8)
{
  v142 = a3;
  v133 = a4;
  v134 = a6;
  v135 = a1;
  v136 = a5;
  v132 = a7;
  v9 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v10 - 8, v11);
  v141 = v122 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v13, v14);
  v145 = v122 - v15;
  MEMORY[0x1EEE9AC00](v16, v17);
  v19 = v122 - v18;
  MEMORY[0x1EEE9AC00](v20, v21);
  v23 = (v122 - v22);
  v24 = *(type metadata accessor for HeaderScript() + 32);
  v146 = a2;
  v139 = v24;
  sub_1AFA9C3FC(&a2[v24], v19, qword_1ED730680, type metadata accessor for ScriptIndex, v9, sub_1AF0D0FCC);
  v25 = type metadata accessor for ScriptIndex();
  v26 = *(v25 - 8);
  v28 = v26 + 48;
  v27 = *(v26 + 48);
  v29 = v27(v19, 1, v25);
  v144 = a8;
  v138 = v27;
  if (v29 == 1)
  {
    *v23 = a8;
    swift_storeEnumTagMultiPayload();
    if (v27(v19, 1, v25) != 1)
    {
      sub_1AFA9C470(v19, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v19, v23, type metadata accessor for ScriptIndex);
  }

  v32 = *(v26 + 56);
  v30 = v26 + 56;
  v31 = v32;
  v32(v23, 0, 1, v25);
  v33 = v143;
  v34 = v146;
  v35 = sub_1AF8BAE54(v142, v149);
  if (v33)
  {
    sub_1AFA9C470(v23, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v140 = v25;
  v129 = v31;
  v130 = v28;
  v131 = v30;
  v38 = v149[0];
  v37 = v149[1];
  v39 = v149[2];
  MEMORY[0x1EEE9AC00](v35, v36);
  v122[-6] = 0;
  v122[-5] = 0xE000000000000000;
  v40 = v144;
  LODWORD(v122[-4]) = v144;
  HIDWORD(v122[-4]) = v41;
  v127 = v41;
  v122[-3] = 0x726564616568;
  v122[-2] = 0xE600000000000000;
  v122[-1] = v23;
  sub_1AFBFBEF0(sub_1AFA9C4E0, &v122[-8], v38);
  v143 = 0;

  v128 = sub_1AFAF8B58(v37, v39, 0, 0xE000000000000000, v40, 0x726564616568uLL, 0xE600000000000000, v23);
  v43 = v42;

  sub_1AFA9C470(v23, qword_1ED730680, type metadata accessor for ScriptIndex);
  v44 = *v34;
  v137 = v44;
  v45 = v34;
  if (v44 > 2)
  {
    v46 = v141;
    v47 = v145;
    if (v44 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
  }

  else
  {
    v46 = v141;
    v47 = v145;
    if (v44 >= 2)
    {
      type metadata accessor for MetalAPICodeLoader();
      v48 = swift_allocObject();
      v49 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
      v50 = sub_1AFDFC128();
      (*(*(v50 - 8) + 56))(v48 + v49, 1, 1, v50);
      sub_1AF45207C();
      v51 = v135;
      v52 = *(v135 + 3);
      v54 = v53;
      *(v53 + 48) = v52;
      swift_unknownObjectRetain_n();
      swift_unknownObjectRelease();
      if (v52)
      {
        swift_unknownObjectRelease();
      }

      else
      {
        if (qword_1ED730EA0 != -1)
        {
          swift_once();
        }

        v78 = sub_1AFDFDA08();
        if (qword_1ED731058 != -1)
        {
          v121 = v78;
          swift_once();
          v78 = v121;
        }

        v149[0] = 0;
        sub_1AF0D4F18(v78, v149, 0xD000000000000024, 0x80000001AFF45460);
      }

      v79 = *(v51 + 2);

      if (v79)
      {
        v80 = *(v79 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
        v81 = *(v79 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
        v82 = v81;
      }

      else
      {
        v80 = 0;
        v81 = 0;
      }

      v83 = *(v54 + 64);
      *(v54 + 56) = v80;
      *(v54 + 64) = v81;

      goto LABEL_17;
    }

    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v137;
  }

  v55.n128_f64[0] = sub_1AF45207C();
  v54 = v56;
LABEL_17:
  if ((*(*v54 + 376))(v55))
  {
    LOWORD(v149[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v57 = sub_1AF45D418(v149);
    if (!v57)
    {

      sub_1AF81F330();
      swift_allocError();
      *v76 = 0;
      v76[1] = 0;
      swift_willThrow();

      return;
    }

    v58 = v57;
    v59 = *(v57 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v58 + 32) = v59;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v59 = sub_1AF420554(0, *(v59 + 2) + 1, 1, v59);
      *(v58 + 32) = v59;
    }

    v62 = *(v59 + 2);
    v61 = *(v59 + 3);
    if (v62 >= v61 >> 1)
    {
      v59 = sub_1AF420554(v61 > 1, v62 + 1, 1, v59);
    }

    *(v59 + 2) = v62 + 1;
    v63 = &v59[16 * v62];
    *(v63 + 4) = 5785174;
    *(v63 + 5) = 0xE300000000000000;
    *(v58 + 32) = v59;
    if (v136)
    {
      *(v58 + 26) = v133 & 1;

      sub_1AF48FAF8(v64);

      sub_1AF48FAF8(v65);
    }

    *(v54 + 120) = v58;

    v47 = v145;
  }

  v66 = v143;
  v67 = (*(*v54 + 480))(v128, v43);
  if (v66)
  {
    v149[0] = v66;
    v71 = v66;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v72 = v150;
      v148 = v150;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v147 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        v73 = v128;
        *v74 = v72;
        *(v74 + 8) = v73;
        *(v74 + 16) = v43;
        *(v74 + 24) = 0;
        *(v74 + 32) = 2;
        swift_willThrow();

LABEL_35:

        return;
      }
    }

    else
    {
    }

    goto LABEL_35;
  }

  v75 = v68;
  v125 = v69;
  v126 = v67;
  v134 = v70;
  (*(*v54 + 464))();
  v124 = v43;
  if (v137 == 2)
  {
    sub_1AFA9D6A4(0, &qword_1ED721EB8, &type metadata for ScriptFunction, MEMORY[0x1E69E6F90]);
    v84 = swift_allocObject();
    *(v84 + 1) = xmmword_1AFE431C0;
    *(v84 + 4) = sub_1AFB12464(0, 0, 0);
    *(v84 + 5) = v77;
    v84[48] = 0;
  }

  else
  {
    v84 = &unk_1F2506FC8;
  }

  v123 = v75;
  v122[0] = 0;
  v133 = v54;
  v85 = *(v84 + 2);
  v122[1] = v84;
  v86 = MEMORY[0x1E69E7CC0];
  if (!v85)
  {
    v135 = MEMORY[0x1E69E7CC0];
LABEL_80:

    v111 = v132;
    v112 = v123;
    *v132 = v126;
    v111[1] = v112;
    v113 = v134;
    v111[2] = v125;
    v111[3] = v113;
    v114 = v124;
    v111[4] = v128;
    v111[5] = v114;
    v115 = v135;
    v111[6] = v133;
    v111[7] = v115;
    v111[8] = v86;
    return;
  }

  v87 = (v84 + 48);
  v135 = MEMORY[0x1E69E7CC0];
  while (1)
  {
    v142 = v85;
    v143 = v86;
    v92 = *(v87 - 2);
    v93 = *(v87 - 1);
    LODWORD(v136) = *v87;
    sub_1AFA9C3FC(&v45[v139], v46, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
    v94 = v140;
    v95 = v138;
    if (v138(v46, 1, v140) == 1)
    {
      v96 = v144;
      v97 = v127;
      *v47 = v144;
      v47[1] = v97;
      swift_storeEnumTagMultiPayload();
      v98 = v95(v46, 1, v94);

      if (v98 != 1)
      {
        sub_1AFA9C470(v46, qword_1ED730680, type metadata accessor for ScriptIndex);
      }
    }

    else
    {
      sub_1AFA9E320(v46, v47, type metadata accessor for ScriptIndex);

      v96 = v144;
    }

    v129(v47, 0, 1, v140);
    v99 = sub_1AFAF8B58(v92, v93, 0, 0xE000000000000000, v96, 0x726564616568uLL, 0xE600000000000000, v47);
    v101 = v100;
    sub_1AFA9C470(v47, qword_1ED730680, type metadata accessor for ScriptIndex);
    v102 = v137;
    if (v137 == 2)
    {

      goto LABEL_51;
    }

    v103 = sub_1AFDFEE28();

    if (v103)
    {

      v46 = v141;
LABEL_51:
      v86 = v143;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        v86 = sub_1AF4246B0(0, *(v86 + 2) + 1, 1, v86);
      }

      v45 = v146;
      goto LABEL_54;
    }

    v86 = v143;
    if (v102 < 4)
    {
      break;
    }

LABEL_69:
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v86 = sub_1AF4246B0(0, *(v86 + 2) + 1, 1, v86);
    }

    v45 = v146;
    v46 = v141;
LABEL_54:
    v89 = *(v86 + 2);
    v88 = *(v86 + 3);
    if (v89 >= v88 >> 1)
    {
      v86 = sub_1AF4246B0(v88 > 1, v89 + 1, 1, v86);
    }

    *(v86 + 2) = v89 + 1;
    v90 = &v86[24 * v89];
    *(v90 + 4) = v99;
    *(v90 + 5) = v101;
    v90[48] = v136;
    v91 = v142;
LABEL_57:
    v87 += 24;
    v85 = v91 - 1;
    v47 = v145;
    if (!v85)
    {
      goto LABEL_80;
    }
  }

  v104 = sub_1AFDFEE28();

  if (v104)
  {
    goto LABEL_69;
  }

  v105 = *(v133 + 80);
  if (!v105)
  {
    v116 = 0xD000000000000017;
    v117 = 0x80000001AFF45490;
    v118 = 4;
    goto LABEL_83;
  }

  v106 = sub_1AFDFCFB8();
  v107 = dlsym(v105, (v106 + 32));

  if (v107)
  {

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v135 = sub_1AF42469C(0, *(v135 + 2) + 1, 1, v135);
    }

    v45 = v146;
    v46 = v141;
    v91 = v142;
    v109 = *(v135 + 2);
    v108 = *(v135 + 3);
    if (v109 >= v108 >> 1)
    {
      v135 = sub_1AF42469C(v108 > 1, v109 + 1, 1, v135);
    }

    v110 = v135;
    *(v135 + 2) = v109 + 1;
    *&v110[8 * v109 + 32] = v107;
    goto LABEL_57;
  }

  dlerror();
  v116 = sub_1AFDFD0E8();
  v117 = v119;
  v118 = 6;
LABEL_83:
  sub_1AF4563A0();
  swift_allocError();
  *v120 = v116;
  *(v120 + 8) = v117;
  *(v120 + 16) = 0;
  *(v120 + 24) = 0;
  *(v120 + 32) = v118;
  swift_willThrow();
}

void sub_1AFA6385C(void *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, char *a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t *a9@<X8>, unint64_t a10)
{
  v147 = a8;
  v150 = a7;
  v146 = a6;
  v154 = a5;
  v149 = a2;
  v144 = a1;
  v145 = a9;
  v12 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v13 - 8, v14);
  v157 = &v130 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v16, v17);
  v156 = &v130 - v18;
  MEMORY[0x1EEE9AC00](v19, v20);
  v22 = &v130 - v21;
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = (&v130 - v25);
  v27 = *(type metadata accessor for TriggerScript(0) + 44);
  v159 = a3;
  v152 = v27;
  sub_1AFA9C3FC(a3 + v27, v22, qword_1ED730680, type metadata accessor for ScriptIndex, v12, sub_1AF0D0FCC);
  v28 = type metadata accessor for ScriptIndex();
  v29 = *(v28 - 8);
  v30 = v29 + 48;
  v31 = *(v29 + 48);
  v32 = v31(v22, 1, v28);
  v158 = a10;
  v153 = HIDWORD(a10);
  if (v32 == 1)
  {
    *v26 = a10;
    swift_storeEnumTagMultiPayload();
    if (v31(v22, 1, v28) != 1)
    {
      sub_1AFA9C470(v22, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v22, v26, type metadata accessor for ScriptIndex);
  }

  v35 = *(v29 + 56);
  v33 = v29 + 56;
  v34 = v35;
  v35(v26, 0, 1, v28);
  v36 = v155;
  v37 = v159;
  v38 = sub_1AFABEDE4(a4, v154, v162);
  if (v36)
  {
    sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v151 = v28;
  v140 = v34;
  v141 = v31;
  v142 = v30;
  v143 = v33;
  v41 = v162[0];
  v40 = v162[1];
  v42 = v162[2];
  v137 = v162[5];
  v138 = v162[6];
  MEMORY[0x1EEE9AC00](v38, v39);
  *(&v130 - 6) = 0;
  *(&v130 - 5) = 0xE000000000000000;
  v43 = v158;
  v44 = v153;
  *(&v130 - 8) = v158;
  *(&v130 - 7) = v44;
  *(&v130 - 3) = 0x72656767697274;
  *(&v130 - 2) = 0xE700000000000000;
  *(&v130 - 1) = v26;
  sub_1AFBFBEF0(sub_1AFA9EB54, (&v130 - 8), v41);
  v155 = 0;

  v139 = sub_1AFAF8B58(v40, v42, 0, 0xE000000000000000, v43, 0x72656767697274uLL, 0xE700000000000000, v26);
  v46 = v45;

  sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
  v47 = *(v37 + 24);
  v148 = v47;
  if (v47 > 2)
  {
    v49 = v156;
    v48 = v157;
    if (v47 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
  }

  else
  {
    v49 = v156;
    v48 = v157;
    if (v47 >= 2)
    {
      v50 = v46;
      type metadata accessor for MetalAPICodeLoader();
      v51 = swift_allocObject();
      v52 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
      v53 = sub_1AFDFC128();
      (*(*(v53 - 8) + 56))(v51 + v52, 1, 1, v53);
      sub_1AF45207C();
      v55 = v54;
      v56 = v149;
      v57 = *(v149 + 24);
      *(v54 + 48) = v57;
      swift_unknownObjectRetain_n();
      swift_unknownObjectRelease();
      v58 = v158;
      v59 = v151;
      if (v57)
      {
        swift_unknownObjectRelease();
      }

      else
      {
        if (qword_1ED730EA0 != -1)
        {
          swift_once();
        }

        v85 = sub_1AFDFDA08();
        if (qword_1ED731058 != -1)
        {
          v129 = v85;
          swift_once();
          v85 = v129;
        }

        v162[0] = 0;
        sub_1AF0D4F18(v85, v162, 0xD000000000000024, 0x80000001AFF45460);
      }

      v86 = *(v56 + 16);

      if (v86)
      {
        v87 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
        v88 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
        v89 = v88;
      }

      else
      {
        v87 = 0;
        v88 = 0;
      }

      v90 = *(v55 + 64);
      *(v55 + 56) = v87;
      *(v55 + 64) = v88;

      v46 = v50;
      v48 = v157;
      goto LABEL_17;
    }

    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v47;
  }

  v60.n128_f64[0] = sub_1AF45207C();
  v55 = v61;
  v58 = v158;
  v59 = v151;
LABEL_17:
  if ((*(*v55 + 376))(v60))
  {
    LOWORD(v162[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v62 = sub_1AF45D418(v162);
    if (!v62)
    {

      sub_1AF81F330();
      swift_allocError();
      *v82 = 0;
      v82[1] = 0;
      swift_willThrow();

      goto LABEL_33;
    }

    v63 = v62;
    v64 = *(v62 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v63 + 32) = v64;
    v66 = v46;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v64 = sub_1AF420554(0, *(v64 + 2) + 1, 1, v64);
      *(v63 + 32) = v64;
    }

    v68 = *(v64 + 2);
    v67 = *(v64 + 3);
    if (v68 >= v67 >> 1)
    {
      v64 = sub_1AF420554(v67 > 1, v68 + 1, 1, v64);
    }

    *(v64 + 2) = v68 + 1;
    v69 = &v64[16 * v68];
    *(v69 + 4) = 5785174;
    *(v69 + 5) = 0xE300000000000000;
    *(v63 + 32) = v64;
    if (v150)
    {
      *(v63 + 26) = v146 & 1;

      sub_1AF48FAF8(v70);

      sub_1AF48FAF8(v71);
    }

    *(v55 + 120) = v63;

    v48 = v157;
    v58 = v158;
    v46 = v66;
    v49 = v156;
  }

  v72 = v155;
  v73 = (*(*v55 + 480))(v139, v46);
  if (v72)
  {
    v162[0] = v72;
    v77 = v72;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v78 = v163;
      v161 = v163;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v160 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        v79 = v139;
        *v80 = v78;
        *(v80 + 8) = v79;
        *(v80 + 16) = v46;
        *(v80 + 24) = 0;
        *(v80 + 32) = 2;
        swift_willThrow();

LABEL_36:

        return;
      }
    }

    else
    {
    }

    goto LABEL_36;
  }

  v81 = v74;
  v136 = v76;
  v134 = v75;
  v133 = v73;
  (*(*v55 + 464))();
  v132 = v46;
  if (v148 == 2)
  {
    sub_1AFA9D6A4(0, &qword_1ED721EB8, &type metadata for ScriptFunction, MEMORY[0x1E69E6F90]);
    v83 = swift_allocObject();
    *(v83 + 16) = xmmword_1AFE431C0;
    *(v83 + 32) = sub_1AFB12464(0, 0, 0);
    *(v83 + 40) = v84;
    v135 = v83;
    *(v83 + 48) = 0;
  }

  else
  {
    v135 = &unk_1F2507000;
  }

  v131 = v81;
  v91 = *(v135 + 2);
  if (!v91)
  {
    v92 = MEMORY[0x1E69E7CC0];
    v146 = MEMORY[0x1E69E7CC0];
LABEL_75:

    v117 = v144;
    v118 = v138;
    *v144 = v137;
    v117[1] = v118;
    v119 = v145;
    v120 = v131;
    *v145 = v133;
    v119[1] = v120;
    v121 = v136;
    v119[2] = v134;
    v119[3] = v121;
    v122 = v132;
    v119[4] = v139;
    v119[5] = v122;
    v123 = v146;
    v119[6] = v55;
    v119[7] = v123;
    v119[8] = v92;
    return;
  }

  v92 = MEMORY[0x1E69E7CC0];
  v93 = (v135 + 48);
  v146 = MEMORY[0x1E69E7CC0];
  v149 = v55;
  v147 = 0;
  while (1)
  {
    v154 = v91;
    v155 = v92;
    v95 = *(v93 - 2);
    v96 = *(v93 - 1);
    LODWORD(v150) = *v93;
    sub_1AFA9C3FC(v159 + v152, v48, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
    v97 = v59;
    v98 = v59;
    v99 = v141;
    if (v141(v48, 1, v97) == 1)
    {
      v100 = v153;
      *v49 = v58;
      v49[1] = v100;
      swift_storeEnumTagMultiPayload();
      v101 = v99(v48, 1, v98);

      if (v101 != 1)
      {
        sub_1AFA9C470(v48, qword_1ED730680, type metadata accessor for ScriptIndex);
      }
    }

    else
    {
      sub_1AFA9E320(v48, v49, type metadata accessor for ScriptIndex);
    }

    v59 = v151;
    v140(v49, 0, 1, v151);
    v102 = sub_1AFAF8B58(v95, v96, 0, 0xE000000000000000, v58, 0x72656767697274uLL, 0xE700000000000000, v49);
    v104 = v103;
    sub_1AFA9C470(v49, qword_1ED730680, type metadata accessor for ScriptIndex);
    v105 = v148;
    if (v148 != 2)
    {
      v106 = sub_1AFDFEE28();

      if (v106)
      {
        goto LABEL_60;
      }

      if (v105 < 4)
      {
        break;
      }
    }

LABEL_60:

    v92 = v155;
LABEL_61:
    v107 = swift_isUniquelyReferenced_nonNull_native();
    v55 = v149;
    if ((v107 & 1) == 0)
    {
      v92 = sub_1AF4246B0(0, *(v92 + 2) + 1, 1, v92);
    }

    v109 = *(v92 + 2);
    v108 = *(v92 + 3);
    if (v109 >= v108 >> 1)
    {
      v92 = sub_1AF4246B0(v108 > 1, v109 + 1, 1, v92);
    }

    *(v92 + 2) = v109 + 1;
    v94 = &v92[24 * v109];
    *(v94 + 4) = v102;
    *(v94 + 5) = v104;
    v94[48] = v150;
    v49 = v156;
LABEL_52:
    v93 += 24;
    v91 = v154 - 1;
    v48 = v157;
    v58 = v158;
    if (v154 == 1)
    {
      goto LABEL_75;
    }
  }

  v92 = v155;
  v110 = sub_1AFDFEE28();

  if (v110)
  {
    goto LABEL_61;
  }

  v55 = v149;
  v111 = *(v149 + 80);
  if (!v111)
  {
    v124 = 0xD000000000000017;
    v125 = 0x80000001AFF45490;
    v126 = 4;
    goto LABEL_78;
  }

  v112 = sub_1AFDFCFB8();
  v113 = dlsym(v111, (v112 + 32));

  if (v113)
  {

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v146 = sub_1AF42469C(0, *(v146 + 2) + 1, 1, v146);
    }

    v49 = v156;
    v115 = *(v146 + 2);
    v114 = *(v146 + 3);
    if (v115 >= v114 >> 1)
    {
      v146 = sub_1AF42469C(v114 > 1, v115 + 1, 1, v146);
    }

    v116 = v146;
    *(v146 + 2) = v115 + 1;
    *&v116[8 * v115 + 32] = v113;
    goto LABEL_52;
  }

  dlerror();
  v124 = sub_1AFDFD0E8();
  v125 = v127;
  v126 = 6;
LABEL_78:
  sub_1AF4563A0();
  swift_allocError();
  *v128 = v124;
  *(v128 + 8) = v125;
  *(v128 + 16) = 0;
  *(v128 + 24) = 0;
  *(v128 + 32) = v126;
  swift_willThrow();

LABEL_33:
}

void sub_1AFA648B8(char **a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, unint64_t a5@<X4>, char *a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t *a9@<X8>, unint64_t a10)
{
  v147 = a8;
  v150 = a7;
  v146 = a6;
  v154 = a5;
  v149 = a2;
  v144 = a1;
  v145 = a9;
  v12 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v13 - 8, v14);
  v157 = &v130 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v16, v17);
  v156 = &v130 - v18;
  MEMORY[0x1EEE9AC00](v19, v20);
  v22 = &v130 - v21;
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = (&v130 - v25);
  v27 = *(type metadata accessor for ParticleUpdateScript(0) + 40);
  v159 = a3;
  v152 = v27;
  sub_1AFA9C3FC(a3 + v27, v22, qword_1ED730680, type metadata accessor for ScriptIndex, v12, sub_1AF0D0FCC);
  v28 = type metadata accessor for ScriptIndex();
  v29 = *(v28 - 8);
  v30 = v29 + 48;
  v31 = *(v29 + 48);
  v32 = v31(v22, 1, v28);
  v158 = a10;
  v153 = HIDWORD(a10);
  if (v32 == 1)
  {
    *v26 = a10;
    swift_storeEnumTagMultiPayload();
    if (v31(v22, 1, v28) != 1)
    {
      sub_1AFA9C470(v22, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v22, v26, type metadata accessor for ScriptIndex);
  }

  v35 = *(v29 + 56);
  v33 = v29 + 56;
  v34 = v35;
  v35(v26, 0, 1, v28);
  v36 = v155;
  v37 = v159;
  v38 = sub_1AFAA3C54(a4, v154, v162);
  if (v36)
  {
    sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v151 = v28;
  v140 = v34;
  v141 = v31;
  v142 = v30;
  v143 = v33;
  v41 = v162[0];
  v40 = v162[1];
  v42 = v162[2];
  v155 = v162[4];
  v137 = v162[5];
  v138 = v162[6];
  MEMORY[0x1EEE9AC00](v38, v39);
  *(&v130 - 6) = 0;
  *(&v130 - 5) = 0xE000000000000000;
  v43 = v158;
  v44 = v153;
  *(&v130 - 8) = v158;
  *(&v130 - 7) = v44;
  strcpy(&v130 - 24, "particleUpdate");
  *(&v130 - 9) = -18;
  *(&v130 - 1) = v26;
  sub_1AFBFBEF0(sub_1AFA9EB54, (&v130 - 8), v41);
  v154 = 0;

  v139 = sub_1AFAF8B58(v40, v42, 0, 0xE000000000000000, v43, 0x656C636974726170uLL, 0xEE00657461647055, v26);
  v46 = v45;

  sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
  v47 = *(v37 + 24);
  v148 = v47;
  if (v47 > 2)
  {
    v49 = v156;
    v48 = v157;
    if (v47 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
  }

  else
  {
    v49 = v156;
    v48 = v157;
    if (v47 >= 2)
    {
      v50 = v46;
      type metadata accessor for MetalAPICodeLoader();
      v51 = swift_allocObject();
      v52 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
      v53 = sub_1AFDFC128();
      (*(*(v53 - 8) + 56))(v51 + v52, 1, 1, v53);
      sub_1AF45207C();
      v55 = v54;
      v56 = v149;
      v57 = *(v149 + 24);
      *(v54 + 48) = v57;
      swift_unknownObjectRetain_n();
      swift_unknownObjectRelease();
      v58 = v158;
      v59 = v151;
      if (v57)
      {
        swift_unknownObjectRelease();
      }

      else
      {
        if (qword_1ED730EA0 != -1)
        {
          swift_once();
        }

        v85 = sub_1AFDFDA08();
        if (qword_1ED731058 != -1)
        {
          v129 = v85;
          swift_once();
          v85 = v129;
        }

        v162[0] = 0;
        sub_1AF0D4F18(v85, v162, 0xD000000000000024, 0x80000001AFF45460);
      }

      v86 = *(v56 + 16);

      if (v86)
      {
        v87 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
        v88 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
        v89 = v88;
      }

      else
      {
        v87 = 0;
        v88 = 0;
      }

      v90 = *(v55 + 64);
      *(v55 + 56) = v87;
      *(v55 + 64) = v88;

      v46 = v50;
      v48 = v157;
      goto LABEL_17;
    }

    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v47;
  }

  v60.n128_f64[0] = sub_1AF45207C();
  v55 = v61;
  v58 = v158;
  v59 = v151;
LABEL_17:
  if ((*(*v55 + 376))(v60))
  {
    LOWORD(v162[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v62 = sub_1AF45D418(v162);
    if (!v62)
    {

      sub_1AF81F330();
      swift_allocError();
      *v82 = 0;
      v82[1] = 0;
      swift_willThrow();

      goto LABEL_33;
    }

    v63 = v62;
    v64 = *(v62 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v63 + 32) = v64;
    v66 = v46;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v64 = sub_1AF420554(0, *(v64 + 2) + 1, 1, v64);
      *(v63 + 32) = v64;
    }

    v68 = *(v64 + 2);
    v67 = *(v64 + 3);
    if (v68 >= v67 >> 1)
    {
      v64 = sub_1AF420554(v67 > 1, v68 + 1, 1, v64);
    }

    *(v64 + 2) = v68 + 1;
    v69 = &v64[16 * v68];
    *(v69 + 4) = 5785174;
    *(v69 + 5) = 0xE300000000000000;
    *(v63 + 32) = v64;
    if (v150)
    {
      *(v63 + 26) = v146 & 1;

      sub_1AF48FAF8(v70);

      sub_1AF48FAF8(v71);
    }

    *(v55 + 120) = v63;

    v48 = v157;
    v58 = v158;
    v46 = v66;
    v49 = v156;
  }

  v72 = v154;
  v73 = (*(*v55 + 480))(v139, v46);
  if (v72)
  {
    v162[0] = v72;
    v77 = v72;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v78 = v163;
      v161 = v163;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v160 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        v79 = v139;
        *v80 = v78;
        *(v80 + 8) = v79;
        *(v80 + 16) = v46;
        *(v80 + 24) = 0;
        *(v80 + 32) = 2;
        swift_willThrow();

LABEL_36:

        return;
      }
    }

    else
    {
    }

    goto LABEL_36;
  }

  v81 = v74;
  v136 = v76;
  v134 = v75;
  v133 = v73;
  (*(*v55 + 464))();
  v132 = v46;
  if (v148 == 2)
  {
    sub_1AFA9D6A4(0, &qword_1ED721EB8, &type metadata for ScriptFunction, MEMORY[0x1E69E6F90]);
    v83 = swift_allocObject();
    *(v83 + 16) = xmmword_1AFE431C0;
    *(v83 + 32) = sub_1AFB12464(0, 0, 0);
    *(v83 + 40) = v84;
    v135 = v83;
    *(v83 + 48) = 0;
  }

  else
  {
    v135 = &unk_1F2507038;
  }

  v131 = v81;
  v91 = *(v135 + 2);
  if (!v91)
  {
    v92 = MEMORY[0x1E69E7CC0];
    v146 = MEMORY[0x1E69E7CC0];
LABEL_75:

    v117 = v144;
    v118 = v138;
    *v144 = v137;
    v117[1] = v118;
    v119 = v145;
    v120 = v131;
    *v145 = v133;
    v119[1] = v120;
    v121 = v136;
    v119[2] = v134;
    v119[3] = v121;
    v122 = v132;
    v119[4] = v139;
    v119[5] = v122;
    v123 = v146;
    v119[6] = v55;
    v119[7] = v123;
    v119[8] = v92;
    return;
  }

  v92 = MEMORY[0x1E69E7CC0];
  v93 = (v135 + 48);
  v146 = MEMORY[0x1E69E7CC0];
  v149 = v55;
  v147 = 0;
  while (1)
  {
    v154 = v91;
    v155 = v92;
    v95 = *(v93 - 2);
    v96 = *(v93 - 1);
    LODWORD(v150) = *v93;
    sub_1AFA9C3FC(v159 + v152, v48, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
    v97 = v59;
    v98 = v59;
    v99 = v141;
    if (v141(v48, 1, v97) == 1)
    {
      v100 = v153;
      *v49 = v58;
      v49[1] = v100;
      swift_storeEnumTagMultiPayload();
      v101 = v99(v48, 1, v98);

      if (v101 != 1)
      {
        sub_1AFA9C470(v48, qword_1ED730680, type metadata accessor for ScriptIndex);
      }
    }

    else
    {
      sub_1AFA9E320(v48, v49, type metadata accessor for ScriptIndex);
    }

    v59 = v151;
    v140(v49, 0, 1, v151);
    v102 = sub_1AFAF8B58(v95, v96, 0, 0xE000000000000000, v58, 0x656C636974726170uLL, 0xEE00657461647055, v49);
    v104 = v103;
    sub_1AFA9C470(v49, qword_1ED730680, type metadata accessor for ScriptIndex);
    v105 = v148;
    if (v148 != 2)
    {
      v106 = sub_1AFDFEE28();

      if (v106)
      {
        goto LABEL_60;
      }

      if (v105 < 4)
      {
        break;
      }
    }

LABEL_60:

    v92 = v155;
LABEL_61:
    v107 = swift_isUniquelyReferenced_nonNull_native();
    v55 = v149;
    if ((v107 & 1) == 0)
    {
      v92 = sub_1AF4246B0(0, *(v92 + 2) + 1, 1, v92);
    }

    v109 = *(v92 + 2);
    v108 = *(v92 + 3);
    if (v109 >= v108 >> 1)
    {
      v92 = sub_1AF4246B0(v108 > 1, v109 + 1, 1, v92);
    }

    *(v92 + 2) = v109 + 1;
    v94 = &v92[24 * v109];
    *(v94 + 4) = v102;
    *(v94 + 5) = v104;
    v94[48] = v150;
    v49 = v156;
LABEL_52:
    v93 += 24;
    v91 = (v154 - 1);
    v48 = v157;
    v58 = v158;
    if (v154 == 1)
    {
      goto LABEL_75;
    }
  }

  v92 = v155;
  v110 = sub_1AFDFEE28();

  if (v110)
  {
    goto LABEL_61;
  }

  v55 = v149;
  v111 = *(v149 + 80);
  if (!v111)
  {
    v124 = 0xD000000000000017;
    v125 = 0x80000001AFF45490;
    v126 = 4;
    goto LABEL_78;
  }

  v112 = sub_1AFDFCFB8();
  v113 = dlsym(v111, (v112 + 32));

  if (v113)
  {

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v146 = sub_1AF42469C(0, *(v146 + 2) + 1, 1, v146);
    }

    v49 = v156;
    v115 = *(v146 + 2);
    v114 = *(v146 + 3);
    if (v115 >= v114 >> 1)
    {
      v146 = sub_1AF42469C(v114 > 1, v115 + 1, 1, v146);
    }

    v116 = v146;
    *(v146 + 2) = v115 + 1;
    *&v116[8 * v115 + 32] = v113;
    goto LABEL_52;
  }

  dlerror();
  v124 = sub_1AFDFD0E8();
  v125 = v127;
  v126 = 6;
LABEL_78:
  sub_1AF4563A0();
  swift_allocError();
  *v128 = v124;
  *(v128 + 8) = v125;
  *(v128 + 16) = 0;
  *(v128 + 24) = 0;
  *(v128 + 32) = v126;
  swift_willThrow();

LABEL_33:
}

void sub_1AFA65930(char **a1@<X0>, uint64_t a2@<X1>, unsigned __int8 *a3@<X2>, uint64_t a4@<X3>, unint64_t a5@<X4>, char *a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t *a9@<X8>, unint64_t a10)
{
  v147 = a8;
  v150 = a7;
  v146 = a6;
  v154 = a5;
  v149 = a2;
  v144 = a1;
  v145 = a9;
  v12 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v13 - 8, v14);
  v157 = &v130 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v16, v17);
  v156 = &v130 - v18;
  MEMORY[0x1EEE9AC00](v19, v20);
  v22 = &v130 - v21;
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = (&v130 - v25);
  v27 = *(type metadata accessor for ParticleInitScript(0) + 40);
  v159 = a3;
  v152 = v27;
  sub_1AFA9C3FC(&a3[v27], v22, qword_1ED730680, type metadata accessor for ScriptIndex, v12, sub_1AF0D0FCC);
  v28 = type metadata accessor for ScriptIndex();
  v29 = *(v28 - 8);
  v30 = v29 + 48;
  v31 = *(v29 + 48);
  v32 = v31(v22, 1, v28);
  v158 = a10;
  v153 = HIDWORD(a10);
  if (v32 == 1)
  {
    *v26 = a10;
    swift_storeEnumTagMultiPayload();
    if (v31(v22, 1, v28) != 1)
    {
      sub_1AFA9C470(v22, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v22, v26, type metadata accessor for ScriptIndex);
  }

  v35 = *(v29 + 56);
  v33 = v29 + 56;
  v34 = v35;
  v35(v26, 0, 1, v28);
  v36 = v155;
  v37 = v159;
  v38 = sub_1AFAA2CD8(a4, v154, v162);
  if (v36)
  {
    sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v151 = v28;
  v140 = v34;
  v141 = v31;
  v142 = v30;
  v143 = v33;
  v41 = v162[0];
  v40 = v162[1];
  v42 = v162[2];
  v155 = v162[4];
  v137 = v162[5];
  v138 = v162[6];
  MEMORY[0x1EEE9AC00](v38, v39);
  *(&v130 - 6) = 0;
  *(&v130 - 5) = 0xE000000000000000;
  v43 = v158;
  v44 = v153;
  *(&v130 - 8) = v158;
  *(&v130 - 7) = v44;
  strcpy(&v130 - 24, "particleInit");
  *(&v130 - 11) = 0;
  *(&v130 - 5) = -5120;
  *(&v130 - 1) = v26;
  sub_1AFBFBEF0(sub_1AFA9EB54, (&v130 - 8), v41);
  v154 = 0;

  v139 = sub_1AFAF8B58(v40, v42, 0, 0xE000000000000000, v43, 0x656C636974726170uLL, 0xEC00000074696E49, v26);
  v46 = v45;

  sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
  v47 = *v37;
  v148 = v47;
  if (v47 > 2)
  {
    v49 = v156;
    v48 = v157;
    if (v47 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
  }

  else
  {
    v49 = v156;
    v48 = v157;
    if (v47 >= 2)
    {
      v50 = v46;
      type metadata accessor for MetalAPICodeLoader();
      v51 = swift_allocObject();
      v52 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
      v53 = sub_1AFDFC128();
      (*(*(v53 - 8) + 56))(v51 + v52, 1, 1, v53);
      sub_1AF45207C();
      v55 = v54;
      v56 = v149;
      v57 = *(v149 + 24);
      *(v54 + 48) = v57;
      swift_unknownObjectRetain_n();
      swift_unknownObjectRelease();
      v58 = v158;
      v59 = v151;
      if (v57)
      {
        swift_unknownObjectRelease();
      }

      else
      {
        if (qword_1ED730EA0 != -1)
        {
          swift_once();
        }

        v85 = sub_1AFDFDA08();
        if (qword_1ED731058 != -1)
        {
          v129 = v85;
          swift_once();
          v85 = v129;
        }

        v162[0] = 0;
        sub_1AF0D4F18(v85, v162, 0xD000000000000024, 0x80000001AFF45460);
      }

      v86 = *(v56 + 16);

      if (v86)
      {
        v87 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
        v88 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
        v89 = v88;
      }

      else
      {
        v87 = 0;
        v88 = 0;
      }

      v90 = *(v55 + 64);
      *(v55 + 56) = v87;
      *(v55 + 64) = v88;

      v46 = v50;
      v48 = v157;
      goto LABEL_17;
    }

    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v47;
  }

  v60.n128_f64[0] = sub_1AF45207C();
  v55 = v61;
  v58 = v158;
  v59 = v151;
LABEL_17:
  if ((*(*v55 + 376))(v60))
  {
    LOWORD(v162[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v62 = sub_1AF45D418(v162);
    if (!v62)
    {

      sub_1AF81F330();
      swift_allocError();
      *v82 = 0;
      v82[1] = 0;
      swift_willThrow();

      goto LABEL_33;
    }

    v63 = v62;
    v64 = *(v62 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v63 + 32) = v64;
    v66 = v46;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v64 = sub_1AF420554(0, *(v64 + 2) + 1, 1, v64);
      *(v63 + 32) = v64;
    }

    v68 = *(v64 + 2);
    v67 = *(v64 + 3);
    if (v68 >= v67 >> 1)
    {
      v64 = sub_1AF420554(v67 > 1, v68 + 1, 1, v64);
    }

    *(v64 + 2) = v68 + 1;
    v69 = &v64[16 * v68];
    *(v69 + 4) = 5785174;
    *(v69 + 5) = 0xE300000000000000;
    *(v63 + 32) = v64;
    if (v150)
    {
      *(v63 + 26) = v146 & 1;

      sub_1AF48FAF8(v70);

      sub_1AF48FAF8(v71);
    }

    *(v55 + 120) = v63;

    v48 = v157;
    v58 = v158;
    v46 = v66;
    v49 = v156;
  }

  v72 = v154;
  v73 = (*(*v55 + 480))(v139, v46);
  if (v72)
  {
    v162[0] = v72;
    v77 = v72;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v78 = v163;
      v161 = v163;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v160 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        v79 = v139;
        *v80 = v78;
        *(v80 + 8) = v79;
        *(v80 + 16) = v46;
        *(v80 + 24) = 0;
        *(v80 + 32) = 2;
        swift_willThrow();

LABEL_36:

        return;
      }
    }

    else
    {
    }

    goto LABEL_36;
  }

  v81 = v74;
  v136 = v76;
  v134 = v75;
  v133 = v73;
  (*(*v55 + 464))();
  v132 = v46;
  if (v148 == 2)
  {
    sub_1AFA9D6A4(0, &qword_1ED721EB8, &type metadata for ScriptFunction, MEMORY[0x1E69E6F90]);
    v83 = swift_allocObject();
    *(v83 + 16) = xmmword_1AFE431C0;
    *(v83 + 32) = sub_1AFB12464(0, 0, 0);
    *(v83 + 40) = v84;
    v135 = v83;
    *(v83 + 48) = 0;
  }

  else
  {
    v135 = &unk_1F2507070;
  }

  v131 = v81;
  v91 = *(v135 + 2);
  if (!v91)
  {
    v92 = MEMORY[0x1E69E7CC0];
    v146 = MEMORY[0x1E69E7CC0];
LABEL_75:

    v117 = v144;
    v118 = v138;
    *v144 = v137;
    v117[1] = v118;
    v119 = v145;
    v120 = v131;
    *v145 = v133;
    v119[1] = v120;
    v121 = v136;
    v119[2] = v134;
    v119[3] = v121;
    v122 = v132;
    v119[4] = v139;
    v119[5] = v122;
    v123 = v146;
    v119[6] = v55;
    v119[7] = v123;
    v119[8] = v92;
    return;
  }

  v92 = MEMORY[0x1E69E7CC0];
  v93 = (v135 + 48);
  v146 = MEMORY[0x1E69E7CC0];
  v149 = v55;
  v147 = 0;
  while (1)
  {
    v154 = v91;
    v155 = v92;
    v95 = *(v93 - 2);
    v96 = *(v93 - 1);
    LODWORD(v150) = *v93;
    sub_1AFA9C3FC(&v159[v152], v48, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
    v97 = v59;
    v98 = v59;
    v99 = v141;
    if (v141(v48, 1, v97) == 1)
    {
      v100 = v153;
      *v49 = v58;
      v49[1] = v100;
      swift_storeEnumTagMultiPayload();
      v101 = v99(v48, 1, v98);

      if (v101 != 1)
      {
        sub_1AFA9C470(v48, qword_1ED730680, type metadata accessor for ScriptIndex);
      }
    }

    else
    {
      sub_1AFA9E320(v48, v49, type metadata accessor for ScriptIndex);
    }

    v59 = v151;
    v140(v49, 0, 1, v151);
    v102 = sub_1AFAF8B58(v95, v96, 0, 0xE000000000000000, v58, 0x656C636974726170uLL, 0xEC00000074696E49, v49);
    v104 = v103;
    sub_1AFA9C470(v49, qword_1ED730680, type metadata accessor for ScriptIndex);
    v105 = v148;
    if (v148 != 2)
    {
      v106 = sub_1AFDFEE28();

      if (v106)
      {
        goto LABEL_60;
      }

      if (v105 < 4)
      {
        break;
      }
    }

LABEL_60:

    v92 = v155;
LABEL_61:
    v107 = swift_isUniquelyReferenced_nonNull_native();
    v55 = v149;
    if ((v107 & 1) == 0)
    {
      v92 = sub_1AF4246B0(0, *(v92 + 2) + 1, 1, v92);
    }

    v109 = *(v92 + 2);
    v108 = *(v92 + 3);
    if (v109 >= v108 >> 1)
    {
      v92 = sub_1AF4246B0(v108 > 1, v109 + 1, 1, v92);
    }

    *(v92 + 2) = v109 + 1;
    v94 = &v92[24 * v109];
    *(v94 + 4) = v102;
    *(v94 + 5) = v104;
    v94[48] = v150;
    v49 = v156;
LABEL_52:
    v93 += 24;
    v91 = (v154 - 1);
    v48 = v157;
    v58 = v158;
    if (v154 == 1)
    {
      goto LABEL_75;
    }
  }

  v92 = v155;
  v110 = sub_1AFDFEE28();

  if (v110)
  {
    goto LABEL_61;
  }

  v55 = v149;
  v111 = *(v149 + 80);
  if (!v111)
  {
    v124 = 0xD000000000000017;
    v125 = 0x80000001AFF45490;
    v126 = 4;
    goto LABEL_78;
  }

  v112 = sub_1AFDFCFB8();
  v113 = dlsym(v111, (v112 + 32));

  if (v113)
  {

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v146 = sub_1AF42469C(0, *(v146 + 2) + 1, 1, v146);
    }

    v49 = v156;
    v115 = *(v146 + 2);
    v114 = *(v146 + 3);
    if (v115 >= v114 >> 1)
    {
      v146 = sub_1AF42469C(v114 > 1, v115 + 1, 1, v146);
    }

    v116 = v146;
    *(v146 + 2) = v115 + 1;
    *&v116[8 * v115 + 32] = v113;
    goto LABEL_52;
  }

  dlerror();
  v124 = sub_1AFDFD0E8();
  v125 = v127;
  v126 = 6;
LABEL_78:
  sub_1AF4563A0();
  swift_allocError();
  *v128 = v124;
  *(v128 + 8) = v125;
  *(v128 + 16) = 0;
  *(v128 + 24) = 0;
  *(v128 + 32) = v126;
  swift_willThrow();

LABEL_33:
}

void sub_1AFA669A0(char **a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, unint64_t a5@<X4>, uint64_t a6@<X5>, uint64_t a7@<X6>, char *a8@<X7>, uint64_t *a9@<X8>, uint64_t a10)
{
  v153 = a5;
  v147 = a6;
  v148 = a8;
  v149 = a2;
  v150 = a7;
  v145 = a1;
  v146 = a9;
  v12 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v13 - 8, v14);
  v156 = v130 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v16, v17);
  v155 = v130 - v18;
  MEMORY[0x1EEE9AC00](v19, v20);
  v22 = v130 - v21;
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = (v130 - v25);
  v27 = *(type metadata accessor for ShaderScript(0) + 24);
  v158 = a3;
  v152 = v27;
  sub_1AFA9C3FC(a3 + v27, v22, qword_1ED730680, type metadata accessor for ScriptIndex, v12, sub_1AF0D0FCC);
  v28 = type metadata accessor for ScriptIndex();
  v29 = *(v28 - 8);
  v31 = v29 + 48;
  v30 = *(v29 + 48);
  v32 = v30(v22, 1, v28);
  v157 = a10;
  v151 = v30;
  if (v32 == 1)
  {
    *v26 = a10;
    swift_storeEnumTagMultiPayload();
    if (v30(v22, 1, v28) != 1)
    {
      sub_1AFA9C470(v22, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v22, v26, type metadata accessor for ScriptIndex);
  }

  v35 = *(v29 + 56);
  v33 = v29 + 56;
  v34 = v35;
  v35(v26, 0, 1, v28);
  v36 = a4;
  v37 = v154;
  v38 = v28;
  v39 = v158;
  v40 = sub_1AFAAADB4(v36, v153, v161);
  if (v37)
  {
    sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v153 = v38;
  v142 = v34;
  v143 = v31;
  v144 = v33;
  v42 = v161[0];
  v43 = v161[1];
  v44 = v161[2];
  v140 = v161[5];
  v139 = v161[6];
  MEMORY[0x1EEE9AC00](v40, v41);
  v130[-6] = 0;
  v130[-5] = 0xE000000000000000;
  v45 = v157;
  LODWORD(v130[-4]) = v157;
  HIDWORD(v130[-4]) = v46;
  v138 = v46;
  v130[-3] = 0x726564616873;
  v130[-2] = 0xE600000000000000;
  v130[-1] = v26;
  sub_1AFBFBEF0(sub_1AFA9EB54, &v130[-8], v42);
  v154 = 0;

  v141 = sub_1AFAF8B58(v43, v44, 0, 0xE000000000000000, v45, 0x726564616873uLL, 0xE600000000000000, v26);
  v48 = v47;

  sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
  v49 = *(v39 + 16);
  v50 = v39;
  if (v49 > 2)
  {
    v51 = v155;
    v52 = v156;
    if (v49 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
    goto LABEL_16;
  }

  v51 = v155;
  v52 = v156;
  if (v49 < 2)
  {
    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v49;
LABEL_16:
    v62.n128_f64[0] = sub_1AF45207C();
    v58 = v63;
    v61 = v157;
    goto LABEL_17;
  }

  v53 = v48;
  type metadata accessor for MetalAPICodeLoader();
  v54 = swift_allocObject();
  v55 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
  v56 = sub_1AFDFC128();
  (*(*(v56 - 8) + 56))(v54 + v55, 1, 1, v56);
  sub_1AF45207C();
  v58 = v57;
  v59 = v149;
  v60 = *(v149 + 24);
  *(v57 + 48) = v60;
  swift_unknownObjectRetain_n();
  swift_unknownObjectRelease();
  v61 = v157;
  if (v60)
  {
    swift_unknownObjectRelease();
  }

  else
  {
    if (qword_1ED730EA0 != -1)
    {
      swift_once();
    }

    v111 = sub_1AFDFDA08();
    if (qword_1ED731058 != -1)
    {
      v129 = v111;
      swift_once();
      v111 = v129;
    }

    v161[0] = 0;
    sub_1AF0D4F18(v111, v161, 0xD000000000000024, 0x80000001AFF45460);
    v59 = v149;
  }

  v112 = *(v59 + 16);

  if (v112)
  {
    v113 = *(v112 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
    v114 = *(v112 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
    v115 = v114;
  }

  else
  {
    v113 = 0;
    v114 = 0;
  }

  v116 = *(v58 + 64);
  *(v58 + 56) = v113;
  *(v58 + 64) = v114;

  v48 = v53;
  v51 = v155;
  v50 = v39;
LABEL_17:
  if ((*(*v58 + 376))(v62))
  {
    v64 = v50;
    LOWORD(v161[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v65 = sub_1AF45D418(v161);
    if (!v65)
    {

      sub_1AF81F330();
      swift_allocError();
      *v85 = 0;
      v85[1] = 0;
      swift_willThrow();

      goto LABEL_33;
    }

    v66 = v65;
    v67 = *(v65 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v66 + 32) = v67;
    v69 = v48;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v67 = sub_1AF420554(0, *(v67 + 2) + 1, 1, v67);
      *(v66 + 32) = v67;
    }

    v71 = *(v67 + 2);
    v70 = *(v67 + 3);
    if (v71 >= v70 >> 1)
    {
      v67 = sub_1AF420554(v70 > 1, v71 + 1, 1, v67);
    }

    *(v67 + 2) = v71 + 1;
    v72 = &v67[16 * v71];
    *(v72 + 4) = 5785174;
    *(v72 + 5) = 0xE300000000000000;
    *(v66 + 32) = v67;
    if (v150)
    {
      *(v66 + 26) = v147 & 1;

      sub_1AF48FAF8(v73);

      sub_1AF48FAF8(v74);
    }

    *(v58 + 120) = v66;

    v48 = v69;
    v61 = v157;
    v51 = v155;
    v50 = v64;
  }

  v75 = v154;
  v76 = (*(*v58 + 480))(v141, v48);
  if (!v75)
  {
    v84 = v77;
    v134 = v78;
    v135 = v76;
    v147 = v79;
    (*(*v58 + 464))();
    v131 = v84;
    v130[1] = 0;
    v132 = v48;
    v133 = sub_1AFABA41C();
    v86 = *(v133 + 2);
    if (!v86)
    {
      v154 = MEMORY[0x1E69E7CC0];
      v148 = MEMORY[0x1E69E7CC0];
LABEL_74:

      v117 = v145;
      v118 = v139;
      *v145 = v140;
      v117[1] = v118;
      v119 = v146;
      v120 = v131;
      *v146 = v135;
      v119[1] = v120;
      v121 = v147;
      v119[2] = v134;
      v119[3] = v121;
      v122 = v132;
      v119[4] = v141;
      v119[5] = v122;
      v123 = v148;
      v119[6] = v58;
      v119[7] = v123;
      v119[8] = v154;
      return;
    }

    v87 = v52;
    v88 = (v133 + 48);
    v154 = MEMORY[0x1E69E7CC0];
    v148 = MEMORY[0x1E69E7CC0];
    v136 = v58;
    v137 = v49;
    while (1)
    {
      v150 = v86;
      v91 = *(v88 - 2);
      v92 = *(v88 - 1);
      LODWORD(v149) = *v88;
      sub_1AFA9C3FC(v50 + v152, v87, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
      v93 = v153;
      v94 = v151;
      if (v151(v87, 1, v153) == 1)
      {
        v95 = v138;
        *v51 = v61;
        v51[1] = v95;
        swift_storeEnumTagMultiPayload();
        v96 = v94(v87, 1, v93);

        if (v96 != 1)
        {
          sub_1AFA9C470(v87, qword_1ED730680, type metadata accessor for ScriptIndex);
        }
      }

      else
      {
        sub_1AFA9E320(v87, v51, type metadata accessor for ScriptIndex);
      }

      v142(v51, 0, 1, v153);
      v97 = sub_1AFAF8B58(v91, v92, 0, 0xE000000000000000, v61, 0x726564616873uLL, 0xE600000000000000, v51);
      v99 = v98;
      sub_1AFA9C470(v51, qword_1ED730680, type metadata accessor for ScriptIndex);
      v100 = v137;
      if (v137 == 2)
      {
        break;
      }

      v101 = sub_1AFDFEE28();

      if (v101)
      {
        goto LABEL_49;
      }

      v50 = v158;
      v87 = v156;
      if (v100 >= 4)
      {

LABEL_50:
        v58 = v136;
LABEL_51:
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          v154 = sub_1AF4246B0(0, *(v154 + 2) + 1, 1, v154);
        }

        v103 = *(v154 + 2);
        v102 = *(v154 + 3);
        if (v103 >= v102 >> 1)
        {
          v154 = sub_1AF4246B0(v102 > 1, v103 + 1, 1, v154);
        }

        v89 = v154;
        *(v154 + 2) = v103 + 1;
        v90 = &v89[24 * v103];
        *(v90 + 4) = v97;
        *(v90 + 5) = v99;
        v90[48] = v149;
        goto LABEL_39;
      }

      v104 = sub_1AFDFEE28();

      v50 = v158;
      v87 = v156;
      v58 = v136;
      if (v104)
      {
        goto LABEL_51;
      }

      v105 = *(v136 + 80);
      if (!v105)
      {
        v124 = 0xD000000000000017;
        v125 = 0x80000001AFF45490;
        v126 = 4;
        goto LABEL_77;
      }

      v106 = sub_1AFDFCFB8();
      v107 = dlsym(v105, (v106 + 32));

      if (!v107)
      {
        dlerror();
        v124 = sub_1AFDFD0E8();
        v125 = v127;
        v126 = 6;
LABEL_77:
        sub_1AF4563A0();
        swift_allocError();
        *v128 = v124;
        *(v128 + 8) = v125;
        *(v128 + 16) = 0;
        *(v128 + 24) = 0;
        *(v128 + 32) = v126;
        swift_willThrow();

LABEL_33:

        return;
      }

      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        v148 = sub_1AF42469C(0, *(v148 + 2) + 1, 1, v148);
      }

      v109 = *(v148 + 2);
      v108 = *(v148 + 3);
      if (v109 >= v108 >> 1)
      {
        v148 = sub_1AF42469C(v108 > 1, v109 + 1, 1, v148);
      }

      v110 = v148;
      *(v148 + 2) = v109 + 1;
      *&v110[8 * v109 + 32] = v107;
LABEL_39:
      v88 += 24;
      v86 = v150 - 1;
      v61 = v157;
      v51 = v155;
      if (v150 == 1)
      {
        goto LABEL_74;
      }
    }

LABEL_49:

    v50 = v158;
    v87 = v156;
    goto LABEL_50;
  }

  v161[0] = v75;
  v80 = v75;
  sub_1AF5C5358(0, &qword_1ED7268D0);
  type metadata accessor for MTLLibraryError(0);
  if (swift_dynamicCast())
  {
    v81 = v162;
    v160 = v162;
    sub_1AFA9C4F8();
    sub_1AFDFBF18();
    if (v159 == 3)
    {

      sub_1AF4563A0();
      swift_allocError();
      v82 = v141;
      *v83 = v81;
      *(v83 + 8) = v82;
      *(v83 + 16) = v48;
      *(v83 + 24) = 0;
      *(v83 + 32) = 2;
      swift_willThrow();

      return;
    }
  }

  else
  {
  }
}

void sub_1AFA67994(uint64_t a1@<X1>, uint64_t a2@<X2>, void (*a3)(_DWORD *, void, uint64_t, uint64_t)@<X3>, unint64_t a4@<X4>, uint64_t a5@<X5>, uint64_t a6@<X6>, uint64_t a7@<X7>, uint64_t *a8@<X8>, uint64_t a9)
{
  v144 = a7;
  v147 = a6;
  v143 = a5;
  v149 = a3;
  v150 = a4;
  v145 = a1;
  v137 = a8;
  v10 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v11 - 8, v12);
  v141 = &v132 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v14, v15);
  v139 = (&v132 - v16);
  MEMORY[0x1EEE9AC00](v17, v18);
  v20 = &v132 - v19;
  MEMORY[0x1EEE9AC00](v21, v22);
  v24 = (&v132 - v23);
  v146 = type metadata accessor for MetalFunctionScript(0);
  v25 = v146[6];
  v152 = a2;
  v138 = v25;
  sub_1AFA9C3FC(a2 + v25, v20, qword_1ED730680, type metadata accessor for ScriptIndex, v10, sub_1AF0D0FCC);
  v26 = type metadata accessor for ScriptIndex();
  v27 = *(v26 - 8);
  v28 = *(v27 + 48);
  v29 = v28(v20, 1, v26);
  v148 = a9;
  v140 = v27 + 48;
  v142 = v28;
  if (v29 == 1)
  {
    *v24 = a9;
    swift_storeEnumTagMultiPayload();
    v30 = v26;
    if (v28(v20, 1, v26) != 1)
    {
      sub_1AFA9C470(v20, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    v30 = v26;
    sub_1AFA9E320(v20, v24, type metadata accessor for ScriptIndex);
  }

  v33 = *(v27 + 56);
  v32 = v27 + 56;
  v31 = v33;
  v34 = v30;
  v33(v24, 0, 1, v30);
  v35 = v151;
  v36 = sub_1AFAA98BC(v149, v150, v157);
  if (v35)
  {
    sub_1AFA9C470(v24, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v149 = v31;
  v150 = v32;
  v38 = v157[0];
  v39 = v157[1];
  v40 = v157[2];
  MEMORY[0x1EEE9AC00](v36, v37);
  *(&v132 - 6) = 0;
  *(&v132 - 5) = 0xE000000000000000;
  v41 = v148;
  *(&v132 - 8) = v148;
  *(&v132 - 7) = v42;
  v135 = v42;
  *(&v132 - 3) = 0x6C656E72656BLL;
  *(&v132 - 2) = 0xE600000000000000;
  *(&v132 - 1) = v24;
  sub_1AFBFBEF0(sub_1AFA9EB54, (&v132 - 8), v38);
  v151 = 0;

  v43 = sub_1AFAF8B58(v39, v40, 0, 0xE000000000000000, v41, 0x6C656E72656BuLL, 0xE600000000000000, v24);
  v45 = v44;
  v46 = v152;

  sub_1AFA9C470(v24, qword_1ED730680, type metadata accessor for ScriptIndex);
  v47 = *(v46 + 16);
  v136 = v47;
  if (v47 > 2)
  {
    if (v47 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
    goto LABEL_16;
  }

  if (v47 < 2)
  {
    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v47;
LABEL_16:
    v55.n128_f64[0] = sub_1AF45207C();
    v52 = v56;
    goto LABEL_17;
  }

  type metadata accessor for MetalAPICodeLoader();
  v48 = swift_allocObject();
  v49 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
  v50 = sub_1AFDFC128();
  (*(*(v50 - 8) + 56))(v48 + v49, 1, 1, v50);
  sub_1AF45207C();
  v52 = v51;
  v53 = v145;
  v54 = *(v145 + 24);
  *(v51 + 48) = v54;
  swift_unknownObjectRetain_n();
  swift_unknownObjectRelease();
  if (v54)
  {
    swift_unknownObjectRelease();
  }

  else
  {
    if (qword_1ED730EA0 != -1)
    {
      swift_once();
    }

    v82 = sub_1AFDFDA08();
    if (qword_1ED731058 != -1)
    {
      v131 = v82;
      swift_once();
      v82 = v131;
    }

    v157[0] = 0;
    sub_1AF0D4F18(v82, v157, 0xD000000000000024, 0x80000001AFF45460);
  }

  v83 = *(v53 + 16);

  if (v83)
  {
    v84 = *(v83 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
    v85 = *(v83 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
    v86 = v85;
  }

  else
  {
    v84 = 0;
    v85 = 0;
  }

  v87 = *(v52 + 64);
  *(v52 + 56) = v84;
  *(v52 + 64) = v85;

LABEL_17:
  if ((*(*v52 + 376))(v55))
  {
    LOWORD(v157[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v57 = sub_1AF45D418(v157);
    if (!v57)
    {

      sub_1AF81F330();
      swift_allocError();
      *v77 = 0;
      v77[1] = 0;
      swift_willThrow();

      return;
    }

    v58 = v57;
    v59 = *(v57 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v58 + 32) = v59;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v59 = sub_1AF420554(0, *(v59 + 2) + 1, 1, v59);
      *(v58 + 32) = v59;
    }

    v62 = *(v59 + 2);
    v61 = *(v59 + 3);
    if (v62 >= v61 >> 1)
    {
      v59 = sub_1AF420554(v61 > 1, v62 + 1, 1, v59);
    }

    *(v59 + 2) = v62 + 1;
    v63 = &v59[16 * v62];
    *(v63 + 4) = 5785174;
    *(v63 + 5) = 0xE300000000000000;
    *(v58 + 32) = v59;
    if (v147)
    {
      *(v58 + 26) = v143 & 1;

      sub_1AF48FAF8(v64);

      sub_1AF48FAF8(v65);
    }

    *(v52 + 120) = v58;

    v46 = v152;
  }

  v66 = v151;
  v67 = (*(*v52 + 480))(v43, v45);
  if (v66)
  {
    v157[0] = v66;
    v71 = v66;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v72 = v158;
      v156 = v158;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v155 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        *v73 = v72;
        *(v73 + 8) = v43;
        *(v73 + 16) = v45;
        *(v73 + 24) = 0;
        *(v73 + 32) = 2;
        swift_willThrow();

LABEL_35:

        return;
      }
    }

    else
    {
    }

    goto LABEL_35;
  }

  v74 = v68;
  v75 = v70;
  v151 = v69;
  v76 = v67;
  (*(*v52 + 464))();
  v144 = v76;
  v145 = v74;
  v78 = *(v46 + v146[8]);
  v79 = v78[2];
  v134 = v45;
  v133 = v43;
  if (v79)
  {
    v81 = v78[4];
    v80 = v78[5];
  }

  else
  {
    v81 = 0;
    v80 = 0;
  }

  v147 = v75;
  v88 = sub_1AFB08DA4(v81, v80, 0, 0xE000000000000000, 1, 1);
  v90 = v89;

  v91 = v146[9];
  v92 = v152;
  v93 = *(v152 + v91);
  v94 = sub_1AFB12464(v88, v90, *(v152 + v91));
  v96 = v95;

  v146 = v94;
  v153[0] = v94;
  v153[1] = v96;
  LODWORD(v143) = v93;
  v154 = v93;
  v97 = v141;
  sub_1AFA9C3FC(v92 + v138, v141, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
  if (v142(v97, 1, v34) == 1)
  {
    v98 = v148;
    v99 = v139;
    v100 = v135;
    *v139 = v148;
    v99[1] = v100;
    swift_storeEnumTagMultiPayload();
    v101 = v142(v97, 1, v34);

    if (v101 != 1)
    {
      sub_1AFA9C470(v97, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    v99 = v139;
    sub_1AFA9E320(v97, v139, type metadata accessor for ScriptIndex);

    v98 = v148;
  }

  v149(v99, 0, 1, v34);
  v102 = sub_1AFAF8B58(v146, v96, 0, 0xE000000000000000, v98, 0x6C656E72656BuLL, 0xE600000000000000, v99);
  v152 = v103;
  sub_1AFA9C470(v99, qword_1ED730680, type metadata accessor for ScriptIndex);
  v104 = v136;
  if (v136 <= 1)
  {
    v106 = v102;
  }

  else
  {
    v105 = v147;
    v106 = v102;
    if (v136 == 2)
    {

      goto LABEL_59;
    }
  }

  v107 = sub_1AFDFEE28();

  if (v107)
  {

    v105 = v147;
LABEL_59:
    v108 = MEMORY[0x1E69E7CC0];
    v109 = swift_isUniquelyReferenced_nonNull_native();
    v110 = v134;
    if ((v109 & 1) == 0)
    {
      v108 = sub_1AF4246B0(0, *(v108 + 2) + 1, 1, v108);
    }

    v112 = *(v108 + 2);
    v111 = *(v108 + 3);
    v113 = v112 + 1;
    if (v112 < v111 >> 1)
    {
      goto LABEL_62;
    }

    goto LABEL_70;
  }

  if (v104 >= 4)
  {

    v110 = v134;
    goto LABEL_67;
  }

  v120 = sub_1AFDFEE28();

  v110 = v134;
  if (v120)
  {
LABEL_67:
    v108 = MEMORY[0x1E69E7CC0];
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v108 = sub_1AF4246B0(0, *(v108 + 2) + 1, 1, v108);
    }

    v112 = *(v108 + 2);
    v111 = *(v108 + 3);
    v113 = v112 + 1;
    v105 = v147;
    if (v112 < v111 >> 1)
    {
      goto LABEL_62;
    }

LABEL_70:
    v108 = sub_1AF4246B0(v111 > 1, v113, 1, v108);
LABEL_62:
    v114 = v143;
    *(v108 + 2) = v113;
    v115 = &v108[24 * v112];
    v116 = v152;
    *(v115 + 4) = v106;
    *(v115 + 5) = v116;
    v115[48] = v114;
    v117 = MEMORY[0x1E69E7CC0];
LABEL_63:
    sub_1AFA9D650(v153);
    v118 = v137;
    v119 = v145;
    *v137 = v144;
    v118[1] = v119;
    v118[2] = v151;
    v118[3] = v105;
    v118[4] = v133;
    v118[5] = v110;
    v118[6] = v52;
    v118[7] = v117;
    v118[8] = v108;
    return;
  }

  v121 = *(v52 + 80);
  if (v121)
  {
    v122 = sub_1AFDFCFB8();
    v123 = dlsym(v121, (v122 + 32));

    if (v123)
    {

      v117 = MEMORY[0x1E69E7CC0];
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        v117 = sub_1AF42469C(0, *(v117 + 2) + 1, 1, v117);
      }

      v125 = *(v117 + 2);
      v124 = *(v117 + 3);
      if (v125 >= v124 >> 1)
      {
        v117 = sub_1AF42469C(v124 > 1, v125 + 1, 1, v117);
      }

      *(v117 + 2) = v125 + 1;
      *&v117[8 * v125 + 32] = v123;
      v108 = MEMORY[0x1E69E7CC0];
      v105 = v147;
      goto LABEL_63;
    }

    dlerror();
    v126 = sub_1AFDFD0E8();
    v127 = v129;
    v128 = 6;
  }

  else
  {
    v126 = 0xD000000000000017;
    v127 = 0x80000001AFF45490;
    v128 = 4;
  }

  sub_1AF4563A0();
  swift_allocError();
  *v130 = v126;
  *(v130 + 8) = v127;
  *(v130 + 16) = 0;
  *(v130 + 24) = 0;
  *(v130 + 32) = v128;
  swift_willThrow();

  sub_1AFA9D650(v153);
  swift_bridgeObjectRelease_n();
}

void sub_1AFA68950(void *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, char *a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t *a9@<X8>, unint64_t a10)
{
  v151 = a8;
  v154 = a7;
  v150 = a6;
  v158 = a5;
  v153 = a2;
  v148 = a1;
  v149 = a9;
  v12 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v13 - 8, v14);
  v160 = &v134 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v16, v17);
  v161 = &v134 - v18;
  MEMORY[0x1EEE9AC00](v19, v20);
  v22 = &v134 - v21;
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = (&v134 - v25);
  v27 = *(type metadata accessor for SimpleScript(0) + 40);
  v163 = a3;
  v156 = v27;
  sub_1AFA9C3FC(a3 + v27, v22, qword_1ED730680, type metadata accessor for ScriptIndex, v12, sub_1AF0D0FCC);
  v28 = type metadata accessor for ScriptIndex();
  v29 = *(v28 - 8);
  v30 = v29 + 48;
  v31 = *(v29 + 48);
  v32 = v31(v22, 1, v28);
  v162 = a10;
  v157 = HIDWORD(a10);
  if (v32 == 1)
  {
    *v26 = a10;
    swift_storeEnumTagMultiPayload();
    if (v31(v22, 1, v28) != 1)
    {
      sub_1AFA9C470(v22, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v22, v26, type metadata accessor for ScriptIndex);
  }

  v35 = *(v29 + 56);
  v33 = v29 + 56;
  v34 = v35;
  v35(v26, 0, 1, v28);
  v36 = v159;
  v37 = v163;
  v38 = sub_1AFAA86E4(a4, v158, v166);
  if (v36)
  {
    sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v155 = v28;
  v144 = v34;
  v145 = v31;
  v146 = v30;
  v147 = v33;
  v41 = v166[0];
  v40 = v166[1];
  v42 = v166[2];
  v141 = v166[5];
  v142 = v166[6];
  MEMORY[0x1EEE9AC00](v38, v39);
  *(&v134 - 6) = 0;
  *(&v134 - 5) = 0xE000000000000000;
  v43 = v162;
  v44 = v157;
  *(&v134 - 8) = v162;
  *(&v134 - 7) = v44;
  *(&v134 - 3) = 0x656C706D6973;
  *(&v134 - 2) = 0xE600000000000000;
  *(&v134 - 1) = v26;
  sub_1AFBFBEF0(sub_1AFA9EB54, (&v134 - 8), v41);
  v159 = 0;

  v143 = sub_1AFAF8B58(v40, v42, 0, 0xE000000000000000, v43, 0x656C706D6973uLL, 0xE600000000000000, v26);
  v46 = v45;

  sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
  v47 = *(v37 + 32);
  v152 = v47;
  if (v47 > 2)
  {
    v49 = v160;
    v48 = v161;
    if (v47 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
  }

  else
  {
    v49 = v160;
    v48 = v161;
    if (v47 >= 2)
    {
      v50 = v46;
      type metadata accessor for MetalAPICodeLoader();
      v51 = swift_allocObject();
      v52 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
      v53 = sub_1AFDFC128();
      (*(*(v53 - 8) + 56))(v51 + v52, 1, 1, v53);
      sub_1AF45207C();
      v55 = v54;
      v56 = v153;
      v57 = *(v153 + 24);
      *(v54 + 48) = v57;
      swift_unknownObjectRetain_n();
      swift_unknownObjectRelease();
      v58 = v162;
      v59 = v155;
      if (v57)
      {
        swift_unknownObjectRelease();
      }

      else
      {
        if (qword_1ED730EA0 != -1)
        {
          swift_once();
        }

        v85 = sub_1AFDFDA08();
        if (qword_1ED731058 != -1)
        {
          v133 = v85;
          swift_once();
          v85 = v133;
        }

        v166[0] = 0;
        sub_1AF0D4F18(v85, v166, 0xD000000000000024, 0x80000001AFF45460);
      }

      v86 = *(v56 + 16);

      if (v86)
      {
        v87 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
        v88 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
        v89 = v88;
      }

      else
      {
        v87 = 0;
        v88 = 0;
      }

      v90 = *(v55 + 64);
      *(v55 + 56) = v87;
      *(v55 + 64) = v88;

      v46 = v50;
      v48 = v161;
      goto LABEL_17;
    }

    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v47;
  }

  v60.n128_f64[0] = sub_1AF45207C();
  v55 = v61;
  v58 = v162;
  v59 = v155;
LABEL_17:
  if ((*(*v55 + 376))(v60))
  {
    LOWORD(v166[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v62 = sub_1AF45D418(v166);
    if (!v62)
    {

      sub_1AF81F330();
      swift_allocError();
      *v82 = 0;
      v82[1] = 0;
      swift_willThrow();

      goto LABEL_33;
    }

    v63 = v62;
    v64 = *(v62 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v63 + 32) = v64;
    v66 = v46;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v64 = sub_1AF420554(0, *(v64 + 2) + 1, 1, v64);
      *(v63 + 32) = v64;
    }

    v68 = *(v64 + 2);
    v67 = *(v64 + 3);
    if (v68 >= v67 >> 1)
    {
      v64 = sub_1AF420554(v67 > 1, v68 + 1, 1, v64);
    }

    *(v64 + 2) = v68 + 1;
    v69 = &v64[16 * v68];
    *(v69 + 4) = 5785174;
    *(v69 + 5) = 0xE300000000000000;
    *(v63 + 32) = v64;
    if (v154)
    {
      *(v63 + 26) = v150 & 1;

      sub_1AF48FAF8(v70);

      sub_1AF48FAF8(v71);
    }

    *(v55 + 120) = v63;

    v48 = v161;
    v58 = v162;
    v46 = v66;
    v49 = v160;
  }

  v72 = v159;
  v73 = (*(*v55 + 480))(v143, v46);
  if (v72)
  {
    v166[0] = v72;
    v77 = v72;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v78 = v167;
      v165 = v167;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v164 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        v79 = v143;
        *v80 = v78;
        *(v80 + 8) = v79;
        *(v80 + 16) = v46;
        *(v80 + 24) = 0;
        *(v80 + 32) = 2;
        swift_willThrow();

LABEL_36:

        return;
      }
    }

    else
    {
    }

    goto LABEL_36;
  }

  v81 = v74;
  v140 = v76;
  v138 = v75;
  v137 = v73;
  (*(*v55 + 464))();
  v136 = v46;
  if (v152 == 2)
  {
    sub_1AFA9D6A4(0, &qword_1ED721EB8, &type metadata for ScriptFunction, MEMORY[0x1E69E6F90]);
    v83 = swift_allocObject();
    *(v83 + 16) = xmmword_1AFE431C0;
    *(v83 + 32) = sub_1AFB12464(0, 0, 0);
    *(v83 + 40) = v84;
    v139 = v83;
    *(v83 + 48) = 0;
  }

  else
  {
    v139 = &unk_1F25070A8;
  }

  v135 = v81;
  v91 = *(v139 + 2);
  if (!v91)
  {
    v159 = MEMORY[0x1E69E7CC0];
    v150 = MEMORY[0x1E69E7CC0];
LABEL_77:

    v121 = v148;
    v122 = v142;
    *v148 = v141;
    v121[1] = v122;
    v123 = v149;
    v124 = v135;
    *v149 = v137;
    v123[1] = v124;
    v125 = v140;
    v123[2] = v138;
    v123[3] = v125;
    v126 = v136;
    v123[4] = v143;
    v123[5] = v126;
    v127 = v150;
    v123[6] = v55;
    v123[7] = v127;
    v123[8] = v159;
    return;
  }

  v92 = (v139 + 48);
  v159 = MEMORY[0x1E69E7CC0];
  v150 = MEMORY[0x1E69E7CC0];
  v153 = v55;
  v151 = 0;
  while (1)
  {
    v158 = v91;
    v95 = *(v92 - 2);
    v96 = *(v92 - 1);
    LODWORD(v154) = *v92;
    sub_1AFA9C3FC(v163 + v156, v49, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
    v97 = v49;
    v98 = v59;
    v99 = v49;
    v100 = v59;
    v101 = v145;
    if (v145(v97, 1, v98) == 1)
    {
      v102 = v157;
      *v48 = v58;
      v48[1] = v102;
      swift_storeEnumTagMultiPayload();
      v103 = v101(v99, 1, v100);

      if (v103 != 1)
      {
        sub_1AFA9C470(v99, qword_1ED730680, type metadata accessor for ScriptIndex);
      }
    }

    else
    {
      sub_1AFA9E320(v99, v48, type metadata accessor for ScriptIndex);
    }

    v59 = v155;
    v144(v48, 0, 1, v155);
    v104 = sub_1AFAF8B58(v95, v96, 0, 0xE000000000000000, v58, 0x656C706D6973uLL, 0xE600000000000000, v48);
    v105 = v48;
    v106 = v104;
    v108 = v107;
    sub_1AFA9C470(v105, qword_1ED730680, type metadata accessor for ScriptIndex);
    v109 = v152;
    if (v152 == 2)
    {
      goto LABEL_62;
    }

    v110 = sub_1AFDFEE28();

    if ((v110 & 1) == 0)
    {
      break;
    }

LABEL_65:
    v112 = swift_isUniquelyReferenced_nonNull_native();
    v55 = v153;
    if ((v112 & 1) == 0)
    {
      v159 = sub_1AF4246B0(0, *(v159 + 2) + 1, 1, v159);
    }

    v114 = *(v159 + 2);
    v113 = *(v159 + 3);
    if (v114 >= v113 >> 1)
    {
      v159 = sub_1AF4246B0(v113 > 1, v114 + 1, 1, v159);
    }

    v93 = v159;
    *(v159 + 2) = v114 + 1;
    v94 = &v93[24 * v114];
    *(v94 + 4) = v106;
    *(v94 + 5) = v108;
    v94[48] = v154;
    v49 = v160;
LABEL_52:
    v92 += 24;
    v91 = v158 - 1;
    v48 = v161;
    v58 = v162;
    if (v158 == 1)
    {
      goto LABEL_77;
    }
  }

  if (v109 >= 4)
  {
LABEL_62:

    goto LABEL_65;
  }

  v111 = sub_1AFDFEE28();

  if (v111)
  {
    goto LABEL_65;
  }

  v55 = v153;
  v115 = *(v153 + 80);
  if (!v115)
  {
    v128 = 0xD000000000000017;
    v129 = 0x80000001AFF45490;
    v130 = 4;
    goto LABEL_80;
  }

  v116 = sub_1AFDFCFB8();
  v117 = dlsym(v115, (v116 + 32));

  if (v117)
  {

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v150 = sub_1AF42469C(0, *(v150 + 2) + 1, 1, v150);
    }

    v49 = v160;
    v119 = *(v150 + 2);
    v118 = *(v150 + 3);
    if (v119 >= v118 >> 1)
    {
      v150 = sub_1AF42469C(v118 > 1, v119 + 1, 1, v150);
    }

    v120 = v150;
    *(v150 + 2) = v119 + 1;
    *&v120[8 * v119 + 32] = v117;
    goto LABEL_52;
  }

  dlerror();
  v128 = sub_1AFDFD0E8();
  v129 = v131;
  v130 = 6;
LABEL_80:
  sub_1AF4563A0();
  swift_allocError();
  *v132 = v128;
  *(v132 + 8) = v129;
  *(v132 + 16) = 0;
  *(v132 + 24) = 0;
  *(v132 + 32) = v130;
  swift_willThrow();

LABEL_33:
}

void sub_1AFA699C0(void *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, char *a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t *a9@<X8>, unint64_t a10)
{
  v147 = a8;
  v150 = a7;
  v146 = a6;
  v154 = a5;
  v149 = a2;
  v144 = a1;
  v145 = a9;
  v12 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v13 - 8, v14);
  v157 = &v130 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v16, v17);
  v156 = &v130 - v18;
  MEMORY[0x1EEE9AC00](v19, v20);
  v22 = &v130 - v21;
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = (&v130 - v25);
  v27 = *(type metadata accessor for GraphScript(0) + 44);
  v159 = a3;
  v152 = v27;
  sub_1AFA9C3FC(a3 + v27, v22, qword_1ED730680, type metadata accessor for ScriptIndex, v12, sub_1AF0D0FCC);
  v28 = type metadata accessor for ScriptIndex();
  v29 = *(v28 - 8);
  v30 = v29 + 48;
  v31 = *(v29 + 48);
  v32 = v31(v22, 1, v28);
  v158 = a10;
  v153 = HIDWORD(a10);
  if (v32 == 1)
  {
    *v26 = a10;
    swift_storeEnumTagMultiPayload();
    if (v31(v22, 1, v28) != 1)
    {
      sub_1AFA9C470(v22, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v22, v26, type metadata accessor for ScriptIndex);
  }

  v35 = *(v29 + 56);
  v33 = v29 + 56;
  v34 = v35;
  v35(v26, 0, 1, v28);
  v36 = v155;
  v37 = v159;
  v38 = sub_1AFAA650C(a4, v154, v162);
  if (v36)
  {
    sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v151 = v28;
  v140 = v34;
  v141 = v31;
  v142 = v30;
  v143 = v33;
  v41 = v162[0];
  v40 = v162[1];
  v42 = v162[2];
  v137 = v162[5];
  v138 = v162[6];
  MEMORY[0x1EEE9AC00](v38, v39);
  *(&v130 - 6) = 0;
  *(&v130 - 5) = 0xE000000000000000;
  v43 = v158;
  v44 = v153;
  *(&v130 - 8) = v158;
  *(&v130 - 7) = v44;
  *(&v130 - 3) = 0x6870617267;
  *(&v130 - 2) = 0xE500000000000000;
  *(&v130 - 1) = v26;
  sub_1AFBFBEF0(sub_1AFA9EB54, (&v130 - 8), v41);
  v155 = 0;

  v139 = sub_1AFAF8B58(v40, v42, 0, 0xE000000000000000, v43, 0x6870617267uLL, 0xE500000000000000, v26);
  v46 = v45;

  sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
  v47 = *(v37 + 24);
  v148 = v47;
  if (v47 > 2)
  {
    v49 = v156;
    v48 = v157;
    if (v47 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
  }

  else
  {
    v49 = v156;
    v48 = v157;
    if (v47 >= 2)
    {
      v50 = v46;
      type metadata accessor for MetalAPICodeLoader();
      v51 = swift_allocObject();
      v52 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
      v53 = sub_1AFDFC128();
      (*(*(v53 - 8) + 56))(v51 + v52, 1, 1, v53);
      sub_1AF45207C();
      v55 = v54;
      v56 = v149;
      v57 = *(v149 + 24);
      *(v54 + 48) = v57;
      swift_unknownObjectRetain_n();
      swift_unknownObjectRelease();
      v58 = v158;
      v59 = v151;
      if (v57)
      {
        swift_unknownObjectRelease();
      }

      else
      {
        if (qword_1ED730EA0 != -1)
        {
          swift_once();
        }

        v85 = sub_1AFDFDA08();
        if (qword_1ED731058 != -1)
        {
          v129 = v85;
          swift_once();
          v85 = v129;
        }

        v162[0] = 0;
        sub_1AF0D4F18(v85, v162, 0xD000000000000024, 0x80000001AFF45460);
      }

      v86 = *(v56 + 16);

      if (v86)
      {
        v87 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
        v88 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
        v89 = v88;
      }

      else
      {
        v87 = 0;
        v88 = 0;
      }

      v90 = *(v55 + 64);
      *(v55 + 56) = v87;
      *(v55 + 64) = v88;

      v46 = v50;
      v48 = v157;
      goto LABEL_17;
    }

    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v47;
  }

  v60.n128_f64[0] = sub_1AF45207C();
  v55 = v61;
  v58 = v158;
  v59 = v151;
LABEL_17:
  if ((*(*v55 + 376))(v60))
  {
    LOWORD(v162[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v62 = sub_1AF45D418(v162);
    if (!v62)
    {

      sub_1AF81F330();
      swift_allocError();
      *v82 = 0;
      v82[1] = 0;
      swift_willThrow();

      goto LABEL_33;
    }

    v63 = v62;
    v64 = *(v62 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v63 + 32) = v64;
    v66 = v46;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v64 = sub_1AF420554(0, *(v64 + 2) + 1, 1, v64);
      *(v63 + 32) = v64;
    }

    v68 = *(v64 + 2);
    v67 = *(v64 + 3);
    if (v68 >= v67 >> 1)
    {
      v64 = sub_1AF420554(v67 > 1, v68 + 1, 1, v64);
    }

    *(v64 + 2) = v68 + 1;
    v69 = &v64[16 * v68];
    *(v69 + 4) = 5785174;
    *(v69 + 5) = 0xE300000000000000;
    *(v63 + 32) = v64;
    if (v150)
    {
      *(v63 + 26) = v146 & 1;

      sub_1AF48FAF8(v70);

      sub_1AF48FAF8(v71);
    }

    *(v55 + 120) = v63;

    v48 = v157;
    v58 = v158;
    v46 = v66;
    v49 = v156;
  }

  v72 = v155;
  v73 = (*(*v55 + 480))(v139, v46);
  if (v72)
  {
    v162[0] = v72;
    v77 = v72;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v78 = v163;
      v161 = v163;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v160 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        v79 = v139;
        *v80 = v78;
        *(v80 + 8) = v79;
        *(v80 + 16) = v46;
        *(v80 + 24) = 0;
        *(v80 + 32) = 2;
        swift_willThrow();

LABEL_36:

        return;
      }
    }

    else
    {
    }

    goto LABEL_36;
  }

  v81 = v74;
  v136 = v76;
  v134 = v75;
  v133 = v73;
  (*(*v55 + 464))();
  v132 = v46;
  if (v148 == 2)
  {
    sub_1AFA9D6A4(0, &qword_1ED721EB8, &type metadata for ScriptFunction, MEMORY[0x1E69E6F90]);
    v83 = swift_allocObject();
    *(v83 + 16) = xmmword_1AFE431C0;
    *(v83 + 32) = sub_1AFB12464(0, 0, 0);
    *(v83 + 40) = v84;
    v135 = v83;
    *(v83 + 48) = 0;
  }

  else
  {
    v135 = &unk_1F25070E0;
  }

  v131 = v81;
  v91 = *(v135 + 2);
  if (!v91)
  {
    v92 = MEMORY[0x1E69E7CC0];
    v146 = MEMORY[0x1E69E7CC0];
LABEL_75:

    v117 = v144;
    v118 = v138;
    *v144 = v137;
    v117[1] = v118;
    v119 = v145;
    v120 = v131;
    *v145 = v133;
    v119[1] = v120;
    v121 = v136;
    v119[2] = v134;
    v119[3] = v121;
    v122 = v132;
    v119[4] = v139;
    v119[5] = v122;
    v123 = v146;
    v119[6] = v55;
    v119[7] = v123;
    v119[8] = v92;
    return;
  }

  v92 = MEMORY[0x1E69E7CC0];
  v93 = (v135 + 48);
  v146 = MEMORY[0x1E69E7CC0];
  v149 = v55;
  v147 = 0;
  while (1)
  {
    v154 = v91;
    v155 = v92;
    v95 = *(v93 - 2);
    v96 = *(v93 - 1);
    LODWORD(v150) = *v93;
    sub_1AFA9C3FC(v159 + v152, v48, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
    v97 = v59;
    v98 = v59;
    v99 = v141;
    if (v141(v48, 1, v97) == 1)
    {
      v100 = v153;
      *v49 = v58;
      v49[1] = v100;
      swift_storeEnumTagMultiPayload();
      v101 = v99(v48, 1, v98);

      if (v101 != 1)
      {
        sub_1AFA9C470(v48, qword_1ED730680, type metadata accessor for ScriptIndex);
      }
    }

    else
    {
      sub_1AFA9E320(v48, v49, type metadata accessor for ScriptIndex);
    }

    v59 = v151;
    v140(v49, 0, 1, v151);
    v102 = sub_1AFAF8B58(v95, v96, 0, 0xE000000000000000, v58, 0x6870617267uLL, 0xE500000000000000, v49);
    v104 = v103;
    sub_1AFA9C470(v49, qword_1ED730680, type metadata accessor for ScriptIndex);
    v105 = v148;
    if (v148 != 2)
    {
      v106 = sub_1AFDFEE28();

      if (v106)
      {
        goto LABEL_60;
      }

      if (v105 < 4)
      {
        break;
      }
    }

LABEL_60:

    v92 = v155;
LABEL_61:
    v107 = swift_isUniquelyReferenced_nonNull_native();
    v55 = v149;
    if ((v107 & 1) == 0)
    {
      v92 = sub_1AF4246B0(0, *(v92 + 2) + 1, 1, v92);
    }

    v109 = *(v92 + 2);
    v108 = *(v92 + 3);
    if (v109 >= v108 >> 1)
    {
      v92 = sub_1AF4246B0(v108 > 1, v109 + 1, 1, v92);
    }

    *(v92 + 2) = v109 + 1;
    v94 = &v92[24 * v109];
    *(v94 + 4) = v102;
    *(v94 + 5) = v104;
    v94[48] = v150;
    v49 = v156;
LABEL_52:
    v93 += 24;
    v91 = v154 - 1;
    v48 = v157;
    v58 = v158;
    if (v154 == 1)
    {
      goto LABEL_75;
    }
  }

  v92 = v155;
  v110 = sub_1AFDFEE28();

  if (v110)
  {
    goto LABEL_61;
  }

  v55 = v149;
  v111 = *(v149 + 80);
  if (!v111)
  {
    v124 = 0xD000000000000017;
    v125 = 0x80000001AFF45490;
    v126 = 4;
    goto LABEL_78;
  }

  v112 = sub_1AFDFCFB8();
  v113 = dlsym(v111, (v112 + 32));

  if (v113)
  {

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v146 = sub_1AF42469C(0, *(v146 + 2) + 1, 1, v146);
    }

    v49 = v156;
    v115 = *(v146 + 2);
    v114 = *(v146 + 3);
    if (v115 >= v114 >> 1)
    {
      v146 = sub_1AF42469C(v114 > 1, v115 + 1, 1, v146);
    }

    v116 = v146;
    *(v146 + 2) = v115 + 1;
    *&v116[8 * v115 + 32] = v113;
    goto LABEL_52;
  }

  dlerror();
  v124 = sub_1AFDFD0E8();
  v125 = v127;
  v126 = 6;
LABEL_78:
  sub_1AF4563A0();
  swift_allocError();
  *v128 = v124;
  *(v128 + 8) = v125;
  *(v128 + 16) = 0;
  *(v128 + 24) = 0;
  *(v128 + 32) = v126;
  swift_willThrow();

LABEL_33:
}

void sub_1AFA6AA14(void *a1@<X0>, uint64_t a2@<X1>, unsigned __int8 *a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, char *a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t *a9@<X8>, unint64_t a10)
{
  v147 = a8;
  v150 = a7;
  v146 = a6;
  v154 = a5;
  v149 = a2;
  v144 = a1;
  v145 = a9;
  v12 = MEMORY[0x1E69E6720];
  sub_1AF0D0FCC(0, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v13 - 8, v14);
  v157 = &v130 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v16, v17);
  v156 = &v130 - v18;
  MEMORY[0x1EEE9AC00](v19, v20);
  v22 = &v130 - v21;
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = (&v130 - v25);
  v27 = *(type metadata accessor for EmitterScript(0) + 32);
  v159 = a3;
  v152 = v27;
  sub_1AFA9C3FC(&a3[v27], v22, qword_1ED730680, type metadata accessor for ScriptIndex, v12, sub_1AF0D0FCC);
  v28 = type metadata accessor for ScriptIndex();
  v29 = *(v28 - 8);
  v30 = v29 + 48;
  v31 = *(v29 + 48);
  v32 = v31(v22, 1, v28);
  v158 = a10;
  v153 = HIDWORD(a10);
  if (v32 == 1)
  {
    *v26 = a10;
    swift_storeEnumTagMultiPayload();
    if (v31(v22, 1, v28) != 1)
    {
      sub_1AFA9C470(v22, qword_1ED730680, type metadata accessor for ScriptIndex);
    }
  }

  else
  {
    sub_1AFA9E320(v22, v26, type metadata accessor for ScriptIndex);
  }

  v35 = *(v29 + 56);
  v33 = v29 + 56;
  v34 = v35;
  v35(v26, 0, 1, v28);
  v36 = v155;
  v37 = v159;
  v38 = sub_1AFAA7344(a4, v154, v162);
  if (v36)
  {
    sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
    return;
  }

  v151 = v28;
  v140 = v34;
  v141 = v31;
  v142 = v30;
  v143 = v33;
  v41 = v162[0];
  v40 = v162[1];
  v42 = v162[2];
  v137 = v162[5];
  v138 = v162[6];
  MEMORY[0x1EEE9AC00](v38, v39);
  *(&v130 - 6) = 0;
  *(&v130 - 5) = 0xE000000000000000;
  v43 = v158;
  v44 = v153;
  *(&v130 - 8) = v158;
  *(&v130 - 7) = v44;
  *(&v130 - 3) = 0x72657474696D65;
  *(&v130 - 2) = 0xE700000000000000;
  *(&v130 - 1) = v26;
  sub_1AFBFBEF0(sub_1AFA9EB54, (&v130 - 8), v41);
  v155 = 0;

  v139 = sub_1AFAF8B58(v40, v42, 0, 0xE000000000000000, v43, 0x72657474696D65uLL, 0xE700000000000000, v26);
  v46 = v45;

  sub_1AFA9C470(v26, qword_1ED730680, type metadata accessor for ScriptIndex);
  v47 = *v37;
  v148 = v47;
  if (v47 > 2)
  {
    v49 = v156;
    v48 = v157;
    if (v47 == 3)
    {
      type metadata accessor for SwiftCodeLoader();
    }

    else
    {
      type metadata accessor for JavaScriptCodeLoader();
    }

    swift_allocObject();
  }

  else
  {
    v49 = v156;
    v48 = v157;
    if (v47 >= 2)
    {
      v50 = v46;
      type metadata accessor for MetalAPICodeLoader();
      v51 = swift_allocObject();
      v52 = OBJC_IVAR____TtC3VFXP33_C4E2DBBBFC07D2822B3288C0270C06A818MetalAPICodeLoader_sourceURL;
      v53 = sub_1AFDFC128();
      (*(*(v53 - 8) + 56))(v51 + v52, 1, 1, v53);
      sub_1AF45207C();
      v55 = v54;
      v56 = v149;
      v57 = *(v149 + 24);
      *(v54 + 48) = v57;
      swift_unknownObjectRetain_n();
      swift_unknownObjectRelease();
      v58 = v158;
      v59 = v151;
      if (v57)
      {
        swift_unknownObjectRelease();
      }

      else
      {
        if (qword_1ED730EA0 != -1)
        {
          swift_once();
        }

        v85 = sub_1AFDFDA08();
        if (qword_1ED731058 != -1)
        {
          v129 = v85;
          swift_once();
          v85 = v129;
        }

        v162[0] = 0;
        sub_1AF0D4F18(v85, v162, 0xD000000000000024, 0x80000001AFF45460);
      }

      v86 = *(v56 + 16);

      if (v86)
      {
        v87 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_isInPrepare);
        v88 = *(v86 + OBJC_IVAR____TtC3VFX13EntityManager_shaderArchive);
        v89 = v88;
      }

      else
      {
        v87 = 0;
        v88 = 0;
      }

      v90 = *(v55 + 64);
      *(v55 + 56) = v87;
      *(v55 + 64) = v88;

      v46 = v50;
      v48 = v157;
      goto LABEL_17;
    }

    type metadata accessor for CCodeLoader();
    *(swift_allocObject() + 128) = v47;
  }

  v60.n128_f64[0] = sub_1AF45207C();
  v55 = v61;
  v58 = v158;
  v59 = v151;
LABEL_17:
  if ((*(*v55 + 376))(v60))
  {
    LOWORD(v162[0]) = 512;
    type metadata accessor for XcodeCommandBuilder();
    swift_allocObject();
    v62 = sub_1AF45D418(v162);
    if (!v62)
    {

      sub_1AF81F330();
      swift_allocError();
      *v82 = 0;
      v82[1] = 0;
      swift_willThrow();

      goto LABEL_33;
    }

    v63 = v62;
    v64 = *(v62 + 32);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(v63 + 32) = v64;
    v66 = v46;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      v64 = sub_1AF420554(0, *(v64 + 2) + 1, 1, v64);
      *(v63 + 32) = v64;
    }

    v68 = *(v64 + 2);
    v67 = *(v64 + 3);
    if (v68 >= v67 >> 1)
    {
      v64 = sub_1AF420554(v67 > 1, v68 + 1, 1, v64);
    }

    *(v64 + 2) = v68 + 1;
    v69 = &v64[16 * v68];
    *(v69 + 4) = 5785174;
    *(v69 + 5) = 0xE300000000000000;
    *(v63 + 32) = v64;
    if (v150)
    {
      *(v63 + 26) = v146 & 1;

      sub_1AF48FAF8(v70);

      sub_1AF48FAF8(v71);
    }

    *(v55 + 120) = v63;

    v48 = v157;
    v58 = v158;
    v46 = v66;
    v49 = v156;
  }

  v72 = v155;
  v73 = (*(*v55 + 480))(v139, v46);
  if (v72)
  {
    v162[0] = v72;
    v77 = v72;
    sub_1AF5C5358(0, &qword_1ED7268D0);
    type metadata accessor for MTLLibraryError(0);
    if (swift_dynamicCast())
    {
      v78 = v163;
      v161 = v163;
      sub_1AFA9C4F8();
      sub_1AFDFBF18();
      if (v160 == 3)
      {

        sub_1AF4563A0();
        swift_allocError();
        v79 = v139;
        *v80 = v78;
        *(v80 + 8) = v79;
        *(v80 + 16) = v46;
        *(v80 + 24) = 0;
        *(v80 + 32) = 2;
        swift_willThrow();

LABEL_36:

        return;
      }
    }

    else
    {
    }

    goto LABEL_36;
  }

  v81 = v74;
  v136 = v76;
  v134 = v75;
  v133 = v73;
  (*(*v55 + 464))();
  v132 = v46;
  if (v148 == 2)
  {
    sub_1AFA9D6A4(0, &qword_1ED721EB8, &type metadata for ScriptFunction, MEMORY[0x1E69E6F90]);
    v83 = swift_allocObject();
    *(v83 + 16) = xmmword_1AFE431C0;
    *(v83 + 32) = sub_1AFB12464(0, 0, 0);
    *(v83 + 40) = v84;
    v135 = v83;
    *(v83 + 48) = 0;
  }

  else
  {
    v135 = &unk_1F2507118;
  }

  v131 = v81;
  v91 = *(v135 + 2);
  if (!v91)
  {
    v92 = MEMORY[0x1E69E7CC0];
    v146 = MEMORY[0x1E69E7CC0];
LABEL_75:

    v117 = v144;
    v118 = v138;
    *v144 = v137;
    v117[1] = v118;
    v119 = v145;
    v120 = v131;
    *v145 = v133;
    v119[1] = v120;
    v121 = v136;
    v119[2] = v134;
    v119[3] = v121;
    v122 = v132;
    v119[4] = v139;
    v119[5] = v122;
    v123 = v146;
    v119[6] = v55;
    v119[7] = v123;
    v119[8] = v92;
    return;
  }

  v92 = MEMORY[0x1E69E7CC0];
  v93 = (v135 + 48);
  v146 = MEMORY[0x1E69E7CC0];
  v149 = v55;
  v147 = 0;
  while (1)
  {
    v154 = v91;
    v155 = v92;
    v95 = *(v93 - 2);
    v96 = *(v93 - 1);
    LODWORD(v150) = *v93;
    sub_1AFA9C3FC(&v159[v152], v48, qword_1ED730680, type metadata accessor for ScriptIndex, MEMORY[0x1E69E6720], sub_1AF0D0FCC);
    v97 = v59;
    v98 = v59;
    v99 = v141;
    if (v141(v48, 1, v97) == 1)
    {
      v100 = v153;
      *v49 = v58;
      v49[1] = v100;
      swift_storeEnumTagMultiPayload();
      v101 = v99(v48, 1, v98);

      if (v101 != 1)
      {
        sub_1AFA9C470(v48, qword_1ED730680, type metadata accessor for ScriptIndex);
      }
    }

    else
    {
      sub_1AFA9E320(v48, v49, type metadata accessor for ScriptIndex);
    }

    v59 = v151;
    v140(v49, 0, 1, v151);
    v102 = sub_1AFAF8B58(v95, v96, 0, 0xE000000000000000, v58, 0x72657474696D65uLL, 0xE700000000000000, v49);
    v104 = v103;
    sub_1AFA9C470(v49, qword_1ED730680, type metadata accessor for ScriptIndex);
    v105 = v148;
    if (v148 != 2)
    {
      v106 = sub_1AFDFEE28();

      if (v106)
      {
        goto LABEL_60;
      }

      if (v105 < 4)
      {
        break;
      }
    }

LABEL_60:

    v92 = v155;
LABEL_61:
    v107 = swift_isUniquelyReferenced_nonNull_native();
    v55 = v149;
    if ((v107 & 1) == 0)
    {
      v92 = sub_1AF4246B0(0, *(v92 + 2) + 1, 1, v92);
    }

    v109 = *(v92 + 2);
    v108 = *(v92 + 3);
    if (v109 >= v108 >> 1)
    {
      v92 = sub_1AF4246B0(v108 > 1, v109 + 1, 1, v92);
    }

    *(v92 + 2) = v109 + 1;
    v94 = &v92[24 * v109];
    *(v94 + 4) = v102;
    *(v94 + 5) = v104;
    v94[48] = v150;
    v49 = v156;
LABEL_52:
    v93 += 24;
    v91 = v154 - 1;
    v48 = v157;
    v58 = v158;
    if (v154 == 1)
    {
      goto LABEL_75;
    }
  }

  v92 = v155;
  v110 = sub_1AFDFEE28();

  if (v110)
  {
    goto LABEL_61;
  }

  v55 = v149;
  v111 = *(v149 + 80);
  if (!v111)
  {
    v124 = 0xD000000000000017;
    v125 = 0x80000001AFF45490;
    v126 = 4;
    goto LABEL_78;
  }

  v112 = sub_1AFDFCFB8();
  v113 = dlsym(v111, (v112 + 32));

  if (v113)
  {

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      v146 = sub_1AF42469C(0, *(v146 + 2) + 1, 1, v146);
    }

    v49 = v156;
    v115 = *(v146 + 2);
    v114 = *(v146 + 3);
    if (v115 >= v114 >> 1)
    {
      v146 = sub_1AF42469C(v114 > 1, v115 + 1, 1, v146);
    }

    v116 = v146;
    *(v146 + 2) = v115 + 1;
    *&v116[8 * v115 + 32] = v113;
    goto LABEL_52;
  }

  dlerror();
  v124 = sub_1AFDFD0E8();
  v125 = v127;
  v126 = 6;
LABEL_78:
  sub_1AF4563A0();
  swift_allocError();
  *v128 = v124;
  *(v128 + 8) = v125;
  *(v128 + 16) = 0;
  *(v128 + 24) = 0;
  *(v128 + 32) = v126;
  swift_willThrow();

LABEL_33:
}

void sub_1AFA6BA70(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(void), uint64_t a6, void (*a7)(uint64_t a1), uint64_t a8, unsigned __int8 *a9, uint64_t a10, unint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15)
{
  v72 = a8;
  v70 = a7;
  v77 = a6;
  v78 = a5;
  v76 = a4;
  sub_1AF5B21E4(0);
  v74 = v18;
  MEMORY[0x1EEE9AC00](v18, v19);
  v75 = &v59[-((v20 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v21 = sub_1AFDFC548();
  v22 = *(v21 - 8);
  MEMORY[0x1EEE9AC00](v21, v23);
  v25 = &v59[-((v24 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v26 = sub_1AFDFC4F8();
  *&v71 = *(v26 - 8);
  MEMORY[0x1EEE9AC00](v26, v27);
  v29 = &v59[-((v28 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v73 = swift_projectBox();
  os_unfair_lock_lock(*(a1 + 72));
  v30 = *(a1 + 80);
  if (!*(v30 + 16) || (v31 = sub_1AF41ACD4(a2, a3), (v32 & 1) == 0))
  {
    v89 = 0;
    v87 = 0u;
    memset(v88, 0, sizeof(v88));
    v86 = 0u;
    v90 = -1;
    goto LABEL_7;
  }

  v68 = a3;
  v69 = a2;
  sub_1AF85B3D4(*(v30 + 56) + 96 * v31, &v86);
  if (v90 == 255)
  {
LABEL_7:
    sub_1AFA9BF94(&v86, &qword_1EB642590, &type metadata for CompilationStatus);
    goto LABEL_8;
  }

  sub_1AF85B3D4(&v86, &v82);
  sub_1AFA9BF94(&v86, &qword_1EB642590, &type metadata for CompilationStatus);
  *(v81 + 9) = *(&v85[1] + 9);
  v80[2] = v84;
  v80[3] = v85[0];
  v81[0] = v85[1];
  v80[0] = v82;
  v80[1] = v83;
  if (BYTE8(v85[2]))
  {
    sub_1AFA9C0C8(v80);
LABEL_8:
    os_unfair_lock_unlock(*(a1 + 72));
LABEL_9:
    sub_1AF81F330();
    v33 = swift_allocError();
    *v34 = xmmword_1AFE4C400;
    v78();

    return;
  }

  v35 = *&v80[0];
  os_unfair_lock_unlock(*(a1 + 72));
  if (v35 != v76)
  {
    goto LABEL_9;
  }

  v67 = a14;
  v66 = a13;
  v65 = a12;
  v64 = a11;
  v63 = a10;
  v62 = a9;
  if (qword_1ED7270F0 != -1)
  {
    swift_once();
  }

  v61 = a15;
  v36 = sub_1AFDFC538();
  sub_1AF477C68(v36, qword_1ED73B608);
  v37 = sub_1AFDFC528();
  sub_1AFDFC558();
  v60 = sub_1AFDFDB78();
  if (sub_1AFDFDCE8())
  {

    sub_1AFDFC588();

    if ((*(v22 + 88))(v25, v21) == *MEMORY[0x1E69E93E8])
    {
      v38 = "[Error] Interval already ended";
    }

    else
    {
      (*(v22 + 8))(v25, v21);
      v38 = "";
    }

    v39 = swift_slowAlloc();
    *v39 = 0;
    v40 = sub_1AFDFC4E8();
    _os_signpost_emit_with_name_impl(&dword_1AF0CE000, v37, v60, v40, "buildScript", v38, v39, 2u);
    MEMORY[0x1B271DEA0](v39, -1, -1);
  }

  (*(v71 + 8))(v29, v26);
  sub_1AFA628DC(a1, v62, v64, v65, v66, v67, &v82, v61);
  v41 = v83;
  v72 = *&v85[0];
  v71 = *(v85 + 8);
  v70 = sub_1AF5B21E4;
  v42 = v75;
  sub_1AFA9E3C8(v73, v75, sub_1AF5B21E4);
  v43 = v74;
  v42[*(v74 + 40)] = 1;
  v44 = sub_1AF458208();
  v46 = sub_1AF458308(v41, *(&v41 + 1), v44, v45 & 1);

  v47 = *(v43 + 52);

  *&v42[v47] = v46;
  *(&v87 + 1) = v43;
  v48 = sub_1AF585714(&v86);
  sub_1AFA9E3C8(v42, v48, v70);
  *(v88 + 8) = v71;
  *&v88[0] = v72;
  v89 = &type metadata for CodableVoid;
  sub_1AFA9E8FC(v42, sub_1AF5B21E4);
  v49 = v69;
  v90 = 1;
  os_unfair_lock_lock(*(a1 + 72));
  v50 = *(a1 + 80);
  v51 = v68;
  if (*(v50 + 16))
  {
    v52 = sub_1AF41ACD4(v49, v68);
    if (v53)
    {
      sub_1AF85B3D4(*(v50 + 56) + 96 * v52, &v82);
      sub_1AF85B3D4(&v82, v80);
      if (BYTE8(v81[1]))
      {
        sub_1AFA9C0C8(v80);
LABEL_29:
        os_unfair_lock_unlock(*(a1 + 72));
        sub_1AF81F330();
        v57 = swift_allocError();
        *v58 = xmmword_1AFE4C400;
        v78();

        sub_1AFA9C0C8(&v82);
        sub_1AFA9C0C8(&v86);
        return;
      }

      if (*&v80[0] != v76)
      {
        goto LABEL_29;
      }

      sub_1AF85B3D4(&v86, v80);
      isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      v79 = *(a1 + 80);
      *(a1 + 80) = 0x8000000000000000;
      sub_1AF855F54(v80, v49, v51, isUniquelyReferenced_nonNull_native);
      sub_1AFA9C0C8(&v82);
      *(a1 + 80) = v79;
    }
  }

  os_unfair_lock_unlock(*(a1 + 72));
  sub_1AF85B3D4(&v86, &v82);
  if (BYTE8(v85[2]) == 1)
  {

    (v78)(0);
    sub_1AFA9C0C8(&v86);
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v85 + 8);
LABEL_28:
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(&v82);
    return;
  }

  if (BYTE8(v85[2]) == 2)
  {
    v55 = v84;
    v56 = v84;
    (v78)(v55);

    sub_1AFA9C0C8(&v86);
    goto LABEL_28;
  }

  sub_1AFDFE518();
  __break(1u);
}

void sub_1AFA6C520(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(void), uint64_t a6, void (*a7)(uint64_t a1), uint64_t a8, uint64_t a9, uint64_t a10, unint64_t a11, uint64_t a12, uint64_t a13, char *a14, uint64_t a15)
{
  v73 = a8;
  v71 = a7;
  v78 = a6;
  v79 = a5;
  v77 = a4;
  sub_1AF5B23C4(0);
  v75 = v18;
  MEMORY[0x1EEE9AC00](v18, v19);
  v76 = &v58[-((v20 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v21 = sub_1AFDFC548();
  v70 = *(v21 - 8);
  MEMORY[0x1EEE9AC00](v21, v22);
  v24 = &v58[-((v23 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v25 = sub_1AFDFC4F8();
  *&v72 = *(v25 - 8);
  MEMORY[0x1EEE9AC00](v25, v26);
  v28 = &v58[-((v27 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v74 = swift_projectBox();
  os_unfair_lock_lock(*(a1 + 72));
  v29 = *(a1 + 80);
  v69 = a1 + 80;
  if (!*(v29 + 16) || (v30 = sub_1AF41ACD4(a2, a3), (v31 & 1) == 0))
  {
    v89 = 0;
    v87 = 0u;
    memset(v88, 0, sizeof(v88));
    v86 = 0u;
    v90 = -1;
    goto LABEL_7;
  }

  v67 = a2;
  v68 = a3;
  sub_1AF85B3D4(*(v29 + 56) + 96 * v30, &v86);
  if (v90 == 255)
  {
LABEL_7:
    sub_1AFA9BF94(&v86, &qword_1EB642590, &type metadata for CompilationStatus);
    goto LABEL_8;
  }

  sub_1AF85B3D4(&v86, &v82);
  sub_1AFA9BF94(&v86, &qword_1EB642590, &type metadata for CompilationStatus);
  *(v81 + 9) = *(&v85[1] + 9);
  v80[2] = v84;
  v80[3] = v85[0];
  v81[0] = v85[1];
  v80[0] = v82;
  v80[1] = v83;
  if (BYTE8(v85[2]))
  {
    sub_1AFA9C0C8(v80);
LABEL_8:
    os_unfair_lock_unlock(*(a1 + 72));
LABEL_9:
    sub_1AF81F330();
    v32 = swift_allocError();
    *v33 = xmmword_1AFE4C400;
    v79();

    return;
  }

  v34 = *&v80[0];
  os_unfair_lock_unlock(*(a1 + 72));
  if (v34 != v77)
  {
    goto LABEL_9;
  }

  v60 = a14;
  v66 = a13;
  v65 = a12;
  v64 = a11;
  v63 = a10;
  v62 = a9;
  if (qword_1ED7270F0 != -1)
  {
    swift_once();
  }

  v61 = a15;
  v35 = sub_1AFDFC538();
  sub_1AF477C68(v35, qword_1ED73B608);
  v36 = sub_1AFDFC528();
  sub_1AFDFC558();
  v59 = sub_1AFDFDB78();
  if (sub_1AFDFDCE8())
  {

    sub_1AFDFC588();

    v37 = v70;
    if ((*(v70 + 88))(v24, v21) == *MEMORY[0x1E69E93E8])
    {
      v38 = "[Error] Interval already ended";
    }

    else
    {
      (*(v37 + 8))(v24, v21);
      v38 = "";
    }

    v39 = swift_slowAlloc();
    *v39 = 0;
    v40 = sub_1AFDFC4E8();
    _os_signpost_emit_with_name_impl(&dword_1AF0CE000, v36, v59, v40, "buildScript", v38, v39, 2u);
    MEMORY[0x1B271DEA0](v39, -1, -1);
  }

  (*(v72 + 8))(v28, v25);
  sub_1AFA669A0(v80, a1, v62, v63, v64, v65, v66, v60, &v82, v61);
  v41 = v83;
  v73 = *&v85[0];
  v72 = *(v85 + 8);
  v71 = sub_1AF5B23C4;
  v42 = v76;
  sub_1AFA9E3C8(v74, v76, sub_1AF5B23C4);
  v43 = v75;
  v42[*(v75 + 40)] = 1;
  v44 = sub_1AF458208();
  v46 = sub_1AF458308(v41, *(&v41 + 1), v44, v45 & 1);

  v47 = *(v43 + 52);

  *&v42[v47] = v46;
  *(&v87 + 1) = v43;
  v48 = sub_1AF585714(&v86);
  sub_1AFA9E3C8(v42, v48, v71);
  *&v88[1] = v72;
  v88[0] = v73;
  v89 = &type metadata for ShaderScriptRuntime;
  *&v88[3] = v80[0];
  sub_1AFA9E8FC(v42, sub_1AF5B23C4);
  v90 = 1;
  v49 = v67;
  os_unfair_lock_lock(*(a1 + 72));
  v50 = *(a1 + 80);
  v51 = v68;
  if (*(v50 + 16))
  {
    v52 = sub_1AF41ACD4(v49, v68);
    if (v53)
    {
      sub_1AF85B3D4(*(v50 + 56) + 96 * v52, &v82);
      sub_1AF85B3D4(&v82, v80);
      if (BYTE8(v81[1]))
      {
        sub_1AFA9C0C8(v80);
LABEL_29:
        os_unfair_lock_unlock(*(a1 + 72));
        sub_1AF81F330();
        v56 = swift_allocError();
        *v57 = xmmword_1AFE4C400;
        v79();

        sub_1AFA9C0C8(&v82);
        sub_1AFA9C0C8(&v86);
        return;
      }

      if (*&v80[0] != v77)
      {
        goto LABEL_29;
      }

      sub_1AF85B3D4(&v86, v80);
      sub_1AF825824(v80, v49, v51);
      sub_1AFA9C0C8(&v82);
    }
  }

  os_unfair_lock_unlock(*(a1 + 72));
  sub_1AF85B3D4(&v86, &v82);
  if (BYTE8(v85[2]) == 1)
  {

    (v79)(0);
    sub_1AFA9C0C8(&v86);
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v85 + 8);
LABEL_28:
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(&v82);
    return;
  }

  if (BYTE8(v85[2]) == 2)
  {
    v54 = v84;
    v55 = v84;
    (v79)(v54);

    sub_1AFA9C0C8(&v86);
    goto LABEL_28;
  }

  sub_1AFDFE518();
  __break(1u);
}

void sub_1AFA6CFE4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(void), uint64_t a6, void (*a7)(uint64_t a1), uint64_t a8, uint64_t a9, void (*a10)(_DWORD *, void, uint64_t, uint64_t), unint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15)
{
  v73 = a8;
  v71 = a7;
  v78 = a6;
  v79 = a5;
  v77 = a4;
  sub_1AF5B243C(0);
  v75 = v18;
  MEMORY[0x1EEE9AC00](v18, v19);
  v76 = &v58[-((v20 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v21 = sub_1AFDFC548();
  v70 = *(v21 - 8);
  MEMORY[0x1EEE9AC00](v21, v22);
  v24 = &v58[-((v23 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v25 = sub_1AFDFC4F8();
  *&v72 = *(v25 - 8);
  MEMORY[0x1EEE9AC00](v25, v26);
  v28 = &v58[-((v27 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v74 = swift_projectBox();
  os_unfair_lock_lock(*(a1 + 72));
  v29 = *(a1 + 80);
  v69 = a1 + 80;
  if (!*(v29 + 16) || (v30 = sub_1AF41ACD4(a2, a3), (v31 & 1) == 0))
  {
    v89 = 0;
    v87 = 0u;
    memset(v88, 0, sizeof(v88));
    v86 = 0u;
    v90 = -1;
    goto LABEL_7;
  }

  v67 = a2;
  v68 = a3;
  sub_1AF85B3D4(*(v29 + 56) + 96 * v30, &v86);
  if (v90 == 255)
  {
LABEL_7:
    sub_1AFA9BF94(&v86, &qword_1EB642590, &type metadata for CompilationStatus);
    goto LABEL_8;
  }

  sub_1AF85B3D4(&v86, &v82);
  sub_1AFA9BF94(&v86, &qword_1EB642590, &type metadata for CompilationStatus);
  *(v81 + 9) = *(&v85[1] + 9);
  v80[2] = v84;
  v80[3] = v85[0];
  v81[0] = v85[1];
  v80[0] = v82;
  v80[1] = v83;
  if (BYTE8(v85[2]))
  {
    sub_1AFA9C0C8(v80);
LABEL_8:
    os_unfair_lock_unlock(*(a1 + 72));
LABEL_9:
    sub_1AF81F330();
    v32 = swift_allocError();
    *v33 = xmmword_1AFE4C400;
    v79();

    return;
  }

  v34 = *&v80[0];
  os_unfair_lock_unlock(*(a1 + 72));
  if (v34 != v77)
  {
    goto LABEL_9;
  }

  v60 = a14;
  v66 = a13;
  v65 = a12;
  v64 = a11;
  v63 = a10;
  v62 = a9;
  if (qword_1ED7270F0 != -1)
  {
    swift_once();
  }

  v61 = a15;
  v35 = sub_1AFDFC538();
  sub_1AF477C68(v35, qword_1ED73B608);
  v36 = sub_1AFDFC528();
  sub_1AFDFC558();
  v59 = sub_1AFDFDB78();
  if (sub_1AFDFDCE8())
  {

    sub_1AFDFC588();

    v37 = v70;
    if ((*(v70 + 88))(v24, v21) == *MEMORY[0x1E69E93E8])
    {
      v38 = "[Error] Interval already ended";
    }

    else
    {
      (*(v37 + 8))(v24, v21);
      v38 = "";
    }

    v39 = swift_slowAlloc();
    *v39 = 0;
    v40 = sub_1AFDFC4E8();
    _os_signpost_emit_with_name_impl(&dword_1AF0CE000, v36, v59, v40, "buildScript", v38, v39, 2u);
    MEMORY[0x1B271DEA0](v39, -1, -1);
  }

  (*(v72 + 8))(v28, v25);
  sub_1AFA67994(a1, v62, v63, v64, v65, v66, v60, &v82, v61);
  v41 = v83;
  v73 = *&v85[0];
  v72 = *(v85 + 8);
  v70 = *(&v82 + 1);
  v71 = sub_1AF5B243C;
  v42 = v76;
  sub_1AFA9E3C8(v74, v76, sub_1AF5B243C);
  v43 = v75;
  v42[*(v75 + 40)] = 1;
  v44 = sub_1AF458208();
  v46 = sub_1AF458308(v41, *(&v41 + 1), v44, v45 & 1);

  v47 = *(v43 + 52);

  *&v42[v47] = v46;
  *(&v87 + 1) = v43;
  v48 = sub_1AF585714(&v86);
  sub_1AFA9E3C8(v42, v48, v71);
  *(v88 + 8) = v72;
  *&v88[0] = v73;
  v89 = &type metadata for CodableVoid;
  sub_1AFA9E8FC(v42, sub_1AF5B243C);
  v49 = v67;
  v90 = 1;
  os_unfair_lock_lock(*(a1 + 72));
  v50 = *(a1 + 80);
  v51 = v68;
  if (*(v50 + 16))
  {
    v52 = sub_1AF41ACD4(v49, v68);
    if (v53)
    {
      sub_1AF85B3D4(*(v50 + 56) + 96 * v52, &v82);
      sub_1AF85B3D4(&v82, v80);
      if (BYTE8(v81[1]))
      {
        sub_1AFA9C0C8(v80);
LABEL_29:
        os_unfair_lock_unlock(*(a1 + 72));
        sub_1AF81F330();
        v56 = swift_allocError();
        *v57 = xmmword_1AFE4C400;
        v79();

        sub_1AFA9C0C8(&v82);
        sub_1AFA9C0C8(&v86);
        return;
      }

      if (*&v80[0] != v77)
      {
        goto LABEL_29;
      }

      sub_1AF85B3D4(&v86, v80);
      sub_1AF825824(v80, v49, v51);
      sub_1AFA9C0C8(&v82);
    }
  }

  os_unfair_lock_unlock(*(a1 + 72));
  sub_1AF85B3D4(&v86, &v82);
  if (BYTE8(v85[2]) == 1)
  {

    (v79)(0);
    sub_1AFA9C0C8(&v86);
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v85 + 8);
LABEL_28:
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(&v82);
    return;
  }

  if (BYTE8(v85[2]) == 2)
  {
    v54 = v84;
    v55 = v84;
    (v79)(v54);

    sub_1AFA9C0C8(&v86);
    goto LABEL_28;
  }

  sub_1AFDFE518();
  __break(1u);
}

void sub_1AFA6DA98(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(void), uint64_t a6, uint64_t a7, void (*a8)(_BYTE *), uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t (*a17)(void), void (*a18)(__int128 *__return_ptr, _OWORD *, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t), void (*a19)(_BYTE *, uint64_t *), void (*a20)(_BYTE *))
{
  v81 = a8;
  *&v79 = a7;
  v86 = a6;
  v87 = a5;
  v85 = a4;
  v83 = a17(0);
  MEMORY[0x1EEE9AC00](v83, v23);
  v84 = &v64[-v24];
  v25 = sub_1AFDFC548();
  v78 = *(v25 - 8);
  MEMORY[0x1EEE9AC00](v25, v26);
  v28 = &v64[-((v27 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v29 = sub_1AFDFC4F8();
  v80 = *(v29 - 8);
  MEMORY[0x1EEE9AC00](v29, v30);
  v32 = &v64[-((v31 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v82 = swift_projectBox();
  os_unfair_lock_lock(*(a1 + 72));
  v33 = *(a1 + 80);
  v77 = a1 + 80;
  if (!*(v33 + 16) || (v34 = sub_1AF41ACD4(a2, a3), (v35 & 1) == 0))
  {
    v97 = 0;
    v95 = 0u;
    memset(v96, 0, sizeof(v96));
    v94 = 0u;
    v98 = -1;
    goto LABEL_7;
  }

  v75 = a2;
  v76 = a3;
  sub_1AF85B3D4(*(v33 + 56) + 96 * v34, &v94);
  if (v98 == 255)
  {
LABEL_7:
    sub_1AFA9BF94(&v94, &qword_1EB642590, &type metadata for CompilationStatus);
    goto LABEL_8;
  }

  sub_1AF85B3D4(&v94, &v90);
  sub_1AFA9BF94(&v94, &qword_1EB642590, &type metadata for CompilationStatus);
  *(v89 + 9) = *(&v93[1] + 9);
  v88[2] = v92;
  v88[3] = v93[0];
  v89[0] = v93[1];
  v88[0] = v90;
  v88[1] = v91;
  if (BYTE8(v93[2]))
  {
    sub_1AFA9C0C8(v88);
LABEL_8:
    os_unfair_lock_unlock(*(a1 + 72));
LABEL_9:
    sub_1AF81F330();
    v36 = swift_allocError();
    *v37 = xmmword_1AFE4C400;
    v87();

    return;
  }

  v38 = *&v88[0];
  os_unfair_lock_unlock(*(a1 + 72));
  if (v38 != v85)
  {
    goto LABEL_9;
  }

  v66 = a18;
  v73 = a14;
  v72 = a13;
  v71 = a12;
  v70 = a11;
  v69 = a10;
  v68 = a9;
  if (qword_1ED7270F0 != -1)
  {
    swift_once();
  }

  v74 = a19;
  v67 = a15;
  v39 = sub_1AFDFC538();
  sub_1AF477C68(v39, qword_1ED73B608);
  v40 = sub_1AFDFC528();
  sub_1AFDFC558();
  v65 = sub_1AFDFDB78();
  if (sub_1AFDFDCE8())
  {

    sub_1AFDFC588();

    v41 = v78;
    if ((*(v78 + 88))(v28, v25) == *MEMORY[0x1E69E93E8])
    {
      v42 = "[Error] Interval already ended";
    }

    else
    {
      (*(v41 + 8))(v28, v25);
      v42 = "";
    }

    v43 = swift_slowAlloc();
    *v43 = 0;
    v44 = sub_1AFDFC4E8();
    _os_signpost_emit_with_name_impl(&dword_1AF0CE000, v40, v65, v44, "buildScript", v42, v43, 2u);
    MEMORY[0x1B271DEA0](v43, -1, -1);
  }

  (*(v80 + 8))(v32, v29);
  v66(&v90, v88, a1, v68, v69, v70, v71, v72, v73, v67);
  v45 = v91;
  v78 = *(&v90 + 1);
  v46 = *(&v91 + 1);
  v80 = *&v93[0];
  v81 = a20;
  v79 = *(v93 + 8);
  v47 = v84;
  v48 = v74;
  v74(v82, v84);
  v49 = v83;
  v47[*(v83 + 40)] = 1;
  v50 = sub_1AF458208();
  v52 = sub_1AF458308(v45, v46, v50, v51 & 1);

  v53 = *(v49 + 52);

  *&v47[v53] = v52;
  *(&v95 + 1) = v49;
  v54 = sub_1AF585714(&v94);
  v48(v47, v54);
  *(v96 + 8) = v79;
  *&v96[0] = v80;
  *(&v96[1] + 8) = v88[0];
  v97 = &type metadata for BasicScriptRuntime;
  v81(v47);
  v98 = 1;
  v55 = v75;
  os_unfair_lock_lock(*(a1 + 72));
  v56 = *(a1 + 80);
  v57 = v76;
  if (*(v56 + 16))
  {
    v58 = sub_1AF41ACD4(v55, v76);
    if (v59)
    {
      sub_1AF85B3D4(*(v56 + 56) + 96 * v58, &v90);
      sub_1AF85B3D4(&v90, v88);
      if (BYTE8(v89[1]))
      {
        sub_1AFA9C0C8(v88);
LABEL_29:
        os_unfair_lock_unlock(*(a1 + 72));
        sub_1AF81F330();
        v62 = swift_allocError();
        *v63 = xmmword_1AFE4C400;
        v87();

        sub_1AFA9C0C8(&v90);
        sub_1AFA9C0C8(&v94);
        return;
      }

      if (*&v88[0] != v85)
      {
        goto LABEL_29;
      }

      sub_1AF85B3D4(&v94, v88);
      sub_1AF825824(v88, v55, v57);
      sub_1AFA9C0C8(&v90);
    }
  }

  os_unfair_lock_unlock(*(a1 + 72));
  sub_1AF85B3D4(&v94, &v90);
  if (BYTE8(v93[2]) == 1)
  {

    (v87)(0);
    sub_1AFA9C0C8(&v94);
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v93 + 8);
LABEL_28:
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(&v90);
    return;
  }

  if (BYTE8(v93[2]) == 2)
  {
    v60 = v92;
    v61 = v92;
    (v87)(v60);

    sub_1AFA9C0C8(&v94);
    goto LABEL_28;
  }

  sub_1AFDFE518();
  __break(1u);
}

void sub_1AFA6E520(void *a1, uint64_t a2, uint64_t a3)
{
  if (*(a2 + 16))
  {
    v4 = 1;
  }

  else
  {
    v4 = a1 == 0;
  }

  if (!v4)
  {
    v6 = *(a3 + 72);
    v9 = a1;
    os_unfair_lock_lock(v6);
    v10 = *(a2 + 16);
    *(a2 + 16) = a1;
    v11 = a1;

    os_unfair_lock_unlock(*(a3 + 72));
  }
}

uint64_t sub_1AFA6E5A8(uint64_t a1, void (*a2)(void *__return_ptr, void), uint64_t (*a3)(void), void (*a4)(uint64_t, void *), uint64_t (*a5)(void))
{
  if (qword_1ED72D720 != -1)
  {
    v75 = a2;
    swift_once();
    a2 = v75;
  }

  v132 = qword_1ED73B840;
  v133 = 0;
  v134 = 2;
  v135 = 0;
  v136 = 2;
  v137 = 0;
  a2(&v98, 1);
  v126 = v98;
  v127 = v99;
  v128 = v100;
  v129 = v101 | 1;
  v130 = v102;
  v131 = v103;
  sub_1AF6B06C0(a1, &v126, 0x200000000, v104);
  v94 = *&v104[32];
  v95 = v105;
  v96 = v106;
  v97 = v107;
  v92 = *v104;
  v93 = *&v104[16];
  result = sub_1AFA9E8FC(&v98, a3);
  if (*v104)
  {
    v80 = v107;
    if (v107 >= 1)
    {
      v79 = *(&v105 + 1);
      if (*(&v105 + 1))
      {
        v78 = *&v104[40];
        v77 = v106;
        v8 = *(v106 + OBJC_IVAR____TtC3VFX13EntityManager_lockChunksOnQueryForEach);
        v85 = *(*(&v106 + 1) + 32);
        v86 = *(&v106 + 1);
        v108 = *v104;
        v109 = *&v104[8];
        v110 = *&v104[24];
        v91[2] = v94;
        v91[3] = v95;
        v91[4] = v96;
        v91[5] = v97;
        v91[0] = v92;
        v91[1] = v93;
        sub_1AF5DD298(v91, v113);
        v9 = 0;
        v10 = 0;
        v76 = v8;
        do
        {
          v11 = (v78 + 48 * v9);
          v12 = *v11;
          v13 = v11[1];
          v14 = v11[2];
          v15 = *(v11 + 2);
          v16 = *(v11 + 3);
          v17 = *(v11 + 5);
          v82 = *(v11 + 4);
          v84 = v9;
          if (v8)
          {
            v18 = *(v17 + 376);

            os_unfair_lock_lock(v18);
            os_unfair_lock_lock(*(v17 + 344));
          }

          else
          {
          }

          ecs_stack_allocator_push_snapshot(v85);
          v19 = *(v86 + 64);
          v111[0] = *(v86 + 48);
          v111[1] = v19;
          v112 = *(v86 + 80);
          v20 = *(*(*(*(v17 + 40) + 16) + 32) + 16) + 1;
          *(v86 + 48) = ecs_stack_allocator_allocate(*(v86 + 32), 48 * v20, 8);
          *(v86 + 56) = v20;
          *(v86 + 72) = 0;
          *(v86 + 80) = 0;
          *(v86 + 64) = 0;
          LOBYTE(v88) = 1;
          v113[0] = v77;
          v113[1] = v17;
          v114 = v86;
          v115 = v14;
          v116 = (v13 - v12 + v14);
          v117 = v80;
          v118 = v12;
          v119 = v13;
          v120 = 0;
          v121 = 0;
          v122 = 1;
          v123 = v15;
          v124 = v16;
          v125 = v82;
          a4(v17, v113);
          v21 = v123;
          v83 = v10;
          if (v123)
          {
            v22 = v125;
            if (v125)
            {
              v23 = 0;
              v24 = v114;
              do
              {
                v25 = *(v21 + 8 * v23);
                v26 = *(v17 + 192);

                if (v26)
                {
                  v27 = *(v17 + 208);
                  *(v26 + 8 * (v25 >> 6)) |= 1 << v25;
                  *(v27 + 8 * (v25 >> 6)) &= ~(1 << v25);
                }

                if (*(*(v17 + 40) + 213) == 1)
                {
                  v28 = *(v17 + 48);
                  v29 = (v28 + 32);
                  v30 = *(v28 + 16) + 1;
                  while (--v30)
                  {
                    v31 = v29 + 5;
                    v32 = *v29;
                    v29 += 5;
                    if (v32 == &type metadata for PropagateDirtiness)
                    {
                      v33 = *(v31 - 2);
                      goto LABEL_23;
                    }
                  }

                  v33 = 0;
LABEL_23:
                  v34 = *(v17 + 128);

                  if (*(v17 + 184))
                  {
                    goto LABEL_60;
                  }

                  v36 = v34 + v33;
                  v37 = *(*(v17 + 168) + 4 * v25);
                  v38 = (v36 + 8 * v25);
                  v39 = *(*(v35 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v37 + 8);

                  v40 = *v38;
                  v41 = v38[1];
                  if (v40 != -1 || v41 != 0)
                  {
                    sub_1AF70D248(&v88, v37 | (v39 << 32), v40 | (v41 << 32));
                  }
                }

                v43 = a5(0);
                v44 = *(*(v17 + 40) + 16);
                v45 = *(v44 + 128);
                if (*(v45 + 16))
                {
                  v46 = v43;
                  v47 = sub_1AF449CB8(v43);
                  if ((v48 & 1) != 0 && *(*(v44 + 24) + 16 * *(*(v45 + 56) + 8 * v47) + 32) == v46)
                  {
                    v88 = v46;
                    v89 = &off_1F250F310;
                    v90 = 1;

                    sub_1AF6304E8(v24 + 104, &v88, v25, 0, v17, v24);

                    sub_1AF635250(&v88);
                  }
                }

                ++v23;
              }

              while (v23 != v22);
            }
          }

          else
          {
            v49 = v118;
            v50 = v119;
            if (v118 != v119)
            {
              v51 = v114;
              do
              {
                v52 = *(v17 + 192);

                if (v52)
                {
                  v53 = *(v17 + 208);
                  *(v52 + 8 * (v49 >> 6)) |= 1 << v49;
                  *(v53 + 8 * (v49 >> 6)) &= ~(1 << v49);
                }

                if (*(*(v17 + 40) + 213) == 1)
                {
                  v54 = *(v17 + 48);
                  v55 = (v54 + 32);
                  v56 = *(v54 + 16) + 1;
                  while (--v56)
                  {
                    v57 = v55 + 5;
                    v58 = *v55;
                    v55 += 5;
                    if (v58 == &type metadata for PropagateDirtiness)
                    {
                      v59 = *(v57 - 2);
                      goto LABEL_46;
                    }
                  }

                  v59 = 0;
LABEL_46:
                  v60 = *(v17 + 128);

                  if (*(v17 + 184))
                  {
LABEL_60:
                    result = sub_1AFDFE518();
                    __break(1u);
                    return result;
                  }

                  v62 = v60 + v59;
                  v63 = *(*(v17 + 168) + 4 * v49);
                  v64 = (v62 + 8 * v49);
                  v65 = *(*(v61 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v63 + 8);

                  v66 = *v64;
                  v67 = v64[1];
                  if (v66 != -1 || v67 != 0)
                  {
                    sub_1AF70D248(&v88, v63 | (v65 << 32), v66 | (v67 << 32));
                  }
                }

                v69 = a5(0);
                v70 = *(*(v17 + 40) + 16);
                v71 = *(v70 + 128);
                if (*(v71 + 16))
                {
                  v72 = v69;
                  v73 = sub_1AF449CB8(v69);
                  if ((v74 & 1) != 0 && *(*(v70 + 24) + 16 * *(*(v71 + 56) + 8 * v73) + 32) == v72)
                  {
                    v88 = v72;
                    v89 = &off_1F250F310;
                    v90 = 1;

                    sub_1AF6304E8(v51 + 104, &v88, v49, 0, v17, v51);

                    sub_1AF635250(&v88);
                  }
                }

                ++v49;
              }

              while (v49 != v50);
            }
          }

          v10 = v83;
          sub_1AF630994(v86, &v108, v111);
          sub_1AF62D29C(v17);
          ecs_stack_allocator_pop_snapshot(v85);
          v8 = v76;
          if (v76)
          {
            os_unfair_lock_unlock(*(v17 + 344));
            os_unfair_lock_unlock(*(v17 + 376));
          }

          v9 = v84 + 1;
        }

        while (v84 + 1 != v79);
        sub_1AFA9BF94(v104, &qword_1ED725EA0, &type metadata for QueryResult);
      }
    }

    return sub_1AFA9BF94(v104, &qword_1ED725EA0, &type metadata for QueryResult);
  }

  return result;
}

uint64_t sub_1AFA6ED20(void *a1, void (*a2)(void *__return_ptr), void (*a3)(_OWORD *), uint64_t (*a4)(uint64_t, void *), uint64_t (*a5)(void), uint64_t (*a6)(void))
{
  if (qword_1ED72D720 != -1)
  {
    v80 = a2;
    swift_once();
    a2 = v80;
  }

  v132 = qword_1ED73B840;
  v133 = 0;
  v134 = 2;
  v135 = 0;
  v136 = 2;
  v137 = 0;
  a2(v110);
  v119[0] = v110[0];
  v119[1] = v110[1];
  v120 = v111;

  sub_1AF6B06C0(v7, v119, 0x200000000, v112);
  if (!*v112)
  {

    return (a3)(v110);
  }

  v89 = v115;
  if (v115 < 1 || (v88 = *(&v113 + 1)) == 0)
  {
    sub_1AFA9C3FC(v112, v123, &qword_1ED725EA0, &type metadata for QueryResult, MEMORY[0x1E69E6720], sub_1AFA9D6A4);

    a3(v110);
LABEL_53:
    sub_1AFA9BF94(v112, &qword_1ED725EA0, &type metadata for QueryResult);
    return sub_1AFA9BF94(v112, &qword_1ED725EA0, &type metadata for QueryResult);
  }

  v81 = a3;
  v87 = *&v112[40];
  v8 = *(&v114 + 1);
  v86 = v114;
  v9 = *(v114 + OBJC_IVAR____TtC3VFX13EntityManager_lockChunksOnQueryForEach);
  v10 = *(*(&v114 + 1) + 32);
  v116 = *v112;
  v117 = *&v112[8];
  v118 = *&v112[24];
  v109[2] = *&v112[32];
  v109[3] = v113;
  v109[4] = v114;
  v109[5] = v115;
  v109[0] = *v112;
  v109[1] = *&v112[16];
  sub_1AF5DD298(v109, v123);
  v11 = 0;
  v12 = 0;
  v84 = v9;
  v85 = v8;
  v83 = v10;
  while (1)
  {
    v103 = v12;
    v92 = v11;
    v13 = (v87 + 48 * v11);
    v14 = *v13;
    v15 = v13[1];
    v16 = v13[2];
    v17 = *(v13 + 2);
    v18 = *(v13 + 3);
    v19 = *(v13 + 4);
    v20 = *(v13 + 5);
    if (v9)
    {
      v21 = *(v20 + 376);

      os_unfair_lock_lock(v21);
      os_unfair_lock_lock(*(v20 + 344));
    }

    else
    {
    }

    ecs_stack_allocator_push_snapshot(v10);
    v22 = *(v8 + 4);
    v121[0] = *(v8 + 3);
    v121[1] = v22;
    v122 = v8[10];
    v23 = *(*(*(*(v20 + 40) + 16) + 32) + 16) + 1;
    v8[6] = ecs_stack_allocator_allocate(v8[4], 48 * v23, 8);
    v8[7] = v23;
    v8[9] = 0;
    v8[10] = 0;
    v8[8] = 0;
    v123[0] = v86;
    v123[1] = v20;
    v123[2] = v8;
    v123[3] = v16;
    v123[4] = (v15 - v14 + v16);
    v123[5] = v89;
    v124 = v14;
    v125 = v15;
    v126 = 0;
    v127 = 0;
    v128 = 1;
    v129 = v17;
    v130 = v18;
    v131 = v19;
    v24 = a4(v20, v123);
    v25 = v129;
    v100 = v20;
    v91 = v103;
    if (!v129)
    {
      break;
    }

    v26 = v131;
    if (v131)
    {
      v27 = a5(0);
      v93 = v27;
      v94 = *(*(v27 - 1) + 72);
      do
      {
        v31 = *v25++;
        v30 = v31;

        if (*(v20 + 184))
        {
          goto LABEL_54;
        }

        v33 = *(*(v20 + 168) + 4 * v30);
        v34 = *(*(v32 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v33 + 8);

        v35 = a6(0);
        if (*(v24 + v27[10]))
        {
          v36 = *(v24 + v27[11]);
          v37 = *(v24 + v27[13]);
          if (v36)
          {
            v38 = v36 | 0x4000000000000000;
            v39 = v36;

            v40 = v36;
          }

          else
          {

            v38 = 0;
          }

          v101 = v38;
          v104 = v37;
        }

        else
        {
          v101 = 0x8000000000000000;
          v104 = 0;
        }

        v96 = v33;
        v41 = v33;
        isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        v107 = *a1;
        v98 = v34;
        v43 = v41 | (v34 << 32);
        v44 = sub_1AF41AE38(v43, v35);
        v46 = v45;
        v47 = v107[2] + ((v45 & 1) == 0);
        if (v107[3] >= v47)
        {
          v48 = v35;
          if ((isUniquelyReferenced_nonNull_native & 1) == 0)
          {
            sub_1AF84B17C();
          }
        }

        else
        {
          sub_1AF838ABC(v47, isUniquelyReferenced_nonNull_native);
          v48 = v35;
          v49 = sub_1AF41AE38(v43, v35);
          if ((v46 & 1) != (v50 & 1))
          {
            goto LABEL_55;
          }

          v44 = v49;
        }

        v27 = v93;
        if (v46)
        {
          v51 = (v107[7] + 16 * v44);
          v52 = *v51;
          v53 = v51[1];
          *v51 = v104;
          v51[1] = v101;
          sub_1AF70077C(v52, v53);
        }

        else
        {
          v107[(v44 >> 6) + 8] |= 1 << v44;
          v28 = v107[6] + 16 * v44;
          *v28 = v96;
          *(v28 + 4) = v98;
          *(v28 + 8) = v48;
          v29 = (v107[7] + 16 * v44);
          *v29 = v104;
          v29[1] = v101;
          ++v107[2];
        }

        sub_1AF70077C(v104, v101);
        *a1 = v107;
        v24 += v94;
        --v26;
        v20 = v100;
      }

      while (v26);
    }

LABEL_31:
    v8 = v85;
    v12 = v91;
    sub_1AF630994(v85, &v116, v121);
    sub_1AF62D29C(v20);
    v10 = v83;
    ecs_stack_allocator_pop_snapshot(v83);
    v9 = v84;
    if (v84)
    {
      os_unfair_lock_unlock(*(v20 + 344));
      os_unfair_lock_unlock(*(v20 + 376));
    }

    v11 = v92 + 1;
    if (v92 + 1 == v88)
    {

      v81(v110);
      goto LABEL_53;
    }
  }

  v54 = v124;
  v102 = v125;
  if (v124 == v125)
  {
    goto LABEL_31;
  }

  v55 = a5(0);
  v97 = v55;
  v99 = *(*(v55 - 1) + 72);
  v56 = v24 + v99 * v54;
  while (1)
  {

    if (*(v20 + 184))
    {
      break;
    }

    v60 = *(*(v20 + 168) + 4 * v54);
    v61 = *(*(v59 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v60 + 8);

    v62 = a6(0);
    if (*(v56 + v55[10]))
    {
      v63 = *(v56 + v55[11]);
      v64 = *(v56 + v55[13]);
      if (v63)
      {
        v65 = v63 | 0x4000000000000000;
        v66 = v63;

        v67 = v63;
      }

      else
      {

        v65 = 0;
      }
    }

    else
    {
      v64 = 0;
      v65 = 0x8000000000000000;
    }

    v68 = swift_isUniquelyReferenced_nonNull_native();
    v108 = *a1;
    v105 = v61;
    v69 = v60 | (v61 << 32);
    v70 = sub_1AF41AE38(v69, v62);
    v72 = v71;
    v73 = v108[2] + ((v71 & 1) == 0);
    if (v108[3] >= v73)
    {
      if ((v68 & 1) == 0)
      {
        v78 = v70;
        sub_1AF84B17C();
        v70 = v78;
      }
    }

    else
    {
      sub_1AF838ABC(v73, v68);
      v70 = sub_1AF41AE38(v69, v62);
      if ((v72 & 1) != (v74 & 1))
      {
        goto LABEL_55;
      }
    }

    v20 = v100;
    v55 = v97;
    if (v72)
    {
      v75 = (v108[7] + 16 * v70);
      v76 = *v75;
      v77 = v75[1];
      *v75 = v64;
      v75[1] = v65;
      sub_1AF70077C(v76, v77);
    }

    else
    {
      v108[(v70 >> 6) + 8] |= 1 << v70;
      v57 = v108[6] + 16 * v70;
      *v57 = v60;
      *(v57 + 4) = v105;
      *(v57 + 8) = v62;
      v58 = (v108[7] + 16 * v70);
      *v58 = v64;
      v58[1] = v65;
      ++v108[2];
    }

    ++v54;
    sub_1AF70077C(v64, v65);
    *a1 = v108;
    v56 += v99;
    if (v102 == v54)
    {
      goto LABEL_31;
    }
  }

LABEL_54:
  sub_1AFDFE518();
  __break(1u);
LABEL_55:
  result = sub_1AFDFF1A8();
  __break(1u);
  return result;
}

uint64_t sub_1AFA6F5BC()
{
  v0 = swift_allocObject();
  sub_1AFA5C588();
  return v0;
}

uint64_t sub_1AFA6F608(uint64_t a1)
{
  *(v1 + 16) = a1;
  *(v1 + 24) = CFXMTLCreateSystemDefaultDevice();

  return swift_unknownObjectRelease();
}

uint64_t sub_1AFA6F638@<X0>(int *a1@<X0>, uint64_t a2@<X8>)
{
  *a2 = 0;
  *(a2 + 2) = 1;
  v4 = a1[7];
  v5 = sub_1AFDFC128();
  result = (*(*(v5 - 8) + 56))(a2 + v4, 1, 1, v5);
  v7 = a1[9];
  *(a2 + a1[8]) = 0;
  *(a2 + v7) = 0;
  return result;
}

unint64_t sub_1AFA6F6C4()
{
  result = qword_1ED728DA8;
  if (!qword_1ED728DA8)
  {
    result = swift_getWitnessTable();
    atomic_store(result, &qword_1ED728DA8);
  }

  return result;
}

uint64_t sub_1AFA6F718(uint64_t a1, uint64_t (*a2)(void))
{
  v4 = v2;
  v5 = a1;
  v17[1] = *MEMORY[0x1E69E9840];
  v6 = *(a1 + 32);
  v7 = v6 & 0x3F;
  v8 = (1 << v6) + 63;
  v9 = v8 >> 6;
  v10 = 8 * (v8 >> 6);
  if (v7 <= 0xD)
  {
    goto LABEL_2;
  }

  v14 = 8 * (v8 >> 6);

  if (swift_stdlib_isStackAllocationSafe())
  {

    v10 = v14;
LABEL_2:
    MEMORY[0x1EEE9AC00](a1, v10);
    v12 = v17 - ((v11 + 15) & 0x3FFFFFFFFFFFFFF0);
    bzero(v12, v11);
    result = sub_1AFA6F884(v12, v9, v5, a2);
    if (v4)
    {
      return swift_willThrow();
    }

    return result;
  }

  v15 = swift_slowAlloc();
  v16 = sub_1AFA6FA4C(v15, v9, v5, a2);
  result = MEMORY[0x1B271DEA0](v15, -1, -1);
  if (!v4)
  {
    return v16;
  }

  return result;
}

uint64_t sub_1AFA6F884(unint64_t *a1, uint64_t a2, uint64_t a3, uint64_t (*a4)(void))
{
  v26 = 0;
  v7 = 0;
  v8 = 1 << *(a3 + 32);
  v9 = *(a3 + 64);
  v10 = -1;
  if (v8 < 64)
  {
    v10 = ~(-1 << v8);
  }

  v11 = v10 & v9;
  v12 = (v8 + 63) >> 6;
  if ((v10 & v9) != 0)
  {
    goto LABEL_7;
  }

LABEL_8:
  v15 = v7 << 6;
  while (1)
  {
    v16 = v7 + 1;
    if (v7 + 1 >= v12)
    {
      return sub_1AF8FB72C(a1, a2, v26, a3);
    }

    v17 = *(a3 + 8 * v7 + 72);
    v15 += 64;
    ++v7;
    if (v17)
    {
      v11 = (v17 - 1) & v17;
      v14 = __clz(__rbit64(v17)) + v15;
      v7 = v16;
      while (2)
      {
        v18 = *(*(a3 + 48) + 16 * v14);
        sub_1AF85B3D4(*(a3 + 56) + 96 * v14, v25);
        if (v18 != a4(0))
        {
          goto LABEL_16;
        }

        sub_1AF85B3D4(v25, v21);
        if (v24 == 1)
        {

          _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(&v23);
LABEL_6:
          _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v21);
          sub_1AFA9C0C8(v25);
          if (!v11)
          {
            goto LABEL_8;
          }
        }

        else
        {
          if (v24 == 2)
          {

            goto LABEL_6;
          }

LABEL_16:
          sub_1AFA9C0C8(v25);
          *(a1 + ((v14 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v14;
          ++v26;
          if (!v11)
          {
            goto LABEL_8;
          }
        }

LABEL_7:
        v13 = __clz(__rbit64(v11));
        v11 &= v11 - 1;
        v14 = v13 | (v7 << 6);
        continue;
      }
    }
  }
}

uint64_t sub_1AFA6FA4C(void *a1, uint64_t a2, uint64_t a3, uint64_t (*a4)(void))
{
  if (a2)
  {
    v5 = a1;
    v6 = a2;
    v7 = a4;
    bzero(a1, 8 * a2);
    a1 = v5;
    a2 = v6;
    a4 = v7;
  }

  v8 = sub_1AFA6F884(a1, a2, a3, a4);

  return v8;
}

uint64_t sub_1AFA6FACC(uint64_t a1, uint64_t a2, int a3, unint64_t a4, uint64_t a5, unint64_t a6, uint64_t a7)
{
  v83 = a7;
  v67 = a6;
  v66 = a5;
  v65 = a4;
  v64 = a3;
  sub_1AF5B25A4(0);
  v11 = v10;
  MEMORY[0x1EEE9AC00](v10, v12);
  v14 = &v55 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  v15 = type metadata accessor for EmitterScript(0);
  MEMORY[0x1EEE9AC00](v15, v16);
  v63 = &v55 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1AF5B2568(0);
  v19 = v18;
  MEMORY[0x1EEE9AC00](v18, v20);
  v22 = &v55 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v23, v24);
  v26 = &v55 - v25;
  sub_1AF85B3D4(a2, v77);
  if (!v82)
  {
    goto LABEL_18;
  }

  if (v82 != 1)
  {
    sub_1AFA9E388(a1);

    sub_1AF449D40(v77, v76);
    sub_1AF0D5A54(v76, &v70);
    swift_dynamicCast();
    v73 = v11;
    v74 = &off_1F250F310;
    v44 = sub_1AF585714(&v70);
    sub_1AFA9E2F0(a1, v44);
    v75 = 1;
    sub_1AF8259D0(&v70, v66, v67);
    _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v76);
    goto LABEL_18;
  }

  v56 = v22;
  v57 = v14;
  v58 = a2;
  v59 = v7;
  v61 = a1;
  sub_1AFA9E388(a1);
  v27 = v78;
  v62 = v79;
  v60 = v80;
  sub_1AF449D40(v77, v76);
  sub_1AF449D40(&v81, v69);
  *v26 = 0;
  v26[32] = 0;
  v28 = *(v15 + 32);
  v29 = type metadata accessor for ScriptIndex();
  (*(*(v29 - 8) + 56))(&v26[v28], 1, 1, v29);
  v30 = &v26[*(v15 + 36)];
  *v30 = 0;
  *(v30 + 1) = 0;
  *(v26 + 2) = 0x80000001AFF2B740;
  *(v26 + 3) = &unk_1F2503050;
  *(v26 + 1) = 0xD0000000000000C0;
  v31 = &v26[v11[9]];
  *v31 = 0;
  v31[8] = 1;
  v26[v11[10]] = 0;
  *&v26[v11[11]] = 0;
  v32 = &v26[v11[12]];
  *v32 = 0;
  *(v32 + 1) = 0xE000000000000000;
  *&v26[v11[13]] = MEMORY[0x1E69E7CC0];
  v34 = v19[9];
  v33 = v19[10];
  v35 = v19[11];
  *&v26[v19[12]] = 0;
  v26[v19[13]] = 0;
  v36 = &v26[v19[14]];
  *v36 = 0;
  v36[8] = 1;
  v37 = &v26[v19[15]];
  *v37 = 0;
  v37[1] = 0;
  sub_1AF0D5A54(v76, &v70);
  sub_1AFA9E388(v26);
  swift_dynamicCast();
  *&v26[v34] = v27;
  *&v26[v35] = v60;
  *&v26[v33] = v62;
  v38 = *v37;
  v62 = v27;

  sub_1AF919DAC(v38);
  sub_1AF0D5A54(v69, &v70);
  swift_dynamicCast();
  sub_1AFA9E2F0(v26, v61);
  if (v64)
  {
    v39 = v65;
    v40 = *(v65 + OBJC_IVAR____TtC3VFX13EntityManager_replicationStream);
    v41 = v67;
    v42 = v57;
    if (v40)
    {
      v43 = *(v40 + 80);
      swift_unknownObjectWeakLoadStrong();
      v40 = *(v40 + 56);
    }

    else
    {
      v43 = 0;
    }

    v64 = v43;
    v72 = 0;
    swift_unknownObjectUnownedInit();
    v70 = v39;
    v72 = v40;
    swift_unknownObjectUnownedAssign();
    swift_unownedRetain();
    swift_unknownObjectRelease();
    LOBYTE(v73) = v43;
    v47 = v56;
    sub_1AFA9E3C8(v26, v56, sub_1AF5B2568);
    v48 = v63;
    sub_1AFA9E3C8(v47, v63, type metadata accessor for EmitterScript);
    sub_1AFA9E8FC(v47, sub_1AF5B2568);
    sub_1AF5AEB28(v48, v41);
    sub_1AFA9E8FC(v48, type metadata accessor for EmitterScript);
    sub_1AFA9E2F0(v26, v42);
    sub_1AF5AECB8(v42, v41);
    sub_1AFA9E388(v42);
    sub_1AFA9E3C8(v26, v47, sub_1AF5B2568);
    sub_1AF5AEE48(v47, v41);
    v45 = v65;
    sub_1AFA9E8FC(v47, sub_1AF5B2568);
    sub_1AF579490(&v70);
    v46 = v66;
    if (v64)
    {
      v49 = [objc_opt_self() immediateMode];
      sub_1AF6C5E30(v49 ^ 1);
    }
  }

  else
  {
    v41 = v67;
    v45 = v65;
    sub_1AFBFE1BC(v26, v67);
    v46 = v66;
  }

  v73 = v19;
  v74 = &off_1F2558F90;
  v50 = sub_1AF585714(&v70);
  sub_1AFA9E3C8(v26, v50, sub_1AF5B2568);
  v75 = 0;
  sub_1AF8259D0(&v70, v46, v41);
  v51 = sub_1AF3CB548(v41);
  if (v51)
  {
    sub_1AFD08440(v45, v51, v52);
  }

  sub_1AF0D5A54(v69, &v70);
  if (swift_dynamicCast())
  {
    v53 = v68;

    v70 = MEMORY[0x1E69E7CC0];
    v71 = MEMORY[0x1E69E7CC0];
    sub_1AFD5541C(v45, v53);

    sub_1AFBFE1D4(v70, v71, v41);
LABEL_16:

    goto LABEL_17;
  }

  sub_1AF0D5A54(v69, &v70);
  if (swift_dynamicCast())
  {
    goto LABEL_16;
  }

LABEL_17:
  a2 = v58;
  sub_1AF678B44(v41);

  _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v69);
  _s3VFX14_BinaryDecoderC16SingleValueStoreVwxx_0(v76);
  sub_1AFA9E8FC(v26, sub_1AF5B2568);
LABEL_18:
  result = sub_1AF85B3D4(a2, v77);
  if (v82)
  {
    return sub_1AFA9C0C8(v77);
  }

  return result;
}

uint64_t sub_1AFA702F0(uint64_t a1, char a2)
{
  v3 = *(a1 + 16);
  v4 = *(a1 + 72);

  os_unfair_lock_lock(v4);
  v5 = *(a1 + 80);
  v6 = 1 << *(v5 + 32);
  v7 = -1;
  if (v6 < 64)
  {
    v7 = ~(-1 << v6);
  }

  v8 = v7 & *(v5 + 64);
  v41 = (v3 + OBJC_IVAR____TtC3VFX13EntityManager__entries);
  v42 = v3;
  v9 = (v6 + 63) >> 6;

  v10 = 0;
LABEL_5:
  if (v8)
  {
    goto LABEL_9;
  }

LABEL_6:
  while (1)
  {
    v11 = v10 + 1;
    if (v10 + 1 >= v9)
    {
      break;
    }

    v8 = *(v5 + 72 + 8 * v10++);
    if (v8)
    {
      v10 = v11;
LABEL_9:
      while (1)
      {
        v12 = __clz(__rbit64(v8)) | (v10 << 6);
        v13 = *(v5 + 48) + 16 * v12;
        v14 = *v13;
        v15 = *(v13 + 12);
        v16 = *(v13 + 8);
        sub_1AF85B3D4(*(v5 + 56) + 96 * v12, &v43);
        if (v44 == 255)
        {
          goto LABEL_34;
        }

        v8 &= v8 - 1;
        if (v14 == type metadata accessor for EmitterScript(0))
        {
          v17 = v16 == -1 && v15 == 0;
          if (v17 || (v16 & 0x80000000) != 0 || v41[1] <= v16 || (v15 != -1 ? (v18 = *(*v41 + 12 * v16 + 8) == v15) : (v18 = 1), !v18 || (v39 = (*v41 + 12 * v16), sub_1AF5B25A4(0), v20 = *(*(*(*(v42 + 88) + 8 * *(v39 + 3) + 32) + 16) + 128), !*(v20 + 16)) || (v37 = *(*(*(v42 + 88) + 8 * *(v39 + 3) + 32) + 16), v38 = v19, v21 = sub_1AF449CB8(v19), (v22 & 1) == 0) || *(*(v37 + 24) + 16 * *(*(v20 + 56) + 8 * v21) + 32) != v38))
          {
            sub_1AFA9C0C8(&v43);
            goto LABEL_5;
          }

          if (*(*(v38 - 8) + 64))
          {
            v23 = *(*(v38 - 8) + 72);
          }

          else
          {
            v23 = 0;
          }

          v24 = *(*(v42 + 144) + 8 * *v39 + 32);
          v25 = *(v24 + 48);
          v26 = (v25 + 32);
          v27 = *(v25 + 16) + 1;
          while (--v27)
          {
            v28 = v26 + 5;
            v29 = *v26;
            v26 += 5;
            if (v29 == v38)
            {
              sub_1AFA6FACC(*(v24 + 128) + *(v28 - 2) + v23 * *(v39 + 2), &v43, a2 & 1, v42, v14, v16 | (v15 << 32), a1);
              goto LABEL_11;
            }
          }

          sub_1AFDFE218();
          MEMORY[0x1B2718AE0](0x20797469746E45, 0xE700000000000000);
          v36 = sub_1AF656F38();
          MEMORY[0x1B2718AE0](v36);

          MEMORY[0x1B2718AE0](0xD000000000000019, 0x80000001AFF2E980);
          MEMORY[0x1B2718AE0](0xD000000000000023, 0x80000001AFF45760);
          MEMORY[0x1B2718AE0](0xD000000000000010, 0x80000001AFF2E9A0);
          result = sub_1AFDFE518();
          __break(1u);
          return result;
        }

LABEL_11:
        sub_1AFA9C0C8(&v43);
        if (!v8)
        {
          goto LABEL_6;
        }
      }
    }
  }

LABEL_34:

  v30 = *(*(a1 + 80) + 16);
  if (v30)
  {

    v32 = sub_1AFA6F718(v31, type metadata accessor for EmitterScript);

    *(a1 + 80) = v32;

    v33 = *(*(a1 + 80) + 16);
  }

  else
  {
    v33 = 0;
  }

  v34 = v30 != v33;
  os_unfair_lock_unlock(*(a1 + 72));

  return v34;
}

uint64_t sub_1AFA70744(uint64_t a1, NSObject *a2, NSObject *a3, int a4, uint64_t a5, int a6, _OWORD *a7, uint64_t a8, uint64_t a9)
{
  LODWORD(v492) = a6;
  v490 = a2;
  v491 = a5;
  v486 = a4;
  v497 = 0;
  v509 = type metadata accessor for EmitterScript(0);
  v487 = *(v509 - 8);
  MEMORY[0x1EEE9AC00](v509, v13);
  v483 = v14;
  v499 = &v462 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1AF0D0FCC(0, &qword_1EB633050, MEMORY[0x1E69E93B8], MEMORY[0x1E69E6720]);
  MEMORY[0x1EEE9AC00](v15 - 8, v16);
  v466 = &v462 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v18, v19);
  v479 = &v462 - v20;
  v21 = sub_1AFDFC4F8();
  v482 = *(v21 - 8);
  MEMORY[0x1EEE9AC00](v21, v22);
  v488 = &v462 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x1EEE9AC00](v24, v25);
  v485 = &v462 - v26;
  MEMORY[0x1EEE9AC00](v27, v28);
  v494 = &v462 - v29;
  v30 = swift_allocObject();
  *(v30 + 16) = a8;
  *(v30 + 24) = a9;
  v31 = *(a1 + 16);

  v507 = a8;

  v489 = a9;

  dispatch_group_enter(a3);
  v32 = *(a7 + 184);
  v592[0] = *(a7 + 168);
  v592[1] = v32;
  v593 = *(a7 + 25);
  v493 = OBJC_IVAR____TtC3VFX13EntityManager_queryManager;
  v478 = v31;
  sub_1AF6B06C0(v31, v592, 0x200000000, v551);
  v517 = a1;
  v518 = a3;
  v505 = v21;
  v506 = v30;
  v500 = a7;
  if (*&v551[0])
  {
    if (v555 < 1)
    {
      sub_1AFA9BF94(v551, &qword_1ED725EA0, &type metadata for QueryResult);
      v75 = 0;
    }

    else if (*(&v553 + 1))
    {
      v33 = *(&v552 + 1);
      v34 = *(&v554 + 1);
      v35 = *(&v552 + 1) + 48 * *(&v553 + 1);
      sub_1AF5B25A4(0);
      v511 = v36;
      v531 = v552;
      v532 = v553;
      v533 = v554;
      v534 = v555;
      v529 = v551[0];
      v530 = v551[1];
      sub_1AF5DD298(&v529, &v598);
      v515 = v34;
      v496 = v35;
      do
      {
        v37 = *(v33 + 40);
        v38 = *(v37 + 376);
        swift_retain_n();
        os_unfair_lock_lock(v38);
        os_unfair_lock_lock(*(v37 + 344));
        v39 = *(v37 + 24);

        v600 = 0;
        v598 = 0u;
        v599 = 0u;
        memset(v574, 0, 40);
        v40 = sub_1AF65A4B4(v39, v511, &off_1F250F310, 0, 0, &v598, v574);

        sub_1AFA9E8FC(v574, sub_1AF5C4448);
        sub_1AFA9E8FC(&v598, sub_1AF5C4448);
        if (sub_1AF649CEC())
        {
          sub_1AF649D40(v40);
        }

        else
        {
          v510 = v33;
          v42 = *(v37 + 232);
          v41 = *(v37 + 240);
          v43 = *(v37 + 120);
          v501 = *(v37 + 28);
          v44 = *(v37 + 32);
          v516 = *(v37 + 16);
          v45 = *(v37 + 40);
          v46 = v45[200];
          v47 = *(v516[11] + 8 * v40 + 32);

          if ((v46 & 1) != 0 || *(v47 + 200) == 1)
          {
            *(v516 + OBJC_IVAR____TtC3VFX13EntityManager_shouldNotifyEntityEvent) = 1;
            v45 = *(v37 + 40);
          }

          v48 = v45[212];
          LODWORD(v508) = v43;
          LODWORD(v502) = v40;
          if (v48)
          {
            LODWORD(v504) = 0;
          }

          else
          {
            LODWORD(v504) = *(v47 + 212);
          }

          LODWORD(v503) = v45[208];
          v514 = *(v37 + 128);
          v49 = *(v37 + 256);
          v50 = v41;
          v51 = v497;
          sub_1AF5B4FCC(v45, v42, v50, 0, v37);
          v497 = v51;
          v512 = *(v37 + 256);
          v513 = v49;
          v52 = v512 - v49;
          if (v512 == v49)
          {
            v53 = 0;
          }

          else
          {
            v53 = v49;
          }

          *&v574[0] = v53;
          v54 = *(*(v37 + 40) + 24);
          v55 = *(v54 + 16);
          if (v55)
          {
            LODWORD(v498) = v44;
            v56 = v54 + 32;

            v57 = 0;
            v58 = v47;
            do
            {
              v59 = v56 + 40 * v57;
              if ((*(v59 + 32) & 1) == 0)
              {
                v60 = *(v58 + 24);
                v61 = *(v60 + 16);
                if (v61)
                {
                  v62 = (v60 + 32);
                  while (*v62 != *v59)
                  {
                    v62 += 5;
                    if (!--v61)
                    {
                      goto LABEL_19;
                    }
                  }
                }

                else
                {
LABEL_19:
                  sub_1AF640BC8();
                  v58 = v47;
                }
              }

              ++v57;
            }

            while (v57 != v55);

            LOBYTE(v44) = v498;
          }

          if (*(v516 + OBJC_IVAR____TtC3VFX13EntityManager_counters))
          {
            vfx_counters.add(_:_:)(*(v516 + OBJC_IVAR____TtC3VFX13EntityManager_counters + 68), *(v37 + 72) * v52);
          }

          if (*(v37 + 184))
          {
            v63 = 0;
          }

          else
          {
            v63 = *(v37 + 168);
          }

          *&v569[0] = 0;

          DWORD2(v599) = -1;
          v600 = v513;
          v601 = v512;
          v602 = v513;
          v603 = v512;
          *&v598 = v513;
          *(&v598 + 1) = v512;
          *&v599 = v63;
          if (v52 < 1)
          {
          }

          else
          {
            *&v498 = &v462;

            v64 = v47;

            v65 = v508;
            v66 = v504;
            v67 = v501;
            v68 = v502;
            v69 = v503;
            v70 = v514;
            do
            {

              LOBYTE(v561) = v44;
              LOBYTE(v461) = v69;
              sub_1AF626158(v68, v67 | (v44 << 32), v65, v516, &v598, v67 | (v44 << 32), v37, v64, 0, 0, 0, 0, v574, v70, v569, v461, v68, v66, v515);
            }

            while ((*(&v598 + 1) - v598) > 0);
          }

          v71 = *(v37 + 192);
          v30 = v506;
          v33 = v510;
          if (v71)
          {
            v72 = *(v37 + 208);
            v73 = v513;
            v74 = v512;
            sub_1AF75D364(v513, v512, v71);
            sub_1AF75D364(v73, v74, v72);
          }

          v35 = v496;
        }

        v33 += 48;
        os_unfair_lock_unlock(*(v37 + 344));
        os_unfair_lock_unlock(*(v37 + 376));
      }

      while (v33 != v35);
      sub_1AFA9BF94(v551, &qword_1ED725EA0, &type metadata for QueryResult);
      sub_1AFA9BF94(v551, &qword_1ED725EA0, &type metadata for QueryResult);
      v75 = 1;
      a7 = v500;
    }

    else
    {
      sub_1AFA9BF94(v551, &qword_1ED725EA0, &type metadata for QueryResult);
      v75 = 1;
    }
  }

  else
  {
    v75 = 0;
  }

  v76 = a7[4];
  v590[0] = a7[3];
  v590[1] = v76;
  v591 = *(a7 + 10);
  sub_1AF6B06C0(v478, v590, 0x200000000, v556);
  if (*&v556[0])
  {
    if (v560 >= 1 && *(&v558 + 1))
    {
      v77 = *(&v557 + 1);
      v78 = *(&v559 + 1);
      v79 = *(&v557 + 1) + 48 * *(&v558 + 1);
      sub_1AF5B2568(0);
      v511 = v80;
      v531 = v557;
      v532 = v558;
      v533 = v559;
      v534 = v560;
      v529 = v556[0];
      v530 = v556[1];
      sub_1AF5DD298(&v529, &v598);
      v515 = v78;
      v496 = v79;
      do
      {
        v81 = *(v77 + 40);
        v82 = *(v81 + 376);
        swift_retain_n();
        os_unfair_lock_lock(v82);
        os_unfair_lock_lock(*(v81 + 344));
        v83 = *(v81 + 24);

        v600 = 0;
        v598 = 0u;
        v599 = 0u;
        memset(v574, 0, 40);
        v84 = sub_1AF65A4B4(v83, 0, 0, v511, &off_1F2558F90, &v598, v574);

        sub_1AFA9E8FC(v574, sub_1AF5C4448);
        sub_1AFA9E8FC(&v598, sub_1AF5C4448);
        if (sub_1AF649CEC())
        {
          sub_1AF649D40(v84);
        }

        else
        {
          v510 = v77;
          v86 = *(v81 + 232);
          v85 = *(v81 + 240);
          v87 = *(v81 + 120);
          v501 = *(v81 + 28);
          v88 = *(v81 + 32);
          v516 = *(v81 + 16);
          v89 = *(v81 + 40);
          v90 = v89[200];
          v91 = *(v516[11] + 8 * v84 + 32);

          if ((v90 & 1) != 0 || *(v91 + 200) == 1)
          {
            *(v516 + OBJC_IVAR____TtC3VFX13EntityManager_shouldNotifyEntityEvent) = 1;
            v89 = *(v81 + 40);
          }

          v92 = v89[212];
          LODWORD(v508) = v87;
          LODWORD(v502) = v84;
          if (v92)
          {
            LODWORD(v504) = 0;
          }

          else
          {
            LODWORD(v504) = *(v91 + 212);
          }

          LODWORD(v503) = v89[208];
          v514 = *(v81 + 128);
          v93 = *(v81 + 256);
          v94 = v85;
          v95 = v497;
          sub_1AF5B4FCC(v89, v86, v94, 0, v81);
          v497 = v95;
          v512 = *(v81 + 256);
          v513 = v93;
          v96 = v512 - v93;
          if (v512 == v93)
          {
            v97 = 0;
          }

          else
          {
            v97 = v93;
          }

          *&v574[0] = v97;
          v98 = *(*(v81 + 40) + 24);
          v99 = *(v98 + 16);
          if (v99)
          {
            LODWORD(v498) = v88;
            v100 = v98 + 32;

            v101 = 0;
            v102 = v91;
            do
            {
              v103 = v100 + 40 * v101;
              if ((*(v103 + 32) & 1) == 0)
              {
                v104 = *(v102 + 24);
                v105 = *(v104 + 16);
                if (v105)
                {
                  v106 = (v104 + 32);
                  while (*v106 != *v103)
                  {
                    v106 += 5;
                    if (!--v105)
                    {
                      goto LABEL_63;
                    }
                  }
                }

                else
                {
LABEL_63:
                  sub_1AF640BC8();
                  v102 = v91;
                }
              }

              ++v101;
            }

            while (v101 != v99);

            LOBYTE(v88) = v498;
          }

          if (*(v516 + OBJC_IVAR____TtC3VFX13EntityManager_counters))
          {
            vfx_counters.add(_:_:)(*(v516 + OBJC_IVAR____TtC3VFX13EntityManager_counters + 68), *(v81 + 72) * v96);
          }

          if (*(v81 + 184))
          {
            v107 = 0;
          }

          else
          {
            v107 = *(v81 + 168);
          }

          *&v569[0] = 0;

          DWORD2(v599) = -1;
          v600 = v513;
          v601 = v512;
          v602 = v513;
          v603 = v512;
          *&v598 = v513;
          *(&v598 + 1) = v512;
          *&v599 = v107;
          if (v96 < 1)
          {
          }

          else
          {
            *&v498 = &v462;

            v108 = v91;

            v109 = v508;
            v110 = v504;
            v111 = v501;
            v112 = v502;
            v113 = v503;
            v114 = v514;
            do
            {

              LOBYTE(v561) = v88;
              LOBYTE(v461) = v113;
              sub_1AF626158(v112, v111 | (v88 << 32), v109, v516, &v598, v111 | (v88 << 32), v81, v108, 0, 0, 0, 0, v574, v114, v569, v461, v112, v110, v515);
            }

            while ((*(&v598 + 1) - v598) > 0);
          }

          v115 = *(v81 + 192);
          v30 = v506;
          v77 = v510;
          if (v115)
          {
            v116 = *(v81 + 208);
            v117 = v513;
            v118 = v512;
            sub_1AF75D364(v513, v512, v115);
            sub_1AF75D364(v117, v118, v116);
          }

          v79 = v496;
        }

        v77 += 48;
        os_unfair_lock_unlock(*(v81 + 344));
        os_unfair_lock_unlock(*(v81 + 376));
      }

      while (v77 != v79);
      sub_1AFA9BF94(v556, &qword_1ED725EA0, &type metadata for QueryResult);
      sub_1AFA9BF94(v556, &qword_1ED725EA0, &type metadata for QueryResult);
      v75 = 1;
      a7 = v500;
    }

    else
    {
      sub_1AFA9BF94(v556, &qword_1ED725EA0, &type metadata for QueryResult);
      v75 = 1;
    }
  }

  LODWORD(v496) = v75;
  v119 = *(a7 + 104);
  v588[0] = *(a7 + 88);
  v588[1] = v119;
  v589 = *(a7 + 15);
  sub_1AF6B06C0(v478, v588, 0x200000000, &v561);
  if (v561)
  {
    v511 = v568;
    v120 = v497;
    if (v568 >= 1)
    {
      v510 = v565;
      if (v565)
      {
        v121 = 0;
        v508 = v564;
        v504 = v566;
        v122 = *(&v566->isa + OBJC_IVAR____TtC3VFX13EntityManager_lockChunksOnQueryForEach);
        v515 = v567[4];
        v516 = v567;
        v578 = v561;
        v579 = v562;
        v580 = v563;
        LODWORD(v503) = v122;
        do
        {
          v497 = v120;
          v514 = v121;
          v123 = &v508[12 * v121];
          v124 = *v123;
          v125 = v123[1];
          v126 = v123[2];
          v127 = *(v123 + 2);
          v128 = *(v123 + 3);
          v130 = *(v123 + 4);
          v129 = *(v123 + 5);
          if (v122)
          {
            v131 = *(v129 + 376);

            os_unfair_lock_lock(v131);
            os_unfair_lock_lock(*(v129 + 344));
          }

          else
          {
          }

          ecs_stack_allocator_push_snapshot(v515);
          v132 = v516;
          v133 = *(v516 + 4);
          v596[0] = *(v516 + 3);
          v596[1] = v133;
          v597 = v516[10];
          v134 = *(*(*(*(v129 + 40) + 16) + 32) + 16) + 1;
          v132[6] = ecs_stack_allocator_allocate(v516[4], 48 * v134, 8);
          v132[7] = v134;
          v132[9] = 0;
          v132[10] = 0;
          v132[8] = 0;
          LOBYTE(v529) = 1;
          *&v598 = v504;
          *(&v598 + 1) = v129;
          *&v599 = v132;
          *(&v599 + 1) = v126;
          v600 = (v125 - v124 + v126);
          v601 = v511;
          v602 = v124;
          v603 = v125;
          v604 = 0;
          v605 = 0;
          v606 = 1;
          v607 = v127;
          v608 = v128;
          v609 = v130;
          v135 = v497;
          v136 = sub_1AF706F6C(v129, &v598);
          v137 = v607;
          v513 = v135;
          if (v607)
          {
            v138 = v609;
            if (v609)
            {
              v512 = v599;
              v139 = (v136 + 8);
              do
              {
                v137 += 8;
                v140 = *(v139 - 1);
                v141 = *v139;

                sub_1AFD08440(v142, v140, v141);

                sub_1AF6FCDC8(0);
                v144 = *(*(v129 + 40) + 16);
                v145 = *(v144 + 128);
                if (*(v145 + 16))
                {
                  v146 = v143;
                  v147 = sub_1AF449CB8(v143);
                  if ((v148 & 1) != 0 && *(*(v144 + 24) + 16 * *(*(v145 + 56) + 8 * v147) + 32) == v146)
                  {
                    *&v529 = v146;
                    *(&v529 + 1) = &off_1F2559388;
                    BYTE8(v531) = 1;
                    MEMORY[0x1EEE9AC00](v147, v148);
                    v461 = v129;

                    sub_1AF63023C(0, v129, sub_1AFA9EC24);

                    sub_1AF635250(&v529);
                  }
                }

                v139 += 2;
                --v138;
              }

              while (v138);
            }
          }

          else
          {
            v149 = v602;
            v150 = v603;
            if (v602 != v603)
            {
              v151 = (v136 + 16 * v602 + 8);
              do
              {
                v152 = *(v151 - 1);
                v153 = *v151;

                sub_1AFD08440(v154, v152, v153);

                sub_1AF6FCDC8(0);
                v156 = *(*(v129 + 40) + 16);
                v157 = *(v156 + 128);
                if (*(v157 + 16))
                {
                  v158 = v155;
                  v159 = sub_1AF449CB8(v155);
                  if ((v160 & 1) != 0 && *(*(v156 + 24) + 16 * *(*(v157 + 56) + 8 * v159) + 32) == v158)
                  {
                    *&v529 = v158;
                    *(&v529 + 1) = &off_1F2559388;
                    BYTE8(v531) = 1;
                    MEMORY[0x1EEE9AC00](v159, v160);
                    v461 = v129;

                    sub_1AF63023C(0, v129, sub_1AFA9EC24);

                    sub_1AF635250(&v529);
                  }
                }

                ++v149;
                v151 += 2;
              }

              while (v150 != v149);
            }
          }

          v120 = v513;
          sub_1AF630994(v516, &v578, v596);
          sub_1AF62D29C(v129);
          ecs_stack_allocator_pop_snapshot(v515);
          v122 = v503;
          if (v503)
          {
            os_unfair_lock_unlock(*(v129 + 344));
            os_unfair_lock_unlock(*(v129 + 376));
          }

          v121 = v514 + 1;
        }

        while (v514 + 1 != v510);
      }
    }

    sub_1AFA9BF94(&v561, &qword_1ED725EA0, &type metadata for QueryResult);
    v30 = v506;
  }

  else
  {
    v120 = v497;
  }

  v161 = v500[9];
  v586[0] = v500[8];
  v586[1] = v161;
  v587 = *(v500 + 20);
  sub_1AF6B06C0(v478, v586, 0x200000000, v569);
  if (*&v569[0])
  {
    v162 = v573;
    if (v573 >= 1 && *(&v571 + 1))
    {
      v484 = v573;
      v163 = *(&v570 + 1);
      v515 = *(&v572 + 1);
      v164 = *(&v570 + 1) + 48 * *(&v571 + 1);
      sub_1AF5B25A4(0);
      v511 = v165;
      v531 = v570;
      v532 = v571;
      v533 = v572;
      v534 = v573;
      v529 = v569[0];
      v530 = v569[1];
      sub_1AF5DD298(&v529, v574);
      v495 = v164;
      do
      {
        v166 = *(v163 + 40);
        v167 = *(v166 + 376);
        swift_retain_n();
        os_unfair_lock_lock(v167);
        os_unfair_lock_lock(*(v166 + 344));
        v168 = *(v166 + 24);

        memset(v574, 0, 40);
        *&v547 = 0;
        v546 = 0u;
        v545 = 0u;
        v169 = sub_1AF65A4B4(v168, 0, 0, v511, &off_1F250F310, v574, &v545);

        sub_1AFA9E8FC(&v545, sub_1AF5C4448);
        sub_1AFA9E8FC(v574, sub_1AF5C4448);
        if (sub_1AF649CEC())
        {
          sub_1AF649D40(v169);
        }

        else
        {
          v510 = v163;
          v497 = v120;
          v171 = *(v166 + 232);
          v170 = *(v166 + 240);
          LODWORD(v508) = *(v166 + 120);
          v502 = *(v166 + 28);
          v172 = *(v166 + 32);
          v173 = *(v166 + 16);
          v174 = *(v166 + 40);
          v175 = v174[200];

          if ((v175 & 1) != 0 || *(v176 + 200) == 1)
          {
            *(v173 + OBJC_IVAR____TtC3VFX13EntityManager_shouldNotifyEntityEvent) = 1;
            v174 = *(v166 + 40);
          }

          v177 = v174[212];
          v178 = v176;
          v516 = v173;
          LODWORD(v503) = v169;
          if (v177)
          {
            LODWORD(v504) = 0;
          }

          else
          {
            LODWORD(v504) = *(v176 + 212);
          }

          v179 = v174[208];
          v514 = *(v166 + 128);
          v180 = *(v166 + 256);
          v181 = v170;
          v182 = v497;
          sub_1AF5B4FCC(v174, v171, v181, 0, v166);
          v497 = v182;
          v512 = *(v166 + 256);
          v513 = v180;
          v183 = v512 - v180;
          if (v512 == v180)
          {
            v184 = 0;
          }

          else
          {
            v184 = v180;
          }

          *&v545 = v184;
          v185 = *(*(v166 + 40) + 24);
          v186 = *(v185 + 16);
          if (v186)
          {
            LODWORD(v498) = v172;
            LODWORD(v501) = v179;
            v187 = v185 + 32;

            v188 = 0;
            v189 = v183;
            v190 = v178;
            do
            {
              v191 = v187 + 40 * v188;
              if ((*(v191 + 32) & 1) == 0)
              {
                v192 = *(v190 + 24);
                v193 = *(v192 + 16);
                if (v193)
                {
                  v194 = (v192 + 32);
                  while (*v194 != *v191)
                  {
                    v194 += 5;
                    if (!--v193)
                    {
                      goto LABEL_132;
                    }
                  }
                }

                else
                {
LABEL_132:
                  sub_1AF640BC8();
                  v190 = v178;
                  v189 = v183;
                }
              }

              ++v188;
            }

            while (v188 != v186);
            v183 = v189;

            LOBYTE(v179) = v501;
            LOBYTE(v172) = v498;
          }

          if (*(v516 + OBJC_IVAR____TtC3VFX13EntityManager_counters))
          {
            vfx_counters.add(_:_:)(*(v516 + OBJC_IVAR____TtC3VFX13EntityManager_counters + 68), *(v166 + 72) * v183);
          }

          if (*(v166 + 184))
          {
            v195 = 0;
          }

          else
          {
            v195 = *(v166 + 168);
          }

          *&v524 = 0;

          *&v574[1] = v195;
          DWORD2(v574[1]) = -1;
          *&v574[2] = v513;
          *(&v574[2] + 1) = v512;
          *&v575 = v513;
          *(&v575 + 1) = v512;
          *&v574[0] = v513;
          *(&v574[0] + 1) = v512;
          if (v183 < 1)
          {
          }

          else
          {
            v501 = &v462;

            v196 = v178;

            v197 = v508;
            v198 = v502;
            v199 = v503;
            v200 = v179;
            v201 = v504;
            v202 = v514;
            do
            {

              LOBYTE(v519) = v172;
              LOBYTE(v461) = v200;
              sub_1AF626158(v199, v198 | (v172 << 32), v197, v516, v574, v198 | (v172 << 32), v166, v196, 0, 0, 0, 0, &v545, v202, &v524, v461, v199, v201, v515);
            }

            while ((*(&v574[0] + 1) - *&v574[0]) > 0);
          }

          v203 = *(v166 + 192);
          v30 = v506;
          v120 = v497;
          if (v203)
          {
            v204 = *(v166 + 208);
            v206 = v512;
            v205 = v513;
            sub_1AF75D364(v513, v512, v203);
            sub_1AF75D364(v205, v206, v204);
          }

          v163 = v510;
          v164 = v495;
        }

        v163 += 48;
        os_unfair_lock_unlock(*(v166 + 344));
        os_unfair_lock_unlock(*(v166 + 376));
      }

      while (v163 != v164);
      sub_1AFA9BF94(v569, &qword_1ED725EA0, &type metadata for QueryResult);
      sub_1AFA9BF94(v569, &qword_1ED725EA0, &type metadata for QueryResult);
      v162 = v484;
    }

    else
    {
      sub_1AFA9BF94(v569, &qword_1ED725EA0, &type metadata for QueryResult);
    }

    v207 = v496;
    if (v162 > 0)
    {
      v207 = 1;
    }

    LODWORD(v496) = v207;
  }

  if (v490)
  {
    sub_1AFA61FF8(v517, v490, sub_1AFD2AB08);
    LODWORD(v496) = v496 | v208;
  }

  if (v491)
  {
    Strong = swift_unknownObjectUnownedLoadStrong();
  }

  else
  {
    Strong = 0;
  }

  v210 = v517;
  v211 = sub_1AFA702F0(v517, v492 & 1);

  v212 = *(v210 + 16);

  v497 = v120;
  if (v212)
  {
    v484 = sub_1AF8BB88C();
    v495 = v213;
  }

  else
  {
    v484 = 0;
    v495 = 0xE000000000000000;
  }

  v214 = v496 | v211;
  v215 = v500[14];
  v584[0] = v500[13];
  v584[1] = v215;
  v585 = *(v500 + 30);
  sub_1AF6B06C0(v478, v584, 0x200000000, v574);
  v216 = *&v574[0];
  if (!*&v574[0])
  {

    if ((v214 & 1) == 0)
    {
      goto LABEL_319;
    }

    goto LABEL_318;
  }

  if (v577 <= 0 || (v465 = *(&v575 + 1)) == 0)
  {

    sub_1AFA9BF94(v574, &qword_1ED725EA0, &type metadata for QueryResult);
    if ((v214 & 1) == 0)
    {
      goto LABEL_319;
    }

    goto LABEL_318;
  }

  v464 = *(&v574[2] + 1);
  v471 = *(&v576 + 1);
  v470 = *(*(&v576 + 1) + 32);
  v469 = *(v576 + OBJC_IVAR____TtC3VFX13EntityManager_lockChunksOnQueryForEach);
  sub_1AF5B25A4(0);
  v218 = v217;
  v581 = v216;
  v582 = *(v574 + 8);
  v583 = *(&v574[1] + 8);
  v501 = (v478 + OBJC_IVAR____TtC3VFX13EntityManager__entries);
  v547 = v574[2];
  v548 = v575;
  v549 = v576;
  v550 = v577;
  v545 = v574[0];
  v546 = v574[1];
  sub_1AF5DD298(&v545, &v529);
  v219 = 0;
  v508 = v218;
  v463 = v218 - 8;
  v496 = (v482 + 2);
  v476 = (v482 + 4);
  v467 = (v482 + 6);
  v483 += 7;
  v473 = &v525;
  v481 = (v482 + 7);
  ++v482;
  v472 = &v530;
  v474 = xmmword_1AFE21110;
  v498 = xmmword_1AFE72020;
LABEL_172:
  v468 = v219;
  v220 = (v464 + 48 * v219);
  v221 = *v220;
  v503 = v220[1];
  v222 = *(v220 + 3);
  v511 = *(v220 + 2);
  v223 = *(v220 + 4);
  v224 = *(v220 + 5);
  if (v469)
  {
    v225 = *(v224 + 376);

    os_unfair_lock_lock(v225);
    os_unfair_lock_lock(*(v224 + 344));
  }

  else
  {
  }

  ecs_stack_allocator_push_snapshot(v470);
  v226 = v471;
  v227 = *(v471 + 4);
  v594[0] = *(v471 + 3);
  v594[1] = v227;
  v595 = v471[10];
  v228 = *(*(*(*(v224 + 40) + 16) + 32) + 16) + 1;
  v226[6] = ecs_stack_allocator_allocate(v471[4], 48 * v228, 8);
  v226[7] = v228;
  v226[9] = 0;
  v226[10] = 0;
  v226[8] = 0;
  v229 = v511;
  v515 = sub_1AF64B110(v509, &off_1F255B720, v511, v222, v223, v226);
  v516 = sub_1AF64B110(v508, &off_1F250F310, v229, v222, v223, v226);
  if (v229)
  {
    if (!v223)
    {
      goto LABEL_315;
    }

    v503 = *(v487 + 72);
    v502 = *(*v463 + 72);
    v480 = v224;
    while (1)
    {
      v232 = *v511;
      v510 = v223;
      ++v511;

      if (*(v224 + 184))
      {
        goto LABEL_324;
      }

      v234 = *(*(v224 + 168) + 4 * v232);
      v235 = *(*(v233 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v234 + 8);

      v236 = v234 == -1 && v235 == 0;
      if (v236 || (v234 & 0x80000000) != 0 || v501[1] <= v234)
      {
        break;
      }

      v237 = *v501 + 12 * v234;
      if (v235 != -1 && *(v237 + 8) != v235)
      {
        break;
      }

      v239 = *(*(*(v478 + 88) + 8 * *(v237 + 6) + 32) + 16);
      v240 = *(v239 + 128);
      if (!*(v240 + 16))
      {
        break;
      }

      v241 = sub_1AF449CB8(&type metadata for Tombstone);
      if ((v242 & 1) == 0 || *(*(v239 + 24) + 16 * *(*(v240 + 56) + 8 * v241) + 32) != &type metadata for Tombstone)
      {
        break;
      }

LABEL_181:
      v516 = (v516 + v502);
      v515 += v503;
      v223 = v510 - 1;
      if (v510 == 1)
      {
        goto LABEL_314;
      }
    }

    dispatch_group_enter(v518);
    v243 = *(v224 + 64);
    v244 = *(v224 + 80);
    v539 = *(v224 + 112);
    v246 = *(v224 + 80);
    v245 = *(v224 + 96);
    v537 = v244;
    v538 = v245;
    v247 = *(v224 + 64);
    v535 = *(v224 + 48);
    v536 = v243;
    v248 = *(v224 + 96);
    v531 = v246;
    v532 = v248;
    LOBYTE(v533) = *(v224 + 112);
    v529 = *(v224 + 48);
    v530 = v247;
    v249 = sub_1AF64FB24(&type metadata for ScriptCompileOptions);
    v251 = v250;
    v542 = v531;
    v543 = v532;
    v544 = v533;
    v541 = v530;
    v540 = v529;

    sub_1AF5DD36C(&v535, &v524);
    sub_1AF5DD3C8(&v540);
    if (v251)
    {

      v513 = 0;
      v252 = 0;
      v253 = 0;
    }

    else
    {
      v254 = *(v224 + 128);

      v255 = (v254 + v249 + 24 * v232);
      v513 = *v255;
      v252 = *(v255 + 1);
      v253 = *(v255 + 2);
    }

    if (*(v224 + 184))
    {
      goto LABEL_324;
    }

    v512 = v252;
    v257 = *(*(v224 + 168) + 4 * v232);
    v258 = *(*(v256 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v257 + 8);

    v259 = swift_allocObject();
    v259[2] = sub_1AFA9EC2C;
    v259[3] = v30;
    v514 = v259;
    v260 = v517;
    v259[4] = v518;
    v261 = *(v260 + 16);

    if (v261)
    {
      v262 = *(v261 + OBJC_IVAR____TtC3VFX13EntityManager_scriptingConfig);
      swift_retain_n();
      v263 = v518;

      if ((v262 & 1) == 0 || *(v517 + 3048) != 1)
      {
        sub_1AF81F330();
        v264 = swift_allocError();
        v265 = v264;
        *v266 = v498;
        if (!*(v507 + 16))
        {
          v267 = v489;
          v268 = *(v489 + 72);
          v269 = v264;
          os_unfair_lock_lock(v268);
          v270 = *(v507 + 16);
          *(v507 + 16) = v265;
          v271 = v265;

          os_unfair_lock_unlock(*(v267 + 72));
        }

        dispatch_group_leave(v263);

        goto LABEL_207;
      }
    }

    else
    {
      swift_retain_n();
      v272 = v518;
    }

    v273 = sub_1AFAA71FC();
    v274 = v517;
    v275 = v516 + v508[9];
    v276 = *v275;
    LOBYTE(v275) = v275[8];
    v504 = v273;
    v277 = v275 | (v273 != v276);
    os_unfair_lock_lock(*(v517 + 72));
    v278 = *(v274 + 80);
    if (*(v278 + 16) && (v279 = sub_1AF41ACD4(v509, v257 | (v258 << 32)), (v280 & 1) != 0))
    {
      sub_1AF85B3D4(*(v278 + 56) + 96 * v279, &v529);
      if (BYTE8(v534) != 255)
      {
        sub_1AF85B3D4(&v529, &v524);
        sub_1AFA9BF94(&v529, &qword_1EB642590, &type metadata for CompilationStatus);
        *(v523 + 9) = *(v528 + 9);
        v521 = v526;
        v522 = v527;
        v523[0] = v528[0];
        v519 = v524;
        v520 = v525;
        if (!BYTE8(v528[1]))
        {
          v326 = v519;
          v327 = (v519 != v504) | v277;
          os_unfair_lock_unlock(*(v517 + 72));
          if (v327)
          {
            if (v326 == v504)
            {
              v263 = v518;
              dispatch_group_leave(v518);
LABEL_207:

              v30 = v506;
LABEL_179:

              v231 = v512;
              v230 = v513;
LABEL_180:
              sub_1AF487074(v230, v231);
              goto LABEL_181;
            }

LABEL_217:
            v491 = v257;
            v493 = v253;
            v281 = v508;
            v492 = swift_allocBox();
            v283 = v282;
            sub_1AFA5C210(v282);
            v284 = v283 + *(v281 + 36);
            v285 = v504;
            *v284 = v504;
            *(v284 + 8) = 0;
            sub_1AFA9DE54(v515, v283, type metadata accessor for EmitterScript);
            sub_1AFA9DE54(v283, v516, sub_1AF5B25A4);
            v286 = v517;
            os_unfair_lock_lock(*(v517 + 72));
            *&v529 = v285;
            BYTE8(v534) = 0;
            sub_1AF825824(&v529, v509, v257 | (v258 << 32));
            os_unfair_lock_unlock(*(v286 + 72));
            v287 = *(v286 + 16);

            if (v287)
            {
              v288 = v479;
              v289 = v505;
              (*v496)(v479, v287 + OBJC_IVAR____TtC3VFX13EntityManager_signpostID, v505);

              (*v481)(v288, 0, 1, v289);
              v290 = v494;
              (*v476)(v494, v288, v289);
            }

            else
            {
              v291 = v479;
              (*v481)(v479, 1, 1, v505);
              v290 = v494;
              if (qword_1ED7270F0 != -1)
              {
                swift_once();
              }

              v292 = sub_1AFDFC538();
              sub_1AF477C68(v292, qword_1ED73B608);
              sub_1AFDFC528();
              sub_1AFDFC4D8();
              if ((*v467)(v291, 1, v505) != 1)
              {
                sub_1AFA9C470(v291, &qword_1EB633050, MEMORY[0x1E69E93B8]);
              }
            }

            if (qword_1ED7270F0 != -1)
            {
              swift_once();
            }

            v490 = v258;
            v293 = sub_1AFDFC538();
            sub_1AF477C68(v293, qword_1ED73B608);
            v294 = sub_1AFDFC528();
            v295 = sub_1AFDFDB88();
            if (sub_1AFDFDCE8())
            {
              v296 = swift_slowAlloc();
              *v296 = 0;
              v297 = sub_1AFDFC4E8();
              _os_signpost_emit_with_name_impl(&dword_1AF0CE000, v294, v295, v297, "buildScript", "", v296, 2u);
              MEMORY[0x1B271DEA0](v296, -1, -1);
            }

            (*v496)(v485, v290, v505);
            sub_1AFDFC578();
            swift_allocObject();
            v298 = sub_1AFDFC568();
            sub_1AFA9E3C8(v515, v499, type metadata accessor for EmitterScript);
            v299 = (*(v487 + 80) + 400) & ~*(v487 + 80);
            v300 = (v483 + v299) & 0xFFFFFFFFFFFFFFF8;
            v301 = (v300 + 23) & 0xFFFFFFFFFFFFFFF8;
            v302 = (v301 + 27) & 0xFFFFFFFFFFFFFFF8;
            v303 = swift_allocObject();
            v304 = v509;
            *(v303 + 16) = v517;
            *(v303 + 24) = v304;
            v306 = v490;
            v305 = v491;
            *(v303 + 32) = v491;
            *(v303 + 36) = v306;
            *(v303 + 40) = v504;
            *(v303 + 48) = sub_1AFA9EC20;
            *(v303 + 56) = v514;
            *(v303 + 64) = v298;
            v504 = v298;
            memcpy((v303 + 72), v500, 0x148uLL);
            sub_1AFA9E320(v499, v303 + v299, type metadata accessor for EmitterScript);
            v307 = (v303 + v300);
            v308 = v495;
            *v307 = v484;
            v307[1] = v308;
            v309 = (v303 + v301);
            v310 = v512;
            v311 = v513;
            *v309 = v513;
            v309[1] = v310;
            v309[2] = v493;
            v312 = (v303 + v302);
            *v312 = v305;
            v312[1] = v306;
            *(v303 + ((v302 + 15) & 0xFFFFFFFFFFFFFFF8)) = v492;
            if ((v486 & 1) == 0)
            {
              v490 = *(v517 + 32);
              v320 = swift_allocObject();
              *(v320 + 16) = sub_1AFA9EB8C;
              *(v320 + 24) = v303;
              v321 = v320;
              v491 = v320;
              v322 = swift_allocObject();
              *(v322 + 16) = sub_1AFA9EB90;
              *(v322 + 24) = v321;
              *&v526 = sub_1AF6D25EC;
              *(&v526 + 1) = v322;
              *&v524 = MEMORY[0x1E69E9820];
              *(&v524 + 1) = 1107296256;
              *&v525 = sub_1AF6F662C;
              *(&v525 + 1) = &unk_1F255B170;
              v323 = _Block_copy(&v524);
              v513 = v311;
              v324 = v323;

              sub_1AFA9C054(v500, &v529, &unk_1EB633F28, type metadata accessor for EmitterScript);

              v325 = v512;
              sub_1AF487F80(v311, v512);

              dispatch_sync(v490, v324);
              _Block_release(v324);

              (*v482)(v494, v505);
              swift_isEscapingClosureAtFileLocation();

              v30 = v506;

              sub_1AF487074(v513, v325);
              v224 = v480;
              goto LABEL_181;
            }

            v490 = *(v517 + 40);
            v313 = swift_allocObject();
            *(v313 + 16) = sub_1AFA9EB8C;
            *(v313 + 24) = v303;
            v491 = v313;

            sub_1AFA9C054(v500, &v529, &unk_1EB633F28, type metadata accessor for EmitterScript);

            sub_1AF487F80(v311, v310);
            v314 = qword_1ED730EA0;

            v224 = v480;
            if (v314 != -1)
            {
              swift_once();
            }

            if (qword_1ED731058 != -1)
            {
              swift_once();
            }

            v315 = qword_1ED73B8A0;
            v316 = swift_allocObject();
            v317 = v491;
            *(v316 + 16) = sub_1AFA9EB90;
            *(v316 + 24) = v317;
            v318 = swift_allocObject();
            v318[2] = v315;
            v318[3] = sub_1AF6CC3F0;
            v318[4] = v316;
            *&v531 = sub_1AFA9EC30;
            *(&v531 + 1) = v318;
            *&v529 = MEMORY[0x1E69E9820];
            *(&v529 + 1) = 1107296256;
            *&v530 = sub_1AFCDA044;
            *(&v530 + 1) = &unk_1F255B210;
            v319 = _Block_copy(&v529);
            swift_retain_n();

            [v490 addOperationWithBlock:v319];
            _Block_release(v319);

            (*v482)(v494, v505);

            v30 = v506;

            v231 = v512;
            v230 = v513;
            goto LABEL_180;
          }

LABEL_237:
          v328 = v518;
          v329 = v516;
          sub_1AFA9DE54(v515, v516, type metadata accessor for EmitterScript);
          v330 = v508;
          v331 = *(v329 + *(v509 + 36));
          if (v331)
          {
            v332 = v516;
            v333 = v516[1];
            v334 = v516[2];

            v335 = sub_1AF458B0C(v333, v334);
            v331(*(v332 + v330[13]), v335);

            sub_1AF0FB8EC(v331);
          }

          if (*(v516 + v330[10]) == 1)
          {
            v336 = *(v516 + v330[11]);
            v337 = v336;
          }

          else
          {
            sub_1AF81F330();
            v336 = swift_allocError();
            *v338 = v474;
          }

          v30 = v506;
          if (!*(v507 + 16) && v336)
          {
            v339 = v489;
            v340 = *(v489 + 72);
            v341 = v336;
            os_unfair_lock_lock(v340);
            v342 = *(v507 + 16);
            *(v507 + 16) = v336;
            v343 = v336;

            os_unfair_lock_unlock(*(v339 + 72));
          }

          dispatch_group_leave(v328);

          goto LABEL_179;
        }

        sub_1AFA9C0C8(&v519);
LABEL_216:
        os_unfair_lock_unlock(*(v517 + 72));
        if (v277)
        {
          goto LABEL_217;
        }

        goto LABEL_237;
      }
    }

    else
    {
      *&v534 = 0;
      v532 = 0u;
      v533 = 0u;
      v530 = 0u;
      v531 = 0u;
      v529 = 0u;
      BYTE8(v534) = -1;
    }

    sub_1AFA9BF94(&v529, &qword_1EB642590, &type metadata for CompilationStatus);
    goto LABEL_216;
  }

  if (v221 == v503)
  {
    goto LABEL_315;
  }

  v344 = *(v487 + 72);
  v493 = *(*v463 + 72);
  v516 = (v516 + v493 * v221);
  v514 = 24 * v221;
  v515 += v344 * v221;
  v475 = v344;
  while (1)
  {

    if (*(v224 + 184))
    {
      break;
    }

    v349 = *(*(v224 + 168) + 4 * v221);
    v350 = *(*(v348 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v349 + 8);

    v351 = v349 == -1 && v350 == 0;
    if (!v351 && (v349 & 0x80000000) == 0 && v501[1] > v349)
    {
      v352 = *v501 + 12 * v349;
      if (v350 == -1 || *(v352 + 8) == v350)
      {
        v354 = *(*(*(v478 + 88) + 8 * *(v352 + 6) + 32) + 16);
        v355 = *(v354 + 128);
        if (*(v355 + 16))
        {
          v356 = sub_1AF449CB8(&type metadata for Tombstone);
          if ((v357 & 1) != 0 && *(*(v354 + 24) + 16 * *(*(v355 + 56) + 8 * v356) + 32) == &type metadata for Tombstone)
          {
            goto LABEL_249;
          }
        }
      }
    }

    dispatch_group_enter(v518);
    v358 = *(v224 + 64);
    v359 = *(v224 + 80);
    v539 = *(v224 + 112);
    v361 = *(v224 + 80);
    v360 = *(v224 + 96);
    v537 = v359;
    v538 = v360;
    v362 = *(v224 + 64);
    v535 = *(v224 + 48);
    v536 = v358;
    v363 = *(v224 + 96);
    v531 = v361;
    v532 = v363;
    LOBYTE(v533) = *(v224 + 112);
    v529 = *(v224 + 48);
    v530 = v362;
    v364 = sub_1AF64FB24(&type metadata for ScriptCompileOptions);
    v366 = v365;
    v542 = v531;
    v543 = v532;
    v544 = v533;
    v541 = v530;
    v540 = v529;

    sub_1AF5DD36C(&v535, &v524);
    sub_1AF5DD3C8(&v540);
    if (v366)
    {

      v513 = 0;
      v367 = 0;
      v368 = 0;
    }

    else
    {
      v369 = *(v224 + 128);

      v370 = (v369 + v514 + v364);
      v513 = *v370;
      v367 = *(v370 + 1);
      v368 = *(v370 + 2);
    }

    v511 = v367;

    if (*(v224 + 184))
    {
      break;
    }

    v512 = v368;
    v372 = *(v224 + 168);
    v510 = v221;
    v373 = *(v372 + 4 * v221);
    v504 = *(*(v371 + OBJC_IVAR____TtC3VFX13EntityManager__entries) + 12 * v373 + 8);

    v374 = swift_allocObject();
    v374[2] = sub_1AFA9EC2C;
    v374[3] = v30;
    v375 = v517;
    v374[4] = v518;
    v376 = *(v375 + 16);

    if (v376)
    {
      v377 = *(v376 + OBJC_IVAR____TtC3VFX13EntityManager_scriptingConfig);
      swift_retain_n();
      v378 = v518;

      if ((v377 & 1) == 0 || *(v517 + 3048) != 1)
      {
        sub_1AF81F330();
        v379 = swift_allocError();
        v380 = v379;
        *v381 = v498;
        if (!*(v507 + 16))
        {
          v382 = v489;
          v383 = *(v489 + 72);
          v384 = v379;
          os_unfair_lock_lock(v383);
          v385 = *(v507 + 16);
          *(v507 + 16) = v380;
          v386 = v380;

          v344 = v475;
          os_unfair_lock_unlock(*(v382 + 72));
        }

        dispatch_group_leave(v378);

        goto LABEL_275;
      }
    }

    else
    {
      swift_retain_n();
      v387 = v518;
    }

    v388 = v373;
    v389 = sub_1AFAA71FC();
    v390 = v517;
    v391 = v516 + v508[9];
    v392 = *v391;
    LOBYTE(v391) = v391[8];
    v502 = v389;
    v393 = v391 | (v389 != v392);
    os_unfair_lock_lock(*(v517 + 72));
    v394 = *(v390 + 80);
    if (!*(v394 + 16) || (v395 = sub_1AF41ACD4(v509, v373 | (v504 << 32)), (v396 & 1) == 0))
    {
      *&v534 = 0;
      v532 = 0u;
      v533 = 0u;
      v530 = 0u;
      v531 = 0u;
      v529 = 0u;
      BYTE8(v534) = -1;
LABEL_283:
      sub_1AFA9BF94(&v529, &qword_1EB642590, &type metadata for CompilationStatus);
LABEL_284:
      v397 = v517;
      os_unfair_lock_unlock(*(v517 + 72));
      if ((v393 & 1) == 0)
      {
        goto LABEL_306;
      }

      goto LABEL_285;
    }

    sub_1AF85B3D4(*(v394 + 56) + 96 * v395, &v529);
    if (BYTE8(v534) == 255)
    {
      goto LABEL_283;
    }

    sub_1AF85B3D4(&v529, &v524);
    sub_1AFA9BF94(&v529, &qword_1EB642590, &type metadata for CompilationStatus);
    *(v523 + 9) = *(v528 + 9);
    v521 = v526;
    v522 = v527;
    v523[0] = v528[0];
    v519 = v524;
    v520 = v525;
    if (BYTE8(v528[1]))
    {
      sub_1AFA9C0C8(&v519);
      goto LABEL_284;
    }

    v440 = v519;
    v441 = (v519 != v502) | v393;
    v397 = v517;
    os_unfair_lock_unlock(*(v517 + 72));
    if ((v441 & 1) == 0)
    {
LABEL_306:
      v443 = v516;
      sub_1AFA9DE54(v515, v516, type metadata accessor for EmitterScript);
      v444 = v508;
      v445 = *(v443 + *(v509 + 36));
      if (v445)
      {
        v446 = v443[1];
        v447 = v516[2];

        v448 = v447;
        v443 = v516;
        v449 = sub_1AF458B0C(v446, v448);
        v445(*(v443 + v444[13]), v449);

        sub_1AF0FB8EC(v445);
      }

      if (*(v443 + v444[10]) == 1)
      {
        v450 = *(v443 + v444[11]);
        v451 = v450;
      }

      else
      {
        sub_1AF81F330();
        v450 = swift_allocError();
        *v452 = v474;
      }

      v30 = v506;
      if (*(v507 + 16) || !v450)
      {
        v345 = v344;
      }

      else
      {
        v345 = v344;
        v453 = v489;
        v454 = *(v489 + 72);
        v455 = v450;
        os_unfair_lock_lock(v454);
        v456 = *(v507 + 16);
        *(v507 + 16) = v450;
        v457 = v450;

        os_unfair_lock_unlock(*(v453 + 72));
      }

      v221 = v510;
      v346 = v511;
      v347 = v518;
      dispatch_group_leave(v518);

      sub_1AF487074(v513, v346);
      v344 = v345;
      goto LABEL_249;
    }

    if (v440 == v502)
    {
      v442 = v518;
      dispatch_group_leave(v518);

      v30 = v506;
LABEL_275:

      goto LABEL_301;
    }

LABEL_285:
    v490 = v373;
    v398 = v508;
    v399 = swift_allocBox();
    v401 = v400;
    sub_1AFA5C210(v400);
    v402 = v401 + *(v398 + 36);
    v403 = v502;
    *v402 = v502;
    *(v402 + 8) = 0;
    sub_1AFA9DE54(v515, v401, type metadata accessor for EmitterScript);
    sub_1AFA9DE54(v401, v516, sub_1AF5B25A4);
    os_unfair_lock_lock(*(v397 + 72));
    *&v529 = v403;
    BYTE8(v534) = 0;
    sub_1AF825824(&v529, v509, v388 | (v504 << 32));
    os_unfair_lock_unlock(*(v397 + 72));
    v404 = *(v397 + 16);

    if (v404)
    {
      v405 = v466;
      v406 = v505;
      (*v496)(v466, v404 + OBJC_IVAR____TtC3VFX13EntityManager_signpostID, v505);

      (*v481)(v405, 0, 1, v406);
      (*v476)(v488, v405, v406);
    }

    else
    {
      v407 = v466;
      (*v481)(v466, 1, 1, v505);
      if (qword_1ED7270F0 != -1)
      {
        swift_once();
      }

      v408 = sub_1AFDFC538();
      sub_1AF477C68(v408, qword_1ED73B608);
      sub_1AFDFC528();
      sub_1AFDFC4D8();
      if ((*v467)(v407, 1, v505) != 1)
      {
        sub_1AFA9C470(v407, &qword_1EB633050, MEMORY[0x1E69E93B8]);
      }
    }

    if (qword_1ED7270F0 != -1)
    {
      swift_once();
    }

    v491 = v399;
    v492 = v374;
    v409 = sub_1AFDFC538();
    sub_1AF477C68(v409, qword_1ED73B608);
    v410 = sub_1AFDFC528();
    v411 = sub_1AFDFDB88();
    if (sub_1AFDFDCE8())
    {
      v412 = swift_slowAlloc();
      *v412 = 0;
      v413 = sub_1AFDFC4E8();
      _os_signpost_emit_with_name_impl(&dword_1AF0CE000, v410, v411, v413, "buildScript", "", v412, 2u);
      MEMORY[0x1B271DEA0](v412, -1, -1);
    }

    (*v496)(v485, v488, v505);
    sub_1AFDFC578();
    swift_allocObject();
    v414 = sub_1AFDFC568();
    sub_1AFA9E3C8(v515, v499, type metadata accessor for EmitterScript);
    v415 = (*(v487 + 80) + 400) & ~*(v487 + 80);
    v416 = (v483 + v415) & 0xFFFFFFFFFFFFFFF8;
    v417 = (v416 + 23) & 0xFFFFFFFFFFFFFFF8;
    v418 = (v417 + 27) & 0xFFFFFFFFFFFFFFF8;
    v477 = (v418 + 15) & 0xFFFFFFFFFFFFFFF8;
    v419 = swift_allocObject();
    v420 = v509;
    *(v419 + 16) = v517;
    *(v419 + 24) = v420;
    v421 = v490;
    v422 = v504;
    *(v419 + 32) = v490;
    *(v419 + 36) = v422;
    *(v419 + 40) = v502;
    *(v419 + 48) = sub_1AFA9EC20;
    *(v419 + 56) = v492;
    *(v419 + 64) = v414;
    v502 = v414;
    memcpy((v419 + 72), v500, 0x148uLL);
    sub_1AFA9E320(v499, v419 + v415, type metadata accessor for EmitterScript);
    v423 = (v419 + v416);
    v424 = v495;
    *v423 = v484;
    v423[1] = v424;
    v425 = (v419 + v417);
    v426 = v512;
    v427 = v513;
    v428 = v511;
    *v425 = v513;
    v425[1] = v428;
    v425[2] = v426;
    v429 = (v419 + v418);
    *v429 = v421;
    v429[1] = v422;
    *(v419 + v477) = v491;
    if ((v486 & 1) == 0)
    {
      v504 = *(v517 + 32);
      v436 = swift_allocObject();
      *(v436 + 16) = sub_1AFA9DEBC;
      *(v436 + 24) = v419;
      v437 = swift_allocObject();
      *(v437 + 16) = sub_1AFA9EB90;
      *(v437 + 24) = v436;
      *&v526 = sub_1AF6D25EC;
      *(&v526 + 1) = v437;
      *&v524 = MEMORY[0x1E69E9820];
      *(&v524 + 1) = 1107296256;
      *&v525 = sub_1AF6F662C;
      *(&v525 + 1) = &unk_1F255B008;
      v438 = _Block_copy(&v524);
      v513 = v427;
      v439 = v438;
      v490 = *(&v526 + 1);

      sub_1AFA9C054(v500, &v529, &unk_1EB633F28, type metadata accessor for EmitterScript);

      sub_1AF487F80(v427, v428);

      dispatch_sync(v504, v439);
      _Block_release(v439);

      (*v482)(v488, v505);
      swift_isEscapingClosureAtFileLocation();

      v30 = v506;

      sub_1AF487074(v513, v428);
      v221 = v510;
      v344 = v475;
      goto LABEL_249;
    }

    v504 = *(v517 + 40);
    v430 = swift_allocObject();
    *(v430 + 16) = sub_1AFA9DEBC;
    *(v430 + 24) = v419;

    sub_1AFA9C054(v500, &v529, &unk_1EB633F28, type metadata accessor for EmitterScript);

    sub_1AF487F80(v427, v428);
    v431 = qword_1ED730EA0;

    v344 = v475;
    if (v431 != -1)
    {
      swift_once();
    }

    if (qword_1ED731058 != -1)
    {
      swift_once();
    }

    v432 = qword_1ED73B8A0;
    v433 = swift_allocObject();
    *(v433 + 16) = sub_1AFA9EB90;
    *(v433 + 24) = v430;
    v434 = swift_allocObject();
    v434[2] = v432;
    v434[3] = sub_1AF6CC3F0;
    v434[4] = v433;
    *&v531 = sub_1AFA9EC30;
    *(&v531 + 1) = v434;
    *&v529 = MEMORY[0x1E69E9820];
    *(&v529 + 1) = 1107296256;
    *&v530 = sub_1AFCDA044;
    *(&v530 + 1) = &unk_1F255B0A8;
    v435 = _Block_copy(&v529);
    swift_retain_n();

    [v504 addOperationWithBlock:v435];
    _Block_release(v435);

    (*v482)(v488, v505);

    v30 = v506;

LABEL_301:

    sub_1AF487074(v513, v511);
    v221 = v510;
LABEL_249:
    ++v221;
    v516 = (v516 + v493);
    v514 += 24;
    v515 += v344;
    if (v503 == v221)
    {
LABEL_314:
      v214 = 1;
LABEL_315:
      v458 = v497;
      sub_1AF630994(v471, &v581, v594);
      v497 = v458;
      sub_1AF62D29C(v224);
      ecs_stack_allocator_pop_snapshot(v470);
      if (v469)
      {
        os_unfair_lock_unlock(*(v224 + 344));
        os_unfair_lock_unlock(*(v224 + 376));
      }

      v219 = v468 + 1;
      if (v468 + 1 != v465)
      {
        goto LABEL_172;
      }

      sub_1AFA9BF94(v574, &qword_1ED725EA0, &type metadata for QueryResult);

      sub_1AFA9BF94(v574, &qword_1ED725EA0, &type metadata for QueryResult);
      if ((v214 & 1) == 0)
      {
LABEL_319:
        dispatch_group_leave(v518);
      }

LABEL_318:

      sub_1AFA62400(v459);

      goto LABEL_319;
    }
  }

LABEL_324:

  result = sub_1AFDFE518();
  __break(1u);
  return result;
}