void sub_1A4D7D448(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getICQUICloudStorageOffersManagerClass_block_invoke(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_98697)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __iCloudQuotaUILibraryCore_block_invoke_98698;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E77382C0;
    v8 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_98697 = _sl_dlopen();
  }

  if (!iCloudQuotaUILibraryCore_frameworkLibrary_98697)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXCloudPhotoWelcomeViewController.m" lineNumber:47 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("ICQUICloudStorageOffersManager");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getICQUICloudStorageOffersManagerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXCloudPhotoWelcomeViewController.m" lineNumber:48 description:{@"Unable to find class %s", "ICQUICloudStorageOffersManager"}];

LABEL_10:
    __break(1u);
  }

  getICQUICloudStorageOffersManagerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_98698()
{
  result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_98697 = result;
  return result;
}

uint64_t __AppleAccountUILibraryCore_block_invoke()
{
  result = _sl_dlopen();
  AppleAccountUILibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1A4D7E11C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getMCProfileConnectionClass_block_invoke_98722(uint64_t a1)
{
  ManagedConfigurationLibrary_98725();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("MCProfileConnection");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getMCProfileConnectionClass_softClass_98721 = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMCProfileConnectionClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXCloudPhotoWelcomeViewController.m" lineNumber:57 description:{@"Unable to find class %s", "MCProfileConnection"}];

    __break(1u);
  }
}

void *__getMCFeatureCloudPhotoLibraryAllowedSymbolLoc_block_invoke_98724(uint64_t a1)
{
  v2 = ManagedConfigurationLibrary_98725();
  result = dlsym(v2, "MCFeatureCloudPhotoLibraryAllowed");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getMCFeatureCloudPhotoLibraryAllowedSymbolLoc_ptr_98723 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *ManagedConfigurationLibrary_98725()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!ManagedConfigurationLibraryCore_frameworkLibrary_98728)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __ManagedConfigurationLibraryCore_block_invoke_98729;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E7738290;
    v6 = 0;
    ManagedConfigurationLibraryCore_frameworkLibrary_98728 = _sl_dlopen();
  }

  v0 = ManagedConfigurationLibraryCore_frameworkLibrary_98728;
  if (!ManagedConfigurationLibraryCore_frameworkLibrary_98728)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *ManagedConfigurationLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXCloudPhotoWelcomeViewController.m" lineNumber:56 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

uint64_t __ManagedConfigurationLibraryCore_block_invoke_98729()
{
  result = _sl_dlopen();
  ManagedConfigurationLibraryCore_frameworkLibrary_98728 = result;
  return result;
}

id _ContactFetchQueue()
{
  if (_ContactFetchQueue_onceToken != -1)
  {
    dispatch_once(&_ContactFetchQueue_onceToken, &__block_literal_global_98976);
  }

  v1 = _ContactFetchQueue_contactFetchQueue;

  return v1;
}

void sub_1A4D7FDA4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v11 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__98987(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

__CFString *PXSharedLibraryAssistantModeDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"Invalid PXSharedLibraryAssistantMode: %ld", a1];
  }

  else
  {
    v2 = off_1E77382D8[a1];
  }

  return v2;
}

uint64_t PXCPLIsInTestReadonlyMode()
{
  if (PXCPLIsInTestReadonlyMode_onceToken != -1)
  {
    dispatch_once(&PXCPLIsInTestReadonlyMode_onceToken, &__block_literal_global_99338);
  }

  return PXCPLIsInTestReadonlyMode_isInTestReadOnlyMode;
}

void __PXCPLIsInTestReadonlyMode_block_invoke()
{
  v0 = [MEMORY[0x1E695E000] standardUserDefaults];
  PXCPLIsInTestReadonlyMode_isInTestReadOnlyMode = [v0 BOOLForKey:@"CPLTestReadOnlyMode"];
}

uint64_t PXCPLNumberOfCalendarUnitsBetweenDates(uint64_t a1, void *a2, void *a3, void *a4)
{
  v7 = a2;
  v8 = a3;
  v9 = a4;
  if (v7)
  {
    if (v8)
    {
      goto LABEL_3;
    }

LABEL_6:
    v17 = [MEMORY[0x1E696AAA8] currentHandler];
    v18 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSInteger PXCPLNumberOfCalendarUnitsBetweenDates(NSCalendarUnit, NSDate *__strong _Nonnull, NSDate *__strong _Nonnull, NSCalendar *__strong _Nonnull)"}];
    [v17 handleFailureInFunction:v18 file:@"PXCPLStatusUtilities.m" lineNumber:25 description:{@"Invalid parameter not satisfying: %@", @"toDate"}];

    if (v9)
    {
      goto LABEL_4;
    }

LABEL_7:
    v19 = [MEMORY[0x1E696AAA8] currentHandler];
    v20 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSInteger PXCPLNumberOfCalendarUnitsBetweenDates(NSCalendarUnit, NSDate *__strong _Nonnull, NSDate *__strong _Nonnull, NSCalendar *__strong _Nonnull)"}];
    [v19 handleFailureInFunction:v20 file:@"PXCPLStatusUtilities.m" lineNumber:26 description:{@"Invalid parameter not satisfying: %@", @"calendar"}];

    goto LABEL_4;
  }

  v15 = [MEMORY[0x1E696AAA8] currentHandler];
  v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSInteger PXCPLNumberOfCalendarUnitsBetweenDates(NSCalendarUnit, NSDate *__strong _Nonnull, NSDate *__strong _Nonnull, NSCalendar *__strong _Nonnull)"}];
  [v15 handleFailureInFunction:v16 file:@"PXCPLStatusUtilities.m" lineNumber:24 description:{@"Invalid parameter not satisfying: %@", @"fromDate"}];

  if (!v8)
  {
    goto LABEL_6;
  }

LABEL_3:
  if (!v9)
  {
    goto LABEL_7;
  }

LABEL_4:
  v10 = [v7 px_dateTruncatedToCalendarUnit:a1 calendar:v9];
  v11 = [v8 px_dateTruncatedToCalendarUnit:a1 calendar:v9];
  v12 = [v9 components:a1 fromDate:v10 toDate:v11 options:1];
  v13 = [v12 valueForComponent:a1];

  return v13;
}

uint64_t PXCPLNumberOfCalendarUnitsUntilDate(uint64_t a1, void *a2)
{
  v3 = MEMORY[0x1E695DF00];
  v4 = a2;
  v5 = [v3 date];
  v6 = [MEMORY[0x1E695DEE8] currentCalendar];
  v7 = PXCPLNumberOfCalendarUnitsBetweenDates(a1, v5, v4, v6);

  return v7;
}

uint64_t PXCPLFractionToPercentCompleted(float a1)
{
  if (a1 < 0.0)
  {
    return -1;
  }

  v2 = vcvtps_s32_f32(a1 * 100.0);
  if (v2 >= 100)
  {
    return 100;
  }

  else
  {
    return v2;
  }
}

float PXCPLPercentToFractionCompleted(unint64_t a1)
{
  if ((a1 & 0x8000000000000000) != 0)
  {
    return -1.0;
  }

  result = a1 / 100.0;
  if (result > 1.0)
  {
    return 1.0;
  }

  return result;
}

id _DictionaryRepresentationToString(void *a1)
{
  v15[48] = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v10 = [MEMORY[0x1E696AAA8] currentHandler];
    v11 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString *_DictionaryRepresentationToString(NSDictionary<NSString *, id> *__strong)"}];
    [v10 handleFailureInFunction:v11 file:@"PXCPLStatus_Serialization.m" lineNumber:124 description:{@"Invalid parameter not satisfying: %@", @"dictionaryRepresentation"}];
  }

  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v15[0] = @"enabled";
  v15[1] = @"local-mode";
  v15[2] = @"rebuild";
  v15[3] = @"thumbnails";
  v15[4] = @"syncing";
  v15[5] = @"upload";
  v15[6] = @"progress";
  v15[7] = @"add";
  v15[8] = @"download";
  v15[9] = @"offline";
  v15[10] = @"soft-reset";
  v15[11] = @"hard-reset";
  v15[12] = @"cloud-quota";
  v15[13] = @"offer";
  v15[14] = @"quota-state";
  v15[15] = @"low-disk-space";
  v15[16] = @"very-low-disk-space";
  v15[17] = @"battery-budget";
  v15[18] = @"cellular-budget";
  v15[19] = @"cellular-disabled";
  v15[20] = @"airplane-mode";
  v15[21] = @"user";
  v15[22] = @"low-data-mode";
  v15[23] = @"low-power-mode";
  v15[24] = @"version";
  v15[25] = @"authenticate";
  v15[26] = @"capture-snapshot";
  v15[27] = @"optimizing-system-performance";
  v15[28] = @"poor-network-connection";
  v15[29] = @"moderate-thermal-pressure";
  v15[30] = @"heavy-thermal-pressure";
  v15[31] = @"low-battery";
  v15[32] = @"sync-date";
  v15[33] = @"exit-date";
  v15[34] = @"failed";
  v15[35] = @"referenced";
  v15[36] = @"photos";
  v15[37] = @"videos";
  v15[38] = @"others";
  v15[39] = @"shared-library-state";
  v15[40] = @"shared-library-exiting-count";
  v15[41] = @"move-to-shared";
  v15[42] = @"move-to-personal";
  v15[43] = @"shared-library-cloud-quota";
  v15[44] = @"upgrade-suggested";
  v15[45] = @"quota-title";
  v15[46] = @"quota-subtitle";
  v15[47] = @"quota-action-title";
  v3 = [MEMORY[0x1E695DEC8] arrayWithObjects:v15 count:48];
  v12[0] = MEMORY[0x1E69E9820];
  v12[1] = 3221225472;
  v12[2] = ___DictionaryRepresentationToString_block_invoke;
  v12[3] = &unk_1E77382F8;
  v13 = v1;
  v14 = v2;
  v4 = v2;
  v5 = v1;
  [v3 enumerateObjectsUsingBlock:v12];

  v6 = [v4 componentsJoinedByString:@" "];;
  v7 = [@"{" stringByAppendingString:v6];
  v8 = [v7 stringByAppendingString:@"}"];

  return v8;
}

id _SerializationDateFormatter()
{
  if (_SerializationDateFormatter_predicate != -1)
  {
    dispatch_once(&_SerializationDateFormatter_predicate, &__block_literal_global_99698);
  }

  v1 = _SerializationDateFormatter__dateFormatter;

  return v1;
}

id _DateForPlaceholderString(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v3;
  v6 = objc_alloc_init(MEMORY[0x1E695DF10]);
  if (![v5 isEqualToString:@"__SYNC_DATE__"])
  {
    if ([v5 isEqualToString:@"__SYNC_DATE_SECONDS__"])
    {
      [v6 setSecond:-2];
      goto LABEL_16;
    }

    if ([v5 isEqualToString:@"__SYNC_DATE_HOURS__"])
    {
      [v6 setHour:-2];
      goto LABEL_16;
    }

    if ([v5 isEqualToString:@"__SYNC_DATE_YESTERDAY__"])
    {
      v7 = v6;
      v8 = -1;
    }

    else
    {
      if (![v5 isEqualToString:@"__SYNC_DATE_DAYS__"])
      {
        if ([v5 isEqualToString:@"__SYNC_DATE_WEEKS__"])
        {
          v7 = v6;
          v8 = -14;
          goto LABEL_15;
        }

        if ([v5 isEqualToString:@"__EXIT_DATE__"])
        {
          v7 = v6;
          v8 = 25;
          goto LABEL_15;
        }

        if (![v5 isEqualToString:@"__EXIT_DATE_PAST__"])
        {

          v6 = 0;
          v11 = 0;
          v10 = v5;
          goto LABEL_21;
        }
      }

      v7 = v6;
      v8 = -2;
    }

LABEL_15:
    [v7 setDay:v8];
    goto LABEL_16;
  }

  [v6 setMinute:-2];
LABEL_16:

  if (!v6)
  {
    v11 = 0;
    goto LABEL_22;
  }

  v9 = [MEMORY[0x1E695DEE8] currentCalendar];
  v10 = v9;
  if (v4)
  {
    v11 = [v9 dateByAddingComponents:v6 toDate:v4 options:0];
  }

  else
  {
    v12 = [MEMORY[0x1E695DF00] now];
    v11 = [v10 dateByAddingComponents:v6 toDate:v12 options:0];
  }

LABEL_21:

LABEL_22:

  return v11;
}

void sub_1A4D844B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__99732(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t PXQuadTreeNodeRunCollector(double *a1, uint64_t a2)
{
  while (1)
  {
    (*(a2 + 16))(a2, *(a1 + 4), *(a1 + 5), *(a1 + 10), *(a1 + 11), *a1 == 0, a1[6], a1[7], a1[8], a1[9]);
    result = *a1;
    if (!*a1)
    {
      break;
    }

    PXQuadTreeNodeRunCollector(result, a2);
    PXQuadTreeNodeRunCollector(*(a1 + 1), a2);
    PXQuadTreeNodeRunCollector(*(a1 + 2), a2);
    a1 = *(a1 + 3);
  }

  return result;
}

void sub_1A4D849B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t mapPointComparator(double *a1, double *a2)
{
  if (*a1 >= *a2)
  {
    v2 = 0;
  }

  else
  {
    v2 = -1;
  }

  if (*a1 > *a2)
  {
    return 1;
  }

  else
  {
    return v2;
  }
}

uint64_t PXQuadTreeNodeFindItemsInRect(uint64_t *a1, uint64_t a2, double a3, double a4, double a5, double a6)
{
  while (1)
  {
    v16.origin.x = a3;
    v16.origin.y = a4;
    v16.size.width = a5;
    v16.size.height = a6;
    result = MKMapRectIntersectsRect(*(a1 + 6), v16);
    if (!result)
    {
      break;
    }

    if (a1[5])
    {
      v13 = 0;
      v14 = 0;
      do
      {
        v15.origin.x = a3;
        v15.origin.y = a4;
        v15.size.width = a5;
        v15.size.height = a6;
        if (MKMapRectContainsPoint(v15, *(a1[11] + v13)))
        {
          (*(a2 + 16))(a2, [a1[10] objectAtIndex:v14]);
        }

        ++v14;
        v13 += 16;
      }

      while (v14 < a1[5]);
    }

    result = *a1;
    if (!*a1)
    {
      break;
    }

    PXQuadTreeNodeFindItemsInRect(result, a2, a3, a4, a5, a6);
    PXQuadTreeNodeFindItemsInRect(a1[1], a2, a3, a4, a5, a6);
    PXQuadTreeNodeFindItemsInRect(a1[2], a2, a3, a4, a5, a6);
    a1 = a1[3];
  }

  return result;
}

BOOL PXQuadTreeNodeRemoveItem(uint64_t a1, uint64_t a2, void *a3, double a4, double a5)
{
  v16.x = a4;
  v16.y = a5;
  result = MKMapRectContainsPoint(*(a1 + 48), v16);
  if (result)
  {
    if (*(a1 + 40) && (PXQuadTreeNodeOptimize(a1, a3), v11 = [*(a1 + 80) indexOfObject:a2], v11 != 0x7FFFFFFFFFFFFFFFLL))
    {
      v12 = v11;
      [*(a1 + 80) removeObjectAtIndex:v11];
      v13 = malloc_type_malloc(16 * *(a1 + 32), 0x1000040451B5BE8uLL);
      v14 = v13;
      if (v12)
      {
        memcpy(v13, *(a1 + 88), 16 * v12);
      }

      v15 = *(a1 + 40);
      if (v12 < v15 - 1)
      {
        memcpy(&v14[16 * v12], (*(a1 + 88) + 16 * v12 + 16), 16 * (v15 + ~v12));
      }

      free(*(a1 + 88));
      *(a1 + 88) = v14;
      --*(a1 + 40);
      if (a3)
      {
        ++*a3;
      }
    }

    else if (!*a1 || (PXQuadTreeNodeRemoveItem(*a1, a2, a3, a4, a5) & 1) == 0 && (PXQuadTreeNodeRemoveItem(*(a1 + 8), a2, a3, a4, a5) & 1) == 0 && (PXQuadTreeNodeRemoveItem(*(a1 + 16), a2, a3, a4, a5) & 1) == 0 && (PXQuadTreeNodeRemoveItem(*(a1 + 24), a2, a3, a4, a5) & 1) == 0)
    {
      return 0;
    }

    return 1;
  }

  return result;
}

uint64_t PXQuadTreeNodeInsertItem(uint64_t a1, uint64_t a2, double a3, double a4)
{
  while (1)
  {
    v19.x = a3;
    v19.y = a4;
    v8 = MKMapRectContainsPoint(*(a1 + 48), v19);
    if (!v8)
    {
      break;
    }

    v9 = *(a1 + 32);
    v10 = *(a1 + 40);
    if (v9 <= v10 && *(a1 + 64) < 500.0)
    {
      PXQuadTreeNodeExtendCapacity(a1);
      v9 = *(a1 + 32);
      v10 = *(a1 + 40);
    }

    if (v9 > v10)
    {
      v15 = [*(a1 + 80) count];
      [*(a1 + 80) addObject:a2];
      if ([*(a1 + 80) count] <= v15)
      {
        return 0;
      }

      v16 = *(a1 + 40);
      v17 = (*(a1 + 88) + 16 * v16);
      *v17 = a3;
      v17[1] = a4;
      *(a1 + 40) = v16 + 1;
      return 1;
    }

    v11 = *a1;
    if (!*a1)
    {
      PXQuadTreeNodeSubdivide(a1);
      PXQuadTreeNodeMoveItemsToChildNodes(a1);
      v11 = *a1;
    }

    PXQuadTreeNodeInsertItem(v11, a2, a3, a4);
    if (v12)
    {
      return v8;
    }

    PXQuadTreeNodeInsertItem(*(a1 + 8), a2, a3, a4);
    if (v13)
    {
      return v8;
    }

    PXQuadTreeNodeInsertItem(*(a1 + 16), a2, a3, a4);
    if (v14)
    {
      return v8;
    }

    a1 = *(a1 + 24);
  }

  return v8;
}

void PXQuadTreeNodeExtendCapacity(uint64_t a1)
{
  v2 = *(a1 + 32);
  if (*(a1 + 88))
  {
    v3 = malloc_type_malloc(32 * v2, 0x1000040451B5BE8uLL);
    memcpy(v3, *(a1 + 88), 16 * *(a1 + 40));
    free(*(a1 + 88));
    *(a1 + 88) = v3;
  }

  *(a1 + 32) = 2 * v2;
}

double *PXQuadTreeNodeSubdivide(uint64_t a1)
{
  v2 = *(a1 + 48);
  v3 = *(a1 + 56);
  v4 = *(a1 + 64) * 0.5;
  v5 = *(a1 + 72) * 0.5;
  *a1 = PXQuadTreeNodeMake(*(a1 + 32), v2 + v4, v3 + v5, v4, v5);
  *(a1 + 8) = PXQuadTreeNodeMake(*(a1 + 32), v2, v3 + v5, v4, v5);
  *(a1 + 16) = PXQuadTreeNodeMake(*(a1 + 32), v2, v3, v4, v5);
  result = PXQuadTreeNodeMake(*(a1 + 32), v2 + v4, v3, v4, v5);
  *(a1 + 24) = result;
  return result;
}

void PXQuadTreeNodeMoveItemsToChildNodes(uint64_t a1)
{
  if (*(a1 + 40))
  {
    v2 = 0;
    v3 = 0;
    do
    {
      v4 = (*(a1 + 88) + v2);
      v5 = *v4;
      v6 = v4[1];
      v7 = [*(a1 + 80) objectAtIndex:v3];
      PXQuadTreeNodeInsertItem(*a1, v7, v5, v6);
      PXQuadTreeNodeInsertItem(*(a1 + 8), v7, v5, v6);
      PXQuadTreeNodeInsertItem(*(a1 + 16), v7, v5, v6);
      PXQuadTreeNodeInsertItem(*(a1 + 24), v7, v5, v6);
      ++v3;
      v2 += 16;
    }

    while (v3 < *(a1 + 40));
  }

  *(a1 + 32) = 0;
  *(a1 + 40) = 0;

  *(a1 + 80) = 0;
  v8 = *(a1 + 88);
  if (v8)
  {
    free(v8);
    *(a1 + 88) = 0;
  }
}

double *PXQuadTreeNodeMake(uint64_t a1, double a2, double a3, double a4, double a5)
{
  v10 = malloc_type_malloc(0x60uLL, 0x10A0040784199D9uLL);
  *(v10 + 4) = a1;
  v10[5] = 0.0;
  v10[6] = a2;
  v10[7] = a3;
  v10[8] = a4;
  v10[9] = a5;
  *(v10 + 10) = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:a1];
  if (a1)
  {
    v11 = malloc_type_malloc(16 * a1, 0x1000040451B5BE8uLL);
  }

  else
  {
    v11 = 0;
  }

  *(v10 + 11) = v11;
  *v10 = 0u;
  *(v10 + 1) = 0u;
  return v10;
}

uint64_t PXQuadTreeNodeOptimize(uint64_t a1, void *a2)
{
  objc_opt_class();
  isKindOfClass = objc_opt_isKindOfClass();
  if (isKindOfClass)
  {
    v5 = [objc_alloc(MEMORY[0x1E695DFA0]) initWithArray:*(a1 + 80)];
    v6 = [*(a1 + 80) count];
    v7 = [v5 count];

    *(a1 + 80) = v5;
    v8 = v6 - v7;
    if (v6 != v7)
    {
      if ([v5 count])
      {
        v9 = 0;
        v10 = 0;
        do
        {
          [objc_msgSend(v5 objectAtIndex:{v10), "coordinate"}];
          *(*(a1 + 88) + v9) = MKMapPointForCoordinate(v12);
          ++v10;
          v9 += 16;
        }

        while (v10 < [v5 count]);
      }

      *(a1 + 40) = v7;
      if (a2)
      {
        *a2 += v8;
      }
    }
  }

  return isKindOfClass & 1;
}

void PXQuadTreeNodeFree(void *a1)
{
  if (*a1)
  {
    PXQuadTreeNodeFree();
  }

  if (*(a1 + 1))
  {
    PXQuadTreeNodeFree();
  }

  if (*(a1 + 2))
  {
    PXQuadTreeNodeFree();
  }

  if (*(a1 + 3))
  {
    PXQuadTreeNodeFree();
  }

  v2 = *(a1 + 11);
  if (v2)
  {
    free(v2);
  }

  free(a1);
}

void sub_1A4D8781C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4D89340(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4D896F0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, id location)
{
  objc_destroyWeak((v21 + 32));
  objc_destroyWeak((v22 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXCPAnalyticsEventNameForDeletePhotosAction(unint64_t a1)
{
  if (a1 > 5)
  {
    return 0;
  }

  else
  {
    return off_1E7738438[a1];
  }
}

__CFString *NSStringFromPXSharedAlbumsActivityEntryType(uint64_t a1)
{
  if ((a1 - 1) > 6)
  {
    return @"Assets";
  }

  else
  {
    return *(&off_1E77385E0 + a1 - 1);
  }
}

void sub_1A4D8DB64(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, char a30, uint64_t a31, uint64_t a32, uint64_t a33, char a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, char a40)
{
  _Block_object_dispose(&a30, 8);
  _Block_object_dispose(&a34, 8);
  _Block_object_dispose(&a40, 8);
  _Block_object_dispose((v40 - 200), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__100957(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4D8F908(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4D8FC30(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4D9010C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __CoreDuetLibraryCore_block_invoke(uint64_t a1)
{
  result = _sl_dlopen();
  *(*(*(a1 + 32) + 8) + 24) = result;
  CoreDuetLibraryCore_frameworkLibrary = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void CoreDuetLibrary()
{
  v17 = *MEMORY[0x1E69E9840];
  v7[0] = 0;
  v10 = 0;
  v11 = &v10;
  v12 = 0x2020000000;
  v0 = CoreDuetLibraryCore_frameworkLibrary;
  v13 = CoreDuetLibraryCore_frameworkLibrary;
  if (!CoreDuetLibraryCore_frameworkLibrary)
  {
    v7[1] = MEMORY[0x1E69E9820];
    v7[2] = 3221225472;
    v7[3] = __CoreDuetLibraryCore_block_invoke;
    v7[4] = &unk_1E7749FD0;
    v8 = &v10;
    v9 = v7;
    v14 = xmmword_1E7738618;
    v15 = *off_1E7738628;
    v16 = 0;
    v11[3] = _sl_dlopen();
    CoreDuetLibraryCore_frameworkLibrary = *(v8[1] + 24);
    v0 = v11[3];
  }

  _Block_object_dispose(&v10, 8);
  if (!v0)
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *CoreDuetLibrary(void)"];
    v4 = v2;
    v5 = v2;
    v6 = v3;
    [v4 handleFailureInFunction:v3 file:@"PXRecipientSoftLinks.m" lineNumber:10 description:{@"%s", v7[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v7[0];
  if (v7[0])
  {
LABEL_7:
    free(v1);
  }
}

void sub_1A4D919F0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __MessageUILibraryCore_block_invoke_101245(uint64_t a1)
{
  result = _sl_dlopen();
  *(*(*(a1 + 32) + 8) + 24) = result;
  MessageUILibraryCore_frameworkLibrary_101244 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id getMFMessageComposeViewControllerClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getMFMessageComposeViewControllerClass_softClass;
  v7 = getMFMessageComposeViewControllerClass_softClass;
  if (!getMFMessageComposeViewControllerClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getMFMessageComposeViewControllerClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getMFMessageComposeViewControllerClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4D91D00(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMessageComposeViewControllerClass_block_invoke(void *a1)
{
  v18 = *MEMORY[0x1E69E9840];
  v8[0] = 0;
  v11 = 0;
  v12 = &v11;
  v13 = 0x2020000000;
  v2 = MessageUILibraryCore_frameworkLibrary_101244;
  v14 = MessageUILibraryCore_frameworkLibrary_101244;
  if (!MessageUILibraryCore_frameworkLibrary_101244)
  {
    v8[1] = MEMORY[0x1E69E9820];
    v8[2] = 3221225472;
    v8[3] = __MessageUILibraryCore_block_invoke_101245;
    v8[4] = &unk_1E7749FD0;
    v9 = &v11;
    v10 = v8;
    v15 = xmmword_1E7738640;
    v16 = *off_1E7738650;
    v17 = 0;
    v12[3] = _sl_dlopen();
    MessageUILibraryCore_frameworkLibrary_101244 = *(v9[1] + 24);
    v2 = v12[3];
  }

  _Block_object_dispose(&v11, 8);
  if (v2)
  {
    v3 = v8[0];
    if (!v8[0])
    {
      goto LABEL_5;
    }
  }

  else
  {
    a1 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MessageUILibrary(void)"];
    [a1 handleFailureInFunction:v5 file:@"PXRecipientSoftLinks.m" lineNumber:20 description:{@"%s", v8[0]}];

    __break(1u);
  }

  free(v3);
LABEL_5:
  result = objc_getClass("MFMessageComposeViewController");
  *(*(a1[4] + 8) + 24) = result;
  if (!*(*(a1[4] + 8) + 24))
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMFMessageComposeViewControllerClass(void)_block_invoke"];
    [v6 handleFailureInFunction:v7 file:@"PXRecipientSoftLinks.m" lineNumber:22 description:{@"Unable to find class %s", "MFMessageComposeViewController"}];

    __break(1u);
  }

  getMFMessageComposeViewControllerClass_softClass = *(*(a1[4] + 8) + 24);
  return result;
}

void sub_1A4D91F4C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

PXConcreteAudioAssetEntryPoint *PXAudioAssetEntryPointMake(void *a1, void *a2, double a3)
{
  v5 = a2;
  v6 = a1;
  v7 = [[PXConcreteAudioAssetEntryPoint alloc] initWithTime:v6 fadeInKeyTimeOffsets:v5 fadeInKeyGainValues:a3];

  return v7;
}

BOOL PXAudioAssetEntryPointIsNull(void *a1)
{
  v1 = a1;
  [v1 time];
  if (v2 == 0.0)
  {
    v3 = [v1 fadeInKeyTimeOffsets];
    v4 = [v3 count] == 0;
  }

  else
  {
    v4 = 0;
  }

  return v4;
}

CGImageRef PXImageCreateBlackPlaceholderImageWithSize()
{
  v0 = DCIM_blackColor();
  v1 = DCIM_imageWithColor();

  v2 = DCIM_CGImageRefFromPLImage();
  v3 = CGImageRetain(v2);

  return v3;
}

__CFString *PXProgrammaticNavigationDestinationTypeDescription(unint64_t a1)
{
  if (a1 >= 0x22)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"Unknown(%ld)", a1];
  }

  else
  {
    v2 = off_1E77386E0[a1];
  }

  return v2;
}

__CFString *PXProgrammaticNavigationDestinationRevealModeDescription(unint64_t a1)
{
  if (a1 > 3)
  {
    return @"?";
  }

  else
  {
    return off_1E77387F0[a1];
  }
}

void sub_1A4D9A25C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  objc_destroyWeak((v17 + 32));
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(va);
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak((v18 - 112));
  _Unwind_Resume(a1);
}

void sub_1A4D9AA58(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4D9E3C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, char a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak((v20 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXSharedLibraryParticipantAcceptanceStatusDescription(unint64_t a1)
{
  if (a1 > 4)
  {
    return @"Invalid";
  }

  else
  {
    return off_1E7738978[a1];
  }
}

void sub_1A4DA05A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__n128 PXStoryClipKenBurnsEffectParametersMake@<Q0>(_OWORD *a1@<X0>, __int128 *a2@<X1>, uint64_t a3@<X8>)
{
  v3 = a1[1];
  *a3 = *a1;
  *(a3 + 16) = v3;
  v4 = *a2;
  v5 = a2[1];
  *(a3 + 32) = a1[2];
  *(a3 + 48) = v4;
  result = a2[2];
  *(a3 + 64) = v5;
  *(a3 + 80) = result;
  return result;
}

__n128 PXStoryKenBurnsAnimationInfoForEffectWithParametersAndContext@<Q0>(_OWORD *a1@<X0>, __n128 *a2@<X1>, uint64_t a3@<X8>)
{
  v3 = a1[1];
  *a3 = *a1;
  *(a3 + 16) = v3;
  v4 = a1[3];
  *(a3 + 32) = a1[2];
  *(a3 + 48) = v4;
  v5 = a1[5];
  *(a3 + 64) = a1[4];
  *(a3 + 80) = v5;
  result = a2[1];
  *(a3 + 96) = result;
  *(a3 + 112) = a2[2].n128_u64[0];
  return result;
}

__n128 PXStorySourceAndTargetContentsRectFromClipKenBurnsEffectParameters(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a1)
  {
    result = *a3;
    v4 = *(a3 + 32);
    *(a1 + 16) = *(a3 + 16);
    *(a1 + 32) = v4;
    *a1 = result;
  }

  if (a2)
  {
    result = *(a3 + 48);
    v5 = *(a3 + 80);
    *(a2 + 16) = *(a3 + 64);
    *(a2 + 32) = v5;
    *a2 = result;
  }

  return result;
}

void PXStoryClipKenBurnsAnimationInfoGetMovementType(__int128 *a1)
{
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXStoryClipKenBurnsAnimationInfoGetMovementType_block_invoke;
  aBlock[3] = &__block_descriptor_152_e18_v16__0__NSString_8l;
  v1 = a1[5];
  v9 = a1[4];
  v10 = v1;
  v11 = a1[6];
  v12 = *(a1 + 14);
  v2 = a1[1];
  v5 = *a1;
  v6 = v2;
  v3 = a1[3];
  v7 = a1[2];
  v8 = v3;
  _Block_copy(aBlock);
  PXStoryRectDecompose();
}

void __PXStoryClipKenBurnsAnimationInfoGetMovementType_block_invoke(_OWORD *a1, void *a2)
{
  v9 = *MEMORY[0x1E69E9840];
  v3 = a2;
  v4 = PLStoryGetLog();
  if (os_log_type_enabled(v4, OS_LOG_TYPE_ERROR))
  {
    v5 = a1[3];
    v6 = a1[2];
    v7 = v5;
    v8 = a1[4];
    PXStoryRectDescription();
  }
}

__CFString *PXStoryClipKenBurnsMovementTypeDescription(unint64_t a1)
{
  if (a1 > 0xD)
  {
    return @"??";
  }

  else
  {
    return off_1E7738AE8[a1];
  }
}

void sub_1A4DA6C70(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, id location)
{
  objc_destroyWeak((v23 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4DA7468(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXPhotosCurationAlgorithmDescription(unint64_t a1)
{
  if (a1 >= 4)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXPhotosCurationAlgorithmDescription(PXPhotosCurationAlgorithm)"];
    [v6 handleFailureInFunction:v7 file:@"PXPhotosCurationAlgorithm.m" lineNumber:33 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return off_1E7738B68[a1];
}

void sub_1A4DA860C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak((v17 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4DAB184(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, char a22, uint64_t a23, uint64_t a24, uint64_t a25, char a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, char a54)
{
  _Block_object_dispose(&a22, 8);
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose(&a54, 8);
  _Unwind_Resume(a1);
}

void sub_1A4DABC94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4DAC088(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4DAC5A0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A4DB3C9C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4DB5DFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__106282(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id PXViewLayoutAttributesDescription(double *a1)
{
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v3 = objc_alloc(MEMORY[0x1E696AEC0]);
  v4 = __PXViewLayoutAttributesDescription_block_invoke(*a1);
  v5 = [v3 initWithFormat:@"%s: %@", "leading", v4];
  [v2 addObject:v5];

  v6 = objc_alloc(MEMORY[0x1E696AEC0]);
  v7 = __PXViewLayoutAttributesDescription_block_invoke(a1[1]);
  v8 = [v6 initWithFormat:@"%s: %@", "horizontalCenter", v7];
  [v2 addObject:v8];

  v9 = objc_alloc(MEMORY[0x1E696AEC0]);
  v10 = __PXViewLayoutAttributesDescription_block_invoke(a1[2]);
  v11 = [v9 initWithFormat:@"%s: %@", "trailing", v10];
  [v2 addObject:v11];

  v12 = objc_alloc(MEMORY[0x1E696AEC0]);
  v13 = __PXViewLayoutAttributesDescription_block_invoke(a1[3]);
  v14 = [v12 initWithFormat:@"%s: %@", "top", v13];
  [v2 addObject:v14];

  v15 = objc_alloc(MEMORY[0x1E696AEC0]);
  v16 = __PXViewLayoutAttributesDescription_block_invoke(a1[4]);
  v17 = [v15 initWithFormat:@"%s: %@", "verticalCenter", v16];
  [v2 addObject:v17];

  v18 = objc_alloc(MEMORY[0x1E696AEC0]);
  v19 = __PXViewLayoutAttributesDescription_block_invoke(a1[5]);
  v20 = [v18 initWithFormat:@"%s: %@", "bottom", v19];
  [v2 addObject:v20];

  v21 = objc_alloc(MEMORY[0x1E696AEC0]);
  v22 = __PXViewLayoutAttributesDescription_block_invoke(a1[6]);
  v23 = [v21 initWithFormat:@"%s: %@", "firstBaseline", v22];
  [v2 addObject:v23];

  v24 = objc_alloc(MEMORY[0x1E696AEC0]);
  v25 = __PXViewLayoutAttributesDescription_block_invoke(a1[7]);
  v26 = [v24 initWithFormat:@"%s: %@", "lastBaseline", v25];
  [v2 addObject:v26];

  v27 = objc_alloc(MEMORY[0x1E696AEC0]);
  v28 = __PXViewLayoutAttributesDescription_block_invoke(a1[8]);
  v29 = [v27 initWithFormat:@"%s: %@", "width", v28];
  [v2 addObject:v29];

  v30 = objc_alloc(MEMORY[0x1E696AEC0]);
  v31 = __PXViewLayoutAttributesDescription_block_invoke(a1[9]);
  v32 = [v30 initWithFormat:@"%s: %@", "height", v31];
  [v2 addObject:v32];

  v33 = objc_alloc(MEMORY[0x1E696AEC0]);
  v34 = __PXViewLayoutAttributesDescription_block_invoke(a1[10]);
  v35 = [v33 initWithFormat:@"%s: %@", "minimumLeading", v34];
  [v2 addObject:v35];

  v36 = objc_alloc(MEMORY[0x1E696AEC0]);
  v37 = __PXViewLayoutAttributesDescription_block_invoke(a1[11]);
  v38 = [v36 initWithFormat:@"%s: %@", "maximumTrailing", v37];
  [v2 addObject:v38];

  v39 = objc_alloc(MEMORY[0x1E696AEC0]);
  v40 = __PXViewLayoutAttributesDescription_block_invoke(a1[12]);
  v41 = [v39 initWithFormat:@"%s: %@", "minimumTop", v40];
  [v2 addObject:v41];

  v42 = objc_alloc(MEMORY[0x1E696AEC0]);
  v43 = __PXViewLayoutAttributesDescription_block_invoke(a1[13]);
  v44 = [v42 initWithFormat:@"%s: %@", "maximumBottom", v43];
  [v2 addObject:v44];

  v45 = MEMORY[0x1E696AEC0];
  v46 = [v2 componentsJoinedByString:{@", "}];
  v47 = [v45 stringWithFormat:@"{ %@ }", v46];

  return v47;
}

int64x2_t PXViewLayoutAttributesMake@<Q0>(int64x2_t *a1@<X8>)
{
  result = vdupq_n_s64(0x7FF8000000000000uLL);
  *a1 = result;
  a1[1] = result;
  a1[2] = result;
  a1[3] = result;
  a1[4] = result;
  a1[5] = result;
  a1[6] = result;
  return result;
}

double PXMachTimeDurationToSeconds(unint64_t a1)
{
  v2 = dword_1EB1E9F54;
  if (!dword_1EB1E9F54)
  {
    mach_timebase_info(&PXMachTimeDurationToSeconds_sTimebaseInfo);
    v2 = dword_1EB1E9F54;
  }

  return a1 * (PXMachTimeDurationToSeconds_sTimebaseInfo / v2) / 1000000000.0;
}

void PXExpectBlockPerformance(void *a1, void *a2, double a3)
{
  v12 = a1;
  v5 = a2;
  if (v12)
  {
    if (v5)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXExpectBlockPerformance(NSTimeInterval, __strong dispatch_block_t _Nonnull, void (^__strong _Nonnull)(NSTimeInterval))"}];
    [v8 handleFailureInFunction:v9 file:@"PXPerfUtilities.m" lineNumber:32 description:{@"Invalid parameter not satisfying: %@", @"block"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v10 = [MEMORY[0x1E696AAA8] currentHandler];
  v11 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXExpectBlockPerformance(NSTimeInterval, __strong dispatch_block_t _Nonnull, void (^__strong _Nonnull)(NSTimeInterval))"}];
  [v10 handleFailureInFunction:v11 file:@"PXPerfUtilities.m" lineNumber:33 description:{@"Invalid parameter not satisfying: %@", @"failureBlock"}];

LABEL_3:
  v6 = mach_absolute_time();
  v12[2]();
  v7 = mach_absolute_time();
  if (PXMachTimeDurationToSeconds(v7 - v6) > a3)
  {
    v5[2](v5);
  }
}

void PXPresentCameraSharingSetup(void *a1)
{
  v1 = a1;
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "PXSharedLibraryCameraSharingBanner: Will present Camera sharing options", buf, 2u);
  }

  v3 = objc_alloc_init(PXSharedLibraryAssistantCameraViewController);
  v4 = [objc_alloc(MEMORY[0x1E69DCCD8]) initWithRootViewController:v3];
  v21[0] = MEMORY[0x1E69E9820];
  v21[1] = 3221225472;
  v21[2] = __PXPresentCameraSharingSetup_block_invoke;
  v21[3] = &unk_1E774C620;
  v5 = v1;
  v22 = v5;
  v6 = v4;
  v23 = v6;
  [(PXSharedLibraryAssistantCameraViewController *)v3 setCompletionHandler:v21];
  v7 = MEMORY[0x1E69DC628];
  v8 = PXLocalizedSharedLibraryString(@"PXSharedLibraryCameraSharingSettingsNotNowButtonTitle");
  v15 = MEMORY[0x1E69E9820];
  v16 = 3221225472;
  v17 = __PXPresentCameraSharingSetup_block_invoke_193;
  v18 = &unk_1E7746010;
  v19 = v5;
  v20 = v6;
  v9 = v6;
  v10 = v5;
  v11 = [v7 actionWithTitle:v8 image:0 identifier:0 handler:&v15];

  v12 = objc_alloc(MEMORY[0x1E69DC708]);
  v13 = [v12 initWithPrimaryAction:{v11, v15, v16, v17, v18}];
  v14 = [(OBBaseWelcomeController *)v3 navigationItem];
  [v14 setRightBarButtonItem:v13];
  [v10 presentViewController:v9 animated:1 completionHandler:0];
}

void __PXPresentCameraSharingSetup_block_invoke_2_194()
{
  v0 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v0, OS_LOG_TYPE_DEFAULT))
  {
    *v1 = 0;
    _os_log_impl(&dword_1A3C1C000, v0, OS_LOG_TYPE_DEFAULT, "PXSharedLibraryCameraSharingBanner: Did dismiss Camera sharing options", v1, 2u);
  }
}

void __PXPresentCameraSharingSetup_block_invoke_2()
{
  v0 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v0, OS_LOG_TYPE_DEFAULT))
  {
    *v1 = 0;
    _os_log_impl(&dword_1A3C1C000, v0, OS_LOG_TYPE_DEFAULT, "PXSharedLibraryCameraSharingBanner: Did complete Camera sharing options", v1, 2u);
  }
}

id PXSoftLinkedProtoMakeViewControllerWithFactoryClassName(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
  {
    v8 = [NSClassFromString(v5) makeViewControllerWithPhotoLibrary:v6 options:v7];
  }

  else
  {
    v8 = 0;
  }

  return v8;
}

id getPXProtoRootSettingsClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getPXProtoRootSettingsClass_softClass;
  v7 = getPXProtoRootSettingsClass_softClass;
  if (!getPXProtoRootSettingsClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getPXProtoRootSettingsClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getPXProtoRootSettingsClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4DBD544(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoRootSettingsClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PXProtoRootSettings");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPXProtoRootSettingsClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPXProtoRootSettingsClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PhotosUICoreProtoSoftLinking.m" lineNumber:28 description:{@"Unable to find class %s", "PXProtoRootSettings"}];

    __break(1u);
  }
}

void PhotosUICoreProtoLibrary()
{
  v6 = *MEMORY[0x1E69E9840];
  v3[0] = 0;
  if (!PhotosUICoreProtoLibraryCore_frameworkLibrary)
  {
    v3[1] = MEMORY[0x1E69E9820];
    v3[2] = 3221225472;
    v3[3] = __PhotosUICoreProtoLibraryCore_block_invoke;
    v3[4] = &__block_descriptor_40_e5_v8__0l;
    v3[5] = v3;
    v4 = xmmword_1E7739088;
    v5 = 0;
    PhotosUICoreProtoLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!PhotosUICoreProtoLibraryCore_frameworkLibrary)
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PhotosUICoreProtoLibrary(void)"];
    [v1 handleFailureInFunction:v2 file:@"PhotosUICoreProtoSoftLinking.m" lineNumber:27 description:{@"%s", v3[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v0 = v3[0];
  if (v3[0])
  {
LABEL_7:
    free(v0);
  }
}

uint64_t __PhotosUICoreProtoLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  PhotosUICoreProtoLibraryCore_frameworkLibrary = result;
  return result;
}

uint64_t _PXSoftLinkedProtoIsAvailable()
{
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  return _PXSoftLinkedProtoIsAvailable_isAvailable;
}

id PXSoftLinkedProtoRootSettingsLoadIfNecessary(int a1)
{
  v2 = PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings;
  if (PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings)
  {
    v3 = 1;
  }

  else
  {
    v3 = a1 == 0;
  }

  if (!v3)
  {
    PXProtoRootSettingsClass = NSClassFromString(&cfstr_Pxprotorootset.isa);
    if (!PXProtoRootSettingsClass)
    {
      if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
      {
        dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
      }

      if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
      {
        PXProtoRootSettingsClass = getPXProtoRootSettingsClass();
      }

      else
      {
        PXProtoRootSettingsClass = 0;
      }
    }

    v5 = [PXProtoRootSettingsClass sharedInstance];
    v6 = PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings;
    PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings = v5;

    v2 = PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings;
  }

  return v2;
}

id PXSoftLinkedProtoTutorialsSettingsLoadIfNecessary(int a1)
{
  v1 = PXSoftLinkedProtoRootSettingsLoadIfNecessary(a1);
  v2 = [v1 valueForKey:@"tutorialsSettings"];

  return v2;
}

id PXSoftLinkedProtoStoryTimelineObjectiveCCode(void *a1)
{
  v1 = a1;
  v2 = NSClassFromString(&cfstr_Pxprotostoryti.isa);
  if (!v2)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
    {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
    }

    if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
    {
      v7 = 0;
      v8 = &v7;
      v9 = 0x2050000000;
      v2 = getPXProtoStoryTimelineCodeProducerClass_softClass;
      v10 = getPXProtoStoryTimelineCodeProducerClass_softClass;
      if (!getPXProtoStoryTimelineCodeProducerClass_softClass)
      {
        v6[0] = MEMORY[0x1E69E9820];
        v6[1] = 3221225472;
        v6[2] = __getPXProtoStoryTimelineCodeProducerClass_block_invoke;
        v6[3] = &unk_1E774BD00;
        v6[4] = &v7;
        __getPXProtoStoryTimelineCodeProducerClass_block_invoke(v6);
        v2 = v8[3];
      }

      v3 = v2;
      _Block_object_dispose(&v7, 8);
    }

    else
    {
      v2 = 0;
    }
  }

  v4 = [(objc_class *)v2 objectiveCCodeForTimeline:v1];

  return v4;
}

void sub_1A4DBDA70(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoStoryTimelineCodeProducerClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PXProtoStoryTimelineCodeProducer");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPXProtoStoryTimelineCodeProducerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPXProtoStoryTimelineCodeProducerClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PhotosUICoreProtoSoftLinking.m" lineNumber:29 description:{@"Unable to find class %s", "PXProtoStoryTimelineCodeProducer"}];

    __break(1u);
  }
}

id PXSoftLinkedProtoPrototypeViewController(void *a1)
{
  v1 = a1;
  v2 = NSClassFromString(&cfstr_Pxprotoprototy.isa);
  if (!v2)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
    {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
    }

    if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
    {
      v7 = 0;
      v8 = &v7;
      v9 = 0x2050000000;
      v2 = getPXProtoPrototypeRootViewControllerClass_softClass;
      v10 = getPXProtoPrototypeRootViewControllerClass_softClass;
      if (!getPXProtoPrototypeRootViewControllerClass_softClass)
      {
        v6[0] = MEMORY[0x1E69E9820];
        v6[1] = 3221225472;
        v6[2] = __getPXProtoPrototypeRootViewControllerClass_block_invoke;
        v6[3] = &unk_1E774BD00;
        v6[4] = &v7;
        __getPXProtoPrototypeRootViewControllerClass_block_invoke(v6);
        v2 = v8[3];
      }

      v3 = v2;
      _Block_object_dispose(&v7, 8);
    }

    else
    {
      v2 = 0;
    }
  }

  v4 = [[v2 alloc] initWithPhotoLibrary:v1];

  return v4;
}

void sub_1A4DBDC8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoPrototypeRootViewControllerClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PXProtoPrototypeRootViewController");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPXProtoPrototypeRootViewControllerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPXProtoPrototypeRootViewControllerClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PhotosUICoreProtoSoftLinking.m" lineNumber:30 description:{@"Unable to find class %s", "PXProtoPrototypeRootViewController"}];

    __break(1u);
  }
}

uint64_t PXSoftLinkedProtoGenerativeStoryStartCreationWorkflowFromViewController(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
    {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
    }

    if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }

    else
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }

  v9 = [PXProtoGenerativeStoryPlaygroundFactoryClass startCreationWorkflowFromViewController:v5 photoLibrary:v6 userPrompt:v7];

  return v9;
}

id getPXProtoGenerativeStoryPlaygroundFactoryClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass;
  v7 = getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass;
  if (!getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getPXProtoGenerativeStoryPlaygroundFactoryClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getPXProtoGenerativeStoryPlaygroundFactoryClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4DBDEF0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoGenerativeStoryPlaygroundFactoryClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PXProtoGenerativeStoryPlaygroundFactory");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPXProtoGenerativeStoryPlaygroundFactoryClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PhotosUICoreProtoSoftLinking.m" lineNumber:34 description:{@"Unable to find class %s", "PXProtoGenerativeStoryPlaygroundFactory"}];

    __break(1u);
  }
}

uint64_t PXSoftLinkedProtoGenerativeStoryPresentEvaluationFromViewController(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
    {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
    }

    if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }

    else
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }

  v6 = [PXProtoGenerativeStoryPlaygroundFactoryClass presentEvaluationForMemory:v4 fromViewController:v3];

  return v6;
}

uint64_t PXSoftLinkedProtoGenerativeStoryStartSuggestionToolWorkflowFromViewController(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
    {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
    }

    if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }

    else
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }

  v6 = [PXProtoGenerativeStoryPlaygroundFactoryClass startSuggestionToolWorkflowFromViewController:v3 photoLibrary:v4];

  return v6;
}

id PXSoftLinkedProtoGenerativeStoryStartMosaicDebugUIWorkflowWithPhotoLibrary(void *a1)
{
  v1 = a1;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
    {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
    }

    if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }

    else
    {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }

  v3 = [PXProtoGenerativeStoryPlaygroundFactoryClass startMosaicDebugUIWorkflowWithPhotoLibrary:v1];

  return v3;
}

id PXSoftLinkedProtoDetailsViewController(void *a1)
{
  v1 = a1;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
  {
    v2 = [NSClassFromString(&cfstr_Pxprotodetails.isa) makeDetailsViewControllerWithObject:v1];
  }

  else
  {
    v2 = 0;
  }

  return v2;
}

id PXSoftLinkedProtoMemoriesPlayerViewController(void *a1)
{
  v1 = a1;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
  {
    v2 = [NSClassFromString(&cfstr_Pxprotomemorie.isa) makeMemoriesPlayerViewControllerWithConfiguration:v1];
  }

  else
  {
    v2 = 0;
  }

  return v2;
}

id PXSoftLinkedProtoPhotosViewBannerController(void *a1)
{
  v1 = a1;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
  {
    v2 = [NSClassFromString(&cfstr_Pxprotophotosv.isa) makeBannerControllerWithPhotosViewModel:v1];
  }

  else
  {
    v2 = 0;
  }

  return v2;
}

id PXSoftLinkedProtoLoadPhototypes()
{
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
  {
    v0 = [NSClassFromString(&cfstr_Pxprotophototy.isa) loadPhototypes];
  }

  else
  {
    v0 = 0;
  }

  return v0;
}

id PXSoftLinkedProtoSearchContextualVideoThumbnailPathForAsset(void *a1)
{
  v1 = a1;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
  {
    v2 = [NSClassFromString(&cfstr_Pxphotossearch_6.isa) contextualVideoThumbnailPathForAsset:v1];
  }

  else
  {
    v2 = 0;
  }

  return v2;
}

id PXSoftLinkedProtoSearchContextualVideoThumbnailDebugView(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1)
  {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_107135);
  }

  if (_PXSoftLinkedProtoIsAvailable_isAvailable == 1)
  {
    v5 = [NSClassFromString(&cfstr_Pxphotossearch_6.isa) makeViewControllerWithAssetUUID:v3 imageURLs:v4];
  }

  else
  {
    v5 = 0;
  }

  return v5;
}

uint64_t __Block_byref_object_copy__107316(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

__CFString *PXStoryClipLoadingStatusDescription(uint64_t a1)
{
  if (a1 >= 0xA)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"unknown(%d)", a1];
  }

  else
  {
    v2 = off_1E77390C8[a1];
  }

  return v2;
}

uint64_t PXStoryClipSeparatorEffectGetClippingAnimationInfosAdjustedClipFramesForParametersAndContext(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  if (*a5 >= 1)
  {
    v5 = 0;
    v6 = 0;
    v7 = result;
    do
    {
      *(v7 + 208) = 0;
      *(v7 + 160) = xmmword_1A53839E0;
      *(v7 + 176) = xmmword_1A53839F0;
      *(v7 + 192) = xmmword_1A5383A00;
      *(v7 + 96) = xmmword_1A53839A0;
      *(v7 + 112) = unk_1A53839B0;
      *(v7 + 128) = xmmword_1A53839C0;
      *(v7 + 144) = xmmword_1A53839D0;
      *(v7 + 32) = xmmword_1A5383960;
      *(v7 + 48) = unk_1A5383970;
      *(v7 + 64) = xmmword_1A5383980;
      *(v7 + 80) = unk_1A5383990;
      *v7 = PXStoryClippingAnimationInfoNone;
      *(v7 + 16) = *algn_1A5383950;
      v8 = (a2 + v5);
      v9 = (*(a5 + 8) + v5);
      v10 = v9[1];
      *v8 = *v9;
      v8[1] = v10;
      v11 = *(a5 + 32);
      *(v7 + 192) = *(a5 + 16);
      *(v7 + 208) = v11;
      ++v6;
      v5 += 32;
      v7 += 216;
    }

    while (v6 < *a5);
    if (*a5 >= 2)
    {
      v12 = 0;
      do
      {
        v13 = a4 + 24 * v12;
        if (*(v13 + 8) != 0.0 || *(v13 + 16) * 0.5 != 0.0)
        {
          if (*v13 == 42)
          {
            PXRectGetCenter();
          }

          PXRectEdgeAxis();
        }

        v14 = ++v12;
      }

      while (v14 < *a5 - 1);
    }
  }

  return result;
}

double __PXStoryClipSeparatorEffectGetClippingAnimationInfosAdjustedClipFramesForParametersAndContext_block_invoke(double *a1, double *a2, int a3, double a4, double a5)
{
  v5 = a2 + 9;
  if (a3 != 2)
  {
    v5 = a2 + 6;
  }

  v6 = a2 + 3;
  if (a3)
  {
    v6 = a2;
  }

  if (a3 <= 1)
  {
    v5 = v6;
  }

  v7 = v5[1];
  *v5 = *v5 + a1[5] + a1[4] * a4;
  v5[1] = v7 + a1[6] * a5;
  result = a1[7] + v5[2];
  v5[2] = result;
  return result;
}

uint64_t PXStoryClipSeparatorEffectAdjustClipFramesAndSafeAreaInsets(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v12 = *MEMORY[0x1E69E9840];
  if (result)
  {
    v7 = result;
    MEMORY[0x1EEE9AC00](result);
    v9 = &v10 - v8;
    v10 = 0u;
    memset(&v11, 0, sizeof(v11));
    CMTimeMakeWithSeconds(&v11, 1.0, 600);
    *&v10 = a4;
    *(&v10 + 1) = a2;
    return PXStoryClipSeparatorEffectGetClippingAnimationInfosAdjustedClipFramesForParametersAndContext(v9, a2, a3, v7, &v10);
  }

  return result;
}

uint64_t PXMomentShareErrorTypeDescription(unint64_t a1)
{
  if (a1 > 0xB)
  {
    return 0;
  }

  else
  {
    return *(&off_1E7739160 + a1);
  }
}

uint64_t __AutoLoopLibraryCore_block_invoke(uint64_t a1)
{
  result = _sl_dlopen();
  *(*(*(a1 + 32) + 8) + 24) = result;
  AutoLoopLibraryCore_frameworkLibrary = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t AutoLoopLibrary()
{
  v19 = *MEMORY[0x1E69E9840];
  v9[0] = 0;
  v12 = 0;
  v13 = &v12;
  v14 = 0x2020000000;
  v0 = AutoLoopLibraryCore_frameworkLibrary;
  v15 = AutoLoopLibraryCore_frameworkLibrary;
  if (!AutoLoopLibraryCore_frameworkLibrary)
  {
    v9[1] = MEMORY[0x1E69E9820];
    v9[2] = 3221225472;
    v9[3] = __AutoLoopLibraryCore_block_invoke;
    v9[4] = &unk_1E7749FD0;
    v10 = &v12;
    v11 = v9;
    v16 = xmmword_1E77391C0;
    v17 = *off_1E77391D0;
    v18 = 0;
    v13[3] = _sl_dlopen();
    AutoLoopLibraryCore_frameworkLibrary = *(v10[1] + 24);
    v0 = v13[3];
  }

  _Block_object_dispose(&v12, 8);
  if (!v0)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *AutoLoopLibrary(void)"];
    v5 = v3;
    v6 = v3;
    v7 = v4;
    [v5 handleFailureInFunction:v4 file:@"PXAutoloopSoftLinks.m" lineNumber:12 description:{@"%s", v9[0]}];
    v8 = v7;
    v0 = v6;

    __break(1u);
    goto LABEL_7;
  }

  v1 = v9[0];
  if (v9[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

void sub_1A4DC2F38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getcreateAutoLoopSettingsForAssetSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "createAutoLoopSettingsForAsset");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getcreateAutoLoopSettingsForAssetSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *__getliveAnalysisResultDestroySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "liveAnalysisResultDestroy");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getliveAnalysisResultDestroySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void _liveAnalysisResultDestroy(uint64_t a1)
{
  v7 = 0;
  v8 = &v7;
  v9 = 0x2020000000;
  v2 = getliveAnalysisResultDestroySymbolLoc_ptr;
  v10 = getliveAnalysisResultDestroySymbolLoc_ptr;
  if (!getliveAnalysisResultDestroySymbolLoc_ptr)
  {
    v3 = AutoLoopLibrary();
    v8[3] = dlsym(v3, "liveAnalysisResultDestroy");
    getliveAnalysisResultDestroySymbolLoc_ptr = v8[3];
    v2 = v8[3];
  }

  v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {

    v6(a1);
  }

  else
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void _liveAnalysisResultDestroy(liveAnalysisResultRef)"];
    [v4 handleFailureInFunction:v5 file:@"PXAutoloopSoftLinks.m" lineNumber:27 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void *__getcreateBundleDefaultGatingClassifierURLSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "createBundleDefaultGatingClassifierURL");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getcreateBundleDefaultGatingClassifierURLSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *__getautoloopSettingsSetGatingSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "autoloopSettingsSetGating");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getautoloopSettingsSetGatingSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void _autoloopSettingsSetGating(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v11 = 0;
  v12 = &v11;
  v13 = 0x2020000000;
  v6 = getautoloopSettingsSetGatingSymbolLoc_ptr;
  v14 = getautoloopSettingsSetGatingSymbolLoc_ptr;
  if (!getautoloopSettingsSetGatingSymbolLoc_ptr)
  {
    v7 = AutoLoopLibrary();
    v12[3] = dlsym(v7, "autoloopSettingsSetGating");
    getautoloopSettingsSetGatingSymbolLoc_ptr = v12[3];
    v6 = v12[3];
  }

  v10 = v6;
  _Block_object_dispose(&v11, 8);
  if (v10)
  {

    v10(a1, a2, a3, 0, 1);
  }

  else
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _autoloopSettingsSetGating(struct autoloopSettings *, CFURLRef, CFURLRef, _Bool, _Bool)"}];
    [v8 handleFailureInFunction:v9 file:@"PXAutoloopSoftLinks.m" lineNumber:29 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void sub_1A4DC3380(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getget_autoloopSettings_forAssetSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "get_autoloopSettings_forAsset");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getget_autoloopSettings_forAssetSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *__getautoloopSettingsDestroySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "autoloopSettingsDestroy");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getautoloopSettingsDestroySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void _autoloopSettingsDestroy(uint64_t a1)
{
  v7 = 0;
  v8 = &v7;
  v9 = 0x2020000000;
  v2 = getautoloopSettingsDestroySymbolLoc_ptr;
  v10 = getautoloopSettingsDestroySymbolLoc_ptr;
  if (!getautoloopSettingsDestroySymbolLoc_ptr)
  {
    v3 = AutoLoopLibrary();
    v8[3] = dlsym(v3, "autoloopSettingsDestroy");
    getautoloopSettingsDestroySymbolLoc_ptr = v8[3];
    v2 = v8[3];
  }

  v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {

    v6(a1);
  }

  else
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void _autoloopSettingsDestroy(struct autoloopSettings *)"];
    [v4 handleFailureInFunction:v5 file:@"PXAutoloopSoftLinks.m" lineNumber:34 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void *__getliveAnalysisResultToDictionarySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "liveAnalysisResultToDictionary");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getliveAnalysisResultToDictionarySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void _liveAnalysisResultToDictionary(uint64_t a1)
{
  v7 = 0;
  v8 = &v7;
  v9 = 0x2020000000;
  v2 = getliveAnalysisResultToDictionarySymbolLoc_ptr;
  v10 = getliveAnalysisResultToDictionarySymbolLoc_ptr;
  if (!getliveAnalysisResultToDictionarySymbolLoc_ptr)
  {
    v3 = AutoLoopLibrary();
    v8[3] = dlsym(v3, "liveAnalysisResultToDictionary");
    getliveAnalysisResultToDictionarySymbolLoc_ptr = v8[3];
    v2 = v8[3];
  }

  v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {

    v6(a1);
  }

  else
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSDictionary *_liveAnalysisResultToDictionary(liveAnalysisResultRef)"];
    [v4 handleFailureInFunction:v5 file:@"PXAutoloopSoftLinks.m" lineNumber:38 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void *__getautoloopErrorCodeToStringSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "autoloopErrorCodeToString");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getautoloopErrorCodeToStringSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void _autoloopErrorCodeToString(uint64_t a1)
{
  v7 = 0;
  v8 = &v7;
  v9 = 0x2020000000;
  v2 = getautoloopErrorCodeToStringSymbolLoc_ptr;
  v10 = getautoloopErrorCodeToStringSymbolLoc_ptr;
  if (!getautoloopErrorCodeToStringSymbolLoc_ptr)
  {
    v3 = AutoLoopLibrary();
    v8[3] = dlsym(v3, "autoloopErrorCodeToString");
    getautoloopErrorCodeToStringSymbolLoc_ptr = v8[3];
    v2 = v8[3];
  }

  v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {

    v6(a1);
  }

  else
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"CFStringRef _autoloopErrorCodeToString(autoloopErrorCode)"];
    [v4 handleFailureInFunction:v5 file:@"PXAutoloopSoftLinks.m" lineNumber:43 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void *__getrunLiveAnalysisPipelineSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = AutoLoopLibrary();
  result = dlsym(v2, "runLiveAnalysisPipeline");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getrunLiveAnalysisPipelineSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void _runLiveAnalysisPipeline(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5, void *a6)
{
  v11 = a2;
  v12 = a3;
  v13 = a6;
  v18 = 0;
  v19 = &v18;
  v20 = 0x2020000000;
  v14 = getrunLiveAnalysisPipelineSymbolLoc_ptr;
  v21 = getrunLiveAnalysisPipelineSymbolLoc_ptr;
  if (!getrunLiveAnalysisPipelineSymbolLoc_ptr)
  {
    v15 = AutoLoopLibrary();
    v19[3] = dlsym(v15, "runLiveAnalysisPipeline");
    getrunLiveAnalysisPipelineSymbolLoc_ptr = v19[3];
    v14 = v19[3];
  }

  _Block_object_dispose(&v18, 8);
  if (v14)
  {
    v14(a1, v11, v12, 3, a4, a5, v13);
  }

  else
  {
    v16 = [MEMORY[0x1E696AAA8] currentHandler];
    v17 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"autoloopErrorCode _runLiveAnalysisPipeline(struct autoloopSettings *, NSURL *__strong, AVAsset *__strong, size_t, alRecipeFlavor *, liveAnalysisResultRef *, __strong ALStatusBlock)"}];
    [v16 handleFailureInFunction:v17 file:@"PXAutoloopSoftLinks.m" lineNumber:46 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void sub_1A4DC3B28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4DC4904(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void SOFT_LINKED_SBSUIWallpaperGetOverlay(uint64_t a1, double a2)
{
  v10 = 0;
  v11 = &v10;
  v12 = 0x2020000000;
  v4 = getSBSUIWallpaperGetOverlaySymbolLoc_ptr;
  v13 = getSBSUIWallpaperGetOverlaySymbolLoc_ptr;
  if (!getSBSUIWallpaperGetOverlaySymbolLoc_ptr)
  {
    v9[0] = MEMORY[0x1E69E9820];
    v9[1] = 3221225472;
    v9[2] = __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke;
    v9[3] = &unk_1E774BD00;
    v9[4] = &v10;
    __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke(v9);
    v4 = v11[3];
  }

  _Block_object_dispose(&v10, 8);
  if (v4)
  {
    v5 = v4(0, a1, a2);

    v6 = v5;
  }

  else
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"UIImage *SOFT_LINKED_SBSUIWallpaperGetOverlay(SBFWallpaperVariant, CGFloat, SBSUIWallpaperPreviewOptions)"}];
    [v7 handleFailureInFunction:v8 file:@"PXWallpaperSuggestionView.m" lineNumber:18 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void sub_1A4DC5048(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke(void *a1)
{
  v8 = *MEMORY[0x1E69E9840];
  v5[0] = 0;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary)
  {
    v5[1] = MEMORY[0x1E69E9820];
    v5[2] = 3221225472;
    v5[3] = __SpringBoardUIServicesLibraryCore_block_invoke;
    v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    v6 = xmmword_1E7739270;
    v7 = 0;
    SpringBoardUIServicesLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  v2 = SpringBoardUIServicesLibraryCore_frameworkLibrary;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary)
  {
    a1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *SpringBoardUIServicesLibrary(void)"];
    [a1 handleFailureInFunction:v2 file:@"PXWallpaperSuggestionView.m" lineNumber:17 description:{@"%s", v5[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v3 = v5[0];
  if (v5[0])
  {
LABEL_7:
    free(v3);
  }

  result = dlsym(v2, "SBSUIWallpaperGetOverlay");
  *(*(a1[4] + 8) + 24) = result;
  getSBSUIWallpaperGetOverlaySymbolLoc_ptr = *(*(a1[4] + 8) + 24);
  return result;
}

uint64_t __SpringBoardUIServicesLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  SpringBoardUIServicesLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1A4DC9DE0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, char a31)
{
  for (i = 1528; i != -8; i -= 24)
  {
  }

  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__108787(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4DCCFCC(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 248), 8);
  _Block_object_dispose((v1 - 200), 8);
  _Block_object_dispose((v1 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1A4DCEDCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, char a37)
{
  _Block_object_dispose(&a37, 8);
  objc_destroyWeak((v37 - 152));
  objc_destroyWeak((v37 - 128));
  _Unwind_Resume(a1);
}

id _SetMockRowAction(void *a1)
{
  v1 = a1;
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = ___SetMockRowAction_block_invoke;
  aBlock[3] = &unk_1E7739780;
  v7 = v1;
  v2 = v1;
  v3 = _Block_copy(aBlock);
  v4 = [MEMORY[0x1E69C6658] actionWithHandler:v3];

  return v4;
}

void sub_1A4DD17D0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4DD3050(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 88));
  objc_destroyWeak((v2 - 88));
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__109697(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t PXFilterControllerOptionsForCollection(void *a1)
{
  v1 = a1;
  v2 = [v1 px_isScreenshotsSmartAlbum];
  if ([v1 px_isAllLibraryDuplicatesSmartAlbum])
  {
    v3 = v2 | 2;
  }

  else
  {
    v3 = v2;
  }

  v4 = [v1 px_isContentSyndicationAlbum];

  if (v4)
  {
    return v3 | 4;
  }

  else
  {
    return v3;
  }
}

__CFString *PXSelectionContainerContextToString(uint64_t a1)
{
  if ((a1 - 1) > 0x1E)
  {
    return @"Undefined";
  }

  else
  {
    return off_1E7739BD0[a1 - 1];
  }
}

void sub_1A4DD6248(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4DD69D0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4DD7958(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXSelectionSnapshotFromIndexPaths(void *a1, void *a2)
{
  v23 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = objc_alloc_init(off_1E77217C8);
  v18 = 0u;
  v19 = 0u;
  v20 = 0u;
  v21 = 0u;
  v6 = v3;
  v7 = [v6 countByEnumeratingWithState:&v18 objects:v22 count:16];
  if (v7)
  {
    v8 = v7;
    v9 = *v19;
    do
    {
      for (i = 0; i != v8; ++i)
      {
        if (*v19 != v9)
        {
          objc_enumerationMutation(v6);
        }

        v11 = *(*(&v18 + 1) + 8 * i);
        v12 = [v4 identifier];
        v13 = [v11 section];
        v14 = [v11 item];
        v17[0] = v12;
        v17[1] = v13;
        v17[2] = v14;
        v17[3] = 0x7FFFFFFFFFFFFFFFLL;
        [v5 addIndexPath:v17];
      }

      v8 = [v6 countByEnumeratingWithState:&v18 objects:v22 count:16];
    }

    while (v8);
  }

  v15 = [[off_1E77218D8 alloc] initWithDataSource:v4 selectedIndexPaths:v5];

  return v15;
}

id PXSelectionProviderForViewController(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    goto LABEL_12;
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v2 = [v1 viewControllers];
    v3 = [v2 lastObject];
    v4 = PXSelectionProviderForViewController();

LABEL_9:
    goto LABEL_13;
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v5 = [v1 selectedViewController];
LABEL_8:
    v2 = v5;
    v4 = PXSelectionProviderForViewController();
    goto LABEL_9;
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v5 = [v1 topViewController];
    goto LABEL_8;
  }

  if ([v1 conformsToProtocol:&unk_1F1943050])
  {
    v4 = v1;
  }

  else
  {
LABEL_12:
    v4 = 0;
  }

LABEL_13:

  return v4;
}

void sub_1A4DD9C10(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v7 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__110741(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void PXLemonadeAppearanceConfigureIfNeeded()
{
  if (PXLemonadeAppearanceConfigureIfNeeded_onceToken != -1)
  {
    dispatch_once(&PXLemonadeAppearanceConfigureIfNeeded_onceToken, &__block_literal_global_111492);
  }
}

uint64_t _PXSortActionTypeForAssetCollection(void *a1)
{
  v1 = a1;
  v2 = [v1 customSortAscending];
  v3 = [v1 px_isSharedAlbum];
  v4 = [v1 customSortKey];
  if (v4 <= 1)
  {
    if (v4)
    {
      if (v4 != 1)
      {
        goto LABEL_15;
      }

      if (v2)
      {
        v5 = 3;
      }

      else
      {
        v5 = 4;
      }

      goto LABEL_14;
    }

LABEL_11:
    if (v3)
    {
      v5 = 2;
    }

    else
    {
      v5 = 1;
    }

    goto LABEL_14;
  }

  v5 = 0;
  if ((v4 - 2) < 4)
  {
    goto LABEL_14;
  }

  if (v4 == 6)
  {
    goto LABEL_11;
  }

  if (v4 != 101)
  {
LABEL_15:
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXSortActionType _PXSortActionTypeForAssetCollection(PHAssetCollection *__strong)"];
    [v7 handleFailureInFunction:v8 file:@"PXPhotoKitAssetCollectionSortActionPerformer.m" lineNumber:62 description:@"Code which should be unreachable has been reached"];

    abort();
  }

LABEL_14:

  return v5;
}

void sub_1A4DE2264(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQInAppMessageKeySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = iCloudQuotaUILibrary_112138();
  result = dlsym(v2, "ICQInAppMessageKey");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getICQInAppMessageKeySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *iCloudQuotaUILibrary_112138()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_112148)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __iCloudQuotaUILibraryCore_block_invoke_112149;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E7739DF8;
    v6 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_112148 = _sl_dlopen();
  }

  v0 = iCloudQuotaUILibraryCore_frameworkLibrary_112148;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_112148)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXCPLCloudQuotaSourceUtilities.h" lineNumber:23 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_112149()
{
  result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_112148 = result;
  return result;
}

void *__getICQCurrentInAppMessageChangedNotificationSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = iCloudQuotaUILibrary_112138();
  result = dlsym(v2, "ICQCurrentInAppMessageChangedNotification");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getICQCurrentInAppMessageChangedNotificationSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4DE2C28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQUIMessagePlacementInAppSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = iCloudQuotaUILibrary_112138();
  result = dlsym(v2, "ICQUIMessagePlacementInApp");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getICQUIMessagePlacementInAppSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4DE319C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__112266(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4DE51A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id _FeatureFlagToggleRowAction(void *a1)
{
  v1 = a1;
  v2 = MEMORY[0x1E69C6658];
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = ___FeatureFlagToggleRowAction_block_invoke;
  v6[3] = &unk_1E7739F50;
  v7 = v1;
  v3 = v1;
  v4 = [v2 actionWithHandler:v6];

  return v4;
}

id _ImageForStateAndBackgroundColor(int a1, void *a2)
{
  v13[2] = *MEMORY[0x1E69E9840];
  v3 = @"minus.circle.fill";
  if (a1)
  {
    v3 = @"checkmark.circle.fill";
  }

  v4 = MEMORY[0x1E69DCAD8];
  v5 = MEMORY[0x1E69DC888];
  v6 = v3;
  v7 = a2;
  v8 = [v5 whiteColor];
  v13[0] = v8;
  v13[1] = v7;
  v9 = [MEMORY[0x1E695DEC8] arrayWithObjects:v13 count:2];
  v10 = [v4 configurationWithPaletteColors:v9];

  v11 = [MEMORY[0x1E69DCAB8] systemImageNamed:v6 withConfiguration:v10];

  return v11;
}

void _PresentAlert(uint64_t a1, uint64_t a2, void *a3)
{
  v5 = MEMORY[0x1E69DC650];
  v6 = a3;
  v8 = [v5 alertControllerWithTitle:a1 message:a2 preferredStyle:1];
  v7 = [MEMORY[0x1E69DC648] actionWithTitle:@"OK" style:0 handler:0];
  [v8 addAction:v7];

  [v6 presentViewController:v8 animated:1 completion:0];
}

void PXUpdateInlinePlaybackRecordForPhotoKit(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v5 = v4;
    [v5 fetchPropertySetsIfNeeded];
    v6 = [v5 mediaAnalysisProperties];
    [v6 videoScore];
    [v3 setVideoScore:?];

    [v5 curationScore];
    *&v7 = v7;
    [v3 setCurationScore:v7];
    v8 = [v5 mediaAnalysisProperties];
    [v8 videoStickerSuggestionScore];
    [v3 setVideoStickerSuggestionScore:?];

    v9 = [v5 visualSearchProperties];
    [v9 stickerConfidenceScore];
    [v3 setStickerConfidenceScore:?];

    v10 = *(MEMORY[0x1E6960C98] + 16);
    v22 = *MEMORY[0x1E6960C98];
    v23[0] = v10;
    v23[1] = *(MEMORY[0x1E6960C98] + 32);
    [v3 setBestVideoTimeRange:&v22];
    v11 = [v5 mediaAnalysisProperties];
    [v11 autoplaySuggestionScore];
    v13 = v12;

    v14 = [off_1E7721810 sharedInstance];
    if ([v14 playBestTimeRange] && v13 > 0.0 && objc_msgSend(v5, "playbackStyle") != 5)
    {
      v15 = [v5 mediaSubtypes];

      if ((v15 & 0x20000) == 0)
      {
        memset(v23, 0, sizeof(v23));
        v22 = 0u;
        v16 = [v5 mediaAnalysisProperties];
        v17 = v16;
        if (v16)
        {
          [v16 bestVideoTimeRange];
        }

        else
        {
          memset(v23, 0, sizeof(v23));
          v22 = 0u;
        }

        if ((BYTE12(v22) & 1) != 0 && (BYTE4(v23[1]) & 1) != 0 && !*(&v23[1] + 1) && (*(&v23[0] + 1) & 0x8000000000000000) == 0)
        {
          v18 = *(v23 + 8);
          *&v19 = *(&v23[1] + 1);
          time2 = **&MEMORY[0x1E6960CC0];
          if (CMTimeCompare(&v18, &time2) >= 1)
          {
            v18 = v22;
            v19 = v23[0];
            v20 = v23[1];
            [v3 setBestVideoTimeRange:&v18];
          }
        }
      }
    }

    else
    {
    }
  }
}

void sub_1A4DEFBA8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXSharedLibraryCellSystemImageNamed(void *a1)
{
  v1 = MEMORY[0x1E69DCAD8];
  v2 = MEMORY[0x1E69DB878];
  v3 = *MEMORY[0x1E69DDCF8];
  v4 = a1;
  v5 = [v2 px_preferredFontForTextStyle:v3 withSymbolicTraits:0x8000 options:2];
  v6 = [v1 configurationWithFont:v5 scale:2];

  v7 = [MEMORY[0x1E69DCAB8] systemImageNamed:v4 withConfiguration:v6];

  return v7;
}

void PXSharedLibraryNavigateToLibraryViewInSharedLibraryViewMode(int a1, void *a2)
{
  v23 = *MEMORY[0x1E69E9840];
  v3 = a2;
  v4 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v4, OS_LOG_TYPE_DEFAULT, "Will navigate to All Photos", buf, 2u);
  }

  if (a1)
  {
    v5 = 2;
  }

  else
  {
    v5 = 0;
  }

  v6 = MEMORY[0x1E695DFF8];
  v7 = [MEMORY[0x1E696AEC0] stringWithFormat:@"photos://contentmode?id=photos&libraryViewMode=%ld", v5];
  v8 = [v6 URLWithString:v7];

  v9 = [MEMORY[0x1E6963608] defaultWorkspace];
  v20 = 0;
  v10 = [v9 openSensitiveURL:v8 withOptions:MEMORY[0x1E695E0F8] error:&v20];
  v11 = v20;

  v12 = PLSharedLibraryGetLog();
  v13 = v12;
  if (v10)
  {
    if (!os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_12;
    }

    *buf = 0;
    v14 = "Did navigate to All Photos";
    v15 = v13;
    v16 = OS_LOG_TYPE_DEFAULT;
    v17 = 2;
  }

  else
  {
    if (!os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_12;
    }

    *buf = 138412290;
    v22 = v11;
    v14 = "Failed to navigate to All Photos: %@";
    v15 = v13;
    v16 = OS_LOG_TYPE_ERROR;
    v17 = 12;
  }

  _os_log_impl(&dword_1A3C1C000, v15, v16, v14, buf, v17);
LABEL_12:

  v18 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
  {
    v19 = PXLibraryFilterViewModeDescription(v5);
    *buf = 138543362;
    v22 = v19;
    _os_log_impl(&dword_1A3C1C000, v18, OS_LOG_TYPE_DEFAULT, "Will set filter view mode: %{public}@", buf, 0xCu);
  }

  [v3 setViewMode:v5];
}

void PXSharedLibraryCreatePlatterImage(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  PXSizeMakeSquare();
}

void __PXSharedLibraryCreatePlatterImage_block_invoke(uint64_t a1)
{
  v13[1] = *MEMORY[0x1E69E9840];
  v2 = [MEMORY[0x1E69DC888] tertiarySystemGroupedBackgroundColor];
  [v2 set];

  v3 = [MEMORY[0x1E69DC728] bezierPathWithOvalInRect:{*(a1 + 56), *(a1 + 64), *(a1 + 72), *(a1 + 80)}];
  [v3 fill];

  v4 = [MEMORY[0x1E69DCAD8] configurationWithPointSize:28.0];
  v5 = [MEMORY[0x1E69DCAD8] configurationWithScale:3];
  v6 = MEMORY[0x1E69DCAD8];
  v7 = [MEMORY[0x1E69DC888] tintColor];
  v13[0] = v7;
  v8 = [MEMORY[0x1E695DEC8] arrayWithObjects:v13 count:1];
  v9 = [v6 configurationWithPaletteColors:v8];

  v10 = [v4 configurationByApplyingConfiguration:v5];
  v11 = [v10 configurationByApplyingConfiguration:v9];

  v12 = [MEMORY[0x1E69DCAB8] systemImageNamed:*(a1 + 32) withConfiguration:v11];
  [v12 alignmentRectInsets];
  [v12 size];
  PXRectWithCenterAndSize();
}

BOOL PXSharedLibraryAssistantShouldUseAccessibilityLayout()
{
  v0 = [MEMORY[0x1E69DC668] sharedApplication];
  v1 = [v0 preferredContentSizeCategory];
  v2 = v1;
  v3 = *MEMORY[0x1E69DDC90];
  if (v1)
  {
    v3 = v1;
  }

  v4 = v3;

  v5 = UIContentSizeCategoryCompareToCategory(*MEMORY[0x1E69DDC60], v4);
  return v5 == NSOrderedAscending;
}

__CFString *PXSharedLibraryTitleForCounts(__int128 *a1)
{
  if (*a1 == 0x7FFFFFFFFFFFFFFFLL || *(a1 + 1) == 0x7FFFFFFFFFFFFFFFLL || *(a1 + 2) == 0x7FFFFFFFFFFFFFFFLL)
  {
    v6 = &stru_1F1741150;
  }

  else
  {
    v9 = v1;
    v10 = v2;
    v7 = *a1;
    v8 = *(a1 + 2);
    v6 = PXLocalizedStringForDetailedCountsWithUsage(&v7, 4);
  }

  return v6;
}

__CFString *PXHomeEventsAlgorithmDescription(uint64_t a1)
{
  if ((a1 - 1) > 0xC)
  {
    return @"Months";
  }

  else
  {
    return off_1E773A1A0[a1 - 1];
  }
}

__CFString *PXAnalyticsNavigationKindDescription(unint64_t a1)
{
  v3 = *MEMORY[0x1E69E9840];
  if (a1 >= 6)
  {
    PXAssertGetLog();
  }

  v1 = off_1E773A340[a1];

  return v1;
}

__CFString *PXAnalyticsEventFromMemoryFeatureType(uint64_t a1)
{
  v1 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.date";
  v2 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.dateInterval";
  v3 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.holiday";
  v4 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.locationAddress";
  v5 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.locationArea";
  if ((a1 & 0x20000) == 0)
  {
    v5 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.other";
  }

  if ((a1 & 0x1000) == 0)
  {
    v4 = v5;
  }

  if ((a1 & 0x20) == 0)
  {
    v3 = v4;
  }

  if ((a1 & 0x200) == 0)
  {
    v2 = v3;
  }

  if ((a1 & 0x10) == 0)
  {
    v1 = v2;
  }

  if (a1)
  {
    return v1;
  }

  else
  {
    return @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.none";
  }
}

__CFString *PXAnalyticsSlideshowTriggerTypeDescription(unint64_t a1)
{
  v2 = *MEMORY[0x1E69E9840];
  if (a1 >= 7)
  {
    PXAssertGetLog();
  }

  return off_1E773A370[a1];
}

__CFString *PXAnalyticsSlideshowTerminationTypeDescription(unint64_t a1)
{
  v2 = *MEMORY[0x1E69E9840];
  if (a1 >= 3)
  {
    PXAssertGetLog();
  }

  return off_1E773A3A8[a1];
}

void PXDispatchAsyncWithSignpost(void *a1, void *a2, void *a3, double a4)
{
  v7 = a1;
  v8 = a2;
  v9 = a3;
  v10 = mach_absolute_time();
  v11 = [MEMORY[0x1E6991F28] startSignpost];
  v15[0] = MEMORY[0x1E69E9820];
  v15[1] = 3221225472;
  v15[2] = __PXDispatchAsyncWithSignpost_block_invoke;
  v15[3] = &unk_1E773A320;
  v18 = v9;
  v19 = v10;
  v20 = a4;
  v16 = v7;
  v17 = v8;
  v21 = v11;
  v12 = v8;
  v13 = v7;
  v14 = v9;
  dispatch_async(v13, v15);
}

void __PXDispatchAsyncWithSignpost_block_invoke(uint64_t a1)
{
  (*(*(a1 + 48) + 16))();
  mach_absolute_time();
  PXTimebaseConversionFactor();
}

void sub_1A4DF85A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__116758(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void PXStoryCompanionRectFromPXStoryRect(uint64_t a1@<X8>)
{
  *a1 = 0u;
  *(a1 + 16) = 0u;
  *(a1 + 32) = 0;
  PXStoryRectDecompose();
}

void sub_1A4DF9298(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__116876(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t PXPeoplePetsHomeVisibilityMake(int a1, int a2)
{
  v2 = 2;
  if (!a2)
  {
    v2 = 3;
  }

  v3 = 3;
  if (!a2)
  {
    v3 = 1;
  }

  if (a1)
  {
    return v3;
  }

  else
  {
    return v2;
  }
}

__CFString *PXPeoplePetsHomeVisibilityDescription(uint64_t a1)
{
  if (a1)
  {
    v1 = a1;
    v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
    v3 = v2;
    if (v1)
    {
      [v2 addObject:@"humans"];
    }

    if ((v1 & 2) != 0)
    {
      [v3 addObject:@"pets"];
    }

    v4 = MEMORY[0x1E696AEC0];
    v5 = [v3 componentsJoinedByString:{@", "}];
    v6 = [v4 stringWithFormat:@"(%@)", v5];
  }

  else
  {
    v6 = @"(<none>)";
  }

  return v6;
}

id PXCMMSettingsSimulateFetchErrorTypes()
{
  v0 = _SimulateFetchErrorTypesToTitles();
  v1 = [v0 allKeys];
  v2 = [v1 sortedArrayUsingSelector:sel_compare_];

  return v2;
}

id _SimulateFetchErrorTypesToTitles()
{
  v3[4] = *MEMORY[0x1E69E9840];
  v2[0] = &unk_1F190C430;
  v2[1] = &unk_1F190C448;
  v3[0] = @"None";
  v3[1] = @"Fetch Timeout";
  v2[2] = &unk_1F190C460;
  v2[3] = &unk_1F190C478;
  v3[2] = @"Fetch Recoverable";
  v3[3] = @"Fetch Permanent";
  v0 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v3 forKeys:v2 count:4];

  return v0;
}

id PXCMMSettingsSimulateFetchErrorTypeTitles()
{
  v0 = _SimulateFetchErrorTypesToTitles();
  v1 = PXCMMSettingsSimulateFetchErrorTypes();
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v8[0] = MEMORY[0x1E69E9820];
  v8[1] = 3221225472;
  v8[2] = __PXCMMSettingsSimulateFetchErrorTypeTitles_block_invoke;
  v8[3] = &unk_1E7745F70;
  v9 = v0;
  v3 = v2;
  v10 = v3;
  v4 = v0;
  [v1 enumerateObjectsUsingBlock:v8];
  v5 = v10;
  v6 = v3;

  return v3;
}

void __PXCMMSettingsSimulateFetchErrorTypeTitles_block_invoke(uint64_t a1, uint64_t a2)
{
  v3 = [*(a1 + 32) objectForKeyedSubscript:a2];
  [*(a1 + 40) addObject:v3];
}

id PXCMMSettingsSimulateErrorTypes()
{
  v0 = _SimulateErrorTypesToTitles_118558();
  v1 = [v0 allKeys];
  v2 = [v1 sortedArrayUsingSelector:sel_compare_];

  return v2;
}

id _SimulateErrorTypesToTitles_118558()
{
  v3[12] = *MEMORY[0x1E69E9840];
  v2[0] = &unk_1F190C430;
  v2[1] = &unk_1F190C448;
  v3[0] = @"Unrecognized";
  v3[1] = @"Transient (like Network Error)";
  v2[2] = &unk_1F190C460;
  v2[3] = &unk_1F190C478;
  v3[2] = @"Invalid URL";
  v3[3] = @"Deleted By Sender";
  v2[4] = &unk_1F190C490;
  v2[5] = &unk_1F190C4A8;
  v3[4] = @"Not Found (Probably Expired)";
  v3[5] = @"Quota Exceeded";
  v2[6] = &unk_1F190C4C0;
  v2[7] = &unk_1F190C4D8;
  v3[6] = @"iCloud Required";
  v3[7] = @"CPL Exit Mode";
  v2[8] = &unk_1F190C4F0;
  v2[9] = &unk_1F190C508;
  v3[8] = @"Messages Unavailable";
  v3[9] = @"Feature Disabled";
  v2[10] = &unk_1F190C520;
  v2[11] = &unk_1F190C538;
  v3[10] = @"iCloud Settings Require Review";
  v3[11] = @"User Cancelled";
  v0 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v3 forKeys:v2 count:12];

  return v0;
}

id PXCMMSettingsSimulateErrorTypeTitles()
{
  v0 = _SimulateErrorTypesToTitles_118558();
  v1 = PXCMMSettingsSimulateErrorTypes();
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v8[0] = MEMORY[0x1E69E9820];
  v8[1] = 3221225472;
  v8[2] = __PXCMMSettingsSimulateErrorTypeTitles_block_invoke;
  v8[3] = &unk_1E7745F70;
  v9 = v0;
  v3 = v2;
  v10 = v3;
  v4 = v0;
  [v1 enumerateObjectsUsingBlock:v8];
  v5 = v10;
  v6 = v3;

  return v3;
}

void __PXCMMSettingsSimulateErrorTypeTitles_block_invoke(uint64_t a1, uint64_t a2)
{
  v3 = [*(a1 + 32) objectForKeyedSubscript:a2];
  [*(a1 + 40) addObject:v3];
}

id PXCMMSimulateCapabilitySourceStates()
{
  v0 = _PXCMMSimulateCapabilitySourceStatesToTitles();
  v1 = [v0 allKeys];
  v2 = [v1 sortedArrayUsingSelector:sel_compare_];

  return v2;
}

id _PXCMMSimulateCapabilitySourceStatesToTitles()
{
  v3[3] = *MEMORY[0x1E69E9840];
  v2[0] = &unk_1F190C430;
  v2[1] = &unk_1F190C448;
  v3[0] = @"Default";
  v3[1] = @"Enabled";
  v2[2] = &unk_1F190C460;
  v3[2] = @"Disabled";
  v0 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v3 forKeys:v2 count:3];

  return v0;
}

id PXCMMSimulateCapabilitySourceStateTitles()
{
  v0 = _PXCMMSimulateCapabilitySourceStatesToTitles();
  v1 = PXCMMSimulateCapabilitySourceStates();
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v8[0] = MEMORY[0x1E69E9820];
  v8[1] = 3221225472;
  v8[2] = __PXCMMSimulateCapabilitySourceStateTitles_block_invoke;
  v8[3] = &unk_1E7745F70;
  v9 = v0;
  v3 = v2;
  v10 = v3;
  v4 = v0;
  [v1 enumerateObjectsUsingBlock:v8];
  v5 = v10;
  v6 = v3;

  return v3;
}

void __PXCMMSimulateCapabilitySourceStateTitles_block_invoke(uint64_t a1, uint64_t a2)
{
  v3 = [*(a1 + 32) objectForKeyedSubscript:a2];
  [*(a1 + 40) addObject:v3];
}

void PXConfigureAndPresentFailureAlert(void *a1, void *a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8)
{
  v15 = a1;
  v16 = a2;
  v17 = a3;
  v18 = a5;
  v19 = a6;
  v20 = a7;
  v21 = a8;
  v22 = a4;
  if ([v15 length])
  {
    if (v22)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v25 = [MEMORY[0x1E696AAA8] currentHandler];
    v26 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))"}];
    [v25 handleFailureInFunction:v26 file:@"PXFailureAlertUtilities.m" lineNumber:24 description:{@"Invalid parameter not satisfying: %@", @"localizedTitle.length"}];

    if (v22)
    {
LABEL_3:
      if (v19)
      {
        goto LABEL_4;
      }

      goto LABEL_10;
    }
  }

  v27 = [MEMORY[0x1E696AAA8] currentHandler];
  v28 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))"}];
  [v27 handleFailureInFunction:v28 file:@"PXFailureAlertUtilities.m" lineNumber:27 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

  if (v19)
  {
LABEL_4:
    if (v21)
    {
      goto LABEL_5;
    }

LABEL_11:
    v31 = [MEMORY[0x1E696AAA8] currentHandler];
    v32 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))"}];
    [v31 handleFailureInFunction:v32 file:@"PXFailureAlertUtilities.m" lineNumber:29 description:{@"Invalid parameter not satisfying: %@", @"configurationBlock"}];

    if (!v17)
    {
      goto LABEL_12;
    }

    goto LABEL_6;
  }

LABEL_10:
  v29 = [MEMORY[0x1E696AAA8] currentHandler];
  v30 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))"}];
  [v29 handleFailureInFunction:v30 file:@"PXFailureAlertUtilities.m" lineNumber:28 description:{@"Invalid parameter not satisfying: %@", @"os_log"}];

  if (!v21)
  {
    goto LABEL_11;
  }

LABEL_5:
  if (!v17)
  {
    goto LABEL_12;
  }

LABEL_6:
  v23 = +[PXRootSettings sharedInstance];
  v24 = [v23 canShowInternalUI];

  if (v24)
  {
    PXCanonicalErrorForError();
  }

LABEL_12:
  if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v19, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: Will present alert", buf, 2u);
  }

  v40[0] = MEMORY[0x1E69E9820];
  v40[1] = 3221225472;
  v40[2] = __PXConfigureAndPresentFailureAlert_block_invoke;
  v40[3] = &unk_1E773A6D0;
  v41 = v15;
  v42 = v16;
  v43 = 0;
  v33 = v19;
  v44 = v33;
  v34 = v18;
  v45 = v20;
  v46 = v34;
  v35 = v20;
  v36 = 0;
  v37 = v16;
  v38 = v15;
  v39 = [v22 presentAlertWithConfigurationHandler:v40];

  if (v39)
  {
    if (os_log_type_enabled(v33, OS_LOG_TYPE_DEFAULT))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v33, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: Did present alert", buf, 2u);
    }
  }

  else
  {
    if (os_log_type_enabled(v33, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v33, OS_LOG_TYPE_ERROR, "PXFailureAlert: Failed to present alert", buf, 2u);
    }

    if (v34)
    {
      v34[2](v34);
    }
  }
}

void __PXConfigureAndPresentFailureAlert_block_invoke(uint64_t a1, void *a2)
{
  v3 = a2;
  [v3 setTitle:*(a1 + 32)];
  [v3 setMessage:*(a1 + 40)];
  v4 = objc_alloc_init(MEMORY[0x1E695DF70]);
  if (*(a1 + 48))
  {
    v5 = [off_1E7721440 alloc];
    v13[0] = MEMORY[0x1E69E9820];
    v13[1] = 3221225472;
    v13[2] = __PXConfigureAndPresentFailureAlert_block_invoke_2;
    v13[3] = &unk_1E774A0E0;
    v14 = *(a1 + 48);
    v15 = *(a1 + 56);
    v16 = *(a1 + 72);
    v6 = [v5 initWithTitle:@"File Radar" style:0 action:v13];
    [v4 addObject:v6];
  }

  if (*(a1 + 64))
  {
    [v4 addObjectsFromArray:?];
  }

  v7 = [off_1E7721440 alloc];
  v8 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v10[0] = MEMORY[0x1E69E9820];
  v10[1] = 3221225472;
  v10[2] = __PXConfigureAndPresentFailureAlert_block_invoke_230;
  v10[3] = &unk_1E774C2F0;
  v11 = *(a1 + 56);
  v12 = *(a1 + 72);
  v9 = [v7 initWithTitle:v8 style:0 action:v10];
  [v4 addObject:v9];

  [v3 addActions:v4];
}

void __PXConfigureAndPresentFailureAlert_block_invoke_2(id *a1)
{
  v2[0] = MEMORY[0x1E69E9820];
  v2[1] = 3221225472;
  v2[2] = __PXConfigureAndPresentFailureAlert_block_invoke_3;
  v2[3] = &unk_1E774BD88;
  v3 = a1[5];
  v4 = a1[6];
  [a1[4] setCompletionHandler:v2];
  PXFileRadarWithConfiguration(a1[4]);
}

uint64_t __PXConfigureAndPresentFailureAlert_block_invoke_230(uint64_t a1)
{
  v2 = *(a1 + 32);
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: User dismissed the alert", v4, 2u);
  }

  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))();
  }

  return result;
}

void __PXConfigureAndPresentFailureAlert_block_invoke_3(uint64_t a1, uint64_t a2, void *a3)
{
  v4 = a3;
  v5 = *(a1 + 32);
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    *v7 = 0;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: User dismissed the alert with the TTR button", v7, 2u);
  }

  v6 = *(a1 + 40);
  if (v6)
  {
    (*(v6 + 16))();
  }
}

void sub_1A4E0882C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, char a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, char a37)
{
  _Block_object_dispose(&a31, 8);
  _Block_object_dispose(&a37, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__118735(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id PXLabeledValuesWithValuesAndLocalizedLabels(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v13 = [MEMORY[0x1E696AAA8] currentHandler];
    v14 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSArray<PXLabeledValue *> * _Nonnull PXLabeledValuesWithValuesAndLocalizedLabels(NSArray<id<PXLabeledValueType>> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)"}];
    [v13 handleFailureInFunction:v14 file:@"PXLabeledValue.m" lineNumber:102 description:{@"Invalid parameter not satisfying: %@", @"values"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v15 = [MEMORY[0x1E696AAA8] currentHandler];
  v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSArray<PXLabeledValue *> * _Nonnull PXLabeledValuesWithValuesAndLocalizedLabels(NSArray<id<PXLabeledValueType>> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)"}];
  [v15 handleFailureInFunction:v16 file:@"PXLabeledValue.m" lineNumber:103 description:{@"Invalid parameter not satisfying: %@", @"localizedLabels"}];

LABEL_3:
  v6 = [v3 count];
  if (v6 != [v5 count])
  {
    v17 = [MEMORY[0x1E696AAA8] currentHandler];
    v18 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSArray<PXLabeledValue *> * _Nonnull PXLabeledValuesWithValuesAndLocalizedLabels(NSArray<id<PXLabeledValueType>> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)"}];
    [v17 handleFailureInFunction:v18 file:@"PXLabeledValue.m" lineNumber:104 description:{@"Invalid parameter not satisfying: %@", @"values.count == localizedLabels.count"}];
  }

  v7 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v19[0] = MEMORY[0x1E69E9820];
  v19[1] = 3221225472;
  v19[2] = __PXLabeledValuesWithValuesAndLocalizedLabels_block_invoke;
  v19[3] = &unk_1E773A748;
  v20 = v5;
  v8 = v7;
  v21 = v8;
  v9 = v5;
  [v3 enumerateObjectsUsingBlock:v19];
  v10 = v21;
  v11 = v8;

  return v8;
}

void __PXLabeledValuesWithValuesAndLocalizedLabels_block_invoke(uint64_t a1, void *a2, uint64_t a3)
{
  v5 = *(a1 + 32);
  v6 = a2;
  v8 = [v5 objectAtIndexedSubscript:a3];
  v7 = [[PXLabeledValue alloc] initWithValue:v6 localizedLabel:v8];

  [*(a1 + 40) addObject:v7];
}

uint64_t PXSmartAlbumIndexOfValueInLabeledValues(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (!v3)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSUInteger PXSmartAlbumIndexOfValueInLabeledValues(NSArray<PXLabeledValue *> *__strong _Nonnull, __strong id<PXLabeledValueType> _Nonnull)"}];
    [v9 handleFailureInFunction:v10 file:@"PXLabeledValue.m" lineNumber:116 description:{@"Invalid parameter not satisfying: %@", @"labeledValues"}];

    if (v5)
    {
      goto LABEL_3;
    }

LABEL_5:
    v11 = [MEMORY[0x1E696AAA8] currentHandler];
    v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSUInteger PXSmartAlbumIndexOfValueInLabeledValues(NSArray<PXLabeledValue *> *__strong _Nonnull, __strong id<PXLabeledValueType> _Nonnull)"}];
    [v11 handleFailureInFunction:v12 file:@"PXLabeledValue.m" lineNumber:117 description:{@"Invalid parameter not satisfying: %@", @"value"}];

    goto LABEL_3;
  }

  if (!v4)
  {
    goto LABEL_5;
  }

LABEL_3:
  v13[0] = MEMORY[0x1E69E9820];
  v13[1] = 3221225472;
  v13[2] = __PXSmartAlbumIndexOfValueInLabeledValues_block_invoke;
  v13[3] = &unk_1E773A770;
  v14 = v5;
  v6 = v5;
  v7 = [v3 indexOfObjectPassingTest:v13];

  return v7;
}

uint64_t __PXSmartAlbumIndexOfValueInLabeledValues_block_invoke(uint64_t a1, void *a2)
{
  v3 = [a2 value];
  v4 = v3;
  if (v3 == *(a1 + 32))
  {
    v5 = 1;
  }

  else
  {
    v5 = [v3 isEqual:?];
  }

  return v5;
}

id PXLabeledValueForValueInLabeledValues(void *a1, void *a2)
{
  v3 = a1;
  v4 = PXSmartAlbumIndexOfValueInLabeledValues(v3, a2);
  if (v4 == 0x7FFFFFFFFFFFFFFFLL)
  {
    v5 = 0;
  }

  else
  {
    v5 = [v3 objectAtIndexedSubscript:v4];
  }

  return v5;
}

uint64_t PXCanExpungeAssetFromAssetCollection(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  if ([off_1E7721428 destructiveActionsEnabled])
  {
    v5 = [v4 canPerformEditOperation:1];
    v6 = [v3 participatesInLibraryScope];
    v7 = v6 & v5;
    if (v6 & 1) == 0 && (v5)
    {
      v7 = [v3 canPerformEditOperation:101];
    }
  }

  else
  {
    v7 = 0;
  }

  return v7;
}

uint64_t __Block_byref_object_copy__119320(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void _addFetchPropertySetsForCurationKind(void *a1, uint64_t a2)
{
  v6 = *MEMORY[0x1E69E9840];
  if ((a2 & 0xFFFFFFFFFFFFFFFELL) == 2)
  {
    v5 = *MEMORY[0x1E6978D10];
    v2 = MEMORY[0x1E695DEC8];
    v3 = a1;
    v4 = [v2 arrayWithObjects:&v5 count:1];
    [v3 addFetchPropertySets:{v4, v5, v6}];
  }
}

void sub_1A4E0FE38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E13C68(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v3 - 88));
  _Unwind_Resume(a1);
}

void sub_1A4E14838(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 48));
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 48));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A4E15434(_Unwind_Exception *a1)
{
  objc_destroyWeak((v3 + 32));
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v4 - 56));
  _Unwind_Resume(a1);
}

BOOL PXPhotosDetailsContextShouldShowHeaderForDataSource(void *a1)
{
  v1 = a1;
  if ([v1 numberOfSections] < 1)
  {
    v8 = 0;
  }

  else
  {
    v2 = -[PXPhotosDataSource initWithPhotosDataSource:options:]([PXPhotosDataSource alloc], "initWithPhotosDataSource:options:", v1, [v1 options] | 0x10);
    v3 = [(PXPhotosDataSource *)v2 assetCollectionForSection:0];
    [(PXPhotosDataSource *)v2 setWantsCuration:1 forAssetCollection:v3];
    v4 = +[PXMemoriesRelatedSettings sharedInstance];
    v5 = [v4 minimumNumberOfCuratedAssetsForMovieHeader];

    v6 = [(PXPhotosDataSource *)v2 numberOfItemsInSection:0];
    if (v6)
    {
      v7 = v6;
    }

    else
    {
      v9 = [(PXPhotosDataSource *)v2 uncuratedAssetsInSection:0];
      v7 = [v9 count];
      v5 = vcvtpd_u64_f64(pow(v5, 1.265));
    }

    v8 = v7 >= v5;
  }

  return v8;
}

BOOL PXPhotosDetailsContextHasLocationForDataSource(void *a1)
{
  v25 = *MEMORY[0x1E69E9840];
  v1 = a1;
  if ([v1 numberOfSections] >= 1)
  {
    v22 = 0u;
    v23 = 0u;
    v20 = 0u;
    v21 = 0u;
    v2 = [v1 assetsInSection:0];
    v3 = [v2 countByEnumeratingWithState:&v20 objects:v24 count:16];
    if (v3)
    {
      v4 = v3;
      v5 = 0;
      v6 = *v21;
      while (2)
      {
        v7 = 0;
        if (v5 <= 19)
        {
          v8 = 19;
        }

        else
        {
          v8 = v5;
        }

        v9 = (v8 - v5);
        v5 += v4;
        do
        {
          if (*v21 != v6)
          {
            objc_enumerationMutation(v2);
          }

          v10 = [*(*(&v20 + 1) + 8 * v7) location];

          if (v10)
          {
            v18 = 1;
            goto LABEL_23;
          }

          if (v9 == v7)
          {
            goto LABEL_14;
          }

          ++v7;
        }

        while (v4 != v7);
        v4 = [v2 countByEnumeratingWithState:&v20 objects:v24 count:16];
        if (v4)
        {
          continue;
        }

        break;
      }
    }

LABEL_14:
  }

  if ([v1 numberOfSections] < 1 || objc_msgSend(v1, "numberOfItemsInSection:", 0) < 21)
  {
    v18 = 0;
  }

  else
  {
    v2 = [v1 assetsInSection:0];
    v11 = [v2 fetchedObjectIDs];
    if ([v11 count])
    {
      v12 = MEMORY[0x1E6978830];
      v13 = [v2 photoLibrary];
      v14 = [v2 firstObject];
      v15 = [v12 fetchOptionsWithPhotoLibrary:v13 orObject:v14];

      [v15 setFetchLimit:1];
      v16 = [MEMORY[0x1E696AE18] predicateWithFormat:@"self in (%@) AND additionalAttributes.locationHash != 0", v11];
      [v15 setInternalPredicate:v16];

      [v15 setInternalSortDescriptors:MEMORY[0x1E695E0F0]];
      v17 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v15];
      v18 = [v17 count] != 0;
    }

    else
    {
      v18 = 0;
    }

LABEL_23:
  }

  return v18;
}

id PXViewControllerEventTrackerCreateWithPhotosDetailsContext(void *a1)
{
  v1 = a1;
  v2 = [v1 viewSourceOrigin];
  if (v2 > 0xD)
  {
    v3 = @"Unknown";
  }

  else
  {
    v3 = off_1E774C470[v2];
  }

  v4 = v3;
  v5 = [objc_alloc(MEMORY[0x1E696AEC0]) initWithFormat:@"PhotosDetails_%@", v4];
  v6 = [v1 photosDataSource];
  v7 = [v6 containerAssetCollection];

  if (v7)
  {
    v8 = PXMediaViewControllerEventTrackerCreate(v5);
    [v8 setDisplayedAssetCollection:v7];
  }

  else
  {
    v8 = PXViewControllerEventTrackerCreate(v5);
  }

  v9 = [MEMORY[0x1E696AD98] numberWithUnsignedInteger:{objc_msgSend(v1, "contextHierarchyDepth")}];
  v10 = [v8 payload];
  [v10 setObject:v9 forKeyedSubscript:@"photosDetailsDepth"];

  return v8;
}

uint64_t IdiomForFormFactor(unint64_t a1)
{
  if (a1 >= 0xE)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXUserInterfaceIdiom IdiomForFormFactor(PXMockFormFactor)"];
    [v6 handleFailureInFunction:v7 file:@"PXMockExtendedTraitCollection.m" lineNumber:74 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return qword_1A5381CC8[a1];
}

__CFString *PXMockFormFactorDescription(unint64_t a1)
{
  if (a1 > 0xD)
  {
    return @"?";
  }

  else
  {
    return off_1E773AAF0[a1];
  }
}

uint64_t PXMockFormFactorEnumerateAllUsingBlock(uint64_t a1)
{
  v5 = 0;
  v2 = 1;
  do
  {
    result = (*(a1 + 16))(a1, v2, &v5);
    if (v5)
    {
      break;
    }
  }

  while (v2++ != 13);
  return result;
}

void PXEnumerateViewControllersUsingBlock(void *a1)
{
  v39 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v33 = 0;
  v34 = &v33;
  v35 = 0x2020000000;
  v36 = 0;
  v29 = 0;
  v30 = &v29;
  v31 = 0x2020000000;
  v32 = 0;
  v25 = 0u;
  v26 = 0u;
  v27 = 0u;
  v28 = 0u;
  v2 = [MEMORY[0x1E69DC668] px_sharedApplication];
  obj = [v2 connectedScenes];

  v14 = [obj countByEnumeratingWithState:&v25 objects:v38 count:16];
  if (v14)
  {
    v13 = *v26;
LABEL_3:
    v15 = 0;
    while (1)
    {
      if (*v26 != v13)
      {
        objc_enumerationMutation(obj);
      }

      v3 = *(*(&v25 + 1) + 8 * v15);
      v21 = 0u;
      v22 = 0u;
      v23 = 0u;
      v24 = 0u;
      v4 = v3;
      if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
      {
        v5 = v4;
      }

      else
      {
        v5 = 0;
      }

      v6 = [v5 windows];

      v7 = [v6 countByEnumeratingWithState:&v21 objects:v37 count:16];
      if (v7)
      {
        v8 = *v22;
LABEL_12:
        v9 = 0;
        while (1)
        {
          if (*v22 != v8)
          {
            objc_enumerationMutation(v6);
          }

          v10 = [*(*(&v21 + 1) + 8 * v9) rootViewController];
          v17[0] = MEMORY[0x1E69E9820];
          v17[1] = 3221225472;
          v17[2] = __PXEnumerateViewControllersUsingBlock_block_invoke;
          v17[3] = &unk_1E773AB68;
          v19 = &v33;
          v18 = v1;
          v20 = &v29;
          [v10 px_enumerateDescendantViewControllersWithOptions:0 usingBlock:v17];

          LOBYTE(v10) = *(v30 + 24);
          if (v10)
          {
            break;
          }

          if (v7 == ++v9)
          {
            v7 = [v6 countByEnumeratingWithState:&v21 objects:v37 count:16];
            if (v7)
            {
              goto LABEL_12;
            }

            break;
          }
        }
      }

      if (v30[3])
      {
        break;
      }

      if (++v15 == v14)
      {
        v14 = [obj countByEnumeratingWithState:&v25 objects:v38 count:16];
        if (v14)
        {
          goto LABEL_3;
        }

        break;
      }
    }
  }

  if ((v34[3] & 1) == 0)
  {
    v11 = PLUIGetLog();
    if (os_log_type_enabled(v11, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_ERROR, "Couldn't find any view controller", buf, 2u);
    }
  }

  _Block_object_dispose(&v29, 8);
  _Block_object_dispose(&v33, 8);
}

void sub_1A4E1B7B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, char a37, uint64_t a38, uint64_t a39, uint64_t a40, char a41)
{
  _Block_object_dispose(&a37, 8);
  _Block_object_dispose(&a41, 8);
  _Unwind_Resume(a1);
}

uint64_t __PXEnumerateViewControllersUsingBlock_block_invoke(void *a1, uint64_t a2, _BYTE *a3)
{
  *(*(a1[5] + 8) + 24) = 1;
  result = (*(a1[4] + 16))();
  if (*a3 == 1)
  {
    *(*(a1[6] + 8) + 24) = 1;
  }

  return result;
}

id PXFirstViewControllerPassingTest(void *a1)
{
  v1 = a1;
  v8 = 0;
  v9 = &v8;
  v10 = 0x3032000000;
  v11 = __Block_byref_object_copy__121472;
  v12 = __Block_byref_object_dispose__121473;
  v13 = 0;
  v5[0] = MEMORY[0x1E69E9820];
  v5[1] = 3221225472;
  v5[2] = __PXFirstViewControllerPassingTest_block_invoke;
  v5[3] = &unk_1E773AB90;
  v2 = v1;
  v6 = v2;
  v7 = &v8;
  PXEnumerateViewControllersUsingBlock(v5);
  v3 = v9[5];

  _Block_object_dispose(&v8, 8);

  return v3;
}

void sub_1A4E1B964(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__121472(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void __PXFirstViewControllerPassingTest_block_invoke(uint64_t a1, void *a2, _BYTE *a3)
{
  v6 = a2;
  if ((*(*(a1 + 32) + 16))())
  {
    objc_storeStrong((*(*(a1 + 40) + 8) + 40), a2);
    *a3 = 1;
  }
}

PXPhotoKitAssetsDataSourceManager *_PXAllPhotosDataSourceManager(void *a1, int a2)
{
  v22[1] = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = [v3 librarySpecificFetchOptions];
  [v4 setIncludeAllPhotosSmartAlbum:1];
  v5 = [MEMORY[0x1E6978650] fetchAssetCollectionsWithType:2 subtype:1000000205 options:v4];
  v6 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:v5 options:1153];
  v22[0] = *MEMORY[0x1E6978D08];
  v7 = [MEMORY[0x1E695DEC8] arrayWithObjects:v22 count:1];
  v8 = [off_1E7721948 standardUserDefaults];
  v9 = [v8 allPhotosCaptionsVisible];
  v10 = [v9 BOOLValue];

  if (v10)
  {
    v11 = [v7 arrayByAddingObject:*MEMORY[0x1E6978C50]];

    v7 = v11;
  }

  [(PXPhotosDataSourceConfiguration *)v6 setFetchPropertySets:v7];
  v12 = [PXContentSyndicationConfigurationProvider contentSyndicationConfigurationProviderWithPhotoLibrary:v3];
  -[PXPhotosDataSourceConfiguration setCanIncludeUnsavedSyndicatedAssets:](v6, "setCanIncludeUnsavedSyndicatedAssets:", [v12 showUnsavedSyndicatedContentInPhotosGrids]);
  v13 = [v5 firstObject];
  v14 = [PXContentFilterState defaultFilterStateForContainerCollection:v13 photoLibrary:v3];

  v15 = [v14 predicateForUseCase:0];
  [(PXPhotosDataSourceConfiguration *)v6 setFilterPredicate:v15];

  -[PXPhotosDataSourceConfiguration setIncludeOthersInSocialGroupAssets:](v6, "setIncludeOthersInSocialGroupAssets:", [v14 includeOthersInSocialGroupAssets]);
  [(PXPhotosDataSourceConfiguration *)v6 setReverseSortOrder:a2 ^ 1u];
  keyExistsAndHasValidFormat = 0;
  if (CFPreferencesGetAppBooleanValue(@"StacksEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat))
  {
    v16 = keyExistsAndHasValidFormat == 0;
  }

  else
  {
    v16 = 1;
  }

  v17 = !v16;
  [(PXPhotosDataSourceConfiguration *)v6 setIncludeAllBurstAssets:v17];
  v18 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v6];
  v19 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v18];

  return v19;
}

id PXPhotosViewConfigurationForImagePickerWithAssetCollection(void *a1, void *a2, char a3, uint64_t a4, void *a5, uint64_t a6)
{
  v11 = a1;
  v12 = a2;
  v19 = MEMORY[0x1E69E9820];
  v20 = 3221225472;
  v21 = __PXPhotosViewConfigurationForImagePickerWithAssetCollection_block_invoke;
  v22 = &unk_1E773ABB8;
  v24 = v12;
  v25 = a4;
  v23 = v11;
  v26 = a3;
  v13 = v12;
  v14 = v11;
  v15 = a5;
  v16 = _CreateDataSourceManager(v14, &v19);
  v17 = _PXPhotosViewConfigurationWithDataSourceManager(v16, v15);

  [v17 setAllowsSwipeToSelect:{a6, v19, v20, v21, v22}];
  _PXPhotosViewConfigurationAdjustImagePickerOptions(v17);

  return v17;
}

id __PXPhotosViewConfigurationForImagePickerWithAssetCollection_block_invoke(uint64_t a1)
{
  v1 = *(a1 + 48);
  v2 = 1027;
  if (v1 == 1)
  {
    v2 = 1049603;
  }

  if (v1 == 2)
  {
    v3 = 4195331;
  }

  else
  {
    v3 = v2;
  }

  BYTE1(v5) = *(a1 + 56);
  LOBYTE(v5) = 0;
  return [PXPhotoKitAssetsDataSourceManager dataSourceManagerForAssetCollection:*(a1 + 32) existingAssetsFetchResult:0 existingKeyAssetsFetchResult:0 fetchPropertySets:0 basePredicate:*(a1 + 40) options:v3 ignoreSharedLibraryFilters:v5 reverseSortOrder:?];
}

id _CreateDataSourceManager(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = [off_1E7721810 sharedInstance];
  v6 = [v5 emulatesEmptyLibrary];

  v7 = v4[2](v4);

  if (v6)
  {
    v8 = [v7 photoLibrary];
    v9 = _EmptyDataSourceManager(v3, v8);

    v7 = v9;
  }

  return v7;
}

void *_PXPhotosViewConfigurationWithDataSourceManager(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = _PXDefaultUIMediaProviderForDataSourceManager(v3);
  v6 = _PXDefaultAssetActionManagerForDataSourceManager(v3);
  v7 = _PXDefaultAssetCollectionActionManagerForDataSourceManager(v3);
  v8 = [v3 dataSource];
  v9 = [v8 containerCollection];

  if (v4)
  {
    v10 = [v4 checkOutSelectionManagerForDataSourceManager:v3];
  }

  else
  {
    v10 = 0;
  }

  v88 = v6;
  v89 = v5;
  v86 = v10;
  v87 = v7;
  v11 = [[off_1E7721830 alloc] initWithDataSourceManager:v3 mediaProvider:v5 selectionManager:v10 assetActionManager:v6 assetCollectionActionManager:v7];
  v12 = [PXContentPrivacyController privacyControllerForCollection:v9];
  v13 = [v11 photosAppConfiguration];
  [v13 setPrivacyController:v12];

  [v11 setWantsContentFilterVisible:{objc_msgSend(v3, "supportsFiltering")}];
  v14 = v9;
  if (v14)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      v63 = [MEMORY[0x1E696AAA8] currentHandler];
      v64 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewFooterVisibilityStyle _PXPhotosViewConfigurationFooterVisibilityStyleForCollection(__strong id<PXDisplayCollection>, NSString *__autoreleasing *, NSURL *__autoreleasing *)"}];
      v65 = objc_opt_class();
      v66 = NSStringFromClass(v65);
      [v14 px_descriptionForAssertionMessage];
      v68 = v67 = v4;
      [v63 handleFailureInFunction:v64 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:101 description:{@"%@ should be nil or an instance inheriting from %@, but it is %@", @"collection", v66, v68}];

      v4 = v67;
    }
  }

  if (![v14 px_isRecentlyDeletedSmartAlbum])
  {
    if ([v14 px_isRecoveredSmartAlbum])
    {
      v15 = MEMORY[0x1E696AEC0];
      v16 = +[PXLocalization currentDeviceCanonicalModel];
      v17 = [v15 stringWithFormat:@"RECOVERED_PAGE_EXPLANATION_%@", v16];

      v18 = PXLocalizedStringFromTable(v17, @"PhotosUICore");
      v19 = v18;
      v20 = [MEMORY[0x1E695DFF8] URLWithString:@"https://support.apple.com/120347?cid=mc-nav-photos-article_120347-ios_ui-06072024"];
      v21 = v20;

      v22 = 2;
      goto LABEL_18;
    }

    if ([v14 px_isImportHistoryCollection])
    {
      v18 = 0;
      v20 = 0;
      v22 = 0;
      goto LABEL_18;
    }

    if (![v14 px_isSharedAlbum])
    {
      v59 = [v14 px_isTransientCollectionWithIdentifier:@"PXSharedLibrarySuggestedByPhotosDebugAlbum"];
      v20 = 0;
      if (v59)
      {
        v18 = @"Internal only: suggestions of assets to add to your Shared Library, based on people or camera toggle state in the moment.";
      }

      else
      {
        v18 = 0;
      }

      if (v59)
      {
        v22 = 2;
      }

      else
      {
        v22 = 1;
      }

      goto LABEL_18;
    }

    v57 = v14;
    if (v14)
    {
      objc_opt_class();
      if (objc_opt_isKindOfClass())
      {
LABEL_107:
        v18 = [PXSharedAlbumsUtilities localizedSharedByDescriptionForSharedAlbum:v57];
        v58 = v18;

        v20 = 0;
        v22 = 2;
        goto LABEL_18;
      }

      v80 = [MEMORY[0x1E696AAA8] currentHandler];
      v76 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewFooterVisibilityStyle _PXPhotosViewConfigurationFooterVisibilityStyleForCollection(__strong id<PXDisplayCollection>, NSString *__autoreleasing *, NSURL *__autoreleasing *)"}];
      v77 = v80;
      v81 = objc_opt_class();
      v79 = NSStringFromClass(v81);
      v82 = [v57 px_descriptionForAssertionMessage];
      [v77 handleFailureInFunction:v76 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:132 description:{@"%@ should be an instance inheriting from %@, but it is %@", @"collection", v79, v82}];
    }

    else
    {
      v75 = [MEMORY[0x1E696AAA8] currentHandler];
      v76 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewFooterVisibilityStyle _PXPhotosViewConfigurationFooterVisibilityStyleForCollection(__strong id<PXDisplayCollection>, NSString *__autoreleasing *, NSURL *__autoreleasing *)"}];
      v77 = v75;
      v78 = objc_opt_class();
      v79 = NSStringFromClass(v78);
      [v77 handleFailureInFunction:v76 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:132 description:{@"%@ should be an instance inheriting from %@, but it is nil", @"collection", v79}];
    }

    goto LABEL_107;
  }

  if ([v14 px_isInReadWriteCloudLibrary])
  {
    PXLocalizedStringWithCount(@"DELETE_PAGE_EXPLANATION_WITH_CLOUD_PHOTO_LIBRARY");
  }

  v18 = PXLocalizedStringFromTable(@"DELETE_PAGE_EXPLANATION", @"PhotosUICore");
  v23 = [v14 photoLibrary];
  v24 = [PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v23];

  if ([v24 hasSharedLibrary])
  {
    v25 = [v24 sharedLibrary];
    v26 = [v25 isOwned];

    if (v26)
    {
      v27 = @"PXSharedLibraryRecentlyDeletedInfoOwner";
    }

    else
    {
      v27 = @"PXSharedLibraryRecentlyDeletedInfoParticipant";
    }

    v28 = PXLocalizedSharedLibraryString(v27);
    v29 = [(__CFString *)v18 stringByAppendingFormat:@"\n\n%@", v28];

    v18 = v29;
  }

  v30 = v18;

  v20 = 0;
  v22 = 2;
LABEL_18:

  v31 = v18;
  v32 = v20;
  [v11 setFooterVisibilityStyle:v22];
  [v11 setFooterSubtitle:v31];
  [v11 setFooterLearnMoreURL:v32];
  [v11 setWantsCPLStatus:{objc_msgSend(v14, "px_isRecentsSmartAlbum")}];
  [v11 setWantsRenderingStatus:{objc_msgSend(v14, "px_isCinematicSmartAlbum")}];
  v33 = v14;
  if ([v33 px_isImportHistoryCollection])
  {
    v34 = 2;
  }

  else if ([v33 px_isAllLibraryDuplicatesSmartAlbum])
  {
    v34 = 4;
  }

  else
  {
    v34 = 0;
  }

  [v11 setSectionHeaderStyle:v34];
  v35 = v33;
  v36 = [off_1E7721810 sharedInstance];
  v37 = [v36 enableSuperzoom];
  if (!v35 || !v37 || ([v35 canContainCollections] & 1) != 0 || (objc_msgSend(v35, "px_isPanoramasSmartAlbum") & 1) != 0 || (objc_msgSend(v35, "px_isImportHistoryCollection") & 1) != 0 || (objc_msgSend(v35, "px_isAllLibraryDuplicatesSmartAlbum") & 1) != 0)
  {

    v38 = 0;
  }

  else
  {
    v60 = v3;
    v61 = v31;
    v62 = [v35 px_isSharedLibrarySharingSuggestion];

    v38 = v62 ^ 1u;
    v31 = v61;
    v3 = v60;
  }

  [v11 setSectionBodyStyle:v38];
  [v11 setAllowsCaptions:0];
  [v11 setAllowsGridAppearanceActions:0];
  v39 = v35;
  v40 = *off_1E77221D8;
  if (![v39 px_isPanoramasSmartAlbum])
  {
    v40 |= 0x200uLL;
  }

  if ([v39 canContainAssets])
  {
    v84 = v3;
    v41 = v31;
    v42 = v4;
    v43 = v39;
    v44 = [v43 photoLibrary];
    v45 = [PXContentSyndicationConfigurationProvider contentSyndicationConfigurationProviderWithPhotoLibrary:v44];
    if ([v45 showUnsavedSyndicatedContentInPhotosGrids] && PXContentSyndicationShouldShowUnsavedAssetsInAssetCollection(v43))
    {
      v40 |= 0x200000uLL;
    }

    v4 = v42;
    v31 = v41;
    v3 = v84;
  }

  if (([v39 px_isAllPhotosSmartAlbum] & 1) == 0 && (objc_msgSend(v39, "px_isRecentsSmartAlbum") & 1) == 0 && (objc_msgSend(v39, "px_isImportHistoryCollection") & 1) == 0)
  {
    v40 |= [v39 px_isAllLibraryDuplicatesSmartAlbum] ^ 1;
  }

  if ([v39 px_isRegularAlbum])
  {
    v40 |= 0x100uLL;
  }

  if ([v39 px_canContainPotentiallySensitiveContent])
  {
    v46 = v40;
  }

  else
  {
    v46 = v40 | 0x400;
  }

  if ((([v39 px_isRegularAlbum] & 1) != 0 || (objc_msgSend(v39, "px_isSmartAlbum") & 1) != 0 || objc_msgSend(v39, "px_isSharedAlbum")) && (objc_msgSend(v39, "px_isRecentlyDeletedSmartAlbum") & 1) == 0 && (objc_msgSend(v39, "px_isRecoveredSmartAlbum") & 1) == 0 && !objc_msgSend(v39, "px_isSharedLibrarySharingSuggestionsSmartAlbum"))
  {
    v46 |= 4uLL;
  }

  v47 = v39;
  if (v14)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      v83 = [MEMORY[0x1E696AAA8] currentHandler];
      v69 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotosViewConfigurationAllowedActions _PXPhotosViewConfigurationAllowedActionsForCollection(__strong id<PXDisplayCollection>)"];
      v70 = objc_opt_class();
      NSStringFromClass(v70);
      v85 = v3;
      v72 = v71 = v31;
      [v47 px_descriptionForAssertionMessage];
      v74 = v73 = v4;
      [v83 handleFailureInFunction:v69 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:226 description:{@"%@ should be nil or an instance inheriting from %@, but it is %@", @"collection", v72, v74}];

      v4 = v73;
      v31 = v71;
      v3 = v85;
    }
  }

  if ([v47 canPerformEditOperation:3] && !objc_msgSend(v47, "px_isStreamSharedAlbum"))
  {
    v46 |= 8uLL;
  }

  if ([v47 px_isImportHistoryCollection])
  {
    v48 = v46 | 0x10;
  }

  else
  {
    v48 = v46;
  }

  if (([v47 px_isRegularAlbum] & 1) != 0 || (objc_msgSend(v47, "px_isSharedAlbum") & 1) != 0 || (objc_msgSend(v47, "px_isFavoritesSmartAlbum") & 1) != 0 || (objc_msgSend(v47, "px_isRecentsSmartAlbum") & 1) != 0 || objc_msgSend(v47, "px_isSharedLibrarySharingSuggestionsSmartAlbum"))
  {
    v48 |= 0x1000uLL;
  }

  v49 = +[PXSharedLibrarySettings sharedInstance];
  if ([v49 showSwitchLibraryActionsInActionButton] && !objc_msgSend(v47, "px_isSharedAlbum"))
  {
    v48 |= 0x1000000uLL;
  }

  if (([v47 px_isRecentlyDeletedSmartAlbum] & 1) != 0 || objc_msgSend(v47, "px_isRecoveredSmartAlbum"))
  {
    v48 &= ~0x20000000uLL;
  }

  [v11 setAllowedActions:v48];
  v50 = v47;
  v51 = *off_1E77221E0;
  if ([v50 px_isSharedAlbum])
  {
    v51 = v51 & 0xFFFFFFFFFFFFFFE5 | 0xA;
  }

  if (![v50 px_isRecentlyDeletedSmartAlbum] || (objc_msgSend(v50, "px_isRecoveredSmartAlbum") & 1) == 0)
  {
    v51 |= 4uLL;
  }

  if ([v50 px_isUserCreated])
  {
    v51 = v51 & 0xFFFFFFFFFFFFFFE7 | 8;
  }

  if ([v50 px_isRegularAlbum])
  {
    v52 = v51 | 2;
  }

  else
  {
    v52 = v51;
  }

  if (([v50 px_isSharedLibrarySharingSuggestion] & 1) != 0 || objc_msgSend(v50, "px_isSharedLibrarySharingSuggestionsSmartAlbum"))
  {
    v52 |= 0x808uLL;
  }

  [v11 setAllowedBehaviors:v52];
  if ([v50 px_isPanoramasSmartAlbum])
  {
    v53 = 2;
  }

  else
  {
    v53 = 0;
  }

  [v11 setForbiddenBadges:v53];
  [v11 setAllowsInteractiveFavoriteBadges:{objc_msgSend(v50, "px_isSharedAlbum") ^ 1}];
  [v11 setPrefersActionsInToolbar:{objc_msgSend(v50, "px_isRecoveredSmartAlbum")}];
  if ([v50 px_isRecentlyDeletedSmartAlbum])
  {
    [v11 setDecorationViewClass:objc_opt_class()];
    [v11 setAllowedBehaviors:{objc_msgSend(v11, "allowedBehaviors") | 0x2000}];
  }

  if (([v50 px_isStreamSharedAlbum] & 1) != 0 || (objc_msgSend(v50, "px_isRecentlyDeletedSmartAlbum") & 1) != 0 || objc_msgSend(v50, "px_isHiddenSmartAlbum"))
  {
    [v11 setAllowedBehaviors:{objc_msgSend(v11, "allowedBehaviors") & 0xFFFFFFFFFFFEFFFFLL}];
  }

  if ([v50 px_isRegularAlbum] & 1) != 0 || (objc_msgSend(v50, "px_isMediaTypeSmartAlbum") & 1) != 0 || (objc_msgSend(v50, "px_isFavoritesSmartAlbum"))
  {
    v54 = 1;
  }

  else
  {
    v54 = [v50 px_isRecentsSmartAlbum];
  }

  [v11 setAllowsLinkInteractions:v54];
  [v11 setAllowsMultiSelectMenu:1];
  v55 = v11;

  return v11;
}

void _PXPhotosViewConfigurationAdjustImagePickerOptions(void *a1)
{
  v1 = a1;
  [v1 setAllowedActions:2];
  [v1 setAllowedBehaviors:16];
  [v1 setFooterVisibilityStyle:0];
  [v1 setWantsCPLStatus:0];
  [v1 setLowMemoryMode:1];
  [v1 setContentMode:1];
  [v1 setAllowsDragOut:1];
  [v1 setAllowsDragIn:0];
  [v1 setAllowsLinkInteractions:0];
  [v1 setAllowsMultiSelectMenu:0];
}

id _PXDefaultUIMediaProviderForDataSourceManager(void *a1)
{
  v1 = [a1 photoLibrary];
  v2 = [PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v1];

  return v2;
}

PXPhotoKitAssetActionManager *_PXDefaultAssetActionManagerForDataSourceManager(void *a1)
{
  v1 = a1;
  v2 = [[PXPhotoKitAssetActionManager alloc] initWithSelectionManager:0];
  [(PXPhotoKitAssetActionManager *)v2 setDataSourceManager:v1];
  v3 = [v1 photosDataSource];

  v4 = [v3 filterPersons];
  if ([v4 count] == 1)
  {
    v5 = [v4 firstObject];
    [(PXPhotoKitAssetActionManager *)v2 setPerson:v5];
  }

  v6 = [v3 filterSocialGroup];
  [(PXPhotoKitAssetActionManager *)v2 setSocialGroup:v6];

  return v2;
}

id _PXDefaultAssetCollectionActionManagerForDataSourceManager(void *a1)
{
  v12[1] = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [PXPhotoKitAssetCollectionActionManager actionManagerWithDataSourceManager:v1];
  v3 = [v1 photosDataSourceIfExists];
  v4 = [v1 photoLibrary];

  v5 = [v3 filterPersons];
  v6 = [PXPeopleUtilities peopleFetchResultFromFastEnumeration:v5 photoLibrary:v4];
  [v2 setPeople:v6];

  v7 = [v3 filterSocialGroup];
  if (v7)
  {
    v8 = [v3 filterSocialGroup];
    v12[0] = v8;
    v9 = [MEMORY[0x1E695DEC8] arrayWithObjects:v12 count:1];

    v10 = [PXPeopleUtilities socialGroupFetchResultFromFastEnumeration:v9 photoLibrary:v4];
    [v2 setSocialGroups:v10];
  }

  return v2;
}

PXPhotoKitAssetsDataSourceManager *_EmptyDataSourceManager(void *a1, uint64_t a2)
{
  v14[1] = *MEMORY[0x1E69E9840];
  v3 = MEMORY[0x1E6978650];
  v4 = a1;
  v5 = [v3 transientAssetCollectionWithAssets:MEMORY[0x1E695E0F0] title:0 identifier:0 photoLibrary:a2];
  v6 = MEMORY[0x1E6978760];
  v14[0] = v5;
  v7 = [MEMORY[0x1E695DEC8] arrayWithObjects:v14 count:1];
  v8 = [v6 transientCollectionListWithCollections:v7 title:0];

  v9 = [MEMORY[0x1E6978650] fetchCollectionsInCollectionList:v8 options:0];
  v10 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:v9 containerCollection:v4 options:0];

  v11 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v10];
  v12 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v11];

  return v12;
}

id PXPhotosViewConfigurationForAllPhotos(void *a1)
{
  v1 = a1;
  v9[0] = MEMORY[0x1E69E9820];
  v9[1] = 3221225472;
  v9[2] = __PXPhotosViewConfigurationForAllPhotos_block_invoke;
  v9[3] = &unk_1E773ABE0;
  v2 = v1;
  v10 = v2;
  v3 = _CreateDataSourceManager(0, v9);
  v4 = _PXPhotosViewConfigurationWithDataSourceManager(v3, 0);
  [v4 setAllowedActions:{objc_msgSend(v4, "allowedActions") & 0xFFFFFFFFFFFFFFFBLL}];
  [v4 setAllowedBehaviors:{objc_msgSend(v4, "allowedBehaviors") & 0xFFFFFFFFFFFEFFFFLL}];
  [v4 setPreventShowInAllPhotosAction:1];
  [v4 setWantsDynamicTitles:1];
  [v4 setWantsFooterMask:1];
  [v4 setWantsCPLStatus:1];
  v5 = +[PXLemonadeSettings sharedInstance];
  if ([v5 yearsAndMonthsMode] == 1)
  {
    v6 = off_1E771F1F0;
  }

  else
  {
    if ([v5 yearsAndMonthsMode] != 2)
    {
      goto LABEL_6;
    }

    v6 = off_1E771F2A8;
  }

  v7 = [objc_alloc(*v6) initWithPhotoLibrary:v2];
  [v4 setOverlayController:v7];

LABEL_6:

  return v4;
}

id PXPhotosViewConfigurationForSearchResults(void *a1)
{
  v1 = MEMORY[0x1E6978650];
  v2 = a1;
  v3 = [v1 transientAssetCollectionWithAssets:MEMORY[0x1E695E0F0] title:0 identifier:@"PXPhotosSearchResultsVirtualCollection" photoLibrary:v2];
  v4 = _EmptyDataSourceManager(v3, v2);

  v5 = [v4 photosDataSource];
  [v5 setReverseSortOrder:1];

  v6 = _PXPhotosViewConfigurationWithDataSourceManager(v4, 0);

  return v6;
}

id PXPhotosViewConfigurationForSearchResultsWithDataSourceManager(void *a1)
{
  v1 = a1;
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXPhotosViewConfigurationForSearchResultsWithDataSourceManager_block_invoke;
  v6[3] = &unk_1E773ABE0;
  v7 = v1;
  v2 = v1;
  v3 = _CreateDataSourceManager(0, v6);
  v4 = _PXPhotosViewConfigurationWithDataSourceManager(v3, 0);

  return v4;
}

id PXPhotosViewConfigurationForPhotosComponents(void *a1)
{
  v1 = a1;
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXPhotosViewConfigurationForPhotosComponents_block_invoke;
  v6[3] = &unk_1E773ABE0;
  v7 = v1;
  v2 = v1;
  v3 = _CreateDataSourceManager(0, v6);
  v4 = _PXPhotosViewConfigurationWithDataSourceManager(v3, 0);

  return v4;
}

id PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult(void *a1, void *a2, void *a3, void *a4, void *a5, char a6, uint64_t a7, void *a8, char a9, unsigned __int8 a10, char a11)
{
  v18 = a1;
  v19 = a2;
  v20 = a3;
  v21 = a4;
  v22 = a5;
  v32[0] = MEMORY[0x1E69E9820];
  v32[1] = 3221225472;
  v32[2] = __PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult_block_invoke;
  v32[3] = &unk_1E773AC08;
  v39 = a9;
  v40 = a11;
  v33 = v18;
  v34 = v19;
  v41 = a6;
  v35 = v20;
  v36 = v21;
  v37 = v22;
  v38 = a7;
  v23 = v22;
  v24 = v21;
  v25 = v20;
  v26 = v19;
  v27 = v18;
  v28 = a8;
  v29 = _CreateDataSourceManager(v26, v32);
  v30 = _PXPhotosViewConfigurationWithDataSourceManager(v29, v28);

  [v30 setAllowsSwipeToSelect:a10];
  [v30 setIgnoreFilterStateWhenNotFiltering:1];
  _PXPhotosViewConfigurationAdjustImagePickerOptions(v30);

  return v30;
}

PXPhotoKitAssetsDataSourceManager *__PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult_block_invoke(uint64_t a1)
{
  v2 = 3;
  if (*(a1 + 80))
  {
    v2 = 1027;
  }

  if (*(a1 + 81))
  {
    v2 = 66563;
  }

  v3 = *(a1 + 72);
  v4 = v2 | 0x400000;
  if (v3 == 1)
  {
    v2 |= 0x100000uLL;
  }

  if (v3 == 2)
  {
    v5 = v4;
  }

  else
  {
    v5 = v2;
  }

  v6 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:*(a1 + 32) containerCollection:*(a1 + 40) options:v5];
  [(PXPhotosDataSourceConfiguration *)v6 setReverseSortOrder:*(a1 + 82)];
  [(PXPhotosDataSourceConfiguration *)v6 setBasePredicate:*(a1 + 48)];
  [(PXPhotosDataSourceConfiguration *)v6 setFilterPredicate:*(a1 + 56)];
  v7 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v6];
  if ([*(a1 + 64) count])
  {
    [(PXPhotosDataSource *)v7 setSortDescriptors:*(a1 + 64)];
  }

  v8 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v7];

  return v8;
}

id PXPhotosViewConfigurationForImagePickerWithAssetFetchResult(void *a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5)
{
  v9 = a1;
  v10 = a4;
  if (!v9)
  {
    v18 = [MEMORY[0x1E696AAA8] currentHandler];
    v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForImagePickerWithAssetFetchResult(PHFetchResult<PHAsset *> *__strong _Nonnull, BOOL, PXPhotosCurationContext, PXSelectionCoordinator * _Nullable __strong, BOOL)"}];
    [v18 handleFailureInFunction:v19 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:526 description:{@"Invalid parameter not satisfying: %@", @"assetFetchResult"}];
  }

  v11 = 3;
  if (a3 == 1)
  {
    v11 = 1048579;
  }

  if (a3 == 2)
  {
    v12 = 4194307;
  }

  else
  {
    v12 = v11;
  }

  v13 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v9 options:v12];
  [(PXPhotosDataSourceConfiguration *)v13 setReverseSortOrder:a2];
  v14 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v13];
  v15 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v14];
  v16 = _PXPhotosViewConfigurationWithDataSourceManager(v15, v10);
  [v16 setAllowsSwipeToSelect:a5];
  _PXPhotosViewConfigurationAdjustImagePickerOptions(v16);

  return v16;
}

id PXPhotosViewConfigurationForAssetFetchResult(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForAssetFetchResult(PHFetchResult<PHAsset *> *__strong _Nonnull)"];
    [v8 handleFailureInFunction:v9 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:541 description:{@"Invalid parameter not satisfying: %@", @"assetFetchResult"}];
  }

  v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v1 options:0];
  v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  v4 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v3];
  v5 = _PXPhotosViewConfigurationWithDataSourceManager(v4, 0);
  v6 = [(PXPhotosDataSource *)v3 containerCollection];
  _PXPhotosViewConfigurationAdjustNavbarOptions(v5, v6);

  [v5 setIgnoreFilterPredicateAssert:1];

  return v5;
}

void _PXPhotosViewConfigurationAdjustNavbarOptions(void *a1, void *a2)
{
  v12 = a1;
  v3 = a2;
  if ((MEMORY[0x1A590D320]() & 1) == 0)
  {
    if ([v3 px_isSharedLibrarySharingSuggestion])
    {
      v4 = 1;
    }

    else
    {
      v4 = [v3 px_isSharedLibrarySharingSuggestionsSmartAlbum];
    }

    if (([v3 px_isImportHistoryCollection] & 1) == 0 && ((objc_msgSend(v3, "px_isAllLibraryDuplicatesSmartAlbum") | v4) & 1) == 0)
    {
      v5 = [off_1E7721810 sharedInstance];
      v6 = [v5 enableInvisibleNavBars];

      if (v6)
      {
        [v12 setSectionHeaderStyle:0];
        if ([v3 px_isRecentlyDeletedSmartAlbum] & 1) != 0 || (objc_msgSend(v3, "px_isRecoveredSmartAlbum"))
        {
          v7 = 2;
        }

        else if ([v3 px_isPrivacySensitiveAlbum])
        {
          v7 = 2;
        }

        else
        {
          v7 = 1;
        }

        [v12 setNavBarStyle:v7];
      }
    }

    if ([v3 px_isImportHistoryCollection] & 1) != 0 || ((objc_msgSend(v3, "px_isAllLibraryDuplicatesSmartAlbum") | v4))
    {
      v8 = [off_1E7721810 sharedInstance];
      v9 = [v8 enableInvisibleNavBars];

      if (v9)
      {
        v10 = [off_1E7721810 sharedInstance];
        v11 = [v10 backdropStyleForPlacesAndImports];

        if (v11)
        {
          [v12 setNavBarStyle:5];
        }

        else
        {
          [v12 setWantsModernNavBarButtons:1];
        }
      }
    }
  }
}

id _PXPhotosViewConfigurationForAssetCollection(void *a1, void *a2, void *a3, void *a4, void *a5, char a6, char a7, uint64_t a8)
{
  v15 = a1;
  v16 = a2;
  v17 = a3;
  v18 = a4;
  v29 = MEMORY[0x1E69E9820];
  v30 = 3221225472;
  v31 = ___PXPhotosViewConfigurationForAssetCollection_block_invoke;
  v32 = &unk_1E773ACA8;
  v19 = v15;
  v33 = v19;
  v37 = a8;
  v20 = v16;
  v34 = v20;
  v21 = v17;
  v35 = v21;
  v22 = v18;
  v36 = v22;
  v38 = a6;
  v39 = a7;
  v23 = a5;
  v24 = _CreateDataSourceManager(v19, &v29);
  v25 = _PXPhotosViewConfigurationWithDataSourceManager(v24, v23);

  _PXPhotosViewConfigurationAdjustNavbarOptions(v25, v19);
  if ([v19 px_isFavoritesSmartAlbum])
  {
    v26 = +[PXOneUpSettings sharedInstance];
    if ([v26 reverseFavoritesOneUpSortOrder])
    {
      v27 = 2;
    }

    else
    {
      v27 = 0;
    }

    [v25 setOneUpAssetsViewMode:v27];
  }

  else
  {
    [v25 setOneUpAssetsViewMode:0];
  }

  return v25;
}

id PXPhotosViewConfigurationForAssetCollectionWithExistingAssetsFetchResult(void *a1, void *a2, void *a3, void *a4, uint64_t a5)
{
  v17[1] = *MEMORY[0x1E69E9840];
  v17[0] = *MEMORY[0x1E6978D08];
  v9 = MEMORY[0x1E695DEC8];
  v10 = a4;
  v11 = a3;
  v12 = a2;
  v13 = a1;
  v14 = [v9 arrayWithObjects:v17 count:1];
  v15 = _PXPhotosViewConfigurationForAssetCollection(v13, v12, v11, v14, v10, 0, 0, a5);

  return v15;
}

id _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(void *a1, void *a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8, char a9, char a10, uint64_t a11, char a12)
{
  v19 = a1;
  v20 = a2;
  v21 = a3;
  v22 = a4;
  v23 = a5;
  v24 = a7;
  v25 = a8;
  v49 = a6;
  v26 = v19;
  if ([v19 count] >= 2)
  {
    v27 = 4099;
  }

  else
  {
    v27 = 2;
  }

  if (v25 | [v24 count])
  {
    v28 = v27 | 0x1010;
  }

  else
  {
    v28 = v27;
  }

  v29 = a11 != 3;
  if (a11 == 3)
  {
    v30 = v28;
  }

  else
  {
    v30 = v28 | 0x1890;
  }

  if (a11 <= 1)
  {
    if (a11)
    {
      v31 = v26;
      if (a11 == 1)
      {
        v30 = v28 | 0x101890;
      }

      goto LABEL_20;
    }

    v30 = v28 | 0x1890;
LABEL_19:
    v31 = v26;
    goto LABEL_20;
  }

  if (a11 == 2)
  {
    v30 = v28 | 0x401890;
    goto LABEL_19;
  }

  v31 = v26;
  if (a11 == 3)
  {
    v30 = v28 & 0xFFFFFFFFFFFFF003;
  }

LABEL_20:
  v32 = v20;
  if ([v32 canContainCollections])
  {

    v33 = 1;
  }

  else
  {
    v34 = [v32 px_isDayGroupHighlight];

    v33 = (v34 & 1) != 0 || [v31 count] > 1;
    v29 = a11 != 3;
  }

  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = ___PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary_block_invoke;
  aBlock[3] = &unk_1E773ACD0;
  v61 = v23;
  v65 = v33;
  v35 = v32;
  v66 = a9;
  v62 = v35;
  v63 = v24;
  v64 = v25;
  v48 = v25;
  v36 = v24;
  v37 = v23;
  v38 = _Block_copy(aBlock);
  v50[0] = MEMORY[0x1E69E9820];
  v50[1] = 3221225472;
  v50[2] = ___PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary_block_invoke_2;
  v50[3] = &unk_1E773ACF8;
  v39 = v31;
  v51 = v39;
  v40 = v35;
  v52 = v40;
  v53 = v22;
  v54 = 0;
  v55 = v38;
  v58 = v29;
  v56 = v21;
  v57 = v30;
  v59 = a10;
  v41 = v21;
  v42 = v22;
  v43 = v38;
  v44 = _CreateDataSourceManager(v40, v50);
  v45 = _PXPhotosViewConfigurationWithDataSourceManager(v44, v49);

  if (a12)
  {
    _PXPhotosViewConfigurationAdjustImagePickerOptions(v45);
  }

  else if (v40)
  {
    _PXPhotosViewConfigurationAdjustNavbarOptions(v45, v40);
  }

  else if ([v39 count] == 1)
  {
    v46 = [v39 firstObject];
    _PXPhotosViewConfigurationAdjustNavbarOptions(v45, v46);
  }

  return v45;
}

id PXPhotosViewConfigurationForDataSourceProvider(void *a1, void *a2)
{
  v3 = a2;
  v4 = a1;
  v5 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSourceProvider:v4];

  v6 = _PXPhotosViewConfigurationWithDataSourceManager(v5, v3);

  return v6;
}

id PXPhotosViewConfigurationForFeaturedPhotos(void *a1, void *a2)
{
  v3 = a2;
  v4 = a1;
  v5 = [v4 photoLibrary];
  v6 = [PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v5];
  v7 = [[PXLibraryFilterState alloc] initWithSharedLibraryStatusProvider:v6];
  v8 = [PXSuggestionsDataSourceManager alloc];
  v14[0] = MEMORY[0x1E69E9820];
  v14[1] = 3221225472;
  v14[2] = __PXPhotosViewConfigurationForFeaturedPhotos_block_invoke;
  v14[3] = &unk_1E773AC30;
  v15 = v5;
  v9 = v5;
  v10 = [(PXSuggestionsDataSourceManager *)v8 initWithLibraryFilterState:v7 fetchResultProvider:v14];
  v11 = [[PXFeaturedPhotosAssetsDataSourceManager alloc] initWithSuggestionsDataSourceManager:v10 assetCollection:v4];
  v12 = _PXPhotosViewConfigurationWithDataSourceManager(v11, v3);

  _PXPhotosViewConfigurationAdjustNavbarOptions(v12, v4);

  return v12;
}

id PXPhotosViewConfigurationForPlacesMomentsWithAllowedAssets(void *a1, void *a2)
{
  v3 = a2;
  v4 = a1;
  v5 = [[_PXPhotosViewPlacesMomentsDataSourceProvider alloc] initWithAllowedAssets:v4 photoLibrary:v3];

  v6 = [PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v3];
  v7 = [[PXLibraryFilterState alloc] initWithSharedLibraryStatusProvider:v6];
  v8 = _PXPhotosViewConfigurationWithPhotosDataSourceProvider(v5, [(PXLibraryFilterState *)v7 viewMode], 0, v3);

  [v8 setSectionHeaderStyle:1];
  [v8 setAllowedActions:{objc_msgSend(v8, "allowedActions") | 0x310}];
  v9 = +[PXSharedLibrarySettings sharedInstance];
  if ([v9 showSwitchLibraryActionsInActionButton])
  {
    [v8 setAllowedActions:{objc_msgSend(v8, "allowedActions") | 0x1000000}];
  }

  [v8 setAllowedBehaviors:{objc_msgSend(v8, "allowedBehaviors") | 0x10}];
  v10 = [off_1E7721810 sharedInstance];
  v11 = [v10 backdropStyleForPlacesAndImports];

  if (v11)
  {
    [v8 setNavBarStyle:5];
  }

  else if ((MEMORY[0x1A590D320]() & 1) == 0)
  {
    v12 = [off_1E7721810 sharedInstance];
    [v8 setWantsModernNavBarButtons:{objc_msgSend(v12, "enableInvisibleNavBars")}];
  }

  v13 = [v8 dataSourceManager];
  [v8 setWantsContentFilterVisible:{objc_msgSend(v13, "supportsFiltering")}];

  return v8;
}

id _PXPhotosViewConfigurationWithPhotosDataSourceProvider(void *a1, uint64_t a2, char a3, void *a4)
{
  v7 = a1;
  v8 = a4;
  v17[0] = MEMORY[0x1E69E9820];
  v17[1] = 3221225472;
  v17[2] = ___PXPhotosViewConfigurationWithPhotosDataSourceProvider_block_invoke;
  v17[3] = &unk_1E773AD20;
  v22 = a3;
  v18 = v7;
  v19 = v8;
  v20 = a2;
  v21 = 0;
  v9 = v8;
  v10 = v7;
  v11 = _CreateDataSourceManager(0, v17);
  v12 = _PXDefaultUIMediaProviderForDataSourceManager(v11);
  v13 = _PXDefaultAssetActionManagerForDataSourceManager(v11);
  v14 = _PXDefaultAssetCollectionActionManagerForDataSourceManager(v11);
  v15 = [[off_1E7721830 alloc] initWithDataSourceManager:v11 mediaProvider:v12 selectionManager:0 assetActionManager:v13 assetCollectionActionManager:v14];
  [v15 setAllowedActions:{*off_1E77221D8 | objc_msgSend(v15, "allowedActions")}];

  return v15;
}

id PXPhotosViewConfigurationForPlacesGridWithAssetSet(void *a1, void *a2)
{
  v34 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v24 = [MEMORY[0x1E696AAA8] currentHandler];
    v25 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPlacesGridWithAssetSet(NSSet<PHAsset *> *__strong _Nonnull, PHPhotoLibrary *__strong _Nonnull)"}];
    [v24 handleFailureInFunction:v25 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:830 description:{@"Invalid parameter not satisfying: %@", @"assetSet"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v26 = [MEMORY[0x1E696AAA8] currentHandler];
  v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPlacesGridWithAssetSet(NSSet<PHAsset *> *__strong _Nonnull, PHPhotoLibrary *__strong _Nonnull)"}];
  [v26 handleFailureInFunction:v27 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:831 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

LABEL_3:
  v6 = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:{objc_msgSend(v3, "count")}];
  v28 = 0u;
  v29 = 0u;
  v30 = 0u;
  v31 = 0u;
  v7 = v3;
  v8 = [v7 countByEnumeratingWithState:&v28 objects:v33 count:16];
  if (v8)
  {
    v9 = v8;
    v10 = *v29;
    do
    {
      for (i = 0; i != v9; ++i)
      {
        if (*v29 != v10)
        {
          objc_enumerationMutation(v7);
        }

        v12 = [*(*(&v28 + 1) + 8 * i) objectID];
        [v6 addObject:v12];
      }

      v9 = [v7 countByEnumeratingWithState:&v28 objects:v33 count:16];
    }

    while (v9);
  }

  v13 = [v5 librarySpecificFetchOptions];
  v14 = [MEMORY[0x1E696AE18] predicateWithFormat:@"self in %@", v6];
  [v13 setInternalPredicate:v14];

  v15 = [MEMORY[0x1E6978630] internalSortDescriptorForPropertyKey:@"creationDate" ascending:0];
  v32 = v15;
  v16 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v32 count:1];
  [v13 setInternalSortDescriptors:v16];

  v17 = [MEMORY[0x1E6978830] px_placesFetchOptionsWith:v13];

  v18 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v17];
  v19 = [objc_alloc(MEMORY[0x1E6978AF8]) initWithAssetFetchResult:v18];
  v20 = PXLocalizedStringFromTable(@"PXPlacesFullSizeViewTitle", @"PhotosUICore");
  [v19 setTitle:v20];

  v21 = [MEMORY[0x1E6978650] transientAssetCollectionWithOptions:v19];
  v22 = _PXPhotosViewConfigurationForAssetCollection(v21, v18, 0, 0, 0, 0, 0, 0);

  return v22;
}

id PXPhotosViewConfigurationForSearchResultsWithAllowedAssetUUIDs(void *a1, void *a2, void *a3, uint64_t a4)
{
  v7 = a1;
  v8 = a2;
  v9 = a3;
  if (!v9)
  {
    v15 = [MEMORY[0x1E696AAA8] currentHandler];
    v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForSearchResultsWithAllowedAssetUUIDs(NSArray<NSString *> *__strong _Nonnull, NSString *__strong _Nullable, PHPhotoLibrary *__strong _Nonnull, BOOL)"}];
    [v15 handleFailureInFunction:v16 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:920 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v10 = [[_PXPhotosViewSearchResultsDataSourceProvider alloc] initWithAssetUUIDs:v7 searchTitle:v8 reverseSortOrder:a4];
  v11 = _PXPhotosViewConfigurationWithPhotosDataSourceProvider(v10, 0, 1, v9);
  [v11 setAllowedBehaviors:{objc_msgSend(v11, "allowedBehaviors") | 0x10}];
  [v11 setAllowedActions:{objc_msgSend(v11, "allowedActions") | 0x1300}];
  [v11 setWantsContentFilterVisible:1];
  v12 = [off_1E7721810 sharedInstance];
  v13 = [v12 enableInvisibleNavBars];

  if (v13)
  {
    [v11 setNavBarStyle:1];
    [v11 setSectionHeaderStyle:0];
    [v11 setSectionBodyStyle:1];
  }

  else
  {
    [v11 setSectionHeaderStyle:1];
  }

  [v11 setAllowsLinkInteractions:1];
  [v11 setAllowsMultiSelectMenu:1];

  return v11;
}

id PXPhotosViewConfigurationForAppAndPickerWithAssetCollection(void *a1, int a2, void *a3, void *a4, void *a5, char a6, uint64_t a7, uint64_t a8)
{
  if (a2)
  {
    PXPhotosViewConfigurationForImagePickerWithAssetCollection(a1, a4, a6, a7, a5, a8);
  }

  else
  {
    _PXPhotosViewConfigurationForAssetCollection(a1, 0, 0, a3, a5, 0, a6, a7);
  }
  v8 = ;

  return v8;
}

id PXPhotosViewConfigurationForAppAndPickerWithAssetCollectionFetchResult(void *a1, int a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8, void *a9, char a10, uint64_t a11, char a12, unsigned __int8 a13, char a14)
{
  if (a2)
  {
    PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult(a1, a4, a6, a7, a8, a10, a11, a9, a12, a13, a14);
  }

  else
  {
    _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(a1, a4, 0, a5, a3, a9, 0, 0, 0, a10, a11, 0);
  }
  v14 = ;

  return v14;
}

id PXPhotosViewConfigurationForAppAndPickerWithAssetFetchResult(void *a1, int a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  if (a2)
  {
    PXPhotosViewConfigurationForImagePickerWithAssetFetchResult(a1, a4, a5, a3, a6);
  }

  else
  {
    PXPhotosViewConfigurationForAssetFetchResult(a1);
  }
  v6 = ;

  return v6;
}

id PXPhotosViewConfigurationForPersonOrSocialGroup(void *a1, void *a2, void *a3, int a4, unsigned int a5)
{
  v49[1] = *MEMORY[0x1E69E9840];
  v7 = a1;
  v8 = a2;
  v35 = a3;
  v9 = [v7 photoLibrary];
  if (v9 || ([v8 photoLibrary], (v9 = objc_claimAutoreleasedReturnValue()) != 0))
  {
    v10 = v9;
  }

  else
  {
    v31 = [MEMORY[0x1E696AAA8] currentHandler];
    v32 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPersonOrSocialGroup(PHPerson * _Nullable __strong, PHSocialGroup * _Nullable __strong, PXSelectionCoordinator * _Nullable __strong, BOOL, BOOL)"}];
    [v31 handleFailureInFunction:v32 file:@"PXPhotosViewPhotoKitUtilities.m" lineNumber:989 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary != nil"}];

    v10 = 0;
  }

  if (v7)
  {
    v11 = [v7 px_localizedName];
    v49[0] = v7;
    v12 = [MEMORY[0x1E695DEC8] arrayWithObjects:v49 count:1];
    v13 = PXTransientCollectionIdentifierPerson;
    v33 = 0x10000000;
  }

  else
  {
    v11 = [v8 px_title];
    v12 = 0;
    v33 = 0x40000000;
    v13 = PXTransientCollectionIdentifierSocialGroup;
  }

  v14 = *v13;
  v40 = v11;
  if (v11)
  {
    v15 = v11;
  }

  else
  {
    v15 = &stru_1F1741150;
  }

  v38 = v14;
  v16 = [MEMORY[0x1E6978650] transientAssetCollectionWithAssets:MEMORY[0x1E695E0F0] title:v15 identifier:? photoLibrary:?];
  v17 = MEMORY[0x1E6978760];
  v36 = v16;
  v48 = v16;
  v18 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v48 count:1];
  v19 = [v17 transientCollectionListWithCollections:v18 title:&stru_1F1741150];

  v34 = v19;
  v20 = [MEMORY[0x1E6978758] fetchCollectionsInCollectionList:v19 options:0];
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke;
  aBlock[3] = &unk_1E773AC58;
  v21 = v7;
  v46 = v21;
  v22 = v8;
  v47 = v22;
  v23 = _Block_copy(aBlock);
  v24 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v20, 0, v23, 0, v10, v35, v12, v22, 0, 0, 1, a4);

  [v24 setAllowsSwipeToSelect:a5];
  [v24 setAllowedActions:{objc_msgSend(v24, "allowedActions") | v33}];
  [v24 setAllowedActions:{objc_msgSend(v24, "allowedActions") & 0xFFFFFFFFFEFFFFFFLL}];
  if (a4)
  {
    v25 = 0;
  }

  else
  {
    v25 = 3;
  }

  [v24 setNavBarStyle:v25];
  [v24 setSectionHeaderStyle:7];
  if (v7)
  {
    v43[0] = MEMORY[0x1E69E9820];
    v43[1] = 3221225472;
    v43[2] = __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke_2;
    v43[3] = &unk_1E773AC80;
    v26 = v21;
    v44 = v26;
    [v24 setBannerControllerProvider:v43];
    v27 = +[PXPeopleUtilities sortDescriptorsWithPersonAssetSortOrder:](PXPeopleUtilities, "sortDescriptorsWithPersonAssetSortOrder:", [v26 assetSortOrder]);
    v28 = [v24 dataSourceManager];
    v41[0] = MEMORY[0x1E69E9820];
    v41[1] = 3221225472;
    v41[2] = __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke_3;
    v41[3] = &unk_1E774A6B8;
    v42 = v27;
    v29 = v27;
    [v28 performChanges:v41];
  }

  return v24;
}

id __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke(uint64_t a1)
{
  v2 = *(a1 + 32);
  if (!v2)
  {
    v2 = *(a1 + 40);
  }

  return v2;
}

id PXCreatePRSService()
{
  if (PXCreatePRSService_onceToken != -1)
  {
    dispatch_once(&PXCreatePRSService_onceToken, &__block_literal_global_121792);
  }

  v5 = 0;
  v6 = &v5;
  v7 = 0x2050000000;
  v0 = getPRSServiceClass_softClass;
  v8 = getPRSServiceClass_softClass;
  if (!getPRSServiceClass_softClass)
  {
    v4[0] = MEMORY[0x1E69E9820];
    v4[1] = 3221225472;
    v4[2] = __getPRSServiceClass_block_invoke;
    v4[3] = &unk_1E774BD00;
    v4[4] = &v5;
    __getPRSServiceClass_block_invoke(v4);
    v0 = v6[3];
  }

  v1 = v0;
  _Block_object_dispose(&v5, 8);
  v2 = objc_alloc_init(v0);

  return v2;
}

void sub_1A4E20300(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRSServiceClass_block_invoke(uint64_t a1)
{
  PosterBoardServicesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRSService");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRSServiceClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRSServiceClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:36 description:{@"Unable to find class %s", "PRSService"}];

    __break(1u);
  }
}

void PosterBoardServicesLibrary()
{
  v6 = *MEMORY[0x1E69E9840];
  v3[0] = 0;
  if (!PosterBoardServicesLibraryCore_frameworkLibrary)
  {
    v3[1] = MEMORY[0x1E69E9820];
    v3[2] = 3221225472;
    v3[3] = __PosterBoardServicesLibraryCore_block_invoke;
    v3[4] = &__block_descriptor_40_e5_v8__0l;
    v3[5] = v3;
    v4 = xmmword_1E773ADE0;
    v5 = 0;
    PosterBoardServicesLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!PosterBoardServicesLibraryCore_frameworkLibrary)
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PosterBoardServicesLibrary(void)"];
    [v1 handleFailureInFunction:v2 file:@"PXPosterRuntimeAdditions.m" lineNumber:35 description:{@"%s", v3[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v0 = v3[0];
  if (v3[0])
  {
LABEL_7:
    free(v0);
  }
}

uint64_t __PosterBoardServicesLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  PosterBoardServicesLibraryCore_frameworkLibrary = result;
  return result;
}

void __PXCreatePRSService_block_invoke()
{
  v0 = &unk_1F1B44788;
  v25 = 0;
  v26 = &v25;
  v27 = 0x2050000000;
  v1 = getPRSPosterDescriptorClass_softClass;
  v28 = getPRSPosterDescriptorClass_softClass;
  if (!getPRSPosterDescriptorClass_softClass)
  {
    v20 = MEMORY[0x1E69E9820];
    v21 = 3221225472;
    v22 = __getPRSPosterDescriptorClass_block_invoke;
    v23 = &unk_1E774BD00;
    v24 = &v25;
    __getPRSPosterDescriptorClass_block_invoke(&v20);
    v1 = v26[3];
  }

  v2 = v1;
  _Block_object_dispose(&v25, 8);
  if (!class_addProtocol(v1, v0))
  {
    v12 = [MEMORY[0x1E696AAA8] currentHandler];
    v13 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXPRSService>  _Nonnull PXCreatePRSService(void)_block_invoke"];
    [v12 handleFailureInFunction:v13 file:@"PXPosterRuntimeAdditions.m" lineNumber:66 description:{@"Could not add protocol %s to class %@", protocol_getName(v0), v1}];
  }

  v3 = &unk_1F1B448A8;
  v25 = 0;
  v26 = &v25;
  v27 = 0x2050000000;
  v4 = getATXFaceGalleryConfigurationClass_softClass;
  v28 = getATXFaceGalleryConfigurationClass_softClass;
  if (!getATXFaceGalleryConfigurationClass_softClass)
  {
    v20 = MEMORY[0x1E69E9820];
    v21 = 3221225472;
    v22 = __getATXFaceGalleryConfigurationClass_block_invoke;
    v23 = &unk_1E774BD00;
    v24 = &v25;
    __getATXFaceGalleryConfigurationClass_block_invoke(&v20);
    v4 = v26[3];
  }

  v5 = v4;
  _Block_object_dispose(&v25, 8);
  if (!class_addProtocol(v4, v3))
  {
    v14 = [MEMORY[0x1E696AAA8] currentHandler];
    v15 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXPRSService>  _Nonnull PXCreatePRSService(void)_block_invoke"];
    [v14 handleFailureInFunction:v15 file:@"PXPosterRuntimeAdditions.m" lineNumber:67 description:{@"Could not add protocol %s to class %@", protocol_getName(v3), v4}];
  }

  v6 = &unk_1F1B447E8;
  v25 = 0;
  v26 = &v25;
  v27 = 0x2050000000;
  v7 = getATXFaceGallerySectionClass_softClass;
  v28 = getATXFaceGallerySectionClass_softClass;
  if (!getATXFaceGallerySectionClass_softClass)
  {
    v20 = MEMORY[0x1E69E9820];
    v21 = 3221225472;
    v22 = __getATXFaceGallerySectionClass_block_invoke;
    v23 = &unk_1E774BD00;
    v24 = &v25;
    __getATXFaceGallerySectionClass_block_invoke(&v20);
    v7 = v26[3];
  }

  v8 = v7;
  _Block_object_dispose(&v25, 8);
  if (!class_addProtocol(v7, v6))
  {
    v16 = [MEMORY[0x1E696AAA8] currentHandler];
    v17 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXPRSService>  _Nonnull PXCreatePRSService(void)_block_invoke"];
    [v16 handleFailureInFunction:v17 file:@"PXPosterRuntimeAdditions.m" lineNumber:68 description:{@"Could not add protocol %s to class %@", protocol_getName(v6), v7}];
  }

  v9 = &unk_1F1B44848;
  v25 = 0;
  v26 = &v25;
  v27 = 0x2050000000;
  v10 = getATXFaceGalleryItemClass_softClass;
  v28 = getATXFaceGalleryItemClass_softClass;
  if (!getATXFaceGalleryItemClass_softClass)
  {
    v20 = MEMORY[0x1E69E9820];
    v21 = 3221225472;
    v22 = __getATXFaceGalleryItemClass_block_invoke;
    v23 = &unk_1E774BD00;
    v24 = &v25;
    __getATXFaceGalleryItemClass_block_invoke(&v20);
    v10 = v26[3];
  }

  v11 = v10;
  _Block_object_dispose(&v25, 8);
  if (!class_addProtocol(v10, v9))
  {
    v18 = [MEMORY[0x1E696AAA8] currentHandler];
    v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXPRSService>  _Nonnull PXCreatePRSService(void)_block_invoke"];
    [v18 handleFailureInFunction:v19 file:@"PXPosterRuntimeAdditions.m" lineNumber:69 description:{@"Could not add protocol %s to class %@", protocol_getName(v9), v10}];
  }
}

void sub_1A4E20A44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRSPosterDescriptorClass_block_invoke(uint64_t a1)
{
  PosterBoardServicesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRSPosterDescriptor");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRSPosterDescriptorClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRSPosterDescriptorClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:38 description:{@"Unable to find class %s", "PRSPosterDescriptor"}];

    __break(1u);
  }
}

void __getATXFaceGalleryConfigurationClass_block_invoke(uint64_t a1)
{
  AppPredictionClientLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("ATXFaceGalleryConfiguration");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getATXFaceGalleryConfigurationClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getATXFaceGalleryConfigurationClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:48 description:{@"Unable to find class %s", "ATXFaceGalleryConfiguration"}];

    __break(1u);
  }
}

void __getATXFaceGallerySectionClass_block_invoke(uint64_t a1)
{
  AppPredictionClientLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("ATXFaceGallerySection");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getATXFaceGallerySectionClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getATXFaceGallerySectionClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:49 description:{@"Unable to find class %s", "ATXFaceGallerySection"}];

    __break(1u);
  }
}

void __getATXFaceGalleryItemClass_block_invoke(uint64_t a1)
{
  AppPredictionClientLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("ATXFaceGalleryItem");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getATXFaceGalleryItemClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getATXFaceGalleryItemClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:50 description:{@"Unable to find class %s", "ATXFaceGalleryItem"}];

    __break(1u);
  }
}

void AppPredictionClientLibrary()
{
  v6 = *MEMORY[0x1E69E9840];
  v3[0] = 0;
  if (!AppPredictionClientLibraryCore_frameworkLibrary)
  {
    v3[1] = MEMORY[0x1E69E9820];
    v3[2] = 3221225472;
    v3[3] = __AppPredictionClientLibraryCore_block_invoke;
    v3[4] = &__block_descriptor_40_e5_v8__0l;
    v3[5] = v3;
    v4 = xmmword_1E773ADF8;
    v5 = 0;
    AppPredictionClientLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!AppPredictionClientLibraryCore_frameworkLibrary)
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *AppPredictionClientLibrary(void)"];
    [v1 handleFailureInFunction:v2 file:@"PXPosterRuntimeAdditions.m" lineNumber:47 description:{@"%s", v3[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v0 = v3[0];
  if (v3[0])
  {
LABEL_7:
    free(v0);
  }
}

uint64_t __AppPredictionClientLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  AppPredictionClientLibraryCore_frameworkLibrary = result;
  return result;
}

void PXCreateMutablePosterConfigurationForLockScreenRole()
{
  v14 = 0;
  v15 = &v14;
  v16 = 0x2050000000;
  v0 = getPRMutablePosterConfigurationClass_softClass;
  v17 = getPRMutablePosterConfigurationClass_softClass;
  if (!getPRMutablePosterConfigurationClass_softClass)
  {
    v9 = MEMORY[0x1E69E9820];
    v10 = 3221225472;
    v11 = __getPRMutablePosterConfigurationClass_block_invoke;
    v12 = &unk_1E774BD00;
    v13 = &v14;
    __getPRMutablePosterConfigurationClass_block_invoke(&v9);
    v0 = v15[3];
  }

  v1 = v0;
  _Block_object_dispose(&v14, 8);
  v14 = 0;
  v15 = &v14;
  v16 = 0x2020000000;
  v2 = getPRPosterRoleLockScreenSymbolLoc_ptr;
  v17 = getPRPosterRoleLockScreenSymbolLoc_ptr;
  if (!getPRPosterRoleLockScreenSymbolLoc_ptr)
  {
    v9 = MEMORY[0x1E69E9820];
    v10 = 3221225472;
    v11 = __getPRPosterRoleLockScreenSymbolLoc_block_invoke;
    v12 = &unk_1E774BD00;
    v13 = &v14;
    v3 = PosterKitLibrary();
    v4 = dlsym(v3, "PRPosterRoleLockScreen");
    *(v13[1] + 24) = v4;
    getPRPosterRoleLockScreenSymbolLoc_ptr = *(v13[1] + 24);
    v2 = v15[3];
  }

  _Block_object_dispose(&v14, 8);
  if (v2)
  {
    v5 = [v0 mutableConfigurationWithRole:*v2];

    v6 = v5;
  }

  else
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PRPosterRole getPRPosterRoleLockScreen(void)"];
    [v7 handleFailureInFunction:v8 file:@"PXPosterRuntimeAdditions.m" lineNumber:29 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void sub_1A4E2113C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRMutablePosterConfigurationClass_block_invoke(uint64_t a1)
{
  PosterKitLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRMutablePosterConfiguration");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRMutablePosterConfigurationClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRMutablePosterConfigurationClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:28 description:{@"Unable to find class %s", "PRMutablePosterConfiguration"}];

    __break(1u);
  }
}

void *__getPRPosterRoleLockScreenSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = PosterKitLibrary();
  result = dlsym(v2, "PRPosterRoleLockScreen");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getPRPosterRoleLockScreenSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *PosterKitLibrary()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!PosterKitLibraryCore_frameworkLibrary)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __PosterKitLibraryCore_block_invoke;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E773AE10;
    v6 = 0;
    PosterKitLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  v0 = PosterKitLibraryCore_frameworkLibrary;
  if (!PosterKitLibraryCore_frameworkLibrary)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PosterKitLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:27 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

uint64_t __PosterKitLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  PosterKitLibraryCore_frameworkLibrary = result;
  return result;
}

id PXCreateWallpaperPosterController(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v10 = 0;
  v11 = &v10;
  v12 = 0x2050000000;
  v5 = getPUWallpaperPosterControllerClass_softClass;
  v13 = getPUWallpaperPosterControllerClass_softClass;
  if (!getPUWallpaperPosterControllerClass_softClass)
  {
    v9[0] = MEMORY[0x1E69E9820];
    v9[1] = 3221225472;
    v9[2] = __getPUWallpaperPosterControllerClass_block_invoke;
    v9[3] = &unk_1E774BD00;
    v9[4] = &v10;
    __getPUWallpaperPosterControllerClass_block_invoke(v9);
    v5 = v11[3];
  }

  v6 = v5;
  _Block_object_dispose(&v10, 8);
  v7 = [[v5 alloc] initWithRenderer:v3 photoLibrary:v4];

  return v7;
}

void sub_1A4E2153C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getPUWallpaperPosterControllerClass_block_invoke(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!PhotosUIPrivateLibraryCore_frameworkLibrary)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __PhotosUIPrivateLibraryCore_block_invoke;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E773AE28;
    v8 = 0;
    PhotosUIPrivateLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!PhotosUIPrivateLibraryCore_frameworkLibrary)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PhotosUIPrivateLibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXPosterRuntimeAdditions.m" lineNumber:24 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("PUWallpaperPosterController");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPUWallpaperPosterControllerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXPosterRuntimeAdditions.m" lineNumber:25 description:{@"Unable to find class %s", "PUWallpaperPosterController"}];

LABEL_10:
    __break(1u);
  }

  getPUWallpaperPosterControllerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __PhotosUIPrivateLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  PhotosUIPrivateLibraryCore_frameworkLibrary = result;
  return result;
}

id PXCreateWallpaperPosterEditingEntryPoint(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v15 = 0;
  v16 = &v15;
  v17 = 0x2050000000;
  v5 = getPRUISModalEntryPointEditingClass_softClass;
  v18 = getPRUISModalEntryPointEditingClass_softClass;
  if (!getPRUISModalEntryPointEditingClass_softClass)
  {
    v10 = MEMORY[0x1E69E9820];
    v11 = 3221225472;
    v12 = __getPRUISModalEntryPointEditingClass_block_invoke;
    v13 = &unk_1E774BD00;
    v14 = &v15;
    __getPRUISModalEntryPointEditingClass_block_invoke(&v10);
    v5 = v16[3];
  }

  v6 = v5;
  _Block_object_dispose(&v15, 8);
  if (!v5)
  {
    v15 = 0;
    v16 = &v15;
    v17 = 0x2050000000;
    v5 = getPRUIModalEntryPointEditingClass_softClass;
    v18 = getPRUIModalEntryPointEditingClass_softClass;
    if (!getPRUIModalEntryPointEditingClass_softClass)
    {
      v10 = MEMORY[0x1E69E9820];
      v11 = 3221225472;
      v12 = __getPRUIModalEntryPointEditingClass_block_invoke;
      v13 = &unk_1E774BD00;
      v14 = &v15;
      __getPRUIModalEntryPointEditingClass_block_invoke(&v10);
      v5 = v16[3];
    }

    v7 = v5;
    _Block_object_dispose(&v15, 8);
  }

  v8 = [[v5 alloc] initWithExtensionIdentifier:v3 configuration:v4];

  return v8;
}

void sub_1A4E21950(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRUISModalEntryPointEditingClass_block_invoke(uint64_t a1)
{
  PosterBoardUIServicesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRUISModalEntryPointEditing");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRUISModalEntryPointEditingClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRUISModalEntryPointEditingClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:42 description:{@"Unable to find class %s", "PRUISModalEntryPointEditing"}];

    __break(1u);
  }
}

void __getPRUIModalEntryPointEditingClass_block_invoke(uint64_t a1)
{
  PosterBoardUILibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRUIModalEntryPointEditing");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRUIModalEntryPointEditingClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRUIModalEntryPointEditingClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:33 description:{@"Unable to find class %s", "PRUIModalEntryPointEditing"}];

    __break(1u);
  }
}

void PosterBoardUILibrary()
{
  v6 = *MEMORY[0x1E69E9840];
  v3[0] = 0;
  if (!PosterBoardUILibraryCore_frameworkLibrary)
  {
    v3[1] = MEMORY[0x1E69E9820];
    v3[2] = 3221225472;
    v3[3] = __PosterBoardUILibraryCore_block_invoke;
    v3[4] = &__block_descriptor_40_e5_v8__0l;
    v3[5] = v3;
    v4 = xmmword_1E773AE58;
    v5 = 0;
    PosterBoardUILibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!PosterBoardUILibraryCore_frameworkLibrary)
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PosterBoardUILibrary(void)"];
    [v1 handleFailureInFunction:v2 file:@"PXPosterRuntimeAdditions.m" lineNumber:31 description:{@"%s", v3[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v0 = v3[0];
  if (v3[0])
  {
LABEL_7:
    free(v0);
  }
}

uint64_t __PosterBoardUILibraryCore_block_invoke()
{
  result = _sl_dlopen();
  PosterBoardUILibraryCore_frameworkLibrary = result;
  return result;
}

void PosterBoardUIServicesLibrary()
{
  v6 = *MEMORY[0x1E69E9840];
  v3[0] = 0;
  if (!PosterBoardUIServicesLibraryCore_frameworkLibrary)
  {
    v3[1] = MEMORY[0x1E69E9820];
    v3[2] = 3221225472;
    v3[3] = __PosterBoardUIServicesLibraryCore_block_invoke;
    v3[4] = &__block_descriptor_40_e5_v8__0l;
    v3[5] = v3;
    v4 = xmmword_1E773AE40;
    v5 = 0;
    PosterBoardUIServicesLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!PosterBoardUIServicesLibraryCore_frameworkLibrary)
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PosterBoardUIServicesLibrary(void)"];
    [v1 handleFailureInFunction:v2 file:@"PXPosterRuntimeAdditions.m" lineNumber:40 description:{@"%s", v3[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v0 = v3[0];
  if (v3[0])
  {
LABEL_7:
    free(v0);
  }
}

uint64_t __PosterBoardUIServicesLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  PosterBoardUIServicesLibraryCore_frameworkLibrary = result;
  return result;
}

id PXCreateWallpaperPosterInlineEditingViewController(void *a1)
{
  v1 = a1;
  v12 = 0;
  v13 = &v12;
  v14 = 0x2050000000;
  v2 = getPRUISInlinePosterEditingViewControllerClass_softClass;
  v15 = getPRUISInlinePosterEditingViewControllerClass_softClass;
  if (!getPRUISInlinePosterEditingViewControllerClass_softClass)
  {
    v7 = MEMORY[0x1E69E9820];
    v8 = 3221225472;
    v9 = __getPRUISInlinePosterEditingViewControllerClass_block_invoke;
    v10 = &unk_1E774BD00;
    v11 = &v12;
    __getPRUISInlinePosterEditingViewControllerClass_block_invoke(&v7);
    v2 = v13[3];
  }

  v3 = v2;
  _Block_object_dispose(&v12, 8);
  if (!v2)
  {
    v12 = 0;
    v13 = &v12;
    v14 = 0x2050000000;
    v2 = getPRUIInlinePosterEditingViewControllerClass_softClass;
    v15 = getPRUIInlinePosterEditingViewControllerClass_softClass;
    if (!getPRUIInlinePosterEditingViewControllerClass_softClass)
    {
      v7 = MEMORY[0x1E69E9820];
      v8 = 3221225472;
      v9 = __getPRUIInlinePosterEditingViewControllerClass_block_invoke;
      v10 = &unk_1E774BD00;
      v11 = &v12;
      __getPRUIInlinePosterEditingViewControllerClass_block_invoke(&v7);
      v2 = v13[3];
    }

    v4 = v2;
    _Block_object_dispose(&v12, 8);
  }

  v5 = [[v2 alloc] initWithEntryPoint:v1];

  return v5;
}

void sub_1A4E2200C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRUISInlinePosterEditingViewControllerClass_block_invoke(uint64_t a1)
{
  PosterBoardUIServicesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRUISInlinePosterEditingViewController");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRUISInlinePosterEditingViewControllerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRUISInlinePosterEditingViewControllerClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:41 description:{@"Unable to find class %s", "PRUISInlinePosterEditingViewController"}];

    __break(1u);
  }
}

void __getPRUIInlinePosterEditingViewControllerClass_block_invoke(uint64_t a1)
{
  PosterBoardUILibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRUIInlinePosterEditingViewController");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRUIInlinePosterEditingViewControllerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRUIInlinePosterEditingViewControllerClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:32 description:{@"Unable to find class %s", "PRUIInlinePosterEditingViewController"}];

    __break(1u);
  }
}

void PXGetWallpaperOverlayForLockScreen(uint64_t a1, double a2)
{
  v11 = 0;
  v12 = &v11;
  v13 = 0x2020000000;
  v4 = getSBSUIWallpaperGetOverlaySymbolLoc_ptr_121819;
  v14 = getSBSUIWallpaperGetOverlaySymbolLoc_ptr_121819;
  if (!getSBSUIWallpaperGetOverlaySymbolLoc_ptr_121819)
  {
    v10[0] = MEMORY[0x1E69E9820];
    v10[1] = 3221225472;
    v10[2] = __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke_121820;
    v10[3] = &unk_1E774BD00;
    v10[4] = &v11;
    __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke_121820(v10);
    v4 = v12[3];
  }

  _Block_object_dispose(&v11, 8);
  if (v4)
  {
    if ((a1 - 1) >= 2)
    {
      v5 = 14523;
    }

    else
    {
      v5 = 14651;
    }

    v6 = v4(0, v5, a2);

    v7 = v6;
  }

  else
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"UIImage *SOFT_LINKED_SBSUIWallpaperGetOverlay(SBFWallpaperVariant, CGFloat, SBSUIWallpaperPreviewOptions)"}];
    [v8 handleFailureInFunction:v9 file:@"PXPosterRuntimeAdditions.m" lineNumber:45 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void sub_1A4E22310(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke_121820(void *a1)
{
  v8 = *MEMORY[0x1E69E9840];
  v5[0] = 0;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary_121822)
  {
    v5[1] = MEMORY[0x1E69E9820];
    v5[2] = 3221225472;
    v5[3] = __SpringBoardUIServicesLibraryCore_block_invoke_121823;
    v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    v6 = xmmword_1E773AE70;
    v7 = 0;
    SpringBoardUIServicesLibraryCore_frameworkLibrary_121822 = _sl_dlopen();
  }

  v2 = SpringBoardUIServicesLibraryCore_frameworkLibrary_121822;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary_121822)
  {
    a1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *SpringBoardUIServicesLibrary(void)"];
    [a1 handleFailureInFunction:v2 file:@"PXPosterRuntimeAdditions.m" lineNumber:44 description:{@"%s", v5[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v3 = v5[0];
  if (v5[0])
  {
LABEL_7:
    free(v3);
  }

  result = dlsym(v2, "SBSUIWallpaperGetOverlay");
  *(*(a1[4] + 8) + 24) = result;
  getSBSUIWallpaperGetOverlaySymbolLoc_ptr_121819 = *(*(a1[4] + 8) + 24);
  return result;
}

uint64_t __SpringBoardUIServicesLibraryCore_block_invoke_121823()
{
  result = _sl_dlopen();
  SpringBoardUIServicesLibraryCore_frameworkLibrary_121822 = result;
  return result;
}

void PXFetchSnapshotImageForDescriptor(void *a1, void *a2, unint64_t a3, void *a4)
{
  v7 = a1;
  v8 = a2;
  v9 = a4;
  v10 = v7;
  v11 = v8;
  if (a3 > 2)
  {
    v12 = 0;
  }

  else
  {
    v12 = qword_1A5381DD0[a3];
  }

  v21 = 0;
  v22 = &v21;
  v23 = 0x2050000000;
  v13 = getPRSPosterSnapshotRequestClass_softClass;
  v24 = getPRSPosterSnapshotRequestClass_softClass;
  if (!getPRSPosterSnapshotRequestClass_softClass)
  {
    v20[0] = MEMORY[0x1E69E9820];
    v20[1] = 3221225472;
    v20[2] = __getPRSPosterSnapshotRequestClass_block_invoke;
    v20[3] = &unk_1E774BD00;
    v20[4] = &v21;
    __getPRSPosterSnapshotRequestClass_block_invoke(v20);
    v13 = v22[3];
  }

  v14 = v13;
  _Block_object_dispose(&v21, 8);
  v15 = [[v13 alloc] initWithDescriptor:v11 variantType:0 options:0];
  v16 = [MEMORY[0x1E696AD98] numberWithInteger:v12];
  [v15 setValue:v16 forKey:@"orientation"];

  v18[0] = MEMORY[0x1E69E9820];
  v18[1] = 3221225472;
  v18[2] = __PXFetchSnapshotImageForDescriptor_block_invoke;
  v18[3] = &unk_1E773AD48;
  v19 = v9;
  v17 = v9;
  [v10 fetchPosterSnapshotsWithRequest:v15 completion:v18];
}

void sub_1A4E226FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRSPosterSnapshotRequestClass_block_invoke(uint64_t a1)
{
  PosterBoardServicesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PRSPosterSnapshotRequest");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPRSPosterSnapshotRequestClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPRSPosterSnapshotRequestClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXPosterRuntimeAdditions.m" lineNumber:37 description:{@"Unable to find class %s", "PRSPosterSnapshotRequest"}];

    __break(1u);
  }
}

void __PXFetchSnapshotImageForDescriptor_block_invoke(uint64_t a1, void *a2, void *a3)
{
  v24 = *MEMORY[0x1E69E9840];
  v5 = a2;
  v6 = a3;
  if (v5)
  {
    v21 = 0u;
    v22 = 0u;
    v19 = 0u;
    v20 = 0u;
    v7 = [v5 snapshots];
    v8 = [v7 countByEnumeratingWithState:&v19 objects:v23 count:16];
    if (v8)
    {
      v9 = v8;
      v10 = *v20;
      while (2)
      {
        for (i = 0; i != v9; ++i)
        {
          if (*v20 != v10)
          {
            objc_enumerationMutation(v7);
          }

          v12 = *(*(&v19 + 1) + 8 * i);
          v13 = [v12 image];
          if (v13)
          {
            v16 = v13;
            v17 = [v12 imageOrientation];
            if ((v17 - 1) >= 7)
            {
              v18 = 0;
            }

            else
            {
              v18 = v17;
            }

            v14 = [MEMORY[0x1E69DCAB8] imageWithCGImage:v16 scale:v18 orientation:1.0];
            v15 = *(*(a1 + 32) + 16);
            goto LABEL_15;
          }
        }

        v9 = [v7 countByEnumeratingWithState:&v19 objects:v23 count:16];
        if (v9)
        {
          continue;
        }

        break;
      }
    }

    v14 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*off_1E7721FC0 code:-1 debugDescription:@"Poster snapshot image could not be loaded."];
    v15 = *(*(a1 + 32) + 16);
LABEL_15:
    v15();
  }

  else
  {
    (*(*(a1 + 32) + 16))();
  }
}

id fetchGalleryConfigurationWithTimeout(void *a1, void *a2, double a3)
{
  v5 = a1;
  v29 = 0;
  v30 = &v29;
  v31 = 0x3032000000;
  v32 = __Block_byref_object_copy__121835;
  v33 = __Block_byref_object_dispose__121836;
  v34 = 0;
  v23 = 0;
  v24 = &v23;
  v25 = 0x3032000000;
  v26 = __Block_byref_object_copy__121835;
  v27 = __Block_byref_object_dispose__121836;
  v28 = 0;
  if (fetchGalleryConfigurationWithTimeout_onceToken != -1)
  {
    dispatch_once(&fetchGalleryConfigurationWithTimeout_onceToken, &__block_literal_global_92);
  }

  v6 = dispatch_semaphore_create(0);
  v7 = fetchGalleryConfigurationWithTimeout_queue;
  v15 = MEMORY[0x1E69E9820];
  v16 = 3221225472;
  v17 = __fetchGalleryConfigurationWithTimeout_block_invoke_2;
  v18 = &unk_1E773AD98;
  v8 = v5;
  v19 = v8;
  v21 = &v23;
  v22 = &v29;
  v9 = v6;
  v20 = v9;
  dispatch_async(v7, &v15);
  v10 = dispatch_time(0, (a3 * 1000000000.0));
  v11 = dispatch_semaphore_wait(v9, v10);
  if (a2)
  {
    if (v11)
    {
      v12 = [MEMORY[0x1E696ABC0] px_genericErrorWithDebugDescription:{@"fetchGallery timeout", v15, v16, v17, v18, v19}];
    }

    else
    {
      v12 = [v30[5] copy];
    }

    *a2 = v12;
  }

  v13 = v24[5];

  _Block_object_dispose(&v23, 8);
  _Block_object_dispose(&v29, 8);

  return v13;
}

void sub_1A4E22BEC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v9 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__121835(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void __fetchGalleryConfigurationWithTimeout_block_invoke_2(uint64_t a1)
{
  v1 = *(a1 + 32);
  v4[0] = MEMORY[0x1E69E9820];
  v4[1] = 3221225472;
  v4[2] = __fetchGalleryConfigurationWithTimeout_block_invoke_3;
  v4[3] = &unk_1E773AD70;
  v6 = *(a1 + 56);
  v3 = *(a1 + 40);
  v2 = v3;
  v5 = v3;
  [v1 fetchGallery:v4];
}

void __fetchGalleryConfigurationWithTimeout_block_invoke_3(uint64_t a1, void *a2, uint64_t a3, void *a4)
{
  v6 = a2;
  v7 = a4;
  v8 = *(*(a1 + 40) + 8);
  v9 = *(v8 + 40);
  *(v8 + 40) = v6;
  v13 = v6;

  v10 = *(*(a1 + 48) + 8);
  v11 = *(v10 + 40);
  *(v10 + 40) = v7;
  v12 = v7;

  dispatch_semaphore_signal(*(a1 + 32));
}

void __fetchGalleryConfigurationWithTimeout_block_invoke()
{
  v2 = dispatch_queue_attr_make_with_qos_class(0, QOS_CLASS_DEFAULT, 0);
  v0 = dispatch_queue_create("posterService_fetchGallery", v2);
  v1 = fetchGalleryConfigurationWithTimeout_queue;
  fetchGalleryConfigurationWithTimeout_queue = v0;
}

id fetchPosterDescriptorsWithTimeout(void *a1, void *a2, double a3)
{
  v5 = a1;
  v29 = 0;
  v30 = &v29;
  v31 = 0x3032000000;
  v32 = __Block_byref_object_copy__121835;
  v33 = __Block_byref_object_dispose__121836;
  v34 = 0;
  v23 = 0;
  v24 = &v23;
  v25 = 0x3032000000;
  v26 = __Block_byref_object_copy__121835;
  v27 = __Block_byref_object_dispose__121836;
  v28 = MEMORY[0x1E695E0F0];
  if (fetchPosterDescriptorsWithTimeout_onceToken != -1)
  {
    dispatch_once(&fetchPosterDescriptorsWithTimeout_onceToken, &__block_literal_global_99);
  }

  v6 = dispatch_semaphore_create(0);
  v7 = fetchPosterDescriptorsWithTimeout_queue;
  v15 = MEMORY[0x1E69E9820];
  v16 = 3221225472;
  v17 = __fetchPosterDescriptorsWithTimeout_block_invoke_2;
  v18 = &unk_1E773AD98;
  v8 = v5;
  v19 = v8;
  v21 = &v23;
  v22 = &v29;
  v9 = v6;
  v20 = v9;
  dispatch_async(v7, &v15);
  v10 = dispatch_time(0, (a3 * 1000000000.0));
  v11 = dispatch_semaphore_wait(v9, v10);
  if (a2)
  {
    if (v11)
    {
      v12 = [MEMORY[0x1E696ABC0] px_genericErrorWithDebugDescription:{@"fetchPosterDescriptorsForExtension timeout", v15, v16, v17, v18, v19}];
    }

    else
    {
      v12 = [v30[5] copy];
    }

    *a2 = v12;
  }

  v13 = v24[5];

  _Block_object_dispose(&v23, 8);
  _Block_object_dispose(&v29, 8);

  return v13;
}

void sub_1A4E22FFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v9 - 96), 8);
  _Unwind_Resume(a1);
}

void __fetchPosterDescriptorsWithTimeout_block_invoke_2(uint64_t a1)
{
  v1 = *(a1 + 32);
  v4[0] = MEMORY[0x1E69E9820];
  v4[1] = 3221225472;
  v4[2] = __fetchPosterDescriptorsWithTimeout_block_invoke_3;
  v4[3] = &unk_1E773ADC0;
  v6 = *(a1 + 56);
  v3 = *(a1 + 40);
  v2 = v3;
  v5 = v3;
  [v1 fetchPosterDescriptorsForExtension:@"com.apple.PhotosUIPrivate.PhotosPosterProvider" completion:v4];
}

void __fetchPosterDescriptorsWithTimeout_block_invoke_3(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  v7 = *(*(a1 + 40) + 8);
  v8 = *(v7 + 40);
  *(v7 + 40) = v5;
  v12 = v5;

  v9 = *(*(a1 + 48) + 8);
  v10 = *(v9 + 40);
  *(v9 + 40) = v6;
  v11 = v6;

  dispatch_semaphore_signal(*(a1 + 32));
}

void __fetchPosterDescriptorsWithTimeout_block_invoke()
{
  v2 = dispatch_queue_attr_make_with_qos_class(0, QOS_CLASS_DEFAULT, 0);
  v0 = dispatch_queue_create("posterService_fetchPosterDescriptors", v2);
  v1 = fetchPosterDescriptorsWithTimeout_queue;
  fetchPosterDescriptorsWithTimeout_queue = v0;
}

void sub_1A4E254D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, char a35, uint64_t a36, uint64_t a37, uint64_t a38, char a39)
{
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose(&a35, 8);
  _Block_object_dispose(&a39, 8);
  _Block_object_dispose((v39 - 256), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__122089(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4E258E4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E2883C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

double PXImageModulationFloatByLinearlyInterpolatingFloats(void *a1, void *a2, double a3)
{
  v5 = a1;
  v6 = a2;
  v7 = v6;
  if (a3 <= 0.0)
  {
    v8 = v5[2](v5);
  }

  else
  {
    if (a3 < 1.0)
    {
      v5[2](v5);
      v7[2](v7);
      PXFloatByLinearlyInterpolatingFloats();
    }

    v8 = (v6[2])(v6);
  }

  v9 = v8;

  return v9;
}

char *PXStoryClusteringAlgorithmCutAdjacentWithAssetIndicesOptionsAndDistanceBlock(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v32 = a2;
  v6 = a3;
  v7 = [v5 count];
  if (v7)
  {
    v8 = [v32 objectForKey:@"minimumNumberOfObjects"];
    v9 = [v8 unsignedIntegerValue];

    v10 = [v32 objectForKey:@"maximumDistance"];
    [v10 doubleValue];
    v12 = v11;
    v13 = v7 - 1;

    v39[0] = 0;
    std::vector<double>::vector[abi:ne200100](v37, (v7 - 1));
    if (v7 != 1)
    {
      v14 = 0;
      do
      {
        v15 = [v5 objectAtIndexedSubscript:{v14, v32}];
        v16 = [v5 objectAtIndexedSubscript:v14 + 1];
        v17 = v6[2](v6, v15, v16);

        *(v37[0] + v14++) = v17;
      }

      while (v13 != v14);
    }

    LOBYTE(v39[0]) = 0;
    std::vector<BOOL>::vector(v36, (v7 - 1));
    if (v7 != 1)
    {
      v18 = 0;
      v19 = v37[0];
      v20 = v36[0];
      do
      {
        if (v19[v18] > v12)
        {
          *&v20[(v18 >> 3) & 0x1FFFFFFFFFFFFFF8] |= 1 << v18;
        }

        ++v18;
      }

      while (v13 != v18);
    }

    std::vector<BOOL>::vector(&v33, v36);
    memset(v39, 0, sizeof(v39));
    memset(__p, 0, sizeof(__p));
    v21 = v34;
    if (v34)
    {
      for (i = 0; i < v34; ++i)
      {
        if (((*(v33 + ((i >> 3) & 0x1FFFFFFFFFFFFFF8)) >> i) & 1) != 0 && (*(__p[0] + i) - *(v39[0] + i) < v9 || *(__p[0] + i + 1) - *(v39[0] + i + 1) < v9))
        {
          operator new();
        }
      }

      v23 = v33;
      v24 = v35;
      v34 = 0;
      v35 = 0;
      v33 = 0;
    }

    else
    {
      v23 = v33;
      v24 = v35;
      v34 = 0;
      v35 = 0;
      v33 = 0;
    }

    if (__p[0])
    {
      operator delete(__p[0]);
    }

    if (v39[0])
    {
      operator delete(v39[0]);
    }

    if (v36[0])
    {
      operator delete(v36[0]);
    }

    v36[0] = v23;
    v36[1] = v21;
    v36[2] = v24;
    if (v33)
    {
      operator delete(v33);
    }

    v25 = objc_opt_new();
    v26 = 0;
    do
    {
      v27 = objc_opt_new();
      v28 = [MEMORY[0x1E696AD98] numberWithUnsignedInteger:v26];
      [v27 addObject:v28];

      if (++v26 < v7)
      {
        while (((*(v36[0] + (((v26 - 1) >> 3) & 0x1FFFFFFFFFFFFFF8)) >> (v26 - 1)) & 1) == 0)
        {
          v29 = [MEMORY[0x1E696AD98] numberWithUnsignedInteger:v26];
          [v27 addObject:v29];

          if (v7 == ++v26)
          {
            v26 = v7;
            break;
          }
        }
      }

      v30 = [MEMORY[0x1E69BE3A8] clusterWithObjects:{v27, v32}];
      [v25 addObject:v30];
    }

    while (v26 < v7);
    v7 = [v25 copy];

    if (v36[0])
    {
      operator delete(v36[0]);
    }

    if (v37[0])
    {
      v37[1] = v37[0];
      operator delete(v37[0]);
    }
  }

  return v7;
}

void sub_1A4E29A88(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *a9, void *a10, uint64_t a11, uint64_t a12, void *__p, uint64_t a14, uint64_t a15, void *a16, uint64_t a17, uint64_t a18, void *a19, uint64_t a20, uint64_t a21, void *a22)
{
  if (__p)
  {
    operator delete(__p);
  }

  if (a16)
  {
    operator delete(a16);
  }

  _Unwind_Resume(a1);
}

void *std::vector<double>::vector[abi:ne200100](void *result, unint64_t a2)
{
  *result = 0;
  result[1] = 0;
  result[2] = 0;
  if (a2)
  {
    std::vector<double>::__vallocate[abi:ne200100](result, a2);
  }

  return result;
}

void sub_1A4E29C4C(_Unwind_Exception *exception_object)
{
  v3 = *v1;
  if (*v1)
  {
    *(v1 + 8) = v3;
    operator delete(v3);
  }

  _Unwind_Resume(exception_object);
}

void *std::vector<BOOL>::vector(void *result, uint64_t a2)
{
  *result = 0;
  result[1] = 0;
  result[2] = 0;
  if (a2)
  {
    std::vector<BOOL>::__vallocate[abi:ne200100](result, a2);
  }

  return result;
}

{
  *result = 0;
  result[1] = 0;
  result[2] = 0;
  v2 = *(a2 + 8);
  if (v2)
  {
    std::vector<BOOL>::__vallocate[abi:ne200100](result, v2);
  }

  return result;
}

void anonymous namespace::computeRangeTables(void *a1, uint64_t *a2, uint64_t *a3)
{
  std::vector<unsigned long>::resize(a2, a1[1] + 1);
  std::vector<unsigned long>::resize(a3, a1[1] + 1);
  v6 = *a2;
  v7 = a2[1] - *a2;
  if (v7)
  {
    v8 = 0;
    v9 = v7 >> 3;
    v10 = *a3;
    do
    {
      v11 = v8;
      if (v9 <= v8 + 1)
      {
        v12 = v8 + 1;
      }

      else
      {
        v12 = v9;
      }

      v13 = v8;
      while (v12 - 1 != v13)
      {
        v8 = v13 + 1;
        v14 = *(*a1 + ((v13 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v13;
        ++v13;
        if (v14)
        {
          goto LABEL_11;
        }
      }

      v8 = v12;
LABEL_11:
      v15 = (8 * (v8 - v11)) >> 3;
      v16 = v15 - 1;
      if (v15 >= 1)
      {
        v17 = 0;
        v18 = 8 * v11;
        v19 = 8 * v11 + v6;
        v20 = (v15 + 1) & 0x7FFFFFFFFFFFFFFELL;
        v21 = vdupq_n_s64(v16);
        do
        {
          v22 = vmovn_s64(vcgeq_u64(v21, vorrq_s8(vdupq_n_s64(v17), xmmword_1A5301350)));
          if (v22.i8[0])
          {
            *(v19 + 8 * v17) = v11;
          }

          if (v22.i8[4])
          {
            *(v19 + 8 * v17 + 8) = v11;
          }

          v17 += 2;
        }

        while (v20 != v17);
        v23 = 0;
        v24 = v18 + v10;
        do
        {
          v25 = vmovn_s64(vcgeq_u64(v21, vorrq_s8(vdupq_n_s64(v23), xmmword_1A5301350)));
          if (v25.i8[0])
          {
            *(v24 + 8 * v23) = v8;
          }

          if (v25.i8[4])
          {
            *(v24 + 8 * v23 + 8) = v8;
          }

          v23 += 2;
        }

        while (v20 != v23);
      }
    }

    while (v8 < v9);
  }
}

uint64_t std::__sift_up[abi:ne200100]<std::_ClassicAlgPolicy,std::less<std::pair<double,unsigned long>> &,std::__wrap_iter<std::pair<double,unsigned long>*>>(uint64_t result, uint64_t a2, uint64_t a3)
{
  v3 = a3 - 2;
  if (a3 < 2)
  {
    return result;
  }

  v4 = v3 >> 1;
  v5 = result + 16 * (v3 >> 1);
  v6 = *v5;
  v7 = *(a2 - 16);
  if (*v5 >= v7)
  {
    if (v7 < v6)
    {
      return result;
    }

    v9 = *(v5 + 8);
    v8 = *(a2 - 8);
    if (v9 >= v8)
    {
      return result;
    }
  }

  else
  {
    v8 = *(a2 - 8);
    v9 = *(v5 + 8);
  }

  *(a2 - 16) = v6;
  *(a2 - 8) = v9;
  if (v3 < 2)
  {
    goto LABEL_16;
  }

  v10 = result + 16 * (v3 >> 1);
  while (1)
  {
    v11 = v4 - 1;
    v4 = (v4 - 1) >> 1;
    v5 = result + 16 * v4;
    v12 = *v5;
    if (*v5 >= v7)
    {
      break;
    }

    v13 = *(v5 + 8);
LABEL_10:
    *v10 = v12;
    *(v10 + 8) = v13;
    v10 = result + 16 * v4;
    if (v11 <= 1)
    {
      goto LABEL_16;
    }
  }

  if (v7 >= v12)
  {
    v13 = *(v5 + 8);
    if (v13 < v8)
    {
      goto LABEL_10;
    }
  }

  v5 = v10;
LABEL_16:
  *v5 = v7;
  *(v5 + 8) = v8;
  return result;
}

void std::vector<unsigned long>::resize(uint64_t *a1, unint64_t a2)
{
  v3 = *a1;
  v4 = a1[1];
  v5 = (v4 - *a1) >> 3;
  if (a2 <= v5)
  {
    if (a2 >= v5)
    {
      return;
    }

    v11 = v3 + 8 * a2;
  }

  else
  {
    v6 = a2 - v5;
    v7 = a1[2];
    if (v6 > (v7 - v4) >> 3)
    {
      if (!(a2 >> 61))
      {
        v8 = v7 - v3;
        v9 = v8 >> 2;
        if (v8 >> 2 <= a2)
        {
          v9 = a2;
        }

        if (v8 >= 0x7FFFFFFFFFFFFFF8)
        {
          v10 = 0x1FFFFFFFFFFFFFFFLL;
        }

        else
        {
          v10 = v9;
        }

        std::__allocate_at_least[abi:ne200100]<std::allocator<PXStoryAutoEditComposabilityScores>>(v10);
      }

      std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne200100]();
    }

    bzero(a1[1], 8 * v6);
    v11 = v4 + 8 * v6;
  }

  a1[1] = v11;
}

void std::vector<BOOL>::__vallocate[abi:ne200100](uint64_t a1, uint64_t a2)
{
  if ((a2 & 0x8000000000000000) == 0)
  {
    std::__allocate_at_least[abi:ne200100]<std::allocator<PXStoryAutoEditComposabilityScores>>(((a2 - 1) >> 6) + 1);
  }

  std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne200100]();
}

void std::vector<double>::__vallocate[abi:ne200100](uint64_t a1, unint64_t a2)
{
  if (!(a2 >> 61))
  {
    operator new();
  }

  std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne200100]();
}

id PXStoryClusteringAlgorithmCutClusterWithAssetIndicesOptionsAndDistanceBlock(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v10 = a2;
  v11 = a3;
  v6 = [v5 count];
  if (v6)
  {
    v7 = [v10 objectForKey:@"minimumNumberOfObjects"];
    [v7 unsignedIntegerValue];

    v8 = [v10 objectForKey:@"maximumDistance"];
    [v8 doubleValue];

    std::vector<double>::vector[abi:ne200100](v14, v6);
    memset(v12, 0, 32);
    v12[6] = v12;
    LOBYTE(v13) = 0;
    if (v6 < 0xAAAAAAAAAAAAAABLL)
    {
      operator new();
    }

    std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne200100]();
  }

  return 0;
}

void sub_1A4E2AF44(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, uint64_t a13, void *__p, uint64_t a15, void *a16, void *a17, void *a18, uint64_t a19, uint64_t a20, void *a21, uint64_t a22, uint64_t a23, char a24, uint64_t a25, uint64_t a26, void *a27, uint64_t a28, uint64_t a29, void *a30)
{
  if (__p)
  {
    operator delete(__p);
  }

  if (a27)
  {
    operator delete(a27);
  }

  if (a30)
  {
    operator delete(a30);
  }

  if (a18)
  {
    operator delete(a18);
  }

  if (a21)
  {
    operator delete(a21);
  }

  *(v30 - 160) = &a24;
  std::vector<std::vector<double>>::__destroy_vector::operator()[abi:ne200100]((v30 - 160));

  _Unwind_Resume(a1);
}

__n128 std::__sift_up[abi:ne200100]<std::_ClassicAlgPolicy,std::less<anonymous namespace::PQCutClusterPair> &,std::__wrap_iter<anonymous namespace::PQCutClusterPair*>>(uint64_t a1, uint64_t a2, uint64_t a3, __n128 result)
{
  v4 = a3 - 2;
  if (a3 >= 2)
  {
    v5 = v4 >> 1;
    v6 = (a1 + 48 * (v4 >> 1));
    v7 = (a2 - 48);
    result.n128_u64[0] = *(a2 - 48);
    if (result.n128_f64[0] < *v6)
    {
      v11 = *(a2 - 40);
      v12 = *(a2 - 24);
      v13 = *(a2 - 8);
      do
      {
        v8 = v7;
        v7 = v6;
        v9 = *v6;
        v10 = v6[2];
        v8[1] = v6[1];
        v8[2] = v10;
        *v8 = v9;
        if (!v5)
        {
          break;
        }

        v5 = (v5 - 1) >> 1;
        v6 = (a1 + 48 * v5);
      }

      while (result.n128_f64[0] < *v6);
      *v7 = result.n128_u64[0];
      result = v11;
      *(v7 + 8) = v11;
      *(v7 + 24) = v12;
      *(v7 + 5) = v13;
    }
  }

  return result;
}

void std::vector<std::vector<double>>::__destroy_vector::operator()[abi:ne200100](void ***a1)
{
  v1 = *a1;
  v2 = **a1;
  if (v2)
  {
    v4 = v1[1];
    v5 = **a1;
    if (v4 != v2)
    {
      v6 = v1[1];
      do
      {
        v8 = *(v6 - 3);
        v6 -= 24;
        v7 = v8;
        if (v8)
        {
          *(v4 - 2) = v7;
          operator delete(v7);
        }

        v4 = v6;
      }

      while (v6 != v2);
      v5 = **a1;
    }

    v1[1] = v2;

    operator delete(v5);
  }
}

uint64_t __Block_byref_object_copy__122916(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id _GetChangeDetails(void *a1, uint64_t a2, uint64_t a3)
{
  v5 = [a1 changeHistory];
  v6 = [v5 changeDetailsFromDataSourceIdentifier:a2 toDataSourceIdentifier:a3];

  if ([v6 count] == 1)
  {
    v7 = [v6 firstObject];
  }

  else
  {
    v7 = 0;
  }

  return v7;
}

uint64_t _HasAnyInsertionsForChangeDetails(void *a1)
{
  v1 = a1;
  v2 = v1;
  v12 = 0;
  v13 = &v12;
  v14 = 0x2020000000;
  v15 = 0;
  if (v1)
  {
    if ([v1 hasAnyChanges])
    {
      v3 = [v2 sectionChanges];
      if ([v3 hasIncrementalChanges] && (objc_msgSend(v3, "insertedIndexes"), v4 = objc_claimAutoreleasedReturnValue(), v5 = objc_msgSend(v4, "count"), v4, !v5))
      {
        if ((v13[3] & 1) == 0)
        {
          v8 = [v2 sectionsWithItemChanges];
          v9[0] = MEMORY[0x1E69E9820];
          v9[1] = 3221225472;
          v9[2] = ___HasAnyInsertionsForChangeDetails_block_invoke;
          v9[3] = &unk_1E773BA28;
          v10 = v2;
          v11 = &v12;
          [v8 enumerateIndexesUsingBlock:v9];
        }
      }

      else
      {
        *(v13 + 24) = 1;
      }
    }
  }

  else
  {
    v15 = 1;
  }

  v6 = *(v13 + 24);
  _Block_object_dispose(&v12, 8);

  return v6;
}

void sub_1A4E2C3A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E2D118(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E2EA64(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E324F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__124105(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4E34DAC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E37370(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void _handlePreferenceChanged(uint64_t a1, void *a2)
{
  v3 = objc_initWeak(&location, a2);

  if (a2)
  {
    objc_copyWeak(&v4, &location);
    px_dispatch_on_main_queue();
  }

  objc_destroyWeak(&location);
}

void sub_1A4E3E4E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, ...)
{
  va_start(va, a5);
  objc_destroyWeak(va);
  objc_destroyWeak((v5 - 24));
  _Unwind_Resume(a1);
}

void ___handlePreferenceChanged_block_invoke(uint64_t a1)
{
  WeakRetained = objc_loadWeakRetained((a1 + 32));
  [WeakRetained preferencesDidChange];
}

uint64_t PXPreferencesGetBool(const __CFString *a1, unsigned int a2)
{
  keyExistsAndHasValidFormat = 0;
  v3 = CFPreferencesGetAppBooleanValue(a1, @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat) != 0;
  if (keyExistsAndHasValidFormat)
  {
    return v3;
  }

  else
  {
    return a2;
  }
}

void PXPreferencesSetBool(void *a1, uint64_t a2)
{
  v3 = MEMORY[0x1E696AD98];
  v4 = a1;
  v5 = [v3 numberWithBool:a2];
  PXPreferencesSetValue(v4, v5);
}

void PXPreferencesSetValue(const __CFString *a1, const void *a2)
{
  CFPreferencesSetAppValue(a1, a2, @"com.apple.mobileslideshow");
  CFPreferencesAppSynchronize(@"com.apple.mobileslideshow");
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();

  CFNotificationCenterPostNotification(DarwinNotifyCenter, @"com.apple.mobileslideshow.PreferenceChanged", 0, 0, 1u);
}

void PXPreferencesToggleBool(void *a1, _BOOL4 a2)
{
  keyExistsAndHasValidFormat = 0;
  v3 = a1;
  v4 = CFPreferencesGetAppBooleanValue(v3, @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat) != 0;
  if (!keyExistsAndHasValidFormat)
  {
    v4 = a2;
  }

  PXPreferencesSetBool(v3, !v4);
}

CFIndex PXPreferencesGetInteger(const __CFString *a1, uint64_t a2)
{
  keyExistsAndHasValidFormat = 0;
  result = CFPreferencesGetAppIntegerValue(a1, @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (!keyExistsAndHasValidFormat)
  {
    return a2;
  }

  return result;
}

void PXPreferencesSetInteger(void *a1, uint64_t a2)
{
  v3 = MEMORY[0x1E696AD98];
  v4 = a1;
  v5 = [v3 numberWithInteger:a2];
  PXPreferencesSetValue(v4, v5);
}

void sub_1A4E3F470(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 200), 8);
  _Block_object_dispose((v1 - 168), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__124671(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4E4016C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 48));
  objc_destroyWeak((v2 - 48));
  _Unwind_Resume(a1);
}

uint64_t _StateForLibraryScopeFetchResult(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXCPLStatusSharedLibraryState _StateForLibraryScopeFetchResult(PHFetchResult<PHLibraryScope *> *__strong)"];
    [v9 handleFailureInFunction:v10 file:@"PXCPLSharedLibraryActivity.m" lineNumber:140 description:{@"Invalid parameter not satisfying: %@", @"libraryScopeFetchResult"}];
  }

  v2 = [v1 firstObject];
  v3 = v2;
  if (v2)
  {
    if ([v2 exitState])
    {
      v4 = v3;
      v12 = 0;
      v13 = &v12;
      v14 = 0x2020000000;
      v15 = 0;
      v5 = [MEMORY[0x1E6978AC0] fetchParticipantsInShare:v4 options:0];
      v11[0] = MEMORY[0x1E69E9820];
      v11[1] = 3221225472;
      v11[2] = ___IsOwner_block_invoke;
      v11[3] = &unk_1E773B398;
      v11[4] = &v12;
      [v5 enumerateObjectsUsingBlock:v11];
      v6 = *(v13 + 24);

      _Block_object_dispose(&v12, 8);
      if (v6)
      {
        v7 = 2;
      }

      else
      {
        v7 = 3;
      }
    }

    else
    {
      v7 = 1;
    }
  }

  else
  {
    v7 = 0;
  }

  return v7;
}

void sub_1A4E40944(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *_StateDescription(unint64_t a1)
{
  if (a1 >= 4)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *_StateDescription(PXCPLStatusSharedLibraryState)"];
    [v6 handleFailureInFunction:v7 file:@"PXCPLSharedLibraryActivity.m" lineNumber:179 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return off_1E773B3B8[a1];
}

__CFString *PXProgrammaticNavigationResultDescription(unint64_t a1)
{
  if (a1 >= 7)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"Invalid PXProgrammaticNavigationResult: %ld", a1];
  }

  else
  {
    v2 = off_1E773B3D8[a1];
  }

  return v2;
}

id PXProgrammaticNavigationLastParticipantOnRouteToDestinationMatching(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = [objc_alloc(MEMORY[0x1E695DF70]) initWithObjects:{v6, 0}];
  for (i = v8; ; v8 = i)
  {
    v10 = [v8 lastObject];
    v11 = [v10 nextExistingParticipantOnRouteToDestination:v5];

    if (!v11)
    {
      break;
    }

    [i addObject:v11];
  }

  v12 = [i reverseObjectEnumerator];
  v13 = 0;
  while (1)
  {
    v14 = v13;
    v13 = [v12 nextObject];

    if (!v13)
    {
      break;
    }

    if (v7[2](v7, v13))
    {
      v13 = v13;
      break;
    }
  }

  return v13;
}

uint64_t PXSharedLibraryPreviewBannerConfiguration(void *a1)
{
  v1 = a1;
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = __PXSharedLibraryPreviewBannerConfiguration_block_invoke;
  block[3] = &unk_1E774C648;
  v8 = v1;
  v2 = PXSharedLibraryPreviewBannerConfiguration_onceToken;
  v3 = v1;
  if (v2 != -1)
  {
    dispatch_once(&PXSharedLibraryPreviewBannerConfiguration_onceToken, block);
  }

  v4 = PXSharedLibraryPreviewBannerConfiguration_config;
  v5 = PXSharedLibraryPreviewBannerConfiguration_config;

  return v4;
}

void __PXSharedLibraryPreviewBannerConfiguration_block_invoke(uint64_t a1)
{
  v2 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPreviewTitle_iOS");
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryPreviewBannerConfiguration_block_invoke_2;
  aBlock[3] = &unk_1E773B520;
  v16 = *(a1 + 32);
  v3 = _Block_copy(aBlock);
  v4 = +[PXSharedLibrarySettings sharedInstance];
  v5 = [v4 showPreviewCancelButton];

  if (v5)
  {
    v13[0] = MEMORY[0x1E69E9820];
    v13[1] = 3221225472;
    v13[2] = __PXSharedLibraryPreviewBannerConfiguration_block_invoke_194;
    v13[3] = &unk_1E773B520;
    v14 = *(a1 + 32);
    v6 = _Block_copy(v13);
  }

  else
  {
    v6 = 0;
  }

  v7 = [PXBannerViewConfiguration alloc];
  v8 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPreviewSubtitle");
  v9 = PXLocalizedStringFromTable(@"PXContinue", @"PhotosUICore");
  v10 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v11 = [(PXBannerViewConfiguration *)v7 initWithTitle:v2 subtitle:v8 actionButtonTitle:v9 cancelButtonTitle:v10 actionButtonHandler:v3 cancelButtonHandler:v6 primaryActionIdentifier:@"PXSharedLibrarySetup" cancelActionIdentifier:@"PXSharedLibraryExit"];
  v12 = PXSharedLibraryPreviewBannerConfiguration_config;
  PXSharedLibraryPreviewBannerConfiguration_config = v11;
}

void __PXSharedLibraryPreviewBannerConfiguration_block_invoke_2(uint64_t a1, void *a2)
{
  if (a2)
  {
    v4 = *(a1 + 32);

    PXSharedLibrarySetupSharedLibraryOrPreview(v4, 0, a2, @"PXSharedLibraryBanners", 0);
  }

  else
  {
    v7 = v2;
    v8 = v3;
    v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      *v6 = 0;
      _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_ERROR, "No presentation environment for the 'continue from preview' action", v6, 2u);
    }
  }
}

void __PXSharedLibraryPreviewBannerConfiguration_block_invoke_194(uint64_t a1, void *a2)
{
  if (a2)
  {
    v4 = *(a1 + 32);

    PXSharedLibraryExitSharedLibraryOrPreview(v4, a2, @"PXSharedLibraryBanners", 0);
  }

  else
  {
    v7 = v2;
    v8 = v3;
    v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      *v6 = 0;
      _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_ERROR, "No presentation environment for the 'exit from preview' action", v6, 2u);
    }
  }
}

uint64_t PXSharedLibrarySharingSuggestionsBannerConfiguration(void *a1)
{
  v1 = a1;
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke;
  block[3] = &unk_1E774C648;
  v8 = v1;
  v2 = PXSharedLibrarySharingSuggestionsBannerConfiguration_onceToken;
  v3 = v1;
  if (v2 != -1)
  {
    dispatch_once(&PXSharedLibrarySharingSuggestionsBannerConfiguration_onceToken, block);
  }

  v4 = PXSharedLibrarySharingSuggestionsBannerConfiguration_config;
  v5 = PXSharedLibrarySharingSuggestionsBannerConfiguration_config;

  return v4;
}

void __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke(uint64_t a1)
{
  v2 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerTitle_iOS");
  v18 = 0uLL;
  v19 = 0;
  v3 = *(a1 + 32);
  if (v3)
  {
    [v3 detailedUnreadCounts];
    if (v18 == 0x7FFFFFFFFFFFFFFFLL)
    {
LABEL_8:
      v6 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerSubtitlePlaceholder");
      goto LABEL_9;
    }

    v5 = *(&v18 + 1);
    v4 = v19;
  }

  else
  {
    v4 = 0;
    v5 = 0;
  }

  if (v5 == 0x7FFFFFFFFFFFFFFFLL || v4 == 0x7FFFFFFFFFFFFFFFLL)
  {
    goto LABEL_8;
  }

  v16 = v18;
  v17 = v19;
  v6 = PXLocalizedStringForDetailedCountsWithUsage(&v16, 1);
LABEL_9:
  v7 = v6;
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke_3;
  aBlock[3] = &unk_1E773B520;
  v15 = *(a1 + 32);
  v8 = _Block_copy(aBlock);
  v9 = [PXBannerViewConfiguration alloc];
  v10 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerActionReview");
  v11 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerActionNotNow");
  v12 = [(PXBannerViewConfiguration *)v9 initWithTitle:v2 subtitle:v7 actionButtonTitle:v10 cancelButtonTitle:v11 actionButtonHandler:&__block_literal_global_125963 cancelButtonHandler:v8 primaryActionIdentifier:0 cancelActionIdentifier:0];
  v13 = PXSharedLibrarySharingSuggestionsBannerConfiguration_config;
  PXSharedLibrarySharingSuggestionsBannerConfiguration_config = v12;

  [MEMORY[0x1E6991F28] sendEvent:@"com.apple.photos.CPAnalytics.sharedLibrary.suggestionsBanner.presented" withPayload:MEMORY[0x1E695E0F8]];
}

uint64_t __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke_3(uint64_t a1)
{
  [*(a1 + 32) markAnyNotificationsAsRead];
  v1 = MEMORY[0x1E6991F28];
  v2 = MEMORY[0x1E695E0F8];

  return [v1 sendEvent:@"com.apple.photos.CPAnalytics.sharedLibrary.suggestionsBanner.dismissed" withPayload:v2];
}

uint64_t __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke_2()
{
  v0 = [MEMORY[0x1E69DC668] sharedApplication];
  [v0 px_navigateToForYouRevealingSharedLibrarySharingSuggestionsWithCompletionHandler:0];

  v1 = MEMORY[0x1E6991F28];
  v2 = MEMORY[0x1E695E0F8];

  return [v1 sendEvent:@"com.apple.photos.CPAnalytics.sharedLibrary.suggestionsBanner.reviewed" withPayload:v2];
}

PXCNComposeRecipient *PXCNComposeRecipientWithContact(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v18 = [MEMORY[0x1E696AAA8] currentHandler];
    v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithContact(CNContact *__strong _Nonnull)"];
    [v18 handleFailureInFunction:v19 file:@"PXCNRecipientUtilities.m" lineNumber:41 description:{@"Invalid parameter not satisfying: %@", @"contact"}];
  }

  v2 = v1;
  if (![v2 isKeyAvailable:*MEMORY[0x1E695C208]] || (objc_msgSend(v2, "emailAddresses"), v3 = objc_claimAutoreleasedReturnValue(), v4 = objc_msgSend(v3, "count"), v3, !v4))
  {
    if ([v2 isKeyAvailable:*MEMORY[0x1E695C330]])
    {
      v9 = [v2 phoneNumbers];
      v7 = [v9 count];

      if (v7)
      {
        v10 = [v2 phoneNumbers];
        v6 = [v10 firstObject];

        v11 = [v6 value];
        v7 = [v11 stringValue];

        v8 = 1;
        goto LABEL_9;
      }
    }

    else
    {
      v7 = 0;
    }

    v8 = 5;
    goto LABEL_12;
  }

  v5 = [v2 emailAddresses];
  v6 = [v5 firstObject];

  v7 = [v6 value];
  v8 = 0;
LABEL_9:

LABEL_12:
  v12 = v7;

  v13 = v7;
  v14 = [v13 length];
  v15 = 0;
  if (v8 != 5 && v14)
  {
    v16 = [objc_alloc(MEMORY[0x1E6996408]) initWithContact:v2 address:v13 kind:v8];
    v15 = [[PXCNComposeRecipient alloc] initWithRecipient:v16];
  }

  return v15;
}

PXCNComposeRecipient *PXCNComposeRecipientWithAddress(void *a1, uint64_t a2)
{
  v3 = a1;
  if (![v3 length])
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithAddress(NSString *__strong _Nonnull, PXRecipientKind)"}];
    [v8 handleFailureInFunction:v9 file:@"PXCNRecipientUtilities.m" lineNumber:55 description:{@"Invalid parameter not satisfying: %@", @"address.length > 0"}];
  }

  if (a2 == 2)
  {
    v4 = 1;
  }

  else
  {
    if (!a2)
    {
      v10 = [MEMORY[0x1E696AAA8] currentHandler];
      v11 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithAddress(NSString *__strong _Nonnull, PXRecipientKind)"}];
      [v10 handleFailureInFunction:v11 file:@"PXCNRecipientUtilities.m" lineNumber:56 description:{@"Invalid parameter not satisfying: %@", @"kind != PXRecipientKindUnknown"}];

      v12 = [MEMORY[0x1E696AAA8] currentHandler];
      v13 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithAddress(NSString *__strong _Nonnull, PXRecipientKind)"}];
      [v12 handleFailureInFunction:v13 file:@"PXCNRecipientUtilities.m" lineNumber:61 description:@"Code which should be unreachable has been reached"];

      abort();
    }

    v4 = 0;
  }

  v5 = [objc_alloc(MEMORY[0x1E6996408]) initWithContact:0 address:v3 kind:v4];
  v6 = [[PXCNComposeRecipient alloc] initWithRecipient:v5];

  return v6;
}

id PXCNComposeRecipientWithRecipient(void *a1)
{
  v14 = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v10 = [MEMORY[0x1E696AAA8] currentHandler];
    v11 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithRecipient(PXRecipient *__strong _Nonnull)"];
    [v10 handleFailureInFunction:v11 file:@"PXCNRecipientUtilities.m" lineNumber:76 description:{@"Invalid parameter not satisfying: %@", @"recipient"}];
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v2 = v1;
    goto LABEL_14;
  }

  v3 = [v1 contact];

  if (!v3)
  {
    v6 = [v1 emailAddressString];
    if (v6)
    {
      v5 = v6;
      v7 = 1;
    }

    else
    {
      v6 = [v1 phoneNumberString];
      if (!v6)
      {
        v9 = PLSharingGetLog();
        if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
        {
          *buf = 138412290;
          v13 = v1;
          _os_log_impl(&dword_1A3C1C000, v9, OS_LOG_TYPE_ERROR, "Failed to create compose recipient for recipient: %@", buf, 0xCu);
        }

        v2 = 0;
        goto LABEL_7;
      }

      v5 = v6;
      v7 = 2;
    }

    v2 = PXCNComposeRecipientWithAddress(v6, v7);
    goto LABEL_13;
  }

  v4 = [v1 contact];
  v2 = PXCNComposeRecipientWithContact(v4);

LABEL_7:
  v5 = 0;
LABEL_13:

LABEL_14:

  return v2;
}

uint64_t PXComposeRecipientEqualToComposeRecipient(void *a1, void *a2)
{
  v3 = a2;
  v4 = [a1 address];
  v5 = [v3 address];

  if (v4 == v5)
  {
    v6 = 1;
  }

  else
  {
    v6 = [v4 isEqualToString:v5];
  }

  return v6;
}

uint64_t PXComposeRecipientsContainsComposeRecipient(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v11 = 0;
  v12 = &v11;
  v13 = 0x2020000000;
  v14 = 0;
  v8[0] = MEMORY[0x1E69E9820];
  v8[1] = 3221225472;
  v8[2] = __PXComposeRecipientsContainsComposeRecipient_block_invoke;
  v8[3] = &unk_1E773B5C8;
  v5 = v4;
  v9 = v5;
  v10 = &v11;
  [v3 enumerateObjectsUsingBlock:v8];
  v6 = *(v12 + 24);

  _Block_object_dispose(&v11, 8);
  return v6;
}

void sub_1A4E4B494(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __PXComposeRecipientsContainsComposeRecipient_block_invoke(uint64_t a1, void *a2, uint64_t a3, _BYTE *a4)
{
  result = PXComposeRecipientEqualToComposeRecipient(a2, *(a1 + 32));
  if (result)
  {
    *(*(*(a1 + 40) + 8) + 24) = 1;
    *a4 = 1;
  }

  return result;
}

uint64_t PXComposeAddressKindFromRecipientKind(uint64_t a1)
{
  if (a1)
  {
    return a1 == 2;
  }

  else
  {
    return 5;
  }
}

uint64_t PXRecipientKindFromComposeAddressKind(uint64_t a1)
{
  if (a1)
  {
    return 2 * (a1 == 1);
  }

  else
  {
    return 1;
  }
}

PXImportAssetActionManager *PXCreateImportAssetActionManager(void *a1, void *a2)
{
  v3 = a2;
  v4 = a1;
  v5 = [[PXImportAssetActionManager alloc] initWithImportItem:v4 importController:v3];

  return v5;
}

void sub_1A4E4F668(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, char a24, uint64_t a25, uint64_t a26, uint64_t a27, char a28)
{
  _Block_object_dispose(&a24, 8);
  _Block_object_dispose(&a28, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__127489(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4E4FD30(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E5065C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E50B80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E53FC8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E54500(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, id location)
{
  objc_destroyWeak((v23 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E5B3C0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A4E5E138(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, char a32)
{
  _Block_object_dispose(&a32, 8);
  _Block_object_dispose((v32 - 168), 8);
  _Block_object_dispose((v32 - 136), 8);
  _Unwind_Resume(a1);
}

uint64_t MatchingScoreBetweenClipResourceIndexes(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = [v3 count];
  if (v5 <= [v4 count])
  {
    v11 = 0;
    v12 = &v11;
    v13 = 0x2020000000;
    v14 = 0;
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __MatchingScoreBetweenClipResourceIndexes_block_invoke;
    v8[3] = &unk_1E773BA28;
    v9 = v4;
    v10 = &v11;
    [v3 enumerateIndexesUsingBlock:v8];
    v6 = v12[3];

    _Block_object_dispose(&v11, 8);
  }

  else
  {
    v6 = MatchingScoreBetweenClipResourceIndexes(v4, v4);
  }

  return v6;
}

void sub_1A4E5E39C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __MatchingScoreBetweenClipResourceIndexes_block_invoke(uint64_t a1, uint64_t a2)
{
  result = [*(a1 + 32) containsIndex:a2];
  if (result)
  {
    ++*(*(*(a1 + 40) + 8) + 24);
  }

  return result;
}

id _CreateLabel(int a1)
{
  v2 = objc_alloc(MEMORY[0x1E69DCC10]);
  v3 = [v2 initWithFrame:{*MEMORY[0x1E695F058], *(MEMORY[0x1E695F058] + 8), *(MEMORY[0x1E695F058] + 16), *(MEMORY[0x1E695F058] + 24)}];
  [v3 setTranslatesAutoresizingMaskIntoConstraints:0];
  [v3 setTextAlignment:1];
  [v3 setNumberOfLines:0];
  v4 = [MEMORY[0x1E69DC888] labelColor];
  [v3 setTextColor:v4];

  [v3 setAdjustsFontForContentSizeCategory:1];
  v5 = *MEMORY[0x1E69DDD28];
  if (a1)
  {
    v6 = [MEMORY[0x1E69DB880] preferredFontDescriptorWithTextStyle:*MEMORY[0x1E69DDD28]];
    v7 = [v6 fontDescriptorWithSymbolicTraits:2];
    v8 = [MEMORY[0x1E69DCA40] metricsForTextStyle:v5];
    v9 = MEMORY[0x1E69DB878];
    [v7 pointSize];
    v10 = [v9 fontWithDescriptor:v7 size:?];
    v11 = [v8 scaledFontForFont:v10];
    [v3 setFont:v11];
  }

  else
  {
    v6 = [MEMORY[0x1E69DB878] preferredFontForTextStyle:*MEMORY[0x1E69DDD28]];
    [v3 setFont:v6];
  }

  return v3;
}

void sub_1A4E63AFC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E64664(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E657C8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E692B0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A4E6946C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

__CFString *PXActionPhaseDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"?? %ti", a1];
  }

  else
  {
    v2 = off_1E773BB10[a1];
  }

  return v2;
}

void sub_1A4E69A6C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E6A274(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

PXActionProgressToast *PXCreateIndeterminateProgressToastForActionPerformer(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = [v5 delegate];
  if (objc_opt_respondsToSelector())
  {
    v9 = objc_alloc_init(MEMORY[0x1E696AE38]);
    [v9 setTotalUnitCount:-1];
    [v9 setLocalizedDescription:v6];
    [v9 setLocalizedAdditionalDescription:v7];
    v10 = [v8 actionPerformerHostViewControllerForPresentingToast:v5];
    v11 = [PXActionProgressToast alloc];
    v12 = [v10 px_navigationDestination];
    v13 = [(PXActionProgressToast *)v11 initWithTargetDestination:v12 progress:v9];

    if (objc_opt_respondsToSelector())
    {
      [v8 actionPerformerBottomPaddingForPresentingToast:v5];
      [(PXActionProgressToast *)v13 setBottomSpacing:?];
    }
  }

  else
  {
    v13 = 0;
  }

  return v13;
}

BOOL PXPresentRadarAlertForActionPerformer(void *a1, void *a2, void *a3, void *a4, void *a5)
{
  v9 = a2;
  v10 = a3;
  v11 = a4;
  v12 = a5;
  v20[0] = MEMORY[0x1E69E9820];
  v20[1] = 3221225472;
  v20[2] = __PXPresentRadarAlertForActionPerformer_block_invoke;
  v20[3] = &unk_1E774A918;
  v21 = v9;
  v22 = v10;
  v23 = v11;
  v24 = v12;
  v13 = v11;
  v14 = v12;
  v15 = v10;
  v16 = v9;
  v17 = [a1 presentAlertWithConfigurationHandler:v20];
  v18 = v17 != 0;

  return v18;
}

void __PXPresentRadarAlertForActionPerformer_block_invoke(uint64_t a1, void *a2)
{
  v3 = a2;
  [v3 setTitle:*(a1 + 32)];
  [v3 setMessage:*(a1 + 40)];
  v4 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  [v3 addActionWithTitle:v4 style:0 action:*(a1 + 56)];

  v5 = *(a1 + 48);
  if (v5)
  {
    v6[0] = MEMORY[0x1E69E9820];
    v6[1] = 3221225472;
    v6[2] = __PXPresentRadarAlertForActionPerformer_block_invoke_2;
    v6[3] = &unk_1E774C2F0;
    v7 = v5;
    v8 = *(a1 + 56);
    [v3 addActionWithTitle:@"File Radar" style:0 action:v6];
  }
}

void __PXPresentRadarAlertForActionPerformer_block_invoke_2(uint64_t a1)
{
  v2[0] = MEMORY[0x1E69E9820];
  v2[1] = 3221225472;
  v2[2] = __PXPresentRadarAlertForActionPerformer_block_invoke_3;
  v2[3] = &unk_1E7747648;
  v3 = *(a1 + 40);
  [*(a1 + 32) setCompletionHandler:v2];
  PXFileRadarWithConfiguration(*(a1 + 32));
}

uint64_t __PXPresentRadarAlertForActionPerformer_block_invoke_3(uint64_t a1)
{
  result = *(a1 + 32);
  if (result)
  {
    return (*(result + 16))();
  }

  return result;
}

void sub_1A4E723EC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

PXPhotosUIViewController *PXContentSyndicationReviewViewController(uint64_t a1)
{
  v2 = +[PXContentSyndicationSettings sharedInstance];
  v3 = [v2 useSystemLibraryForReview];

  if (v3)
  {
    v4 = 1;
  }

  else
  {
    v4 = 3;
  }

  v5 = [MEMORY[0x1E69789A8] openPhotoLibraryWithWellKnownIdentifier:v4 error:a1];
  v6 = v5;
  if (v5)
  {
    v7 = PXContentSyndicationReviewFetchResultForPhotoLibrary(v5);
    v8 = _DataSourceManagerWithAssetFetchResult(v7);
    v9 = _ViewConfigurationWithDataSourceManager(v8);
    v10 = [[PXPhotosUIViewController alloc] initWithConfiguration:v9];
    [(PXPhotosUIViewController *)v10 setTitle:@"Review Syndicated Assets"];
  }

  else
  {
    v10 = 0;
  }

  return v10;
}

PXPhotoKitAssetsDataSourceManager *_DataSourceManagerWithAssetFetchResult(void *a1)
{
  v10[2] = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager *_DataSourceManagerWithAssetFetchResult(PHFetchResult<PHAsset *> *__strong)"];
    [v8 handleFailureInFunction:v9 file:@"PXContentSyndicationReviewUtilities.m" lineNumber:67 description:{@"Invalid parameter not satisfying: %@", @"assetFetchResult"}];
  }

  v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v1 options:2];
  v3 = *MEMORY[0x1E6978CF0];
  v10[0] = *MEMORY[0x1E6978C18];
  v10[1] = v3;
  v4 = [MEMORY[0x1E695DEC8] arrayWithObjects:v10 count:2];
  [(PXPhotosDataSourceConfiguration *)v2 setFetchPropertySets:v4];

  v5 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  v6 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v5];

  return v6;
}

id _ViewConfigurationWithDataSourceManager(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration *_ViewConfigurationWithDataSourceManager(PXPhotoKitAssetsDataSourceManager *__strong, BOOL)"}];
    [v8 handleFailureInFunction:v9 file:@"PXContentSyndicationReviewUtilities.m" lineNumber:78 description:{@"Invalid parameter not satisfying: %@", @"dataSourceManager"}];
  }

  v2 = [v1 photoLibrary];
  v3 = [PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v2];

  v4 = [(PXPhotoKitAssetActionManager *)[PXContentSyndicationReviewUIActionManager alloc] initWithSelectionManager:0];
  v5 = objc_alloc_init(PXContentSyndicationReviewRadarConfigurationProvider);
  [(PXPhotoKitAssetActionManager *)v4 setRadarConfigurationProvider:v5];
  v6 = [[off_1E7721830 alloc] initWithDataSourceManager:v1 mediaProvider:v3 selectionManager:0 assetActionManager:v4 assetCollectionActionManager:0];
  [v6 setFooterVisibilityStyle:1];
  [v6 setAllowedActions:16544];
  [v6 setAllowedActions:{objc_msgSend(v6, "allowedActions") | 0x80000}];
  [v6 setInfoActionHandler:&__block_literal_global_132635];
  [v6 setAllowedBehaviors:{objc_msgSend(v6, "allowedBehaviors") & 0xFFFFFFFFFFFFFFDFLL}];
  [v6 setContentStartingPosition:1];
  [v6 setDecorationViewClass:objc_opt_class()];

  return v6;
}

PXPhotosUIViewController *PXContentSyndicationProcessingValuesReviewViewController(uint64_t a1)
{
  v1 = [MEMORY[0x1E69789A8] openPhotoLibraryWithWellKnownIdentifier:3 error:a1];
  v2 = v1;
  if (v1)
  {
    v3 = PXContentSyndicationProcessingValuesReviewFetchResultForPhotoLibrary(v1);
    v4 = _DataSourceManagerWithAssetFetchResult(v3);
    v5 = _ViewConfigurationWithDataSourceManager(v4);
    v6 = [[PXPhotosUIViewController alloc] initWithConfiguration:v5];
    [(PXPhotosUIViewController *)v6 setTitle:@"Review Syndication Processing Values"];
  }

  else
  {
    v6 = 0;
  }

  return v6;
}

PXPhotosUIViewController *PXExternalContentReviewViewController(uint64_t a1)
{
  v12[3] = *MEMORY[0x1E69E9840];
  v1 = [MEMORY[0x1E69789A8] openPhotoLibraryWithWellKnownIdentifier:1 error:a1];
  v2 = v1;
  if (v1)
  {
    v3 = [v1 librarySpecificFetchOptions];
    [v3 setIncludeGuestAssets:0];
    v4 = *MEMORY[0x1E6978C90];
    v12[0] = *MEMORY[0x1E6978CF0];
    v12[1] = v4;
    v12[2] = *MEMORY[0x1E6978C20];
    v5 = [MEMORY[0x1E695DEC8] arrayWithObjects:v12 count:3];
    [v3 setFetchPropertySets:v5];

    v6 = [MEMORY[0x1E69C1550] internalPredicateToIncludeExternalAssetsEligibleForProcessing];
    [v3 setInternalPredicate:v6];

    v7 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v3];
    v8 = _DataSourceManagerWithAssetFetchResult(v7);
    v9 = _ViewConfigurationWithDataSourceManager(v8);
    v10 = [[PXPhotosUIViewController alloc] initWithConfiguration:v9];
    [(PXPhotosUIViewController *)v10 setTitle:@"Review External Assets"];
  }

  else
  {
    v10 = 0;
  }

  return v10;
}

void sub_1A4E75DF4(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void PXSetSharedAlbumsActivityLastSeenDateAfterDelay()
{
  v0 = dispatch_time(0, 1000000000);
  v1 = MEMORY[0x1E69E96A0];

  dispatch_after(v0, v1, &__block_literal_global_133023);
}

void __PXSetSharedAlbumsActivityLastSeenDateAfterDelay_block_invoke()
{
  v0 = [MEMORY[0x1E695DF00] now];
  PXSetSharedAlbumsActivityLastSeenDateToDate(v0);
}

void PXSetSharedAlbumsActivityLastSeenDateToDate(void *a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = +[PXSharedAlbumsSettings sharedInstance];
  v3 = [v2 lemonadeActivityPreventUpdatingUnreadState];

  v4 = PLUIGetLog();
  v5 = os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT);
  if (v3)
  {
    if (v5)
    {
      LOWORD(v7) = 0;
      _os_log_impl(&dword_1A3C1C000, v4, OS_LOG_TYPE_DEFAULT, "[SharedAlbumsActivityLastSeen] Skipping updating last seen date", &v7, 2u);
    }
  }

  else
  {
    if (v5)
    {
      v7 = 138543362;
      v8 = v1;
      _os_log_impl(&dword_1A3C1C000, v4, OS_LOG_TYPE_DEFAULT, "[SharedAlbumsActivityLastSeen] Updating 'last seen' date to: %{public}@", &v7, 0xCu);
    }

    v6 = _LastSeenDateValueAccessor();
    [v6 setCurrentValue:v1];

    v4 = PXForYouLastExitedDate();
    if ([v4 compare:v1]== -1)
    {
      PXSetForYouLastExitedDate(v1);
    }
  }
}

BOOL PXSharedAlbumsActivityDateIsUnread(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = +[PXSharedAlbumsSettings sharedInstance];
  v6 = [v5 lemonadeActivityAlwaysAppearUnread];

  v7 = (v6 & 1) != 0 || [v3 compare:v4] == 1;
  return v7;
}

void sub_1A4E78570(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void PXVolumeGainForTargetLoudness(float a1, float a2)
{
  if (a2 != 0.0)
  {
    v2 = a1 - a2;
    if (v2 != 0.0)
    {
      __exp10(v2 / 20.0);
    }
  }
}

__CFString *PXStoryAudioCurveDescription(unint64_t a1)
{
  if (a1 > 4)
  {
    return @"??";
  }

  else
  {
    return off_1E773BE68[a1];
  }
}

float PXVolumeGainForAudioCurveAtTime(uint64_t a1, float a2)
{
  v3 = 0.0;
  if (a2 <= 0.0)
  {
    return v3;
  }

  v3 = 1.0;
  if (a2 >= 1.0)
  {
    return v3;
  }

  v4 = a2;
  if (a1 > 2)
  {
    if (a1 == 3)
    {
      v7 = (1.0 - a2) * -3.0;
    }

    else
    {
      v3 = 0.0;
      if (a1 != 4)
      {
        return v3;
      }

      v6 = v4 * -1.57079633;
      v7 = (sinf(v6) + 1.0) * -3.0;
    }

    return __exp10f(v7);
  }

  v3 = a2;
  if (a1 < 2)
  {
    return v3;
  }

  v3 = 0.0;
  if (a1 != 2)
  {
    return v3;
  }

  v8 = v4 * 1.57079633;
  return sinf(v8);
}

void sub_1A4E7C254(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, id location, char a22)
{
  objc_destroyWeak((v22 + 48));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a22, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__133819(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4E7C87C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXMomentShareAcceptError(void *a1, void *a2)
{
  v14[1] = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = [v4 domain];
  if ([v5 isEqual:*MEMORY[0x1E6978F50]])
  {
    v6 = [v4 code];

    v7 = v4;
    if (v6 == 6003)
    {
      v8 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
      v12[0] = MEMORY[0x1E69E9820];
      v12[1] = 3221225472;
      v12[2] = __PXMomentShareAcceptError_block_invoke;
      v12[3] = &unk_1E773BF38;
      v13 = v3;
      v9 = [PXErrorRecoveryOption recoveryOptionWithTitle:v8 style:0 handler:v12];

      v14[0] = v9;
      v10 = [MEMORY[0x1E695DEC8] arrayWithObjects:v14 count:1];
      v7 = [v4 px_errorWithRecoveryOptions:v10];
    }
  }

  else
  {

    v7 = v4;
  }

  return v7;
}

void __PXMomentShareAcceptError_block_invoke(uint64_t a1, uint64_t a2, void *a3)
{
  v16 = *MEMORY[0x1E69E9840];
  v4 = a3;
  v5 = PLSharingGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    v6 = *(a1 + 32);
    *buf = 138412290;
    v15 = v6;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Will trash moment share: %@", buf, 0xCu);
  }

  v7 = [MEMORY[0x1E69789A8] sharedMomentSharePhotoLibrary];
  v12[0] = MEMORY[0x1E69E9820];
  v12[1] = 3221225472;
  v12[2] = __PXMomentShareAcceptError_block_invoke_191;
  v12[3] = &unk_1E774C648;
  v13 = *(a1 + 32);
  v9[0] = MEMORY[0x1E69E9820];
  v9[1] = 3221225472;
  v9[2] = __PXMomentShareAcceptError_block_invoke_2;
  v9[3] = &unk_1E774BD88;
  v10 = *(a1 + 32);
  v11 = v4;
  v8 = v4;
  [v7 performChanges:v12 completionHandler:v9];
}

void __PXMomentShareAcceptError_block_invoke_191(uint64_t a1)
{
  v3[1] = *MEMORY[0x1E69E9840];
  v1 = MEMORY[0x1E6978938];
  v3[0] = *(a1 + 32);
  v2 = [MEMORY[0x1E695DEC8] arrayWithObjects:v3 count:1];
  [v1 trashMomentShares:v2];
}

void __PXMomentShareAcceptError_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  v14 = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = PLSharingGetLog();
  v7 = v6;
  if (a2)
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      v8 = *(a1 + 32);
      v12 = 138412290;
      v13 = v8;
      v9 = "Did trash moment share: %@";
      v10 = v7;
      v11 = OS_LOG_TYPE_DEFAULT;
LABEL_6:
      _os_log_impl(&dword_1A3C1C000, v10, v11, v9, &v12, 0xCu);
    }
  }

  else if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
  {
    v12 = 138412290;
    v13 = v5;
    v9 = "Unable to trash moment share: %@";
    v10 = v7;
    v11 = OS_LOG_TYPE_ERROR;
    goto LABEL_6;
  }

  (*(*(a1 + 40) + 16))(*(a1 + 40), a2);
}

void PXMomentShareAcceptIfNeeded(void *a1, void *a2)
{
  v15 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  if (!v3)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentShareAcceptIfNeeded(PHMomentShare *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v8 handleFailureInFunction:v9 file:@"PXMomentShareUtilities.m" lineNumber:71 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];
  }

  v5 = [v3 status];
  v6 = PLSharingGetLog();
  v7 = os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT);
  if (v5 == 2)
  {
    if (v7)
    {
      *buf = 138412290;
      v14 = v3;
      _os_log_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_DEFAULT, "Will accept moment share: %@", buf, 0xCu);
    }

    v10[0] = MEMORY[0x1E69E9820];
    v10[1] = 3221225472;
    v10[2] = __PXMomentShareAcceptIfNeeded_block_invoke;
    v10[3] = &unk_1E774BD88;
    v11 = v3;
    v12 = v4;
    [v11 acceptMomentShareWithCompletion:v10];
  }

  else
  {
    if (v7)
    {
      *buf = 138412290;
      v14 = v3;
      _os_log_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_DEFAULT, "No need to accept non-pending moment share: %@", buf, 0xCu);
    }

    if (v4)
    {
      (*(v4 + 2))(v4, 1, 0);
    }
  }
}

void __PXMomentShareAcceptIfNeeded_block_invoke(uint64_t a1, int a2, void *a3)
{
  v25 = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = PLSharingGetLog();
  v7 = v6;
  if (a2)
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      v8 = *(a1 + 32);
      *buf = 138412290;
      v22 = v8;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_DEFAULT, "Successfully accepted moment share: %@", buf, 0xCu);
    }

    v9 = *(a1 + 40);
    if (v9)
    {
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXMomentShareAcceptIfNeeded_block_invoke_208;
      block[3] = &unk_1E774C250;
      v20 = v9;
      dispatch_async(MEMORY[0x1E69E96A0], block);
    }

    v10 = *(a1 + 32);
    v17[0] = MEMORY[0x1E69E9820];
    v17[1] = 3221225472;
    v17[2] = __PXMomentShareAcceptIfNeeded_block_invoke_2;
    v17[3] = &unk_1E774BE98;
    v18 = v10;
    [v18 forceSyncMomentShareWithCompletion:v17];
    v11 = v18;
  }

  else
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      v12 = *(a1 + 32);
      *buf = 138412546;
      v22 = v12;
      v23 = 2112;
      v24 = v5;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_ERROR, "Failed to accept moment share: %@ due to error: %@", buf, 0x16u);
    }

    v11 = PXMomentShareAcceptError(*(a1 + 32), v5);
    v13 = *(a1 + 40);
    if (v13)
    {
      v14[0] = MEMORY[0x1E69E9820];
      v14[1] = 3221225472;
      v14[2] = __PXMomentShareAcceptIfNeeded_block_invoke_210;
      v14[3] = &unk_1E774C2F0;
      v16 = v13;
      v11 = v11;
      v15 = v11;
      dispatch_async(MEMORY[0x1E69E96A0], v14);
    }
  }
}

void __PXMomentShareAcceptIfNeeded_block_invoke_2(uint64_t a1, void *a2)
{
  v15 = *MEMORY[0x1E69E9840];
  v3 = a2;
  v4 = PLSharingGetLog();
  v5 = os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT);
  if (v3)
  {
    if (v5)
    {
      v6 = *(a1 + 32);
      v11 = 138412546;
      v12 = v6;
      v13 = 2112;
      v14 = v3;
      v7 = "Unable to force sync moment share %@: %@";
      v8 = v4;
      v9 = 22;
LABEL_6:
      _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_DEFAULT, v7, &v11, v9);
    }
  }

  else if (v5)
  {
    v10 = *(a1 + 32);
    v11 = 138412290;
    v12 = v10;
    v7 = "Force sync moment share %@";
    v8 = v4;
    v9 = 12;
    goto LABEL_6;
  }
}

void _PXDeleteMomentShareForURL(void *a1, uint64_t a2, void *a3)
{
  v27 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a3;
  if (v5)
  {
    v7 = v5;
  }

  else
  {
    v19 = [MEMORY[0x1E696AAA8] currentHandler];
    v20 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXDeleteMomentShareForURL(NSURL *__strong, BOOL, PXMomentShareDeletionHandler  _Nullable __strong)"}];
    [v19 handleFailureInFunction:v20 file:@"PXMomentShareUtilities.m" lineNumber:146 description:{@"Invalid parameter not satisfying: %@", @"url"}];

    v7 = 0;
  }

  v8 = PXFetchAssetCollectionForCMMShareURL(v7, 0, 0);
  v9 = [v8 firstObject];
  if ([v9 assetCollectionType] == 7)
  {
    v10 = v9;
  }

  else
  {
    v10 = 0;
  }

  v11 = v10;
  v12 = @"trash";
  if (a2)
  {
    v12 = @"expunge";
  }

  v13 = v12;
  v14 = PLSharingGetLog();
  v15 = os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT);
  if (v11)
  {
    if (v15)
    {
      v16 = [v5 pl_redactedShareURL];
      *buf = 138412546;
      v24 = v13;
      v25 = 2114;
      v26 = v16;
      _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_DEFAULT, "Will %@ moment share for URL: %{public}@", buf, 0x16u);
    }

    v22 = v11;
    v17 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v22 count:1];
    v21[0] = MEMORY[0x1E69E9820];
    v21[1] = 3221225472;
    v21[2] = ___PXDeleteMomentShareForURL_block_invoke;
    v21[3] = &unk_1E774ACE8;
    v21[4] = v13;
    v21[5] = v5;
    v21[6] = v6;
    _PXDeleteMomentShares(v17, a2, v21);
  }

  if (v15)
  {
    v18 = [v5 pl_redactedShareURL];
    *buf = 138412546;
    v24 = v13;
    v25 = 2114;
    v26 = v18;
    _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_DEFAULT, "No moment share found to %@ for url %{public}@", buf, 0x16u);
  }

  if (v6)
  {
    (*(v6 + 2))(v6, 1, 0);
  }
}

void _PXDeleteMomentShares(void *a1, uint64_t a2, void *a3)
{
  v7 = *MEMORY[0x1E69E9840];
  v4 = a3;
  if (![a1 count])
  {
    v5 = [MEMORY[0x1E696AAA8] currentHandler];
    v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXDeleteMomentShares(__strong id<PXFastEnumeration>, BOOL, PXMomentShareDeletionHandler  _Nullable __strong)"}];
    [v5 handleFailureInFunction:v6 file:@"PXMomentShareUtilities.m" lineNumber:113 description:{@"Invalid parameter not satisfying: %@", @"momentShares.count"}];
  }

  PXMap();
}

void PXTrashMomentShare(void *a1, void *a2)
{
  v7[1] = *MEMORY[0x1E69E9840];
  v7[0] = a1;
  v3 = MEMORY[0x1E695DEC8];
  v4 = a2;
  v5 = a1;
  v6 = [v3 arrayWithObjects:v7 count:1];

  _PXDeleteMomentShares(v6, 0, v4);
}

void PXExpungeMomentShare(void *a1, void *a2)
{
  v7[1] = *MEMORY[0x1E69E9840];
  v7[0] = a1;
  v3 = MEMORY[0x1E695DEC8];
  v4 = a2;
  v5 = a1;
  v6 = [v3 arrayWithObjects:v7 count:1];

  _PXDeleteMomentShares(v6, 1, v4);
}

uint64_t PXMomentShareTypeForError(void *a1)
{
  v1 = a1;
  v2 = [v1 domain];
  if ([v2 isEqualToString:*MEMORY[0x1E6978F50]])
  {
    v3 = [v1 code];
    if (v3 <= 6008)
    {
      if (v3 <= 6005)
      {
        if (v3 != 6001)
        {
          v4 = 3;
          if (v3 != 6004)
          {
            v4 = 0;
          }

          if (v3 == 6003)
          {
            v5 = 4;
          }

          else
          {
            v5 = v4;
          }

          goto LABEL_37;
        }

LABEL_19:
        v5 = 1;
        goto LABEL_37;
      }

      if (v3 == 6006)
      {
        v5 = 6;
        goto LABEL_37;
      }

      if (v3 == 6007)
      {
        v5 = 7;
        goto LABEL_37;
      }

LABEL_29:
      v5 = 5;
      goto LABEL_37;
    }

    if (v3 > 8000)
    {
      if (v3 == 8001)
      {
        goto LABEL_29;
      }

      v8 = v3 == 9999;
      v9 = 9;
    }

    else
    {
      if ((v3 - 6009) < 2)
      {
        goto LABEL_19;
      }

      v8 = v3 == 6012;
      v9 = 10;
    }

    if (v8)
    {
      v5 = v9;
    }

    else
    {
      v5 = 0;
    }

    goto LABEL_37;
  }

  if (![v2 isEqualToString:@"PXCMMErrorDomain"])
  {
LABEL_26:
    v5 = 0;
    goto LABEL_37;
  }

  v6 = [v1 code];
  if (v6 > -1101)
  {
    if (v6 == -1010)
    {
      v5 = 8;
      goto LABEL_37;
    }

    if (v6 == -1100)
    {
      v5 = 3;
      goto LABEL_37;
    }

    goto LABEL_26;
  }

  v7 = 4;
  if (v6 != -1101)
  {
    v7 = 0;
  }

  if (v6 == -1102)
  {
    v5 = 2;
  }

  else
  {
    v5 = v7;
  }

LABEL_37:

  return v5;
}

id PXParticipantFetchResultForMomentShare(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PHFetchResult<PHShareParticipant *> * _Nullable PXParticipantFetchResultForMomentShare(PHMomentShare *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8 file:@"PXMomentShareUtilities.m" lineNumber:256 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];
  }

  if ([v1 px_momentShareType] == 1)
  {
    v2 = [MEMORY[0x1E69789A8] sharedMomentSharePhotoLibrary];
    v3 = [v2 librarySpecificFetchOptions];

    v4 = [MEMORY[0x1E696AE18] predicateWithFormat:@"%K == %d", @"role", 1];
    [v3 setPredicate:v4];

    v5 = [MEMORY[0x1E6978AC0] fetchParticipantsInShare:v1 options:v3];
  }

  else
  {
    v5 = 0;
  }

  return v5;
}

id PXOwnerForMomentShareParticipantFetchResult(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v10 = [MEMORY[0x1E696AAA8] currentHandler];
    v11 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"id<PXCMMInvitationParticipant>  _Nullable PXOwnerForMomentShareParticipantFetchResult(PHFetchResult<PHShareParticipant *> *__strong _Nonnull, PHMomentShare *__strong _Nonnull)"}];
    [v10 handleFailureInFunction:v11 file:@"PXMomentShareUtilities.m" lineNumber:270 description:{@"Invalid parameter not satisfying: %@", @"participantsFetchResult"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v12 = [MEMORY[0x1E696AAA8] currentHandler];
  v13 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"id<PXCMMInvitationParticipant>  _Nullable PXOwnerForMomentShareParticipantFetchResult(PHFetchResult<PHShareParticipant *> *__strong _Nonnull, PHMomentShare *__strong _Nonnull)"}];
  [v12 handleFailureInFunction:v13 file:@"PXMomentShareUtilities.m" lineNumber:271 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];

LABEL_3:
  if ([v5 px_momentShareType] == 1)
  {
    v6 = [v3 firstObject];
    v7 = v6;
    if (!v6)
    {
      PXAssertGetLog();
    }

    v8 = PXRecipientFromShareParticipant(v6);
  }

  else
  {
    v8 = 0;
  }

  return v8;
}

uint64_t PXMomentShareAssetOriginForMomentShare(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXMomentShareAssetOrigin PXMomentShareAssetOriginForMomentShare(PHMomentShare *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5 file:@"PXMomentShareUtilities.m" lineNumber:287 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];
  }

  if ([v1 px_momentShareType])
  {
    v2 = 2;
  }

  else
  {
    v2 = 1;
  }

  return v2;
}

BOOL PXCanAttemptToRevealMomentSharedAsset(void *a1, uint64_t a2)
{
  v3 = a1;
  if (v3)
  {
    if (!a2)
    {
LABEL_6:
      [v3 fetchPropertySetsIfNeeded];
      v7 = [v3 destinationAssetCopyProperties];
      v4 = [v7 destinationAssetCopyState] == 2;

      goto LABEL_7;
    }
  }

  else
  {
    v5 = [MEMORY[0x1E696AAA8] currentHandler];
    v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXCanAttemptToRevealMomentSharedAsset(PHAsset *__strong _Nonnull, PXMomentShareAssetOrigin)"}];
    [v5 handleFailureInFunction:v6 file:@"PXMomentShareUtilities.m" lineNumber:295 description:{@"Invalid parameter not satisfying: %@", @"asset"}];

    if (!a2)
    {
      goto LABEL_6;
    }
  }

  if (a2 == 2)
  {
    goto LABEL_6;
  }

  v4 = a2 == 1;
LABEL_7:

  return v4;
}

id PXAssetToRevealForMomentSharedAsset(void *a1, uint64_t a2, void *a3)
{
  v5 = a1;
  v6 = a3;
  if (!v6)
  {
    v15 = [MEMORY[0x1E696AAA8] currentHandler];
    v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHAsset * _Nullable PXAssetToRevealForMomentSharedAsset(PHAsset *__strong _Nonnull, PXMomentShareAssetOrigin, PHPhotoLibrary *__strong _Nonnull)"}];
    [v15 handleFailureInFunction:v16 file:@"PXMomentShareUtilities.m" lineNumber:312 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  if (PXCanAttemptToRevealMomentSharedAsset(v5, a2))
  {
    v7 = [v5 pl_managedAsset];
    v8 = [v7 additionalAttributes];
    v9 = [v8 originalStableHash];

    if ([v9 length])
    {
      v10 = [MEMORY[0x1E6978830] fetchOptionsWithInclusiveDefaultsForPhotoLibrary:v6];
      [v10 setIncludeAssetSourceTypes:1];
      v11 = [MEMORY[0x1E696AE18] predicateWithFormat:@"%K = %@", @"additionalAttributes.originalStableHash", v9];
      [v10 setInternalPredicate:v11];

      v12 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v10];
      v13 = [v12 firstObject];
    }

    else
    {
      v13 = 0;
    }
  }

  else
  {
    v13 = 0;
  }

  return v13;
}

id PXCuratedAssetsWithFallbackForMomentShare(void *a1, uint64_t a2)
{
  v3 = a1;
  if (!v3)
  {
    v11 = [MEMORY[0x1E696AAA8] currentHandler];
    v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAsset *> * _Nonnull PXCuratedAssetsWithFallbackForMomentShare(PHMomentShare *__strong _Nonnull, BOOL)"}];
    [v11 handleFailureInFunction:v12 file:@"PXMomentShareUtilities.m" lineNumber:331 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];
  }

  v4 = [v3 photoLibrary];
  v5 = [v4 librarySpecificFetchOptions];

  [v5 setIncludePlaceholderAssets:a2];
  v6 = [v3 preview];
  v7 = [v6 curatedAssetIdentifiers];
  v8 = [v7 count];

  if (v8)
  {
    [MEMORY[0x1E6978630] fetchCuratedAssetsInAssetCollection:v3 options:v5];
  }

  else
  {
    [v5 setFetchLimit:10];
    [MEMORY[0x1E6978630] fetchAssetsInAssetCollection:v3 options:v5];
  }
  v9 = ;

  return v9;
}

uint64_t _SupportsSavingAssetsToLibrary(void *a1, uint64_t *a2, uint64_t a3, void *a4)
{
  v25 = *MEMORY[0x1E69E9840];
  v7 = a1;
  v8 = a4;
  if (![v7 count])
  {
    v18 = [MEMORY[0x1E696AAA8] currentHandler];
    v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL _SupportsSavingAssetsToLibrary(__strong id<PXFastEnumeration>, NSUInteger * _Nullable, PXDisplayAssetMediaType * _Nullable, PHFetchResult<PHAsset *> *(^ _Nullable __strong)(void))"}];
    [v18 handleFailureInFunction:v19 file:@"PXMomentShareUtilities.m" lineNumber:367 description:{@"Invalid parameter not satisfying: %@", @"momentShares.count"}];
  }

  v22 = 0u;
  v23 = 0u;
  v20 = 0u;
  v21 = 0u;
  v9 = v7;
  v10 = [v9 countByEnumeratingWithState:&v20 objects:v24 count:16];
  if (v10)
  {
    v11 = v10;
    v12 = *v21;
LABEL_5:
    v13 = 0;
    while (1)
    {
      if (*v21 != v12)
      {
        objc_enumerationMutation(v9);
      }

      if ([*(*(&v20 + 1) + 8 * v13) status] != 3)
      {
        break;
      }

      v14 = v8[2](v8);
      v15 = [v14 count];
      if (a2)
      {
        *a2 = v15;
      }

      if (a3)
      {
        PXMediaTypeForAssets();
      }

      if (v11 == ++v13)
      {
        v11 = [v9 countByEnumeratingWithState:&v20 objects:v24 count:16];
        if (v11)
        {
          goto LABEL_5;
        }

        v16 = 1;
        goto LABEL_17;
      }
    }
  }

  v16 = 0;
LABEL_17:

  return v16;
}

uint64_t PXMomentSharesSupportsSavingAssetsToLibrary(void *a1, uint64_t *a2, uint64_t a3)
{
  v5 = a1;
  v9[0] = MEMORY[0x1E69E9820];
  v9[1] = 3221225472;
  v9[2] = __PXMomentSharesSupportsSavingAssetsToLibrary_block_invoke;
  v9[3] = &unk_1E7743C20;
  v10 = v5;
  v6 = v5;
  v7 = _SupportsSavingAssetsToLibrary(v6, a2, a3, v9);

  return v7;
}

id _FetchAssetsToSave(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  if (![v3 count])
  {
    v11 = [MEMORY[0x1E696AAA8] currentHandler];
    v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAsset *> *_FetchAssetsToSave(__strong id<PXFastEnumeration>, void (^ _Nullable __strong)(PHFetchOptions *__strong))"}];
    [v11 handleFailureInFunction:v12 file:@"PXMomentShareUtilities.m" lineNumber:354 description:{@"Invalid parameter not satisfying: %@", @"momentShares.count"}];
  }

  v5 = [v3 firstObject];
  v6 = [v5 photoLibrary];
  v7 = [v6 librarySpecificFetchOptions];

  v8 = [MEMORY[0x1E696AE18] predicateWithFormat:@"%K == %d || %K == %d", @"additionalAttributes.destinationAssetCopyState", 0, @"additionalAttributes.destinationAssetCopyState", -1];
  [v7 setInternalPredicate:v8];

  if (v4)
  {
    v4[2](v4, v7);
  }

  v9 = [MEMORY[0x1E6978630] fetchAssetsInAssetCollections:v3 options:v7];

  return v9;
}

uint64_t PXMomentShareSupportsSavingAssetsToLibrary(void *a1, void *a2, uint64_t *a3, uint64_t a4)
{
  v17[1] = *MEMORY[0x1E69E9840];
  v7 = a1;
  v8 = a2;
  v17[0] = v7;
  v9 = [MEMORY[0x1E695DEC8] arrayWithObjects:v17 count:1];
  v14[0] = MEMORY[0x1E69E9820];
  v14[1] = 3221225472;
  v14[2] = __PXMomentShareSupportsSavingAssetsToLibrary_block_invoke;
  v14[3] = &unk_1E773E030;
  v15 = v8;
  v16 = v7;
  v10 = v7;
  v11 = v8;
  v12 = _SupportsSavingAssetsToLibrary(v9, a3, a4, v14);

  return v12;
}

id __PXMomentShareSupportsSavingAssetsToLibrary_block_invoke(uint64_t a1)
{
  v5[2] = *MEMORY[0x1E69E9840];
  if ([*(a1 + 32) count])
  {
    PXMap();
  }

  v5[0] = *(a1 + 40);
  v2 = [MEMORY[0x1E695DEC8] arrayWithObjects:v5 count:1];
  v3 = _FetchAssetsToSave(v2, 0);

  return v3;
}

BOOL PXMomentShareIsAccepted(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXMomentShareIsAccepted(PHMomentShare *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5 file:@"PXMomentShareUtilities.m" lineNumber:422 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];
  }

  v2 = [v1 status] == 3;

  return v2;
}

BOOL PXMomentShareCanSaveAssetToLibrary(void *a1, void *a2, _BYTE *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = v6;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }

LABEL_9:
    v15 = [MEMORY[0x1E696AAA8] currentHandler];
    v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXMomentShareCanSaveAssetToLibrary(PHAsset *__strong _Nonnull, PHMomentShare *__strong _Nonnull, BOOL * _Nullable)"}];
    [v15 handleFailureInFunction:v16 file:@"PXMomentShareUtilities.m" lineNumber:431 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];

    if (!PXMomentShareIsAccepted(0))
    {
      goto LABEL_10;
    }

    goto LABEL_4;
  }

  v13 = [MEMORY[0x1E696AAA8] currentHandler];
  v14 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXMomentShareCanSaveAssetToLibrary(PHAsset *__strong _Nonnull, PHMomentShare *__strong _Nonnull, BOOL * _Nullable)"}];
  [v13 handleFailureInFunction:v14 file:@"PXMomentShareUtilities.m" lineNumber:430 description:{@"Invalid parameter not satisfying: %@", @"asset"}];

  if (!v7)
  {
    goto LABEL_9;
  }

LABEL_3:
  v8 = v7;
  v9 = [v8 status];

  if (v9 != 3)
  {
LABEL_10:
    v12 = 0;
    goto LABEL_11;
  }

LABEL_4:
  if ([v5 sourceType] != 8)
  {
    goto LABEL_10;
  }

  [v5 fetchPropertySetsIfNeeded];
  v10 = [v5 destinationAssetCopyProperties];
  v11 = [v10 destinationAssetCopyState];

  v12 = (v11 + 1) < 2;
  if (a3 && (v11 + 1) <= 1)
  {
    *a3 = 0;
    v12 = 1;
  }

LABEL_11:

  return v12;
}

void PXMomentShareSaveAssetsToLibrary(void *a1, char a2, void *a3, void *a4, void *a5)
{
  v33 = *MEMORY[0x1E69E9840];
  v9 = a1;
  v10 = a3;
  v11 = a4;
  v12 = a5;
  if ([v9 count])
  {
    if (v10)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v19 = [MEMORY[0x1E696AAA8] currentHandler];
    v20 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentShareSaveAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, BOOL, PHPhotoLibrary *__strong _Nonnull, NSString * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v19 handleFailureInFunction:v20 file:@"PXMomentShareUtilities.m" lineNumber:458 description:{@"Invalid parameter not satisfying: %@", @"assets.count"}];

    if (v10)
    {
      goto LABEL_3;
    }
  }

  v21 = [MEMORY[0x1E696AAA8] currentHandler];
  v22 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentShareSaveAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, BOOL, PHPhotoLibrary *__strong _Nonnull, NSString * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v21 handleFailureInFunction:v22 file:@"PXMomentShareUtilities.m" lineNumber:459 description:{@"Invalid parameter not satisfying: %@", @"destinationPhotoLibrary"}];

LABEL_3:
  if (PXMomentShareSaveAssetsToLibrary_predicate != -1)
  {
    dispatch_once(&PXMomentShareSaveAssetsToLibrary_predicate, &__block_literal_global_249_134023);
  }

  v13 = PLSharingGetLog();
  if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 134218242;
    v30 = [v9 count];
    v31 = 2112;
    v32 = v10;
    _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_DEFAULT, "PXMomentShareSaveAssetsToLibrary: Will save %lu assets to photo library: %@", buf, 0x16u);
  }

  v14 = PXMomentShareSaveAssetsToLibrary_serialQueue;
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_251;
  block[3] = &unk_1E7742708;
  v28 = a2;
  v24 = v9;
  v25 = v10;
  v26 = v11;
  v27 = v12;
  v15 = v12;
  v16 = v11;
  v17 = v10;
  v18 = v9;
  dispatch_async(v14, block);
}

void __PXMomentShareSaveAssetsToLibrary_block_invoke_251(uint64_t a1)
{
  v35 = *MEMORY[0x1E69E9840];
  v2 = PLSharingGetLog();
  v3 = os_signpost_id_generate(v2);
  v4 = v2;
  v5 = v4;
  if (v3 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v4))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v5, OS_SIGNPOST_INTERVAL_BEGIN, v3, "MomentShareSaveAssetsToLibrary", "", buf, 2u);
  }

  if (*(a1 + 64) == 1)
  {
    PXMap();
  }

  v6 = *(a1 + 32);
  if ([v6 count])
  {
    v7 = *(a1 + 40);
    v26[0] = MEMORY[0x1E69E9820];
    v26[1] = 3221225472;
    v26[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_2;
    v26[3] = &unk_1E774C620;
    v8 = v6;
    v27 = v8;
    v28 = *(a1 + 48);
    v25 = 0;
    v9 = [v7 performChangesAndWait:v26 error:&v25];
    v10 = v25;
    v11 = v5;
    v12 = v11;
    if (v3 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v11))
    {
      *buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v12, OS_SIGNPOST_INTERVAL_END, v3, "MomentShareSaveAssetsToLibrary", "", buf, 2u);
    }

    v13 = PLSharingGetLog();
    v14 = v13;
    if (v9)
    {
      if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
      {
        v15 = [v8 count];
        v16 = *(a1 + 40);
        *buf = 134218242;
        v32 = v15;
        v33 = 2112;
        v34 = v16;
        _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_DEFAULT, "PXMomentShareSaveAssetsToLibrary: Did save %lu assets to photo library: %@", buf, 0x16u);
      }

      v17 = MEMORY[0x1E6991F28];
      v29 = *MEMORY[0x1E6991E20];
      v30 = @"PXMomentShareAddAssetsToLibrary";
      v14 = [MEMORY[0x1E695DF20] dictionaryWithObjects:&v30 forKeys:&v29 count:1];
      [v17 sendEvent:@"com.apple.photos.CPAnalytics.cmmAddAssetToLibrary" withPayload:v14];
    }

    else if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
    {
      *buf = 138412290;
      v32 = v10;
      _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_ERROR, "PXMomentShareSaveAssetsToLibrary: Failed to save assets to photo library: %@", buf, 0xCu);
    }

    v20 = *(a1 + 56);
    if (v20)
    {
      v23[0] = MEMORY[0x1E69E9820];
      v23[1] = 3221225472;
      v23[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_266;
      v23[3] = &unk_1E774C250;
      v24 = v20;
      dispatch_async(MEMORY[0x1E69E96A0], v23);
    }

    goto LABEL_23;
  }

  v18 = PLSharingGetLog();
  if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v18, OS_LOG_TYPE_DEFAULT, "PXMomentShareSaveAssetsToLibrary: Re-fetch returned no assets", buf, 2u);
  }

  v19 = *(a1 + 56);
  if (v19)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_267;
    block[3] = &unk_1E774C250;
    v22 = v19;
    dispatch_async(MEMORY[0x1E69E96A0], block);
    v10 = v22;
LABEL_23:
  }
}

void __PXMomentShareSaveAssetsToLibrary_block_invoke_2(uint64_t a1)
{
  v17 = *MEMORY[0x1E69E9840];
  v2 = objc_alloc_init(MEMORY[0x1E6978690]);
  [v2 setShouldDownloadOrCloudReReferenceMissingResources:1];
  v14 = 0u;
  v15 = 0u;
  v12 = 0u;
  v13 = 0u;
  v3 = *(a1 + 32);
  v4 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
  if (v4)
  {
    v5 = v4;
    v6 = *v13;
    do
    {
      v7 = 0;
      do
      {
        if (*v13 != v6)
        {
          objc_enumerationMutation(v3);
        }

        v8 = [MEMORY[0x1E6978698] creationRequestForAssetCopyFromAsset:*(*(&v12 + 1) + 8 * v7) options:{v2, v12}];
        v9 = v8;
        if (*(a1 + 40))
        {
          [v8 setImportSessionID:?];
        }

        else
        {
          v10 = [MEMORY[0x1E696AFB0] UUID];
          v11 = [v10 UUIDString];
          [v9 setImportSessionID:v11];
        }

        ++v7;
      }

      while (v5 != v7);
      v5 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
    }

    while (v5);
  }
}

void __PXMomentShareSaveAssetsToLibrary_block_invoke()
{
  v0 = dispatch_queue_attr_make_with_autorelease_frequency(0, DISPATCH_AUTORELEASE_FREQUENCY_WORK_ITEM);
  attr = dispatch_queue_attr_make_with_qos_class(v0, QOS_CLASS_USER_INITIATED, 0);

  v1 = dispatch_queue_create("com.apple.photos.PXMomentShareUtilitiesQueue", attr);
  v2 = PXMomentShareSaveAssetsToLibrary_serialQueue;
  PXMomentShareSaveAssetsToLibrary_serialQueue = v1;
}

void PXMenuItemTitleForSavingMomentShareAssetsToLibrary(uint64_t a1, uint64_t a2)
{
  if (!a1)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nonnull PXMenuItemTitleForSavingMomentShareAssetsToLibrary(NSUInteger, PXDisplayAssetMediaType)"}];
    [v3 handleFailureInFunction:v4 file:@"PXMomentShareUtilities.m" lineNumber:526 description:{@"Invalid parameter not satisfying: %@", @"numberOfAssetsToSave"}];

    a1 = 0;
  }

  PXLocalizedAssetCountForUsage(a1, a2, 0, 12);
}

void PXMomentShareSaveAllAssetsToLibrary(void *a1, void *a2, void *a3)
{
  v13 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if ([v5 count])
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentShareSaveAllAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, PHPhotoLibrary *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v9 handleFailureInFunction:v10 file:@"PXMomentShareUtilities.m" lineNumber:533 description:{@"Invalid parameter not satisfying: %@", @"momentShares.count"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v11 = [MEMORY[0x1E696AAA8] currentHandler];
  v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentShareSaveAllAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, PHPhotoLibrary *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v11 handleFailureInFunction:v12 file:@"PXMomentShareUtilities.m" lineNumber:534 description:{@"Invalid parameter not satisfying: %@", @"destinationPhotoLibrary"}];

LABEL_3:
  v8 = _FetchAssetsToSave(v5, &__block_literal_global_273_134051);
  if (![v8 count])
  {
    PXMap();
  }

  PXMomentShareSaveAssetsToLibrary(v8, 0, v6, 0, v7);
}

void __PXMomentShareSaveAllAssetsToLibrary_block_invoke(uint64_t a1, void *a2)
{
  v6[1] = *MEMORY[0x1E69E9840];
  v2 = MEMORY[0x1E696AEB0];
  v3 = a2;
  v4 = [v2 sortDescriptorWithKey:@"creationDate" ascending:1];
  v6[0] = v4;
  v5 = [MEMORY[0x1E695DEC8] arrayWithObjects:v6 count:1];
  [v3 setSortDescriptors:v5];
}

void PXMomentShareRequestNotificationOnUploadCompletion(void *a1, unint64_t a2, void *a3)
{
  v30 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a3;
  if (!v5)
  {
    v15 = [MEMORY[0x1E696AAA8] currentHandler];
    v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentShareRequestNotificationOnUploadCompletion(PHMomentShare *__strong _Nonnull, NSInteger, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v15 handleFailureInFunction:v16 file:@"PXMomentShareUtilities.m" lineNumber:550 description:{@"Invalid parameter not satisfying: %@", @"momentShare"}];
  }

  v7 = [v5 status];
  if ((v7 & 0xFFFE) == 2)
  {
    v8 = [v5 photoLibrary];
    v9 = [v8 librarySpecificFetchOptions];

    if ((a2 & 0x8000000000000000) != 0)
    {
      v10 = [MEMORY[0x1E6978630] fetchAssetsInAssetCollection:v5 options:v9];
      a2 = [v10 count];
    }

    v11 = [v5 assetCount];

    if (a2 < v11)
    {
      v12 = [MEMORY[0x1E69789A8] sharedMomentSharePhotoLibrary];
      v20[0] = MEMORY[0x1E69E9820];
      v20[1] = 3221225472;
      v20[2] = __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke;
      v20[3] = &unk_1E774C648;
      v21 = v5;
      v17[0] = MEMORY[0x1E69E9820];
      v17[1] = 3221225472;
      v17[2] = __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke_2;
      v17[3] = &unk_1E774BD88;
      v18 = v21;
      v19 = v6;
      [v12 performChanges:v20 completionHandler:v17];

      goto LABEL_13;
    }
  }

  else
  {
    a2 = -1;
  }

  v13 = PLSharingGetLog();
  if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
  {
    v14 = [v5 uuid];
    *buf = 138544130;
    v23 = v14;
    v24 = 1024;
    v25 = v7;
    v26 = 2048;
    v27 = a2;
    v28 = 2048;
    v29 = [v5 assetCount];
    _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_DEFAULT, "No need to notify on upload completion for moment share: %{public}@ (status: %hu, counts: %ld vs. %lu)", buf, 0x26u);
  }

  if (v6)
  {
    (*(v6 + 2))(v6, 1, 0);
  }

LABEL_13:
}

void __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke(uint64_t a1)
{
  v1 = [MEMORY[0x1E6978938] changeRequestForMomentShare:*(a1 + 32)];
  [v1 setShouldNotifyOnUploadCompletion:1];
}

void __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v22 = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = PLSharingGetLog();
  v7 = v6;
  if (a2)
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_7;
    }

    v8 = [*(a1 + 32) uuid];
    *buf = 138543362;
    v19 = v8;
    v9 = "Requested notification on upload completion for moment share: %{public}@";
    v10 = v7;
    v11 = OS_LOG_TYPE_DEFAULT;
    v12 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_7;
    }

    v8 = [*(a1 + 32) uuid];
    *buf = 138543618;
    v19 = v8;
    v20 = 2112;
    v21 = v5;
    v9 = "Failed request notification on upload completion for moment share: %{public}@, error: %@";
    v10 = v7;
    v11 = OS_LOG_TYPE_ERROR;
    v12 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v10, v11, v9, buf, v12);

LABEL_7:
  v13 = *(a1 + 40);
  if (v13)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke_277;
    block[3] = &unk_1E774A940;
    v16 = v13;
    v17 = a2;
    v15 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }
}

void PXMomentSharePresentRetryAlertForFetchFailure(void *a1, void *a2, void *a3)
{
  v32 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = v7;
  if (!v6)
  {
    v20 = [MEMORY[0x1E696AAA8] currentHandler];
    v21 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentSharePresentRetryAlertForFetchFailure(NSError * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL))"}];
    [v20 handleFailureInFunction:v21 file:@"PXMomentShareUtilities.m" lineNumber:592 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

    if (v8)
    {
      goto LABEL_3;
    }

LABEL_22:
    v22 = [MEMORY[0x1E696AAA8] currentHandler];
    v23 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXMomentSharePresentRetryAlertForFetchFailure(NSError * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL))"}];
    [v22 handleFailureInFunction:v23 file:@"PXMomentShareUtilities.m" lineNumber:593 description:{@"Invalid parameter not satisfying: %@", @"completionHandler"}];

    goto LABEL_3;
  }

  if (!v7)
  {
    goto LABEL_22;
  }

LABEL_3:
  v9 = [v5 domain];
  if ([v9 isEqualToString:*MEMORY[0x1E6978F50]] && (objc_msgSend(v5, "code") == 6001 || objc_msgSend(v5, "code") == 6009))
  {

LABEL_9:
    v12 = PXLocalizedStringFromTable(@"PXNetworkErrorMessage", @"PhotosUICore");
    v13 = 1;
    goto LABEL_12;
  }

  v10 = [v5 domain];
  if ([v10 isEqualToString:@"PXCMMErrorDomain"])
  {
    v11 = [v5 code];

    if (v11 == -1011)
    {
      goto LABEL_9;
    }
  }

  else
  {
  }

  v13 = 0;
  v12 = 0;
LABEL_12:
  v14 = PLSharingGetLog();
  if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
  {
    v15 = @"without";
    if (v13)
    {
      v15 = @"with";
    }

    *buf = 138412546;
    v29 = v15;
    v30 = 2112;
    v31 = v5;
    _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_DEFAULT, "Failure Alert: Will present alert %@ the option to retry for error: %@", buf, 0x16u);
  }

  v24[0] = MEMORY[0x1E69E9820];
  v24[1] = 3221225472;
  v24[2] = __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke;
  v24[3] = &unk_1E773BFA0;
  v25 = v12;
  v16 = v8;
  v26 = v16;
  v27 = v13;
  v17 = v12;
  v18 = [v6 presentAlertWithConfigurationHandler:v24];
  if (!v18)
  {
    v19 = PLSharingGetLog();
    if (os_log_type_enabled(v19, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v19, OS_LOG_TYPE_ERROR, "Failure Alert: Failed to present alert", buf, 2u);
    }

    (*(v16 + 2))(v16, 0);
  }
}

void __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = PXLocalizedStringFromTable(@"PXCMMOpenInPhotosFailureAlertTitle", @"PhotosUICore");
  [v3 setTitle:v4];

  [v3 setMessage:*(a1 + 32)];
  v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v9[0] = MEMORY[0x1E69E9820];
  v9[1] = 3221225472;
  v9[2] = __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_2;
  v9[3] = &unk_1E774C250;
  v10 = *(a1 + 40);
  [v3 addActionWithTitle:v5 style:0 action:v9];

  if (*(a1 + 48) == 1)
  {
    v6 = PXLocalizedStringFromTable(@"PXTryAgainButtonTitle", @"PhotosUICore");
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_299;
    v7[3] = &unk_1E774C250;
    v8 = *(a1 + 40);
    [v3 addActionWithTitle:v6 style:0 action:v7];
  }
}

uint64_t __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_2(uint64_t a1)
{
  v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Failure Alert: User dismissed the alert requesting to NOT retry", v4, 2u);
  }

  return (*(*(a1 + 32) + 16))();
}

uint64_t __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_299(uint64_t a1)
{
  v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Failure Alert: User dismissed the alert requesting TO retry", v4, 2u);
  }

  return (*(*(a1 + 32) + 16))();
}

id PXMenuItemTitleForTrashingMomentShares(void *a1)
{
  v1 = a1;
  if (![v1 count])
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXMenuItemTitleForTrashingMomentShares(__strong id<PXFastEnumeration> _Nonnull)"];
    [v7 handleFailureInFunction:v8 file:@"PXMomentShareUtilities.m" lineNumber:646 description:{@"Invalid parameter not satisfying: %@", @"momentShares.count"}];
  }

  v15 = 0uLL;
  _CountsOfMomentSharesByType(v1, &v15 + 1, &v15);
  v2 = *(&v15 + 1);
  v3 = v15;
  if (v15 == 0)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXMenuItemTitleForTrashingMomentShares(__strong id<PXFastEnumeration> _Nonnull)"];
    [v9 handleFailureInFunction:v10 file:@"PXMomentShareUtilities.m" lineNumber:650 description:{@"Invalid parameter not satisfying: %@", @"countOfSent || countOfReceived"}];

    v2 = *(&v15 + 1);
    v3 = v15;
    if (!*(&v15 + 1))
    {
      goto LABEL_10;
    }
  }

  else if (!*(&v15 + 1))
  {
    goto LABEL_10;
  }

  if (!v3)
  {
    if (v2 >= 2)
    {
      v4 = MEMORY[0x1E696AEC0];
      v5 = PXLocalizedStringFromTable(@"PXCMMStopSharing_%lu_NumberOfICloudLinksFormat", @"PhotosUICore");
      [v4 localizedStringWithFormat:v5, *(&v15 + 1)];
      v13 = LABEL_12:;

      goto LABEL_15;
    }

    v6 = @"PXCMMStopSharingICloudLink";
    goto LABEL_14;
  }

LABEL_10:
  v11 = v3 + v2;
  if (v3 + v2 >= 2)
  {
    v12 = MEMORY[0x1E696AEC0];
    v5 = PXLocalizedStringFromTable(@"PXCMMRemove_%lu_NumberOfICloudLinksFormat", @"PhotosUICore");
    [v12 localizedStringWithFormat:v5, v11];
    goto LABEL_12;
  }

  v6 = @"PXCMMRemoveICloudLink";
LABEL_14:
  v13 = PXLocalizedStringFromTable(v6, @"PhotosUICore");
LABEL_15:

  return v13;
}

void _CountsOfMomentSharesByType(void *a1, void *a2, void *a3)
{
  v22 = *MEMORY[0x1E69E9840];
  v5 = a1;
  if (a2)
  {
    if (a3)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v13 = [MEMORY[0x1E696AAA8] currentHandler];
    v14 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _CountsOfMomentSharesByType(__strong id<PXFastEnumeration>, NSUInteger *, NSUInteger *)"}];
    [v13 handleFailureInFunction:v14 file:@"PXMomentShareUtilities.m" lineNumber:627 description:{@"Invalid parameter not satisfying: %@", @"countOfSent"}];

    if (a3)
    {
      goto LABEL_3;
    }
  }

  v15 = [MEMORY[0x1E696AAA8] currentHandler];
  v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _CountsOfMomentSharesByType(__strong id<PXFastEnumeration>, NSUInteger *, NSUInteger *)"}];
  [v15 handleFailureInFunction:v16 file:@"PXMomentShareUtilities.m" lineNumber:628 description:{@"Invalid parameter not satisfying: %@", @"countOfReceived"}];

LABEL_3:
  *a2 = 0;
  *a3 = 0;
  v17 = 0u;
  v18 = 0u;
  v19 = 0u;
  v20 = 0u;
  v6 = v5;
  v7 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
  if (v7)
  {
    v8 = v7;
    v9 = *v18;
    do
    {
      v10 = 0;
      do
      {
        if (*v18 != v9)
        {
          objc_enumerationMutation(v6);
        }

        v11 = [*(*(&v17 + 1) + 8 * v10) px_momentShareType];
        v12 = a2;
        if (v11)
        {
          if (v11 != 1)
          {
            goto LABEL_12;
          }

          v12 = a3;
        }

        ++*v12;
LABEL_12:
        ++v10;
      }

      while (v8 != v10);
      v8 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
    }

    while (v8);
  }
}

void PXTrashMomentShares(void *a1, void *a2, void *a3)
{
  v40 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a3;
  v7 = a2;
  if ([v5 count])
  {
    if (v7)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v26 = [MEMORY[0x1E696AAA8] currentHandler];
    v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXTrashMomentShares(__strong id<PXFastEnumeration> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v26 handleFailureInFunction:v27 file:@"PXMomentShareUtilities.m" lineNumber:671 description:{@"Invalid parameter not satisfying: %@", @"momentShares.count"}];

    if (v7)
    {
      goto LABEL_3;
    }
  }

  v28 = [MEMORY[0x1E696AAA8] currentHandler];
  v29 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXTrashMomentShares(__strong id<PXFastEnumeration> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v28 handleFailureInFunction:v29 file:@"PXMomentShareUtilities.m" lineNumber:672 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

LABEL_3:
  v37 = 0uLL;
  _CountsOfMomentSharesByType(v5, &v37 + 1, &v37);
  v8 = *(&v37 + 1);
  v9 = v37;
  if (v37 == 0)
  {
    v30 = [MEMORY[0x1E696AAA8] currentHandler];
    v31 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXTrashMomentShares(__strong id<PXFastEnumeration> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v30 handleFailureInFunction:v31 file:@"PXMomentShareUtilities.m" lineNumber:676 description:{@"Invalid parameter not satisfying: %@", @"countOfSent || countOfReceived"}];

    v8 = *(&v37 + 1);
    v9 = v37;
  }

  v10 = v9 == 0;
  if (v9)
  {
    v11 = @"PXCMMStopSharingOrDeclineConfirmationButtonTitle";
  }

  else
  {
    v11 = @"PXCMMStopSharingConfirmationButtonTitle";
  }

  v12 = @"PXCMMStopSharingOrDeclineAlertMessage";
  if (v10)
  {
    v12 = @"PXCMMStopSharingAlertMessage";
  }

  if (v8)
  {
    v13 = v11;
  }

  else
  {
    v13 = @"PXCMMDeclineSharingConfirmationButtonTitle";
  }

  if (v8)
  {
    v14 = v12;
  }

  else
  {
    v14 = @"PXCMMDeclineSharingAlertMessage";
  }

  v15 = PXLocalizedStringFromTable(v13, @"PhotosUICore");
  v16 = PXLocalizedStringFromTable(v14, @"PhotosUICore");
  v17 = PLSharingGetLog();
  if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
  {
    v18 = [v5 count];
    *buf = 134217984;
    v39 = v18;
    _os_log_impl(&dword_1A3C1C000, v17, OS_LOG_TYPE_DEFAULT, "Will present confirmation alert for trashing %lu moment share(s)", buf, 0xCu);
  }

  v32[0] = MEMORY[0x1E69E9820];
  v32[1] = 3221225472;
  v32[2] = __PXTrashMomentShares_block_invoke;
  v32[3] = &unk_1E774A918;
  v19 = v15;
  v33 = v19;
  v20 = v16;
  v34 = v20;
  v21 = v5;
  v35 = v21;
  v22 = v6;
  v36 = v22;
  v23 = [v7 presentAlertWithConfigurationHandler:v32];

  if (!v23)
  {
    v24 = PLSharingGetLog();
    if (os_log_type_enabled(v24, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v24, OS_LOG_TYPE_ERROR, "Failed to present the confirmation alert for trashing moment shares", buf, 2u);
    }

    if (v22)
    {
      v25 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXCMMErrorDomain" code:-1002 debugDescription:@"Failed to present the confirmation alert for trashing moment shares"];
      (*(v22 + 2))(v22, 0, v25);
    }
  }
}

void __PXTrashMomentShares_block_invoke(uint64_t a1, void *a2)
{
  v3 = *(a1 + 32);
  v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(a1 + 40)];
  v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v9[0] = MEMORY[0x1E69E9820];
  v9[1] = 3221225472;
  v9[2] = __PXTrashMomentShares_block_invoke_2;
  v9[3] = &unk_1E774C2F0;
  v10 = *(a1 + 48);
  v11 = *(a1 + 56);
  [v4 addActionWithTitle:v5 style:0 action:v9];

  v6 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v7[0] = MEMORY[0x1E69E9820];
  v7[1] = 3221225472;
  v7[2] = __PXTrashMomentShares_block_invoke_3;
  v7[3] = &unk_1E774C250;
  v8 = *(a1 + 56);
  [v4 addActionWithTitle:v6 style:1 action:v7];
}

void __PXTrashMomentShares_block_invoke_2(uint64_t a1)
{
  v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "User confirmed trashing moment shares", buf, 2u);
  }

  v4[0] = MEMORY[0x1E69E9820];
  v4[1] = 3221225472;
  v4[2] = __PXTrashMomentShares_block_invoke_334;
  v4[3] = &unk_1E7747648;
  v3 = *(a1 + 32);
  v4[4] = *(a1 + 40);
  _PXDeleteMomentShares(v3, 0, v4);
}

void __PXTrashMomentShares_block_invoke_3(uint64_t a1)
{
  v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "User dismissed the confirmation alert for trashing moment shares", v4, 2u);
  }

  if (*(a1 + 32))
  {
    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXCMMErrorDomain" code:11 debugDescription:@"User dismissed the confirmation alert for trashing moment shares"];
    (*(*(a1 + 32) + 16))();
  }
}

void __PXTrashMomentShares_block_invoke_334(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  v6 = *(a1 + 32);
  if (v6)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXTrashMomentShares_block_invoke_2_335;
    block[3] = &unk_1E774A940;
    v9 = v6;
    v10 = a2;
    v8 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }
}

void _PropertiesForFailurePresentation(void *a1, int a2, void *a3, void *a4, void *a5)
{
  v57 = *MEMORY[0x1E69E9840];
  v9 = a1;
  v10 = a3;
  v11 = a4;
  v12 = a5;
  v13 = v12;
  if (v9)
  {
    if (v12)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v44 = [MEMORY[0x1E696AAA8] currentHandler];
    v45 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PropertiesForFailurePresentation(PHPhotoLibrary *__strong, BOOL, NSError *__strong, void (^ _Nullable __strong)(BOOL), void (^__strong)(NSString *__strong, NSString *__strong, NSArray<PXAlertAction *> *__strong))"}];
    [v44 handleFailureInFunction:v45 file:@"PXMomentShareUtilities.m" lineNumber:725 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

    if (v13)
    {
      goto LABEL_3;
    }
  }

  v46 = [MEMORY[0x1E696AAA8] currentHandler];
  v47 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PropertiesForFailurePresentation(PHPhotoLibrary *__strong, BOOL, NSError *__strong, void (^ _Nullable __strong)(BOOL), void (^__strong)(NSString *__strong, NSString *__strong, NSArray<PXAlertAction *> *__strong))"}];
  [v46 handleFailureInFunction:v47 file:@"PXMomentShareUtilities.m" lineNumber:726 description:{@"Invalid parameter not satisfying: %@", @"resultsHandler"}];

LABEL_3:
  v14 = PXLocalizedStringFromTable(@"PXCMMGenericErrorTitle", @"PhotosUICore");
  v15 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v49[0] = MEMORY[0x1E69E9820];
  v49[1] = 3221225472;
  v49[2] = ___PropertiesForFailurePresentation_block_invoke;
  v49[3] = &unk_1E773BFC8;
  v16 = v15;
  v50 = v16;
  PXErrorRecoveryEnumerateOptionsForError(v10, v11, v49);
  v17 = v16;
  v18 = +[PXCompleteMyMomentSettings sharedInstance];
  v19 = [v18 simulateMomentShareCreationError];

  if (v19)
  {
    v20 = +[PXCompleteMyMomentSettings sharedInstance];
    v21 = [v20 simulatedMomentShareCreationErrorType];

    v22 = PLSharingGetLog();
    if (os_log_type_enabled(v22, OS_LOG_TYPE_DEFAULT))
    {
      if (v21 > 0xB)
      {
        v23 = 0;
      }

      else
      {
        v23 = *(&off_1E7739160 + v21);
      }

      v24 = v23;
      *buf = 138543362;
      v56 = v24;
      _os_log_impl(&dword_1A3C1C000, v22, OS_LOG_TYPE_DEFAULT, "Simulating moment share creation error (PXCompleteMyMomentSettings.simulatedMomentShareCreationErrorType): %{public}@", buf, 0xCu);
    }
  }

  else
  {
    v21 = PXMomentShareTypeForError(v10);
  }

  v25 = 0;
  if (v21 > 5)
  {
    if (v21 > 8)
    {
      if (v21 == 9)
      {
        v26 = @"PXCMMFeatureDisabledErrorMessage";
        goto LABEL_30;
      }

      if (v21 != 10)
      {
        if (v21 != 11)
        {
          goto LABEL_31;
        }

        goto LABEL_29;
      }

      v27 = PXLocalizedStringFromTable(@"PXCMMNeedsCloudNotAuthenticatedErrorTitle", @"PhotosUICore");

      v25 = PXLocalizedStringFromTable(@"PXCMMNeedsCloudNotAuthenticatedErrorMessage", @"PhotosUICore");
      v39 = [off_1E7721440 alloc];
      v40 = PXLocalizedStringFromTable(@"PXCMMNeedsCloudNotAuthenticatedErrorGoToSettingsButtonTitle", @"PhotosUICore");
      v41 = [v39 initWithTitle:v40 style:0 action:&__block_literal_global_413_134159];
      v51 = v41;
      v31 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v51 count:1];
    }

    else
    {
      if (v21 == 6)
      {
        v26 = @"PXCMMLibraryClosedErrorMessage";
        goto LABEL_30;
      }

      if (v21 == 7)
      {
        v27 = PXLocalizedStringFromTable(@"PXCMMExitModeErrorTitle", @"PhotosUICore");

        v28 = @"PXCMMExitModeErrorMessage";
      }

      else
      {
        v27 = PXLocalizedStringFromTable(@"PXCMMUnableToSendMessagesErrorTitle", @"PhotosUICore");

        v28 = @"PXCMMUnableToSendMessagesErrorMessage";
      }

      v25 = PXLocalizedStringFromTable(v28, @"PhotosUICore");
      v31 = v17;
    }

    v14 = v27;
    goto LABEL_48;
  }

  if (v21 > 2)
  {
    if ((v21 - 3) >= 2)
    {
      if (v21 != 5)
      {
        goto LABEL_31;
      }

      v29 = [v9 cplStatus];
      if ([v29 isExceedingQuota] && (objc_msgSend(v29, "isExceedingSharedLibraryQuota") & 1) == 0)
      {
        v48 = PXLocalizedStringFromTable(@"PXCMMCloudQuotaErrorTitle", @"PhotosUICore");

        v25 = PXLocalizedStringFromTable(@"PXCMMCloudQuotaErrorMessage", @"PhotosUICore");
        v43 = [off_1E7721440 alloc];
        v35 = PXLocalizedStringFromTable(@"PXCMMCloudQuotaManageTitle", @"PhotosUICore");
        v36 = [v43 initWithTitle:v35 style:0 action:&__block_literal_global_399];
        v52 = v36;
        v37 = MEMORY[0x1E695DEC8];
        v38 = &v52;
        goto LABEL_44;
      }

      v30 = @"PXCMMQuotaErrorMessage";
      goto LABEL_46;
    }

LABEL_29:
    v26 = @"PXCMMGenericErrorMessage";
    goto LABEL_30;
  }

  switch(v21)
  {
    case 0:
      goto LABEL_29;
    case 1:
      v29 = [v9 cplStatus];
      v32 = [v29 isCellularRestricted];
      v33 = [v29 isInAirplaneMode];
      if (a2 && v32)
      {
        v48 = PXLocalizedStringFromTable(@"PXCMMCellularRestrictedErrorTitle", @"PhotosUICore");

        v25 = PXLocalizedStringFromTable(@"PXCMMCellularRestrictedErrorMessage", @"PhotosUICore");
        v34 = [off_1E7721440 alloc];
        v35 = PXLocalizedStringFromTable(@"PXCMMCellularRestrictedErrorManageButtonTitle", @"PhotosUICore");
        v36 = [v34 initWithTitle:v35 style:0 action:&__block_literal_global_367];
        v54 = v36;
        v37 = MEMORY[0x1E695DEC8];
        v38 = &v54;
LABEL_44:
        v31 = [v37 arrayWithObjects:v38 count:1];

        v14 = v48;
LABEL_47:

        goto LABEL_48;
      }

      if ((a2 & v33) == 1)
      {
        v48 = PXLocalizedStringFromTable(@"PXCMMAirplaneModeErrorTitle", @"PhotosUICore");

        v25 = PXLocalizedStringFromTable(@"PXCMMAirplaneModeErrorMessage", @"PhotosUICore");
        v42 = [off_1E7721440 alloc];
        v35 = PXLocalizedStringFromTable(@"PXCMMAirplaneModeErrorManageButtonTitle", @"PhotosUICore");
        v36 = [v42 initWithTitle:v35 style:0 action:&__block_literal_global_379];
        v53 = v36;
        v37 = MEMORY[0x1E695DEC8];
        v38 = &v53;
        goto LABEL_44;
      }

      v30 = @"PXNetworkErrorMessage";
LABEL_46:
      v25 = PXLocalizedStringFromTable(v30, @"PhotosUICore");
      v31 = v17;
      goto LABEL_47;
    case 2:
      v26 = @"PXCMMInvalidUrlErrorMessage";
LABEL_30:
      v25 = PXLocalizedStringFromTable(v26, @"PhotosUICore");
      break;
  }

LABEL_31:
  v31 = v17;
LABEL_48:
  (v13)[2](v13, v14, v25, v31);
}

void PXMomentSharePresentFailureForAction(void *a1, int a2, void *a3, void *a4, void *a5)
{
  v9 = a1;
  v10 = a3;
  v11 = a4;
  v12 = a5;
  v13 = [v10 domain];
  if (![v13 isEqualToString:@"PXCMMErrorDomain"])
  {

    goto LABEL_6;
  }

  v14 = [v10 code];

  if (v14 != -1001)
  {
LABEL_6:
    v15[0] = MEMORY[0x1E69E9820];
    v15[1] = 3221225472;
    v15[2] = __PXMomentSharePresentFailureForAction_block_invoke;
    v15[3] = &unk_1E773C010;
    v18 = v12;
    v16 = v10;
    v17 = v11;
    _PropertiesForFailurePresentation(v9, a2, v16, v18, v15);

    goto LABEL_7;
  }

  if (v12)
  {
    (*(v12 + 2))(v12, 0);
  }

LABEL_7:
}

void __PXMomentSharePresentFailureForAction_block_invoke(void *a1, void *a2, void *a3, void *a4)
{
  v7 = a2;
  v8 = a3;
  v9 = a4;
  v10 = a1[6];
  if (v10)
  {
    aBlock[0] = MEMORY[0x1E69E9820];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXMomentSharePresentFailureForAction_block_invoke_2;
    aBlock[3] = &unk_1E774C250;
    v16 = v10;
    v11 = _Block_copy(aBlock);
  }

  else
  {
    v11 = 0;
  }

  v13 = a1[4];
  v12 = a1[5];
  v14 = PLSharingGetLog();
  PXConfigureAndPresentFailureAlert(v7, v8, v13, v12, v11, v14, v9, &__block_literal_global_431);
}

void __PXMomentSharePresentFailureForAction_block_invoke_3(uint64_t a1, void *a2)
{
  v2 = a2;
  [v2 setComponent:10];
  [v2 setClassification:7];
}

void PXMemoriesDeleteConfirmationAlertShow(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = [v5 count];
  if (v8)
  {
    v9 = v8;
    v10 = [v5 firstObject];
    v11 = [v10 photoLibrary];

    aBlock[0] = MEMORY[0x1E69E9820];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke;
    aBlock[3] = &__block_descriptor_40_e28___NSString_16__0__NSString_8l;
    aBlock[4] = v9;
    v12 = _Block_copy(aBlock);
    if ([v11 isCloudPhotoLibraryEnabled])
    {
      v13 = [v11 isReadOnlyCloudPhotoLibrary] ^ 1;
    }

    else
    {
      v13 = 0;
    }

    v18[0] = MEMORY[0x1E69E9820];
    v18[1] = 3221225472;
    v18[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke_2;
    v18[3] = &unk_1E773C1D0;
    v14 = v12;
    v19 = v14;
    v21 = v9;
    v22 = v13;
    v20 = v7;
    v15 = _Block_copy(v18);
    if (v6)
    {
      v16 = [v6 presentAlertWithConfigurationHandler:v15];
    }

    else
    {
      v17 = [off_1E7721438 show:v15];
    }
  }

  else
  {
    (*(v7 + 2))(v7, 0);
  }
}

void __PXMemoriesDeleteConfirmationAlertShow_block_invoke(uint64_t a1, void *a2)
{
  PXLocalizedStringFromTable(a2, @"PhotosUICore");
  objc_claimAutoreleasedReturnValue();
  PXLocalizedStringWithValidatedFormat();
}

void __PXMemoriesDeleteConfirmationAlertShow_block_invoke_2(uint64_t a1, void *a2)
{
  v21[2] = *MEMORY[0x1E69E9840];
  v3 = a2;
  v4 = [MEMORY[0x1E69DC938] currentDevice];
  [v3 setStyle:{objc_msgSend(v4, "userInterfaceIdiom") != 0}];

  v5 = (*(*(a1 + 32) + 16))();
  [v3 setTitle:v5];

  v6 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteThisMemoryWarningMessage";
  v7 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteTheseMemoriesWarningMessage";
  if (*(a1 + 56))
  {
    v6 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteThisMemoryCloudWarningMessage";
    v7 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteTheseMemoriesCloudWarningMessage";
  }

  if (*(a1 + 48) == 1)
  {
    v8 = v6;
  }

  else
  {
    v8 = v7;
  }

  v9 = PXLocalizedStringFromTable(v8, @"PhotosUICore");
  [v3 setMessage:v9];
  v10 = [off_1E7721440 alloc];
  v11 = (*(*(a1 + 32) + 16))();
  v19[0] = MEMORY[0x1E69E9820];
  v19[1] = 3221225472;
  v19[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke_3;
  v19[3] = &unk_1E774C250;
  v20 = *(a1 + 40);
  v12 = [v10 initWithTitle:v11 style:2 action:v19];
  v21[0] = v12;
  v13 = [off_1E7721440 alloc];
  v14 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v17[0] = MEMORY[0x1E69E9820];
  v17[1] = 3221225472;
  v17[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke_4;
  v17[3] = &unk_1E774C250;
  v18 = *(a1 + 40);
  v15 = [v13 initWithTitle:v14 style:1 action:v17];
  v21[1] = v15;
  v16 = [MEMORY[0x1E695DEC8] arrayWithObjects:v21 count:2];

  [v3 addActions:v16];
}

void sub_1A4E85774(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, char a39)
{
  _Block_object_dispose(&a39, 8);
  _Block_object_dispose((v39 - 200), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__134916(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id _importGridLog()
{
  if (_importGridLog_onceToken != -1)
  {
    dispatch_once(&_importGridLog_onceToken, &__block_literal_global_135139);
  }

  v1 = _importGridLog_sImportUILog;

  return v1;
}

void ___importGridLog_block_invoke()
{
  v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-Grid");
  v1 = _importGridLog_sImportUILog;
  _importGridLog_sImportUILog = v0;
}

id _importOneUpLog()
{
  if (_importOneUpLog_onceToken != -1)
  {
    dispatch_once(&_importOneUpLog_onceToken, &__block_literal_global_191);
  }

  v1 = _importOneUpLog_sImportUILog;

  return v1;
}

void ___importOneUpLog_block_invoke()
{
  v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-OneUp");
  v1 = _importOneUpLog_sImportUILog;
  _importOneUpLog_sImportUILog = v0;
}

id _importDataLog()
{
  if (_importDataLog_onceToken != -1)
  {
    dispatch_once(&_importDataLog_onceToken, &__block_literal_global_194);
  }

  v1 = _importDataLog_sImportUILog;

  return v1;
}

void ___importDataLog_block_invoke()
{
  v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-Data");
  v1 = _importDataLog_sImportUILog;
  _importDataLog_sImportUILog = v0;
}

id _importDataSourceManagerLog()
{
  if (_importDataSourceManagerLog_onceToken != -1)
  {
    dispatch_once(&_importDataSourceManagerLog_onceToken, &__block_literal_global_197_135149);
  }

  v1 = _importDataSourceManagerLog_sImportUILog;

  return v1;
}

void ___importDataSourceManagerLog_block_invoke()
{
  v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-DataSourceManager");
  v1 = _importDataSourceManagerLog_sImportUILog;
  _importDataSourceManagerLog_sImportUILog = v0;
}

id _importControllerLog()
{
  if (_importControllerLog_onceToken != -1)
  {
    dispatch_once(&_importControllerLog_onceToken, &__block_literal_global_200_135152);
  }

  v1 = _importControllerLog_sImportUILog;

  return v1;
}

void ___importControllerLog_block_invoke()
{
  v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-Controller");
  v1 = _importControllerLog_sImportUILog;
  _importControllerLog_sImportUILog = v0;
}

id _importMediaProviderLog()
{
  if (_importMediaProviderLog_onceToken != -1)
  {
    dispatch_once(&_importMediaProviderLog_onceToken, &__block_literal_global_203_135157);
  }

  v1 = _importMediaProviderLog_sImportUILog;

  return v1;
}

void ___importMediaProviderLog_block_invoke()
{
  v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-MediaProvider");
  v1 = _importMediaProviderLog_sImportUILog;
  _importMediaProviderLog_sImportUILog = v0;
}

id _importActionCoordinatorLog()
{
  if (_importActionCoordinatorLog_onceToken != -1)
  {
    dispatch_once(&_importActionCoordinatorLog_onceToken, &__block_literal_global_206_135160);
  }

  v1 = _importActionCoordinatorLog_sImportUILog;

  return v1;
}

void ___importActionCoordinatorLog_block_invoke()
{
  v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-ActionCoordinator");
  v1 = _importActionCoordinatorLog_sImportUILog;
  _importActionCoordinatorLog_sImportUILog = v0;
}

id PXImportSuffixForItems(void *a1)
{
  v19 = *MEMORY[0x1E69E9840];
  v13 = 0u;
  v14 = 0u;
  v15 = 0u;
  v16 = 0u;
  v1 = a1;
  v2 = [v1 countByEnumeratingWithState:&v13 objects:v18 count:16];
  if (!v2)
  {
    v6 = 3;
    goto LABEL_18;
  }

  v3 = v2;
  v4 = 0;
  v5 = *v14;
  v6 = 3;
  do
  {
    v7 = 0;
    v8 = v4;
    do
    {
      if (*v14 != v5)
      {
        objc_enumerationMutation(v1);
      }

      v9 = *(*(&v13 + 1) + 8 * v7);
      if ([v9 isImage])
      {
        v4 = 1;
        if (!v8)
        {
          goto LABEL_14;
        }
      }

      else
      {
        if ([v9 isMovie])
        {
          v4 = 2;
        }

        else
        {
          v4 = 3;
        }

        if (!v8)
        {
          goto LABEL_14;
        }
      }

      if (v4 != v8)
      {
        goto LABEL_18;
      }

LABEL_14:
      ++v7;
      v8 = v4;
    }

    while (v3 != v7);
    v3 = [v1 countByEnumeratingWithState:&v13 objects:v18 count:16];
  }

  while (v3);
  v6 = v4;
LABEL_18:

  v17[0] = xmmword_1E773C348;
  v17[1] = *off_1E773C358;
  v10 = *(v17 + v6);
  for (i = 24; i != -8; i -= 8)
  {
  }

  return v10;
}

uint64_t PXImportImageSizeForType(uint64_t a1)
{
  if ((a1 - 1) > 2)
  {
    return 160;
  }

  else
  {
    return qword_1A5381E98[a1 - 1];
  }
}

__CFString *PXImportImageRequestSizeDebugDescription(unint64_t a1)
{
  if (a1 >= 4)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"Unknown (%lu)", a1];
  }

  else
  {
    v2 = off_1E773C368[a1];
  }

  return v2;
}

id PXImportLocalizedDescriptionForImportException(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *PXImportLocalizedDescriptionForImportException(PHImportException *__strong)"];
    [v8 handleFailureInFunction:v9 file:@"PXImportCommon.m" lineNumber:225 description:{@"Invalid parameter not satisfying: %@", @"importException"}];
  }

  v2 = [v1 type];
  v3 = 0;
  if (v2 <= 3)
  {
    if (v2 > 1)
    {
      if (v2 == 2)
      {
        v4 = @"PXImportExceptionNoMetadata";
      }

      else
      {
        v4 = @"PXImportExceptionSourceWentAway";
      }
    }

    else if (v2)
    {
      if (v2 != 1)
      {
        goto LABEL_25;
      }

      v4 = @"PXImportExceptionUnsupported";
    }

    else
    {
      v4 = @"PXImportExceptionUnknown";
    }
  }

  else if (v2 <= 5)
  {
    if (v2 == 4)
    {
      v4 = @"PXImportExceptionDulicateBurstsNotSupported";
    }

    else
    {
      v4 = @"PXImportExceptionNotEnoughStorageSpace";
    }
  }

  else
  {
    switch(v2)
    {
      case 6:
        v4 = @"PXImportExceptionTypeNotCacheDeleteError";
        break;
      case 7:
        v5 = [v1 underlyingError];
        v6 = [v5 code];

        if ((v6 - 6202) > 6)
        {
          v4 = @"PXImportExceptionTypeLibraryImportUnknown";
        }

        else
        {
          v4 = off_1E773C388[v6 - 6202];
        }

        break;
      case 8:
        v4 = @"PXImportExceptionLegacyLibraryMissingOriginalsFolder";
        break;
      default:
        goto LABEL_25;
    }
  }

  v3 = PXLocalizedStringFromTable(v4, @"PhotosUICore");
LABEL_25:

  return v3;
}

id PXImportBadgeViewForTypeAndSelectable(uint64_t a1, int a2)
{
  v2 = 0;
  if (a1 > 2)
  {
    if (a1 != 3)
    {
      if (a1 != 4)
      {
        goto LABEL_13;
      }

      v3 = MEMORY[0x1E69DD250];
      v5 = [MEMORY[0x1E69DC888] systemRedColor];
      v6 = @"exclamationmark.circle";
      goto LABEL_12;
    }

    v3 = MEMORY[0x1E69DD250];
    v4 = [MEMORY[0x1E69DC888] systemGreenColor];
LABEL_11:
    v5 = v4;
    v6 = @"checkmark.circle";
LABEL_12:
    v2 = [v3 px_circularGlyphViewWithName:v6 backgroundColor:v5];

    goto LABEL_13;
  }

  if (a1)
  {
    if (a1 != 1)
    {
      goto LABEL_13;
    }

    v3 = MEMORY[0x1E69DD250];
    v4 = [MEMORY[0x1E69DC888] systemBlueColor];
    goto LABEL_11;
  }

  if (a2)
  {
    v2 = [MEMORY[0x1E69DD250] px_circularGlyphViewWithName:@"checkmark.circle" backgroundColor:0];
  }

  else
  {
    v2 = 0;
  }

LABEL_13:

  return v2;
}

void sub_1A4E883F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v13 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__135399(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4E88764(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v13 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1A4E88AB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  v12 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E88DE4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  v12 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t orientationForTransform(double *a1)
{
  v1 = 0;
  for (i = &qword_1A5381EC0; vabdd_f64(*a1, *(i - 2)) >= 0.00999999978 || vabdd_f64(a1[1], *(i - 1)) >= 0.00999999978 || vabdd_f64(a1[2], *i) >= 0.00999999978 || vabdd_f64(a1[3], i[1]) >= 0.00999999978; i += 6)
  {
    if (++v1 == 8)
    {
      return 0xFFFFFFFFLL;
    }
  }

  return orientationForTransform_kDegreeMapping[v1];
}

uint64_t angleForTransform(_OWORD *a1)
{
  v1 = a1[1];
  v4[0] = *a1;
  v4[1] = v1;
  v4[2] = a1[2];
  v2 = orientationForTransform(v4) - 1;
  if (v2 > 6)
  {
    return 0;
  }

  else
  {
    return dword_1A5382050[v2];
  }
}

uint64_t PXVKImageOrientationFromPreferredTransform(_OWORD *a1)
{
  v1 = a1[1];
  v4[0] = *a1;
  v4[1] = v1;
  v4[2] = a1[2];
  v2 = orientationForTransform(v4) - 1;
  if (v2 > 6)
  {
    return 0;
  }

  else
  {
    return qword_1A5382070[v2];
  }
}

void sub_1A4E8C8C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose((v17 - 208), 8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E8CCA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29)
{
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((v29 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1A4E8DE88(_Unwind_Exception *a1)
{
  _Block_object_dispose(&STACK[0x270], 8);
  _Block_object_dispose(&STACK[0x290], 8);
  _Unwind_Resume(a1);
}

void sub_1A4E8E844(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

PXMediaViewControllerEventTracker *PXMediaViewControllerEventTrackerCreate(void *a1)
{
  v1 = a1;
  v2 = [[PXMediaViewControllerEventTracker alloc] initWithViewName:v1];

  return v2;
}

__CFString *PXActionUserConfirmationDescription(unint64_t a1)
{
  if (a1 >= 5)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"?? (%ti)", a1];
  }

  else
  {
    v2 = off_1E773C750[a1];
  }

  return v2;
}

__CFString *PXStoryProducerName(uint64_t a1)
{
  if (a1 <= 63)
  {
    if (a1 > 7)
    {
      switch(a1)
      {
        case 8:
          return @"PersistedSong";
        case 16:
          return @"CuratedSongs";
        case 32:
          return @"MovieHighlights";
        default:
          goto LABEL_31;
      }
    }

    else
    {
      switch(a1)
      {
        case 1:
          return @"Assets";
        case 2:
          return @"AssetsDataSource";
        case 4:
          return @"PersistableRecipe";
        default:
          goto LABEL_31;
      }
    }
  }

  else if (a1 <= 511)
  {
    switch(a1)
    {
      case 64:
        return @"InitialStyle";
      case 128:
        return @"AutoEditStyles";
      case 256:
        return @"InitialDecisionList";
      default:
        goto LABEL_31;
    }
  }

  else if (a1 > 2047)
  {
    if (a1 == 2048)
    {
      return @"ChapterCollection";
    }

    else
    {
      if (a1 != 4096)
      {
        goto LABEL_31;
      }

      return @"DetailedSaliency";
    }
  }

  else
  {
    if (a1 != 512)
    {
      if (a1 == 1024)
      {
        return @"AdditionalAutoEditDecisionLists";
      }

LABEL_31:
      v3 = [MEMORY[0x1E696AAA8] currentHandler];
      v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *PXStoryProducerName(PXStoryProducer)"];
      [v3 handleFailureInFunction:v4 file:@"PXStoryRecipeManager.m" lineNumber:174 description:{@"unexpected producer %lu", a1}];

      abort();
    }

    return @"AutoEditDecisionLists";
  }
}

void sub_1A4E91D5C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E924B8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, id location, char a25)
{
  objc_destroyWeak(&location);
  _Block_object_dispose(&a25, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__136816(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

PXExpectation *_ProducerRequestBegin(void *a1, void *a2)
{
  v3 = a1;
  if (v3)
  {
    v4 = [PXExpectation alloc];
    v5 = [v3 storyQueue];
    v6 = [(PXExpectation *)v4 initWithQueue:v5 labelFormat:@"%@ request %s", v3, a2];

    objc_initWeak(&location, v3);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = ___ProducerRequestBegin_block_invoke;
    v8[3] = &unk_1E773CA98;
    objc_copyWeak(v9, &location);
    v9[1] = a2;
    [(PXExpectation *)v6 performWhenFulfilled:v8 timeout:10.0];
    objc_destroyWeak(v9);
    objc_destroyWeak(&location);
  }

  else
  {
    v6 = 0;
  }

  return v6;
}

void sub_1A4E92658(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

uint64_t _ProducerRequestEnd(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = [v3 creationDate];
  [v5 timeIntervalSinceReferenceDate];
  v6 = [v4 deliveredNowWithRequestTime:?];
  v7 = [v4 isDegraded];

  if (v7)
  {
    v8 = 0;
  }

  else
  {
    [v3 fulfill];
    [v5 timeIntervalSinceNow];
    if (v9 >= -0.1)
    {
      v8 = 1;
    }

    else
    {
      v8 = 2;
    }
  }

  return v8;
}

void sub_1A4E93014(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, ...)
{
  va_start(va1, a12);
  va_start(va, a12);
  v14 = va_arg(va1, id);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  objc_destroyWeak(va);
  _Block_object_dispose(va1, 8);
  objc_destroyWeak((v12 - 152));
  _Unwind_Resume(a1);
}

void sub_1A4E9391C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E9413C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E951A0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E959C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E9620C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E96A84(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E9733C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E97C04(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E98454(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E98C20(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E99454(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4E9B018(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location)
{
  objc_destroyWeak((v22 + 56));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E9B600(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak((v20 + 56));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4E9C3F0(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 200), 8);
  objc_destroyWeak((v1 - 152));
  _Unwind_Resume(a1);
}

uint64_t _areFetchResultsEqual(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  objc_opt_class();
  if (objc_opt_isKindOfClass() & 1) != 0 && (objc_opt_class(), (objc_opt_isKindOfClass()))
  {
    v5 = [v3 count];
    if (v5 == [v4 count])
    {
      v6 = [v3 fetchedObjectIDs];
      v7 = [v4 fetchedObjectIDs];
      v8 = [v6 isEqual:v7];
    }

    else
    {
      v8 = 0;
    }
  }

  else if (v3 == v4)
  {
    v8 = 1;
  }

  else
  {
    v8 = [v3 isEqual:v4];
  }

  return v8;
}

id PXStoryProducersDescription(uint64_t a1)
{
  v2 = [objc_alloc(MEMORY[0x1E696AD60]) initWithString:@"["];
  v14[0] = 0;
  v14[1] = v14;
  v14[2] = 0x2020000000;
  v3 = 1;
  v15 = 1;
  v7 = MEMORY[0x1E69E9820];
  v8 = 3221225472;
  v9 = __PXStoryProducersDescription_block_invoke;
  v10 = &unk_1E773CA70;
  v12 = v14;
  v13 = a1;
  v4 = v2;
  v11 = v4;
  v16 = 0;
  do
  {
    (v9)(&v7, v3, &v16);
    if (v3 > 0xFFF)
    {
      break;
    }

    v3 *= 2;
  }

  while ((v16 & 1) == 0);
  [v4 appendString:{@"]", v7, v8}];
  v5 = [v4 copy];

  _Block_object_dispose(v14, 8);

  return v5;
}

void sub_1A4E9FFA4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXStoryProducersDescription_block_invoke(uint64_t a1, uint64_t a2)
{
  if ((a2 & ~*(a1 + 48)) == 0)
  {
    if ((*(*(*(a1 + 40) + 8) + 24) & 1) == 0)
    {
      [*(a1 + 32) appendString:{@", "}];
    }

    v4 = *(a1 + 32);
    v5 = PXStoryProducerName(a2);
    [v4 appendString:v5];

    *(*(*(a1 + 40) + 8) + 24) = 0;
  }
}

void sub_1A4EA1B68(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__137437(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EA200C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4EA23EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXSharedLibraryAssistantRulesShareEverythingSubtitle(void *a1)
{
  if (*a1 == 0x7FFFFFFFFFFFFFFFLL || a1[1] == 0x7FFFFFFFFFFFFFFFLL || a1[2] == 0x7FFFFFFFFFFFFFFFLL)
  {
    v5 = @" ";
  }

  else
  {
    v5 = PLLocalizedCountDescription();
  }

  return v5;
}

id PXSharedLibraryAssistantDateSelectionSubtitle(void *a1, uint64_t a2)
{
  v3 = a1;
  v4 = [v3 count];
  if (v4 >= 1)
  {
    v5 = v4 != 1 && a2 == 0;
    v6 = @"SinglePerson";
    if (v5)
    {
      v6 = @"MultiplePeople";
    }

    if (v4 == 2 && a2 > 0)
    {
      v6 = @"TwoPeopleAndCount";
    }

    v8 = MEMORY[0x1E696AEC0];
    v9 = v6;
    v10 = [v8 stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_%@_Subtitle", v9];
    PXLocalizedSharedLibraryString(v10);
    objc_claimAutoreleasedReturnValue();

    v11 = [(__CFString *)v9 isEqualToString:@"TwoPeopleAndCount"];
    if (v11)
    {
      [v3 objectAtIndexedSubscript:0];
      objc_claimAutoreleasedReturnValue();
      [v3 objectAtIndexedSubscript:1];
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    [MEMORY[0x1E696AD08] localizedStringByJoiningStrings:v3];
    objc_claimAutoreleasedReturnValue();
    PXLocalizedStringWithValidatedFormat();
  }

  if (a2 >= 1)
  {
    PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_Unnamed_Subtitle");
    objc_claimAutoreleasedReturnValue();
    PXLocalizedStringWithValidatedFormat();
  }

  v13 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_Subtitle");

  return v13;
}

id PXSharedLibraryAssistantDateSelectionFooter(uint64_t *a1, void *a2, uint64_t a3, int a4)
{
  v7 = a2;
  v8 = v7;
  v10 = *a1;
  v9 = a1[1];
  v11 = a1[2];
  if (*a1 == 0x7FFFFFFFFFFFFFFFLL || v9 == 0x7FFFFFFFFFFFFFFFLL || v11 == 0x7FFFFFFFFFFFFFFFLL)
  {
    goto LABEL_9;
  }

  v16 = v9 + v10 + v11;
  if (v10 == v16)
  {
    v15 = 0;
    v14 = @"Photos";
    goto LABEL_16;
  }

  if (v9 == v16)
  {
    v15 = 0;
    v14 = @"Videos";
    v10 = a1[1];
    goto LABEL_16;
  }

  if (v16 == 0x7FFFFFFFFFFFFFFFLL)
  {
LABEL_9:
    v14 = 0;
    v15 = 1;
    v10 = 0x7FFFFFFFFFFFFFFFLL;
    goto LABEL_16;
  }

  v15 = 0;
  v14 = @"Items";
  v10 = v16;
LABEL_16:
  v17 = [v7 count];
  if (v17 < 1)
  {
    if (a3 < 1)
    {
      if (!v10)
      {
        v24 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_FooterEmpty");
        goto LABEL_64;
      }

      if ((v15 & 1) == 0)
      {
        v33 = [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@", v14];
        PXLocalizedSharedLibraryString(v33);
        objc_claimAutoreleasedReturnValue();

        goto LABEL_58;
      }
    }

    else
    {
      if (!v10)
      {
        PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_FooterFormat_Unnamed_Empty");
        objc_claimAutoreleasedReturnValue();
        goto LABEL_58;
      }

      if ((v15 & 1) == 0)
      {
        v25 = &stru_1F1741150;
        v26 = @"MultipleUnnamed";
        if (a3 == 1)
        {
          v26 = @"SingleUnnamed";
        }

        if (a4)
        {
          v25 = @"_Suggested";
        }

        v27 = @"Unnamed";
        if (a4)
        {
          v27 = v26;
        }

        v28 = [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@%@_%@", v27, v25, v14];
        PXLocalizedSharedLibraryString(v28);
        objc_claimAutoreleasedReturnValue();

LABEL_58:
        PXLocalizedStringWithValidatedFormat();
      }
    }

    v24 = 0;
    goto LABEL_64;
  }

  v18 = v17;
  v19 = [MEMORY[0x1E696AD08] localizedStringByJoiningStrings:v8];
  v20 = v18 != 1 && a3 == 0;
  v21 = @"SinglePerson";
  if (v20)
  {
    v21 = @"MultiplePeople";
  }

  if (v18 == 2 && a3 > 0)
  {
    v21 = @"TwoPeopleAndCount";
  }

  v23 = v21;
  if (!v10)
  {
    v29 = [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@_Empty", v23];
    v30 = PXLocalizedSharedLibraryString(v29);

    if (([(__CFString *)v23 isEqualToString:@"SinglePerson"]& 1) != 0 || [(__CFString *)v23 isEqualToString:@"MultiplePeople"])
    {
LABEL_62:
      PXLocalizedStringWithValidatedFormat();
    }

    if ([(__CFString *)v23 isEqualToString:@"TwoPeopleAndCount"])
    {
LABEL_68:
      [v8 objectAtIndexedSubscript:0];
      objc_claimAutoreleasedReturnValue();
      [v8 objectAtIndexedSubscript:1];
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

LABEL_69:
    v24 = 0;

    goto LABEL_63;
  }

  if ((v15 & 1) == 0)
  {
    v31 = &stru_1F1741150;
    if (a4)
    {
      v31 = @"_Suggested";
    }

    v32 = [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@%@_%@", v23, v31, v14];
    v30 = PXLocalizedSharedLibraryString(v32);

    if (a4)
    {
      if ([(__CFString *)v23 isEqualToString:@"SinglePerson"]|| [(__CFString *)v23 isEqualToString:@"MultiplePeople"])
      {
        goto LABEL_62;
      }

      if ([(__CFString *)v23 isEqualToString:@"TwoPeopleAndCount"])
      {
        goto LABEL_68;
      }
    }

    if (([(__CFString *)v23 isEqualToString:@"SinglePerson"]& 1) != 0 || [(__CFString *)v23 isEqualToString:@"MultiplePeople"])
    {
      goto LABEL_62;
    }

    if ([(__CFString *)v23 isEqualToString:@"TwoPeopleAndCount"])
    {
      goto LABEL_68;
    }

    goto LABEL_69;
  }

  v24 = 0;
LABEL_63:

LABEL_64:

  return v24;
}

void PXSharedLibraryAssistantPeopleSelectionFooterTitleWhileUpdating(void *a1, uint64_t a2)
{
  v3 = a1;
  v4 = [v3 count];
  if (a2)
  {
    if (v4 == 2)
    {
      PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_FindingMomentsWith_TwoPeopleAndCount");
      objc_claimAutoreleasedReturnValue();
      [v3 objectAtIndexedSubscript:0];
      objc_claimAutoreleasedReturnValue();
      [v3 objectAtIndexedSubscript:1];
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_FindingMomentsWith_CountOnly");
    objc_claimAutoreleasedReturnValue();
    [v3 count];
    PXLocalizedStringWithValidatedFormat();
  }

  if (v4 == 1)
  {
    v5 = @"PXSharedLibraryAssistant_Rules_FindingMomentsWith_SinglePerson_%@";
  }

  else
  {
    v5 = @"PXSharedLibraryAssistant_Rules_FindingMomentsWith_MultiplePeople_%@";
  }

  PXLocalizedSharedLibraryString(v5);
  objc_claimAutoreleasedReturnValue();
  [MEMORY[0x1E696AD08] localizedStringByJoiningStrings:v3];
  objc_claimAutoreleasedReturnValue();
  PXLocalizedStringWithValidatedFormat();
}

void PXSharedLibraryAssistantPeopleSelectionFooterTitle(void *a1, uint64_t a2)
{
  v3 = a1;
  v4 = [v3 count];
  if (a2)
  {
    if (v4 == 2)
    {
      PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_TwoPeopleAndCountSelection_FooterFormat_Items");
      objc_claimAutoreleasedReturnValue();
      [v3 objectAtIndexedSubscript:0];
      objc_claimAutoreleasedReturnValue();
      [v3 objectAtIndexedSubscript:1];
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    if (v4 != 1)
    {
      PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CountOnlySelection_FooterFormat_Items");
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_OnePersonAndCountSelection_FooterFormat_Items");
    objc_claimAutoreleasedReturnValue();
    [v3 objectAtIndexedSubscript:0];
    objc_claimAutoreleasedReturnValue();
  }

  else
  {
    if (v4 == 1)
    {
      v5 = @"PXSharedLibraryAssistant_OnePersonSelection_FooterFormat_Items";
    }

    else
    {
      v5 = @"PXSharedLibraryAssistant_PeopleSelection_FooterFormat_Items";
    }

    PXLocalizedSharedLibraryString(v5);
    objc_claimAutoreleasedReturnValue();
    [MEMORY[0x1E696AD08] localizedStringByJoiningStrings:v3];
    objc_claimAutoreleasedReturnValue();
  }

  PXLocalizedStringWithValidatedFormat();
}

void PXSharedLibraryAssistantRulesPeopleDetail()
{
  PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_PersonCountFormat");
  objc_claimAutoreleasedReturnValue();
  PXLocalizedStringWithValidatedFormat();
}

id PXSharedLibraryAssistantCustomizeRulesExcludingFromStartDate(uint64_t a1)
{
  if (a1)
  {
    [MEMORY[0x1E696AB78] localizedStringFromDate:a1 dateStyle:2 timeStyle:0];
  }

  else
  {
    PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CustomizeRules_IncludeAll");
  }
  v1 = ;

  return v1;
}

id PXSharedLibraryAssistantCustomizeRulesIncludingNumberOfPersons(uint64_t a1)
{
  if (a1)
  {
    PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CustomizeRules_IncludingPersonFormat");
    objc_claimAutoreleasedReturnValue();
    PXLocalizedStringWithValidatedFormat();
  }

  v1 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CustomizeRules_IncludeAll");

  return v1;
}

id PXSharedLibraryAssistantRulesListViewItems(int a1)
{
  v11[3] = *MEMORY[0x1E69E9840];
  v1 = @"PXSharedLibraryAssistant_Rules_ChooseDateOnly";
  if (a1)
  {
    v1 = @"PXSharedLibraryAssistant_Rules_ChoosePeopleDate";
  }

  v2 = v1;
  v3 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_ShareEverything");
  v4 = [PXAssistantListViewItem ruleItemWithTag:1 title:v3 subtitle:0 detail:0 systemImageName:@"photo.on.rectangle" enabled:1];
  v5 = PXLocalizedSharedLibraryString(v2);

  v6 = [PXAssistantListViewItem ruleItemWithTag:2 title:v5 subtitle:0 detail:0 systemImageName:@"checklist" enabled:1, v4];
  v11[1] = v6;
  v7 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_ShareManually");
  v8 = [PXAssistantListViewItem ruleItemWithTag:3 title:v7 subtitle:0 detail:0 systemImageName:@"rectangle.badge.checkmark" enabled:1];
  v11[2] = v8;
  v9 = [MEMORY[0x1E695DEC8] arrayWithObjects:v11 count:3];

  return v9;
}

uint64_t PXSharedLibraryAssistantRulesAutoSharePolicyForStartDateOrPersonUUIDs(uint64_t a1, void *a2)
{
  if (a1)
  {
    return 2;
  }

  else
  {
    return 2 * ([a2 count] != 0);
  }
}

__CFString *PXSymbolNameForTransientCollectionIdentifier(void *a1)
{
  v1 = PXSymbolNameForTransientCollectionIdentifier_onceToken;
  v2 = a1;
  if (v1 != -1)
  {
    dispatch_once(&PXSymbolNameForTransientCollectionIdentifier_onceToken, &__block_literal_global_138328);
  }

  v3 = [PXSymbolNameForTransientCollectionIdentifier_symbolNames objectForKeyedSubscript:v2];

  if (v3)
  {
    v4 = v3;
  }

  else
  {
    v4 = @"rectangle.stack";
  }

  v5 = v4;

  return v4;
}

void __PXSymbolNameForTransientCollectionIdentifier_block_invoke()
{
  v3[30] = *MEMORY[0x1E69E9840];
  v2[0] = @"PXMomentsVirtualCollection";
  v2[1] = @"PXPhotosVirtualCollection";
  v3[0] = @"photos";
  v3[1] = @"photo.on.rectangle";
  v2[2] = @"PXPickerAllPhotosVirtualCollection";
  v2[3] = @"PXAllAlbumsVirtualCollection";
  v3[2] = @"photo.on.rectangle";
  v3[3] = @"rectangle.stack";
  v2[4] = @"PXAllProjectsVirtualCollection";
  v2[5] = @"PXPeopleVirtualCollection";
  v3[4] = @"rectangle.stack";
  v3[5] = @"person.crop.circle";
  v2[6] = @"PXTransientCollectionIdentifierFeatured";
  v2[7] = @"PXEventsVirtualCollection";
  v3[6] = @"party.popper";
  v3[7] = @"clock";
  v2[8] = @"PXTripsVirtualCollection";
  v2[9] = @"PXTransientCollectionIdentifierDocuments";
  v3[8] = @"suitcase";
  v3[9] = @"doc.text";
  v2[10] = @"PXTransientCollectionIdentifierUtilities";
  v2[11] = @"PXCollectionsVirtualCollection";
  v3[10] = @"wrench.and.screwdriver";
  v3[11] = @"rectangle.stack";
  v2[12] = @"PXWallpaperSuggestionsVirtualCollection";
  v2[13] = @"PXBookmarksVirtualCollection";
  v3[12] = @"ipad.landscape";
  v3[13] = @"pin";
  v2[14] = @"PXRecentlySharedVirtualCollection";
  v2[15] = @"PXRecentlyEditedVirtualCollection";
  v3[14] = @"square.and.arrow.up.badge.clock";
  v3[15] = @"slider.horizontal.3";
  v2[16] = @"PXRecentlyViewedVirtualCollection";
  v2[17] = @"PXMemoriesVirtualCollection";
  v3[16] = @"eye";
  v3[17] = @"memories";
  v2[18] = @"PXCompleteMyMomentVirtualCollection";
  v2[19] = @"PXSharedActivityVirtualCollection";
  v3[18] = @"link.icloud";
  v3[19] = @"bubble.left.and.bubble.right";
  v2[20] = @"PXSharedAlbumsVirtualCollection";
  v2[21] = @"PXImportHistoryVirtualCollection";
  v3[20] = @"rectangle.stack.badge.person.crop";
  v3[21] = @"square.and.arrow.down";
  v2[22] = @"PXContentSyndicationVirtualCollection";
  v2[23] = @"PXContentSyndicationAllPhotosAssetCollection";
  v3[22] = @"shared.with.you";
  v3[23] = @"rectangle.stack";
  v2[24] = @"PXTransientCollectionIdentifierFeaturedPeople";
  v2[25] = @"PXTransientCollectionIdentifierFeaturedTrips";
  v3[24] = @"person.fill";
  v3[25] = @"briefcase.fill";
  v2[26] = @"PXTransientCollectionIdentifierFeaturedEvents";
  v2[27] = @"PXTransientCollectionIdentifierFeaturedMemories";
  v3[26] = @"memories";
  v3[27] = @"memories";
  v2[28] = @"PXFeaturedPhotosVirtualCollection";
  v2[29] = @"PXTransientCollectionIdentifierMap";
  v3[28] = @"photo";
  v3[29] = @"map";
  v0 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v3 forKeys:v2 count:30];
  v1 = PXSymbolNameForTransientCollectionIdentifier_symbolNames;
  PXSymbolNameForTransientCollectionIdentifier_symbolNames = v0;
}

void __PXSymbolNameForAssetCollectionSubtype_block_invoke()
{
  v3[34] = *MEMORY[0x1E69E9840];
  v2[0] = &unk_1F190C820;
  v2[1] = &unk_1F190C838;
  v3[0] = @"rectangle.stack";
  v3[1] = @"rectangle.stack";
  v2[2] = &unk_1F190C850;
  v2[3] = &unk_1F190C868;
  v3[2] = @"rectangle.stack";
  v3[3] = @"rectangle.stack";
  v2[4] = &unk_1F190C880;
  v2[5] = &unk_1F190C898;
  v3[4] = @"exclamationmark.icloud";
  v3[5] = @"square.stack.3d.down.dottedline";
  v2[6] = &unk_1F190C8B0;
  v2[7] = &unk_1F190C8C8;
  v3[6] = @"square.stack.3d.down.right";
  v3[7] = @"heart";
  v2[8] = &unk_1F190C8E0;
  v2[9] = &unk_1F190C8F8;
  v3[8] = @"eye.slash";
  v3[9] = @"person.crop.square";
  v2[10] = &unk_1F190C910;
  v2[11] = &unk_1F190C928;
  v3[10] = @"livephoto";
  v3[11] = @"livephoto.long.exposure";
  v2[12] = &unk_1F190C940;
  v2[13] = &unk_1F190C958;
  v3[12] = @"pano";
  v3[13] = @"spatial";
  v2[14] = &unk_1F190C970;
  v2[15] = &unk_1F190C988;
  v3[14] = @"camera.viewfinder";
  v3[15] = @"f.cursive.circle";
  v2[16] = &unk_1F190C9A0;
  v2[17] = &unk_1F190C9B8;
  v3[16] = @"video";
  v3[17] = @"slowmo";
  v2[18] = &unk_1F190C9D0;
  v2[19] = &unk_1F190C9E8;
  v3[18] = @"timelapse";
  v3[19] = @"actionCam";
  v2[20] = &unk_1F190CA00;
  v2[21] = &unk_1F190CA18;
  v3[20] = @"trash";
  v3[21] = @"arrow.up.bin";
  v2[22] = &unk_1F190CA30;
  v2[23] = &unk_1F190CA48;
  v3[22] = @"mappin.and.ellipse";
  v3[23] = @"clock";
  v2[24] = &unk_1F190CA60;
  v2[25] = &unk_1F190CA78;
  v3[24] = @"clock";
  v3[25] = @"square.and.arrow.down.badge.clock";
  v2[26] = &unk_1F190CA90;
  v2[27] = &unk_1F190CAA8;
  v3[26] = @"record.circle";
  v3[27] = @"gearshape";
  v2[28] = &unk_1F190CAC0;
  v2[29] = &unk_1F190CAD8;
  v3[28] = @"r.square.on.square";
  v3[29] = @"cinematic.video";
  v2[30] = &unk_1F190CAF0;
  v2[31] = &unk_1F190CB08;
  v3[30] = @"video.circle";
  v3[31] = @"person.2";
  v2[32] = &unk_1F190CB20;
  v2[33] = &unk_1F190CB38;
  v3[32] = @"square.on.square";
  v3[33] = @"person.crop.pip";
  v0 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v3 forKeys:v2 count:34];
  v1 = PXSymbolNameForAssetCollectionSubtype_symbolNames;
  PXSymbolNameForAssetCollectionSubtype_symbolNames = v0;
}

uint64_t PXStoryTitleInternationalStyleForStringAndAssetCollectionUUID(void *a1, void *a2)
{
  v3 = a1;
  v4 = [a2 hash];
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXStoryTitleInternationalStyleForStringAndAssetCollectionUUID_block_invoke;
  aBlock[3] = &__block_descriptor_40_e11_B24__0q8d16l;
  aBlock[4] = v4;
  v5 = _Block_copy(aBlock);
  v6 = +[PXStorySettings sharedInstance];
  if (v5[2](v5, [v6 verticalTextMode], 1.0) && (_PXCTStringIsSuitableForVerticalLayout(v3) & 1) != 0)
  {
    v7 = 1;
  }

  else if (v5[2](v5, [v6 kashidaTextMode], 0.5) && (CTStringIsSuitableForArabicJustification() & 1) != 0)
  {
    v7 = 2;
  }

  else
  {
    v7 = 0;
  }

  return v7;
}

uint64_t __PXStoryTitleInternationalStyleForStringAndAssetCollectionUUID_block_invoke(uint64_t a1, uint64_t a2)
{
  if (a2 == 2)
  {
    return 1;
  }

  if (!a2)
  {
    PXFloatApproximatelyEqualToFloat();
  }

  return 0;
}

uint64_t _PXCTStringIsSuitableForVerticalLayout(void *a1)
{
  v1 = a1;
  if (_AXSPrefersHorizontalTextLayout())
  {
    v2 = 0;
  }

  else
  {
    v8 = 0;
    v9 = &v8;
    v10 = 0x2020000000;
    IsSuitableForVerticalLayout = CTStringIsSuitableForVerticalLayout();
    if (*(v9 + 24) == 1)
    {
      if (_PXCTStringIsSuitableForVerticalLayout_onceToken != -1)
      {
        dispatch_once(&_PXCTStringIsSuitableForVerticalLayout_onceToken, &__block_literal_global_138658);
      }

      v3 = [v1 length];
      v5[0] = MEMORY[0x1E69E9820];
      v5[1] = 3221225472;
      v5[2] = ___PXCTStringIsSuitableForVerticalLayout_block_invoke_2;
      v5[3] = &unk_1E773CC58;
      v6 = v1;
      v7 = &v8;
      [v6 enumerateSubstringsInRange:0 options:v3 usingBlock:{2, v5}];
      v2 = *(v9 + 24);
    }

    else
    {
      v2 = 0;
    }

    _Block_object_dispose(&v8, 8);
  }

  return v2 & 1;
}

void sub_1A4EA79FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t PXStoryTitleInternationalStyleAppliedToAttributedString(void *a1)
{
  v1 = a1;
  if ([v1 length])
  {
    v2 = [v1 attributesAtIndex:0 effectiveRange:0];
    v3 = [v2 valueForKey:*off_1E7722288];
    v4 = [v3 isEqual:MEMORY[0x1E695E118]];

    if (v4)
    {
      v5 = 1;
    }

    else
    {
      v6 = [v2 valueForKey:*MEMORY[0x1E69DB688]];
      if ([v6 spansAllLines])
      {
        v5 = 2;
      }

      else
      {
        v5 = 0;
      }
    }
  }

  else
  {
    v5 = 0;
  }

  return v5;
}

void PXStoryTitleInternationalStyleRegisterPreferencesObserver(void *a1)
{
  observer = a1;
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();
  CFNotificationCenterAddObserver(DarwinNotifyCenter, observer, _handlePreferenceChanged_138670, *MEMORY[0x1E69E4E70], 0, 1028);
}

void _handlePreferenceChanged_138670(uint64_t a1, void *a2)
{
  v3 = objc_initWeak(&location, a2);

  if (a2)
  {
    objc_copyWeak(&v4, &location);
    px_dispatch_on_main_queue();
  }

  objc_destroyWeak(&location);
}

void sub_1A4EA7CA8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, ...)
{
  va_start(va, a5);
  objc_destroyWeak(va);
  objc_destroyWeak((v5 - 24));
  _Unwind_Resume(a1);
}

void ___handlePreferenceChanged_block_invoke_138671(uint64_t a1)
{
  WeakRetained = objc_loadWeakRetained((a1 + 32));
  [WeakRetained internationalStyleTitlePreferencesDidChange];
}

void PXStoryTitleInternationalStyleUnregisterPreferencesObserver(void *a1)
{
  observer = a1;
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();
  CFNotificationCenterRemoveObserver(DarwinNotifyCenter, observer, *MEMORY[0x1E69E4E70], 0);
}

void sub_1A4EA9EEC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXStoryProducerRequestOptionsDescription(uint64_t a1)
{
  v2 = [objc_alloc(MEMORY[0x1E696AD60]) initWithString:@"["];
  v11[0] = 0;
  v11[1] = v11;
  v11[2] = 0x2020000000;
  v12 = 1;
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXStoryProducerRequestOptionsDescription_block_invoke;
  aBlock[3] = &unk_1E773CD50;
  v9 = v11;
  v10 = a1;
  v3 = v2;
  v8 = v3;
  v4 = _Block_copy(aBlock);
  v4[2](v4, 1, @"InitialSynchronousDeliveryRequired");
  v4[2](v4, 2, @"SingleDeliveryPreferred");
  v4[2](v4, 4, @"SingleDeliveryRequired");
  v4[2](v4, 8, @"VerboseDebugInfo");
  [v3 appendString:@"]"];
  v5 = [v3 copy];

  _Block_object_dispose(v11, 8);

  return v5;
}

void sub_1A4EACDD4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXStoryProducerRequestOptionsDescription_block_invoke(uint64_t a1, uint64_t a2, void *a3)
{
  v5 = a3;
  v6 = v5;
  if ((a2 & ~*(a1 + 48)) == 0)
  {
    v7 = *(*(a1 + 40) + 8);
    v8 = v5;
    if (*(v7 + 24) == 1)
    {
      *(v7 + 24) = 0;
    }

    else
    {
      [*(a1 + 32) appendString:{@", "}];
    }

    [*(a1 + 32) appendString:v8];
    v6 = v8;
  }
}

void sub_1A4EAED94(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EB41E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EB48EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, char a27)
{
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose((v27 - 160), 8);
  _Block_object_dispose((v27 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__140670(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id PLAssetFetchResultProviderGetLog()
{
  if (PLAssetFetchResultProviderGetLog_predicate != -1)
  {
    dispatch_once(&PLAssetFetchResultProviderGetLog_predicate, &__block_literal_global_140677);
  }

  v1 = PLAssetFetchResultProviderGetLog_log;

  return v1;
}

void __PLAssetFetchResultProviderGetLog_block_invoke()
{
  v0 = os_log_create(*MEMORY[0x1E69BDDA0], "AssetFetchResultProvider");
  v1 = PLAssetFetchResultProviderGetLog_log;
  PLAssetFetchResultProviderGetLog_log = v0;
}

void sub_1A4EB5A2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

unint64_t PXCuratedLibraryOverlayButtonStyleWithDarkVariant(unint64_t result)
{
  if (result <= 0xA && ((0x555u >> result) & 1) != 0)
  {
    return qword_1A5382148[result];
  }

  return result;
}

uint64_t __Block_byref_object_copy__141361(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id getMFMailComposeViewControllerClass_141480()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getMFMailComposeViewControllerClass_softClass_141531;
  v7 = getMFMailComposeViewControllerClass_softClass_141531;
  if (!getMFMailComposeViewControllerClass_softClass_141531)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke_141532;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_141532(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4EBE2BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_141532(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_141533)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_141534;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E773D0C0;
    v8 = 0;
    MessageUILibraryCore_frameworkLibrary_141533 = _sl_dlopen();
  }

  if (!MessageUILibraryCore_frameworkLibrary_141533)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MessageUILibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXSettingsHighlightEstimatesExportViewController.m" lineNumber:21 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("MFMailComposeViewController");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXSettingsHighlightEstimatesExportViewController.m" lineNumber:22 description:{@"Unable to find class %s", "MFMailComposeViewController"}];

LABEL_10:
    __break(1u);
  }

  getMFMailComposeViewControllerClass_softClass_141531 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_141534()
{
  result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_141533 = result;
  return result;
}

void sub_1A4EBE8D0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1A4EC039C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__142052(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EC19EC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak((v19 + 32));
  objc_destroyWeak((v20 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EC2DA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location)
{
  objc_destroyWeak((v22 + 56));
  objc_destroyWeak(&location);
  _Block_object_dispose((v23 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__142555(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EC883C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsMessageIdentifierKeySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupOptionsMessageIdentifierKey");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsMessageIdentifierKeySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *StoreKitLibrary()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!StoreKitLibraryCore_frameworkLibrary)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __StoreKitLibraryCore_block_invoke;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E773D270;
    v6 = 0;
    StoreKitLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  v0 = StoreKitLibraryCore_frameworkLibrary;
  if (!StoreKitLibraryCore_frameworkLibrary)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *StoreKitLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"StoreKit+PhotosUICore.m" lineNumber:16 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

uint64_t __StoreKitLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  StoreKitLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1A4EC8BB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsCampaignTokenKeySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupOptionsCampaignTokenKey");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsCampaignTokenKeySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC8D6C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsAffiliateTokenKeySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupOptionsAffiliateTokenKey");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsAffiliateTokenKeySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC8F20(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsITunesItemIdentifierKeySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupOptionsITunesItemIdentifierKey");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsITunesItemIdentifierKeySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC90D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsActionKeySymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupOptionsActionKey");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsActionKeySymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC9288(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierPlayMusicSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierPlayMusic");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierPlayMusicSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC943C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierAddMusicSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierAddMusic");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierAddMusicSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC95F0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierConnectSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierConnect");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierConnectSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC97A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierJoinSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierJoin");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierJoinSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_1A4EC9958(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupActionSubscribeSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = StoreKitLibrary();
  result = dlsym(v2, "SKCloudServiceSetupActionSubscribe");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupActionSubscribeSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id PXConstructSKCloudServiceSetupViewController()
{
  v5 = 0;
  v6 = &v5;
  v7 = 0x2050000000;
  v0 = getSKCloudServiceSetupViewControllerClass_softClass;
  v8 = getSKCloudServiceSetupViewControllerClass_softClass;
  if (!getSKCloudServiceSetupViewControllerClass_softClass)
  {
    v4[0] = MEMORY[0x1E69E9820];
    v4[1] = 3221225472;
    v4[2] = __getSKCloudServiceSetupViewControllerClass_block_invoke;
    v4[3] = &unk_1E774BD00;
    v4[4] = &v5;
    __getSKCloudServiceSetupViewControllerClass_block_invoke(v4);
    v0 = v6[3];
  }

  v1 = v0;
  _Block_object_dispose(&v5, 8);
  v2 = objc_alloc_init(v0);

  return v2;
}

void sub_1A4EC9A8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getSKCloudServiceSetupViewControllerClass_block_invoke(uint64_t a1)
{
  StoreKitLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("SKCloudServiceSetupViewController");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getSKCloudServiceSetupViewControllerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getSKCloudServiceSetupViewControllerClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"StoreKit+PhotosUICore.m" lineNumber:34 description:{@"Unable to find class %s", "SKCloudServiceSetupViewController"}];

    __break(1u);
  }
}

void sub_1A4ECE978(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v11 - 64), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__144752(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4ECF604(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__144903(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

double _interiorPointForCorner(uint64_t a1, double a2, double a3, double a4)
{
  if (a1 > 3)
  {
    v5 = a2 + a4;
    v6 = a4 - a3;
    if (a1 == 8)
    {
      a2 = v6;
    }

    if (a1 == 4)
    {
      return v5;
    }

    else
    {
      return a2;
    }
  }

  else if (a1 == 1)
  {
    return a3 + a4;
  }

  else
  {
    v4 = a4 - a2;
    if (a1 != 2)
    {
      return a2;
    }
  }

  return v4;
}

void sub_1A4ED4354(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 128));
  _Unwind_Resume(a1);
}

void sub_1A4ED4888(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, id a17)
{
  objc_destroyWeak((v17 + 40));
  objc_destroyWeak((v17 + 32));
  objc_destroyWeak(&location);
  objc_destroyWeak(&a17);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__145425(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id PXSharedLibraryReplyAssistantAttributedSubtitle(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a3;
  v7 = a2;
  v8 = PXSharedLibraryFullNameForParticipant(v5);
  v9 = PXSharedLibraryShortNameForParticipant(v5);
  if (![v9 length])
  {
    v10 = v8;

    v9 = v10;
  }

  if ([v8 length])
  {
    v11 = [v5 emailAddress];
    if ([v8 isEqualToString:v11])
    {
      v12 = 0;
    }

    else
    {
      v13 = [v5 phoneNumber];
      v12 = [v8 isEqualToString:v13] ^ 1;
    }
  }

  else
  {
    v12 = 0;
  }

  v14 = [v5 emailAddress];
  v15 = [v14 length];

  v16 = [v5 phoneNumber];
  v17 = v15 | [v16 length];

  v18 = v17 == 0;
  if (v15)
  {
    [v5 emailAddress];
  }

  else
  {
    [v5 phoneNumber];
  }
  v19 = ;
  if (!v18 && (v12 & 1) != 0)
  {
    PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle_NameAndEmail_Format");
    objc_claimAutoreleasedReturnValue();
    goto LABEL_16;
  }

  if (v12)
  {
    PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle_Name_Format");
    objc_claimAutoreleasedReturnValue();
    goto LABEL_16;
  }

  if (!v18)
  {
    PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle_Email_Format");
    objc_claimAutoreleasedReturnValue();
LABEL_16:
    PXLocalizedStringWithValidatedFormat();
  }

  v22 = PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle");
  v20 = [MEMORY[0x1E696AAB0] px_attributedStringWithHTMLString:v22 defaultAttributes:v7 emphasizedAttributes:v6];

  return v20;
}

id PXSharedLibraryReplyAssistantSubtitle(void *a1)
{
  v1 = PXSharedLibraryReplyAssistantAttributedSubtitle(a1, MEMORY[0x1E695E0F8], MEMORY[0x1E695E0F8]);
  v2 = [v1 string];

  return v2;
}

void PXSharedLibraryReplyAssistantReviewSubtitle(void *a1, void *a2)
{
  v3 = a2;
  v4 = PXSharedLibraryFullNameForParticipant(v3);
  if ([v4 length])
  {
    v5 = [v3 emailAddress];
    if ([v4 isEqualToString:v5])
    {
      LOBYTE(v6) = 0;
    }

    else
    {
      v7 = [v3 phoneNumber];
      v6 = [v4 isEqualToString:v7] ^ 1;
    }
  }

  else
  {
    LOBYTE(v6) = 0;
  }

  v8 = [v3 emailAddress];
  v9 = [v8 length];

  v10 = [v3 phoneNumber];
  v11 = v9 | [v10 length];

  v12 = @"Email";
  if ((v6 & (v11 != 0)) != 0)
  {
    v12 = @"NameAndEmail";
  }

  v13 = v12;
  if (v9)
  {
    [v3 emailAddress];
  }

  else
  {
    [v3 phoneNumber];
  }

  objc_claimAutoreleasedReturnValue();
  if (*a1 != 0x7FFFFFFFFFFFFFFFLL)
  {
    v14 = a1[1];
    if (v14 != 0x7FFFFFFFFFFFFFFFLL)
    {
      v15 = a1[2];
      if (v15 != 0x7FFFFFFFFFFFFFFFLL)
      {
        if (v15)
        {
          v16 = [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_Items_%@_Format", v13];
          PXLocalizedSharedLibraryString(v16);
          objc_claimAutoreleasedReturnValue();

          goto LABEL_24;
        }

        if (*a1)
        {
          if (v14)
          {
            [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_PhotosAndVideos_%@_Format", v13];
          }

          else
          {
            [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_Photos_%@_Format", v13];
          }
          v17 = ;
          PXLocalizedSharedLibraryString(v17);
          objc_claimAutoreleasedReturnValue();

LABEL_24:
          PXLocalizedStringWithValidatedFormat();
        }

        if (v14)
        {
          v18 = [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_Videos_%@_Format", v13];
          PXLocalizedSharedLibraryString(v18);
          objc_claimAutoreleasedReturnValue();

          goto LABEL_24;
        }
      }
    }
  }

  v19 = [MEMORY[0x1E696AEC0] stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_NoCount_%@_Format", v13];
  PXLocalizedSharedLibraryString(v19);
  objc_claimAutoreleasedReturnValue();

  PXLocalizedStringWithValidatedFormat();
}

id PXSharedLibraryGetCurrentUserParticipant(void *a1)
{
  v12 = *MEMORY[0x1E69E9840];
  v7 = 0u;
  v8 = 0u;
  v9 = 0u;
  v10 = 0u;
  v1 = [a1 participants];
  v2 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
  if (v2)
  {
    v3 = *v8;
    while (2)
    {
      for (i = 0; i != v2; i = i + 1)
      {
        if (*v8 != v3)
        {
          objc_enumerationMutation(v1);
        }

        v5 = *(*(&v7 + 1) + 8 * i);
        if ([v5 isCurrentUser])
        {
          v2 = v5;
          goto LABEL_11;
        }
      }

      v2 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
      if (v2)
      {
        continue;
      }

      break;
    }
  }

LABEL_11:

  return v2;
}

id PXStoryDisplayAssetCollectionShortTitle(void *a1)
{
  v1 = [a1 localizedTitle];
  if ([v1 length] >= 0x1F)
  {
    v2 = [v1 substringToIndex:30];
    v3 = [v2 stringByAppendingString:@""];

    v1 = v3;
  }

  v4 = [v1 stringByReplacingOccurrencesOfString:@"\n" withString:@" "];

  return v4;
}

id PXStorySceneClassificationDescription(void *a1)
{
  v24 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [MEMORY[0x1E69C0850] sharedTaxonomy];
  v3 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v18 = v1;
  v4 = [v1 allObjects];
  v5 = [v4 sortedArrayUsingComparator:&__block_literal_global_145544];

  v21 = 0u;
  v22 = 0u;
  v19 = 0u;
  v20 = 0u;
  v6 = v5;
  v7 = [v6 countByEnumeratingWithState:&v19 objects:v23 count:16];
  if (v7)
  {
    v8 = v7;
    v9 = *v20;
    do
    {
      for (i = 0; i != v8; ++i)
      {
        if (*v20 != v9)
        {
          objc_enumerationMutation(v6);
        }

        v11 = *(*(&v19 + 1) + 8 * i);
        if ([v2 nodeRefForExtendedSceneClassId:{objc_msgSend(v11, "extendedSceneIdentifier")}])
        {
          v12 = MEMORY[0x1E696AEC0];
          v13 = PFSceneTaxonomyNodeName();
          [v11 confidence];
          v15 = [v12 stringWithFormat:@"%@=%0.0f", v13, v14 * 100.0];

          [v3 addObject:v15];
        }
      }

      v8 = [v6 countByEnumeratingWithState:&v19 objects:v23 count:16];
    }

    while (v8);
  }

  v16 = [v3 componentsJoinedByString:@" "];

  return v16;
}

uint64_t __PXStorySceneClassificationDescription_block_invoke(uint64_t a1, void *a2, void *a3)
{
  v4 = a2;
  v5 = a3;
  [v4 confidence];
  v7 = v6;
  [v5 confidence];
  if (v7 <= v8)
  {
    [v4 confidence];
    v11 = v10;
    [v5 confidence];
    v9 = v11 < v12;
  }

  else
  {
    v9 = -1;
  }

  return v9;
}

void sub_1A4EDF134(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__146667(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EE06BC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXSharedLibraryLegacyDevicesStateDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"Invalid PXSharedLibraryLegacyDevicesState: %ld", a1];
  }

  else
  {
    v2 = off_1E773D730[a1];
  }

  return v2;
}

uint64_t __Block_byref_object_copy__146941(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EE5878(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, char a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  objc_destroyWeak((v72 - 224));
  _Block_object_dispose((v72 - 176), 8);
  _Block_object_dispose(&a60, 8);
  _Block_object_dispose(&a64, 8);
  _Block_object_dispose(&a68, 8);
  _Block_object_dispose(&a72, 8);
  _Block_object_dispose(&STACK[0x218], 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__147498(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EE98E4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, char a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, char a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, char a43)
{
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose(&a33, 8);
  _Block_object_dispose(&a43, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__148208(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EEAA84(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4EED928(_Unwind_Exception *a1)
{
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v3 - 128));
  _Unwind_Resume(a1);
}

void sub_1A4EEEC28(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak((v19 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EEEDBC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EEFBC4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EEFD4C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EF37E8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__150216(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EF5E10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4EF9778(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v16 - 120), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__150797(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

__CFString *PXAssetActionTypeForSelectingAssetVariationType(uint64_t a1)
{
  v2 = &stru_1F1741150;
  if (a1 > 1)
  {
    if (a1 == 2)
    {
      v3 = off_1E7721C10;
    }

    else
    {
      if (a1 != 3)
      {
        goto LABEL_11;
      }

      v3 = off_1E7721C08;
    }

    goto LABEL_10;
  }

  switch(a1)
  {
    case 0:
      v3 = off_1E7721C18;
      goto LABEL_10;
    case 1:
      v3 = off_1E7721C00;
LABEL_10:
      v2 = *v3;
      break;
    case -1:
      v5 = [MEMORY[0x1E696AAA8] currentHandler];
      v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXAssetActionTypeForSelectingAssetVariationType(PXAssetVariationType)"];
      [v5 handleFailureInFunction:v6 file:@"PXPhotoKitAssetActionManager.m" lineNumber:94 description:@"Code which should be unreachable has been reached"];

      abort();
  }

LABEL_11:

  return v2;
}

uint64_t PXAssetVariationTypeForAssetActionType(void *a1)
{
  v1 = a1;
  if ([v1 isEqualToString:*off_1E7721C18])
  {
    v2 = 0;
  }

  else if ([v1 isEqualToString:*off_1E7721C00])
  {
    v2 = 1;
  }

  else if ([v1 isEqualToString:*off_1E7721C10])
  {
    v2 = 2;
  }

  else
  {
    if (([v1 isEqualToString:*off_1E7721C08] & 1) == 0)
    {
      v4 = [MEMORY[0x1E696AAA8] currentHandler];
      v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXAssetVariationType PXAssetVariationTypeForAssetActionType(NSString *__strong _Nonnull)"];
      [v4 handleFailureInFunction:v5 file:@"PXPhotoKitAssetActionManager.m" lineNumber:111 description:@"Code which should be unreachable has been reached"];

      abort();
    }

    v2 = 3;
  }

  return v2;
}

uint64_t __Block_byref_object_copy__150922(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4EFB300(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, char a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, char a40)
{
  _Block_object_dispose(&a34, 8);
  _Block_object_dispose(&a40, 8);
  _Unwind_Resume(a1);
}

void sub_1A4EFBACC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v17 + 40));
  objc_destroyWeak(&location);
  objc_sync_exit(v16);
  _Unwind_Resume(a1);
}

void sub_1A4EFD028(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  objc_sync_exit(v14);
  _Unwind_Resume(a1);
}

void sub_1A4EFED38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  objc_destroyWeak(&a65);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

BOOL PXRunNodeStateCanTransitionToState(uint64_t a1, uint64_t a2)
{
  v2 = (a1 & 0xFFFFFFFFFFFFFFFELL) != 2;
  v3 = a1 == 0;
  if (a2 != 1)
  {
    v3 = 0;
  }

  if (a2 != 2)
  {
    v2 = v3;
  }

  if (a2 == 3)
  {
    return a1 == 1;
  }

  else
  {
    return v2;
  }
}

BOOL PXStorySegmentMixIsNull(uint64_t a1)
{
  v1 = (a1 + 16);
  if (*(a1 + 8) <= 0.5)
  {
    v1 = a1;
  }

  return *v1 == 0;
}

uint64_t PXStorySegmentMixMakeWithSegment@<X0>(uint64_t result@<X0>, void *a2@<X8>)
{
  a2[1] = 0;
  a2[2] = 0;
  *a2 = result;
  return result;
}

uint64_t PXStorySegmentMixMakeWithMixBetweenTwoSegments@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>, double a4@<D0>)
{
  *a3 = result;
  *(a3 + 8) = a4;
  *(a3 + 16) = a2;
  return result;
}

__n128 PXStorySegmentMixStandardize@<Q0>(__n128 *a1@<X0>, __n128 *a2@<X8>)
{
  v2 = a1->n128_f64[1];
  if (v2 <= 0.5)
  {
    result = *a1;
    *a2 = *a1;
    a2[1].n128_u64[0] = a1[1].n128_u64[0];
  }

  else
  {
    result.n128_f64[0] = 1.0 - v2;
    v4 = a1->n128_u64[0];
    a2->n128_u64[0] = a1[1].n128_u64[0];
    a2->n128_u64[1] = result.n128_u64[0];
    a2[1].n128_u64[0] = v4;
  }

  return result;
}

BOOL PXStorySegmentMixIsPure(uint64_t a1)
{
  v1 = *(a1 + 8);
  if (v1 > 0.5)
  {
    v1 = 1.0 - v1;
  }

  return v1 == 0.0;
}

void sub_1A4EFF7F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F00A38(_Unwind_Exception *a1)
{
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v3 - 56));
  _Unwind_Resume(a1);
}

void sub_1A4F00D54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  objc_destroyWeak((v8 + 40));
  objc_destroyWeak((v9 - 72));
  _Unwind_Resume(a1);
}

void sub_1A4F01410(_Unwind_Exception *a1)
{
  objc_destroyWeak((v2 + 40));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v3 - 72));
  _Unwind_Resume(a1);
}

void sub_1A4F0159C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1A4F036E8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F0399C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F04E1C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F06634(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  v10 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  v13 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F09E90(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak((v20 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t PXCPLUIStatusDiff(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3 == v4)
  {
    v6 = 0;
  }

  else
  {
    v6 = 0x7FFFFFLL;
    if (v3 && v4)
    {
      v7 = [v3 stateDescription];
      v8 = [v5 stateDescription];
      if (v7 != v8)
      {
        [v7 isEqualToString:v8];
      }

      v9 = [v3 failureDescription];
      v10 = [v5 failureDescription];
      v11 = v10;
      if (v9 == v10)
      {
      }

      else
      {
        [v9 isEqualToString:v10];
      }

      v12 = [v3 internalInformationMessage];
      v13 = [v5 internalInformationMessage];
      v14 = v13;
      if (v12 == v13)
      {
      }

      else
      {
        [v12 isEqualToString:v13];
      }

      [v3 isPaused];
      [v5 isPaused];
      [v3 progress];
      [v5 progress];
      PXFloatApproximatelyEqualToFloat();
    }
  }

  return v6;
}

id PXCPLUIStatusChangedDebugDescription(uint64_t a1)
{
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v3 = v2;
  if (!a1)
  {
    v4 = @"none";
    goto LABEL_52;
  }

  if (a1 == 0x7FFFFF)
  {
    v4 = @"all";
LABEL_52:
    [v3 addObject:v4];
    goto LABEL_53;
  }

  if (a1)
  {
    [v2 addObject:@"PXCPLUIStatusChangedStateDescription"];
    if ((a1 & 2) == 0)
    {
LABEL_7:
      if ((a1 & 4) == 0)
      {
        goto LABEL_8;
      }

      goto LABEL_31;
    }
  }

  else if ((a1 & 2) == 0)
  {
    goto LABEL_7;
  }

  [v3 addObject:@"PXCPLUIStatusChangedFailureDescription"];
  if ((a1 & 4) == 0)
  {
LABEL_8:
    if ((a1 & 8) == 0)
    {
      goto LABEL_9;
    }

    goto LABEL_32;
  }

LABEL_31:
  [v3 addObject:@"PXCPLUIStatusChangedInternalInformationMessage"];
  if ((a1 & 8) == 0)
  {
LABEL_9:
    if ((a1 & 0x10) == 0)
    {
      goto LABEL_10;
    }

    goto LABEL_33;
  }

LABEL_32:
  [v3 addObject:@"PXCPLUIStatusChangedPaused"];
  if ((a1 & 0x10) == 0)
  {
LABEL_10:
    if ((a1 & 0x20) == 0)
    {
      goto LABEL_11;
    }

    goto LABEL_34;
  }

LABEL_33:
  [v3 addObject:@"PXCPLUIStatusChangedProgress"];
  if ((a1 & 0x20) == 0)
  {
LABEL_11:
    if ((a1 & 0x40) == 0)
    {
      goto LABEL_12;
    }

    goto LABEL_35;
  }

LABEL_34:
  [v3 addObject:@"PXCPLUIStatusChangedActionTitle"];
  if ((a1 & 0x40) == 0)
  {
LABEL_12:
    if ((a1 & 0x80) == 0)
    {
      goto LABEL_13;
    }

    goto LABEL_36;
  }

LABEL_35:
  [v3 addObject:@"PXCPLUIStatusChangedActionConfirmationAlertTitle"];
  if ((a1 & 0x80) == 0)
  {
LABEL_13:
    if ((a1 & 0x100) == 0)
    {
      goto LABEL_14;
    }

    goto LABEL_37;
  }

LABEL_36:
  [v3 addObject:@"PXCPLUIStatusChangedActionConfirmationAlertSubtitle"];
  if ((a1 & 0x100) == 0)
  {
LABEL_14:
    if ((a1 & 0x200) == 0)
    {
      goto LABEL_15;
    }

    goto LABEL_38;
  }

LABEL_37:
  [v3 addObject:@"PXCPLUIStatusChangedActionConfirmationAlertButtonTitle"];
  if ((a1 & 0x200) == 0)
  {
LABEL_15:
    if ((a1 & 0x400) == 0)
    {
      goto LABEL_16;
    }

    goto LABEL_39;
  }

LABEL_38:
  [v3 addObject:@"PXCPLUIStatusChangedReferencedItemsDescription"];
  if ((a1 & 0x400) == 0)
  {
LABEL_16:
    if ((a1 & 0x800) == 0)
    {
      goto LABEL_17;
    }

    goto LABEL_40;
  }

LABEL_39:
  [v3 addObject:@"PXCPLUIStatusChangedState"];
  if ((a1 & 0x800) == 0)
  {
LABEL_17:
    if ((a1 & 0x1000) == 0)
    {
      goto LABEL_18;
    }

    goto LABEL_41;
  }

LABEL_40:
  [v3 addObject:@"PXCPLUIStatusChangedActivity"];
  if ((a1 & 0x1000) == 0)
  {
LABEL_18:
    if ((a1 & 0x2000) == 0)
    {
      goto LABEL_19;
    }

    goto LABEL_42;
  }

LABEL_41:
  [v3 addObject:@"PXCPLUIStatusChangedPauseReason"];
  if ((a1 & 0x2000) == 0)
  {
LABEL_19:
    if ((a1 & 0x4000) == 0)
    {
      goto LABEL_20;
    }

    goto LABEL_43;
  }

LABEL_42:
  [v3 addObject:@"PXCPLUIStatusChangedServiceAction"];
  if ((a1 & 0x4000) == 0)
  {
LABEL_20:
    if ((a1 & 0x8000) == 0)
    {
      goto LABEL_21;
    }

    goto LABEL_44;
  }

LABEL_43:
  [v3 addObject:@"PXCPLUIStatusChangedInResetSync"];
  if ((a1 & 0x8000) == 0)
  {
LABEL_21:
    if ((a1 & 0x10000) == 0)
    {
      goto LABEL_22;
    }

    goto LABEL_45;
  }

LABEL_44:
  [v3 addObject:@"PXCPLUIStatusChangedIsRestoringLibrary"];
  if ((a1 & 0x10000) == 0)
  {
LABEL_22:
    if ((a1 & 0x20000) == 0)
    {
      goto LABEL_23;
    }

    goto LABEL_46;
  }

LABEL_45:
  [v3 addObject:@"PXCPLUIStatusChangedHasCompletedInitialSync"];
  if ((a1 & 0x20000) == 0)
  {
LABEL_23:
    if ((a1 & 0x40000) == 0)
    {
      goto LABEL_24;
    }

    goto LABEL_47;
  }

LABEL_46:
  [v3 addObject:@"PXCPLUIStatusChangedIsExiting"];
  if ((a1 & 0x40000) == 0)
  {
LABEL_24:
    if ((a1 & 0x80000) == 0)
    {
      goto LABEL_25;
    }

    goto LABEL_48;
  }

LABEL_47:
  [v3 addObject:@"PXCPLUIStatusChangedNumberOfItemsFailingToUpload"];
  if ((a1 & 0x80000) == 0)
  {
LABEL_25:
    if ((a1 & 0x100000) == 0)
    {
      goto LABEL_26;
    }

    goto LABEL_49;
  }

LABEL_48:
  [v3 addObject:@"PXCPLUIStatusChangedIsUpgradeSuggestedToAccessAllPhotos"];
  if ((a1 & 0x100000) == 0)
  {
LABEL_26:
    if ((a1 & 0x200000) == 0)
    {
      goto LABEL_27;
    }

LABEL_50:
    [v3 addObject:@"PXCPLUIStatusChangedNumberOfVideoAssets"];
    if ((a1 & 0x400000) == 0)
    {
      goto LABEL_53;
    }

    goto LABEL_51;
  }

LABEL_49:
  [v3 addObject:@"PXCPLUIStatusChangedNumberOfPhotoAssets"];
  if ((a1 & 0x200000) != 0)
  {
    goto LABEL_50;
  }

LABEL_27:
  if ((a1 & 0x400000) != 0)
  {
LABEL_51:
    v4 = @"PXCPLUIStatusChangedNumberOfOtherAssets";
    goto LABEL_52;
  }

LABEL_53:
  v5 = MEMORY[0x1E696AEC0];
  v6 = [v3 componentsJoinedByString:{@", "}];
  v7 = [v5 stringWithFormat:@"<%@>", v6];

  return v7;
}

uint64_t __Block_byref_object_copy__154326(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

__CFString *PXPhotosGridFilterActionIdentifierFromNumber(void *a1)
{
  v1 = [a1 integerValue];
  if ((v1 - 1) > 7)
  {
    v2 = &stru_1F1741150;
  }

  else
  {
    v2 = **(&unk_1E773E0A8 + v1 - 1);
  }

  return v2;
}

id PXStoryRelatedProducerCreateDefaultWithTargetUpNextCount(uint64_t a1)
{
  v2 = +[PXStorySettings sharedInstance];
  v3 = [v2 relatedProducerKind];

  if (v3)
  {
    if (v3 != 1)
    {
      goto LABEL_6;
    }

    v5 = off_1E771FE10;
  }

  else
  {
    v5 = off_1E771FDB0;
  }

  v4 = [objc_alloc(*v5) initWithTargetUpNextCount:a1];
LABEL_6:

  return v4;
}

unint64_t PXMemorySpecSetForTileKind(unint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  if (result > 6)
  {
    goto LABEL_17;
  }

  if (((1 << result) & 0x54) != 0)
  {
    v5 = a3 != 1 || a4 != 2;
    if (a3 == 2)
    {
      v5 = 0;
    }

    return (a2 - 1) < 2 && v5;
  }

  else
  {
    if (((1 << result) & 0x28) != 0)
    {
      return 2;
    }

    if (result != 1)
    {
LABEL_17:
      if (result)
      {
        v6 = [MEMORY[0x1E696AAA8] currentHandler];
        v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXMemorySpecSet PXMemorySpecSetForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)"}];
        v8 = v6;
        v9 = v7;
        v10 = 58;
      }

      else
      {
        v6 = [MEMORY[0x1E696AAA8] currentHandler];
        v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXMemorySpecSet PXMemorySpecSetForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)"}];
        v8 = v6;
        v9 = v7;
        v10 = 56;
      }

      [v8 handleFailureInFunction:v9 file:@"PXMemoriesFontsSpec.m" lineNumber:v10 description:@"Code which should be unreachable has been reached"];

      abort();
    }
  }

  return result;
}

uint64_t PXMemorySpecVariantForTileKind(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  if (a1 <= 3)
  {
    if ((a1 - 1) < 3)
    {
      return 2;
    }

    if (!a1)
    {
      v6 = [MEMORY[0x1E696AAA8] currentHandler];
      v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXMemorySpecVariant PXMemorySpecVariantForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)"}];
      v8 = v6;
      v9 = v7;
      v10 = 98;
      goto LABEL_22;
    }

LABEL_21:
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXMemorySpecVariant PXMemorySpecVariantForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)"}];
    v8 = v6;
    v9 = v7;
    v10 = 100;
LABEL_22:
    [v8 handleFailureInFunction:v9 file:@"PXMemoriesFontsSpec.m" lineNumber:v10 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  if (a1 != 6)
  {
    if (a1 == 5)
    {
      return 3;
    }

    if (a1 != 4)
    {
      goto LABEL_21;
    }
  }

  if ((a2 - 1) >= 2)
  {
    v5 = 4;
    if (a1 != 6)
    {
      v5 = 1;
    }

    if (a2 == 3)
    {
      return v5;
    }

    else
    {
      return 4;
    }
  }

  else
  {
    if (a3 == 2)
    {
      return 1;
    }

    result = 2;
    if (a3 == 1 && a4 == 2)
    {
      return 1;
    }
  }

  return result;
}

void _DisplayMarginForLayoutMarginSpecSetVariant()
{
  v0 = +[PXMemoriesRelatedSettings sharedInstance];
  [v0 enableIPadWideHeader];

  PXFloatApproximatelyEqualToFloat();
}

double _BaselineDistanceForFontSetSpecSetVariant(uint64_t a1, unint64_t a2)
{
  if (a1)
  {
    if (a1 != 1)
    {
      if (a1 == 2 && (a2 - 1 < 2 || !a2))
      {

        PXScaledValueForTextStyleWithMaxContentSizeCategoryAndSymbolicTraits();
      }

LABEL_15:
      v8 = [MEMORY[0x1E696AAA8] currentHandler];
      v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"CGFloat _BaselineDistanceForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
      [v8 handleFailureInFunction:v9 file:@"PXMemoriesFontsSpec.m" lineNumber:175 description:@"Code which should be unreachable has been reached"];

      abort();
    }

    if (a2 >= 3)
    {
      goto LABEL_15;
    }

    v6 = &unk_1A5382218;
  }

  else
  {
    if (a2 >= 3)
    {
      goto LABEL_15;
    }

    v6 = &unk_1A5382230;
  }

  return v6[a2];
}

id _FontNameForFontSetSpecSetVariant(uint64_t a1, unint64_t a2)
{
  if (a1 == 1)
  {
    v2 = _SubtitleFontNameForFontSetSpecSetVariant(a2);
  }

  else
  {
    if (a1)
    {
      v4 = [MEMORY[0x1E696AAA8] currentHandler];
      v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString *_FontNameForFontSetSpecSetVariant(PXMemoryLabelKind, PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
      [v4 handleFailureInFunction:v5 file:@"PXMemoriesFontsSpec.m" lineNumber:207 description:@"Code which should be unreachable has been reached"];

      abort();
    }

    v2 = *off_1E7722200;
  }

  return v2;
}

uint64_t _FontSizeForFontSetSpecSetVariant(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  if (a1 == 1)
  {

    return _SubtitleFontSizeForFontSetSpecSetVariant(a2, a3);
  }

  else
  {
    if (a1)
    {
      v9 = [MEMORY[0x1E696AAA8] currentHandler];
      v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSInteger _FontSizeForFontSetSpecSetVariant(PXMemoryLabelKind, PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
      [v9 handleFailureInFunction:v10 file:@"PXMemoriesFontsSpec.m" lineNumber:265 description:@"Code which should be unreachable has been reached"];

      abort();
    }

    return _TitleFontSizeForFontSetSpecSetVariant(a2, a3, a4);
  }
}

double _TrackingForSpecSet(uint64_t a1, unint64_t a2)
{
  if (!a1)
  {
    return 0.0;
  }

  if (a1 != 1)
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"CGFloat _TrackingForSpecSet(PXMemoryLabelKind, PXMemoryFontSet)"}];
    [v7 handleFailureInFunction:v8 file:@"PXMemoriesFontsSpec.m" lineNumber:320 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return _SubtitleTrackingForSpecSet(a2);
}

double _LineHeightForSpecSet(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  if (a1 == 1)
  {
    return 0.0;
  }

  if (a1)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"CGFloat _LineHeightForSpecSet(PXMemoryLabelKind, PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
    [v9 handleFailureInFunction:v10 file:@"PXMemoriesFontsSpec.m" lineNumber:298 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return _TitleLineHeightForSpecSet(a2, a3, a4);
}

double _TitleLineHeightForSpecSet(uint64_t a1, unint64_t a2, uint64_t a3)
{
  if ((a1 - 1) >= 2)
  {
    if (!a1 && a2 < 3)
    {
      return dbl_1A5382278[a2];
    }

LABEL_11:
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"CGFloat _TitleLineHeightForSpecSet(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
    [v8 handleFailureInFunction:v9 file:@"PXMemoriesFontsSpec.m" lineNumber:288 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  if (a2 - 1 < 2)
  {
    return 40.0;
  }

  if (a2)
  {
    goto LABEL_11;
  }

  result = 44.0;
  if (a3 == 1)
  {
    return 55.0;
  }

  return result;
}

double _SubtitleTrackingForSpecSet(unint64_t a1)
{
  if (a1 >= 3)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"CGFloat _SubtitleTrackingForSpecSet(PXMemoryFontSet)"];
    [v6 handleFailureInFunction:v7 file:@"PXMemoriesFontsSpec.m" lineNumber:310 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return dbl_1A5382290[a1];
}

uint64_t _TitleFontSizeForFontSetSpecSetVariant(uint64_t a1, unint64_t a2, uint64_t a3)
{
  if ((a1 - 1) >= 2)
  {
    if (!a1 && a2 < 3)
    {
      return qword_1A5382248[a2];
    }

LABEL_11:
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSInteger _TitleFontSizeForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
    [v8 handleFailureInFunction:v9 file:@"PXMemoriesFontsSpec.m" lineNumber:231 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  if (a2 - 1 < 2)
  {
    return 44;
  }

  if (a2)
  {
    goto LABEL_11;
  }

  if (a3 == 1)
  {
    return 60;
  }

  else
  {
    return 48;
  }
}

uint64_t _SubtitleFontSizeForFontSetSpecSetVariant(uint64_t a1, unint64_t a2)
{
  if ((a1 - 1) < 2)
  {
    if (a2 - 1 < 2)
    {
      +[PXMemoriesRelatedSettings sharedInstance];
      [objc_claimAutoreleasedReturnValue() subtitleFontSize];
      PXScaledValueForTextStyleWithMaxContentSizeCategoryAndSymbolicTraits();
    }

    if (!a2)
    {
      PXScaledValueForTextStyleWithMaxContentSizeCategoryAndSymbolicTraits();
    }

LABEL_9:
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSInteger _SubtitleFontSizeForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
    [v3 handleFailureInFunction:v4 file:@"PXMemoriesFontsSpec.m" lineNumber:255 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  if (a1 || a2 >= 3)
  {
    goto LABEL_9;
  }

  return qword_1A5382260[a2];
}

id _SubtitleFontNameForFontSetSpecSetVariant(unint64_t a1)
{
  if (a1 >= 3)
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString *_SubtitleFontNameForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)"}];
    [v7 handleFailureInFunction:v8 file:@"PXMemoriesFontsSpec.m" lineNumber:197 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  v5 = **(&unk_1E773E160 + a1);

  return v5;
}

uint64_t __Block_byref_object_copy__155556(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

unint64_t PXMemorySpecSetForTileKindFeatureSpec(unint64_t a1, void *a2)
{
  v3 = a2;
  v4 = [v3 userInterfaceIdiom];
  v5 = [v3 sizeClass];
  v6 = [v3 layoutOrientation];

  return PXMemorySpecSetForTileKind(a1, v4, v5, v6);
}

unint64_t PXMemorySpecSetForTileKindGadgetSpec(unint64_t a1, void *a2)
{
  v3 = a2;
  v4 = [v3 userInterfaceIdiom];
  v5 = [v3 layoutSizeClass];
  v6 = [v3 layoutOrientation];

  return PXMemorySpecSetForTileKind(a1, v4, v5, v6);
}

uint64_t PXMemorySpecVariantForTileKindFeatureSpec(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = [v3 userInterfaceIdiom];
  v5 = [v3 sizeClass];
  v6 = [v3 layoutOrientation];

  return PXMemorySpecVariantForTileKind(a1, v4, v5, v6);
}

uint64_t PXMemorySpecVariantForTileKindGadgetSpec(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = [v3 userInterfaceIdiom];
  v5 = [v3 layoutSizeClass];
  v6 = [v3 layoutOrientation];

  return PXMemorySpecVariantForTileKind(a1, v4, v5, v6);
}

BOOL PXMemoryShouldScaleForSpecSetFeatureSpec(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = [v3 userInterfaceIdiom];
  v5 = [v3 layoutOrientation];

  return (v4 != 1 || v5 != 2) && v4 != 2 || a1 != 0;
}

uint64_t PXMemoryShouldScaleForDescriptorFeatureSpec(uint64_t a1, void *a2)
{
  if ((*(a1 + 9) & 0x10) == 0)
  {
    v2 = a2;
    PXMemoryTileKindForViewSpecContext();
  }

  return 1;
}

BOOL PXMemoryShouldScaleForSpecSetGadgetSpec(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = [v3 userInterfaceIdiom];
  v5 = [v3 layoutOrientation];

  return (v4 != 1 || v5 != 2) && v4 != 2 || a1 != 0;
}

double _ReferenceWidthForSpecSetVariant(uint64_t a1, uint64_t a2)
{
  if (a1 == 2)
  {
    return 162.0;
  }

  if (a1 == 1)
  {
    v3 = a2 == 2;
    v4 = &unk_1A53810A0;
  }

  else
  {
    result = 0.0;
    if (a1)
    {
      return result;
    }

    v3 = a2 == 4;
    v4 = &unk_1A53810B0;
  }

  return v4[v3];
}

double _ScaleForSpecSetVariantWidth(uint64_t a1, uint64_t a2, double a3)
{
  result = 0.913999975;
  if (a2 != 4)
  {
    result = 1.0;
  }

  if (a3 > 0.0)
  {
    if (a1 == 2)
    {
      v5 = 1;
    }

    else
    {
      v5 = a1;
    }

    if (v5 == 1)
    {
      v7 = a2 == 2;
      v8 = &unk_1A53810A0;
    }

    else
    {
      v6 = 0.0;
      if (v5)
      {
        return result * (a3 / v6);
      }

      v7 = a2 == 4;
      v8 = &unk_1A53810B0;
    }

    v6 = v8[v7];
    return result * (a3 / v6);
  }

  return result;
}

double _FontScaleForSpecSetVariantWidth(uint64_t a1, uint64_t a2, double a3)
{
  v3 = 0.913999975;
  if (a2 != 4)
  {
    v3 = 1.0;
  }

  if (a3 > 0.0)
  {
    if (a1 == 2)
    {
      v4 = 1;
    }

    else
    {
      v4 = a1;
    }

    if (v4 == 1)
    {
      v6 = a2 == 2;
      v7 = &unk_1A53810A0;
    }

    else
    {
      v5 = 0.0;
      if (v4)
      {
LABEL_12:
        v3 = v3 * (a3 / v5);
        goto LABEL_13;
      }

      v6 = a2 == 4;
      v7 = &unk_1A53810B0;
    }

    v5 = v7[v6];
    goto LABEL_12;
  }

LABEL_13:
  result = v3 * 1.25;
  if (a2 != 3)
  {
    return v3;
  }

  return result;
}

void sub_1A4F19518(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F1A6A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location)
{
  objc_destroyWeak((v22 + 48));
  objc_destroyWeak((v22 + 40));
  objc_destroyWeak(&location);
  objc_destroyWeak((v23 - 96));
  _Unwind_Resume(a1);
}

void sub_1A4F1EC98(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, char a17)
{
  objc_destroyWeak((v17 + 48));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a17, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__157049(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F21580(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F22CF4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak((v19 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F22EEC(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1A4F23CE0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F23E94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F25708(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F27D98(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__157649(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F322BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F35058(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v14 - 144), 8);
  _Unwind_Resume(a1);
}

PXConcreteAudioCueSource *PXEmptyCueSource()
{
  v0 = objc_alloc_init(PXConcreteAudioCueSource);

  return v0;
}

void sub_1A4F3670C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void PXUIKeyCommandRequestPerformanceUpResponderChainFromCurrentResponder(void *a1, void *a2)
{
  v7 = a1;
  v3 = [a2 nextResponder];
  if (v3)
  {
    v4 = v3;
    do
    {
      v5 = objc_opt_respondsToSelector();
      if (v5)
      {
        [v4 performSelector:sel_keyCommandDidRequestToBePerformed_ withObject:v7];
      }

      v6 = [v4 nextResponder];

      v4 = v6;
    }

    while (((v6 != 0) & (v5 ^ 1)) != 0);
  }
}

uint64_t PXUIKeyCommandIntegerForNamespace(void *a1, void *a2)
{
  v3 = a1;
  v4 = [a2 propertyList];
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v5 = v4;
    v6 = [v3 namespaceIdentifier];
    v7 = [v5 objectForKeyedSubscript:v6];

    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      v8 = [v7 unsignedIntValue];
    }

    else
    {
      v8 = 0x7FFFFFFFFFFFFFFFLL;
    }
  }

  else
  {
    v8 = 0x7FFFFFFFFFFFFFFFLL;
  }

  return v8;
}

id PXUIKeyCommandStringForNamespace(void *a1, void *a2)
{
  v3 = a1;
  v4 = [a2 propertyList];
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v5 = v4;
    v6 = [v3 namespaceIdentifier];
    v7 = [v5 objectForKeyedSubscript:v6];

    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      v8 = v7;
    }

    else
    {
      v8 = 0;
    }

    v9 = v8;
  }

  else
  {
    v9 = 0;
  }

  return v9;
}

id PXUIMakeKeyCommandPropertyList(void *a1, void *a2)
{
  v8[1] = *MEMORY[0x1E69E9840];
  v3 = a2;
  v4 = [a1 namespaceIdentifier];
  v7 = v4;
  v8[0] = v3;
  v5 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v8 forKeys:&v7 count:1];

  return v5;
}

id PXStoryTimelineProducerCreateDefault()
{
  v0 = +[PXStorySettings sharedInstance];
  v1 = [v0 timelineProducerKind];

  if (v1)
  {
    if (v1 != 1)
    {
      v5 = [MEMORY[0x1E696AAA8] currentHandler];
      v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXStoryTimelineProducer>  _Nonnull PXStoryTimelineProducerCreateDefault(void)"];
      [v5 handleFailureInFunction:v6 file:@"PXStoryTimelineProducer.m" lineNumber:48 description:@"Code which should be unreachable has been reached"];

      abort();
    }

    v2 = off_1E771FE30;
  }

  else
  {
    v2 = off_1E771FD10;
  }

  v3 = objc_alloc_init(*v2);

  return v3;
}

void sub_1A4F40AF4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  v10 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  v13 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__161574(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id _PXSmartAlbumConditionClassForConditionType(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      v3 = [MEMORY[0x1E696AAA8] currentHandler];
      v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class _PXSmartAlbumConditionClassForConditionType(PXSmartAlbumConditionType)"];
      [v3 handleFailureInFunction:v4 file:@"PXSmartAlbumCondition.m" lineNumber:160 description:{@"Invalid parameter not satisfying: %@", @"conditionType != PXSmartAlbumConditionTypeInvalid"}];

      v5 = [MEMORY[0x1E696AAA8] currentHandler];
      v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class _PXSmartAlbumConditionClassForConditionType(PXSmartAlbumConditionType)"];
      [v5 handleFailureInFunction:v6 file:@"PXSmartAlbumCondition.m" lineNumber:165 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
    case 6:
    case 7:
    case 8:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 14:
    case 15:
    case 16:
    case 17:
      v1 = objc_opt_class();
      break;
    default:
      v1 = 0;
      break;
  }

  return v1;
}

void sub_1A4F4199C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak((v18 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(void *a1, void *a2, void *a3, void *a4)
{
  v31 = *MEMORY[0x1E69E9840];
  v7 = a1;
  v8 = a4;
  v9 = a3;
  v10 = a2;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ([v7 length])
  {
    if (v9)
    {
      goto LABEL_3;
    }

LABEL_16:
    v23 = [MEMORY[0x1E696AAA8] currentHandler];
    v24 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"id<NSObject>  _Nullable PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(NSString *__strong _Nonnull, NSString * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
    [v23 handleFailureInFunction:v24 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:26 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

    if (v8)
    {
      goto LABEL_4;
    }

    goto LABEL_17;
  }

  v21 = [MEMORY[0x1E696AAA8] currentHandler];
  v22 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"id<NSObject>  _Nullable PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(NSString *__strong _Nonnull, NSString * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
  [v21 handleFailureInFunction:v22 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:25 description:{@"Invalid parameter not satisfying: %@", @"title.length"}];

  if (!v9)
  {
    goto LABEL_16;
  }

LABEL_3:
  if (v8)
  {
    goto LABEL_4;
  }

LABEL_17:
  v25 = [MEMORY[0x1E696AAA8] currentHandler];
  v26 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"id<NSObject>  _Nullable PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(NSString *__strong _Nonnull, NSString * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
  [v25 handleFailureInFunction:v26 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:27 description:{@"Invalid parameter not satisfying: %@", @"cancellationHandler"}];

LABEL_4:
  v11 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 138543362;
    v30 = v7;
    _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_DEFAULT, "Will present progress alert with title: %{public}@", buf, 0xCu);
  }

  v27[0] = MEMORY[0x1E69E9820];
  v27[1] = 3221225472;
  v27[2] = __PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment_block_invoke;
  v27[3] = &unk_1E774C250;
  v28 = v8;
  v12 = v8;
  v13 = [PXAlertController activityAlertControllerWithTitle:v7 message:v10 cancelHandler:v27 shouldDismiss:1];

  [v9 presentViewController:v13 animated:1 completionHandler:0];
  v14 = v13;
  v15 = PLSharedLibraryGetLog();
  v16 = v15;
  if (v14)
  {
    if (!os_log_type_enabled(v15, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_12;
    }

    *buf = 0;
    v17 = "Did present progress alert";
    v18 = v16;
    v19 = OS_LOG_TYPE_DEFAULT;
  }

  else
  {
    if (!os_log_type_enabled(v15, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_12;
    }

    *buf = 0;
    v17 = "Failed to present progress alert";
    v18 = v16;
    v19 = OS_LOG_TYPE_ERROR;
  }

  _os_log_impl(&dword_1A3C1C000, v18, v19, v17, buf, 2u);
LABEL_12:

  return v14;
}

void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a3;
  v7 = a2;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (v5)
  {
    if (v7)
    {
      goto LABEL_3;
    }

LABEL_10:
    v14 = [MEMORY[0x1E696AAA8] currentHandler];
    v15 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
    [v14 handleFailureInFunction:v15 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:55 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

    if (v6)
    {
      goto LABEL_4;
    }

    goto LABEL_11;
  }

  v12 = [MEMORY[0x1E696AAA8] currentHandler];
  v13 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
  [v12 handleFailureInFunction:v13 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:54 description:{@"Invalid parameter not satisfying: %@", @"token"}];

  if (!v7)
  {
    goto LABEL_10;
  }

LABEL_3:
  if (v6)
  {
    goto LABEL_4;
  }

LABEL_11:
  v16 = [MEMORY[0x1E696AAA8] currentHandler];
  v17 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
  [v16 handleFailureInFunction:v17 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:56 description:{@"Invalid parameter not satisfying: %@", @"completionHandler"}];

LABEL_4:
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryDismissProgressAlertWithPresentationEnvironment_block_invoke;
  aBlock[3] = &unk_1E774C250;
  v8 = v6;
  v26 = v8;
  v9 = _Block_copy(aBlock);
  v10 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_DEFAULT, "Will dismiss progress alert", buf, 2u);
  }

  v11 = v5;
  if (!v5)
  {
    v18 = [MEMORY[0x1E696AAA8] currentHandler];
    v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
    v20 = objc_opt_class();
    v21 = NSStringFromClass(v20);
    [v18 handleFailureInFunction:v19 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:65 description:{@"%@ should be an instance inheriting from %@, but it is nil", @"token", v21}];
LABEL_14:

    goto LABEL_8;
  }

  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    v18 = [MEMORY[0x1E696AAA8] currentHandler];
    v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))"}];
    v22 = objc_opt_class();
    v21 = NSStringFromClass(v22);
    v23 = [v11 px_descriptionForAssertionMessage];
    [v18 handleFailureInFunction:v19 file:@"PXSharedLibraryAlertUtilities.m" lineNumber:65 description:{@"%@ should be an instance inheriting from %@, but it is %@", @"token", v21, v23}];

    goto LABEL_14;
  }

LABEL_8:
  [v7 dismissViewController:v11 animated:1 completionHandler:v9];
}

uint64_t __PXSharedLibraryDismissProgressAlertWithPresentationEnvironment_block_invoke(uint64_t a1)
{
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Did dismiss progress alert", v4, 2u);
  }

  return (*(*(a1 + 32) + 16))();
}

id PXAudioAssetDescription(void *a1)
{
  v1 = MEMORY[0x1E696AEC0];
  v2 = a1;
  v3 = [v1 alloc];
  v4 = objc_opt_class();
  v5 = NSStringFromClass(v4);
  v6 = [v2 title];
  v7 = [v2 artistName];
  v8 = [v2 albumTitle];
  v9 = [v2 identifier];
  v10 = [v3 initWithFormat:@"<%@: %p; Title: %@; Artist: %@; Album: %@; Identifier: %@>", v5, v2, v6, v7, v8, v9];

  return v10;
}

id PXAudioAssetShortDescription(void *a1)
{
  v2 = a1;
  v3 = objc_alloc(MEMORY[0x1E696AEC0]);
  v4 = [v2 title];
  if (v4)
  {
    v1 = [v2 title];
    v5 = [v1 px_stringByTruncatingToLength:18 addEllipsis:1];
  }

  else
  {
    v5 = @"?";
  }

  v6 = [v2 artistName];
  if (v6)
  {
    v7 = [v2 artistName];
    v8 = [v7 px_stringByTruncatingToLength:18 addEllipsis:1];
    v9 = [v3 initWithFormat:@"%@ by %@", v5, v8];
  }

  else
  {
    v9 = [v3 initWithFormat:@"%@ by %@", v5, @"?"];
  }

  if (v4)
  {
  }

  return v9;
}

__CFString *PXAudioAssetCatalogDescription(unint64_t a1)
{
  if (a1 > 4)
  {
    return @"Mock";
  }

  else
  {
    return off_1E773ED58[a1];
  }
}

id PXAudioAssetDefaultEntryPoint(void *a1)
{
  v1 = [a1 entryPoints];
  v2 = [v1 firstObject];

  return v2;
}

void PXAudioAssetDurationWithDefaultEntryPoint(void *a1@<X0>, CMTime *a2@<X8>)
{
  v3 = a1;
  v4 = v3;
  if (v3)
  {
    [v3 duration];
    v3 = v4;
  }

  else
  {
    memset(&v6, 0, sizeof(v6));
  }

  v5 = PXAudioAssetDefaultEntryPoint(v3);
  PXAudioAssetDurationApplyingEntryPoint(&v6, v5, a2);
}

CMTime *PXAudioAssetDurationApplyingEntryPoint@<X0>(CMTime *result@<X0>, void *a2@<X1>, CMTime *a3@<X8>)
{
  v4 = MEMORY[0x1E6960C70];
  *&a3->value = *MEMORY[0x1E6960C70];
  a3->epoch = *(v4 + 16);
  if (result->flags)
  {
    v5 = result;
    [a2 time];
    CMTimeMakeWithSeconds(&rhs, v6, PXAudioDefaultCMTimeScale);
    v7 = *v5;
    return CMTimeSubtract(a3, &v7, &rhs);
  }

  return result;
}

void PXAudioAssetExportableDurationWithDefaultEntryPoint(void *a1@<X0>, CMTime *a2@<X8>)
{
  v3 = a1;
  v4 = v3;
  if (v3)
  {
    [v3 exportableDuration];
    v3 = v4;
  }

  else
  {
    memset(&v6, 0, sizeof(v6));
  }

  v5 = PXAudioAssetDefaultEntryPoint(v3);
  PXAudioAssetDurationApplyingEntryPoint(&v6, v5, a2);
}

void sub_1A4F45284(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__162175(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id getDEUtilsClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getDEUtilsClass_softClass;
  v7 = getDEUtilsClass_softClass;
  if (!getDEUtilsClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getDEUtilsClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getDEUtilsClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4F45534(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getDEUtilsClass_block_invoke(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!DiagnosticExtensionsLibraryCore_frameworkLibrary)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __DiagnosticExtensionsLibraryCore_block_invoke;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E773EE10;
    v8 = 0;
    DiagnosticExtensionsLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!DiagnosticExtensionsLibraryCore_frameworkLibrary)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *DiagnosticExtensionsLibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXFeedbackTapToRadarUtilities.m" lineNumber:37 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("DEUtils");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getDEUtilsClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXFeedbackTapToRadarUtilities.m" lineNumber:38 description:{@"Unable to find class %s", "DEUtils"}];

LABEL_10:
    __break(1u);
  }

  getDEUtilsClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __DiagnosticExtensionsLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  DiagnosticExtensionsLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1A4F46544(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXFeedbackTapToRadarUtilitiesWriteDictionaryToPlistFile(void *a1, void *a2)
{
  v17 = *MEMORY[0x1E69E9840];
  v3 = a2;
  if (a1)
  {
    v4 = a1;
    v5 = NSTemporaryDirectory();
    v6 = [v3 stringByAppendingString:@".plist"];
    v7 = [v5 stringByAppendingPathComponent:v6];

    v8 = [MEMORY[0x1E695DFF8] fileURLWithPath:v7];
    v12 = 0;
    LOBYTE(v6) = [v4 writeToURL:v8 error:&v12];

    v9 = v12;
    if ((v6 & 1) == 0)
    {
      v10 = PLUIGetLog();
      if (os_log_type_enabled(v10, OS_LOG_TYPE_DEBUG))
      {
        *buf = 138412546;
        v14 = v3;
        v15 = 2112;
        v16 = v9;
        _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_DEBUG, "%@ Failed to save tap-to-radar info, error: %@", buf, 0x16u);
      }

      v8 = 0;
    }
  }

  else
  {
    v8 = 0;
  }

  return v8;
}

id PXFeedbackTapToRadarUtilitiesWriteStringToFileWithExtension(void *a1, void *a2, void *a3)
{
  v20 = *MEMORY[0x1E69E9840];
  v5 = a2;
  if (a1)
  {
    v6 = a3;
    v7 = a1;
    v8 = NSTemporaryDirectory();
    v9 = [v5 stringByAppendingPathExtension:v6];

    v10 = [v8 stringByAppendingPathComponent:v9];

    v11 = [MEMORY[0x1E695DFF8] fileURLWithPath:v10];
    v15 = 0;
    LOBYTE(v8) = [v7 writeToURL:v11 atomically:1 encoding:4 error:&v15];

    v12 = v15;
    if ((v8 & 1) == 0)
    {
      v13 = PLUIGetLog();
      if (os_log_type_enabled(v13, OS_LOG_TYPE_DEBUG))
      {
        *buf = 138412546;
        v17 = v5;
        v18 = 2112;
        v19 = v12;
        _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_DEBUG, "%@ Failed to save tap-to-radar info, error: %@", buf, 0x16u);
      }

      v11 = 0;
    }
  }

  else
  {
    v11 = 0;
  }

  return v11;
}

id PXFeedbackTapToRadarUtilitiesWriteDataToFile(void *a1, void *a2)
{
  v17 = *MEMORY[0x1E69E9840];
  v3 = a2;
  if (a1)
  {
    v4 = a1;
    v5 = NSTemporaryDirectory();
    v6 = [v5 stringByAppendingPathComponent:v3];

    v7 = [MEMORY[0x1E695DFF8] fileURLWithPath:v6];
    v12 = 0;
    v8 = [v4 writeToURL:v7 options:1 error:&v12];

    v9 = v12;
    if ((v8 & 1) == 0)
    {
      v10 = PLUIGetLog();
      if (os_log_type_enabled(v10, OS_LOG_TYPE_DEBUG))
      {
        *buf = 138412546;
        v14 = v3;
        v15 = 2112;
        v16 = v9;
        _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_DEBUG, "%@ Failed to save tap-to-radar info, error: %@", buf, 0x16u);
      }

      v7 = 0;
    }
  }

  else
  {
    v7 = 0;
  }

  return v7;
}

uint64_t PXFeedbackTapToRadarUtilitiesCopyFilesToFolder(void *a1, void *a2, uint64_t a3)
{
  v20 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = [MEMORY[0x1E696AC08] defaultManager];
  v8 = [v7 createDirectoryAtURL:v6 withIntermediateDirectories:1 attributes:0 error:a3];

  if (v8)
  {
    v17 = 0u;
    v18 = 0u;
    v15 = 0u;
    v16 = 0u;
    v9 = v5;
    v10 = [v9 countByEnumeratingWithState:&v15 objects:v19 count:16];
    if (v10)
    {
      v11 = v10;
      v12 = *v16;
      do
      {
        v13 = 0;
        do
        {
          if (*v16 != v12)
          {
            objc_enumerationMutation(v9);
          }

          [getDEUtilsClass() copyFile:*(*(&v15 + 1) + 8 * v13++) toDir:{v6, v15}];
        }

        while (v11 != v13);
        v11 = [v9 countByEnumeratingWithState:&v15 objects:v19 count:16];
      }

      while (v11);
    }
  }

  return v8;
}

void sub_1A4F4B280(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__162951(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F4C718(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak((v20 + 32));
  objc_destroyWeak((v21 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXDefaultAppleMusicPlayerController()
{
  if (PXDefaultAppleMusicPlayerController_onceToken != -1)
  {
    dispatch_once(&PXDefaultAppleMusicPlayerController_onceToken, &__block_literal_global_165);
  }

  v1 = sharedPlayerController;

  return v1;
}

void __PXDefaultAppleMusicPlayerController_block_invoke()
{
  v0 = [[_PXAppleMusicPlayerController alloc] _init];
  v1 = sharedPlayerController;
  sharedPlayerController = v0;
}

uint64_t __Block_byref_object_copy__164277(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void PXStoryMutableChapterSetChapter(void *a1, void *a2)
{
  v3 = a2;
  v4 = a1;
  v5 = [v3 localizedTitle];
  [v4 setLocalizedTitle:v5];

  v6 = [v3 localizedSubtitle];

  [v4 setLocalizedSubtitle:v6];
}

id PXLocalizedCaptionForFilterState(void *a1)
{
  if ([a1 isFiltering])
  {
    v1 = @"PXContentFilterCaptionFilteringOn";
  }

  else
  {
    v1 = @"PXContentFilterCaptionFilteringOff";
  }

  v2 = PXLocalizedStringFromTable(v1, @"PhotosUICore");

  return v2;
}

id PXLocalizedTitleForFilterState(void *a1)
{
  v1 = a1;
  if ([v1 isFiltering])
  {
    [v1 localizedDescription];
  }

  else
  {
    PXLocalizedStringFromTable(@"PXContentFilterTitleFilteringOff", @"PhotosUICore");
  }
  v2 = ;

  return v2;
}

void PXPPTInstallTestCompletionHandler(void *a1)
{
  v8 = a1;
  if (([MEMORY[0x1E696AF00] isMainThread] & 1) == 0)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void PXPPTInstallTestCompletionHandler(void (^__strong _Nonnull)(void))"];
    [v6 handleFailureInFunction:v7 file:@"PXPPTSupport.m" lineNumber:18 description:{@"Invalid parameter not satisfying: %@", @"NSThread.isMainThread"}];
  }

  v1 = _completionHandlers;
  if (!_completionHandlers)
  {
    v2 = [MEMORY[0x1E695DF70] array];
    v3 = _completionHandlers;
    _completionHandlers = v2;

    v1 = _completionHandlers;
  }

  v4 = [v8 copy];
  v5 = _Block_copy(v4);
  [v1 addObject:v5];
}

void PXPPTCallAllTestCompletionHandlers()
{
  v13 = *MEMORY[0x1E69E9840];
  if (([MEMORY[0x1E696AF00] isMainThread] & 1) == 0)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void PXPPTCallAllTestCompletionHandlers(void)"];
    [v6 handleFailureInFunction:v7 file:@"PXPPTSupport.m" lineNumber:26 description:{@"Invalid parameter not satisfying: %@", @"NSThread.isMainThread"}];
  }

  v0 = [_completionHandlers copy];
  [_completionHandlers removeAllObjects];
  v10 = 0u;
  v11 = 0u;
  v8 = 0u;
  v9 = 0u;
  v1 = v0;
  v2 = [v1 countByEnumeratingWithState:&v8 objects:v12 count:16];
  if (v2)
  {
    v3 = v2;
    v4 = *v9;
    do
    {
      v5 = 0;
      do
      {
        if (*v9 != v4)
        {
          objc_enumerationMutation(v1);
        }

        (*(*(*(&v8 + 1) + 8 * v5++) + 16))();
      }

      while (v3 != v5);
      v3 = [v1 countByEnumeratingWithState:&v8 objects:v12 count:16];
    }

    while (v3);
  }
}

void sub_1A4F5AB20(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__165298(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F5ED5C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXCreateASTCCompressImage_block_invoke_2(uint64_t a1)
{
  v8[3] = *MEMORY[0x1E69E9840];
  v1 = *MEMORY[0x1E696D3E8];
  v2 = *MEMORY[0x1E696D400];
  v7[0] = *MEMORY[0x1E696D8A0];
  v7[1] = v2;
  v3 = *MEMORY[0x1E695E4D0];
  v8[0] = v1;
  v8[1] = v3;
  v7[2] = *MEMORY[0x1E696D3E0];
  v4 = [MEMORY[0x1E696AD98] numberWithUnsignedInt:*(a1 + 32)];
  v8[2] = v4;
  v5 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v8 forKeys:v7 count:3];
  v6 = PXCreateASTCCompressImage_properties;
  PXCreateASTCCompressImage_properties = v5;
}

uint64_t __PXCreateASTCCompressImage_block_invoke()
{
  result = MGGetBoolAnswer();
  PXCreateASTCCompressImage_deviceSupportsASTC = result;
  return result;
}

void PXPreheatMTLDevice()
{
  if (PXPreheatMTLDevice_onceToken != -1)
  {
    dispatch_once(&PXPreheatMTLDevice_onceToken, &__block_literal_global_166435);
  }
}

void __PXPreheatMTLDevice_block_invoke()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2020000000;
  v0 = getMTLCreateSystemDefaultDeviceSymbolLoc_ptr;
  v7 = getMTLCreateSystemDefaultDeviceSymbolLoc_ptr;
  if (!getMTLCreateSystemDefaultDeviceSymbolLoc_ptr)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getMTLCreateSystemDefaultDeviceSymbolLoc_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getMTLCreateSystemDefaultDeviceSymbolLoc_block_invoke(v3);
    v0 = v5[3];
  }

  _Block_object_dispose(&v4, 8);
  if (v0)
  {
    v0();
  }

  else
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id PX_MTLCreateSystemDefaultDevice(void)"];
    [v1 handleFailureInFunction:v2 file:@"UIImage+PhotosUICore.m" lineNumber:28 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void sub_1A4F61928(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getMTLCreateSystemDefaultDeviceSymbolLoc_block_invoke(void *a1)
{
  v8 = *MEMORY[0x1E69E9840];
  v5[0] = 0;
  if (!MetalLibraryCore_frameworkLibrary)
  {
    v5[1] = MEMORY[0x1E69E9820];
    v5[2] = 3221225472;
    v5[3] = __MetalLibraryCore_block_invoke;
    v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    v6 = xmmword_1E773F2A8;
    v7 = 0;
    MetalLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  v2 = MetalLibraryCore_frameworkLibrary;
  if (!MetalLibraryCore_frameworkLibrary)
  {
    a1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MetalLibrary(void)"];
    [a1 handleFailureInFunction:v2 file:@"UIImage+PhotosUICore.m" lineNumber:26 description:{@"%s", v5[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v3 = v5[0];
  if (v5[0])
  {
LABEL_7:
    free(v3);
  }

  result = dlsym(v2, "MTLCreateSystemDefaultDevice");
  *(*(a1[4] + 8) + 24) = result;
  getMTLCreateSystemDefaultDeviceSymbolLoc_ptr = *(*(a1[4] + 8) + 24);
  return result;
}

uint64_t __MetalLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  MetalLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1A4F6277C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  v10 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  v13 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__166522(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

PXCMMMomentsParticipant *_GetOwner(void *a1)
{
  v1 = [a1 firstObject];
  if (!v1 || (v2 = [[PXCMMMomentsParticipant alloc] initWithPerson:v1]) == 0)
  {
    v2 = [[PXCMMMomentsParticipant alloc] initWithEmailAddress:@"bob@bob.com" phoneNumber:0 localizedName:@"Bob"];
  }

  return v2;
}

void sub_1A4F69244(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__168032(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F694B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  objc_destroyWeak((v8 + 48));
  objc_destroyWeak((v9 - 72));
  _Unwind_Resume(a1);
}

id PXSmartAlbumLocalizedStringForConditionType(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      v7 = [MEMORY[0x1E696AAA8] currentHandler];
      v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForConditionType(PXSmartAlbumConditionType)"];
      [v7 handleFailureInFunction:v8 file:@"PXSmartAlbumStrings.m" lineNumber:27 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
      v5 = @"PXSmartAlbumConditionTypeAlbum";
      break;
    case 2:
      v5 = @"PXSmartAlbumConditionTypeAperture";
      break;
    case 3:
      v5 = @"PXSmartAlbumConditionTypeCameraModel";
      break;
    case 4:
      v5 = @"PXSmartAlbumConditionTypeDateAdded";
      break;
    case 5:
      v5 = @"PXSmartAlbumConditionTypeDateCaptured";
      break;
    case 6:
      v5 = @"PXSmartAlbumConditionTypeDescription";
      break;
    case 7:
      v5 = @"PXSmartAlbumConditionTypeFilename";
      break;
    case 8:
      v5 = @"PXSmartAlbumConditionTypeFlashFired";
      break;
    case 9:
      v5 = @"PXSmartAlbumConditionTypeFocalLength";
      break;
    case 10:
      v5 = @"PXSmartAlbumConditionTypeISO";
      break;
    case 11:
      v5 = @"PXSmartAlbumConditionTypeKeyword";
      break;
    case 12:
      v5 = @"PXSmartAlbumConditionTypeLensModel";
      break;
    case 13:
      v5 = @"PXSmartAlbumConditionTypePerson";
      break;
    case 14:
      v5 = @"PXSmartAlbumConditionTypePhoto";
      break;
    case 15:
      v5 = @"PXSmartAlbumConditionTypeShutterSpeed";
      break;
    case 16:
      v5 = @"PXSmartAlbumConditionTypeText";
      break;
    case 17:
      v5 = @"PXSmartAlbumConditionTypeTitle";
      break;
    default:
      v5 = 0;
      break;
  }

  return PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForConditionTypeValues(void *a1)
{
  v1 = MEMORY[0x1E695DF70];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXSmartAlbumLocalizedStringsForConditionTypeValues_block_invoke;
  v6[3] = &unk_1E773F4C8;
  v4 = v3;
  v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForConditionTypeValues_block_invoke(uint64_t a1, void *a2)
{
  v3 = [a2 integerValue];
  v4 = *(a1 + 32);
  v5 = PXSmartAlbumLocalizedStringForConditionType(v3);
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForPhotoType(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      v7 = [MEMORY[0x1E696AAA8] currentHandler];
      v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForPhotoType(PXSmartAlbumPhotoType)"];
      [v7 handleFailureInFunction:v8 file:@"PXSmartAlbumStrings.m" lineNumber:102 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
      v5 = @"PXSmartAlbumPhotoTypeAdjusted";
      break;
    case 2:
      v5 = @"PXSmartAlbumPhotoTypeAnimated";
      break;
    case 3:
      v5 = @"PXSmartAlbumPhotoTypeBurst";
      break;
    case 4:
      v5 = @"PXSmartAlbumPhotoTypeFavorite";
      break;
    case 5:
      v5 = @"PXSmartAlbumPhotoTypeHDR";
      break;
    case 6:
      v5 = @"PXSmartAlbumPhotoTypeHidden";
      break;
    case 7:
      v5 = @"PXSmartAlbumPhotoTypeLive";
      break;
    case 8:
      v5 = @"PXSmartAlbumPhotoTypeMovie";
      break;
    case 9:
      v5 = @"PXSmartAlbumPhotoTypePanorama";
      break;
    case 10:
      v5 = @"PXSmartAlbumPhotoTypeRaw";
      break;
    case 11:
      v5 = @"PXSmartAlbumPhotoTypeReferenced";
      break;
    case 12:
      v5 = @"PXSmartAlbumPhotoTypeSDOF";
      break;
    case 13:
      v5 = @"PXSmartAlbumPhotoTypeScreenshot";
      break;
    case 14:
      v5 = @"PXSmartAlbumPhotoTypeSelfie";
      break;
    case 15:
      v5 = @"PXSmartAlbumPhotoTypeSloMo";
      break;
    case 16:
      v5 = @"PXSmartAlbumPhotoTypeTaggedWithGPS";
      break;
    case 17:
      v5 = @"PXSmartAlbumPhotoTypeTimeLapse";
      break;
    case 18:
      v5 = @"PXSmartAlbumPhotoTypeUnableToUploadToiCloud";
      break;
    case 19:
      v5 = @"PXSmartAlbumPhotoTypeProRes";
      break;
    case 20:
      v5 = @"PXSmartAlbumPhotoTypeScreenRecording";
      break;
    case 21:
      v5 = @"PXSmartAlbumPhotoTypeLongExposure";
      break;
    case 22:
      v5 = @"PXSmartAlbumPhotoTypeCinematic";
      break;
    case 23:
      v5 = @"PXSmartAlbumPhotoTypeSpatial";
      break;
    default:
      v5 = 0;
      break;
  }

  return PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForPhotoTypeValues(void *a1)
{
  v1 = MEMORY[0x1E695DF70];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXSmartAlbumLocalizedStringsForPhotoTypeValues_block_invoke;
  v6[3] = &unk_1E773F4C8;
  v4 = v3;
  v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForPhotoTypeValues_block_invoke(uint64_t a1, void *a2)
{
  v3 = [a2 integerValue];
  v4 = *(a1 + 32);
  v5 = PXSmartAlbumLocalizedStringForPhotoType(v3);
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForFlashFiredValue(int a1)
{
  if (a1)
  {
    v1 = @"PXSmartAlbumFlashDidFire";
  }

  else
  {
    v1 = @"PXSmartAlbumFlashDidNotFire";
  }

  return PXLocalizedStringFromTable(v1, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForFlashFiredValues(void *a1)
{
  v1 = MEMORY[0x1E695DF70];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXSmartAlbumLocalizedStringsForFlashFiredValues_block_invoke;
  v6[3] = &unk_1E773F4C8;
  v4 = v3;
  v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForFlashFiredValues_block_invoke(uint64_t a1, void *a2)
{
  v3 = [a2 BOOLValue];
  v4 = *(a1 + 32);
  if (v3)
  {
    v5 = @"PXSmartAlbumFlashDidFire";
  }

  else
  {
    v5 = @"PXSmartAlbumFlashDidNotFire";
  }

  v6 = PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
  [v4 addObject:v6];
}

id PXSmartAlbumLocalizedStringForConjunction(int a1)
{
  if (a1)
  {
    if (a1 == 1)
    {
      v5 = @"PXSmartAlbumConjunctionAnd";
    }

    else
    {
      if (a1 == 2)
      {
        v7 = [MEMORY[0x1E696AAA8] currentHandler];
        v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForConjunction(PLQueryConjunction)"];
        [v7 handleFailureInFunction:v8 file:@"PXSmartAlbumStrings.m" lineNumber:227 description:@"Code which should be unreachable has been reached"];

        abort();
      }

      v5 = 0;
    }
  }

  else
  {
    v5 = @"PXSmartAlbumConjunctionOr";
  }

  return PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForConjunctionValues(void *a1)
{
  v1 = MEMORY[0x1E695DF70];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXSmartAlbumLocalizedStringsForConjunctionValues_block_invoke;
  v6[3] = &unk_1E773F4C8;
  v4 = v3;
  v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForConjunctionValues_block_invoke(uint64_t a1, void *a2)
{
  v3 = [a2 integerValue];
  v4 = *(a1 + 32);
  v5 = PXSmartAlbumLocalizedStringForConjunction(v3);
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForComparator(int a1, uint64_t a2)
{
  v4 = 0;
  switch(a1)
  {
    case 0:
      v6 = [MEMORY[0x1E696AAA8] currentHandler];
      v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)"}];
      v8 = v6;
      v9 = v7;
      v10 = 249;
      goto LABEL_37;
    case 1:
    case 22:
      v4 = @"PXSmartAlbumComparatorIs";
      goto LABEL_30;
    case 2:
    case 23:
      v4 = @"PXSmartAlbumComparatorIsNot";
      goto LABEL_30;
    case 3:
      switch(a2)
      {
        case 1:
          v4 = @"PXSmartAlbumComparatorIsGreaterThan-Numerical";
          goto LABEL_30;
        case 2:
          v4 = @"PXSmartAlbumComparatorIsGreaterThan-Temporal";
          goto LABEL_30;
        case 0:
          v6 = [MEMORY[0x1E696AAA8] currentHandler];
          v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)"}];
          v8 = v6;
          v9 = v7;
          v10 = 260;
          goto LABEL_37;
      }

      goto LABEL_20;
    case 4:
      switch(a2)
      {
        case 1:
          v4 = @"PXSmartAlbumComparatorIsLessThan-Numerical";
          break;
        case 2:
          v4 = @"PXSmartAlbumComparatorIsLessThan-Temporal";
          break;
        case 0:
          v6 = [MEMORY[0x1E696AAA8] currentHandler];
          v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)"}];
          v8 = v6;
          v9 = v7;
          v10 = 272;
LABEL_37:
          [v8 handleFailureInFunction:v9 file:@"PXSmartAlbumStrings.m" lineNumber:v10 description:@"Code which should be unreachable has been reached"];

          abort();
        default:
LABEL_20:
          v4 = 0;
          break;
      }

LABEL_30:

      return PXLocalizedStringFromTable(v4, @"PXSmartAlbumStrings");
    case 5:
      v4 = @"PXSmartAlbumComparatorIsGreaterThanOrEqualTo";
      goto LABEL_30;
    case 6:
      v4 = @"PXSmartAlbumComparatorIsLessThanOrEqualTo";
      goto LABEL_30;
    case 7:
    case 8:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 14:
    case 15:
    case 16:
    case 17:
    case 18:
    case 19:
    case 26:
    case 27:
    case 28:
    case 29:
    case 33:
    case 34:
    case 35:
    case 36:
    case 37:
    case 38:
    case 39:
      goto LABEL_30;
    case 20:
      v4 = @"PXSmartAlbumComparatorIncludes";
      goto LABEL_30;
    case 21:
      v4 = @"PXSmartAlbumComparatorDoesNotInclude";
      goto LABEL_30;
    case 24:
      v4 = @"PXSmartAlbumComparatorStartsWith";
      goto LABEL_30;
    case 25:
      v4 = @"PXSmartAlbumComparatorEndsWith";
      goto LABEL_30;
    case 30:
      v4 = @"PXSmartAlbumComparatorIsInTheRange";
      goto LABEL_30;
    case 31:
      v6 = [MEMORY[0x1E696AAA8] currentHandler];
      v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)"}];
      v8 = v6;
      v9 = v7;
      v10 = 310;
      goto LABEL_37;
    case 32:
      v6 = [MEMORY[0x1E696AAA8] currentHandler];
      v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)"}];
      v8 = v6;
      v9 = v7;
      v10 = 313;
      goto LABEL_37;
    case 40:
      v4 = @"PXSmartAlbumComparatorIsInTheLast";
      goto LABEL_30;
    case 41:
      v4 = @"PXSmartAlbumComparatorIsNotInTheLast";
      goto LABEL_30;
    default:
      v5 = @"PXSmartAlbumComparatorIsNotEmpty";
      if (a1 != 51)
      {
        v5 = 0;
      }

      if (a1 == 50)
      {
        v4 = @"PXSmartAlbumComparatorsEmpty";
      }

      else
      {
        v4 = v5;
      }

      goto LABEL_30;
  }
}

id PXSmartAlbumLocalizedStringsForComparatorValues(void *a1, uint64_t a2)
{
  v3 = MEMORY[0x1E695DF70];
  v4 = a1;
  v5 = objc_alloc_init(v3);
  v8[0] = MEMORY[0x1E69E9820];
  v8[1] = 3221225472;
  v8[2] = __PXSmartAlbumLocalizedStringsForComparatorValues_block_invoke;
  v8[3] = &unk_1E773F4F0;
  v6 = v5;
  v9 = v6;
  v10 = a2;
  [v4 enumerateObjectsUsingBlock:v8];

  return v6;
}

void __PXSmartAlbumLocalizedStringsForComparatorValues_block_invoke(uint64_t a1, void *a2)
{
  v3 = [a2 integerValue];
  v4 = *(a1 + 32);
  v5 = PXSmartAlbumLocalizedStringForComparator(v3, *(a1 + 40));
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForUnit(int a1)
{
  v2 = 0;
  if (a1 > 2)
  {
    switch(a1)
    {
      case 3:
        v2 = @"PXSmartAlbumUnitMonths";
        break;
      case 4:
        v2 = @"PXSmartAlbumUnitYears";
        break;
      case 5:
        v3 = [MEMORY[0x1E696AAA8] currentHandler];
        v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForUnit(PLQueryUnit)"];
        v5 = v3;
        v6 = v4;
        v7 = 363;
LABEL_17:
        [v5 handleFailureInFunction:v6 file:@"PXSmartAlbumStrings.m" lineNumber:v7 description:@"Code which should be unreachable has been reached"];

        abort();
    }
  }

  else
  {
    switch(a1)
    {
      case 1:
        v2 = @"PXSmartAlbumUnitDays";
        break;
      case 2:
        v2 = @"PXSmartAlbumUnitWeeks";
        break;
      case 0:
        v3 = [MEMORY[0x1E696AAA8] currentHandler];
        v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForUnit(PLQueryUnit)"];
        v5 = v3;
        v6 = v4;
        v7 = 348;
        goto LABEL_17;
    }
  }

  return PXLocalizedStringFromTable(v2, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForUnitValues(void *a1)
{
  v1 = MEMORY[0x1E695DF70];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXSmartAlbumLocalizedStringsForUnitValues_block_invoke;
  v6[3] = &unk_1E773F4C8;
  v4 = v3;
  v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForUnitValues_block_invoke(uint64_t a1, void *a2)
{
  v3 = [a2 integerValue];
  v4 = *(a1 + 32);
  v5 = PXSmartAlbumLocalizedStringForUnit(v3);
  [v4 addObject:v5];
}

__CFString *PXVideoStabilizeAnalysisTypeDescription(uint64_t a1)
{
  if (a1)
  {
    v1 = a1;
    v2 = [MEMORY[0x1E695DF70] arrayWithCapacity:2];
    v3 = v2;
    if (v1)
    {
      [v2 addObject:@"Pixel"];
      if ((v1 & 2) == 0)
      {
LABEL_4:
        if ((v1 & 4) == 0)
        {
LABEL_6:
          if ([v3 count])
          {
            v4 = [v3 componentsJoinedByString:@" | "];
          }

          else
          {
            v4 = @"Unknown";
          }

          goto LABEL_14;
        }

LABEL_5:
        [v3 addObject:@"Not Stabilized"];
        goto LABEL_6;
      }
    }

    else if ((v1 & 2) == 0)
    {
      goto LABEL_4;
    }

    [v3 addObject:@"Gyro"];
    if ((v1 & 4) == 0)
    {
      goto LABEL_6;
    }

    goto LABEL_5;
  }

  v4 = @"Unknown";
LABEL_14:

  return v4;
}

void sub_1A4F6D1FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id getPIPhotoEditHelperClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getPIPhotoEditHelperClass_softClass;
  v7 = getPIPhotoEditHelperClass_softClass;
  if (!getPIPhotoEditHelperClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getPIPhotoEditHelperClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getPIPhotoEditHelperClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4F6D2FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getNUOrientationIsValidSymbolLoc_block_invoke(void *a1)
{
  v8 = *MEMORY[0x1E69E9840];
  v5[0] = 0;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary)
  {
    v5[1] = MEMORY[0x1E69E9820];
    v5[2] = 3221225472;
    v5[3] = __NeutrinoCoreLibraryCore_block_invoke;
    v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    v6 = xmmword_1E773F588;
    v7 = 0;
    NeutrinoCoreLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  v2 = NeutrinoCoreLibraryCore_frameworkLibrary;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary)
  {
    a1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *NeutrinoCoreLibrary(void)"];
    [a1 handleFailureInFunction:v2 file:@"PXVideoStabilizationRecipeSource.m" lineNumber:32 description:{@"%s", v5[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v3 = v5[0];
  if (v5[0])
  {
LABEL_7:
    free(v3);
  }

  result = dlsym(v2, "NUOrientationIsValid");
  *(*(a1[4] + 8) + 24) = result;
  getNUOrientationIsValidSymbolLoc_ptr = *(*(a1[4] + 8) + 24);
  return result;
}

id getPIVideoStabilizeRequestClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getPIVideoStabilizeRequestClass_softClass;
  v7 = getPIVideoStabilizeRequestClass_softClass;
  if (!getPIVideoStabilizeRequestClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getPIVideoStabilizeRequestClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getPIVideoStabilizeRequestClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4F6D560(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__168811(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void __getPIVideoStabilizeRequestClass_block_invoke(uint64_t a1)
{
  PhotoImagingLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PIVideoStabilizeRequest");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPIVideoStabilizeRequestClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPIVideoStabilizeRequestClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXVideoStabilizationRecipeSource.m" lineNumber:34 description:{@"Unable to find class %s", "PIVideoStabilizeRequest"}];

    __break(1u);
  }
}

void PhotoImagingLibrary()
{
  v6 = *MEMORY[0x1E69E9840];
  v3[0] = 0;
  if (!PhotoImagingLibraryCore_frameworkLibrary_168827)
  {
    v3[1] = MEMORY[0x1E69E9820];
    v3[2] = 3221225472;
    v3[3] = __PhotoImagingLibraryCore_block_invoke_168828;
    v3[4] = &__block_descriptor_40_e5_v8__0l;
    v3[5] = v3;
    v4 = xmmword_1E773F570;
    v5 = 0;
    PhotoImagingLibraryCore_frameworkLibrary_168827 = _sl_dlopen();
  }

  if (!PhotoImagingLibraryCore_frameworkLibrary_168827)
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PhotoImagingLibrary(void)"];
    [v1 handleFailureInFunction:v2 file:@"PXVideoStabilizationRecipeSource.m" lineNumber:31 description:{@"%s", v3[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v0 = v3[0];
  if (v3[0])
  {
LABEL_7:
    free(v0);
  }
}

uint64_t __PhotoImagingLibraryCore_block_invoke_168828()
{
  result = _sl_dlopen();
  PhotoImagingLibraryCore_frameworkLibrary_168827 = result;
  return result;
}

uint64_t __NeutrinoCoreLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  NeutrinoCoreLibraryCore_frameworkLibrary = result;
  return result;
}

void __getPIPhotoEditHelperClass_block_invoke(uint64_t a1)
{
  PhotoImagingLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PIPhotoEditHelper");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPIPhotoEditHelperClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPIPhotoEditHelperClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXVideoStabilizationRecipeSource.m" lineNumber:33 description:{@"Unable to find class %s", "PIPhotoEditHelper"}];

    __break(1u);
  }
}

void sub_1A4F6DFA4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  v12 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F71CA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, char a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, char a53)
{
  _Block_object_dispose(&a42, 8);
  _Block_object_dispose(&a53, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__169352(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F726E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, char a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, char a43)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a43, 8);
  _Unwind_Resume(a1);
}

double PXOneUpReferenceAspectRatioValue(uint64_t a1)
{
  result = 1.0;
  if ((a1 - 1) <= 9)
  {
    return dbl_1A5382320[a1 - 1];
  }

  return result;
}

__CFString *PXOneUpReferenceAspectRatioDescription(unint64_t a1)
{
  if (a1 > 0xA)
  {
    return @"?";
  }

  else
  {
    return off_1E773F660[a1];
  }
}

uint64_t PXOneUpReferenceAspectRatioEnumerateAllUsingBlock(uint64_t a1)
{
  v2 = 0;
  v5 = 0;
  do
  {
    result = (*(a1 + 16))(a1, v2, &v5);
    if (v5)
    {
      break;
    }
  }

  while (v2++ != 10);
  return result;
}

id PXStoryPublicErrorForErrors(void *a1)
{
  v18 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v13 = 0u;
  v14 = 0u;
  v15 = 0u;
  v16 = 0u;
  v2 = [v1 reverseObjectEnumerator];
  v3 = [v2 countByEnumeratingWithState:&v13 objects:v17 count:16];
  if (v3)
  {
    v4 = v3;
    v5 = 0;
    v6 = *v14;
    while (2)
    {
      for (i = 0; i != v4; ++i)
      {
        if (*v14 != v6)
        {
          objc_enumerationMutation(v2);
        }

        v8 = *(*(&v13 + 1) + 8 * i);
        v9 = [v8 domain];
        v10 = [v9 isEqual:@"PXStoryCriticalPublicErrorDomain"];

        if (v10)
        {
          v11 = PXStoryPublicErrorForError(v8);

          v5 = v11;
          goto LABEL_14;
        }

        if (!v5)
        {
          v5 = PXStoryPublicErrorForError(v8);
        }
      }

      v4 = [v2 countByEnumeratingWithState:&v13 objects:v17 count:16];
      if (v4)
      {
        continue;
      }

      break;
    }
  }

  else
  {
    v5 = 0;
  }

LABEL_14:

  return v5;
}

id PXStoryPublicErrorForError(void *a1)
{
  v1 = a1;
  v2 = [v1 domain];
  if ([v2 isEqualToString:@"PXStoryPublicErrorDomain"])
  {

LABEL_4:
    v5 = v1;
LABEL_5:
    v6 = v5;
    goto LABEL_6;
  }

  v3 = [v1 domain];
  v4 = [v3 isEqualToString:@"PXStoryCriticalPublicErrorDomain"];

  if (v4)
  {
    goto LABEL_4;
  }

  v8 = [v1 domain];
  v9 = [v8 isEqualToString:@"PXStoryErrorDomain"];

  if (v9)
  {
    v10 = [v1 code];
    if (v10 == 24)
    {
      v5 = PXStoryPublicCriticalErrorCreatePersistenceErrorWithInternalError(v1);
      goto LABEL_5;
    }

    if (v10 == 19)
    {
      v5 = PXStoryPublicCriticalErrorCreateNetworkUnreachableErrorWithInternalError(v1);
      goto LABEL_5;
    }
  }

  v6 = 0;
LABEL_6:

  return v6;
}

id PXStoryPublicCriticalErrorCreateNetworkUnreachableErrorWithInternalError(void *a1)
{
  v16[5] = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = objc_alloc_init(_PXStoryNetworkUnreachableRecoveryAttempter);
  v3 = MGGetBoolAnswer();
  v4 = PXLocalizedStringFromTable(@"InteractiveMemoryNetworkUnreachableAlertTitle", @"PhotosUICore");
  if (v3)
  {
    v5 = @"InteractiveMemoryNetworkUnreachable_WLAN_AlertMessage_iOS";
  }

  else
  {
    v5 = @"InteractiveMemoryNetworkUnreachable_WIFI_AlertMessage_iOS";
  }

  v6 = PXLocalizedStringFromTable(v5, @"PhotosUICore");
  v7 = MEMORY[0x1E696ABC0];
  v8 = *MEMORY[0x1E696A598];
  v15[0] = *MEMORY[0x1E696A588];
  v15[1] = v8;
  v16[0] = v4;
  v16[1] = v6;
  v15[2] = *MEMORY[0x1E696A590];
  v9 = [(_PXStoryNetworkUnreachableRecoveryAttempter *)v2 recoveryOptions];
  v10 = *MEMORY[0x1E696A8A8];
  v16[2] = v9;
  v16[3] = v2;
  v11 = *MEMORY[0x1E696AA08];
  v15[3] = v10;
  v15[4] = v11;
  v16[4] = v1;
  v12 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v16 forKeys:v15 count:5];
  v13 = [v7 errorWithDomain:@"PXStoryCriticalPublicErrorDomain" code:1 userInfo:v12];

  return v13;
}

id PXStoryPublicCriticalErrorCreatePersistenceErrorWithInternalError(void *a1)
{
  v9[3] = *MEMORY[0x1E69E9840];
  v1 = MEMORY[0x1E696ABC0];
  v8[0] = *MEMORY[0x1E696A588];
  v2 = a1;
  v3 = PXLocalizedStringFromTable(@"InteractiveMemoryGenericPersistenceRequestFailureReason", @"PhotosUICore");
  v9[0] = v3;
  v8[1] = *MEMORY[0x1E696A598];
  v4 = PXLocalizedStringFromTable(@"InteractiveMemoryGenericPersistenceRequestRecoverySuggestion", @"PhotosUICore");
  v8[2] = *MEMORY[0x1E696AA08];
  v9[1] = v4;
  v9[2] = v2;
  v5 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v9 forKeys:v8 count:3];
  v6 = [v1 errorWithDomain:@"PXStoryCriticalPublicErrorDomain" code:1 userInfo:v5];

  return v6;
}

id PXStoryInternalErrorForErrors(void *a1)
{
  v18[3] = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [v1 count];
  if (v2 < 1)
  {
    v15 = 0;
  }

  else
  {
    v3 = v2;
    v4 = [v1 firstObject];
    v5 = PXStoryErrorDetailsDescription(v4);
    v6 = v5;
    if (v3 != 1)
    {
      v7 = [v5 stringByAppendingFormat:@"\n\n(and %li more)", v3 - 1];

      v6 = v7;
    }

    v8 = MEMORY[0x1E696ABC0];
    v17[0] = *MEMORY[0x1E696A578];
    v9 = [v4 localizedDescription];
    v18[0] = v9;
    v17[1] = *MEMORY[0x1E696A588];
    v10 = MEMORY[0x1E696AEC0];
    v11 = [v4 localizedFailureReason];
    v12 = v11;
    if (!v11)
    {
      v12 = [v4 localizedDescription];
    }

    v13 = [v10 stringWithFormat:@"(Internal) %@", v12];
    v17[2] = *MEMORY[0x1E696A598];
    v18[1] = v13;
    v18[2] = v6;
    v14 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v18 forKeys:v17 count:3];
    v15 = [v8 errorWithDomain:@"PXStoryPublicErrorDomain" code:1 userInfo:v14];

    if (!v11)
    {
    }
  }

  return v15;
}

id PXStoryPublicErrorCreateSimulatedError()
{
  v8[4] = *MEMORY[0x1E69E9840];
  v0 = objc_alloc_init(_PXStoryPublicErrorSimulatedRecoveryAttempter);
  v1 = objc_alloc(MEMORY[0x1E696ABC0]);
  v2 = *MEMORY[0x1E696A598];
  v7[0] = *MEMORY[0x1E696A588];
  v7[1] = v2;
  v8[0] = @"Simulated Public Error";
  v8[1] = @"This is a simulated interactive memory error.";
  v7[2] = *MEMORY[0x1E696A590];
  v3 = [(_PXStoryPublicErrorSimulatedRecoveryAttempter *)v0 recoveryOptions];
  v7[3] = *MEMORY[0x1E696A8A8];
  v8[2] = v3;
  v8[3] = v0;
  v4 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v8 forKeys:v7 count:4];
  v5 = [v1 initWithDomain:@"PXStoryPublicErrorDomain" code:2 userInfo:v4];

  return v5;
}

id PXStoryPublicErrorCreateSimulatedCriticalError()
{
  v8[4] = *MEMORY[0x1E69E9840];
  v0 = objc_alloc_init(_PXStoryPublicErrorSimulatedRecoveryAttempter);
  v1 = objc_alloc(MEMORY[0x1E696ABC0]);
  v2 = *MEMORY[0x1E696A598];
  v7[0] = *MEMORY[0x1E696A588];
  v7[1] = v2;
  v8[0] = @"Simulated Critical Public Error";
  v8[1] = @"This is a simulated critical interactive error.";
  v7[2] = *MEMORY[0x1E696A590];
  v3 = [(_PXStoryPublicErrorSimulatedRecoveryAttempter *)v0 recoveryOptions];
  v7[3] = *MEMORY[0x1E696A8A8];
  v8[2] = v3;
  v8[3] = v0;
  v4 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v8 forKeys:v7 count:4];
  v5 = [v1 initWithDomain:@"PXStoryCriticalPublicErrorDomain" code:2 userInfo:v4];

  return v5;
}

id PXStoryMovieHighlightDescription(void *a1)
{
  v1 = a1;
  v2 = MEMORY[0x1E696AEC0];
  v3 = objc_opt_class();
  if (v1)
  {
    [v1 timeRange];
  }

  else
  {
    memset(v17, 0, sizeof(v17));
  }

  v4 = PXStoryTimeRangeDescription(v17);
  [v1 qualityScore];
  v6 = v5;
  v7 = [v1 normalizationData];
  v8 = [v1 hasVoice];
  v9 = [v1 hasFace];
  v10 = [v1 hasMusic];
  [v1 loudness];
  v12 = v11;
  [v1 peakVolume];
  v14 = v13;
  [v1 bestPlaybackRect];
  if (!CGRectIsNull(v19))
  {
    PXRectDescription();
  }

  v15 = [v2 stringWithFormat:@"<%@:%p timeRange: %@, qualityScore: %g normalizationData: %@, voice: %d, face: %d, music: %d, loudness: %0.2f, peak: %0.2f, bestPlaybackRect: %@>", v3, v1, v4, v6, v7, v8, v9, v10, v12, v14, @"null"];

  return v15;
}

id PXStoryMovieHighlightCurationDescription(void *a1)
{
  v1 = a1;
  v2 = [v1 highlights];
  v3 = MEMORY[0x1E696AEC0];
  v4 = objc_opt_class();
  v5 = [v2 count];
  v6 = [v1 movieSummary];
  v7 = [v1 livePhoto];
  v8 = [v1 fullMovie];
  v9 = [v1 defaultHighlight];
  v10 = [v3 stringWithFormat:@"<%@:%p %lu highlights: %@, summary: %@, live: %@, full: %@, default: %@>", v4, v1, v5, v2, v6, v7, v8, v9];

  return v10;
}

double PXStoryMediaAnalysisResultGetBestPlaybackRect(void *a1)
{
  v1 = [a1 objectForKeyedSubscript:*MEMORY[0x1E69AE1D0]];
  v2 = [v1 objectForKeyedSubscript:*MEMORY[0x1E69AE1D8]];

  if (v2)
  {
    *&v3 = CGRectFromString(v2);
  }

  else
  {
    v3 = *MEMORY[0x1E695F050];
  }

  return v3;
}

void PXStoryMediaAnalysisResultGetTimeRange(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  if (v3)
  {
    v5 = *MEMORY[0x1E69AE208];
    v6 = [v3 objectForKeyedSubscript:*MEMORY[0x1E69AE208]];
    if (v6)
    {

      v7 = *MEMORY[0x1E69AE1E8];
    }

    else
    {
      v7 = *MEMORY[0x1E69AE1E8];
      v8 = [v4 objectForKeyedSubscript:*MEMORY[0x1E69AE1E8]];

      if (!v8)
      {
        v14.start.epoch = 0;
        *&v14.start.value = PXStoryTimeZero;
        *&duration.value = PXStoryTimeMaximum;
        duration.epoch = 0;
        CMTimeRangeMake(a1, &v14.start, &duration);
        goto LABEL_7;
      }
    }

    memset(&duration, 0, sizeof(duration));
    v9 = [v4 objectForKeyedSubscript:v5];
    CMTimeMakeFromDictionary(&duration, v9);

    memset(&v15, 0, sizeof(v15));
    v10 = [v4 objectForKeyedSubscript:v7];
    CMTimeMakeFromDictionary(&v15, v10);

    memset(&v14, 0, sizeof(v14));
    start = duration;
    v12 = v15;
    CMTimeRangeMake(&v14, &start, &v12);
    v11 = *&v14.start.epoch;
    *a1 = *&v14.start.value;
    *(a1 + 16) = v11;
    *(a1 + 32) = *&v14.duration.timescale;
  }

  else
  {
    *(a1 + 16) = 0u;
    *(a1 + 32) = 0u;
    *a1 = 0u;
  }

LABEL_7:
}

float PXStoryMediaAnalysisResultGetQuality(void *a1)
{
  v1 = [a1 objectForKeyedSubscript:*MEMORY[0x1E69AE200]];
  [v1 floatValue];
  v3 = v2;

  return v3;
}

void PXStoryMediaAnalysisResultsGetTimeRange(_OWORD *a1, void *a2)
{
  v3 = a2;
  if ([v3 count])
  {
    memset(&v11, 0, sizeof(v11));
    v4 = [v3 firstObject];
    PXStoryMediaAnalysisResultGetTimeRange(&v11, v4);

    v9 = 0u;
    v10 = 0u;
    v8 = 0u;
    v5 = [v3 lastObject];
    PXStoryMediaAnalysisResultGetTimeRange(&v8, v5);

    a1[1] = 0u;
    a1[2] = 0u;
    *a1 = 0u;
    v7 = v11;
    v6[0] = v8;
    v6[1] = v9;
    v6[2] = v10;
    PXStoryTimeRangeUnion(&v7, v6, a1);
  }

  else
  {
    a1[1] = 0uLL;
    a1[2] = 0uLL;
    *a1 = 0uLL;
  }
}

BOOL PXStoryMovieHighlightEqual(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (!v3)
  {
    memset(&v35[1], 0, sizeof(CMTimeRange));
    if (v4)
    {
      goto LABEL_3;
    }

LABEL_5:
    memset(v35, 0, 48);
    goto LABEL_6;
  }

  [v3 timeRange];
  if (!v5)
  {
    goto LABEL_5;
  }

LABEL_3:
  [v5 timeRange];
LABEL_6:
  range1 = v35[1];
  range2 = v35[0];
  if (!CMTimeRangeEqual(&range1, &range2))
  {
    goto LABEL_8;
  }

  [v3 qualityScore];
  v7 = v6;
  [v5 qualityScore];
  if (v7 != v8)
  {
    goto LABEL_8;
  }

  v11 = [v3 normalizationData];
  v12 = [v5 normalizationData];
  v13 = v12;
  if (v11 == v12)
  {
  }

  else
  {
    v14 = [v11 isEqual:v12];

    if ((v14 & 1) == 0)
    {
      goto LABEL_8;
    }
  }

  v15 = [v3 hasVoice];
  if (v15 == [v5 hasVoice])
  {
    v16 = [v3 hasFace];
    if (v16 == [v5 hasFace])
    {
      [v3 loudness];
      v18 = v17;
      [v5 loudness];
      if (v18 == v19)
      {
        [v3 peakVolume];
        v21 = v20;
        [v5 peakVolume];
        if (v21 == v22)
        {
          [v3 bestPlaybackRect];
          v24 = v23;
          v26 = v25;
          v28 = v27;
          v30 = v29;
          [v5 bestPlaybackRect];
          v39.origin.x = v31;
          v39.origin.y = v32;
          v39.size.width = v33;
          v39.size.height = v34;
          v38.origin.x = v24;
          v38.origin.y = v26;
          v38.size.width = v28;
          v38.size.height = v30;
          v9 = CGRectEqualToRect(v38, v39);
          goto LABEL_9;
        }
      }
    }
  }

LABEL_8:
  v9 = 0;
LABEL_9:

  return v9;
}

id PXStoryMovieHighlightForPlaybackStyle(void *a1, uint64_t a2)
{
  v3 = a1;
  v4 = v3;
  switch(a2)
  {
    case 3:
      v5 = [v3 livePhoto];
      if (!v5)
      {
        v9 = [v4 movieSummary];
        v10 = v9;
        if (v9)
        {
          v11 = v9;
        }

        else
        {
          v11 = [v4 defaultHighlight];
        }

        v7 = v11;

        goto LABEL_10;
      }

      goto LABEL_8;
    case 5:
      v7 = [v3 fullMovie];
      goto LABEL_12;
    case 4:
      v5 = [v3 bestHighlight];
      if (!v5)
      {
        v6 = [v4 defaultHighlight];
LABEL_9:
        v7 = v6;
LABEL_10:

        goto LABEL_12;
      }

LABEL_8:
      v6 = v5;
      goto LABEL_9;
  }

  v7 = 0;
LABEL_12:

  return v7;
}

void sub_1A4F7EE28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__170729(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F7F65C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F80CA0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 - 176));
  objc_destroyWeak((v1 - 168));
  _Unwind_Resume(a1);
}

void sub_1A4F83D48(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F851C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, char a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, id a41)
{
  objc_destroyWeak((v41 + 32));
  objc_destroyWeak(&location);
  objc_destroyWeak(&a40);
  objc_destroyWeak(&a41);
  _Unwind_Resume(a1);
}

void sub_1A4F86D64(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id _FallbackPlaceholderStatusControllerForViewModel(void *a1)
{
  v1 = a1;
  v2 = [v1 contentFilterState];
  v3 = [v2 isFiltering];

  if (v3)
  {
    v4 = @"PXBrowserSummaryNoFilteringResultsPlaceholderText";
LABEL_3:
    v5 = PXLocalizedStringFromTable(v4, @"PhotosUICore");
    v6 = [objc_alloc(MEMORY[0x1E696AAB0]) initWithString:&stru_1F1741150 attributes:0];
    goto LABEL_8;
  }

  v7 = [v1 noContentPlaceholderFallbackTitle];

  if (v7)
  {
    v5 = [v1 noContentPlaceholderFallbackTitle];
    v6 = [v1 noContentPlaceholderFallbackMessage];

    if (!v6)
    {
      goto LABEL_8;
    }

    v8 = objc_alloc(MEMORY[0x1E696AAB0]);
    v9 = [v1 noContentPlaceholderFallbackMessage];
    v10 = [v8 initWithString:v9 attributes:0];
  }

  else
  {
    if ([v1 noContentPlaceholderType] == 1)
    {
      v4 = @"NO_PHOTOS_ONLY_TITLE";
      goto LABEL_3;
    }

    if ([v1 noContentPlaceholderType] == 2)
    {
      v4 = @"NO_VIDEOS_ONLY_TITLE";
      goto LABEL_3;
    }

    v9 = [v1 dataSourceManager];
    v5 = [v9 localizedEmptyPlaceholderTitle];
    v10 = [v9 localizedEmptyPlaceholderAttributedMessage];
  }

  v6 = v10;

LABEL_8:
  v11 = -[PXPhotosGridPlaceholderStatusController initForPresentingCPLStatus:fallbackTitle:fallbackAttributedMessage:]([PXPhotosGridPlaceholderStatusController alloc], "initForPresentingCPLStatus:fallbackTitle:fallbackAttributedMessage:", [v1 wantsCPLStatus] & (v3 ^ 1), v5, v6);

  return v11;
}

void sub_1A4F88424(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__171529(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4F88FEC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, char a23)
{
  objc_destroyWeak((v23 + 64));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A4F8B96C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void commonInit(void *a1)
{
  v1 = a1;
  [v1 setUserInteractionEnabled:0];
  v2 = [MEMORY[0x1E69DC888] colorWithWhite:0.07 alpha:0.85];
  [v1 setBackgroundColor:v2];

  v3 = [MEMORY[0x1E696AD18] strongToStrongObjectsMapTable];
  v4 = v1[51];
  v1[51] = v3;

  v5 = objc_alloc_init(MEMORY[0x1E69DCF90]);
  v6 = v1[52];
  v1[52] = v5;

  [v1[52] setTranslatesAutoresizingMaskIntoConstraints:0];
  [v1[52] setDistribution:3];
  [v1[52] setAxis:1];
  [v1[52] setAlignment:1];
  [v1[52] setSpacing:2.0];
  [v1 addSubview:v1[52]];
  v7 = [v1[52] centerXAnchor];
  v8 = [v1 centerXAnchor];
  v9 = [v7 constraintEqualToAnchor:v8];
  [v9 setActive:1];

  v10 = [v1[52] centerYAnchor];
  v11 = [v1 centerYAnchor];
  v12 = [v10 constraintEqualToAnchor:v11];
  [v12 setActive:1];

  v13 = [v1 widthAnchor];
  v14 = [v1[52] widthAnchor];
  v15 = [v13 constraintEqualToAnchor:v14 constant:4.0];
  [v15 setActive:1];

  v19 = [v1 heightAnchor];
  v16 = v1[52];

  v17 = [v16 heightAnchor];
  v18 = [v19 constraintEqualToAnchor:v17 constant:4.0];
  [v18 setActive:1];
}

void sub_1A4F8EE7C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v3 - 128));
  _Unwind_Resume(a1);
}

void sub_1A4F8F3D0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 80));
  _Unwind_Resume(a1);
}

void sub_1A4F90C30(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, id location)
{
  objc_destroyWeak((v23 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F928D4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4F955E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__173608(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

__CFString *PXStoryBufferingReasonsDescription(unint64_t a1)
{
  if (a1 >= 5)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXStoryBufferingReasonsDescription(PXStoryBufferingReason)"];
    [v6 handleFailureInFunction:v7 file:@"PXStoryBufferingController.m" lineNumber:65 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return off_1E773FF58[a1];
}

uint64_t PXIsCMMURL(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXIsCMMURL(NSURL *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8 file:@"PXCMMURLUtilities.m" lineNumber:35 description:{@"Invalid parameter not satisfying: %@", @"shareURL"}];
  }

  v2 = [v1 pathComponents];
  if ([v2 count] < 2)
  {
    v4 = &stru_1F1741150;
  }

  else
  {
    v3 = [v2 objectAtIndexedSubscript:1];
    v4 = [v3 lowercaseString];
  }

  if (([(__CFString *)v4 isEqualToString:@"photos"]& 1) != 0)
  {
    v5 = 1;
  }

  else if (_os_feature_enabled_impl())
  {
    v5 = [(__CFString *)v4 isEqualToString:@"photos_links"];
  }

  else
  {
    v5 = 0;
  }

  return v5;
}

id PXURLForCMMShare(void *a1, void *a2)
{
  v14[1] = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = objc_alloc_init(MEMORY[0x1E696AF20]);
  [v5 setScheme:@"https"];
  [v5 setHost:@"CMMTest"];
  if (v3)
  {
    v6 = objc_alloc(MEMORY[0x1E696AF60]);
    v7 = @"albumName";
    v8 = v3;
  }

  else
  {
    if (!v4)
    {
      goto LABEL_7;
    }

    v6 = objc_alloc(MEMORY[0x1E696AF60]);
    v7 = @"momentShareID";
    v8 = v4;
  }

  v9 = [v6 initWithName:v7 value:v8];
  v10 = v9;
  if (v9)
  {
    v14[0] = v9;
    v11 = [MEMORY[0x1E695DEC8] arrayWithObjects:v14 count:1];
    [v5 setQueryItems:v11];
  }

LABEL_7:
  v12 = [v5 URL];

  return v12;
}

uint64_t PXCMMTypeForURL(void *a1)
{
  v1 = a1;
  v2 = [v1 host];
  v3 = [v2 isEqualToString:@"CMMTest"];

  if (v3)
  {
    v4 = 1;
  }

  else
  {
    v5 = [v1 host];
    v6 = [v5 lowercaseString];
    v7 = [v6 containsString:@"icloud.com"];

    if (v7)
    {
      v4 = 2;
    }

    else
    {
      v4 = 0;
    }
  }

  return v4;
}

id PXSharedAlbumNameForCMMShareURL(void *a1)
{
  v18 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [objc_alloc(MEMORY[0x1E696AF20]) initWithURL:v1 resolvingAgainstBaseURL:0];
  [v2 queryItems];
  v13 = 0u;
  v14 = 0u;
  v15 = 0u;
  v3 = v16 = 0u;
  v4 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
  if (v4)
  {
    v5 = v4;
    v6 = *v14;
    while (2)
    {
      for (i = 0; i != v5; ++i)
      {
        if (*v14 != v6)
        {
          objc_enumerationMutation(v3);
        }

        v8 = *(*(&v13 + 1) + 8 * i);
        v9 = [v8 name];
        v10 = [v9 isEqualToString:@"albumName"];

        if (v10)
        {
          v11 = [v8 value];
          goto LABEL_11;
        }
      }

      v5 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
      if (v5)
      {
        continue;
      }

      break;
    }
  }

  v11 = 0;
LABEL_11:

  return v11;
}

id PXMomentShareLocalIDForCMMShareURL(void *a1)
{
  v18 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [objc_alloc(MEMORY[0x1E696AF20]) initWithURL:v1 resolvingAgainstBaseURL:0];
  [v2 queryItems];
  v13 = 0u;
  v14 = 0u;
  v15 = 0u;
  v3 = v16 = 0u;
  v4 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
  if (v4)
  {
    v5 = v4;
    v6 = *v14;
    while (2)
    {
      for (i = 0; i != v5; ++i)
      {
        if (*v14 != v6)
        {
          objc_enumerationMutation(v3);
        }

        v8 = *(*(&v13 + 1) + 8 * i);
        v9 = [v8 name];
        v10 = [v9 isEqualToString:@"momentShareID"];

        if (v10)
        {
          v11 = [v8 value];
          goto LABEL_11;
        }
      }

      v5 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
      if (v5)
      {
        continue;
      }

      break;
    }
  }

  v11 = 0;
LABEL_11:

  return v11;
}

id PXFetchAssetCollectionForCMMShareURL(void *a1, uint64_t a2, uint64_t *a3)
{
  v22[1] = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = v5;
  if (!v5)
  {
    v20 = [MEMORY[0x1E696AAA8] currentHandler];
    v21 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAssetCollection *> * _Nullable PXFetchAssetCollectionForCMMShareURL(NSURL *__strong _Nonnull, BOOL, PXCMMURLType * _Nullable)"}];
    [v20 handleFailureInFunction:v21 file:@"PXCMMURLUtilities.m" lineNumber:120 description:{@"Invalid parameter not satisfying: %@", @"url"}];

    v5 = 0;
  }

  v7 = PXCMMTypeForURL(v5);
  v8 = v7;
  if (v7 == 2)
  {
    v16 = _FetchLocalMomentShareForURL(v6, a2);
    if (!a3)
    {
      goto LABEL_10;
    }

    goto LABEL_9;
  }

  if (v7 != 1)
  {
    PXAssertGetLog();
  }

  v9 = PXSharedAlbumNameForCMMShareURL(v6);
  v10 = PXMomentShareLocalIDForCMMShareURL(v6);
  v11 = v10;
  if (v9)
  {
    v12 = [MEMORY[0x1E69789A8] px_deprecated_appPhotoLibrary];
    v13 = [v12 librarySpecificFetchOptions];

    v14 = [MEMORY[0x1E696AE18] predicateWithFormat:@"title = %@", v9];
    [v13 setPredicate:v14];
    v15 = [MEMORY[0x1E6978650] fetchAssetCollectionsWithType:1 subtype:101 options:v13];
LABEL_15:
    v16 = v15;

    goto LABEL_16;
  }

  if (v10)
  {
    v18 = [MEMORY[0x1E69789A8] sharedMomentSharePhotoLibrary];
    v13 = [v18 librarySpecificFetchOptions];

    v19 = MEMORY[0x1E6978650];
    v22[0] = v11;
    v14 = [MEMORY[0x1E695DEC8] arrayWithObjects:v22 count:1];
    v15 = [v19 fetchAssetCollectionsWithLocalIdentifiers:v14 options:v13];
    goto LABEL_15;
  }

  v16 = 0;
LABEL_16:

  if (a3)
  {
LABEL_9:
    *a3 = v8;
  }

LABEL_10:

  return v16;
}

id _FetchLocalMomentShareForURL(void *a1, uint64_t a2)
{
  v3 = MEMORY[0x1E69789A8];
  v4 = a1;
  v5 = [v3 sharedMomentSharePhotoLibrary];
  v6 = [v5 librarySpecificFetchOptions];

  v7 = [MEMORY[0x1E696AE18] predicateWithFormat:@"shareURL = %@", v4];

  [v6 setInternalPredicate:v7];
  [v6 setIncludeTrashedShares:a2];
  v8 = [MEMORY[0x1E6978930] fetchAssetCollectionsWithType:7 subtype:0x7FFFFFFFFFFFFFFFLL options:v6];

  return v8;
}

void PXFetchMomentShareForURL(void *a1, void *a2)
{
  v35 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v16 = [MEMORY[0x1E696AAA8] currentHandler];
    v17 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXFetchMomentShareForURL(NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHMomentShare * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v16 handleFailureInFunction:v17 file:@"PXCMMURLUtilities.m" lineNumber:185 description:{@"Invalid parameter not satisfying: %@", @"url"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v18 = [MEMORY[0x1E696AAA8] currentHandler];
  v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXFetchMomentShareForURL(NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHMomentShare * _Nullable __strong, NSError * _Nullable __strong))"}];
  [v18 handleFailureInFunction:v19 file:@"PXCMMURLUtilities.m" lineNumber:186 description:{@"Invalid parameter not satisfying: %@", @"completionHandler"}];

LABEL_3:
  v6 = +[PXCompleteMyMomentSettings sharedInstance];
  v7 = [v6 simulateFetchErrorType];

  switch(v7)
  {
    case 3:
      v12 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:6003 debugDescription:@"Simulated Error: Share Not Found (Permanent)"];
      v24[0] = MEMORY[0x1E69E9820];
      v24[1] = 3221225472;
      v24[2] = __PXFetchMomentShareForURL_block_invoke_3;
      v24[3] = &unk_1E774C2F0;
      v25 = v12;
      v26 = v5;
      v9 = v12;
      dispatch_async(MEMORY[0x1E69E96A0], v24);

      v10 = v26;
      break;
    case 2:
      v11 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:6001 debugDescription:@"Simulated Error: Network Error (Recoverable)"];
      v27[0] = MEMORY[0x1E69E9820];
      v27[1] = 3221225472;
      v27[2] = __PXFetchMomentShareForURL_block_invoke_2;
      v27[3] = &unk_1E774C2F0;
      v28 = v11;
      v29 = v5;
      v9 = v11;
      dispatch_async(MEMORY[0x1E69E96A0], v27);

      v10 = v29;
      break;
    case 1:
      v8 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXCMMErrorDomain" code:-1011 debugDescription:@"Simulated Error: Timeout (Recoverable)"];
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXFetchMomentShareForURL_block_invoke;
      block[3] = &unk_1E774C2F0;
      v31 = v8;
      v32 = v5;
      v9 = v8;
      dispatch_async(MEMORY[0x1E69E96A0], block);

      v10 = v32;
      break;
    default:
      v9 = _FetchLocalMomentShareForURL(v3, 1);
      v13 = [v9 firstObject];
      if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
      {
        v10 = v13;

        if (v10 && [v10 trashedState] != 1)
        {
          (v5)[2](v5, v10, 0);
          break;
        }
      }

      else
      {

        v10 = 0;
      }

      if ([v10 trashedState] == 1 && objc_msgSend(v10, "status") != 1)
      {
        v14 = PLSharingGetLog();
        if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
        {
          v15 = [v10 uuid];
          *buf = 138543362;
          v34 = v15;
          _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_DEFAULT, "Trying to navigate to trashed MomentShare with UUID: %{public}@. Pre-emptively trying to expunge it first.", buf, 0xCu);
        }

        v20[0] = MEMORY[0x1E69E9820];
        v20[1] = 3221225472;
        v20[2] = __PXFetchMomentShareForURL_block_invoke_251;
        v20[3] = &unk_1E774ACE8;
        v21 = v10;
        v22 = v3;
        v23 = v5;
        PXExpungeMomentShare(v21, v20);
      }

      _FetchMomentShareForURLWithTimeout(v3, v5);
      break;
  }
}

void __PXFetchMomentShareForURL_block_invoke_251(id *a1, int a2, void *a3)
{
  v14 = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = PLSharingGetLog();
  v7 = v6;
  if (a2)
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      v8 = [a1[4] uuid];
      v10 = 138543362;
      v11 = v8;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_DEFAULT, "Expunging of trashed MomentShare (with UUID: %{public}@) for URL navigation succedeed.", &v10, 0xCu);
    }

    _FetchMomentShareForURLWithTimeout(a1[5], a1[6]);
  }

  else
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      v9 = [a1[4] uuid];
      v10 = 138543618;
      v11 = v9;
      v12 = 2112;
      v13 = v5;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_ERROR, "Failed to pre-emptively expunge trashed MomentShare (with UUID: %{public}@) for navigation with error: %@", &v10, 0x16u);
    }

    (*(a1[6] + 2))();
  }
}

void _FetchMomentShareForURLWithTimeout(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v25[0] = 0;
  v25[1] = v25;
  v25[2] = 0x2810000000;
  v25[3] = &unk_1A561E057;
  v26 = 0;
  v23[0] = 0;
  v23[1] = v23;
  v23[2] = 0x2020000000;
  v24 = 0;
  v21[0] = 0;
  v21[1] = v21;
  v21[2] = 0x2020000000;
  v22 = 0;
  v5 = dispatch_time(0, 3000000000);
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = ___FetchMomentShareForURLWithTimeout_block_invoke;
  block[3] = &unk_1E7743710;
  v18 = v25;
  v19 = v23;
  v20 = v21;
  v6 = v4;
  v17 = v6;
  dispatch_after(v5, MEMORY[0x1E69E96A0], block);
  v7 = [MEMORY[0x1E69789A8] sharedMomentSharePhotoLibrary];
  v8 = [v7 librarySpecificFetchOptions];

  v9 = MEMORY[0x1E6978930];
  v11[0] = MEMORY[0x1E69E9820];
  v11[1] = 3221225472;
  v11[2] = ___FetchMomentShareForURLWithTimeout_block_invoke_2;
  v11[3] = &unk_1E773FF88;
  v13 = v25;
  v14 = v21;
  v15 = v23;
  v10 = v6;
  v12 = v10;
  [v9 fetchMomentShareFromShareURL:v3 options:v8 completionHandler:v11];

  _Block_object_dispose(v21, 8);
  _Block_object_dispose(v23, 8);
  _Block_object_dispose(v25, 8);
}

void sub_1A4F9E05C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, char a26)
{
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose((v26 - 152), 8);
  _Block_object_dispose((v26 - 120), 8);
  _Unwind_Resume(a1);
}

void *__Block_byref_object_copy__174355(uint64_t a1, uint64_t a2)
{
  result = _Block_copy(*(a2 + 40));
  *(a1 + 40) = result;
  return result;
}

uint64_t __Block_byref_object_copy__174652(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4FA02F8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

_PXPhotosDetailsAssetsWidgetEventTracker *PXPhotosDetailsAssetsWidgetEventTrackerCreate()
{
  v0 = objc_alloc_init(_PXPhotosDetailsAssetsWidgetEventTracker);

  return v0;
}

BOOL PXStoryTimeRangeIntersectsTimeRange(_OWORD *a1, _OWORD *a2)
{
  memset(&v7, 0, sizeof(v7));
  v2 = a1[1];
  *&range.start.value = *a1;
  *&range.start.epoch = v2;
  *&range.duration.timescale = a1[2];
  v3 = a2[1];
  *&v5.start.value = *a2;
  *&v5.start.epoch = v3;
  *&v5.duration.timescale = a2[2];
  CMTimeRangeGetIntersection(&v7, &range, &v5);
  range.start = v7.duration;
  *&v5.start.value = *MEMORY[0x1E6960CC0];
  v5.start.epoch = *(MEMORY[0x1E6960CC0] + 16);
  return CMTimeCompare(&range.start, &v5.start) > 0;
}

double PXStoryTimeRangeIntersection@<D0>(_OWORD *a1@<X0>, _OWORD *a2@<X1>, _OWORD *a3@<X8>)
{
  memset(&v10, 0, sizeof(v10));
  v4 = a1[1];
  *&range.start.value = *a1;
  *&range.start.epoch = v4;
  *&range.duration.timescale = a1[2];
  v5 = a2[1];
  *&v8.start.value = *a2;
  *&v8.start.epoch = v5;
  *&v8.duration.timescale = a2[2];
  CMTimeRangeGetIntersection(&v10, &range, &v8);
  range.start = v10.duration;
  *&v8.start.value = *MEMORY[0x1E6960CC0];
  v8.start.epoch = *(MEMORY[0x1E6960CC0] + 16);
  if (CMTimeCompare(&range.start, &v8.start) < 1)
  {
    result = 0.0;
    a3[1] = 0u;
    a3[2] = 0u;
    *a3 = 0u;
  }

  else
  {
    v6 = *&v10.start.epoch;
    *a3 = *&v10.start.value;
    a3[1] = v6;
    result = *&v10.duration.timescale;
    a3[2] = *&v10.duration.timescale;
  }

  return result;
}

BOOL PXStoryTimeApproximatelyEqualToTime(uint64_t a1, uint64_t a2)
{
  v17 = *MEMORY[0x1E69E9840];
  v15 = *a1;
  v2 = *(a1 + 12);
  v16 = *(a1 + 8);
  v3 = *(a1 + 16);
  v13 = *a2;
  v4 = *(a2 + 12);
  v14 = *(a2 + 8);
  v5 = *(a2 + 16);
  if ((v2 & 0x1F) != 3 && (v4 & 0x1F) != 3 || (memset(&time1, 0, sizeof(time1)), v6 = *a1, rhs.epoch = v5, lhs.value = v6, lhs.timescale = *(a1 + 8), lhs.flags = v2, lhs.epoch = v3, rhs.value = *a2, rhs.timescale = *(a2 + 8), rhs.flags = v4, CMTimeSubtract(&time, &lhs, &rhs), CMTimeAbsoluteValue(&time1, &time), v7 = 1, CMTimeMake(&time, 1, 1000000000), lhs = time1, CMTimeCompare(&lhs, &time) >= 1))
  {
    time.epoch = v5;
    time1.value = v15;
    time1.timescale = v16;
    time1.flags = v2;
    time1.epoch = v3;
    time.value = v13;
    time.timescale = v14;
    time.flags = v4;
    return CMTimeCompare(&time1, &time) == 0;
  }

  return v7;
}

BOOL PXStoryTimeApproximatelyEqualToTimeWithTolerance(CMTime *a1, CMTime *a2, double a3)
{
  v7 = *a1;
  Seconds = CMTimeGetSeconds(&v7);
  v7 = *a2;
  return vabdd_f64(Seconds, CMTimeGetSeconds(&v7)) <= a3;
}

CMTimeRange *PXStoryTimeRangeUnion@<X0>(CMTimeRange *result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  if ((result->start.flags & 1) != 0 && ((result->duration.flags & 1) != 0 ? (v5 = result->duration.epoch == 0) : (v5 = 0), v5 && (result->duration.value & 0x8000000000000000) == 0))
  {
    if ((*(a2 + 12) & 1) != 0 && (*(a2 + 36) & 1) != 0 && !*(a2 + 40) && (*(a2 + 24) & 0x8000000000000000) == 0)
    {
      v13 = v3;
      v14 = v4;
      v6 = *&result->start.epoch;
      *&range.start.value = *&result->start.value;
      *&range.start.epoch = v6;
      *&range.duration.timescale = *&result->duration.timescale;
      v7 = *(a2 + 16);
      *&v11.start.value = *a2;
      *&v11.start.epoch = v7;
      *&v11.duration.timescale = *(a2 + 32);
      return CMTimeRangeGetUnion(a3, &range, &v11);
    }

    v10 = *&result->start.epoch;
    *a3 = *&result->start.value;
    *(a3 + 16) = v10;
    v9 = *&result->duration.timescale;
  }

  else
  {
    v8 = *(a2 + 16);
    *a3 = *a2;
    *(a3 + 16) = v8;
    v9 = *(a2 + 32);
  }

  *(a3 + 32) = v9;
  return result;
}

CMTimeRange *PXStoryTimeRangeInset@<X0>(CMTime *a1@<X0>, CMTime *a2@<X1>, CMTimeRange *a3@<X8>)
{
  lhs = *a1;
  rhs = *a2;
  CMTimeAdd(&v9, &lhs, &rhs);
  lhs = a1[1];
  rhs = *a2;
  CMTimeSubtract(&v7, &lhs, &rhs);
  rhs = *a2;
  lhs = v7;
  CMTimeSubtract(&v8, &lhs, &rhs);
  lhs = v9;
  rhs = v8;
  return CMTimeRangeMake(a3, &lhs, &rhs);
}

CMTimeRange *PXStoryTimeRangeOffset@<X0>(CMTime *a1@<X0>, CMTime *a2@<X1>, CMTimeRange *a3@<X8>)
{
  lhs = *a1;
  rhs = *a2;
  CMTimeAdd(&v6, &lhs, &rhs);
  rhs = a1[1];
  lhs = v6;
  return CMTimeRangeMake(a3, &lhs, &rhs);
}

__CFString *PXStoryTimeDescription(CMTime *a1)
{
  if (a1->value)
  {
    v3 = objc_alloc(MEMORY[0x1E696AEC0]);
    time = *a1;
    v4 = [v3 initWithFormat:@"%0.1fs", CMTimeGetSeconds(&time)];
  }

  else
  {
    v4 = @"0s";
  }

  return v4;
}

id PXStoryTimeRangeDescription(uint64_t a1)
{
  v2 = objc_alloc(MEMORY[0x1E696AEC0]);
  *&time.start.value = *a1;
  time.start.epoch = *(a1 + 16);
  Seconds = CMTimeGetSeconds(&time.start);
  v4 = *(a1 + 16);
  *&time.start.value = *a1;
  *&time.start.epoch = v4;
  *&time.duration.timescale = *(a1 + 32);
  CMTimeRangeGetEnd(&v8, &time);
  v5 = [v2 initWithFormat:@"{ %0.1f - %0.1fs }", *&Seconds, CMTimeGetSeconds(&v8)];

  return v5;
}

id PXStoryDurationInfoDescription(__int128 *a1)
{
  v2 = objc_alloc(MEMORY[0x1E696AEC0]);
  v10 = *(a1 + 24);
  *&v11 = *(a1 + 5);
  v3 = PXStoryTimeDescription(&v10);
  v10 = *a1;
  *&v11 = *(a1 + 2);
  v4 = PXStoryTimeDescription(&v10);
  v10 = a1[3];
  *&v11 = *(a1 + 8);
  v5 = PXStoryTimeDescription(&v10);
  v6 = *(a1 + 88);
  v10 = *(a1 + 72);
  v11 = v6;
  v7 = PXAudioCueDescription(&v10);
  v8 = [v2 initWithFormat:@"{ preferred: %@; min: %@; max: %@; cue: %@; }", v3, v4, v5, v7];

  return v8;
}

__CFString *PXStoryResourceKindDescription(unint64_t a1)
{
  if (a1 > 5)
  {
    return @"??";
  }

  else
  {
    return off_1E77400B0[a1];
  }
}

__CFString *PXStoryPanDirectionDescription(unsigned int a1)
{
  if (a1 > 4)
  {
    return @"??";
  }

  else
  {
    return off_1E77400F8[a1];
  }
}

__CFString *PXStoryScaleDirectionDescription(unsigned int a1)
{
  if (a1 > 2)
  {
    return @"??";
  }

  else
  {
    return off_1E7740120[a1];
  }
}

__CFString *PXStoryRotateDirectionDescription(unsigned int a1)
{
  if (a1 > 2)
  {
    return @"??";
  }

  else
  {
    return off_1E7740138[a1];
  }
}

__CFString *PXStoryWipeTransitionKindDescription(unsigned int a1)
{
  if (a1 > 2)
  {
    return @"??";
  }

  else
  {
    return off_1E7740150[a1];
  }
}

__CFString *PXStoryWipeTransitionDirectionDescription(unsigned int a1)
{
  if (a1 > 2)
  {
    return @"??";
  }

  else
  {
    return off_1E77400E0[a1];
  }
}

uint64_t PXStoryTransitionKindGetMovementKind(unsigned int a1)
{
  if (a1 > 0xA)
  {
    return 0;
  }

  else
  {
    return qword_1A53825E0[a1];
  }
}

void PXStoryTransitionInfoMakeDefault(unsigned int a1@<W0>, uint64_t a2@<X8>, Float64 a3@<D0>)
{
  *(a2 + 32) = 0;
  *a2 = 0u;
  *(a2 + 16) = 0u;
  *a2 = a1;
  CMTimeMakeWithSeconds((a2 + 4), a3, 600);
  *(a2 + 28) = 0;
  v5 = +[PXStoryTransitionsSettings sharedInstance];
  if (a1 <= 0xA)
  {
    v6 = qword_1A53825E0[a1];
    if (v6 <= 3)
    {
      if (v6 != 2)
      {
        if (v6 != 3)
        {
          goto LABEL_14;
        }

        *(a2 + 29) = 1;
        v8 = v5;
        [v5 scaleTransitionRelativeFactor];
        goto LABEL_11;
      }

      *(a2 + 29) = 1;
    }

    else
    {
      if (v6 == 4)
      {
        *(a2 + 29) = 1;
        v8 = v5;
        [v5 rotateTransitionAngle];
LABEL_11:
        v5 = v8;
        *(a2 + 32) = v7;
        goto LABEL_14;
      }

      if (v6 != 5)
      {
        if (v6 != 6)
        {
          goto LABEL_14;
        }

        *(a2 + 29) = 1;
        v8 = v5;
        [v5 zoomTransitionRelativeFactor];
        goto LABEL_11;
      }

      *(a2 + 29) = 2;
      *(a2 + 32) = 1;
    }
  }

LABEL_14:
}

uint64_t PXStoryTransitionInfoFlippedForRTL@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>)
{
  v2 = *(result + 16);
  *a2 = *result;
  *(a2 + 16) = v2;
  *(a2 + 32) = *(result + 32);
  *(a2 + 1) ^= 1u;
  if (*result == 5)
  {
    v3 = *(result + 29);
    if (v3 == 1)
    {
      v4 = 2;
    }

    else
    {
      if (v3 != 2)
      {
        return result;
      }

      v4 = 1;
    }

    *(a2 + 29) = v4;
  }

  return result;
}

id PXStoryTransitionInfoDescription(unsigned __int8 *a1)
{
  v2 = objc_alloc(MEMORY[0x1E696AD60]);
  v3 = *a1;
  if (v3 > 0xA)
  {
    v4 = @"??";
  }

  else
  {
    v4 = off_1E7740168[v3];
  }

  v5 = v4;
  v23 = *(a1 + 4);
  v6 = PXStoryTimeDescription(&v23);
  v7 = [v2 initWithFormat:@"{ out: %@, duration: %@", v5, v6];

  v8 = *a1;
  if (v8 > 0xA)
  {
    goto LABEL_28;
  }

  v9 = qword_1A53825E0[v8];
  if (v9 <= 3)
  {
    if (v9 != 2)
    {
      if (v9 != 3)
      {
        goto LABEL_28;
      }

LABEL_12:
      v10 = a1[29];
      if (v10 > 2)
      {
        v11 = @"??";
      }

      else
      {
        v11 = off_1E7740120[v10];
      }

      [v7 appendFormat:@", %@ %0.1f", v11, *(a1 + 4)];
      goto LABEL_28;
    }

    v16 = a1[29];
    if (v16 > 4)
    {
      v17 = @"??";
    }

    else
    {
      v17 = off_1E77400F8[v16];
    }

    [v7 appendFormat:@", %@", v17, v22];
  }

  else
  {
    switch(v9)
    {
      case 4:
        v12 = a1[29];
        if (v12 > 2)
        {
          v13 = @"??";
        }

        else
        {
          v13 = off_1E7740138[v12];
        }

        [v7 appendFormat:@", %@ %0.1f", v13, *(a1 + 4)];
        break;
      case 5:
        v14 = a1[29];
        if (v14 > 2)
        {
          v15 = @"??";
        }

        else
        {
          v15 = off_1E7740150[v14];
        }

        [v7 appendFormat:@", wipe: %@", v15, v22];
        break;
      case 6:
        goto LABEL_12;
      default:
        break;
    }
  }

LABEL_28:
  if (a1[28])
  {
    if (a1[28] > 0xAu)
    {
      v18 = @"??";
    }

    else
    {
      v18 = off_1E7740168[a1[28]];
    }

    v19 = v18;
    [v7 appendFormat:@", (fallback from %@)", v19];
  }

  [v7 appendString:@" }"];
  v20 = [v7 copy];

  return v20;
}

__CFString *PXStoryTransitionKindDescription(unsigned int a1)
{
  if (a1 > 0xA)
  {
    return @"??";
  }

  else
  {
    return off_1E7740168[a1];
  }
}

BOOL PXStoryTransitionInfoEqualToTransitionInfo(unsigned __int8 *a1, unsigned __int8 *a2)
{
  if (*a1 != *a2 || a1[1] != a2[1])
  {
    return 0;
  }

  v7 = v2;
  v8 = v3;
  time1 = *(a1 + 4);
  v5 = *(a2 + 4);
  return CMTimeCompare(&time1, &v5) == 0;
}

__CFString *PXStoryTransitionEventDescription(uint64_t a1)
{
  v1 = @"undefined";
  if (a1 == 1)
  {
    v1 = @"orderIn";
  }

  if (a1 == 2)
  {
    return @"orderOut";
  }

  else
  {
    return v1;
  }
}

uint64_t PFStoryRecipeClipTransitionKindFromPXStoryTransitionKind(char a1)
{
  if (((a1 - 1) & 0xF8) != 0)
  {
    return 0;
  }

  else
  {
    return (a1 - 1) + 1;
  }
}

uint64_t PXStoryTransitionKindFromPFStoryRecipeClipTransitionKind(uint64_t a1)
{
  if ((a1 - 1) < 8)
  {
    return a1;
  }

  else
  {
    return 0;
  }
}

uint64_t PXStorySegmentClipCompositionInfoMake@<X0>(uint64_t result@<X0>, char a2@<W1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>, double a6@<D0>)
{
  *a5 = result;
  *(a5 + 8) = a2;
  *(a5 + 16) = a3;
  *(a5 + 24) = a6;
  *(a5 + 32) = a4;
  return result;
}

uint64_t PXStorySegmentClipCompositionInfoIsNone(uint64_t a1)
{
  if (*a1)
  {
    v1 = 0;
  }

  else
  {
    v1 = *(a1 + 8) == 0;
  }

  if (v1 && *(a1 + 16) == 0)
  {
    PXFloatApproximatelyEqualToFloat();
  }

  return 0;
}

__n128 PXStorySegmentInfoMakeUnique@<Q0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  add = atomic_fetch_add(PXStorySegmentIdentifierMakeUnique_uniqueIdentifier, 1u);
  v5 = *(a2 + 16);
  *(a4 + 8) = *a2;
  *(a4 + 24) = v5;
  v6 = *(a1 + 16);
  *(a4 + 48) = *a1;
  *(a4 + 64) = v6;
  v7 = *(a3 + 80);
  *(a4 + 184) = *(a3 + 96);
  v8 = *(a3 + 64);
  *(a4 + 168) = v7;
  *(a4 + 152) = v8;
  v9 = *(a3 + 32);
  *(a4 + 136) = *(a3 + 48);
  result = *a3;
  v11 = *(a3 + 16);
  *(a4 + 88) = *a3;
  *(a4 + 104) = v11;
  *a4 = add;
  *(a4 + 40) = *(a2 + 32);
  *(a4 + 80) = *(a1 + 32);
  *(a4 + 120) = v9;
  return result;
}

uint64_t PXStorySegmentInfoEqualToSegmentInfo(uint64_t a1, uint64_t a2)
{
  v5 = *MEMORY[0x1E69E9840];
  if (*a1 == *a2 && *(a1 + 8) == *(a2 + 8) && *(a1 + 16) == *(a2 + 16) && *(a1 + 24) == *(a2 + 24))
  {
    PXFloatApproximatelyEqualToFloat();
  }

  return 0;
}

uint64_t PXstorySegmentInfoIsNone(uint64_t a1)
{
  v1 = *(a1 + 176);
  v8[10] = *(a1 + 160);
  v8[11] = v1;
  v9 = *(a1 + 192);
  v2 = *(a1 + 112);
  v8[6] = *(a1 + 96);
  v8[7] = v2;
  v3 = *(a1 + 144);
  v8[8] = *(a1 + 128);
  v8[9] = v3;
  v4 = *(a1 + 48);
  v8[2] = *(a1 + 32);
  v8[3] = v4;
  v5 = *(a1 + 80);
  v8[4] = *(a1 + 64);
  v8[5] = v5;
  v6 = *(a1 + 16);
  v8[0] = *a1;
  v8[1] = v6;
  return PXStorySegmentInfoEqualToSegmentInfo(v8, &PXStorySegmentInfoNone);
}

__CFString *PXStorySegmentInfoDescription(uint64_t *a1)
{
  v2 = *(a1 + 11);
  v28 = *(a1 + 10);
  v29 = v2;
  v30 = a1[24];
  v3 = *(a1 + 7);
  v24 = *(a1 + 6);
  v25 = v3;
  v4 = *(a1 + 9);
  v26 = *(a1 + 8);
  v27 = v4;
  v5 = *(a1 + 3);
  v20 = *(a1 + 2);
  v21 = v5;
  v6 = *(a1 + 5);
  v22 = *(a1 + 4);
  v23 = v6;
  v7 = *(a1 + 1);
  v18 = *a1;
  v19 = v7;
  if (PXStorySegmentInfoEqualToSegmentInfo(&v18, &PXStorySegmentInfoNone))
  {
    v8 = @"<none>";
  }

  else
  {
    v9 = objc_alloc(MEMORY[0x1E696AEC0]);
    v10 = *a1;
    v11 = *(a1 + 17);
    v12 = *(a1 + 21);
    v22 = *(a1 + 19);
    v23 = v12;
    v24 = *(a1 + 23);
    v13 = *(a1 + 13);
    v18 = *(a1 + 11);
    v19 = v13;
    v20 = *(a1 + 15);
    v21 = v11;
    v14 = PXStoryDurationInfoDescription(&v18);
    v15 = *(a1 + 4);
    v18 = *(a1 + 3);
    v19 = v15;
    *&v20 = a1[10];
    v16 = PXStoryTransitionInfoDescription(&v18);
    v8 = [v9 initWithFormat:@"<PXStorySegmentInfo Identifier: %ldd; Duration: %@; Transition: %@", v10, v14, v16];
  }

  return v8;
}

__CFString *PXStoryViewModeDescription(uint64_t a1)
{
  if (a1 <= 2)
  {
    switch(a1)
    {
      case 0:
        return @"Undefined";
      case 1:
        return @"FullsizePlayer";
      case 2:
        return @"BrowserGrid";
    }

    return @"Unknown";
  }

  if (a1 > 4)
  {
    if (a1 == 5)
    {
      return @"Export Preview";
    }

    if (a1 == 100)
    {
      return @"None";
    }

    return @"Unknown";
  }

  if (a1 == 3)
  {
    return @"Thumbnail";
  }

  else
  {
    return @"StyleSwitcher";
  }
}

uint64_t PXStorySwipeDownInteractionStateMake@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>, double a3@<D0>, double a4@<D1>, double a5@<D2>, double a6@<D3>, double a7@<D4>, double a8@<D5>, double a9@<D6>)
{
  *a2 = a3;
  *(a2 + 8) = a4;
  *(a2 + 16) = a5;
  *(a2 + 24) = a6;
  *(a2 + 32) = a7;
  *(a2 + 40) = a8;
  *(a2 + 48) = result;
  *(a2 + 56) = a9;
  *(a2 + 64) = a9;
  return result;
}

uint64_t PXStorySwipeDownInteractionStateEqualsState(uint64_t a1, uint64_t a2)
{
  if (*a1 != *a2 || *(a1 + 8) != *(a2 + 8))
  {
    return 0;
  }

  if (*(a1 + 16) != *(a2 + 16) || *(a1 + 24) != *(a2 + 24))
  {
    return 0;
  }

  if (*(a1 + 32) != *(a2 + 32) || *(a1 + 40) != *(a2 + 40))
  {
    return 0;
  }

  v7 = *(a2 + 48);
  v8 = *(a1 + 48);
  v9 = v8;
  if (v8 == v7)
  {
    v5 = 1;
  }

  else
  {
    v5 = [v8 isEqual:v7];
  }

  return v5;
}

id PXStorySwipeDownInteractionStateDescription(uint64_t a1)
{
  v2 = objc_opt_class();
  v3 = MEMORY[0x1E696AEC0];
  v4 = NSStringFromCGPoint(*a1);
  v5 = NSStringFromCGPoint(*(a1 + 16));
  v6 = NSStringFromCGPoint(*(a1 + 32));
  if (v2)
  {
    v7 = NSStringFromClass(v2);
  }

  else
  {
    v7 = 0;
  }

  v8 = [v3 stringWithFormat:@"{ initialLocation = %@, location = %@, velocity = %@, coordinateSpace = <%@: %p> }", v4, v5, v6, v7, *(a1 + 48)];
  if (v2)
  {
  }

  return v8;
}

uint64_t PXStoryComponentAttributesChangeIsValid(char a1, unint64_t a2)
{
  if (((a1 & 1) == 0) | a2 & 1)
  {
    v2 = (a2 >> 1) & 1;
  }

  else
  {
    v2 = ((a1 & 2) == 0) & (((a1 & 1) == 0) | a2);
  }

  if ((a1 & 2) != 0)
  {
    return v2;
  }

  else
  {
    return ((a1 & 2) == 0) & (((a1 & 1) == 0) | a2);
  }
}

id PXStoryComponentAttributesDescription(char a1)
{
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v3 = v2;
  if (a1)
  {
    [v2 addObject:@"Ready for Playback"];
  }

  if ((a1 & 2) != 0)
  {
    [v3 addObject:@"Final"];
  }

  v4 = objc_alloc(MEMORY[0x1E696AEC0]);
  v5 = [v3 componentsJoinedByString:{@", "}];
  v6 = [v4 initWithFormat:@"[ %@ ]", v5];

  return v6;
}

__CFString *PXStoryHUDTypeDescription(uint64_t a1)
{
  if ((a1 - 1) > 0x12)
  {
    return @"None";
  }

  else
  {
    return off_1E77401C0[a1 - 1];
  }
}

__CFString *PXStoryHUDTypeSystemImageName(uint64_t a1)
{
  if ((a1 - 1) > 0x12)
  {
    return @"eye.slash";
  }

  else
  {
    return off_1E7740258[a1 - 1];
  }
}

__CFString *PXStoryPaperTrailOptionsDescription(char a1)
{
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v3 = v2;
  if (a1)
  {
    [v2 addObject:@"Default"];
  }

  if ([v3 count])
  {
    if ([v3 count] == 1)
    {
      v4 = [v3 firstObject];
    }

    else
    {
      v5 = objc_alloc(MEMORY[0x1E696AEC0]);
      v6 = [v3 componentsJoinedByString:{@", "}];
      v4 = [v5 initWithFormat:@"[ %@ ]", v6];
    }
  }

  else
  {
    v4 = @"None";
  }

  return v4;
}

unint64_t PXStoryPlaybackReadinessStatusCombine(unint64_t result, unint64_t a2)
{
  if (result != a2)
  {
    if (a2 < result)
    {
      result = a2;
    }

    if (result >= 4)
    {
      v6 = [MEMORY[0x1E696AAA8] currentHandler];
      v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXStoryPlaybackReadinessStatus PXStoryPlaybackReadinessStatusCombine(PXStoryPlaybackReadinessStatus, PXStoryPlaybackReadinessStatus)"}];
      [v6 handleFailureInFunction:v7 file:@"PXStoryTypes.m" lineNumber:737 description:@"Code which should be unreachable has been reached"];

      abort();
    }
  }

  return result;
}

__CFString *PXStoryPlaybackReadinessStatusDescription(unint64_t a1)
{
  if (a1 > 3)
  {
    return @"??";
  }

  else
  {
    return off_1E77402F0[a1];
  }
}

__CFString *PXStoryAudioModeDescription(unint64_t a1)
{
  if (a1 > 3)
  {
    return @"??";
  }

  else
  {
    return off_1E7740310[a1];
  }
}

__CFString *PXStoryAudioModeBasisDescription(unint64_t a1)
{
  if (a1 > 0xA)
  {
    return @"?";
  }

  else
  {
    return off_1E7740330[a1];
  }
}

__CFString *PXStoryPersistenceConfirmationStyleDescription(unint64_t a1)
{
  if (a1 > 2)
  {
    return @"??";
  }

  else
  {
    return off_1E7740388[a1];
  }
}

__CFString *PXStoryUserActionKindDescription(unint64_t a1)
{
  if (a1 > 3)
  {
    return @"??";
  }

  else
  {
    return off_1E77403A0[a1];
  }
}

BOOL PXStoryPacingDecisionIsNull(_OWORD *a1)
{
  v1 = a1[13];
  v9[12] = a1[12];
  v9[13] = v1;
  v9[14] = a1[14];
  v2 = a1[9];
  v9[8] = a1[8];
  v9[9] = v2;
  v3 = a1[11];
  v9[10] = a1[10];
  v9[11] = v3;
  v4 = a1[5];
  v9[4] = a1[4];
  v9[5] = v4;
  v5 = a1[7];
  v9[6] = a1[6];
  v9[7] = v5;
  v6 = a1[1];
  v9[0] = *a1;
  v9[1] = v6;
  v7 = a1[3];
  v9[2] = a1[2];
  v9[3] = v7;
  return PXStoryPacingDecisionEqualToPacingDecision(v9, &PXStoryPacingDecisionNull);
}

BOOL PXStoryPacingDecisionEqualToPacingDecision(uint64_t a1, uint64_t a2)
{
  if (*a1 != *a2)
  {
    return 0;
  }

  v12 = v2;
  v13 = v3;
  time1 = *(a1 + 56);
  v10 = *(a2 + 56);
  if (CMTimeCompare(&time1, &v10))
  {
    return 0;
  }

  time1 = *(a1 + 80);
  v10 = *(a2 + 80);
  if (CMTimeCompare(&time1, &v10))
  {
    return 0;
  }

  *&time1.value = *(a1 + 104);
  v7 = *(a1 + 128);
  time1.epoch = *(a1 + 120);
  *&v10.value = *(a2 + 104);
  v8 = *(a2 + 128);
  v10.epoch = *(a2 + 120);
  v9 = CMTimeCompare(&time1, &v10);
  result = 0;
  if (!v9 && v7 == v8)
  {
    if (*(a1 + 136) == *(a2 + 136))
    {
      time1 = *(a1 + 144);
      v10 = *(a2 + 144);
      if (!CMTimeCompare(&time1, &v10) && *(a1 + 168) == *(a2 + 168))
      {
        time1 = *(a1 + 176);
        v10 = *(a2 + 176);
        if (!CMTimeCompare(&time1, &v10))
        {
          return *(a1 + 200) == *(a2 + 200);
        }
      }
    }

    return 0;
  }

  return result;
}

id PXStoryPacingDecisionDescription(uint64_t a1)
{
  v2 = objc_alloc_init(MEMORY[0x1E696AD60]);
  v3 = [MEMORY[0x1E696AD98] numberWithInteger:*a1];
  v4 = *(a1 + 128);
  if (v4 > 4)
  {
    v5 = @"Unspecified";
  }

  else
  {
    v5 = off_1E772DC08[v4];
  }

  v6 = v5;
  lhs = *(a1 + 80);
  v7 = PXStoryTimeDescription(&lhs);
  lhs = *(a1 + 80);
  rhs = *(a1 + 56);
  CMTimeSubtract(&v11, &lhs, &rhs);
  v8 = PXStoryTimeDescription(&v11);
  [v2 appendFormat:@"Segment: %@ Cue: %@ Duration: %@ (%@)", v3, v6, v7, v8];

  v9 = [v2 copy];

  return v9;
}

void sub_1A4FA5B5C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4FA80DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4FA830C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4FA8D20(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *_DescriptionForPercentCompleted(uint64_t a1)
{
  if (a1 == -1)
  {
    v2 = @"-";
  }

  else
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"%ld%%", a1];
  }

  return v2;
}

void _systemPhotoLibraryURLDidChange(uint64_t a1, void *a2)
{
  v2 = a2[16];
  v3 = a2;
  [v3 _updateIsCloudPhotosEnabled:{objc_msgSend(v2, "isCloudPhotoLibraryEnabled")}];
}

void PXSharedAlbumsCreateNewAlbum(void *a1, void *a2, void *a3, uint64_t a4, void *a5)
{
  v34 = *MEMORY[0x1E69E9840];
  v8 = a1;
  v9 = a2;
  v10 = a3;
  v11 = a5;
  v12 = v8;
  v13 = v9;
  v14 = v10;
  v15 = v11;
  v25[0] = 0;
  v25[1] = v25;
  v25[2] = 0x3032000000;
  v25[3] = __Block_byref_object_copy__178302;
  v25[4] = __Block_byref_object_dispose__178303;
  v26 = 0;
  v16 = PLSharedAlbumsGetLog();
  if (os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT))
  {
    v17 = [v14 count];
    *buf = 138412546;
    *&buf[4] = v13;
    *&buf[12] = 2048;
    *&buf[14] = v17;
  }

  v22[0] = MEMORY[0x1E69E9820];
  v22[1] = 3221225472;
  v22[2] = ___PXSharedAlbumsCreateNewCollectionShareAlbum_block_invoke;
  v22[3] = &unk_1E7749A28;
  v23 = v13;
  v24 = v25;
  *buf = MEMORY[0x1E69E9820];
  *&buf[8] = 3221225472;
  *&buf[16] = ___PXSharedAlbumsCreateNewCollectionShareAlbum_block_invoke_2;
  v28 = &unk_1E77407E8;
  v18 = v23;
  v29 = v18;
  v33 = v25;
  v19 = v12;
  v30 = v19;
  v20 = v14;
  v31 = v20;
  v21 = v15;
  v32 = v21;
  [v19 performChanges:v22 completionHandler:buf];

  _Block_object_dispose(v25, 8);
}

void sub_1A4FB4464(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__178302(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void PXSharedAlbumsRecordRecentContactEventsForParticipants(void *a1)
{
  v46 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [MEMORY[0x1E695DF00] date];
  v31 = [MEMORY[0x1E695DF70] array];
  v34 = 0u;
  v35 = 0u;
  v32 = 0u;
  v33 = 0u;
  v3 = v1;
  v4 = [v3 countByEnumeratingWithState:&v32 objects:v45 count:16];
  if (v4)
  {
    v5 = *v33;
    do
    {
      for (i = 0; i != v4; ++i)
      {
        if (*v33 != v5)
        {
          objc_enumerationMutation(v3);
        }

        v7 = *(*(&v32 + 1) + 8 * i);
        v8 = [v7 suggestedTransport];
        v9 = [v8 addressKind] == 1;

        if (v9)
        {
          v10 = [v7 emailAddressString];
          if (v10)
          {
            CRRecentContactsLibraryClass = getCRRecentContactsLibraryClass();
            v12 = [v7 displayName];
            v41 = 0;
            v42 = &v41;
            v43 = 0x2020000000;
            v13 = getCRAddressKindEmailSymbolLoc_ptr;
            v44 = getCRAddressKindEmailSymbolLoc_ptr;
            if (!getCRAddressKindEmailSymbolLoc_ptr)
            {
              *buf = MEMORY[0x1E69E9820];
              v37 = 3221225472;
              v38 = __getCRAddressKindEmailSymbolLoc_block_invoke;
              v39 = &unk_1E774BD00;
              v40 = &v41;
              v14 = CoreRecentsLibrary();
              v15 = dlsym(v14, "CRAddressKindEmail");
              *(v40[1] + 24) = v15;
              getCRAddressKindEmailSymbolLoc_ptr = *(v40[1] + 24);
              v13 = v42[3];
            }

            _Block_object_dispose(&v41, 8);
            if (!v13)
            {
              v27 = [MEMORY[0x1E696AAA8] currentHandler];
              v28 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *getCRAddressKindEmail(void)"];
              [v27 handleFailureInFunction:v28 file:@"PXSharedAlbumsUtilities.m" lineNumber:55 description:{@"%s", dlerror()}];

              goto LABEL_39;
            }

            v16 = [CRRecentContactsLibraryClass recentEventForAddress:v10 displayName:v12 kind:*v13 date:v2 weight:0 metadata:0 options:1];

            if (v16)
            {
              v17 = PLSharedAlbumsGetLog();
              if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
              {
                *buf = 0;
                _os_log_impl(&dword_1A3C1C000, v17, OS_LOG_TYPE_DEFAULT, "Will record shared album invitation participant: Valid participant email address.", buf, 2u);
              }

              goto LABEL_23;
            }
          }

          else
          {
            v16 = PLSharedAlbumsGetLog();
            if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
            {
              *buf = 0;
              _os_log_impl(&dword_1A3C1C000, v16, OS_LOG_TYPE_ERROR, "Will no record shared album invitation participant: Empty participant email address.", buf, 2u);
            }
          }

          goto LABEL_31;
        }

        v18 = [v7 suggestedTransport];
        v19 = [v18 addressKind] == 2;

        if (v19)
        {
          v20 = [v7 allPhonesArray];
          v10 = [v20 firstObject];

          if (v10)
          {
            v21 = getCRRecentContactsLibraryClass();
            v22 = [v7 displayName];
            v41 = 0;
            v42 = &v41;
            v43 = 0x2020000000;
            v23 = getCRAddressKindPhoneNumberSymbolLoc_ptr;
            v44 = getCRAddressKindPhoneNumberSymbolLoc_ptr;
            if (!getCRAddressKindPhoneNumberSymbolLoc_ptr)
            {
              *buf = MEMORY[0x1E69E9820];
              v37 = 3221225472;
              v38 = __getCRAddressKindPhoneNumberSymbolLoc_block_invoke;
              v39 = &unk_1E774BD00;
              v40 = &v41;
              v24 = CoreRecentsLibrary();
              v25 = dlsym(v24, "CRAddressKindPhoneNumber");
              *(v40[1] + 24) = v25;
              getCRAddressKindPhoneNumberSymbolLoc_ptr = *(v40[1] + 24);
              v23 = v42[3];
            }

            _Block_object_dispose(&v41, 8);
            if (!v23)
            {
              v29 = [MEMORY[0x1E696AAA8] currentHandler];
              v30 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *getCRAddressKindPhoneNumber(void)"];
              [v29 handleFailureInFunction:v30 file:@"PXSharedAlbumsUtilities.m" lineNumber:56 description:{@"%s", dlerror()}];

LABEL_39:
              __break(1u);
            }

            v16 = [v21 recentEventForAddress:v10 displayName:v22 kind:*v23 date:v2 weight:0 metadata:0 options:1];

            if (v16)
            {
              v17 = PLSharedAlbumsGetLog();
              if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
              {
                *buf = 0;
                _os_log_impl(&dword_1A3C1C000, v17, OS_LOG_TYPE_DEFAULT, "Will record shared album invitation participant: Valid participant phone number.", buf, 2u);
              }

LABEL_23:

              [v31 addObject:v16];
            }
          }

          else
          {
            v16 = PLSharedAlbumsGetLog();
            if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
            {
              *buf = 0;
              _os_log_impl(&dword_1A3C1C000, v16, OS_LOG_TYPE_ERROR, "Will not record shared album invitation participant: Empty participant phone number.", buf, 2u);
            }
          }

LABEL_31:

          goto LABEL_32;
        }

        v10 = PLSharedAlbumsGetLog();
        if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
        {
          *buf = 0;
          _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_ERROR, "Will not record shared album invitation participant: Invalid participant type.", buf, 2u);
        }

LABEL_32:
      }

      v4 = [v3 countByEnumeratingWithState:&v32 objects:v45 count:16];
    }

    while (v4);
  }

  if ([v31 count])
  {
    v26 = [getCRRecentContactsLibraryClass() defaultInstance];
    [v26 recordContactEvents:v31 recentsDomain:@"com.apple.photos.sharedstreams" sendingAddress:0 completion:0];
  }
}

id getCRRecentContactsLibraryClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getCRRecentContactsLibraryClass_softClass;
  v7 = getCRRecentContactsLibraryClass_softClass;
  if (!getCRRecentContactsLibraryClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getCRRecentContactsLibraryClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getCRRecentContactsLibraryClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4FB5E28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getCRAddressKindEmailSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = CoreRecentsLibrary();
  result = dlsym(v2, "CRAddressKindEmail");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getCRAddressKindEmailSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *CoreRecentsLibrary()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!CoreRecentsLibraryCore_frameworkLibrary)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __CoreRecentsLibraryCore_block_invoke;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E7740830;
    v6 = 0;
    CoreRecentsLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  v0 = CoreRecentsLibraryCore_frameworkLibrary;
  if (!CoreRecentsLibraryCore_frameworkLibrary)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *CoreRecentsLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXSharedAlbumsUtilities.m" lineNumber:53 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

void *__getCRAddressKindPhoneNumberSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = CoreRecentsLibrary();
  result = dlsym(v2, "CRAddressKindPhoneNumber");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getCRAddressKindPhoneNumberSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __CoreRecentsLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  CoreRecentsLibraryCore_frameworkLibrary = result;
  return result;
}

void __getCRRecentContactsLibraryClass_block_invoke(uint64_t a1)
{
  CoreRecentsLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("CRRecentContactsLibrary");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getCRRecentContactsLibraryClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getCRRecentContactsLibraryClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXSharedAlbumsUtilities.m" lineNumber:54 description:{@"Unable to find class %s", "CRRecentContactsLibrary"}];

    __break(1u);
  }
}

void PXSharedAlbumsDeleteSharedAlbums(void *a1, int a2, void *a3)
{
  v69 = *MEMORY[0x1E69E9840];
  v4 = a1;
  v35 = a3;
  v5 = [MEMORY[0x1E695DF70] arrayWithCapacity:{objc_msgSend(v4, "count")}];
  v6 = [MEMORY[0x1E695DF70] arrayWithCapacity:{objc_msgSend(v4, "count")}];
  v58 = 0u;
  v59 = 0u;
  v56 = 0u;
  v57 = 0u;
  v7 = v4;
  v8 = [v7 countByEnumeratingWithState:&v56 objects:v68 count:16];
  if (v8)
  {
    v9 = *v57;
    do
    {
      v10 = 0;
      do
      {
        if (*v57 != v9)
        {
          objc_enumerationMutation(v7);
        }

        v11 = *(*(&v56 + 1) + 8 * v10);
        objc_opt_class();
        isKindOfClass = objc_opt_isKindOfClass();
        v13 = v5;
        if (isKindOfClass & 1) != 0 || (objc_opt_class(), v14 = objc_opt_isKindOfClass(), v13 = v6, (v14))
        {
          [v13 addObject:v11];
        }

        ++v10;
      }

      while (v8 != v10);
      v8 = [v7 countByEnumeratingWithState:&v56 objects:v68 count:16];
    }

    while (v8);
  }

  v15 = [v5 count];
  v16 = [v6 count];
  if (v16 + v15 == [v7 count])
  {
    v17 = dispatch_group_create();
    v52 = 0;
    v53 = &v52;
    v54 = 0x2020000000;
    v55 = 1;
    *v64 = 0;
    *&v64[8] = v64;
    *&v64[16] = 0x3032000000;
    v65 = __Block_byref_object_copy__178302;
    v66 = __Block_byref_object_dispose__178303;
    v67 = [MEMORY[0x1E695DF70] array];
    if ([v5 count])
    {
      if ([v5 count] == 1)
      {
        v18 = [v5 firstObject];
        v19 = PLSharedAlbumsGetLog();
        if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
        {
          v20 = [v18 localizedTitle];
          v21 = [v18 uuid];
          *buf = 138412546;
          v61 = v20;
          v62 = 2114;
          v63 = v21;
          _os_log_impl(&dword_1A3C1C000, v19, OS_LOG_TYPE_DEFAULT, "Deleting/leaving collection share %@ (%{public}@)", buf, 0x16u);
        }
      }

      else
      {
        v18 = PLSharedAlbumsGetLog();
        if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
        {
          v24 = [v5 count];
          *buf = 134217984;
          v61 = v24;
          _os_log_impl(&dword_1A3C1C000, v18, OS_LOG_TYPE_DEFAULT, "Deleting/leaving %lu collection shares", buf, 0xCu);
        }
      }

      dispatch_group_enter(v17);
      v47[0] = MEMORY[0x1E69E9820];
      v47[1] = 3221225472;
      v47[2] = __PXSharedAlbumsDeleteSharedAlbums_block_invoke;
      v47[3] = &unk_1E7740610;
      v48 = v5;
      v50 = &v52;
      v51 = v64;
      v49 = v17;
      [PXSharedCollectionsUtilities deleteAlbums:v48 completionHandler:v47];
    }

    if ([v6 count])
    {
      if ([v6 count] == 1)
      {
        v25 = [v6 firstObject];
        v26 = PLSharedAlbumsGetLog();
        if (os_log_type_enabled(v26, OS_LOG_TYPE_DEFAULT))
        {
          v27 = [v25 localizedTitle];
          v28 = [v25 uuid];
          *buf = 138412546;
          v61 = v27;
          v62 = 2114;
          v63 = v28;
          _os_log_impl(&dword_1A3C1C000, v26, OS_LOG_TYPE_DEFAULT, "Deleting/leaving shared stream %@ (%{public}@)", buf, 0x16u);
        }
      }

      else
      {
        v25 = PLSharedAlbumsGetLog();
        if (os_log_type_enabled(v25, OS_LOG_TYPE_DEFAULT))
        {
          v29 = [v6 count];
          *buf = 134217984;
          v61 = v29;
          _os_log_impl(&dword_1A3C1C000, v25, OS_LOG_TYPE_DEFAULT, "Deleting/leaving %lu shared streams", buf, 0xCu);
        }
      }

      dispatch_group_enter(v17);
      v30 = [v6 firstObject];
      v31 = [v30 photoLibrary];

      v45[0] = MEMORY[0x1E69E9820];
      v45[1] = 3221225472;
      v45[2] = __PXSharedAlbumsDeleteSharedAlbums_block_invoke_195;
      v45[3] = &unk_1E774C648;
      v46 = v6;
      v40[0] = MEMORY[0x1E69E9820];
      v40[1] = 3221225472;
      v40[2] = __PXSharedAlbumsDeleteSharedAlbums_block_invoke_2;
      v40[3] = &unk_1E7740610;
      v41 = v46;
      v43 = &v52;
      v44 = v64;
      v42 = v17;
      [v31 performChanges:v45 completionHandler:v40];
    }

    if (a2)
    {
      dispatch_group_wait(v17, 0xFFFFFFFFFFFFFFFFLL);
      if (!v35)
      {
LABEL_37:
        _Block_object_dispose(v64, 8);

        _Block_object_dispose(&v52, 8);
        goto LABEL_38;
      }

      v32 = *(v53 + 24);
      v33 = [*(*&v64[8] + 40) firstObject];
      v35[2](v35, v32, v33);
    }

    else
    {
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedAlbumsDeleteSharedAlbums_block_invoke_198;
      block[3] = &unk_1E774ABD0;
      v37 = v35;
      v38 = &v52;
      v39 = v64;
      dispatch_group_notify(v17, MEMORY[0x1E69E96A0], block);
      v33 = v37;
    }

    goto LABEL_37;
  }

  v22 = PLSharedAlbumsGetLog();
  if (os_log_type_enabled(v22, OS_LOG_TYPE_ERROR))
  {
    v23 = [v7 count];
    *v64 = 134218240;
    *&v64[4] = v23;
    *&v64[12] = 2048;
    *&v64[14] = v16 + v15;
    _os_log_impl(&dword_1A3C1C000, v22, OS_LOG_TYPE_ERROR, "Received %lu shared albums to delete/leave, but only found %lu shared albums in array (there were non-shared albums in the list)", v64, 0x16u);
  }

  if (v35)
  {
    v17 = [MEMORY[0x1E696ABC0] errorWithDomain:@"PXSharedAlbumsErrorDomain" code:2 userInfo:0];
    v35[2](v35, 0, v17);
LABEL_38:
  }
}

void sub_1A4FB6930(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, char a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, char a55)
{
  _Block_object_dispose(&a55, 8);
  _Block_object_dispose(&a39, 8);
  _Unwind_Resume(a1);
}

void __PXSharedAlbumsDeleteSharedAlbums_block_invoke(uint64_t a1, char a2, void *a3)
{
  v28 = *MEMORY[0x1E69E9840];
  v5 = a3;
  if ([*(a1 + 32) count] == 1)
  {
    v6 = [*(a1 + 32) firstObject];
    v7 = PLSharedAlbumsGetLog();
    v8 = v7;
    if (v5)
    {
      if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
      {
        v9 = [v6 localizedTitle];
        v10 = [v6 uuid];
        v22 = 138412802;
        v23 = v9;
        v24 = 2114;
        v25 = v10;
        v26 = 2112;
        v27 = v5;
        v11 = "Error deleting/leaving collection share %@ (%{public}@): %@";
        v12 = v8;
        v13 = OS_LOG_TYPE_ERROR;
        v14 = 32;
LABEL_10:
        _os_log_impl(&dword_1A3C1C000, v12, v13, v11, &v22, v14);
      }
    }

    else if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      v9 = [v6 localizedTitle];
      v10 = [v6 uuid];
      v22 = 138412546;
      v23 = v9;
      v24 = 2114;
      v25 = v10;
      v11 = "Deleted/left collection share %@ (%{public}@)";
      v12 = v8;
      v13 = OS_LOG_TYPE_DEFAULT;
      v14 = 22;
      goto LABEL_10;
    }

    goto LABEL_15;
  }

  v15 = PLSharedAlbumsGetLog();
  v6 = v15;
  if (v5)
  {
    if (!os_log_type_enabled(v15, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_15;
    }

    v16 = [*(a1 + 32) count];
    v22 = 134218242;
    v23 = v16;
    v24 = 2112;
    v25 = v5;
    v17 = "Error deleting/leaving %lu collection shares: %@";
    v18 = v6;
    v19 = OS_LOG_TYPE_ERROR;
    v20 = 22;
  }

  else
  {
    if (!os_log_type_enabled(v15, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_15;
    }

    v21 = [*(a1 + 32) count];
    v22 = 134217984;
    v23 = v21;
    v17 = "Deleted/left %lu collection shares";
    v18 = v6;
    v19 = OS_LOG_TYPE_DEFAULT;
    v20 = 12;
  }

  _os_log_impl(&dword_1A3C1C000, v18, v19, v17, &v22, v20);
LABEL_15:

  *(*(*(a1 + 48) + 8) + 24) &= a2;
  if (v5)
  {
    [*(*(*(a1 + 56) + 8) + 40) addObject:v5];
  }

  dispatch_group_leave(*(a1 + 40));
}

void __PXSharedAlbumsDeleteSharedAlbums_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  v28 = *MEMORY[0x1E69E9840];
  v5 = a3;
  if ([*(a1 + 32) count] == 1)
  {
    v6 = [*(a1 + 32) firstObject];
    v7 = PLSharedAlbumsGetLog();
    v8 = v7;
    if (v5)
    {
      if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
      {
        v9 = [v6 localizedTitle];
        v10 = [v6 uuid];
        v22 = 138412802;
        v23 = v9;
        v24 = 2114;
        v25 = v10;
        v26 = 2112;
        v27 = v5;
        v11 = "Error deleting/leaving shared stream %@ (%{public}@): %@";
        v12 = v8;
        v13 = OS_LOG_TYPE_ERROR;
        v14 = 32;
LABEL_10:
        _os_log_impl(&dword_1A3C1C000, v12, v13, v11, &v22, v14);
      }
    }

    else if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      v9 = [v6 localizedTitle];
      v10 = [v6 uuid];
      v22 = 138412546;
      v23 = v9;
      v24 = 2114;
      v25 = v10;
      v11 = "Deleted/left shared stream %@ (%{public}@)";
      v12 = v8;
      v13 = OS_LOG_TYPE_DEFAULT;
      v14 = 22;
      goto LABEL_10;
    }

    goto LABEL_15;
  }

  v15 = PLSharedAlbumsGetLog();
  v6 = v15;
  if (v5)
  {
    if (!os_log_type_enabled(v15, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_15;
    }

    v16 = [*(a1 + 32) count];
    v22 = 134218242;
    v23 = v16;
    v24 = 2112;
    v25 = v5;
    v17 = "Error deleting/leaving %lu shared streams: %@";
    v18 = v6;
    v19 = OS_LOG_TYPE_ERROR;
    v20 = 22;
  }

  else
  {
    if (!os_log_type_enabled(v15, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_15;
    }

    v21 = [*(a1 + 32) count];
    v22 = 134217984;
    v23 = v21;
    v17 = "Deleted/left %lu shared streams";
    v18 = v6;
    v19 = OS_LOG_TYPE_DEFAULT;
    v20 = 12;
  }

  _os_log_impl(&dword_1A3C1C000, v18, v19, v17, &v22, v20);
LABEL_15:

  *(*(*(a1 + 48) + 8) + 24) &= a2;
  if (v5)
  {
    [*(*(*(a1 + 56) + 8) + 40) addObject:v5];
  }

  dispatch_group_leave(*(a1 + 40));
}

void __PXSharedAlbumsDeleteSharedAlbums_block_invoke_198(void *a1)
{
  v1 = a1[4];
  if (v1)
  {
    v2 = *(*(a1[5] + 8) + 24);
    v3 = [*(*(a1[6] + 8) + 40) firstObject];
    (*(v1 + 16))(v1, v2, v3);
  }
}

uint64_t _PresentSpatialMediaDataLossAlert(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v8[0] = MEMORY[0x1E69E9820];
  v8[1] = 3221225472;
  v8[2] = ___PresentSpatialMediaDataLossAlert_block_invoke;
  v8[3] = &unk_1E774C2F0;
  v9 = v3;
  v10 = v4;
  v5 = v4;
  v6 = v3;
  dispatch_async(MEMORY[0x1E69E96A0], v8);

  return 1;
}

uint64_t _mediaSourceIsSpatialAtURL(void *a1)
{
  v1 = MEMORY[0x1E69C0718];
  v2 = a1;
  v3 = [[v1 alloc] initWithMediaURL:v2 options:13 timeZoneLookup:0 shouldCache:1];

  v4 = [v3 isSpatialMedia];
  return v4;
}

uint64_t _mediaSourceIsSpatial(void *a1)
{
  v1 = [a1 mediaURL];
  if ([v1 isFileURL])
  {
    IsSpatialAtURL = _mediaSourceIsSpatialAtURL(v1);
  }

  else
  {
    IsSpatialAtURL = 0;
  }

  return IsSpatialAtURL;
}

uint64_t _collectionShareAssetSourceIsSpatial(void *a1)
{
  v1 = [a1 fileURL];
  if ([v1 isFileURL])
  {
    IsSpatialAtURL = _mediaSourceIsSpatialAtURL(v1);
  }

  else
  {
    IsSpatialAtURL = 0;
  }

  return IsSpatialAtURL;
}

uint64_t PXSharedAlbumsPresentSpatialMediaDataLossAlertIfNeededForAssets(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  keyExistsAndHasValidFormat = 0;
  AppBooleanValue = CFPreferencesGetAppBooleanValue(@"HasShownSharedAlbumsSpatialMediaDataLossAlert", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  v9 = keyExistsAndHasValidFormat;
  v10 = +[PXSharedAlbumsSettings sharedInstance];
  v11 = [v10 alwaysShowSpatialMediaDataLossAlertForSpatialMedia];

  if ((v11 & 1) != 0 || !v9 || !AppBooleanValue)
  {
    PXExists();
  }

  v7[2](v7);

  return 0;
}

unint64_t __PXSharedAlbumsPresentSpatialMediaDataLossAlertIfNeededForAssets_block_invoke(uint64_t a1, void *a2)
{
  v2 = a2;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v3 = ([v2 mediaSubtypes] >> 10) & 1;
  }

  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      IsSpatial = _mediaSourceIsSpatial(v2);
    }

    else
    {
      objc_opt_class();
      if ((objc_opt_isKindOfClass() & 1) == 0)
      {
        v3 = 0;
        goto LABEL_9;
      }

      IsSpatial = _collectionShareAssetSourceIsSpatial(v2);
    }

    v3 = IsSpatial;
  }

LABEL_9:

  return v3;
}

uint64_t PXSharedAlbumsValidateParticipantsToAddToAlbum(void *a1, void *a2, void *a3)
{
  v30 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v24 = a2;
  v6 = a3;
  v25 = 0u;
  v26 = 0u;
  v27 = 0u;
  v28 = 0u;
  v7 = v5;
  v8 = [v7 countByEnumeratingWithState:&v25 objects:v29 count:16];
  if (v8)
  {
    v9 = v8;
    v10 = *v26;
    v23 = v6;
    do
    {
      for (i = 0; i != v9; ++i)
      {
        if (*v26 != v10)
        {
          objc_enumerationMutation(v7);
        }

        v12 = *(*(&v25 + 1) + 8 * i);
        objc_opt_class();
        if ((objc_opt_isKindOfClass() & 1) == 0)
        {
          v17 = [MEMORY[0x1E696AAA8] currentHandler];
          v18 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedAlbumsValidateParticipantsToAddToAlbum(NSArray<PXSharedAlbumParticipant *> *__strong _Nonnull, PHAssetCollection * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull)"}];
          [v17 handleFailureInFunction:v18 file:@"PXSharedAlbumsUtilities.m" lineNumber:414 description:@"Invalid participant type"];
        }

        v13 = v12;
        v14 = [v13 invalidAddressString];
        v15 = +[PXSharedAlbumsSettings sharedInstance];
        v16 = [v15 simulateInvalidAddressWhenValidatingParticipantsToAdd];

        if (v16)
        {

LABEL_16:
          PXLocalizedSharedAlbumsString(@"PXSharedAlbumsInvalidAddressTitle");
          objc_claimAutoreleasedReturnValue();
          PXLocalizedSharedAlbumsString(@"PXSharedAlbumsInvalidAddressMessageFormat");
          objc_claimAutoreleasedReturnValue();
          PXLocalizedStringWithValidatedFormat();
        }

        if (v14)
        {
          goto LABEL_16;
        }
      }

      v9 = [v7 countByEnumeratingWithState:&v25 objects:v29 count:16];
      v6 = v23;
    }

    while (v9);
  }

  if (!v24)
  {
    v19 = [MEMORY[0x1E69BE6A8] maxSubscribersPerStream];
    if ([v7 count] <= v19)
    {
      goto LABEL_14;
    }

LABEL_18:
    PXLocalizedSharedAlbumsString(@"PXSharedAlbumsCannotAddSubscribersTitle");
    objc_claimAutoreleasedReturnValue();
    v20 = [MEMORY[0x1E69BE6A8] maxSubscribersPerStream];
    PXLocalizedSharedAlbumsString(@"PXSharedAlbumsSubscribersLimitReachedMessageFormat");
    objc_claimAutoreleasedReturnValue();
    v21 = PLSharedCountFormatter();
    [MEMORY[0x1E696AD98] numberWithInteger:v20];
    [v21 stringFromNumber:objc_claimAutoreleasedReturnValue()];
    objc_claimAutoreleasedReturnValue();
    PXLocalizedStringWithValidatedFormat();
  }

  if (!PXSharedAlbumsCanAddParticipants(v24, [v7 count]))
  {
    goto LABEL_18;
  }

LABEL_14:

  return 1;
}

void __PXSharedAlbumsValidateParticipantsToAddToAlbum_block_invoke(uint64_t a1, void *a2)
{
  v3 = *(a1 + 32);
  v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(a1 + 40)];
  v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  [v4 addActionWithTitle:v5 style:1 action:0];
}

BOOL PXSharedAlbumsCanAddParticipants(void *a1, uint64_t a2)
{
  v3 = a1;
  if ([PXSharedAlbumsUtilities sharedAlbumIsOwned:v3])
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      v4 = MEMORY[0x1E6978AC0];
      v5 = [v3 photoLibrary];
      v6 = [v5 px_standardLibrarySpecificFetchOptions];
      v7 = [v4 fetchParticipantsInShare:v3 options:v6];
    }

    else
    {
      objc_opt_class();
      if ((objc_opt_isKindOfClass() & 1) == 0)
      {
        v9 = 0;
        goto LABEL_9;
      }

      v7 = [v3 invitationRecords];
    }

    v9 = [v7 count];

LABEL_9:
    v8 = v9 + a2 <= [MEMORY[0x1E69BE6A8] maxSubscribersPerStream];
    goto LABEL_10;
  }

  v8 = 0;
LABEL_10:

  return v8;
}

void __PXSharedAlbumsValidateParticipantsToAddToAlbum_block_invoke_244(uint64_t a1, void *a2)
{
  v3 = *(a1 + 32);
  v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(a1 + 40)];
  v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  [v4 addActionWithTitle:v5 style:1 action:0];
}

id PXSharedAlbumFilteredParticipantsForCollectionShare(void *a1, int a2)
{
  v31 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = MEMORY[0x1E6978AC0];
  v5 = [v3 photoLibrary];
  v6 = [v5 px_standardLibrarySpecificFetchOptions];
  v7 = [v4 fetchParticipantsInShare:v3 options:v6];

  v8 = [v3 status];
  v9 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v26 = 0u;
  v27 = 0u;
  v28 = 0u;
  v29 = 0u;
  v10 = v7;
  v11 = [v10 countByEnumeratingWithState:&v26 objects:v30 count:16];
  if (v11)
  {
    v12 = v11;
    v13 = *v27;
    do
    {
      v14 = 0;
      do
      {
        if (*v27 != v13)
        {
          objc_enumerationMutation(v10);
        }

        v15 = *(*(&v26 + 1) + 8 * v14);
        if (([v15 role] != 1 || v8 != 1) && (!objc_msgSend(v15, "isCurrentUser") || a2 != 0))
        {
          v18 = [v15 acceptanceStatus];
          if (v8 != 1)
          {
            if (v18 != 2)
            {
              goto LABEL_25;
            }

            v19 = PXSharedAlbumParticipantForShareParticipant(v15);
            if (v15)
            {
              goto LABEL_24;
            }

            v20 = 543;
            goto LABEL_28;
          }

          if (!v18 || [v15 acceptanceStatus] == 1 || objc_msgSend(v15, "acceptanceStatus") == 2 || objc_msgSend(v15, "acceptanceStatus") == 4 || objc_msgSend(v15, "acceptanceStatus") == 5)
          {
            v19 = PXSharedAlbumParticipantForShareParticipant(v15);
            if (v15)
            {
LABEL_24:
              [v9 addObject:v19];

              goto LABEL_25;
            }

            v20 = 536;
LABEL_28:
            v25 = [MEMORY[0x1E696AAA8] currentHandler];
            v21 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSArray<PXSharedAlbumParticipant *> * _Nonnull PXSharedAlbumFilteredParticipantsForCollectionShare(PHCollectionShare *__strong _Nonnull, BOOL)"}];
            [v25 handleFailureInFunction:v21 file:@"PXSharedAlbumsUtilities.m" lineNumber:v24 description:@"Empty participant participant!"];

            goto LABEL_24;
          }
        }

LABEL_25:
        ++v14;
      }

      while (v12 != v14);
      v22 = [v10 countByEnumeratingWithState:&v26 objects:v30 count:16];
      v12 = v22;
    }

    while (v22);
  }

  return v9;
}

PXSharedAlbumParticipant *PXSharedAlbumParticipantForShareParticipant(void *a1)
{
  v24 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [v1 emailAddress];
  v3 = [v1 phoneNumber];
  if ([v2 length] || objc_msgSend(v3, "length"))
  {
    v4 = [[PXSharedAlbumParticipant alloc] initWithShareParticipant:v1];
  }

  else
  {
    v6 = [v1 hashedPersonID];
    v7 = [v1 nameComponents];
    v8 = [v7 givenName];

    v9 = [v1 nameComponents];
    v10 = [v9 familyName];

    v11 = [v1 fullName];
    v12 = [v1 acceptanceStatus];
    v13 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
    {
      *buf = 138543362;
      v23 = v6;
      _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_ERROR, "Participant (hashed person id: %{public}@) has empty email and phone!", buf, 0xCu);
    }

    v14 = +[PXSharedAlbumsSettings sharedInstance];
    v15 = [v14 allowEmptyAddressesForDebugging];

    if (v15)
    {
      v16 = &stru_1F1741150;
    }

    else
    {
      v17 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsEmptyParticipantAddressMessage");
      v20 = v11;
      v16 = PFStringWithValidatedFormat();

      v2 = v17;
    }

    v18 = [PXSharedAlbumParticipant alloc];
    v21 = v16;
    v19 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v21 count:1];
    LOWORD(v20) = v12;
    v4 = [(PXSharedAlbumParticipant *)v18 initWithPersonID:v6 firstName:v8 lastName:v10 fullName:v11 emails:v19 phones:0 acceptanceStatus:v20];

    v2 = v16;
  }

  return v4;
}

id PXSharedAlbumFilteredParticipantsForStreamShare(void *a1, int a2)
{
  v35 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = [v3 pl_assetContainer];
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
  {
    v5 = v4;

    if (v5)
    {
      v6 = objc_alloc_init(MEMORY[0x1E695DF70]);
      v7 = [PXSharedAlbumsUtilities sharedAlbumIsOwned:v3];
      v8 = MEMORY[0x1E69BE338];
      v9 = [v3 cloudGUID];
      v25 = v5;
      v10 = [v5 photoLibrary];
      v11 = [v8 cloudSharedAlbumInvitationRecordsWithAlbumGUID:v9 inLibrary:v10];

      v28 = 0u;
      v29 = 0u;
      v26 = 0u;
      v27 = 0u;
      v12 = v11;
      v13 = [v12 countByEnumeratingWithState:&v26 objects:v30 count:16];
      if (!v13)
      {
        goto LABEL_21;
      }

      v14 = v13;
      v15 = *v27;
LABEL_6:
      v16 = 0;
      while (1)
      {
        if (*v27 != v15)
        {
          objc_enumerationMutation(v12);
        }

        v17 = *(*(&v26 + 1) + 8 * v16);
        v18 = [v17 invitationState];
        v19 = [v18 integerValue];

        if (v19 == 0 && v7)
        {
          goto LABEL_19;
        }

        if ([v17 isMine] && a2 == 0)
        {
          goto LABEL_19;
        }

        if (v7)
        {
          break;
        }

        if (v19 == 2)
        {
          goto LABEL_18;
        }

LABEL_19:
        if (v14 == ++v16)
        {
          v14 = [v12 countByEnumeratingWithState:&v26 objects:v30 count:16];
          if (!v14)
          {
LABEL_21:

            v25;
            PXMap();
          }

          goto LABEL_6;
        }
      }

      if ((v19 - 1) >= 4)
      {
        goto LABEL_19;
      }

LABEL_18:
      [v6 addObject:v17];
      goto LABEL_19;
    }
  }

  else
  {
  }

  v21 = PLSharedAlbumsGetLog();
  if (os_log_type_enabled(v21, OS_LOG_TYPE_ERROR))
  {
    v22 = [v3 uuid];
    *buf = 138543618;
    v32 = v22;
    v33 = 2112;
    v34 = v3;
    _os_log_impl(&dword_1A3C1C000, v21, OS_LOG_TYPE_ERROR, "Album (%{public}@) %@: is not a PHCloudSharedAlbum", buf, 0x16u);
  }

  v23 = MEMORY[0x1E695E0F0];

  return v23;
}

PXSharedAlbumParticipant *PXSharedAlbumParticipantForInvitationRecord(void *a1, void *a2)
{
  v31 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = [v4 inviteeEmails];
  v6 = [v5 firstObject];

  v7 = [v4 inviteePhones];
  v8 = [v7 firstObject];

  if ([v6 length] || objc_msgSend(v8, "length"))
  {
    v9 = [[PXSharedAlbumParticipant alloc] initWithInvitationRecord:v4];
  }

  else
  {
    v11 = [v4 inviteeHashedPersonID];
    v25 = [v4 inviteeFirstName];
    v12 = [v4 inviteeLastName];
    v13 = [v4 inviteeFullName];
    v14 = [v4 invitationState];
    v24 = [v14 integerValue];

    v15 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v15, OS_LOG_TYPE_ERROR))
    {
      v16 = [v3 localizedTitle];
      *buf = 138412546;
      v28 = v16;
      v29 = 2114;
      v30 = v11;
      _os_log_impl(&dword_1A3C1C000, v15, OS_LOG_TYPE_ERROR, "Album %@: InvitationRecord (hashed person id: %{public}@) has empty email and phone!", buf, 0x16u);
    }

    v17 = +[PXSharedAlbumsSettings sharedInstance];
    v18 = [v17 allowEmptyAddressesForDebugging];

    if (v18)
    {
      v19 = &stru_1F1741150;
    }

    else
    {
      v20 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsEmptyParticipantAddressMessage");
      HIDWORD(v23) = HIDWORD(v13);
      v19 = PFStringWithValidatedFormat();

      v6 = v20;
    }

    v21 = [PXSharedAlbumParticipant alloc];
    v26 = v19;
    v22 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v26 count:1];
    LODWORD(v23) = v24;
    v9 = [(PXSharedAlbumParticipant *)v21 initWithPersonID:v11 firstName:v25 lastName:v12 fullName:v13 emails:v22 phones:0 state:v23];

    v6 = v19;
  }

  return v9;
}

id PXSharedAlbumFilteredParticipantsForSharedAlbum(void *a1, int a2)
{
  v13 = *MEMORY[0x1E69E9840];
  v3 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v4 = PXSharedAlbumFilteredParticipantsForCollectionShare(v3, a2);
LABEL_5:
    v5 = v4;
    goto LABEL_9;
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v4 = PXSharedAlbumFilteredParticipantsForStreamShare(v3, a2);
    goto LABEL_5;
  }

  v6 = PLSharedAlbumsGetLog();
  if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
  {
    v7 = [v3 uuid];
    v9 = 138543618;
    v10 = v7;
    v11 = 2112;
    v12 = v3;
    _os_log_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_ERROR, "Invalid asset collection passed for fetching filtered participants. UUID: %{public}@: %@", &v9, 0x16u);
  }

  v5 = MEMORY[0x1E695E0F0];
LABEL_9:

  return v5;
}

id PXSharedAlbumFilteredInvitationRecordsForAlbum(void *a1, int a2)
{
  v22 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v5 = [v3 isOwnedCloudSharedAlbum];
  v16 = v3;
  v6 = [v3 cloudAlbumSubscriberRecords];
  v17 = 0u;
  v18 = 0u;
  v19 = 0u;
  v20 = 0u;
  v7 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
  if (v7)
  {
    v8 = v7;
    v9 = *v18;
    do
    {
      for (i = 0; i != v8; ++i)
      {
        if (*v18 != v9)
        {
          objc_enumerationMutation(v6);
        }

        v11 = *(*(&v17 + 1) + 8 * i);
        if ([v11 isMine])
        {
          v12 = a2 == 0;
        }

        else
        {
          v12 = 0;
        }

        if (!v12)
        {
          v13 = [v11 invitationState];
          v14 = [v13 integerValue];

          if (!v5)
          {
            if (v14 != 2)
            {
              continue;
            }

LABEL_14:
            [v4 addObject:v11];
            continue;
          }

          if ((v14 - 1) < 4)
          {
            goto LABEL_14;
          }
        }
      }

      v8 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
    }

    while (v8);
  }

  return v4;
}

PXSharedAlbumParticipant *PXSharedAlbumOwnerParticipantForAlbum(void *a1)
{
  v21 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [v1 cloudOwnerEmail];
  v3 = [v1 cloudOwnerFirstName];
  v4 = [v1 cloudOwnerLastName];
  v5 = [v1 cloudOwnerDisplayNameIncludingEmail:0 allowsEmail:1];
  if (![v2 length])
  {
    v6 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      v7 = [v1 localizedTitle];
      *buf = 138412290;
      v20 = v7;
      _os_log_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_ERROR, "Album %@: has empty cloudOwnerEmail!", buf, 0xCu);
    }

    v8 = +[PXSharedAlbumsSettings sharedInstance];
    v9 = [v8 allowEmptyAddressesForDebugging];

    if (v9)
    {
      v10 = &stru_1F1741150;
    }

    else
    {
      v11 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsEmptyOwnerAddressMessage");
      HIDWORD(v17) = HIDWORD(v5);
      v10 = PFStringWithValidatedFormat();

      v2 = v11;
    }

    v2 = v10;
  }

  v12 = [PXSharedAlbumParticipant alloc];
  v13 = [v1 cloudOwnerHashedPersonID];
  v18 = v2;
  v14 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v18 count:1];
  LODWORD(v17) = 0;
  v15 = [(PXSharedAlbumParticipant *)v12 initWithPersonID:v13 firstName:v3 lastName:v4 fullName:v5 emails:v14 phones:0 state:v17];

  return v15;
}

id _PXSharedAlbumParticipantsForAlbumIncludeCurrentUser(void *a1, int a2)
{
  v29 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = PXSharedAlbumFilteredInvitationRecordsForAlbum(v3, a2);
  v5 = [v4 count];
  v6 = [v3 isOwnedCloudSharedAlbum];
  v7 = v6;
  v8 = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:v5 + (v6 ^ 1u)];
  if ((v7 & 1) == 0)
  {
    v9 = PXSharedAlbumOwnerParticipantForAlbum(v3);
    if (!v9)
    {
      v22 = [MEMORY[0x1E696AAA8] currentHandler];
      v23 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSArray<PXSharedAlbumParticipant *> *_PXSharedAlbumParticipantsForAlbumIncludeCurrentUser(PLCloudSharedAlbum *__strong, BOOL)"}];
      [v22 handleFailureInFunction:v23 file:@"PXSharedAlbumsUtilities.m" lineNumber:739 description:@"Empty album owner!"];
    }

    [v8 addObject:v9];
  }

  v26 = 0u;
  v27 = 0u;
  v24 = 0u;
  v25 = 0u;
  v10 = v4;
  v11 = [v10 countByEnumeratingWithState:&v24 objects:v28 count:16];
  if (v11)
  {
    v12 = v11;
    v13 = *v25;
    v14 = 0x1E696A000uLL;
    v15 = 0x1E696A000uLL;
    do
    {
      v16 = 0;
      do
      {
        if (*v25 != v13)
        {
          objc_enumerationMutation(v10);
        }

        v17 = PXSharedAlbumParticipantForInvitationRecord(v3, *(*(&v24 + 1) + 8 * v16));
        if (!v17)
        {
          v18 = [*(v14 + 2728) currentHandler];
          [*(v15 + 3776) stringWithUTF8String:{"NSArray<PXSharedAlbumParticipant *> *_PXSharedAlbumParticipantsForAlbumIncludeCurrentUser(PLCloudSharedAlbum *__strong, BOOL)"}];
          v20 = v19 = v15;
          [v18 handleFailureInFunction:v20 file:@"PXSharedAlbumsUtilities.m" lineNumber:745 description:@"Empty invitation record participant!"];

          v15 = v19;
          v14 = 0x1E696A000;
        }

        [v8 addObject:{v17, v24}];

        ++v16;
      }

      while (v12 != v16);
      v12 = [v10 countByEnumeratingWithState:&v24 objects:v28 count:16];
    }

    while (v12);
  }

  return v8;
}

uint64_t PXSharedAlbumNumberOfParticipants(void *a1)
{
  v1 = [a1 pl_assetContainer];
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
  {
    v2 = v1;

    if (!v2)
    {
      v3 = 0;
      goto LABEL_7;
    }

    v1 = _PXSharedAlbumParticipantsForAlbumIncludeCurrentUser(v2, 1);
    v3 = [v1 count];
  }

  else
  {
    v2 = 0;
    v3 = 0;
  }

LABEL_7:
  return v3;
}

id PXSharedAlbumsParticipantsForAlbumWithObjectID(void *a1, char a2, void *a3)
{
  v5 = a1;
  v6 = a3;
  v16 = 0;
  v17 = &v16;
  v18 = 0x3032000000;
  v19 = __Block_byref_object_copy__178302;
  v20 = __Block_byref_object_dispose__178303;
  v21 = 0;
  v11[0] = MEMORY[0x1E69E9820];
  v11[1] = 3221225472;
  v11[2] = __PXSharedAlbumsParticipantsForAlbumWithObjectID_block_invoke;
  v11[3] = &unk_1E77406A8;
  v7 = v5;
  v12 = v7;
  v8 = v6;
  v13 = v8;
  v14 = &v16;
  v15 = a2;
  [v8 performBlockAndWait:v11];
  v9 = v17[5];

  _Block_object_dispose(&v16, 8);

  return v9;
}

void sub_1A4FB9114(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXSharedAlbumsParticipantsForAlbumWithObjectID_block_invoke(uint64_t a1)
{
  v2 = [MEMORY[0x1E69BE330] cloudSharedAlbumWithObjectID:*(a1 + 32) managedObjectContext:*(a1 + 40)];
  v6 = v2;
  if (v2)
  {
    v3 = _PXSharedAlbumParticipantsForAlbumIncludeCurrentUser(v2, *(a1 + 56));
  }

  else
  {
    v3 = objc_alloc_init(MEMORY[0x1E695DEC8]);
  }

  v4 = *(*(a1 + 48) + 8);
  v5 = *(v4 + 40);
  *(v4 + 40) = v3;
}

id PXSharedAlbumsAddressForParticipant(void *a1)
{
  v1 = a1;
  v2 = [v1 emailAddressString];
  v3 = [v1 phoneNumberString];

  v4 = [v2 length];
  v5 = v2;
  if (v4 || (v6 = [v3 length], v5 = v3, v6))
  {
    v7 = v5;
  }

  else
  {
    v7 = 0;
  }

  v8 = v7;

  return v7;
}

void _PXSharedAlbumsShowAlertForExceedingMaxVideoDuration(uint64_t a1, uint64_t a2, void *a3, void *a4, void *a5)
{
  v9 = a3;
  v10 = a4;
  v11 = a5;
  v12 = [MEMORY[0x1E69BE6A8] maxVideoLengthForPublishing];
  v13 = objc_alloc_init(MEMORY[0x1E695DF10]);
  [v13 setMinute:v12 / 0x3C];
  [v13 setSecond:{v12 - 60 * objc_msgSend(v13, "minute")}];
  v14 = objc_opt_new();
  [v14 setUnitsStyle:0];
  [v14 setZeroFormattingBehavior:0x10000];
  v15 = [v14 stringFromDateComponents:v13];
  if (a2 == 1)
  {
    v16 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsMovieDurationWarningTitle-One");
    v17 = PFStringWithValidatedFormat();

    v18 = @"PXSharedAlbumsMovieDurationWarningMessageNoSkip-One";
    v19 = @"PXSharedAlbumsMovieDurationWarningMessage-One";
  }

  else
  {
    if (a1 == a2)
    {
      v20 = @"PXSharedAlbumsMovieDurationWarningTitle-All";
    }

    else
    {
      v20 = @"PXSharedAlbumsMovieDurationWarningTitle-Some";
    }

    v21 = PXLocalizedSharedAlbumsString(v20);
    v17 = PFStringWithValidatedFormat();

    v18 = @"PXSharedAlbumsMovieDurationWarningMessageNoSkip-Some";
    v19 = @"PXSharedAlbumsMovieDurationWarningMessage-Some";
  }

  if (a2 == a1)
  {
    v22 = v18;
  }

  else
  {
    v22 = v19;
  }

  v23 = a2 != a1;
  v24 = PXLocalizedSharedAlbumsString(v22);
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = ___PXSharedAlbumsShowAlertForExceedingMaxVideoDuration_block_invoke;
  block[3] = &unk_1E77406F8;
  v31 = v10;
  v32 = v17;
  v36 = v23;
  v34 = v9;
  v35 = v11;
  v33 = v24;
  v25 = v9;
  v26 = v11;
  v27 = v24;
  v28 = v17;
  v29 = v10;
  dispatch_async(MEMORY[0x1E69E96A0], block);
}

void _PXSharedAlbumsShowAlertForNotEditable(void *a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  v7 = a1;
  PXLocalizedSharedAlbumsString(@"PXSharedAlbumsCannotAddItemsTitle");
  objc_claimAutoreleasedReturnValue();
  PXLocalizedSharedAlbumsString(@"PXSharedAlbumsErrorAddingToSharedAlbum_Title_Format");
  objc_claimAutoreleasedReturnValue();
  [v7 localizedTitle];
  objc_claimAutoreleasedReturnValue();

  PXLocalizedStringWithValidatedFormat();
}

void _PXSharedAlbumsShowAlertForExceedingMaxAssetCount(void *a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  v7 = MEMORY[0x1E69BE6A8];
  v8 = a1;
  [v7 maxAssetsPerStream];
  v9 = PLServicesLocalizedFrameworkString();
  v10 = [v8 localizedTitle];

  v11 = PFStringWithValidatedFormat();

  v12 = PLServicesLocalizedFrameworkString();
  v13 = PFLocalizedStringWithValidatedFormat();

  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = ___PXSharedAlbumsShowAlertForExceedingMaxAssetCount_block_invoke;
  block[3] = &unk_1E774BDB0;
  v19 = v5;
  v20 = v11;
  v21 = v13;
  v22 = v6;
  v14 = v6;
  v15 = v13;
  v16 = v11;
  v17 = v5;
  dispatch_async(MEMORY[0x1E69E96A0], block);
}

double _durationForVideoAtURL(uint64_t a1)
{
  v1 = [MEMORY[0x1E6988168] URLAssetWithURL:a1 options:0];
  v2 = v1;
  if (v1 && (memset(&v7[1], 0, sizeof(CMTime)), [v1 duration], objc_msgSend(MEMORY[0x1E69C0708], "tracksWithMediaType:forAsset:", *MEMORY[0x1E6987608], v2), v3 = objc_claimAutoreleasedReturnValue(), v4 = objc_msgSend(v3, "count"), v3, v4))
  {
    v7[0] = v7[1];
    Seconds = CMTimeGetSeconds(v7);
  }

  else
  {
    Seconds = 0.0;
  }

  return Seconds;
}

double _durationForMediaSource(void *a1)
{
  v1 = [a1 mediaURL];
  v2 = 0.0;
  if ([v1 isFileURL])
  {
    v2 = _durationForVideoAtURL(v1);
  }

  return v2;
}

double _durationForCollectionShareAssetSource(void *a1)
{
  v1 = [a1 fileURL];
  v2 = 0.0;
  if ([v1 isFileURL])
  {
    v2 = _durationForVideoAtURL(v1);
  }

  return v2;
}

void _PXSharedAlbumsValidateVideosAssetsIfNecessary(void *a1, void *a2, void *a3)
{
  v71 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = [v5 count];
  v9 = [MEMORY[0x1E695DF70] arrayWithCapacity:v8];
  v10 = [MEMORY[0x1E69BE6A8] maxVideoLengthForPublishing];
  v11 = [v5 firstObject];
  objc_opt_class();
  isKindOfClass = objc_opt_isKindOfClass();

  v49 = v6;
  if (isKindOfClass)
  {
    v65 = 0u;
    v66 = 0u;
    v63 = 0u;
    v64 = 0u;
    v13 = v5;
    v14 = [v13 countByEnumeratingWithState:&v63 objects:v70 count:{16, v8}];
    if (v14)
    {
      v15 = v14;
      v16 = 0;
      v17 = *v64;
      do
      {
        for (i = 0; i != v15; ++i)
        {
          if (*v64 != v17)
          {
            objc_enumerationMutation(v13);
          }

          v19 = *(*(&v63 + 1) + 8 * i);
          if ([v19 mediaType] == 1 && _durationForMediaSource(v19) > v10)
          {
            ++v16;
          }

          else
          {
            [v9 addObject:v19];
          }
        }

        v15 = [v13 countByEnumeratingWithState:&v63 objects:v70 count:16];
      }

      while (v15);
      goto LABEL_53;
    }

LABEL_52:
    v16 = 0;
    goto LABEL_53;
  }

  v20 = [v5 firstObject];
  objc_opt_class();
  v21 = objc_opt_isKindOfClass();

  if (v21)
  {
    v61 = 0u;
    v62 = 0u;
    v59 = 0u;
    v60 = 0u;
    v22 = v5;
    v23 = [v22 countByEnumeratingWithState:&v59 objects:v69 count:16];
    if (!v23)
    {
      goto LABEL_52;
    }

    v24 = v23;
    v16 = 0;
    v25 = *v60;
    do
    {
      for (j = 0; j != v24; ++j)
      {
        if (*v60 != v25)
        {
          objc_enumerationMutation(v22);
        }

        v27 = *(*(&v59 + 1) + 8 * j);
        if ([v27 resourceType] == 2 && _durationForCollectionShareAssetSource(v27) > v10)
        {
          ++v16;
        }

        else
        {
          [v9 addObject:v27];
        }
      }

      v24 = [v22 countByEnumeratingWithState:&v59 objects:v69 count:16];
    }

    while (v24);
  }

  else
  {
    v28 = [v5 firstObject];
    objc_opt_class();
    v29 = objc_opt_isKindOfClass();

    if (v29)
    {
      v57 = 0uLL;
      v58 = 0uLL;
      v55 = 0uLL;
      v56 = 0uLL;
      v30 = v5;
      v31 = [v30 countByEnumeratingWithState:&v55 objects:v68 count:16];
      if (!v31)
      {
        goto LABEL_52;
      }

      v32 = v31;
      v16 = 0;
      v33 = *v56;
      do
      {
        for (k = 0; k != v32; ++k)
        {
          if (*v56 != v33)
          {
            objc_enumerationMutation(v30);
          }

          v35 = *(*(&v55 + 1) + 8 * k);
          if ([v35 isMovie] && (objc_msgSend(v35, "loadMetadataSync"), objc_msgSend(v35, "durationTimeInterval"), v36 = objc_claimAutoreleasedReturnValue(), objc_msgSend(v36, "doubleValue"), v38 = v37, v36, v38 > v10))
          {
            ++v16;
          }

          else
          {
            [v9 addObject:v35];
          }
        }

        v32 = [v30 countByEnumeratingWithState:&v55 objects:v68 count:16];
      }

      while (v32);
    }

    else
    {
      v53 = 0uLL;
      v54 = 0uLL;
      v51 = 0uLL;
      v52 = 0uLL;
      v39 = v5;
      v40 = [v39 countByEnumeratingWithState:&v51 objects:v67 count:16];
      if (!v40)
      {
        goto LABEL_52;
      }

      v41 = v40;
      v16 = 0;
      v42 = *v52;
      do
      {
        for (m = 0; m != v41; ++m)
        {
          if (*v52 != v42)
          {
            objc_enumerationMutation(v39);
          }

          v44 = *(*(&v51 + 1) + 8 * m);
          if ([v44 mediaType] == 2 && (objc_msgSend(v44, "duration"), v45 > v10))
          {
            ++v16;
          }

          else
          {
            [v9 addObject:v44];
          }
        }

        v41 = [v39 countByEnumeratingWithState:&v51 objects:v67 count:16];
      }

      while (v41);
    }
  }

LABEL_53:

  v46 = PLSharedAlbumsGetLog();
  v47 = os_log_type_enabled(v46, OS_LOG_TYPE_DEFAULT);
  if (v16)
  {
    if (v47)
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v46, OS_LOG_TYPE_DEFAULT, "Shared album add assets video validation failed", buf, 2u);
    }

    _PXSharedAlbumsShowAlertForExceedingMaxVideoDuration(v48, v16, v9, v49, v7);
  }

  else
  {
    if (v47)
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v46, OS_LOG_TYPE_DEFAULT, "Shared album add assets video validation succeeded", buf, 2u);
    }

    if (v7)
    {
      (*(v7 + 2))(v7, v9);
    }
  }
}

void _presentInterventionIfNecessaryForAssets(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  v9[0] = MEMORY[0x1E69E9820];
  v9[1] = 3221225472;
  v9[2] = ___presentInterventionIfNecessaryForAssets_block_invoke;
  v9[3] = &unk_1E7740720;
  v10 = v5;
  v11 = v6;
  v7 = v6;
  v8 = v5;
  [PXSharingUserSafetyController userSafetyInterventionCheckRequiredBeforeSharingAssets:a1 completion:v9];
}

void ___presentInterventionIfNecessaryForAssets_block_invoke(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4[0] = MEMORY[0x1E69E9820];
  v4[1] = 3221225472;
  v4[2] = ___presentInterventionIfNecessaryForAssets_block_invoke_2;
  v4[3] = &unk_1E7749E20;
  v7 = a2;
  v8 = a3;
  v5 = *(a1 + 32);
  v6 = *(a1 + 40);
  dispatch_async(MEMORY[0x1E69E96A0], v4);
}

void ___presentInterventionIfNecessaryForAssets_block_invoke_2(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  if (*(a1 + 48))
  {
    v2 = [[PXSensitivityInterventionManager alloc] initWithCompactSCSensitivityAnalysis:*(a1 + 48) analysisMediaType:*(a1 + 56) interventionType:2];
    if (objc_opt_respondsToSelector())
    {
      [*(a1 + 32) setSensitivityInterventionManager:v2];
      if (v2 && [(PXSensitivityInterventionManager *)v2 canPresentIntervention])
      {
        v3 = [*(a1 + 32) presentingViewController];
        [(PXSensitivityInterventionManager *)v2 presentFromViewController:v3 completionHandler:*(a1 + 40)];

LABEL_13:
        return;
      }
    }

    else
    {
      v5 = PLSharedAlbumsGetLog();
      if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
      {
        v6 = [*(a1 + 32) debugDescription];
        v7 = 138412290;
        v8 = v6;
        _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_ERROR, "presentationEnvironment %@ doesn't respond to setSensitivityInterventionManager", &v7, 0xCu);
      }
    }

    (*(*(a1 + 40) + 16))();
    goto LABEL_13;
  }

  v4 = *(*(a1 + 40) + 16);

  v4();
}

void _PXSharedAlbumsValidateSharedAlbumAddAssets(void *a1, void *a2, void *a3, char a4, void *a5)
{
  v36 = *MEMORY[0x1E69E9840];
  v9 = a1;
  v10 = a2;
  v11 = a3;
  v12 = a5;
  v13 = [v9 canPerformEditOperation:3];
  v14 = PLSharedAlbumsGetLog();
  v15 = v14;
  if ((v13 & 1) == 0)
  {
    if (os_log_type_enabled(v14, OS_LOG_TYPE_ERROR))
    {
      v24 = [v9 uuid];
      *buf = 138543362;
      v35 = v24;
      _os_log_impl(&dword_1A3C1C000, v15, OS_LOG_TYPE_ERROR, "Shared album with UUID=%{public}@: add assets album validation failed.", buf, 0xCu);
    }

    v33[0] = MEMORY[0x1E69E9820];
    v33[1] = 3221225472;
    v33[2] = ___PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke;
    v33[3] = &unk_1E774C250;
    v33[4] = v12;
    _PXSharedAlbumsShowAlertForNotEditable(v9, v11, v33);
  }

  if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
  {
    v16 = [v9 uuid];
    *buf = 138543362;
    v35 = v16;
    _os_log_impl(&dword_1A3C1C000, v15, OS_LOG_TYPE_DEFAULT, "Shared album with UUID=%{public}@: album validation succeeded.", buf, 0xCu);
  }

  v17 = [v9 estimatedAssetCount];
  v18 = [MEMORY[0x1E69BE6A8] maxAssetsPerStream];
  v19 = [v10 count] + v17;
  v20 = PLSharedAlbumsGetLog();
  v21 = v20;
  if (v19 <= v18)
  {
    if (os_log_type_enabled(v20, OS_LOG_TYPE_DEFAULT))
    {
      v25 = [v9 uuid];
      *buf = 138543362;
      v35 = v25;
      _os_log_impl(&dword_1A3C1C000, v21, OS_LOG_TYPE_DEFAULT, "Shared album with UUID=%{public}@: add assets count validation succeeded.", buf, 0xCu);
    }

    v27[0] = MEMORY[0x1E69E9820];
    v27[1] = 3221225472;
    v27[2] = ___PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_324;
    v27[3] = &unk_1E7740748;
    v30 = a4;
    v23 = &v28;
    v26 = v11;
    v28 = v26;
    v29 = v12;
    _PXSharedAlbumsValidateVideosAssetsIfNecessary(v10, v26, v27);
  }

  else
  {
    if (os_log_type_enabled(v20, OS_LOG_TYPE_ERROR))
    {
      v22 = [v9 uuid];
      *buf = 138543362;
      v35 = v22;
      _os_log_impl(&dword_1A3C1C000, v21, OS_LOG_TYPE_ERROR, "Shared album with UUID=%{public}@: add assets count validation failed.", buf, 0xCu);
    }

    v31[0] = MEMORY[0x1E69E9820];
    v31[1] = 3221225472;
    v31[2] = ___PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_323;
    v31[3] = &unk_1E774C250;
    v23 = &v32;
    v32 = v12;
    _PXSharedAlbumsShowAlertForExceedingMaxAssetCount(v9, v11, v31);
  }
}

id PXSharedAlbumsDefaultAssetCreationOptions(uint64_t a1, uint64_t a2)
{
  v4 = objc_alloc_init(MEMORY[0x1E6978690]);
  [v4 setShouldDownloadOrCloudReReferenceMissingResources:1];
  v5 = objc_alloc_init(MEMORY[0x1E6978678]);
  [v4 setAdjustmentBakeInOptions:v5];

  v6 = [v4 adjustmentBakeInOptions];
  [v6 setFlattenLivePhotoToStillIfNeeded:a1];

  v7 = [MEMORY[0x1E6978688] metadataCopyOptionsForPublishingOriginals];
  [v4 setMetadataCopyOptions:v7];

  v8 = [v4 metadataCopyOptions];
  [v8 setShouldCopyLocationData:a2];

  if (PLIsLockdownMode())
  {
    v9 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      *v12 = 0;
      _os_log_impl(&dword_1A3C1C000, v9, OS_LOG_TYPE_DEFAULT, "Lockdown mode is enabled, excluding sensitive metadata.", v12, 2u);
    }

    v10 = [v4 metadataCopyOptions];
    [v10 setShouldCopyLocationData:0];
  }

  return v4;
}

id PXSharedAlbumsDefaultAssetCreationOptionsForAssets(void *a1, uint64_t a2, uint64_t a3)
{
  v20 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = PXSharedAlbumsDefaultAssetCreationOptions(a2, a3);
  v7 = [MEMORY[0x1E695DF90] dictionaryWithCapacity:{objc_msgSend(v5, "count")}];
  v15 = 0u;
  v16 = 0u;
  v17 = 0u;
  v18 = 0u;
  v8 = v5;
  v9 = [v8 countByEnumeratingWithState:&v15 objects:v19 count:16];
  if (v9)
  {
    v10 = v9;
    v11 = *v16;
    do
    {
      for (i = 0; i != v10; ++i)
      {
        if (*v16 != v11)
        {
          objc_enumerationMutation(v8);
        }

        v13 = [*(*(&v15 + 1) + 8 * i) uuid];
        [v7 setObject:v6 forKeyedSubscript:v13];
      }

      v10 = [v8 countByEnumeratingWithState:&v15 objects:v19 count:16];
    }

    while (v10);
  }

  return v7;
}

void _PXSharedAlbumsPublishAssetsToSharedAlbum(void *a1, void *a2, void *a3, void *a4, void *a5, void *a6)
{
  v11 = a1;
  v12 = a2;
  v13 = a3;
  v14 = a4;
  v15 = a5;
  v16 = a6;
  v17 = [v12 uuid];
  v18 = [v12 photoLibrary];
  v31[0] = MEMORY[0x1E69E9820];
  v31[1] = 3221225472;
  v31[2] = ___PXSharedAlbumsPublishAssetsToSharedAlbum_block_invoke;
  v31[3] = &unk_1E7744F50;
  v32 = v11;
  v33 = v12;
  v34 = v14;
  v35 = v13;
  v26[0] = MEMORY[0x1E69E9820];
  v26[1] = 3221225472;
  v26[2] = ___PXSharedAlbumsPublishAssetsToSharedAlbum_block_invoke_2;
  v26[3] = &unk_1E774AD10;
  v27 = v17;
  v28 = v33;
  v29 = v15;
  v30 = v16;
  v19 = v16;
  v20 = v15;
  v21 = v33;
  v22 = v17;
  v23 = v13;
  v24 = v14;
  v25 = v11;
  [v18 performChanges:v31 completionHandler:v26];
}

id PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum(void *a1, void *a2, void *a3, void *a4, void *a5, void *a6)
{
  v42 = *MEMORY[0x1E69E9840];
  v11 = a1;
  v12 = a2;
  v13 = a3;
  v14 = a4;
  v15 = a5;
  v16 = a6;
  v17 = [v11 uuid];
  v18 = [v12 firstObject];
  v19 = PLSharedAlbumsGetLog();
  if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 138543362;
    v41 = v17;
    _os_log_impl(&dword_1A3C1C000, v19, OS_LOG_TYPE_DEFAULT, "Ensuring assets to publish to album with UUID=%{public}@, are locally available...", buf, 0xCu);
  }

  v20 = [[PXPhotoKitAssetLocalAvailabilityHelper alloc] initWithAssets:v12 treatLivePhotoAsStill:0];
  v31[0] = MEMORY[0x1E69E9820];
  v31[1] = 3221225472;
  v31[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke;
  v31[3] = &unk_1E7740770;
  v32 = v12;
  v33 = v17;
  v34 = v18;
  v35 = v11;
  v36 = v14;
  v37 = v13;
  v38 = v15;
  v39 = v16;
  v21 = v16;
  v22 = v15;
  v23 = v13;
  v24 = v14;
  v25 = v11;
  v26 = v18;
  v27 = v17;
  v28 = v12;
  v29 = [(PXPhotoKitAssetLocalAvailabilityHelper *)v20 ensureLocalAvailabilityOfAssetsWithCompletionHandler:v31];

  return v29;
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke(id *a1, int a2, void *a3)
{
  v32 = *MEMORY[0x1E69E9840];
  v5 = a3;
  if (a2)
  {
    v6 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      v7 = [a1[4] count];
      v8 = a1[5];
      v9 = [a1[6] uuid];
      *buf = 134218498;
      v27 = v7;
      v28 = 2114;
      v29 = v8;
      v30 = 2114;
      v31 = v9;
      _os_log_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_DEFAULT, "Scheduling posting %lu assets to shared album with UUID=%{public}@, first asset UUID=%{public}@", buf, 0x20u);
    }

    v10 = [a1[7] photoLibrary];
    v21[0] = MEMORY[0x1E69E9820];
    v21[1] = 3221225472;
    v21[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_345;
    v21[3] = &unk_1E7744F50;
    v22 = a1[4];
    v23 = a1[7];
    v24 = a1[8];
    v25 = a1[9];
    v16[0] = MEMORY[0x1E69E9820];
    v16[1] = 3221225472;
    v16[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2;
    v16[3] = &unk_1E774AD10;
    v17 = a1[5];
    v18 = a1[7];
    v19 = a1[10];
    v20 = a1[11];
    [v10 performChanges:v21 completionHandler:v16];
  }

  else
  {
    v11 = PLSharedAlbumsGetLog();
    v12 = v11;
    if (v5)
    {
      if (os_log_type_enabled(v11, OS_LOG_TYPE_ERROR))
      {
        v13 = a1[5];
        *buf = 138543618;
        v27 = v13;
        v28 = 2112;
        v29 = v5;
        _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_ERROR, "Failed to download assets for posting to shared album with UUID=%{public}@. Error: %@", buf, 0x16u);
      }

      PXLocalizedSharedAlbumsString(@"PXSharedAlbumsErrorDownloadingAssetsForSharedAlbum_Title_Format");
      objc_claimAutoreleasedReturnValue();
      [a1[7] localizedTitle];
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
    {
      v14 = a1[5];
      *buf = 138543362;
      v27 = v14;
      _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_DEFAULT, "Canceled downloading assets for posting to shared album with UUID=%{public}@.", buf, 0xCu);
    }

    v15 = a1[11];
    if (v15)
    {
      (*(v15 + 2))(v15, 0, 0);
    }
  }
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_345(uint64_t a1)
{
  v15[1] = *MEMORY[0x1E69E9840];
  v2 = MEMORY[0x1E6978630];
  v3 = *(a1 + 32);
  v4 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"creationDate" ascending:1];
  v15[0] = v4;
  v5 = [MEMORY[0x1E695DEC8] arrayWithObjects:v15 count:1];
  v6 = [v2 px_orderedAssetsFromAssets:v3 sortDescriptors:v5];

  v7 = *(a1 + 40);
  if (!v7)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSProgress * _Nonnull PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum(PHAssetCollection *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, NSString * _Nullable __strong, NSDictionary<NSString *, PHAssetCreationOptions *> * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))_block_invoke"}];
    v11 = objc_opt_class();
    v12 = NSStringFromClass(v11);
    [v9 handleFailureInFunction:v10 file:@"PXSharedAlbumsUtilities.m" lineNumber:1210 description:{@"%@ should be an instance inheriting from %@, but it is nil", @"sharedAlbum", v12}];
LABEL_6:

    goto LABEL_3;
  }

  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSProgress * _Nonnull PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum(PHAssetCollection *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, NSString * _Nullable __strong, NSDictionary<NSString *, PHAssetCreationOptions *> * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))_block_invoke"}];
    v13 = objc_opt_class();
    v12 = NSStringFromClass(v13);
    v14 = [v7 px_descriptionForAssertionMessage];
    [v9 handleFailureInFunction:v10 file:@"PXSharedAlbumsUtilities.m" lineNumber:1210 description:{@"%@ should be an instance inheriting from %@, but it is %@", @"sharedAlbum", v12, v14}];

    goto LABEL_6;
  }

LABEL_3:

  v8 = [MEMORY[0x1E6978780] changeRequestForCollectionShare:*(a1 + 40)];
  [v8 addAssetsToCollectionShareByCopyingSourceAssets:v6 creationOptionsMappedToSourceAssets:*(a1 + 48) withBatchCommentText:*(a1 + 56)];
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2(id *a1, uint64_t a2, void *a3)
{
  v4 = a3;
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_3;
  block[3] = &unk_1E77425A0;
  v13 = v4;
  v5 = a1[4];
  v6 = a1[5];
  v7 = a1[6];
  v8 = a1[7];
  *&v9 = v7;
  *(&v9 + 1) = v8;
  *&v10 = v5;
  *(&v10 + 1) = v6;
  v14 = v10;
  v15 = v9;
  v11 = v4;
  dispatch_async(MEMORY[0x1E69E96A0], block);
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_354(uint64_t a1, void *a2)
{
  v3 = a2;
  [v3 setTitle:*(a1 + 32)];
  if (PFOSVariantHasInternalUI())
  {
    v4 = MEMORY[0x1E696AEC0];
    v5 = *(a1 + 40);
    v6 = [*(a1 + 48) localizedDescription];
    v7 = [v4 stringWithFormat:@"%@\n(Internal-only) Error: %@"], v5, v6);
    [v3 setMessage:v7];
  }

  else
  {
    [v3 setMessage:*(a1 + 40)];
  }

  v8 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v9[0] = MEMORY[0x1E69E9820];
  v9[1] = 3221225472;
  v9[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_358;
  v9[3] = &unk_1E774C2F0;
  v11 = *(a1 + 56);
  v10 = *(a1 + 48);
  [v3 addActionWithTitle:v8 style:1 action:v9];
}

uint64_t __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_358(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

uint64_t __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_3(uint64_t a1)
{
  v13 = *MEMORY[0x1E69E9840];
  v2 = *(a1 + 32);
  v3 = PLSharedAlbumsGetLog();
  v4 = v3;
  if (v2)
  {
    if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
    {
      v6 = *(a1 + 32);
      v5 = *(a1 + 40);
      *buf = 138543618;
      v10 = v5;
      v11 = 2112;
      v12 = v6;
      _os_log_impl(&dword_1A3C1C000, v4, OS_LOG_TYPE_ERROR, "Failed to post assets to shared album with UUID=%{public}@. Error: %@", buf, 0x16u);
    }

    PXLocalizedSharedAlbumsString(@"PXSharedAlbumsCannotAddItemsTitle");
    objc_claimAutoreleasedReturnValue();
    PXLocalizedSharedAlbumsString(@"PXSharedAlbumsErrorAddingToSharedAlbum_Title_Format");
    objc_claimAutoreleasedReturnValue();
    [*(a1 + 48) localizedTitle];
    objc_claimAutoreleasedReturnValue();
    PXLocalizedStringWithValidatedFormat();
  }

  if (os_log_type_enabled(v3, OS_LOG_TYPE_DEFAULT))
  {
    v7 = *(a1 + 40);
    *buf = 138543362;
    v10 = v7;
    _os_log_impl(&dword_1A3C1C000, v4, OS_LOG_TYPE_DEFAULT, "Succesfully posted assets to shared album with UUID=%{public}@", buf, 0xCu);
  }

  result = *(a1 + 64);
  if (result)
  {
    return (*(result + 16))(result, 1, 0);
  }

  return result;
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_346(uint64_t a1, void *a2)
{
  v3 = *(a1 + 32);
  v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(a1 + 40)];
  v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_347;
  v6[3] = &unk_1E774C2F0;
  v8 = *(a1 + 56);
  v7 = *(a1 + 48);
  [v4 addActionWithTitle:v5 style:1 action:v6];
}

uint64_t __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_347(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

uint64_t PFStoryOverallDurationKindFromPHMemoryCurationLength(unint64_t a1)
{
  if (a1 > 4)
  {
    return 0;
  }

  else
  {
    return qword_1A5382640[a1];
  }
}

uint64_t PHMemoryCurationLengthFromPFStoryOverallDurationKind(unint64_t a1)
{
  if (a1 >= 6)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PHMemoryCurationLength PHMemoryCurationLengthFromPFStoryOverallDurationKind(PFStoryOverallDurationKind)"];
    [v6 handleFailureInFunction:v7 file:@"PXStoryOverallDurationHelpers.m" lineNumber:41 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return qword_1A5382668[a1];
}

id PXAssetToRevealForSyndicationLibraryAsset(void *a1)
{
  v16[1] = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [v1 photoLibrary];
  v3 = [v2 wellKnownPhotoLibraryIdentifier];

  if (v3 == 3)
  {
    [v1 fetchPropertySetsIfNeeded];
    v4 = [v1 curationProperties];
    v5 = [v4 syndicationIdentifier];

    if (v5 && (([v1 isSyndicatedAssetSavedToUserLibrary] & 1) != 0 || objc_msgSend(v1, "isGuestAsset")))
    {
      v6 = [MEMORY[0x1E69789A8] px_deprecated_appPhotoLibrary];
      v7 = [v6 librarySpecificFetchOptions];
      [v7 setIncludeGuestAssets:1];
      v8 = MEMORY[0x1E6978630];
      v16[0] = v5;
      v9 = [MEMORY[0x1E695DEC8] arrayWithObjects:v16 count:1];
      v10 = [v8 fetchAssetsWithSyndicationIdentifiers:v9 options:v7];
      v11 = [v10 firstObject];

      if (!v11)
      {
        v12 = PLUIGetLog();
        if (os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
        {
          v14 = 138412290;
          v15 = v5;
          _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_DEFAULT, "No user library asset to reveal for syndicationIdentifier:  %@.", &v14, 0xCu);
        }
      }
    }

    else
    {
      v11 = 0;
    }
  }

  else
  {
    v11 = 0;
  }

  return v11;
}

id PXContentSyndicationUnsavedSyndicatedAssetsInAssetCollection(void *a1)
{
  v22 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [v1 photoLibrary];
  v3 = [v2 librarySpecificFetchOptions];
  [v3 setIncludeGuestAssets:1];
  if ([v1 isTransient])
  {
    v4 = [MEMORY[0x1E6978630] fetchAssetsInAssetCollection:v1 options:v3];
    v5 = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:{objc_msgSend(v4, "count")}];
    v16 = 0u;
    v17 = 0u;
    v18 = 0u;
    v19 = 0u;
    v6 = v4;
    v7 = [v6 countByEnumeratingWithState:&v16 objects:v21 count:16];
    if (v7)
    {
      v8 = v7;
      v9 = *v17;
      do
      {
        for (i = 0; i != v8; ++i)
        {
          if (*v17 != v9)
          {
            objc_enumerationMutation(v6);
          }

          v11 = *(*(&v16 + 1) + 8 * i);
          if ([v11 px_isUnsavedSyndicatedAsset])
          {
            v12 = [v11 localIdentifier];
            [v5 addObject:v12];
          }
        }

        v8 = [v6 countByEnumeratingWithState:&v16 objects:v21 count:16];
      }

      while (v8);
    }

    v13 = [MEMORY[0x1E6978630] fetchAssetsWithLocalIdentifiers:v5 options:v3];
  }

  else
  {
    if ([v2 wellKnownPhotoLibraryIdentifier] == 3)
    {
      [MEMORY[0x1E6978630] filterPredicateForUnsavedSyndicationAssets];
    }

    else
    {
      [MEMORY[0x1E69BF328] predicateForIncludeMask:objc_msgSend(MEMORY[0x1E69BF328] useIndex:{"maskForGuestAsset"), 1}];
    }
    v6 = ;
    [v3 setInternalPredicate:v6];
    v20 = *MEMORY[0x1E6978C20];
    v14 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v20 count:1];
    [v3 addFetchPropertySets:v14];

    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      [MEMORY[0x1E6978630] fetchExtendedCuratedAndRepresentativeAssetsAssociatedWithMemory:v1 options:v3];
    }

    else
    {
      [MEMORY[0x1E6978630] fetchAssetsInAssetCollection:v1 options:v3];
    }
    v13 = ;
  }

  return v13;
}

uint64_t PXContentSyndicationAssetCount(void *a1)
{
  v14 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v9 = 0u;
  v10 = 0u;
  v11 = 0u;
  v12 = 0u;
  v2 = [v1 countByEnumeratingWithState:&v9 objects:v13 count:16];
  if (v2)
  {
    v3 = v2;
    v4 = 0;
    v5 = *v10;
    do
    {
      for (i = 0; i != v3; ++i)
      {
        if (*v10 != v5)
        {
          objc_enumerationMutation(v1);
        }

        v7 = *(*(&v9 + 1) + 8 * i);
        objc_opt_class();
        if (objc_opt_isKindOfClass())
        {
          v4 += [v7 px_isSyndicatedAsset];
        }
      }

      v3 = [v1 countByEnumeratingWithState:&v9 objects:v13 count:16];
    }

    while (v3);
  }

  else
  {
    v4 = 0;
  }

  return v4;
}

uint64_t PXContentSyndicationRemoveConfirmationTitleAndMessageLocalizedStrings(void *a1)
{
  v15 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v10 = 0u;
  v11 = 0u;
  v12 = 0u;
  v13 = 0u;
  v2 = [v1 countByEnumeratingWithState:&v10 objects:v14 count:16];
  if (v2)
  {
    v3 = 0;
    v4 = *v11;
    v5 = v2;
    while (1)
    {
      v6 = v5;
      do
      {
        if (*v11 != v4)
        {
          objc_enumerationMutation(v1);
        }

        --v6;
      }

      while (v6);
      v3 += v5;
      v5 = [v1 countByEnumeratingWithState:&v10 objects:v14 count:16];
      if (!v5)
      {
        PXMediaTypeForAssets();
      }
    }
  }

  v7 = PLUIGetLog();
  if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_ERROR, "RemoveSharedItemsConfirmationTitleAndMessageLocalizedStrings: PHAsset count is zero", buf, 2u);
  }

  return 0;
}

PXFeedbackTapToRadarViewController *PXFileRadarViewControllerForContentSyndicationAssets(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = +[PXFeedbackTapToRadarUtilities captureScreenshot];
  v6 = objc_alloc_init(PXFeedbackTapToRadarViewController);
  [(PXFeedbackTapToRadarViewController *)v6 setRequestScreenshotPermission:1];
  v11[0] = MEMORY[0x1E69E9820];
  v11[1] = 3221225472;
  v11[2] = __PXFileRadarViewControllerForContentSyndicationAssets_block_invoke;
  v11[3] = &unk_1E7745148;
  v12 = v3;
  v13 = v5;
  v14 = v4;
  v7 = v4;
  v8 = v5;
  v9 = v3;
  [(PXFeedbackTapToRadarViewController *)v6 setFileRadarHandler:v11];

  return v6;
}

void __PXFileRadarViewControllerForContentSyndicationAssets_block_invoke(uint64_t a1, int a2, int a3)
{
  v55 = *MEMORY[0x1E69E9840];
  v4 = [objc_alloc(MEMORY[0x1E696AD60]) initWithString:{@"Summary:\nExamples:\n* Bad suggestion (poor quality/blurry photo, wrong person/people, uninteresting, etc.)\n* Missing/wrong assets (should include more from the batch, should have chosen different ones from the batch)\n* Don't want to see this asset, etc?\n\nSteps To Reproduce:\n-\n\nResults:\n-\n\nRegression:\n-\n\nNotes:\n-\n\n"}];
  [v4 appendString:@"--- Shared With You TTR ---\n"];
  v49 = 0u;
  v50 = 0u;
  v47 = 0u;
  v48 = 0u;
  v40 = a1;
  obj = *(a1 + 32);
  v5 = [obj countByEnumeratingWithState:&v47 objects:v54 count:16];
  if (v5)
  {
    v6 = v5;
    v7 = *v48;
    do
    {
      v8 = 0;
      do
      {
        if (*v48 != v7)
        {
          objc_enumerationMutation(obj);
        }

        v9 = *(*(&v47 + 1) + 8 * v8);
        [v9 fetchPropertySetsIfNeeded];
        [v4 appendFormat:@"\nAsset: %@", v9];
        v10 = [v9 photoLibrary];
        v11 = [v10 wellKnownPhotoLibraryIdentifier];

        if ([v9 isGuestAsset])
        {
          v12 = @"YES";
        }

        else
        {
          v12 = @"NO";
        }

        v13 = v12;
        [v4 appendFormat:@"\nIs Guest Type: %@", v13];

        if (v11 == 3)
        {
          v14 = @"YES";
        }

        else
        {
          v14 = @"NO";
        }

        v15 = v14;
        [v4 appendFormat:@"\nIn syndication library: %@", v15];

        v16 = [v9 mediaAnalysisProperties];
        [v16 syndicationProcessingValue];
        v17 = PHAssetMediaAnalysisSyndicationProcessingValueDescription();
        [v4 appendFormat:@"\nProcessing Value: %@", v17];

        v18 = [v9 mediaAnalysisProperties];
        [v18 syndicationProcessingVersion];
        v19 = PHAssetSyndicationProcessingVersionDescription();
        [v4 appendFormat:@"\nProcessing Version: %@", v19];

        v20 = [v9 curationProperties];
        v21 = [v20 syndicationIdentifier];
        [v4 appendFormat:@"\nSyndication Identifier: %@", v21];

        v22 = v9;
        [v22 fetchPropertySetsIfNeeded];
        v23 = [v22 syndicationState];

        v24 = [MEMORY[0x1E695DF70] arrayWithCapacity:5];
        v25 = v24;
        if (v23)
        {
          [v24 addObject:@"FromMe"];
          if ((v23 & 2) == 0)
          {
LABEL_14:
            if ((v23 & 4) == 0)
            {
              goto LABEL_15;
            }

            goto LABEL_23;
          }
        }

        else if ((v23 & 2) == 0)
        {
          goto LABEL_14;
        }

        [v25 addObject:@"SavedToLibrary"];
        if ((v23 & 4) == 0)
        {
LABEL_15:
          if ((v23 & 8) == 0)
          {
            goto LABEL_17;
          }

LABEL_16:
          [v25 addObject:@"NoAttachmentSyndication"];
          goto LABEL_17;
        }

LABEL_23:
        [v25 addObject:@"NoConversationSyndication"];
        if ((v23 & 8) != 0)
        {
          goto LABEL_16;
        }

LABEL_17:
        if (![v25 count])
        {
          [v25 addObject:@"None (unsaved; can sync)"];
        }

        v26 = [v25 componentsJoinedByString:{@", "}];

        [v4 appendFormat:@"\nSyndication State: %@", v26];
        [v4 appendString:@"\n"];
        ++v8;
      }

      while (v6 != v8);
      v27 = [obj countByEnumeratingWithState:&v47 objects:v54 count:16];
      v6 = v27;
    }

    while (v27);
  }

  [v4 appendString:@"\n\n"];
  v28 = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:2];
  v43 = 0u;
  v44 = 0u;
  v45 = 0u;
  v46 = 0u;
  v29 = *(v40 + 32);
  v30 = [v29 countByEnumeratingWithState:&v43 objects:v53 count:16];
  if (v30)
  {
    v31 = v30;
    v32 = *v44;
    do
    {
      for (i = 0; i != v31; ++i)
      {
        if (*v44 != v32)
        {
          objc_enumerationMutation(v29);
        }

        v34 = [PXFeedbackTapToRadarUtilities detailedDebugDescriptionFileForAsset:*(*(&v43 + 1) + 8 * i)];
        if (v34)
        {
          [v28 addObject:v34];
        }
      }

      v31 = [v29 countByEnumeratingWithState:&v43 objects:v53 count:16];
    }

    while (v31);
  }

  if (!a2)
  {
    v36 = 0;
    v35 = a3;
    if (a3)
    {
      goto LABEL_40;
    }

LABEL_42:
    v37 = MEMORY[0x1E695E0F0];
    goto LABEL_43;
  }

  v35 = a3;
  if (!*(v40 + 40))
  {
    v36 = 0;
    if (a3)
    {
      goto LABEL_40;
    }

    goto LABEL_42;
  }

  v52 = *(v40 + 40);
  v36 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v52 count:1];
  if (!a3)
  {
    goto LABEL_42;
  }

LABEL_40:
  v51 = @"com.apple.PhotoLibraryServices.PhotosDiagnostics";
  v37 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v51 count:1];
LABEL_43:
  LOWORD(v38) = v35;
  [PXFeedbackTapToRadarUtilities fileRadarWithTitle:@"[Shared With You TTR]: <Enter Brief Description>" description:v4 classification:@"Serious Bug" componentID:@"1073867" componentName:@"Photos UI Messages Sharing" componentVersion:@"iOS" keyword:0 screenshotURLs:v36 attachmentURLs:v28 includeSysDiagnose:v38 includeInternalRelease:v37 additionalExtensionIdentifiers:*(v40 + 48) completionHandler:?];
}

id PXContentSyndicationUserLibraryAssetsFromSyndicationIdentifiers(void *a1, void *a2, uint64_t a3)
{
  v5 = a1;
  v6 = a2;
  if ([v5 count])
  {
    v7 = [v6 librarySpecificFetchOptions];
    [v7 setIncludeGuestAssets:a3];
    v8 = [MEMORY[0x1E6978630] fetchAssetsWithSyndicationIdentifiers:v5 options:v7];
    v9 = [v8 fetchedObjects];
  }

  else
  {
    v9 = MEMORY[0x1E695E0F0];
  }

  return v9;
}

id _PXContentSyndicationUnsavedCMMAssetFromAsset(void *a1)
{
  v18 = *MEMORY[0x1E69E9840];
  v1 = a1;
  if ([v1 px_isUnsavedSyndicatedAsset])
  {
    [v1 fetchPropertySetsIfNeeded];
    v2 = [v1 curationProperties];
    v3 = [v2 syndicationIdentifier];

    if ([v3 length])
    {
      v4 = MEMORY[0x1E6978630];
      v13 = v3;
      v5 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v13 count:1];
      v6 = [MEMORY[0x1E69789A8] sharedMomentSharePhotoLibrary];
      v7 = [v6 librarySpecificFetchOptions];
      v8 = [v4 fetchAssetsWithSyndicationIdentifiers:v5 options:v7];

      v9 = [v8 firstObject];
    }

    else
    {
      v8 = PLSyndicationUIGetLog();
      if (os_log_type_enabled(v8, OS_LOG_TYPE_ERROR))
      {
        v10 = [v1 uuid];
        v11 = [v1 curationProperties];
        *buf = 138543618;
        v15 = v10;
        v16 = 2048;
        v17 = v11;
        _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_ERROR, "Attempted to check if syndicated asset is also CMM, but syndication ID was missing: %{public}@, curation properties: %p", buf, 0x16u);
      }

      v9 = 0;
    }
  }

  else
  {
    v9 = 0;
  }

  return v9;
}

BOOL PXContentSyndicationCMMAssetIsBeingSaved(void *a1)
{
  v1 = _PXContentSyndicationUnsavedCMMAssetFromAsset(a1);
  if ([v1 sourceType] == 8)
  {
    [v1 fetchPropertySetsIfNeeded];
    v2 = [v1 destinationAssetCopyProperties];
    v3 = [v2 destinationAssetCopyState];

    v4 = v3 == 1;
  }

  else
  {
    v4 = 0;
  }

  return v4;
}

id PXContentSyndicationSelectionSnapshotForAssets(uint64_t a1)
{
  v1 = [MEMORY[0x1E6978650] transientAssetCollectionWithAssets:a1 title:0];
  v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetCollection:v1 options:4];
  v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  v4 = [[PXPhotoKitAssetsDataSource alloc] initWithImmutablePhotosDataSource:v3 withChange:0];
  v5 = [off_1E77218D8 alloc];
  v6 = [(PXPhotoKitAssetsDataSource *)v4 allItemIndexPaths];
  v7 = [v5 initWithDataSource:v4 selectedIndexPaths:v6];

  return v7;
}

id _PXContentSyndicationAssetsToProccessFromSavingHelperResult(uint64_t a1, uint64_t a2, void *a3, void *a4, void *a5)
{
  v45 = *MEMORY[0x1E69E9840];
  v8 = a3;
  v9 = a4;
  v10 = a5;
  v11 = objc_alloc_init(MEMORY[0x1E695DF70]);
  if (v10)
  {
    v12 = PLSyndicationUIGetLog();
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      v13 = [v10 localizedDescription];
      *buf = 138412290;
      v44 = v13;
      _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_ERROR, "Syndication Assets Processing: Error processing unsaved syndicated assets: %@", buf, 0xCu);
    }
  }

  else
  {
    if (a1 != 3)
    {
      if (a1 == 2)
      {
        v34 = 0u;
        v35 = 0u;
        v32 = 0u;
        v33 = 0u;
        v18 = v8;
        v19 = [v18 countByEnumeratingWithState:&v32 objects:v41 count:16];
        if (v19)
        {
          v20 = v19;
          v21 = *v33;
          do
          {
            for (i = 0; i != v20; ++i)
            {
              if (*v33 != v21)
              {
                objc_enumerationMutation(v18);
              }

              [v11 addObject:*(*(&v32 + 1) + 8 * i)];
            }

            v20 = [v18 countByEnumeratingWithState:&v32 objects:v41 count:16];
          }

          while (v20);
        }

        v30 = 0u;
        v31 = 0u;
        v28 = 0u;
        v29 = 0u;
        v12 = v9;
        v23 = [v12 countByEnumeratingWithState:&v28 objects:v40 count:16];
        if (v23)
        {
          v24 = v23;
          v25 = *v29;
          do
          {
            for (j = 0; j != v24; ++j)
            {
              if (*v29 != v25)
              {
                objc_enumerationMutation(v12);
              }

              [v11 addObject:{*(*(&v28 + 1) + 8 * j), v28}];
            }

            v24 = [v12 countByEnumeratingWithState:&v28 objects:v40 count:16];
          }

          while (v24);
        }

        goto LABEL_29;
      }

      if (a1)
      {
        goto LABEL_30;
      }
    }

    v38 = 0u;
    v39 = 0u;
    v36 = 0u;
    v37 = 0u;
    v12 = v8;
    v14 = [v12 countByEnumeratingWithState:&v36 objects:v42 count:16];
    if (v14)
    {
      v15 = v14;
      v16 = *v37;
      do
      {
        for (k = 0; k != v15; ++k)
        {
          if (*v37 != v16)
          {
            objc_enumerationMutation(v12);
          }

          [v11 addObject:*(*(&v36 + 1) + 8 * k)];
        }

        v15 = [v12 countByEnumeratingWithState:&v36 objects:v42 count:16];
      }

      while (v15);
    }
  }

LABEL_29:

LABEL_30:

  return v11;
}

void PXPromptToSaveUnsavedSyndicatedAssetsIfNecessary(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v7)
  {
    v8 = [[PXContentSyndicationPhotoKitAssetGroup alloc] initWithAssets:v5];
    v9 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 unsavedSyndicatedAssets];
    if ([v9 count])
    {
      v10 = MEMORY[0x1E6978650];
      v11 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 originalAssets];
      v12 = [v10 transientAssetCollectionWithAssets:v11 title:@"Unsaved Syndication Selection"];

      v13 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 unsavedCMMSyndicatedAssets];
      v14 = [v13 count] == 0;

      v23 = v12;
      v15 = [[PXContentSyndicationAssetSavingHelper alloc] initWithAssetCollection:v12];
      v24 = v6;
      [(PXContentSyndicationAssetSavingHelper *)v15 setPresentationEnvironment:v6];
      [(PXContentSyndicationAssetSavingHelper *)v15 setUserCanContinueAfterSavingSyndicatedAssets:v14];
      v16 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 userLibraryAssets];
      v17 = [v16 mutableCopy];

      v18 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 syndicationIdentifiers];
      v19 = [MEMORY[0x1E69789A8] px_deprecated_appPhotoLibrary];
      if (v19)
      {
        v20 = PXContentSyndicationUserLibraryAssetsFromSyndicationIdentifiers(v18, v19, 0);
      }

      else
      {
        v21 = [MEMORY[0x1E69789A8] px_systemPhotoLibrary];
        v20 = PXContentSyndicationUserLibraryAssetsFromSyndicationIdentifiers(v18, v21, 0);
      }

      [v17 addObjectsFromArray:v20];
      v25[0] = MEMORY[0x1E69E9820];
      v25[1] = 3221225472;
      v25[2] = __PXPromptToSaveUnsavedSyndicatedAssetsIfNecessary_block_invoke;
      v25[3] = &unk_1E7740850;
      v26 = v9;
      v27 = v17;
      v28 = v7;
      v22 = v17;
      [(PXContentSyndicationAssetSavingHelper *)v15 performSaveActionIfNeededOnUnsavedSyndicatedAssetsWithCompletion:v25];

      v6 = v24;
    }

    else
    {
      (*(v7 + 2))(v7, 0, v5, 0);
    }
  }
}

void __PXPromptToSaveUnsavedSyndicatedAssetsIfNecessary_block_invoke(uint64_t a1, uint64_t a2, void *a3, void *a4)
{
  v7 = a4;
  v9 = _PXContentSyndicationAssetsToProccessFromSavingHelperResult(a2, v8, *(a1 + 40), a3, v7);
  if (![v9 count])
  {
    v10 = PLUIGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      *v11 = 0;
      _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_DEFAULT, "Syndication Assets Processing: No assets to process", v11, 2u);
    }
  }

  (*(*(a1 + 48) + 16))();
}

id PXEnsureAllSavedSyndicatedAssetsAreFromUserLibrary(void *a1)
{
  v1 = a1;
  v2 = [[PXContentSyndicationPhotoKitAssetGroup alloc] initWithAssets:v1];
  v3 = [(PXContentSyndicationPhotoKitAssetGroup *)v2 userLibraryAssets];
  v4 = [v3 count];
  v5 = [v1 count];

  if (v4 == v5)
  {
    v6 = [(PXContentSyndicationPhotoKitAssetGroup *)v2 originalAssets];
  }

  else
  {
    v7 = [(PXContentSyndicationPhotoKitAssetGroup *)v2 userLibraryAssets];
    v6 = [v7 mutableCopy];

    v8 = [(PXContentSyndicationPhotoKitAssetGroup *)v2 syndicationIdentifiers];
    v9 = [MEMORY[0x1E69789A8] px_deprecated_appPhotoLibrary];
    if (v9)
    {
      v10 = PXContentSyndicationUserLibraryAssetsFromSyndicationIdentifiers(v8, v9, 0);
    }

    else
    {
      v11 = [MEMORY[0x1E69789A8] px_systemPhotoLibrary];
      v10 = PXContentSyndicationUserLibraryAssetsFromSyndicationIdentifiers(v8, v11, 0);
    }

    [v6 addObjectsFromArray:v10];
  }

  return v6;
}

uint64_t PXContentSyndicationAssetIsUnsavedOrInSyndicationLibrary(void *a1)
{
  v1 = a1;
  if ([v1 px_isSyndicationPhotoLibraryAsset])
  {
    v2 = [v1 isSyndicatedAssetSavedToUserLibrary];
  }

  else
  {
    v2 = 0;
  }

  v3 = [v1 px_isUnsavedSyndicatedAsset] | v2;

  return v3 & 1;
}

void _ReturnPreviewImage(void *a1, void *a2)
{
  v14[2] = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _ReturnPreviewImage(PXCMMPreviewAsset *__strong, __strong PXUIImageResultHandler)"}];
    [v9 handleFailureInFunction:v10 file:@"PXCMMPreviewUIImageProvider.m" lineNumber:120 description:{@"Invalid parameter not satisfying: %@", @"previewAsset"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v11 = [MEMORY[0x1E696AAA8] currentHandler];
  v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _ReturnPreviewImage(PXCMMPreviewAsset *__strong, __strong PXUIImageResultHandler)"}];
  [v11 handleFailureInFunction:v12 file:@"PXCMMPreviewUIImageProvider.m" lineNumber:121 description:{@"Invalid parameter not satisfying: %@", @"resultHandler"}];

LABEL_3:
  if ([v3 isPreviewImageDataAvailable])
  {
    v6 = [v3 previewImage];
    v7 = *MEMORY[0x1E6978E60];
    v13[0] = *MEMORY[0x1E6978E50];
    v13[1] = v7;
    v14[0] = MEMORY[0x1E695E118];
    v14[1] = MEMORY[0x1E695E118];
    v8 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v14 forKeys:v13 count:2];
    (v5)[2](v5, v6, v8);
  }

  else
  {
    v6 = [v3 momentShare];
    v8 = _ErrorInfoDictionaryForMomentShare(v6);
    (v5)[2](v5, 0, v8);
  }
}

id _ErrorInfoDictionaryForMomentShare(uint64_t a1)
{
  v5[1] = *MEMORY[0x1E69E9840];
  v1 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXCMMErrorDomain" code:-1009 debugDescription:{@"No preview image data available for moment share: %@", a1}];
  v4 = *MEMORY[0x1E6978DF0];
  v5[0] = v1;
  v2 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v5 forKeys:&v4 count:1];

  return v2;
}

void _ReturnPreviewCGImage(void *a1, void *a2)
{
  v17[2] = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v12 = [MEMORY[0x1E696AAA8] currentHandler];
    v13 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _ReturnPreviewCGImage(PXCMMPreviewAsset *__strong, __strong PXAssetCGImageResultHandler)"}];
    [v12 handleFailureInFunction:v13 file:@"PXCMMPreviewUIImageProvider.m" lineNumber:133 description:{@"Invalid parameter not satisfying: %@", @"previewAsset"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v14 = [MEMORY[0x1E696AAA8] currentHandler];
  v15 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _ReturnPreviewCGImage(PXCMMPreviewAsset *__strong, __strong PXAssetCGImageResultHandler)"}];
  [v14 handleFailureInFunction:v15 file:@"PXCMMPreviewUIImageProvider.m" lineNumber:134 description:{@"Invalid parameter not satisfying: %@", @"resultHandler"}];

LABEL_3:
  if ([v3 isPreviewImageDataAvailable])
  {
    v6 = [v3 previewImage];
    v7 = [v6 CGImage];
    v8 = [v6 imageOrientation];
    v9 = *MEMORY[0x1E6978E60];
    v16[0] = *MEMORY[0x1E6978E50];
    v16[1] = v9;
    v17[0] = MEMORY[0x1E695E118];
    v17[1] = MEMORY[0x1E695E118];
    v10 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v17 forKeys:v16 count:2];
    (v5)[2](v5, v7, v8, v10);
  }

  else
  {
    v6 = [v3 momentShare];
    v11 = _ErrorInfoDictionaryForMomentShare(v6);
    (v5)[2](v5, 0, 0, v11);
  }
}

unint64_t PXIndexForBodyIndex(unint64_t a1, void *a2)
{
  if (a1 > 0x7FFFFFFFFFFFFFFELL)
  {
    return a1;
  }

  v5 = -1;
  v6 = -1;
  do
  {
    v3 = v6 + a1 - v5;
    v7 = [a2 countOfIndexesInRange:v6 + 1];
    v5 = a1 - v7;
    v6 = v3;
  }

  while ((a1 - v7) < a1);
  return v3;
}

void sub_1A4FC52CC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, id location)
{
  objc_destroyWeak((v25 + 56));
  objc_destroyWeak((v24 + 48));
  objc_destroyWeak(&location);
  _Block_object_dispose((v26 - 112), 8);
  _Unwind_Resume(a1);
}

id getMFMailComposeViewControllerClass_179932()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getMFMailComposeViewControllerClass_softClass_179953;
  v7 = getMFMailComposeViewControllerClass_softClass_179953;
  if (!getMFMailComposeViewControllerClass_softClass_179953)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke_179954;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_179954(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A4FC5648(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_179954(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_179955)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_179956;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E7740998;
    v8 = 0;
    MessageUILibraryCore_frameworkLibrary_179955 = _sl_dlopen();
  }

  if (!MessageUILibraryCore_frameworkLibrary_179955)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MessageUILibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXSurveyQuestionsHorizontalGadget.m" lineNumber:23 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("MFMailComposeViewController");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXSurveyQuestionsHorizontalGadget.m" lineNumber:24 description:{@"Unable to find class %s", "MFMailComposeViewController"}];

LABEL_10:
    __break(1u);
  }

  getMFMailComposeViewControllerClass_softClass_179953 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_179956()
{
  result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_179955 = result;
  return result;
}

void sub_1A4FC7298(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

PXPhotosViewEventTracker *PXPhotosViewEventTrackerCreate(void *a1)
{
  v1 = a1;
  v2 = [PXPhotosViewEventTracker alloc];
  v3 = [v1 viewModel];

  v4 = [(PXPhotosViewEventTracker *)v2 initWithViewModel:v3];

  return v4;
}

void sub_1A4FCEE68(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__181488(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

id PXInitialResponderInFocusEnvironment(void *a1)
{
  v1 = a1;
  v2 = v1;
  if (v1)
  {
    v3 = v1;
    while (1)
    {
      v4 = objc_opt_self();
      isKindOfClass = objc_opt_isKindOfClass();

      if (isKindOfClass)
      {
        break;
      }

      v6 = [v3 parentFocusEnvironment];

      v3 = v6;
      if (!v6)
      {
        goto LABEL_8;
      }
    }

    v3 = v3;
  }

  else
  {
    v3 = 0;
  }

LABEL_8:

  return v3;
}

void *PXNumberPropertyFromCommand(void *a1)
{
  v1 = a1;
  v2 = objc_opt_self();
  if (objc_opt_isKindOfClass())
  {
    v3 = [v1 propertyList];
  }

  else
  {
    v3 = 0;
  }

  v4 = objc_opt_self();
  if (objc_opt_isKindOfClass())
  {
    v5 = v3;
  }

  else
  {
    v5 = 0;
  }

  v6 = v5;

  return v5;
}

uint64_t PXMenuItemIndexFromNumber(void *a1)
{
  if (a1)
  {
    return [a1 integerValue];
  }

  else
  {
    return 0x7FFFFFFFFFFFFFFFLL;
  }
}

uint64_t __Block_byref_object_copy__182236(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

_PXDefaultAudioCueProvider *PXDefaultAudioCueProvider()
{
  v0 = objc_alloc_init(_PXDefaultAudioCueProvider);

  return v0;
}

void sub_1A4FD4064(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v9 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__182318(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

PXPhotosUIViewController *PXStickersReviewViewController(void *a1, uint64_t a2)
{
  v45 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = v3;
  if (v3)
  {
    v5 = v3;
  }

  else
  {
    v34 = [MEMORY[0x1E696AAA8] currentHandler];
    v35 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"UIViewController * _Nonnull PXStickersReviewViewController(PHPhotoLibrary *__strong _Nonnull, PXStickersReviewType)"}];
    [v34 handleFailureInFunction:v35 file:@"PXStickersReviewUtilities.m" lineNumber:120 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

    v36 = [MEMORY[0x1E696AAA8] currentHandler];
    v37 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAsset *> *_FetchResultForPhotoLibrary(PHPhotoLibrary *__strong, PXStickersReviewType)"}];
    [v36 handleFailureInFunction:v37 file:@"PXStickersReviewUtilities.m" lineNumber:38 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  if (a2 == 1)
  {
    v6 = @"mediaAnalysisAttributes.videoStickerSuggestionScore";
    PLLiveStickerSuggestionConfidenceThreshold();
    goto LABEL_7;
  }

  if (!a2)
  {
    v6 = @"stickerConfidenceScore";
    PLStickerSuggestionConfidenceThreshold();
LABEL_7:
    v8 = v7;
    goto LABEL_9;
  }

  v6 = 0;
  v8 = 0.0;
LABEL_9:
  v9 = [v4 librarySpecificFetchOptions];
  v10 = [MEMORY[0x1E696AE18] predicateWithFormat:@"%K > %f", v6, v8];
  [v9 setInternalPredicate:v10];

  v11 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"creationDate" ascending:0];
  v42 = v11;
  v12 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v42 count:1];
  [v9 setSortDescriptors:v12];

  v13 = *MEMORY[0x1E6978D28];
  v43 = *MEMORY[0x1E6978C90];
  v44 = v13;
  v14 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v43 count:2];
  [v9 setFetchPropertySets:v14];

  v15 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v9];

  v16 = v15;
  if (!v16)
  {
    v38 = [MEMORY[0x1E696AAA8] currentHandler];
    v39 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager *_DataSourceManagerWithAssetFetchResult(PHFetchResult<PHAsset *> *__strong)"];
    [v38 handleFailureInFunction:v39 file:@"PXStickersReviewUtilities.m" lineNumber:65 description:{@"Invalid parameter not satisfying: %@", @"assetFetchResult"}];
  }

  v17 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v16 options:2];
  v18 = *MEMORY[0x1E6978CF0];
  v43 = *MEMORY[0x1E6978C18];
  v44 = v18;
  v19 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v43 count:2];
  [(PXPhotosDataSourceConfiguration *)v17 setFetchPropertySets:v19];

  v20 = [v16 photoLibrary];
  v21 = [PXContentFilterState defaultFilterStateForPhotoLibrary:v20];
  v22 = [v21 predicateForUseCase:0];
  [(PXPhotosDataSourceConfiguration *)v17 setFilterPredicate:v22];

  v23 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v17];
  v24 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v23];

  v25 = v24;
  if (!v25)
  {
    v40 = [MEMORY[0x1E696AAA8] currentHandler];
    v41 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration *_ViewConfigurationWithDataSourceManager(PXPhotoKitAssetsDataSourceManager *__strong, PXStickersReviewType)"}];
    [v40 handleFailureInFunction:v41 file:@"PXStickersReviewUtilities.m" lineNumber:81 description:{@"Invalid parameter not satisfying: %@", @"dataSourceManager"}];
  }

  v26 = [(PXPhotoKitAssetsDataSourceManager *)v25 photoLibrary];
  v27 = [PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v26];

  v28 = [[PXPhotoKitAssetActionManager alloc] initWithSelectionManager:0];
  v29 = objc_alloc_init(PXStickersReviewRadarConfigurationProvider);
  [(PXPhotoKitAssetActionManager *)v28 setRadarConfigurationProvider:v29];
  v30 = [[off_1E7721830 alloc] initWithDataSourceManager:v25 mediaProvider:v27 selectionManager:0 assetActionManager:v28 assetCollectionActionManager:0];
  [v30 setFooterVisibilityStyle:1];
  [v30 setAllowedActions:16544];
  [v30 setAllowedBehaviors:{objc_msgSend(v30, "allowedBehaviors") & 0xFFFFFFFFFFFFFFDFLL}];
  if (!a2 || (v31 = 0, a2 == 1))
  {
    v31 = objc_opt_class();
  }

  [v30 setDecorationViewClass:v31];

  v32 = [[PXPhotosUIViewController alloc] initWithConfiguration:v30];
  [(PXPhotosUIViewController *)v32 setTitle:@"Review Syndicated Assets"];

  return v32;
}

float PXStickersReviewScoreForAssetReference(void *a1, uint64_t a2)
{
  v3 = [a1 asset];
  v4 = 0.0;
  if (!objc_opt_class() || (objc_opt_isKindOfClass() & 1) == 0)
  {
    v5 = 0;
LABEL_8:

    goto LABEL_9;
  }

  v5 = v3;

  if (v5)
  {
    if (a2 == 1)
    {
      v3 = [v5 mediaAnalysisProperties];
      [v3 videoStickerSuggestionScore];
      goto LABEL_11;
    }

    if (!a2)
    {
      v3 = [v5 visualSearchProperties];
      [v3 stickerConfidenceScore];
LABEL_11:
      v4 = v6;
      goto LABEL_8;
    }
  }

LABEL_9:

  return v4;
}

void _PXConfigureHeaderSubtitleLabel(void *a1)
{
  v1 = a1;
  v2 = MEMORY[0x1A590C430](6, 0x8000, 7);
  [v1 setFont:v2];
}

__CFString *PXCMTimeDescription(CMTime *a1)
{
  v3 = *a1;
  v1 = CMTimeCopyDescription(0, &v3);

  return v1;
}

BOOL PXCMTimeIsZero(CMTime *a1)
{
  time1 = *a1;
  v2 = **&MEMORY[0x1E6960CC0];
  return CMTimeCompare(&time1, &v2) == 0;
}

void sub_1A4FDEBB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4FDF504(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

_PXConcatenatingAudioAssetFetchResult *PXAudioAssetFetchResultWithFetchResults(void *a1)
{
  v1 = a1;
  v2 = [[_PXConcatenatingAudioAssetFetchResult alloc] initWithFetchResults:v1];

  return v2;
}

_PXAudioAssetArrayFetchResult *PXAudioAssetFetchResultWithArray(void *a1)
{
  v1 = a1;
  v2 = [[_PXAudioAssetArrayFetchResult alloc] initWithArray:v1];

  return v2;
}

_PXAudioAssetSubrangeFetchResult *PXAudioAssetFetchResultWithFetchResultSubrange(void *a1, uint64_t a2, uint64_t a3)
{
  v5 = a1;
  v6 = [[_PXAudioAssetSubrangeFetchResult alloc] initWithFetchResult:v5 subrange:a2, a3];

  return v6;
}

_PXAudioAssetSingleItemFetchResult *PXAudioAssetFetchResultWithAsset(void *a1)
{
  v1 = a1;
  v2 = [[_PXAudioAssetSingleItemFetchResult alloc] initWithAsset:v1];

  return v2;
}

_PXMappingAudioAssetFetchResult *PXAudioAssetFetchResultMappingFetchResult(void *a1, void *a2)
{
  v3 = a2;
  v4 = a1;
  v5 = [[_PXMappingAudioAssetFetchResult alloc] initWithFetchResult:v4 block:v3];

  return v5;
}

void sub_1A4FE01CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id _PXPhoneNumberDataDetector(void *a1)
{
  v15 = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nullable _PXPhoneNumberDataDetector(NSString *__strong)"];
    [v8 handleFailureInFunction:v9 file:@"PXRecipientTransportUtilities.m" lineNumber:42 description:{@"Invalid parameter not satisfying: %@", @"phoneString"}];
  }

  if (_PXPhoneNumberDataDetector_onceToken != -1)
  {
    dispatch_once(&_PXPhoneNumberDataDetector_onceToken, &__block_literal_global_183871);
  }

  [_PXPhoneNumberDataDetector_phoneDetector matchesInString:v1 options:0 range:{0, objc_msgSend(v1, "length")}];
  v10 = 0u;
  v11 = 0u;
  v12 = 0u;
  v2 = v13 = 0u;
  v3 = [v2 countByEnumeratingWithState:&v10 objects:v14 count:16];
  if (v3)
  {
    v4 = *v11;
    while (2)
    {
      for (i = 0; i != v3; i = i + 1)
      {
        if (*v11 != v4)
        {
          objc_enumerationMutation(v2);
        }

        v6 = *(*(&v10 + 1) + 8 * i);
        if ([v6 resultType] == 2048)
        {
          v3 = [v6 phoneNumber];
          goto LABEL_15;
        }
      }

      v3 = [v2 countByEnumeratingWithState:&v10 objects:v14 count:16];
      if (v3)
      {
        continue;
      }

      break;
    }
  }

LABEL_15:

  return v3;
}

__CFString *PXActivityItemExportFormatDescription(uint64_t a1)
{
  v1 = @"Auto";
  if (a1 == 1)
  {
    v1 = @"Current";
  }

  if (a1 == 2)
  {
    return @"Compatible";
  }

  else
  {
    return v1;
  }
}

void sub_1A4FE6C04(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A4FE7D24(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, id location)
{
  objc_destroyWeak((v27 + 64));
  objc_destroyWeak((v26 + 48));
  objc_destroyWeak(&location);
  _Block_object_dispose((v28 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1A4FE8834(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__185461(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4FE9E90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4FEA95C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4FEAF8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPPLocationNamedEntitiesClass_block_invoke(uint64_t a1)
{
  PersonalizationPortraitLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PPLocationNamedEntities");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPPLocationNamedEntitiesClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPPLocationNamedEntitiesClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXAssetMetadataDonator.m" lineNumber:28 description:{@"Unable to find class %s", "PPLocationNamedEntities"}];

    __break(1u);
  }
}

void __getPPCustomDonationClass_block_invoke(uint64_t a1)
{
  PersonalizationPortraitLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PPCustomDonation");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPPCustomDonationClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPPCustomDonationClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXAssetMetadataDonator.m" lineNumber:27 description:{@"Unable to find class %s", "PPCustomDonation"}];

    __break(1u);
  }
}

void PersonalizationPortraitLibrary()
{
  v6 = *MEMORY[0x1E69E9840];
  v3[0] = 0;
  if (!PersonalizationPortraitLibraryCore_frameworkLibrary)
  {
    v3[1] = MEMORY[0x1E69E9820];
    v3[2] = 3221225472;
    v3[3] = __PersonalizationPortraitLibraryCore_block_invoke;
    v3[4] = &__block_descriptor_40_e5_v8__0l;
    v3[5] = v3;
    v4 = xmmword_1E7741238;
    v5 = 0;
    PersonalizationPortraitLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!PersonalizationPortraitLibraryCore_frameworkLibrary)
  {
    v1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PersonalizationPortraitLibrary(void)"];
    [v1 handleFailureInFunction:v2 file:@"PXAssetMetadataDonator.m" lineNumber:26 description:{@"%s", v3[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v0 = v3[0];
  if (v3[0])
  {
LABEL_7:
    free(v0);
  }
}

uint64_t __PersonalizationPortraitLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  PersonalizationPortraitLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1A4FF6118(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, char a31)
{
  _Block_object_dispose((v31 - 208), 8);
  _Block_object_dispose(&a31, 8);
  _Unwind_Resume(a1);
}

void sub_1A4FFB848(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__187529(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A4FFC478(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 112));
  _Unwind_Resume(a1);
}

void sub_1A4FFCFD0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 112));
  _Unwind_Resume(a1);
}

void sub_1A4FFD76C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, id location)
{
  objc_destroyWeak((v31 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4FFDB90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A4FFECC4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A4FFF19C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak((v17 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void PXTileStateDescription(unsigned __int8 *a1)
{
  v2 = [MEMORY[0x1E696AD60] stringWithString:@"{\n"];
  [v2 appendString:@"Identifier:\n"];
  [v2 appendFormat:@"\tneedsUpdate: %i\n", *a1];
  v3 = *(a1 + 56);
  v20 = *(a1 + 40);
  v21 = v3;
  v22 = *(a1 + 72);
  *&v23 = *(a1 + 11);
  v4 = *(a1 + 24);
  v18 = *(a1 + 8);
  v19 = v4;
  v5 = PXTileIdentifierDescription(&v18);
  [v2 appendFormat:@"\tcurrent: %@\n", v5];

  v6 = *(a1 + 9);
  v20 = *(a1 + 8);
  v21 = v6;
  v22 = *(a1 + 10);
  *&v23 = *(a1 + 22);
  v7 = *(a1 + 7);
  v18 = *(a1 + 6);
  v19 = v7;
  v8 = PXTileIdentifierDescription(&v18);
  [v2 appendFormat:@"\ttarget: %@\n", v8];

  v9 = *(a1 + 232);
  v20 = *(a1 + 216);
  v21 = v9;
  v22 = *(a1 + 248);
  *&v23 = *(a1 + 33);
  v10 = *(a1 + 200);
  v18 = *(a1 + 184);
  v19 = v10;
  v11 = PXTileIdentifierDescription(&v18);
  [v2 appendFormat:@"\tlastKnown: %@\n", v11];

  [v2 appendString:@"Geometry:\n"];
  [v2 appendFormat:@"\tneedsUpdate: %i\n", a1[280]];
  v12 = *(a1 + 27);
  v26 = *(a1 + 26);
  v27 = v12;
  v13 = *(a1 + 29);
  v28 = *(a1 + 28);
  v29 = v13;
  v14 = *(a1 + 23);
  v22 = *(a1 + 22);
  v23 = v14;
  v15 = *(a1 + 25);
  v24 = *(a1 + 24);
  v25 = v15;
  v16 = *(a1 + 19);
  v18 = *(a1 + 18);
  v19 = v16;
  v17 = *(a1 + 21);
  v20 = *(a1 + 20);
  v21 = v17;
  PXTileGeometryDescription();
}

id PXCollectionDeleteConfirmationTitle(void *a1, uint64_t a2)
{
  v21[1] = *MEMORY[0x1E69E9840];
  v3 = a1;
  if ([v3 px_isOwnedStreamSharedAlbum])
  {
    [v3 px_isSharedAlbum];
    v4 = @"DELETE_OWNED_STREAM_BUTTON";
  }

  else
  {
    v5 = [v3 px_isOwnedCloudKitSharedAlbum];
    v6 = [v3 px_isSharedAlbum];
    if ((v5 & 1) == 0 && !v6)
    {
      v7 = [v3 photoLibrary];
      v8 = [v7 photoLibrary];

      v9 = [objc_alloc(MEMORY[0x1E69BE898]) initWithPhotoLibrary:v8];
      if ([v3 px_isFolder])
      {
        v10 = [v3 pl_assetContainerList];
        v19 = 0;
        v21[0] = v10;
        v11 = [MEMORY[0x1E695DEC8] arrayWithObjects:v21 count:1];
        v16 = a2;
        v12 = &v19;
        [v9 getDeletionWarningTitle:0 message:0 buttonTitle:&v19 forAlbums:0 folders:v11 clientName:0 style:v16];
      }

      else
      {
        v10 = [v3 pl_assetContainer];
        v18 = 0;
        v20 = v10;
        v11 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v20 count:1];
        v17 = a2;
        v12 = &v18;
        [v9 getDeletionWarningTitle:0 message:0 buttonTitle:&v18 forAlbums:v11 folders:0 clientName:0 style:v17];
      }

      v14 = *v12;

      goto LABEL_15;
    }

    v13 = @"DELETE_SUBSCRIBED_STREAM_BUTTON";
    if (!v6)
    {
      v13 = 0;
    }

    if (v5)
    {
      v4 = @"DELETE_OWNED_STREAM_BUTTON";
    }

    else
    {
      v4 = v13;
    }
  }

  v14 = PXLocalizedStringFromTable(v4, @"PhotosUICore");
LABEL_15:

  return v14;
}

id PXCollectionDeletionAlertControllerForCollection(void *a1, uint64_t a2, uint64_t a3, void *a4, void *a5)
{
  v52[1] = *MEMORY[0x1E69E9840];
  v9 = a1;
  v10 = a4;
  v11 = a5;
  v12 = [v9 photoLibrary];
  v13 = [v12 photoLibrary];

  v38 = v13;
  v14 = [objc_alloc(MEMORY[0x1E69BE898]) initWithPhotoLibrary:v13];
  v37 = v14;
  if ([v9 px_isOwnedStreamSharedAlbum])
  {
    [v9 px_isSharedAlbum];
    v15 = @"DELETE_OWNED_STREAM_TITLE";
    goto LABEL_12;
  }

  v16 = [v9 px_isOwnedCloudKitSharedAlbum];
  v17 = [v9 px_isSharedAlbum];
  if ((v16 & 1) != 0 || v17)
  {
    v23 = @"DELETE_OWNED_STREAM_TITLE";
    if (!v16)
    {
      v23 = 0;
    }

    if (v16 & 1 | ((v17 & 1) == 0))
    {
      v15 = v23;
    }

    else
    {
      v15 = @"DELETE_SUBSCRIBED_STREAM_TITLE";
    }

LABEL_12:
    PXLocalizedStringFromTable(v15, @"PhotosUICore");
    objc_claimAutoreleasedReturnValue();
    [v9 localizedTitle];
    objc_claimAutoreleasedReturnValue();
    PXStringWithValidatedFormat();
  }

  if ([v9 px_isFolder])
  {
    v18 = [v9 pl_assetContainerList];
    v49 = 0;
    v50 = 0;
    v48 = 0;
    v52[0] = v18;
    v19 = [MEMORY[0x1E695DEC8] arrayWithObjects:v52 count:1];
    [v14 getDeletionWarningTitle:&v50 message:&v49 buttonTitle:&v48 forAlbums:0 folders:v19 clientName:0 style:a2];
    v20 = v50;
    v21 = v49;
    v22 = v48;
  }

  else
  {
    v18 = [v9 pl_assetContainer];
    v46 = 0;
    v47 = 0;
    v45 = 0;
    v51 = v18;
    v19 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v51 count:1];
    [v14 getDeletionWarningTitle:&v47 message:&v46 buttonTitle:&v45 forAlbums:v19 folders:0 clientName:0 style:a2];
    v20 = v47;
    v21 = v46;
    v22 = v45;
  }

  v24 = v22;

  v25 = [MEMORY[0x1E69DC650] alertControllerWithTitle:v20 message:v21 preferredStyle:a3];
  v26 = v20;
  v27 = MEMORY[0x1E69DC648];
  v41[0] = MEMORY[0x1E69E9820];
  v41[1] = 3221225472;
  v41[2] = __PXCollectionDeletionAlertControllerForCollection_block_invoke;
  v41[3] = &unk_1E774A2A0;
  v42 = v9;
  v43 = v10;
  v28 = v11;
  v44 = v28;
  v29 = v10;
  v30 = v9;
  v31 = [v27 actionWithTitle:v24 style:2 handler:v41];
  [v25 addAction:v31];
  v32 = MEMORY[0x1E69DC648];
  v33 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v39[0] = MEMORY[0x1E69E9820];
  v39[1] = 3221225472;
  v39[2] = __PXCollectionDeletionAlertControllerForCollection_block_invoke_222;
  v39[3] = &unk_1E7748000;
  v40 = v28;
  v34 = v28;
  v35 = [v32 actionWithTitle:v33 style:1 handler:v39];

  [v25 addAction:v35];

  return v25;
}

void __PXCollectionDeletionAlertControllerForCollection_block_invoke(uint64_t a1)
{
  v10[1] = *MEMORY[0x1E69E9840];
  v2 = [[PXDeleteCollectionsAction alloc] initWithCollection:*(a1 + 32)];
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXCollectionDeletionAlertControllerForCollection_block_invoke_2;
  v6[3] = &unk_1E774BD88;
  v3 = *(a1 + 40);
  v7 = *(a1 + 32);
  v8 = *(a1 + 48);
  [(PXAction *)v2 executeWithUndoManager:v3 completionHandler:v6];
  v4 = MEMORY[0x1E6991F28];
  v9 = *MEMORY[0x1E6991E08];
  v10[0] = *(a1 + 32);
  v5 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v10 forKeys:&v9 count:1];
  [v4 sendEvent:@"com.apple.photos.CPAnalytics.albumDeleted" withPayload:v5];
}

uint64_t __PXCollectionDeletionAlertControllerForCollection_block_invoke_222(uint64_t a1)
{
  result = *(a1 + 32);
  if (result)
  {
    return (*(result + 16))(result, 0);
  }

  return result;
}

void __PXCollectionDeletionAlertControllerForCollection_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  v13 = *MEMORY[0x1E69E9840];
  v5 = a3;
  if ((a2 & 1) == 0)
  {
    v6 = PLUIActionsGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      v8 = [*(a1 + 32) localIdentifier];
      v9 = 138543618;
      v10 = v8;
      v11 = 2114;
      v12 = v5;
      _os_log_error_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_ERROR, "Failed to delete collection %{public}@ with error %{public}@", &v9, 0x16u);
    }
  }

  v7 = *(a1 + 40);
  if (v7)
  {
    (*(v7 + 16))(v7, a2);
  }
}

id PXCollectionRenameAlertControllerForCollection(void *a1, uint64_t a2, void *a3, void *a4)
{
  v6 = a1;
  v7 = a3;
  v8 = a4;
  v9 = objc_alloc_init(PXTitleEditor);
  v10 = [PXRenameCollectionAction actionNameForCollection:v6];
  [(PXTitleEditor *)v9 setMessage:v10];

  v11 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionPlaceholderText", @"PhotosUICore");
  [(PXTitleEditor *)v9 setTitlePlaceholder:v11];

  v12 = [off_1E77217B8 defaultHelper];
  v13 = [v6 localizedTitle];
  v14 = [v12 displayableTextForTitle:v13 intent:2];
  [(PXTitleEditor *)v9 setTitle:v14];

  v15 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionConfirmButton", @"PhotosUICore");
  [(PXTitleEditor *)v9 setConfirmButtonTitle:v15];

  v16 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionCancelButton", @"PhotosUICore");
  [(PXTitleEditor *)v9 setCancelButtonTitle:v16];

  [(PXTitleEditor *)v9 setValidation:&__block_literal_global_188395];
  v22[0] = MEMORY[0x1E69E9820];
  v22[1] = 3221225472;
  v22[2] = __PXCollectionRenameAlertControllerForCollection_block_invoke_2;
  v22[3] = &unk_1E77415D0;
  v23 = v6;
  v24 = v7;
  v25 = v8;
  v17 = v8;
  v18 = v7;
  v19 = v6;
  [(PXTitleEditor *)v9 setCompletionHandler:v22];
  v20 = [(PXTitleEditor *)v9 createAlertController];

  return v20;
}

void __PXCollectionRenameAlertControllerForCollection_block_invoke_2(uint64_t a1, void *a2, char a3)
{
  v23 = *MEMORY[0x1E69E9840];
  v5 = a2;
  v6 = v5;
  if (a3)
  {
    v7 = MEMORY[0x1E6978660];
    v8 = [v5 title];
    v18 = 0;
    v9 = [v7 validateAssetCollectionTitle:v8 error:&v18];
    v10 = v18;

    if ([v9 length])
    {
      v11 = [[PXRenameCollectionAction alloc] initWithCollection:*(a1 + 32) title:v9];
      if (v11)
      {
        v16[0] = MEMORY[0x1E69E9820];
        v16[1] = 3221225472;
        v16[2] = __PXCollectionRenameAlertControllerForCollection_block_invoke_237;
        v16[3] = &unk_1E7747648;
        v12 = *(a1 + 40);
        v17 = *(a1 + 48);
        [(PXAction *)v11 executeWithUndoManager:v12 completionHandler:v16];
        v13 = v17;
      }

      else
      {
        v13 = PLUIGetLog();
        if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
        {
          v15 = *(a1 + 32);
          *buf = 138412546;
          v20 = v15;
          v21 = 2112;
          v22 = v9;
          _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_ERROR, "unable to create action to rename %@ to '%@'", buf, 0x16u);
        }
      }
    }

    else
    {
      v11 = PLUIGetLog();
      if (os_log_type_enabled(&v11->super.super.super, OS_LOG_TYPE_ERROR))
      {
        v14 = [v6 title];
        *buf = 138412546;
        v20 = v14;
        v21 = 2112;
        v22 = v10;
        _os_log_impl(&dword_1A3C1C000, &v11->super.super.super, OS_LOG_TYPE_ERROR, "unable to get a valid title for input '%@': %@", buf, 0x16u);
      }
    }
  }

  else
  {
    v10 = PLUIGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_ERROR, "title editor did not succeed", buf, 2u);
    }
  }
}

uint64_t __PXCollectionRenameAlertControllerForCollection_block_invoke_237(uint64_t a1)
{
  result = *(a1 + 32);
  if (result)
  {
    return (*(result + 16))();
  }

  return result;
}

BOOL __PXCollectionRenameAlertControllerForCollection_block_invoke(uint64_t a1, void *a2)
{
  v2 = MEMORY[0x1E6978660];
  v3 = [a2 title];
  v4 = [v2 validateAssetCollectionTitle:v3 error:0];
  v5 = v4 != 0;

  return v5;
}

id PXCollectionActionMenuForCollection(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:2];
  if ([v5 canPerformEditOperation:7])
  {
    v9 = [PXRenameCollectionAction actionNameForCollection:v5];
    v10 = MEMORY[0x1E69DC628];
    v11 = [MEMORY[0x1E69DCAB8] systemImageNamed:@"pencil"];
    v26[0] = MEMORY[0x1E69E9820];
    v26[1] = 3221225472;
    v26[2] = __PXCollectionActionMenuForCollection_block_invoke;
    v26[3] = &unk_1E77415F8;
    v27 = v5;
    v28 = v7;
    v29 = v6;
    v12 = [v10 actionWithTitle:v9 image:v11 identifier:0 handler:v26];

    [v8 addObject:v12];
  }

  if ([v5 canPerformEditOperation:6])
  {
    v13 = PXLocalizedStringFromTable(@"PXDeleteFolderActionName", @"PhotosUICore");
    v14 = MEMORY[0x1E69DC628];
    v15 = [MEMORY[0x1E69DCAB8] systemImageNamed:@"trash"];
    v19 = MEMORY[0x1E69E9820];
    v20 = 3221225472;
    v21 = __PXCollectionActionMenuForCollection_block_invoke_2;
    v22 = &unk_1E77415F8;
    v23 = v6;
    v24 = v5;
    v25 = v7;
    v16 = [v14 actionWithTitle:v13 image:v15 identifier:0 handler:&v19];

    [v16 setAttributes:{2, v19, v20, v21, v22}];
    [v8 addObject:v16];
  }

  if ([v8 count])
  {
    v17 = [MEMORY[0x1E69DCC60] menuWithTitle:&stru_1F1741150 image:0 identifier:0 options:1 children:v8];
  }

  else
  {
    v17 = 0;
  }

  return v17;
}

void __PXCollectionActionMenuForCollection_block_invoke(void **a1, uint64_t a2)
{
  v3 = PXCollectionRenameAlertControllerForCollection(a1[4], a2, a1[5], 0);
  [a1[6] presentViewController:v3 animated:1 completionHandler:0];
}

void __PXCollectionActionMenuForCollection_block_invoke_2(id *a1)
{
  v2 = PXCollectionDeletionAlertControllerForCollection(a1[5], 0, [a1[4] canPresentPopovers] ^ 1, a1[6], 0);
  [a1[4] presentViewController:v2 animated:1 completionHandler:0];
}

void sub_1A50158B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__189136(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t _AttributionForSuggestion(void *a1)
{
  v1 = a1;
  v2 = v1;
  if (v1)
  {
    v3 = [v1 attribution];
    if ((v3 - 1) >= 4)
    {
      v4 = 0;
    }

    else
    {
      v4 = v3;
    }
  }

  else
  {
    v4 = 0;
  }

  return v4;
}

BOOL _PersonIsNamed(void *a1)
{
  v1 = a1;
  v2 = [v1 personUri];
  if ([v2 length])
  {
    v3 = 1;
  }

  else
  {
    v4 = [v1 contactMatchingDictionary];
    if ([v4 count])
    {
      v3 = 1;
    }

    else
    {
      v5 = [v1 px_localizedName];
      v3 = [v5 length] != 0;
    }
  }

  return v3;
}

void _TitleSubtitleContextMakeGadgetSpec(unint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>, double a4@<D0>, double a5@<D1>, double a6@<D2>, double a7@<D3>)
{
  v11 = a1;
  *(a3 + 88) = 0;
  *a3 = a1;
  v13 = a2;
  v14 = PXMemorySpecSetForTileKindGadgetSpec(v11, v13);
  *(a3 + 8) = v14;
  *(a3 + 16) = PXMemorySpecVariantForTileKindGadgetSpec(v11, v13);
  *(a3 + 24) = a4;
  *(a3 + 32) = a5;
  *(a3 + 40) = a6;
  *(a3 + 48) = a7;
  [v13 layoutInsets];
  *(a3 + 56) = v15;
  *(a3 + 64) = v16;
  *(a3 + 72) = v17;
  *(a3 + 80) = v18;
  LOBYTE(v11) = PXMemoryShouldScaleForSpecSetGadgetSpec(v14, v13);

  *(a3 + 88) = v11;
}

void _TitleSubtitleContextMakeFeatureSpec(unint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>, double a4@<D0>, double a5@<D1>, double a6@<D2>, double a7@<D3>)
{
  v11 = a1;
  *(a3 + 88) = 0;
  *a3 = a1;
  v13 = a2;
  v14 = PXMemorySpecSetForTileKindFeatureSpec(v11, v13);
  *(a3 + 8) = v14;
  *(a3 + 16) = PXMemorySpecVariantForTileKindFeatureSpec(v11, v13);
  *(a3 + 24) = a4;
  *(a3 + 32) = a5;
  *(a3 + 40) = a6;
  *(a3 + 48) = a7;
  [v13 layoutMargins];
  *(a3 + 56) = v15;
  *(a3 + 64) = v16;
  *(a3 + 72) = v17;
  *(a3 + 80) = v18;
  LOBYTE(v11) = PXMemoryShouldScaleForSpecSetFeatureSpec(v14, v13);

  *(a3 + 88) = v11;
}

void _TitleSubtitleContextMakeViewModel(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>, double a4@<D0>, double a5@<D1>, double a6@<D2>, double a7@<D3>)
{
  *(a3 + 88) = 1;
  *a3 = a1;
  v12 = a2;
  *(a3 + 8) = [v12 specSet];
  *(a3 + 16) = [v12 variant];
  *(a3 + 24) = a4;
  *(a3 + 32) = a5;
  *(a3 + 40) = a6;
  *(a3 + 48) = a7;
  [v12 layoutMargins];
  v14 = v13;
  v16 = v15;
  v18 = v17;
  v20 = v19;

  *(a3 + 56) = v14;
  *(a3 + 64) = v16;
  *(a3 + 72) = v18;
  *(a3 + 80) = v20;
}

PXContentSyndicationPhotoKitAssetFetchResultProvider *PXContentSyndicationAssetFetchResultProviderForPhotoLibrary(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXContentSyndicationAssetFetchResultProvider>  _Nonnull PXContentSyndicationAssetFetchResultProviderForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:60 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v2 = [[PXContentSyndicationPhotoKitAssetFetchResultProvider alloc] initWithPhotoLibrary:v1 fetchResultBlock:&__block_literal_global_189292];

  return v2;
}

id __PXContentSyndicationAssetFetchResultProviderForPhotoLibrary_block_invoke(uint64_t a1, void *a2)
{
  v2 = a2;
  if (!v2)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PHFetchResult<PHAsset *> *_FetchResultForAssetCollection(PHAssetCollection *__strong)"];
    [v8 handleFailureInFunction:v9 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:46 description:{@"Invalid parameter not satisfying: %@", @"assetCollection"}];
  }

  v3 = [v2 photoLibrary];
  v4 = [v3 librarySpecificFetchOptions];
  [v4 setIncludeGuestAssets:1];
  [v4 setFetchLimit:3];
  v5 = _AssetSortDescriptorsSortedAscending(1);
  [v4 setInternalSortDescriptors:v5];

  [v4 setReverseSortOrder:1];
  v6 = [MEMORY[0x1E6978630] fetchAssetsInAssetCollection:v2 options:v4];

  return v6;
}

id _AssetSortDescriptorsSortedAscending(uint64_t a1)
{
  v7[3] = *MEMORY[0x1E69E9840];
  v2 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"addedDate" ascending:a1];
  v3 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"dateCreated" ascending:{a1, v2}];
  v7[1] = v3;
  v4 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"objectID" ascending:1];
  v7[2] = v4;
  v5 = [MEMORY[0x1E695DEC8] arrayWithObjects:v7 count:3];

  return v5;
}

id PXContentSyndicationImageProviderForPhotoLibrary(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXUIImageProvider>  _Nonnull PXContentSyndicationImageProviderForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:70 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v2 = [PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v1];

  return v2;
}

id PXContentSyndicationCollectionsFetchResultForPhotoLibraryWithFetchLimit(void *a1, uint64_t a2, uint64_t a3)
{
  v18[1] = *MEMORY[0x1E69E9840];
  v5 = a1;
  if (!v5)
  {
    v16 = [MEMORY[0x1E696AAA8] currentHandler];
    v17 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAssetCollection *> * _Nonnull PXContentSyndicationCollectionsFetchResultForPhotoLibraryWithFetchLimit(PHPhotoLibrary *__strong _Nonnull, NSUInteger, NSUInteger)"}];
    [v16 handleFailureInFunction:v17 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:77 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeGuestAssets:1];
  v7 = +[PXContentSyndicationSettings sharedInstance];
  v8 = v7;
  if (!a2)
  {
    a2 = [v7 maxNumberOfBatches];
  }

  if ([v8 dataSourceType] == 5)
  {
    v9 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"startDate" ascending:0];
    v18[0] = v9;
    v10 = [MEMORY[0x1E695DEC8] arrayWithObjects:v18 count:1];
    [v6 setSortDescriptors:v10];

    v11 = [MEMORY[0x1E696AE18] predicateWithFormat:@"estimatedAssetCount > 0"];
    [v6 setPredicate:v11];

    [v6 setFetchLimit:a2];
    v12 = [MEMORY[0x1E6978650] fetchAssetCollectionsWithType:3 subtype:0x7FFFFFFFFFFFFFFFLL options:v6];
  }

  else
  {
    if ([v8 dataSourceType] == 4)
    {
      [MEMORY[0x1E69C1520] internalPredicateToFilterAssetsEligibleForSyndication];
    }

    else
    {
      [MEMORY[0x1E69BF328] predicateForIncludeMask:objc_msgSend(MEMORY[0x1E69BF328] useIndex:{"maskForGuestAsset"), 1}];
    }
    v13 = ;
    [v6 setInternalPredicate:v13];

    if (!a3)
    {
      a3 = [v8 maxNumberOfAssetsPerBatch];
    }

    v12 = [MEMORY[0x1E6978650] fetchRecentContentSyndicationAssetCollectionsWithOptions:v6 maxNumberOfStacks:a2 maxNumberOfAssetsPerStack:a3];
  }

  v14 = v12;

  return v14;
}

id PXContentSyndicationAssetsFetchResultForPhotoLibrary(void *a1, uint64_t a2, uint64_t a3)
{
  v22[2] = *MEMORY[0x1E69E9840];
  v5 = a1;
  if (!v5)
  {
    v19 = [MEMORY[0x1E696AAA8] currentHandler];
    v20 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationAssetsFetchResultForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull, BOOL, NSUInteger)"}];
    [v19 handleFailureInFunction:v20 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:107 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeGuestAssets:1];
  [v6 setFetchLimit:a3];
  v7 = _AssetSortDescriptorsSortedAscending(a2);
  [v6 setInternalSortDescriptors:v7];

  v8 = [MEMORY[0x1E69C1520] internalPredicateToIncludeOnlyReceivedSyndicatedAssets];
  [v6 setInternalPredicate:v8];
  v9 = +[PXContentSyndicationSettings sharedInstance];
  if ([v9 useUserLibraryForSyndicatedAssets])
  {
    v10 = [MEMORY[0x1E696AE18] predicateWithFormat:@"additionalAttributes.syndicationIdentifier != nil"];
    v11 = MEMORY[0x1E696AB28];
    v22[0] = v10;
    v12 = [v6 internalPredicate];
    v22[1] = v12;
    v13 = MEMORY[0x1E695DEC8];
    v14 = v22;
LABEL_8:
    v15 = [v13 arrayWithObjects:v14 count:2];
    v16 = [v11 andPredicateWithSubpredicates:v15];
    [v6 setInternalPredicate:v16];

    v17 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v6];

    goto LABEL_9;
  }

  if ([v9 dataSourceType] == 3 || objc_msgSend(v9, "dataSourceType") == 4)
  {
    v10 = [MEMORY[0x1E69C1520] internalPredicateToFilterAssetsEligibleForSyndication];
    v11 = MEMORY[0x1E696AB28];
    v21[0] = v10;
    v12 = [v6 internalPredicate];
    v21[1] = v12;
    v13 = MEMORY[0x1E695DEC8];
    v14 = v21;
    goto LABEL_8;
  }

  v17 = [MEMORY[0x1E6978630] fetchGuestAssetsWithOptions:v6];
LABEL_9:

  return v17;
}

id PXContentSyndicationAssetsFetchResultMatchingSyndicationGroupingOfAsset(void *a1)
{
  v17[3] = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = +[PXContentSyndicationSettings sharedInstance];
  v3 = [v2 dataSourceType];
  v4 = [v1 photoLibrary];
  v5 = [v4 librarySpecificFetchOptions];

  [v5 setIncludeGuestAssets:1];
  if (v3 == 4)
  {
    v7 = [MEMORY[0x1E69C1520] internalPredicateToFilterAssetsEligibleForSyndication];
    [v1 fetchPropertySetsIfNeeded];
    v8 = [v1 curationProperties];
    v9 = [v8 syndicationIdentifier];

    v10 = PLSearchableIdentifierFromMessagesSyndicationID();
    v11 = [MEMORY[0x1E696AE18] predicateWithFormat:@"additionalAttributes.syndicationIdentifier CONTAINS %@", v10];
    v12 = [MEMORY[0x1E6978630] filterPredicateToExcludeNoSyndicationAssets];
    v13 = MEMORY[0x1E696AB28];
    v17[0] = v7;
    v17[1] = v11;
    v17[2] = v12;
    v14 = [MEMORY[0x1E695DEC8] arrayWithObjects:v17 count:3];
    v15 = [v13 andPredicateWithSubpredicates:v14];
    [v5 setInternalPredicate:v15];

    v6 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v5];
  }

  else if (v3)
  {
    v6 = 0;
  }

  else
  {
    v6 = [MEMORY[0x1E6978630] fetchGuestAssetsInCollectionContainingAsset:v1 options:v5];
  }

  return v6;
}

id PXContentSyndicationMockSingleAssetsFetchResult(void *a1, uint64_t a2, uint64_t a3)
{
  v23[2] = *MEMORY[0x1E69E9840];
  v5 = a1;
  if (!v5)
  {
    v20 = [MEMORY[0x1E696AAA8] currentHandler];
    v21 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationMockSingleAssetsFetchResult(PHPhotoLibrary *__strong _Nonnull, BOOL, NSUInteger)"}];
    [v20 handleFailureInFunction:v21 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:163 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeGuestAssets:1];
  v7 = _AssetSortDescriptorsSortedAscending(a2);
  [v6 setInternalSortDescriptors:v7];

  if (a3)
  {
    [v6 setFetchLimit:a3];
  }

  v8 = +[PXContentSyndicationSettings sharedInstance];
  v9 = [MEMORY[0x1E696AE18] predicateWithFormat:@"additionalAttributes.syndicationIdentifier != nil"];
  v10 = +[PXContentSyndicationSettings sharedInstance];
  v11 = [v10 dataSourceType];

  if (v11 == 3)
  {
    v12 = [MEMORY[0x1E69C1520] internalPredicateToFilterAssetsEligibleForSyndication];
    if ([v8 useUserLibraryForSyndicatedAssets])
    {
      v13 = MEMORY[0x1E696AB28];
      v22[0] = v9;
      v22[1] = v12;
      v14 = MEMORY[0x1E695DEC8];
      v15 = v22;
      goto LABEL_11;
    }

LABEL_12:
    [v6 setInternalPredicate:v12];
    goto LABEL_13;
  }

  if (v11 != 2)
  {
    if ([v8 useUserLibraryForSyndicatedAssets])
    {
      [v6 setInternalPredicate:v9];
      [MEMORY[0x1E6978630] fetchAssetsWithOptions:v6];
    }

    else
    {
      [MEMORY[0x1E6978630] fetchGuestAssetsWithOptions:v6];
    }
    v18 = ;
    goto LABEL_18;
  }

  v12 = [MEMORY[0x1E69C1520] internalPredicateToIncludeOnlyReceivedSyndicatedAssets];
  if (![v8 useUserLibraryForSyndicatedAssets])
  {
    goto LABEL_12;
  }

  v13 = MEMORY[0x1E696AB28];
  v23[0] = v9;
  v23[1] = v12;
  v14 = MEMORY[0x1E695DEC8];
  v15 = v23;
LABEL_11:
  v16 = [v14 arrayWithObjects:v15 count:2];
  v17 = [v13 andPredicateWithSubpredicates:v16];
  [v6 setInternalPredicate:v17];

LABEL_13:
  v18 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v6];

LABEL_18:

  return v18;
}

id PXContentSyndicationReviewFetchResultForPhotoLibrary(void *a1)
{
  v19[3] = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v16 = [MEMORY[0x1E696AAA8] currentHandler];
    v17 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationReviewFetchResultForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v16 handleFailureInFunction:v17 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:212 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v2 = [v1 librarySpecificFetchOptions];
  [v2 setIncludeGuestAssets:1];
  v3 = _AssetSortDescriptorsSortedAscending(1);
  [v2 setInternalSortDescriptors:v3];

  v4 = *MEMORY[0x1E6978C90];
  v19[0] = *MEMORY[0x1E6978CF0];
  v19[1] = v4;
  v19[2] = *MEMORY[0x1E6978C20];
  v5 = [MEMORY[0x1E695DEC8] arrayWithObjects:v19 count:3];
  [v2 setFetchPropertySets:v5];

  v6 = +[PXContentSyndicationSettings sharedInstance];
  v7 = [v6 reviewScope];

  if (v7 <= 3)
  {
    switch(v7)
    {
      case 1:
        v8 = [MEMORY[0x1E69C1520] internalPredicateToIncludeOnlyReceivedSyndicatedAssets];
        break;
      case 2:
        v8 = [MEMORY[0x1E69C1520] internalPredicateToIncludeOnlySentSyndicatedAssets];
        break;
      case 3:
        v8 = [MEMORY[0x1E69C1520] internalPredicateToIncludeReceivedNotAnalyzedSyndicatedAssets];
        break;
      default:
        goto LABEL_22;
    }

    goto LABEL_20;
  }

  if (v7 <= 5)
  {
    if (v7 == 4)
    {
      [MEMORY[0x1E69C1520] internalPredicateToIncludeReceivedNotEligibleSyndicatedAssets];
    }

    else
    {
      [MEMORY[0x1E69C1520] internalPredicateToFilterAssetsEligibleForSyndication];
    }
    v8 = ;
    goto LABEL_20;
  }

  if (v7 != 6)
  {
    if (v7 != 7)
    {
      goto LABEL_22;
    }

    v8 = [MEMORY[0x1E69BF328] predicateForIncludeMask:objc_msgSend(MEMORY[0x1E69BF328] useIndex:{"maskForGuestAsset"), 1}];
LABEL_20:
    v13 = v8;
    if (!v8)
    {
      goto LABEL_22;
    }

    goto LABEL_21;
  }

  v9 = [MEMORY[0x1E69C1520] internalPredicateToFilterAssetsEligibleForSyndication];
  v10 = [MEMORY[0x1E696AE18] predicateWithFormat:@"mediaAnalysisAttributes.syndicationProcessingValue = %d", 256];
  v11 = MEMORY[0x1E696AB28];
  v18[0] = v9;
  v18[1] = v10;
  v12 = [MEMORY[0x1E695DEC8] arrayWithObjects:v18 count:2];
  v13 = [v11 andPredicateWithSubpredicates:v12];

  if (v13)
  {
LABEL_21:
    [v2 setInternalPredicate:v13];
  }

LABEL_22:
  v14 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v2];

  return v14;
}

id PXContentSyndicationProcessingValuesReviewFetchResultForPhotoLibrary(void *a1)
{
  v17[3] = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v14 = [MEMORY[0x1E696AAA8] currentHandler];
    v15 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationProcessingValuesReviewFetchResultForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v14 handleFailureInFunction:v15 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:266 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v2 = [v1 librarySpecificFetchOptions];
  [v2 setIncludeGuestAssets:1];
  v3 = _AssetSortDescriptorsSortedAscending(1);
  [v2 setInternalSortDescriptors:v3];

  v4 = *MEMORY[0x1E6978C90];
  v17[0] = *MEMORY[0x1E6978CF0];
  v17[1] = v4;
  v17[2] = *MEMORY[0x1E6978C20];
  v5 = [MEMORY[0x1E695DEC8] arrayWithObjects:v17 count:3];
  [v2 setFetchPropertySets:v5];

  v6 = +[PXContentSyndicationSettings sharedInstance];
  v7 = [v6 reviewProcessingValuesScope];

  v8 = [MEMORY[0x1E696AE18] predicateWithFormat:@"(%K & %i) != 0", @"mediaAnalysisAttributes.syndicationProcessingValue", v7];
  v9 = MEMORY[0x1E696AB28];
  v16 = v8;
  v10 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v16 count:1];
  v11 = [v9 andPredicateWithSubpredicates:v10];
  [v2 setInternalPredicate:v11];

  v12 = [MEMORY[0x1E6978630] fetchAssetsWithOptions:v2];

  return v12;
}

uint64_t PXContentSyndicationCollectionAndFetchResultForAsset(void *a1, void *a2, void *a3)
{
  v21[1] = *MEMORY[0x1E69E9840];
  v5 = a1;
  if (v5)
  {
    if (a2)
    {
      goto LABEL_3;
    }

LABEL_6:
    v17 = [MEMORY[0x1E696AAA8] currentHandler];
    v18 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXContentSyndicationCollectionAndFetchResultForAsset(PHAsset *__strong _Nonnull, PHAssetCollection * _Nonnull __autoreleasing * _Nonnull, PHFetchResult<PHAsset *> * _Nonnull __autoreleasing * _Nonnull)"}];
    [v17 handleFailureInFunction:v18 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:283 description:{@"Invalid parameter not satisfying: %@", @"assetCollection"}];

    if (a3)
    {
      goto LABEL_4;
    }

LABEL_7:
    v19 = [MEMORY[0x1E696AAA8] currentHandler];
    v20 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXContentSyndicationCollectionAndFetchResultForAsset(PHAsset *__strong _Nonnull, PHAssetCollection * _Nonnull __autoreleasing * _Nonnull, PHFetchResult<PHAsset *> * _Nonnull __autoreleasing * _Nonnull)"}];
    [v19 handleFailureInFunction:v20 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:284 description:{@"Invalid parameter not satisfying: %@", @"assetFetchResult"}];

    goto LABEL_4;
  }

  v15 = [MEMORY[0x1E696AAA8] currentHandler];
  v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXContentSyndicationCollectionAndFetchResultForAsset(PHAsset *__strong _Nonnull, PHAssetCollection * _Nonnull __autoreleasing * _Nonnull, PHFetchResult<PHAsset *> * _Nonnull __autoreleasing * _Nonnull)"}];
  [v15 handleFailureInFunction:v16 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:282 description:{@"Invalid parameter not satisfying: %@", @"asset"}];

  if (!a2)
  {
    goto LABEL_6;
  }

LABEL_3:
  if (!a3)
  {
    goto LABEL_7;
  }

LABEL_4:
  v6 = MEMORY[0x1E6978650];
  v21[0] = v5;
  v7 = [MEMORY[0x1E695DEC8] arrayWithObjects:v21 count:1];
  v8 = [v6 transientAssetCollectionWithAssets:v7 title:0];

  v9 = [v8 photoLibrary];
  v10 = [v9 librarySpecificFetchOptions];

  [v10 setIncludeGuestAssets:1];
  v11 = [MEMORY[0x1E6978630] fetchAssetsInAssetCollection:v8 options:v10];
  v12 = v8;
  *a2 = v8;
  v13 = v11;
  *a3 = v11;

  return 1;
}

PXPhotoKitAssetsDataSourceManager *PXContentSyndicationAssetsDataSourceManagerForAssetFetchResult(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager * _Nonnull PXContentSyndicationAssetsDataSourceManagerForAssetFetchResult(PHFetchResult<PHAsset *> *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:298 description:{@"Invalid parameter not satisfying: %@", @"assetFetchResult"}];
  }

  v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v1 options:0];
  v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  v4 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v3];

  return v4;
}

PXPhotoKitAssetsDataSourceManager *PXContentSyndicationAssetsDataSourceManagerForAssetCollectionFetchResult(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager * _Nonnull PXContentSyndicationAssetsDataSourceManagerForAssetCollectionFetchResult(PHFetchResult<PHAssetCollection *> *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7 file:@"PXContentSyndicationDataSourcePhotoKitUtilities.m" lineNumber:307 description:{@"Invalid parameter not satisfying: %@", @"assetCollectionFetchResult"}];
  }

  v2 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:v1 options:0];
  v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  v4 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v3];

  return v4;
}

void sub_1A501ABA8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A501B7F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getACCBakerDataVersion2SymbolLoc_block_invoke(uint64_t a1)
{
  v2 = ACCBakerLibrary();
  result = dlsym(v2, "ACCBakerDataVersion2");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getACCBakerDataVersion2SymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *ACCBakerLibrary()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!ACCBakerLibraryCore_frameworkLibrary)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __ACCBakerLibraryCore_block_invoke;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E77417E8;
    v6 = 0;
    ACCBakerLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  v0 = ACCBakerLibraryCore_frameworkLibrary;
  if (!ACCBakerLibraryCore_frameworkLibrary)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *ACCBakerLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXRetailExperienceManager.m" lineNumber:25 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

void *__getACCBakerCreateSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = ACCBakerLibrary();
  result = dlsym(v2, "ACCBakerCreate");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getACCBakerCreateSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __ACCBakerLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  ACCBakerLibraryCore_frameworkLibrary = result;
  return result;
}

uint64_t PXIsRetailExperienceManagerURL(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXIsRetailExperienceManagerURL(NSURL *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8 file:@"PXRetailExperienceManager.m" lineNumber:82 description:{@"Invalid parameter not satisfying: %@", @"url"}];
  }

  v2 = [objc_alloc(MEMORY[0x1E696AF20]) initWithURL:v1 resolvingAgainstBaseURL:0];
  v3 = [v2 host];
  v4 = 0;
  if ([v3 isEqualToString:@"www.icloud.com"])
  {
    v5 = [v2 path];
    v4 = [v5 hasPrefix:@"/tryphotos"];
  }

  return v4;
}

void sub_1A501D8AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__190001(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5023988(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, char a23, uint64_t a24, uint64_t a25, uint64_t a26, char a27, uint64_t a28, uint64_t a29, uint64_t a30, char a31)
{
  _Block_object_dispose(&a23, 8);
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose(&a31, 8);
  _Unwind_Resume(a1);
}

void sub_1A5025A84(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5027414(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, char a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, id location)
{
  objc_destroyWeak(&a60);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void px_perform_after_ca_commit(void *a1)
{
  v1 = a1;
  v2 = [off_1E7721858 sharedScheduler];
  v4[0] = MEMORY[0x1E69E9820];
  v4[1] = 3221225472;
  v4[2] = __px_perform_after_ca_commit_block_invoke;
  v4[3] = &unk_1E774C250;
  v5 = v1;
  v3 = v1;
  [v2 scheduleTaskAfterCATransactionCommits:v4];
}

void sub_1A5028B4C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__190948(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5029008(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  v10 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  v13 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

id PXForYouLastExitedDate()
{
  v0 = _LastExitedDateValueAccessor();
  v1 = [v0 currentValue];

  return v1;
}

id _LastExitedDateValueAccessor()
{
  if (_LastExitedDateValueAccessor_predicate != -1)
  {
    dispatch_once(&_LastExitedDateValueAccessor_predicate, &__block_literal_global_191352);
  }

  v1 = _LastExitedDateValueAccessor_lastExitedDateAccessor;

  return v1;
}

void PXSetForYouLastExitedDate(void *a1)
{
  v1 = a1;
  v2 = _LastExitedDateValueAccessor();
  [v2 setCurrentValue:v1];
}

id PLSocialLayerHighlightProviderGetLog()
{
  if (PLSocialLayerHighlightProviderGetLog_predicate != -1)
  {
    dispatch_once(&PLSocialLayerHighlightProviderGetLog_predicate, &__block_literal_global_191537);
  }

  v1 = PLSocialLayerHighlightProviderGetLog_log;

  return v1;
}

void __PLSocialLayerHighlightProviderGetLog_block_invoke()
{
  v0 = os_log_create(*MEMORY[0x1E69BDDA0], "SocialLayerHighlightProvider");
  v1 = PLSocialLayerHighlightProviderGetLog_log;
  PLSocialLayerHighlightProviderGetLog_log = v0;
}

void sub_1A502CC88(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__191560(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t __Block_byref_object_copy__191937(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5030750(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__192296(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t PXAggregateMediaTypeForCounts(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (!a3)
  {
    return 0;
  }

  if (!a2 && a1 == a3)
  {
    return 1;
  }

  if (a2 == a3 && a1 == 0)
  {
    return 2;
  }

  else
  {
    return 0;
  }
}

void sub_1A5035208(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A503724C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A5039BD0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A503B2B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, id a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, id a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, id a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, id a41)
{
  objc_destroyWeak((v42 + 32));
  objc_destroyWeak((v41 + 32));
  objc_destroyWeak(&a26);
  objc_destroyWeak(&a31);
  objc_destroyWeak(&a36);
  objc_destroyWeak(&a41);
  objc_destroyWeak((v43 - 184));
  _Unwind_Resume(a1);
}

void sub_1A503E008(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A503EF20(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A503F27C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A503F95C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, char a23)
{
  objc_destroyWeak((v23 + 48));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__194246(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A503FCFC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, char a23)
{
  objc_destroyWeak((v23 + 48));
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1A5042048(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, char a27)
{
  _Block_object_dispose((v27 - 144), 8);
  _Block_object_dispose(&a27, 8);
  _Unwind_Resume(a1);
}

void sub_1A5042454(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak((v17 + 56));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5042F64(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, id a37)
{
  objc_destroyWeak(&a37);
  objc_destroyWeak((v37 - 200));
  _Unwind_Resume(a1);
}

void sub_1A5044CC4(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 160), 8);
  _Block_object_dispose((v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1A5045358(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 192), 8);
  _Block_object_dispose((v1 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1A504A5D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, char a26)
{
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose((v26 - 136), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__195061(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A504BECC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A504E3A4(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void PXCollectAssetCollectionsInCollections(void *a1, void *a2)
{
  v16 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v11 = 0u;
  v12 = 0u;
  v13 = 0u;
  v14 = 0u;
  v5 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
  if (v5)
  {
    v6 = v5;
    v7 = *v12;
    do
    {
      v8 = 0;
      do
      {
        if (*v12 != v7)
        {
          objc_enumerationMutation(v3);
        }

        v9 = *(*(&v11 + 1) + 8 * v8);
        objc_opt_class();
        if (objc_opt_isKindOfClass())
        {
          [v4 addObject:v9];
        }

        else
        {
          objc_opt_class();
          if (objc_opt_isKindOfClass())
          {
            v10 = [MEMORY[0x1E6978758] fetchCollectionsInCollectionList:v9 options:0];
            PXCollectAssetCollectionsInCollections(v10, v4);
          }
        }

        ++v8;
      }

      while (v6 != v8);
      v6 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
    }

    while (v6);
  }
}

id PXStringForOSType(unsigned int a1)
{
  v4 = *MEMORY[0x1E69E9840];
  v3[0] = HIBYTE(a1);
  v3[1] = BYTE2(a1);
  v3[2] = BYTE1(a1);
  v3[3] = a1;
  v1 = [MEMORY[0x1E696AEC0] stringWithCharacters:v3 length:4];

  return v1;
}

void sub_1A505714C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5057424(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A505A658(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, char a28, uint64_t a29, uint64_t a30, uint64_t a31, char a32, uint64_t a33, uint64_t a34, uint64_t a35, char a36, uint64_t a37, uint64_t a38, uint64_t a39, char a40)
{
  _Block_object_dispose(&a28, 8);
  _Block_object_dispose(&a32, 8);
  _Block_object_dispose(&a36, 8);
  _Block_object_dispose(&a40, 8);
  _Block_object_dispose((v40 - 216), 8);
  _Block_object_dispose((v40 - 184), 8);
  _Unwind_Resume(a1);
}

void sub_1A505ADA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

double SumDurations(CMTime *a1, uint64_t a2, uint64_t a3)
{
  v5 = MEMORY[0x1E6960CC0];
  v6 = *MEMORY[0x1E6960CC0];
  *&a1->value = *MEMORY[0x1E6960CC0];
  v7 = *(v5 + 16);
  a1->epoch = v7;
  *&a1[1].value = v6;
  a1[1].epoch = v7;
  *&a1[2].value = v6;
  a1[2].epoch = v7;
  if (a2 != a3)
  {
    v15 = v3;
    v16 = v4;
    v9 = a2;
    do
    {
      lhs = a1[2];
      rhs = *(v9 + 48);
      CMTimeAdd(a1 + 2, &lhs, &rhs);
      rhs = a1[1];
      v12 = *(v9 + 24);
      CMTimeAdd(&lhs, &rhs, &v12);
      a1[1] = lhs;
      rhs = *a1;
      v12 = *v9;
      CMTimeAdd(&lhs, &rhs, &v12);
      *&v6 = lhs.value;
      *a1 = lhs;
      v9 += 72;
    }

    while (v9 != a3);
  }

  return *&v6;
}

void *std::vector<PFStoryDurationInfo>::__assign_with_size[abi:ne200100]<PFStoryDurationInfo*,PFStoryDurationInfo*>(void *result, char *__src, char *a3, unint64_t a4)
{
  v6 = result;
  v7 = result[2];
  v8 = *result;
  if (0x8E38E38E38E38E39 * ((v7 - *result) >> 3) < a4)
  {
    if (v8)
    {
      result[1] = v8;
      operator delete(v8);
      v7 = 0;
      *v6 = 0;
      v6[1] = 0;
      v6[2] = 0;
    }

    if (a4 <= 0x38E38E38E38E38ELL)
    {
      v9 = 0x8E38E38E38E38E39 * (v7 >> 3);
      v10 = 2 * v9;
      if (2 * v9 <= a4)
      {
        v10 = a4;
      }

      if (v9 >= 0x1C71C71C71C71C7)
      {
        v11 = 0x38E38E38E38E38ELL;
      }

      else
      {
        v11 = v10;
      }

      if (v11 <= 0x38E38E38E38E38ELL)
      {
        std::__allocate_at_least[abi:ne200100]<std::allocator<PFStoryDurationInfo>>(v11);
      }
    }

    std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne200100]();
  }

  v12 = result[1];
  v13 = v12 - v8;
  if (0x8E38E38E38E38E39 * ((v12 - v8) >> 3) >= a4)
  {
    v16 = a3 - __src;
    if (v16)
    {
      result = memmove(*result, __src, v16);
    }

    v15 = &v8[v16];
  }

  else
  {
    v14 = &__src[v13];
    if (v12 != v8)
    {
      result = memmove(*result, __src, v13);
      v12 = v6[1];
    }

    if (a3 != v14)
    {
      result = memmove(v12, v14, a3 - v14);
    }

    v15 = &v12[a3 - v14];
  }

  v6[1] = v15;
  return result;
}

void std::__allocate_at_least[abi:ne200100]<std::allocator<PFStoryDurationInfo>>(unint64_t a1)
{
  if (a1 < 0x38E38E38E38E38FLL)
  {
    operator new();
  }

  std::__throw_bad_array_new_length[abi:ne200100]();
}

void sub_1A506283C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXVKCreateImageAnalysisInteraction(char a1)
{
  v2 = objc_alloc_init(MEMORY[0x1E69DF9E8]);
  v3 = v2;
  if ((a1 & 1) == 0)
  {
    [v2 setWantsAutomaticContentsRectCalculation:0];
  }

  if (_os_feature_enabled_impl())
  {
    [v3 setActionInfoViewHidden:0];
  }

  return v3;
}

void *PXVKCanCallScrollViewDidZoomToUnitRectForInteraction(void *a1, const char *a2)
{
  if (a1)
  {
    return [a1 actionInfoViewHidden];
  }

  return a1;
}

void PXHUDCenterViewInSuperview(void *a1)
{
  v1 = a1;
  v2 = [v1 centerXAnchor];
  v3 = [v1 superview];
  v4 = [v3 centerXAnchor];
  v5 = [v2 constraintEqualToAnchor:v4];
  [v5 setActive:1];

  v6 = [v1 centerYAnchor];
  v7 = [v1 superview];
  v8 = [v7 centerYAnchor];
  v9 = [v6 constraintEqualToAnchor:v8];
  [v9 setActive:1];

  v10 = [v1 widthAnchor];
  v11 = [v1 superview];
  v12 = [v11 widthAnchor];
  v13 = [v10 constraintEqualToAnchor:v12];
  [v13 setActive:1];

  v17 = [v1 heightAnchor];
  v14 = [v1 superview];

  v15 = [v14 heightAnchor];
  v16 = [v17 constraintEqualToAnchor:v15];
  [v16 setActive:1];
}

void sub_1A50653A0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50663A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void getICQCurrentPremiumOfferChangedNotification()
{
  v6 = 0;
  v7 = &v6;
  v8 = 0x2020000000;
  v0 = getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr;
  v9 = getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr;
  if (!getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr)
  {
    v1 = iCloudQuotaLibrary_199001();
    v7[3] = dlsym(v1, "ICQCurrentPremiumOfferChangedNotification");
    getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr = v7[3];
    v0 = v7[3];
  }

  _Block_object_dispose(&v6, 8);
  if (v0)
  {
    v2 = *v0;

    v3 = v2;
  }

  else
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *getICQCurrentPremiumOfferChangedNotification(void)"];
    [v4 handleFailureInFunction:v5 file:@"PXCloudQuotaPremiumOfferProvider.m" lineNumber:34 description:{@"%s", dlerror()}];

    __break(1u);
  }
}

void sub_1A5067A5C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQCurrentPremiumOfferChangedNotificationSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = iCloudQuotaLibrary_199001();
  result = dlsym(v2, "ICQCurrentPremiumOfferChangedNotification");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *iCloudQuotaLibrary_199001()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!iCloudQuotaLibraryCore_frameworkLibrary_199011)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __iCloudQuotaLibraryCore_block_invoke_199012;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E77432C0;
    v6 = 0;
    iCloudQuotaLibraryCore_frameworkLibrary_199011 = _sl_dlopen();
  }

  v0 = iCloudQuotaLibraryCore_frameworkLibrary_199011;
  if (!iCloudQuotaLibraryCore_frameworkLibrary_199011)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *iCloudQuotaLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXCloudQuotaPremiumOfferProvider.m" lineNumber:29 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

uint64_t __iCloudQuotaLibraryCore_block_invoke_199012()
{
  result = _sl_dlopen();
  iCloudQuotaLibraryCore_frameworkLibrary_199011 = result;
  return result;
}

id getICQTileViewClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getICQTileViewClass_softClass_199024;
  v7 = getICQTileViewClass_softClass_199024;
  if (!getICQTileViewClass_softClass_199024)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getICQTileViewClass_block_invoke_199025;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getICQTileViewClass_block_invoke_199025(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A5067D7C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id getICQOfferManagerClass_199016()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getICQOfferManagerClass_softClass_199017;
  v7 = getICQOfferManagerClass_softClass_199017;
  if (!getICQOfferManagerClass_softClass_199017)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getICQOfferManagerClass_block_invoke_199018;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getICQOfferManagerClass_block_invoke_199018(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A5067E5C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getICQOfferManagerClass_block_invoke_199018(uint64_t a1)
{
  iCloudQuotaLibrary_199001();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("ICQOfferManager");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getICQOfferManagerClass_softClass_199017 = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getICQOfferManagerClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXCloudQuotaPremiumOfferProvider.m" lineNumber:32 description:{@"Unable to find class %s", "ICQOfferManager"}];

    __break(1u);
  }
}

Class __getICQTileViewClass_block_invoke_199025(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_199026)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __iCloudQuotaUILibraryCore_block_invoke_199027;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E77432A8;
    v8 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_199026 = _sl_dlopen();
  }

  if (!iCloudQuotaUILibraryCore_frameworkLibrary_199026)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXCloudQuotaPremiumOfferProvider.m" lineNumber:28 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("ICQTileView");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getICQTileViewClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXCloudQuotaPremiumOfferProvider.m" lineNumber:31 description:{@"Unable to find class %s", "ICQTileView"}];

LABEL_10:
    __break(1u);
  }

  getICQTileViewClass_softClass_199024 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_199027()
{
  result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_199026 = result;
  return result;
}

void sub_1A50682F8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5068A38(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak((v17 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5068FA4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__199116(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A506D150(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A506EDD0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, char a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((v29 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1A506F2C8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A506F624(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v9 - 64), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__200158(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5072A8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, char a35)
{
  _Block_object_dispose(&a35, 8);
  _Block_object_dispose((v35 - 208), 8);
  _Block_object_dispose((v35 - 176), 8);
  _Unwind_Resume(a1);
}

void sub_1A5073580(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, char a37)
{
  _Block_object_dispose(&a37, 8);
  _Block_object_dispose((v37 - 224), 8);
  _Block_object_dispose((v37 - 192), 8);
  _Block_object_dispose((v37 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1A5075C58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50760A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

PXProgrammaticNavigationDestination *PXLemonadeReroutedProgrammaticDestination(void *a1)
{
  v1 = a1;
  v2 = [(PXProgrammaticNavigationDestination *)v1 asset];
  v3 = [(PXProgrammaticNavigationDestination *)v1 collection];
  v4 = [v3 px_isRecentsSmartAlbum];

  v5 = v1;
  if (v4)
  {
    v6 = [(PXProgrammaticNavigationDestination *)v1 asset];
    if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
    {
      v7 = v6;
    }

    else
    {
      v7 = 0;
    }

    if ([v7 isScreenRecording] && (objc_msgSend(off_1E7721948, "standardUserDefaults"), v8 = objc_claimAutoreleasedReturnValue(), objc_msgSend(v8, "includeScreenshots"), v9 = objc_claimAutoreleasedReturnValue(), v10 = objc_msgSend(v9, "BOOLValue"), v9, v8, (v10 & 1) == 0))
    {
      v13 = [v7 photoLibrary];
      v11 = [v13 px_assetCollectionForSmartAlbumWithSubtype:220];

      v12 = 7;
    }

    else
    {
      v11 = 0;
      v12 = 5;
    }

    v5 = [[PXProgrammaticNavigationDestination alloc] initWithType:v12 revealMode:[(PXProgrammaticNavigationDestination *)v1 revealMode] asset:v2 assetCollection:v11];
  }

  return v5;
}

__CFString *PXVideoLoadingPriorityDescription(unint64_t a1)
{
  if (a1 > 6)
  {
    return @"??";
  }

  else
  {
    return off_1E7743848[a1];
  }
}

void PXStoryMediaSizeForDisplayAssetClipInfo(uint64_t a1)
{
  if ((*(a1 + 8) | 4) == 5)
  {
    if (*(a1 + 160) == INFINITY && *(a1 + 168) == INFINITY)
    {
      v1 = *(a1 + 208);
      v2 = *(a1 + 216);
      v3 = *(a1 + 224);
      v4 = *(a1 + 232);
      v13 = *(a1 + 248);
      v14 = *(a1 + 240);
      v11 = *(a1 + 264);
      v12 = *(a1 + 256);
      v9 = *(a1 + 280);
      v10 = *(a1 + 272);
      v7 = *(a1 + 296);
      v8 = *(a1 + 288);
      v18.origin.x = INFINITY;
      v18.size.width = 0.0;
      v18.size.height = 0.0;
      v18.origin.y = INFINITY;
      if (CGRectEqualToRect(*(a1 + 176), v18))
      {
        v19.origin.x = INFINITY;
        v19.size.width = 0.0;
        v19.size.height = 0.0;
        v15.origin.x = v1;
        v15.origin.y = v2;
        v15.size.width = v3;
        v15.size.height = v4;
        v19.origin.y = INFINITY;
        if (CGRectEqualToRect(v15, v19))
        {
          v20.origin.x = INFINITY;
          v20.size.width = 0.0;
          v20.size.height = 0.0;
          v16.origin.y = v13;
          v16.origin.x = v14;
          v16.size.height = v11;
          v16.size.width = v12;
          v20.origin.y = INFINITY;
          if (CGRectEqualToRect(v16, v20))
          {
            v21.origin.x = INFINITY;
            v21.size.width = 0.0;
            v21.size.height = 0.0;
            v17.origin.y = v9;
            v17.origin.x = v10;
            v17.size.height = v7;
            v17.size.width = v8;
            v21.origin.y = INFINITY;
            if (CGRectEqualToRect(v17, v21))
            {
              PXSizeScale();
            }
          }
        }
      }
    }

    PXRectWithOriginAndSize();
  }

  v5 = [MEMORY[0x1E696AAA8] currentHandler];
  v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"CGSize PXStoryMediaSizeForDisplayAssetClipInfo(PXStoryClipInfo, CGFloat)"}];
  [v5 handleFailureInFunction:v6 file:@"PXStoryClipGeometryUtilities.m" lineNumber:45 description:@"Only clips with PXStoryResourceKindDisplayAsset and PXStoryResourceKindFrameFillingEffect resource kinds are supported"];

  abort();
}

void sub_1A507BC28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, char a31, uint64_t a32, uint64_t a33, uint64_t a34, char a35)
{
  _Block_object_dispose(&a31, 8);
  _Block_object_dispose(&a35, 8);
  _Block_object_dispose((v35 - 208), 8);
  _Block_object_dispose((v35 - 176), 8);
  _Block_object_dispose((v35 - 144), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__200809(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A507CE04(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 120));
  _Unwind_Resume(a1);
}

void sub_1A507E844(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A507EAC4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__201091(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A507FD8C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, char a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29)
{
  objc_destroyWeak(&a17);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a29, 8);
  _Unwind_Resume(a1);
}

void sub_1A5081D98(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5082C9C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 96));
  _Unwind_Resume(a1);
}

void sub_1A5088E38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__203133(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A508B598(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A508BD0C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *verifiedTypeToString(uint64_t a1)
{
  if ((a1 + 2) > 4)
  {
    return @"Unknown";
  }

  else
  {
    return off_1E7743D70[a1 + 2];
  }
}

__CFString *PXStoryColorResultTypeDescription(unint64_t a1)
{
  if (a1 > 2)
  {
    return @"??";
  }

  else
  {
    return off_1E7743E68[a1];
  }
}

void sub_1A508FCD0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5090C5C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__204208(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5099158(_Unwind_Exception *a1)
{
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v6 + 32));
  objc_destroyWeak((v5 + 32));
  objc_destroyWeak((v4 + 32));
  objc_destroyWeak((v3 + 32));
  objc_destroyWeak((v7 - 216));
  objc_destroyWeak((v7 - 176));
  objc_destroyWeak((v7 - 168));
  _Unwind_Resume(a1);
}

void sub_1A509B2D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__205182(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A509E2F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, char a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, char a63)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a63, 8);
  _Block_object_dispose(&a69, 8);
  _Block_object_dispose(&STACK[0x210], 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__205867(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A509EE7C(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 144), 8);
  _Block_object_dispose((v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1A50A1CD4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void ___predicateByStrippingNoIndex_block_invoke()
{
  v5 = 0;
  v0 = [MEMORY[0x1E696AE70] regularExpressionWithPattern:@"noindex:\\((.*?)\\)" options:0 error:&v5];
  v1 = v5;
  v2 = _predicateByStrippingNoIndex_regexp;
  _predicateByStrippingNoIndex_regexp = v0;

  if (!_predicateByStrippingNoIndex_regexp)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSPredicate *_predicateByStrippingNoIndex(NSPredicate *__strong)_block_invoke"];
    [v3 handleFailureInFunction:v4 file:@"PXPhotosDataSource.m" lineNumber:114 description:{@"Error creating regexp:%@", v1}];
  }
}

void sub_1A50A5C88(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, char a22, uint64_t a23, uint64_t a24, uint64_t a25, char a26)
{
  _Block_object_dispose(&a22, 8);
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose((v26 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1A50AAA0C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, char a61, uint64_t a62, uint64_t a63)
{
  _Block_object_dispose(&a61, 8);
  _Block_object_dispose(&a67, 8);
  _Block_object_dispose(&STACK[0x200], 8);
  _Block_object_dispose(&STACK[0x230], 8);
  _Block_object_dispose(&STACK[0x260], 8);
  _Block_object_dispose(&STACK[0x290], 8);
  _Block_object_dispose(&STACK[0x2C0], 8);
  _Block_object_dispose(&STACK[0x2E0], 8);
  _Block_object_dispose(&STACK[0x310], 8);
  _Block_object_dispose(&STACK[0x340], 8);
  _Unwind_Resume(a1);
}

void sub_1A50ACADC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, char a32, uint64_t a33, uint64_t a34, uint64_t a35, char a36)
{
  _Block_object_dispose(&a32, 8);
  _Block_object_dispose(&a36, 8);
  _Unwind_Resume(a1);
}

void sub_1A50B0618(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50B08E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50B42F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__207615(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A50B45F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50B49F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50B4E1C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__207651(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A50B79C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, id location, char a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, char a57, uint64_t a58, uint64_t a59, uint64_t a60, char a61)
{
  objc_destroyWeak(&location);
  _Block_object_dispose(&a51, 8);
  _Block_object_dispose(&a57, 8);
  _Block_object_dispose(&a61, 8);
  _Block_object_dispose((v61 - 240), 8);
  _Block_object_dispose((v61 - 184), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__208106(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A50B80F8(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 72));
  objc_destroyWeak((v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1A50B852C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  _Block_object_dispose((v2 - 136), 8);
  objc_destroyWeak((v2 - 104));
  _Unwind_Resume(a1);
}

void sub_1A50B883C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50B972C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, char a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  _Block_object_dispose(&a58, 8);
  _Block_object_dispose(&a64, 8);
  _Block_object_dispose((v64 - 248), 8);
  _Block_object_dispose((v64 - 200), 8);
  _Unwind_Resume(a1);
}

void sub_1A50BA79C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 64));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A50BB5D4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50BBBB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXSharedLibraryDateConditionForSelectedStartDate(void *a1)
{
  v1 = MEMORY[0x1E695DF10];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  [v3 setDay:-1];
  v4 = [MEMORY[0x1E695DEE8] currentCalendar];
  v5 = [v4 dateByAddingComponents:v3 toDate:v2 options:0];

  v6 = objc_alloc_init(MEMORY[0x1E69788B0]);
  [v6 setCriteria:2];
  v7 = [MEMORY[0x1E695DF00] distantPast];
  [v6 setStartDate:v7];

  [v6 setEndDate:v5];

  return v6;
}

id PXSharedLibraryStartDateFromExclusiveCondition(void *a1)
{
  v1 = MEMORY[0x1E695DF10];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  [v3 setDay:1];
  v4 = [v2 endDate];

  v5 = [MEMORY[0x1E695DEE8] currentCalendar];
  v6 = [v5 dateByAddingComponents:v3 toDate:v4 options:0];

  return v6;
}

id PXSharedLibraryPersonConditionForSelectedPeople(void *a1)
{
  v1 = MEMORY[0x1E69788B8];
  v2 = a1;
  v3 = objc_alloc_init(v1);
  [v3 setCriteria:1];
  [v3 setPersonUUIDs:v2];

  return v3;
}

void PXSharedLibrarySetupLibraryScope(void *a1, void *a2, void *a3, __int16 a4, void *a5, void *a6, void *a7, void *a8, void *a9)
{
  v16 = a1;
  v17 = a2;
  v18 = a3;
  v57 = a5;
  v62 = a6;
  v19 = a7;
  v20 = a8;
  v21 = a9;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v59 = v16;
  if (v16)
  {
    if (v17)
    {
      goto LABEL_3;
    }

LABEL_23:
    v48 = [MEMORY[0x1E696AAA8] currentHandler];
    v49 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v48 handleFailureInFunction:v49 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:540 description:{@"Invalid parameter not satisfying: %@", @"emailAddresses"}];

    if (v18)
    {
      goto LABEL_4;
    }

    goto LABEL_24;
  }

  v46 = [MEMORY[0x1E696AAA8] currentHandler];
  v47 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
  [v46 handleFailureInFunction:v47 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:539 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

  if (!v17)
  {
    goto LABEL_23;
  }

LABEL_3:
  if (v18)
  {
    goto LABEL_4;
  }

LABEL_24:
  v50 = [MEMORY[0x1E696AAA8] currentHandler];
  v51 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
  [v50 handleFailureInFunction:v51 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:541 description:{@"Invalid parameter not satisfying: %@", @"phoneNumbers"}];

LABEL_4:
  if (!v62)
  {
    v52 = [MEMORY[0x1E696AAA8] currentHandler];
    v53 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v52 handleFailureInFunction:v53 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:542 description:{@"Invalid parameter not satisfying: %@", @"personUUIDs"}];
  }

  v60 = v17;
  if (!v20)
  {
    v54 = [MEMORY[0x1E696AAA8] currentHandler];
    v55 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v54 handleFailureInFunction:v55 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:543 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];
  }

  v94 = 0;
  v95 = &v94;
  v96 = 0x3032000000;
  v97 = __Block_byref_object_copy__208724;
  v98 = __Block_byref_object_dispose__208725;
  v99 = 0;
  v92[0] = 0;
  v92[1] = v92;
  v92[2] = 0x2020000000;
  v93 = 0;
  v58 = v18;
  v61 = v21;
  if (v19)
  {
LABEL_11:
    v28 = a4;
    v86[0] = MEMORY[0x1E69E9820];
    v86[1] = 3221225472;
    v86[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_237;
    v86[3] = &unk_1E7744C80;
    v56 = v19;
    v29 = v19;
    v87 = v29;
    v30 = v21;
    v88 = v30;
    v31 = _Block_copy(v86);
    v83[0] = MEMORY[0x1E69E9820];
    v83[1] = 3221225472;
    v83[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_242;
    v83[3] = &unk_1E7744CA8;
    v85 = &v94;
    v84 = v20;
    v32 = _Block_copy(v83);
    v33 = +[PXSharedLibrarySettings sharedInstance];
    v34 = [v33 simulateErrorType];

    if (v34 == 1)
    {
      v35 = dispatch_time(0, 5000000000);
      v79[0] = MEMORY[0x1E69E9820];
      v79[1] = 3221225472;
      v79[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_3;
      v79[3] = &unk_1E7744CD0;
      v82[1] = v92;
      v36 = &v80;
      v80 = v29;
      v37 = &v81;
      v81 = v32;
      v38 = v82;
      v82[0] = v30;
      v39 = MEMORY[0x1E69E96A0];
      v40 = v79;
    }

    else
    {
      v41 = +[PXSharedLibrarySettings sharedInstance];
      v42 = [v41 simulateErrorType];

      if (v42 != 2)
      {
        v63[0] = MEMORY[0x1E69E9820];
        v63[1] = 3221225472;
        v63[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_2_254;
        v63[3] = &unk_1E7744DC0;
        v73 = v92;
        v64 = v29;
        v70 = v31;
        v71 = v32;
        v72 = v30;
        v74 = v28;
        v65 = v59;
        v66 = v57;
        v67 = v62;
        v68 = v17;
        v69 = v18;
        _CreateLibraryScope(v65, v68, v69, v63);
        v36 = &v64;
        v37 = &v70;
        v38 = &v71;

        v39 = v72;
        goto LABEL_17;
      }

      v35 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_2_249;
      block[3] = &unk_1E7744CD0;
      v78[1] = v92;
      v36 = &v76;
      v76 = v29;
      v37 = &v77;
      v77 = v32;
      v38 = v78;
      v78[0] = v30;
      v39 = MEMORY[0x1E69E96A0];
      v40 = block;
    }

    dispatch_after(v35, v39, v40);
LABEL_17:
    v43 = &v87;

    v24 = v88;
    v17 = v60;
    v22 = v56;
    goto LABEL_18;
  }

  v22 = 0;
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibrarySetupLibraryScope_block_invoke;
  aBlock[3] = &unk_1E77463F8;
  v91[1] = v92;
  v23 = v21;
  v91[0] = v23;
  v24 = _Block_copy(aBlock);
  v25 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPublishingProgressTitle");
  v26 = PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(v25, 0, v20, v24);
  v27 = v95[5];
  v95[5] = v26;

  if (v95[5])
  {

    v19 = 0;
    v21 = v61;
    goto LABEL_11;
  }

  v44 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v44, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v44, OS_LOG_TYPE_ERROR, "Failed to present Create Shared Library progress alert", buf, 2u);
  }

  v45 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"Failed to present Create Shared Library progress alert"];
  _HandleError(v45, v23);
  v43 = v91;

LABEL_18:
  _Block_object_dispose(v92, 8);
  _Block_object_dispose(&v94, 8);
}

void sub_1A50BE0F0(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 184), 8);
  _Block_object_dispose((v1 - 152), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__208724(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void __PXSharedLibrarySetupLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Create Shared Library", v4, 2u);
  }

  *(*(*(a1 + 40) + 8) + 24) = 1;
  v3 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Create Shared Library");
  _HandleError(v3, *(a1 + 32));
}

void _HandleError(void *a1, void *a2)
{
  v4 = a1;
  v3 = a2;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (v3)
  {
    v3[2](v3, 0, v4);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_237(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  if (v3)
  {
    _ExpungeLibraryScope(v3, 0);
  }

  if ([*(a1 + 32) isCancelled])
  {
    dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
    v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
    {
      *v7 = 0;
      _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v7, 2u);
    }

    v6 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
    _HandleError(v6, *(a1 + 40));
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_242(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  v5 = *(*(*(a1 + 40) + 8) + 40);
  if (v5)
  {
    v6 = *(a1 + 32);
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_2;
    v7[3] = &unk_1E774C250;
    v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }

  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_3(uint64_t a1)
{
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0 && ([*(a1 + 32) isCancelled] & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Create Shared Library Failed", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Create Shared Library Failed"];
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_248;
    v7[3] = &unk_1E774C2F0;
    v8 = v3;
    v4 = *(a1 + 40);
    v9 = *(a1 + 48);
    v5 = *(v4 + 16);
    v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_2_249(uint64_t a1)
{
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0 && ([*(a1 + 32) isCancelled] & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Create Shared Library Failed (CPLExitMode)", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:6007 debugDescription:@"Simulated Error: Create Shared Library Failed (CPLExitMode)"];
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_253;
    v7[3] = &unk_1E774C2F0;
    v8 = v3;
    v4 = *(a1 + 40);
    v9 = *(a1 + 48);
    v5 = *(v4 + 16);
    v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_2_254(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 104) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 80) + 16))();
  }

  else
  {
    if (v5)
    {
      v19 = *(a1 + 112);
      v17 = *(a1 + 48);
      v18 = *(a1 + 40);
      v7 = *(a1 + 56);
      v8 = *(a1 + 64);
      v9 = *(a1 + 72);
      v20[0] = MEMORY[0x1E69E9820];
      v20[1] = 3221225472;
      v20[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_4;
      v20[3] = &unk_1E7744D98;
      v10 = *(a1 + 104);
      v21 = *(a1 + 32);
      v11 = *(a1 + 80);
      v22 = v5;
      v12 = *(a1 + 88);
      *&v13 = *(a1 + 96);
      *(&v13 + 1) = v10;
      *&v14 = v11;
      *(&v14 + 1) = v12;
      v23 = v14;
      v24 = v13;
      v25 = *(a1 + 112);
      _UpdateRulesForLibraryScope(v22, v19, v18, v17, v7, v8, v9, v20);

      v15 = v21;
    }

    else
    {
      v16 = *(a1 + 88);
      v26[0] = MEMORY[0x1E69E9820];
      v26[1] = 3221225472;
      v26[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_3_255;
      v26[3] = &unk_1E774C2F0;
      v27 = v6;
      v28 = *(a1 + 96);
      (*(v16 + 16))(v16, v26);

      v15 = v27;
    }
  }
}

void _CreateLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  v38 = *MEMORY[0x1E69E9840];
  v7 = a1;
  v8 = a2;
  v9 = a3;
  v10 = a4;
  v11 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
  {
    v12 = [v8 count];
    v13 = [v8 componentsJoinedByString:{@", "}];
    v14 = [v9 count];
    v15 = [v9 componentsJoinedByString:{@", "}];
    *buf = 134218754;
    *&buf[4] = v12;
    *&buf[12] = 2112;
    *&buf[14] = v13;
    *&buf[22] = 2048;
    v36 = v14;
    LOWORD(v37) = 2112;
    *(&v37 + 2) = v15;
    _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_DEFAULT, "Will create library scope with %lu email addresses: %@, %lu phone numbers: %@", buf, 0x2Au);
  }

  v16 = PLSharedLibraryGetLog();
  v17 = os_signpost_id_generate(v16);
  v18 = v16;
  v19 = v18;
  if (v17 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v18))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v19, OS_SIGNPOST_INTERVAL_BEGIN, v17, "CreateLibraryScope", "", buf, 2u);
  }

  *buf = 0;
  *&buf[8] = buf;
  *&buf[16] = 0x3032000000;
  v36 = __Block_byref_object_copy__208724;
  *&v37 = __Block_byref_object_dispose__208725;
  *(&v37 + 1) = 0;
  v31[0] = MEMORY[0x1E69E9820];
  v31[1] = 3221225472;
  v31[2] = ___CreateLibraryScope_block_invoke;
  v31[3] = &unk_1E7746448;
  v34 = buf;
  v20 = v8;
  v32 = v20;
  v21 = v9;
  v33 = v21;
  v25[0] = MEMORY[0x1E69E9820];
  v25[1] = 3221225472;
  v25[2] = ___CreateLibraryScope_block_invoke_4;
  v25[3] = &unk_1E7745170;
  v22 = v19;
  v29 = buf;
  v30 = v17;
  v26 = v22;
  v23 = v7;
  v27 = v23;
  v24 = v10;
  v28 = v24;
  [v23 performChanges:v31 completionHandler:v25];

  _Block_object_dispose(buf, 8);
}

void sub_1A50BEBCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_4(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    if (a2)
    {
      v6 = *(a1 + 80);
      v17[0] = MEMORY[0x1E69E9820];
      v17[1] = 3221225472;
      v17[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_6;
      v17[3] = &unk_1E7744D20;
      v21 = *(a1 + 72);
      v7 = *(a1 + 40);
      v8 = *(a1 + 32);
      v9 = *(a1 + 48);
      v10 = *(a1 + 40);
      v11 = *(a1 + 56);
      *&v12 = v9;
      *(&v12 + 1) = v11;
      *&v13 = v8;
      *(&v13 + 1) = v10;
      v18 = v13;
      v19 = v12;
      v20 = *(a1 + 64);
      v14 = _MarkSharedAssetsForLibraryScopeIfNecessary(v7, v6, v17);
      if (v14)
      {
        [*(a1 + 32) setTotalUnitCount:{objc_msgSend(*(a1 + 32), "totalUnitCount") + 1}];
        [*(a1 + 32) addChild:v14 withPendingUnitCount:1];
      }

      v15 = v18;
    }

    else
    {
      v16 = *(a1 + 56);
      v22[0] = MEMORY[0x1E69E9820];
      v22[1] = 3221225472;
      v22[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_5;
      v22[3] = &unk_1E774A0E0;
      v23 = *(a1 + 40);
      v24 = v5;
      v25 = *(a1 + 64);
      (*(v16 + 16))(v16, v22);

      v15 = v23;
    }
  }
}

void _UpdateRulesForLibraryScope(void *a1, unsigned int a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8)
{
  v131 = *MEMORY[0x1E69E9840];
  v80 = a1;
  v14 = a3;
  v15 = a4;
  v16 = a5;
  v82 = a6;
  v17 = a7;
  v78 = a8;
  v18 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
  {
    v19 = _PHLibraryScopeAutoSharePolicyDescription(a2);
    v20 = [v16 componentsJoinedByString:{@", "}];
    v21 = [v80 localIdentifier];
    *buf = 138544130;
    v124 = v19;
    v125 = 2112;
    v126 = v15;
    v127 = 2114;
    v128 = v20;
    v129 = 2114;
    v130 = v21;
    _os_log_impl(&dword_1A3C1C000, v18, OS_LOG_TYPE_DEFAULT, "Will update rules (policy:%{public}@, date:%@, person uuids:(%{public}@)) for library scope with identifier: %{public}@", buf, 0x2Au);
  }

  v22 = PLSharedLibraryGetLog();
  v23 = os_signpost_id_generate(v22);
  v24 = v22;
  v25 = v24;
  if (v23 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v24))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v25, OS_SIGNPOST_INTERVAL_BEGIN, v23, "UpdateRulesForLibraryScope", "", buf, 2u);
  }

  v79 = v15;

  if (!v14 && ([v82 count] || objc_msgSend(v17, "count")))
  {
    v71 = [MEMORY[0x1E696AAA8] currentHandler];
    v72 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _UpdateRulesForLibraryScope(PHLibraryScope *__strong, PHLibraryScopeAutoSharePolicy, PHPhotoLibrary * _Nullable __strong, NSDate * _Nullable __strong, NSArray<NSString *> *__strong, NSArray<NSString *> *__strong, NSArray<NSString *> *__strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v71 handleFailureInFunction:v72 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:360 description:{@"Invalid parameter not satisfying: %@", @"personRuleEmailAddresses.count == 0 && personRulePhoneNumbers.count == 0"}];
  }

  v26 = v16;
  v27 = "MacSyncedAssetsNotificationListManager" + 32;
  v28 = v26;
  if (![v26 count])
  {
    v74 = v26;
    v75 = v23;
    v73 = v25;
    v76 = v14;
    v77 = v17;
    v29 = objc_alloc_init(MEMORY[0x1E695DF70]);
    v86 = objc_alloc_init(MEMORY[0x1E695DF70]);
    v85 = +[PXPeopleUtilities sharedContactStore];
    v30 = objc_alloc(MEMORY[0x1E695CD78]);
    v31 = *MEMORY[0x1E695C330];
    v122[0] = *MEMORY[0x1E695C208];
    v122[1] = v31;
    v122[2] = *MEMORY[0x1E695C410];
    v32 = [MEMORY[0x1E695DEC8] arrayWithObjects:v122 count:3];
    v33 = [v30 initWithKeysToFetch:v32];

    v114 = 0u;
    v115 = 0u;
    v112 = 0u;
    v113 = 0u;
    v34 = v82;
    v35 = [v34 countByEnumeratingWithState:&v112 objects:v121 count:16];
    v84 = v29;
    if (v35)
    {
      v36 = v35;
      v37 = *v113;
      do
      {
        for (i = 0; i != v36; ++i)
        {
          if (*v113 != v37)
          {
            objc_enumerationMutation(v34);
          }

          v39 = [MEMORY[0x1E695CD58] predicateForContactsMatchingEmailAddress:*(*(&v112 + 1) + 8 * i)];
          [v33 setPredicate:v39];

          v111 = 0;
          v108[0] = MEMORY[0x1E69E9820];
          v108[1] = 3221225472;
          v108[2] = ___UpdateRulesForLibraryScope_block_invoke;
          v108[3] = &unk_1E7745198;
          v109 = v29;
          v110 = v86;
          [v85 enumerateContactsWithFetchRequest:v33 error:&v111 usingBlock:v108];
          v40 = v111;
          if (v40)
          {
            v41 = PLSharedLibraryGetLog();
            if (os_log_type_enabled(v41, OS_LOG_TYPE_ERROR))
            {
              *buf = 138412290;
              v124 = v40;
              _os_log_impl(&dword_1A3C1C000, v41, OS_LOG_TYPE_ERROR, "Error fetching contacts:%@", buf, 0xCu);
            }

            v29 = v84;
          }
        }

        v36 = [v34 countByEnumeratingWithState:&v112 objects:v121 count:16];
      }

      while (v36);
    }

    v106 = 0u;
    v107 = 0u;
    v104 = 0u;
    v105 = 0u;
    v42 = v77;
    v43 = [v42 countByEnumeratingWithState:&v104 objects:v120 count:16];
    if (v43)
    {
      v44 = v43;
      v45 = *v105;
      do
      {
        for (j = 0; j != v44; ++j)
        {
          if (*v105 != v45)
          {
            objc_enumerationMutation(v42);
          }

          v47 = [objc_alloc(MEMORY[0x1E695CF50]) initWithStringValue:*(*(&v104 + 1) + 8 * j)];
          v48 = [MEMORY[0x1E695CD58] predicateForContactsMatchingPhoneNumber:v47];
          [v33 setPredicate:v48];

          v103 = 0;
          v100[0] = MEMORY[0x1E69E9820];
          v100[1] = 3221225472;
          v100[2] = ___UpdateRulesForLibraryScope_block_invoke_636;
          v100[3] = &unk_1E7745198;
          v101 = v84;
          v102 = v86;
          [v85 enumerateContactsWithFetchRequest:v33 error:&v103 usingBlock:v100];
          v49 = v103;
          if (v49)
          {
            v50 = PLSharedLibraryGetLog();
            if (os_log_type_enabled(v50, OS_LOG_TYPE_ERROR))
            {
              *buf = 138412290;
              v124 = v49;
              _os_log_impl(&dword_1A3C1C000, v50, OS_LOG_TYPE_ERROR, "Error fetching contacts:%@", buf, 0xCu);
            }
          }
        }

        v44 = [v42 countByEnumeratingWithState:&v104 objects:v120 count:16];
      }

      while (v44);
    }

    v26 = v74;
    v23 = v75;
    v28 = v74;
    if ([v84 count])
    {
      v51 = MEMORY[0x1E6978980];
      v52 = [v76 librarySpecificFetchOptions];
      v53 = [v51 fetchPersonsForContacts:v84 options:v52];

      v54 = v53;
      v55 = v86;
      v56 = objc_alloc_init(MEMORY[0x1E695DF90]);
      v116 = 0u;
      v117 = 0u;
      v118 = 0u;
      v119 = 0u;
      obj = v54;
      v57 = [obj countByEnumeratingWithState:&v116 objects:buf count:16];
      if (v57)
      {
        v58 = v57;
        v59 = *v117;
        do
        {
          for (k = 0; k != v58; ++k)
          {
            if (*v117 != v59)
            {
              objc_enumerationMutation(obj);
            }

            v61 = *(*(&v116 + 1) + 8 * k);
            v62 = MEMORY[0x1E696AD98];
            v63 = [v61 personUri];
            v64 = [v62 numberWithUnsignedInteger:{objc_msgSend(v55, "indexOfObject:", v63)}];
            [v56 setObject:v64 forKeyedSubscript:v61];
          }

          v58 = [obj countByEnumeratingWithState:&v116 objects:buf count:16];
        }

        while (v58);
      }

      [v56 keysSortedByValueUsingComparator:&__block_literal_global_644];
      objc_claimAutoreleasedReturnValue();

      PXMap();
    }

    v14 = v76;
    v17 = v77;
    v25 = v73;
    v27 = "anager";
  }

  v65 = [v80 photoLibrary];
  v92 = MEMORY[0x1E69E9820];
  v93 = *(v27 + 63);
  v94 = ___UpdateRulesForLibraryScope_block_invoke_2;
  v95 = &unk_1E77451E0;
  v99 = a2;
  v96 = v80;
  v97 = v79;
  v98 = v28;
  v87[0] = MEMORY[0x1E69E9820];
  v87[1] = v93;
  v87[2] = ___UpdateRulesForLibraryScope_block_invoke_3;
  v87[3] = &unk_1E7746F80;
  v88 = v25;
  v89 = v96;
  v91 = v23;
  v90 = v78;
  v66 = v79;
  v67 = v28;
  v68 = v25;
  v69 = v96;
  v70 = v78;
  [v65 performChanges:&v92 completionHandler:v87];
}

__CFString *_PHLibraryScopeAutoSharePolicyDescription(unsigned int a1)
{
  if (a1 >= 3)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"Invalid PHLibraryScopeAutoSharePolicy: %ld", a1];
  }

  else
  {
    v2 = off_1E77452C0[a1];
  }

  return v2;
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_5(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_6(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  v12[0] = MEMORY[0x1E69E9820];
  v12[1] = 3221225472;
  v12[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_7;
  v12[3] = &unk_1E7744D70;
  v6 = *(a1 + 72);
  v13 = *(a1 + 32);
  v7 = *(a1 + 48);
  v14 = *(a1 + 40);
  v18 = a2;
  v8 = *(a1 + 56);
  v15 = v5;
  *&v9 = *(a1 + 64);
  *(&v9 + 1) = v6;
  *&v10 = v7;
  *(&v10 + 1) = v8;
  v16 = v10;
  v17 = v9;
  v11 = v5;
  dispatch_async(MEMORY[0x1E69E96A0], v12);
}

id _MarkSharedAssetsForLibraryScopeIfNecessary(void *a1, unsigned int a2, void *a3)
{
  v29 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a3;
  v7 = PLSharedLibraryGetLog();
  v8 = os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT);
  if ((a2 - 1) > 1u)
  {
    if (v8)
    {
      v17 = [v5 localIdentifier];
      v18 = _PHLibraryScopeAutoSharePolicyDescription(a2);
      *buf = 138543618;
      v26 = v17;
      v27 = 2114;
      v28 = v18;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_DEFAULT, "No need to mark shared assets for library scope with identifier: %{public}@ (policy: %{public}@)", buf, 0x16u);
    }

    v6[2](v6, 1, 0);
    v16 = 0;
  }

  else
  {
    if (v8)
    {
      v9 = [v5 localIdentifier];
      v10 = _PHLibraryScopeAutoSharePolicyDescription(a2);
      *buf = 138543618;
      v26 = v9;
      v27 = 2114;
      v28 = v10;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_DEFAULT, "Will mark shared assets for library scope with identifier: %{public}@ (policy: %{public}@)", buf, 0x16u);
    }

    v11 = PLSharedLibraryGetLog();
    v12 = os_signpost_id_generate(v11);
    v13 = v11;
    v14 = v13;
    if (v12 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v13))
    {
      *buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v14, OS_SIGNPOST_INTERVAL_BEGIN, v12, "MarkSharedAssetsForLibraryScope", "", buf, 2u);
    }

    v20[0] = MEMORY[0x1E69E9820];
    v20[1] = 3221225472;
    v20[2] = ___MarkSharedAssetsForLibraryScopeIfNecessary_block_invoke;
    v20[3] = &unk_1E7746F80;
    v21 = v14;
    v24 = v12;
    v22 = v5;
    v23 = v6;
    v15 = v14;
    v16 = [v22 markOnboardingPreviewAssetsByProcessingRulesWithCompletion:v20];
  }

  return v16;
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_7(uint64_t a1)
{
  if ((*(*(*(a1 + 80) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    v2 = *(*(a1 + 56) + 16);

    v2();
  }

  else
  {
    if (*(a1 + 88))
    {
      v12[0] = MEMORY[0x1E69E9820];
      v12[1] = 3221225472;
      v12[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_9;
      v12[3] = &unk_1E7744D48;
      v16 = *(a1 + 80);
      v3 = *(a1 + 40);
      v4 = *(a1 + 32);
      v5 = *(a1 + 56);
      v6 = *(a1 + 40);
      v7 = *(a1 + 64);
      *&v8 = v5;
      *(&v8 + 1) = v7;
      *&v9 = v4;
      *(&v9 + 1) = v6;
      v13 = v9;
      v14 = v8;
      v15 = *(a1 + 72);
      _PublishLibraryScope(v3, v12);

      v10 = v13;
    }

    else
    {
      v11 = *(a1 + 64);
      v17[0] = MEMORY[0x1E69E9820];
      v17[1] = 3221225472;
      v17[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_8;
      v17[3] = &unk_1E774A0E0;
      v18 = *(a1 + 40);
      v19 = *(a1 + 48);
      v20 = *(a1 + 72);
      (*(v11 + 16))(v11, v17);

      v10 = v18;
    }
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_8(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_9(uint64_t a1, uint64_t a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    if (a2)
    {
      v16[0] = MEMORY[0x1E69E9820];
      v16[1] = 3221225472;
      v16[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_11;
      v16[3] = &unk_1E7744D20;
      v20 = *(a1 + 72);
      v6 = *(a1 + 40);
      v7 = *(a1 + 32);
      v8 = *(a1 + 48);
      v9 = *(a1 + 40);
      v10 = *(a1 + 56);
      *&v11 = v8;
      *(&v11 + 1) = v10;
      *&v12 = v7;
      *(&v12 + 1) = v9;
      v17 = v12;
      v18 = v11;
      v19 = *(a1 + 64);
      v13 = _ActivateLibraryScope(v6, v16);
      if (v13)
      {
        [*(a1 + 32) addChild:v13 withPendingUnitCount:1];
      }

      v14 = v17;
    }

    else
    {
      v15 = *(a1 + 56);
      v21[0] = MEMORY[0x1E69E9820];
      v21[1] = 3221225472;
      v21[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_10;
      v21[3] = &unk_1E774A0E0;
      v22 = *(a1 + 40);
      v23 = v5;
      v24 = *(a1 + 64);
      (*(v15 + 16))(v15, v21);

      v14 = v22;
    }
  }
}

void _PublishLibraryScope(void *a1, void *a2)
{
  v21 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    v6 = [v3 localIdentifier];
    *buf = 138543362;
    v20 = v6;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Will publish library scope with identifier: %{public}@", buf, 0xCu);
  }

  v7 = PLSharedLibraryGetLog();
  v8 = os_signpost_id_generate(v7);
  v9 = v7;
  v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "PublishLibraryScope", "", buf, 2u);
  }

  v14[0] = MEMORY[0x1E69E9820];
  v14[1] = 3221225472;
  v14[2] = ___PublishLibraryScope_block_invoke;
  v14[3] = &unk_1E7745208;
  v15 = v10;
  v16 = v3;
  v17 = v4;
  v18 = v8;
  v11 = v4;
  v12 = v3;
  v13 = v10;
  [v12 publishLibraryScopeWithCompletionHandler:v14];
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_10(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_11(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    if (a2)
    {
      v15[0] = MEMORY[0x1E69E9820];
      v15[1] = 3221225472;
      v15[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_13;
      v15[3] = &unk_1E7744CF8;
      v19 = *(a1 + 72);
      v6 = *(a1 + 40);
      v7 = *(a1 + 32);
      v8 = *(a1 + 48);
      v9 = *(a1 + 40);
      v10 = *(a1 + 56);
      *&v11 = v8;
      *(&v11 + 1) = v10;
      *&v12 = v7;
      *(&v12 + 1) = v9;
      v16 = v12;
      v17 = v11;
      v18 = *(a1 + 64);
      _RefetchLibraryScope(v6, v15);

      v13 = v16;
    }

    else
    {
      v14 = *(a1 + 56);
      v20[0] = MEMORY[0x1E69E9820];
      v20[1] = 3221225472;
      v20[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_12;
      v20[3] = &unk_1E774A0E0;
      v21 = *(a1 + 40);
      v22 = v5;
      v23 = *(a1 + 64);
      (*(v14 + 16))(v14, v20);

      v13 = v21;
    }
  }
}

id _ActivateLibraryScope(void *a1, void *a2)
{
  v23 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    v6 = [v3 localIdentifier];
    *buf = 138543362;
    v22 = v6;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Will activate library scope with identifier: %{public}@", buf, 0xCu);
  }

  v7 = PLSharedLibraryGetLog();
  v8 = os_signpost_id_generate(v7);
  v9 = v7;
  v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "ActivateLibraryScope", "", buf, 2u);
  }

  v16[0] = MEMORY[0x1E69E9820];
  v16[1] = 3221225472;
  v16[2] = ___ActivateLibraryScope_block_invoke;
  v16[3] = &unk_1E7746F80;
  v17 = v10;
  v18 = v3;
  v19 = v4;
  v20 = v8;
  v11 = v4;
  v12 = v3;
  v13 = v10;
  v14 = [v12 activateLibraryScopeWithCompletion:v16];

  return v14;
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_12(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_13(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    v7 = *(a1 + 56);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_14;
    v8[3] = &unk_1E774BDB0;
    v9 = v5;
    v12 = *(a1 + 64);
    v10 = *(a1 + 40);
    v11 = v6;
    (*(v7 + 16))(v7, v8);
  }
}

void _RefetchLibraryScope(void *a1, void *a2)
{
  v17 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  if (_RefetchLibraryScope_predicate != -1)
  {
    dispatch_once(&_RefetchLibraryScope_predicate, &__block_literal_global_649);
  }

  v5 = [v3 localIdentifier];
  v6 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 138543362;
    v16 = v5;
    _os_log_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_DEFAULT, "Will refetch library scope with identifier: %{public}@", buf, 0xCu);
  }

  v7 = _RefetchLibraryScope__refetchQueue;
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = ___RefetchLibraryScope_block_invoke_651;
  block[3] = &unk_1E774A0E0;
  v12 = v3;
  v13 = v5;
  v14 = v4;
  v8 = v4;
  v9 = v5;
  v10 = v3;
  dispatch_async(v7, block);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_14(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (*(a1 + 32))
  {
    v2 = *(a1 + 56);
    if (v2)
    {
      v3 = *(v2 + 16);

      v3();
    }
  }

  else
  {
    _ExpungeLibraryScope(*(a1 + 40), 0);
    v4 = *(a1 + 48);
    v5 = *(a1 + 56);

    _HandleError(v4, v5);
  }
}

void _ExpungeLibraryScope(void *a1, void *a2)
{
  v24 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    v6 = [v3 localIdentifier];
    *buf = 138543362;
    v23 = v6;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Will expunge library scope with identifier: %{public}@", buf, 0xCu);
  }

  v7 = PLSharedLibraryGetLog();
  v8 = os_signpost_id_generate(v7);
  v9 = v7;
  v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "ExpungeLibraryScope", "", buf, 2u);
  }

  v11 = [v3 photoLibrary];
  v20[0] = MEMORY[0x1E69E9820];
  v20[1] = 3221225472;
  v20[2] = ___ExpungeLibraryScope_block_invoke;
  v20[3] = &unk_1E774C648;
  v21 = v3;
  v15[0] = MEMORY[0x1E69E9820];
  v15[1] = 3221225472;
  v15[2] = ___ExpungeLibraryScope_block_invoke_2;
  v15[3] = &unk_1E7746F80;
  v16 = v10;
  v17 = v21;
  v18 = v4;
  v19 = v8;
  v12 = v4;
  v13 = v21;
  v14 = v10;
  [v11 performChanges:v20 completionHandler:v15];
}

void PXSharedLibraryCreatePreviewLibraryScope(void *a1, void *a2, void *a3, __int16 a4, void *a5, void *a6, void *a7, void *a8, void *a9)
{
  v15 = a1;
  v16 = a2;
  v17 = a3;
  v54 = a5;
  v18 = a6;
  v19 = a7;
  v20 = a8;
  v56 = a9;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v55 = v15;
  if (v15)
  {
    if (v16)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v40 = [MEMORY[0x1E696AAA8] currentHandler];
    v41 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v40 handleFailureInFunction:v41 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:746 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

    if (v16)
    {
LABEL_3:
      if (v17)
      {
        goto LABEL_4;
      }

LABEL_20:
      v44 = [MEMORY[0x1E696AAA8] currentHandler];
      v45 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
      [v44 handleFailureInFunction:v45 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:748 description:{@"Invalid parameter not satisfying: %@", @"phoneNumbers"}];

      if (v18)
      {
        goto LABEL_5;
      }

      goto LABEL_21;
    }
  }

  v42 = [MEMORY[0x1E696AAA8] currentHandler];
  v43 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
  [v42 handleFailureInFunction:v43 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:747 description:{@"Invalid parameter not satisfying: %@", @"emailAddresses"}];

  if (!v17)
  {
    goto LABEL_20;
  }

LABEL_4:
  if (v18)
  {
    goto LABEL_5;
  }

LABEL_21:
  v46 = [MEMORY[0x1E696AAA8] currentHandler];
  v47 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
  [v46 handleFailureInFunction:v47 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:749 description:{@"Invalid parameter not satisfying: %@", @"personUUIDs"}];

LABEL_5:
  v21 = v17;
  if (!v20)
  {
    v48 = [MEMORY[0x1E696AAA8] currentHandler];
    v49 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v48 handleFailureInFunction:v49 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:750 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];
  }

  v85 = 0;
  v86 = &v85;
  v87 = 0x3032000000;
  v88 = __Block_byref_object_copy__208724;
  v89 = __Block_byref_object_dispose__208725;
  v90 = 0;
  v83[0] = 0;
  v83[1] = v83;
  v83[2] = 0x2020000000;
  v84 = 0;
  if (v19)
  {
    goto LABEL_10;
  }

  v22 = PXLocalizedSharedLibraryString(@"PXSharedLibraryCreatingPreviewProgressTitle");
  v80[0] = MEMORY[0x1E69E9820];
  v80[1] = 3221225472;
  v80[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke;
  v80[3] = &unk_1E77463F8;
  v82 = v83;
  v23 = v56;
  v81 = v23;
  v24 = PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(v22, 0, v20, v80);
  v25 = v86[5];
  v86[5] = v24;

  if (v86[5])
  {

LABEL_10:
    v52 = v16;
    v53 = v17;
    aBlock[0] = MEMORY[0x1E69E9820];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_268;
    aBlock[3] = &unk_1E7744C80;
    v26 = v19;
    v77 = v26;
    v27 = v56;
    v78 = v27;
    v28 = _Block_copy(aBlock);
    v73[0] = MEMORY[0x1E69E9820];
    v73[1] = 3221225472;
    v73[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_269;
    v73[3] = &unk_1E7744CA8;
    v75 = &v85;
    v74 = v20;
    v29 = _Block_copy(v73);
    v30 = +[PXSharedLibrarySettings sharedInstance];
    v31 = [v30 simulateErrorType];

    v51 = v19;
    if (v31 == 3)
    {
      v32 = v18;
      v33 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_3;
      block[3] = &unk_1E7744CD0;
      v72[1] = v83;
      v34 = &v70;
      v70 = v26;
      v35 = &v71;
      v71 = v29;
      v36 = v72;
      v72[0] = v27;
      v37 = MEMORY[0x1E69E96A0];
      dispatch_after(v33, MEMORY[0x1E69E96A0], block);
    }

    else
    {
      v57[0] = MEMORY[0x1E69E9820];
      v57[1] = 3221225472;
      v57[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_2_274;
      v57[3] = &unk_1E7744DC0;
      v67 = v83;
      v58 = v26;
      v64 = v28;
      v65 = v29;
      v66 = v27;
      v68 = a4;
      v59 = v55;
      v60 = v54;
      v61 = v18;
      v62 = v52;
      v63 = v17;
      _CreateLibraryScope(v59, v62, v63, v57);
      v32 = v18;
      v34 = &v58;
      v35 = &v64;
      v36 = &v65;

      v37 = v66;
    }

    v22 = v77;
    v16 = v52;
    v21 = v53;
    v18 = v32;
    v19 = v51;
    goto LABEL_14;
  }

  v38 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v38, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v38, OS_LOG_TYPE_ERROR, "Failed to present Create Shared Library Preview progress alert", buf, 2u);
  }

  v39 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"Failed to present Create Shared Library Preview progress alert"];
  _HandleError(v39, v23);

LABEL_14:
  _Block_object_dispose(v83, 8);
  _Block_object_dispose(&v85, 8);
}

void sub_1A50C2A44(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 184), 8);
  _Block_object_dispose((v1 - 152), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Create Shared Library Preview", v4, 2u);
  }

  *(*(*(a1 + 40) + 8) + 24) = 1;
  v3 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Create Shared Library Preview");
  _HandleError(v3, *(a1 + 32));
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_268(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  if (v3)
  {
    _ExpungeLibraryScope(v3, 0);
  }

  if ([*(a1 + 32) isCancelled])
  {
    dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
    v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
    {
      *v7 = 0;
      _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v7, 2u);
    }

    v6 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
    _HandleError(v6, *(a1 + 40));
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_269(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  v5 = *(*(*(a1 + 40) + 8) + 40);
  if (v5)
  {
    v6 = *(a1 + 32);
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_2;
    v7[3] = &unk_1E774C250;
    v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }

  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_3(uint64_t a1)
{
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0 && ([*(a1 + 32) isCancelled] & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Create Shared Library Preview Failed", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Create Shared Library Preview Failed"];
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_273;
    v7[3] = &unk_1E774C2F0;
    v8 = v3;
    v4 = *(a1 + 40);
    v9 = *(a1 + 48);
    v5 = *(v4 + 16);
    v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_2_274(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 104) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 80) + 16))();
  }

  else
  {
    if (v5)
    {
      v19 = *(a1 + 112);
      v17 = *(a1 + 48);
      v18 = *(a1 + 40);
      v7 = *(a1 + 56);
      v8 = *(a1 + 64);
      v9 = *(a1 + 72);
      v20[0] = MEMORY[0x1E69E9820];
      v20[1] = 3221225472;
      v20[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_4;
      v20[3] = &unk_1E7744D98;
      v10 = *(a1 + 104);
      v21 = *(a1 + 32);
      v11 = *(a1 + 80);
      v22 = v5;
      v12 = *(a1 + 88);
      *&v13 = *(a1 + 96);
      *(&v13 + 1) = v10;
      *&v14 = v11;
      *(&v14 + 1) = v12;
      v23 = v14;
      v24 = v13;
      v25 = *(a1 + 112);
      _UpdateRulesForLibraryScope(v22, v19, v18, v17, v7, v8, v9, v20);

      v15 = v21;
    }

    else
    {
      v16 = *(a1 + 88);
      v26[0] = MEMORY[0x1E69E9820];
      v26[1] = 3221225472;
      v26[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_3_275;
      v26[3] = &unk_1E774C2F0;
      v27 = v6;
      v28 = *(a1 + 96);
      (*(v16 + 16))(v16, v26);

      v15 = v27;
    }
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_4(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    if (a2)
    {
      v6 = *(a1 + 80);
      v17[0] = MEMORY[0x1E69E9820];
      v17[1] = 3221225472;
      v17[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_6;
      v17[3] = &unk_1E7744D20;
      v21 = *(a1 + 72);
      v7 = *(a1 + 40);
      v8 = *(a1 + 32);
      v9 = *(a1 + 48);
      v10 = *(a1 + 40);
      v11 = *(a1 + 56);
      *&v12 = v9;
      *(&v12 + 1) = v11;
      *&v13 = v8;
      *(&v13 + 1) = v10;
      v18 = v13;
      v19 = v12;
      v20 = *(a1 + 64);
      v14 = _MarkSharedAssetsForLibraryScopeIfNecessary(v7, v6, v17);
      if (v14)
      {
        [*(a1 + 32) addChild:v14 withPendingUnitCount:1];
      }

      v15 = v18;
    }

    else
    {
      v16 = *(a1 + 56);
      v22[0] = MEMORY[0x1E69E9820];
      v22[1] = 3221225472;
      v22[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_5;
      v22[3] = &unk_1E774A0E0;
      v23 = *(a1 + 40);
      v24 = v5;
      v25 = *(a1 + 64);
      (*(v16 + 16))(v16, v22);

      v15 = v23;
    }
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_5(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_6(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  v12[0] = MEMORY[0x1E69E9820];
  v12[1] = 3221225472;
  v12[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_7;
  v12[3] = &unk_1E7744D70;
  v6 = *(a1 + 72);
  v13 = *(a1 + 32);
  v7 = *(a1 + 48);
  v14 = *(a1 + 40);
  v18 = a2;
  v8 = *(a1 + 56);
  v15 = v5;
  *&v9 = *(a1 + 64);
  *(&v9 + 1) = v6;
  *&v10 = v7;
  *(&v10 + 1) = v8;
  v16 = v10;
  v17 = v9;
  v11 = v5;
  dispatch_async(MEMORY[0x1E69E96A0], v12);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_7(uint64_t a1)
{
  if ((*(*(*(a1 + 80) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    v2 = *(*(a1 + 56) + 16);

    v2();
  }

  else
  {
    if (*(a1 + 88))
    {
      v12[0] = MEMORY[0x1E69E9820];
      v12[1] = 3221225472;
      v12[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_9;
      v12[3] = &unk_1E7744CF8;
      v16 = *(a1 + 80);
      v3 = *(a1 + 40);
      v4 = *(a1 + 32);
      v5 = *(a1 + 56);
      v6 = *(a1 + 40);
      v7 = *(a1 + 64);
      *&v8 = v5;
      *(&v8 + 1) = v7;
      *&v9 = v4;
      *(&v9 + 1) = v6;
      v13 = v9;
      v14 = v8;
      v15 = *(a1 + 72);
      _RefetchLibraryScope(v3, v12);

      v10 = v13;
    }

    else
    {
      v11 = *(a1 + 64);
      v17[0] = MEMORY[0x1E69E9820];
      v17[1] = 3221225472;
      v17[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_8;
      v17[3] = &unk_1E774A0E0;
      v18 = *(a1 + 40);
      v19 = *(a1 + 48);
      v20 = *(a1 + 72);
      (*(v11 + 16))(v11, v17);

      v10 = v18;
    }
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_8(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_9(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    v7 = *(a1 + 56);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_10;
    v8[3] = &unk_1E774BDB0;
    v9 = v5;
    v12 = *(a1 + 64);
    v10 = *(a1 + 40);
    v11 = v6;
    (*(v7 + 16))(v7, v8);
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_10(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (*(a1 + 32))
  {
    v2 = *(a1 + 56);
    if (v2)
    {
      v3 = *(v2 + 16);

      v3();
    }
  }

  else
  {
    _ExpungeLibraryScope(*(a1 + 40), 0);
    v4 = *(a1 + 48);
    v5 = *(a1 + 56);

    _HandleError(v4, v5);
  }
}

void PXSharedLibraryPublishPreviewLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  v7 = a1;
  v8 = a2;
  v9 = a3;
  v10 = a4;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (v7)
  {
    if (v9)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v32 = [MEMORY[0x1E696AAA8] currentHandler];
    [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryPublishPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    v34 = v33 = v10;
    [v32 handleFailureInFunction:v34 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:895 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    v10 = v33;
    if (v9)
    {
      goto LABEL_3;
    }
  }

  v35 = [MEMORY[0x1E696AAA8] currentHandler];
  [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryPublishPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
  v37 = v36 = v10;
  [v35 handleFailureInFunction:v37 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:896 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

  v10 = v36;
LABEL_3:
  v62 = 0;
  v63 = &v62;
  v64 = 0x3032000000;
  v65 = __Block_byref_object_copy__208724;
  v66 = __Block_byref_object_dispose__208725;
  v67 = 0;
  v60[0] = 0;
  v60[1] = v60;
  v60[2] = 0x2020000000;
  v61 = 0;
  v39 = v10;
  if (v8)
  {
LABEL_6:
    v54[0] = MEMORY[0x1E69E9820];
    v54[1] = 3221225472;
    v54[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_282;
    v54[3] = &unk_1E7744C80;
    v16 = v8;
    v55 = v16;
    v17 = v10;
    v56 = v17;
    v38 = _Block_copy(v54);
    v51[0] = MEMORY[0x1E69E9820];
    v51[1] = 3221225472;
    v51[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_283;
    v51[3] = &unk_1E7744CA8;
    v53 = &v62;
    v52 = v9;
    v18 = _Block_copy(v51);
    v19 = +[PXSharedLibrarySettings sharedInstance];
    v20 = [v19 simulateErrorType];

    if (v20 == 4)
    {
      v21 = v9;
      v22 = v8;
      v23 = v7;
      v24 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3;
      block[3] = &unk_1E7744CD0;
      v50[1] = v60;
      v25 = &v48;
      v48 = v16;
      v26 = &v49;
      v49 = v18;
      v27 = v50;
      v50[0] = v17;
      v28 = MEMORY[0x1E69E96A0];
      dispatch_after(v24, MEMORY[0x1E69E96A0], block);
    }

    else
    {
      v40[0] = MEMORY[0x1E69E9820];
      v40[1] = 3221225472;
      v40[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_2_288;
      v40[3] = &unk_1E7744D48;
      v46 = v60;
      v41 = v16;
      v43 = v38;
      v42 = v7;
      v44 = v18;
      v45 = v17;
      _PublishLibraryScope(v42, v40);
      v21 = v9;
      v22 = v8;
      v23 = v7;
      v25 = &v41;
      v26 = &v43;
      v27 = &v42;

      v28 = v44;
    }

    v29 = &v55;

    v12 = v56;
    v7 = v23;
    v8 = v22;
    v9 = v21;
    goto LABEL_10;
  }

  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke;
  aBlock[3] = &unk_1E77463F8;
  v59[1] = v60;
  v11 = v10;
  v59[0] = v11;
  v12 = _Block_copy(aBlock);
  v13 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPublishingProgressTitle");
  v14 = PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(v13, 0, v9, v12);
  v15 = v63[5];
  v63[5] = v14;

  if (v63[5])
  {

    v10 = v39;
    goto LABEL_6;
  }

  v30 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v30, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v30, OS_LOG_TYPE_ERROR, "Failed to present Publish Shared Library Preview progress alert", buf, 2u);
  }

  v31 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"Failed to present Publish Shared Library Preview progress alert"];
  _HandleError(v31, v11);
  v29 = v59;

LABEL_10:
  _Block_object_dispose(v60, 8);
  _Block_object_dispose(&v62, 8);
}

void sub_1A50C3D74(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 184), 8);
  _Block_object_dispose((v1 - 152), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v4 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v4, 2u);
  }

  *(*(*(a1 + 40) + 8) + 24) = 1;
  v3 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
  _HandleError(v3, *(a1 + 32));
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_282(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  if (v3)
  {
    _ExpungeLibraryScope(v3, 0);
  }

  if ([*(a1 + 32) isCancelled])
  {
    dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
    v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
    {
      *v7 = 0;
      _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v7, 2u);
    }

    v6 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
    _HandleError(v6, *(a1 + 40));
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_283(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  v5 = *(*(*(a1 + 40) + 8) + 40);
  if (v5)
  {
    v6 = *(a1 + 32);
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_2;
    v7[3] = &unk_1E774C250;
    v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }

  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3(uint64_t a1)
{
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0 && ([*(a1 + 32) isCancelled] & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Publish Shared Library Preview Failed", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Publish Shared Library Preview Failed"];
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_287;
    v7[3] = &unk_1E774C2F0;
    v8 = v3;
    v4 = *(a1 + 40);
    v9 = *(a1 + 48);
    v5 = *(v4 + 16);
    v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_2_288(uint64_t a1, uint64_t a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    if (a2)
    {
      v16[0] = MEMORY[0x1E69E9820];
      v16[1] = 3221225472;
      v16[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_4;
      v16[3] = &unk_1E7744D20;
      v20 = *(a1 + 72);
      v6 = *(a1 + 40);
      v7 = *(a1 + 32);
      v8 = *(a1 + 48);
      v9 = *(a1 + 40);
      v10 = *(a1 + 56);
      *&v11 = v8;
      *(&v11 + 1) = v10;
      *&v12 = v7;
      *(&v12 + 1) = v9;
      v17 = v12;
      v18 = v11;
      v19 = *(a1 + 64);
      v13 = _ActivateLibraryScope(v6, v16);
      if (v13)
      {
        [*(a1 + 32) addChild:v13 withPendingUnitCount:1];
      }

      v14 = v17;
    }

    else
    {
      v15 = *(a1 + 56);
      v21[0] = MEMORY[0x1E69E9820];
      v21[1] = 3221225472;
      v21[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3_289;
      v21[3] = &unk_1E774A0E0;
      v22 = *(a1 + 40);
      v23 = v5;
      v24 = *(a1 + 64);
      (*(v15 + 16))(v15, v21);

      v14 = v22;
    }
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3_289(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_4(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    if (a2)
    {
      v15[0] = MEMORY[0x1E69E9820];
      v15[1] = 3221225472;
      v15[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_6;
      v15[3] = &unk_1E7744CF8;
      v19 = *(a1 + 72);
      v6 = *(a1 + 40);
      v7 = *(a1 + 32);
      v8 = *(a1 + 48);
      v9 = *(a1 + 40);
      v10 = *(a1 + 56);
      *&v11 = v8;
      *(&v11 + 1) = v10;
      *&v12 = v7;
      *(&v12 + 1) = v9;
      v16 = v12;
      v17 = v11;
      v18 = *(a1 + 64);
      _RefetchLibraryScope(v6, v15);

      v13 = v16;
    }

    else
    {
      v14 = *(a1 + 56);
      v20[0] = MEMORY[0x1E69E9820];
      v20[1] = 3221225472;
      v20[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_5;
      v20[3] = &unk_1E774A0E0;
      v21 = *(a1 + 40);
      v22 = v5;
      v23 = *(a1 + 64);
      (*(v14 + 16))(v14, v20);

      v13 = v21;
    }
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_5(uint64_t a1)
{
  _ExpungeLibraryScope(*(a1 + 32), 0);
  v2 = *(a1 + 40);
  v3 = *(a1 + 48);

  _HandleError(v2, v3);
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_6(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) != 0 || [*(a1 + 32) isCancelled])
  {
    (*(*(a1 + 48) + 16))();
  }

  else
  {
    v7 = *(a1 + 56);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_7;
    v8[3] = &unk_1E774BDB0;
    v9 = v5;
    v12 = *(a1 + 64);
    v10 = *(a1 + 40);
    v11 = v6;
    (*(v7 + 16))(v7, v8);
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_7(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (*(a1 + 32))
  {
    v2 = *(a1 + 56);
    if (v2)
    {
      v3 = *(v2 + 16);

      v3();
    }
  }

  else
  {
    _ExpungeLibraryScope(*(a1 + 40), 0);
    v4 = *(a1 + 48);
    v5 = *(a1 + 56);

    _HandleError(v4, v5);
  }
}

void PXSharedLibraryFetchLibraryScopeForURL(void *a1, void *a2, void *a3)
{
  v37 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }

LABEL_21:
    v26 = [MEMORY[0x1E696AAA8] currentHandler];
    v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryFetchLibraryScopeForURL(PHPhotoLibrary *__strong _Nonnull, NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v26 handleFailureInFunction:v27 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1026 description:{@"Invalid parameter not satisfying: %@", @"shareURL"}];

    if (v7)
    {
      goto LABEL_4;
    }

    goto LABEL_22;
  }

  v24 = [MEMORY[0x1E696AAA8] currentHandler];
  v25 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryFetchLibraryScopeForURL(PHPhotoLibrary *__strong _Nonnull, NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
  [v24 handleFailureInFunction:v25 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1025 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

  if (!v6)
  {
    goto LABEL_21;
  }

LABEL_3:
  if (v7)
  {
    goto LABEL_4;
  }

LABEL_22:
  v28 = [MEMORY[0x1E696AAA8] currentHandler];
  v29 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryFetchLibraryScopeForURL(PHPhotoLibrary *__strong _Nonnull, NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
  [v28 handleFailureInFunction:v29 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1027 description:{@"Invalid parameter not satisfying: %@", @"completion"}];

LABEL_4:
  v8 = +[PXSharedLibrarySettings sharedInstance];
  v9 = [v8 simulateErrorType];

  if (v9 == 8)
  {
    v10 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_ERROR, "Simulated Error: Fetch (No Share) Failed", buf, 2u);
    }

    v11 = MEMORY[0x1E696ABC0];
    v12 = @"Simulated Error: Fetch (No Share) Failed";
    v13 = -1002;
LABEL_12:
    v18 = [v11 px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:v13 debugDescription:v12];
    v7[2](v7, 0, v18);
    goto LABEL_19;
  }

  v14 = +[PXSharedLibrarySettings sharedInstance];
  v15 = [v14 simulateErrorType];

  v16 = PLSharedLibraryGetLog();
  v17 = v16;
  if (v15 == 9)
  {
    if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v17, OS_LOG_TYPE_ERROR, "Simulated Error: Fetch (Generic) Failed", buf, 2u);
    }

    v11 = MEMORY[0x1E696ABC0];
    v12 = @"Simulated Error: Fetch (Generic) Failed";
    v13 = -1000;
    goto LABEL_12;
  }

  if (os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 138412290;
    v36 = v6;
    _os_log_impl(&dword_1A3C1C000, v17, OS_LOG_TYPE_DEFAULT, "Will fetch library scope for URL: %@", buf, 0xCu);
  }

  v19 = PLSharedLibraryGetLog();
  v20 = os_signpost_id_generate(v19);
  v21 = v19;
  v22 = v21;
  if (v20 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v21))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v22, OS_SIGNPOST_INTERVAL_BEGIN, v20, "FetchLibraryScopeForURL", "", buf, 2u);
  }

  v23 = MEMORY[0x1E69788A0];
  v30[0] = MEMORY[0x1E69E9820];
  v30[1] = 3221225472;
  v30[2] = __PXSharedLibraryFetchLibraryScopeForURL_block_invoke;
  v30[3] = &unk_1E7744DE8;
  v31 = v22;
  v34 = v20;
  v32 = v6;
  v33 = v7;
  v18 = v22;
  [v23 fetchLibraryScopeFromShareURL:v32 ignoreExistingShare:1 photoLibrary:v5 completionHandler:v30];

LABEL_19:
}

void __PXSharedLibraryFetchLibraryScopeForURL_block_invoke(uint64_t a1, void *a2, void *a3)
{
  v32 = *MEMORY[0x1E69E9840];
  v5 = a2;
  v6 = a3;
  v7 = *(a1 + 32);
  v8 = v7;
  v9 = *(a1 + 56);
  if (v9 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v7))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v8, OS_SIGNPOST_INTERVAL_END, v9, "FetchLibraryScopeForURL", "", buf, 2u);
  }

  if (!v5)
  {
    v13 = [v6 domain];
    if ([v13 isEqualToString:*MEMORY[0x1E6978F50]])
    {
      v14 = [v6 code];

      if (v14 == 6003)
      {
        v10 = PLSharedLibraryGetLog();
        if (!os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
        {
          goto LABEL_15;
        }

        v15 = *(a1 + 40);
        *buf = 138412290;
        v29 = v15;
        v16 = "Fetch returned NO library scope for URL: %@";
        v17 = v10;
        v18 = OS_LOG_TYPE_DEFAULT;
        v19 = 12;
LABEL_14:
        _os_log_impl(&dword_1A3C1C000, v17, v18, v16, buf, v19);
        goto LABEL_15;
      }
    }

    else
    {
    }

    v10 = PLSharedLibraryGetLog();
    if (!os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_15;
    }

    v20 = *(a1 + 40);
    *buf = 138412546;
    v29 = v20;
    v30 = 2112;
    v31 = v6;
    v16 = "Failed to fetch library scope for URL: %@, error: %@";
    v17 = v10;
    v18 = OS_LOG_TYPE_ERROR;
    v19 = 22;
    goto LABEL_14;
  }

  v10 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
  {
    v11 = [v5 localIdentifier];
    v12 = *(a1 + 40);
    *buf = 138543618;
    v29 = v11;
    v30 = 2112;
    v31 = v12;
    _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_DEFAULT, "Did fetch library scope: %{public}@ for URL: %@", buf, 0x16u);
  }

LABEL_15:

  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = __PXSharedLibraryFetchLibraryScopeForURL_block_invoke_303;
  block[3] = &unk_1E774A0E0;
  v21 = *(a1 + 48);
  v26 = v6;
  v27 = v21;
  v25 = v5;
  v22 = v6;
  v23 = v5;
  dispatch_async(MEMORY[0x1E69E96A0], block);
}

void PXSharedLibraryAcceptLibraryScopeInvitation(void *a1, unsigned int a2, void *a3, void *a4, void *a5, void *a6)
{
  v11 = a1;
  v12 = a3;
  v13 = a4;
  v14 = a5;
  v15 = a6;
  if (v11)
  {
    if (v13)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v30 = [MEMORY[0x1E696AAA8] currentHandler];
    v31 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAcceptLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v30 handleFailureInFunction:v31 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1069 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v13)
    {
      goto LABEL_3;
    }
  }

  v32 = [MEMORY[0x1E696AAA8] currentHandler];
  v33 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAcceptLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v32 handleFailureInFunction:v33 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1070 description:{@"Invalid parameter not satisfying: %@", @"personUUIDs"}];

LABEL_3:
  v16 = +[PXSharedLibrarySettings sharedInstance];
  v17 = [v16 simulateErrorType];

  if (v17 == 16)
  {
    v18 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v18, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (Generic)", buf, 2u);
    }

    v19 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Accept Invitation Failed (Generic)"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E774C2F0;
    v46 = v19;
    v47 = v15;
    v20 = v19;
    dispatch_async(MEMORY[0x1E69E96A0], block);

    v21 = v47;
  }

  else
  {
    v22 = +[PXSharedLibrarySettings sharedInstance];
    v23 = [v22 simulateErrorType];

    if (v23 == 17)
    {
      v24 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v24, OS_LOG_TYPE_ERROR))
      {
        *buf = 0;
        _os_log_impl(&dword_1A3C1C000, v24, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (U13)", buf, 2u);
      }

      v25 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:8503 debugDescription:@"Simulated Error: Accept Invitation Failed (U13)"];
      v42[0] = MEMORY[0x1E69E9820];
      v42[1] = 3221225472;
      v42[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_310;
      v42[3] = &unk_1E774C2F0;
      v43 = v25;
      v44 = v15;
      v20 = v25;
      dispatch_async(MEMORY[0x1E69E96A0], v42);

      v21 = v44;
    }

    else
    {
      v26 = +[PXSharedLibrarySettings sharedInstance];
      v27 = [v26 simulateErrorType];

      if (v27 != 18)
      {
        v34[0] = MEMORY[0x1E69E9820];
        v34[1] = 3221225472;
        v34[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_2;
        v34[3] = &unk_1E7744E10;
        v37 = v15;
        v35 = v11;
        v38 = a2;
        v36 = v14;
        _UpdateRulesForLibraryScope(v35, a2, 0, v12, v13, MEMORY[0x1E695E0F0], MEMORY[0x1E695E0F0], v34);

        v20 = v37;
        goto LABEL_16;
      }

      v28 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v28, OS_LOG_TYPE_ERROR))
      {
        *buf = 0;
        _os_log_impl(&dword_1A3C1C000, v28, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (RegionUnsupported)", buf, 2u);
      }

      v29 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:8504 debugDescription:@"Simulated Error: Accept Invitation Failed (RegionUnsupported)"];
      v39[0] = MEMORY[0x1E69E9820];
      v39[1] = 3221225472;
      v39[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_314;
      v39[3] = &unk_1E774C2F0;
      v40 = v29;
      v41 = v15;
      v20 = v29;
      dispatch_async(MEMORY[0x1E69E96A0], v39);

      v21 = v41;
    }
  }

LABEL_16:
}

void __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (a2)
  {
    v6 = *(a1 + 32);
    v7 = *(a1 + 56);
    v10 = MEMORY[0x1E69E9820];
    v11 = 3221225472;
    v12 = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_3;
    v13 = &unk_1E774BD88;
    v15 = *(a1 + 48);
    v14 = *(a1 + 32);
    v8 = _MarkSharedAssetsForLibraryScopeIfNecessary(v6, v7, &v10);
    if (v8)
    {
      [*(a1 + 40) addChild:v8 withPendingUnitCount:{1, v10, v11, v12, v13}];
    }
  }

  else
  {
    v9 = *(a1 + 48);
    if (v9)
    {
      (*(v9 + 16))(v9, 0, v5);
    }
  }
}

void __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (a2)
  {
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_4;
    v8[3] = &unk_1E7747648;
    v6 = *(a1 + 32);
    v9 = *(a1 + 40);
    _AcceptLibraryScope(v6, v8);
  }

  else
  {
    v7 = *(a1 + 40);
    if (v7)
    {
      (*(v7 + 16))(v7, 0, v5);
    }
  }
}

void __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_4(uint64_t a1, uint64_t a2, void *a3)
{
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v5 = *(a1 + 32);
  if (v5)
  {
    (*(v5 + 16))(v5, a2, v6);
  }
}

void _AcceptLibraryScope(void *a1, void *a2)
{
  v21 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    v6 = [v3 localIdentifier];
    *buf = 138543362;
    v20 = v6;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Will accept library scope with identifier: %{public}@", buf, 0xCu);
  }

  v7 = PLSharedLibraryGetLog();
  v8 = os_signpost_id_generate(v7);
  v9 = v7;
  v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "AcceptLibraryScope", "", buf, 2u);
  }

  v14[0] = MEMORY[0x1E69E9820];
  v14[1] = 3221225472;
  v14[2] = ___AcceptLibraryScope_block_invoke;
  v14[3] = &unk_1E7746F80;
  v15 = v10;
  v16 = v3;
  v17 = v4;
  v18 = v8;
  v11 = v4;
  v12 = v3;
  v13 = v10;
  [v12 acceptLibraryScopeWithCompletion:v14];
}

void PXSharedLibraryPreviewLibraryScopeInvitation(void *a1, __int16 a2, void *a3, void *a4, void *a5, void *a6)
{
  v55 = *MEMORY[0x1E69E9840];
  v11 = a1;
  v12 = a3;
  v13 = a4;
  v14 = a5;
  v15 = a6;
  if (v11)
  {
    if (v13)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v32 = [MEMORY[0x1E696AAA8] currentHandler];
    v33 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryPreviewLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v32 handleFailureInFunction:v33 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1138 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v13)
    {
      goto LABEL_3;
    }
  }

  v34 = [MEMORY[0x1E696AAA8] currentHandler];
  v35 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryPreviewLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v34 handleFailureInFunction:v35 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1139 description:{@"Invalid parameter not satisfying: %@", @"personUUIDs"}];

LABEL_3:
  v16 = +[PXSharedLibrarySettings sharedInstance];
  v17 = [v16 simulateErrorType];

  if (v17 == 3)
  {
    v18 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
    {
      LOWORD(buf) = 0;
      _os_log_impl(&dword_1A3C1C000, v18, OS_LOG_TYPE_ERROR, "Simulated Error: Create Invitation Preview Failed", &buf, 2u);
    }

    v19 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Create Invitation Preview Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E774C2F0;
    v44 = v19;
    v45 = v15;
    v20 = v15;
    v21 = v19;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }

  else
  {
    v36[0] = MEMORY[0x1E69E9820];
    v36[1] = 3221225472;
    v36[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_2;
    v36[3] = &unk_1E7744E38;
    v41 = v15;
    v37 = v11;
    v42 = a2;
    v38 = v12;
    v39 = v13;
    v40 = v14;
    v22 = v37;
    v23 = v36;
    v21 = v15;
    v24 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v24, OS_LOG_TYPE_DEFAULT))
    {
      v25 = [v22 localIdentifier];
      LODWORD(buf) = 138543362;
      *(&buf + 4) = v25;
      _os_log_impl(&dword_1A3C1C000, v24, OS_LOG_TYPE_DEFAULT, "Will set preview state for library scope with identifier: %{public}@", &buf, 0xCu);
    }

    v26 = PLSharedLibraryGetLog();
    v27 = os_signpost_id_generate(v26);
    v28 = v26;
    v29 = v28;
    if (v27 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v28))
    {
      LOWORD(buf) = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v29, OS_SIGNPOST_INTERVAL_BEGIN, v27, "SetPreviewStateForLibraryScope", "", &buf, 2u);
    }

    v30 = [v22 photoLibrary];
    v46[0] = MEMORY[0x1E69E9820];
    v46[1] = 3221225472;
    v46[2] = ___SetPreviewStateForLibraryScope_block_invoke;
    v46[3] = &unk_1E774C648;
    v47 = v22;
    *&buf = MEMORY[0x1E69E9820];
    *(&buf + 1) = 3221225472;
    v49 = ___SetPreviewStateForLibraryScope_block_invoke_2;
    v50 = &unk_1E7746F80;
    v51 = v29;
    v52 = v47;
    v53 = v23;
    v54 = v27;
    v31 = v29;
    [v30 performChanges:v46 completionHandler:&buf];

    v20 = v41;
  }
}

void __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (a2)
  {
    v6 = *(a1 + 72);
    v7 = *(a1 + 32);
    v8 = *(a1 + 40);
    v9 = *(a1 + 48);
    v11[0] = MEMORY[0x1E69E9820];
    v11[1] = 3221225472;
    v11[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_3;
    v11[3] = &unk_1E7744E10;
    v14 = *(a1 + 64);
    v12 = *(a1 + 32);
    v15 = *(a1 + 72);
    v13 = *(a1 + 56);
    _UpdateRulesForLibraryScope(v7, v6, 0, v8, v9, MEMORY[0x1E695E0F0], MEMORY[0x1E695E0F0], v11);
  }

  else
  {
    v10 = *(a1 + 64);
    if (v10)
    {
      (*(v10 + 16))(v10, 0, v5);
    }
  }
}

void __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (a2)
  {
    v6 = *(a1 + 32);
    v7 = *(a1 + 56);
    v10[0] = MEMORY[0x1E69E9820];
    v10[1] = 3221225472;
    v10[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_4;
    v10[3] = &unk_1E7747648;
    v11 = *(a1 + 48);
    v8 = _MarkSharedAssetsForLibraryScopeIfNecessary(v6, v7, v10);
    if (v8)
    {
      [*(a1 + 40) addChild:v8 withPendingUnitCount:1];
    }
  }

  else
  {
    v9 = *(a1 + 48);
    if (v9)
    {
      (*(v9 + 16))(v9, 0, v5);
    }
  }
}

void __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_4(uint64_t a1, uint64_t a2, void *a3)
{
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v5 = *(a1 + 32);
  if (v5)
  {
    (*(v5 + 16))(v5, a2, v6);
  }
}

void PXSharedLibraryAcceptLibraryScopeInvitationPreview(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  if (!v3)
  {
    v19 = [MEMORY[0x1E696AAA8] currentHandler];
    v20 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAcceptLibraryScopeInvitationPreview(PHLibraryScope *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v19 handleFailureInFunction:v20 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1187 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];
  }

  v5 = +[PXSharedLibrarySettings sharedInstance];
  v6 = [v5 simulateErrorType];

  if (v6 == 16)
  {
    v7 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (Generic)", buf, 2u);
    }

    v8 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Accept Invitation Failed (Generic)"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke;
    block[3] = &unk_1E774C2F0;
    v30 = v8;
    v31 = v4;
    v9 = v8;
    dispatch_async(MEMORY[0x1E69E96A0], block);

    v10 = v31;
  }

  else
  {
    v11 = +[PXSharedLibrarySettings sharedInstance];
    v12 = [v11 simulateErrorType];

    if (v12 == 17)
    {
      v13 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
      {
        *buf = 0;
        _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (U13)", buf, 2u);
      }

      v14 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:8503 debugDescription:@"Simulated Error: Accept Invitation Failed (U13)"];
      v26[0] = MEMORY[0x1E69E9820];
      v26[1] = 3221225472;
      v26[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_318;
      v26[3] = &unk_1E774C2F0;
      v27 = v14;
      v28 = v4;
      v9 = v14;
      dispatch_async(MEMORY[0x1E69E96A0], v26);

      v10 = v28;
    }

    else
    {
      v15 = +[PXSharedLibrarySettings sharedInstance];
      v16 = [v15 simulateErrorType];

      if (v16 != 18)
      {
        v21[0] = MEMORY[0x1E69E9820];
        v21[1] = 3221225472;
        v21[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_2;
        v21[3] = &unk_1E7747648;
        v22 = v4;
        _AcceptLibraryScope(v3, v21);
        v9 = v22;
        goto LABEL_16;
      }

      v17 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v17, OS_LOG_TYPE_ERROR))
      {
        *buf = 0;
        _os_log_impl(&dword_1A3C1C000, v17, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (RegionUnsupported)", buf, 2u);
      }

      v18 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:8504 debugDescription:@"Simulated Error: Accept Invitation Failed (RegionUnsupported)"];
      v23[0] = MEMORY[0x1E69E9820];
      v23[1] = 3221225472;
      v23[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_319;
      v23[3] = &unk_1E774C2F0;
      v24 = v18;
      v25 = v4;
      v9 = v18;
      dispatch_async(MEMORY[0x1E69E96A0], v23);

      v10 = v25;
    }
  }

LABEL_16:
}

void __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v5 = *(a1 + 32);
  if (v5)
  {
    (*(v5 + 16))(v5, a2, v6);
  }
}

void PXSharedLibraryDeclineLibraryScopeInvitation(void *a1, void *a2)
{
  v39 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  if (!v3)
  {
    v22 = [MEMORY[0x1E696AAA8] currentHandler];
    v23 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDeclineLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v22 handleFailureInFunction:v23 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1229 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];
  }

  v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    v6 = [v3 localIdentifier];
    LODWORD(buf) = 138543362;
    *(&buf + 4) = v6;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Will decline library scope with identifier: %{public}@", &buf, 0xCu);
  }

  v7 = +[PXSharedLibrarySettings sharedInstance];
  v8 = [v7 simulateErrorType];

  if (v8 != 19)
  {
    v24[0] = MEMORY[0x1E69E9820];
    v24[1] = 3221225472;
    v24[2] = __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke_2;
    v24[3] = &unk_1E774BD88;
    v25 = v3;
    v26 = v4;
    v12 = v25;
    v13 = v24;
    v14 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
    {
      v15 = [v12 localIdentifier];
      LODWORD(buf) = 138543362;
      *(&buf + 4) = v15;
      _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_DEFAULT, "Will trash library scope with identifier: %{public}@", &buf, 0xCu);
    }

    v16 = PLSharedLibraryGetLog();
    v17 = os_signpost_id_generate(v16);
    v18 = v16;
    v19 = v18;
    if (v17 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v18))
    {
      LOWORD(buf) = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v19, OS_SIGNPOST_INTERVAL_BEGIN, v17, "TrashLibraryScope", "", &buf, 2u);
    }

    v20 = [v12 photoLibrary];
    v30[0] = MEMORY[0x1E69E9820];
    v30[1] = 3221225472;
    v30[2] = ___TrashLibraryScope_block_invoke;
    v30[3] = &unk_1E774C648;
    v31 = v12;
    *&buf = MEMORY[0x1E69E9820];
    *(&buf + 1) = 3221225472;
    v33 = ___TrashLibraryScope_block_invoke_2;
    v34 = &unk_1E7746F80;
    v35 = v19;
    v36 = v31;
    v37 = v13;
    v38 = v17;
    v21 = v19;
    [v20 performChanges:v30 completionHandler:&buf];

    v11 = v25;
    goto LABEL_16;
  }

  v9 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
  {
    LOWORD(buf) = 0;
    _os_log_impl(&dword_1A3C1C000, v9, OS_LOG_TYPE_ERROR, "Simulated Error: Decline Invitation Failed", &buf, 2u);
  }

  if (v4)
  {
    v10 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Decline Invitation Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E774C2F0;
    v28 = v10;
    v29 = v4;
    v11 = v10;
    dispatch_async(MEMORY[0x1E69E96A0], block);

LABEL_16:
  }
}

void __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v23 = *MEMORY[0x1E69E9840];
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v6 = PLSharedLibraryGetLog();
  v7 = v6;
  if (a2)
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_7;
    }

    v8 = [*(a1 + 32) localIdentifier];
    *buf = 138543362;
    v20 = v8;
    v9 = "Did decline library scope with identifier: %{public}@";
    v10 = v7;
    v11 = OS_LOG_TYPE_DEFAULT;
    v12 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_7;
    }

    v8 = [*(a1 + 32) localIdentifier];
    *buf = 138543618;
    v20 = v8;
    v21 = 2112;
    v22 = v5;
    v9 = "Failed to decline library scope with identifier: %{public}@, error: %@";
    v10 = v7;
    v11 = OS_LOG_TYPE_ERROR;
    v12 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v10, v11, v9, buf, v12);

LABEL_7:
  v13 = *(a1 + 40);
  if (v13)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke_323;
    block[3] = &unk_1E774A940;
    v17 = v13;
    v18 = a2;
    v16 = v5;
    v14 = MEMORY[0x1E69E96A0];
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }
}

void PXSharedLibraryRestoreDeclinedLibraryScopeInvitation(void *a1, void *a2)
{
  v41 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  if (!v3)
  {
    v23 = [MEMORY[0x1E696AAA8] currentHandler];
    v24 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryRestoreDeclinedLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))"}];
    [v23 handleFailureInFunction:v24 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1264 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];
  }

  v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    v6 = [v3 localIdentifier];
    LODWORD(buf) = 138543362;
    *(&buf + 4) = v6;
    _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_DEFAULT, "Will restore previously declined library scope with identifier: %{public}@", &buf, 0xCu);
  }

  v7 = +[PXSharedLibrarySettings sharedInstance];
  v8 = [v7 simulateErrorType];

  if (v8 != 20)
  {
    v25[0] = MEMORY[0x1E69E9820];
    v25[1] = 3221225472;
    v25[2] = __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke_2;
    v25[3] = &unk_1E7744E60;
    v26 = v3;
    v27 = v4;
    v12 = v26;
    v13 = v25;
    v14 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
    {
      v15 = [v12 localIdentifier];
      LODWORD(buf) = 138543362;
      *(&buf + 4) = v15;
      _os_log_impl(&dword_1A3C1C000, v14, OS_LOG_TYPE_DEFAULT, "Will un-trash library scope with identifier: %{public}@", &buf, 0xCu);
    }

    v16 = PLSharedLibraryGetLog();
    v17 = os_signpost_id_generate(v16);
    v18 = v16;
    v19 = v18;
    if (v17 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v18))
    {
      LOWORD(buf) = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v19, OS_SIGNPOST_INTERVAL_BEGIN, v17, "UnTrashLibraryScope", "", &buf, 2u);
    }

    v20 = [v12 photoLibrary];
    v31[0] = MEMORY[0x1E69E9820];
    v31[1] = 3221225472;
    v31[2] = ___UnTrashLibraryScope_block_invoke;
    v31[3] = &unk_1E774C648;
    v32 = v12;
    *&buf = MEMORY[0x1E69E9820];
    *(&buf + 1) = 3221225472;
    v34 = ___UnTrashLibraryScope_block_invoke_2;
    v35 = &unk_1E7745230;
    v39 = v13;
    v40 = v17;
    v36 = v19;
    v37 = v32;
    v38 = v20;
    v21 = v19;
    v22 = v20;
    [v22 performChanges:v31 completionHandler:&buf];

    v11 = v26;
    goto LABEL_16;
  }

  v9 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
  {
    LOWORD(buf) = 0;
    _os_log_impl(&dword_1A3C1C000, v9, OS_LOG_TYPE_ERROR, "Simulated Error: Restore Previously Declined Invitation Failed", &buf, 2u);
  }

  if (v4)
  {
    v10 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Restore Previously Declined Invitation Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E774C2F0;
    v29 = v10;
    v30 = v4;
    v11 = v10;
    dispatch_async(MEMORY[0x1E69E96A0], block);

LABEL_16:
  }
}

void __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke_2(uint64_t a1, void *a2, void *a3)
{
  v24 = *MEMORY[0x1E69E9840];
  v5 = a2;
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v7 = PLSharedLibraryGetLog();
  v8 = v7;
  if (v5)
  {
    if (!os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_7;
    }

    v9 = [v5 localIdentifier];
    *buf = 138543362;
    v21 = v9;
    v10 = "Did restore previously declined library scope with identifier: %{public}@";
    v11 = v8;
    v12 = OS_LOG_TYPE_DEFAULT;
    v13 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_7;
    }

    v9 = [*(a1 + 32) localIdentifier];
    *buf = 138543618;
    v21 = v9;
    v22 = 2112;
    v23 = v6;
    v10 = "Failed to restore previously declined library scope with identifier: %{public}@, error: %@";
    v11 = v8;
    v12 = OS_LOG_TYPE_ERROR;
    v13 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v11, v12, v10, buf, v13);

LABEL_7:
  v14 = *(a1 + 40);
  if (v14)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke_327;
    block[3] = &unk_1E774A0E0;
    v19 = v14;
    v17 = v5;
    v18 = v6;
    v15 = MEMORY[0x1E69E96A0];
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }
}

void PXSharedLibraryExitPreviewLibraryScope(void *a1, void *a2, void *a3)
{
  v47 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v21 = [MEMORY[0x1E696AAA8] currentHandler];
    v22 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryExitPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v21 handleFailureInFunction:v22 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1297 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v23 = [MEMORY[0x1E696AAA8] currentHandler];
  v24 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryExitPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v23 handleFailureInFunction:v24 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1298 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

LABEL_3:
  v39 = 0;
  v40 = &v39;
  v41 = 0x3032000000;
  v42 = __Block_byref_object_copy__208724;
  v43 = __Block_byref_object_dispose__208725;
  v44 = 0;
  v37[0] = 0;
  v37[1] = v37;
  v37[2] = 0x2020000000;
  v38 = 0;
  v8 = PXLocalizedSharedLibraryString(@"PXSharedLibraryExitProgressTitle_Preview");
  v34[0] = MEMORY[0x1E69E9820];
  v34[1] = 3221225472;
  v34[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke;
  v34[3] = &unk_1E77463F8;
  v36 = v37;
  v9 = v7;
  v35 = v9;
  v10 = PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(v8, 0, v6, v34);
  v11 = v40[5];
  v40[5] = v10;

  if (v40[5])
  {
    v12 = +[PXSharedLibrarySettings sharedInstance];
    v13 = [v12 simulateErrorType] == 5;

    if (v13)
    {
      v14 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_337;
      block[3] = &unk_1E7744E88;
      v33[1] = v37;
      v33[2] = &v39;
      v15 = &v32;
      v32 = v6;
      v16 = v33;
      v33[0] = v9;
      dispatch_after(v14, MEMORY[0x1E69E96A0], block);
    }

    else
    {
      v19 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
      {
        v20 = [v5 localIdentifier];
        *buf = 138543362;
        v46 = v20;
        _os_log_impl(&dword_1A3C1C000, v19, OS_LOG_TYPE_DEFAULT, "Will exit preview library scope with identifier: %{public}@", buf, 0xCu);
      }

      v25[0] = MEMORY[0x1E69E9820];
      v25[1] = 3221225472;
      v25[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_342;
      v25[3] = &unk_1E7744EB0;
      v26 = v5;
      v29 = v37;
      v30 = &v39;
      v27 = v6;
      v28 = v9;
      _ExpungeLibraryScope(v26, v25);

      v15 = &v26;
      v16 = &v27;
    }

    v18 = *v15;
    goto LABEL_14;
  }

  v17 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v17, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v17, OS_LOG_TYPE_ERROR, "Failed to present exit preview progress alert", buf, 2u);
  }

  if (v9)
  {
    v18 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"Failed to present exit preview progress alert"];
    (*(v9 + 2))(v9, 0, v18);
LABEL_14:
  }

  _Block_object_dispose(v37, 8);
  _Block_object_dispose(&v39, 8);
}

void sub_1A50C81DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, char a33)
{
  _Block_object_dispose(&a33, 8);
  _Block_object_dispose((v33 - 160), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryExitPreviewLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v5 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Exit Shared Library Preview", v5, 2u);
  }

  *(*(*(a1 + 40) + 8) + 24) = 1;
  v3 = *(a1 + 32);
  if (v3)
  {
    v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Exit Shared Library Preview");
    (*(v3 + 16))(v3, 0, v4);
  }
}

void __PXSharedLibraryExitPreviewLibraryScope_block_invoke_337(uint64_t a1)
{
  if ((*(*(*(a1 + 48) + 8) + 24) & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Exit from Preview Failed", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Exit from Preview Failed"];
    v4 = *(*(*(a1 + 56) + 8) + 40);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_341;
    v8[3] = &unk_1E774C2F0;
    v5 = *(a1 + 32);
    v6 = *(a1 + 40);
    v9 = v3;
    v10 = v6;
    v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryExitPreviewLibraryScope_block_invoke_342(uint64_t a1, int a2, void *a3)
{
  v23 = *MEMORY[0x1E69E9840];
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v6 = PLSharedLibraryGetLog();
  v7 = v6;
  if (a2)
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_7;
    }

    v8 = [*(a1 + 32) localIdentifier];
    *buf = 138543362;
    v20 = v8;
    v9 = "Did exit preview library scope with identifier: %{public}@";
    v10 = v7;
    v11 = OS_LOG_TYPE_DEFAULT;
    v12 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_7;
    }

    v8 = [*(a1 + 32) localIdentifier];
    *buf = 138543618;
    v20 = v8;
    v21 = 2112;
    v22 = v5;
    v9 = "Failed to exit preview library scope with identifier: %{public}@, error: %@";
    v10 = v7;
    v11 = OS_LOG_TYPE_ERROR;
    v12 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v10, v11, v9, buf, v12);

LABEL_7:
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0)
  {
    v13 = *(*(*(a1 + 64) + 8) + 40);
    v15[0] = MEMORY[0x1E69E9820];
    v15[1] = 3221225472;
    v15[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_343;
    v15[3] = &unk_1E774A940;
    v14 = *(a1 + 40);
    v17 = *(a1 + 48);
    v18 = a2;
    v16 = v5;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v13, v14, v15);
  }
}

uint64_t __PXSharedLibraryExitPreviewLibraryScope_block_invoke_343(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  result = *(a1 + 40);
  if (result)
  {
    v3 = *(result + 16);

    return v3();
  }

  return result;
}

uint64_t __PXSharedLibraryExitPreviewLibraryScope_block_invoke_341(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

void PXSharedLibraryExitLibraryScope(void *a1, unint64_t a2, void *a3, void *a4, void *a5)
{
  v75 = *MEMORY[0x1E69E9840];
  v9 = a1;
  v10 = a3;
  v11 = a4;
  v12 = a5;
  if (v9)
  {
    if (v11)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v37 = [MEMORY[0x1E696AAA8] currentHandler];
    v38 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryExitLibraryScope(PHLibraryScope *__strong _Nonnull, PHLibraryScopeExitRetentionPolicy, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v37 handleFailureInFunction:v38 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1369 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v11)
    {
      goto LABEL_3;
    }
  }

  v39 = [MEMORY[0x1E696AAA8] currentHandler];
  v40 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryExitLibraryScope(PHLibraryScope *__strong _Nonnull, PHLibraryScopeExitRetentionPolicy, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v39 handleFailureInFunction:v40 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1370 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

LABEL_3:
  v65 = 0;
  v66 = &v65;
  v67 = 0x3032000000;
  v68 = __Block_byref_object_copy__208724;
  v69 = __Block_byref_object_dispose__208725;
  v70 = 0;
  v63[0] = 0;
  v63[1] = v63;
  v63[2] = 0x2020000000;
  v64 = 0;
  if (v10)
  {
    goto LABEL_9;
  }

  if ([v9 status] == 1)
  {
    v13 = @"PXSharedLibraryExitProgressTitle_Owner";
  }

  else
  {
    v13 = @"PXSharedLibraryExitProgressTitle_Participant";
  }

  v14 = PXLocalizedSharedLibraryString(v13);
  v60[0] = MEMORY[0x1E69E9820];
  v60[1] = 3221225472;
  v60[2] = __PXSharedLibraryExitLibraryScope_block_invoke;
  v60[3] = &unk_1E77463F8;
  v62 = v63;
  v15 = v12;
  v61 = v15;
  v16 = PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(v14, 0, v11, v60);
  v17 = v66[5];
  v66[5] = v16;

  if (v66[5])
  {

LABEL_9:
    aBlock[0] = MEMORY[0x1E69E9820];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXSharedLibraryExitLibraryScope_block_invoke_356;
    aBlock[3] = &unk_1E7744CA8;
    v59 = &v65;
    v58 = v11;
    v18 = _Block_copy(aBlock);
    v19 = +[PXSharedLibrarySettings sharedInstance];
    v20 = [v19 simulateErrorType] == 5;

    if (v20)
    {
      v21 = dispatch_time(0, 5000000000);
      v22 = block;
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryExitLibraryScope_block_invoke_3;
      block[3] = &unk_1E7744CD0;
      v56 = v63;
      block[4] = v10;
      v54 = v18;
      v55 = v12;
      dispatch_after(v21, MEMORY[0x1E69E96A0], block);
    }

    else
    {
      v23 = +[PXSharedLibrarySettings sharedInstance];
      v24 = [v23 simulateErrorType] == 6;

      if (!v24)
      {
        v27 = PLSharedLibraryGetLog();
        if (os_log_type_enabled(v27, OS_LOG_TYPE_DEFAULT))
        {
          if (a2 >= 3)
          {
            v28 = [MEMORY[0x1E696AEC0] stringWithFormat:@"Invalid PHSharedLibraryExitRetentionPolicy: %ld", a2];
          }

          else
          {
            v28 = off_1E7745278[a2];
          }

          v31 = v28;
          v32 = [v9 localIdentifier];
          *buf = 138543618;
          v72 = v31;
          v73 = 2114;
          v74 = v32;
          _os_log_impl(&dword_1A3C1C000, v27, OS_LOG_TYPE_DEFAULT, "Will exit with retention policy: %{public}@ for library scope with identifier: %{public}@", buf, 0x16u);
        }

        v33 = PLSharedLibraryGetLog();
        v34 = os_signpost_id_generate(v33);
        v35 = v33;
        v36 = v35;
        if (v34 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v35))
        {
          *buf = 0;
          _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v36, OS_SIGNPOST_INTERVAL_BEGIN, v34, "ExitLibraryScope", "", buf, 2u);
        }

        v41[0] = MEMORY[0x1E69E9820];
        v41[1] = 3221225472;
        v41[2] = __PXSharedLibraryExitLibraryScope_block_invoke_374;
        v41[3] = &unk_1E7744F00;
        v26 = v36;
        v42 = v26;
        v48 = v34;
        v43 = v9;
        v47 = v63;
        v44 = v10;
        v45 = v18;
        v46 = v12;
        [v43 startExitFromLibraryScopeWithRetentionPolicy:a2 exitSource:1 completion:v41];

        goto LABEL_28;
      }

      v25 = dispatch_time(0, 5000000000);
      v22 = v49;
      v49[0] = MEMORY[0x1E69E9820];
      v49[1] = 3221225472;
      v49[2] = __PXSharedLibraryExitLibraryScope_block_invoke_2_361;
      v49[3] = &unk_1E7744CD0;
      v52 = v63;
      v49[4] = v10;
      v50 = v18;
      v51 = v12;
      dispatch_after(v25, MEMORY[0x1E69E96A0], v49);
    }

    v26 = v22[4];
LABEL_28:

    v14 = v58;
    goto LABEL_29;
  }

  v29 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v29, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v29, OS_LOG_TYPE_ERROR, "Failed to present exit progress alert", buf, 2u);
  }

  if (v15)
  {
    v30 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"Failed to present exit progress alert"];
    (*(v15 + 2))(v15, 0, v30);
  }

LABEL_29:
  _Block_object_dispose(v63, 8);
  _Block_object_dispose(&v65, 8);
}

void sub_1A50C8DA4(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 208), 8);
  _Block_object_dispose((v1 - 176), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryExitLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v5 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Exit Shared Library", v5, 2u);
  }

  *(*(*(a1 + 40) + 8) + 24) = 1;
  v3 = *(a1 + 32);
  if (v3)
  {
    v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Exit Shared Library");
    (*(v3 + 16))(v3, 0, v4);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_356(uint64_t a1, void *a2)
{
  v3 = a2;
  v4 = v3;
  v5 = *(*(*(a1 + 40) + 8) + 40);
  if (v5)
  {
    v6 = *(a1 + 32);
    v7[0] = MEMORY[0x1E69E9820];
    v7[1] = 3221225472;
    v7[2] = __PXSharedLibraryExitLibraryScope_block_invoke_2;
    v7[3] = &unk_1E774C250;
    v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }

  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_3(uint64_t a1)
{
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0 && ([*(a1 + 32) isCancelled] & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Exit Failed", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Exit Failed"];
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryExitLibraryScope_block_invoke_360;
    v8[3] = &unk_1E774C2F0;
    v4 = *(a1 + 40);
    v5 = *(a1 + 48);
    v9 = v3;
    v10 = v5;
    v6 = *(v4 + 16);
    v7 = v3;
    v6(v4, v8);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_2_361(uint64_t a1)
{
  v18[3] = *MEMORY[0x1E69E9840];
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0 && ([*(a1 + 32) isCancelled] & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Exit Failed (ServerGeneratedLocalizedDescription)", buf, 2u);
    }

    v3 = MEMORY[0x1E696ABC0];
    v4 = *MEMORY[0x1E6978F50];
    v5 = *MEMORY[0x1E6978FC0];
    v17[0] = *MEMORY[0x1E696A278];
    v17[1] = v5;
    v18[0] = @"Simulated Error: Exit Failed (ServerGeneratedLocalizedDescription)";
    v18[1] = @"<< Server Generated Localized Description >>";
    v17[2] = *MEMORY[0x1E6978E80];
    v6 = [MEMORY[0x1E695DFF8] URLWithString:@"https://www.apple.com/"];
    v18[2] = v6;
    v7 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v18 forKeys:v17 count:3];
    v8 = [v3 errorWithDomain:v4 code:-1 userInfo:v7];

    v13[0] = MEMORY[0x1E69E9820];
    v13[1] = 3221225472;
    v13[2] = __PXSharedLibraryExitLibraryScope_block_invoke_373;
    v13[3] = &unk_1E774C2F0;
    v9 = *(a1 + 40);
    v10 = *(a1 + 48);
    v14 = v8;
    v15 = v10;
    v11 = *(v9 + 16);
    v12 = v8;
    v11(v9, v13);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_374(uint64_t a1, int a2, void *a3)
{
  v25 = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = *(a1 + 32);
  v7 = v6;
  v8 = *(a1 + 80);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v7, OS_SIGNPOST_INTERVAL_END, v8, "ExitLibraryScope", "", buf, 2u);
  }

  v9 = PLSharedLibraryGetLog();
  v10 = v9;
  if (a2)
  {
    if (os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      v11 = [*(a1 + 40) localIdentifier];
      *buf = 138543362;
      v22 = v11;
      v12 = "Did exit library scope with identifier: %{public}@";
      v13 = v10;
      v14 = OS_LOG_TYPE_DEFAULT;
      v15 = 12;
LABEL_9:
      _os_log_impl(&dword_1A3C1C000, v13, v14, v12, buf, v15);
    }
  }

  else if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
  {
    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543618;
    v22 = v11;
    v23 = 2112;
    v24 = v5;
    v12 = "Failed to exit library scope with identifier: %{public}@, error: %@";
    v13 = v10;
    v14 = OS_LOG_TYPE_ERROR;
    v15 = 22;
    goto LABEL_9;
  }

  if ((*(*(*(a1 + 72) + 8) + 24) & 1) == 0 && ([*(a1 + 48) isCancelled] & 1) == 0)
  {
    v16[0] = MEMORY[0x1E69E9820];
    v16[1] = 3221225472;
    v16[2] = __PXSharedLibraryExitLibraryScope_block_invoke_375;
    v16[3] = &unk_1E7744ED8;
    v18 = *(a1 + 56);
    v19 = *(a1 + 64);
    v20 = a2;
    v17 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], v16);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_375(uint64_t a1)
{
  v3[0] = MEMORY[0x1E69E9820];
  v3[1] = 3221225472;
  v3[2] = __PXSharedLibraryExitLibraryScope_block_invoke_2_376;
  v3[3] = &unk_1E774A940;
  v2 = *(a1 + 40);
  v5 = *(a1 + 48);
  v6 = *(a1 + 56);
  v4 = *(a1 + 32);
  (*(v2 + 16))(v2, v3);
}

uint64_t __PXSharedLibraryExitLibraryScope_block_invoke_2_376(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, *(a1 + 48), *(a1 + 32));
  }

  return result;
}

uint64_t __PXSharedLibraryExitLibraryScope_block_invoke_373(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

uint64_t __PXSharedLibraryExitLibraryScope_block_invoke_360(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

BOOL PXSharedLibraryCanEditParticipantsInLibraryScope(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXSharedLibraryCanEditParticipantsInLibraryScope(PHLibraryScope *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1475 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];
  }

  v2 = [v1 status] == 1;

  return v2;
}

BOOL PXSharedLibraryCanAddParticipantsToLibraryScope(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (!v5)
  {
    v13 = [MEMORY[0x1E696AAA8] currentHandler];
    v14 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)"}];
    [v13 handleFailureInFunction:v14 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1484 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];
  }

  v8 = [v6 count];
  v9 = [v7 count] + v8;
  if (!v9)
  {
    v15 = [MEMORY[0x1E696AAA8] currentHandler];
    v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)"}];
    [v15 handleFailureInFunction:v16 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1487 description:{@"Invalid parameter not satisfying: %@", @"newParticipantsCount > 0"}];
  }

  if (PXSharedLibraryCanEditParticipantsInLibraryScope(v5))
  {
    v10 = [MEMORY[0x1E6978AC0] fetchParticipantsInShare:v5 options:0];
    v11 = ([v10 count] + v9) < 7;
  }

  else
  {
    v11 = 0;
  }

  return v11;
}

void _AddParticipantsToLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  v50 = *MEMORY[0x1E69E9840];
  v7 = a1;
  v8 = a2;
  v9 = a3;
  v10 = a4;
  v11 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
  {
    v12 = [v8 count];
    v13 = [v9 count];
    v14 = [v7 localIdentifier];
    *buf = 134219010;
    v41 = v12;
    v42 = 2112;
    v43 = v8;
    v44 = 2048;
    v45 = v13;
    v46 = 2112;
    v47 = v9;
    v48 = 2114;
    v49 = v14;
    _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_DEFAULT, "Will add participants for %lu email addresses: %@ or %lu phone numbers: %@ to library scope with identifier: %{public}@", buf, 0x34u);
  }

  v15 = PLSharedLibraryGetLog();
  v16 = os_signpost_id_generate(v15);
  v17 = v15;
  v18 = v17;
  if (v16 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v17))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v18, OS_SIGNPOST_INTERVAL_BEGIN, v16, "AddParticipants", "", buf, 2u);
  }

  v19 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v20 = [v7 photoLibrary];
  v35[0] = MEMORY[0x1E69E9820];
  v35[1] = 3221225472;
  v35[2] = ___AddParticipantsToLibraryScope_block_invoke;
  v35[3] = &unk_1E7744F50;
  v36 = v8;
  v37 = v19;
  v38 = v9;
  v39 = v7;
  v28[0] = MEMORY[0x1E69E9820];
  v28[1] = 3221225472;
  v28[2] = ___AddParticipantsToLibraryScope_block_invoke_4;
  v28[3] = &unk_1E77487D8;
  v29 = v20;
  v30 = v37;
  v31 = v18;
  v32 = v39;
  v33 = v10;
  v34 = v16;
  v21 = v10;
  v22 = v39;
  v23 = v18;
  v24 = v37;
  v25 = v20;
  v26 = v9;
  v27 = v8;
  [v25 performChanges:v35 completionHandler:v28];
}

void PXSharedLibraryAddParticipantsToLibraryScope(void *a1, void *a2, void *a3, void *a4, void *a5)
{
  v9 = a1;
  v10 = a2;
  v11 = a3;
  v12 = v10;
  v13 = v11;
  v14 = a4;
  v15 = a5;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (v12)
  {
    if (v13)
    {
      goto LABEL_3;
    }

LABEL_20:
    v38 = [MEMORY[0x1E696AAA8] currentHandler];
    v39 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v38 handleFailureInFunction:v39 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1539 description:{@"Invalid parameter not satisfying: %@", @"phoneNumbers"}];

    if (v14)
    {
      goto LABEL_4;
    }

    goto LABEL_21;
  }

  v36 = [MEMORY[0x1E696AAA8] currentHandler];
  v37 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v36 handleFailureInFunction:v37 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1538 description:{@"Invalid parameter not satisfying: %@", @"emailAddresses"}];

  if (!v13)
  {
    goto LABEL_20;
  }

LABEL_3:
  if (v14)
  {
    goto LABEL_4;
  }

LABEL_21:
  v40 = [MEMORY[0x1E696AAA8] currentHandler];
  v41 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v40 handleFailureInFunction:v41 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1540 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

LABEL_4:
  v64 = 0;
  v65 = &v64;
  v66 = 0x3032000000;
  v67 = __Block_byref_object_copy__208724;
  v68 = __Block_byref_object_dispose__208725;
  v69 = 0;
  v62[0] = 0;
  v62[1] = v62;
  v62[2] = 0x2020000000;
  v63 = 0;
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2;
  aBlock[3] = &unk_1E7744FB8;
  v61 = v62;
  v59 = &__block_literal_global_389_209057;
  v16 = v15;
  v60 = v16;
  v17 = _Block_copy(aBlock);
  v18 = [v12 count];
  v43 = v13;
  if (([v13 count] + v18) <= 1)
  {
    v19 = @"PXSharedLibraryAddingParticipantsProgressTitle_Singular";
  }

  else
  {
    v19 = @"PXSharedLibraryAddingParticipantsProgressTitle_Plural";
  }

  v20 = PXLocalizedSharedLibraryString(v19);
  v21 = PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(v20, 0, v14, v17);
  v22 = v65[5];
  v65[5] = v21;

  if (v65[5])
  {
    v23 = +[PXSharedLibrarySettings sharedInstance];
    v24 = [v23 simulateErrorType];

    v42 = v12;
    if (v24 == 21)
    {
      v25 = v9;
      v26 = dispatch_time(0, 5000000000);
      v53[0] = MEMORY[0x1E69E9820];
      v53[1] = 3221225472;
      v53[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_402;
      v53[3] = &unk_1E7745008;
      v56[1] = v62;
      v56[2] = &v64;
      v27 = &v54;
      v28 = &v55;
      v54 = v14;
      v55 = &__block_literal_global_389_209057;
      v29 = v56;
      v56[0] = v16;
      v30 = MEMORY[0x1E69E96A0];
      v31 = v53;
    }

    else
    {
      v34 = +[PXSharedLibrarySettings sharedInstance];
      v35 = [v34 simulateErrorType];

      if (v35 != 22)
      {
        v44[0] = MEMORY[0x1E69E9820];
        v44[1] = 3221225472;
        v44[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_412;
        v44[3] = &unk_1E77450A8;
        v48[1] = v62;
        v48[2] = &v64;
        v45 = v14;
        v47 = &__block_literal_global_389_209057;
        v48[0] = v16;
        v46 = v9;
        _AddParticipantsToLibraryScope(v46, v12, v13, v44);
        v25 = v9;
        v27 = &v45;
        v28 = &v47;
        v29 = v48;
        v30 = v46;
        goto LABEL_17;
      }

      v25 = v9;
      v26 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_407;
      block[3] = &unk_1E7745008;
      v52[1] = v62;
      v52[2] = &v64;
      v27 = &v50;
      v28 = &v51;
      v50 = v14;
      v51 = &__block_literal_global_389_209057;
      v29 = v52;
      v52[0] = v16;
      v30 = MEMORY[0x1E69E96A0];
      v31 = block;
    }

    dispatch_after(v26, v30, v31);
LABEL_17:

    v33 = *v27;
    v9 = v25;
    v12 = v42;
    v13 = v43;
    goto LABEL_18;
  }

  v32 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v32, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v32, OS_LOG_TYPE_ERROR, "Failed to present add participants progress alert", buf, 2u);
  }

  v33 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"Failed to present add participants progress alert"];
  __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke(v33, v33, v16);
LABEL_18:

  _Block_object_dispose(v62, 8);
  _Block_object_dispose(&v64, 8);
}

void sub_1A50CA674(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 184), 8);
  _Block_object_dispose((v1 - 152), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2(void *a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v5 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Add Participants", v5, 2u);
  }

  *(*(a1[6] + 8) + 24) = 1;
  v3 = a1[4];
  v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Add Participants");
  (*(v3 + 16))(v3, v4, a1[5]);
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v4 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (v4)
  {
    v4[2](v4, 0, v5);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_402(uint64_t a1)
{
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Adding Participants Failed", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Adding Participants Failed"];
    v4 = *(*(*(a1 + 64) + 8) + 40);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_406;
    v8[3] = &unk_1E7744FE0;
    v5 = *(a1 + 32);
    v6 = *(a1 + 40);
    v9 = v3;
    v10 = v6;
    v11 = *(a1 + 48);
    v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_407(uint64_t a1)
{
  if ((*(*(*(a1 + 56) + 8) + 24) & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Adding Participants Failed: Too Many", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:*MEMORY[0x1E6978F50] code:6011 debugDescription:@"Simulated Error: Adding Participants Failed: Too Many"];
    v4 = *(*(*(a1 + 64) + 8) + 40);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_411;
    v8[3] = &unk_1E7744FE0;
    v5 = *(a1 + 32);
    v6 = *(a1 + 40);
    v9 = v3;
    v10 = v6;
    v11 = *(a1 + 48);
    v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_412(uint64_t a1, char a2, void *a3, void *a4)
{
  v7 = a3;
  v8 = a4;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v9 = *(a1 + 64);
  if ((*(*(v9 + 8) + 24) & 1) == 0)
  {
    if (a2)
    {
      v17[0] = MEMORY[0x1E69E9820];
      v17[1] = 3221225472;
      v17[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_4;
      v17[3] = &unk_1E7745080;
      v10 = *(a1 + 72);
      v23 = v9;
      v24 = v10;
      v11 = &v18;
      v12 = *(a1 + 40);
      v18 = *(a1 + 32);
      v13 = &v21;
      v21 = *(a1 + 56);
      v14 = &v19;
      v19 = v7;
      v20 = *(a1 + 40);
      v22 = *(a1 + 48);
      _PublishLibraryScope(v12, v17);
    }

    else
    {
      v15 = *(*(*(a1 + 72) + 8) + 40);
      v16 = *(a1 + 32);
      v25[0] = MEMORY[0x1E69E9820];
      v25[1] = 3221225472;
      v25[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_3;
      v25[3] = &unk_1E7744FE0;
      v11 = &v27;
      v27 = *(a1 + 48);
      v13 = &v26;
      v26 = v8;
      v14 = &v28;
      v28 = *(a1 + 56);
      PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v15, v16, v25);
    }
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_4(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 72) + 8) + 24) & 1) == 0)
  {
    v7 = *(*(*(a1 + 80) + 8) + 40);
    v8 = *(a1 + 32);
    v9[0] = MEMORY[0x1E69E9820];
    v9[1] = 3221225472;
    v9[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_5;
    v9[3] = &unk_1E7745058;
    v10 = v5;
    v14 = *(a1 + 56);
    v11 = *(a1 + 40);
    v12 = *(a1 + 48);
    v15 = *(a1 + 64);
    v13 = v6;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v7, v8, v9);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_5(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if (*(a1 + 32))
  {
    v2 = *(a1 + 64);
    if (v2)
    {
      v3 = *(v2 + 16);

LABEL_13:
      v3();
    }
  }

  else
  {
    if (![*(a1 + 40) count])
    {
      v3 = *(*(a1 + 72) + 16);

      goto LABEL_13;
    }

    v4 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v4, OS_LOG_TYPE_ERROR, "Publishing library scope after adding participants failed, deleting the added participants.", buf, 2u);
    }

    v5 = [*(a1 + 48) photoLibrary];
    v10[0] = MEMORY[0x1E69E9820];
    v10[1] = 3221225472;
    v10[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_413;
    v10[3] = &unk_1E774C620;
    v11 = *(a1 + 48);
    v12 = *(a1 + 40);
    v6[0] = MEMORY[0x1E69E9820];
    v6[1] = 3221225472;
    v6[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_414;
    v6[3] = &unk_1E7745030;
    v8 = *(a1 + 72);
    v7 = *(a1 + 56);
    v9 = *(a1 + 64);
    [v5 performChanges:v10 completionHandler:v6];
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_413(uint64_t a1)
{
  v2 = [MEMORY[0x1E69788A8] changeRequestForLibraryScope:*(a1 + 32)];
  [v2 removeParticipants:*(a1 + 40)];
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_414(id *a1, char a2, void *a3)
{
  v5 = a3;
  block[0] = MEMORY[0x1E69E9820];
  block[1] = 3221225472;
  block[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_3_415;
  block[3] = &unk_1E7747F20;
  v12 = a2;
  v10 = a1[5];
  v8 = a1[4];
  v11 = a1[6];
  v9 = v5;
  v6 = v5;
  dispatch_async(MEMORY[0x1E69E96A0], block);
}

uint64_t __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_3_415(uint64_t a1)
{
  v1 = 40;
  if (*(a1 + 64))
  {
    v1 = 32;
  }

  return (*(*(a1 + 48) + 16))(*(a1 + 48), *(a1 + v1), *(a1 + 56));
}

uint64_t PXSharedLibraryCanDeleteParticipantsFromLibraryScope(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  if (!v3)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull)"}];
    [v6 handleFailureInFunction:v7 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1658 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];
  }

  if (![v4 count])
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull)"}];
    [v8 handleFailureInFunction:v9 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1659 description:{@"Invalid parameter not satisfying: %@", @"participants.count"}];
  }

  if (PXSharedLibraryCanEditParticipantsInLibraryScope(v3))
  {
    PXExists();
  }

  return 0;
}

BOOL __PXSharedLibraryCanDeleteParticipantsFromLibraryScope_block_invoke(uint64_t a1, void *a2)
{
  v2 = a2;
  v3 = [v2 role] == 1 || objc_msgSend(v2, "exitState") != 0;

  return v3;
}

void _DeleteParticipantsFromLibraryScope(void *a1, void *a2, void *a3)
{
  v29 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    v9 = [v6 count];
    v10 = [v5 localIdentifier];
    *buf = 134218498;
    v24 = v9;
    v25 = 2112;
    v26 = v6;
    v27 = 2114;
    v28 = v10;
    _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_DEFAULT, "Will delete %lu participants: %@ from library scope with identifier: %{public}@", buf, 0x20u);
  }

  v11 = PLSharedLibraryGetLog();
  v12 = os_signpost_id_generate(v11);
  v13 = v11;
  v14 = v13;
  if (v12 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v13))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v14, OS_SIGNPOST_INTERVAL_BEGIN, v12, "DeleteParticipants", "", buf, 2u);
  }

  v18[0] = MEMORY[0x1E69E9820];
  v18[1] = 3221225472;
  v18[2] = ___DeleteParticipantsFromLibraryScope_block_invoke;
  v18[3] = &unk_1E7746F80;
  v19 = v14;
  v20 = v5;
  v21 = v7;
  v22 = v12;
  v15 = v7;
  v16 = v5;
  v17 = v14;
  [v16 removeParticipants:v6 exitSource:1 completion:v18];
}

void PXSharedLibraryDeleteParticipantsFromLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  v7 = a1;
  v8 = a2;
  v9 = a3;
  v10 = a4;
  if (!v7)
  {
    v24 = [MEMORY[0x1E696AAA8] currentHandler];
    v25 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v24 handleFailureInFunction:v25 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1693 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];
  }

  if ([v8 count])
  {
    if (v9)
    {
      goto LABEL_5;
    }
  }

  else
  {
    v26 = [MEMORY[0x1E696AAA8] currentHandler];
    v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v26 handleFailureInFunction:v27 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1694 description:{@"Invalid parameter not satisfying: %@", @"participants.count"}];

    if (v9)
    {
      goto LABEL_5;
    }
  }

  v28 = [MEMORY[0x1E696AAA8] currentHandler];
  v29 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v28 handleFailureInFunction:v29 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1695 description:{@"Invalid parameter not satisfying: %@", @"presentationEnvironment"}];

LABEL_5:
  v42 = 0;
  v43 = &v42;
  v44 = 0x3032000000;
  v45 = __Block_byref_object_copy__208724;
  v46 = __Block_byref_object_dispose__208725;
  v47 = 0;
  v40[0] = 0;
  v40[1] = v40;
  v40[2] = 0x2020000000;
  v41 = 0;
  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke;
  aBlock[3] = &unk_1E77463F8;
  v39 = v40;
  v11 = v10;
  v38 = v11;
  v12 = _Block_copy(aBlock);
  if ([v8 count] <= 1)
  {
    v13 = @"PXSharedLibraryDeletingParticipantsProgressTitle_Singular";
  }

  else
  {
    v13 = @"PXSharedLibraryDeletingParticipantsProgressTitle_Plural";
  }

  v14 = PXLocalizedSharedLibraryString(v13);
  v15 = PXSharedLibraryPresentProgressAlertWithMessagePresentationEnvironment(v14, 0, v9, v12);
  v16 = v43[5];
  v43[5] = v15;

  if (v43[5])
  {
    v17 = +[PXSharedLibrarySettings sharedInstance];
    v18 = [v17 simulateErrorType];

    if (v18 == 21)
    {
      v19 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E69E9820];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_436;
      block[3] = &unk_1E7744E88;
      v35[1] = v40;
      v35[2] = &v42;
      v20 = &v34;
      v34 = v9;
      v21 = v35;
      v35[0] = v11;
      dispatch_after(v19, MEMORY[0x1E69E96A0], block);
    }

    else
    {
      v30[0] = MEMORY[0x1E69E9820];
      v30[1] = 3221225472;
      v30[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_2;
      v30[3] = &unk_1E77450F0;
      v32[1] = v40;
      v32[2] = &v42;
      v31 = v9;
      v32[0] = v11;
      _DeleteParticipantsFromLibraryScope(v7, v8, v30);
      v20 = &v31;
      v21 = v32;
    }

    v23 = *v20;
    goto LABEL_17;
  }

  v22 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v22, OS_LOG_TYPE_ERROR))
  {
    *buf = 0;
    _os_log_impl(&dword_1A3C1C000, v22, OS_LOG_TYPE_ERROR, "Failed to present delete participants progress alert", buf, 2u);
  }

  if (v11)
  {
    v23 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"Failed to present delete participants progress alert"];
    (*(v11 + 2))(v11, 0, v23);
LABEL_17:
  }

  _Block_object_dispose(v40, 8);
  _Block_object_dispose(&v42, 8);
}

void sub_1A50CBC20(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 176), 8);
  _Block_object_dispose((v1 - 144), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *v5 = 0;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Delete Participants", v5, 2u);
  }

  *(*(*(a1 + 40) + 8) + 24) = 1;
  v3 = *(a1 + 32);
  if (v3)
  {
    v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Delete Participants");
    (*(v3 + 16))(v3, 0, v4);
  }
}

void __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_436(uint64_t a1)
{
  if ((*(*(*(a1 + 48) + 8) + 24) & 1) == 0)
  {
    v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Deleting Participants Failed", buf, 2u);
    }

    v3 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Deleting Participants Failed"];
    v4 = *(*(*(a1 + 56) + 8) + 40);
    v8[0] = MEMORY[0x1E69E9820];
    v8[1] = 3221225472;
    v8[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_440;
    v8[3] = &unk_1E774C2F0;
    v5 = *(a1 + 32);
    v6 = *(a1 + 40);
    v9 = v3;
    v10 = v6;
    v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  if ((*(*(*(a1 + 48) + 8) + 24) & 1) == 0)
  {
    v6 = *(*(*(a1 + 56) + 8) + 40);
    v7 = *(a1 + 32);
    if (a2)
    {
      v9[0] = MEMORY[0x1E69E9820];
      v9[1] = 3221225472;
      v9[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_4;
      v9[3] = &unk_1E774C250;
      v8 = &v10;
      v10 = *(a1 + 40);
      PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v6, v7, v9);
    }

    else
    {
      v11[0] = MEMORY[0x1E69E9820];
      v11[1] = 3221225472;
      v11[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_3;
      v11[3] = &unk_1E774C2F0;
      v8 = &v13;
      v13 = *(a1 + 40);
      v12 = v5;
      PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v6, v7, v11);
    }
  }
}

uint64_t __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_3(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  result = *(a1 + 40);
  if (result)
  {
    v3 = *(result + 16);

    return v3();
  }

  return result;
}

uint64_t __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_4(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E69E96A0]);
  result = *(a1 + 32);
  if (result)
  {
    v3 = *(result + 16);

    return v3();
  }

  return result;
}

uint64_t __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_440(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

uint64_t _CanMoveToSharedLibraryOrPersonalLibrary(uint64_t a1, void *a2, int a3)
{
  v17 = *MEMORY[0x1E69E9840];
  v12 = 0u;
  v13 = 0u;
  v14 = 0u;
  v15 = 0u;
  v4 = a2;
  v5 = [v4 countByEnumeratingWithState:&v12 objects:v16 count:16];
  if (v5)
  {
    v6 = v5;
    v7 = *v13;
    if (a3)
    {
      v8 = 102;
    }

    else
    {
      v8 = 103;
    }

    while (2)
    {
      v9 = 0;
      do
      {
        if (*v13 != v7)
        {
          objc_enumerationMutation(v4);
        }

        if ([*(*(&v12 + 1) + 8 * v9) canPerformEditOperation:{v8, v12}])
        {
          v10 = 1;
          goto LABEL_13;
        }

        ++v9;
      }

      while (v6 != v9);
      v6 = [v4 countByEnumeratingWithState:&v12 objects:v16 count:16];
      if (v6)
      {
        continue;
      }

      break;
    }
  }

  v10 = 0;
LABEL_13:

  return v10;
}

uint64_t PXSharedLibraryCanMoveAssetsToLibraryScope(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (!v3)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)"}];
    [v9 handleFailureInFunction:v10 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1781 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v5)
    {
      goto LABEL_3;
    }

LABEL_6:
    v11 = [MEMORY[0x1E696AAA8] currentHandler];
    v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)"}];
    [v11 handleFailureInFunction:v12 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1782 description:{@"Invalid parameter not satisfying: %@", @"assets"}];

    v6 = 0;
    goto LABEL_4;
  }

  if (!v4)
  {
    goto LABEL_6;
  }

LABEL_3:
  v6 = v5;
LABEL_4:
  CanMoveToSharedLibraryOrPersonalLibrary = _CanMoveToSharedLibraryOrPersonalLibrary(v4, v6, 1);

  return CanMoveToSharedLibraryOrPersonalLibrary;
}

uint64_t PXSharedLibraryCanMoveAssetsToSPLPersonalLibrary(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (!v3)
  {
    v9 = [MEMORY[0x1E696AAA8] currentHandler];
    v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)"}];
    [v9 handleFailureInFunction:v10 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1789 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v5)
    {
      goto LABEL_3;
    }

LABEL_6:
    v11 = [MEMORY[0x1E696AAA8] currentHandler];
    v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedLibraryCanMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)"}];
    [v11 handleFailureInFunction:v12 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1790 description:{@"Invalid parameter not satisfying: %@", @"assets"}];

    v6 = 0;
    goto LABEL_4;
  }

  if (!v4)
  {
    goto LABEL_6;
  }

LABEL_3:
  v6 = v5;
LABEL_4:
  CanMoveToSharedLibraryOrPersonalLibrary = _CanMoveToSharedLibraryOrPersonalLibrary(v4, v6, 0);

  return CanMoveToSharedLibraryOrPersonalLibrary;
}

uint64_t PXSharedLibraryCanRejectAssetsSharingSuggestionsForLibraryScope(uint64_t a1, void *a2)
{
  v15 = *MEMORY[0x1E69E9840];
  v10 = 0u;
  v11 = 0u;
  v12 = 0u;
  v13 = 0u;
  v2 = a2;
  v3 = [v2 countByEnumeratingWithState:&v10 objects:v14 count:16];
  if (v3)
  {
    v4 = *v11;
    while (2)
    {
      for (i = 0; i != v3; ++i)
      {
        if (*v11 != v4)
        {
          objc_enumerationMutation(v2);
        }

        v6 = *(*(&v10 + 1) + 8 * i);
        [v6 fetchPropertySetsIfNeeded];
        v7 = [v6 libraryScopeProperties];
        v8 = [v7 assetIsInPhotosSuggestedPreviewState];

        if (v8)
        {
          v3 = 1;
          goto LABEL_11;
        }
      }

      v3 = [v2 countByEnumeratingWithState:&v10 objects:v14 count:16];
      if (v3)
      {
        continue;
      }

      break;
    }
  }

LABEL_11:

  return v3;
}

void PXSharedLibraryMoveAssetsToLibraryScope(void *a1, void *a2, void *a3)
{
  v42 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v24 = [MEMORY[0x1E696AAA8] currentHandler];
    v25 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v24 handleFailureInFunction:v25 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1809 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v26 = [MEMORY[0x1E696AAA8] currentHandler];
  v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v26 handleFailureInFunction:v27 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1810 description:{@"Invalid parameter not satisfying: %@", @"assets"}];

LABEL_3:
  v8 = +[PXSharedLibrarySettings sharedInstance];
  v9 = [v8 simulateErrorType];

  v10 = PLSharedLibraryGetLog();
  v11 = v10;
  if (v9 == 25)
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_ERROR, "Simulated Error: Move Assets to Shared Library Failed", buf, 2u);
    }

    v12 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Move Assets to Shared Library Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke;
    block[3] = &unk_1E774C2F0;
    v38 = v12;
    v39 = v7;
    v13 = v7;
    v14 = v12;
    dispatch_async(MEMORY[0x1E69E96A0], block);

    v15 = v39;
  }

  else
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      v16 = [v5 localIdentifier];
      *buf = 138543362;
      v41 = v16;
      _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_DEFAULT, "Will move assets to library scope with identifier: %{public}@", buf, 0xCu);
    }

    v17 = PLSharedLibraryGetLog();
    v18 = os_signpost_id_generate(v17);
    v19 = v17;
    v20 = v19;
    if (v18 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v19))
    {
      *buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v20, OS_SIGNPOST_INTERVAL_BEGIN, v18, "MoveAssetsToLibraryScope", "", buf, 2u);
    }

    v21 = _PXSharedLibraryFetchAssetsFromAssets(v6, 0, 0, 0);
    v22 = [v5 photoLibrary];
    v34[0] = MEMORY[0x1E69E9820];
    v34[1] = 3221225472;
    v34[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_447;
    v34[3] = &unk_1E774C620;
    v35 = v5;
    v36 = v21;
    v28[0] = MEMORY[0x1E69E9820];
    v28[1] = 3221225472;
    v28[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_2;
    v28[3] = &unk_1E7745230;
    v29 = v20;
    v33 = v18;
    v31 = v36;
    v32 = v7;
    v30 = v35;
    v15 = v36;
    v23 = v7;
    v14 = v20;
    [v22 performChanges:v34 completionHandler:v28];
  }
}

id _PXSharedLibraryFetchAssetsFromAssets(void *a1, int a2, char a3, int a4)
{
  v52 = *MEMORY[0x1E69E9840];
  v7 = a1;
  if (![v7 count])
  {
    v15 = v7;
    goto LABEL_33;
  }

  v45 = a2;
  v8 = PLSharedLibraryGetLog();
  v9 = os_signpost_id_generate(v8);
  v10 = v8;
  v11 = v10;
  v12 = v9 - 1;
  if (v9 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v10))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v11, OS_SIGNPOST_INTERVAL_BEGIN, v9, "SharedLibraryFetchAssetsFromAssets", "", buf, 2u);
  }

  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      v13 = v7;
      v14 = [v13 oids];
      goto LABEL_10;
    }

    v43 = a3;
    v44 = v9;
    v17 = [MEMORY[0x1E695DF70] array];
    v46 = 0u;
    v47 = 0u;
    v48 = 0u;
    v49 = 0u;
    v19 = v7;
    v20 = [v19 countByEnumeratingWithState:&v46 objects:v51 count:16];
    if (v20)
    {
      v21 = v20;
      v22 = *v47;
      do
      {
        for (i = 0; i != v21; ++i)
        {
          if (*v47 != v22)
          {
            objc_enumerationMutation(v19);
          }

          v24 = [*(*(&v46 + 1) + 8 * i) objectID];
          [v17 addObject:v24];
        }

        v21 = [v19 countByEnumeratingWithState:&v46 objects:v51 count:16];
      }

      while (v21);
    }

    v16 = [v17 copy];
    v25 = [v19 firstObject];
    if (v25)
    {
      objc_opt_class();
      v9 = v44;
      if (objc_opt_isKindOfClass())
      {
LABEL_20:
        v26 = [v25 photoLibrary];
        v18 = [v26 librarySpecificFetchOptions];

        a3 = v43;
        goto LABEL_21;
      }

      v37 = [MEMORY[0x1E696AAA8] currentHandler];
      v41 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"id<PXFastEnumeration> _PXSharedLibraryFetchAssetsFromAssets(__strong id<PXFastEnumeration>, BOOL, BOOL, BOOL)"}];
      v38 = objc_opt_class();
      v34 = NSStringFromClass(v38);
      v40 = [v25 px_descriptionForAssertionMessage];
      v42 = v37;
      v39 = v37;
      v36 = v41;
      [v39 handleFailureInFunction:@"assets.firstObject" file:v34 lineNumber:v40 description:?];
    }

    else
    {
      v31 = [MEMORY[0x1E696AAA8] currentHandler];
      v32 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"id<PXFastEnumeration> _PXSharedLibraryFetchAssetsFromAssets(__strong id<PXFastEnumeration>, BOOL, BOOL, BOOL)"}];
      v33 = objc_opt_class();
      v34 = NSStringFromClass(v33);
      v42 = v31;
      v35 = v31;
      v36 = v32;
      [v35 handleFailureInFunction:v32 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:2017 description:{@"%@ should be an instance inheriting from %@, but it is nil", @"assets.firstObject", v34}];
      v9 = v44;
    }

    goto LABEL_20;
  }

  v13 = v7;
  v14 = [v13 fetchedObjectIDs];
LABEL_10:
  v16 = v14;
  v17 = [v13 photoLibrary];

  v18 = [v17 librarySpecificFetchOptions];
LABEL_21:

  if (a4)
  {
    [v18 setFetchLimit:1];
  }

  if (v45)
  {
    [v18 setIncludeOnlyContentContributedByCurrentUser:1];
  }

  else
  {
    [v18 setIncludeHiddenAssets:1];
    if (a3)
    {
      [MEMORY[0x1E69BE540] predicateToIncludeSharedLibraryAssetsAllowingIndexingOnParticipationState:1];
    }

    else
    {
      [MEMORY[0x1E69BE540] predicateToIncludePrivateLibraryAssetsAllowingIndexingOnParticipationState:1];
    }
    v27 = ;
    [v18 setInternalPredicate:v27];
  }

  v15 = [MEMORY[0x1E6978630] fetchAssetsWithObjectIDs:v16 options:v18];
  v28 = v11;
  v29 = v28;
  if (v12 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v28))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v29, OS_SIGNPOST_INTERVAL_END, v9, "SharedLibraryFetchAssetsFromAssets", "", buf, 2u);
  }

LABEL_33:

  return v15;
}

void __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_447(uint64_t a1)
{
  v2 = [MEMORY[0x1E69788A8] changeRequestForLibraryScope:*(a1 + 32)];
  [v2 moveToSharedLibrary:*(a1 + 40)];
}

void __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v56[1] = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = *(a1 + 32);
  v7 = v6;
  v8 = *(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v7, OS_SIGNPOST_INTERVAL_END, v8, "MoveAssetsToLibraryScope", "", buf, 2u);
  }

  v9 = PLSharedLibraryGetLog();
  v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543362;
    v53 = v11;
    v12 = "Did move assets to library scope with identifier: %{public}@";
    v13 = v10;
    v14 = OS_LOG_TYPE_DEFAULT;
    v15 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543618;
    v53 = v11;
    v54 = 2112;
    v55 = v5;
    v12 = "Failed to move assets to library scope with identifier: %{public}@, error: %@";
    v13 = v10;
    v14 = OS_LOG_TYPE_ERROR;
    v15 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v13, v14, v12, buf, v15);

LABEL_10:
  v16 = *(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_448;
    block[3] = &unk_1E774A940;
    v44 = v16;
    v45 = a2;
    v43 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }

  if (a2)
  {
    v17 = *(a1 + 48);
    objc_opt_class();
    v41 = v5;
    if (objc_opt_isKindOfClass())
    {
      v18 = v17;
      v19 = [v18 fetchPropertySets];
      v20 = *MEMORY[0x1E6978C80];
      v21 = [v19 containsObject:*MEMORY[0x1E6978C80]];

      v17 = v18;
      if ((v21 & 1) == 0)
      {
        v22 = [v18 photoLibrary];
        v23 = [v22 librarySpecificFetchOptions];

        v56[0] = v20;
        v24 = [MEMORY[0x1E695DEC8] arrayWithObjects:v56 count:1];
        [v23 setFetchPropertySets:v24];

        v25 = MEMORY[0x1E6978630];
        v26 = [v18 fetchedObjectIDs];
        v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }

    v27 = objc_alloc_init(MEMORY[0x1E695DF90]);
    v48 = 0u;
    v49 = 0u;
    v50 = 0u;
    v51 = 0u;
    v28 = v17;
    v29 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
    if (v29)
    {
      v30 = v29;
      v31 = *v49;
      do
      {
        for (i = 0; i != v30; ++i)
        {
          if (*v49 != v31)
          {
            objc_enumerationMutation(v28);
          }

          v33 = *(*(&v48 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          v34 = [v33 libraryScopeProperties];
          v35 = [v34 suggestedByClientType] + 1;
          v36 = @"Unknown";
          if (v35 <= 5)
          {
            v36 = off_1E7745290[v35];
          }

          v37 = v36;

          v38 = MEMORY[0x1E696AD98];
          v39 = [v27 objectForKeyedSubscript:v37];
          v40 = [v38 numberWithInt:{objc_msgSend(v39, "intValue") + 1}];
          [v27 setObject:v40 forKeyedSubscript:v37];
        }

        v30 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
      }

      while (v30);
    }

    v46[0] = MEMORY[0x1E69E9820];
    v46[1] = 3221225472;
    v46[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    v46[3] = &unk_1E7745258;
    v47 = @"move to shared";
    [v27 enumerateKeysAndObjectsUsingBlock:v46];

    v5 = v41;
  }
}

void PXSharedLibraryMoveAssetsWithLocalIdentifiersToLibraryScope(void *a1, void *a2, void *a3)
{
  v15 = a1;
  v5 = a2;
  v6 = a3;
  if (v15)
  {
    if (v5)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v11 = [MEMORY[0x1E696AAA8] currentHandler];
    v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryMoveAssetsWithLocalIdentifiersToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v11 handleFailureInFunction:v12 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1855 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v13 = [MEMORY[0x1E696AAA8] currentHandler];
  v14 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryMoveAssetsWithLocalIdentifiersToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v13 handleFailureInFunction:v14 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1856 description:{@"Invalid parameter not satisfying: %@", @"localIdentifiers"}];

LABEL_3:
  v7 = MEMORY[0x1E6978630];
  v8 = [v15 photoLibrary];
  v9 = [v8 librarySpecificFetchOptions];
  v10 = [v7 fetchAssetsWithLocalIdentifiers:v5 options:v9];

  PXSharedLibraryMoveAssetsToLibraryScope(v15, v10, v6);
}

void PXSharedLibraryMoveAssetsToSPLPersonalLibrary(void *a1, void *a2, void *a3)
{
  v42 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v24 = [MEMORY[0x1E696AAA8] currentHandler];
    v25 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v24 handleFailureInFunction:v25 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1863 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v26 = [MEMORY[0x1E696AAA8] currentHandler];
  v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v26 handleFailureInFunction:v27 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1864 description:{@"Invalid parameter not satisfying: %@", @"assets"}];

LABEL_3:
  v8 = +[PXSharedLibrarySettings sharedInstance];
  v9 = [v8 simulateErrorType];

  v10 = PLSharedLibraryGetLog();
  v11 = v10;
  if (v9 == 25)
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_ERROR, "Simulated Error: Move Assets to Personal Library Failed", buf, 2u);
    }

    v12 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Move Assets to Personal Library Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke;
    block[3] = &unk_1E774C2F0;
    v38 = v12;
    v39 = v7;
    v13 = v7;
    v14 = v12;
    dispatch_async(MEMORY[0x1E69E96A0], block);

    v15 = v39;
  }

  else
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      v16 = [v5 localIdentifier];
      *buf = 138543362;
      v41 = v16;
      _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_DEFAULT, "Will move assets to personal library from library scope with identifier: %{public}@", buf, 0xCu);
    }

    v17 = PLSharedLibraryGetLog();
    v18 = os_signpost_id_generate(v17);
    v19 = v17;
    v20 = v19;
    if (v18 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v19))
    {
      *buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v20, OS_SIGNPOST_INTERVAL_BEGIN, v18, "MoveToPersonalLibrary", "", buf, 2u);
    }

    v21 = _PXSharedLibraryFetchAssetsFromAssets(v6, 0, 1, 0);
    v22 = [v5 photoLibrary];
    v34[0] = MEMORY[0x1E69E9820];
    v34[1] = 3221225472;
    v34[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_459;
    v34[3] = &unk_1E774C620;
    v35 = v5;
    v36 = v21;
    v28[0] = MEMORY[0x1E69E9820];
    v28[1] = 3221225472;
    v28[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_2;
    v28[3] = &unk_1E7745230;
    v29 = v20;
    v33 = v18;
    v31 = v36;
    v32 = v7;
    v30 = v35;
    v15 = v36;
    v23 = v7;
    v14 = v20;
    [v22 performChanges:v34 completionHandler:v28];
  }
}

void __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_459(uint64_t a1)
{
  v2 = [MEMORY[0x1E69788A8] changeRequestForLibraryScope:*(a1 + 32)];
  [v2 moveToPersonalLibrary:*(a1 + 40)];
}

void __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v56[1] = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = *(a1 + 32);
  v7 = v6;
  v8 = *(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v7, OS_SIGNPOST_INTERVAL_END, v8, "MoveToPersonalLibrary", "", buf, 2u);
  }

  v9 = PLSharedLibraryGetLog();
  v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543362;
    v53 = v11;
    v12 = "Did move assets to personal library from library scope with identifier: %{public}@";
    v13 = v10;
    v14 = OS_LOG_TYPE_DEFAULT;
    v15 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543618;
    v53 = v11;
    v54 = 2112;
    v55 = v5;
    v12 = "Failed to move assets to personal library from library scope with identifier: %{public}@, error: %@";
    v13 = v10;
    v14 = OS_LOG_TYPE_ERROR;
    v15 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v13, v14, v12, buf, v15);

LABEL_10:
  v16 = *(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_460;
    block[3] = &unk_1E774A940;
    v44 = v16;
    v45 = a2;
    v43 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }

  if (a2)
  {
    v17 = *(a1 + 48);
    objc_opt_class();
    v41 = v5;
    if (objc_opt_isKindOfClass())
    {
      v18 = v17;
      v19 = [v18 fetchPropertySets];
      v20 = *MEMORY[0x1E6978C80];
      v21 = [v19 containsObject:*MEMORY[0x1E6978C80]];

      v17 = v18;
      if ((v21 & 1) == 0)
      {
        v22 = [v18 photoLibrary];
        v23 = [v22 librarySpecificFetchOptions];

        v56[0] = v20;
        v24 = [MEMORY[0x1E695DEC8] arrayWithObjects:v56 count:1];
        [v23 setFetchPropertySets:v24];

        v25 = MEMORY[0x1E6978630];
        v26 = [v18 fetchedObjectIDs];
        v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }

    v27 = objc_alloc_init(MEMORY[0x1E695DF90]);
    v48 = 0u;
    v49 = 0u;
    v50 = 0u;
    v51 = 0u;
    v28 = v17;
    v29 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
    if (v29)
    {
      v30 = v29;
      v31 = *v49;
      do
      {
        for (i = 0; i != v30; ++i)
        {
          if (*v49 != v31)
          {
            objc_enumerationMutation(v28);
          }

          v33 = *(*(&v48 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          v34 = [v33 libraryScopeProperties];
          v35 = [v34 suggestedByClientType] + 1;
          v36 = @"Unknown";
          if (v35 <= 5)
          {
            v36 = off_1E7745290[v35];
          }

          v37 = v36;

          v38 = MEMORY[0x1E696AD98];
          v39 = [v27 objectForKeyedSubscript:v37];
          v40 = [v38 numberWithInt:{objc_msgSend(v39, "intValue") + 1}];
          [v27 setObject:v40 forKeyedSubscript:v37];
        }

        v30 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
      }

      while (v30);
    }

    v46[0] = MEMORY[0x1E69E9820];
    v46[1] = 3221225472;
    v46[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    v46[3] = &unk_1E7745258;
    v47 = @"move to personal";
    [v27 enumerateKeysAndObjectsUsingBlock:v46];

    v5 = v41;
  }
}

void PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope(void *a1, void *a2, void *a3)
{
  v44 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v26 = [MEMORY[0x1E696AAA8] currentHandler];
    v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v26 handleFailureInFunction:v27 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1909 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v28 = [MEMORY[0x1E696AAA8] currentHandler];
  v29 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v28 handleFailureInFunction:v29 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1910 description:{@"Invalid parameter not satisfying: %@", @"assets"}];

LABEL_3:
  v8 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    v9 = [v5 localIdentifier];
    *buf = 138543362;
    v43 = v9;
    _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_DEFAULT, "Will reject sharing suggestions for library with identifier: %{public}@", buf, 0xCu);
  }

  v10 = +[PXSharedLibrarySettings sharedInstance];
  v11 = [v10 simulateErrorType];

  v12 = PLSharedLibraryGetLog();
  v13 = v12;
  if (v11 == 24)
  {
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_ERROR, "Simulated Error: Reject Sharing Suggestion Failed", buf, 2u);
    }

    v14 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Reject Sharing Suggestion Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke;
    block[3] = &unk_1E774C2F0;
    v15 = &v41;
    v16 = &v40;
    v40 = v14;
    v41 = v7;
    v17 = v7;
    v18 = v14;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }

  else
  {
    v19 = os_signpost_id_generate(v12);
    v20 = v13;
    v21 = v20;
    if (v19 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v20))
    {
      *buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v21, OS_SIGNPOST_INTERVAL_BEGIN, v19, "RemoveSharingSuggestions", "", buf, 2u);
    }

    v22 = [v5 photoLibrary];
    v36[0] = MEMORY[0x1E69E9820];
    v36[1] = 3221225472;
    v36[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_467;
    v36[3] = &unk_1E774C620;
    v15 = &v37;
    v23 = v5;
    v37 = v23;
    v16 = &v38;
    v24 = v6;
    v38 = v24;
    v30[0] = MEMORY[0x1E69E9820];
    v30[1] = 3221225472;
    v30[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2;
    v30[3] = &unk_1E7745230;
    v31 = v21;
    v35 = v19;
    v32 = v23;
    v34 = v7;
    v33 = v24;
    v25 = v7;
    v18 = v21;
    [v22 performChanges:v36 completionHandler:v30];
  }
}

void __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_467(uint64_t a1)
{
  v2 = [MEMORY[0x1E69788A8] changeRequestForLibraryScope:*(a1 + 32)];
  [v2 rejectPreviewAssetsSuggestedByPhotos:*(a1 + 40)];
}

void __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v56[1] = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = *(a1 + 32);
  v7 = v6;
  v8 = *(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v7, OS_SIGNPOST_INTERVAL_END, v8, "RemoveSharingSuggestions", "", buf, 2u);
  }

  v9 = PLSharedLibraryGetLog();
  v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543362;
    v53 = v11;
    v12 = "Did remove sharing suggestions for library with identifier: %{public}@";
    v13 = v10;
    v14 = OS_LOG_TYPE_DEFAULT;
    v15 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543618;
    v53 = v11;
    v54 = 2112;
    v55 = v5;
    v12 = "Failed to remove sharing suggestions for library with identifier: %{public}@, error: %@";
    v13 = v10;
    v14 = OS_LOG_TYPE_ERROR;
    v15 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v13, v14, v12, buf, v15);

LABEL_10:
  v16 = *(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_468;
    block[3] = &unk_1E774A940;
    v44 = v16;
    v45 = a2;
    v43 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }

  if (a2)
  {
    v17 = *(a1 + 48);
    objc_opt_class();
    v41 = v5;
    if (objc_opt_isKindOfClass())
    {
      v18 = v17;
      v19 = [v18 fetchPropertySets];
      v20 = *MEMORY[0x1E6978C80];
      v21 = [v19 containsObject:*MEMORY[0x1E6978C80]];

      v17 = v18;
      if ((v21 & 1) == 0)
      {
        v22 = [v18 photoLibrary];
        v23 = [v22 librarySpecificFetchOptions];

        v56[0] = v20;
        v24 = [MEMORY[0x1E695DEC8] arrayWithObjects:v56 count:1];
        [v23 setFetchPropertySets:v24];

        v25 = MEMORY[0x1E6978630];
        v26 = [v18 fetchedObjectIDs];
        v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }

    v27 = objc_alloc_init(MEMORY[0x1E695DF90]);
    v48 = 0u;
    v49 = 0u;
    v50 = 0u;
    v51 = 0u;
    v28 = v17;
    v29 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
    if (v29)
    {
      v30 = v29;
      v31 = *v49;
      do
      {
        for (i = 0; i != v30; ++i)
        {
          if (*v49 != v31)
          {
            objc_enumerationMutation(v28);
          }

          v33 = *(*(&v48 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          v34 = [v33 libraryScopeProperties];
          v35 = [v34 suggestedByClientType] + 1;
          v36 = @"Unknown";
          if (v35 <= 5)
          {
            v36 = off_1E7745290[v35];
          }

          v37 = v36;

          v38 = MEMORY[0x1E696AD98];
          v39 = [v27 objectForKeyedSubscript:v37];
          v40 = [v38 numberWithInt:{objc_msgSend(v39, "intValue") + 1}];
          [v27 setObject:v40 forKeyedSubscript:v37];
        }

        v30 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
      }

      while (v30);
    }

    v46[0] = MEMORY[0x1E69E9820];
    v46[1] = 3221225472;
    v46[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    v46[3] = &unk_1E7745258;
    v47 = @"remove suggestions";
    [v27 enumerateKeysAndObjectsUsingBlock:v46];

    v5 = v41;
  }
}

void PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope(void *a1, void *a2, void *a3)
{
  v44 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v26 = [MEMORY[0x1E696AAA8] currentHandler];
    v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v26 handleFailureInFunction:v27 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1952 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v28 = [MEMORY[0x1E696AAA8] currentHandler];
  v29 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v28 handleFailureInFunction:v29 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:1953 description:{@"Invalid parameter not satisfying: %@", @"assets"}];

LABEL_3:
  v8 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    v9 = [v5 localIdentifier];
    *buf = 138543362;
    v43 = v9;
    _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_DEFAULT, "Will un-reject sharing suggestions for library with identifier: %{public}@", buf, 0xCu);
  }

  v10 = +[PXSharedLibrarySettings sharedInstance];
  v11 = [v10 simulateErrorType];

  v12 = PLSharedLibraryGetLog();
  v13 = v12;
  if (v11 == 24)
  {
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v13, OS_LOG_TYPE_ERROR, "Simulated Error: Un-Reject Sharing Suggestion Failed", buf, 2u);
    }

    v14 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Un-Reject Sharing Suggestion Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke;
    block[3] = &unk_1E774C2F0;
    v15 = &v41;
    v16 = &v40;
    v40 = v14;
    v41 = v7;
    v17 = v7;
    v18 = v14;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }

  else
  {
    v19 = os_signpost_id_generate(v12);
    v20 = v13;
    v21 = v20;
    if (v19 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v20))
    {
      *buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v21, OS_SIGNPOST_INTERVAL_BEGIN, v19, "UnRejectSharingSuggestions", "", buf, 2u);
    }

    v22 = [v5 photoLibrary];
    v36[0] = MEMORY[0x1E69E9820];
    v36[1] = 3221225472;
    v36[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_475;
    v36[3] = &unk_1E774C620;
    v15 = &v37;
    v23 = v5;
    v37 = v23;
    v16 = &v38;
    v24 = v6;
    v38 = v24;
    v30[0] = MEMORY[0x1E69E9820];
    v30[1] = 3221225472;
    v30[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2;
    v30[3] = &unk_1E7745230;
    v31 = v21;
    v35 = v19;
    v32 = v23;
    v34 = v7;
    v33 = v24;
    v25 = v7;
    v18 = v21;
    [v22 performChanges:v36 completionHandler:v30];
  }
}

void __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_475(uint64_t a1)
{
  v2 = [MEMORY[0x1E69788A8] changeRequestForLibraryScope:*(a1 + 32)];
  [v2 unRejectPreviewAssetsSuggestedByPhotos:*(a1 + 40)];
}

void __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v56[1] = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = *(a1 + 32);
  v7 = v6;
  v8 = *(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A3C1C000, v7, OS_SIGNPOST_INTERVAL_END, v8, "UnRejectSharingSuggestions", "", buf, 2u);
  }

  v9 = PLSharedLibraryGetLog();
  v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543362;
    v53 = v11;
    v12 = "Did un-reject sharing suggestions for library with identifier: %{public}@";
    v13 = v10;
    v14 = OS_LOG_TYPE_DEFAULT;
    v15 = 12;
  }

  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_10;
    }

    v11 = [*(a1 + 40) localIdentifier];
    *buf = 138543618;
    v53 = v11;
    v54 = 2112;
    v55 = v5;
    v12 = "Failed to un-reject sharing suggestions for library with identifier: %{public}@, error: %@";
    v13 = v10;
    v14 = OS_LOG_TYPE_ERROR;
    v15 = 22;
  }

  _os_log_impl(&dword_1A3C1C000, v13, v14, v12, buf, v15);

LABEL_10:
  v16 = *(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_476;
    block[3] = &unk_1E774A940;
    v44 = v16;
    v45 = a2;
    v43 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }

  if (a2)
  {
    v17 = *(a1 + 48);
    objc_opt_class();
    v41 = v5;
    if (objc_opt_isKindOfClass())
    {
      v18 = v17;
      v19 = [v18 fetchPropertySets];
      v20 = *MEMORY[0x1E6978C80];
      v21 = [v19 containsObject:*MEMORY[0x1E6978C80]];

      v17 = v18;
      if ((v21 & 1) == 0)
      {
        v22 = [v18 photoLibrary];
        v23 = [v22 librarySpecificFetchOptions];

        v56[0] = v20;
        v24 = [MEMORY[0x1E695DEC8] arrayWithObjects:v56 count:1];
        [v23 setFetchPropertySets:v24];

        v25 = MEMORY[0x1E6978630];
        v26 = [v18 fetchedObjectIDs];
        v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }

    v27 = objc_alloc_init(MEMORY[0x1E695DF90]);
    v48 = 0u;
    v49 = 0u;
    v50 = 0u;
    v51 = 0u;
    v28 = v17;
    v29 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
    if (v29)
    {
      v30 = v29;
      v31 = *v49;
      do
      {
        for (i = 0; i != v30; ++i)
        {
          if (*v49 != v31)
          {
            objc_enumerationMutation(v28);
          }

          v33 = *(*(&v48 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          v34 = [v33 libraryScopeProperties];
          v35 = [v34 suggestedByClientType] + 1;
          v36 = @"Unknown";
          if (v35 <= 5)
          {
            v36 = off_1E7745290[v35];
          }

          v37 = v36;

          v38 = MEMORY[0x1E696AD98];
          v39 = [v27 objectForKeyedSubscript:v37];
          v40 = [v38 numberWithInt:{objc_msgSend(v39, "intValue") + 1}];
          [v27 setObject:v40 forKeyedSubscript:v37];
        }

        v30 = [v28 countByEnumeratingWithState:&v48 objects:buf count:16];
      }

      while (v30);
    }

    v46[0] = MEMORY[0x1E69E9820];
    v46[1] = 3221225472;
    v46[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    v46[3] = &unk_1E7745258;
    v47 = @"un-reject suggestions";
    [v27 enumerateKeysAndObjectsUsingBlock:v46];

    v5 = v41;
  }
}

id PXSharedLibraryFetchAnySharedAssetFromAssets(void *a1)
{
  v1 = _PXSharedLibraryFetchAssetsFromAssets(a1, 0, 1, 1);
  v2 = [v1 firstObject];

  return v2;
}

void PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope(void *a1, void *a2, void *a3)
{
  v54 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v35 = [MEMORY[0x1E696AAA8] currentHandler];
    v36 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v35 handleFailureInFunction:v36 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:2055 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v37 = [MEMORY[0x1E696AAA8] currentHandler];
  v38 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v37 handleFailureInFunction:v38 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:2056 description:{@"Invalid parameter not satisfying: %@", @"personUUIDs"}];

LABEL_3:
  v8 = +[PXSharedLibrarySettings sharedInstance];
  v9 = [v8 simulateErrorType];

  if (v9 == 23)
  {
    v10 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_ERROR, "Simulated Error: Add Person UUIDs Failed", buf, 2u);
    }

    v11 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Add Person UUIDs Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke;
    block[3] = &unk_1E774C2F0;
    v50 = v11;
    v51 = v7;
    v12 = v7;
    v13 = v11;
    dispatch_async(MEMORY[0x1E69E96A0], block);

    v14 = v51;
  }

  else
  {
    v39 = v6;
    v15 = [v5 photoLibrary];
    v13 = [v15 librarySpecificFetchOptions];

    v16 = [MEMORY[0x1E69788C0] fetchLibraryScopeRulesForLibraryScope:v5 options:v13];
    v17 = [v16 mutableCopy];
    v18 = v17;
    if (v17)
    {
      v19 = v17;
    }

    else
    {
      v19 = [MEMORY[0x1E695DF70] array];
    }

    v20 = v19;

    v47 = 0u;
    v48 = 0u;
    v45 = 0u;
    v46 = 0u;
    v12 = v16;
    v21 = [v12 countByEnumeratingWithState:&v45 objects:v53 count:16];
    if (v21)
    {
      v22 = v21;
      v23 = *v46;
LABEL_12:
      v24 = 0;
      while (1)
      {
        if (*v46 != v23)
        {
          objc_enumerationMutation(v12);
        }

        v25 = *(*(&v45 + 1) + 8 * v24);
        v26 = [v25 personCondition];
        v27 = v26;
        if (v26)
        {
          if ([v26 criteria] == 1)
          {
            break;
          }
        }

        if (v22 == ++v24)
        {
          v22 = [v12 countByEnumeratingWithState:&v45 objects:v53 count:16];
          if (v22)
          {
            goto LABEL_12;
          }

          goto LABEL_19;
        }
      }

      v28 = v25;

      v29 = MEMORY[0x1E695DFA0];
      v30 = [v27 personUUIDs];
      v31 = [v29 orderedSetWithArray:v30];

      v6 = v39;
      [v31 addObjectsFromArray:v39];
      v32 = [v31 array];
      [v27 setPersonUUIDs:v32];

      if (v28)
      {
        goto LABEL_22;
      }
    }

    else
    {
LABEL_19:

      v27 = objc_alloc_init(MEMORY[0x1E69788B8]);
      [v27 setCriteria:1];
      v6 = v39;
      [v27 setPersonUUIDs:v39];
    }

    v28 = objc_alloc_init(MEMORY[0x1E69788C0]);
    [v28 addCondition:v27];
    [v20 addObject:v28];
LABEL_22:
    v33 = [v5 photoLibrary];
    v42[0] = MEMORY[0x1E69E9820];
    v42[1] = 3221225472;
    v42[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_2;
    v42[3] = &unk_1E774C620;
    v43 = v5;
    v44 = v20;
    v40[0] = MEMORY[0x1E69E9820];
    v40[1] = 3221225472;
    v40[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_3;
    v40[3] = &unk_1E7747648;
    v41 = v7;
    v34 = v7;
    v14 = v20;
    [v33 performChanges:v42 completionHandler:v40];
  }
}

void __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_2(uint64_t a1)
{
  v2 = [MEMORY[0x1E69788A8] changeRequestForLibraryScope:*(a1 + 32)];
  [v2 setAutoSharePolicy:2];
  [v2 updateWithCustomRules:*(a1 + 40)];
}

void __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  v6 = *(a1 + 32);
  if (v6)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_4;
    block[3] = &unk_1E774A940;
    v9 = v6;
    v10 = a2;
    v8 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }
}

id PXSharedLibrarySearchURL(void *a1)
{
  v33 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = [objc_alloc(MEMORY[0x1E696AD60]) initWithString:@"photos-navigation://search?"];
  if ([v1 count])
  {
    v25 = v2;
    v3 = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:{objc_msgSend(v1, "count")}];
    v4 = [objc_alloc(MEMORY[0x1E695DF70]) initWithCapacity:{objc_msgSend(v1, "count")}];
    v28 = 0u;
    v29 = 0u;
    v30 = 0u;
    v31 = 0u;
    v26 = v1;
    obj = v1;
    v5 = [obj countByEnumeratingWithState:&v28 objects:v32 count:16];
    if (v5)
    {
      v6 = v5;
      v7 = *v29;
      do
      {
        for (i = 0; i != v6; ++i)
        {
          if (*v29 != v7)
          {
            objc_enumerationMutation(obj);
          }

          v9 = PXSharedLibrarySharedBySearchText(*(*(&v28 + 1) + 8 * i));
          v10 = [MEMORY[0x1E696AB08] URLHostAllowedCharacterSet];
          v11 = [v9 stringByAddingPercentEncodingWithAllowedCharacters:v10];

          [v3 addObject:v11];
          v12 = [MEMORY[0x1E696AEC0] stringWithFormat:@"%tu", 1320];
          [v4 addObject:v12];
        }

        v6 = [obj countByEnumeratingWithState:&v28 objects:v32 count:16];
      }

      while (v6);
    }

    v13 = MEMORY[0x1E696AEC0];
    v14 = [v3 componentsJoinedByString:{@", "}];
    v15 = [v13 stringWithFormat:@"searchTerm=%@&", v14];
    v2 = v25;
    [v25 appendString:v15];

    v16 = MEMORY[0x1E696AEC0];
    v17 = [v4 componentsJoinedByString:{@", "}];
    v18 = [v16 stringWithFormat:@"searchCategory=%@", v17];
    [v25 appendString:v18];

    v19 = [v25 copy];
    v1 = v26;
  }

  else
  {
    v20 = PXSharedLibrarySharedBySearchText(0);
    v21 = [MEMORY[0x1E696AB08] URLHostAllowedCharacterSet];
    v22 = [v20 stringByAddingPercentEncodingWithAllowedCharacters:v21];

    v19 = [MEMORY[0x1E696AEC0] stringWithFormat:@"%@searchTerm=%@&searchCategory=%tu", v2, v22, 2400];
  }

  v23 = [MEMORY[0x1E695DFF8] URLWithString:v19];

  return v23;
}

void PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope(void *a1, void *a2, void *a3)
{
  v44 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = a2;
  v7 = a3;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v26 = [MEMORY[0x1E696AAA8] currentHandler];
    v27 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
    [v26 handleFailureInFunction:v27 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:2147 description:{@"Invalid parameter not satisfying: %@", @"libraryScope"}];

    if (v6)
    {
      goto LABEL_3;
    }
  }

  v28 = [MEMORY[0x1E696AAA8] currentHandler];
  v29 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))"}];
  [v28 handleFailureInFunction:v29 file:@"PXSharedLibraryPhotoKitUtilities.m" lineNumber:2148 description:{@"Invalid parameter not satisfying: %@", @"personUUIDs"}];

LABEL_3:
  v8 = +[PXSharedLibrarySettings sharedInstance];
  v9 = [v8 simulateErrorType];

  if (v9 == 23)
  {
    v10 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_1A3C1C000, v10, OS_LOG_TYPE_ERROR, "Simulated Error: Remove Person UUIDs Failed", buf, 2u);
    }

    v11 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 debugDescription:@"Simulated Error: Remove Person UUIDs Failed"];
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke;
    block[3] = &unk_1E774C2F0;
    v40 = v11;
    v41 = v7;
    v12 = v11;
    dispatch_async(MEMORY[0x1E69E96A0], block);

    v13 = v41;
  }

  else
  {
    v14 = [v5 photoLibrary];
    v12 = [v14 librarySpecificFetchOptions];

    [MEMORY[0x1E69788C0] fetchLibraryScopeRulesForLibraryScope:v5 options:v12];
    v35 = 0u;
    v36 = 0u;
    v37 = 0u;
    v13 = v38 = 0u;
    v15 = [v13 countByEnumeratingWithState:&v35 objects:v43 count:16];
    if (v15)
    {
      v16 = v15;
      v17 = *v36;
      while (2)
      {
        v18 = 0;
        do
        {
          if (*v36 != v17)
          {
            objc_enumerationMutation(v13);
          }

          v19 = [*(*(&v35 + 1) + 8 * v18) personCondition];
          v20 = v19;
          if (v19 && [v19 criteria] == 1)
          {

            v21 = MEMORY[0x1E695DFA0];
            v22 = [v20 personUUIDs];
            v23 = [v21 orderedSetWithArray:v22];

            [v23 removeObjectsInArray:v6];
            v24 = [v23 array];
            [v20 setPersonUUIDs:v24];

            v25 = [v5 photoLibrary];
            v32[0] = MEMORY[0x1E69E9820];
            v32[1] = 3221225472;
            v32[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_2;
            v32[3] = &unk_1E774C620;
            v33 = v5;
            v34 = v13;
            v30[0] = MEMORY[0x1E69E9820];
            v30[1] = 3221225472;
            v30[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_3;
            v30[3] = &unk_1E7747648;
            v31 = v7;
            [v25 performChanges:v32 completionHandler:v30];

            goto LABEL_19;
          }

          ++v18;
        }

        while (v16 != v18);
        v16 = [v13 countByEnumeratingWithState:&v35 objects:v43 count:16];
        if (v16)
        {
          continue;
        }

        break;
      }
    }

    if (v7)
    {
      v20 = [MEMORY[0x1E696ABC0] px_errorWithDomain:@"PXSharedLibraryErrorDomain" code:-1000 underlyingError:0 debugDescription:@"No inclusive person condition found."];
      (*(v7 + 2))(v7, 0, v20);
LABEL_19:
    }
  }
}

void __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_2(uint64_t a1)
{
  v2 = [MEMORY[0x1E69788A8] changeRequestForLibraryScope:*(a1 + 32)];
  [v2 setAutoSharePolicy:2];
  [v2 updateWithCustomRules:*(a1 + 40)];
}

void __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  v5 = a3;
  v6 = *(a1 + 32);
  if (v6)
  {
    block[0] = MEMORY[0x1E69E9820];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_4;
    block[3] = &unk_1E774A940;
    v9 = v6;
    v10 = a2;
    v8 = v5;
    dispatch_async(MEMORY[0x1E69E96A0], block);
  }
}

void PXSharedLibraryLinkContactsToPeopleForInfos(void *a1)
{
  v32 = *MEMORY[0x1E69E9840];
  v27 = 0u;
  v28 = 0u;
  v29 = 0u;
  v30 = 0u;
  obj = a1;
  v1 = [obj countByEnumeratingWithState:&v27 objects:v31 count:16];
  if (v1)
  {
    v2 = v1;
    v3 = *v28;
    v21 = v24;
    do
    {
      for (i = 0; i != v2; ++i)
      {
        if (*v28 != v3)
        {
          objc_enumerationMutation(obj);
        }

        v5 = *(*(&v27 + 1) + 8 * i);
        v6 = [v5 participant];
        v7 = [v6 contact];

        v8 = [v7 givenName];
        if ([v8 length])
        {
        }

        else
        {
          v9 = [v7 familyName];
          v10 = [v9 length];

          if (!v10)
          {
            goto LABEL_12;
          }
        }

        v11 = [v5 person];
        v12 = [v11 photoLibrary];
        v13 = [MEMORY[0x1E6978830] fetchOptionsWithPhotoLibrary:v12 orObject:0];
        v14 = MEMORY[0x1E6978980];
        v15 = [v11 uuid];
        v16 = [v14 fetchFinalMergeTargetPersonsForPersonWithUUID:v15 options:v13];
        v17 = [v16 firstObject];

        v18 = [v17 personUri];
        v19 = [v18 length];

        if (!v19)
        {
          v23[0] = MEMORY[0x1E69E9820];
          v23[1] = 3221225472;
          v24[0] = __PXSharedLibraryLinkContactsToPeopleForInfos_block_invoke;
          v24[1] = &unk_1E774B730;
          v20 = v7;
          v25 = v20;
          v26 = v17;
          [PXPeopleBootstrap nameAndVerifyPerson:v26 toContact:v20 photoLibrary:v12 completionHandler:v23];
        }

LABEL_12:
      }

      v2 = [obj countByEnumeratingWithState:&v27 objects:v31 count:16];
    }

    while (v2);
  }
}

void __PXSharedLibraryLinkContactsToPeopleForInfos_block_invoke(uint64_t a1, uint64_t a2, void *a3)
{
  v14 = *MEMORY[0x1E69E9840];
  v4 = a3;
  if (v4)
  {
    v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      v6 = *(a1 + 32);
      v7 = *(a1 + 40);
      v8 = 138412802;
      v9 = v6;
      v10 = 2112;
      v11 = v7;
      v12 = 2112;
      v13 = v4;
      _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_ERROR, "Error linking contact to person. Contact: %@ person: %@ error: %@", &v8, 0x20u);
    }
  }
}

PXFeedbackTapToRadarViewController *PXFileRadarViewControllerForSharedLibraryAssets(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = +[PXFeedbackTapToRadarUtilities captureScreenshot];
  v6 = objc_alloc_init(PXFeedbackTapToRadarViewController);
  [(PXFeedbackTapToRadarViewController *)v6 setRequestScreenshotPermission:1];
  v11[0] = MEMORY[0x1E69E9820];
  v11[1] = 3221225472;
  v11[2] = __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke;
  v11[3] = &unk_1E7745148;
  v12 = v3;
  v13 = v5;
  v14 = v4;
  v7 = v4;
  v8 = v5;
  v9 = v3;
  [(PXFeedbackTapToRadarViewController *)v6 setFileRadarHandler:v11];

  return v6;
}

void __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke(uint64_t a1, int a2, int a3, void *a4)
{
  v143 = *MEMORY[0x1E69E9840];
  v79 = a4;
  v5 = [objc_alloc(MEMORY[0x1E696AD60]) initWithString:{@"Summary:\nExamples:\n* Bad suggestion (wrong person/people, irrelevant to moment, bad location, poor quality/blurry photo, etc.)\n* Missing/wrong assets\n* Don't want to see this asset, etc?\n\nSteps To Reproduce:\n-\n\nResults:\n-\n\nRegression:\n-\n\nNotes:\n-\n\n"}];
  [v5 appendString:@"--- Goldilocks TTR ---\n"];
  v83 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v130 = 0u;
  v131 = 0u;
  v132 = 0u;
  v133 = 0u;
  v81 = a1;
  obj = *(a1 + 32);
  v107 = v5;
  v96 = [obj countByEnumeratingWithState:&v130 objects:v142 count:16];
  if (!v96)
  {
    v91 = 0;
    goto LABEL_37;
  }

  v91 = 0;
  v94 = *v131;
  do
  {
    for (i = 0; i != v96; ++i)
    {
      if (*v131 != v94)
      {
        objc_enumerationMutation(obj);
      }

      v7 = *(*(&v130 + 1) + 8 * i);
      [v7 fetchPropertySetsIfNeeded];
      [v5 appendFormat:@"\nAsset: %@", v7];
      v8 = [v7 libraryScopeProperties];
      v9 = [v7 participatesInLibraryScope];
      v10 = @"NO";
      if (v9)
      {
        v10 = @"YES";
      }

      [v5 appendFormat:@"\nParticipates in library scope: %@", v10];
      v104 = v8;
      v11 = [v8 suggestedByClientType] + 1;
      v12 = @"Unknown";
      if (v11 <= 5)
      {
        v12 = off_1E7745290[v11];
      }

      v13 = v12;
      [v5 appendFormat:@"\nSuggested by: %@", v13];

      v14 = [v7 importProperties];
      [v14 importedBy];
      v15 = PHAssetImportSourceDescription();
      [v5 appendFormat:@"\nImported By: %@", v15];

      v16 = [v7 sceneAnalysisProperties];
      LODWORD(v15) = [v16 sceneAnalysisVersion];

      [v5 appendFormat:@"\nScene Analysis Version: %d", v15];
      if (v15)
      {
        v98 = v7;
        v101 = i;
        v17 = [v7 sceneClassifications];
        v126 = 0u;
        v127 = 0u;
        v128 = 0u;
        v129 = 0u;
        v18 = [v17 countByEnumeratingWithState:&v126 objects:v141 count:16];
        if (!v18)
        {
          goto LABEL_28;
        }

        v19 = v18;
        v20 = *v127;
        while (1)
        {
          for (j = 0; j != v19; ++j)
          {
            if (*v127 != v20)
            {
              objc_enumerationMutation(v17);
            }

            v22 = *(*(&v126 + 1) + 8 * j);
            v23 = [v22 sceneIdentifier];
            [v22 confidence];
            if (v23 > 2147483643)
            {
              if (v23 == 2147483644)
              {
                v25 = @"\n  Negative: %.3f";
              }

              else
              {
                if (v23 != 2147483646)
                {
                  continue;
                }

                v25 = @"\n  Text Document: %.3f";
              }
            }

            else if (v23 == 2147483629)
            {
              v25 = @"\n  Poor Quality: %.3f";
            }

            else
            {
              if (v23 != 2147483631)
              {
                continue;
              }

              v25 = @"\n  Tragic Failure: %.3f";
            }

            [v107 appendFormat:v25, v24];
          }

          v19 = [v17 countByEnumeratingWithState:&v126 objects:v141 count:16];
          if (!v19)
          {
LABEL_28:

            v5 = v107;
            v7 = v98;
            i = v101;
            break;
          }
        }
      }

      [v5 appendString:@"\n"];
      v26 = [PXFeedbackTapToRadarUtilities detailedDebugDescriptionFileForAsset:v7];
      if (v26)
      {
        [v83 addObject:v26];
      }

      if (!v91)
      {
        v91 = [v7 photoLibrary];
      }
    }

    v96 = [obj countByEnumeratingWithState:&v130 objects:v142 count:16];
  }

  while (v96);
LABEL_37:

  [v5 appendString:@"\n\n"];
  [MEMORY[0x1E6978650] fetchAssetCollectionsContainingAssets:*(a1 + 32) withType:3 options:0];
  v122 = 0u;
  v123 = 0u;
  v124 = 0u;
  v82 = v125 = 0u;
  v27 = 0x1E696A000uLL;
  v87 = [v82 countByEnumeratingWithState:&v122 objects:v140 count:16];
  if (v87)
  {
    v85 = *MEMORY[0x1E6978C68];
    v86 = *v123;
    v84 = *MEMORY[0x1E6978C80];
    do
    {
      for (k = 0; k != v87; ++k)
      {
        if (*v123 != v86)
        {
          objc_enumerationMutation(v82);
        }

        v29 = *(*(&v122 + 1) + 8 * k);
        [v5 appendString:@"--- Moment ---\n"];
        v30 = [v29 uuid];
        [v5 appendFormat:@"UUID: %@\n", v30];

        v31 = [v29 photoLibrary];
        v32 = [v31 librarySpecificFetchOptions];

        v139[0] = v85;
        v139[1] = v84;
        v33 = [MEMORY[0x1E695DEC8] arrayWithObjects:v139 count:2];
        [v32 setFetchPropertySets:v33];

        v34 = [MEMORY[0x1E6978630] fetchAssetsInAssetCollection:v29 options:v32];
        v35 = [v34 count];
        if (v35)
        {
          v88 = v35;
          v90 = k;
          v97 = objc_alloc_init(MEMORY[0x1E695DF90]);
          v118 = 0u;
          v119 = 0u;
          v120 = 0u;
          v121 = 0u;
          v89 = v34;
          obja = v34;
          v99 = [obja countByEnumeratingWithState:&v118 objects:v138 count:16];
          v36 = 0;
          v37 = 0;
          v38 = 0;
          if (v99)
          {
            v95 = *v119;
            do
            {
              for (m = 0; m != v99; m = m + 1)
              {
                if (*v119 != v95)
                {
                  objc_enumerationMutation(obja);
                }

                v40 = *(*(&v118 + 1) + 8 * m);
                v41 = [v40 libraryScopeProperties];
                v105 = [v40 participatesInLibraryScope];
                v102 = [v41 assetManuallyAddedByUser];
                v42 = [v41 assetManuallyRejectedByUser];
                v43 = [*(v27 + 3480) numberWithShort:{objc_msgSend(v41, "suggestedByClientType")}];
                v44 = [v97 objectForKeyedSubscript:v43];
                v45 = v44;
                if (v44)
                {
                  v46 = [MEMORY[0x1E696AD98] numberWithInt:{objc_msgSend(v44, "intValue") + 1}];
                  [v97 setObject:v46 forKeyedSubscript:v43];

                  v27 = 0x1E696A000;
                }

                else
                {
                  [v97 setObject:&unk_1F190D978 forKeyedSubscript:v43];
                }

                v38 += v105;
                v37 = (v37 + v102);
                v36 = (v36 + v42);
              }

              v99 = [obja countByEnumeratingWithState:&v118 objects:v138 count:16];
            }

            while (v99);
          }

          v47 = [*(v27 + 3480) numberWithInteger:v38];
          v48 = [*(v27 + 3480) numberWithUnsignedInteger:v88];
          v5 = v107;
          [v107 appendFormat:@"Participation %@ / %@ assets\n", v47, v48];

          [v107 appendFormat:@"%d added by user\n%d rejected by user\n", v37, v36];
          v116[0] = MEMORY[0x1E69E9820];
          v116[1] = 3221225472;
          v116[2] = __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke_575;
          v116[3] = &unk_1E7745118;
          v117 = v107;
          [v97 enumerateKeysAndObjectsUsingBlock:v116];

          k = v90;
          v34 = v89;
        }
      }

      v87 = [v82 countByEnumeratingWithState:&v122 objects:v140 count:16];
    }

    while (v87);
  }

  if (v91)
  {
    v49 = MEMORY[0x1E69788A0];
    v50 = [v91 librarySpecificFetchOptions];
    v51 = [v49 fetchLibraryScopesWithOptions:v50];

    v114 = 0u;
    v115 = 0u;
    v112 = 0u;
    v113 = 0u;
    v100 = v51;
    v106 = [v100 countByEnumeratingWithState:&v112 objects:v137 count:16];
    if (v106)
    {
      v103 = *v113;
      do
      {
        for (n = 0; n != v106; ++n)
        {
          if (*v113 != v103)
          {
            objc_enumerationMutation(v100);
          }

          v53 = *(*(&v112 + 1) + 8 * n);
          [v5 appendString:@"\n--- Library Scope ---\n"];
          v54 = [v53 title];
          [v5 appendFormat:@"Title: %@\n", v54];

          v55 = [v53 uuid];
          [v5 appendFormat:@"UUID: %@\n", v55];

          v56 = [v53 libraryScopeInLocalMode];
          v57 = @"NO";
          if (v56)
          {
            v57 = @"YES";
          }

          [v5 appendFormat:@"Local Mode: %@\n", v57];
          v58 = _PHLibraryScopeAutoSharePolicyDescription([v53 autoSharePolicy]);
          [v5 appendFormat:@"Auto Share Policy: %@\n", v58];

          v59 = [*(v27 + 3480) numberWithShort:{objc_msgSend(v53, "previewState")}];
          [v5 appendFormat:@"Preview State: %@\n", v59];

          v60 = MEMORY[0x1E69788C0];
          v61 = [v91 librarySpecificFetchOptions];
          v62 = [v60 fetchLibraryScopeRulesForLibraryScope:v53 options:v61];

          [v5 appendFormat:@"Number of rules: %d\n", objc_msgSend(v62, "count")];
          v110 = 0u;
          v111 = 0u;
          v108 = 0u;
          v109 = 0u;
          v63 = v62;
          v64 = [v63 countByEnumeratingWithState:&v108 objects:v136 count:16];
          if (v64)
          {
            v65 = v64;
            v66 = *v109;
            do
            {
              for (ii = 0; ii != v65; ++ii)
              {
                if (*v109 != v66)
                {
                  objc_enumerationMutation(v63);
                }

                v68 = *(*(&v108 + 1) + 8 * ii);
                [v107 appendFormat:@"\nRule %@\n", v68];
                v69 = [v68 dateRangeCondition];
                v70 = v69;
                if (v69)
                {
                  [v107 appendFormat:@"%@\n", v69];
                }

                v71 = [v68 personCondition];
                v72 = v71;
                if (v71)
                {
                  [v107 appendFormat:@"%@\n", v71];
                }
              }

              v65 = [v63 countByEnumeratingWithState:&v108 objects:v136 count:16];
            }

            while (v65);
          }

          v5 = v107;
          v27 = 0x1E696A000;
        }

        v106 = [v100 countByEnumeratingWithState:&v112 objects:v137 count:16];
      }

      while (v106);
    }
  }

  if (a2 && *(v81 + 40))
  {
    v135 = *(v81 + 40);
    v73 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v135 count:1];
  }

  else
  {
    v73 = 0;
  }

  v74 = a3;
  if (a3)
  {
    v134 = @"com.apple.PhotoLibraryServices.PhotosDiagnostics";
    v75 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v134 count:1];
    v74 = a3;
    v76 = v75;
  }

  else
  {
    v76 = MEMORY[0x1E695E0F0];
  }

  LOWORD(v77) = v74;
  [PXFeedbackTapToRadarUtilities fileRadarWithTitle:@"[Goldilocks TTR]: <Enter Brief Description>" description:v5 classification:@"Serious Bug" componentID:@"1393606" componentName:@"Photos Shared Library Algorithms" componentVersion:@"all" keyword:@"1481932" screenshotURLs:v73 attachmentURLs:v83 includeSysDiagnose:v77 includeInternalRelease:v76 additionalExtensionIdentifiers:*(v81 + 48) completionHandler:?];
}

void __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke_575(uint64_t a1, void *a2, void *a3)
{
  v5 = a3;
  v6 = [a2 intValue];
  v7 = *(a1 + 32);
  if ((v6 + 1) > 5u)
  {
    v8 = @"Unknown";
  }

  else
  {
    v8 = off_1E7745290[(v6 + 1)];
  }

  v9 = v8;
  [v7 appendFormat:@"%@ suggestions by client: %@\n", v5, v9];
}

uint64_t PXCPLUIStatusHasImportantInformation(void *a1)
{
  v1 = a1;
  v2 = v1;
  if (v1)
  {
    if ([v1 state] == 2 || objc_msgSend(v2, "numberOfItemsFailingToUpload") || (objc_msgSend(v2, "isUpgradeSuggestedToAccessAllPhotos") & 1) != 0 || (objc_msgSend(v2, "isExiting") & 1) != 0 || (objc_msgSend(v2, "inResetSync") & 1) != 0)
    {
      v3 = 1;
    }

    else
    {
      v3 = [v2 isRestoringLibrary];
    }
  }

  else
  {
    v3 = 0;
  }

  return v3;
}

void _PerformPauseOrResumeBackgroundTask(uint64_t a1, int a2, void *a3, void *a4)
{
  v22 = *MEMORY[0x1E69E9840];
  v7 = a3;
  v8 = a4;
  v9 = [v8 photoLibrary];
  [v9 setCloudPhotoLibraryPauseState:a1 reason:3];
  v10 = @"resume";
  if (a1)
  {
    v10 = @"pause";
  }

  v11 = v10;
  v12 = PLUserStatusUIGetLog();
  if (os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
  {
    *buf = 138543362;
    v21 = v11;
    _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_DEFAULT, "Did %{public}@ iCloud Photos", buf, 0xCu);
  }

  v13 = @"override";
  if (a1)
  {
    v13 = @"remove override of";
  }

  if (!a2 || a1)
  {
    v14 = v13;
    v15 = PLUserStatusUIGetLog();
    if (os_log_type_enabled(v15, OS_LOG_TYPE_DEFAULT))
    {
      *buf = 138543362;
      v21 = v14;
      _os_log_impl(&dword_1A3C1C000, v15, OS_LOG_TYPE_DEFAULT, "Will %{public}@ system budgets for iCloud Photos", buf, 0xCu);
    }

    v17[0] = MEMORY[0x1E69E9820];
    v17[1] = 3221225472;
    v17[2] = ___PerformPauseOrResumeBackgroundTask_block_invoke;
    v17[3] = &unk_1E774B730;
    v18 = v14;
    v19 = v8;
    v16 = v14;
    [v9 overrideSystemBudgetsForSyncSession:a1 ^ 1 pauseReason:v7 systemBudgets:18487 completionHandler:v17];
  }

  else
  {
    [v8 completeBackgroundTaskWithSuccess:1 error:0];
  }
}

void sub_1A50D3670(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50D3C24(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak((v17 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50D471C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__209800(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A50D50CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va1, a13);
  va_start(va, a13);
  v14 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1A50D684C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, char a62, uint64_t a63)
{
  _Block_object_dispose(&a62, 8);
  _Block_object_dispose(&a68, 8);
  _Block_object_dispose(&STACK[0x208], 8);
  _Block_object_dispose(&STACK[0x238], 8);
  _Unwind_Resume(a1);
}

void sub_1A50D7154(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50D86A0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 80));
  _Unwind_Resume(a1);
}

id PXPhotosBarsCreateSelectModeCaptionLabel()
{
  v0 = objc_alloc_init(MEMORY[0x1E69DCC10]);
  v1 = MEMORY[0x1E69DB878];
  [MEMORY[0x1E69DB878] labelFontSize];
  v2 = [v1 boldSystemFontOfSize:?];
  [v0 setFont:v2];

  [v0 setTextAlignment:1];
  v3 = [MEMORY[0x1E69DC888] labelColor];
  [v0 setTextColor:v3];

  [v0 setNumberOfLines:2];
  [v0 setTranslatesAutoresizingMaskIntoConstraints:0];
  LODWORD(v4) = 1148846080;
  [v0 setContentCompressionResistancePriority:0 forAxis:v4];

  return v0;
}

id PXPhotosBarsCreateSelectModeCaptionTexField()
{
  v0 = objc_alloc_init(MEMORY[0x1E69DD0B0]);
  [v0 setTranslatesAutoresizingMaskIntoConstraints:0];
  LODWORD(v1) = 1144750080;
  [v0 setContentHuggingPriority:1 forAxis:v1];
  LODWORD(v2) = 1132068864;
  [v0 setContentCompressionResistancePriority:1 forAxis:v2];

  return v0;
}

id PXPhotosBarsSelectModeChevronButton(void *a1)
{
  v1 = a1;
  v2 = MEMORY[0x1E69DB878];
  [MEMORY[0x1E69DB878] labelFontSize];
  v3 = [v2 boldSystemFontOfSize:?];
  v4 = [MEMORY[0x1E69DCAD8] configurationWithFont:v3 scale:2];
  v5 = MEMORY[0x1E69DCAD8];
  v6 = [MEMORY[0x1E69DC888] labelColor];
  v7 = [v5 configurationWithHierarchicalColor:v6];

  v8 = [v4 configurationByApplyingConfiguration:v7];
  v9 = [MEMORY[0x1E69DCAB8] systemImageNamed:@"chevron.up.circle.fill" withConfiguration:v8];
  v10 = [MEMORY[0x1E69DCAB8] systemImageNamed:@"chevron.down.circle.fill" withConfiguration:v8];
  v11 = [MEMORY[0x1E69DC740] plainButtonConfiguration];
  [v11 setImagePlacement:8];
  [v11 setImagePadding:8.0];
  [v11 setImage:v9];
  [v11 setIndicator:1];
  v12 = [MEMORY[0x1E69DC738] buttonWithType:1];
  [v12 setConfiguration:v11];
  [v12 setTranslatesAutoresizingMaskIntoConstraints:0];
  [v12 setChangesSelectionAsPrimaryAction:1];
  [v12 setShowsMenuAsPrimaryAction:1];
  v21[0] = MEMORY[0x1E69E9820];
  v21[1] = 3221225472;
  v21[2] = __PXPhotosBarsSelectModeChevronButton_block_invoke;
  v21[3] = &unk_1E7745450;
  v13 = v10;
  v22 = v13;
  v14 = v9;
  v23 = v14;
  [v12 setConfigurationUpdateHandler:v21];
  objc_initWeak(&location, v1);
  v17[0] = MEMORY[0x1E69E9820];
  v17[1] = 3221225472;
  v17[2] = __PXPhotosBarsSelectModeChevronButton_block_invoke_2;
  v17[3] = &unk_1E7745478;
  objc_copyWeak(&v19, &location);
  v15 = v1;
  v18 = v15;
  [v12 _setMenuProvider:v17];

  objc_destroyWeak(&v19);
  objc_destroyWeak(&location);

  return v12;
}

void sub_1A50D8BFC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void __PXPhotosBarsSelectModeChevronButton_block_invoke(uint64_t a1, void *a2)
{
  v3 = a2;
  v8 = [v3 configuration];
  v4 = [v3 isHeld];
  v5 = 40;
  if (v4)
  {
    v5 = 32;
  }

  [v8 setImage:*(a1 + v5)];
  v6 = [MEMORY[0x1E69DC888] clearColor];
  v7 = [v8 background];
  [v7 setBackgroundColor:v6];

  [v3 setConfiguration:v8];
}

id __PXPhotosBarsSelectModeChevronButton_block_invoke_2(uint64_t a1)
{
  WeakRetained = objc_loadWeakRetained((a1 + 40));
  v3 = [WeakRetained delegate];
  v4 = [v3 barsControllerActionsForSelectionContextMenu:*(a1 + 32)];

  v5 = [MEMORY[0x1E69DCC60] menuWithTitle:&stru_1F1741150 children:v4];

  return v5;
}

void PXPhotosBarsUpdateSelectModeCaption(void *a1, void *a2, void *a3)
{
  v17[2] = *MEMORY[0x1E69E9840];
  v5 = a3;
  v6 = a2;
  v7 = a1;
  v8 = [v5 configuration];
  v16[0] = *MEMORY[0x1E69DB648];
  v9 = MEMORY[0x1E69DB878];
  [MEMORY[0x1E69DB878] labelFontSize];
  v10 = [v9 boldSystemFontOfSize:?];
  v17[0] = v10;
  v16[1] = *MEMORY[0x1E69DB650];
  v11 = [MEMORY[0x1E69DC888] labelColor];
  v17[1] = v11;
  v12 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v17 forKeys:v16 count:2];

  v13 = objc_alloc(MEMORY[0x1E696AAB0]);
  if (v7)
  {
    v14 = v7;
  }

  else
  {
    v14 = &stru_1F1741150;
  }

  v15 = [v13 initWithString:v14 attributes:v12];
  [v8 setAttributedTitle:v15];

  [v6 setText:v7];
  [v5 setConfiguration:v8];
}

void sub_1A50DA854(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50E0190(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak((v18 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50E0450(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak((v18 + 56));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50E1C64(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, char a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(&a15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50E2C28(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A50E2E58(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

uint64_t PXMemoriesResetRejected(void *a1, int a2, void *a3)
{
  v24 = *MEMORY[0x1E69E9840];
  v5 = a1;
  v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeRejectedMemories:1];
  if (a2)
  {
    [MEMORY[0x1E696AE18] predicateWithFormat:@"rejected = YES && category != %d", 401];
  }

  else
  {
    [MEMORY[0x1E696AE18] predicateWithFormat:@"rejected == YES && userCreated == NO", v16];
  }
  v7 = ;
  [v6 setPredicate:v7];

  v8 = [MEMORY[0x1E69788F0] fetchAssetCollectionsWithType:4 subtype:0x7FFFFFFFFFFFFFFFLL options:v6];
  v18[0] = MEMORY[0x1E69E9820];
  v18[1] = 3221225472;
  v18[2] = __PXMemoriesResetRejected_block_invoke;
  v18[3] = &unk_1E774C648;
  v9 = v8;
  v19 = v9;
  v17 = 0;
  v10 = [v5 performChangesAndWait:v18 error:&v17];

  v11 = v17;
  if ((v10 & 1) == 0)
  {
    v12 = PLMemoriesGetLog();
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      v13 = [v9 count];
      *buf = 134218242;
      v21 = v13;
      v22 = 2112;
      v23 = v11;
      _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_ERROR, "Failed to reset %lu rejected memories: %@", buf, 0x16u);
    }
  }

  if (a3)
  {
    v14 = v11;
    *a3 = v11;
  }

  return v10;
}

void __PXMemoriesResetRejected_block_invoke(uint64_t a1)
{
  v12 = *MEMORY[0x1E69E9840];
  v7 = 0u;
  v8 = 0u;
  v9 = 0u;
  v10 = 0u;
  v1 = *(a1 + 32);
  v2 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
  if (v2)
  {
    v3 = v2;
    v4 = *v8;
    do
    {
      v5 = 0;
      do
      {
        if (*v8 != v4)
        {
          objc_enumerationMutation(v1);
        }

        v6 = [MEMORY[0x1E6978900] changeRequestForMemory:{*(*(&v7 + 1) + 8 * v5), v7}];
        [v6 setRejected:0];
        [v6 setBlacklistedFeature:0];
        [v6 setUserFeedback:0];

        ++v5;
      }

      while (v3 != v5);
      v3 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
    }

    while (v3);
  }
}

void sub_1A50E4544(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak((v18 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXLoopingCrossfadingPlayerItemWithAsset(void *a1, uint64_t a2, uint64_t a3, CMTime *a4)
{
  v66 = *MEMORY[0x1E69E9840];
  v7 = a1;
  v8 = MEMORY[0x1E6960CC0];
  if ((*(a2 + 12) & 1) == 0)
  {
    if (os_log_type_enabled(MEMORY[0x1E69E9C10], OS_LOG_TYPE_ERROR))
    {
      LODWORD(range.start.value) = 138412290;
      *(&range.start.value + 4) = v7;
      _os_log_error_impl(&dword_1A3C1C000, MEMORY[0x1E69E9C10], OS_LOG_TYPE_ERROR, "Unable to generate looping crossfading player item for asset %@ because given start time is invalid.", &range, 0xCu);
    }

    v9 = *&v8->value;
    *(a2 + 16) = v8->epoch;
    *a2 = v9;
  }

  v10 = *MEMORY[0x1E6987608];
  v11 = [MEMORY[0x1E69C0708] tracksWithMediaType:*MEMORY[0x1E6987608] forAsset:v7];
  v12 = [v11 firstObject];

  if (v12)
  {
    if ((*(a3 + 12) & 1) == 0 || (*(a3 + 36) & 1) == 0 || *(a3 + 40) || (*(a3 + 24) & 0x8000000000000000) != 0 || (*&range.start.value = *(a3 + 24), range.start.epoch = *(a3 + 40), *&duration.start.value = *&v8->value, duration.start.epoch = v8->epoch, CMTimeCompare(&range.start, &duration.start) <= 0))
    {
      [v12 timeRange];
      *&duration.start.value = v60;
      duration.start.epoch = v61;
      *&start.start.value = *&v8->value;
      start.start.epoch = v8->epoch;
      CMTimeRangeMake(&range, &start.start, &duration.start);
      v13 = *&range.start.epoch;
      *a3 = *&range.start.value;
      *(a3 + 16) = v13;
      *(a3 + 32) = *&range.duration.timescale;
    }

    v14 = *(a3 + 16);
    *&range.start.value = *a3;
    *&range.start.epoch = v14;
    *&range.duration.timescale = *(a3 + 32);
    *&duration.start.value = *a2;
    duration.start.epoch = *(a2 + 16);
    if (!CMTimeRangeContainsTime(&range, &duration.start))
    {
      *&range.start.value = *a2;
      range.start.epoch = *(a2 + 16);
      *&duration.start.value = *a3;
      duration.start.epoch = *(a3 + 16);
      if (CMTimeCompare(&range.start, &duration.start) == -1)
      {
        v18 = *(a3 + 16);
        *&range.start.value = *a3;
        *&range.start.epoch = v18;
        *&range.duration.timescale = *(a3 + 32);
        CMTimeRangeGetEnd(&duration.start, &range);
        *&start.start.value = *a2;
        start.start.epoch = *(a2 + 16);
        p_start = &start;
        p_duration = &duration;
      }

      else
      {
        *&duration.start.value = *a3;
        duration.start.epoch = *(a3 + 16);
        *&start.start.value = *a2;
        start.start.epoch = *(a2 + 16);
        p_start = &duration;
        p_duration = &start;
      }

      CMTimeRangeFromTimeToTime(&range, &p_start->start, &p_duration->start);
      v19 = *&range.start.epoch;
      *a3 = *&range.start.value;
      *(a3 + 16) = v19;
      *(a3 + 32) = *&range.duration.timescale;
    }

    v48 = v7;
    memset(&v59, 0, sizeof(v59));
    *&range.start.value = *(a3 + 24);
    range.start.epoch = *(a3 + 40);
    CMTimeMultiplyByRatio(&v59, &range.start, 1, 2);
    range.start = v59;
    *&duration.start.value = *&a4->value;
    duration.start.epoch = a4->epoch;
    if (CMTimeCompare(&range.start, &duration.start) < 0)
    {
      *a4 = v59;
    }

    memset(&range, 0, sizeof(range));
    [v12 px_preferredTransformBasedOnNaturalSize];
    [v12 px_transformedNaturalSize];
    v21 = v20;
    v23 = v22;
    v24 = objc_alloc_init(MEMORY[0x1E6988048]);
    [v24 setNaturalSize:{v21, v23}];
    v25 = [v24 addMutableTrackWithMediaType:v10 preferredTrackID:0];
    v26 = [MEMORY[0x1E6988070] videoCompositionLayerInstructionWithAssetTrack:v25];
    duration = range;
    *&start.start.value = *&v8->value;
    start.start.epoch = v8->epoch;
    v47 = v26;
    [v26 setTransform:&duration atTime:&start];
    v46 = v24;
    v27 = [v24 addMutableTrackWithMediaType:v10 preferredTrackID:0];
    v28 = v25;
    v29 = [MEMORY[0x1E6988070] videoCompositionLayerInstructionWithAssetTrack:v27];
    duration = range;
    *&start.start.value = *&v8->value;
    start.start.epoch = v8->epoch;
    [v29 setTransform:&duration atTime:&start];
    v30 = *(a3 + 16);
    *&start.start.value = *a3;
    *&start.start.epoch = v30;
    *&start.duration.timescale = *(a3 + 32);
    memset(&duration, 0, sizeof(duration));
    CMTimeRangeGetEnd(&end.start, &start);
    *&start.start.value = *a2;
    start.start.epoch = *(a2 + 16);
    CMTimeRangeFromTimeToTime(&duration, &start.start, &end.start);
    memset(&start, 0, sizeof(start));
    *&lhs.start.value = *a3;
    lhs.start.epoch = *(a3 + 16);
    rhs = *a4;
    CMTimeAdd(&end.start, &lhs.start, &rhs);
    *&lhs.start.value = *a2;
    lhs.start.epoch = *(a2 + 16);
    CMTimeRangeFromTimeToTime(&start, &end.start, &lhs.start);
    memset(&end, 0, sizeof(end));
    rhs = *a3;
    time2 = *a4;
    CMTimeAdd(&lhs.start, &rhs, &time2);
    rhs = *a3;
    CMTimeRangeFromTimeToTime(&end, &rhs, &lhs.start);
    v53 = 0;
    lhs = duration;
    rhs = *v8;
    v31 = [v28 insertTimeRange:&lhs ofTrack:v12 atTime:&rhs error:&v53];
    v32 = v53;
    v33 = v32;
    if (!v31)
    {
      v34 = v28;
      v35 = v32;
      goto LABEL_26;
    }

    if (v28)
    {
      [v28 timeRange];
    }

    else
    {
      memset(&lhs, 0, sizeof(lhs));
    }

    CMTimeRangeGetEnd(&rhs, &lhs);
    v52 = v33;
    lhs = start;
    v34 = v28;
    v36 = [v28 insertTimeRange:&lhs ofTrack:v12 atTime:&rhs error:&v52];
    v35 = v52;

    if (v36)
    {
      memset(&rhs, 0, sizeof(rhs));
      lhs.start = duration.duration;
      time2 = *a4;
      CMTimeSubtract(&rhs, &lhs.start, &time2);
      lhs.start = rhs;
      time2 = *v8;
      if (CMTimeCompare(&lhs.start, &time2) <= 0)
      {
        *&lhs.start.value = *&v8->value;
        lhs.start.epoch = v8->epoch;
        [v29 setOpacity:&lhs atTime:{COERCE_DOUBLE(__PAIR64__(HIDWORD(lhs.start.value), 1.0))}];
      }

      else
      {
        time2 = *v8;
        v51 = rhs;
        CMTimeRangeMake(&lhs, &time2, &v51);
        [v27 insertEmptyTimeRange:&lhs];
        v50 = v35;
        lhs = end;
        time2 = rhs;
        v37 = [v27 insertTimeRange:&lhs ofTrack:v12 atTime:&time2 error:&v50];
        v38 = v50;

        *&lhs.start.value = *&v8->value;
        lhs.start.epoch = v8->epoch;
        [v29 setOpacity:&lhs atTime:0.0];
        time2 = rhs;
        v51 = *a4;
        CMTimeRangeMake(&lhs, &time2, &v51);
        LODWORD(v39) = 1.0;
        [v29 setOpacityRampFromStartOpacity:&lhs toEndOpacity:0.0 timeRange:v39];
        v35 = v38;
        if ((v37 & 1) == 0)
        {
          goto LABEL_26;
        }
      }

LABEL_28:
      v40 = objc_alloc_init(MEMORY[0x1E6988068]);
      if (v34)
      {
        [v34 timeRange];
      }

      else
      {
        memset(&v49, 0, sizeof(v49));
      }

      lhs = v49;
      [v40 setTimeRange:{&lhs, v12}];
      v63[0] = v29;
      v63[1] = v47;
      v41 = [MEMORY[0x1E695DEC8] arrayWithObjects:v63 count:2];
      [v40 setLayerInstructions:v41];

      v42 = [MEMORY[0x1E6988060] videoCompositionWithPropertiesOfAsset:v46];
      v62 = v40;
      v43 = [MEMORY[0x1E695DEC8] arrayWithObjects:&v62 count:1];
      [v42 setInstructions:v43];

      v17 = [objc_alloc(MEMORY[0x1E69880B0]) initWithAsset:v46];
      [v17 setVideoComposition:v42];

      v7 = v48;
      v12 = v45;
      goto LABEL_32;
    }

LABEL_26:
    if (os_log_type_enabled(MEMORY[0x1E69E9C10], OS_LOG_TYPE_ERROR))
    {
      LODWORD(lhs.start.value) = 136315394;
      *(&lhs.start.value + 4) = "AVPlayerItem * _Nonnull PXLoopingCrossfadingPlayerItemWithAsset(AVAsset *__strong _Nonnull, CMTime, CMTimeRange, CMTime)";
      LOWORD(lhs.start.flags) = 2112;
      *(&lhs.start.flags + 2) = v35;
      _os_log_error_impl(&dword_1A3C1C000, MEMORY[0x1E69E9C10], OS_LOG_TYPE_ERROR, "%s encountered error inserting content into looping crossfade composition: %@", &lhs, 0x16u);
    }

    goto LABEL_28;
  }

  v17 = [objc_alloc(MEMORY[0x1E69880B0]) initWithAsset:v7];
LABEL_32:

  return v17;
}

id PXSetRemovingObject(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v3;
  v6 = v5;
  if ([v5 containsObject:v4])
  {
    v7 = [v5 mutableCopy];
    [v7 removeObject:v4];
    v6 = [v7 copy];
  }

  return v6;
}

id PXSetSubtract(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v3;
  v6 = v5;
  if ([v5 intersectsSet:v4])
  {
    v7 = [v5 mutableCopy];
    [v7 minusSet:v4];
    v6 = [v7 copy];
  }

  return v6;
}

id PXSetsIntersection(void *a1)
{
  v29 = *MEMORY[0x1E69E9840];
  v1 = a1;
  if ([v1 count])
  {
    v2 = [v1 firstObject];
    v23 = 0u;
    v24 = 0u;
    v25 = 0u;
    v26 = 0u;
    v3 = v1;
    v4 = [v3 countByEnumeratingWithState:&v23 objects:v28 count:16];
    if (v4)
    {
      v5 = v4;
      v6 = *v24;
      do
      {
        for (i = 0; i != v5; ++i)
        {
          if (*v24 != v6)
          {
            objc_enumerationMutation(v3);
          }

          v8 = *(*(&v23 + 1) + 8 * i);
          v9 = [v8 count];
          if (v9 < [v2 count])
          {
            v10 = v8;

            v2 = v10;
          }
        }

        v5 = [v3 countByEnumeratingWithState:&v23 objects:v28 count:16];
      }

      while (v5);
    }

    v11 = [v2 mutableCopy];
    v19 = 0u;
    v20 = 0u;
    v21 = 0u;
    v22 = 0u;
    v12 = v3;
    v13 = [v12 countByEnumeratingWithState:&v19 objects:v27 count:16];
    if (v13)
    {
      v14 = v13;
      v15 = *v20;
      do
      {
        for (j = 0; j != v14; ++j)
        {
          if (*v20 != v15)
          {
            objc_enumerationMutation(v12);
          }

          if (*(*(&v19 + 1) + 8 * j) != v2)
          {
            [v11 intersectSet:v19];
          }
        }

        v14 = [v12 countByEnumeratingWithState:&v19 objects:v27 count:16];
      }

      while (v14);
    }

    v17 = [v11 copy];
  }

  else
  {
    v17 = [MEMORY[0x1E695DFD8] set];
  }

  return v17;
}

void sub_1A50E6FE4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A50E8518(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, char a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, char a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  _Block_object_dispose(&a54, 8);
  _Block_object_dispose(&a60, 8);
  _Block_object_dispose(&a66, 8);
  _Block_object_dispose((v66 - 192), 8);
  _Unwind_Resume(a1);
}

id getPIPhotoEditHelperClass_211976()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getPIPhotoEditHelperClass_softClass_212044;
  v7 = getPIPhotoEditHelperClass_softClass_212044;
  if (!getPIPhotoEditHelperClass_softClass_212044)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getPIPhotoEditHelperClass_block_invoke_212045;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getPIPhotoEditHelperClass_block_invoke_212045(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A50E8654(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id getNUVideoUtilitiesClass()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getNUVideoUtilitiesClass_softClass;
  v7 = getNUVideoUtilitiesClass_softClass;
  if (!getNUVideoUtilitiesClass_softClass)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getNUVideoUtilitiesClass_block_invoke;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getNUVideoUtilitiesClass_block_invoke(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A50E8734(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getNUOrientationIsValidSymbolLoc_block_invoke_211981(uint64_t a1)
{
  v2 = NeutrinoCoreLibrary();
  result = dlsym(v2, "NUOrientationIsValid");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getNUOrientationIsValidSymbolLoc_ptr_211980 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *NeutrinoCoreLibrary()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary_212034)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __NeutrinoCoreLibraryCore_block_invoke_212035;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E7745860;
    v6 = 0;
    NeutrinoCoreLibraryCore_frameworkLibrary_212034 = _sl_dlopen();
  }

  v0 = NeutrinoCoreLibraryCore_frameworkLibrary_212034;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary_212034)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *NeutrinoCoreLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXVideoStabilizeOperation.m" lineNumber:31 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

void *__getPIVideoStabilizeResultFromHomographiesSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = PhotoImagingLibrary_211991();
  result = dlsym(v2, "PIVideoStabilizeResultFromHomographies");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getPIVideoStabilizeResultFromHomographiesSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *PhotoImagingLibrary_211991()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!PhotoImagingLibraryCore_frameworkLibrary_212025)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __PhotoImagingLibraryCore_block_invoke_212026;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E7745848;
    v6 = 0;
    PhotoImagingLibraryCore_frameworkLibrary_212025 = _sl_dlopen();
  }

  v0 = PhotoImagingLibraryCore_frameworkLibrary_212025;
  if (!PhotoImagingLibraryCore_frameworkLibrary_212025)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *PhotoImagingLibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXVideoStabilizeOperation.m" lineNumber:30 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

uint64_t __Block_byref_object_copy__211997(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t __PhotoImagingLibraryCore_block_invoke_212026()
{
  result = _sl_dlopen();
  PhotoImagingLibraryCore_frameworkLibrary_212025 = result;
  return result;
}

uint64_t __NeutrinoCoreLibraryCore_block_invoke_212035()
{
  result = _sl_dlopen();
  NeutrinoCoreLibraryCore_frameworkLibrary_212034 = result;
  return result;
}

void __getNUVideoUtilitiesClass_block_invoke(uint64_t a1)
{
  NeutrinoCoreLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("NUVideoUtilities");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getNUVideoUtilitiesClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getNUVideoUtilitiesClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXVideoStabilizeOperation.m" lineNumber:34 description:{@"Unable to find class %s", "NUVideoUtilities"}];

    __break(1u);
  }
}

void __getPIPhotoEditHelperClass_block_invoke_212045(uint64_t a1)
{
  PhotoImagingLibrary_211991();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("PIPhotoEditHelper");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getPIPhotoEditHelperClass_softClass_212044 = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getPIPhotoEditHelperClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXVideoStabilizeOperation.m" lineNumber:32 description:{@"Unable to find class %s", "PIPhotoEditHelper"}];

    __break(1u);
  }
}

void sub_1A50EB308(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, ...)
{
  va_start(va, a6);
  objc_destroyWeak(va);
  objc_destroyWeak((v6 - 40));
  _Unwind_Resume(a1);
}

void sub_1A50EB9A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id DictionaryFromFMSongTags(void *a1)
{
  v17 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = objc_alloc_init(MEMORY[0x1E695DF90]);
  v12 = 0u;
  v13 = 0u;
  v14 = 0u;
  v15 = 0u;
  v3 = [v1 tagIDs];
  v4 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
  if (v4)
  {
    v5 = v4;
    v6 = *v13;
    do
    {
      for (i = 0; i != v5; ++i)
      {
        if (*v13 != v6)
        {
          objc_enumerationMutation(v3);
        }

        v8 = [*(*(&v12 + 1) + 8 * i) componentsSeparatedByString:@"_"];
        if ([v8 count] == 2)
        {
          v9 = [v8 objectAtIndexedSubscript:0];
          v10 = [v8 objectAtIndexedSubscript:1];
          [v2 setObject:v10 forKeyedSubscript:v9];
        }
      }

      v5 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
    }

    while (v5);
  }

  return v2;
}

id VisualTempoFromTagsDictionary(void *a1)
{
  v1 = [a1 objectForKeyedSubscript:@"VisualTempo"];
  v2 = objc_alloc_init(MEMORY[0x1E696ADA0]);
  [v2 setNumberStyle:1];
  v3 = [v2 numberFromString:v1];

  return v3;
}

uint64_t __Block_byref_object_copy__212581(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A50ED19C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va1, a13);
  va_start(va, a13);
  v15 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  v19 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((v13 - 96), 8);
  _Unwind_Resume(a1);
}

void _PXTestBeatTimeMembership(CMTime *a1, void *a2, uint64_t a3, unint64_t *a4, void *a5)
{
  v9 = a2;
  v10 = *a4;
  if (v10 < [v9 count])
  {
    v11 = [v9 objectAtIndexedSubscript:v10];
    v12 = v11;
    if (v11)
    {
      [v11 timeRange];
    }

    else
    {
      memset(v18, 0, sizeof(v18));
    }

    for (i = v18; ; i = v15)
    {
      v19 = *i;

      time1 = v19;
      time2 = *a1;
      if ((CMTimeCompare(&time1, &time2) & 0x80000000) == 0 || v10 >= [v9 count] - 1)
      {
        break;
      }

      v14 = [v9 objectAtIndexedSubscript:v10 + 1];
      v12 = v14;
      if (v14)
      {
        [v14 timeRange];
      }

      else
      {
        memset(v15, 0, sizeof(v15));
      }

      ++v10;
    }

    time1 = v19;
    time2 = *a1;
    if (!CMTimeCompare(&time1, &time2))
    {
      *a5 = a3;
    }
  }

  *a4 = v10;
}

void sub_1A50ED730(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, char a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29, uint64_t a30, uint64_t a31, uint64_t a32, char a33)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose(&a33, 8);
  _Block_object_dispose((v33 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1A50EDA64(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50EDCC4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50EE18C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50EE410(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50EE724(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXFlexMusicLibraryResourceTypeDescription(uint64_t a1)
{
  v1 = @"Artwork";
  if (a1 == 2)
  {
    v1 = @"Audio";
  }

  if (a1)
  {
    return v1;
  }

  else
  {
    return @"??";
  }
}

void sub_1A50F1340(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 72));
  objc_destroyWeak((v1 + 64));
  objc_destroyWeak((v2 - 200));
  objc_destroyWeak((v2 - 192));
  _Unwind_Resume(a1);
}

void sub_1A50F2A14(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, char a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, char a53)
{
  _Block_object_dispose(&a31, 8);
  _Block_object_dispose(&a53, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F30F8(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 - 40));
  objc_destroyWeak((v1 - 32));
  objc_destroyWeak((v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1A50F3F40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__213020(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A50F4178(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F433C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F4450(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F46C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F47B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F48C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F4BCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F4CFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F4E94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F4FCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F50D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F51E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F5418(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50F5D98(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, char a18, uint64_t a19, uint64_t a20, uint64_t a21, char a22, uint64_t a23, uint64_t a24, uint64_t a25, char a26, uint64_t a27, uint64_t a28, uint64_t a29, char a30)
{
  _Block_object_dispose(&a18, 8);
  _Block_object_dispose(&a22, 8);
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose(&a30, 8);
  _Block_object_dispose((v30 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1A50F5FF4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v7 - 64), 8);
  _Unwind_Resume(a1);
}

void PXStoryClipVideoSegmentTimeRange(void *a1@<X0>, _OWORD *a2@<X8>)
{
  v3 = a1;
  v4 = v3;
  *a2 = 0u;
  a2[1] = 0u;
  a2[2] = 0u;
  if (!v3)
  {
    bzero(v5, 0x300uLL);
    goto LABEL_5;
  }

  [v3 info];
  if (v5[19] != 4)
  {
LABEL_5:
    a2[1] = 0u;
    a2[2] = 0u;
    *a2 = 0u;
    goto LABEL_6;
  }

  [v4 videoTimeRange];
LABEL_6:
}

void PXStoryClipPlaybackTimeRange(void *a1@<X0>, uint64_t a2@<X1>, _OWORD *a3@<X8>)
{
  v5 = a1;
  v6 = v5;
  v7 = 0uLL;
  memset(&v13[1], 0, sizeof(CMTimeRange));
  if (v5 && ([v5 videoTimeRange], v7 = 0uLL, (v13[1].start.flags & 1) != 0) && ((v13[1].duration.flags & 1) != 0 ? (v8 = v13[1].duration.epoch == 0) : (v8 = 0), v8 && (v13[1].duration.value & 0x8000000000000000) == 0))
  {
    *&time.start.value = *(a2 + 24);
    time.start.epoch = *(a2 + 40);
    Seconds = CMTimeGetSeconds(&time.start);
    a3[1] = 0u;
    a3[2] = 0u;
    *a3 = 0u;
    [v6 playbackTimeRangeForClipDuration:Seconds];
    time = v13[1];
    v10 = a3[1];
    *&otherRange.start.value = *a3;
    *&otherRange.start.epoch = v10;
    *&otherRange.duration.timescale = a3[2];
    if (!CMTimeRangeContainsTimeRange(&time, &otherRange))
    {
      v11 = a3[1];
      *&otherRange.start.value = *a3;
      *&otherRange.start.epoch = v11;
      *&otherRange.duration.timescale = a3[2];
      v13[0] = v13[1];
      PXStoryTimeRangeIntersection(&otherRange, v13, &time);
      v12 = *&time.start.epoch;
      *a3 = *&time.start.value;
      a3[1] = v12;
      a3[2] = *&time.duration.timescale;
    }
  }

  else
  {
    a3[1] = v7;
    a3[2] = v7;
    *a3 = v7;
  }
}

void PXStoryClipSegmentPlaybackTimeRangeIncludingJLCuts(void *a1@<X0>, __int128 *a2@<X1>, CMTimeFlags a3@<W2>, _OWORD *a4@<X8>)
{
  v29 = *MEMORY[0x1E69E9840];
  v7 = a1;
  memset(&v26, 0, sizeof(v26));
  v8 = a2[1];
  v23 = *a2;
  v24 = v8;
  v25 = a2[2];
  PXStoryClipPlaybackTimeRange(v7, &v23, &v26);
  if ((v26.start.flags & 1) == 0 || (v26.duration.flags & 1) == 0 || v26.duration.epoch || v26.duration.value < 0)
  {
    a4[1] = 0u;
    a4[2] = 0u;
    *a4 = 0u;
  }

  else
  {
    v24 = 0u;
    v25 = 0u;
    lhs = v26;
    v23 = 0u;
    PXStoryClipVideoPlaybackTimeRange(v7, &lhs, &v23);
    timescale = 0;
    value = 0;
    if (a3)
    {
      rhs = v26;
      PXStoryClipAudioPlaybackTimeRange(v7, &rhs, &lhs);
      value = lhs.start.value;
      flags = lhs.start.flags;
      timescale = lhs.start.timescale;
      v10 = lhs.duration.value;
      epoch = lhs.start.epoch;
      v12 = lhs.duration.timescale;
      a3 = lhs.duration.flags;
      v13 = lhs.duration.epoch;
      v17 = 0uLL;
      *&v18 = 0;
      *&lhs.start.value = *&v26.start.value;
      lhs.start.epoch = v26.start.epoch;
      rhs.start.value = value;
      rhs.start.timescale = timescale;
      rhs.start.flags = flags;
      rhs.start.epoch = epoch;
      CMTimeSubtract(&v17, &lhs.start, &rhs.start);
      *&lhs.start.value = v17;
      lhs.start.epoch = v18;
      *&rhs.start.value = *a2;
      rhs.start.epoch = *(a2 + 2);
      if (CMTimeCompare(&lhs.start, &rhs.start) >= 1)
      {
        *&lhs.start.value = v17;
        lhs.start.epoch = v18;
        *&rhs.start.value = *a2;
        rhs.start.epoch = *(a2 + 2);
        CMTimeSubtract(&v20, &lhs.start, &rhs.start);
        *&v18 = v20.epoch;
        v17 = *&v20.value;
        lhs.start.value = value;
        rhs.start = v20;
        *&lhs.start.timescale = __PAIR64__(flags, timescale);
        lhs.start.epoch = epoch;
        CMTimeAdd(&v20, &lhs.start, &rhs.start);
        value = v20.value;
        flags = v20.flags;
        timescale = v20.timescale;
        epoch = v20.epoch;
        *&rhs.start.value = v17;
        rhs.start.epoch = v18;
        lhs.start.value = v10;
        *&lhs.start.timescale = __PAIR64__(a3, v12);
        lhs.start.epoch = v13;
        CMTimeSubtract(&v20, &lhs.start, &rhs.start);
        v10 = v20.value;
        v12 = v20.timescale;
        a3 = v20.flags;
        v13 = v20.epoch;
      }

      v14 = v13 != 0;
    }

    else
    {
      v14 = 0;
      v12 = 0;
      v10 = 0;
      epoch = 0;
      flags = 0;
    }

    if ((BYTE12(v23) & 1) != 0 && (BYTE4(v25) & 1) != 0 && !*(&v25 + 1) && (*(&v24 + 1) & 0x8000000000000000) == 0)
    {
      rhs = v26;
      v17 = v23;
      v18 = v24;
      v19 = v25;
      PXStoryTimeRangeUnion(&rhs, &v17, &lhs);
      v26 = lhs;
    }

    v15 = (flags & 1) == 0;
    if ((a3 & 1) == 0)
    {
      v15 = 1;
    }

    if (!v15 && !v14 && (v10 & 0x8000000000000000) == 0)
    {
      rhs = v26;
      *&v17 = value;
      *(&v17 + 1) = __PAIR64__(flags, timescale);
      *&v18 = epoch;
      *(&v18 + 1) = v10;
      v19 = __PAIR64__(a3, v12);
      PXStoryTimeRangeUnion(&rhs, &v17, &lhs);
      v26 = lhs;
    }

    v16 = *&v26.start.epoch;
    *a4 = *&v26.start.value;
    a4[1] = v16;
    a4[2] = *&v26.duration.timescale;
  }
}

void PXStoryClipVideoPlaybackTimeRange(void *a1@<X0>, uint64_t a2@<X1>, _OWORD *a3@<X8>)
{
  v5 = a1;
  v6 = v5;
  if ((*(a2 + 12) & 1) != 0 && ((*(a2 + 36) & 1) != 0 ? (v7 = *(a2 + 40) == 0) : (v7 = 0), v7 && (*(a2 + 24) & 0x8000000000000000) == 0))
  {
    v20 = 0u;
    v21 = 0u;
    v19 = 0u;
    if (v5)
    {
      [v5 videoTimeRange];
      if ((BYTE12(v19) & 1) != 0 && (BYTE4(v21) & 1) != 0 && !*(&v21 + 1) && (*(&v20 + 1) & 0x8000000000000000) == 0 && (*(a2 + 12) & 1) != 0 && (*(a2 + 36) & 1) != 0 && !*(a2 + 40) && (*(a2 + 24) & 0x8000000000000000) == 0)
      {
        CMTimeMakeWithSeconds(&v18, 1.0, 600);
        *lhs = *(a2 + 24);
        *&lhs[16] = *(a2 + 40);
        *rhs = v18;
        CMTimeAdd(&v11, lhs, rhs);
        *(a2 + 24) = v11;
        *(a2 + 40) = v12;
        v8 = *(a2 + 16);
        *rhs = *a2;
        *&rhs[16] = v8;
        v15 = *(a2 + 32);
        v11 = v19;
        v12 = v20;
        v13 = v21;
        PXStoryTimeRangeIntersection(rhs, &v11, lhs);
        v9 = *&lhs[16];
        *a2 = *lhs;
        *(a2 + 16) = v9;
        *(a2 + 32) = v17;
      }
    }

    v10 = *(a2 + 16);
    *a3 = *a2;
    a3[1] = v10;
    a3[2] = *(a2 + 32);
  }

  else
  {
    a3[1] = 0u;
    a3[2] = 0u;
    *a3 = 0u;
  }
}

void PXStoryClipAudioPlaybackTimeRange(void *a1@<X0>, _OWORD *a2@<X1>, uint64_t a3@<X8>)
{
  v5 = a1;
  v6 = v5;
  v7 = 0uLL;
  v25 = 0u;
  v26 = 0u;
  v24 = 0u;
  if (v5 && ([v5 videoTimeRange], v7 = 0uLL, (BYTE12(v24) & 1) != 0) && ((BYTE4(v26) & 1) != 0 ? (v8 = *(&v26 + 1) == 0) : (v8 = 0), v8 && (*(&v25 + 1) & 0x8000000000000000) == 0))
  {
    *&range.start.epoch = v25;
    *&range.duration.timescale = v26;
    v9 = a2[1];
    *&otherRange.start.value = *a2;
    *&otherRange.start.epoch = v9;
    *&otherRange.duration.timescale = a2[2];
    *&range.start.value = v24;
    if (!CMTimeRangeContainsTimeRange(&range, &otherRange))
    {
      v10 = a2[1];
      *&otherRange.start.value = *a2;
      *&otherRange.start.epoch = v10;
      *&otherRange.duration.timescale = a2[2];
      *v22 = v24;
      *&v22[16] = v25;
      v23 = v26;
      PXStoryTimeRangeIntersection(&otherRange, v22, &range);
      v11 = *&range.start.epoch;
      *a2 = *&range.start.value;
      a2[1] = v11;
      a2[2] = *&range.duration.timescale;
    }

    v12 = a2[1];
    *a3 = *a2;
    *(a3 + 16) = v12;
    *(a3 + 32) = a2[2];
    [v6 info];
    v13 = v20;
    v14 = v21;
    v15 = +[PXStorySettings sharedInstance];
    if ([v15 wantsAudioFromVideo] && v19 >= 2)
    {
      CMTimeMakeWithSeconds(v22, v20, 600);
      *&range.start.value = *a3;
      range.start.epoch = *(a3 + 16);
      *&otherRange.start.value = *v22;
      otherRange.start.epoch = *&v22[16];
      CMTimeSubtract(a3, &range.start, &otherRange.start);
      CMTimeMakeWithSeconds(&v18, v13 + v14, 600);
      *&range.start.value = *(a3 + 24);
      range.start.epoch = *(a3 + 40);
      otherRange.start = v18;
      CMTimeAdd(v22, &range.start, &otherRange.start);
      *(a3 + 24) = *v22;
      *(a3 + 40) = *&v22[16];
    }

    v16 = *(a3 + 16);
    *&otherRange.start.value = *a3;
    *&otherRange.start.epoch = v16;
    *&otherRange.duration.timescale = *(a3 + 32);
    *v22 = v24;
    *&v22[16] = v25;
    v23 = v26;
    PXStoryTimeRangeIntersection(&otherRange, v22, &range);
    v17 = *&range.start.epoch;
    *a3 = *&range.start.value;
    *(a3 + 16) = v17;
    *(a3 + 32) = *&range.duration.timescale;
  }

  else
  {
    *(a3 + 16) = v7;
    *(a3 + 32) = v7;
    *a3 = v7;
  }
}

void PXStoryClipTimeRangeByAddingJLCutsToTimeRange(void *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  v5 = a1;
  v15 = 0u;
  v16 = 0u;
  v14 = 0u;
  v6 = *(a2 + 16);
  *&v13[0].value = *a2;
  *&v13[0].epoch = v6;
  *&v13[1].timescale = *(a2 + 32);
  PXStoryClipPlaybackTimeRange(v5, v13, &v14);
  if ((BYTE12(v14) & 1) == 0 || (BYTE4(v16) & 1) == 0 || *(&v16 + 1) || (*(&v15 + 1) & 0x8000000000000000) != 0)
  {
    v7 = *(a2 + 16);
    *a3 = *a2;
    *(a3 + 16) = v7;
    *(a3 + 32) = *(a2 + 32);
  }

  else
  {
    *lhs = v14;
    *&lhs[16] = v15;
    v12 = v16;
    memset(v13, 0, sizeof(v13));
    PXStoryClipAudioPlaybackTimeRange(v5, lhs, v13);
    memset(&v10, 0, sizeof(v10));
    *lhs = v14;
    *&lhs[16] = v15;
    rhs = v13[0];
    CMTimeSubtract(&v10, lhs, &rhs);
    *lhs = v10;
    rhs = *a2;
    if (CMTimeCompare(lhs, &rhs) >= 1)
    {
      memset(&v9, 0, sizeof(v9));
      *lhs = v10;
      rhs = *a2;
      CMTimeSubtract(&v9, lhs, &rhs);
      *lhs = v13[0];
      rhs = v9;
      CMTimeAdd(v13, lhs, &rhs);
      *lhs = v13[1];
      rhs = v9;
      CMTimeSubtract(&v8, lhs, &rhs);
      v13[1] = v8;
    }

    *lhs = v10;
    rhs = *a2;
    CMTimeMinimum(&v9, lhs, &rhs);
    v10 = v9;
    *lhs = *a2;
    *&lhs[16] = *(a2 + 16);
    rhs = v9;
    CMTimeSubtract(a3, lhs, &rhs);
    *(a3 + 24) = v13[1];
  }
}

void _GetPreviewAsset(void *a1, void *a2, PXCMMPreviewAsset **a3, void *a4)
{
  v7 = a2;
  v10 = [a1 firstObject];
  v8 = [[PXCMMPreviewAsset alloc] initWithMomentShare:v7 underlyingAsset:v10];

  v9 = v8;
  *a3 = v8;
  *a4 = objc_alloc_init(PXCMMPreviewUIImageProvider);
}

void sub_1A50F805C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _PXCMMCapabilitiesForPhotoLibrary(void *a1, void *a2)
{
  v56 = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v42 = [MEMORY[0x1E696AAA8] currentHandler];
    v43 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCMMCapabilitiesForPhotoLibrary(PHPhotoLibrary *__strong, void (^__strong)(PXCMMCapabilities, CPLStatus *__strong, BOOL))"}];
    [v42 handleFailureInFunction:v43 file:@"PXCMMCapabilitiesProvider.m" lineNumber:64 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v44 = [MEMORY[0x1E696AAA8] currentHandler];
  v45 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCMMCapabilitiesForPhotoLibrary(PHPhotoLibrary *__strong, void (^__strong)(PXCMMCapabilities, CPLStatus *__strong, BOOL))"}];
  [v44 handleFailureInFunction:v45 file:@"PXCMMCapabilitiesProvider.m" lineNumber:65 description:{@"Invalid parameter not satisfying: %@", @"resultsHandler"}];

LABEL_3:
  v6 = [v3 pathManager];
  v7 = CPLStatusFromPathManager();

  if (!v7)
  {
    v38 = PLUserStatusGetLog();
    if (os_log_type_enabled(v38, OS_LOG_TYPE_ERROR))
    {
      LODWORD(buf) = 138412290;
      *(&buf + 4) = v3;
      _os_log_impl(&dword_1A3C1C000, v38, OS_LOG_TYPE_ERROR, "<PXCMMCapabilitiesProvider> No CPL status for library: %@", &buf, 0xCu);
    }

    v5[2](v5, 0, 0, 0);
    goto LABEL_49;
  }

  v8 = [v7 disabledFeatures];
  v48 = 0;
  v49 = &v48;
  v50 = 0x2020000000;
  v9 = getCPLFeatureNameMomentShareSymbolLoc_ptr;
  v51 = getCPLFeatureNameMomentShareSymbolLoc_ptr;
  if (!getCPLFeatureNameMomentShareSymbolLoc_ptr)
  {
    *&buf = MEMORY[0x1E69E9820];
    *(&buf + 1) = 3221225472;
    v53 = __getCPLFeatureNameMomentShareSymbolLoc_block_invoke;
    v54 = &unk_1E774BD00;
    v55 = &v48;
    __getCPLFeatureNameMomentShareSymbolLoc_block_invoke(&buf);
    v9 = v49[3];
  }

  _Block_object_dispose(&v48, 8);
  if (!v9)
  {
    v46 = [MEMORY[0x1E696AAA8] currentHandler];
    v47 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *getCPLFeatureNameMomentShare(void)"];
    [v46 handleFailureInFunction:v47 file:@"PXCMMCapabilitiesProvider.m" lineNumber:29 description:{@"%s", dlerror()}];

    __break(1u);
  }

  v10 = [v8 containsObject:*v9];

  v11 = +[PXCompleteMyMomentSettings sharedInstance];
  v12 = [v11 simulateCPLFeatureState];

  v13 = v10 ^ 1;
  if (v12)
  {
    v13 = v12 == 1;
  }

  if ((v13 & 1) == 0)
  {
    v39 = PLUserStatusGetLog();
    if (os_log_type_enabled(v39, OS_LOG_TYPE_DEFAULT))
    {
      LOWORD(buf) = 0;
      _os_log_impl(&dword_1A3C1C000, v39, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is not available as it is a disabled feature in CPL", &buf, 2u);
    }

    goto LABEL_34;
  }

  v14 = [v7 disabledFeatures];
  v15 = [v14 containsObject:@"MomentShareCreation"];

  v16 = +[PXCompleteMyMomentSettings sharedInstance];
  v17 = [v16 simulateCPLCMMFeatureState];

  v18 = v15 ^ 1;
  if (v17)
  {
    v18 = v17 == 1;
  }

  if ((v18 & 1) == 0)
  {
    v39 = PLUserStatusGetLog();
    if (os_log_type_enabled(v39, OS_LOG_TYPE_DEFAULT))
    {
      LOWORD(buf) = 0;
      _os_log_impl(&dword_1A3C1C000, v39, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM creation is not available as it is a disabled feature in CPL", &buf, 2u);
    }

LABEL_34:

    v5[2](v5, 0, 0, 1);
    goto LABEL_49;
  }

  v19 = [v3 isSystemPhotoLibrary];
  v20 = +[PXCompleteMyMomentSettings sharedInstance];
  v21 = [v20 simulateSystemPhotoLibraryState];

  v22 = v21 == 1;
  if (!v21)
  {
    v22 = v19;
  }

  if (v22)
  {
    v23 = [MEMORY[0x1E69BE248] pl_sharedAccountStore];
    v24 = [v23 cachedPrimaryAppleAccount];

    v25 = +[PXCompleteMyMomentSettings sharedInstance];
    v26 = [v25 simulateCloudState];

    v27 = v26 == 1;
    if (!v26)
    {
      v27 = v24 != 0;
    }

    if (!v27)
    {
      v41 = PLUserStatusGetLog();
      if (os_log_type_enabled(v41, OS_LOG_TYPE_DEFAULT))
      {
        LOWORD(buf) = 0;
        _os_log_impl(&dword_1A3C1C000, v41, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is not available as iCloud is disabled", &buf, 2u);
      }

      v5[2](v5, 0, 0, 0);
      goto LABEL_48;
    }

    v28 = [v24 isEnabledForDataclass:*MEMORY[0x1E6959AE8]];
    v29 = +[PXCompleteMyMomentSettings sharedInstance];
    v30 = [v29 simulateCloudPhotosState];

    if (v30)
    {
      v31 = v30 == 1;
    }

    else
    {
      v31 = v28;
    }

    if (v31)
    {
      v32 = [v7 exitDeleteTime];
      v33 = v32 != 0;

      v34 = +[PXCompleteMyMomentSettings sharedInstance];
      v35 = [v34 simulateCloudPhotosExitState];

      v36 = v35 == 1;
      if (!v35)
      {
        v36 = v33;
      }

      if (!v36)
      {
        (v5)[2](v5, 2, v7, 0);
        goto LABEL_48;
      }

      v37 = PLUserStatusGetLog();
      if (os_log_type_enabled(v37, OS_LOG_TYPE_DEFAULT))
      {
        LOWORD(buf) = 0;
        _os_log_impl(&dword_1A3C1C000, v37, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is receive-only as iCloud Photos is exiting", &buf, 2u);
      }
    }

    else
    {
      v37 = PLUserStatusGetLog();
      if (os_log_type_enabled(v37, OS_LOG_TYPE_DEFAULT))
      {
        LOWORD(buf) = 0;
        _os_log_impl(&dword_1A3C1C000, v37, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is receive-only as iCloud Photos is disabled", &buf, 2u);
      }
    }

    (v5)[2](v5, 1, v7, 0);
LABEL_48:

    goto LABEL_49;
  }

  v40 = PLUserStatusGetLog();
  if (os_log_type_enabled(v40, OS_LOG_TYPE_DEFAULT))
  {
    LOWORD(buf) = 0;
    _os_log_impl(&dword_1A3C1C000, v40, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is not available as CPL is disabled", &buf, 2u);
  }

  v5[2](v5, 0, 0, 0);
LABEL_49:
}

void sub_1A50FBB28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getCPLFeatureNameMomentShareSymbolLoc_block_invoke(void *a1)
{
  v8 = *MEMORY[0x1E69E9840];
  v5[0] = 0;
  if (!CloudPhotoLibraryLibraryCore_frameworkLibrary_213742)
  {
    v5[1] = MEMORY[0x1E69E9820];
    v5[2] = 3221225472;
    v5[3] = __CloudPhotoLibraryLibraryCore_block_invoke_213743;
    v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    v6 = xmmword_1E7745D68;
    v7 = 0;
    CloudPhotoLibraryLibraryCore_frameworkLibrary_213742 = _sl_dlopen();
  }

  v2 = CloudPhotoLibraryLibraryCore_frameworkLibrary_213742;
  if (!CloudPhotoLibraryLibraryCore_frameworkLibrary_213742)
  {
    a1 = [MEMORY[0x1E696AAA8] currentHandler];
    v2 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *CloudPhotoLibraryLibrary(void)"];
    [a1 handleFailureInFunction:v2 file:@"PXCMMCapabilitiesProvider.m" lineNumber:26 description:{@"%s", v5[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v3 = v5[0];
  if (v5[0])
  {
LABEL_7:
    free(v3);
  }

  result = dlsym(v2, "CPLFeatureNameMomentShare");
  *(*(a1[4] + 8) + 24) = result;
  getCPLFeatureNameMomentShareSymbolLoc_ptr = *(*(a1[4] + 8) + 24);
  return result;
}

uint64_t __CloudPhotoLibraryLibraryCore_block_invoke_213743()
{
  result = _sl_dlopen();
  CloudPhotoLibraryLibraryCore_frameworkLibrary_213742 = result;
  return result;
}

void _systemPhotoLibraryURLDidChange_213774(uint64_t a1, void *a2)
{
  objc_initWeak(&location, a2);
  v2[0] = MEMORY[0x1E69E9820];
  v2[1] = 3221225472;
  v2[2] = ___systemPhotoLibraryURLDidChange_block_invoke;
  v2[3] = &unk_1E774C318;
  objc_copyWeak(&v3, &location);
  dispatch_async(MEMORY[0x1E69E96A0], v2);
  objc_destroyWeak(&v3);
  objc_destroyWeak(&location);
}

void ___systemPhotoLibraryURLDidChange_block_invoke(uint64_t a1)
{
  WeakRetained = objc_loadWeakRetained((a1 + 32));
  [WeakRetained _updateCapabilities];
}

uint64_t PXCMMCapabilitiesForPhotoLibrary(void *a1)
{
  v1 = a1;
  v5 = 0;
  v6 = &v5;
  v7 = 0x2020000000;
  v8 = 0;
  v4[0] = MEMORY[0x1E69E9820];
  v4[1] = 3221225472;
  v4[2] = __PXCMMCapabilitiesForPhotoLibrary_block_invoke;
  v4[3] = &unk_1E7745D20;
  v4[4] = &v5;
  _PXCMMCapabilitiesForPhotoLibrary(v1, v4);
  v2 = v6[3];
  _Block_object_dispose(&v5, 8);

  return v2;
}

void sub_1A50FC3FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t PXCMMHasSendAndReceiveCapabilities(void *a1)
{
  v1 = a1;
  v5 = 0;
  v6 = &v5;
  v7 = 0x2020000000;
  v8 = 0;
  v4[0] = MEMORY[0x1E69E9820];
  v4[1] = 3221225472;
  v4[2] = __PXCMMHasSendAndReceiveCapabilities_block_invoke;
  v4[3] = &unk_1E7745D20;
  v4[4] = &v5;
  _PXCMMCapabilitiesForPhotoLibrary(v1, v4);
  v2 = *(v6 + 24);
  _Block_object_dispose(&v5, 8);

  return v2;
}

void sub_1A50FC4D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A50FDC8C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location, id a23)
{
  objc_destroyWeak((v23 + 32));
  objc_destroyWeak((v24 + 40));
  objc_destroyWeak((v24 + 32));
  objc_destroyWeak(&location);
  objc_destroyWeak(&a23);
  _Unwind_Resume(a1);
}

void sub_1A50FDDA4(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v1 + 32));
  _Unwind_Resume(a1);
}

__CFString *PXGadgetTypeToString(unint64_t a1)
{
  if (a1 > 2)
  {
    return 0;
  }

  else
  {
    return off_1E7745E60[a1];
  }
}

id peopleHomeFetchResults(void *a1)
{
  v6[2] = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = peopleHomeFetchResultForType(1, v1);
  v3 = peopleHomeFetchResultForType(0, v1);

  v6[0] = v2;
  v6[1] = v3;
  v4 = [MEMORY[0x1E695DEC8] arrayWithObjects:v6 count:2];

  return v4;
}

id peopleHomeFetchResultForType(uint64_t a1, void *a2)
{
  v3 = [a2 librarySpecificFetchOptions];
  v4 = +[PXPeopleUtilities sortDescriptorsForManualSort];
  [v3 setSortDescriptors:v4];

  [v3 setPersonContext:1];
  v5 = [MEMORY[0x1E6978830] px_defaultDetectionTypes];
  [v3 setIncludedDetectionTypes:v5];

  v6 = [MEMORY[0x1E6978980] fetchPersonsWithType:a1 options:v3];

  return v6;
}

void sub_1A5100534(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, char a41, uint64_t a42, uint64_t a43, uint64_t a44, char a45, uint64_t a46, uint64_t a47, uint64_t a48, char a49)
{
  _Block_object_dispose(&a41, 8);
  _Block_object_dispose(&a45, 8);
  _Block_object_dispose(&a49, 8);
  _Unwind_Resume(a1);
}

void sub_1A5102228(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 48));
  objc_destroyWeak((v2 - 96));
  _Unwind_Resume(a1);
}

BOOL PXCuratedLibraryAssetsCollectionRepresentsChapterHeader(void *a1, uint64_t a2)
{
  v3 = a1;
  v4 = a2 == 2 && (objc_opt_class(), (objc_opt_isKindOfClass() & 1) != 0) && [v3 kind] == 1;

  return v4;
}

uint64_t PXCuratedLibraryNumberOfAssetsDisplayedInAssetCollection(void *a1)
{
  v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v2 = [v1 px_estimatedCuratedAssetsCount];
  }

  else
  {
    v2 = [v1 estimatedAssetCount];
  }

  v3 = v2;

  return v3;
}

uint64_t PXCuratedLibraryZoomLevelForDestinationType(uint64_t a1, uint64_t a2)
{
  if (a1 > 3)
  {
    if ((a1 - 5) < 2)
    {
      return 4;
    }

    if (a1 == 4)
    {
      return 3;
    }

    return 0;
  }

  if (a1 != 1)
  {
    if (a1 == 2)
    {
      return 1;
    }

    if (a1 == 3)
    {
      return 2;
    }

    return 0;
  }

  return a2;
}

uint64_t PXCuratedLibraryDestinationTypeForZoomLevel(unint64_t a1)
{
  if (a1 >= 5)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXProgrammaticNavigationDestinationType PXCuratedLibraryDestinationTypeForZoomLevel(PXCuratedLibraryZoomLevel)"];
    [v6 handleFailureInFunction:v7 file:@"PXCuratedLibraryUtilities.m" lineNumber:82 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return qword_1A53830E0[a1];
}

uint64_t PXCuratedLibraryZoomLevelFromNumber(void *a1)
{
  v1 = [a1 integerValue];
  if ((v1 - 1) > 2)
  {
    return 0;
  }

  else
  {
    return qword_1A5383108[v1 - 1];
  }
}

uint64_t PXCuratedLibraryZoomLevelFromString(void *a1)
{
  v1 = a1;
  if ([v1 isEqualToString:@"years"])
  {
    v2 = 1;
  }

  else if ([v1 isEqualToString:@"months"])
  {
    v2 = 2;
  }

  else if ([v1 isEqualToString:@"days"])
  {
    v2 = 3;
  }

  else if ([v1 isEqualToString:@"all-photos"])
  {
    v2 = 3;
  }

  else
  {
    v2 = 0;
  }

  return v2;
}

id PXCuratedLibraryZoomLevelDiscoverabilityTitle(uint64_t a1)
{
  if ((a1 - 1) >= 4)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXCuratedLibraryZoomLevelDiscoverabilityTitle(PXCuratedLibraryZoomLevel)"];
    [v3 handleFailureInFunction:v4 file:@"PXCuratedLibraryUtilities.m" lineNumber:156 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  v1 = PXLocalizedStringFromTable(off_1E774C6C8[a1 - 1], @"PhotosUICore");

  return v1;
}

uint64_t PXCuratedLibraryZoomLevelToPXPhotosDetailsViewSourceOrigin(uint64_t a1)
{
  if ((a1 - 1) >= 3)
  {
    return 0;
  }

  else
  {
    return 14 - a1;
  }
}

id PXContentSyndicationLocalizedSocialLayerTitle()
{
  if (PXContentSyndicationLocalizedSocialLayerTitle_onceToken != -1)
  {
    dispatch_once(&PXContentSyndicationLocalizedSocialLayerTitle_onceToken, &__block_literal_global_215095);
  }

  v1 = PXContentSyndicationLocalizedSocialLayerTitle_title;

  return v1;
}

void __PXContentSyndicationLocalizedSocialLayerTitle_block_invoke()
{
  v2 = objc_alloc_init(MEMORY[0x1E69D3818]);
  v0 = [v2 displayName];
  v1 = PXContentSyndicationLocalizedSocialLayerTitle_title;
  PXContentSyndicationLocalizedSocialLayerTitle_title = v0;
}

id PXContentSyndicationSocialLayerHighlightForAsset(void *a1)
{
  v15 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = v1;
  if (v1)
  {
    if (!PXDisplayAssetHasSyndicationInformation(v1))
    {
LABEL_10:
      v4 = 0;
      goto LABEL_11;
    }
  }

  else
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"SLHighlight * _Nullable PXContentSyndicationSocialLayerHighlightForAsset(__strong id<PXDisplayAsset> _Nonnull)"];
    [v7 handleFailureInFunction:v8 file:@"PXSocialLayerUtilities.m" lineNumber:46 description:{@"Invalid parameter not satisfying: %@", @"asset"}];

    if (!PXDisplayAssetHasSyndicationInformation(0))
    {
      goto LABEL_10;
    }
  }

  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    goto LABEL_10;
  }

  v3 = v2;
  [v3 fetchPropertySetsIfNeeded];
  v10 = 0;
  v4 = [v3 px_slHighlightWithError:&v10];
  v5 = v10;
  if (!v4)
  {
    v6 = PLUIGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      *buf = 138412546;
      v12 = v3;
      v13 = 2112;
      v14 = v5;
      _os_log_impl(&dword_1A3C1C000, v6, OS_LOG_TYPE_ERROR, "Could not retrieve an SLHighlight from a PHAsset: %@. Error: %@", buf, 0x16u);
    }
  }

LABEL_11:

  return v4;
}

id PXContentSyndicationAttributionViewForSocialLayerHighlight(void *a1, int a2)
{
  v8[1] = *MEMORY[0x1E69E9840];
  v3 = MEMORY[0x1E69D37B8];
  v4 = a1;
  v5 = [[v3 alloc] initWithHighlight:v4];

  if (a2)
  {
    [v5 updateBackgroundStyle:1];
  }

  v8[0] = *MEMORY[0x1E69D3848];
  v6 = [MEMORY[0x1E695DEC8] arrayWithObjects:v8 count:1];
  [v5 excludeContextMenuItemsWithIdentifiers:v6];

  return v5;
}

BOOL PXContentSyndicationShouldShowAttributionViewForAsset(void *a1)
{
  v39 = *MEMORY[0x1E69E9840];
  v1 = a1;
  v2 = PLUIGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_INFO))
  {
    v3 = [v1 uuid];
    *buf = 138543362;
    v34 = v3;
    _os_log_impl(&dword_1A3C1C000, v2, OS_LOG_TYPE_INFO, "Checking if should show attribution view for asset: %{public}@", buf, 0xCu);
  }

  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v4 = v1;
    if (v4)
    {
      objc_opt_class();
      if (objc_opt_isKindOfClass())
      {
        goto LABEL_6;
      }

      v27 = [MEMORY[0x1E696AAA8] currentHandler];
      v28 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXContentSyndicationShouldShowAttributionViewForAsset(__strong id<PXDisplayAsset> _Nonnull)"];
      v31 = objc_opt_class();
      v30 = NSStringFromClass(v31);
      v32 = [v4 px_descriptionForAssertionMessage];
      [v27 handleFailureInFunction:v28 file:@"PXSocialLayerUtilities.m" lineNumber:87 description:{@"%@ should be an instance inheriting from %@, but it is %@", @"asset", v30, v32}];
    }

    else
    {
      v27 = [MEMORY[0x1E696AAA8] currentHandler];
      v28 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXContentSyndicationShouldShowAttributionViewForAsset(__strong id<PXDisplayAsset> _Nonnull)"];
      v29 = objc_opt_class();
      v30 = NSStringFromClass(v29);
      [v27 handleFailureInFunction:v28 file:@"PXSocialLayerUtilities.m" lineNumber:87 description:{@"%@ should be an instance inheriting from %@, but it is nil", @"asset", v30}];
    }

LABEL_6:
    [v4 fetchPropertySetsIfNeeded];
    v5 = [v4 photoLibrary];
    v6 = [v5 wellKnownPhotoLibraryIdentifier];

    if (v6 == 3)
    {
      v7 = PLUIGetLog();
      v8 = 1;
      if (os_log_type_enabled(v7, OS_LOG_TYPE_INFO))
      {
        v9 = [v4 uuid];
        v10 = [v4 curationProperties];
        v11 = [v10 syndicationIdentifier];
        *buf = 138543618;
        v34 = v9;
        v35 = 2114;
        v36 = v11;
        v12 = "Asset found to be in Syndication Library. Asset: %{public}@, syndication ID: %{public}@";
LABEL_13:
        _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_INFO, v12, buf, 0x16u);
LABEL_14:
      }
    }

    else
    {
      if (([v4 px_isUnsavedSyndicatedAsset] & 1) == 0)
      {
        v13 = [v4 px_wasSavedThroughSyndication];
        v7 = PLUIGetLog();
        v14 = os_log_type_enabled(v7, OS_LOG_TYPE_INFO);
        if (v13)
        {
          if (v14)
          {
            v15 = [v4 importDate];
            v16 = [v4 uuid];
            v17 = [v4 curationProperties];
            v18 = [v17 syndicationIdentifier];
            *buf = 138412802;
            v34 = v15;
            v35 = 2114;
            v36 = v16;
            v37 = 2114;
            v38 = v18;
            _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_INFO, "Asset saved through syndication since %@. Asset: %{public}@, syndication ID: %{public}@", buf, 0x20u);
          }

          v7 = +[PXContentSyndicationSettings sharedInstance];
          v19 = [v7 savedAssetViewVisibility];
          if (v19 == 1)
          {
            v8 = 1;
            goto LABEL_24;
          }

          if (v19)
          {
            v9 = [v4 importDate];
            v20 = [v7 numberOfMinutesToShowPillUIAfterSaving];
            v10 = objc_alloc_init(MEMORY[0x1E695DF10]);
            [v10 setMinute:v20];
            v21 = [MEMORY[0x1E695DEE8] currentCalendar];
            v11 = [v21 dateByAddingComponents:v10 toDate:v9 options:0];

            v22 = [MEMORY[0x1E695DF00] now];
            v8 = [v11 compare:v22] != -1;

            goto LABEL_14;
          }
        }

        else if (v14)
        {
          v23 = [v4 uuid];
          v24 = [v4 curationProperties];
          v25 = [v24 syndicationIdentifier];
          *buf = 138543618;
          v34 = v23;
          v35 = 2114;
          v36 = v25;
          _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_INFO, "Asset found to be not eligible for Attribution View. Asset: %{public}@, syndication ID: %{public}@", buf, 0x16u);
        }

        v8 = 0;
        goto LABEL_24;
      }

      v7 = PLUIGetLog();
      v8 = 1;
      if (os_log_type_enabled(v7, OS_LOG_TYPE_INFO))
      {
        v9 = [v4 uuid];
        v10 = [v4 curationProperties];
        v11 = [v10 syndicationIdentifier];
        *buf = 138543618;
        v34 = v9;
        v35 = 2114;
        v36 = v11;
        v12 = "Asset found to be Unsaved Syndicated Asset. Asset: %{public}@, syndication ID: %{public}@";
        goto LABEL_13;
      }
    }

LABEL_24:

    goto LABEL_25;
  }

  v8 = 0;
LABEL_25:

  return v8;
}

void PXContentSyndicationPresentMessagesTranscript(void *a1, void *a2)
{
  v5 = a1;
  v3 = a2;
  v4 = NSSelectorFromString(&cfstr_Presenttranscr.isa);
  objc_opt_class();
  if (objc_opt_respondsToSelector())
  {
    [MEMORY[0x1E69D37B8] performSelector:v4 withObject:v5 withObject:v3];
  }
}

double PXConformCMTimeRangeWithinRange@<D0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  if (*(a2 + 8) <= *(a2 + 32))
  {
    v6 = *(a2 + 32);
  }

  else
  {
    v6 = *(a2 + 8);
  }

  memset(&v17, 0, sizeof(v17));
  *&time.start.value = *a1;
  time.start.epoch = *(a1 + 16);
  CMTimeConvertScale(&v17, &time.start, v6, kCMTimeRoundingMethod_RoundAwayFromZero);
  memset(&v16, 0, sizeof(v16));
  *&time.start.value = *(a1 + 24);
  time.start.epoch = *(a1 + 40);
  CMTimeConvertScale(&v16, &time.start, v6, kCMTimeRoundingMethod_RoundTowardZero);
  *(a3 + 16) = 0u;
  *(a3 + 32) = 0u;
  *a3 = 0u;
  time.start = v17;
  duration.start = v16;
  CMTimeRangeMake(a3, &time.start, &duration.start);
  v7 = *(a2 + 16);
  *&time.start.value = *a2;
  *&time.start.epoch = v7;
  *&time.duration.timescale = *(a2 + 32);
  v8 = *(a3 + 16);
  *&duration.start.value = *a3;
  *&duration.start.epoch = v8;
  *&duration.duration.timescale = *(a3 + 32);
  if (!CMTimeRangeContainsTimeRange(&time, &duration))
  {
    v10 = *(a2 + 16);
    *&duration.start.value = *a2;
    *&duration.start.epoch = v10;
    *&duration.duration.timescale = *(a2 + 32);
    v11 = *(a3 + 16);
    *&v13.start.value = *a3;
    *&v13.start.epoch = v11;
    *&v13.duration.timescale = *(a3 + 32);
    CMTimeRangeGetIntersection(&time, &duration, &v13);
    v12 = *&time.start.epoch;
    *a3 = *&time.start.value;
    *(a3 + 16) = v12;
    result = *&time.duration.timescale;
    *(a3 + 32) = *&time.duration.timescale;
  }

  return result;
}

id PXCMTimeRangeDescription(uint64_t a1)
{
  v2 = objc_alloc(MEMORY[0x1E696AEC0]);
  *&time.start.value = *a1;
  time.start.epoch = *(a1 + 16);
  Seconds = CMTimeGetSeconds(&time.start);
  v4 = *(a1 + 16);
  *&time.start.value = *a1;
  *&time.start.epoch = v4;
  *&time.duration.timescale = *(a1 + 32);
  CMTimeRangeGetEnd(&v8, &time);
  v5 = [v2 initWithFormat:@"{ %0.01f - %0.01fs }", *&Seconds, CMTimeGetSeconds(&v8)];

  return v5;
}

__n128 PXCMTimeClampToRangeInclusive@<Q0>(__int128 *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = 0;
  *(a3 + 8) = 0;
  *(a3 + 16) = 0;
  if ((*(a2 + 12) & 1) == 0 || (*(a2 + 36) & 1) == 0 || *(a2 + 40) || (*(a2 + 24) & 0x8000000000000000) != 0 || (*&v9.start.value = *(a2 + 24), v9.start.epoch = *(a2 + 40), time = **&MEMORY[0x1E6960CC0], CMTimeCompare(&v9.start, &time)))
  {
    v6 = *a1;
    time.epoch = *(a1 + 2);
    v7 = *(a2 + 16);
    *&v9.start.value = *a2;
    *&v9.start.epoch = v7;
    *&v9.duration.timescale = *(a2 + 32);
    *&time.value = v6;
    CMTimeClampToRange(a3, &time, &v9);
  }

  else
  {
    result = *a2;
    *a3 = *a2;
    *(a3 + 16) = *(a2 + 16);
  }

  return result;
}

BOOL PXCMTimeRangeContainsTimeInclusive(uint64_t a1, uint64_t a2)
{
  *&v6.start.value = *a2;
  v6.start.epoch = *(a2 + 16);
  time2 = *a1;
  if (CMTimeCompare(&v6.start, &time2) < 0)
  {
    return 0;
  }

  v4 = *(a1 + 16);
  *&v6.start.value = *a1;
  *&v6.start.epoch = v4;
  *&v6.duration.timescale = *(a1 + 32);
  CMTimeRangeGetEnd(&time2, &v6);
  *&v6.start.value = *a2;
  v6.start.epoch = *(a2 + 16);
  return CMTimeCompare(&v6.start, &time2) < 1;
}

CMTimeRange *PXCMTimeRangeMakeWithDurationAroundTime@<X0>(CMTime *a1@<X0>, CMTime *a2@<X1>, CMTimeRange *a3@<X8>)
{
  time = *a1;
  CMTimeMultiplyByRatio(&rhs, &time, 1, 2);
  v7 = *a2;
  CMTimeSubtract(&time, &v7, &rhs);
  rhs = *a1;
  return CMTimeRangeMake(a3, &time, &rhs);
}

CMTimeRange *PXCMTimeRangeClipToMinimumTime@<X0>(uint64_t a1@<X0>, CMTime *a2@<X1>, CMTimeRange *a3@<X8>)
{
  memset(&v13, 0, sizeof(v13));
  lhs = *a2;
  rhs = *a1;
  CMTimeSubtract(&time1.start, &lhs, &rhs);
  v5 = MEMORY[0x1E6960CC0];
  lhs = **&MEMORY[0x1E6960CC0];
  CMTimeMaximum(&v13, &time1.start, &lhs);
  memset(&lhs, 0, sizeof(lhs));
  v6 = *(a1 + 16);
  *&time1.start.value = *a1;
  *&time1.start.epoch = v6;
  *&time1.duration.timescale = *(a1 + 32);
  CMTimeRangeGetEnd(&rhs, &time1);
  time2 = *a1;
  v8 = v13;
  CMTimeAdd(&time1.start, &time2, &v8);
  CMTimeMinimum(&lhs, &rhs, &time1.start);
  memset(&time1, 0, 24);
  time2 = *(a1 + 24);
  v8 = v13;
  CMTimeSubtract(&rhs, &time2, &v8);
  time2 = *v5;
  CMTimeMaximum(&time1.start, &rhs, &time2);
  rhs = lhs;
  time2 = time1.start;
  return CMTimeRangeMake(a3, &rhs, &time2);
}

id PXValueWithCMTimeRange(Float64 a1, Float64 a2)
{
  memset(&v9, 0, sizeof(v9));
  CMTimeMakeWithSeconds(&v9, a1, 1);
  memset(&v8, 0, sizeof(v8));
  CMTimeMakeWithSeconds(&v8, a2, 1);
  memset(&v7, 0, sizeof(v7));
  v5.start = v9;
  duration = v8;
  CMTimeRangeMake(&v7, &v5.start, &duration);
  v5 = v7;
  v3 = [MEMORY[0x1E696B098] valueWithCMTimeRange:&v5];

  return v3;
}

void PXCMTimeRangeCombinedDuration(void *a1)
{
  v25 = *MEMORY[0x1E69E9840];
  v1 = [a1 sortedArrayUsingComparator:&__block_literal_global_215758];
  v2 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v20 = 0u;
  v21 = 0u;
  v22 = 0u;
  v23 = 0u;
  v3 = v1;
  v4 = [v3 countByEnumeratingWithState:&v20 objects:v24 count:16];
  if (!v4)
  {
LABEL_18:

    PXReduceF();
  }

  v5 = v4;
  v6 = *v21;
LABEL_3:
  v7 = 0;
  while (1)
  {
    if (*v21 != v6)
    {
      objc_enumerationMutation(v3);
    }

    v8 = *(*(&v20 + 1) + 8 * v7);
    if (![v2 count])
    {
      break;
    }

    v9 = 0uLL;
    memset(&v19[1], 0, sizeof(CMTimeRange));
    if (v8)
    {
      [v8 CMTimeRangeValue];
      v9 = 0uLL;
    }

    *&v19[0].start.epoch = v9;
    *&v19[0].duration.timescale = v9;
    *&v19[0].start.value = v9;
    v10 = [v2 lastObject];
    v11 = v10;
    if (v10)
    {
      [v10 CMTimeRangeValue];
    }

    else
    {
      memset(v19, 0, 48);
    }

    range = v19[1];
    memset(&v18, 0, sizeof(v18));
    otherRange = v19[0];
    CMTimeRangeGetIntersection(&v18, &range, &otherRange);
    v12 = v2;
    if (v18.duration.value < 1)
    {
      goto LABEL_15;
    }

    [v2 removeLastObject];
    v13 = MEMORY[0x1E696B098];
    otherRange = v19[1];
    v15 = v19[0];
    CMTimeRangeGetUnion(&range, &otherRange, &v15);
    v14 = [v13 valueWithCMTimeRange:&range];
    [v2 addObject:v14];

LABEL_16:
    if (v5 == ++v7)
    {
      v5 = [v3 countByEnumeratingWithState:&v20 objects:v24 count:16];
      if (!v5)
      {
        goto LABEL_18;
      }

      goto LABEL_3;
    }
  }

  v12 = v2;
LABEL_15:
  [v12 addObject:v8];
  goto LABEL_16;
}

Float64 __PXCMTimeRangeCombinedDuration_block_invoke_2(Float64 a1, uint64_t a2, void *a3)
{
  v4 = a3;
  v5 = v4;
  if (v4)
  {
    [v4 CMTimeRangeValue];
    if ((BYTE4(v11) & 0x1D) == 1)
    {
      [v5 CMTimeRangeValue];
      time = v7;
      a1 = CMTimeGetSeconds(&time) + a1;
    }
  }

  else
  {
    v10 = 0u;
    v11 = 0u;
    v9 = 0u;
  }

  return a1;
}

uint64_t __PXCMTimeRangeCombinedDuration_block_invoke(uint64_t a1, void *a2, void *a3)
{
  v4 = a2;
  v5 = a3;
  if (v4)
  {
    [v4 CMTimeRangeValue];
  }

  else
  {
    v11 = 0u;
    v12 = 0u;
    v10 = 0u;
  }

  *&time1.value = v10;
  time1.epoch = v11;
  if (v5)
  {
    [v5 CMTimeRangeValue];
  }

  else
  {
    memset(&v8, 0, sizeof(v8));
  }

  time2 = v8;
  v6 = CMTimeCompare(&time1, &time2);

  return v6;
}

void sub_1A510F2B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  _Block_object_dispose(&a70, 8);
  _Block_object_dispose(&STACK[0x218], 8);
  _Block_object_dispose(&STACK[0x238], 8);
  _Block_object_dispose((v70 - 232), 8);
  _Block_object_dispose((v70 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__216026(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5115FE8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A51161CC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location, id a16)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  objc_destroyWeak(&a16);
  _Unwind_Resume(a1);
}

void sub_1A5116954(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, id location)
{
  objc_destroyWeak((v22 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A511728C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A5117408(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v15 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1A5117BA8(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A5117DE0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A51191CC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, uint64_t a17, uint64_t a18, id a19)
{
  objc_destroyWeak((v19 + 40));
  objc_destroyWeak((v19 + 32));
  objc_destroyWeak(&location);
  objc_destroyWeak(&a19);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__217191(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5119F6C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v15 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1A511A818(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  v12 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1A511C8BC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A511D4E8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A511E730(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void ___deviceSupportsIOSurfaceCompression_block_invoke()
{
  v0 = MGCopyAnswer();
  if (v0)
  {
    v1 = v0;
    v2 = *MEMORY[0x1E695E4D0];
    if (v2 == CFDictionaryGetValue(v0, @"universal-buffer-compression"))
    {
      _deviceSupportsIOSurfaceCompression__supportsIOSurfaceCompression = 1;
    }

    CFRelease(v1);
  }
}

void sub_1A511FEDC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5121DFC(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A5121F3C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A5122108(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A51227C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A51229A4(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1A5122D7C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  v13 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  v19 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((v11 - 112), 8);
  _Block_object_dispose((v11 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1A51238A0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, id location)
{
  objc_destroyWeak((v25 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5123AAC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A51252A8(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1A5125678(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A512838C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A512B69C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, char a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, char a51, uint64_t a52, uint64_t a53, uint64_t a54, char a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, char a61, uint64_t a62, uint64_t a63)
{
  _Block_object_dispose(&a45, 8);
  _Block_object_dispose(&a51, 8);
  _Block_object_dispose(&a55, 8);
  _Block_object_dispose(&a61, 8);
  _Block_object_dispose(&a65, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__217782(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A512C074(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getUSSensitivityAnalyzerClass_block_invoke(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!UserSafetyLibraryCore_frameworkLibrary)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __UserSafetyLibraryCore_block_invoke;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E7746BD0;
    v8 = 0;
    UserSafetyLibraryCore_frameworkLibrary = _sl_dlopen();
  }

  if (!UserSafetyLibraryCore_frameworkLibrary)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *UserSafetyLibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXSharingUserSafetyController.m" lineNumber:22 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("USSensitivityAnalyzer");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getUSSensitivityAnalyzerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXSharingUserSafetyController.m" lineNumber:24 description:{@"Unable to find class %s", "USSensitivityAnalyzer"}];

LABEL_10:
    __break(1u);
  }

  getUSSensitivityAnalyzerClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __UserSafetyLibraryCore_block_invoke()
{
  result = _sl_dlopen();
  UserSafetyLibraryCore_frameworkLibrary = result;
  return result;
}

uint64_t PXControlContentHorizontalAlignmentLeading()
{
  if ([MEMORY[0x1E695DF58] px_currentCharacterDirection] == 2)
  {
    return 2;
  }

  else
  {
    return 1;
  }
}

void sub_1A512E070(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v8 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1A512F6E4(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 48));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A512FCF4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, id location)
{
  objc_destroyWeak(&location);
  objc_destroyWeak((v33 - 184));
  _Unwind_Resume(a1);
}

void sub_1A51306E0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v3 + 32));
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v4 - 88));
  _Unwind_Resume(a1);
}

void sub_1A5134810(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v9 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1A513637C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v9 - 80), 8);
  _Block_object_dispose((v9 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1A5137C60(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__219425(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A51383A0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 112));
  _Unwind_Resume(a1);
}

void sub_1A5139C34(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A513BF9C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak((v18 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A513CFA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A513D1B8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A513F93C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__220933(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t PXSharedLibraryAutoSharePolicyFromPH(int a1)
{
  if (a1 == 2)
  {
    return 2;
  }

  else
  {
    return a1 == 1;
  }
}

uint64_t PXSharedLibraryAutoSharePolicyFromPX(uint64_t a1)
{
  if (a1 == 2)
  {
    return 2;
  }

  else
  {
    return a1 == 1;
  }
}

void sub_1A514204C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v15 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1A5143658(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak((v21 + 32));
  objc_destroyWeak((v20 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5145E08(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t PXTrimTimeCodeStringFromSecondsAndRound(double a1)
{
  if (PXTrimTimeCodeStringFromSecondsAndRound_onceToken != -1)
  {
    dispatch_once(&PXTrimTimeCodeStringFromSecondsAndRound_onceToken, &__block_literal_global_221476);
  }

  v2 = &PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter;
  if (round(a1) < 3600.0)
  {
    v2 = &PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter;
  }

  v3 = *v2;

  return [v3 stringFromTimeInterval:?];
}

uint64_t __PXTrimTimeCodeStringFromSecondsAndRound_block_invoke()
{
  v0 = objc_alloc_init(MEMORY[0x1E696AB70]);
  v1 = PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter;
  PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter = v0;

  [PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter setAllowedUnits:192];
  [PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter setUnitsStyle:0];
  [PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter setZeroFormattingBehavior:0x10000];
  v2 = objc_alloc_init(MEMORY[0x1E696AB70]);
  v3 = PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter;
  PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter = v2;

  [PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter setAllowedUnits:224];
  [PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter setUnitsStyle:0];
  v4 = PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter;

  return [v4 setZeroFormattingBehavior:0x10000];
}

void PXTrimTimeCodeStringFromMilliSeconds(double a1)
{
  if (a1 >= 3600.0)
  {
    PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormatHours", @"PhotosUICore");
  }

  else
  {
    PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormat", @"PhotosUICore");
  }

  objc_claimAutoreleasedReturnValue();
  PXLocalizedStringWithValidatedFormat();
}

void PXTrimTimeCodeStringWithFrames(double a1)
{
  if (a1 >= 3600.0)
  {
    PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormatHours", @"PhotosUICore");
  }

  else
  {
    PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormat", @"PhotosUICore");
  }

  objc_claimAutoreleasedReturnValue();
  PXLocalizedStringWithValidatedFormat();
}

__CFString *PXContentPrivacyDescriptionFromAuthenticationContext(void *a1)
{
  v1 = a1;
  v2 = objc_opt_class();
  v3 = NSStringFromClass(v2);
  if (objc_opt_respondsToSelector())
  {
    v4 = [v1 authenticationContextIdentifier];

    v3 = v4;
  }

  if (v3)
  {
    v5 = v3;
  }

  else
  {
    v5 = @"<Unknown>";
  }

  v6 = v5;

  return v5;
}

void sub_1A514BDD0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A514C9DC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, id *location, id *a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, char a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, char a28, uint64_t a29, uint64_t a30, uint64_t a31, id a32)
{
  objc_destroyWeak((v33 + 32));
  objc_destroyWeak((v32 + 32));
  objc_destroyWeak(&a27);
  objc_destroyWeak(&a32);
  objc_destroyWeak(location);
  objc_destroyWeak(a12);
  objc_destroyWeak((v34 - 112));
  _Unwind_Resume(a1);
}

uint64_t PXContentPrivacyNavigationStateFromViewController(void *a1)
{
  v1 = a1;
  v2 = [v1 navigationController];
  v3 = [v2 viewControllers];
  v4 = [v3 containsObject:v1];

  v5 = [v1 presentedViewController];

  v6 = [v2 topViewController];

  if (v5)
  {
    v7 = 1;
  }

  else
  {
    v7 = v6 != v1;
  }

  if (v5)
  {
    v8 = 1;
  }

  else
  {
    v8 = v4;
  }

  if (v7)
  {
    v9 = v8;
  }

  else
  {
    v9 = 2;
  }

  return v9;
}

__CFString *PXDescriptionFromContentPrivacyControllerAutolockTimerReason(uint64_t a1)
{
  v1 = @"Explicit";
  if (a1 == 1)
  {
    v1 = @"Window Backgrounding";
  }

  if (a1 == 2)
  {
    return @"Window Minimizing";
  }

  else
  {
    return v1;
  }
}

void sub_1A514E81C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  v10 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  v13 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void PXPublishMomentShareWithCompletion(void *a1, void *a2, uint64_t a3, void *a4, void *a5)
{
  v9 = a1;
  v10 = a2;
  v11 = a4;
  v12 = a5;
  if (!v12)
  {
    v21 = [MEMORY[0x1E696AAA8] currentHandler];
    v22 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXPublishMomentShareWithCompletion(NSArray<PHAsset *> *__strong _Nonnull, NSDictionary<NSString *, PXCMMAssetPreparationOptions *> *__strong _Nullable, PXCMMShareOrigin, __strong id<PXCMMActionPerformerDelegate> _Nonnull, __strong PXPublishMomentShareCompletion _Nonnull)"}];
    [v21 handleFailureInFunction:v22 file:@"PXSharingUtilities.m" lineNumber:24 description:{@"Invalid parameter not satisfying: %@", @"completionHandler"}];

    if (v9)
    {
      goto LABEL_3;
    }

LABEL_5:
    v23 = [MEMORY[0x1E696AAA8] currentHandler];
    v24 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXPublishMomentShareWithCompletion(NSArray<PHAsset *> *__strong _Nonnull, NSDictionary<NSString *, PXCMMAssetPreparationOptions *> *__strong _Nullable, PXCMMShareOrigin, __strong id<PXCMMActionPerformerDelegate> _Nonnull, __strong PXPublishMomentShareCompletion _Nonnull)"}];
    [v23 handleFailureInFunction:v24 file:@"PXSharingUtilities.m" lineNumber:25 description:{@"Invalid parameter not satisfying: %@", @"assets"}];

    goto LABEL_3;
  }

  if (!v9)
  {
    goto LABEL_5;
  }

LABEL_3:
  v13 = [[PXCMMPhotoKitContext alloc] initWithAssets:v9 activityType:4 sourceType:0];
  [(PXCMMContext *)v13 setAssetPreparationOptions:v10];
  v14 = [[PXCMMPhotoKitSession alloc] initWithPhotoKitContext:v13];
  v15 = [(PXCMMSession *)v14 viewModel];
  v16 = [v15 selectionManager];
  [v16 performChanges:&__block_literal_global_222490];

  v17 = [(PXCMMSession *)v14 actionManager];
  v18 = [v17 publishActionPerformer];
  [v18 setDelegate:v11];
  v25[0] = MEMORY[0x1E69E9820];
  v25[1] = 3221225472;
  v25[2] = __PXPublishMomentShareWithCompletion_block_invoke_2;
  v25[3] = &unk_1E77473C0;
  v26 = v12;
  v19 = v12;
  v20 = [v18 performPublishActionWithSession:v14 shareOrigin:a3 completionHandler:v25];
}

void __PXPublishMomentShareWithCompletion_block_invoke_2(uint64_t a1, void *a2, void *a3)
{
  v12 = *MEMORY[0x1E69E9840];
  v5 = a2;
  v6 = a3;
  v7 = PLSharingGetLog();
  v8 = v7;
  if (v5)
  {
    if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      v9 = [v5 pl_redactedShareURL];
      v10 = 138543362;
      v11 = v9;
      _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_DEFAULT, "PXPublishMomentShareWithCompletion: Published moment share to URL: %{public}@", &v10, 0xCu);
    }
  }

  else if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
  {
    v10 = 138412290;
    v11 = v6;
    _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_ERROR, "PXPublishMomentShareWithCompletion: Failed to publish moment share with error: %@", &v10, 0xCu);
  }

  (*(*(a1 + 32) + 16))();
}

id PXAlertControllerToPresentShareSheet(void *a1, void *a2, void *a3)
{
  v5 = MEMORY[0x1E69DC650];
  v6 = a3;
  v7 = a2;
  v8 = a1;
  v9 = PXLocalizedStringFromTable(@"PXPhotoShareLinkAlertMessage", @"PhotosUICore");
  v10 = [v5 alertControllerWithTitle:0 message:v9 preferredStyle:0];

  v11 = MEMORY[0x1E69DC648];
  v12 = PXLocalizedStringFromTable(@"PXPhotoShareLinkAlertActionTitle", @"PhotosUICore");
  v13 = [v11 actionWithTitle:v12 style:0 handler:v8];

  [v10 addAction:v13];
  v14 = MEMORY[0x1E69DC648];
  v15 = PXLocalizedStringFromTable(@"PXPhotoShareLinkAlertActionRegularShareSheetTitle", @"PhotosUICore");
  v16 = [v14 actionWithTitle:v15 style:0 handler:v7];

  [v10 addAction:v16];
  v17 = MEMORY[0x1E69DC648];
  v18 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v19 = [v17 actionWithTitle:v18 style:1 handler:v6];

  [v10 addAction:v19];

  return v10;
}

id PXCreateDefaultAssetSharingHelper(void *a1)
{
  v1 = a1;
  v2 = objc_alloc_init(PXDefaultAssetSharingHelperClass());
  [v2 setDelegate:v1];

  return v2;
}

id PXDefaultAssetSharingHelperClass()
{
  if (PXDefaultAssetSharingHelperClass_onceToken != -1)
  {
    dispatch_once(&PXDefaultAssetSharingHelperClass_onceToken, &__block_literal_global_220_222518);
  }

  v1 = PXDefaultAssetSharingHelperClass_c;

  return v1;
}

Class __PXDefaultAssetSharingHelperClass_block_invoke()
{
  result = NSClassFromString(&cfstr_Puassetsharing.isa);
  PXDefaultAssetSharingHelperClass_c = result;
  return result;
}

id PXDefaultPrintInfo()
{
  v0 = [MEMORY[0x1E69C5A10] printInfo];
  [v0 setOutputType:1];
  [v0 setDuplex:0];
  v1 = PXLocalizedStringFromTable(@"PRINT_FILENAME", @"PhotosUICore");
  [v0 setJobName:v1];

  return v0;
}

uint64_t PXStorySongResourceIsNullResource(void *a1)
{
  if (a1)
  {
    v1 = a1;
    objc_opt_class();
    isKindOfClass = objc_opt_isKindOfClass();
  }

  else
  {
    isKindOfClass = 0;
  }

  return isKindOfClass & 1;
}

uint64_t PXStorySongResourceEqualToSongResource(void *a1, void *a2)
{
  if (a1 == a2)
  {
    return 1;
  }

  v3 = a2;
  v4 = [a1 px_storyResourceSongAsset];
  v5 = [v3 px_storyResourceSongAsset];

  v6 = [v4 isAudioEqualToAsset:v5];
  return v6;
}

void sub_1A51512F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__222689(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

PXTitleEditor *PXCollectionRenameActionTitleEditor(void *a1, void *a2, void *a3)
{
  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = v5;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v9 = 2 * ([v8 assetCollectionType] == 4);
  }

  else
  {
    objc_opt_class();
    v9 = objc_opt_isKindOfClass() & 1;
  }

  v10 = objc_alloc_init(PXTitleEditor);
  v11 = [v8 localizedTitle];
  v12 = PXCollectionDisplayableSingleLineTextForTitle(v11);

  v13 = [v8 localizedSubtitle];
  v14 = PXCollectionDisplayableSingleLineTextForTitle(v13);

  v15 = [v12 length];
  v31 = v6;
  v32 = v7;
  if (v9 == 2)
  {
    v17 = PXLocalizedStringFromTable(@"PXRenameMemoryActionAlertTitle", @"PhotosUICore");
    [(PXTitleEditor *)v10 setMessage:v17];

    [(PXTitleEditor *)v10 setTitle:v12];
    v18 = PXLocalizedStringFromTable(@"PXRenameMemoryActionTitlePlaceholderText", @"PhotosUICore");
    [(PXTitleEditor *)v10 setTitlePlaceholder:v18];

    v19 = 1;
    [(PXTitleEditor *)v10 setIncludesSubtitle:1];
    [(PXTitleEditor *)v10 setSubtitle:v14];
    v20 = PXLocalizedStringFromTable(@"PXRenameMemoryActionSubtitlePlaceholderText", @"PhotosUICore");
    [(PXTitleEditor *)v10 setSubtitlePlaceholder:v20];

    v21 = [v14 length] == 0;
  }

  else
  {
    if (v9 == 1)
    {
      v16 = @"PXRenameFolderActionName";
    }

    else
    {
      v16 = @"PXPhotosGridRenameAlbumActionAlertTitle";
    }

    v22 = PXLocalizedStringFromTable(v16, @"PhotosUICore");
    [(PXTitleEditor *)v10 setMessage:v22];

    [(PXTitleEditor *)v10 setTitle:v12];
    v23 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionPlaceholderText", @"PhotosUICore");
    [(PXTitleEditor *)v10 setTitlePlaceholder:v23];

    v21 = 0;
    v19 = 0;
  }

  v24 = v15 == 0;
  v25 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionConfirmButton", @"PhotosUICore");
  [(PXTitleEditor *)v10 setConfirmButtonTitle:v25];

  v26 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionCancelButton", @"PhotosUICore");
  [(PXTitleEditor *)v10 setCancelButtonTitle:v26];

  v39[0] = MEMORY[0x1E69E9820];
  v39[1] = 3221225472;
  v39[2] = __PXCollectionRenameActionTitleEditor_block_invoke;
  v39[3] = &__block_descriptor_35_e23_B16__0__PXTitleEditor_8l;
  v40 = v24;
  v41 = v19;
  v42 = v21;
  [(PXTitleEditor *)v10 setValidation:v39];
  v33[0] = MEMORY[0x1E69E9820];
  v33[1] = 3221225472;
  v33[2] = __PXCollectionRenameActionTitleEditor_block_invoke_3;
  v33[3] = &unk_1E7747670;
  v36 = v32;
  v37 = v9;
  v38 = v21;
  v34 = v8;
  v35 = v31;
  v27 = v31;
  v28 = v8;
  v29 = v32;
  [(PXTitleEditor *)v10 setCompletionHandler:v33];

  return v10;
}

id PXCollectionDisplayableSingleLineTextForTitle(void *a1)
{
  v1 = a1;
  v2 = [off_1E77217B8 defaultHelper];
  v3 = [v2 displayableTextForTitle:v1 intent:2];

  return v3;
}

BOOL __PXCollectionRenameActionTitleEditor_block_invoke(_BYTE *a1, void *a2)
{
  v3 = a2;
  v4 = [v3 title];
  if ([v4 length] || (a1[32] & 1) == 0)
  {
    v6 = [MEMORY[0x1E6978660] validateAssetCollectionTitle:v4 error:0];
    v5 = v6 != 0;
  }

  else
  {
    v5 = 1;
  }

  if (a1[33] == 1)
  {
    v7 = [v3 subtitle];
    v8 = v7;
    if (v5)
    {
      if ([v7 length] || (a1[34] & 1) == 0)
      {
        v9 = [MEMORY[0x1E6978660] validateAssetCollectionTitle:v8 error:0];
        v5 = v9 != 0;
      }

      else
      {
        v5 = 1;
      }
    }
  }

  return v5;
}

void __PXCollectionRenameActionTitleEditor_block_invoke_3(uint64_t a1, void *a2, char a3)
{
  v5 = a2;
  v6 = v5;
  if (a3)
  {
    v7 = [v5 title];
    v32 = 0;
    v8 = [MEMORY[0x1E6978660] validateAssetCollectionTitle:v7 error:&v32];
    v9 = v32;
    if (![v8 length])
    {
      v17 = *(a1 + 48);
      v12 = [MEMORY[0x1E696ABC0] px_genericErrorWithUnderlyingError:v9 debugDescription:{@"Unsupported collection title: %@", v7}];
      (*(v17 + 16))(v17, 0, v12);
LABEL_22:

      goto LABEL_23;
    }

    v10 = *(a1 + 56);
    if (v10 >= 2)
    {
      if (v10 != 2)
      {
        v12 = 0;
        v13 = v9;
LABEL_14:
        v11 = [MEMORY[0x1E696ABC0] px_genericErrorWithUnderlyingError:v9 debugDescription:{@"Rename action was not created for new title: %@, new subtitle: %@", v8, v12}];
        (*(*(a1 + 48) + 16))();
LABEL_15:

        aBlock[0] = MEMORY[0x1E69E9820];
        aBlock[1] = 3221225472;
        aBlock[2] = __PXCollectionRenameActionTitleEditor_block_invoke_5;
        aBlock[3] = &unk_1E774BE48;
        v28 = *(a1 + 32);
        v19 = _Block_copy(aBlock);
        v20 = v19;
        v21 = *(a1 + 56);
        if (v21)
        {
          if (v21 != 2)
          {
LABEL_20:

            v18 = v28;
LABEL_21:

            v9 = v13;
            goto LABEL_22;
          }

          v22 = @"com.apple.photos.CPAnalytics.memoryRenamedFromAlert";
          v23 = @"com.apple.photos.CPAnalytics.memoryRenamed";
        }

        else
        {
          v22 = @"com.apple.photos.CPAnalytics.albumRenamedFromAlert";
          v23 = @"com.apple.photos.CPAnalytics.albumRenamed";
        }

        v24 = v19 + 2;
        v19[2](v19, v23);
        (*v24)(v20, v22);
        goto LABEL_20;
      }

      v18 = [v6 subtitle];
      v31 = v9;
      v12 = [MEMORY[0x1E6978660] validateAssetCollectionTitle:v18 error:&v31];
      v13 = v31;

      if (![v12 length] && !*(a1 + 64))
      {
        v25 = *(a1 + 48);
        v26 = [MEMORY[0x1E696ABC0] px_genericErrorWithUnderlyingError:v13 debugDescription:{@"Unsupported memory subtitle: %@", v18}];
        (*(v25 + 16))(v25, 0, v26);

        goto LABEL_21;
      }

      v11 = [[PXRenameMemoryAction alloc] initWithMemory:*(a1 + 32) title:v8 subtitle:v12];

      if (v11)
      {
        goto LABEL_5;
      }
    }

    else
    {
      v11 = [[PXRenameCollectionAction alloc] initWithCollection:*(a1 + 32) title:v8];
      v12 = 0;
      v13 = v9;
      if (v11)
      {
LABEL_5:
        v29[0] = MEMORY[0x1E69E9820];
        v29[1] = 3221225472;
        v29[2] = __PXCollectionRenameActionTitleEditor_block_invoke_4;
        v29[3] = &unk_1E7747648;
        v14 = *(a1 + 40);
        v30 = *(a1 + 48);
        [(PXAction *)v11 executeWithUndoManager:v14 completionHandler:v29];

        goto LABEL_15;
      }
    }

    v9 = v13;
    goto LABEL_14;
  }

  v15 = *(a1 + 48);
  v16 = [MEMORY[0x1E696ABC0] px_genericErrorWithDebugDescription:@"User cancelled collection rename action"];
  (*(v15 + 16))(v15, 0, v16);

LABEL_23:
}

void __PXCollectionRenameActionTitleEditor_block_invoke_5(uint64_t a1, void *a2)
{
  v8[1] = *MEMORY[0x1E69E9840];
  v2 = MEMORY[0x1E6991F28];
  v3 = *(a1 + 32);
  v7 = *MEMORY[0x1E6991E08];
  v8[0] = v3;
  v4 = MEMORY[0x1E695DF20];
  v5 = a2;
  v6 = [v4 dictionaryWithObjects:v8 forKeys:&v7 count:1];
  [v2 sendEvent:v5 withPayload:v6];
}

id PXCollectionRenameActionAlertController(void *a1, void *a2, void *a3)
{
  v3 = PXCollectionRenameActionTitleEditor(a1, a2, a3);
  v4 = [v3 createAlertController];

  return v4;
}

id PXCollectionRenameActionLocalizedTitle(void *a1)
{
  v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    if ([v1 assetCollectionType] == 4)
    {
      v2 = @"PXRenameMemoryActionName";
      goto LABEL_7;
    }
  }

  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      v2 = @"PXRenameFolderActionName";
      goto LABEL_7;
    }
  }

  v2 = @"PXPhotosGridRenameAlbumActionMenuTitle";
LABEL_7:
  v3 = PXLocalizedStringFromTable(v2, @"PhotosUICore");

  return v3;
}

void sub_1A5154178(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 48));
  objc_destroyWeak((v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1A5154670(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, id location)
{
  objc_destroyWeak((v23 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

BOOL PXAssistantIsUserCanceledError(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXAssistantIsUserCanceledError(NSError *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7 file:@"PXAssistantController.m" lineNumber:17 description:{@"Invalid parameter not satisfying: %@", @"error"}];
  }

  v2 = [v1 domain];
  v3 = [v2 isEqualToString:@"PXAssistantErrorDomain"];

  if ((v3 & 1) == 0)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXAssistantIsUserCanceledError(NSError *__strong _Nonnull)"];
    [v8 handleFailureInFunction:v9 file:@"PXAssistantController.m" lineNumber:18 description:{@"Invalid parameter not satisfying: %@", @"[error.domain isEqualToString:PXAssistantErrorDomain]"}];
  }

  v4 = [v1 code] == -1001;

  return v4;
}

void _FetchCountsForRulesAndPolicy(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v4 = a3;
  v20 = *MEMORY[0x1E69E9840];
  *a1 = *off_1E7721F78;
  *(a1 + 16) = *(off_1E7721F78 + 2);
  v14 = 0;
  v15 = 0;
  v12 = 0;
  v13 = 0;
  v6 = [MEMORY[0x1E69788C0] estimatedAssetCountForRules:a2 autoSharePolicy:a3 imageCount:&v15 videoCount:&v14 audioCount:&v13 itemCount:0 options:a4 error:&v12];
  v7 = v12;
  v8 = v7;
  if (v6 || !v7)
  {
    if (v6)
    {
      v10 = v14;
      v11 = v13;
      *a1 = v15;
      *(a1 + 8) = v10;
      *(a1 + 16) = v11;
    }
  }

  else
  {
    v9 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
    {
      *buf = 134218242;
      v17 = v4;
      v18 = 2112;
      v19 = v8;
      _os_log_impl(&dword_1A3C1C000, v9, OS_LOG_TYPE_ERROR, "Error calculating estimated asset counts for policy: %ld, error: %@", buf, 0x16u);
    }

    *a1 = *off_1E7721F70;
    *(a1 + 16) = *(off_1E7721F70 + 2);
  }
}

void sub_1A515AB1C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__224075(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A515B9AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__224210(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A515C7C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A515FC50(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A5162124(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, char a59)
{
  _Block_object_dispose(&a59, 8);
  _Block_object_dispose(&STACK[0x210], 8);
  _Unwind_Resume(a1);
}

id OneUpCompositionForAspectRatio(uint64_t a1)
{
  if (a1 > 4)
  {
    v5 = 3;
    v6 = 4;
    v7 = 2;
    v8 = 3;
    v9 = 9;
    v10 = 16;
    if (a1 != 9)
    {
      v10 = 0;
      v9 = 0;
    }

    if (a1 != 8)
    {
      v8 = v10;
      v7 = v9;
    }

    if (a1 != 7)
    {
      v6 = v8;
      v5 = v7;
    }

    v11 = 4;
    v12 = 3;
    if (a1 != 5)
    {
      v12 = a1 == 6;
      v11 = v12;
    }

    if (a1 <= 6)
    {
      v3 = v12;
    }

    else
    {
      v3 = v6;
    }

    if (a1 <= 6)
    {
      v4 = v11;
    }

    else
    {
      v4 = v5;
    }

    goto LABEL_26;
  }

  if (a1 > 1)
  {
    if (a1 == 2)
    {
      v13 = +[PXStoryClipCompositionFactory aspectFitOneUpComposition];
      goto LABEL_27;
    }

    v1 = 3;
    v2 = 2;
    if (a1 != 4)
    {
      v2 = 0;
      v1 = 0;
    }

    if (a1 == 3)
    {
      v3 = 9;
    }

    else
    {
      v3 = v2;
    }

    if (a1 == 3)
    {
      v4 = 16;
    }

    else
    {
      v4 = v1;
    }

    goto LABEL_26;
  }

  v14 = 0;
  if (a1)
  {
    if (a1 == 1)
    {
      v13 = +[PXStoryClipCompositionFactory oneUpComposition];
      goto LABEL_27;
    }

    v3 = 0;
    v4 = 0;
LABEL_26:
    v13 = [PXStoryClipCompositionFactory oneUpCompositionWithAspectRatioNumerator:v3 denominator:v4];
LABEL_27:
    v14 = v13;
  }

  return v14;
}

void PXAttributedStringForStringWithActionTitle(void *a1, void *a2, void *a3, void *a4, int a5)
{
  v9 = a1;
  v10 = a2;
  v11 = a3;
  v12 = a4;
  if (!v9)
  {
    v15 = [MEMORY[0x1E696AAA8] currentHandler];
    v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
    [v15 handleFailureInFunction:v16 file:@"PXFooterUtilities.m" lineNumber:22 description:{@"Invalid parameter not satisfying: %@", @"string"}];
  }

  if ([v9 length])
  {
    if (v10)
    {
      goto LABEL_5;
    }
  }

  else
  {
    v17 = [MEMORY[0x1E696AAA8] currentHandler];
    v18 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
    [v17 handleFailureInFunction:v18 file:@"PXFooterUtilities.m" lineNumber:23 description:{@"Invalid parameter not satisfying: %@", @"string.length > 0"}];

    if (v10)
    {
      goto LABEL_5;
    }
  }

  v19 = [MEMORY[0x1E696AAA8] currentHandler];
  v20 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
  [v19 handleFailureInFunction:v20 file:@"PXFooterUtilities.m" lineNumber:24 description:{@"Invalid parameter not satisfying: %@", @"actionTitle"}];

LABEL_5:
  if ([v10 length])
  {
    if (v11)
    {
      goto LABEL_7;
    }
  }

  else
  {
    v21 = [MEMORY[0x1E696AAA8] currentHandler];
    v22 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
    [v21 handleFailureInFunction:v22 file:@"PXFooterUtilities.m" lineNumber:25 description:{@"Invalid parameter not satisfying: %@", @"actionTitle.length > 0"}];

    if (v11)
    {
LABEL_7:
      if (v12)
      {
        goto LABEL_8;
      }

LABEL_20:
      v25 = [MEMORY[0x1E696AAA8] currentHandler];
      v26 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
      [v25 handleFailureInFunction:v26 file:@"PXFooterUtilities.m" lineNumber:27 description:{@"Invalid parameter not satisfying: %@", @"linkTextAttributes"}];

LABEL_8:
      if (a5)
      {
        v13 = @"PXFooterUtilities_BlankActionTitleFormat";
      }

      else
      {
        v13 = @"PXFooterUtilities_SubtitleActionTitleFormat";
      }

      v14 = PXLocalizedStringFromTable(v13, @"PhotosUICore");
      if ([v14 rangeOfString:@"%1$@"] == 0x7FFFFFFFFFFFFFFFLL)
      {
        v27 = [MEMORY[0x1E696AAA8] currentHandler];
        v28 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
        [v27 handleFailureInFunction:v28 file:@"PXFooterUtilities.m" lineNumber:33 description:{@"Invalid parameter not satisfying: %@", @"arg1Range.location != NSNotFound"}];
      }

      if ([v14 rangeOfString:@"%2$@"] == 0x7FFFFFFFFFFFFFFFLL)
      {
        v29 = [MEMORY[0x1E696AAA8] currentHandler];
        v30 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
        [v29 handleFailureInFunction:v30 file:@"PXFooterUtilities.m" lineNumber:35 description:{@"Invalid parameter not satisfying: %@", @"arg2Range.location != NSNotFound"}];
      }

      [v10 stringByReplacingOccurrencesOfString:@" " withString:@""];
      objc_claimAutoreleasedReturnValue();

      PXStringWithValidatedFormat();
    }
  }

  v23 = [MEMORY[0x1E696AAA8] currentHandler];
  v24 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey, id> *__strong _Nonnull, BOOL)"}];
  [v23 handleFailureInFunction:v24 file:@"PXFooterUtilities.m" lineNumber:26 description:{@"Invalid parameter not satisfying: %@", @"textAttributes"}];

  if (v12)
  {
    goto LABEL_8;
  }

  goto LABEL_20;
}

void PXUserInterfaceElementEventTrackerSimulateAppInForeground(void *a1, char a2)
{
  v3 = a1;
  if (!v3)
  {
    v5 = [MEMORY[0x1E696AAA8] currentHandler];
    v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXUserInterfaceElementEventTrackerSimulateAppInForeground(__strong id<PXUserInterfaceElementEventTracker> _Nonnull, BOOL)"}];
    v7 = objc_opt_class();
    v8 = NSStringFromClass(v7);
    [v5 handleFailureInFunction:v6 file:@"PXUserInterfaceElementEventTracker.m" lineNumber:175 description:{@"%@ should be an instance inheriting from %@, but it is nil", @"eventTracker", v8}];
LABEL_6:

    goto LABEL_3;
  }

  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    v5 = [MEMORY[0x1E696AAA8] currentHandler];
    v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void PXUserInterfaceElementEventTrackerSimulateAppInForeground(__strong id<PXUserInterfaceElementEventTracker> _Nonnull, BOOL)"}];
    v9 = objc_opt_class();
    v8 = NSStringFromClass(v9);
    v10 = [v3 px_descriptionForAssertionMessage];
    [v5 handleFailureInFunction:v6 file:@"PXUserInterfaceElementEventTracker.m" lineNumber:175 description:{@"%@ should be an instance inheriting from %@, but it is %@", @"eventTracker", v8, v10}];

    goto LABEL_6;
  }

LABEL_3:
  v11[0] = MEMORY[0x1E69E9820];
  v11[1] = 3221225472;
  v11[2] = __PXUserInterfaceElementEventTrackerSimulateAppInForeground_block_invoke;
  v11[3] = &unk_1E774C670;
  v12 = v3;
  v13 = a2;
  v4 = v3;
  [v4 performChanges:v11];
}

void sub_1A516F4D4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak((v20 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5170390(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5176704(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1A5177360(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 128));
  _Unwind_Resume(a1);
}

void sub_1A5177A10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXSmartAlbumConditionTypeDebugDescription(unint64_t a1)
{
  if (a1 > 0x11)
  {
    return 0;
  }

  else
  {
    return off_1E7748168[a1];
  }
}

uint64_t PXSmartAlbumConditionTypeForSingleQuery(void *a1)
{
  v12 = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXSmartAlbumConditionType PXSmartAlbumConditionTypeForSingleQuery(PLSingleQuery *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7 file:@"PXSmartAlbumConditionType.m" lineNumber:81 description:{@"Invalid parameter not satisfying: %@", @"singleQuery"}];
  }

  v2 = [v1 key];
  v3 = 14;
  if (v2 <= 301)
  {
    if (v2 > 8)
    {
      if (v2 > 200)
      {
        switch(v2)
        {
          case 201:
            v3 = 4;
            goto LABEL_12;
          case 300:
            v3 = 2;
            goto LABEL_12;
          case 301:
            v3 = 3;
            goto LABEL_12;
        }
      }

      else
      {
        switch(v2)
        {
          case 9:
            goto LABEL_12;
          case 100:
            v3 = 1;
            goto LABEL_12;
          case 200:
            v3 = 5;
            goto LABEL_12;
        }
      }
    }

    else
    {
      if ((v2 - 1) < 6)
      {
        goto LABEL_12;
      }

      if (!v2)
      {
        v8 = [MEMORY[0x1E696AAA8] currentHandler];
        v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXSmartAlbumConditionType PXSmartAlbumConditionTypeForSingleQuery(PLSingleQuery *__strong _Nonnull)"];
        [v8 handleFailureInFunction:v9 file:@"PXSmartAlbumConditionType.m" lineNumber:88 description:@"Code which should be unreachable has been reached"];

        abort();
      }
    }

    goto LABEL_48;
  }

  if (v2 <= 399)
  {
    if (v2 <= 304)
    {
      if (v2 == 302)
      {
        v3 = 8;
      }

      else if (v2 == 303)
      {
        v3 = 9;
      }

      else
      {
        v3 = 10;
      }

      goto LABEL_12;
    }

    if (v2 == 305)
    {
      v3 = 12;
      goto LABEL_12;
    }

    if (v2 == 306)
    {
      v3 = 15;
      goto LABEL_12;
    }

    if (v2 != 319)
    {
      goto LABEL_48;
    }
  }

  else
  {
    if (v2 <= 402)
    {
      if (v2 == 400)
      {
        v3 = 7;
      }

      else if (v2 == 401)
      {
        v3 = 17;
      }

      else
      {
        v3 = 16;
      }

      goto LABEL_12;
    }

    if (v2 <= 549)
    {
      if (v2 == 403)
      {
        v3 = 6;
        goto LABEL_12;
      }

      if (v2 == 500)
      {
        v3 = 11;
        goto LABEL_12;
      }

      goto LABEL_48;
    }

    if (v2 == 550)
    {
      v3 = 13;
      goto LABEL_12;
    }

    if (v2 != 1000)
    {
LABEL_48:
      v5 = PLUIGetLog();
      if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
      {
        *buf = 138412290;
        v11 = v1;
        _os_log_impl(&dword_1A3C1C000, v5, OS_LOG_TYPE_ERROR, "PXSmartAlbums: Unexpected query: %@", buf, 0xCu);
      }

      v3 = 0;
    }
  }

LABEL_12:

  return v3;
}

id PXContentSyndicationPhotosViewConfigurationForAssetCollection(void *a1)
{
  v1 = a1;
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
  {
    v2 = v1;

    if (v2)
    {
      v3 = PXPhotosViewConfigurationForAssetCollectionWithExistingAssetsFetchResult(v2, 0, 0, 0, 0);
      goto LABEL_7;
    }
  }

  else
  {
  }

  v4 = [MEMORY[0x1E696AAA8] currentHandler];
  v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotosViewConfiguration * _Nonnull PXContentSyndicationPhotosViewConfigurationForAssetCollection(__strong id<PXDisplayAssetCollection> _Nonnull)"];
  [v4 handleFailureInFunction:v5 file:@"PXContentSyndicationUtilities.m" lineNumber:22 description:@"Only PHAssetCollection supported for SWY assets grid at this time"];

  v3 = PXPhotosViewConfigurationForAssetCollectionWithExistingAssetsFetchResult(0, 0, 0, 0, 0);
  v2 = 0;
LABEL_7:
  [v3 setContentStartingPosition:1];
  [v3 setNavBarStyle:0];
  [v3 setShouldOptOutOfChromelessBars:1];
  [v3 setSectionHeaderStyle:3];
  [v3 setAllowedActions:{objc_msgSend(v3, "allowedActions") | 0x40000}];
  [v3 setWantsOneUpShowInLibraryButton:1];

  return v3;
}

void sub_1A5179E8C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__229438(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A517EFA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __isAppleInternal_block_invoke_229490()
{
  result = os_variant_has_internal_diagnostics();
  isAppleInternal_hasInternalDiagnostics_229485 = result;
  return result;
}

id PXSharedAlbumURLHandlingInvitationTokenForURL(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v15 = [MEMORY[0x1E696AAA8] currentHandler];
    v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nullable PXSharedAlbumURLHandlingInvitationTokenForURL(NSURL *__strong _Nonnull)"];
    [v15 handleFailureInFunction:v16 file:@"PXSharedAlbumURLHandling.m" lineNumber:14 description:{@"Invalid parameter not satisfying: %@", @"url"}];
  }

  v2 = [objc_alloc(MEMORY[0x1E696AF20]) initWithURL:v1 resolvingAgainstBaseURL:0];
  v3 = [v2 host];
  v4 = [v3 isEqualToString:@"cloudinvitation"];

  if (v4)
  {
    v5 = 0;
    v6 = @"id";
    goto LABEL_12;
  }

  v7 = [v2 host];
  if (([v7 isEqualToString:@"www.icloud.com"] & 1) == 0)
  {

    goto LABEL_9;
  }

  v8 = [v2 path];
  if (![v8 hasPrefix:@"/redford/sps"])
  {
    v9 = [v2 path];
    v10 = [v9 hasPrefix:@"/photostream/join"];

    if (v10)
    {
      goto LABEL_11;
    }

LABEL_9:
    v6 = 0;
    v5 = 1;
    goto LABEL_12;
  }

LABEL_11:
  v5 = 0;
  v6 = @"invitation_id";
LABEL_12:
  v11 = 0;
  v20 = 0;
  v21 = &v20;
  v22 = 0x3032000000;
  v23 = __Block_byref_object_copy__229528;
  v24 = __Block_byref_object_dispose__229529;
  v25 = 0;
  if ((v5 & 1) == 0)
  {
    v12 = [v2 queryItems];
    v17[0] = MEMORY[0x1E69E9820];
    v17[1] = 3221225472;
    v17[2] = __PXSharedAlbumURLHandlingInvitationTokenForURL_block_invoke;
    v17[3] = &unk_1E7748560;
    v18 = v6;
    v19 = &v20;
    [v12 enumerateObjectsUsingBlock:v17];

    v11 = v21[5];
  }

  v13 = v11;
  _Block_object_dispose(&v20, 8);

  return v13;
}

void sub_1A51800F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__229528(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void __PXSharedAlbumURLHandlingInvitationTokenForURL_block_invoke(uint64_t a1, void *a2, uint64_t a3, _BYTE *a4)
{
  v12 = a2;
  v6 = [v12 name];
  v7 = [v6 isEqualToString:*(a1 + 32)];

  if (v7)
  {
    v8 = [v12 value];
    if ([v8 length])
    {
      v9 = [v12 value];
      v10 = *(*(a1 + 40) + 8);
      v11 = *(v10 + 40);
      *(v10 + 40) = v9;
    }

    *a4 = 1;
  }
}

uint64_t PXSharedAlbumURLHandlingParseInvitationToken(void *a1, NSObject **a2, void *a3)
{
  v5 = a1;
  if (v5)
  {
    if (a2)
    {
      goto LABEL_3;
    }

LABEL_33:
    v22 = [MEMORY[0x1E696AAA8] currentHandler];
    v23 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedAlbumURLHandlingParseInvitationToken(NSString *__strong _Nonnull, NSString * _Nonnull __autoreleasing * _Nullable, NSString * _Nonnull __autoreleasing * _Nullable)"}];
    [v22 handleFailureInFunction:v23 file:@"PXSharedAlbumURLHandling.m" lineNumber:74 description:{@"Invalid parameter not satisfying: %@", @"ownerName"}];

    if (a3)
    {
      goto LABEL_4;
    }

    goto LABEL_34;
  }

  v20 = [MEMORY[0x1E696AAA8] currentHandler];
  v21 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedAlbumURLHandlingParseInvitationToken(NSString *__strong _Nonnull, NSString * _Nonnull __autoreleasing * _Nullable, NSString * _Nonnull __autoreleasing * _Nullable)"}];
  [v20 handleFailureInFunction:v21 file:@"PXSharedAlbumURLHandling.m" lineNumber:73 description:{@"Invalid parameter not satisfying: %@", @"invitationToken"}];

  if (!a2)
  {
    goto LABEL_33;
  }

LABEL_3:
  if (a3)
  {
    goto LABEL_4;
  }

LABEL_34:
  v24 = [MEMORY[0x1E696AAA8] currentHandler];
  v25 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"BOOL PXSharedAlbumURLHandlingParseInvitationToken(NSString *__strong _Nonnull, NSString * _Nonnull __autoreleasing * _Nullable, NSString * _Nonnull __autoreleasing * _Nullable)"}];
  [v24 handleFailureInFunction:v25 file:@"PXSharedAlbumURLHandling.m" lineNumber:75 description:{@"Invalid parameter not satisfying: %@", @"albumName"}];

LABEL_4:
  v6 = [MEMORY[0x1E696AE70] regularExpressionWithPattern:@"^[a-zA-Z0-9=_-]+$" options:0 error:0];;
  if ([v6 numberOfMatchesInString:v5 options:0 range:{0, objc_msgSend(v5, "length")}] == 1)
  {
    v7 = [v5 componentsSeparatedByString:@""];;
    if ([v7 count]> 6)
    {
      v8 = [v7 objectAtIndexedSubscript:5];
      v10 = [v7 objectAtIndexedSubscript:6];
      v11 = v10;
      if (v8 && v10)
      {
        v12 = _UrlSafeBase64DecodeString(v8);
        v13 = _UrlSafeBase64DecodeString(v11);
        v14 = v13;
        if (v12)
        {
          v15 = v13 == 0;
        }

        else
        {
          v15 = 1;
        }

        v9 = !v15;
        if (v15)
        {
          v18 = PLPhotoSharingGetLog();
          if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
          {
            *v26 = 0;
            _os_log_impl(&dword_1A3C1C000, v18, OS_LOG_TYPE_ERROR, "Invalid invitation identifier: no decoded owner and/or album name", v26, 2u);
          }
        }

        else
        {
          v16 = v12;
          *a2 = v12;
          v17 = v14;
          *a3 = v14;
        }
      }

      else
      {
        v12 = PLPhotoSharingGetLog();
        if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
        {
          *v27 = 0;
          _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_ERROR, "Invalid invitation identifier: no raw owner and/or album name", v27, 2u);
        }

        v9 = 0;
      }
    }

    else
    {
      v8 = PLPhotoSharingGetLog();
      if (os_log_type_enabled(v8, OS_LOG_TYPE_ERROR))
      {
        *buf = 0;
        _os_log_impl(&dword_1A3C1C000, v8, OS_LOG_TYPE_ERROR, "Invalid invitation identifier format", buf, 2u);
      }

      v9 = 0;
    }
  }

  else
  {
    v7 = PLPhotoSharingGetLog();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
    {
      *v29 = 0;
      _os_log_impl(&dword_1A3C1C000, v7, OS_LOG_TYPE_ERROR, "Invalid embedded URL query string: Not an invitation URL", v29, 2u);
    }

    v9 = 0;
  }

  return v9;
}

id _UrlSafeBase64DecodeString(void *a1)
{
  v1 = [a1 stringByReplacingOccurrencesOfString:@"_" withString:@"/"];
  v2 = [v1 stringByReplacingOccurrencesOfString:@"-" withString:@"+"];

  v3 = [v2 length] & 3;
  if (v3 == 2)
  {
    v4 = @"==";
  }

  else
  {
    if (v3 != 3)
    {
      goto LABEL_6;
    }

    v4 = @"=";
  }

  v5 = [v2 stringByAppendingString:v4];

  v2 = v5;
LABEL_6:
  v6 = [objc_alloc(MEMORY[0x1E695DEF0]) initWithBase64EncodedString:v2 options:0];
  if (v6)
  {
    v7 = [objc_alloc(MEMORY[0x1E696AEC0]) initWithData:v6 encoding:4];
  }

  else
  {
    v7 = 0;
  }

  return v7;
}

void sub_1A51823BC(_Unwind_Exception *a1)
{
  _Block_object_dispose(&STACK[0x2E0], 8);
  _Block_object_dispose(&STACK[0x300], 8);
  _Block_object_dispose(&STACK[0x320], 8);
  _Unwind_Resume(a1);
}

void PXStoryPacingControllerGeneratePacingDecision(uint64_t a1@<X0>, uint64_t a2@<X1>, CMTime *a3@<X2>, CMTime *a4@<X3>, void *a5@<X4>, uint64_t a6@<X5>, int a7@<W6>, uint64_t a8@<X8>)
{
  v15 = a5;
  memset(&v35, 0, sizeof(v35));
  *&lhs.start.value = *(a2 + 24);
  lhs.start.epoch = *(a2 + 40);
  *rhs = *&a3->value;
  *&rhs[16] = a3->epoch;
  CMTimeSubtract(&v35, &lhs.start, rhs);
  memset(&v34, 0, sizeof(v34));
  *&lhs.start.value = *a2;
  lhs.start.epoch = *(a2 + 16);
  *rhs = *&a3->value;
  *&rhs[16] = a3->epoch;
  CMTimeSubtract(&v34, &lhs.start, rhs);
  memset(&v33, 0, sizeof(v33));
  *&lhs.start.value = *(a2 + 48);
  lhs.start.epoch = *(a2 + 64);
  *rhs = *&a3->value;
  *&rhs[16] = a3->epoch;
  CMTimeSubtract(&v33, &lhs.start, rhs);
  lhs.start = v35;
  *rhs = PXStoryTimeZero;
  *&rhs[16] = 0;
  CMTimeMaximum(start, &lhs.start, rhs);
  v35 = *start;
  lhs.start = v34;
  *rhs = PXStoryTimeZero;
  *&rhs[16] = 0;
  CMTimeMaximum(start, &lhs.start, rhs);
  v34 = *start;
  lhs.start = v33;
  *rhs = PXStoryTimeZero;
  *&rhs[16] = 0;
  CMTimeMaximum(start, &lhs.start, rhs);
  v33 = *start;
  if ((start[12] & 0x1D) != 1)
  {
    v16 = PLStoryGetLog();
    if (os_log_type_enabled(v16, OS_LOG_TYPE_DEBUG))
    {
      LOWORD(lhs.start.value) = 0;
      _os_log_impl(&dword_1A3C1C000, v16, OS_LOG_TYPE_DEBUG, "Missing valid max remaining duration for audio cue search. Defaulting to 3x preferred.", &lhs, 2u);
    }

    lhs.start = v35;
    CMTimeMultiplyByRatio(rhs, &lhs.start, 3, 1);
    v33 = *rhs;
  }

  v17 = *(MEMORY[0x1E6960C98] + 16);
  *&lhs.start.value = *MEMORY[0x1E6960C98];
  *&lhs.start.epoch = v17;
  *&lhs.duration.timescale = *(MEMORY[0x1E6960C98] + 32);
  v31 = v35;
  memset(rhs, 0, sizeof(rhs));
  memset(&v29, 0, sizeof(v29));
  if (v15)
  {
    [v15 currentTime];
  }

  else
  {
    memset(start, 0, 24);
  }

  time1 = v35;
  CMTimeAdd(&v29, start, &time1);
  v18 = 0;
  if (v15 && a7)
  {
    memset(&start[40], 0, 24);
    [v15 currentTime];
    if (start[52])
    {
      memset(start, 0, 32);
      v19 = +[PXStorySettings sharedInstance];
      v20 = [v19 forcePacingToSegmentMaxDuration];

      if (v20)
      {
        time1 = v33;
        time2 = *&start[40];
        CMTimeAdd(start, &time2, &time1);
        v21 = 0;
        *&start[24] = 4;
      }

      else
      {
        time1 = v34;
        time2 = v35;
        v27 = v33;
        PXStoryPacingControllerTargetCue(v15, &time1, &time2, &v27, start);
        v21 = *&start[24] == 0;
      }

      time1 = *start;
      memset(&time2, 0, sizeof(time2));
      if (CMTimeCompare(&time1, &time2) || !v21)
      {
        memset(&v27, 0, sizeof(v27));
        time1 = *start;
        time2 = *&start[40];
        CMTimeSubtract(&v27, &time1, &time2);
        if ((v27.flags & 0x1D) != 1)
        {
          memset(start, 0, 32);
          v22 = PLStoryGetLog();
          if (os_log_type_enabled(v22, OS_LOG_TYPE_ERROR))
          {
            LOWORD(time1.value) = 0;
            _os_log_impl(&dword_1A3C1C000, v22, OS_LOG_TYPE_ERROR, "PXStoryPacingController received a pacing cue with a nonnumeric time interval", &time1, 2u);
          }
        }

        time1 = v27;
        if (CMTimeGetSeconds(&time1) < 0.0)
        {
          memset(start, 0, 32);
          v23 = PLStoryGetLog();
          if (os_log_type_enabled(v23, OS_LOG_TYPE_ERROR))
          {
            LOWORD(time1.value) = 0;
            _os_log_impl(&dword_1A3C1C000, v23, OS_LOG_TYPE_ERROR, "PXStoryPacingController received a pacing cue with negative time since current time!", &time1, 2u);
          }
        }

        time1 = v27;
        time2 = *a3;
        CMTimeAdd(&v31, &time1, &time2);
        time1 = v31;
        time2 = *a4;
        CMTimeSubtract(&v26, &time1, &time2);
        v31 = v26;
        *rhs = *start;
        *&rhs[16] = *&start[16];
        v29 = *start;
      }
    }

    time1 = *&start[40];
    time2 = v34;
    CMTimeAdd(start, &time1, &time2);
    time2 = *&start[40];
    v27 = v33;
    CMTimeAdd(&time1, &time2, &v27);
    CMTimeRangeFromTimeToTime(&lhs, start, &time1);
    v18 = [v15 cuesVersion];
  }

  *(a8 + 208) = 0u;
  *(a8 + 224) = 0u;
  v24 = *&lhs.start.epoch;
  *(a8 + 8) = *&lhs.start.value;
  *(a8 + 24) = v24;
  *(a8 + 40) = *&lhs.duration.timescale;
  *(a8 + 56) = *&v35.value;
  v25 = *&rhs[16];
  *(a8 + 80) = *&v31.value;
  *(a8 + 104) = *rhs;
  *a8 = a1;
  *(a8 + 72) = v35.epoch;
  *(a8 + 96) = v31.epoch;
  *(a8 + 120) = v25;
  *(a8 + 136) = v18;
  *(a8 + 144) = v29;
  *(a8 + 168) = CFAbsoluteTimeGetCurrent();
  *(a8 + 176) = *&a3->value;
  *(a8 + 192) = a3->epoch;
  *(a8 + 200) = a6;
  *(a8 + 208) = 0;
  *(a8 + 212) = 0;
  *(a8 + 228) = 0;
  *(a8 + 220) = 0;
}

void PXStoryPacingControllerTargetCue(void *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, _OWORD *a5@<X8>)
{
  v9 = a1;
  v10 = v9;
  memset(&v23, 0, sizeof(v23));
  if (v9)
  {
    [v9 currentTime];
  }

  *a5 = 0u;
  a5[1] = 0u;
  if ((*(a3 + 12) & 0x1D) == 1)
  {
    memset(&start, 0, sizeof(start));
    *&rhs.start.value = *a3;
    rhs.start.epoch = *(a3 + 16);
    lhs.start = v23;
    CMTimeAdd(&start, &lhs.start, &rhs.start);
    memset(&rhs, 0, sizeof(rhs));
    if ((*(a2 + 12) & 0x1D) == 1 && (*(a4 + 12) & 0x1D) == 1)
    {
      memset(&v20, 0, sizeof(v20));
      *&lhs.start.value = *a2;
      lhs.start.epoch = *(a2 + 16);
      duration.start = v23;
      CMTimeAdd(&v20, &duration.start, &lhs.start);
      *&lhs.start.value = *a4;
      lhs.start.epoch = *(a4 + 16);
      *&duration.start.value = *a2;
      duration.start.epoch = *(a2 + 16);
      CMTimeSubtract(&v19, &lhs.start, &duration.start);
      lhs.start = v20;
      duration.start = v19;
      CMTimeRangeMake(&rhs, &lhs.start, &duration.start);
      duration = rhs;
      v16 = v23;
      PXCMTimeRangeClipToMinimumTime(&duration, &v16, &lhs);
      rhs = lhs;
      v16 = start;
      PXCMTimeClampToRangeInclusive(&v16.value, &lhs, &duration);
      start = duration.start;
    }

    else
    {
      lhs.start = start;
      duration.start = start;
      CMTimeRangeFromTimeToTime(&rhs, &lhs.start, &duration.start);
      v12 = PLStoryGetLog();
      if (os_log_type_enabled(v12, OS_LOG_TYPE_DEBUG))
      {
        LOWORD(lhs.start.value) = 0;
        _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_DEBUG, "PXStoryPacingControllerTargetCue() missing valid min and/or max durations for audio cue search.", &lhs, 2u);
      }
    }

    v13 = [v10 audioCueSource];
    v14 = v13;
    if (v13)
    {
      lhs = rhs;
      v20 = start;
      [v13 bestCueInRange:&lhs preferredTime:&v20];
    }

    else
    {
      memset(&duration, 0, 32);
    }

    v15 = *&duration.start.epoch;
    *a5 = *&duration.start.value;
    a5[1] = v15;
  }

  else
  {
    v11 = PLStoryGetLog();
    if (os_log_type_enabled(v11, OS_LOG_TYPE_DEBUG))
    {
      LOWORD(rhs.start.value) = 0;
      _os_log_impl(&dword_1A3C1C000, v11, OS_LOG_TYPE_DEBUG, "PXStoryPacingControllerTargetCue() missing valid preferred duration for audio cue search.", &rhs, 2u);
    }
  }
}

void sub_1A5183F8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t _IsPaused(void *a1)
{
  v1 = a1;
  v2 = v1;
  if (v1 && [v1 state] == 2)
  {
    v3 = [v2 pauseReason];
    if (v3 <= 0x12)
    {
      v4 = 0x7FFFAu >> v3;
    }

    else
    {
      v4 = 0;
    }
  }

  else
  {
    v4 = 0;
  }

  return v4 & 1;
}

uint64_t PXCMMMediaTypeForFetchResult(void *a1)
{
  v1 = a1;
  v2 = [v1 countOfAssetsWithMediaType:1];
  v3 = [v1 countOfAssetsWithMediaType:2];
  v4 = [v1 countOfAssetsWithMediaType:3];
  v5 = [v1 countOfAssetsWithMediaType:0];

  v6 = v3 + v2 + v4 + v5;
  if (!v6)
  {
    return 0;
  }

  if (!v3 && v2 == v6)
  {
    return 1;
  }

  if (v3 == v6 && v2 == 0)
  {
    return 2;
  }

  else
  {
    return 0;
  }
}

PXSpatialOverlayController *PXDefaultSpatialOverlayController()
{
  v0 = objc_alloc_init(PXSpatialOverlayController);

  return v0;
}

void PXSendSpatialToggleEvent(uint64_t a1, void *a2)
{
  v3 = MEMORY[0x1E69C15A0];
  v4 = a2;
  v5 = objc_alloc_init(v3);
  [v5 sendToggleEventEnabled:a1 asset:v4];
}

id PXStoryFallbackLoadingCoordinator()
{
  if (PXStoryFallbackLoadingCoordinator_onceToken != -1)
  {
    dispatch_once(&PXStoryFallbackLoadingCoordinator_onceToken, &__block_literal_global_230404);
  }

  v1 = PXStoryFallbackLoadingCoordinator_fallbackLoadingCoordinator;

  return v1;
}

void __PXStoryFallbackLoadingCoordinator_block_invoke()
{
  v0 = objc_alloc_init(_PXStoryFallbackLoadingCoordinator);
  v1 = PXStoryFallbackLoadingCoordinator_fallbackLoadingCoordinator;
  PXStoryFallbackLoadingCoordinator_fallbackLoadingCoordinator = v0;
}

void sub_1A51896C8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, char a36, uint64_t a37, uint64_t a38, uint64_t a39, char a40)
{
  _Block_object_dispose(&a36, 8);
  _Block_object_dispose(&a40, 8);
  _Unwind_Resume(a1);
}

void sub_1A5189B90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, char a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((v29 - 144), 8);
  _Block_object_dispose((v29 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1A518C784(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29, uint64_t a30, uint64_t a31, uint64_t a32, char a33)
{
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose(&a33, 8);
  _Unwind_Resume(a1);
}

void sub_1A518C9E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va1, a13);
  va_start(va, a13);
  v15 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  v19 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((v13 - 112), 8);
  _Unwind_Resume(a1);
}

__CFString *PXCPLStatusStateDebugDescription(unint64_t a1)
{
  if (a1 > 2)
  {
    return 0;
  }

  else
  {
    return off_1E77489A8[a1];
  }
}

__CFString *PXCPLStatusActivityDebugDescription(unint64_t a1)
{
  if (a1 > 7)
  {
    return 0;
  }

  else
  {
    return off_1E77489C0[a1];
  }
}

__CFString *PXCPLStatusPauseReasonDebugDescription(unint64_t a1)
{
  if (a1 > 0x12)
  {
    return 0;
  }

  else
  {
    return off_1E7748A00[a1];
  }
}

__CFString *PXCPLStatusActionDebugDescription(unint64_t a1)
{
  if (a1 > 0xB)
  {
    return 0;
  }

  else
  {
    return off_1E7748A98[a1];
  }
}

__CFString *PXCPLCloudQuotaStateDebugDescription(unint64_t a1)
{
  if (a1 > 2)
  {
    return 0;
  }

  else
  {
    return off_1E7748AF8[a1];
  }
}

void sub_1A518FC04(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__231155(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A5192AB8(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 112));
  _Unwind_Resume(a1);
}

void sub_1A5193F1C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5195BA4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A5196498(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A5196B1C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, id location, id a25)
{
  objc_destroyWeak((v25 + 64));
  objc_destroyWeak((v25 + 56));
  objc_destroyWeak(&location);
  objc_destroyWeak(&a25);
  _Unwind_Resume(a1);
}

void sub_1A5196C24(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 48));
  objc_destroyWeak((v1 + 40));
  _Unwind_Resume(a1);
}

id _PXAssetEditOperationTypesByVariationType()
{
  if (_PXAssetEditOperationTypesByVariationType_onceToken != -1)
  {
    dispatch_once(&_PXAssetEditOperationTypesByVariationType_onceToken, &__block_literal_global_231769);
  }

  v1 = _PXAssetEditOperationTypesByVariationType_editOperationTypesByVariationType;

  return v1;
}

id PXAssetEditOperationTypeForVariationType(uint64_t a1)
{
  v2 = _PXAssetEditOperationTypesByVariationType();
  v3 = [MEMORY[0x1E696AD98] numberWithInteger:a1];
  v4 = [v2 objectForKeyedSubscript:v3];

  return v4;
}

uint64_t PXAssetEditOperationTypeIsVariation(void *a1)
{
  v1 = a1;
  if ([v1 hasPrefix:@"PXAssetEditOperation.Variation"])
  {
    v2 = 1;
  }

  else
  {
    v2 = [v1 isEqualToString:@"PXAssetEditOperationTypeDisableLivePhoto"];
  }

  return v2;
}

__CFString *PXAssetEditOperationTypeForDepthToggle(int a1)
{
  if (a1)
  {
    return @"PXAssetEditOperationTypeEnableDepth";
  }

  else
  {
    return @"PXAssetEditOperationTypeDisableDepth";
  }
}

uint64_t PXAssetEditOperationTypeIsToggleDepth(void *a1)
{
  v1 = a1;
  if ([v1 isEqualToString:@"PXAssetEditOperationTypeEnableDepth"])
  {
    v2 = 1;
  }

  else
  {
    v2 = [v1 isEqualToString:@"PXAssetEditOperationTypeDisableDepth"];
  }

  return v2;
}

uint64_t PXAssetVariationTypeForEditOperationType(void *a1)
{
  v1 = a1;
  v2 = v1;
  if (v1 == @"PXAssetEditOperationTypeDisableLivePhoto" || (v3 = [(__CFString *)v1 isEqualToString:@"PXAssetEditOperationTypeDisableLivePhoto"], v2, (v3 & 1) != 0))
  {
    v4 = 0;
  }

  else
  {
    if (PXAssetVariationTypeForEditOperationType_onceToken != -1)
    {
      dispatch_once(&PXAssetVariationTypeForEditOperationType_onceToken, &__block_literal_global_21_231778);
    }

    v5 = [PXAssetVariationTypeForEditOperationType_variationTypesByEditOperationType objectForKeyedSubscript:v2];
    v4 = [v5 integerValue];
  }

  return v4;
}

void __PXAssetVariationTypeForEditOperationType_block_invoke()
{
  v0 = _PXAssetEditOperationTypesByVariationType();
  v1 = [objc_alloc(MEMORY[0x1E695DF90]) initWithCapacity:{objc_msgSend(v0, "count")}];
  v5[0] = MEMORY[0x1E69E9820];
  v5[1] = 3221225472;
  v5[2] = __PXAssetVariationTypeForEditOperationType_block_invoke_2;
  v5[3] = &unk_1E7748D40;
  v6 = v1;
  v2 = v1;
  [v0 enumerateKeysAndObjectsUsingBlock:v5];
  v3 = [v2 copy];
  v4 = PXAssetVariationTypeForEditOperationType_variationTypesByEditOperationType;
  PXAssetVariationTypeForEditOperationType_variationTypesByEditOperationType = v3;
}

PXPersonTiledImageCombinerItem *PXFaceTileImageCombinerItemForPXPerson(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v4 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"id<PXFaceTileImageCombinerItem>  _Nonnull PXFaceTileImageCombinerItemForPXPerson(__strong id<PXPerson> _Nonnull)"];
    [v4 handleFailureInFunction:v5 file:@"PXPerson+PXFaceTileImageCombinerItem.m" lineNumber:51 description:{@"Invalid parameter not satisfying: %@", @"person"}];
  }

  v2 = [[PXPersonTiledImageCombinerItem alloc] initWithPerson:v1];

  return v2;
}

void sub_1A519AE84(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, ...)
{
  va_start(va, a12);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A519C8C8(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 80));
  _Unwind_Resume(a1);
}

void sub_1A519CC98(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A519D110(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXAllMusicCurationCategories()
{
  v4[7] = *MEMORY[0x1E69E9840];
  v0 = objc_alloc(MEMORY[0x1E695DFD8]);
  v4[0] = @"FlexMusicBest";
  v4[1] = @"FlexMusicSecondary";
  v4[2] = @"AppleMusicBest";
  v4[3] = @"AppleMusicForYou";
  v4[4] = @"AppleMusicLocation";
  v4[5] = @"AppleMusicTime";
  v4[6] = @"AppleMusicPerformer";
  v1 = [MEMORY[0x1E695DEC8] arrayWithObjects:v4 count:7];
  v2 = [v0 initWithArray:v1];

  return v2;
}

id PXAppleMusicCurationCategories()
{
  if (PXAppleMusicCurationCategories_onceToken != -1)
  {
    dispatch_once(&PXAppleMusicCurationCategories_onceToken, &__block_literal_global_233552);
  }

  v1 = PXAppleMusicCurationCategories_categories;

  return v1;
}

void __PXAppleMusicCurationCategories_block_invoke()
{
  v0 = objc_alloc(MEMORY[0x1E695DFD8]);
  PXAllMusicCurationCategories();
  objc_claimAutoreleasedReturnValue();
  PXFilter();
}

id PXFlexMusicCurationCategories()
{
  if (PXFlexMusicCurationCategories_onceToken != -1)
  {
    dispatch_once(&PXFlexMusicCurationCategories_onceToken, &__block_literal_global_34_233556);
  }

  v1 = PXFlexMusicCurationCategories_categories;

  return v1;
}

void __PXFlexMusicCurationCategories_block_invoke()
{
  v0 = objc_alloc(MEMORY[0x1E695DFD8]);
  PXAllMusicCurationCategories();
  objc_claimAutoreleasedReturnValue();
  PXFilter();
}

uint64_t __Block_byref_object_copy__233853(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

SpringUtils *SpringUtils::Spring::Spring(SpringUtils *this, double a2, double a3, double a4, double a5)
{
  *this = a2;
  *(this + 1) = a3;
  *(this + 2) = a4;
  *(this + 3) = a5;
  v5 = sqrt(a3 / a2);
  v6 = sqrt(a2 * a3);
  v7 = a4 / (v6 + v6);
  *(this + 4) = v5;
  *(this + 5) = v7;
  v8 = v5 * sqrt(1.0 - v7 * v7);
  *(this + 6) = v8;
  *(this + 7) = 0x3FF0000000000000;
  if (v7 >= 1.0)
  {
    v9 = v5 - a5;
  }

  else
  {
    v9 = -(a5 - v7 * v5) / v8;
  }

  *(this + 8) = v9;
  *(this + 9) = v8 + v5 * v9 * v7;
  v10.f64[0] = -(v9 * v8);
  *(this + 10) = v5 * v7 - v9 * v8;
  v11 = vdupq_lane_s64(*&v5, 0);
  v11.f64[0] = v5 * v9;
  v12 = vmulq_n_f64(vmulq_n_f64(v11, v5), v7);
  __asm { FMOV            V7.2D, #2.0 }

  _Q7.f64[1] = v9 * -2.0;
  v10.f64[1] = -v8;
  *(this + 88) = vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(vmulq_n_f64(vmulq_n_f64(_Q7, v8), v5), v7), v12, v7), v10, v8);
  return this;
}

double SpringUtils::Spring::first_derivative(SpringUtils::Spring *this, double a2)
{
  v4 = *(this + 5);
  if (v4 >= 1.0)
  {
    v9 = *(this + 4);
    v5 = v9 * *(this + 7) + *(this + 8) * v9 * a2 - *(this + 8);
    v8 = exp(-(a2 * v9));
  }

  else
  {
    v5 = exp(-(*(this + 4) * v4) * a2);
    v6 = *(this + 9);
    v7 = __sincos_stret(*(this + 6) * a2);
    v8 = *(this + 10) * v7.__cosval + v6 * v7.__sinval;
  }

  return -(v5 * v8);
}

void SpringUtils::Spring::second_derivative(SpringUtils::Spring *this, double a2)
{
  v4 = *(this + 4);
  v5 = *(this + 5);
  if (v5 >= 1.0)
  {
    exp(-(a2 * v4));
  }

  else
  {
    exp(-(v4 * v5) * a2);
    __sincos_stret(*(this + 6) * a2);
  }
}

double SpringUtils::Spring::evaluate(SpringUtils::Spring *this, double a2)
{
  v4 = *(this + 5);
  if (v4 >= 1.0)
  {
    v5 = *(this + 7) + *(this + 8) * a2;
    v8 = exp(-(a2 * *(this + 4)));
  }

  else
  {
    v5 = exp(-(a2 * v4) * *(this + 4));
    v6 = *(this + 7);
    v7 = __sincos_stret(*(this + 6) * a2);
    v8 = *(this + 8) * v7.__sinval + v6 * v7.__cosval;
  }

  return v5 * v8;
}

double SpringUtils::Spring::evaluate_osc(SpringUtils::Spring *this, double a2)
{
  v3 = *(this + 7);
  v4 = __sincos_stret(*(this + 6) * a2);
  return *(this + 8) * v4.__sinval + v3 * v4.__cosval;
}

double SpringUtils::Spring::osc_first_derivative(SpringUtils::Spring *this, double a2)
{
  v3 = *(this + 6);
  v4 = __sincos_stret(v3 * a2);
  return -(v3 * (v4.__sinval - *(this + 8) * v4.__cosval));
}

double SpringUtils::Spring::osc_second_derivative(SpringUtils::Spring *this, double a2)
{
  v2 = *(this + 6);
  v3 = -(v2 * v2);
  v4 = *(this + 8);
  v5 = __sincos_stret(v2 * a2);
  return v3 * (v5.__cosval + v4 * v5.__sinval);
}

double SpringUtils::Spring::first_derivative_osc(SpringUtils::Spring *this, double a2)
{
  v3 = *(this + 9);
  v4 = __sincos_stret(*(this + 6) * a2);
  return *(this + 10) * v4.__cosval + v3 * v4.__sinval;
}

double SpringUtils::Spring::first_derivative_osc_first_derivative(SpringUtils::Spring *this, double a2)
{
  v3 = *(this + 6);
  v4 = *(this + 10);
  v5 = __sincos_stret(v3 * a2);
  return -(v3 * (v4 * v5.__sinval - *(this + 9) * v5.__cosval));
}

__CFString *stringForDiffEntryType(unint64_t a1)
{
  if (a1 > 2)
  {
    return @"UNKNOWN";
  }

  else
  {
    return off_1E7749240[a1];
  }
}

id _FontForCountLabelStyle(uint64_t a1)
{
  if (a1 == 1)
  {
    PXCappedFontWithTextStyleAndWeight();
  }

  if (a1)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"UIFont *_FontForCountLabelStyle(PXPlacesMapCountLabelStyle)"];
    v5 = [MEMORY[0x1E696AD98] numberWithInteger:a1];
    [v3 handleFailureInFunction:v4 file:@"PXPlacesMapThumbnailAnnotationView.m" lineNumber:72 description:{@"Unsupported style: %@", v5}];

    v2 = 0;
  }

  else
  {
    v2 = [MEMORY[0x1E69DB878] systemFontOfSize:15.0];
  }

  return v2;
}

void sub_1A51A7E40(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1A51A8074(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 56));
  objc_destroyWeak((v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1A51A8628(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 56));
  objc_destroyWeak((v2 - 88));
  _Unwind_Resume(a1);
}

void sub_1A51A8E44(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 48));
  objc_destroyWeak((v2 - 56));
  _Unwind_Resume(a1);
}

uint64_t PXIsSidebarVisibleWithDisplayMode(uint64_t a1)
{
  if ((a1 - 2) < 5)
  {
    return 1;
  }

  if (!a1)
  {
    v6 = v2;
    v7 = v1;
    v8 = v3;
    v9 = v4;
    PXAssertGetLog();
  }

  return 0;
}

void sub_1A51AD944(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _PXGetSectionHeaderData(void *a1, __int128 *a2, void *a3, void *a4, void *a5, void *a6, uint64_t *a7)
{
  v45[1] = *MEMORY[0x1E69E9840];
  v12 = a1;
  v13 = a2[1];
  v43 = *a2;
  v44 = v13;
  v14 = [v12 assetCollectionAtSectionIndexPath:&v43];
  v15 = a2[1];
  v43 = *a2;
  v44 = v15;
  if ([v12 isFilteringSectionIndexPath:&v43])
  {
    v16 = 3;
  }

  else
  {
    v17 = a2[1];
    v43 = *a2;
    v44 = v17;
    v18 = [v12 isFilteringDisabledForSectionIndexPath:&v43];
    v16 = 4;
    if (!v18)
    {
      v16 = 0;
    }
  }

  v41 = v16;
  v19 = [v14 startDate];
  v20 = [v14 endDate];
  v21 = v20;
  if (!v19 || !v20)
  {
    v40 = a6;
    v22 = a2[1];
    v43 = *a2;
    v44 = v22;
    v23 = [v12 assetsInSectionIndexPath:&v43];
    v24 = [v23 lastObject];
    v25 = [v24 creationDate];

    if (v24)
    {
      v26 = [v23 firstObject];
      [v26 creationDate];
      v39 = v25;
      v27 = a4;
      v28 = a5;
      v30 = v29 = a7;

      v19 = v30;
      a7 = v29;
      a5 = v28;
      a4 = v27;
      v25 = v39;
    }

    v21 = v25;
    a6 = v40;
  }

  if ([v14 px_isHighlight])
  {
    v31 = PXDisplayCollectionGetLocalizedSubtitleWithoutDelimiters(v14);
    v32 = v31;
    if (v31)
    {
      v45[0] = v31;
      v33 = [MEMORY[0x1E695DEC8] arrayWithObjects:v45 count:1];
    }

    else
    {
      v33 = 0;
    }

    v34 = 0;
  }

  else
  {
    v34 = [v14 localizedTitle];
    v33 = [v14 localizedLocationNames];
  }

  v35 = v34;
  *a3 = v34;
  v36 = v33;
  *a6 = v33;
  v37 = v19;
  *a4 = v19;
  v38 = v21;
  *a5 = v21;
  *a7 = v41;
}

void sub_1A51B0FEC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXLocalizedTitleForSortOrder(uint64_t a1)
{
  if (a1 == 1)
  {
    v2 = @"PXContentSortingMenuDateCaptured";
LABEL_5:
    v3 = PXLocalizedStringFromTable(v2, @"PhotosUICore");

    return v3;
  }

  if (a1 == 2)
  {
    v2 = @"PXContentSortingMenuRecentlyAdded";
    goto LABEL_5;
  }

  v3 = &stru_1F1741150;

  return v3;
}

uint64_t __Block_byref_object_copy__237607(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A51B4B30(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A51B4FFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  objc_destroyWeak((v7 + 40));
  _Unwind_Resume(a1);
}

void sub_1A51B59FC(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

id getMFMailComposeViewControllerClass_237954()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getMFMailComposeViewControllerClass_softClass_237995;
  v7 = getMFMailComposeViewControllerClass_softClass_237995;
  if (!getMFMailComposeViewControllerClass_softClass_237995)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke_237996;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_237996(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A51B66F0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_237996(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_237997)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_237998;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E77496D0;
    v8 = 0;
    MessageUILibraryCore_frameworkLibrary_237997 = _sl_dlopen();
  }

  if (!MessageUILibraryCore_frameworkLibrary_237997)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MessageUILibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXMemoriesInlineProblemReporter.m" lineNumber:28 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("MFMailComposeViewController");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXMemoriesInlineProblemReporter.m" lineNumber:29 description:{@"Unable to find class %s", "MFMailComposeViewController"}];

LABEL_10:
    __break(1u);
  }

  getMFMailComposeViewControllerClass_softClass_237995 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_237998()
{
  result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_237997 = result;
  return result;
}

void sub_1A51B7A14(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A51B8858(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__238217(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A51B8960(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXAudioPlayerStateDescription(unint64_t a1)
{
  if (a1 >= 6)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nonnull PXAudioPlayerStateDescription(PXAudioPlayerState)"];
    [v6 handleFailureInFunction:v7 file:@"PXAudioPlayer.m" lineNumber:74 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  return off_1E77498C0[a1];
}

__CFString *PXAudioPlayerDesiredPlayStateDescription(uint64_t a1)
{
  if (a1 == 1)
  {
    return @"Playing";
  }

  else
  {
    return @"Paused";
  }
}

PXViewControllerEventTracker *PXViewControllerEventTrackerCreate(void *a1)
{
  v1 = a1;
  v2 = [[PXViewControllerEventTracker alloc] initWithViewName:v1];

  return v2;
}

id PXProgrammaticNavigationPathComponentsForURLComponents(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSArray<NSString *> * _Nonnull PXProgrammaticNavigationPathComponentsForURLComponents(NSURLComponents *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8 file:@"PXProgrammaticNavigationUtilities.m" lineNumber:16 description:{@"Invalid parameter not satisfying: %@", @"components"}];
  }

  v2 = [v1 path];
  v3 = [v2 componentsSeparatedByString:@"/"];
  v4 = [MEMORY[0x1E696AE18] predicateWithBlock:&__block_literal_global_238680];
  v5 = [v3 filteredArrayUsingPredicate:v4];

  return v5;
}

id PXProgrammaticNavigationQueryValuesForComponents(void *a1)
{
  v19 = *MEMORY[0x1E69E9840];
  v1 = a1;
  if (!v1)
  {
    v12 = [MEMORY[0x1E696AAA8] currentHandler];
    v13 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSDictionary<NSString *, NSString *> * _Nonnull PXProgrammaticNavigationQueryValuesForComponents(NSURLComponents *__strong _Nonnull)"}];
    [v12 handleFailureInFunction:v13 file:@"PXProgrammaticNavigationUtilities.m" lineNumber:27 description:{@"Invalid parameter not satisfying: %@", @"components"}];
  }

  v2 = objc_alloc_init(MEMORY[0x1E695DF90]);
  v14 = 0u;
  v15 = 0u;
  v16 = 0u;
  v17 = 0u;
  v3 = [v1 queryItems];
  v4 = [v3 countByEnumeratingWithState:&v14 objects:v18 count:16];
  if (v4)
  {
    v5 = v4;
    v6 = *v15;
    do
    {
      for (i = 0; i != v5; ++i)
      {
        if (*v15 != v6)
        {
          objc_enumerationMutation(v3);
        }

        v8 = *(*(&v14 + 1) + 8 * i);
        v9 = [v8 value];
        if (v9)
        {
          v10 = [v8 name];
          [v2 setObject:v9 forKeyedSubscript:v10];
        }
      }

      v5 = [v3 countByEnumeratingWithState:&v14 objects:v18 count:16];
    }

    while (v5);
  }

  return v2;
}

id PXProgrammaticNavigationCloudIdentifierForURLQueryValues(void *a1)
{
  v1 = [a1 objectForKeyedSubscript:@"cloud-identifier"];
  if ([v1 length])
  {
    v2 = [objc_alloc(MEMORY[0x1E6978738]) initWithStringValue:v1];
  }

  else
  {
    v2 = 0;
  }

  return v2;
}

id PXProgrammaticNavigationLocalIdentifierForCloudIdentifier(void *a1, void *a2)
{
  v15[1] = *MEMORY[0x1E69E9840];
  v3 = a1;
  v4 = a2;
  v5 = v4;
  if (v3)
  {
    if (v4)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v11 = [MEMORY[0x1E696AAA8] currentHandler];
    v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nullable PXProgrammaticNavigationLocalIdentifierForCloudIdentifier(PHCloudIdentifier *__strong _Nonnull, PHPhotoLibrary *__strong _Nonnull)"}];
    [v11 handleFailureInFunction:v12 file:@"PXProgrammaticNavigationUtilities.m" lineNumber:50 description:{@"Invalid parameter not satisfying: %@", @"cloudIdentifier"}];

    if (v5)
    {
      goto LABEL_3;
    }
  }

  v13 = [MEMORY[0x1E696AAA8] currentHandler];
  v14 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nullable PXProgrammaticNavigationLocalIdentifierForCloudIdentifier(PHCloudIdentifier *__strong _Nonnull, PHPhotoLibrary *__strong _Nonnull)"}];
  [v13 handleFailureInFunction:v14 file:@"PXProgrammaticNavigationUtilities.m" lineNumber:51 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];

LABEL_3:
  v15[0] = v3;
  v6 = [MEMORY[0x1E695DEC8] arrayWithObjects:v15 count:1];
  v7 = [v5 localIdentifierMappingsForCloudIdentifiers:v6];

  v8 = [v7 objectForKeyedSubscript:v3];
  v9 = [v8 localIdentifier];

  return v9;
}

id PXProgrammaticNavigationURLForSearchQuery(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSURL * _Nonnull PXProgrammaticNavigationURLForSearchQuery(NSString *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8 file:@"PXProgrammaticNavigationUtilities.m" lineNumber:66 description:{@"Invalid parameter not satisfying: %@", @"query"}];
  }

  v2 = [MEMORY[0x1E696AB08] URLHostAllowedCharacterSet];
  v3 = [v1 stringByAddingPercentEncodingWithAllowedCharacters:v2];

  v4 = [@"photos-navigation://search?" stringByAppendingFormat:@"searchTerm=%@", v3];
  v5 = [MEMORY[0x1E695DFF8] URLWithString:v4];

  return v5;
}

uint64_t PXProgrammaticNavigationIsSearchQueryURL(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v5 = [MEMORY[0x1E696AAA8] currentHandler];
    v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"BOOL PXProgrammaticNavigationIsSearchQueryURL(NSURL *__strong _Nonnull)"];
    [v5 handleFailureInFunction:v6 file:@"PXProgrammaticNavigationUtilities.m" lineNumber:76 description:{@"Invalid parameter not satisfying: %@", @"url"}];
  }

  v2 = [v1 absoluteString];
  v3 = [v2 hasPrefix:@"photos-navigation://search?"];

  return v3;
}

__CFString *PXFeedPPTPresetDescription(unint64_t a1)
{
  if (a1 > 3)
  {
    return @"??";
  }

  else
  {
    return off_1E7749960[a1];
  }
}

uint64_t PXFeedPPTPresetEnumeratePossibleValuesUsingBlock(uint64_t a1)
{
  for (i = 1; i != 4; ++i)
  {
    result = (*(a1 + 16))(a1, i);
  }

  return result;
}

id PXFeedPPTPresetPossibleValues()
{
  v0 = objc_alloc_init(MEMORY[0x1E695DF70]);
  v5[0] = MEMORY[0x1E69E9820];
  v5[1] = 3221225472;
  v6 = __PXFeedPPTPresetPossibleValues_block_invoke;
  v7 = &unk_1E7749940;
  v1 = v0;
  v8 = v1;
  for (i = 1; i != 4; ++i)
  {
    v6(v5, i);
  }

  v3 = [v1 copy];

  return v3;
}

void __PXFeedPPTPresetPossibleValues_block_invoke(uint64_t a1, uint64_t a2)
{
  v2 = *(a1 + 32);
  v3 = [MEMORY[0x1E696AD98] numberWithUnsignedInteger:a2];
  [v2 addObject:v3];
}

id _PXCPLUIStatusLocalizedString(void *a1)
{
  v1 = a1;
  v2 = PXLocalizedSharedLibraryString(v1);
  if (([v2 isEqualToString:v1] & 1) != 0 || (v3 = v2) == 0)
  {
    v3 = PXLocalizedStringFromTable(v1, @"PhotosUICore");
  }

  return v3;
}

void _RegisterServiceActivity(uint64_t a1, void *a2)
{
  v8 = *MEMORY[0x1E69E9840];
  v3 = a2;
  if (a1 == 4)
  {
    goto LABEL_7;
  }

  if (a1 == 3)
  {
    v4 = PLUserStatusGetLog();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_DEBUG))
    {
      v6 = 138412290;
      v7 = v3;
      _os_log_impl(&dword_1A3C1C000, v4, OS_LOG_TYPE_DEBUG, "Register upload activity: %@", &v6, 0xCu);
    }

    v5 = [MEMORY[0x1E695E000] standardUserDefaults];
    [v3 timeIntervalSinceReferenceDate];
    [v5 setDouble:@"PXCPLUIStatusProviderLastUploadTime" forKey:?];
    goto LABEL_8;
  }

  if (!_HasUploadActivityInLastSeconds(60.0))
  {
LABEL_7:
    v5 = [MEMORY[0x1E695E000] standardUserDefaults];
    [v5 removeObjectForKey:@"PXCPLUIStatusProviderLastUploadTime"];
LABEL_8:
  }
}

id _PXCPLStatusPendingStateDescription(uint64_t a1, uint64_t a2, uint64_t a3, char a4, uint64_t a5, uint64_t a6, int a7)
{
  if (a1 == 2)
  {
    if (a4)
    {
      v8 = @"PXCPLStatus_Rebuild_Paused";
      v9 = @"PXCPLStatus_Rebuild_Paused_Short";
      goto LABEL_6;
    }

    if (a2 <= 3)
    {
      if (a2 < 2)
      {
        v8 = @"PXCPLStatus_Sync_Paused";
        v9 = @"PXCPLStatus_Sync_Paused_Short";
LABEL_6:
        if (a7)
        {
          v10 = v9;
        }

        else
        {
          v10 = v8;
        }

        goto LABEL_9;
      }

      if (a2 == 2)
      {
        if (!a7)
        {
          v14 = @"PXCPLStatus_Pull_Paused_NItems";
          goto LABEL_48;
        }

        goto LABEL_60;
      }

      if (a3 == 2)
      {
        if (a7)
        {
          v10 = @"PXCPLStatus_Push_Stopped_Short";
          goto LABEL_9;
        }

        v14 = @"PXCPLStatus_Push_Stopped_NItems";
      }

      else
      {
        if (a7)
        {
LABEL_60:
          v10 = @"PXCPLStatus_Sync_Paused_Short";
          goto LABEL_9;
        }

        v14 = @"PXCPLStatus_Push_Paused_NItems";
      }

LABEL_48:
      _PXCPLUIStatusLocalizedString(v14);
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    if ((a2 - 5) < 2)
    {
      if (a7)
      {
        v10 = @"PXCPLStatus_SharedLibraryMove_Paused_Short";
        goto LABEL_9;
      }

      v17 = MEMORY[0x1E696AEC0];
      v18 = @"PXCPLStatus_SharedLibraryMove_Paused_%lu_Items";
      goto LABEL_57;
    }

    if (a2 == 4)
    {
      if (!a7)
      {
        v14 = @"PXCPLStatus_Fetch_Paused_NItems";
        goto LABEL_48;
      }

      v10 = @"PXCPLStatus_Fetch_Paused_Short";
LABEL_9:
      v11 = _PXCPLUIStatusLocalizedString(v10);
LABEL_10:
      v12 = v11;
      goto LABEL_11;
    }

    if (a5)
    {
      v17 = MEMORY[0x1E696AEC0];
      if (a7)
      {
        v19 = @"PXCPLStatus_SharedLibraryIsExiting_Paused_%lu_Items_Short";
      }

      else
      {
        v19 = @"PXCPLStatus_SharedLibraryIsExiting_Paused_%lu_Items";
      }

LABEL_69:
      v20 = PXLocalizedSharedLibraryString(v19);
      goto LABEL_70;
    }

    v21 = @"PXCPLStatus_SharedLibraryIsLeaving_Paused";
    v22 = @"PXCPLStatus_SharedLibraryIsDeleting_Paused";
    goto LABEL_63;
  }

  if (a4)
  {
    v8 = @"PXCPLStatus_Rebuild";
    v9 = @"PXCPLStatus_Rebuild_Short";
    goto LABEL_6;
  }

  if (a2 <= 3)
  {
    if (a2 <= 1)
    {
      if (a2 != 1)
      {
        v25 = [MEMORY[0x1E696AAA8] currentHandler];
        v26 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nullable _PXCPLStatusPendingStateDescription(PXCPLStatusState, PXCPLStatusActivity, PXCPLStatusPauseReason, BOOL, NSUInteger, PXCPLStatusSharedLibraryState, BOOL)"}];
        [v25 handleFailureInFunction:v26 file:@"PXCPLUIStatusProvider.m" lineNumber:193 description:@"Code which should be unreachable has been reached"];

        abort();
      }

      v8 = @"PXCPLStatus_Sync";
      v9 = @"PXCPLStatus_Sync_Short";
      goto LABEL_6;
    }

    if (a2 == 2)
    {
      v15 = @"PXCPLStatus_Pull_NItems";
      v16 = @"PXCPLStatus_Pull_NItems_Short";
    }

    else
    {
      v15 = @"PXCPLStatus_Push_NItems";
      v16 = @"PXCPLStatus_Push_NItems_Short";
    }

    if (a7)
    {
      v14 = v16;
    }

    else
    {
      v14 = v15;
    }

    goto LABEL_48;
  }

  if (a2 <= 5)
  {
    if (a2 == 4)
    {
      v14 = @"PXCPLStatus_Fetch_NItems";
      goto LABEL_48;
    }

    v17 = MEMORY[0x1E696AEC0];
    if (!a7)
    {
      v18 = @"PXCPLStatus_SharedLibraryMoveToShared_%lu_Items";
      goto LABEL_57;
    }

    goto LABEL_40;
  }

  if (a2 != 6)
  {
    if (a5)
    {
      v17 = MEMORY[0x1E696AEC0];
      if (a7)
      {
        v19 = @"PXCPLStatus_SharedLibraryIsExiting_%lu_Items_Short";
      }

      else
      {
        v19 = @"PXCPLStatus_SharedLibraryIsExiting_%lu_Items";
      }

      goto LABEL_69;
    }

    v21 = @"PXCPLStatus_SharedLibraryIsLeaving";
    v22 = @"PXCPLStatus_SharedLibraryIsDeleting";
LABEL_63:
    if (a6 == 2)
    {
      v23 = v22;
    }

    else
    {
      v23 = v21;
    }

    v11 = PXLocalizedSharedLibraryString(v23);
    goto LABEL_10;
  }

  v17 = MEMORY[0x1E696AEC0];
  if (a7)
  {
LABEL_40:
    v18 = @"PXCPLStatus_SharedLibraryMove_%lu_Items_Short";
    goto LABEL_57;
  }

  v18 = @"PXCPLStatus_SharedLibraryMoveToPersonal_%lu_Items";
LABEL_57:
  v20 = _PXCPLUIStatusLocalizedString(v18);
LABEL_70:
  v24 = v20;
  v12 = [v17 localizedStringWithFormat:v20, a5];

LABEL_11:

  return v12;
}

id _PXCPLStatusPausedStateDescription(uint64_t a1, int a2, char a3)
{
  v3 = 0;
  switch(a1)
  {
    case 1:
      goto LABEL_25;
    case 2:
      if (a2)
      {
        v4 = @"PXCPLStatusPauseReasonSharedLibraryCloudStorageBudget";
      }

      else
      {
        if (a3)
        {
          v3 = 0;
          goto LABEL_25;
        }

        v4 = @"PXCPLStatusCloudStorageFull";
      }

LABEL_24:
      v3 = _PXCPLUIStatusLocalizedString(v4);
LABEL_25:

      return v3;
    case 3:
      v5 = PXLocalizationKeyByAddingDeviceModelSuffix(@"PXCPLStatusPauseReasonLowDiskSpace_");
      v3 = PXLocalizedStringFromTable(v5, @"PhotosUICore");
      goto LABEL_12;
    case 4:
      v4 = @"PXCPLStatusPauseReasonBatteryBudget";
      goto LABEL_24;
    case 5:
      v4 = @"PXCPLStatusPauseReasonCellularBudget";
      goto LABEL_24;
    case 6:
      v4 = @"PXCPLStatusPauseReasonLowDataMode";
      goto LABEL_24;
    case 7:
      v4 = @"PXCPLStatusPauseReasonLowPowerMode";
      goto LABEL_24;
    case 8:
      v5 = +[PXLocalization currentDeviceCanonicalModel];
      v6 = @"PXCPLStatusPauseReasonClientVersionTooOld_";
      goto LABEL_11;
    case 9:
      v5 = +[PXLocalization currentDeviceCanonicalModel];
      v6 = @"PXCPLStatusPauseReasonClientNotAuthenticated_";
LABEL_11:
      v7 = [(__CFString *)v6 stringByAppendingString:v5];
      v3 = _PXCPLUIStatusLocalizedString(v7);

LABEL_12:
      goto LABEL_25;
    case 10:
      v4 = @"PXCPLStatusPauseReasonCellularDataDisabled";
      goto LABEL_24;
    case 11:
      v4 = @"PXCPLStatusPauseReasonOffline";
      goto LABEL_24;
    case 12:
      v4 = @"PXCPLStatusPauseReasonAirplaneMode";
      goto LABEL_24;
    case 13:
      v4 = @"PXCPLStatusPauseReasonCapturingSnapshot";
      goto LABEL_24;
    case 14:
      v4 = @"PXCPLStatusPauseReasonOptimizingSystemPerformance";
      goto LABEL_24;
    case 15:
      v4 = @"PXCPLStatusPauseReasonPoorNetworkConnection";
      goto LABEL_24;
    case 16:
    case 17:
      v4 = @"PXCPLStatusPauseReasonThermalPressure";
      goto LABEL_24;
    case 18:
      v4 = @"PXCPLStatusPauseReasonLowBattery";
      goto LABEL_24;
    default:
      v9 = [MEMORY[0x1E696AAA8] currentHandler];
      v10 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString * _Nullable _PXCPLStatusPausedStateDescription(PXCPLStatusPauseReason, BOOL, BOOL)"}];
      [v9 handleFailureInFunction:v10 file:@"PXCPLUIStatusProvider.m" lineNumber:105 description:@"Code which should be unreachable has been reached"];

      abort();
  }
}

BOOL _HasUploadActivityInLastSeconds(double a1)
{
  v2 = [MEMORY[0x1E695E000] standardUserDefaults];
  [v2 doubleForKey:@"PXCPLUIStatusProviderLastUploadTime"];
  v4 = v3;

  [MEMORY[0x1E695DF00] timeIntervalSinceReferenceDate];
  return v5 - v4 < a1;
}

id _PXCPLStatusLastUpdateDescription(void *a1, void *a2, int a3)
{
  v5 = a1;
  v6 = a2;
  v7 = v6;
  if (v5)
  {
    if (v6)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v28 = [MEMORY[0x1E696AAA8] currentHandler];
    v29 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString *_PXCPLStatusLastUpdateDescription(NSDate *__strong, NSDate *__strong, BOOL)"}];
    [v28 handleFailureInFunction:v29 file:@"PXCPLUIStatusProvider.m" lineNumber:351 description:{@"Invalid parameter not satisfying: %@", @"lastSyncDate"}];

    if (v7)
    {
      goto LABEL_3;
    }
  }

  v30 = [MEMORY[0x1E696AAA8] currentHandler];
  v31 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString *_PXCPLStatusLastUpdateDescription(NSDate *__strong, NSDate *__strong, BOOL)"}];
  [v30 handleFailureInFunction:v31 file:@"PXCPLUIStatusProvider.m" lineNumber:352 description:{@"Invalid parameter not satisfying: %@", @"currentDate"}];

LABEL_3:
  [v7 timeIntervalSinceDate:v5];
  v9 = v8;
  v10 = [MEMORY[0x1E695DEE8] currentCalendar];
  v11 = PXCPLNumberOfCalendarUnitsBetweenDates(16, v5, v7, v10);
  if (v9 <= 60.0)
  {
    v13 = @"PXCPLStatus_JustNow";
    v14 = @"PXCPLStatus_JustNow_Short";
  }

  else
  {
    if (v9 < 3600.0)
    {
      if (a3)
      {
        v12 = @"PXCPLStatus_LastUpdatedNMinutesAgo_Short";
      }

      else
      {
        v12 = @"PXCPLStatus_LastUpdatedNMinutesAgo";
      }

      _PXCPLUIStatusLocalizedString(v12);
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    v17 = v11;
    if (v11 != 1)
    {
      if (v11)
      {
        v21 = objc_opt_new();
        v18 = v21;
        if (v17 <= 6)
        {
          v22 = MEMORY[0x1E696AB78];
          v23 = [MEMORY[0x1E695DF58] currentLocale];
          v24 = [v22 dateFormatFromTemplate:@"EEEE" options:0 locale:v23];

          [v18 setDateFormat:v24];
          if (a3)
          {
            v25 = @"PXCPLStatus_Weekday_Short";
          }

          else
          {
            v25 = @"PXCPLStatus_Weekday";
          }

          _PXCPLUIStatusLocalizedString(v25);
          objc_claimAutoreleasedReturnValue();
          [v18 stringFromDate:v5];
          objc_claimAutoreleasedReturnValue();
          PXLocalizedStringWithValidatedFormat();
        }

        [v21 setTimeStyle:0];
        [v18 setDateStyle:2];
        v19 = @"PXCPLStatus_Date";
        v20 = @"PXCPLStatus_Date_Short";
      }

      else
      {
        v18 = objc_opt_new();
        [v18 setTimeStyle:1];
        [v18 setDateStyle:0];
        v19 = @"PXCPLStatus_AtTime";
        v20 = @"PXCPLStatus_AtTime_Short";
      }

      if (a3)
      {
        v26 = v20;
      }

      else
      {
        v26 = v19;
      }

      _PXCPLUIStatusLocalizedString(v26);
      objc_claimAutoreleasedReturnValue();
      [v18 stringFromDate:v5];
      objc_claimAutoreleasedReturnValue();
      PXLocalizedStringWithValidatedFormat();
    }

    v13 = @"PXCPLStatus_Yesterday";
    v14 = @"PXCPLStatus_Yesterday_Short";
  }

  if (a3)
  {
    v15 = v14;
  }

  else
  {
    v15 = v13;
  }

  v16 = _PXCPLUIStatusLocalizedString(v15);

  return v16;
}

id _PXCPLStatusResumeActionConfirmationAlertMessage(uint64_t a1, uint64_t a2)
{
  v3 = 0;
  if (a1 > 7)
  {
    if (a1 > 15)
    {
      if (a1 == 16)
      {
        v4 = @"PXCPLStatus_Resume_Update_ThermalPressure_AlertTitle_Description";
        goto LABEL_19;
      }

      if (a1 == 18)
      {
        v4 = @"PXCPLStatus_Resume_Update_LowBattery_AlertTitle_Description";
        goto LABEL_19;
      }

      if (a1 != 17)
      {
        goto LABEL_20;
      }
    }

    else
    {
      if (a1 == 14)
      {
        v4 = @"PXCPLStatus_Resume_Update_OptimizingSystemPerformance_AlertTitle_Description";
        goto LABEL_19;
      }

      if (a1 == 15)
      {
        v4 = @"PXCPLStatus_Resume_Update_PoorNetworkConnection_AlertTitle_Description";
LABEL_19:
        v3 = _PXCPLUIStatusLocalizedString(v4);
        goto LABEL_20;
      }

      if ((a1 - 8) >= 6)
      {
        goto LABEL_20;
      }
    }

    goto LABEL_30;
  }

  if (a1 > 4)
  {
    if (a1 == 5)
    {
      v4 = @"PXCPLStatus_Resume_Update_Cellular_AlertTitle_Description";
    }

    else if (a1 == 6)
    {
      v4 = @"PXCPLStatus_Resume_Update_LowDataMode_AlertTitle_Description";
    }

    else
    {
      v4 = @"PXCPLStatus_Resume_Update_LowPowerMode_AlertTitle_Description";
    }

    goto LABEL_19;
  }

  if (a1 == 4)
  {
    v4 = @"PXCPLStatus_Resume_Update_Battery_AlertTitle_Description";
    goto LABEL_19;
  }

  if ((a1 - 2) < 2 || !a1)
  {
LABEL_30:
    v7 = [MEMORY[0x1E696AAA8] currentHandler];
    v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"NSString *_PXCPLStatusResumeActionConfirmationAlertMessage(PXCPLStatusPauseReason, PXCPLUIStatusProviderResumeTime)"}];
    [v7 handleFailureInFunction:v8 file:@"PXCPLUIStatusProvider.m" lineNumber:493 description:@"Code which should be unreachable has been reached"];

    abort();
  }

LABEL_20:
  v5 = _PXCPLUIStatusLocalizedString(off_1E77499D0[a2]);
  if (v3 && v5)
  {
    _PXCPLUIStatusLocalizedString(@"PXCPLStatus_Resume_Update_TitleFormat");
    objc_claimAutoreleasedReturnValue();
    PXStringWithValidatedFormat();
  }

  return 0;
}

id _PXCPLStatusResumeActionTitle(uint64_t a1)
{
  v2 = @"PXCPLStatusActionSyncNow_Title";
  if (((1 << a1) & 0x5C0F0) == 0)
  {
    if (a1 != 1)
    {
      v5 = [MEMORY[0x1E696AAA8] currentHandler];
      v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString * _Nullable _PXCPLStatusResumeActionTitle(PXCPLStatusPauseReason)"];
      [v5 handleFailureInFunction:v6 file:@"PXCPLUIStatusProvider.m" lineNumber:696 description:@"Code which should be unreachable has been reached"];

      abort();
    }

    v2 = @"PXCPLStatusActionResume_Title";
  }

  v3 = _PXCPLUIStatusLocalizedString(v2);

  return v3;
}

void _PXCPLStatusPauseActionConfirmationAlertTitles(unint64_t a1, void *a2, void *a3, void *a4)
{
  if (a2)
  {
    if (a3)
    {
      goto LABEL_3;
    }

LABEL_9:
    v13 = [MEMORY[0x1E696AAA8] currentHandler];
    v14 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusPauseActionConfirmationAlertTitles(PXCPLStatusActivity, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
    [v13 handleFailureInFunction:v14 file:@"PXCPLUIStatusProvider.m" lineNumber:399 description:{@"Invalid parameter not satisfying: %@", @"actionConfirmationAlertSubtitle"}];

    if (a4)
    {
      goto LABEL_4;
    }

    goto LABEL_10;
  }

  v11 = [MEMORY[0x1E696AAA8] currentHandler];
  v12 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusPauseActionConfirmationAlertTitles(PXCPLStatusActivity, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
  [v11 handleFailureInFunction:v12 file:@"PXCPLUIStatusProvider.m" lineNumber:398 description:{@"Invalid parameter not satisfying: %@", @"actionConfirmationAlertTitle"}];

  if (!a3)
  {
    goto LABEL_9;
  }

LABEL_3:
  if (a4)
  {
    goto LABEL_4;
  }

LABEL_10:
  v15 = [MEMORY[0x1E696AAA8] currentHandler];
  v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusPauseActionConfirmationAlertTitles(PXCPLStatusActivity, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
  [v15 handleFailureInFunction:v16 file:@"PXCPLUIStatusProvider.m" lineNumber:400 description:{@"Invalid parameter not satisfying: %@", @"actionConfirmationAlertButtonTitle"}];

LABEL_4:
  if (a1 <= 2)
  {
    v17 = [MEMORY[0x1E696AAA8] currentHandler];
    v18 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusPauseActionConfirmationAlertTitles(PXCPLStatusActivity, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
    [v17 handleFailureInFunction:v18 file:@"PXCPLUIStatusProvider.m" lineNumber:410 description:@"Code which should be unreachable has been reached"];

    abort();
  }

  v19 = _PXCPLUIStatusLocalizedString(@"PXCPLStatus_Pause_AlertTitle_iOS");
  v8 = _PXCPLUIStatusLocalizedString(@"PXCPLStatus_Pause_AlertButtonTitle");
  v9 = v19;
  *a2 = v19;
  *a3 = 0;
  v10 = v8;
  *a4 = v8;
}

void _PXCPLStatusResumeActionConfirmationAlertTitles(unint64_t a1, uint64_t a2, void *a3, void *a4, void *a5)
{
  if (a3)
  {
    if (a4)
    {
      goto LABEL_3;
    }

LABEL_15:
    v20 = [MEMORY[0x1E696AAA8] currentHandler];
    v21 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusResumeActionConfirmationAlertTitles(PXCPLStatusPauseReason, PXCPLUIStatusProviderResumeTime, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
    [v20 handleFailureInFunction:v21 file:@"PXCPLUIStatusProvider.m" lineNumber:433 description:{@"Invalid parameter not satisfying: %@", @"actionConfirmationAlertSubtitle"}];

    if (a5)
    {
      goto LABEL_4;
    }

    goto LABEL_16;
  }

  v18 = [MEMORY[0x1E696AAA8] currentHandler];
  v19 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusResumeActionConfirmationAlertTitles(PXCPLStatusPauseReason, PXCPLUIStatusProviderResumeTime, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
  [v18 handleFailureInFunction:v19 file:@"PXCPLUIStatusProvider.m" lineNumber:432 description:{@"Invalid parameter not satisfying: %@", @"actionConfirmationAlertTitle"}];

  if (!a4)
  {
    goto LABEL_15;
  }

LABEL_3:
  if (a5)
  {
    goto LABEL_4;
  }

LABEL_16:
  v22 = [MEMORY[0x1E696AAA8] currentHandler];
  v23 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusResumeActionConfirmationAlertTitles(PXCPLStatusPauseReason, PXCPLUIStatusProviderResumeTime, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
  [v22 handleFailureInFunction:v23 file:@"PXCPLUIStatusProvider.m" lineNumber:434 description:{@"Invalid parameter not satisfying: %@", @"actionConfirmationAlertButtonTitle"}];

LABEL_4:
  v10 = _PXCPLStatusResumeActionConfirmationAlertMessage(a1, a2);
  v11 = v10;
  v12 = 0;
  if (a1 > 0x12)
  {
    v24 = 0;
    v17 = 0;
  }

  else
  {
    if (((1 << a1) & 0x5C0F0) != 0)
    {
      v24 = v10;
      v12 = _PXCPLUIStatusLocalizedString(@"PXCPLStatus_Resume_AlertButtonTitle_iOS");
    }

    else
    {
      v24 = 0;
      if (((1 << a1) & 0x23F0D) != 0)
      {
        v15 = [MEMORY[0x1E696AAA8] currentHandler];
        v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"void _PXCPLStatusResumeActionConfirmationAlertTitles(PXCPLStatusPauseReason, PXCPLUIStatusProviderResumeTime, NSString *__autoreleasing *, NSString *__autoreleasing *, NSString *__autoreleasing *)"}];
        [v15 handleFailureInFunction:v16 file:@"PXCPLUIStatusProvider.m" lineNumber:452 description:@"Code which should be unreachable has been reached"];

        abort();
      }
    }

    v13 = v24;
  }

  *a3 = v24;
  *a4 = 0;
  v14 = v12;
  *a5 = v12;
}

void PXCPLUIStatusProviderClearRecentUploadState()
{
  v0 = [MEMORY[0x1E695E000] standardUserDefaults];
  [v0 removeObjectForKey:@"PXCPLUIStatusProviderLastUploadTime"];
}

uint64_t PXCPLStatusResumeTimeForInterval(double a1)
{
  v1 = vcvtad_u64_f64(a1 / 3600.0);
  if (v1 > 11)
  {
    if (v1 != 12)
    {
      if (v1 == 24)
      {
        return 3;
      }

      return 4;
    }

    return 2;
  }

  else
  {
    if (v1 != 1)
    {
      if (v1 == 4)
      {
        return 1;
      }

      return 4;
    }

    return 0;
  }
}

id PXNetworkDetailsDescription(unint64_t a1, __int16 a2)
{
  v3 = MEMORY[0x1E696AEC0];
  v4 = PXNetworkTypeDescription(a1);
  if (a2)
  {
    v5 = @"YES";
  }

  else
  {
    v5 = @"NO";
  }

  v6 = v5;
  if ((a2 & 0x100) != 0)
  {
    v7 = @"YES";
  }

  else
  {
    v7 = @"NO";
  }

  v8 = v7;
  v9 = [v3 stringWithFormat:@"{ type:%@ isConstrained:%@ isExpensive:%@ }", v4, v6, v8];

  return v9;
}

__CFString *PXNetworkTypeDescription(unint64_t a1)
{
  if (a1 >= 6)
  {
    v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"invalid(%lu)", a1];
  }

  else
  {
    v2 = off_1E7749A70[a1];
  }

  return v2;
}

void sub_1A51C0044(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A51C1A44(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  objc_destroyWeak((v16 - 40));
  _Unwind_Resume(a1);
}

void sub_1A51C1BD0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  objc_destroyWeak((v16 - 40));
  _Unwind_Resume(a1);
}

void sub_1A51C2C58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t _PXSettingsPersistenceIsAvailable()
{
  result = PFOSVariantHasInternalUI();
  if (result)
  {

    return PFOSVariantHasInternalDiagnostics();
  }

  return result;
}

id _ReviewActionHandlerForType(void *a1, uint64_t a2)
{
  v3 = a1;
  if (!v3)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PTRowActionHandler _ReviewActionHandlerForType(PHPhotoLibrary *__strong, PXStickersReviewType)"}];
    [v8 handleFailureInFunction:v9 file:@"PXStickersSettings+UI.m" lineNumber:22 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  aBlock[0] = MEMORY[0x1E69E9820];
  aBlock[1] = 3221225472;
  aBlock[2] = ___ReviewActionHandlerForType_block_invoke;
  aBlock[3] = &unk_1E7749C88;
  v11 = v3;
  v12 = a2;
  v4 = v3;
  v5 = _Block_copy(aBlock);
  v6 = _Block_copy(v5);

  return v6;
}

void sub_1A51C894C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1A51C8E78(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A51C97A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQInAppMessageKeySymbolLoc_block_invoke_240756(uint64_t a1)
{
  v2 = iCloudQuotaUILibrary_240757();
  result = dlsym(v2, "ICQInAppMessageKey");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getICQInAppMessageKeySymbolLoc_ptr_240755 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void *iCloudQuotaUILibrary_240757()
{
  v7 = *MEMORY[0x1E69E9840];
  v4[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_240768)
  {
    v4[1] = MEMORY[0x1E69E9820];
    v4[2] = 3221225472;
    v4[3] = __iCloudQuotaUILibraryCore_block_invoke_240769;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    v5 = xmmword_1E7749DE0;
    v6 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_240768 = _sl_dlopen();
  }

  v0 = iCloudQuotaUILibraryCore_frameworkLibrary_240768;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_240768)
  {
    v0 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    [v0 handleFailureInFunction:v3 file:@"PXCPLCloudQuotaSourceUtilities.h" lineNumber:23 description:{@"%s", v4[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v4[0];
  if (v4[0])
  {
LABEL_7:
    free(v1);
  }

  return v0;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_240769()
{
  result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_240768 = result;
  return result;
}

id _ICQInAppActionContextForPlacement(uint64_t a1)
{
  v9[1] = *MEMORY[0x1E69E9840];
  if (a1)
  {
    if (a1 != 1)
    {
      v6 = [MEMORY[0x1E696AAA8] currentHandler];
      v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSString *_PointOfUpsellDescriptionForPlacement(PXCPLCloudQuotaConciseSourcePlacement)"];
      [v6 handleFailureInFunction:v7 file:@"PXCPLCloudQuotaConciseSource.m" lineNumber:116 description:{@"Unknown placement: %ld", a1}];

      abort();
    }

    v1 = @"collections";
  }

  else
  {
    v1 = @"library";
  }

  v8 = @"pointOfUpsell";
  v2 = [MEMORY[0x1E696AEC0] stringWithFormat:@"%@-%@", *MEMORY[0x1E69BFF18], v1];
  v9[0] = v2;
  v3 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v9 forKeys:&v8 count:1];

  return v3;
}

void sub_1A51CA8C8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQCurrentInAppMessageChangedNotificationSymbolLoc_block_invoke_240805(uint64_t a1)
{
  v2 = iCloudQuotaUILibrary_240757();
  result = dlsym(v2, "ICQCurrentInAppMessageChangedNotification");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getICQCurrentInAppMessageChangedNotificationSymbolLoc_ptr_240804 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void __getICQInAppMessagingClass_block_invoke_240809(uint64_t a1)
{
  iCloudQuotaUILibrary_240757();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("ICQInAppMessaging");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getICQInAppMessagingClass_softClass_240808 = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getICQInAppMessagingClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXCPLCloudQuotaSourceUtilities.h" lineNumber:24 description:{@"Unable to find class %s", "ICQInAppMessaging"}];

    __break(1u);
  }
}

void sub_1A51CABB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQUIMessagePlacementInAppConciseSymbolLoc_block_invoke(uint64_t a1)
{
  v2 = iCloudQuotaUILibrary_240757();
  result = dlsym(v2, "ICQUIMessagePlacementInAppConcise");
  *(*(*(a1 + 32) + 8) + 24) = result;
  getICQUIMessagePlacementInAppConciseSymbolLoc_ptr = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id PXCuratedLibraryFetchHighlights(uint64_t a1, void *a2, uint64_t a3)
{
  v5 = a2;
  v6 = v5;
  v7 = 0;
  if (a1 <= 1)
  {
    if (a1 == 1)
    {
      v7 = 1000000303;
    }

    else if (!a1)
    {
      goto LABEL_19;
    }
  }

  else
  {
    switch(a1)
    {
      case 2:
        v7 = 1000000302;
        break;
      case 3:
        v7 = 1000000301;
        break;
      case 4:
LABEL_19:
        v15 = [MEMORY[0x1E696AAA8] currentHandler];
        v16 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PHFetchResult<PHAssetCollection *> * _Nonnull PXCuratedLibraryFetchHighlights(PXCuratedLibraryZoomLevel, PHPhotoLibrary *__strong _Nonnull, PXLibraryFilterViewMode)"}];
        [v15 handleFailureInFunction:v16 file:@"PXCuratedLibraryAssetsDataSourceManagerConfiguration.m" lineNumber:428 description:@"Code which should be unreachable has been reached"];

        abort();
    }
  }

  v8 = PXInternalSubpredicatesForAssetCollectionSubtype(v5, v7, a3);
  if ([v8 count])
  {
    v9 = [MEMORY[0x1E696AB28] andPredicateWithSubpredicates:v8];
  }

  else
  {
    v9 = 0;
  }

  v10 = [v6 px_standardLibrarySpecificFetchOptions];
  [v10 setInternalPredicate:v9];
  v11 = PXInternalSortDescriptorsForAssetCollectionSubtype(v7);
  [v10 setInternalSortDescriptors:v11];

  if (a3 == 2)
  {
    v12 = 1;
  }

  else
  {
    v12 = 2 * (a3 != 1);
  }

  [v10 setSharingFilter:v12];
  v13 = [MEMORY[0x1E6978650] fetchAssetCollectionsWithType:6 subtype:0x7FFFFFFFFFFFFFFFLL options:v10];

  return v13;
}

id PXInternalSubpredicatesForAssetCollectionSubtype(void *a1, uint64_t a2, uint64_t a3)
{
  v5 = MEMORY[0x1E695DF70];
  v6 = a1;
  v7 = objc_alloc_init(v5);
  v8 = +[PXCuratedLibrarySettings sharedInstance];
  v9 = PXInternalHighlightVisibilityPropertyForLibraryFilter(v6, a3);

  if (a2 != 1000000301)
  {
    if (a2 == 1000000302)
    {
      v10 = [MEMORY[0x1E695DF70] array];
      v11 = [MEMORY[0x1E695E000] standardUserDefaults];
      v12 = [v11 BOOLForKey:@"PXCuratedLibraryShowOnlyTripsInMonthView"];

      if (v12)
      {
        [MEMORY[0x1E696AE18] predicateWithFormat:@"type == %d || type == %d", 1, 2, v25, v27, v28];
      }

      else
      {
        v16 = [MEMORY[0x1E696AE18] predicateWithFormat:@"kind == %d && %K == %d", 1, v9, 2];
        [v10 addObject:v16];

        v17 = [MEMORY[0x1E696AE18] predicateWithFormat:@"kind == %d && (%K == %d || %K == %d)", 3, v9, 2, v9, 3];
        [v10 addObject:v17];

        [MEMORY[0x1E696AE18] predicateWithFormat:@"kind == %d && (%K == %d || %K == %d)", 0, v9, 2, v9, 3];
      }
      v18 = ;
      [v10 addObject:v18];

      v19 = [MEMORY[0x1E696AB28] orPredicateWithSubpredicates:v10];
      [v7 addObject:v19];

      goto LABEL_14;
    }

    if (a2 != 1000000303)
    {
      goto LABEL_15;
    }

    [MEMORY[0x1E696AE18] predicateWithFormat:@"kind == %d && %K == %d", 2, v9, 4];
    v10 = LABEL_11:;
    [v7 addObject:v10];
LABEL_14:

    goto LABEL_15;
  }

  v13 = [MEMORY[0x1E696AE18] predicateWithFormat:@"kind == %d || kind == %d", 0, 3];
  [v7 addObject:v13];

  v14 = [MEMORY[0x1E696AE18] predicateWithFormat:@"%K == %d || %K == %d", v9, 1, v9, 3];
  [v7 addObject:v14];

  if ([v8 hideRecents])
  {
    v15 = [MEMORY[0x1E696AE18] predicateWithFormat:@"category != %lu", 1];
    [v7 addObject:v15];
  }

  if ([v8 hideAggregations])
  {
    [MEMORY[0x1E696AE18] predicateWithFormat:@"type != %lu", 3, v24, v26];
    goto LABEL_11;
  }

LABEL_15:
  if (([v8 showAllHighlights] & 1) == 0)
  {
    v20 = MEMORY[0x1E696AE18];
    [v8 nonInterestingPromotionScore];
    v22 = [v20 predicateWithFormat:@"promotionScore >= %lf", v21];
    [v7 addObject:v22];
  }

  return v7;
}

id PXInternalSortDescriptorsForAssetCollectionSubtype(uint64_t a1)
{
  v11[5] = *MEMORY[0x1E69E9840];
  v2 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"startDate" ascending:1];
  v3 = v2;
  if (a1 == 1000000302)
  {
    v11[0] = v2;
    v4 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"endDate" ascending:0];
    v11[1] = v4;
    v5 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"type" ascending:1];
    v11[2] = v5;
    v6 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"kind" ascending:0];
    v11[3] = v6;
    v7 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"objectID" ascending:1];
    v11[4] = v7;
    v8 = [MEMORY[0x1E695DEC8] arrayWithObjects:v11 count:5];
  }

  else
  {
    v4 = [MEMORY[0x1E696AEB0] sortDescriptorWithKey:@"objectID" ascending:{1, v2}];
    v10[1] = v4;
    v8 = [MEMORY[0x1E695DEC8] arrayWithObjects:v10 count:2];
  }

  return v8;
}

__CFString *PXInternalHighlightVisibilityPropertyForLibraryFilter(uint64_t a1, uint64_t a2)
{
  v3 = [PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:a1];
  if ([v3 hasSharedLibraryOrPreview])
  {
    v4 = 2 * (a2 != 1);
    if (a2 == 2)
    {
      v4 = 1;
    }

    v5 = off_1E7749E88[v4];
  }

  else
  {
    v5 = @"visibilityState";
  }

  return v5;
}

void sub_1A51D3C6C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

uint64_t __MessagesLibraryCore_block_invoke(uint64_t a1)
{
  result = _sl_dlopen();
  *(*(*(a1 + 32) + 8) + 24) = result;
  MessagesLibraryCore_frameworkLibrary = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void MessagesLibrary()
{
  v17 = *MEMORY[0x1E69E9840];
  v7[0] = 0;
  v10 = 0;
  v11 = &v10;
  v12 = 0x2020000000;
  v0 = MessagesLibraryCore_frameworkLibrary;
  v13 = MessagesLibraryCore_frameworkLibrary;
  if (!MessagesLibraryCore_frameworkLibrary)
  {
    v7[1] = MEMORY[0x1E69E9820];
    v7[2] = 3221225472;
    v7[3] = __MessagesLibraryCore_block_invoke;
    v7[4] = &unk_1E7749FD0;
    v8 = &v10;
    v9 = v7;
    v14 = xmmword_1E7749FA0;
    v15 = *off_1E7749FB0;
    v16 = 0;
    v11[3] = _sl_dlopen();
    MessagesLibraryCore_frameworkLibrary = *(v8[1] + 24);
    v0 = v11[3];
  }

  _Block_object_dispose(&v10, 8);
  if (!v0)
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MessagesLibrary(void)"];
    v4 = v2;
    v5 = v2;
    v6 = v3;
    [v4 handleFailureInFunction:v3 file:@"PXMessagesSoftLinks.m" lineNumber:12 description:{@"%s", v7[0]}];

    __break(1u);
    goto LABEL_7;
  }

  v1 = v7[0];
  if (v7[0])
  {
LABEL_7:
    free(v1);
  }
}

void sub_1A51D467C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getMSMessageClass_block_invoke(uint64_t a1)
{
  MessagesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("MSMessage");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getMSMessageClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMSMessageClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXMessagesSoftLinks.m" lineNumber:13 description:{@"Unable to find class %s", "MSMessage"}];

    __break(1u);
  }
}

void __getMSMessageTemplateLayoutClass_block_invoke(uint64_t a1)
{
  MessagesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("MSMessageTemplateLayout");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getMSMessageTemplateLayoutClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMSMessageTemplateLayoutClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXMessagesSoftLinks.m" lineNumber:14 description:{@"Unable to find class %s", "MSMessageTemplateLayout"}];

    __break(1u);
  }
}

void __getMSMessageLiveLayoutClass_block_invoke(uint64_t a1)
{
  MessagesLibrary();
  *(*(*(a1 + 32) + 8) + 24) = objc_getClass("MSMessageLiveLayout");
  if (*(*(*(a1 + 32) + 8) + 24))
  {
    getMSMessageLiveLayoutClass_softClass = *(*(*(a1 + 32) + 8) + 24);
  }

  else
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMSMessageLiveLayoutClass(void)_block_invoke"];
    [v2 handleFailureInFunction:v3 file:@"PXMessagesSoftLinks.m" lineNumber:15 description:{@"Unable to find class %s", "MSMessageLiveLayout"}];

    __break(1u);
  }
}

void sub_1A51D4BB4(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A51D4FA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXImportIdentifierGenerator(void *a1, uint64_t a2)
{
  v3 = a1;
  v4 = objc_opt_new();
  v5 = [v3 uuid];

  [v4 setAssetUuid:v5];
  [v4 setSizeType:a2];

  return v4;
}

uint64_t _PUImageDynamicRangeFromPXImageDynamicRange(uint64_t a1)
{
  if ((a1 + 1) >= 4)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PUPhotosAssetDebugImageDynamicRange _PUImageDynamicRangeFromPXImageDynamicRange(PXImageDynamicRange)"];
    v5 = [MEMORY[0x1E696AD98] numberWithInteger:a1];
    [v3 handleFailureInFunction:v4 file:@"PXDisplayAssetView.m" lineNumber:36 description:{@"Unsupported case: %@", v5}];

    abort();
  }

  return a1 + 1;
}

void sub_1A51D86EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A51D8E3C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A51DC7E0(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 96), 8);
  _Block_object_dispose((v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1A51DF5C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _ConfigureSubtitleTextView(void *a1, void *a2, void *a3, void *a4, uint64_t a5, uint64_t a6)
{
  v14 = *MEMORY[0x1E69E9840];
  v11 = a1;
  v12 = a3;
  v13 = a2;
  _PhotoCollectionGlobalFooterSubtitleTextViewAttributes(a5, a6, a4);
}

void _PhotoCollectionGlobalFooterSubtitleTextViewAttributes(uint64_t a1, uint64_t a2, void *a3)
{
  v4 = *MEMORY[0x1E69E9840];
  v3 = a3;
  PXFontWithTextStyleSymbolicTraits();
}

void sub_1A51E307C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__244575(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

__CFString *PXVideoPlaybackReporterResultDescription(uint64_t a1)
{
  v1 = @"Playback Began";
  if (a1 == 2)
  {
    v1 = @"Playback Abandoned";
  }

  if (a1)
  {
    return v1;
  }

  else
  {
    return @"Unknown";
  }
}

id PXVideoPlaybackReporterPayloadDescription(void *a1)
{
  v2 = objc_alloc(MEMORY[0x1E696AEC0]);
  v3 = a1[2];
  if (v3 > 6)
  {
    v4 = @"??";
  }

  else
  {
    v4 = off_1E7743848[v3];
  }

  v5 = v4;
  v6 = v5;
  v7 = a1[3];
  v8 = @"Playback Began";
  if (v7 == 2)
  {
    v8 = @"Playback Abandoned";
  }

  if (v7)
  {
    v9 = v8;
  }

  else
  {
    v9 = @"Unknown";
  }

  v10 = [v2 initWithFormat:@"<PXVideoPlaybackReporterPayload: priority: %@, timeToAssetCreation: %ld, timeToResult: %ld, result: %@>", v5, a1[1], *a1, v9];

  return v10;
}

void sub_1A51E6620(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, id location)
{
  objc_destroyWeak((v27 + 32));
  objc_destroyWeak((v26 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXSharedLibrarySharingSuggestionsPhotosViewConfigurationWithSuggestionPromise(void *a1)
{
  v1 = a1;
  if (!v1)
  {
    v6 = [MEMORY[0x1E696AAA8] currentHandler];
    v7 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"PXPhotosViewConfiguration * _Nonnull PXSharedLibrarySharingSuggestionsPhotosViewConfigurationWithSuggestionPromise(PXSharedLibrarySharingSuggestionPromise *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7 file:@"PXSharedLibrarySharingSuggestionsFeedActionPerformer.m" lineNumber:41 description:{@"Invalid parameter not satisfying: %@", @"suggestionPromise"}];
  }

  v2 = [v1 fetchAssetCollections];
  v3 = [v1 containerCollection];
  v4 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v2, v3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
  _ConfigureCommonOptions(v4);

  return v4;
}

void _ConfigureCommonOptions(void *a1)
{
  v1 = a1;
  v4 = v1;
  if (!v1)
  {
    v2 = [MEMORY[0x1E696AAA8] currentHandler];
    v3 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void _ConfigureCommonOptions(PXPhotosViewConfiguration *__strong)"];
    [v2 handleFailureInFunction:v3 file:@"PXSharedLibrarySharingSuggestionsFeedActionPerformer.m" lineNumber:23 description:{@"Invalid parameter not satisfying: %@", @"configuration"}];

    v1 = 0;
  }

  [v4 setAllowedActions:{objc_msgSend(v1, "allowedActions") | 0x4000031}];
  [v4 setAllowedActions:{objc_msgSend(v4, "allowedActions") & 0xFFFFFFFFFEFFFFFFLL}];
  [v4 setAllowedBehaviors:{objc_msgSend(v4, "allowedBehaviors") | 0x20}];
  [v4 setOneUpPresentationOrigin:46];
  [v4 setSectionHeaderStyle:5];
}

id PXSharedLibrarySharingSuggestionsSeeAllPhotosViewConfiguration(void *a1, char a2)
{
  v3 = a1;
  if (!v3)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"PXPhotosViewConfiguration * _Nonnull PXSharedLibrarySharingSuggestionsSeeAllPhotosViewConfiguration(PHPhotoLibrary *__strong _Nonnull, BOOL)"}];
    [v8 handleFailureInFunction:v9 file:@"PXSharedLibrarySharingSuggestionsFeedActionPerformer.m" lineNumber:49 description:{@"Invalid parameter not satisfying: %@", @"photoLibrary"}];
  }

  v4 = [v3 librarySpecificFetchOptions];
  [v4 setIncludeSharedLibrarySharingSuggestionsSmartAlbum:1];
  v5 = [MEMORY[0x1E6978650] fetchAssetCollectionsWithType:2 subtype:1000000214 options:v4];
  v6 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v5, 0, 0, 0, 0, 0, 0, 0, 0, a2, 0, 0);
  [v6 setTitle:&stru_1F1741150];
  [v6 setIgnoreFilterPredicateAssert:1];
  _ConfigureCommonOptions(v6);

  return v6;
}

void sub_1A51EB7C8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va1, a10);
  va_start(va, a10);
  v13 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  objc_destroyWeak((v10 + 56));
  _Block_object_dispose(va1, 8);
  objc_destroyWeak((v11 - 88));
  _Unwind_Resume(a1);
}

uint64_t PXContentSyndicationReviewDecorationEligibilityForAssetReference(void *a1)
{
  v1 = a1;
  v2 = +[PXContentSyndicationSettings sharedInstance];
  v3 = [v2 useRandomStatusForReview];

  if (v3)
  {
    v4 = arc4random_uniform(9u);
  }

  else
  {
    v5 = [v1 asset];
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) != 0 && (v6 = [v5 syndicationEligibility], (v6 + 6) <= 8))
    {
      v4 = qword_1A5383810[v6 + 6];
    }

    else
    {
      v4 = 0;
    }
  }

  return v4;
}

uint64_t PXExternalAssetReviewDecorationEligibilityForAssetReference(void *a1)
{
  v1 = [a1 asset];
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) != 0 && (v2 = [MEMORY[0x1E69C1550] externalAssetEligibilityForAsset:v1], (v2 + 4) <= 6))
  {
    v3 = qword_1A5383858[v2 + 4];
  }

  else
  {
    v3 = 0;
  }

  return v3;
}

id PXContentSyndicationReviewDecorationImageForSyndicationEligibility(uint64_t a1)
{
  v2 = 0;
  if (a1 <= 4)
  {
    if (a1 <= 1)
    {
      if (a1)
      {
        if (a1 != 1)
        {
          goto LABEL_39;
        }

        if (_ResourcesUnavailableImage_predicate != -1)
        {
          dispatch_once(&_ResourcesUnavailableImage_predicate, &__block_literal_global_42_246125);
        }

        v3 = &_ResourcesUnavailableImage__image;
      }

      else
      {
        if (_UnknownImage_predicate != -1)
        {
          dispatch_once(&_UnknownImage_predicate, &__block_literal_global_246124);
        }

        v3 = &_UnknownImage__image;
      }
    }

    else if (a1 == 2)
    {
      if (_SyndicationStateIncompatible_predicate != -1)
      {
        dispatch_once(&_SyndicationStateIncompatible_predicate, &__block_literal_global_47_246126);
      }

      v3 = &_SyndicationStateIncompatible__image;
    }

    else if (a1 == 3)
    {
      if (_NotProcessedImage_predicate != -1)
      {
        dispatch_once(&_NotProcessedImage_predicate, &__block_literal_global_52_246127);
      }

      v3 = &_NotProcessedImage__image;
    }

    else
    {
      if (_NotComputedImage_predicate != -1)
      {
        dispatch_once(&_NotComputedImage_predicate, &__block_literal_global_57);
      }

      v3 = &_NotComputedImage__image;
    }

    goto LABEL_38;
  }

  if (a1 <= 6)
  {
    if (a1 == 5)
    {
      if (_NotInferredImage_predicate != -1)
      {
        dispatch_once(&_NotInferredImage_predicate, &__block_literal_global_62);
      }

      v3 = &_NotInferredImage__image;
    }

    else
    {
      if (_NotEligibleImage_predicate != -1)
      {
        dispatch_once(&_NotEligibleImage_predicate, &__block_literal_global_67);
      }

      v3 = &_NotEligibleImage__image;
    }

    goto LABEL_38;
  }

  switch(a1)
  {
    case 7:
      if (_EligibleImage_predicate != -1)
      {
        dispatch_once(&_EligibleImage_predicate, &__block_literal_global_72);
      }

      v3 = &_EligibleImage__image;
      goto LABEL_38;
    case 8:
      if (_GuestImage_predicate != -1)
      {
        dispatch_once(&_GuestImage_predicate, &__block_literal_global_77);
      }

      v3 = &_GuestImage__image;
LABEL_38:
      v2 = *v3;
      break;
    case 9:
      v5 = [MEMORY[0x1E696AAA8] currentHandler];
      v6 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"UIImage * _Nonnull PXContentSyndicationReviewDecorationImageForSyndicationEligibility(PXContentSyndicationReviewDecorationEligibility)"];
      [v5 handleFailureInFunction:v6 file:@"PXContentSyndicationReviewDecorationUtilities.m" lineNumber:245 description:@"Code which should be unreachable has been reached"];

      abort();
  }

LABEL_39:

  return v2;
}

id _ImageWithSymbolName(uint64_t a1, void *a2)
{
  v3 = MEMORY[0x1E69DCAB8];
  v4 = a2;
  v5 = [v3 systemImageNamed:a1];
  v6 = [MEMORY[0x1E69DC888] whiteColor];
  v7 = [v5 px_tintedCircularImageWithColor:v6 backgroundColor:v4];

  return v7;
}

double PXContentSyndicationReviewDecorationImageFrameForViewBounds(int a1, double a2, double a3, double a4, double a5)
{
  if (a4 >= a5)
  {
    v5 = a5;
  }

  else
  {
    v5 = a4;
  }

  v6 = v5 * 0.2;
  v7 = v5 * 0.05;
  v8 = a4 - v5 * 0.05 - v5 * 0.2;
  if (!a1)
  {
    v8 = v7;
  }

  v9 = v6;
  *&result = CGRectIntegral(*&v8);
  return result;
}

id PXStoryDiagnosticDescriptionForAllHUDTypes(void *a1, uint64_t a2)
{
  v3 = a1;
  v4 = +[PXStorySettings sharedInstance];
  v14 = [v4 useVerboseStyleHUDText];
  v15 = v4;
  [v4 setUseVerboseStyleHUDText:a2];
  v5 = objc_alloc_init(MEMORY[0x1E696AD60]);
  v6 = -1;
  do
  {
    v7 = v6 + 1;
    v8 = [v3 diagnosticHUDContentProviderForType:v6 + 1];
    v9 = [v8 diagnosticTextForHUDType:v6 + 1 displaySize:{1920.0, 1080.0}];

    if (v9)
    {
      v10 = @"None";
      if (v6 <= 0x12)
      {
        v10 = off_1E77401C0[v6];
      }

      v11 = v10;
      [v5 appendFormat:@"=== %@ ===\n", v11];

      [v5 appendString:v9];
      [v5 appendString:@"\n\n"];
    }

    ++v6;
  }

  while (v7 != 19);
  [v15 setUseVerboseStyleHUDText:v14];
  v12 = [v5 copy];

  return v12;
}

void PXSharedLibraryLinkMetadataDataRepresentationForInvitationURL(void *a1, void *a2)
{
  v3 = a1;
  v4 = a2;
  v5 = v3;
  v6 = v4;
  if (!v5)
  {
    v8 = [MEMORY[0x1E696AAA8] currentHandler];
    v9 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"LPLinkMetadata *_LinkMetadataForInvitationURL(NSURL *__strong, NSString *__strong)"}];
    [v8 handleFailureInFunction:v9 file:@"PXSharedLibraryComposeMessageActionPerformer.m" lineNumber:22 description:{@"Invalid parameter not satisfying: %@", @"invitationURL"}];
  }

  if (![v6 length])
  {
    v10 = [MEMORY[0x1E696AAA8] currentHandler];
    v11 = [MEMORY[0x1E696AEC0] stringWithUTF8String:{"LPLinkMetadata *_LinkMetadataForInvitationURL(NSURL *__strong, NSString *__strong)"}];
    [v10 handleFailureInFunction:v11 file:@"PXSharedLibraryComposeMessageActionPerformer.m" lineNumber:23 description:{@"Invalid parameter not satisfying: %@", @"displayName.length"}];
  }

  v7 = objc_alloc_init(MEMORY[0x1E696EC20]);
  PXLocalizedSharedLibraryString(@"PXSharedLibraryInvitationMessage");
  objc_claimAutoreleasedReturnValue();
  PXLocalizedStringWithValidatedFormat();
}

void sub_1A51EF72C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A51EFA38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A51EFDE4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXPhotoKitLocalizedTitleForEmptyCollectionListFetchResult(void *a1, char a2)
{
  v3 = a1;
  v4 = [v3 firstObject];
  v5 = [v3 count];

  if (v5 == 1)
  {
    if ([v4 canContainAssets])
    {
      v6 = v4;
    }

    else
    {
      v6 = 0;
    }
  }

  else
  {
    v6 = 0;
  }

  v7 = v6;
  if (v4)
  {
    v8 = [v4 photoLibrary];
    v9 = [PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v8];

    v10 = _libraryViewMode(v9);
    v11 = [v9 hasSharedLibraryOrPreview];

    v12 = v10 != 0;
    v13 = v11;
  }

  else
  {
    v13 = 0;
    v12 = 0;
  }

  if ([v7 assetCollectionSubtype] == 100)
  {
    v14 = @"EMPTY_MY_PHOTO_STREAM_TITLE";
  }

  else
  {
    v15 = [v7 assetCollectionSubtype];
    v16 = v15 == 211;
    if (v15 == 211)
    {
      v14 = @"EMPTY_SMART_COLLECTION_SCREENSHOTS_TITLE";
    }

    else
    {
      v14 = @"EMPTY_FOLDER_TITLE";
    }

    if (!v16 && (a2 & 1) == 0)
    {
      if (_IsFilteredDuplicatesAlbum(v4, v12, v13))
      {
        v14 = @"DUPLICATES_ALBUM_NOT_AVAILABLE_TITLE";
      }

      else
      {
        v14 = @"NO_PHOTOS_OR_VIDEOS";
      }
    }
  }

  v17 = PXLocalizedStringFromTable(v14, @"PhotosUICore");

  return v17;
}

void *_libraryViewMode(void *result)
{
  if (result)
  {
    v1 = result;
    v2 = [[PXLibraryFilterState alloc] initWithSharedLibraryStatusProvider:v1];

    v3 = [(PXLibraryFilterState *)v2 viewMode];
    return v3;
  }

  return result;
}

uint64_t _IsFilteredDuplicatesAlbum(void *a1, unsigned int a2, uint64_t a3)
{
  v5 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v6 = [v5 assetCollectionSubtype];
    if (a3)
    {
      v7 = a2;
    }

    else
    {
      v7 = 0;
    }

    if (v6 == 1000000601)
    {
      v8 = v7;
    }

    else
    {
      v8 = 0;
    }
  }

  else
  {
    v8 = 0;
  }

  return v8;
}

id _PXEmptyPlaceholderMessageAttributes()
{
  v11[3] = *MEMORY[0x1E69E9840];
  v0 = [MEMORY[0x1E69DC8C8] emptyConfiguration];
  v1 = [MEMORY[0x1E69DC888] lightGrayColor];
  v2 = [v0 secondaryTextProperties];
  [v2 setColor:v1];

  v3 = [v0 secondaryTextProperties];
  v4 = [MEMORY[0x1E69DB7D0] defaultParagraphStyle];
  v5 = [v4 mutableCopy];

  [v5 setAlignment:1];
  [v5 setLineBreakMode:{objc_msgSend(v3, "lineBreakMode")}];
  v10[0] = *MEMORY[0x1E69DB648];
  v6 = [v3 font];
  v11[0] = v6;
  v10[1] = *MEMORY[0x1E69DB650];
  v7 = [v3 color];
  v10[2] = *MEMORY[0x1E69DB688];
  v11[1] = v7;
  v11[2] = v5;
  v8 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v11 forKeys:v10 count:3];

  return v8;
}

id _PXEmptyPlaceholderAttributedMessageFromString(void *a1)
{
  v1 = MEMORY[0x1E696AAB0];
  v2 = a1;
  v3 = [v1 alloc];
  v4 = _PXEmptyPlaceholderMessageAttributes();
  v5 = [v3 initWithString:v2 attributes:v4];

  return v5;
}

id PXPhotoKitLocalizedMessageForEmptyCollectionListFetchResult(void *a1, int a2)
{
  v3 = a1;
  v4 = [v3 firstObject];
  if ([v3 count] == 1)
  {
    if ([v4 canContainAssets])
    {
      v5 = v4;
    }

    else
    {
      v5 = 0;
    }
  }

  else
  {
    v5 = 0;
  }

  v6 = v5;
  v7 = [v6 assetCollectionSubtype];
  if (v4)
  {
    v8 = [v4 photoLibrary];
    v9 = [PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v8];
    v10 = [v9 hasSharedLibraryOrPreview];
    v11 = _libraryViewMode(v9);

    if (v8)
    {
      goto LABEL_11;
    }
  }

  else
  {
    v10 = 0;
    v11 = 0;
  }

  v8 = [v3 photoLibrary];
LABEL_11:
  if (v7 == 100)
  {
    if (MGGetBoolAnswer())
    {
      v12 = @"EMPTY_MY_PHOTO_STREAM_MESSAGE_WLAN";
    }

    else
    {
      v12 = @"EMPTY_MY_PHOTO_STREAM_MESSAGE_WIFI";
    }

    goto LABEL_17;
  }

  if (a2)
  {
    v12 = @"EMPTY_FOLDER_MESSAGE";
LABEL_17:
    v13 = PXLocalizedStringFromTable(v12, @"PhotosUICore");
    v14 = _PXEmptyPlaceholderAttributedMessageFromString(v13);
    goto LABEL_18;
  }

  if ((PFIsSpotlight() & 1) != 0 || !v8 || ([v8 isCloudPhotoLibraryEnabled] & 1) != 0 || v7 == 1000000201)
  {
    if (_IsFilteredDuplicatesAlbum(v4, v10, v11))
    {
      v21 = _PXEmptyPlaceholderMessageAttributes();
      v14 = PXSharedLibraryDuplicatesAlbumNotAvailableMessageForViewMode(v11, v21);

      v13 = 0;
    }

    else
    {
      v13 = &stru_1F1741150;
      v14 = _PXEmptyPlaceholderAttributedMessageFromString(&stru_1F1741150);
      if (((v7 != 101) & v10) == 1 && v11)
      {
        v22 = _PXEmptyPlaceholderMessageAttributes();
        v23 = PXSharedLibraryEmptyAlbumMessageForViewMode(v11, v22);

        v14 = v23;
      }
    }
  }

  else
  {
    v16 = MGGetBoolAnswer();
    v17 = [MEMORY[0x1E69DC938] currentDevice];
    v18 = [v17 model];

    if (v16)
    {
      v19 = @"EMPTY_ALBUM_LIST_MESSAGE_";
    }

    else
    {
      v19 = @"EMPTY_ALBUM_LIST_NO_CAMERA_MESSAGE_";
    }

    v20 = [(__CFString *)v19 stringByAppendingString:v18];
    v13 = PXLocalizedStringFromTable(v20, @"PhotosUICore");
    v14 = _PXEmptyPlaceholderAttributedMessageFromString(v13);
  }

LABEL_18:

  return v14;
}

id PXPhotoKitLocalizedMessageForEmptyContainerCollection(void *a1)
{
  if (_IsInProgressDuplicatesAlbum(a1))
  {
    v1 = PXLocalizationKeyByAddingDeviceModelSuffix(@"DUPLICATES_EMPTY_PROCESSING_DESCRIPTION_");
    v2 = PXLocalizedStringFromTable(v1, @"PhotosUICore");

    v3 = _PXEmptyPlaceholderAttributedMessageFromString(v2);
  }

  else
  {
    v3 = 0;
  }

  return v3;
}

uint64_t _IsInProgressDuplicatesAlbum(void *a1)
{
  v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v2 = v1;
    v3 = [v2 photoLibrary];
    v4 = [v3 isInitialDuplicateDetectorProcessingCompleted];
    v5 = [v2 assetCollectionSubtype];

    v6 = (v5 == 1000000212) & (v4 ^ 1u);
  }

  else
  {
    v6 = 0;
  }

  return v6;
}

id PXPhotoKitLocalizedTitleForEmptyContainerCollection(void *a1)
{
  if (_IsInProgressDuplicatesAlbum(a1))
  {
    v1 = PXLocalizedStringFromTable(@"DUPLICATES_ALBUM_PROCESSING_TITLE", @"PhotosUICore");
  }

  else
  {
    v1 = 0;
  }

  return v1;
}

id PXPhotoKitLocalizedMessageForRecentlyDeletedDaysRemainingAsset(void *a1, BOOL *a2)
{
  v3 = [a1 trashedDate];
  if (v3)
  {
    v4 = [MEMORY[0x1E695DEE8] currentCalendar];
    [MEMORY[0x1E695DF00] dateWithTimeIntervalSinceNow:-*MEMORY[0x1E69BEA08]];
    [v4 components:48 fromDate:objc_claimAutoreleasedReturnValue() toDate:v3 options:0];
    v5 = [objc_claimAutoreleasedReturnValue() day];
    if (a2)
    {
      *a2 = v5 < 4;
    }

    v6 = @"RECENTLY_DELETED_DAYS_REMAINING_BANNER";
    if (v5 < 1)
    {
      v6 = @"RECENTLY_DELETED_LESS_THAN_DAYS_REMAINING_BANNER";
    }

    PXLocalizedStringFromTable(v6, @"PhotosUICore");
    objc_claimAutoreleasedReturnValue();
    PXLocalizedStringWithValidatedFormat();
  }

  return 0;
}

uint64_t PXSurveyQuestionIsAppleInternal()
{
  v0 = +[PXForYouSettings sharedInstance];
  v1 = [v0 showSurveyQuestionsWithProfile];

  return v1 ^ 1u;
}

PXRadarConfiguration *PXSurveyQuestionRadarConfiguration(void *a1, void *a2)
{
  v3 = a2;
  v4 = a1;
  v5 = objc_alloc_init(PXRadarConfiguration);
  [(PXRadarConfiguration *)v5 setComponent:3];
  [(PXRadarConfiguration *)v5 setClassification:10];
  [(PXRadarConfiguration *)v5 setTitle:v4];

  v6 = [CFSTR(""I agree that Apple and its strategic partners may use adapt];
  [(PXRadarConfiguration *)v5 setDescription:v6];

  [(PXRadarConfiguration *)v5 setKeywordIDs:v3];
  [(PXRadarConfiguration *)v5 setWantsSystemDiagnostics:0];
  [(PXRadarConfiguration *)v5 setWantsPhotosDiagnostics:1];

  return v5;
}

void PXGenerateSurveyQuestionsWithOptions(uint64_t a1, uint64_t a2, void *a3, void *a4)
{
  v27[2] = *MEMORY[0x1E69E9840];
  v7 = a3;
  v8 = a4;
  v19[0] = MEMORY[0x1E69E9820];
  v19[1] = 3221225472;
  v19[2] = __PXGenerateSurveyQuestionsWithOptions_block_invoke;
  v19[3] = &unk_1E774BD88;
  v20 = v7;
  v21 = v8;
  v9 = v19;
  v10 = v7;
  v11 = v8;
  v12 = PLUIGetLog();
  if (os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
  {
    v13 = PHQuestionOptionsDebugDescription();
    *buf = 134218242;
    *&buf[4] = a2;
    *&buf[12] = 2114;
    *&buf[14] = v13;
    _os_log_impl(&dword_1A3C1C000, v12, OS_LOG_TYPE_DEFAULT, "Will try to generate %lu questions for options: %{public}@", buf, 0x16u);
  }

  v26[0] = *MEMORY[0x1E69BEB30];
  v14 = [MEMORY[0x1E696AD98] numberWithInteger:a1];
  v27[0] = v14;
  v26[1] = *MEMORY[0x1E69BEB20];
  v15 = [MEMORY[0x1E696AD98] numberWithUnsignedInteger:a2];
  v27[1] = v15;
  v16 = [MEMORY[0x1E695DF20] dictionaryWithObjects:v27 forKeys:v26 count:2];

  v17 = [MEMORY[0x1E69789A8] px_systemPhotoLibrary];
  v18 = [v17 photoAnalysisClient];
  *buf = MEMORY[0x1E69E9820];
  *&buf[8] = 3221225472;
  *&buf[16] = ___GenerateSurveyQuestionsWithOptions_block_invoke;
  v23 = &unk_1E774A968;
  v24 = v9;
  v25 = a1;
  [v18 requestGenerateQuestionsWithOptions:v16 reply:buf];
}

void __PXGenerateSurveyQuestionsWithOptions_block_invoke(uint64_t a1, int a2, void *a3)
{
  v5 = a3;
  v6 = v5;
  if (a2)
  {
    v7 = *(a1 + 40);
    if (v7)
    {
      (*(v7 + 16))(v7, 1, 0);
    }
  }

  else
  {
    v8 = [v5 code] - 27;
    v9 = PXLocalizedStringFromTable(@"PXForYouPhotosChallengePlaceholderFailureAlertTitle", @"PhotosUICore");
    if (v8 >= 0xA)
    {
      v19 = PXLocalizedStringFromTable(@"PXForYouPhotosChallengePlaceholderFailureAlertMessage", @"PhotosUICore");
      v29[0] = MEMORY[0x1E69E9820];
      v29[1] = 3221225472;
      v29[2] = __PXGenerateSurveyQuestionsWithOptions_block_invoke_2;
      v29[3] = &unk_1E774C2F0;
      v17 = &v31;
      v23 = *(a1 + 32);
      v31 = *(a1 + 40);
      v18 = &v30;
      v30 = v6;
      PXPresentFailureWithLocalizedTitle(v9, v19, 0, v30, v23, v29);
    }

    else
    {
      v10 = PXLocalizedStringFromTable(@"PXForYouPhotosChallengePlaceholderFailureAlertMessageGraph", @"PhotosUICore");
      v11 = +[PXRootSettings sharedInstance];
      v12 = [v11 canShowInternalUI];

      if (v12)
      {
        v13 = MEMORY[0x1E696AEC0];
        v14 = [v6 localizedDescription];
        v15 = [v13 stringWithFormat:@"%@\n\nINTERNAL ONLY:\n%@", v10, v14];

        v10 = v15;
      }

      v16 = *(a1 + 32);
      v24[0] = MEMORY[0x1E69E9820];
      v24[1] = 3221225472;
      v24[2] = __PXGenerateSurveyQuestionsWithOptions_block_invoke_3;
      v24[3] = &unk_1E774A918;
      v17 = &v25;
      v25 = v9;
      v18 = &v26;
      v19 = v10;
      v26 = v19;
      v28 = *(a1 + 40);
      v20 = v6;
      v27 = v20;
      v21 = [v16 presentAlertWithConfigurationHandler:v24];
      if (!v21)
      {
        v22 = *(a1 + 40);
        if (v22)
        {
          (*(v22 + 16))(v22, 0, v20);
        }
      }
    }
  }
}

uint64_t __PXGenerateSurveyQuestionsWithOptions_block_invoke_2(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

void __PXGenerateSurveyQuestionsWithOptions_block_invoke_3(uint64_t a1, void *a2)
{
  v3 = *(a1 + 32);
  v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(a1 + 40)];
  v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v6[0] = MEMORY[0x1E69E9820];
  v6[1] = 3221225472;
  v6[2] = __PXGenerateSurveyQuestionsWithOptions_block_invoke_4;
  v6[3] = &unk_1E774C2F0;
  v8 = *(a1 + 56);
  v7 = *(a1 + 48);
  [v4 addActionWithTitle:v5 style:0 action:v6];
}

uint64_t __PXGenerateSurveyQuestionsWithOptions_block_invoke_4(uint64_t a1)
{
  result = *(a1 + 40);
  if (result)
  {
    return (*(result + 16))(result, 0, *(a1 + 32));
  }

  return result;
}

void sub_1A51F738C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, id location)
{
  objc_destroyWeak((v29 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXDisplayMomentShareTypeDescription(uint64_t a1)
{
  v1 = @"receiver";
  if (a1 != 1)
  {
    v1 = 0;
  }

  if (a1)
  {
    return v1;
  }

  else
  {
    return @"sender";
  }
}

id PXStoryDisplayAssetUUIDsFromFetchResult(void *a1)
{
  v1 = a1;
  v2 = [v1 count];
  if (v2)
  {
    v3 = [objc_alloc(MEMORY[0x1E695DFA8]) initWithCapacity:v2];
    if (v2 >= 1)
    {
      for (i = 0; i != v2; ++i)
      {
        v5 = [v1 objectAtIndexedSubscript:i];
        v6 = [v5 uuid];
        if (!v6)
        {
          v9 = [MEMORY[0x1E696AAA8] currentHandler];
          v8 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"NSSet<NSString *> * _Nullable PXStoryDisplayAssetUUIDsFromFetchResult(__strong id<PXDisplayAssetFetchResult> _Nullable)"];
          [v9 handleFailureInFunction:v8 file:@"PXDisplayAssetFetchResult+PXStory.m" lineNumber:23 description:{@"missing UUID for %@", v5}];
        }

        [v3 addObject:v6];
      }
    }

    v2 = [v3 copy];
  }

  return v2;
}

void sub_1A51FEE2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, char a27)
{
  _Block_object_dispose((v27 - 160), 8);
  _Block_object_dispose(&a27, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__248457(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A51FF624(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, char a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, char a43)
{
  _Block_object_dispose(&a37, 8);
  _Block_object_dispose(&a43, 8);
  _Unwind_Resume(a1);
}

void sub_1A51FFA64(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v17 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1A5200538(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A52016F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29)
{
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((v29 - 192), 8);
  _Unwind_Resume(a1);
}

void sub_1A5202744(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v11 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1A5202E6C(_Unwind_Exception *a1)
{
  objc_destroyWeak((v4 + 32));
  objc_destroyWeak((v3 + 32));
  objc_destroyWeak((v2 + 32));
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v5 - 88));
  _Unwind_Resume(a1);
}

id _PXInfoMenuElementFocusViewColor()
{
  if (_PXInfoMenuElementFocusViewColor_onceToken != -1)
  {
    dispatch_once(&_PXInfoMenuElementFocusViewColor_onceToken, &__block_literal_global_249332);
  }

  v1 = _PXInfoMenuElementFocusViewColor_color;

  return v1;
}

id _PXInfoMenuElementFocusColor()
{
  if (_PXInfoMenuElementFocusColor_onceToken != -1)
  {
    dispatch_once(&_PXInfoMenuElementFocusColor_onceToken, &__block_literal_global_51_249347);
  }

  v1 = _PXInfoMenuElementFocusColor_color;

  return v1;
}

id _PXInfoMenuElementSelectedBackgroundColor()
{
  if (_PXInfoMenuElementSelectedBackgroundColor_onceToken != -1)
  {
    dispatch_once(&_PXInfoMenuElementSelectedBackgroundColor_onceToken, &__block_literal_global_55_249342);
  }

  v1 = _PXInfoMenuElementSelectedBackgroundColor_color;

  return v1;
}

id _PXInfoMenuElementNormalColor()
{
  if (_PXInfoMenuElementNormalColor_onceToken != -1)
  {
    dispatch_once(&_PXInfoMenuElementNormalColor_onceToken, &__block_literal_global_47_249338);
  }

  v1 = _PXInfoMenuElementNormalColor_color;

  return v1;
}

void sub_1A5209160(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A520B3C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A520BAFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A520F274(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1A520F604(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak((v17 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A520FD68(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak((v15 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5210A60(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5210C44(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5210E84(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 40));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A5211090(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 56));
  _Unwind_Resume(a1);
}

id getMFMessageComposeViewControllerClass_250979()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getMFMessageComposeViewControllerClass_softClass_250993;
  v7 = getMFMessageComposeViewControllerClass_softClass_250993;
  if (!getMFMessageComposeViewControllerClass_softClass_250993)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getMFMessageComposeViewControllerClass_block_invoke_250994;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getMFMessageComposeViewControllerClass_block_invoke_250994(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A5212550(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMessageComposeViewControllerClass_block_invoke_250994(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_250995)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_250996;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E774B388;
    v8 = 0;
    MessageUILibraryCore_frameworkLibrary_250995 = _sl_dlopen();
  }

  if (!MessageUILibraryCore_frameworkLibrary_250995)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MessageUILibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXSharedLibraryComposeMessageActionPerformer+iOS.m" lineNumber:22 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("MFMessageComposeViewController");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMFMessageComposeViewControllerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXSharedLibraryComposeMessageActionPerformer+iOS.m" lineNumber:23 description:{@"Unable to find class %s", "MFMessageComposeViewController"}];

LABEL_10:
    __break(1u);
  }

  getMFMessageComposeViewControllerClass_softClass_250993 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_250996()
{
  result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_250995 = result;
  return result;
}

void sub_1A521451C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((v17 - 168), 8);
  _Block_object_dispose((v17 - 136), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__251461(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

uint64_t _StackItemIndexForSpriteIndexInLayout(uint64_t a1, void *a2, void *a3)
{
  v5 = a2;
  v6 = a3;
  v10 = -1;
  if (![v5 isSpriteIndex:a1 decoratingSpriteWithIndex:&v10] || (v7 = objc_msgSend(v5, "convertSpriteIndex:toDescendantLayout:", v10, v6), v7 == -1))
  {
    v8 = -1;
  }

  else
  {
    v8 = [v6 itemForSpriteIndex:v7];
  }

  return v8;
}

void sub_1A52174D0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 32));
  objc_destroyWeak((v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1A52185E0(_Unwind_Exception *a1)
{
  objc_destroyWeak((v1 + 40));
  objc_destroyWeak((v2 - 128));
  _Unwind_Resume(a1);
}

void sub_1A521A338(_Unwind_Exception *a1)
{
  _Block_object_dispose((v1 - 96), 8);
  _Block_object_dispose((v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1A521C0FC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak((v17 + 56));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A521FFF4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak((v16 + 48));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1A52231C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak((v14 + 32));
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXContentLockedPlaceholderConfiguration(uint64_t a1, unint64_t a2, int a3, void *a4)
{
  v21 = *MEMORY[0x1E69E9840];
  v7 = a4;
  v8 = [MEMORY[0x1E69DC8C8] emptyConfiguration];
  v9 = [MEMORY[0x1E69DCAB8] systemImageNamed:@"lock.fill"];
  [v8 setImage:v9];

  if (a1 == 1)
  {
    if (a2 > 7)
    {
      v10 = 0;
    }

    else
    {
      v10 = PXLocalizedStringFromTable(off_1E774BBD8[a2], @"PhotosUICore");
    }

    [v8 setText:v10];
    if (a3)
    {
      v11 = @"PXContentPrivacyAuthenticationRequiredUnlockButtonTitleAlbum";
LABEL_12:
      v12 = PXLocalizedStringFromTable(v11, @"PhotosUICore");
      v13 = [v8 buttonProperties];
      v14 = [v13 configuration];
      [v14 setTitle:v12];

      v10 = [v8 buttonProperties];
      [v10 setPrimaryAction:v7];
    }
  }

  else
  {
    if (a2 > 7)
    {
      v10 = 0;
    }

    else
    {
      v10 = PXLocalizedStringFromTable(off_1E774BC18[a2], @"PhotosUICore");
    }

    [v8 setText:v10];
    if (a3)
    {
      v11 = @"PXContentPrivacyAuthenticationRequiredUnlockButtonTitleGeneric";
      goto LABEL_12;
    }
  }

  v15 = PLContentPrivacyUIGetLog();
  if (os_log_type_enabled(v15, OS_LOG_TYPE_DEFAULT))
  {
    v16 = @"NO";
    if (a3)
    {
      v16 = @"YES";
    }

    v17 = v16;
    v19 = 138543362;
    v20 = v17;
    _os_log_impl(&dword_1A3C1C000, v15, OS_LOG_TYPE_DEFAULT, "Created content privacy placeholder configuration (show unlock button: %{public}@)", &v19, 0xCu);
  }

  return v8;
}

id getMFMailComposeViewControllerClass_255265()
{
  v4 = 0;
  v5 = &v4;
  v6 = 0x2050000000;
  v0 = getMFMailComposeViewControllerClass_softClass_255287;
  v7 = getMFMailComposeViewControllerClass_softClass_255287;
  if (!getMFMailComposeViewControllerClass_softClass_255287)
  {
    v3[0] = MEMORY[0x1E69E9820];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke_255288;
    v3[3] = &unk_1E774BD00;
    v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_255288(v3);
    v0 = v5[3];
  }

  v1 = v0;
  _Block_object_dispose(&v4, 8);

  return v1;
}

void sub_1A5228CEC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_255288(uint64_t a1)
{
  v9 = *MEMORY[0x1E69E9840];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_255289)
  {
    v6[1] = MEMORY[0x1E69E9820];
    v6[2] = 3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_255290;
    v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    v7 = xmmword_1E774BD20;
    v8 = 0;
    MessageUILibraryCore_frameworkLibrary_255289 = _sl_dlopen();
  }

  if (!MessageUILibraryCore_frameworkLibrary_255289)
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v4 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"void *MessageUILibrary(void)"];
    [v3 handleFailureInFunction:v4 file:@"PXCMMDebugSharingSuggestionViewController.m" lineNumber:28 description:{@"%s", v6[0]}];

    goto LABEL_10;
  }

  if (v6[0])
  {
    free(v6[0]);
  }

  result = objc_getClass("MFMailComposeViewController");
  *(*(*(a1 + 32) + 8) + 24) = result;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    v3 = [MEMORY[0x1E696AAA8] currentHandler];
    v5 = [MEMORY[0x1E696AEC0] stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    [v3 handleFailureInFunction:v5 file:@"PXCMMDebugSharingSuggestionViewController.m" lineNumber:29 description:{@"Unable to find class %s", "MFMailComposeViewController"}];

LABEL_10:
    __break(1u);
  }

  getMFMailComposeViewControllerClass_softClass_255287 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_255290()
{
  result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_255289 = result;
  return result;
}

void sub_1A522D7FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__256372(uint64_t result, uint64_t a2)
{
  *(result + 40) = *(a2 + 40);
  *(a2 + 40) = 0;
  return result;
}

void sub_1A522E2A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A5231AF0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1A5231C58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void _Dismiss(void *a1, void *a2, void *a3)
{
  v6 = a1;
  v5 = a3;
  [a2 setUserInteractionEnabled:1];
  if (v6)
  {
    [v6 dismissViewControllerAnimated:1 completion:v5];
  }

  else if (v5)
  {
    v5[2](v5);
  }
}

void sub_1A52391EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXPhotosDetailsViewSourceOriginDescription(unint64_t a1)
{
  if (a1 > 0xD)
  {
    return @"Unknown";
  }

  else
  {
    return off_1E774C470[a1];
  }
}

double VKMClamp(double a1, double a2, double a3)
{
  if (a1 >= a2)
  {
    a2 = a1;
    if (a1 > a3)
    {
      return a3;
    }
  }

  return a2;
}

void sub_1A52416D4()
{
    ;
  }
}

void sub_1A52416E4()
{
    ;
  }
}

void sub_1A52416F4()
{
    ;
  }
}

void sub_1A5245694()
{
    ;
  }
}

void sub_1A52456A4()
{
    ;
  }
}

void sub_1A52456B4()
{
    ;
  }
}

void sub_1A52456C4()
{
    ;
  }
}

void sub_1A52456D4()
{
    ;
  }
}

void sub_1A52456E4()
{
    ;
  }
}

void sub_1A52456F4()
{
    ;
  }
}

void sub_1A5245704()
{
    ;
  }
}

void sub_1A5245714()
{
    ;
  }
}

void sub_1A5245724()
{
    ;
  }
}

void sub_1A5245734()
{
    ;
  }
}

void sub_1A5245744()
{
    ;
  }
}

void sub_1A5245754()
{
    ;
  }
}

void sub_1A5245764()
{
    ;
  }
}

void sub_1A5245784()
{
    ;
  }
}

void sub_1A5245794()
{
    ;
  }
}

void sub_1A52457C4()
{
    ;
  }
}

void sub_1A52457D4()
{
    ;
  }
}

void sub_1A52457E4()
{
    ;
  }
}

void sub_1A52457F4()
{
    ;
  }
}

void sub_1A5245804()
{
    ;
  }
}

void sub_1A5245814()
{
    ;
  }
}

void sub_1A5245824()
{
    ;
  }
}

void sub_1A5245834()
{
    ;
  }
}

void sub_1A5245844()
{
    ;
  }
}

void sub_1A5245854()
{
    ;
  }
}

void sub_1A5245864()
{
    ;
  }
}

void sub_1A5245874()
{
    ;
  }
}

void sub_1A5245884()
{
    ;
  }
}

void sub_1A5245894()
{
    ;
  }
}

void sub_1A52458A4()
{
    ;
  }
}

void sub_1A52458B4()
{
    ;
  }
}

void sub_1A52458C4()
{
    ;
  }
}

void sub_1A52458D4()
{
    ;
  }
}

void sub_1A52458E4()
{
    ;
  }
}

void sub_1A52458F4()
{
    ;
  }
}

void sub_1A5245904()
{
    ;
  }
}

void sub_1A5245914()
{
    ;
  }
}

void sub_1A5245924()
{
    ;
  }
}

void sub_1A5245934()
{
    ;
  }
}

void sub_1A5245954()
{
    ;
  }
}

void sub_1A5245974()
{
    ;
  }
}

void sub_1A5245984()
{
    ;
  }
}

void sub_1A5245994()
{
    ;
  }
}

void sub_1A52459A4()
{
    ;
  }
}

void sub_1A52459B4()
{
    ;
  }
}

void sub_1A52459C4()
{
    ;
  }
}

void sub_1A52459D4()
{
    ;
  }
}

void sub_1A52459E4()
{
    ;
  }
}

void sub_1A52459F4()
{
    ;
  }
}

void sub_1A5245A04()
{
    ;
  }
}

void sub_1A5245A14()
{
    ;
  }
}

void sub_1A5245A24()
{
    ;
  }
}

void sub_1A5245A34()
{
    ;
  }
}

void sub_1A5245A44()
{
    ;
  }
}

void sub_1A5245A54()
{
    ;
  }
}

void sub_1A5245A64()
{
    ;
  }
}

void sub_1A5245A74()
{
    ;
  }
}

void sub_1A5245A84()
{
    ;
  }
}

void sub_1A5245A94()
{
    ;
  }
}

void sub_1A5245AA4()
{
    ;
  }
}

void sub_1A5245AB4()
{
    ;
  }
}

void sub_1A5245AC4()
{
    ;
  }
}

void sub_1A5245AD4()
{
    ;
  }
}

void sub_1A5245AE4()
{
    ;
  }
}

void sub_1A5245B04()
{
    ;
  }
}

void sub_1A5245B24()
{
    ;
  }
}

void sub_1A5245B44()
{
    ;
  }
}

void sub_1A5245B54()
{
    ;
  }
}

void sub_1A5245B64()
{
    ;
  }
}

void sub_1A5245B74()
{
    ;
  }
}

void sub_1A5245B84()
{
    ;
  }
}

void sub_1A5245B94()
{
    ;
  }
}

void sub_1A5245BA4()
{
    ;
  }
}

void sub_1A5245BB4()
{
    ;
  }
}

void sub_1A5245BC4()
{
    ;
  }
}

void sub_1A5245BD4()
{
    ;
  }
}

void sub_1A5245BE4()
{
    ;
  }
}

void sub_1A5245BF4()
{
    ;
  }
}

void sub_1A5245C04()
{
    ;
  }
}

void sub_1A5245C14()
{
    ;
  }
}

void sub_1A5245C24()
{
    ;
  }
}

void sub_1A5245C34()
{
    ;
  }
}

void sub_1A5245C44()
{
    ;
  }
}

void sub_1A5245C54()
{
    ;
  }
}

void sub_1A5245C64()
{
    ;
  }
}

void sub_1A5245C74()
{
    ;
  }
}

void sub_1A5245C84()
{
    ;
  }
}

void sub_1A5245C94()
{
    ;
  }
}

void sub_1A5245CA4()
{
    ;
  }
}

void sub_1A5245CB4()
{
    ;
  }
}

void sub_1A5245CC4()
{
    ;
  }
}

void sub_1A5245CD4()
{
    ;
  }
}

void sub_1A5245CE4()
{
    ;
  }
}

void sub_1A5245CF4()
{
    ;
  }
}

void sub_1A5245D04()
{
    ;
  }
}

void sub_1A5245D14()
{
    ;
  }
}

void sub_1A5245D24()
{
    ;
  }
}

void sub_1A5245D34()
{
    ;
  }
}

void sub_1A5245D44()
{
    ;
  }
}

void sub_1A5245D54()
{
    ;
  }
}

void sub_1A5245D64()
{
    ;
  }
}

void sub_1A5245D74()
{
    ;
  }
}

void sub_1A5245D84()
{
    ;
  }
}

void sub_1A5245D94()
{
    ;
  }
}

void sub_1A5245DA4()
{
    ;
  }
}

void sub_1A5245DB4()
{
    ;
  }
}

void sub_1A5245DC4()
{
    ;
  }
}

void sub_1A5245DD4()
{
    ;
  }
}

void sub_1A5245DE4()
{
    ;
  }
}

void sub_1A5245DF4()
{
    ;
  }
}

void sub_1A5245E04()
{
    ;
  }
}

void sub_1A5245E14()
{
    ;
  }
}

void sub_1A5245E24()
{
    ;
  }
}

void sub_1A5245E34()
{
    ;
  }
}

void sub_1A5245E44()
{
    ;
  }
}

void sub_1A5245E54()
{
    ;
  }
}

void sub_1A5245E64()
{
    ;
  }
}

void sub_1A5245E74()
{
    ;
  }
}

void sub_1A5245E84()
{
    ;
  }
}

void sub_1A5245E94()
{
    ;
  }
}

void sub_1A5245EB4()
{
    ;
  }
}

void sub_1A5245EC4()
{
    ;
  }
}

void sub_1A5245ED4()
{
    ;
  }
}

void sub_1A5245EE4()
{
    ;
  }
}

void sub_1A5245EF4()
{
    ;
  }
}

void sub_1A5245F04()
{
    ;
  }
}

void sub_1A5245F14()
{
    ;
  }
}

void sub_1A5245F24()
{
    ;
  }
}

void sub_1A5245F34()
{
    ;
  }
}

void sub_1A5245F44()
{
    ;
  }
}

void sub_1A5245F54()
{
    ;
  }
}

void sub_1A5245F64()
{
    ;
  }
}

void sub_1A5245F74()
{
    ;
  }
}

void sub_1A5245F84()
{
    ;
  }
}

void sub_1A5245F94()
{
    ;
  }
}

void sub_1A5245FA4()
{
    ;
  }
}

void sub_1A5245FB4()
{
    ;
  }
}

void sub_1A5245FC4()
{
    ;
  }
}

void sub_1A5245FD4()
{
    ;
  }
}

void sub_1A5245FE4()
{
    ;
  }
}

void sub_1A5245FF4()
{
    ;
  }
}

void sub_1A5246004()
{
    ;
  }
}

void sub_1A5246014()
{
    ;
  }
}

void sub_1A5246024()
{
    ;
  }
}

void sub_1A5246034()
{
    ;
  }
}

void sub_1A5246044()
{
    ;
  }
}

void sub_1A5246054()
{
    ;
  }
}

void sub_1A5246064()
{
    ;
  }
}

void sub_1A5246074()
{
    ;
  }
}

void sub_1A5246084()
{
    ;
  }
}

void sub_1A5246094()
{
    ;
  }
}

void sub_1A52460A4()
{
    ;
  }
}

void sub_1A52460B4()
{
    ;
  }
}

void sub_1A52460C4()
{
    ;
  }
}

void sub_1A52460D4()
{
    ;
  }
}

void sub_1A52460E4()
{
    ;
  }
}

void sub_1A52460F4()
{
    ;
  }
}

void sub_1A5246104()
{
    ;
  }
}

void sub_1A5246114()
{
    ;
  }
}

void sub_1A5246124()
{
    ;
  }
}

void sub_1A5246134()
{
    ;
  }
}

void sub_1A5246144()
{
    ;
  }
}

void sub_1A5246154()
{
    ;
  }
}

void sub_1A5246164()
{
    ;
  }
}

void sub_1A5246174()
{
    ;
  }
}

void sub_1A5246184()
{
    ;
  }
}

void sub_1A5246194()
{
    ;
  }
}

void sub_1A52461A4()
{
    ;
  }
}

void sub_1A52461B4()
{
    ;
  }
}

void sub_1A52461C4()
{
    ;
  }
}

void sub_1A52461D4()
{
    ;
  }
}

void sub_1A52461E4()
{
    ;
  }
}

void sub_1A52461F4()
{
    ;
  }
}

void sub_1A5246204()
{
    ;
  }
}

void sub_1A5246214()
{
    ;
  }
}

void sub_1A5246224()
{
    ;
  }
}

void sub_1A5246234()
{
    ;
  }
}

void sub_1A5246244()
{
    ;
  }
}

void sub_1A5246274()
{
    ;
  }
}

void sub_1A5246284()
{
    ;
  }
}

void sub_1A5246294()
{
    ;
  }
}

void sub_1A52462B4()
{
    ;
  }
}

void sub_1A52462C4()
{
    ;
  }
}

void sub_1A52462D4()
{
    ;
  }
}

void sub_1A52462E4()
{
    ;
  }
}

void sub_1A52462F4()
{
    ;
  }
}

void sub_1A5246314()
{
    ;
  }
}

void sub_1A5246324()
{
    ;
  }
}

void sub_1A5246334()
{
    ;
  }
}

void sub_1A5246344()
{
    ;
  }
}

void sub_1A5246354()
{
    ;
  }
}

void sub_1A5246374()
{
    ;
  }
}

void sub_1A5246384()
{
    ;
  }
}

void sub_1A5246394()
{
    ;
  }
}

void sub_1A52463A4()
{
    ;
  }
}

void sub_1A52463B4()
{
    ;
  }
}

void sub_1A52463C4()
{
    ;
  }
}

void sub_1A52463D4()
{
    ;
  }
}

void sub_1A52463E4()
{
    ;
  }
}

void sub_1A52463F4()
{
    ;
  }
}

void sub_1A5246404()
{
    ;
  }
}

void sub_1A5246414()
{
    ;
  }
}

void sub_1A5246424()
{
    ;
  }
}

void sub_1A5246434()
{
    ;
  }
}

void sub_1A5246444()
{
    ;
  }
}

void sub_1A5246454()
{
    ;
  }
}

void sub_1A5246464()
{
    ;
  }
}

void sub_1A5246484()
{
    ;
  }
}

void sub_1A5246494()
{
    ;
  }
}

void sub_1A52464B4()
{
    ;
  }
}

void sub_1A52464C4()
{
    ;
  }
}

void sub_1A52464D4()
{
    ;
  }
}

void sub_1A52464E4()
{
    ;
  }
}

void sub_1A52464F4()
{
    ;
  }
}

void sub_1A5246504()
{
    ;
  }
}

void sub_1A5246514()
{
    ;
  }
}

void sub_1A5246524()
{
    ;
  }
}

void sub_1A5246534()
{
    ;
  }
}

void sub_1A5246544()
{
    ;
  }
}

void sub_1A5246554()
{
    ;
  }
}

void sub_1A5246564()
{
    ;
  }
}

void sub_1A5246574()
{
    ;
  }
}

void sub_1A5246584()
{
    ;
  }
}

void sub_1A5246594()
{
    ;
  }
}

void sub_1A52465A4()
{
    ;
  }
}

void sub_1A52465B4()
{
    ;
  }
}

void sub_1A52465C4()
{
    ;
  }
}

void sub_1A52465D4()
{
    ;
  }
}

void sub_1A52465E4()
{
    ;
  }
}

void _s12PhotosUICore13SpriteBuilderV11buildEither5firstSayAA0C13Configuration_pGAG_tFZ_0()
{
    ;
  }
}

void sub_1A5246604()
{
    ;
  }
}

void sub_1A5246614()
{
    ;
  }
}

void sub_1A5246624()
{
    ;
  }
}

void sub_1A5246634()
{
    ;
  }
}

void sub_1A5246644()
{
    ;
  }
}

void sub_1A5246654()
{
    ;
  }
}

void sub_1A5246664()
{
    ;
  }
}

void sub_1A5246674()
{
    ;
  }
}

void sub_1A5246684()
{
    ;
  }
}

void sub_1A5246694()
{
    ;
  }
}

void sub_1A52466A4()
{
    ;
  }
}

void sub_1A52466B4()
{
    ;
  }
}

void sub_1A52466C4()
{
    ;
  }
}

void sub_1A52466D4()
{
    ;
  }
}

void sub_1A52466E4()
{
    ;
  }
}

void sub_1A52466F4()
{
    ;
  }
}

void sub_1A5246714()
{
    ;
  }
}

void sub_1A5246724()
{
    ;
  }
}

void sub_1A5246734()
{
    ;
  }
}

void sub_1A5246744()
{
    ;
  }
}

void sub_1A5246754()
{
    ;
  }
}

void sub_1A5246764()
{
    ;
  }
}

void sub_1A5246774()
{
    ;
  }
}

void sub_1A5246784()
{
    ;
  }
}

void sub_1A5246794()
{
    ;
  }
}

void sub_1A52467A4()
{
    ;
  }
}

void sub_1A52467B4()
{
    ;
  }
}

void sub_1A52467C4()
{
    ;
  }
}

void sub_1A52467D4()
{
    ;
  }
}

void sub_1A52467E4()
{
    ;
  }
}

void sub_1A52467F4()
{
    ;
  }
}

void sub_1A5246EF4()
{
    ;
  }
}

void sub_1A524A824()
{
    ;
  }
}

void sub_1A524C034()
{
    ;
  }
}

void sub_1A524C044()
{
    ;
  }
}

void sub_1A524C054()
{
    ;
  }
}

void sub_1A524C064()
{
    ;
  }
}

void sub_1A524C074()
{
    ;
  }
}

void sub_1A524C084()
{
    ;
  }
}

void sub_1A524C094()
{
    ;
  }
}

void sub_1A524C0A4()
{
    ;
  }
}

void sub_1A524C0B4()
{
    ;
  }
}

void sub_1A524C0C4()
{
    ;
  }
}

void sub_1A524C0D4()
{
    ;
  }
}

void sub_1A524C0E4()
{
    ;
  }
}

void sub_1A524C0F4()
{
    ;
  }
}

void sub_1A524C104()
{
    ;
  }
}

void sub_1A524C114()
{
    ;
  }
}

void sub_1A524C124()
{
    ;
  }
}

void sub_1A524C134()
{
    ;
  }
}

void sub_1A524C144()
{
    ;
  }
}

void sub_1A524C154()
{
    ;
  }
}

void sub_1A524C164()
{
    ;
  }
}

void sub_1A524C174()
{
    ;
  }
}

void sub_1A524C184()
{
    ;
  }
}

void sub_1A524C194()
{
    ;
  }
}

void sub_1A524C1A4()
{
    ;
  }
}

void sub_1A524C1B4()
{
    ;
  }
}

void sub_1A524C1C4()
{
    ;
  }
}

void sub_1A524C1D4()
{
    ;
  }
}

void sub_1A524C354()
{
    ;
  }
}

void sub_1A524C364()
{
    ;
  }
}

void sub_1A524C524()
{
    ;
  }
}

void sub_1A524CA84()
{
    ;
  }
}

void sub_1A524D1A4()
{
    ;
  }
}

void sub_1A524D1B4()
{
    ;
  }
}

void sub_1A524D1C4()
{
    ;
  }
}

void sub_1A524D1D4()
{
    ;
  }
}

void sub_1A524D1E4()
{
    ;
  }
}

void sub_1A524D1F4()
{
    ;
  }
}

void sub_1A524D214()
{
    ;
  }
}

void sub_1A524D2C4()
{
    ;
  }
}

void sub_1A524D2D4()
{
    ;
  }
}

void sub_1A524D384()
{
    ;
  }
}

void sub_1A524D394()
{
    ;
  }
}

void sub_1A524D4D4()
{
    ;
  }
}

void sub_1A524D4E4()
{
    ;
  }
}

void sub_1A524D4F4()
{
    ;
  }
}

void sub_1A524D504()
{
    ;
  }
}

void sub_1A524D514()
{
    ;
  }
}

void sub_1A524D524()
{
    ;
  }
}

void sub_1A524D534()
{
    ;
  }
}

void sub_1A524D544()
{
    ;
  }
}

void sub_1A524D554()
{
    ;
  }
}

void sub_1A524D564()
{
    ;
  }
}

void sub_1A524D574()
{
    ;
  }
}

void sub_1A524D584()
{
    ;
  }
}

void sub_1A524D594()
{
    ;
  }
}

void sub_1A524D5A4()
{
    ;
  }
}

void sub_1A524D5B4()
{
    ;
  }
}

void sub_1A524D5C4()
{
    ;
  }
}

void sub_1A524D5D4()
{
    ;
  }
}

void sub_1A524D5E4()
{
    ;
  }
}

void sub_1A524D5F4()
{
    ;
  }
}

void sub_1A524D604()
{
    ;
  }
}

void sub_1A524D634()
{
    ;
  }
}

void sub_1A524D674()
{
    ;
  }
}

void sub_1A524D794()
{
    ;
  }
}

void sub_1A524D7A4()
{
    ;
  }
}

void sub_1A524D7B4()
{
    ;
  }
}

void sub_1A524D7C4()
{
    ;
  }
}

void sub_1A524D7D4()
{
    ;
  }
}

void sub_1A524D7E4()
{
    ;
  }
}

void sub_1A524D7F4()
{
    ;
  }
}

void sub_1A524D804()
{
    ;
  }
}

void sub_1A524D814()
{
    ;
  }
}

void sub_1A524D824()
{
    ;
  }
}

void sub_1A524D834()
{
    ;
  }
}

void sub_1A524D844()
{
    ;
  }
}

void sub_1A524D854()
{
    ;
  }
}

void sub_1A524D864()
{
    ;
  }
}

void sub_1A524D874()
{
    ;
  }
}

void sub_1A524D884()
{
    ;
  }
}

void sub_1A524D894()
{
    ;
  }
}

void sub_1A524D8A4()
{
    ;
  }
}

void sub_1A524D8B4()
{
    ;
  }
}

void sub_1A524D8C4()
{
    ;
  }
}

void sub_1A524D8E4()
{
    ;
  }
}

void sub_1A524D8F4()
{
    ;
  }
}

void sub_1A524D954()
{
    ;
  }
}

void sub_1A524D984()
{
    ;
  }
}

void sub_1A524D994()
{
    ;
  }
}

void sub_1A524D9A4()
{
    ;
  }
}

void sub_1A524D9B4()
{
    ;
  }
}

void sub_1A524D9C4()
{
    ;
  }
}

void sub_1A524D9D4()
{
    ;
  }
}

void sub_1A524D9E4()
{
    ;
  }
}

void sub_1A524D9F4()
{
    ;
  }
}

void sub_1A524DA04()
{
    ;
  }
}

void sub_1A524DA14()
{
    ;
  }
}

void sub_1A524DA24()
{
    ;
  }
}

void sub_1A524DA34()
{
    ;
  }
}

void sub_1A524DA44()
{
    ;
  }
}

void sub_1A524DA54()
{
    ;
  }
}

void sub_1A524DA64()
{
    ;
  }
}

void sub_1A524DA74()
{
    ;
  }
}

void sub_1A524DA84()
{
    ;
  }
}

void sub_1A524DA94()
{
    ;
  }
}

void sub_1A524DAA4()
{
    ;
  }
}

void sub_1A524DB64()
{
    ;
  }
}

void sub_1A524DB74()
{
    ;
  }
}

void sub_1A524DBA4()
{
    ;
  }
}

void sub_1A524DBB4()
{
    ;
  }
}

void sub_1A524EE54()
{
    ;
  }
}

CGRect AVMakeRectWithAspectRatioInsideRect(CGSize aspectRatio, CGRect boundingRect)
{
  MEMORY[0x1EEDE99E0](aspectRatio, *&aspectRatio.height, boundingRect.origin, *&boundingRect.origin.y, boundingRect.size, *&boundingRect.size.height);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

CGRect CGPDFPageGetBoxRect(CGPDFPageRef page, CGPDFBox box)
{
  MEMORY[0x1EEDBA770](page, *&box);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

CGRect CGRectApplyAffineTransform(CGRect rect, CGAffineTransform *t)
{
  MEMORY[0x1EEDBAD98](t, rect.origin, *&rect.origin.y, rect.size, *&rect.size.height);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

CGRect CGRectFromString(NSString *string)
{
  MEMORY[0x1EEE4DB30](string);
  result.size.height = v4;
  result.size.width = v3;
  result.origin.y = v2;
  result.origin.x = v1;
  return result;
}

CGRect CGRectInset(CGRect rect, CGFloat dx, CGFloat dy)
{
  MEMORY[0x1EEDBAE30](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height, dx, dy);
  result.size.height = v6;
  result.size.width = v5;
  result.origin.y = v4;
  result.origin.x = v3;
  return result;
}

CGRect CGRectIntegral(CGRect rect)
{
  MEMORY[0x1EEDBAE38](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height);
  result.size.height = v4;
  result.size.width = v3;
  result.origin.y = v2;
  result.origin.x = v1;
  return result;
}

CGRect CGRectIntersection(CGRect r1, CGRect r2)
{
  MEMORY[0x1EEDBAE40](r1.origin, *&r1.origin.y, r1.size, *&r1.size.height, r2.origin, *&r2.origin.y, r2.size, *&r2.size.height);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

CGRect CGRectOffset(CGRect rect, CGFloat dx, CGFloat dy)
{
  MEMORY[0x1EEDBAE78](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height, dx, dy);
  result.size.height = v6;
  result.size.width = v5;
  result.origin.y = v4;
  result.origin.x = v3;
  return result;
}

CGRect CGRectStandardize(CGRect rect)
{
  MEMORY[0x1EEDBAE80](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height);
  result.size.height = v4;
  result.size.width = v3;
  result.origin.y = v2;
  result.origin.x = v1;
  return result;
}

CGRect CGRectUnion(CGRect r1, CGRect r2)
{
  MEMORY[0x1EEDBAE88](r1.origin, *&r1.origin.y, r1.size, *&r1.size.height, r2.origin, *&r2.origin.y, r2.size, *&r2.size.height);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

CLLocationCoordinate2D CLLocationCoordinate2DMake(CLLocationDegrees latitude, CLLocationDegrees longitude)
{
  MEMORY[0x1EEDE89C8](latitude, longitude);
  result.longitude = v3;
  result.latitude = v2;
  return result;
}

CGSize CTFramesetterSuggestFrameSizeWithConstraints(CTFramesetterRef framesetter, CFRange stringRange, CFDictionaryRef frameAttributes, CGSize constraints, CFRange *fitRange)
{
  MEMORY[0x1EEDBF1F0](framesetter, stringRange.location, stringRange.length, frameAttributes, fitRange, constraints, *&constraints.height);
  result.height = v6;
  result.width = v5;
  return result;
}

CGRect CTLineGetBoundsWithOptions(CTLineRef line, CTLineBoundsOptions options)
{
  MEMORY[0x1EEDBF2E0](line, options);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

CGRect CTLineGetImageBounds(CTLineRef line, CGContextRef context)
{
  MEMORY[0x1EEDBF300](line, context);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

CFRange CTLineGetStringRange(CTLineRef line)
{
  v1 = MEMORY[0x1EEDBF340](line);
  result.length = v2;
  result.location = v1;
  return result;
}

CGRect CVImageBufferGetCleanRect(CVImageBufferRef imageBuffer)
{
  MEMORY[0x1EEDBF840](imageBuffer);
  result.size.height = v4;
  result.size.width = v3;
  result.origin.y = v2;
  result.origin.x = v1;
  return result;
}

CLLocationCoordinate2D MKCoordinateForMapPoint(MKMapPoint mapPoint)
{
  MEMORY[0x1EEDCCB50](mapPoint, *&mapPoint.y);
  result.longitude = v2;
  result.latitude = v1;
  return result;
}

MKCoordinateRegion MKCoordinateRegionForMapRect(MKMapRect rect)
{
  MEMORY[0x1EEDCCB58](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height);
  result.span.longitudeDelta = v4;
  result.span.latitudeDelta = v3;
  result.center.longitude = v2;
  result.center.latitude = v1;
  return result;
}

MKCoordinateRegion MKCoordinateRegionMakeWithDistance(CLLocationCoordinate2D centerCoordinate, CLLocationDistance latitudinalMeters, CLLocationDistance longitudinalMeters)
{
  MEMORY[0x1EEDCCB60](centerCoordinate, *&centerCoordinate.longitude, latitudinalMeters, longitudinalMeters);
  result.span.longitudeDelta = v6;
  result.span.latitudeDelta = v5;
  result.center.longitude = v4;
  result.center.latitude = v3;
  return result;
}

MKMapPoint MKMapPointForCoordinate(CLLocationCoordinate2D coordinate)
{
  MEMORY[0x1EEDCCB88](coordinate, *&coordinate.longitude);
  result.y = v2;
  result.x = v1;
  return result;
}

MKMapRect MKMapRectInset(MKMapRect rect, double dx, double dy)
{
  MEMORY[0x1EEDCCBB0](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height, dx, dy);
  result.size.height = v6;
  result.size.width = v5;
  result.origin.y = v4;
  result.origin.x = v3;
  return result;
}

MKMapRect MKMapRectIntersection(MKMapRect rect1, MKMapRect rect2)
{
  MEMORY[0x1EEDCCBB8](rect1.origin, *&rect1.origin.y, rect1.size, *&rect1.size.height, rect2.origin, *&rect2.origin.y, rect2.size, *&rect2.size.height);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

MKMapRect MKMapRectOffset(MKMapRect rect, double dx, double dy)
{
  MEMORY[0x1EEDCCBC8](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height, dx, dy);
  result.size.height = v6;
  result.size.width = v5;
  result.origin.y = v4;
  result.origin.x = v3;
  return result;
}

MKMapRect MKMapRectRemainder(MKMapRect rect)
{
  MEMORY[0x1EEDCCBD0](rect.origin, *&rect.origin.y, rect.size, *&rect.size.height);
  result.size.height = v4;
  result.size.width = v3;
  result.origin.y = v2;
  result.origin.x = v1;
  return result;
}

MKMapRect MKMapRectUnion(MKMapRect rect1, MKMapRect rect2)
{
  MEMORY[0x1EEDCCBE0](rect1.origin, *&rect1.origin.y, rect1.size, *&rect1.size.height, rect2.origin, *&rect2.origin.y, rect2.size, *&rect2.size.height);
  result.size.height = v5;
  result.size.width = v4;
  result.origin.y = v3;
  result.origin.x = v2;
  return result;
}

NSRange NSIntersectionRange(NSRange range1, NSRange range2)
{
  v2 = MEMORY[0x1EEDC6FE0](range1.location, range1.length, range2.location, range2.length);
  result.length = v3;
  result.location = v2;
  return result;
}

NSRange NSRangeFromString(NSString *aString)
{
  v1 = MEMORY[0x1EEDC70A0](aString);
  result.length = v2;
  result.location = v1;
  return result;
}

void NSStringFromPXEdgeInsets()
{
    ;
  }
}

NSRange NSUnionRange(NSRange range1, NSRange range2)
{
  v2 = MEMORY[0x1EEDC7160](range1.location, range1.length, range2.location, range2.length);
  result.length = v3;
  result.location = v2;
  return result;
}

void PXActionPerformerTitleUseCaseDescription()
{
    ;
  }
}

void PXAffineTransformDecomposeTranslationScaleRotation()
{
    ;
  }
}

void PXAffineTransformMakeFromRects()
{
    ;
  }
}

void PXAffineTransformMakeRotationAroundPoint()
{
    ;
  }
}

void PXAffineTransformMakeScaleAndRotationAroundPoint()
{
    ;
  }
}

void PXAffineTransformMakeScaleFromPoint()
{
    ;
  }
}

void PXAffineTransformOffsetFixpoint()
{
    ;
  }
}

void PXArrayByMovingObjectFromIndexToIndex()
{
    ;
  }
}

void PXAspectRatioIsPortrait()
{
    ;
  }
}

void PXAssertGetLog()
{
    ;
  }
}

void PXAssetBadgeInfoCreateWithBadges()
{
    ;
  }
}

void PXAssetBadgeInfoCreateWithDuration()
{
    ;
  }
}

void PXAssetBadgeInfoEqualToBadgeInfo()
{
    ;
  }
}

void PXAssetBadgeInfoIsActionable()
{
    ;
  }
}

void PXAssetBadgeInfoIsActionableDisabled()
{
    ;
  }
}

void PXAssetBadgeInfoIsLivePhotoToggleable()
{
    ;
  }
}

void PXAssetBadgeInfoIsNull()
{
    ;
  }
}

void PXAssetBadgeInfoIsToggleable()
{
    ;
  }
}

void PXAssetBadgeInfoIsToggledOn()
{
    ;
  }
}

void PXAttributedStringForBadgeText()
{
    ;
  }
}

void PXAxisFromUICollectionViewScrollDirection()
{
    ;
  }
}

void PXAxisTransposed()
{
    ;
  }
}

void PXCATransactionShouldLoadContentImmediately()
{
    ;
  }
}

void PXCanShowInternalUI()
{
    ;
  }
}

void PXCanonicalErrorForError()
{
    ;
  }
}

void PXCappedFontWithTextStyle()
{
    ;
  }
}

void PXCappedFontWithTextStyleAndWeight()
{
    ;
  }
}

void PXCappedFontWithTextStyleSymbolicTraitAndWeight()
{
    ;
  }
}

void PXCappedFontWithTextStyleSymbolicTraits()
{
    ;
  }
}

void PXClamp()
{
    ;
  }
}

void PXCornerRadiusDescription()
{
    ;
  }
}

void PXCreateCGImageFromImageSourceWithMaxPixelSize()
{
    ;
  }
}

void PXCuratedLibraryBestCropRectForAssetInZoomLevel()
{
    ;
  }
}

void PXCuratedLibraryZoomLevelDescription()
{
    ;
  }
}

void PXDataSourceIdentifierMakeUnique()
{
    ;
  }
}

void PXDateClampedToGregorianCalendar()
{
    ;
  }
}

void PXDebugDescriptionForError()
{
    ;
  }
}

void PXDebugDescriptionFromSystemAuthenticationType()
{
    ;
  }
}

void PXDegreesToRadians()
{
    ;
  }
}

void PXDerivative()
{
    ;
  }
}

void PXDisplayAssetCollectionCurationLengthDescription()
{
    ;
  }
}

void PXDisplayAssetCollectionSharingShouldStartWithAllAssetsSelected()
{
    ;
  }
}

void PXDisplayAssetColorNormalizationData()
{
    ;
  }
}

void PXDisplayAssetDetailedCountsDescription()
{
    ;
  }
}

void PXDisplayAssetDetailedCountsSubtract()
{
    ;
  }
}

void PXDisplayAssetFetchResultEmpty()
{
    ;
  }
}

void PXDisplayAssetFetchResultEqualToDisplayAssetFetchResult()
{
    ;
  }
}

void PXDisplayAssetFetchResultFastEnumeration()
{
    ;
  }
}

void PXDisplayAssetFetchResultFromArray()
{
    ;
  }
}

void PXDisplayAssetFetchResultFromAsset()
{
    ;
  }
}

void PXDisplayAssetFetchResultFromFetchResults()
{
    ;
  }
}

void PXDisplayAssetFetchResultHash()
{
    ;
  }
}

void PXDisplayAssetFetchResultSubfetchResultWithIndexSet()
{
    ;
  }
}

void PXDisplayAssetFetchResultSubfetchResultWithRange()
{
    ;
  }
}

void PXDisplayAssetPlaybackStyleDescription()
{
    ;
  }
}

void PXDisplayLinkDefaultPreferredFramesPerSecond()
{
    ;
  }
}

void PXDistanceBetweenPoints()
{
    ;
  }
}

void PXDynamicHitTestInsetsViewUpdateHitTestInsetsWithDefaultOutsets()
{
    ;
  }
}

void PXEdgeInsetsAdd()
{
    ;
  }
}

void PXEdgeInsetsAddValueForEdges()
{
    ;
  }
}

void PXEdgeInsetsApproximatelyEqualToEdgeInsets()
{
    ;
  }
}

void PXEdgeInsetsBetweenRects()
{
    ;
  }
}

void PXEdgeInsetsByFlippingHorizontally()
{
    ;
  }
}

void PXEdgeInsetsEqualToEdgeInsets()
{
    ;
  }
}

void PXEdgeInsetsEqualToEdgeInsetsForEdges()
{
    ;
  }
}

void PXEdgeInsetsForEdges()
{
    ;
  }
}

void PXEdgeInsetsForRectsFromEdgeInsetsForRect()
{
    ;
  }
}

void PXEdgeInsetsInsetRect()
{
    ;
  }
}

void PXEdgeInsetsInsetRectEdges()
{
    ;
  }
}

void PXEdgeInsetsInsetSize()
{
    ;
  }
}

void PXEdgeInsetsInsetSizeEdges()
{
    ;
  }
}

void PXEdgeInsetsInvert()
{
    ;
  }
}

void PXEdgeInsetsIsNull()
{
    ;
  }
}

void PXEdgeInsetsIsZero()
{
    ;
  }
}

void PXEdgeInsetsMake()
{
    ;
  }
}

void PXEdgeInsetsMakeAll()
{
    ;
  }
}

void PXEdgeInsetsMax()
{
    ;
  }
}

void PXEdgeInsetsWithValueForEdges()
{
    ;
  }
}

void PXEdgesFromCGRectEdge()
{
    ;
  }
}

void PXEnumerateAllViewsUsingBlock()
{
    ;
  }
}

void PXEnumeratePageKeysForRect()
{
    ;
  }
}

void PXEnumerateSubrangesMatchingTestUsingBlock()
{
    ;
  }
}

void PXExists()
{
    ;
  }
}

void PXFilter()
{
    ;
  }
}

void PXFilterArrayForObjectsOfClass()
{
    ;
  }
}

void PXFind()
{
    ;
  }
}

void PXFirstIndexInSortedRangePassingTest()
{
    ;
  }
}

void PXFlatMap()
{
    ;
  }
}

void PXFloatApproximatelyEqualToFloat()
{
    ;
  }
}

void PXFloatAtan()
{
    ;
  }
}

void PXFloatAtan2()
{
    ;
  }
}

void PXFloatByLinearlyInterpolatingFloats()
{
    ;
  }
}

void PXFloatByParabolicallyInterpolatingFloats()
{
    ;
  }
}

void PXFloatCeilingToPixel()
{
    ;
  }
}

void PXFloatCompare()
{
    ;
  }
}

void PXFloatCos()
{
    ;
  }
}

void PXFloatDenormalize()
{
    ;
  }
}

void PXFloatEqualToFloatWithTolerance()
{
    ;
  }
}

void PXFloatFloorToPixel()
{
    ;
  }
}

void PXFloatGreaterThanFloat()
{
    ;
  }
}

void PXFloatHypot()
{
    ;
  }
}

void PXFloatLog()
{
    ;
  }
}

void PXFloatLog2()
{
    ;
  }
}

void PXFloatNormalize()
{
    ;
  }
}

void PXFloatPow()
{
    ;
  }
}

void PXFloatProgressBetween()
{
    ;
  }
}

void PXFloatRoundInDirection()
{
    ;
  }
}

void PXFloatRoundToPixel()
{
    ;
  }
}

void PXFloatSaturate()
{
    ;
  }
}

void PXFloatSign()
{
    ;
  }
}

void PXFloatSin()
{
    ;
  }
}

void PXFloatTanh()
{
    ;
  }
}

void PXFontCreate()
{
    ;
  }
}

void PXFontScaleForTextStyle()
{
    ;
  }
}

void PXFontWithTextStyle()
{
    ;
  }
}

void PXFontWithTextStyleAndWeight()
{
    ;
  }
}

void PXFontWithTextStyleSymbolicTraits()
{
    ;
  }
}

void PXFontWithTextStyleSymbolicTraitsAndWeight()
{
    ;
  }
}

void PXGAXAddSimpleIndexPathGroupChangeUserInfo()
{
    ;
  }
}

void PXGAXGetElementForUserInfo()
{
    ;
  }
}

void PXGAXGetFocusFromAndToInfosForUserInfo()
{
    ;
  }
}

void PXGAXGetItemGeometryForUserInfo()
{
    ;
  }
}

void PXGAXGetSelectionFromAndToInfosForUserInfo()
{
    ;
  }
}

void PXGAXGetToSimpleIndexPathForUserInfo()
{
    ;
  }
}

void PXGAssertErrValidRect()
{
    ;
  }
}

void PXGConfigureShadowSprite()
{
    ;
  }
}

void PXGCornerRadiusByLinearlyInterpolatingCornerRadii()
{
    ;
  }
}

void PXGCornerRadiusDescription()
{
    ;
  }
}

void PXGCornerRadiusForSubrectFromContainerCornerRadiusAndRect()
{
    ;
  }
}

void PXGCornerRadiusIsNull()
{
    ;
  }
}

void PXGCreateCGImageWithDrawBlock()
{
    ;
  }
}

void PXGCreateResizableShadowImage()
{
    ;
  }
}

void PXGDeepestPreferredFocusEnvironmentsForLayout()
{
    ;
  }
}

void PXGDeviceIsKnownToHaveExtendedColorDisplay()
{
    ;
  }
}

void PXGGetColorSpace()
{
    ;
  }
}

void PXGGetSingleViewLayoutFromView()
{
    ;
  }
}

void PXGResizableShadowImageFrameForCastingFrame()
{
    ;
  }
}

void PXGResizeRect()
{
    ;
  }
}

void PXGSectionedSpriteTagDecompose()
{
    ;
  }
}

void PXGSectionedSpriteTagMake()
{
    ;
  }
}

void PXGSpriteApplyTransform()
{
    ;
  }
}

void PXGSpriteInfoDescription()
{
    ;
  }
}

void PXGSpriteStyleUnionClippingRect()
{
    ;
  }
}

void PXGStartSimulatingLayoutGlitches()
{
    ;
  }
}

void PXGStopSimulatingLayoutGlitches()
{
    ;
  }
}

void PXGSupportedPixelBufferFormats()
{
    ;
  }
}

void PXGTungstenGetLog()
{
    ;
  }
}

void PXGViewPreloadResources()
{
    ;
  }
}

void PXGetRootViewController()
{
    ;
  }
}

void PXGridZeroBundle()
{
    ;
  }
}

void PXHorizontalSizeClassFromFeatureSpec()
{
    ;
  }
}

void PXImageDynamicRangeIsGreaterThanStandard()
{
    ;
  }
}

void PXImageOrientationFromCGImagePropertyOrientation()
{
    ;
  }
}

void PXIndexPathFromSimpleIndexPath()
{
    ;
  }
}

void PXInsetRectWithValueForEdges()
{
    ;
  }
}

void PXIsSyncCallback()
{
    ;
  }
}

void PXIterateAsynchronously()
{
    ;
  }
}

void PXLargestSalientAspectFilledCropRect()
{
    ;
  }
}

void PXLastIndexInSortedRangePassingTest()
{
    ;
  }
}

void PXLocalizedComposedString()
{
    ;
  }
}

void PXLocalizedStringWithValidatedFormat()
{
    ;
  }
}

void PXLocalizedVideoDuration()
{
    ;
  }
}

void PXMap()
{
    ;
  }
}

void PXMapValueFromRangeToNewRange()
{
    ;
  }
}

void PXMaxRectEdgeForAxis()
{
    ;
  }
}

void PXMediaTypeForAssets()
{
    ;
  }
}

void PXMemoryTileElementForViewSpecContext()
{
    ;
  }
}

void PXMemoryTileKindForViewSpecContext()
{
    ;
  }
}

void PXMinRectEdgeForAxis()
{
    ;
  }
}

void PXPerformWithSyncTokenOnQueue()
{
    ;
  }
}

void PXPhotosUIFoundationBundle()
{
    ;
  }
}

void PXPixelSizeAreaIsZero()
{
    ;
  }
}

void PXPlatformImageDynamicRangeFromPXImageDynamicRange()
{
    ;
  }
}

void PXPointAdd()
{
    ;
  }
}

void PXPointApproximatelyEqualToPoint()
{
    ;
  }
}

void PXPointByLinearlyInterpolatingPoints()
{
    ;
  }
}

void PXPointCeilingToPixel()
{
    ;
  }
}

void PXPointConvertFromCoordinateSpaceToCoordinateSpace()
{
    ;
  }
}

void PXPointDenormalize()
{
    ;
  }
}

void PXPointIsNull()
{
    ;
  }
}

void PXPointMultiplyWithFloat()
{
    ;
  }
}

void PXPointRoundToPixel()
{
    ;
  }
}

void PXPointSetValueForAxis()
{
    ;
  }
}

void PXPointSubtract()
{
    ;
  }
}

void PXPointValueForAxis()
{
    ;
  }
}

void PXPreferredContentSizeCategoryIsAccessibility()
{
    ;
  }
}

void PXPresentationEnvironmentForSender()
{
    ;
  }
}

void PXPreviewImageViewForImage()
{
    ;
  }
}

void PXRadiansToDegrees()
{
    ;
  }
}

void PXRectApproximatelyEqualToRect()
{
    ;
  }
}

void PXRectArea()
{
    ;
  }
}

void PXRectByFlippingHorizontallyInRect()
{
    ;
  }
}

void PXRectByLinearlyInterpolatingRects()
{
    ;
  }
}

void PXRectClampPoint()
{
    ;
  }
}

void PXRectContainsRectWithTolerance()
{
    ;
  }
}

void PXRectConvertFromCoordinateSpaceToCoordinateSpace()
{
    ;
  }
}

void PXRectDenormalize()
{
    ;
  }
}

void PXRectDescription()
{
    ;
  }
}

void PXRectDiff()
{
    ;
  }
}

void PXRectEdgeAxis()
{
    ;
  }
}

void PXRectEdgeFlippedHorizontally()
{
    ;
  }
}

void PXRectEdgeOpposite()
{
    ;
  }
}

void PXRectEdgeValue()
{
    ;
  }
}

void PXRectFlippedVertically()
{
    ;
  }
}

void PXRectFunctionDerivative()
{
    ;
  }
}

void PXRectGetCenter()
{
    ;
  }
}

void PXRectGetLengthForAxis()
{
    ;
  }
}

void PXRectGetMaxForAxis()
{
    ;
  }
}

void PXRectGetMidForAxis()
{
    ;
  }
}

void PXRectGetMinForAxis()
{
    ;
  }
}

void PXRectIdenticalToRect()
{
    ;
  }
}

void PXRectIntersectWithBasicRemainders()
{
    ;
  }
}

void PXRectIsValid()
{
    ;
  }
}

void PXRectNormalize()
{
    ;
  }
}

void PXRectRoundToPixel()
{
    ;
  }
}

void PXRectScaleFromCenter()
{
    ;
  }
}

void PXRectShiftedInsideConstrainingRect()
{
    ;
  }
}

void PXRectShortestDistanceToPoint()
{
    ;
  }
}

void PXRectWithAspectRatioFillingRect()
{
    ;
  }
}

void PXRectWithAspectRatioFittingRect()
{
    ;
  }
}

void PXRectWithAspectRatioInsideRectContainingAsMuchAsPossibleOfRect()
{
    ;
  }
}

void PXRectWithCenterAndSize()
{
    ;
  }
}

void PXRectWithEdges()
{
    ;
  }
}

void PXRectWithOriginAndSize()
{
    ;
  }
}

void PXRectWithSize()
{
    ;
  }
}

void PXRectWithSizeAlignedToRectEdges()
{
    ;
  }
}

void PXRectWithSizeAlignedToRectEdgesWithPadding()
{
    ;
  }
}

void PXReduce()
{
    ;
  }
}

void PXReduceF()
{
    ;
  }
}

void PXRegionOfInterestForAssetReference()
{
    ;
  }
}

void PXScaledValueForTextStyleWithMaxContentSizeCategoryAndSymbolicTraits()
{
    ;
  }
}

void PXScaledValueForTextStyleWithSymbolicTraits()
{
    ;
  }
}

void PXScrollViewContentOffsetSnappedToRange()
{
    ;
  }
}

void PXSectionedFetchResultIndexOfObject()
{
    ;
  }
}

void PXSectionedFetchResultIndexOfObjectInRange()
{
    ;
  }
}

void PXSimpleIndexPathCompare()
{
    ;
  }
}

void PXSimpleIndexPathDescription()
{
    ;
  }
}

void PXSimpleIndexPathFromIndexPath()
{
    ;
  }
}

void PXSizeAdd()
{
    ;
  }
}

void PXSizeApproximatelyEqualOrBiggerThanSize()
{
    ;
  }
}

void PXSizeApproximatelyEqualToSize()
{
    ;
  }
}

void PXSizeByLinearlyInterpolatingSize()
{
    ;
  }
}

void PXSizeCeilingToPixel()
{
    ;
  }
}

void PXSizeClampToSize()
{
    ;
  }
}

void PXSizeDescription()
{
    ;
  }
}

void PXSizeGetArea()
{
    ;
  }
}

void PXSizeGetAspectRatio()
{
    ;
  }
}

void PXSizeGetAspectRatioWithDefault()
{
    ;
  }
}

void PXSizeIsEmpty()
{
    ;
  }
}

void PXSizeIsNull()
{
    ;
  }
}

void PXSizeIsValid()
{
    ;
  }
}

void PXSizeLargerThanSize()
{
    ;
  }
}

void PXSizeMakeSquare()
{
    ;
  }
}

void PXSizeMax()
{
    ;
  }
}

void PXSizeMin()
{
    ;
  }
}

void PXSizeRound()
{
    ;
  }
}

void PXSizeRoundToEven()
{
    ;
  }
}

void PXSizeRoundToPixel()
{
    ;
  }
}

void PXSizeSafeInset()
{
    ;
  }
}

void PXSizeScale()
{
    ;
  }
}

void PXSizeSetValueForAxis()
{
    ;
  }
}

void PXSizeSubtract()
{
    ;
  }
}

void PXSizeTranspose()
{
    ;
  }
}

void PXSizeValueForAxis()
{
    ;
  }
}

void PXSizeWithAspectRatioFillingSize()
{
    ;
  }
}

void PXSizeWithAspectRatioFittingSize()
{
    ;
  }
}

void PXSoftClamp()
{
    ;
  }
}

void PXSolariumEnabled()
{
    ;
  }
}

void PXStoryAffineTransformFittingRectsIntoRect()
{
    ;
  }
}

void PXStoryRectApplyAffineTransform()
{
    ;
  }
}

void PXStoryRectDecompose()
{
    ;
  }
}

void PXStoryRectDenormalize()
{
    ;
  }
}

void PXStoryRectDescription()
{
    ;
  }
}

void PXStoryRectEqualToRect()
{
    ;
  }
}

void PXStoryRectFitIntoRect()
{
    ;
  }
}

void PXStoryRectFitIntoUnitRect()
{
    ;
  }
}

void PXStoryRectFromCGRect()
{
    ;
  }
}

void PXStoryRectFromCGRectCenterRotation()
{
    ;
  }
}

void PXStoryRectFromStoryRectApplyingTransformWithAnchorPoint()
{
    ;
  }
}

void PXStoryRectIsEmpty()
{
    ;
  }
}

void PXStoryRectIsNull()
{
    ;
  }
}

void PXStoryRectLinearlyInterpolatingRects()
{
    ;
  }
}

void PXStoryRectNormalize()
{
    ;
  }
}

void PXStoryRectOuterBounds()
{
    ;
  }
}

void PXStoryRectPath()
{
    ;
  }
}

void PXStoryRectsFitIntoRect()
{
    ;
  }
}

void PXStringWithValidatedFormat()
{
    ;
  }
}

void PXSyncCallbackBegin()
{
    ;
  }
}

void PXSyncCallbackEnd()
{
    ;
  }
}

void PXSystemAuthenticationTypeIsBiometric()
{
    ;
  }
}

void PXSystemFontOfSizeAndWeight()
{
    ;
  }
}

void PXTileGeometryApplyAffineTransform()
{
    ;
  }
}

void PXTileGeometryDescription()
{
    ;
  }
}

void PXTimebaseConversionFactor()
{
    ;
  }
}

void PXUIApplicationGetFirstKeyWindow()
{
    ;
  }
}

void PXUpdateEndUpdates()
{
    ;
  }
}

void PXUpdateFlagsInvalidate()
{
    ;
  }
}

void PXUpdateIsUpdateNeeded()
{
    ;
  }
}

void PXUpdateSectionedSpriteInfoTagsForItemsInRange()
{
    ;
  }
}

void PXUpdateShouldBeginUpdates()
{
    ;
  }
}

void PXUserInterfaceIdiomFromUIUserInterfaceIdiom()
{
    ;
  }
}

void PXUserInterfaceLayoutDirectionDescription()
{
    ;
  }
}

void PXUserInterfaceStyleFromUITraitCollection()
{
    ;
  }
}

void PXViewSpecContextForMemoryTile()
{
    ;
  }
}

void PXViewSpecOptionsWithTitleFontName()
{
    ;
  }
}

void PXVisionScaledEdgeInsets()
{
    ;
  }
}

void PXVisionScaledFloat()
{
    ;
  }
}

void PXVisionScaledPoint()
{
    ;
  }
}

void PXVisionScaledSize()
{
    ;
  }
}

void UIFontTextStyleFromPXFontTextStyle()
{
    ;
  }
}

void UIMenuElementStateFromPXMenuActionState()
{
    ;
  }
}

void _PXGArrayCapacityResizeToCount()
{
    ;
  }
}

void _PXGArrayCopyRangeToArray()
{
    ;
  }
}

void _PXGArrayInsertRange()
{
    ;
  }
}

void _PXGArrayResize()
{
    ;
  }
}

void operator delete(void *__p)
{
    ;
  }
}

void operator new()
{
    ;
  }
}

__double2 __sincos_stret(double a1)
{
  MEMORY[0x1EEE73570](a1);
  result.__cosval = v2;
  result.__sinval = v1;
  return result;
}

__float2 __sincosf_stret(float a1)
{
  MEMORY[0x1EEE73578](a1);
  result.__cosval = v2;
  result.__sinval = v1;
  return result;
}

void px_dispatch_on_main_queue()
{
    ;
  }
}

void px_dispatch_on_main_queue_sync()
{
    ;
  }
}

void px_dispatch_on_main_queue_when_idle_after_delay()
{
    ;
  }
}

void px_dispatch_qos_from_nsqualityofservice()
{
    ;
  }
}

void px_dispatch_queue_create()
{
    ;
  }
}

void px_dispatch_queue_create_serial()
{
    ;
  }
}

void px_dispatch_queue_create_serial_with_priority()
{
    ;
  }
}

void px_dispatch_queue_wait()
{
    ;
  }
}

void px_perform_on_main_runloop()
{
    ;
  }
}

double gotLoadHelper_x8__OBJC_CLASS___APApplication(double result)
{
  if (!atomic_load(dlopenHelperFlag_AppProtection))
  {
    return dlopenHelper_AppProtection(result);
  }

  return result;
}

double gotLoadHelper_x8__OBJC_CLASS___APGuard(double result)
{
  if (!atomic_load(dlopenHelperFlag_AppProtection))
  {
    return dlopenHelper_AppProtection(result);
  }

  return result;
}

double __spoils<X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,Q0,Q1,Q2,Q3,Q4,Q5,Q6,Q7,Q16,Q17,Q18,Q19,Q20,Q21,Q22,Q23,Q24,Q25,Q26,Q27,Q28,Q29,Q30,Q31> dlopenHelper_AppProtection(double a1)
{
  dlopen("/System/Library/PrivateFrameworks/AppProtection.framework/AppProtection", 0);
  atomic_store(1u, dlopenHelperFlag_AppProtection);
  return a1;
}