void sub_10000366C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_1000036C4(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_10000371C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003774(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_1000037CC(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003824(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_10000387C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_1000038D4(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_10000392C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003984(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_1000039DC(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003A34(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003A8C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003AE4(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003B3C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003B94(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003BEC(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003C44(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003C9C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003CF4(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003D4C(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003DA4(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003DFC(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003E54(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003EAC(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

void sub_100003F04(uint64_t a1, uint64_t a2)
{
  location = (a2 + 40);
  v2 = *(a2 + 40);
  v3 = (a1 + 40);
  *v3 = 0;
  objc_storeStrong(v3, v2);
  objc_storeStrong(location, 0);
}

uint64_t sub_100004708(uint64_t a1, uint64_t a2)
{
  if (a1 + 8) <= 6 && ((0x7Du >> (a1 + 8)))
  {
    __asm { BRAA            X8, X17 }
  }

  return 4294922295;
}

uint64_t sub_100004DEC(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, int a15, int a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, _DWORD *a27, int a28, int a29, uint64_t a30)
{
  v33 = a5 + a4 - 322;
  (*(v32 + 8 * (a4 + v31)))(*v30);
  *v30 = a30;
  *a27 = a16;
  return (*(v32 + 8 * ((1760 * (a29 == 0)) ^ v33)))();
}

uint64_t sub_100004FC4()
{
  v5 = *(v3 + 8) - 748115895;
  v6 = v1 > ((v0 + 857) ^ 0xBAE3162F);
  v7 = v2 + 1189952448 + ((v0 - 1601795400) | 0x1411018Au) > v5;
  if (v6 == v5 < 0x451CE12D)
  {
    v6 = v7;
  }

  return (*(v4 + 8 * ((1003 * v6) ^ v0)))();
}

uint64_t sub_10000515C@<X0>(int a1@<W8>)
{
  v6 = (a1 << (((v4 - 33) | 0x41) + 62)) + ((v4 + 479) ^ 0x4A4 ^ (v2 + 230));
  v7 = ((2 * v6) & 0xF76FFDFC) + (v6 ^ 0x7BB7FEFE);
  if (v1 > 0x24ACDCE0 != v7 + 1604002845 < 0xDB53231B)
  {
    v8 = v7 + 1604002845 < 0xDB53231B;
  }

  else
  {
    v8 = v7 + 1604002845 > v3;
  }

  return (*(v5 + 8 * ((104 * v8) ^ v4)))();
}

uint64_t sub_1000054E8(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6)
{
  v10 = *(v8 + 12);
  *(a6 + 16) = v8 + 12;
  return (*(v9 + 8 * ((125 * (((a4 + v6 - 2106) ^ (a4 + 969) ^ (v7 - 1113)) + v10 > 0xFFFFFFFB)) ^ v6)))(4294922289);
}

uint64_t sub_100005534(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5)
{
  v10 = *(v8 + 8) + 1736112910;
  v11 = v7 > 0x26D0CC09;
  v12 = v6 - 1885921201 > v10;
  if (v11 != v10 < ((a5 + ((v5 + 604175601) | 0x90949080) - 391) ^ 0xD92F3321))
  {
    v12 = v11;
  }

  return (*(v9 + 8 * ((v12 | (2 * v12)) ^ v5)))();
}

uint64_t sub_1000055C8(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6)
{
  *(a6 + 24) = v7;
  v11 = *(v8 + 8);
  return (*(v9 + 8 * ((((a4 + v6 - 211) ^ (a4 - 166) ^ (v6 + 1351269140) & 0xAF7544DF) * (v8 != 0)) ^ v6)))(4294922294);
}

uint64_t sub_1000056F0@<X0>(int a1@<W8>)
{
  v7 = ((((v5 + 1490577244) & 0xA7279E77) - 201429150) & (2 * (v2 + 2 * a1))) + ((v2 + 2 * a1) ^ 0xF9FF3CE4);
  if (v1 > v4 != v7 - 172588860 < 0xEFB5BDA8)
  {
    v8 = v7 - 172588860 < 0xEFB5BDA8;
  }

  else
  {
    v8 = v7 - 172588860 > v3;
  }

  return (*(v6 + 8 * ((15 * v8) ^ v5)))();
}

uint64_t sub_100005A44(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  v10 = *(v8 + 12);
  *(a6 + 56) = v8 + 12;
  return (*(v9 + 8 * ((63 * ((v10 + v7) < 0xFFFFFFF8)) ^ v6)))(4294922289);
}

uint64_t sub_100005A90(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5)
{
  v10 = (((a5 + a4 + v5 - 975 - 186 - 434) | 0x310) ^ 0xBF92BAD8) + *(v8 + 8);
  v11 = v6 > 0xCEB90DB3;
  v12 = v7 - 407970139 > v10;
  if (v11 == v10 < 0x3146F244)
  {
    v11 = v12;
  }

  return (*(v9 + 8 * (((32 * v11) | (v11 << 6)) ^ (v5 - 975))))();
}

uint64_t sub_100005B1C(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6)
{
  *(a6 + 64) = v7;
  v11 = *(v8 + 8);
  return (*(v9 + 8 * ((((((v6 + 873925960) | 0x808080CA) - a4 + 201) ^ 0x725) * (v8 == 0)) ^ v6)))(4294922294);
}

uint64_t sub_10000605C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  v15 = (v13 ^ 0x223) - a5 + 597;
  (*(v14 + 8 * (v13 + 2414)))();
  v16 = *v12;
  v17 = *(v12 + 3) + (v15 ^ 0x2F07D44 ^ (43 * (v13 ^ 0x223u)));
  v18 = *(&off_1003300C0 + v13 - 538) - 4;
  (*(v14 + 8 * (v13 + 2429)))();
  v20 = (*(v14 + 8 * (v13 ^ 0x9BB)))(a12, 0);
  return (*(v14 + 8 * (v13 | (8 * (v20 == 0)))))(4294922293, v20);
}

uint64_t sub_10000619C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39)
{
  (*(v43 + 8 * (v40 + 2724)))(v42, *(&off_1003300C0 + ((v40 + 1979) ^ 0x89D)) - 12);
  (*(v43 + 8 * (v40 + 2734)))(v42);
  (*(v43 + 8 * ((v40 + 1979) ^ 0x333)))(v42, v41);
  v44 = (*(v43 + 8 * ((v40 + 1979) ^ 0x30B)))();
  return (*(v43 + 8 * (((v44 == *(&off_1003300C0 + ((v40 + 1979) ^ 0x88B)) - 12) * (((v40 + 1459144467) & 0xA9073F7D ^ 0xFFFFFC95) + ((v40 + 2135594790) & 0x80B56C4F))) ^ (v40 + 1979))))(v44, v45, v46, v47, v48, v49, v50, v51, a9, v39, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20, a21, a22, a23, a24, a25, a26, a27, a28, a29, a30, a31, a32, a33, a34, a35, a36, a37, a38, a39);
}

uint64_t sub_1000062D0()
{
  v7 = v0;
  (*(v4 + 8 * (v1 ^ 0xA7D)))(v3, v2);
  v5 = (*(v4 + 8 * (v1 + 2493)))();
  return (*(v4 + 8 * (((v5 == v7) * (v1 + 1718 + v1 + 625 - 988)) ^ v1)))(v5);
}

uint64_t sub_100006380(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  (*(v12 + 8 * (v9 ^ 0xA7Du)))(v11, v10);
  v13 = (*(v12 + 8 * (v9 + 2493)))() == a9;
  return (*(v12 + 8 * ((v13 * (((v9 ^ 0x94E) - 2007) ^ 0x255)) ^ v9)))();
}

uint64_t sub_10000642C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  (*(v12 + 8 * (v9 ^ 0xA7D)))(v11, v10);
  v13 = (*(v12 + 8 * (v9 + 2493)))() == a9;
  return (*(v12 + 8 * ((v13 * ((11 * (v9 ^ 0x1CD) + 272272676) & 0xEFC57AB2 ^ 0xBCF)) ^ v9)))();
}

uint64_t sub_1000064EC()
{
  v5 = v0;
  (*(v4 + 8 * ((v1 + 289) ^ 0xA7D)))(v3, v2);
  v6 = (*(v4 + 8 * ((v1 + 289) ^ 0xA45)))() == v5;
  return (*(v4 + 8 * ((v6 * (((v1 - 2065532648) & 0x7B1D8EBE) - 769)) ^ (v1 + 289))))();
}

uint64_t sub_10000656C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46)
{
  v48 = 5 * (v46 ^ 0x4DB);
  (*(v47 + 8 * (v48 ^ 0x298)))(a45);
  (*(v47 + 8 * (v48 + 376)))(a46);
  return (*(v47 + 8 * (((a44 == 0) * ((((v48 + 335837067) | 0xA093108A) ^ 0xFFFFFF88) + v48 - 1265137643)) ^ v48)))(a44, v49, v50, v51, v52, v53, v54, v55, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20, a21, a22, a23, a24, a25, a26, a27, a28, a29, a30, a31, a32, a33, a34, a35, a36, a37, a38, a39);
}

uint64_t sub_100007008(uint64_t a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, int a16, uint64_t a17, uint64_t a18, uint64_t a19)
{
  a19 = 0;
  a16 = 0;
  v23 = (*(v22 + 8 * (v21 ^ 0xC76)))(**(&off_1003300C0 + (v21 ^ 0x711)), *v20, v19 + *(v20 + 12) + ((v21 - 1265136953) ^ (a2 - 284)) - 356, &a19, &a16);
  return (*(v22 + 8 * ((134 * ((v23 ^ 0x3733C776) - 84018724 + ((2 * v23) & 0x6E678EEC) != 1110557013)) ^ v21)))(v23, v24, v25, v26, v27, v28, v29, v30, a9, a10, a11);
}

uint64_t sub_100007144(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va1, a7);
  va_start(va, a7);
  v25 = va_arg(va1, void);
  v27 = va_arg(va1, void);
  v28 = va_arg(va1, void);
  v14 = (*(v12 + 8 * (v9 + 1008)))(*v10, *v7, (*(v7 + 12) + v8), va1, va);
  v21 = (v14 ^ 0xF235DB53) + 1073473023 + (((v9 - 1265137083) ^ 0x50FC276C) & (2 * v14));
  if (v21 == 842121554)
  {
    v22 = (*(v12 + 23584))(24, 0x1010040E2407E0ALL) != 0;
    return (*(v12 + 8 * ((v22 * (11 * (v11 ^ 0xB4979086) - 327)) ^ 0x73C)))();
  }

  else if (v21 == 1110557013)
  {
    return sub_100007E90(4294922279, v15, v16, v17, 1265135760, v18, v19, v20, a1, a2);
  }

  else
  {
    v24 = 946232179 * ((((2 * (v13 - 108)) | 0xAD5392EC) - (v13 - 108) - 1453967734) ^ 0xC6D2F5B9);
    *(v13 - 104) = v24 ^ 0x638;
    *(v13 - 100) = v21 - v24 + 495099793;
    (*(v12 + 23736))(v13 - 108);
    return (*(v12 + 8 * ((173 * (*(v13 - 108) != 1181123576)) ^ 0x164)))(4294922280);
  }
}

uint64_t sub_100007790@<X0>(int a1@<W8>, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unsigned int a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  v14 = a1 ^ 0x9B4;
  (*(v13 + 8 * (a1 + 368)))(v12);
  v15 = (v14 - 618) | 0x20;
  (*(v13 + 8 * (v15 + 2601)))(**(&off_1003300C0 + v15 - 354), a12, a9);
  return (*(v13 + 8 * ((173 * ((((v15 + 805797662) | 0x84901148) ^ 0xB49791CA) == -45003)) ^ v15)))(4294922293);
}

void sub_1000077C8(uint64_t a1, uint64_t a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, int a17, int a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, _DWORD *a55, uint64_t a56, uint64_t a57)
{
  v60 = *(a6 + 160);
  (*(v58 + 8 * (a4 ^ v57)))(*(v60 - 0x161D22D60BEDB2F3));
  *(v60 - 0x161D22D60BEDB2F3) = a57;
  *a55 = a18;
  v61 = *(v59 - 124);
  JUMPOUT(0x100007828);
}

uint64_t sub_1000079EC(uint64_t a1)
{
  v5 = *(v3 + v1 - 1 - 31);
  v6 = a1 + v1 - 1;
  *(v6 - 15) = *(v3 + v1 - 1 - 15);
  *(v6 - 31) = v5;
  return (*(v4 + 8 * ((3128 * ((v2 ^ 0x17Cu) - 1228 == (v1 & 0xFFFFFFE0))) ^ v2)))();
}

uint64_t sub_100007A80(uint64_t a1)
{
  *(a1 + v1) = *(v5 + v1);
  v7 = ((v1 + 1) ^ v3) != (v2 ^ 0x2D496C09);
  return (*(v6 + 8 * (((v7 << 6) | (v7 << 7)) ^ v4)))();
}

void sub_100007C0C(uint64_t a1, uint64_t a2, uint64_t a3, int a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, int a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20)
{
  *(a20 - 0x161D22D60BEDB2EBLL) = ((a5 + a4 + 1250) ^ 0x7878E419) + a16 - ((2 * a16) & 0xF0F1C64A);
  *(a20 - 0x161D22D60BEDB2E7) = -499228505;
  v21 = *(v20 - 112);
  JUMPOUT(0x100007DF8);
}

uint64_t sub_100008024(uint64_t a1, int a2, uint64_t a3, uint64_t a4, int a5)
{
  v11 = *(v7 - 0x161D22D60BEDB2F3);
  v12 = ((2 * v5) & 0xFFDFE97E ^ 0xC45CC14E) + (v5 ^ 0x1DD19418) + 1051457;
  v13 = (*(v11 + v12) << 24) | (*(v11 + v12 + 1) << 16) | (*(v11 + v12 + 2) << 8);
  v14 = *(v11 + v12 + 3);
  *(v7 + v9) = v6;
  if (!(v13 | v14))
  {
    return (*(v10 + 8 * ((((a2 ^ (a2 + 493)) - 407) * (v7 == v8)) ^ (a5 + a2 + 27))))(4294922294);
  }

  if ((v13 | v14) == 0xFFFF4FFB)
  {
    return (*(v10 + 8 * (((*(*(&off_1003300C0 + a5 + a2 - 602) - 4) == 0) * (((a5 + a2 - 1727431518) & 0x66F68BBF) - 2568)) ^ (a5 + a2 + 527))))();
  }

  return (*(v10 + 8 * ((16 * (((v7 == v8) ^ (((-77 - a2) ^ 0x2F) + 1)) & 1)) | 0x7AC)))();
}

uint64_t sub_100008518@<X0>(int a1@<W8>)
{
  v8 = (a1 - 1387687271) & 0x52B66EFA;
  (*(v7 + 8 * (a1 ^ 0xB4C)))();
  *(v2 - 0x161D22D60BEDB2F3) = 0;
  *(v2 + v6) = 2021188389;
  *(v2 + v4) = v5;
  (*(v7 + 8 * (v8 + 2352)))(v2 - 0x161D22D60BEDB2F3);
  return (*(v7 + 8 * (((((((v8 + 718) | 0x2C1) + 806746591) | 0x84819002) + 1265135760 + 354 * (((v8 + 718) | 0x2C1) ^ 0x7EE) - 3057) * (v1 == 0)) ^ ((v8 + 718) | 0x2C1))))(v3);
}

void sub_100008640()
{
  *v0 = 0;
  *(v0 + 8) = 1907636452;
  *(v0 + 12) = v1;
  (*(v3 + 8 * (v2 ^ 0xA4E)))(v0);
  JUMPOUT(0x1000048FCLL);
}

uint64_t sub_1000087A8(uint64_t a1, uint64_t a2)
{
  v3 = *(a1 + 24);
  *(a2 + 24) = v3;
  (**(v3 - 8))(a2, a1);
  return a2;
}

uint64_t sub_100008804(uint64_t a1)
{
  v5 = *(v1 + 16);
  v4 = *(v1 + 24);
  v6 = swift_task_alloc();
  *(v2 + 16) = v6;
  *v6 = v2;
  v6[1] = sub_100248108;

  return sub_1000088BC(a1, v5);
}

uint64_t sub_1000088BC(uint64_t a1, int *a2)
{
  v7 = (a2 + *a2);
  v4 = a2[1];
  v5 = swift_task_alloc();
  *(v2 + 16) = v5;
  *v5 = v2;
  v5[1] = sub_100011D58;

  return v7(a1);
}

uint64_t sub_1000089B4(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001ADC24;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100008A80(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001B1134;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100008B4C(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001B56F4;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100008C18(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001BB33C;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100008CE4(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001C9FC8;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100008DB0(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001CCAB0;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100008E7C(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001D4574;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100008F48(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001E5978;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100009014(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001F23C4;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_1000090E0(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001F45E4;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_1000091AC(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001F5F54;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100009278(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_1001F7B90;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100009344(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_100200B30;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100009410(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_10020EE08;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_1000094DC(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_100225A18;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_1000095A8(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_100226E98;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100009674(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_10022BC8C;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_100009740(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_100234B70;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_10000980C(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_10023C25C;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_1000098D8(uint64_t a1)
{
  v4 = v1[2];
  v5 = v1[3];
  v7 = v1[4];
  v6 = v1[5];
  v8 = swift_task_alloc();
  *(v2 + 16) = v8;
  *v8 = v2;
  v8[1] = sub_100248064;

  return sub_1000099A4(a1, v4, v5, v7);
}

uint64_t sub_1000099A4(uint64_t a1, uint64_t a2, uint64_t a3, int *a4)
{
  v8 = (a4 + *a4);
  v5 = a4[1];
  v6 = swift_task_alloc();
  *(v4 + 16) = v6;
  *v6 = v4;
  v6[1] = sub_100244884;

  return v8();
}

uint64_t sub_100009A8C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C10;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_100009B4C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C14;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_100009C0C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C18;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_100009CCC()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C1C;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_100009D8C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C20;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_100009E4C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C24;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_100009F0C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C28;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_100009FCC()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C2C;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A08C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C30;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A14C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C34;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A20C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C38;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A2CC()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C3C;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A38C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C40;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A44C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C44;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A50C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C48;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A5CC()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C4C;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A68C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C50;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A74C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C54;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A80C()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C58;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A8CC()
{
  v2 = v0[2];
  v3 = v0[3];
  v5 = v0[4];
  v4 = v0[5];
  v6 = swift_task_alloc();
  *(v1 + 16) = v6;
  *v6 = v1;
  v6[1] = sub_100011C5C;

  return sub_10000A98C(v2, v3, v5);
}

uint64_t sub_10000A98C(uint64_t a1, uint64_t a2, int *a3)
{
  v7 = (a3 + *a3);
  v4 = a3[1];
  v5 = swift_task_alloc();
  *(v3 + 16) = v5;
  *v5 = v3;
  v5[1] = sub_100248060;

  return v7();
}

uint64_t sub_10000AA74(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AA94(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AAD4(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AAF4(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AB14(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AB24(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AB54(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AB84(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000ABB4(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000ABC4(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000ABD4(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AC44(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AC54(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AC84(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

uint64_t sub_10000AC94(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

void sub_10000AD38(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  if (a2)
  {
    v5 = a3 == 0;
  }

  else
  {
    v5 = 1;
  }

  v8 = v5 || a4 == 0 || a5 == 0;
  __asm { BRAA            X8, X17 }
}

uint64_t sub_10000ADF0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, _DWORD *a28, uint64_t a29, uint64_t a30, uint64_t a31, _DWORD *a32, uint64_t a33, void *a34, void *a35)
{
  *a35 = 0;
  *a32 = 0;
  *a34 = 0;
  *a28 = 0;
  return (*(v35 + 8 * ((200 * (a33 != 0)) ^ 0x26Au)))(a1, a2, 551906117);
}

uint64_t sub_10000AEFC(uint64_t a1, uint64_t a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, unsigned int *a10, unsigned int *a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, unsigned int *a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, int a37, char a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, int a47, char a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, char a53)
{
  if ((a33 + 6) < 5)
  {
    goto LABEL_2;
  }

  if (a33 == -1)
  {
    v61 = a3 + v54;
    v62 = a3 + v54 - 600;
    v63 = (*(v53 + 8 * (v54 + 551908262)))(*a10, &a48) != 0;
    return (*(v53 + 8 * ((v63 * (v61 - 763)) ^ v62)))();
  }

  else
  {
    if (a33 == -8)
    {
LABEL_2:
      v55 = a3 + v54 - 600;
      v56 = (v54 + 13) ^ ((*(v53 + 8 * (v54 + 551908262)))(*a19, &a53) == ((v54 - 686759667) ^ 0xB62B78EF));
      return (*(v53 + 8 * ((44 * (v56 & 1)) ^ v55)))();
    }

    v58 = a3 + v54;
    v59 = a3 + v54 - 189;
    v60 = (*(v53 + 8 * (v54 ^ (v54 + 1160))))(*a11, &a38) == (v54 ^ (v54 - 225)) - 227;
    return (*(v53 + 8 * ((v60 * (v58 + 892)) ^ v59)))();
  }
}

uint64_t sub_10000B1E8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36)
{
  v40 = (*(v37 + 8 * (v38 + 415)))(v39 - 144, 0);
  if (v40 >= 0)
  {
    a31 = *(v39 - 144);
  }

  v48 = a31 / (((v38 - 512) | 0x40u) ^ 0x856);
  v49 = *(a36 + 40 * v36 + 36);
  v51 = v49 >= v48;
  v50 = v49 - v48;
  v51 = !v51 || v50 >= 0x12C;
  v52 = !v51;
  return (*(v37 + 8 * ((35 * v52) | v38)))(v40, v41, 551906117, v42, v43, v44, v45, v46, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20, a21, a22, a23);
}

uint64_t sub_10000B27C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t *a35)
{
  v39 = (*(v37 + 8 * (v38 + 828)))(*(v35 + 40 * v36 + 16), 0x100004077774924);
  *a35 = v39;
  return (*(v37 + 8 * (((v39 == 0) * ((v38 + 464) ^ v38 ^ 0x240)) | v38)))();
}

uint64_t sub_10000B2F4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t *a34)
{
  v38 = (*(v36 + 8 * ((v37 - 551) ^ 0xDA5)))(*(v34 + 40 * v35 + 32), 0x100004077774924);
  *a34 = v38;
  return (*(v36 + 8 * (((v38 == 0) * ((((4 * (v37 - 551)) ^ 0x1814) + 1655999399) & 0x9D4B7BFC ^ 0x82F)) ^ (v37 - 551))))(v38, v39, v40, v41, v42, v43, v44, v45, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20, a21, a22);
}

uint64_t sub_10000B37C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, void *a35)
{
  v37 = (*(v35 + 8 * (v36 ^ 0xB1A)))(*a35);
  *a35 = 0;
  return sub_10000B168(v37, v38, 551906117);
}

void sub_10000B470()
{
  v5 = (v0 + 276668541) & 0xEF8258EA;
  v7 = *v1 - ((2 * *v1) & 0x133BDFB86) - 0x75332ED76621023DLL;
  v8 = *(v4 - 184);
  v9 = *(v4 - 176);
  v10 = *(v4 - 168);
  v6 = *(v2 + 8 * v5);
  __asm { BRAA            X14, X17 }
}

uint64_t sub_10000FDE8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45)
{
  v50 = v45 ^ (v49 - 1721);
  *(v46 - 0x2F9FA99D07A4AD62) = 0;
  *(v46 - 0x2F9FA99D07A4AD5ALL) = -1317876224;
  *(v46 - 0x2F9FA99D07A4AD56) = 0;
  v51 = (*(v47 + 8 * (v45 ^ (v49 + 1158))))(v46 - 0x2F9FA99D07A4AD62);
  return (*(v47 + 8 * ((((((v50 - 281) ^ (a45 == v48)) & 1) == 0) * (((v50 - 537224937) & 0xFF1FF7FF) + 551905353)) ^ v50)))(v51);
}

void sub_10000FF2C()
{
  (*(v3 + 8 * ((v0 & 0xDFBFD7E2) + 551908264)))();
  *v4 = 0;
  *(v1 - 0x63E5E14B55EA7FF6) = v2;
  *(v1 - 0x63E5E14B55EA7FF2) = 223807700;
  JUMPOUT(0x10000FF98);
}

uint64_t sub_10000FFEC()
{
  (*(v2 + 8 * (v1 + 1164)))(v4, v3);
  v5 = (*(v2 + 8 * (v1 + 1156)))() == v0;
  return (*(v2 + 8 * ((v5 * (((v1 - 630840386) & 0x2599DF2D) + 824)) ^ v1)))();
}

uint64_t sub_10001008C()
{
  (*(v2 + 8 * (v1 ^ 0xCB4)))(v4, v3);
  v5 = (*(v2 + 8 * (v1 + 1156)))() == v0;
  return (*(v2 + 8 * ((v5 * (v1 + 1764)) ^ v1)))();
}

void sub_1000100E4()
{
  v2 = *v1;
  v3 = (((v0 + 409103236) & 0xE79D96BA) - 1317876888) ^ *(v1 + 2);
  JUMPOUT(0x10000FC2CLL);
}

uint64_t sub_100010128(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40)
{
  v43 = (*(v41 + 8 * (v40 ^ 0x202)))(a1, 0x100004077774924);
  *(v42 - 232) = v43;
  return (*(v41 + 8 * (((v43 != 0) * (v40 + ((2 * v40) ^ 0x1324) - 2467)) ^ v40)))(v43, v44, 551906117, v45, v46, v47, v48, v49, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20, a21, a22, a23, a24, a25, a26, a27, a28, a29, a30, a31, a32, a33, a34, a35, a36, a37, a38, a39, a40);
}

void sub_10001019C()
{
  v2 = *v1;
  v3 = (v0 + 624) ^ *(v1 + 2) ^ 0xB172CC98;
  JUMPOUT(0x10000FC2CLL);
}

uint64_t sub_1000101C4(mach_port_t a1, uint64_t a2, int a3, void *a4, _DWORD *a5)
{
  v16 = 1;
  v17 = a2;
  v18 = 16777472;
  v19 = a3;
  v20 = NDR_record;
  v21 = a3;
  reply_port = mig_get_reply_port();
  v15.msgh_remote_port = a1;
  v15.msgh_local_port = reply_port;
  v15.msgh_bits = -2147478253;
  *&v15.msgh_voucher_port = 0x4B000000000;
  if (&_voucher_mach_msg_set)
  {
    voucher_mach_msg_set(&v15);
    msgh_local_port = v15.msgh_local_port;
  }

  else
  {
    msgh_local_port = reply_port;
  }

  v10 = mach_msg(&v15, 3, 0x38u, 0x40u, msgh_local_port, 0, 0);
  v11 = v10;
  if ((v10 - 268435458) <= 0xE && ((1 << (v10 - 2)) & 0x4003) != 0)
  {
    mig_put_reply_port(v15.msgh_local_port);
    return v11;
  }

  if (v10)
  {
    mig_dealloc_reply_port(v15.msgh_local_port);
    return v11;
  }

  if (v15.msgh_id == 71)
  {
    v13 = 4294966988;
  }

  else if (v15.msgh_id == 1300)
  {
    if ((v15.msgh_bits & 0x80000000) != 0)
    {
      v13 = 4294966996;
      if (v16 == 1 && v15.msgh_size == 56 && !v15.msgh_remote_port && HIBYTE(v18) == 1)
      {
        v14 = v19;
        if (v19 == v21)
        {
          *a4 = v17;
          *a5 = v14;
          return 0;
        }
      }
    }

    else if (v15.msgh_size == 36)
    {
      v13 = 4294966996;
      if (HIDWORD(v17))
      {
        if (v15.msgh_remote_port)
        {
          v13 = 4294966996;
        }

        else
        {
          v13 = HIDWORD(v17);
        }
      }
    }

    else
    {
      v13 = 4294966996;
    }
  }

  else
  {
    v13 = 4294966995;
  }

  mach_msg_destroy(&v15);
  return v13;
}

void sub_1000103B4(id a1, void *a2)
{
  v2 = *(&off_1003300C0 + (byte_1002A05F0[byte_1002A02D0[(-3 * (dword_1003744B8 ^ 0x8A ^ dword_1003744A8))] ^ 7] ^ (-3 * (dword_1003744B8 ^ 0x8A ^ dword_1003744A8))) + 11);
  v3 = *(v2 - 4);
  v4 = *(&off_1003300C0 + (byte_1002A0844[(byte_1002A04FC[(-3 * (v3 ^ dword_1003744A8 ^ 0x8A)) - 12] ^ 0xEA) - 4] ^ (-3 * (v3 ^ dword_1003744A8 ^ 0x8A))) - 188);
  v5 = v3 - &v11 + *v4;
  v6 = 1543604477 * (v5 - 0x45EA3381FA58338ALL);
  v7 = 1543604477 * (v5 ^ 0x45EA3381FA58338ALL);
  *(v2 - 4) = v6;
  *v4 = v7;
  LOBYTE(v7) = -3 * (*(v2 - 4) ^ 0x8A ^ v7);
  v8 = *(&off_1003300C0 + ((-3 * ((dword_1003744A8 + dword_1003744B8) ^ 0x8A)) ^ byte_1002A0840[byte_1002A04F0[(-3 * ((dword_1003744A8 + dword_1003744B8) ^ 0x8A))] ^ 0xB0]) - 90) - 12;
  v9 = (*&v8[8 * (v7 ^ byte_1002A05F0[byte_1002A02D0[v7] ^ 7]) + 23824])(a2);
  v10 = *&v8[8 * (byte_10029FBC8[(byte_1002A0740[(-3 * ((*v4 + *(v2 - 4)) ^ 0x8A))] ^ 0xE2) - 8] ^ (-3 * ((*v4 + *(v2 - 4)) ^ 0x8A))) + 22664];

  v10(v9);
}

uint64_t sub_100010640()
{
  v0 = *(&off_1003300C0 + ((-3 * ((dword_1003744A8 - dword_1003744C0) ^ 0x8A)) ^ byte_10029FBC0[byte_1002A0740[(-3 * ((dword_1003744A8 - dword_1003744C0) ^ 0x8A))] ^ 0x78]) - 199);
  v1 = *(v0 - 4);
  v2 = *(&off_1003300C0 + (byte_1002A00D0[byte_10029FDC0[(-3 * (v1 ^ dword_1003744A8 ^ 0x8A))] ^ 6] ^ (-3 * (v1 ^ dword_1003744A8 ^ 0x8A))) - 62);
  v3 = 1543604477 * ((*v2 + v1) ^ &v12 ^ 0x45EA3381FA58338ALL);
  *(v0 - 4) = v3;
  *v2 = v3;
  v4 = *(v0 - 4);
  v5 = *(&off_1003300C0 + ((-3 * (dword_1003744C0 ^ 0x8A ^ dword_1003744A8)) ^ byte_10029FBC0[byte_1002A0740[(-3 * (dword_1003744C0 ^ 0x8A ^ dword_1003744A8))] ^ 0x80]) - 241) - 12;
  (*&v5[8 * (byte_10029FBC0[byte_1002A0740[(-3 * ((v3 - v4) ^ 0x8A))] ^ 0xEC] ^ (-3 * ((v3 - v4) ^ 0x8A))) + 22288])(**(&off_1003300C0 + (byte_10029FFD0[byte_10029FCC0[(-3 * (v4 ^ 0x8A ^ v3))] ^ 0x90] ^ (-3 * (v4 ^ 0x8A ^ v3))) - 90));
  v6 = -3 * (*(v0 - 4) ^ 0x8A ^ *v2);
  (*&v5[8 * (byte_1002A01D8[(byte_10029FEC8[v6 - 8] ^ 0xF0) - 8] ^ v6) + 23496])(**(&off_1003300C0 + (v6 ^ byte_1002A00D0[byte_10029FDC0[v6] ^ 0x3F]) - 118));
  v7 = *(v0 - 4);
  v8 = *v2;
  v9 = **(&off_1003300C0 + ((-3 * (v7 ^ 0x8A ^ v8)) ^ byte_10029FBC0[byte_1002A0740[(-3 * (v7 ^ 0x8A ^ v8))] ^ 0xA9]) - 98);
  v10 = *&v5[8 * ((-3 * ((v8 + v7) ^ 0x8A)) ^ byte_10029FFD0[byte_10029FCC0[(-3 * ((v8 + v7) ^ 0x8A))] ^ 0xC3]) + 23160];

  return v10(v9);
}

void sub_100010AEC(id *a1)
{
  v9[2] = a1;
  v9[1] = a1;
  v4 = +[AKNativeAnisetteServiceTrafficManager sharedSigningService];
  [v4 setActiveSigningRequest:0];
  _objc_release(v4);
  v5 = +[AKNativeAnisetteServiceTrafficManager sharedSigningService];
  v9[0] = [v5 pendingSigningRequests];
  _objc_release(v5);
  if ([v9[0] count])
  {
    location = _AKTrafficLogSubsystem();
    v7 = OS_LOG_TYPE_DEBUG;
    if (os_log_type_enabled(location, OS_LOG_TYPE_DEBUG))
    {
      v2 = +[NSNumber numberWithUnsignedInteger:](NSNumber, "numberWithUnsignedInteger:", [v9[0] count]);
      v1 = [NSNumber numberWithUnsignedInt:qos_class_self()];
      sub_10001B098(v10, v2, v1);
      _os_log_debug_impl(&_mh_execute_header, location, v7, "Processing pending signing requests: (%@); qos: %@", v10, 0x16u);
      _objc_release(v1);
      _objc_release(v2);
    }

    objc_storeStrong(&location, 0);
    v6 = [v9[0] firstObject];
    [v9[0] removeObjectAtIndex:0];
    [a1[4] _tq_activateAndExecuteRequest:v6];
    objc_storeStrong(&v6, 0);
  }

  objc_storeStrong(v9, 0);
}

uint64_t sub_100010DD0(uint64_t a1)
{
  v2 = sub_1001AD17C(&unk_100372310, &qword_10029CEC0);
  (*(*(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_100011570(uint64_t a1, uint64_t a2, void *a3)
{
  v6 = sub_1001AD17C(&qword_100372298, &qword_10029CF30);
  v7 = *(*(v6 - 8) + 64);
  v8 = __chkstk_darwin(v6 - 8);
  v10 = &v20 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  v12 = &v20 - v11;
  v13 = *sub_1001B1078((a1 + 32), *(a1 + 56));
  if (a3)
  {
    sub_1001AD17C(&qword_100373250, qword_10029D0B0);
    v14 = swift_allocError();
    *v15 = a3;
    v16 = a3;

    return _swift_continuation_throwingResumeWithError(v13, v14);
  }

  else
  {
    if (a2)
    {
      static URL._unconditionallyBridgeFromObjectiveC(_:)();
      v17 = type metadata accessor for URL();
      (*(*(v17 - 8) + 56))(v10, 0, 1, v17);
    }

    else
    {
      v18 = type metadata accessor for URL();
      (*(*(v18 - 8) + 56))(v10, 1, 1, v18);
    }

    sub_1001FFB70(v10, v12);
    sub_1001FFB70(v12, *(*(v13 + 64) + 40));
    return swift_continuation_throwingResume();
  }
}

uint64_t sub_100011B1C()
{
  v1 = *(*v0 + 16);
  v4 = *v0;

  v2 = *(v4 + 8);

  return v2();
}

uint64_t sub_100011C60()
{
  v1 = *(*v0 + 16);
  v4 = *v0;

  v2 = *(v4 + 8);

  return v2();
}

uint64_t sub_100011D60()
{
  v1 = *(v0 + 16);
  swift_unknownObjectRelease();
  v2 = *(v0 + 40);

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_100011DA0()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100011F94(uint64_t a1, uint64_t *a2, uint64_t *a3)
{
  v4 = sub_1001AD17C(a2, a3);
  (*(*(v4 - 8) + 8))(a1, v4);
  return a1;
}

uint64_t sub_100011FF4(uint64_t a1, uint64_t *a2, uint64_t *a3)
{
  v4 = sub_1001AD17C(a2, a3);
  (*(*(v4 - 8) + 8))(a1, v4);
  return a1;
}

uint64_t sub_100012054(uint64_t a1, uint64_t *a2, uint64_t *a3)
{
  v4 = sub_1001AD17C(a2, a3);
  (*(*(v4 - 8) + 8))(a1, v4);
  return a1;
}

uint64_t sub_1000120B4(uint64_t a1, uint64_t *a2, uint64_t *a3)
{
  v4 = sub_1001AD17C(a2, a3);
  (*(*(v4 - 8) + 8))(a1, v4);
  return a1;
}

uint64_t sub_100012114(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v6 = *(a1 + 32);
  v5 = *(a1 + 40);

  v6(a2, a3);
}

unint64_t sub_100012190(uint64_t a1)
{
  v1 = *(a1 + 16);
  if (v1)
  {
    sub_1001AD17C(&unk_100374250, &qword_10029D9A0);
    v3 = static _DictionaryStorage.allocate(capacity:)();
    v4 = a1 + 32;

    while (1)
    {
      sub_100014260(v4, &v13, &unk_100372FD0, &qword_10029F6F0);
      v5 = v13;
      v6 = v14;
      result = sub_10023A350(v13, v14);
      if (v8)
      {
        break;
      }

      *(v3 + ((result >> 3) & 0x1FFFFFFFFFFFFFF8) + 64) |= 1 << result;
      v9 = (v3[6] + 16 * result);
      *v9 = v5;
      v9[1] = v6;
      result = sub_1000122C0(&v15, (v3[7] + 32 * result));
      v10 = v3[2];
      v11 = __OFADD__(v10, 1);
      v12 = v10 + 1;
      if (v11)
      {
        goto LABEL_10;
      }

      v3[2] = v12;
      v4 += 48;
      if (!--v1)
      {

        return v3;
      }
    }

    __break(1u);
LABEL_10:
    __break(1u);
  }

  else
  {
    return &_swiftEmptyDictionarySingleton;
  }

  return result;
}

_OWORD *sub_1000122C0(_OWORD *a1, _OWORD *a2)
{
  v2 = a1[1];
  *a2 = *a1;
  a2[1] = v2;
  return a2;
}

uint64_t sub_1000122D0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4 = sub_100012190(&_swiftEmptyArrayStorage);
  v172 = v4;
  v5 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v7 = v6;
  v8 = objc_opt_self();
  v9 = [v8 stringFromColumn:0 inStatement:a1];
  if (v9)
  {
    v10 = v9;
    v11 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v13 = v12;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v11;
    *(&v177 + 1) = v13;
    sub_1000122C0(&v177, &v175);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    sub_1000133C8(&v175, v5, v7, isUniquelyReferenced_nonNull_native);

    v172 = v4;
  }

  else
  {
    sub_1001F9D14(v5, v7, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v15 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v17 = v16;
  v18 = [v8 stringFromColumn:1 inStatement:a1];
  if (v18)
  {
    v19 = v18;
    v20 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v22 = v21;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v20;
    *(&v177 + 1) = v22;
    sub_1000122C0(&v177, &v175);
    v23 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v15, v17, v23);
  }

  else
  {
    sub_1001F9D14(v15, v17, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v24 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v26 = v25;
  v27 = [v8 stringFromColumn:2 inStatement:a1];
  if (v27)
  {
    v28 = v27;
    v29 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v31 = v30;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v29;
    *(&v177 + 1) = v31;
    sub_1000122C0(&v177, &v175);
    v32 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v24, v26, v32);
  }

  else
  {
    sub_1001F9D14(v24, v26, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v33 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v35 = v34;
  v36 = [v8 stringFromColumn:3 inStatement:a1];
  if (v36)
  {
    v37 = v36;
    v38 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v40 = v39;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v38;
    *(&v177 + 1) = v40;
    sub_1000122C0(&v177, &v175);
    v41 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v33, v35, v41);
  }

  else
  {
    sub_1001F9D14(v33, v35, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v42 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v44 = v43;
  v45 = [v8 stringFromColumn:4 inStatement:a1];
  if (v45)
  {
    v46 = v45;
    v47 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v49 = v48;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v47;
    *(&v177 + 1) = v49;
    sub_1000122C0(&v177, &v175);
    v50 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v42, v44, v50);
  }

  else
  {
    sub_1001F9D14(v42, v44, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v51 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v53 = v52;
  v54 = [v8 stringFromColumn:5 inStatement:a1];
  if (v54)
  {
    v55 = v54;
    v56 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v58 = v57;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v56;
    *(&v177 + 1) = v58;
    sub_1000122C0(&v177, &v175);
    v59 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v51, v53, v59);
  }

  else
  {
    sub_1001F9D14(v51, v53, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v60 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v62 = v61;
  v63 = [v8 stringFromColumn:6 inStatement:a1];
  if (v63)
  {
    v64 = v63;
    v65 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v67 = v66;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v65;
    *(&v177 + 1) = v67;
    sub_1000122C0(&v177, &v175);
    v68 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v60, v62, v68);
  }

  else
  {
    sub_1001F9D14(v60, v62, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v69 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v71 = v70;
  v72 = [v8 stringFromColumn:7 inStatement:a1];
  if (v72)
  {
    v73 = v72;
    v74 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v76 = v75;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v74;
    *(&v177 + 1) = v76;
    sub_1000122C0(&v177, &v175);
    v77 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v69, v71, v77);
  }

  else
  {
    sub_1001F9D14(v69, v71, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v78 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v80 = v79;
  v81 = [v8 stringFromColumn:8 inStatement:a1];
  if (v81)
  {
    v82 = v81;
    v83 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v85 = v84;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v83;
    *(&v177 + 1) = v85;
    sub_1000122C0(&v177, &v175);
    v86 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v78, v80, v86);
  }

  else
  {
    sub_1001F9D14(v78, v80, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v87 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v89 = v88;
  v90 = [v8 stringFromColumn:9 inStatement:a1];
  if (v90)
  {
    v91 = v90;
    v92 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v94 = v93;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v92;
    *(&v177 + 1) = v94;
    sub_1000122C0(&v177, &v175);
    v95 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v87, v89, v95);
  }

  else
  {
    sub_1001F9D14(v87, v89, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v96 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v98 = v97;
  v99 = [v8 stringFromColumn:10 inStatement:a1];
  if (v99)
  {
    v100 = v99;
    v101 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v103 = v102;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v101;
    *(&v177 + 1) = v103;
    sub_1000122C0(&v177, &v175);
    v104 = swift_isUniquelyReferenced_nonNull_native();
    sub_1000133C8(&v175, v96, v98, v104);
  }

  else
  {
    sub_1001F9D14(v96, v98, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  v105 = v172;
  v106 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v108 = v107;
  v109 = [v8 integerFromColumn:11 inStatement:a1];
  v110 = [v109 BOOLValue];

  *(&v178 + 1) = &type metadata for Bool;
  LOBYTE(v177) = v110;
  sub_1000122C0(&v177, &v175);
  v111 = swift_isUniquelyReferenced_nonNull_native();
  *&v174[0] = v172;
  sub_1000133C8(&v175, v106, v108, v111);

  v112 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v114 = v113;
  v115 = [v8 stringFromColumn:12 inStatement:a1];
  if (v115)
  {
    v116 = v115;
    v117 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v119 = v118;

    *(&v178 + 1) = &type metadata for String;
    *&v177 = v117;
    *(&v177 + 1) = v119;
    sub_1000122C0(&v177, &v175);
    v120 = swift_isUniquelyReferenced_nonNull_native();
    *&v174[0] = v172;
    sub_1000133C8(&v175, v112, v114, v120);
  }

  else
  {
    sub_1001F9D14(v112, v114, &v177);

    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
    v105 = v172;
  }

  v121 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v123 = v122;
  v124 = [v8 integerFromColumn:13 inStatement:a1];
  v125 = [v124 BOOLValue];

  *(&v178 + 1) = &type metadata for Bool;
  LOBYTE(v177) = v125;
  sub_1000122C0(&v177, &v175);
  v126 = swift_isUniquelyReferenced_nonNull_native();
  sub_1000133C8(&v175, v121, v123, v126);

  v127 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v129 = v128;
  v130 = &selRef_canBeCustodianForAccount_;
  v131 = [v8 doubleFromColumn:14 inStatement:a1];
  [v131 doubleValue];
  v133 = v132;

  *(&v178 + 1) = &type metadata for Double;
  *&v177 = v133 * 1000.0;
  sub_1000122C0(&v177, &v175);
  v134 = swift_isUniquelyReferenced_nonNull_native();
  *&v174[0] = v105;
  sub_1000133C8(&v175, v127, v129, v134);

  v173 = v105;
  v135 = [v8 dataFromColumn:15 inStatement:a1];
  v136 = static Data._unconditionallyBridgeFromObjectiveC(_:)();
  v138 = v137;

  v139 = objc_opt_self();
  isa = Data._bridgeToObjectiveC()().super.isa;
  *&v177 = 0;
  v141 = [v139 JSONObjectWithData:isa options:0 error:&v177];

  v142 = v177;
  if (v141)
  {
    _bridgeAnyObjectToAny(_:)();
    swift_unknownObjectRelease();
  }

  else
  {
    v143 = v142;
    _convertNSErrorToError(_:)();

    swift_willThrow();

    v177 = 0u;
    v178 = 0u;
  }

  v144 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v146 = v145;
  sub_100013AC4(&v177, &v175);
  if (v176)
  {
    v147 = sub_1001AD17C(&qword_100372308, &qword_10029E2A0);
    if (swift_dynamicCast())
    {
      v176 = v147;
      *&v175 = *&v174[0];
      sub_1000122C0(&v175, v174);
      v148 = swift_isUniquelyReferenced_nonNull_native();
      sub_1000133C8(v174, v144, v146, v148);

      v173 = v105;
      goto LABEL_45;
    }
  }

  else
  {
    sub_1001FA4B4(&v175, &qword_100372080, &qword_10029C6E0);
  }

  sub_1001F9D14(v144, v146, &v175);

  sub_1001FA4B4(&v175, &qword_100372080, &qword_10029C6E0);
LABEL_45:
  v149 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v151 = v150;
  v152 = [v8 stringFromColumn:17 inStatement:a1];
  if (v152)
  {
    v153 = v152;
    v154 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v156 = v155;

    v176 = &type metadata for String;
    *&v175 = v154;
    *(&v175 + 1) = v156;
    v130 = &selRef_canBeCustodianForAccount_;
    sub_1000122C0(&v175, v174);
    v157 = swift_isUniquelyReferenced_nonNull_native();
    sub_1000133C8(v174, v149, v151, v157);
  }

  else
  {
    sub_1001F9D14(v149, v151, &v175);

    sub_1001FA4B4(&v175, &qword_100372080, &qword_10029C6E0);
  }

  v158 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v160 = v159;
  v161 = [v8 v130[242]];
  [v161 doubleValue];
  v163 = v162;

  v176 = &type metadata for Double;
  *&v175 = v163 * 1000.0;
  sub_1000122C0(&v175, v174);
  v164 = swift_isUniquelyReferenced_nonNull_native();
  sub_1000133C8(v174, v158, v160, v164);

  v165 = [v8 stringFromColumn:16 inStatement:a1];
  if (v165)
  {

    swift_beginAccess();
    v166 = *(a3 + 16);
    v167 = swift_isUniquelyReferenced_nonNull_native();
    *(a3 + 16) = v166;
    if ((v167 & 1) == 0)
    {
      v166 = sub_100013AA0(0, v166[2] + 1, 1, v166);
      *(a3 + 16) = v166;
    }

    v169 = v166[2];
    v168 = v166[3];
    if (v169 >= v168 >> 1)
    {
      v166 = sub_100013AA0((v168 > 1), v169 + 1, 1, v166);
    }

    v166[2] = v169 + 1;
    v166[v169 + 4] = v173;
    *(a3 + 16) = v166;
    swift_endAccess();
    sub_100013B34(v136, v138);
    return sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }

  else
  {
    sub_100013B34(v136, v138);
    sub_1001FA4B4(&v177, &qword_100372080, &qword_10029C6E0);
  }
}

_OWORD *sub_1000133C8(_OWORD *a1, uint64_t a2, uint64_t a3, char a4)
{
  v5 = v4;
  v10 = *v4;
  v11 = sub_10023A350(a2, a3);
  v13 = *(v10 + 16);
  v14 = (v12 & 1) == 0;
  v15 = __OFADD__(v13, v14);
  v16 = v13 + v14;
  if (v15)
  {
    __break(1u);
    goto LABEL_16;
  }

  v17 = v12;
  v18 = *(v10 + 24);
  if (v18 < v16 || (a4 & 1) == 0)
  {
    if (v18 >= v16 && (a4 & 1) == 0)
    {
      v19 = v11;
      sub_100231BF0();
      v11 = v19;
      goto LABEL_8;
    }

    sub_100013648(v16, a4 & 1);
    v20 = *v5;
    v11 = sub_10023A350(a2, a3);
    if ((v17 & 1) != (v21 & 1))
    {
LABEL_16:
      result = KEY_TYPE_OF_DICTIONARY_VIOLATES_HASHABLE_REQUIREMENTS(_:)();
      __break(1u);
      return result;
    }
  }

LABEL_8:
  v22 = *v5;
  if (v17)
  {
    v23 = (v22[7] + 32 * v11);
    sub_1001AD48C(v23);

    return sub_1000122C0(a1, v23);
  }

  else
  {
    sub_100013900(v11, a2, a3, a1, v22);
  }
}

unint64_t sub_100013518(uint64_t a1, uint64_t a2)
{
  v5 = *(v2 + 40);
  Hasher.init(_seed:)();
  String.hash(into:)();
  v6 = Hasher._finalize()();

  return sub_100013590(a1, a2, v6);
}

unint64_t sub_100013590(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4 = -1 << *(v3 + 32);
  v5 = a3 & ~v4;
  if ((*(v3 + 64 + ((v5 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v5))
  {
    v8 = ~v4;
    do
    {
      v9 = (*(v3 + 48) + 16 * v5);
      if (*v9 == a1 && v9[1] == a2)
      {
        break;
      }

      if (_stringCompareWithSmolCheck(_:_:expecting:)())
      {
        break;
      }

      v5 = (v5 + 1) & v8;
    }

    while (((*(v3 + 64 + ((v5 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v5) & 1) != 0);
  }

  return v5;
}

uint64_t sub_100013648(uint64_t a1, char a2)
{
  v3 = v2;
  v5 = *v2;
  if (*(*v2 + 24) > a1)
  {
    v6 = *(*v2 + 24);
  }

  sub_1001AD17C(&unk_100374250, &qword_10029D9A0);
  v36 = a2;
  result = static _DictionaryStorage.resize(original:capacity:move:)();
  v8 = result;
  if (*(v5 + 16))
  {
    v35 = v3;
    v9 = 0;
    v10 = (v5 + 64);
    v11 = 1 << *(v5 + 32);
    if (v11 < 64)
    {
      v12 = ~(-1 << v11);
    }

    else
    {
      v12 = -1;
    }

    v13 = v12 & *(v5 + 64);
    v14 = (v11 + 63) >> 6;
    v15 = result + 64;
    while (v13)
    {
      v18 = __clz(__rbit64(v13));
      v13 &= v13 - 1;
LABEL_17:
      v21 = v18 | (v9 << 6);
      v22 = (*(v5 + 48) + 16 * v21);
      v23 = *v22;
      v24 = v22[1];
      v25 = (*(v5 + 56) + 32 * v21);
      if (v36)
      {
        sub_1000122C0(v25, v37);
      }

      else
      {
        sub_1000087A8(v25, v37);
      }

      v26 = *(v8 + 40);
      Hasher.init(_seed:)();
      String.hash(into:)();
      result = Hasher._finalize()();
      v27 = -1 << *(v8 + 32);
      v28 = result & ~v27;
      v29 = v28 >> 6;
      if (((-1 << v28) & ~*(v15 + 8 * (v28 >> 6))) == 0)
      {
        v30 = 0;
        v31 = (63 - v27) >> 6;
        while (++v29 != v31 || (v30 & 1) == 0)
        {
          v32 = v29 == v31;
          if (v29 == v31)
          {
            v29 = 0;
          }

          v30 |= v32;
          v33 = *(v15 + 8 * v29);
          if (v33 != -1)
          {
            v16 = __clz(__rbit64(~v33)) + (v29 << 6);
            goto LABEL_9;
          }
        }

LABEL_38:
        __break(1u);
        return result;
      }

      v16 = __clz(__rbit64((-1 << v28) & ~*(v15 + 8 * (v28 >> 6)))) | v28 & 0x7FFFFFFFFFFFFFC0;
LABEL_9:
      *(v15 + ((v16 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v16;
      v17 = (*(v8 + 48) + 16 * v16);
      *v17 = v23;
      v17[1] = v24;
      result = sub_1000122C0(v37, (*(v8 + 56) + 32 * v16));
      ++*(v8 + 16);
    }

    v19 = v9;
    while (1)
    {
      v9 = v19 + 1;
      if (__OFADD__(v19, 1))
      {
        __break(1u);
        goto LABEL_38;
      }

      if (v9 >= v14)
      {
        break;
      }

      v20 = v10[v9];
      ++v19;
      if (v20)
      {
        v18 = __clz(__rbit64(v20));
        v13 = (v20 - 1) & v20;
        goto LABEL_17;
      }
    }

    if ((v36 & 1) == 0)
    {

      v3 = v35;
      goto LABEL_36;
    }

    v34 = 1 << *(v5 + 32);
    v3 = v35;
    if (v34 >= 64)
    {
      bzero((v5 + 64), ((v34 + 63) >> 3) & 0x1FFFFFFFFFFFFFF8);
    }

    else
    {
      *v10 = -1 << v34;
    }

    *(v5 + 16) = 0;
  }

LABEL_36:
  *v3 = v8;
  return result;
}

_OWORD *sub_100013900(unint64_t a1, uint64_t a2, uint64_t a3, _OWORD *a4, void *a5)
{
  a5[(a1 >> 6) + 8] |= 1 << a1;
  v6 = (a5[6] + 16 * a1);
  *v6 = a2;
  v6[1] = a3;
  result = sub_1000122C0(a4, (a5[7] + 32 * a1));
  v8 = a5[2];
  v9 = __OFADD__(v8, 1);
  v10 = v8 + 1;
  if (v9)
  {
    __break(1u);
  }

  else
  {
    a5[2] = v10;
  }

  return result;
}

void *sub_10001396C(void *result, int64_t a2, char a3, void *a4, uint64_t *a5, uint64_t *a6, uint64_t *a7, uint64_t *a8)
{
  v11 = result;
  if (a3)
  {
    v12 = a4[3];
    v13 = v12 >> 1;
    if ((v12 >> 1) < a2)
    {
      if (v13 + 0x4000000000000000 < 0)
      {
        __break(1u);
        return result;
      }

      v13 = v12 & 0xFFFFFFFFFFFFFFFELL;
      if ((v12 & 0xFFFFFFFFFFFFFFFELL) <= a2)
      {
        v13 = a2;
      }
    }
  }

  else
  {
    v13 = a2;
  }

  v14 = a4[2];
  if (v13 <= v14)
  {
    v15 = a4[2];
  }

  else
  {
    v15 = v13;
  }

  if (v15)
  {
    sub_1001AD17C(a5, a6);
    v16 = swift_allocObject();
    v17 = j__malloc_size_0(v16);
    v18 = v17 - 32;
    if (v17 < 32)
    {
      v18 = v17 - 25;
    }

    v16[2] = v14;
    v16[3] = 2 * (v18 >> 3);
  }

  else
  {
    v16 = &_swiftEmptyArrayStorage;
  }

  if (v11)
  {
    if (v16 != a4 || v16 + 4 >= &a4[v14 + 4])
    {
      memmove(v16 + 4, a4 + 4, 8 * v14);
    }

    a4[2] = 0;
  }

  else
  {
    sub_1001AD17C(a7, a8);
    swift_arrayInitWithCopy();
  }

  return v16;
}

uint64_t sub_100013AC4(uint64_t a1, uint64_t a2)
{
  v4 = sub_1001AD17C(&qword_100372080, &qword_10029C6E0);
  (*(*(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_100013B34(uint64_t a1, unint64_t a2)
{
  if (a2 >> 62 != 1)
  {
    if (a2 >> 62 != 2)
    {
      return result;
    }
  }
}

uint64_t sub_100013BB8(uint64_t a1, unint64_t *a2, uint64_t *a3)
{
  result = *a2;
  if (!*a2)
  {
    v5 = *a3;
    objc_opt_self();
    result = swift_getObjCClassMetadata();
    atomic_store(result, a2);
  }

  return result;
}

uint64_t sub_100013C00(uint64_t a1, unint64_t *a2, uint64_t *a3)
{
  result = *a2;
  if (!*a2)
  {
    v5 = *a3;
    objc_opt_self();
    result = swift_getObjCClassMetadata();
    atomic_store(result, a2);
  }

  return result;
}

NSObject *sub_100013C48(void *a1)
{
  if (qword_100371BC8 != -1)
  {
    swift_once();
  }

  v3 = type metadata accessor for Logger();
  sub_1001AD2E4(v3, qword_100377668);
  v4 = Logger.logObject.getter();
  v5 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v4, v5))
  {
    v6 = swift_slowAlloc();
    v7 = swift_slowAlloc();
    aBlock[0] = v7;
    *v6 = 136315138;
    *(v6 + 4) = sub_10024B050(0xD000000000000033, 0x80000001002AB010, aBlock);
    _os_log_impl(&_mh_execute_header, v4, v5, "DeletedDeviceListProvider - Begin fetching deleted devices from cache for query %s", v6, 0xCu);
    sub_1001AD48C(v7);
  }

  v8 = swift_allocObject();
  v8[2] = &_swiftEmptyArrayStorage;
  v9 = String._bridgeToObjectiveC()();
  v10 = [objc_opt_self() queryWithString:v9];

  v11 = [a1 altDSID];
  if (!v11)
  {
    v27 = Logger.logObject.getter();
    v28 = static os_log_type_t.error.getter();
    if (os_log_type_enabled(v27, v28))
    {
      v29 = swift_slowAlloc();
      *v29 = 0;
      _os_log_impl(&_mh_execute_header, v27, v28, "DeletedDeviceListProvider - Context altDSID is nil, cannot fetch deleted devices", v29, 2u);
    }

    type metadata accessor for DeviceListError(0);
    v26 = v30;
    sub_1001E4150(&_swiftEmptyArrayStorage);
    sub_1001BE2F4();
    _BridgedStoredNSError.init(_:userInfo:)();
    swift_willThrow();
    goto LABEL_16;
  }

  v12 = v11;
  v13 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v15 = v14;

  sub_1001AD17C(&unk_100374270, &qword_10029DE30);
  v16 = swift_allocObject();
  *(v16 + 16) = xmmword_10029BEB0;
  *(v16 + 56) = &type metadata for String;
  *(v16 + 32) = v13;
  *(v16 + 40) = v15;
  isa = Array._bridgeToObjectiveC()().super.isa;

  aBlock[0] = 0;
  [v10 bindParameters:isa error:aBlock];

  v18 = aBlock[0];
  aBlock[4] = sub_100013BB0;
  aBlock[5] = v8;
  aBlock[0] = _NSConcreteStackBlock;
  aBlock[1] = 1107296256;
  aBlock[2] = sub_100012114;
  aBlock[3] = &unk_100327318;
  v19 = _Block_copy(aBlock);
  v20 = v18;

  [v10 setRowHandler:v19];
  _Block_release(v19);
  v21 = *(v1 + 16);
  aBlock[0] = 0;
  if (![v21 performQuery:v10 error:aBlock])
  {
    v31 = aBlock[0];
    _convertNSErrorToError(_:)();

    swift_willThrow();
    swift_errorRetain();
    v26 = Logger.logObject.getter();
    v32 = static os_log_type_t.error.getter();

    if (os_log_type_enabled(v26, v32))
    {
      v33 = swift_slowAlloc();
      v34 = swift_slowAlloc();
      *v33 = 138412290;
      swift_errorRetain();
      v35 = _swift_stdlib_bridgeErrorToNSError();
      *(v33 + 4) = v35;
      *v34 = v35;
      _os_log_impl(&_mh_execute_header, v26, v32, "Error %@ fetching deleted devices from cache", v33, 0xCu);
      sub_1001D623C(v34, &unk_1003726A0, &unk_10029CFA0);
    }

    swift_willThrow();
LABEL_16:

    return v26;
  }

  v22 = aBlock[0];
  v23 = Logger.logObject.getter();
  v24 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v23, v24))
  {
    v25 = swift_slowAlloc();
    *v25 = 0;
    _os_log_impl(&_mh_execute_header, v23, v24, "DeletedDeviceListProvider - Finished fetching deleted devices from cache", v25, 2u);
  }

  swift_beginAccess();
  v26 = v8[2];

  return v26;
}

uint64_t sub_100014228()
{
  v1 = *(v0 + 16);

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100014260(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t *a4)
{
  v6 = sub_1001AD17C(a3, a4);
  (*(*(v6 - 8) + 16))(a2, a1, v6);
  return a2;
}

uint64_t sub_100014BA8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v5 = sub_100012190(&_swiftEmptyArrayStorage);
  v44 = v5;
  v6 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v8 = v7;
  v9 = objc_opt_self();
  v10 = [v9 stringFromColumn:0 inStatement:a1];
  if (v10)
  {
    v11 = v10;
    v12 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v14 = v13;

    v43 = &type metadata for String;
    *&v42 = v12;
    *(&v42 + 1) = v14;
    sub_1000122C0(&v42, v41);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    sub_1000133C8(v41, v6, v8, isUniquelyReferenced_nonNull_native);

    v44 = v5;
  }

  else
  {
    sub_1001F9D14(v6, v8, &v42);

    sub_1001D623C(&v42, &qword_100372080, &qword_10029C6E0);
    v5 = v44;
  }

  v16 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v18 = v17;
  v19 = [v9 integerFromColumn:1 inStatement:a1];
  v43 = sub_100013BB8(0, &qword_100372D58, NSNumber_ptr);
  *&v42 = v19;
  sub_1000122C0(&v42, v41);
  v20 = swift_isUniquelyReferenced_nonNull_native();
  sub_1000133C8(v41, v16, v18, v20);

  v44 = v5;
  v21 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v23 = v22;
  v24 = [v9 doubleFromColumn:2 inStatement:a1];
  [v24 doubleValue];
  v26 = v25;

  v43 = &type metadata for Double;
  *&v42 = v26 * 1000.0;
  sub_1000122C0(&v42, v41);
  v27 = swift_isUniquelyReferenced_nonNull_native();
  sub_1000133C8(v41, v21, v23, v27);

  v44 = v5;
  v28 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v30 = v29;
  v31 = [v9 doubleFromColumn:4 inStatement:a1];
  [v31 doubleValue];
  v33 = v32;

  v43 = &type metadata for Double;
  *&v42 = v33 * 1000.0;
  sub_1000122C0(&v42, v41);
  v34 = swift_isUniquelyReferenced_nonNull_native();
  sub_1000133C8(v41, v28, v30, v34);

  v35 = [v9 stringFromColumn:3 inStatement:a1];
  if (!v35)
  {
  }

  swift_beginAccess();
  v36 = *(a3 + 16);
  v37 = swift_isUniquelyReferenced_nonNull_native();
  *(a3 + 16) = v36;
  if ((v37 & 1) == 0)
  {
    v36 = sub_100013AA0(0, v36[2] + 1, 1, v36);
    *(a3 + 16) = v36;
  }

  v39 = v36[2];
  v38 = v36[3];
  if (v39 >= v38 >> 1)
  {
    v36 = sub_100013AA0((v38 > 1), v39 + 1, 1, v36);
  }

  v36[2] = v39 + 1;
  v36[v39 + 4] = v5;
  *(a3 + 16) = v36;
  return swift_endAccess();
}

void sub_100014FF8(uint64_t a1, uint64_t a2, void *a3, void *a4)
{
  swift_beginAccess();
  Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    v7 = Strong;
    v8 = [a4 altDSID];
    if (v8)
    {
      v9 = v8;
      v10 = [a3 authKitAccountWithAltDSID:v8];

      if (v10)
      {
        v11 = *&v7[OBJC_IVAR___AKDeviceListStoreManager_deviceListProvider];

        v87 = sub_1001F7EF0(a4);

        v27 = *&v7[OBJC_IVAR___AKDeviceListStoreManager_deletedDeviceListProvider];

        v86 = sub_100013C48(a4);

        sub_1001AD17C(&qword_100373FA8, &unk_10029F0A0);
        inited = swift_initStackObject();
        *(inited + 16) = xmmword_10029F650;
        *(inited + 32) = static String._unconditionallyBridgeFromObjectiveC(_:)();
        *(inited + 40) = v36;
        v37 = [a3 deviceListVersionForAccount:v10];
        v38 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v40 = v39;

        *(inited + 72) = &type metadata for String;
        *(inited + 48) = v38;
        *(inited + 56) = v40;
        *(inited + 80) = static String._unconditionallyBridgeFromObjectiveC(_:)();
        *(inited + 88) = v41;
        v42 = [a4 altDSID];
        if (v42)
        {
          v43 = v42;
          v44 = static String._unconditionallyBridgeFromObjectiveC(_:)();
          v46 = v45;
        }

        else
        {
          v44 = 0;
          v46 = 0;
        }

        *(inited + 120) = sub_1001AD17C(&qword_100373FA0, &qword_10029F090);
        *(inited + 96) = v44;
        *(inited + 104) = v46;
        *(inited + 128) = static String._unconditionallyBridgeFromObjectiveC(_:)();
        *(inited + 136) = v47;
        v48 = sub_1001AD17C(&qword_100374308, &qword_10029F6E8);
        *(inited + 168) = v48;
        *(inited + 144) = v87;
        *(inited + 176) = static String._unconditionallyBridgeFromObjectiveC(_:)();
        *(inited + 184) = v49;
        *(inited + 216) = v48;
        *(inited + 192) = v86;

        v50 = sub_100012190(inited);
        swift_setDeallocating();
        sub_1001AD17C(&unk_100372FD0, &qword_10029F6F0);
        swift_arrayDestroy();
        v51 = objc_opt_self();
        v52 = swift_initStackObject();
        *(v52 + 16) = xmmword_10029BEB0;
        *(v52 + 32) = static String._unconditionallyBridgeFromObjectiveC(_:)();
        *(v52 + 40) = v53;
        sub_1001AD17C(&qword_100373868, qword_10029E7D8);
        v54 = swift_allocObject();
        *(v54 + 16) = xmmword_10029BEB0;
        *(v54 + 32) = v50;
        *(v52 + 72) = v48;
        *(v52 + 48) = v54;

        sub_100012190(v52);
        swift_setDeallocating();
        sub_10023B3E4(v52 + 32, &unk_100372FD0, &qword_10029F6F0);
        isa = Dictionary._bridgeToObjectiveC()().super.isa;

        v56 = [v51 deviceMapFromResponseBody:isa];

        sub_10023B268(0, &qword_1003742F0, AKDeviceListResponse_ptr);
        v57 = static Dictionary._unconditionallyBridgeFromObjectiveC(_:)();

        v58 = [a4 altDSID];
        if (v58)
        {
          v59 = v58;

          v60 = static String._unconditionallyBridgeFromObjectiveC(_:)();
          v62 = v61;

          if (*(v57 + 16))
          {
            v63 = sub_10023A350(v60, v62);
            v65 = v64;

            if (v65)
            {
              v66 = *(*(v57 + 56) + 8 * v63);

              v67 = [v66 deviceList];
              if (v67)
              {
                v68 = v67;
                sub_10023B268(0, &unk_100374310, AKRemoteDevice_ptr);
                v69 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

                v70 = v69 >> 62 ? _CocoaArrayWrapper.endIndex.getter() : *((v69 & 0xFFFFFFFFFFFFFF8) + 0x10);

                if (v70)
                {
                  if (qword_100371BC8 != -1)
                  {
                    swift_once();
                  }

                  v71 = type metadata accessor for Logger();
                  sub_1001AD2E4(v71, qword_100377668);
                  v72 = Logger.logObject.getter();
                  v73 = static os_log_type_t.info.getter();
                  if (os_log_type_enabled(v72, v73))
                  {
                    v74 = swift_slowAlloc();
                    *v74 = 0;
                    _os_log_impl(&_mh_execute_header, v72, v73, "DeviceListStoreManager - Finished fetching device list from cache", v74, 2u);
                  }

                  v88 = v66;
                  sub_1001AD17C(&unk_1003742F8, &unk_10029F6D8);
                  CheckedContinuation.resume(returning:)();
                  goto LABEL_46;
                }
              }

              goto LABEL_39;
            }
          }

          else
          {
          }

LABEL_39:
          if (qword_100371BC8 != -1)
          {
            swift_once();
          }

          v75 = type metadata accessor for Logger();
          sub_1001AD2E4(v75, qword_100377668);
          v76 = a4;
          v77 = Logger.logObject.getter();
          v78 = static os_log_type_t.error.getter();
          if (!os_log_type_enabled(v77, v78))
          {

            goto LABEL_45;
          }

          v79 = swift_slowAlloc();
          v80 = swift_slowAlloc();
          v88 = v80;
          *v79 = 136315138;
          v81 = [v76 altDSID];

          if (v81)
          {
            v82 = static String._unconditionallyBridgeFromObjectiveC(_:)();
            v84 = v83;

            v85 = sub_10024B050(v82, v84, &v88);

            *(v79 + 4) = v85;
            _os_log_impl(&_mh_execute_header, v77, v78, "Device not found for altDSID %s", v79, 0xCu);
            sub_1001AD48C(v80);

LABEL_45:

            type metadata accessor for DeviceListError(0);
            sub_1001E4150(&_swiftEmptyArrayStorage);
            sub_1001BE2F4();
            _BridgedStoredNSError.init(_:userInfo:)();
            sub_1001AD17C(&unk_1003742F8, &unk_10029F6D8);
            CheckedContinuation.resume(throwing:)();
LABEL_46:

            return;
          }

          goto LABEL_51;
        }

LABEL_50:
        __break(1u);
LABEL_51:
        __break(1u);
        return;
      }

      if (qword_100371BC8 != -1)
      {
        swift_once();
      }

      v16 = type metadata accessor for Logger();
      sub_1001AD2E4(v16, qword_100377668);
      v17 = a4;
      v18 = Logger.logObject.getter();
      v19 = static os_log_type_t.error.getter();
      if (!os_log_type_enabled(v18, v19))
      {

        goto LABEL_16;
      }

      v20 = swift_slowAlloc();
      v21 = swift_slowAlloc();
      v88 = v21;
      *v20 = 136315138;
      v22 = [v17 altDSID];

      if (v22)
      {
        v23 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v25 = v24;

        v26 = sub_10024B050(v23, v25, &v88);

        *(v20 + 4) = v26;
        _os_log_impl(&_mh_execute_header, v18, v19, "Missing authkit account for altDSID %s", v20, 0xCu);
        sub_1001AD48C(v21);

LABEL_16:

        type metadata accessor for DeviceListError(0);
        sub_1001E4150(&_swiftEmptyArrayStorage);
        sub_1001BE2F4();
        _BridgedStoredNSError.init(_:userInfo:)();
        v28 = v88;
        swift_willThrow();
        if (qword_100371BC8 != -1)
        {
          swift_once();
        }

        v29 = type metadata accessor for Logger();
        sub_1001AD2E4(v29, qword_100377668);
        swift_errorRetain();
        v30 = Logger.logObject.getter();
        v31 = static os_log_type_t.error.getter();

        if (os_log_type_enabled(v30, v31))
        {
          v32 = swift_slowAlloc();
          v33 = swift_slowAlloc();
          *v32 = 138412290;
          swift_errorRetain();
          v34 = _swift_stdlib_bridgeErrorToNSError();
          *(v32 + 4) = v34;
          *v33 = v34;
          _os_log_impl(&_mh_execute_header, v30, v31, "Error %@ fetching device list from cache", v32, 0xCu);
          sub_10023B3E4(v33, &unk_1003726A0, &unk_10029CFA0);
        }

        v88 = v28;
        sub_1001AD17C(&unk_1003742F8, &unk_10029F6D8);
        CheckedContinuation.resume(throwing:)();

        return;
      }
    }

    else
    {
      __break(1u);
    }

    __break(1u);
    goto LABEL_50;
  }

  if (qword_100371BC8 != -1)
  {
    swift_once();
  }

  v12 = type metadata accessor for Logger();
  sub_1001AD2E4(v12, qword_100377668);
  v13 = Logger.logObject.getter();
  v14 = static os_log_type_t.debug.getter();
  if (os_log_type_enabled(v13, v14))
  {
    v15 = swift_slowAlloc();
    *v15 = 0;
    _os_log_impl(&_mh_execute_header, v13, v14, "DeviceListStoreManager - Missing instance", v15, 2u);
  }

  type metadata accessor for DeviceListError(0);
  sub_1001E4150(&_swiftEmptyArrayStorage);
  sub_1001BE2F4();
  _BridgedStoredNSError.init(_:userInfo:)();
  sub_1001AD17C(&unk_1003742F8, &unk_10029F6D8);
  CheckedContinuation.resume(throwing:)();
}

id sub_100015D28()
{
  v2 = sub_1001A1318();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

id sub_100015D90()
{
  v2 = sub_1001A148C();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

void sub_100015DF8(void *a1, void *a2, void *a3)
{
  location = 0;
  objc_storeStrong(&location, a1);
  v7 = 0;
  objc_storeStrong(&v7, a2);
  v6 = 0;
  objc_storeStrong(&v6, a3);
  v5 = sub_1001A0728();
  if (!v5)
  {
    dlerror();
    abort_report_np();
  }

  v5(location, v7, v6);
  objc_storeStrong(&v6, 0);
  objc_storeStrong(&v7, 0);
  objc_storeStrong(&location, 0);
}

void sub_100016050(id *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v27[1] = a1;
  v27[0] = [NSString stringWithUTF8String:xpc_dictionary_get_string(location[0], _xpc_event_key_name)];
  v26 = _AKLogSystem();
  v25 = OS_LOG_TYPE_DEBUG;
  if (os_log_type_enabled(v26, OS_LOG_TYPE_DEBUG))
  {
    sub_1000194D4(v30, v27[0]);
    _os_log_debug_impl(&_mh_execute_header, v26, v25, "XPC event stream handler called with debug: %@", v30, 0xCu);
  }

  objc_storeStrong(&v26, 0);
  v14 = v27[0];
  v15 = [NSString stringWithUTF8String:"com.apple.mobile.keybagd.lock_status"];
  v16 = [v14 isEqual:?];
  _objc_release(v15);
  if (v16)
  {
    [a1[4] _checkKeybagUnlockState];
  }

  else if ([a1[4] _isPasscodeChangeNotification:v27[0]])
  {
    v12 = +[AKDevice currentDevice];
    v13 = [v12 isProtectedWithPasscode];
    _objc_release(v12);
    if (!v13)
    {
      v24 = _AKLogSystem();
      v23 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v24, OS_LOG_TYPE_DEFAULT))
      {
        v10 = v24;
        type = v23;
        sub_10001CEEC(v22);
        _os_log_impl(&_mh_execute_header, v10, type, "Current device is not protected with a passcode, clearing PRK tokens...", v22, 2u);
      }

      objc_storeStrong(&v24, 0);
      v6 = +[AKAccountManager sharedInstance];
      [(AKAccountManager *)v6 removeAllPasswordResetTokens];
      _objc_release(v6);
      v7 = +[AKAppleIDCheckInHelperService sharedService];
      [v7 performLivenessCheckInForAllEligibleAccountsWithReason:4 completion:&stru_100324F90];
      _objc_release(v7);
      v8 = +[AKAccountManager sharedInstance];
      [(AKAccountManager *)v8 _removeAllRawPasswordCaches];
      _objc_release(v8);
      v9 = +[AKAuthenticationTrafficController sharedInstance];
      [(AKAuthenticationTrafficController *)v9 flushCachedPasswords];
      _objc_release(v9);
    }
  }

  else if ([a1[4] _isDeviceScreenUnlockNotification:v27[0]])
  {
    [a1[4] _checkScreenUnlockStateFromNotificationDictionary:location[0]];
  }

  else if ([a1[4] _isBiometricRatchetStatusChangeDarwinNotification:v27[0]])
  {
    v21 = _AKLogSystem();
    v20 = 2;
    if (os_log_type_enabled(v21, OS_LOG_TYPE_DEBUG))
    {
      v4 = v21;
      v5 = v20;
      sub_10001CEEC(v19);
      _os_log_debug_impl(&_mh_execute_header, v4, v5, "Received DTO status change notification, triggering liveness...", v19, 2u);
    }

    objc_storeStrong(&v21, 0);
    v2 = +[NSNotificationCenter defaultCenter];
    [(NSNotificationCenter *)v2 postNotificationName:AKBiometricRatchetStateDidChangeNotification object:0];
    _objc_release(v2);
    v3 = +[AKAppleIDCheckInHelperService sharedService];
    [v3 performLivenessCheckInForAllEligibleAccountsWithReason:7 completion:&stru_100324FB0];
    _objc_release(v3);
  }

  else if ([a1[4] _isKeychainSharingGroupUpdateDarwinNotification:v27[0]])
  {
    [a1[4] _handleKeychainSharingGroupUpdateNotification];
  }

  else
  {
    v18 = _AKLogSystem();
    if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000194D4(v29, location[0]);
      _os_log_impl(&_mh_execute_header, v18, OS_LOG_TYPE_DEFAULT, "No special handling for XPC event: %@", v29, 0xCu);
    }

    objc_storeStrong(&v18, 0);
  }

  objc_storeStrong(v27, 0);
  objc_storeStrong(location, 0);
}

void sub_100016C44(uint64_t a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, id *location)
{
  *(v25 - 232) = a1;
  *(v25 - 236) = a2;
  objc_destroyWeak(location);
  objc_destroyWeak((v25 - 160));
  _Unwind_Resume(*(v25 - 232));
}

void *sub_100016F54@<X0>(void *result@<X0>, uint64_t a2@<X8>)
{
  *a2 = *result;
  *(a2 + 8) = 0;
  return result;
}

uint64_t sub_100016FF8@<X0>(uint64_t *a1@<X8>)
{
  v3 = *v1;
  result = static String._unconditionallyBridgeFromObjectiveC(_:)();
  *a1 = result;
  a1[1] = v5;
  return result;
}

uint64_t sub_100017080()
{
  _Block_release(*(v0 + 24));
  v1 = *(v0 + 32);

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_1000170CC()
{
  v1 = sub_1001AD17C(&qword_100372070, &qword_10029C6D0);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 16) & ~v3;
  v5 = (*(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  (*(v2 + 8))(v0 + v4, v1);
  v6 = *(v0 + v5);

  return _swift_deallocObject(v0, v5 + 8, v3 | 7);
}

uint64_t sub_100017208()
{
  _Block_release(*(v0 + 32));

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_100017260()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1000172C4()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100017308()
{
  v1 = sub_1001AD17C(&qword_100372300, &unk_10029CF90);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 16) & ~v3;
  v5 = *(v2 + 64);
  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v4 + v5, v3 | 7);
}

uint64_t sub_1000173A0()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1000173D8()
{
  v1 = sub_1001AD17C(&qword_100372300, &unk_10029CF90);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 24) & ~v3;
  v5 = (*(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  v6 = *(v0 + 16);

  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5 + 8, v3 | 7);
}

uint64_t sub_1000174BC()
{

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1000174F4()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100017548()
{
  _Block_release(*(v0 + 24));

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_100017594()
{
  v1 = sub_1001AD17C(&qword_100372B30, qword_10029D838);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 16) & ~v3;
  v5 = *(v2 + 64);
  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v4 + v5, v3 | 7);
}

uint64_t sub_10001764C()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_10001768C()
{
  _Block_release(*(v0 + 24));

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_1000176E4()
{
  v1 = *(v0 + 16);
  swift_unknownObjectRelease();
  v2 = *(v0 + 32);

  v3 = *(v0 + 56);

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_100017734()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_10001776C()
{
  v1 = v0[2];
  swift_unknownObjectRelease();
  v2 = v0[4];

  v3 = v0[6];

  v4 = v0[8];

  return _swift_deallocObject(v0, 72, 7);
}

uint64_t sub_1000177BC()
{
  v1 = v0[2];
  swift_unknownObjectRelease();
  v2 = v0[4];

  v3 = v0[6];

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_10001780C()
{
  v1 = *(v0 + 16);
  swift_unknownObjectRelease();
  v2 = *(v0 + 32);

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_10001788C()
{

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1000178D4()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_10001790C()
{
  v1 = v0[2];
  swift_unknownObjectRelease();
  v2 = v0[4];

  v3 = v0[6];
  swift_unknownObjectRelease();
  v4 = v0[7];
  swift_unknownObjectRelease();

  return _swift_deallocObject(v0, 72, 7);
}

uint64_t sub_10001795C()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1000179F0()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100017A34()
{
  v1 = sub_1001AD17C(&qword_100373298, qword_10029E138);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 16) & ~v3;
  v5 = (*(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5 + 8, v3 | 7);
}

uint64_t sub_100017AF8()
{
  _Block_release(*(v0 + 24));

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_100017B44()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100017B7C()
{
  v1 = sub_1001AD17C(&qword_100372300, &unk_10029CF90);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 24) & ~v3;
  v5 = *(v2 + 64);
  v6 = *(v0 + 16);

  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v4 + v5, v3 | 7);
}

uint64_t sub_100017C50()
{
  v1 = *(v0 + 16);

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100017C8C()
{

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100017CD4()
{
  v1 = type metadata accessor for URL();
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 40) & ~v3;
  v5 = *(v2 + 64);
  v6 = *(v0 + 16);
  swift_unknownObjectRelease();

  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v4 + v5, v3 | 7);
}

uint64_t sub_100017DA0()
{

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100017E0C()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100017E4C()
{
  _Block_release(*(v0 + 40));

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_100017EA8()
{
  v1 = sub_1001AD17C(&qword_100373860, &qword_10029E7D0);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 32) & ~v3;
  v5 = (*(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  v6 = (v5 + 23) & 0xFFFFFFFFFFFFFFF8;
  v7 = *(v0 + 24);

  (*(v2 + 8))(v0 + v4, v1);
  v8 = *(v0 + v5 + 8);

  v9 = *(v0 + v6 + 8);

  return _swift_deallocObject(v0, v6 + 16, v3 | 7);
}

uint64_t sub_100017FB8()
{
  GenericValueMetadataWithLayoutString = swift_cvw_allocateGenericValueMetadataWithLayoutString();
  swift_cvw_instantiateLayoutString();
  return GenericValueMetadataWithLayoutString;
}

uint64_t sub_100018008()
{
  v1 = type metadata accessor for UUID();
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 16) & ~v3;
  v5 = *(v2 + 64);
  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v4 + v5, v3 | 7);
}

uint64_t sub_100018090()
{
  v1 = *(v0 + 16);

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1000180C8()
{

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100018118()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 32, 7);
}

void sub_100018150(void *a1, char a2)
{
  if (a2 != -1)
  {
    sub_100018168(a1, a2 & 1);
  }
}

void sub_100018168(void *a1, char a2)
{
  if (a2)
  {
  }

  else
  {
  }
}

id sub_100018174(void *a1, char a2)
{
  if (a2)
  {
    return swift_errorRetain();
  }

  else
  {
    return a1;
  }
}

id sub_100018180(id result, char a2)
{
  if (a2 != -1)
  {
    return sub_100018174(result, a2 & 1);
  }

  return result;
}

uint64_t sub_10001819C()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1000181D4()
{
  v1 = *(v0 + 16);
  swift_unknownObjectRelease();
  v2 = *(v0 + 32);

  v3 = *(v0 + 56);

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_100018224()
{
  v1 = *(v0 + 16);
  swift_unknownObjectRelease();
  v2 = *(v0 + 48);

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_1000182D8()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_10001831C()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100018354()
{
  v1 = sub_1001AD17C(&qword_100372300, &unk_10029CF90);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 24) & ~v3;
  v5 = *(v2 + 64);
  v6 = *(v0 + 16);

  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v4 + v5, v3 | 7);
}

uint64_t sub_100018430()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100018468()
{
  v1 = *(v0 + 16);
  swift_unknownObjectRelease();
  v2 = *(v0 + 32);

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_1000184C0()
{
  _Block_release(*(v0 + 32));

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_100018514()
{
  _Block_release(*(v0 + 24));

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_10001855C()
{
  _Block_release(*(v0 + 40));

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_1000185B8()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1000185F0()
{
  v1 = sub_1001AD17C(&unk_1003742F8, &unk_10029F6D8);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 24) & ~v3;
  v5 = (*(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  v6 = (v5 + 15) & 0xFFFFFFFFFFFFFFF8;
  v7 = *(v0 + 16);

  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v6 + 8, v3 | 7);
}

uint64_t sub_1000186EC()
{
  v1 = sub_1001AD17C(&unk_1003742F8, &unk_10029F6D8);
  v2 = *(v1 - 8);
  v3 = *(v2 + 80);
  v4 = (v3 + 16) & ~v3;
  v5 = (*(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  (*(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5 + 8, v3 | 7);
}

uint64_t sub_100018794()
{
  _Block_release(*(v0 + 32));

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_1000187F0()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100018864()
{
  _Block_release(*(v0 + 16));

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1000188A4()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1000188E8()
{
  _Block_release(*(v0 + 40));

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_1000189C8()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100018A00()
{
  v1 = *(v0 + 16);
  swift_unknownObjectRelease();

  v2 = *(v0 + 56);

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_100018A50()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1000194D4(uint64_t result, uint64_t a2)
{
  *result = 2;
  *(result + 1) = 1;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  return result;
}

void sub_100019964(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, _Unwind_Exception *exception_object, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id *location, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, int a26, int a27, uint64_t a28)
{
  objc_destroyWeak(location);
  objc_destroyWeak((v28 - 104));
  _Unwind_Resume(a1);
}

void sub_1000199AC(id *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v20 = 0;
  objc_storeStrong(&v20, a3);
  v19[1] = a1;
  v19[0] = objc_loadWeakRetained(a1 + 6);
  if (!v19[0])
  {
    goto LABEL_7;
  }

  if (!v20)
  {
    v4 = [v19[0] authorizationController];
    v3 = location[0];
    v7 = _NSConcreteStackBlock;
    v8 = -1073741824;
    v9 = 0;
    v10 = sub_100019CA4;
    v11 = &unk_10031EE80;
    v12 = _objc_retain(v19[0]);
    v13 = _objc_retain(a1[4]);
    v14 = _objc_retain(v20);
    v15 = _objc_retain(a1[5]);
    [v4 performAuthenticationRequestWithContext:v3 completion:&v7];
    _objc_release(v4);
    objc_storeStrong(&v15, 0);
    objc_storeStrong(&v14, 0);
    objc_storeStrong(&v13, 0);
    objc_storeStrong(&v12, 0);
LABEL_7:
    v16 = 0;
    goto LABEL_8;
  }

  v18 = _AKLogFido();
  v17 = OS_LOG_TYPE_ERROR;
  if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
  {
    sub_1000194D4(v22, v20);
    _os_log_error_impl(&_mh_execute_header, v18, v17, "Error starting fido auth: %@", v22, 0xCu);
  }

  objc_storeStrong(&v18, 0);
  (*(a1[5] + 2))();
  v16 = 1;
LABEL_8:
  objc_storeStrong(v19, 0);
  if (!v16)
  {
    v16 = 0;
  }

  objc_storeStrong(&v20, 0);
  objc_storeStrong(location, 0);
}

void sub_100019CA4(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  [*(a1 + 32) _handleGrandSlamFidoAuthorizationResponse:location[0] context:*(a1 + 40) recoveryToken:0 error:*(a1 + 48) completion:*(a1 + 56)];
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_10001A094(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, _Unwind_Exception *exception_object, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id *location, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, int a28, int a29, uint64_t a30)
{
  objc_destroyWeak(location);
  objc_destroyWeak((v30 - 112));
  _Unwind_Resume(a1);
}

void sub_10001A0DC(id *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v21 = 0;
  objc_storeStrong(&v21, a3);
  v20[1] = a1;
  v20[0] = objc_loadWeakRetained(a1 + 7);
  if (!v20[0])
  {
    goto LABEL_7;
  }

  if (!v21)
  {
    v4 = [v20[0] authorizationController];
    v3 = location[0];
    v7 = _NSConcreteStackBlock;
    v8 = -1073741824;
    v9 = 0;
    v10 = sub_10001A404;
    v11 = &unk_10031EED0;
    v12 = _objc_retain(v20[0]);
    v13 = _objc_retain(a1[4]);
    v14 = _objc_retain(a1[5]);
    v15 = _objc_retain(v21);
    v16 = _objc_retain(a1[6]);
    [v4 performAuthenticationRequestWithContext:v3 completion:&v7];
    _objc_release(v4);
    objc_storeStrong(&v16, 0);
    objc_storeStrong(&v15, 0);
    objc_storeStrong(&v14, 0);
    objc_storeStrong(&v13, 0);
    objc_storeStrong(&v12, 0);
LABEL_7:
    v17 = 0;
    goto LABEL_8;
  }

  v19 = _AKLogFido();
  v18 = OS_LOG_TYPE_ERROR;
  if (os_log_type_enabled(v19, OS_LOG_TYPE_ERROR))
  {
    sub_1000194D4(v23, v21);
    _os_log_error_impl(&_mh_execute_header, v19, v18, "Error starting fido auth: %@", v23, 0xCu);
  }

  objc_storeStrong(&v19, 0);
  (*(a1[6] + 2))();
  v17 = 1;
LABEL_8:
  objc_storeStrong(v20, 0);
  if (!v17)
  {
    v17 = 0;
  }

  objc_storeStrong(&v21, 0);
  objc_storeStrong(location, 0);
}

void sub_10001A404(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  [*(a1 + 32) _handleGrandSlamFidoAuthorizationResponse:location[0] context:*(a1 + 40) recoveryToken:*(a1 + 48) error:*(a1 + 56) completion:*(a1 + 64)];
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_10001A798(void *a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v13 = 0;
  objc_storeStrong(&v13, a3);
  v12 = 0;
  objc_storeStrong(&v12, a4);
  v11[1] = a1;
  if (v12)
  {
    v11[0] = _AKLogFido();
    if (os_log_type_enabled(v11[0], OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v15, v12);
      _os_log_error_impl(&_mh_execute_header, v11[0], OS_LOG_TYPE_ERROR, "Error finishing fido auth: %@", v15, 0xCu);
    }

    objc_storeStrong(v11, 0);
    v4 = a1[4];
    (*(a1[6] + 16))();
  }

  else
  {
    v6 = a1[6];
    v5 = a1[5];
    v7 = [location[0] serverProvidedData];
    (*(v6 + 16))(v6, v5);
    _objc_release(v7);
  }

  objc_storeStrong(&v12, 0);
  objc_storeStrong(&v13, 0);
  objc_storeStrong(location, 0);
}

void sub_10001AC40(id a1)
{
  v1 = objc_alloc_init(AKAuthorizationIconManager);
  v2 = qword_1003744E0;
  qword_1003744E0 = v1;
  _objc_release(v2);
}

uint64_t sub_10001B098(uint64_t result, uint64_t a2, uint64_t a3)
{
  *result = 2;
  *(result + 1) = 2;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  return result;
}

uint64_t sub_10001B0E8(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  *result = 2;
  *(result + 1) = 5;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 64;
  *(result + 23) = 8;
  *(result + 24) = a4;
  *(result + 32) = 64;
  *(result + 33) = 8;
  *(result + 34) = a5;
  *(result + 42) = 64;
  *(result + 43) = 8;
  *(result + 44) = a6;
  return result;
}

void sub_10001B378(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id *location, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, int a22, int a23, _Unwind_Exception *exception_object)
{
  objc_destroyWeak(location);
  objc_destroyWeak((v24 - 56));
  _Unwind_Resume(a1);
}

void sub_10001B3A4(id *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v18[1] = a1;
  v18[0] = objc_loadWeakRetained(a1 + 5);
  v17 = [v18[0] _dataBlockForKey:a1[4]];
  if (v17)
  {
    v15 = _os_activity_create(&_mh_execute_header, "authkit/icon-fetching", &_os_activity_current, OS_ACTIVITY_FLAG_DEFAULT);
    v16 = v15;
    state.opaque[0] = 0;
    state.opaque[1] = 0;
    os_activity_scope_enter(v15, &state);
    v4 = v17;
    v6 = _NSConcreteStackBlock;
    v7 = -1073741824;
    v8 = 0;
    v9 = sub_10001B618;
    v10 = &unk_10031EF88;
    v13 = _objc_retain(location[0]);
    v11 = _objc_retain(v18[0]);
    v12 = _objc_retain(a1[4]);
    [v4 setCompletion:&v6];
    objc_storeStrong(&v12, 0);
    objc_storeStrong(&v11, 0);
    objc_storeStrong(&v13, 0);
    os_activity_scope_leave(&state);
    objc_storeStrong(&v16, 0);
  }

  else
  {
    v2 = location[0];
    v3 = [NSError ak_errorWithCode:-7044];
    v2[2](v2, 0);
    _objc_release(v3);
  }

  objc_storeStrong(&v17, 0);
  objc_storeStrong(v18, 0);
  objc_storeStrong(location, 0);
}

void sub_10001B618(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  (*(*(a1 + 48) + 16))();
  [*(a1 + 32) _removeDataBlockForKey:*(a1 + 40)];
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_10001BAD4(uint64_t a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v12[1] = a1;
  v12[0] = objc_alloc_init(AKMediaServicesController);
  v5 = v12[0];
  v3 = *(a1 + 32);
  v4 = *(a1 + 40);
  v6 = _NSConcreteStackBlock;
  v7 = 3221225472;
  v8 = sub_10001BC2C;
  v9 = &unk_10031EFD8;
  v10 = _objc_retain(*(a1 + 48));
  v11 = _objc_retain(location[0]);
  [v5 appIconForBundleID:v3 size:v4 completion:?];
  objc_storeStrong(&v11, 0);
  objc_storeStrong(&v10, 0);
  objc_storeStrong(v12, 0);
  objc_storeStrong(location, 0);
}

void sub_10001BC2C(void *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v7 = 0;
  objc_storeStrong(&v7, a3);
  if (location[0])
  {
    [location[0] setScale:a1[4]];
    v3 = (a1[5] + 16);
    v4 = [NSKeyedArchiver archivedDataWithRootObject:location[0] requiringSecureCoding:1 error:?];
    (*v3)();
    _objc_release(v4);
  }

  else
  {
    (*(a1[5] + 16))();
  }

  objc_storeStrong(&v7, 0);
  objc_storeStrong(location, 0);
}

id sub_10001C060(os_unfair_lock_s *a1, void *a2)
{
  v6 = a1;
  location = 0;
  objc_storeStrong(&location, a2);
  os_unfair_lock_lock(v6);
  v4 = (*(location + 2))();
  os_unfair_lock_unlock(v6);
  v3 = _objc_retain(v4);
  objc_storeStrong(&v4, 0);
  objc_storeStrong(&location, 0);

  return v3;
}

void sub_10001C2B0(os_unfair_lock_s *a1, void *a2)
{
  v3 = a1;
  location = 0;
  objc_storeStrong(&location, a2);
  os_unfair_lock_lock(v3);
  (*(location + 2))();
  os_unfair_lock_unlock(v3);
  objc_storeStrong(&location, 0);
}

id sub_10001C314(void *a1)
{
  if (!*(a1[4] + 16))
  {
    v1 = +[NSMutableDictionary dictionary];
    v2 = a1[4];
    v3 = *(v2 + 16);
    *(v2 + 16) = v1;
    _objc_release(v3);
  }

  return [*(a1[4] + 16) setObject:a1[5] forKey:a1[6]];
}

uint64_t sub_10001CE28(uint64_t result, int a2, uint64_t a3, uint64_t a4)
{
  *result = 2;
  *(result + 1) = 3;
  *(result + 2) = 0;
  *(result + 3) = 4;
  *(result + 4) = a2;
  *(result + 8) = 112;
  *(result + 9) = 8;
  *(result + 10) = a3;
  *(result + 18) = 64;
  *(result + 19) = 8;
  *(result + 20) = a4;
  return result;
}

uint64_t sub_10001CE98(uint64_t result, uint64_t a2, uint64_t a3)
{
  *result = 2;
  *(result + 1) = 2;
  *(result + 2) = 112;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  return result;
}

_BYTE *sub_10001CEEC(_BYTE *result)
{
  *result = 0;
  result[1] = 0;
  return result;
}

id sub_10001CF08(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  if (objc_opt_isKindOfClass())
  {
    v5 = _objc_retain(location[0]);
  }

  else
  {
    v5 = 0;
  }

  objc_storeStrong(location, 0);
  v2 = v5;

  return v2;
}

void sub_10001D458(uint64_t a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v19 = 0;
  objc_storeStrong(&v19, a3);
  v18 = 0;
  objc_storeStrong(&v18, a4);
  v17[1] = a1;
  v17[0] = [NSArray ak_arrayWithJSONResponseData:v19];
  if (v17[0])
  {
    v5 = *(a1 + 32);
    v6 = [*(a1 + 40) altDSID];
    v4 = *(a1 + 48);
    [v5 _processFetchCompletionForAltDSID:? items:? fetchError:? completion:?];
    _objc_release(v6);
  }

  else
  {
    v16 = _AKLogSystem();
    v15 = 16;
    if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
    {
      log = v16;
      type = v15;
      sub_10001CEEC(v14);
      _os_log_error_impl(&_mh_execute_header, log, type, "No body parameters in Follow Up response!", v14, 2u);
    }

    objc_storeStrong(&v16, 0);
    v7 = *(a1 + 48);
    v8 = [NSError ak_errorWithCode:-7010];
    (*(v7 + 16))(v7, 0);
    _objc_release(v8);
  }

  objc_storeStrong(v17, 0);
  objc_storeStrong(&v18, 0);
  objc_storeStrong(&v19, 0);
  objc_storeStrong(location, 0);
}

id sub_10001E400(id a1, FLFollowUpItem *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v3 = [location[0] uniqueIdentifier];
  objc_storeStrong(location, 0);

  return v3;
}

BOOL sub_10001E480(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v4 = a1[4];
  v5 = [location[0] uniqueIdentifier];
  v6 = [v4 containsObject:?] == 0;
  _objc_release(v5);
  objc_storeStrong(location, 0);
  return v6;
}

BOOL sub_10001E534(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v4 = a1[4];
  v5 = [location[0] uniqueIdentifier];
  v6 = [v4 containsObject:?] == 1;
  _objc_release(v5);
  objc_storeStrong(location, 0);
  return v6;
}

BOOL sub_10001E5E8(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v4 = a1[4];
  v5 = [location[0] uniqueIdentifier];
  v6 = [v4 containsObject:?] == 0;
  _objc_release(v5);
  objc_storeStrong(location, 0);
  return v6;
}

void sub_10001EAF0(void *a1, void *a2, uint64_t a3, uint64_t a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v26 = a3;
  v25 = a4;
  v24 = a1;
  v17 = [location[0] uniqueIdentifier];
  _objc_release(v17);
  if (v17)
  {
    v12 = [location[0] actions];
    v21 = 0;
    v13 = 1;
    if ([v12 count])
    {
      v22 = [location[0] informativeText];
      v21 = 1;
      v13 = v22 == 0;
    }

    if (v21)
    {
      _objc_release(v22);
    }

    _objc_release(v12);
    v23 = v13;
    if (v13)
    {
      v9 = location[0];
      v10 = a1[4];
      v11 = [location[0] uniqueIdentifier];
      [v10 setObject:v9 forKeyedSubscript:?];
      _objc_release(v11);
    }

    else
    {
      v6 = location[0];
      v7 = a1[5];
      v8 = [location[0] uniqueIdentifier];
      [v7 setObject:v6 forKeyedSubscript:?];
      _objc_release(v8);
    }
  }

  else
  {
    v20 = _AKLogSystem();
    v19 = 16;
    if (os_log_type_enabled(v20, OS_LOG_TYPE_ERROR))
    {
      log = v20;
      type = v19;
      sub_10001CEEC(v18);
      _os_log_error_impl(&_mh_execute_header, log, type, "Detected an item without an identifier, invalid payload", v18, 2u);
    }

    objc_storeStrong(&v20, 0);
  }

  objc_storeStrong(location, 0);
}

void sub_10001ED78(uint64_t a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v39[3] = a3;
  v39[2] = a4;
  v39[1] = a1;
  v39[0] = [location[0] uniqueIdentifier];
  if (v39[0])
  {
    v38 = [*(a1 + 32) objectForKeyedSubscript:v39[0]];
    v36 = 0;
    v23 = 0;
    if (v38)
    {
      v37 = [location[0] notification];
      v36 = 1;
      v23 = v37 != 0;
    }

    if (v36)
    {
      _objc_release(v37);
    }

    if (v23)
    {
      v22 = [v38 notification];
      _objc_release(v22);
      if (v22)
      {
        v12 = [v38 notification];
        v11 = [v12 informativeText];
        v10 = [location[0] notification];
        [v10 setInformativeText:v11];
        _objc_release(v10);
        _objc_release(v11);
        _objc_release(v12);
        v15 = [v38 notification];
        v14 = [v15 title];
        v13 = [location[0] notification];
        [v13 setTitle:v14];
        _objc_release(v13);
        _objc_release(v14);
        _objc_release(v15);
        v18 = [v38 notification];
        [v18 frequency];
        v16 = v4;
        v17 = [location[0] notification];
        [v17 setFrequency:v16];
        _objc_release(v17);
        _objc_release(v18);
        v21 = [v38 notification];
        v20 = [v21 options];
        v19 = [location[0] notification];
        [v19 setOptions:v20];
        _objc_release(v19);
        _objc_release(v20);
        _objc_release(v21);
      }

      else
      {
        [location[0] setNotification:0];
      }

      v35 = _AKLogSystem();
      v34 = OS_LOG_TYPE_DEBUG;
      if (os_log_type_enabled(v35, OS_LOG_TYPE_DEBUG))
      {
        sub_1000194D4(v41, v39[0]);
        _os_log_debug_impl(&_mh_execute_header, v35, v34, "Updating existing item with identifier: %@", v41, 0xCu);
      }

      objc_storeStrong(&v35, 0);
      [*(a1 + 32) setObject:location[0] forKeyedSubscript:v39[0]];
    }

    else
    {
      v9 = [location[0] notification];
      _objc_release(v9);
      if (!v9)
      {
        v33 = [*(a1 + 40) objectForKeyedSubscript:v39[0]];
        if (v33)
        {
          if ([*(*(a1 + 48) + 8) IsFollowUpItemNotificationForced:v33])
          {
            v29 = _AKLogSystem();
            v28 = 2;
            if (os_log_type_enabled(v29, OS_LOG_TYPE_DEBUG))
            {
              v5 = v29;
              v6 = v28;
              sub_10001CEEC(v27);
              _os_log_debug_impl(&_mh_execute_header, v5, v6, "Incoming notification was forced, keeping it!", v27, 2u);
            }

            objc_storeStrong(&v29, 0);
          }

          else
          {
            [v33 setNotification:0];
            v32 = _AKLogSystem();
            v31 = 2;
            if (os_log_type_enabled(v32, OS_LOG_TYPE_DEBUG))
            {
              v7 = v32;
              v8 = v31;
              sub_10001CEEC(v30);
              _os_log_debug_impl(&_mh_execute_header, v7, v8, "Existing item notification was previously dismissed, ignoring incoming notification", v30, 2u);
            }

            objc_storeStrong(&v32, 0);
          }
        }

        objc_storeStrong(&v33, 0);
      }
    }

    objc_storeStrong(&v38, 0);
  }

  objc_storeStrong(v39, 0);
  objc_storeStrong(location, 0);
}

void sub_10001FEDC(uint64_t a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v9[3] = a3;
  v9[2] = a4;
  v9[1] = a1;
  v7 = [location[0] userInfo];
  _objc_release(v7);
  if (v7)
  {
    v9[0] = [location[0] userInfo];
    v8 = [v9[0] objectForKeyedSubscript:@"txnid"];
    if (v8 && ([v8 isEqualToString:*(a1 + 32)] & 1) != 0)
    {
      [*(a1 + 40) addObject:location[0]];
    }

    objc_storeStrong(&v8, 0);
    objc_storeStrong(v9, 0);
  }

  objc_storeStrong(location, 0);
}

void sub_100020200(uint64_t a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v10[3] = a3;
  v10[2] = a4;
  v10[1] = a1;
  v9 = [location[0] userInfo];
  _objc_release(v9);
  if (v9)
  {
    v10[0] = [location[0] userInfo];
    v4 = [v10[0] objectForKeyedSubscript:@"cmd"];
    v5 = [v4 unsignedIntValue];
    _objc_release(v4);
    if (v5 == *(a1 + 40))
    {
      [*(a1 + 32) addObject:location[0]];
    }

    objc_storeStrong(v10, 0);
  }

  else
  {
    [*(a1 + 32) addObject:location[0]];
  }

  objc_storeStrong(location, 0);
}

void sub_1000205B0(id a1)
{
  v1 = objc_opt_new();
  v2 = qword_100374500;
  qword_100374500 = v1;
  _objc_release(v2);
}

uint64_t sub_100021048(uint64_t a1)
{
  v7[2] = a1;
  v7[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 56));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v7[0] = *location;
  [v4 performQuery:v1 error:v7];
  objc_storeStrong(location, v7[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
  result = a1;
  *(*(*(a1 + 48) + 8) + 24) = *(*(*(a1 + 40) + 8) + 40) == 0;
  return result;
}

uint64_t sub_100021524(uint64_t a1)
{
  v7[2] = a1;
  v7[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 56));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v7[0] = *location;
  [v4 performQuery:v1 error:v7];
  objc_storeStrong(location, v7[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
  result = a1;
  *(*(*(a1 + 48) + 8) + 24) = *(*(*(a1 + 40) + 8) + 40) == 0;
  return result;
}

void sub_100021CE4(uint64_t a1, uint64_t a2, _BYTE *a3)
{
  v3 = [AKSQLiteHelper stringFromColumn:0 inStatement:a2];
  v4 = *(*(a1 + 32) + 8);
  v5 = *(v4 + 40);
  *(v4 + 40) = v3;
  _objc_release(v5);
  *a3 = 1;
}

void sub_100021D68(uint64_t a1)
{
  v6[2] = a1;
  v6[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 48));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v6[0] = *location;
  [v4 performQuery:v1 error:v6];
  objc_storeStrong(location, v6[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
}

void sub_100022204(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id *location, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, id a29, int a30, int a31, _Unwind_Exception *exception_object)
{
  _Block_object_dispose((v32 - 136), 8);
  _Block_object_dispose((v32 - 88), 8);
  _Unwind_Resume(a1);
}

void sub_100022260(uint64_t a1, uint64_t a2, _BYTE *a3)
{
  v3 = [AKSQLiteHelper stringFromColumn:0 inStatement:a2];
  v4 = *(*(a1 + 32) + 8);
  v5 = *(v4 + 40);
  *(v4 + 40) = v3;
  _objc_release(v5);
  *a3 = 1;
}

void sub_1000222E4(uint64_t a1)
{
  v6[2] = a1;
  v6[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 48));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v6[0] = *location;
  [v4 performQuery:v1 error:v6];
  objc_storeStrong(location, v6[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
}

uint64_t sub_10002270C(uint64_t a1)
{
  v7[2] = a1;
  v7[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 56));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v7[0] = *location;
  [v4 performQuery:v1 error:v7];
  objc_storeStrong(location, v7[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
  result = a1;
  *(*(*(a1 + 48) + 8) + 24) = *(*(*(a1 + 40) + 8) + 40) == 0;
  return result;
}

void sub_1000235F8(uint64_t a1, uint64_t a2, _BYTE *a3)
{
  v3 = [AKSQLiteHelper stringFromColumn:0 inStatement:a2];
  v4 = *(*(a1 + 32) + 8);
  v5 = *(v4 + 40);
  *(v4 + 40) = v3;
  _objc_release(v5);
  *a3 = 1;
}

void sub_10002367C(uint64_t a1)
{
  v6[2] = a1;
  v6[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 48));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v6[0] = *location;
  [v4 performQuery:v1 error:v6];
  objc_storeStrong(location, v6[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
}

uint64_t sub_100023A58(uint64_t a1)
{
  v7[2] = a1;
  v7[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 56));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v7[0] = *location;
  [v4 performQuery:v1 error:v7];
  objc_storeStrong(location, v7[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
  result = a1;
  *(*(*(a1 + 48) + 8) + 24) = *(*(*(a1 + 40) + 8) + 40) == 0;
  return result;
}

void sub_100023F7C(id *a1, uint64_t a2, void *a3)
{
  v8 = a1;
  v7 = a2;
  v6[2] = a3;
  v6[1] = a1;
  v6[0] = [AKSQLiteHelper stringFromColumn:0 inStatement:a2];
  v5 = [AKSQLiteHelper stringFromColumn:1 inStatement:v7];
  if (v6[0])
  {
    v4 = [[AKPrivateEmail alloc] initWithAddress:v6[0] forKey:v5];
    [a1[4] addObject:v4];
    objc_storeStrong(&v4, 0);
  }

  objc_storeStrong(&v5, 0);
  objc_storeStrong(v6, 0);
}

void sub_100024070(uint64_t a1)
{
  v6[2] = a1;
  v6[1] = a1;
  WeakRetained = objc_loadWeakRetained((a1 + 48));
  v4 = [WeakRetained executor];
  v1 = *(a1 + 32);
  location = (*(*(a1 + 40) + 8) + 40);
  v6[0] = *location;
  [v4 performQuery:v1 error:v6];
  objc_storeStrong(location, v6[0]);
  _objc_release(v4);
  _objc_release(WeakRetained);
}

uint64_t sub_1000241A0(uint64_t a1)
{
  v16 = a1;
  v11 = 0;
  v12 = &v11;
  v13 = 0x20000000;
  v14 = 32;
  v10 = qword_100374510;
  v15 = qword_100374510;
  if (!qword_100374510)
  {
    v3 = _NSConcreteStackBlock;
    v4 = -1073741824;
    v5 = 0;
    v6 = sub_1000242B4;
    v7 = &unk_10031F358;
    v8 = &v11;
    v9 = v16;
    sub_1000242B4(&v3);
  }

  v2 = v12[3];
  _Block_object_dispose(&v11, 8);
  return v2;
}

uint64_t sub_1000242B4(uint64_t a1)
{
  memcpy(__dst, off_10031F328, sizeof(__dst));
  v1 = *(a1 + 40);
  v2 = _sl_dlopen();
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374510 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_100024374()
{
  v2 = 0;
  v1 = sub_1000241A0(&v2);
  if (!v1)
  {
    abort_report_np();
  }

  if (v2)
  {
    free(v2);
  }

  return v1;
}

id sub_1000243F0()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_100374518;
  v13 = qword_100374518;
  if (!qword_100374518)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100024520;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100024520(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_100024520(uint64_t a1)
{
  sub_100024374();
  Class = objc_getClass("BSAuditToken");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_100374518 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_100024CD8(uint64_t result, uint64_t a2, int a3)
{
  *result = 2;
  *(result + 1) = 2;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 0;
  *(result + 13) = 4;
  *(result + 14) = a3;
  return result;
}

void sub_10002523C(id a1)
{
  v6[2] = a1;
  v6[1] = a1;
  v5 = 0;
  v1 = [NSMutableSet setWithObjects:@"accountsd", @"backupd", @"aktool", @"askpermissiond", @"itunesstored", @"Preferences", @"StoreKitUIService", 0];
  v4 = v6;
  v6[0] = v1;
  [(NSMutableSet *)v1 addObject:@"appstored"];
  v2 = [v6[0] copy];
  v3 = qword_100374520;
  qword_100374520 = v2;
  _objc_release(v3);
  objc_storeStrong(v4, v5);
}

void sub_10002544C(id a1)
{
  v6[2] = a1;
  v6[1] = a1;
  v5 = 0;
  v1 = [NSMutableSet setWithObjects:@"aktool", @"askpermissiond", @"itunesstored", 0];
  location = v6;
  v6[0] = v1;
  [(NSMutableSet *)v1 addObject:@"appstored"];
  v2 = [v6[0] copy];
  v3 = qword_100374530;
  qword_100374530 = v2;
  _objc_release(v3);
  objc_storeStrong(location, v5);
}

void sub_10002562C(id a1)
{
  v4 = a1;
  v3 = a1;
  v1 = [NSSet setWithObjects:@"Carousel", 0];
  v2 = qword_100374540;
  qword_100374540 = v1;
  _objc_release(v2);
}

void sub_1000257B4(id a1)
{
  v1 = [NSSet setWithObjects:@"com.apple.aktool", @"com.apple.internal.appleAccountSetupTool", 0, a1, a1];
  v2 = qword_100374550;
  qword_100374550 = v1;
  _objc_release(v2);
}

id sub_100025B04(os_unfair_lock_s *a1, void *a2)
{
  v6 = a1;
  location = 0;
  objc_storeStrong(&location, a2);
  os_unfair_lock_lock(v6);
  v4 = (*(location + 2))();
  os_unfair_lock_unlock(v6);
  v3 = _objc_retain(v4);
  objc_storeStrong(&v4, 0);
  objc_storeStrong(&location, 0);

  return v3;
}

id sub_100026E80(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  if (objc_opt_isKindOfClass())
  {
    v5 = _objc_retain(location[0]);
  }

  else
  {
    v5 = 0;
  }

  objc_storeStrong(location, 0);
  v2 = v5;

  return v2;
}

NSSecureCoding *__cdecl sub_100028A00(id a1, NSString *a2, NSString *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v19 = 0;
  objc_storeStrong(&v19, a3);
  v18[1] = a1;
  v3 = [NSData alloc];
  v18[0] = [v3 initWithBase64EncodedString:v19 options:0];
  if (v18[0])
  {
    v14 = 0;
    v12 = 0;
    v6 = [NSPropertyListSerialization propertyListWithData:v18[0] options:0 format:0 error:&v12];
    objc_storeStrong(&v14, v12);
    v13 = v6;
    if (v14)
    {
      oslog = _AKLogSystem();
      v10 = OS_LOG_TYPE_ERROR;
      if (os_log_type_enabled(oslog, OS_LOG_TYPE_ERROR))
      {
        sub_1000194D4(v23, location[0]);
        _os_log_error_impl(&_mh_execute_header, oslog, v10, "Got malformed %@ configuration info!", v23, 0xCu);
      }

      objc_storeStrong(&oslog, 0);
      v21 = 0;
      v15 = 1;
    }

    else if ([v13 conformsToProtocol:&OBJC_PROTOCOL___NSSecureCoding])
    {
      v21 = _objc_retain(v13);
      v15 = 1;
    }

    else
    {
      v9 = _AKLogSystem();
      if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
      {
        sub_1000194D4(v22, location[0]);
        _os_log_error_impl(&_mh_execute_header, v9, OS_LOG_TYPE_ERROR, "Got insecure %@ configuration info!", v22, 0xCu);
      }

      objc_storeStrong(&v9, 0);
      v21 = 0;
      v15 = 1;
    }

    objc_storeStrong(&v13, 0);
    objc_storeStrong(&v14, 0);
  }

  else
  {
    v17 = _AKLogSystem();
    v16 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(v17, OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v24, location[0]);
      _os_log_error_impl(&_mh_execute_header, v17, v16, "Got malformed %@ configuration info!", v24, 0xCu);
    }

    objc_storeStrong(&v17, 0);
    v21 = 0;
    v15 = 1;
  }

  objc_storeStrong(v18, 0);
  objc_storeStrong(&v19, 0);
  objc_storeStrong(location, 0);
  v4 = v21;

  return v4;
}

id sub_10002AEB8(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  if (objc_opt_isKindOfClass())
  {
    v5 = _objc_retain(location[0]);
  }

  else
  {
    v5 = 0;
  }

  objc_storeStrong(location, 0);
  v2 = v5;

  return v2;
}

void sub_10002F618(id a1)
{
  v1 = objc_alloc_init(NSNumberFormatter);
  v2 = qword_100374560;
  qword_100374560 = v1;
  _objc_release(v2);
}

void sub_100033324(uint64_t a1, char a2, id obj)
{
  v6 = a1;
  v5 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  [AKAnalyticsSender sendAnalyticsEvent:@"com.apple.authkit.piggybackingAccepting" context:0 account:*(a1 + 32) error:?];
  if (*(a1 + 40))
  {
    (*(*(a1 + 40) + 16))();
  }

  objc_storeStrong(&location, 0);
}

uint64_t sub_1000333DC(uint64_t result, uint64_t a2)
{
  *result = 2;
  *(result + 1) = 1;
  *(result + 2) = 66;
  *(result + 3) = 8;
  *(result + 4) = a2;
  return result;
}

uint64_t sub_10003341C(uint64_t result, uint64_t a2, uint64_t a3)
{
  *result = 2;
  *(result + 1) = 2;
  *(result + 2) = 0;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 66;
  *(result + 13) = 8;
  *(result + 14) = a3;
  return result;
}

uint64_t sub_10003346C(uint64_t result, uint64_t a2, int a3)
{
  *result = 2;
  *(result + 1) = 2;
  *(result + 2) = 66;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 2;
  *(result + 13) = 4;
  *(result + 14) = a3;
  return result;
}

uint64_t sub_1000334C0(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, int a5)
{
  *result = 2;
  *(result + 1) = 4;
  *(result + 2) = 0;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 0;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 66;
  *(result + 23) = 8;
  *(result + 24) = a4;
  *(result + 32) = 2;
  *(result + 33) = 4;
  *(result + 34) = a5;
  return result;
}

void sub_10003353C(uint64_t a1, char a2, char a3)
{
  v7 = a1;
  v6 = a2;
  v5 = a3;
  v4[1] = a1;
  v4[0] = [*(a1 + 32) replyContextWithPayload:*(a1 + 40)];
  if (v6)
  {
    [*(a1 + 32) _processProximityDetection:v5 & 1 withReplyContext:v4[0] forPushPayload:*(a1 + 40)];
  }

  [*(a1 + 32) _finishProcessingPushPayload:*(a1 + 40) withReplyContext:v4[0] completion:*(a1 + 48)];
  objc_storeStrong(v4, 0);
}

uint64_t sub_100034214(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  *result = 2;
  *(result + 1) = 4;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 64;
  *(result + 23) = 8;
  *(result + 24) = a4;
  *(result + 32) = 64;
  *(result + 33) = 8;
  *(result + 34) = a5;
  return result;
}

uint64_t sub_100034290(uint64_t result, int a2)
{
  *result = 0;
  *(result + 1) = 1;
  *(result + 2) = 2;
  *(result + 3) = 4;
  *(result + 4) = a2;
  return result;
}

uint64_t sub_1000342CC(uint64_t result, uint64_t a2, int a3)
{
  *result = 0;
  *(result + 1) = 2;
  *(result + 2) = 0;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 2;
  *(result + 13) = 4;
  *(result + 14) = a3;
  return result;
}

uint64_t sub_10003431C(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  *result = 2;
  *(result + 1) = 3;
  *(result + 2) = 0;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 0;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 66;
  *(result + 23) = 8;
  *(result + 24) = a4;
  return result;
}

uint64_t sub_100034384(uint64_t result, uint64_t a2, uint64_t a3)
{
  *result = 0;
  *(result + 1) = 2;
  *(result + 2) = 0;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 0;
  *(result + 13) = 8;
  *(result + 14) = a3;
  return result;
}

uint64_t sub_1000343D0(uint64_t result, uint64_t a2, uint64_t a3, int a4)
{
  *result = 0;
  *(result + 1) = 3;
  *(result + 2) = 0;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 0;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 2;
  *(result + 23) = 4;
  *(result + 24) = a4;
  return result;
}

void sub_100035194(unint64_t a1, int a2)
{
  STACK[0x320] = a1;
  LODWORD(STACK[0x31C]) = a2;
  objc_destroyWeak(&STACK[0x328]);
  _Unwind_Resume(STACK[0x320]);
}

void sub_1000351F0(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v6 = 0;
  objc_storeStrong(&v6, a3);
  v5[1] = a1;
  v5[0] = objc_loadWeakRetained((a1 + 40));
  if (location[0] && v5[0])
  {
    [v5[0] processPushPayload:location[0] completion:*(a1 + 32)];
  }

  else
  {
    (*(*(a1 + 32) + 16))();
  }

  objc_storeStrong(v5, 0);
  objc_storeStrong(&v6, 0);
  objc_storeStrong(location, 0);
}

uint64_t sub_100036834(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  *result = 2;
  *(result + 1) = 4;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 0;
  *(result + 23) = 8;
  *(result + 24) = a4;
  *(result + 32) = 64;
  *(result + 33) = 8;
  *(result + 34) = a5;
  return result;
}

uint64_t sub_100036FE8(uint64_t result, uint64_t a2)
{
  *result = 0;
  *(result + 1) = 1;
  *(result + 2) = 0;
  *(result + 3) = 8;
  *(result + 4) = a2;
  return result;
}

void sub_100037020(void *a1, char a2)
{
  v12 = a1;
  v11 = a2;
  v10 = a1;
  if ((*(*(a1[4] + 8) + 24) & 1) == 0)
  {
    v2 = a1[5];
    v3 = a1[6];
    v9 = _AKSignpostGetNanoseconds() / 1000000000.0;
    location = _AKSignpostLogSystem();
    v7 = OS_SIGNPOST_INTERVAL_END;
    v6 = a1[5];
    if (v6 && v6 != -1 && os_signpost_enabled(location))
    {
      sub_100034290(v14, v11 & 1);
      _os_signpost_emit_with_name_impl(&_mh_execute_header, location, v7, v6, "PiggybackingDetectPresenceForAcceptController", " FoundDevice=%{public,signpost.telemetry:number1,name=FoundDevice}d ", v14, 8u);
    }

    objc_storeStrong(&location, 0);
    oslog = _AKSignpostLogSystem();
    if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000343D0(v13, a1[5], *&v9, v11 & 1);
      _os_log_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_DEFAULT, "END [%lld] %fs:PiggybackingDetectPresenceForAcceptController  FoundDevice=%{public,signpost.telemetry:number1,name=FoundDevice}d ", v13, 0x1Cu);
    }

    objc_storeStrong(&oslog, 0);
    *(*(a1[4] + 8) + 24) = 1;
  }
}

void sub_100037228(uint64_t a1)
{
  v9[2] = a1;
  v9[1] = a1;
  (*(*(a1 + 32) + 16))();
  v9[0] = objc_loadWeakRetained((a1 + 40));
  if (v9[0])
  {
    oslog = _AKLogSystem();
    if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
    {
      sub_10001B098(v10, v9[0], *(v9[0] + 8));
      _os_log_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_DEFAULT, "%@: Proximity controller (%@) found a match", v10, 0x16u);
    }

    objc_storeStrong(&oslog, 0);
    [*(v9[0] + 9) setValue:&__kCFBooleanTrue];
    [*(v9[0] + 8) invalidate];
    v5 = 0;
  }

  else
  {
    location = _AKLogSystem();
    v7 = 17;
    if (os_log_type_enabled(location, OS_LOG_TYPE_FAULT))
    {
      log = location;
      type = v7;
      sub_10001CEEC(v6);
      _os_log_fault_impl(&_mh_execute_header, log, type, "Piggyback accepting controller has been released, proximity controller should have been invalidated", v6, 2u);
    }

    objc_storeStrong(&location, 0);
    v5 = 1;
  }

  objc_storeStrong(v9, 0);
}

void sub_100037404(uint64_t a1)
{
  location[2] = a1;
  location[1] = a1;
  (*(*(a1 + 32) + 16))();
  location[0] = objc_loadWeakRetained((a1 + 40));
  if (location[0])
  {
    if (![*(location[0] + 9) resolved])
    {
      oslog = _AKLogSystem();
      if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
      {
        sub_10001B098(v5, location[0], *(location[0] + 8));
        _os_log_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_DEFAULT, "%@: Proximity controller (%@) has been invalidated and prox was not detected", v5, 0x16u);
      }

      objc_storeStrong(&oslog, 0);
      [*(location[0] + 9) setValue:&__kCFBooleanFalse];
    }

    v3 = 0;
  }

  else
  {
    v3 = 1;
  }

  objc_storeStrong(location, 0);
}

uint64_t sub_100037570(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  *result = 2;
  *(result + 1) = 4;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 112;
  *(result + 23) = 8;
  *(result + 24) = a4;
  *(result + 32) = 64;
  *(result + 33) = 8;
  *(result + 34) = a5;
  return result;
}

uint64_t sub_1000378DC(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  *result = 2;
  *(result + 1) = 3;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 0;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 64;
  *(result + 23) = 8;
  *(result + 24) = a4;
  return result;
}

void sub_100037D0C(uint64_t *a1)
{
  v21 = a1;
  v20 = a1;
  v5 = [*(a1[4] + 72) value];
  v6 = [v5 BOOLValue];
  _objc_release(v5);
  v19 = v6;
  if (v6)
  {
    location = _AKLogSystem();
    v17 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(location, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000194D4(v25, a1[4]);
      _os_log_impl(&_mh_execute_header, location, v17, "%@: Proximity has been detected", v25, 0xCu);
    }

    objc_storeStrong(&location, 0);
  }

  else
  {
    v16 = _AKLogSystem();
    v15 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v24, a1[4]);
      _os_log_error_impl(&_mh_execute_header, v16, v15, "%@: Proximity was not detected", v24, 0xCu);
    }

    objc_storeStrong(&v16, 0);
  }

  [a1[4] _stopProximityController];
  v12 = 0;
  if (v19)
  {
    v1 = _objc_retain(0);
  }

  else
  {
    v13 = [NSError ak_errorWithCode:-7001];
    v12 = 1;
    v1 = _objc_retain(v13);
  }

  v14 = v1;
  if (v12)
  {
    _objc_release(v13);
  }

  [AKAnalyticsSender sendAnalyticsEvent:@"com.apple.authkit.piggybackingProximityDetection" context:0 account:a1[5] error:v14];
  v2 = a1[7];
  v3 = a1[8];
  v11 = _AKSignpostGetNanoseconds() / 1000000000.0;
  v10 = _AKSignpostLogSystem();
  v9 = OS_SIGNPOST_INTERVAL_END;
  v8 = a1[7];
  if (v8 && v8 != -1 && os_signpost_enabled(v10))
  {
    sub_100034290(v23, v19 & 1);
    _os_signpost_emit_with_name_impl(&_mh_execute_header, v10, v9, v8, "PiggybackingCheckPresenceForAcceptController", " FoundDevice=%{public,signpost.telemetry:number1,name=FoundDevice}d ", v23, 8u);
  }

  objc_storeStrong(&v10, 0);
  oslog = _AKSignpostLogSystem();
  if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
  {
    sub_1000343D0(v22, a1[7], *&v11, v19 & 1);
    _os_log_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_DEFAULT, "END [%lld] %fs:PiggybackingCheckPresenceForAcceptController  FoundDevice=%{public,signpost.telemetry:number1,name=FoundDevice}d ", v22, 0x1Cu);
  }

  objc_storeStrong(&oslog, 0);
  (*(a1[6] + 16))();
  objc_storeStrong(&v14, 0);
}

uint64_t sub_100038C7C(uint64_t result, uint64_t a2)
{
  *result = 2;
  *(result + 1) = 1;
  *(result + 2) = 32;
  *(result + 3) = 8;
  *(result + 4) = a2;
  return result;
}

void sub_100039090(id a1)
{
  v1 = objc_alloc_init(AKAuthorizationStoreManager);
  v2 = qword_100374570;
  qword_100374570 = v1;
  _objc_release(v2);
}

void sub_10003966C(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] updateAuthorizationListWithMetadataInfo:a1[4] withAltDSID:a1[5] completion:a1[6]];
  objc_storeStrong(location, 0);
}

void sub_100039890(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] updatePrimaryAppsWithAMSAppMetadata:a1[4] withAltDSID:a1[5] withCompletion:a1[6]];
  objc_storeStrong(location, 0);
}

void sub_100039AB4(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] storeAuthorization:a1[4] withAltDSID:a1[5] forClient:a1[6]];
  objc_storeStrong(location, 0);
}

void sub_100039CD8(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] fetchDeveloperTeamWithTeamID:a1[4] withAltDSID:a1[5] completion:a1[6]];
  objc_storeStrong(location, 0);
}

void sub_100039EFC(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] fetchDeveloperTeamWithClientID:a1[4] withAltDSID:a1[5] completion:a1[6]];
  objc_storeStrong(location, 0);
}

void sub_10003A120(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] performUnsafeVerificationWithUserID:a1[4] withAltDSID:a1[5] completion:a1[6]];
  objc_storeStrong(location, 0);
}

void sub_10003A34C(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] revokeAuthorizationForApplicationWithClientID:a1[4] completion:a1[5]];
  objc_storeStrong(location, 0);
}

void sub_10003A574(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] removeApplicationWithClientID:a1[4] completion:a1[5]];
  objc_storeStrong(location, 0);
}

void sub_10003A744(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] revokeAuthorizationForAllApplicationsWithAltDSID:a1[4] completion:a1[5]];
  objc_storeStrong(location, 0);
}

void sub_10003A914(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] fetchAllDeveloperTeamsAndApplicationsForAltDSID:a1[4] withCompletion:a1[5]];
  objc_storeStrong(location, 0);
}

void sub_10003AAE4(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] fetchAllPrimaryApplicationMetadataForAltDSID:a1[4] withCompletion:a1[5]];
  objc_storeStrong(location, 0);
}

void sub_10003AD0C(uint64_t a1, int a2)
{
  *(v2 - 88) = a1;
  *(v2 - 92) = a2;
  _Block_object_dispose((v2 - 72), 8);
  _Unwind_Resume(*(v2 - 88));
}

void sub_10003AD30(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v2 = [location[0] fetchAuthorizationListVersionWithAltDSID:a1[4]];
  v3 = *(a1[5] + 8);
  v4 = *(v3 + 40);
  *(v3 + 40) = v2;
  _objc_release(v4);
  objc_storeStrong(location, 0);
}

void sub_10003AF28(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] setListVersionToVersion:a1[4] withAltDSID:a1[5]];
  objc_storeStrong(location, 0);
}

void sub_10003B0BC(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  [location[0] clearDatabaseWithAltDSID:a1[4] error:a1[5]];
  objc_storeStrong(location, 0);
}

uint64_t sub_10003B268(uint64_t a1)
{
  v16 = a1;
  v11 = 0;
  v12 = &v11;
  v13 = 0x20000000;
  v14 = 32;
  v10 = qword_100374580;
  v15 = qword_100374580;
  if (!qword_100374580)
  {
    v3 = _NSConcreteStackBlock;
    v4 = -1073741824;
    v5 = 0;
    v6 = sub_10003B37C;
    v7 = &unk_10031F358;
    v8 = &v11;
    v9 = v16;
    sub_10003B37C(&v3);
  }

  v2 = v12[3];
  _Block_object_dispose(&v11, 8);
  return v2;
}

uint64_t sub_10003B37C(uint64_t a1)
{
  memcpy(__dst, off_10031FA90, sizeof(__dst));
  v1 = *(a1 + 40);
  v2 = _sl_dlopen();
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374580 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_10003B43C()
{
  v2 = 0;
  v1 = sub_10003B268(&v2);
  if (!v1)
  {
    abort_report_np();
  }

  if (v2)
  {
    free(v2);
  }

  return v1;
}

id sub_10003B4B8()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_100374588;
  v13 = qword_100374588;
  if (!qword_100374588)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_10003B5E8;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_10003B5E8(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_10003B5E8(uint64_t a1)
{
  sub_10003B43C();
  Class = objc_getClass("BYLicenseAgreement");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_100374588 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_10003B690()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_100374590;
  v13 = qword_100374590;
  if (!qword_100374590)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_10003B798;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_10003B798(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_10003B798(uint64_t a1)
{
  v1 = sub_10003B43C();
  v2 = dlsym(v1, "BYSetupAssistantNeedsToRun");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374590 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_10003B804()
{
  v0 = sub_10003B690();
  v2 = v0;
  if (!v0)
  {
    dlerror();
    v0 = abort_report_np();
  }

  return v2(v0);
}

void sub_10003C940(id *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v31 = 0;
  objc_storeStrong(&v31, a3);
  v30[1] = a1;
  v30[0] = objc_loadWeakRetained(a1 + 7);
  if (v30[0])
  {
    if (v31)
    {
      v29 = _AKLogSystem();
      v28 = OS_LOG_TYPE_ERROR;
      if (os_log_type_enabled(v29, OS_LOG_TYPE_ERROR))
      {
        sub_1000194D4(v34, v31);
        _os_log_error_impl(&_mh_execute_header, v29, v28, "Failed to retrieve recovery data with error. %@", v34, 0xCu);
      }

      objc_storeStrong(&v29, 0);
    }

    else
    {
      v27 = _AKLogSystem();
      v26 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v27, OS_LOG_TYPE_DEFAULT))
      {
        v8 = v27;
        v9 = v26;
        sub_10001CEEC(v25);
        _os_log_impl(&_mh_execute_header, v8, v9, "Native recovery flow completed", v25, 2u);
      }

      objc_storeStrong(&v27, 0);
    }

    v24 = _AKLogSystem();
    v23 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v24, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000194D4(v33, location[0]);
      _os_log_impl(&_mh_execute_header, v24, v23, "Native recovery flow: recoveredInfo %@", v33, 0xCu);
    }

    objc_storeStrong(&v24, 0);
    v6 = *(v30[0] + 1);
    v7 = [a1[4] authContext];
    v5 = *(v30[0] + 2);
    v12 = _NSConcreteStackBlock;
    v13 = -1073741824;
    v14 = 0;
    v15 = sub_10003CDC0;
    v16 = &unk_10031FB60;
    v17 = _objc_retain(location[0]);
    v18 = _objc_retain(v31);
    v19 = _objc_retain(a1[5]);
    v20 = _objc_retain(a1[4]);
    v21 = _objc_retain(v30[0]);
    v22 = _objc_retain(a1[6]);
    [v6 dismissNativeRecoveryUIForContext:v7 client:v5 completion:&v12];
    _objc_release(v7);
    objc_storeStrong(&v22, 0);
    objc_storeStrong(&v21, 0);
    objc_storeStrong(&v20, 0);
    objc_storeStrong(&v19, 0);
    objc_storeStrong(&v18, 0);
    objc_storeStrong(&v17, 0);
  }

  else
  {
    v3 = a1[6];
    v4 = [NSError ak_errorWithCode:-7001];
    v3[2](v3, 0);
    _objc_release(v4);
  }

  objc_storeStrong(v30, 0);
  objc_storeStrong(&v31, 0);
  objc_storeStrong(location, 0);
}

void sub_10003CDC0(uint64_t a1, char a2, id obj)
{
  v46 = a1;
  v45 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  v43[1] = a1;
  v43[0] = _AKLogSystem();
  v42 = OS_LOG_TYPE_DEFAULT;
  if (os_log_type_enabled(v43[0], OS_LOG_TYPE_DEFAULT))
  {
    v20 = v43[0];
    v21 = v42;
    sub_10001CEEC(v41);
    _os_log_impl(&_mh_execute_header, v20, v21, "Attempting to process native recovery response", v41, 2u);
  }

  objc_storeStrong(v43, 0);
  if (([AKNativeAccountRecoveryController shouldSendServerResponseForRecoveredInfo:*(a1 + 32) withRecoveryError:*(a1 + 40)]& 1) != 0)
  {
    v40 = _AKLogSystem();
    v39 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v40, OS_LOG_TYPE_DEFAULT))
    {
      log = v40;
      type = v39;
      sub_10001CEEC(v38);
      _os_log_impl(&_mh_execute_header, log, type, "shouldSendServerResponseForRecoveredInfo is true", v38, 2u);
    }

    objc_storeStrong(&v40, 0);
    v37 = [AKNativeAccountRecoveryController requestForRecoveryCompletionWithContext:*(a1 + 48) recoveredInfo:*(a1 + 32) recoveryError:*(a1 + 40)];
    if (v37)
    {
      v14 = [*(a1 + 56) initiatingServerResponse];
      v13 = [*(a1 + 56) authContext];
      v12 = [*(a1 + 56) requestConfiguration];
      v11 = [v12 urlConfiguration];
      v36 = [AKDServerUIContext serverUIContextFromResponse:v14 authContext:v13 urlRequest:v37 urlConfiguration:?];
      _objc_release(v11);
      _objc_release(v12);
      _objc_release(v13);
      _objc_release(v14);
      v17 = [*(a1 + 56) requestConfiguration];
      v16 = [v17 resourceLoadDelegate];
      v15 = [v36 requestConfiguration];
      [v15 setResourceLoadDelegate:v16];
      _objc_release(v15);
      _objc_release(v16);
      _objc_release(v17);
      v35 = _AKLogSystem();
      v34 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v35, OS_LOG_TYPE_DEFAULT))
      {
        v10 = [v36 debugDescription];
        sub_1000194D4(v47, v10);
        _os_log_impl(&_mh_execute_header, v35, v34, "responseContext: %@", v47, 0xCu);
        _objc_release(v10);
      }

      objc_storeStrong(&v35, 0);
      v33 = [[AKDServerUIController alloc] initWithLiaison:*(*(a1 + 64) + 8) client:*(*(a1 + 64) + 16) delegate:0];
      [(AKDServerUIController *)v33 showServerUIWithContext:v36 completion:*(a1 + 72)];
      objc_storeStrong(&v33, 0);
      objc_storeStrong(&v36, 0);
    }

    else
    {
      v32 = _AKLogSystem();
      v31 = 16;
      if (os_log_type_enabled(v32, OS_LOG_TYPE_ERROR))
      {
        v8 = v32;
        v9 = v31;
        sub_10001CEEC(v30);
        _os_log_error_impl(&_mh_execute_header, v8, v9, "Failed to fetch idMS completion url from provided info", v30, 2u);
      }

      objc_storeStrong(&v32, 0);
      v6 = *(a1 + 72);
      v7 = [NSError ak_errorWithCode:-7010];
      (*(v6 + 16))(v6, 0);
      _objc_release(v7);
    }

    objc_storeStrong(&v37, 0);
  }

  else
  {
    v4 = *(*(a1 + 64) + 8);
    v5 = [*(a1 + 56) authContext];
    v3 = *(*(a1 + 64) + 16);
    v23 = _NSConcreteStackBlock;
    v24 = -1073741824;
    v25 = 0;
    v26 = sub_10003D428;
    v27 = &unk_10031FB38;
    v29 = _objc_retain(*(a1 + 72));
    v28 = _objc_retain(*(a1 + 40));
    [v4 dismissServerProvidedUIForContext:v5 client:v3 completion:&v23];
    _objc_release(v5);
    objc_storeStrong(&v28, 0);
    objc_storeStrong(&v29, 0);
  }

  objc_storeStrong(&location, 0);
}

void sub_10003D428(uint64_t a1, char a2, id obj)
{
  v14 = a1;
  v13 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  v11[1] = a1;
  v11[0] = _AKLogSystem();
  v10 = 2;
  if (os_log_type_enabled(v11[0], OS_LOG_TYPE_DEBUG))
  {
    log = v11[0];
    v7 = v10;
    sub_10001CEEC(v9);
    _os_log_debug_impl(&_mh_execute_header, log, v7, "We determined that we should not be resuming server UI flow at this point.  There is nothing else for us to do here.", v9, 2u);
  }

  objc_storeStrong(v11, 0);
  v3 = *(a1 + 40);
  v5 = [*(a1 + 32) ac_secureCodingError];
  v4 = [NSError ak_errorWithCode:-7003 underlyingError:?];
  (*(v3 + 16))(v3, 0);
  _objc_release(v4);
  _objc_release(v5);
  objc_storeStrong(&location, 0);
}

void sub_10003DC28(void *a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v25 = 0;
  objc_storeStrong(&v25, a3);
  v24 = 0;
  objc_storeStrong(&v24, a4);
  v23[1] = a1;
  if (v24)
  {
    v23[0] = _AKLogSystem();
    v22 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(v23[0], OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v31, v24);
      _os_log_error_impl(&_mh_execute_header, v23[0], v22, "Request to renew recovery token failed! Error: %@", v31, 0xCu);
    }

    objc_storeStrong(v23, 0);
    (*(a1[4] + 16))();
    v21 = 1;
  }

  else
  {
    v20 = [v25 statusCode];
    v19 = _AKLogSystem();
    v18 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
    {
      v10 = [NSNumber numberWithInteger:v20];
      sub_1000194D4(v30, v10);
      _os_log_impl(&_mh_execute_header, v19, v18, "Renewal of recovery token came back with HTTP status code: %@", v30, 0xCu);
      _objc_release(v10);
    }

    objc_storeStrong(&v19, 0);
    if (v20 == 200)
    {
      v15 = 0;
      v6 = [v25 allHeaderFields];
      v14 = [v6 objectForKeyedSubscript:AKPETHeaderKey];
      _objc_release(v6);
      if (v14)
      {
        v27 = AKAuthenticationPasswordKey;
        v28 = v14;
        v4 = [NSDictionary dictionaryWithObjects:&v28 forKeys:&v27 count:1];
        v5 = v15;
        v15 = v4;
        _objc_release(v5);
      }

      (*(a1[4] + 16))();
      objc_storeStrong(&v14, 0);
      objc_storeStrong(&v15, 0);
      v21 = 0;
    }

    else
    {
      v17 = _AKLogSystem();
      v16 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
      {
        v9 = [NSNumber numberWithInteger:v20];
        sub_1000194D4(v29, v9);
        _os_log_impl(&_mh_execute_header, v17, v16, "Unexpected HTTP response code: %@", v29, 0xCu);
        _objc_release(v9);
      }

      objc_storeStrong(&v17, 0);
      v7 = a1[4];
      v8 = [NSError ak_errorWithCode:-7029];
      (*(v7 + 16))(v7, 0);
      _objc_release(v8);
      v21 = 1;
    }
  }

  objc_storeStrong(&v24, 0);
  objc_storeStrong(&v25, 0);
  objc_storeStrong(location, 0);
}

void sub_10003E4E8(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v19 = 0;
  objc_storeStrong(&v19, a3);
  v18[1] = a1;
  if (location[0])
  {
    v7 = [AKSRPRequest alloc];
    v5 = location[0];
    v6 = *(a1 + 32);
    v11 = _NSConcreteStackBlock;
    v12 = -1073741824;
    v13 = 0;
    v14 = sub_10003E7B0;
    v15 = &unk_10031FBD8;
    v16 = _objc_retain(*(a1 + 40));
    v17 = _objc_retain(*(a1 + 56));
    v18[0] = [(AKSRPRequest *)v7 initWithURL:v5 contextHelper:v6 completionHandler:&v11];
    [*(*(a1 + 48) + 24) submitDispatchableRequest:v18[0]];
    objc_storeStrong(v18, 0);
    objc_storeStrong(&v17, 0);
    objc_storeStrong(&v16, 0);
  }

  else
  {
    v10 = _AKLogSystem();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v21, v19);
      _os_log_error_impl(&_mh_execute_header, v10, OS_LOG_TYPE_ERROR, "We failed to fetch basic auth URL, failing SRP... %@", v21, 0xCu);
    }

    objc_storeStrong(&v10, 0);
    if (*(a1 + 56))
    {
      v3 = *(a1 + 56);
      v4 = [NSError ak_errorWithCode:-7005 underlyingError:v19];
      (*(v3 + 16))(v3, 0);
      _objc_release(v4);
    }
  }

  objc_storeStrong(&v19, 0);
  objc_storeStrong(location, 0);
}

void sub_10003E7B0(uint64_t a1, char a2, id obj, void *a4)
{
  v43 = a1;
  v42 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  v40 = 0;
  objc_storeStrong(&v40, a4);
  v39 = a1;
  if (v42)
  {
    v19 = [*(a1 + 32) authContext];
    v20 = [v19 isRKVerification];
    _objc_release(v19);
    v38 = v20;
    if (v20)
    {
      v37 = _AKLogSystem();
      v36 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v37, OS_LOG_TYPE_DEFAULT))
      {
        log = v37;
        type = v36;
        sub_10001CEEC(v35);
        _os_log_impl(&_mh_execute_header, log, type, "MK was accepted for RK Verification", v35, 2u);
      }

      objc_storeStrong(&v37, 0);
      v34 = _objc_retain(&__NSDictionary0__struct);
      (*(*(a1 + 40) + 16))();
      objc_storeStrong(&v34, 0);
    }

    else
    {
      v15 = [location serviceTokens];
      v14 = [v15 objectForKeyedSubscript:@"com.apple.gs.idms.mrk"];
      v33 = [v14 stringValue];
      _objc_release(v14);
      _objc_release(v15);
      v16 = [location masterToken];
      v32 = [v16 stringValue];
      _objc_release(v16);
      if (v33 && v32)
      {
        v31 = _AKLogSystem();
        v30 = OS_LOG_TYPE_DEFAULT;
        if (os_log_type_enabled(v31, OS_LOG_TYPE_DEFAULT))
        {
          v12 = v31;
          v13 = v30;
          sub_10001CEEC(v29);
          _os_log_impl(&_mh_execute_header, v12, v13, "MK was accepted", v29, 2u);
        }

        objc_storeStrong(&v31, 0);
        v44[0] = AKRecoveryIdentityTokenHeader;
        v45[0] = v32;
        v44[1] = AKRecoveryMKValidationTokenHeader;
        v45[1] = v33;
        v28 = [NSDictionary dictionaryWithObjects:v45 forKeys:v44 count:2];
        (*(*(a1 + 40) + 16))();
        objc_storeStrong(&v28, 0);
      }

      else
      {
        v27 = _AKLogSystem();
        v26 = 16;
        if (os_log_type_enabled(v27, OS_LOG_TYPE_ERROR))
        {
          v10 = v27;
          v11 = v26;
          sub_10001CEEC(v25);
          _os_log_error_impl(&_mh_execute_header, v10, v11, "MK was accepted, but we did not get expected data... failing", v25, 2u);
        }

        objc_storeStrong(&v27, 0);
        v8 = *(a1 + 40);
        v9 = [NSError ak_errorWithCode:-7018];
        (*(v8 + 16))(v8, 0);
        _objc_release(v9);
      }

      objc_storeStrong(&v32, 0);
      objc_storeStrong(&v33, 0);
    }
  }

  else if (location || ([v40 ak_isAuthenticationError] & 1) == 0)
  {
    v24 = -7018;
    v23 = objc_alloc_init(NSMutableDictionary);
    if (v40)
    {
      [v23 setObject:v40 forKeyedSubscript:NSUnderlyingErrorKey];
    }

    if ([location errorCode] == -22447)
    {
      v24 = -7028;
    }

    v7 = [location errorMessage];
    _objc_release(v7);
    if (v7)
    {
      v6 = [location errorMessage];
      [v23 setObject:? forKeyedSubscript:?];
      _objc_release(v6);
    }

    v4 = (*(a1 + 40) + 16);
    v5 = [NSError errorWithDomain:AKAppleIDAuthenticationErrorDomain code:v24 userInfo:v23];
    (*v4)();
    _objc_release(v5);
    objc_storeStrong(&v23, 0);
  }

  else
  {
    (*(*(a1 + 40) + 16))();
  }

  objc_storeStrong(&v40, 0);
  objc_storeStrong(&location, 0);
}

void sub_10003F118(void *a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v15 = 0;
  objc_storeStrong(&v15, a3);
  v14 = 0;
  objc_storeStrong(&v14, a4);
  v13[1] = a1;
  if (v14)
  {
    v13[0] = _AKLogSystem();
    v12 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(v13[0], OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v17, v14);
      _os_log_error_impl(&_mh_execute_header, v13[0], v12, "Failed to persist verifier with error: %@", v17, 0xCu);
    }

    objc_storeStrong(v13, 0);
    (*(a1[4] + 16))();
  }

  else
  {
    v11 = _AKLogSystem();
    v10 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
    {
      v4 = v11;
      v5 = v10;
      sub_10001CEEC(v9);
      _os_log_impl(&_mh_execute_header, v4, v5, "Verifier persisted", v9, 2u);
    }

    objc_storeStrong(&v11, 0);
    (*(a1[4] + 16))();
  }

  objc_storeStrong(&v14, 0);
  objc_storeStrong(&v15, 0);
  objc_storeStrong(location, 0);
}

uint64_t sub_10003F680(uint64_t a1)
{
  v16 = a1;
  v11 = 0;
  v12 = &v11;
  v13 = 0x20000000;
  v14 = 32;
  v10 = qword_100374598;
  v15 = qword_100374598;
  if (!qword_100374598)
  {
    v3 = _NSConcreteStackBlock;
    v4 = -1073741824;
    v5 = 0;
    v6 = sub_10003F794;
    v7 = &unk_10031F358;
    v8 = &v11;
    v9 = v16;
    sub_10003F794(&v3);
  }

  v2 = v12[3];
  _Block_object_dispose(&v11, 8);
  return v2;
}

uint64_t sub_10003F794(uint64_t a1)
{
  memcpy(__dst, off_10031FC78, sizeof(__dst));
  v1 = *(a1 + 40);
  v2 = _sl_dlopen();
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374598 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_10003F854()
{
  v2 = 0;
  v1 = sub_10003F680(&v2);
  if (!v1)
  {
    abort_report_np();
  }

  if (v2)
  {
    free(v2);
  }

  return v1;
}

id sub_10003F8D0()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_1003745A0;
  v13 = qword_1003745A0;
  if (!qword_1003745A0)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_10003FA00;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_10003FA00(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_10003FA00(uint64_t a1)
{
  sub_10003F854();
  Class = objc_getClass("FLFollowUpAction");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_1003745A0 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_10003FAA8()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_1003745A8;
  v13 = qword_1003745A8;
  if (!qword_1003745A8)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_10003FBD8;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_10003FBD8(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_10003FBD8(uint64_t a1)
{
  sub_10003F854();
  Class = objc_getClass("FLFollowUpController");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_1003745A8 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_10003FC80()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_1003745B0;
  v13 = qword_1003745B0;
  if (!qword_1003745B0)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_10003FDB0;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_10003FDB0(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_10003FDB0(uint64_t a1)
{
  sub_10003F854();
  Class = objc_getClass("FLFollowUpItem");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_1003745B0 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_10003FE58()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_1003745B8;
  v13 = qword_1003745B8;
  if (!qword_1003745B8)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_10003FF88;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_10003FF88(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_10003FF88(uint64_t a1)
{
  sub_10003F854();
  Class = objc_getClass("FLFollowUpNotification");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_1003745B8 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100040030()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_1003745C0;
  v13 = qword_1003745C0;
  if (!qword_1003745C0)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100040160;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100040160(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_100040160(uint64_t a1)
{
  sub_10003F854();
  Class = objc_getClass("FLHSA2LoginNotification");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_1003745C0 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100040208()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_1003745C8;
  v13 = qword_1003745C8;
  if (!qword_1003745C8)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100040338;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100040338(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_100040338(uint64_t a1)
{
  sub_10003F854();
  Class = objc_getClass("FLHSA2PasswordResetNotification");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_1003745C8 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_1000403E0()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_1003745D0;
  v13 = qword_1003745D0;
  if (!qword_1003745D0)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_1000404E8;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_1000404E8(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_1000404E8(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLGroupIdentifierAccount");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_1003745D0 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100040554()
{
  v2 = sub_1000403E0();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_1000405BC()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_1003745D8;
  v13 = qword_1003745D8;
  if (!qword_1003745D8)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_1000406C4;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_1000406C4(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_1000406C4(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLGroupIdentifierNoGroup");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_1003745D8 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100040730()
{
  v2 = sub_1000405BC();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_100040798()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_1003745E0;
  v13 = qword_1003745E0;
  if (!qword_1003745E0)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_1000408A0;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_1000408A0(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_1000408A0(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLNotificationOptionForce");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_1003745E0 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_10004090C()
{
  v2 = sub_100040798();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_100040974()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_1003745E8;
  v13 = qword_1003745E8;
  if (!qword_1003745E8)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100040A7C;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100040A7C(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_100040A7C(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLNotificationOptionSpringboardAlert");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_1003745E8 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100040AE8()
{
  v2 = sub_100040974();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_100040B50()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_1003745F0;
  v13 = qword_1003745F0;
  if (!qword_1003745F0)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100040C58;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100040C58(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_100040C58(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLNotificationOptionSpringboardAlertActionOnly");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_1003745F0 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100040CC4()
{
  v2 = sub_100040B50();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_100040D2C()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_1003745F8;
  v13 = qword_1003745F8;
  if (!qword_1003745F8)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100040E34;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100040E34(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_100040E34(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLHSA2ActionChangePassword");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_1003745F8 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100040EA0()
{
  v2 = sub_100040D2C();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_100040F08()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_100374600;
  v13 = qword_100374600;
  if (!qword_100374600)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100041010;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100041010(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_100041010(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLNotificationOptionExtensionForNotification");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374600 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_10004107C()
{
  v2 = sub_100040F08();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_1000410E4()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_100374608;
  v13 = qword_100374608;
  if (!qword_100374608)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_1000411EC;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_1000411EC(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_1000411EC(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLNotificationOptionExtensionActions");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374608 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100041258()
{
  v2 = sub_1000410E4();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

uint64_t sub_1000412C0()
{
  v9 = 0;
  v10 = &v9;
  v11 = 0x20000000;
  v12 = 32;
  v8 = qword_100374610;
  v13 = qword_100374610;
  if (!qword_100374610)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_1000413C8;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_1000413C8(&v2);
  }

  v1 = v10[3];
  _Block_object_dispose(&v9, 8);
  return v1;
}

uint64_t sub_1000413C8(uint64_t a1)
{
  v1 = sub_10003F854();
  v2 = dlsym(v1, "FLNotificationOptionBannerAlert");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374610 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100041434()
{
  v2 = sub_1000412C0();
  if (!v2)
  {
    dlerror();
    abort_report_np();
  }

  v0 = *v2;

  return v0;
}

void sub_100041A94(void *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  objc_storeStrong((*(a1[5] + 8) + 40), 0);
  (*(a1[4] + 16))();
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_100041F10(NSObject *a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v9 = 0;
  objc_storeStrong(&v9, a3);
  v8 = 0;
  objc_storeStrong(&v8, a4);
  oslog[1] = a1;
  if (v8)
  {
    oslog[0] = _AKLogSystem();
    if (os_log_type_enabled(oslog[0], OS_LOG_TYPE_ERROR))
    {
      sub_10001B098(v11, v8, location[0]);
      _os_log_error_impl(&_mh_execute_header, oslog[0], OS_LOG_TYPE_ERROR, "Failed to verify enable walrus requirements with error: %@\nresponse: %@", v11, 0x16u);
    }

    objc_storeStrong(oslog, 0);
  }

  if (a1[4].isa)
  {
    (*(a1[4].isa + 2))();
  }

  objc_storeStrong(&v8, 0);
  objc_storeStrong(&v9, 0);
  objc_storeStrong(location, 0);
}

void sub_10004246C(void *a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v27 = 0;
  objc_storeStrong(&v27, a3);
  v26 = 0;
  objc_storeStrong(&v26, a4);
  v25[1] = a1;
  if (v26)
  {
    v25[0] = _AKLogSystem();
    v24 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(v25[0], OS_LOG_TYPE_ERROR))
    {
      sub_10001B098(v29, v26, location[0]);
      _os_log_error_impl(&_mh_execute_header, v25[0], v24, "Failed to update walrus state with error: %@\nresponse: %@", v29, 0x16u);
    }

    objc_storeStrong(v25, 0);
    if (a1[4])
    {
      (*(a1[4] + 16))();
    }

    v23 = 1;
  }

  else
  {
    if ([location[0] statusCode] == 401 || objc_msgSend(location[0], "statusCode") == 302 || !location[0])
    {
      v18 = _AKLogSystem();
      v17 = 16;
      if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
      {
        v6 = v18;
        v7 = v17;
        sub_10001CEEC(v16);
        _os_log_error_impl(&_mh_execute_header, v6, v7, "Failed to update walrus state - either status code is not OK or the response is nil.", v16, 2u);
      }

      objc_storeStrong(&v18, 0);
      if (a1[4])
      {
        v4 = (a1[4] + 16);
        v5 = [NSError ak_errorWithCode:-7010];
        (*v4)();
        _objc_release(v5);
      }
    }

    else
    {
      v12 = [location[0] allHeaderFields];
      v22 = [v12 objectForKeyedSubscript:@"X-Apple-AK-Advanced-ICloud-Data-Protection"];
      _objc_release(v12);
      if (v22)
      {
        if (a1[4])
        {
          (*(a1[4] + 16))();
        }
      }

      else
      {
        v21 = _AKLogSystem();
        v20 = 16;
        if (os_log_type_enabled(v21, OS_LOG_TYPE_ERROR))
        {
          v10 = v21;
          v11 = v20;
          sub_10001CEEC(v19);
          _os_log_error_impl(&_mh_execute_header, v10, v11, "Failed to update walrus state - no ADP status header found in response.", v19, 2u);
        }

        objc_storeStrong(&v21, 0);
        if (a1[4])
        {
          v8 = (a1[4] + 16);
          v9 = [NSError ak_errorWithCode:-7010];
          (*v8)();
          _objc_release(v9);
        }
      }

      objc_storeStrong(&v22, 0);
    }

    v23 = 0;
  }

  objc_storeStrong(&v26, 0);
  objc_storeStrong(&v27, 0);
  objc_storeStrong(location, 0);
}

void sub_100042B7C(id a1)
{
  v3 = [AKStrongDeviceIdentitySigner alloc];
  v4 = objc_opt_new();
  v1 = [(AKStrongDeviceIdentitySigner *)v3 initWithStrongDeviceIdentifying:?];
  v2 = qword_100374618;
  qword_100374618 = v1;
  _objc_release(v2);
  _objc_release(v4);
}

void sub_10004320C(uint64_t a1, char a2)
{
  v10 = a1;
  v9 = a2;
  location[1] = a1;
  if (a2)
  {
    v5 = +[AKConfiguration sharedConfiguration];
    v6 = [v5 shouldEnableAttestationLogging];
    _objc_release(v5);
    if (v6 == 1)
    {
      location[0] = _AKLogSystem();
      if (os_log_type_enabled(location[0], OS_LOG_TYPE_DEFAULT))
      {
        v4 = [*(a1 + 32) client];
        v3 = [v4 name];
        v2 = [*(a1 + 32) requestURL];
        sub_10001B098(v11, v3, v2);
        _os_log_impl(&_mh_execute_header, location[0], OS_LOG_TYPE_DEFAULT, "Excluding [%@] for request [%@]", v11, 0x16u);
        _objc_release(v2);
        _objc_release(v3);
        _objc_release(v4);
      }

      objc_storeStrong(location, 0);
    }

    if (*(a1 + 48))
    {
      (*(*(a1 + 48) + 16))();
    }
  }

  else
  {
    [*(a1 + 40) _baaV1HeadersForRequestData:*(a1 + 32) completion:*(a1 + 48)];
  }
}

void sub_10004426C(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  objc_storeStrong((*(*(a1 + 40) + 8) + 40), location[0]);
  objc_storeStrong((*(*(a1 + 48) + 8) + 40), v5);
  dispatch_group_leave(*(a1 + 32));
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_10004431C(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  objc_storeStrong((*(*(a1 + 40) + 8) + 40), location[0]);
  objc_storeStrong((*(*(a1 + 48) + 8) + 40), v5);
  dispatch_group_leave(*(a1 + 32));
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_1000443CC(uint64_t a1)
{
  v17 = a1;
  v16 = a1;
  if (!*(*(*(a1 + 48) + 8) + 40))
  {
    objc_storeStrong((*(*(a1 + 48) + 8) + 40), *(*(*(a1 + 56) + 8) + 40));
  }

  [*(a1 + 32) addEntriesFromDictionary:*(*(*(a1 + 64) + 8) + 40)];
  [*(a1 + 32) addEntriesFromDictionary:*(*(*(a1 + 72) + 8) + 40)];
  v1 = *(a1 + 80);
  v2 = *(a1 + 88);
  v15 = _AKSignpostGetNanoseconds() / 1000000000.0;
  location = _AKSignpostLogSystem();
  v13 = 2;
  v12 = *(a1 + 80);
  if (v12 && v12 != -1 && os_signpost_enabled(location))
  {
    log = location;
    type = v13;
    spid = v12;
    sub_10001CEEC(v11);
    _os_signpost_emit_with_name_impl(&_mh_execute_header, log, type, spid, "BAASigning", "", v11, 2u);
  }

  objc_storeStrong(&location, 0);
  oslog = _AKSignpostLogSystem();
  if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
  {
    sub_100034384(v18, *(a1 + 80), *&v15);
    _os_log_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_DEFAULT, "END [%lld] %fs:BAASigning ", v18, 0x16u);
  }

  objc_storeStrong(&oslog, 0);
  if (*(a1 + 40))
  {
    v4 = (*(a1 + 40) + 16);
    v5 = [*(a1 + 32) copy];
    v3 = *(*(*(a1 + 48) + 8) + 40);
    (*v4)();
    _objc_release(v5);
  }
}

void sub_1000448D0(uint64_t a1, int a2)
{
  *(v2 - 120) = a1;
  *(v2 - 124) = a2;
  _Block_object_dispose((v2 - 104), 8);
  _Unwind_Resume(*(v2 - 120));
}

void sub_1000448F4(uint64_t a1, void *a2, void *a3, char a4, void *a5)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v40 = 0;
  objc_storeStrong(&v40, a3);
  v39 = a4;
  v38 = 0;
  objc_storeStrong(&v38, a5);
  v37[1] = a1;
  v37[0] = _AKLogSystem();
  v36 = 2;
  if (os_log_type_enabled(v37[0], OS_LOG_TYPE_DEBUG))
  {
    v25 = v37[0];
    v26 = v36;
    sub_10001CEEC(v35);
    _os_log_debug_impl(&_mh_execute_header, v25, v26, "BAA signing completed", v35, 2u);
  }

  objc_storeStrong(v37, 0);
  v34 = 0;
  if (v39)
  {
    v5 = [AAFAnalyticsEvent ak_analyticsEventWithEventName:@"com.apple.authkit.baa.signing.cached" error:0];
    v6 = *(*(a1 + 56) + 8);
    v7 = *(v6 + 40);
    *(v6 + 40) = v5;
    _objc_release(v7);
  }

  if (v38)
  {
    objc_storeStrong(&v34, v38);
    [*(*(*(a1 + 56) + 8) + 40) setObject:&__kCFBooleanFalse forKeyedSubscript:kAAFDidSucceed];
    [*(*(*(a1 + 56) + 8) + 40) populateUnderlyingErrorsStartingWithRootError:v34];
    [*(a1 + 32) _updateAnalyticsEvent:*(*(*(a1 + 56) + 8) + 40) withError:v38];
    v20 = *(a1 + 40);
    v22 = [v38 domain];
    v21 = +[NSString stringWithFormat:](NSString, "stringWithFormat:", @"%@:%li", v22, [v38 code]);
    [v20 setValue:? forKey:?];
    _objc_release(v21);
    _objc_release(v22);
    v23 = *(a1 + 40);
    v24 = [v38 ak_errorsHeaderStringWithMessage];
    [v23 setValue:? forKey:?];
    _objc_release(v24);
  }

  else if ([location[0] count] == 2)
  {
    [*(*(*(a1 + 56) + 8) + 40) setObject:&__kCFBooleanTrue forKeyedSubscript:kAAFDidSucceed];
    v33 = [location[0] objectAtIndexedSubscript:?];
    v32 = [location[0] objectAtIndexedSubscript:1];
    v14 = *(a1 + 40);
    v15 = [v33 base64EncodedStringWithOptions:0];
    [v14 setValue:? forKey:?];
    _objc_release(v15);
    v16 = *(a1 + 40);
    v17 = [v32 base64EncodedStringWithOptions:0];
    [v16 setValue:? forKey:?];
    _objc_release(v17);
    v18 = *(a1 + 40);
    v19 = [v40 base64EncodedStringWithOptions:0];
    [v18 setValue:? forKey:?];
    _objc_release(v19);
    [*(a1 + 32) _overrideInternalBAACert:*(a1 + 40)];
    objc_storeStrong(&v32, 0);
    objc_storeStrong(&v33, 0);
  }

  else
  {
    v9 = AKAttestationErrorDomain;
    v42 = NSLocalizedDescriptionKey;
    v43 = @"Correct number of signatures not found. This is unexpected.";
    v10 = [NSDictionary dictionaryWithObjects:&v43 forKeys:&v42 count:1];
    v31 = [NSError errorWithDomain:v9 code:-10001 userInfo:?];
    _objc_release(v10);
    objc_storeStrong(&v34, v31);
    [*(*(*(a1 + 56) + 8) + 40) setObject:&__kCFBooleanFalse forKeyedSubscript:kAAFDidSucceed];
    [*(*(*(a1 + 56) + 8) + 40) populateUnderlyingErrorsStartingWithRootError:v31];
    v11 = *(a1 + 40);
    v13 = [(NSError *)v31 domain];
    v12 = [NSString stringWithFormat:@"%@:%li", v13, [(NSError *)v31 code]];
    [v11 setValue:? forKey:?];
    _objc_release(v12);
    _objc_release(v13);
    objc_storeStrong(&v31, 0);
  }

  [*(a1 + 32) _reportBAASigningForEvent:*(*(*(a1 + 56) + 8) + 40)];
  if (*(a1 + 48))
  {
    v8 = *(a1 + 40);
    (*(*(a1 + 48) + 16))();
  }

  objc_storeStrong(&v34, 0);
  objc_storeStrong(&v38, 0);
  objc_storeStrong(&v40, 0);
  objc_storeStrong(location, 0);
}

void sub_1000457E8(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  objc_storeStrong((*(*(a1 + 48) + 8) + 40), v5);
  [*(a1 + 32) addEntriesFromDictionary:location[0]];
  dispatch_group_leave(*(a1 + 40));
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_100045894(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v5 = 0;
  objc_storeStrong(&v5, a3);
  objc_storeStrong((*(*(a1 + 48) + 8) + 40), v5);
  [*(a1 + 32) addEntriesFromDictionary:location[0]];
  dispatch_group_leave(*(a1 + 40));
  objc_storeStrong(&v5, 0);
  objc_storeStrong(location, 0);
}

void sub_100045940(uint64_t a1)
{
  location[2] = a1;
  location[1] = a1;
  if (!*(*(*(a1 + 64) + 8) + 40))
  {
    objc_storeStrong((*(*(a1 + 64) + 8) + 40), *(*(*(a1 + 72) + 8) + 40));
  }

  location[0] = [*(a1 + 32) objectForKeyedSubscript:AKRequestSigningHeaderHostAltSignatureKey];
  if ([location[0] length] && (objc_msgSend(*(a1 + 40), "isEqual:", *(a1 + 48)) & 1) != 0)
  {
    [*(a1 + 32) setObject:location[0] forKeyedSubscript:AKRequestSigningHeaderHostSignatureKey];
  }

  if (*(a1 + 56))
  {
    v1 = *(a1 + 32);
    v2 = *(*(*(a1 + 64) + 8) + 40);
    (*(*(a1 + 56) + 16))();
  }

  objc_storeStrong(location, 0);
}

void sub_100045F2C(uint64_t a1, void *a2, void *a3, void *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v26 = 0;
  objc_storeStrong(&v26, a3);
  v25 = 0;
  objc_storeStrong(&v25, a4);
  v24[1] = a1;
  v24[0] = _AKLogSystem();
  v23 = 2;
  if (os_log_type_enabled(v24[0], OS_LOG_TYPE_DEBUG))
  {
    log = v24[0];
    type = v23;
    sub_10001CEEC(v22);
    _os_log_debug_impl(&_mh_execute_header, log, type, "BAA signing completed for host", v22, 2u);
  }

  objc_storeStrong(v24, 0);
  v21 = +[NSMutableDictionary dictionary];
  if (v25)
  {
    [*(a1 + 32) setObject:&__kCFBooleanFalse forKeyedSubscript:kAAFDidSucceed];
    [*(a1 + 32) populateUnderlyingErrorsStartingWithRootError:v25];
    [*(a1 + 40) _updateAnalyticsEvent:*(a1 + 32) withError:v25];
    v10 = [v25 domain];
    v9 = +[NSString stringWithFormat:](NSString, "stringWithFormat:", @"%@:%li", v10, [v25 code]);
    [v21 setValue:? forKey:?];
    _objc_release(v9);
    _objc_release(v10);
  }

  else
  {
    [*(a1 + 32) setObject:&__kCFBooleanTrue forKeyedSubscript:kAAFDidSucceed];
    v7 = [location[0] base64EncodedStringWithOptions:?];
    v4 = *(a1 + 48);
    [v21 setValue:? forKey:?];
    _objc_release(v7);
    v8 = [v26 base64EncodedStringWithOptions:0];
    [v21 setValue:? forKey:?];
    _objc_release(v8);
  }

  [*(a1 + 40) _reportBAASigningForEvent:*(a1 + 32)];
  v5 = *(a1 + 64);
  v6 = *(a1 + 72);
  v20 = _AKSignpostGetNanoseconds() / 1000000000.0;
  v19 = _AKSignpostLogSystem();
  v18 = OS_SIGNPOST_INTERVAL_END;
  v17 = *(a1 + 64);
  if (v17 && v17 != -1 && os_signpost_enabled(v19))
  {
    sub_100034290(v29, [v25 code]);
    _os_signpost_emit_with_name_impl(&_mh_execute_header, v19, v18, v17, "VMHostBAASigning", " Error=%{public,signpost.telemetry:number2,name=Error}d ", v29, 8u);
  }

  objc_storeStrong(&v19, 0);
  v16 = _AKSignpostLogSystem();
  if (os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT))
  {
    sub_1000343D0(v28, *(a1 + 64), *&v20, [v25 code]);
    _os_log_impl(&_mh_execute_header, v16, OS_LOG_TYPE_DEFAULT, "END [%lld] %fs:VMHostBAASigning  Error=%{public,signpost.telemetry:number2,name=Error}d ", v28, 0x1Cu);
  }

  objc_storeStrong(&v16, 0);
  if (*(a1 + 56))
  {
    (*(*(a1 + 56) + 16))();
  }

  objc_storeStrong(&v21, 0);
  objc_storeStrong(&v25, 0);
  objc_storeStrong(&v26, 0);
  objc_storeStrong(location, 0);
}

id sub_100046EF8(uint64_t a1, char a2, char a3)
{
  if (a3)
  {
    return [*(a1 + 32) _handleAllowListLogicForProcess:a2 & 1 requestHost:*(a1 + 40) processName:*(a1 + 48) completion:*(a1 + 56)];
  }

  else
  {
    return [*(a1 + 32) _handleExclusionLogicForProcessName:*(a1 + 48) requestHostName:*(a1 + 40) completion:*(a1 + 56)];
  }
}

void sub_10004719C(uint64_t a1, char a2)
{
  v5 = a1;
  v4 = a2;
  oslog[1] = a1;
  if (a2)
  {
    if (*(a1 + 48))
    {
      (*(*(a1 + 48) + 16))();
    }
  }

  else
  {
    oslog[0] = _AKLogSystem();
    if (os_log_type_enabled(oslog[0], OS_LOG_TYPE_DEFAULT))
    {
      sub_10001B098(v6, *(a1 + 32), *(a1 + 40));
      _os_log_impl(&_mh_execute_header, oslog[0], OS_LOG_TYPE_DEFAULT, "BAA exclusion: Config allows process '%@' but not URL host '%@'", v6, 0x16u);
    }

    objc_storeStrong(oslog, 0);
    if (*(a1 + 48))
    {
      (*(*(a1 + 48) + 16))();
    }
  }
}

void sub_100047488(uint64_t a1, char a2)
{
  v11 = a1;
  v10 = a2;
  v9[1] = a1;
  if (a2)
  {
    if (*(a1 + 48))
    {
      (*(*(a1 + 48) + 16))();
    }
  }

  else
  {
    v3 = *(a1 + 32);
    v2 = *(a1 + 40);
    v4 = _NSConcreteStackBlock;
    v5 = -1073741824;
    v6 = 0;
    v7 = sub_1000475A4;
    v8 = &unk_10031F928;
    v9[0] = _objc_retain(*(a1 + 48));
    [v3 _isURLHostVIPExcluded:v2 completion:&v4];
    objc_storeStrong(v9, 0);
  }
}

uint64_t sub_1000475A4(uint64_t result)
{
  if (*(result + 32))
  {
    return (*(*(result + 32) + 16))();
  }

  return result;
}

void sub_1000477C8(void *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v6 = 0;
  objc_storeStrong(&v6, a3);
  v5[1] = a1;
  v5[0] = 0;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    objc_storeStrong(v5, location[0]);
  }

  if (v5[0] && [v5[0] count])
  {
    [v5[0] containsObject:a1[4]];
    if (a1[5])
    {
      (*(a1[5] + 16))();
    }
  }

  else if (a1[5])
  {
    (*(a1[5] + 16))();
  }

  objc_storeStrong(v5, 0);
  objc_storeStrong(&v6, 0);
  objc_storeStrong(location, 0);
}

void sub_100047B14(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v11 = 0;
  objc_storeStrong(&v11, a3);
  v10[1] = a1;
  v10[0] = 0;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    objc_storeStrong(v10, location[0]);
  }

  if ([v10[0] count])
  {
    [*(a1 + 32) _doesHostVIPMatch:*(a1 + 40) vipList:v10[0]];
    if (*(a1 + 48))
    {
      (*(*(a1 + 48) + 16))();
    }
  }

  else
  {
    v9 = _AKLogSystem();
    v8 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      log = v9;
      type = v8;
      sub_10001CEEC(v7);
      _os_log_impl(&_mh_execute_header, log, type, "BAA exclusion: Invalid configuration - AKBAAOnlyAllowedVIPsBagConfigKey is empty", v7, 2u);
    }

    objc_storeStrong(&v9, 0);
    if (*(a1 + 48))
    {
      (*(*(a1 + 48) + 16))();
    }
  }

  objc_storeStrong(v10, 0);
  objc_storeStrong(&v11, 0);
  objc_storeStrong(location, 0);
}

void sub_100047EE0(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v13 = 0;
  objc_storeStrong(&v13, a3);
  v12[1] = a1;
  v12[0] = 0;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    objc_storeStrong(v12, location[0]);
  }

  if (![v12[0] count])
  {
    v3 = [*(a1 + 32) _preExcludedProcesses];
    v4 = v12[0];
    v12[0] = v3;
    _objc_release(v4);
  }

  v11 = [v12[0] containsObject:*(a1 + 40)];
  v9 = 0;
  v5 = 0;
  if (v11)
  {
    v10 = +[AKConfiguration sharedConfiguration];
    v9 = 1;
    v5 = [v10 shouldEnableAttestationLogging] != 0;
  }

  if (v9)
  {
    _objc_release(v10);
  }

  if (v5)
  {
    oslog = _AKLogSystem();
    if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000194D4(v15, *(a1 + 40));
      _os_log_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_DEFAULT, "Excluding process from attestation - %@", v15, 0xCu);
    }

    objc_storeStrong(&oslog, 0);
  }

  if (*(a1 + 48))
  {
    (*(*(a1 + 48) + 16))();
  }

  objc_storeStrong(v12, 0);
  objc_storeStrong(&v13, 0);
  objc_storeStrong(location, 0);
}

void sub_1000483B8(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v11 = 0;
  objc_storeStrong(&v11, a3);
  v10[1] = a1;
  v10[0] = 0;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    objc_storeStrong(v10, location[0]);
  }

  if (![v10[0] count])
  {
    objc_storeStrong(v10, *(a1 + 32));
  }

  v9 = [*(a1 + 40) _doesHostVIPMatch:*(a1 + 48) vipList:v10[0]];
  v7 = 0;
  v3 = 0;
  if (v9)
  {
    v8 = +[AKConfiguration sharedConfiguration];
    v7 = 1;
    v3 = [v8 shouldEnableAttestationLogging] != 0;
  }

  if (v7)
  {
    _objc_release(v8);
  }

  if (v3)
  {
    oslog = _AKLogSystem();
    if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000194D4(v13, *(a1 + 48));
      _os_log_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_DEFAULT, "Excluding URL host from attestation - %@", v13, 0xCu);
    }

    objc_storeStrong(&oslog, 0);
  }

  if (*(a1 + 56))
  {
    (*(*(a1 + 56) + 16))();
  }

  objc_storeStrong(v10, 0);
  objc_storeStrong(&v11, 0);
  objc_storeStrong(location, 0);
}

void sub_1000488E4(id a1)
{
  v1 = +[AKDevice currentDevice];
  v2 = [v1 isVirtualMachine];
  _objc_release(v1);
  if (v2)
  {
    objc_storeStrong(&qword_100374628, &off_100339728);
  }

  else
  {
    objc_storeStrong(&qword_100374628, &off_100339740);
  }
}

void sub_100048AC8(id *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v15 = 0;
  objc_storeStrong(&v15, a3);
  v14[1] = a1;
  queue = *(a1[4] + 3);
  v6 = _NSConcreteStackBlock;
  v7 = -1073741824;
  v8 = 0;
  v9 = sub_100048C6C;
  v10 = &unk_100320000;
  v11 = _objc_retain(v15);
  v12 = _objc_retain(location[0]);
  v13 = _objc_retain(a1[4]);
  v14[0] = _objc_retain(a1[5]);
  dispatch_async(queue, &v6);
  objc_storeStrong(v14, 0);
  objc_storeStrong(&v13, 0);
  objc_storeStrong(&v12, 0);
  objc_storeStrong(&v11, 0);
  objc_storeStrong(&v15, 0);
  objc_storeStrong(location, 0);
}

void sub_100048C6C(uint64_t a1)
{
  location[2] = a1;
  location[1] = a1;
  if (*(a1 + 32))
  {
    location[0] = _AKLogSystem();
    v14 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(location[0], OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v16, *(a1 + 32));
      _os_log_error_impl(&_mh_execute_header, location[0], v14, "Error getting sampling rate from config - %@", v16, 0xCu);
    }

    objc_storeStrong(location, 0);
  }

  else if (*(a1 + 40))
  {
    v10 = [*(a1 + 40) integerValue];
    if ([*(a1 + 48) _shouldPostAnalyticsWithSamplingRate:v10])
    {
      v9 = +[AKAnalyticsReporterRTC rtcAnalyticsReporter];
      [v9 sendEvent:*(a1 + 56)];
      oslog = _AKLogSystem();
      v7 = OS_LOG_TYPE_DEBUG;
      if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEBUG))
      {
        v1 = oslog;
        v2 = v7;
        sub_10001CEEC(v6);
        _os_log_debug_impl(&_mh_execute_header, v1, v2, "Finished reporting for BAA signing", v6, 2u);
      }

      objc_storeStrong(&oslog, 0);
      objc_storeStrong(&v9, 0);
    }
  }

  else
  {
    v13 = _AKLogSystem();
    v12 = 16;
    if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
    {
      v3 = v13;
      v4 = v12;
      sub_10001CEEC(v11);
      _os_log_error_impl(&_mh_execute_header, v3, v4, "There is no sampling rate", v11, 2u);
    }

    objc_storeStrong(&v13, 0);
  }
}

uint64_t sub_10004A1B4(void *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v7[2] = a3;
  v7[1] = a1;
  v7[0] = [*(a1[4] + 8) altDSIDForAccount:location[0]];
  if ([v7[0] length])
  {
    v9 = 1;
  }

  else
  {
    oslog = _AKLogSystem();
    if (os_log_type_enabled(oslog, OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v10, location[0]);
      _os_log_error_impl(&_mh_execute_header, oslog, OS_LOG_TYPE_ERROR, "Account is missing an altDSID, skipping cleanup for account %@...", v10, 0xCu);
    }

    objc_storeStrong(&oslog, 0);
    v9 = 0;
  }

  objc_storeStrong(v7, 0);
  objc_storeStrong(location, 0);
  return v9 & 1;
}

void sub_10004AB58(uint64_t a1, char a2, id obj)
{
  v9 = a1;
  v8 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  oslog[1] = a1;
  if (v8)
  {
    v4 = _AKLogSystem();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000194D4(v10, *(a1 + 32));
      _os_log_impl(&_mh_execute_header, v4, OS_LOG_TYPE_DEFAULT, "Successfully removed account %@.", v10, 0xCu);
    }

    objc_storeStrong(&v4, 0);
  }

  else
  {
    oslog[0] = _AKLogSystem();
    type = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(oslog[0], OS_LOG_TYPE_ERROR))
    {
      sub_10001B098(v11, *(a1 + 32), location);
      _os_log_error_impl(&_mh_execute_header, oslog[0], type, "Failed to remove account %@. Error: %@", v11, 0x16u);
    }

    objc_storeStrong(oslog, 0);
  }

  dispatch_group_leave(*(*(a1 + 40) + 24));
  objc_storeStrong(&location, 0);
}

void sub_10004B260(uint64_t a1)
{
  v13[2] = a1;
  v13[1] = a1;
  v13[0] = [*(*(a1 + 32) + 8) altDSIDForAccount:*(a1 + 40)];
  v3 = *(*(a1 + 32) + 8);
  v4 = [*(a1 + 48) objectForKeyedSubscript:v13[0]];
  v12 = [v3 buildCredentialWithTokens:?];
  _objc_release(v4);
  [*(a1 + 40) setCredential:v12];
  v11 = 0;
  v1 = *(*(a1 + 32) + 8);
  v2 = *(a1 + 40);
  v10 = 0;
  v6 = [v1 saveAccount:v2 error:&v10];
  objc_storeStrong(&v11, v10);
  if (v6)
  {
    v7 = _AKLogSystem();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      sub_1000194D4(v14, *(a1 + 40));
      _os_log_impl(&_mh_execute_header, v7, OS_LOG_TYPE_DEFAULT, "Successfully saved account %@.", v14, 0xCu);
    }

    objc_storeStrong(&v7, 0);
  }

  else
  {
    oslog = _AKLogSystem();
    type = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(oslog, OS_LOG_TYPE_ERROR))
    {
      sub_10001B098(v15, *(a1 + 40), v11);
      _os_log_error_impl(&_mh_execute_header, oslog, type, "Failed to save account %@. Error: %@", v15, 0x16u);
    }

    objc_storeStrong(&oslog, 0);
  }

  objc_storeStrong(&v11, 0);
  objc_storeStrong(&v12, 0);
  objc_storeStrong(v13, 0);
}

void sub_10004BA38(id *a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v36 = 0;
  objc_storeStrong(&v36, a3);
  v35[1] = a1;
  if (v36)
  {
    v35[0] = _AKLogSystem();
    v34 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(v35[0], OS_LOG_TYPE_ERROR))
    {
      sub_1000194D4(v38, v36);
      _os_log_error_impl(&_mh_execute_header, v35[0], v34, "Error getting sync config - %@", v38, 0xCu);
    }

    objc_storeStrong(v35, 0);
    v33 = 1;
    goto LABEL_21;
  }

  if (([location[0] BOOLValue] & 1) == 0)
  {
    oslog = _AKLogSystem();
    v16 = OS_LOG_TYPE_DEBUG;
    if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEBUG))
    {
      v4 = oslog;
      v5 = v16;
      sub_10001CEEC(v15);
      _os_log_debug_impl(&_mh_execute_header, v4, v5, "Skipping accessory sync call since the config is not enabled.", v15, 2u);
    }

    objc_storeStrong(&oslog, 0);
    goto LABEL_20;
  }

  v32 = _AKLogSystem();
  v31 = 2;
  if (os_log_type_enabled(v32, OS_LOG_TYPE_DEBUG))
  {
    v11 = v32;
    v12 = v31;
    sub_10001CEEC(v30);
    _os_log_debug_impl(&_mh_execute_header, v11, v12, "AKAccessoryHandler: starting accessory sync", v30, 2u);
  }

  objc_storeStrong(&v32, 0);
  v29 = +[AKAccountManager sharedInstance];
  v28 = [v29 primaryAuthKitAccount];
  if (v28)
  {
    v24 = [a1[4] getPairedDevices];
    v23 = objc_alloc_init(AKAppleIDAuthenticationContext);
    v8 = [v29 altDSIDForAccount:v28];
    [v23 setAltDSID:?];
    _objc_release(v8);
    v3 = [AKGrandSlamRequestProvider alloc];
    v22 = [(AKURLRequestProviderImpl *)v3 initWithContext:v23 urlBagKey:AKURLBagKeyAcessorySyncKey];
    v21[1] = 1;
    [v22 setAuthenticatedRequest:1];
    [v22 setRequestBodyType:1];
    [v22 setExpectedResponseType:1];
    [v22 setAuthKitBody:v24];
    v21[0] = [[AKServiceControllerImpl alloc] initWithRequestProvider:v22];
    [v21[0] executeRequestWithCompletion:&stru_100320150];
    v20 = _AKLogSystem();
    v19 = 2;
    if (os_log_type_enabled(v20, OS_LOG_TYPE_DEBUG))
    {
      v6 = v20;
      v7 = v19;
      sub_10001CEEC(v18);
      _os_log_debug_impl(&_mh_execute_header, v6, v7, "finished accessory sync", v18, 2u);
    }

    objc_storeStrong(&v20, 0);
    objc_storeStrong(v21, 0);
    objc_storeStrong(&v22, 0);
    objc_storeStrong(&v23, 0);
    objc_storeStrong(&v24, 0);
    v33 = 0;
  }

  else
  {
    v27 = _AKLogSystem();
    v26 = 2;
    if (os_log_type_enabled(v27, OS_LOG_TYPE_DEBUG))
    {
      v9 = v27;
      v10 = v26;
      sub_10001CEEC(v25);
      _os_log_debug_impl(&_mh_execute_header, v9, v10, "Skipping accessory sync call since there is no primary AuthKit account", v25, 2u);
    }

    objc_storeStrong(&v27, 0);
    v33 = 1;
  }

  objc_storeStrong(&v28, 0);
  objc_storeStrong(&v29, 0);
  if (!v33)
  {
LABEL_20:
    v33 = 0;
  }

LABEL_21:
  objc_storeStrong(&v36, 0);
  objc_storeStrong(location, 0);
}

void sub_10004BF40(id a1, NSHTTPURLResponse *a2, NSData *a3, NSError *a4)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v9 = 0;
  objc_storeStrong(&v9, a3);
  v8 = 0;
  objc_storeStrong(&v8, a4);
  oslog[1] = a1;
  if (v8)
  {
    oslog[0] = _AKLogSystem();
    if (os_log_type_enabled(oslog[0], OS_LOG_TYPE_ERROR))
    {
      sub_10004C098(v11, "+[AKAccessoryHandler syncAccessories]_block_invoke", v8);
      _os_log_error_impl(&_mh_execute_header, oslog[0], OS_LOG_TYPE_ERROR, "%s: Failed to sync accessories with error: %@", v11, 0x16u);
    }

    objc_storeStrong(oslog, 0);
  }

  objc_storeStrong(&v8, 0);
  objc_storeStrong(&v9, 0);
  objc_storeStrong(location, 0);
}

uint64_t sub_10004C098(uint64_t result, uint64_t a2, uint64_t a3)
{
  *result = 2;
  *(result + 1) = 2;
  *(result + 2) = 32;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  return result;
}

id sub_10004CE94(void *a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  if (objc_opt_isKindOfClass())
  {
    v5 = _objc_retain(location[0]);
  }

  else
  {
    v5 = 0;
  }

  objc_storeStrong(location, 0);
  v2 = v5;

  return v2;
}

void sub_10004D538(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v31 = 0;
  objc_storeStrong(&v31, a3);
  v30 = a1;
  if (location[0])
  {
    v11 = [*(*(a1 + 32) + 160) proxiedDevice];
    v27 = 0;
    v12 = 0;
    if (v11)
    {
      v28 = [*(*(a1 + 32) + 160) appProvidedContext];
      v27 = 1;
      v12 = v28 != 0;
    }

    if (v27)
    {
      _objc_release(v28);
    }

    _objc_release(v11);
    if (v12)
    {
      v26 = _AKLogSystem();
      v25 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v26, OS_LOG_TYPE_DEFAULT))
      {
        sub_10001B098(v33, *(a1 + 32), *(*(a1 + 32) + 160));
        _os_log_impl(&_mh_execute_header, v26, v25, "%@: Requesting attestation data for proxied auth context (%@)", v33, 0x16u);
      }

      objc_storeStrong(&v26, 0);
      v6 = [AKAnisetteProvisioningService alloc];
      v7 = [*(a1 + 32) client];
      v3 = *(*(a1 + 32) + 160);
      v24 = [AKAnisetteProvisioningService initWithClient:v6 context:"initWithClient:context:"];
      _objc_release(v7);
      v23 = objc_alloc_init(NSMutableURLRequest);
      v9 = v24;
      v10 = [*(*(a1 + 32) + 160) proxiedDevice];
      v8 = v23;
      v15 = _NSConcreteStackBlock;
      v16 = -1073741824;
      v17 = 0;
      v18 = sub_10004D9B8;
      v19 = &unk_1003202B0;
      v20 = _objc_retain(*(a1 + 32));
      v21 = _objc_retain(location[0]);
      v22 = _objc_retain(*(a1 + 40));
      [(AKAnisetteProvisioningService *)v9 attestationDataForDevice:v10 withRequest:v8 completion:&v15];
      _objc_release(v10);
      objc_storeStrong(&v22, 0);
      objc_storeStrong(&v21, 0);
      objc_storeStrong(&v20, 0);
      objc_storeStrong(&v23, 0);
      objc_storeStrong(&v24, 0);
    }

    else
    {
      v4 = (*(a1 + 40) + 16);
      v5 = [location[0] copy];
      (*v4)();
      _objc_release(v5);
    }

    v29 = 0;
  }

  else
  {
    (*(*(a1 + 40) + 16))();
    v29 = 1;
  }

  objc_storeStrong(&v31, 0);
  objc_storeStrong(location, 0);
}

void sub_10004D9B8(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v16 = 0;
  objc_storeStrong(&v16, a3);
  v15[1] = a1;
  if (v16)
  {
    v15[0] = _AKLogSystem();
    v14 = OS_LOG_TYPE_ERROR;
    if (os_log_type_enabled(v15[0], OS_LOG_TYPE_ERROR))
    {
      sub_10004DCC8(v19, *(a1 + 32), *(*(a1 + 32) + 160), v16);
      _os_log_error_impl(&_mh_execute_header, v15[0], v14, "%@: Failed to fetch attestation data for proxied auth context (%@) with error (%@)", v19, 0x20u);
    }

    objc_storeStrong(v15, 0);
  }

  else
  {
    v13 = _AKLogSystem();
    v12 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
    {
      sub_10004DCC8(v18, *(a1 + 32), location[0], *(*(a1 + 32) + 160));
      _os_log_impl(&_mh_execute_header, v13, v12, "%@: Fetched attestation data (%@) for proxied auth context (%@)", v18, 0x20u);
    }

    objc_storeStrong(&v13, 0);
  }

  v3 = [*(a1 + 40) objectForKeyedSubscript:kAppleIDAuthSupportClientProvidedData];
  v11 = [v3 mutableCopy];
  _objc_release(v3);
  v4 = v11;
  v5 = [location[0] attestationHeaders];
  [v4 addEntriesFromDictionary:?];
  _objc_release(v5);
  v6 = [v11 copy];
  [*(a1 + 40) setObject:? forKeyedSubscript:?];
  _objc_release(v6);
  v7 = (*(a1 + 48) + 16);
  v8 = [*(a1 + 40) copy];
  (*v7)();
  _objc_release(v8);
  objc_storeStrong(&v11, 0);
  objc_storeStrong(&v16, 0);
  objc_storeStrong(location, 0);
}

uint64_t sub_10004DCC8(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  *result = 2;
  *(result + 1) = 3;
  *(result + 2) = 64;
  *(result + 3) = 8;
  *(result + 4) = a2;
  *(result + 12) = 64;
  *(result + 13) = 8;
  *(result + 14) = a3;
  *(result + 22) = 64;
  *(result + 23) = 8;
  *(result + 24) = a4;
  return result;
}

void sub_10004DEF8(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v203 = 0;
  objc_storeStrong(&v203, a3);
  v202 = a1;
  if (location[0])
  {
    v3 = [location[0] mutableCopy];
    v4 = *(*(a1 + 48) + 8);
    v5 = *(v4 + 40);
    *(v4 + 40) = v3;
    _objc_release(v5);
    v92 = [*(*(*(a1 + 48) + 8) + 40) objectForKeyedSubscript:kAppleIDAuthSupportClientProvidedData];
    v200 = [v92 mutableCopy];
    _objc_release(v92);
    v93 = [*(*(*(a1 + 48) + 8) + 40) objectForKeyedSubscript:kAppleIDAuthSupportAdditionalHeaders];
    v199 = [v93 mutableCopy];
    _objc_release(v93);
    if (!v199)
    {
      v199 = objc_alloc_init(NSMutableDictionary);
      _objc_release(0);
    }

    v91 = +[AKAppleIDPushHelperService sharedService];
    v198 = [v91 publicAPSTokenString];
    _objc_release(v91);
    if (v198)
    {
      [v200 setObject:v198 forKeyedSubscript:AKRequestBodyPushTokenKey];
    }

    v197 = +[NSNumber numberWithUnsignedInteger:](NSNumber, "numberWithUnsignedInteger:", [*(*(a1 + 32) + 160) authenticationType]);
    [v200 setObject:v197 forKeyedSubscript:@"at"];
    v87 = [v197 stringValue];
    [v199 setObject:? forKeyedSubscript:?];
    _objc_release(v87);
    v89 = [*(*(a1 + 32) + 160) _identifier];
    v88 = [v89 UUIDString];
    [v200 setObject:? forKeyedSubscript:?];
    _objc_release(v88);
    _objc_release(v89);
    v90 = [*(a1 + 32) authContext];
    v196 = [v90 _proxiedAppBundleID];
    _objc_release(v90);
    if ([v196 length])
    {
      [v199 setObject:v196 forKeyedSubscript:AKProxiedBundleIDHeader];
    }

    v195 = [*(*(a1 + 32) + 160) supportsPiggybacking];
    v194 = _AKLogSystem();
    v193 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v194, OS_LOG_TYPE_DEFAULT))
    {
      if (v195)
      {
        v6 = @"YES";
      }

      else
      {
        v6 = @"NO";
      }

      sub_1000194D4(v211, v6);
      _os_log_impl(&_mh_execute_header, v194, v193, "Context eligibility for piggybacking: %@", v211, 0xCu);
    }

    objc_storeStrong(&v194, 0);
    if (v195)
    {
      v85 = +[AKConfiguration sharedConfiguration];
      v86 = [v85 shouldDisablePiggybacking];
      _objc_release(v85);
      if (v86 == 1)
      {
        v192 = _AKLogSystem();
        v191 = OS_LOG_TYPE_DEFAULT;
        if (os_log_type_enabled(v192, OS_LOG_TYPE_DEFAULT))
        {
          v83 = v192;
          v84 = v191;
          sub_10001CEEC(v190);
          _os_log_impl(&_mh_execute_header, v83, v84, "Piggybacking forced disabled", v190, 2u);
        }

        objc_storeStrong(&v192, 0);
        v195 = 0;
      }

      else
      {
        v81 = +[AKDevice currentDevice];
        v82 = [v81 isInCircle];
        _objc_release(v81);
        if (v82)
        {
          oslog = _AKLogSystem();
          v188 = OS_LOG_TYPE_DEFAULT;
          if (os_log_type_enabled(oslog, OS_LOG_TYPE_DEFAULT))
          {
            v79 = oslog;
            v80 = v188;
            sub_10001CEEC(v187);
            _os_log_impl(&_mh_execute_header, v79, v80, "Skipping piggybacking, already in circle", v187, 2u);
          }

          objc_storeStrong(&oslog, 0);
          v195 = 0;
        }

        else
        {
          v77 = +[AKDevice currentDevice];
          v78 = [v77 isInRestrictedSharingMode];
          _objc_release(v77);
          if (v78)
          {
            v186 = _AKLogSystem();
            v185 = OS_LOG_TYPE_DEFAULT;
            if (os_log_type_enabled(v186, OS_LOG_TYPE_DEFAULT))
            {
              v75 = v186;
              v76 = v185;
              sub_10001CEEC(v184);
              _os_log_impl(&_mh_execute_header, v75, v76, "Skipping piggybacking, user in restricted sharing mode", v184, 2u);
            }

            objc_storeStrong(&v186, 0);
            v195 = 0;
          }

          else if (!v198)
          {
            v183 = _AKLogSystem();
            v182 = OS_LOG_TYPE_DEFAULT;
            if (os_log_type_enabled(v183, OS_LOG_TYPE_DEFAULT))
            {
              v73 = v183;
              v74 = v182;
              sub_10001CEEC(v181);
              _os_log_impl(&_mh_execute_header, v73, v74, "Skipping piggybacking, missing push token", v181, 2u);
            }

            objc_storeStrong(&v183, 0);
            v195 = 0;
          }
        }
      }
    }

    v180 = _AKLogSystem();
    v179 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v180, OS_LOG_TYPE_DEFAULT))
    {
      if (v195)
      {
        v7 = @"YES";
      }

      else
      {
        v7 = @"NO";
      }

      sub_1000194D4(v210, v7);
      _os_log_impl(&_mh_execute_header, v180, v179, "Client is eligible for piggybacking: %@", v210, 0xCu);
    }

    objc_storeStrong(&v180, 0);
    v72 = [NSNumber numberWithBool:v195 & 1];
    [v200 setObject:? forKeyedSubscript:?];
    _objc_release(v72);
    if ([*(*(a1 + 32) + 160) piggybackingForTrustedDevice])
    {
      [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:AKPiggybackingForTrustedDevice];
      v178 = _AKLogSystem();
      v177 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v178, OS_LOG_TYPE_DEFAULT))
      {
        v70 = v178;
        v71 = v177;
        sub_10001CEEC(v176);
        _os_log_impl(&_mh_execute_header, v70, v71, "Client has requested piggybacking approval", v176, 2u);
      }

      objc_storeStrong(&v178, 0);
    }

    if ([*(*(a1 + 32) + 160) isEphemeral])
    {
      [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:AKEphemeralAuthKey];
    }

    if ([*(*(a1 + 32) + 160) shouldPromptForPasswordOnly])
    {
      v175 = _AKLogSystem();
      v174 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v175, OS_LOG_TYPE_DEFAULT))
      {
        v68 = v175;
        v69 = v174;
        sub_10001CEEC(v173);
        _os_log_impl(&_mh_execute_header, v68, v69, "Client has requested password-only auth.", v173, 2u);
      }

      objc_storeStrong(&v175, 0);
      [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:@"X-Apple-Password-Only"];
    }

    if ([*(*(a1 + 32) + 160) shouldRequestShortLivedToken])
    {
      v172 = _AKLogSystem();
      v171 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v172, OS_LOG_TYPE_DEFAULT))
      {
        v66 = v172;
        v67 = v171;
        sub_10001CEEC(v170);
        _os_log_impl(&_mh_execute_header, v66, v67, "Client has requested a short-lived token.", v170, 2u);
      }

      objc_storeStrong(&v172, 0);
      [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:AKShortLivedTokenKey];
    }

    if ([*(*(a1 + 32) + 160) shouldRequestRecoveryPET])
    {
      v169 = _AKLogSystem();
      v168 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v169, OS_LOG_TYPE_DEFAULT))
      {
        v64 = v169;
        v65 = v168;
        sub_10001CEEC(v167);
        _os_log_impl(&_mh_execute_header, v64, v65, "Client has request a recovery PET.", v167, 2u);
      }

      objc_storeStrong(&v169, 0);
      [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:@"rpet"];
    }

    v166 = [*(*(a1 + 32) + 160) shouldOfferSecurityUpgrade];
    v62 = [*(a1 + 32) client];
    v63 = [v62 isExemptedFromMandatoryUISecurityUpgrade];
    _objc_release(v62);
    if (v63)
    {
      v165 = _AKLogSystem();
      v164 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v165, OS_LOG_TYPE_DEFAULT))
      {
        v60 = v165;
        v61 = v164;
        sub_10001CEEC(v163);
        _os_log_impl(&_mh_execute_header, v60, v61, "Client is exempt from mandatory UI security upgrade.", v163, 2u);
      }

      objc_storeStrong(&v165, 0);
    }

    else if ([*(*(a1 + 32) + 160) shouldPromptForPasswordOnly] & 1) == 0 || (v166)
    {
      if ([*(*(a1 + 32) + 160) isEphemeral] & 1) == 0 || (v166)
      {
        v8 = [*(a1 + 32) canPresentRemoteUI];
        v155 = 0;
        v55 = 0;
        if (v8)
        {
          v156 = [*(*(a1 + 32) + 160) authKitAccount:0];
          v155 = 1;
          v55 = v156 == 0;
        }

        if (v155)
        {
          _objc_release(v156);
        }

        if (v55)
        {
          v154 = _AKLogSystem();
          v153 = OS_LOG_TYPE_DEFAULT;
          if (os_log_type_enabled(v154, OS_LOG_TYPE_DEFAULT))
          {
            v53 = v154;
            v54 = v153;
            sub_10001CEEC(v152);
            _os_log_impl(&_mh_execute_header, v53, v54, "Client logging in for first time is using full AuthKit UI, security upgrade should be offered.", v152, 2u);
          }

          objc_storeStrong(&v154, 0);
          v166 = 1;
        }

        else if (v166)
        {
          v51 = [*(*(a1 + 32) + 160) isAppleIDLoginEnabled];
          v52 = [v51 BOOLValue];
          _objc_release(v51);
          if (v52)
          {
            v151 = _AKLogSystem();
            v150 = OS_LOG_TYPE_DEFAULT;
            if (os_log_type_enabled(v151, OS_LOG_TYPE_DEFAULT))
            {
              v49 = v151;
              v50 = v150;
              sub_10001CEEC(v149);
              _os_log_impl(&_mh_execute_header, v49, v50, "Cannot offer HSA2 upgrade on device with Apple ID login enabled.", v149, 2u);
            }

            objc_storeStrong(&v151, 0);
            v166 = 0;
          }
        }
      }

      else
      {
        v159 = _AKLogSystem();
        v158 = OS_LOG_TYPE_DEFAULT;
        if (os_log_type_enabled(v159, OS_LOG_TYPE_DEFAULT))
        {
          v56 = v159;
          v57 = v158;
          sub_10001CEEC(v157);
          _os_log_impl(&_mh_execute_header, v56, v57, "Client is requesting ephemeral auth. Security upgrade will not be offered.", v157, 2u);
        }

        objc_storeStrong(&v159, 0);
      }
    }

    else
    {
      v162 = _AKLogSystem();
      v161 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v162, OS_LOG_TYPE_DEFAULT))
      {
        v58 = v162;
        v59 = v161;
        sub_10001CEEC(v160);
        _os_log_impl(&_mh_execute_header, v58, v59, "Client is requesting password only auth. Security upgrade will not be offered.", v160, 2u);
      }

      objc_storeStrong(&v162, 0);
    }

    if (v166)
    {
      v148 = _AKLogSystem();
      v147 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v148, OS_LOG_TYPE_DEFAULT))
      {
        v47 = v148;
        v48 = v147;
        sub_10001CEEC(v146);
        _os_log_impl(&_mh_execute_header, v47, v48, "Client has indicated that we should offer HSA 2.0 upgrade.", v146, 2u);
      }

      objc_storeStrong(&v148, 0);
      [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:@"X-Apple-Offer-Security-Upgrade"];
      v46 = [*(*(a1 + 32) + 160) securityUpgradeContext];
      [v200 setObject:? forKeyedSubscript:?];
      _objc_release(v46);
    }

    if ([*(*(a1 + 32) + 160) isEphemeral])
    {
      v145 = _AKLogSystem();
      v144 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v145, OS_LOG_TYPE_DEFAULT))
      {
        v44 = v145;
        v45 = v144;
        sub_10001CEEC(v143);
        _os_log_impl(&_mh_execute_header, v44, v45, "Performing ephemeral auth. Will not ask for ckgen or prkgen.", v143, 2u);
      }

      objc_storeStrong(&v145, 0);
    }

    else
    {
      v142 = [*(*(a1 + 32) + 160) _localUserHasEmptyPassword] == 0;
      if (v142)
      {
        v141 = _AKLogSystem();
        v140 = OS_LOG_TYPE_DEFAULT;
        if (os_log_type_enabled(v141, OS_LOG_TYPE_DEFAULT))
        {
          sub_1000194D4(v209, @"YES");
          _os_log_impl(&_mh_execute_header, v141, v140, "Sending prkgen: %@", v209, 0xCu);
        }

        objc_storeStrong(&v141, 0);
        [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:AKPasscodeIndicatorKey];
      }

      v42 = [*(*(a1 + 32) + 160) desiredInternalTokens];
      v43 = [v42 containsObject:AKAuthenticationInternalTokenCK];
      _objc_release(v42);
      v139 = v43;
      v138 = _AKLogSystem();
      v137 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v138, OS_LOG_TYPE_DEFAULT))
      {
        if (v139)
        {
          v9 = @"YES";
        }

        else
        {
          v9 = @"NO";
        }

        sub_1000194D4(v208, v9);
        _os_log_impl(&_mh_execute_header, v138, v137, "The client indicated support for ckgen: %@", v208, 0xCu);
      }

      objc_storeStrong(&v138, 0);
      v10 = [*(*(a1 + 32) + 160) passwordlessToken];
      v41 = v10 != 0;
      _objc_release(v10);
      v136 = v41;
      v135 = _AKLogSystem();
      v134 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v135, OS_LOG_TYPE_DEFAULT))
      {
        if (v136)
        {
          v11 = @"YES";
        }

        else
        {
          v11 = @"NO";
        }

        sub_1000194D4(v207, v11);
        _os_log_impl(&_mh_execute_header, v135, v134, "The client provided a passwordlessToken: %@", v207, 0xCu);
      }

      objc_storeStrong(&v135, 0);
      v40 = [*(a1 + 32) password];
      v131 = 0;
      if (v40 || (v132 = [*(*(a1 + 32) + 160) companionDevice], v131 = 1, v132) || (v39 = 0, (v136 & 1) != 0))
      {
        v39 = v139;
      }

      if (v131)
      {
        _objc_release(v132);
      }

      _objc_release(v40);
      v133 = v39 & 1;
      v130 = _AKLogSystem();
      v129 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v130, OS_LOG_TYPE_DEFAULT))
      {
        if (v133)
        {
          v12 = @"YES";
        }

        else
        {
          v12 = @"NO";
        }

        sub_1000194D4(v206, v12);
        _os_log_impl(&_mh_execute_header, v130, v129, "ckgen supported: %@", v206, 0xCu);
      }

      objc_storeStrong(&v130, 0);
      if (v133)
      {
        v128 = 0;
        if (v142)
        {
          v13 = [*(a1 + 32) _passwordResetBackupToken];
          v128 = v13 == 0;
          _objc_release(v13);
        }

        [*(*(a1 + 32) + 160) setAnticipateEscrowAttempt:v128];
        v125 = 0;
        v123 = 0;
        v121 = 0;
        v38 = 1;
        if (!v128)
        {
          v126 = [*(a1 + 32) continuationToken:0];
          v125 = 1;
          v38 = 1;
          if (v126)
          {
            v124 = [*(a1 + 32) passwordResetToken];
            v123 = 1;
            if (v124 || (v38 = 1, !v142))
            {
              v122 = [*(*(a1 + 32) + 160) companionDevice];
              v121 = 1;
              v37 = 1;
              if (!v122)
              {
                v37 = v136;
              }

              v38 = v37;
            }
          }
        }

        if (v121)
        {
          _objc_release(v122);
        }

        if (v123)
        {
          _objc_release(v124);
        }

        if (v125)
        {
          _objc_release(v126);
        }

        v127 = v38 & 1;
        if (v38)
        {
          v120 = _AKLogSystem();
          v119 = OS_LOG_TYPE_DEFAULT;
          if (os_log_type_enabled(v120, OS_LOG_TYPE_DEFAULT))
          {
            v35 = v120;
            v36 = v119;
            sub_10001CEEC(v118);
            _os_log_impl(&_mh_execute_header, v35, v36, "Will ask for ckgen.", v118, 2u);
          }

          objc_storeStrong(&v120, 0);
          [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:AKContinutationKeyGenKey];
          if (v128)
          {
            v117 = _AKLogSystem();
            v116 = OS_LOG_TYPE_DEFAULT;
            if (os_log_type_enabled(v117, OS_LOG_TYPE_DEFAULT))
            {
              v33 = v117;
              v34 = v116;
              sub_10001CEEC(v115);
              _os_log_impl(&_mh_execute_header, v33, v34, "Will ask to stash escrow PRK", v115, 2u);
            }

            objc_storeStrong(&v117, 0);
            [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:@"icscrec"];
          }
        }
      }

      v31 = +[AKFeatureManager sharedManager];
      v32 = [v31 isPRKTokenGenerationEnabled];
      _objc_release(v31);
      if (v32)
      {
        v30 = [*(a1 + 32) passwordResetToken];
        v113 = 0;
        if (v30 || (v29 = 1, !v142))
        {
          v114 = [*(*(a1 + 32) + 160) companionDevice];
          v113 = 1;
          v29 = v114 != 0;
        }

        if (v113)
        {
          _objc_release(v114);
        }

        _objc_release(v30);
        if (v29)
        {
          v112 = _AKLogSystem();
          v111 = OS_LOG_TYPE_DEFAULT;
          if (os_log_type_enabled(v112, OS_LOG_TYPE_DEFAULT))
          {
            v27 = v112;
            v28 = v111;
            sub_10001CEEC(v110);
            _os_log_impl(&_mh_execute_header, v27, v28, "Will ask for prk.", v110, 2u);
          }

          objc_storeStrong(&v112, 0);
          [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:AKGeneratePasswordResetKey];
        }
      }
    }

    if ([*(*(a1 + 32) + 160) shouldRequestConfigurationInfo])
    {
      [v200 setObject:&__kCFBooleanTrue forKeyedSubscript:@"fcd"];
    }

    v109 = 0;
    v14 = *(*(a1 + 32) + 160);
    v107 = 0;
    v26 = [v14 authKitAccount:&v107];
    objc_storeStrong(&v109, v107);
    v108 = v26;
    if (v109)
    {
      v106 = _AKLogSystem();
      v105 = OS_LOG_TYPE_ERROR;
      if (os_log_type_enabled(v106, OS_LOG_TYPE_ERROR))
      {
        sub_1000333DC(v205, v109);
        _os_log_error_impl(&_mh_execute_header, v106, v105, "Received error while getting current user's account: %{public}@", v205, 0xCu);
      }

      objc_storeStrong(&v106, 0);
    }

    v24 = +[AKAccountManager sharedInstance];
    v25 = [(AKAccountManager *)v24 accountIdentifiableTelemetryForAccount:v108];
    _objc_release(v24);
    if (v25)
    {
      v23 = [*(*(a1 + 32) + 160) telemetryDeviceSessionID];
      _objc_release(v23);
      if (v23)
      {
        v22 = [*(*(a1 + 32) + 160) telemetryDeviceSessionID];
        [v200 setObject:? forKeyedSubscript:?];
        _objc_release(v22);
      }

      v21 = [*(*(a1 + 32) + 160) telemetryFlowID];
      _objc_release(v21);
      if (v21)
      {
        v20 = [*(*(a1 + 32) + 160) telemetryFlowID];
        [v200 setObject:? forKeyedSubscript:?];
        _objc_release(v20);
      }
    }

    v19 = [*(*(a1 + 32) + 160) sourceAltDSID];
    _objc_release(v19);
    if (v19)
    {
      v18 = [*(*(a1 + 32) + 160) sourceAltDSID];
      [v199 setObject:? forKeyedSubscript:?];
      _objc_release(v18);
    }

    v17 = *(a1 + 32);
    v15 = v199;
    v16 = v200;
    v96 = _NSConcreteStackBlock;
    v97 = -1073741824;
    v98 = 0;
    v99 = sub_10004FEF8;
    v100 = &unk_100320328;
    v101 = _objc_retain(*(a1 + 32));
    v102 = _objc_retain(v199);
    v103 = _objc_retain(v200);
    v104[1] = *(a1 + 48);
    v104[0] = _objc_retain(*(a1 + 40));
    [v17 _updateHeadersWithCompanionAnisetteData:v15 clientProvidedData:v16 completion:&v96];
    objc_storeStrong(v104, 0);
    objc_storeStrong(&v103, 0);
    objc_storeStrong(&v102, 0);
    objc_storeStrong(&v101, 0);
    objc_storeStrong(&v108, 0);
    objc_storeStrong(&v109, 0);
    objc_storeStrong(&v196, 0);
    objc_storeStrong(&v197, 0);
    objc_storeStrong(&v198, 0);
    objc_storeStrong(&v199, 0);
    objc_storeStrong(&v200, 0);
    v201 = 0;
  }

  else
  {
    (*(*(a1 + 40) + 16))();
    v201 = 1;
  }

  objc_storeStrong(&v203, 0);
  objc_storeStrong(location, 0);
}

void sub_10004FEF8(id *a1, char a2, id obj)
{
  v18 = a1;
  v17 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  v15[2] = a1;
  if (v17)
  {
    v5 = a1[4];
    v3 = a1[5];
    v4 = a1[6];
    v7 = _NSConcreteStackBlock;
    v8 = -1073741824;
    v9 = 0;
    v10 = sub_1000500C8;
    v11 = &unk_100320300;
    v12 = _objc_retain(a1[4]);
    v13 = _objc_retain(a1[6]);
    v15[1] = a1[8];
    v14 = _objc_retain(a1[5]);
    v15[0] = _objc_retain(a1[7]);
    [v5 _updateHeadersWithProxiedDeviceAnisetteData:v3 clientProvidedData:v4 completion:&v7];
    objc_storeStrong(v15, 0);
    objc_storeStrong(&v14, 0);
    objc_storeStrong(&v13, 0);
    objc_storeStrong(&v12, 0);
  }

  else
  {
    (*(a1[7] + 2))();
  }

  objc_storeStrong(&location, 0);
}

void sub_1000500C8(uint64_t a1, char a2, id obj)
{
  v9 = a1;
  v8 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  if (v8)
  {
    [*(a1 + 32) clientProvidedDataHelper:*(a1 + 40)];
    v4 = [*(a1 + 40) copy];
    [*(*(*(a1 + 64) + 8) + 40) setObject:? forKeyedSubscript:?];
    _objc_release(v4);
    v5 = [*(a1 + 48) copy];
    [*(*(*(a1 + 64) + 8) + 40) setObject:? forKeyedSubscript:?];
    _objc_release(v5);
    v3 = *(*(*(a1 + 64) + 8) + 40);
  }

  (*(*(a1 + 56) + 16))();
  objc_storeStrong(&location, 0);
}

void sub_100050688(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v8 = 0;
  objc_storeStrong(&v8, a3);
  v7[1] = a1;
  if (location[0])
  {
    v7[0] = [NSMutableURLRequest ak_proxiedAnisetteHeadersWithData:location[0]];
    [*(a1 + 32) addEntriesFromDictionary:v7[0]];
    [*(a1 + 40) addEntriesFromDictionary:v7[0]];
    (*(*(a1 + 56) + 16))();
    objc_storeStrong(v7, 0);
  }

  else
  {
    v6 = _AKLogSystem();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      v3 = [*(*(a1 + 48) + 160) proxiedDevice];
      sub_10001B098(v10, v3, v8);
      _os_log_error_impl(&_mh_execute_header, v6, OS_LOG_TYPE_ERROR, "Unable to get proxied Anisette data for %@! Error: %@", v10, 0x16u);
      _objc_release(v3);
    }

    objc_storeStrong(&v6, 0);
    (*(*(a1 + 56) + 16))();
  }

  objc_storeStrong(&v8, 0);
  objc_storeStrong(location, 0);
}

void sub_100050DE8(uint64_t a1, void *a2, void *a3)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v10 = 0;
  objc_storeStrong(&v10, a3);
  v9[1] = a1;
  if (location[0])
  {
    v9[0] = [NSMutableURLRequest ak_anisetteHeadersWithCompanionData:location[0]];
    [*(a1 + 32) addEntriesFromDictionary:v9[0]];
    [*(a1 + 40) addEntriesFromDictionary:v9[0]];
    (*(*(a1 + 56) + 16))();
    objc_storeStrong(v9, 0);
  }

  else
  {
    v8 = _AKLogSystem();
    if (os_log_type_enabled(v8, OS_LOG_TYPE_ERROR))
    {
      v5 = [*(*(a1 + 48) + 160) companionDevice];
      sub_10001B098(v12, v5, v10);
      _os_log_error_impl(&_mh_execute_header, v8, OS_LOG_TYPE_ERROR, "Unable to get companion Anisette data for %@! Error: %@", v12, 0x16u);
      _objc_release(v5);
    }

    objc_storeStrong(&v8, 0);
    v3 = *(a1 + 56);
    v4 = [NSError ak_generalErrorWithCode:-8026 errorDomain:AKAnisetteErrorDomain underlyingError:v10];
    (*(v3 + 16))(v3, 0);
    _objc_release(v4);
  }

  objc_storeStrong(&v10, 0);
  objc_storeStrong(location, 0);
}

uint64_t sub_100052A58(uint64_t a1)
{
  v16 = a1;
  v11 = 0;
  v12 = &v11;
  v13 = 0x20000000;
  v14 = 32;
  v10 = qword_100374638;
  v15 = qword_100374638;
  if (!qword_100374638)
  {
    v3 = _NSConcreteStackBlock;
    v4 = -1073741824;
    v5 = 0;
    v6 = sub_100052B6C;
    v7 = &unk_10031F358;
    v8 = &v11;
    v9 = v16;
    sub_100052B6C(&v3);
  }

  v2 = v12[3];
  _Block_object_dispose(&v11, 8);
  return v2;
}

uint64_t sub_100052B6C(uint64_t a1)
{
  memcpy(__dst, off_100320438, sizeof(__dst));
  v1 = *(a1 + 40);
  v2 = _sl_dlopen();
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = v2;
  qword_100374638 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

uint64_t sub_100052C2C()
{
  v2 = 0;
  v1 = sub_100052A58(&v2);
  if (!v1)
  {
    abort_report_np();
  }

  if (v2)
  {
    free(v2);
  }

  return v1;
}

id sub_100052CA8()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_100374640;
  v13 = qword_100374640;
  if (!qword_100374640)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100052DD8;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100052DD8(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_100052DD8(uint64_t a1)
{
  sub_100052C2C();
  Class = objc_getClass("SFAutoFillFeatureManager");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_100374640 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100052E80()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_100374648;
  v13 = qword_100374648;
  if (!qword_100374648)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100052FB0;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100052FB0(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_100052FB0(uint64_t a1)
{
  sub_100052C2C();
  Class = objc_getClass("SFSafariCredential");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_100374648 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

id sub_100053058()
{
  v9 = 0;
  v10 = &v9;
  v11 = 1342177280;
  v12 = 32;
  v8 = qword_100374650;
  v13 = qword_100374650;
  if (!qword_100374650)
  {
    v2 = _NSConcreteStackBlock;
    v3 = -1073741824;
    v4 = 0;
    v5 = sub_100053188;
    v6 = &unk_10031F380;
    v7 = &v9;
    sub_100053188(&v2);
  }

  v1 = _objc_retain(v10[3]);
  _Block_object_dispose(&v9, 8);

  return v1;
}

uint64_t sub_100053188(uint64_t a1)
{
  sub_100052C2C();
  Class = objc_getClass("SFSafariCredentialStore");
  result = a1;
  *(*(*(a1 + 32) + 8) + 24) = Class;
  if (!*(*(*(a1 + 32) + 8) + 24))
  {
    result = abort_report_np();
  }

  qword_100374650 = *(*(*(a1 + 32) + 8) + 24);
  return result;
}

void sub_100053B34(id *a1)
{
  location[2] = a1;
  location[1] = a1;
  if ([a1[4] _isClientWaitingForSurrogateAuth:a1[5]])
  {
    location[0] = [NSString stringWithFormat:@"Out-of-process surrogate auth is already in progress for client %@.", a1[5]];
    v9 = a1[4];
    v8 = [NSError ak_errorWithCode:-7045];
    v1 = a1[7];
    [v9 _handleError:? logMessage:? withUIWorkBlock:?];
    _objc_release(v8);
    objc_storeStrong(location, 0);
  }

  else
  {
    v7 = [a1[4] surrogateIDGenerator];
    v36 = [v7 generateCheckinID];
    _objc_release(v7);
    [a1[4] _waitForSurrogateCheckInWithContext:a1[6] withUIWorkBlock:a1[7] client:a1[5] andCheckInID:v36];
    v35 = _AKLogSystem();
    v34 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v35, OS_LOG_TYPE_DEFAULT))
    {
      v6 = [v36 UUIDString];
      sub_1000194D4(v38, v6);
      _os_log_impl(&_mh_execute_header, v35, v34, "Begin out-of-process authentication with surrogate ID %@", v38, 0xCu);
      _objc_release(v6);
    }

    objc_storeStrong(&v35, 0);
    v5 = a1[5];
    v23 = _NSConcreteStackBlock;
    v24 = -1073741824;
    v25 = 0;
    v26 = sub_1000541E4;
    v27 = &unk_100320468;
    v28 = _objc_retain(a1[5]);
    v29 = _objc_retain(v36);
    v30 = _objc_retain(a1[4]);
    v31 = _objc_retain(a1[6]);
    v32 = _objc_retain(a1[7]);
    v33 = [v5 proxyWithErrorHandler:&v23];
    objc_initWeak(&from, a1[4]);
    v2 = v33;
    v3 = a1[6];
    v4 = v36;
    v11 = _NSConcreteStackBlock;
    v12 = -1073741824;
    v13 = 0;
    v14 = sub_1000542B8;
    v15 = &unk_100320490;
    v16 = _objc_retain(a1[5]);
    v17 = _objc_retain(v36);
    v18 = _objc_retain(a1[4]);
    v19 = _objc_retain(a1[6]);
    objc_copyWeak(&v21, &from);
    v20 = _objc_retain(a1[7]);
    [v2 launchOutOfProcessAuthentication:v3 surrogateID:v4 withErrorHandler:&v11];
    objc_storeStrong(&v20, 0);
    objc_destroyWeak(&v21);
    objc_storeStrong(&v19, 0);
    objc_storeStrong(&v18, 0);
    objc_storeStrong(&v17, 0);
    objc_storeStrong(&v16, 0);
    objc_destroyWeak(&from);
    objc_storeStrong(&v33, 0);
    objc_storeStrong(&v32, 0);
    objc_storeStrong(&v31, 0);
    objc_storeStrong(&v30, 0);
    objc_storeStrong(&v29, 0);
    objc_storeStrong(&v28, 0);
    objc_storeStrong(&v36, 0);
  }
}

void sub_1000541E4(uint64_t a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v3[1] = a1;
  v3[0] = [NSString stringWithFormat:@"XPC Error launching out-of-process authentication for client %@ with surrogate ID %@.", *(a1 + 32), *(a1 + 40)];
  [*(a1 + 48) _stopWaitingForCheckInWithContext:*(a1 + 56) andError:location[0]];
  [*(a1 + 48) _handleError:location[0] logMessage:v3[0] withUIWorkBlock:*(a1 + 64)];
  objc_storeStrong(v3, 0);
  objc_storeStrong(location, 0);
}

void sub_1000542B8(uint64_t a1, void *a2)
{
  location[1] = a1;
  location[0] = 0;
  objc_storeStrong(location, a2);
  v4[1] = a1;
  v4[0] = [NSString stringWithFormat:@"Failed to launch out-of-process authentication for client %@ with surrogate ID %@.", *(a1 + 32), *(a1 + 40)];
  if (location[0])
  {
    [*(a1 + 48) _stopWaitingForCheckInWithContext:*(a1 + 56) andError:location[0]];
    WeakRetained = objc_loadWeakRetained((a1 + 72));
    [WeakRetained _handleError:location[0] logMessage:v4[0] withUIWorkBlock:*(a1 + 64)];
    _objc_release(WeakRetained);
  }

  objc_storeStrong(v4, 0);
  objc_storeStrong(location, 0);
}

void sub_100054590(uint64_t a1)
{
  v32[2] = a1;
  v32[1] = a1;
  if ([*(a1 + 32) isWaitingForSettingsSurrogateAuth] & 1) != 0 || (objc_msgSend(*(a1 + 32), "_isClientWaitingForSurrogateAuth:", *(a1 + 40)))
  {
    v32[0] = [NSString stringWithFormat:@"Settings surrogate auth is already in progress for client %@", *(a1 + 40)];
    v12 = *(a1 + 32);
    v13 = [NSError ak_errorWithCode:-7045];
    v1 = *(a1 + 56);
    [v12 _handleError:? logMessage:? withUIWorkBlock:?];
    _objc_release(v13);
    objc_storeStrong(v32, 0);
  }

  else if (*(a1 + 64))
  {
    v30 = _AKLogSystem();
    v29 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v30, OS_LOG_TYPE_DEFAULT))
    {
      log = v30;
      type = v29;
      sub_10001CEEC(v28);
      _os_log_impl(&_mh_execute_header, log, type, "Pausing Surrogate Queue to prompt for redirect...", v28, 2u);
    }

    objc_storeStrong(&v30, 0);
    dispatch_suspend(*(*(a1 + 32) + 64));
    v3 = [*(a1 + 32) surrogateIDGenerator];
    v27 = [v3 generateCheckinID];
    _objc_release(v3);
    *(*(a1 + 32) + 48) = 1;
    [*(a1 + 32) _waitForSurrogateCheckInWithContext:*(a1 + 48) withUIWorkBlock:*(a1 + 56) client:*(a1 + 40) andCheckInID:v27];
    objc_initWeak(&v26, *(a1 + 32));
    WeakRetained = objc_loadWeakRetained((*(a1 + 32) + 8));
    v4 = *(a1 + 48);
    v5 = *(a1 + 40);
    v6 = *(a1 + 65);
    v15 = _NSConcreteStackBlock;
    v16 = -1073741824;
    v17 = 0;
    v18 = sub_100054A70;
    v19 = &unk_1003204E0;
    objc_copyWeak(&v25, &v26);
    v20 = _objc_retain(*(a1 + 32));
    v21 = _objc_retain(*(a1 + 48));
    v22 = _objc_retain(*(a1 + 40));
    v24 = _objc_retain(*(a1 + 56));
    v23 = _objc_retain(v27);
    [WeakRetained promptForAppleIDSettingsRedirectWithContext:v4 client:v5 needFullUI:v6 & 1 completion:&v15];
    _objc_release(WeakRetained);
    objc_storeStrong(&v23, 0);
    objc_storeStrong(&v24, 0);
    objc_storeStrong(&v22, 0);
    objc_storeStrong(&v21, 0);
    objc_storeStrong(&v20, 0);
    objc_destroyWeak(&v25);
    objc_destroyWeak(&v26);
    objc_storeStrong(&v27, 0);
  }

  else
  {
    v31 = [NSString stringWithFormat:@"Redirecting to Settings for client %@ is not permitted for this call.", *(a1 + 40)];
    v10 = *(a1 + 32);
    v11 = [NSError ak_errorWithCode:-7027];
    v2 = *(a1 + 56);
    [v10 _handleError:? logMessage:? withUIWorkBlock:?];
    _objc_release(v11);
    objc_storeStrong(&v31, 0);
  }
}

void sub_100054A44(uint64_t a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id *location)
{
  *(v14 - 168) = a1;
  *(v14 - 172) = a2;
  objc_destroyWeak(location);
  objc_destroyWeak((v14 - 80));
  _Unwind_Resume(*(v14 - 168));
}

void sub_100054A70(uint64_t a1, char a2, id obj)
{
  v26 = a1;
  v25 = a2;
  location = 0;
  objc_storeStrong(&location, obj);
  v23[1] = a1;
  v23[0] = objc_loadWeakRetained((a1 + 72));
  if (v23[0])
  {
    if (location)
    {
      *(*(a1 + 32) + 48) = 0;
      [*(a1 + 32) _stopWaitingForCheckInWithContext:*(a1 + 40) andError:location];
      v19 = [NSString stringWithFormat:@"Failed to prompt for Settings redirect for client %@.", *(a1 + 48)];
      [v23[0] _handleError:location logMessage:v19 withUIWorkBlock:*(a1 + 64)];
      objc_storeStrong(&v19, 0);
    }

    else if (v25)
    {
      v16 = _AKLogSystem();
      v15 = OS_LOG_TYPE_DEFAULT;
      if (os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT))
      {
        log = v16;
        type = v15;
        sub_10001CEEC(v14);
        _os_log_impl(&_mh_execute_header, log, type, "Taking user to Settings/System Preferences for auth UI...", v14, 2u);
      }

      objc_storeStrong(&v16, 0);
      v13 = [v23[0] _launchAppleIDSettingsForContext:*(a1 + 40) withCheckinID:*(a1 + 56)];
      if ((v13 & 1) == 0)
      {
        v12 = [NSError ak_errorWithCode:-7015];
        *(*(a1 + 32) + 48) = 0;
        [*(a1 + 32) _stopWaitingForCheckInWithContext:*(a1 + 40) andError:v12];
        v11 = [NSString stringWithFormat:@"Unable to launch Settings for client %@.", *(a1 + 48)];
        [v23[0] _handleError:v12 logMessage:v11 withUIWorkBlock:*(a1 + 64)];
        objc_storeStrong(&v11, 0);
        objc_storeStrong(&v12, 0);
      }
    }

    else
    {
      v18 = [NSError ak_errorWithCode:-7003];
      *(*(a1 + 32) + 48) = 0;
      [*(a1 + 32) _stopWaitingForCheckInWithContext:*(a1 + 40) andError:v18];
      v17 = [NSString stringWithFormat:@"User canceled Settings redirect for client %@.", *(a1 + 48)];
      [v23[0] _handleError:v18 logMessage:v17 withUIWorkBlock:*(a1 + 64)];
      objc_storeStrong(&v17, 0);
      objc_storeStrong(&v18, 0);
    }

    v10 = _AKLogSystem();
    v9 = OS_LOG_TYPE_DEFAULT;
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      v3 = v10;
      v4 = v9;
      sub_10001CEEC(v8);
      _os_log_impl(&_mh_execute_header, v3, v4, "Resuming Surrogate Queue after prompt for redirect...", v8, 2u);
    }

    objc_storeStrong(&v10, 0);
    dispatch_resume(*(v23[0] + 8));
    v20 = 0;
  }

  else
  {
    v22 = [NSError ak_errorWithCode:-7001];
    *(*(a1 + 32) + 48) = 0;
    [*(a1 + 32) _stopWaitingForCheckInWithContext:*(a1 + 40) andError:v22];
    v21 = [NSString stringWithFormat:@"Lost reference to strongself during Settings redirect for client %@.", *(a1 + 48)];
    [v23[0] _handleError:v22 logMessage:v21 withUIWorkBlock:*(a1 + 64)];
    v20 = 1;
    objc_storeStrong(&v21, 0);
    objc_storeStrong(&v22, 0);
  }

  objc_storeStrong(v23, 0);
  if (!v20)
  {
    v20 = 0;
  }

  objc_storeStrong(&location, 0);
}