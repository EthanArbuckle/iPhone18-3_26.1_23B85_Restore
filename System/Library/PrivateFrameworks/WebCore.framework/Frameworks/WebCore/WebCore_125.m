void *vp8_create_compressor(int *a1)
{
  result = malloc_type_malloc(0x2BFF7uLL, 0xD93B561uLL);
  if (!result)
  {
    return result;
  }

  v3 = (result + 39) & 0xFFFFFFFFFFFFFFE0;
  *(v3 - 8) = result;
  v67 = v3;
  if (!v3)
  {
    return 0;
  }

  bzero(((result + 39) & 0xFFFFFFFFFFFFFFE0), 0x2BFD0uLL);
  if (setjmp((v3 + 108124)))
  {
LABEL_74:
    *(v3 + 108120) = 0;
    vp8_remove_compressor(&v67);
    return 0;
  }

  *(v3 + 108120) = 1;
  v4 = malloc_type_malloc(0x21FuLL, 0xD93B561uLL);
  if (v4 && (v5 = (v4 + 23) & 0xFFFFFFFFFFFFFFF0, *(v5 - 8) = v4, v5))
  {
    bzero(((v4 + 23) & 0xFFFFFFFFFFFFFFF0), 0x208uLL);
    *(v3 + 82344) = v5;
  }

  else
  {
    *(v3 + 82344) = 0;
    vpx_internal_error(v3 + 108032, 2, "Failed to allocate cpi->mb.ss");
  }

  *(v3 + 112747) = 629954160;
  *(v3 + 112751) = vp8_uv_mode_prob;
  *(v3 + 112753) = -52;
  *(v3 + 112754) = sub_mv_ref_prob;
  *(v3 + 112756) = 25;
  *(v3 + 112738) = 0x6F505557854F5A78;
  *(v3 + 112746) = -105;
  *(v3 + 111088) = xmmword_273B91FB0;
  *(v3 + 113860) = 0x1000000000;
  *(v3 + 111592) = 0u;
  *(v3 + 109872) = 0;
  *(v3 + 111152) = 0;
  *(v3 + 111580) = 0;
  memcpy((v3 + 114264), a1, 0x1E0uLL);
  *(v3 + 142800) = 0x100000001;
  v6 = *a1;
  *(v3 + 113856) = *a1;
  v7 = v6 - 1;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  if (v7 <= 2)
  {
    v8 = dword_273BC6A34[v7];
    v9 = 1;
    v11 = dword_273BC6A28[v7];
    v10 = dword_273BC6A40[v7];
  }

  *(v3 + 111092) = v11;
  *(v3 + 111152) = v8;
  *(v3 + 111096) = v9;
  *(v3 + 111100) = v10;
  v12 = a1[3];
  if (v12 < 1 || (v13 = a1[4] / v12, v13 > 180.0))
  {
    v13 = 30.0;
  }

  *(v3 + 132096) = v13;
  *(v3 + 132104) = v13;
  *(v3 + 142884) = 7;
  *(v3 + 111568) = 1;
  *(v3 + 111588) = 1;
  vp8_change_config(v3, a1);
  v16 = *(v3 + 114396);
  *(v3 + 132164) = v16;
  *(v3 + 132172) = *(v3 + 114400);
  *(v3 + 132076) = v16;
  v17 = *(v3 + 114344);
  *(v3 + 132112) = v17;
  *(v3 + 132120) = v17;
  v18 = (v3 + 132016);
  v19 = vld1q_dup_f32(v18);
  *(v3 + 132128) = v19;
  *(v3 + 132144) = 0u;
  v20 = *(v3 + 114516);
  if (v20 >= 2)
  {
    v21 = 0;
    v22 = 0.0;
    do
    {
      vp8_init_temporal_layer_context(v3, a1, v21, v22, v14, v15);
      LODWORD(v23) = *(v3 + 114584 + 4 * v21);
      v14 = v23;
      v22 = *(v3 + 132032) / v14;
      ++v21;
    }

    while (v21 < *(v3 + 114516));
    v20 = *(v3 + 114516);
  }

  v24 = v20;
  memcpy((v3 + 143656), &vp8cx_base_skip_false_prob, 0x200uLL);
  *(v3 + 113852) = 0;
  *(v3 + 143136) = 0xFFFFFFFF00000000;
  *(v3 + 131948) = 0;
  *(v3 + 131956) = 0u;
  *(v3 + 142828) = 128;
  *(v3 + 142820) = 0x800000003FLL;
  *&v25 = 0x100000001;
  *(&v25 + 1) = 0x100000001;
  *(v3 + 142860) = v25;
  *(v3 + 111604) = 1;
  *(v3 + 148076) = 0;
  *(v3 + 131976) = 7;
  *(v3 + 114976) = 0;
  *(v3 + 114984) = 0;
  *(v3 + 143088) = 0;
  *(v3 + 180148) = 0;
  *(v3 + 143144) = 0;
  v26 = *(v3 + 114472);
  v27 = 1;
  if (!v26)
  {
    v27 = *(v3 + 114332) == 1 && *(v3 + 114312) < 3;
  }

  *(v3 + 143092) = v27;
  v28 = *(v3 + 111076);
  v29 = *(v3 + 111080);
  v30 = v29 * v28;
  v31 = v29 * v28 / 7;
  *(v3 + 143096) = v31;
  if (v24 == 1)
  {
    v32 = 20;
    goto LABEL_25;
  }

  if (v24 == 2)
  {
    v32 = 10;
LABEL_25:
    v31 = v30 / v32;
    *(v3 + 143096) = v31;
  }

  *(v3 + 143100) = 0x2000000000;
  *(v3 + 143160) = 0;
  *(v3 + 143168) = 0;
  if (!v26 && *(v3 + 114332) == 1 && *(v3 + 114312) <= 2)
  {
    *(v3 + 143160) = 1;
    *(v3 + 143168) = 1;
    if (v31 < 1)
    {
      v33 = 10;
    }

    else
    {
      v33 = 2 * v28 * v29 / v31;
    }

    if (v33 <= 6)
    {
      v33 = 6;
    }

    if (v33 >= 40)
    {
      v33 = 40;
    }

    *(v3 + 143164) = v33;
    *(v3 + 131976) = v33;
  }

  if (!v27)
  {
    *(v3 + 143112) = 0;
    goto LABEL_48;
  }

  v34 = v30;
  if (v30)
  {
    if (v30 < 0)
    {
      goto LABEL_47;
    }

    if ((v30 + 23) > 0x10000000000)
    {
      goto LABEL_47;
    }

    v35 = malloc_type_malloc(v30 + 23, 0xD93B561uLL);
    if (!v35)
    {
      goto LABEL_47;
    }
  }

  else
  {
    v35 = malloc_type_malloc(0x17uLL, 0xD93B561uLL);
    if (!v35)
    {
      goto LABEL_47;
    }
  }

  *(((v35 + 23) & 0xFFFFFFFFFFFFFFF0) - 8) = v35;
  if (((v35 + 23) & 0xFFFFFFFFFFFFFFF0) != 0)
  {
    v36 = v34;
    v37 = ((v35 + 23) & 0xFFFFFFFFFFFFFFF0);
    bzero(v37, v36);
    *(v3 + 143112) = v37;
    goto LABEL_48;
  }

LABEL_47:
  *(v3 + 143112) = 0;
  vpx_internal_error(v3 + 108032, 2, "Failed to allocate cpi->cyclic_refresh_map");
LABEL_48:
  v38 = *(v3 + 111080) * *(v3 + 111076);
  if (v38)
  {
    if ((v38 & 0x80000000) != 0 || (v38 + 23) > 0x10000000000 || (v39 = malloc_type_malloc(v38 + 23, 0xD93B561uLL)) == 0)
    {
LABEL_57:
      *(v3 + 143040) = 0;
      vpx_internal_error(v3 + 108032, 2, "Failed to allocate cpi->skin_map");
      v42 = *(v3 + 111080) * *(v3 + 111076);
      if (v42)
      {
        goto LABEL_58;
      }

LABEL_56:
      v43 = 23;
      goto LABEL_60;
    }
  }

  else
  {
    v39 = malloc_type_malloc(0x17uLL, 0xD93B561uLL);
    if (!v39)
    {
      goto LABEL_57;
    }
  }

  *(((v39 + 23) & 0xFFFFFFFFFFFFFFF0) - 8) = v39;
  if (((v39 + 23) & 0xFFFFFFFFFFFFFFF0) == 0)
  {
    goto LABEL_57;
  }

  v40 = v38;
  v41 = ((v39 + 23) & 0xFFFFFFFFFFFFFFF0);
  bzero(v41, v40);
  *(v3 + 143040) = v41;
  v42 = *(v3 + 111080) * *(v3 + 111076);
  if (!v42)
  {
    goto LABEL_56;
  }

LABEL_58:
  if ((v42 & 0x80000000) != 0 || (v43 = v42 + 23, (v42 + 23) > 0x10000000000))
  {
LABEL_64:
    *(v3 + 143120) = 0;
    vpx_internal_error(v3 + 108032, 2, "Failed to allocate cpi->consec_zero_last");
    v47 = *(v3 + 111080) * *(v3 + 111076);
    if (!v47)
    {
      goto LABEL_63;
    }

    goto LABEL_65;
  }

LABEL_60:
  v44 = malloc_type_malloc(v43, 0xD93B561uLL);
  if (!v44)
  {
    goto LABEL_64;
  }

  *(((v44 + 23) & 0xFFFFFFFFFFFFFFF0) - 8) = v44;
  if (((v44 + 23) & 0xFFFFFFFFFFFFFFF0) == 0)
  {
    goto LABEL_64;
  }

  v45 = v42;
  v46 = ((v44 + 23) & 0xFFFFFFFFFFFFFFF0);
  bzero(v46, v45);
  *(v3 + 143120) = v46;
  v47 = *(v3 + 111080) * *(v3 + 111076);
  if (!v47)
  {
LABEL_63:
    v48 = 23;
    goto LABEL_67;
  }

LABEL_65:
  if ((v47 & 0x80000000) != 0)
  {
    goto LABEL_70;
  }

  v48 = v47 + 23;
  if (v47 + 23 > 0x10000000000)
  {
    goto LABEL_70;
  }

LABEL_67:
  v49 = malloc_type_malloc(v48, 0xD93B561uLL);
  if (!v49 || (v50 = (v49 + 23) & 0xFFFFFFFFFFFFFFF0, *(v50 - 8) = v49, !v50))
  {
LABEL_70:
    *(v3 + 143128) = 0;
    vpx_internal_error(v3 + 108032, 2, "Failed to allocate cpi->consec_zero_last_mvbias");
    goto LABEL_71;
  }

  bzero(((v49 + 23) & 0xFFFFFFFFFFFFFFF0), v47);
  *(v3 + 143128) = v50;
LABEL_71:
  *(v3 + 115164) = 8;
  *(v3 + 115168) = *(v3 + 114320);
  *(v3 + 132056) = 0x7FFFFFFFLL;
  *(v3 + 115172) = 0;
  *(v3 + 114964) = 0;
  *(v3 + 111576) = 0;
  *(v3 + 143148) = 0;
  *(v3 + 180156) = 0x100000000;
  *(v3 + 148136) = 0x5A00000000000;
  *(v3 + 131948) = 0;
  *(v3 + 131984) = 1;
  *(v3 + 132064) = *(v3 + 114396);
  *(v3 + 132068) = 0;
  *(v3 + 132080) = 0;
  *(v3 + 132184) = 0;
  __asm { FMOV            V0.2D, #1.0 }

  *(v3 + 131920) = _Q0;
  *(v3 + 131936) = 0x3FF0000000000000;
  *(v3 + 148128) = 0x3FF0000000000000;
  v56 = *(v3 + 132032);
  *(v3 + 131992) = vdupq_n_s32(v56);
  *(v3 + 132008) = v56;
  *(v3 + 142768) = *(a1 + 30);
  if (*(v3 + 142796) == 2)
  {
    *(v3 + 142784) = 0;
  }

  vp8_set_speed_features(v3);
  memset_pattern16((v3 + 103624), &unk_273BC6310, 0x50uLL);
  if (vp8cx_create_encoder_threads(v3))
  {
    goto LABEL_74;
  }

  *(v3 + 143624) = vpx_sad16x16;
  *(v3 + 143632) = vpx_variance16x16;
  *(v3 + 143640) = vpx_sub_pixel_variance16x16_neon;
  *(v3 + 143648) = vpx_sad16x16x4d;
  *(v3 + 143496) = vpx_sad16x8;
  *(v3 + 143504) = vpx_variance16x8;
  *(v3 + 143512) = vpx_sub_pixel_variance16x8_neon;
  *(v3 + 143520) = vpx_sad16x8x4d;
  *(v3 + 143528) = vpx_sad8x16_neon;
  *(v3 + 143536) = vpx_variance8x16;
  *(v3 + 143544) = vpx_sub_pixel_variance8x16_neon;
  *(v3 + 143552) = vpx_sad8x16x4d_neon;
  *(v3 + 143560) = vpx_sad8x8_neon;
  *(v3 + 143568) = vpx_variance8x8;
  *(v3 + 143576) = vpx_sub_pixel_variance8x8_neon;
  *(v3 + 143584) = vpx_sad8x8x4d_neon;
  *(v3 + 143592) = vpx_sad4x4_neon;
  *(v3 + 143600) = vpx_variance4x4;
  *(v3 + 143608) = vpx_sub_pixel_variance4x4_neon;
  *(v3 + 143616) = vpx_sad4x4x4d_neon;
  *(v3 + 143488) = vp8_diamond_search_sad_c;
  *(v3 + 143480) = vp8_refining_search_sad_c;
  *(v3 + 103888) = *(v3 + 111072);
  vp8cx_init_quantizer(v3);
  vp8_loop_filter_init(v3 + 108032);
  if (*(v3 + 114720))
  {
    *(v3 + 150816) = ((*(v3 + 114724) + *(v3 + 114728) * *(v3 + 114268) - 1) / *(v3 + 114724) + 15) >> 4;
  }

  *(v3 + 82408) = v3 + 154940;
  v57 = 168248;
  *(v3 + 82416) = v3 + 163132;
  *(v3 + 82424) = v3 + 168252;
  *(v3 + 82432) = v3 + 170300;
  *(v3 + 168252) = 300;
  *(v3 + 170300) = 300;
  v58 = 168256;
  v59 = -2040;
  do
  {
    v60 = v59;
    v61 = v57;
    v62 = v58;
    v63 = log((v59 + 2048));
    v64 = vcvtd_n_s64_f64(v63 / 0.693147182 + 0.6 + v63 / 0.693147182 + 0.6, 8uLL);
    v65 = (v3 + v62);
    *v65 = v64;
    v65[512] = v64;
    v66 = (v3 + v61);
    *v66 = v64;
    v66[512] = v64;
    v57 = v61 - 4;
    v58 = v62 + 4;
    v59 = v60 + 8;
  }

  while (v60 != -8);
  *(v3 + 82440) = v3 + 171324;
  *(v3 + 82448) = v3 + 171404;
  *(v3 + 82456) = v3 + 171484;
  *(v3 + 82464) = v3 + 175484;
  *(v3 + 82472) = v3 + 175540;
  vp8_setup_block_ptrs((v3 + 73728));
  vp8_setup_block_dptrs((v3 + 77952));
  *(v3 + 108120) = 0;
  return v3;
}

void vp8_remove_compressor(uint64_t *a1)
{
  v1 = *a1;
  if (*a1)
  {
    v3 = (v1 + 148144);
    v4 = (v1 + 143040);
    vp8cx_remove_encoder_threads(*a1);
    vp8_denoiser_free(v1 + 148208);
    v5 = *(v1 + 143280);
    if (v5)
    {
      free(*(v5 - 8));
    }

    *(v1 + 143280) = 0;
    v6 = *(v1 + 148168);
    if (v6)
    {
      free(*(v6 - 8));
    }

    *(v1 + 148168) = 0;
    v7 = *(v1 + 148176);
    if (v7)
    {
      free(*(v7 - 8));
    }

    *(v1 + 148176) = 0;
    v8 = *(v1 + 148184);
    if (v8)
    {
      free(*(v8 - 8));
    }

    v9 = (v1 + 114744);
    *(v1 + 148184) = 0;
    v10 = *(v1 + 143048);
    if (v10)
    {
      free(*(v10 - 8));
    }

    *(v1 + 143048) = 0;
    v11 = *(v1 + 143080);
    if (v11)
    {
      free(*(v11 - 8));
    }

    *(v1 + 143080) = 0;
    vp8_de_alloc_frame_buffers(v1 + 108032);
    if (*(v1 + 115088))
    {
      v12 = *(v1 + 115080);
      if (v12)
      {
        free(*(v12 - 8));
      }
    }

    v13 = 0uLL;
    *(v1 + 115120) = 0u;
    *(v1 + 115136) = 0u;
    *(v1 + 115088) = 0u;
    *(v1 + 115104) = 0u;
    *(v1 + 115056) = 0u;
    *(v1 + 115072) = 0u;
    *(v1 + 115024) = 0u;
    *(v1 + 115040) = 0u;
    *(v1 + 114992) = 0u;
    *(v1 + 115008) = 0u;
    if (*(v1 + 114888))
    {
      v14 = *(v1 + 114880);
      if (v14)
      {
        free(*(v14 - 8));
        v13 = 0uLL;
      }
    }

    *(v1 + 114920) = v13;
    *(v1 + 114936) = v13;
    *(v1 + 114888) = v13;
    *(v1 + 114904) = v13;
    *(v1 + 114856) = v13;
    *(v1 + 114872) = v13;
    *(v1 + 114824) = v13;
    *(v1 + 114840) = v13;
    *(v1 + 114792) = v13;
    *(v1 + 114808) = v13;
    v15 = *v9;
    if (*v9)
    {
      v16 = v15[2];
      if (v16)
      {
        v17 = *v15;
        if (v17)
        {
          v18 = 0;
          for (i = 0; i < v17; ++i)
          {
            if (v16)
            {
              v20 = &v16[v18];
              if (*&v16[v18 + 96])
              {
                v21 = *&v16[v18 + 88];
                if (v21)
                {
                  free(*(v21 - 8));
                  v13 = 0uLL;
                }
              }

              *(v20 + 8) = v13;
              *(v20 + 9) = v13;
              *(v20 + 6) = v13;
              *(v20 + 7) = v13;
              *(v20 + 4) = v13;
              *(v20 + 5) = v13;
              *(v20 + 2) = v13;
              *(v20 + 3) = v13;
              *v20 = v13;
              *(v20 + 1) = v13;
              v17 = *v15;
            }

            v16 = v15[2];
            v18 += 184;
          }
        }

        free(v16);
      }

      free(v15);
    }

    v22 = *(v1 + 115152);
    if (v22)
    {
      free(*(v22 - 8));
    }

    v23 = (v1 + 82320);
    *(v1 + 115152) = 0;
    v24 = *(v1 + 148152);
    if (v24)
    {
      free(*(v24 - 8));
    }

    *(v1 + 148152) = 0;
    if (*v3)
    {
      free(*(*v3 - 8));
    }

    *v3 = 0;
    if (*v23)
    {
      free(*(*v23 - 8));
    }

    *v23 = 0;
    v25 = *(v1 + 82344);
    if (v25)
    {
      free(*(v25 - 8));
    }

    v26 = *(v1 + 115152);
    if (v26)
    {
      free(*(v26 - 8));
    }

    if (*v4)
    {
      free(*(*v4 - 8));
    }

    v27 = *(v1 + 143112);
    if (v27)
    {
      free(*(v27 - 8));
    }

    v28 = *(v1 + 143120);
    if (v28)
    {
      free(*(v28 - 8));
    }

    v29 = *(v1 + 143128);
    if (v29)
    {
      free(*(v29 - 8));
    }

    vp8_de_alloc_frame_buffers(v1 + 108032);
    free(*(v1 - 8));
    *a1 = 0;
  }
}

unsigned __int8 *vp8_loopfilter_frame(uint64_t a1, uint64_t a2)
{
  v4 = (a1 + 142904);
  if (*(a1 + 111568) || *(a1 + 111572))
  {
    v5 = 1;
    v6 = *(a2 + 3028);
    if (*(a2 + 3060))
    {
LABEL_4:
      *(a2 + 3524) = 0;
      goto LABEL_21;
    }
  }

  else
  {
    v5 = *(a1 + 111576) != 0;
    v6 = *(a2 + 3028);
    if (*(a2 + 3060))
    {
      goto LABEL_4;
    }
  }

  if (*(a1 + 114288))
  {
    v7 = v6 == 0;
  }

  else
  {
    v7 = 1;
  }

  v8 = v7;
  if (*v4)
  {
    if (v8)
    {
      vp8cx_pick_filter_level(*(a1 + 114776), a1);
      if (*(a2 + 3524) < 1)
      {
        goto LABEL_21;
      }
    }

    else
    {
      vp8cx_pick_filter_level(a1 + 148208, a1);
      if (*(a2 + 3524) < 1)
      {
        goto LABEL_21;
      }
    }

LABEL_20:
    *(a1 + 81931) = v4[39];
    goto LABEL_21;
  }

  if (v8)
  {
    vp8cx_pick_filter_level_fast(*(a1 + 114776), a1);
    if (*(a2 + 3524) >= 1)
    {
      goto LABEL_20;
    }
  }

  else
  {
    vp8cx_pick_filter_level_fast(a1 + 148208, a1);
    if (*(a2 + 3524) >= 1)
    {
      goto LABEL_20;
    }
  }

LABEL_21:
  if (atomic_load_explicit(v4 + 72, memory_order_acquire))
  {
    MEMORY[0x2743DB130](v4[93]);
  }

  v9 = !v5;
  if (*(a2 + 3524) < 1)
  {
    v9 = 1;
  }

  if ((v9 & 1) == 0)
  {
    vp8_loop_filter_frame(a2, (a1 + 77952), v6);
  }

  v10 = *(a2 + 1848);
  v11 = *(v10 + 104);
  v12 = v11 / 2;
  extend_plane(*(v10 + 56), *(v10 + 16), *(v10 + 8), *(v10 + 12), v11, v11, v11 - *(v10 + 12) + *(v10 + 4), v11 - *(v10 + 8) + *v10);
  extend_plane(*(v10 + 64), *(v10 + 36), *(v10 + 28), *(v10 + 32), v12, v12, v12 - *(v10 + 32) + *(v10 + 24), v12 - *(v10 + 28) + *(v10 + 20));
  v13 = *(v10 + 72);
  v15 = *(v10 + 32);
  v14 = *(v10 + 36);
  v16 = *(v10 + 28);
  v17 = v12 - v15 + *(v10 + 24);
  v18 = v12 - v16 + *(v10 + 20);

  return extend_plane(v13, v14, v16, v15, v12, v12, v17, v18);
}

uint64_t vp8_receive_raw_frame(uint64_t a1, int a2, int *a3, uint64_t a4, uint64_t a5)
{
  v5 = a5;
  v8 = a2;
  v10 = a1 + 143080;
  v11 = a1 + 114268;
  v12 = *(a1 + 114268);
  if (*a3 != v12 || a3[1] != *(v11 + 4))
  {
    v13 = *(v11 + 476);
    if (v13)
    {
      v14 = v13[2];
      if (v14)
      {
        v15 = *v13;
        if (v15)
        {
          v16 = 0;
          v17 = 0;
          v18 = 0uLL;
          do
          {
            if (v14)
            {
              v19 = &v14[v16];
              if (*&v14[v16 + 96])
              {
                v20 = *&v14[v16 + 88];
                if (v20)
                {
                  free(*(v20 - 8));
                  v18 = 0uLL;
                }
              }

              *(v19 + 8) = v18;
              *(v19 + 9) = v18;
              *(v19 + 6) = v18;
              *(v19 + 7) = v18;
              *(v19 + 4) = v18;
              *(v19 + 5) = v18;
              *(v19 + 2) = v18;
              *(v19 + 3) = v18;
              *v19 = v18;
              *(v19 + 1) = v18;
              v15 = *v13;
            }

            ++v17;
            v14 = v13[2];
            v16 += 184;
          }

          while (v17 < v15);
        }

        free(v14);
        v5 = a5;
        v8 = a2;
      }

      free(v13);
      v12 = *v11;
    }

    v21 = vp8_lookahead_init(v12, *(v11 + 4));
    *(v11 + 476) = v21;
    if (!v21)
    {
      vpx_internal_error(a1 + 108032, 2, "Failed to allocate lag buffers");
      v22 = *(v11 + 476);
      if (*(v10 + 8))
      {
        goto LABEL_17;
      }

LABEL_19:
      v23 = 0;
      return -vp8_lookahead_push(v22, a3, a4, v5, v8, v23);
    }
  }

  v22 = *(v11 + 476);
  if (!*(v10 + 8))
  {
    goto LABEL_19;
  }

LABEL_17:
  v23 = *v10;
  return -vp8_lookahead_push(v22, a3, a4, v5, v8, v23);
}

uint64_t vp8_get_compressed_data(uint64_t a1, _DWORD *a2, uint64_t *a3, uint64_t a4, unint64_t a5, void *a6, void *a7, int a8, double a9, double a10, int32x4_t a11, int64x2_t a12)
{
  v476[1] = *MEMORY[0x277D85DE8];
  if (!a1)
  {
    return 0xFFFFFFFFLL;
  }

  v12 = a3;
  v13 = a1;
  v14 = a1 + 142748;
  v15 = a1 + 114268;
  v16 = (a1 + 109856);
  __tp = 0;
  v475 = 0;
  v17 = (a1 + 114752);
  *(a1 + 114752) = 0;
  if (*(a1 + 142816) == 1)
  {
    if (*(a1 + 113852))
    {
      v18 = *(a1 + 114744);
      v19 = v18[2];
      if (!v19)
      {
        v19 = *v18;
      }

      v20 = *(v18 + 2);
      *(a1 + 114768) = v20 + 184 * (v19 - 1);
      if (!v20)
      {
        return 0xFFFFFFFFLL;
      }
    }
  }

  v21 = *(a1 + 114744);
  v22 = *(v21 + 4);
  if (!v22 || (v23 = *v21, !a8) && v22 != v23 - 1)
  {
    *v17 = 0;
LABEL_11:
    *a3 = 0;
    return 0xFFFFFFFFLL;
  }

  v25 = *(v21 + 16);
  v26 = *(v21 + 8);
  if (v26 + 1 < v23)
  {
    v23 = 0;
  }

  v27 = v26 + 1 - v23;
  v28 = v25 + 184 * v26;
  *(v21 + 4) = v22 - 1;
  *(v21 + 8) = v27;
  *v17 = v28;
  if (!v25)
  {
    goto LABEL_11;
  }

  v29 = a1 + 131812;
  *(a1 + 111064) = 1;
  v30 = *(a1 + 114760);
  if (v30)
  {
    *(a1 + 114972) = v28 == v30;
    if (v28 == v30)
    {
      *(a1 + 114760) = 0;
    }
  }

  else
  {
    *(a1 + 114972) = 0;
  }

  v466 = (a1 + 114776);
  *(a1 + 114776) = v28;
  v458 = (a1 + 114784);
  *(a1 + 114784) = v28;
  *a6 = *(v28 + 160);
  v31 = *(v28 + 168);
  *a7 = v31;
  *a2 = *(v28 + 176);
  if (*(a1 + 142816) == 1 && *(a1 + 113852))
  {
    *(a1 + 114952) = *(a1 + 114768);
  }

  v32 = (a1 + 148064);
  v33 = *(v28 + 160);
  v34 = *(a1 + 132056);
  if (v33 < v34)
  {
    *(a1 + 132056) = v33;
    *(a1 + 132048) = v33;
    v34 = v33;
  }

  if (*(a1 + 111064))
  {
    if (v33 == v34)
    {
      v35 = v31 - v33;
      if (v31 != v33)
      {
        goto LABEL_28;
      }

LABEL_64:
      *(a1 + 132040) = v33;
      *(a1 + 132048) = v31;
      goto LABEL_65;
    }

    v38 = *(a1 + 132048);
    v35 = v31 - v38;
    if (v31 - v38 >= 0xCCCCCCCCCCCCCCCLL)
    {
      v35 = 0xCCCCCCCCCCCCCCCLL;
    }

    v39 = v38 - *(a1 + 132040);
    if (v39)
    {
      if (v31 == v38)
      {
        goto LABEL_64;
      }

      if ((10 * (v35 - v39) / v39))
      {
LABEL_28:
        HIDWORD(v36) = 1097011920;
        v37 = 10000000.0 / v35;
        *(a1 + 132104) = v37;
        if (*(a1 + 114716) < 2u)
        {
LABEL_44:
          v43 = *(a1 + 114516);
          if (v43 < 2)
          {
            v45 = 30.0;
            if (v37 < 0.1)
            {
              v37 = 30.0;
            }

            *(a1 + 132096) = v37;
            *(a1 + 132032) = v37;
            LODWORD(v45) = *(a1 + 114284);
            a11.i64[0] = 0x41DFFFFFFFC00000;
            v46 = fmin(round(v45 / v37), 2147483650.0);
            *(a1 + 132012) = v46;
            *(a1 + 132016) = v46;
            v47 = *(a1 + 114432) * v46 / 100;
            if (v47 >= 0x7FFFFFFF)
            {
              LODWORD(v47) = 0x7FFFFFFF;
            }

            *(a1 + 132020) = v47;
            a10 = 0.5;
            v48 = v37 * 0.5;
            if (v48 >= 10)
            {
              v49 = v48 + 2;
            }

            else
            {
              v49 = 12;
            }

            *(a1 + 131972) = v49;
            v50 = *(a1 + 115168) >> 1;
            *(a1 + 148080) = v50;
            if (*(a1 + 114440))
            {
              v51 = *(a1 + 114328);
              if (v51)
              {
                if (v49 >= v51)
                {
                  v49 = v51 - 1;
                  *(a1 + 131972) = v51 - 1;
                }

                if (v50 >= v51)
                {
                  v50 = v51 - 1;
                  *(a1 + 148080) = v51 - 1;
                }
              }
            }

            if (v49 > v50)
            {
              *(a1 + 131972) = v50;
            }
          }

          else
          {
            LODWORD(v36) = *(a1 + 114584);
            v44 = v37 / *&v36;
            *(a1 + 149256) = v44;
            LODWORD(v44) = *(a1 + 114588);
            a10 = v37 / *&v44;
            *(a1 + 149472) = a10;
            if (v43 != 2)
            {
              LODWORD(a10) = *(a1 + 114592);
              a10 = v37 / *&a10;
              *(a1 + 149688) = a10;
              if (v43 != 3)
              {
                LODWORD(a10) = *(a1 + 114596);
                a10 = v37 / *&a10;
                *(a1 + 149904) = a10;
                if (v43 != 4)
                {
                  LODWORD(a10) = *(a1 + 114600);
                  a10 = *&a10;
                  *(a1 + 150120) = v37 / a10;
                }
              }
            }
          }

          goto LABEL_64;
        }

LABEL_40:
        v42 = *(a1 + 114736);
        if (*(a1 + 114720))
        {
          if (!*(v42 + 48))
          {
            v37 = *(v42 + 16);
            *(a1 + 132104) = v37;
          }
        }

        else
        {
          *(v42 + 16) = v37;
          *(v42 + 48) = 0;
        }

        goto LABEL_44;
      }
    }

    else if (v31 == v38)
    {
      goto LABEL_64;
    }

    v40 = v31 - v34;
    if (v40 >= 10000000)
    {
      v40 = 10000000;
    }

    a11.i64[0] = 0x416312D000000000;
    v41 = 10000000.0 / *(a1 + 132104);
    *a12.i64 = v40 - v41 + v35;
    v36 = v41 * *a12.i64;
    v37 = 10000000.0 / (v36 / v40);
    *(a1 + 132104) = v37;
    if (*(a1 + 114716) < 2u)
    {
      goto LABEL_44;
    }

    goto LABEL_40;
  }

LABEL_65:
  v52 = *(a1 + 114516);
  if (v52 < 2)
  {
    goto LABEL_118;
  }

  if (v52 >= 5)
  {
    v53 = 5;
  }

  else
  {
    v53 = v52;
  }

  v54 = *(a1 + 132104);
  v55 = (a1 + 114520);
  v56 = *(a1 + 114520);
  v57 = *(a1 + 114368);
  v58 = *(a1 + 114352);
  v59 = *(a1 + 114360);
  LODWORD(a10) = *(a1 + 114584);
  v60 = v54 / *&a10;
  *(a1 + 149256) = v60;
  LODWORD(v61) = 1000 * v56;
  v62 = 0x7FFFFFFFLL;
  if (v56 <= 0x20C49B)
  {
    v61 = v61;
  }

  else
  {
    v61 = 0x7FFFFFFFLL;
  }

  *(a1 + 149264) = v61;
  if (v57 * v61 < 0x1F400000000)
  {
    v62 = v57 * v61 / 1000;
  }

  *(a1 + 149272) = v62;
  if (v58)
  {
    v63 = *(a1 + 114376) * v61;
    v64 = 0x7FFFFFFFLL;
    if (v63 < 0x1F400000000)
    {
      v64 = v63 / 1000;
    }

    *(a1 + 149280) = v64;
    if (v59)
    {
      goto LABEL_78;
    }
  }

  else
  {
    *(a1 + 149280) = v61 >> 3;
    if (v59)
    {
LABEL_78:
      v65 = *(a1 + 114384) * v61;
      v66 = v65 / 1000;
      if (v65 >= 0x1F400000000)
      {
        v66 = 0x7FFFFFFFLL;
      }

      goto LABEL_83;
    }
  }

  v66 = v61 >> 3;
LABEL_83:
  v67 = v53 - 1;
  *(a1 + 149288) = v66;
  v68 = a1 + 149472;
  v69 = (a1 + 114520);
  do
  {
    v72 = v69[1];
    ++v69;
    a11.i32[0] = v69[16];
    *a11.i64 = v54 / a11.u64[0];
    *v68 = a11.i64[0];
    v73 = 1000 * v72;
    if (v72 <= 0x20C49B)
    {
      v74 = v73;
    }

    else
    {
      v74 = 0x7FFFFFFFLL;
    }

    *(v68 + 8) = v74;
    if (v57 * v74 >= 0x1F400000000)
    {
      v75 = 0x7FFFFFFFLL;
    }

    else
    {
      v75 = v57 * v74 / 1000;
    }

    *(v68 + 16) = v75;
    if (v58)
    {
      v76 = *(a1 + 114376) * v74;
      if (v76 >= 0x1F400000000)
      {
        v77 = 0x7FFFFFFFLL;
      }

      else
      {
        v77 = v76 / 1000;
      }

      *(v68 + 24) = v77;
      if (!v59)
      {
LABEL_100:
        v71 = v74 >> 3;
        goto LABEL_88;
      }
    }

    else
    {
      *(v68 + 24) = v74 >> 3;
      if (!v59)
      {
        goto LABEL_100;
      }
    }

    v70 = *(a1 + 114384) * v74;
    if (v70 >= 0x1F400000000)
    {
      v71 = 0x7FFFFFFFLL;
    }

    else
    {
      v71 = v70 / 1000;
    }

LABEL_88:
    *(v68 + 32) = v71;
    *a12.i64 = (1000 * (v55[1] - *v55));
    *(v68 + 64) = llround(*a12.i64 / (*a11.i64 - v60));
    v68 += 216;
    v55 = v69;
    v60 = *a11.i64;
    --v67;
  }

  while (v67);
  v78 = *(a1 + 143140);
  if (v78 < 0)
  {
    v78 = *(a1 + 4 * (*(a1 + 143136) % *(a1 + 114648)) + 114652);
  }

  v79 = a1 + 149256 + 216 * v78;
  *(a1 + 149248) = v78;
  v80 = *(v79 + 8);
  *(a1 + 142760) = v80;
  *(a1 + 114284) = v80;
  v81 = *(v79 + 32);
  *(a1 + 114344) = *(v79 + 16);
  *(a1 + 114360) = v81;
  *(a1 + 114376) = *(v79 + 48);
  *(a1 + 132112) = *(v79 + 72);
  *(a1 + 132144) = *(v79 + 88);
  *(a1 + 132164) = *(v79 + 108);
  *(a1 + 132172) = *(v79 + 116);
  *(a1 + 132064) = *(v79 + 120);
  *(a1 + 131920) = *(v79 + 136);
  *(a1 + 131936) = *(v79 + 152);
  *(a1 + 132080) = *(v79 + 168);
  v82 = *(v79 + 164);
  *(a1 + 103884) = *(v79 + 160);
  *(a1 + 111556) = *(v79 + 176);
  *(a1 + 143148) = vrev64_s32(*(v79 + 180));
  *(a1 + 142880) = *(v79 + 188);
  *(a1 + 131912) = *(v79 + 208);
  *(a1 + 103608) = *(v79 + 192);
  v83 = *v79;
  if (*v79 < 0.1)
  {
    v83 = 30.0;
  }

  *(a1 + 132096) = v83;
  *(a1 + 132032) = v83;
  a11.i64[0] = 0x41DFFFFFFFC00000;
  v84 = fmin(round(v80 / v83), 2147483650.0);
  *(a1 + 132012) = v84;
  *(a1 + 132016) = v84;
  v85 = *(a1 + 114432) * v84 / 100;
  if (v85 >= 0x7FFFFFFF)
  {
    LODWORD(v85) = 0x7FFFFFFF;
  }

  *(a1 + 132020) = v85;
  *(a1 + 132024) = v82;
  v86 = v83 * 0.5;
  if (v86 >= 10)
  {
    v87 = v86 + 2;
  }

  else
  {
    v87 = 12;
  }

  *(a1 + 131972) = v87;
  v88 = *(a1 + 115168) >> 1;
  *(a1 + 148080) = v88;
  if (*(a1 + 114440))
  {
    v89 = *(a1 + 114328);
    if (v89)
    {
      if (v87 >= v89)
      {
        v87 = v89 - 1;
        *(a1 + 131972) = v89 - 1;
      }

      if (v88 >= v89)
      {
        v88 = v89 - 1;
        *(a1 + 148080) = v89 - 1;
      }
    }
  }

  if (v87 > v88)
  {
    *(a1 + 131972) = v88;
  }

LABEL_118:
  v467 = a2;
  if (*(a1 + 142796) == 2)
  {
    clock_gettime(_CLOCK_MONOTONIC_RAW, &__tp);
    a2 = v467;
  }

  *(v14 + 284) = 100 * *(v14 + 280) / v16[304];
  *v12 = 0;
  v16[301] = 1;
  v90 = *a2;
  v16[303] = *a2;
  v91 = v16[46];
  if (!v91)
  {
    goto LABEL_127;
  }

  if (!v16[86])
  {
    v91 = 1;
LABEL_127:
    v16[172] = v91;
    goto LABEL_128;
  }

  if (!v16[126])
  {
    v91 = 2;
    goto LABEL_127;
  }

  if (!v16[166])
  {
    v91 = 3;
    goto LABEL_127;
  }

LABEL_128:
  if (*(v13 + 148192))
  {
    v92 = 0;
    v16[301] = 0;
    *(v13 + 148192) = 0;
  }

  else
  {
    v92 = 1;
  }

  v93.i64[0] = 0x41DFFFFFFFC00000;
  *(v13 + 132012) = fmin(round(*(v14 + 12) / *(v13 + 132032)), 2147483650.0);
  v94.i64[0] = 0;
  v456 = v16 + 431;
  *(v16 + 431) = 0;
  *(v13 + 103884) = 0;
  *(v13 + 103868) = 1;
  if (*(v14 + 68) == 2 && *v14 <= 400)
  {
    *(v13 + 103868) = 0;
  }

  v16[437] = *(v15 + 700) != 0;
  v95 = v16[999];
  if (!v95 || (v90 & 1) != 0 || *(v15 + 48) && !(*(v15 + 896) % *(v15 + 900)))
  {
    v92 = 0;
    v16[301] = 0;
    if (*(v15 + 20) == 4)
    {
      v92 = 0;
      *(v13 + 149180) = 2;
      *(v13 + 149212) = xmmword_273BC62E0;
      v94.i64[0] = 100;
      *(v13 + 149228) = xmmword_273BC62F0;
    }
  }

  v96 = (v13 + 81920);
  v97 = (v16 + 999);
  if (*(v15 + 448) < 2u)
  {
    v106 = 1;
    *(v13 + 150840) = 1;
    if (!v92)
    {
      goto LABEL_187;
    }

    v107 = (v13 + 150840);
    v108 = *(v14 + 136);
    if ((v108 & 1) == 0)
    {
LABEL_172:
      v106 = (v108 << 29 >> 31) & 3;
      if ((v108 & 2) != 0)
      {
        v106 = 2;
      }

      v109 = v13 + 150824;
      if ((v108 & 2) != 0)
      {
LABEL_175:
        if (v95 - *(v13 + 150832) < v95 - *(v109 + 4 * v106))
        {
          v106 = 2;
        }

        if ((v108 & 4) == 0)
        {
          goto LABEL_169;
        }

        goto LABEL_167;
      }

LABEL_166:
      if ((v108 & 4) == 0)
      {
LABEL_169:
        *v107 = v106;
        goto LABEL_191;
      }

LABEL_167:
      if (v95 - *(v13 + 150836) < v95 - *(v109 + 4 * v106))
      {
        v106 = 3;
      }

      goto LABEL_169;
    }

LABEL_165:
    v109 = v13 + 150824;
    if ((v108 & 2) != 0)
    {
      goto LABEL_175;
    }

    goto LABEL_166;
  }

  v98 = *(v15 + 468);
  if (!*(v15 + 452))
  {
    v98[11] = 0;
    if (!v92)
    {
      v98[10] = v95;
      goto LABEL_186;
    }

LABEL_171:
    v107 = (v13 + 150840);
    v106 = 1;
    *(v13 + 150840) = 1;
    v108 = *(v14 + 136);
    if ((v108 & 1) == 0)
    {
      goto LABEL_172;
    }

    goto LABEL_165;
  }

  if (v92)
  {
    v99 = v98[1];
    v100 = v99 == 0;
    *(v13 + 150820) = v99 == 0;
    v101 = *(v14 + 136);
    if (v101)
    {
      if (v99)
      {
        v102 = 0;
      }

      else
      {
        v102 = *(v13 + 150828) == v98[7];
      }

      v100 = v102;
      *(v13 + 150820) = v100;
    }

    if ((v101 & 2) != 0)
    {
      if (*(v13 + 150832) != v98[8])
      {
        v100 = 0;
      }

      *(v13 + 150820) = v100;
    }
  }

  if (v98[11])
  {
    *(v13 + 150820) = 0;
  }

  v98[11] = 0;
  if (v92)
  {
    goto LABEL_171;
  }

  if (!v95 && !*(v13 + 132112))
  {
    v103 = *(v15 + 76);
    *(v13 + 132120) = v103;
    *(v13 + 132112) = v103;
    v104 = *(v15 + 248);
    if (v104)
    {
      if (v104 == 1)
      {
        v105 = 0;
        goto LABEL_183;
      }

      v105 = v104 & 0xFFFFFFFE;
      v110 = (v13 + 149488);
      v111 = v105;
      do
      {
        v112 = *(v110 - 27);
        v113 = *v110;
        *(v110 - 20) = v112;
        *(v110 - 19) = v112;
        v110[7] = v113;
        v110[8] = v113;
        v110 += 54;
        v111 -= 2;
      }

      while (v111);
      if (v105 != v104)
      {
LABEL_183:
        v114 = v104 - v105;
        v115 = (v13 + 216 * v105 + 149336);
        do
        {
          v116 = *(v115 - 8);
          *(v115 - 1) = v116;
          *v115 = v116;
          v115 += 27;
          --v114;
        }

        while (v114);
      }
    }
  }

  *v97 = v98[10];
LABEL_186:
  *(v13 + 150840) = 1;
LABEL_187:
  v117 = *v96 != 0;
  *(v13 + 81921) = v117;
  *(v13 + 81922) = v117;
  *(v13 + 81945) = 0;
  *(v13 + 81937) = 0;
  *(v13 + 81935) = 257;
  *(v13 + 81941) = -16908286;
  *(v13 + 81949) = 4;
  if (*(v15 + 44))
  {
    v118 = -2;
  }

  else
  {
    v118 = -12;
  }

  *(v13 + 81950) = v118;
  *(v13 + 81951) = 1026;
  *(v15 + 700) = 0;
  memset_pattern16((v13 + 103624), &unk_273BC6310, 0x50uLL);
  bzero(*(v14 + 372), v16[306] * v16[305]);
  bzero(*(v14 + 380), v16[306] * v16[305]);
  if (v16[301])
  {
LABEL_191:
    v119 = 0;
    if (!(*(v13 + 103608) + *(v13 + 103612) + *(v13 + 103616) + *(v13 + 103620)))
    {
      v120 = 63;
      goto LABEL_194;
    }
  }

  else
  {
    v120 = 255;
    v119 = 1;
LABEL_194:
    *(v14 + 72) = v120;
    v94.i64[0] = 0x8000000080;
    *(v14 + 76) = 0x8000000080;
  }

  v468 = (v13 + 180152);
  v121 = *(v15 + 248);
  if (v121 == 1)
  {
    if (v16[430])
    {
      v122 = *(v14 + 72);
      if (v122 <= 215)
      {
        v123 = v122 + 40;
      }

      else
      {
        v123 = 255;
      }

      *(v14 + 72) = v123;
      v94.i64[0] = 0x1000000C8;
LABEL_201:
      *(v14 + 76) = v94.i64[0];
LABEL_202:
      if (!*(v15 + 700))
      {
        goto LABEL_203;
      }
    }

    else
    {
      v142 = *(v13 + 131944);
      if (v142 == 1)
      {
        v94.i64[0] = 0xDC000000C0;
        goto LABEL_201;
      }

      if (!v142)
      {
        *(v14 + 76) = 214;
        goto LABEL_202;
      }

      if (*(v15 + 700))
      {
        v160 = *(v14 + 80);
        if (v160 >= 30)
        {
          v161 = v160 - 20;
        }

        else
        {
          v161 = 10;
        }

        *(v14 + 80) = v161;
        goto LABEL_202;
      }

LABEL_203:
      *(v14 + 80) = 255;
    }
  }

  v124 = *(v15 + 84) * *(v15 + 156) / 100;
  if (v124 >= 0)
  {
    v125 = *(v15 + 84) * *(v15 + 156) / 100;
  }

  else
  {
    v125 = v124 + 3;
  }

  if (v124 >= 0)
  {
    v126 = *(v15 + 84) * *(v15 + 156) / 100;
  }

  else
  {
    v126 = v124 + 7;
  }

  v461 = v13 + 131812;
  v469 = (v13 + 148064);
  v455 = (v13 + 81920);
  v457 = (v13 + 103592);
  if (!*(v13 + 132180))
  {
    goto LABEL_233;
  }

  v127 = 2 * v124 / 3;
  v128 = *(v13 + 132112);
  if (v128 > v124)
  {
    v129 = *(v14 + 28);
    v130 = __OFSUB__(v129, 1);
    v131 = v129 - 1;
    if (v131 < 0 == v130)
    {
      *(v14 + 28) = v131;
    }
  }

  if (v128 > v127)
  {
    v132 = (v14 + 28);
    if (*(v14 + 28) > 0)
    {
      goto LABEL_238;
    }
  }

  v133 = v126 >> 3;
  v132 = (v14 + 28);
  v134 = *(v14 + 28);
  if (v128 < v133 && (v134 & 0xFFFFFFFE) == 2)
  {
    v134 = 3;
LABEL_243:
    *v132 = v134;
    v140 = 4;
    v139 = 5;
LABEL_244:
    *(v13 + 132012) = *(v13 + 132012) * v139 / v140;
LABEL_245:
    if (!v119)
    {
      v143 = *(v14 + 32);
      v130 = __OFSUB__(v143, 1);
      v144 = v143 - 1;
      if (v144 < 0 == v130)
      {
        *(v14 + 32) = v144;
        v145 = *(v13 + 132120) + *(v13 + 132016);
        if (v145 >= *(v15 + 92))
        {
          v145 = *(v15 + 92);
        }

        *(v13 + 132120) = v145;
        v146 = *(v15 + 448);
        if (v146 >= 2 && *(v15 + 452) < v146 - 1)
        {
          v94.i64[0] = 0x100000001;
          **(v15 + 468) = 0x100000001;
        }

        ++*v97;
        ++*(v15 + 896);
        *v468 = 0;
        ++*(v14 + 388);
        *(v13 + 132112) = v145;
        if (v121 >= 2)
        {
          v147 = *(v13 + 149248);
          if (v147 + 1 < v121)
          {
            v148 = ~v147 + v121;
            v149 = (v13 + 216 * (v147 + 1) + 149336);
            do
            {
              v93.i64[0] = *(v149 - 10);
              *v94.i64 = *(v149 - 18) / *v93.i64;
              v150 = *v149 + *v94.i64;
              if (v150 >= *(v149 - 6))
              {
                v150 = *(v149 - 6);
              }

              *(v149 - 1) = v150;
              *v149 = v150;
              v149 += 27;
              --v148;
            }

            while (v148);
          }
        }

        goto LABEL_718;
      }
    }

    *(v14 + 32) = v134;
    if (!vp8_pick_frame_size(v13))
    {
      goto LABEL_234;
    }

LABEL_260:
    v151 = *(v15 + 64);
    if (v151 == 1)
    {
      v152 = *(v13 + 132112);
      v153 = *(v15 + 84);
      v154 = v152 - v153;
      if (v152 >= v153)
      {
        if (*(v13 + 132088))
        {
          v155 = *(v13 + 132164);
          v156 = v155 >= 0 ? *(v13 + 132164) : v155 + 3;
          if ((v155 + 3) >= 7)
          {
            LODWORD(v157) = v156 >> 2;
            v158 = *(v15 + 92);
            if (v152 < v158)
            {
              v159 = (v158 - v153) / v157;
              if (v159)
              {
                v157 = v154 / v159;
              }

              else
              {
                LODWORD(v157) = 0;
              }
            }

            v162 = v155 - v157;
            if (v162 <= *(v13 + 132172))
            {
              v162 = *(v13 + 132172);
            }

            *(v13 + 132164) = v162;
          }
        }
      }
    }

    v163 = *(v14 + 68);
    if (v163 == 2)
    {
      v164 = *(v13 + 132164);
      if (!v16[301])
      {
        if (*v14 <= 600)
        {
          v165 = kf_high_motion_minq;
        }

        else
        {
          v165 = &kf_low_motion_minq;
        }

        v166 = v165[*(v13 + 132164)];
        *(v13 + 132172) = v166;
        if (*(v15 + 904))
        {
          v167 = *(v13 + 132076);
          v168 = 7 * v167 / 8;
          if (v168 >= v166)
          {
            v171 = v167 >> 2;
            if (v171 > v166)
            {
              *(v13 + 132172) = v171;
              v166 = v171;
            }
          }

          else
          {
            *(v13 + 132172) = v168;
            v166 = 7 * v167 / 8;
          }
        }

LABEL_324:
        if (v151 != 1)
        {
          goto LABEL_330;
        }

        v172 = *(v13 + 132112);
        v173 = *(v15 + 92);
        if (v172 < v173)
        {
          v174 = *(v15 + 84);
          v136 = v172 <= v174;
          v175 = v172 - v174;
          if (v136)
          {
            goto LABEL_330;
          }

          v170 = v166 - ((v166 - *(v13 + 132168)) * ((v175 << 7) / (v173 - v174))) / 128;
          goto LABEL_329;
        }

        goto LABEL_328;
      }
    }

    else
    {
      if (*(v13 + 132072) <= 150)
      {
        if (v151 != 2)
        {
          goto LABEL_330;
        }

        if (!v16[301] || v16[429] || v16[430])
        {
LABEL_328:
          v170 = *(v13 + 132168);
          goto LABEL_329;
        }

        v170 = *(v13 + 132176);
        if (*(v13 + 132172) >= v170)
        {
LABEL_330:
          v176 = *(v13 + 132164);
          v177 = *(v13 + 132160);
          if (v176 <= v177)
          {
            v178 = *(v13 + 132172);
            v179 = *(v13 + 132168);
            if (v178 >= v179)
            {
LABEL_332:
              if (v176 >= v178)
              {
                goto LABEL_334;
              }

              goto LABEL_333;
            }
          }

          else
          {
            *(v13 + 132164) = v177;
            v176 = v177;
            v178 = *(v13 + 132172);
            v179 = *(v13 + 132168);
            if (v178 >= v179)
            {
              goto LABEL_332;
            }
          }

          *(v13 + 132172) = v179;
          v178 = v179;
          if (v176 >= v179)
          {
LABEL_334:
            v454 = v13;
            v465 = vp8_regulate_q(v13, *(v13 + 131904));
            v180 = v16[1] * *v16 > 101376;
            v181 = v16[305];
            v464 = v12;
            v460 = (v16 + 999);
            if (v181 >= 1)
            {
              v182 = v16[306];
              if (v182 >= 1)
              {
                v451 = v15;
                v452 = v14;
                v470 = v16;
                v183 = 0;
                v184 = *(*v466 + 16);
                v185 = *(*v466 + 36);
                v186 = (v14 + 372);
                v187 = (v14 + 292);
                v188 = *(*v466 + 56);
                v189 = *(*v466 + 64);
                v190 = *(*v466 + 72);
                do
                {
                  if (v182 < 1)
                  {
                    LODWORD(v191) = 0;
                  }

                  else
                  {
                    v191 = 0;
                    do
                    {
                      v472 = v182;
                      v193 = v187;
                      v194 = v180;
                      v195 = vp8_compute_skin_block(v188, v189, v190, v184, v185, v180, *(*v186 + v183 * v182 + v191), 0);
                      v180 = v194;
                      v187 = v193;
                      *(*v193 + v183 * v472 + v191) = v195;
                      v188 += 16;
                      v189 += 8;
                      v190 += 8;
                      v182 = v470[306];
                      ++v191;
                    }

                    while (v191 < v182);
                    v181 = v470[305];
                  }

                  v188 += 16 * (v184 - v191);
                  v192 = 8 * (v185 - v191);
                  v189 += v192;
                  v190 += v192;
                  ++v183;
                }

                while (v183 < v181);
                v15 = v451;
                v14 = v452;
                v32 = v469;
                v16 = v470;
                v97 = v460;
                v29 = v461;
                v12 = v464;
                v96 = v455;
                if (v181 >= 3 && v182 >= 3)
                {
                  v196 = 1;
                  do
                  {
                    while (v182 <= 2)
                    {
                      if (++v196 >= v181 - 1)
                      {
                        goto LABEL_385;
                      }
                    }

                    v197 = v196 + 1;
                    v198 = 1;
                    do
                    {
                      v200 = *v187;
                      v201 = (*v187 + (v196 - 1) * v182 + v198);
                      v202 = *(v201 - 1) != 0;
                      if (*v201)
                      {
                        ++v202;
                      }

                      if (v201[1])
                      {
                        ++v202;
                      }

                      v203 = (v200 + v196 * v182 + v198);
                      if (*(v203 - 1))
                      {
                        v204 = v202 + 1;
                      }

                      else
                      {
                        v204 = v202;
                      }

                      if (*v203)
                      {
                        ++v204;
                      }

                      if (v203[1])
                      {
                        ++v204;
                      }

                      v205 = (v200 + v197 * v182 + v198);
                      if (*(v205 - 1))
                      {
                        v206 = v204 + 1;
                      }

                      else
                      {
                        v206 = v204;
                      }

                      if (*v205)
                      {
                        ++v206;
                      }

                      if (v205[1])
                      {
                        v207 = v206 + 1;
                      }

                      else
                      {
                        v207 = v206;
                      }

                      if (*v203)
                      {
                        v208 = v207 >= 2;
                      }

                      else
                      {
                        v208 = 1;
                      }

                      if (!v208)
                      {
                        v199 = 0;
LABEL_352:
                        *v203 = v199;
                        v182 = v470[306];
                        goto LABEL_353;
                      }

                      if (*v203)
                      {
                        v209 = 0;
                      }

                      else
                      {
                        v209 = v207 == 8;
                      }

                      if (v209)
                      {
                        v199 = 1;
                        goto LABEL_352;
                      }

LABEL_353:
                      ++v198;
                    }

                    while (v198 < v182 - 1);
                    v181 = v470[305];
                    ++v196;
                  }

                  while (v197 < v181 - 1);
                }
              }
            }

LABEL_385:
            v13 = v454;
            if (*(v14 + 344))
            {
              v210 = *(v15 + 40) == 2 && v16[429] != 0;
              if (!v32[296] && *(v14 + 400) == 0 && !v210)
              {
                cyclic_background_refresh(v454, v465);
                if ((*(v15 + 124) & 0x80000000) == 0)
                {
                  goto LABEL_393;
                }

                goto LABEL_395;
              }

              *v96 = 0;
            }

            if ((*(v15 + 124) & 0x80000000) == 0)
            {
LABEL_393:
              v211 = 0x7FFFFFFF;
              goto LABEL_403;
            }

LABEL_395:
            if (!v16[301] || *(v15 + 248) > 1u || v16[430] || v16[429])
            {
              v212 = 9;
            }

            else if (*(v15 + 64) == 1)
            {
              v268 = *(v29 + 300);
              v269 = *(v15 + 84);
              if (v268 >= (*(v15 + 92) + v269) >> 1)
              {
                v212 = 12;
              }

              else
              {
                v136 = v268 <= v269 >> 1;
                v212 = 10;
                if (!v136)
                {
                  v212 = 11;
                }
              }
            }

            else
            {
              v212 = 11;
            }

            v213 = v212 * *(v29 + 92) / 8;
            if (v213 >= 2147483447)
            {
              LODWORD(v213) = 2147483447;
            }

            v211 = v213 + 200;
LABEL_403:
            *(v15 + 1088) = *(v15 + 896);
            *(v15 + 1096) = v16[425];
            v214 = *(v29 + 132);
            *(v15 + 1100) = *(v29 + 136);
            *(v15 + 1092) = v214;
            v215 = *(v454 + 113829);
            *(v454 + 115388) = *(v454 + 113813);
            *(v454 + 115404) = v215;
            *(v454 + 115418) = *(v454 + 113843);
            memcpy((v454 + 115428), (v454 + 150844), 0x4000uLL);
            *v29 = *(v16 + 2891);
            *(v454 + 131816) = *(v454 + 112751);
            *(v454 + 131818) = *(v454 + 112753);
            *(v454 + 131828) = *(v454 + 103556);
            v216 = *(v454 + 103572);
            *(v454 + 131848) = *(v454 + 103576);
            *(v454 + 131844) = v216;
            *(v29 + 68) = *(v14 + 128);
            v217 = *v458;
            v219 = v16[2];
            v218 = v16[3];
            if (v219)
            {
              if (v218 == 3)
              {
                v220 = 9;
              }

              else
              {
                v220 = 11;
              }

              switch(v219)
              {
                case 3u:
                  v221 = 2;
                  v222 = 1;
                  goto LABEL_418;
                case 2u:
                  v221 = 5;
                  v222 = 3;
                  goto LABEL_418;
                case 1u:
                  v221 = 5;
                  v222 = 4;
LABEL_418:
                  v223 = v218 - 1;
                  if (v223 > 2)
                  {
                    v224 = 1;
                    v225 = 1;
                  }

                  else
                  {
                    v224 = dword_273BC6A64[v223];
                    v225 = dword_273BC6A70[v223];
                  }

                  v226 = v15 + 524;
                  vpx_scale_frame(v217, (v15 + 524), *(v16 + 95), v220, v221, v222, v225, v224, 0);
                  v227 = *(v15 + 628);
                  v228 = v15;
                  v229 = v227 / 2;
                  extend_plane(*(v228 + 580), *(v228 + 540), *(v228 + 532), *(v228 + 536), v227, v227, v227 - *(v228 + 536) + *(v228 + 528), v227 - *(v228 + 532) + *(v228 + 524));
                  extend_plane(*(v228 + 588), *(v228 + 560), *(v228 + 552), *(v228 + 556), v229, v229, v229 - *(v228 + 556) + *(v228 + 548), v229 - *(v228 + 552) + *(v228 + 544));
                  v230 = *(v228 + 552);
                  v231 = *(v228 + 556);
                  v232 = v229 - v231 + *(v228 + 548);
                  v233 = v229 - v230 + *(v228 + 544);
                  v234 = v229;
                  v235 = v229;
                  v15 = v228;
                  extend_plane(*(v228 + 596), *(v228 + 560), v230, v231, v234, v235, v232, v233);
                  v217 = v226;
                  v12 = v464;
                  v97 = v460;
LABEL_422:
                  *v466 = v217;
                  if (*(v15 + 20) >= 3)
                  {
                    v236 = v469[294];
                    if (v236)
                    {
                      vp8_de_noise(v454 + 108032, v217, v236, 1);
                    }
                  }

                  v237 = 0;
                  *(v16 + 156) = v465;
                  v16[315] = 0;
                  v238 = 4 - v465;
                  if (v465 >= 4)
                  {
                    v238 = 0;
                  }

                  v239 = v16[314];
                  v16[314] = v238;
                  if (v465 >= 41 && *(v15 + 40))
                  {
                    v240 = (v465 * 0.15);
                    if (-v240 < -15 || v240 == 15)
                    {
                      v237 = -15;
                    }

                    else
                    {
                      v237 = -v240;
                    }
                  }

                  v241 = v16[316];
                  v16[316] = v237;
                  v16[317] = v237;
                  *(v96 + 7) = *(v14 + 308);
                  if (v239 != v238 || v241 != v237)
                  {
                    vp8cx_init_quantizer(v454);
                  }

                  v242 = v16[301];
                  if (v16[308])
                  {
                    v243 = *(v454 + 4 * v465 + 143656);
                    *(v14 + 84) = v243;
                    if (v242)
                    {
                      if (v16[430])
                      {
                        v244 = *(v14 + 96);
                        if (!v244)
                        {
                          goto LABEL_440;
                        }

                        goto LABEL_439;
                      }

                      if (v16[429])
                      {
                        v244 = *(v14 + 92);
                        if (!v244)
                        {
                          goto LABEL_440;
                        }
                      }

                      else
                      {
                        v244 = *(v14 + 88);
                        if (!v244)
                        {
LABEL_440:
                          if (v243 >= 5)
                          {
                            if (v243 < 0xFB)
                            {
LABEL_455:
                              if (*(v15 + 248) == 1 && *(v15 + 704))
                              {
                                *(v14 + 84) = 1;
                              }

LABEL_512:
                              vp8_encode_frame(v454);
                              if (!*(v14 + 68) && *(v15 + 64) == 1 && v468[2] == 1)
                              {
                                if (vp8_drop_encodedframe_overshoot(v454, v465))
                                {
                                  goto LABEL_718;
                                }

                                if (v16[301])
                                {
                                  *(v14 + 408) = v457->i64[0] / v16[304];
                                }
                              }

                              v275 = vp8_estimate_entropy_savings(v454);
                              v278 = (*(v29 + 96) - v275) & ~((*(v29 + 96) - v275) >> 31);
                              *(v29 + 96) = v278;
                              if (v211 <= 1)
                              {
                                v279 = 1;
                              }

                              else
                              {
                                v279 = v211;
                              }

                              if (v468[1])
                              {
                                v473 = 1;
                                v280 = v469;
                                v281 = v454 + 109888;
                                if (!*(v15 + 908))
                                {
                                  goto LABEL_548;
                                }

                                goto LABEL_537;
                              }

                              v280 = v469;
                              if ((*(v14 + 68) != 2 || *(v15 + 64) == 1) && v465 == *(v29 + 352))
                              {
                                v282 = *(v29 + 348);
                                v473 = 1;
                                if (v465 < v282)
                                {
                                  v130 = __OFSUB__(v278, v279);
                                  v283 = v278 - v279;
                                  if (!((v283 < 0) ^ v130 | (v283 == 0)))
                                  {
                                    v284 = 100 * v283 / v279;
                                    if (v284 < 1)
                                    {
                                      v473 = 0;
                                      v281 = v454 + 109888;
                                      if (!*(v15 + 908))
                                      {
                                        goto LABEL_548;
                                      }
                                    }

                                    else
                                    {
                                      v276 = 0.96;
                                      v285 = v465;
                                      do
                                      {
                                        if (++v285 >= v282)
                                        {
                                          break;
                                        }

                                        *v277.i64 = v284 * 0.96;
                                        v284 = *v277.i64;
                                      }

                                      while (*v277.i64 > 0);
                                      v473 = 0;
                                      *(v29 + 352) = v285;
                                      v281 = v454 + 109888;
                                      if (!*(v15 + 908))
                                      {
                                        goto LABEL_548;
                                      }
                                    }

LABEL_537:
                                    if (!*v280)
                                    {
                                      v286 = *v466;
                                      v287 = *(*v466 + 4);
                                      v453 = v14;
                                      v471 = v16;
                                      if (v287 < 1 || (v288 = *v286, *v286 < 1))
                                      {
                                        v289 = 0;
                                      }

                                      else
                                      {
                                        v289 = 0;
                                        v290 = 0;
                                        v291 = v281 + 160 * v16[172];
                                        v292 = *(v291 + 56);
                                        v293 = *(v286 + 56);
                                        v459 = v281;
                                        do
                                        {
                                          if (v288 >= 1)
                                          {
                                            v294 = 0;
                                            v295 = v293;
                                            v296 = v292;
                                            do
                                            {
                                              LODWORD(v476[0]) = 0;
                                              v289 += vpx_mse16x16(v295, *(v286 + 16), v296, *(v291 + 16), v476);
                                              v288 = *v286;
                                              v294 += 16;
                                              v296 += 16;
                                              v295 += 16;
                                            }

                                            while (*v286 > v294);
                                            v287 = *(v286 + 4);
                                            v12 = v464;
                                            v280 = v469;
                                            v281 = v459;
                                          }

                                          v293 += 16 * *(v286 + 16);
                                          v292 += 16 * *(v291 + 16);
                                          v290 += 16;
                                        }

                                        while (v290 < v287);
                                      }

                                      v14 = v453;
                                      *(v15 + 912) = v289;
                                      v16 = v471;
                                      v13 = v454;
                                      v96 = v455;
                                      v97 = v460;
                                      v29 = v461;
                                    }

LABEL_548:
                                    if (!*(v15 + 452) && v16[302])
                                    {
                                      if (!v16[301] || (v306 = v16[305], v306 < 0))
                                      {
                                        *(v14 + 280) = 0;
                                        goto LABEL_574;
                                      }

                                      v307 = v16[306];
                                      if ((v307 & 0x80000000) == 0)
                                      {
                                        v308 = 0;
                                        v309 = *(v16 + 159);
                                        do
                                        {
                                          if ((v307 & 0x80000000) == 0)
                                          {
                                            v310 = 0;
                                            v311 = -1;
                                            do
                                            {
                                              if (*(v309 + 2))
                                              {
                                                *(*(v280 + 13) + 4 * (v310 + v308 + v16[307] * v308)) = *(v309 + 4);
                                                v312 = *(v309 + 2);
                                              }

                                              else
                                              {
                                                v312 = 0;
                                              }

                                              *(*(v280 + 14) + 4 * (v310 + v308 + v16[307] * v308)) = *(v13 + 111592 + 4 * v312);
                                              *(*(v280 + 15) + 4 * (v310 + v308 + v16[307] * v308)) = v312;
                                              v309 += 76;
                                              v307 = v16[306];
                                              ++v311;
                                              ++v310;
                                            }

                                            while (v311 < v307);
                                            v306 = v16[305];
                                          }

                                          v136 = v308++ < v306;
                                        }

                                        while (v136);
                                      }
                                    }

                                    v297 = v16[301];
                                    v298 = *(v16 + 160);
                                    *(v14 + 280) = 0;
                                    if (v297)
                                    {
                                      v299 = v16[305];
                                      if (v299 >= 1)
                                      {
                                        v300 = v16[306];
                                        if (v300 >= 1)
                                        {
                                          v301 = 0;
                                          v302 = 0;
                                          v303 = (v298 + 2);
                                          do
                                          {
                                            v304 = v300;
                                            v305 = v303;
                                            do
                                            {
                                              if (*(v305 - 2) == 7 && *v305 == 1)
                                              {
                                                *(v14 + 280) = ++v301;
                                              }

                                              v305 += 76;
                                              --v304;
                                            }

                                            while (v304);
                                            ++v302;
                                            v303 += 76 * (v300 - 1) + 152;
                                          }

                                          while (v302 != v299);
                                        }
                                      }
                                    }

LABEL_574:
                                    vp8_cal_dissimilarity(v13, v276, v277);
                                    if (*(v15 + 248) == 1)
                                    {
                                      vp8_update_gf_usage_maps(v13, v13 + 108032, v13 + 73728);
                                      v313 = v16[301];
                                      if (!v313)
                                      {
                                        goto LABEL_576;
                                      }
                                    }

                                    else
                                    {
                                      v313 = v16[301];
                                      if (!v313)
                                      {
LABEL_576:
                                        v16[428] = 1;
                                        if (*(v15 + 204))
                                        {
                                          goto LABEL_580;
                                        }

                                        goto LABEL_599;
                                      }
                                    }

                                    if (*(v15 + 204))
                                    {
                                      goto LABEL_580;
                                    }

LABEL_599:
                                    if (v16[429] && !*v468)
                                    {
                                      v314 = 2;
LABEL_581:
                                      v16[432] = v314;
                                      *(v16 + 3) = v281 + 160 * v16[172];
                                      v315 = *(v15 + 20);
                                      if ((v315 - 1) <= 2)
                                      {
                                        if (*(v15 + 40) || !v313 || (*(v15 + 896) & 7) != 0)
                                        {
                                          goto LABEL_591;
                                        }

                                        *(v14 + 396) = measure_square_diff_partial(v13 + 148208, *v466, v13);
                                        v315 = *(v15 + 20);
                                      }

                                      if (v315 == 4 && !*(v15 + 40) && (*(v15 + 896) & 7) == 0 && v16[301])
                                      {
                                        process_denoiser_mode_change(v13);
                                      }

LABEL_591:
                                      if (atomic_load_explicit((v14 + 444), memory_order_acquire))
                                      {
                                        MEMORY[0x2743DB130](*(v14 + 524));
                                        *(v14 + 452) = 1;
                                        MEMORY[0x2743DB140](*(v14 + 528));
                                        v316 = v16[301];
                                        v317 = a4;
                                        v318 = a5;
                                        if (v316)
                                        {
                                          goto LABEL_593;
                                        }
                                      }

                                      else
                                      {
                                        vp8_loopfilter_frame(v13, v13 + 108032);
                                        v316 = v16[301];
                                        v317 = a4;
                                        v318 = a5;
                                        if (v316)
                                        {
LABEL_593:
                                          if (v16[430])
                                          {
                                            v319 = v16[172];
                                            *(v281 + 160 * v319 + 152) |= 4u;
                                            v320 = v281 + 160 * v16[175];
                                            *(v320 + 152) &= ~4u;
                                            v16[175] = v319;
                                            v321 = v97;
                                          }

                                          else
                                          {
                                            v335 = v16[432];
                                            if (!v335)
                                            {
                                              goto LABEL_596;
                                            }

                                            if (v335 == 1)
                                            {
                                              v336 = v16[175];
                                              v337 = v16[173];
                                              if (v336 == v337)
                                              {
                                                goto LABEL_596;
                                              }

                                              *(v281 + 160 * v337 + 152) |= 4u;
                                              *(v281 + 160 * v336 + 152) &= ~4u;
                                              v16[175] = v337;
                                              v321 = v280 + 691;
                                            }

                                            else
                                            {
                                              v443 = v16[175];
                                              v444 = v16[174];
                                              if (v443 == v444)
                                              {
                                                goto LABEL_596;
                                              }

                                              *(v281 + 160 * v444 + 152) |= 4u;
                                              *(v281 + 160 * v443 + 152) &= ~4u;
                                              v16[175] = v444;
                                              v321 = v280 + 692;
                                            }
                                          }

                                          v280[693] = *v321;
LABEL_596:
                                          if (v16[429])
                                          {
                                            v322 = v16[172];
                                            *(v281 + 160 * v322 + 152) |= 2u;
                                            v323 = v281 + 160 * v16[174];
                                            *(v323 + 152) &= ~2u;
                                            v16[174] = v322;
                                            v324 = v16[999];
LABEL_598:
                                            v280[692] = v324;
                                            goto LABEL_604;
                                          }

                                          if (*v456)
                                          {
                                            if (*v456 == 1)
                                            {
                                              v338 = v16[174];
                                              v339 = v16[173];
                                              if (v338 != v339)
                                              {
                                                *(v281 + 160 * v339 + 152) |= 2u;
                                                *(v281 + 160 * v338 + 152) &= ~2u;
                                                v16[174] = v339;
                                                v324 = v280[691];
                                                goto LABEL_598;
                                              }
                                            }

                                            else
                                            {
                                              v445 = v16[175];
                                              v446 = v16[174];
                                              if (v445 != v446)
                                              {
                                                *(v281 + 160 * v445 + 152) |= 2u;
                                                *(v281 + 160 * v446 + 152) &= ~2u;
                                                v16[174] = v445;
                                                v324 = v280[693];
                                                goto LABEL_598;
                                              }
                                            }
                                          }

LABEL_604:
                                          if (v16[428])
                                          {
                                            v329 = v16[172];
                                            *(v281 + 160 * v329 + 152) |= 1u;
                                            v330 = v281 + 160 * v16[173];
                                            *(v330 + 152) &= ~1u;
                                            v16[173] = v329;
                                            v280[691] = v16[999];
                                          }

                                          if (!*(v15 + 20))
                                          {
LABEL_628:
                                            if (*(v15 + 204))
                                            {
                                              v16[433] = 0;
                                            }

                                            vp8_pack_bitstream(v13, v317, v318, v12);
                                            v340 = v16[301];
                                            v16[300] = v340;
                                            v341 = *v12;
                                            *(v29 + 268) += *v12;
                                            *(v29 + 96) = 8 * v341;
                                            v342 = *(v15 + 248);
                                            v343 = v467;
                                            if (v342 >= 2)
                                            {
                                              v344 = v280[296];
                                              v345 = (v344 + 1);
                                              if (v345 < v342)
                                              {
                                                v346 = v342 - 2 - v344;
                                                if (!v346)
                                                {
                                                  v347 = (v344 + 1);
LABEL_637:
                                                  v353 = v342 - v347;
                                                  v354 = (216 * v347 + 149336 + v13 + 88);
                                                  do
                                                  {
                                                    *v354 += v341;
                                                    v354 += 27;
                                                    --v353;
                                                  }

                                                  while (v353);
                                                  goto LABEL_639;
                                                }

                                                v348 = v346 + 1;
                                                v349 = (v346 + 1) & 0x1FFFFFFFELL;
                                                v347 = v349 + v345;
                                                v350 = (216 * v345 + 149336 + v13 + 88);
                                                v351 = v349;
                                                do
                                                {
                                                  v352 = v350[27] + v341;
                                                  *v350 += v341;
                                                  v350[27] = v352;
                                                  v350 += 54;
                                                  v351 -= 2;
                                                }

                                                while (v351);
                                                if (v348 != v349)
                                                {
                                                  goto LABEL_637;
                                                }
                                              }
                                            }

LABEL_639:
                                            if (v473)
                                            {
                                              vp8_update_rate_correction_factors(v13, 2);
                                              v343 = v467;
                                              v340 = v16[301];
                                            }

                                            v355 = v16[312];
                                            *(v13 + 4 * v340 + 131912) = v355;
                                            if (!v340)
                                            {
                                              vp8_adjust_key_frame_context(v13);
                                              if (!v16[301])
                                              {
                                                v358 = 1;
                                                v343 = v467;
                                                if (!v16[302])
                                                {
                                                  goto LABEL_677;
                                                }

                                                goto LABEL_657;
                                              }

                                              v355 = v16[312];
                                              v343 = v467;
                                            }

                                            *(v29 + 264) = (v355 + 3 * *(v29 + 264) + 2) >> 2;
                                            if (*(v15 + 248) > 1u || !v16[429] && !v16[430])
                                            {
                                              v356 = *(v29 + 260);
                                              v357 = v356 + 1;
                                              *(v29 + 260) = v356 + 1;
                                              if (*(v14 + 68) == 2)
                                              {
                                                v358 = 0;
                                                v359 = *(v29 + 256) + v465;
                                                v360 = v359 / v357;
                                                *(v29 + 256) = v359;
                                                goto LABEL_654;
                                              }

                                              v361 = *(v29 + 256) + v465;
                                              *(v29 + 256) = v361;
                                              v362 = v361 / v357;
                                              if (v356 <= 149)
                                              {
                                                v362 = (v362 + *(v29 + 348) + 1) / 2;
                                              }

                                              *(v29 + 252) = v362;
                                              if (v465 > v362)
                                              {
                                                v358 = 0;
                                                v360 = v465 - 1;
LABEL_654:
                                                *(v29 + 252) = v360;
                                                if (!v16[302])
                                                {
LABEL_677:
                                                  v365 = *(v29 + 96);
                                                  v364 = *(v29 + 308) - v365;
                                                  *(v29 + 308) = v364;
                                                  v366 = (v29 + 308);
                                                  v367 = *(v15 + 92);
                                                  if (v364 <= v367)
                                                  {
                                                    goto LABEL_659;
                                                  }

                                                  goto LABEL_658;
                                                }

LABEL_657:
                                                v363 = *(v29 + 96);
                                                v364 = *(v29 + 308) - v363 + *(v29 + 204);
                                                *(v29 + 308) = v364;
                                                LODWORD(v365) = v363;
                                                v366 = (v29 + 308);
                                                v367 = *(v15 + 92);
                                                if (v364 <= v367)
                                                {
LABEL_659:
                                                  if (*(v15 + 40))
                                                  {
                                                    v368 = -v367;
                                                    if (v364 < v368)
                                                    {
                                                      *v366 = v368;
                                                      v364 = v368;
                                                    }
                                                  }

                                                  v369 = *(v29 + 92);
                                                  *(v29 + 316) = (v369 + 3 * *(v29 + 316) + 2) >> 2;
                                                  *(v29 + 320) = (v365 + 3 * *(v29 + 320) + 2) >> 2;
                                                  *(v29 + 324) = (v369 - *(v29 + 324) + 32 * *(v29 + 324) + 16) >> 5;
                                                  *(v29 + 328) = (v365 - *(v29 + 328) + 32 * *(v29 + 328) + 16) >> 5;
                                                  *(v29 + 332) += v365;
                                                  *(v29 + 300) = v364;
                                                  v370 = *(v15 + 248);
                                                  if (v370 >= 2)
                                                  {
                                                    v371 = v280[296];
                                                    if (v371 + 1 < v370)
                                                    {
                                                      *v94.i64 = v365;
                                                      v372 = ~v371 + v370;
                                                      v373 = (v13 + 216 * (v371 + 1) + 149352);
                                                      do
                                                      {
                                                        a11.i64[0] = *(v373 - 12);
                                                        *v93.i64 = *(v373 - 22) / *a11.i64 - *v94.i64;
                                                        v374 = llround(*v93.i64);
                                                        v375 = *(v373 - 2) + v374;
                                                        v376 = *v373 + v374;
                                                        v377 = *(v373 - 8);
                                                        *(v373 - 1) += v365;
                                                        *v373 = v376;
                                                        if (v375 >= v377)
                                                        {
                                                          v378 = v377;
                                                        }

                                                        else
                                                        {
                                                          v378 = v375;
                                                        }

                                                        *(v373 - 3) = v378;
                                                        *(v373 - 2) = v378;
                                                        v373 += 27;
                                                        --v372;
                                                      }

                                                      while (v372);
                                                    }
                                                  }

                                                  if (v358)
                                                  {
                                                    *(v280 + 4) = (*(v280 + 4) + v369 - v365) & ~((*(v280 + 4) + v369 - v365) >> 63);
                                                  }

                                                  else
                                                  {
                                                    v379 = v16[429];
                                                    v380 = v16[430];
                                                    if (*(v16 + 429))
                                                    {
                                                      *(v280 + 6) = (*(v280 + 6) + v369 - v365) & ~((*(v280 + 6) + v369 - v365) >> 63);
                                                      v381 = *(v14 + 84);
                                                      if (!v379 || v380)
                                                      {
                                                        *(v14 + 96) = v381;
                                                        *(v14 + 108) = v16[312];
                                                      }

                                                      else
                                                      {
                                                        *(v14 + 92) = v381;
                                                        *(v14 + 104) = v16[312];
                                                      }
                                                    }

                                                    else
                                                    {
                                                      v382 = *(v14 + 84);
                                                      *(v14 + 88) = v382;
                                                      v383 = v16[312];
                                                      *(v14 + 100) = v383;
                                                      *(v13 + 4 * v383 + 143656) = v382;
                                                    }
                                                  }

                                                  *v468 = 0;
                                                  v384 = v16[429];
                                                  v385 = v16[430];
                                                  v16[303] = v16[303] & 0xFFFFFFF9 | (2 * (v384 == 1)) | (4 * (v385 == 1));
                                                  v386 = v16[428];
                                                  if ((v386 & v384) != 0)
                                                  {
                                                    v387 = 1;
                                                  }

                                                  else
                                                  {
                                                    if (v386 == v384)
                                                    {
                                                      goto LABEL_685;
                                                    }

                                                    v387 = 0;
                                                  }

                                                  *(v15 + 708) = v387;
LABEL_685:
                                                  if ((v386 & v385) != 0)
                                                  {
                                                    v388 = 1;
                                                  }

                                                  else
                                                  {
                                                    if (v386 == v385)
                                                    {
                                                      goto LABEL_690;
                                                    }

                                                    v388 = 0;
                                                  }

                                                  *(v15 + 712) = v388;
LABEL_690:
                                                  if ((v385 & v384) != 0)
                                                  {
                                                    v389 = 1;
                                                  }

                                                  else
                                                  {
                                                    if (v385 == v384)
                                                    {
                                                      goto LABEL_695;
                                                    }

                                                    v389 = 0;
                                                  }

                                                  *(v15 + 716) = v389;
LABEL_695:
                                                  if (*(v15 + 708))
                                                  {
                                                    v390 = 5;
                                                  }

                                                  else
                                                  {
                                                    v390 = 7;
                                                  }

                                                  *(v14 + 136) = v390;
                                                  if (*(v15 + 712))
                                                  {
                                                    v390 &= 3u;
                                                    *(v14 + 136) = v390;
                                                  }

                                                  if (*(v15 + 716))
                                                  {
                                                    *(v14 + 136) = v390 & 3;
                                                  }

                                                  if (*(v15 + 204))
                                                  {
LABEL_703:
                                                    v391 = v16[303];
                                                    if (v16[301])
                                                    {
                                                      *v343 = v391 & 0xFFFFFFFE;
                                                      *(v14 + 132) = *(v14 + 128);
                                                      *(v96 + 1) = 0;
                                                      v96[16] = 0;
                                                      if (!v16[302])
                                                      {
                                                        goto LABEL_718;
                                                      }
                                                    }

                                                    else
                                                    {
                                                      *v343 = v391 | 1;
                                                      v16[301] = 1;
                                                      *(v14 + 132) = 100;
                                                      *(v96 + 1) = 0;
                                                      v96[16] = 0;
                                                      if (!v16[302])
                                                      {
                                                        goto LABEL_718;
                                                      }
                                                    }

                                                    ++*v97;
                                                    ++*(v15 + 896);
                                                    goto LABEL_717;
                                                  }

                                                  if (*(v15 + 172))
                                                  {
                                                    if (!v385)
                                                    {
                                                      if (!v384)
                                                      {
LABEL_801:
                                                        v447 = *(v29 + 136);
                                                        v130 = __OFSUB__(v447, 1);
                                                        v448 = v447 - 1;
                                                        if (v448 < 0 == v130)
                                                        {
                                                          *(v29 + 136) = v448;
                                                        }

                                                        v449 = *(v15 + 692);
                                                        if (v449)
                                                        {
                                                          *(v15 + 692) = v449 - 1;
                                                        }

                                                        v450 = *(v29 + 132);
                                                        *(v29 + 132) = v450 + 1;
                                                        if (v450 >= 1)
                                                        {
                                                          v93 = *(v14 + 112);
                                                          v94 = vaddq_s32(v93, v457[1]);
                                                          *(v14 + 112) = v94;
                                                        }

                                                        goto LABEL_703;
                                                      }

LABEL_781:
                                                      if (!*(v14 + 52))
                                                      {
                                                        *(v29 + 136) = 7;
                                                      }

                                                      if (*(v14 + 68) != 2)
                                                      {
                                                        v440 = *(v29 + 136);
                                                        if (v440 >= 1)
                                                        {
                                                          *(v29 + 140) = v440;
                                                          if (v16[301] && !*(v15 + 700))
                                                          {
                                                            *(v29 + 144) += *(v29 + 96) - *(v29 + 212);
                                                          }

                                                          *(v29 + 148) = *(v29 + 144) / v440;
                                                        }
                                                      }

                                                      memset(*(v280 + 11), 1, v16[306] * v16[305]);
                                                      v280[24] = v16[306] * v16[305];
                                                      v16[429] = 0;
                                                      *(v29 + 132) = 0;
                                                      v94.i64[0] = 0x100000001;
                                                      v94.i64[1] = 0x100000001;
                                                      *(v14 + 112) = v94;
                                                      if ((*(v15 + 124) & 0x80000000) == 0 && *(v15 + 172) && !v16[430])
                                                      {
                                                        *(v15 + 696) = 1;
                                                        *(v29 + 136) = *(v29 + 164);
                                                      }

                                                      v343 = v467;
                                                      if (!*(v15 + 696))
                                                      {
                                                        *(v15 + 700) = 0;
                                                      }

                                                      v441 = *(v29 + 136);
                                                      v130 = __OFSUB__(v441, 1);
                                                      v442 = v441 - 1;
                                                      if (v442 < 0 == v130)
                                                      {
                                                        *(v29 + 136) = v442;
                                                      }

                                                      goto LABEL_703;
                                                    }

                                                    if (v16[301])
                                                    {
                                                      if (!*(v14 + 52))
                                                      {
                                                        *(v29 + 136) = 7;
                                                      }

                                                      if (*(v14 + 68) != 2)
                                                      {
                                                        v392 = *(v29 + 136);
                                                        if (v392)
                                                        {
                                                          v393 = *(v29 + 144) + *(v29 + 96);
                                                          *(v29 + 140) = v392;
                                                          *(v29 + 144) = v393;
                                                          *(v29 + 148) = v393 / v392;
                                                        }
                                                      }

                                                      memset(*(v280 + 11), 1, v16[306] * v16[305]);
                                                      v280[24] = v16[306] * v16[305];
                                                      *(v29 + 132) = 0;
                                                      v94.i64[0] = 0x100000000;
                                                      *(v15 + 696) = 0x100000000;
                                                      v343 = v467;
                                                      goto LABEL_703;
                                                    }
                                                  }

                                                  if (!v384)
                                                  {
                                                    if (v385)
                                                    {
                                                      goto LABEL_703;
                                                    }

                                                    goto LABEL_801;
                                                  }

                                                  goto LABEL_781;
                                                }

LABEL_658:
                                                *v366 = v367;
                                                v364 = v367;
                                                goto LABEL_659;
                                              }
                                            }

                                            v358 = 0;
                                            if (!v16[302])
                                            {
                                              goto LABEL_677;
                                            }

                                            goto LABEL_657;
                                          }

                                          if (v316)
                                          {
                                            v331 = v280[62];
                                            v332 = v331 / 2;
                                            extend_plane(*(v280 + 25), v280[40], v280[38], v280[39], v331, v331, v331 - v280[39] + v280[37], v331 - v280[38] + v280[36]);
                                            extend_plane(*(v280 + 26), v280[45], v280[43], v280[44], v332, v332, v332 - v280[44] + v280[42], v332 - v280[43] + v280[41]);
                                            extend_plane(*(v280 + 27), v280[45], v280[43], v280[44], v332, v332, v332 - v280[44] + v280[42], v332 - v280[43] + v280[41]);
                                            if (v16[430] || v16[432])
                                            {
                                              vp8_yv12_copy_frame_c(v280 + 36, v13 + 148688);
                                            }

                                            if (v16[429] || *v456)
                                            {
                                              vp8_yv12_copy_frame_c(v280 + 36, v13 + 148528);
                                            }

                                            v12 = v464;
                                            if (!v16[428])
                                            {
                                              goto LABEL_626;
                                            }

                                            v333 = v13 + 148368;
                                            v334 = v280 + 36;
                                          }

                                          else
                                          {
                                            vp8_yv12_copy_frame_c(*v466, v13 + 148368);
                                            vp8_yv12_copy_frame_c(*v466, v13 + 148528);
                                            v334 = *v466;
                                            v97 = v460;
                                            v333 = v13 + 148688;
                                          }

                                          vp8_yv12_copy_frame_c(v334, v333);
LABEL_626:
                                          v317 = a4;
                                          v318 = a5;
                                          if (*(v15 + 20) == 4)
                                          {
                                            vp8_yv12_copy_frame_c(*v466, v13 + 149008);
                                            v317 = a4;
                                            v318 = a5;
                                          }

                                          goto LABEL_628;
                                        }
                                      }

                                      v325 = v16[172];
                                      *(v281 + 160 * v325 + 152) |= 6u;
                                      v326 = v281 + 160 * v16[174];
                                      *(v326 + 152) &= ~2u;
                                      v327 = v281 + 160 * v16[175];
                                      *(v327 + 152) &= ~4u;
                                      v16[174] = v325;
                                      v16[175] = v325;
                                      v328 = v16[999];
                                      v280[692] = v328;
                                      v280[693] = v328;
                                      goto LABEL_604;
                                    }

LABEL_580:
                                    v314 = 0;
                                    goto LABEL_581;
                                  }
                                }
                              }

                              else
                              {
                                v473 = 1;
                              }

                              v281 = v454 + 109888;
                              if (!*(v15 + 908))
                              {
                                goto LABEL_548;
                              }

                              goto LABEL_537;
                            }

                            v245 = 250;
                          }

                          else
                          {
                            v245 = 5;
                          }

                          *(v14 + 84) = v245;
                          goto LABEL_455;
                        }
                      }

LABEL_439:
                      *(v14 + 84) = v244;
                      v243 = v244;
                      goto LABEL_440;
                    }
                  }

                  else if (v242)
                  {
                    goto LABEL_512;
                  }

                  if (!*(v15 + 140) || *(v15 + 64) != 1)
                  {
                    goto LABEL_508;
                  }

                  v246 = *(v29 + 300);
                  v247 = *(v15 + 84);
                  if (v246 >= v247 * *(v15 + 144) / 100)
                  {
                    v252 = v247 * *(v15 + 148) / 100;
                    v250 = v16[2];
                    if (v246 <= v252)
                    {
                      goto LABEL_469;
                    }

                    if (v250 <= 0)
                    {
                      v250 = 0;
                    }

                    else
                    {
                      --v250;
                    }

                    v16[2] = v250;
                    v253 = v16[3];
                    if (v253 <= 0)
                    {
                      v251 = 0;
                    }

                    else
                    {
                      v251 = v253 - 1;
                    }
                  }

                  else
                  {
                    v248 = v16[2];
                    v249 = v16[3];
                    if (v248 < 3)
                    {
                      v250 = v248 + 1;
                    }

                    else
                    {
                      v250 = 3;
                    }

                    v16[2] = v250;
                    if (v249 < 3)
                    {
                      v251 = v249 + 1;
                    }

                    else
                    {
                      v251 = 3;
                    }
                  }

                  v16[3] = v251;
LABEL_469:
                  v254 = v250 - 1;
                  if ((v250 - 1) > 2)
                  {
                    v255 = 1;
                    v256 = 1;
                  }

                  else
                  {
                    v255 = dword_273BC6A64[v254];
                    v256 = dword_273BC6A70[v254];
                  }

                  v257 = v16[3] - 1;
                  if (v257 > 2)
                  {
                    v258 = 1;
                    v259 = 1;
                  }

                  else
                  {
                    v258 = dword_273BC6A64[v257];
                    v259 = dword_273BC6A70[v257];
                  }

                  v260 = (v256 + *v15 * v255 - 1) / v256;
                  v261 = (v259 + *(v15 + 4) * v258 - 1) / v259;
                  if (*v16 != v260 || v16[1] != v261)
                  {
                    *v16 = v260;
                    v16[1] = v261;
                    vp8_alloc_compressor_data(v454);
                    v262 = *v458;
                    v264 = v16[2];
                    v263 = v16[3];
                    if (v264)
                    {
                      if (v263 == 3)
                      {
                        v265 = 9;
                      }

                      else
                      {
                        v265 = 11;
                      }

                      switch(v264)
                      {
                        case 3u:
                          v266 = 2;
                          v267 = 1;
                          goto LABEL_499;
                        case 2u:
                          v266 = 5;
                          v267 = 3;
                          goto LABEL_499;
                        case 1u:
                          v266 = 5;
                          v267 = 4;
LABEL_499:
                          v270 = v263 - 1;
                          if (v270 > 2)
                          {
                            v271 = 1;
                            v272 = 1;
                          }

                          else
                          {
                            v271 = dword_273BC6A64[v270];
                            v272 = dword_273BC6A70[v270];
                          }

                          vpx_scale_frame(v262, (v454 + 114792), *(v16 + 95), v265, v266, v267, v272, v271, 0);
                          vp8_yv12_extend_frame_borders_c(v454 + 114792);
                          v262 = v454 + 114792;
                          v12 = v464;
                          goto LABEL_503;
                      }
                    }

                    else
                    {
                      if (!v263)
                      {
LABEL_503:
                        *v466 = v262;
                        v273 = vp8_regulate_q(v454, *(v29 + 92));
                        if (*(v14 + 344))
                        {
                          if (v469[296])
                          {
                            *v96 = 0;
                          }

                          else
                          {
                            cyclic_background_refresh(v454, v273);
                          }
                        }

                        bzero(*(v14 + 372), v16[306] * v16[305]);
                        bzero(*(v14 + 380), v16[306] * v16[305]);
                        v465 = v273;
                        vp8_set_quantizer(v454, v273);
                        goto LABEL_508;
                      }

                      if (v263 == 3)
                      {
                        v265 = 9;
                      }

                      else
                      {
                        v265 = 11;
                      }
                    }

                    v267 = 1;
                    v266 = 1;
                    goto LABEL_499;
                  }

LABEL_508:
                  memcpy((v454 + 112757), &default_coef_probs, 0x420uLL);
                  *(v454 + 113813) = vp8_default_mv_context;
                  *(v454 + 113829) = unk_273BC60FA;
                  *(v454 + 113843) = 0xFEFEECCBB4944A82;
                  v476[0] = 0x100000001;
                  vp8_build_component_cost_table((v454 + 82408), (v454 + 113813), v476);
                  memcpy((v454 + 145281), (v454 + 112738), 0x459uLL);
                  memcpy((v454 + 146394), (v454 + 112738), 0x459uLL);
                  memcpy((v454 + 144168), (v454 + 112738), 0x459uLL);
                  v16[425] = 3 * v16[312] / 8;
                  if (*(v14 + 52))
                  {
                    v274 = *(v29 + 164);
                  }

                  else
                  {
                    v274 = 7;
                  }

                  v97 = v460;
                  *(v29 + 136) = v274;
                  *(v16 + 429) = 0x100000001;
                  goto LABEL_512;
              }
            }

            else
            {
              if (!v218)
              {
                goto LABEL_422;
              }

              if (v218 == 3)
              {
                v220 = 9;
              }

              else
              {
                v220 = 11;
              }
            }

            v222 = 1;
            v221 = 1;
            goto LABEL_418;
          }

LABEL_333:
          *(v13 + 132164) = v178;
          goto LABEL_334;
        }

        goto LABEL_329;
      }

      v164 = *(v13 + 132164);
      if (!v16[301])
      {
        v166 = kf_high_motion_minq[*(v13 + 132164)];
        goto LABEL_316;
      }
    }

    if (*(v15 + 248) != 1 || !v16[429] && !v16[430])
    {
      v166 = inter_minq[v164];
      *(v13 + 132172) = v166;
      if (v151 == 2)
      {
        v170 = *(v13 + 132176);
        if (v170 <= v166)
        {
          goto LABEL_330;
        }

        if (*(v13 + 132132) < *(v13 + 132020))
        {
          v170 = *(v15 + 136);
        }

        goto LABEL_329;
      }

      goto LABEL_324;
    }

    if (*(v15 + 896) < 2u)
    {
      if (v151 != 2)
      {
        goto LABEL_297;
      }
    }

    else
    {
      if (*(v13 + 132076) < v164)
      {
        v164 = *(v13 + 132076);
      }

      if (v151 != 2)
      {
LABEL_297:
        if (v163 == 2)
        {
LABEL_298:
          if (*v14 < 1001)
          {
            if (*v14 > 399)
            {
              v169 = &gf_mid_motion_minq;
            }

            else
            {
              v169 = gf_high_motion_minq;
            }
          }

          else
          {
            v169 = &gf_low_motion_minq;
          }

          v166 = v169[v164];
          *(v13 + 132172) = v166;
          if (v151 != 2)
          {
            goto LABEL_324;
          }

          v170 = (15 * v166) >> 4;
LABEL_329:
          *(v13 + 132172) = v170;
          goto LABEL_330;
        }

        goto LABEL_314;
      }
    }

    if (v164 <= *(v13 + 132176))
    {
      v164 = *(v13 + 132176);
    }

    if (v163 == 2)
    {
      goto LABEL_298;
    }

LABEL_314:
    v166 = gf_high_motion_minq[v164];
LABEL_316:
    *(v13 + 132172) = v166;
    goto LABEL_324;
  }

  v136 = v128 >= v125 >> 2 || (v134 - 1) > 1;
  if (!v136)
  {
    v134 = 2;
    goto LABEL_243;
  }

  if (v128 < v127 && v134 < 2)
  {
LABEL_238:
    v134 = 1;
    *v132 = 1;
    v140 = 2;
    v139 = 3;
    goto LABEL_244;
  }

  if (v134 >= 1)
  {
    if (v134 < 4)
    {
      v138 = 4 * v134 - 4;
      v139 = *(&unk_273BC6A4C + v138);
      v140 = *(&unk_273BC6A58 + v138);
      goto LABEL_244;
    }

    goto LABEL_245;
  }

LABEL_233:
  *(v14 + 32) = 0;
  if (vp8_pick_frame_size(v13))
  {
    goto LABEL_260;
  }

LABEL_234:
  v141 = *(v15 + 448);
  if (v141 >= 2 && *(v15 + 452) < v141 - 1)
  {
    v94.i64[0] = 0x100000001;
    **(v15 + 468) = 0x100000001;
  }

  ++*v97;
  ++*(v15 + 896);
  *v468 = 0;
LABEL_717:
  ++*(v14 + 388);
LABEL_718:
  if (*(v14 + 48) == 2)
  {
    clock_gettime(_CLOCK_MONOTONIC_RAW, &v475);
    v394 = LODWORD(v475.tv_nsec) - LODWORD(__tp.tv_nsec);
    if (v475.tv_nsec < __tp.tv_nsec)
    {
      v394 = LODWORD(v475.tv_nsec) - LODWORD(__tp.tv_nsec) + 1000000000;
    }

    v395 = v394 / 1000 + 1000000 * (LODWORD(v475.tv_sec) - LODWORD(__tp.tv_sec) + ((v475.tv_nsec - __tp.tv_nsec) >> 63));
    *v94.i64 = vcvtd_n_f64_u32(v395, 1uLL);
    v396 = *v94.i64;
    if (v16[301])
    {
      v397 = *(v14 + 36);
      if (v397)
      {
        v395 = (v395 - v397 + 8 * v397) >> 3;
      }

      *(v14 + 36) = v395;
    }

    if (v396)
    {
      v398 = *(v14 + 40);
      if (v398)
      {
        v396 = (v396 - v398 + 8 * v398) >> 3;
      }

      *(v14 + 40) = v396;
    }
  }

  v399 = v16[433];
  if (!v399)
  {
    memcpy((v13 + 112738), (v13 + 111625), 0x459uLL);
  }

  v400 = v16[430];
  if (v400)
  {
    memcpy((v13 + 145281), (v13 + 112738), 0x459uLL);
  }

  v401 = v16[429];
  if (v401)
  {
    memcpy((v13 + 146394), (v13 + 112738), 0x459uLL);
  }

  v402 = v16[428];
  if (v402)
  {
    memcpy((v13 + 144168), (v13 + 112738), 0x459uLL);
  }

  if (*v12)
  {
    v403 = 0;
    if (!(v401 | v400 | v402) && v16[301])
    {
      v403 = !*v456 && !(v16[432] | v399) && !v455[16] && !v455[1] && v455[2] == 0;
    }

    v469[33] = v403;
    v16[433] = 1;
    v16[430] = 0;
    *(v16 + 214) = 1;
    v16[301] = 1;
  }

  if (*(v15 + 248) >= 2u)
  {
    v404 = v13 + 216 * v469[296] + 149256;
    *(v404 + 8) = *(v14 + 12);
    v93 = *(v15 + 92);
    *(v404 + 16) = *(v15 + 76);
    *(v404 + 32) = v93;
    *(v404 + 48) = *(v15 + 108);
    *(v404 + 72) = *(v461 + 300);
    *(v404 + 88) = *(v461 + 332);
    *(v404 + 104) = *(v461 + 348);
    *(v404 + 120) = *(v461 + 252);
    *(v404 + 136) = *(v461 + 108);
    *(v404 + 152) = *(v461 + 124);
    v405 = *(v461 + 212);
    *(v404 + 160) = v457[18].i32[1];
    *(v404 + 164) = v405;
    *(v404 + 168) = *(v461 + 268);
    *(v404 + 176) = v16[425];
    *(v404 + 180) = vrev64_s32(*(v14 + 400));
    *(v404 + 188) = *(v14 + 132);
    *(v404 + 208) = *(v461 + 100);
    v94 = *(v13 + 103608);
    *(v404 + 192) = v94;
  }

  if (atomic_load_explicit((v14 + 444), memory_order_acquire) && *(v14 + 452))
  {
    MEMORY[0x2743DB140](*(v14 + 528));
    *(v14 + 452) = 0;
  }

  if (!v469[18] || *(v14 + 68) == 1 || !v16[302])
  {
    return 0;
  }

  v406 = v14;
  v407 = *v466;
  v408 = *(v16 + 3);
  v409 = *v16;
  v410 = v16[1];
  v411 = calc_plane_error(*(*v466 + 56), *(*v466 + 16), *(v408 + 56), *(v408 + 16), *v16, v410, *v94.i64, *v93.i64, a11, a12);
  v412 = v410 * v409;
  v413 = (v409 + 1) >> 1;
  v414 = v410 + 1;
  v415 = (v410 + 1) >> 1;
  v420 = calc_plane_error(*(v407 + 64), *(v407 + 36), *(v408 + 64), *(v408 + 36), v413, v414 >> 1, v416, v417, v418, v419);
  v421 = v415 * v413;
  v426 = calc_plane_error(*(v407 + 72), *(v407 + 36), *(v408 + 72), *(v408 + 36), v413, v415, v422, v423, v424, v425);
  v427 = v412 + 2 * v421;
  v428 = v420 + v411 + v426;
  if (v428)
  {
    v429 = log10(v427 * 255.0 * 255.0 / v428) * 10.0;
    v430 = v429 <= 100.0 ? v429 : 100.0;
  }

  else
  {
    v430 = 100.0;
  }

  if (v411)
  {
    v431 = log10(v412 * 255.0 * 255.0 / v411) * 10.0;
    v432 = v431 <= 100.0 ? v431 : 100.0;
  }

  else
  {
    v432 = 100.0;
  }

  v433 = v421;
  if (v420)
  {
    v434 = log10(v433 * 255.0 * 255.0 / v420) * 10.0;
    v435 = v434 <= 100.0 ? v434 : 100.0;
  }

  else
  {
    v435 = 100.0;
  }

  if (v426)
  {
    v436 = log10(v433 * 255.0 * 255.0 / v426) * 10.0;
    if (v436 > 100.0)
    {
      v436 = 100.0;
    }
  }

  else
  {
    v436 = 100.0;
  }

  v437 = *(v406 + 20);
  v438 = *v437;
  if (*v437 >= v437[1])
  {
    return 0;
  }

  result = 0;
  *v437 = v438 + 1;
  v439 = &v437[34 * v438];
  *(v439 + 1) = 3;
  v439[4] = v427;
  v439[5] = v412;
  v439[6] = v421;
  v439[7] = v421;
  *(v439 + 4) = v428;
  *(v439 + 5) = v411;
  *(v439 + 6) = v420;
  *(v439 + 7) = v426;
  *(v439 + 8) = v430;
  *(v439 + 9) = v432;
  *(v439 + 10) = v435;
  *(v439 + 11) = v436;
  *(v439 + 6) = 0u;
  *(v439 + 7) = 0u;
  *(v439 + 8) = 0u;
  return result;
}

uint64_t vp8_set_roimap(uint64_t a1, const void *a2, int a3, int a4, unsigned int *a5, int32x4_t *a6, _DWORD *a7)
{
  if (*(a1 + 111076) != a3)
  {
    return 0xFFFFFFFFLL;
  }

  if (*(a1 + 111080) != a4)
  {
    return 0xFFFFFFFFLL;
  }

  v7 = *a5;
  if ((v7 - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  if ((a6->i32[0] - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  v8 = a5[1];
  if ((v8 - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  v9 = a6->i32[1];
  if ((v9 - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  v10 = a5[2];
  if ((v10 - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  v11 = a6->i32[2];
  if ((v11 - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  v12 = a5[3];
  if ((v12 - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  v13 = a6->i32[3];
  if ((v13 - 64) < 0xFFFFFF81)
  {
    return 0xFFFFFFFFLL;
  }

  v15 = (a1 + 81920);
  if (!a2)
  {
    goto LABEL_24;
  }

  if (!v7)
  {
    if (v8 | a6->i32[0] | v9 | v10 | v11 | v12 | v13 || *a7 || a7[1] || a7[2] || a7[3])
    {
      goto LABEL_21;
    }

LABEL_24:
    result = 0;
    *v15 = 0;
    return result;
  }

  if ((v7 & 0x80000000) == 0)
  {
LABEL_21:
    LOBYTE(v16) = q_trans[v7];
    goto LABEL_22;
  }

  v16 = -q_trans[-v7];
LABEL_22:
  if ((v8 & 0x80000000) != 0)
  {
    v17 = -q_trans[-v8];
  }

  else
  {
    v17 = q_trans[v8];
  }

  v18 = a1 + 143048;
  if ((v10 & 0x80000000) != 0)
  {
    v19 = -q_trans[-v10];
  }

  else
  {
    v19 = q_trans[v10];
  }

  if ((v12 & 0x80000000) != 0)
  {
    v23 = -q_trans[-v12];
  }

  else
  {
    v23 = q_trans[v12];
  }

  memcpy(*v18, a2, a4 * a3);
  *(a1 + 81920) = 257;
  *(a1 + 81922) = 1;
  v24 = vmovn_s32(*a6);
  *(v18 + 16) = *a7;
  *(v18 + 20) = a7[1];
  *(v18 + 24) = a7[2];
  *(v18 + 28) = a7[3];
  v15[3] = 0;
  *(v18 + 8) = v16 | (v17 << 8) | (v19 << 16) | (v23 << 24);
  *(v18 + 12) = vuzp1_s8(v24, v24).u32[0];
  if (*a7 || a7[1] || a7[2] || a7[3])
  {
    *(a1 + 180148) = 1;
  }

  result = 0;
  *(v18 + 44) = 0;
  return result;
}

void cyclic_background_refresh(uint64_t a1, int a2)
{
  v4 = a1 + 143048;
  v5 = (a1 + 111060);
  v6 = (a1 + 81923);
  v7 = *(a1 + 143048);
  v8 = *(a1 + 143096);
  v9 = (*(a1 + 111080) * *(a1 + 111076));
  *(a1 + 143104) = a2 / 2;
  v10 = *(a1 + 114308);
  if (v10)
  {
    if (v10 == 2)
    {
      v11 = 80;
    }

    else
    {
      v11 = 100;
    }

    if (v11 <= a2)
    {
      v12 = 1717986919 * v9;
      v13 = v12 >> 63;
      v14 = v12 >> 34;
    }

    else
    {
      if (a2 <= 19 && *(a1 + 115164) >= 0xFBu && *(a1 + 82568) > (v9 * 0.95))
      {
        v8 = 0;
LABEL_13:
        *(a1 + 143096) = v8;
        goto LABEL_14;
      }

      v15 = 1717986919 * v9;
      v13 = v15 >> 63;
      v14 = v15 >> 35;
    }

    v8 = v14 + v13;
    goto LABEL_13;
  }

LABEL_14:
  bzero(v7, v9);
  if (*v5)
  {
    v16 = v8 < 1;
  }

  else
  {
    v16 = 1;
  }

  if (v16)
  {
    goto LABEL_38;
  }

  v17 = *(v4 + 52);
  do
  {
    v18 = *(v4 + 64);
    v19 = *(v18 + v17);
    if (*(v18 + v17))
    {
      if (v19 < 0)
      {
        *(v18 + v17) = v19 + 1;
      }

      if (v17 + 1 == v9)
      {
        v17 = 0;
      }

      else
      {
        ++v17;
      }

      continue;
    }

    *(v7 + v17) = 1;
    if (v17 + 1 == v9)
    {
      v17 = 0;
    }

    else
    {
      ++v17;
    }

    if (!--v8)
    {
      break;
    }
  }

  while (v17 != *(v4 + 52));
  *(v4 + 52) = v17;
  if (v5[807] < 1 || *(a1 + 149180) != 3 || *(a1 + 149232) <= a2 || *(a1 + 115164) <= (2 * *(a1 + 149236)))
  {
LABEL_38:
    v21 = 0;
    goto LABEL_39;
  }

  *(v4 + 56) = a2;
  if (v9 < 1)
  {
    v21 = 0xD80000000000;
  }

  else
  {
    for (i = 0; i != v9; ++i)
    {
      *(v7 + i) = *(a1 + 149236) < *(*(v4 + 72) + i);
      v21 = 0xD80000000000;
    }
  }

LABEL_39:
  *(a1 + 81922) = 1;
  *(a1 + 81920) = 257;
  v22 = *(v4 + 56) - a2;
  *v6 = 0;
  *(v4 + 8) = v21 | (v22 << 8);
}

uint64_t measure_square_diff_partial(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3 = *a1;
  v4 = *(a1 + 4);
  v17 = *a1 * v4;
  if (v4 < 1 || v3 < 1)
  {
    v11 = 0;
    v10 = 0;
  }

  else
  {
    v8 = 0;
    v9 = 0;
    v10 = 0;
    v11 = 0;
    v12 = *(a2 + 56);
    v13 = *(a1 + 56);
    do
    {
      if (v3 >= 1)
      {
        v18 = v9;
        v19 = v8;
        v14 = 0;
        v15 = *(a3 + 111080) * v8;
        do
        {
          if (*(*(a3 + 143120) + v15) >= 0xAu)
          {
            v20 = 0;
            v10 += vpx_mse16x16(v13 + v14, *(a1 + 16), v12 + v14, *(a2 + 16), &v20);
            ++v11;
            v3 = *a1;
          }

          v14 += 32;
          v15 += 2;
        }

        while (v14 < v3);
        v4 = *(a1 + 4);
        v9 = v18;
        v8 = v19;
      }

      v13 += 32 * *(a1 + 16);
      v12 += 32 * *(a2 + 16);
      v9 += 32;
      v8 += 2;
    }

    while (v9 < v4);
  }

  if (v11 <= v17 >> 12)
  {
    return 0;
  }

  else
  {
    return (v10 / v11);
  }
}

uint64_t process_denoiser_mode_change(uint64_t result)
{
  v1 = result + 142760;
  v2 = *(result + 114516);
  v3 = (result + 109856);
  if (*(result + 132104) >= 25.0)
  {
    v4 = 100;
  }

  else
  {
    v4 = 80;
  }

  v5 = (result + 216 * (v2 - 1) + 149264);
  if (v2 <= 1)
  {
    v5 = (result + 142760);
  }

  v30 = *v5;
  v31 = *(result + 111080) * *(result + 111076);
  v6 = *(result + 109860);
  v33 = (result + 149064);
  v32 = v4;
  if (v6 < 1 || (v7 = *v3, *v3 < 1))
  {
    v10 = 0;
    v37 = 0;
  }

  else
  {
    v8 = 0;
    v9 = 0;
    v37 = 0;
    v10 = 0;
    v11 = 0xC / v2;
    v12 = *(result + 114776);
    v13 = *(v12 + 16);
    v34 = 32 * v13;
    v14 = *(v12 + 56);
    v15 = *(result + 149064);
    do
    {
      if (v7 >= 1)
      {
        v35 = v9;
        v36 = v8;
        v16 = 0;
        v17 = v3[306] * v8;
        do
        {
          if (v11 <= *(*(v1 + 360) + v17))
          {
            v39 = 0;
            result = vpx_variance16x16(v14 + v16, v13, v15 + v16, v13, &v39);
            if (v39 - result <= 0x7F)
            {
              v38 = 0;
              result = vpx_variance16x16(v14 + v16, v13, &process_denoiser_mode_change_const_source, 0, &v38);
              if (result)
              {
                v37 += v39 / result;
              }

              ++v10;
            }

            v7 = *v3;
          }

          v16 += 32;
          v17 += 2;
        }

        while (v16 < v7);
        v6 = v3[1];
        v9 = v35;
        v8 = v36;
      }

      v14 += v34;
      v15 += v34;
      v9 += 32;
      v8 += 2;
    }

    while (v9 < v6);
  }

  if (v37 * v32 < 100 || v10 <= v31 >> 4)
  {
    v19 = v33;
    if (v33[32] != 20)
    {
      return result;
    }

LABEL_32:
    v25 = v19[29];
    if (v25 == 3)
    {
      v26 = 100;
      v27 = xmmword_273BC62E0;
      if (v19[31] >= v19[30] && v19[33] <= v19[35] && v30 >= v19[36])
      {
        goto LABEL_43;
      }

      v28 = -1;
      v29 = 2;
    }

    else
    {
      if (v25 != 2 || v19[31] <= v19[30] || v19[33] >= v19[34] || v30 <= v19[36])
      {
        goto LABEL_43;
      }

      v26 = 0x500000004BLL;
      v27 = xmmword_273BC6300;
      v28 = 15;
      v29 = 3;
    }

    v19[29] = v29;
    *(v19 + 37) = v27;
    *(v19 + 41) = v26;
    v19[43] = v28;
    v19[44] = 0;
LABEL_43:
    *(v19 + 16) = 0;
    v19[31] = 0;
    return result;
  }

  v19 = v33;
  v20 = v33[32];
  v21 = ((8 * ((1374389535 * (v37 * v32)) >> 32)) & 0xFFFFFF00) / v10;
  if (!v20)
  {
    v33[31] = v21;
    v24 = v3[312];
    v33[32] = 1;
    v33[33] = v24;
    return result;
  }

  v33[31] = (3 * v33[31] + v21) >> 2;
  v22 = (3 * v33[33] + v3[312]) >> 2;
  v23 = v20 + 1;
  v33[32] = v23;
  v33[33] = v22;
  if (v23 == 20)
  {
    goto LABEL_32;
  }

  return result;
}

uint64_t calc_plane_error(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, double a7, double a8, int32x4_t a9, int64x2_t a10)
{
  v10 = a5;
  v12 = a2;
  if (a6 < 0x10)
  {
    v14 = 0;
    v15 = 0;
    goto LABEL_40;
  }

  v609 = 16 * a4;
  v610 = 16 * a2;
  if (a5 >= 0x10)
  {
    v15 = 0;
    v87 = a5;
    v601 = 4 * a4;
    v602 = 4 * a2;
    v597 = 6 * a4;
    v598 = 6 * a2;
    v595 = 7 * a2;
    v596 = 8 * a2;
    v592 = 9 * a2;
    v593 = 7 * a4;
    v594 = 8 * a4;
    v591 = 9 * a4;
    v600 = 5 * a2;
    v590 = 10 * a2;
    v588 = 11 * a4;
    v589 = 11 * a2;
    v586 = 13 * a4;
    v587 = 13 * a2;
    v606 = 2 * a2;
    v585 = 14 * a2;
    v605 = 2 * a4;
    v584 = 14 * a4;
    v608 = a2;
    v583 = 15 * a2;
    v607 = a4;
    v582 = 15 * a4;
    v599 = 5 * a4;
    v581 = 10 * a4;
    v604 = 3 * a2;
    v580 = 12 * a2;
    v603 = 3 * a4;
    v579 = 12 * a4;
    v88 = 16;
    v577 = (a5 & 0xF) - a5;
    v578 = a5 & 3;
    v575 = a5 & 0xF;
    v576 = v578 - a5;
    while (1)
    {
      v89 = 0;
      v612 = v88;
      v90 = 16;
      do
      {
        v91 = v90;
        v614[0] = 0;
        v92 = v12;
        v93 = v10;
        v94 = v12;
        v95 = a4;
        vpx_mse16x16(a1 + v89, v92, a3 + v89, a4, v614);
        a4 = v95;
        v12 = v94;
        v10 = v93;
        v15 += v614[0];
        v96 = v89 + 16;
        v97 = v89 + 32;
        v90 = v91 + 16;
        v89 += 16;
      }

      while (v97 <= v93);
      if (v96 < v93)
      {
        break;
      }

      v14 = v612;
LABEL_59:
      a1 += v610;
      a3 += v609;
      v88 = v14 + 16;
      if (v14 + 16 > a6)
      {
        goto LABEL_40;
      }
    }

    v98 = v87 - v96;
    if ((v87 - v96) < 4)
    {
      v99 = v96;
      v14 = v612;
      v100 = v576;
      goto LABEL_75;
    }

    v100 = v576;
    if (v98 >= 0x10)
    {
      v101 = v98 - v575;
      v102 = 0uLL;
      v103 = v15;
      v104 = v91;
      v105 = v577 + v91;
      v106 = 0uLL;
      v107 = 0uLL;
      v108 = 0uLL;
      v109 = 0uLL;
      v110 = 0uLL;
      v111 = 0uLL;
      v14 = v612;
      do
      {
        v112 = *(a1 + v104);
        v113 = *(a3 + v104);
        v114 = vsubl_u8(*v112.i8, *v113.i8);
        v115 = vsubl_high_u8(v112, v113);
        v116 = vmull_s16(*v115.i8, *v115.i8);
        v117 = vmull_high_s16(v114, v114);
        v118 = vmull_high_s16(v115, v115);
        v119 = vmull_s16(*v114.i8, *v114.i8);
        v107 = vaddw_high_u32(v107, v117);
        v109 = vaddw_high_u32(v109, v116);
        v108 = vaddw_u32(v108, *v116.i8);
        v106 = vaddw_u32(v106, *v117.i8);
        v102 = vaddw_high_u32(v102, v119);
        v110 = vaddw_u32(v110, *v118.i8);
        v103 = vaddw_u32(v103, *v119.i8);
        v111 = vaddw_high_u32(v111, v118);
        v104 += 16;
        v105 += 16;
      }

      while (v105);
      a10 = vaddq_s64(v106, v110);
      a9 = vaddq_s64(v107, v111);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v103, v108), a10), vaddq_s64(vaddq_s64(v102, v109), a9)));
      if (!v575)
      {
        goto LABEL_76;
      }

      if (v575 < 4)
      {
        v99 = v101 + v96;
        do
        {
LABEL_75:
          v15 += (*(a1 + v99) - *(a3 + v99)) * (*(a1 + v99) - *(a3 + v99));
          ++v99;
        }

        while (v87 != v99);
        goto LABEL_76;
      }
    }

    else
    {
      v101 = 0;
      v14 = v612;
    }

    v99 = v87 - v578;
    v120 = 0uLL;
    v121 = v15;
    v122 = v101 + v91;
    v123 = v122 + v576;
    do
    {
      a9.i32[0] = *(a1 + v122);
      a10.i32[0] = *(a3 + v122);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v124 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v124, v124);
      v120 = vaddw_high_u32(v120, a9);
      v121 = vaddw_u32(v121, *a9.i8);
      v122 += 4;
      v123 += 4;
    }

    while (v123);
    v15 = vaddvq_s64(vaddq_s64(v121, v120));
    if (v578)
    {
      goto LABEL_75;
    }

LABEL_76:
    if (v98 < 4)
    {
      v125 = v96;
      goto LABEL_88;
    }

    if (v98 >= 0x10)
    {
      v126 = v98 - v575;
      v127 = 0uLL;
      v128 = v15;
      v129 = v577 + v91;
      v130 = v608 + v91;
      v131 = v607 + v91;
      v132 = 0uLL;
      v133 = 0uLL;
      v134 = 0uLL;
      v135 = 0uLL;
      v136 = 0uLL;
      v137 = 0uLL;
      do
      {
        v138 = *(a1 + v130);
        v139 = *(a3 + v131);
        v140 = vsubl_u8(*v138.i8, *v139.i8);
        v141 = vsubl_high_u8(v138, v139);
        v142 = vmull_s16(*v141.i8, *v141.i8);
        v143 = vmull_high_s16(v140, v140);
        v144 = vmull_high_s16(v141, v141);
        v145 = vmull_s16(*v140.i8, *v140.i8);
        v133 = vaddw_high_u32(v133, v143);
        v135 = vaddw_high_u32(v135, v142);
        v134 = vaddw_u32(v134, *v142.i8);
        v132 = vaddw_u32(v132, *v143.i8);
        v127 = vaddw_high_u32(v127, v145);
        v136 = vaddw_u32(v136, *v144.i8);
        v128 = vaddw_u32(v128, *v145.i8);
        v137 = vaddw_high_u32(v137, v144);
        v130 += 16;
        v131 += 16;
        v129 += 16;
      }

      while (v129);
      a10 = vaddq_s64(v132, v136);
      a9 = vaddq_s64(v133, v137);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v128, v134), a10), vaddq_s64(vaddq_s64(v127, v135), a9)));
      if (!v575)
      {
        goto LABEL_90;
      }

      if (v575 < 4)
      {
        v125 = v126 + v96;
LABEL_88:
        v152 = v87 - v125;
        v153 = v607 + v125;
        v154 = v608 + v125;
        do
        {
          v15 += (*(a1 + v154) - *(a3 + v153)) * (*(a1 + v154) - *(a3 + v153));
          ++v153;
          ++v154;
          --v152;
        }

        while (v152);
        goto LABEL_90;
      }
    }

    else
    {
      v126 = 0;
    }

    v125 = v87 - v578;
    v146 = 0uLL;
    v147 = v15;
    v148 = v100 + v126 + v91;
    v149 = v608 + v126 + v91;
    v150 = v607 + v126 + v91;
    do
    {
      a9.i32[0] = *(a1 + v149);
      a10.i32[0] = *(a3 + v150);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v151 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v151, v151);
      v146 = vaddw_high_u32(v146, a9);
      v147 = vaddw_u32(v147, *a9.i8);
      v149 += 4;
      v150 += 4;
      v148 += 4;
    }

    while (v148);
    v15 = vaddvq_s64(vaddq_s64(v147, v146));
    if (v578)
    {
      goto LABEL_88;
    }

LABEL_90:
    if (v98 < 4)
    {
      v155 = v96;
      goto LABEL_102;
    }

    if (v98 >= 0x10)
    {
      v156 = v98 - v575;
      v157 = 0uLL;
      v158 = v15;
      v159 = v577 + v91;
      v160 = v606 + v91;
      v161 = v605 + v91;
      v162 = 0uLL;
      v163 = 0uLL;
      v164 = 0uLL;
      v165 = 0uLL;
      v166 = 0uLL;
      v167 = 0uLL;
      do
      {
        v168 = *(a1 + v160);
        v169 = *(a3 + v161);
        v170 = vsubl_u8(*v168.i8, *v169.i8);
        v171 = vsubl_high_u8(v168, v169);
        v172 = vmull_s16(*v171.i8, *v171.i8);
        v173 = vmull_high_s16(v170, v170);
        v174 = vmull_high_s16(v171, v171);
        v175 = vmull_s16(*v170.i8, *v170.i8);
        v163 = vaddw_high_u32(v163, v173);
        v165 = vaddw_high_u32(v165, v172);
        v164 = vaddw_u32(v164, *v172.i8);
        v162 = vaddw_u32(v162, *v173.i8);
        v157 = vaddw_high_u32(v157, v175);
        v166 = vaddw_u32(v166, *v174.i8);
        v158 = vaddw_u32(v158, *v175.i8);
        v167 = vaddw_high_u32(v167, v174);
        v160 += 16;
        v161 += 16;
        v159 += 16;
      }

      while (v159);
      a10 = vaddq_s64(v162, v166);
      a9 = vaddq_s64(v163, v167);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v158, v164), a10), vaddq_s64(vaddq_s64(v157, v165), a9)));
      if (!v575)
      {
        goto LABEL_104;
      }

      if (v575 < 4)
      {
        v155 = v156 + v96;
LABEL_102:
        v182 = v87 - v155;
        v183 = v605 + v155;
        v184 = v606 + v155;
        do
        {
          v15 += (*(a1 + v184) - *(a3 + v183)) * (*(a1 + v184) - *(a3 + v183));
          ++v183;
          ++v184;
          --v182;
        }

        while (v182);
        goto LABEL_104;
      }
    }

    else
    {
      v156 = 0;
    }

    v155 = v87 - v578;
    v176 = 0uLL;
    v177 = v15;
    v178 = v100 + v156 + v91;
    v179 = v606 + v156 + v91;
    v180 = v605 + v156 + v91;
    do
    {
      a9.i32[0] = *(a1 + v179);
      a10.i32[0] = *(a3 + v180);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v181 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v181, v181);
      v176 = vaddw_high_u32(v176, a9);
      v177 = vaddw_u32(v177, *a9.i8);
      v179 += 4;
      v180 += 4;
      v178 += 4;
    }

    while (v178);
    v15 = vaddvq_s64(vaddq_s64(v177, v176));
    if (v578)
    {
      goto LABEL_102;
    }

LABEL_104:
    if (v98 < 4)
    {
      v185 = v96;
      goto LABEL_116;
    }

    if (v98 >= 0x10)
    {
      v186 = v98 - v575;
      v187 = 0uLL;
      v188 = v15;
      v189 = v577 + v91;
      v190 = v604 + v91;
      v191 = v603 + v91;
      v192 = 0uLL;
      v193 = 0uLL;
      v194 = 0uLL;
      v195 = 0uLL;
      v196 = 0uLL;
      v197 = 0uLL;
      do
      {
        v198 = *(a1 + v190);
        v199 = *(a3 + v191);
        v200 = vsubl_u8(*v198.i8, *v199.i8);
        v201 = vsubl_high_u8(v198, v199);
        v202 = vmull_s16(*v201.i8, *v201.i8);
        v203 = vmull_high_s16(v200, v200);
        v204 = vmull_high_s16(v201, v201);
        v205 = vmull_s16(*v200.i8, *v200.i8);
        v193 = vaddw_high_u32(v193, v203);
        v195 = vaddw_high_u32(v195, v202);
        v194 = vaddw_u32(v194, *v202.i8);
        v192 = vaddw_u32(v192, *v203.i8);
        v187 = vaddw_high_u32(v187, v205);
        v196 = vaddw_u32(v196, *v204.i8);
        v188 = vaddw_u32(v188, *v205.i8);
        v197 = vaddw_high_u32(v197, v204);
        v190 += 16;
        v191 += 16;
        v189 += 16;
      }

      while (v189);
      a10 = vaddq_s64(v192, v196);
      a9 = vaddq_s64(v193, v197);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v188, v194), a10), vaddq_s64(vaddq_s64(v187, v195), a9)));
      if (!v575)
      {
        goto LABEL_118;
      }

      if (v575 < 4)
      {
        v185 = v186 + v96;
LABEL_116:
        v212 = v87 - v185;
        v213 = v603 + v185;
        v214 = v604 + v185;
        do
        {
          v15 += (*(a1 + v214) - *(a3 + v213)) * (*(a1 + v214) - *(a3 + v213));
          ++v213;
          ++v214;
          --v212;
        }

        while (v212);
        goto LABEL_118;
      }
    }

    else
    {
      v186 = 0;
    }

    v185 = v87 - v578;
    v206 = 0uLL;
    v207 = v15;
    v208 = v100 + v186 + v91;
    v209 = v604 + v186 + v91;
    v210 = v603 + v186 + v91;
    do
    {
      a9.i32[0] = *(a1 + v209);
      a10.i32[0] = *(a3 + v210);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v211 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v211, v211);
      v206 = vaddw_high_u32(v206, a9);
      v207 = vaddw_u32(v207, *a9.i8);
      v209 += 4;
      v210 += 4;
      v208 += 4;
    }

    while (v208);
    v15 = vaddvq_s64(vaddq_s64(v207, v206));
    if (v578)
    {
      goto LABEL_116;
    }

LABEL_118:
    if (v98 < 4)
    {
      v215 = v96;
      goto LABEL_130;
    }

    if (v98 >= 0x10)
    {
      v216 = v98 - v575;
      v217 = 0uLL;
      v218 = v15;
      v219 = v577 + v91;
      v220 = v602 + v91;
      v221 = v601 + v91;
      v222 = 0uLL;
      v223 = 0uLL;
      v224 = 0uLL;
      v225 = 0uLL;
      v226 = 0uLL;
      v227 = 0uLL;
      do
      {
        v228 = *(a1 + v220);
        v229 = *(a3 + v221);
        v230 = vsubl_u8(*v228.i8, *v229.i8);
        v231 = vsubl_high_u8(v228, v229);
        v232 = vmull_s16(*v231.i8, *v231.i8);
        v233 = vmull_high_s16(v230, v230);
        v234 = vmull_high_s16(v231, v231);
        v235 = vmull_s16(*v230.i8, *v230.i8);
        v223 = vaddw_high_u32(v223, v233);
        v225 = vaddw_high_u32(v225, v232);
        v224 = vaddw_u32(v224, *v232.i8);
        v222 = vaddw_u32(v222, *v233.i8);
        v217 = vaddw_high_u32(v217, v235);
        v226 = vaddw_u32(v226, *v234.i8);
        v218 = vaddw_u32(v218, *v235.i8);
        v227 = vaddw_high_u32(v227, v234);
        v220 += 16;
        v221 += 16;
        v219 += 16;
      }

      while (v219);
      a10 = vaddq_s64(v222, v226);
      a9 = vaddq_s64(v223, v227);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v218, v224), a10), vaddq_s64(vaddq_s64(v217, v225), a9)));
      if (!v575)
      {
        goto LABEL_132;
      }

      if (v575 < 4)
      {
        v215 = v216 + v96;
LABEL_130:
        v242 = v87 - v215;
        v243 = v601 + v215;
        v244 = v602 + v215;
        do
        {
          v15 += (*(a1 + v244) - *(a3 + v243)) * (*(a1 + v244) - *(a3 + v243));
          ++v243;
          ++v244;
          --v242;
        }

        while (v242);
        goto LABEL_132;
      }
    }

    else
    {
      v216 = 0;
    }

    v215 = v87 - v578;
    v236 = 0uLL;
    v237 = v15;
    v238 = v100 + v216 + v91;
    v239 = v602 + v216 + v91;
    v240 = v601 + v216 + v91;
    do
    {
      a9.i32[0] = *(a1 + v239);
      a10.i32[0] = *(a3 + v240);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v241 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v241, v241);
      v236 = vaddw_high_u32(v236, a9);
      v237 = vaddw_u32(v237, *a9.i8);
      v239 += 4;
      v240 += 4;
      v238 += 4;
    }

    while (v238);
    v15 = vaddvq_s64(vaddq_s64(v237, v236));
    if (v578)
    {
      goto LABEL_130;
    }

LABEL_132:
    if (v98 < 4)
    {
      v245 = v96;
      goto LABEL_144;
    }

    if (v98 >= 0x10)
    {
      v246 = v98 - v575;
      v247 = 0uLL;
      v248 = v15;
      v249 = v577 + v91;
      v250 = v600 + v91;
      v251 = v599 + v91;
      v252 = 0uLL;
      v253 = 0uLL;
      v254 = 0uLL;
      v255 = 0uLL;
      v256 = 0uLL;
      v257 = 0uLL;
      do
      {
        v258 = *(a1 + v250);
        v259 = *(a3 + v251);
        v260 = vsubl_u8(*v258.i8, *v259.i8);
        v261 = vsubl_high_u8(v258, v259);
        v262 = vmull_s16(*v261.i8, *v261.i8);
        v263 = vmull_high_s16(v260, v260);
        v264 = vmull_high_s16(v261, v261);
        v265 = vmull_s16(*v260.i8, *v260.i8);
        v253 = vaddw_high_u32(v253, v263);
        v255 = vaddw_high_u32(v255, v262);
        v254 = vaddw_u32(v254, *v262.i8);
        v252 = vaddw_u32(v252, *v263.i8);
        v247 = vaddw_high_u32(v247, v265);
        v256 = vaddw_u32(v256, *v264.i8);
        v248 = vaddw_u32(v248, *v265.i8);
        v257 = vaddw_high_u32(v257, v264);
        v250 += 16;
        v251 += 16;
        v249 += 16;
      }

      while (v249);
      a10 = vaddq_s64(v252, v256);
      a9 = vaddq_s64(v253, v257);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v248, v254), a10), vaddq_s64(vaddq_s64(v247, v255), a9)));
      if (!v575)
      {
        goto LABEL_146;
      }

      if (v575 < 4)
      {
        v245 = v246 + v96;
LABEL_144:
        v272 = v87 - v245;
        v273 = v599 + v245;
        v274 = v600 + v245;
        do
        {
          v15 += (*(a1 + v274) - *(a3 + v273)) * (*(a1 + v274) - *(a3 + v273));
          ++v273;
          ++v274;
          --v272;
        }

        while (v272);
        goto LABEL_146;
      }
    }

    else
    {
      v246 = 0;
    }

    v245 = v87 - v578;
    v266 = 0uLL;
    v267 = v15;
    v268 = v100 + v246 + v91;
    v269 = v600 + v246 + v91;
    v270 = v599 + v246 + v91;
    do
    {
      a9.i32[0] = *(a1 + v269);
      a10.i32[0] = *(a3 + v270);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v271 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v271, v271);
      v266 = vaddw_high_u32(v266, a9);
      v267 = vaddw_u32(v267, *a9.i8);
      v269 += 4;
      v270 += 4;
      v268 += 4;
    }

    while (v268);
    v15 = vaddvq_s64(vaddq_s64(v267, v266));
    if (v578)
    {
      goto LABEL_144;
    }

LABEL_146:
    if (v98 < 4)
    {
      v275 = v96;
      goto LABEL_158;
    }

    if (v98 >= 0x10)
    {
      v276 = v98 - v575;
      v277 = 0uLL;
      v278 = v15;
      v279 = v577 + v91;
      v280 = v598 + v91;
      v281 = v597 + v91;
      v282 = 0uLL;
      v283 = 0uLL;
      v284 = 0uLL;
      v285 = 0uLL;
      v286 = 0uLL;
      v287 = 0uLL;
      do
      {
        v288 = *(a1 + v280);
        v289 = *(a3 + v281);
        v290 = vsubl_u8(*v288.i8, *v289.i8);
        v291 = vsubl_high_u8(v288, v289);
        v292 = vmull_s16(*v291.i8, *v291.i8);
        v293 = vmull_high_s16(v290, v290);
        v294 = vmull_high_s16(v291, v291);
        v295 = vmull_s16(*v290.i8, *v290.i8);
        v283 = vaddw_high_u32(v283, v293);
        v285 = vaddw_high_u32(v285, v292);
        v284 = vaddw_u32(v284, *v292.i8);
        v282 = vaddw_u32(v282, *v293.i8);
        v277 = vaddw_high_u32(v277, v295);
        v286 = vaddw_u32(v286, *v294.i8);
        v278 = vaddw_u32(v278, *v295.i8);
        v287 = vaddw_high_u32(v287, v294);
        v280 += 16;
        v281 += 16;
        v279 += 16;
      }

      while (v279);
      a10 = vaddq_s64(v282, v286);
      a9 = vaddq_s64(v283, v287);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v278, v284), a10), vaddq_s64(vaddq_s64(v277, v285), a9)));
      if (!v575)
      {
        goto LABEL_160;
      }

      if (v575 < 4)
      {
        v275 = v276 + v96;
LABEL_158:
        v302 = v87 - v275;
        v303 = v597 + v275;
        v304 = v598 + v275;
        do
        {
          v15 += (*(a1 + v304) - *(a3 + v303)) * (*(a1 + v304) - *(a3 + v303));
          ++v303;
          ++v304;
          --v302;
        }

        while (v302);
        goto LABEL_160;
      }
    }

    else
    {
      v276 = 0;
    }

    v275 = v87 - v578;
    v296 = 0uLL;
    v297 = v15;
    v298 = v100 + v276 + v91;
    v299 = v598 + v276 + v91;
    v300 = v597 + v276 + v91;
    do
    {
      a9.i32[0] = *(a1 + v299);
      a10.i32[0] = *(a3 + v300);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v301 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v301, v301);
      v296 = vaddw_high_u32(v296, a9);
      v297 = vaddw_u32(v297, *a9.i8);
      v299 += 4;
      v300 += 4;
      v298 += 4;
    }

    while (v298);
    v15 = vaddvq_s64(vaddq_s64(v297, v296));
    if (v578)
    {
      goto LABEL_158;
    }

LABEL_160:
    if (v98 < 4)
    {
      v305 = v96;
      goto LABEL_172;
    }

    if (v98 >= 0x10)
    {
      v306 = v98 - v575;
      v307 = 0uLL;
      v308 = v15;
      v309 = v577 + v91;
      v310 = v595 + v91;
      v311 = v593 + v91;
      v312 = 0uLL;
      v313 = 0uLL;
      v314 = 0uLL;
      v315 = 0uLL;
      v316 = 0uLL;
      v317 = 0uLL;
      do
      {
        v318 = *(a1 + v310);
        v319 = *(a3 + v311);
        v320 = vsubl_u8(*v318.i8, *v319.i8);
        v321 = vsubl_high_u8(v318, v319);
        v322 = vmull_s16(*v321.i8, *v321.i8);
        v323 = vmull_high_s16(v320, v320);
        v324 = vmull_high_s16(v321, v321);
        v325 = vmull_s16(*v320.i8, *v320.i8);
        v313 = vaddw_high_u32(v313, v323);
        v315 = vaddw_high_u32(v315, v322);
        v314 = vaddw_u32(v314, *v322.i8);
        v312 = vaddw_u32(v312, *v323.i8);
        v307 = vaddw_high_u32(v307, v325);
        v316 = vaddw_u32(v316, *v324.i8);
        v308 = vaddw_u32(v308, *v325.i8);
        v317 = vaddw_high_u32(v317, v324);
        v310 += 16;
        v311 += 16;
        v309 += 16;
      }

      while (v309);
      a10 = vaddq_s64(v312, v316);
      a9 = vaddq_s64(v313, v317);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v308, v314), a10), vaddq_s64(vaddq_s64(v307, v315), a9)));
      if (!v575)
      {
        goto LABEL_174;
      }

      if (v575 < 4)
      {
        v305 = v306 + v96;
LABEL_172:
        v332 = v87 - v305;
        v333 = v593 + v305;
        v334 = v595 + v305;
        do
        {
          v15 += (*(a1 + v334) - *(a3 + v333)) * (*(a1 + v334) - *(a3 + v333));
          ++v333;
          ++v334;
          --v332;
        }

        while (v332);
        goto LABEL_174;
      }
    }

    else
    {
      v306 = 0;
    }

    v305 = v87 - v578;
    v326 = 0uLL;
    v327 = v15;
    v328 = v100 + v306 + v91;
    v329 = v595 + v306 + v91;
    v330 = v593 + v306 + v91;
    do
    {
      a9.i32[0] = *(a1 + v329);
      a10.i32[0] = *(a3 + v330);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v331 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v331, v331);
      v326 = vaddw_high_u32(v326, a9);
      v327 = vaddw_u32(v327, *a9.i8);
      v329 += 4;
      v330 += 4;
      v328 += 4;
    }

    while (v328);
    v15 = vaddvq_s64(vaddq_s64(v327, v326));
    if (v578)
    {
      goto LABEL_172;
    }

LABEL_174:
    if (v98 < 4)
    {
      v335 = v96;
      goto LABEL_186;
    }

    if (v98 >= 0x10)
    {
      v336 = v98 - v575;
      v337 = 0uLL;
      v338 = v15;
      v339 = v577 + v91;
      v340 = v596 + v91;
      v341 = v594 + v91;
      v342 = 0uLL;
      v343 = 0uLL;
      v344 = 0uLL;
      v345 = 0uLL;
      v346 = 0uLL;
      v347 = 0uLL;
      do
      {
        v348 = *(a1 + v340);
        v349 = *(a3 + v341);
        v350 = vsubl_u8(*v348.i8, *v349.i8);
        v351 = vsubl_high_u8(v348, v349);
        v352 = vmull_s16(*v351.i8, *v351.i8);
        v353 = vmull_high_s16(v350, v350);
        v354 = vmull_high_s16(v351, v351);
        v355 = vmull_s16(*v350.i8, *v350.i8);
        v343 = vaddw_high_u32(v343, v353);
        v345 = vaddw_high_u32(v345, v352);
        v344 = vaddw_u32(v344, *v352.i8);
        v342 = vaddw_u32(v342, *v353.i8);
        v337 = vaddw_high_u32(v337, v355);
        v346 = vaddw_u32(v346, *v354.i8);
        v338 = vaddw_u32(v338, *v355.i8);
        v347 = vaddw_high_u32(v347, v354);
        v340 += 16;
        v341 += 16;
        v339 += 16;
      }

      while (v339);
      a10 = vaddq_s64(v342, v346);
      a9 = vaddq_s64(v343, v347);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v338, v344), a10), vaddq_s64(vaddq_s64(v337, v345), a9)));
      if (!v575)
      {
        goto LABEL_188;
      }

      if (v575 < 4)
      {
        v335 = v336 + v96;
LABEL_186:
        v362 = v87 - v335;
        v363 = v594 + v335;
        v364 = v596 + v335;
        do
        {
          v15 += (*(a1 + v364) - *(a3 + v363)) * (*(a1 + v364) - *(a3 + v363));
          ++v363;
          ++v364;
          --v362;
        }

        while (v362);
        goto LABEL_188;
      }
    }

    else
    {
      v336 = 0;
    }

    v335 = v87 - v578;
    v356 = 0uLL;
    v357 = v15;
    v358 = v100 + v336 + v91;
    v359 = v596 + v336 + v91;
    v360 = v594 + v336 + v91;
    do
    {
      a9.i32[0] = *(a1 + v359);
      a10.i32[0] = *(a3 + v360);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v361 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v361, v361);
      v356 = vaddw_high_u32(v356, a9);
      v357 = vaddw_u32(v357, *a9.i8);
      v359 += 4;
      v360 += 4;
      v358 += 4;
    }

    while (v358);
    v15 = vaddvq_s64(vaddq_s64(v357, v356));
    if (v578)
    {
      goto LABEL_186;
    }

LABEL_188:
    if (v98 < 4)
    {
      v365 = v96;
      goto LABEL_200;
    }

    if (v98 >= 0x10)
    {
      v366 = v98 - v575;
      v367 = 0uLL;
      v368 = v15;
      v369 = v577 + v91;
      v370 = v592 + v91;
      v371 = v591 + v91;
      v372 = 0uLL;
      v373 = 0uLL;
      v374 = 0uLL;
      v375 = 0uLL;
      v376 = 0uLL;
      v377 = 0uLL;
      do
      {
        v378 = *(a1 + v370);
        v379 = *(a3 + v371);
        v380 = vsubl_u8(*v378.i8, *v379.i8);
        v381 = vsubl_high_u8(v378, v379);
        v382 = vmull_s16(*v381.i8, *v381.i8);
        v383 = vmull_high_s16(v380, v380);
        v384 = vmull_high_s16(v381, v381);
        v385 = vmull_s16(*v380.i8, *v380.i8);
        v373 = vaddw_high_u32(v373, v383);
        v375 = vaddw_high_u32(v375, v382);
        v374 = vaddw_u32(v374, *v382.i8);
        v372 = vaddw_u32(v372, *v383.i8);
        v367 = vaddw_high_u32(v367, v385);
        v376 = vaddw_u32(v376, *v384.i8);
        v368 = vaddw_u32(v368, *v385.i8);
        v377 = vaddw_high_u32(v377, v384);
        v370 += 16;
        v371 += 16;
        v369 += 16;
      }

      while (v369);
      a10 = vaddq_s64(v372, v376);
      a9 = vaddq_s64(v373, v377);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v368, v374), a10), vaddq_s64(vaddq_s64(v367, v375), a9)));
      if (!v575)
      {
        goto LABEL_202;
      }

      if (v575 < 4)
      {
        v365 = v366 + v96;
LABEL_200:
        v392 = v87 - v365;
        v393 = v591 + v365;
        v394 = v592 + v365;
        do
        {
          v15 += (*(a1 + v394) - *(a3 + v393)) * (*(a1 + v394) - *(a3 + v393));
          ++v393;
          ++v394;
          --v392;
        }

        while (v392);
        goto LABEL_202;
      }
    }

    else
    {
      v366 = 0;
    }

    v365 = v87 - v578;
    v386 = 0uLL;
    v387 = v15;
    v388 = v100 + v366 + v91;
    v389 = v592 + v366 + v91;
    v390 = v591 + v366 + v91;
    do
    {
      a9.i32[0] = *(a1 + v389);
      a10.i32[0] = *(a3 + v390);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v391 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v391, v391);
      v386 = vaddw_high_u32(v386, a9);
      v387 = vaddw_u32(v387, *a9.i8);
      v389 += 4;
      v390 += 4;
      v388 += 4;
    }

    while (v388);
    v15 = vaddvq_s64(vaddq_s64(v387, v386));
    if (v578)
    {
      goto LABEL_200;
    }

LABEL_202:
    if (v98 < 4)
    {
      v395 = v96;
      goto LABEL_214;
    }

    if (v98 >= 0x10)
    {
      v396 = v98 - v575;
      v397 = 0uLL;
      v398 = v15;
      v399 = v577 + v91;
      v400 = v590 + v91;
      v401 = v581 + v91;
      v402 = 0uLL;
      v403 = 0uLL;
      v404 = 0uLL;
      v405 = 0uLL;
      v406 = 0uLL;
      v407 = 0uLL;
      do
      {
        v408 = *(a1 + v400);
        v409 = *(a3 + v401);
        v410 = vsubl_u8(*v408.i8, *v409.i8);
        v411 = vsubl_high_u8(v408, v409);
        v412 = vmull_s16(*v411.i8, *v411.i8);
        v413 = vmull_high_s16(v410, v410);
        v414 = vmull_high_s16(v411, v411);
        v415 = vmull_s16(*v410.i8, *v410.i8);
        v403 = vaddw_high_u32(v403, v413);
        v405 = vaddw_high_u32(v405, v412);
        v404 = vaddw_u32(v404, *v412.i8);
        v402 = vaddw_u32(v402, *v413.i8);
        v397 = vaddw_high_u32(v397, v415);
        v406 = vaddw_u32(v406, *v414.i8);
        v398 = vaddw_u32(v398, *v415.i8);
        v407 = vaddw_high_u32(v407, v414);
        v400 += 16;
        v401 += 16;
        v399 += 16;
      }

      while (v399);
      a10 = vaddq_s64(v402, v406);
      a9 = vaddq_s64(v403, v407);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v398, v404), a10), vaddq_s64(vaddq_s64(v397, v405), a9)));
      if (!v575)
      {
        goto LABEL_216;
      }

      if (v575 < 4)
      {
        v395 = v396 + v96;
LABEL_214:
        v422 = v87 - v395;
        v423 = v581 + v395;
        v424 = v590 + v395;
        do
        {
          v15 += (*(a1 + v424) - *(a3 + v423)) * (*(a1 + v424) - *(a3 + v423));
          ++v423;
          ++v424;
          --v422;
        }

        while (v422);
        goto LABEL_216;
      }
    }

    else
    {
      v396 = 0;
    }

    v395 = v87 - v578;
    v416 = 0uLL;
    v417 = v15;
    v418 = v100 + v396 + v91;
    v419 = v590 + v396 + v91;
    v420 = v581 + v396 + v91;
    do
    {
      a9.i32[0] = *(a1 + v419);
      a10.i32[0] = *(a3 + v420);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v421 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v421, v421);
      v416 = vaddw_high_u32(v416, a9);
      v417 = vaddw_u32(v417, *a9.i8);
      v419 += 4;
      v420 += 4;
      v418 += 4;
    }

    while (v418);
    v15 = vaddvq_s64(vaddq_s64(v417, v416));
    if (v578)
    {
      goto LABEL_214;
    }

LABEL_216:
    if (v98 < 4)
    {
      v425 = v96;
      goto LABEL_228;
    }

    if (v98 >= 0x10)
    {
      v426 = v98 - v575;
      v427 = 0uLL;
      v428 = v15;
      v429 = v577 + v91;
      v430 = v589 + v91;
      v431 = v588 + v91;
      v432 = 0uLL;
      v433 = 0uLL;
      v434 = 0uLL;
      v435 = 0uLL;
      v436 = 0uLL;
      v437 = 0uLL;
      do
      {
        v438 = *(a1 + v430);
        v439 = *(a3 + v431);
        v440 = vsubl_u8(*v438.i8, *v439.i8);
        v441 = vsubl_high_u8(v438, v439);
        v442 = vmull_s16(*v441.i8, *v441.i8);
        v443 = vmull_high_s16(v440, v440);
        v444 = vmull_high_s16(v441, v441);
        v445 = vmull_s16(*v440.i8, *v440.i8);
        v433 = vaddw_high_u32(v433, v443);
        v435 = vaddw_high_u32(v435, v442);
        v434 = vaddw_u32(v434, *v442.i8);
        v432 = vaddw_u32(v432, *v443.i8);
        v427 = vaddw_high_u32(v427, v445);
        v436 = vaddw_u32(v436, *v444.i8);
        v428 = vaddw_u32(v428, *v445.i8);
        v437 = vaddw_high_u32(v437, v444);
        v430 += 16;
        v431 += 16;
        v429 += 16;
      }

      while (v429);
      a10 = vaddq_s64(v432, v436);
      a9 = vaddq_s64(v433, v437);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v428, v434), a10), vaddq_s64(vaddq_s64(v427, v435), a9)));
      if (!v575)
      {
        goto LABEL_230;
      }

      if (v575 < 4)
      {
        v425 = v426 + v96;
LABEL_228:
        v452 = v87 - v425;
        v453 = v588 + v425;
        v454 = v589 + v425;
        do
        {
          v15 += (*(a1 + v454) - *(a3 + v453)) * (*(a1 + v454) - *(a3 + v453));
          ++v453;
          ++v454;
          --v452;
        }

        while (v452);
        goto LABEL_230;
      }
    }

    else
    {
      v426 = 0;
    }

    v425 = v87 - v578;
    v446 = 0uLL;
    v447 = v15;
    v448 = v100 + v426 + v91;
    v449 = v589 + v426 + v91;
    v450 = v588 + v426 + v91;
    do
    {
      a9.i32[0] = *(a1 + v449);
      a10.i32[0] = *(a3 + v450);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v451 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v451, v451);
      v446 = vaddw_high_u32(v446, a9);
      v447 = vaddw_u32(v447, *a9.i8);
      v449 += 4;
      v450 += 4;
      v448 += 4;
    }

    while (v448);
    v15 = vaddvq_s64(vaddq_s64(v447, v446));
    if (v578)
    {
      goto LABEL_228;
    }

LABEL_230:
    if (v98 < 4)
    {
      v455 = v96;
      goto LABEL_242;
    }

    if (v98 >= 0x10)
    {
      v456 = v98 - v575;
      v457 = 0uLL;
      v458 = v15;
      v459 = v577 + v91;
      v460 = v580 + v91;
      v461 = v579 + v91;
      v462 = 0uLL;
      v463 = 0uLL;
      v464 = 0uLL;
      v465 = 0uLL;
      v466 = 0uLL;
      v467 = 0uLL;
      do
      {
        v468 = *(a1 + v460);
        v469 = *(a3 + v461);
        v470 = vsubl_u8(*v468.i8, *v469.i8);
        v471 = vsubl_high_u8(v468, v469);
        v472 = vmull_s16(*v471.i8, *v471.i8);
        v473 = vmull_high_s16(v470, v470);
        v474 = vmull_high_s16(v471, v471);
        v475 = vmull_s16(*v470.i8, *v470.i8);
        v463 = vaddw_high_u32(v463, v473);
        v465 = vaddw_high_u32(v465, v472);
        v464 = vaddw_u32(v464, *v472.i8);
        v462 = vaddw_u32(v462, *v473.i8);
        v457 = vaddw_high_u32(v457, v475);
        v466 = vaddw_u32(v466, *v474.i8);
        v458 = vaddw_u32(v458, *v475.i8);
        v467 = vaddw_high_u32(v467, v474);
        v460 += 16;
        v461 += 16;
        v459 += 16;
      }

      while (v459);
      a10 = vaddq_s64(v462, v466);
      a9 = vaddq_s64(v463, v467);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v458, v464), a10), vaddq_s64(vaddq_s64(v457, v465), a9)));
      if (!v575)
      {
        goto LABEL_244;
      }

      if (v575 < 4)
      {
        v455 = v456 + v96;
LABEL_242:
        v482 = v87 - v455;
        v483 = v579 + v455;
        v484 = v580 + v455;
        do
        {
          v15 += (*(a1 + v484) - *(a3 + v483)) * (*(a1 + v484) - *(a3 + v483));
          ++v483;
          ++v484;
          --v482;
        }

        while (v482);
        goto LABEL_244;
      }
    }

    else
    {
      v456 = 0;
    }

    v455 = v87 - v578;
    v476 = 0uLL;
    v477 = v15;
    v478 = v100 + v456 + v91;
    v479 = v580 + v456 + v91;
    v480 = v579 + v456 + v91;
    do
    {
      a9.i32[0] = *(a1 + v479);
      a10.i32[0] = *(a3 + v480);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v481 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v481, v481);
      v476 = vaddw_high_u32(v476, a9);
      v477 = vaddw_u32(v477, *a9.i8);
      v479 += 4;
      v480 += 4;
      v478 += 4;
    }

    while (v478);
    v15 = vaddvq_s64(vaddq_s64(v477, v476));
    if (v578)
    {
      goto LABEL_242;
    }

LABEL_244:
    if (v98 < 4)
    {
      v485 = v96;
      goto LABEL_256;
    }

    if (v98 >= 0x10)
    {
      v486 = v98 - v575;
      v487 = 0uLL;
      v488 = v15;
      v489 = v577 + v91;
      v490 = v587 + v91;
      v491 = v586 + v91;
      v492 = 0uLL;
      v493 = 0uLL;
      v494 = 0uLL;
      v495 = 0uLL;
      v496 = 0uLL;
      v497 = 0uLL;
      do
      {
        v498 = *(a1 + v490);
        v499 = *(a3 + v491);
        v500 = vsubl_u8(*v498.i8, *v499.i8);
        v501 = vsubl_high_u8(v498, v499);
        v502 = vmull_s16(*v501.i8, *v501.i8);
        v503 = vmull_high_s16(v500, v500);
        v504 = vmull_high_s16(v501, v501);
        v505 = vmull_s16(*v500.i8, *v500.i8);
        v493 = vaddw_high_u32(v493, v503);
        v495 = vaddw_high_u32(v495, v502);
        v494 = vaddw_u32(v494, *v502.i8);
        v492 = vaddw_u32(v492, *v503.i8);
        v487 = vaddw_high_u32(v487, v505);
        v496 = vaddw_u32(v496, *v504.i8);
        v488 = vaddw_u32(v488, *v505.i8);
        v497 = vaddw_high_u32(v497, v504);
        v490 += 16;
        v491 += 16;
        v489 += 16;
      }

      while (v489);
      a10 = vaddq_s64(v492, v496);
      a9 = vaddq_s64(v493, v497);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v488, v494), a10), vaddq_s64(vaddq_s64(v487, v495), a9)));
      if (!v575)
      {
        goto LABEL_258;
      }

      if (v575 < 4)
      {
        v485 = v486 + v96;
LABEL_256:
        v512 = v87 - v485;
        v513 = v586 + v485;
        v514 = v587 + v485;
        do
        {
          v15 += (*(a1 + v514) - *(a3 + v513)) * (*(a1 + v514) - *(a3 + v513));
          ++v513;
          ++v514;
          --v512;
        }

        while (v512);
        goto LABEL_258;
      }
    }

    else
    {
      v486 = 0;
    }

    v485 = v87 - v578;
    v506 = 0uLL;
    v507 = v15;
    v508 = v100 + v486 + v91;
    v509 = v587 + v486 + v91;
    v510 = v586 + v486 + v91;
    do
    {
      a9.i32[0] = *(a1 + v509);
      a10.i32[0] = *(a3 + v510);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v511 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v511, v511);
      v506 = vaddw_high_u32(v506, a9);
      v507 = vaddw_u32(v507, *a9.i8);
      v509 += 4;
      v510 += 4;
      v508 += 4;
    }

    while (v508);
    v15 = vaddvq_s64(vaddq_s64(v507, v506));
    if (v578)
    {
      goto LABEL_256;
    }

LABEL_258:
    if (v98 < 4)
    {
      v515 = v96;
      goto LABEL_270;
    }

    if (v98 >= 0x10)
    {
      v516 = v98 - v575;
      v517 = 0uLL;
      v518 = v15;
      v519 = v577 + v91;
      v520 = v585 + v91;
      v521 = v584 + v91;
      v522 = 0uLL;
      v523 = 0uLL;
      v524 = 0uLL;
      v525 = 0uLL;
      v526 = 0uLL;
      v527 = 0uLL;
      do
      {
        v528 = *(a1 + v520);
        v529 = *(a3 + v521);
        v530 = vsubl_u8(*v528.i8, *v529.i8);
        v531 = vsubl_high_u8(v528, v529);
        v532 = vmull_s16(*v531.i8, *v531.i8);
        v533 = vmull_high_s16(v530, v530);
        v534 = vmull_high_s16(v531, v531);
        v535 = vmull_s16(*v530.i8, *v530.i8);
        v523 = vaddw_high_u32(v523, v533);
        v525 = vaddw_high_u32(v525, v532);
        v524 = vaddw_u32(v524, *v532.i8);
        v522 = vaddw_u32(v522, *v533.i8);
        v517 = vaddw_high_u32(v517, v535);
        v526 = vaddw_u32(v526, *v534.i8);
        v518 = vaddw_u32(v518, *v535.i8);
        v527 = vaddw_high_u32(v527, v534);
        v520 += 16;
        v521 += 16;
        v519 += 16;
      }

      while (v519);
      a10 = vaddq_s64(v522, v526);
      a9 = vaddq_s64(v523, v527);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v518, v524), a10), vaddq_s64(vaddq_s64(v517, v525), a9)));
      if (!v575)
      {
        goto LABEL_272;
      }

      if (v575 < 4)
      {
        v515 = v516 + v96;
LABEL_270:
        v542 = v87 - v515;
        v543 = v584 + v515;
        v544 = v585 + v515;
        do
        {
          v15 += (*(a1 + v544) - *(a3 + v543)) * (*(a1 + v544) - *(a3 + v543));
          ++v543;
          ++v544;
          --v542;
        }

        while (v542);
        goto LABEL_272;
      }
    }

    else
    {
      v516 = 0;
    }

    v515 = v87 - v578;
    v536 = 0uLL;
    v537 = v15;
    v538 = v100 + v516 + v91;
    v539 = v585 + v516 + v91;
    v540 = v584 + v516 + v91;
    do
    {
      a9.i32[0] = *(a1 + v539);
      a10.i32[0] = *(a3 + v540);
      a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
      v541 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
      a9 = vmulq_s32(v541, v541);
      v536 = vaddw_high_u32(v536, a9);
      v537 = vaddw_u32(v537, *a9.i8);
      v539 += 4;
      v540 += 4;
      v538 += 4;
    }

    while (v538);
    v15 = vaddvq_s64(vaddq_s64(v537, v536));
    if (v578)
    {
      goto LABEL_270;
    }

LABEL_272:
    if (v98 >= 4)
    {
      if (v98 < 0x10)
      {
        v545 = 0;
        goto LABEL_280;
      }

      v545 = v98 - v575;
      v546 = 0uLL;
      v547 = v15;
      v548 = v577 + v91;
      v549 = v583 + v91;
      v550 = v582 + v91;
      v551 = 0uLL;
      v552 = 0uLL;
      v553 = 0uLL;
      v554 = 0uLL;
      v555 = 0uLL;
      v556 = 0uLL;
      do
      {
        v557 = *(a1 + v549);
        v558 = *(a3 + v550);
        v559 = vsubl_u8(*v557.i8, *v558.i8);
        v560 = vsubl_high_u8(v557, v558);
        v561 = vmull_s16(*v560.i8, *v560.i8);
        v562 = vmull_high_s16(v559, v559);
        v563 = vmull_high_s16(v560, v560);
        v564 = vmull_s16(*v559.i8, *v559.i8);
        v552 = vaddw_high_u32(v552, v562);
        v554 = vaddw_high_u32(v554, v561);
        v553 = vaddw_u32(v553, *v561.i8);
        v551 = vaddw_u32(v551, *v562.i8);
        v546 = vaddw_high_u32(v546, v564);
        v555 = vaddw_u32(v555, *v563.i8);
        v547 = vaddw_u32(v547, *v564.i8);
        v556 = vaddw_high_u32(v556, v563);
        v549 += 16;
        v550 += 16;
        v548 += 16;
      }

      while (v548);
      a10 = vaddq_s64(v551, v555);
      a9 = vaddq_s64(v552, v556);
      v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v547, v553), a10), vaddq_s64(vaddq_s64(v546, v554), a9)));
      if (!v575)
      {
        goto LABEL_59;
      }

      if (v575 >= 4)
      {
LABEL_280:
        v96 = v87 - v578;
        v565 = 0uLL;
        v566 = v15;
        v567 = v100 + v545 + v91;
        v568 = v583 + v545 + v91;
        v569 = v582 + v545 + v91;
        do
        {
          a9.i32[0] = *(a1 + v568);
          a10.i32[0] = *(a3 + v569);
          a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
          v570 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
          a9 = vmulq_s32(v570, v570);
          v565 = vaddw_high_u32(v565, a9);
          v566 = vaddw_u32(v566, *a9.i8);
          v568 += 4;
          v569 += 4;
          v567 += 4;
        }

        while (v567);
        v15 = vaddvq_s64(vaddq_s64(v566, v565));
        if (!v578)
        {
          goto LABEL_59;
        }

        goto LABEL_283;
      }

      v96 += v545;
    }

LABEL_283:
    v571 = v87 - v96;
    v572 = v582 + v96;
    v573 = v583 + v96;
    do
    {
      v15 += (*(a1 + v573) - *(a3 + v572)) * (*(a1 + v573) - *(a3 + v572));
      ++v572;
      ++v573;
      --v571;
    }

    while (v571);
    goto LABEL_59;
  }

  if (!a5)
  {
    return 0;
  }

  v15 = 0;
  v611 = a6 & 0xFFFFFFF0;
  for (i = 16; i <= a6; i += 16)
  {
    v17 = 0;
    do
    {
      v15 += (*(a1 + v17) - *(a3 + v17)) * (*(a1 + v17) - *(a3 + v17));
      ++v17;
    }

    while (v10 != v17);
    v18 = a2;
    v19 = a4;
    v20 = v10;
    do
    {
      v15 += (*(a1 + v18) - *(a3 + v19)) * (*(a1 + v18) - *(a3 + v19));
      ++v19;
      ++v18;
      --v20;
    }

    while (v20);
    v21 = 2 * a2;
    v22 = 2 * a4;
    v23 = v10;
    do
    {
      v15 += (*(a1 + v21) - *(a3 + v22)) * (*(a1 + v21) - *(a3 + v22));
      ++v22;
      ++v21;
      --v23;
    }

    while (v23);
    v24 = 3 * a2;
    v25 = 3 * a4;
    v26 = v10;
    do
    {
      v15 += (*(a1 + v24) - *(a3 + v25)) * (*(a1 + v24) - *(a3 + v25));
      ++v25;
      ++v24;
      --v26;
    }

    while (v26);
    v28 = 4 * a2;
    v27 = 4 * a4;
    v29 = v10;
    do
    {
      v15 += (*(a1 + v28) - *(a3 + v27)) * (*(a1 + v28) - *(a3 + v27));
      ++v27;
      ++v28;
      --v29;
    }

    while (v29);
    v31 = 5 * a2;
    v30 = 5 * a4;
    v32 = v10;
    do
    {
      v15 += (*(a1 + v31) - *(a3 + v30)) * (*(a1 + v31) - *(a3 + v30));
      ++v30;
      ++v31;
      --v32;
    }

    while (v32);
    v34 = 6 * a2;
    v33 = 6 * a4;
    v35 = v10;
    do
    {
      v15 += (*(a1 + v34) - *(a3 + v33)) * (*(a1 + v34) - *(a3 + v33));
      ++v33;
      ++v34;
      --v35;
    }

    while (v35);
    v37 = 7 * a2;
    v36 = 7 * a4;
    v38 = v10;
    do
    {
      v15 += (*(a1 + v37) - *(a3 + v36)) * (*(a1 + v37) - *(a3 + v36));
      ++v36;
      ++v37;
      --v38;
    }

    while (v38);
    v39 = 8 * a2;
    v40 = 8 * a4;
    v41 = v10;
    do
    {
      v15 += (*(a1 + v39) - *(a3 + v40)) * (*(a1 + v39) - *(a3 + v40));
      ++v40;
      ++v39;
      --v41;
    }

    while (v41);
    v42 = 9 * a2;
    v43 = 9 * a4;
    v44 = v10;
    do
    {
      v15 += (*(a1 + v42) - *(a3 + v43)) * (*(a1 + v42) - *(a3 + v43));
      ++v43;
      ++v42;
      --v44;
    }

    while (v44);
    v46 = 10 * a2;
    v45 = 10 * a4;
    v47 = v10;
    do
    {
      v15 += (*(a1 + v46) - *(a3 + v45)) * (*(a1 + v46) - *(a3 + v45));
      ++v45;
      ++v46;
      --v47;
    }

    while (v47);
    v48 = 11 * a2;
    v49 = 11 * a4;
    v50 = v10;
    do
    {
      v15 += (*(a1 + v48) - *(a3 + v49)) * (*(a1 + v48) - *(a3 + v49));
      ++v49;
      ++v48;
      --v50;
    }

    while (v50);
    v51 = 12 * a2;
    v52 = 12 * a4;
    v53 = v10;
    do
    {
      v15 += (*(a1 + v51) - *(a3 + v52)) * (*(a1 + v51) - *(a3 + v52));
      ++v52;
      ++v51;
      --v53;
    }

    while (v53);
    v54 = 13 * a2;
    v55 = 13 * a4;
    v56 = v10;
    do
    {
      v15 += (*(a1 + v54) - *(a3 + v55)) * (*(a1 + v54) - *(a3 + v55));
      ++v55;
      ++v54;
      --v56;
    }

    while (v56);
    v57 = 14 * a2;
    v58 = 14 * a4;
    v59 = v10;
    do
    {
      v15 += (*(a1 + v57) - *(a3 + v58)) * (*(a1 + v57) - *(a3 + v58));
      ++v58;
      ++v57;
      --v59;
    }

    while (v59);
    v60 = 15 * a2;
    v61 = 15 * a4;
    v62 = v10;
    do
    {
      v15 += (*(a1 + v60) - *(a3 + v61)) * (*(a1 + v60) - *(a3 + v61));
      ++v61;
      ++v60;
      --v62;
    }

    while (v62);
    a1 += v610;
    a3 += v609;
  }

  v14 = v611;
LABEL_40:
  if (v14 < a6 && v10)
  {
    v63 = v10 & 0xFFFFFFF0;
    v64 = v10 & 0xFFFFFFFC;
    do
    {
      if (v10 >= 4)
      {
        if (v10 < 0x10)
        {
          v66 = 0;
LABEL_52:
          v84 = 0uLL;
          v85 = v15;
          do
          {
            a9.i32[0] = *(a1 + v66);
            a10.i32[0] = *(a3 + v66);
            a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
            v86 = vsubl_u16(*&vmovl_u8(*a9.i8), *a10.i8);
            a9 = vmulq_s32(v86, v86);
            v84 = vaddw_high_u32(v84, a9);
            v85 = vaddw_u32(v85, *a9.i8);
            v66 += 4;
          }

          while (v64 != v66);
          v15 = vaddvq_s64(vaddq_s64(v85, v84));
          v65 = v10 & 0xFFFFFFFC;
          if (v64 == v10)
          {
            goto LABEL_43;
          }

          goto LABEL_55;
        }

        v67 = 0;
        v68 = 0uLL;
        v69 = v15;
        v70 = 0uLL;
        v71 = 0uLL;
        v72 = 0uLL;
        v73 = 0uLL;
        v74 = 0uLL;
        v75 = 0uLL;
        do
        {
          v76 = *(a1 + v67);
          v77 = *(a3 + v67);
          v78 = vsubl_u8(*v76.i8, *v77.i8);
          v79 = vsubl_high_u8(v76, v77);
          v80 = vmull_s16(*v79.i8, *v79.i8);
          v81 = vmull_high_s16(v78, v78);
          v82 = vmull_high_s16(v79, v79);
          v83 = vmull_s16(*v78.i8, *v78.i8);
          v71 = vaddw_high_u32(v71, v81);
          v73 = vaddw_high_u32(v73, v80);
          v72 = vaddw_u32(v72, *v80.i8);
          v70 = vaddw_u32(v70, *v81.i8);
          v68 = vaddw_high_u32(v68, v83);
          v74 = vaddw_u32(v74, *v82.i8);
          v69 = vaddw_u32(v69, *v83.i8);
          v75 = vaddw_high_u32(v75, v82);
          v67 += 16;
        }

        while (v63 != v67);
        a10 = vaddq_s64(v70, v74);
        a9 = vaddq_s64(v71, v75);
        v15 = vaddvq_s64(vaddq_s64(vaddq_s64(vaddq_s64(v69, v72), a10), vaddq_s64(vaddq_s64(v68, v73), a9)));
        if (v63 == v10)
        {
          goto LABEL_43;
        }

        v66 = v10 & 0xFFFFFFF0;
        v65 = v66;
        if ((v10 & 0xC) != 0)
        {
          goto LABEL_52;
        }
      }

      else
      {
        v65 = 0;
      }

      do
      {
LABEL_55:
        v15 += (*(a1 + v65) - *(a3 + v65)) * (*(a1 + v65) - *(a3 + v65));
        ++v65;
      }

      while (v10 != v65);
LABEL_43:
      a1 += v12;
      a3 += a4;
      ++v14;
    }

    while (v14 != a6);
  }

  return v15;
}

uint64_t vp8dx_set_reference(unsigned int *a1, int a2, int *a3)
{
  switch(a2)
  {
    case 1:
      v4 = 1725;
      break;
    case 4:
      v4 = 1727;
      break;
    case 2:
      v4 = 1726;
      break;
    default:
      vpx_internal_error((a1 + 1096), 1, "Invalid reference frame");
      return a1[1096];
  }

  v5 = &a1[40 * a1[v4] + 1560];
  if (v5[1] != a3[1] || *v5 != *a3 || v5[6] != a3[6] || v5[5] != a3[5])
  {
    vpx_internal_error((a1 + 1096), 1, "Incorrect buffer dimensions");
    return a1[1096];
  }

  v6 = a1 + 1720;
  v7 = a1[1720];
  if (v7)
  {
    if (a1[1721])
    {
      if (a1[1722])
      {
        if (a1[1723])
        {
          v7 = 4;
        }

        else
        {
          v7 = 3;
        }
      }

      else
      {
        v7 = 2;
      }
    }

    else
    {
      v7 = 1;
    }
  }

  v6[v7] = 0;
  v9 = a1[v4];
  v10 = v6[v9];
  v11 = __OFSUB__(v10, 1);
  v12 = v10 - 1;
  if (v12 < 0 == v11)
  {
    v6[v9] = v12;
  }

  a1[v4] = v7;
  ++v6[v7];
  vp8_yv12_copy_frame_c(a3, &a1[40 * a1[v4] + 1560]);
  return a1[1096];
}

uint64_t vp8dx_receive_compressed_data(uint64_t a1)
{
  *(a1 + 4384) = 0;
  if (!*(a1 + 10976) && *(a1 + 10716) <= 1u && !*(a1 + 10792))
  {
    v39 = (a1 + 6880);
    v40 = *(a1 + 6900);
    v41 = *(a1 + 6880 + 4 * v40);
    if (v41 >= 2)
    {
      v39[v40] = v41 - 1;
      v42 = *v39;
      if (*v39)
      {
        if (*(a1 + 6884))
        {
          if (*(a1 + 6888))
          {
            if (*(a1 + 6892))
            {
              v42 = 4;
            }

            else
            {
              v42 = 3;
            }
          }

          else
          {
            v42 = 2;
          }
        }

        else
        {
          v42 = 1;
        }
      }

      v39[v42] = 1;
      *(a1 + 6900) = v42;
      vp8_yv12_copy_frame_c((a1 + 6240 + 160 * v40), a1 + 6240 + 160 * v42);
      LODWORD(v40) = *(a1 + 6900);
    }

    result = 0;
    *(a1 + 160 * v40 + 6388) = 1;
    *(a1 + 7416) = 0;
    return result;
  }

  v2 = a1 + 6880;
  v3 = *(a1 + 6880);
  if (v3)
  {
    if (*(a1 + 6884))
    {
      if (*(a1 + 6888))
      {
        if (*(a1 + 6892))
        {
          v3 = 4;
        }

        else
        {
          v3 = 3;
        }
      }

      else
      {
        v3 = 2;
      }
    }

    else
    {
      v3 = 1;
    }
  }

  *(v2 + 4 * v3) = 1;
  *(a1 + 6896) = v3;
  v4 = a1 + 6240;
  *(a1 + 4352) = a1 + 6240 + 160 * v3;
  *(a1 + 4360) = a1 + 6240 + 160 * *(a1 + 6900);
  *(a1 + 4368) = a1 + 6240 + 160 * *(a1 + 6904);
  *(a1 + 4376) = a1 + 6240 + 160 * *(a1 + 6908);
  result = vp8_decode_frame(a1);
  if ((result & 0x80000000) != 0)
  {
    v12 = *(a1 + 6896);
    v13 = *(v2 + 4 * v12);
    v10 = __OFSUB__(v13, 1);
    v14 = v13 - 1;
    if (v14 < 0 == v10)
    {
      *(v2 + 4 * v12) = v14;
    }

    *(a1 + 4384) = 1;
    v15 = *(a1 + 4068);
    if (v15)
    {
      *(a1 + 4384) = v15;
      v16 = *(a1 + 4124);
      *(a1 + 4424) = *(a1 + 4108);
      *(a1 + 4440) = v16;
      *(a1 + 4456) = *(a1 + 4140);
      v17 = *(a1 + 4092);
      *(a1 + 4392) = *(a1 + 4076);
      *(a1 + 4408) = v17;
    }

    return result;
  }

  v6 = *(a1 + 7936);
  if (v6)
  {
    if (v6 == 2)
    {
      v6 = 0;
      v7 = *(a1 + 6904);
      v8 = *(a1 + 6908);
      v18 = *(v2 + 4 * v8);
      v10 = __OFSUB__(v18, 1);
      v11 = v18 - 1;
      if (v11 < 0 != v10)
      {
LABEL_26:
        *(a1 + 6908) = v7;
        ++*(v2 + 4 * v7);
        goto LABEL_27;
      }
    }

    else if (v6 == 1)
    {
      v6 = 0;
      v7 = *(a1 + 6900);
      v8 = *(a1 + 6908);
      v9 = *(v2 + 4 * v8);
      v10 = __OFSUB__(v9, 1);
      v11 = v9 - 1;
      if (v11 < 0 != v10)
      {
        goto LABEL_26;
      }
    }

    else
    {
      v7 = 0;
      v6 = -1;
      v8 = *(a1 + 6908);
      v37 = *(v2 + 4 * v8);
      v10 = __OFSUB__(v37, 1);
      v11 = v37 - 1;
      if (v11 < 0 != v10)
      {
        goto LABEL_26;
      }
    }

    *(v2 + 4 * v8) = v11;
    goto LABEL_26;
  }

LABEL_27:
  v19 = *(a1 + 7932);
  if (v19)
  {
    if (v19 == 1)
    {
      v20 = *(a1 + 6900);
      v21 = *(a1 + 6904);
      v24 = *(v2 + 4 * v21);
      v10 = __OFSUB__(v24, 1);
      v23 = v24 - 1;
      if (v23 < 0 != v10)
      {
LABEL_35:
        *(a1 + 6904) = v20;
        ++*(v2 + 4 * v20);
        goto LABEL_36;
      }
    }

    else if (v19 == 2)
    {
      v20 = *(a1 + 6908);
      v21 = *(a1 + 6904);
      v22 = *(v2 + 4 * v21);
      v10 = __OFSUB__(v22, 1);
      v23 = v22 - 1;
      if (v23 < 0 != v10)
      {
        goto LABEL_35;
      }
    }

    else
    {
      v20 = 0;
      v6 = -1;
      v21 = *(a1 + 6904);
      v38 = *(v2 + 4 * v21);
      v10 = __OFSUB__(v38, 1);
      v23 = v38 - 1;
      if (v23 < 0 != v10)
      {
        goto LABEL_35;
      }
    }

    *(v2 + 4 * v21) = v23;
    goto LABEL_35;
  }

LABEL_36:
  if (*(a1 + 7924))
  {
    v25 = *(a1 + 6896);
    v26 = *(a1 + 6904);
    v27 = *(v2 + 4 * v26);
    v10 = __OFSUB__(v27, 1);
    v28 = v27 - 1;
    if (v28 < 0 == v10)
    {
      *(v2 + 4 * v26) = v28;
    }

    *(a1 + 6904) = v25;
    ++*(v2 + 4 * v25);
  }

  if (*(a1 + 7928))
  {
    v29 = *(a1 + 6896);
    v30 = *(a1 + 6908);
    v31 = *(v2 + 4 * v30);
    v10 = __OFSUB__(v31, 1);
    v32 = v31 - 1;
    if (v32 < 0 == v10)
    {
      *(v2 + 4 * v30) = v32;
    }

    *(a1 + 6908) = v29;
    ++*(v2 + 4 * v29);
  }

  v33 = *(a1 + 6896);
  if (*(a1 + 7920))
  {
    v34 = *(a1 + 6900);
    v35 = *(v2 + 4 * v34);
    v10 = __OFSUB__(v35, 1);
    v36 = v35 - 1;
    if (v36 < 0 == v10)
    {
      *(v2 + 4 * v34) = v36;
    }

    *(a1 + 6900) = v33;
    ++*(v2 + 4 * v33);
    *(a1 + 6232) = v4 + 160 * *(a1 + 6900);
    --*(v2 + 4 * *(a1 + 6896));
    if (v6)
    {
      goto LABEL_48;
    }
  }

  else
  {
    *(a1 + 6232) = v4 + 160 * v33;
    --*(v2 + 4 * v33);
    if (v6)
    {
LABEL_48:
      *(a1 + 4384) = 1;
      return result;
    }
  }

  if (*(a1 + 7416))
  {
    ++*(a1 + 10204);
    *(a1 + 7496) = *(a1 + 7488);
  }

  *(a1 + 10964) = 0;
  return result;
}

uint64_t vp8_create_decoder_instances(_OWORD *a1, uint64_t a2)
{
  decompressor = create_decompressor();
  *a1 = decompressor;
  if (!decompressor)
  {
    return 1;
  }

  v5 = setjmp(decompressor + 1119);
  v6 = *a1;
  v7 = *a1;
  if (v5)
  {
    *(v7 + 4472) = 0;
    vp8_decoder_remove_threads(v7);
    vp8_de_alloc_frame_buffers(v6 + 4384);
    free(*(v7 - 8));
    a1[14] = 0u;
    a1[15] = 0u;
    a1[12] = 0u;
    a1[13] = 0u;
    a1[10] = 0u;
    a1[11] = 0u;
    a1[8] = 0u;
    a1[9] = 0u;
    a1[6] = 0u;
    a1[7] = 0u;
    a1[4] = 0u;
    a1[5] = 0u;
    a1[2] = 0u;
    a1[3] = 0u;
    *a1 = 0u;
    a1[1] = 0u;
    return 1;
  }

  *(v7 + 4472) = 1;
  *(v7 + 10836) = *(a2 + 16);
  vp8_decoder_create_threads(v7);
  *(*a1 + 4472) = 0;
  return 0;
}

void *create_decompressor()
{
  result = malloc_type_malloc(0x2B37uLL, 0xD93B561uLL);
  if (result)
  {
    v1 = (result + 39) & 0xFFFFFFFFFFFFFFE0;
    *(v1 - 8) = result;
    if (v1)
    {
      bzero(((result + 39) & 0xFFFFFFFFFFFFFFE0), 0x2B10uLL);
      if (setjmp((v1 + 4476)))
      {
        *(v1 + 4472) = 0;
        vp8_de_alloc_frame_buffers(v1 + 4384);
        free(*(v1 - 8));
        return 0;
      }

      else
      {
        *(v1 + 4472) = 1;
        *(v1 + 9099) = 629954160;
        *(v1 + 9103) = vp8_uv_mode_prob;
        *(v1 + 9105) = -52;
        *(v1 + 9106) = sub_mv_ref_prob;
        *(v1 + 9108) = 25;
        *(v1 + 9090) = 0x6F505557854F5A78;
        *(v1 + 9098) = -105;
        v2 = *(v1 + 7460);
        v3 = *(v1 + 7464);
        v4 = *(v1 + 7472);
        v5 = *(v1 + 7468);
        v6 = *(v1 + 7476);
        *(v1 + 7932) = 0;
        v7 = v2;
        *(v1 + 10212) = 0x1000000000;
        *(v1 + 7504) = 0;
        *(v1 + 7944) = 0u;
        v8 = v3;
        v9 = v4;
        *(v1 + 6224) = 0;
        v10 = v5;
        *(v1 + 10204) = 0;
        *(v1 + 10964) = 1;
        v11 = v6;
        v12 = 4672;
        v13 = 0;
        *(v1 + 7440) = xmmword_273B91FB0;
        do
        {
          v14 = ac_qlookup[v13];
          v15 = v13 + 1;
          v16 = (v7 + v13) & ~((v7 + v13) >> 31);
          if (v16 >= 127)
          {
            v16 = 127;
          }

          v17 = (v1 + v12);
          *(v1 + v12) = dc_qlookup[v16];
          v18 = (v8 + v13) & ~((v8 + v13) >> 31);
          if (v18 >= 127)
          {
            v18 = 127;
          }

          v17[256] = 2 * LOWORD(dc_qlookup[v18]);
          v19 = (v9 + v13) & ~((v9 + v13) >> 31);
          if (v19 >= 127)
          {
            v19 = 127;
          }

          v20 = dc_qlookup[v19];
          if (v20 >= 132)
          {
            LOWORD(v20) = 132;
          }

          v17[512] = v20;
          v17[1] = v14;
          v21 = (v10 + v13) & ~((v10 + v13) >> 31);
          if (v21 >= 127)
          {
            v21 = 127;
          }

          v22 = (101581 * ac_qlookup[v21]) >> 16;
          if (v22 <= 8)
          {
            LOWORD(v22) = 8;
          }

          v17[257] = v22;
          v23 = (v11 + v13) & ~((v11 + v13) >> 31);
          if (v23 >= 127)
          {
            v23 = 127;
          }

          v17[513] = ac_qlookup[v23];
          v13 = v15;
          v12 += 4;
        }

        while (v15 != 128);
        vp8_loop_filter_init(v1 + 4384);
        *(v1 + 4472) = 0;
        *(v1 + 10972) = 0u;
        vp8_setup_block_dptrs(v1);
        pthread_once(&once_lock_0, initialize_dec);
        return v1;
      }
    }

    else
    {
      return 0;
    }
  }

  return result;
}

uint64_t initialize_dec()
{
  if (!initialize_dec_init_done)
  {
    vpx_dsp_rtcd();
    result = vp8_init_intra_predictors();
    initialize_dec_init_done = 1;
  }

  return result;
}

uint64_t vp8_skip_fractional_mv_step(uint64_t a1, uint64_t a2, uint64_t a3, __int16 *a4)
{
  v4 = 8 * *a4;
  if (v4 >= 0x7FFF)
  {
    v4 = 0x7FFF;
  }

  if (v4 <= -32768)
  {
    LOWORD(v4) = 0x8000;
  }

  *a4 = v4;
  v5 = 8 * a4[1];
  if (v5 >= 0x7FFF)
  {
    v5 = 0x7FFF;
  }

  if (v5 <= -32768)
  {
    LOWORD(v5) = 0x8000;
  }

  a4[1] = v5;
  return 0;
}

void vp8_pick_inter_mode(uint64_t a1, uint64_t a2, unsigned int a3, unsigned int a4, _DWORD *a5, int *a6, int *a7, int a8, int a9)
{
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v243[1] = *MEMORY[0x277D85DE8];
  v243[0] = 0;
  v227 = 0;
  v225 = -1;
  v196 = *(a1 + 143024);
  v222 = (a1 + 110548);
  v240[0] = xmmword_273BC6A7C;
  v240[1] = unk_273BC6A8C;
  v223 = 0;
  v239 = 0u;
  v237 = 0u;
  v238 = 0u;
  v235 = 0u;
  v236 = 0u;
  v234 = 0u;
  v217 = a1 + 142792;
  v14 = *(a1 + 142884);
  if (v14)
  {
    v15 = a1 + 160 * *v222 + 109888;
    v13 = (*(a1 + 160 * *v222 + 109944) + a3);
    v12 = (*(a1 + 160 * *v222 + 109952) + a4);
    *(&v235 + 1) = v13;
    *&v236 = v12;
    v11 = (*(v15 + 72) + a4);
    *(&v236 + 1) = v11;
  }

  if ((v14 & 2) != 0)
  {
    v16 = a1 + 160 * *(a1 + 110552) + 109888;
    v17 = *(a1 + 160 * *(a1 + 110552) + 109952) + a4;
    *&v237 = *(a1 + 160 * *(a1 + 110552) + 109944) + a3;
    *(&v237 + 1) = v17;
    *&v238 = *(v16 + 72) + a4;
  }

  v18 = (a1 + 148384);
  v221 = a1 + 114716;
  if ((v14 & 4) != 0)
  {
    v19 = a1 + 160 * *(a1 + 110556) + 109888;
    v20 = *(a1 + 160 * *(a1 + 110556) + 109952);
    *(&v238 + 1) = *(a1 + 160 * *(a1 + 110556) + 109944) + a3;
    v21 = *(v19 + 72) + a4;
    *&v239 = v20 + a4;
    *(&v239 + 1) = v21;
  }

  v195 = (a1 + 148384);
  if (v14)
  {
    v23 = (**(a2 + 3344) + *(a2 + 3352));
    v24 = (**(a2 + 3696) + *(a2 + 3704));
    v25 = *(a2 + 3356);
    v26 = *(a1 + 114288);
    if (v26)
    {
      v27 = (*(a1 + 148424) + a3);
      v28 = *v195;
      if (v26 >= 2)
      {
        v23 = (*(a1 + 148432) + a4);
        v24 = (*(a1 + 148440) + a4);
        v25 = *(a1 + 148404);
      }
    }

    else
    {
      v27 = *(a2 + 4120);
      v28 = *(a2 + 4080);
    }

    v22 = a8;
    v194 = !check_dot_artifact_candidate(a1, a2, v27, v28, v13, a8, a9, 0) && !check_dot_artifact_candidate(a1, a2, v23, v25, v12, a8, a9, 1) && check_dot_artifact_candidate(a1, a2, v24, v25, v11, a8, a9, 2) == 0;
    v18 = v195;
  }

  else
  {
    v194 = 1;
    v22 = a8;
  }

  v228 = 0;
  v226 = 0;
  v224 = 0;
  v29 = *(v221 + 4);
  v30 = v217;
  if (!v29 || !*(v18 + 2436))
  {
    v34 = 0;
    LOWORD(v37) = 0;
    LOWORD(v36) = 0;
    v214 = 0;
    v35 = 0x7FFFFFFF;
    *(a2 + 8808) = 0;
    v189 = 0;
    v190 = 0x7FFFFFFF;
    if (v222[940])
    {
      goto LABEL_30;
    }

    goto LABEL_29;
  }

  v32 = *(v221 + 8);
  v31 = *(v221 + 12);
  v33 = *(*(v221 + 20) + 56) + 16 * (v31 * a9 / v32 + v18[608] * (v31 * v22 / v32));
  v34 = *(v33 + 4);
  v35 = *(v33 + 12) >> (v29 == *v221 - 1);
  if (v34)
  {
    v36 = v32 * *(v33 + 8) / v31;
    v37 = v32 * *(v33 + 10) / v31;
    v38 = *(a2 + 8228) - 128;
    if (v38 > v37 || (v38 = *(a2 + 8232) + 128, v38 < v37))
    {
      LOWORD(v37) = v38;
    }

    v39 = *(a2 + 8236) - 128;
    if (v39 > v36 || (v39 = *(a2 + 8240) + 128, v39 < v36))
    {
      LOWORD(v36) = v39;
    }

    v40 = v34 <= 2 && (*(v217 + 92) & v34) != 0;
  }

  else
  {
    LOWORD(v36) = 0;
    LOWORD(v37) = 0;
    v40 = 1;
  }

  v214 = v194 && v40;
  v189 = *v33 == 7;
  v190 = *(v33 + 12) >> (v29 == *v221 - 1);
  *(a2 + 8808) = 0;
  if (!v222[940])
  {
LABEL_29:
    v35 = v190;
    *(a2 + 8808) = *(*(v217 + 248) + a9 + v222[133] * v22);
  }

LABEL_30:
  HIDWORD(v228) = 0;
  memset(v242, 0, sizeof(v242));
  v41 = v214 ^ 1;
  if (!v34)
  {
    v41 = 1;
  }

  v229 = 0;
  v182 = v34;
  if ((v41 & 1) == 0 && v35 <= 7)
  {
    v231 = -1;
    v232 = v34;
    v233 = -1;
    goto LABEL_44;
  }

  v231 = 0;
  v42 = *(v217 + 92);
  v43 = 1;
  if ((v42 & 1) == 0)
  {
    if ((v42 & 2) == 0)
    {
      goto LABEL_37;
    }

LABEL_40:
    *(&v231 + v43++) = 2;
    if ((v42 & 4) == 0)
    {
      goto LABEL_43;
    }

    goto LABEL_41;
  }

  v232 = 1;
  v43 = 2;
  if ((v42 & 2) != 0)
  {
    goto LABEL_40;
  }

LABEL_37:
  if ((v42 & 4) == 0)
  {
    goto LABEL_43;
  }

LABEL_41:
  *(&v231 + v43) = 3;
  if (v43 > 2)
  {
    goto LABEL_44;
  }

  ++v43;
LABEL_43:
  memset(&v231 + v43, 255, 16 - 4 * v43);
LABEL_44:
  v44 = v242;
  if (v232 < 1)
  {
    v45 = 0;
  }

  else
  {
    v45 = vp8_find_near_mvs_bias((a2 + 4224), *(a2 + 8096), v242, v243, v241, v232, a1 + 111592);
    v44 = &v242[5 * v45];
    v30 = v217;
    HIDWORD(v228) = *(v243 + v45);
  }

  ++*(a2 + 30056);
  *a7 = 0x7FFFFFFF;
  *(a2 + 8768) = 0;
  v46 = *(a2 + 8096);
  *(v46 + 2) = 0;
  if (*v30 > 11 || v30[60] < 41)
  {
    v58 = 100;
    v48 = v214;
    goto LABEL_63;
  }

  v47 = v46 - 76;
  v48 = v214;
  if (*(v46 - 74))
  {
    v49.i32[0] = *(v46 - 72);
    v49.i32[1] = *(v46 - 70);
    v50 = vcgt_u32(0x800000008, vand_s8(vabs_s32(v49), 0xFFFF0000FFFFLL));
    v51 = v50.i8[0] & v50.i8[4] & 1;
    v52 = v47 - 76 * *(a2 + 8104);
    if (!*(v52 + 2))
    {
      goto LABEL_52;
    }

    goto LABEL_51;
  }

  v51 = 0;
  v52 = v47 - 76 * *(a2 + 8104);
  if (*(v52 + 2))
  {
LABEL_51:
    v53.i32[0] = *(v52 + 4);
    v53.i32[1] = *(v52 + 6);
    v54 = vcgt_u32(0x800000008, vand_s8(vabs_s32(v53), 0xFFFF0000FFFFLL));
    v51 -= v54.i32[0] & v54.i32[1];
  }

LABEL_52:
  if (*(v52 + 78))
  {
    v55.i32[0] = *(v52 + 80);
    v55.i32[1] = *(v52 + 82);
    v56 = vcgt_u32(0x800000008, vand_s8(vabs_s32(v55), 0xFFFF0000FFFFLL));
    v51 -= v56.i32[0] & v56.i32[1];
  }

  if (!*(a2 + 8236))
  {
    if (v51)
    {
      v58 = 80;
      goto LABEL_63;
    }

LABEL_271:
    v58 = 100;
    goto LABEL_63;
  }

  if (v51)
  {
    v57 = *(a2 + 8228) == 0;
  }

  else
  {
    v57 = 0;
  }

  v58 = 80;
  if (v57 || v51 > 2)
  {
    goto LABEL_63;
  }

  if (!v51)
  {
    goto LABEL_271;
  }

  v58 = 90;
LABEL_63:
  v220 = (a2 + 7832);
  v188 = (a1 + 82408);
  if (v222[935])
  {
    v58 = v195[211] * v58 / 0x64;
  }

  v211 = 0;
  v205 = 0;
  v206 = 0;
  v213 = 0;
  v204 = 0;
  v59 = 0;
  v210 = 0;
  v178 = 0;
  if (v194)
  {
    v60 = v58;
  }

  else
  {
    v60 = 150;
  }

  v175 = v60;
  v61 = a2 + 29976;
  v183 = v36 | (v37 << 16);
  v62 = a2 + 30060;
  v218 = a1 + 115184;
  v219 = a1 + 111592;
  v215 = a2 + 29896;
  v216 = a1 + 115264;
  v63 = a2 + 8600;
  v176 = v36 >> 3;
  v177 = v37 >> 3;
  v173 = v37;
  v174 = v36;
  v207 = (a1 + 143624);
  v200 = a2 + 8680;
  v193 = a1;
  v185 = a1 + 150824;
  v209 = -1;
  v64 = 0x7FFFFFFFLL;
  v208 = 0x7FFFFFFF;
  v198 = -1;
  v199 = -1;
  while (1)
  {
    if (v64 <= *(v61 + 4 * v59))
    {
      goto LABEL_73;
    }

    v68 = *(&v231 + vp8_ref_frame_order[v59]);
    if ((v68 & 0x80000000) != 0)
    {
      goto LABEL_73;
    }

    v69 = *(a2 + 8096);
    *(v69 + 2) = v68;
    if (v68)
    {
      v70 = &v234 + 24 * v68;
      *v220 = *v70;
      *(a2 + 7848) = *(v70 + 2);
      v71 = *(v219 + 4 * v68);
      if (v45 != v71)
      {
        v44 = &v242[5 * v71];
        HIDWORD(v228) = *(v243 + v71);
        v45 = v71;
      }

      if (v48)
      {
        v72 = vp8_mode_order[v59];
        if (v72 == 6)
        {
          if (!*(v44 + 6))
          {
            goto LABEL_73;
          }
        }

        else if (v72 == 5)
        {
          if (!*(v44 + 5))
          {
            goto LABEL_73;
          }
        }

        else if ((v59 - 13) < 3 && v189 && !HIDWORD(v228) || (v59 - 13) <= 2 && !v190 && HIDWORD(v228) == v183)
        {
          goto LABEL_73;
        }
      }
    }

    v73 = *(v62 + 4 * v59);
    if (v73)
    {
      v74 = *(v218 + 4 * v59);
      if (v74 >= 2 && *(a2 + 30056) <= v74 * v73)
      {
        goto LABEL_69;
      }
    }

    *(v62 + 4 * v59) = v73 + 1;
    v226 = 0;
    v75 = vp8_mode_order[v59];
    *v69 = v75;
    v76 = *(v69 + 2);
    LODWORD(v77) = *(v63 + 4 * v76);
    if (*(v221 + 256))
    {
      if (!v222[982])
      {
        break;
      }
    }

    v67 = 0x7FFFFFFFLL;
    if (v75 <= 4)
    {
      if (v75 < 4)
      {
        v90 = v48;
        v91 = v44;
        v92 = v45;
        v93 = v77;
        vp8_build_intra_predictors_mby_s(a2 + 4224, *(a2 + 7992) - *(a2 + 7952), (*(a2 + 7992) - 1), *(a2 + 7952), a2 + 4224, 16);
        v94 = vpx_variance16x16(**(a2 + 1936), *(a2 + 1948), a2 + 4224, 16, &v225);
        v226 = v94;
        LODWORD(v77) = *(*(a2 + 8712) + 40 * *(a2 + 8108) + 4 * **(a2 + 8096)) + v93;
        v67 = (*(a2 + 8644) * v94 + ((v77 * *(a2 + 8648) + 128) >> 8));
        if (v67 < v208)
        {
          goto LABEL_119;
        }

        goto LABEL_120;
      }

      if (v75 != 4)
      {
        goto LABEL_122;
      }

      v90 = v48;
      v103 = *(v63 + 4 * v76);
      v91 = v44;
      v92 = v45;
      v226 = v209;
      pick_intra4x4mby_modes(a2, &v227, &v226);
      if (v226 == 0x7FFFFFFF)
      {
        v45 = v92;
        v44 = v91;
        v63 = a2 + 8600;
        v62 = a2 + 30060;
        v61 = a2 + 29976;
        LODWORD(v77) = v103;
      }

      else
      {
        v128 = v227 + v103;
        v94 = vpx_variance16x16(**(a2 + 1936), *(a2 + 1948), a2 + 4224, 16, &v225);
        LODWORD(v77) = v128;
        v226 = v94;
        v67 = (*(a2 + 8644) * v94 + ((*(a2 + 8648) * v128 + 128) >> 8));
        if (v67 < v208)
        {
LABEL_119:
          *a7 = v94;
          v208 = v67;
        }

LABEL_120:
        v45 = v92;
        v44 = v91;
        v63 = a2 + 8600;
        v62 = a2 + 30060;
        v61 = a2 + 29976;
      }

      v48 = v90;
      goto LABEL_122;
    }

    if ((v75 - 5) >= 2)
    {
      if (v75 == 7)
      {
        goto LABEL_205;
      }

      if (v75 != 8)
      {
        goto LABEL_122;
      }

      v202 = *(a2 + 8636);
      v230 = 0;
      v78 = SHIWORD(v228);
      v79 = SWORD2(v228);
      v191 = *(a2 + 8752);
      if (*v217 <= 7)
      {
        v80 = 2;
      }

      else
      {
        v80 = 3;
      }

      if (*v217 <= 5)
      {
        v81 = 1;
      }

      else
      {
        v81 = v80;
      }

      v82 = *(v217 + 216);
      v83 = v81 + v82;
      v84 = v196;
      if (*(v221 + 4))
      {
        v84 = 0;
      }

      if (v182 == v68)
      {
        v85 = v48;
      }

      else
      {
        v85 = 0;
      }

      v196 = v84;
      v186 = v45;
      v203 = v44;
      v180 = v77;
      v181 = v75;
      if (v85 == 1)
      {
        v224 = v183;
        HIWORD(v230) = v177;
        LOWORD(v230) = v176;
        if (v190 >= 33)
        {
          if (v190 > 0x80)
          {
            v86 = v83 + 1;
          }

          else
          {
            v86 = v83 + 2;
          }

          if (v190 > 0x80)
          {
            v105 = v83 + 1;
          }

          else
          {
            v105 = v83 + 2;
          }

          v108 = ((SHIWORD(v228) + 7) >> 3) - 255;
          if (v191 < v108)
          {
            goto LABEL_158;
          }
        }

        else
        {
          v86 = v83 + 3;
          if (v190 <= 2)
          {
            v87 = SWORD2(v228) - v174;
            if (v87 < 0)
            {
              v87 = v174 - SWORD2(v228);
            }

            v88 = SHIWORD(v228) - v173;
            if (v88 < 0)
            {
              v88 = v173 - SHIWORD(v228);
            }

            if (v87 <= v88)
            {
              v87 = v88;
            }

            if (v87 <= 4)
            {
              v89 = v230;
              *(a2 + 6416) = v230;
              *(v44 + 8) = v89;
              goto LABEL_181;
            }
          }

          v105 = v83 + 3;
          v108 = ((SHIWORD(v228) + 7) >> 3) - 255;
          if (v191 < v108)
          {
LABEL_158:
            *(a2 + 8752) = v108;
          }
        }
      }

      else if (v84)
      {
        v172 = SHIWORD(v228);
        v104 = SWORD2(v228);
        if (!v178)
        {
          vp8_cal_sad(v193, a2 + 4224, a2, a3, v240);
          v69 = *(a2 + 8096);
        }

        vp8_mv_pred(v193, (a2 + 4224), v69, &v224, *(v69 + 2), v219, &v223, v240);
        v105 = 0;
        v106 = v223;
        v107 = v223 + v81;
        v223 += v81;
        if (v106 <= v82)
        {
          v86 = v83;
        }

        else
        {
          v86 = v107;
        }

        HIWORD(v230) = SHIWORD(v224) >> 3;
        LOWORD(v230) = v224 >> 3;
        v178 = 1;
        v79 = v104;
        v78 = v172;
        v108 = ((v172 + 7) >> 3) - 255;
        if (*(a2 + 8752) < v108)
        {
          goto LABEL_158;
        }
      }

      else
      {
        v105 = 0;
        v224 = HIDWORD(v228);
        HIWORD(v230) = SHIWORD(v228) >> 3;
        LOWORD(v230) = SWORD2(v228) >> 3;
        v86 = (v81 + v82);
        v108 = ((SHIWORD(v228) + 7) >> 3) - 255;
        if (v191 < v108)
        {
          goto LABEL_158;
        }
      }

      v109 = (v78 >> 3) + 255;
      if (*(a2 + 8756) > v109)
      {
        *(a2 + 8756) = v109;
        v110 = ((v79 + 7) >> 3) - 255;
        if (*(a2 + 8760) >= v110)
        {
          goto LABEL_161;
        }

LABEL_166:
        *(a2 + 8760) = v110;
        v111 = (v79 >> 3) + 255;
        if (*(a2 + 8764) <= v111)
        {
          goto LABEL_167;
        }

LABEL_162:
        *(a2 + 8764) = v111;
        v112 = v217;
        if (*v217 <= 7)
        {
          goto LABEL_163;
        }

LABEL_168:
        v113 = 0;
        if (*(v112 + 100) != 2)
        {
          goto LABEL_169;
        }

LABEL_164:
        v114 = vp8_hex_search(a2, a2 + 1864, a2 + 6368, &v230, (a2 + 6416), v105, v202, v207, (a2 + 8696), &v228 + 2);
        v115 = *(a2 + 6416);
        v44 = v203;
        *(v203 + 8) = v115;
        goto LABEL_179;
      }

      v110 = ((v79 + 7) >> 3) - 255;
      if (*(a2 + 8760) < v110)
      {
        goto LABEL_166;
      }

LABEL_161:
      v111 = (v79 >> 3) + 255;
      if (*(a2 + 8764) > v111)
      {
        goto LABEL_162;
      }

LABEL_167:
      v112 = v217;
      if (*v217 > 7)
      {
        goto LABEL_168;
      }

LABEL_163:
      v113 = *(v112 + 212) + ~v86;
      if (*(v112 + 100) == 2)
      {
        goto LABEL_164;
      }

LABEL_169:
      v114 = (*(v112 + 696))(a2, a2 + 1864, a2 + 6368, &v230, a2 + 6416, v86, v202, &v228, v207, v200, &v228 + 4);
      v115 = *(a2 + 6416);
      v44 = v203;
      *(v203 + 8) = v115;
      v116 = v228;
      LODWORD(v228) = 0;
      if (v116 >= v113)
      {
LABEL_179:
        v45 = v186;
        v62 = a2 + 30060;
        v61 = a2 + 29976;
        LODWORD(v77) = v180;
      }

      else
      {
        v117 = ~v116 + v113;
        v118 = (v86 + v116 + 1);
        v45 = v186;
        v77 = v180;
        while (1)
        {
          v119 = v77;
          v120 = v45;
          v121 = (*(v217 + 696))(a2, a2 + 1864, a2 + 6368, &v230, a2 + 6416, v118, v202, &v228, v207, v200, &v228 + 4);
          if (v121 >= v114)
          {
            v44 = v203;
            v115 = *(v203 + 8);
            *(a2 + 6416) = v115;
          }

          else
          {
            v115 = *(a2 + 6416);
            v44 = v203;
            *(v203 + 8) = v115;
            v114 = v121;
          }

          v45 = v120;
          v48 = v214;
          v62 = a2 + 30060;
          v61 = a2 + 29976;
          v77 = v119;
          if (!v117)
          {
            break;
          }

          while (1)
          {
            --v117;
            v118 = (v118 + 1);
            if (!v228)
            {
              break;
            }

            LODWORD(v228) = v228 - 1;
            if (!v117)
            {
              goto LABEL_180;
            }
          }
        }
      }

LABEL_180:
      *(a2 + 8752) = v191;
      v63 = a2 + 8600;
      if (v114 != 0x7FFFFFFF)
      {
LABEL_181:
        v122 = v45;
        v123 = v77;
        v124 = v44;
        (*(v217 + 680))(a2, a2 + 1864, a2 + 6368, a2 + 6416, &v228 + 4, *(a2 + 8632), v207, v188, &v226, &v225);
        LODWORD(v77) = v123;
        v62 = a2 + 30060;
        v61 = a2 + 29976;
        v44 = v124;
        v45 = v122;
        v48 = v214;
        v115 = *(a2 + 6416);
      }

      *(v44 + 8) = v115;
      v125 = *(a2 + 8228) - 128;
      if (v125 <= v115 >> 16 && (v125 = *(a2 + 8232) + 128, v125 >= v115 >> 16))
      {
        v125 = HIWORD(v115);
        v126 = v115;
        v127 = *(a2 + 8236) - 128;
        if (v127 > v115)
        {
          goto LABEL_198;
        }
      }

      else
      {
        *(v44 + 17) = v125;
        v126 = v115;
        v127 = *(a2 + 8236) - 128;
        if (v127 > v115)
        {
LABEL_198:
          *(v44 + 16) = v127;
          LOWORD(v115) = v127;
          goto LABEL_199;
        }
      }

      v127 = *(a2 + 8240) + 128;
      if (v127 < v126)
      {
        goto LABEL_198;
      }

LABEL_199:
      v129 = (v115 - SWORD2(v228)) >> 1;
      if (v129 >= 2047)
      {
        v129 = 2047;
      }

      v130 = *(*v188 + 4 * (v129 & ~(v129 >> 31)));
      v131 = (v125 - SHIWORD(v228)) >> 1;
      if (v131 >= 2047)
      {
        v131 = 2047;
      }

      LODWORD(v77) = v130 + v77 + *(v188[1] + 4 * (v131 & ~(v131 >> 31)));
      v75 = v181;
    }

    if (*(v44 + v75))
    {
      goto LABEL_205;
    }

LABEL_73:
    v67 = v64;
LABEL_74:
    ++v59;
    v64 = v67;
    if (v59 == 20)
    {
      goto LABEL_216;
    }
  }

  if (((0x51uLL >> v59) & 1) == 0 || v76 != 3)
  {
    goto LABEL_73;
  }

LABEL_205:
  v132 = v44 + 2 * v75;
  v133 = *v132 >> 3;
  if (*(a2 + 8760) > v133)
  {
    goto LABEL_73;
  }

  if (*(a2 + 8764) < v133)
  {
    goto LABEL_73;
  }

  v134 = v132[1] >> 3;
  if (*(a2 + 8752) > v134 || *(a2 + 8756) < v134)
  {
    goto LABEL_73;
  }

  v214 = v48;
  v135 = v44;
  v187 = v45;
  v136 = 0;
  v137 = 0;
  LOBYTE(v230) = *(&vp8_mode_contexts + 4 * v241[0]);
  BYTE1(v230) = *(&vp8_mode_contexts + 4 * v241[1] + 1);
  BYTE2(v230) = *(&vp8_mode_contexts + 4 * v241[2] + 2);
  HIBYTE(v230) = *(&vp8_mode_contexts + 4 * v241[3] + 3);
  v138 = (&vp8_mv_ref_encoding_array + 8 * (v75 - 5));
  v139 = *v138;
  v140 = v138[1] - 1;
  do
  {
    v136 += vp8_prob_cost[(*(&v230 + (v137 >> 1)) ^ -((v139 >> v140) & 1))];
    v137 = vp8_mv_ref_tree[((v139 >> v140--) & 1) + v137];
  }

  while (v140 != -1);
  *(*(a2 + 8096) + 4) = *v132;
  v141 = v136 + v77;
  v142 = evaluate_inter_mode(&v225, v136 + v77, &v226, v193, a2, v175);
  LODWORD(v77) = v141;
  v67 = v142;
  v45 = v187;
  v44 = v135;
  v63 = a2 + 8600;
  v62 = a2 + 30060;
  v61 = a2 + 29976;
  v48 = v214;
LABEL_122:
  if (!v222[935])
  {
    goto LABEL_141;
  }

  if (v68 != 1)
  {
    v95 = (v222[826] - *(v185 + 4 * v68)) > 8;
    if ((0x51uLL >> v59))
    {
      goto LABEL_125;
    }

    goto LABEL_137;
  }

  v95 = 0;
  if (((0x51uLL >> v59) & 1) == 0)
  {
LABEL_137:
    v97 = *(a2 + 8096);
    goto LABEL_138;
  }

LABEL_125:
  v96 = v225;
  v97 = *(a2 + 8096);
  if (v225 < v198 && !v95)
  {
    *(a2 + 8832) = *(v97 + 2);
    v198 = v96;
  }

LABEL_138:
  if (*v97 == 8)
  {
    v98 = v225;
    if (v225 < v199 && !v95)
    {
      *(a2 + 8820) = 8;
      *(a2 + 8824) = *(v97 + 4);
      *(a2 + 8836) = *(v97 + 10);
      *(a2 + 8828) = *(v97 + 2);
      v199 = v98;
    }
  }

LABEL_141:
  if (v67 >= v64 && !*(a2 + 8768))
  {
LABEL_69:
    v65 = *(v215 + 4 * v59);
    if (v65 <= 508)
    {
      v66 = v65 + 4;
    }

    else
    {
      v66 = 512;
    }

    *(v215 + 4 * v59) = v66;
    *(v61 + 4 * v59) = (*(v216 + 4 * v59) >> 7) * v66;
    goto LABEL_73;
  }

  *a5 = v77;
  *a6 = v226;
  v209 = v225;
  v99 = *(a2 + 8096);
  v211 = *v99;
  BYTE4(v205) = v99[1];
  v213 = v99[2];
  LOBYTE(v205) = v99[3];
  HIDWORD(v206) = *(v99 + 1);
  v229 = *(v99 + 4);
  LOBYTE(v206) = v99[10];
  v204 = v99[11];
  v100 = *(v215 + 4 * v59);
  if (v100 <= 33)
  {
    v101 = 32;
  }

  else
  {
    v101 = v100 - 2;
  }

  *(v215 + 4 * v59) = v101;
  v102 = *(a2 + 8768);
  *(v61 + 4 * v59) = (*(v216 + 4 * v59) >> 7) * v101;
  v210 = v59;
  if (!v102)
  {
    goto LABEL_74;
  }

LABEL_216:
  if ((*(v216 + 4 * v210) - 1) <= 0x1FFFFFFD)
  {
    v143 = *(v215 + 4 * v210);
    if (v143 >= (v143 >> 3) + 32)
    {
      v144 = v143 - (v143 >> 3);
    }

    else
    {
      v144 = 32;
    }

    *(v215 + 4 * v210) = v144;
    *(v61 + 4 * v210) = v144 * (*(v216 + 4 * v210) >> 7);
  }

  v145 = *a6 >> 7;
  if (v145 >= 1023)
  {
    v145 = 1023;
  }

  ++*(a2 + 4 * v145 + 30160);
  v146 = v222[935];
  v147 = v211;
  if (v146)
  {
    v148 = v222[133];
    v149 = *(a2 + 8820);
    if (v149)
    {
      v150 = a8;
      v151 = v217;
      v152 = a9 + v148 * a8;
      if (v146 == 4)
      {
        goto LABEL_226;
      }

LABEL_229:
      v154 = *(v151 + 352) > 1000;
      v155 = v45;
      *(a2 + 8816) = 0;
      if (!*(a2 + 8808))
      {
        goto LABEL_230;
      }
    }

    else
    {
      *(a2 + 8820) = v211;
      *(a2 + 8824) = HIDWORD(v206);
      *(a2 + 8836) = v206;
      *(a2 + 8828) = v213;
      v149 = v211;
      v199 = v209;
      v150 = a8;
      v151 = v217;
      v152 = a9 + v148 * a8;
      if (v222[935] != 4)
      {
        goto LABEL_229;
      }

LABEL_226:
      v153 = 96207267450 * v195[200];
      v154 = v195[201] > ((v153 >> 37) + (v153 >> 63));
      v155 = v45;
      *(a2 + 8816) = 0;
      if (!*(a2 + 8808))
      {
LABEL_230:
        if (v149 == 7)
        {
          v156 = *(a2 + 8828);
          if (v156 == 1 || v156 == v195[614])
          {
            v157 = !v154;
            if (*(*(v151 + 328) + v152) < 0x14u)
            {
              v157 = 1;
            }

            if ((v157 & 1) == 0)
            {
              *(a2 + 8816) = 1;
            }
          }
        }
      }
    }

    *(a2 + 8812) = 0;
    vp8_denoiser_denoise_mb(v193 + 148208, a2, v199, v198, a3, a4, (v193 + 111156), v150, a9, v152, *(*(v151 + 336) + v152));
    if (v213)
    {
      LODWORD(v45) = v155;
      if (v211 == 7 || !*(a2 + 8812) || !v194 || *(v151 + 352) <= 2000)
      {
        goto LABEL_246;
      }
    }

    else
    {
      LODWORD(v45) = v155;
      if (!v194)
      {
        goto LABEL_246;
      }
    }

    v158 = *(a2 + 8832);
    if (v158)
    {
      v159 = *(v63 + 4 * v158);
      v160 = vp8_prob_cost[*(&vp8_mode_contexts + 16 * v241[0])];
      v226 = 0;
      v161 = *(a2 + 8096);
      *(v161 + 2) = v158;
      v162 = &v234 + 24 * v158;
      *v220 = *v162;
      *(a2 + 7848) = *(v162 + 2);
      *v161 = 7;
      *(v161 + 4) = 0;
      v163 = evaluate_inter_mode(&v225, v160 + v159, &v226, v193, a2, 100);
      LODWORD(v45) = v155;
      if (v163 < v67)
      {
        v164 = *(a2 + 8096);
        v147 = *v164;
        BYTE4(v205) = v164[1];
        v213 = v164[2];
        LOBYTE(v205) = v164[3];
        HIDWORD(v206) = *(v164 + 1);
        v229 = *(v164 + 4);
        LOBYTE(v206) = v164[10];
        v204 = v164[11];
      }
    }
  }

LABEL_246:
  if (!*(v221 + 256) || v147 == 7 && v213 == 3)
  {
    if (*(a2 + 8768))
    {
      if (v147 <= 4)
      {
        goto LABEL_251;
      }

LABEL_256:
      v166 = *(a2 + 8096);
      if (v45 == *(v219 + 4 * *(v166 + 2)))
      {
        goto LABEL_257;
      }

LABEL_252:
      HIDWORD(v228) = *(v243 | (4 * (v45 == 0)));
      if (*v166 == 8)
      {
        goto LABEL_258;
      }
    }

    else
    {
      v169 = *(a2 + 8096);
      *v169 = v147;
      *(v169 + 1) = BYTE4(v205);
      *(v169 + 2) = v213;
      *(v169 + 3) = v205;
      *(v169 + 4) = HIDWORD(v206);
      *(v169 + 8) = v229;
      *(v169 + 10) = v206;
      *(v169 + 11) = v204;
      if (v147 > 4)
      {
        goto LABEL_256;
      }

LABEL_251:
      v165 = v45;
      pick_intra_mbuv_mode(a2);
      LODWORD(v45) = v165;
      v166 = *(a2 + 8096);
      if (v165 != *(v219 + 4 * *(v166 + 2)))
      {
        goto LABEL_252;
      }

LABEL_257:
      if (*v166 == 8)
      {
LABEL_258:
        v170 = ((*(v166 + 4) - SWORD2(v228)) >> 1) + 1023;
        if (v170 <= 0x7FE)
        {
          v171 = ((*(v166 + 6) - SHIWORD(v228)) >> 1) + 1023;
          if (v171 <= 0x7FE)
          {
            ++*(a2 + 4 * v170 + 13452);
            ++*(a2 + 4 * v171 + 21640);
          }
        }
      }
    }
  }

  else
  {
    v167 = *(a2 + 8096);
    *v167 = 7;
    *(v167 + 2) = 3;
    *(v167 + 4) = 0;
    v168 = *(a2 + 8096);
    v168[1] = 0;
    v168[9] = v222[135];
    v168[8] = 0;
  }
}

uint64_t check_dot_artifact_candidate(uint64_t a1, uint64_t a2, unsigned __int8 *a3, int a4, unsigned __int8 *a5, int a6, int a7, int a8)
{
  v8 = a2 + 0x8000;
  v9 = *(a1 + 111072);
  v10 = *(a1 + 111080);
  if (a8 <= 0)
  {
    v11 = 15;
  }

  else
  {
    v11 = 7;
  }

  v12 = *(a1 + 114516);
  *(a2 + 34292) = 0;
  if (*(a1 + 149248))
  {
    return 0;
  }

  if (v12 <= 1)
  {
    v14 = 30;
  }

  else
  {
    v14 = 20;
  }

  if (v14 >= *(*(a1 + 143128) + a7 + v10 * a6))
  {
    return 0;
  }

  v15 = *(a2 + 34288);
  if (v15 >= v9 / 10 || *(a1 + 114308))
  {
    return 0;
  }

  *(a2 + 34292) = 1;
  v17 = *a5;
  v18 = a4 + 1;
  v19 = v17 - a5[1];
  if ((v19 & 0x80000000) != 0)
  {
    v19 = a5[1] - v17;
  }

  v20 = v17 - a5[a4];
  if (v20 < 0)
  {
    v20 = a5[a4] - v17;
  }

  if (v19 <= v20)
  {
    v19 = v20;
  }

  v21 = v17 - a5[v18];
  if (v21 < 0)
  {
    v21 = -v21;
  }

  if (v19 <= v21)
  {
    v19 = v21;
  }

  v22 = *a3;
  v23 = a3[v18];
  v24 = v22 - a3[1];
  if (v24 < 0)
  {
    v24 = a3[1] - v22;
  }

  v25 = v22 - a3[a4];
  if (v25 < 0)
  {
    v25 = a3[a4] - v22;
  }

  if (v24 > v25)
  {
    v25 = v24;
  }

  v26 = v22 - v23;
  if (v26 < 0)
  {
    v26 = -v26;
  }

  if (v25 > v26)
  {
    v26 = v25;
  }

  if (v19 >= 6 && v26 < 4)
  {
    goto LABEL_62;
  }

  v27 = a5[v11];
  v28 = v11 + a4;
  v29 = v28 - 1;
  v30 = v27 - a5[(v11 - 1)];
  if (v30 < 0)
  {
    v30 = a5[(v11 - 1)] - v27;
  }

  v31 = v27 - a5[v28];
  if (v31 < 0)
  {
    v31 = a5[v28] - v27;
  }

  if (v30 <= v31)
  {
    v30 = v31;
  }

  v32 = v27 - a5[v29];
  if (v32 < 0)
  {
    v32 = -v32;
  }

  v33 = a3[v11];
  v34 = a3[v28];
  v35 = a3[v29];
  if (v30 > v32)
  {
    v32 = v30;
  }

  v36 = v33 - a3[(v11 - 1)];
  if (v36 < 0)
  {
    v36 = a3[(v11 - 1)] - v33;
  }

  v37 = v33 - v34;
  if ((v37 & 0x80000000) != 0)
  {
    v37 = -v37;
  }

  if (v36 > v37)
  {
    v37 = v36;
  }

  v38 = v33 - v35;
  if (v33 - v35 < 0)
  {
    v38 = v35 - v33;
  }

  if (v37 <= v38)
  {
    v37 = v38;
  }

  if (v32 >= 6 && v37 < 4 || (v41 = macroblock_corner_grad(a5, a4, v11, 0, 1), v42 = macroblock_corner_grad(a3, a4, v11, 0, 1), v41 >= 6) && v42 < 4 || (v43 = macroblock_corner_grad(a5, a4, v11, v11, -1), v44 = macroblock_corner_grad(a3, a4, v11, v11, -1), result = 0, v43 >= 6) && v44 <= 3)
  {
LABEL_62:
    *(v8 + 1520) = v15 + 1;
    return 1;
  }

  return result;
}

uint64_t pick_intra4x4mby_modes(uint64_t a1, _DWORD *a2, _DWORD *a3)
{
  v4 = 0;
  v5 = 0;
  v6 = 0;
  v63[1] = *MEMORY[0x277D85DE8];
  v7 = *(*(a1 + 8712) + 40 * *(a1 + 8108) + 16);
  v8 = *(a1 + 7952);
  v9 = (*(a1 + 7992) - v8);
  v10 = v9[4];
  v9 += 4;
  v9[v8] = v10;
  v9[2 * v8] = v10;
  v9[3 * v8] = *v9;
  v11 = (a1 + 1948);
  v57 = *(a1 + 8736);
  while (1)
  {
    v12 = *(a1 + 8096);
    v13 = v12 + 4 * v5;
    if (!*(a1 + 8108))
    {
      if (v5 > 3)
      {
        v14 = *(v13 - 4);
      }

      else
      {
        v14 = 0;
        v15 = (v12 - 76 * *(a1 + 8104));
        v16 = *v15;
        if (v16 > 2)
        {
          if (v16 == 3)
          {
            v14 = 1;
          }

          else if (v16 == 4)
          {
            v14 = *&v15[4 * v5 + 60];
          }
        }

        else if (v16 == 1)
        {
          v14 = 2;
        }

        else if (v16 == 2)
        {
          v14 = 3;
        }
      }

      if ((v5 & 3) != 0)
      {
        v17 = *(v13 + 8);
      }

      else
      {
        v17 = 0;
        v44 = *(v12 - 76);
        if (v44 > 2)
        {
          if (v44 == 3)
          {
            v17 = 1;
          }

          else if (v44 == 4)
          {
            v17 = *(v13 - 52);
          }
        }

        else if (v44 == 1)
        {
          v17 = 2;
        }

        else if (v44 == 2)
        {
          v17 = 3;
        }
      }

      v57 = (*(a1 + 8728) + 400 * v14 + 40 * v17);
    }

    v49 = v13;
    v50 = v7;
    v51 = v5;
    v52 = v4;
    v53 = v6;
    v18 = *(a1 + 7952);
    v19 = a1 + v4;
    v20 = *(a1 + 7992) + *(a1 + v4 + 6400);
    v21 = (v20 - v18);
    v22 = *(v20 - v18 - 1);
    v24 = *(v20 - 1);
    v23 = (v20 - 1);
    v25 = *v57;
    v58 = v24;
    v59 = v23[v18];
    v60 = v23[2 * v18];
    v26 = *(v19 + 6384);
    v61 = v23[3 * v18];
    v63[0] = *v21;
    v62 = v22;
    pred_0(v26, 16, v63, &v58);
    v27 = vpx_get4x4sse_cs(**(v11 - 3) + *(v11 - 1), *v11, *(v19 + 6384), 16);
    v28 = *(a1 + 8644) * v27 + ((*(a1 + 8648) * v25 + 128) >> 8);
    if (v28 == 0x7FFFFFFF)
    {
      v29 = 14;
    }

    else
    {
      v29 = 0;
    }

    if (v28 == 0x7FFFFFFF)
    {
      v30 = 0;
    }

    else
    {
      v30 = v25;
    }

    v55 = v30;
    v56 = v29;
    if (v28 == 0x7FFFFFFF)
    {
      v31 = 0;
    }

    else
    {
      v31 = v27;
    }

    v54 = v31;
    v48 = v57[1];
    v58 = *v23;
    v59 = v23[v18];
    v60 = v23[2 * v18];
    v32 = *(v19 + 6384);
    v61 = v23[3 * v18];
    v63[0] = *v21;
    v62 = v22;
    off_280906170(v32, 16, v63, &v58);
    v33 = vpx_get4x4sse_cs(**(v11 - 3) + *(v11 - 1), *v11, *(v19 + 6384), 16);
    if (*(a1 + 8644) * v33 + ((*(a1 + 8648) * v48 + 128) >> 8) >= v28)
    {
      v34 = v28;
    }

    else
    {
      v55 = v48;
      v56 = 1;
      v54 = v33;
      v34 = *(a1 + 8644) * v33 + ((*(a1 + 8648) * v48 + 128) >> 8);
    }

    v35 = v57[2];
    v58 = *v23;
    v59 = v23[v18];
    v60 = v23[2 * v18];
    v36 = *(v19 + 6384);
    v61 = v23[3 * v18];
    v63[0] = *v21;
    v62 = v22;
    off_280906178(v36, 16, v63, &v58);
    v37 = vpx_get4x4sse_cs(**(v11 - 3) + *(v11 - 1), *v11, *(v19 + 6384), 16);
    if (*(a1 + 8644) * v37 + ((*(a1 + 8648) * v35 + 128) >> 8) < v34)
    {
      v55 = v35;
      v56 = 2;
      v54 = v37;
      v34 = *(a1 + 8644) * v37 + ((*(a1 + 8648) * v35 + 128) >> 8);
    }

    v38 = v57[3];
    v58 = *v23;
    v59 = v23[v18];
    v60 = v23[2 * v18];
    v39 = *(v19 + 6384);
    v61 = v23[3 * v18];
    v63[0] = *v21;
    v62 = v22;
    off_280906180(v39, 16, v63, &v58);
    v40 = vpx_get4x4sse_cs(**(v11 - 3) + *(v11 - 1), *v11, *(v19 + 6384), 16);
    v41 = *(a1 + 8644) * v40 + ((*(a1 + 8648) * v38 + 128) >> 8);
    v42 = v41 >= v34 ? v56 : 3;
    if (v41 < v34)
    {
      v43 = v40;
    }

    else
    {
      v38 = v55;
      v43 = v54;
    }

    *(a1 + v52 + 6416) = v42;
    vp8_encode_intra4x4block(a1, v51);
    v7 = v38 + v50;
    v6 = v43 + v53;
    *(v49 + 12) = v42;
    if (v43 + v53 > *a3)
    {
      break;
    }

    v5 = v51 + 1;
    v11 += 22;
    v4 = v52 + 56;
    if (v51 == 15)
    {
      *a2 = v7;
      *a3 = v6;
      return (*(a1 + 8644) * v6 + ((*(a1 + 8648) * v7 + 128) >> 8));
    }
  }

  *a2 = v7;
  result = 0x7FFFFFFFLL;
  *a3 = 0x7FFFFFFF;
  return result;
}

uint64_t evaluate_inter_mode(unsigned int *a1, int a2, int *a3, uint64_t a4, uint64_t a5, int a6)
{
  v11 = *(a5 + 8096);
  v12 = *v11;
  v13 = *(v11 + 1);
  if (*(a4 + 143088) && !**(a5 + 8784))
  {
    *a1 = 0;
    *a3 = 0;
    *(a5 + 8768) = 1;
    return 0x7FFFFFFFLL;
  }

  v14 = (a4 + 149180);
  v15 = (a4 + 111100);
  if (v12 == 8 && *(a4 + 142916) && *v15 != 1)
  {
    v18 = *a3;
  }

  else
  {
    v16 = HIWORD(v13) & 7;
    v17 = *(a5 + 7832) + *(a5 + 6400) + *(a5 + 7792) * (v13 >> 3) + (v13 >> 19);
    if (v16 | *(v11 + 1) & 7)
    {
      v18 = (*(a4 + 143640))(v17, *(a5 + 7792));
    }

    else
    {
      v18 = (*(a4 + 143632))(**(a5 + 1936) + *(a5 + 1944), *(a5 + 1948), v17, *(a5 + 7792), a1);
    }

    *a3 = v18;
  }

  v19 = (*(a5 + 8644) * v18 + ((*(a5 + 8648) * a2 + 128) >> 8));
  if (v15[797] >= 1)
  {
    v20 = *v14 != 3;
    if (v15[802])
    {
      goto LABEL_22;
    }

LABEL_14:
    if (v12 == 7 && *(*(a5 + 8096) + 2) == 1 && (!v20 || v14[415] == 1))
    {
      if (*(a5 + 8808))
      {
        v21 = 100;
      }

      else
      {
        v21 = a6;
      }

      v19 = (v21 * v19 / 100);
    }

    goto LABEL_22;
  }

  v20 = 1;
  if (!v15[802])
  {
    goto LABEL_14;
  }

LABEL_22:
  v22 = *(*(a5 + 6392) + 2);
  v23 = (v22 * v22) >> 4;
  if (v23 <= *(a5 + 8772))
  {
    v23 = *(a5 + 8772);
  }

  if (v23 > *a1)
  {
    *(a5 + 8768) = *(a5 + 8772) > 2 * VP8_UVSSE(a5);
  }

  return v19;
}

uint64_t pick_intra_mbuv_mode(uint64_t a1)
{
  v146 = *MEMORY[0x277D85DE8];
  v1 = *(a1 + 8000);
  v2 = *(a1 + 7972);
  v3 = (v1 - v2);
  v4 = *(a1 + 8008);
  v5 = (v4 - v2);
  v6 = *(a1 + 3352);
  v7 = **(a1 + 3344);
  v8 = *(a1 + 3704);
  v9 = **(a1 + 3696);
  v126 = *(a1 + 3356);
  v141 = *(v4 - v2 - 1);
  v142 = *(v1 - v2 - 1);
  v11 = *--v1;
  v10 = v11;
  v13 = *--v4;
  v12 = v13;
  v145[0] = v10;
  v144[0] = v13;
  v14 = *(v1 + v2);
  v15 = *(v4 + v2);
  v145[1] = *(v1 + v2);
  v144[1] = v15;
  v16 = *(v1 + 2 * v2);
  v145[2] = *(v1 + 2 * v2);
  v17 = *(v4 + 2 * v2);
  v144[2] = *(v4 + 2 * v2);
  v18 = *(v1 + 3 * v2);
  v145[3] = *(v1 + 3 * v2);
  v19 = *(v4 + 3 * v2);
  v20 = *(v1 + 4 * v2);
  v144[3] = *(v4 + 3 * v2);
  v145[4] = v20;
  v21 = *(v4 + 4 * v2);
  v144[4] = *(v4 + 4 * v2);
  v22 = *(v1 + 5 * v2);
  v145[5] = *(v1 + 5 * v2);
  v23 = *(v4 + 5 * v2);
  v144[5] = *(v4 + 5 * v2);
  v24 = *(v1 + 6 * v2);
  v145[6] = *(v1 + 6 * v2);
  v25 = *(v4 + 6 * v2);
  v144[6] = *(v4 + 6 * v2);
  v2 *= 7;
  v26 = *(v1 + v2);
  v145[7] = *(v1 + v2);
  v27 = *(v4 + v2);
  v144[7] = *(v4 + v2);
  v28 = (v7 + v6);
  v29 = (v9 + v8);
  if (*(a1 + 8112))
  {
    v30 = vaddlvq_u16(vmovl_u8(*v3));
    v31 = vaddlvq_u16(vmovl_u8(*v5));
    if (!*(a1 + 8116))
    {
      v32 = 3;
      goto LABEL_8;
    }

    v32 = 4;
  }

  else
  {
    if (!*(a1 + 8116))
    {
      v34 = 128;
      v35 = 128;
      goto LABEL_9;
    }

    v31 = 0;
    v30 = 0;
    v32 = 3;
  }

  v30 += v14 + v10 + v16 + v18 + v20 + v22 + v24 + v26;
  v31 += v15 + v12 + v17 + v19 + v21 + v23 + v25 + v27;
LABEL_8:
  v33 = 1 << (v32 - 1);
  v34 = (v33 + v30) >> v32;
  v35 = (v31 + v33) >> v32;
LABEL_9:
  v36 = 0;
  v37 = v3->u8[1];
  v38 = v5->u8[1];
  v39 = v3->u8[2];
  v40 = v5->u8[4];
  v41 = v3->u8[5];
  v42 = v5->u8[5];
  v43 = v3->u8[6];
  v44 = v5->u8[6];
  v45 = v3->u8[7];
  LODWORD(v50) = v34;
  LODWORD(v46) = v34;
  v135 = v3->u8[4];
  v136 = v5->u8[3];
  HIDWORD(v46) = v135;
  LODWORD(v53) = v35;
  v47 = __PAIR64__(v136, v35);
  LODWORD(v48) = v34;
  v137 = v3->u8[3];
  v138 = v5->u8[2];
  HIDWORD(v48) = v137;
  v49 = __PAIR64__(v138, v35);
  v139 = v5->u8[0];
  v140 = v3->u8[0];
  HIDWORD(v50) = v140;
  v51 = 0uLL;
  v52 = v5->u8[7];
  HIDWORD(v53) = v139;
  v133 = v43;
  v134 = v42;
  v131 = v45;
  v132 = v44;
  v129 = v52;
  v130 = v41;
  v128 = v40;
  do
  {
    v87 = v145[v36];
    v88 = v87 - v142;
    v89 = v144[v36];
    v90 = v89 - v141;
    v92 = v43;
    if (((v88 + v140) & ~((v88 + v140) >> 31)) >= 255)
    {
      v93 = 255;
    }

    else
    {
      v93 = (v88 + v140) & ~((v88 + v140) >> 31);
    }

    v91 = v89 - v141 + v139;
    if ((v91 & ~(v91 >> 31)) >= 255)
    {
      v94 = 255;
    }

    else
    {
      v94 = v91 & ~(v91 >> 31);
    }

    v95 = v44;
    v96 = v37;
    v97 = v38;
    if (((v88 + v37) & ~((v88 + v37) >> 31)) >= 255)
    {
      v98 = 255;
    }

    else
    {
      v98 = (v88 + v37) & ~((v88 + v37) >> 31);
    }

    v99 = (v90 + v38) & ~((v90 + v38) >> 31);
    if (v99 >= 255)
    {
      result = 255;
    }

    else
    {
      result = v99;
    }

    v101 = v39;
    if (((v88 + v39) & ~((v88 + v39) >> 31)) >= 255)
    {
      v103 = 255;
    }

    else
    {
      v103 = (v88 + v39) & ~((v88 + v39) >> 31);
    }

    v102 = v90 + v138;
    if ((v102 & ~(v102 >> 31)) >= 255)
    {
      v104 = 255;
    }

    else
    {
      v104 = v102 & ~(v102 >> 31);
    }

    v106 = v42;
    if (((v88 + v137) & ~((v88 + v137) >> 31)) >= 255)
    {
      v107 = 255;
    }

    else
    {
      v107 = (v88 + v137) & ~((v88 + v137) >> 31);
    }

    v105 = v90 + v136;
    v108 = v41;
    if ((v105 & ~(v105 >> 31)) >= 255)
    {
      v109 = 255;
    }

    else
    {
      v109 = v105 & ~(v105 >> 31);
    }

    v110 = v90 + v40;
    if (((v88 + v135) & ~((v88 + v135) >> 31)) >= 255)
    {
      v111 = 255;
    }

    else
    {
      v111 = (v88 + v135) & ~((v88 + v135) >> 31);
    }

    if ((v110 & ~(v110 >> 31)) >= 255)
    {
      v112 = 255;
    }

    else
    {
      v112 = v110 & ~(v110 >> 31);
    }

    if (((v88 + v108) & ~((v88 + v108) >> 31)) >= 255)
    {
      v114 = 255;
    }

    else
    {
      v114 = (v88 + v108) & ~((v88 + v108) >> 31);
    }

    v113 = v90 + v106;
    if ((v113 & ~(v113 >> 31)) >= 255)
    {
      v115 = 255;
    }

    else
    {
      v115 = v113 & ~(v113 >> 31);
    }

    v116 = (v88 + v92) & ~((v88 + v92) >> 31);
    if (v116 >= 255)
    {
      v116 = 255;
    }

    v143 = v116;
    v117 = (v90 + v95) & ~((v90 + v95) >> 31);
    if (v117 >= 255)
    {
      v117 = 255;
    }

    v118 = v90 + v52;
    v119 = (v88 + v45) & ~((v88 + v45) >> 31);
    if (v119 >= 255)
    {
      v120 = 255;
    }

    else
    {
      v120 = v119;
    }

    v121 = v118 & ~(v118 >> 31);
    if (v121 >= 255)
    {
      v121 = 255;
    }

    if (v36 == 3)
    {
      v54 = (**(a1 + 3520) + *(a1 + 3528));
      v55 = (**(a1 + 3872) + *(a1 + 3880));
    }

    else
    {
      v54 = &v28[v126];
      v55 = &v29[v126];
    }

    v56.i64[0] = v49;
    v56.i32[2] = v144[v36];
    v56.i32[3] = v104;
    v57.i64[0] = v50;
    v57.i64[1] = __PAIR64__(v93, v87);
    v58.i64[0] = v53;
    v58.i64[1] = __PAIR64__(v94, v89);
    v59 = vsubq_s32(vdupq_n_s32(*v28), v57);
    v37 = v96;
    v57.i32[1] = v96;
    v57.i32[3] = v98;
    v60 = vsubq_s32(vdupq_n_s32(*v29), v58);
    v38 = v97;
    v58.i32[1] = v97;
    v58.i32[3] = result;
    v61 = vsubq_s32(vdupq_n_s32(v28[1]), v57);
    v57.i32[1] = v101;
    v57.i32[3] = v103;
    v62.i64[0] = v48;
    v62.i32[2] = v145[v36];
    v62.i32[3] = v107;
    v39 = v101;
    v63.i64[0] = v47;
    v63.i64[1] = __PAIR64__(v109, v89);
    v64.i64[0] = v46;
    v64.i64[1] = __PAIR64__(v111, v62.u32[2]);
    v65 = v63;
    v40 = v128;
    v65.i32[1] = v128;
    v65.i32[3] = v112;
    v66 = vsubq_s32(vdupq_n_s32(v28[4]), v64);
    v41 = v130;
    v64.i32[1] = v130;
    v64.i32[3] = v114;
    v67 = v63;
    v43 = v133;
    v42 = v134;
    v67.i32[1] = v134;
    v67.i32[3] = v115;
    v68 = vsubq_s32(vdupq_n_s32(v28[5]), v64);
    v64.i32[1] = v133;
    v64.i32[3] = v143;
    v69 = v63;
    v45 = v131;
    v44 = v132;
    v69.i32[1] = v132;
    v69.i32[3] = v117;
    v70 = vsubq_s32(vdupq_n_s32(v28[6]), v64);
    v64.i32[1] = v131;
    v64.i32[3] = v120;
    v71 = vsubq_s32(vdupq_n_s32(v29[3]), v63);
    v52 = v129;
    v63.i32[1] = v129;
    v63.i32[3] = v121;
    v72 = vsubq_s32(vdupq_n_s32(v29[2]), v56);
    v73 = vsubq_s32(vdupq_n_s32(v29[1]), v58);
    v74 = vmlaq_s32(vmlaq_s32(vmlaq_s32(vmlaq_s32(v51, v59, v59), v60, v60), v61, v61), v73, v73);
    v75 = vsubq_s32(vdupq_n_s32(v28[2]), v57);
    v76 = vmlaq_s32(v74, v75, v75);
    v77 = vsubq_s32(vdupq_n_s32(v28[3]), v62);
    v78 = vmlaq_s32(vmlaq_s32(vmlaq_s32(v76, v72, v72), v77, v77), v71, v71);
    v79 = vsubq_s32(vdupq_n_s32(v29[4]), v65);
    v80 = vmlaq_s32(vmlaq_s32(v78, v66, v66), v79, v79);
    v81 = vsubq_s32(vdupq_n_s32(v29[5]), v67);
    v82 = vmlaq_s32(vmlaq_s32(v80, v68, v68), v81, v81);
    v83 = vsubq_s32(vdupq_n_s32(v29[6]), v69);
    v84 = vmlaq_s32(vmlaq_s32(v82, v70, v70), v83, v83);
    v85 = vsubq_s32(vdupq_n_s32(v28[7]), v64);
    v86 = vsubq_s32(vdupq_n_s32(v29[7]), v63);
    v51 = vmlaq_s32(vmlaq_s32(v84, v85, v85), v86, v86);
    ++v36;
    v28 = v54;
    v29 = v55;
  }

  while (v36 != 8);
  v122 = v51.i32[1];
  if (v51.i32[0] == 0x7FFFFFFF)
  {
    v123 = 10;
  }

  else
  {
    v123 = 0;
  }

  if (v51.i32[0] < v51.i32[1])
  {
    v122 = v51.i32[0];
  }

  if (v51.i32[0] > v51.i32[1])
  {
    v123 = 1;
  }

  v124 = v122 <= v51.i32[2];
  if (v122 >= v51.i32[2])
  {
    v122 = v51.i32[2];
  }

  if (!v124)
  {
    v123 = 2;
  }

  if (v122 <= v51.i32[3])
  {
    v125 = v123;
  }

  else
  {
    v125 = 3;
  }

  *(*(a1 + 8096) + 1) = v125;
  return result;
}

uint64_t vp8_pick_intra_mode(uint64_t a1, _DWORD *a2)
{
  v15 = 0;
  *(*(a1 + 8096) + 2) = 0;
  pick_intra_mbuv_mode(a1);
  **(a1 + 8096) = 0;
  vp8_build_intra_predictors_mby_s(a1 + 4224, *(a1 + 7992) - *(a1 + 7952), (*(a1 + 7992) - 1), *(a1 + 7952), a1 + 4224, 16);
  v4 = *(a1 + 8644) * vpx_variance16x16(**(a1 + 1936), *(a1 + 1948), a1 + 4224, 16, &v15) + ((*(a1 + 8648) * *(*(a1 + 8712) + 40 * *(a1 + 8108)) + 128) >> 8);
  if (v4 == 0x7FFFFFFF)
  {
    v5 = 0;
  }

  else
  {
    v5 = v15;
  }

  if (v4 == 0x7FFFFFFF)
  {
    v6 = 0;
  }

  else
  {
    v6 = *(*(a1 + 8712) + 40 * *(a1 + 8108));
  }

  **(a1 + 8096) = 1;
  vp8_build_intra_predictors_mby_s(a1 + 4224, *(a1 + 7992) - *(a1 + 7952), (*(a1 + 7992) - 1), *(a1 + 7952), a1 + 4224, 16);
  v7 = vpx_variance16x16(**(a1 + 1936), *(a1 + 1948), a1 + 4224, 16, &v15);
  v8 = *(*(a1 + 8712) + 40 * *(a1 + 8108) + 4);
  if (v4 <= *(a1 + 8644) * v7 + ((*(a1 + 8648) * v8 + 128) >> 8))
  {
    v9 = 0;
  }

  else
  {
    v9 = 1;
    v5 = v15;
    v6 = *(*(a1 + 8712) + 40 * *(a1 + 8108) + 4);
    v4 = *(a1 + 8644) * v7 + ((*(a1 + 8648) * v8 + 128) >> 8);
  }

  **(a1 + 8096) = 2;
  vp8_build_intra_predictors_mby_s(a1 + 4224, *(a1 + 7992) - *(a1 + 7952), (*(a1 + 7992) - 1), *(a1 + 7952), a1 + 4224, 16);
  v10 = vpx_variance16x16(**(a1 + 1936), *(a1 + 1948), a1 + 4224, 16, &v15);
  v11 = *(*(a1 + 8712) + 40 * *(a1 + 8108) + 8);
  if (v4 > *(a1 + 8644) * v10 + ((*(a1 + 8648) * v11 + 128) >> 8))
  {
    v9 = 2;
    v5 = v15;
    v6 = *(*(a1 + 8712) + 40 * *(a1 + 8108) + 8);
    v4 = *(a1 + 8644) * v10 + ((*(a1 + 8648) * v11 + 128) >> 8);
  }

  **(a1 + 8096) = 3;
  vp8_build_intra_predictors_mby_s(a1 + 4224, *(a1 + 7992) - *(a1 + 7952), (*(a1 + 7992) - 1), *(a1 + 7952), a1 + 4224, 16);
  v12 = vpx_variance16x16(**(a1 + 1936), *(a1 + 1948), a1 + 4224, 16, &v15);
  v13 = *(*(a1 + 8712) + 40 * *(a1 + 8108) + 12);
  if (v4 > *(a1 + 8644) * v12 + ((*(a1 + 8648) * v13 + 128) >> 8))
  {
    v9 = 3;
    v5 = v15;
    v6 = *(*(a1 + 8712) + 40 * *(a1 + 8108) + 12);
    v4 = *(a1 + 8644) * v12 + ((*(a1 + 8648) * v13 + 128) >> 8);
  }

  v16 = v5;
  v17 = v13;
  **(a1 + 8096) = v9;
  result = pick_intra4x4mby_modes(a1, &v17, &v16);
  if (result < v4)
  {
    **(a1 + 8096) = 4;
    v6 = v17;
  }

  *a2 = v6;
  return result;
}

uint64_t macroblock_corner_grad(uint64_t a1, int a2, int a3, int a4, int a5)
{
  v5 = a4 + (a3 * a2);
  v6 = *(a1 + v5);
  v7 = a4 + ((a3 - 1) * a2);
  v8 = *(a1 + v7);
  v9 = *(a1 + a5 + v7);
  v10 = v6 - *(a1 + a5 + v5);
  if ((v10 & 0x80000000) != 0)
  {
    v10 = -v10;
  }

  v11 = v6 - v8;
  if (v6 - v8 < 0)
  {
    v11 = v8 - v6;
  }

  if (v10 <= v11)
  {
    v10 = v11;
  }

  v12 = v6 - v9;
  if (v12 < 0)
  {
    v12 = -v12;
  }

  if (v10 <= v12)
  {
    return v12;
  }

  else
  {
    return v10;
  }
}

void vp8cx_pick_filter_level_fast(uint64_t a1, uint64_t a2)
{
  v3 = (a2 + 114292);
  v4 = (a2 + 109880);
  v5 = *(a2 + 111104);
  if (*(a2 + 114968) && *(a2 + 111572))
  {
    if (v5 >= 7 && *(a2 + 111576) != 0)
    {
      goto LABEL_7;
    }

LABEL_12:
    v109 = 0;
    goto LABEL_13;
  }

  if (v5 < 7)
  {
    goto LABEL_12;
  }

LABEL_7:
  if (v5 < 0x11)
  {
    v7 = 1;
  }

  else
  {
    v7 = v5 >> 3;
  }

  v109 = v7;
LABEL_13:
  if (*(a2 + 147512) <= 8u)
  {
    v8 = 63;
  }

  else
  {
    v8 = 47;
  }

  v106 = v8;
  v110 = *v4;
  *v4 = a2 + 114992;
  if (*(a2 + 111060))
  {
    v9 = *v3;
    *(a2 + 111564) = *v3;
    if (v9 == *(a2 + 111560))
    {
      goto LABEL_18;
    }

LABEL_21:
    v12 = v9 > 4;
    v13 = (a2 + 111284);
    v14 = v9 > 0;
    v15 = 0;
    v16 = 0;
    if (v9 <= 0)
    {
      do
      {
        v20 = v15 >> v14 >> v12;
        if (v20 <= 1)
        {
          LOBYTE(v20) = 1;
        }

        *v13 = v20;
        v21 = v16 + v20;
        *(v13 - 64) = v21;
        *(v13 - 128) = v21 + 4;
        v16 += 2;
        ++v13;
        ++v15;
      }

      while (v16 != 128);
    }

    else
    {
      v17 = 9 - v9;
      do
      {
        v18 = v15 >> v14 >> v12;
        if (v18 >= v17)
        {
          v18 = v17;
        }

        if (v18 <= 1)
        {
          LOBYTE(v18) = 1;
        }

        *v13 = v18;
        v19 = v16 + v18;
        *(v13 - 64) = v19;
        *(v13 - 128) = v19 + 4;
        v16 += 2;
        ++v13;
        ++v15;
      }

      while (v16 != 128);
    }

    *(a2 + 111560) = *(a2 + 111564);
    v10 = *(a2 + 111556);
    v11 = v109;
    if (v10 < v109)
    {
      goto LABEL_34;
    }

LABEL_33:
    v11 = v106;
    if (v10 <= v106)
    {
      goto LABEL_35;
    }

    goto LABEL_34;
  }

  v9 = 0;
  *(a2 + 111564) = 0;
  if (*(a2 + 111560))
  {
    goto LABEL_21;
  }

LABEL_18:
  v10 = *(a2 + 111556);
  v11 = v109;
  if (v10 >= v109)
  {
    goto LABEL_33;
  }

LABEL_34:
  *(a2 + 111556) = v11;
  v10 = v11;
LABEL_35:
  v22 = *(a2 + 115048);
  v23 = *(v110 + 4);
  v24 = *(v110 + 16);
  if (((v23 >> 4) + 7) >= 0xF)
  {
    v25 = (16 * (((v23 >> 4) + (v23 >> 4 < 0 ? 7 : 0)) >> 3)) | 4;
  }

  else
  {
    v25 = 20;
  }

  v26 = ((v23 >> 1) & 0xFFFFFFFFFFFFFFF0) - 4;
  v27 = v26 * v24;
  v28 = *(v110 + 56);
  if ((v27 & 0x80000000) != 0)
  {
    do
    {
      memcpy((v22 + v27), v28, v24);
      v27 += v24;
      --v25;
    }

    while ((v27 & 0x80000000) != 0);
    v29 = &v28[v27];
    v30 = (v22 + v27);
  }

  else
  {
    v29 = &v28[v26 * v24];
    v30 = (v22 + v26 * v24);
  }

  memcpy(v30, v29, (v25 * v24));
  vp8_loop_filter_partial_frame(a2 + 108032, (a2 + 77952), v10);
  v31 = *(a1 + 4) >> 4;
  v32 = v31 + 7;
  v33 = (2 * (v31 + (v31 < 0 ? 7 : 0))) & 0xFFFFFFF0;
  if (v32 < 0xF)
  {
    v33 = 16;
  }

  v117 = v33;
  v114 = v4;
  v107 = v10;
  if (v33 < 1 || (v34 = *a1, *a1 < 1))
  {
    v36 = 0;
  }

  else
  {
    v35 = 0;
    v36 = 0;
    v37 = *v4;
    v38 = (*(v37 + 4) >> 1) & 0xFFFFFFFFFFFFFFF0;
    v39 = *(v37 + 16);
    v40 = *(v37 + 56) + v38 * v39;
    v41 = *(a1 + 16);
    v42 = *(a1 + 56) + v41 * v38;
    do
    {
      if (v34 >= 1)
      {
        v43 = 0;
        v44 = v42;
        v45 = v40;
        do
        {
          v120 = 0;
          v36 += vpx_mse16x16(v44, *(a1 + 16), v45, *(v37 + 16), &v120);
          v34 = *a1;
          v43 += 16;
          v45 += 16;
          v44 += 16;
        }

        while (*a1 > v43);
        v41 = *(a1 + 16);
        v39 = *(v37 + 16);
      }

      v42 += 16 * v41;
      v35 += 16;
      v40 += 16 * v39;
    }

    while (v35 < v117);
  }

  v46 = v107;
  if (v107 > 10)
  {
    v47 = -2;
  }

  else
  {
    v47 = -1;
  }

  v48 = v47 + v107;
  if (v47 + v107 >= v109)
  {
    v50 = &vpx_mse16x16;
    do
    {
      v112 = v36;
      v51 = v50;
      v52 = *(*v114 + 56);
      v53 = *(v110 + 4);
      v54 = *(v110 + 16);
      if (((v53 >> 4) + 7) >= 0xF)
      {
        v55 = (16 * (((v53 >> 4) + (v53 >> 4 < 0 ? 7 : 0)) >> 3)) | 4;
      }

      else
      {
        v55 = 20;
      }

      v56 = ((v53 >> 1) & 0xFFFFFFFFFFFFFFF0) - 4;
      v57 = v56 * v54;
      v58 = *(v110 + 56);
      if ((v57 & 0x80000000) != 0)
      {
        do
        {
          memcpy((v52 + v57), v58, v54);
          v57 += v54;
          --v55;
        }

        while ((v57 & 0x80000000) != 0);
        v59 = &v58[v57];
        v60 = (v52 + v57);
      }

      else
      {
        v59 = &v58[v56 * v54];
        v60 = (v52 + v56 * v54);
      }

      memcpy(v60, v59, (v55 * v54));
      vp8_loop_filter_partial_frame(a2 + 108032, (a2 + 77952), v48);
      v61 = *(a1 + 4) >> 4;
      v62 = v61 + 7;
      v63 = (2 * (v61 + (v61 < 0 ? 7 : 0))) & 0xFFFFFFF0;
      if (v62 < 0xF)
      {
        v63 = 16;
      }

      v115 = v48;
      v118 = v63;
      if (v63 < 1 || (v64 = *a1, *a1 < 1))
      {
        v49 = 0;
        v50 = v51;
      }

      else
      {
        v65 = 0;
        v49 = 0;
        v66 = *v114;
        v67 = (*(*v114 + 4) >> 1) & 0xFFFFFFFFFFFFFFF0;
        v68 = *(*v114 + 16);
        v69 = *(*v114 + 56) + v67 * v68;
        v70 = *(a1 + 16);
        v71 = *(a1 + 56) + v70 * v67;
        v50 = v51;
        do
        {
          if (v64 >= 1)
          {
            v72 = 0;
            v73 = v71;
            v74 = v69;
            do
            {
              v121 = 0;
              v75 = (*v50)(v73, *(a1 + 16), v74, *(v66 + 16), &v121);
              v50 = v51;
              v49 += v75;
              v64 = *a1;
              v72 += 16;
              v74 += 16;
              v73 += 16;
            }

            while (*a1 > v72);
            v70 = *(a1 + 16);
            v68 = *(v66 + 16);
          }

          v71 += 16 * v70;
          v65 += 16;
          v69 += 16 * v68;
        }

        while (v65 < v118);
      }

      if (v49 >= v112)
      {
        v48 = v115;
        v46 = v107;
        v49 = v112;
        if (v107 != v114[419])
        {
          goto LABEL_116;
        }

        goto LABEL_86;
      }

      v46 = v115;
      if (v115 > 10)
      {
        v76 = -2;
      }

      else
      {
        v76 = -1;
      }

      v48 = v76 + v115;
      v36 = v49;
      v107 = v115;
    }

    while (v76 + v115 >= v109);
    if (v115 != v114[419])
    {
      goto LABEL_116;
    }
  }

  else
  {
    v49 = v36;
    if (v107 != v114[419])
    {
      goto LABEL_116;
    }
  }

LABEL_86:
  if (v48 <= 10)
  {
    v77 = 1;
  }

  else
  {
    v77 = 2;
  }

  v78 = v77 + v46;
  if (v77 + v46 < v106)
  {
    v79 = v49 - (v49 >> 10);
    do
    {
      v113 = v79;
      v80 = *(*v114 + 56);
      v81 = *(v110 + 4);
      v82 = *(v110 + 16);
      if (((v81 >> 4) + 7) >= 0xF)
      {
        v83 = (16 * (((v81 >> 4) + (v81 >> 4 < 0 ? 7 : 0)) >> 3)) | 4;
      }

      else
      {
        v83 = 20;
      }

      v84 = ((v81 >> 1) & 0xFFFFFFFFFFFFFFF0) - 4;
      v85 = v84 * v82;
      v86 = *(v110 + 56);
      if ((v85 & 0x80000000) != 0)
      {
        do
        {
          memcpy((v80 + v85), v86, v82);
          v85 += v82;
          --v83;
        }

        while ((v85 & 0x80000000) != 0);
        v87 = &v86[v85];
        v88 = (v80 + v85);
      }

      else
      {
        v87 = &v86[v84 * v82];
        v88 = (v80 + v84 * v82);
      }

      v116 = v46;
      memcpy(v88, v87, (v83 * v82));
      vp8_loop_filter_partial_frame(a2 + 108032, (a2 + 77952), v78);
      v89 = *(a1 + 4) >> 4;
      v90 = v89 + 7;
      v91 = (2 * (v89 + (v89 < 0 ? 7 : 0))) & 0xFFFFFFF0;
      if (v90 < 0xF)
      {
        v91 = 16;
      }

      v119 = v91;
      v108 = v78;
      if (v91 < 1)
      {
        v94 = 0;
      }

      else
      {
        v92 = *a1;
        if (*a1 < 1)
        {
          v94 = 0;
          if (v113 <= 0)
          {
            break;
          }

          goto LABEL_110;
        }

        v93 = 0;
        v94 = 0;
        v95 = *v114;
        v96 = (*(*v114 + 4) >> 1) & 0xFFFFFFFFFFFFFFF0;
        v97 = *(*v114 + 16);
        v98 = *(*v114 + 56) + v96 * v97;
        v99 = *(a1 + 16);
        v100 = *(a1 + 56) + v99 * v96;
        do
        {
          if (v92 >= 1)
          {
            v101 = 0;
            v102 = v100;
            v103 = v98;
            do
            {
              v122 = 0;
              v94 += vpx_mse16x16(v102, *(a1 + 16), v103, *(v95 + 16), &v122);
              v92 = *a1;
              v101 += 16;
              v103 += 16;
              v102 += 16;
            }

            while (*a1 > v101);
            v99 = *(a1 + 16);
            v97 = *(v95 + 16);
          }

          v100 += 16 * v99;
          v93 += 16;
          v98 += 16 * v97;
        }

        while (v93 < v119);
      }

      v46 = v116;
      if (v94 >= v113)
      {
        break;
      }

LABEL_110:
      v79 = v94 - (v94 >> 10);
      v46 = v108;
      if (v108 <= 10)
      {
        v104 = 1;
      }

      else
      {
        v104 = 2;
      }

      v78 = v104 + v108;
    }

    while (v104 + v108 < v106);
  }

LABEL_116:
  v105 = v109;
  if (v46 > v109)
  {
    v105 = v46;
  }

  if (v105 >= v106)
  {
    v105 = v106;
  }

  v114[419] = v105;
  *v114 = v110;
}