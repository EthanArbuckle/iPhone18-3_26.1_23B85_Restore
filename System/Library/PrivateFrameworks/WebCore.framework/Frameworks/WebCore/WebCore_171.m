_DWORD *av1_write_intra_coeffs_mb(_DWORD *result, uint64_t a2, uint64_t a3, unsigned int a4)
{
  v4 = block_size_wide_15[a4];
  v5 = *(a2 + 8344);
  if (v5 < 0)
  {
    v6 = ((v5 >> (*(a2 + 436) + 3)) + v4) >> 2;
    v7 = block_size_high_13[a4];
    v8 = *(a2 + 8352);
    if ((v8 & 0x80000000) == 0)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v6 = v4 >> 2;
    v7 = block_size_high_13[a4];
    v8 = *(a2 + 8352);
    if ((v8 & 0x80000000) == 0)
    {
      goto LABEL_3;
    }
  }

  v7 += v8 >> (*(a2 + 440) + 3);
LABEL_3:
  v9 = v7 >> 2;
  if (v6 >= 16)
  {
    v10 = 16;
  }

  else
  {
    v10 = v6;
  }

  v54 = v10;
  if (v9 >= 16)
  {
    v11 = 16;
  }

  else
  {
    v11 = v7 >> 2;
  }

  v49 = v11;
  if (v9 >= 1 && v6 >= 1)
  {
    v13 = v9;
    v14 = v6;
    v61 = 0;
    v15 = 0;
    v50 = 0;
    v16 = 0;
    v52 = v14;
    v53 = v13;
    v55 = *(*(result + 3085) + 77);
    v57 = a2 + 11108;
    v66 = result;
    do
    {
      v17 = 0;
      v51 = v16 + v49;
      if ((v16 + v49) < v13)
      {
        v13 = v16 + v49;
      }

      v58 = v16;
      v59 = v13;
      do
      {
        while (1)
        {
          v60 = v17 + v54;
          v18 = (v17 + v54) >= v14 ? v14 : v17 + v54;
          v19 = **(a2 + 8280);
          v71 = v17;
          v56 = v18;
          v20 = *(v57 + 4 * (*(v19 + 167) & 7)) ? 0 : *(v19 + 145);
          v62 = v15;
          v21 = *(a2 + 440);
          v22 = v16 >> v21;
          v68 = (v59 + (1 << v21 >> 1)) >> v21;
          if ((v16 >> v21) >= v68)
          {
            v25 = v61;
          }

          else
          {
            v23 = tx_size_wide_unit_5[v20];
            v63 = tx_size_high_unit_5[v20];
            v24 = (v18 + (1 << *(a2 + 436) >> 1)) >> *(a2 + 436);
            v25 = v61;
            do
            {
              v26 = v17 >> *(a2 + 436);
              for (i = a2; v26 < v24; v26 += v23)
              {
                result = av1_write_coeffs_txb(v66, i, a3);
                v25 += v23 * v63;
              }

              v22 += v63;
              a2 = i;
              v17 = v71;
            }

            while (v22 < v68);
          }

          v61 = v25;
          if (v55)
          {
            break;
          }

          v15 = v62;
          v16 = v58;
          if (*(a2 + 428) == 1)
          {
            v28 = **(a2 + 8280);
            if (*(v57 + 4 * (*(v28 + 167) & 7)))
            {
              v29 = 0;
              v30 = v56;
            }

            else
            {
              v29 = max_txsize_rect_lookup_4[av1_ss_size_lookup[4 * *v28 + 2 * *(a2 + 3044) + *(a2 + 3048)]];
              if (v29 > 0x10)
              {
                v30 = v56;
                if (v29 == 18)
                {
                  v29 = 10;
                }

                else if (v29 == 17)
                {
                  v29 = 9;
                }
              }

              else
              {
                v31 = v29 - 11 < 2 || v29 == 4;
                v30 = v56;
                if (v31)
                {
                  v29 = 3;
                }
              }
            }

            v32 = *(a2 + 3048);
            v33 = v58 >> v32;
            v69 = (v59 + (1 << v32 >> 1)) >> v32;
            if ((v58 >> v32) < v69)
            {
              v34 = tx_size_wide_unit_5[v29];
              v64 = tx_size_high_unit_5[v29];
              v35 = (v30 + (1 << *(a2 + 3044) >> 1)) >> *(a2 + 3044);
              for (j = v17 >> *(a2 + 3044); j < v35; j += v34)
              {
LABEL_54:
                v37 = a2;
                result = av1_write_coeffs_txb(v66, a2, a3);
                a2 = v37;
                v15 += v34 * v64;
              }

              while (1)
              {
                v33 += v64;
                v17 = v71;
                if (v33 >= v69)
                {
                  break;
                }

                j = v71 >> *(a2 + 3044);
                if (j < v35)
                {
                  goto LABEL_54;
                }
              }
            }

            v16 = v58;
            if (*(a2 + 428) == 1)
            {
              v38 = **(a2 + 8280);
              if (*(v57 + 4 * (*(v38 + 167) & 7)))
              {
                v39 = 0;
                v40 = v56;
              }

              else
              {
                v39 = max_txsize_rect_lookup_4[av1_ss_size_lookup[4 * *v38 + 2 * *(a2 + 5652) + *(a2 + 5656)]];
                if (v39 > 0x10)
                {
                  v40 = v56;
                  if (v39 == 18)
                  {
                    v39 = 10;
                  }

                  else if (v39 == 17)
                  {
                    v39 = 9;
                  }
                }

                else
                {
                  v41 = v39 - 11 < 2 || v39 == 4;
                  v40 = v56;
                  if (v41)
                  {
                    v39 = 3;
                  }
                }
              }

              v42 = *(a2 + 5656);
              v43 = v58 >> v42;
              v70 = (v59 + (1 << v42 >> 1)) >> v42;
              if ((v58 >> v42) < v70)
              {
                v44 = tx_size_wide_unit_5[v39];
                v62 = v15;
                v65 = tx_size_high_unit_5[v39];
                v45 = (v40 + (1 << *(a2 + 5652) >> 1)) >> *(a2 + 5652);
                v46 = v50;
                do
                {
                  v47 = a2;
                  for (k = v17 >> *(a2 + 5652); k < v45; k += v44)
                  {
                    result = av1_write_coeffs_txb(v66, v47, a3);
                    v46 += v44 * v65;
                  }

                  v43 += v65;
                  a2 = v47;
                  v17 = v71;
                }

                while (v43 < v70);
                v50 = v46;
                break;
              }
            }
          }

          v14 = v52;
          v13 = v53;
          v17 = v60;
          if (v60 >= v52)
          {
            goto LABEL_15;
          }
        }

        v14 = v52;
        v13 = v53;
        v15 = v62;
        v16 = v58;
        v17 = v60;
      }

      while (v60 < v52);
LABEL_15:
      v16 = v51;
    }

    while (v51 < v13);
  }

  return result;
}

void av1_update_and_record_txb_context(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3 = MEMORY[0x28223BE20](a1, a2, a3);
  v10 = v6;
  v11 = v4;
  v13 = v12;
  v15 = v14;
  v16 = v3;
  v320 = *MEMORY[0x277D85DE8];
  v18 = *v7;
  v17 = v7[1];
  v19 = v17 + 136 * v3;
  v20 = (v17 + 432 + 2608 * v3);
  v21 = *(*(v19 + 32) + 2 * v15);
  v22 = 16 * v15;
  v23 = *(v19 + 16);
  v315 = *v20;
  v24 = **(v17 + 8280);
  v25 = *(v24 + 167);
  v26 = v6;
  if (*(v17 + 11108 + 4 * (v25 & 7)) || ((0x61810uLL >> v6) & 1) != 0)
  {
    v29 = 0;
    goto LABEL_10;
  }

  if (!*v20)
  {
    v29 = *(*(v17 + 8328) + v4 + *(v17 + 8336) * v13);
    goto LABEL_10;
  }

  if ((v25 & 0x80) == 0 && *(v24 + 16) <= 0)
  {
    v28 = 0;
    v27 = intra_mode_to_tx_type__intra_mode_to_tx_type_2[get_uv_mode_uv2y_5[*(v24 + 3)]];
    if ((0x18608uLL >> v6))
    {
      goto LABEL_188;
    }

    goto LABEL_183;
  }

  v27 = *(*(v17 + 8328) + (v4 << *(v17 + 432 + 2608 * *v20 + 4)) + *(v17 + 8336) * (v13 << *(v17 + 432 + 2608 * *v20 + 8)));
  if ((v25 & 0x80) == 0)
  {
    v28 = *(v24 + 16) > 0;
    if ((0x18608uLL >> v6))
    {
      goto LABEL_188;
    }

LABEL_183:
    if (*(*v7 + 239557))
    {
      if (v28)
      {
        LOBYTE(v28) = 1;
      }

      else
      {
        LOBYTE(v28) = 2;
      }
    }

    else
    {
      LOBYTE(v28) = av1_ext_tx_set_lookup_4[2 * v28 + ((0x60604uLL >> v6) & 1)];
    }

    goto LABEL_188;
  }

  v28 = 1;
  if (((0x18608uLL >> v6) & 1) == 0)
  {
    goto LABEL_183;
  }

LABEL_188:
  if (av1_ext_tx_used_2[16 * v28 + v27])
  {
    v29 = v27;
  }

  else
  {
    v29 = 0;
  }

LABEL_10:
  if (*(v7 + 21))
  {
    v30 = *(&av1_scan_orders + 32 * v6 + 2 * v29);
    v31 = (v23 + 4 * v22);
    if (!v21)
    {
      goto LABEL_371;
    }

    goto LABEL_12;
  }

  v312 = (&av1_scan_orders + 32 * v6 + 2 * v29);
  v300 = (*v7 + 239557);
  v316 = (v23 + 4 * v22);
  v317 = 0;
  v309 = v3;
  v310 = v21;
  v305 = v17 + 432 + 2608 * v3;
  v306 = v15;
  v39 = v7;
  v40 = v13;
  v307 = v4;
  v301 = v5;
  v311 = v6;
  get_txb_ctx_0(v5, v6, v3, (*(v20 + 14) + v4), (*(v20 + 15) + v13), &v317, v8, v9);
  v302 = v11;
  v303 = v13;
  if (v311 > 16)
  {
    if (v311 == 17)
    {
      LOBYTE(v314) = 5;
      v45 = 16;
      v41 = v39;
      v43 = v309;
      v42 = v310;
      v44 = v306;
      v46 = 9;
      goto LABEL_49;
    }

    v41 = v39;
    v43 = v309;
    v42 = v310;
    v44 = v306;
    if (v311 == 18)
    {
      LOBYTE(v314) = 4;
      v45 = 32;
      v46 = 10;
      goto LABEL_49;
    }

    goto LABEL_43;
  }

  if ((v311 - 11) >= 2)
  {
    v41 = v39;
    v43 = v309;
    v42 = v310;
    v44 = v306;
    if (v311 == 4)
    {
      LOBYTE(v314) = 5;
      goto LABEL_35;
    }

LABEL_43:
    v314 = tx_size_high_log2_4[v26];
    if (v311 > 16)
    {
      goto LABEL_47;
    }

    goto LABEL_35;
  }

  v41 = v39;
  v43 = v309;
  v42 = v310;
  v44 = v306;
  LOBYTE(v314) = 5;
LABEL_35:
  if ((v311 - 11) < 2 || v311 == 4)
  {
    v45 = 32;
    goto LABEL_38;
  }

LABEL_47:
  v45 = tx_size_wide_8[v26];
  if (v311 > 16)
  {
LABEL_181:
    v46 = v26;
    goto LABEL_49;
  }

LABEL_38:
  v46 = 3;
  if ((v311 - 11) >= 2 && v311 != 4)
  {
    goto LABEL_181;
  }

LABEL_49:
  v47 = v43;
  v48 = tx_size_high_7[v46];
  v49 = txsize_sqr_map_4[v26];
  v50 = txsize_sqr_up_map_3[v26];
  v51 = *(v41 + 20);
  v52 = *(v17 + 11064);
  v53 = v317;
  if (*(v41 + 20))
  {
    v54 = (v52 + 78 * ((v49 + v50 + 1) >> 1) + 6 * v317);
    v55 = v54[2];
    v56 = (v55 >> 4) + 4;
    v57 = *v54;
    v58 = v57 - (v57 >> v56);
    v59 = v57 + ((0x8000 - v57) >> v56);
    if (v42)
    {
      LOWORD(v59) = v58;
    }

    *v54 = v59;
    if (v55 < 0x20)
    {
      LOWORD(v55) = v55 + 1;
    }

    v54[2] = v55;
  }

  v60 = *(v17 + 16784);
  v61 = *(*(v17 + 16760) + 2 * v315 + 78) >> 4;
  v62 = v60 + 8 * v47;
  v63 = *(v62 + 24) + 2 * v61;
  v64 = *(v62 + 48) + v61;
  *(v64 + v44) = v53;
  *(v63 + 2 * v44) = v42;
  if (!v42)
  {
    v85 = *(v305 + 120);
    v86 = tx_size_high_unit_1[v26];
    bzero((*(v305 + 112) + v307), tx_size_wide_unit_1[v26]);
    bzero((v85 + v40), v86);
    return;
  }

  v297 = v64;
  v313 = (v49 + v50 + 1) >> 1;
  if (v311 <= 0xC && ((1 << v311) & 0x1810) != 0)
  {
    v65 = 4096;
  }

  else if ((v311 - 17) >= 2u)
  {
    v65 = 4 * tx_size_2d_0[v26];
  }

  else
  {
    v65 = 2048;
  }

  v66 = v22;
  v304 = v52;
  v298 = v50;
  v299 = v49;
  if (*(v18 + 258048) && (*(v18 + 4 * (*(v24 + 167) & 7) + 258180) & 0x40) != 0)
  {
    v65 = 0;
  }

  v67 = *(v60 + 8 * v47) + 4 * *(*(v17 + 16760) + 2 * v315 + 78);
  v31 = (v67 + 4 * v22);
  memcpy((v67 + 4 * v66), v316, v65);
  v68 = v48 + 4;
  bzero(&v319[(v48 + 4) * v45], 4 * (v48 + 4) + 16);
  if (v48 == 8)
  {
    if (v45 <= 1)
    {
      v87 = 1;
    }

    else
    {
      v87 = v45;
    }

    v88 = v319;
    v89 = v31;
    v83 = v311;
    v77 = v309;
    v76 = v310;
    v79 = v298;
    v78 = v299;
    do
    {
      v90 = *v89;
      v82 = *(v89 + 1);
      v89 += 8;
      v69 = vqabsq_s16(vuzp1q_s16(v90, v82));
      v69.val[0] = vqmovn_s16(v69);
      *v88 = v69;
      v88 = (v88 + v68);
      --v87;
    }

    while (v87);
  }

  else
  {
    v77 = v309;
    v76 = v310;
    v79 = v298;
    v78 = v299;
    if (v48 == 4)
    {
      v80 = 0;
      v81 = v319;
      v82 = 0uLL;
      v83 = v311;
      do
      {
        v84 = &v31[4 * v80];
        v71 = v84[1];
        v70 = vqabsq_s16(vqmovn_high_s32(vqmovn_s32(*v84), v71));
        v69.val[0] = vqmovn_s16(v70);
        vst2_f32(v81, v69);
        v81 += 4;
        v80 += 2;
      }

      while (v80 < v45);
    }

    else
    {
      v91 = 0;
      if (v45 <= 1)
      {
        v92 = 1;
      }

      else
      {
        v92 = v45;
      }

      v93 = v319;
      v94 = v31;
      v83 = v311;
      do
      {
        v95 = 0;
        do
        {
          v70 = v94[3];
          v82 = vqabsq_s16(vuzp1q_s16(v94[2], v70));
          v69 = vqmovn_high_s16(vqmovn_s16(vqabsq_s16(vuzp1q_s16(*v94, v94[1]))), v82);
          *&v93[v95] = v69;
          v95 += 16;
          v94 += 4;
        }

        while (v95 < v48);
        *&v93[v48] = 0;
        v93 += v68;
        ++v91;
      }

      while (v91 != v92);
    }
  }

  v96 = v29;
  v97 = **(v17 + 8280);
  v98 = *(v97 + 167);
  if ((v98 & 0x80) != 0)
  {
    v99 = 1;
    v100 = v78 + v79;
    if (v77 > 0)
    {
      goto LABEL_98;
    }
  }

  else
  {
    v99 = *(v97 + 16) > 0;
    v100 = v78 + v79;
    if (v77 > 0)
    {
      goto LABEL_98;
    }
  }

  v101 = *v300;
  v102 = *(v17 + 11064);
  v103 = v98 & 7;
  v104 = 0x61810uLL >> v26;
  if (!*(v17 + 11108 + 4 * v103))
  {
    if (v104)
    {
      goto LABEL_98;
    }

    v105 = *(*(v17 + 8328) + v307 + *(v17 + 8336) * v303);
    if (((0x18608uLL >> v26) & 1) == 0)
    {
      goto LABEL_88;
    }

LABEL_94:
    v106 = v99;
    goto LABEL_95;
  }

  if (v104)
  {
    goto LABEL_98;
  }

  v105 = 0;
  if ((0x18608uLL >> v26))
  {
    goto LABEL_94;
  }

LABEL_88:
  if (v101)
  {
    goto LABEL_96;
  }

  v106 = av1_ext_tx_set_lookup_4[2 * v99 + ((0x60604uLL >> v26) & 1)];
LABEL_95:
  if (!v106)
  {
    goto LABEL_98;
  }

LABEL_96:
  if (*(v300 + 115) < 1 || *(v97 + 144) || *(v18 + 258048) && (*(v18 + 4 * v103 + 258180) & 0x40) != 0)
  {
    goto LABEL_98;
  }

  v308 = v105;
  ext_tx_set_type = av1_get_ext_tx_set_type(v83, v99, v101);
  v79 = v298;
  v78 = v299;
  v76 = v310;
  v83 = v311;
  v293 = ext_tx_set_index_1[6 * v99 + ext_tx_set_type];
  if (v293 < 1)
  {
    goto LABEL_98;
  }

  if (v99)
  {
    if (!v51)
    {
      goto LABEL_98;
    }

    v294 = v102 + 136 * v293 + 34 * v299;
    v295 = 20474;
  }

  else
  {
    if (*(v97 + 91))
    {
      v296 = &fimode_to_intradir_1 + *(v97 + 90);
    }

    else
    {
      v296 = (v97 + 2);
    }

    if (!v51)
    {
      goto LABEL_98;
    }

    v294 = v102 + 1768 * v293 + 442 * v299 + 34 * *v296;
    v295 = 15170;
  }

  update_cdf((v294 + v295), av1_ext_tx_ind_0[64 * ext_tx_set_type + 4 * v308], av1_num_ext_tx_set_1[ext_tx_set_type]);
  v83 = v311;
  v76 = v310;
  v79 = v298;
  v78 = v299;
LABEL_98:
  v107 = v100 + 1;
  v108 = tx_type_to_class_0[v96];
  v30 = *v312;
  ++*(v17 + (v26 << 6) + 4 * v96 + 146712);
  if (v76 > 0x20)
  {
    LODWORD(v110) = (v76 - 1) >> 5;
    if (v110 >= 0x10)
    {
      v110 = 16;
    }

    else
    {
      v110 = v110;
    }

    v109 = &eob_to_pos_large + v110;
  }

  else
  {
    v109 = &eob_to_pos_small + v76;
  }

  v111 = *v109;
  v112 = av1_eob_group_start[v111];
  v113 = txsize_log2_minus4_0[v26];
  v114 = v96 - 10;
  if (v113 > 2)
  {
    if (v113 != 3)
    {
      if (v113 != 4)
      {
        if (v113 != 5)
        {
LABEL_148:
          if (!v51)
          {
            goto LABEL_248;
          }

          v165 = v304 + 48 * v315 + 24 * (v114 < 6);
          v166 = (v165 + 1374);
          v117 = (v165 + 1396);
          v118 = *(v165 + 1396);
          v119 = (v118 >> 4) + 5;
          v167 = *(v165 + 1374);
          if ((v111 - 1) <= 0)
          {
            *v166 = v167 - (v167 >> v119);
            v168 = v166[1];
          }

          else
          {
            *v166 = v167 + ((0x8000 - v167) >> v119);
            v168 = v166[1];
            if ((v111 - 1) != 1)
            {
              v166[1] = v168 + ((0x8000 - v168) >> v119);
              v169 = v166[2];
              if ((v111 - 1) > 2u)
              {
                v166[2] = v169 + ((0x8000 - v169) >> v119);
                v170 = v166[3];
                if ((v111 - 1) != 3)
                {
                  v166[3] = v170 + ((0x8000 - v170) >> v119);
                  v171 = v166[4];
                  if ((v111 - 1) > 4u)
                  {
                    v166[4] = v171 + ((0x8000 - v171) >> v119);
                    v172 = v166[5];
                    if ((v111 - 1) != 5)
                    {
                      v166[5] = v172 + ((0x8000 - v172) >> v119);
                      v173 = v166[6];
                      if ((v111 - 1) > 6u)
                      {
                        v166[6] = v173 + ((0x8000 - v173) >> v119);
                        v174 = v166[7];
                        if ((v111 - 1) != 7)
                        {
                          v166[7] = v174 + ((0x8000 - v174) >> v119);
                          v175 = v166[8];
                          if ((v111 - 1) > 8u)
                          {
                            v176 = v175 + ((0x8000 - v175) >> v119);
                            v177 = v166[9];
                            v126 = v166 + 9;
                            v127 = v177;
                            *(v126 - 1) = v176;
                            if ((v111 - 1) == 9)
                            {
                              v83 = v311;
                              LODWORD(v76) = v310;
                              v79 = v298;
                              v78 = v299;
                              goto LABEL_239;
                            }

                            v83 = v311;
                            LODWORD(v76) = v310;
                            v79 = v298;
                            v78 = v299;
                            *v126 = v127 + ((0x8000 - v127) >> v119);
                            if (v118 < 0x20)
                            {
                              LOWORD(v118) = v118 + 1;
                            }

                            *v117 = v118;
                            if (v111 < 3)
                            {
                              goto LABEL_248;
                            }

LABEL_242:
                            v207 = v76 - v112;
                            v208 = av1_eob_offset_bits[v111] - 1;
                            v209 = v304 + 108 * ((v78 + v79 + 1) >> 1) + 54 * v315 + 6 * v111;
                            v210 = *(v209 + 376);
                            v211 = (v210 >> 4) + 4;
                            v212 = *(v209 + 372);
                            if ((v207 >> v208))
                            {
                              v213 = v212 + ((0x8000 - v212) >> v211);
                            }

                            else
                            {
                              v213 = v212 - (v212 >> v211);
                            }

                            *(v209 + 372) = v213;
                            if (v210 < 0x20)
                            {
                              LOWORD(v210) = v210 + 1;
                            }

                            *(v209 + 376) = v210;
                            goto LABEL_248;
                          }

                          goto LABEL_208;
                        }

LABEL_207:
                        v166[7] = v174 - (v174 >> v119);
                        v175 = v166[8];
LABEL_208:
                        v198 = v175 - (v175 >> v119);
                        v202 = v166[9];
                        v126 = v166 + 9;
                        v127 = v202;
                        goto LABEL_238;
                      }

LABEL_206:
                      v166[6] = v173 - (v173 >> v119);
                      v174 = v166[7];
                      goto LABEL_207;
                    }

LABEL_205:
                    v166[5] = v172 - (v172 >> v119);
                    v173 = v166[6];
                    goto LABEL_206;
                  }

LABEL_204:
                  v166[4] = v171 - (v171 >> v119);
                  v172 = v166[5];
                  goto LABEL_205;
                }

LABEL_203:
                v166[3] = v170 - (v170 >> v119);
                v171 = v166[4];
                goto LABEL_204;
              }

LABEL_202:
              v166[2] = v169 - (v169 >> v119);
              v170 = v166[3];
              goto LABEL_203;
            }
          }

          v166[1] = v168 - (v168 >> v119);
          v169 = v166[2];
          goto LABEL_202;
        }

        if (!v51)
        {
          goto LABEL_248;
        }

        v129 = v304 + 44 * v315 + 22 * (v114 < 6);
        v130 = (v129 + 1286);
        v131 = (v129 + 1306);
        v132 = *(v129 + 1306);
        v133 = (v132 >> 4) + 5;
        v134 = *(v129 + 1286);
        if ((v111 - 1) <= 0)
        {
          *v130 = v134 - (v134 >> v133);
          v135 = v130[1];
        }

        else
        {
          *v130 = v134 + ((0x8000 - v134) >> v133);
          v135 = v130[1];
          if ((v111 - 1) != 1)
          {
            v130[1] = v135 + ((0x8000 - v135) >> v133);
            v136 = v130[2];
            if ((v111 - 1) > 2u)
            {
              v130[2] = v136 + ((0x8000 - v136) >> v133);
              v137 = v130[3];
              if ((v111 - 1) != 3)
              {
                v130[3] = v137 + ((0x8000 - v137) >> v133);
                v138 = v130[4];
                if ((v111 - 1) > 4u)
                {
                  v130[4] = v138 + ((0x8000 - v138) >> v133);
                  v139 = v130[5];
                  if ((v111 - 1) != 5)
                  {
                    v130[5] = v139 + ((0x8000 - v139) >> v133);
                    v140 = v130[6];
                    if ((v111 - 1) > 6u)
                    {
                      v130[6] = v140 + ((0x8000 - v140) >> v133);
                      v141 = (v111 - 1);
                      v142 = v130[7];
                      if (v141 != 7)
                      {
                        v143 = v142 + ((0x8000 - v142) >> v133);
                        v146 = v130[8];
                        v144 = v130 + 8;
                        v145 = v146;
                        *(v144 - 1) = v143;
                        if (v141 > 8)
                        {
                          goto LABEL_166;
                        }

                        goto LABEL_227;
                      }

                      goto LABEL_221;
                    }

LABEL_220:
                    v130[6] = v140 - (v140 >> v133);
                    v142 = v130[7];
LABEL_221:
                    v200 = v142 - (v142 >> v133);
                    v204 = v130[8];
                    v144 = v130 + 8;
                    v145 = v204;
                    goto LABEL_226;
                  }

LABEL_219:
                  v130[5] = v139 - (v139 >> v133);
                  v140 = v130[6];
                  goto LABEL_220;
                }

LABEL_218:
                v130[4] = v138 - (v138 >> v133);
                v139 = v130[5];
                goto LABEL_219;
              }

LABEL_217:
              v130[3] = v137 - (v137 >> v133);
              v138 = v130[4];
              goto LABEL_218;
            }

LABEL_216:
            v130[2] = v136 - (v136 >> v133);
            v137 = v130[3];
            goto LABEL_217;
          }
        }

        v130[1] = v135 - (v135 >> v133);
        v136 = v130[2];
        goto LABEL_216;
      }

      if (!v51)
      {
        goto LABEL_248;
      }

      v187 = v304 + 40 * v315 + 20 * (v114 < 6);
      v188 = (v187 + 1206);
      v117 = (v187 + 1224);
      v118 = *(v187 + 1224);
      v119 = (v118 >> 4) + 5;
      v189 = *(v187 + 1206);
      if ((v111 - 1) <= 0)
      {
        *v188 = v189 - (v189 >> v119);
        v190 = v188[1];
      }

      else
      {
        *v188 = v189 + ((0x8000 - v189) >> v119);
        v190 = v188[1];
        if ((v111 - 1) != 1)
        {
          v188[1] = v190 + ((0x8000 - v190) >> v119);
          v191 = v188[2];
          if ((v111 - 1) > 2u)
          {
            v188[2] = v191 + ((0x8000 - v191) >> v119);
            v192 = v188[3];
            if ((v111 - 1) != 3)
            {
              v188[3] = v192 + ((0x8000 - v192) >> v119);
              v193 = v188[4];
              if ((v111 - 1) > 4u)
              {
                v188[4] = v193 + ((0x8000 - v193) >> v119);
                v194 = v188[5];
                if ((v111 - 1) != 5)
                {
                  v188[5] = v194 + ((0x8000 - v194) >> v119);
                  v195 = v188[6];
                  if ((v111 - 1) > 6u)
                  {
                    v196 = v195 + ((0x8000 - v195) >> v119);
                    v197 = v188[7];
                    v126 = v188 + 7;
                    v127 = v197;
                    *(v126 - 1) = v196;
                    if ((v111 - 1) == 7)
                    {
LABEL_239:
                      *v126 = v127 - (v127 >> v119);
                      if (v118 < 0x20)
                      {
                        LOWORD(v118) = v118 + 1;
                      }

                      *v117 = v118;
                      if (v111 < 3)
                      {
                        goto LABEL_248;
                      }

                      goto LABEL_242;
                    }

                    goto LABEL_135;
                  }

                  goto LABEL_237;
                }

LABEL_236:
                v188[5] = v194 - (v194 >> v119);
                v195 = v188[6];
LABEL_237:
                v198 = v195 - (v195 >> v119);
                v206 = v188[7];
                v126 = v188 + 7;
                v127 = v206;
                goto LABEL_238;
              }

LABEL_235:
              v188[4] = v193 - (v193 >> v119);
              v194 = v188[5];
              goto LABEL_236;
            }

LABEL_234:
            v188[3] = v192 - (v192 >> v119);
            v193 = v188[4];
            goto LABEL_235;
          }

LABEL_233:
          v188[2] = v191 - (v191 >> v119);
          v192 = v188[3];
          goto LABEL_234;
        }
      }

      v188[1] = v190 - (v190 >> v119);
      v191 = v188[2];
      goto LABEL_233;
    }

    if (!v51)
    {
      goto LABEL_248;
    }

    v154 = v304 + 36 * v315 + 18 * (v114 < 6);
    v155 = (v154 + 1134);
    v131 = (v154 + 1150);
    v132 = *(v154 + 1150);
    v133 = (v132 >> 4) + 5;
    v156 = *(v154 + 1134);
    if ((v111 - 1) <= 0)
    {
      *v155 = v156 - (v156 >> v133);
      v157 = v155[1];
    }

    else
    {
      *v155 = v156 + ((0x8000 - v156) >> v133);
      v157 = v155[1];
      if ((v111 - 1) != 1)
      {
        v155[1] = v157 + ((0x8000 - v157) >> v133);
        v158 = v155[2];
        if ((v111 - 1) > 2u)
        {
          v155[2] = v158 + ((0x8000 - v158) >> v133);
          v159 = v155[3];
          if ((v111 - 1) != 3)
          {
            v155[3] = v159 + ((0x8000 - v159) >> v133);
            v160 = v155[4];
            if ((v111 - 1) > 4u)
            {
              v155[4] = v160 + ((0x8000 - v160) >> v133);
              v161 = (v111 - 1);
              v162 = v155[5];
              if (v161 != 5)
              {
                v163 = v162 + ((0x8000 - v162) >> v133);
                v164 = v155[6];
                v144 = v155 + 6;
                v145 = v164;
                *(v144 - 1) = v163;
                if (v161 > 6)
                {
                  goto LABEL_166;
                }

                goto LABEL_227;
              }

              goto LABEL_199;
            }

LABEL_198:
            v155[4] = v160 - (v160 >> v133);
            v162 = v155[5];
LABEL_199:
            v200 = v162 - (v162 >> v133);
            v201 = v155[6];
            v144 = v155 + 6;
            v145 = v201;
LABEL_226:
            *(v144 - 1) = v200;
            goto LABEL_227;
          }

LABEL_197:
          v155[3] = v159 - (v159 >> v133);
          v160 = v155[4];
          goto LABEL_198;
        }

LABEL_196:
        v155[2] = v158 - (v158 >> v133);
        v159 = v155[3];
        goto LABEL_197;
      }
    }

    v155[1] = v157 - (v157 >> v133);
    v158 = v155[2];
    goto LABEL_196;
  }

  if (!txsize_log2_minus4_0[v26])
  {
    if (!v51)
    {
      goto LABEL_248;
    }

    v147 = v304 + 24 * v315 + 12 * (v114 < 6);
    v148 = (v147 + 966);
    v117 = (v147 + 976);
    v118 = *(v147 + 976);
    v119 = (v118 >> 4) + 5;
    v149 = *(v147 + 966);
    if ((v111 - 1) <= 0)
    {
      *v148 = v149 - (v149 >> v119);
      v150 = v148[1];
    }

    else
    {
      *v148 = v149 + ((0x8000 - v149) >> v119);
      v150 = v148[1];
      if ((v111 - 1) != 1)
      {
        v148[1] = v150 + ((0x8000 - v150) >> v119);
        v151 = v148[2];
        if ((v111 - 1) > 2u)
        {
          v152 = v151 + ((0x8000 - v151) >> v119);
          v153 = v148[3];
          v126 = v148 + 3;
          v127 = v153;
          *(v126 - 1) = v152;
          if ((v111 - 1) == 3)
          {
            goto LABEL_239;
          }

LABEL_135:
          *v126 = v127 + ((0x8000 - v127) >> v119);
          if (v118 < 0x20)
          {
            LOWORD(v118) = v118 + 1;
          }

          *v117 = v118;
          if (v111 < 3)
          {
            goto LABEL_248;
          }

          goto LABEL_242;
        }

        goto LABEL_193;
      }
    }

    v148[1] = v150 - (v150 >> v119);
    v151 = v148[2];
LABEL_193:
    v198 = v151 - (v151 >> v119);
    v199 = v148[3];
    v126 = v148 + 3;
    v127 = v199;
LABEL_238:
    *(v126 - 1) = v198;
    goto LABEL_239;
  }

  if (v113 == 1)
  {
    if (!v51)
    {
      goto LABEL_248;
    }

    v178 = v304 + 28 * v315 + 14 * (v114 < 6);
    v179 = (v178 + 1014);
    v131 = (v178 + 1026);
    v132 = *(v178 + 1026);
    v133 = (v132 >> 4) + 5;
    v180 = *(v178 + 1014);
    if ((v111 - 1) <= 0)
    {
      *v179 = v180 - (v180 >> v133);
      v181 = v179[1];
    }

    else
    {
      *v179 = v180 + ((0x8000 - v180) >> v133);
      v181 = v179[1];
      if ((v111 - 1) != 1)
      {
        v179[1] = v181 + ((0x8000 - v181) >> v133);
        v182 = v179[2];
        if ((v111 - 1) > 2u)
        {
          v179[2] = v182 + ((0x8000 - v182) >> v133);
          v183 = (v111 - 1);
          v184 = v179[3];
          if (v183 != 3)
          {
            v185 = v184 + ((0x8000 - v184) >> v133);
            v186 = v179[4];
            v144 = v179 + 4;
            v145 = v186;
            *(v144 - 1) = v185;
            if (v183 > 4)
            {
LABEL_166:
              *v144 = v145 + ((0x8000 - v145) >> v133);
              if (v132 < 0x20)
              {
                LOWORD(v132) = v132 + 1;
              }

              *v131 = v132;
              if (v111 < 3)
              {
                goto LABEL_248;
              }

              goto LABEL_242;
            }

LABEL_227:
            *v144 = v145 - (v145 >> v133);
            if (v132 < 0x20)
            {
              LOWORD(v132) = v132 + 1;
            }

            *v131 = v132;
            if (v111 < 3)
            {
              goto LABEL_248;
            }

            goto LABEL_242;
          }

          goto LABEL_225;
        }

LABEL_224:
        v179[2] = v182 - (v182 >> v133);
        v184 = v179[3];
LABEL_225:
        v200 = v184 - (v184 >> v133);
        v205 = v179[4];
        v144 = v179 + 4;
        v145 = v205;
        goto LABEL_226;
      }
    }

    v179[1] = v181 - (v181 >> v133);
    v182 = v179[2];
    goto LABEL_224;
  }

  if (v113 != 2)
  {
    goto LABEL_148;
  }

  if (v51)
  {
    v115 = v304 + 32 * v315 + 16 * (v114 < 6);
    v116 = (v115 + 1070);
    v117 = (v115 + 1084);
    v118 = *(v115 + 1084);
    v119 = (v118 >> 4) + 5;
    v120 = *(v115 + 1070);
    if ((v111 - 1) <= 0)
    {
      *v116 = v120 - (v120 >> v119);
      v121 = v116[1];
    }

    else
    {
      *v116 = v120 + ((0x8000 - v120) >> v119);
      v121 = v116[1];
      if ((v111 - 1) != 1)
      {
        v116[1] = v121 + ((0x8000 - v121) >> v119);
        v122 = v116[2];
        if ((v111 - 1) > 2u)
        {
          v116[2] = v122 + ((0x8000 - v122) >> v119);
          v123 = v116[3];
          if ((v111 - 1) != 3)
          {
            v116[3] = v123 + ((0x8000 - v123) >> v119);
            v124 = v116[4];
            if ((v111 - 1) > 4u)
            {
              v125 = v124 + ((0x8000 - v124) >> v119);
              v128 = v116[5];
              v126 = v116 + 5;
              v127 = v128;
              *(v126 - 1) = v125;
              if ((v111 - 1) == 5)
              {
                goto LABEL_239;
              }

              goto LABEL_135;
            }

            goto LABEL_213;
          }

LABEL_212:
          v116[3] = v123 - (v123 >> v119);
          v124 = v116[4];
LABEL_213:
          v198 = v124 - (v124 >> v119);
          v203 = v116[5];
          v126 = v116 + 5;
          v127 = v203;
          goto LABEL_238;
        }

LABEL_211:
        v116[2] = v122 - (v122 >> v119);
        v123 = v116[3];
        goto LABEL_212;
      }
    }

    v116[1] = v121 - (v121 >> v119);
    v122 = v116[2];
    goto LABEL_211;
  }

LABEL_248:
  v214 = (v107 >> 1);
  v215 = v76;
  av1_get_nz_map_contexts_neon(v319, v30, v76, v83, v108, &v318, v69, v82, *v70.i64, *v71.i64, v72, v73, v74, v75);
  v216 = 0;
  v217 = *(v18 + 627753);
  v218 = (1 << v314) + 4;
  if (v214 >= 3)
  {
    v219 = 3;
  }

  else
  {
    v219 = v214;
  }

  v220 = &v319[v218];
  v221 = v304 + 5990 + 420 * v219;
  v222 = v215;
  v223 = &v30[v215 - 1];
  do
  {
    v229 = v223[v216];
    v230 = v318.i8[v229];
    v231 = *(v316 + v229);
    if (v231 >= 0)
    {
      v232 = *(v316 + v229);
    }

    else
    {
      v232 = -v231;
    }

    if (v217)
    {
      *(v17 + 148352) += v232;
    }

    if (v51)
    {
      if (v216 * 2)
      {
        v233 = (v304 + 1790 + 840 * v313 + 420 * v315 + 10 * v230);
        v236 = v233[4];
        v235 = v233 + 4;
        v234 = v236;
        v237 = (v236 >> 4) + 5;
        v238 = *v233;
        v239 = v238 - (v238 >> ((v236 >> 4) + 5));
        v240 = v238 + ((0x8000 - v238) >> ((v236 >> 4) + 5));
        if (!v231)
        {
          LOWORD(v240) = v239;
        }

        *v233 = v240;
        v241 = v233[1];
        if (v232 <= 1)
        {
          v253 = v233[2];
          v242 = v233 + 2;
          v243 = v253;
          *(v242 - 1) = v241 - (v241 >> v237);
        }

        else
        {
          v244 = v233[2];
          v242 = v233 + 2;
          v243 = v244;
          *(v242 - 1) = v241 + ((0x8000 - v241) >> v237);
          if (v232 != 2)
          {
            v245 = v243 + ((0x8000 - v243) >> v237);
LABEL_276:
            *v242 = v245;
LABEL_280:
            if (v234 >= 0x20)
            {
              v255 = v234;
            }

            else
            {
              v255 = v234 + 1;
            }

            *v235 = v255;
            goto LABEL_284;
          }
        }

        v245 = v243 - (v243 >> v237);
        goto LABEL_276;
      }

      v246 = (v304 + 1470 + (v313 << 6) + 32 * v315 + 8 * v230);
      v235 = v246 + 3;
      v234 = v246[3];
      v247 = (v234 >> 4) + 4;
      v248 = *v246;
      if (v232 <= 1)
      {
        *v246 = v248 - (v248 >> v247);
        v254 = v246[1];
        v249 = v246 + 1;
        v250 = v254;
      }

      else
      {
        *v246 = v248 + ((0x8000 - v248) >> v247);
        v251 = v246[1];
        v249 = v246 + 1;
        v250 = v251;
        if (v232 != 2)
        {
          v252 = v250 + ((0x8000 - v250) >> v247);
LABEL_279:
          *v249 = v252;
          goto LABEL_280;
        }
      }

      v252 = v250 - (v250 >> v247);
      goto LABEL_279;
    }

LABEL_284:
    if (v232 < 3)
    {
      goto LABEL_258;
    }

    v256 = v229 >> v314;
    v257 = v229 >> v314 << v314;
    v258 = v229 - v257 + (v229 >> v314) * v218;
    v259 = v220[v258] + v319[v258 + 1];
    if (v108 == 2)
    {
      if ((v259 + v319[v258 + 2] + 1) >> 1 >= 6)
      {
        v259 = 6;
      }

      else
      {
        v259 = (v259 + v319[v258 + 2] + 1) >> 1;
      }

      if (!v229)
      {
        goto LABEL_307;
      }

      if (v229 != v257)
      {
        goto LABEL_300;
      }

LABEL_306:
      v259 += 7;
      goto LABEL_307;
    }

    if (v108 == 1)
    {
      if ((v259 + v319[2 * v218 + v258] + 1) >> 1 >= 6)
      {
        v259 = 6;
      }

      else
      {
        v259 = (v259 + v319[2 * v218 + v258] + 1) >> 1;
      }

      if (!v229)
      {
        goto LABEL_307;
      }

      if (v256)
      {
        goto LABEL_300;
      }

      goto LABEL_306;
    }

    if (v108)
    {
      goto LABEL_300;
    }

    if ((v259 + v220[v258 + 1] + 1) >> 1 >= 6)
    {
      v259 = 6;
    }

    else
    {
      v259 = (v259 + v220[v258 + 1] + 1) >> 1;
    }

    if (v229)
    {
      if (v256 > 1 || v229 - v257 > 1)
      {
LABEL_300:
        v259 += 14;
        goto LABEL_307;
      }

      goto LABEL_306;
    }

LABEL_307:
    if (v51)
    {
      v260 = (v221 + 210 * v315 + 10 * v259);
      v227 = v260[4];
      v261 = *v260;
      v262 = v260[2];
      if ((v232 - 3) >= 3)
      {
        v263 = 3;
      }

      else
      {
        v263 = v232 - 3;
      }

      v264 = (v227 >> 4) + 5;
      if (v232 == 3)
      {
        v266 = v261 - (v261 >> v264);
        *v260 = v261 - (v261 >> v264);
        v267 = v260[1];
      }

      else
      {
        v265 = (0x8000 - v261) >> v264;
        v266 = v261 + v265;
        *v260 = v261 + v265;
        v267 = v260[1];
        if (v232 != 4)
        {
          v260[1] = v267 + ((0x8000 - v267) >> v264);
          if (v263 > 2)
          {
            v226 = v262 + ((0x8000 - v262) >> v264);
            if (v227 < 0x20)
            {
              LOWORD(v227) = v227 + 1;
            }

            v268 = v232 - 6;
            if (v232 >= 6)
            {
              goto LABEL_323;
            }

LABEL_257:
            v260[2] = v226;
            v260[4] = v227;
            goto LABEL_258;
          }

LABEL_320:
          v226 = v262 - (v262 >> v264);
          if (v227 < 0x20)
          {
            LOWORD(v227) = v227 + 1;
          }

          v268 = v232 - 6;
          if (v232 < 6)
          {
            goto LABEL_257;
          }

LABEL_323:
          if (v268 >= 3)
          {
            v269 = 3;
          }

          else
          {
            v269 = v268;
          }

          v270 = (v227 >> 4) + 5;
          if (v232 == 6)
          {
            v271 = v266 - (v266 >> v270);
            *v260 = v271;
            v272 = v260[1];
            goto LABEL_329;
          }

          v271 = v266 + ((0x8000 - v266) >> v270);
          *v260 = v271;
          v272 = v260[1];
          if (v268 == 1)
          {
LABEL_329:
            v260[1] = v272 - (v272 >> v270);
            v273 = v226;
LABEL_330:
            v226 -= v273 >> v270;
            if (v227 < 0x20u)
            {
              LOWORD(v227) = v227 + 1;
            }

            v274 = v232 - 9;
            if (v232 < 9)
            {
              goto LABEL_257;
            }
          }

          else
          {
            v260[1] = v272 + ((0x8000 - v272) >> v270);
            v273 = v226;
            if (v269 < 3)
            {
              goto LABEL_330;
            }

            v226 += (0x8000 - v226) >> v270;
            if (v227 < 0x20u)
            {
              LOWORD(v227) = v227 + 1;
            }

            v274 = v232 - 9;
            if (v232 < 9)
            {
              goto LABEL_257;
            }
          }

          if (v274 >= 3)
          {
            v275 = 3;
          }

          else
          {
            v275 = v274;
          }

          v276 = (v227 >> 4) + 5;
          if (v232 == 9)
          {
            v277 = v271 - (v271 >> v276);
            *v260 = v277;
            v278 = v260[1];
            goto LABEL_344;
          }

          v277 = v271 + ((0x8000 - v271) >> v276);
          *v260 = v277;
          v278 = v260[1];
          if (v274 == 1)
          {
LABEL_344:
            v260[1] = v278 - (v278 >> v276);
            v279 = v226;
LABEL_345:
            v226 -= v279 >> v276;
            if (v227 < 0x20u)
            {
              LOWORD(v227) = v227 + 1;
            }

            v280 = v232 - 12;
            if (v232 < 0xC)
            {
              goto LABEL_257;
            }
          }

          else
          {
            v260[1] = v278 + ((0x8000 - v278) >> v276);
            v279 = v226;
            if (v275 < 3)
            {
              goto LABEL_345;
            }

            v226 += (0x8000 - v226) >> v276;
            if (v227 < 0x20u)
            {
              LOWORD(v227) = v227 + 1;
            }

            v280 = v232 - 12;
            if (v232 < 0xC)
            {
              goto LABEL_257;
            }
          }

          if (v280 >= 3)
          {
            v281 = 3;
          }

          else
          {
            v281 = v280;
          }

          v282 = (v227 >> 4) + 5;
          if (v232 == 12)
          {
            *v260 = v277 - (v277 >> v282);
            v224 = v260[1];
          }

          else
          {
            *v260 = v277 + ((0x8000 - v277) >> v282);
            v224 = v260[1];
            if (v280 != 1)
            {
              v260[1] = v224 + ((0x8000 - v224) >> v282);
              v225 = v226;
              if (v281 >= 3)
              {
                v226 += (0x8000 - v226) >> v282;
LABEL_255:
                if (v227 < 0x20u)
                {
                  LOWORD(v227) = v227 + 1;
                }

                goto LABEL_257;
              }

LABEL_254:
              v226 -= v225 >> v282;
              goto LABEL_255;
            }
          }

          v260[1] = v224 - (v224 >> v282);
          v225 = v226;
          goto LABEL_254;
        }
      }

      v260[1] = v267 - (v267 >> v264);
      goto LABEL_320;
    }

LABEL_258:
    --v216;
    v228 = __OFSUB__(v222--, 1);
  }

  while (!((v222 < 0) ^ v228 | (v222 == 0)));
  v10 = v311;
  v11 = v302;
  LODWORD(v5) = v301;
  v16 = v309;
  v21 = v310;
  v20 = v305;
  if (*v31)
  {
    v283 = BYTE4(v317);
    if (v51)
    {
      v20 = v305;
      v284 = v304 + 18 * v315 + 6 * SHIDWORD(v317);
      v285 = *(v284 + 934);
      v286 = (v285 >> 4) + 4;
      v287 = *(v284 + 930);
      v288 = v287 - (v287 >> v286);
      v289 = v287 + ((0x8000 - v287) >> v286);
      if (*v31 < 0)
      {
        v290 = v289;
      }

      else
      {
        v290 = v288;
      }

      *(v284 + 930) = v290;
      if (v285 >= 0x20)
      {
        v291 = v285;
      }

      else
      {
        v291 = v285 + 1;
      }

      *(v284 + 934) = v291;
    }

    *(v297 + v306) |= 16 * v283;
  }

  v13 = v303;
  if (!v310)
  {
LABEL_371:
    v38 = 0;
    goto LABEL_372;
  }

LABEL_12:
  v32 = 0;
  v33 = v21 - 1;
  do
  {
    v34 = *v30++;
    v35 = v31[v34];
    if (v35 < 0)
    {
      v35 = -v35;
    }

    v32 += v35;
  }

  while (v32 <= 7 && v33-- != 0);
  if (v32 >= 7)
  {
    v32 = 7;
  }

  v37 = v32 | 8;
  if (*v31)
  {
    v32 |= 0x10u;
  }

  if (*v31 >= 0)
  {
    v38 = v32;
  }

  else
  {
    v38 = v37;
  }

LABEL_372:
  av1_set_entropy_contexts(v17 + 416, v20, v16, v5, v10, v38, v11, v13);
}

uint64_t get_txb_ctx_0(uint64_t result, unsigned int a2, int a3, unsigned __int8 *a4, unsigned __int8 *a5, int *a6, double a7, int8x16_t a8)
{
  if (a2 > 1)
  {
    if (a2 == 2)
    {
      a6[1] = get_txb_ctx_general_dc_sign_contexts_1[get_txb_ctx_general_signs_1[a4[1] >> 3] + 32 + get_txb_ctx_general_signs_1[*a4 >> 3] + get_txb_ctx_general_signs_1[a4[2] >> 3] + get_txb_ctx_general_signs_1[a4[3] >> 3] + get_txb_ctx_general_signs_1[*a5 >> 3] + get_txb_ctx_general_signs_1[a5[1] >> 3] + get_txb_ctx_general_signs_1[a5[2] >> 3] + get_txb_ctx_general_signs_1[a5[3] >> 3]];
      if (a3)
      {
        if ((0x30FF80uLL >> result))
        {
          v25 = 10;
        }

        else
        {
          v25 = 7;
        }

        if (*a4)
        {
          ++v25;
        }

        if (*a5)
        {
          v26 = v25 + 1;
        }

        else
        {
          v26 = v25;
        }

        *a6 = v26;
        return result;
      }

      if (result == 6)
      {
        goto LABEL_87;
      }

      v47 = a4[1] | *a4 | a4[2] | a4[3];
      LODWORD(v48) = v47 & 7;
      v50 = a5[1] | *a5;
      v51 = a5[2] | a5[3];
    }

    else
    {
      if (a2 != 3)
      {
        goto LABEL_26;
      }

      v10 = get_txb_ctx_general_signs_1[a5[3] >> 3] + get_txb_ctx_general_signs_1[a5[4] >> 3] + get_txb_ctx_general_signs_1[a5[5] >> 3] + get_txb_ctx_general_signs_1[a5[6] >> 3];
      a6[1] = get_txb_ctx_general_dc_sign_contexts_1[get_txb_ctx_general_signs_1[a4[1] >> 3] + 32 + get_txb_ctx_general_signs_1[*a4 >> 3] + get_txb_ctx_general_signs_1[a4[2] >> 3] + get_txb_ctx_general_signs_1[a4[3] >> 3] + get_txb_ctx_general_signs_1[a4[4] >> 3] + get_txb_ctx_general_signs_1[a4[5] >> 3] + get_txb_ctx_general_signs_1[a4[6] >> 3] + get_txb_ctx_general_signs_1[a4[7] >> 3] + get_txb_ctx_general_signs_1[*a5 >> 3] + get_txb_ctx_general_signs_1[a5[1] >> 3] + get_txb_ctx_general_signs_1[a5[2] >> 3] + v10 + get_txb_ctx_general_signs_1[a5[7] >> 3]];
      if (a3)
      {
        if (result - 10 >= 6)
        {
          v11 = 7;
        }

        else
        {
          v11 = 10;
        }

        if (*a4)
        {
          ++v11;
        }

        if (*a5)
        {
          v12 = v11 + 1;
        }

        else
        {
          v12 = v11;
        }

        *a6 = v12;
        return result;
      }

      if (result == 9)
      {
        goto LABEL_87;
      }

      v47 = a4[1] | *a4 | a4[2] | a4[3] | a4[4] | a4[5] | a4[6] | a4[7];
      LODWORD(v48) = v47 & 7;
      v50 = a5[1] | *a5 | a5[2] | a5[3] | a5[4] | a5[5] | a5[6];
      v51 = a5[7];
    }

    v49 = v50 | v51;
LABEL_90:
    if ((v47 & 4) != 0)
    {
      v48 = 4;
    }

    else
    {
      v48 = v48;
    }

LABEL_93:
    if ((v49 & 4) != 0)
    {
      v52 = 4;
    }

    else
    {
      v52 = v49 & 7;
    }

    *a6 = get_txb_ctx_general_skip_contexts_1[4 * v48 + v48 + v52];
    return result;
  }

  if (a2)
  {
    if (a2 == 1)
    {
      a6[1] = get_txb_ctx_general_dc_sign_contexts_1[get_txb_ctx_general_signs_1[*a4 >> 3] + 32 + get_txb_ctx_general_signs_1[a4[1] >> 3] + get_txb_ctx_general_signs_1[*a5 >> 3] + get_txb_ctx_general_signs_1[a5[1] >> 3]];
      if (a3)
      {
        if ((0x3CFFF0uLL >> result))
        {
          v8 = 10;
        }

        else
        {
          v8 = 7;
        }

        if (*a4)
        {
          ++v8;
        }

        if (*a5)
        {
          v9 = v8 + 1;
        }

        else
        {
          v9 = v8;
        }

        *a6 = v9;
        return result;
      }

      if (result != 3)
      {
        v47 = a4[1] | *a4;
        LODWORD(v48) = v47 & 7;
        v49 = a5[1] | *a5;
        goto LABEL_90;
      }

LABEL_87:
      *a6 = 0;
      return result;
    }

LABEL_26:
    LODWORD(v13) = tx_size_wide_unit_5[a2];
    LODWORD(v14) = tx_size_high_unit_5[a2];
    if (v13 <= 1)
    {
      v13 = 1;
    }

    else
    {
      v13 = v13;
    }

    if ((0x2021uLL >> a2))
    {
      v17 = 0;
      v22 = 0;
    }

    else
    {
      v15 = 0;
      v16 = 0;
      v17 = v13 & 0x7FFFFFFE;
      v18 = a4 + 1;
      v19 = v17;
      do
      {
        v20 = *(v18 - 1);
        v21 = *v18;
        v18 += 2;
        v15 += get_txb_ctx_general_signs_1[v20 >> 3];
        v16 += get_txb_ctx_general_signs_1[v21 >> 3];
        v19 -= 2;
      }

      while (v19);
      v22 = v16 + v15;
      if (v17 == v13)
      {
        goto LABEL_57;
      }
    }

    v27 = v13 - v17;
    v28 = &a4[v17];
    do
    {
      v29 = *v28++;
      v22 += get_txb_ctx_general_signs_1[v29 >> 3];
      --v27;
    }

    while (v27);
LABEL_57:
    if (v14 <= 1)
    {
      v14 = 1;
    }

    else
    {
      v14 = v14;
    }

    if ((0x4041uLL >> a2))
    {
      v31 = 0;
    }

    else
    {
      v30 = 0;
      v31 = v14 & 0x7FFFFFFE;
      v32 = a5 + 1;
      v33 = v31;
      do
      {
        v34 = *(v32 - 1);
        v35 = *v32;
        v32 += 2;
        v22 += get_txb_ctx_general_signs_1[v34 >> 3];
        v30 += get_txb_ctx_general_signs_1[v35 >> 3];
        v33 -= 2;
      }

      while (v33);
      v22 += v30;
      if (v31 == v14)
      {
LABEL_68:
        a6[1] = get_txb_ctx_general_dc_sign_contexts_1[v22 + 32];
        if (a3)
        {
          switch(a2)
          {
            case 0u:
              v39 = *a4;
              goto LABEL_141;
            case 1u:
              v77 = *a4;
              goto LABEL_150;
            case 2u:
              v73 = *a4 == 0;
              goto LABEL_145;
            case 3u:
              v71 = *a4;
              goto LABEL_126;
            case 4u:
              v69 = *(a4 + 1) | *a4;
              goto LABEL_119;
            case 5u:
              v77 = *a4;
              goto LABEL_150;
            case 6u:
              v39 = *a4;
              goto LABEL_141;
            case 7u:
              v73 = *a4 == 0;
              goto LABEL_145;
            case 8u:
              v77 = *a4;
LABEL_150:
              v68 = v77 == 0;
              goto LABEL_151;
            case 9u:
              v72 = *a4;
              goto LABEL_124;
            case 0xAu:
              v79 = *a4;
              goto LABEL_144;
            case 0xBu:
              v69 = *a4;
LABEL_119:
              v70 = v69 == 0;
              goto LABEL_134;
            case 0xCu:
              v71 = *(a4 + 1) | *a4;
LABEL_126:
              v74 = v71 == 0;
              goto LABEL_127;
            case 0xDu:
              v73 = *a4 == 0;
              goto LABEL_145;
            case 0xEu:
              v39 = *a4;
LABEL_141:
              v75 = v39 != 0;
              v78 = *a5;
              goto LABEL_155;
            case 0xFu:
              v72 = *a4;
LABEL_124:
              v74 = v72 == 0;
LABEL_127:
              v75 = !v74;
              v76 = *a5 == 0;
              goto LABEL_156;
            case 0x10u:
              v68 = *a4 == 0;
LABEL_151:
              v75 = !v68;
              v78 = *a5;
              goto LABEL_155;
            case 0x11u:
              v70 = *a4 == 0;
LABEL_134:
              v75 = !v70;
              v76 = *a5 == 0;
              goto LABEL_156;
            case 0x12u:
              v79 = *(a4 + 1) | *a4;
LABEL_144:
              v73 = v79 == 0;
LABEL_145:
              v75 = !v73;
              v78 = *a5;
LABEL_155:
              v76 = v78 == 0;
LABEL_156:
              v80 = !v76;
              break;
            default:
              v75 = 0;
              v80 = 0;
              break;
          }

          v81 = v80 + v75;
          if (num_pels_log2_lookup_11[result] <= num_pels_log2_lookup_11[txsize_to_bsize_5[a2]])
          {
            v82 = 7;
          }

          else
          {
            v82 = 10;
          }

          *a6 = v81 + v82;
          return result;
        }

        if (txsize_to_bsize_5[a2] == result)
        {
          goto LABEL_87;
        }

        if ((0xA0E3uLL >> a2))
        {
          v40 = 0;
          LOBYTE(v46) = 0;
        }

        else
        {
          v40 = v13 & 0x7FFFFFFC;
          v41 = 0uLL;
          v42 = v40;
          v43 = a4;
          do
          {
            v44 = *v43++;
            a8.i32[0] = v44;
            a8 = vmovl_u16(*&vmovl_u8(*a8.i8));
            v41 = vorrq_s8(v41, a8);
            v42 -= 4;
          }

          while (v42);
          a8.i64[0] = vextq_s8(v41, v41, 8uLL).u64[0];
          v45 = vorr_s8(*v41.i8, *a8.i8);
          v46 = (v45.i8[0] | v45.i8[4]);
          if (v40 == v13)
          {
LABEL_100:
            if ((0x14163uLL >> a2))
            {
              v56 = 0;
              LOBYTE(v62) = 0;
            }

            else
            {
              v56 = v14 & 0x7FFFFFFC;
              v57 = 0uLL;
              v58 = v56;
              v59 = a5;
              do
              {
                v60 = *v59++;
                a8.i32[0] = v60;
                a8 = vmovl_u16(*&vmovl_u8(*a8.i8));
                v57 = vorrq_s8(v57, a8);
                v58 -= 4;
              }

              while (v58);
              v61 = vorr_s8(*v57.i8, *&vextq_s8(v57, v57, 8uLL));
              v62 = (v61.i8[0] | v61.i8[4]);
              if (v56 == v14)
              {
LABEL_108:
                if ((v46 & 4) != 0)
                {
                  v66 = 4;
                }

                else
                {
                  v66 = v46 & 7;
                }

                if ((v62 & 4) != 0)
                {
                  v67 = 4;
                }

                else
                {
                  v67 = v62 & 7;
                }

                *a6 = get_txb_ctx_general_skip_contexts_1[4 * v66 + v66 + v67];
                return result;
              }
            }

            v63 = v14 - v56;
            v64 = &a5[v56];
            do
            {
              v65 = *v64++;
              LOBYTE(v62) = v62 | v65;
              --v63;
            }

            while (v63);
            goto LABEL_108;
          }
        }

        v53 = v13 - v40;
        v54 = &a4[v40];
        do
        {
          v55 = *v54++;
          LOBYTE(v46) = v46 | v55;
          --v53;
        }

        while (v53);
        goto LABEL_100;
      }
    }

    v36 = v14 - v31;
    v37 = &a5[v31];
    do
    {
      v38 = *v37++;
      v22 += get_txb_ctx_general_signs_1[v38 >> 3];
      --v36;
    }

    while (v36);
    goto LABEL_68;
  }

  a6[1] = get_txb_ctx_general_dc_sign_contexts_1[get_txb_ctx_general_signs_1[*a4 >> 3] + 32 + get_txb_ctx_general_signs_1[*a5 >> 3]];
  if (!a3)
  {
    if (result)
    {
      if ((*a4 & 4) != 0)
      {
        v48 = 4;
      }

      else
      {
        v48 = *a4 & 7;
      }

      v49 = *a5;
      goto LABEL_93;
    }

    goto LABEL_87;
  }

  if (result)
  {
    v23 = 10;
  }

  else
  {
    v23 = 7;
  }

  if (*a4)
  {
    ++v23;
  }

  if (*a5)
  {
    v24 = v23 + 1;
  }

  else
  {
    v24 = v23;
  }

  *a6 = v24;
  return result;
}

int16x8_t *update_cdf(int16x8_t *result, int a2, int a3)
{
  v3 = result->u16[a3];
  v4 = v3 >> 4;
  if (a3 > 3)
  {
    ++v4;
  }

  v5 = v4 + 4;
  v6 = a3 - 1;
  if (a3 - 1 <= 1)
  {
    v7 = 1;
  }

  else
  {
    v7 = v6;
  }

  if (v6 >= 8)
  {
    v9 = vdupq_n_s64(a2);
    v8 = v7 & 0x7FFFFFF8;
    v10 = xmmword_273BB9B30;
    v11 = xmmword_273BB9B40;
    v12 = xmmword_273B92120;
    v13 = xmmword_273B92130;
    v14 = vnegq_s32(vdupq_n_s32(v5));
    v15.i64[0] = 0x800000008000;
    v15.i64[1] = 0x800000008000;
    v16 = vdupq_n_s64(8uLL);
    v17 = v8;
    v18 = result;
    do
    {
      *v18 = vaddq_s16(*v18, vbslq_s8(vuzp1q_s16(vuzp1q_s32(vcgtq_s64(v9, v13), vcgtq_s64(v9, v12)), vuzp1q_s32(vcgtq_s64(v9, v11), vcgtq_s64(v9, v10))), vuzp1q_s16(vshlq_s32(vsubw_u16(v15, *v18->i8), v14), vshlq_s32(vsubw_high_u16(v15, *v18), v14)), vnegq_s16(vuzp1q_s16(vshlq_u32(vmovl_u16(*v18->i8), v14), vshlq_u32(vmovl_high_u16(*v18), v14)))));
      ++v18;
      v11 = vaddq_s64(v11, v16);
      v12 = vaddq_s64(v12, v16);
      v13 = vaddq_s64(v13, v16);
      v10 = vaddq_s64(v10, v16);
      v17 -= 8;
    }

    while (v17);
    if (v8 == v7)
    {
      goto LABEL_14;
    }
  }

  else
  {
    v8 = 0;
  }

  do
  {
    v19 = result->u16[v8];
    v20 = v19 - (v19 >> v5);
    v21 = v19 + ((0x8000 - v19) >> v5);
    if (v8 >= a2)
    {
      LOWORD(v21) = v20;
    }

    result->i16[v8++] = v21;
  }

  while (v7 != v8);
LABEL_14:
  v22 = v3 >= 0x20;
  v23 = result->i16[a3];
  if (!v22)
  {
    ++v23;
  }

  result->i16[a3] = v23;
  return result;
}

void av1_record_txb_context(int a1, int a2, int a3, int a4, uint64_t a5, unsigned int a6, uint64_t *a7, double a8, int8x16_t a9)
{
  v9 = a6;
  v11 = a4;
  v14 = a1;
  v15 = a7[1];
  v16 = v15 + 136 * a1;
  v17 = (v15 + 432 + 2608 * a1);
  v18 = *(*(v16 + 32) + 2 * a2);
  v19 = *(v16 + 16);
  v20 = *v17;
  v21 = **(v15 + 8280);
  v22 = *(v21 + 167);
  if (*(v15 + 4 * (v22 & 7) + 11108) || ((0x61810uLL >> a6) & 1) != 0)
  {
    v25 = 0;
    goto LABEL_10;
  }

  if (!*v17)
  {
    v25 = *(*(v15 + 8328) + a4 + *(v15 + 8336) * a3);
    goto LABEL_10;
  }

  if ((v22 & 0x80) == 0 && *(v21 + 16) <= 0)
  {
    v24 = 0;
    v23 = intra_mode_to_tx_type__intra_mode_to_tx_type_2[get_uv_mode_uv2y_5[*(v21 + 3)]];
    if ((0x18608uLL >> a6))
    {
      goto LABEL_76;
    }

    goto LABEL_71;
  }

  v23 = *(*(v15 + 8328) + (a4 << *(v15 + 432 + 2608 * *v17 + 4)) + *(v15 + 8336) * (a3 << *(v15 + 432 + 2608 * *v17 + 8)));
  if ((v22 & 0x80) == 0)
  {
    v24 = *(v21 + 16) > 0;
    if ((0x18608uLL >> a6))
    {
      goto LABEL_76;
    }

LABEL_71:
    if (*(*a7 + 239557))
    {
      if (v24)
      {
        LOBYTE(v24) = 1;
      }

      else
      {
        LOBYTE(v24) = 2;
      }
    }

    else
    {
      LOBYTE(v24) = av1_ext_tx_set_lookup_4[2 * v24 + ((0x60604uLL >> a6) & 1)];
    }

    goto LABEL_76;
  }

  v24 = 1;
  if (((0x18608uLL >> a6) & 1) == 0)
  {
    goto LABEL_71;
  }

LABEL_76:
  if (av1_ext_tx_used_2[16 * v24 + v23])
  {
    v25 = v23;
  }

  else
  {
    v25 = 0;
  }

LABEL_10:
  v26 = (v19 + 64 * a2);
  if (*(a7 + 21))
  {
    v27 = *(&av1_scan_orders + 32 * a6 + 2 * v25);
    v28 = v26;
LABEL_12:
    if (v18)
    {
      v29 = 0;
      v30 = v18 - 1;
      do
      {
        v31 = *v27++;
        v32 = v28[v31];
        if (v32 < 0)
        {
          v32 = -v32;
        }

        v29 += v32;
      }

      while (v29 <= 7 && v30-- != 0);
      if (v29 >= 7)
      {
        v34 = 7;
      }

      else
      {
        v34 = v29;
      }

      v35 = v34 | 8;
      if (*v28)
      {
        v34 |= 0x10u;
      }

      if (*v28 >= 0)
      {
        v36 = v34;
      }

      else
      {
        v36 = v35;
      }
    }

    else
    {
      v36 = 0;
    }

    av1_set_entropy_contexts(v15 + 416, v17, v14, a5, v9, v36, v11, a3);
    return;
  }

  v64 = (&av1_scan_orders + 32 * a6 + 2 * v25);
  v63 = **(v15 + 8280);
  v69 = a6;
  v70 = v18;
  v65 = *a7;
  v66 = v14;
  v37 = v14;
  v71 = 0;
  v38 = a4;
  v68 = a5;
  v39 = v17;
  get_txb_ctx_0(a5, a6, v14, (*(v17 + 14) + a4), (*(v17 + 15) + a3), &v71, a8, a9);
  v41 = *(v15 + 16784);
  v42 = *(*(v15 + 16760) + 2 * v20 + 78) >> 4;
  v43 = v41 + 8 * v37;
  v44 = *(v43 + 24) + 2 * v42;
  v45 = *(v43 + 48) + v42;
  *(v45 + a2) = v71;
  *(v44 + 2 * a2) = v70;
  if (v70)
  {
    if (a6 <= 0xC && ((1 << a6) & 0x1810) != 0)
    {
      v46 = 4096;
      v47 = 16 * a2;
    }

    else
    {
      v47 = 16 * a2;
      if ((a6 - 17) >= 2u)
      {
        v46 = 4 * tx_size_2d_0[v69];
      }

      else
      {
        v46 = 2048;
      }
    }

    v62 = v45;
    if (*(v65 + 258048) && (*(v65 + 4 * (*(v63 + 167) & 7) + 258180) & 0x40) != 0)
    {
      v46 = 0;
    }

    v28 = (*(v41 + 8 * v37) + 4 * *(*(v15 + 16760) + 2 * v20 + 78) + 4 * v47);
    memcpy(v28, v26, v46);
    v50 = *(v65 + 627753);
    v27 = *v64;
    ++*(v15 + (v69 << 6) + 4 * v25 + 146712);
    v9 = a6;
    v11 = a4;
    LODWORD(a5) = v68;
    v17 = v39;
    v14 = v66;
    v18 = v70;
    if (v50 != 1)
    {
      goto LABEL_63;
    }

    v51 = *(v15 + 148352);
    if (v70 == 1)
    {
      v52 = v70;
    }

    else
    {
      v53 = 0;
      v52 = v70 & 1;
      v54 = &v27[v70 - 1];
      v55 = v70 & 0xFFFE;
      do
      {
        LODWORD(v56) = v26[*v54];
        LODWORD(v57) = v26[*(v54 - 1)];
        if (v56 >= 0)
        {
          v56 = v56;
        }

        else
        {
          v56 = -v56;
        }

        if (v57 >= 0)
        {
          v57 = v57;
        }

        else
        {
          v57 = -v57;
        }

        v51 += v56;
        v53 += v57;
        v54 -= 2;
        v55 -= 2;
      }

      while (v55);
      v51 += v53;
      LODWORD(a5) = v68;
      if ((v70 & 0xFFFE) == v70)
      {
        goto LABEL_62;
      }
    }

    v58 = v52 + 1;
    v59 = &v27[v52 - 1];
    do
    {
      v60 = *v59--;
      LODWORD(v61) = v26[v60];
      if (v61 >= 0)
      {
        v61 = v61;
      }

      else
      {
        v61 = -v61;
      }

      v51 += v61;
      --v58;
    }

    while (v58 > 1);
LABEL_62:
    *(v15 + 148352) = v51;
LABEL_63:
    if (*v28)
    {
      *(v62 + a2) |= 16 * BYTE4(v71);
    }

    goto LABEL_12;
  }

  v48 = *(v39 + 15);
  v49 = tx_size_high_unit_1[v69];
  bzero((*(v39 + 14) + v38), tx_size_wide_unit_1[v69]);

  bzero((v48 + a3), v49);
}

void av1_update_intra_mb_txb_context(uint64_t a1, uint64_t a2, char a3, unsigned int a4, int a5)
{
  v7 = *(*(a1 + 263736) + 77);
  if (*(*(a1 + 263736) + 77))
  {
    v8 = 1;
  }

  else
  {
    v8 = 3;
  }

  v9 = **(a2 + 8280);
  v26[1] = a2;
  v27 = 0;
  v26[0] = a1;
  BYTE4(v27) = a5;
  BYTE5(v27) = a3;
  v10 = *(a2 + 436);
  v11 = *(a2 + 440);
  if (*(v9 + 144))
  {
    v12 = av1_ss_size_lookup[4 * a4 + 2 * v10 + v11];
    v13 = (v8 - 1) * *(a2 + 428);
    v14 = mi_size_high_5[v12];
    bzero(*(a2 + 544), mi_size_wide_6[v12]);
    bzero(*(a2 + 552), v14);
    if (v13)
    {
      v15 = &av1_ss_size_lookup[4 * a4];
      v16 = v15[2 * *(a2 + 3044) + *(a2 + 3048)];
      v17 = mi_size_high_5[v16];
      bzero(*(a2 + 3152), mi_size_wide_6[v16]);
      bzero(*(a2 + 3160), v17);
      v18 = v15[2 * *(a2 + 5652) + *(a2 + 5656)];
      v19 = mi_size_high_5[v18];
      bzero(*(a2 + 5760), mi_size_wide_6[v18]);
      v20 = *(a2 + 5768);

      bzero(v20, v19);
    }
  }

  else
  {
    if (a5)
    {
      v21 = av1_update_and_record_txb_context;
    }

    else
    {
      v21 = av1_record_txb_context;
    }

    av1_foreach_transformed_block_in_plane(a2 + 416, av1_ss_size_lookup[4 * a4 + 2 * v10 + v11], 0, v21, v26);
    if (!v7)
    {
      v22 = a4;
      v23 = (a2 + 3048);
      v24 = 1;
      v25 = &av1_ss_size_lookup[4 * v22];
      do
      {
        if (*(a2 + 428) != 1)
        {
          break;
        }

        av1_foreach_transformed_block_in_plane(a2 + 416, v25[2 * *(v23 - 1) + *v23], v24++, v21, v26);
        v23 += 652;
      }

      while (v8 != v24);
    }
  }
}

uint64_t av1_get_ext_tx_set_type(char a1, unsigned int a2, int a3)
{
  if ((0x61810uLL >> a1))
  {
    return 0;
  }

  if ((0x18608uLL >> a1))
  {
    return a2 != 0;
  }

  if (!a3)
  {
    return av1_ext_tx_set_lookup_4[2 * a2 + ((0x60604uLL >> a1) & 1)];
  }

  if (a2)
  {
    return 1;
  }

  else
  {
    return 2;
  }
}

uint64_t av1_get_nz_map_contexts_neon(uint64_t result, uint64_t a2, int a3, int a4, int a5, int8x16_t *a6, int32x4_t a7, int32x4_t a8, double a9, double a10, double a11, double a12, double a13, int32x4_t a14)
{
  v14 = a3 - 1;
  if (a3 == 1)
  {
    a6->i8[0] = 0;
    return result;
  }

  if (a4 > 16)
  {
    if (a4 == 17)
    {
      v15 = 16;
      v16 = 9;
      goto LABEL_16;
    }

    if (a4 == 18)
    {
      v15 = 32;
      v16 = 10;
      goto LABEL_16;
    }
  }

  else if ((a4 - 11) < 2 || a4 == 4)
  {
    v15 = 32;
    goto LABEL_6;
  }

  v15 = tx_size_wide_9[a4];
  if (a4 > 16)
  {
LABEL_15:
    v16 = a4;
    goto LABEL_16;
  }

LABEL_6:
  v16 = 3;
  if ((a4 - 11) >= 2 && a4 != 4)
  {
    goto LABEL_15;
  }

LABEL_16:
  v17 = tx_size_high_8[v16];
  v18 = v17 + 4;
  if (a5 == 1)
  {
    v39 = 2 * v18;
    v40 = 3 * v18;
    v41 = 4 * v18;
    if (v17 == 8)
    {
      v97 = *(result + 1);
      v97.i64[1] = *(result + 13);
      v98 = *(result + 12);
      v98.i64[1] = *(result + 24);
      v99.i64[0] = *(result + v39);
      v99.i64[1] = *(result + v39 + 12);
      v100.i64[0] = *(result + v40);
      v100.i64[1] = *(result + v40 + 12);
      v101.i64[0] = *(result + v41);
      v101.i64[1] = *(result + v41 + 12);
      v102.i64[0] = 0x303030303030303;
      v102.i64[1] = 0x303030303030303;
      v103 = vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v98, v102), vminq_u8(v97, v102)), vminq_u8(v99, v102)), vaddq_s8(vminq_u8(v100, v102), vminq_u8(v101, v102))), 1uLL);
      v104.i64[0] = 0x404040404040404;
      v104.i64[1] = 0x404040404040404;
      *a6 = vaddq_s8(vminq_u8(v103, v104), xmmword_273BE42A0);
      v105 = v15 - 2;
      if (v15 != 2)
      {
        v106 = a6 + 1;
        v107 = (result + 48);
        v108.i64[0] = 0x2424242424242424;
        v108.i64[1] = 0x2424242424242424;
        do
        {
          v109 = *(v107 - 23);
          v109.i64[1] = *(v107 - 11);
          v110 = *(v107 - 12);
          v110.i64[1] = *v107;
          v111 = *(v107 + v39 - 24);
          v111.i64[1] = *(v107 + v39 - 12);
          v112 = *(v107 + v40 - 24);
          result = v107 + v40 - 12;
          v112.i64[1] = *result;
          v113 = *(v107 + v41 - 24);
          v113.i64[1] = *(v107 + v41 - 12);
          *v106++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v110, v102), vminq_u8(v109, v102)), vaddq_s8(vminq_u8(v111, v102), vminq_u8(v112, v102))), vminq_u8(v113, v102)), 1uLL), v104), v108);
          v107 += 3;
          v105 -= 2;
        }

        while (v105);
      }
    }

    else if (v17 == 4)
    {
      v42 = *(result + 1);
      v42.i32[1] = *(result + 9);
      v42.i32[2] = *(result + 17);
      v42.i32[3] = *(result + 25);
      v43 = *(result + 8);
      v43.i32[1] = *(result + 16);
      v43.i32[2] = *(result + 24);
      v43.i32[3] = *(result + 32);
      v44 = *(result + v39);
      v44.i32[1] = *(result + v39 + 8);
      v44.i32[2] = *(result + v39 + 16);
      v44.i32[3] = *(result + v39 + 24);
      v45 = *(result + v40);
      v45.i32[1] = *(result + v40 + 8);
      v45.i32[2] = *(result + v40 + 16);
      v45.i32[3] = *(result + v40 + 24);
      v46 = *(result + v41);
      v46.i32[1] = *(result + v41 + 8);
      v46.i32[2] = *(result + v41 + 16);
      v46.i32[3] = *(result + v41 + 24);
      v47.i64[0] = 0x303030303030303;
      v47.i64[1] = 0x303030303030303;
      v48 = vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v43, v47), vminq_u8(v42, v47)), vminq_u8(v44, v47)), vaddq_s8(vminq_u8(v45, v47), vminq_u8(v46, v47))), 1uLL);
      v49.i64[0] = 0x404040404040404;
      v49.i64[1] = 0x404040404040404;
      *a6 = vaddq_s8(vminq_u8(v48, v49), xmmword_273BE42B0);
      v50 = v15 - 4;
      if (v15 != 4)
      {
        v51 = a6 + 1;
        v52 = (result + 64);
        v53.i64[0] = 0x2424242424242424;
        v53.i64[1] = 0x2424242424242424;
        do
        {
          v54 = *(v52 - 31);
          v54.i32[1] = *(v52 - 23);
          v54.i32[2] = *(v52 - 15);
          v55 = *(v52 - 6);
          v55.i32[1] = *(v52 - 2);
          v54.i32[3] = *(v52 - 7);
          v55.i32[2] = *(v52 - 2);
          v55.i32[3] = *v52;
          v56 = *(v52 + v39 - 32);
          v56.i32[1] = *(v52 + v39 - 24);
          v56.i32[2] = *(v52 + v39 - 16);
          v57 = *(v52 + v40 - 32);
          v57.i32[1] = *(v52 + v40 - 24);
          v56.i32[3] = *(v52 + v39 - 8);
          v57.i32[2] = *(v52 + v40 - 16);
          v58 = *&v52[v41 / 4 - 8];
          v57.i32[3] = *(v52 + v40 - 8);
          v58.i32[1] = *&v52[v41 / 4 - 6];
          result = &v52[v41 / 4 - 4];
          v58.i32[2] = *result;
          v58.i32[3] = v52[v41 / 4 - 2];
          *v51++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v55, v47), vminq_u8(v54, v47)), vaddq_s8(vminq_u8(v56, v47), vminq_u8(v57, v47))), vminq_u8(v58, v47)), 1uLL), v49), v53);
          v52 += 8;
          v50 -= 4;
        }

        while (v50);
      }
    }

    else
    {
      v122 = v18;
      v123.i64[0] = 0x1A1A1A1A1A1A1A1ALL;
      v123.i64[1] = 0x1A1A1A1A1A1A1A1ALL;
      v124.i64[0] = 0x1F1F1F1F1F1F1F1FLL;
      v124.i64[1] = 0x1F1F1F1F1F1F1F1FLL;
      v125.i64[0] = 0x303030303030303;
      v125.i64[1] = 0x303030303030303;
      v126 = a6;
      v127 = v15;
      v128.i64[0] = 0x404040404040404;
      v128.i64[1] = 0x404040404040404;
      do
      {
        v129 = 0;
        v130 = v124;
        do
        {
          v126[v129 / 0x10] = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(*(result + v122 + v129), v125), vminq_u8(*(result + v129 + 1), v125)), vaddq_s8(vminq_u8(*(result + v39 + v129), v125), vminq_u8(*(result + v40 + v129), v125))), vminq_u8(*(result + v41 + v129), v125)), 1uLL), v128), v123);
          v129 += 16;
        }

        while (v17 != v129);
        result += v129 + 4;
        v126 = (v126 + v129);
        v124.i64[0] = 0x2424242424242424;
        v124.i64[1] = 0x2424242424242424;
        v123 = v130;
        --v127;
      }

      while (v127);
    }
  }

  else if (a5)
  {
    if (v17 == 4)
    {
      v131 = (result + 17);
      v132.i64[0] = 0x303030303030303;
      v132.i64[1] = 0x303030303030303;
      v133.i64[0] = 0x404040404040404;
      v133.i64[1] = 0x404040404040404;
      v134 = a6;
      v135 = v15;
      do
      {
        v136 = *(v131 - 1);
        v136.i32[1] = *(v131 - 1);
        v137 = *(v131 - 9);
        v138 = *(v131 - 15);
        v136.i32[2] = *v131;
        v138.i32[1] = *(v131 - 7);
        v139 = v137.u64[1];
        v136.i32[3] = v131[2];
        v140 = *(v131 - 13);
        v140.i32[1] = *(v131 - 5);
        v140.i32[2] = v137.i32[3];
        v138.i32[2] = v137.i64[1] >> 16;
        v137.i32[1] = *(v131 - 1);
        v138.i32[3] = *(v131 + 9);
        v137.i32[2] = *(v131 + 7);
        v141 = *(v131 - 14);
        v141.i32[1] = *(v131 - 6);
        v137.i32[3] = *(v131 + 15);
        v141.i32[2] = v139 >> 24;
        v141.i32[3] = *(v131 + 10);
        v140.i32[3] = *(v131 + 11);
        *v134++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v137, v132), vminq_u8(v136, v132)), vminq_u8(v138, v132)), vaddq_s8(vminq_u8(v141, v132), vminq_u8(v140, v132))), 1uLL), v133), xmmword_273BE43B0);
        v131 += 8;
        v135 -= 4;
      }

      while (v135);
    }

    else if (v17 == 8)
    {
      v59 = result + 12;
      v60.i64[0] = 0x303030303030303;
      v60.i64[1] = 0x303030303030303;
      v61.i64[0] = 0x404040404040404;
      v61.i64[1] = 0x404040404040404;
      v62 = a6;
      v63 = v15;
      do
      {
        v64 = *(v59 - 11);
        v64.i64[1] = *(v59 + 1);
        v65 = *v59;
        v66 = *(v59 - 10);
        v65.i64[1] = *(v59 + 12);
        v66.i64[1] = *v59 >> 16;
        v67 = *(v59 - 9);
        v68 = *(v59 - 8);
        v67.i64[1] = *v59 >> 24;
        v68.i64[1] = *v59 >> 32;
        *v62++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v65, v60), vminq_u8(v64, v60)), vminq_u8(v66, v60)), vaddq_s8(vminq_u8(v67, v60), vminq_u8(v68, v60))), 1uLL), v61), xmmword_273BE43A0);
        v59 += 24;
        v63 -= 2;
      }

      while (v63);
    }

    else
    {
      v145 = v18;
      v146 = v17 - 16;
      v147 = v18 + 16;
      v148.i64[0] = 0x303030303030303;
      v148.i64[1] = 0x303030303030303;
      v149.i64[0] = 0x404040404040404;
      v149.i64[1] = 0x404040404040404;
      v150.i64[0] = 0x2424242424242424;
      v150.i64[1] = 0x2424242424242424;
      v151 = v15;
      v152 = a6;
      do
      {
        *v152++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vminq_u8(*(result + v145), v148), vminq_u8(*(result + 3), v148)), vaddq_s8(vaddq_s8(vminq_u8(*(result + 1), v148), vminq_u8(*(result + 2), v148)), vminq_u8(*(result + 4), v148))), 1uLL), v149), xmmword_273BE43C0);
        if (v146)
        {
          v154 = v146;
          do
          {
            v153 = result + 16;
            *v152++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vminq_u8(*(result + v147), v148), vminq_u8(*(result + 19), v148)), vaddq_s8(vaddq_s8(vminq_u8(*(result + 17), v148), vminq_u8(*(result + 18), v148)), vminq_u8(*(result + 20), v148))), 1uLL), v149), v150);
            result += 16;
            v154 -= 16;
          }

          while (v154);
        }

        else
        {
          v153 = result;
        }

        result = v153 + 20;
        --v151;
      }

      while (v151);
    }
  }

  else
  {
    v19 = v17 + 5;
    v20 = 2 * v18;
    if (v17 == 8)
    {
      a7.i32[0] = 8;
      a8.i32[0] = v15;
      v69 = *(result + 1);
      v69.i64[1] = *(result + 13);
      v70 = *(result + 12);
      v71 = result + 24;
      v70.i64[1] = *(result + 24);
      v72 = vbslq_s8(vdupq_lane_s32(*&vceqq_s32(a8, a7), 0), xmmword_273BE42E0, vbslq_s8(vdupq_lane_s32(*&vcgtq_s32(a7, a8), 0), xmmword_273BE42D0, xmmword_273BE42C0));
      v73 = *(result + 2);
      v73.i64[1] = *(result + 12) >> 16;
      v74.i64[0] = *(result + v19);
      v74.i64[1] = *(result + v19 + 12);
      v75.i64[0] = *(result + v20);
      v75.i64[1] = *(result + v20 + 12);
      v76.i64[0] = 0x303030303030303;
      v76.i64[1] = 0x303030303030303;
      v77 = vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v70, v76), vminq_u8(v69, v76)), vminq_u8(v73, v76)), vaddq_s8(vminq_u8(v74, v76), vminq_u8(v75, v76))), 1uLL);
      v78.i64[0] = 0x404040404040404;
      v78.i64[1] = 0x404040404040404;
      v79 = vaddq_s8(vminq_u8(v77, v78), v72);
      *a6 = v79;
      if (v15 != 2)
      {
        v79.i32[0] = 8;
        v80 = *(result + 25);
        v80.i64[1] = *(result + 37);
        v81 = *(result + 36);
        v81.i64[1] = *(result + 48);
        a14.i32[0] = v15;
        v82 = vbslq_s8(vdupq_lane_s32(*&vcgtq_s32(v79, a14), 0), xmmword_273BE4300, xmmword_273BE42F0);
        v83 = *(result + 26);
        v83.i64[1] = *(result + 36) >> 16;
        v84.i64[0] = *(v71 + v19);
        v84.i64[1] = *(v71 + v19 + 12);
        v85 = (v71 + v20);
        v86.i64[0] = *v85;
        v86.i64[1] = *(v85 + 12);
        a6[1] = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v81, v76), vminq_u8(v80, v76)), vminq_u8(v83, v76)), vaddq_s8(vminq_u8(v84, v76), vminq_u8(v86, v76))), 1uLL), v78), v82);
        v87 = v15 - 4;
        if (v15 != 4)
        {
          v88 = a6 + 2;
          v89 = (result + 72);
          v90.i64[0] = 0x303030303030303;
          v90.i64[1] = 0x303030303030303;
          v91.i64[0] = 0x1515151515151515;
          v91.i64[1] = 0x1515151515151515;
          do
          {
            v92 = *(v89 - 23);
            v92.i64[1] = *(v89 - 11);
            v93 = *(v89 - 12);
            v93.i64[1] = *v89;
            v94 = *(v89 - 22);
            result = v89 + v19;
            v94.i64[1] = *(v89 - 12) >> 16;
            v95 = *(v89 + v19 - 24);
            v95.i64[1] = *(v89 + v19 - 12);
            v96 = *(v89 + v20 - 24);
            v96.i64[1] = *(v89 + v20 - 12);
            *v88++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v93, v90), vminq_u8(v92, v90)), vminq_u8(v95, v90)), vminq_u8(v96, v90)), vminq_u8(v94, v90)), 1uLL), v78), v91);
            v89 += 3;
            v87 -= 2;
          }

          while (v87);
        }
      }
    }

    else if (v17 == 4)
    {
      a7.i32[0] = 4;
      a8.i32[0] = v15;
      v21 = *(result + 1);
      v21.i32[1] = *(result + 9);
      v21.i32[2] = *(result + 17);
      v21.i32[3] = *(result + 25);
      v22 = *(result + 8);
      v22.i32[1] = *(result + 16);
      v22.i32[2] = *(result + 24);
      v22.i32[3] = *(result + 32);
      v23 = *(result + 2);
      v23.i32[1] = *(result + 10);
      v23.i32[2] = *(result + 16) >> 16;
      v23.i32[3] = *(result + 26);
      v24 = *(result + v19);
      v24.i32[1] = *(result + v19 + 8);
      v24.i32[2] = *(result + v19 + 16);
      v25 = vbslq_s8(vdupq_lane_s32(*&vceqq_s32(a8, a7), 0), xmmword_273BE4320, xmmword_273BE4310);
      v24.i32[3] = *(result + v19 + 24);
      v26 = *(result + v20);
      v26.i32[1] = *(result + v20 + 8);
      v26.i32[2] = *(result + v20 + 16);
      v26.i32[3] = *(result + v20 + 24);
      v27.i64[0] = 0x303030303030303;
      v27.i64[1] = 0x303030303030303;
      v28 = vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v22, v27), vminq_u8(v21, v27)), vminq_u8(v23, v27)), vminq_u8(v24, v27)), vminq_u8(v26, v27)), 1uLL);
      v29.i64[0] = 0x404040404040404;
      v29.i64[1] = 0x404040404040404;
      *a6 = vaddq_s8(vminq_u8(v28, v29), v25);
      v30 = v15 - 4;
      if (v15 != 4)
      {
        v31 = a6 + 1;
        v32 = (result + 64);
        v33.i64[0] = 0x1515151515151515;
        v33.i64[1] = 0x1515151515151515;
        do
        {
          v34 = *(v32 - 31);
          v34.i32[1] = *(v32 - 23);
          v35 = *(v32 - 6);
          v35.i32[1] = *(v32 - 2);
          v34.i32[2] = *(v32 - 15);
          v35.i32[2] = *(v32 - 2);
          v34.i32[3] = *(v32 - 7);
          v35.i32[3] = *v32;
          v36 = *(v32 - 30);
          v36.i32[1] = *(v32 - 22);
          result = v32 + v19;
          v37 = *(v32 + v19 - 32);
          v37.i32[1] = *(v32 + v19 - 24);
          v37.i32[2] = *(v32 + v19 - 16);
          v36.i32[2] = *(v32 - 2) >> 16;
          v37.i32[3] = *(v32 + v19 - 8);
          v38 = *(v32 + v20 - 32);
          v36.i32[3] = *(v32 - 6);
          v38.i32[1] = *(v32 + v20 - 24);
          v38.i32[2] = *(v32 + v20 - 16);
          v38.i32[3] = *(v32 + v20 - 8);
          *v31++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(v35, v27), vminq_u8(v34, v27)), vminq_u8(v37, v27)), vminq_u8(v36, v27)), vminq_u8(v38, v27)), 1uLL), v29), v33);
          v32 += 8;
          v30 -= 4;
        }

        while (v30);
      }
    }

    else
    {
      v114 = tx_size_wide_9[a4];
      v115 = tx_size_high_8[a4];
      v116 = xmmword_273BE4330;
      v117 = xmmword_273BE4340;
      *&v118 = 0x1515151515151515;
      *(&v118 + 1) = 0x1515151515151515;
      if (v114 == v115)
      {
        v119 = xmmword_273BE4350;
        v120 = xmmword_273BE4360;
        v121.i64[0] = 0x1515151515151515;
        v121.i64[1] = 0x1515151515151515;
      }

      else if (v114 >= v115)
      {
        v121.i64[0] = 0x1010101010101010;
        v121.i64[1] = 0x1010101010101010;
        v120.i64[0] = 0x1010101010101010;
        v120.i64[1] = 0x1010101010101010;
        *&v119 = 0x1010101010101010;
        *(&v119 + 1) = 0x1010101010101010;
      }

      else
      {
        v117 = xmmword_273BE4370;
        v119 = xmmword_273BE4380;
        v120 = xmmword_273BE4390;
        v121.i64[0] = 0x1515151515151515;
        v121.i64[1] = 0x1515151515151515;
        v116 = xmmword_273BE4370;
        v118 = xmmword_273BE4370;
      }

      v155 = v17 - 16;
      v156.i64[0] = 0x303030303030303;
      v156.i64[1] = 0x303030303030303;
      v157.i64[0] = 0x404040404040404;
      v157.i64[1] = 0x404040404040404;
      v158 = v121;
      v159 = v15;
      v160 = a6;
      do
      {
        *v160++ = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vminq_u8(*(result + v18), v156), vminq_u8(*(result + v19), v156)), vaddq_s8(vaddq_s8(vminq_u8(*(result + 1), v156), vminq_u8(*(result + 2), v156)), vminq_u8(*(result + v20), v156))), 1uLL), v157), v120);
        if (v155)
        {
          v161 = 0;
          do
          {
            v160[v161 / 0x10] = vaddq_s8(vminq_u8(vrshrq_n_u8(vaddq_s8(vaddq_s8(vaddq_s8(vminq_u8(*(result + v18 + 16 + v161), v156), vminq_u8(*(result + v161 + 17), v156)), vaddq_s8(vminq_u8(*(result + v161 + 18), v156), vminq_u8(*(result + v19 + 16 + v161), v156))), vminq_u8(*(result + v20 + 16 + v161), v156)), 1uLL), v157), v121);
            v161 += 16;
          }

          while (v155 != v161);
          v160 = (v160 + v161);
          result += v161;
        }

        result += 20;
        v121 = v158;
        v158.i64[0] = 0x1515151515151515;
        v158.i64[1] = 0x1515151515151515;
        v120 = v119;
        v119 = v117;
        v117 = v116;
        v116 = v118;
        --v159;
      }

      while (v159);
    }

    a6->i8[0] = 0;
  }

  if (a4 > 16)
  {
    if (a4 == 17)
    {
      v142 = 9;
      goto LABEL_62;
    }

    if (a4 == 18)
    {
      v142 = 10;
      goto LABEL_62;
    }
  }

  else
  {
    v142 = 3;
    if ((a4 - 11) < 2 || a4 == 4)
    {
      goto LABEL_62;
    }
  }

  v142 = a4;
LABEL_62:
  v143 = *(a2 + 2 * v14);
  v144 = v15 << tx_size_high_log2_5[v142];
  if (v14 <= v144 / 8)
  {
    a6->i8[v143] = 1;
  }

  else if (v14 <= v144 / 4)
  {
    a6->i8[v143] = 2;
  }

  else
  {
    a6->i8[v143] = 3;
  }

  return result;
}

uint64_t od_ec_decode_BOOL_q15(uint64_t a1, unsigned int a2)
{
  v2 = *(a1 + 32);
  v3 = *(a1 + 36);
  v4 = (((v3 >> 8) * (a2 >> 6)) >> 1) + 4;
  v5 = v2 - (v4 << 16);
  if (v2 < v4 << 16)
  {
    v6 = 15 - (__clz(v4) ^ 0x1F);
    v7 = *(a1 + 38) - v6;
    *(a1 + 38) = v7;
    v8 = ((v2 + 1) << v6) - 1;
    *(a1 + 32) = v8;
    *(a1 + 36) = v4 << v6;
    if ((v7 & 0x8000) == 0)
    {
      return 1;
    }

    v14 = *(a1 + 16);
    v15 = *(a1 + 24);
    if (v15 >= v14)
    {
      v19 = *(a1 + 24);
      goto LABEL_32;
    }

    v16 = 8 - v7;
    if (v16 >= 7)
    {
      v17 = 7;
    }

    else
    {
      v17 = 8 - v7;
    }

    v18 = ((v17 ^ 0xFu) - v7) >> 3;
    if (v18 >= ~v15 + v14)
    {
      v18 = ~v15 + v14;
    }

    if (v18 >= 0xF)
    {
      v27 = v18 + 1;
      v28 = (v18 + 1) & 0x3FFFFFF0;
      v19 = &v15->u8[v28];
      v29 = 0uLL;
      v30 = v7;
      v31 = v8;
      v32 = vdupq_n_s32(v16);
      v33 = vaddq_s32(v32, xmmword_273BC3230);
      v34 = vaddq_s32(v32, xmmword_273BC3240);
      v35 = vaddq_s32(v32, xmmword_273BC3250);
      v36 = vaddq_s32(v32, xmmword_273BC3220);
      v37.i64[0] = 0x8000800080008;
      v37.i64[1] = 0x8000800080008;
      v38.i64[0] = 0x7F0000007FLL;
      v38.i64[1] = 0x7F0000007FLL;
      v39 = v28;
      v40 = 0uLL;
      v41 = 0uLL;
      v42 = 0uLL;
      do
      {
        v43 = *v15++;
        v41 = veorq_s8(vshlq_u32(vqtbl1q_s8(v43, xmmword_273B8E7B0), v34), v41);
        v40 = veorq_s8(vshlq_u32(vqtbl1q_s8(v43, xmmword_273B8E7C0), v35), v40);
        v31 = veorq_s8(vshlq_u32(vqtbl1q_s8(v43, xmmword_273B8E7D0), v36), v31);
        v42 = veorq_s8(vshlq_u32(vqtbl1q_s8(v43, xmmword_273B8E7A0), v33), v42);
        v30 = vaddq_s16(v30, v37);
        v29 = vaddq_s16(v29, v37);
        v36 = vaddq_s32(v36, v38);
        v35 = vaddq_s32(v35, v38);
        v34 = vaddq_s32(v34, v38);
        v33 = vaddq_s32(v33, v38);
        v39 -= 16;
      }

      while (v39);
      v44 = v15 < v14;
      v7 = vaddvq_s16(vaddq_s16(v30, v29));
      v45 = veorq_s8(veorq_s8(v31, v41), veorq_s8(v40, v42));
      *v45.i8 = veor_s8(*v45.i8, *&vextq_s8(v45, v45, 8uLL));
      v8 = v45.i32[0] ^ v45.i32[1];
      if (v27 == v28)
      {
        goto LABEL_31;
      }

      v16 -= 8 * v28;
    }

    else
    {
      v19 = *(a1 + 24);
    }

    do
    {
      v46 = *v19++;
      v8 ^= v46 << v16;
      v7 += 8;
      v44 = v19 < v14;
      v47 = v16 >= 8;
      v16 -= 8;
    }

    while (v47 && v19 < v14);
LABEL_31:
    if (v44)
    {
LABEL_33:
      *(a1 + 32) = v8;
      *(a1 + 38) = v7;
      *(a1 + 24) = v19;
      return 1;
    }

LABEL_32:
    *(a1 + 8) = *(a1 + 8) - v7 + 0x4000;
    v7 = 0x4000;
    goto LABEL_33;
  }

  v10 = v3 - v4;
  v11 = 15 - (__clz(v10) ^ 0x1F);
  v12 = *(a1 + 38) - v11;
  *(a1 + 38) = v12;
  v13 = ((v5 + 1) << v11) - 1;
  *(a1 + 32) = v13;
  *(a1 + 36) = v10 << v11;
  if ((v12 & 0x8000) == 0)
  {
    return 0;
  }

  v20 = v12;
  v21 = *(a1 + 16);
  v22 = *(a1 + 24);
  if (v22 >= v21)
  {
    v26 = *(a1 + 24);
LABEL_42:
    *(a1 + 8) = *(a1 + 8) - v20 + 0x4000;
    LOWORD(v20) = 0x4000;
    goto LABEL_43;
  }

  v23 = 8 - v12;
  if (v23 >= 7)
  {
    v24 = 7;
  }

  else
  {
    v24 = 8 - v12;
  }

  v25 = ((v24 ^ 0xFu) - v20) >> 3;
  if (v25 >= ~v22 + v21)
  {
    v25 = ~v22 + v21;
  }

  if (v25 >= 0xF)
  {
    v48 = v25 + 1;
    v49 = (v25 + 1) & 0x3FFFFFF0;
    v26 = &v22->u8[v49];
    v50 = 0uLL;
    v51 = v20;
    v52 = v13;
    v53 = vdupq_n_s32(v23);
    v54 = vaddq_s32(v53, xmmword_273BC3230);
    v55 = vaddq_s32(v53, xmmword_273BC3240);
    v56 = vaddq_s32(v53, xmmword_273BC3250);
    v57 = vaddq_s32(v53, xmmword_273BC3220);
    v58.i64[0] = 0x8000800080008;
    v58.i64[1] = 0x8000800080008;
    v59.i64[0] = 0x7F0000007FLL;
    v59.i64[1] = 0x7F0000007FLL;
    v60 = v49;
    v61 = 0uLL;
    v62 = 0uLL;
    v63 = 0uLL;
    do
    {
      v64 = *v22++;
      v62 = veorq_s8(vshlq_u32(vqtbl1q_s8(v64, xmmword_273B8E7B0), v55), v62);
      v61 = veorq_s8(vshlq_u32(vqtbl1q_s8(v64, xmmword_273B8E7C0), v56), v61);
      v52 = veorq_s8(vshlq_u32(vqtbl1q_s8(v64, xmmword_273B8E7D0), v57), v52);
      v63 = veorq_s8(vshlq_u32(vqtbl1q_s8(v64, xmmword_273B8E7A0), v54), v63);
      v51 = vaddq_s16(v51, v58);
      v50 = vaddq_s16(v50, v58);
      v57 = vaddq_s32(v57, v59);
      v56 = vaddq_s32(v56, v59);
      v55 = vaddq_s32(v55, v59);
      v54 = vaddq_s32(v54, v59);
      v60 -= 16;
    }

    while (v60);
    v65 = v22 < v21;
    LOWORD(v20) = vaddvq_s16(vaddq_s16(v51, v50));
    v66 = veorq_s8(veorq_s8(v52, v62), veorq_s8(v61, v63));
    *v66.i8 = veor_s8(*v66.i8, *&vextq_s8(v66, v66, 8uLL));
    v13 = v66.i32[0] ^ v66.i32[1];
    if (v48 == v49)
    {
      goto LABEL_41;
    }

    v23 -= 8 * v49;
  }

  else
  {
    v26 = *(a1 + 24);
  }

  do
  {
    v67 = *v26++;
    v13 ^= v67 << v23;
    LOWORD(v20) = v20 + 8;
    v65 = v26 < v21;
    v47 = v23 >= 8;
    v23 -= 8;
  }

  while (v47 && v26 < v21);
LABEL_41:
  if (!v65)
  {
    goto LABEL_42;
  }

LABEL_43:
  *(a1 + 32) = v13;
  *(a1 + 38) = v20;
  *(a1 + 24) = v26;
  return 0;
}

uint64_t od_ec_decode_cdf_q15(uint64_t a1, unsigned __int16 *a2, int a3)
{
  v3 = *(a1 + 32);
  v4 = *(a1 + 36);
  v5 = v4 >> 8;
  v6 = 4 * a3;
  LODWORD(v7) = -1;
  do
  {
    v8 = v4;
    v9 = *a2++;
    v10 = v5 * (v9 >> 6);
    v6 -= 4;
    v4 = v6 + (v10 >> 1);
    v7 = (v7 + 1);
  }

  while (HIWORD(v3) < v4);
  v11 = v8 - (v10 >> 1) - v6;
  v12 = 15 - (__clz(v11) ^ 0x1F);
  v13 = *(a1 + 38) - v12;
  *(a1 + 38) = v13;
  v14 = ((v3 - (v4 << 16) + 1) << v12) - 1;
  *(a1 + 32) = v14;
  *(a1 + 36) = v11 << v12;
  if ((v13 & 0x8000) == 0)
  {
    return v7;
  }

  v16 = v13;
  v17 = *(a1 + 16);
  v18 = *(a1 + 24);
  if (v18 >= v17)
  {
    v22 = *(a1 + 24);
LABEL_22:
    *(a1 + 8) = *(a1 + 8) - v16 + 0x4000;
    LOWORD(v16) = 0x4000;
    goto LABEL_23;
  }

  v19 = 8 - v16;
  if ((8 - v16) >= 7)
  {
    v20 = 7;
  }

  else
  {
    v20 = 8 - v16;
  }

  v21 = ((v20 ^ 0xFu) - v16) >> 3;
  if (v21 >= ~v18 + v17)
  {
    v21 = ~v18 + v17;
  }

  if (v21 >= 0xF)
  {
    v23 = v21 + 1;
    v24 = (v21 + 1) & 0x3FFFFFF0;
    v22 = &v18->u8[v24];
    v25 = 0uLL;
    v26 = v16;
    v27 = v14;
    v28 = vdupq_n_s32(v19);
    v29 = vaddq_s32(v28, xmmword_273BC3230);
    v30 = vaddq_s32(v28, xmmword_273BC3240);
    v31 = vaddq_s32(v28, xmmword_273BC3250);
    v32 = vaddq_s32(v28, xmmword_273BC3220);
    v33.i64[0] = 0x8000800080008;
    v33.i64[1] = 0x8000800080008;
    v34.i64[0] = 0x7F0000007FLL;
    v34.i64[1] = 0x7F0000007FLL;
    v35 = v24;
    v36 = 0uLL;
    v37 = 0uLL;
    v38 = 0uLL;
    do
    {
      v39 = *v18++;
      v37 = veorq_s8(vshlq_u32(vqtbl1q_s8(v39, xmmword_273B8E7B0), v30), v37);
      v36 = veorq_s8(vshlq_u32(vqtbl1q_s8(v39, xmmword_273B8E7C0), v31), v36);
      v27 = veorq_s8(vshlq_u32(vqtbl1q_s8(v39, xmmword_273B8E7D0), v32), v27);
      v38 = veorq_s8(vshlq_u32(vqtbl1q_s8(v39, xmmword_273B8E7A0), v29), v38);
      v26 = vaddq_s16(v26, v33);
      v25 = vaddq_s16(v25, v33);
      v32 = vaddq_s32(v32, v34);
      v31 = vaddq_s32(v31, v34);
      v30 = vaddq_s32(v30, v34);
      v29 = vaddq_s32(v29, v34);
      v35 -= 16;
    }

    while (v35);
    v40 = v18 < v17;
    LOWORD(v16) = vaddvq_s16(vaddq_s16(v26, v25));
    v41 = veorq_s8(veorq_s8(v27, v37), veorq_s8(v36, v38));
    *v41.i8 = veor_s8(*v41.i8, *&vextq_s8(v41, v41, 8uLL));
    v14 = v41.i32[0] ^ v41.i32[1];
    if (v23 == v24)
    {
      goto LABEL_21;
    }

    v19 -= 8 * v24;
  }

  else
  {
    v22 = *(a1 + 24);
  }

  do
  {
    v42 = *v22++;
    v14 ^= v42 << v19;
    LOWORD(v16) = v16 + 8;
    v40 = v22 < v17;
    v43 = v19 >= 8;
    v19 -= 8;
  }

  while (v43 && v22 < v17);
LABEL_21:
  if (!v40)
  {
    goto LABEL_22;
  }

LABEL_23:
  *(a1 + 32) = v14;
  *(a1 + 38) = v16;
  *(a1 + 24) = v22;
  return v7;
}

_DWORD *od_ec_encode_BOOL_q15(uint64_t a1, int a2, unsigned int a3)
{
  v3 = *(a1 + 24);
  v4 = (((v3 >> 8) * (a3 >> 6)) >> 1) + 4;
  v5 = v3 - v4;
  if (a2)
  {
    v6 = v5;
  }

  else
  {
    v6 = 0;
  }

  if (a2)
  {
    v7 = v4;
  }

  else
  {
    v7 = v5;
  }

  return od_ec_enc_normalize(a1, *(a1 + 16) + v6, v7);
}

_DWORD *od_ec_enc_normalize(_DWORD *result, unint64_t a2, unsigned int a3)
{
  if (!result[7])
  {
    v3 = *(result + 13);
    v4 = 15 - (__clz(a3) ^ 0x1F);
    v5 = v4 + v3;
    if ((v4 + v3) >= 40)
    {
      v6 = *result;
      v7 = result[2];
      v8 = result[3];
      if (v8 + 8 > v7)
      {
        v9 = a2;
        v10 = a3;
        v11 = result;
        v12 = 2 * v7 + 8;
        result = malloc_type_realloc(*result, v12, 0x100004077774924uLL);
        if (!result)
        {
          v11[7] = -1;
          return result;
        }

        v6 = result;
        result = v11;
        *v11 = v6;
        v11[2] = v12;
        a3 = v10;
        a2 = v9;
      }

      v13 = ((v5 >> 3) + 1);
      v14 = v3 - 8 * v13 + 24;
      v15 = a2 >> v14;
      a2 &= ~(-1 << v14);
      v16 = 1 << (8 * v13);
      *&v6[v8] = bswap64(v15 & (v16 - 1)) >> (-8 * v13);
      if ((v15 & v16) != 0)
      {
        v17 = v8 - 1;
        do
        {
          v18 = v6[v17--]++ + 1;
        }

        while ((v18 & 0x100) != 0);
      }

      result[3] = v8 + v13;
      LOWORD(v5) = v3 - 8 * v13 + v4;
    }

    *(result + 2) = a2 << v4;
    *(result + 12) = a3 << v4;
    *(result + 13) = v5;
  }

  return result;
}

_DWORD *od_ec_encode_cdf_q15(uint64_t a1, int a2, uint64_t a3, int a4)
{
  if (a2 <= 0)
  {
    v7 = *(a3 + 2 * a2);
    v8 = *(a1 + 16);
    v9 = *(a1 + 24);
    v10 = a4 - 1;
    v11 = v9 >> 8;
    goto LABEL_6;
  }

  v5 = (a3 + 2 * a2);
  v6 = *(v5 - 1);
  v7 = *v5;
  v8 = *(a1 + 16);
  v9 = *(a1 + 24);
  v10 = a4 - 1;
  v11 = v9 >> 8;
  if (v6 < 0)
  {
LABEL_6:
    v13 = v9 + 4 * (a2 - v10) - (((v7 >> 6) * v11) >> 1);
    return od_ec_enc_normalize(a1, v8, v13);
  }

  v12 = ((v11 * (v6 >> 6)) >> 1) + 4 * (a4 - a2);
  v8 += v9 - v12;
  v13 = v12 - ((v11 * (v7 >> 6)) >> 1) + 4 * (a2 - v10);
  return od_ec_enc_normalize(a1, v8, v13);
}

void *od_ec_enc_done(uint64_t a1, unsigned int *a2)
{
  if (*(a1 + 28))
  {
    return 0;
  }

  v4 = *(a1 + 16);
  v5 = *(a1 + 26);
  result = *a1;
  v6 = *(a1 + 12);
  v7 = (((v5 + 17) >> 3) & ~((v5 + 17) >> 31)) + v6;
  if (v7 > *(a1 + 8))
  {
    v8 = a2;
    result = malloc_type_realloc(result, (((v5 + 17) >> 3) & ~((v5 + 17) >> 31)) + v6, 0x100004077774924uLL);
    if (!result)
    {
      *(a1 + 28) = -1;
      return result;
    }

    *a1 = result;
    *(a1 + 8) = v7;
    a2 = v8;
  }

  if (v5 >= -9)
  {
    v9 = (v4 + 0x3FFF) & 0xFFFFFFFFFFFF8000 | 0x4000;
    v10 = v5 + 10;
    v11 = ~(-1 << (v5 + 16));
    v12 = v6 - 1;
    do
    {
      v14 = v9 >> (v5 + 16);
      *(result + v6) = v14;
      if ((v14 & 0x100) != 0)
      {
        v15 = v12;
        do
        {
          v16 = (*(result + v15--))++ + 1;
        }

        while ((v16 & 0x100) != 0);
      }

      ++v6;
      v9 &= v11;
      LOBYTE(v5) = v5 - 8;
      v11 >>= 8;
      ++v12;
      v13 = __OFSUB__(v10, 8);
      v10 -= 8;
    }

    while (!((v10 < 0) ^ v13 | (v10 == 0)));
  }

  *a2 = v6;
  return result;
}

_WORD *av1_reset_cdf_symbol_counters(_WORD *result)
{
  result[2] = 0;
  result[5] = 0;
  result[8] = 0;
  result[11] = 0;
  result[14] = 0;
  result[17] = 0;
  result[20] = 0;
  result[23] = 0;
  result[26] = 0;
  result[29] = 0;
  result[32] = 0;
  result[35] = 0;
  result[38] = 0;
  result[41] = 0;
  result[44] = 0;
  result[47] = 0;
  result[50] = 0;
  result[53] = 0;
  result[56] = 0;
  result[59] = 0;
  result[62] = 0;
  result[65] = 0;
  result[68] = 0;
  result[71] = 0;
  result[74] = 0;
  result[77] = 0;
  result[80] = 0;
  result[83] = 0;
  result[86] = 0;
  result[89] = 0;
  result[92] = 0;
  result[95] = 0;
  result[98] = 0;
  result[101] = 0;
  result[104] = 0;
  result[107] = 0;
  result[110] = 0;
  result[113] = 0;
  result[116] = 0;
  result[119] = 0;
  result[122] = 0;
  result[125] = 0;
  result[128] = 0;
  result[131] = 0;
  result[134] = 0;
  result[137] = 0;
  result[140] = 0;
  result[143] = 0;
  result[146] = 0;
  result[149] = 0;
  result[152] = 0;
  result[155] = 0;
  result[158] = 0;
  result[161] = 0;
  result[164] = 0;
  result[167] = 0;
  result[170] = 0;
  result[173] = 0;
  result[176] = 0;
  result[179] = 0;
  result[182] = 0;
  result[185] = 0;
  result[188] = 0;
  result[191] = 0;
  result[194] = 0;
  result[197] = 0;
  result[200] = 0;
  result[203] = 0;
  result[206] = 0;
  result[209] = 0;
  result[212] = 0;
  result[215] = 0;
  result[218] = 0;
  result[221] = 0;
  result[224] = 0;
  result[227] = 0;
  result[230] = 0;
  result[233] = 0;
  result[236] = 0;
  result[239] = 0;
  result[242] = 0;
  result[245] = 0;
  result[248] = 0;
  result[251] = 0;
  result[254] = 0;
  result[257] = 0;
  result[260] = 0;
  result[263] = 0;
  result[266] = 0;
  result[269] = 0;
  result[272] = 0;
  result[275] = 0;
  result[278] = 0;
  result[281] = 0;
  result[284] = 0;
  result[287] = 0;
  result[290] = 0;
  result[293] = 0;
  result[296] = 0;
  result[299] = 0;
  result[302] = 0;
  result[305] = 0;
  result[308] = 0;
  result[311] = 0;
  result[314] = 0;
  result[317] = 0;
  result[320] = 0;
  result[323] = 0;
  result[326] = 0;
  result[329] = 0;
  result[332] = 0;
  result[335] = 0;
  result[338] = 0;
  result[341] = 0;
  result[344] = 0;
  result[347] = 0;
  result[350] = 0;
  result[353] = 0;
  result[356] = 0;
  result[359] = 0;
  result[362] = 0;
  result[365] = 0;
  result[368] = 0;
  result[371] = 0;
  result[374] = 0;
  result[377] = 0;
  result[380] = 0;
  result[383] = 0;
  result[386] = 0;
  result[389] = 0;
  result[392] = 0;
  result[395] = 0;
  result[398] = 0;
  result[401] = 0;
  result[404] = 0;
  result[407] = 0;
  result[410] = 0;
  result[413] = 0;
  result[416] = 0;
  result[419] = 0;
  result[422] = 0;
  result[425] = 0;
  result[428] = 0;
  result[431] = 0;
  result[434] = 0;
  result[437] = 0;
  result[440] = 0;
  result[443] = 0;
  result[446] = 0;
  result[449] = 0;
  result[452] = 0;
  result[455] = 0;
  result[458] = 0;
  result[461] = 0;
  result[464] = 0;
  result[467] = 0;
  result[470] = 0;
  result[473] = 0;
  result[476] = 0;
  result[479] = 0;
  result[482] = 0;
  result[488] = 0;
  result[494] = 0;
  result[500] = 0;
  result[506] = 0;
  result[513] = 0;
  result[520] = 0;
  result[527] = 0;
  result[534] = 0;
  result[542] = 0;
  result[550] = 0;
  result[558] = 0;
  result[566] = 0;
  result[575] = 0;
  result[584] = 0;
  result[593] = 0;
  result[602] = 0;
  result[612] = 0;
  result[622] = 0;
  result[632] = 0;
  result[642] = 0;
  result[653] = 0;
  result[664] = 0;
  result[675] = 0;
  result[686] = 0;
  result[698] = 0;
  result[710] = 0;
  result[722] = 0;
  result[734] = 0;
  result[738] = 0;
  result[742] = 0;
  result[746] = 0;
  result[750] = 0;
  result[754] = 0;
  result[758] = 0;
  result[762] = 0;
  result[766] = 0;
  result[770] = 0;
  result[774] = 0;
  result[778] = 0;
  result[782] = 0;
  result[786] = 0;
  result[790] = 0;
  result[794] = 0;
  result[798] = 0;
  result[802] = 0;
  result[806] = 0;
  result[810] = 0;
  result[814] = 0;
  result[818] = 0;
  result[822] = 0;
  result[826] = 0;
  result[830] = 0;
  result[834] = 0;
  result[838] = 0;
  result[842] = 0;
  result[846] = 0;
  result[850] = 0;
  result[854] = 0;
  result[858] = 0;
  result[862] = 0;
  result[866] = 0;
  result[870] = 0;
  result[874] = 0;
  result[878] = 0;
  result[882] = 0;
  result[886] = 0;
  result[890] = 0;
  v1 = result + 904;
  v2 = 420;
  result[894] = 0;
  do
  {
    *(v1 - 5) = 0;
    *v1 = 0;
    v1 += 10;
    v2 -= 2;
  }

  while (v2);
  v3 = result + 3004;
  v4 = 210;
  do
  {
    *(v3 - 5) = 0;
    *v3 = 0;
    v3 += 10;
    v4 -= 2;
  }

  while (v4);
  result[4047] = 0;
  result[4050] = 0;
  result[4053] = 0;
  result[4056] = 0;
  result[4059] = 0;
  result[4062] = 0;
  result[4065] = 0;
  result[4068] = 0;
  result[4071] = 0;
  result[4074] = 0;
  result[4077] = 0;
  result[4080] = 0;
  result[4083] = 0;
  result[4086] = 0;
  result[4089] = 0;
  result[4092] = 0;
  result[4095] = 0;
  result[4104] = 0;
  result[4113] = 0;
  result[4122] = 0;
  result[4131] = 0;
  result[4140] = 0;
  result[4149] = 0;
  result[4158] = 0;
  result[4167] = 0;
  result[4170] = 0;
  result[4173] = 0;
  result[4176] = 0;
  result[4179] = 0;
  result[4182] = 0;
  result[4185] = 0;
  result[4188] = 0;
  result[4191] = 0;
  result[4194] = 0;
  result[4197] = 0;
  result[4200] = 0;
  result[4203] = 0;
  result[4206] = 0;
  result[4209] = 0;
  result[4212] = 0;
  result[4215] = 0;
  result[4218] = 0;
  result[4221] = 0;
  result[4224] = 0;
  result[4227] = 0;
  result[4230] = 0;
  result[4233] = 0;
  result[4250] = 0;
  result[4267] = 0;
  result[4284] = 0;
  result[4301] = 0;
  result[4318] = 0;
  result[4335] = 0;
  result[4352] = 0;
  result[4369] = 0;
  result[4386] = 0;
  result[4403] = 0;
  result[4420] = 0;
  result[4437] = 0;
  result[4454] = 0;
  result[4471] = 0;
  result[4488] = 0;
  result[4505] = 0;
  result[4522] = 0;
  result[4539] = 0;
  result[4556] = 0;
  result[4573] = 0;
  result[4590] = 0;
  result[4607] = 0;
  result[4610] = 0;
  result[4613] = 0;
  result[4616] = 0;
  result[4619] = 0;
  result[4622] = 0;
  result[4625] = 0;
  result[4628] = 0;
  result[4631] = 0;
  result[4634] = 0;
  result[4637] = 0;
  result[4640] = 0;
  result[4643] = 0;
  result[4646] = 0;
  result[4649] = 0;
  result[4652] = 0;
  result[4655] = 0;
  result[4658] = 0;
  result[4661] = 0;
  result[4664] = 0;
  result[4667] = 0;
  result[4670] = 0;
  result[4673] = 0;
  result[4676] = 0;
  result[4679] = 0;
  result[4682] = 0;
  result[4685] = 0;
  result[4690] = 0;
  result[4695] = 0;
  result[4700] = 0;
  result[4705] = 0;
  result[4709] = 0;
  result[4713] = 0;
  result[4717] = 0;
  result[4721] = 0;
  result[4725] = 0;
  result[4729] = 0;
  result[4733] = 0;
  result[4737] = 0;
  result[4741] = 0;
  result[4745] = 0;
  result[4749] = 0;
  result[4753] = 0;
  result[4757] = 0;
  result[4761] = 0;
  result[4765] = 0;
  result[4769] = 0;
  result[4773] = 0;
  result[4777] = 0;
  result[4781] = 0;
  result[4785] = 0;
  result[4789] = 0;
  result[4793] = 0;
  result[4796] = 0;
  result[4799] = 0;
  result[4802] = 0;
  result[4805] = 0;
  result[4808] = 0;
  result[4811] = 0;
  result[4814] = 0;
  result[4817] = 0;
  result[4820] = 0;
  result[4823] = 0;
  result[4826] = 0;
  result[4829] = 0;
  result[4832] = 0;
  result[4835] = 0;
  result[4838] = 0;
  result[4841] = 0;
  result[4844] = 0;
  result[4847] = 0;
  result[4850] = 0;
  result[4853] = 0;
  result[4856] = 0;
  result[4859] = 0;
  result[4867] = 0;
  result[4875] = 0;
  result[4883] = 0;
  result[4891] = 0;
  result[4899] = 0;
  result[4907] = 0;
  result[4915] = 0;
  result[4923] = 0;
  result[4931] = 0;
  result[4939] = 0;
  result[4947] = 0;
  result[4955] = 0;
  result[4963] = 0;
  result[4971] = 0;
  result[4974] = 0;
  result[4983] = 0;
  result[4992] = 0;
  result[5001] = 0;
  result[5010] = 0;
  result[5289] = 0;
  result[5298] = 0;
  result[5307] = 0;
  result[5316] = 0;
  result[5325] = 0;
  result[5020] = 0;
  result[5029] = 0;
  result[5038] = 0;
  result[5047] = 0;
  result[5056] = 0;
  result[5335] = 0;
  result[5344] = 0;
  result[5353] = 0;
  result[5362] = 0;
  result[5371] = 0;
  result[5066] = 0;
  result[5075] = 0;
  result[5084] = 0;
  result[5093] = 0;
  result[5102] = 0;
  result[5381] = 0;
  result[5390] = 0;
  result[5399] = 0;
  result[5408] = 0;
  result[5417] = 0;
  result[5112] = 0;
  result[5121] = 0;
  result[5130] = 0;
  result[5139] = 0;
  result[5148] = 0;
  result[5427] = 0;
  result[5436] = 0;
  result[5445] = 0;
  result[5454] = 0;
  result[5463] = 0;
  result[5158] = 0;
  result[5167] = 0;
  result[5176] = 0;
  result[5185] = 0;
  result[5194] = 0;
  result[5473] = 0;
  result[5482] = 0;
  result[5491] = 0;
  result[5500] = 0;
  result[5509] = 0;
  result[5204] = 0;
  result[5213] = 0;
  result[5222] = 0;
  result[5231] = 0;
  result[5240] = 0;
  result[5519] = 0;
  result[5528] = 0;
  result[5537] = 0;
  result[5546] = 0;
  result[5555] = 0;
  result[5250] = 0;
  result[5259] = 0;
  result[5268] = 0;
  result[5277] = 0;
  result[5286] = 0;
  result[5565] = 0;
  result[5574] = 0;
  result[5583] = 0;
  result[5592] = 0;
  result[5601] = 0;
  result[5604] = 0;
  result[5607] = 0;
  result[5610] = 0;
  result[5613] = 0;
  result[5616] = 0;
  result[5619] = 0;
  result[5622] = 0;
  result[5625] = 0;
  result[5628] = 0;
  result[5631] = 0;
  result[5634] = 0;
  result[5637] = 0;
  result[5640] = 0;
  result[5643] = 0;
  result[5646] = 0;
  result[5649] = 0;
  result[5652] = 0;
  result[5655] = 0;
  result[5658] = 0;
  result[5661] = 0;
  result[5664] = 0;
  result[5667] = 0;
  result[5670] = 0;
  result[6298] = 0;
  result[6301] = 0;
  result[6304] = 0;
  result[6307] = 0;
  result[6280] = 0;
  result[6283] = 0;
  result[6286] = 0;
  result[6289] = 0;
  result[6292] = 0;
  result[6295] = 0;
  result[6244] = 0;
  result[6247] = 0;
  result[6250] = 0;
  result[6253] = 0;
  result[6262] = 0;
  result[6271] = 0;
  result[6226] = 0;
  result[6229] = 0;
  result[6232] = 0;
  result[6235] = 0;
  result[6238] = 0;
  result[6241] = 0;
  result[6208] = 0;
  result[6211] = 0;
  result[6214] = 0;
  result[6217] = 0;
  result[6220] = 0;
  result[6223] = 0;
  result[6184] = 0;
  result[6189] = 0;
  result[6194] = 0;
  result[6199] = 0;
  result[6202] = 0;
  result[6205] = 0;
  result[6157] = 0;
  result[6160] = 0;
  result[6163] = 0;
  result[6166] = 0;
  result[6169] = 0;
  result[6172] = 0;
  result[6139] = 0;
  result[6142] = 0;
  result[6145] = 0;
  result[6148] = 0;
  result[6151] = 0;
  result[6154] = 0;
  result[6115] = 0;
  result[6120] = 0;
  result[6125] = 0;
  result[6130] = 0;
  result[6133] = 0;
  result[6136] = 0;
  result[6086] = 0;
  result[6089] = 0;
  result[6092] = 0;
  result[6095] = 0;
  result[6098] = 0;
  result[6103] = 0;
  result[6068] = 0;
  result[6071] = 0;
  result[6074] = 0;
  result[6077] = 0;
  result[6080] = 0;
  result[6083] = 0;
  result[6046] = 0;
  result[6051] = 0;
  result[6056] = 0;
  result[6059] = 0;
  result[6062] = 0;
  result[6065] = 0;
  result[6017] = 0;
  result[6020] = 0;
  result[6023] = 0;
  result[6026] = 0;
  result[6029] = 0;
  result[6041] = 0;
  result[5999] = 0;
  result[6002] = 0;
  result[6005] = 0;
  result[6008] = 0;
  result[6011] = 0;
  result[6014] = 0;
  result[5977] = 0;
  result[5982] = 0;
  result[5987] = 0;
  result[5990] = 0;
  result[5993] = 0;
  result[5996] = 0;
  result[5946] = 0;
  result[5949] = 0;
  result[5952] = 0;
  result[5955] = 0;
  result[5960] = 0;
  result[5972] = 0;
  result[5928] = 0;
  result[5931] = 0;
  result[5934] = 0;
  result[5937] = 0;
  result[5940] = 0;
  result[5943] = 0;
  result[5910] = 0;
  result[5913] = 0;
  result[5916] = 0;
  result[5919] = 0;
  result[5922] = 0;
  result[5925] = 0;
  result[5892] = 0;
  result[5895] = 0;
  result[5898] = 0;
  result[5901] = 0;
  result[5904] = 0;
  result[5907] = 0;
  result[5874] = 0;
  result[5877] = 0;
  result[5880] = 0;
  result[5883] = 0;
  result[5886] = 0;
  result[5889] = 0;
  result[5856] = 0;
  result[5859] = 0;
  result[5862] = 0;
  result[5865] = 0;
  result[5868] = 0;
  result[5871] = 0;
  result[5838] = 0;
  result[5841] = 0;
  result[5844] = 0;
  result[5847] = 0;
  result[5850] = 0;
  result[5853] = 0;
  result[5820] = 0;
  result[5823] = 0;
  result[5826] = 0;
  result[5829] = 0;
  result[5832] = 0;
  result[5835] = 0;
  result[5802] = 0;
  result[5805] = 0;
  result[5808] = 0;
  result[5811] = 0;
  result[5814] = 0;
  result[5817] = 0;
  result[5784] = 0;
  result[5787] = 0;
  result[5790] = 0;
  result[5793] = 0;
  result[5796] = 0;
  result[5799] = 0;
  result[5766] = 0;
  result[5769] = 0;
  result[5772] = 0;
  result[5775] = 0;
  result[5778] = 0;
  result[5781] = 0;
  result[5748] = 0;
  result[5751] = 0;
  result[5754] = 0;
  result[5757] = 0;
  result[5760] = 0;
  result[5763] = 0;
  result[5730] = 0;
  result[5733] = 0;
  result[5736] = 0;
  result[5739] = 0;
  result[5742] = 0;
  result[5745] = 0;
  result[5712] = 0;
  result[5715] = 0;
  result[5718] = 0;
  result[5721] = 0;
  result[5724] = 0;
  result[5727] = 0;
  result[5694] = 0;
  result[5697] = 0;
  result[5700] = 0;
  result[5703] = 0;
  result[5706] = 0;
  result[5709] = 0;
  result[5676] = 0;
  result[5679] = 0;
  result[5682] = 0;
  result[5685] = 0;
  result[5688] = 0;
  result[5691] = 0;
  result[5673] = 0;
  result[6310] = 0;
  result[6313] = 0;
  result[6316] = 0;
  result[6319] = 0;
  result[6322] = 0;
  result[6325] = 0;
  result[6328] = 0;
  result[6331] = 0;
  result[6334] = 0;
  result[6337] = 0;
  result[6340] = 0;
  result[6343] = 0;
  result[6346] = 0;
  result[6352] = 0;
  result[6356] = 0;
  result[6359] = 0;
  result[6362] = 0;
  result[6376] = 0;
  result[6390] = 0;
  result[6404] = 0;
  result[6418] = 0;
  result[6432] = 0;
  result[6447] = 0;
  result[6462] = 0;
  result[6477] = 0;
  result[6492] = 0;
  result[6507] = 0;
  result[6522] = 0;
  result[6537] = 0;
  result[6552] = 0;
  result[6567] = 0;
  result[6582] = 0;
  result[6597] = 0;
  result[6612] = 0;
  result[6628] = 0;
  result[6643] = 0;
  result[6658] = 0;
  result[6673] = 0;
  result[6688] = 0;
  result[6703] = 0;
  result[6718] = 0;
  result[6733] = 0;
  result[6748] = 0;
  result[6763] = 0;
  result[6778] = 0;
  result[6793] = 0;
  result[6808] = 0;
  result[6813] = 0;
  result[6824] = 0;
  result[6835] = 0;
  result[6846] = 0;
  result[6863] = 0;
  result[6874] = 0;
  result[6885] = 0;
  result[6896] = 0;
  result[6907] = 0;
  result[6918] = 0;
  result[6929] = 0;
  result[6940] = 0;
  result[6951] = 0;
  result[6962] = 0;
  result[6973] = 0;
  result[6984] = 0;
  result[6993] = 0;
  result[7004] = 0;
  result[7015] = 0;
  result[7026] = 0;
  result[7032] = 0;
  result[7036] = 0;
  result[7040] = 0;
  result[7044] = 0;
  result[7048] = 0;
  result[7052] = 0;
  result[7056] = 0;
  result[7060] = 0;
  result[7064] = 0;
  result[7068] = 0;
  result[7072] = 0;
  result[7076] = 0;
  result[7080] = 0;
  result[7084] = 0;
  result[7088] = 0;
  result[7092] = 0;
  result[7106] = 0;
  result[7120] = 0;
  result[7134] = 0;
  result[7148] = 0;
  result[7162] = 0;
  result[7176] = 0;
  result[7190] = 0;
  result[7204] = 0;
  result[7218] = 0;
  result[7232] = 0;
  result[7246] = 0;
  result[7260] = 0;
  result[7274] = 0;
  result[7288] = 0;
  result[7302] = 0;
  result[7316] = 0;
  result[7330] = 0;
  result[7344] = 0;
  result[7358] = 0;
  result[7372] = 0;
  result[7386] = 0;
  result[7400] = 0;
  result[7414] = 0;
  result[7428] = 0;
  result[7442] = 0;
  result[7450] = 0;
  result[7458] = 0;
  result[7466] = 0;
  result[7474] = 0;
  result[7482] = 0;
  result[7490] = 0;
  result[7498] = 0;
  result[7506] = 0;
  result[7509] = 0;
  result[7513] = 0;
  result[7517] = 0;
  result[7522] = 0;
  result[7526] = 0;
  result[7530] = 0;
  result[7534] = 0;
  result[7538] = 0;
  result[7542] = 0;
  result[7546] = 0;
  result[7550] = 0;
  result[7554] = 0;
  result[7559] = 0;
  result[7584] = 0;
  result[7564] = 0;
  result[7569] = 0;
  result[7574] = 0;
  result[7579] = 0;
  result[8476] = 0;
  result[8493] = 0;
  result[8510] = 0;
  result[8527] = 0;
  result[8544] = 0;
  result[8561] = 0;
  result[8578] = 0;
  result[8595] = 0;
  result[8612] = 0;
  result[8629] = 0;
  result[8646] = 0;
  result[8663] = 0;
  result[8680] = 0;
  result[8697] = 0;
  result[8714] = 0;
  result[8731] = 0;
  result[8748] = 0;
  result[8765] = 0;
  result[8782] = 0;
  result[8799] = 0;
  result[8816] = 0;
  result[8833] = 0;
  result[8850] = 0;
  result[8867] = 0;
  result[8884] = 0;
  result[8901] = 0;
  result[8918] = 0;
  result[8935] = 0;
  result[8952] = 0;
  result[8969] = 0;
  result[8986] = 0;
  result[9003] = 0;
  result[9020] = 0;
  result[9037] = 0;
  result[9054] = 0;
  result[9071] = 0;
  result[9088] = 0;
  result[9105] = 0;
  result[9122] = 0;
  result[9139] = 0;
  result[9156] = 0;
  result[9173] = 0;
  result[9190] = 0;
  result[9207] = 0;
  result[9224] = 0;
  result[9241] = 0;
  result[9258] = 0;
  result[9275] = 0;
  result[9292] = 0;
  result[9309] = 0;
  result[9326] = 0;
  result[9343] = 0;
  result[9358] = 0;
  result[9375] = 0;
  result[9392] = 0;
  result[9409] = 0;
  result[9426] = 0;
  result[9443] = 0;
  result[9460] = 0;
  result[9477] = 0;
  result[9494] = 0;
  result[9511] = 0;
  result[9528] = 0;
  result[9545] = 0;
  result[9562] = 0;
  result[9579] = 0;
  result[9596] = 0;
  result[9613] = 0;
  result[9630] = 0;
  result[9647] = 0;
  result[9664] = 0;
  result[9681] = 0;
  result[9698] = 0;
  result[9715] = 0;
  result[9732] = 0;
  result[9749] = 0;
  result[9766] = 0;
  result[9783] = 0;
  result[9800] = 0;
  result[9817] = 0;
  result[9834] = 0;
  result[9851] = 0;
  result[9868] = 0;
  result[9885] = 0;
  result[9902] = 0;
  result[9919] = 0;
  result[9936] = 0;
  result[9953] = 0;
  result[9970] = 0;
  result[9987] = 0;
  result[10004] = 0;
  result[10021] = 0;
  result[10038] = 0;
  result[10055] = 0;
  result[10072] = 0;
  result[10089] = 0;
  result[10106] = 0;
  result[10123] = 0;
  result[10140] = 0;
  result[10157] = 0;
  result[10174] = 0;
  result[10191] = 0;
  result[10208] = 0;
  result[10225] = 0;
  result[10321] = 0;
  result[10338] = 0;
  result[10355] = 0;
  result[10372] = 0;
  result[10385] = 0;
  result[10402] = 0;
  result[10419] = 0;
  result[10436] = 0;
  result[10443] = 0;
  result[10460] = 0;
  result[10477] = 0;
  result[10494] = 0;
  result[10517] = 0;
  result[10534] = 0;
  result[10551] = 0;
  result[10568] = 0;
  result[10585] = 0;
  result[10602] = 0;
  result[10619] = 0;
  return result;
}

uint64_t av1_get_palette_color_index_context(uint64_t a1, int a2, int a3, int a4, int a5, uint64_t a6, _DWORD *a7)
{
  v67 = *MEMORY[0x277D85DE8];
  v8 = a3 * a2;
  if (a4 < 1)
  {
    if (a3 >= 1)
    {
      v12 = *(a1 + (a3 - 1) * a2 + a4);
      v66 = 0;
      v64 = 0u;
      v65 = 0u;
      __src = 0u;
      v63 = 0u;
      goto LABEL_6;
    }

    v66 = 0;
    v64 = 0u;
    v65 = 0u;
    __src = 0u;
    v63 = 0u;
  }

  else
  {
    v9 = *(a1 + a4 + v8 - 1);
    if (a3 > 0)
    {
      v10 = (a1 + a4 + ((a3 - 1) * a2));
      v11 = *(v10 - 1);
      v66 = 0;
      v64 = 0u;
      v65 = 0u;
      __src = 0u;
      v63 = 0u;
      *(&__src + v9) += 2;
      v12 = *v10;
      ++*(&__src + v11);
LABEL_6:
      *(&__src + v12) += 2;
      goto LABEL_9;
    }

    v66 = 0;
    v64 = 0u;
    v65 = 0u;
    __src = 0u;
    v63 = 0u;
    *(&__src + v9) += 2;
  }

LABEL_9:
  *a6 = 0x706050403020100;
  v61[0] = xmmword_273B90830;
  v61[1] = xmmword_273B92360;
  v13 = __src;
  if (a5 <= 1)
  {
    v31 = DWORD1(__src);
LABEL_52:
    v47 = DWORD2(__src);
    goto LABEL_53;
  }

  v14 = 0;
  v15 = 1;
  v16 = __src;
  v17 = a5;
  do
  {
    if (*(&__src + v15) > v16)
    {
      v14 = v15;
      v16 = *(&__src + v15);
    }

    ++v15;
  }

  while (a5 != v15);
  if (v14)
  {
    v18 = v14;
    v13 = *(&__src + v14);
    v19 = *(a6 + v14);
    if (v14 >= 1)
    {
      v20 = a1;
      v21 = a7;
      v22 = a6;
      memmove(&__src + 4, &__src, 4 * v14);
      a6 = v22;
      a1 = v20;
      a7 = v21;
      v23 = v14;
      if (v14 == 1)
      {
        goto LABEL_21;
      }

      v24 = v14 & 0x7FFFFFFELL;
      v23 = v14 & 1;
      v25 = (v22 + v14 - 1);
      v26 = v24;
      do
      {
        v27 = *v25;
        v28 = *(v25 - 1);
        v25[1] = v27;
        *(v61 + v27) = v14;
        *v25 = v28;
        v25 -= 2;
        *(v61 + v28) = v14 - 1;
        v14 -= 2;
        v26 -= 2;
      }

      while (v26);
      if (v24 != v18)
      {
LABEL_21:
        do
        {
          v29 = *(v22 + v23 - 1);
          *(v22 + v23) = v29;
          *(v61 + v29) = v23;
          v30 = v23-- <= 1;
        }

        while (!v30);
      }
    }

    LODWORD(__src) = v13;
    *a6 = v19;
    *(v61 + v19) = 0;
  }

  v31 = DWORD1(__src);
  if (v17 == 2)
  {
    goto LABEL_52;
  }

  v32 = 1;
  v33 = 2;
  v34 = DWORD1(__src);
  do
  {
    if (*(&__src + v33) > v34)
    {
      v32 = v33;
      v34 = *(&__src + v33);
    }

    ++v33;
  }

  while (v17 != v33);
  if (v32 != 1)
  {
    v31 = *(&__src + v32);
    v35 = *(a6 + v32);
    if (v32 >= 2)
    {
      v60 = a1;
      v36 = a7;
      v37 = a6;
      v38 = v8;
      v39 = *(a6 + v32);
      memmove(&__src + 8, &__src + 4, 4 * v32 - 4);
      v35 = v39;
      v8 = v38;
      a6 = v37;
      a1 = v60;
      a7 = v36;
      v40 = v32;
      if (v32 == 2)
      {
        goto LABEL_35;
      }

      v41 = v32 - 1;
      v40 = v32 - (v41 & 0xFFFFFFFFFFFFFFFELL);
      v42 = (v37 + v32 - 1);
      v43 = v41 & 0xFFFFFFFFFFFFFFFELL;
      do
      {
        v44 = *v42;
        v45 = *(v42 - 1);
        v42[1] = v44;
        *(v61 + v44) = v32;
        *v42 = v45;
        v42 -= 2;
        *(v61 + v45) = v32 - 1;
        v32 -= 2;
        v43 -= 2;
      }

      while (v43);
      if (v41 != (v41 & 0xFFFFFFFFFFFFFFFELL))
      {
LABEL_35:
        do
        {
          v46 = *(v37 + v40 - 1);
          *(v61 + v46) = v40;
          *(v37 + v40) = v46;
          v30 = v40-- <= 2;
        }

        while (!v30);
      }
    }

    DWORD1(__src) = v31;
    *(a6 + 1) = v35;
    *(v61 + v35) = 1;
  }

  v47 = DWORD2(__src);
  if (v17 >= 4)
  {
    v48 = 2;
    v49 = 3;
    v50 = DWORD2(__src);
    do
    {
      if (*(&__src + v49) > v50)
      {
        v48 = v49;
        v50 = *(&__src + v49);
      }

      ++v49;
    }

    while (v17 != v49);
    if (v48 != 2)
    {
      v47 = *(&__src + v48);
      v51 = *(a6 + v48);
      if (v48 >= 3)
      {
        v52 = v48 - 2;
        v53 = v48;
        if (v52 < 2)
        {
          goto LABEL_49;
        }

        v53 = v48 - (v52 & 0xFFFFFFFFFFFFFFFELL);
        v54 = (a6 + v48 - 1);
        v55 = v52 & 0xFFFFFFFFFFFFFFFELL;
        do
        {
          v56 = *v54;
          v57 = *(v54 - 1);
          v54[1] = v56;
          *(v61 + v56) = v48;
          *v54 = v57;
          v54 -= 2;
          *(v61 + v57) = v48 - 1;
          v48 -= 2;
          v55 -= 2;
        }

        while (v55);
        if (v52 != (v52 & 0xFFFFFFFFFFFFFFFELL))
        {
LABEL_49:
          do
          {
            v58 = *(a6 + v53 - 1);
            *(v61 + v58) = v53;
            *(a6 + v53) = v58;
            v30 = v53-- <= 3;
          }

          while (!v30);
        }
      }

      *(a6 + 2) = v51;
      *(v61 + v51) = 2;
    }
  }

LABEL_53:
  if (a7)
  {
    *a7 = *(v61 + *(a1 + v8 + a4));
  }

  return av1_palette_color_index_context_lookup[2 * v47 + 2 * v31 + v13];
}

void *av1_setup_past_independence(uint64_t a1)
{
  v2 = a1 + 23044;
  *(a1 + 19092) = 0u;
  *(a1 + 19108) = 0u;
  *(a1 + 19060) = 0u;
  *(a1 + 19076) = 0u;
  *(a1 + 19028) = 0u;
  *(a1 + 19044) = 0u;
  *(a1 + 18996) = 0u;
  *(a1 + 19012) = 0u;
  *(a1 + 19124) = 0u;
  *(a1 + 19140) = 0u;
  v3 = *(a1 + 232);
  v4 = *(v3 + 80);
  if (v4)
  {
    bzero(v4, *(v3 + 264) * *(v3 + 260));
    v3 = *(a1 + 232);
  }

  *(v3 + 1468) = 0xFFFF00FF00000001;
  *(*(a1 + 232) + 1476) = 0;
  *v2 = 0xFF000000010101;
  *(v2 + 8) = 0xFFFF;
  v5 = *(a1 + 616);
  if (v5 >= 21)
  {
    if (v5 >= 0x3D)
    {
      if (v5 < 0x79)
      {
        v6 = 2;
      }

      else
      {
        v6 = 3;
      }
    }

    else
    {
      v6 = 1;
    }
  }

  else
  {
    v6 = 0;
  }

  memcpy(*(a1 + 24688), &av1_default_txb_skip_cdfs + 390 * v6, 0x186uLL);
  memcpy((*(a1 + 24688) + 390), &av1_default_eob_extra_cdfs + 540 * v6, 0x21CuLL);
  v7 = *(a1 + 24688) + 930;
  v8 = &av1_default_dc_sign_cdfs + 36 * v6;
  *(v7 + 32) = *(v8 + 8);
  *(v7 + 16) = *(v8 + 1);
  *v7 = *v8;
  memcpy((*(a1 + 24688) + 5990), &av1_default_coeff_lps_multi_cdfs + 2100 * v6, 0x834uLL);
  memcpy((*(a1 + 24688) + 1790), &av1_default_coeff_base_multi_cdfs + 4200 * v6, 0x1068uLL);
  memcpy((*(a1 + 24688) + 1470), &av1_default_coeff_base_eob_multi_cdfs + 320 * v6, 0x140uLL);
  v9 = (*(a1 + 24688) + 966);
  v10 = (&av1_default_eob_multi16_cdfs + 48 * v6);
  v9[2] = v10[2];
  v9[1] = v10[1];
  *v9 = *v10;
  v11 = *(a1 + 24688) + 1014;
  v12 = &av1_default_eob_multi32_cdfs + 56 * v6;
  *(v11 + 48) = *(v12 + 6);
  *(v11 + 32) = *(v12 + 2);
  *(v11 + 16) = *(v12 + 1);
  *v11 = *v12;
  v13 = (*(a1 + 24688) + 1070);
  v14 = &av1_default_eob_multi64_cdfs[4 * v6];
  *v13 = *v14;
  v13[1] = v14[1];
  v13[2] = v14[2];
  v13[3] = v14[3];
  v15 = *(a1 + 24688) + 1134;
  v16 = &av1_default_eob_multi128_cdfs + 72 * v6;
  *(v15 + 16) = *(v16 + 1);
  *(v15 + 32) = *(v16 + 2);
  *(v15 + 48) = *(v16 + 3);
  *(v15 + 64) = *(v16 + 8);
  *v15 = *v16;
  v17 = (*(a1 + 24688) + 1206);
  v18 = (&av1_default_eob_multi256_cdfs + 80 * v6);
  v17[1] = v18[1];
  v17[2] = v18[2];
  v17[3] = v18[3];
  v17[4] = v18[4];
  *v17 = *v18;
  v19 = *(a1 + 24688) + 1286;
  v20 = &av1_default_eob_multi512_cdfs + 88 * v6;
  *(v19 + 32) = *(v20 + 2);
  *(v19 + 48) = *(v20 + 3);
  *(v19 + 64) = *(v20 + 4);
  *(v19 + 80) = *(v20 + 10);
  *v19 = *v20;
  *(v19 + 16) = *(v20 + 1);
  v21 = (*(a1 + 24688) + 1374);
  v22 = (&av1_default_eob_multi1024_cdfs + 96 * v6);
  v21[2] = v22[2];
  v21[3] = v22[3];
  v21[4] = v22[4];
  v21[5] = v22[5];
  *v21 = *v22;
  v21[1] = v22[1];
  v23 = *(a1 + 24688);
  *(v23 + 9784) = xmmword_273BEC38C;
  *(v23 + 9800) = unk_273BEC39C;
  *(v23 + 9816) = xmmword_273BEC3AC;
  *(v23 + 9720) = default_palette_y_size_cdf;
  *(v23 + 9736) = unk_273BEC35C;
  *(v23 + 9752) = xmmword_273BEC36C;
  *(v23 + 9768) = unk_273BEC37C;
  *(v23 + 9832) = default_palette_uv_size_cdf;
  *(v23 + 9848) = unk_273BEC3CC;
  *(v23 + 9912) = xmmword_273BEC40C;
  *(v23 + 9928) = unk_273BEC41C;
  *(v23 + 9880) = unk_273BEC3EC;
  *(v23 + 9896) = xmmword_273BEC3FC;
  *(v23 + 9864) = xmmword_273BEC3DC;
  memcpy((v23 + 9944), &default_palette_y_color_index_cdf, 0x276uLL);
  memcpy((v23 + 10574), &default_palette_uv_color_index_cdf, 0x276uLL);
  memcpy((v23 + 14186), &default_kf_y_mode_cdf, 0x2BCuLL);
  *(v23 + 14950) = xmmword_273BEC728;
  *(v23 + 14966) = unk_273BEC738;
  *(v23 + 14982) = xmmword_273BEC748;
  *(v23 + 14998) = unk_273BEC758;
  *(v23 + 14886) = default_angle_delta_cdf;
  *(v23 + 14902) = unk_273BEC6F8;
  *(v23 + 14918) = xmmword_273BEC708;
  *(v23 + 14934) = unk_273BEC718;
  *(v23 + 11356) = *(&default_comp_inter_cdf + 14);
  *(v23 + 11342) = default_comp_inter_cdf;
  *(v23 + 11480) = default_comp_ref_type_cdf;
  *(v23 + 11494) = *(&default_comp_ref_type_cdf + 14);
  *(v23 + 11556) = 397017088;
  *(v23 + 11510) = default_uni_comp_ref_cdf;
  *(v23 + 11526) = unk_273BEC7B4;
  *(v23 + 11542) = xmmword_273BEC7C4;
  *(v23 + 11314) = unk_273BEC848;
  *(v23 + 11284) = xmmword_273BEC82A;
  *(v23 + 11300) = unk_273BEC83A;
  *(v23 + 11252) = xmmword_273BEC80A;
  *(v23 + 11268) = unk_273BEC81A;
  *(v23 + 11220) = xmmword_273BEC7EA;
  *(v23 + 11236) = unk_273BEC7FA;
  *(v23 + 11204) = default_palette_y_mode_cdf;
  *(v23 + 11338) = 0;
  *(v23 + 11330) = 0x2C10000000000133;
  *(v23 + 11610) = 342360064;
  *(v23 + 11580) = unk_273BEC874;
  *(v23 + 11596) = xmmword_273BEC884;
  *(v23 + 11564) = default_comp_ref_cdf;
  *(v23 + 11650) = 0;
  *(v23 + 11618) = default_comp_bwdref_cdf;
  *(v23 + 11634) = *algn_273BEC8AA;
  *(v23 + 11372) = default_single_ref_cdf;
  *(v23 + 11388) = *algn_273BEC8CE;
  *(v23 + 11464) = unk_273BEC91A;
  *(v23 + 11436) = xmmword_273BEC8FE;
  *(v23 + 11452) = unk_273BEC90E;
  *(v23 + 11404) = xmmword_273BEC8DE;
  *(v23 + 11420) = unk_273BEC8EE;
  *(v23 + 11686) = xmmword_273BEC94A;
  *(v23 + 11702) = unk_273BEC95A;
  *(v23 + 11654) = default_txfm_partition_cdf;
  *(v23 + 11670) = *algn_273BEC93A;
  *(v23 + 11764) = *(&xmmword_273BEC98A + 14);
  *(v23 + 11734) = unk_273BEC97A;
  *(v23 + 11750) = xmmword_273BEC98A;
  *(v23 + 11718) = xmmword_273BEC96A;
  *(v23 + 11812) = 0;
  *(v23 + 11780) = default_compound_idx_cdfs;
  *(v23 + 11796) = unk_273BEC9B8;
  *(v23 + 11848) = 0;
  *(v23 + 11816) = default_comp_group_idx_cdfs;
  *(v23 + 11832) = unk_273BEC9DC;
  *(v23 + 8122) = 0;
  *(v23 + 8090) = default_newmv_cdf;
  *(v23 + 8106) = unk_273BECA00;
  *(v23 + 8134) = 0;
  *(v23 + 8126) = 0x7BE2000000007781;
  *(v23 + 8170) = 0;
  *(v23 + 8138) = default_refmv_cdf;
  *(v23 + 8154) = unk_273BECA30;
  *(v23 + 8174) = default_drl_cdf;
  *(v23 + 8190) = 0;
  *(v23 + 9412) = default_motion_mode_cdf;
  *(v23 + 9428) = unk_273BECA66;
  *(v23 + 9476) = xmmword_273BECA96;
  *(v23 + 9492) = unk_273BECAA6;
  *(v23 + 9444) = xmmword_273BECA76;
  *(v23 + 9460) = unk_273BECA86;
  *(v23 + 9556) = xmmword_273BECAE6;
  *(v23 + 9572) = unk_273BECAF6;
  *(v23 + 9524) = unk_273BECAC6;
  *(v23 + 9540) = xmmword_273BECAD6;
  *(v23 + 9508) = xmmword_273BECAB6;
  *(v23 + 9716) = 0;
  *(v23 + 9652) = xmmword_273BECB46;
  *(v23 + 9668) = unk_273BECB56;
  *(v23 + 9684) = xmmword_273BECB66;
  *(v23 + 9700) = unk_273BECB76;
  *(v23 + 9588) = default_obmc_cdf;
  *(v23 + 9604) = *algn_273BECB16;
  *(v23 + 9620) = xmmword_273BECB26;
  *(v23 + 9636) = unk_273BECB36;
  *(v23 + 0x2000) = default_inter_compound_mode_cdf;
  *(v23 + 8256) = xmmword_273BECBCA;
  *(v23 + 8240) = unk_273BECBBA;
  *(v23 + 8224) = xmmword_273BECBAA;
  *(v23 + 8208) = *algn_273BECB9A;
  *(v23 + 8320) = unk_273BECC0A;
  *(v23 + 8304) = xmmword_273BECBFA;
  *(v23 + 8288) = xmmword_273BECBEA;
  *(v23 + 8272) = unk_273BECBDA;
  *(v23 + 8464) = 0;
  *(v23 + 8400) = xmmword_273BECC5A;
  *(v23 + 8416) = unk_273BECC6A;
  *(v23 + 8432) = xmmword_273BECC7A;
  *(v23 + 8448) = unk_273BECC8A;
  *(v23 + 8336) = default_compound_type_cdf;
  *(v23 + 8352) = *algn_273BECC2A;
  *(v23 + 8368) = xmmword_273BECC3A;
  *(v23 + 8384) = unk_273BECC4A;
  memcpy((v23 + 8468), &default_wedge_idx_cdf, 0x2ECuLL);
  *(v23 + 9232) = 165871616;
  *(v23 + 9216) = default_interintra_cdf;
  *(v23 + 9368) = 0;
  *(v23 + 9304) = xmmword_273BECFE2;
  *(v23 + 9320) = unk_273BECFF2;
  *(v23 + 9336) = xmmword_273BED002;
  *(v23 + 9352) = unk_273BED012;
  *(v23 + 9240) = default_wedge_interintra_cdf;
  *(v23 + 9256) = *algn_273BECFB2;
  *(v23 + 9272) = xmmword_273BECFC2;
  *(v23 + 9288) = unk_273BECFD2;
  *(v23 + 9404) = 448418543;
  *(v23 + 9372) = default_interintra_mode_cdf;
  *(v23 + 9388) = unk_273BED036;
  *(v23 + 12506) = 0;
  *(v23 + 12490) = default_segment_pred_cdf;
  *(v23 + 12690) = 0;
  *(v23 + 12626) = xmmword_273BED0A0;
  *(v23 + 12642) = unk_273BED0B0;
  *(v23 + 12658) = xmmword_273BED0C0;
  *(v23 + 12674) = unk_273BED0D0;
  *(v23 + 12562) = default_filter_intra_cdfs;
  *(v23 + 12578) = unk_273BED070;
  *(v23 + 12594) = xmmword_273BED080;
  *(v23 + 12610) = unk_273BED090;
  *(v23 + 12706) = 667638587;
  *(v23 + 12702) = 0;
  *(v23 + 12694) = 0xC8A3CC54E185D0BLL;
  *(v23 + 12714) = 21198;
  *(v23 + 12718) = 0;
  *(v23 + 12720) = 15913;
  *(v23 + 12724) = 0;
  *(v23 + 12790) = xmmword_273BED130;
  *(v23 + 12806) = unk_273BED140;
  *(v23 + 12822) = xmmword_273BED150;
  *(v23 + 12726) = default_if_y_mode_cdf;
  *(v23 + 12742) = unk_273BED100;
  *(v23 + 12758) = xmmword_273BED110;
  *(v23 + 12774) = unk_273BED120;
  memcpy((v23 + 12838), &default_uv_mode_cdf, 0x30CuLL);
  *(v23 + 14122) = xmmword_273BED4AC;
  *(v23 + 14138) = unk_273BED4BC;
  *(v23 + 14154) = xmmword_273BED4CC;
  *(v23 + 14170) = unk_273BED4DC;
  *(v23 + 14058) = default_switchable_interp_cdf;
  *(v23 + 14074) = unk_273BED47C;
  *(v23 + 14090) = xmmword_273BED48C;
  *(v23 + 14106) = unk_273BED49C;
  memcpy((v23 + 13618), &default_partition_cdf, 0x1B8uLL);
  memcpy((v23 + 15170), &default_intra_ext_tx_cdf, 0x14B8uLL);
  memcpy((v23 + 20474), &default_inter_ext_tx_cdf, 0x220uLL);
  *(v23 + 11868) = 0;
  *(v23 + 11852) = default_skip_mode_cdfs;
  *(v23 + 11886) = 0;
  *(v23 + 11870) = default_skip_txfm_cdfs;
  *(v23 + 11904) = 408289280;
  *(v23 + 11888) = default_intra_inter_cdf;
  *(v23 + 12524) = 0;
  *(v23 + 12508) = default_spatial_pred_seg_tree_cdf;
  *(v23 + 12542) = 0;
  *(v23 + 12526) = unk_273BED53A;
  *(v23 + 12560) = 0;
  *(v23 + 12544) = unk_273BED54C;
  *(v23 + 15046) = xmmword_273BED57E;
  *(v23 + 15062) = unk_273BED58E;
  *(v23 + 15078) = xmmword_273BED59E;
  *(v23 + 15094) = *"ji-S";
  *(v23 + 15014) = default_tx_size_cdf;
  *(v23 + 15030) = unk_273BED56E;
  *(v23 + 15110) = 0x5B02881200;
  *(v23 + 15118) = 0;
  *(v23 + 15160) = 0x5B02881200;
  *(v23 + 15168) = 0;
  *(v23 + 15152) = 5964424;
  *(v23 + 15136) = unk_273BED5CE;
  *(v23 + 15120) = default_delta_lf_multi_cdf;
  *(v23 + 21034) = 0;
  *(v23 + 21018) = default_cfl_sign_cdf;
  *(v23 + 21068) = xmmword_273BED618;
  *(v23 + 21084) = unk_273BED628;
  *(v23 + 21036) = default_cfl_alpha_cdf;
  *(v23 + 21052) = *L"D@<840,";
  *(v23 + 21132) = xmmword_273BED658;
  *(v23 + 21148) = *aHd840;
  *(v23 + 21100) = xmmword_273BED638;
  *(v23 + 21116) = unk_273BED648;
  *(v23 + 21224) = unk_273BED6B4;
  *(v23 + 21196) = xmmword_273BED698;
  *(v23 + 21212) = unk_273BED6A8;
  *(v23 + 21164) = xmmword_273BED678;
  *(v23 + 21180) = unk_273BED688;
  *(v23 + 12488) = 0;
  *(v23 + 12484) = 2237;
  memcpy((*(a1 + 24688) + 11912), &default_nmv_context_0, 0x11EuLL);
  memcpy((*(a1 + 24688) + 12198), &default_nmv_context_0, 0x11EuLL);
  v24 = *(a1 + 24688);
  v24[5310] = 1;
  result = memcpy(*(a1 + 24696), v24, 0x52FCuLL);
  if (*(v2 + 2240))
  {
    v26 = a1 + 416;
    v27 = *(a1 + 240);
    if (v27 != -1)
    {
      v28 = *(v26 + 8 * v27);
      if (v28)
      {
        result = memcpy((v28 + 1480), *(a1 + 24688), 0x52FCuLL);
      }
    }

    v29 = *(a1 + 244);
    if (v29 != -1)
    {
      v30 = *(v26 + 8 * v29);
      if (v30)
      {
        result = memcpy((v30 + 1480), *(a1 + 24688), 0x52FCuLL);
      }
    }

    v31 = *(a1 + 248);
    if (v31 != -1)
    {
      v32 = *(v26 + 8 * v31);
      if (v32)
      {
        result = memcpy((v32 + 1480), *(a1 + 24688), 0x52FCuLL);
      }
    }

    v33 = *(a1 + 252);
    if (v33 != -1)
    {
      v34 = *(v26 + 8 * v33);
      if (v34)
      {
        result = memcpy((v34 + 1480), *(a1 + 24688), 0x52FCuLL);
      }
    }

    v35 = *(a1 + 256);
    if (v35 != -1)
    {
      v36 = *(v26 + 8 * v35);
      if (v36)
      {
        result = memcpy((v36 + 1480), *(a1 + 24688), 0x52FCuLL);
      }
    }

    v37 = *(a1 + 260);
    if (v37 != -1)
    {
      v38 = *(v26 + 8 * v37);
      if (v38)
      {
        result = memcpy((v38 + 1480), *(a1 + 24688), 0x52FCuLL);
      }
    }

    v39 = *(a1 + 264);
    if (v39 != -1)
    {
      v40 = *(v26 + 8 * v39);
      if (v40)
      {
        result = memcpy((v40 + 1480), *(a1 + 24688), 0x52FCuLL);
      }
    }

    v41 = *(a1 + 25296);
    if (*(v41 + 96))
    {
      v42 = 0;
      v43 = 1480;
      do
      {
        result = memcpy((*(v41 + 88) + v43), *(a1 + 24688), 0x52FCuLL);
        ++v42;
        v41 = *(a1 + 25296);
        v43 += 22728;
      }

      while (v42 < *(v41 + 96));
    }
  }

  return result;
}

uint64_t av1_row_mt_sync_read(uint64_t result, int a2, int a3)
{
  if (a2)
  {
    v4 = result;
    v5 = *(result + 24);
    v6 = a2 - 1;
    v7 = a2 - 1;
    v8 = (*result + (v7 << 6));
    pthread_mutex_lock(v8);
    if (*(*(v4 + 16) + 4 * v6) - (v5 + *(v4 + 28)) < a3)
    {
      do
      {
        pthread_cond_wait((*(v4 + 8) + 48 * v7), v8);
      }

      while (*(*(v4 + 16) + 4 * v7) - (v5 + *(v4 + 28)) < a3);
    }

    return pthread_mutex_unlock(v8);
  }

  return result;
}

uint64_t av1_row_mt_sync_write(uint64_t result, int a2, int a3, int a4)
{
  v5 = *(result + 24);
  if (a4 - 1 <= a3)
  {
    v6 = v5 + a4 + *(result + 28);
  }

  else
  {
    v6 = a3;
    if (a3 % v5)
    {
      return result;
    }
  }

  v7 = a2 << 6;
  v8 = result;
  pthread_mutex_lock((*result + v7));
  v10 = v8[1];
  v9 = v8[2];
  v11 = *(v9 + 4 * a2);
  if (v11 <= v6)
  {
    v11 = v6;
  }

  *(v9 + 4 * a2) = v11;
  pthread_cond_signal((v10 + 48 * a2));
  v12 = (*v8 + v7);

  return pthread_mutex_unlock(v12);
}

double av1_row_mt_sync_mem_dealloc(int *a1)
{
  if (a1)
  {
    v2 = *a1;
    if (*a1)
    {
      if (a1[8] < 1)
      {
        goto LABEL_7;
      }

      v3 = 0;
      v4 = 0;
      do
      {
        pthread_mutex_destroy((*a1 + v3));
        ++v4;
        v3 += 64;
      }

      while (v4 < a1[8]);
      v2 = *a1;
      if (*a1)
      {
LABEL_7:
        free(*(v2 - 8));
      }
    }

    v5 = *(a1 + 1);
    if (v5)
    {
      if (a1[8] < 1)
      {
        goto LABEL_13;
      }

      v6 = 0;
      v7 = 0;
      do
      {
        pthread_cond_destroy((*(a1 + 1) + v6));
        ++v7;
        v6 += 48;
      }

      while (v7 < a1[8]);
      v5 = *(a1 + 1);
      if (v5)
      {
LABEL_13:
        free(*(v5 - 8));
      }
    }

    v8 = *(a1 + 2);
    if (v8)
    {
      free(*(v8 - 8));
    }

    result = 0.0;
    *(a1 + 1) = 0u;
    *(a1 + 2) = 0u;
    *a1 = 0u;
  }

  return result;
}

void av1_row_mt_mem_dealloc(uint64_t a1)
{
  v18 = a1 + 627760;
  v1 = *(a1 + 627764);
  v19 = *(a1 + 627760);
  if (v19 >= 1 && v1 >= 1)
  {
    v5 = 0;
    do
    {
      v6 = 0;
      v20 = v5;
      v7 = v5 * v1;
      do
      {
        v8 = *(a1 + 456880) + 23824 * v6 + 23824 * v7;
        v9 = (v8 + 23768);
        v10 = *(v8 + 23768);
        if (v10)
        {
          if (*(v8 + 23800) < 1)
          {
            goto LABEL_18;
          }

          v11 = 0;
          v12 = 0;
          do
          {
            pthread_mutex_destroy((*v9 + v11));
            ++v12;
            v11 += 64;
          }

          while (v12 < *(v8 + 23800));
          v10 = *v9;
          if (*v9)
          {
LABEL_18:
            free(*(v10 - 8));
          }
        }

        v13 = *(v8 + 23776);
        if (v13)
        {
          if (*(v8 + 23800) < 1)
          {
            goto LABEL_24;
          }

          v14 = 0;
          v15 = 0;
          do
          {
            pthread_cond_destroy((*(v8 + 23776) + v14));
            ++v15;
            v14 += 48;
          }

          while (v15 < *(v8 + 23800));
          v13 = *(v8 + 23776);
          if (v13)
          {
LABEL_24:
            free(*(v13 - 8));
          }
        }

        v16 = *(v8 + 23784);
        if (v16)
        {
          free(*(v16 - 8));
        }

        *(v8 + 23784) = 0u;
        *(v8 + 23800) = 0u;
        *v9 = 0u;
        if (*(a1 + 264592))
        {
          v17 = *(v8 + 21280);
          if (v17)
          {
            free(*(v17 - 8));
          }

          *(v8 + 21280) = 0;
        }

        ++v6;
      }

      while (v6 != v1);
      v5 = v20 + 1;
    }

    while (v20 + 1 != v19);
  }

  v3 = *(v18 + 272);
  if (v3)
  {
    free(*(v3 - 8));
  }

  *(v18 + 272) = 0;
  *(v18 + 8) = 0;
  *(v18 + 280) = 0;
}

uint64_t av1_init_mt_sync(uint64_t *a1, int a2)
{
  v4 = a1 + 78506;
  v5 = a1 + 29888;
  result = setjmp((a1[29888] + 212));
  if (result)
  {
    v7 = *v5;
    v7[52] = 0;
    v8 = *a1;
    v9 = *v7;
    if (v7[1])
    {
      result = aom_internal_error(v8 + 50984, v9, "%s");
    }

    else
    {
      result = aom_internal_error(v8 + 50984, v9, 0);
    }
  }

  *(*v5 + 208) = 1;
  if (!a2 && *(a1 + 265633) != 1)
  {
    goto LABEL_22;
  }

  if (!*v4)
  {
    v10 = malloc_type_malloc(0x57uLL, 0x5F484EBFuLL);
    if (v10)
    {
      v11 = (v10 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v11 - 8) = v10;
      *v4 = v11;
      result = v11;
      if (v11)
      {
LABEL_13:
        result = pthread_mutex_init(result, 0);
        goto LABEL_14;
      }
    }

    else
    {
      *v4 = 0;
    }

    aom_internal_error(*v5, 2, "Failed to allocate enc_row_mt->mutex_");
    result = *v4;
    if (!*v4)
    {
      goto LABEL_14;
    }

    goto LABEL_13;
  }

LABEL_14:
  if (v4[1])
  {
    goto LABEL_21;
  }

  v12 = malloc_type_malloc(0x47uLL, 0x5F484EBFuLL);
  if (!v12)
  {
    v4[1] = 0;
    goto LABEL_19;
  }

  v13 = (v12 + 23) & 0xFFFFFFFFFFFFFFF0;
  *(v13 - 8) = v12;
  v4[1] = v13;
  result = v13;
  if (!v13)
  {
LABEL_19:
    aom_internal_error(*v5, 2, "Failed to allocate enc_row_mt->cond_");
    result = v4[1];
    if (!result)
    {
      goto LABEL_21;
    }
  }

  result = pthread_cond_init(result, 0);
LABEL_21:
  if (a2)
  {
    goto LABEL_57;
  }

LABEL_22:
  v14 = a1 + 79585;
  if (a1[79585])
  {
    goto LABEL_29;
  }

  v15 = malloc_type_malloc(0x57uLL, 0x5F484EBFuLL);
  if (!v15)
  {
    *v14 = 0;
    goto LABEL_27;
  }

  v16 = (v15 + 23) & 0xFFFFFFFFFFFFFFF0;
  *(v16 - 8) = v15;
  *v14 = v16;
  result = v16;
  if (!v16)
  {
LABEL_27:
    aom_internal_error(*v5, 2, "Failed to allocate gm_sync->mutex_");
    result = *v14;
    if (!*v14)
    {
      goto LABEL_29;
    }
  }

  result = pthread_mutex_init(result, 0);
LABEL_29:
  if (a1[79589])
  {
    goto LABEL_36;
  }

  v17 = malloc_type_malloc(0x57uLL, 0x5F484EBFuLL);
  if (!v17)
  {
    a1[79589] = 0;
    goto LABEL_34;
  }

  v18 = (v17 + 23) & 0xFFFFFFFFFFFFFFF0;
  *(v18 - 8) = v17;
  a1[79589] = v18;
  result = v18;
  if (!v18)
  {
LABEL_34:
    aom_internal_error(*v5, 2, "Failed to allocate cdef_sync->mutex_");
    result = a1[79589];
    if (!result)
    {
      goto LABEL_36;
    }
  }

  result = pthread_mutex_init(result, 0);
LABEL_36:
  v19 = ((*(v5 + 3) >> 2) + 31) >> 5;
  if (*(*a1 + 74268) <= 1)
  {
    v20 = 74248;
  }

  else
  {
    v20 = 74224;
  }

  v21 = *(*a1 + v20);
  if (!*(v4 + 42) || v19 != *(v4 + 43) || v21 > *(v4 + 46))
  {
    av1_loop_filter_dealloc(a1 + 157036);
    result = av1_loop_filter_alloc((a1 + 78518), (a1 + 29882), v19, *(v5 + 2), v21);
  }

  if (!v4[9])
  {
    v22 = malloc_type_malloc(0x57uLL, 0x5F484EBFuLL);
    if (v22)
    {
      v23 = (v22 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v23 - 8) = v22;
      v4[9] = v23;
      result = v23;
      if (v23)
      {
LABEL_49:
        result = pthread_mutex_init(result, 0);
        goto LABEL_50;
      }
    }

    else
    {
      v4[9] = 0;
    }

    aom_internal_error(*v5, 2, "Failed to allocate tpl_row_mt->mutex_");
    result = v4[9];
    if (!result)
    {
      goto LABEL_50;
    }

    goto LABEL_49;
  }

LABEL_50:
  if (!v4[44])
  {
    v24 = malloc_type_malloc(0x57uLL, 0x5F484EBFuLL);
    if (v24)
    {
      v25 = (v24 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v25 - 8) = v24;
      v4[44] = v25;
      result = v25;
      if (v25)
      {
LABEL_56:
        result = pthread_mutex_init(result, 0);
        goto LABEL_57;
      }
    }

    else
    {
      v4[44] = 0;
    }

    aom_internal_error(*v5, 2, "Failed to allocate pack_bs_sync->mutex_");
    result = v4[44];
    if (result)
    {
      goto LABEL_56;
    }
  }

LABEL_57:
  *(*v5 + 208) = 0;
  return result;
}

unint64_t av1_init_tile_thread_data(unint64_t result, int a2)
{
  v2 = result + 74224;
  v3 = *(result + 74224);
  v4 = (result + 74244);
  if (*(result + 74268) > 1)
  {
    v4 = (result + 74224);
  }

  v57 = *v4;
  if (v3 < 1)
  {
    goto LABEL_140;
  }

  v6 = result;
  v58 = (result + 49052);
  while (1)
  {
    v7 = v3--;
    v8 = *(v2 + 64) + 456 * v3;
    if (!v3)
    {
LABEL_5:
      if (a2)
      {
        goto LABEL_6;
      }

      goto LABEL_121;
    }

    v9 = malloc_type_malloc(0x254D7uLL, 0x5F484EBFuLL);
    if (!v9)
    {
      break;
    }

    v10 = ((v9 + 39) & 0xFFFFFFFFFFFFFFE0);
    *(v10 - 1) = v9;
    if (!v10)
    {
      break;
    }

    bzero(((v9 + 39) & 0xFFFFFFFFFFFFFFE0), 0x254B0uLL);
    *(v8 + 8) = v10;
    *(v8 + 16) = v10;
    av1_setup_shared_coeff_buffer(v6 + 49024, v10 + 18518, (v6 + 50984));
    result = malloc_type_malloc(0x8027uLL, 0x5F484EBFuLL);
    if (!result)
    {
      v10[18543] = 0;
LABEL_15:
      result = aom_internal_error(v6 + 50984, 2, "Failed to allocate td->tmp_conv_dst");
      if (v7 > *(v2 + 4))
      {
        goto LABEL_18;
      }

      goto LABEL_16;
    }

    v11 = (result + 39) & 0xFFFFFFFFFFFFFFE0;
    *(v11 - 8) = result;
    v10[18543] = v11;
    if (!v11)
    {
      goto LABEL_15;
    }

    if (v7 > *(v2 + 4))
    {
      goto LABEL_18;
    }

LABEL_16:
    result = av1_alloc_pmc(*(v6 + 352), 6, v10 + 18518);
    v10[18555] = result;
    if (!result)
    {
      result = aom_internal_error(v6 + 50984, 2, "Failed to allocate PICK_MODE_CONTEXT");
    }

LABEL_18:
    if (a2 || v7 > v57)
    {
      goto LABEL_5;
    }

    if (av1_setup_sms_tree(*(v6 + 352), v10))
    {
      aom_internal_error(v6 + 50984, 2, "Failed to allocate SMS tree");
    }

    v12 = malloc_type_malloc(0x4017uLL, 0x5F484EBFuLL);
    if (v12)
    {
      v13 = (v12 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v13 - 8) = v12;
      v10[18529] = v13;
      if (v13)
      {
        v14 = malloc_type_malloc(0x4017uLL, 0x5F484EBFuLL);
        if (!v14)
        {
          goto LABEL_34;
        }

        goto LABEL_25;
      }
    }

    else
    {
      v10[18529] = 0;
    }

    aom_internal_error(v6 + 50984, 2, "Failed to allocate td->hash_value_buffer[x][y]");
    v14 = malloc_type_malloc(0x4017uLL, 0x5F484EBFuLL);
    if (!v14)
    {
LABEL_34:
      v10[18530] = 0;
      goto LABEL_35;
    }

LABEL_25:
    v15 = (v14 + 23) & 0xFFFFFFFFFFFFFFF0;
    *(v15 - 8) = v14;
    v10[18530] = v15;
    if (v15)
    {
      v16 = malloc_type_malloc(0x4017uLL, 0x5F484EBFuLL);
      if (!v16)
      {
        goto LABEL_36;
      }

      goto LABEL_27;
    }

LABEL_35:
    aom_internal_error(v6 + 50984, 2, "Failed to allocate td->hash_value_buffer[x][y]");
    v16 = malloc_type_malloc(0x4017uLL, 0x5F484EBFuLL);
    if (!v16)
    {
LABEL_36:
      v10[18531] = 0;
      goto LABEL_37;
    }

LABEL_27:
    v17 = (v16 + 23) & 0xFFFFFFFFFFFFFFF0;
    *(v17 - 8) = v16;
    v10[18531] = v17;
    if (v17)
    {
      v18 = malloc_type_malloc(0x4017uLL, 0x5F484EBFuLL);
      if (!v18)
      {
        goto LABEL_38;
      }

      goto LABEL_29;
    }

LABEL_37:
    aom_internal_error(v6 + 50984, 2, "Failed to allocate td->hash_value_buffer[x][y]");
    v18 = malloc_type_malloc(0x4017uLL, 0x5F484EBFuLL);
    if (!v18)
    {
LABEL_38:
      v10[18532] = 0;
      goto LABEL_39;
    }

LABEL_29:
    v19 = (v18 + 23) & 0xFFFFFFFFFFFFFFF0;
    *(v19 - 8) = v18;
    v10[18532] = v19;
    if (v19)
    {
      v20 = malloc_type_malloc(0xD7uLL, 0x5F484EBFuLL);
      if (!v20)
      {
        goto LABEL_43;
      }

      goto LABEL_40;
    }

LABEL_39:
    aom_internal_error(v6 + 50984, 2, "Failed to allocate td->hash_value_buffer[x][y]");
    v20 = malloc_type_malloc(0xD7uLL, 0x5F484EBFuLL);
    if (!v20)
    {
      goto LABEL_43;
    }

LABEL_40:
    v21 = ((v20 + 23) & 0xFFFFFFFFFFFFFFF0);
    *(v21 - 1) = v20;
    if (v21)
    {
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0xA0) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0xB0) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x80) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x90) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x60) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x70) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x40) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x50) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x20) = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x30) = 0u;
      *v21 = 0u;
      *(((v20 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x10) = 0u;
      v10[18517] = v21;
      result = malloc_type_malloc(0x5017uLL, 0x5F484EBFuLL);
      if (result)
      {
        goto LABEL_44;
      }

      goto LABEL_42;
    }

LABEL_43:
    v10[18517] = 0;
    aom_internal_error(v6 + 50984, 2, "Failed to allocate td->counts");
    result = malloc_type_malloc(0x5017uLL, 0x5F484EBFuLL);
    if (result)
    {
LABEL_44:
      v22 = (result + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v22 - 8) = result;
      v10[18537] = v22;
      if (v22)
      {
        goto LABEL_46;
      }

      goto LABEL_45;
    }

LABEL_42:
    v10[18537] = 0;
LABEL_45:
    result = aom_internal_error(v6 + 50984, 2, "Failed to allocate td->palette_buffer");
LABEL_46:
    v23 = *(v6 + 352);
    if (*(v23 + 264608))
    {
      v24 = malloc_type_malloc(0x10017uLL, 0x5F484EBFuLL);
      if (v24)
      {
        v25 = (v24 + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v25 - 8) = v24;
        v10[18533] = v25;
        if (v25)
        {
          v26 = malloc_type_malloc(0x10017uLL, 0x5F484EBFuLL);
          if (v26)
          {
            goto LABEL_50;
          }

LABEL_72:
          v10[18534] = 0;
          goto LABEL_73;
        }
      }

      else
      {
        v10[18533] = 0;
      }

      aom_internal_error(v6 + 50984, 2, "Failed to allocate obmc_buffer->wsrc");
      v26 = malloc_type_malloc(0x10017uLL, 0x5F484EBFuLL);
      if (!v26)
      {
        goto LABEL_72;
      }

LABEL_50:
      v27 = (v26 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v27 - 8) = v26;
      v10[18534] = v27;
      if (v27)
      {
        v28 = malloc_type_malloc(0xC017uLL, 0x5F484EBFuLL);
        if (v28)
        {
          goto LABEL_52;
        }

LABEL_74:
        v10[18535] = 0;
        goto LABEL_75;
      }

LABEL_73:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate obmc_buffer->mask");
      v28 = malloc_type_malloc(0xC017uLL, 0x5F484EBFuLL);
      if (!v28)
      {
        goto LABEL_74;
      }

LABEL_52:
      v29 = (v28 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v29 - 8) = v28;
      v10[18535] = v29;
      if (v29)
      {
        v30 = malloc_type_malloc(0xC017uLL, 0x5F484EBFuLL);
        if (v30)
        {
          goto LABEL_54;
        }

LABEL_76:
        v10[18536] = 0;
        goto LABEL_77;
      }

LABEL_75:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate obmc_buffer->above_pred");
      v30 = malloc_type_malloc(0xC017uLL, 0x5F484EBFuLL);
      if (!v30)
      {
        goto LABEL_76;
      }

LABEL_54:
      v31 = (v30 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v31 - 8) = v30;
      v10[18536] = v31;
      if (v31)
      {
        v32 = malloc_type_malloc(0x8017uLL, 0x5F484EBFuLL);
        if (v32)
        {
          goto LABEL_56;
        }

LABEL_78:
        v10[18538] = 0;
        goto LABEL_79;
      }

LABEL_77:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate obmc_buffer->left_pred");
      v32 = malloc_type_malloc(0x8017uLL, 0x5F484EBFuLL);
      if (!v32)
      {
        goto LABEL_78;
      }

LABEL_56:
      v33 = (v32 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v33 - 8) = v32;
      v10[18538] = v33;
      if (v33)
      {
        v34 = malloc_type_malloc(0x8017uLL, 0x5F484EBFuLL);
        if (v34)
        {
          goto LABEL_58;
        }

LABEL_80:
        v10[18539] = 0;
        goto LABEL_81;
      }

LABEL_79:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate bufs->pred0");
      v34 = malloc_type_malloc(0x8017uLL, 0x5F484EBFuLL);
      if (!v34)
      {
        goto LABEL_80;
      }

LABEL_58:
      v35 = (v34 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v35 - 8) = v34;
      v10[18539] = v35;
      if (v35)
      {
        v36 = malloc_type_malloc(0x8027uLL, 0x5F484EBFuLL);
        if (v36)
        {
          goto LABEL_60;
        }

LABEL_82:
        v10[18540] = 0;
        goto LABEL_83;
      }

LABEL_81:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate bufs->pred1");
      v36 = malloc_type_malloc(0x8027uLL, 0x5F484EBFuLL);
      if (!v36)
      {
        goto LABEL_82;
      }

LABEL_60:
      v37 = (v36 + 39) & 0xFFFFFFFFFFFFFFE0;
      *(v37 - 8) = v36;
      v10[18540] = v37;
      if (v37)
      {
        v38 = malloc_type_malloc(0x8027uLL, 0x5F484EBFuLL);
        if (v38)
        {
          goto LABEL_62;
        }

LABEL_84:
        v10[18541] = 0;
        goto LABEL_85;
      }

LABEL_83:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate bufs->residual1");
      v38 = malloc_type_malloc(0x8027uLL, 0x5F484EBFuLL);
      if (!v38)
      {
        goto LABEL_84;
      }

LABEL_62:
      v39 = (v38 + 39) & 0xFFFFFFFFFFFFFFE0;
      *(v39 - 8) = v38;
      v10[18541] = v39;
      if (v39)
      {
        v40 = malloc_type_malloc(0x8017uLL, 0x5F484EBFuLL);
        if (v40)
        {
          goto LABEL_64;
        }

LABEL_86:
        v10[18542] = 0;
        goto LABEL_87;
      }

LABEL_85:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate bufs->diff10");
      v40 = malloc_type_malloc(0x8017uLL, 0x5F484EBFuLL);
      if (!v40)
      {
        goto LABEL_86;
      }

LABEL_64:
      v41 = (v40 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v41 - 8) = v40;
      v10[18542] = v41;
      if (v41)
      {
        v42 = malloc_type_malloc(0x18027uLL, 0x5F484EBFuLL);
        if (v42)
        {
          goto LABEL_66;
        }

LABEL_88:
        v10[18545] = 0;
        goto LABEL_89;
      }

LABEL_87:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate bufs->tmp_best_mask_buf");
      v42 = malloc_type_malloc(0x18027uLL, 0x5F484EBFuLL);
      if (!v42)
      {
        goto LABEL_88;
      }

LABEL_66:
      v43 = (v42 + 39) & 0xFFFFFFFFFFFFFFE0;
      *(v43 - 8) = v42;
      v10[18545] = v43;
      if (v43)
      {
        result = malloc_type_malloc(0x18027uLL, 0x5F484EBFuLL);
        if (result)
        {
          goto LABEL_68;
        }

LABEL_90:
        v10[18546] = 0;
        goto LABEL_91;
      }

LABEL_89:
      aom_internal_error(v6 + 50984, 2, "Failed to allocate td->tmp_pred_bufs[j]");
      result = malloc_type_malloc(0x18027uLL, 0x5F484EBFuLL);
      if (!result)
      {
        goto LABEL_90;
      }

LABEL_68:
      v44 = (result + 39) & 0xFFFFFFFFFFFFFFE0;
      *(v44 - 8) = result;
      v10[18546] = v44;
      if (!v44)
      {
LABEL_91:
        result = aom_internal_error(v6 + 50984, 2, "Failed to allocate td->tmp_pred_bufs[j]");
      }

      v23 = *(v6 + 352);
    }

    if ((*(v23 + 239056) & 0xFD) == 0)
    {
      v45 = v23 + 388856;
      if (!*(v45 + 856) && !*v45 && (*(v45 + 568) || *(v45 + 572)))
      {
        result = malloc_type_malloc((2uLL >> v58[49] << 16) | 0x17, 0x5F484EBFuLL);
        if (!result)
        {
          v10[19090] = 0;
LABEL_102:
          result = aom_internal_error(v6 + 50984, 2, "Failed to allocate td->pixel_gradient_info");
          goto LABEL_103;
        }

        v46 = (result + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v46 - 8) = result;
        v10[19090] = v46;
        if (!v46)
        {
          goto LABEL_102;
        }
      }
    }

LABEL_103:
    v47 = *(v6 + 352);
    v48 = (v47 + 263736);
    if (*(v47 + 265632) == 2)
    {
      v49 = v47 + 388856;
      if (!*v49 || v48[458] * -0.25 + 1.0 > 0.0 && (!*(v49 + 856) || *(v49 + 904)))
      {
        result = malloc_type_malloc(16 * mi_size_wide_15[*(*v48 + 28)] * mi_size_high_12[*(*v48 + 28)] + 23, 0x5F484EBFuLL);
        if (!result)
        {
          v10[19091] = 0;
LABEL_120:
          result = aom_internal_error(v6 + 50984, 2, "Failed to allocate td->src_var_info_of_4x4_sub_blocks");
          if (*(*(v6 + 352) + 388856) != 2)
          {
            goto LABEL_121;
          }

          goto LABEL_111;
        }

        v50 = (result + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v50 - 8) = result;
        v10[19091] = v50;
        if (!v50)
        {
          goto LABEL_120;
        }
      }
    }

    if (*(*(v6 + 352) + 388856) != 2)
    {
      goto LABEL_121;
    }

LABEL_111:
    if (*v58 == 12)
    {
      v51 = 43687;
    }

    else
    {
      v51 = 174679;
    }

    result = malloc_type_malloc(v51, 0x5F484EBFuLL);
    if (result)
    {
      v52 = (result + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v52 - 8) = result;
      v10[18553] = v52;
      if (v52)
      {
        goto LABEL_121;
      }
    }

    else
    {
      v10[18553] = 0;
    }

    result = aom_internal_error(v6 + 50984, 2, "Failed to allocate td->vt64x64");
LABEL_121:
    if (*(*(v6 + 352) + 265633) != 1 || v7 > v57)
    {
      goto LABEL_6;
    }

    if (!v3)
    {
      if (*(v6 + 328) >= 1)
      {
        v55 = 0;
        while (1)
        {
          result = malloc_type_malloc(0x5313uLL, 0x5F484EBFuLL);
          if (result)
          {
            v56 = (result + 23) & 0xFFFFFFFFFFFFFFF0;
            *(v56 - 8) = result;
            *(*(v6 + 8 * v55) + 234480) = v56;
            if (v56)
            {
              goto LABEL_134;
            }
          }

          else
          {
            *(*(v6 + 8 * v55) + 234480) = 0;
          }

          result = aom_internal_error(v6 + 50984, 2, "Failed to allocate ppi->parallel_cpi[j]->td.tctx");
LABEL_134:
          if (++v55 >= *(v6 + 328))
          {
            goto LABEL_6;
          }
        }
      }

LABEL_140:
      *(v2 + 116) = v57;
      return result;
    }

    result = malloc_type_malloc(0x5313uLL, 0x5F484EBFuLL);
    if (!result)
    {
      *(*(v8 + 8) + 148416) = 0;
LABEL_139:
      result = aom_internal_error(v6 + 50984, 2, "Failed to allocate thread_data->td->tctx");
      goto LABEL_6;
    }

    v54 = (result + 23) & 0xFFFFFFFFFFFFFFF0;
    *(v54 - 8) = result;
    *(*(v8 + 8) + 148416) = v54;
    if (!v54)
    {
      goto LABEL_139;
    }

LABEL_6:
    if (v7 <= 1)
    {
      goto LABEL_140;
    }
  }

  result = aom_internal_error(v6 + 50984, 2, "Failed to allocate td");
  __break(1u);
  return result;
}

void av1_create_workers(uint64_t a1, int a2)
{
  v19 = a1;
  v3 = a1 + 73728;
  v4 = 56 * a2;
  if (v4 > 0x1FFFFFFE9 || (v5 = malloc_type_malloc(v4 + 23, 0x5F484EBFuLL)) == 0)
  {
    v20 = (v3 + 552);
    *(v3 + 552) = 0;
LABEL_7:
    aom_internal_error(v19 + 50984, 2, "Failed to allocate p_mt_info->workers", v19);
    if (a2 > 0x11F7047)
    {
      goto LABEL_12;
    }

    goto LABEL_8;
  }

  v20 = (v3 + 552);
  v6 = (v5 + 23) & 0xFFFFFFFFFFFFFFF0;
  *(v6 - 8) = v5;
  *(v3 + 552) = v6;
  if (!v6)
  {
    goto LABEL_7;
  }

  if (a2 > 0x11F7047)
  {
    goto LABEL_12;
  }

LABEL_8:
  v7 = malloc_type_malloc(456 * a2 + 23, 0x5F484EBFuLL);
  if (!v7 || (v8 = (v7 + 23) & 0xFFFFFFFFFFFFFFF0, *(v8 - 8) = v7, !v8))
  {
LABEL_12:
    v9 = (v3 + 560);
    *(v3 + 560) = 0;
    aom_internal_error(v19 + 50984, 2, "Failed to allocate p_mt_info->tile_thr_data", v19);
    if (a2 < 1)
    {
      return;
    }

    goto LABEL_13;
  }

  bzero(((v7 + 23) & 0xFFFFFFFFFFFFFFF0), 456 * a2);
  v9 = (v3 + 560);
  *(v3 + 560) = v8;
  if (a2 < 1)
  {
    return;
  }

LABEL_13:
  v10 = *(v3 + 552);
  v11 = *(v3 + 560);
  g_worker_interface_0(v10);
  *(v10 + 16) = "aom enc worker";
  *(v11 + 448) = 0;
  off_28100B660[0]();
  ++*(v3 + 496);
  if (a2 != 1)
  {
    v12 = a2;
    v13 = 1;
    v14 = 904;
    v15 = 72;
    do
    {
      v16 = (*v20 + v15);
      v17 = *v9;
      g_worker_interface_0((v16 - 2));
      *v16 = "aom enc worker";
      v18 = (v17 + v14);
      *v18 = v13;
      v18[1] = v13;
      if (!(off_28100B658[0])((v16 - 2)))
      {
        aom_internal_error(v19 + 50984, 1, "Tile encoder thread creation failed");
      }

      off_28100B660[0]();
      ++*(v3 + 496);
      ++v13;
      v14 += 456;
      v15 += 56;
    }

    while (v12 != v13);
  }
}

uint64_t av1_check_fpmt_config(uint64_t a1, uint64_t a2)
{
  if (*(a2 + 188) - 1) >= 2 && !*(a1 + 50968) && (*(a2 + 864) & 1) == 0 && (*(a2 + 946) & 1) == 0 && !*(a2 + 1104) && (*(a2 + 290) & 1) == 0 && !*(a2 + 232) && *(a2 + 1080) == 2 && *(a2 + 1036) >= 2 && (*(a2 + 1106))
  {
    return 1;
  }

  v3 = *(a1 + 328);
  if (v3 < 2)
  {
    return 0;
  }

  v4 = v3 - 1;
  v5 = (a1 + 8);
  do
  {
    v6 = *v5;
    v7 = *(*v5 + 239288);
    if (v7)
    {
      --*v7;
      *(v6 + 239288) = 0;
    }

    ++v5;
    --v4;
  }

  while (v4);
  v8 = *(*(a1 + 352) + 456792);
  v9 = (*(a1 + 6664) - v8) & ~((*(a1 + 6664) - v8) >> 31);
  v10 = a1 + 4 * v8;
  bzero((v10 + 12668), 4 * v9);
  bzero((a1 + 13668 + v8), v9);
  bzero((v10 + 6668), 4 * v9);
  memset((a1 + 32 * v8 + 14168), 255, 32 * v9);
  memset((v10 + 22168), 255, 4 * v9);
  result = 0;
  *(a1 + 328) = 1;
  return result;
}

uint64_t av1_compute_num_fp_contexts(uint64_t a1, _DWORD *a2)
{
  *(a1 + 74268) = 0;
  if (!av1_check_fpmt_config(a1, a2))
  {
    return 1;
  }

  v4 = *(a1 + 352);
  v5 = (v4 + 239588);
  v6 = *(v4 + 263736);
  LOBYTE(v4) = *(v6 + 36);
  v7 = ~(-1 << v4);
  v8 = (*v5 + v7) >> v4;
  v9 = (((v5[1] + v7) >> v4) + 1) >> 1;
  if (v9 >= v8)
  {
    v9 = v8;
  }

  v10 = a2[6];
  if (v10 >= a2[7])
  {
    v10 = a2[7];
  }

  v12 = v10 > 480 && *(v6 + 28) == 12;
  v13 = (v9 + __const_av1_compute_num_fp_contexts_rounding_factor[v12]) / __const_av1_compute_num_fp_contexts_scaling_factor[v12];
  if (v13 <= 1)
  {
    v14 = 1;
  }

  else
  {
    v14 = v13;
  }

  v15 = a2[259];
  v16 = v15 / v14;
  if ((a2[84] > 0 || a2[85] >= 1) && v16 < 4)
  {
    v16 = 1;
  }

  if (v16 >= 4)
  {
    v16 = 4;
  }

  if (v16 <= 1)
  {
    v16 = 1;
  }

  v17 = *(a1 + 328);
  if (v16 >= v17)
  {
    v18 = *(a1 + 328);
  }

  else
  {
    v18 = v16;
  }

  if (v17 == 1)
  {
    result = v16;
  }

  else
  {
    result = v18;
  }

  if (result > 1)
  {
    v20 = result * v9;
    if (v20 >= v15)
    {
      v20 = a2[259];
    }

    *(a1 + 74268) = v20;
  }

  return result;
}

void av1_compress_parallel_frames(uint64_t *a1, uint64_t a2)
{
  v4 = a1 + 9216;
  v31 = 0;
  inited = av1_init_parallel_frame_context(a2, a1, &v31);
  prepare_fpmt_workers(a1, a2, inited);
  v6 = *(v4 + 152);
  if (v6 < 1)
  {
    goto LABEL_9;
  }

  for (i = a1[v6 + 9287]; v6 != 1; --v6)
  {
    off_28100B668(i);
    i = a1[v6 + 9286];
  }

  off_28100B670(i);
  v8 = *(v4 + 152);
  if (v8 < 1)
  {
LABEL_9:
    v10 = 0;
    v14 = 1;
    v15 = *(v4 + 124);
    if (v15 < 1)
    {
      goto LABEL_17;
    }

    goto LABEL_12;
  }

  v9 = 0;
  v10 = 0;
  v11 = v8 + 1;
  v12 = &a1[v8];
  do
  {
    off_28100B660[0]();
    if (!v13)
    {
      v10 = *(*(v12 - 1) + 239104);
      v9 = 1;
    }

    --v11;
    --v12;
  }

  while (v11 > 1);
  v14 = v9 == 0;
  v15 = *(v4 + 124);
  if (v15 >= 1)
  {
LABEL_12:
    if (v4[71])
    {
      v16 = 0;
      v17 = a1;
      do
      {
        v18 = *v17;
        v19 = (*v17 + 636744);
        v20 = *(*(*v17 + 263736) + 77);
        v21 = *v19;
        v21[5] = *(*v17 + 636752);
        v21[2] = v19[2];
        if (!v20)
        {
          v21[3] = v19[3];
          v21[4] = v19[4];
        }

        v16 += *(v18 + 627680);
        ++v17;
      }

      while (v16 < v15);
    }
  }

LABEL_17:
  if (!v14)
  {
    v22 = *v10;
    if (v10[1])
    {
      aom_internal_error((a1 + 6373), v22, "%s");
    }

    else
    {
      aom_internal_error((a1 + 6373), v22, 0);
    }
  }

  if (inited >= 1)
  {
    v23 = inited;
    v24 = a1;
    do
    {
      v25 = (*v24 + 266240);
      if (*(*v24 + 267064))
      {
        *(*v24 + 267064) = 0;
      }

      if (v25[104])
      {
        v25[104] = 0;
      }

      if (v25[105])
      {
        v25[105] = 0;
      }

      if (v25[106])
      {
        v25[106] = 0;
      }

      if (v25[107])
      {
        v25[107] = 0;
      }

      if (v25[108])
      {
        v25[108] = 0;
      }

      if (v25[109])
      {
        v25[109] = 0;
      }

      ++v24;
      --v23;
    }

    while (v23);
  }

  v26 = *(a1[44] + 264352);
  v27 = *(v26 + 96);
  if (*(v26 + 96))
  {
    v28 = 0;
    v29 = 0;
    v30 = v31;
    do
    {
      if ((v30 >> v29))
      {
        --*(*(v26 + 88) + v28);
      }

      ++v29;
      v28 += 22728;
    }

    while (v27 != v29);
  }
}

void prepare_fpmt_workers(uint64_t *a1, uint64_t a2, int a3)
{
  v3 = a1 + 9216;
  v4 = *(a1 + 18556);
  v40 = 0;
  v39 = 0;
  if (v4 > 0)
  {
    v35 = (a1 + 9287);
    v36 = a1 + 9288;
    v34 = a1 + 4;
    do
    {
      v6 = (v3[69] + 56 * v39);
      v36[v40] = v6;
      v7 = a1[v40];
      v8 = *(v7 + 239104);
      if (setjmp(v8 + 53))
      {
        v8[52] = 0;
        if (v39 >= 1 && *v35)
        {
          v9 = a1;
          v10 = 0;
          do
          {
            v11 = *v9;
            v12 = (*v9 + 636744);
            v13 = *(*(*v9 + 263736) + 77);
            v14 = *v12;
            v14[5] = *(*v9 + 636752);
            v14[2] = v12[2];
            if (!v13)
            {
              v14[3] = v12[3];
              v14[4] = v12[4];
            }

            v10 += *(v11 + 627680);
            ++v9;
          }

          while (v10 < v39);
        }

        v15 = *v8;
        if (v8[1])
        {
          aom_internal_error((a1 + 6373), v15, "%s");
        }

        else
        {
          aom_internal_error((a1 + 6373), v15, 0, v33);
        }
      }

      v8[52] = 1;
      *(v7 + 627736) = v3[69] + 56 * v39;
      *(v7 + 627744) = v3[70] + 456 * v39;
      v16 = (v4 - v39) / (a3 - v40);
      *(v7 + 627680) = v16;
      v17 = *(v3 + 125);
      if (v16 < v17)
      {
        v17 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627684) = v17;
      v18 = *(v3 + 126);
      if (v16 < v18)
      {
        v18 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627688) = v18;
      v19 = *(v3 + 127);
      if (v16 < v19)
      {
        v19 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627692) = v19;
      v20 = *(v3 + 128);
      if (v16 < v20)
      {
        v20 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627696) = v20;
      v21 = *(v3 + 129);
      if (v16 < v21)
      {
        v21 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627700) = v21;
      v22 = *(v3 + 130);
      if (v16 < v22)
      {
        v22 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627704) = v22;
      v23 = *(v3 + 131);
      if (v16 < v23)
      {
        v23 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627708) = v23;
      v24 = *(v3 + 132);
      if (v16 < v24)
      {
        v24 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627712) = v24;
      v25 = *(v3 + 133);
      if (v16 < v25)
      {
        v25 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627716) = v25;
      v26 = *(v3 + 134);
      if (v16 < v26)
      {
        v26 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627720) = v26;
      v27 = *(v3 + 135);
      if (v16 < v27)
      {
        v27 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627724) = v27;
      v28 = *(v3 + 136);
      if (v16 < v28)
      {
        v28 = (v4 - v39) / (a3 - v40);
      }

      *(v7 + 627728) = v28;
      v29 = v3[71];
      if (v29)
      {
        v30 = (v29 + 488 * v39);
        v31 = v30[5];
        *(v7 + 636744) = v30;
        *(v7 + 636752) = v31;
        LODWORD(v31) = *(*(v7 + 263736) + 77);
        *(v7 + 636760) = v30[2];
        if (!v31)
        {
          *(v7 + 636768) = v30[3];
          *(v7 + 636776) = v30[4];
        }
      }

      v39 += v16;
      av1_alloc_cdef_buffers(v7 + 239056, v35, v7 + 636712, *(v3 + 124), 0);
      v6[3] = get_compressed_data_hook;
      v6[4] = v7;
      v32 = a2;
      if (v40)
      {
        v32 = &v34[9 * v40 - 9];
      }

      v6[5] = v32;
      ++v40;
      v8[52] = 0;
    }

    while (v39 < v4);
  }

  *(v3 + 152) = a3;
}

void av1_encode_tiles_mt(int32x2_t *a1)
{
  v16 = *MEMORY[0x277D85DE8];
  v2 = a1 + 78460;
  LODWORD(v3) = a1[78462].i32[1];
  if (a1[57111].i32[0] < a1[32970].i32[1] * a1[32970].i32[0])
  {
    av1_alloc_tile_data(a1);
  }

  av1_init_tile_data(a1);
  if (v3 >= v2->i32[0])
  {
    v3 = v2->u32[0];
  }

  else
  {
    v3 = v3;
  }

  prepare_enc_workers(a1, enc_worker_hook_0, v3);
  if (v3 >= 1)
  {
    v4 = v3 - 1;
    v5 = (*&v2[7] + 56 * (v3 - 1));
    v5[12] = 0;
    if (v3 != 1)
    {
      v6 = 56 * v3 - 64;
      do
      {
        off_28100B668(v5);
        v7 = v2[7];
        *(*&v7 + v6) = 0;
        v6 -= 56;
        --v4;
        v5 = (*&v7 + 56 * v4);
      }

      while (v4);
      v5 = (*&v7 + v6 + 8);
    }

    off_28100B670(v5);
  }

  v8 = v2[7];
  v9 = *(*&v8 + 48);
  memset(__dst, 0, 404);
  if (v9)
  {
    memcpy(__dst, (*(*&v8 + 32) + 24), 0x194uLL);
  }

  if (v3 >= 2)
  {
    v10 = v3 + 1;
    v11 = 56 * v3 - 24;
    do
    {
      v12 = v2[7];
      off_28100B660[0]();
      if (!v13)
      {
        memcpy(__dst, (*(*&v12 + v11) + 24), 0x194uLL);
        v9 = 1;
      }

      --v10;
      v11 -= 56;
    }

    while (v10 > 2);
  }

  if (v9)
  {
    v14 = a1[29888];
    if (DWORD1(__dst[0]))
    {
      aom_internal_error(v14, __dst[0], "%s");
    }

    else
    {
      aom_internal_error(v14, __dst[0], 0);
    }
  }

  *(*(*(*&v8 + 32) + 8) + 11152) = a1[29888];
  accumulate_counters_enc_workers(a1, v3);
}

__n128 prepare_enc_workers(uint64_t a1, uint64_t a2, int a3)
{
  v3 = a3 - 1;
  if (a3 >= 1)
  {
    v4 = a1 + 389288;
    v63 = (a1 + 263736);
    v5 = a1 + 239056;
    v6 = (a1 + 206056);
    v60 = (a1 + 133624);
    v61 = (a1 + 627736);
    v7 = (a1 + 86064);
    v8 = (a1 + 238816);
    v9 = 56 * a3 - 24;
    for (i = 456 * a3 - 456; ; i -= 456)
    {
      v11 = v61[1] + i;
      v12 = (*v61 + v9);
      *(v12 - 1) = a2;
      *v12 = v11;
      v12[1] = 0;
      *(v11 + 452) = v3;
      *(v11 + 448) = v3;
      *v11 = a1;
      v13 = v7;
      if (v9 != 32)
      {
        v13 = *(v11 + 16);
      }

      *(v11 + 8) = v13;
      *(v13 + 18548) = 0;
      *(v13 + 18544) = 0;
      *(v13 + 148120) = 0u;
      if (v13 == v7)
      {
        goto LABEL_26;
      }

      memcpy(v13, v7, 0x23D00uLL);
      memcpy((*(v11 + 8) + 146704), (a1 + 232768), 0x598uLL);
      v14 = *(v11 + 8);
      v15 = *(v14 + 148264);
      v14[1051] = *(v14 + 148280);
      v14[1050] = v15;
      memcpy(*(*(v11 + 8) + 148232), *v6, 0x4000uLL);
      v16 = *(v11 + 8);
      v17 = v16[18530];
      v16[14999] = v16[18529];
      memcpy(v17, v6[1], 0x4000uLL);
      v18 = *(v11 + 8);
      v19 = v18[18531];
      v18[15000] = v18[18530];
      memcpy(v19, v6[2], 0x4000uLL);
      v20 = *(v11 + 8);
      v21 = v20[18532];
      v20[15001] = v20[18531];
      memcpy(v21, v6[3], 0x4000uLL);
      v13 = *(v11 + 8);
      *(v13 + 15002) = *(v13 + 18532);
      if (*v4)
      {
        break;
      }

LABEL_13:
      if (*(v4 + 168))
      {
        *(v13 + 5946) = 0;
        if (*(v4 + 424))
        {
          goto LABEL_27;
        }

        if ((*v5 & 0xFD) == 0 && *(v5 + 495) == 1 && *(v5 + 496) && v63[468] != 1 && *(a1 + 637512) != 1)
        {
          v26 = malloc_type_malloc(0x4002FuLL, 0x5F484EBFuLL);
          if (v26)
          {
            v27 = v26;
            v28 = ((v26 + 23) & 0xFFFFFFFFFFFFFFF0);
            *(v28 - 1) = v27;
            v29 = *(v11 + 8);
            *(v29 + 146696) = v28;
            if (!v28)
            {
LABEL_24:
              aom_internal_error(*(v5 + 48), 2, "Failed to allocate thread_data->td->dv_costs_alloc");
              v29 = *(v11 + 8);
              v28 = *(v29 + 146696);
            }

            *(v29 + 47568) = v28;
            memcpy(v28, v60[1], 0x40018uLL);
            v13 = *(v11 + 8);
            goto LABEL_26;
          }

          *(*(v11 + 8) + 146696) = 0;
          goto LABEL_24;
        }
      }

LABEL_26:
      if (*(v4 + 424))
      {
        goto LABEL_27;
      }

      if (!*(v4 + 296))
      {
LABEL_44:
        if ((*v5 & 0xFD) == 0)
        {
          goto LABEL_27;
        }

        goto LABEL_60;
      }

      v35 = malloc_type_malloc(0x625FuLL, 0x5F484EBFuLL);
      if (v35)
      {
        v36 = (v35 + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v36 - 8) = v35;
        *(v13 + 18317) = v36;
        if (v36)
        {
          goto LABEL_44;
        }
      }

      else
      {
        *(v13 + 18317) = 0;
      }

      aom_internal_error(*(v5 + 48), 2, "Failed to allocate mb->txfm_search_info.mb_rd_record");
      if ((*v5 & 0xFD) == 0)
      {
        goto LABEL_27;
      }

LABEL_60:
      v58 = malloc_type_malloc(0x5301FuLL, 0x5F484EBFuLL);
      if (v58)
      {
        v59 = (v58 + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v59 - 8) = v58;
        *(v13 + 13716) = v59;
        if (v59)
        {
          goto LABEL_27;
        }
      }

      else
      {
        *(v13 + 13716) = 0;
      }

      aom_internal_error(*(v5 + 48), 2, "Failed to allocate mb->inter_modes_info");
LABEL_27:
      av1_alloc_src_diff_buf(v5, v13);
      v30 = malloc_type_malloc(0x8017uLL, 0x5F484EBFuLL);
      if (!v30)
      {
        *(v13 + 1398) = 0;
LABEL_32:
        aom_internal_error(*(v5 + 48), 2, "Failed to allocate mb->e_mbd.seg_mask");
        if (v63[468] == 1)
        {
          goto LABEL_48;
        }

        goto LABEL_33;
      }

      v31 = (v30 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v31 - 8) = v30;
      *(v13 + 1398) = v31;
      if (!v31)
      {
        goto LABEL_32;
      }

      if (v63[468] == 1)
      {
        goto LABEL_48;
      }

LABEL_33:
      if (*(a1 + 637512) != 1 && (!*(v4 + 424) || *(v4 + 472)) && *(v4 + 320))
      {
        v32 = 16624 * winner_mode_count_allowed_0[*(v4 + 320)];
        if (v32 > 0x1FFFFFFE9 || (v33 = malloc_type_malloc(v32 + 23, 0x5F484EBFuLL)) == 0)
        {
          *(v13 + 13714) = 0;
LABEL_47:
          aom_internal_error(*(v5 + 48), 2, "Failed to allocate mb->winner_mode_stats");
          goto LABEL_48;
        }

        v34 = (v33 + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v34 - 8) = v33;
        *(v13 + 13714) = v34;
        if (!v34)
        {
          goto LABEL_47;
        }
      }

LABEL_48:
      v37 = 4 * (1 << num_pels_log2_lookup_12[*(*v63 + 28)]);
      if (v37 <= 0x1FFFFFFD9 && (v38 = malloc_type_malloc(v37 + 39, 0x5F484EBFuLL)) != 0)
      {
        v40 = (v38 + 39) & 0xFFFFFFFFFFFFFFE0;
        *(v40 - 8) = v38;
        *(v13 + 18322) = v40;
        if (v40)
        {
          goto LABEL_54;
        }
      }

      else
      {
        *(v13 + 18322) = 0;
      }

      aom_internal_error(*(v5 + 48), 2, "Failed to allocate mb->dqcoeff_buf");
LABEL_54:
      v41 = *(v11 + 8);
      v42 = v41 + 146656;
      v41 += 86580;
      result.n128_u64[0] = 0;
      *v41 = 0;
      *(v41 + 8) = 0;
      *v42 = 0;
      v43 = *(v42 + 1480);
      if (v43 != v8)
      {
        v44 = *v8;
        v45 = v8[1];
        v46 = v8[3];
        *(v43 + 32) = v8[2];
        *(v43 + 48) = v46;
        *v43 = v44;
        *(v43 + 16) = v45;
        v47 = v8[4];
        v48 = v8[5];
        v49 = v8[7];
        *(v43 + 96) = v8[6];
        *(v43 + 112) = v49;
        *(v43 + 64) = v47;
        *(v43 + 80) = v48;
        result = v8[8];
        v50 = v8[9];
        v51 = v8[11];
        *(v43 + 160) = v8[10];
        *(v43 + 176) = v51;
        *(v43 + 128) = result;
        *(v43 + 144) = v50;
      }

      if (v9 == 32)
      {
        return result;
      }

      v52 = *(v11 + 8);
      *(v52 + 16832) = *(v52 + 148296);
      v53 = *(v52 + 148320);
      *(v52 + 16840) = *(v52 + 148304);
      *(v52 + 16856) = v53;
      *(v52 + 16872) = *(v52 + 148336);
      v54 = *(v11 + 8);
      v55 = *(v54 + 148344);
      *(v54 + 16880) = v55;
      v56 = *(v54 + 148360);
      *(v54 + 16888) = v56;
      v57 = *(v54 + 152728);
      *(v54 + 122136) = *(v54 + 152720);
      *(v54 + 146648) = v57;
      *(v54 + 15448) = v55;
      *(v54 + 15456) = v56;
      v9 -= 56;
      --v3;
    }

    v22 = malloc_type_malloc(0x8003FuLL, 0x5F484EBFuLL);
    if (v22)
    {
      v23 = v22;
      v24 = ((v22 + 23) & 0xFFFFFFFFFFFFFFF0);
      *(v24 - 1) = v23;
      v25 = *(v11 + 8);
      *(v25 + 146688) = v24;
      if (v24)
      {
LABEL_12:
        *(v25 + 47560) = v24;
        memcpy(v24, *v60, 0x80028uLL);
        v13 = *(v11 + 8);
        goto LABEL_13;
      }
    }

    else
    {
      *(*(v11 + 8) + 146688) = 0;
    }

    aom_internal_error(*(v5 + 48), 2, "Failed to allocate thread_data->td->mv_costs_alloc");
    v25 = *(v11 + 8);
    v24 = *(v25 + 146688);
    goto LABEL_12;
  }

  return result;
}

uint64_t enc_worker_hook_0(uint64_t a1)
{
  v2 = *a1;
  v3 = *(a1 + 8);
  v4 = (*a1 + 263736);
  v6 = *(*a1 + 263760);
  v5 = *(*a1 + 263764);
  *(v3 + 11152) = a1 + 24;
  if (setjmp((a1 + 236)))
  {
    result = 0;
    goto LABEL_16;
  }

  *(a1 + 232) = 1;
  if (*(v2 + 389712))
  {
    v8 = *(*v4 + 28);
    v9 = malloc_type_malloc(0x6FuLL, 0x5F484EBFuLL);
    if (v9 && (v10 = ((v9 + 23) & 0xFFFFFFFFFFFFFFF0), *(v10 - 1) = v9, v10))
    {
      *(((v9 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x50) = 0;
      *(((v9 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x30) = 0u;
      *(((v9 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x40) = 0u;
      *(((v9 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x10) = 0u;
      *(((v9 + 23) & 0xFFFFFFFFFFFFFFF0) + 0x20) = 0u;
      *v10 = 0u;
      *v10 = 0;
      *(((v9 + 23) & 0xFFFFFFFFFFFFFFF0) + 1) = v8;
      *(*(a1 + 8) + 152736) = v10;
      v11 = *(a1 + 448);
      v12 = v5 * v6;
      if (v11 >= v5 * v6)
      {
        goto LABEL_12;
      }
    }

    else
    {
      *(*(a1 + 8) + 152736) = 0;
      aom_internal_error(*(v3 + 11152), 2, "Failed to allocate PC_TREE");
      v11 = *(a1 + 448);
      v12 = v5 * v6;
      if (v11 >= v5 * v6)
      {
        goto LABEL_12;
      }
    }
  }

  else
  {
    *(*(a1 + 8) + 152736) = 0;
    v11 = *(a1 + 448);
    v12 = v5 * v6;
    if (v11 >= v5 * v6)
    {
      goto LABEL_12;
    }
  }

  do
  {
    v13 = v11;
    v14 = v11 / v6;
    v15 = v11 % v6;
    v16 = *(a1 + 8);
    v17 = *(v2 + 456880) + 23824 * (v11 % v6 + v4[6] * (v11 / v6)) + 32;
    v16[1383] = v17;
    v16[2097] = v17;
    av1_encode_tile(v2, v16, v14, v15);
    v11 = *(v2 + 627680) + v13;
  }

  while (v11 < v12);
LABEL_12:
  if (*(*v4 + 77))
  {
    v18 = 1;
  }

  else
  {
    v18 = 3;
  }

  av1_free_pc_tree_recursive(*(*(a1 + 8) + 152736), v18, 0, 0, *(v2 + 388856));
  *(*(a1 + 8) + 152736) = 0;
  result = 1;
LABEL_16:
  *(a1 + 232) = 0;
  return result;
}

void accumulate_counters_enc_workers(int8x8_t *a1, int a2)
{
  if (a2 >= 1)
  {
    v2 = &a1[79601] + 1;
    v3 = &a1[48575] + 1;
    v61 = a1 + 32967;
    v4 = a1 + 29852;
    v5 = a1 + 29076;
    v58 = &a1[29104] + 1;
    v59 = a1 + 10758;
    v6 = a2;
    while (1)
    {
      v7 = *(*&a1[78467] + 56 * v6 - 24);
      v8 = *(v7 + 8);
      *v2 |= *(v8 + 148384);
      v2[68] |= *(v8 + 148388);
      if ((v4[30].i8[0] & 0xFD) != 0)
      {
        if (v61[127].i8[0] == 3)
        {
          *(*&a1[57096] + 28) = vadd_s32(*(*&a1[57096] + 28), *(v8 + 86580));
        }

        *v3 += *(v8 + 86588);
      }

      v2[362] += *(v8 + 146656);
      if (v8 != v59)
      {
        if (v3[171])
        {
          v9 = *(v8 + 146688);
          if (v9)
          {
            free(*(v9 - 8));
            v8 = *(v7 + 8);
          }

          *(v8 + 146688) = 0;
        }

        if (v3[213])
        {
          v10 = *(v8 + 146696);
          if (v10)
          {
            free(*(v10 - 8));
            v8 = *(v7 + 8);
          }

          *(v8 + 146696) = 0;
        }
      }

      v11 = *(*v61 + 77);
      v12 = *(v8 + 146536);
      if (v12)
      {
        free(*(v12 - 8));
      }

      v13 = (v8 + 109712);
      *(v8 + 146536) = 0;
      v14 = *(v8 + 109728);
      if (v14)
      {
        free(*(v14 - 8));
      }

      *(v8 + 109728) = 0;
      if (*v8)
      {
        free(*(*v8 - 8));
      }

      *v8 = 0;
      if (v11)
      {
        break;
      }

      v56 = *(v8 + 136);
      if (v56)
      {
        free(*(v56 - 8));
      }

      *(v8 + 136) = 0;
      v57 = *(v8 + 272);
      if (v57)
      {
        free(*(v57 - 8));
      }

      *(v8 + 272) = 0;
      v15 = *(v8 + 11184);
      if (v15)
      {
        goto LABEL_24;
      }

LABEL_25:
      *(v8 + 11184) = 0;
      if (*v13)
      {
        free(*(*v13 - 8));
      }

      *v13 = 0;
      v16 = *(v8 + 146576);
      if (v16)
      {
        free(*(v16 - 8));
      }

      *(v8 + 146576) = 0;
      if (v6 == 1)
      {
        return;
      }

      v17 = *(v7 + 8);
      v18 = v17 + 18318;
      v19 = v17[18517];
      v20 = v4->i32[1];
      v4->i32[0] += *v19;
      v4->i32[1] = v20 + v19[1];
      v21 = v4[1].i32[1];
      v4[1].i32[0] += v19[2];
      v4[1].i32[1] = v21 + v19[3];
      v22 = v4[2].i32[1];
      v4[2].i32[0] += v19[4];
      v4[2].i32[1] = v22 + v19[5];
      v23 = v4[3].i32[1];
      v4[3].i32[0] += v19[6];
      v4[3].i32[1] = v23 + v19[7];
      v24 = v4[4].i32[1];
      v4[4].i32[0] += v19[8];
      v4[4].i32[1] = v24 + v19[9];
      v25 = v4[5].i32[1];
      v4[5].i32[0] += v19[10];
      v4[5].i32[1] = v25 + v19[11];
      v26 = v4[6].i32[1];
      v4[6].i32[0] += v19[12];
      v4[6].i32[1] = v26 + v19[13];
      v27 = v4[7].i32[1];
      v4[7].i32[0] += v19[14];
      v4[7].i32[1] = v27 + v19[15];
      v28 = v4[8].i32[1];
      v4[8].i32[0] += v19[16];
      v4[8].i32[1] = v28 + v19[17];
      v29 = v4[9].i32[1];
      v4[9].i32[0] += v19[18];
      v4[9].i32[1] = v29 + v19[19];
      v30 = v4[10].i32[1];
      v4[10].i32[0] += v19[20];
      v4[10].i32[1] = v30 + v19[21];
      v31 = v4[11].i32[1];
      v4[11].i32[0] += v19[22];
      v4[11].i32[1] = v31 + v19[23];
      v32 = v4[12].i32[1];
      v4[12].i32[0] += v19[24];
      v4[12].i32[1] = v32 + v19[25];
      v33 = v4[13].i32[1];
      v4[13].i32[0] += v19[26];
      v4[13].i32[1] = v33 + v19[27];
      v34 = v4[14].i32[1];
      v4[14].i32[0] += v19[28];
      v4[14].i32[1] = v34 + v19[29];
      v35 = v4[15].i32[1];
      v4[15].i32[0] += v19[30];
      v4[15].i32[1] = v35 + v19[31];
      v36 = v4[16].i32[1];
      v4[16].i32[0] += v19[32];
      v4[16].i32[1] = v36 + v19[33];
      v37 = v4[17].i32[1];
      v4[17].i32[0] += v19[34];
      v4[17].i32[1] = v37 + v19[35];
      v38 = v4[18].i32[1];
      v4[18].i32[0] += v19[36];
      v4[18].i32[1] = v38 + v19[37];
      v39 = v4[19].i32[1];
      v4[19].i32[0] += v19[38];
      v4[19].i32[1] = v39 + v19[39];
      v40 = v4[20].i32[1];
      v4[20].i32[0] += v19[40];
      v4[20].i32[1] = v40 + v19[41];
      v41 = v4[21].i32[1];
      v4[21].i32[0] += v19[42];
      v4[21].i32[1] = v41 + v19[43];
      v42 = v4[22].i32[1];
      v4[22].i32[0] += v19[44];
      v4[22].i32[1] = v42 + v19[45];
      v43 = v4[23].i32[1];
      --v6;
      v4[23].i32[0] += v19[46];
      v4[23].i32[1] = v43 + v19[47];
      v5[20] = vorr_s8(v5[20], v17[18338]);
      v44 = &v17[18346] + 1;
      v45 = v58;
      v46 = 19;
      do
      {
        v47 = *(v45 - 14);
        *(v45 - 15) += *(v44 - 15);
        *(v45 - 14) = v47 + *(v44 - 14);
        v48 = *(v45 - 12);
        *(v45 - 13) += *(v44 - 13);
        *(v45 - 12) = v48 + *(v44 - 12);
        v49 = *(v45 - 10);
        *(v45 - 11) += *(v44 - 11);
        *(v45 - 10) = v49 + *(v44 - 10);
        v50 = *(v45 - 8);
        *(v45 - 9) += *(v44 - 9);
        *(v45 - 8) = v50 + *(v44 - 8);
        v51 = *(v45 - 6);
        *(v45 - 7) += *(v44 - 7);
        *(v45 - 6) = v51 + *(v44 - 6);
        v52 = *(v45 - 4);
        *(v45 - 5) += *(v44 - 5);
        *(v45 - 4) = v52 + *(v44 - 4);
        v53 = *(v45 - 2);
        *(v45 - 3) += *(v44 - 3);
        *(v45 - 2) = v53 + *(v44 - 2);
        v54 = *v45;
        *(v45 - 1) += *(v44 - 1);
        v55 = *v44;
        v44 += 16;
        *v45 = v54 + v55;
        v45 += 16;
        --v46;
      }

      while (v46);
      v5[173].i32[0] += v18[173].i32[0];
      v5[173].i32[1] += v18[173].i32[1];
      v5[174].i32[0] += v18[174].i32[0];
      v5[174].i32[1] += v18[174].i32[1];
      v5[175].i32[0] += v18[175].i32[0];
      v5[175].i32[1] += v18[175].i32[1];
      v5[176].i32[0] += v18[176].i32[0];
      v5[176].i32[1] += v18[176].i32[1];
      v5[177].i32[0] += v18[177].i32[0];
      v5[177].i32[1] += v18[177].i32[1];
      v5[178].i32[0] += v18[178].i32[0];
      v5[178].i32[1] += v18[178].i32[1];
      v5[179].i32[0] += v18[179].i32[0];
      v5[179].i32[1] += v18[179].i32[1];
      v5[180].i32[0] += v18[180].i32[0];
      v5[180].i32[1] += v18[180].i32[1];
      v5[181].i32[0] += v18[181].i32[0];
      v5[181].i32[1] += v18[181].i32[1];
      v5[182].i32[0] += v18[182].i32[0];
      v5[182].i32[1] += v18[182].i32[1];
      v5[183].i32[0] += v18[183].i32[0];
      v5[183].i32[1] += v18[183].i32[1];
      v5[184].i32[0] += v18[184].i32[0];
      v5[184].i32[1] += v18[184].i32[1];
      v5[185].i32[0] += v18[185].i32[0];
      v5[185].i32[1] += v18[185].i32[1];
      v5[186].i32[0] += v18[186].i32[0];
      v5[186].i32[1] += v18[186].i32[1];
      v5[187].i32[0] += v18[187].i32[0];
      v5[187].i32[1] += v18[187].i32[1];
      v5[188].i32[0] += v18[188].i32[0];
      v5[188].i32[1] += v18[188].i32[1];
      v5[189].i32[0] += v18[189].i32[0];
      v5[189].i32[1] += v18[189].i32[1];
      v5[190].i32[0] += v18[190].i32[0];
      v5[190].i32[1] += v18[190].i32[1];
      v5[191].i32[0] += v18[191].i32[0];
      v5[191].i32[1] += v18[191].i32[1];
      v5[192].i32[0] += v18[192].i32[0];
      v5[192].i32[1] += v18[192].i32[1];
      v5[193].i32[0] += v18[193].i32[0];
      v5[193].i32[1] += v18[193].i32[1];
      v5[194].i32[0] += v18[194].i32[0];
      v5[194].i32[1] += v18[194].i32[1];
      v5[195].i32[0] += v18[195].i32[0];
      v5[195].i32[1] += v18[195].i32[1];
      *&v5[197] += *&v18[197];
      *&v5[198] += *&v18[198];
      v5[196].i32[0] += v18[196].i32[0];
      v5->i32[0] += v18->i32[0];
    }

    v15 = *(v8 + 11184);
    if (!v15)
    {
      goto LABEL_25;
    }

LABEL_24:
    free(*(v15 - 8));
    goto LABEL_25;
  }
}

void av1_encode_tiles_row_mt(uint64_t a1, int32x4_t a2)
{
  v2 = a1;
  v243 = *MEMORY[0x277D85DE8];
  v3 = (a1 + 627680);
  v4 = a1 + 262080;
  v5 = a1 + 239056;
  v6 = *(a1 + 263760);
  v7 = *(a1 + 263764);
  v8 = *(a1 + 239588);
  v9 = *(*(a1 + 263736) + 36);
  if (v7 < 1)
  {
    v13 = 0;
    goto LABEL_15;
  }

  v10 = ~(-1 << v9);
  v11 = *(a1 + 264080);
  if (v7 > 7)
  {
    a2 = vdupq_n_s32(v11);
    v14 = vdupq_n_s32(v9);
    v15 = vdupq_n_s32(v8);
    v16 = vdupq_n_s32(v10);
    v12 = v7 & 0x7FFFFFF8;
    v17 = (a1 + 264100);
    v18 = 0uLL;
    v19 = vnegq_s32(v14);
    v20 = v12;
    v21 = 0uLL;
    do
    {
      v22 = v17[-1];
      v23 = vextq_s8(a2, v22, 0xCuLL);
      v24 = *v17;
      v17 += 2;
      a2 = v24;
      v18 = vmaxq_s32(v18, vshlq_s32(vaddq_s32(vsubq_s32(v16, vshlq_u32(v23, v14)), vminq_s32(vshlq_u32(v22, v14), v15)), v19));
      v21 = vmaxq_s32(v21, vshlq_s32(vaddq_s32(vsubq_s32(v16, vshlq_u32(vextq_s8(v22, v24, 0xCuLL), v14)), vminq_s32(vshlq_u32(v24, v14), v15)), v19));
      v20 -= 8;
    }

    while (v20);
    v13 = vmaxvq_s32(vmaxq_s32(v18, v21));
    if (v12 == v7)
    {
      goto LABEL_15;
    }

    v11 = a2.u32[3];
  }

  else
  {
    v12 = 0;
    v13 = 0;
  }

  v25 = v7 - v12;
  v26 = (a1 + 4 * v12 + 264084);
  do
  {
    v27 = v11 << v9;
    v28 = *v26++;
    v11 = v28;
    v29 = v28 << v9;
    if ((v28 << v9) >= v8)
    {
      v29 = *(a1 + 239588);
    }

    v30 = (v10 - v27 + v29) >> v9;
    if (v13 <= v30)
    {
      v13 = v30;
    }

    --v25;
  }

  while (v25);
LABEL_15:
  v238 = (a1 + 456880);
  v31 = v8 + (1 << v9) - 1;
  if (v6 < 1)
  {
    v36 = 0;
  }

  else
  {
    v32 = *(a1 + 239592);
    v33 = ~(-1 << v9);
    v34 = *(a1 + 263820);
    if (v6 <= 7)
    {
      v35 = 0;
      v36 = 0;
      goto LABEL_23;
    }

    a2 = vdupq_n_s32(v34);
    v37 = vdupq_n_s32(v9);
    v38 = vdupq_n_s32(v32);
    v39 = vdupq_n_s32(v33);
    v35 = v6 & 0x7FFFFFF8;
    v40 = (a1 + 263840);
    v41 = 0uLL;
    v42 = vnegq_s32(v37);
    v43 = v35;
    v44 = 0uLL;
    do
    {
      v45 = v40[-1];
      v46 = vextq_s8(a2, v45, 0xCuLL);
      v47 = *v40;
      v40 += 2;
      a2 = v47;
      v41 = vmaxq_s32(v41, vshlq_s32(vaddq_s32(vsubq_s32(v39, vshlq_u32(v46, v37)), vminq_s32(vshlq_u32(v45, v37), v38)), v42));
      v44 = vmaxq_s32(v44, vshlq_s32(vaddq_s32(vsubq_s32(v39, vshlq_u32(vextq_s8(v45, v47, 0xCuLL), v37)), vminq_s32(vshlq_u32(v47, v37), v38)), v42));
      v43 -= 8;
    }

    while (v43);
    v36 = vmaxvq_s32(vmaxq_s32(v41, v44));
    if (v35 != v6)
    {
      v34 = a2.u32[3];
LABEL_23:
      v48 = v6 - v35;
      v49 = (a1 + 4 * v35 + 263824);
      do
      {
        v50 = v34 << v9;
        v51 = *v49++;
        v34 = v51;
        v52 = v51 << v9;
        if ((v51 << v9) >= v32)
        {
          v52 = *(a1 + 239592);
        }

        v53 = (v33 - v50 + v52) >> v9;
        if (v36 <= v53)
        {
          v36 = v53;
        }

        --v48;
      }

      while (v48);
    }
  }

  v216 = v36;
  v217 = v31 >> v9;
  v54 = *(a1 + 627760) != __PAIR64__(v6, v7) || *(a1 + 627768) != v13 || *(a1 + 627772) != v36 - 1 || *(a1 + 628040) != v31 >> v9;
  v55 = *(a1 + 627700);
  v215 = v7 * v6;
  if (*(a1 + 456888) >= v7 * v6)
  {
    v235 = v13;
    v218 = (a1 + 627680);
    v221 = *(a1 + 263764);
    if (!v54)
    {
LABEL_36:
      if (v55 >= *v3)
      {
        v56 = *v3;
      }

      else
      {
        v56 = v55;
      }

      v57 = *(v5 + 499);
      if ((v57 & 1) == 0)
      {
        goto LABEL_95;
      }

      goto LABEL_40;
    }
  }

  else
  {
    av1_alloc_tile_data(a1);
    v2 = a1;
    v235 = v13;
    v218 = v3;
    v221 = v7;
    if (!v54)
    {
      goto LABEL_36;
    }
  }

  v212 = v55;
  v213 = v6;
  __len = *(v4 + 2512);
  v240 = *(v4 + 1680);
  v61 = *(v4 + 1684);
  av1_row_mt_mem_dealloc(v2);
  v219 = v61;
  if (v61 < 1 || v240 < 1)
  {
    goto LABEL_85;
  }

  v62 = 0;
  if (v216 <= 2)
  {
    v63 = 2;
  }

  else
  {
    v63 = v216;
  }

  v229 = v63 - 1;
  v222 = 21244 * (v63 - 1);
  v225 = 48 * v13;
  v227 = 4 * v13;
  v64 = v13;
  size = (v13 << 6) | 0x17;
  v65 = v13 >> 27;
  while (2)
  {
    v66 = 0;
    v220 = v62;
    v67 = v62 * v240;
    do
    {
      v68 = *v238 + 23824 * v66 + 23824 * v67;
      if (v65 || (v69 = malloc_type_malloc(size, 0x5F484EBFuLL)) == 0)
      {
        *(v68 + 23768) = 0;
      }

      else
      {
        v70 = (v69 + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v70 - 8) = v69;
        *(v68 + 23768) = v70;
        if (v70)
        {
          if (v13 <= 0)
          {
            goto LABEL_65;
          }

LABEL_62:
          v71 = 0;
          v72 = v64;
          do
          {
            pthread_mutex_init((*(v68 + 23768) + v71), 0);
            v71 += 64;
            --v72;
          }

          while (v72);
          goto LABEL_64;
        }
      }

      aom_internal_error(*(v5 + 48), 2, "Failed to allocate row_mt_sync->mutex_");
      if (v13 >= 1 && *(v68 + 23768))
      {
        goto LABEL_62;
      }

LABEL_64:
      if (v13 > 0xAAAAAAA)
      {
        goto LABEL_69;
      }

LABEL_65:
      v73 = malloc_type_malloc(v225 + 23, 0x5F484EBFuLL);
      if (!v73)
      {
LABEL_69:
        v74 = (v68 + 23776);
        *(v68 + 23776) = 0;
LABEL_70:
        aom_internal_error(*(v5 + 48), 2, "Failed to allocate row_mt_sync->cond_");
        if (v13 >= 1 && *v74)
        {
LABEL_72:
          v76 = 0;
          v77 = v64;
          do
          {
            pthread_cond_init((*v74 + v76), 0);
            v76 += 48;
            --v77;
          }

          while (v77);
        }

        if (v235 > 0x7FFFFFFA)
        {
          goto LABEL_78;
        }

        goto LABEL_75;
      }

      v74 = (v68 + 23776);
      v75 = (v73 + 23) & 0xFFFFFFFFFFFFFFF0;
      *(v75 - 8) = v73;
      *(v68 + 23776) = v75;
      if (!v75)
      {
        goto LABEL_70;
      }

      if (v13 > 0)
      {
        goto LABEL_72;
      }

LABEL_75:
      v78 = malloc_type_malloc(v227 + 23, 0x5F484EBFuLL);
      if (v78)
      {
        v79 = (v78 + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v79 - 8) = v78;
        *(v68 + 23784) = v79;
        if (v79)
        {
          goto LABEL_80;
        }

        goto LABEL_79;
      }

LABEL_78:
      *(v68 + 23784) = 0;
LABEL_79:
      aom_internal_error(*(v5 + 48), 2, "Failed to allocate row_mt_sync->num_finished_cols");
LABEL_80:
      v13 = v235;
      *(v68 + 23800) = v235;
      *(v68 + 23792) = 1;
      if (__len)
      {
        if (v229 > 0x62B7A || (v80 = malloc_type_malloc(v222 + 23, 0x5F484EBFuLL)) == 0)
        {
          *(v68 + 21280) = 0;
LABEL_52:
          aom_internal_error(*(v5 + 48), 2, "Failed to allocate this_tile->row_ctx");
          goto LABEL_53;
        }

        v81 = (v80 + 23) & 0xFFFFFFFFFFFFFFF0;
        *(v81 - 8) = v80;
        *(v68 + 21280) = v81;
        if (!v81)
        {
          goto LABEL_52;
        }
      }

LABEL_53:
      ++v66;
    }

    while (v66 != v240);
    v62 = v220 + 1;
    if (v220 + 1 != v219)
    {
      continue;
    }

    break;
  }

LABEL_85:
  v82 = *(*(v4 + 1656) + 36);
  v83 = (*(v5 + 532) + (1 << v82) - 1) >> v82;
  v84 = 4 * v83;
  if (v84 > 0x1FFFFFFE9 || (v85 = malloc_type_malloc(v84 + 23, 0x5F484EBFuLL)) == 0)
  {
    v3 = v218;
    *(v218 + 44) = 0;
    LODWORD(v7) = v221;
    LODWORD(v6) = v213;
    v87 = v212;
    goto LABEL_90;
  }

  v86 = (v85 + 23) & 0xFFFFFFFFFFFFFFF0;
  *(v86 - 8) = v85;
  v3 = v218;
  *(v218 + 44) = v86;
  LODWORD(v7) = v221;
  LODWORD(v6) = v213;
  v87 = v212;
  if (!v86)
  {
LABEL_90:
    aom_internal_error(*(v5 + 48), 2, "Failed to allocate enc_row_mt->num_tile_cols_done");
  }

  v3[22] = v13;
  v3[23] = v216 - 1;
  v3[90] = v83;
  v2 = a1;
  if (v87 >= *v3)
  {
    v56 = *v3;
  }

  else
  {
    v56 = v87;
  }

  v57 = *(v5 + 499);
  if ((v57 & 1) == 0)
  {
LABEL_95:
    v58 = *(v4 + 2260) != 0;
    v59 = *(v4 + 1656);
    v60 = 1;
    if (*(v59 + 67))
    {
      goto LABEL_96;
    }

    goto LABEL_98;
  }

LABEL_40:
  v58 = 1;
  v59 = *(v4 + 1656);
  v60 = 1;
  if (*(v59 + 67))
  {
LABEL_96:
    if ((v57 & 1) == 0)
    {
      v60 = *(v4 + 2260) != 0;
    }
  }

LABEL_98:
  v88 = &v2[48685] + 1;
  v89 = *(v59 + 68) && (*(v5 + 500) & 1) == 0 && *(v4 + 2260) == 0;
  v90 = v2 + 78472;
  v91 = *(*v2 + 84964);
  if (v91)
  {
    v92 = 0;
  }

  else if (*(v4 + 2520) == 1)
  {
    v93 = *(*v2 + 23472) != 0 || v89 || *(v5 + 56) != *(v5 + 72);
    if ((v93 | v60))
    {
      v92 = v93 | v58;
    }

    else
    {
      v92 = v2[48704].i32[1] != 6 || v58;
    }
  }

  else
  {
    v92 = 1;
  }

  v241 = &v2[12152];
  v230 = v56;
  if (*(v4 + 3552) != 1 || *(v4 + 3488) < 5 || v2[48703].i8[4] != 3 || v91 || *(v4 + 2516) == 3)
  {
    v2[79600].i32[0] = 0;
    goto LABEL_136;
  }

  v94 = v92 & ~*(v5 + 496);
  v2[79600].i32[0] = v94 & 1;
  if (v94)
  {
    *v4 = 0;
    *(v4 + 680) = 0;
    *(v4 + 548) = 1;
    *(v4 + 616) = 0;
    *(v4 + 32) = 0;
    *(v4 + 96) = 0;
    *(v4 + 160) = 0;
    if (!v58)
    {
      *&v95 = av1_pick_filter_level(*(v4 + 3608), v2, 3u, a2).u64[0];
      v2 = a1;
      v99 = *(*(v4 + 1656) + 77) ? 1 : 3;
      LODWORD(v7) = v221;
      if (*(a1 + 636800))
      {
        if (*v4 || *(v4 + 4))
        {
          if (*(v4 + 8))
          {
            v100 = *(*(v4 + 1656) + 77) == 0;
          }

          else
          {
            v100 = 0;
          }

          if (*(v4 + 12))
          {
            v101 = *(*(v4 + 1656) + 77) == 0;
          }

          else
          {
            v101 = 0;
          }

          v214 = v6;
          v228 = v100;
          v226 = v101;
          if (v88[1] < 1 || *v88 < 1)
          {
            v102 = 0;
          }

          else if (*(v88 + 144) == 3)
          {
            v102 = 2;
          }

          else
          {
            v102 = 1;
          }

          v170 = *(v5 + 532);
          av1_loop_filter_frame_init(v5, 0, v99, v95, v96, v97, v98);
          v171 = v3[6];
          __lenc = (a1 + 628144);
          v172 = *(*(v4 + 1656) + 36);
          v173 = 1 << v172;
          sizea = v172;
          v174 = ((1 << v172) + *(v5 + 532) - 1) >> v172;
          if (!v3[134] || v174 != v3[135] || v3[138] < v171)
          {
            av1_loop_filter_dealloc(__lenc);
            av1_loop_filter_alloc(__lenc, v5, v174, *(v5 + 56), v171);
          }

          *(v3 + 584) = 0;
          v175 = 4 * v174;
          memset(*(v3 + 64), 255, v175);
          memset(*(v3 + 65), 255, v175);
          memset(*(v3 + 66), 255, v175);
          v176 = *(v3 + 71);
          *(v3 + 72) = 0;
          v13 = v235;
          if (v170 < 1)
          {
            goto LABEL_237;
          }

          if (v102 == 2)
          {
            LODWORD(v177) = 0;
            for (i = 0; i < v170; i += v173)
            {
              while (1)
              {
                *v176 = i;
                *(v176 + 4) = 0;
                *(v176 + 8) = 0;
                *(v176 + 12) = 2;
                if (!v228)
                {
                  break;
                }

                *(v176 + 16) = i;
                *(v176 + 20) = 1;
                *(v176 + 28) = 2;
                v176 += 32;
                LODWORD(v177) = v177 + 2;
                i += v173;
                if (i >= v170)
                {
                  goto LABEL_232;
                }
              }

              v176 += 16;
              LODWORD(v177) = v177 + 1;
            }

LABEL_232:
            for (j = 0; j < v170; j += v173)
            {
              while (1)
              {
                *v176 = j;
                *(v176 + 4) = 0x100000000;
                *(v176 + 12) = 2;
                if (!v228)
                {
                  break;
                }

                *(v176 + 16) = j;
                *(v176 + 20) = 0x100000001;
                *(v176 + 28) = 2;
                v176 += 32;
                LODWORD(v177) = v177 + 2;
                j += v173;
                if (j >= v170)
                {
                  goto LABEL_236;
                }
              }

              v176 += 16;
              LODWORD(v177) = v177 + 1;
            }

LABEL_236:
            v3[144] = v177;
LABEL_237:
            v2 = a1;
            LODWORD(v7) = v221;
            LODWORD(v6) = v214;
            if (v230 >= 1)
            {
              v180 = v230 + 1;
              v181 = 8800 * v230 - 8800;
              v182 = 456 * v230 - 24;
              do
              {
                v183 = (*(v3 + 8) + v182);
                v184 = *(v3 + 68) + v181;
                *v183 = __lenc;
                v183[1] = v184;
                *v184 = *(v5 + 232) + 1248;
                *(v184 + 8) = v5;
                *(v184 + 7840) = a1 + 86480;
                v185 = *(a1 + 86528);
                *(v184 + 32) = *(a1 + 86512);
                *(v184 + 48) = v185;
                *(v184 + 20) = *(a1 + 86500);
                v186 = *(a1 + 89120);
                *(v184 + 2656) = *(a1 + 89136);
                *(v184 + 2640) = v186;
                *(v184 + 2628) = *(a1 + 89108);
                v187 = *(a1 + 91728);
                *(v184 + 5264) = *(a1 + 91744);
                *(v184 + 5248) = v187;
                *(v184 + 5236) = *(a1 + 91716);
                --v180;
                v181 -= 8800;
                v182 -= 456;
              }

              while (v180 > 1);
            }

            goto LABEL_136;
          }

          if (!v228)
          {
            if (v170 <= v173)
            {
              v191 = v173;
            }

            else
            {
              v191 = v170;
            }

            v177 = (v191 - 1) >> sizea;
            v192 = v177 + 1;
            v190 = v226;
            if (v226)
            {
              if (v177)
              {
                v193 = 0;
                LODWORD(v177) = 0;
                v194 = 0;
                v195 = 32 * (v192 & 0x1FFFFFFFELL);
                v189 = v176 + v195;
                v196 = (v192 & 0xFFFFFFFE) << sizea;
                do
                {
                  v197 = v176 + v193;
                  *v197 = v194 << sizea;
                  v198 = (v194 << sizea) + v173;
                  *(v197 + 4) = 0;
                  *(v197 + 36) = 0;
                  *(v197 + 12) = v102;
                  *(v197 + 16) = v194 << sizea;
                  *(v197 + 44) = v102;
                  *(v197 + 48) = v198;
                  *(v197 + 20) = 2;
                  *(v197 + 52) = 2;
                  v194 += 2;
                  *(v197 + 28) = v102;
                  *(v197 + 32) = v198;
                  LODWORD(v177) = v177 + 4;
                  v193 += 64;
                  *(v197 + 60) = v102;
                }

                while (v195 != v193);
                if (v192 == (v192 & 0x1FFFFFFFELL))
                {
                  goto LABEL_265;
                }
              }

              else
              {
                v196 = 0;
                v189 = v176;
              }

              do
              {
                *v189 = v196;
                *(v189 + 4) = 0;
                *(v189 + 8) = 0;
                *(v189 + 12) = v102;
                *(v189 + 16) = v196;
                *(v189 + 20) = 2;
                *(v189 + 28) = v102;
                v189 += 32;
                LODWORD(v177) = v177 + 2;
                v196 += v173;
              }

              while (v196 < v170);
              goto LABEL_265;
            }

            if (v177 > 6)
            {
              v189 = v176 + 16 * (v192 & 0x1FFFFFFF8);
              v199 = (v192 & 0xFFFFFFF8) << sizea;
              v200 = vmulq_s32(vdupq_n_s32(v173), xmmword_273B90830);
              v201 = vdupq_n_s32(4 << sizea);
              v202 = vdupq_n_s32(v102);
              v203 = 0uLL;
              v204 = (v176 + 64);
              v205.i64[0] = 0x100000001;
              v205.i64[1] = 0x100000001;
              v206 = v192 & 0x1FFFFFFF8;
              v207 = 0u;
              v208 = 0u;
              do
              {
                v209 = 0uLL;
                v244.val[0] = vaddq_s32(v200, v201);
                v244.val[1] = 0uLL;
                v244.val[2] = 0uLL;
                v244.val[3] = v202;
                v210 = v204 - 16;
                vst4q_f32(v210, *v200.i8);
                vst4q_f32(v204, v244);
                v207 = vaddq_s32(v207, v205);
                v208 = vaddq_s32(v208, v205);
                v204 += 32;
                v200 = vaddq_s32(v244.val[0], v201);
                v206 -= 8;
              }

              while (v206);
              LODWORD(v177) = vaddvq_s32(vpaddq_s32(v207, v208));
              if (v192 == (v192 & 0x1FFFFFFF8))
              {
                goto LABEL_265;
              }
            }

            else
            {
              LODWORD(v177) = 0;
              v199 = 0;
              v189 = v176;
            }

            do
            {
              *v189 = v199;
              *(v189 + 4) = 0;
              *(v189 + 8) = 0;
              *(v189 + 12) = v102;
              v189 += 16;
              LODWORD(v177) = v177 + 1;
              v199 += v173;
            }

            while (v199 < v170);
            goto LABEL_265;
          }

          LODWORD(v177) = 0;
          v188 = 0;
          v189 = v176;
          v190 = v226;
          do
          {
            while (1)
            {
              *v189 = v188;
              *(v189 + 4) = 0;
              *(v189 + 8) = 0;
              *(v189 + 12) = v102;
              *(v189 + 16) = v188;
              *(v189 + 20) = 1;
              *(v189 + 28) = v102;
              if (!v226)
              {
                break;
              }

              *(v189 + 32) = v188;
              *(v189 + 36) = 2;
              *(v189 + 44) = v102;
              v189 += 48;
              LODWORD(v177) = v177 + 3;
              v188 += v173;
              if (v188 >= v170)
              {
                goto LABEL_265;
              }
            }

            v189 += 32;
            LODWORD(v177) = v177 + 2;
            v188 += v173;
          }

          while (v188 < v170);
LABEL_265:
          v211 = 0;
          while (2)
          {
            *v189 = v211;
            *(v189 + 4) = 0x100000000;
            *(v189 + 12) = v102;
            if (v228)
            {
              *(v189 + 16) = v211;
              *(v189 + 20) = 0x100000001;
              *(v189 + 28) = v102;
              v189 += 32;
              LODWORD(v177) = v177 + 2;
              if (v190)
              {
                goto LABEL_266;
              }
            }

            else
            {
              v189 += 16;
              LODWORD(v177) = v177 + 1;
              if (v190)
              {
LABEL_266:
                *v189 = v211;
                *(v189 + 4) = 0x100000002;
                *(v189 + 12) = v102;
                v189 += 16;
                LODWORD(v177) = v177 + 1;
              }
            }

            v211 += v173;
            if (v211 >= v170)
            {
              goto LABEL_236;
            }

            continue;
          }
        }
      }
    }
  }

LABEL_136:
  av1_init_tile_data(v2);
  *&v103 = -1;
  *(&v103 + 1) = -1;
  *v90[28].i8 = v103;
  *v90[30].i8 = v103;
  *v90[24].i8 = v103;
  *v90[26].i8 = v103;
  *v90[20].i8 = v103;
  *v90[22].i8 = v103;
  *v90[16].i8 = v103;
  *v90[18].i8 = v103;
  *v90[12].i8 = v103;
  *v90[14].i8 = v103;
  *v90[8].i8 = v103;
  *v90[10].i8 = v103;
  *v90[4].i8 = v103;
  *v90[6].i8 = v103;
  *v90->i8 = v103;
  *v90[2].i8 = v103;
  bzero(*(v3 + 44), 4 * v217);
  *(v3 + 364) = 0;
  if (v7 >= 1 && v6 >= 1)
  {
    v104 = v13;
    v105 = 0;
    v106 = 0;
    __lena = 4 * v104;
    v236 = 23824 * v6;
    v107 = 21304;
    do
    {
      v108 = 0;
      do
      {
        v109 = *v238;
        v110 = *v238 + v105 + v108;
        memset(*(v110 + 23784), 255, __lena);
        v111 = v109 + v107 + v108;
        *(v111 + 2500) = *v110;
        *(v111 + 2504) = 0;
        if ((*v5 & 0xFD) != 0 || *(v5 + 495) != 1)
        {
          v112 = 0;
        }

        else
        {
          v112 = *(v5 + 496);
          if (*(v5 + 496))
          {
            if (*(*(v4 + 1656) + 28) == 15)
            {
              v112 = 2;
            }

            else
            {
              v112 = 4;
            }
          }
        }

        v113 = (v109 + v107 + v108);
        v113[623] = v112;
        *v113 = 0;
        v113[16] = 0;
        v114 = v109 + v105 + v108;
        v113[44] = 0;
        v113[72] = 0;
        v113[100] = 0;
        v113[128] = 0;
        v113[156] = 0;
        v113[184] = 0;
        v113[212] = 0;
        v113[240] = 0;
        v113[268] = 0;
        v113[296] = 0;
        v113[324] = 0;
        v113[352] = 0;
        v113[380] = 0;
        v113[408] = 0;
        v113[436] = 0;
        v113[464] = 0;
        v113[492] = 0;
        v113[520] = 0;
        v113[548] = 0;
        v113[576] = 0;
        v113[604] = 0;
        *(v114 + 21404) = 0u;
        *(v114 + 21504) = 0u;
        *(v114 + 21516) = 0u;
        *(v114 + 21616) = 0u;
        *(v114 + 21628) = 0u;
        *(v114 + 21728) = 0u;
        *(v114 + 21740) = 0u;
        *(v114 + 21840) = 0u;
        *(v114 + 21852) = 0u;
        *(v114 + 21952) = 0u;
        *(v114 + 21964) = 0u;
        *(v114 + 22076) = 0u;
        *(v114 + 22176) = 0u;
        *(v114 + 22188) = 0u;
        *(v114 + 22288) = 0u;
        *(v114 + 22300) = 0u;
        *(v114 + 22400) = 0u;
        *(v114 + 22412) = 0u;
        *(v114 + 22512) = 0u;
        *(v114 + 22524) = 0u;
        *(v114 + 22624) = 0u;
        *(v114 + 22636) = 0u;
        *(v114 + 22748) = 0u;
        *(v114 + 22860) = 0u;
        *(v114 + 22972) = 0u;
        *(v114 + 23084) = 0u;
        *(v114 + 23196) = 0u;
        *(v114 + 21392) = 0u;
        *(v114 + 21376) = 0u;
        *(v114 + 21488) = 0u;
        *(v114 + 21600) = 0u;
        *(v114 + 21712) = 0u;
        *(v114 + 21824) = 0u;
        *(v114 + 21936) = 0u;
        *(v114 + 22064) = 0u;
        *(v114 + 22048) = 0u;
        *(v114 + 22160) = 0u;
        *(v114 + 22272) = 0u;
        *(v114 + 22384) = 0u;
        *(v114 + 22496) = 0u;
        *(v114 + 22608) = 0u;
        *(v114 + 22736) = 0u;
        *(v114 + 22720) = 0u;
        *(v114 + 22848) = 0u;
        *(v114 + 22832) = 0u;
        *(v114 + 22960) = 0u;
        *(v114 + 22944) = 0u;
        *(v114 + 23072) = 0u;
        *(v114 + 23056) = 0u;
        *(v114 + 23184) = 0u;
        *(v114 + 23168) = 0u;
        *(v114 + 23280) = 0u;
        *(v114 + 23296) = 0u;
        *(v114 + 23308) = 0u;
        *(v114 + 23420) = 0u;
        *(v114 + 23408) = 0u;
        *(v114 + 23392) = 0u;
        *(v114 + 23532) = 0u;
        *(v114 + 23520) = 0u;
        *(v114 + 23504) = 0u;
        *(v114 + 23644) = 0u;
        *(v114 + 23632) = 0u;
        *(v114 + 23616) = 0u;
        *(v114 + 23760) = 0;
        *(v114 + 23744) = 0u;
        *(v114 + 23728) = 0u;
        v115 = *(v114 + 8);
        v116 = *(v4 + 1656);
        v117 = *(v116 + 77);
        v118 = (*(v114 + 12) - v115 + ~(-1 << *(v116 + 36))) & (-1 << *(v116 + 36));
        v119 = *(v116 + 96);
        bzero((*(*(v4 + 2288) + 8 * v106) + v115), v118);
        if (!v117)
        {
          v120 = *(*(v4 + 2296) + 8 * v106);
          if (v120 && *(*(v4 + 2304) + 8 * v106))
          {
            v121 = v118 >> v119;
            v122 = v115 >> v119;
            v123 = v121;
            bzero((v120 + v122), v121);
            bzero((*(*(v4 + 2304) + 8 * v106) + v122), v123);
          }

          else
          {
            aom_internal_error(*v241, 7, "Invalid value of planes");
          }
        }

        bzero((*(*(v4 + 2280) + 8 * v106) + v115), v118);
        memset((*(*(v4 + 2312) + 8 * v106) + v115), 64, v118);
        v108 += 23824;
      }

      while (v236 != v108);
      ++v106;
      v105 += v236;
      v107 += v236;
    }

    while (v106 != v221);
  }

  v124 = v230;
  if (v230 < 1)
  {
    prepare_enc_workers(a1, enc_row_mt_worker_hook_0, v230);
    v128 = v218;
  }

  else
  {
    v125 = 0;
    v126 = 627776;
    v127 = v230;
    v128 = v218;
    do
    {
      *(a1 + v126) = v125;
      if (v125 + 1 == v215)
      {
        v125 = 0;
      }

      else
      {
        ++v125;
      }

      v126 += 4;
      --v127;
    }

    while (v127);
    prepare_enc_workers(a1, enc_row_mt_worker_hook_0, v230);
    v129 = v230 - 1;
    v130 = (*(v218 + 7) + 56 * (v230 - 1));
    v130[12] = 0;
    if (v230 != 1)
    {
      v131 = 56 * v230 - 64;
      do
      {
        off_28100B668(v130);
        v132 = *(v218 + 7);
        *(v132 + v131) = 0;
        v131 -= 56;
        --v129;
        v130 = (v132 + 56 * v129);
      }

      while (v129);
      v130 = (v132 + v131 + 8);
      v124 = v230;
    }

    off_28100B670(v130);
  }

  v133 = *(v128 + 7);
  v134 = *(v133 + 48);
  memset(__dst, 0, 404);
  if (v134)
  {
    memcpy(__dst, (*(v133 + 32) + 24), 0x194uLL);
  }

  if (v124 >= 2)
  {
    v135 = v124 + 1;
    v136 = 56 * v124 - 24;
    do
    {
      v137 = *(v128 + 7);
      off_28100B660[0]();
      if (!v138)
      {
        memcpy(__dst, (*(v137 + v136) + 24), 0x194uLL);
        v134 = 1;
      }

      --v135;
      v136 -= 56;
    }

    while (v135 > 2);
  }

  if (v134)
  {
    v139 = *(v5 + 48);
    if (DWORD1(__dst[0]))
    {
      aom_internal_error(v139, __dst[0], "%s");
    }

    else
    {
      aom_internal_error(v139, __dst[0], 0);
    }
  }

  *(*(*(v133 + 32) + 8) + 11152) = *(v5 + 48);
  v140 = a1;
  v141 = v241;
  if (*(v4 + 1352))
  {
    v142 = *(v4 + 1684);
    if (v142 >= 1)
    {
      v143 = *(v4 + 1680);
      if (v143 >= 1)
      {
        __lenb = 0;
        v144 = *(v4 + 1656);
        v145 = *(v144 + 32);
        v146 = *(v144 + 77);
        if (*(v144 + 77))
        {
          v147 = 2;
        }

        else
        {
          v147 = 4;
        }

        while (2)
        {
          if (v143 < 1)
          {
            goto LABEL_184;
          }

          v148 = 0;
LABEL_189:
          v237 = v148;
          v149 = (*v238 + 23824 * (v148 + v143 * __lenb));
          v150 = *v149;
          if (*v149 >= v149[1])
          {
LABEL_188:
            v148 = v237 + 1;
            if (v237 + 1 >= v143)
            {
              v142 = *(v4 + 1684);
LABEL_184:
              if (++__lenb >= v142)
              {
                goto LABEL_220;
              }

              continue;
            }

            goto LABEL_189;
          }

          break;
        }

        while (1)
        {
          if (v150 == *v149)
          {
            v151 = *(*(v4 + 1656) + 77);
            *(v141 + 16) = 0;
            if (v151)
            {
              v152 = 2;
            }

            else
            {
              v152 = 4;
            }

            bzero(v241 + 17, v152);
            v140 = a1;
            v141 = v241;
          }

          v153 = v149[2];
          if (v153 < v149[3])
          {
            break;
          }

LABEL_191:
          v150 += v145;
          if (v150 >= v149[1])
          {
            v143 = *(v4 + 1680);
            goto LABEL_188;
          }
        }

        while (2)
        {
          while (1)
          {
            v154 = *(*(v5 + 568) + 8 * (v153 + *(v5 + 580) * v150));
            if (v154[144] != 1 || *v154 != *(*(v4 + 1656) + 28))
            {
              break;
            }

            v155 = v154 + 163;
            if (v146 || (v154 - v140 - 97070) < 0x20)
            {
              v156 = v241 + 17;
              v157 = v147;
              do
              {
                v158 = *v156++;
                *v155 = v158;
                v155 = (v155 + 1);
                --v157;
              }

              while (v157);
            }

            else
            {
              v167 = v147 & 4;
              v168 = (v241 + 17);
              do
              {
                v169 = *v168++;
                *v155++ = v169;
                v167 -= 4;
              }

              while (v167);
            }

            v154[162] = *(v141 + 16);
            v153 += v145;
            if (v153 >= v149[3])
            {
              goto LABEL_191;
            }
          }

          if (!*(v4 + 1360))
          {
            *(v141 + 16) = v154[162];
            goto LABEL_200;
          }

          v159 = (v154 + 163);
          if (v146)
          {
            v163 = v241 + 17;
            v164 = v147;
          }

          else
          {
            v160 = a1 + 97070 - v154;
            v161 = v147 & 4;
            v162 = (v241 + 17);
            v163 = v241 + 17;
            v164 = v147;
            if (v160 >= 0x20)
            {
              do
              {
                v165 = *v159;
                v159 += 4;
                *v162++ = v165;
                v161 -= 4;
              }

              while (v161);
              goto LABEL_200;
            }
          }

          do
          {
            v166 = *v159++;
            *v163++ = v166;
            --v164;
          }

          while (v164);
LABEL_200:
          v153 += v145;
          if (v153 >= v149[3])
          {
            goto LABEL_191;
          }

          continue;
        }
      }
    }
  }

LABEL_220:
  accumulate_counters_enc_workers(v140, v230);
}