double sub_245B46F34(uint64_t a1)
{
  *a1 = xmmword_245B5F210;
  *(a1 + 16) = 0xBFF0000000000000;
  *(a1 + 24) = 0;
  *(a1 + 32) = 0u;
  *(a1 + 48) = -1082130432;
  *(a1 + 52) = 1;
  *(a1 + 56) = 1;
  *(a1 + 64) = 0u;
  *(a1 + 80) = 0xBFF0000000000000;
  *(a1 + 88) = 0;
  *(a1 + 96) = 0;
  *(a1 + 120) = 0u;
  *(a1 + 136) = 0u;
  *(a1 + 104) = 0u;
  *(a1 + 152) = 0u;
  *(a1 + 124) = -1;
  *(a1 + 136) = -1;
  *(a1 + 184) = 0u;
  *(a1 + 200) = 0u;
  *(a1 + 216) = 0u;
  *(a1 + 232) = 0u;
  *(a1 + 248) = 0u;
  *(a1 + 168) = 0u;
  *(a1 + 264) = 0u;
  *(a1 + 280) = 0u;
  *(a1 + 280) = 0xBFF0000000000000;
  *(a1 + 296) = 0u;
  *(a1 + 312) = -1;
  *(a1 + 332) = 0;
  *(a1 + 316) = 0u;
  *(a1 + 336) = xmmword_245B5F210;
  *(a1 + 352) = 1;
  *(a1 + 356) = 0;
  *(a1 + 376) = 0;
  *(a1 + 360) = 0u;
  __asm { FMOV            V0.2D, #-1.0 }

  *(a1 + 384) = _Q0;
  *(a1 + 400) = xmmword_245B5F220;
  *(a1 + 416) = 0xBFF0000000000000;
  *(a1 + 424) = 0;
  *(a1 + 432) = 0u;
  *(a1 + 448) = 0xBFF0000000000000;
  *(a1 + 456) = 0;
  *(a1 + 464) = xmmword_245B5F220;
  *(a1 + 480) = _Q0;
  *(a1 + 496) = xmmword_245B5F220;
  *(a1 + 512) = 0;
  *(a1 + 536) = 0;
  *(a1 + 520) = 0u;
  *(a1 + 544) = xmmword_245B5F220;
  *(a1 + 560) = 0;
  *(a1 + 568) = -1;
  *(a1 + 576) = 0;
  *(a1 + 584) = 0xBFF0000000000000;
  *(a1 + 592) = _Q0;
  *(a1 + 608) = 0;
  *(a1 + 610) = 0;
  result = 0.0;
  *(a1 + 612) = xmmword_245B5F230;
  *(a1 + 633) = 0;
  *(a1 + 628) = 0;
  return result;
}

double sub_245B47060@<D0>(uint64_t a1@<X0>, _OWORD *a2@<X8>)
{
  memcpy(a2, &unk_245B5F240, 0x230uLL);
  v4 = *(a1 + 16);
  *a2 = *a1;
  a2[1] = v4;
  *&v4 = *(a1 + 40);
  *(a2 + 4) = *(a1 + 32);
  *(a2 + 5) = v4;
  *(a2 + 12) = *(a1 + 48);
  *(a2 + 52) = *(a1 + 52);
  *(a2 + 14) = *(a1 + 56);
  a2[4] = *(a1 + 64);
  *&v4 = *(a1 + 88);
  *(a2 + 10) = *(a1 + 80);
  *(a2 + 11) = v4;
  *(a2 + 96) = *(a1 + 96);
  *(a2 + 104) = *(a1 + 104);
  *(a2 + 120) = *(a1 + 120);
  *(a2 + 136) = *(a1 + 136);
  *(a2 + 152) = *(a1 + 152);
  v5 = *(a1 + 280);
  *(a2 + 264) = *(a1 + 264);
  *(a2 + 280) = v5;
  *(a2 + 248) = *(a1 + 248);
  *(a2 + 232) = *(a1 + 232);
  *(a2 + 216) = *(a1 + 216);
  *(a2 + 200) = *(a1 + 200);
  *(a2 + 184) = *(a1 + 184);
  *(a2 + 168) = *(a1 + 168);
  *(a2 + 296) = *(a1 + 296);
  *(a2 + 78) = *(a1 + 312);
  *(a2 + 79) = *(a1 + 316);
  v6 = *(a1 + 336);
  a2[20] = *(a1 + 320);
  a2[21] = v6;
  *(a2 + 88) = *(a1 + 352);
  *(a2 + 356) = *(a1 + 356);
  *(a2 + 45) = *(a1 + 360);
  v7 = *(a1 + 384);
  a2[23] = *(a1 + 368);
  a2[24] = v7;
  a2[25] = *(a1 + 400);
  *(a2 + 52) = *(a1 + 416);
  *(a2 + 424) = *(a1 + 424);
  *(a2 + 425) = *(a1 + 425);
  a2[27] = *(a1 + 432);
  *(a2 + 56) = *(a1 + 448);
  *(a2 + 114) = *(a1 + 456);
  v8 = *(a1 + 480);
  a2[29] = *(a1 + 464);
  a2[30] = v8;
  a2[31] = *(a1 + 496);
  v9 = *(a1 + 576);
  if (v9 == 1)
  {
    v10 = 1;
  }

  else
  {
    v10 = 2 * (v9 == 2);
  }

  *(a2 + 128) = v10;
  *(a2 + 65) = *(a1 + 584);
  *(a2 + 66) = *(a1 + 592);
  result = *(a1 + 616);
  *(a2 + 67) = result;
  *(a2 + 68) = *(a1 + 624);
  *(a2 + 552) = *(a1 + 640);
  return result;
}

void sub_245B4720C(std::__shared_weak_count *a1)
{
  if (!atomic_fetch_add(&a1->__shared_owners_, 0xFFFFFFFFFFFFFFFFLL))
  {
    (a1->__on_zero_shared)(a1);

    std::__shared_weak_count::__release_weak(a1);
  }
}

void sub_245B47278(const char *a1)
{
  exception = __cxa_allocate_exception(0x10uLL);
  sub_245B472D4(exception, a1);
  __cxa_throw(exception, off_278E8F8A0, MEMORY[0x277D825F0]);
}

std::logic_error *sub_245B472D4(std::logic_error *a1, const char *a2)
{
  result = std::logic_error::logic_error(a1, a2);
  result->__vftable = (MEMORY[0x277D828E0] + 16);
  return result;
}

void sub_245B47308(uint64_t a1, uint64_t a2)
{
  sub_245B474C4(a1 + 8, a2);
  v3 = *(a1 + 16);
  v4 = *(a1 + 24);
  v5 = *(a1 + 32);
  v6.i64[0] = *(a1 + 40);
  v7 = v3 * *v6.i64;
  v8 = v4 * *v6.i64;
  v9 = v5 * *v6.i64;
  v31 = v6;
  *v6.i64 = *v6.i64 * *v6.i64;
  v10 = v3 * v4 + v3 * v4;
  *(a1 + 64) = v3 * v3 - v4 * v4 - v5 * v5 + *v6.i64;
  *(a1 + 72) = v10 - v9 - v9;
  v11 = v3 * v5 + v3 * v5;
  *(a1 + 80) = v8 + v11 + v8;
  *(a1 + 88) = v9 + v10 + v9;
  v12 = v4 * v5 + v4 * v5;
  *(a1 + 96) = v4 * v4 - v3 * v3 - v5 * v5 + *v6.i64;
  *(a1 + 104) = v12 - v7 - v7;
  *(a1 + 112) = v11 - v8 - v8;
  *(a1 + 120) = v7 + v12 + v7;
  *(a1 + 128) = *v6.i64 + v5 * v5 - v3 * v3 - v4 * v4;
  v13 = sqrt(v4 * v4 + v3 * v3 + v5 * v5);
  if (v13 <= 1.0)
  {
    v14 = v13;
  }

  else
  {
    v14 = 1.0;
  }

  v15 = asin(v14);
  if (v15 == 0.0)
  {
    *(a1 + 152) = 0x3FF0000000000000;
    *(a1 + 160) = 0;
    *(a1 + 168) = 0;
    *(a1 + 176) = 0;
  }

  else
  {
    v17.f64[0] = NAN;
    v17.f64[1] = NAN;
    v16.i64[0] = 1.0;
    *&v18 = vbslq_s8(vnegq_f64(v17), v16, v31).u64[0];
    v19 = -v3;
    v20 = -v4;
    v21 = -v5;
    v22 = fabs(*v31.i64);
    v30 = v18;
    if (fabs(v15) >= 2.22044605e-16)
    {
      *(a1 + 152) = v18 * (v19 / v14);
      *(a1 + 160) = v18 * (v20 / v14);
      v32 = v21 / v14;
      v15 = v14;
    }

    else
    {
      *(a1 + 152) = v18 * (v19 / v15);
      *(a1 + 160) = v18 * (v20 / v15);
      v32 = v21 / v15;
    }

    v23 = atan2(v15, v22);
    v24.f64[0] = v30;
    v24.f64[1] = v23;
    __asm { FMOV            V0.2D, #2.0 }

    _Q0.f64[0] = v32;
    *(a1 + 168) = vmulq_f64(v24, _Q0);
  }
}

void sub_245B474C4(uint64_t a1, uint64_t a2)
{
  sub_245B4BF18((a2 + 8), (a1 + 8));
  v3 = *(a1 + 8);
  v4 = vmulq_f64(v3, v3);
  v5 = *(a1 + 24);
  v6 = *(a1 + 32);
  v7 = sqrt(v4.f64[1] + v3.f64[0] * v3.f64[0] + v5 * v5 + v6 * v6);
  if (v7 == 0.0)
  {
    *(a1 + 8) = 0;
    *(a1 + 16) = 0;
    v8 = 1.0;
    *(a1 + 24) = 0;
  }

  else
  {
    if (v7 == 1.0)
    {
      return;
    }

    *(a1 + 8) = vdivq_f64(v3, vdupq_lane_s64(*&v7, 0));
    *(a1 + 24) = v5 / v7;
    v8 = v6 / v7;
  }

  *(a1 + 32) = v8;
}

void sub_245B47550(uint64_t a1, uint64_t a2)
{
  v4 = *(a2 + 40);
  v5 = *(a2 + 24);
  *(a1 + 16) = *(a2 + 8);
  *(a1 + 32) = v5;
  *(a1 + 48) = v4;
  v7 = *(a1 + 16);
  v6 = *(a1 + 24);
  v8 = v6 * v6;
  v9 = *(a1 + 32);
  v2.i64[0] = *(a1 + 40);
  v10 = v6 * v6 + v7 * v7 + v9 * v9;
  v11 = sqrt(v10 + *v2.i64 * *v2.i64);
  if (v11 == 0.0)
  {
    *(a1 + 16) = 0;
    *(a1 + 24) = 0;
    v2.i64[0] = 1.0;
    v9 = 0.0;
    v6 = 0.0;
    v7 = 0.0;
    *(a1 + 32) = 0;
  }

  else
  {
    if (v11 == 1.0)
    {
      goto LABEL_6;
    }

    v7 = v7 / v11;
    v6 = v6 / v11;
    *(a1 + 16) = v7;
    *(a1 + 24) = v6;
    v9 = v9 / v11;
    *(a1 + 32) = v9;
    *v2.i64 = *v2.i64 / v11;
  }

  *(a1 + 40) = v2.i64[0];
  v8 = v6 * v6;
  v10 = v6 * v6 + v7 * v7 + v9 * v9;
LABEL_6:
  v12 = v7 * *v2.i64;
  v13 = v6 * *v2.i64;
  v14 = v9 * *v2.i64;
  v37 = v2;
  v15 = *v2.i64 * *v2.i64;
  v16 = v7 * v6 + v7 * v6;
  *(a1 + 64) = v7 * v7 - v8 - v9 * v9 + v15;
  *(a1 + 72) = v16 - v14 - v14;
  v17 = v7 * v9 + v7 * v9;
  *(a1 + 80) = v13 + v17 + v13;
  *(a1 + 88) = v14 + v16 + v14;
  v18 = v6 * v9 + v6 * v9;
  *(a1 + 96) = v8 - v7 * v7 - v9 * v9 + v15;
  *(a1 + 104) = v18 - v12 - v12;
  *(a1 + 112) = v17 - v13 - v13;
  *(a1 + 120) = v12 + v18 + v12;
  *(a1 + 128) = v15 + v9 * v9 - v7 * v7 - v8;
  v19 = sqrt(v10);
  if (v19 <= 1.0)
  {
    v20 = v19;
  }

  else
  {
    v20 = 1.0;
  }

  v21 = asin(v20);
  if (v21 == 0.0)
  {
    *(a1 + 152) = 0x3FF0000000000000;
    *(a1 + 160) = 0;
    *(a1 + 168) = 0;
    *(a1 + 176) = 0;
  }

  else
  {
    v23.f64[0] = NAN;
    v23.f64[1] = NAN;
    v22.i64[0] = 1.0;
    *&v24 = vbslq_s8(vnegq_f64(v23), v22, v37).u64[0];
    v25 = -v7;
    v26 = -v6;
    v27 = -v9;
    v28 = fabs(*v37.i64);
    v36 = v24;
    if (fabs(v21) >= 2.22044605e-16)
    {
      *(a1 + 152) = v24 * (v25 / v20);
      *(a1 + 160) = v24 * (v26 / v20);
      v38 = v27 / v20;
      v21 = v20;
    }

    else
    {
      *(a1 + 152) = v24 * (v25 / v21);
      *(a1 + 160) = v24 * (v26 / v21);
      v38 = v27 / v21;
    }

    v29 = atan2(v21, v28);
    v30.f64[0] = v36;
    v30.f64[1] = v29;
    __asm { FMOV            V0.2D, #2.0 }

    _Q0.f64[0] = v38;
    *(a1 + 168) = vmulq_f64(v30, _Q0);
  }
}

void sub_245B47778(uint64_t a1, uint64_t a2, int8x16_t a3, int8x16_t a4, int8x16_t a5)
{
  a3.i64[0] = *(a2 + 32);
  if (*a3.i64 <= -3.14159265 || *a3.i64 > 3.14159265)
  {
    a5.i64[0] = 0x400921FB54442D18;
    v7.f64[0] = NAN;
    v7.f64[1] = NAN;
    v37 = a5;
    v39 = vnegq_f64(v7);
    v36 = *vbslq_s8(v39, a5, a3).i64;
    *a3.i64 = fmod(*a3.i64 + v36, 6.28318531);
    a4 = vbslq_s8(v39, v37, a3);
    if (*a3.i64 == 0.0)
    {
      a3.i64[0] = a4.i64[0];
    }

    else
    {
      *a3.i64 = *a3.i64 - v36;
    }
  }

  v8 = *a3.i64 * 0.5;
  if (v8 == 0.0)
  {
    *(a1 + 16) = 0;
    *(a1 + 24) = 0;
    *(a1 + 32) = 0;
    *(a1 + 40) = 0x3FF0000000000000;
    v9 = 0.0;
    a4.i64[0] = 1.0;
    v10 = 0.0;
    v11 = 0.0;
  }

  else
  {
    if (fabs(v8) >= 2.22044605e-16)
    {
      v12 = __sincos_stret(v8);
      *a4.i64 = v12.__cosval;
      v11 = -(*(a2 + 8) * v12.__sinval);
      *(a1 + 16) = v11;
      v10 = -(*(a2 + 16) * v12.__sinval);
      *(a1 + 24) = v10;
      v9 = -(*(a2 + 24) * v12.__sinval);
    }

    else
    {
      v11 = -(*(a2 + 8) * v8);
      *(a1 + 16) = v11;
      v10 = -(*(a2 + 16) * v8);
      *(a1 + 24) = v10;
      v9 = -(*(a2 + 24) * v8);
      *a4.i64 = sqrt(1.0 - (v10 * v10 + v11 * v11 + v9 * v9));
    }

    *(a1 + 32) = v9;
    *(a1 + 40) = a4.i64[0];
  }

  v13 = v10 * v10;
  v14 = v10 * v10 + v11 * v11 + v9 * v9;
  v15 = sqrt(v14 + *a4.i64 * *a4.i64);
  if (v15 == 0.0)
  {
    *(a1 + 16) = 0;
    *(a1 + 24) = 0;
    a4.i64[0] = 1.0;
    v9 = 0.0;
    v10 = 0.0;
    v11 = 0.0;
    *(a1 + 32) = 0;
  }

  else
  {
    if (v15 == 1.0)
    {
      goto LABEL_17;
    }

    v11 = v11 / v15;
    v10 = v10 / v15;
    *(a1 + 16) = v11;
    *(a1 + 24) = v10;
    v9 = v9 / v15;
    *(a1 + 32) = v9;
    *a4.i64 = *a4.i64 / v15;
  }

  *(a1 + 40) = a4.i64[0];
  v13 = v10 * v10;
  v14 = v10 * v10 + v11 * v11 + v9 * v9;
LABEL_17:
  v40 = a4;
  v16 = v11 * v10 + v11 * v10;
  *(a1 + 64) = v11 * v11 - v13 - v9 * v9 + *a4.i64 * *a4.i64;
  *(a1 + 72) = v16 - v9 * *a4.i64 - v9 * *a4.i64;
  v17 = v11 * v9 + v11 * v9;
  *(a1 + 80) = v10 * *a4.i64 + v17 + v10 * *a4.i64;
  *(a1 + 88) = v9 * *a4.i64 + v16 + v9 * *a4.i64;
  v18 = v10 * v9 + v10 * v9;
  *(a1 + 96) = v13 - v11 * v11 - v9 * v9 + *a4.i64 * *a4.i64;
  *(a1 + 104) = v18 - v11 * *a4.i64 - v11 * *a4.i64;
  *(a1 + 112) = v17 - v10 * *a4.i64 - v10 * *a4.i64;
  *(a1 + 120) = v11 * *a4.i64 + v18 + v11 * *a4.i64;
  *(a1 + 128) = *a4.i64 * *a4.i64 + v9 * v9 - v11 * v11 - v13;
  v19 = sqrt(v14);
  if (v19 <= 1.0)
  {
    v20 = v19;
  }

  else
  {
    v20 = 1.0;
  }

  v21 = asin(v20);
  if (v21 == 0.0)
  {
    *(a1 + 152) = 0x3FF0000000000000;
    *(a1 + 160) = 0;
    *(a1 + 168) = 0;
    *(a1 + 176) = 0;
  }

  else
  {
    v23.f64[0] = NAN;
    v23.f64[1] = NAN;
    v22.i64[0] = 1.0;
    *&v24 = vbslq_s8(vnegq_f64(v23), v22, v40).u64[0];
    v25 = -v11;
    v26 = -v10;
    v27 = -v9;
    v28 = fabs(*v40.i64);
    v38 = v24;
    if (fabs(v21) >= 2.22044605e-16)
    {
      *(a1 + 152) = v24 * (v25 / v20);
      *(a1 + 160) = v24 * (v26 / v20);
      v41 = v27 / v20;
      v21 = v20;
    }

    else
    {
      *(a1 + 152) = v24 * (v25 / v21);
      *(a1 + 160) = v24 * (v26 / v21);
      v41 = v27 / v21;
    }

    v29 = atan2(v21, v28);
    v30.f64[0] = v38;
    v30.f64[1] = v29;
    __asm { FMOV            V0.2D, #2.0 }

    _Q0.f64[0] = v41;
    *(a1 + 168) = vmulq_f64(v30, _Q0);
  }
}

BOOL sub_245B47A94(_BYTE *a1)
{
  v1 = 152;
  while ((*&a1[v1] & 0x7FFFFFFFFFFFFFFFuLL) <= 0x7FEFFFFFFFFFFFFFLL)
  {
    v1 += 8;
    if (v1 == 184)
    {
      v2 = 200;
      while ((*&a1[v2] & 0x7FFFFFFFFFFFFFFFuLL) <= 0x7FEFFFFFFFFFFFFFLL)
      {
        v2 += 8;
        if (v2 == 224)
        {
          if (*a1)
          {
            return 1;
          }

          v4 = 0;
          v5 = a1 + 240;
          while ((*&v5[v4] & 0x7FFFFFFFFFFFFFFFuLL) <= 0x7FEFFFFFFFFFFFFFLL)
          {
            v4 += 8;
            if (v4 == 288)
            {
              v6 = 0;
              do
              {
                v7 = *&v5[v6];
                result = v7 >= 0.0;
                if (v7 < 0.0)
                {
                  break;
                }

                v8 = v6 == 280;
                v6 += 56;
              }

              while (!v8);
              return result;
            }
          }

          return 0;
        }
      }

      return 0;
    }
  }

  return 0;
}

void sub_245B47B44(uint64_t a1)
{
  if (*a1)
  {
    LOBYTE(v12) = 1;
    v13[0] = vdupq_n_s64(3uLL);
    v13[1] = xmmword_245B5F4B0;
    *&v13[2] = a1 + 64;
    *(&v13[2] + 1) = a1 + 136;
    sub_245B48000(&v30, &v12);
    sub_245B47308(a1, &v30);
    sub_245B48098(&v30, a1 + 56, (a1 + 192));
    *(a1 + 200) = *v31;
    *(a1 + 216) = *&v31[16];
    *(a1 + 200) = vnegq_f64(*(a1 + 200));
    *(a1 + 216) = -*(a1 + 216);
  }

  else
  {
    v49 = &unk_2858B66C8;
    v50 = *(a1 + 200);
    v51 = *(a1 + 216);
    LOBYTE(v12) = 1;
    v13[0] = vdupq_n_s64(3uLL);
    v13[1] = xmmword_245B5F4B0;
    *&v13[2] = a1 + 64;
    *(&v13[2] + 1) = a1 + 136;
    sub_245B48000(&v30, &v12);
    sub_245B47308(a1, &v30);
    sub_245B48098(&v30, a1 + 56, (a1 + 192));
    *(a1 + 200) = *v31;
    *(a1 + 216) = *&v31[16];
    *(a1 + 200) = vnegq_f64(*(a1 + 200));
    *(a1 + 216) = -*(a1 + 216);
    memset(&v31[8], 0, 32);
    v32 = 0u;
    v33 = 0u;
    v34 = 0u;
    v35 = 0u;
    v36 = 0;
    v38 = 0u;
    v39 = 0u;
    v40 = 0u;
    v41 = 0u;
    v42 = 0u;
    v43 = 0u;
    v44 = 0u;
    v45 = 0u;
    v46 = 0u;
    v47 = 0u;
    v48 = 0u;
    v37 = 0xBFF0000000000000;
    *&v33 = 0xBFF0000000000000;
    v30 = &unk_2858B6A38;
    *v31 = 0xBFF0000000000000;
    sub_245B48F00((a1 + 56), a1 + 144, &v49, &v12, 0, v2);
    *&v31[24] = v13[0];
    *&v32 = *&v13[1];
    v34 = *(&v13[1] + 8);
    *&v35 = *(&v13[2] + 1);
    v38 = v14;
    *&v39 = v15;
    v3 = *(a1 + 64);
    v13[1] = *(a1 + 80);
    v4 = *(a1 + 112);
    v13[2] = *(a1 + 96);
    v14 = v4;
    v15 = *(a1 + 128);
    v5 = 8;
    v13[0] = v3;
    do
    {
      *(&v12 + v5) = -*(&v12 + v5);
      v5 += 8;
    }

    while (v5 != 80);
    v41 = v13[0];
    *&v42 = *&v13[1];
    v44 = *(&v13[1] + 8);
    *&v45 = *(&v13[2] + 1);
    v47 = v14;
    *&v48 = v15;
    sub_245B4C0A4(&v10, 6, 6);
    cblas_dgemm_NEWLAPACK();
    v27 = 0u;
    v28 = 0u;
    memset(v13, 0, sizeof(v13));
    v14 = 0u;
    v15 = 0u;
    v16 = 0u;
    v17 = 0u;
    v18 = 0u;
    v19 = 0u;
    v20 = 0u;
    v21 = 0u;
    v22 = 0u;
    v23 = 0u;
    v24 = 0u;
    v25 = 0u;
    v26 = 0u;
    v12 = &unk_2858B6A38;
    v29 = 0;
    v7 = *&v11[24];
    v6 = *&v11[16];
    if (*&v11[16] != *&v11[24])
    {
      v8 = v13;
      do
      {
        v9 = *v6++;
        *v8++ = v9;
      }

      while (v6 != v7);
    }

    sub_245B4B1D0(&v10);
    v10 = &unk_2858B6A38;
    memset(v11, 0, sizeof(v11));
    cblas_dgemm_NEWLAPACK();
    memcpy((a1 + 240), v11, 0x128uLL);
    sub_245B48104(a1);
  }
}

double sub_245B48000(uint64_t a1, void *a2)
{
  *(a1 + 8) = 0u;
  *(a1 + 24) = 0u;
  *(a1 + 40) = 0u;
  *(a1 + 56) = 0u;
  *(a1 + 72) = 0u;
  v2 = a2[3];
  v3 = a2[4];
  v4 = a2[5];
  *(a1 + 8) = *v4;
  v5 = &v4[v2];
  *(a1 + 16) = *v5;
  v6 = &v4[2 * v2];
  *(a1 + 24) = *v6;
  *(a1 + 32) = v4[v3];
  *(a1 + 40) = v5[v3];
  *(a1 + 48) = v6[v3];
  v3 *= 16;
  *(a1 + 56) = *(v4 + v3);
  v7 = *(v5 + v3);
  *a1 = &unk_2858B6880;
  *(a1 + 64) = v7;
  result = *(v6 + v3);
  *(a1 + 72) = result;
  return result;
}

double sub_245B48098(uint64_t a1, uint64_t a2, double *a3)
{
  *a1 = &unk_2858B66C8;
  *(a1 + 32) = 0;
  v3 = a3[1];
  v4 = a3[2];
  v5 = a3[3];
  *(a1 + 8) = vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(*(a2 + 32), v4), *(a2 + 8), v3), *(a2 + 56), v5);
  result = v4 * *(a2 + 48) + *(a2 + 24) * v3 + *(a2 + 72) * v5;
  *(a1 + 24) = result;
  return result;
}

void sub_245B48104(uint64_t a1)
{
  v2 = (a1 + 240);
  v9 = &unk_2858B6A38;
  memcpy(v10, (a1 + 240), sizeof(v10));
  v3 = 0;
  v4 = &v9;
  v5 = v2;
  do
  {
    v6 = v5;
    for (i = 1; i != 7; ++i)
    {
      v8 = *v6;
      v6 += 6;
      *&v4[i] = *&v4[i] + v8;
    }

    ++v3;
    ++v5;
    v4 += 6;
  }

  while (v3 != 6);
  memcpy(v2, v10, 0x128uLL);
  v9 = 0x3FE0000000000000;
  sub_245B4C238(a1 + 232, &v9);
}

void sub_245B481D0(uint64_t a1, uint64_t a2, int a3)
{
  if (a3)
  {
    sub_245B4B210(v73, a1);
    v72[5] = 0;
    v72[0] = &unk_2858B6BF0;
    v6 = *(a2 + 32);
    v5 = *(a2 + 40);
    v7 = *(a2 + 16);
    v8 = *(a2 + 24);
    *&v72[1] = v74 * v5 + v77 * v7 - v75 * v6 + v76 * v8;
    *&v72[2] = v5 * v75 + v77 * v8 - v76 * v7 + v74 * v6;
    *&v72[3] = v5 * v76 + v77 * v6 - v74 * v8 + v75 * v7;
    *&v72[4] = v77 * v5 - v74 * v7 - v75 * v8 - v76 * v6;
    sub_245B47550(a1, v72);
    v9 = 0;
    v67 = &unk_2858B66C8;
    *(&v69 + 1) = 0;
    v10 = *(a2 + 200);
    v11 = *(a2 + 208);
    v12 = *(a2 + 216);
    v68 = vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(v80, v11), v78, v10), v82, v12);
    *&v69 = v11 * v81 + v79 * v10 + v83 * v12;
    do
    {
      *(&v67 + v9 + 8) = *(&v67 + v9 + 8) + *&v84[v9];
      v9 += 8;
    }

    while (v9 != 24);
    *(a1 + 200) = v68;
    *(a1 + 216) = v69;
    sub_245B4877C((a1 + 144), a1 + 8, v71);
    *a1 = 0;
    *(a1 + 240) = 0u;
    *(a1 + 256) = 0u;
    *(a1 + 272) = 0u;
    *(a1 + 288) = 0u;
    *(a1 + 304) = 0u;
    *(a1 + 320) = 0u;
    *(a1 + 336) = 0u;
    *(a1 + 352) = 0u;
    *(a1 + 368) = 0u;
    *(a1 + 384) = 0u;
    *(a1 + 400) = 0u;
    *(a1 + 416) = 0u;
    *(a1 + 432) = 0u;
    *(a1 + 448) = 0u;
    *(a1 + 464) = 0u;
    *(a1 + 480) = 0u;
    *(a1 + 496) = 0u;
    *(a1 + 512) = 0u;
    if ((LOBYTE(v73[0]) & 1) == 0)
    {
      sub_245B488E0(v73, a2, &v67);
      LOBYTE(v39) = 0;
      v40 = vdupq_n_s64(6uLL);
      v41 = xmmword_245B5F4C0;
      v42 = &v68;
      v43 = &v70;
      sub_245B48A9C(&v39, v44);
      v64 = 0u;
      v65 = 0u;
      v48 = 0u;
      v49 = 0u;
      v50 = 0u;
      v51 = 0u;
      v52 = 0u;
      v53 = 0u;
      v54 = 0u;
      v55 = 0u;
      v56 = 0u;
      v57 = 0u;
      v58 = 0u;
      v59 = 0u;
      v60 = 0u;
      v61 = 0u;
      v62 = 0u;
      v63 = 0u;
      v47 = &unk_2858B6A38;
      v66 = 0;
      v13 = v45;
      v14 = v46;
      if (v45 != v46)
      {
        v15 = &v48;
        do
        {
          v16 = *v13++;
          *v15 = v16;
          v15 = (v15 + 8);
        }

        while (v13 != v14);
      }

      sub_245B4B1D0(v44);
      cblas_dgemm_NEWLAPACK();
    }

    if ((*a2 & 1) == 0)
    {
      sub_245B48B74(v73, a2, &v67);
      LOBYTE(v39) = 0;
      v40 = vdupq_n_s64(6uLL);
      v41 = xmmword_245B5F4C0;
      v42 = &v68;
      v43 = &v70;
      sub_245B48A9C(&v39, v44);
      v64 = 0u;
      v65 = 0u;
      v48 = 0u;
      v49 = 0u;
      v50 = 0u;
      v51 = 0u;
      v52 = 0u;
      v53 = 0u;
      v54 = 0u;
      v55 = 0u;
      v56 = 0u;
      v57 = 0u;
      v58 = 0u;
      v59 = 0u;
      v60 = 0u;
      v61 = 0u;
      v62 = 0u;
      v63 = 0u;
      v47 = &unk_2858B6A38;
      v66 = 0;
      v17 = v45;
      v18 = v46;
      if (v45 != v46)
      {
        v19 = &v48;
        do
        {
          v20 = *v17++;
          *v19 = v20;
          v19 = (v19 + 8);
        }

        while (v17 != v18);
      }

      sub_245B4B1D0(v44);
      cblas_dgemm_NEWLAPACK();
    }

    sub_245B48104(a1);
  }

  else
  {
    v21 = *(a1 + 80);
    v36 = *(a1 + 88);
    v22 = *(a1 + 104);
    v37 = *(a1 + 112);
    v38 = *(a1 + 64);
    v23 = *(a1 + 128);
    v77 = 0.0;
    *&v73[0] = &unk_2858B6BF0;
    v24 = *(a1 + 16);
    v25 = *(a1 + 24);
    v27 = *(a2 + 32);
    v26 = *(a2 + 40);
    v29 = *(a1 + 32);
    v28 = *(a1 + 40);
    v30 = *(a2 + 16);
    v31 = *(a2 + 24);
    v73[1] = v24 * v26 + v28 * v30 - v25 * v27 + v29 * v31;
    v74 = v26 * v25 + v28 * v31 - v29 * v30 + v24 * v27;
    v75 = v26 * v29 + v28 * v27 - v24 * v31 + v25 * v30;
    v76 = v28 * v26 - v24 * v30 - v25 * v31 - v29 * v27;
    sub_245B47550(a1, v73);
    v32 = 0;
    *(&v69 + 1) = 0;
    v33 = *(a2 + 200);
    v34 = *(a2 + 208);
    v35 = *(a2 + 216);
    v68 = vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(v36, v34), v38, v33), v37, v35);
    *&v69 = v34 * v22 + v21 * v33 + v23 * v35;
    do
    {
      *(&v67 + v32 + 8) = *(&v67 + v32 + 8) + *(a1 + v32 + 200);
      v32 += 8;
    }

    while (v32 != 24);
    *(a1 + 200) = v68;
    *(a1 + 216) = v69;
    *a1 = 1;
    *(a1 + 240) = 0u;
    *(a1 + 256) = 0u;
    *(a1 + 272) = 0u;
    *(a1 + 288) = 0u;
    *(a1 + 304) = 0u;
    *(a1 + 320) = 0u;
    *(a1 + 336) = 0u;
    *(a1 + 352) = 0u;
    *(a1 + 368) = 0u;
    *(a1 + 384) = 0u;
    *(a1 + 400) = 0u;
    *(a1 + 416) = 0u;
    *(a1 + 432) = 0u;
    *(a1 + 448) = 0u;
    *(a1 + 464) = 0u;
    *(a1 + 480) = 0u;
    *(a1 + 496) = 0u;
    *(a1 + 512) = 0u;
  }
}

void sub_245B4877C(double *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *a3 = &unk_2858B7150;
  *(a3 + 8) = 0u;
  *(a3 + 24) = 0u;
  *(a3 + 40) = 0u;
  *(a3 + 56) = 0u;
  *(a3 + 72) = 0u;
  *(a3 + 88) = 0u;
  *(a3 + 104) = 0;
  v5 = a1[4];
  v6 = v5 * 0.5;
  if (v5 * 0.5 == 0.0)
  {
    *(a3 + 96) = 0;
    *(a3 + 64) = 0uLL;
    *(a3 + 80) = 0uLL;
    *(a3 + 32) = 0uLL;
    *(a3 + 48) = 0uLL;
    *(a3 + 16) = 0uLL;
    *(a3 + 72) = 0xC000000000000000;
    *(a3 + 40) = 0xC000000000000000;
    *(a3 + 8) = 0xC000000000000000;
  }

  else
  {
    if (fabs(v6) >= 2.22044605e-16)
    {
      v10 = __sincos_stret(v6);
      v9 = v5 / v10.__sinval;
      v8 = -(v5 / v10.__sinval - v10.__cosval * 2.0);
      v5 = v10.__sinval + v10.__sinval;
    }

    else
    {
      v8 = -(v6 * v6);
      v9 = 2.0;
    }

    v11 = a1[1];
    v12 = a1[2];
    v13 = v8 * -(v12 * v11);
    *(a3 + 8) = -(v9 - -(v11 * v11) * v8);
    *(a3 + 16) = v13;
    v14 = a1[3];
    v15 = v8 * -(v14 * v11);
    *(a3 + 24) = v15;
    *(a3 + 32) = v13;
    v16 = v8 * -(v14 * v12);
    *(a3 + 40) = -(v9 - -(v12 * v12) * v8);
    *(a3 + 48) = v16;
    *(a3 + 56) = v15;
    *(a3 + 64) = v16;
    *(a3 + 72) = -(v9 - -(v14 * v14) * v8);
    *(a3 + 80) = -(v11 * v5);
    *(a3 + 88) = -(v12 * v5);
    *(a3 + 96) = -(v14 * v5);
  }

  if (*(a2 + 32) < 0.0)
  {
    for (i = 8; i != 104; i += 16)
    {
      *(a3 + i) = vnegq_f64(*(a3 + i));
    }
  }
}

double sub_245B488E0@<D0>(double *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  v7 = *(a2 + 32);
  v6 = *(a2 + 40);
  v9 = *(a2 + 16);
  v8 = *(a2 + 24);
  v28 = &unk_2858B7308;
  v29 = v6;
  v30 = v7;
  v31 = -v8;
  v32 = -v9;
  v33 = -v7;
  v34 = v6;
  v35 = v9;
  v36 = -v8;
  v37 = v8;
  v38 = -v9;
  v39 = v6;
  v40 = -v7;
  v41 = v9;
  v42 = v8;
  v43 = v7;
  v44 = v6;
  v45 = 0;
  sub_245B49698(v27, a1 + 18, a1[5]);
  *a3 = &unk_2858B6A38;
  *(a3 + 24) = 0u;
  *(a3 + 40) = 0u;
  *(a3 + 56) = 0u;
  *(a3 + 72) = 0u;
  *(a3 + 88) = 0u;
  *(a3 + 104) = 0u;
  *(a3 + 120) = 0u;
  *(a3 + 136) = 0u;
  *(a3 + 152) = 0u;
  *(a3 + 168) = 0u;
  *(a3 + 184) = 0u;
  *(a3 + 200) = 0u;
  *(a3 + 216) = 0u;
  *(a3 + 232) = 0u;
  *(a3 + 248) = 0u;
  *(a3 + 296) = 0;
  *(a3 + 8) = 0u;
  *(a3 + 264) = 0u;
  *(a3 + 280) = 0u;
  sub_245B49894(v13);
  sub_245B497F8(v20);
  *(a3 + 8) = v21;
  *(a3 + 24) = v22;
  *(a3 + 56) = v23;
  *(a3 + 72) = v24;
  v10.i64[1] = *(&v25 + 1);
  *(a3 + 104) = v25;
  v10.i64[0] = v26;
  *(a3 + 120) = v26;
  sub_245B48F00(a1 + 7, (a1 + 18), a2 + 192, v13, v10, v11);
  *(a3 + 32) = v14;
  *(a3 + 48) = v15;
  *(a3 + 80) = v16;
  *(a3 + 96) = v17;
  *(a3 + 128) = v18;
  result = v19;
  *(a3 + 144) = v19;
  *(a3 + 288) = 0x3FF0000000000000;
  *(a3 + 232) = 0x3FF0000000000000;
  *(a3 + 176) = 0x3FF0000000000000;
  return result;
}

uint64_t *sub_245B48A9C@<X0>(uint64_t *a1@<X1>, uint64_t *a2@<X8>)
{
  result = sub_245B4C0A4(a2, 6, a1[2]);
  v4 = a1[2];
  if (v4)
  {
    v6 = result[2];
    v5 = result[3];
    if (v4 == 1)
    {
      v9 = result[3];
      return cblas_dgemv_NEWLAPACK();
    }

    else
    {
      v7 = a1[4];
      if (a1[3] != 1)
      {
        v8 = a1[3];
      }

      v11 = result[3];
      v10 = a1[5];
      return cblas_dgemm_NEWLAPACK();
    }
  }

  return result;
}

double sub_245B48B74@<D0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  v6 = *(a1 + 32);
  v5 = *(a1 + 40);
  v8 = *(a1 + 16);
  v7 = *(a1 + 24);
  v19 = &unk_2858B7308;
  v20 = v5;
  v21 = -v6;
  v22 = v7;
  v23 = -v8;
  v24 = v6;
  v25 = v5;
  v26 = -v8;
  v27 = -v7;
  v28 = -v7;
  v29 = v8;
  v30 = v5;
  v31 = -v6;
  v32 = v8;
  v33 = v7;
  v34 = v6;
  v35 = v5;
  v36 = 0;
  sub_245B49698(v18, (a2 + 144), *(a2 + 40));
  *a3 = &unk_2858B6A38;
  *(a3 + 24) = 0u;
  *(a3 + 40) = 0u;
  *(a3 + 56) = 0u;
  *(a3 + 72) = 0u;
  *(a3 + 88) = 0u;
  *(a3 + 104) = 0u;
  *(a3 + 120) = 0u;
  *(a3 + 136) = 0u;
  *(a3 + 152) = 0u;
  *(a3 + 168) = 0u;
  *(a3 + 184) = 0u;
  *(a3 + 200) = 0u;
  *(a3 + 216) = 0u;
  *(a3 + 232) = 0u;
  *(a3 + 248) = 0u;
  *(a3 + 296) = 0;
  *(a3 + 8) = 0u;
  *(a3 + 264) = 0u;
  *(a3 + 280) = 0u;
  sub_245B49894(v10);
  sub_245B497F8(v11);
  *(a3 + 8) = v12;
  *(a3 + 24) = v13;
  *(a3 + 56) = v14;
  *(a3 + 72) = v15;
  *(a3 + 104) = v16;
  *(a3 + 120) = v17;
  *(a3 + 176) = *(a1 + 64);
  *(a3 + 192) = *(a1 + 80);
  *(a3 + 224) = *(a1 + 88);
  *(a3 + 240) = *(a1 + 104);
  *(a3 + 272) = *(a1 + 112);
  result = *(a1 + 128);
  *(a3 + 288) = result;
  return result;
}

double sub_245B48D08(uint64_t a1, double *a2, double *a3)
{
  *a1 = &unk_2858B6880;
  *(a1 + 80) = 0;
  v3 = a3[1];
  v4 = a3[2];
  v6 = a2[3];
  v5 = a2[4];
  v7 = a2[1];
  v8 = a2[2];
  v9 = a2[7];
  v10 = a2[8];
  v11 = a3[3];
  v12 = a3[4];
  v13 = a2[5];
  v14 = a2[6];
  *(a1 + 8) = v5 * v4 + v7 * v3 + v9 * v11;
  *(a1 + 16) = v4 * v13 + v8 * v3 + v10 * v11;
  v15 = v4 * v14 + v6 * v3;
  v16 = a2[9];
  v17 = v15 + v16 * v11;
  v18 = a3[5];
  v19 = a3[6];
  *(a1 + 24) = v17;
  *(a1 + 32) = v5 * v18 + v7 * v12 + v9 * v19;
  *(a1 + 40) = v13 * v18 + v8 * v12 + v10 * v19;
  *(a1 + 48) = v14 * v18 + v6 * v12 + v16 * v19;
  v20 = a3[7];
  v21 = a3[8];
  v22 = v5 * v21 + v7 * v20;
  v23 = a3[9];
  *(a1 + 56) = v22 + v9 * v23;
  *(a1 + 64) = v13 * v21 + v8 * v20 + v10 * v23;
  result = v14 * v21 + v6 * v20 + v16 * v23;
  *(a1 + 72) = result;
  return result;
}

double sub_245B48DD4(double *a1, void *a2)
{
  v3 = a1[1];
  v2 = a1[2];
  v4 = a1[3];
  v5 = a1[4];
  v7 = a1[5];
  v6 = a1[6];
  v8 = a1[7];
  v9 = a1[8];
  v10 = a1[9];
  v12 = a2[4];
  v11 = a2[5];
  v13 = a2[3];
  v14 = &v11[v13];
  v15 = &v11[2 * v13];
  a1[1] = v5 * *v14 + v3 * *v11 + v8 * *v15;
  a1[2] = v7 * *v14 + v2 * *v11 + v9 * *v15;
  a1[3] = v6 * *v14 + v4 * *v11 + v10 * *v15;
  a1[4] = v5 * v14[v12] + v3 * v11[v12] + v8 * v15[v12];
  a1[5] = v7 * v14[v12] + v2 * v11[v12] + v9 * v15[v12];
  a1[6] = v6 * v14[v12] + v4 * v11[v12] + v10 * v15[v12];
  v16 = &v11[2 * v12];
  v12 *= 16;
  a1[7] = v5 * v16[v13] + v3 * *v16 + v8 * *(v15 + v12);
  a1[8] = v7 * v16[v13] + v2 * *v16 + v9 * *(v15 + v12);
  result = v6 * v16[v13] + v4 * *v16 + v10 * *(v15 + v12);
  a1[9] = result;
  return result;
}

double sub_245B48F00@<D0>(double *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>, int8x16_t a5@<Q0>, int8x16_t a6@<Q2>)
{
  *&v9 = a2 + 32;
  a5.i64[0] = *(a2 + 32);
  if (*a5.i64 <= -3.14159265 || *a5.i64 > 3.14159265)
  {
    a6.i64[0] = 0x400921FB54442D18;
    v10.f64[0] = NAN;
    v10.f64[1] = NAN;
    v40 = a6;
    v41 = vnegq_f64(v10);
    v39 = *vbslq_s8(v41, a6, a5).i64;
    *a5.i64 = fmod(*a5.i64 + v39, 6.28318531);
    *&v11 = vbslq_s8(v41, v40, a5).u64[0];
    if (*a5.i64 == 0.0)
    {
      *a5.i64 = v11;
    }

    else
    {
      *a5.i64 = *a5.i64 - v39;
    }
  }

  __B = *a5.i64;
  v64 = &unk_2858B6880;
  v65 = 0u;
  v66 = 0u;
  memset(v67, 0, sizeof(v67));
  v68 = 0u;
  v12 = *(a3 + 24);
  *(&v65 + 1) = -v12;
  *(&v66 + 1) = v12;
  v13 = *(a3 + 8);
  *&v66 = *(a3 + 16);
  *(v67 + 8) = vnegq_f64(v13);
  *(&v67[1] + 1) = *&v13.f64[0];
  if (fabs(*a5.i64 * 0.5) >= 2.22044605e-16)
  {
    LOBYTE(v48) = 0;
    v49 = xmmword_245B5F4B0;
    v50 = vdupq_n_s64(1uLL);
    *&v51 = *&v9 - 24;
    v52 = v9;
    v56 = 0uLL;
    v57 = 0uLL;
    v58 = 0uLL;
    v59 = 0uLL;
    v60 = 0.0;
    sub_245B4C2B8(&v56, &v48);
    sub_245B4C270(&v56, &__B);
    v62 = &unk_2858B66C8;
    memset(v63, 0, sizeof(v63));
    v15 = *(&v57 + 1);
    v16 = v58;
    if (*(&v57 + 1) != v58)
    {
      v17 = v63;
      do
      {
        v18 = *v15++;
        *v17++ = v18;
      }

      while (v15 != v16);
    }

    sub_245B4B1D0(&v56);
    LOBYTE(v48) = 0;
    v49 = vdupq_n_s64(3uLL);
    v50 = xmmword_245B5F4B0;
    *&v51 = a1 + 1;
    *&v52 = a1 + 10;
    sub_245B48000(&v56, &v48);
    *(&v56 + 1) = *(&v56 + 1) + -1.0;
    *(&v58 + 1) = *(&v58 + 1) + -1.0;
    v61 = v61 + -1.0;
    v48 = &unk_2858B6880;
    v49.i64[0] = 0;
    v51 = 0.0;
    v55 = 0u;
    *&v49.i64[1] = v63[2];
    v50 = vnegq_f64(*&v63[1]);
    v52 = v63[0];
    v53 = v63[1];
    v54 = -v63[0];
    v42 = &unk_2858B6880;
    v47 = 0u;
    cblas_dsyr_NEWLAPACK();
    *&v43 = *&v58 * *&v49.i64[1] + *(&v56 + 1) * *v49.i64 + *(&v59 + 1) * v50.f64[0] + 0.0;
    *(&v43 + 1) = *&v49.i64[1] * *(&v58 + 1) + *&v57 * *v49.i64 + v60 * v50.f64[0] + 0.0;
    *&v44 = *&v49.i64[1] * *&v59 + *(&v57 + 1) * *v49.i64 + v61 * v50.f64[0] + 0.0;
    *(&v44 + 1) = *&v58 * v51 + *(&v56 + 1) * v50.f64[1] + *(&v59 + 1) * v52 + 0.0;
    *&v45 = *(&v58 + 1) * v51 + *&v57 * v50.f64[1] + v60 * v52 + 0.0;
    *(&v45 + 1) = *&v59 * v51 + *(&v57 + 1) * v50.f64[1] + v61 * v52 + 0.0;
    *&v46 = *&v58 * v54 + *(&v56 + 1) * v53 + *(&v59 + 1) * *&v55 + 0.0;
    *(&v46 + 1) = *(&v58 + 1) * v54 + *&v57 * v53 + v60 * *&v55 + 0.0;
    *&v47 = *&v59 * v54 + *(&v57 + 1) * v53 + v61 * *&v55 + 0.0;
    v19 = __B * __B;
    for (i = 8; i != 80; i += 8)
    {
      *(&v42 + i) = *(&v42 + i) / v19;
    }

    sub_245B48D08(a4, a1, &v64);
    v21 = *(a4 + 8);
    v22 = *(a4 + 16);
    v23 = *(a4 + 24);
    v24 = *(a4 + 32);
    v25 = *(a4 + 40);
    v26 = *(a4 + 48);
    v27 = *(a4 + 56);
    v28 = *(a4 + 64);
    v29 = *(a4 + 72);
    v30 = v43;
    v31 = v44;
    v32 = v25 * *(&v43 + 1) + v22 * *&v43 + v28 * *&v44;
    *(a4 + 8) = v24 * *(&v43 + 1) + v21 * *&v43 + v27 * *&v44;
    *(a4 + 16) = v32;
    v33 = v45;
    v34 = v24 * *&v45 + v21 * *(&v31 + 1) + v27 * *(&v45 + 1);
    *(a4 + 24) = v26 * *(&v30 + 1) + v23 * *&v30 + v29 * *&v31;
    *(a4 + 32) = v34;
    *(a4 + 40) = v25 * *&v33 + v22 * *(&v31 + 1) + v28 * *(&v33 + 1);
    *(a4 + 48) = v26 * *&v33 + v23 * *(&v31 + 1) + v29 * *(&v33 + 1);
    v35 = v46;
    v36 = v24 * *(&v46 + 1) + v21 * *&v46;
    v37 = *&v47;
    v38 = v25 * *(&v46 + 1) + v22 * *&v46 + v28 * *&v47;
    *(a4 + 56) = v36 + v27 * *&v47;
    *(a4 + 64) = v38;
    result = v26 * *(&v35 + 1) + v23 * *&v35 + v29 * v37;
    *(a4 + 72) = result;
  }

  else
  {
    *a4 = &unk_2858B6880;
    *(a4 + 24) = v66;
    *(a4 + 40) = v67[0];
    *(a4 + 56) = v67[1];
    *(a4 + 72) = v68;
    result = *&v65;
    *(a4 + 8) = v65;
  }

  return result;
}

double sub_245B493E0(uint64_t a1, double *a2, double *a3, uint64_t a4, uint64_t a5, int a6)
{
  sub_245B48098(&v48, a1 + 56, a2);
  *(a4 + 8) = v49;
  v12.i64[0] = v50;
  *(a4 + 24) = v50;
  if (a6)
  {
    v48 = &unk_2858B6880;
    v13 = *(a1 + 64);
    v50 = *(a1 + 80);
    v14 = *(a1 + 112);
    v51 = *(a1 + 96);
    v52 = v14;
    v53 = *(a1 + 128);
    v49 = v13;
    sub_245B48D08(&v43, (a1 + 56), a3);
    v15 = v44;
    *(a5 + 24) = *v45;
    v16 = v46;
    *(a5 + 40) = *&v45[16];
    *(a5 + 56) = v16;
    *(a5 + 72) = v47;
    *(a5 + 8) = v15;
    LOBYTE(v43) = 1;
    v44 = vdupq_n_s64(3uLL);
    *v45 = xmmword_245B5F4B0;
    *&v45[16] = a1 + 64;
    *&v45[24] = a1 + 136;
    *v12.i64 = sub_245B48DD4(a5, &v43);
    if ((*a1 & 1) == 0)
    {
      sub_245B48F00((a1 + 56), a1 + 144, a2, &v43, v12, v17);
      sub_245B4C0A4(v34, 3, 3);
      cblas_dgemm_NEWLAPACK();
      v37 = &unk_2858B6880;
      v38 = 0u;
      v39 = 0u;
      v40 = 0u;
      v41 = 0u;
      v42 = 0u;
      v18 = v35;
      v19 = v36;
      if (v35 != v36)
      {
        v20 = &v38;
        do
        {
          v21 = *v18++;
          *v20 = v21;
          v20 = (v20 + 8);
        }

        while (v18 != v19);
      }

      sub_245B4B1D0(v34);
      v22 = *(&v38 + 1);
      v12.i64[0] = v38;
      v23 = v44;
      v24 = *&v45[8];
      v25 = v46;
      v26 = v39;
      *(a5 + 8) = vaddq_f64(vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(*&v45[8], *(&v38 + 1)), v44, *&v38), v46, *&v39), *(a5 + 8));
      v27 = *v45;
      v28 = *&v45[24];
      v29 = *&v47;
      *(a5 + 24) = *(a5 + 24) + v22 * *&v45[24] + *v45 * *v12.i64 + *&v47 * *&v26;
      v30 = *(&v40 + 1);
      v12.i64[0] = v40;
      *(a5 + 32) = vaddq_f64(*(a5 + 32), vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(v24, *&v40), v23, *(&v26 + 1)), v25, *(&v40 + 1)));
      *(a5 + 48) = v28 * *v12.i64 + v27 * *(&v26 + 1) + v29 * v30 + *(a5 + 48);
      v31 = *(&v41 + 1);
      v12.i64[0] = v41;
      v32 = *&v42;
      *(a5 + 56) = vaddq_f64(*(a5 + 56), vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(v24, *(&v41 + 1)), v23, *&v41), v25, *&v42));
      *v12.i64 = v28 * v31 + v27 * *v12.i64 + v29 * v32 + *(a5 + 72);
      *(a5 + 72) = v12.i64[0];
    }
  }

  return *v12.i64;
}

void sub_245B49698(uint64_t a1, double *a2, double a3)
{
  *a1 = &unk_2858B74C0;
  *(a1 + 8) = 0u;
  *(a1 + 24) = 0u;
  *(a1 + 40) = 0u;
  *(a1 + 56) = 0u;
  *(a1 + 72) = 0u;
  *(a1 + 88) = 0u;
  *(a1 + 104) = 0;
  v5 = a2[4];
  v6 = v5 * 0.5;
  if (v5 * 0.5 == 0.0)
  {
    *(a1 + 64) = 0uLL;
    *(a1 + 80) = 0uLL;
    *(a1 + 32) = 0uLL;
    *(a1 + 48) = 0uLL;
    *(a1 + 16) = 0uLL;
    *(a1 + 88) = 0xBFE0000000000000;
    *(a1 + 96) = 0;
    *(a1 + 48) = 0xBFE0000000000000;
    *(a1 + 8) = 0xBFE0000000000000;
  }

  else
  {
    if (fabs(v6) >= 2.22044605e-16)
    {
      v11 = __sincos_stret(v6);
      v10 = v11.__sinval / v5;
      v9 = v11.__sinval / v5 + v11.__cosval * -0.5;
      v8 = v11.__sinval * 0.5;
    }

    else
    {
      v8 = v5 * 0.25;
      v9 = v8 * v8;
      v10 = 0.5;
    }

    v12 = a2[1];
    v13 = a2[2];
    v14 = v9 * (v12 * v13);
    *(a1 + 8) = -(v10 - v12 * v12 * v9);
    *(a1 + 16) = v14;
    v15 = a2[3];
    v16 = v9 * (v12 * v15);
    *(a1 + 24) = v16;
    *(a1 + 32) = -(v12 * v8);
    *(a1 + 40) = v14;
    *(a1 + 48) = -(v10 - v13 * v13 * v9);
    v17 = v9 * (v13 * v15);
    *(a1 + 56) = v17;
    *(a1 + 64) = -(v13 * v8);
    *(a1 + 72) = v16;
    *(a1 + 80) = v17;
    *(a1 + 88) = -(v10 - v15 * v15 * v9);
    *(a1 + 96) = -(v15 * v8);
  }

  if (a3 < 0.0)
  {
    for (i = 8; i != 104; i += 16)
    {
      *(a1 + i) = vnegq_f64(*(a1 + i));
    }
  }
}

uint64_t sub_245B497F8(uint64_t a1)
{
  *a1 = &unk_2858B6880;
  *(a1 + 24) = 0u;
  *(a1 + 40) = 0u;
  *(a1 + 56) = 0u;
  *(a1 + 72) = 0u;
  *(a1 + 8) = 0u;
  return cblas_dgemm_NEWLAPACK();
}

uint64_t sub_245B49894(uint64_t a1)
{
  *a1 = &unk_2858B7150;
  *(a1 + 24) = 0u;
  *(a1 + 40) = 0u;
  *(a1 + 56) = 0u;
  *(a1 + 72) = 0u;
  *(a1 + 88) = 0u;
  *(a1 + 104) = 0;
  *(a1 + 8) = 0u;
  return cblas_dgemm_NEWLAPACK();
}

void sub_245B4993C(void *a1@<X0>, _BYTE *a2@<X1>, char *a3@<X8>)
{
  *a2 = 1;
  if (a1 && [a1 inertialState] && objc_msgSend(a1, "inertialCovariance"))
  {
    [a1 inertialStateInfo];
    [a1 inertialCovarianceInfo];
    v6 = [objc_msgSend(a1 "inertialState")];
    v7 = [objc_msgSend(a1 "inertialCovariance")];
    if (v67 == 21 && (v6 & 0xFFFFFFFFFFFFFFF8) == 0xA8 && v69 == 9 && !v68 && v73 == 3 && v72 == 18 && v71 == 3 && v70 == 12 && v60 == 225 && (v7 & 0xFFFFFFFFFFFFFFF8) == 0x708 && v62 == 3 && !v61 && v66 == 3 && v65 == 12 && v64 == 3 && v63 == 6)
    {
      [a1 cameraPose];
      v21 = v8;
      v22 = v9;
      v23 = v10;
      v24 = v11;
      v12 = [objc_msgSend(a1 "inertialState")];
      v13 = [objc_msgSend(a1 "inertialCovariance")];
      sub_245B4B3F4(a3);
      *a3 = [a1 trackingState];
      [a1 originTimestamp];
      *(a3 + 2) = v14;
      [a1 timestamp];
      *(a3 + 5) = v15;
      v43 = 0u;
      v42 = 0u;
      v41 = &unk_2858B6BF0;
      v44 = 0;
      v45 = &unk_2858B6880;
      v46 = 0u;
      v47 = 0u;
      v48 = 0u;
      v49 = 0u;
      v50 = 0u;
      v52 = 0u;
      v53 = 0u;
      v51 = &unk_2858B6DC0;
      v54 = 0;
      v55 = &unk_2858B66C8;
      v56 = 0u;
      v57 = 0u;
      v58 = &unk_2858B6A38;
      memset(v59, 0, sizeof(v59));
      v40 = 0;
      LOBYTE(v32) = 0;
      v25 = vdupq_n_s64(3uLL);
      v33 = v25;
      v34 = xmmword_245B5F4D0;
      v35 = v12;
      v36 = (v12 + 72);
      sub_245B48000(v37, &v32);
      sub_245B47308(&v40, v37);
      v56 = *(v12 + 144);
      *&v57 = *(v12 + 160);
      v37[0] = 0;
      *&v37[8] = v25;
      *&v37[24] = xmmword_245B5F4E0;
      *&v37[40] = v13;
      *&v37[48] = v13 + 33;
      LOBYTE(v32) = 1;
      v33 = v25;
      v34 = xmmword_245B5F4F0;
      v35 = v59;
      v36 = &v59[15];
      sub_245B4C56C(&v32, v37);
      __B = -1.0;
      LOBYTE(v32) = 0;
      v33 = v25;
      v34 = xmmword_245B5F4E0;
      v35 = v13 + 12;
      v36 = v13 + 45;
      memset(v37, 0, sizeof(v37));
      sub_245B4C2B8(v37, &v32);
      sub_245B4C270(v37, &__B);
      LOBYTE(v26) = 1;
      v27 = v25;
      v28 = xmmword_245B5F4F0;
      v29 = &v59[18];
      v30 = &v59[33];
      sub_245B4C6C8(&v26, v37);
      sub_245B4B1D0(v37);
      __B = -1.0;
      LOBYTE(v32) = 0;
      v33 = v25;
      v34 = xmmword_245B5F4E0;
      v35 = v13 + 180;
      v36 = v13 + 213;
      memset(v37, 0, sizeof(v37));
      sub_245B4C2B8(v37, &v32);
      sub_245B4C270(v37, &__B);
      LOBYTE(v26) = 1;
      v27 = v25;
      v28 = xmmword_245B5F4F0;
      v29 = &v59[3];
      v30 = &v59[18];
      sub_245B4C6C8(&v26, v37);
      sub_245B4B1D0(v37);
      v37[0] = 0;
      *&v37[8] = v25;
      *&v37[24] = xmmword_245B5F4E0;
      *&v37[40] = v13 + 192;
      *&v37[48] = v13 + 225;
      LOBYTE(v32) = 1;
      v33 = v25;
      v34 = xmmword_245B5F4F0;
      v35 = &v59[21];
      v36 = &v59[36];
      sub_245B4C56C(&v32, v37);
      *v37 = &unk_2858B6880;
      *&v37[8] = vcvtq_f64_f32(*v21.i8);
      *&v37[24] = vcvtq_f64_f32(vzip1_s32(*&vextq_s8(v21, v21, 8uLL), *v22.i8));
      *&v37[40] = vcvtq_f64_f32(*&vextq_s8(v22, v22, 4uLL));
      *&v37[56] = vcvtq_f64_f32(*&v23);
      v38 = *(&v23 + 2);
      v39 = 0;
      sub_245B47308((a3 + 592), v37);
      *&v37[8] = vcvtq_f64_f32(*&v24);
      *&v37[24] = *(&v24 + 2);
      *&v37[32] = 0;
      *(a3 + 792) = *&v37[8];
      *(a3 + 808) = COERCE_UNSIGNED_INT64(*(&v24 + 2));
      sub_245B481D0((a3 + 592), &v40, 0);
      sub_245B47B44((a3 + 592));
      a3[56] = v40;
      v16 = v43;
      *(a3 + 72) = v42;
      *(a3 + 88) = v16;
      *(a3 + 13) = v44;
      v17 = v49;
      *(a3 + 152) = v48;
      *(a3 + 168) = v17;
      *(a3 + 184) = v50;
      v18 = v47;
      *(a3 + 120) = v46;
      *(a3 + 136) = v18;
      v19 = v52;
      v20 = v53;
      *(a3 + 30) = v54;
      *(a3 + 14) = v20;
      *(a3 + 13) = v19;
      *(a3 + 17) = v57;
      *(a3 + 16) = v56;
      memcpy(a3 + 296, v59, 0x128uLL);
      sub_245B481D0((a3 + 56), (a3 + 592), 1);
      *(a3 + 142) = *(v12 + 96);
      *(a3 + 143) = *(v12 + 104);
      *(a3 + 144) = *(v12 + 112);
      *(a3 + 147) = v13[96];
      *(a3 + 148) = v13[111];
      *(a3 + 149) = v13[126];
      *(a3 + 150) = v13[97];
      *(a3 + 151) = v13[112];
      *(a3 + 152) = v13[127];
      *(a3 + 153) = v13[98];
      *(a3 + 154) = v13[113];
      *(a3 + 155) = v13[128];
      a3[1256] = 0;
      a3[1400] = 0;
      a3[1424] = 0;
      *a2 = 0;
    }

    else
    {
      bzero(a3, 0x598uLL);
      sub_245B4B3F4(a3);
    }
  }

  else
  {
    bzero(a3, 0x598uLL);

    sub_245B4B3F4(a3);
  }
}

uint64_t sub_245B4A088(uint64_t a1, uint64_t a2)
{
  *(a1 + 1144) = 0;
  v51[9] = &unk_2858B66C8;
  v52 = 0u;
  v53 = 0u;
  v46 = 0;
  v49 = 0x300000003;
  v48 = xmmword_245B5F500;
  v47 = &unk_2858B7698;
  v50 = v51;
  v45 = MEMORY[0x277D003F0] + 16;
  if (cnnavigation::ECEFToENU())
  {
    v4 = 0;
    goto LABEL_17;
  }

  v42 = 0x300000003;
  v41 = xmmword_245B5F500;
  v5 = v44;
  v40 = &unk_2858B7698;
  v43 = v44;
  v4 = v46;
  if (v46 != 1)
  {
    goto LABEL_17;
  }

  if (v48 > 3)
  {
    v28 = "this->max_num_rows_ >= A.num_rows_";
    v29 = 619;
    goto LABEL_20;
  }

  if (DWORD1(v48) >= 4)
  {
    v28 = "this->max_num_cols_ >= A.num_cols_";
    v29 = 620;
LABEL_20:
    __assert_rtn("operator=", "cnmatrixbase.h", v29, v28);
  }

  *&v41 = v48;
  v6 = (DWORD1(v48) * v48);
  DWORD2(v41) = DWORD1(v48) * v48;
  HIDWORD(v41) = v48;
  if (SDWORD2(v48) > 3)
  {
    v9 = (DWORD2(v48) - 2);
    v10 = v50;
    v11 = (DWORD2(v48) - 1) >> 1;
    v12 = v50;
    v13 = v44;
    do
    {
      v14 = *v12++;
      *v13++ = v14;
      --v11;
    }

    while (v11);
    *&v44[v9] = *&v10[v9];
  }

  else if (v6)
  {
    v7 = v50;
    do
    {
      v8 = *v7++;
      *v5++ = v8;
      --v6;
    }

    while (v6);
  }

  *(a1 + 1144) = 1;
  v15 = *(a2 + 24);
  *(a1 + 1160) = *(a2 + 8);
  *(a1 + 1176) = v15;
  *(a1 + 1192) = 1;
  *(a1 + 1208) = 0;
  *(a1 + 1224) = 0;
  *(a1 + 1216) = 0;
  *(a1 + 1232) = 0x3FF0000000000000;
  *(a1 + 1280) = 0u;
  *(a1 + 1264) = 0u;
  *(a1 + 1296) = 0u;
  *(a1 + 1312) = 0;
  *(a1 + 1320) = 0x3FF0000000000000;
  *(a1 + 1288) = 0x3FF0000000000000;
  *(a1 + 1256) = 0x3FF0000000000000;
  *(a1 + 1432) = 0u;
  *(a1 + 1448) = 0u;
  *(a1 + 1464) = 0u;
  *(a1 + 1480) = 0u;
  *(a1 + 1496) = 0u;
  *(a1 + 1512) = 0u;
  *(a1 + 1528) = 0u;
  *(a1 + 1544) = 0u;
  *(a1 + 1560) = 0u;
  *(a1 + 1576) = 0u;
  *(a1 + 1592) = 0u;
  *(a1 + 1608) = 0u;
  *(a1 + 1624) = 0u;
  *(a1 + 1640) = 0u;
  *(a1 + 1656) = 0u;
  *(a1 + 1672) = 0u;
  *(a1 + 1688) = 0u;
  *(a1 + 1704) = 0u;
  *(a1 + 1360) = 0u;
  *(a1 + 1344) = 0u;
  *(a1 + 1392) = 0;
  *(a1 + 1408) = 0;
  *(a1 + 1400) = 0;
  v16 = *sub_245B4BE80(&v40, 0, 0);
  v17 = *sub_245B4BE80(&v40, 1, 0);
  v18 = *sub_245B4BE80(&v40, 2, 0);
  v19 = *sub_245B4BE80(&v40, 0, 1);
  v20 = *sub_245B4BE80(&v40, 1, 1);
  v21 = *sub_245B4BE80(&v40, 2, 1);
  v22 = *sub_245B4BE80(&v40, 0, 2);
  v23 = *sub_245B4BE80(&v40, 1, 2);
  v24 = *sub_245B4BE80(&v40, 2, 2);
  v31 = &unk_2858B6880;
  *&v32 = v16;
  *(&v32 + 1) = v17;
  *&v33 = v18;
  *(&v33 + 1) = v19;
  v34 = v20;
  v35 = v21;
  v36 = v22;
  v37 = v23;
  v38 = v24;
  v39 = 0;
  sub_245B47308(a1 + 1192, &v31);
  sub_245B48098(v30, a1 + 1248, (a1 + 752));
  v31 = &unk_2858B66C8;
  v32 = v52;
  v33 = v53;
  for (i = 8; i != 32; i += 8)
  {
    *(&v31 + i) = *(&v31 + i) - *&v30[i];
  }

  v26 = v33;
  *(a1 + 1392) = v32;
  *(a1 + 1408) = v26;
  sub_245B481D0(a1 + 1192, a1 + 560, 1);
LABEL_17:
  cnnavigation::ECEFToENUJacobian::~ECEFToENUJacobian(&v45);
  return v4;
}

void sub_245B4A4DC(void *a1@<X0>, _BYTE *a2@<X1>, uint64_t a3@<X8>)
{
  *a2 = 1;
  if (a1)
  {
    [a1 transform];
    [a1 covariance];
    v6 = 0;
    v49 = &unk_2858B6880;
    v50 = 0u;
    memset(v51, 0, sizeof(v51));
    v46 = &unk_2858B66C8;
    v47 = 0u;
    v48 = 0u;
    v8 = v53;
    v7 = v54;
    v9 = v51;
    do
    {
      v10 = &v52[32 * v6 + 144];
      *(v9 - 1) = *v10;
      *v9 = *(v10 + 2);
      v9 += 3;
      v27[0] = v8;
      v27[1] = v7;
      *(&v47 + v6) = *(v27 + (v6 & 3));
      ++v6;
    }

    while (v6 != 3);
    v43[1] = &unk_2858B66C8;
    v44 = 0u;
    v45 = 0u;
    if (cnnavigation::ECEFToLLA())
    {
      bzero(a3, 0x6C0uLL);
      sub_245B4B614(a3);
    }

    else
    {
      v11 = 0;
      v12 = &v40;
      memset(v41, 0, sizeof(v41));
      memset(v42, 0, sizeof(v42));
      v13 = v52;
      v40 = &unk_2858B6A38;
      v43[0] = 0;
      do
      {
        v14 = v13;
        for (i = 1; i != 7; ++i)
        {
          v16 = *v14;
          v14 += 6;
          *&v12[i] = v16;
        }

        ++v11;
        v12 += 6;
        ++v13;
      }

      while (v11 != 6);
      [a1 timestamp];
      *(a3 + 24) = 0;
      *(a3 + 8) = v17;
      sub_245B47308(a3 + 24, &v49);
      v18 = v48;
      *(a3 + 224) = v47;
      *(a3 + 240) = v18;
      LOBYTE(v35) = 1;
      v36 = vdupq_n_s64(3uLL);
      v26 = v36;
      v37 = xmmword_245B5F4F0;
      v38 = &v42[1] + 8;
      v39 = v43;
      LOBYTE(v28) = 1;
      v29 = v36;
      v30 = xmmword_245B5F4F0;
      *&v31 = a3 + 264;
      *(&v31 + 1) = a3 + 384;
      sub_245B4C56C(&v28, &v35);
      LOBYTE(v35) = 1;
      v36 = v26;
      v37 = xmmword_245B5F4F0;
      v38 = &v41[1] + 8;
      v39 = v42;
      LOBYTE(v28) = 1;
      v29 = v26;
      v30 = xmmword_245B5F4F0;
      *&v31 = a3 + 408;
      *(&v31 + 1) = a3 + 528;
      sub_245B4C56C(&v28, &v35);
      LOBYTE(v35) = 1;
      v36 = v26;
      v37 = xmmword_245B5F4F0;
      v38 = v42;
      v39 = &v42[7] + 8;
      LOBYTE(v28) = 1;
      v29 = v26;
      v30 = xmmword_245B5F4F0;
      *&v31 = a3 + 288;
      *(&v31 + 1) = a3 + 408;
      sub_245B4C56C(&v28, &v35);
      LOBYTE(v35) = 1;
      v36 = v26;
      v37 = xmmword_245B5F4F0;
      v38 = v41;
      v39 = &v41[7] + 8;
      LOBYTE(v28) = 1;
      v29 = v26;
      v30 = xmmword_245B5F4F0;
      *&v31 = a3 + 432;
      *(&v31 + 1) = a3 + 552;
      sub_245B4C56C(&v28, &v35);
      *(a3 + 1104) = v44;
      *(a3 + 1120) = v45;
      [a1 confidence];
      *(a3 + 1136) = v19;
      *(a3 + 1144) = 0;
      sub_245B4B974(&v35, 1);
      v28 = &unk_2858B6880;
      v33 = 0;
      v34 = 0;
      v29 = xmmword_245B5F510;
      v30 = unk_245B5F520;
      v31 = xmmword_245B5F530;
      v32 = unk_245B5F540;
      sub_245B47308(&v35, &v28);
      *(a3 + 560) = *(a3 + 24);
      v20 = *(a3 + 56);
      *(a3 + 576) = *(a3 + 40);
      *(a3 + 592) = v20;
      *(a3 + 608) = *(a3 + 72);
      v21 = *(a3 + 104);
      v22 = *(a3 + 136);
      *(a3 + 656) = *(a3 + 120);
      *(a3 + 672) = v22;
      *(a3 + 688) = *(a3 + 152);
      *(a3 + 624) = *(a3 + 88);
      *(a3 + 640) = v21;
      v23 = *(a3 + 176);
      v24 = *(a3 + 192);
      *(a3 + 744) = *(a3 + 208);
      *(a3 + 712) = v23;
      *(a3 + 728) = v24;
      v25 = *(a3 + 240);
      *(a3 + 760) = *(a3 + 224);
      *(a3 + 776) = v25;
      memcpy((a3 + 800), (a3 + 264), 0x128uLL);
      sub_245B481D0(a3 + 560, &v35, 1);
      *a2 = 0;
    }
  }

  else
  {
    bzero(a3, 0x6C0uLL);

    sub_245B4B614(a3);
  }
}

void sub_245B4A988(uint64_t a1@<X0>, uint64_t a2@<X1>, _BYTE *a3@<X2>, uint64_t a4@<X8>)
{
  v48 = *MEMORY[0x277D85DE8];
  *a3 = 1;
  v8 = sub_245B4BAE4(&v33);
  v33 = *(a1 + 96);
  v9 = *(a2 + 32);
  v10.i64[0] = *(a2 + 344);
  v34 = *(a1 + 76);
  v35 = v9;
  v36 = v10.i64[0];
  v11 = *(a1 + 36);
  if (v11 <= 0.0)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7668);
    }

    v14 = qword_27EE33DF0;
    v11 = -1.0;
    v15 = 0.0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
      *buf = 0;
      _os_log_impl(&dword_245B46000, v14, OS_LOG_TYPE_DEBUG, "CLVLFT,convertAltitudeMslToWgs84,altitudeMsl unavailable", buf, 2u);
    }
  }

  else
  {
    v12 = *(a1 + 28);
    if (*(a2 + 312) != -1)
    {
      v13 = *(a2 + 316);
LABEL_14:
      v15 = v12 + v13;
      goto LABEL_15;
    }

    v45 = 0.0;
    if (sub_245B5C7B0(&v45, *(a1 + 4), *(a1 + 12)))
    {
      v13 = v45;
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7668);
      }

      v16 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        *buf = 134283521;
        v47 = v45;
        _os_log_impl(&dword_245B46000, v16, OS_LOG_TYPE_DEBUG, "CLVLFT,convertAltitudeMslToWgs84,DEM unavailable,using DMA und,%{private}f", buf, 0xCu);
      }

      v11 = *(a1 + 36);
      goto LABEL_14;
    }

    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7668);
    }

    v29 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
      *buf = 0;
      _os_log_impl(&dword_245B46000, v29, OS_LOG_TYPE_DEBUG, "CLVLFT,convertAltitudeMslToWgs84,DMA unavailable,Failed to convert altitude", buf, 2u);
    }

    v11 = -1.0;
    v15 = 0.0;
  }

LABEL_15:
  v38 = v15;
  v40 = v11;
  v17 = *(a1 + 20);
  if (v17 >= 0.0)
  {
    v37 = vmulq_f64(*(a1 + 4), vdupq_n_s64(0x3F91DF46A2529D39uLL));
    v39 = *&v17;
    if (cnnavigation::LLAToECEF())
    {
      *(a4 + 352) = 0;
      *(a4 + 320) = 0u;
      *(a4 + 336) = 0u;
      *(a4 + 288) = 0u;
      *(a4 + 304) = 0u;
      *(a4 + 256) = 0u;
      *(a4 + 272) = 0u;
      *(a4 + 224) = 0u;
      *(a4 + 240) = 0u;
      *(a4 + 192) = 0u;
      *(a4 + 208) = 0u;
      *(a4 + 160) = 0u;
      *(a4 + 176) = 0u;
      *(a4 + 128) = 0u;
      *(a4 + 144) = 0u;
      *(a4 + 96) = 0u;
      *(a4 + 112) = 0u;
      *(a4 + 64) = 0u;
      *(a4 + 80) = 0u;
      *(a4 + 32) = 0u;
      *(a4 + 48) = 0u;
      *a4 = 0u;
      *(a4 + 16) = 0u;
      sub_245B4BAE4(a4);
      goto LABEL_33;
    }
  }

  else
  {
    v37 = 0uLL;
    v39 = 0xBFF0000000000000;
  }

  v18 = v44;
  v19 = *(a1 + 68);
  if (v19 >= 0.0 && (v20 = *(a1 + 60), v20 >= 0.0))
  {
    v21 = &v42;
    v8.n128_f64[0] = v20 * -0.0174532925 + 1.57079633;
    if (v8.n128_f64[0] <= -3.14159265 || v8.n128_f64[0] > 3.14159265)
    {
      v10.i64[0] = 0x400921FB54442D18;
      v23.f64[0] = NAN;
      v23.f64[1] = NAN;
      v31 = v10;
      v32 = vnegq_f64(v23);
      v30 = *vbslq_s8(v32, v10, v8).i64;
      v8.n128_f64[0] = fmod(v8.n128_f64[0] + v30, 6.28318531);
      *&v24 = vbslq_s8(v32, v31, v8).u64[0];
      if (v8.n128_f64[0] == 0.0)
      {
        v8.n128_f64[0] = v24;
      }

      else
      {
        v8.n128_f64[0] = v8.n128_f64[0] - v30;
      }
    }

    v41 = v8.n128_u64[0];
    v22 = v19 * 0.0174532925;
  }

  else
  {
    v21 = &v41;
    v42 = 0xBFF0000000000000;
    v22 = -1.0;
  }

  *v21 = v22;
  v25 = *(a1 + 52);
  if (v25 >= 0.0 && (v26 = *(a1 + 44), v26 >= 0.0))
  {
    v27 = &v43;
  }

  else
  {
    v27 = v44;
    v26 = -1.0;
    v18 = &v43;
    v25 = -1.0;
  }

  *v27 = v26;
  *v18 = v25;
  v44[8] = 0;
  v44[184] = 0;
  *a3 = 0;
  sub_245B4BBD4(a4, &v33);
LABEL_33:
  v28 = *MEMORY[0x277D85DE8];
}

void sub_245B4ADA0(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_245B46F20(a1);
  }

  _Unwind_Resume(a1);
}

void sub_245B4ADB0(uint64_t a1@<X0>, _BYTE *a2@<X1>, uint64_t a3@<X8>)
{
  *a2 = 1;
  sub_245B4BAE4(a3);
  *v5 = 1;
  *(v5 + 8) = *a1;
  *(v5 + 24) = *(a1 + 16);
  *(v5 + 40) = *(a1 + 1104);
  *(v5 + 56) = *(a1 + 1120);
  v6 = *(a1 + 776);
  *(v5 + 80) = *(a1 + 760);
  *(v5 + 96) = v6;
  if (*(a1 + 1144) == 1)
  {
    v7 = *(a1 + 1600);
    v8 = (*&v7 & 0x7FFFFFFFFFFFFFFFuLL) - 1 < 0xFFFFFFFFFFFFFLL;
    v9 = ((*&v7 & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 < 0x3FF;
    if (v7 >= 0.0)
    {
      v9 = 0;
      v8 = 0;
    }

    v10 = (*&v7 & 0x7FFFFFFFFFFFFFFFLL) == 0x7FF0000000000000 || v8;
    if ((*&v7 & 0x7FFFFFFFFFFFFFFFuLL) > 0x7FF0000000000000)
    {
      v10 = 1;
    }

    if ((v10 | v9))
    {
      goto LABEL_28;
    }

    v11 = *(a1 + 1656);
    v12 = (*&v11 & 0x7FFFFFFFFFFFFFFFuLL) - 1 < 0xFFFFFFFFFFFFFLL;
    v13 = ((*&v11 & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 < 0x3FF;
    if (v11 >= 0.0)
    {
      v13 = 0;
      v12 = 0;
    }

    if ((*&v11 & 0x7FFFFFFFFFFFFFFFLL) == 0x7FF0000000000000)
    {
      v12 = 1;
    }

    if ((*&v11 & 0x7FFFFFFFFFFFFFFFuLL) > 0x7FF0000000000000)
    {
      v12 = 1;
    }

    if (v12 || v13)
    {
      goto LABEL_28;
    }

    v14 = *(a1 + 1712);
    v15 = (*&v14 & 0x7FFFFFFFFFFFFFFFuLL) - 1 < 0xFFFFFFFFFFFFFLL;
    v16 = v14 < 0.0 && ((*&v14 & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 < 0x3FF;
    if (v14 >= 0.0)
    {
      v15 = 0;
    }

    v17 = (*&v14 & 0x7FFFFFFFFFFFFFFFLL) == 0x7FF0000000000000 || v15;
    if ((*&v14 & 0x7FFFFFFFFFFFFFFFuLL) > 0x7FF0000000000000)
    {
      v17 = 1;
    }

    if ((v17 | v16) == 1)
    {
LABEL_28:
      __asm { FMOV            V0.2D, #-1.0 }

      *(v5 + 112) = _Q0;
      *(v5 + 160) = 0;
    }

    else
    {
      *(v5 + 112) = sqrt(v7 + v11);
      *(v5 + 120) = sqrt(v14);
      *(v5 + 160) = 1;
      v23 = *(a1 + 1176);
      *(v5 + 176) = *(a1 + 1160);
      *(v5 + 192) = v23;
      *(v5 + 216) = *(a1 + 1392);
      *(v5 + 232) = *(a1 + 1408);
      *(v5 + 256) = v7;
      *(v5 + 264) = *(a1 + 1608);
      *(v5 + 280) = *(a1 + 1648);
      *(v5 + 288) = v11;
      *(v5 + 296) = *(a1 + 1664);
      *(v5 + 304) = *(a1 + 1696);
      *(v5 + 320) = v14;
    }
  }

  *(v5 + 336) = 0;
  *a2 = 0;
}

BOOL sub_245B4AF98(int a1, double *a2, double *a3, double a4, double a5, float a6)
{
  v16 = *MEMORY[0x277D85DE8];
  *a3 = a4;
  if (a5 > 0.0)
  {
    if (a1 != -1)
    {
      *a3 = a4 - a6;
LABEL_4:
      result = 1;
      goto LABEL_11;
    }

    v13 = 0.0;
    if (sub_245B5C7B0(&v13, *a2, a2[1]))
    {
      *a3 = a4 - v13;
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7668);
      }

      v12 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        *buf = 134283521;
        v15 = v13;
        _os_log_impl(&dword_245B46000, v12, OS_LOG_TYPE_DEBUG, "CLVLFT,convertAltitudeWgs84ToMsl,DEM unavailable,using DMA und,%{private}f", buf, 0xCu);
      }

      goto LABEL_4;
    }

    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7668);
    }

    v9 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
LABEL_10:
      result = 0;
      goto LABEL_11;
    }

    *buf = 0;
    v10 = "CLVLFT,convertAltitudeWgs84ToMsl,DMA unavailable,Failed to convert altitude";
LABEL_9:
    _os_log_impl(&dword_245B46000, v9, OS_LOG_TYPE_DEBUG, v10, buf, 2u);
    goto LABEL_10;
  }

  if (qword_27EE33DE8 != -1)
  {
    dispatch_once(&qword_27EE33DE8, &unk_2858B7668);
  }

  v9 = qword_27EE33DF0;
  result = os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG);
  if (result)
  {
    *buf = 0;
    v10 = "CLVLFT,convertAltitudeWgs84ToMsl,altitudeWgs84 unavailable";
    goto LABEL_9;
  }

LABEL_11:
  v11 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_245B4B188(_Unwind_Exception *a1, int a2)
{
  if (!a2)
  {
    _Unwind_Resume(a1);
  }

  sub_245B46F20(a1);
}

void *sub_245B4B1D0(void *a1)
{
  v2 = a1[6];
  if (v2)
  {
    operator delete(v2);
  }

  v3 = a1[3];
  if (v3)
  {
    a1[4] = v3;
    operator delete(v3);
  }

  return a1;
}

uint64_t sub_245B4B210(uint64_t a1, uint64_t a2)
{
  *a1 = *a2;
  *(a1 + 8) = &unk_2858B6DC0;
  v3 = *(a2 + 32);
  v4 = *(a2 + 48);
  *(a1 + 16) = *(a2 + 16);
  *(a1 + 32) = v3;
  *(a1 + 8) = &unk_2858B6BF0;
  *(a1 + 48) = v4;
  *(a1 + 56) = &unk_2858B6880;
  *(a1 + 64) = *(a2 + 64);
  v5 = *(a2 + 80);
  v6 = *(a2 + 96);
  v7 = *(a2 + 128);
  *(a1 + 112) = *(a2 + 112);
  *(a1 + 128) = v7;
  *(a1 + 80) = v5;
  *(a1 + 96) = v6;
  *(a1 + 144) = &unk_2858B6DC0;
  v8 = *(a2 + 152);
  v9 = *(a2 + 184);
  *(a1 + 168) = *(a2 + 168);
  *(a1 + 152) = v8;
  *(a1 + 184) = v9;
  *(a1 + 192) = &unk_2858B66C8;
  v10 = *(a2 + 200);
  *(a1 + 216) = *(a2 + 216);
  *(a1 + 200) = v10;
  *(a1 + 232) = &unk_2858B6A38;
  memcpy((a1 + 240), (a2 + 240), 0x128uLL);
  return a1;
}

uint64_t sub_245B4B3F4(uint64_t a1)
{
  *a1 = 1;
  __asm { FMOV            V0.2D, #-1.0 }

  v8 = _Q0;
  *(a1 + 8) = _Q0;
  *(a1 + 24) = _Q0;
  *(a1 + 40) = _Q0;
  *(a1 + 56) = 0;
  *(a1 + 72) = 0u;
  *(a1 + 88) = 0u;
  *(a1 + 64) = &unk_2858B6BF0;
  *(a1 + 104) = 0;
  *(a1 + 112) = &unk_2858B6880;
  *(a1 + 120) = 0u;
  *(a1 + 136) = 0u;
  *(a1 + 152) = 0u;
  *(a1 + 168) = 0u;
  *(a1 + 184) = 0u;
  *(a1 + 200) = &unk_2858B6DC0;
  *(a1 + 208) = 0u;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0;
  *(a1 + 248) = &unk_2858B66C8;
  *(a1 + 256) = 0u;
  *(a1 + 272) = 0u;
  *(a1 + 288) = &unk_2858B6A38;
  *(a1 + 296) = 0u;
  *(a1 + 312) = 0u;
  *(a1 + 328) = 0u;
  *(a1 + 344) = 0u;
  *(a1 + 360) = 0u;
  *(a1 + 376) = 0u;
  *(a1 + 392) = 0u;
  *(a1 + 408) = 0u;
  *(a1 + 424) = 0u;
  *(a1 + 440) = 0u;
  *(a1 + 456) = 0u;
  *(a1 + 472) = 0u;
  *(a1 + 488) = 0u;
  *(a1 + 504) = 0u;
  *(a1 + 520) = 0u;
  *(a1 + 536) = 0u;
  *(a1 + 552) = 0u;
  *(a1 + 568) = 0u;
  *(a1 + 584) = 0;
  sub_245B4B974(a1 + 592, 1);
  *(a1 + 1128) = &unk_2858B66C8;
  *(a1 + 1136) = 0u;
  *(a1 + 1152) = 0u;
  *(a1 + 1168) = &unk_2858B6880;
  *(a1 + 1176) = 0u;
  *(a1 + 1192) = 0u;
  *(a1 + 1208) = 0u;
  *(a1 + 1224) = 0u;
  *(a1 + 1240) = 0u;
  *(a1 + 1256) = 0;
  *(a1 + 1264) = &unk_2858B66C8;
  *(a1 + 1272) = 0u;
  *(a1 + 1288) = 0u;
  *(a1 + 1304) = &unk_2858B6880;
  *(a1 + 1312) = 0u;
  *(a1 + 1328) = 0u;
  *(a1 + 1344) = 0u;
  *(a1 + 1360) = 0u;
  *(a1 + 1376) = 0u;
  *(a1 + 1392) = 0xBFF0000000000000;
  *(a1 + 1400) = 0;
  *(a1 + 1408) = v8;
  *(a1 + 1424) = 0;
  return a1;
}

double sub_245B4B614(uint64_t a1)
{
  __asm { FMOV            V0.2D, #-1.0 }

  *a1 = _Q0;
  *(a1 + 16) = 0xBFF0000000000000;
  *(a1 + 24) = 0;
  result = 0.0;
  *(a1 + 40) = 0u;
  *(a1 + 56) = 0u;
  *(a1 + 32) = &unk_2858B6BF0;
  *(a1 + 72) = 0;
  *(a1 + 80) = &unk_2858B6880;
  *(a1 + 88) = 0u;
  *(a1 + 104) = 0u;
  *(a1 + 120) = 0u;
  *(a1 + 136) = 0u;
  *(a1 + 152) = 0u;
  *(a1 + 168) = &unk_2858B6DC0;
  *(a1 + 176) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = 0;
  *(a1 + 216) = &unk_2858B66C8;
  *(a1 + 224) = 0u;
  *(a1 + 240) = 0u;
  *(a1 + 256) = &unk_2858B6A38;
  *(a1 + 576) = 0u;
  *(a1 + 592) = 0u;
  *(a1 + 608) = 0;
  *(a1 + 264) = 0u;
  *(a1 + 280) = 0u;
  *(a1 + 296) = 0u;
  *(a1 + 312) = 0u;
  *(a1 + 328) = 0u;
  *(a1 + 344) = 0u;
  *(a1 + 360) = 0u;
  *(a1 + 376) = 0u;
  *(a1 + 392) = 0u;
  *(a1 + 408) = 0u;
  *(a1 + 424) = 0u;
  *(a1 + 440) = 0u;
  *(a1 + 456) = 0u;
  *(a1 + 472) = 0u;
  *(a1 + 488) = 0u;
  *(a1 + 504) = 0u;
  *(a1 + 520) = 0u;
  *(a1 + 536) = 0u;
  *(a1 + 545) = 0u;
  *(a1 + 568) = &unk_2858B6BF0;
  *(a1 + 616) = &unk_2858B6880;
  *(a1 + 624) = 0u;
  *(a1 + 640) = 0u;
  *(a1 + 656) = 0u;
  *(a1 + 672) = 0u;
  *(a1 + 688) = 0u;
  *(a1 + 704) = &unk_2858B6DC0;
  *(a1 + 712) = 0u;
  *(a1 + 728) = 0u;
  *(a1 + 744) = 0;
  *(a1 + 752) = &unk_2858B66C8;
  *(a1 + 760) = 0u;
  *(a1 + 776) = 0u;
  *(a1 + 792) = &unk_2858B6A38;
  *(a1 + 800) = 0u;
  *(a1 + 816) = 0u;
  *(a1 + 832) = 0u;
  *(a1 + 848) = 0u;
  *(a1 + 864) = 0u;
  *(a1 + 880) = 0u;
  *(a1 + 896) = 0u;
  *(a1 + 912) = 0u;
  *(a1 + 928) = 0u;
  *(a1 + 944) = 0u;
  *(a1 + 960) = 0u;
  *(a1 + 976) = 0u;
  *(a1 + 992) = 0u;
  *(a1 + 1008) = 0u;
  *(a1 + 1024) = 0u;
  *(a1 + 1040) = 0u;
  *(a1 + 1056) = 0u;
  *(a1 + 1072) = 0u;
  *(a1 + 1088) = 0;
  *(a1 + 1096) = &unk_2858B66C8;
  *(a1 + 1104) = 0u;
  *(a1 + 1120) = 0u;
  *(a1 + 1129) = 0u;
  *(a1 + 1152) = &unk_2858B66C8;
  *(a1 + 1208) = 0u;
  *(a1 + 1224) = 0u;
  *(a1 + 1240) = 0;
  *(a1 + 1160) = 0u;
  *(a1 + 1176) = 0u;
  *(a1 + 1192) = 0;
  *(a1 + 1200) = &unk_2858B6BF0;
  *(a1 + 1248) = &unk_2858B6880;
  *(a1 + 1256) = 0u;
  *(a1 + 1272) = 0u;
  *(a1 + 1288) = 0u;
  *(a1 + 1304) = 0u;
  *(a1 + 1320) = 0u;
  *(a1 + 1336) = &unk_2858B6DC0;
  *(a1 + 1344) = 0u;
  *(a1 + 1360) = 0u;
  *(a1 + 1376) = 0;
  *(a1 + 1384) = &unk_2858B66C8;
  *(a1 + 1392) = 0u;
  *(a1 + 1408) = 0u;
  *(a1 + 1424) = &unk_2858B6A38;
  *(a1 + 1432) = 0u;
  *(a1 + 1448) = 0u;
  *(a1 + 1464) = 0u;
  *(a1 + 1480) = 0u;
  *(a1 + 1496) = 0u;
  *(a1 + 1512) = 0u;
  *(a1 + 1528) = 0u;
  *(a1 + 1544) = 0u;
  *(a1 + 1560) = 0u;
  *(a1 + 1576) = 0u;
  *(a1 + 1592) = 0u;
  *(a1 + 1608) = 0u;
  *(a1 + 1624) = 0u;
  *(a1 + 1640) = 0u;
  *(a1 + 1656) = 0u;
  *(a1 + 1672) = 0u;
  *(a1 + 1688) = 0u;
  *(a1 + 1704) = 0u;
  *(a1 + 1720) = 0;
  return result;
}

uint64_t sub_245B4B974(uint64_t result, int a2)
{
  *result = 0;
  *(result + 16) = 0u;
  *(result + 32) = 0u;
  *(result + 8) = &unk_2858B6BF0;
  *(result + 48) = 0;
  *(result + 56) = &unk_2858B6880;
  *(result + 64) = 0u;
  *(result + 80) = 0u;
  *(result + 96) = 0u;
  *(result + 112) = 0u;
  *(result + 128) = 0u;
  *(result + 152) = 0u;
  *(result + 144) = &unk_2858B6DC0;
  *(result + 168) = 0u;
  *(result + 184) = 0;
  *(result + 192) = &unk_2858B66C8;
  *(result + 200) = 0u;
  *(result + 216) = 0u;
  *(result + 240) = 0u;
  *(result + 232) = &unk_2858B6A38;
  *(result + 256) = 0u;
  *(result + 272) = 0u;
  *(result + 288) = 0u;
  *(result + 304) = 0u;
  *(result + 320) = 0u;
  *(result + 336) = 0u;
  *(result + 352) = 0u;
  *(result + 368) = 0u;
  *(result + 384) = 0u;
  *(result + 400) = 0u;
  *(result + 416) = 0u;
  *(result + 432) = 0u;
  *(result + 448) = 0u;
  *(result + 464) = 0u;
  *(result + 480) = 0u;
  *(result + 496) = 0u;
  *(result + 512) = 0u;
  *(result + 528) = 0;
  if (a2)
  {
    *result = 1;
    *(result + 16) = 0;
    *(result + 24) = 0;
    *(result + 32) = 0;
    *(result + 40) = 0x3FF0000000000000;
    *(result + 88) = 0uLL;
    *(result + 72) = 0uLL;
    *(result + 104) = 0uLL;
    *(result + 120) = 0;
    *(result + 128) = 0x3FF0000000000000;
    *(result + 96) = 0x3FF0000000000000;
    *(result + 64) = 0x3FF0000000000000;
    *(result + 240) = 0uLL;
    *(result + 256) = 0uLL;
    *(result + 272) = 0uLL;
    *(result + 288) = 0uLL;
    *(result + 304) = 0uLL;
    *(result + 320) = 0uLL;
    *(result + 336) = 0uLL;
    *(result + 352) = 0uLL;
    *(result + 368) = 0uLL;
    *(result + 384) = 0uLL;
    *(result + 400) = 0uLL;
    *(result + 416) = 0uLL;
    *(result + 432) = 0uLL;
    *(result + 448) = 0uLL;
    *(result + 464) = 0uLL;
    *(result + 480) = 0uLL;
    *(result + 496) = 0uLL;
    *(result + 512) = 0uLL;
    *(result + 152) = 0uLL;
    *(result + 168) = 0uLL;
    *(result + 208) = 0;
    *(result + 216) = 0;
    *(result + 200) = 0;
  }

  return result;
}

__n128 sub_245B4BAE4(uint64_t a1)
{
  *a1 = 0;
  __asm { FMOV            V0.2D, #-1.0 }

  *(a1 + 8) = result;
  *(a1 + 24) = 0xBFF0000000000000;
  *(a1 + 32) = &unk_2858B66C8;
  *(a1 + 40) = 0u;
  *(a1 + 56) = 0u;
  *(a1 + 72) = &unk_2858B66C8;
  *(a1 + 80) = 0u;
  *(a1 + 96) = 0u;
  *(a1 + 112) = result;
  *(a1 + 128) = result;
  *(a1 + 144) = result;
  *(a1 + 160) = 0;
  *(a1 + 168) = &unk_2858B66C8;
  *(a1 + 176) = 0u;
  *(a1 + 192) = 0u;
  *(a1 + 208) = &unk_2858B66C8;
  *(a1 + 232) = 0u;
  *(a1 + 216) = 0u;
  *(a1 + 248) = &unk_2858B6880;
  *(a1 + 256) = 0u;
  *(a1 + 272) = 0u;
  *(a1 + 288) = 0u;
  *(a1 + 304) = 0u;
  *(a1 + 320) = 0u;
  *(a1 + 336) = 0;
  *(a1 + 344) = 0xBFF0000000000000;
  *(a1 + 352) = 0xBFF0000000000000;
  return result;
}

__n128 sub_245B4BBD4(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 16);
  *a1 = *a2;
  *(a1 + 16) = v2;
  *(a1 + 32) = &unk_2858B66C8;
  v3 = *(a2 + 40);
  *(a1 + 56) = *(a2 + 56);
  *(a1 + 40) = v3;
  *(a1 + 72) = &unk_2858B66C8;
  v4 = *(a2 + 96);
  *(a1 + 80) = *(a2 + 80);
  *(a1 + 96) = v4;
  v5 = *(a2 + 112);
  v6 = *(a2 + 128);
  v7 = *(a2 + 144);
  *(a1 + 160) = *(a2 + 160);
  *(a1 + 128) = v6;
  *(a1 + 144) = v7;
  *(a1 + 112) = v5;
  *(a1 + 168) = &unk_2858B66C8;
  v8 = *(a2 + 192);
  *(a1 + 176) = *(a2 + 176);
  *(a1 + 192) = v8;
  *(a1 + 208) = &unk_2858B66C8;
  v9 = *(a2 + 216);
  *(a1 + 232) = *(a2 + 232);
  *(a1 + 216) = v9;
  *(a1 + 248) = &unk_2858B6880;
  *(a1 + 256) = *(a2 + 256);
  v10 = *(a2 + 272);
  v11 = *(a2 + 288);
  v12 = *(a2 + 320);
  *(a1 + 304) = *(a2 + 304);
  *(a1 + 320) = v12;
  *(a1 + 272) = v10;
  *(a1 + 288) = v11;
  result = *(a2 + 336);
  *(a1 + 352) = *(a2 + 352);
  *(a1 + 336) = result;
  return result;
}

os_log_t sub_245B4BCF0()
{
  result = os_log_create("com.apple.locationd.Position", "Vision");
  qword_27EE33DF0 = result;
  return result;
}

void sub_245B4BD5C(uint64_t a1)
{
  v15 = *MEMORY[0x277D85DE8];
  v1 = *(a1 + 8);
  if (v1 >= 2)
  {
    v3 = *(a1 + 12);
    if (v3 >= 2)
    {
      v4 = v3 + v1 - *(a1 + 20);
      if (v4 <= 0)
      {
        __assert_rtn("TransposeDataFootprint", "cnmatrix.h", 128, "lead_dim > 0");
      }

      v5 = *(a1 + 16);
      bzero(v14, v5);
      if (v5 >= 3)
      {
        v6 = (v5 - 1);
        v7 = *(a1 + 32);
        v8 = 1;
        do
        {
          v9 = &v14[v8];
          if ((v14[v8] & 1) == 0)
          {
            v10 = *(v7 + 8 * v8);
            v11 = v8;
            do
            {
              v11 = v11 * v4 % v6;
              v12 = *(v7 + 8 * v11);
              *(v7 + 8 * v11) = v10;
              *v9 = 1;
              v9 = &v14[v11];
              v10 = v12;
            }

            while (!*v9);
          }

          ++v8;
        }

        while (v8 != v6);
      }
    }
  }

  v13 = *MEMORY[0x277D85DE8];
}

uint64_t sub_245B4BE80(uint64_t a1, int a2, int a3)
{
  v3 = *(a1 + 32);
  if (!v3)
  {
    __assert_rtn("operator()", "cnmatrixbase.h", 782, "data_ != __null");
  }

  v4 = a2 + *(a1 + 20) * a3;
  if ((v4 & 0x80000000) != 0)
  {
    __assert_rtn("operator()", "cnmatrixbase.h", 783, "idx >= 0");
  }

  if (v4 >= *(a1 + 16))
  {
    __assert_rtn("operator()", "cnmatrixbase.h", 784, "idx < num_elements_");
  }

  return v3 + 8 * v4;
}

double sub_245B4BF18(double *a1, double *a2)
{
  v2 = *a1;
  v3 = a1[4];
  v4 = a1[8];
  v5 = *a1 + v3 + v4;
  if (v5 <= 0.0)
  {
    if (v2 > v3)
    {
      v8 = v2 == v4;
      v9 = v2 < v4;
    }

    else
    {
      v8 = 1;
      v9 = 0;
    }

    if (v9 || v8)
    {
      v10 = 1.0 - v2;
      if (v3 <= v4)
      {
        v15 = sqrt(v10 - v3 + v4);
        v6 = v15 + v15;
        *a2 = (a1[2] + a1[6]) / v6;
        a2[1] = (a1[7] + a1[5]) / v6;
        a2[2] = v6 * 0.25;
        v13 = a1[3];
        v14 = a1[1];
      }

      else
      {
        v11 = sqrt(v10 + v3 - v4);
        v6 = v11 + v11;
        *a2 = (a1[3] + a1[1]) / v6;
        a2[1] = v6 * 0.25;
        a2[2] = (a1[7] + a1[5]) / v6;
        v13 = a1[2];
        v14 = a1[6];
      }
    }

    else
    {
      v12 = sqrt(v2 + 1.0 - v3 - v4);
      v6 = v12 + v12;
      *a2 = v6 * 0.25;
      a2[1] = (a1[3] + a1[1]) / v6;
      a2[2] = (a1[2] + a1[6]) / v6;
      v13 = a1[7];
      v14 = a1[5];
    }

    v7 = v13 - v14;
  }

  else
  {
    v6 = 0.5 / sqrt(v5 + 1.0);
    *a2 = v6 * (a1[7] - a1[5]);
    a2[1] = v6 * (a1[2] - a1[6]);
    a2[2] = v6 * (a1[3] - a1[1]);
    v7 = 0.25;
  }

  result = v7 / v6;
  a2[3] = result;
  return result;
}

uint64_t *sub_245B4C0A4(uint64_t *a1, uint64_t a2, uint64_t a3)
{
  *a1 = a2;
  a1[1] = a3;
  if (a3 == 1)
  {
    v4 = 1;
  }

  else
  {
    v4 = a2;
  }

  a1[2] = v4;
  sub_245B4C0F0(a1 + 3, a3 * a2);
  a1[6] = 0;
  a1[7] = 0;
  a1[8] = 0;
  return a1;
}

void *sub_245B4C0F0(void *result, unint64_t a2)
{
  *result = 0;
  result[1] = 0;
  result[2] = 0;
  if (a2)
  {
    sub_245B4C168(result, a2);
  }

  return result;
}

void sub_245B4C14C(_Unwind_Exception *exception_object)
{
  v3 = *v1;
  if (*v1)
  {
    *(v1 + 8) = v3;
    operator delete(v3);
  }

  _Unwind_Resume(exception_object);
}

void sub_245B4C168(uint64_t a1, unint64_t a2)
{
  if (!(a2 >> 61))
  {
    sub_245B4C1BC(a1, a2);
  }

  sub_245B4C1A4();
}

void sub_245B4C1BC(uint64_t a1, unint64_t a2)
{
  if (!(a2 >> 61))
  {
    operator new();
  }

  sub_245B4C204();
}

void sub_245B4C204()
{
  exception = __cxa_allocate_exception(8uLL);
  v1 = std::bad_array_new_length::bad_array_new_length(exception);
  __cxa_throw(v1, MEMORY[0x277D82778], MEMORY[0x277D82620]);
}

void sub_245B4C2B8(uint64_t *a1, void *a2)
{
  v4 = a2[1];
  v5 = a2[2];
  *a1 = v4;
  a1[1] = v5;
  if (v5 == 1)
  {
    v6 = 1;
  }

  else
  {
    v6 = v4;
  }

  a1[2] = v6;
  sub_245B4C40C(a1 + 3, v5 * v4);
  v7 = a2[1];
  v8 = a2[4];
  if (v7 == v8)
  {
    v9 = a2[5];
    v10 = a2[6];
    if (v10 != v9)
    {
      v11 = a1[3];

      memmove(v11, v9, v10 - v9);
    }
  }

  else
  {
    v12 = a2[3];
    v13 = a1[1];
    if (v12 == 1)
    {
      if (v13)
      {
        v14 = 0;
        for (i = 0; i < v13; ++i)
        {
          if (v7)
          {
            memmove((a1[3] + v14 * a1[2]), (a2[5] + 8 * a2[4] * i), 8 * v7);
            v13 = a1[1];
          }

          v14 += 8;
        }
      }
    }

    else if (v13)
    {
      v16 = 0;
      v17 = 0;
      v18 = *a1;
      v19 = 8 * a1[2];
      v20 = a2[5];
      v21 = 8 * v8;
      v22 = 8 * v12;
      do
      {
        if (v18)
        {
          v23 = (a1[3] + v16);
          v24 = v20;
          v25 = v18;
          do
          {
            *v23++ = *v24;
            v24 = (v24 + v22);
            --v25;
          }

          while (v25);
        }

        ++v17;
        v16 += v19;
        v20 = (v20 + v21);
      }

      while (v17 != v13);
    }
  }
}

void sub_245B4C40C(void *a1, unint64_t a2)
{
  v2 = (a1[1] - *a1) >> 3;
  if (a2 <= v2)
  {
    if (a2 < v2)
    {
      a1[1] = *a1 + 8 * a2;
    }
  }

  else
  {
    sub_245B4C43C(a1, a2 - v2);
  }
}

void sub_245B4C43C(uint64_t a1, unint64_t a2)
{
  v5 = *(a1 + 8);
  v4 = *(a1 + 16);
  if (a2 <= (v4 - v5) >> 3)
  {
    if (a2)
    {
      bzero(*(a1 + 8), 8 * a2);
      v5 += 8 * a2;
    }

    *(a1 + 8) = v5;
  }

  else
  {
    v6 = *a1;
    v7 = v5 - *a1;
    v8 = a2 + (v7 >> 3);
    if (v8 >> 61)
    {
      sub_245B4C1A4();
    }

    v9 = v4 - v6;
    if (v9 >> 2 > v8)
    {
      v8 = v9 >> 2;
    }

    if (v9 >= 0x7FFFFFFFFFFFFFF8)
    {
      v10 = 0x1FFFFFFFFFFFFFFFLL;
    }

    else
    {
      v10 = v8;
    }

    if (v10)
    {
      sub_245B4C1BC(a1, v10);
    }

    v11 = (8 * (v7 >> 3));
    bzero(v11, 8 * a2);
    memcpy(0, v6, v7);
    v12 = *a1;
    *a1 = 0;
    *(a1 + 8) = &v11[8 * a2];
    *(a1 + 16) = 0;
    if (v12)
    {

      operator delete(v12);
    }
  }
}

void *sub_245B4C56C(void *result, void *a2)
{
  v3 = result;
  v5 = result[3];
  v4 = result[4];
  v7 = result[1];
  v6 = result[2];
  v8 = a2[2];
  v9 = a2[3];
  if (v4 == v7)
  {
    v11 = v5 != v6 || v9 != v8;
    if (a2[4] != a2[1] && v11)
    {
      goto LABEL_10;
    }
  }

  else if (v5 != v6 || v9 != v8)
  {
LABEL_10:
    if (v5 == 1 && v9 == 1)
    {
      if (v6)
      {
        v26 = 0;
        v27 = a2[1];
        do
        {
          if (v27)
          {
            result = memmove((v3[5] + 8 * v3[4] * v26), (a2[5] + 8 * a2[4] * v26), 8 * v27);
            v6 = v3[2];
          }

          ++v26;
        }

        while (v26 < v6);
      }
    }

    else if (v6)
    {
      v13 = 0;
      v14 = 0;
      v15 = 8 * v4;
      v16 = 8 * v5;
      v17 = a2[5];
      v18 = 8 * a2[4];
      v19 = 8 * v9;
      do
      {
        if (v7)
        {
          v20 = (v3[5] + v13);
          result = v17;
          v21 = v7;
          do
          {
            *v20 = *result;
            v20 = (v20 + v16);
            result = (result + v19);
            --v21;
          }

          while (v21);
        }

        ++v14;
        v13 += v15;
        v17 = (v17 + v18);
      }

      while (v14 != v6);
    }

    return result;
  }

  v23 = a2[5];
  v24 = a2[6];
  if (v24 != v23)
  {
    v25 = result[5];

    return memmove(v25, v23, v24 - v23);
  }

  return result;
}

void *sub_245B4C6C8(void *result, uint64_t *a2)
{
  v2 = result[4];
  v3 = result[1];
  if (v2 == v3)
  {
    v4 = a2[3];
    v5 = a2[4];
    if (v4 != v5)
    {
      v6 = result[5];
      do
      {
        v7 = *v4++;
        *v6++ = v7;
      }

      while (v4 != v5);
    }
  }

  else
  {
    v8 = result[3];
    v9 = a2[1];
    v10 = a2[2];
    if (v8 == 1)
    {
      if (v9)
      {
        v11 = 0;
        v12 = a2[3];
        v13 = result[5];
        do
        {
          v14 = 8 * v11 * v10;
          v15 = v11 * v10 + v3;
          if (v14 != 8 * v15)
          {
            v16 = (v12 + 8 * v15);
            v17 = (v13 + 8 * v11 * v2);
            v18 = (v14 + v12);
            do
            {
              v19 = *v18++;
              *v17++ = v19;
            }

            while (v18 != v16);
          }

          ++v11;
        }

        while (v11 != v9);
      }
    }

    else if (v9)
    {
      v20 = 0;
      v21 = 0;
      v22 = *a2;
      v23 = 8 * v2;
      v24 = a2[3];
      v25 = 8 * v8;
      v26 = 8 * v10;
      do
      {
        if (v22)
        {
          v27 = (result[5] + v20);
          v28 = v24;
          v29 = v22;
          do
          {
            v30 = *v28++;
            *v27 = v30;
            v27 = (v27 + v25);
            --v29;
          }

          while (v29);
        }

        ++v21;
        v20 += v23;
        v24 = (v24 + v26);
      }

      while (v21 != v9);
    }
  }

  return result;
}

uint64_t sub_245B4C7C0(uint64_t a1)
{
  *a1 = 0;
  *(a1 + 8) = 0u;
  *(a1 + 24) = 0u;
  *(a1 + 40) = 0u;
  *(a1 + 56) = 0u;
  *(a1 + 72) = 0;
  sub_245B5B310(a1 + 80);
  sub_245B5B310(a1 + 3416);
  *(a1 + 6768) = 0;
  *(a1 + 6752) = 0u;
  sub_245B5B310(a1 + 6776);
  sub_245B4B3F4(a1 + 10112);
  sub_245B4B614(a1 + 11544);
  sub_245B4BAE4(a1 + 13272);
  sub_245B4C854(a1);
  return a1;
}

void sub_245B4C854(uint64_t a1)
{
  while ((atomic_exchange_explicit((a1 + 1), 1u, memory_order_acquire) & 1) != 0)
  {
    sched_yield();
  }

  sub_245B4C8A8(a1, 1);
  atomic_store(0, (a1 + 1));
}

void sub_245B4C8A8(uint64_t a1, int a2)
{
  v4 = atomic_exchange_explicit((a1 + 1), 1u, memory_order_acquire);
  if ((v4 & 1) == 0)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v5 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      LOWORD(v55) = 0;
      _os_log_impl(&dword_245B46000, v5, OS_LOG_TYPE_ERROR, "CLVLF,reset,Called without locking vision buffers", &v55, 2u);
    }
  }

  if (!a2)
  {
    v9 = *(a1 + 40);
    v10 = a1 + 32;
    v11 = *(a1 + 56);
    v12 = *(a1 + 64);
    if (*(a1 + 32) == v9)
    {
      if (v11 == v12)
      {
        sub_245B50DC0(a1, 2.4);
        goto LABEL_24;
      }

      sub_245B591CC(a1, *(v12 - 1776));
    }

    else
    {
      if (v11 == v12)
      {
        sub_245B591CC(a1, *(v9 - 3152));
        sub_245B59484(v10, *(a1 + 32), (*(a1 + 40) - 3160));
        goto LABEL_24;
      }

      v13 = (v12 - 1776);
      v14 = *v13;
      v15 = (v9 - 3152);
      if (*v15 < *v13)
      {
        v14 = *v15;
      }

      sub_245B50DC0(a1, v14);
      sub_245B59484(v10, *(a1 + 32), (*(a1 + 40) - 3160));
    }

    sub_245B594E8(a1 + 56, *(a1 + 56), *(a1 + 64) - 1792);
    goto LABEL_24;
  }

  v6 = *(a1 + 8);
  if (v6)
  {
    *(a1 + 16) = v6;
    operator delete(v6);
  }

  v7 = *(a1 + 32);
  *(a1 + 8) = 0;
  *(a1 + 16) = 0;
  *(a1 + 24) = 0;
  if (v7)
  {
    *(a1 + 40) = v7;
    operator delete(v7);
  }

  v8 = *(a1 + 56);
  *(a1 + 32) = 0;
  *(a1 + 40) = 0;
  *(a1 + 48) = 0;
  if (v8)
  {
    *(a1 + 64) = v8;
    operator delete(v8);
  }

  *(a1 + 56) = 0;
  *(a1 + 64) = 0;
  *(a1 + 72) = 0;
LABEL_24:
  bzero(&v55, 0xD08uLL);
  sub_245B5B310(&v55);
  sub_245B5954C(a1 + 80, &v55);
  bzero(&v55, 0xD08uLL);
  sub_245B5B310(&v55);
  sub_245B5954C(a1 + 3416, &v55);
  v16 = *(a1 + 6752);
  if (v16)
  {
    *(a1 + 6760) = v16;
    operator delete(v16);
  }

  *(a1 + 6752) = 0;
  *(a1 + 6760) = 0;
  *(a1 + 6768) = 0;
  bzero(&v55, 0xD08uLL);
  sub_245B5B310(&v55);
  sub_245B5954C(a1 + 6776, &v55);
  bzero(&v55, 0x598uLL);
  sub_245B4B3F4(&v55);
  v17 = v56;
  *(a1 + 10112) = v55;
  *(a1 + 10128) = v17;
  *(a1 + 10144) = *v57;
  *(a1 + 10160) = *&v57[16];
  *(a1 + 10168) = v57[24];
  v18 = *&v57[56];
  *(a1 + 10184) = *&v57[40];
  *(a1 + 10200) = v18;
  *(a1 + 10216) = *&v57[72];
  v19 = *&v57[88];
  v20 = *&v57[104];
  v21 = *&v57[120];
  v22 = *&v57[152];
  *(a1 + 10280) = *&v57[136];
  *(a1 + 10296) = v22;
  *(a1 + 10248) = v20;
  *(a1 + 10264) = v21;
  *(a1 + 10232) = v19;
  v23 = *&v57[192];
  *(a1 + 10320) = *&v57[176];
  *(a1 + 10336) = v23;
  *(a1 + 10352) = *&v57[208];
  v24 = *&v57[240];
  *(a1 + 10368) = *&v57[224];
  *(a1 + 10384) = v24;
  memcpy((a1 + 10408), &v57[264], 0x128uLL);
  v25 = v60;
  *(a1 + 10720) = v59;
  *(a1 + 10736) = v25;
  v26 = v62;
  *(a1 + 10784) = v63;
  v27 = *v65;
  *(a1 + 10800) = v64;
  *(a1 + 10704) = v58;
  *(a1 + 10752) = v61;
  *(a1 + 10816) = v27;
  *(a1 + 10832) = *&v65[16];
  *(a1 + 10768) = v26;
  v28 = v67;
  *(a1 + 10856) = v66;
  *(a1 + 10872) = v28;
  *(a1 + 10888) = v68;
  v29 = *&v69[16];
  *(a1 + 10904) = *v69;
  *(a1 + 10920) = v29;
  memcpy((a1 + 10944), &v69[40], 0x128uLL);
  *(a1 + 11248) = v70;
  *(a1 + 11264) = *v71;
  v30 = v75;
  *(a1 + 11320) = v74;
  *(a1 + 11336) = v30;
  *(a1 + 11352) = v76;
  v31 = v73;
  *(a1 + 11288) = v72;
  *(a1 + 11304) = v31;
  *(a1 + 11368) = v77;
  v32 = v79;
  *(a1 + 11384) = v78;
  *(a1 + 11400) = v32;
  *(a1 + 11440) = *&v80[24];
  *(a1 + 11456) = v81;
  *(a1 + 11472) = v82;
  *(a1 + 11488) = v83;
  *(a1 + 11424) = *&v80[8];
  *(a1 + 11504) = v84;
  *(a1 + 11520) = v85;
  *(a1 + 11536) = v86;
  bzero(&v55, 0x6C0uLL);
  sub_245B4B614(&v55);
  *(a1 + 11544) = v55;
  *(a1 + 11560) = v56;
  *(a1 + 11568) = BYTE8(v56);
  *(a1 + 11584) = *&v57[8];
  *(a1 + 11600) = *&v57[24];
  *(a1 + 11616) = *&v57[40];
  *(a1 + 11696) = *&v57[120];
  *(a1 + 11680) = *&v57[104];
  *(a1 + 11664) = *&v57[88];
  *(a1 + 11648) = *&v57[72];
  v33 = *&v57[160];
  *(a1 + 11720) = *&v57[144];
  *(a1 + 11736) = v33;
  v34 = *&v57[208];
  *(a1 + 11768) = *&v57[192];
  *(a1 + 11784) = v34;
  v35 = *&v57[56];
  *(a1 + 11752) = *&v57[176];
  *(a1 + 11632) = v35;
  memcpy((a1 + 11808), &v57[232], 0x128uLL);
  v36 = v58;
  *(a1 + 12120) = *&v57[544];
  *(a1 + 12136) = v36;
  v37 = v63;
  *(a1 + 12200) = v62;
  *(a1 + 12216) = v37;
  *(a1 + 12232) = v64;
  v38 = v61;
  *(a1 + 12168) = v60;
  *(a1 + 12184) = v38;
  v39 = *&v65[24];
  *(a1 + 12256) = *&v65[8];
  *(a1 + 12272) = v39;
  v40 = v68;
  *(a1 + 12304) = v67;
  *(a1 + 12104) = v57[528];
  *(a1 + 12152) = v59;
  *(a1 + 12288) = v66;
  *(a1 + 12320) = v40;
  memcpy((a1 + 12344), &v69[8], 0x128uLL);
  v41 = *&v69[328];
  *(a1 + 12648) = *&v69[312];
  *(a1 + 12664) = v41;
  v42 = v72;
  *(a1 + 12704) = *&v71[8];
  *(a1 + 12720) = v42;
  v43 = v74;
  *(a1 + 12768) = v75;
  *(a1 + 12752) = v43;
  v44 = v77;
  *(a1 + 12816) = v78;
  v45 = *v80;
  *(a1 + 12832) = v79;
  *(a1 + 12688) = BYTE8(v70);
  *(a1 + 12680) = v70;
  *(a1 + 12736) = v73;
  *(a1 + 12784) = v76;
  *(a1 + 12848) = v45;
  *(a1 + 12864) = *&v80[16];
  *(a1 + 12800) = v44;
  v46 = v82;
  *(a1 + 12888) = v81;
  *(a1 + 12904) = v46;
  *(a1 + 12920) = v83;
  v47 = v85;
  *(a1 + 12936) = v84;
  *(a1 + 12952) = v47;
  memcpy((a1 + 12976), v87, 0x128uLL);
  memset(v57, 0, 328);
  v55 = 0u;
  v56 = 0u;
  sub_245B4BAE4(&v55);
  v48 = v56;
  *(a1 + 13272) = v55;
  *(a1 + 13288) = v48;
  *(a1 + 13312) = *&v57[8];
  *(a1 + 13328) = *&v57[24];
  v49 = *&v57[64];
  *(a1 + 13352) = *&v57[48];
  *(a1 + 13368) = v49;
  v50 = *&v57[112];
  *(a1 + 13400) = *&v57[96];
  *(a1 + 13416) = v50;
  *(a1 + 13384) = *&v57[80];
  v51 = *&v57[160];
  *(a1 + 13448) = *&v57[144];
  *(a1 + 13464) = v51;
  *(a1 + 13488) = *&v57[184];
  *(a1 + 13504) = *&v57[200];
  v52 = *&v57[272];
  *(a1 + 13560) = *&v57[256];
  *(a1 + 13576) = v52;
  v53 = *&v57[304];
  *(a1 + 13592) = *&v57[288];
  v54 = *&v57[240];
  *(a1 + 13528) = *&v57[224];
  *(a1 + 13544) = v54;
  *(a1 + 13432) = v57[128];
  *(a1 + 13608) = v53;
  *(a1 + 13624) = *&v57[320];
  *(a1 + 13632) = 0;
  if ((v4 & 1) == 0)
  {
    atomic_store(0, (a1 + 1));
  }
}

uint64_t sub_245B4CFA0(unsigned __int8 *a1, uint64_t a2, uint64_t a3)
{
  v102 = *MEMORY[0x277D85DE8];
  *(a3 + 424) = 0;
  v5 = *(a2 + 96);
  if (v5 != 1 && v5 != 11)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v24 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
      goto LABEL_44;
    }

    v25 = *(a3 + 32);
    v26 = *(a2 + 96);
    *buf = 134349313;
    *&buf[4] = v25;
    *&buf[12] = 1025;
    *&buf[14] = v26;
    v16 = "CLVLF,getFusedLocation,Nonsupporting provider,machAbsTime,%{public}.3lf,locationType,%{private}d";
    v17 = v24;
    goto LABEL_42;
  }

  v8 = *(a3 + 32);
  if ((*a1 & 1) == 0)
  {
    v9 = *(a1 + 1444);
    v10 = vabdd_f64(v8, v9);
    if (v9 <= 0.0 || v10 > 24.0)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v12 = qword_27EE33DF0;
      if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        goto LABEL_44;
      }

      v13 = *(a3 + 32);
      v14 = *a1;
      v15 = *(a1 + 1444);
      *buf = 134349568;
      *&buf[4] = v13;
      *&buf[12] = 1026;
      *&buf[14] = v14;
      *&buf[18] = 2050;
      *&buf[20] = v15;
      v16 = "CLVLF,getFusedLocation,Filter inactive,machAbsTime,%{public}.3lf,activated,%{public}d,lastValidVlf,%{public}.3lf";
      v17 = v12;
      v18 = OS_LOG_TYPE_ERROR;
      v19 = 28;
      goto LABEL_43;
    }
  }

  if ((a1[6777] & 1) == 0 && (a1[6776] & 1) == 0)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v38 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
      goto LABEL_44;
    }

    v39 = *(a3 + 32);
    if (a1[6777])
    {
      v40 = 1;
    }

    else
    {
      v40 = a1[6776];
    }

    *buf = 134349312;
    *&buf[4] = v39;
    *&buf[12] = 1026;
    *&buf[14] = v40;
    v16 = "CLVLF,getFusedLocation,Filter not initialized,machAbsTime,%{public}.3lf,initialized,%{public}d";
    v17 = v38;
LABEL_42:
    v18 = OS_LOG_TYPE_DEBUG;
    v19 = 18;
LABEL_43:
    _os_log_impl(&dword_245B46000, v17, v18, v16, buf, v19);
LABEL_44:
    v35 = 0;
    goto LABEL_45;
  }

  if (v8 != *(a1 + 994))
  {
    v20 = (a1 + 7952);
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v21 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
      goto LABEL_44;
    }

    v22 = *(a3 + 32);
    v23 = *v20;
    *buf = 134349312;
    *&buf[4] = v22;
    *&buf[12] = 2050;
    *&buf[14] = v23;
    v16 = "CLVLF,getFusedLocation,Outdated state,machAbsTime,%{public}.3lf,stateMachAbsTime,%{public}.3lf";
    v17 = v21;
    v18 = OS_LOG_TYPE_DEBUG;
    v19 = 22;
    goto LABEL_43;
  }

  v27 = *(a1 + 1444);
  v28 = vabdd_f64(v8, v27) <= 24.0 && v27 > 0.0;
  v29 = *(a1 + 2074);
  v30 = -1.0;
  if ((v29 & 1) == 0 || (v31 = *(a1 + 1006), v31 <= 0.0))
  {
    v32 = 0;
    v41 = 0;
    v35 = 0;
    v37 = 0;
    v36 = -1.0;
    v34 = -1.0;
    if ((v29 & 2) != 0)
    {
      goto LABEL_71;
    }

LABEL_39:
    v42 = 0;
    goto LABEL_98;
  }

  v32 = (v31 > 0.0) & (v29 >> 2);
  *buf = vmulq_f64(*(a1 + 7976), vdupq_n_s64(0x404CA5DC1A63C1F8uLL));
  v33 = (a2 + 4);
  v34 = sub_245B5D2FC(xmmword_28150C540, *(a2 + 4), *(a2 + 12), *buf, *&buf[8], *(a2 + 28));
  if (*(a1 + 1006) > 32.0)
  {
    goto LABEL_32;
  }

  if (v28)
  {
    *v33 = *buf;
    v45 = *(a1 + 1006) * 0.7;
    if (v45 < 1.6)
    {
      v45 = 1.6;
    }

    *(a2 + 20) = v45;
    v46 = (a2 + 20);
    if (v32)
    {
      v35 = 5;
    }

    else
    {
      v35 = 1;
    }

    *(a3 + 424) = 1;
    v47 = *a1;
  }

  else
  {
    v46 = (a2 + 20);
    v48 = *(a2 + 20);
    if (v48 > 0.0 && v34 > v48 * 2.43199076)
    {
LABEL_32:
      v35 = 0;
      v36 = -1.0;
      v37 = 1;
      goto LABEL_70;
    }

    v47 = 0;
    *v33 = *buf;
    *v46 = *(a1 + 1006);
    if (v32)
    {
      v35 = 5;
    }

    else
    {
      v35 = 1;
    }

    *(a3 + 424) = 1;
  }

  *(a3 + 425) = v47 & 1;
  *(a3 + 432) = *v33;
  *(a3 + 448) = *v46;
  v84 = 0.0;
  if (sub_245B4AF98(*(a3 + 312), buf, &v84, *(a1 + 999), *(a1 + 1007), *(a3 + 316)))
  {
    v49 = v84;
    v36 = vabdd_f64(*(a2 + 28), v84);
    v50 = *(a1 + 1007);
    if (v50 > 8.0)
    {
LABEL_61:
      v37 = 0;
      goto LABEL_70;
    }

    if (v28)
    {
      *(a2 + 28) = v84;
      v50 = v50 * 0.8;
      *(a2 + 36) = v50;
      if (v50 < 0.8)
      {
        *(a2 + 36) = 0x3FE999999999999ALL;
        v50 = 0.8;
      }
    }

    else
    {
      v51 = *(a2 + 36);
      if (v51 > 0.0 && v36 > v50 + v51 + v50 + v51)
      {
        goto LABEL_61;
      }

      *(a2 + 28) = v84;
      *(a2 + 36) = v50;
    }

    v37 = 0;
    *(a3 + 464) = v49;
    *(a3 + 472) = v50;
  }

  else
  {
    v37 = 0;
    v36 = -1.0;
  }

LABEL_70:
  v41 = 1;
  if ((*(a1 + 2074) & 2) == 0)
  {
    goto LABEL_39;
  }

LABEL_71:
  v52 = *(a1 + 1009);
  v42 = v52 > 0.0;
  if (v52 <= 0.0)
  {
    v53 = 1;
  }

  else
  {
    v53 = v37;
  }

  if ((v53 & 1) == 0)
  {
    v54 = 1.57079633 - *(a1 + 1008);
    if (v54 < 0.0 || v54 >= 6.28318531)
    {
      v54 = fmod(v54, 6.28318531);
      if (v54 < 0.0 || v54 == 0.0 && (*&v54 & 0x8000000000000000) == 0)
      {
        v54 = v54 + 6.28318531;
      }
    }

    v55 = v52 * 57.2957795;
    if (v28)
    {
      v55 = v55 * 0.4;
      if (v55 < 7.5)
      {
        v55 = 7.5;
      }

      if (v55 > 180.0)
      {
        v55 = 180.0;
      }
    }

    v56 = v54 * 57.2957795;
    v57 = *(a2 + 60);
    if (v57 < 0.0 || (v58 = (a2 + 68), v59 = *(a2 + 68), v59 <= 0.0))
    {
      *(a2 + 60) = v56;
      v58 = (a2 + 68);
      v30 = -1.0;
    }

    else
    {
      v60 = vabdd_f64(v56, v57);
      if (360.0 - v60 >= v60)
      {
        v30 = v60;
      }

      else
      {
        v30 = 360.0 - v60;
      }

      if (!v28)
      {
        v61 = v55 + v59 + v55 + v59;
        if (v61 > 180.0)
        {
          v61 = 180.0;
        }

        if (v30 > v61)
        {
          goto LABEL_98;
        }
      }

      *(a2 + 60) = v56;
    }

    *v58 = v55;
    v35 = v35 | 2;
    *(a3 + 480) = v56;
    *(a3 + 488) = v55;
  }

LABEL_98:
  if (v37)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v62 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      v63 = *(a3 + 32);
      v64 = *(a1 + 1006);
      v65 = *(a2 + 20);
      v66 = *(a1 + 1007);
      v67 = *(a2 + 36);
      v68 = *(a1 + 1009) * 57.2957795;
      v69 = *(a2 + 68);
      *buf = 134351361;
      *&buf[4] = v63;
      *&buf[12] = 2049;
      *&buf[14] = v64;
      *&buf[22] = 2049;
      *&buf[24] = v65;
      *&buf[32] = 2049;
      *&buf[34] = v34;
      *&buf[42] = 2049;
      *&buf[44] = v66;
      *&buf[52] = 2049;
      *&buf[54] = v67;
      *&buf[62] = 2049;
      *&buf[64] = v36;
      *&buf[72] = 2049;
      *&buf[74] = v68;
      *&buf[82] = 2049;
      *&buf[84] = v69;
      *&buf[92] = 2049;
      *&buf[94] = v30;
      _os_log_impl(&dword_245B46000, v62, OS_LOG_TYPE_ERROR, "CLVLF,getFusedLocation,Filter reset,diverged,machAbsTime,%{public}.3lf,fusedHorizontalAccuracy,%{private}.3lf,locationHorizontalAccuracy,%{private}.3lf,horzDistToRaw,%{private}.3lf,fusedVerticalAccuracy,%{private}.3lf,locationVerticalAccuracy,%{private}.3lf,vertDistToRaw,%{private}.3lf,fusedCourseAccuracy,%{private}.3lf,locationCourseAccuracy,%{private}.3lf,courseDiffToRaw,%{private}.3lf", buf, 0x66u);
    }

    while ((atomic_exchange_explicit(a1 + 1, 1u, memory_order_acquire) & 1) != 0)
    {
      sched_yield();
    }

    sub_245B4C8A8(a1, 0);
    v35 = 0;
    atomic_store(0, a1 + 1);
  }

  else
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v70 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
      v71 = *(a2 + 96);
      v72 = *(a2 + 76);
      v73 = *(a3 + 32);
      v74 = *(a3 + 344);
      v75 = *(a2 + 4);
      v76 = *(a2 + 12);
      v77 = *(a2 + 20);
      v78 = *(a2 + 28);
      v79 = *(a2 + 36);
      v80 = *(a2 + 60);
      v81 = v75 == *(a3 + 432);
      if (v76 != *(a3 + 440))
      {
        v81 = 0;
      }

      if (v77 != *(a3 + 448))
      {
        v81 = 0;
      }

      if (v78 != *(a3 + 464))
      {
        v81 = 0;
      }

      if (v79 != *(a3 + 472))
      {
        v81 = 0;
      }

      v82 = *(a2 + 68);
      v83 = *(a3 + 424);
      if (v80 != *(a3 + 480))
      {
        v81 = 0;
      }

      if (v82 != *(a3 + 488))
      {
        v81 = 0;
      }

      if (*(a2 + 132) != *(a3 + 456))
      {
        v81 = 0;
      }

      *buf = 67179265;
      *&buf[4] = v71;
      *&buf[8] = 2050;
      *&buf[10] = v72;
      *&buf[18] = 2050;
      *&buf[20] = v73;
      *&buf[28] = 2050;
      *&buf[30] = v74;
      *&buf[38] = 2053;
      *&buf[40] = v75;
      *&buf[48] = 2053;
      *&buf[50] = v76;
      *&buf[58] = 2049;
      *&buf[60] = v77;
      *&buf[68] = 2049;
      *&buf[70] = v78;
      *&buf[78] = 2049;
      *&buf[80] = v79;
      *&buf[88] = 2049;
      *&buf[90] = v80;
      *&buf[98] = 2049;
      *&buf[100] = v82;
      v86 = 1026;
      v87 = v41;
      v88 = 1026;
      v89 = v32;
      v90 = 2049;
      v91 = v34;
      v92 = 2049;
      v93 = v36;
      v94 = 1026;
      v95 = v42;
      v96 = 2049;
      v97 = v30;
      v98 = 1026;
      v99 = v83;
      v100 = 1026;
      v101 = v81;
      _os_log_impl(&dword_245B46000, v70, OS_LOG_TYPE_DEBUG, "CLVLF,getFusedLocation,Output,type,%{private}d,timestamp,%{public}.3lf,machtime,%{public}.3lf,machContinuousTime,%{public}.3lf,latitude,%{sensitive}.8lf,longitude,%{sensitive}.8lf,horizontalAccuracy,%{private}.3lf,altitude,%{private}.3lf,verticalAccuracy,%{private}.3lf,course,%{private}.3lf,courseAccuracy,%{private}.3lf,isLocationFused,%{public}d,isLocationPropagated,%{public}d,horzDistToOriginal,%{private}.3lf,vertDistToOriginal,%{private}.3lf,isCourseFused,%{public}d,courseDiffToOriginal,%{private}.3lf,isCoordinateFused,%{public}d,isCoordinateEqualToFusedCoordinate,%{public}d", buf, 0xA8u);
    }
  }

LABEL_45:
  v43 = *MEMORY[0x277D85DE8];
  return v35;
}

void sub_245B4D8E0(_Unwind_Exception *a1, int a2)
{
  if (!a2)
  {
    _Unwind_Resume(a1);
  }

  sub_245B46F20(a1);
}

void sub_245B4D8EC(unsigned __int8 *a1, uint64_t a2)
{
  v18 = *MEMORY[0x277D85DE8];
  if (qword_27EE33DE8 != -1)
  {
    dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
  }

  v4 = qword_27EE33DF0;
  if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
  {
    __p = 67240192;
    __p_4 = a2;
    _os_log_impl(&dword_245B46000, v4, OS_LOG_TYPE_DEBUG, "CLVLF,pushARSessionState,sessionState,%{public}d", &__p, 8u);
  }

  if (a2 == 1)
  {
    if ((a1[6777] & 1) != 0 || a1[6776] == 1)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v5 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        v6 = *a1;
        __p = 67240192;
        __p_4 = v6;
        _os_log_impl(&dword_245B46000, v5, OS_LOG_TYPE_DEBUG, "CLVLF,pushARSessionState,Filter reset,AR session started,activated,%{public}d", &__p, 8u);
      }

      sub_245B4C854(a1);
    }

    *a1 = 1;
    if (0xED6866F8D962AE7BLL * ((*(a1 + 3) - *(a1 + 1)) >> 3) <= 0x1D)
    {
      v7 = *(a1 + 2);
      v17 = a1 + 8;
      operator new();
    }

    if (0xEBE8AB1946A49E23 * ((*(a1 + 6) - *(a1 + 4)) >> 3) <= 0x13)
    {
      v8 = *(a1 + 5);
      operator new();
    }

    if ((0x6DB6DB6DB6DB6DB7 * ((*(a1 + 9) - *(a1 + 7)) >> 8)) <= 9)
    {
      v9 = *(a1 + 8);
      operator new();
    }

    if ((0x13A524387AC82261 * ((*(a1 + 846) - *(a1 + 844)) >> 3)) <= 3)
    {
      v10 = a1 + 6752;
      v11 = *(a1 + 845);
      v17 = v10;
      operator new();
    }
  }

  else
  {
    *a1 = 0;
    if (*(a1 + 1444) <= 0.0)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v12 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        v13 = *a1;
        __p = 67240192;
        __p_4 = v13;
        _os_log_impl(&dword_245B46000, v12, OS_LOG_TYPE_DEBUG, "CLVLF,pushARSessionState,Filter reset,AR session closed,activated,%{public}d", &__p, 8u);
      }

      sub_245B4C854(a1);
    }
  }

  v14 = *MEMORY[0x277D85DE8];
}

void sub_245B4DD00(_Unwind_Exception *a1, int a2)
{
  if (!a2)
  {
    _Unwind_Resume(a1);
  }

  sub_245B46F20(a1);
}

void sub_245B4DD0C(unsigned __int8 *a1, void *a2)
{
  v100 = *MEMORY[0x277D85DE8];
  if (*a1)
  {
    v84 = 1;
    sub_245B4993C(a2, &v84, v89);
    if (v84 == 1)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v4 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        [a2 timestamp];
        v6 = v5;
        v7 = [a2 trackingState];
        v8 = [a2 inertialState];
        v9 = [a2 inertialCovariance];
        *buf = 134349825;
        *v86 = v6;
        *&v86[8] = 1026;
        *&v86[10] = v7;
        *&v86[14] = 2049;
        *&v86[16] = v8;
        *&v86[24] = 2049;
        *&v86[26] = v9;
        v10 = "CLVLF,pushVIOEstimation,Unable to construct VioData,machAbsTime,%{public}.3lf,trackingState,%{public}d,inertialState,%{private}p,inertialCovariance,%{private}p";
        v11 = buf;
        v12 = v4;
        v13 = OS_LOG_TYPE_DEBUG;
        v14 = 38;
LABEL_46:
        _os_log_impl(&dword_245B46000, v12, v13, v10, v11, v14);
      }
    }

    else if (v90 > 0.0 && ((v17 = *(a1 + 2), v18 = a1 + 8, *(a1 + 1) == v17) || *(v17 - 1392) < v90) && sub_245B47A94(v91) && sub_245B47A94(v96))
    {
      buf[0] = 1;
      *&v86[4] = vdupq_n_s64(3uLL);
      *&v86[20] = xmmword_245B5F4F0;
      v87 = v92;
      v88 = &v93;
      sub_245B5C264(buf, &dbl_245B61A50);
      v19 = v92[0] + v92[7] + v92[14];
      v20 = sqrt(v19);
      v22 = (v20 < 0.0 || ((*&v20 & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 > 0x3FE) && (*&v20 - 1) > 0xFFFFFFFFFFFFELL;
      if (!v22 && v20 < 0.041887902)
      {
        __B = 0.00175459634 / v19;
        sub_245B5C264(buf, &__B);
      }

      LOBYTE(__B) = 1;
      v80 = vdupq_n_s64(3uLL);
      v81 = xmmword_245B5F4F0;
      v82 = v94;
      v83 = &v95;
      sub_245B5C264(&__B, &dbl_245B61A58);
      v23 = v94[0] + v94[7] + v94[14];
      v24 = sqrt(v23);
      if ((v24 >= 0.0 && ((*&v24 & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 <= 0x3FE || (*&v24 - 1) <= 0xFFFFFFFFFFFFELL) && v24 < 1.5)
      {
        *v97 = 2.25 / v23;
        sub_245B5C264(&__B, v97);
      }

      while ((atomic_exchange_explicit(a1 + 1, 1u, memory_order_acquire) & 1) != 0)
      {
        sched_yield();
      }

      v32 = *(a1 + 1);
      v33 = *(a1 + 2);
      if (v32 != v33)
      {
        v34 = *(v33 - 174) - *(v32 + 40);
        if (v34 >= 3.0)
        {
          if (qword_27EE33DE8 != -1)
          {
            dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
          }

          v35 = qword_27EE33DF0;
          if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
          {
            v36 = vcvtd_n_f64_u64(*(a1 + 2) - *(a1 + 1), 0x14uLL);
            *v97 = 134349569;
            *&v97[4] = v90;
            *&v97[12] = 2050;
            *&v97[14] = v34;
            *&v97[22] = 2049;
            v98 = v36;
            _os_log_impl(&dword_245B46000, v35, OS_LOG_TYPE_DEBUG, "CLVLF,pushVIOEstimation,VIO buffer reached its maximum size,machAbsTime,%{public}.3lf,sizeInSec,%{public}.3lf,sizeInMB,%{private}.3lf", v97, 0x20u);
          }

          v37 = atomic_exchange_explicit(a1 + 1, 1u, memory_order_acquire);
          if ((v37 & 1) == 0)
          {
            if (qword_27EE33DE8 != -1)
            {
              dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
            }

            v38 = qword_27EE33DF0;
            if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
            {
              *v97 = 0;
              _os_log_impl(&dword_245B46000, v38, OS_LOG_TYPE_ERROR, "CLVLF,removeAllVioDataForFirstNSeconds,Called without locking vision buffers", v97, 2u);
            }
          }

          v39 = *(a1 + 1);
          v33 = *(a1 + 2);
          if (v39 != v33)
          {
            v40 = *(v39 + 40) + 0.3;
            while (*(v39 + 40) >= v40)
            {
              v39 += 1432;
              if (v39 == v33)
              {
                goto LABEL_74;
              }
            }

            if (v39 == v33 || (v39 + 1432) == v33)
            {
              v41 = v39;
            }

            else
            {
              v41 = v39;
              do
              {
                if (*(v39 + 1472) >= v40)
                {
                  v42 = *(v39 + 1432);
                  v43 = *(v39 + 1448);
                  v44 = *(v39 + 1464);
                  *(v41 + 48) = *(v39 + 1480);
                  *(v41 + 16) = v43;
                  *(v41 + 32) = v44;
                  *v41 = v42;
                  *(v41 + 56) = *(v39 + 1488);
                  v45 = *(v39 + 1504);
                  v46 = *(v39 + 1520);
                  *(v41 + 104) = *(v39 + 1536);
                  *(v41 + 88) = v46;
                  *(v41 + 72) = v45;
                  v47 = *(v39 + 1584);
                  v48 = *(v39 + 1600);
                  v49 = *(v39 + 1616);
                  *(v41 + 136) = *(v39 + 1568);
                  *(v41 + 184) = v49;
                  *(v41 + 168) = v48;
                  *(v41 + 152) = v47;
                  *(v41 + 120) = *(v39 + 1552);
                  v50 = *(v39 + 1640);
                  v51 = *(v39 + 1656);
                  *(v41 + 240) = *(v39 + 1672);
                  *(v41 + 208) = v50;
                  *(v41 + 224) = v51;
                  v52 = *(v39 + 1704);
                  *(v41 + 256) = *(v39 + 1688);
                  *(v41 + 272) = v52;
                  memcpy((v41 + 296), (v39 + 1728), 0x129uLL);
                  v54 = *(v39 + 2040);
                  v53 = *(v39 + 2056);
                  *(v41 + 640) = *(v39 + 2072);
                  *(v41 + 608) = v54;
                  *(v41 + 624) = v53;
                  v56 = *(v39 + 2104);
                  v55 = *(v39 + 2120);
                  v57 = *(v39 + 2152);
                  *(v41 + 704) = *(v39 + 2136);
                  *(v41 + 720) = v57;
                  *(v41 + 672) = v56;
                  *(v41 + 688) = v55;
                  *(v41 + 656) = *(v39 + 2088);
                  v58 = *(v39 + 2176);
                  v59 = *(v39 + 2192);
                  *(v41 + 776) = *(v39 + 2208);
                  *(v41 + 744) = v58;
                  *(v41 + 760) = v59;
                  v60 = *(v39 + 2240);
                  *(v41 + 792) = *(v39 + 2224);
                  *(v41 + 808) = v60;
                  memcpy((v41 + 832), (v39 + 2264), 0x128uLL);
                  v61 = *(v39 + 2568);
                  *(v41 + 1152) = *(v39 + 2584);
                  *(v41 + 1136) = v61;
                  *(v41 + 1176) = *(v39 + 2608);
                  v62 = *(v39 + 2640);
                  v63 = *(v39 + 2672);
                  v64 = *(v39 + 2624);
                  *(v41 + 1224) = *(v39 + 2656);
                  *(v41 + 1240) = v63;
                  *(v41 + 1192) = v64;
                  *(v41 + 1208) = v62;
                  *(v41 + 1256) = *(v39 + 2688);
                  v65 = *(v39 + 2720);
                  *(v41 + 1272) = *(v39 + 2704);
                  *(v41 + 1288) = v65;
                  *(v41 + 1312) = *(v39 + 2744);
                  v66 = *(v39 + 2792);
                  v67 = *(v39 + 2808);
                  v68 = *(v39 + 2776);
                  *(v41 + 1328) = *(v39 + 2760);
                  *(v41 + 1376) = v67;
                  *(v41 + 1360) = v66;
                  *(v41 + 1344) = v68;
                  v69 = *(v39 + 2824);
                  v70 = *(v39 + 2840);
                  *(v41 + 1424) = *(v39 + 2856);
                  *(v41 + 1408) = v70;
                  *(v41 + 1392) = v69;
                  v41 += 1432;
                }

                v71 = (v39 + 2864);
                v39 += 1432;
              }

              while (v71 != v33);
              v33 = *(a1 + 2);
            }

            if (v41 != v33)
            {
              v33 = sub_245B5C078(v33, v33, v41);
              *(a1 + 2) = v33;
            }
          }

LABEL_74:
          if ((v37 & 1) == 0)
          {
            atomic_store(0, a1 + 1);
          }
        }
      }

      v72 = *(a1 + 3);
      if (v33 >= v72)
      {
        v74 = 0xED6866F8D962AE7BLL * ((v33 - *v18) >> 3);
        if (v74 + 1 > 0x2DC3EED6866F8DLL)
        {
          sub_245B4C1A4();
        }

        v75 = 0xED6866F8D962AE7BLL * ((v72 - *v18) >> 3);
        v76 = 2 * v75;
        if (2 * v75 <= v74 + 1)
        {
          v76 = v74 + 1;
        }

        if (v75 >= 0x16E1F76B4337C6)
        {
          v77 = 0x2DC3EED6866F8DLL;
        }

        else
        {
          v77 = v76;
        }

        v99 = a1 + 8;
        if (v77)
        {
          if (v77 <= 0x2DC3EED6866F8DLL)
          {
            operator new();
          }

          sub_245B4C204();
        }

        v78 = 1432 * v74;
        *v97 = 0;
        *&v97[8] = v78;
        v98 = 0.0;
        sub_245B5B678(v78, v89);
        *&v97[16] = v78 + 1432;
        sub_245B5B5D8(a1 + 1, v97);
        v73 = *(a1 + 2);
        if (*v97)
        {
          operator delete(*v97);
        }
      }

      else
      {
        sub_245B5B678(v33, v89);
        v73 = v33 + 1432;
      }

      *(a1 + 2) = v73;
      atomic_store(0, a1 + 1);
    }

    else
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v28 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        v29 = *(a1 + 2);
        if (*(a1 + 1) == v29)
        {
          v30 = 0xBFF0000000000000;
        }

        else
        {
          v30 = *(v29 - 1392);
        }

        *buf = 134349312;
        *v86 = v90;
        *&v86[8] = 2050;
        *&v86[10] = v30;
        v10 = "CLVLF,pushVIOEstimation,Invalid measurement,machAbsTime,%{public}.3lf,prevMachAbsTime,%{public}.3lf";
        v11 = buf;
        v12 = v28;
        v13 = OS_LOG_TYPE_DEBUG;
        v14 = 22;
        goto LABEL_46;
      }
    }
  }

  else
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v15 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      v16 = *a1;
      LODWORD(v89[0]) = 67240192;
      DWORD1(v89[0]) = v16;
      v10 = "CLVLF,pushVIOEstimation,activated,%{public}d";
      v11 = v89;
      v12 = v15;
      v13 = OS_LOG_TYPE_ERROR;
      v14 = 8;
      goto LABEL_46;
    }
  }

  v31 = *MEMORY[0x277D85DE8];
}

void sub_245B4E5C4(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_245B46F20(a1);
  }

  _Unwind_Resume(a1);
}

void sub_245B4E5D4()
{
  v0 = MEMORY[0x28223BE20]();
  v2 = v0;
  v216 = *MEMORY[0x277D85DE8];
  if ((*v0 & 1) == 0)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v12 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      v13 = *v2;
      LODWORD(v106) = 67240192;
      DWORD1(v106) = v13;
      v7 = "CLVLF,pushVLLocalizationResult,activated,%{public}d";
      v8 = &v106;
      v9 = v12;
      v10 = OS_LOG_TYPE_ERROR;
      v11 = 8;
      goto LABEL_78;
    }

    goto LABEL_79;
  }

  v3 = v1;
  v4 = *(v0 + 13632);
  if (v4 != -1)
  {
    *(v0 + 13632) = v4 + 1;
  }

  v100 = 1;
  sub_245B4B614(&v106);
  sub_245B4B3F4(v159);
  v94 = v3;
  sub_245B4A4DC(v3, &v100, buf);
  v106 = *buf;
  v107 = *&buf[16];
  v108[0] = LOBYTE(v161);
  v109 = v162;
  v110 = v163;
  v111 = v164;
  v116 = v169;
  v115 = v168;
  v114 = v167;
  v113 = v166;
  v112 = v165;
  v117 = v170;
  v118 = v171;
  v119 = v172;
  v120 = v173;
  v121 = v174;
  memcpy(v122, v175, sizeof(v122));
  v123 = v175[296];
  v124 = v176;
  v125 = v177;
  v126 = v178;
  v129 = v181;
  v130 = v182;
  v131 = v183;
  v127 = v179;
  v128 = v180;
  v132 = v184;
  v133 = v185;
  v134 = v186;
  v135 = v187[0];
  v136 = v187[1];
  memcpy(v137, v188, 0x128uLL);
  v138 = v189;
  v139 = v190;
  v140 = v191;
  v141 = v192;
  v142 = v193;
  v143 = v194;
  v144 = v195;
  v145 = v196;
  v146 = v197;
  v147 = v198;
  v150 = v201;
  v151 = v202;
  v152 = v203;
  v148 = v199;
  v149 = v200;
  v153 = v204;
  v154 = v205;
  v155 = v206;
  v157 = v208;
  v156 = __y;
  memcpy(v158, v209, sizeof(v158));
  if (v100 == 1)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v5 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      [v3 timestamp];
      *buf = 134349056;
      *&buf[4] = v6;
      v7 = "CLVLF,pushVLLocalizationResult,Unable to construct VlfData,machAbsTime,%{public}.3lf";
      v8 = buf;
      v9 = v5;
      v10 = OS_LOG_TYPE_ERROR;
LABEL_9:
      v11 = 12;
LABEL_78:
      _os_log_impl(&dword_245B46000, v9, v10, v7, v8, v11);
      goto LABEL_79;
    }

    goto LABEL_79;
  }

  while ((atomic_exchange_explicit(v2 + 1, 1u, memory_order_acquire) & 1) != 0)
  {
    sched_yield();
  }

  if (sub_245B4F6A8(v2, &v106, v159))
  {
    sub_245B50DC0(v2, 2.4);
  }

  atomic_store(0, v2 + 1);
  v14 = *(&v106 + 1);
  if (*(&v106 + 1) <= 0.0)
  {
    goto LABEL_68;
  }

  v15 = *(v2 + 5);
  if (*(v2 + 4) != v15 && *(v15 - 3152) >= *(&v106 + 1))
  {
    goto LABEL_68;
  }

  v16 = *(v2 + 845);
  if (*(v2 + 844) != v16 && *(v16 - 2160) >= *(&v106 + 1) + 2.4)
  {
    goto LABEL_68;
  }

  if ((*&v140 & 0x7FFFFFFFFFFFFFFFuLL) > 0x7FEFFFFFFFFFFFFFLL)
  {
    goto LABEL_68;
  }

  if (v140 < 0.6827 || v140 > 1.0)
  {
    goto LABEL_68;
  }

  if (!sub_245B47A94(v108))
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v49 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
LABEL_70:
      v54 = qword_27EE33DF0;
      if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        goto LABEL_79;
      }

      v55 = *(v2 + 5);
      if (*(v2 + 4) == v55)
      {
        v57 = *(v2 + 845);
        if (*(v2 + 844) == v57)
        {
          v58 = 0xBFF0000000000000;
          goto LABEL_76;
        }

        v56 = (v57 - 2160);
      }

      else
      {
        v56 = (v55 - 3152);
      }

      v58 = *v56;
LABEL_76:
      *buf = 134349568;
      *&buf[4] = *(&v106 + 1);
      *&buf[12] = 2050;
      *&buf[14] = v58;
      *&buf[22] = 2050;
      v161 = v140;
      v7 = "CLVLF,pushVLLocalizationResult,Invalid measurement,machAbsTime,%{public}.3lf,prevMachAbsTime,%{public}.3lf,confidence,%{public}.3lf,";
      v8 = buf;
LABEL_77:
      v9 = v54;
      v10 = OS_LOG_TYPE_ERROR;
      v11 = 32;
      goto LABEL_78;
    }

    *buf = 0;
    v50 = "CLVLF,isValid,Invalid VL,inf or nan value in estimates or covariance";
    v51 = buf;
LABEL_66:
    v52 = v49;
    v53 = 2;
LABEL_67:
    _os_log_impl(&dword_245B46000, v52, OS_LOG_TYPE_ERROR, v50, v51, v53);
LABEL_68:
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    goto LABEL_70;
  }

  v18 = *(v2 + 1661);
  if (v18 <= 0.0 || vabdd_f64(v18, v14) > 6.0)
  {
    goto LABEL_32;
  }

  sub_245B5BA24(buf, &v106);
  if ((sub_245B4A088(buf, (v2 + 13304)) & 1) == 0)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v49 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_68;
    }

    LOWORD(v101) = 0;
    v50 = "CLVLF,isValid,Invalid VL,Unable to compute ENU from ECEF";
    v51 = &v101;
    goto LABEL_66;
  }

  v70 = hypot(*&__y, *(&__y + 1));
  if (*(v2 + 1673) * 2.43199076 >= 64.0)
  {
    v71 = *(v2 + 1673) * 2.43199076;
  }

  else
  {
    v71 = 64.0;
  }

  if (v70 > v71)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v72 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_68;
    }

    v101 = 134283777;
    *v102 = v70;
    *&v102[8] = 2049;
    *&v102[10] = v71;
    v50 = "CLVLF,isValid,Invalid VL,CL-VL horizontal distance,%{private}.3lf,horzDistThres,%{private}.3lf";
    goto LABEL_153;
  }

  v89 = fabs(*&v208);
  if (*(v2 + 1674) * 3.0 >= 48.0)
  {
    v90 = *(v2 + 1674) * 3.0;
  }

  else
  {
    v90 = 48.0;
  }

  if (v89 > v90)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v72 = qword_27EE33DF0;
    if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      goto LABEL_68;
    }

    v101 = 134283777;
    *v102 = v89;
    *&v102[8] = 2049;
    *&v102[10] = v90;
    v50 = "CLVLF,isValid,Invalid VL,CL-VL vertical distance,%{private}.3lf,vertDistThres,%{private}.3lf";
LABEL_153:
    v51 = &v101;
    v52 = v72;
    v53 = 22;
    goto LABEL_67;
  }

LABEL_32:
  v93 = (v2 + 32);
  LOBYTE(v101) = 1;
  *&v102[4] = vdupq_n_s64(3uLL);
  v103 = xmmword_245B5F4F0;
  v104 = v137;
  v105 = &v137[15];
  sub_245B5C264(&v101, &dbl_245B61A60);
  v19 = v137[0] + v137[7] + v137[14];
  v20 = sqrt(v19);
  v22 = (v20 < 0.0 || ((*&v20 & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 > 0x3FE) && (*&v20 - 1) > 0xFFFFFFFFFFFFELL;
  if (!v22 && v20 < 0.0200712864)
  {
    *buf = 0.000402856538 / v19;
    sub_245B5C264(&v101, buf);
  }

  v95[0] = 1;
  v96 = vdupq_n_s64(3uLL);
  v97 = xmmword_245B5F4F0;
  v98 = &v137[21];
  v99 = &v137[36];
  sub_245B5C264(v95, &dbl_245B61A68);
  v23 = v137[21] + v137[28] + v137[35];
  v24 = sqrt(v23);
  v26 = (v24 < 0.0 || ((*&v24 & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 > 0x3FE) && (*&v24 - 1) > 0xFFFFFFFFFFFFELL;
  if (!v26 && v24 < 0.7)
  {
    *buf = 0.49 / v23;
    sub_245B5C264(v95, buf);
  }

  sub_245B5BA24(buf, (v2 + 11544));
  *(v2 + 11544) = v106;
  *(v2 + 1445) = v107;
  v2[11568] = v108[0];
  *(v2 + 724) = v109;
  *(v2 + 725) = v110;
  *(v2 + 1452) = v111;
  *(v2 + 731) = v116;
  *(v2 + 730) = v115;
  *(v2 + 729) = v114;
  *(v2 + 728) = v113;
  v27 = v118;
  *(v2 + 11720) = v117;
  *(v2 + 11736) = v27;
  v28 = v121;
  *(v2 + 11768) = v120;
  *(v2 + 11784) = v28;
  v29 = v112;
  *(v2 + 1469) = v119;
  *(v2 + 727) = v29;
  memcpy(v2 + 11808, v122, 0x128uLL);
  v30 = v125;
  *(v2 + 12120) = v124;
  *(v2 + 12136) = v30;
  v31 = v130;
  *(v2 + 12200) = v129;
  *(v2 + 12216) = v31;
  *(v2 + 12232) = v131;
  v32 = v128;
  *(v2 + 12168) = v127;
  *(v2 + 12184) = v32;
  v33 = v133;
  *(v2 + 766) = v132;
  *(v2 + 767) = v33;
  v34 = v136;
  *(v2 + 769) = v135;
  v2[12104] = v123;
  *(v2 + 1519) = v126;
  *(v2 + 1536) = v134;
  *(v2 + 770) = v34;
  memcpy(v2 + 12344, v137, 0x128uLL);
  v35 = v139;
  *(v2 + 12648) = v138;
  *(v2 + 12664) = v35;
  v36 = v143;
  *(v2 + 794) = v142;
  *(v2 + 795) = v36;
  v37 = v145;
  *(v2 + 798) = v146;
  *(v2 + 797) = v37;
  v38 = v148;
  *(v2 + 801) = v149;
  v39 = v151;
  *(v2 + 802) = v150;
  *(v2 + 1585) = v140;
  v2[12688] = v141;
  v2[12736] = v144;
  *(v2 + 1598) = v147;
  *(v2 + 803) = v39;
  *(v2 + 804) = v152;
  *(v2 + 800) = v38;
  v40 = v154;
  *(v2 + 12888) = v153;
  *(v2 + 12904) = v40;
  *(v2 + 1615) = v155;
  v41 = v157;
  *(v2 + 12936) = v156;
  *(v2 + 12952) = v41;
  memcpy(v2 + 12976, v158, 0x128uLL);
  v42 = *&buf[8];
  if (*&buf[8] > 0.0 && ((v2[6777] & 1) != 0 || v2[6776] == 1))
  {
    v43 = 0;
    v44 = *(&v106 + 1);
    *v214 = &unk_2858B66C8;
    *&v214[8] = v135;
    v215 = v136;
    do
    {
      *&v214[v43 + 8] = *&v214[v43 + 8] - *(v187 + v43);
      v43 += 8;
    }

    while (v43 != 24);
    v45 = vabdd_f64(v44, v42);
    v46 = *&v214[16] * *&v214[16] + *&v214[8] * *&v214[8] + *&v215 * *&v215;
    v47 = v45 * (v45 * 81.0);
    if (v46 > 0.04 && v46 > v47)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v73 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        *v210 = 134283777;
        v211 = sqrt(v46);
        v212 = 2049;
        v213 = sqrt(v47);
        _os_log_impl(&dword_245B46000, v73, OS_LOG_TYPE_ERROR, "CLVLF,isValid,Invalid VL,VL-VL distance,%{private}.3lf,distThres,%{private}.3lf", v210, 0x16u);
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }
      }

      v54 = qword_27EE33DF0;
      if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        goto LABEL_79;
      }

      v74 = *(v2 + 5);
      if (*(v2 + 4) == v74)
      {
        v91 = *(v2 + 845);
        if (*(v2 + 844) == v91)
        {
          v92 = 0xBFF0000000000000;
          goto LABEL_157;
        }

        v75 = (v91 - 2160);
      }

      else
      {
        v75 = (v74 - 3152);
      }

      v92 = *v75;
LABEL_157:
      *v214 = 134349568;
      *&v214[4] = *(&v106 + 1);
      *&v214[12] = 2050;
      *&v214[14] = v92;
      *&v214[22] = 2050;
      *&v215 = v140;
      v7 = "CLVLF,pushVLLocalizationResult,Invalid measurement,machAbsTime,%{public}.3lf,prevMachAbsTime,%{public}.3lf,confidence,%{public}.3lf,";
      v8 = v214;
      goto LABEL_77;
    }
  }

  while ((atomic_exchange_explicit(v2 + 1, 1u, memory_order_acquire) & 1) != 0)
  {
    sched_yield();
  }

  v60 = *(v2 + 4);
  v61 = *(v2 + 5);
  if (v60 != v61)
  {
    v62 = *(v61 - 394) - *(v60 + 8);
    if (v62 >= 10.0)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v63 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        v64 = vcvtd_n_f64_u64(0x80B70FBB5A19BE48 * ((*(v2 + 2) - *(v2 + 1)) >> 3), 0x14uLL);
        *v214 = 134349569;
        *&v214[4] = *(&v106 + 1);
        *&v214[12] = 2050;
        *&v214[14] = v62;
        *&v214[22] = 2049;
        *&v215 = v64;
        _os_log_impl(&dword_245B46000, v63, OS_LOG_TYPE_DEBUG, "CLVLF,pushVLLocalizationResult,VL buffer reached its maximum size,machAbsTime,%{public}.3lf,sizeInSec,%{public}.3lf,sizeInMB,%{private}.3lf", v214, 0x20u);
      }

      v65 = atomic_exchange_explicit(v2 + 1, 1u, memory_order_acquire);
      if ((v65 & 1) == 0)
      {
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v66 = qword_27EE33DF0;
        if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
        {
          *v214 = 0;
          _os_log_impl(&dword_245B46000, v66, OS_LOG_TYPE_ERROR, "CLVLF,removeAllVlfDataForFirstNSeconds,Called without locking vision buffers", v214, 2u);
        }
      }

      v68 = *(v2 + 4);
      v67 = *(v2 + 5);
      if (v68 != v67)
      {
        v69 = *(v68 + 8) + 1.0;
        while (*(v68 + 8) >= v69)
        {
          v68 += 3160;
          if (v68 == v67)
          {
            v68 = *(v2 + 5);
            goto LABEL_124;
          }
        }

        if (v68 != v67)
        {
          v76 = v68 + 3160;
          if ((v68 + 3160) != v67)
          {
            do
            {
              if (*(v76 + 8) >= v69)
              {
                sub_245B5BAEC(v68, v76);
                v68 += 3160;
              }

              v76 += 3160;
            }

            while (v76 != v67);
            v67 = *(v2 + 5);
          }
        }

LABEL_124:
        sub_245B59484(v93, v68, v67);
      }

      if ((v65 & 1) == 0)
      {
        atomic_store(0, v2 + 1);
      }

      v61 = *(v2 + 5);
    }
  }

  v77 = *(v2 + 6);
  if (v61 >= v77)
  {
    v79 = *v93;
    v80 = v61 - *v93;
    v81 = 0xEBE8AB1946A49E23 * (v80 >> 3) + 1;
    if (v81 > 0x14BD3EDDA68FE0)
    {
      sub_245B4C1A4();
    }

    v82 = 0xEBE8AB1946A49E23 * ((v77 - v79) >> 3);
    if (2 * v82 > v81)
    {
      v81 = 2 * v82;
    }

    if (v82 >= 0xA5E9F6ED347F0)
    {
      v83 = 0x14BD3EDDA68FE0;
    }

    else
    {
      v83 = v81;
    }

    if (v83)
    {
      if (v83 <= 0x14BD3EDDA68FE0)
      {
        operator new();
      }

      sub_245B4C204();
    }

    v84 = 8 * (v80 >> 3);
    sub_245B5BA24(v84, &v106);
    sub_245B5B678(v84 + 1728, v159);
    v78 = (v84 + 3160);
    v85 = v84 - v80;
    sub_245B5B7D4(v79, v61, v85);
    v86 = *(v2 + 4);
    *(v2 + 4) = v85;
    *(v2 + 5) = v78;
    *(v2 + 6) = 0;
    if (v86)
    {
      operator delete(v86);
    }
  }

  else
  {
    sub_245B5BA24(v61, &v106);
    sub_245B5B678((v61 + 108), v159);
    v78 = v61 + 3160;
  }

  *(v2 + 5) = v78;
  atomic_store(0, v2 + 1);
  if (qword_27EE33DE8 != -1)
  {
    dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
  }

  v87 = qword_27EE33DF0;
  if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
  {
    [v94 timestamp];
    *v214 = 134349056;
    *&v214[4] = v88;
    v7 = "CLVLF,pushVLLocalizationResult,VL added to queue,machAbsTime,%{public}.3lf";
    v8 = v214;
    v9 = v87;
    v10 = OS_LOG_TYPE_DEBUG;
    goto LABEL_9;
  }

LABEL_79:
  v59 = *MEMORY[0x277D85DE8];
}

void sub_245B4F690(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_245B46F20(a1);
  }

  _Unwind_Resume(a1);
}

BOOL sub_245B4F6A8(uint64_t a1, __int128 *a2, uint64_t a3)
{
  v283 = *MEMORY[0x277D85DE8];
  v6 = atomic_exchange_explicit((a1 + 1), 1u, memory_order_acquire);
  if ((v6 & 1) == 0)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v7 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      *buf = 0;
      _os_log_impl(&dword_245B46000, v7, OS_LOG_TYPE_ERROR, "CLVLF,synchronizeVioDataAt,Called without locking vision buffers", buf, 2u);
    }
  }

  v8 = *a2;
  *(a3 + 48) = *(a2 + 2);
  *(a3 + 32) = v8;
  *(a3 + 1424) = 0;
  v10 = *(a1 + 8);
  v9 = *(a1 + 16);
  if (0xED6866F8D962AE7BLL * ((v9 - v10) >> 3) <= 1)
  {
    goto LABEL_50;
  }

  v11 = *(a2 + 1);
  if (*(v10 + 40) > v11)
  {
    goto LABEL_50;
  }

  v12 = *(v9 - 1392);
  if (v12 < v11)
  {
    if (v12 < v11 + -0.6)
    {
      goto LABEL_50;
    }

    v25 = *a2;
    *(a3 + 48) = *(a2 + 2);
    *(a3 + 32) = v25;
    *(a3 + 1424) = 0;
    v26 = *(a1 + 16);
    if (0xED6866F8D962AE7BLL * ((v26 - *(a1 + 8)) >> 3) <= 1)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v27 = qword_27EE33DF0;
      result = os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR);
      if (!result)
      {
        goto LABEL_51;
      }

      v29 = *(a2 + 1);
      *buf = 134349056;
      *&buf[4] = v29;
      v30 = "CLVLF,extrapolateVioDataAt,Not enough VIO data,machAbsTime,%{public}.3lf";
LABEL_49:
      _os_log_impl(&dword_245B46000, v27, OS_LOG_TYPE_ERROR, v30, buf, 0xCu);
      goto LABEL_50;
    }

    v31 = v26 - 2864;
    v32 = v26 - 1432;
    result = sub_245B5AD80(v26 - 2864, v26 - 1432);
    if (!result)
    {
      goto LABEL_51;
    }

    v33 = *(v32 + 40);
    v34 = *(v31 + 40);
    v35 = v33 - v34;
    v36 = *(a2 + 1);
    v37 = v36 - v34;
    if (*v31)
    {
      v38 = v31;
    }

    else
    {
      v38 = v32;
    }

    *a3 = *v38;
    *(a3 + 16) = *(v32 + 16);
    LOBYTE(v268) = 0;
    v269 = vdupq_n_s64(3uLL);
    v270 = xmmword_245B5F4B0;
    *&v271 = v31 + 120;
    *(&v271 + 1) = v31 + 192;
    sub_245B5A7B8(buf, v32 + 112, &v268);
    v266 = 0;
    v265 = 0u;
    v264 = 0u;
    v263 = &unk_2858B6BF0;
    sub_245B4BF18(v279, v264.i64);
    v39 = *&v264.i64[1];
    v40 = *v264.i64;
    v41.i64[0] = *(&v265 + 1);
    v42 = *&v265;
    v43 = *&v264.i64[1] * *&v264.i64[1] + *v264.i64 * *v264.i64 + v42 * v42;
    v44 = v43 + *(&v265 + 1) * *(&v265 + 1);
    v45 = sqrt(v44);
    if (v45 == 0.0)
    {
      v264 = 0uLL;
      v41.i64[0] = 1.0;
      v42 = 0.0;
      v39 = 0.0;
      v40 = 0.0;
      *&v265 = 0;
    }

    else
    {
      if (v45 == 1.0)
      {
        goto LABEL_57;
      }

      v40 = *v264.i64 / v45;
      v39 = *&v264.i64[1] / v45;
      *v264.i64 = *v264.i64 / v45;
      *&v264.i64[1] = *&v264.i64[1] / v45;
      v42 = *&v265 / v45;
      *&v265 = *&v265 / v45;
      *v41.i64 = *(&v265 + 1) / v45;
    }

    *(&v265 + 1) = v41.i64[0];
    v43 = v39 * v39 + v40 * v40 + v42 * v42;
    v44 = v43 + *v41.i64 * *v41.i64;
LABEL_57:
    v222 = v35;
    v51 = v37 / v35;
    v275 = 0u;
    v276 = 0u;
    v274 = &unk_2858B6DC0;
    v277 = 0;
    v52 = sqrt(v44);
    if (v52 == 0.0)
    {
      v53 = asin(0.0);
      if (v53 != 0.0)
      {
        if (fabs(v53) >= 2.22044605e-16)
        {
          v275 = vdupq_n_s64(0x7FF8000000000000uLL);
          v276.f64[0] = NAN;
        }

        else
        {
          v275.f64[0] = -0.0 / v53;
          v275.f64[1] = -0.0 / v53;
          v276.f64[0] = -0.0 / v53;
          v54 = atan2(v53, 1.0);
          v276.f64[1] = v54 + v54;
        }

        goto LABEL_76;
      }

      goto LABEL_75;
    }

    v215 = v41;
    if (v52 == 1.0)
    {
      v99 = sqrt(v43);
      if (v99 <= 1.0)
      {
        v100 = v99;
      }

      else
      {
        v100 = 1.0;
      }

      v101 = asin(v100);
      if (v101 != 0.0)
      {
        v133.f64[0] = NAN;
        v133.f64[1] = NAN;
        v102.i64[0] = 1.0;
        *&v134 = vbslq_s8(vnegq_f64(v133), v102, v215).u64[0];
        v135 = -v40;
        v136 = -v39;
        v137 = -v42;
        v138 = fabs(*v215.i64);
        v214 = v134;
        if (fabs(v101) >= 2.22044605e-16)
        {
          v275.f64[0] = v134 * (v135 / v100);
          v275.f64[1] = v134 * (v136 / v100);
          v219 = v137 / v100;
          v101 = v100;
        }

        else
        {
          v275.f64[0] = v134 * (v135 / v101);
          v275.f64[1] = v134 * (v136 / v101);
          v219 = v137 / v101;
        }

        v173 = atan2(v101, v138);
        v168.f64[0] = v214;
        v168.f64[1] = v173;
        __asm { FMOV            V0.2D, #2.0 }

        v172 = v219;
        goto LABEL_100;
      }
    }

    else
    {
      v55 = v40 / v52;
      v56 = v39 / v52;
      v57 = v42 / v52;
      v58 = sqrt(v56 * v56 + v55 * v55 + v57 * v57);
      if (v58 <= 1.0)
      {
        v59 = v58;
      }

      else
      {
        v59 = 1.0;
      }

      v60 = asin(v59);
      if (v60 != 0.0)
      {
        v62.i64[1] = v215.i64[1];
        *v62.i64 = *v215.i64 / v52;
        v63.f64[0] = NAN;
        v63.f64[1] = NAN;
        v61.i64[0] = 1.0;
        *&v64 = vbslq_s8(vnegq_f64(v63), v61, v62).u64[0];
        v65 = -v55;
        v66 = -v56;
        v67 = -v57;
        v68 = fabs(*v215.i64 / v52);
        v216 = v64;
        if (fabs(v60) >= 2.22044605e-16)
        {
          v275.f64[0] = v64 * (v65 / v59);
          v275.f64[1] = v64 * (v66 / v59);
          v213 = v67 / v59;
          v60 = v59;
        }

        else
        {
          v275.f64[0] = v64 * (v65 / v60);
          v275.f64[1] = v64 * (v66 / v60);
          v213 = v67 / v60;
        }

        v167 = atan2(v60, v68);
        v168.f64[0] = v216;
        v168.f64[1] = v167;
        __asm { FMOV            V0.2D, #2.0 }

        v172 = v213;
LABEL_100:
        _Q0.f64[0] = v172;
        v276 = vmulq_f64(v168, _Q0);
        goto LABEL_76;
      }
    }

LABEL_75:
    v275 = 0x3FF0000000000000uLL;
    v276 = 0uLL;
LABEL_76:
    sub_245B4B1D0(buf);
    v276.f64[1] = v51 * v276.f64[1];
    *buf = &unk_2858B6880;
    *(&v282 + 1) = 0;
    v103 = __sincos_stret(v276.f64[1]);
    v104 = (1.0 - v103.__cosval) * (v275.f64[0] * v275.f64[1]);
    v105 = (1.0 - v103.__cosval) * (v275.f64[0] * v276.f64[0]);
    v106 = (1.0 - v103.__cosval) * (v275.f64[1] * v276.f64[0]);
    *&buf[8] = v103.__cosval + (1.0 - v103.__cosval) * (v275.f64[0] * v275.f64[0]);
    *&buf[16] = v103.__sinval * v276.f64[0] + v104;
    v107 = v105 - v103.__sinval * v275.f64[1];
    *&v279 = v107;
    *(&v279 + 1) = v104 - v103.__sinval * v276.f64[0];
    v108 = v103.__sinval * v275.f64[0] + v106;
    *&v280 = v103.__cosval + (1.0 - v103.__cosval) * (v275.f64[1] * v275.f64[1]);
    *(&v280 + 1) = v108;
    *&v281 = v103.__sinval * v275.f64[1] + v105;
    *(&v281 + 1) = v106 - v103.__sinval * v275.f64[0];
    *&v282 = v103.__cosval + (1.0 - v103.__cosval) * (v276.f64[0] * v276.f64[0]);
    v268 = &unk_2858B6880;
    *(&v273 + 1) = 0;
    v109 = *(v31 + 120);
    v110 = *(v31 + 128);
    v111 = *(v31 + 136);
    v112 = *(v31 + 144);
    *v269.i64 = *(&v279 + 1) * v110 + *&buf[8] * v109 + *&v281 * v111;
    *&v269.i64[1] = *&v280 * v110 + *&buf[16] * v109 + *(&v281 + 1) * v111;
    v113 = v108 * v110 + v107 * v109 + *&v282 * v111;
    v114 = *(v31 + 152);
    v115 = *(v31 + 160);
    *&v270 = v113;
    *(&v270 + 1) = *(&v279 + 1) * v114 + *&buf[8] * v112 + *&v281 * v115;
    *&v271 = *&v280 * v114 + *&buf[16] * v112 + *(&v281 + 1) * v115;
    *(&v271 + 1) = v108 * v114 + v107 * v112 + *&v282 * v115;
    v116 = *(v31 + 168);
    v117 = *(v31 + 176);
    v118 = *(v31 + 184);
    *&v272 = *(&v279 + 1) * v117 + *&buf[8] * v116 + *&v281 * v118;
    *(&v272 + 1) = *&v280 * v117 + *&buf[16] * v116 + *(&v281 + 1) * v118;
    *&v273 = v108 * v117 + v107 * v116 + *&v282 * v118;
    sub_245B47308(a3 + 56, &v268);
    LOBYTE(v257) = 0;
    v258 = vdupq_n_s64(3uLL);
    v259 = xmmword_245B5F4B0;
    *&v260 = v32 + 120;
    *(&v260 + 1) = v32 + 192;
    sub_245B5A7B8(&v263, a3 + 112, &v257);
    v268 = &unk_2858B6880;
    v269 = 0u;
    v270 = 0u;
    v271 = 0u;
    v272 = 0u;
    v273 = 0u;
    v120 = *(&v265 + 1);
    v119 = v265;
    if (v265 != *(&v265 + 1))
    {
      v121 = &v269;
      do
      {
        v122 = *v119++;
        v121->i64[0] = v122;
        v121 = (v121 + 8);
      }

      while (v119 != v120);
    }

    v123 = (v33 - v36) / v222;
    sub_245B4B1D0(&v263);
    LOBYTE(v252) = 0;
    v217 = vdupq_n_s64(3uLL);
    v253 = v217;
    v254[0] = xmmword_245B5F4F0;
    *&v254[1] = v32 + 296;
    *(&v254[1] + 1) = v32 + 416;
    sub_245B5A7B8(&v257, &v268, &v252);
    LOBYTE(v246) = 0;
    v247 = v217;
    *v248 = xmmword_245B5F4B0;
    *&v248[16] = &v269;
    v249 = &v273 + 8;
    sub_245B5AEC4(&v263, &v257, &v246);
    LOBYTE(v240) = 1;
    v241 = v217;
    v242 = xmmword_245B5F4F0;
    *&v243 = a3 + 296;
    *(&v243 + 1) = a3 + 416;
    sub_245B4C6C8(&v240, &v263);
    sub_245B4B1D0(&v263);
    sub_245B4B1D0(&v257);
    LOBYTE(v257) = 0;
    v258 = v217;
    v259 = xmmword_245B5F4F0;
    *&v260 = v32 + 320;
    *(&v260 + 1) = v32 + 440;
    LOBYTE(v252) = 0;
    v253 = v217;
    v254[0] = xmmword_245B5F4B0;
    *&v254[1] = &v269;
    *(&v254[1] + 1) = &v273 + 8;
    sub_245B5AFA8(&v263, &v257, &v252);
    LOBYTE(v246) = 1;
    v247 = v217;
    *v248 = xmmword_245B5F4F0;
    *&v248[16] = a3 + 320;
    v249 = (a3 + 440);
    sub_245B4C6C8(&v246, &v263);
    sub_245B4B1D0(&v263);
    LOBYTE(v257) = 0;
    v258 = v217;
    v259 = xmmword_245B5F4F0;
    *&v260 = v32 + 440;
    *(&v260 + 1) = v32 + 560;
    sub_245B5A7B8(&v263, &v268, &v257);
    LOBYTE(v252) = 1;
    v253 = v217;
    v254[0] = xmmword_245B5F4F0;
    *&v254[1] = a3 + 440;
    *(&v254[1] + 1) = a3 + 560;
    sub_245B4C6C8(&v252, &v263);
    sub_245B4B1D0(&v263);
    for (i = 0; i != 24; i += 8)
    {
      *(a3 + 256 + i) = v51 * *(v32 + 256 + i) + v123 * *(v31 + 256 + i);
    }

    v218 = vdupq_n_s64(3uLL);
    LOBYTE(v257) = 0;
    v258 = v218;
    v259 = xmmword_245B5F4F0;
    *&v260 = v31 + 464;
    *(&v260 + 1) = v31 + 584;
    sub_245B5B0A0(&v263, &v257);
    LOBYTE(v252) = 0;
    v253 = v218;
    v254[0] = xmmword_245B5F4F0;
    *&v254[1] = v32 + 464;
    *(&v254[1] + 1) = v32 + 584;
    sub_245B5B0A0(&v257, &v252);
    v252 = &unk_2858B6880;
    v253 = 0u;
    memset(v254, 0, sizeof(v254));
    v255 = 0u;
    v256 = 0u;
    for (j = 8; j != 80; j += 8)
    {
      *(&v252 + j) = v51 * *(&v257 + j) + v123 * *(&v263 + j);
    }

    sub_245B5B154(&v246, &v252);
    v126 = 0;
    *(a3 + 464) = v247;
    v127 = v249;
    *(a3 + 480) = *v248;
    *(a3 + 512) = *&v248[8];
    *(a3 + 528) = v127;
    *(a3 + 560) = v250;
    *(a3 + 576) = v251;
    do
    {
      *(a3 + 1136 + v126) = v51 * *(v32 + 1136 + v126) + v123 * *(v31 + 1136 + v126);
      v126 += 8;
    }

    while (v126 != 24);
    sub_245B5B1E4(&v246, (v31 + 1168));
    sub_245B5B1E4(&v240, (v32 + 1168));
    v234 = &unk_2858B6880;
    v235 = 0u;
    v236 = 0u;
    v237 = 0u;
    v238 = 0u;
    v239 = 0u;
    for (k = 8; k != 80; k += 8)
    {
      *(&v234 + k) = v51 * *(&v240 + k) + v123 * *(&v246 + k);
    }

    sub_245B5B154(v228, &v234);
    v129 = (a3 + 1176);
    v130 = v230;
    v131 = v232;
    *(a3 + 1208) = v231;
    *(a3 + 1224) = v131;
    *(a3 + 1240) = v233;
    v132 = v229;
    goto LABEL_88;
  }

  v13 = *a2;
  *(a3 + 48) = *(a2 + 2);
  *(a3 + 32) = v13;
  *(a3 + 1424) = 0;
  v14 = *(a1 + 8);
  v15 = *(a1 + 16);
  if (v14 >= v15 || (v16 = *(a2 + 1), *(v14 + 40) > v16) || *(v15 - 1392) < v16)
  {
LABEL_45:
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v27 = qword_27EE33DF0;
    result = os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR);
    if (!result)
    {
      goto LABEL_51;
    }

    v49 = *(a2 + 1);
    *buf = 134349056;
    *&buf[4] = v49;
    v30 = "CLVLF,interpolateVioDataAt,util::binary_find_nearest error,machAbsTime,%{public}.3lf";
    goto LABEL_49;
  }

  v17 = 0xED6866F8D962AE7BLL * ((v15 - v14) >> 3);
  v18 = *(a1 + 8);
  do
  {
    v19 = v17 >> 1;
    v20 = v18 + 1432 * (v17 >> 1);
    v21 = *(v20 + 40);
    v22 = v20 + 1432;
    v17 += ~(v17 >> 1);
    if (v21 < v16)
    {
      v18 = v22;
    }

    else
    {
      v17 = v19;
    }
  }

  while (v17);
  v23 = v18 - 1432;
  if (v18 == v14)
  {
    v24 = 1432;
  }

  else
  {
    if (v18 != v15)
    {
      goto LABEL_34;
    }

    v24 = -1432;
  }

  v23 += v24;
  v18 += v24;
LABEL_34:
  if (v23 < v14 || v23 >= v15 || v18 < v14 || v18 >= v15)
  {
    goto LABEL_45;
  }

  result = sub_245B5AD80(v23, v18);
  if (result)
  {
    v69 = *(v23 + 40);
    if (v69 == v16)
    {
      v70 = *v23;
      v71 = *(v23 + 16);
      v72 = *(v23 + 32);
      *(a3 + 48) = *(v23 + 48);
      *(a3 + 16) = v71;
      *(a3 + 32) = v72;
      *a3 = v70;
      *(a3 + 56) = *(v23 + 56);
      v73 = *(v23 + 72);
      v74 = *(v23 + 88);
      *(a3 + 104) = *(v23 + 104);
      *(a3 + 88) = v74;
      *(a3 + 72) = v73;
      v75 = *(v23 + 152);
      v76 = *(v23 + 168);
      v77 = *(v23 + 184);
      *(a3 + 136) = *(v23 + 136);
      *(a3 + 184) = v77;
      *(a3 + 168) = v76;
      *(a3 + 152) = v75;
      *(a3 + 120) = *(v23 + 120);
      v78 = *(v23 + 208);
      v79 = *(v23 + 224);
      *(a3 + 240) = *(v23 + 240);
      *(a3 + 208) = v78;
      *(a3 + 224) = v79;
      v80 = *(v23 + 272);
      *(a3 + 256) = *(v23 + 256);
      *(a3 + 272) = v80;
      memcpy((a3 + 296), (v23 + 296), 0x129uLL);
      v82 = *(v23 + 608);
      v81 = *(v23 + 624);
      *(a3 + 640) = *(v23 + 640);
      *(a3 + 608) = v82;
      *(a3 + 624) = v81;
      v84 = *(v23 + 672);
      v83 = *(v23 + 688);
      v85 = *(v23 + 720);
      *(a3 + 704) = *(v23 + 704);
      *(a3 + 720) = v85;
      *(a3 + 672) = v84;
      *(a3 + 688) = v83;
      *(a3 + 656) = *(v23 + 656);
      v86 = *(v23 + 744);
      v87 = *(v23 + 760);
      *(a3 + 776) = *(v23 + 776);
      *(a3 + 744) = v86;
      *(a3 + 760) = v87;
      v88 = *(v23 + 808);
      *(a3 + 792) = *(v23 + 792);
      *(a3 + 808) = v88;
      memcpy((a3 + 832), (v23 + 832), 0x128uLL);
      v89 = *(v23 + 1136);
      *(a3 + 1152) = *(v23 + 1152);
      *(a3 + 1136) = v89;
      *(a3 + 1176) = *(v23 + 1176);
      v90 = *(v23 + 1240);
      v92 = *(v23 + 1192);
      v91 = *(v23 + 1208);
      *(a3 + 1224) = *(v23 + 1224);
      *(a3 + 1240) = v90;
      *(a3 + 1192) = v92;
      *(a3 + 1208) = v91;
      *(a3 + 1256) = *(v23 + 1256);
      v93 = *(v23 + 1288);
      *(a3 + 1272) = *(v23 + 1272);
      *(a3 + 1288) = v93;
      *(a3 + 1312) = *(v23 + 1312);
      v94 = *(v23 + 1344);
      v95 = *(v23 + 1360);
      v96 = *(v23 + 1376);
      *(a3 + 1328) = *(v23 + 1328);
      *(a3 + 1376) = v96;
      *(a3 + 1360) = v95;
      *(a3 + 1344) = v94;
      v97 = *(v23 + 1392);
      v98 = *(v23 + 1408);
LABEL_95:
      *(a3 + 1408) = v98;
      *(a3 + 1392) = v97;
      goto LABEL_89;
    }

    v139 = *(v18 + 40);
    if (v139 == v16)
    {
      v140 = *v18;
      v141 = *(v18 + 16);
      v142 = *(v18 + 32);
      *(a3 + 48) = *(v18 + 48);
      *(a3 + 16) = v141;
      *(a3 + 32) = v142;
      *a3 = v140;
      *(a3 + 56) = *(v18 + 56);
      v143 = *(v18 + 72);
      v144 = *(v18 + 88);
      *(a3 + 104) = *(v18 + 104);
      *(a3 + 88) = v144;
      *(a3 + 72) = v143;
      v145 = *(v18 + 152);
      v146 = *(v18 + 168);
      v147 = *(v18 + 184);
      *(a3 + 136) = *(v18 + 136);
      *(a3 + 184) = v147;
      *(a3 + 168) = v146;
      *(a3 + 152) = v145;
      *(a3 + 120) = *(v18 + 120);
      v148 = *(v18 + 208);
      v149 = *(v18 + 224);
      *(a3 + 240) = *(v18 + 240);
      *(a3 + 208) = v148;
      *(a3 + 224) = v149;
      v150 = *(v18 + 272);
      *(a3 + 256) = *(v18 + 256);
      *(a3 + 272) = v150;
      memcpy((a3 + 296), (v18 + 296), 0x129uLL);
      v152 = *(v18 + 608);
      v151 = *(v18 + 624);
      *(a3 + 640) = *(v18 + 640);
      *(a3 + 608) = v152;
      *(a3 + 624) = v151;
      v154 = *(v18 + 672);
      v153 = *(v18 + 688);
      v155 = *(v18 + 720);
      *(a3 + 704) = *(v18 + 704);
      *(a3 + 720) = v155;
      *(a3 + 672) = v154;
      *(a3 + 688) = v153;
      *(a3 + 656) = *(v18 + 656);
      v156 = *(v18 + 744);
      v157 = *(v18 + 760);
      *(a3 + 776) = *(v18 + 776);
      *(a3 + 744) = v156;
      *(a3 + 760) = v157;
      v158 = *(v18 + 808);
      *(a3 + 792) = *(v18 + 792);
      *(a3 + 808) = v158;
      memcpy((a3 + 832), (v18 + 832), 0x128uLL);
      v159 = *(v18 + 1136);
      *(a3 + 1152) = *(v18 + 1152);
      *(a3 + 1136) = v159;
      *(a3 + 1176) = *(v18 + 1176);
      v160 = *(v18 + 1240);
      v162 = *(v18 + 1192);
      v161 = *(v18 + 1208);
      *(a3 + 1224) = *(v18 + 1224);
      *(a3 + 1240) = v160;
      *(a3 + 1192) = v162;
      *(a3 + 1208) = v161;
      *(a3 + 1256) = *(v18 + 1256);
      v163 = *(v18 + 1288);
      *(a3 + 1272) = *(v18 + 1272);
      *(a3 + 1288) = v163;
      *(a3 + 1312) = *(v18 + 1312);
      v164 = *(v18 + 1344);
      v165 = *(v18 + 1360);
      v166 = *(v18 + 1376);
      *(a3 + 1328) = *(v18 + 1328);
      *(a3 + 1376) = v166;
      *(a3 + 1360) = v165;
      *(a3 + 1344) = v164;
      v97 = *(v18 + 1392);
      v98 = *(v18 + 1408);
      goto LABEL_95;
    }

    if (*v18)
    {
      v174 = v18;
    }

    else
    {
      v174 = v23;
    }

    *a3 = *v174;
    *(a3 + 16) = *(v18 + 16);
    sub_245B5AE08(v228, v23 + 112);
    sub_245B5AE08(&v274, v18 + 112);
    v227 = 0;
    v226 = 0u;
    v225 = 0u;
    v175 = *(v23 + 40);
    v176 = *(v18 + 40);
    v177 = *(a2 + 1);
    if (v177 >= v175 && v176 >= v177)
    {
      if (v175 == v176)
      {
        v225 = v229;
        v226 = v230;
      }

      else
      {
        v180 = v229.f64[1] * v275.f64[1] + v229.f64[0] * v275.f64[0] + v230.f64[0] * v276.f64[0] + v230.f64[1] * v276.f64[1];
        if (fabs(v180) >= 1.0)
        {
          v225 = v229;
          v226 = v230;
        }

        else
        {
          v181 = -v180;
          if (v180 >= 0.0)
          {
            v181 = v229.f64[1] * v275.f64[1] + v229.f64[0] * v275.f64[0] + v230.f64[0] * v276.f64[0] + v230.f64[1] * v276.f64[1];
          }

          v182 = (v177 - v175) / (v176 - v175);
          v223 = v182;
          v183 = sqrt(1.0 - v181 * v181);
          if (fabs(v183) >= 2.22044605e-16)
          {
            v185 = acos(v181);
            v186 = sin((1.0 - v223) * v185);
            v187 = v223 * v185;
            *&v224 = v186 / v183;
            v188 = sin(v187);
            v189 = vdupq_lane_s64(v224, 0);
            v190 = v188 / v183;
            if (v180 < 0.0)
            {
              v190 = -v190;
            }

            v225 = vmlaq_f64(vmulq_n_f64(v275, v190), v229, v189);
            _Q0 = vmlaq_f64(vmulq_n_f64(v276, v190), v230, v189);
            v226 = _Q0;
            _D3 = _Q0.f64[1];
            __asm { FMLA            D2, D3, V0.D[1] }

            v194 = sqrt(_D2);
            if (v194 == 0.0)
            {
              v195 = xmmword_245B61A00;
              v196 = 0uLL;
            }

            else
            {
              v197 = vdupq_lane_s64(*&v194, 0);
              v196 = vdivq_f64(v225, v197);
              v195 = vdivq_f64(_Q0, v197);
            }

            v225 = v196;
            v226 = v195;
          }

          else
          {
            v184 = vdupq_lane_s64(COERCE__INT64(1.0 - v182), 0);
            if (v180 >= 0.0)
            {
              v225 = vmlaq_f64(vmulq_n_f64(v275, v182), v229, v184);
              v226 = vmlaq_f64(vmulq_n_f64(v276, v182), v230, v184);
            }

            else
            {
              v225 = vmlaq_f64(vmulq_n_f64(v275, -v182), v229, v184);
              v226 = vmlaq_f64(vmulq_n_f64(v276, -v182), v230, v184);
            }
          }
        }
      }

      v198 = v139 - v69;
      v199 = v139 - v16;
      *buf = &unk_2858B6880;
      *&buf[8] = 0u;
      v279 = 0u;
      v200 = v16 - v69;
      v280 = 0u;
      v281 = 0u;
      v282 = 0u;
      sub_245B5C580(v225.f64, &buf[8]);
      sub_245B47308(a3 + 56, buf);
      LOBYTE(v263) = 0;
      v264 = vdupq_n_s64(3uLL);
      v265 = xmmword_245B5F4B0;
      v266 = v23 + 120;
      v267 = v23 + 192;
      sub_245B5A7B8(&v268, a3 + 112, &v263);
      *buf = &unk_2858B6880;
      *&buf[8] = 0u;
      v279 = 0u;
      v280 = 0u;
      v281 = 0u;
      v282 = 0u;
      v202 = *(&v270 + 1);
      v201 = v270;
      if (v270 != *(&v270 + 1))
      {
        v203 = &buf[8];
        do
        {
          v204 = *v201++;
          *v203++ = v204;
        }

        while (v201 != v202);
      }

      v205 = v199 / v198;
      v206 = v200 / v198;
      sub_245B4B1D0(&v268);
      LOBYTE(v257) = 0;
      v220 = vdupq_n_s64(3uLL);
      v258 = v220;
      v259 = xmmword_245B5F4F0;
      *&v260 = v23 + 296;
      *(&v260 + 1) = v23 + 416;
      sub_245B5A7B8(&v263, buf, &v257);
      LOBYTE(v252) = 0;
      v253 = v220;
      v254[0] = xmmword_245B5F4B0;
      *&v254[1] = &buf[8];
      *(&v254[1] + 1) = &v282 + 8;
      sub_245B5AEC4(&v268, &v263, &v252);
      LOBYTE(v246) = 1;
      v247 = v220;
      *v248 = xmmword_245B5F4F0;
      *&v248[16] = a3 + 296;
      v249 = (a3 + 416);
      sub_245B4C6C8(&v246, &v268);
      sub_245B4B1D0(&v268);
      sub_245B4B1D0(&v263);
      LOBYTE(v263) = 0;
      v264 = v220;
      v265 = xmmword_245B5F4F0;
      v266 = v23 + 320;
      v267 = v23 + 440;
      LOBYTE(v257) = 0;
      v258 = v220;
      v259 = xmmword_245B5F4B0;
      *&v260 = &buf[8];
      *(&v260 + 1) = &v282 + 8;
      sub_245B5AFA8(&v268, &v263, &v257);
      LOBYTE(v252) = 1;
      v253 = v220;
      v254[0] = xmmword_245B5F4F0;
      *&v254[1] = a3 + 320;
      *(&v254[1] + 1) = a3 + 440;
      sub_245B4C6C8(&v252, &v268);
      sub_245B4B1D0(&v268);
      LOBYTE(v263) = 0;
      v264 = v220;
      v265 = xmmword_245B5F4F0;
      v266 = v23 + 440;
      v267 = v23 + 560;
      sub_245B5A7B8(&v268, buf, &v263);
      LOBYTE(v257) = 1;
      v258 = v220;
      v259 = xmmword_245B5F4F0;
      *&v260 = a3 + 440;
      *(&v260 + 1) = a3 + 560;
      sub_245B4C6C8(&v257, &v268);
      sub_245B4B1D0(&v268);
      for (m = 0; m != 24; m += 8)
      {
        *(a3 + 256 + m) = v206 * *(v18 + 256 + m) + v205 * *(v23 + 256 + m);
      }

      v221 = vdupq_n_s64(3uLL);
      LOBYTE(v263) = 0;
      v264 = v221;
      v265 = xmmword_245B5F4F0;
      v266 = v23 + 464;
      v267 = v23 + 584;
      sub_245B5B0A0(&v268, &v263);
      LOBYTE(v257) = 0;
      v258 = v221;
      v259 = xmmword_245B5F4F0;
      *&v260 = v18 + 464;
      *(&v260 + 1) = v18 + 584;
      sub_245B5B0A0(&v263, &v257);
      v257 = &unk_2858B6880;
      v258 = 0u;
      v259 = 0u;
      v260 = 0u;
      v261 = 0u;
      v262 = 0u;
      for (n = 8; n != 80; n += 8)
      {
        *(&v257 + n) = v206 * *(&v263 + n) + v205 * *(&v268 + n);
      }

      sub_245B5B154(&v252, &v257);
      v209 = 0;
      *(a3 + 464) = v253;
      *(a3 + 480) = *&v254[0];
      *(a3 + 512) = *(v254 + 8);
      v210 = v256;
      *(a3 + 528) = *(&v254[1] + 1);
      *(a3 + 560) = v255;
      *(a3 + 576) = v210;
      do
      {
        *(a3 + 1136 + v209) = v206 * *(v18 + 1136 + v209) + v205 * *(v23 + 1136 + v209);
        v209 += 8;
      }

      while (v209 != 24);
      sub_245B5B1E4(&v252, (v23 + 1168));
      sub_245B5B1E4(&v246, (v18 + 1168));
      v240 = &unk_2858B6880;
      v241 = 0u;
      v242 = 0u;
      v243 = 0u;
      v244 = 0u;
      v245 = 0u;
      for (ii = 8; ii != 80; ii += 8)
      {
        *(&v240 + ii) = v206 * *(&v246 + ii) + v205 * *(&v252 + ii);
      }

      sub_245B5B154(&v234, &v240);
      v129 = (a3 + 1176);
      v130 = v236;
      v212 = v238;
      *(a3 + 1208) = v237;
      *(a3 + 1224) = v212;
      *(a3 + 1240) = v239;
      v132 = v235;
LABEL_88:
      *v129 = v132;
      v129[1] = v130;
LABEL_89:
      result = 1;
      *(a3 + 1424) = 1;
      goto LABEL_51;
    }

    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v27 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      v179 = *(a2 + 1);
      *buf = 134349056;
      *&buf[4] = v179;
      v30 = "CLVLF,interpolateVioDataAt,mach::SphericalLinearInterpolator::interpolate error,machAbsTime,%{public}.3lf";
      goto LABEL_49;
    }

LABEL_50:
    result = 0;
  }

LABEL_51:
  if ((v6 & 1) == 0)
  {
    atomic_store(0, (a1 + 1));
  }

  v50 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_245B50DC0(uint64_t a1, double a2)
{
  v4 = atomic_exchange_explicit((a1 + 1), 1u, memory_order_acquire);
  if ((v4 & 1) == 0)
  {
    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v5 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
    {
      *v40 = 0;
      _os_log_impl(&dword_245B46000, v5, OS_LOG_TYPE_ERROR, "CLVLF,removeAllVioDataExceptLastNSeconds,Called without locking vision buffers", v40, 2u);
    }
  }

  v6 = *(a1 + 8);
  v7 = *(a1 + 16);
  v8 = *(a1 + 8);
  if (v8 != v7)
  {
    v9 = *(v7 - 174) - a2;
    while (*(v8 + 40) >= v9)
    {
      v8 += 1432;
      if (v8 == v7)
      {
        goto LABEL_19;
      }
    }

    if (v8 != v7)
    {
      v10 = v8 + 1432;
      if ((v8 + 1432) != v7)
      {
        do
        {
          if (*(v10 + 40) >= v9)
          {
            v11 = *v10;
            v12 = *(v10 + 16);
            v13 = *(v10 + 32);
            *(v8 + 48) = *(v10 + 48);
            *(v8 + 16) = v12;
            *(v8 + 32) = v13;
            *v8 = v11;
            *(v8 + 56) = *(v10 + 56);
            v14 = *(v10 + 72);
            v15 = *(v10 + 88);
            *(v8 + 104) = *(v10 + 104);
            *(v8 + 88) = v15;
            *(v8 + 72) = v14;
            v16 = *(v10 + 152);
            v17 = *(v10 + 168);
            v18 = *(v10 + 184);
            *(v8 + 136) = *(v10 + 136);
            *(v8 + 184) = v18;
            *(v8 + 168) = v17;
            *(v8 + 152) = v16;
            *(v8 + 120) = *(v10 + 120);
            v19 = *(v10 + 208);
            v20 = *(v10 + 224);
            *(v8 + 240) = *(v10 + 240);
            *(v8 + 208) = v19;
            *(v8 + 224) = v20;
            v21 = *(v10 + 272);
            *(v8 + 256) = *(v10 + 256);
            *(v8 + 272) = v21;
            memcpy((v8 + 296), (v10 + 296), 0x129uLL);
            v23 = *(v10 + 608);
            v22 = *(v10 + 624);
            *(v8 + 640) = *(v10 + 640);
            *(v8 + 608) = v23;
            *(v8 + 624) = v22;
            v25 = *(v10 + 672);
            v24 = *(v10 + 688);
            v26 = *(v10 + 720);
            *(v8 + 704) = *(v10 + 704);
            *(v8 + 720) = v26;
            *(v8 + 672) = v25;
            *(v8 + 688) = v24;
            *(v8 + 656) = *(v10 + 656);
            v27 = *(v10 + 744);
            v28 = *(v10 + 760);
            *(v8 + 776) = *(v10 + 776);
            *(v8 + 744) = v27;
            *(v8 + 760) = v28;
            v29 = *(v10 + 808);
            *(v8 + 792) = *(v10 + 792);
            *(v8 + 808) = v29;
            memcpy((v8 + 832), (v10 + 832), 0x128uLL);
            v30 = *(v10 + 1136);
            *(v8 + 1152) = *(v10 + 1152);
            *(v8 + 1136) = v30;
            *(v8 + 1176) = *(v10 + 1176);
            v31 = *(v10 + 1240);
            v33 = *(v10 + 1192);
            v32 = *(v10 + 1208);
            *(v8 + 1224) = *(v10 + 1224);
            *(v8 + 1240) = v31;
            *(v8 + 1192) = v33;
            *(v8 + 1208) = v32;
            *(v8 + 1256) = *(v10 + 1256);
            v34 = *(v10 + 1288);
            *(v8 + 1272) = *(v10 + 1272);
            *(v8 + 1288) = v34;
            *(v8 + 1312) = *(v10 + 1312);
            v35 = *(v10 + 1344);
            v36 = *(v10 + 1360);
            v37 = *(v10 + 1376);
            *(v8 + 1328) = *(v10 + 1328);
            *(v8 + 1376) = v37;
            *(v8 + 1360) = v36;
            *(v8 + 1344) = v35;
            v38 = *(v10 + 1392);
            v39 = *(v10 + 1408);
            *(v8 + 1424) = *(v10 + 1424);
            *(v8 + 1408) = v39;
            *(v8 + 1392) = v38;
            v8 += 1432;
          }

          v10 += 1432;
        }

        while (v10 != v7);
        v7 = *(a1 + 16);
      }
    }

    if (v8 != v7)
    {
      *(a1 + 16) = sub_245B5C078(v7, v7, v8);
    }
  }

LABEL_19:
  if ((v4 & 1) == 0)
  {
    atomic_store(0, (a1 + 1));
  }
}

void sub_245B5108C(unsigned __int8 *a1, uint64_t a2, uint64_t a3)
{
  v99 = *MEMORY[0x277D85DE8];
  if ((*a1 & 1) == 0)
  {
    v6 = *(a1 + 1444);
    v7 = vabdd_f64(*(a3 + 32), v6);
    if (v6 <= 0.0 || v7 > 24.0)
    {
      if (v6 > 0.0)
      {
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v9 = qword_27EE33DF0;
        if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
        {
          v10 = *(a3 + 32);
          v11 = *a1;
          v12 = *(a1 + 1444);
          *buf = 134349568;
          *&buf[4] = v10;
          *&buf[12] = 1026;
          *&buf[14] = v11;
          *&buf[18] = 2050;
          *&buf[20] = v12;
          _os_log_impl(&dword_245B46000, v9, OS_LOG_TYPE_ERROR, "CLVLF,pushLocation,Filter reset,this should not happen,machAbsTime,%{public}.3lf,activated,%{public}d,lastValidVlf,%{public}.3lf", buf, 0x1Cu);
        }

        sub_245B4C854(a1);
      }

      goto LABEL_62;
    }
  }

  v57 = 1;
  sub_245B4BAE4(buf);
  sub_245B4B3F4(v98);
  sub_245B4A988(a2, a3, &v57, v58);
  *buf = *v58;
  *&buf[16] = *&v58[16];
  v79 = v59;
  v80 = v60;
  v81 = v61;
  v82 = v62;
  v86 = v66;
  v84 = v64;
  v85 = v65;
  v83 = v63;
  v87 = v67;
  v88 = v68;
  v89 = v69;
  v90 = v70;
  v93 = v73;
  v94 = v74;
  v91 = v71;
  v92 = v72;
  v97 = v77;
  v95 = v75;
  v96 = v76;
  if (v57 != 1)
  {
    while ((atomic_exchange_explicit(a1 + 1, 1u, memory_order_acquire) & 1) != 0)
    {
      sched_yield();
    }

    if (sub_245B4F6A8(a1, &buf[8], v98))
    {
      sub_245B50DC0(a1, 2.4);
    }

    atomic_store(0, a1 + 1);
    if (*buf == 11 || *buf == 1)
    {
      if (*&buf[16] <= 0.0)
      {
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v38 = qword_27EE33DF0;
        if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
        {
LABEL_54:
          v39 = qword_27EE33DF0;
          if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
          {
            goto LABEL_62;
          }

          v40 = *(a1 + 8);
          if (*(a1 + 7) == v40)
          {
            v42 = *(a1 + 845);
            if (*(a1 + 844) == v42)
            {
              v43 = 0xBFF0000000000000;
              goto LABEL_60;
            }

            v41 = (v42 - 2160);
          }

          else
          {
            v41 = (v40 - 1776);
          }

          v43 = *v41;
LABEL_60:
          *v58 = 134349569;
          *&v58[4] = *&buf[16];
          *&v58[12] = 2050;
          *&v58[14] = v43;
          *&v58[22] = 1025;
          *&v58[24] = *buf;
          v15 = "CLVLF,pushLocation,Invalid measurement,machAbsTime,%{public}.3lf,prevMachAbsTime,%{public}.3lf,locationType,%{private}d";
          v16 = v39;
          v17 = 28;
          goto LABEL_61;
        }

        *v58 = 0;
        _os_log_impl(&dword_245B46000, v38, OS_LOG_TYPE_DEBUG, "CLVLF,isValid,Invalid CL,maybe a simulated location", v58, 2u);
      }

      else
      {
        v19 = *(a1 + 7);
        v21 = *(a1 + 8);
        v20 = a1 + 56;
        if (v19 == v21 || *(v21 - 1776) < *&buf[16])
        {
          v22 = *(a1 + 845);
          if ((*(a1 + 844) == v22 || *(v22 - 2160) < *&buf[16]) && (*&v83 > 0.0 || *(&v83 + 1) > 0.0))
          {
            if ((v83 & 0x7FFFFFFFFFFFFFFFLL) <= 0x7FEFFFFFFFFFFFFFLL && *&v83 > 0.0 && *&v83 < 4.0)
            {
              *&v83 = 0x4010000000000000;
            }

            v23 = *&buf[16];
            *(a1 + 13272) = *buf;
            *(a1 + 13288) = v23;
            *(a1 + 832) = v79;
            *(a1 + 833) = v80;
            v24 = v82;
            *(a1 + 13352) = v81;
            *(a1 + 13368) = v24;
            v25 = v83;
            v26 = v84;
            v27 = v85;
            a1[13432] = v86;
            *(a1 + 13400) = v26;
            *(a1 + 13416) = v27;
            *(a1 + 13384) = v25;
            v28 = v88;
            *(a1 + 13448) = v87;
            *(a1 + 13464) = v28;
            *(a1 + 844) = v90;
            *(a1 + 843) = v89;
            v29 = v94;
            *(a1 + 13560) = v93;
            *(a1 + 13576) = v29;
            v30 = v96;
            *(a1 + 13592) = v95;
            v31 = v92;
            *(a1 + 13528) = v91;
            *(a1 + 13544) = v31;
            v32 = v97;
            *(a1 + 13608) = v30;
            *(a1 + 1703) = v32;
            if (v19 != v21)
            {
              v33 = *(v21 - 1776) - *(v19 + 16);
              if (v33 >= 10.0)
              {
                if (qword_27EE33DE8 != -1)
                {
                  dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
                }

                v34 = qword_27EE33DF0;
                if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
                {
                  v35 = vcvtd_n_f64_u64(*(a1 + 8) - *(a1 + 7), 0x14uLL);
                  *v58 = 134349569;
                  *&v58[4] = *&buf[16];
                  *&v58[12] = 2050;
                  *&v58[14] = v33;
                  *&v58[22] = 2049;
                  *&v58[24] = v35;
                  _os_log_impl(&dword_245B46000, v34, OS_LOG_TYPE_DEBUG, "CLVLF,pushLocation,LOC buffer reached its maximum size,machAbsTime,%{public}.3lf,sizeInSec,%{public}.3lf,sizeInMB,%{private}.3lf", v58, 0x20u);
                }

                v36 = *(a1 + 7);
                v21 = *(a1 + 8);
                if (v36 != v21)
                {
                  v37 = *(v36 + 16) + 1.0;
                  while (*(v36 + 16) >= v37)
                  {
                    v36 += 1792;
                    if (v36 == v21)
                    {
                      v36 = *(a1 + 8);
                      goto LABEL_70;
                    }
                  }

                  if (v36 != v21)
                  {
                    v45 = v36 + 1792;
                    if (v36 + 1792 != v21)
                    {
                      do
                      {
                        if (*(v45 + 16) >= v37)
                        {
                          sub_245B58D88(v36, v45);
                          v36 += 1792;
                        }

                        v45 += 1792;
                      }

                      while (v45 != v21);
                      v21 = *(a1 + 8);
                    }
                  }

LABEL_70:
                  sub_245B594E8((a1 + 56), v36, v21);
                  v21 = *(a1 + 8);
                }
              }
            }

            v46 = *(a1 + 9);
            if (v21 >= v46)
            {
              v48 = 0x6DB6DB6DB6DB6DB7 * ((v21 - *v20) >> 8);
              if ((v48 + 1) > 0x24924924924924)
              {
                sub_245B4C1A4();
              }

              v49 = 0x6DB6DB6DB6DB6DB7 * ((v46 - *v20) >> 8);
              v50 = 2 * v49;
              if (2 * v49 <= v48 + 1)
              {
                v50 = v48 + 1;
              }

              if (v49 >= 0x12492492492492)
              {
                v51 = 0x24924924924924;
              }

              else
              {
                v51 = v50;
              }

              if (v51)
              {
                if (v51 <= 0x24924924924924)
                {
                  operator new();
                }

                sub_245B4C204();
              }

              v52 = 1792 * v48;
              sub_245B4BBD4(v52, buf);
              sub_245B5B678(v52 + 360, v98);
              v47 = v52 + 1792;
              v53 = *(a1 + 7);
              v54 = *(a1 + 8);
              v55 = v52 + v53 - v54;
              sub_245B5B838(v53, v54, v55);
              v56 = *(a1 + 7);
              *(a1 + 7) = v55;
              *(a1 + 8) = v47;
              *(a1 + 9) = 0;
              if (v56)
              {
                operator delete(v56);
              }
            }

            else
            {
              sub_245B4BBD4(v21, buf);
              sub_245B5B678(v21 + 360, v98);
              v47 = v21 + 1792;
            }

            *(a1 + 8) = v47;
            sub_245B51868();
            goto LABEL_62;
          }
        }
      }
    }

    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    goto LABEL_54;
  }

  if (qword_27EE33DE8 != -1)
  {
    dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
  }

  v13 = qword_27EE33DF0;
  if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
  {
    v14 = *(a3 + 32);
    *v58 = 134349056;
    *&v58[4] = v14;
    v15 = "CLVLF,pushLocation,Unable to construct LocData,machAbsTime,%{public}.3lf";
    v16 = v13;
    v17 = 12;
LABEL_61:
    _os_log_impl(&dword_245B46000, v16, OS_LOG_TYPE_ERROR, v15, v58, v17);
  }

LABEL_62:
  v44 = *MEMORY[0x277D85DE8];
}

void sub_245B51858(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_245B46F20(a1);
  }

  _Unwind_Resume(a1);
}

void sub_245B51868()
{
  v0 = MEMORY[0x28223BE20]();
  v433 = v1;
  v2 = v0;
  v663 = *MEMORY[0x277D85DE8];
  v437 = v0 + 11368;
  v3 = v0 + 6776;
  v449 = v0 + 6776;
  if (*(v0 + 6777) != 1)
  {
    if (*(v0 + 6776))
    {
      goto LABEL_26;
    }

    *v3 = 0;
    sub_245B59738();
    if ((*(v3 + 1) & 1) != 0 || (*v3 & 1) != 0 || *(v2 + 13632) > 1uLL)
    {
      goto LABEL_26;
    }

    v4 = *(v2 + 56);
    v5 = *(v2 + 64);
    if (v4 != v5)
    {
      v6 = *(v5 - 1792);
      while (*(v4 + 1784) == 1 && *v4 == v6)
      {
        v4 += 1792;
        if (v4 == v5)
        {
          v4 = *(v2 + 64);
          goto LABEL_385;
        }
      }

      if (v4 != v5)
      {
        v337 = v4 + 1792;
        if (v4 + 1792 != v5)
        {
          do
          {
            if (*(v337 + 1784) == 1 && *v337 == v6)
            {
              sub_245B58D88(v4, v337);
              v4 += 1792;
            }

            v337 += 1792;
          }

          while (v337 != v5);
          v5 = *(v2 + 64);
        }

        v3 = v449;
      }
    }

LABEL_385:
    sub_245B594E8(v2 + 56, v4, v5);
    v339 = *(v2 + 56);
    v338 = *(v2 + 64);
    if ((0x6DB6DB6DB6DB6DB7 * ((v338 - v339) >> 8)) < 3)
    {
      goto LABEL_26;
    }

    v476 = &unk_2858B66C8;
    v340 = *(v338 - 1176);
    *v478 = *(v338 - 1160);
    v477 = v340;
    v341 = v339 + 616;
    for (i = 616; i != 640; i += 8)
    {
      *(&v476 + i - 608) = *(&v476 + i - 608) - *(v339 + i);
    }

    v343 = hypot(*&v477, *(&v477 + 1));
    v344 = sub_245B5D2FC(xmmword_28150C540, *(v338 - 1752) * 57.2957795, *(v338 - 1744) * 57.2957795, *(v339 + 40) * 57.2957795, *(v339 + 48) * 57.2957795, *(v338 - 1736));
    if (v343 < 8.0 || v344 < 8.0)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v346 = qword_27EE33DF0;
      if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        goto LABEL_474;
      }

      v347 = *(v338 - 1776);
      *v641 = 134349569;
      *&v641[4] = v347;
      *&v641[12] = 2049;
      *&v641[14] = v343;
      *&v641[22] = 2049;
      *&v642 = v344;
      v348 = "CLVLF,initWithPoints,Not enough movement,machAbsTime,%{public}.3lf,vioHorzDist,%{private}.3lf,locHorzDist,%{private}.3lf";
    }

    else
    {
      v349 = *(v2 + 56);
      v350 = *(v2 + 64);
      if (v349 != v350)
      {
        while (sub_245B58B70(v349 + 72, v338 - 1760, v349))
        {
          v349 += 1792;
          if (v349 == v350)
          {
            goto LABEL_404;
          }
        }

        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v405 = qword_27EE33DF0;
        if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
        {
          goto LABEL_474;
        }

        v407 = *(v338 - 1776);
        *v641 = 134349056;
        *&v641[4] = v407;
        v348 = "CLVLF,initWithPoints,Unable to compute ENU potisions,machAbsTime,%{public}.3lf";
LABEL_472:
        v357 = v405;
        v358 = OS_LOG_TYPE_ERROR;
        v359 = 12;
        goto LABEL_473;
      }

LABEL_404:
      if (!sub_245B56574(v339, v338 - 1792, v338 - 1792))
      {
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v351 = qword_27EE33DF0;
        if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
        {
          v352 = *(v338 - 1776);
          *v641 = 134349056;
          *&v641[4] = v352;
          _os_log_impl(&dword_245B46000, v351, OS_LOG_TYPE_DEBUG, "CLVLF,initWithPoints,Unable to compute course in ENU,machAbsTime,%{public}.3lf", v641, 0xCu);
        }
      }

      v353 = vabdd_f64(*(v338 - 1448), *(v338 - 1664));
      if (6.28318531 - v353 < v353)
      {
        v353 = 6.28318531 - v353;
      }

      if (v353 <= 1.83259571)
      {
        v360 = 0;
        v459 = &unk_2858B66C8;
        v361 = (v338 - 1176);
        v362 = *(v338 - 1176);
        *v461 = *(v338 - 1160);
        v460 = v362;
        do
        {
          *(v341 + v360) = *(v341 + v360) - *(&v459 + v360 + 8);
          v360 += 8;
        }

        while (v360 != 24);
        for (j = 1; j != 4; ++j)
        {
          *v361 = *v361 - *(&v459 + j);
          ++v361;
        }

        if ((sub_245B568EC(v339 + 360, v338 - 1432, v338 - 1432) & 1) == 0)
        {
          if (qword_27EE33DE8 != -1)
          {
            dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
          }

          v364 = qword_27EE33DF0;
          if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
          {
            v365 = *(v338 - 1776);
            *v641 = 134349056;
            *&v641[4] = v365;
            _os_log_impl(&dword_245B46000, v364, OS_LOG_TYPE_DEBUG, "CLVLF,initWithPoints,Unable to compute delta position in VIO,machAbsTime,%{public}.3lf", v641, 0xCu);
          }
        }

        if (!sub_245B56AC8(v339 + 360, v338 - 1432, v338 - 1432))
        {
          if (qword_27EE33DE8 != -1)
          {
            dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
          }

          v366 = qword_27EE33DF0;
          if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
          {
            v367 = *(v338 - 1776);
            *v641 = 134349056;
            *&v641[4] = v367;
            _os_log_impl(&dword_245B46000, v366, OS_LOG_TYPE_DEBUG, "CLVLF,initWithPoints,Unable to compute course in VIO,machAbsTime,%{public}.3lf", v641, 0xCu);
          }
        }

        for (k = 0; k != 24; k += 8)
        {
          *(v341 + k) = *(v341 + k) + *(&v459 + k + 8);
        }

        v369 = 1;
        v370 = (v338 - 1176);
        do
        {
          *v370 = *v370 + *(&v459 + v369);
          ++v370;
          ++v369;
        }

        while (v369 != 4);
        *(v2 + 6816) = 0;
        *(v2 + 6800) = 0u;
        *(v2 + 6824) = 0x3FF0000000000000;
        *(v2 + 6904) = 0;
        *(v2 + 6856) = 0u;
        *(v2 + 6872) = 0u;
        *(v2 + 6888) = 0u;
        *(v2 + 6912) = 0x3FF0000000000000;
        *(v2 + 6880) = 0x3FF0000000000000;
        *(v2 + 6848) = 0x3FF0000000000000;
        *(v2 + 7024) = 0u;
        *(v2 + 7040) = 0u;
        *(v2 + 7056) = 0u;
        *(v2 + 7072) = 0u;
        *(v2 + 7088) = 0u;
        *(v2 + 7104) = 0u;
        *(v2 + 7120) = 0u;
        *(v2 + 7136) = 0u;
        *(v2 + 7152) = 0u;
        *(v2 + 7168) = 0u;
        *(v2 + 7184) = 0u;
        *(v2 + 7200) = 0u;
        *(v2 + 7216) = 0u;
        *(v2 + 7232) = 0u;
        *(v2 + 7248) = 0u;
        *(v2 + 7264) = 0u;
        *(v2 + 7280) = 0u;
        *(v2 + 7296) = 0u;
        *(v449 + 8) = 0;
        *(v2 + 6936) = 0u;
        *(v2 + 6952) = 0u;
        v371 = *(v2 + 64);
        v372 = (v371 - *(v2 + 56)) >> 8;
        *(v2 + 6984) = 0;
        *(v2 + 7000) = 0;
        *(v2 + 6992) = 0;
        if ((0x6DB6DB6DB6DB6DB7 * v372) >= 3 && *(v371 - 1632) == 1 && *(v371 - 1456) == 1 && *(v371 - 32) == 1)
        {
          v373 = __sincos_stret(*(v371 - 1448) - *(v371 - 24));
          *v518 = &unk_2858B6880;
          *&v518[8] = v373.__cosval;
          *&v518[16] = v373.__sinval;
          *&v518[24] = 0;
          *&v518[32] = -v373.__sinval;
          *&v518[40] = v373.__cosval;
          memset(&v518[48], 0, 24);
          v519[0] = 0x3FF0000000000000;
          v519[1] = 0;
          sub_245B47308(v449 + 8, v518);
          v374 = *(v371 - 1560);
          *(v2 + 6984) = *(v371 - 1576);
          *(v2 + 7000) = v374;
          v639[0] = &unk_2858B6880;
          v639[10] = 0;
          v639[1] = *(v2 + 6848);
          v639[2] = *(v2 + 6872);
          v639[3] = *(v2 + 6896);
          v639[4] = *(v2 + 6856);
          v639[5] = *(v2 + 6880);
          v639[6] = *(v2 + 6904);
          v639[7] = *(v2 + 6864);
          v639[8] = *(v2 + 6888);
          v639[9] = *(v2 + 6912);
          v496 = &unk_2858B6880;
          v497 = 0u;
          v498 = 0u;
          v499 = 0u;
          v500 = 0u;
          v501 = 0u;
          *v641 = &unk_2858B6DE0;
          v647 = 0;
          v645[0] = 0;
          *&v641[8] = 0u;
          v642 = 0u;
          v643 = 0u;
          v644 = 0u;
          v646 = 0u;
          memset(v649, 0, sizeof(v649));
          v650 = 0xBFF0000000000000;
          v648 = -1.0;
          v645[1] = 0xBFF0000000000000;
          v507 = &unk_2858B66C8;
          v508 = 0u;
          v509[0] = 0u;
          v376 = *(v2 + 56);
          v375 = *(v2 + 64);
          if (v376 != v375)
          {
            v377 = *(v2 + 56);
            do
            {
              *buf = &unk_2858B66C8;
              v378 = *(v377 + 632);
              *&buf[8] = *(v377 + 616);
              *&buf[24] = v378;
              v379 = (v371 - 1176);
              for (m = 1; m != 4; ++m)
              {
                v381 = *v379++;
                *&buf[8 * m] = *&buf[8 * m] - v381;
              }

              for (n = 8; n != 32; n += 8)
              {
                *(&v507 + n) = *(&v507 + n) + *&buf[n];
              }

              v377 += 1792;
            }

            while (v377 != v375);
          }

          for (ii = 8; ii != 32; ii += 8)
          {
            *(&v507 + ii) = *(&v507 + ii) / (0x6DB6DB6DB6DB6DB7 * ((v375 - v376) >> 8));
          }

          v448 = v375;
          if (v376 != v375)
          {
            v445 = vdupq_n_s64(3uLL);
            do
            {
              if (*(v376 + 160) == 1)
              {
                LOBYTE(v512) = 0;
                v513 = v445;
                v514 = xmmword_245B5F4F0;
                *&v515.f64[0] = v376 + 824;
                *&v515.f64[1] = v376 + 944;
                sub_245B5A7B8(&v463, v2 + 6840, &v512);
                sub_245B4C0A4(&v485, v463, 3);
                if (v463)
                {
                  cblas_dgemm_NEWLAPACK();
                }

                *buf = &unk_2858B6880;
                v384 = *(v376 + 304);
                v534 = *(v376 + 288);
                v535 = v384;
                *v536 = *(v376 + 320);
                v385 = *(v376 + 272);
                *&buf[8] = *(v376 + 256);
                *&buf[24] = v385;
                v386 = 1;
                v387 = v487.i64[0];
                do
                {
                  v388 = *v387++;
                  *&buf[8 * v386] = *&buf[8 * v386] + v388;
                  ++v386;
                }

                while (v386 != 10);
                v498 = *&buf[24];
                v499 = v534;
                v500 = v535;
                v501 = *v536;
                v497 = *&buf[8];
                sub_245B4B1D0(&v485);
                sub_245B4B1D0(&v463);
                v389 = v497;
                v390 = v498;
                v391 = *&v499;
                v392 = *&v499 * *&v501 - *(&v500 + 1) * *(&v499 + 1);
                v393 = *(&v500 + 1) * *v498.i64 - *(&v497 + 1) * *&v501;
                v394 = *(&v497 + 1) * *(&v499 + 1) - *&v499 * *v498.i64;
                v395 = *&v498.i64[1] * v393 + v392 * *&v497 + v394 * *&v500;
                *&v497 = v392 / v395;
                *(&v497 + 1) = v393 / v395;
                *v498.i64 = v394 / v395;
                *&v498.i64[1] = (*&v500 * *(&v499 + 1) - *&v498.i64[1] * *&v501) / v395;
                *&v499 = (*&v389 * *&v501 - *&v500 * *v390.i64) / v395;
                *(&v499 + 1) = (*&v390.i64[1] * *v390.i64 - *&v389 * *(&v499 + 1)) / v395;
                *v396.i64 = (*&v390.i64[1] * *(&v500 + 1) - *&v500 * v391) / v395;
                v397 = (*&v500 * *(&v389 + 1) - *&v389 * *(&v500 + 1)) / v395;
                *&v500 = *v396.i64;
                *(&v500 + 1) = v397;
                *&v501 = (*&v389 * v391 - *&v390.i64[1] * *(&v389 + 1)) / v395;
                v485 = &unk_2858B66C8;
                v398 = *(v376 + 616);
                v399 = *(v376 + 632);
                v486 = v398;
                v487 = v399;
                v400 = (v371 - 1176);
                for (jj = 1; jj != 4; ++jj)
                {
                  v402 = *v400++;
                  *(&v485 + jj) = *(&v485 + jj) - v402;
                }

                for (kk = 8; kk != 32; kk += 8)
                {
                  *v398.i64 = *(&v485 + kk) - *(&v507 + kk);
                  *(&v485 + kk) = v398.i64[0];
                }

                sub_245B48F00((v2 + 6840), v2 + 6928, &v485, buf, v398, v396);
                for (mm = 8; mm != 80; mm += 8)
                {
                  *&buf[mm] = -*&buf[mm];
                }

                *&v641[8] = *&buf[8];
                v642 = *&buf[24];
                v643 = v534;
                v644 = v535;
                v645[0] = *v536;
                *buf = &unk_2858B6DE0;
                memset(&buf[8], 0, 32);
                v534 = 0u;
                v535 = 0u;
                memset(v536, 0, sizeof(v536));
                cblas_dgemm_NEWLAPACK();
                cblas_dgemm_NEWLAPACK();
              }

              v376 += 1792;
            }

            while (v376 != v448);
          }

          memset(buf, 0, 24);
          LODWORD(v463) = 6;
          LODWORD(v512) = 6;
          operator new();
        }

        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v405 = qword_27EE33DF0;
        if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
        {
          goto LABEL_474;
        }

        v406 = *(v338 - 1776);
        *v641 = 134349056;
        *&v641[4] = v406;
        v348 = "CLVLF,initWithPoints,Unable to initialize transform_vio2enu,machAbsTime,%{public}.3lf";
        goto LABEL_472;
      }

      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v346 = qword_27EE33DF0;
      if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        goto LABEL_474;
      }

      v354 = *(v338 - 1776);
      v355 = *(v338 - 1448) * 57.2957795;
      v356 = *(v338 - 1664) * 57.2957795;
      *v641 = 134349569;
      *&v641[4] = v354;
      *&v641[12] = 2049;
      *&v641[14] = v355;
      *&v641[22] = 2049;
      *&v642 = v356;
      v348 = "CLVLF,initialize,Computed course and reported course are too different,machAbsTime,%{public}.3lf,courseEnuFromPos,%{private}.3lf,courseEnu,%{private}.3lf";
    }

    v357 = v346;
    v358 = OS_LOG_TYPE_DEBUG;
    v359 = 32;
LABEL_473:
    _os_log_impl(&dword_245B46000, v357, v358, v348, v641, v359);
LABEL_474:
    v3 = v449;
    goto LABEL_26;
  }

  if ((*(v0 + 6776) & 1) == 0)
  {
    while ((atomic_exchange_explicit((v2 + 1), 1u, memory_order_acquire) & 1) != 0)
    {
      sched_yield();
    }

    v7 = *(v2 + 32);
    v8 = *(v2 + 40);
    atomic_store(0, (v2 + 1));
    if (v7 != v8)
    {
      sub_245B59738();
      if (*v3 == 1)
      {
        *(v3 + 1) = 0;
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v9 = qword_27EE33DF0;
        if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
        {
          *v641 = 0;
          v10 = "CLVLF,reinitWithFrames,filter re-initialized with frames";
LABEL_25:
          _os_log_impl(&dword_245B46000, v9, OS_LOG_TYPE_DEBUG, v10, v641, 2u);
        }
      }

      else
      {
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v9 = qword_27EE33DF0;
        if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
        {
          *v641 = 0;
          v10 = "CLVLF,reinitWithFrames,filter still with points init";
          goto LABEL_25;
        }
      }
    }
  }

LABEL_26:
  if ((*(v3 + 1) & 1) == 0)
  {
    if ((*v3 & 1) == 0)
    {
      goto LABEL_376;
    }

    if (*v2 == 1)
    {
      goto LABEL_28;
    }

    goto LABEL_131;
  }

  if ((*v2 & 1) == 0)
  {
LABEL_131:
    if (*(v2 + 11552) <= 0.0)
    {
      goto LABEL_376;
    }

    v146 = (v2 + 8152);
    v147 = v2 + 0x2000;
    if ((*(v3 + 1) & 1) == 0)
    {
LABEL_133:
      if (*v449 != 1)
      {
        goto LABEL_376;
      }

      goto LABEL_134;
    }

    while (1)
    {
LABEL_134:
      v148 = *(v2 + 56);
      if (v148 == *(v2 + 64))
      {
        goto LABEL_376;
      }

      sub_245B4BBD4(v641, *(v2 + 56));
      sub_245B5B678(v658, (v148 + 360));
      v149 = *(v2 + 56);
      v150 = *(v2 + 64);
      if (v149 + 1792 == v150)
      {
        v151 = *(v2 + 56);
      }

      else
      {
        do
        {
          v151 = v149 + 1792;
          v152 = sub_245B58D88(v149, v149 + 1792) + 3584;
          v149 = v151;
        }

        while (v152 != v150);
      }

      *(v2 + 64) = v151;
      if ((*(v449 + 1320) & 1) == 0)
      {
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v192 = qword_27EE33DF0;
        if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
        {
          goto LABEL_375;
        }

        *buf = 134349056;
        *&buf[4] = *&v641[16];
        v193 = "CLVLF,propagateAfterSessionEnded,Filter reset,prev ENU invalid,machAbsTime,%{public}.3lf";
LABEL_222:
        v194 = buf;
        v195 = v192;
        v196 = 12;
LABEL_374:
        _os_log_impl(&dword_245B46000, v195, OS_LOG_TYPE_ERROR, v193, v194, v196);
        goto LABEL_375;
      }

      v153 = vabdd_f64(*&v641[16], *(v2 + 7952));
      v154 = sub_245B58CEC(v641);
      *(v2 + 7936) = *v641;
      *(v2 + 7944) = *&v641[8];
      *(v2 + 7960) = v642;
      *(v449 + 1496) = 0;
      *(v2 + 8296) = 0;
      if (v154)
      {
        *v518 = *(&v650 + 1) * (v153 * (v153 * 0.5) * *(&v650 + 1));
        v155 = 1;
        buf[0] = 1;
        *&buf[8] = xmmword_245B61A10;
        *&buf[24] = xmmword_245B61A20;
        *&v534 = v2 + 0x2000;
        *(&v534 + 1) = v2 + 8232;
        sub_245B5C3D4(buf, v518);
        *(v2 + 8048) = sqrt(*(v2 + 0x2000) + *(v2 + 8224));
        v156 = v650;
        *(v2 + 8064) = *&v649[1];
        *(v2 + 8080) = v156;
        goto LABEL_179;
      }

      v157 = v649[2];
      v158 = *(&v650 + 1);
      if (v649[2] > 0.0)
      {
        if (*(&v650 + 1) > 0.0)
        {
          v159 = v649[1];
          v160 = *&v650;
          v161 = (v2 + 7936);
          goto LABEL_153;
        }

        v162 = *(v2 + 8088);
        if (v162 > 0.0)
        {
          v159 = v649[1];
          v160 = *(v2 + 8080);
          v161 = (v2 + 7936);
LABEL_152:
          v158 = v162;
          goto LABEL_153;
        }
      }

      if (*(v2 + 8072) <= 0.0)
      {
        goto LABEL_154;
      }

      if (*(&v650 + 1) <= 0.0)
      {
        v162 = *(v2 + 8088);
        if (v162 <= 0.0)
        {
LABEL_154:
          *(v2 + 8064) = v649[1];
          *(v2 + 8072) = v157;
          *(v2 + 8080) = v650;
          *(v2 + 8088) = v158;
          goto LABEL_155;
        }

        v159 = *(v2 + 8064);
        v160 = *(v2 + 8080);
        v161 = (v2 + 7936);
        v157 = *(v2 + 8072);
        goto LABEL_152;
      }

      v159 = *(v2 + 8064);
      v160 = *&v650;
      v161 = (v2 + 7936);
      v157 = *(v2 + 8072);
LABEL_153:
      sub_245B58FB0(v161, v159, v157, v160, v158, v153);
LABEL_155:
      if (sub_245B58B70(v645, v2 + 7856, v641))
      {
        v163 = hypot(*(v2 + 8048), *(v2 + 8056));
        v164 = hypot(v648, v649[0]);
        v165 = v163 + v164;
        v166 = (COERCE__INT64(fabs(v163 + v164)) - 0x10000000000000) >> 53;
        if ((COERCE__INT64(v163 + v164) <= -1 || v166 >= 0x3FF) && (COERCE__INT64(v163 + v164) - 1) >= 0xFFFFFFFFFFFFFLL)
        {
          if (qword_27EE33DE8 != -1)
          {
            dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
          }

          v333 = qword_27EE33DF0;
          if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
          {
            goto LABEL_375;
          }

          *buf = 134349568;
          *&buf[4] = *&v641[16];
          *&buf[12] = 2050;
          *&buf[14] = v163;
          *&buf[22] = 2050;
          *&buf[24] = v164;
          v193 = "CLVLF,propagateAfterSessionEnded,Filter reset,Invalid horzAcc,machAbsTime,%{public}.3lf,prevHorzAcc,%{public}.3lf,currHorzAcc,%{public}.3lf";
          v194 = buf;
LABEL_373:
          v195 = v333;
          v196 = 32;
          goto LABEL_374;
        }

        *buf = &unk_2858B66C8;
        v169 = *(v2 + 8168);
        *&buf[8] = *v146;
        *&buf[24] = v169;
        v170 = 8;
        v171 = v164 / v165;
        do
        {
          *&buf[v170] = v171 * *&buf[v170];
          v170 += 8;
        }

        while (v170 != 32);
        *v518 = &unk_2858B66C8;
        *&v518[8] = v651;
        *&v518[24] = v652;
        v172 = 8;
        v173 = v163 / v165;
        do
        {
          *&v518[v172] = v173 * *&v518[v172];
          v172 += 8;
        }

        while (v172 != 32);
        for (nn = 8; nn != 32; nn += 8)
        {
          *&buf[nn] = *&buf[nn] + *&v518[nn];
        }

        v175 = 0;
        v176 = *&buf[24];
        *v146 = *&buf[8];
        *(v2 + 8168) = v176;
        v177 = v171 * v171;
        do
        {
          *(v147 + v175) = v177 * *(v147 + v175);
          v175 += 8;
        }

        while (v175 != 72);
        *&buf[24] = v654;
        v534 = v655;
        v535 = v656;
        *v536 = v657;
        v178 = v173 * v173;
        *buf = &unk_2858B6880;
        v179 = 8;
        *&buf[8] = v653;
        do
        {
          *&buf[v179] = v178 * *&buf[v179];
          v179 += 8;
        }

        while (v179 != 80);
        for (i1 = 0; i1 != 72; i1 += 8)
        {
          *(v147 + i1) = *(v147 + i1) + *&buf[i1 + 8];
        }

        *(v2 + 8048) = sqrt(*(v2 + 0x2000) + *(v2 + 8224));
        *(v2 + 8056) = sqrt(*(v2 + 8256));
      }

      if (cnnavigation::ENUToECEF() || cnnavigation::ECEFToLLA())
      {
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v192 = qword_27EE33DF0;
        if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
        {
          goto LABEL_375;
        }

        *buf = 134349056;
        *&buf[4] = *&v641[16];
        v193 = "CLVLF,propagateAfterSessionEnded,Filter reset,Propagated LLA invalid,machAbsTime,%{public}.3lf";
        goto LABEL_222;
      }

      v155 = 5;
LABEL_179:
      *(v2 + 8296) = v155;
      sub_245B58D88(v2 + 8320, v641);
      v181 = *(v2 + 6760);
      v182 = *(v2 + 6752);
      if ((0x13A524387AC82261 * ((v181 - v182) >> 3)) >= 4)
      {
        if (v182 + 3336 == v181)
        {
          v183 = *(v2 + 6752);
        }

        else
        {
          do
          {
            v183 = v182 + 3336;
            v184 = sub_245B5954C(v182, v182 + 3336) + 6672;
            v182 = v183;
          }

          while (v184 != v181);
        }

        *(v2 + 6760) = v183;
      }

      sub_245B587A4((v2 + 6752), v449);
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v185 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        v186 = *(v2 + 8336);
        v187 = 1.57079633 - *(v2 + 8064);
        if (v187 < 0.0 || v187 >= 6.28318531)
        {
          v187 = fmod(v187, 6.28318531);
          if (v187 < 0.0 || v187 == 0.0 && (*&v187 & 0x8000000000000000) == 0)
          {
            v187 = v187 + 6.28318531;
          }
        }

        v188 = *(v2 + 8080);
        *buf = 134349568;
        *&buf[4] = v186;
        *&buf[12] = 2050;
        *&buf[14] = v187 * 57.2957795;
        *&buf[22] = 2050;
        *&buf[24] = v188;
        _os_log_impl(&dword_245B46000, v185, OS_LOG_TYPE_DEBUG, "CLVLF,propagateAfterSessionEnded,Location propagated,machAbsTime,%{public}.3lf,course,%{public}.3lf,speed,%{public}.3lf", buf, 0x20u);
      }

      if ((*(v449 + 1) & 1) == 0)
      {
        goto LABEL_133;
      }
    }
  }

LABEL_28:
  v427 = (v2 + 10112);
  v426 = (v2 + 10184);
  v425 = (v2 + 10232);
  v424 = (v2 + 10320);
  v423 = (v2 + 10368);
  v422 = (v2 + 10408);
  v421 = (v2 + 10720);
  v420 = (v2 + 10768);
  v419 = (v2 + 10856);
  v418 = (v2 + 10904);
  v417 = (v2 + 10944);
  v416 = (v2 + 11248);
  v415 = (v2 + 11288);
  v414 = (v2 + 11384);
  v413 = (v2 + 11424);
  v412 = (v2 + 11504);
  v447 = (v2 + 7936);
  v446 = (v2 + 7976);
  v444 = (v2 + 8016);
  v443 = (v2 + 8048);
  v442 = (v2 + 8112);
  v441 = (v2 + 8152);
  v440 = (v2 + 8272);
  v439 = (v2 + 8320);
  *&v11.f64[1] = 3;
  v11.f64[0] = 3.14159265;
  v411 = v11;
  v410 = (v2 + 6960);
  v428 = vdupq_n_s64(3uLL);
  v11.f64[0] = NAN;
  v11.f64[1] = NAN;
  v409 = vnegq_f64(v11);
  v438 = (v2 + 0x2000);
  while (1)
  {
    if ((*(v449 + 1) & 1) == 0 && *v449 != 1)
    {
      goto LABEL_233;
    }

    while ((atomic_exchange_explicit((v2 + 1), 1u, memory_order_acquire) & 1) != 0)
    {
      sched_yield();
    }

    v13 = *(v2 + 32);
    v12 = *(v2 + 40);
    if (v13 == v12 || *(v13 + 8) > *(v433 + 8))
    {
      atomic_store(0, (v2 + 1));
      goto LABEL_233;
    }

    sub_245B5BA24(buf, *(v2 + 32));
    sub_245B5B678(v589 + 8, (v13 + 1728));
    if (v13 + 3160 == v12)
    {
      v14 = v13;
    }

    else
    {
      do
      {
        v14 = v13 + 3160;
        sub_245B5BAEC(v13, (v13 + 3160));
        v15 = v13 + 6320;
        v13 += 3160;
      }

      while (v15 != v12);
    }

    *(v2 + 40) = v14;
    atomic_store(0, (v2 + 1));
    v16 = *(v2 + 2000);
    if (v16 > 0.0 && v638 == 1 && *(&v589[1] + 1) != v16)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v197 = qword_27EE33DF0;
      if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        goto LABEL_232;
      }

      v198 = *(v2 + 2000);
      *v641 = 134349568;
      *&v641[4] = *&v589[3];
      *&v641[12] = 2050;
      *&v641[14] = v198;
      *&v641[22] = 2050;
      *&v642 = *(&v589[1] + 1);
      v199 = "CLVLF,fuseWithFrames,Filter reset,VIO session is re-initialized,machAbsTime,%{public}.3lf,prevOriginTimestamp,%{public}.3lf,currOriginTimestamp,%{public}.3lf";
LABEL_231:
      _os_log_impl(&dword_245B46000, v197, OS_LOG_TYPE_ERROR, v199, v641, 0x20u);
LABEL_232:
      sub_245B4C854(v2);
      goto LABEL_233;
    }

    v18 = *(v2 + 10152);
    if (v18 > 0.0 && *&v589[3] >= v18 && *&v589[3] > v18 + 8.0)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v197 = qword_27EE33DF0;
      if (!os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        goto LABEL_232;
      }

      v200 = *(v2 + 10152);
      *v641 = 134349568;
      *&v641[4] = 0x4020000000000000;
      *&v641[12] = 2050;
      *&v641[14] = *&v589[3];
      *&v641[22] = 2050;
      *&v642 = v200;
      v199 = "CLVLF,fuseWithFrames,Filter reset,VIO measurements were unacceptable for %{public}.3lf sec,machAbsTime,%{public}.3lf,lastNominalVioMachAbsTime,%{public}.3lf";
      goto LABEL_231;
    }

    if (*&v589[3] >= v18 && v638 == 1 && !DWORD2(v589[0]))
    {
      v21 = *(&v589[1] + 8);
      *v427 = *(v589 + 8);
      *(v2 + 10128) = v21;
      *(v2 + 10144) = *(&v589[2] + 8);
      *(v2 + 10160) = *(&v589[3] + 1);
      *(v449 + 3392) = v590;
      v22 = v592;
      *v426 = v591;
      *(v2 + 10200) = v22;
      *(v2 + 10216) = v593;
      v23 = v594;
      v24 = v595;
      v25 = v598;
      *(v2 + 10280) = v597;
      *(v2 + 10296) = v25;
      v26 = v596;
      *(v2 + 10248) = v24;
      *(v2 + 10264) = v26;
      *v425 = v23;
      v27 = v599;
      v28 = v600;
      *(v2 + 10352) = v601;
      *v424 = v27;
      *(v2 + 10336) = v28;
      v29 = v604;
      *v423 = v603;
      *(v2 + 10384) = v29;
      memcpy(v422, v605, 0x128uLL);
      *(v449 + 3928) = v606;
      v30 = v608;
      *v421 = v607;
      *(v2 + 10736) = v30;
      *(v2 + 10752) = v609;
      v31 = v613;
      *(v2 + 10800) = v612;
      *(v2 + 10816) = v31;
      *(v2 + 10832) = v614;
      v32 = v611;
      *v420 = v610;
      *(v2 + 10784) = v32;
      v33 = v616;
      *v419 = v615;
      *(v2 + 10872) = v33;
      *(v2 + 10888) = v617;
      v34 = v619;
      *v418 = v618;
      *(v2 + 10920) = v34;
      memcpy(v417, v620, 0x128uLL);
      v35 = v622;
      *v416 = v621;
      *(v2 + 11264) = v35;
      v36 = v626;
      *(v2 + 11320) = v625;
      *(v2 + 11336) = v36;
      *(v2 + 11352) = v627;
      v37 = v624;
      *v415 = v623;
      *(v2 + 11304) = v37;
      *v437 = v628;
      v38 = v630;
      *v414 = v629;
      *(v2 + 11400) = v38;
      v39 = v634;
      *(v2 + 11456) = v633;
      *(v2 + 11472) = v39;
      *(v2 + 11488) = v635;
      v40 = v632;
      *v413 = v631;
      *(v2 + 11440) = v40;
      v41 = v637;
      *v412 = v636;
      *(v2 + 11520) = v41;
      *(v2 + 11536) = v638;
    }

    if ((sub_245B4A088(buf, v2 + 4496) & 1) == 0)
    {
      break;
    }

    v450 = 1;
    sub_245B4ADB0(buf, &v450, v518);
    if (v450 == 1)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v189 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        *v641 = 134349056;
        *&v641[4] = *&buf[8];
        v190 = "CLVLF,fuseWithFrames,Unable to convert VLF to LOC,machAbsTime,%{public}.3lf";
        goto LABEL_206;
      }

      goto LABEL_233;
    }

    *v518 = *(v2 + 13272);
    v520[1] = *(v437 + 2032);
    v520[2] = *(v437 + 2048);
    v42 = *(v2 + 6752);
    sub_245B56574(v42 + 1544, v518, v518);
    for (i2 = 0; i2 != 24; i2 += 8)
    {
      *(&v603 + i2) = *(&v603 + i2) - *(v2 + i2 + 4544);
    }

    sub_245B568EC(*(v2 + 6760) - 1432, v589 + 8, v589 + 8);
    sub_245B56AC8(v42 + 1904, v589 + 8, v589 + 8);
    sub_245B5B310(v641);
    sub_245B56E44(v2, v518, v589 + 8, v641);
    v44 = 0;
    *&v639[1] = v603;
    *&v639[3] = v604;
    do
    {
      *&v639[v44 + 1] = *&v639[v44 + 1] - *(v2 + v44 * 8 + 5576);
      ++v44;
    }

    while (v44 != 3);
    v45 = *&v639[1];
    v46 = *&v639[2];
    v497 = v661;
    v498 = v662;
    for (i3 = 1392; i3 != 1416; i3 += 8)
    {
      *(&v496 + i3 - 1384) = *(&v496 + i3 - 1384) - *&buf[i3];
    }

    v48 = hypot(v45, v46);
    v49 = hypot(*&v497, *(&v497 + 1));
    v52 = v48 >= 8.0 || (v50.i64[0] = v587[1], v51 = sqrt(v584.f64[0] + *&v587[1]), v51 > 0.0) && (*v50.i64 = v659, v659 > 0.0) && v659 + v51 * 2.43199076 < v49 || vabdd_f64(*&buf[8], *(v2 + 4976)) >= 16.0;
    v434 = v52;
    v482 = &unk_2858B66C8;
    v483 = *&v577[25];
    v484 = *&v577[27];
    for (i4 = 744; i4 != 768; i4 += 8)
    {
      *(&v482 + i4 - 736) = *(&v482 + i4 - 736) - *&v641[i4];
    }

    v496 = &unk_2858B6DE0;
    v497 = 0u;
    v498 = 0u;
    v499 = 0u;
    v500 = 0u;
    v501 = 0u;
    v502 = 0u;
    v503 = 0u;
    v504 = 0u;
    v505 = 0u;
    v506 = 0;
    sub_245B48F00((v2 + 6840), v2 + 6928, &v602, v639, 0, v50);
    v497 = *&v639[1];
    v498 = *&v639[3];
    v499 = *&v639[5];
    v500 = *&v639[7];
    *&v501 = v639[9];
    *(&v505 + 1) = 0x3FF0000000000000;
    *(&v503 + 1) = 0x3FF0000000000000;
    *(&v501 + 1) = 0x3FF0000000000000;
    LOBYTE(v485) = 0;
    v486 = v428;
    v487 = xmmword_245B5F4F0;
    *&v488 = &v605[168];
    *(&v488 + 1) = &v605[288];
    sub_245B5A7B8(v639, v2 + 6840, &v485);
    v512 = &unk_2858B6880;
    v513 = 0u;
    v514 = 0u;
    v515 = 0u;
    v516 = 0u;
    v517 = 0u;
    v54 = v639[3];
    v55 = v639[4];
    if (v639[3] != v639[4])
    {
      v56 = &v513;
      do
      {
        v57 = *v54++;
        v56->f64[0] = v57;
        v56 = (v56 + 8);
      }

      while (v54 != v55);
    }

    sub_245B4B1D0(v639);
    LOBYTE(v639[0]) = 0;
    *&v639[1] = vdupq_n_s64(3uLL);
    *&v639[3] = xmmword_245B5F4B0;
    v639[5] = v2 + 6848;
    v639[6] = v2 + 6920;
    sub_245B48DD4(&v512, v639);
    v513 = vaddq_f64(v584, v513);
    v58.f64[0] = v585;
    *&v58.f64[1] = v587[0];
    v514 = vaddq_f64(v58, v514);
    v515 = vaddq_f64(*&v587[1], v515);
    v516 = vaddq_f64(*(v588 + 8), v516);
    *&v517 = *(&v588[1] + 1) + *&v517;
    sub_245B5A960(v639);
    LOBYTE(v463) = 1;
    v464 = xmmword_245B61A30;
    v465 = xmmword_245B5F4B0;
    *&v466.f64[0] = &v497;
    *&v466.f64[1] = &v506;
    sub_245B5A88C(&v485, v639, &v463);
    v509[0] = v514;
    v509[1] = v515;
    v510 = v516;
    v511 = v517;
    v507 = &unk_2858B6880;
    v508 = v513;
    v59 = 1;
    v60 = v487.i64[0];
    do
    {
      v61 = *v60++;
      *(&v507 + v59) = *(&v507 + v59) + v61;
      ++v59;
    }

    while (v59 != 10);
    sub_245B4B1D0(&v485);
    sub_245B5AA10(&v476, &v507);
    LOBYTE(v485) = 0;
    v486 = xmmword_245B5F4D0;
    v487 = vdupq_n_s64(1uLL);
    *&v488 = &v483;
    *(&v488 + 1) = &v484 + 8;
    v463 = &unk_2858B66C8;
    *(&v465 + 1) = 0;
    v464 = vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(*&v478[8], v483.f64[1]), v477, v483.f64[0]), v480, *&v484);
    *&v465 = v483.f64[1] * v479 + *v478 * v483.f64[0] + v481 * *&v484;
    sub_245B5AAF8(v639, &v485);
    v474 = &unk_2858B78F8;
    v475[0] = 0.0;
    v475[1] = 0.0;
    v62 = v639[3];
    v63 = v639[4];
    if (v639[3] != v639[4])
    {
      v64 = v475;
      do
      {
        v65 = *v62++;
        *v64++ = v65;
      }

      while (v62 != v63);
    }

    sub_245B4B1D0(v639);
    if (v475[0] <= 8.02488176)
    {
      goto LABEL_87;
    }

    if (qword_27EE33DE8 != -1)
    {
      dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
    }

    v66 = qword_27EE33DF0;
    if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
    {
      LODWORD(v639[0]) = 134349312;
      *(v639 + 4) = *&buf[8];
      WORD2(v639[1]) = 1026;
      *(&v639[1] + 6) = v434;
      _os_log_impl(&dword_245B46000, v66, OS_LOG_TYPE_DEBUG, "CLVLF,updateWithVLPoints,Mahalanobis test failed,machAbsTime,%{public}.3lf,forceUpdateNeeded,%{public}d", v639, 0x12u);
    }

    if (v434)
    {
LABEL_87:
      sub_245B5A960(&v485);
      LOBYTE(v459) = 0;
      v460 = xmmword_245B61A30;
      *v461 = xmmword_245B5F4B0;
      *&v461[16] = &v486;
      *&v462 = COERCE_DOUBLE(&v495);
      sub_245B5AB88(v639, &v459);
      v463 = &unk_2858B6F98;
      v464 = 0u;
      v465 = 0u;
      v466 = 0u;
      v467 = 0u;
      v468 = 0u;
      v469 = 0u;
      v470 = 0u;
      v471 = 0u;
      v472 = 0u;
      v473 = 0;
      v67 = v639[3];
      v68 = v639[4];
      if (v639[3] != v639[4])
      {
        v69 = &v464;
        do
        {
          v70 = *v67++;
          v69->f64[0] = v70;
          v69 = (v69 + 8);
        }

        while (v67 != v68);
      }

      sub_245B4B1D0(v639);
      sub_245B5AC28(&v459);
      *(v449 + 208) = vaddq_f64(*&v461[8], *(v449 + 208));
      *(v2 + 7000) = *&v462 + *(v2 + 7000);
      sub_245B5ACB0(v639);
      sub_245B5C544(v2 + 7016, v639);
      v71 = fmax(fabs(*&v460), fmax(fabs(*(&v460 + 1)), fabs(*v461)));
      if (v71 > 1.34078079e154)
      {
        *&v72 = 7.112828e-161;
        goto LABEL_94;
      }

      v73 = 1.0;
      if (v71 < 7.45834073e-155)
      {
        *&v72 = 1.40591056e160;
LABEL_94:
        v73 = *&v72;
      }

      if (sqrt(*(&v460 + 1) * v73 * (*(&v460 + 1) * v73) + *&v460 * v73 * (*&v460 * v73) + *v461 * v73 * (*v461 * v73)) / v73 != 0.0)
      {
        LOBYTE(v451) = 0;
        v452 = xmmword_245B5F4B0;
        v453 = vdupq_n_s64(1uLL);
        v454 = v2 + 6936;
        v455 = v2 + 6960;
        memset(v639, 0, 72);
        sub_245B4C2B8(v639, &v451);
        sub_245B4C270(v639, v410);
        v456 = &unk_2858B66C8;
        v457 = 0u;
        v458 = 0u;
        v74 = v639[3];
        v75 = v639[4];
        if (v639[3] != v639[4])
        {
          v76 = &v457;
          do
          {
            v77 = *v74++;
            v76->f64[0] = v77;
            v76 = (v76 + 8);
          }

          while (v74 != v75);
        }

        sub_245B4B1D0(v639);
        v78.i64[1] = *&v457.f64[1];
        v79 = vaddq_f64(v460, v457);
        v457 = v79;
        v80 = *v461 + *&v458;
        *&v458 = v80;
        *v81.i64 = fmax(fabs(v79.f64[0]), fmax(fabs(v79.f64[1]), fabs(v80)));
        if (*v81.i64 > 1.34078079e154)
        {
          v82 = 0x1EB0000000000000;
          goto LABEL_104;
        }

        v78.i64[0] = 1.0;
        if (*v81.i64 < 7.45834073e-155)
        {
          v82 = 0x6130000000000000;
LABEL_104:
          v78.i64[0] = v82;
        }

        v83 = sqrt(v79.f64[1] * *v78.i64 * (v79.f64[1] * *v78.i64) + v79.f64[0] * *v78.i64 * (v79.f64[0] * *v78.i64) + v80 * *v78.i64 * (v80 * *v78.i64));
        *v81.i64 = v83 / *v78.i64;
        if (v83 / *v78.i64 == 0.0)
        {
          v639[0] = &unk_2858B6DC0;
          v84 = 0uLL;
          memset(&v639[1], 0, 40);
        }

        else
        {
          v84.i64[1] = v411.i64[1];
          *v84.i64 = v83 / *v78.i64;
          if (*v81.i64 > *v411.i64)
          {
            v436 = v79;
            v408 = v81;
            *v84.i64 = fmod(*v81.i64 + *v411.i64, 6.28318531);
            v79 = v436;
            *&v85 = vbslq_s8(v409, v411, v84).u64[0];
            if (*v84.i64 == 0.0)
            {
              *v84.i64 = v85;
            }

            else
            {
              *v84.i64 = *v84.i64 + -3.14159265;
            }

            v81 = v408;
          }

          v78 = vdivq_f64(v79, vdupq_lane_s64(v81.i64[0], 0));
          v639[0] = &unk_2858B6DC0;
          *&v639[1] = v78;
          *v78.i64 = v80 / *v81.i64;
          *&v639[3] = v80 / *v81.i64;
          v639[4] = v84.i64[0];
          v639[5] = 0;
        }

        sub_245B47778(v2 + 6784, v639, v84, v78, v81);
      }

      sub_245B48104(v2 + 6784);
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v86 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        v87 = *(v2 + 6936);
        v88 = *(v2 + 6944);
        v89 = *(v2 + 6952);
        v90 = *(v2 + 6960) * 57.2957795;
        v91 = *(v2 + 6984);
        v92 = *(v2 + 6992);
        v93 = *(v2 + 7000);
        v94 = *(v2 + 7024);
        v95 = *(v2 + 7080);
        v96 = *(v2 + 7136);
        v97 = *(v2 + 7192);
        v98 = *(v2 + 7248);
        v99 = *(v2 + 7304);
        LODWORD(v639[0]) = 134352385;
        *(v639 + 4) = *&buf[8];
        WORD2(v639[1]) = 2049;
        *(&v639[1] + 6) = v87;
        HIWORD(v639[2]) = 2049;
        v639[3] = v88;
        LOWORD(v639[4]) = 2049;
        *(&v639[4] + 2) = v89;
        WORD1(v639[5]) = 2049;
        *(&v639[5] + 4) = v90;
        WORD2(v639[6]) = 2049;
        *(&v639[6] + 6) = v91;
        HIWORD(v639[7]) = 2049;
        v639[8] = v92;
        LOWORD(v639[9]) = 2049;
        *(&v639[9] + 2) = v93;
        WORD1(v639[10]) = 2049;
        *(&v639[10] + 4) = v94;
        WORD2(v639[11]) = 2049;
        *(&v639[11] + 6) = v95;
        HIWORD(v639[12]) = 2049;
        v639[13] = v96;
        LOWORD(v639[14]) = 2049;
        *(&v639[14] + 2) = v97;
        WORD1(v639[15]) = 2049;
        *(&v639[15] + 4) = v98;
        WORD2(v639[16]) = 2049;
        *(&v639[16] + 6) = v99;
        _os_log_impl(&dword_245B46000, v86, OS_LOG_TYPE_DEBUG, "CLVLF,updateWithVLPoints,Filter updated,machAbsTime,%{public}.3lf,vio2enu,[%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf],vio2enu_cov_diag,[%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf]", v639, 0x8Eu);
      }

      v435 = 1;
      goto LABEL_119;
    }

    v435 = 0;
LABEL_119:
    v100 = *&v518[16];
    *v447 = *v518;
    *(v2 + 7952) = v100;
    v101 = *&v518[56];
    *v446 = *&v518[40];
    *(v2 + 7992) = v101;
    v102 = *&v519[3];
    *v444 = *&v519[1];
    *(v2 + 8032) = v102;
    v103 = v520[2];
    *(v2 + 8064) = v520[1];
    *(v2 + 8080) = v103;
    *v443 = v520[0];
    v104 = v523;
    *v442 = v522;
    *(v2 + 8128) = v104;
    v105 = v525;
    *v441 = v524;
    *(v2 + 8168) = v105;
    v106 = v529;
    *(v2 + 8224) = v528;
    *(v2 + 8240) = v106;
    v107 = v531;
    *(v2 + 8256) = v530;
    v108 = v527;
    *v438 = v526;
    *(v2 + 8208) = v108;
    *(v2 + 8096) = v521;
    *(v2 + 8288) = v532;
    *v440 = v107;
    *(v2 + 8296) = 0;
    sub_245B57074(v589 + 8, v449);
    sub_245B572B4(v589 + 8, v449);
    sub_245B57584(v449, v109, v110, v111);
    sub_245B57984(v2, v518);
    sub_245B580D8(v2, v589 + 8);
    v112 = *&v518[16];
    *v439 = *v518;
    *(v2 + 8336) = v112;
    v113 = *&v518[56];
    *(v2 + 8360) = *&v518[40];
    *(v2 + 8376) = v113;
    v114 = *&v519[3];
    *(v2 + 8400) = *&v519[1];
    *(v2 + 8416) = v114;
    *(v2 + 8480) = v521;
    v115 = v520[2];
    *(v2 + 8448) = v520[1];
    *(v2 + 8464) = v115;
    *(v2 + 8432) = v520[0];
    v116 = v523;
    *(v2 + 8496) = v522;
    *(v2 + 8512) = v116;
    v117 = v525;
    *(v2 + 8536) = v524;
    *(v2 + 8552) = v117;
    v118 = v529;
    *(v2 + 8608) = v528;
    *(v2 + 8624) = v118;
    v119 = v531;
    *(v2 + 8640) = v530;
    v120 = v527;
    *(v2 + 8576) = v526;
    *(v2 + 8592) = v120;
    *(v2 + 8672) = v532;
    *(v2 + 8656) = v119;
    *(v2 + 8728) = *(&v589[3] + 1);
    v121 = *(&v589[2] + 8);
    *(v2 + 8696) = *(&v589[1] + 8);
    *(v2 + 8712) = v121;
    *(v2 + 8680) = *(v589 + 8);
    *(v449 + 1960) = v590;
    v122 = v592;
    *(v2 + 8752) = v591;
    *(v2 + 8768) = v122;
    *(v2 + 8784) = v593;
    v123 = v594;
    v124 = v595;
    v125 = v598;
    *(v2 + 8848) = v597;
    *(v2 + 8864) = v125;
    v126 = v596;
    *(v2 + 8816) = v124;
    *(v2 + 8832) = v126;
    *(v2 + 8800) = v123;
    v127 = v599;
    v128 = v600;
    *(v2 + 8920) = v601;
    *(v2 + 8888) = v127;
    *(v2 + 8904) = v128;
    v129 = v604;
    *(v2 + 8936) = v603;
    *(v2 + 8952) = v129;
    memcpy((v2 + 8976), v605, 0x128uLL);
    *(v449 + 2496) = v606;
    v130 = v608;
    *(v2 + 9288) = v607;
    *(v2 + 9304) = v130;
    *(v2 + 9320) = v609;
    v131 = v613;
    *(v2 + 9368) = v612;
    *(v2 + 9384) = v131;
    *(v2 + 9400) = v614;
    v132 = v611;
    *(v2 + 9336) = v610;
    *(v2 + 9352) = v132;
    v133 = v616;
    *(v2 + 9424) = v615;
    *(v2 + 9440) = v133;
    *(v2 + 9456) = v617;
    v134 = v619;
    *(v2 + 9472) = v618;
    *(v2 + 9488) = v134;
    memcpy((v2 + 9512), v620, 0x128uLL);
    v135 = v622;
    *(v2 + 9816) = v621;
    *(v2 + 9832) = v135;
    v136 = v626;
    *(v2 + 9888) = v625;
    *(v2 + 9904) = v136;
    *(v2 + 9920) = v627;
    v137 = v624;
    *(v2 + 9856) = v623;
    *(v2 + 9872) = v137;
    *(v449 + 3160) = v628;
    v138 = v630;
    *(v2 + 9952) = v629;
    *(v2 + 9968) = v138;
    v139 = v634;
    *(v2 + 10024) = v633;
    *(v2 + 10040) = v139;
    *(v2 + 10056) = v635;
    v140 = v632;
    *(v2 + 9992) = v631;
    *(v2 + 10008) = v140;
    v141 = v637;
    *(v2 + 10072) = v636;
    *(v2 + 10088) = v141;
    *(v2 + 10104) = v638;
    if (v435)
    {
      sub_245B5837C(v2 + 3416, v449);
    }

    v142 = *(v2 + 6760);
    v143 = *(v2 + 6752);
    if ((0x13A524387AC82261 * ((v142 - v143) >> 3)) >= 4)
    {
      if (v143 + 3336 == v142)
      {
        v144 = *(v2 + 6752);
      }

      else
      {
        do
        {
          v144 = v143 + 3336;
          v145 = sub_245B5954C(v143, v143 + 3336) + 6672;
          v143 = v144;
        }

        while (v145 != v142);
      }

      *(v2 + 6760) = v144;
    }

    sub_245B587A4((v2 + 6752), v449);
    if (!sub_245B588E8(v2))
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v191 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        LODWORD(v639[0]) = 134349056;
        *(v639 + 4) = *&buf[8];
        _os_log_impl(&dword_245B46000, v191, OS_LOG_TYPE_ERROR, "CLVLF,fuseWithFrames,Filter reset,unhealthy state,machAbsTime,%{public}.3lf", v639, 0xCu);
      }

      while ((atomic_exchange_explicit((v2 + 1), 1u, memory_order_acquire) & 1) != 0)
      {
        sched_yield();
      }

      sub_245B4C8A8(v2, 0);
      atomic_store(0, (v2 + 1));
      goto LABEL_233;
    }
  }

  if (qword_27EE33DE8 != -1)
  {
    dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
  }

  v189 = qword_27EE33DF0;
  if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
  {
    *v641 = 134349056;
    *&v641[4] = *&buf[8];
    v190 = "CLVLF,fuseWithFrames,Unable to compute VLF for ENU,machAbsTime,%{public}.3lf";
LABEL_206:
    _os_log_impl(&dword_245B46000, v189, OS_LOG_TYPE_ERROR, v190, v641, 0xCu);
  }

LABEL_233:
  v432 = vdupq_n_s64(3uLL);
  v201.f64[0] = NAN;
  v201.f64[1] = NAN;
  v431 = vnegq_f64(v201);
  v202 = v449;
  while (2)
  {
    if ((*(v202 + 1) & 1) == 0 && *v449 != 1)
    {
      goto LABEL_376;
    }

    v203 = *(v2 + 56);
    if (v203 == *(v2 + 64))
    {
      goto LABEL_376;
    }

    sub_245B4BBD4(buf, *(v2 + 56));
    sub_245B5B678(&v544, (v203 + 360));
    v204 = *(v2 + 56);
    v205 = *(v2 + 64);
    if (v204 + 1792 == v205)
    {
      v207 = *(v2 + 56);
      v206 = v449;
    }

    else
    {
      v206 = v449;
      do
      {
        v207 = v204 + 1792;
        v208 = sub_245B58D88(v204, v204 + 1792) + 3584;
        v204 = v207;
      }

      while (v208 != v205);
    }

    *(v2 + 64) = v207;
    v209 = *(v2 + 2000);
    if (v209 > 0.0 && v590 == 1 && *&v545 != v209)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v333 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        v334 = *(v2 + 2000);
        *v641 = 134349568;
        *&v641[4] = *(&v546 + 1);
        *&v641[12] = 2050;
        *&v641[14] = v334;
        *&v641[22] = 2050;
        *&v642 = v545;
        v193 = "CLVLF,fuseWithPoints,Filter reset,VIO session is re-initialized,machAbsTime,%{public}.3lf,prevOriginTimestamp,%{public}.3lf,currOriginTimestamp,%{public}.3lf";
LABEL_372:
        v194 = v641;
        goto LABEL_373;
      }

      goto LABEL_375;
    }

    v211 = *(v2 + 10152);
    if (v211 > 0.0 && *(&v546 + 1) >= v211 && *(&v546 + 1) > v211 + 8.0)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v333 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        v335 = *(v2 + 10152);
        *v641 = 134349568;
        *&v641[4] = 0x4020000000000000;
        *&v641[12] = 2050;
        *&v641[14] = *(&v546 + 1);
        *&v641[22] = 2050;
        *&v642 = v335;
        v193 = "CLVLF,fuseWithPoints,Filter reset,VIO measurements were unacceptable for %{public}.3lf sec,machAbsTime,%{public}.3lf,lastNominalVioMachAbsTime,%{public}.3lf";
        goto LABEL_372;
      }

LABEL_375:
      sub_245B4C854(v2);
      goto LABEL_376;
    }

    if (*(&v546 + 1) >= v211 && v590 == 1 && !v544)
    {
      v214 = v545;
      *v427 = v544;
      *(v2 + 10128) = v214;
      *(v2 + 10144) = v546;
      *(v2 + 10160) = v547;
      v206[3392] = v548;
      v215 = v550;
      *v426 = v549;
      *(v2 + 10200) = v215;
      *(v2 + 10216) = v551;
      v216 = v552;
      v217 = v553;
      v218 = v556;
      *(v2 + 10280) = v555;
      *(v2 + 10296) = v218;
      v219 = v554;
      *(v2 + 10248) = v217;
      *(v2 + 10264) = v219;
      *v425 = v216;
      v220 = v557;
      v221 = v558;
      *(v2 + 10352) = v559;
      *v424 = v220;
      *(v2 + 10336) = v221;
      v222 = v562;
      *v423 = v561;
      *(v2 + 10384) = v222;
      memcpy(v422, v563, 0x128uLL);
      v206[3928] = v563[296];
      v223 = v565;
      *v421 = v564;
      *(v2 + 10736) = v223;
      *(v2 + 10752) = v566;
      v224 = v570;
      *(v2 + 10800) = v569;
      *(v2 + 10816) = v224;
      *(v2 + 10832) = v571;
      v225 = v568;
      *v420 = v567;
      *(v2 + 10784) = v225;
      v226 = v573;
      *v419 = v572;
      *(v2 + 10872) = v226;
      *(v2 + 10888) = v574;
      v227 = v576;
      *v418 = v575;
      *(v2 + 10920) = v227;
      memcpy(v417, v577, 0x128uLL);
      v228 = v579;
      *v416 = v578;
      *(v2 + 11264) = v228;
      v229 = v583;
      *(v2 + 11320) = v582;
      *(v2 + 11336) = v229;
      *(v2 + 11352) = v584;
      v230 = v581;
      *v415 = v580;
      *(v2 + 11304) = v230;
      *v437 = LOBYTE(v585);
      v231 = *v587;
      *v414 = v586;
      *(v2 + 11400) = v231;
      v232 = v589[0];
      *(v2 + 11456) = v588[1];
      *(v2 + 11472) = v232;
      *(v2 + 11488) = v589[1];
      v233 = v588[0];
      *v413 = *&v587[3];
      *(v2 + 11440) = v233;
      v234 = v589[3];
      *v412 = v589[2];
      *(v2 + 11520) = v234;
      *(v2 + 11536) = v590;
    }

    v235 = *(v2 + 6752);
    v236 = *(v2 + 6760);
    sub_245B58B70(v536, v236 - 1624, buf);
    sub_245B56574(v235 + 1544, buf, buf);
    for (i5 = 0; i5 != 24; i5 += 8)
    {
      *(&v561 + i5) = *(&v561 + i5) - *(v2 + i5 + 4544);
    }

    sub_245B568EC(v236 - 1432, &v544, &v544);
    sub_245B56AC8(v235 + 1904, &v544, &v544);
    sub_245B5B310(v641);
    sub_245B56E44(v2, buf, &v544, v641);
    if (v206[1] & 1) != 0 || (*v206)
    {
      v238 = *(v2 + 11552);
      v239 = v238 > 0.0;
    }

    else
    {
      v239 = 0;
      v238 = *(v2 + 11552);
    }

    v240 = *&buf[16];
    v241 = vabdd_f64(*&buf[16], v238) > 24.0 || v238 <= 0.0;
    v242 = sub_245B58CEC(buf);
    v243 = v242;
    if (v239 && !v241 || v242)
    {
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v253 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        v254 = *(v2 + 6936);
        v255 = *(v2 + 6944);
        v256 = *(v2 + 6952);
        v257 = *(v2 + 6960) * 57.2957795;
        v258 = *(v2 + 6984);
        v259 = *(v2 + 6992);
        v260 = *(v2 + 7000);
        v261 = *(v2 + 7024);
        v262 = *(v2 + 7080);
        v263 = *(v2 + 7136);
        v264 = *(v2 + 7192);
        v265 = *(v2 + 7248);
        v266 = *(v2 + 7304);
        *v518 = 134353153;
        *&v518[4] = *&buf[16];
        *&v518[12] = 1026;
        *&v518[14] = v239;
        *&v518[18] = 1026;
        *&v518[20] = v241;
        *&v518[24] = 1026;
        *&v518[26] = v243;
        *&v518[30] = 2049;
        *&v518[32] = v254;
        *&v518[40] = 2049;
        *&v518[42] = v255;
        *&v518[50] = 2049;
        *&v518[52] = v256;
        *&v518[60] = 2049;
        *&v518[62] = v257;
        *&v518[70] = 2049;
        v519[0] = v258;
        LOWORD(v519[1]) = 2049;
        *(&v519[1] + 2) = v259;
        WORD1(v519[2]) = 2049;
        *(&v519[2] + 4) = v260;
        WORD2(v519[3]) = 2049;
        *(&v519[3] + 6) = v261;
        HIWORD(v519[4]) = 2049;
        *&v520[0] = v262;
        WORD4(v520[0]) = 2049;
        *(v520 + 10) = v263;
        WORD1(v520[1]) = 2049;
        *(&v520[1] + 4) = v264;
        WORD6(v520[1]) = 2049;
        *(&v520[1] + 14) = v265;
        WORD3(v520[2]) = 2049;
        *(&v520[2] + 1) = v266;
        _os_log_impl(&dword_245B46000, v253, OS_LOG_TYPE_DEBUG, "CLVLF,fuseWithPoints,Update skipped,machAbsTime,%{public}.3lf,hasVlfEngaged,%{public}d,hasVlfTimedOut,%{public}d,isDevicestatic,%{public}d,vio2enu,[%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf],vio2enu_cov_diag,[%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf]", v518, 0xA0u);
      }

      v268 = 0;
      v202 = v449;
    }

    else if (v590 == 1 && v537 == 1 && (v660 & 1) != 0)
    {
      v244 = 0;
      *&v518[8] = v561;
      *&v518[24] = v562;
      v202 = v449;
      do
      {
        *&v518[v244 + 8] = *&v518[v244 + 8] - *(v2 + 5576 + v244);
        v244 += 8;
      }

      while (v244 != 24);
      v245 = 0;
      v246 = *&v518[8];
      v247 = *&v518[16];
      *&v639[1] = v661;
      *&v639[3] = v662;
      do
      {
        *&v639[v245 + 1] = *&v639[v245 + 1] - *(&v540 + v245 * 8);
        ++v245;
      }

      while (v245 != 3);
      v248 = hypot(v246, v247);
      v249 = hypot(*&v639[1], *&v639[2]);
      if (v248 >= 8.0)
      {
        v252 = 1;
      }

      else
      {
        v252 = *&v536[40] > 0.0 && ((*v250.i64 = v659, v659 > 0.0) ? (v251 = v659 + *&v536[40] * 2.43199076 < v249) : (v251 = 0), v251) || vabdd_f64(v240, *(v2 + 4976)) >= 16.0;
      }

      v285 = 0;
      v451 = &unk_2858B66C8;
      v452 = v540;
      v453 = v541;
      do
      {
        *(&v451 + v285 + 8) = *(&v451 + v285 + 8) - *&v658[v285 + 384];
        v285 += 8;
      }

      while (v285 != 24);
      v639[0] = &unk_2858B6DE0;
      memset(&v639[1], 0, 144);
      v640 = 0;
      sub_245B48F00((v2 + 6840), v2 + 6928, &v560, v518, 0, v250);
      *&v639[1] = *&v518[8];
      *&v639[3] = *&v518[24];
      *&v639[5] = *&v518[40];
      *&v639[7] = *&v518[56];
      v639[9] = v519[0];
      v639[18] = 0x3FF0000000000000;
      v639[14] = 0x3FF0000000000000;
      v639[10] = 0x3FF0000000000000;
      LOBYTE(v496) = 0;
      v497 = v432;
      v498 = xmmword_245B5F4F0;
      *&v499 = &v563[168];
      *(&v499 + 1) = &v563[288];
      sub_245B5A7B8(v518, v2 + 6840, &v496);
      v463 = &unk_2858B6880;
      v464 = 0u;
      v465 = 0u;
      v466 = 0u;
      v467 = 0u;
      v468 = 0u;
      v286 = *&v518[24];
      v287 = *&v518[32];
      if (*&v518[24] != *&v518[32])
      {
        v288 = &v464;
        do
        {
          v289 = *v286++;
          v288->f64[0] = v289;
          v288 = (v288 + 8);
        }

        while (v286 != v287);
      }

      sub_245B4B1D0(v518);
      v518[0] = 0;
      *&v518[8] = vdupq_n_s64(3uLL);
      *&v518[24] = xmmword_245B5F4B0;
      *&v518[40] = v2 + 6848;
      *&v518[48] = v2 + 6920;
      sub_245B48DD4(&v463, v518);
      for (i6 = 0; i6 != 72; i6 += 8)
      {
        *(&v463 + i6 + 8) = *(&v463 + i6 + 8) + *(v542 + i6);
      }

      sub_245B5A960(v518);
      LOBYTE(v485) = 1;
      v486 = xmmword_245B61A30;
      v487 = xmmword_245B5F4B0;
      *&v488 = &v639[1];
      *(&v488 + 1) = &v640;
      sub_245B5A88C(&v496, v518, &v485);
      v514 = v465;
      v515 = v466;
      v516 = v467;
      v517 = v468;
      v512 = &unk_2858B6880;
      v513 = v464;
      v291 = 1;
      v292 = v498.i64[0];
      do
      {
        v293 = *v292++;
        *(&v512 + v291) = *(&v512 + v291) + v293;
        ++v291;
      }

      while (v291 != 10);
      sub_245B4B1D0(&v496);
      sub_245B5AA10(&v507, &v512);
      LOBYTE(v496) = 0;
      v497 = xmmword_245B5F4D0;
      v498 = vdupq_n_s64(1uLL);
      *&v499 = &v452;
      *(&v499 + 1) = &v453.i64[1];
      v485 = &unk_2858B66C8;
      v487.i64[1] = 0;
      v486 = vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(*(v509 + 8), *(&v452 + 1)), v508, *&v452), v510, *v453.i64);
      *v487.i64 = *(&v452 + 1) * *(&v509[1] + 1) + *v509 * *&v452 + *&v511 * *v453.i64;
      sub_245B5AAF8(v518, &v496);
      v456 = &unk_2858B78F8;
      v457 = 0uLL;
      v294 = *&v518[24];
      v295 = *&v518[32];
      if (*&v518[24] != *&v518[32])
      {
        v296 = &v457;
        do
        {
          v297 = *v294++;
          v296->f64[0] = v297;
          v296 = (v296 + 8);
        }

        while (v294 != v295);
      }

      sub_245B4B1D0(v518);
      if (v457.f64[0] <= 6.7553467)
      {
        goto LABEL_325;
      }

      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v298 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
      {
        *v518 = 134349312;
        *&v518[4] = *&buf[16];
        *&v518[12] = 1026;
        *&v518[14] = v252;
        _os_log_impl(&dword_245B46000, v298, OS_LOG_TYPE_DEBUG, "CLVLF,updateWithCLPoints,Mahalanobis test failed,machAbsTime,%{public}.3lf,forceUpdateNeeded,%{public}d", v518, 0x12u);
      }

      if (v252)
      {
LABEL_325:
        sub_245B5A960(&v496);
        LOBYTE(v476) = 0;
        v477 = xmmword_245B61A30;
        *v478 = xmmword_245B5F4B0;
        *&v478[16] = &v497;
        v479 = COERCE_DOUBLE(&v506);
        sub_245B5AB88(v518, &v476);
        v485 = &unk_2858B6F98;
        v486 = 0u;
        v487 = 0u;
        v488 = 0u;
        v489 = 0u;
        v490 = 0u;
        v491 = 0u;
        v492 = 0u;
        v493 = 0u;
        v494 = 0u;
        v495 = 0;
        v299 = *&v518[24];
        v300 = *&v518[32];
        if (*&v518[24] != *&v518[32])
        {
          v301 = &v486;
          do
          {
            v302 = *v299++;
            v301->f64[0] = v302;
            v301 = (v301 + 8);
          }

          while (v299 != v300);
        }

        sub_245B4B1D0(v518);
        sub_245B5AC28(&v476);
        *(v449 + 208) = vaddq_f64(*&v478[8], *(v449 + 208));
        *(v2 + 7000) = v479 + *(v2 + 7000);
        sub_245B5ACB0(v518);
        sub_245B5C544(v2 + 7016, v518);
        v303 = fmax(fabs(*&v477), fmax(fabs(*(&v477 + 1)), fabs(*v478)));
        if (v303 > 1.34078079e154)
        {
          *&v304 = 7.112828e-161;
          goto LABEL_332;
        }

        v305 = 1.0;
        if (v303 < 7.45834073e-155)
        {
          *&v304 = 1.40591056e160;
LABEL_332:
          v305 = *&v304;
        }

        if (sqrt(*(&v477 + 1) * v305 * (*(&v477 + 1) * v305) + *&v477 * v305 * (*&v477 * v305) + *v478 * v305 * (*v478 * v305)) / v305 != 0.0)
        {
          LOBYTE(v459) = 0;
          v460 = xmmword_245B5F4B0;
          *v461 = vdupq_n_s64(1uLL);
          *&v461[16] = v2 + 6936;
          v462 = v2 + 6960;
          memset(v518, 0, sizeof(v518));
          sub_245B4C2B8(v518, &v459);
          sub_245B4C270(v518, v410);
          v482 = &unk_2858B66C8;
          v483 = 0u;
          v484 = 0u;
          v306 = *&v518[24];
          v307 = *&v518[32];
          if (*&v518[24] != *&v518[32])
          {
            v308 = &v483;
            do
            {
              v309 = *v306++;
              v308->f64[0] = v309;
              v308 = (v308 + 8);
            }

            while (v306 != v307);
          }

          sub_245B4B1D0(v518);
          v310.i64[1] = *&v483.f64[1];
          v311 = vaddq_f64(v477, v483);
          v483 = v311;
          v312 = *v478 + *&v484;
          *&v484 = v312;
          *v313.i64 = fmax(fabs(v311.f64[0]), fmax(fabs(v311.f64[1]), fabs(v312)));
          if (*v313.i64 <= 1.34078079e154)
          {
            v310.i64[0] = 1.0;
            if (*v313.i64 < 7.45834073e-155)
            {
              v310.i64[0] = 0x6130000000000000;
            }
          }

          else
          {
            v310.i64[0] = 0x1EB0000000000000;
          }

          v314 = sqrt(v311.f64[1] * *v310.i64 * (v311.f64[1] * *v310.i64) + v311.f64[0] * *v310.i64 * (v311.f64[0] * *v310.i64) + v312 * *v310.i64 * (v312 * *v310.i64));
          *v313.i64 = v314 / *v310.i64;
          if (v314 / *v310.i64 == 0.0)
          {
            *v518 = &unk_2858B6DC0;
            v315 = 0uLL;
            memset(&v518[8], 0, 40);
          }

          else
          {
            v315.i64[1] = v411.i64[1];
            *v315.i64 = v314 / *v310.i64;
            if (*v313.i64 > *v411.i64)
            {
              v429 = v313;
              v430 = v311;
              *v315.i64 = fmod(*v313.i64 + *v411.i64, 6.28318531);
              v311 = v430;
              *&v316 = vbslq_s8(v431, v411, v315).u64[0];
              if (*v315.i64 == 0.0)
              {
                *v315.i64 = v316;
              }

              else
              {
                *v315.i64 = *v315.i64 + -3.14159265;
              }

              v313 = v429;
            }

            v310 = vdivq_f64(v311, vdupq_lane_s64(v313.i64[0], 0));
            *v518 = &unk_2858B6DC0;
            *&v518[8] = v310;
            *v310.i64 = v312 / *v313.i64;
            *&v518[24] = v312 / *v313.i64;
            *&v518[32] = v315.i64[0];
            *&v518[40] = 0;
          }

          sub_245B47778(v2 + 6784, v518, v315, v310, v313);
        }

        sub_245B48104(v2 + 6784);
        if (qword_27EE33DE8 != -1)
        {
          dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
        }

        v317 = qword_27EE33DF0;
        if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_DEBUG))
        {
          v318 = *(v2 + 6936);
          v319 = *(v2 + 6944);
          v320 = *(v2 + 6952);
          v321 = *(v2 + 6960) * 57.2957795;
          v322 = *(v2 + 6984);
          v323 = *(v2 + 6992);
          v324 = *(v2 + 7000);
          v325 = *(v2 + 7024);
          v326 = *(v2 + 7080);
          v327 = *(v2 + 7136);
          v328 = *(v2 + 7192);
          v329 = *(v2 + 7248);
          v330 = *(v2 + 7304);
          *v518 = 134352385;
          *&v518[4] = *&buf[16];
          *&v518[12] = 2049;
          *&v518[14] = v318;
          *&v518[22] = 2049;
          *&v518[24] = v319;
          *&v518[32] = 2049;
          *&v518[34] = v320;
          *&v518[42] = 2049;
          *&v518[44] = v321;
          *&v518[52] = 2049;
          *&v518[54] = v322;
          *&v518[62] = 2049;
          *&v518[64] = v323;
          LOWORD(v519[0]) = 2049;
          *(v519 + 2) = v324;
          WORD1(v519[1]) = 2049;
          *(&v519[1] + 4) = v325;
          WORD2(v519[2]) = 2049;
          *(&v519[2] + 6) = v326;
          HIWORD(v519[3]) = 2049;
          v519[4] = v327;
          LOWORD(v520[0]) = 2049;
          *(v520 + 2) = v328;
          WORD5(v520[0]) = 2049;
          *(v520 + 12) = v329;
          WORD2(v520[1]) = 2049;
          *(&v520[1] + 6) = v330;
          _os_log_impl(&dword_245B46000, v317, OS_LOG_TYPE_DEBUG, "CLVLF,updateWithCLPoints,Filter updated,machAbsTime,%{public}.3lf,vio2enu,[%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf,%{private}.3lf],vio2enu_cov_diag,[%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf,%{private}.6lf]", v518, 0x8Eu);
        }

        v268 = 1;
      }

      else
      {
        v268 = 0;
      }
    }

    else
    {
      v202 = v449;
      if (qword_27EE33DE8 != -1)
      {
        dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
      }

      v267 = qword_27EE33DF0;
      if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
      {
        *v518 = 134349824;
        *&v518[4] = *&buf[16];
        *&v518[12] = 1026;
        *&v518[14] = v590;
        *&v518[18] = 1026;
        *&v518[20] = v537;
        *&v518[24] = 1026;
        *&v518[26] = v660;
        _os_log_impl(&dword_245B46000, v267, OS_LOG_TYPE_ERROR, "CLVLF,updateWithCLPoints,Invalid measurement,machAbsTime,%{public}.3lf,isVioSynced,%{public}d,isLocEnuValid,%{public}d,isPredictedStateEnuValid,%{public}d", v518, 0x1Eu);
      }

      v268 = 0;
    }

    v269 = *&buf[16];
    *v447 = *buf;
    *(v2 + 7952) = v269;
    v270 = v535;
    *v446 = v534;
    *(v2 + 7992) = v270;
    v271 = *&v536[24];
    *v444 = *&v536[8];
    *(v2 + 8032) = v271;
    *(v2 + 8096) = v537;
    v272 = *&v536[72];
    *(v2 + 8064) = *&v536[56];
    *(v2 + 8080) = v272;
    *v443 = *&v536[40];
    v273 = v539;
    *v442 = v538;
    *(v2 + 8128) = v273;
    v274 = v541;
    *v441 = v540;
    *(v2 + 8168) = v274;
    v275 = v542[4];
    *(v2 + 8240) = v542[3];
    *(v2 + 8256) = v275;
    v276 = v542[2];
    *(v2 + 8208) = v542[1];
    *(v2 + 8224) = v276;
    *v438 = v542[0];
    v277 = v542[5];
    *(v2 + 8288) = v543;
    *v440 = v277;
    *(v2 + 8296) = 0;
    sub_245B57074(&v544, v202);
    sub_245B572B4(&v544, v202);
    sub_245B57584(v202, v278, v279, v280);
    sub_245B57984(v2, buf);
    sub_245B580D8(v2, &v544);
    sub_245B58D88(v439, buf);
    if (v268)
    {
      sub_245B5837C(v2 + 3416, v202);
    }

    v281 = *(v2 + 6760);
    v282 = *(v2 + 6752);
    if ((0x13A524387AC82261 * ((v281 - v282) >> 3)) >= 4)
    {
      if (v282 + 3336 == v281)
      {
        v283 = *(v2 + 6752);
      }

      else
      {
        do
        {
          v283 = v282 + 3336;
          v284 = sub_245B5954C(v282, v282 + 3336) + 6672;
          v282 = v283;
        }

        while (v284 != v281);
      }

      *(v2 + 6760) = v283;
    }

    sub_245B587A4((v2 + 6752), v202);
    if (sub_245B588E8(v2))
    {
      continue;
    }

    break;
  }

  if (qword_27EE33DE8 != -1)
  {
    dispatch_once(&qword_27EE33DE8, &unk_2858B7710);
  }

  v331 = qword_27EE33DF0;
  if (os_log_type_enabled(qword_27EE33DF0, OS_LOG_TYPE_ERROR))
  {
    v332 = *(v2 + 8336);
    *v518 = 134349056;
    *&v518[4] = v332;
    _os_log_impl(&dword_245B46000, v331, OS_LOG_TYPE_ERROR, "CLVLF,fuseWithPoints,Filter reset,unhealthy state,machAbsTime,%{public}.3lf", v518, 0xCu);
  }

  while ((atomic_exchange_explicit((v2 + 1), 1u, memory_order_acquire) & 1) != 0)
  {
    sched_yield();
  }

  sub_245B4C8A8(v2, 0);
  atomic_store(0, (v2 + 1));
LABEL_376:
  v336 = *MEMORY[0x277D85DE8];
}

void sub_245B5650C(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_245B46F20(a1);
  }

  _Unwind_Resume(a1);
}

BOOL sub_245B56574(uint64_t a1, uint64_t a2, uint64_t a3)
{
  *(a3 + 336) = 0;
  *(a3 + 352) = 0xBFF0000000000000;
  if (*(a1 + 160) != 1)
  {
    return 0;
  }

  if (*(a2 + 160) != 1)
  {
    return 0;
  }

  v5 = 0;
  v41 = &unk_2858B66C8;
  v42 = *(a2 + 216);
  v43 = *(a2 + 232);
  do
  {
    *(&v41 + v5 + 8) = *(&v41 + v5 + 8) - *(a1 + 216 + v5);
    v5 += 8;
  }

  while (v5 != 24);
  v6 = *(&v42 + 1) * *(&v42 + 1) + *&v42 * *&v42;
  if (v6 < 1.44)
  {
    return 0;
  }

  LOBYTE(v28) = 0;
  v29 = vdupq_n_s64(2uLL);
  v30 = xmmword_245B5F4D0;
  v31 = (a2 + 256);
  v32 = (a2 + 296);
  *__N = 0u;
  v34 = 0u;
  v35 = 0u;
  v36 = 0u;
  v37 = 0;
  sub_245B4C2B8(__N, &v28);
  v7 = __N[0];
  if (__N[0])
  {
    v8 = __N[1];
    if (__N[1])
    {
      v9 = (a1 + 256);
      v10 = *(&v34 + 1);
      if (v34 == 3 && __N[0] == 3)
      {
        vDSP_vaddD(*(&v34 + 1), 1, v9, 1, *(&v34 + 1), 1, 3 * __N[1]);
      }

      else
      {
        v11 = 8 * v34;
        do
        {
          vDSP_vaddD(v10, 1, v9, 1, v10, 1, v7);
          v9 += 3;
          v10 = (v10 + v11);
          --v8;
        }

        while (v8);
      }
    }
  }

  memset(v39, 0, sizeof(v39));
  v38 = &unk_2858B7AB0;
  v40 = 0;
  v12 = *(&v34 + 1);
  v13 = v35;
  if (*(&v34 + 1) != v35)
  {
    v14 = v39;
    do
    {
      v15 = *v12++;
      *v14++ = v15;
    }

    while (v12 != v13);
  }

  sub_245B4B1D0(__N);
  v25[2] = &unk_2858B7C68;
  v26[0] = -*(&v42 + 1) / v6;
  v26[1] = *&v42 / v6;
  v27 = 0;
  LOBYTE(v28) = 0;
  v29 = xmmword_245B61A40;
  v30 = vdupq_n_s64(1uLL);
  v31 = v26;
  v32 = &v27;
  sub_245B5B278(__N, &v28);
  v25[0] = 0;
  v25[1] = 0;
  v16 = *(&v34 + 1);
  v17 = v35;
  if (*(&v34 + 1) != v35)
  {
    v18 = v25;
    do
    {
      v19 = *v16++;
      *v18++ = v19;
    }

    while (v16 != v17);
  }

  sub_245B4B1D0(__N);
  v20 = *v25;
  v21 = (v25[0] & 0x7FFFFFFFFFFFFFFFuLL) - 1 < 0xFFFFFFFFFFFFFLL;
  v22 = v25[0] < 0 && ((v25[0] & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 < 0x3FF;
  if (v25[0] >= 0)
  {
    v21 = 0;
  }

  v23 = (v25[0] & 0x7FFFFFFFFFFFFFFFLL) == 0x7FF0000000000000 || v21;
  if ((v25[0] & 0x7FFFFFFFFFFFFFFFuLL) > 0x7FF0000000000000)
  {
    v23 = 1;
  }

  if ((v23 | v22))
  {
    return 0;
  }

  *(a3 + 344) = atan2(*(&v42 + 1), *&v42);
  *(a3 + 352) = v20;
  result = sqrt(v20) <= 3.14159265;
  *(a3 + 336) = result;
  return result;
}

uint64_t sub_245B568EC(uint64_t a1, uint64_t a2, uint64_t a3)
{
  *(a3 + 1256) = 0;
  if (*(a1 + 1424) != 1 || *(a2 + 1424) != 1)
  {
    return 0;
  }

  v6 = 0;
  __N[0] = &unk_2858B66C8;
  v7 = *(a2 + 272);
  *&__N[1] = *(a2 + 256);
  *&__N[3] = v7;
  do
  {
    *&__N[v6 + 1] = *&__N[v6 + 1] - *(a1 + 256 + v6 * 8);
    ++v6;
  }

  while (v6 != 3);
  v8 = *&__N[3];
  *(a3 + 1272) = *&__N[1];
  *(a3 + 1288) = v8;
  LOBYTE(v19) = 0;
  v20 = vdupq_n_s64(3uLL);
  v21 = xmmword_245B5F4F0;
  v22 = a2 + 464;
  v23 = a2 + 584;
  memset(__N, 0, sizeof(__N));
  v25 = 0u;
  v26 = 0;
  sub_245B4C2B8(__N, &v19);
  v9 = __N[0];
  if (__N[0])
  {
    v10 = __N[1];
    if (__N[1])
    {
      v11 = (a1 + 464);
      v12 = __N[3];
      if (__N[2] == 6 && __N[0] == 6)
      {
        vDSP_vaddD(__N[3], 1, (a1 + 464), 1, __N[3], 1, 6 * __N[1]);
      }

      else
      {
        v14 = 8 * __N[2];
        do
        {
          vDSP_vaddD(v12, 1, v11, 1, v12, 1, v9);
          v11 += 6;
          v12 = (v12 + v14);
          --v10;
        }

        while (v10);
      }
    }
  }

  v16 = __N[4];
  v15 = __N[3];
  if (__N[3] != __N[4])
  {
    v17 = (a3 + 1312);
    do
    {
      v18 = *v15++;
      *v17++ = v18;
    }

    while (v15 != v16);
  }

  sub_245B4B1D0(__N);
  *(a3 + 1392) = *(a2 + 40) - *(a1 + 40);
  result = 1;
  *(a3 + 1256) = 1;
  return result;
}

BOOL sub_245B56AC8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  *(a3 + 1400) = 0;
  *(a3 + 1416) = 0xBFF0000000000000;
  if (*(a1 + 1424) != 1)
  {
    return 0;
  }

  if (*(a2 + 1424) != 1)
  {
    return 0;
  }

  v5 = 0;
  v42 = &unk_2858B66C8;
  v6 = *(a2 + 272);
  v43 = *(a2 + 256);
  v44 = v6;
  do
  {
    *(&v42 + v5 + 8) = *(&v42 + v5 + 8) - *(a1 + 256 + v5);
    v5 += 8;
  }

  while (v5 != 24);
  v7 = *(&v43 + 1) * *(&v43 + 1) + *&v43 * *&v43;
  if (v7 < 1.44)
  {
    return 0;
  }

  LOBYTE(v29) = 0;
  v30 = vdupq_n_s64(2uLL);
  v31 = xmmword_245B5F4F0;
  v32 = (a2 + 464);
  v33 = (a2 + 528);
  *__N = 0u;
  v35 = 0u;
  v36 = 0u;
  v37 = 0u;
  v38 = 0;
  sub_245B4C2B8(__N, &v29);
  v8 = __N[0];
  if (__N[0])
  {
    v9 = __N[1];
    if (__N[1])
    {
      v10 = (a1 + 464);
      v11 = *(&v35 + 1);
      if (v35 == 6 && __N[0] == 6)
      {
        vDSP_vaddD(*(&v35 + 1), 1, v10, 1, *(&v35 + 1), 1, 6 * __N[1]);
      }

      else
      {
        v12 = 8 * v35;
        do
        {
          vDSP_vaddD(v11, 1, v10, 1, v11, 1, v8);
          v10 += 6;
          v11 = (v11 + v12);
          --v9;
        }

        while (v9);
      }
    }
  }

  memset(v40, 0, sizeof(v40));
  v39 = &unk_2858B7AB0;
  v41 = 0;
  v13 = *(&v35 + 1);
  v14 = v36;
  if (*(&v35 + 1) != v36)
  {
    v15 = v40;
    do
    {
      v16 = *v13++;
      *v15++ = v16;
    }

    while (v13 != v14);
  }

  sub_245B4B1D0(__N);
  v26[2] = &unk_2858B7C68;
  v27[0] = -*(&v43 + 1) / v7;
  v27[1] = *&v43 / v7;
  v28 = 0;
  LOBYTE(v29) = 0;
  v30 = xmmword_245B61A40;
  v31 = vdupq_n_s64(1uLL);
  v32 = v27;
  v33 = &v28;
  sub_245B5B278(__N, &v29);
  v26[0] = 0;
  v26[1] = 0;
  v17 = *(&v35 + 1);
  v18 = v36;
  if (*(&v35 + 1) != v36)
  {
    v19 = v26;
    do
    {
      v20 = *v17++;
      *v19++ = v20;
    }

    while (v17 != v18);
  }

  sub_245B4B1D0(__N);
  v21 = *v26;
  v22 = (v26[0] & 0x7FFFFFFFFFFFFFFFuLL) - 1 < 0xFFFFFFFFFFFFFLL;
  v23 = v26[0] < 0 && ((v26[0] & 0x7FFFFFFFFFFFFFFFuLL) - 0x10000000000000) >> 53 < 0x3FF;
  if (v26[0] >= 0)
  {
    v22 = 0;
  }

  v24 = (v26[0] & 0x7FFFFFFFFFFFFFFFLL) == 0x7FF0000000000000 || v22;
  if ((v26[0] & 0x7FFFFFFFFFFFFFFFuLL) > 0x7FF0000000000000)
  {
    v24 = 1;
  }

  if ((v24 | v23))
  {
    return 0;
  }

  *(a3 + 1408) = atan2(*(&v43 + 1), *&v43);
  *(a3 + 1416) = v21;
  result = sqrt(v21) <= 3.14159265;
  *(a3 + 1400) = result;
  return result;
}