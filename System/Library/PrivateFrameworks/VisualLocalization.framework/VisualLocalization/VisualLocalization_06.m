void vl_dog_create_octave_list_pwin(uint64_t a1, unsigned int *a2, uint64_t a3)
{
  v5 = a2[2];
  if (v5 != -1)
  {
    if (*a3)
    {
      goto LABEL_3;
    }

    goto LABEL_57;
  }

  v54 = a2[3];
  v55 = (v54 + 1) * *(a1 + 8);
  if (v55 >= (v54 + 1) * *(a1 + 12))
  {
    v55 = (v54 + 1) * *(a1 + 12);
  }

  v5 = (round(log(v55) / 0.693147181 + -2.0) + v54);
  if (!*a3)
  {
LABEL_57:
    if (v5 <= 0)
    {
      *a3 = 0;
      *(a3 + 8) = 0;
      *(a3 + 16) = v5;
      return;
    }

    v56 = v5;
    v57 = malloc_type_malloc(72 * v5, 0x10A004022C67442uLL);
    v58 = 0;
    *a3 = 0;
    *(a3 + 8) = v57;
    v126 = v56;
    *(a3 + 16) = v56;
    while (1)
    {
      while (1)
      {
        v59 = *a3;
        v60 = *(a3 + 16);
        if (v58)
        {
          break;
        }

        if (*a3 >= v60)
        {
          v83 = 2 * v60;
          v51 = v60 == 0;
          v84 = 3;
          if (!v51)
          {
            v84 = v83;
          }

          if (v84 <= v59)
          {
            v85 = v59 + 1;
          }

          else
          {
            v85 = v84;
          }

          if (v85)
          {
            *(a3 + 8) = malloc_type_realloc(*(a3 + 8), 72 * v85, 0x10A004022C67442uLL);
            v59 = *a3;
          }

          *(a3 + 16) = v85;
        }

        *a3 = v59 + 1;
        v86 = *(a3 + 8) + 72 * v59;
        *(v86 + 64) = 0;
        *(v86 + 32) = 0u;
        *(v86 + 48) = 0u;
        *v86 = 0u;
        *(v86 + 16) = 0u;
        vl_dog_create_octave(a1, a2, *(a3 + 8) + 72 * *a3 - 72);
        v58 = 1;
        if (v126 == 1)
        {
          return;
        }
      }

      if (*a3 >= v60)
      {
        v61 = 2 * v60;
        v51 = v60 == 0;
        v62 = 3;
        if (!v51)
        {
          v62 = v61;
        }

        if (v62 <= v59)
        {
          v63 = v59 + 1;
        }

        else
        {
          v63 = v62;
        }

        if (v63)
        {
          *(a3 + 8) = malloc_type_realloc(*(a3 + 8), 72 * v63, 0x10A004022C67442uLL);
          v59 = *a3;
        }

        *(a3 + 16) = v63;
      }

      *a3 = v59 + 1;
      v64 = *(a3 + 8) + 72 * v59;
      *(v64 + 64) = 0;
      *(v64 + 32) = 0u;
      *(v64 + 48) = 0u;
      *v64 = 0u;
      *(v64 + 16) = 0u;
      v66 = *a3;
      v65 = *(a3 + 8);
      v67 = v65 + 72 * v58;
      v68 = a2[1];
      v69 = *(v67 - 64);
      v70 = *(v67 - 24);
      if (v70 >= 1)
      {
        break;
      }

      v71 = 0;
      v72 = v65 + 72 * v66;
      *(v72 - 24) = 0;
      *(v72 - 16) = 0;
      v73 = *(v67 - 24);
      *(v72 - 8) = v73;
      if (v73 >= 1)
      {
        goto LABEL_72;
      }

LABEL_73:
      *(v72 - 24) = v73;
      v74 = *(v67 - 24);
      if (v74 >= 1)
      {
        memcpy(*(v72 - 16), *(v67 - 16), 4 * v74);
      }

      v75 = (v72 - 72);
      v76 = v68;
      v77 = v68 + 1;
      if ((v68 & 0x80000000) == 0)
      {
        v78 = v77;
        v79 = malloc_type_malloc(24 * v77, 0x1010040113C0ABBuLL);
        *(v72 - 48) = 0;
        *(v72 - 40) = v79;
        *(v72 - 32) = v78;
        v80 = v68 + 2;
LABEL_77:
        v81 = malloc_type_malloc(24 * v80, 0x1010040113C0ABBuLL);
        v82 = 0;
        *(v72 - 64) = v81;
        *(v72 - 56) = v80;
        goto LABEL_98;
      }

      *(v72 - 48) = 0;
      *(v72 - 40) = 0;
      *(v72 - 32) = v77;
      if (v68 == -1)
      {
        v80 = 1;
        goto LABEL_77;
      }

      *v75 = 0;
      *(v72 - 64) = 0;
      *(v72 - 56) = v68 + 2;
      v87 = 2 * (v68 + 2);
      if (v87 <= 1)
      {
        v87 = 1;
      }

      if (v68 == -2)
      {
        v88 = 10;
      }

      else
      {
        v88 = v87;
      }

      v81 = malloc_type_realloc(0, 24 * v88, 0x1010040113C0ABBuLL);
      *(v72 - 64) = v81;
      *(v72 - 56) = v88;
      v82 = *(v72 - 72);
LABEL_98:
      v89 = v69 + 24 * v76;
      *(v72 - 72) = v82 + 1;
      v90 = &v81[24 * v82];
      *v90 = 0;
      *(v90 + 1) = 0;
      *(v90 + 2) = 0;
      v91 = *(v72 - 64) + 24 * *(v72 - 72);
      LODWORD(v90) = *(v89 + 8) + (*(v89 + 8) >> 31);
      v92 = *(v89 + 8) / 2;
      v93 = *(v89 + 12) / 2;
      *(v91 - 16) = v92;
      *(v91 - 12) = v93;
      *(v91 - 8) = v90 >> 1;
      v94 = pmem_alloc_ex(2 * v92 * (v93 + 16), 0, 0);
      v95 = *(v91 - 8);
      v96 = v94 + 16 * v95;
      *(v91 - 24) = v96;
      v97 = *(v91 - 12);
      if (v97 >= 1)
      {
        v98 = *(v91 - 16);
        if (v98 >= 1)
        {
          v99 = 0;
          v100 = *v89;
          v101 = 4 * *(v89 + 16);
          v102 = v96 >= *v89 + v101 * (v97 - 1) + 4 * v98 - 2 || v100 >= v94 + v95 * (2 * v97 + 14) + 2 * v98;
          v103 = (v95 >> 62) & 1;
          if (!v102)
          {
            LOBYTE(v103) = 1;
          }

          if ((*(v89 + 16) & 0x2000000000000000) != 0)
          {
            LOBYTE(v103) = 1;
          }

          v104 = v98 & 0xF;
          if ((v98 & 0xF) == 0)
          {
            v104 = 16;
          }

          v105 = 4;
          if ((v98 & 3) != 0)
          {
            v105 = v98 & 3;
          }

          v106 = v98 - v105;
          v107 = v94 + 16 * v95;
          v108 = (v100 + 32);
          v109 = (v107 + 16);
          v110 = 2 * v95;
          v111 = v105 - v98;
          do
          {
            if ((v98 < 5) | v103 & 1)
            {
              v112 = 0;
            }

            else
            {
              if (v98 >= 0x11)
              {
                v114 = v98 - v104;
                v115 = v109;
                v116 = v108;
                do
                {
                  v117 = v116 - 16;
                  v118 = vld2q_s16(v117);
                  v119 = vld2q_s16(v116);
                  *(v115 - 1) = v118;
                  *v115 = v119;
                  v116 += 32;
                  v115 += 2;
                  v114 -= 16;
                }

                while (v114);
                v113 = v98 - v104;
                v112 = v98 - v104;
                if (v104 < 5)
                {
                  goto LABEL_122;
                }
              }

              else
              {
                v113 = 0;
              }

              v120 = (v100 + 4 * v113);
              v121 = v111 + v113;
              v122 = (v96 + 2 * v113);
              do
              {
                v123 = *vld2_s16(v120).val;
                v120 += 8;
                *v122++ = v123;
                v121 += 4;
              }

              while (v121);
              v112 = v106;
            }

LABEL_122:
            v124 = v98 - v112;
            v125 = 2 * v112;
            do
            {
              *(v96 + v125) = *(v100 + 2 * v125);
              v125 += 2;
              --v124;
            }

            while (v124);
            ++v99;
            v108 = (v108 + v101);
            v109 = (v109 + v110);
            v100 += v101;
            v96 += v110;
          }

          while (v99 != v97);
        }
      }

      create_pyr(v76, v75);
      if (++v58 == v126)
      {
        return;
      }
    }

    v71 = malloc_type_malloc(4 * v70, 0x100004052888210uLL);
    v72 = v65 + 72 * v66;
    *(v72 - 24) = 0;
    *(v72 - 16) = v71;
    v73 = *(v67 - 24);
    *(v72 - 8) = v73;
    if (v73 < 1)
    {
      goto LABEL_73;
    }

LABEL_72:
    bzero(v71, 4 * v73);
    v73 = *(v67 - 24);
    goto LABEL_73;
  }

LABEL_3:
  if (v5 >= 1)
  {
    v6 = 0;
    v7 = v5;
    do
    {
      while (1)
      {
        v8 = *(a3 + 8);
        if (v6)
        {
          break;
        }

        vl_dog_create_octave(a1, a2, v8);
        v6 = 1;
        if (v7 == 1)
        {
          return;
        }
      }

      v9 = v8 + 72 * v6;
      v10 = a2[1];
      v11 = *(v9 - 64);
      v12 = *(v9 + 48);
      v13 = *(v9 - 24);
      v14 = *(v9 + 64);
      if (v13 > v14)
      {
        v50 = 2 * v14;
        v51 = v14 == 0;
        v52 = 64;
        if (!v51)
        {
          v52 = v50;
        }

        if (v52 <= v13)
        {
          v53 = *(v9 - 24);
        }

        else
        {
          v53 = v52;
        }

        if (v53)
        {
          *(v9 + 56) = malloc_type_realloc(*(v9 + 56), 4 * v53, 0x100004052888210uLL);
        }

        *(v9 + 64) = v53;
        v15 = v13 - v12;
        if (v13 > v12)
        {
LABEL_52:
          bzero((*(v9 + 56) + 4 * *(v9 + 48)), 4 * v15);
          v16 = *(v9 - 24);
          *(v9 + 48) = v16;
          if (v16 < 1)
          {
            goto LABEL_11;
          }

LABEL_10:
          memcpy(*(v9 + 56), *(v9 - 16), 4 * v16);
          goto LABEL_11;
        }
      }

      else
      {
        v15 = v13 - v12;
        if (v13 > v12)
        {
          goto LABEL_52;
        }
      }

      v16 = *(v9 - 24);
      *(v9 + 48) = v16;
      if (v16 >= 1)
      {
        goto LABEL_10;
      }

LABEL_11:
      v17 = *(v9 + 8);
      v18 = *(v17 + 12);
      if (v18 >= 1)
      {
        v19 = *(v17 + 8);
        if (v19 >= 1)
        {
          v20 = 0;
          v21 = (v11 + 24 * v10);
          v22 = *v21;
          v23 = v21[2];
          v24 = *v17;
          v25 = 2 * *(v17 + 16);
          v26 = 4 * v23;
          v29 = v24 < v22 + v26 * (v18 - 1) + 4 * v19 - 2 && v22 < v24 + v25 * (v18 - 1) + 2 * v19 || (v25 | v26) < 0;
          v30 = v19 & 0xF;
          if ((v19 & 0xF) == 0)
          {
            v30 = 16;
          }

          if ((v19 & 3) != 0)
          {
            v31 = v19 & 3;
          }

          else
          {
            v31 = 4;
          }

          v32 = v19 - v31;
          v33 = (v22 + 32);
          v34 = (v24 + 16);
          v35 = v31 - v19;
          do
          {
            if (v19 < 5 || v29)
            {
              v36 = 0;
            }

            else
            {
              if (v19 >= 0x11)
              {
                v38 = v19 - v30;
                v39 = v34;
                v40 = v33;
                do
                {
                  v41 = v40 - 16;
                  v42 = vld2q_s16(v41);
                  v43 = vld2q_s16(v40);
                  *(v39 - 1) = v42;
                  *v39 = v43;
                  v40 += 32;
                  v39 += 2;
                  v38 -= 16;
                }

                while (v38);
                v37 = v19 - v30;
                v36 = v19 - v30;
                if (v30 < 5)
                {
                  goto LABEL_38;
                }
              }

              else
              {
                v37 = 0;
              }

              v44 = (v22 + 4 * v37);
              v45 = v35 + v37;
              v46 = (v24 + 2 * v37);
              do
              {
                v47 = *vld2_s16(v44).val;
                v44 += 8;
                *v46++ = v47;
                v45 += 4;
              }

              while (v45);
              v36 = v32;
            }

LABEL_38:
            v48 = v19 - v36;
            v49 = 2 * v36;
            do
            {
              *(v24 + v49) = *(v22 + 2 * v49);
              v49 += 2;
              --v48;
            }

            while (v48);
            ++v20;
            v33 = (v33 + v26);
            v34 = (v34 + v25);
            v22 += v26;
            v24 += v25;
          }

          while (v20 != v18);
        }
      }

      create_pyr2(v10, v9);
      ++v6;
    }

    while (v6 != v7);
  }
}

void vl_dog_create_octave(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a2 + 12))
  {
    printf("%sAborting : ", "");
    puts("not implemented!");
    putchar(10);
    __assert_rtn("vl_dog_create_octave", "vl_dog.c", 578, "0");
  }

  v6 = *a2;
  v7 = fmax((v6 * v6) - (*(a2 + 24) * *(a2 + 24)) * 1.0, 0.01);
  v8 = *(a2 + 4);
  v9 = exp2(1.0 / v8);
  *(a3 + 48) = 0;
  v10 = *(a3 + 64);
  if (v10 < 1)
  {
    if (v10)
    {
      v10 = 1;
    }

    else
    {
      v10 = 64;
    }

    v11 = malloc_type_realloc(*(a3 + 56), 4 * v10, 0x100004052888210uLL);
    *(a3 + 56) = v11;
    *(a3 + 64) = v10;
    v14 = *(a3 + 48);
    v12 = v14 + 1;
    *(a3 + 48) = v14 + 1;
    v11[v14] = v6;
    v13 = sqrt(v7);
    if (v8 < -1)
    {
      goto LABEL_22;
    }
  }

  else
  {
    v11 = *(a3 + 56);
    v12 = 1;
    *(a3 + 48) = 1;
    *v11 = v6;
    v13 = sqrt(v7);
    if (v8 < -1)
    {
      goto LABEL_22;
    }
  }

  v15 = 0;
  v16 = v6;
  if (v8 + 2 <= 1)
  {
    v17 = 1;
  }

  else
  {
    v17 = v8 + 2;
  }

  do
  {
    v19 = pow(v9, v15);
    if (v12 >= v10)
    {
      v20 = 2 * v10;
      if (!v10)
      {
        v20 = 64;
      }

      if (v20 <= v12)
      {
        v10 = v12 + 1;
      }

      else
      {
        v10 = v20;
      }

      if (v10)
      {
        v21 = v19;
        v22 = malloc_type_realloc(v11, 4 * v10, 0x100004052888210uLL);
        v19 = v21;
        v11 = v22;
        *(a3 + 56) = v22;
        v12 = *(a3 + 48);
      }

      *(a3 + 64) = v10;
    }

    v18 = sqrt(-(v19 * v16 * (v19 * v16) - v9 * (v19 * v16 * (v19 * v16)) * v9));
    v11[v12++] = v18;
    *(a3 + 48) = v12;
    ++v15;
  }

  while (v17 != v15);
LABEL_22:
  if (*a3)
  {
    v23 = v13;
    create_initial_image(a1, *(a3 + 8), v23);
    v24 = *(a2 + 4);

    create_pyr2(v24, a3);
    return;
  }

  v25 = *(a1 + 12);
  DWORD2(v36) = *(a1 + 8);
  HIDWORD(v36) = v25;
  v37 = SDWORD2(v36);
  *&v36 = pmem_alloc_ex(2 * SDWORD2(v36) * (v25 + 16), 0, 0) + 16 * SDWORD2(v36);
  v26 = v13;
  create_initial_image(a1, &v36, v26);
  v27 = *(a2 + 4);
  if ((v27 & 0x80000000) == 0)
  {
    v28 = malloc_type_malloc(24 * v27 + 24, 0x1010040113C0ABBuLL);
    v27 = *(a2 + 4);
    *(a3 + 24) = 0;
    *(a3 + 32) = v28;
    *(a3 + 40) = v27 + 1;
    if (v27 > -2)
    {
      goto LABEL_28;
    }

LABEL_31:
    v29 = 0;
    v32 = v27 + 2;
    *a3 = 0;
    *(a3 + 8) = 0;
    *(a3 + 16) = v27 + 2;
    goto LABEL_32;
  }

  *(a3 + 24) = 0;
  *(a3 + 32) = 0;
  *(a3 + 40) = v27 + 1;
  if (v27 <= -2)
  {
    goto LABEL_31;
  }

LABEL_28:
  v29 = malloc_type_malloc(24 * (v27 + 2), 0x1010040113C0ABBuLL);
  v30 = 0;
  v31 = *(a2 + 4);
  *a3 = 0;
  *(a3 + 8) = v29;
  v32 = v31 + 2;
  *(a3 + 16) = v31 + 2;
  if (v31 <= -2)
  {
LABEL_32:
    if (v32)
    {
      v33 = 1;
    }

    else
    {
      v33 = 10;
    }

    v29 = malloc_type_realloc(v29, 24 * v33, 0x1010040113C0ABBuLL);
    *(a3 + 8) = v29;
    *(a3 + 16) = v33;
    v30 = *a3;
  }

  *a3 = v30 + 1;
  v34 = &v29[24 * v30];
  *v34 = v36;
  *(v34 + 2) = v37;
  v35 = *(a2 + 4);

  create_pyr(v35, a3);
}

void vl_dog_extract_keypoints_pwin(uint64_t a1)
{
  v1 = MEMORY[0x28223BE20](a1);
  v8 = v7;
  v586 = v1;
  v617 = *MEMORY[0x277D85DE8];
  v9 = *(v2 + 16);
  v607 = v2;
  v598 = v3;
  if (v9 > 4999)
  {
    v13 = *(v3 + 16);
    if (v13 > 4999)
    {
      goto LABEL_6;
    }
  }

  else
  {
    v10 = 2 * v9;
    if (v10 <= 5000)
    {
      v11 = 5000;
    }

    else
    {
      v11 = v10;
    }

    v12 = malloc_type_realloc(*(v2 + 8), 288 * v11, 0x1000040A8CFB95EuLL);
    v3 = v598;
    *(v607 + 8) = v12;
    *(v607 + 16) = v11;
    v13 = *(v598 + 16);
    if (v13 > 4999)
    {
LABEL_6:
      v14 = v586;
      if (*v586 < 1)
      {
        goto LABEL_575;
      }

      goto LABEL_13;
    }
  }

  v15 = 2 * v13;
  if (v15 <= 5000)
  {
    v16 = 5000;
  }

  else
  {
    v16 = v15;
  }

  *(v598 + 8) = malloc_type_realloc(*(v3 + 8), 8 * v16, 0x100004000313F17uLL);
  *(v598 + 16) = v16;
  v14 = v586;
  if (*v586 >= 1)
  {
LABEL_13:
    v17 = 0;
    v18 = 0.5;
    v19 = 0.000015319;
    v20 = 4.0;
    v21 = 6.0;
    v22 = -23.0;
    v23 = 1.0;
    while (1)
    {
      v24 = v14[1] + 72 * v17;
      v25 = *(v8 + 4);
      v593 = v17;
      v594 = v24;
      if (v25 >= 1)
      {
        break;
      }

      v27 = 0;
      ptr = 0;
      v589 = 0;
LABEL_133:
      v208 = *(v8 + 48);
      if (v208 < 1)
      {
        goto LABEL_331;
      }

      v209 = *(v24 + 32);
      v210 = *(v209 + 12);
      v596 = *(v209 + 8);
      v600 = v27;
      v211 = (v596 + 11) / 12;
      v212 = v210 / v211;
      v213 = -0.5;
      if (v212 > 0.0)
      {
        v213 = v18;
      }

      v214 = (v212 + v213);
      if (v214 <= 1)
      {
        v214 = 1;
      }

      v591 = (v214 + v210 - 1) / v214;
      v215 = (12 * v214);
      v216 = malloc_type_calloc(v215, 4uLL, 0x100004052888210uLL);
      v588 = malloc_type_calloc(v215, 4uLL, 0x100004052888210uLL);
      if (v600 >= 1)
      {
        v217 = v600 & 0x7FFFFFFF;
        v218 = ptr + 1;
        do
        {
          v219 = *(v218 - 1);
          if (v219 >= v596)
          {
            v220 = v596 - 1;
          }

          else
          {
            v220 = *(v218 - 1);
          }

          if (v219 >= 0)
          {
            v221 = v220;
          }

          else
          {
            v221 = 0;
          }

          v222 = v221 / v211;
          if (*v218 >= v210)
          {
            v223 = v210 - 1;
          }

          else
          {
            v223 = *v218;
          }

          if (*v218 >= 0)
          {
            v224 = v223;
          }

          else
          {
            v224 = 0;
          }

          ++v216[12 * (v224 / v591) + v222];
          v218 += 76;
          --v217;
        }

        while (v217);
      }

      v584 = v210 - 1;
      v585 = v210;
      v609 = v216;
      v225 = malloc_type_malloc(4 * v215, 0x100004052888210uLL);
      v226 = v215 & 0x7FFFFFF8;
      v227 = v225 + 1;
      v228 = xmmword_271103920;
      v229 = v226;
      v230.i64[0] = 0x400000004;
      v230.i64[1] = 0x400000004;
      v231.i64[0] = 0x800000008;
      v231.i64[1] = 0x800000008;
      do
      {
        v227[-1] = v228;
        *v227 = vaddq_s32(v228, v230);
        v228 = vaddq_s32(v228, v231);
        v227 += 2;
        v229 -= 8;
      }

      while (v229);
      for (; v215 != v226; ++v226)
      {
        v225->i32[v226] = v226;
      }

      v604 = v225;
      v232 = malloc_type_malloc(0x200uLL, 0x100004000313F17uLL);
      v233 = 0;
      v234 = 1;
      v235 = v216;
      v236 = v216;
      v237 = v604;
      v238 = v215;
      v239 = 32;
      do
      {
        v240 = v233;
        while (1)
        {
          if (!v234)
          {
            --v240;
            v241 = &v232[16 * v240];
            v238 = v241[1];
            v242 = *v241;
            v236 = &v235[v242];
            v237 = (v604 + v242 * 4);
          }

          if (v238 > 15)
          {
            break;
          }

          if (v238 > 1)
          {
            v243 = 2;
            for (i = 1; i != v238; ++i)
            {
              v245 = v243;
              do
              {
                v246 = v245 - 1;
                v247 = v245 - 2;
                v248 = v236[v246];
                v249 = v236[v247];
                if (v248 >= v249)
                {
                  break;
                }

                v236[v246] = v249;
                v236[v247] = v248;
                v250 = v237->i32[v246];
                v237->i32[v246] = v237->i32[v247];
                v237->i32[v247] = v250;
                v245 = v246;
              }

              while (v246 > 1);
              ++v243;
            }
          }

          v234 = 0;
          v238 = 0;
          if (v240 < 1)
          {
            goto LABEL_222;
          }
        }

        if (v238 > 0x27)
        {
          v257 = 0;
          v258 = 0;
          v259 = 26;
          if (v238 <= 0x7D0)
          {
            v259 = 8;
          }

          v260 = 3;
          if (v238 > 0x7D0)
          {
            v260 = 9;
          }

          while (2)
          {
            v261 = (v238 - 1 + v257) / v259;
            v262 = v236[v257 / v259];
            v263 = v236[v261];
            v264 = (2 * v238 - 2 + v257) / v259;
            v265 = v236[v264];
            if (v262 >= v263)
            {
              if (v262 < v265)
              {
                goto LABEL_194;
              }

              if (v263 < v265)
              {
                goto LABEL_196;
              }
            }

            else if (v263 >= v265)
            {
              if (v262 < v265)
              {
LABEL_196:
                *(__src + v258) = v264;
LABEL_188:
                ++v258;
                v257 += 3 * v238 - 3;
                if (v260 != v258)
                {
                  continue;
                }

                while (2)
                {
                  v266 = v260;
                  v260 /= 3uLL;
                  v267 = __src;
                  v268 = &__src[1];
                  v269 = v260;
LABEL_201:
                  v270 = *(v268 - 2);
                  v271 = *(v268 - 1);
                  v272 = v236[v270];
                  v273 = v236[v271];
                  v274 = v236[*v268];
                  if (v272 >= v273)
                  {
                    if (v272 < v274)
                    {
                      goto LABEL_206;
                    }

                    if (v273 < v274)
                    {
                      goto LABEL_208;
                    }
                  }

                  else if (v273 >= v274)
                  {
                    if (v272 < v274)
                    {
LABEL_208:
                      *v267 = *v268;
LABEL_200:
                      v268 += 3;
                      ++v267;
                      if (!--v269)
                      {
                        if (v266 < 9)
                        {
                          v251 = *&__src[0];
                          v252 = *v236;
                          goto LABEL_210;
                        }

                        continue;
                      }

                      goto LABEL_201;
                    }

LABEL_206:
                    *v267 = v270;
                    goto LABEL_200;
                  }

                  break;
                }

                *v267 = v271;
                goto LABEL_200;
              }

LABEL_194:
              *(__src + v258) = v257 / v259;
              goto LABEL_188;
            }

            break;
          }

          *(__src + v258) = v261;
          goto LABEL_188;
        }

        v251 = v238 >> 1;
        v252 = *v236;
        v253 = v236[v238 >> 1];
        v254 = v238 - 1;
        v255 = v236[v238 - 1];
        if (v253 >= v255)
        {
          v256 = v238 >> 1;
        }

        else
        {
          v256 = v238 - 1;
        }

        if (v252 >= v255)
        {
          v254 = 0;
        }

        else
        {
          v256 = 0;
        }

        if (v253 >= v255)
        {
          v251 = v254;
        }

        if (v252 >= v253)
        {
          v251 = v256;
        }

LABEL_210:
        v275 = 0;
        v276 = 0;
        *v236 = v236[v251];
        v236[v251] = v252;
        v277 = v237->i32[0];
        v237->i32[0] = v237->i32[v251];
        v237->i32[v251] = v277;
        for (j = 1; j != v238; ++j)
        {
          v279 = v236[j];
          if (v279 <= *v236)
          {
            v236[j] = v236[++v275];
            v236[v275] = v279;
            v280 = v237->i32[j];
            v237->i32[j] = v237->i32[v275];
            v237->i32[v275] = v280;
            if (v236[j] == *v236)
            {
              ++v276;
              v281 = v236[v275];
              v236[v275] = v236[v276];
              v236[v276] = v281;
              v282 = v237->i32[v275];
              v237->i32[v275] = v237->i32[v276];
              v237->i32[v276] = v282;
            }
          }
        }

        v283 = 4 * v275 - 4 * v276;
        v284 = v276;
        do
        {
          v285 = *(v236 + v283);
          *(v236 + v283) = v236[v284];
          v236[v284] = v285;
          v286 = *(v237->i32 + v283);
          *(v237->i32 + v283) = v237->i32[v284];
          v237->i32[v284] = v286;
          v283 += 4;
          v192 = v284-- <= 0;
        }

        while (!v192);
        v233 = v240 + 1;
        if (v240 + 1 >= v239)
        {
          v581 = v240;
          v582 = v208;
          v580 = 2 * v239;
          v287 = v276;
          v232 = malloc_type_realloc(v232, 32 * v239, 0x100004000313F17uLL);
          v276 = v287;
          v239 = v580;
          v240 = v581;
          v235 = v609;
          v208 = v582;
        }

        v288 = &v232[16 * v240];
        *v288 = v275 + v236 - v235 + 1;
        *(v288 + 1) = v238 + ~v275;
        v238 = v275 - v276;
        v234 = v275 != v276;
      }

      while ((v240 & 0x8000000000000000) == 0 || v238);
LABEL_222:
      v289 = v235;
      free(v232);
      v290 = v289;
      v291 = v215;
      do
      {
        v292 = *v290;
        if (v291 * v292 > v208)
        {
          v292 = v208 / v291;
          *v290 = v292;
        }

        LODWORD(v208) = v208 - v292;
        ++v290;
        --v291;
      }

      while (v291);
      v293 = malloc_type_malloc(0x200uLL, 0x100004000313F17uLL);
      v294 = 0;
      v295 = 1;
      v296 = 32;
      v297 = v609;
      v298 = v609;
      v299 = v604;
      while (2)
      {
        v300 = v294;
        while (1)
        {
          if (!v295)
          {
            --v300;
            v301 = &v293[16 * v300];
            v215 = v301[1];
            v302 = *v301;
            v299 = &v604->i8[v302 * 4];
            v298 = &v297[v302];
          }

          if (v215 > 15)
          {
            break;
          }

          if (v215 > 1)
          {
            v303 = 2;
            for (k = 1; k != v215; ++k)
            {
              v305 = v303;
              do
              {
                v306 = v305 - 1;
                v307 = v305 - 2;
                v308 = *&v299[4 * v306];
                v309 = *&v299[4 * v307];
                if (v308 >= v309)
                {
                  break;
                }

                *&v299[4 * v306] = v309;
                *&v299[4 * v307] = v308;
                v310 = v298[v306];
                v298[v306] = v298[v307];
                v298[v307] = v310;
                v305 = v306;
              }

              while (v306 > 1);
              ++v303;
            }
          }

          v295 = 0;
          v215 = 0;
          if (v300 < 1)
          {
            goto LABEL_291;
          }
        }

        if (v215 > 0x27)
        {
          v317 = 0;
          v318 = 0;
          v319 = 26;
          if (v215 <= 0x7D0)
          {
            v319 = 8;
          }

          v320 = 3;
          if (v215 > 0x7D0)
          {
            v320 = 9;
          }

          while (2)
          {
            v321 = (v215 - 1 + v317) / v319;
            v322 = *&v299[4 * (v317 / v319)];
            v323 = *&v299[4 * v321];
            v324 = (2 * v215 - 2 + v317) / v319;
            v325 = *&v299[4 * v324];
            if (v322 >= v323)
            {
              if (v322 < v325)
              {
                goto LABEL_263;
              }

              if (v323 < v325)
              {
                goto LABEL_265;
              }
            }

            else if (v323 >= v325)
            {
              if (v322 < v325)
              {
LABEL_265:
                *(__src + v318) = v324;
LABEL_257:
                ++v318;
                v317 += 3 * v215 - 3;
                if (v320 != v318)
                {
                  continue;
                }

                while (2)
                {
                  v326 = v320;
                  v320 /= 3uLL;
                  v327 = __src;
                  v328 = &__src[1];
                  v329 = v320;
LABEL_270:
                  v330 = *(v328 - 2);
                  v331 = *(v328 - 1);
                  v332 = *&v299[4 * v330];
                  v333 = *&v299[4 * v331];
                  v334 = *&v299[4 * *v328];
                  if (v332 >= v333)
                  {
                    if (v332 < v334)
                    {
                      goto LABEL_275;
                    }

                    if (v333 < v334)
                    {
                      goto LABEL_277;
                    }
                  }

                  else if (v333 >= v334)
                  {
                    if (v332 < v334)
                    {
LABEL_277:
                      *v327 = *v328;
LABEL_269:
                      v328 += 3;
                      ++v327;
                      if (!--v329)
                      {
                        if (v326 < 9)
                        {
                          v311 = *&__src[0];
                          v312 = *v299;
                          goto LABEL_279;
                        }

                        continue;
                      }

                      goto LABEL_270;
                    }

LABEL_275:
                    *v327 = v330;
                    goto LABEL_269;
                  }

                  break;
                }

                *v327 = v331;
                goto LABEL_269;
              }

LABEL_263:
              *(__src + v318) = v317 / v319;
              goto LABEL_257;
            }

            break;
          }

          *(__src + v318) = v321;
          goto LABEL_257;
        }

        v311 = v215 >> 1;
        v312 = *v299;
        v313 = *&v299[4 * (v215 >> 1)];
        v314 = v215 - 1;
        v315 = *&v299[4 * v215 - 4];
        if (v313 >= v315)
        {
          v316 = v215 >> 1;
        }

        else
        {
          v316 = v215 - 1;
        }

        if (v312 >= v315)
        {
          v314 = 0;
        }

        else
        {
          v316 = 0;
        }

        if (v313 >= v315)
        {
          v311 = v314;
        }

        if (v312 >= v313)
        {
          v311 = v316;
        }

LABEL_279:
        v335 = 0;
        v336 = 0;
        *v299 = *&v299[4 * v311];
        *&v299[4 * v311] = v312;
        v337 = *v298;
        *v298 = v298[v311];
        v298[v311] = v337;
        for (m = 1; m != v215; ++m)
        {
          v339 = *&v299[4 * m];
          if (v339 <= *v299)
          {
            ++v336;
            *&v299[4 * m] = *&v299[4 * v336];
            *&v299[4 * v336] = v339;
            v340 = v298[m];
            v298[m] = v298[v336];
            v298[v336] = v340;
            if (*&v299[4 * m] == *v299)
            {
              ++v335;
              v341 = *&v299[4 * v336];
              *&v299[4 * v336] = *&v299[4 * v335];
              *&v299[4 * v335] = v341;
              v342 = v298[v336];
              v298[v336] = v298[v335];
              v298[v335] = v342;
            }
          }
        }

        v343 = 4 * v336 - 4 * v335;
        v344 = v335;
        do
        {
          v345 = *&v299[v343];
          *&v299[v343] = *&v299[4 * v344];
          *&v299[4 * v344] = v345;
          v346 = *(v298 + v343);
          *(v298 + v343) = v298[v344];
          v298[v344] = v346;
          v343 += 4;
          v192 = v344-- <= 0;
        }

        while (!v192);
        v294 = v300 + 1;
        if (v300 + 1 >= v296)
        {
          v583 = 2 * v296;
          v293 = malloc_type_realloc(v293, 32 * v296, 0x100004000313F17uLL);
          v297 = v609;
          v296 = v583;
        }

        v347 = &v293[16 * v300];
        *v347 = v336 + ((v299 - v604) >> 2) + 1;
        *(v347 + 1) = v215 + ~v336;
        v215 = v336 - v335;
        v295 = v336 != v335;
        if ((v300 & 0x8000000000000000) == 0 || v215)
        {
          continue;
        }

        break;
      }

LABEL_291:
      free(v293);
      free(v604);
      v348 = v600;
      v349 = malloc_type_malloc(4 * v600, 0x100004052888210uLL);
      v350 = v609;
      v351 = v349;
      v352.i64[0] = 0x400000004;
      v352.i64[1] = 0x400000004;
      v353.i64[0] = 0x800000008;
      v353.i64[1] = 0x800000008;
      if (v600 >= 1)
      {
        v354 = v600 & 0x7FFFFFFF;
        if (v354 < 8)
        {
          v355 = 0;
          goto LABEL_297;
        }

        v355 = v354 - (v600 & 7);
        v356 = xmmword_271103920;
        v357 = v349 + 1;
        v358 = v355;
        do
        {
          v357[-1] = v356;
          *v357 = vaddq_s32(v356, v352);
          v356 = vaddq_s32(v356, v353);
          v357 += 2;
          v358 -= 8;
        }

        while (v358);
        if ((v600 & 7) != 0)
        {
          do
          {
LABEL_297:
            v349->i32[v355] = v355;
            ++v355;
          }

          while (v354 != v355);
        }

        LODWORD(__src[0]) = 1337;
        if (v600 != 1)
        {
          v359 = 0;
          do
          {
            v360 = v359 + rand_r(__src) % (v359 - v600);
            v361 = v351->i32[v359];
            v351->i32[v359] = v351->i32[v360];
            v351->i32[v360] = v361;
            ++v359;
          }

          while (v600 - 1 != v359);
        }

        v362 = v351;
        v348 = v600;
        v350 = v609;
        do
        {
          while (1)
          {
            v363 = v362->i32[0];
            v362 = (v362 + 4);
            v364 = &ptr[76 * v363];
            v365 = v364[1];
            v366 = *v364 >= v596 ? v596 - 1 : *v364;
            v367 = *v364 >= 0 ? v366 : 0;
            v368 = v367 / ((v596 + 11) / 12);
            v369 = v365 >= v585 ? v584 : v364[1];
            v370 = v365 >= 0 ? v369 : 0;
            v371 = v368 + 12 * (v370 / v591);
            v372 = v588[v371];
            if (v372 < v609[v371])
            {
              break;
            }

            *v364 = -1337;
            if (!--v354)
            {
              goto LABEL_317;
            }
          }

          v588[v371] = v372 + 1;
          --v354;
        }

        while (v354);
      }

LABEL_317:
      if (v348 < 1)
      {
        v27 = 0;
      }

      else
      {
        v27 = 0;
        v373 = ptr;
        v374 = v348;
        do
        {
          if (*v373 != -1337)
          {
            memcpy(&ptr[76 * v27], v373, 0x130uLL);
            v350 = v609;
            ++v27;
          }

          v373 += 76;
          --v374;
        }

        while (v374);
      }

      if (v27 > v589)
      {
        v375 = 2 * v589;
        if (2 * v589 <= v27)
        {
          v375 = v27;
        }

        if (v375)
        {
          v376 = malloc_type_realloc(ptr, 304 * v375, 0x1000040FDACBBE0uLL);
          v350 = v609;
          ptr = v376;
        }
      }

      if (v27 > v348)
      {
        bzero(&ptr[76 * v348], 304 * (v27 - v348));
        v350 = v609;
      }

      free(v350);
      free(v588);
      free(v351);
LABEL_331:
      v377 = malloc_type_malloc(0x200uLL, 0x100004000313F17uLL);
      if (!v27)
      {
        free(v377);
        goto LABEL_15;
      }

      v605 = v377;
      v378 = 0;
      v379 = 1;
      v592 = 32;
      v597 = v27;
      v380 = v27;
      v381 = ptr;
      v382 = 0uLL;
      while (2)
      {
        v383 = v378;
        while (1)
        {
          if (!v379)
          {
            --v383;
            v384 = &v605[16 * v383];
            v380 = *(v384 + 1);
            v381 = &ptr[76 * *v384];
          }

          if (v380 > 15)
          {
            break;
          }

          v610 = v383;
          if (v380 > 1)
          {
            v385 = v381 + 76;
            v386 = 2;
            v387 = 1;
            do
            {
              v388 = v380;
              v389 = v385;
              v390 = v386;
              do
              {
                v391 = &v381[76 * (v390 - 2)];
                v392 = v389[75] - v391[75];
                if (!v392)
                {
                  v392 = v389[1] - v391[1];
                  if (!v392)
                  {
                    v392 = *v389 - *v391;
                  }
                }

                if ((v392 & 0x80000000) == 0)
                {
                  break;
                }

                __src[17] = v382;
                __src[18] = v382;
                __src[15] = v382;
                __src[16] = v382;
                __src[13] = v382;
                __src[14] = v382;
                __src[11] = v382;
                __src[12] = v382;
                __src[9] = v382;
                __src[10] = v382;
                __src[7] = v382;
                __src[8] = v382;
                __src[5] = v382;
                __src[6] = v382;
                __src[3] = v382;
                __src[4] = v382;
                __src[1] = v382;
                __src[2] = v382;
                __src[0] = v382;
                memcpy(__src, v389, 0x130uLL);
                memcpy(v389, &v381[76 * (v390 - 2)], 0x130uLL);
                memcpy(&v381[76 * (v390 - 2)], __src, 0x130uLL);
                v382 = 0uLL;
                --v390;
                v389 -= 76;
              }

              while (v390 > 1);
              ++v387;
              ++v386;
              v385 += 76;
              v380 = v388;
            }

            while (v387 != v388);
          }

          v379 = 0;
          v380 = 0;
          v383 = v610;
          if (v610 < 1)
          {
            goto LABEL_449;
          }
        }

        v601 = v380;
        if (v380 > 0x27)
        {
          v404 = 0;
          v405 = 0;
          v406 = 26;
          if (v380 <= 0x7D0)
          {
            v406 = 8;
          }

          v407 = 3;
          if (v380 > 0x7D0)
          {
            v407 = 9;
          }

          while (2)
          {
            v408 = &v381[76 * (v404 / v406)];
            v409 = (v380 - 1 + v404) / v406;
            v410 = &v381[76 * v409];
            v411 = v408[75];
            v412 = v410[75];
            v413 = v411 - v412;
            if (v411 == v412)
            {
              v414 = v408[1];
              v415 = v410[1];
              v413 = v414 - v415;
              if (v414 == v415)
              {
                v413 = *v408 - *v410;
              }
            }

            v416 = (2 * v380 - 2 + v404) / v406;
            v417 = &v381[76 * v416];
            v418 = v417[75];
            if (v413 < 0)
            {
              v421 = v412 - v418;
              if (!v421)
              {
                v421 = v410[1] - v417[1];
                if (!v421)
                {
                  v421 = *v410 - *v417;
                }
              }

              if (v421 < 0)
              {
                goto LABEL_391;
              }

              v422 = v411 - v418;
              if (v411 == v418)
              {
                v422 = v408[1] - v417[1];
                if (!v422)
                {
                  v422 = *v408 - *v417;
                }
              }

              if (v422 < 0)
              {
LABEL_383:
                *(__src + v405) = v416;
                goto LABEL_370;
              }
            }

            else
            {
              v419 = v411 - v418;
              if (!v419)
              {
                v419 = v408[1] - v417[1];
                if (!v419)
                {
                  v419 = *v408 - *v417;
                }
              }

              if ((v419 & 0x80000000) == 0)
              {
                v420 = v412 - v418;
                if (v412 == v418)
                {
                  v420 = v410[1] - v417[1];
                  if (!v420)
                  {
                    v420 = *v410 - *v417;
                  }
                }

                if (v420 < 0)
                {
                  goto LABEL_383;
                }

LABEL_391:
                *(__src + v405) = v409;
LABEL_370:
                ++v405;
                v404 += 3 * v380 - 3;
                if (v407 != v405)
                {
                  continue;
                }

                while (2)
                {
                  v423 = v407;
                  v407 /= 3uLL;
                  v424 = __src;
                  v425 = &__src[1];
                  v426 = v407;
LABEL_397:
                  v427 = *(v425 - 2);
                  v428 = *(v425 - 1);
                  v429 = *v425;
                  v430 = &v381[76 * v427];
                  v431 = &v381[76 * v428];
                  v432 = v430[75];
                  v433 = v431[75];
                  v434 = v432 - v433;
                  if (v432 == v433)
                  {
                    v435 = v430[1];
                    v436 = v431[1];
                    v434 = v435 - v436;
                    if (v435 == v436)
                    {
                      v434 = *v430 - *v431;
                    }
                  }

                  v437 = &v381[76 * v429];
                  v438 = v437[75];
                  if (v434 < 0)
                  {
                    v441 = v433 - v438;
                    if (!v441)
                    {
                      v441 = v431[1] - v437[1];
                      if (!v441)
                      {
                        v441 = *v431 - *v437;
                      }
                    }

                    if (v441 < 0)
                    {
                      goto LABEL_417;
                    }

                    v442 = v432 - v438;
                    if (v432 == v438)
                    {
                      v442 = v430[1] - v437[1];
                      if (!v442)
                      {
                        v442 = *v430 - *v437;
                      }
                    }

                    if (v442 < 0)
                    {
LABEL_409:
                      *v424 = v429;
                      goto LABEL_396;
                    }
                  }

                  else
                  {
                    v439 = v432 - v438;
                    if (!v439)
                    {
                      v439 = v430[1] - v437[1];
                      if (!v439)
                      {
                        v439 = *v430 - *v437;
                      }
                    }

                    if ((v439 & 0x80000000) == 0)
                    {
                      v440 = v433 - v438;
                      if (v433 == v438)
                      {
                        v440 = v431[1] - v437[1];
                        if (!v440)
                        {
                          v440 = *v431 - *v437;
                        }
                      }

                      if (v440 < 0)
                      {
                        goto LABEL_409;
                      }

LABEL_417:
                      *v424 = v428;
LABEL_396:
                      v425 += 3;
                      ++v424;
                      if (!--v426)
                      {
                        if (v423 < 9)
                        {
                          v393 = *&__src[0];
                          goto LABEL_419;
                        }

                        continue;
                      }

                      goto LABEL_397;
                    }
                  }

                  break;
                }

                *v424 = v427;
                goto LABEL_396;
              }
            }

            break;
          }

          *(__src + v405) = v404 / v406;
          goto LABEL_370;
        }

        v393 = v380 >> 1;
        v394 = &v381[76 * (v380 >> 1)];
        v395 = v381[75];
        v396 = v394[75];
        v397 = v395 - v396;
        if (v395 == v396)
        {
          v398 = v381[1];
          v399 = v394[1];
          v397 = v398 - v399;
          if (v398 == v399)
          {
            v397 = *v381 - *v394;
          }
        }

        v400 = &v381[76 * v380 - 76];
        v401 = v400[75];
        if (v397 < 0)
        {
          v457 = v396 - v401;
          if (!v457)
          {
            v457 = v394[1] - v400[1];
            if (!v457)
            {
              v457 = *v394 - *v400;
            }
          }

          if ((v457 & 0x80000000) == 0)
          {
            v458 = v395 - v401;
            if (v395 == v401)
            {
              v458 = v381[1] - v400[1];
              if (!v458)
              {
                v458 = *v381 - *v400;
              }
            }

            if (v458 >= 0)
            {
              v393 = 0;
            }

            else
            {
              v393 = v380 - 1;
            }
          }
        }

        else
        {
          v402 = v395 - v401;
          if (!v402)
          {
            v402 = v381[1] - v400[1];
            if (!v402)
            {
              v402 = *v381 - *v400;
            }
          }

          if (v402 < 0)
          {
            v393 = 0;
          }

          else
          {
            v403 = v396 - v401;
            if (v396 == v401)
            {
              v403 = v394[1] - v400[1];
              if (!v403)
              {
                v403 = *v394 - *v400;
              }
            }

            if (v403 < 0)
            {
              v393 = v380 - 1;
            }
          }
        }

LABEL_419:
        v443 = v383;
        __src[17] = v382;
        __src[18] = v382;
        __src[15] = v382;
        __src[16] = v382;
        __src[13] = v382;
        __src[14] = v382;
        __src[11] = v382;
        __src[12] = v382;
        __src[9] = v382;
        __src[10] = v382;
        __src[7] = v382;
        __src[8] = v382;
        __src[5] = v382;
        __src[6] = v382;
        __src[3] = v382;
        __src[4] = v382;
        __src[1] = v382;
        __src[2] = v382;
        __src[0] = v382;
        memcpy(__src, v381, 0x130uLL);
        memcpy(v381, &v381[76 * v393], 0x130uLL);
        memcpy(&v381[76 * v393], __src, 0x130uLL);
        v382 = 0uLL;
        v444 = 0;
        v445 = 0;
        v446 = v601 - 1;
        v447 = v381 + 76;
        do
        {
          v448 = v447[75] - v381[75];
          if (!v448)
          {
            v448 = v447[1] - v381[1];
            if (!v448)
            {
              v448 = *v447 - *v381;
            }
          }

          if (v448 <= 0)
          {
            __src[17] = v382;
            __src[18] = v382;
            __src[15] = v382;
            __src[16] = v382;
            __src[13] = v382;
            __src[14] = v382;
            __src[11] = v382;
            __src[12] = v382;
            __src[9] = v382;
            __src[10] = v382;
            __src[7] = v382;
            __src[8] = v382;
            __src[5] = v382;
            __src[6] = v382;
            __src[3] = v382;
            __src[4] = v382;
            __src[1] = v382;
            __src[2] = v382;
            __src[0] = v382;
            memcpy(__src, v447, 0x130uLL);
            ++v445;
            v449 = &v381[76 * v445];
            memcpy(v447, v449, 0x130uLL);
            memcpy(v449, __src, 0x130uLL);
            v450 = v447[75] - v381[75];
            if (!v450)
            {
              v450 = v447[1] - v381[1];
              if (!v450)
              {
                v450 = *v447 - *v381;
              }
            }

            v382 = 0uLL;
            if (!v450)
            {
              ++v444;
              memset(__src, 0, 304);
              memcpy(__src, v449, 0x130uLL);
              memcpy(v449, &v381[76 * v444], 0x130uLL);
              memcpy(&v381[76 * v444], __src, 0x130uLL);
              v382 = 0uLL;
            }
          }

          v447 += 76;
          --v446;
        }

        while (v446);
        v451 = v444 + 1;
        v452 = v444;
        v453 = 76 * v444;
        v454 = 304 * v445 - 304 * v444;
        do
        {
          __src[17] = v382;
          __src[18] = v382;
          __src[15] = v382;
          __src[16] = v382;
          __src[13] = v382;
          __src[14] = v382;
          __src[11] = v382;
          __src[12] = v382;
          __src[9] = v382;
          __src[10] = v382;
          __src[7] = v382;
          __src[8] = v382;
          __src[5] = v382;
          __src[6] = v382;
          __src[3] = v382;
          __src[4] = v382;
          __src[1] = v382;
          __src[2] = v382;
          __src[0] = v382;
          memcpy(__src, v381 + v454, 0x130uLL);
          memcpy(v381 + v454, &v381[v453], 0x130uLL);
          memcpy(&v381[v453], __src, 0x130uLL);
          v382 = 0uLL;
          --v451;
          v453 -= 76;
          v454 += 304;
        }

        while (v451 > 0);
        v378 = v443 + 1;
        if (v443 + 1 >= v592)
        {
          v455 = malloc_type_realloc(v605, 32 * v592, 0x100004000313F17uLL);
          v382 = 0uLL;
          v592 *= 2;
        }

        else
        {
          v455 = v605;
        }

        v605 = v455;
        v456 = &v455[16 * v443];
        *v456 = v445 - 0x79435E50D79435E5 * ((v381 - ptr) >> 4) + 1;
        *(v456 + 1) = v601 + ~v445;
        v380 = v445 - v452;
        v379 = v445 != v452;
        if ((v443 & 0x8000000000000000) == 0 || v380)
        {
          continue;
        }

        break;
      }

LABEL_449:
      free(v605);
      if (v597 >= 1)
      {
        for (n = 0; n != v597; ++n)
        {
          v460 = &ptr[76 * n];
          v461 = *v460;
          v462 = *(v460 + 1);
          memset(__src, 0, 272);
          v611 = *(v460 + 1);
          v463 = *(v460 + 4);
          memcpy(__src, v460 + 24, 0x110uLL);
          v464 = *(v460 + 37);
          v606 = v463;
          v465 = (v463 / (1 << v464)) * v18;
          v466 = *(v8 + 36);
          v467 = *(v8 + 32) * v465;
          v468 = v467;
          v192 = v467 <= 0.0;
          v469 = -0.5;
          if (!v192)
          {
            v469 = 0.5;
          }

          v470 = *(v460 + 37);
          v471 = *(v594 + 8) + 24 * SHIDWORD(v464);
          memset(v615, 0, sizeof(v615));
          v472 = *(v8 + 40);
          v473 = (v469 + v468);
          memset(v616, 0, sizeof(v616));
          LODWORD(v474) = v462 - v473;
          if (v462 - v473 <= 1)
          {
            v474 = 1;
          }

          else
          {
            v474 = v474;
          }

          v475 = v462 + v473;
          if (v462 + v473 >= *(v471 + 12) - 2)
          {
            v475 = *(v471 + 12) - 2;
          }

          if (v474 <= v475)
          {
            if (v461 - v473 <= 1)
            {
              v476 = 1;
            }

            else
            {
              v476 = (v461 - v473);
            }

            LODWORD(v477) = v461 + v473;
            if (v477 >= *(v471 + 8) - 2)
            {
              LODWORD(v477) = *(v471 + 8) - 2;
            }

            if (v476 <= v477)
            {
              v479 = 1.0 / ((v465 * v466) * ((v465 * v466) + (v465 * v466)));
              v480 = *v471;
              v481 = *(v471 + 16);
              if (v477 <= v476)
              {
                v477 = v476;
              }

              else
              {
                v477 = v477;
              }

              if (v475 <= v474)
              {
                v482 = v474;
              }

              else
              {
                v482 = v475;
              }

              v483 = v477 - v476 + 1;
              v484 = 2 * v481;
              v485 = 2 * v476;
              v486 = v485 + 2 * v481 * v474;
              v487 = v480 + 2 * v481 + v486;
              v488 = v480 + v485 + v484 * (v474 - 1);
              v489 = v476 - v461;
              v490 = v480 + v486 + 2;
              do
              {
                v491 = 0;
                v492 = v490;
                do
                {
                  v493 = vcvts_n_f32_s32(*v492 - *(v492 - 2), 8uLL);
                  v494 = -(((v474 - v462) * (v474 - v462) + (v489 + v491) * (v489 + v491)) * v479);
                  v495 = v494 * 0.00390625 + v23;
                  v496 = vcvts_n_f32_s32(*(v488 + 2 * v491) - *(v487 + 2 * v491), 8uLL);
                  v497 = ((v495 * v495) * (v495 * v495)) * ((v495 * v495) * (v495 * v495));
                  v498 = ((v497 * v497) * (v497 * v497)) * ((v497 * v497) * (v497 * v497));
                  v188 = v494 < v22;
                  v499 = (v498 * v498) * (v498 * v498);
                  if (v188)
                  {
                    v499 = 0.0;
                  }

                  v500 = -v493;
                  if (v493 >= 0.0)
                  {
                    v500 = v493;
                  }

                  v501 = -v496;
                  if (v496 >= 0.0)
                  {
                    v501 = v496;
                  }

                  v502 = v500 < v501;
                  if (v500 >= v501)
                  {
                    v503 = v501;
                  }

                  else
                  {
                    v503 = v500;
                  }

                  if (v500 <= v501)
                  {
                    v500 = v501;
                  }

                  v504 = v503 / v500;
                  v505 = v504 + (((v504 * v504) * (((((v504 * v504) * -0.046496) + 0.15931) * (v504 * v504)) + -0.32762)) * v504);
                  if (v502)
                  {
                    v505 = 1.5708 - v505;
                  }

                  if (v493 < 0.0)
                  {
                    v505 = 3.1416 - v505;
                  }

                  ++v492;
                  if (v496 < 0.0)
                  {
                    v505 = -v505;
                  }

                  if (v505 < 0.0)
                  {
                    v505 = v505 + 6.2832;
                  }

                  v478 = v472 / 6.28318531;
                  v506 = (v18 + (v478 * v505));
                  v507 = (v496 * v496) + (v493 * v493);
                  if (v472 <= v506)
                  {
                    v508 = v472;
                  }

                  else
                  {
                    v508 = 0;
                  }

                  *(v616 + v506 - v508) = *(v616 + v506 - v508) + (v499 * sqrtf(v507));
                  ++v491;
                }

                while (v483 != v491);
                v487 += v484;
                v488 += v484;
                v490 += v484;
                v194 = v474++ == v482;
              }

              while (!v194);
            }
          }

          if (v472 > 0)
          {
            v509 = 2 - v472;
            if (v472 > 2)
            {
              v509 = 2;
            }

            v510 = (v472 - 1);
            v511 = v616 + v472;
            v512 = *(v616 + v509);
            v513 = *(v511 - 1);
            v514 = *v616;
            v515 = ((*v616 * v21) * 0.0625) + (((*(v511 - 2) + v512) * 0.0625) + (((v513 + *(v616 | (4 * (v472 != 1)))) * v20) * 0.0625));
            v614 = v515;
            if (v472 == 1)
            {
              v516 = v515;
            }

            else
            {
              v517 = 3 - v472;
              if (v472 > 3)
              {
                v517 = 3;
              }

              v518 = (((v512 + *v616) * v20) * 0.0625) + ((v513 + *(v616 + v517)) * 0.0625);
              v519 = *(v616 + 1);
              v615[0] = ((*(v616 + 1) * v21) * 0.0625) + v518;
              if (v472 != 2)
              {
                for (ii = 2; ii != v472; ++ii)
                {
                  if (ii >= v510)
                  {
                    v521 = v472;
                  }

                  else
                  {
                    v521 = 0;
                  }

                  if (ii + 2 >= v472)
                  {
                    v522 = v472;
                  }

                  else
                  {
                    v522 = 0;
                  }

                  v523 = ((v514 + *(v616 + ii - v522 + 2)) * 0.0625) + (((v519 + *(v616 + ii - v521 + 1)) * v20) * 0.0625);
                  v514 = v519;
                  v519 = *(v616 + ii);
                  v615[ii - 1] = ((v519 * v21) * 0.0625) + v523;
                }
              }

              v524 = v472 - 1;
              v525 = &v614;
              v526 = v615;
              v527 = v515;
              v528 = v615;
              do
              {
                v529 = *v528++;
                v530 = v529;
                if (v527 < v529)
                {
                  v527 = v530;
                  v525 = v526;
                }

                v526 = v528;
                --v524;
              }

              while (v524);
              v516 = *v525;
            }

            v531 = v472;
            v602 = v472;
            v532 = v615[v510 - 1];
            v533 = v607;
            if (v532 < v515)
            {
              v534 = v615[(v472 != 1) - 1];
              if (v515 > v534 && v515 >= (v516 * *(v8 + 44)))
              {
                v535 = (v532 - v534) / (((v532 + v534) + (v515 * -2.0)) + ((v532 + v534) + (v515 * -2.0)));
                v536 = (v535 + 0.0) + v531;
                if (v535 >= 0.0)
                {
                  v536 = v535 + 0.0;
                }

                if (v535 >= v531)
                {
                  v537 = (v535 + 0.0) - v531;
                }

                else
                {
                  v537 = v536;
                }

                v538 = *v607;
                v539 = *(v607 + 16);
                if (*v607 >= v539)
                {
                  v540 = 2 * v539;
                  if (v540 <= v538)
                  {
                    v541 = v538 + 1;
                  }

                  else
                  {
                    v541 = v540;
                  }

                  if (v541)
                  {
                    v542 = malloc_type_realloc(*(v607 + 8), 288 * v541, 0x1000040A8CFB95EuLL);
                    v533 = v607;
                    *(v607 + 8) = v542;
                    v538 = *v607;
                  }

                  *(v533 + 16) = v541;
                }

                *v533 = v538 + 1;
                v543 = *(v533 + 8) + 288 * v538;
                *v543 = v611;
                v544 = 360.0 - v537 * 360.0 / v602;
                *(v543 + 8) = v606;
                *(v543 + 12) = v544;
                memcpy((v543 + 16), __src, 0x110uLL);
                v545 = v598;
                v546 = *v598;
                v547 = *(v598 + 16);
                if (*v598 >= v547)
                {
                  v548 = 2 * v547;
                  v194 = v547 == 0;
                  v549 = 32;
                  if (!v194)
                  {
                    v549 = v548;
                  }

                  if (v549 <= v546)
                  {
                    v550 = v546 + 1;
                  }

                  else
                  {
                    v550 = v549;
                  }

                  if (v550)
                  {
                    v551 = malloc_type_realloc(*(v598 + 8), 8 * v550, 0x100004000313F17uLL);
                    v545 = v598;
                    *(v598 + 8) = v551;
                    v546 = *v598;
                  }

                  v545[2] = v550;
                }

                *v545 = v546 + 1;
                *(v545[1] + 8 * v546) = v470;
                v533 = v607;
              }
            }

            if (v472 != 1)
            {
              v552 = 0;
              v553 = 1;
              do
              {
                v554 = v553 + 1;
                v555 = *(&v615[-1] + (v552 >> 30));
                v556 = v615[v553 - 1];
                if (v555 < v556)
                {
                  v557 = v554;
                  if (v510 == v553)
                  {
                    v557 = 0;
                  }

                  v558 = v615[v557 - 1];
                  if (v556 > v558 && v556 >= (v516 * *(v8 + 44)))
                  {
                    v559 = ((v555 - v558) / (((v555 + v558) + (v556 * -2.0)) + ((v555 + v558) + (v556 * -2.0)))) + v553;
                    v560 = v559 + v531;
                    if (v559 >= 0.0)
                    {
                      v560 = v559;
                    }

                    if (v559 >= v531)
                    {
                      v561 = v559 - v531;
                    }

                    else
                    {
                      v561 = v560;
                    }

                    v562 = *v533;
                    v563 = *(v533 + 16);
                    if (*v533 >= v563)
                    {
                      v564 = 2 * v563;
                      if (v564 <= v562)
                      {
                        v565 = v562 + 1;
                      }

                      else
                      {
                        v565 = v564;
                      }

                      if (v565)
                      {
                        v566 = malloc_type_realloc(*(v533 + 8), 288 * v565, 0x1000040A8CFB95EuLL);
                        v533 = v607;
                        *(v607 + 8) = v566;
                        v562 = *v607;
                      }

                      *(v533 + 16) = v565;
                    }

                    *v533 = v562 + 1;
                    v567 = *(v533 + 8) + 288 * v562;
                    *v567 = v611;
                    v568 = 360.0 - v561 * 360.0 / v602;
                    *(v567 + 8) = v606;
                    *(v567 + 12) = v568;
                    memcpy((v567 + 16), __src, 0x110uLL);
                    v569 = v598;
                    v570 = *v598;
                    v571 = *(v598 + 16);
                    if (*v598 >= v571)
                    {
                      v572 = 2 * v571;
                      v194 = v571 == 0;
                      v573 = 32;
                      if (!v194)
                      {
                        v573 = v572;
                      }

                      if (v573 <= v570)
                      {
                        v574 = v570 + 1;
                      }

                      else
                      {
                        v574 = v573;
                      }

                      if (v574)
                      {
                        v575 = malloc_type_realloc(*(v598 + 8), 8 * v574, 0x100004000313F17uLL);
                        v569 = v598;
                        *(v598 + 8) = v575;
                        v570 = *v598;
                      }

                      v569[2] = v574;
                    }

                    *v569 = v570 + 1;
                    *(v569[1] + 8 * v570) = v470;
                    v533 = v607;
                  }
                }

                v552 += 0x100000000;
                v553 = v554;
              }

              while (v472 != v554);
            }
          }

          v20 = 4.0;
          v21 = 6.0;
        }
      }

LABEL_15:
      free(ptr);
      v17 = v593 + 1;
      v14 = v586;
      v19 = 0.000015319;
      if (*v586 <= v593 + 1)
      {
        goto LABEL_575;
      }
    }

    v26 = 0;
    v589 = 0;
    ptr = 0;
    v27 = 0;
    v28 = floorf((((*(v8 + 16) * v18) / v25) * 255.0) * 256.0);
    v29 = v17;
    v30 = *(v8 + 28);
    while (1)
    {
      v31 = *(v24 + 32) + 24 * v26++;
      v32 = *(v31 + 36);
      if (v30 < v32 - v30)
      {
        break;
      }

LABEL_19:
      if (v26 >= v25)
      {
        goto LABEL_133;
      }
    }

    v33 = v30;
    v34 = *(v31 + 32);
LABEL_23:
    while (v30 >= v34 - v30)
    {
      if (++v33 >= v32 - v30)
      {
LABEL_18:
        v25 = *(v8 + 4);
        goto LABEL_19;
      }
    }

    v35 = v33 - 1;
    v36 = v33 + 1;
    v37 = v30;
    while (1)
    {
      v38 = *(v31 + 24);
      v39 = *(v31 + 40);
      v40 = v38 + 2 * v39 * v33;
      v41 = *(v40 + 2 * v37);
      v42 = v41;
      v43 = fabsf(v41 + -32768.0);
      if (v43 >= v28)
      {
        if (v41 <= 0x8000)
        {
          if ((v41 & 0x8000) == 0)
          {
            v84 = *v31;
            v85 = v37 - 1;
            v86 = *(v31 + 16);
            v87 = *v31 + 2 * v86 * v35;
            LOWORD(v43) = *(v87 + 2 * (v37 - 1));
            v88 = LODWORD(v43);
            if (v42 < v88)
            {
              LOWORD(v88) = *(v87 + 2 * v37);
              v89 = LODWORD(v88);
              if (v42 < v89)
              {
                v90 = v37 + 1;
                LOWORD(v89) = *(v87 + 2 * (v37 + 1));
                v91 = LODWORD(v89);
                if (v42 < v91)
                {
                  v92 = v84 + 2 * v86 * v33;
                  LOWORD(v91) = *(v92 + 2 * v85);
                  v93 = LODWORD(v91);
                  if (v42 < v93)
                  {
                    LOWORD(v93) = *(v92 + 2 * v37);
                    v94 = LODWORD(v93);
                    if (v42 < v94)
                    {
                      LOWORD(v94) = *(v92 + 2 * v90);
                      v95 = LODWORD(v94);
                      if (v42 < v95)
                      {
                        v96 = v84 + 2 * v86 * v36;
                        LOWORD(v95) = *(v96 + 2 * v85);
                        v97 = LODWORD(v95);
                        if (v42 < v97)
                        {
                          LOWORD(v97) = *(v96 + 2 * v37);
                          v98 = LODWORD(v97);
                          if (v42 < v98)
                          {
                            LOWORD(v98) = *(v96 + 2 * v90);
                            v99 = LODWORD(v98);
                            if (v42 < v99)
                            {
                              v100 = v38 + 2 * v39 * v35;
                              LOWORD(v99) = *(v100 + 2 * v85);
                              v101 = LODWORD(v99);
                              if (v42 < v101)
                              {
                                LOWORD(v101) = *(v100 + 2 * v37);
                                v102 = LODWORD(v101);
                                if (v42 < v102)
                                {
                                  LOWORD(v102) = *(v100 + 2 * v90);
                                  v103 = LODWORD(v102);
                                  if (v42 < v103)
                                  {
                                    LOWORD(v103) = *(v40 + 2 * v85);
                                    v104 = LODWORD(v103);
                                    if (v42 < v104)
                                    {
                                      LOWORD(v104) = *(v40 + 2 * v90);
                                      v105 = LODWORD(v104);
                                      if (v42 < v105)
                                      {
                                        v106 = v38 + 2 * v39 * v36;
                                        LOWORD(v105) = *(v106 + 2 * v85);
                                        v107 = LODWORD(v105);
                                        if (v42 < v107)
                                        {
                                          LOWORD(v107) = *(v106 + 2 * v37);
                                          v108 = LODWORD(v107);
                                          if (v42 < v108)
                                          {
                                            LOWORD(v108) = *(v106 + 2 * v90);
                                            v109 = LODWORD(v108);
                                            if (v42 < v109)
                                            {
                                              v110 = *(v31 + 48);
                                              v111 = *(v31 + 64);
                                              v112 = v110 + 2 * v111 * v35;
                                              LOWORD(v109) = *(v112 + 2 * v85);
                                              v113 = LODWORD(v109);
                                              if (v42 < v113)
                                              {
                                                LOWORD(v113) = *(v112 + 2 * v37);
                                                v114 = LODWORD(v113);
                                                if (v42 < v114)
                                                {
                                                  LOWORD(v114) = *(v112 + 2 * v90);
                                                  v115 = LODWORD(v114);
                                                  if (v42 < v115)
                                                  {
                                                    v116 = v110 + 2 * v111 * v33;
                                                    LOWORD(v115) = *(v116 + 2 * v85);
                                                    v117 = LODWORD(v115);
                                                    if (v42 < v117)
                                                    {
                                                      LOWORD(v117) = *(v116 + 2 * v37);
                                                      v118 = LODWORD(v117);
                                                      if (v42 < v118)
                                                      {
                                                        LOWORD(v118) = *(v116 + 2 * v90);
                                                        v119 = LODWORD(v118);
                                                        if (v42 < v119)
                                                        {
                                                          v120 = v110 + 2 * v111 * v36;
                                                          LOWORD(v119) = *(v120 + 2 * v85);
                                                          v121 = LODWORD(v119);
                                                          if (v42 < v121)
                                                          {
                                                            LOWORD(v121) = *(v120 + 2 * v37);
                                                            v122 = LODWORD(v121);
                                                            if (v42 < v122)
                                                            {
                                                              LOWORD(v122) = *(v120 + 2 * v90);
                                                              v83 = LODWORD(v122);
                                                              if (v42 < v83)
                                                              {
LABEL_86:
                                                                v587 = v29;
                                                                v123 = *(v24 + 32);
                                                                v124 = 4;
                                                                v125 = v37;
                                                                v126 = v33;
                                                                v127 = v26;
                                                                v599 = v27;
                                                                v590 = v26;
                                                                while (1)
                                                                {
                                                                  v603 = v126;
                                                                  v608 = v125;
                                                                  v595 = v127;
                                                                  v128 = v123 + 24 * v127;
                                                                  v129 = v125 - 1;
                                                                  v130 = *(v128 - 24);
                                                                  v131 = *(v128 - 8);
                                                                  v133 = *(v128 + 16);
                                                                  v132 = *(v128 + 24);
                                                                  v134 = *(v128 + 40);
                                                                  v135 = v126 - 1;
                                                                  v136 = *v128 + 2 * v133 * v135;
                                                                  v137 = v130 + 2 * v131 * v135;
                                                                  v138 = v134 * v135;
                                                                  v139 = *(v136 + 2 * v129);
                                                                  v140 = *(v136 + 2 * v608);
                                                                  LOWORD(v83) = *(v137 + 2 * v608);
                                                                  v141 = LODWORD(v83);
                                                                  LOWORD(v83) = *(v132 + 2 * v138 + 2 * v608);
                                                                  v142 = LODWORD(v83);
                                                                  v143 = *(v136 + 2 * (v608 + 1));
                                                                  v144 = *v128 + 2 * v133 * v126;
                                                                  v145 = v130 + 2 * v131 * v126;
                                                                  v146 = v132 + 2 * v134 * v126;
                                                                  LOWORD(v83) = *(v144 + 2 * v129);
                                                                  v147 = LODWORD(v83);
                                                                  LOWORD(v29) = *(v145 + 2 * v129);
                                                                  v148 = LODWORD(v29);
                                                                  LOWORD(v29) = *(v146 + 2 * v129);
                                                                  v149 = *(v144 + 2 * v608);
                                                                  v150 = *(v145 + 2 * v608);
                                                                  v151 = *(v146 + 2 * v608);
                                                                  LOWORD(v4) = *(v144 + 2 * (v608 + 1));
                                                                  *&v4 = LODWORD(v4);
                                                                  LOWORD(v5) = *(v145 + 2 * (v608 + 1));
                                                                  v152 = LODWORD(v5);
                                                                  LOWORD(v5) = *(v146 + 2 * (v608 + 1));
                                                                  v153 = v603 + 1;
                                                                  v154 = *v128 + 2 * v133 * v153;
                                                                  v155 = v130 + 2 * v131 * v153;
                                                                  v156 = *(v154 + 2 * v129);
                                                                  v157 = *(v154 + 2 * v608);
                                                                  LOWORD(v6) = *(v155 + 2 * v608);
                                                                  v158 = LODWORD(v6);
                                                                  LOWORD(v6) = *(v132 + 2 * v134 * v153 + 2 * v608);
                                                                  v159 = LODWORD(v6);
                                                                  v160 = *(v154 + 2 * (v608 + 1));
                                                                  v6 = ((v147 + *&v4) + (v149 * -2.0)) * v19;
                                                                  v161 = ((((v160 - v156) - v143) + v139) * 0.25) * v19;
                                                                  v162 = ((((LODWORD(v5) - LODWORD(v29)) - v152) + v148) * 0.25) * v19;
                                                                  v163 = ((v140 + v157) + (v149 * -2.0)) * v19;
                                                                  v164 = ((((v159 - v142) - v158) + v141) * 0.25) * v19;
                                                                  v165 = v19;
                                                                  v166 = ((v150 + v151) + (v149 * -2.0)) * v19;
                                                                  v167 = (v166 * v163) - (v164 * v164);
                                                                  v168 = (v164 * v161) - (v163 * v162);
                                                                  v169 = ((v6 * v167) - (((v166 * v161) - (v164 * v162)) * v161)) + (v162 * v168);
                                                                  v170 = 0.0;
                                                                  v171 = 0.0;
                                                                  v172 = 0.0;
                                                                  v173 = 0.0;
                                                                  v174 = 0.0;
                                                                  v175 = 0.0;
                                                                  v176 = 0.0;
                                                                  v177 = 0.0;
                                                                  v178 = 0.0;
                                                                  if (v169 != 0.0)
                                                                  {
                                                                    v170 = v167 * (1.0 / v169);
                                                                    v171 = (1.0 / v169) * -((v166 * v161) - (v164 * v162));
                                                                    v172 = v168 * (1.0 / v169);
                                                                    v173 = -(((v166 * v161) - (v162 * v164)) * (1.0 / v169));
                                                                    v174 = ((v166 * v6) - (v162 * v162)) * (1.0 / v169);
                                                                    v175 = -(((v164 * v6) - (v161 * v162)) * (1.0 / v169));
                                                                    v176 = ((v164 * v161) - (v162 * v163)) * (1.0 / v169);
                                                                    v177 = -(((v164 * v6) - (v162 * v161)) * (1.0 / v169));
                                                                    v178 = ((v163 * v6) - (v161 * v161)) * (1.0 / v169);
                                                                  }

                                                                  v179 = ((*&v4 - v147) * v18) * v165;
                                                                  v180 = ((v157 - v140) * v18) * v165;
                                                                  v181 = ((v151 - v150) * v18) * v165;
                                                                  v182 = (((v170 * v179) + 0.0) + (v171 * v180)) + (v172 * v181);
                                                                  v183 = (((v173 * v179) + 0.0) + (v174 * v180)) + (v175 * v181);
                                                                  v184 = (((v176 * v179) + 0.0) + (v177 * v180)) + (v178 * v181);
                                                                  v29 = -v182;
                                                                  v83 = -v183;
                                                                  v185 = -v184;
                                                                  v186 = fabsf(v183);
                                                                  v187 = fabsf(v184);
                                                                  v188 = fabsf(v182) < v18 && v186 < v18;
                                                                  v189 = v188 && v187 < v18;
                                                                  v19 = v165;
                                                                  if (v189)
                                                                  {
                                                                    break;
                                                                  }

                                                                  if (v182 >= 0.0)
                                                                  {
                                                                    v5 = -0.5;
                                                                  }

                                                                  else
                                                                  {
                                                                    v5 = 0.5;
                                                                  }

                                                                  if (v183 >= 0.0)
                                                                  {
                                                                    v4 = -0.5;
                                                                  }

                                                                  else
                                                                  {
                                                                    v4 = 0.5;
                                                                  }

                                                                  v190 = v185;
                                                                  if (v184 >= 0.0)
                                                                  {
                                                                    v191 = -0.5;
                                                                  }

                                                                  else
                                                                  {
                                                                    v191 = 0.5;
                                                                  }

                                                                  v127 = (v595 + (v191 + v190));
                                                                  v21 = 6.0;
                                                                  v27 = v599;
                                                                  if (v127 < 1)
                                                                  {
                                                                    v24 = v594;
                                                                    v20 = 4.0;
                                                                    v26 = v590;
LABEL_28:
                                                                    v29 = v587;
                                                                    goto LABEL_29;
                                                                  }

                                                                  v125 = v608 + (v5 + v29);
                                                                  v192 = v127 > *(v8 + 4) || v125 < v30;
                                                                  v24 = v594;
                                                                  v20 = 4.0;
                                                                  v26 = v590;
                                                                  if (!v192)
                                                                  {
                                                                    v126 = v603 + (v4 + v83);
                                                                    if (v125 < *(v128 + 8) - v30 && v126 >= v30)
                                                                    {
                                                                      v194 = v126 >= *(v128 + 12) - v30 || v124-- == 0;
                                                                      if (!v194)
                                                                      {
                                                                        continue;
                                                                      }
                                                                    }
                                                                  }

                                                                  goto LABEL_28;
                                                                }

                                                                v195 = v165;
                                                                v196 = v144 + 2 * v608;
                                                                v197 = *(v196 + 2);
                                                                v198 = *(v196 - 2);
                                                                *&v4 = (v197 - v198) * 0.0000076593;
                                                                *&v5 = (v151 - v150) * 0.0000076593;
                                                                v199 = *(v8 + 4);
                                                                if (v199 * fabsf(((((((v157 - v140) * 0.0000076593) * v83) + (*&v4 * v29)) + (*&v5 * v185)) * v18) + ((v149 - 0x8000) * 0.000015319)) < *(v8 + 16) || (v200 = (v197 - 2 * v149 + v198) * 0.000015319, v201 = (v140 - 2 * v149 + v157) * 0.000015319, *&v4 = vcvts_n_f32_s32(v139 - (v143 + v156) + v160, 2uLL), v202 = (v200 * v201) - ((*&v4 * 0.000015319) * (*&v4 * 0.000015319)), v202 <= 0.0) || (((v201 + v200) * (v201 + v200)) * *(v8 + 20)) >= (v202 * ((*(v8 + 20) + 1) * (*(v8 + 20) + 1))))
                                                                {
                                                                  v18 = 0.5;
                                                                  v20 = 4.0;
                                                                  v21 = 6.0;
                                                                  v22 = -23.0;
                                                                  v23 = 1.0;
                                                                  v24 = v594;
                                                                  v27 = v599;
                                                                }

                                                                else
                                                                {
                                                                  v203 = v183;
                                                                  v204 = *v8;
                                                                  v205 = exp2f(((v595 - v184) / v199) + v587);
                                                                  memset(__src, 0, 276);
                                                                  if (v599 >= v589)
                                                                  {
                                                                    v206 = 2 * v589;
                                                                    if (2 * v589 <= v599)
                                                                    {
                                                                      v206 = v599 + 1;
                                                                    }

                                                                    v589 = v206;
                                                                    if (v206)
                                                                    {
                                                                      ptr = malloc_type_realloc(ptr, 304 * v206, 0x1000040FDACBBE0uLL);
                                                                    }

                                                                    else
                                                                    {
                                                                      v589 = 0;
                                                                    }
                                                                  }

                                                                  v207 = &ptr[76 * v599];
                                                                  *v207 = v608;
                                                                  *(v207 + 1) = v603;
                                                                  *(v207 + 2) = v608 - v182;
                                                                  *(v207 + 3) = v603 - v203;
                                                                  *(v207 + 4) = (v205 * v204) + (v205 * v204);
                                                                  memcpy(v207 + 20, __src, 0x114uLL);
                                                                  *(v207 + 37) = v593 + (v595 << 32);
                                                                  v27 = v599 + 1;
                                                                  v18 = 0.5;
                                                                  v19 = v195;
                                                                  v20 = 4.0;
                                                                  v21 = 6.0;
                                                                  v22 = -23.0;
                                                                  v23 = 1.0;
                                                                  v24 = v594;
                                                                }

                                                                v26 = v590;
                                                                v29 = v587;
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }

        else
        {
          v44 = *v31;
          v45 = v37 - 1;
          v46 = *(v31 + 16);
          v47 = *v31 + 2 * v46 * v35;
          LOWORD(v43) = *(v47 + 2 * (v37 - 1));
          v48 = LODWORD(v43);
          if (v42 > v48)
          {
            LOWORD(v48) = *(v47 + 2 * v37);
            v49 = LODWORD(v48);
            if (v42 > v49)
            {
              v50 = v37 + 1;
              LOWORD(v49) = *(v47 + 2 * (v37 + 1));
              v51 = LODWORD(v49);
              if (v42 > v51)
              {
                v52 = v44 + 2 * v46 * v33;
                LOWORD(v51) = *(v52 + 2 * v45);
                v53 = LODWORD(v51);
                if (v42 > v53)
                {
                  LOWORD(v53) = *(v52 + 2 * v37);
                  v54 = LODWORD(v53);
                  if (v42 > v54)
                  {
                    LOWORD(v54) = *(v52 + 2 * v50);
                    v55 = LODWORD(v54);
                    if (v42 > v55)
                    {
                      v56 = v44 + 2 * v46 * v36;
                      LOWORD(v55) = *(v56 + 2 * v45);
                      v57 = LODWORD(v55);
                      if (v42 > v57)
                      {
                        LOWORD(v57) = *(v56 + 2 * v37);
                        v58 = LODWORD(v57);
                        if (v42 > v58)
                        {
                          LOWORD(v58) = *(v56 + 2 * v50);
                          v59 = LODWORD(v58);
                          if (v42 > v59)
                          {
                            v60 = v38 + 2 * v39 * v35;
                            LOWORD(v59) = *(v60 + 2 * v45);
                            v61 = LODWORD(v59);
                            if (v42 > v61)
                            {
                              LOWORD(v61) = *(v60 + 2 * v37);
                              v62 = LODWORD(v61);
                              if (v42 > v62)
                              {
                                LOWORD(v62) = *(v60 + 2 * v50);
                                v63 = LODWORD(v62);
                                if (v42 > v63)
                                {
                                  LOWORD(v63) = *(v40 + 2 * v45);
                                  v64 = LODWORD(v63);
                                  if (v42 > v64)
                                  {
                                    LOWORD(v64) = *(v40 + 2 * v50);
                                    v65 = LODWORD(v64);
                                    if (v42 > v65)
                                    {
                                      v66 = v38 + 2 * v39 * v36;
                                      LOWORD(v65) = *(v66 + 2 * v45);
                                      v67 = LODWORD(v65);
                                      if (v42 > v67)
                                      {
                                        LOWORD(v67) = *(v66 + 2 * v37);
                                        v68 = LODWORD(v67);
                                        if (v42 > v68)
                                        {
                                          LOWORD(v68) = *(v66 + 2 * v50);
                                          v69 = LODWORD(v68);
                                          if (v42 > v69)
                                          {
                                            v70 = *(v31 + 48);
                                            v71 = *(v31 + 64);
                                            v72 = v70 + 2 * v71 * v35;
                                            LOWORD(v69) = *(v72 + 2 * v45);
                                            v73 = LODWORD(v69);
                                            if (v42 > v73)
                                            {
                                              LOWORD(v73) = *(v72 + 2 * v37);
                                              v74 = LODWORD(v73);
                                              if (v42 > v74)
                                              {
                                                LOWORD(v74) = *(v72 + 2 * v50);
                                                v75 = LODWORD(v74);
                                                if (v42 > v75)
                                                {
                                                  v76 = v70 + 2 * v71 * v33;
                                                  LOWORD(v75) = *(v76 + 2 * v45);
                                                  v77 = LODWORD(v75);
                                                  if (v42 > v77)
                                                  {
                                                    LOWORD(v77) = *(v76 + 2 * v37);
                                                    v78 = LODWORD(v77);
                                                    if (v42 > v78)
                                                    {
                                                      LOWORD(v78) = *(v76 + 2 * v50);
                                                      v79 = LODWORD(v78);
                                                      if (v42 > v79)
                                                      {
                                                        v80 = v70 + 2 * v71 * v36;
                                                        LOWORD(v79) = *(v80 + 2 * v45);
                                                        v81 = LODWORD(v79);
                                                        if (v42 > v81)
                                                        {
                                                          LOWORD(v81) = *(v80 + 2 * v37);
                                                          v82 = LODWORD(v81);
                                                          if (v42 > v82)
                                                          {
                                                            LOWORD(v82) = *(v80 + 2 * v50);
                                                            v83 = LODWORD(v82);
                                                            if (v42 > v83)
                                                            {
                                                              goto LABEL_86;
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }

LABEL_29:
      ++v37;
      v34 = *(v31 + 32);
      v30 = *(v8 + 28);
      if (v37 >= v34 - v30)
      {
        v32 = *(v31 + 36);
        ++v33;
        if (v36 >= v32 - v30)
        {
          goto LABEL_18;
        }

        goto LABEL_23;
      }
    }
  }

LABEL_575:
  v576 = *v607;
  if (*v607 >= *v598)
  {
    v576 = *v598;
  }

  if (v576 >= 1)
  {
    v577 = *(v607 + 8);
    v578 = *(v598 + 8);
    do
    {
      v579 = *v578;
      v578 += 2;
      *v577 = vmul_n_f32(*v577, (1 << v579));
      v577 += 36;
      --v576;
    }

    while (v576);
  }
}

void vl_dog_free_octave_list(uint64_t *a1)
{
  if (*a1 >= 1)
  {
    v1 = 0;
    v18 = a1;
    do
    {
      v19 = v1;
      v2 = a1[1] + 72 * v1;
      if (*v2 >= 1)
      {
        v3 = 0;
        v4 = 0;
        do
        {
          v6 = *(v2 + 8);
          v7 = *(v6 + v3);
          if (v7)
          {
            v8 = *(v7 - 16 * *(v6 + v3 + 16) - 8);
            v9 = atomic_fetch_add((v8 + 24), 0xFFFFFFFF) - 1;
            if (v9 < 0)
            {
LABEL_23:
              __assert_rtn("pmem_free", "pmem.c", 302, "count >= 0 && Negative count! Something is broken, double free? Memory corruption?");
            }

            if (v9)
            {
              atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_or(&global_stats[2], 0);
              atomic_fetch_or(global_stats, 0);
              atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_or(&_pmem_total_blocks, 0);
              atomic_fetch_or(&pmem_bytes_allocated, 0);
            }

            else
            {
              v5 = -*(v8 + 8);
              atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(&global_stats[2], 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(global_stats, v5);
              atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(&_pmem_total_blocks, 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(&pmem_bytes_allocated, v5);
              (*(v8 + 40))(v8);
              free(v8);
            }
          }

          *(v6 + v3) = 0;
          ++v4;
          v3 += 24;
        }

        while (v4 < *v2);
      }

      free(*(v2 + 8));
      if (*(v2 + 24) >= 1)
      {
        v10 = 0;
        for (i = 0; i < *(v2 + 24); ++i)
        {
          v13 = *(v2 + 32);
          v14 = *(v13 + v10);
          if (v14)
          {
            v15 = *(v14 - 16 * *(v13 + v10 + 16) - 8);
            v16 = atomic_fetch_add((v15 + 24), 0xFFFFFFFF) - 1;
            if (v16 < 0)
            {
              goto LABEL_23;
            }

            if (v16)
            {
              atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_or(&global_stats[2], 0);
              atomic_fetch_or(global_stats, 0);
              atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_or(&_pmem_total_blocks, 0);
              atomic_fetch_or(&pmem_bytes_allocated, 0);
            }

            else
            {
              v12 = -*(v15 + 8);
              atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(&global_stats[2], 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(global_stats, v12);
              atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(&_pmem_total_blocks, 0xFFFFFFFFFFFFFFFFLL);
              atomic_fetch_add(&pmem_bytes_allocated, v12);
              (*(v15 + 40))(v15);
              free(v15);
            }
          }

          *(v13 + v10) = 0;
          v10 += 24;
        }
      }

      free(*(v2 + 32));
      free(*(v2 + 56));
      a1 = v18;
      v1 = v19 + 1;
    }

    while (v19 + 1 < *v18);
  }

  v17 = a1[1];

  free(v17);
}

void vl_dog_calculate_keypoints(uint64_t a1, unsigned int *a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  *a4 = 0;
  if (a6)
  {
    if (*(a6 + 212))
    {
      *(a6 + 120) -= mach_absolute_time();
    }

    else
    {
      clock_gettime(_CLOCK_THREAD_CPUTIME_ID, (a6 + 32));
      clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, (a6 + 16));
      clock_gettime(_CLOCK_MONOTONIC, a6);
    }

    vl_dog_create_octave_list_pwin(a1, a2, a3);
    vl_timer_stop(a6);
    if (*(a6 + 212))
    {
      printf("Verbose : ");
      printf("Total time for %40s : %7.3f ms", (a6 + 148), *(a6 + 120) * 0.000001);
      putchar(10);
      if (a7)
      {
        goto LABEL_9;
      }
    }

    else
    {
      log_col_app("%s%s%s:%s%7.1fms%s", v12, v13, v14, v15, v16, v17, v18, &str_4_1);
      if (a7)
      {
        goto LABEL_9;
      }
    }
  }

  else
  {
    vl_dog_create_octave_list_pwin(a1, a2, a3);
    if (a7)
    {
LABEL_9:
      if (*(a7 + 212))
      {
        *(a7 + 120) -= mach_absolute_time();
      }

      else
      {
        clock_gettime(_CLOCK_THREAD_CPUTIME_ID, (a7 + 32));
        clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, (a7 + 16));
        clock_gettime(_CLOCK_MONOTONIC, a7);
      }

      vl_dog_extract_keypoints_pwin(a3);
      vl_timer_stop(a7);
      if (*(a7 + 212))
      {
        printf("Verbose : ");
        printf("Total time for %40s : %7.3f ms", (a7 + 148), *(a7 + 120) * 0.000001);

        putchar(10);
      }

      else
      {
        log_col_app("%s%s%s:%s%7.1fms%s", v19, v20, v21, v22, v23, v24, v25, &str_4_1);
      }

      return;
    }
  }

  vl_dog_extract_keypoints_pwin(a3);
}

uint64_t vl_timer_stop(uint64_t a1)
{
  if (*(a1 + 212))
  {
    result = mach_absolute_time();
    *(a1 + 120) += result;
  }

  else
  {
    clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, (a1 + 64));
    clock_gettime(_CLOCK_THREAD_CPUTIME_ID, (a1 + 80));
    result = clock_gettime(_CLOCK_MONOTONIC, (a1 + 48));
    v3 = *(a1 + 56) - *(a1 + 8) + 1000000000 * (*(a1 + 48) - *a1);
    v4 = *(a1 + 72) - *(a1 + 24) + 1000000000 * (*(a1 + 64) - *(a1 + 16));
    v5 = *(a1 + 88) - *(a1 + 40) + 1000000000 * (*(a1 + 80) - *(a1 + 32));
    v6 = *(a1 + 128);
    v7 = v3 + *(a1 + 120);
    *(a1 + 96) = v3;
    *(a1 + 104) = v4;
    v8 = v4 + v6;
    *(a1 + 112) = v5;
    *(a1 + 120) = v7;
    v9 = v5 + *(a1 + 136);
    *(a1 + 128) = v8;
    *(a1 + 136) = v9;
    ++*(a1 + 144);
  }

  return result;
}

void create_initial_image(uint64_t a1, uint64_t *a2, float a3)
{
  v5 = *(a1 + 8);
  v6 = *(a1 + 12);
  count = v5;
  v7 = 2 * v5;
  v377 = pmem_alloc_ex(v7 * (v6 + 16), 0, 0);
  if (v5 != *(a1 + 8))
  {
    __assert_rtn("create_initial_image", "vl_dog.c", 555, "(&img_input)->x_size == (img)->x_size");
  }

  if (v6 != *(a1 + 12))
  {
    __assert_rtn("create_initial_image", "vl_dog.c", 555, "(&img_input)->y_size == (img)->y_size");
  }

  v379 = 16 * v5;
  v423 = v377 + v379;
  if (v6 >= 1 && v5 >= 1)
  {
    v8 = 0;
    v9 = *a1;
    v10 = *(a1 + 16) - v5;
    v11 = v5 & 0x7FFFFFE0;
    v12 = (v377 + 16 * v5);
    do
    {
      if (v5 >= 0x20 && (v12 >= (v9 + v5) || v9 >= &v12->i16[(v5 - 1) + 1]))
      {
        v14 = (v9 + v11);
        v15 = (v12 + 2 * (v5 & 0x7FFFFFE0));
        v18 = v12 + 2;
        v19 = v9 + 2;
        v20 = v5 & 0x7FFFFFE0;
        do
        {
          _Q0 = *v19[-2].i8;
          _Q1 = *v19->i8;
          v23 = vshll_n_s8(*_Q0.i8, 8uLL);
          __asm { SHLL2           V0.8H, V0.16B, #8 }

          v27 = vshll_n_s8(*v19, 8uLL);
          __asm { SHLL2           V1.8H, V1.16B, #8 }

          v18[-2] = v23;
          v18[-1] = _Q0;
          *v18 = v27;
          v18[1] = _Q1;
          v18 += 4;
          v19 += 4;
          v20 -= 32;
        }

        while (v20);
        v13 = v5 & 0x7FFFFFE0;
        if (v11 == v5)
        {
          goto LABEL_6;
        }
      }

      else
      {
        v13 = 0;
        v14 = v9;
        v15 = v12;
      }

      v16 = v5 - v13;
      do
      {
        v17 = v14->u8[0];
        v14 = (v14 + 1);
        v15->i16[0] = v17 << 8;
        v15 = (v15 + 2);
        --v16;
      }

      while (v16);
LABEL_6:
      v9 = (v14 + v10);
      ++v8;
      v12 = v15;
    }

    while (v8 != v6);
  }

  v28 = malloc_type_calloc(v5, 2uLL, 0x1000040BDFB0063uLL);
  v29 = (a3 * 6.0) + 1.0;
  v30 = v29;
  v73 = v29 <= 0.0;
  v31 = -0.5;
  if (!v73)
  {
    v31 = 0.5;
  }

  v32 = (v31 + v30);
  v394 = v32 | 1;
  v33 = malloc_type_calloc(v394, 4uLL, 0x100004052888210uLL);
  v36 = v32;
  v37 = v33;
  v393 = v32;
  if ((v32 & 0x80000000) == 0)
  {
    v38 = v32 >> 1;
    v39 = -0.5 / (a3 * a3);
    if (v36 >= 8)
    {
      v40 = v394 & 0x7FFFFFF8;
      v381 = vdupq_n_s32(v38);
      v41 = xmmword_271103920;
      v42 = v33 + 1;
      LODWORD(v35) = 0;
      v43 = v40;
      do
      {
        v418 = *&v35;
        v391 = v41;
        v44 = vsubq_s32(v41, v381);
        v45.i64[0] = 0x400000004;
        v45.i64[1] = 0x400000004;
        v46 = vaddq_s32(v44, v45);
        v47 = vcvtq_f32_s32(v44);
        v48 = vcvtq_f32_s32(v46);
        v403 = vmulq_f32(vmulq_n_f32(v47, v39), v47);
        v408 = vmulq_f32(vmulq_n_f32(v48, v39), v48);
        v399 = expf(v403.f32[1]);
        *&v49 = expf(v403.f32[0]);
        v389 = *&v49;
        v50 = v49;
        *(&v50 + 1) = v399;
        v413 = v50;
        LODWORD(v51) = expf(v403.f32[2]);
        v388 = v51;
        v52 = v413;
        DWORD2(v52) = v51;
        v414 = v52;
        v386 = expf(v403.f32[3]);
        v53 = v414;
        *(&v53 + 3) = v386;
        v415 = v53;
        v395 = expf(v408.f32[1]);
        *&v54 = expf(v408.f32[0]);
        v385 = *&v54;
        v55 = v54;
        *(&v55 + 1) = v395;
        v404 = v55;
        v383 = expf(v408.f32[2]);
        v56 = v404;
        *(&v56 + 2) = v383;
        v405 = v56;
        v57 = expf(v408.f32[3]);
        v58 = v405;
        *(&v58 + 3) = v57;
        *(v42 - 1) = v415;
        *v42 = v58;
        v39 = -0.5 / (a3 * a3);
        v35 = v388;
        *&v35 = (((((((v418 + v389) + v399) + *&v388) + v386) + v385) + v395) + v383) + v57;
        v59.i64[0] = 0x800000008;
        v59.i64[1] = 0x800000008;
        v41 = vaddq_s32(v391, v59);
        v42 += 2;
        v43 -= 8;
      }

      while (v43);
    }

    else
    {
      v40 = 0;
      *&v35 = 0;
    }

    v60 = v394 - v40;
    v61 = &v37->f32[v40];
    v62 = v40 - v38;
    do
    {
      v419 = v35;
      v63 = expf((v39 * v62) * v62);
      v39 = -0.5 / (a3 * a3);
      v35 = v419;
      *v61++ = v63;
      *&v35 = *&v419 + v63;
      ++v62;
      --v60;
    }

    while (v60);
    v36 = v393;
    if (v393 >= 8)
    {
      v65 = v394;
      v64 = v394 & 0x7FFFFFF8;
      v66 = vdupq_lane_s32(*&v35, 0);
      v67 = v37 + 1;
      v68 = v64;
      do
      {
        v34 = vdivq_f32(v67[-1], v66);
        v69 = vdivq_f32(*v67, v66);
        v67[-1] = v34;
        *v67 = v69;
        v67 += 2;
        v68 -= 8;
      }

      while (v68);
    }

    else
    {
      v64 = 0;
      v65 = v394;
    }

    v70 = v65 - v64;
    v71 = &v37->f32[v64];
    do
    {
      *v71 = *v71 / *&v35;
      ++v71;
      --v70;
    }

    while (v70);
  }

  v400 = v6;
  v72 = (v36 >> 1);
  v73 = v72 <= 0 || v5 <= 0;
  v74 = !v73;
  v382 = v74;
  if (v74 == 1)
  {
    v75 = 0;
    v406 = *a2;
    v401 = a2[2];
    v76 = v72 + 1;
    v77 = v72 + 1;
    v34.i32[0] = 0.5;
    v78 = (v36 >> 1);
    do
    {
      v79 = v76;
      v80 = v76 & 0xFFFFFFF8;
      v81 = v406 + 2 * v75 * v401;
      if (v72 + v75 >= 1)
      {
        v82 = 0;
        v83 = 4 * v76;
        v84 = (v37 + v83 + 32);
        v86 = v78 > 3 && v5 == 1;
        v87 = v37 + v83;
        v88 = v377 + 16 * v5;
        v89 = v379 + v377 + 2;
        v90 = v379 + v377 + 18;
        while (v79 >= 8)
        {
          v93 = 0.0;
          v94 = v80;
          v95 = v37 + 1;
          do
          {
            v96 = v95[-1];
            v93 = (((((((v93 + v96.f32[0]) + COERCE_FLOAT(HIDWORD(v95[-1].i64[0]))) + COERCE_FLOAT(v95[-1].i64[1])) + v96.f32[3]) + COERCE_FLOAT(*v95)) + COERCE_FLOAT(HIDWORD(v95->i64[0]))) + COERCE_FLOAT(v95->i64[1])) + COERCE_FLOAT(HIDWORD(*v95));
            v95 += 2;
            v94 -= 8;
          }

          while (v94);
          v92 = v80;
          if (v80 != v79)
          {
            goto LABEL_59;
          }

LABEL_61:
          v96.i16[0] = *(v423 + 2 * v82);
          v96.f32[0] = v96.u32[0];
          v100 = v93 * v96.f32[0];
          if (!v86)
          {
            v102 = 1;
            v103 = v79;
LABEL_72:
            v122 = v77 - v102;
            v123 = (v88 + v7 * v102);
            v124 = &v37->f32[v103];
            do
            {
              v96.i16[0] = *v123;
              v96.f32[0] = v96.u32[0];
              v125 = *v124++;
              v100 = v100 + (v96.f32[0] * v125);
              v123 = (v123 + v7);
              --v122;
            }

            while (v122);
            goto LABEL_50;
          }

          if (v78 >= 0x10)
          {
            v104 = v90;
            v105 = v84;
            v106 = v78 & 0xFFFFFFFFFFFFFFF0;
            do
            {
              v107 = v104[-1];
              v108 = vcvtq_f32_u32(vmovl_u16(*v107.i8));
              v109 = v105[-2];
              v110 = v105[-1];
              v111 = *v105;
              v112 = v105[1];
              v105 += 4;
              v96 = vmulq_f32(v110, vcvtq_f32_u32(vmovl_high_u16(v107)));
              v113 = vmulq_f32(v109, v108);
              v114 = vmulq_f32(v112, vcvtq_f32_u32(vmovl_high_u16(*v104)));
              v115 = vmulq_f32(v111, vcvtq_f32_u32(vmovl_u16(*v104->i8)));
              v100 = (((((((((((((((v100 + v113.f32[0]) + v113.f32[1]) + v113.f32[2]) + v113.f32[3]) + v96.f32[0]) + v96.f32[1]) + v96.f32[2]) + v96.f32[3]) + v115.f32[0]) + v115.f32[1]) + v115.f32[2]) + v115.f32[3]) + v114.f32[0]) + v114.f32[1]) + v114.f32[2]) + v114.f32[3];
              v104 += 2;
              v106 -= 16;
            }

            while (v106);
            if (v78 == (v78 & 0x7FFFFFFFFFFFFFF0))
            {
              goto LABEL_50;
            }

            v101 = v78 & 0x7FFFFFFFFFFFFFF0;
            v102 = v78 & 0x7FFFFFFFFFFFFFF0 | 1;
            v103 = (v78 & 0x7FFFFFFFFFFFFFF0) + v79;
            if ((v78 & 0xC) == 0)
            {
              goto LABEL_72;
            }
          }

          else
          {
            v101 = 0;
          }

          v116 = &v87[4 * v101];
          v117 = v101 - (v78 & 0xFFFFFFFFFFFFFFFCLL);
          v118 = (v89 + 2 * v101);
          do
          {
            v119 = *v118++;
            v120 = vcvtq_f32_u32(vmovl_u16(v119));
            v121 = *v116++;
            v96 = vmulq_f32(v121, v120);
            v100 = (((v100 + v96.f32[0]) + v96.f32[1]) + v96.f32[2]) + v96.f32[3];
            v117 += 4;
          }

          while (v117);
          v102 = v78 & 0x7FFFFFFFFFFFFFFCLL | 1;
          v103 = (v78 & 0x7FFFFFFFFFFFFFFCLL) + v79;
          if (v78 != (v78 & 0x7FFFFFFFFFFFFFFCLL))
          {
            goto LABEL_72;
          }

LABEL_50:
          if (v100 <= 0.0)
          {
            v91 = -0.5;
          }

          else
          {
            v91 = 0.5;
          }

          *(v81 + 2 * v82++) = (v100 + v91);
          v90 += 2;
          v89 += 2;
          v88 += 2;
          if (v82 == v5)
          {
            goto LABEL_41;
          }
        }

        v92 = 0;
        v93 = 0.0;
LABEL_59:
        v97 = &v37->f32[v92];
        v98 = v79 - v92;
        do
        {
          v99 = *v97++;
          v96.i16[1] = HIWORD(v99);
          v93 = v93 + v99;
          --v98;
        }

        while (v98);
        goto LABEL_61;
      }

      v126 = 0;
      do
      {
        if (v79 >= 8)
        {
          v130 = 0.0;
          v131 = v80;
          v132 = v37 + 1;
          do
          {
            v133 = v132[-1];
            v130 = (((((((v130 + v133.f32[0]) + COERCE_FLOAT(HIDWORD(v132[-1].i64[0]))) + COERCE_FLOAT(v132[-1].i64[1])) + v133.f32[3]) + COERCE_FLOAT(*v132)) + COERCE_FLOAT(HIDWORD(v132->i64[0]))) + COERCE_FLOAT(v132->i64[1])) + COERCE_FLOAT(HIDWORD(*v132));
            v132 += 2;
            v131 -= 8;
          }

          while (v131);
          v129 = v80;
          if (v80 == v79)
          {
            goto LABEL_76;
          }
        }

        else
        {
          v129 = 0;
          v130 = 0.0;
        }

        v134 = &v37->f32[v129];
        v135 = v79 - v129;
        do
        {
          v136 = *v134++;
          v133.i16[1] = HIWORD(v136);
          v130 = v130 + v136;
          --v135;
        }

        while (v135);
LABEL_76:
        v133.i16[0] = *(v423 + 2 * v126);
        v127 = v130 * v133.u32[0];
        if (v127 <= 0.0)
        {
          v128 = -0.5;
        }

        else
        {
          v128 = 0.5;
        }

        *(v81 + 2 * v126++) = (v127 + v128);
      }

      while (v126 != v5);
LABEL_41:
      ++v78;
      ++v75;
      v76 = v79 - 1;
      ++v77;
    }

    while (v75 != v72);
  }

  v137 = v5;
  v384 = v6 - v72;
  v138 = v393;
  v139 = v394;
  if (v5 >= 1 && v384 > v72)
  {
    v140 = 0;
    v141 = v72;
    v416 = a2[2];
    v142 = v6 - (v393 & 0xFFFFFFFE);
    v409 = *a2;
    v396 = *a2 + 2 * v72 * v416;
    v144 = v393 > 3 && v5 == 1;
    v145 = v394 & 0xC;
    v146 = v394 & 0xFFFFFFFC;
    v147 = v37 + 2;
    v148 = -v146;
    v149 = v72;
    v378 = v28;
    while (1)
    {
      v420 = v149;
      if (v149 - v141 <= v149 + v141)
      {
        break;
      }

      v150 = v141;
      v151 = v142;
      v152 = v72;
      v153 = v140;
      v154 = v145;
      bzero((v396 + 2 * v416 * v140), 2 * v5);
      v145 = v154;
      v146 = v394 & 0xFFFFFFFC;
      v140 = v153;
      v72 = v152;
      v28 = v378;
      v142 = v151;
      v147 = v37 + 2;
      v141 = v150;
      v148 = -v146;
      v139 = v394;
      v138 = v393;
      v137 = v5;
LABEL_98:
      v149 = v420 + 1;
      if (v142 == ++v140)
      {
        goto LABEL_118;
      }
    }

    v155 = 0;
    v156 = 2 * v140;
    v157 = v377 + v379 + v156;
    v158 = (v377 + v379 + 16 + v156);
    v159 = v377 + 16 * v5;
    while (1)
    {
      if (v144)
      {
        if (v138 >= 0x10)
        {
          v161 = 0.0;
          v164 = v394 & 0xFFFFFFF0;
          v165 = v147;
          v166 = v158;
          do
          {
            v167 = v166[-1];
            v168 = vcvtq_f32_u32(vmovl_u16(*v167.i8));
            v169 = v165[-2];
            v170 = v165[-1];
            v171 = *v165;
            v172 = v165[1];
            v165 += 4;
            v34 = vmulq_f32(v170, vcvtq_f32_u32(vmovl_high_u16(v167)));
            v173 = vmulq_f32(v169, v168);
            v174 = vmulq_f32(v172, vcvtq_f32_u32(vmovl_high_u16(*v166)));
            v175 = vmulq_f32(v171, vcvtq_f32_u32(vmovl_u16(*v166->i8)));
            v161 = (((((((((((((((v161 + v173.f32[0]) + v173.f32[1]) + v173.f32[2]) + v173.f32[3]) + v34.f32[0]) + v34.f32[1]) + v34.f32[2]) + v34.f32[3]) + v175.f32[0]) + v175.f32[1]) + v175.f32[2]) + v175.f32[3]) + v174.f32[0]) + v174.f32[1]) + v174.f32[2]) + v174.f32[3];
            v166 += 2;
            v164 -= 16;
          }

          while (v164);
          v160 = v394 & 0xFFFFFFF0;
          v163 = v140 + v160;
          v162 = v160;
          if (!v145)
          {
            goto LABEL_111;
          }
        }

        else
        {
          v160 = 0;
          v161 = 0.0;
        }

        v176 = (v157 + 2 * v160);
        v177 = v148 + v160;
        v178 = (v37 + 4 * v160);
        do
        {
          v179 = *v176++;
          v180 = vcvtq_f32_u32(vmovl_u16(v179));
          v181 = *v178++;
          v34 = vmulq_f32(v181, v180);
          v161 = (((v161 + v34.f32[0]) + v34.f32[1]) + v34.f32[2]) + v34.f32[3];
          v177 += 4;
        }

        while (v177);
        v163 = v140 + v146;
        v162 = v146;
      }

      else
      {
        v162 = 0;
        v161 = 0.0;
        v163 = v140;
      }

LABEL_111:
      v182 = (v159 + v7 * v163);
      v183 = &v37->f32[v162];
      v184 = v139 - v162;
      do
      {
        v34.i16[0] = *v182;
        v34.f32[0] = v34.u32[0];
        v185 = *v183++;
        v161 = v161 + (v34.f32[0] * v185);
        v182 = (v182 + v7);
        --v184;
      }

      while (v184);
      if (v161 <= 0.0)
      {
        v34.f32[0] = -0.5;
      }

      else
      {
        v34.f32[0] = 0.5;
      }

      *(v409 + 2 * v149 * v416 + 2 * v155++) = (v161 + v34.f32[0]);
      v158 = (v158 + 2);
      v157 += 2;
      v159 += 2;
      if (v155 == v5)
      {
        goto LABEL_98;
      }
    }
  }

LABEL_118:
  v186 = v400;
  if (v382)
  {
    v187 = 0;
    v188 = v423 + 2 * (v400 - 1) * v137;
    v189 = *a2;
    v190 = a2[2];
    v191 = v400 - 2;
    v192 = v384;
    v402 = 2 * v190;
    v392 = *a2 + 2 * v384 * v190;
    v193 = v400 - 1 - v72;
    v194 = v37 + 1;
    v195 = v191 + 1;
    v196 = v377 + (2 * v191 + 16) * v137;
    v197 = -2 * v137;
    v198 = 2;
    v417 = *a2;
    v410 = v190;
    v387 = v196;
    while (1)
    {
      v199 = v198;
      v200 = v198 & 0xFFFFFFF8;
      v201 = v192 - v72;
      v202 = v189 + 2 * v192 * v190;
      if ((v192 - v72) <= v191)
      {
        break;
      }

      if (v192 >= v193)
      {
        v203 = 0;
        while (v198 >= 8)
        {
          v206 = 0.0;
          v207 = v198 & 0xFFFFFFF8;
          v208 = v194;
          do
          {
            v209 = v208[-1];
            v206 = (((((((v206 + v209.f32[0]) + COERCE_FLOAT(HIDWORD(v208[-1].i64[0]))) + COERCE_FLOAT(v208[-1].i64[1])) + v209.f32[3]) + COERCE_FLOAT(*v208)) + COERCE_FLOAT(HIDWORD(v208->i64[0]))) + COERCE_FLOAT(v208->i64[1])) + COERCE_FLOAT(HIDWORD(*v208));
            v208 += 2;
            v207 -= 8;
          }

          while (v207);
          v205 = v198 & 0xFFFFFFF8;
          if (v205 != v198)
          {
            goto LABEL_134;
          }

LABEL_125:
          v209.i16[0] = *(v188 + 2 * v203);
          v204 = v206 * v209.u32[0];
          if (v204 <= 0.0)
          {
            v34.f32[0] = -0.5;
          }

          else
          {
            v34.f32[0] = 0.5;
          }

          *(v202 + 2 * v203++) = (v204 + v34.f32[0]);
          if (v203 == v5)
          {
            goto LABEL_121;
          }
        }

        v205 = 0;
        v206 = 0.0;
LABEL_134:
        v210 = &v37->f32[v205];
        v211 = v198 - v205;
        do
        {
          v212 = *v210++;
          v209.i16[1] = HIWORD(v212);
          v206 = v206 + v212;
          --v211;
        }

        while (v211);
        goto LABEL_125;
      }

      v421 = v187;
      bzero((v392 + v402 * v187), 2 * v5);
      v196 = v387;
      v194 = v37 + 1;
      v193 = v400 - 1 - v72;
      v191 = v400 - 2;
      v190 = v410;
      v189 = v417;
      v187 = v421;
      v137 = v5;
LABEL_121:
      ++v192;
      v198 = v199 + 1;
      ++v187;
      v186 = v400;
      if (v192 >= v400)
      {
        goto LABEL_161;
      }
    }

    if (v192 < v193)
    {
      v213 = 0;
      v214 = v196;
      do
      {
        v215 = 0.0;
        v216 = v37;
        v217 = v214;
        v218 = v195;
        do
        {
          v34.i16[0] = *v217;
          v34.f32[0] = v34.u32[0];
          v219 = *v216++;
          v215 = v215 + (v34.f32[0] * v219);
          --v218;
          v217 = (v217 + v197);
        }

        while (v218 > v201);
        if (v215 <= 0.0)
        {
          v34.f32[0] = -0.5;
        }

        else
        {
          v34.f32[0] = 0.5;
        }

        *(v202 + 2 * v213++) = (v215 + v34.f32[0]);
        ++v214;
      }

      while (v213 != v5);
      goto LABEL_121;
    }

    v220 = 0;
    v221 = v196;
    v222 = &v37->f32[v198];
    while (1)
    {
      if (v199 >= 8)
      {
        v224 = 0.0;
        v225 = v200;
        v226 = v194;
        do
        {
          v227 = v226[-1];
          v224 = (((((((v224 + v227.f32[0]) + COERCE_FLOAT(HIDWORD(v226[-1].i64[0]))) + COERCE_FLOAT(v226[-1].i64[1])) + v227.f32[3]) + COERCE_FLOAT(*v226)) + COERCE_FLOAT(HIDWORD(v226->i64[0]))) + COERCE_FLOAT(v226->i64[1])) + COERCE_FLOAT(HIDWORD(*v226));
          v226 += 2;
          v225 -= 8;
        }

        while (v225);
        v223 = v199 & 0xFFFFFFF8;
        if (v223 == v199)
        {
          goto LABEL_154;
        }
      }

      else
      {
        v223 = 0;
        v224 = 0.0;
      }

      v228 = &v37->f32[v223];
      v229 = v199 - v223;
      do
      {
        v230 = *v228++;
        v227.i16[1] = HIWORD(v230);
        v224 = v224 + v230;
        --v229;
      }

      while (v229);
LABEL_154:
      v227.i16[0] = *(v188 + 2 * v220);
      v227.f32[0] = v227.u32[0];
      v231 = v224 * v227.f32[0];
      v232 = v222;
      v233 = v221;
      v234 = v195;
      do
      {
        v227.i16[0] = *v233;
        v227.f32[0] = v227.u32[0];
        v235 = *v232++;
        v231 = v231 + (v227.f32[0] * v235);
        --v234;
        v233 = (v233 + v197);
      }

      while (v234 > v201);
      if (v231 <= 0.0)
      {
        v34.f32[0] = -0.5;
      }

      else
      {
        v34.f32[0] = 0.5;
      }

      *(v202 + 2 * v220++) = (v231 + v34.f32[0]);
      ++v221;
      if (v220 == v5)
      {
        goto LABEL_121;
      }
    }
  }

LABEL_161:
  if (v186 >= 1)
  {
    v236 = 0;
    v407 = 0;
    v237 = v137 - (v393 & 0xFFFFFFFE);
    v238 = v137 - 1;
    v239 = v5 - 2;
    v397 = v137 - v72;
    v240 = v137 - 1 - v72;
    v411 = v37 + 2;
    v390 = v394 & 0xFFFFFFFC;
    v422 = v239 + 2 * v72 + 1;
    v380 = v422 - v137;
    while (1)
    {
      if (v72 >= 1)
      {
        v241 = 0;
        v242 = *a2;
        v243 = a2[2];
        v244 = v243 * v407;
        v245 = *a2 + v243 * v236;
        v246 = v72 + 1;
        v247 = v72;
        v248 = -v72;
        v249 = v72 + 1;
        v250 = v72;
        do
        {
          if (v248 <= 1)
          {
            v251 = 1;
          }

          else
          {
            v251 = v248;
          }

          v252 = 0.0;
          if (v241 <= v72)
          {
            if (v249 < 8)
            {
              v253 = 0;
LABEL_179:
              v256 = &v37->f32[v253];
              v257 = v249 - v253;
              do
              {
                v258 = *v256++;
                v34.i16[1] = HIWORD(v258);
                v252 = v252 + v258;
                --v257;
              }

              while (v257);
              goto LABEL_181;
            }

            v254 = v249 & 0xFFFFFFF8;
            v253 = v254;
            v255 = v37 + 1;
            do
            {
              v34 = v255[-1];
              v252 = (((((((v252 + v34.f32[0]) + COERCE_FLOAT(HIDWORD(v255[-1].i64[0]))) + COERCE_FLOAT(v255[-1].i64[1])) + v34.f32[3]) + COERCE_FLOAT(*v255)) + COERCE_FLOAT(HIDWORD(v255->i64[0]))) + COERCE_FLOAT(v255->i64[1])) + COERCE_FLOAT(HIDWORD(*v255));
              v255 += 2;
              v254 -= 8;
            }

            while (v254);
            if (v253 != v249)
            {
              goto LABEL_179;
            }
          }

LABEL_181:
          v34.i16[0] = *(v242 + 2 * v244);
          v259 = v252 * v34.u32[0];
          if (v72 + v241 < 1)
          {
            goto LABEL_166;
          }

          v260 = (v251 + v250);
          if (v247 < 4)
          {
            v261 = 1;
            goto LABEL_195;
          }

          v262 = 4 * v260;
          if (v247 >= 0x10)
          {
            v264 = (v411 + v262);
            v265 = v247 & 0xFFFFFFFFFFFFFFF0;
            v263 = v247 & 0x7FFFFFFFFFFFFFF0;
            v266 = (v245 + 18);
            do
            {
              v267 = v264[-2];
              v268 = v264[-1];
              v269 = *v264;
              v270 = v264[1];
              v264 += 4;
              v271 = v266[-1];
              v272 = vmulq_f32(v268, vcvtq_f32_u32(vmovl_high_u16(v271)));
              v273 = vmulq_f32(v267, vcvtq_f32_u32(vmovl_u16(*v271.i8)));
              v274 = vmulq_f32(v270, vcvtq_f32_u32(vmovl_high_u16(*v266)));
              v275 = vmulq_f32(v269, vcvtq_f32_u32(vmovl_u16(*v266->i8)));
              v259 = (((((((((((((((v259 + v273.f32[0]) + v273.f32[1]) + v273.f32[2]) + v273.f32[3]) + v272.f32[0]) + v272.f32[1]) + v272.f32[2]) + v272.f32[3]) + v275.f32[0]) + v275.f32[1]) + v275.f32[2]) + v275.f32[3]) + v274.f32[0]) + v274.f32[1]) + v274.f32[2]) + v274.f32[3];
              v266 += 2;
              v265 -= 16;
            }

            while (v265);
            if (v247 == v263)
            {
              goto LABEL_166;
            }

            if ((v247 & 0xC) == 0)
            {
              v260 += v263;
              v261 = v263 | 1;
LABEL_195:
              v282 = v246 - v261;
              v283 = (v245 + 2 * v261);
              v284 = &v37->f32[v260];
              do
              {
                v285 = *v284++;
                v286 = v285;
                v287 = *v283++;
                v259 = v259 + (v286 * v287);
                --v282;
              }

              while (v282);
              goto LABEL_166;
            }
          }

          else
          {
            v263 = 0;
          }

          v261 = v247 & 0x7FFFFFFFFFFFFFFCLL | 1;
          v260 += v247 & 0x7FFFFFFFFFFFFFFCLL;
          v276 = (v37 + 4 * v263 + v262);
          v277 = (v245 + 2 + 2 * v263);
          v278 = v263 - (v247 & 0xFFFFFFFFFFFFFFFCLL);
          do
          {
            v279 = *v276++;
            v280 = v279;
            v279.i64[0] = *v277++;
            v281 = vmulq_f32(v280, vcvtq_f32_u32(vmovl_u16(*v279.f32)));
            v259 = (((v259 + v281.f32[0]) + v281.f32[1]) + v281.f32[2]) + v281.f32[3];
            v278 += 4;
          }

          while (v278);
          if (v247 != (v247 & 0x7FFFFFFFFFFFFFFCLL))
          {
            goto LABEL_195;
          }

LABEL_166:
          ++v247;
          if (v259 <= 0.0)
          {
            v34.f32[0] = -0.5;
          }

          else
          {
            v34.f32[0] = 0.5;
          }

          v28[v241++] = (v259 + v34.f32[0]);
          --v250;
          --v249;
          ++v248;
          ++v246;
        }

        while (v241 != v72);
      }

      if (v397 > v72)
      {
        v288 = 0;
        v289 = v72;
        do
        {
          v290 = 0.0;
          if (v289 - v72 > v289 + v72)
          {
            goto LABEL_200;
          }

          v291 = v288;
          v292 = *a2;
          v293 = a2[2];
          if (v393 >= 4)
          {
            v295 = 2 * v288;
            if (v393 < 0x10)
            {
              v296 = 0;
              goto LABEL_213;
            }

            v297 = (v292 + v295 + v236 * v293 + 16);
            v298 = v394 & 0xFFFFFFF0;
            v299 = v37 + 2;
            do
            {
              v300 = v299[-2];
              v301 = v299[-1];
              v302 = *v299;
              v303 = v299[1];
              v299 += 4;
              v304 = v297[-1];
              v305 = vmulq_f32(v301, vcvtq_f32_u32(vmovl_high_u16(v304)));
              v306 = vmulq_f32(v300, vcvtq_f32_u32(vmovl_u16(*v304.i8)));
              v307 = vmulq_f32(v303, vcvtq_f32_u32(vmovl_high_u16(*v297)));
              v308 = vmulq_f32(v302, vcvtq_f32_u32(vmovl_u16(*v297->i8)));
              v290 = (((((((((((((((v290 + v306.f32[0]) + v306.f32[1]) + v306.f32[2]) + v306.f32[3]) + v305.f32[0]) + v305.f32[1]) + v305.f32[2]) + v305.f32[3]) + v308.f32[0]) + v308.f32[1]) + v308.f32[2]) + v308.f32[3]) + v307.f32[0]) + v307.f32[1]) + v307.f32[2]) + v307.f32[3];
              v297 += 2;
              v298 -= 16;
            }

            while (v298);
            if ((v394 & 0xC) != 0)
            {
              v296 = v394 & 0xFFFFFFF0;
LABEL_213:
              v291 = v390 + v288;
              v309 = (v292 + v295 + v236 * v293 + 2 * v296);
              v310 = (v37 + 4 * v296);
              v311 = v296 - v390;
              do
              {
                v312 = *v310++;
                v313 = v312;
                v312.i64[0] = *v309++;
                v314 = vmulq_f32(v313, vcvtq_f32_u32(vmovl_u16(*v312.f32)));
                v290 = (((v290 + v314.f32[0]) + v314.f32[1]) + v314.f32[2]) + v314.f32[3];
                v311 += 4;
              }

              while (v311);
              v294 = v394 & 0xFFFFFFFC;
              goto LABEL_216;
            }

            v291 = (v394 & 0xFFFFFFF0) + v288;
            v294 = v394 & 0xFFFFFFF0;
          }

          else
          {
            v294 = 0;
          }

LABEL_216:
          v315 = (v292 + v236 * v293 + 2 * v291);
          v316 = &v37->f32[v294];
          v317 = v394 - v294;
          do
          {
            v318 = *v316++;
            v319 = v318;
            v320 = *v315++;
            v290 = v290 + (v319 * v320);
            --v317;
          }

          while (v317);
LABEL_200:
          if (v290 <= 0.0)
          {
            v34.f32[0] = -0.5;
          }

          else
          {
            v34.f32[0] = 0.5;
          }

          v28[v289++] = (v290 + v34.f32[0]);
          ++v288;
        }

        while (v288 != v237);
      }

      v321 = a2[2];
      v322 = (*a2 + 2 * v321 * v407);
      if (v72 >= 1)
      {
        break;
      }

LABEL_163:
      memcpy(v322, v28, v7);
      v137 = count;
      v236 += 2;
      if (++v407 == v400)
      {
        goto LABEL_253;
      }
    }

    v323 = 0;
    v324 = *a2 + v321 * v236;
    v325 = v380;
    LODWORD(v326) = 1;
    v327 = 2;
    v328 = v397;
    while (1)
    {
      v326 = (v326 + 1);
      if (v328 >= v240)
      {
        break;
      }

      v329 = 0;
      v34.i16[0] = *(v322 + v238);
      v330 = 0.0 * v34.u32[0];
      v331 = v328 - v72;
      if (v331 > v239)
      {
        goto LABEL_222;
      }

LABEL_237:
      v340 = v422 - (v323 + v137);
      if (v340 < 4)
      {
        v341 = v239;
        v342 = v329;
        goto LABEL_250;
      }

      if (v340 >= 0x10)
      {
        v344 = v325 & 0xFFFFFFFFFFFFFFF0;
        v343 = v340 & 0xFFFFFFFFFFFFFFF0;
        v345 = (v324 + 2 * v239 - 14);
        v346 = (v411 + 4 * v329);
        do
        {
          v347 = vrev64q_s16(*v345);
          v348 = vextq_s8(v347, v347, 8uLL);
          v349 = vrev64q_s16(v345[-1]);
          v350 = vextq_s8(v349, v349, 8uLL);
          v351 = vcvtq_f32_u32(vmovl_u16(*v348.i8));
          v352 = vcvtq_f32_u32(vmovl_u16(*v350.i8));
          v353 = v346[-2];
          v354 = v346[-1];
          v355 = *v346;
          v356 = v346[1];
          v346 += 4;
          v357 = vmulq_f32(v354, vcvtq_f32_u32(vmovl_high_u16(v348)));
          v358 = vmulq_f32(v353, v351);
          v359 = vmulq_f32(v356, vcvtq_f32_u32(vmovl_high_u16(v350)));
          v360 = vmulq_f32(v355, v352);
          v330 = (((((((((((((((v330 + v358.f32[0]) + v358.f32[1]) + v358.f32[2]) + v358.f32[3]) + v357.f32[0]) + v357.f32[1]) + v357.f32[2]) + v357.f32[3]) + v360.f32[0]) + v360.f32[1]) + v360.f32[2]) + v360.f32[3]) + v359.f32[0]) + v359.f32[1]) + v359.f32[2]) + v359.f32[3];
          v345 -= 2;
          v344 -= 16;
        }

        while (v344);
        if (v340 == v343)
        {
          goto LABEL_222;
        }

        if ((v340 & 0xC) == 0)
        {
          v342 = v329 + v343;
          v341 = v239 - v343;
LABEL_250:
          v368 = v341 + 1;
          v369 = (v324 + 2 * v341);
          v370 = &v37->f32[v342];
          do
          {
            v371 = *v369--;
            v372 = v371;
            v373 = *v370++;
            v330 = v330 + (v372 * v373);
            --v368;
          }

          while (v368 > v331);
          goto LABEL_222;
        }
      }

      else
      {
        v343 = 0;
      }

      v341 = v239 - (v340 & 0xFFFFFFFFFFFFFFFCLL);
      v342 = v329 + (v340 & 0xFFFFFFFFFFFFFFFCLL);
      v361 = (v37 + 4 * v329 + 4 * v343);
      v362 = v343 - (v325 & 0xFFFFFFFFFFFFFFFCLL);
      v363 = (v324 + 2 * v239 - 6 - 2 * v343);
      do
      {
        v364 = *v363--;
        v365 = vcvtq_f32_u32(vmovl_u16(vrev64_s16(v364)));
        v366 = *v361++;
        v367 = vmulq_f32(v366, v365);
        v330 = (((v330 + v367.f32[0]) + v367.f32[1]) + v367.f32[2]) + v367.f32[3];
        v362 += 4;
      }

      while (v362);
      if (v340 != (v340 & 0xFFFFFFFFFFFFFFFCLL))
      {
        goto LABEL_250;
      }

LABEL_222:
      if (v330 <= 0.0)
      {
        v34.f32[0] = -0.5;
      }

      else
      {
        v34.f32[0] = 0.5;
      }

      v28[v328++] = (v330 + v34.f32[0]);
      ++v327;
      ++v323;
      --v325;
      if (v328 >= v137)
      {
        goto LABEL_163;
      }
    }

    if (v327 >= 8)
    {
      v334 = v327 & 0xFFFFFFF8;
      v332 = v334;
      v333 = 0.0;
      v335 = v37 + 1;
      do
      {
        v336 = v335[-1];
        v333 = (((((((v333 + v336.f32[0]) + COERCE_FLOAT(HIDWORD(v335[-1].i64[0]))) + COERCE_FLOAT(v335[-1].i64[1])) + v336.f32[3]) + COERCE_FLOAT(*v335)) + COERCE_FLOAT(HIDWORD(v335->i64[0]))) + COERCE_FLOAT(v335->i64[1])) + COERCE_FLOAT(HIDWORD(*v335));
        v335 += 2;
        v334 -= 8;
      }

      while (v334);
      if (v332 == v327)
      {
LABEL_236:
        v329 = v326;
        v336.i16[0] = *(v322 + v238);
        v330 = v333 * v336.u32[0];
        v331 = v328 - v72;
        if (v331 > v239)
        {
          goto LABEL_222;
        }

        goto LABEL_237;
      }
    }

    else
    {
      v332 = 0;
      v333 = 0.0;
    }

    v337 = &v37->f32[v332];
    v338 = v327 - v332;
    do
    {
      v339 = *v337++;
      v336.i16[1] = HIWORD(v339);
      v333 = v333 + v339;
      --v338;
    }

    while (v338);
    goto LABEL_236;
  }

LABEL_253:
  free(v28);
  free(v37);
  if (v377)
  {
    v374 = *(v423 - 16 * count - 8);
    v375 = atomic_fetch_add((v374 + 24), 0xFFFFFFFF) - 1;
    if (v375 < 0)
    {
      __assert_rtn("pmem_free", "pmem.c", 302, "count >= 0 && Negative count! Something is broken, double free? Memory corruption?");
    }

    if (v375)
    {
      atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_or(&global_stats[2], 0);
      atomic_fetch_or(global_stats, 0);
      atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_or(&_pmem_total_blocks, 0);
      atomic_fetch_or(&pmem_bytes_allocated, 0);
    }

    else
    {
      v376 = -*(v374 + 8);
      atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(&global_stats[2], 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(global_stats, v376);
      atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(&_pmem_total_blocks, 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(&pmem_bytes_allocated, v376);
      (*(v374 + 40))(v374);

      free(v374);
    }
  }
}

__int16 *create_pyr(__int16 *result, uint64_t a2)
{
  if (result >= -1)
  {
    v3 = 0;
    v4 = *(a2 + 8);
    v5 = *(v4 + 12);
    v6 = *(v4 + 8);
    v7 = result + 2;
    v50 = (result + 2);
    if (result + 2 <= 1)
    {
      v7 = 1;
    }

    v8 = 2 * v6 * (v5 + 16);
    v9 = 24 * v7;
    v10 = 4;
    do
    {
      v13 = *a2;
      v14 = *(a2 + 16);
      if (*a2 >= v14)
      {
        v15 = 2 * v14;
        v16 = v14 == 0;
        v17 = 10;
        if (!v16)
        {
          v17 = v15;
        }

        if (v17 <= v13)
        {
          v18 = v13 + 1;
        }

        else
        {
          v18 = v17;
        }

        if (v18)
        {
          *(a2 + 8) = malloc_type_realloc(*(a2 + 8), 24 * v18, 0x1010040113C0ABBuLL);
          v13 = *a2;
        }

        *(a2 + 16) = v18;
      }

      *a2 = v13 + 1;
      v11 = *(a2 + 8);
      v12 = v11 + 24 * v13;
      *(v12 + 8) = v6;
      *(v12 + 12) = v5;
      *(v12 + 16) = v6;
      *v12 = pmem_alloc_ex(v8, 0, 0) + 16 * *(v12 + 16);
      vl_gauss16((v11 + v3), v12, *(*(a2 + 56) + v10));
      v3 += 24;
      v10 += 4;
    }

    while (v9 != v3);
    v19 = 0;
    while (1)
    {
      v20 = *(a2 + 24);
      v21 = *(a2 + 40);
      if (v20 >= v21)
      {
        if (v21)
        {
          v22 = 2 * v21;
        }

        else
        {
          v22 = 10;
        }

        if (v22 <= v20)
        {
          v23 = v20 + 1;
        }

        else
        {
          v23 = v22;
        }

        if (v23)
        {
          *(a2 + 32) = malloc_type_realloc(*(a2 + 32), 24 * v23, 0x1010040113C0ABBuLL);
          v20 = *(a2 + 24);
        }

        *(a2 + 40) = v23;
      }

      *(a2 + 24) = v20 + 1;
      v24 = *(a2 + 32) + 24 * v20;
      *(v24 + 8) = v6;
      *(v24 + 12) = v5;
      *(v24 + 16) = v6;
      result = pmem_alloc_ex(v8, 0, 0);
      v25 = *(v24 + 16);
      v26 = &result[8 * v25];
      *v24 = v26;
      v27 = *(a2 + 8) + 24 * v19;
      v28 = *(v24 + 8);
      if (v28 != *(v27 + 32))
      {
        __assert_rtn("create_pyr", "vl_dog.c", 519, "(dog)->x_size == ((&((&octave->gauss_pyr)->items[layer+1])))->x_size");
      }

      v29 = *(v27 + 24);
      v30 = *(v24 + 12);
      if (v30 != *(v27 + 36))
      {
        __assert_rtn("create_pyr", "vl_dog.c", 519, "(dog)->y_size == ((&((&octave->gauss_pyr)->items[layer+1])))->y_size");
      }

      if (v28 != *(v27 + 8))
      {
        __assert_rtn("create_pyr", "vl_dog.c", 519, "(dog)->x_size == ((&((&octave->gauss_pyr)->items[layer])))->x_size");
      }

      if (v30 != *(v27 + 12))
      {
        __assert_rtn("create_pyr", "vl_dog.c", 519, "(dog)->y_size == ((&((&octave->gauss_pyr)->items[layer])))->y_size");
      }

      v31.i64[0] = 0x8000800080008000;
      v31.i64[1] = 0x8000800080008000;
      if (v30 >= 1 && v28 >= 1)
      {
        break;
      }

LABEL_16:
      if (++v19 == v50)
      {
        return result;
      }
    }

    v32 = 0;
    v33 = *v27;
    v34 = v25 - v28;
    v35 = *(v27 + 40) - v28;
    v36 = *(v27 + 16) - v28;
    v37 = 2 * (v28 & 0x7FFFFFF0);
    while (1)
    {
      if (v28 >= 0x10)
      {
        v38 = 0;
        if ((v26 - v29) >= 0x20 && (v26 - v33) >= 0x20)
        {
          v39 = (v33 + v37);
          result = &v29->i16[v37 / 2];
          v40 = (v26 + v37);
          v45 = v26 + 1;
          v46 = v29 + 1;
          v47 = v33 + 1;
          v48 = v28 & 0x7FFFFFF0;
          do
          {
            v49 = veorq_s8(vsubq_s16(*v46, *v47), v31);
            v45[-1] = veorq_s8(vsubq_s16(v46[-1], v47[-1]), v31);
            *v45 = v49;
            v45 += 2;
            v46 += 2;
            v47 += 2;
            v48 -= 16;
          }

          while (v48);
          v38 = v28 & 0x7FFFFFF0;
          if ((v28 & 0x7FFFFFF0) == v28)
          {
            goto LABEL_34;
          }

          goto LABEL_38;
        }
      }

      else
      {
        v38 = 0;
      }

      v39 = v33;
      result = v29;
      v40 = v26;
LABEL_38:
      v41 = v28 - v38;
      do
      {
        v43 = *result++;
        v42 = v43;
        v44 = v39->i16[0];
        v39 = (v39 + 2);
        v40->i16[0] = (v42 - v44) ^ 0x8000;
        v40 = (v40 + 2);
        --v41;
      }

      while (v41);
LABEL_34:
      v26 = (v40 + 2 * v34);
      v29 = &result[v35];
      ++v32;
      v33 = (v39 + 2 * v36);
      if (v32 == v30)
      {
        goto LABEL_16;
      }
    }
  }

  return result;
}

void create_pyr2(int a1, void *a2)
{
  if (a1 >= -1)
  {
    v3 = 0;
    v4 = (a1 + 2);
    if (v4 <= 1)
    {
      v5 = 1;
    }

    else
    {
      v5 = a1 + 2;
    }

    v6 = 24 * v5;
    v7 = 4;
    do
    {
      vl_gauss16((a2[1] + v3), (a2[1] + v3 + 24), *(a2[7] + v7));
      v3 += 24;
      v7 += 4;
    }

    while (v6 != v3);
    v8 = 0;
    v9 = a2[4];
    v10 = a2[1];
    v11 = *v10;
    v12.i64[0] = 0x8000800080008000;
    v12.i64[1] = 0x8000800080008000;
    while (1)
    {
      v13 = v11;
      v14 = v9 + 24 * v8;
      v15 = &v10[3 * v8];
      v16 = *(v14 + 8);
      if (v16 != *(v15 + 8))
      {
        __assert_rtn("create_pyr2", "vl_dog.c", 546, "(dog)->x_size == ((&((&octave->gauss_pyr)->items[layer+1])))->x_size");
      }

      v11 = v15[3];
      v17 = *(v14 + 12);
      if (v17 != *(v15 + 9))
      {
        __assert_rtn("create_pyr2", "vl_dog.c", 546, "(dog)->y_size == ((&((&octave->gauss_pyr)->items[layer+1])))->y_size");
      }

      if (v16 != *(v15 + 2))
      {
        __assert_rtn("create_pyr2", "vl_dog.c", 546, "(dog)->x_size == ((&((&octave->gauss_pyr)->items[layer])))->x_size");
      }

      if (v17 != *(v15 + 3))
      {
        __assert_rtn("create_pyr2", "vl_dog.c", 546, "(dog)->y_size == ((&((&octave->gauss_pyr)->items[layer])))->y_size");
      }

      if (v17 >= 1 && v16 >= 1)
      {
        break;
      }

LABEL_8:
      if (++v8 == v4)
      {
        return;
      }
    }

    v18 = 0;
    v19 = *v14;
    v20 = *(v14 + 16) - v16;
    v21 = v15[5]->i64 - v16;
    v22 = v15[2]->i64 - v16;
    v23 = 2 * (v16 & 0x7FFFFFF0);
    v24 = v11;
    while (1)
    {
      if (v16 >= 0x10)
      {
        v25 = 0;
        if ((v19 - v24) >= 0x20 && (v19 - v13) >= 0x20)
        {
          v26 = (v13 + v23);
          v27 = (v24 + v23);
          v28 = (v19 + v23);
          v33 = v19 + 1;
          v34 = v24 + 1;
          v35 = v13 + 1;
          v36 = v16 & 0x7FFFFFF0;
          do
          {
            v37 = veorq_s8(vsubq_s16(*v34, *v35), v12);
            v33[-1] = veorq_s8(vsubq_s16(v34[-1], v35[-1]), v12);
            *v33 = v37;
            v33 += 2;
            v34 += 2;
            v35 += 2;
            v36 -= 16;
          }

          while (v36);
          v25 = v16 & 0x7FFFFFF0;
          if ((v16 & 0x7FFFFFF0) == v16)
          {
            goto LABEL_16;
          }

          goto LABEL_20;
        }
      }

      else
      {
        v25 = 0;
      }

      v26 = v13;
      v27 = v24;
      v28 = v19;
LABEL_20:
      v29 = v16 - v25;
      do
      {
        v31 = v27->i16[0];
        v27 = (v27 + 2);
        v30 = v31;
        v32 = v26->i16[0];
        v26 = (v26 + 2);
        v28->i16[0] = (v30 - v32) ^ 0x8000;
        v28 = (v28 + 2);
        --v29;
      }

      while (v29);
LABEL_16:
      v19 = (v28 + 2 * v20);
      v24 = (v27 + 2 * v21);
      ++v18;
      v13 = (v26 + 2 * v22);
      if (v18 == v17)
      {
        goto LABEL_8;
      }
    }
  }
}

tm *dtime_get(tm *result, int *a2, int *a3, int *a4, int *a5, int *a6, double *a7, int tm_gmtoff)
{
  tm_sec = result->tm_sec;
  if (result->tm_sec == -16777215)
  {
    __assert_rtn("dtime_get", "arch_dtime.c", 450, "dtime_is_def(t)");
  }

  v15 = result;
  if (tm_gmtoff == 1000000)
  {
    v56 = 0;
    memset(&v55, 0, sizeof(v55));
    time(&v56);
    result = localtime_r(&v56, &v55);
    tm_gmtoff = v55.tm_gmtoff;
    tm_sec = v15->tm_sec;
  }

  v16 = *&v15->tm_hour + tm_gmtoff;
  if (v16 < 0.0 || v16 >= 86400.0)
  {
    v18 = vcvtmd_s64_f64(v16 / 86400.0);
    tm_sec += v18;
    v16 = v16 - v18 * 86400.0;
  }

  v19 = v16 / 60.0 / 60.0;
  v20 = v19;
  if (a5)
  {
    v21 = 0;
    *a5 = v20;
  }

  else
  {
    v21 = v19;
  }

  v22 = v16 - (3600 * v20);
  v23 = (v22 / 60.0);
  if (a6)
  {
    *a6 = v23;
  }

  if (a7)
  {
    *a7 = v22 - (60 * v23);
  }

  if (a5)
  {
    v24 = *a5;
    if (*a5 >= 24)
    {
      *a5 -= 24;
LABEL_20:
      ++tm_sec;
      goto LABEL_25;
    }

    if (v24 < 0)
    {
      *a5 = v24 + 24;
LABEL_24:
      --tm_sec;
    }
  }

  else
  {
    if (v21 > 23)
    {
      goto LABEL_20;
    }

    if (v21 < 0)
    {
      goto LABEL_24;
    }
  }

LABEL_25:
  if (tm_sec != -1)
  {
    if (a2)
    {
      v25 = 0;
      v26 = 1969;
      do
      {
        v27 = v25;
        if ((++v26 & 3) != 0)
        {
          v28 = 365;
        }

        else
        {
          v28 = 366;
        }

        v25 = v28 + v27;
      }

      while (v25 <= tm_sec);
      *a2 = v26;
      v29 = 29;
      v30 = tm_sec - v27;
      if (a3)
      {
        goto LABEL_33;
      }
    }

    else
    {
      v35 = 0;
      v36 = -78;
      do
      {
        v37 = v35;
        v38 = v36 & 3;
        if ((v36 & 3) != 0)
        {
          v39 = 365;
        }

        else
        {
          v39 = 366;
        }

        v35 = v39 + v37;
        ++v36;
      }

      while (v35 <= tm_sec);
      v29 = 28;
      if (!v38)
      {
        v29 = 29;
      }

      v30 = tm_sec - v37;
      if (a3)
      {
LABEL_33:
        if (a2)
        {
          v31 = 1;
          v32 = v30 - 31;
          if (v30 < 31)
          {
LABEL_113:
            *a3 = v31;
            goto LABEL_114;
          }

          *a3 = 1;
          v33 = 28;
          if ((*a2 & 3) == 0)
          {
            v33 = 29;
          }

          v53 = v32 >= v33;
          v30 = v32 - v33;
          if (!v53)
          {
            v31 = 2;
            LODWORD(v30) = v32;
            goto LABEL_113;
          }

          v44 = v30 - 31;
          if (v30 >= 31)
          {
            v45 = v30 - 61;
            if (v30 >= 0x3D)
            {
              v46 = v30 - 92;
              if (v30 >= 0x5C)
              {
                v47 = v30 - 122;
                if (v30 >= 0x7A)
                {
                  v48 = v30 - 153;
                  if (v30 >= 0x99)
                  {
                    v49 = v30 - 184;
                    if (v30 >= 0xB8)
                    {
                      v50 = v30 - 214;
                      if (v30 >= 0xD6)
                      {
                        v51 = v30 - 245;
                        if (v30 >= 0xF5)
                        {
                          v52 = v30 - 275;
                          if (v30 >= 0x113)
                          {
                            v31 = 12;
                            v53 = v30 >= 0x132;
                            LODWORD(v30) = v30 - 306;
                            if (v53)
                            {
                              *a3 = 12;
                              v31 = 13;
                            }

                            else
                            {
                              LODWORD(v30) = v52;
                            }

                            goto LABEL_113;
                          }

                          goto LABEL_106;
                        }

                        goto LABEL_104;
                      }

                      goto LABEL_101;
                    }

                    goto LABEL_99;
                  }

                  goto LABEL_97;
                }

                goto LABEL_95;
              }

              goto LABEL_93;
            }

            goto LABEL_91;
          }
        }

        else
        {
          v41 = v30 - 31;
          if (v30 < 31)
          {
            v31 = 1;
            goto LABEL_113;
          }

          v30 = v41 - v29;
          if (v41 < v29)
          {
            v31 = 2;
            LODWORD(v30) = v41;
            goto LABEL_113;
          }

          v44 = v30 - 31;
          if (v30 >= 31)
          {
            v45 = v30 - 61;
            if (v30 >= 0x3D)
            {
              v46 = v30 - 92;
              if (v30 >= 0x5C)
              {
                v47 = v30 - 122;
                if (v30 >= 0x7A)
                {
                  v48 = v30 - 153;
                  if (v30 >= 0x99)
                  {
                    v49 = v30 - 184;
                    if (v30 >= 0xB8)
                    {
                      v50 = v30 - 214;
                      if (v30 >= 0xD6)
                      {
                        v51 = v30 - 245;
                        if (v30 >= 0xF5)
                        {
                          if (v30 >= 0x113)
                          {
                            v53 = v30 >= 0x132;
                            v54 = -306;
                            if (v30 < 0x132)
                            {
                              v54 = -275;
                            }

                            LODWORD(v30) = v30 + v54;
                            if (v53)
                            {
                              v31 = 13;
                            }

                            else
                            {
                              v31 = 12;
                            }

                            goto LABEL_113;
                          }

LABEL_106:
                          v31 = 11;
                          LODWORD(v30) = v51;
                          goto LABEL_113;
                        }

LABEL_104:
                        v31 = 10;
                        LODWORD(v30) = v50;
                        goto LABEL_113;
                      }

LABEL_101:
                      v31 = 9;
                      LODWORD(v30) = v49;
                      goto LABEL_113;
                    }

LABEL_99:
                    v31 = 8;
                    LODWORD(v30) = v48;
                    goto LABEL_113;
                  }

LABEL_97:
                  v31 = 7;
                  LODWORD(v30) = v47;
                  goto LABEL_113;
                }

LABEL_95:
                v31 = 6;
                LODWORD(v30) = v46;
                goto LABEL_113;
              }

LABEL_93:
              v31 = 5;
              LODWORD(v30) = v45;
              goto LABEL_113;
            }

LABEL_91:
            v31 = 4;
            LODWORD(v30) = v44;
            goto LABEL_113;
          }
        }

        v31 = 3;
        goto LABEL_113;
      }
    }

    v40 = v30 - 31;
    if (a2)
    {
      if (v30 >= 31)
      {
        if ((*a2 & 3) != 0)
        {
          v29 = 28;
        }

        else
        {
          v29 = 29;
        }

LABEL_61:
        LODWORD(v30) = v30 - 31;
        v53 = v40 >= v29;
        v42 = v40 - v29;
        if (v53)
        {
          LODWORD(v30) = v42;
          if (v42 >= 31)
          {
            LODWORD(v30) = v42 - 31;
            if (v42 >= 0x3D)
            {
              LODWORD(v30) = v42 - 61;
              if (v42 >= 0x5C)
              {
                LODWORD(v30) = v42 - 92;
                if (v42 >= 0x7A)
                {
                  LODWORD(v30) = v42 - 122;
                  if (v42 >= 0x99)
                  {
                    LODWORD(v30) = v42 - 153;
                    if (v42 >= 0xB8)
                    {
                      LODWORD(v30) = v42 - 184;
                      if (v42 >= 0xD6)
                      {
                        LODWORD(v30) = v42 - 214;
                        if (v42 >= 0xF5)
                        {
                          LODWORD(v30) = v42 - 245;
                          if (v42 >= 0x113)
                          {
                            v43 = -306;
                            if (v42 < 0x132)
                            {
                              v43 = -275;
                            }

                            LODWORD(v30) = v43 + v42;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }

    else if (v30 >= 31)
    {
      goto LABEL_61;
    }

LABEL_114:
    v34 = v30 + 1;
    goto LABEL_115;
  }

  if (a2)
  {
    *a2 = 1969;
  }

  if (a3)
  {
    *a3 = 12;
  }

  v34 = 31;
LABEL_115:
  if (a4)
  {
    *a4 = v34;
  }

  return result;
}

void *vl_hs_model_get_par_version@<X0>(void *result@<X0>, uint64_t a2@<X8>)
{
  *(a2 + 432) = 0u;
  *(a2 + 448) = 0u;
  *(a2 + 400) = 0u;
  *(a2 + 416) = 0u;
  *(a2 + 368) = 0u;
  *(a2 + 384) = 0u;
  *(a2 + 336) = 0u;
  *(a2 + 352) = 0u;
  *(a2 + 304) = 0u;
  *(a2 + 320) = 0u;
  *(a2 + 272) = 0u;
  *(a2 + 288) = 0u;
  *(a2 + 240) = 0u;
  *(a2 + 256) = 0u;
  *(a2 + 208) = 0u;
  *(a2 + 224) = 0u;
  *(a2 + 176) = 0u;
  *(a2 + 192) = 0u;
  *(a2 + 144) = 0u;
  *(a2 + 160) = 0u;
  *(a2 + 112) = 0u;
  *(a2 + 128) = 0u;
  *(a2 + 80) = 0u;
  *(a2 + 96) = 0u;
  *(a2 + 48) = 0u;
  *(a2 + 64) = 0u;
  *a2 = xmmword_2711053C0;
  *(a2 + 16) = vdupq_n_s64(0x40uLL);
  *(a2 + 32) = 0u;
  *(a2 + 52) = -1;
  *(a2 + 36) = 0x3BDA740E3F4CCCCDLL;
  *(a2 + 44) = 1023969417;
  if (result > 249)
  {
    switch(result)
    {
      case 0xFA:
        *(a2 + 8) = 4;
        *(a2 + 24) = 64;
        *(a2 + 44) = 0x59D93D088889;
        result = memcpy((a2 + 60), &unk_2711053F8, 0x194uLL);
        *(a2 + 56) = 1;
        *(a2 + 32) = 0x3F4CCCCD3F5C21DCLL;
        return result;
      case 0xFC:
        *(a2 + 16) = 64;
        *(a2 + 40) = 1004172302;
        *(a2 + 48) = -4294944295;
        v3 = a2;
        result = memcpy((a2 + 60), &unk_2711053F8, 0x194uLL);
        *(v3 + 56) = 1;
        v4 = 1063002588;
        break;
      case 0xFD:
        *(a2 + 16) = 64;
        *(a2 + 40) = 1004172302;
        *(a2 + 48) = -4294944295;
        v3 = a2;
        result = memcpy((a2 + 60), &unk_27110558C, 0x194uLL);
        *(v3 + 56) = 1;
        v4 = 1055249678;
        break;
      default:
LABEL_12:
        printf("%sError : ", "");
        printf("In %s : model version %d not defined");
        goto LABEL_13;
    }

    *(v3 + 32) = v4;
    *v3 = 2;
    return result;
  }

  if (result != 1)
  {
    if (result == 100)
    {
      *(a2 + 56) = 0u;
      v6 = a2 + 56;
      *(v6 + 400) = 0;
      *(v6 + 368) = 0u;
      *(v6 + 384) = 0u;
      *(v6 + 336) = 0u;
      *(v6 + 352) = 0u;
      *(v6 + 304) = 0u;
      *(v6 + 320) = 0u;
      *(v6 + 272) = 0u;
      *(v6 + 288) = 0u;
      *(v6 + 240) = 0u;
      *(v6 + 256) = 0u;
      *(v6 + 208) = 0u;
      *(v6 + 224) = 0u;
      *(v6 + 176) = 0u;
      *(v6 + 192) = 0u;
      *(v6 + 144) = 0u;
      *(v6 + 160) = 0u;
      *(v6 + 112) = 0u;
      *(v6 + 128) = 0u;
      *(v6 + 80) = 0u;
      *(v6 + 96) = 0u;
      *(v6 + 48) = 0u;
      *(v6 + 64) = 0u;
      *(v6 + 16) = 0u;
      *(v6 + 32) = 0u;
      *(v6 - 48) = 4;
      *(v6 - 32) = 64;
      *(v6 - 12) = 0x59D83D088889;
      *(v6 - 24) = 0x3F4CCCCD3F5850F0;
      return result;
    }

    if (result == 200)
    {
      *(a2 + 56) = 0u;
      v2 = a2 + 56;
      *(v2 + 400) = 0;
      *(v2 + 368) = 0u;
      *(v2 + 384) = 0u;
      *(v2 + 336) = 0u;
      *(v2 + 352) = 0u;
      *(v2 + 304) = 0u;
      *(v2 + 320) = 0u;
      *(v2 + 272) = 0u;
      *(v2 + 288) = 0u;
      *(v2 + 240) = 0u;
      *(v2 + 256) = 0u;
      *(v2 + 208) = 0u;
      *(v2 + 224) = 0u;
      *(v2 + 176) = 0u;
      *(v2 + 192) = 0u;
      *(v2 + 144) = 0u;
      *(v2 + 160) = 0u;
      *(v2 + 112) = 0u;
      *(v2 + 128) = 0u;
      *(v2 + 80) = 0u;
      *(v2 + 96) = 0u;
      *(v2 + 48) = 0u;
      *(v2 + 64) = 0u;
      *(v2 + 16) = 0u;
      *(v2 + 32) = 0u;
      *(v2 - 48) = 4;
      *(v2 - 32) = 64;
      *(v2 - 12) = 0x59D93D088889;
      *(v2 - 24) = 0x3F4CCCCD3F35AE2ELL;
      return result;
    }

    goto LABEL_12;
  }

  printf("%sError : ", "");
  printf("Promote your VL pose verification model here!");
LABEL_13:

  return putchar(10);
}

uint64_t vl_hs_compute_hypothesis_scores(uint64_t *a1, uint64_t a2, unint64_t *a3, uint64_t a4, void *a5, uint64_t a6, uint64_t a7)
{
  v8 = a2;
  v9 = *a3;
  if (*a3 < 1)
  {
    v15 = 0;
    v12 = 0;
    if (!*(a2 + 212))
    {
      goto LABEL_10;
    }

    goto LABEL_17;
  }

  v11 = 3;
  if (v9 > 3)
  {
    v11 = *a3;
  }

  v12 = malloc_type_realloc(0, 80 * v11, 0x10A004028E2A762uLL);
  bzero(v12, 80 * v9);
  v9 = *a3;
  if (*a3 < 1)
  {
    v15 = 0;
    if (!*(v8 + 212))
    {
      goto LABEL_10;
    }

LABEL_17:
    *(v8 + 120) -= mach_absolute_time();
    goto LABEL_18;
  }

  v13 = a3[1];
  if (v9 == 1)
  {
    v14 = 0;
LABEL_14:
    v19 = v9 - v14;
    v20 = v13 + 280 * v14;
    v21 = 80 * v14;
    do
    {
      *&v12[v21] = v20;
      v20 += 280;
      v21 += 80;
      --v19;
    }

    while (v19);
    goto LABEL_16;
  }

  v14 = v9 & 0x7FFFFFFFFFFFFFFELL;
  v16 = v9 & 0x7FFFFFFFFFFFFFFELL;
  v17 = a3[1];
  v18 = v12;
  do
  {
    *v18 = v17;
    v18[10] = v17 + 280;
    v18 += 20;
    v17 += 560;
    v16 -= 2;
  }

  while (v16);
  if (v9 != v14)
  {
    goto LABEL_14;
  }

LABEL_16:
  v15 = 1;
  if (*(v8 + 212))
  {
    goto LABEL_17;
  }

LABEL_10:
  clock_gettime(_CLOCK_THREAD_CPUTIME_ID, (v8 + 32));
  clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, (v8 + 16));
  clock_gettime(_CLOCK_MONOTONIC, v8);
LABEL_18:
  v22 = *a6 * 0.1;
  if (v22 <= 0.0)
  {
    v23 = 0;
  }

  else
  {
    v23 = malloc_type_malloc(vcvtd_n_u64_f64(v22, 2uLL), 0x100004052888210uLL);
    v22 = *a6 * 0.1;
  }

  v170 = v9;
  v190.f64[0] = 0.0;
  *&v190.f64[1] = v23;
  v24 = v22;
  *&v191.f64[0] = v22;
  if (v22 <= 0.0)
  {
    v25 = 0;
  }

  else
  {
    v25 = malloc_type_malloc(vcvtd_n_u64_f64(v22, 3uLL), 0x100004000313F17uLL);
    v24 = (*a6 * 0.1);
  }

  v189 = 0uLL;
  ptr[0] = 0;
  ptr[1] = v25;
  *&v184 = v24;
  get_img_borders_normalized((a4 + 24), &v189.f32[2], v189.f32);
  v165 = v8;
  v164 = v15;
  if (v15)
  {
    v27 = 0;
    v28 = v189;
    *v181 = v189;
    do
    {
      v29 = v12;
      v30 = &v12[80 * v27];
      ptr[0] = 0;
      v190.f64[0] = 0.0;
      v31 = *a6;
      if (*a6 >= 1)
      {
        v32 = 0;
        v33 = 0;
        v34 = 0;
        do
        {
          v35 = (*(a6 + 8) + v32);
          v36 = *v35 - (*v30)[4].f32[1];
          v37 = v35[1] - (*v30)[5].f32[0];
          v38 = v35[2] - (*v30)[5].f32[1];
          v39 = (((*v30)[1].f32[1] * v37) + ((*v30)->f32[0] * v36)) + ((*v30)[3].f32[0] * v38);
          if (v39 > 0.0)
          {
            *&v26 = vmul_n_f32(vmla_n_f32(vmla_n_f32(vmul_n_f32((*v30)[2], v37), *(*v30 + 4), v36), *(*v30 + 28), v38), 1.0 / v39);
            v40.i64[0] = v26;
            v40.i64[1] = v26;
            v41.i32[0] = vmovn_s32(vcgtq_f32(v40, v28)).u32[0];
            v41.i32[1] = vmovn_s32(vcgtq_f32(v28, v40)).i32[1];
            if ((vmaxv_u16(v41) & 1) == 0)
            {
              v42 = ptr[0];
              if (ptr[0] >= v184)
              {
                if (v184)
                {
                  v43 = 2 * v184;
                }

                else
                {
                  v43 = 32;
                }

                if (v43 <= ptr[0])
                {
                  v44 = ptr[0] + 1;
                }

                else
                {
                  v44 = v43;
                }

                if (v44)
                {
                  v179 = v26;
                  v45 = malloc_type_realloc(ptr[1], 8 * v44, 0x100004000313F17uLL);
                  v26 = v179;
                  v28 = *v181;
                  ptr[1] = v45;
                  v42 = ptr[0];
                  v33 = *&v190.f64[0];
                }

                *&v184 = v44;
              }

              ptr[0] = v42 + 1;
              *(ptr[1] + v42) = v26;
              if (v33 >= *&v191.f64[0])
              {
                if (*&v191.f64[0])
                {
                  v46 = 2 * *&v191.f64[0];
                }

                else
                {
                  v46 = 64;
                }

                if (v46 <= v33)
                {
                  v47 = v33 + 1;
                }

                else
                {
                  v47 = v46;
                }

                if (v47)
                {
                  v48 = malloc_type_realloc(*&v190.f64[1], 4 * v47, 0x100004052888210uLL);
                  v28 = *v181;
                  *&v190.f64[1] = v48;
                  v33 = *&v190.f64[0];
                }

                *&v191.f64[0] = v47;
              }

              *&v190.f64[0] = v33 + 1;
              *(*&v190.f64[1] + 4 * v33) = v34;
              v31 = *a6;
              ++v33;
            }
          }

          ++v34;
          v32 += 12;
        }

        while (v31 > v34);
      }

      vl_match_exhaustive_knn_rematch(a5, a6, *(a6 + 216), &v190, ptr, v30 + 4, a7, 0xAu, *(*a1 + 52));
      v28 = *v181;
      ++v27;
      v12 = v29;
    }

    while (v27 != v170);
    v25 = ptr[1];
    v8 = v165;
    v15 = v164;
  }

  free(v25);
  free(*&v190.f64[1]);
  v55 = *(*a1 + 48);
  v193 = 0u;
  v194 = 0u;
  v191 = 0u;
  v192 = 0u;
  v190 = 0u;
  if (!v15)
  {
    v65 = 0.0;
    goto LABEL_74;
  }

  v56 = (v12 + 32);
  v57 = v170;
  do
  {
    vl_pose_get_inliers(*(v56 - 4), a5, a6, v56, &v190, v55, v49, v50, v51, v52, v53, v54);
    v58 = *(v56 - 3);
    v59 = v193.f64[0];
    v60 = *(v56 - 1);
    if (*&v193.f64[0] > v60)
    {
      if (v60)
      {
        v63 = 2 * v60;
      }

      else
      {
        v63 = 32;
      }

      if (v63 <= *&v193.f64[0])
      {
        v64 = *&v193.f64[0];
      }

      else
      {
        v64 = v63;
      }

      if (v64)
      {
        *(v56 - 2) = malloc_type_realloc(*(v56 - 2), 8 * v64, 0x100004000313F17uLL);
      }

      *(v56 - 1) = v64;
      v61 = *&v59 - v58;
      if (*&v59 > v58)
      {
LABEL_70:
        bzero((*(v56 - 2) + 8 * *(v56 - 3)), 8 * v61);
        v62 = *&v193.f64[0];
        *(v56 - 3) = *&v193.f64[0];
        if (v62 < 1)
        {
          goto LABEL_56;
        }

LABEL_71:
        memcpy(*(v56 - 2), *&v193.f64[1], 8 * v62);
        goto LABEL_56;
      }
    }

    else
    {
      v61 = *&v193.f64[0] - v58;
      if (*&v193.f64[0] > v58)
      {
        goto LABEL_70;
      }
    }

    v62 = *&v193.f64[0];
    *(v56 - 3) = *&v193.f64[0];
    if (v62 >= 1)
    {
      goto LABEL_71;
    }

LABEL_56:
    v56 += 10;
    --v57;
  }

  while (v57);
  v65 = v190.f64[1];
LABEL_74:
  free(*&v65);
  free(*&v192.f64[0]);
  free(*&v193.f64[1]);
  v66 = v170;
  if ((((v170 + (((*(*a1 + 8) << 32) - 0x100000000) >> 32)) & -*(*a1 + 8)) / *(*a1 + 8)) >= 1)
  {
    v67 = 0;
    v168 = (((v170 + (((*(*a1 + 8) << 32) - 0x100000000) >> 32)) & -*(*a1 + 8)) / *(*a1 + 8)) & 0x7FFFFFFF;
    v172 = 1;
    do
    {
      v69 = *(*a1 + 8);
      v70 = *(*a1 + 16);
      v71 = *(*a1 + 24);
      v72 = *(*a1 + 32);
      v189 = 0uLL;
      get_img_borders_normalized((a4 + 24), &v189.f32[2], v189.f32);
      v174 = v71 * v70;
      v175 = v70;
      bzero(*(*a1 + 480), 4 * v69 * v71 * v70 * v72);
      v73 = *(*a1 + 480);
      v74 = *(*a1 + 496);
      v171 = v67 + 1;
      v75 = v69 * (v67 + 1);
      v76 = v67 * v69;
      if (v75 >= v66)
      {
        v75 = v66;
      }

      if (v75 <= v76)
      {
        if (*(v8 + 728))
        {
          goto LABEL_146;
        }

        vl_hs_forward();
        v68 = 0;
        ++v67;
      }

      else
      {
        v77 = 0;
        v182 = 0;
        v180 = 0;
        v78 = v72;
        v79 = v71;
        v80 = v69 * v172;
        v166 = v69 * v172;
        v167 = v76;
        if (v66 < v69 * v172)
        {
          v80 = v66;
        }

        v177 = v80 - v76;
        v81 = v76;
        do
        {
          v82 = &v12[80 * v81];
          v187 = 0u;
          v188 = 0u;
          v185 = 0u;
          v186 = 0u;
          *ptr = 0u;
          v184 = 0u;
          v83 = *v82;
          v195 = vcvtq_f64_f32((*v82)[5]);
          v84 = vcvtq_f64_f32(v83[3]);
          v190 = vcvtq_f64_f32(*v83);
          v193 = v84;
          v191 = vcvtq_f64_f32(v83[1]);
          v192 = vcvtq_f64_f32(v83[2]);
          v194 = vcvtq_f64_f32(v83[4]);
          g_camera_local_to_global((a6 + 240), v190.f64, ptr);
          v85 = v77 + 1;
          if (v77 >= v180)
          {
            v87 = 2 * v180;
            if (!v180)
            {
              v87 = 2;
            }

            if (v87 <= v77)
            {
              v87 = v77 + 1;
            }

            v86 = v182;
            if (v87)
            {
              v180 = v87;
              v86 = malloc_type_realloc(v182, 96 * v87, 0x1000040565EDBD2uLL);
            }

            else
            {
              v180 = 0;
            }
          }

          else
          {
            v86 = v182;
          }

          v182 = v86;
          v88 = &v86[96 * v77];
          v89 = v184;
          *v88 = *ptr;
          *(v88 + 1) = v89;
          v90 = v185;
          v91 = v186;
          v92 = v188;
          *(v88 + 4) = v187;
          *(v88 + 5) = v92;
          *(v88 + 2) = v90;
          *(v88 + 3) = v91;
          v93 = v82[1];
          if (v93 >= 1)
          {
            v94 = a5[1];
            v95 = *v82;
            v96 = *(a6 + 8);
            v97 = v189.i64[1];
            v98 = v189.f32[0] - v189.f32[2];
            v99 = v189.f32[1] - v189.f32[3];
            v100 = v82[2] + 1;
            do
            {
              v101 = (v96 + 12 * *(v100 - 1));
              v102 = *v101 - v95[4].f32[1];
              v103 = v101[1] - v95[5].f32[0];
              v104 = v101[2] - v95[5].f32[1];
              v105 = ((v95[1].f32[1] * v103) + (v95->f32[0] * v102)) + (v95[3].f32[0] * v104);
              if (v105 > 0.0)
              {
                v106 = 1.0 / v105;
                v107 = ((((v106 * (((v103 * v95[2].f32[0]) + (v95->f32[1] * v102)) + (v95[3].f32[1] * v104))) - *&v97) / v98) * v78);
                if ((v107 & 0x80000000) == 0 && v107 < v72)
                {
                  v108 = ((((v106 * (((v103 * v95[2].f32[1]) + (v95[1].f32[0] * v102)) + (v95[4].f32[0] * v104))) - *(&v97 + 1)) / v99) * v79);
                  if ((v108 & 0x80000000) == 0 && v108 < v71)
                  {
                    v109 = (v94 + 288 * *v100);
                    v110 = (((*v109 - *&v97) / v98) * v78);
                    if ((v110 & 0x80000000) == 0 && v110 < v72)
                    {
                      v111 = (((v109[1] - *(&v97 + 1)) / v99) * v79);
                      if ((v111 & 0x80000000) == 0 && v111 < v71)
                      {
                        *(v73 + 4 * (v77 * v174 + v111) * v72 + 4 * v110) = 1065353216;
                        *(v73 + 4 * (v77 * v174 + v71 + v108) * v72 + 4 * v107) = 1065353216;
                      }
                    }
                  }
                }
              }

              v100 += 2;
              --v93;
            }

            while (v93);
          }

          v112 = v82[4];
          if (v112 >= 1)
          {
            v113 = 0;
            v114 = *(a7 + 32);
            v115 = v82[8];
            v116 = *a1;
            v117 = v189.i64[1];
            v118 = v189.f32[0] - v189.f32[2];
            v119 = v189.f32[1] - v189.f32[3];
            v120 = (a5[1] + 4);
            do
            {
              if ((*(v114 + v113 * 8) / v115[v113].f32[0]) >= *(v116 + 44))
              {
                v121 = *v82;
                v122 = (*(a6 + 8) + 12 * v82[5][v113].i32[0]);
                v123 = *v122 - (*v82)[4].f32[1];
                v124 = v122[1] - (*v82)[5].f32[0];
                v125 = v122[2] - (*v82)[5].f32[1];
                v126 = (((*v82)[1].f32[1] * v124) + ((*v82)->f32[0] * v123)) + ((*v82)[3].f32[0] * v125);
                if (v126 > 0.0)
                {
                  v127 = 1.0 / v126;
                  v128 = ((((v127 * (((v124 * v121[2].f32[0]) + (v121->f32[1] * v123)) + (v121[3].f32[1] * v125))) - *&v117) / v118) * v78);
                  if ((v128 & 0x80000000) == 0 && v128 < v72)
                  {
                    v129 = ((((v127 * (((v124 * v121[2].f32[1]) + (v121[1].f32[0] * v123)) + (v121[4].f32[0] * v125))) - *(&v117 + 1)) / v119) * v79);
                    if ((v129 & 0x80000000) == 0 && v129 < v71)
                    {
                      v130 = (((*(v120 - 1) - *&v117) / v118) * v78);
                      if ((v130 & 0x80000000) == 0 && v130 < v72)
                      {
                        v131 = (((*v120 - *(&v117 + 1)) / v119) * v79);
                        if ((v131 & 0x80000000) == 0 && v131 < v71)
                        {
                          *(v73 + 4 * ((v77 * v175 + 2) * v71 + v131) * v72 + 4 * v130) = 1065353216;
                          *(v73 + 4 * ((v77 * v175 + 3) * v71 + v129) * v72 + 4 * v128) = 1065353216;
                        }
                      }
                    }
                  }
                }
              }

              ++v113;
              v120 += 72;
              --v112;
            }

            while (v112);
          }

          ++v81;
          ++v77;
        }

        while (v85 != v177);
        v8 = v165;
        v66 = v170;
        if (*(v165 + 728))
        {
LABEL_146:
          printf("%sAborting : ", "");
          putchar(10);
          __assert_rtn("vl_hs_write_grid_to_tfrecord", "vl_verify_hs.c", 553, "0");
        }

        vl_hs_forward();
        v67 = v171;
        if (*(*a1 + 64))
        {
          v132 = *a1 + 68;
          v133 = v166;
          if (v170 < v166)
          {
            v133 = v170;
          }

          v134 = v133 - v167;
          v135 = &v12[80 * v167];
          v68 = v182;
          do
          {
            v136 = *v74++;
            v137 = v136 * 100.0;
            v138 = floorf(v136 * 100.0);
            v139 = v138;
            if (v138 > 99.0)
            {
              v139 = 99.0;
            }

            v140 = v139;
            if (v138 < 0.0)
            {
              v140 = 0;
            }

            v141 = *v135;
            v135 += 80;
            *(v141 + 272) = *(v132 + 4 * v140) + ((v137 - v140) * (*(v132 + 4 * v140 + 4) - *(v132 + 4 * v140)));
            --v134;
          }

          while (v134);
        }

        else
        {
          v142 = v166;
          if (v170 < v166)
          {
            v142 = v170;
          }

          v143 = v142 - v167;
          v144 = &v12[80 * v167];
          v68 = v182;
          do
          {
            v145 = *v74++;
            v146 = v145;
            v147 = *v144;
            v144 += 80;
            *(v147 + 272) = v146;
            --v143;
          }

          while (v143);
        }
      }

      free(v68);
      ++v172;
    }

    while (v67 != v168);
  }

  if (v164)
  {
    v148 = (v12 + 40);
    do
    {
      free(v148[3]);
      free(*v148);
      free(*(v148 - 3));
      v148 += 10;
      --v66;
    }

    while (v66);
  }

  free(v12);
  if (*(v8 + 212))
  {
    *(v8 + 120) += mach_absolute_time();
    if (*(v8 + 212))
    {
      goto LABEL_143;
    }

    return log_col_app("%s%s%s:%s%7.1fms%s", v149, v150, v151, v152, v153, v154, v155, &str_4_1);
  }

  else
  {
    clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, (v8 + 64));
    clock_gettime(_CLOCK_THREAD_CPUTIME_ID, (v8 + 80));
    clock_gettime(_CLOCK_MONOTONIC, (v8 + 48));
    v157 = *(v8 + 56) - *(v8 + 8) + 1000000000 * (*(v8 + 48) - *v8);
    v158 = *(v8 + 72) - *(v8 + 24) + 1000000000 * (*(v8 + 64) - *(v8 + 16));
    v159 = *(v8 + 88) - *(v8 + 40) + 1000000000 * (*(v8 + 80) - *(v8 + 32));
    v160 = *(v8 + 128);
    v161 = v157 + *(v8 + 120);
    *(v8 + 96) = v157;
    *(v8 + 104) = v158;
    v162 = v158 + v160;
    *(v8 + 112) = v159;
    *(v8 + 120) = v161;
    v163 = v159 + *(v8 + 136);
    *(v8 + 128) = v162;
    *(v8 + 136) = v163;
    ++*(v8 + 144);
    if (!*(v8 + 212))
    {
      return log_col_app("%s%s%s:%s%7.1fms%s", v149, v150, v151, v152, v153, v154, v155, &str_4_1);
    }

LABEL_143:
    printf("Verbose : ");
    printf("Total time for %40s : %7.3f ms", (v8 + 148), *(v8 + 120) * 0.000001);
    return putchar(10);
  }
}

float get_img_borders_normalized(_DWORD *a1, float *a2, float *a3)
{
  v21 = 0;
  v22 = 0uLL;
  v6 = *a1;
  v23 = 0xBFE0000000000000;
  if (v6 == 3)
  {
    v23.f64[1] = (a1[43] / 2) + -0.5;
    g_improj2_to_xyz(a1, &v23, &v21);
    v7 = v22.f64[0];
    *a2 = v7;
    v23.f64[0] = (a1[42] / 2) + -0.5;
    v23.f64[1] = -0.5;
    g_improj2_to_xyz(a1, &v23, &v21);
    v8 = v22.f64[1];
    a2[1] = v8;
    v9 = a1[43] / 2;
    v23.f64[0] = a1[42] + -0.5;
    v23.f64[1] = v9 + -0.5;
    g_improj2_to_xyz(a1, &v23, &v21);
    v10 = v22.f64[0];
    *a3 = v10;
    v11 = a1[43] + -0.5;
    v23.f64[0] = (a1[42] / 2) + -0.5;
    v23.f64[1] = v11;
    g_improj2_to_xyz(a1, &v23, &v21);
  }

  else
  {
    v23.f64[1] = -0.5;
    g_improj2_to_xyz(a1, &v23, &v21);
    *a2 = vcvt_f32_f64(v22);
    v12 = *(a1 + 21);
    v13.i64[0] = v12;
    v13.i64[1] = SHIDWORD(v12);
    __asm { FMOV            V1.2D, #-0.5 }

    v23 = vaddq_f64(vcvtq_f64_s64(v13), _Q1);
    g_improj2_to_xyz(a1, &v23, &v21);
    v19 = v22.f64[0];
    *a3 = v19;
  }

  result = v22.f64[1];
  a3[1] = result;
  return result;
}

uint64_t vl_dump_stop(uint64_t result)
{
  if (*(result + 548))
  {
    v1 = result;
    if (*(result + 32))
    {
      atomic_store(0, (result + 32));
      pthread_join(*(result + 8), 0);
      free(*(v1 + 1136));
      free(*(v1 + 1160));
      free(*(v1 + 1400));
      free(*(v1 + 1640));
      free(*(v1 + 2296));
      free(*(v1 + 2320));
      if (*(v1 + 2280))
      {
        free(*(v1 + 2272));
        *(v1 + 2280) = 0;
      }

      result = pthread_mutex_destroy((v1 + 1064));
      *v1 = 0;
    }
  }

  return result;
}

BOOL unlink_cb(const std::__fs::filesystem::path *a1, std::error_code *a2)
{
  result = remove(a1, a2);
  if (result)
  {
    v4 = result;
    perror(a1);
    return v4;
  }

  return result;
}

uint64_t vl_dump_update(uint64_t result, uint64_t *a2, int a3, float a4)
{
  if (result && *result && (*(result + 4) & 0x10) != 0 && *(result + 32) && *(result + 548))
  {
    v21.tv_sec = 0;
    v21.tv_nsec = 0;
    v7 = result;
    clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, &v21);
    v8 = (v21.tv_nsec - *(v7 + 24)) * 0.000000001 + (v21.tv_sec - *(v7 + 16));
    v9 = *a2;
    v10 = a2[1];
    v11 = a2[2];
    pthread_mutex_lock((v7 + 1064));
    v12 = v7;
    v13 = *(v7 + 1128);
    v14 = *(v7 + 1144);
    if (v13 >= v14)
    {
      v15 = 2 * v14;
      v16 = v14 == 0;
      v17 = 6;
      if (!v16)
      {
        v17 = v15;
      }

      if (v17 <= v13)
      {
        v18 = v13 + 1;
      }

      else
      {
        v18 = v17;
      }

      if (v18)
      {
        v19 = realloc(*(v7 + 1136), 40 * v18);
        v12 = v7;
        *(v7 + 1136) = v19;
        v13 = *(v7 + 1128);
      }

      *(v12 + 1144) = v18;
    }

    *(v12 + 1128) = v13 + 1;
    v20 = *(v12 + 1136) + 40 * v13;
    *v20 = v8;
    *(v20 + 8) = v9;
    *(v20 + 16) = v10;
    *(v20 + 24) = v11;
    *(v20 + 32) = a4;
    *(v20 + 36) = a3;
    return pthread_mutex_unlock((v12 + 1064));
  }

  return result;
}

uint64_t vl_dump_locate(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  if (result && *result && (*(result + 4) & 1) != 0 && *(result + 32) && *(result + 548))
  {
    v6 = result;
    v8 = malloc(0x2C8uLL);
    v9 = a3;
    v10 = *(a3 + 88);
    if (v10 == 0.0)
    {
      v29.tv_sec = 0;
      v29.tv_nsec = 0;
      clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, &v29);
      v10 = (v29.tv_nsec - *(v6 + 24)) * 0.000000001 + (v29.tv_sec - *(v6 + 16));
    }

    *v8 = v10;
    v11 = *(a2 + 12);
    v12 = *(a2 + 16);
    *(v8 + 176) = v12;
    v13 = *(a2 + 8);
    *(v8 + 174) = v13;
    *(v8 + 175) = v11;
    if (v12)
    {
      __assert_rtn("vl_dump_locate", "vl_dump.c", 1719, "image->type == 0 && Only support grey scale image");
    }

    v14 = v11 * v13;
    v15 = malloc(v14);
    *(v8 + 86) = v15;
    memcpy(v15, *a2, v14);
    v16 = *(v9 + 144);
    *(v8 + 648) = *(v9 + 128);
    *(v8 + 664) = v16;
    *(v8 + 85) = *(v9 + 160);
    v17 = *(v9 + 80);
    *(v8 + 584) = *(v9 + 64);
    *(v8 + 600) = v17;
    v18 = *(v9 + 112);
    *(v8 + 616) = *(v9 + 96);
    *(v8 + 632) = v18;
    v19 = *(v9 + 16);
    *(v8 + 520) = *v9;
    *(v8 + 536) = v19;
    v20 = *(v9 + 48);
    *(v8 + 552) = *(v9 + 32);
    *(v8 + 568) = v20;
    if (a4)
    {
      __strcpy_chk();
    }

    pthread_mutex_lock((v6 + 1064));
    v21 = v6;
    v22 = *(v6 + 1152);
    v23 = *(v6 + 1168);
    if (v22 >= v23)
    {
      v24 = 2 * v23;
      v25 = v23 == 0;
      v26 = 32;
      if (!v25)
      {
        v26 = v24;
      }

      if (v26 <= v22)
      {
        v27 = v22 + 1;
      }

      else
      {
        v27 = v26;
      }

      if (v27)
      {
        v28 = realloc(*(v6 + 1160), 8 * v27);
        v21 = v6;
        *(v6 + 1160) = v28;
        v22 = *(v6 + 1152);
      }

      *(v21 + 1168) = v27;
    }

    *(v21 + 1152) = v22 + 1;
    *(*(v21 + 1160) + 8 * v22) = v8;
    return pthread_mutex_unlock((v21 + 1064));
  }

  return result;
}

void vl_dump_kpts(uint64_t a1, uint64_t *a2)
{
  vl_dump_detail_add_hash(a1, "vl_kpts", a2, 0, 0);
  if (a1 && *a1 && (*(a1 + 4) & 2) != 0 && *(a1 + 32) && *(a1 + 548))
  {
    v4 = malloc(0x38uLL);
    v13.tv_sec = 0;
    v13.tv_nsec = 0;
    clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, &v13);
    *v4 = (v13.tv_nsec - *(a1 + 24)) * 0.000000001 + (v13.tv_sec - *(a1 + 16));
    v5 = *a2;
    if (*a2 <= 0)
    {
      v4[2] = 0.0;
      *(v4 + 3) = v5;
      *(v4 + 1) = v5;
      pthread_mutex_lock((a1 + 1064));
      v7 = *(a1 + 1392);
      v8 = *(a1 + 1408);
      if (v7 < v8)
      {
LABEL_18:
        *(a1 + 1392) = v7 + 1;
        *(*(a1 + 1400) + 8 * v7) = v4;
        pthread_mutex_unlock((a1 + 1064));
        return;
      }
    }

    else
    {
      v6 = malloc(288 * v5);
      *(v4 + 2) = v6;
      bzero(v6, 288 * v5);
      *(v4 + 3) = v5;
      *(v4 + 1) = v5;
      memcpy(v6, a2[1], 288 * v5);
      pthread_mutex_lock((a1 + 1064));
      v7 = *(a1 + 1392);
      v8 = *(a1 + 1408);
      if (v7 < v8)
      {
        goto LABEL_18;
      }
    }

    v9 = 2 * v8;
    v10 = v8 == 0;
    v11 = 32;
    if (!v10)
    {
      v11 = v9;
    }

    if (v11 <= v7)
    {
      v12 = v7 + 1;
    }

    else
    {
      v12 = v11;
    }

    if (v12)
    {
      *(a1 + 1400) = realloc(*(a1 + 1400), 8 * v12);
      v7 = *(a1 + 1392);
    }

    *(a1 + 1408) = v12;
    goto LABEL_18;
  }
}

__n128 vl_dump_detail_add_hash(uint64_t a1, uint64_t a2, void *a3, void *a4, void *a5)
{
  result.n128_u64[0] = 0;
  v44 = 0u;
  if (!a1 || !*a1 || (*(a1 + 4) & 8) == 0)
  {
    return result;
  }

  v7 = a5;
  if (a3)
  {
    HIDWORD(v44) = *a3;
    v8 = 288 * *a3;
    if (v8)
    {
      v9 = 0;
      v10 = a3[1];
      do
      {
        v11 = *v10++;
        v9 = (1025 * (v9 + v11)) ^ ((1025 * (v9 + v11)) >> 6);
        --v8;
      }

      while (v8);
      v12 = a4;
      v8 = 9 * v9;
    }

    else
    {
      v12 = a4;
    }

    v45 = 32769 * (v8 ^ (v8 >> 11));
    __strcpy_chk();
    *&v44 = 0x2020207374704BLL;
    v13 = *(a1 + 1664);
    v14 = *(a1 + 1680);
    if (v13 >= v14)
    {
      v15 = 2 * v14;
      v16 = v14 == 0;
      v17 = 4;
      if (!v16)
      {
        v17 = v15;
      }

      if (v17 <= v13)
      {
        v18 = v13 + 1;
      }

      else
      {
        v18 = v17;
      }

      if (v18)
      {
        *(a1 + 1672) = realloc(*(a1 + 1672), 56 * v18);
        v13 = *(a1 + 1664);
      }

      *(a1 + 1680) = v18;
    }

    *(a1 + 1664) = v13 + 1;
    v19 = *(a1 + 1672) + 56 * v13;
    result = 0u;
    *(v19 + 48) = v45;
    *(v19 + 16) = 0u;
    *(v19 + 32) = v44;
    *v19 = 0u;
    a5 = v7;
    a4 = v12;
  }

  if (a4)
  {
    v20 = *a4;
    HIDWORD(v44) = *a4;
    v21 = 8 * a4[3];
    if (v21)
    {
      v22 = 0;
      v23 = a4[4];
      do
      {
        v24 = *v23++;
        v22 = (1025 * (v22 + v24)) ^ ((1025 * (v22 + v24)) >> 6);
        --v21;
      }

      while (v21);
      v25 = 8 * v20;
      if (!v25)
      {
        goto LABEL_29;
      }
    }

    else
    {
      v22 = 0;
      v25 = 8 * v20;
      if (!v25)
      {
LABEL_29:
        v46 = 32769 * ((9 * v22) ^ ((9 * v22) >> 11));
        __strcpy_chk();
        *&v44 = 0x7365686374614DLL;
        v28 = *(a1 + 1664);
        v29 = *(a1 + 1680);
        if (v28 >= v29)
        {
          v30 = 2 * v29;
          v16 = v29 == 0;
          v31 = 4;
          if (!v16)
          {
            v31 = v30;
          }

          if (v31 <= v28)
          {
            v32 = v28 + 1;
          }

          else
          {
            v32 = v31;
          }

          if (v32)
          {
            *(a1 + 1672) = realloc(*(a1 + 1672), 56 * v32);
            v28 = *(a1 + 1664);
          }

          *(a1 + 1680) = v32;
        }

        *(a1 + 1664) = v28 + 1;
        v33 = *(a1 + 1672) + 56 * v28;
        result = 0u;
        *(v33 + 48) = v46;
        *(v33 + 16) = 0u;
        *(v33 + 32) = v44;
        *v33 = 0u;
        a5 = v7;
        goto LABEL_39;
      }
    }

    v26 = a4[1];
    do
    {
      v27 = *v26++;
      v22 = (1025 * (v22 + v27)) ^ ((1025 * (v22 + v27)) >> 6);
      --v25;
    }

    while (v25);
    goto LABEL_29;
  }

LABEL_39:
  if (a5)
  {
    HIDWORD(v44) = *a5;
    v34 = 12 * *a5;
    if (v34)
    {
      v35 = 0;
      v36 = a5[1];
      do
      {
        v37 = *v36++;
        v35 = (1025 * (v35 + v37)) ^ ((1025 * (v35 + v37)) >> 6);
        --v34;
      }

      while (v34);
      v34 = 9 * v35;
    }

    v47 = 32769 * (v34 ^ (v34 >> 11));
    __strcpy_chk();
    *&v44 = 0x20736B63617254;
    v38 = *(a1 + 1664);
    v39 = *(a1 + 1680);
    if (v38 >= v39)
    {
      v40 = 2 * v39;
      v16 = v39 == 0;
      v41 = 4;
      if (!v16)
      {
        v41 = v40;
      }

      if (v41 <= v38)
      {
        v42 = v38 + 1;
      }

      else
      {
        v42 = v41;
      }

      if (v42)
      {
        *(a1 + 1672) = realloc(*(a1 + 1672), 56 * v42);
        v38 = *(a1 + 1664);
      }

      *(a1 + 1680) = v42;
    }

    *(a1 + 1664) = v38 + 1;
    v43 = *(a1 + 1672) + 56 * v38;
    result = 0u;
    *(v43 + 48) = v47;
    *(v43 + 16) = 0u;
    *(v43 + 32) = v44;
    *v43 = 0u;
  }

  return result;
}

uint64_t vl_dump_result(uint64_t result, uint64_t a2, _OWORD *a3, int a4)
{
  if (result && *result && (*(result + 4) & 4) != 0 && *(result + 32) && *(result + 548))
  {
    v4 = result;
    v8 = malloc(0x118uLL);
    v24.tv_sec = 0;
    v24.tv_nsec = 0;
    clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, &v24);
    *v8 = (v24.tv_nsec - *(v4 + 24)) * 0.000000001 + (v24.tv_sec - *(v4 + 16));
    v9 = *(a2 + 208);
    *(v8 + 200) = *(a2 + 192);
    *(v8 + 216) = v9;
    *(v8 + 232) = *(a2 + 224);
    *(v8 + 31) = *(a2 + 240);
    v10 = *(a2 + 144);
    *(v8 + 136) = *(a2 + 128);
    *(v8 + 152) = v10;
    v11 = *(a2 + 176);
    *(v8 + 168) = *(a2 + 160);
    *(v8 + 184) = v11;
    v12 = *(a2 + 80);
    *(v8 + 72) = *(a2 + 64);
    *(v8 + 88) = v12;
    v13 = *(a2 + 112);
    *(v8 + 104) = *(a2 + 96);
    *(v8 + 120) = v13;
    v14 = *(a2 + 16);
    *(v8 + 8) = *a2;
    *(v8 + 24) = v14;
    v15 = *(a2 + 48);
    *(v8 + 40) = *(a2 + 32);
    *(v8 + 56) = v15;
    *(v8 + 16) = *a3;
    *(v8 + 68) = a4;
    pthread_mutex_lock((v4 + 1064));
    v16 = v4;
    v17 = *(v4 + 1632);
    v18 = *(v4 + 1648);
    if (v17 >= v18)
    {
      v19 = 2 * v18;
      v20 = v18 == 0;
      v21 = 32;
      if (!v20)
      {
        v21 = v19;
      }

      if (v21 <= v17)
      {
        v22 = v17 + 1;
      }

      else
      {
        v22 = v21;
      }

      if (v22)
      {
        v23 = realloc(*(v4 + 1640), 8 * v22);
        v16 = v4;
        *(v4 + 1640) = v23;
        v17 = *(v4 + 1632);
      }

      *(v16 + 1648) = v22;
    }

    *(v16 + 1632) = v17 + 1;
    *(*(v16 + 1640) + 8 * v17) = v8;
    return pthread_mutex_unlock((v16 + 1064));
  }

  return result;
}

uint64_t vl_dump_stats(uint64_t result, uint64_t a2)
{
  if (result && *result && (*(result + 4) & 0x20) != 0 && *(result + 32) && *(result + 548))
  {
    v2 = result;
    v4 = malloc(0x200uLL);
    v13.tv_sec = 0;
    v13.tv_nsec = 0;
    clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, &v13);
    *v4 = (v13.tv_nsec - *(v2 + 24)) * 0.000000001 + (v13.tv_sec - *(v2 + 16));
    vl_stats_get(a2, v4 + 1);
    pthread_mutex_lock((v2 + 1064));
    v5 = v2;
    v6 = *(v2 + 2312);
    v7 = *(v2 + 2328);
    if (v6 >= v7)
    {
      v8 = 2 * v7;
      v9 = v7 == 0;
      v10 = 32;
      if (!v9)
      {
        v10 = v8;
      }

      if (v10 <= v6)
      {
        v11 = v6 + 1;
      }

      else
      {
        v11 = v10;
      }

      if (v11)
      {
        v12 = realloc(*(v2 + 2320), 8 * v11);
        v5 = v2;
        *(v2 + 2320) = v12;
        v6 = *(v2 + 2312);
      }

      *(v5 + 2328) = v11;
    }

    *(v5 + 2312) = v6 + 1;
    *(*(v5 + 2320) + 8 * v6) = v4;
    return pthread_mutex_unlock((v5 + 1064));
  }

  return result;
}

void vl_dump_detail(uint64_t a1, uint64_t a2, double *a3)
{
  if (a1 && *a1 && (*(a1 + 4) & 8) != 0)
  {
    v5 = *a3;
    v6 = *(a3 + 1);
    *(a1 + 2192) = *(a3 + 2);
    *(a1 + 2176) = v6;
    *(a1 + 2160) = v5;
    v7 = *(a3 + 3);
    v8 = *(a3 + 4);
    v9 = *(a3 + 5);
    *(a1 + 2256) = *(a3 + 6);
    *(a1 + 2240) = v9;
    *(a1 + 2224) = v8;
    *(a1 + 2208) = v7;
    v44 = 0uLL;
    clock_gettime(_CLOCK_PROCESS_CPUTIME_ID, &v44);
    *(a1 + 1656) = (*(&v44 + 1) - *(a1 + 24)) * 0.000000001 + (v44 - *(a1 + 16));
    if (*(a1 + 1832) >= 1)
    {
      v10 = 0;
      v11 = 0;
      do
      {
        v12 = (*(a1 + 1840) + v10);
        v13 = vcvtq_f64_f32(vcvt_f32_f64(v12[1]));
        v14 = vcvtq_f64_f32(vcvt_f32_f64(v12[3]));
        v15 = vcvtq_f64_f32(vcvt_f32_f64(v12[2]));
        v16 = vcvt_f32_f64(v12[4]);
        v17 = vcvtq_f64_f32(vcvt_f32_f64(v12[5]));
        v44 = vcvtq_f64_f32(vcvt_f32_f64(*v12));
        v45 = v13;
        v46 = v15;
        v47 = v14;
        v48 = vcvtq_f64_f32(v16);
        v49 = v17;
        g_camera_local_to_global(a3, &v44, v12->f64);
        ++v11;
        v10 += 96;
      }

      while (*(a1 + 1832) > v11);
    }

    if (*(a1 + 1880) >= 1)
    {
      v18 = 0;
      v19 = 0;
      do
      {
        v20 = (*(a1 + 1888) + v18);
        v21 = vcvtq_f64_f32(vcvt_f32_f64(v20[1]));
        v22 = vcvtq_f64_f32(vcvt_f32_f64(v20[3]));
        v23 = vcvtq_f64_f32(vcvt_f32_f64(v20[2]));
        v24 = vcvt_f32_f64(v20[4]);
        v25 = vcvtq_f64_f32(vcvt_f32_f64(v20[5]));
        v44 = vcvtq_f64_f32(vcvt_f32_f64(*v20));
        v45 = v21;
        v46 = v23;
        v47 = v22;
        v48 = vcvtq_f64_f32(v24);
        v49 = v25;
        g_camera_local_to_global(a3, &v44, v20->f64);
        ++v19;
        v18 += 96;
      }

      while (*(a1 + 1880) > v19);
    }

    if (*(a1 + 1928) >= 1)
    {
      v26 = 0;
      v27 = 0;
      do
      {
        v28 = (*(a1 + 1936) + v26);
        v29 = vcvtq_f64_f32(vcvt_f32_f64(v28[1]));
        v30 = vcvtq_f64_f32(vcvt_f32_f64(v28[3]));
        v31 = vcvtq_f64_f32(vcvt_f32_f64(v28[2]));
        v32 = vcvt_f32_f64(v28[4]);
        v33 = vcvtq_f64_f32(vcvt_f32_f64(v28[5]));
        v44 = vcvtq_f64_f32(vcvt_f32_f64(*v28));
        v45 = v29;
        v46 = v31;
        v47 = v30;
        v48 = vcvtq_f64_f32(v32);
        v49 = v33;
        g_camera_local_to_global(a3, &v44, v28->f64);
        ++v27;
        v26 += 96;
      }

      while (*(a1 + 1928) > v27);
    }

    v34 = vcvtq_f64_f32(vcvt_f32_f64(*(a1 + 1992)));
    v44 = vcvtq_f64_f32(vcvt_f32_f64(*(a1 + 1976)));
    v45 = v34;
    v35 = vcvtq_f64_f32(vcvt_f32_f64(*(a1 + 2024)));
    v46 = vcvtq_f64_f32(vcvt_f32_f64(*(a1 + 2008)));
    v47 = v35;
    v36 = vcvtq_f64_f32(vcvt_f32_f64(*(a1 + 2056)));
    v48 = vcvtq_f64_f32(vcvt_f32_f64(*(a1 + 2040)));
    v49 = v36;
    g_camera_local_to_global(a3, &v44, (a1 + 1976));
    if (*(a1 + 32) && *(a1 + 548))
    {
      v37 = malloc(0x278uLL);
      memcpy(v37, (a1 + 1656), 0x278uLL);
      bzero((a1 + 1656), 0x278uLL);
      pthread_mutex_lock((a1 + 1064));
      v38 = *(a1 + 2288);
      v39 = *(a1 + 2304);
      if (v38 >= v39)
      {
        v40 = 2 * v39;
        v41 = v39 == 0;
        v42 = 32;
        if (!v41)
        {
          v42 = v40;
        }

        if (v42 <= v38)
        {
          v43 = v38 + 1;
        }

        else
        {
          v43 = v42;
        }

        if (v43)
        {
          *(a1 + 2296) = realloc(*(a1 + 2296), 8 * v43);
          v38 = *(a1 + 2288);
        }

        *(a1 + 2304) = v43;
      }

      *(a1 + 2288) = v38 + 1;
      *(*(a1 + 2296) + 8 * v38) = v37;
      pthread_mutex_unlock((a1 + 1064));
    }
  }
}

void vl_dump_detail_match(uint64_t a1, uint64_t a2)
{
  if (!a1 || !*a1 || (*(a1 + 4) & 8) == 0)
  {
    return;
  }

  if (*a2 >= 1)
  {
    v4 = malloc(8 * *a2);
    *(a1 + 1696) = v4;
    *(a1 + 1688) = 0;
    v5 = *a2;
    *(a1 + 1704) = *a2;
    if (v5 < 1)
    {
      goto LABEL_7;
    }

    goto LABEL_6;
  }

  v4 = 0;
  *(a1 + 1696) = 0;
  *(a1 + 1688) = 0;
  v5 = *a2;
  *(a1 + 1704) = *a2;
  if (v5 >= 1)
  {
LABEL_6:
    bzero(v4, 8 * v5);
  }

LABEL_7:
  *(a1 + 1688) = v5;
  if (*a2 >= 1)
  {
    memcpy(v4, *(a2 + 8), 8 * *a2);
  }

  v6 = *(a2 + 24);
  if (v6 >= 1)
  {
    v7 = malloc(8 * v6);
    *(a1 + 1720) = v7;
    *(a1 + 1712) = 0;
    v8 = *(a2 + 24);
    *(a1 + 1728) = v8;
    if (v8 < 1)
    {
      goto LABEL_12;
    }

    goto LABEL_11;
  }

  v7 = 0;
  *(a1 + 1720) = 0;
  *(a1 + 1712) = 0;
  v8 = *(a2 + 24);
  *(a1 + 1728) = v8;
  if (v8 >= 1)
  {
LABEL_11:
    bzero(v7, 8 * v8);
  }

LABEL_12:
  *(a1 + 1712) = v8;
  v9 = *(a2 + 24);
  if (v9 >= 1)
  {
    v10 = *(a2 + 32);

    memcpy(v7, v10, 8 * v9);
  }
}

void vl_dump_detail_pose_input(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (!a1 || !*a1 || (*(a1 + 4) & 8) == 0)
  {
    return;
  }

  if (*a2 >= 1)
  {
    v5 = a2;
    v6 = malloc(288 * *a2);
    a2 = v5;
    v7 = v6;
    *(a1 + 1744) = v6;
    *(a1 + 1736) = 0;
    v8 = *a2;
    *(a1 + 1752) = *a2;
    if (v8 < 1)
    {
      goto LABEL_7;
    }

    goto LABEL_6;
  }

  v7 = 0;
  *(a1 + 1744) = 0;
  *(a1 + 1736) = 0;
  v8 = *a2;
  *(a1 + 1752) = *a2;
  if (v8 >= 1)
  {
LABEL_6:
    v9 = a2;
    bzero(v7, 288 * v8);
    a2 = v9;
  }

LABEL_7:
  *(a1 + 1736) = v8;
  if (*a2 >= 1)
  {
    memcpy(v7, *(a2 + 8), 288 * *a2);
  }

  if (*a3 >= 1)
  {
    v10 = malloc(8 * *a3);
    *(a1 + 1792) = v10;
    *(a1 + 1784) = 0;
    v11 = *a3;
    *(a1 + 1800) = *a3;
    if (v11 < 1)
    {
      goto LABEL_12;
    }

    goto LABEL_11;
  }

  v10 = 0;
  *(a1 + 1792) = 0;
  *(a1 + 1784) = 0;
  v11 = *a3;
  *(a1 + 1800) = *a3;
  if (v11 >= 1)
  {
LABEL_11:
    bzero(v10, 8 * v11);
  }

LABEL_12:
  *(a1 + 1784) = v11;
  if (*a3 >= 1)
  {
    memcpy(v10, *(a3 + 8), 8 * *a3);
  }

  v12 = *(a3 + 24);
  if (v12 >= 1)
  {
    v13 = malloc(8 * v12);
    *(a1 + 1816) = v13;
    *(a1 + 1808) = 0;
    v14 = *(a3 + 24);
    *(a1 + 1824) = v14;
    if (v14 < 1)
    {
      goto LABEL_17;
    }

    goto LABEL_16;
  }

  v13 = 0;
  *(a1 + 1816) = 0;
  *(a1 + 1808) = 0;
  v14 = *(a3 + 24);
  *(a1 + 1824) = v14;
  if (v14 >= 1)
  {
LABEL_16:
    bzero(v13, 8 * v14);
  }

LABEL_17:
  *(a1 + 1808) = v14;
  v15 = *(a3 + 24);
  if (v15 >= 1)
  {
    v16 = *(a3 + 32);

    memcpy(v13, v16, 8 * v15);
  }
}

float64_t vl_dump_detail_pose_score(uint64_t a1, uint64_t *a2)
{
  if (a1 && *a1 && (*(a1 + 4) & 8) != 0)
  {
    v4 = *a2;
    if (*a2 <= 0)
    {
      v7.f64[0] = 0.0;
      *(a1 + 1832) = 0u;
      *(a1 + 1848) = v4;
      *(a1 + 1856) = 0u;
      *(a1 + 1872) = v4;
    }

    else
    {
      *(a1 + 1840) = malloc(96 * v4);
      *(a1 + 1832) = 0;
      *(a1 + 1848) = v4;
      v5 = 0;
      v6 = 0;
      *(a1 + 1864) = malloc(4 * v4);
      *(a1 + 1856) = 0;
      *(a1 + 1872) = v4;
      do
      {
        v8 = a2[1];
        v9 = *(a1 + 1832);
        v10 = *(a1 + 1848);
        if (v9 >= v10)
        {
          if (v10)
          {
            v11 = 2 * v10;
          }

          else
          {
            v11 = 2;
          }

          if (v11 <= v9)
          {
            v12 = v9 + 1;
          }

          else
          {
            v12 = v11;
          }

          if (v12)
          {
            *(a1 + 1840) = realloc(*(a1 + 1840), 96 * v12);
            v9 = *(a1 + 1832);
          }

          *(a1 + 1848) = v12;
        }

        *(a1 + 1832) = v9 + 1;
        v13 = (*(a1 + 1840) + 96 * v9);
        v13[4] = 0u;
        v13[5] = 0u;
        v13[2] = 0u;
        v13[3] = 0u;
        *v13 = 0u;
        v13[1] = 0u;
        v14 = *(a1 + 1840) + 96 * *(a1 + 1832);
        v15 = (v8 + v5);
        v16 = vcvtq_f64_f32(v15[1]);
        *(v14 - 96) = vcvtq_f64_f32(*v15);
        *(v14 - 80) = v16;
        v17 = vcvtq_f64_f32(v15[3]);
        *(v14 - 64) = vcvtq_f64_f32(v15[2]);
        *(v14 - 48) = v17;
        v7 = vcvtq_f64_f32(v15[5]);
        *(v14 - 32) = vcvtq_f64_f32(v15[4]);
        *(v14 - 16) = v7;
        v18 = *(a1 + 1856);
        v19 = *(a1 + 1872);
        if (v18 >= v19)
        {
          if (v19)
          {
            v20 = 2 * v19;
          }

          else
          {
            v20 = 64;
          }

          if (v20 <= v18)
          {
            v21 = v18 + 1;
          }

          else
          {
            v21 = v20;
          }

          if (v21)
          {
            *(a1 + 1864) = realloc(*(a1 + 1864), 4 * v21);
            v18 = *(a1 + 1856);
          }

          *(a1 + 1872) = v21;
        }

        *(a1 + 1856) = v18 + 1;
        LODWORD(v7.f64[0]) = v15[34].i32[0];
        *(*(a1 + 1864) + 4 * v18) = LODWORD(v7.f64[0]);
        ++v6;
        v5 += 280;
      }

      while (*a2 > v6);
    }
  }

  return v7.f64[0];
}

float64_t vl_dump_detail_pose_referee(uint64_t a1, uint64_t *a2)
{
  if (a1 && *a1 && (*(a1 + 4) & 8) != 0)
  {
    v4 = *a2;
    if (*a2 <= 0)
    {
      v7.f64[0] = 0.0;
      *(a1 + 1880) = 0u;
      *(a1 + 1896) = v4;
      *(a1 + 1904) = 0u;
      *(a1 + 1920) = v4;
    }

    else
    {
      *(a1 + 1888) = malloc(96 * v4);
      *(a1 + 1880) = 0;
      *(a1 + 1896) = v4;
      v5 = 0;
      v6 = 0;
      *(a1 + 1912) = malloc(4 * v4);
      *(a1 + 1904) = 0;
      *(a1 + 1920) = v4;
      do
      {
        v8 = a2[1];
        v9 = *(a1 + 1880);
        v10 = *(a1 + 1896);
        if (v9 >= v10)
        {
          if (v10)
          {
            v11 = 2 * v10;
          }

          else
          {
            v11 = 2;
          }

          if (v11 <= v9)
          {
            v12 = v9 + 1;
          }

          else
          {
            v12 = v11;
          }

          if (v12)
          {
            *(a1 + 1888) = realloc(*(a1 + 1888), 96 * v12);
            v9 = *(a1 + 1880);
          }

          *(a1 + 1896) = v12;
        }

        *(a1 + 1880) = v9 + 1;
        v13 = (*(a1 + 1888) + 96 * v9);
        v13[4] = 0u;
        v13[5] = 0u;
        v13[2] = 0u;
        v13[3] = 0u;
        *v13 = 0u;
        v13[1] = 0u;
        v14 = *(a1 + 1888) + 96 * *(a1 + 1880);
        v15 = (v8 + v5);
        v16 = vcvtq_f64_f32(v15[1]);
        *(v14 - 96) = vcvtq_f64_f32(*v15);
        *(v14 - 80) = v16;
        v17 = vcvtq_f64_f32(v15[3]);
        *(v14 - 64) = vcvtq_f64_f32(v15[2]);
        *(v14 - 48) = v17;
        v7 = vcvtq_f64_f32(v15[5]);
        *(v14 - 32) = vcvtq_f64_f32(v15[4]);
        *(v14 - 16) = v7;
        v18 = *(a1 + 1904);
        v19 = *(a1 + 1920);
        if (v18 >= v19)
        {
          if (v19)
          {
            v20 = 2 * v19;
          }

          else
          {
            v20 = 64;
          }

          if (v20 <= v18)
          {
            v21 = v18 + 1;
          }

          else
          {
            v21 = v20;
          }

          if (v21)
          {
            *(a1 + 1912) = realloc(*(a1 + 1912), 4 * v21);
            v18 = *(a1 + 1904);
          }

          *(a1 + 1920) = v21;
        }

        *(a1 + 1904) = v18 + 1;
        LODWORD(v7.f64[0]) = v15[34].i32[0];
        *(*(a1 + 1912) + 4 * v18) = LODWORD(v7.f64[0]);
        ++v6;
        v5 += 280;
      }

      while (*a2 > v6);
    }
  }

  return v7.f64[0];
}

float64_t vl_dump_detail_pose_fuse(uint64_t a1, uint64_t *a2)
{
  if (a1 && *a1 && (*(a1 + 4) & 8) != 0)
  {
    v4 = *a2;
    if (*a2 <= 0)
    {
      v7.f64[0] = 0.0;
      *(a1 + 1928) = 0u;
      *(a1 + 1944) = v4;
      *(a1 + 1952) = 0u;
      *(a1 + 1968) = v4;
    }

    else
    {
      *(a1 + 1936) = malloc(96 * v4);
      *(a1 + 1928) = 0;
      *(a1 + 1944) = v4;
      v5 = 0;
      v6 = 0;
      *(a1 + 1960) = malloc(4 * v4);
      *(a1 + 1952) = 0;
      *(a1 + 1968) = v4;
      do
      {
        v8 = a2[1];
        v9 = *(a1 + 1928);
        v10 = *(a1 + 1944);
        if (v9 >= v10)
        {
          if (v10)
          {
            v11 = 2 * v10;
          }

          else
          {
            v11 = 2;
          }

          if (v11 <= v9)
          {
            v12 = v9 + 1;
          }

          else
          {
            v12 = v11;
          }

          if (v12)
          {
            *(a1 + 1936) = realloc(*(a1 + 1936), 96 * v12);
            v9 = *(a1 + 1928);
          }

          *(a1 + 1944) = v12;
        }

        *(a1 + 1928) = v9 + 1;
        v13 = (*(a1 + 1936) + 96 * v9);
        v13[4] = 0u;
        v13[5] = 0u;
        v13[2] = 0u;
        v13[3] = 0u;
        *v13 = 0u;
        v13[1] = 0u;
        v14 = *(a1 + 1936) + 96 * *(a1 + 1928);
        v15 = (v8 + v5);
        v16 = vcvtq_f64_f32(v15[1]);
        *(v14 - 96) = vcvtq_f64_f32(*v15);
        *(v14 - 80) = v16;
        v17 = vcvtq_f64_f32(v15[3]);
        *(v14 - 64) = vcvtq_f64_f32(v15[2]);
        *(v14 - 48) = v17;
        v7 = vcvtq_f64_f32(v15[5]);
        *(v14 - 32) = vcvtq_f64_f32(v15[4]);
        *(v14 - 16) = v7;
        v18 = *(a1 + 1952);
        v19 = *(a1 + 1968);
        if (v18 >= v19)
        {
          if (v19)
          {
            v20 = 2 * v19;
          }

          else
          {
            v20 = 64;
          }

          if (v20 <= v18)
          {
            v21 = v18 + 1;
          }

          else
          {
            v21 = v20;
          }

          if (v21)
          {
            *(a1 + 1960) = realloc(*(a1 + 1960), 4 * v21);
            v18 = *(a1 + 1952);
          }

          *(a1 + 1968) = v21;
        }

        *(a1 + 1952) = v18 + 1;
        LODWORD(v7.f64[0]) = v15[34].i32[0];
        *(*(a1 + 1960) + 4 * v18) = LODWORD(v7.f64[0]);
        ++v6;
        v5 += 280;
      }

      while (*a2 > v6);
    }
  }

  return v7.f64[0];
}

void vl_dump_detail_pose_result(uint64_t a1, float32x2_t *a2, uint64_t a3, float a4)
{
  v91 = *MEMORY[0x277D85DE8];
  v89 = 0u;
  v90 = 0u;
  if (!a1 || !*a1 || (*(a1 + 4) & 8) == 0)
  {
    return;
  }

  v7 = vcvtq_f64_f32(a2[1]);
  *(a1 + 1976) = vcvtq_f64_f32(*a2);
  *(a1 + 1992) = v7;
  v8 = vcvtq_f64_f32(a2[3]);
  *(a1 + 2008) = vcvtq_f64_f32(a2[2]);
  *(a1 + 2024) = v8;
  v9 = vcvtq_f64_f32(a2[5]);
  *(a1 + 2040) = vcvtq_f64_f32(a2[4]);
  *(a1 + 2056) = v9;
  *(a1 + 2072) = a4;
  v10 = *(a1 + 2080);
  v11 = *a3;
  v12 = *(a1 + 2096);
  if (*a3 > v12)
  {
    v80 = 2 * v12;
    v76 = v12 == 0;
    v81 = 32;
    if (!v76)
    {
      v81 = v80;
    }

    if (v81 <= v11)
    {
      v82 = *a3;
    }

    else
    {
      v82 = v81;
    }

    if (v82)
    {
      *(a1 + 2088) = realloc(*(a1 + 2088), 8 * v82);
    }

    *(a1 + 2096) = v82;
    v13 = v11 - v10;
    if (v11 <= v10)
    {
LABEL_6:
      v14 = *a3;
      *(a1 + 2080) = *a3;
      if (v14 < 1)
      {
        goto LABEL_8;
      }

      goto LABEL_7;
    }
  }

  else
  {
    v13 = v11 - v10;
    if (v11 <= v10)
    {
      goto LABEL_6;
    }
  }

  bzero((*(a1 + 2088) + 8 * *(a1 + 2080)), 8 * v13);
  v14 = *a3;
  *(a1 + 2080) = *a3;
  if (v14 >= 1)
  {
LABEL_7:
    memcpy(*(a1 + 2088), *(a3 + 8), 8 * v14);
  }

LABEL_8:
  v15 = *(a1 + 2104);
  v16 = *(a3 + 24);
  v17 = *(a1 + 2120);
  if (v16 > v17)
  {
    v83 = 2 * v17;
    v76 = v17 == 0;
    v84 = 21;
    if (!v76)
    {
      v84 = v83;
    }

    if (v84 <= v16)
    {
      v85 = *(a3 + 24);
    }

    else
    {
      v85 = v84;
    }

    if (v85)
    {
      *(a1 + 2112) = realloc(*(a1 + 2112), 12 * v85);
    }

    *(a1 + 2120) = v85;
    v18 = v16 - v15;
    if (v16 <= v15)
    {
LABEL_10:
      v19 = *(a3 + 24);
      *(a1 + 2104) = v19;
      if (v19 < 1)
      {
        goto LABEL_12;
      }

      goto LABEL_11;
    }
  }

  else
  {
    v18 = v16 - v15;
    if (v16 <= v15)
    {
      goto LABEL_10;
    }
  }

  bzero((*(a1 + 2112) + 12 * *(a1 + 2104)), 12 * v18);
  v19 = *(a3 + 24);
  *(a1 + 2104) = v19;
  if (v19 >= 1)
  {
LABEL_11:
    memcpy(*(a1 + 2112), *(a3 + 32), 12 * v19);
  }

LABEL_12:
  v20 = *(a1 + 2128);
  v21 = *(a3 + 48);
  v22 = *(a1 + 2144);
  if (v21 <= v22)
  {
    v23 = v21 - v20;
    if (v21 <= v20)
    {
      goto LABEL_14;
    }

LABEL_55:
    bzero((*(a1 + 2136) + 8 * *(a1 + 2128)), 8 * v23);
    v24 = *(a3 + 48);
    *(a1 + 2128) = v24;
    if (v24 < 1)
    {
      goto LABEL_16;
    }

    goto LABEL_15;
  }

  v86 = 2 * v22;
  v76 = v22 == 0;
  v87 = 32;
  if (!v76)
  {
    v87 = v86;
  }

  if (v87 <= v21)
  {
    v88 = *(a3 + 48);
  }

  else
  {
    v88 = v87;
  }

  if (v88)
  {
    *(a1 + 2136) = realloc(*(a1 + 2136), 8 * v88);
  }

  *(a1 + 2144) = v88;
  v23 = v21 - v20;
  if (v21 > v20)
  {
    goto LABEL_55;
  }

LABEL_14:
  v24 = *(a3 + 48);
  *(a1 + 2128) = v24;
  if (v24 >= 1)
  {
LABEL_15:
    memcpy(*(a1 + 2136), *(a3 + 56), 8 * v24);
  }

LABEL_16:
  v25 = 1025 * (((1025 * a2->i8[0]) ^ ((1025 * a2->i8[0]) >> 6)) + a2->i8[1]);
  v26 = 1025 * ((v25 ^ (v25 >> 6)) + a2->i8[2]);
  v27 = 1025 * ((v26 ^ (v26 >> 6)) + a2->i8[3]);
  v28 = 1025 * ((v27 ^ (v27 >> 6)) + a2->i8[4]);
  v29 = 1025 * ((v28 ^ (v28 >> 6)) + a2->i8[5]);
  v30 = 1025 * ((v29 ^ (v29 >> 6)) + a2->i8[6]);
  v31 = 1025 * ((v30 ^ (v30 >> 6)) + a2->i8[7]);
  v32 = 1025 * ((v31 ^ (v31 >> 6)) + a2[1].i8[0]);
  v33 = 1025 * ((v32 ^ (v32 >> 6)) + a2[1].i8[1]);
  v34 = 1025 * ((v33 ^ (v33 >> 6)) + a2[1].i8[2]);
  v35 = 1025 * ((v34 ^ (v34 >> 6)) + a2[1].i8[3]);
  v36 = 1025 * ((v35 ^ (v35 >> 6)) + a2[1].i8[4]);
  v37 = 1025 * ((v36 ^ (v36 >> 6)) + a2[1].i8[5]);
  v38 = 1025 * ((v37 ^ (v37 >> 6)) + a2[1].i8[6]);
  v39 = 1025 * ((v38 ^ (v38 >> 6)) + a2[1].i8[7]);
  v40 = 1025 * ((v39 ^ (v39 >> 6)) + a2[2].i8[0]);
  v41 = 1025 * ((v40 ^ (v40 >> 6)) + a2[2].i8[1]);
  v42 = 1025 * ((v41 ^ (v41 >> 6)) + a2[2].i8[2]);
  v43 = 1025 * ((v42 ^ (v42 >> 6)) + a2[2].i8[3]);
  v44 = 1025 * ((v43 ^ (v43 >> 6)) + a2[2].i8[4]);
  v45 = 1025 * ((v44 ^ (v44 >> 6)) + a2[2].i8[5]);
  v46 = 1025 * ((v45 ^ (v45 >> 6)) + a2[2].i8[6]);
  v47 = 1025 * ((v46 ^ (v46 >> 6)) + a2[2].i8[7]);
  v48 = 1025 * ((v47 ^ (v47 >> 6)) + a2[3].i8[0]);
  v49 = 1025 * ((v48 ^ (v48 >> 6)) + a2[3].i8[1]);
  v50 = 1025 * ((v49 ^ (v49 >> 6)) + a2[3].i8[2]);
  v51 = 1025 * ((v50 ^ (v50 >> 6)) + a2[3].i8[3]);
  v52 = 1025 * ((v51 ^ (v51 >> 6)) + a2[3].i8[4]);
  v53 = 1025 * ((v52 ^ (v52 >> 6)) + a2[3].i8[5]);
  v54 = 1025 * ((v53 ^ (v53 >> 6)) + a2[3].i8[6]);
  v55 = 1025 * ((v54 ^ (v54 >> 6)) + a2[3].i8[7]);
  v56 = 1025 * ((v55 ^ (v55 >> 6)) + a2[4].i8[0]);
  v57 = 1025 * ((v56 ^ (v56 >> 6)) + a2[4].i8[1]);
  v58 = 1025 * ((v57 ^ (v57 >> 6)) + a2[4].i8[2]);
  v59 = 1025 * ((v58 ^ (v58 >> 6)) + a2[4].i8[3]);
  v60 = 1025 * ((v59 ^ (v59 >> 6)) + a2[4].i8[4]);
  v61 = 1025 * ((v60 ^ (v60 >> 6)) + a2[4].i8[5]);
  v62 = 1025 * ((v61 ^ (v61 >> 6)) + a2[4].i8[6]);
  v63 = 1025 * ((v62 ^ (v62 >> 6)) + a2[4].i8[7]);
  v64 = 1025 * ((v63 ^ (v63 >> 6)) + a2[5].i8[0]);
  v65 = 1025 * ((v64 ^ (v64 >> 6)) + a2[5].i8[1]);
  v66 = 1025 * ((v65 ^ (v65 >> 6)) + a2[5].i8[2]);
  v67 = 1025 * ((v66 ^ (v66 >> 6)) + a2[5].i8[3]);
  v68 = 1025 * ((v67 ^ (v67 >> 6)) + a2[5].i8[4]);
  v69 = 1025 * ((v68 ^ (v68 >> 6)) + a2[5].i8[5]);
  v70 = 1025 * ((v69 ^ (v69 >> 6)) + a2[5].i8[6]);
  v71 = 1025 * ((v70 ^ (v70 >> 6)) + a2[5].i8[7]);
  v72 = 32769 * ((9 * (v71 ^ (v71 >> 6))) ^ ((9 * (v71 ^ (v71 >> 6))) >> 11));
  strcpy(&v89, "vl_pose output");
  v73 = *(a1 + 1664);
  v74 = *(a1 + 1680);
  if (v73 >= v74)
  {
    v75 = 2 * v74;
    v76 = v74 == 0;
    v77 = 4;
    if (!v76)
    {
      v77 = v75;
    }

    if (v77 <= v73)
    {
      v78 = v73 + 1;
    }

    else
    {
      v78 = v77;
    }

    if (v78)
    {
      *(a1 + 1672) = realloc(*(a1 + 1672), 56 * v78);
      v73 = *(a1 + 1664);
    }

    *(a1 + 1680) = v78;
  }

  *(a1 + 1664) = v73 + 1;
  v79 = *(a1 + 1672) + 56 * v73;
  *v79 = v89;
  *(v79 + 16) = v90;
  *(v79 + 32) = 0x20202065736F50;
  *(v79 + 40) = 0x100000000;
  *(v79 + 48) = v72;
}

void vl_dump_ps_args_store(uint64_t a1, const void *a2, uint64_t a3, uint64_t *a4, uint64_t a5, uint64_t a6, _OWORD *a7)
{
  if (!a1)
  {
    return;
  }

  v11 = *a1;
  v12 = *(a1 + 16);
  if (*a1 >= v12)
  {
    v13 = 2 * v12;
    if (v13 <= v11)
    {
      v14 = v11 + 1;
    }

    else
    {
      v14 = v13;
    }

    if (v14)
    {
      *(a1 + 8) = realloc(*(a1 + 8), 400 * v14);
      v11 = *a1;
    }

    *(a1 + 16) = v14;
  }

  *a1 = v11 + 1;
  v15 = (*(a1 + 8) + 400 * v11);
  v16 = 0uLL;
  v15[23] = 0u;
  v15[24] = 0u;
  v15[21] = 0u;
  v15[22] = 0u;
  v15[19] = 0u;
  v15[20] = 0u;
  v15[17] = 0u;
  v15[18] = 0u;
  v15[15] = 0u;
  v15[16] = 0u;
  v15[13] = 0u;
  v15[14] = 0u;
  v15[11] = 0u;
  v15[12] = 0u;
  v15[9] = 0u;
  v15[10] = 0u;
  v15[7] = 0u;
  v15[8] = 0u;
  v15[5] = 0u;
  v15[6] = 0u;
  v15[3] = 0u;
  v15[4] = 0u;
  v15[1] = 0u;
  v15[2] = 0u;
  *v15 = 0u;
  v18 = *a1;
  v17 = *(a1 + 8);
  v19 = *(a1 + 24);
  v20 = *(a1 + 40);
  if (v19 >= v20)
  {
    v21 = 2 * v20;
    v22 = v20 == 0;
    v23 = 5;
    if (!v22)
    {
      v23 = v21;
    }

    if (v23 <= v19)
    {
      v24 = v19 + 1;
    }

    else
    {
      v24 = v23;
    }

    if (v24)
    {
      v25 = realloc(*(a1 + 32), 48 * v24);
      v16 = 0uLL;
      *(a1 + 32) = v25;
      v19 = *(a1 + 24);
    }

    *(a1 + 40) = v24;
  }

  *(a1 + 24) = v19 + 1;
  v26 = (*(a1 + 32) + 48 * v19);
  v26[1] = v16;
  v26[2] = v16;
  *v26 = v16;
  v27 = *(a1 + 24);
  v107 = *(a1 + 32);
  v28 = *(a1 + 48);
  v29 = *(a1 + 64);
  if (v28 >= v29)
  {
    v30 = 2 * v29;
    if (v30 <= v28)
    {
      v31 = v28 + 1;
    }

    else
    {
      v31 = v30;
    }

    if (v31)
    {
      *(a1 + 56) = realloc(*(a1 + 56), 560 * v31);
      v28 = *(a1 + 48);
    }

    *(a1 + 64) = v31;
  }

  v32 = v17 + 400 * v18;
  *(a1 + 48) = v28 + 1;
  bzero((*(a1 + 56) + 560 * v28), 0x230uLL);
  v33 = *(a1 + 48);
  v34 = *(a1 + 56);
  v35 = *(a1 + 72);
  v36 = *(a1 + 88);
  if (v35 >= v36)
  {
    v37 = 2 * v36;
    v22 = v36 == 0;
    v38 = 5;
    if (!v22)
    {
      v38 = v37;
    }

    if (v38 <= v35)
    {
      v39 = v35 + 1;
    }

    else
    {
      v39 = v38;
    }

    if (v39)
    {
      v40 = v27;
      v41 = *(a1 + 48);
      v42 = realloc(*(a1 + 80), 48 * v39);
      v33 = v41;
      v27 = v40;
      *(a1 + 80) = v42;
      v35 = *(a1 + 72);
    }

    *(a1 + 88) = v39;
  }

  v43 = (v32 - 400);
  *(a1 + 72) = v35 + 1;
  v44 = (*(a1 + 80) + 48 * v35);
  v45 = 0uLL;
  v44[1] = 0u;
  v44[2] = 0u;
  *v44 = 0u;
  v103 = *(a1 + 72);
  v104 = *(a1 + 80);
  v46 = *(a1 + 96);
  v47 = *(a1 + 112);
  if (v46 >= v47)
  {
    if (v47)
    {
      v48 = 2 * v47;
    }

    else
    {
      v48 = 1;
    }

    if (v48 <= v46)
    {
      v49 = v46 + 1;
    }

    else
    {
      v49 = v48;
    }

    if (v49)
    {
      v50 = v27;
      v51 = v33;
      v52 = realloc(*(a1 + 104), 144 * v49);
      v45 = 0uLL;
      v33 = v51;
      v27 = v50;
      *(a1 + 104) = v52;
      v46 = *(a1 + 96);
    }

    *(a1 + 112) = v49;
  }

  *(a1 + 96) = v46 + 1;
  v53 = (*(a1 + 104) + 144 * v46);
  v53[7] = v45;
  v53[8] = v45;
  v54 = v107 + 48 * v27;
  v53[5] = v45;
  v53[6] = v45;
  v53[3] = v45;
  v53[4] = v45;
  v53[1] = v45;
  v53[2] = v45;
  *v53 = v45;
  v106 = *(a1 + 96);
  v108 = *(a1 + 104);
  v55 = *(a1 + 120);
  v56 = *(a1 + 136);
  if (v55 >= v56)
  {
    v57 = 2 * v56;
    v22 = v56 == 0;
    v58 = 2;
    if (!v22)
    {
      v58 = v57;
    }

    if (v58 <= v55)
    {
      v59 = v55 + 1;
    }

    else
    {
      v59 = v58;
    }

    if (v59)
    {
      v60 = a3;
      v61 = v33;
      v62 = realloc(*(a1 + 128), 96 * v59);
      v33 = v61;
      a3 = v60;
      *(a1 + 128) = v62;
      v55 = *(a1 + 120);
    }

    *(a1 + 136) = v59;
  }

  v63 = v34 + 560 * v33;
  *(a1 + 120) = v55 + 1;
  v64 = (*(a1 + 128) + 96 * v55);
  v65 = a7[1];
  *v64 = *a7;
  v66 = a7[2];
  v67 = a7[3];
  v68 = a7[5];
  v64[4] = a7[4];
  v64[5] = v68;
  v64[2] = v66;
  v64[3] = v67;
  v64[1] = v65;
  memcpy(v43, a2, 0x190uLL);
  *v43 = 0;
  if (*a3 >= 1)
  {
    v69 = malloc(288 * *a3);
    v70 = (v63 - 560);
    *(v54 - 48) = 0;
    *(v54 - 40) = v69;
    v71 = *a3;
    *(v54 - 32) = *a3;
    if (v71 < 1)
    {
      goto LABEL_56;
    }

    goto LABEL_55;
  }

  v69 = 0;
  v70 = (v63 - 560);
  *(v54 - 48) = 0;
  *(v54 - 40) = 0;
  v71 = *a3;
  *(v54 - 32) = *a3;
  if (v71 >= 1)
  {
LABEL_55:
    bzero(v69, 288 * v71);
  }

LABEL_56:
  *(v54 - 48) = v71;
  if (*a3 >= 1)
  {
    memcpy(*(v54 - 40), *(a3 + 8), 288 * *a3);
  }

  memcpy(v70, a4, 0x230uLL);
  if (*a4 < 1)
  {
    v72 = 0;
  }

  else
  {
    v72 = malloc(12 * *a4);
  }

  *(v63 - 552) = v72;
  *v70 = 0;
  v73 = *a4;
  *(v63 - 544) = *a4;
  if (v73 >= 1)
  {
    bzero(v72, 12 * v73);
  }

  *v70 = v73;
  if (*a4 >= 1)
  {
    memcpy(v72, a4[1], 12 * *a4);
  }

  v74 = (v63 - 536);
  *v74 = 0u;
  v74[1] = 0u;
  v75 = v63 - 512;
  *(v75 + 8) = 0;
  *(v75 + 16) = 0u;
  *(v63 - 480) = 0u;
  v76 = a4[12];
  if (v76 < 1)
  {
    v77 = 0;
  }

  else
  {
    v77 = malloc(8 * v76);
  }

  *(v63 - 456) = v77;
  *(v63 - 464) = 0;
  v78 = a4[12];
  *(v63 - 448) = v78;
  if (v78 >= 1)
  {
    bzero(v77, 8 * v78);
  }

  v79 = v104 + 48 * v103;
  *(v63 - 464) = v78;
  v80 = a4[12];
  if (v80 >= 1)
  {
    memcpy(v77, a4[13], 8 * v80);
  }

  v81 = (v63 - 440);
  v81[2] = 0;
  v81[3] = 0;
  *(v63 - 432) = 0;
  *v81 = 0;
  v82 = v63 - 416;
  *(v82 + 8) = 0;
  *(v82 + 16) = 0;
  v83 = (v63 - 392);
  *(v63 - 384) = 0;
  *v83 = 0;
  v83[2] = 0;
  v83[3] = 0;
  v84 = v63 - 368;
  *(v84 + 8) = 0;
  *(v84 + 16) = 0;
  *(v63 - 200) = 0;
  *(v63 - 192) = 0;
  *(v63 - 184) = 0;
  *(v63 - 176) = 0;
  *(v63 - 168) = 0;
  *(v63 - 160) = 0;
  *(v63 - 152) = 0;
  *(v63 - 144) = 0;
  *(v63 - 136) = 0;
  *(v63 - 128) = 0;
  *(v63 - 120) = 0;
  *(v63 - 112) = 0;
  *(v63 - 96) = 0;
  *(v63 - 88) = 0;
  *(v63 - 80) = 0;
  *(v63 - 72) = 0;
  *(v63 - 64) = 0;
  *(v63 - 56) = 0;
  *(v63 - 48) = 0;
  *(v63 - 40) = 0;
  *(v63 - 32) = 0;
  *(v63 - 24) = 0;
  *(v63 - 16) = 0;
  *(v63 - 8) = 0;
  if (*a5 >= 1)
  {
    v85 = malloc(8 * *a5);
    *(v79 - 48) = 0;
    *(v79 - 40) = v85;
    v86 = *a5;
    *(v79 - 32) = *a5;
    if (v86 < 1)
    {
      goto LABEL_77;
    }

    goto LABEL_76;
  }

  v85 = 0;
  *(v79 - 48) = 0;
  *(v79 - 40) = 0;
  v86 = *a5;
  *(v79 - 32) = *a5;
  if (v86 >= 1)
  {
LABEL_76:
    bzero(v85, 8 * v86);
  }

LABEL_77:
  *(v79 - 48) = v86;
  if (*a5 >= 1)
  {
    memcpy(v85, *(a5 + 8), 8 * *a5);
  }

  v87 = v108 + 144 * v106;
  v88 = *(a5 + 24);
  if (v88 < 1)
  {
    v89 = 0;
  }

  else
  {
    v89 = malloc(8 * v88);
  }

  *(v79 - 24) = 0;
  *(v79 - 16) = v89;
  v90 = *(a5 + 24);
  *(v79 - 8) = v90;
  if (v90 >= 1)
  {
    bzero(v89, 8 * v90);
  }

  *(v79 - 24) = v90;
  v91 = *(a5 + 24);
  if (v91 >= 1)
  {
    memcpy(v89, *(a5 + 32), 8 * v91);
  }

  *(v87 - 144) = *a6;
  v92 = *(a6 + 16);
  v93 = *(a6 + 32);
  v94 = *(a6 + 64);
  *(v87 - 96) = *(a6 + 48);
  *(v87 - 80) = v94;
  *(v87 - 128) = v92;
  *(v87 - 112) = v93;
  v95 = *(a6 + 80);
  v96 = *(a6 + 96);
  v97 = *(a6 + 128);
  *(v87 - 32) = *(a6 + 112);
  *(v87 - 16) = v97;
  *(v87 - 64) = v95;
  *(v87 - 48) = v96;
  v98 = *(a6 + 120);
  if (v98 >= 1)
  {
    v99 = malloc(4 * v98);
    *(v87 - 24) = 0;
    *(v87 - 16) = v99;
    v100 = *(a6 + 120);
    *(v87 - 8) = v100;
    if (v100 < 1)
    {
      goto LABEL_91;
    }

    goto LABEL_90;
  }

  v99 = 0;
  *(v87 - 24) = 0;
  *(v87 - 16) = 0;
  v100 = *(a6 + 120);
  *(v87 - 8) = v100;
  if (v100 >= 1)
  {
LABEL_90:
    bzero(v99, 4 * v100);
  }

LABEL_91:
  *(v87 - 24) = v100;
  v101 = *(a6 + 120);
  if (v101 >= 1)
  {
    v102 = *(a6 + 128);

    memcpy(v99, v102, 4 * v101);
  }
}

void vl_pose_g_ps(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  MEMORY[0x28223BE20](a1);
  v221 = v9;
  v249 = v10;
  v235 = v11;
  v281[1288] = *MEMORY[0x277D85DE8];
  v219 = v13;
  v220 = v12;
  v14 = *v13;
  v15 = v13[1];
  v16 = *(v13 + 15);
  v240 = v15 * v14;
  v18.i32[0] = *(v17 + 120);
  v266 = 0;
  v265 = 0;
  v264 = 0;
  v263 = 0;
  v261 = 0u;
  v262 = 0u;
  v259 = 0u;
  v260 = 0u;
  v257 = 0u;
  v258 = 0u;
  v233 = v19;
  v215 = *v19;
  v255 = 0u;
  v256 = 0u;
  v253 = 0u;
  v254 = 0u;
  v251 = 0u;
  v252 = 0u;
  v216 = v16 / (v15 * v14);
  v217 = v17;
  if (v216 >= 1)
  {
    v20 = 0;
    v21 = 0;
    v22 = 4 * v14;
    v228 = v22 * (v15 + 16);
    v24 = v14 < 1 || v15 < 1;
    v226 = v24;
    v238 = 32 * v14;
    ptr = v15;
    v218 = v238 | 0x10;
    v25.i64[0] = 0x3F0000003FLL;
    v25.i64[1] = 0x3F0000003FLL;
    v231 = *v18.i32;
    v224 = vdupq_n_s32(0x479C4000u);
    v225 = vdupq_lane_s32(v18, 0);
    v222 = vdupq_n_s32(0x3E99999Au);
    v223 = vnegq_f32(v25);
    while (1)
    {
      v26 = v15;
      v242 = v21;
      v244 = v20;
      v27 = 24 * v21;
      v15 = &v274[3 * v21];
      *(v15 + 2) = v14;
      *(v15 + 3) = v26;
      v15[2] = v14;
      v236 = pmem_alloc_ex(v228, 0, 0);
      v28 = v236 + v238;
      *v15 = v236 + v238;
      v29 = &v273[v27];
      *(v29 + 2) = v14;
      *(v29 + 3) = ptr;
      *(v29 + 2) = v14;
      LODWORD(v15) = ptr;
      v30 = pmem_alloc_ex(v228, 0, 0);
      v31 = v30 + v238;
      *v29 = v30 + v238;
      if (!v226)
      {
        break;
      }

LABEL_9:
      v21 = v242 + 1;
      v20 = v244 + v240;
      if (v242 + 1 == (v216 & 0x7FFFFFFF))
      {
        goto LABEL_31;
      }
    }

    v32 = 0;
    v33 = v242 * v240;
    v34 = v30 - v236;
    v35 = *(v219 + 16);
    v36 = v238 + v30;
    v37 = (v236 + v218);
    v38 = (v30 + v218);
    v39 = v244;
    while (v14 >= 8)
    {
      v40 = 0;
      if (v33 + v32 * v14 + v14 - 1 < v33 + v32 * v14 || (v14 - 1) >> 32 != 0)
      {
        goto LABEL_18;
      }

      if (v34 < 0x20)
      {
        goto LABEL_18;
      }

      v47 = v35 + 4 * (v33 + v32 * v14);
      if (v238 + v236 + v22 * v32 - v47 < 0x20)
      {
        goto LABEL_18;
      }

      if (v36 + v22 * v32 - v47 < 0x20)
      {
        goto LABEL_18;
      }

      v48 = v38;
      v49 = v14 & 0x7FFFFFF8;
      v50 = v37;
      v51 = v39;
      do
      {
        v52 = (v35 + 4 * v51);
        v53 = vsubq_f32(vbslq_s8(vcgtq_f32(vabsq_f32(v52[1]), v224), v223, v52[1]), v225);
        v50[-1] = vsubq_f32(vbslq_s8(vcgtq_f32(vabsq_f32(*v52), v224), v223, *v52), v225);
        *v50 = v53;
        v48[-1] = v222;
        *v48 = v222;
        v51 += 8;
        v50 += 2;
        v48 += 2;
        v49 -= 8;
      }

      while (v49);
      v40 = v14 & 0x7FFFFFF8;
      if (v40 != v14)
      {
        goto LABEL_18;
      }

LABEL_22:
      v32 = v32 + 1;
      v39 += v14;
      v37 = (v37 + v22);
      v38 = (v38 + v22);
      v31 += v22;
      v28 += v22;
      if (v32 == ptr)
      {
        goto LABEL_9;
      }
    }

    v40 = 0;
LABEL_18:
    v42 = v14 - v40;
    v43 = (v31 + 4 * v40);
    v44 = (v28 + 4 * v40);
    v45 = v39 + v40;
    do
    {
      v46 = *(v35 + 4 * v45);
      if (fabsf(v46) > 80000.0)
      {
        v46 = NAN;
      }

      *v44++ = v46 - v231;
      *v43++ = 1050253722;
      ++v45;
      --v42;
    }

    while (v42);
    goto LABEL_22;
  }

LABEL_31:
  g_coords_diff((v235 + 240), v219 + 1, &v251);
  v250[0] = vcvt_hight_f32_f64(vcvt_f32_f64(v251), v252);
  v250[1] = vcvt_hight_f32_f64(vcvt_f32_f64(v253), v254);
  v250[2] = vcvt_hight_f32_f64(vcvt_f32_f64(v255), v256);
  v54 = *(v220 + 232);
  v55 = *(v220 + 236);
  v56 = *(v220 + 240);
  v57 = 0.0;
  v58 = v56 * -0.0 + v55 * 0.0;
  v59 = v56 + v54 * -0.0;
  v60 = -(v55 - v54 * 0.0);
  v61 = v59 * v56 - v60 * v55;
  v62 = v60 * v54 - v58 * v56;
  v63 = v58 * v55 - v59 * v54;
  v64 = sqrt(v62 * v62 + v61 * v61 + v63 * v63);
  v65 = 0.0;
  v66 = 0.0;
  v67 = 0.0;
  if (v64 > 0.0)
  {
    v65 = v61 / v64;
    v66 = v62 / v64;
    v67 = v63 / v64;
  }

  v68 = sqrt(v59 * v59 + v58 * v58 + v60 * v60);
  v69 = 0.0;
  v70 = 0.0;
  v71 = v217;
  if (v68 > 0.0)
  {
    v57 = v58 / v68;
    v69 = v59 / v68;
    v70 = v60 / v68;
  }

  v72 = sqrt(v55 * v55 + v54 * v54 + v56 * v56);
  v73 = 0.0;
  v74 = 0.0;
  v75 = 0.0;
  if (v72 > 0.0)
  {
    v73 = v54 / v72;
    v74 = v55 / v72;
    v75 = v56 / v72;
  }

  v76 = v65 * 0.0 + 0.0 + v66 * 0.0 + v67 * 0.0;
  v77 = v57 * v76 + 0.0 + v69 * (v57 * v76 + 0.0) + v70 * 0.0;
  *&v257 = v65;
  *(&v257 + 1) = v66;
  *&v258 = v67;
  *(&v258 + 1) = v57;
  *&v259 = v69;
  *(&v259 + 1) = v70;
  *&v260 = v73;
  *(&v260 + 1) = v74;
  *&v261 = v75;
  *(&v261 + 1) = -v76;
  *&v262 = -v77;
  *(&v262 + 1) = -(v73 * v76 + 0.0 + v74 * v77 + v75 * (v73 * v76 + 0.0 + v74 * v77));
  if (v215 >= 1)
  {
    v78 = 0;
    v79 = 0;
    v80 = 0;
    v243 = 0;
    v245 = 0;
    v227 = 0;
    v229 = 0;
    v81 = 0;
    ptra = 0;
    v248 = 0;
    v82 = 0;
    v230 = 0;
    v232 = 0;
    v239 = 0;
    v241 = 0;
    v237 = 0;
    v83 = 0;
    v84 = v215 & 0x7FFFFFFF;
    while (1)
    {
      v85 = (*(v249 + 32) + v78);
      v86 = 1.0 - ((sqrtf(*v85) - *(v71 + 308)) / (*(v71 + 312) - *(v71 + 308)));
      v87 = 0.0;
      if (v86 >= 0.0)
      {
        v87 = 1.0;
        if (v86 <= 1.0)
        {
          v87 = v86;
        }
      }

      v88 = *(*(v249 + 8) + v78);
      v89 = v233[1];
      v90 = (1.0 - powf((*v85 / v85[1]) / *(v71 + 304), 8.0)) * v87;
      if (v90 <= 1.0)
      {
        v91 = v90;
      }

      else
      {
        v91 = 1.0;
      }

      v92 = v91 * 32.0;
      if (v90 >= 0.0)
      {
        v93 = v92;
      }

      else
      {
        v93 = 0.0;
      }

      if (v93 < 0.001)
      {
        goto LABEL_39;
      }

      v94 = *(v89 + v79);
      v95 = *(v89 + v79 + 4);
      v96 = *(&v261 + 1) + *&v257 + *(&v257 + 1) * v94 + *&v258 * v95;
      v97 = *&v262 + *(&v258 + 1) + *&v259 * v94 + *(&v259 + 1) * v95;
      v98 = *(&v262 + 1) + *&v260 + *(&v260 + 1) * v94 + *&v261 * v95;
      v99 = atan2f(v97, v96);
      v100 = v98 / sqrt(((v97 * v97) + (v96 * v96)));
      v101 = atanf(v100);
      v102 = *(v235 + 104);
      *&v275 = 0x40C90FDB00000000;
      v103 = *(v102 + 8 * v88 + 4) + 3.14159265;
      v104 = v103 + -1.04719758;
      *&v104 = v103 + -1.04719758;
      *&v103 = v103 + 1.04719758;
      angle_combine(&v275, *&v104, *&v103);
      if (*(v71 + 124) && *(v220 + 248) > 0.0)
      {
        v106 = *(v220 + 252);
        v107 = v99 + *(v220 + 244);
        *v105.i32 = v107 - v106;
        angle_combine(&v275, v105, v106 + v107);
      }

      if (*(&v275 + 1) == 0.0)
      {
        goto LABEL_39;
      }

      v108 = v81 + 1;
      if (v81 >= v227)
      {
        v114 = 2 * v227;
        if (!v227)
        {
          v114 = 32;
        }

        if (v114 <= v81)
        {
          v114 = v81 + 1;
        }

        v109 = v232;
        if (v114)
        {
          v227 = v114;
          ptra = malloc_type_realloc(ptra, 8 * v114, 0x100004000313F17uLL);
          *(ptra + v81) = v275;
          v110 = v83 + 1;
          if (v83 < v232)
          {
            goto LABEL_56;
          }
        }

        else
        {
          v227 = 0;
          *(ptra + v81) = v275;
          v110 = v83 + 1;
          if (v83 < v232)
          {
LABEL_56:
            v239[v83] = v80;
            v111 = v82 + 1;
            v112 = v230;
            if (v82 >= v230)
            {
              goto LABEL_72;
            }

            goto LABEL_57;
          }
        }
      }

      else
      {
        v109 = v232;
        *(ptra + v81) = v275;
        v110 = v83 + 1;
        if (v83 < v232)
        {
          goto LABEL_56;
        }
      }

      v115 = 2 * v109;
      if (!v109)
      {
        v115 = 64;
      }

      if (v115 <= v83)
      {
        v115 = v110;
      }

      if (v115)
      {
        v232 = v115;
        v239 = malloc_type_realloc(v239, 4 * v115, 0x100004052888210uLL);
        v239[v83] = v80;
        v111 = v82 + 1;
        v112 = v230;
        if (v82 >= v230)
        {
          goto LABEL_72;
        }
      }

      else
      {
        v232 = 0;
        v239[v83] = v80;
        v111 = v82 + 1;
        v112 = v230;
        if (v82 >= v230)
        {
LABEL_72:
          v116 = v112;
          v117 = 2 * v112;
          if (!v116)
          {
            v117 = 21;
          }

          if (v117 <= v82)
          {
            v117 = v111;
          }

          v113 = v237;
          if (v117)
          {
            v230 = v117;
            v245 = malloc_type_realloc(v245, 12 * v117, 0x10000403E1C8BA9uLL);
          }

          else
          {
            v230 = 0;
          }

          goto LABEL_81;
        }
      }

LABEL_57:
      v113 = v237;
LABEL_81:
      v118 = &v245[12 * v82];
      v119 = *(v235 + 8) + 12 * v88;
      v120 = *v119;
      *(v118 + 2) = *(v119 + 8);
      *v118 = v120;
      v121 = *v118;
      v122 = *(v118 + 1);
      v123 = *(v118 + 2);
      v124 = v255.f64[1] + v251.f64[1] * v122 + v251.f64[0] * v121 + v252.f64[0] * v123;
      v125 = v253.f64[0] * v122 + v252.f64[1] * v121 + v253.f64[1] * v123;
      v126 = v256.f64[1] + v254.f64[1] * v122 + v254.f64[0] * v121 + v255.f64[0] * v123;
      *&v124 = v124;
      *&v122 = v256.f64[0] + v125;
      *v118 = LODWORD(v124);
      *(v118 + 1) = LODWORD(v122);
      *&v126 = v126;
      *(v118 + 2) = LODWORD(v126);
      if (v80 >= v229)
      {
        v127 = 2 * v229;
        if (!v229)
        {
          v127 = 32;
        }

        if (v127 <= v80)
        {
          v127 = v80 + 1;
        }

        if (v127)
        {
          v229 = v127;
          v243 = malloc_type_realloc(v243, 8 * v127, 0x100004000313F17uLL);
        }

        else
        {
          v229 = 0;
        }
      }

      v128 = &v243[8 * v80];
      *v128 = v99;
      v128[1] = v101;
      if (v248 >= v113)
      {
        v129 = 2 * v113;
        if (!v113)
        {
          v129 = 128;
        }

        if (v129 <= v248)
        {
          v129 = v248 + 1;
        }

        if (v129)
        {
          v237 = v129;
          v241 = malloc_type_realloc(v241, 2 * v129, 0x1000040BDFB0063uLL);
        }

        else
        {
          v237 = 0;
        }
      }

      *(v241 + v248) = v93;
      v83 = v110;
      ++v248;
      v82 = v111;
      v81 = v108;
      ++v80;
      v71 = v217;
LABEL_39:
      v79 += 288;
      v78 += 8;
      if (!--v84)
      {
        goto LABEL_99;
      }
    }
  }

  v230 = 0;
  v232 = 0;
  v237 = 0;
  v239 = 0;
  v83 = 0;
  v241 = 0;
  v243 = 0;
  ptra = 0;
  v248 = 0;
  v245 = 0;
  v82 = 0;
  v227 = 0;
  v229 = 0;
  v81 = 0;
  v80 = 0;
LABEL_99:
  if (v221)
  {
    v280 = 0u;
    v279 = 0u;
    v278 = 0u;
    v277 = 0u;
    v276 = 0u;
    v275 = 0u;
    g_coords_delta((*v221 + 464 * *(v221 + 64)), &v257, &v275);
    v130 = *(v221 + 8);
    if (v130 >= 1)
    {
      if (*(v221 + 64))
      {
        v131 = 0;
        v132 = 0;
        v133 = v221;
        while (1)
        {
          while (1)
          {
            if (*(v133 + 64))
            {
              v134 = *(v249 + 32);
              v135 = 1.0 - ((sqrtf(*v134) - *(v71 + 308)) / (*(v71 + 312) - *(v71 + 308)));
              v136 = 0.0;
              if (v135 >= 0.0)
              {
                v136 = 1.0;
                if (v135 <= 1.0)
                {
                  v136 = v135;
                }
              }

              v137 = (*(v221 + 16) + v131);
              v139 = *v137;
              v138 = v137[1];
              v140 = v137[2];
              v141 = **(*v221 + 424);
              v142 = (1.0 - powf((*v134 / v134[1]) / *(v71 + 304), 8.0)) * v136;
              v143 = v142 <= 1.0 ? v142 : 1.0;
              v144 = v143 * 32.0;
              v145 = v142 >= 0.0 ? v144 : 0.0;
              if (v145 >= 0.001)
              {
                v146 = *(&v280 + 1) + *(&v278 + 1) * v138 + *&v278 * v139 + *&v279 * v140;
                v147 = *(&v279 + 1) + *(&v275 + 1) * v138 + *&v275 * v139 + *&v276 * v140;
                v148 = *&v280 + *&v277 * v138 + *(&v276 + 1) * v139 + *(&v277 + 1) * v140;
                v149 = v146;
                v150 = atan2f(v148, v147);
                v151 = atanf(v149 / sqrtf((v148 * v148) + (v147 * v147)));
                v152 = *(v235 + 104);
                v267.f64[0] = 12831.7109;
                v153 = *(v152 + 8 * v141 + 4) + 3.14159265;
                v154 = v153 + -1.04719758;
                *&v154 = v153 + -1.04719758;
                *&v153 = v153 + 1.04719758;
                angle_combine(&v267, *&v154, *&v153);
                if (*(v71 + 124) && *(v220 + 248) > 0.0)
                {
                  v156 = *(v220 + 252);
                  v157 = v150 + *(v220 + 244);
                  *v155.i32 = v157 - v156;
                  angle_combine(&v267, v155, v156 + v157);
                }

                if (*(v267.f64 + 1) != 0.0)
                {
                  break;
                }
              }
            }

            v133 = v221;
            ++v132;
            v131 += 12;
            if (v130 <= v132)
            {
              goto LABEL_161;
            }
          }

          v234 = v81 + 1;
          if (v81 >= v227)
          {
            v158 = 2 * v227;
            if (!v227)
            {
              v158 = 32;
            }

            if (v158 <= v81)
            {
              v158 = v81 + 1;
            }

            if (v158)
            {
              v227 = v158;
              ptra = malloc_type_realloc(ptra, 8 * v158, 0x100004000313F17uLL);
            }

            else
            {
              v227 = 0;
            }
          }

          *(ptra + v81) = *&v267.f64[0];
          v159 = v83 + 1;
          if (v83 < v232)
          {
            goto LABEL_134;
          }

          v160 = 2 * v232;
          if (!v232)
          {
            v160 = 64;
          }

          if (v160 <= v83)
          {
            v160 = v83 + 1;
          }

          if (v160)
          {
            break;
          }

          v232 = 0;
          v239[v83] = v80;
          v161 = v82 + 1;
          v162 = v230;
          if (v82 >= v230)
          {
LABEL_137:
            v164 = v162;
            v165 = 2 * v162;
            if (!v164)
            {
              v165 = 21;
            }

            if (v165 <= v82)
            {
              v165 = v161;
            }

            v163 = v237;
            if (v165)
            {
              v230 = v165;
              v245 = malloc_type_realloc(v245, 12 * v165, 0x10000403E1C8BA9uLL);
            }

            else
            {
              v230 = 0;
            }

            goto LABEL_144;
          }

LABEL_135:
          v163 = v237;
LABEL_144:
          v166 = &v245[12 * v82];
          v167 = *(v235 + 8) + 12 * v141;
          v168 = *v167;
          *(v166 + 2) = *(v167 + 8);
          *v166 = v168;
          v169 = *v166;
          v170 = *(v166 + 1);
          v171 = *(v166 + 2);
          v172 = v255.f64[1] + v251.f64[1] * v170 + v251.f64[0] * v169 + v252.f64[0] * v171;
          v173 = v253.f64[0] * v170 + v252.f64[1] * v169 + v253.f64[1] * v171;
          v174 = v256.f64[1] + v254.f64[1] * v170 + v254.f64[0] * v169 + v255.f64[0] * v171;
          *&v172 = v172;
          *&v170 = v256.f64[0] + v173;
          *v166 = LODWORD(v172);
          *(v166 + 1) = LODWORD(v170);
          *&v174 = v174;
          *(v166 + 2) = LODWORD(v174);
          if (v80 >= v229)
          {
            v175 = 2 * v229;
            if (!v229)
            {
              v175 = 32;
            }

            if (v175 <= v80)
            {
              v175 = v80 + 1;
            }

            if (v175)
            {
              v229 = v175;
              v243 = malloc_type_realloc(v243, 8 * v175, 0x100004000313F17uLL);
            }

            else
            {
              v229 = 0;
            }
          }

          v176 = &v243[8 * v80];
          *v176 = v150;
          v176[1] = v151;
          if (v248 >= v163)
          {
            v177 = 2 * v163;
            if (!v163)
            {
              v177 = 128;
            }

            if (v177 <= v248)
            {
              v177 = v248 + 1;
            }

            if (v177)
            {
              v237 = v177;
              v241 = malloc_type_realloc(v241, 2 * v177, 0x1000040BDFB0063uLL);
            }

            else
            {
              v237 = 0;
            }
          }

          *(v241 + v248) = v145;
          v83 = v159;
          v133 = v221;
          v130 = *(v221 + 8);
          ++v248;
          v82 = v161;
          v81 = v234;
          ++v80;
          ++v132;
          v131 += 12;
          if (v130 <= v132)
          {
            goto LABEL_161;
          }
        }

        v232 = v160;
        v239 = malloc_type_realloc(v239, 4 * v160, 0x100004052888210uLL);
LABEL_134:
        v239[v83] = v80;
        v161 = v82 + 1;
        v162 = v230;
        if (v82 >= v230)
        {
          goto LABEL_137;
        }

        goto LABEL_135;
      }
    }
  }

LABEL_161:
  v178 = *(v220 + 200) - *(v219 + 10);
  v179 = *(v220 + 208) - *(v219 + 11);
  v180 = *(v220 + 216) - *(v219 + 12);
  v181 = v179 * *(v219 + 6) + *(v219 + 3) * v178 + *(v219 + 9) * v180;
  v263 = vcvt_f32_f64(vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(*(v219 + 2), v179), *(v219 + 2), v178), *(v219 + 14), v180));
  *&v178 = v181;
  v264 = LODWORD(v178);
  v182 = v71 + 224;
  bzero(&v275, 0x28A0uLL);
  *(v71 + 280) = 1;
  v183 = g_ps_cyl_z(v243, v241, v245, ptra, v80, &v263, &v265, v274, v273, v216, v71 + 224, &v275);
  if (*(v71 + 280) <= 1uLL)
  {
    v184 = 1;
  }

  else
  {
    v184 = *(v71 + 280);
  }

  if (v183 <= 0)
  {
LABEL_168:
    v188 = g_ps_cyl_z(v243, v241, v245, ptra, v80, &v263, &v265, v274, v273, v216, v182, &v275);
    if (v184 <= *(v217 + 280))
    {
      v184 = *(v217 + 280);
    }

    if (v188 <= 0)
    {
      *(v217 + 280) = v184;
      goto LABEL_185;
    }

    v185 = v188;
  }

  else
  {
    v185 = v183;
    v186 = v281;
    v187 = v183;
    while (*v186 <= (*(v217 + 264) * 32.0))
    {
      v186 += 26;
      if (!--v187)
      {
        goto LABEL_168;
      }
    }
  }

  *(v217 + 280) = v184;
  v197 = &v275;
  do
  {
    v271 = 0u;
    v272 = 0u;
    v269 = 0u;
    v270 = 0u;
    v267 = 0u;
    v268 = 0u;
    v199 = *a9;
    v200 = *(a9 + 16);
    if (*a9 >= v200)
    {
      if (v200)
      {
        v201 = 2 * v200;
      }

      else
      {
        v201 = 5;
      }

      if (v201 <= v199)
      {
        v202 = v199 + 1;
      }

      else
      {
        v202 = v201;
      }

      if (v202)
      {
        *(a9 + 8) = malloc_type_realloc(*(a9 + 8), 48 * v202, 0x1000040EED21634uLL);
        v199 = *a9;
      }

      *(a9 + 16) = v202;
    }

    *a9 = v199 + 1;
    v198 = *(a9 + 8) + 48 * v199;
    g_coords_conv(&v257, v197, v267.f64);
    *v198 = vcvt_hight_f32_f64(vcvt_f32_f64(v267), v268);
    *(v198 + 16) = vcvt_hight_f32_f64(vcvt_f32_f64(v269), v270);
    v189 = v272.f64[0];
    v190 = vcvt_hight_f32_f64(vcvt_f32_f64(v271), v272);
    *(v198 + 32) = v190;
    v197 += 13;
    --v185;
  }

  while (v185);
LABEL_185:
  if (*a9 >= 1)
  {
    v203 = 0;
    v204 = 0;
    do
    {
      *&v189 = g_coordsf_diff(*(a9 + 8) + v203, v250, *(a9 + 8) + v203, v189, *v190.i64, v191, v192, v193, v194, v195, v196);
      ++v204;
      v203 += 48;
    }

    while (v204 < *a9);
  }

  if (v216 >= 1)
  {
    v205 = v216 & 0x7FFFFFFF;
    v206 = v273;
    v207 = v274;
    while (1)
    {
      if (!*v207)
      {
        goto LABEL_196;
      }

      v208 = *(*v207 - 32 * v207[2] - 8);
      v209 = atomic_fetch_add((v208 + 24), 0xFFFFFFFF) - 1;
      if (v209 < 0)
      {
        goto LABEL_203;
      }

      if (v209)
      {
        break;
      }

      v214 = -*(v208 + 8);
      atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(&global_stats[2], 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(global_stats, v214);
      atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(&_pmem_total_blocks, 0xFFFFFFFFFFFFFFFFLL);
      atomic_fetch_add(&pmem_bytes_allocated, v214);
      (*(v208 + 40))(v208);
      free(v208);
      *v207 = 0;
      v210 = *v206;
      if (!*v206)
      {
        goto LABEL_191;
      }

LABEL_197:
      v211 = *(v210 - 32 * v206[2] - 8);
      v212 = atomic_fetch_add((v211 + 24), 0xFFFFFFFF) - 1;
      if (v212 < 0)
      {
LABEL_203:
        __assert_rtn("pmem_free", "pmem.c", 302, "count >= 0 && Negative count! Something is broken, double free? Memory corruption?");
      }

      if (v212)
      {
        atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
        atomic_fetch_or(&global_stats[2], 0);
        atomic_fetch_or(global_stats, 0);
        atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
        atomic_fetch_or(&_pmem_total_blocks, 0);
        atomic_fetch_or(&pmem_bytes_allocated, 0);
      }

      else
      {
        v213 = -*(v211 + 8);
        atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
        atomic_fetch_add(&global_stats[2], 0xFFFFFFFFFFFFFFFFLL);
        atomic_fetch_add(global_stats, v213);
        atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
        atomic_fetch_add(&_pmem_total_blocks, 0xFFFFFFFFFFFFFFFFLL);
        atomic_fetch_add(&pmem_bytes_allocated, v213);
        (*(v211 + 40))(v211);
        free(v211);
      }

LABEL_191:
      *v206 = 0;
      v206 += 3;
      v207 += 3;
      if (!--v205)
      {
        goto LABEL_202;
      }
    }

    atomic_fetch_add(&global_stats[1], 0xFFFFFFFFFFFFFFFFLL);
    atomic_fetch_or(&global_stats[2], 0);
    atomic_fetch_or(global_stats, 0);
    atomic_fetch_add(&pmem_total_refs, 0xFFFFFFFFFFFFFFFFLL);
    atomic_fetch_or(&_pmem_total_blocks, 0);
    atomic_fetch_or(&pmem_bytes_allocated, 0);
LABEL_196:
    *v207 = 0;
    v210 = *v206;
    if (!*v206)
    {
      goto LABEL_191;
    }

    goto LABEL_197;
  }

LABEL_202:
  free(v239);
  free(v241);
  free(v243);
  free(v245);
  free(ptra);
}