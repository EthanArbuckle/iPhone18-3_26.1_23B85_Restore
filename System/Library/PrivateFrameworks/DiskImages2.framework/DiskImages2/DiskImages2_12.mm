void sub_248EF4E00(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<2547ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BEFFD8;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF4EC8(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<2631ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF01F8;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF4F90(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<2641ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF0418;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF5058(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<2734ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF0638;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF5120(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<2751ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF0858;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF51E8(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<2767ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF0A78;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF52B0(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__value_func<int ()(di_asif::details::table &)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  return a1;
}

void ref::Allocator<di_asif::details::table,unsigned long long>::Allocator(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v8 = ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::error_ctrl_blk_t(a1);
  *(v8 + 632) = a2;
  *(v8 + 640) = a3;
  *(v8 + 648) = 0u;
  *(v8 + 664) = 0u;
  *(v8 + 680) = 0u;
  *(v8 + 696) = 850045863;
  *(v8 + 704) = 0u;
  *(v8 + 720) = 0u;
  *(v8 + 736) = 0u;
  *(v8 + 752) = 0;
  *(v8 + 768) = 0u;
  *(v8 + 784) = 0u;
  *(v8 + 800) = 850045863;
  *(v8 + 808) = 0u;
  *(v8 + 824) = 0u;
  *(v8 + 840) = 0u;
  *(v8 + 856) = 0;
  *(v8 + 864) = 1018212795;
  *(v8 + 904) = 0;
  *(v8 + 872) = 0u;
  *(v8 + 888) = 0u;
  *(v8 + 912) = 1;
  gcd::gcd_queue::gcd_queue(v8 + 920, "dealloc_queue", 2);
  *(a1 + 936) = 0u;
  *(a1 + 928) = a1 + 936;
  *(a1 + 952) = 850045863;
  *(a1 + 960) = 0u;
  *(a1 + 976) = 0u;
  *(a1 + 992) = 0u;
  *(a1 + 1008) = 0;
  *(a1 + 1016) = 1018212795;
  *(a1 + 1024) = 0u;
  *(a1 + 1040) = 0u;
  *(a1 + 1056) = 0;
  *(a1 + 1064) = 850045863;
  *(a1 + 1072) = 0u;
  *(a1 + 1088) = 0u;
  *(a1 + 1104) = 0u;
  *(a1 + 1120) = 0;
  *(a1 + 1128) = a1 + 1128;
  *(a1 + 1136) = a1 + 1128;
  *(a1 + 1144) = 0;
  std::__function::__value_func<int ()(di_asif::details::table &)>::__value_func[abi:ne200100](a1 + 1152, a4);
  ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(a1 + 1184, a1);
  *(a1 + 1736) = &unk_285BF2C08;
  *(a1 + 1744) = a1;
  *(a1 + 1760) = a1 + 1736;
  *(a1 + 1768) = &unk_285BF2C98;
  *(a1 + 1776) = a1;
  *(a1 + 1792) = a1 + 1768;
  operator new[]();
}

void sub_248EF557C(_Unwind_Exception *a1)
{
  std::__function::__value_func<int ()(di_asif::details::table &)>::~__value_func[abi:ne200100](v1 + 1152);
  std::__list_imp<std::pair<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long>>::clear(v3);
  std::mutex::~mutex((v1 + 1064));
  std::condition_variable::~condition_variable((v1 + 1016));
  std::mutex::~mutex((v1 + 952));
  std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::destroy(v1 + 928, *v4);
  gcd::gcd_group::~gcd_group((v1 + 920));
  std::condition_variable::~condition_variable((v1 + 864));
  std::mutex::~mutex((v1 + 800));
  std::mutex::~mutex((v1 + 696));
  std::deque<std::atomic<DiskImage::Context *>>::~deque[abi:ne200100](v2);
  ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::~error_ctrl_blk_t(v1);
  _Unwind_Resume(a1);
}

uint64_t std::deque<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,std::allocator<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>>::emplace_back<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>(uint64_t a1, void *a2)
{
  v4 = *(a1 + 8);
  v5 = *(a1 + 16);
  v6 = *(a1 + 8);
  if (v5 == v6)
  {
    v7 = 0;
  }

  else
  {
    v7 = ((v5 - v6) << 6) - 1;
  }

  v8 = *(a1 + 32);
  v9 = *(a1 + 40);
  v10 = v9 + v8;
  if (v7 == v9 + v8)
  {
    std::deque<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,std::allocator<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>>::__add_back_capacity(a1);
    v8 = *(a1 + 32);
    v9 = *(a1 + 40);
    v6 = *(a1 + 8);
    v10 = v8 + v9;
  }

  *(*(v6 + ((v10 >> 6) & 0x3FFFFFFFFFFFFF8)) + 8 * (v10 & 0x1FF)) = *a2;
  *(a1 + 40) = v9 + 1;
  v11 = v8 + v9 + 1;
  v12 = *(a1 + 8);
  v13 = (v12 + 8 * (v11 >> 9));
  v14 = *v13 + 8 * (v11 & 0x1FF);
  if (*(a1 + 16) == v12)
  {
    v14 = 0;
  }

  if (v14 == *v13)
  {
    v14 = *(v13 - 1) + 4096;
  }

  return v14 - 8;
}

uint64_t ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::error_ctrl_blk_t(uint64_t a1)
{
  *a1 = &unk_285BF2958;
  *(a1 + 24) = a1;
  *(a1 + 32) = &unk_285BF29E8;
  *(a1 + 56) = a1 + 32;
  *(a1 + 64) = &unk_285BF2A78;
  *(a1 + 88) = a1 + 64;
  *(a1 + 96) = 0;
  ref::details::ctrl_blk<di_asif::details::table,unsigned long long>::ctrl_blk(a1 + 104, a1, a1 + 32, a1 + 64, a1 + 96);
  ref::details::ctrl_blk<di_asif::details::table,unsigned long long>::init(a1 + 104, -1);
  atomic_store(0, (a1 + 128));
  *(a1 + 624) = 1;
  return a1;
}

void sub_248EF57C4(_Unwind_Exception *a1)
{
  std::__function::__value_func<int ()(di_asif::details::table &)>::~__value_func[abi:ne200100](v3);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::~__value_func[abi:ne200100](v2);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](v1);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1},std::allocator<ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::{lambda(di_asif::details::table&)#1},std::allocator<ref::Allocator<di_asif::details::table,unsigned long long>::error_ctrl_blk_t::{lambda(di_asif::details::table&)#1}>,int ()(di_asif::details::table&)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t ref::details::ctrl_blk<di_asif::details::table,unsigned long long>::ctrl_blk(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  *a1 = 0;
  *(a1 + 8) = 0;
  *(a1 + 24) = 0;
  *(a1 + 16) = 0;
  *(a1 + 32) = -1;
  *(a1 + 40) = 0;
  *(a1 + 400) = 0;
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__value_func[abi:ne200100](a1 + 408, a2);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::__value_func[abi:ne200100](a1 + 440, a3);
  std::__function::__value_func<int ()(di_asif::details::table &)>::__value_func[abi:ne200100](a1 + 472, a4);
  *(a1 + 504) = a5;
  *(a1 + 512) = 0;
  *(a1 + 520) = 0;
  return a1;
}

void sub_248EF5AFC(_Unwind_Exception *a1)
{
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::~__value_func[abi:ne200100](v1 + 440);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](v1 + 408);
  std::optional<di_asif::details::table>::~optional(v2);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t std::__function::__value_func<int ()(di_asif::details::table &)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(uint64_t a1, uint64_t a2)
{
  v6[4] = *MEMORY[0x277D85DE8];
  *a1 = a2;
  v6[0] = &unk_285BF2B08;
  v6[1] = a1;
  v6[3] = v6;
  v5[0] = &unk_285BF2B88;
  v5[1] = a1;
  v5[3] = v5;
  ref::details::ctrl_blk<di_asif::details::table,unsigned long long>::ctrl_blk(a1 + 8, v6, v5, a2 + 1152, a2 + 776);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::~__value_func[abi:ne200100](v5);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](v6);
  *(a1 + 536) = 0;
  *(a1 + 544) = 0;
  v3 = *MEMORY[0x277D85DE8];
  return a1;
}

void sub_248EF5DD0(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va1, a2);
  va_start(va, a2);
  v3 = va_arg(va1, void);
  v5 = va_arg(va1, void);
  v6 = va_arg(va1, void);
  v7 = va_arg(va1, void);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::~__value_func[abi:ne200100](va);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](va1);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF2B08;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::function<void ()(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::operator()(uint64_t a1, uint64_t a2, uint64_t a3, int a4)
{
  v8 = a4;
  v6 = a3;
  v7 = a2;
  v4 = *(a1 + 24);
  if (!v4)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  return (*(*v4 + 48))(v4, &v7, &v6, &v8);
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF2B88;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::table,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::function<void ()(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::operator()(uint64_t a1, uint64_t a2)
{
  v4 = a2;
  v2 = *(a1 + 24);
  if (!v2)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  return (*(*v2 + 48))(v2, &v4);
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF2C08;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void ref::Allocator<di_asif::details::table,unsigned long long>::deleter(uint64_t a1, unint64_t a2, unint64_t a3, char a4)
{
  if ((*(a2 + 544) & 1) == 0)
  {
    if ((a4 & 3) == 1)
    {
      std::mutex::lock((a1 + 1064));
      operator new();
    }

    ref::Allocator<di_asif::details::table,unsigned long long>::delete_tag(a1, a3);
    ref::tagged_ptr<di_asif::details::table,unsigned long long>::reset((a2 + 536));
    if ((atomic_fetch_or((a2 + 544), 1u) & 2) == 0)
    {
      ref::Allocator<di_asif::details::table,unsigned long long>::add_to_free_pool(a1, a2);
    }

    if (atomic_fetch_add((a1 + 784), 0xFFFFFFFFFFFFFFFFLL) == 1)
    {
      if (atomic_load((a1 + 792)))
      {
        std::mutex::lock((a1 + 800));
        if (atomic_load((a1 + 792)))
        {
          std::condition_variable::notify_all((a1 + 864));
        }

        std::mutex::unlock((a1 + 800));
      }
    }

    v9 = (a1 + 768);
    if (atomic_load(v9))
    {
      tagged_ptr_lock = ref::details::_get_tagged_ptr_lock(a2, v6);
      std::mutex::lock(tagged_ptr_lock);
      if (atomic_load(v9))
      {
        tagged_ptr_cond = ref::details::_get_tagged_ptr_cond(a2, v12);
        std::condition_variable::notify_all(tagged_ptr_cond);
      }

      std::mutex::unlock(tagged_ptr_lock);
    }
  }
}

void ref::Allocator<di_asif::details::table,unsigned long long>::delete_tag(uint64_t a1, unint64_t a2)
{
  v3 = a2;
  std::mutex::lock((a1 + 952));
  std::__tree<std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>,std::__map_value_compare<unsigned long long,std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>,std::less<unsigned long long>,true>,std::allocator<std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>>>::__erase_unique<unsigned long long>((a1 + 928), &v3);
  std::condition_variable::notify_all((a1 + 1016));
  std::mutex::unlock((a1 + 952));
}

uint64_t std::__tree<std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>,std::__map_value_compare<unsigned long long,std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>,std::less<unsigned long long>,true>,std::allocator<std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>>>::__erase_unique<unsigned long long>(uint64_t **a1, unint64_t *a2)
{
  v2 = a1[1];
  if (!v2)
  {
    return 0;
  }

  v3 = *a2;
  v4 = (a1 + 1);
  do
  {
    v5 = v2[4];
    v6 = v5 >= v3;
    v7 = v5 < v3;
    if (v6)
    {
      v4 = v2;
    }

    v2 = v2[v7];
  }

  while (v2);
  if (v4 == (a1 + 1) || v3 < v4[4])
  {
    return 0;
  }

  std::__tree<std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>>>::__remove_node_pointer(a1, v4);
  operator delete(v4);
  return 1;
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1},std::allocator<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF2C98;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1},std::allocator<ref::Allocator<di_asif::details::table,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,ref::tagged_ptr<di_asif::details::table,unsigned long long> &)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void ref::Allocator<di_asif::details::table,unsigned long long>::deallocate(uint64_t a1, unint64_t a2, atomic_ullong *a3)
{
  v3 = *(a1 + 632);
  if (v3 >= 1)
  {
    v6 = 0;
    v7 = *(a1 + 760);
    v8 = &v7[v3];
    while (!v7 || *v7 != a2)
    {
      ++v7;
      v6 -= 8;
      if (v7 >= v8)
      {
        return;
      }
    }

    if (v6 <= 0)
    {
      v9 = a2;
      atomic_compare_exchange_strong(v7, &v9, 0);
      if (v9 == a2)
      {
        ref::Allocator<di_asif::details::table,unsigned long long>::drop_elem(a1, a2, 1uLL, a3);

        ref::Allocator<di_asif::details::table,unsigned long long>::add_to_free_pool(a1, a2);
      }
    }
  }
}

void ref::Allocator<di_asif::details::map_element,unsigned long long>::Allocator(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v8 = ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::error_ctrl_blk_t(a1);
  *(v8 + 456) = a2;
  *(v8 + 464) = a3;
  *(v8 + 472) = 0u;
  *(v8 + 488) = 0u;
  *(v8 + 504) = 0u;
  *(v8 + 520) = 850045863;
  *(v8 + 528) = 0u;
  *(v8 + 544) = 0u;
  *(v8 + 560) = 0u;
  *(v8 + 576) = 0;
  *(v8 + 592) = 0u;
  *(v8 + 608) = 0u;
  *(v8 + 624) = 850045863;
  *(v8 + 632) = 0u;
  *(v8 + 648) = 0u;
  *(v8 + 664) = 0u;
  *(v8 + 680) = 0;
  *(v8 + 688) = 1018212795;
  *(v8 + 728) = 0;
  *(v8 + 696) = 0u;
  *(v8 + 712) = 0u;
  *(v8 + 736) = 1;
  gcd::gcd_queue::gcd_queue(v8 + 744, "dealloc_queue", 2);
  *(a1 + 760) = 0u;
  *(a1 + 752) = a1 + 760;
  *(a1 + 776) = 850045863;
  *(a1 + 784) = 0u;
  *(a1 + 800) = 0u;
  *(a1 + 816) = 0u;
  *(a1 + 832) = 0;
  *(a1 + 840) = 1018212795;
  *(a1 + 848) = 0u;
  *(a1 + 864) = 0u;
  *(a1 + 880) = 0;
  *(a1 + 888) = 850045863;
  *(a1 + 896) = 0u;
  *(a1 + 912) = 0u;
  *(a1 + 928) = 0u;
  *(a1 + 944) = 0;
  *(a1 + 952) = a1 + 952;
  *(a1 + 960) = a1 + 952;
  *(a1 + 968) = 0;
  std::__function::__value_func<int ()(di_asif::details::map_element &)>::__value_func[abi:ne200100](a1 + 976, a4);
  ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(a1 + 1008, a1);
  *(a1 + 1384) = &unk_285BF2FD8;
  *(a1 + 1392) = a1;
  *(a1 + 1408) = a1 + 1384;
  *(a1 + 1416) = &unk_285BF3068;
  *(a1 + 1424) = a1;
  *(a1 + 1440) = a1 + 1416;
  operator new[]();
}

void sub_248EF67F4(_Unwind_Exception *a1)
{
  std::__function::__value_func<int ()(di_asif::details::map_element &)>::~__value_func[abi:ne200100](v1 + 976);
  std::__list_imp<std::pair<ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *,unsigned long long>>::clear(v3);
  std::mutex::~mutex((v1 + 888));
  std::condition_variable::~condition_variable((v1 + 840));
  std::mutex::~mutex((v1 + 776));
  std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::destroy(v1 + 752, *v4);
  gcd::gcd_group::~gcd_group((v1 + 744));
  std::condition_variable::~condition_variable((v1 + 688));
  std::mutex::~mutex((v1 + 624));
  std::mutex::~mutex((v1 + 520));
  std::deque<std::atomic<DiskImage::Context *>>::~deque[abi:ne200100](v2);
  ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::~error_ctrl_blk_t(v1);
  _Unwind_Resume(a1);
}

uint64_t std::deque<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,std::allocator<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *>>::emplace_back<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *>(uint64_t a1, void *a2)
{
  v4 = *(a1 + 8);
  v5 = *(a1 + 16);
  v6 = *(a1 + 8);
  if (v5 == v6)
  {
    v7 = 0;
  }

  else
  {
    v7 = ((v5 - v6) << 6) - 1;
  }

  v8 = *(a1 + 32);
  v9 = *(a1 + 40);
  v10 = v9 + v8;
  if (v7 == v9 + v8)
  {
    std::deque<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,std::allocator<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *>>::__add_back_capacity(a1);
    v8 = *(a1 + 32);
    v9 = *(a1 + 40);
    v6 = *(a1 + 8);
    v10 = v8 + v9;
  }

  *(*(v6 + ((v10 >> 6) & 0x3FFFFFFFFFFFFF8)) + 8 * (v10 & 0x1FF)) = *a2;
  *(a1 + 40) = v9 + 1;
  v11 = v8 + v9 + 1;
  v12 = *(a1 + 8);
  v13 = (v12 + 8 * (v11 >> 9));
  v14 = *v13 + 8 * (v11 & 0x1FF);
  if (*(a1 + 16) == v12)
  {
    v14 = 0;
  }

  if (v14 == *v13)
  {
    v14 = *(v13 - 1) + 4096;
  }

  return v14 - 8;
}

uint64_t ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::error_ctrl_blk_t(uint64_t a1)
{
  *a1 = &unk_285BF2D28;
  *(a1 + 24) = a1;
  *(a1 + 32) = &unk_285BF2DB8;
  *(a1 + 56) = a1 + 32;
  *(a1 + 64) = &unk_285BF2E48;
  *(a1 + 88) = a1 + 64;
  *(a1 + 96) = 0;
  ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long>::ctrl_blk(a1 + 104, a1, a1 + 32, a1 + 64, a1 + 96);
  ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long>::init(a1 + 104, -1);
  atomic_store(0, (a1 + 128));
  *(a1 + 448) = 1;
  return a1;
}

void sub_248EF6A3C(_Unwind_Exception *a1)
{
  std::__function::__value_func<int ()(di_asif::details::map_element &)>::~__value_func[abi:ne200100](v3);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::~__value_func[abi:ne200100](v2);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](v1);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1},std::allocator<ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::{lambda(di_asif::details::map_element&)#1},std::allocator<ref::Allocator<di_asif::details::map_element,unsigned long long>::error_ctrl_blk_t::{lambda(di_asif::details::map_element&)#1}>,int ()(di_asif::details::map_element&)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long>::ctrl_blk(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  *a1 = 0;
  *(a1 + 8) = 0;
  *(a1 + 24) = 0;
  *(a1 + 16) = 0;
  *(a1 + 32) = -1;
  *(a1 + 40) = 0;
  *(a1 + 224) = 0;
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__value_func[abi:ne200100](a1 + 232, a2);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::__value_func[abi:ne200100](a1 + 264, a3);
  std::__function::__value_func<int ()(di_asif::details::map_element &)>::__value_func[abi:ne200100](a1 + 296, a4);
  *(a1 + 328) = a5;
  *(a1 + 336) = 0;
  *(a1 + 344) = 0;
  return a1;
}

void sub_248EF6D74(_Unwind_Exception *a1)
{
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::~__value_func[abi:ne200100](v1 + 264);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](v1 + 232);
  std::optional<di_asif::details::map_element>::~optional(v2);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t std::__function::__value_func<int ()(di_asif::details::map_element &)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(uint64_t a1, uint64_t a2)
{
  v6[4] = *MEMORY[0x277D85DE8];
  *a1 = a2;
  v6[0] = &unk_285BF2ED8;
  v6[1] = a1;
  v6[3] = v6;
  v5[0] = &unk_285BF2F58;
  v5[1] = a1;
  v5[3] = v5;
  ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long>::ctrl_blk(a1 + 8, v6, v5, a2 + 976, a2 + 600);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::~__value_func[abi:ne200100](v5);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](v6);
  *(a1 + 360) = 0;
  *(a1 + 368) = 0;
  v3 = *MEMORY[0x277D85DE8];
  return a1;
}

void sub_248EF7048(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va1, a2);
  va_start(va, a2);
  v3 = va_arg(va1, void);
  v5 = va_arg(va1, void);
  v6 = va_arg(va1, void);
  v7 = va_arg(va1, void);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::~__value_func[abi:ne200100](va);
  std::__function::__value_func<void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::~__value_func[abi:ne200100](va1);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF2ED8;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::function<void ()(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::operator()(uint64_t a1, uint64_t a2, uint64_t a3, int a4)
{
  v8 = a4;
  v6 = a3;
  v7 = a2;
  v4 = *(a1 + 24);
  if (!v4)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  return (*(*v4 + 48))(v4, &v7, &v6, &v8);
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF2F58;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1},std::allocator<ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long>::tagged_allocated_type(ref::Allocator<di_asif::details::map_element,unsigned long long> &)::{lambda(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1}>,void ()(ref::details::ctrl_blk<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::function<void ()(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::operator()(uint64_t a1, uint64_t a2)
{
  v4 = a2;
  v2 = *(a1 + 24);
  if (!v2)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  return (*(*v2 + 48))(v2, &v4);
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF2FD8;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1},std::allocator<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,unsigned long long,diskimage_uio::option_set_ns::option_set<ref::details::deleter_options>)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void ref::Allocator<di_asif::details::map_element,unsigned long long>::deleter(uint64_t a1, unint64_t a2, unint64_t a3, char a4)
{
  if ((*(a2 + 368) & 1) == 0)
  {
    if ((a4 & 3) == 1)
    {
      std::mutex::lock((a1 + 888));
      operator new();
    }

    ref::Allocator<di_asif::details::map_element,unsigned long long>::delete_tag(a1, a3);
    ref::tagged_ptr<di_asif::details::map_element,unsigned long long>::reset((a2 + 360));
    if ((atomic_fetch_or((a2 + 368), 1u) & 2) == 0)
    {
      ref::Allocator<di_asif::details::map_element,unsigned long long>::add_to_free_pool(a1, a2);
    }

    if (atomic_fetch_add((a1 + 608), 0xFFFFFFFFFFFFFFFFLL) == 1)
    {
      if (atomic_load((a1 + 616)))
      {
        std::mutex::lock((a1 + 624));
        if (atomic_load((a1 + 616)))
        {
          std::condition_variable::notify_all((a1 + 688));
        }

        std::mutex::unlock((a1 + 624));
      }
    }

    v9 = (a1 + 592);
    if (atomic_load(v9))
    {
      tagged_ptr_lock = ref::details::_get_tagged_ptr_lock(a2, v6);
      std::mutex::lock(tagged_ptr_lock);
      if (atomic_load(v9))
      {
        tagged_ptr_cond = ref::details::_get_tagged_ptr_cond(a2, v12);
        std::condition_variable::notify_all(tagged_ptr_cond);
      }

      std::mutex::unlock(tagged_ptr_lock);
    }
  }
}

void ref::Allocator<di_asif::details::map_element,unsigned long long>::delete_tag(uint64_t a1, unint64_t a2)
{
  v3 = a2;
  std::mutex::lock((a1 + 776));
  std::__tree<std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>,std::__map_value_compare<unsigned long long,std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>,std::less<unsigned long long>,true>,std::allocator<std::__value_type<unsigned long long,ref::details::tagged_allocated_type<di_asif::details::table,unsigned long long> *>>>::__erase_unique<unsigned long long>((a1 + 752), &v3);
  std::condition_variable::notify_all((a1 + 840));
  std::mutex::unlock((a1 + 776));
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1},std::allocator<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF3068;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1},std::allocator<ref::Allocator<di_asif::details::map_element,unsigned long long>::{lambda(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)#1}>,void ()(ref::details::tagged_allocated_type<di_asif::details::map_element,unsigned long long> *,ref::tagged_ptr<di_asif::details::map_element,unsigned long long> &)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void ref::Allocator<di_asif::details::map_element,unsigned long long>::deallocate(uint64_t a1, unint64_t a2, atomic_ullong *a3)
{
  v3 = *(a1 + 456);
  if (v3 >= 1)
  {
    v6 = 0;
    v7 = *(a1 + 584);
    v8 = &v7[v3];
    while (!v7 || *v7 != a2)
    {
      ++v7;
      v6 -= 8;
      if (v7 >= v8)
      {
        return;
      }
    }

    if (v6 <= 0)
    {
      v9 = a2;
      atomic_compare_exchange_strong(v7, &v9, 0);
      if (v9 == a2)
      {
        ref::Allocator<di_asif::details::map_element,unsigned long long>::drop_elem(a1, a2, 1uLL, a3);

        ref::Allocator<di_asif::details::map_element,unsigned long long>::add_to_free_pool(a1, a2);
      }
    }
  }
}

uint64_t _ZNKSt3__110__function6__funcIN7di_asif7details3dir20map_element_close_fnMUlRNS3_11map_elementEE_ENS_9allocatorIS7_EEFiS6_EE7__cloneEPNS0_6__baseISA_EE(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_285BF30F8;
  a2[1] = v2;
  return result;
}

uint64_t _ZNKSt3__110__function6__funcIN7di_asif7details3dir20map_element_close_fnMUlRNS3_11map_elementEE_ENS_9allocatorIS7_EEFiS6_EE6targetERKSt9type_info(uint64_t a1, uint64_t a2)
{
  if (std::type_info::operator==[abi:ne200100](a2, &_ZTIN7di_asif7details3dir20map_element_close_fnMUlRNS0_11map_elementEE_E))
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t _ZNK7di_asif7details3dir20map_element_close_fnMUlRNS0_11map_elementEE_clES3_(uint64_t *a1, uint64_t a2)
{
  v3 = *a1;
  v4 = *(*a1 + 32);
  v9[0] = &unk_285BE5728;
  v9[1] = v4;
  (*(**(v4 + 16) + 80))(&v10);
  if (*(a2 + 113) == 1)
  {
    di_asif::details::dir::get_table(v3, v9, *(a2 + 8) / *(v3 + 88), 0, 0, &v8);
  }

  else
  {
    v8 = 0;
  }

  if (v8 && (v8[520] & 1) == 0)
  {
    if (v8[400])
    {
      v5 = (v8 + 40);
    }

    else
    {
      v5 = 0;
    }
  }

  else
  {
    v5 = 0;
  }

  v6 = di_asif::details::map_element::close(a2, v9, v5, *(v3 + 28));
  ref::tagged_ptr<di_asif::details::table,unsigned long long>::reset(&v8);
  v9[0] = &unk_285BE5728;
  if (v11)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v11);
  }

  return v6;
}

void sub_248EF79CC(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, char a10, uint64_t a11, uint64_t a12, uint64_t a13, std::__shared_weak_count *a14)
{
  if (a14)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a14);
  }

  _Unwind_Resume(exception_object);
}

uint64_t std::__function::__value_func<int ()(di_asif::details::ContextASIF &)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t std::__function::__value_func<int ()(di_asif::details::ContextASIF &)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  return a1;
}

uint64_t std::__thread_proxy[abi:ne200100]<std::tuple<std::unique_ptr<std::__thread_struct>,di_asif::details::dir::dir(DiskImageASIF &,unsigned long long,unsigned int,unsigned short,unsigned long long,unsigned long,Backend *,std::function<int ()(di_asif::details::ContextASIF &)> const&,std::optional<analytics_collector_t> &)::$_0>>(uint64_t *a1)
{
  v9 = *MEMORY[0x277D85DE8];
  v7 = a1;
  v2 = std::__thread_local_data();
  v3 = *a1;
  *a1 = 0;
  pthread_setspecific(v2->__key_, v3);
  v4 = v7[1];
  std::__function::__value_func<int ()(di_asif::details::ContextASIF &)>::__value_func[abi:ne200100](v8, (v7 + 2));
  di_asif::details::dir::defrag(v4, v8);
  std::__function::__value_func<int ()(di_asif::details::ContextASIF &)>::~__value_func[abi:ne200100](v8);
  std::unique_ptr<std::tuple<std::unique_ptr<std::__thread_struct>,di_asif::details::dir::dir(DiskImageASIF &,unsigned long long,unsigned int,unsigned short,unsigned long long,unsigned long,Backend *,std::function<int ()(di_asif::details::ContextASIF &)> const&,std::optional<analytics_collector_t> &)::$_0>>::~unique_ptr[abi:ne200100](&v7);
  v5 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248EF7BB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t *a9, char a10)
{
  std::__function::__value_func<int ()(di_asif::details::ContextASIF &)>::~__value_func[abi:ne200100](&a10);
  std::unique_ptr<std::tuple<std::unique_ptr<std::__thread_struct>,di_asif::details::dir::dir(DiskImageASIF &,unsigned long long,unsigned int,unsigned short,unsigned long long,unsigned long,Backend *,std::function<int ()(di_asif::details::ContextASIF &)> const&,std::optional<analytics_collector_t> &)::$_0>>::~unique_ptr[abi:ne200100](&a9);
  _Unwind_Resume(a1);
}

uint64_t **std::unique_ptr<std::tuple<std::unique_ptr<std::__thread_struct>,di_asif::details::dir::dir(DiskImageASIF &,unsigned long long,unsigned int,unsigned short,unsigned long long,unsigned long,Backend *,std::function<int ()(di_asif::details::ContextASIF &)> const&,std::optional<analytics_collector_t> &)::$_0>>::~unique_ptr[abi:ne200100](uint64_t **a1)
{
  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    std::__function::__value_func<int ()(di_asif::details::ContextASIF &)>::~__value_func[abi:ne200100]((v2 + 2));
    v3 = std::unique_ptr<std::__thread_struct>::~unique_ptr[abi:ne200100](v2);
    MEMORY[0x24C1ED730](v3, 0x1020C407A7143E5);
  }

  return a1;
}

uint64_t *std::unique_ptr<std::__thread_struct>::~unique_ptr[abi:ne200100](uint64_t *a1)
{
  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    v3 = MEMORY[0x24C1ED420]();
    MEMORY[0x24C1ED730](v3, 0x20C4093837F09);
  }

  return a1;
}

void *serializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::header::header_signature>>>::serializer_exception_trait(void *a1, uint64_t a2)
{
  serializer_exception_base::serializer_exception_base((a1 + 2), a2);
  *a1 = &unk_285BF3218;
  a1[2] = &unk_285BF3280;
  a1[1] = &unk_285BF3240;
  return a1;
}

std::exception *serializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 2;
  a1[2].__vftable = &unk_285BE70A8;
  v3 = a1[6].__vftable;
  a1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
  return a1;
}

void serializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 2;
  a1[2].__vftable = &unk_285BE70A8;
  v3 = a1[6].__vftable;
  a1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);

  JUMPOUT(0x24C1ED730);
}

void non-virtual thunk toserializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
}

{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk toserializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::header::header_signature>>>::~serializer_exception_trait(void *a1)
{
  v1 = (a1 + *(*a1 - 24));
  v2 = v1 + 2;
  v1[2].__vftable = &unk_285BE70A8;
  v3 = v1[6].__vftable;
  v1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
}

{
  v1 = (a1 + *(*a1 - 24));
  v1[2].__vftable = &unk_285BE70A8;
  v2 = v1[6].__vftable;
  v1[6].__vftable = 0;
  if (v2)
  {
    (*(v2->~exception + 1))(v2);
  }

  std::exception::~exception(v1 + 2);

  JUMPOUT(0x24C1ED730);
}

std::exception *serializer_exception_trait<TraitExtractor<print_as_hex<unsigned short>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
  return a1;
}

_WORD *di_asif::header::total_segments_t::total_segments_t(_WORD *this, int a2)
{
  *this = 0;
  if (a2)
  {
    v2 = a2;
    exception = __cxa_allocate_exception(0x28uLL);
    exception[1] = "total_segments_t";
    exception[2] = "invalid value";
    exception[3] = "value validator";
    *exception = &unk_285BEC1B8;
    *(exception + 16) = v2;
  }

  return this;
}

void serializer_exception_trait<TraitExtractor<print_as_hex<unsigned short>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk toserializer_exception_trait<TraitExtractor<print_as_hex<unsigned short>>>::~serializer_exception_trait(void *a1)
{
  v1 = (a1 + *(*a1 - 24));
  v2 = v1 + 1;
  v1[1].__vftable = &unk_285BE70A8;
  v3 = v1[5].__vftable;
  v1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
}

{
  v1 = (a1 + *(*a1 - 24));
  v1[1].__vftable = &unk_285BE70A8;
  v2 = v1[5].__vftable;
  v1[5].__vftable = 0;
  if (v2)
  {
    (*(v2->~exception + 1))(v2);
  }

  std::exception::~exception(v1 + 1);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<3061ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF0F28;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF8414(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

void *serializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::meta_header::header_signature>>>::serializer_exception_trait(void *a1, uint64_t a2)
{
  serializer_exception_base::serializer_exception_base((a1 + 2), a2);
  *a1 = &unk_285BF3438;
  a1[2] = &unk_285BF34A0;
  a1[1] = &unk_285BF3460;
  return a1;
}

std::exception *serializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::meta_header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 2;
  a1[2].__vftable = &unk_285BE70A8;
  v3 = a1[6].__vftable;
  a1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
  return a1;
}

void serializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::meta_header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 2;
  a1[2].__vftable = &unk_285BE70A8;
  v3 = a1[6].__vftable;
  a1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);

  JUMPOUT(0x24C1ED730);
}

void non-virtual thunk toserializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::meta_header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
}

{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk toserializer_exception_trait<TraitExtractor<signature_type,print_as_string<di_asif::meta_header::header_signature>>>::~serializer_exception_trait(void *a1)
{
  v1 = (a1 + *(*a1 - 24));
  v2 = v1 + 2;
  v1[2].__vftable = &unk_285BE70A8;
  v3 = v1[6].__vftable;
  v1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
}

{
  v1 = (a1 + *(*a1 - 24));
  v1[2].__vftable = &unk_285BE70A8;
  v2 = v1[6].__vftable;
  v1[6].__vftable = 0;
  if (v2)
  {
    (*(v2->~exception + 1))(v2);
  }

  std::exception::~exception(v1 + 2);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<3164ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF1368;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF88E4(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<3167ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF1148;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF89AC(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<3200ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF17A8;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF8A74(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<3203ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF1588;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF8B3C(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

atomic_ullong *di_asif::details::table::get_table_extents<std::insert_iterator<std::set<unsigned long long>>>(di_asif::details::table *a1, uint64_t a2, void *a3, void *a4)
{
  v20[0] = a3;
  v20[1] = a4;
  v5 = *(*(a1 + 1) + 16);
  result = di_asif::details::table::make_map_entry_iterators(a1, a2, v18);
  v16 = 0u;
  v17 = 0u;
  while (v18[0] != v19[3] || v18[1] != v19[4])
  {
    v11[0] = (*(*(v19[0] + 56) + 16 * v19[1] + 8) & 0x7FFFFFFFFFFFFFLL) * *(*(v19[0] + 8) + 28);
    if (v11[0])
    {
      std::insert_iterator<std::set<unsigned long long>>::operator=[abi:ne200100](v20, v11);
    }

    di_asif::details::table::make_data_entry_iterators_for_map(a1, v19, v11);
    while (v11[0] != v14 || v11[1] != v15)
    {
      v10 = (*(*(v12 + 56) + 16 * v13 + 8) & 0x7FFFFFFFFFFFFFLL) * *(*(v12 + 8) + 28);
      if (v10)
      {
        std::insert_iterator<std::set<unsigned long long>>::operator=[abi:ne200100](v20, &v10);
      }

      if (*(v5 + 160) == 1)
      {
        v7 = atomic_load((*(v12 + 56) + 16 * v13 + 8));
        v8 = v7 >> 62;
        if ((v7 >> 62) > 1)
        {
          v9 = &v17;
          if (v8 != 2)
          {
            v9 = &v17 + 8;
          }
        }

        else if (v8)
        {
          v9 = &v16 + 8;
        }

        else
        {
          v9 = &v16;
        }

        ++*v9;
      }

      di_asif::details::data_entry_iterator_t::operator++(v11);
    }

    result = di_asif::details::map_entry_iterator_t::operator++(v18);
  }

  if (*(v5 + 160) == 1)
  {
    return analytics_collector_t::operator+=(v5, &v16);
  }

  return result;
}

void **std::insert_iterator<std::set<unsigned long long>>::operator=[abi:ne200100](void **a1, unint64_t *a2)
{
  v3 = std::__tree<unsigned long long>::__emplace_hint_unique_key_args<unsigned long long,unsigned long long const&>(*a1, a1[1], a2);
  a1[1] = v3;
  v4 = *(v3 + 8);
  if (v4)
  {
    do
    {
      v5 = v4;
      v4 = *v4;
    }

    while (v4);
  }

  else
  {
    do
    {
      v5 = *(v3 + 16);
      v6 = *v5 == v3;
      v3 = v5;
    }

    while (!v6);
  }

  a1[1] = v5;
  return a1;
}

void space_allocators::FixedSize::insert<boost::range_detail::integer_iterator_with_step<unsigned long long>>(uint64_t a1, uint64_t *a2, __int128 *a3, uint64_t a4)
{
  v4 = a2[1];
  v5 = *(a3 + 1);
  if (v4 != v5)
  {
    v10 = *a2;
    v11 = a2[2];
    v12 = v4 + 1;
    if (v4 + 1 != v5)
    {
      v13 = v10 + v11 * v12;
      v14 = a2[1];
      do
      {
        if (v10 + v14 * v11 < v13)
        {
          v4 = v12;
          v14 = v12;
        }

        ++v12;
        v13 += v11;
      }

      while (v5 != v12);
    }

    std::mutex::lock((a1 + 8));
    v18 = *a2;
    v19 = a2[2];
    v16 = *a3;
    v17 = *(a3 + 2);
    std::set<unsigned long long>::insert[abi:ne200100]<boost::range_detail::integer_iterator_with_step<unsigned long long>>(a1 + 72, &v18, &v16);
    v15 = v10 + v4 * v11;
    if (v15 >= *(a1 + 96))
    {
      *(a1 + 96) = *a1 + v15;
    }

    space_allocators::FixedSize::trim_largest(a1, a4);
    std::mutex::unlock((a1 + 8));
  }
}

uint64_t std::set<unsigned long long>::insert[abi:ne200100]<boost::range_detail::integer_iterator_with_step<unsigned long long>>(uint64_t result, void *a2, uint64_t a3)
{
  v5 = a2[1];
  if (v5 != *(a3 + 8))
  {
    v9[5] = v3;
    v9[6] = v4;
    v8 = result;
    do
    {
      v9[0] = *a2 + a2[2] * v5;
      result = std::__tree<unsigned long long>::__emplace_hint_unique_key_args<unsigned long long,unsigned long long const&>(v8, v8 + 1, v9);
      v5 = a2[1] + 1;
      a2[1] = v5;
    }

    while (v5 != *(a3 + 8));
  }

  return result;
}

void std::__call_once_proxy[abi:ne200100]<std::tuple<DiskImageASIF::telemetry_t::start_telemetry(void)::$_0 &&>>(uint64_t ***a1)
{
  v1 = ***a1;
  gcd::gcd_timer_source::set_event_handler((v1 + 56), (v1 + 48));
  gcd::gcd_timer_source::set_timer((v1 + 56));

  gcd::gcd_timer_source::resume((v1 + 56));
}

uint64_t std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::__emplace_unique_key_args<std::string,std::piecewise_construct_t const&,std::tuple<std::string const&>,std::tuple<>>(uint64_t a1, void **a2)
{
  v2 = *std::__tree<std::__value_type<std::string,std::pair<_di_plugin_t * (*)(unsigned long long),unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::pair<_di_plugin_t * (*)(unsigned long long),unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::pair<_di_plugin_t * (*)(unsigned long long),unsigned long long>>>>::__find_equal<std::string>(a1, &v4, a2);
  if (!v2)
  {
    std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::__construct_node<std::piecewise_construct_t const&,std::tuple<std::string const&>,std::tuple<>>();
  }

  return v2;
}

uint64_t std::unique_ptr<std::__tree_node<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,void *>,std::__tree_node_destructor<std::allocator<std::__tree_node<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,void *>>>>::~unique_ptr[abi:ne200100](uint64_t a1)
{
  v2 = *a1;
  *a1 = 0;
  if (v2)
  {
    if (*(a1 + 16) == 1)
    {
      std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::variant<std::string,unsigned long long>>,0>(v2 + 32);
    }

    operator delete(v2);
  }

  return a1;
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::variant<std::string,unsigned long long>>,0>(uint64_t a1)
{
  std::__variant_detail::__dtor<std::__variant_detail::__traits<std::string,unsigned long long>,(std::__variant_detail::_Trait)1>::__destroy[abi:ne200100](a1 + 24);
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

uint64_t std::__variant_detail::__dtor<std::__variant_detail::__traits<std::string,unsigned long long>,(std::__variant_detail::_Trait)1>::__destroy[abi:ne200100](uint64_t result)
{
  v1 = result;
  v2 = *(result + 24);
  if (v2 != -1)
  {
    result = (off_285BF34C8[v2])(&v3, result);
  }

  *(v1 + 24) = -1;
  return result;
}

void _ZNSt3__116__variant_detail12__visitation6__base12__dispatcherIJLm0EEE10__dispatchB8ne200100IOZNS0_6__dtorINS0_8__traitsIJNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEyEEELNS0_6_TraitE1EE9__destroyB8ne200100EvEUlRT_E_JRNS0_6__baseILSF_1EJSD_yEEEEEEDcSH_DpT0_(uint64_t a1, uint64_t a2)
{
  if (*(a2 + 23) < 0)
  {
    operator delete(*a2);
  }
}

void std::__variant_detail::__assignment<std::__variant_detail::__traits<std::string,unsigned long long>>::__assign_alt[abi:ne200100]<0ul,std::string,std::string&>(uint64_t a1, std::string *this, std::string *__str)
{
  if (*(a1 + 24))
  {
    v4[0] = a1;
    v4[1] = __str;
    std::__variant_detail::__assignment<std::__variant_detail::__traits<std::string,unsigned long long>>::__assign_alt[abi:ne200100]<0ul,std::string,std::string&>(std::__variant_detail::__alt<0ul,std::string> &,std::string&)::{unnamed type#1}::operator()(v4);
  }

  else
  {

    std::string::operator=(this, __str);
  }
}

__n128 std::__variant_detail::__assignment<std::__variant_detail::__traits<std::string,unsigned long long>>::__assign_alt[abi:ne200100]<0ul,std::string,std::string&>(std::__variant_detail::__alt<0ul,std::string> &,std::string&)::{unnamed type#1}::operator()(uint64_t a1)
{
  v2 = *a1;
  v1 = *(a1 + 8);
  if (*(v1 + 23) < 0)
  {
    std::string::__init_copy_ctor_external(&v5, *v1, *(v1 + 1));
  }

  else
  {
    v3 = *v1;
    v5.__r_.__value_.__r.__words[2] = *(v1 + 2);
    *&v5.__r_.__value_.__l.__data_ = v3;
  }

  std::__variant_detail::__dtor<std::__variant_detail::__traits<std::string,unsigned long long>,(std::__variant_detail::_Trait)1>::__destroy[abi:ne200100](v2);
  result = *&v5.__r_.__value_.__l.__data_;
  v2[1].n128_u64[0] = v5.__r_.__value_.__r.__words[2];
  *v2 = result;
  v2[1].n128_u32[2] = 0;
  return result;
}

void std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::destroy(uint64_t a1, void *a2)
{
  if (a2)
  {
    std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::destroy(a1, *a2);
    std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::destroy(a1, a2[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::variant<std::string,unsigned long long>>,0>((a2 + 4));

    operator delete(a2);
  }
}

void boost::hana::unpack_t::operator()<boost::hana::basic_tuple<boost::hana::string<(char)116,(char)101,(char)108,(char)101,(char)109,(char)101,(char)116,(char)114,(char)121,(char)73,(char)68>,boost::hana::string<(char)116,(char)101,(char)108,(char)101,(char)109,(char)101,(char)116,(char)114,(char)121,(char)73,(char)110,(char)100,(char)101,(char)120>,boost::hana::string<(char)110,(char)117,(char)109,(char)67,(char)104,(char)117,(char)110,(char)99,(char)107,(char)115,(char)68,(char)101,(char)102,(char)114,(char)97,(char)103,(char)101,(char)100>>,boost::hana::detail::on_each<std::map<std::string,std::variant<std::string,unsigned long long>> DiskImageASIF::telemetry_t::create_event_map<DiskImageASIF::telemetry_t::defrag_fields>(DiskImageASIF::telemetry_t::defrag_fields const&)::{lambda(DiskImageASIF::telemetry_t::defrag_fields)#1} *>>(uint64_t a1, uint64_t a2, void **a3)
{
  DiskImageASIF::telemetry_t::create_event_map<DiskImageASIF::telemetry_t::defrag_fields>(DiskImageASIF::telemetry_t::defrag_fields const&)::{lambda(DiskImageASIF::telemetry_t::defrag_fields)#1}::operator()<boost::hana::string<(char)116,(char)101,(char)108,(char)101,(char)109,(char)101,(char)116,(char)114,(char)121,(char)73,(char)68>>(*a3);
  v4 = *a3;
  std::string::basic_string[abi:ne200100]<0>(__p, "telemetryIndex");
  v5 = v4[1];
  v6 = *(*v4 + 24);
  v16 = __p;
  v7 = std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::__emplace_unique_key_args<std::string,std::piecewise_construct_t const&,std::tuple<std::string const&>,std::tuple<>>(v5, __p);
  v8 = v7;
  if (*(v7 + 80) != 1)
  {
    std::__variant_detail::__dtor<std::__variant_detail::__traits<std::string,unsigned long long>,(std::__variant_detail::_Trait)1>::__destroy[abi:ne200100](v7 + 56);
    *(v8 + 80) = 1;
  }

  *(v8 + 56) = v6;
  if (v15 < 0)
  {
    operator delete(__p[0]);
  }

  v9 = *a3;
  std::string::basic_string[abi:ne200100]<0>(__p, "numChuncksDefraged");
  v10 = v9[1];
  v11 = *(*v9 + 32);
  v16 = __p;
  v12 = std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::__emplace_unique_key_args<std::string,std::piecewise_construct_t const&,std::tuple<std::string const&>,std::tuple<>>(v10, __p);
  v13 = v12;
  if (*(v12 + 80) != 1)
  {
    std::__variant_detail::__dtor<std::__variant_detail::__traits<std::string,unsigned long long>,(std::__variant_detail::_Trait)1>::__destroy[abi:ne200100](v12 + 56);
    *(v13 + 80) = 1;
  }

  *(v13 + 56) = v11;
  if (v15 < 0)
  {
    operator delete(__p[0]);
  }
}

void sub_248EF94BC(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void DiskImageASIF::telemetry_t::create_event_map<DiskImageASIF::telemetry_t::defrag_fields>(DiskImageASIF::telemetry_t::defrag_fields const&)::{lambda(DiskImageASIF::telemetry_t::defrag_fields)#1}::operator()<boost::hana::string<(char)116,(char)101,(char)108,(char)101,(char)109,(char)101,(char)116,(char)114,(char)121,(char)73,(char)68>>(void *a1)
{
  std::string::basic_string[abi:ne200100]<0>(v7, "telemetryID");
  v2 = *a1;
  if (*(*a1 + 23) < 0)
  {
    std::string::__init_copy_ctor_external(&__p, *v2, *(v2 + 1));
  }

  else
  {
    v3 = *v2;
    __p.__r_.__value_.__r.__words[2] = *(v2 + 2);
    *&__p.__r_.__value_.__l.__data_ = v3;
  }

  v4 = a1[1];
  v9 = v7;
  v5 = std::__tree<std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::variant<std::string,unsigned long long>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::variant<std::string,unsigned long long>>>>::__emplace_unique_key_args<std::string,std::piecewise_construct_t const&,std::tuple<std::string const&>,std::tuple<>>(v4, v7);
  std::__variant_detail::__assignment<std::__variant_detail::__traits<std::string,unsigned long long>>::__assign_alt[abi:ne200100]<0ul,std::string,std::string&>(v5 + 56, (v5 + 56), &__p);
  if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(__p.__r_.__value_.__l.__data_);
  }

  if (v8 < 0)
  {
    operator delete(v7[0]);
  }
}

void sub_248EF9598(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *a9, uint64_t a10, int a11, __int16 a12, char a13, char a14, void *__p, uint64_t a16, int a17, __int16 a18, char a19, char a20)
{
  if (a20 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

di_utils *std::__call_once_proxy[abi:ne200100]<std::tuple<DiskImageASIF::void_stackable_identifier(std::shared_ptr<Backend> &)::$_0 &&>>(uint64_t ***a1)
{
  v1 = **a1;
  v2 = *v1;
  result = (*(**v1[2] + 184))(*v1[2]);
  if (*(v2 + 44) != 1)
  {
    *(v2 + 64) = di_utils::random_uuid(result);
    *(v2 + 72) = v4;
    di_asif::header::write_header((v2 + 32), *(v2 + 16));
  }

  return result;
}

uint64_t di_log::logger_buf<di_log::log_printer<3573ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF1CD8;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF96F8(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<3585ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF1EF8;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF97C0(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<3590ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF2118;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF9888(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<3596ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF2338;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF9950(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<3600ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF2558;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EF9A18(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t boost::uuids::string_generator::operator()<std::__wrap_iter<char const*>>(boost::uuids::string_generator *this, unsigned __int8 *a2, unsigned __int8 *a3)
{
  v19[2] = *MEMORY[0x277D85DE8];
  if (a2 == a3)
  {
    goto LABEL_31;
  }

  v5 = (a2 + 1);
  v6 = *a2;
  if (v6 == 123)
  {
    if (v5 == a3)
    {
      goto LABEL_31;
    }

    v5 = (a2 + 2);
    v7 = a2[1];
  }

  else
  {
    v7 = *a2;
  }

  v8 = 0;
  v9 = 0;
  while (1)
  {
    do
    {
      if (v8 == 4)
      {
        if (v7 != 45)
        {
          v9 = 0;
          goto LABEL_23;
        }
      }

      else
      {
        v12 = v8 == 6 || (v8 & 0x7FFFFFFD) == 8;
        if ((v12 & v9) != 1)
        {
          goto LABEL_23;
        }

        if (v7 != 45)
        {
          goto LABEL_31;
        }
      }

      if (v5 == a3)
      {
        goto LABEL_31;
      }

      v13 = *v5++;
      v7 = v13;
      v9 = 1;
LABEL_23:
      value = boost::uuids::string_generator::get_value(this, v7);
      *(v19 + v8) = value;
      if (v5 == a3)
      {
        goto LABEL_31;
      }

      v15 = *v5++;
      v7 = v15;
      *(v19 + v8++) = boost::uuids::string_generator::get_value(this, v15) | (16 * value);
    }

    while (!v8);
    if (v8 == 16)
    {
      break;
    }

    if (v5 == a3)
    {
      goto LABEL_31;
    }

    v10 = *v5++;
    v7 = v10;
  }

  if (v6 == 123 && (v5 == a3 || (v16 = *v5, ++v5, v16 != 125)) || v5 != a3)
  {
LABEL_31:
    boost::uuids::string_generator::throw_invalid(this);
  }

  result = v19[0];
  v18 = *MEMORY[0x277D85DE8];
  return result;
}

uint64_t boost::uuids::string_generator::get_value(boost::uuids::string_generator *this, int a2)
{
  {
    v8 = a2;
    boost::uuids::string_generator::get_value();
    a2 = v8;
  }

  v3 = boost::uuids::string_generator::get_value(char)const::digits_end;
  v4 = memchr("0123456789abcdefABCDEF", a2, boost::uuids::string_generator::get_value(char)const::digits_end - "0123456789abcdefABCDEF");
  if (v4)
  {
    v5 = v4;
  }

  else
  {
    v5 = v3;
  }

  v6 = v5 - "0123456789abcdefABCDEF";
  if (v6 >= boost::uuids::string_generator::get_value(char)const::digits_len)
  {
    boost::uuids::string_generator::throw_invalid(this);
  }

  return boost::uuids::string_generator::get_value(char)const::values[v6];
}

void udsp_header::udsp_header(udsp_header *this, Backend *a2)
{
  *(this + 2) = 0u;
  *(this + 3) = 0u;
  *this = 0u;
  *(this + 1) = 0u;
  operator new[]();
}

void sub_248EF9E44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a10);
  }

  MEMORY[0x24C1ED710](v11, v10);
  _Unwind_Resume(a1);
}

_DWORD *udsp_header::init(udsp_header *this, const char *a2)
{
  v17 = *MEMORY[0x277D85DE8];
  v4 = *a2;
  LODWORD(v15) = 1936879731;
  smart_enums::validators::value<unsigned int>("header_signature", v4, &v15, 1);
  *this = 1936879731;
  v5 = bswap32(*(a2 + 1));
  v15 = 0x200000001;
  v16 = 3;
  smart_enums::validators::value<unsigned int>("version_t", v5, &v15, 3);
  *(this + 1) = v5;
  *(this + 2) = bswap32(*(a2 + 2));
  result = udsp_header::flags_t::flags_t(&v15, bswap32(*(a2 + 3)));
  *(this + 3) = v15;
  *(this + 4) = bswap32(*(a2 + 4));
  *(this + 20) = bswap64(*(a2 + 20));
  *(this + 28) = bswap64(*(a2 + 28));
  v7 = *(a2 + 36);
  v8 = *(a2 + 52);
  *(this + 15) = *(a2 + 15);
  *(this + 52) = v8;
  *(this + 36) = v7;
  if (!*(this + 2))
  {
    exception = __cxa_allocate_exception(0x40uLL);
    DiskImagesRuntimeException::DiskImagesRuntimeException(exception, "Band size in sparse is zero", 0x16u);
  }

  for (i = 0; i != 28; ++i)
  {
    if (*(this + i + 36))
    {
      v11 = __cxa_allocate_exception(0x40uLL);
      DiskImagesRuntimeException::DiskImagesRuntimeException(v11, "Reserved part isn't zeroed", 0x16u);
    }
  }

  v10 = *MEMORY[0x277D85DE8];
  return result;
}

void *serializer_exception_trait<TraitExtractor<signature_type,print_as_string<udsp_header::header_signature>>>::serializer_exception_trait(void *a1, uint64_t a2)
{
  serializer_exception_base::serializer_exception_base((a1 + 2), a2);
  *a1 = &unk_285BF3588;
  a1[2] = &unk_285BF35F0;
  a1[1] = &unk_285BF35B0;
  return a1;
}

std::exception *serializer_exception_trait<TraitExtractor<signature_type,print_as_string<udsp_header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 2;
  a1[2].__vftable = &unk_285BE70A8;
  v3 = a1[6].__vftable;
  a1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
  return a1;
}

void serializer_exception_trait<TraitExtractor<signature_type,print_as_string<udsp_header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 2;
  a1[2].__vftable = &unk_285BE70A8;
  v3 = a1[6].__vftable;
  a1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);

  JUMPOUT(0x24C1ED730);
}

void non-virtual thunk toserializer_exception_trait<TraitExtractor<signature_type,print_as_string<udsp_header::header_signature>>>::~serializer_exception_trait(std::exception *a1)
{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
}

{
  v2 = a1 + 1;
  a1[1].__vftable = &unk_285BE70A8;
  v3 = a1[5].__vftable;
  a1[5].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk toserializer_exception_trait<TraitExtractor<signature_type,print_as_string<udsp_header::header_signature>>>::~serializer_exception_trait(void *a1)
{
  v1 = (a1 + *(*a1 - 24));
  v2 = v1 + 2;
  v1[2].__vftable = &unk_285BE70A8;
  v3 = v1[6].__vftable;
  v1[6].__vftable = 0;
  if (v3)
  {
    (*(v3->~exception + 1))(v3);
  }

  std::exception::~exception(v2);
}

{
  v1 = (a1 + *(*a1 - 24));
  v1[2].__vftable = &unk_285BE70A8;
  v2 = v1[6].__vftable;
  v1[6].__vftable = 0;
  if (v2)
  {
    (*(v2->~exception + 1))(v2);
  }

  std::exception::~exception(v1 + 2);

  JUMPOUT(0x24C1ED730);
}

_DWORD *udsp_header::flags_t::flags_t(_DWORD *this, int a2)
{
  *this = a2;
  if ((a2 & 0xFFFFFFFE) != 0)
  {
    v2 = a2 & 0xFFFFFFFE;
    exception = __cxa_allocate_exception(0x28uLL);
    exception[1] = "flags_t";
    exception[2] = "invalid flags";
    exception[3] = "flags validator";
    *exception = &unk_285BD5790;
    *(exception + 8) = v2;
  }

  return this;
}

void DiskImage::get_user_data(DiskImage *this)
{
  exception = __cxa_allocate_exception(0x40uLL);
  DiskImagesRuntimeException::DiskImagesRuntimeException(exception, "User data is not supported in this image format", 0x2Du);
}

void DiskImage::write_user_data(DiskImage *this, const __CFDictionary *a2)
{
  exception = __cxa_allocate_exception(0x40uLL);
  DiskImagesRuntimeException::DiskImagesRuntimeException(exception, "User data is not supported in this image format", 0x2Du);
}

void *operator<<(void *a1, int *a2)
{
  v3 = *a2;
  if (*a2 > 1)
  {
    if (v3 == 2)
    {
      v4 = "unmapped";
      v5 = 8;
      goto LABEL_11;
    }

    if (v3 == 3)
    {
      v4 = "error";
      v5 = 5;
LABEL_11:
      std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(a1, v4, v5);
    }
  }

  else
  {
    if (!v3)
    {
      v4 = "uninit";
      goto LABEL_9;
    }

    if (v3 == 1)
    {
      v4 = "mapped";
LABEL_9:
      v5 = 6;
      goto LABEL_11;
    }
  }

  return a1;
}

void *boost::icl::operator<<<char,std::char_traits<char>,boost::icl::discrete_interval<unsigned long long,std::less>>(void *a1, unint64_t *a2)
{
  v4 = *(a2 + 16);
  v6 = *a2;
  v5 = a2[1];
  if (*(a2 + 16))
  {
    if (v4 == 3)
    {
      if (v5 < v6)
      {
LABEL_4:
        if ((v4 & 2) != 0)
        {
          v7 = "[";
        }

        else
        {
          v7 = "(";
        }

        std::string::basic_string[abi:ne200100]<0>(&v27, v7);
        if ((v29 & 0x80u) == 0)
        {
          v8 = &v27;
        }

        else
        {
          v8 = v27;
        }

        if ((v29 & 0x80u) == 0)
        {
          v9 = v29;
        }

        else
        {
          v9 = v28;
        }

        v10 = std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(a1, v8, v9);
        if (a2[2])
        {
          v11 = "]";
        }

        else
        {
          v11 = ")";
        }

        std::string::basic_string[abi:ne200100]<0>(&__p, v11);
        if ((v26 & 0x80u) == 0)
        {
          p_p = &__p;
        }

        else
        {
          p_p = __p;
        }

        if ((v26 & 0x80u) == 0)
        {
          v13 = v26;
        }

        else
        {
          v13 = v25;
        }

        goto LABEL_44;
      }
    }

    else if (v6 >= v5)
    {
      goto LABEL_4;
    }
  }

  else if (v6 >= v5 || v6 + 1 >= v5)
  {
    goto LABEL_4;
  }

  if ((v4 & 2) != 0)
  {
    v15 = "[";
  }

  else
  {
    v15 = "(";
  }

  std::string::basic_string[abi:ne200100]<0>(&v27, v15);
  if ((v29 & 0x80u) == 0)
  {
    v16 = &v27;
  }

  else
  {
    v16 = v27;
  }

  if ((v29 & 0x80u) == 0)
  {
    v17 = v29;
  }

  else
  {
    v17 = v28;
  }

  v18 = std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(a1, v16, v17);
  v19 = MEMORY[0x24C1ED3E0](v18, *a2);
  v20 = std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(v19, ",", 1);
  v10 = MEMORY[0x24C1ED3E0](v20, a2[1]);
  if (a2[2])
  {
    v21 = "]";
  }

  else
  {
    v21 = ")";
  }

  std::string::basic_string[abi:ne200100]<0>(&__p, v21);
  if ((v26 & 0x80u) == 0)
  {
    p_p = &__p;
  }

  else
  {
    p_p = __p;
  }

  if ((v26 & 0x80u) == 0)
  {
    v13 = v26;
  }

  else
  {
    v13 = v25;
  }

LABEL_44:
  v22 = std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(v10, p_p, v13);
  if (v26 < 0)
  {
    operator delete(__p);
  }

  if (v29 < 0)
  {
    operator delete(v27);
  }

  return v22;
}

void sub_248EFA988(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14, void *a15, uint64_t a16, int a17, __int16 a18, char a19, char a20)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  if (a20 < 0)
  {
    operator delete(a15);
  }

  _Unwind_Resume(exception_object);
}

uint64_t DiskImage::const_extents_iterator_t::const_extents_iterator_t(uint64_t a1, uint64_t a2)
{
  (*(**a2 + 8))();
  v4 = *(a2 + 8);
  *(a1 + 24) = *(a2 + 24);
  *(a1 + 8) = v4;
  *(a1 + 40) = *(a2 + 40);
  return a1;
}

BOOL DiskImage::const_extents_iterator_t::operator==(_DWORD *a1, _DWORD *a2)
{
  v2 = *a1;
  v3 = *a2;
  v4 = *(*a1 + 8);
  v5 = *(*a2 + 8);
  if (*v4 != *v5)
  {
    return 0;
  }

  result = boost::icl::operator==<boost::icl::discrete_interval<unsigned long long,std::less>>(v4 + 8, v5 + 8);
  if (result)
  {
    if (*(v4 + 48) == *(v5 + 48) && *(v2 + 40) == *(v3 + 40))
    {
      return a1[10] == a2[10];
    }

    return 0;
  }

  return result;
}

double DiskImage::const_extents_iterator_t::make_val@<D0>(DiskImage::const_extents_iterator_t *this@<X0>, uint64_t a2@<X8>)
{
  v3 = *this;
  v4 = *(*this + 40);
  v5 = *(*this + 24);
  *a2 = v4;
  *(a2 + 8) = v5;
  *(a2 + 16) = 2;
  *(a2 + 24) = 3;
  if (*(**(v3 + 8) + 8))
  {
    if (DIDebugLogsEnabled())
    {
      *v10 = "DiskImage::const_extents_iterator_t::make_val() const";
      *&v10[8] = 45;
      *&v10[16] = 2;
      di_log::logger<di_log::log_printer<122ul>>::logger(&v11, v10);
      std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(&v14, "Disk image is terminated, skipping ...", 38);
      std::ostream::~ostream();
      di_log::logger_buf<di_log::log_printer<122ul>>::~logger_buf(&v11);
      MEMORY[0x24C1ED6A0](&v15);
    }
  }

  else if (v4 < v5 && *(this + 8) != 3)
  {
    (**v3)(&v11, v3);
    *v9 = v11;
    *&v9[16] = v12;
    boost::icl::operator&<boost::icl::discrete_interval<unsigned long long,std::less>>(v9, v3 + 16, v10);
    *&v10[24] = v13;
    if (v13 != 3 && (*(this + 10) & (1 << v13)) == 0)
    {
      do
      {
        v8 = *this;
        if (*(*this + 40) >= (*(*this + 32) & 1) + *(*this + 24))
        {
          break;
        }

        *(v8 + 40) = (v10[16] & 1) + *&v10[8];
        (**v8)(&v11, v8);
        v16 = v11;
        v17 = v12;
        boost::icl::operator&<boost::icl::discrete_interval<unsigned long long,std::less>>(&v16, v8 + 16, v9);
        *&v9[24] = v13;
        *v10 = *v9;
        *&v10[12] = *&v9[12];
        if (v13 == 3)
        {
          break;
        }
      }

      while ((*(this + 10) & (1 << v13)) == 0);
    }

    *a2 = *v10;
    result = *&v10[12];
    *(a2 + 12) = *&v10[12];
  }

  return result;
}

void sub_248EFAD10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, char a18)
{
  if (a2 == 1)
  {
    __cxa_begin_catch(a1);
    v20 = *(*v19 + 24);
    *v18 = *(*v19 + 40);
    *(v18 + 8) = v20;
    *(v18 + 16) = 2;
    *(v18 + 24) = 3;
    __cxa_end_catch();
    JUMPOUT(0x248EFACF8);
  }

  _Unwind_Resume(a1);
}

DiskImage::const_extents_iterator_t *DiskImage::const_extents_iterator_t::operator++(DiskImage::const_extents_iterator_t *this)
{
  v2 = *this;
  v3 = (*(this + 24) & 1) + *(this + 2);
  *(v2 + 40) = v3;
  if (v3 < (*(v2 + 32) & 1) + *(v2 + 24))
  {
    DiskImage::const_extents_iterator_t::make_val(this, v5);
    *(this + 8) = v5[0];
    *(this + 20) = *(v5 + 12);
  }

  return this;
}

DiskImage::const_extents_iterator_t *DiskImage::const_extents_iterator_t::operator++@<X0>(DiskImage::const_extents_iterator_t *a1@<X0>, uint64_t a2@<X8>)
{
  (*(**a1 + 8))(*a1);
  *(a2 + 8) = *(a1 + 8);
  *(a2 + 24) = *(a1 + 24);
  *(a2 + 40) = *(a1 + 10);
  return DiskImage::const_extents_iterator_t::operator++(a1);
}

void sub_248EFAE48(_Unwind_Exception *exception_object)
{
  v3 = *v1;
  *v1 = 0;
  if (v3)
  {
    DiskImage::const_extents_iterator_t::operator++(v3);
  }

  _Unwind_Resume(exception_object);
}

void *std::function<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::operator=(void *a1, uint64_t a2)
{
  v5[4] = *MEMORY[0x277D85DE8];
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::__value_func[abi:ne200100](v5, a2);
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::swap[abi:ne200100](v5, a1);
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::~__value_func[abi:ne200100](v5);
  v3 = *MEMORY[0x277D85DE8];
  return a1;
}

uint64_t DiskImage::extents_t::operator=(uint64_t a1, uint64_t a2)
{
  v4 = *(a2 + 8);
  *(a1 + 24) = *(a2 + 24);
  *(a1 + 8) = v4;
  *(a1 + 48) = *(a2 + 48);
  v5 = *(a2 + 32);
  *(a2 + 32) = 0;
  v6 = *(a1 + 32);
  *(a1 + 32) = v5;
  if (v6)
  {
    (*(*v6 + 40))(v6);
    v5 = *(a1 + 32);
  }

  *(a1 + 40) = v5;
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::operator=[abi:ne200100](a1 + 56, a2 + 56);
  return a1;
}

uint64_t DiskImage::extents_t::back@<X0>(DiskImage::extents_t *this@<X0>, uint64_t a2@<X8>)
{
  v4 = boost::icl::identity_element<unsigned long long>::value(void)::_value;
  *a2 = boost::icl::identity_element<unsigned long long>::value(void)::_value;
  *(a2 + 8) = v4;
  *(a2 + 16) = 2;
  *(a2 + 24) = 0;
  DiskImage::extents_t::begin(this, v11);
  DiskImage::extents_t::end(this, v10);
  while (!DiskImage::const_extents_iterator_t::operator==(v11, v10))
  {
    DiskImage::const_extents_iterator_t::operator++(v11, &v8);
    *a2 = v9[0];
    *(a2 + 12) = *(v9 + 12);
    v5 = v8;
    v8 = 0;
    if (v5)
    {
      (*(*v5 + 24))(v5);
    }
  }

  v6 = v10[0];
  v10[0] = 0;
  if (v6)
  {
    (*(*v6 + 24))(v6);
  }

  result = v11[0];
  v11[0] = 0;
  if (result)
  {
    return (*(*result + 24))(result);
  }

  return result;
}

void sub_248EFB084(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15)
{
  v17 = *(v15 - 64);
  *(v15 - 64) = 0;
  if (v17)
  {
    (*(*v17 + 24))(v17);
  }

  _Unwind_Resume(exception_object);
}

BOOL boost::icl::operator==<boost::icl::discrete_interval<unsigned long long,std::less>>(uint64_t a1, uint64_t a2)
{
  v2 = *(a1 + 16);
  v4 = *a1;
  v3 = *(a1 + 8);
  if (*(a1 + 16))
  {
    if (v2 == 3)
    {
      if (v3 >= v4)
      {
        goto LABEL_19;
      }
    }

    else if (v4 < v3)
    {
      goto LABEL_19;
    }
  }

  else if (v4 < v3 && v4 + 1 < v3)
  {
    goto LABEL_19;
  }

  v7 = *a2;
  v6 = *(a2 + 8);
  if (!*(a2 + 16))
  {
    if (v7 < v6 && v7 + 1 < v6)
    {
      goto LABEL_19;
    }

    return 1;
  }

  if (*(a2 + 16) != 3)
  {
    if (v7 < v6)
    {
      goto LABEL_19;
    }

    return 1;
  }

  if (v6 < v7)
  {
    return 1;
  }

LABEL_19:
  if ((v2 & 2) != 0)
  {
    v10 = *a1;
  }

  else
  {
    v10 = v4 + 1;
  }

  v11 = *a2;
  if ((*(a2 + 16) & 2) == 0)
  {
    ++v11;
  }

  return v11 == v10 && (*(a2 + 16) & 1) + *(a2 + 8) == (v2 & 1) + v3;
}

uint64_t std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

{
  v3 = (a2 + 24);
  v4 = *(a2 + 24);
  if (v4)
  {
    if (v4 == a2)
    {
      *(a1 + 24) = a1;
      (*(**v3 + 24))(*v3, a1);
      return a1;
    }

    *(a1 + 24) = v4;
  }

  else
  {
    v3 = (a1 + 24);
  }

  *v3 = 0;
  return a1;
}

void *std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::swap[abi:ne200100](void *result, void *a2)
{
  v6[3] = *MEMORY[0x277D85DE8];
  if (a2 != result)
  {
    v3 = result;
    result = result[3];
    v4 = a2[3];
    if (result == v3)
    {
      if (v4 == a2)
      {
        (*(*result + 24))(result, v6);
        (*(*v3[3] + 32))(v3[3]);
        v3[3] = 0;
        (*(*a2[3] + 24))(a2[3], v3);
        (*(*a2[3] + 32))(a2[3]);
        a2[3] = 0;
        v3[3] = v3;
        (*(v6[0] + 24))(v6, a2);
        result = (*(v6[0] + 32))(v6);
      }

      else
      {
        (*(*result + 24))(result, a2);
        result = (*(*v3[3] + 32))(v3[3]);
        v3[3] = a2[3];
      }

      a2[3] = a2;
    }

    else if (v4 == a2)
    {
      (*(*v4 + 24))(a2[3], v3);
      result = (*(*a2[3] + 32))(a2[3]);
      a2[3] = v3[3];
      v3[3] = v3;
    }

    else
    {
      v3[3] = v4;
      a2[3] = result;
    }
  }

  v5 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_248EFB4B4(_Unwind_Exception *a1, int a2)
{
  if (!a2)
  {
    _Unwind_Resume(a1);
  }

  __clang_call_terminate(a1);
}

uint64_t std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::operator=[abi:ne200100](uint64_t a1, uint64_t a2)
{
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::operator=[abi:ne200100](a1);
  v4 = *(a2 + 24);
  if (v4)
  {
    if (v4 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = v4;
      *(a2 + 24) = 0;
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::operator=[abi:ne200100](uint64_t a1)
{
  v2 = *(a1 + 24);
  *(a1 + 24) = 0;
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  return a1;
}

void *di_log::logger<di_log::log_printer<92ul>>::logger(void *a1, __int128 *a2)
{
  v3 = (a1 + 46);
  a1[52] = 0;
  a1[46] = MEMORY[0x277D828C0] + 16;
  di_log::logger_buf<di_log::log_printer<92ul>>::logger_buf(a1, a2);
  *a1 = &unk_285BF3658;
  a1[45] = &unk_285BF3758;
  a1[46] = &unk_285BF3780;
  std::ios_base::init(v3, a1);
  a1[63] = 0;
  *(a1 + 128) = -1;
  *a1 = &unk_285BF3658;
  a1[45] = &unk_285BF36E0;
  a1[46] = &unk_285BF3708;
  return a1;
}

void sub_248EFC534(_Unwind_Exception *a1)
{
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v2);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger<di_log::log_printer<92ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);
  return a1;
}

void *di_log::logger<di_log::log_printer<139ul>>::logger(void *a1, __int128 *a2)
{
  v3 = (a1 + 46);
  a1[52] = 0;
  a1[46] = MEMORY[0x277D828C0] + 16;
  di_log::logger_buf<di_log::log_printer<139ul>>::logger_buf(a1, a2);
  *a1 = &unk_285BF3878;
  a1[45] = &unk_285BF3978;
  a1[46] = &unk_285BF39A0;
  std::ios_base::init(v3, a1);
  a1[63] = 0;
  *(a1 + 128) = -1;
  *a1 = &unk_285BF3878;
  a1[45] = &unk_285BF3900;
  a1[46] = &unk_285BF3928;
  return a1;
}

void sub_248EFC6A0(_Unwind_Exception *a1)
{
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v2);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger<di_log::log_printer<139ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);
  return a1;
}

uint64_t std::function<void ()(long long)>::operator()(uint64_t a1, uint64_t a2)
{
  v4 = a2;
  v2 = *(a1 + 24);
  if (!v2)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  return (*(*v2 + 48))(v2, &v4);
}

void udif::xml_rsrc_iterator::~xml_rsrc_iterator(const void **this)
{
  if (*(this + 24) == 1)
  {
    CFAutoRelease<__CFDictionary const*>::~CFAutoRelease(this + 2);
  }

  v2 = this[1];
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }
}

void non-virtual thunk todi_log::logger<di_log::log_printer<92ul>>::~logger(uint64_t a1)
{
  v1 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v2 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(v2);
  MEMORY[0x24C1ED6A0](a1 + 8);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk todi_log::logger<di_log::log_printer<92ul>>::~logger(void *a1)
{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v1 + 368);

  JUMPOUT(0x24C1ED730);
}

void di_log::logger<di_log::log_printer<92ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<92ul>>::xsputn(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a1 + 64) == 1)
  {
    std::ostream::write();
  }

  return a3;
}

uint64_t di_log::logger_buf<di_log::log_printer<92ul>>::overflow(_BYTE *a1, int a2)
{
  v2 = a2;
  if (a1[64] == 1)
  {
    if (a2 == -1)
    {
      (*(*a1 + 48))(a1);
    }

    else
    {
      std::ostream::put();
    }
  }

  return v2;
}

uint64_t di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(uint64_t a1)
{
  *a1 = &unk_285BF37F0;
  di_log::logger_buf<di_log::log_printer<92ul>>::_sync(a1);
  v2 = MEMORY[0x277D82828];
  v3 = *MEMORY[0x277D82828];
  *(a1 + 96) = *MEMORY[0x277D82828];
  *(a1 + 96 + *(v3 - 24)) = *(v2 + 24);
  *(a1 + 104) = MEMORY[0x277D82878] + 16;
  if (*(a1 + 191) < 0)
  {
    operator delete(*(a1 + 168));
  }

  *(a1 + 104) = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 112));
  std::ostream::~ostream();
  MEMORY[0x24C1ED6A0](a1 + 208);
  *a1 = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 8));
  return a1;
}

uint64_t di_log::logger_buf<di_log::log_printer<92ul>>::_sync(uint64_t a1)
{
  v9 = *MEMORY[0x277D85DE8];
  if (*(a1 + 64) == 1)
  {
    v2 = (a1 + 96);
    v3 = a1 + 96 + *(*(a1 + 96) - 24);
    if ((*(v3 + 32) & 5) == 0)
    {
      (*(**(v3 + 40) + 32))(__p);
      if (v8 >= 1)
      {
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        di_log::log_printer<92ul>::log((a1 + 72), __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }

        std::ios_base::clear((v2 + *(*v2 - 24)), 0);
        std::string::basic_string[abi:ne200100]<0>(__p, "");
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }
      }
    }
  }

  v4 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248EFCCF0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(uint64_t a1)
{
  di_log::logger_buf<di_log::log_printer<92ul>>::~logger_buf(a1);

  JUMPOUT(0x24C1ED730);
}

int *di_log::log_printer<92ul>::log(uint64_t *a1, uint64_t *a2)
{
  v25 = *MEMORY[0x277D85DE8];
  v4 = *(a1 + 2);
  v5 = *__error();
  if (DIForwardLogs())
  {
    DIOSLog = getDIOSLog();
    os_log_type_enabled(DIOSLog, *(a1 + 16));
    v7 = *a1;
    if (*(a2 + 23) >= 0)
    {
      v8 = a2;
    }

    else
    {
      v8 = *a2;
    }

    *buf = 68158466;
    v18 = v4;
    v19 = 2080;
    v20 = v7;
    v21 = 2048;
    v22 = 92;
    v23 = 2082;
    v24 = v8;
    v9 = _os_log_send_and_compose_impl();
    if (v9)
    {
      v10 = v9;
      fprintf(*MEMORY[0x277D85DF8], "%s\n", v9);
      free(v10);
    }
  }

  else
  {
    v11 = getDIOSLog();
    v12 = *(a1 + 4);
    if (os_log_type_enabled(v11, v12))
    {
      v13 = *a1;
      if (*(a2 + 23) >= 0)
      {
        v14 = a2;
      }

      else
      {
        v14 = *a2;
      }

      *buf = 68158466;
      v18 = v4;
      v19 = 2080;
      v20 = v13;
      v21 = 2048;
      v22 = 92;
      v23 = 2082;
      v24 = v14;
      _os_log_impl(&dword_248DE0000, v11, v12, "%.*s: <%lu> %{public}s", buf, 0x26u);
    }
  }

  result = __error();
  *result = v5;
  v16 = *MEMORY[0x277D85DE8];
  return result;
}

void non-virtual thunk todi_log::logger<di_log::log_printer<139ul>>::~logger(uint64_t a1)
{
  v1 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v2 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(v2);
  MEMORY[0x24C1ED6A0](a1 + 8);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk todi_log::logger<di_log::log_printer<139ul>>::~logger(void *a1)
{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v1 + 368);

  JUMPOUT(0x24C1ED730);
}

void di_log::logger<di_log::log_printer<139ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<139ul>>::xsputn(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a1 + 64) == 1)
  {
    std::ostream::write();
  }

  return a3;
}

uint64_t di_log::logger_buf<di_log::log_printer<139ul>>::overflow(_BYTE *a1, int a2)
{
  v2 = a2;
  if (a1[64] == 1)
  {
    if (a2 == -1)
    {
      (*(*a1 + 48))(a1);
    }

    else
    {
      std::ostream::put();
    }
  }

  return v2;
}

uint64_t di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(uint64_t a1)
{
  *a1 = &unk_285BF3A10;
  di_log::logger_buf<di_log::log_printer<139ul>>::_sync(a1);
  v2 = MEMORY[0x277D82828];
  v3 = *MEMORY[0x277D82828];
  *(a1 + 96) = *MEMORY[0x277D82828];
  *(a1 + 96 + *(v3 - 24)) = *(v2 + 24);
  *(a1 + 104) = MEMORY[0x277D82878] + 16;
  if (*(a1 + 191) < 0)
  {
    operator delete(*(a1 + 168));
  }

  *(a1 + 104) = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 112));
  std::ostream::~ostream();
  MEMORY[0x24C1ED6A0](a1 + 208);
  *a1 = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 8));
  return a1;
}

uint64_t di_log::logger_buf<di_log::log_printer<139ul>>::_sync(uint64_t a1)
{
  v9 = *MEMORY[0x277D85DE8];
  if (*(a1 + 64) == 1)
  {
    v2 = (a1 + 96);
    v3 = a1 + 96 + *(*(a1 + 96) - 24);
    if ((*(v3 + 32) & 5) == 0)
    {
      (*(**(v3 + 40) + 32))(__p);
      if (v8 >= 1)
      {
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        di_log::log_printer<139ul>::log((a1 + 72), __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }

        std::ios_base::clear((v2 + *(*v2 - 24)), 0);
        std::string::basic_string[abi:ne200100]<0>(__p, "");
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }
      }
    }
  }

  v4 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248EFD488(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(uint64_t a1)
{
  di_log::logger_buf<di_log::log_printer<139ul>>::~logger_buf(a1);

  JUMPOUT(0x24C1ED730);
}

int *di_log::log_printer<139ul>::log(uint64_t *a1, uint64_t *a2)
{
  v25 = *MEMORY[0x277D85DE8];
  v4 = *(a1 + 2);
  v5 = *__error();
  if (DIForwardLogs())
  {
    DIOSLog = getDIOSLog();
    os_log_type_enabled(DIOSLog, *(a1 + 16));
    v7 = *a1;
    if (*(a2 + 23) >= 0)
    {
      v8 = a2;
    }

    else
    {
      v8 = *a2;
    }

    *buf = 68158466;
    v18 = v4;
    v19 = 2080;
    v20 = v7;
    v21 = 2048;
    v22 = 139;
    v23 = 2082;
    v24 = v8;
    v9 = _os_log_send_and_compose_impl();
    if (v9)
    {
      v10 = v9;
      fprintf(*MEMORY[0x277D85DF8], "%s\n", v9);
      free(v10);
    }
  }

  else
  {
    v11 = getDIOSLog();
    v12 = *(a1 + 4);
    if (os_log_type_enabled(v11, v12))
    {
      v13 = *a1;
      if (*(a2 + 23) >= 0)
      {
        v14 = a2;
      }

      else
      {
        v14 = *a2;
      }

      *buf = 68158466;
      v18 = v4;
      v19 = 2080;
      v20 = v13;
      v21 = 2048;
      v22 = 139;
      v23 = 2082;
      v24 = v14;
      _os_log_impl(&dword_248DE0000, v11, v12, "%.*s: <%lu> %{public}s", buf, 0x26u);
    }
  }

  result = __error();
  *result = v5;
  v16 = *MEMORY[0x277D85DE8];
  return result;
}

DiskImage::extents_t *DiskImage::extents_t::extents_t(DiskImage::extents_t *this, const DiskImage::extents_t *a2)
{
  v4 = *a2;
  *this = *a2;
  v5 = *(a2 + 8);
  *(this + 3) = *(a2 + 3);
  *(this + 8) = v5;
  v6 = (*(*v4 + 144))(v4);
  *(this + 4) = v6;
  *(this + 5) = v6;
  *(this + 12) = *(a2 + 12);
  *(this + 7) = &unk_285BDD6E8;
  *(this + 10) = this + 56;
  std::function<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::operator=(this + 7, a2 + 56);
  return this;
}

void sub_248EFD778(_Unwind_Exception *a1)
{
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::~__value_func[abi:ne200100](v2);
  v4 = *(v1 + 32);
  *(v1 + 32) = 0;
  if (v4)
  {
    DiskImage::extents_t::extents_t(v4);
  }

  _Unwind_Resume(a1);
}

udif::checksum_type *udif::checksum_type::checksum_type(udif::checksum_type *this)
{
  v7 = *MEMORY[0x277D85DE8];
  *this = 0;
  v4[0] = xmmword_248FA6C60;
  v4[1] = xmmword_248FA6C70;
  v5 = 0x900000008;
  v6 = 10;
  smart_enums::validators::value<unsigned int>("checksum_type", 0, v4, 11);
  v2 = *MEMORY[0x277D85DE8];
  return this;
}

udif::run_type *udif::run_type::run_type(udif::run_type *this)
{
  v7 = *MEMORY[0x277D85DE8];
  *this = 0;
  v4[0] = xmmword_248FA6C80;
  v4[1] = xmmword_248FA6C90;
  v4[2] = xmmword_248FA6CA0;
  v5 = 0x8000000880000007;
  v6 = -1;
  smart_enums::validators::value<unsigned int>("run_type", 0, v4, 15);
  v2 = *MEMORY[0x277D85DE8];
  return this;
}

udif::run_type *udif::run_type::run_type(udif::run_type *this, int a2)
{
  v8 = *MEMORY[0x277D85DE8];
  *this = a2;
  v5[0] = xmmword_248FA6C80;
  v5[1] = xmmword_248FA6C90;
  v5[2] = xmmword_248FA6CA0;
  v6 = 0x8000000880000007;
  v7 = -1;
  smart_enums::validators::value<unsigned int>("run_type", a2, v5, 15);
  v3 = *MEMORY[0x277D85DE8];
  return this;
}

uint64_t **boost::icl::interval_base_map<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>,unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>::_insert(uint64_t **a1, uint64_t a2)
{
  v13 = *a2;
  v14 = *(a2 + 16);
  if (v14)
  {
    if (v14 == 3)
    {
      if (*(&v13 + 1) < v13)
      {
        return a1 + 1;
      }
    }

    else if (v13 >= *(&v13 + 1))
    {
      return a1 + 1;
    }
  }

  else if (v13 >= *(&v13 + 1) || (v13 + 1) >= *(&v13 + 1))
  {
    return a1 + 1;
  }

  {
    udif::details::run_info::run_info(&boost::icl::identity_element<udif::details::run_info>::value(void)::_value);
  }

  LODWORD(v16) = boost::icl::identity_element<udif::details::run_info>::value(void)::_value;
  v17 = unk_27EECDD20;
  if (udif::details::run_info::operator==(a2 + 24, &v16))
  {
    return a1 + 1;
  }

  v6 = std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::__emplace_unique_key_args<boost::icl::discrete_interval<unsigned long long,std::less>,std::pair<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info> const&>(a1, a2);
  if (v7)
  {
    v16 = v6;
    boost::icl::segmental::join_left<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(a1, &v16);
    return boost::icl::segmental::join_right<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(a1, &v16);
  }

  else
  {
    v8 = std::__tree<boost::icl::discrete_interval<unsigned long long,std::less>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,std::allocator<boost::icl::discrete_interval<unsigned long long,std::less>>>::lower_bound[abi:ne200100]<boost::icl::discrete_interval<unsigned long long,std::less>>(a1, &v13);
    v9 = std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::upper_bound[abi:ne200100]<boost::icl::discrete_interval<unsigned long long,std::less>>(a1, &v13);
    v10 = *v9;
    if (*v9)
    {
      do
      {
        v11 = v10;
        v10 = v10[1];
      }

      while (v10);
    }

    else
    {
      do
      {
        v11 = v9[2];
        v12 = *v11 == v9;
        v9 = v11;
      }

      while (v12);
    }

    v15 = v8;
    v16 = v11;
    boost::icl::interval_base_map<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>,unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>::insert_main(a1, &v13, (a2 + 24), &v15, &v16);
    return v15;
  }
}

uint64_t boost::icl::interval_base_map<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>,unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>::insert_main(uint64_t **a1, __int128 *a2, int *a3, uint64_t **a4, uint64_t **a5)
{
  v8 = *a5;
  v9 = (*a5)[1];
  if (v9)
  {
    do
    {
      v10 = v9;
      v9 = *v9;
    }

    while (v9);
  }

  else
  {
    v11 = *a5;
    do
    {
      v10 = v11[2];
      v12 = *v10 == v11;
      v11 = v10;
    }

    while (!v12);
  }

  v13 = *a4;
  if (*a1 == *a4)
  {
    v15 = (a1 + 1);
  }

  else
  {
    v14 = *v13;
    if (*v13)
    {
      do
      {
        v15 = v14;
        v14 = v14[1];
      }

      while (v14);
    }

    else
    {
      v16 = *a4;
      do
      {
        v15 = v16[2];
        v12 = *v15 == v16;
        v16 = v15;
      }

      while (v12);
    }
  }

  v31 = *a2;
  v32 = *(a2 + 2);
  *&v29 = boost::icl::identity_element<unsigned long long>::value(void)::_value;
  *(&v29 + 1) = boost::icl::identity_element<unsigned long long>::value(void)::_value;
  v30 = 2;
  v27 = *(v8 + 2);
  v28 = v8[6];
  if (v13 != v10)
  {
    while (1)
    {
      v29 = *(v13 + 2);
      v30 = *(v13 + 48);
      v25 = v31;
      v26 = v32;
      boost::icl::right_subtract<boost::icl::discrete_interval<unsigned long long,std::less>>(&v25, &v29, &v21);
      if (v22)
      {
        break;
      }

      if (v21 < *(&v21 + 1) && (v21 + 1) < *(&v21 + 1))
      {
        goto LABEL_21;
      }

LABEL_22:
      v25 = v31;
      v26 = v32;
      boost::icl::left_subtract<boost::icl::discrete_interval<unsigned long long,std::less>>(&v25, &v29, &v21);
      v31 = v21;
      LOBYTE(v32) = v22;
      v15 = *a4;
      v17 = (*a4)[1];
      v18 = *a4;
      if (v17)
      {
        do
        {
          v13 = v17;
          v17 = *v17;
        }

        while (v17);
      }

      else
      {
        do
        {
          v13 = v18[2];
          v12 = *v13 == v18;
          v18 = v13;
        }

        while (!v12);
      }

      *a4 = v13;
      if (v13 == v10)
      {
        goto LABEL_31;
      }
    }

    if (v22 == 3)
    {
      if (*(&v21 + 1) < v21)
      {
        goto LABEL_22;
      }
    }

    else if (v21 >= *(&v21 + 1))
    {
      goto LABEL_22;
    }

LABEL_21:
    v23 = *a3;
    v24 = *(a3 + 2);
    *&v21 = std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::__emplace_hint_unique_key_args<boost::icl::discrete_interval<unsigned long long,std::less>,std::pair<boost::icl::discrete_interval<unsigned long long,std::less> const,udif::details::run_info> const&>(a1, v15, &v21);
    boost::icl::segmental::join_left<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(a1, &v21);
    *a4 = boost::icl::segmental::join_right<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(a1, &v21);
    goto LABEL_22;
  }

LABEL_31:
  v21 = v31;
  v22 = v32;
  result = boost::icl::left_subtract<boost::icl::discrete_interval<unsigned long long,std::less>>(&v21, &v27, &v25);
  v20 = v25;
  if (v26)
  {
    if (v26 == 3)
    {
      if (*(&v25 + 1) < v25)
      {
        goto LABEL_39;
      }

      goto LABEL_38;
    }
  }

  else
  {
    if (v25 >= *(&v25 + 1))
    {
      goto LABEL_39;
    }

    v20 = v25 + 1;
  }

  if (v20 < *(&v25 + 1))
  {
LABEL_38:
    v21 = v25;
    v22 = v26;
    v23 = *a3;
    v24 = *(a3 + 2);
    *&v21 = std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::__emplace_hint_unique_key_args<boost::icl::discrete_interval<unsigned long long,std::less>,std::pair<boost::icl::discrete_interval<unsigned long long,std::less> const,udif::details::run_info> const&>(a1, v15, &v21);
    boost::icl::segmental::join_left<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(a1, &v21);
    result = boost::icl::segmental::join_right<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(a1, &v21);
    v15 = result;
  }

LABEL_39:
  *a4 = v15;
  return result;
}

uint64_t std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::__emplace_unique_key_args<boost::icl::discrete_interval<unsigned long long,std::less>,std::pair<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info> const&>(uint64_t a1, uint64_t a2)
{
  v2 = *std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::__find_equal<boost::icl::discrete_interval<unsigned long long,std::less>>(a1, &v4, a2);
  if (!v2)
  {
    operator new();
  }

  return v2;
}

uint64_t *boost::icl::segmental::join_left<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(uint64_t **a1, uint64_t **a2)
{
  v2 = *a2;
  if (*a2 == *a1)
  {
    return *a1;
  }

  v5 = *v2;
  if (*v2)
  {
    do
    {
      v6 = v5;
      v5 = *(v5 + 8);
    }

    while (v5);
  }

  else
  {
    v7 = *a2;
    do
    {
      v6 = *(v7 + 16);
      v8 = *v6 == v7;
      v7 = v6;
    }

    while (v8);
  }

  v9 = v2[4];
  if ((v2[6] & 2) == 0)
  {
    ++v9;
  }

  if (v9 == (*(v6 + 48) & 1) + *(v6 + 40))
  {
    v10 = udif::details::run_info::operator==(v6 + 56, (v2 + 7));
    v2 = *a2;
    if (v10)
    {
      v16 = *(v2 + 2);
      v17 = v2[6];
      std::__tree<std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>>>::__remove_node_pointer(a1, v2);
      operator delete(v2);
      v12 = *(v6 + 32);
      v13 = *(v6 + 48);
      boost::icl::hull<boost::icl::discrete_interval<unsigned long long,std::less>>(&v12, &v16, &v14);
      *(v6 + 32) = v14;
      *(v6 + 48) = v15;
      *a2 = v6;
      return v6;
    }
  }

  return v2;
}

uint64_t **boost::icl::segmental::join_right<boost::icl::interval_map<unsigned long long,udif::details::run_info,boost::icl::partial_absorber,std::less,boost::icl::inplace_plus,boost::icl::inter_section,boost::icl::discrete_interval<unsigned long long,std::less>,std::allocator>>(uint64_t **a1, uint64_t ***a2)
{
  v3 = a1 + 1;
  result = *a2;
  if (*a2 == v3)
  {
    return v3;
  }

  v6 = result[1];
  if (v6)
  {
    do
    {
      v7 = v6;
      v6 = *v6;
    }

    while (v6);
  }

  else
  {
    v8 = *a2;
    do
    {
      v7 = v8[2];
      v9 = *v7 == v8;
      v8 = v7;
    }

    while (!v9);
  }

  if (v7 != v3)
  {
    v10 = v7[4];
    if ((v7[6] & 2) == 0)
    {
      v10 = (v10 + 1);
    }

    if (v10 == (result[5] + (result[6] & 1)))
    {
      if (udif::details::run_info::operator==((result + 7), (v7 + 7)))
      {
        v17 = *(v7 + 2);
        v18 = v7[6];
        std::__tree<std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<_di_plugin_t>>>>::__remove_node_pointer(a1, v7);
        operator delete(v7);
        v11 = *a2;
        v13 = *(*a2 + 2);
        v14 = v11[6];
        boost::icl::hull<boost::icl::discrete_interval<unsigned long long,std::less>>(&v13, &v17, &v15);
        v12 = *a2;
        *(v12 + 2) = v15;
        *(v12 + 48) = v16;
      }

      return *a2;
    }
  }

  return result;
}

uint64_t std::__tree<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,std::__map_value_compare<boost::icl::discrete_interval<unsigned long long,std::less>,std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>,boost::icl::exclusive_less_than<boost::icl::discrete_interval<unsigned long long,std::less>>,true>,std::allocator<std::__value_type<boost::icl::discrete_interval<unsigned long long,std::less>,udif::details::run_info>>>::upper_bound[abi:ne200100]<boost::icl::discrete_interval<unsigned long long,std::less>>(uint64_t a1, uint64_t a2)
{
  v4 = *(a1 + 8);
  result = a1 + 8;
  v3 = v4;
  if (v4)
  {
    v5 = (*(a2 + 16) & 1) + *(a2 + 8) - 1;
    do
    {
      v6 = *(v3 + 32);
      if ((*(v3 + 48) & 2) == 0)
      {
        ++v6;
      }

      v7 = v5 >= v6;
      v8 = v5 >= v6;
      if (!v7)
      {
        result = v3;
      }

      v3 = *(v3 + 8 * v8);
    }

    while (v3);
  }

  return result;
}

void *di_log::logger<di_log::log_printer<638ul>>::logger(void *a1, __int128 *a2)
{
  v3 = (a1 + 46);
  a1[52] = 0;
  a1[46] = MEMORY[0x277D828C0] + 16;
  di_log::logger_buf<di_log::log_printer<638ul>>::logger_buf(a1, a2);
  *a1 = &unk_285BF3AB0;
  a1[45] = &unk_285BF3BB0;
  a1[46] = &unk_285BF3BD8;
  std::ios_base::init(v3, a1);
  a1[63] = 0;
  *(a1 + 128) = -1;
  *a1 = &unk_285BF3AB0;
  a1[45] = &unk_285BF3B38;
  a1[46] = &unk_285BF3B60;
  return a1;
}

void sub_248EFE230(_Unwind_Exception *a1)
{
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v2);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger<di_log::log_printer<638ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);
  return a1;
}

void *di_log::logger<di_log::log_printer<667ul>>::logger(void *a1, __int128 *a2)
{
  v3 = (a1 + 46);
  a1[52] = 0;
  a1[46] = MEMORY[0x277D828C0] + 16;
  di_log::logger_buf<di_log::log_printer<667ul>>::logger_buf(a1, a2);
  *a1 = &unk_285BF3CD0;
  a1[45] = &unk_285BF3DD0;
  a1[46] = &unk_285BF3DF8;
  std::ios_base::init(v3, a1);
  a1[63] = 0;
  *(a1 + 128) = -1;
  *a1 = &unk_285BF3CD0;
  a1[45] = &unk_285BF3D58;
  a1[46] = &unk_285BF3D80;
  return a1;
}

void sub_248EFE39C(_Unwind_Exception *a1)
{
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v2);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger<di_log::log_printer<667ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);
  return a1;
}

void *di_log::logger<di_log::log_printer<674ul>>::logger(void *a1, __int128 *a2)
{
  v3 = (a1 + 46);
  a1[52] = 0;
  a1[46] = MEMORY[0x277D828C0] + 16;
  di_log::logger_buf<di_log::log_printer<674ul>>::logger_buf(a1, a2);
  *a1 = &unk_285BF3EF0;
  a1[45] = &unk_285BF3FF0;
  a1[46] = &unk_285BF4018;
  std::ios_base::init(v3, a1);
  a1[63] = 0;
  *(a1 + 128) = -1;
  *a1 = &unk_285BF3EF0;
  a1[45] = &unk_285BF3F78;
  a1[46] = &unk_285BF3FA0;
  return a1;
}

void sub_248EFE508(_Unwind_Exception *a1)
{
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v2);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger<di_log::log_printer<674ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);
  return a1;
}

uint64_t di_log::logger_buf<di_log::log_printer<638ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF3C48;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EFE620(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(uint64_t a1)
{
  *a1 = &unk_285BF3C48;
  di_log::logger_buf<di_log::log_printer<638ul>>::_sync(a1);
  v2 = MEMORY[0x277D82828];
  v3 = *MEMORY[0x277D82828];
  *(a1 + 96) = *MEMORY[0x277D82828];
  *(a1 + 96 + *(v3 - 24)) = *(v2 + 24);
  *(a1 + 104) = MEMORY[0x277D82878] + 16;
  if (*(a1 + 191) < 0)
  {
    operator delete(*(a1 + 168));
  }

  *(a1 + 104) = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 112));
  std::ostream::~ostream();
  MEMORY[0x24C1ED6A0](a1 + 208);
  *a1 = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 8));
  return a1;
}

void di_log::logger<di_log::log_printer<638ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<638ul>>::xsputn(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a1 + 64) == 1)
  {
    std::ostream::write();
  }

  return a3;
}

uint64_t di_log::logger_buf<di_log::log_printer<638ul>>::overflow(_BYTE *a1, int a2)
{
  v2 = a2;
  if (a1[64] == 1)
  {
    if (a2 == -1)
    {
      (*(*a1 + 48))(a1);
    }

    else
    {
      std::ostream::put();
    }
  }

  return v2;
}

void non-virtual thunk todi_log::logger<di_log::log_printer<638ul>>::~logger(uint64_t a1)
{
  v1 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v2 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(v2);
  MEMORY[0x24C1ED6A0](a1 + 8);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk todi_log::logger<di_log::log_printer<638ul>>::~logger(void *a1)
{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v1 + 368);

  JUMPOUT(0x24C1ED730);
}

void di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(uint64_t a1)
{
  di_log::logger_buf<di_log::log_printer<638ul>>::~logger_buf(a1);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<638ul>>::_sync(uint64_t a1)
{
  v9 = *MEMORY[0x277D85DE8];
  if (*(a1 + 64) == 1)
  {
    v2 = (a1 + 96);
    v3 = a1 + 96 + *(*(a1 + 96) - 24);
    if ((*(v3 + 32) & 5) == 0)
    {
      (*(**(v3 + 40) + 32))(__p);
      if (v8 >= 1)
      {
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        di_log::log_printer<638ul>::log((a1 + 72), __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }

        std::ios_base::clear((v2 + *(*v2 - 24)), 0);
        std::string::basic_string[abi:ne200100]<0>(__p, "");
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }
      }
    }
  }

  v4 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248EFEBC4(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

int *di_log::log_printer<638ul>::log(uint64_t *a1, uint64_t *a2)
{
  v25 = *MEMORY[0x277D85DE8];
  v4 = *(a1 + 2);
  v5 = *__error();
  if (DIForwardLogs())
  {
    DIOSLog = getDIOSLog();
    os_log_type_enabled(DIOSLog, *(a1 + 16));
    v7 = *a1;
    if (*(a2 + 23) >= 0)
    {
      v8 = a2;
    }

    else
    {
      v8 = *a2;
    }

    *buf = 68158466;
    v18 = v4;
    v19 = 2080;
    v20 = v7;
    v21 = 2048;
    v22 = 638;
    v23 = 2082;
    v24 = v8;
    v9 = _os_log_send_and_compose_impl();
    if (v9)
    {
      v10 = v9;
      fprintf(*MEMORY[0x277D85DF8], "%s\n", v9);
      free(v10);
    }
  }

  else
  {
    v11 = getDIOSLog();
    v12 = *(a1 + 4);
    if (os_log_type_enabled(v11, v12))
    {
      v13 = *a1;
      if (*(a2 + 23) >= 0)
      {
        v14 = a2;
      }

      else
      {
        v14 = *a2;
      }

      *buf = 68158466;
      v18 = v4;
      v19 = 2080;
      v20 = v13;
      v21 = 2048;
      v22 = 638;
      v23 = 2082;
      v24 = v14;
      _os_log_impl(&dword_248DE0000, v11, v12, "%.*s: <%lu> %{public}s", buf, 0x26u);
    }
  }

  result = __error();
  *result = v5;
  v16 = *MEMORY[0x277D85DE8];
  return result;
}

uint64_t di_log::logger_buf<di_log::log_printer<667ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF3E68;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EFEE80(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(uint64_t a1)
{
  *a1 = &unk_285BF3E68;
  di_log::logger_buf<di_log::log_printer<667ul>>::_sync(a1);
  v2 = MEMORY[0x277D82828];
  v3 = *MEMORY[0x277D82828];
  *(a1 + 96) = *MEMORY[0x277D82828];
  *(a1 + 96 + *(v3 - 24)) = *(v2 + 24);
  *(a1 + 104) = MEMORY[0x277D82878] + 16;
  if (*(a1 + 191) < 0)
  {
    operator delete(*(a1 + 168));
  }

  *(a1 + 104) = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 112));
  std::ostream::~ostream();
  MEMORY[0x24C1ED6A0](a1 + 208);
  *a1 = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 8));
  return a1;
}

void di_log::logger<di_log::log_printer<667ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<667ul>>::xsputn(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a1 + 64) == 1)
  {
    std::ostream::write();
  }

  return a3;
}

uint64_t di_log::logger_buf<di_log::log_printer<667ul>>::overflow(_BYTE *a1, int a2)
{
  v2 = a2;
  if (a1[64] == 1)
  {
    if (a2 == -1)
    {
      (*(*a1 + 48))(a1);
    }

    else
    {
      std::ostream::put();
    }
  }

  return v2;
}

void non-virtual thunk todi_log::logger<di_log::log_printer<667ul>>::~logger(uint64_t a1)
{
  v1 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v2 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(v2);
  MEMORY[0x24C1ED6A0](a1 + 8);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk todi_log::logger<di_log::log_printer<667ul>>::~logger(void *a1)
{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v1 + 368);

  JUMPOUT(0x24C1ED730);
}

void di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(uint64_t a1)
{
  di_log::logger_buf<di_log::log_printer<667ul>>::~logger_buf(a1);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<667ul>>::_sync(uint64_t a1)
{
  v9 = *MEMORY[0x277D85DE8];
  if (*(a1 + 64) == 1)
  {
    v2 = (a1 + 96);
    v3 = a1 + 96 + *(*(a1 + 96) - 24);
    if ((*(v3 + 32) & 5) == 0)
    {
      (*(**(v3 + 40) + 32))(__p);
      if (v8 >= 1)
      {
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        di_log::log_printer<667ul>::log((a1 + 72), __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }

        std::ios_base::clear((v2 + *(*v2 - 24)), 0);
        std::string::basic_string[abi:ne200100]<0>(__p, "");
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }
      }
    }
  }

  v4 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248EFF424(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

int *di_log::log_printer<667ul>::log(uint64_t *a1, uint64_t *a2)
{
  v25 = *MEMORY[0x277D85DE8];
  v4 = *(a1 + 2);
  v5 = *__error();
  if (DIForwardLogs())
  {
    DIOSLog = getDIOSLog();
    os_log_type_enabled(DIOSLog, *(a1 + 16));
    v7 = *a1;
    if (*(a2 + 23) >= 0)
    {
      v8 = a2;
    }

    else
    {
      v8 = *a2;
    }

    *buf = 68158466;
    v18 = v4;
    v19 = 2080;
    v20 = v7;
    v21 = 2048;
    v22 = 667;
    v23 = 2082;
    v24 = v8;
    v9 = _os_log_send_and_compose_impl();
    if (v9)
    {
      v10 = v9;
      fprintf(*MEMORY[0x277D85DF8], "%s\n", v9);
      free(v10);
    }
  }

  else
  {
    v11 = getDIOSLog();
    v12 = *(a1 + 4);
    if (os_log_type_enabled(v11, v12))
    {
      v13 = *a1;
      if (*(a2 + 23) >= 0)
      {
        v14 = a2;
      }

      else
      {
        v14 = *a2;
      }

      *buf = 68158466;
      v18 = v4;
      v19 = 2080;
      v20 = v13;
      v21 = 2048;
      v22 = 667;
      v23 = 2082;
      v24 = v14;
      _os_log_impl(&dword_248DE0000, v11, v12, "%.*s: <%lu> %{public}s", buf, 0x26u);
    }
  }

  result = __error();
  *result = v5;
  v16 = *MEMORY[0x277D85DE8];
  return result;
}

uint64_t di_log::logger_buf<di_log::log_printer<674ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF4088;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EFF6E0(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(uint64_t a1)
{
  *a1 = &unk_285BF4088;
  di_log::logger_buf<di_log::log_printer<674ul>>::_sync(a1);
  v2 = MEMORY[0x277D82828];
  v3 = *MEMORY[0x277D82828];
  *(a1 + 96) = *MEMORY[0x277D82828];
  *(a1 + 96 + *(v3 - 24)) = *(v2 + 24);
  *(a1 + 104) = MEMORY[0x277D82878] + 16;
  if (*(a1 + 191) < 0)
  {
    operator delete(*(a1 + 168));
  }

  *(a1 + 104) = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 112));
  std::ostream::~ostream();
  MEMORY[0x24C1ED6A0](a1 + 208);
  *a1 = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 8));
  return a1;
}

void di_log::logger<di_log::log_printer<674ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<674ul>>::xsputn(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a1 + 64) == 1)
  {
    std::ostream::write();
  }

  return a3;
}

uint64_t di_log::logger_buf<di_log::log_printer<674ul>>::overflow(_BYTE *a1, int a2)
{
  v2 = a2;
  if (a1[64] == 1)
  {
    if (a2 == -1)
    {
      (*(*a1 + 48))(a1);
    }

    else
    {
      std::ostream::put();
    }
  }

  return v2;
}

void non-virtual thunk todi_log::logger<di_log::log_printer<674ul>>::~logger(uint64_t a1)
{
  v1 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v2 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(v2);
  MEMORY[0x24C1ED6A0](a1 + 8);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk todi_log::logger<di_log::log_printer<674ul>>::~logger(void *a1)
{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v1 + 368);

  JUMPOUT(0x24C1ED730);
}

void di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(uint64_t a1)
{
  di_log::logger_buf<di_log::log_printer<674ul>>::~logger_buf(a1);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<674ul>>::_sync(uint64_t a1)
{
  v9 = *MEMORY[0x277D85DE8];
  if (*(a1 + 64) == 1)
  {
    v2 = (a1 + 96);
    v3 = a1 + 96 + *(*(a1 + 96) - 24);
    if ((*(v3 + 32) & 5) == 0)
    {
      (*(**(v3 + 40) + 32))(__p);
      if (v8 >= 1)
      {
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        di_log::log_printer<674ul>::log((a1 + 72), __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }

        std::ios_base::clear((v2 + *(*v2 - 24)), 0);
        std::string::basic_string[abi:ne200100]<0>(__p, "");
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }
      }
    }
  }

  v4 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248EFFC84(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

int *di_log::log_printer<674ul>::log(uint64_t *a1, uint64_t *a2)
{
  v25 = *MEMORY[0x277D85DE8];
  v4 = *(a1 + 2);
  v5 = *__error();
  if (DIForwardLogs())
  {
    DIOSLog = getDIOSLog();
    os_log_type_enabled(DIOSLog, *(a1 + 16));
    v7 = *a1;
    if (*(a2 + 23) >= 0)
    {
      v8 = a2;
    }

    else
    {
      v8 = *a2;
    }

    *buf = 68158466;
    v18 = v4;
    v19 = 2080;
    v20 = v7;
    v21 = 2048;
    v22 = 674;
    v23 = 2082;
    v24 = v8;
    v9 = _os_log_send_and_compose_impl();
    if (v9)
    {
      v10 = v9;
      fprintf(*MEMORY[0x277D85DF8], "%s\n", v9);
      free(v10);
    }
  }

  else
  {
    v11 = getDIOSLog();
    v12 = *(a1 + 4);
    if (os_log_type_enabled(v11, v12))
    {
      v13 = *a1;
      if (*(a2 + 23) >= 0)
      {
        v14 = a2;
      }

      else
      {
        v14 = *a2;
      }

      *buf = 68158466;
      v18 = v4;
      v19 = 2080;
      v20 = v13;
      v21 = 2048;
      v22 = 674;
      v23 = 2082;
      v24 = v14;
      _os_log_impl(&dword_248DE0000, v11, v12, "%.*s: <%lu> %{public}s", buf, 0x26u);
    }
  }

  result = __error();
  *result = v5;
  v16 = *MEMORY[0x277D85DE8];
  return result;
}

uint64_t di_log::logger_buf<di_log::log_printer<92ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF37F0;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248EFFF40(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<139ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF3A10;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248F00008(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

void *checksum::operator<<(void *a1, int *a2)
{
  v3 = std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(a1, "crc32 {", 7);
  v4 = 0;
  v11 = *a2;
  v5 = *(v3 + *(*v3 - 24) + 8);
  do
  {
    *(v3 + *(*v3 - 24) + 8) = *(v3 + *(*v3 - 24) + 8) & 0xFFFFFFB5 | 8;
    v13 = 48;
    v6 = std::operator<<[abi:ne200100]<std::char_traits<char>>(v3, &v13);
    *(v6 + *(*v6 - 24) + 24) = 2;
    v7 = *(&v11 + v4);
    v8 = MEMORY[0x24C1ED3A0]();
    std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(v8, " ", 1);
    ++v4;
  }

  while (v4 != 3);
  *(v3 + *(*v3 - 24) + 8) = *(v3 + *(*v3 - 24) + 8) & 0xFFFFFFB5 | 8;
  v12 = 48;
  v9 = std::operator<<[abi:ne200100]<std::char_traits<char>>(v3, &v12);
  *(v9 + *(*v9 - 24) + 24) = 2;
  MEMORY[0x24C1ED3A0]();
  *(v3 + *(*v3 - 24) + 8) = v5;
  return std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(v3, "}", 1);
}

udif::checksum_type *udif::checksum_type::checksum_type(udif::checksum_type *this, int a2)
{
  v8 = *MEMORY[0x277D85DE8];
  *this = a2;
  v5[0] = xmmword_248FA6C60;
  v5[1] = xmmword_248FA6C70;
  v6 = 0x900000008;
  v7 = 10;
  smart_enums::validators::value<unsigned int>("checksum_type", a2, v5, 11);
  v3 = *MEMORY[0x277D85DE8];
  return this;
}

_DWORD *vbuf::vbuf_t<unsigned char [128],unsigned int,8ul>::set_len(_DWORD *result, _DWORD *a2)
{
  if (*a2 >= 0x408u)
  {
    exception = __cxa_allocate_exception(0x18uLL);
    *exception = &unk_285BE70F8;
    exception[1] = "bla";
    exception[2] = "field size too large";
  }

  *result = *a2;
  return result;
}

void *di_log::logger<di_log::log_printer<136ul>>::logger(void *a1, __int128 *a2)
{
  v3 = (a1 + 46);
  a1[52] = 0;
  a1[46] = MEMORY[0x277D828C0] + 16;
  di_log::logger_buf<di_log::log_printer<136ul>>::logger_buf(a1, a2);
  *a1 = &unk_285BF4110;
  a1[45] = &unk_285BF4210;
  a1[46] = &unk_285BF4238;
  std::ios_base::init(v3, a1);
  a1[63] = 0;
  *(a1 + 128) = -1;
  *a1 = &unk_285BF4110;
  a1[45] = &unk_285BF4198;
  a1[46] = &unk_285BF41C0;
  return a1;
}

void sub_248F0045C(_Unwind_Exception *a1)
{
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v2);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger<di_log::log_printer<136ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);
  return a1;
}

uint64_t di_log::logger_buf<di_log::log_printer<136ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF42A8;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248F00574(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(uint64_t a1)
{
  *a1 = &unk_285BF42A8;
  di_log::logger_buf<di_log::log_printer<136ul>>::_sync(a1);
  v2 = MEMORY[0x277D82828];
  v3 = *MEMORY[0x277D82828];
  *(a1 + 96) = *MEMORY[0x277D82828];
  *(a1 + 96 + *(v3 - 24)) = *(v2 + 24);
  *(a1 + 104) = MEMORY[0x277D82878] + 16;
  if (*(a1 + 191) < 0)
  {
    operator delete(*(a1 + 168));
  }

  *(a1 + 104) = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 112));
  std::ostream::~ostream();
  MEMORY[0x24C1ED6A0](a1 + 208);
  *a1 = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 8));
  return a1;
}

void di_log::logger<di_log::log_printer<136ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<136ul>>::xsputn(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a1 + 64) == 1)
  {
    std::ostream::write();
  }

  return a3;
}

uint64_t di_log::logger_buf<di_log::log_printer<136ul>>::overflow(_BYTE *a1, int a2)
{
  v2 = a2;
  if (a1[64] == 1)
  {
    if (a2 == -1)
    {
      (*(*a1 + 48))(a1);
    }

    else
    {
      std::ostream::put();
    }
  }

  return v2;
}

void non-virtual thunk todi_log::logger<di_log::log_printer<136ul>>::~logger(uint64_t a1)
{
  v1 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v2 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(v2);
  MEMORY[0x24C1ED6A0](a1 + 8);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk todi_log::logger<di_log::log_printer<136ul>>::~logger(void *a1)
{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v1 + 368);

  JUMPOUT(0x24C1ED730);
}

void di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(uint64_t a1)
{
  di_log::logger_buf<di_log::log_printer<136ul>>::~logger_buf(a1);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<136ul>>::_sync(uint64_t a1)
{
  v9 = *MEMORY[0x277D85DE8];
  if (*(a1 + 64) == 1)
  {
    v2 = (a1 + 96);
    v3 = a1 + 96 + *(*(a1 + 96) - 24);
    if ((*(v3 + 32) & 5) == 0)
    {
      (*(**(v3 + 40) + 32))(__p);
      if (v8 >= 1)
      {
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        di_log::log_printer<136ul>::log((a1 + 72), __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }

        std::ios_base::clear((v2 + *(*v2 - 24)), 0);
        std::string::basic_string[abi:ne200100]<0>(__p, "");
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }
      }
    }
  }

  v4 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248F00B18(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

int *di_log::log_printer<136ul>::log(uint64_t *a1, uint64_t *a2)
{
  v25 = *MEMORY[0x277D85DE8];
  v4 = *(a1 + 2);
  v5 = *__error();
  if (DIForwardLogs())
  {
    DIOSLog = getDIOSLog();
    os_log_type_enabled(DIOSLog, *(a1 + 16));
    v7 = *a1;
    if (*(a2 + 23) >= 0)
    {
      v8 = a2;
    }

    else
    {
      v8 = *a2;
    }

    *buf = 68158466;
    v18 = v4;
    v19 = 2080;
    v20 = v7;
    v21 = 2048;
    v22 = 136;
    v23 = 2082;
    v24 = v8;
    v9 = _os_log_send_and_compose_impl();
    if (v9)
    {
      v10 = v9;
      fprintf(*MEMORY[0x277D85DF8], "%s\n", v9);
      free(v10);
    }
  }

  else
  {
    v11 = getDIOSLog();
    v12 = *(a1 + 4);
    if (os_log_type_enabled(v11, v12))
    {
      v13 = *a1;
      if (*(a2 + 23) >= 0)
      {
        v14 = a2;
      }

      else
      {
        v14 = *a2;
      }

      *buf = 68158466;
      v18 = v4;
      v19 = 2080;
      v20 = v13;
      v21 = 2048;
      v22 = 136;
      v23 = 2082;
      v24 = v14;
      _os_log_impl(&dword_248DE0000, v11, v12, "%.*s: <%lu> %{public}s", buf, 0x26u);
    }
  }

  result = __error();
  *result = v5;
  v16 = *MEMORY[0x277D85DE8];
  return result;
}

uint64_t DiskImageIOBreaker::move_data_to_buffer(DiskImage::Context **this, DiskImageIOBreaker::ContextIOBreaker *a2, const sg_vec_ns::details::sg_vec_iterator *a3, const sg_vec_ns::details::sg_vec_iterator *a4)
{
  result = DiskImage::Context::read(this[2], a2, a3);
  v13[0] = result;
  v13[1] = v7;
  if (result <= 0)
  {
    if (result >= 0)
    {
      v12 = result;
    }

    else
    {
      v12 = -result;
    }

    return -v12;
  }

  else
  {
    v8 = *(a2 + 26);
    v9 = *(a3 + 26) - v8;
    if (v8 <= v7)
    {
      v11 = __OFSUB__(v9, result);
      v10 = v9 - result < 0;
    }

    else
    {
      v11 = 0;
      v10 = 1;
    }

    if (v10 != v11)
    {
      return trim_data(a2, a3, v9 & ~(v9 >> 63), v13);
    }
  }

  return result;
}

uint64_t DiskImageIOBreaker::read(DiskImageIOBreaker *this, DiskImage::Context **a2, const sg_vec_ns::details::sg_vec_iterator *a3, const sg_vec_ns::details::sg_vec_iterator *a4)
{
  v4 = a4;
  v5 = a3;
  v88[90] = *MEMORY[0x277D85DE8];
  if ((*(this + 56) & 1) == 0)
  {
    if (!a2[6] || (v7 = *(a4 + 26) - *(a3 + 26), *(a4 + 17) - *(a3 + 17) >= a2[8] + (v7 & ~(v7 >> 63))))
    {
      DiskImage::Context::read(a2[2], a3, a4);
    }
  }

  sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&v63, v5);
  v47 = a2;
  if (a2[8] + ((*(v4 + 26) - v69) & ~((*(v4 + 26) - v69) >> 63)) <= v65)
  {
    v10 = DiskImageIOBreaker::move_data_to_buffer(a2, &v63, v4, v9);
    sg_vec_ns::details::sg_vec_iterator::operator+=(&v63, v10);
    v11 = v10;
    if ((v10 & 0x8000000000000000) != 0)
    {
      goto LABEL_95;
    }
  }

  else
  {
    v10 = 0;
  }

  v12 = *(v4 + 26);
  if (v10 == ((v12 - *(v5 + 26)) & ~((v12 - *(v5 + 26)) >> 63)))
  {
    v11 = v10;
    goto LABEL_95;
  }

  v44 = v5;
  v45 = v4;
  do
  {
    v50 = v10;
    v13 = *(this + 9);
    if (v13)
    {
      atomic_fetch_add_explicit(&v13->__shared_owners_, 1uLL, memory_order_relaxed);
      v12 = *(v4 + 26);
    }

    v14 = v47;
    v15 = v47[3];
    v16 = v47[4];
    v17 = v69;
    v18 = (v16 - v15 - 8) >> 3;
    if (v16 == v15)
    {
      v19 = 0;
    }

    else
    {
      v19 = v18 + 1;
    }

    v20 = (v12 - v69) & ~((v12 - v69) >> 63);
    v21 = v47[6];
    if (v47[7] * v21 >= v20)
    {
      v22 = v20;
    }

    else
    {
      v22 = v47[7] * v21;
    }

    __p = v84;
    v83 = xmmword_248F9C800;
    v48 = v22;
    v49 = v66;
    if (v19 < 6)
    {
      if (v15 == v16)
      {
        v19 = 0;
      }

      else
      {
        v30 = v18 + 1;
        v31 = v84;
        do
        {
          v32 = *v15;
          if (v13)
          {
            atomic_fetch_add_explicit(&v13->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          *v31 = v32;
          v31[1] = v13;
          v15 = (v15 + 8);
          v31[2] = v21;
          v31 += 3;
          --v30;
        }

        while (v30);
      }

      v10 = v50;
    }

    else
    {
      v43 = v69;
      if (v19 >= 0x555555555555556)
      {
        boost::container::throw_length_error("get_next_capacity, allocator's max size reached", v8);
      }

      v23 = operator new(24 * v19);
      v24 = __p;
      if (__p)
      {
        v25 = v83;
        if (v83)
        {
          v26 = (__p + 8);
          do
          {
            if (*v26)
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](*v26);
            }

            v26 += 3;
            --v25;
          }

          while (v25);
        }

        *&v83 = 0;
        v14 = v47;
        if (v84 != v24)
        {
          operator delete(v24);
        }
      }

      *(&v83 + 1) = v19;
      __p = v23;
      *&v83 = 0;
      if (v15 == v16)
      {
        v29 = 0;
        v27 = v23;
        v5 = v44;
      }

      else
      {
        v27 = v23;
        v5 = v44;
        do
        {
          v28 = *v15;
          if (v13)
          {
            atomic_fetch_add_explicit(&v13->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          *v27 = v28;
          *(v27 + 1) = v13;
          *(v27 + 2) = v21;
          v15 = (v15 + 8);
          v27 += 24;
        }

        while (v15 != v16);
        v29 = v83;
      }

      v19 = v29 - 0x5555555555555555 * ((v27 - v23) >> 3);
      v10 = v50;
      v17 = v43;
    }

    *&v83 = v19;
    v85 = &v87;
    v86 = xmmword_248F9C800;
    boost::container::vector<unsigned long,boost::container::small_vector_allocator<unsigned long,boost::container::new_allocator<void>,void>,void>::priv_resize<boost::container::value_init_t,boost::move_detail::integral_constant<unsigned int,1u>>(&v85, v19);
    v72 = __p;
    __dst = __p + 24 * v83;
    v54 = v85;
    *&v70 = &v85[v86];
    sg_vec_ref::sg_vec_ref(v88, &v72, &__dst, &v54, &v70, v17, v48, v49);
    v4 = v45;
    sg_vec_ref::begin(v88, &v72);
    sg_vec_ref::end(v88, &__dst);
    v11 = DiskImageIOBreaker::move_data_to_buffer(v14, &v72, &__dst, v33);
    if (v80)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v80);
    }

    if (v78)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v78);
    }

    if (v74)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v74);
    }

    if (v73)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v73);
    }

    if ((v11 & 0x8000000080000000) == 0x8000000080000000)
    {
      goto LABEL_91;
    }

    sg_vec_ref::begin(v88, &__src);
    sg_vec_ref::end(v88, &v54);
    sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&v51, &v63);
    sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&__dst, &v51);
    v34 = 0;
    v81 = 0;
    while (!sg_vec_ns::details::sg_vec_iterator::operator==(&__src, &v54))
    {
      sg_vec_ns::details::buffer_iterator::sync(&v60);
      v35 = v61;
      if (v61)
      {
        atomic_fetch_add_explicit(&v61->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      if (!v62)
      {
        sg_vec_ns::details::sg_vec_iterator::operator++(&__src);
        v38 = 2;
        if (!v35)
        {
          goto LABEL_67;
        }

        goto LABEL_66;
      }

      v36 = v79;
      if (v59 < v79)
      {
        v36 = v59;
      }

      if (v36 >= v62)
      {
        v37 = v62;
      }

      else
      {
        v37 = v36;
      }

      memmove(__dst, __src, v37);
      if (v37 <= 0)
      {
        *&v70 = "transform(Fn &&, sg_vec_ref::iterator, const sg_vec_ref::iterator &, sg_vec_ref::iterator) [Fn = (lambda at /Library/Caches/com.apple.xbs/Sources/DiskImages2/app/disk_images/io_breaker.cpp:76:13)]";
        *(&v70 + 1) = 97;
        v71 = 16;
        di_log::logger<di_log::log_printer<694ul>>::logger(&v72, &v70);
        std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(&v75, "IO error with sg: ", 18);
        operator<<(&v75, &__src);
        std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(&v75, " dest ", 6);
        operator<<(&v75, &__dst);
        std::__put_character_sequence[abi:ne200100]<char,std::char_traits<char>>(&v75, " returned status ", 17);
        MEMORY[0x24C1ED3B0](&v75, v37);
        std::ostream::~ostream();
        di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(&v72);
        MEMORY[0x24C1ED6A0](&v76);
        v38 = 1;
        if (!v35)
        {
          goto LABEL_67;
        }

LABEL_66:
        std::__shared_weak_count::__release_shared[abi:ne200100](v35);
        goto LABEL_67;
      }

      sg_vec_ns::details::sg_vec_iterator::operator+=(&__src, v37);
      sg_vec_ns::details::sg_vec_iterator::operator+=(&__dst, v37);
      v38 = 0;
      v34 += v37;
      if (v35)
      {
        goto LABEL_66;
      }

LABEL_67:
      if ((v38 | 2) != 2)
      {
        goto LABEL_74;
      }
    }

    sg_vec_ns::details::sg_vec_iterator::operator+=(&v51, v34);
LABEL_74:
    if (v80)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v80);
    }

    v5 = v44;
    if (v78)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v78);
    }

    if (v53)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v53);
    }

    if (v52)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v52);
    }

    if (v56)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v56);
    }

    if (v55)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v55);
    }

    if (v61)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v61);
    }

    if (v58)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v58);
    }

    sg_vec_ns::details::sg_vec_iterator::operator+=(&v63, v11);
    sg_vec_ns::details::buffer_iterator::rtrim_written(v67);
    v10 += v11;
LABEL_91:
    sg_vec::~sg_vec(&__p);
    if (v13)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v13);
    }

    if ((v11 & 0x8000000080000000) == 0x8000000080000000)
    {
      break;
    }

    v12 = *(v45 + 26);
  }

  while (v10 != ((v12 - *(v5 + 26)) & ~((v12 - *(v5 + 26)) >> 63)));
LABEL_95:
  v39 = *(v5 + 26);
  if (v68)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v68);
  }

  if (v64)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v64);
  }

  if (v11 < 0)
  {
    v40 = v11;
  }

  else
  {
    v40 = 0;
  }

  if (v40 >= 0)
  {
    result = v10;
  }

  else
  {
    result = v40;
  }

  v42 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_248F01464(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, char a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, char a49)
{
  if (v50)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v50);
  }

  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&STACK[0x600]);
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&a21);
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&a49);
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&STACK[0x220]);
  sg_vec::~sg_vec(&STACK[0x6E0]);
  if (v49)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v49);
  }

  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&STACK[0x300]);
  _Unwind_Resume(a1);
}

void DiskImageIOBreaker::~DiskImageIOBreaker(DiskImageIOBreaker *this)
{
  *this = &unk_285BF4328;
  v1 = *(this + 9);
  if (v1)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v1);
  }
}

{
  *this = &unk_285BF4328;
  v1 = *(this + 9);
  if (v1)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v1);
  }

  JUMPOUT(0x24C1ED730);
}

uint64_t DiskImageIOBreaker::_create_ctx(DiskImageIOBreaker *this)
{
  if ((*(**(this + 2) + 144))(*(this + 2)))
  {
    operator new();
  }

  return 0;
}

void sub_248F017F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  MEMORY[0x24C1ED730](v10, 0x10A1C4073E172E3);
  if (a10)
  {
    (*(*a10 + 40))(a10);
  }

  _Unwind_Resume(a1);
}

void *DiskImageIOBreaker::ContextIOBreaker::ContextIOBreaker(void *result, uint64_t a2, uint64_t *a3)
{
  *result = &unk_285BF4420;
  result[1] = a2;
  v3 = *a3;
  *a3 = 0;
  result[3] = 0;
  result[2] = v3;
  result[4] = 0;
  result[5] = 0;
  v4 = *(a2 + 32);
  v5 = *(a2 + 40);
  v6 = v4 + 1;
  result[7] = v4 + 1;
  result[8] = v5;
  v7 = v5 + v4;
  result[6] = v7 / v6;
  if (v6 <= v7)
  {
    v8 = result[6];
    operator new[]();
  }

  return result;
}

void sub_248F01A40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, ...)
{
  va_start(va, a6);
  MEMORY[0x24C1ED710](v7, 0x1000C8077774924);
  std::vector<std::unique_ptr<char []>>::__destroy_vector::operator()[abi:ne200100](va);
  v9 = *(v6 + 16);
  *(v6 + 16) = 0;
  if (v9)
  {
    (*(*v9 + 40))(v9);
  }

  _Unwind_Resume(a1);
}

void DiskImageIOBreaker::ContextIOBreaker::~ContextIOBreaker(DiskImageIOBreaker::ContextIOBreaker *this)
{
  *this = &unk_285BF4420;
  v3 = (this + 24);
  std::vector<std::unique_ptr<char []>>::__destroy_vector::operator()[abi:ne200100](&v3);
  v2 = *(this + 2);
  *(this + 2) = 0;
  if (v2)
  {
    (*(*v2 + 40))(v2);
  }
}

{
  *this = &unk_285BF4420;
  v3 = (this + 24);
  std::vector<std::unique_ptr<char []>>::__destroy_vector::operator()[abi:ne200100](&v3);
  v2 = *(this + 2);
  *(this + 2) = 0;
  if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  MEMORY[0x24C1ED730](this, 0x10A1C4073E172E3);
}

uint64_t std::__split_buffer<std::unique_ptr<char []>>::~__split_buffer(uint64_t a1)
{
  std::__split_buffer<std::unique_ptr<char []>>::__destruct_at_end[abi:ne200100](a1, *(a1 + 8));
  if (*a1)
  {
    operator delete(*a1);
  }

  return a1;
}

uint64_t std::__split_buffer<std::unique_ptr<char []>>::__destruct_at_end[abi:ne200100](uint64_t result, void *a2)
{
  v2 = *(result + 16);
  if (v2 != a2)
  {
    v4 = result;
    do
    {
      v5 = *--v2;
      result = v5;
      *(v4 + 16) = v2;
      *v2 = 0;
      if (v5)
      {
        result = MEMORY[0x24C1ED710](result, 0x1000C8077774924);
        v2 = *(v4 + 16);
      }
    }

    while (v2 != a2);
  }

  return result;
}

void std::vector<std::unique_ptr<char []>>::__destroy_vector::operator()[abi:ne200100](void ***a1)
{
  v2 = *a1;
  if (*v2)
  {
    std::vector<std::unique_ptr<char []>>::__base_destruct_at_end[abi:ne200100](v2, *v2);
    v3 = **a1;

    operator delete(v3);
  }
}

uint64_t std::vector<std::unique_ptr<char []>>::__base_destruct_at_end[abi:ne200100](uint64_t result, void *a2)
{
  v3 = result;
  v4 = *(result + 8);
  while (v4 != a2)
  {
    v5 = *--v4;
    result = v5;
    *v4 = 0;
    if (v5)
    {
      result = MEMORY[0x24C1ED710](result, 0x1000C8077774924);
    }
  }

  *(v3 + 8) = a2;
  return result;
}

uint64_t _Z8do_on_sgIZN18DiskImageIOBreaker5writeERN9DiskImage7ContextERK8sg_entryEUlRKT_RKT0_E_EDaOS7_S6_(uint64_t a1, uint64_t *a2)
{
  v13[90] = *MEMORY[0x277D85DE8];
  sg_vec_ns::make(a2, v12);
  sg_vec_ref::begin(v13, v9);
  sg_vec_ref::end(v13, v6);
  v3 = DiskImage::Context::write(*(*a1 + 16), v9, v6);
  if (v8)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v8);
  }

  if (v7)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v7);
  }

  if (v11)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v11);
  }

  if (v10)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v10);
  }

  sg_vec::~sg_vec(v12);
  v4 = *MEMORY[0x277D85DE8];
  return v3;
}

void sub_248F01E14(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, char a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, char a38, uint64_t a39, uint64_t a40, uint64_t a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, uint64_t a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&a10);
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&a38);
  sg_vec::~sg_vec(&a66);
  _Unwind_Resume(a1);
}

void *di_log::logger<di_log::log_printer<694ul>>::logger(void *a1, __int128 *a2)
{
  v3 = (a1 + 46);
  a1[52] = 0;
  a1[46] = MEMORY[0x277D828C0] + 16;
  di_log::logger_buf<di_log::log_printer<694ul>>::logger_buf(a1, a2);
  *a1 = &unk_285BF4480;
  a1[45] = &unk_285BF4580;
  a1[46] = &unk_285BF45A8;
  std::ios_base::init(v3, a1);
  a1[63] = 0;
  *(a1 + 128) = -1;
  *a1 = &unk_285BF4480;
  a1[45] = &unk_285BF4508;
  a1[46] = &unk_285BF4530;
  return a1;
}

void sub_248F01F54(_Unwind_Exception *a1)
{
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v2);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger<di_log::log_printer<694ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);
  return a1;
}

uint64_t di_log::logger_buf<di_log::log_printer<694ul>>::logger_buf(uint64_t a1, __int128 *a2)
{
  *a1 = MEMORY[0x277D82868] + 16;
  MEMORY[0x24C1ED600](a1 + 8);
  *(a1 + 32) = 0u;
  *(a1 + 48) = 0u;
  *(a1 + 16) = 0u;
  *a1 = &unk_285BF4618;
  if (*(a2 + 4) == 2)
  {
    v4 = DIDebugLogsEnabled();
  }

  else
  {
    v4 = 1;
  }

  *(a1 + 64) = v4;
  v5 = *a2;
  *(a1 + 88) = *(a2 + 2);
  *(a1 + 72) = v5;
  std::ostringstream::basic_ostringstream[abi:ne200100]((a1 + 96));
  return a1;
}

void sub_248F0206C(_Unwind_Exception *a1)
{
  v1->__locale_ = v2;
  std::locale::~locale(v1 + 1);
  _Unwind_Resume(a1);
}

uint64_t di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(uint64_t a1)
{
  *a1 = &unk_285BF4618;
  di_log::logger_buf<di_log::log_printer<694ul>>::_sync(a1);
  v2 = MEMORY[0x277D82828];
  v3 = *MEMORY[0x277D82828];
  *(a1 + 96) = *MEMORY[0x277D82828];
  *(a1 + 96 + *(v3 - 24)) = *(v2 + 24);
  *(a1 + 104) = MEMORY[0x277D82878] + 16;
  if (*(a1 + 191) < 0)
  {
    operator delete(*(a1 + 168));
  }

  *(a1 + 104) = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 112));
  std::ostream::~ostream();
  MEMORY[0x24C1ED6A0](a1 + 208);
  *a1 = MEMORY[0x277D82868] + 16;
  std::locale::~locale((a1 + 8));
  return a1;
}

void di_log::logger<di_log::log_printer<694ul>>::~logger(uint64_t a1)
{
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(a1);
  MEMORY[0x24C1ED6A0](a1 + 368);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<694ul>>::xsputn(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (*(a1 + 64) == 1)
  {
    std::ostream::write();
  }

  return a3;
}

uint64_t di_log::logger_buf<di_log::log_printer<694ul>>::overflow(_BYTE *a1, int a2)
{
  v2 = a2;
  if (a1[64] == 1)
  {
    if (a2 == -1)
    {
      (*(*a1 + 48))(a1);
    }

    else
    {
      std::ostream::put();
    }
  }

  return v2;
}

void non-virtual thunk todi_log::logger<di_log::log_printer<694ul>>::~logger(uint64_t a1)
{
  v1 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v2 = a1 - 360;
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(v2);
  MEMORY[0x24C1ED6A0](a1 + 8);

  JUMPOUT(0x24C1ED730);
}

void virtual thunk todi_log::logger<di_log::log_printer<694ul>>::~logger(void *a1)
{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(v1);

  JUMPOUT(0x24C1ED6A0);
}

{
  v1 = a1 + *(*a1 - 24);
  std::ostream::~ostream();
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(v1);
  MEMORY[0x24C1ED6A0](v1 + 368);

  JUMPOUT(0x24C1ED730);
}

void di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(uint64_t a1)
{
  di_log::logger_buf<di_log::log_printer<694ul>>::~logger_buf(a1);

  JUMPOUT(0x24C1ED730);
}

uint64_t di_log::logger_buf<di_log::log_printer<694ul>>::_sync(uint64_t a1)
{
  v9 = *MEMORY[0x277D85DE8];
  if (*(a1 + 64) == 1)
  {
    v2 = a1 + 96;
    v3 = a1 + 96 + *(*(a1 + 96) - 24);
    if ((*(v3 + 32) & 5) == 0)
    {
      (*(**(v3 + 40) + 32))(__p);
      if (v8 >= 1)
      {
        std::ostringstream::str[abi:ne200100](v2, __p);
        di_log::log_printer<694ul>::log((a1 + 72), __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }

        std::ios_base::clear((v2 + *(*(a1 + 96) - 24)), 0);
        std::string::basic_string[abi:ne200100]<0>(__p, "");
        std::stringbuf::str[abi:ne200100](a1 + 104, __p);
        if (v7 < 0)
        {
          operator delete(__p[0]);
        }
      }
    }
  }

  v4 = *MEMORY[0x277D85DE8];
  return 0;
}

void sub_248F02610(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

int *di_log::log_printer<694ul>::log(uint64_t *a1, uint64_t *a2)
{
  v25 = *MEMORY[0x277D85DE8];
  v4 = *(a1 + 2);
  v5 = *__error();
  if (DIForwardLogs())
  {
    DIOSLog = getDIOSLog();
    os_log_type_enabled(DIOSLog, *(a1 + 16));
    v7 = *a1;
    if (*(a2 + 23) >= 0)
    {
      v8 = a2;
    }

    else
    {
      v8 = *a2;
    }

    *buf = 68158466;
    v18 = v4;
    v19 = 2080;
    v20 = v7;
    v21 = 2048;
    v22 = 694;
    v23 = 2082;
    v24 = v8;
    v9 = _os_log_send_and_compose_impl();
    if (v9)
    {
      v10 = v9;
      fprintf(*MEMORY[0x277D85DF8], "%s\n", v9);
      free(v10);
    }
  }

  else
  {
    v11 = getDIOSLog();
    v12 = *(a1 + 4);
    if (os_log_type_enabled(v11, v12))
    {
      v13 = *a1;
      if (*(a2 + 23) >= 0)
      {
        v14 = a2;
      }

      else
      {
        v14 = *a2;
      }

      *buf = 68158466;
      v18 = v4;
      v19 = 2080;
      v20 = v13;
      v21 = 2048;
      v22 = 694;
      v23 = 2082;
      v24 = v14;
      _os_log_impl(&dword_248DE0000, v11, v12, "%.*s: <%lu> %{public}s", buf, 0x26u);
    }
  }

  result = __error();
  *result = v5;
  v16 = *MEMORY[0x277D85DE8];
  return result;
}

uint64_t di_stackable::get_identifier(di_stackable *this, DiskImage *a2)
{
  v4[0] = (**this)(this, a2);
  v4[1] = v2;
  if (v2 == 0xFFFFFFFFLL)
  {
    std::__throw_bad_variant_access[abi:ne200100]();
  }

  v6 = &v5;
  return (off_285BF47E0[v2])(&v6, v4);
}

uint64_t di_stackable::get_stackable_source_identifier(di_stackable *this, DiskImage *a2)
{
  v4[0] = (**this)(this, a2);
  v4[1] = v2;
  if (v2 == 0xFFFFFFFFLL)
  {
    std::__throw_bad_variant_access[abi:ne200100]();
  }

  v6 = &v5;
  return (off_285BF4820[v2])(&v6, v4);
}

uint64_t DiskImageStackable::write(DiskImageStackable *this, DiskImage::Context *a2, const sg_vec_ns::details::sg_vec_iterator *a3, const sg_vec_ns::details::sg_vec_iterator *a4)
{
  v8 = *(a4 + 26);
  v9 = (*(*this + 32))(this);
  if (v8 > (*(*this + 24))(this) * v9)
  {
    return -5;
  }

  if (**(this + 2))
  {
    return -78;
  }

  v11 = *(a2 + 2);
  if (!(*(**(*v11 + 1) + 40))(*(*v11 + 1)) || **(this + 2))
  {
    return -78;
  }

  return DiskImage::Context::write(*v11, a3, a4);
}

uint64_t DiskImageStackable::flush(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 16);
  v3 = *(a2 + 24);
  if (v2 == v3)
  {
    return 4294967218;
  }

  v4 = 4294967218;
  do
  {
    if ((*(*(*v2)[1] + 40))((*v2)[1]))
    {
      v4 = DiskImage::Context::flush(*v2);
      if (v4)
      {
        break;
      }
    }

    v2 += 2;
  }

  while (v2 != v3);
  return v4;
}

uint64_t DiskImageStackable::DiskImageStackable(uint64_t a1, uint64_t **a2, _BYTE *a3)
{
  v57 = *MEMORY[0x277D85DE8];
  *(a1 + 8) = 0;
  *a1 = &unk_285BF4698;
  *(a1 + 16) = 0;
  v5 = (a1 + 16);
  *(a1 + 24) = 0;
  *(a1 + 32) = 0;
  *(a1 + 56) = 0;
  v6 = a1 + 56;
  *(a1 + 144) = 0;
  *(a1 + 40) = (*(***a2 + 24))(**a2);
  *(a1 + 48) = 0;
  v7 = a2[1];
  v9 = *(v7 - 3);
  v8 = *(v7 - 2);
  v44 = v6;
  v45 = v5;
  if (v8)
  {
    atomic_fetch_add_explicit(&v8->__shared_owners_, 1uLL, memory_order_relaxed);
    v7 = a2[1];
  }

  v10 = v7 - 3;
  v11 = *a2;
  if (*a2 != v7 - 3)
  {
    do
    {
      v13 = *(v10 - 3);
      v12 = *(v10 - 2);
      v10 -= 3;
      if (v12)
      {
        atomic_fetch_add_explicit(&v12->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      v14 = (*(*v13 + 24))(v13);
      if (v14 != (*(*v9 + 24))(v9))
      {
        exception = __cxa_allocate_exception(0x40uLL);
        *exception = &unk_285BF4E60;
        v39 = std::generic_category();
        exception[1] = 166;
        exception[2] = v39;
        *(exception + 24) = 0;
        *(exception + 48) = 0;
        exception[7] = "Cannot stack images with different block sizes";
      }

      if ((*a3 & 2) != 0)
      {
        identifier = di_stackable::get_identifier(v9, v15);
        v17 = identifier;
        v49 = identifier;
        v50 = v18;
        stackable_source_identifier = di_stackable::get_stackable_source_identifier(v13, v18);
        v55 = stackable_source_identifier;
        v56 = v20;
        if (v17)
        {
LABEL_9:
          if (stackable_source_identifier)
          {
LABEL_10:
            if (v49 != v55 || v50 != v56)
            {
              v42 = __cxa_allocate_exception(0x40uLL);
              *v42 = &unk_285BF4E60;
              v43 = std::generic_category();
              v42[1] = 166;
              v42[2] = v43;
              *(v42 + 24) = 0;
              *(v42 + 48) = 0;
              v42[7] = "Corrupted shadow file(s) chain";
            }
          }

          else
          {
            v24 = 1;
            while (v24 != 16)
            {
              if (*(&v55 + v24++))
              {
                if ((v24 - 2) <= 0xE)
                {
                  goto LABEL_10;
                }

                break;
              }
            }
          }
        }

        else
        {
          v22 = 1;
          while (v22 != 16)
          {
            if (*(&v49 + v22++))
            {
              if ((v22 - 2) <= 0xE)
              {
                goto LABEL_9;
              }

              break;
            }
          }
        }
      }

      if (v12)
      {
        atomic_fetch_add_explicit(&v12->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      if (v8)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v8);
      }

      if (v12)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v12);
      }

      v11 = *a2;
      v8 = v12;
      v9 = v13;
    }

    while (v10 != *a2);
    v7 = a2[1];
    v8 = v12;
  }

  if (v11 != v7)
  {
    v26 = 0;
    do
    {
      v27 = *(a1 + 40);
      if (v27 != (*(**v11 + 24))())
      {
        v40 = __cxa_allocate_exception(0x40uLL);
        *v40 = &unk_285BF4E60;
        v41 = std::generic_category();
        v40[1] = 4294967274;
        v40[2] = v41;
        *(v40 + 24) = 0;
        *(v40 + 48) = 0;
        v40[7] = "Block size mismatch in DiskImageStackable";
      }

      v29 = *v11;
      v28 = v11[1];
      v30 = *v11;
      if (v28)
      {
        atomic_fetch_add_explicit(&v28->__shared_owners_, 1uLL, memory_order_relaxed);
        v30 = *v11;
      }

      if ((*(*v30 + 104))(v30))
      {
        v48 = 1;
        std::allocate_shared[abi:ne200100]<DiskImageIOBreaker,std::allocator<DiskImageIOBreaker>,DiskImage &,BOOL,0>();
      }

      LODWORD(v49) = *(v11 + 4);
      v50 = *v11;
      v31 = v11[1];
      v51 = v31;
      if (v31)
      {
        atomic_fetch_add_explicit(&v31->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      v52 = v29;
      v53 = v28;
      if (v28)
      {
        atomic_fetch_add_explicit(&v28->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      v54 = (*(**v11 + 32))();
      v32 = *(a1 + 24);
      if (v32 >= *(a1 + 32))
      {
        v35 = std::vector<DiskImageStackable::stackable_layer>::__emplace_back_slow_path<DiskImageStackable::stackable_layer&>(v45, &v49);
      }

      else
      {
        *v32 = v49;
        *(v32 + 8) = v50;
        v33 = v51;
        *(v32 + 16) = v51;
        if (v33)
        {
          atomic_fetch_add_explicit(&v33->__shared_owners_, 1uLL, memory_order_relaxed);
        }

        *(v32 + 24) = v52;
        v34 = v53;
        *(v32 + 32) = v53;
        if (v34)
        {
          atomic_fetch_add_explicit(&v34->__shared_owners_, 1uLL, memory_order_relaxed);
        }

        *(v32 + 40) = v54;
        v35 = v32 + 48;
      }

      *(a1 + 24) = v35;
      if (*(v11 + 4) == 2)
      {
        v26 |= (*(**v11 + 40))();
      }

      if (v53)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v53);
      }

      if (v51)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v51);
      }

      if (v28)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v28);
      }

      v11 += 3;
    }

    while (v11 != v7);
    if (v26)
    {
      v47[0] = MEMORY[0x277D85DD0];
      v47[1] = 0x40000000;
      v47[2] = ___ZN18DiskImageStackableC2EONSt3__16vectorINS0_5tupleIJNS0_10shared_ptrI9DiskImageEENS_4roleEEEENS0_9allocatorIS7_EEEEN12di_stackable8config_tE_block_invoke;
      v47[3] = &__block_descriptor_tmp_4;
      v47[4] = a1;
      v49 = v47;
      std::optional<DiskImageStackable::cacheFlusher_t>::emplace[abi:ne200100]<void({block_pointer})(void),unsigned long long const&,void>(v44, &v49, &DiskImageStackable::CACHE_FLUSH_INTERVAL_US);
    }
  }

  if (v8)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v8);
  }

  v36 = *MEMORY[0x277D85DE8];
  return a1;
}

void sub_248F030D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  if (v12)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v12);
  }

  std::optional<DiskImageStackable::cacheFlusher_t>::~optional(v11);
  std::vector<DiskImageStackable::stackable_layer>::__destroy_vector::operator()[abi:ne200100](va);
  _Unwind_Resume(a1);
}

void *std::optional<DiskImageStackable::cacheFlusher_t>::emplace[abi:ne200100]<void({block_pointer})(void),unsigned long long const&,void>(uint64_t a1, uint64_t *a2, uint64_t *a3)
{
  if (*(a1 + 88) == 1)
  {
    workqueue::recurrent_block::~recurrent_block((a1 + 64));
    v7 = (a1 + 24);
    std::vector<gcd::gcd_queue>::__destroy_vector::operator()[abi:ne200100](&v7);
    if (*(a1 + 23) < 0)
    {
      operator delete(*a1);
    }

    *(a1 + 88) = 0;
  }

  result = DiskImageStackable::cacheFlusher_t::cacheFlusher_t(a1, *a2, *a3);
  *(a1 + 88) = 1;
  return result;
}

uint64_t DiskImageStackable::flush_caches(uint64_t this)
{
  v1 = *(this + 16);
  v2 = *(this + 24);
  while (v1 != v2)
  {
    this = (*(**(v1 + 8) + 40))(*(v1 + 8));
    if (this)
    {
      v3 = *v1 == 2;
    }

    else
    {
      v3 = 0;
    }

    if (v3)
    {
      v4 = (*(**(v1 + 8) + 144))(*(v1 + 8));
      this = DiskImage::Context::flush(v4);
      if (v4)
      {
        this = (*(*v4 + 40))(v4);
      }
    }

    v1 += 48;
  }

  return this;
}

void sub_248F032E4(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    diskimage_uio::details::diskimage_impl::create_context(v1);
  }

  _Unwind_Resume(exception_object);
}

void DiskImageStackable::~DiskImageStackable(void **this)
{
  *this = &unk_285BF4698;
  DiskImageStackable::flush_caches(this);
  if (*(this + 144) == 1)
  {
    workqueue::recurrent_block::~recurrent_block((this + 15));
    v2 = this + 10;
    std::vector<gcd::gcd_queue>::__destroy_vector::operator()[abi:ne200100](&v2);
    if (*(this + 79) < 0)
    {
      operator delete(this[7]);
    }
  }

  v2 = this + 2;
  std::vector<DiskImageStackable::stackable_layer>::__destroy_vector::operator()[abi:ne200100](&v2);
}

{
  DiskImageStackable::~DiskImageStackable(this);

  JUMPOUT(0x24C1ED730);
}

unint64_t DiskImageStackable::read_from_next(uint64_t a1, uint64_t a2, sg_vec_ns::details::sg_vec_iterator *a3, const sg_vec_ns::details::sg_vec_iterator *a4, unint64_t a5, uint64_t *a6, int a7, int a8, uint64_t *a9, uint64_t a10, DiskImage::extents_t *a11)
{
  v16 = *(a1 + 40);
  v17 = *(a6 + 16);
  v18 = *a6;
  v19 = a6[1];
  if ((v17 & 2) != 0)
  {
    v20 = *a6;
  }

  else
  {
    v20 = v18 + 1;
  }

  v23[0] = v20 * v16;
  v23[1] = ((v17 & 1) + v19 - v18 + (((v17 >> 1) & 1) - 1) + v20) * v16;
  v24 = 2;
  sg_vec_ns::details::sg_vec_iterator::subvec(a3, v23, a4, v25);
  sg_from_next = DiskImageStackable::read_sg_from_next(a1, a2, v25, &v28, a5, a7, a8, a9, a10, a11);
  if (v30)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v30);
  }

  if (v29)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v29);
  }

  if (v27)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v27);
  }

  if (v26)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v26);
  }

  return sg_from_next;
}

void sub_248F034F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  container_it<sg_vec_ns::details::sg_vec_iterator>::~container_it(va);
  _Unwind_Resume(a1);
}

unint64_t DiskImageStackable::read_sg_from_next(uint64_t a1, uint64_t a2, sg_vec_ns::details::sg_vec_iterator *a3, const sg_vec_ns::details::sg_vec_iterator *a4, unint64_t a5, int a6, int a7, uint64_t *a8, uint64_t a9, DiskImage::extents_t *a10)
{
  v16 = DiskImageStackable::read_from_idx(a1, a2, a3, a4, a5, a6, a7, a8, a9);
  data_to_diskimgs = v16;
  v19 = v17;
  v38[0] = v16;
  v38[1] = v17;
  if ((v16 & 0x8000000000000000) == 0 || !v16)
  {
    v20 = *(a3 + 26);
    v21 = v17 < v20 || v16 > ((*(a4 + 26) - v20) & ~((*(a4 + 26) - v20) >> 63));
    is_trim_required = 0;
    if (a5 && v21)
    {
      v23 = *(a1 + 40);
      v24 = *(a4 + 26) - v20;
      v25 = v24 & ~(v24 >> 63);
      if (v25 <= v23)
      {
        v25 = *(a1 + 40);
      }

      v26 = *(a4 + 26) == v20;
      if (v24 <= 0)
      {
        v27 = 0;
      }

      else
      {
        v27 = v25;
      }

      v36[0] = v20 / v23;
      v36[1] = (v20 + v23 + v27 - 1) / v23;
      v37 = 2;
      is_trim_required = DiskImageStackable::is_trim_required(a1, a2, v38, v36, a5, a10);
    }

    sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(v33, a3);
    sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(v30, a4);
    data_to_diskimgs = DiskImageStackable::sync_read_data_to_diskimgs(a1, a2, v33, v30, v38, a5, *a8);
    if (v32)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v32);
    }

    if (v31)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v31);
    }

    if (v35)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v35);
    }

    if (v34)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v34);
    }

    if ((data_to_diskimgs & 0x8000000000000000) == 0 || !data_to_diskimgs)
    {
      v28 = *(a4 + 26);
      if (is_trim_required)
      {
        return trim_data(a3, a4, (v28 - *(a3 + 26)) & ~((v28 - *(a3 + 26)) >> 63), v38);
      }

      else
      {
        return v28 - v19;
      }
    }
  }

  return data_to_diskimgs;
}

uint64_t DiskImageStackable::get_di_extents_for_io@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, unint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>)
{
  v36[4] = *MEMORY[0x277D85DE8];
  if ((*(a4 + 16) & 2) != 0)
  {
    v8 = *a4;
  }

  else
  {
    v8 = *a4 + 1;
  }

  v9 = (*(a4 + 16) & 1) + *(a4 + 8);
  v10 = *(result + 16);
  v11 = *(result + 24);
  v12 = (v10 + 48 * a3);
  v13 = v12[5];
  if (v13 < v9)
  {
    v9 = v12[5];
  }

  *&v26 = v8;
  *(&v26 + 1) = v9;
  LOBYTE(v27) = 2;
  if (0xAAAAAAAAAAAAAAABLL * ((v11 - v10) >> 4) - 1 <= a3 || v13 <= v12[11])
  {
    v18 = v12[1];
  }

  else
  {
    v14 = result;
    *&v24 = v12[11];
    *(&v24 + 1) = v13;
    LOBYTE(v25) = 2;
    result = boost::icl::intersects<boost::icl::discrete_interval<unsigned long long,std::less>>(&v24, &v26);
    if (result)
    {
      *v31 = v24;
      *&v31[16] = v25;
      boost::icl::operator&<boost::icl::discrete_interval<unsigned long long,std::less>>(v31, &v26, &v22);
      v15 = v26;
      if ((v27 & 2) == 0)
      {
        v15 = v26 + 1;
      }

      v16 = v22;
      if ((v23 & 2) == 0)
      {
        v16 = v22 + 1;
      }

      *&v26 = v15;
      *(&v26 + 1) = v16;
      LOBYTE(v27) = 2;
      v17 = *(*(a2 + 16) + 16 * a3);
      *v31 = *(*(v14 + 16) + 48 * a3 + 8);
      *&v31[8] = v26;
      v32 = v27;
      v33 = 0;
      v34 = v17;
      v35 = 6;
      v36[0] = &unk_285BDD6E8;
      v36[3] = v36;
      v28 = v22;
      v29 = v23;
      v30 = 1;
      memset(__p, 0, sizeof(__p));
      std::vector<DiskImage::diskimage_extent_t>::__init_with_size[abi:ne200100]<DiskImage::diskimage_extent_t const*,DiskImage::diskimage_extent_t const*>(__p, &v28, v31, 1uLL);
      DiskImage::extents_t_transformer::make_transformed_extents(v31);
    }

    v18 = *(*(v14 + 16) + 48 * a3 + 8);
  }

  v19 = *(*(a2 + 16) + 16 * a3);
  *a5 = v18;
  *(a5 + 8) = v26;
  *(a5 + 24) = v27;
  *(a5 + 32) = 0;
  *(a5 + 40) = v19;
  *(a5 + 48) = 6;
  *(a5 + 56) = &unk_285BDD6E8;
  *(a5 + 80) = a5 + 56;
  v20 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_248F039CC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, char a25)
{
  if (__p)
  {
    operator delete(__p);
  }

  DiskImage::extents_t::~extents_t(&a25);
  _Unwind_Resume(a1);
}

BOOL boost::icl::intersects<boost::icl::discrete_interval<unsigned long long,std::less>>(uint64_t a1, uint64_t a2)
{
  v2 = *(a1 + 16);
  v3 = *a1;
  v4 = *(a1 + 8);
  if (*(a1 + 16))
  {
    if (v2 == 3)
    {
      if (v4 < v3)
      {
        return 0;
      }
    }

    else if (v3 >= v4)
    {
      return 0;
    }
  }

  else if (v3 >= v4 || v3 + 1 >= v4)
  {
    return 0;
  }

  v6 = *(a2 + 16);
  v8 = *a2;
  v7 = *(a2 + 8);
  if (*(a2 + 16))
  {
    if (v6 == 3)
    {
      if (v7 < v8)
      {
        return 0;
      }
    }

    else if (v8 >= v7)
    {
      return 0;
    }
  }

  else if (v8 >= v7 || v8 + 1 >= v7)
  {
    return 0;
  }

  if (v2)
  {
    if (*(a1 + 16) == 3)
    {
      if (v4 < v3)
      {
        return 0;
      }
    }

    else if (v3 >= v4)
    {
      return 0;
    }
  }

  else
  {
    result = 0;
    if (v3 >= v4 || v3 + 1 >= v4)
    {
      return result;
    }
  }

  if (v6)
  {
    if (*(a2 + 16) == 3)
    {
      if (v7 < v8)
      {
        return 0;
      }
    }

    else if (v8 >= v7)
    {
      return 0;
    }
  }

  else
  {
    result = 0;
    if (v8 >= v7 || v8 + 1 >= v7)
    {
      return result;
    }
  }

  if ((v6 & 2) != 0)
  {
    v11 = *a2;
  }

  else
  {
    v11 = v8 + 1;
  }

  if ((v2 & 1) + v4 - 1 < v11)
  {
    return 0;
  }

  if (v6)
  {
    if (*(a2 + 16) == 3)
    {
      if (v7 < v8)
      {
        return 0;
      }
    }

    else if (v8 >= v7)
    {
      return 0;
    }
  }

  else
  {
    result = 0;
    if (v8 >= v7 || v8 + 1 >= v7)
    {
      return result;
    }
  }

  if (!v2)
  {
    result = 0;
    if (v3 >= v4 || v3 + 1 >= v4)
    {
      return result;
    }

    goto LABEL_60;
  }

  if (v2 == 3)
  {
    if (v4 >= v3)
    {
      goto LABEL_60;
    }

    return 0;
  }

  if (v3 >= v4)
  {
    return 0;
  }

LABEL_60:
  if ((v2 & 2) == 0)
  {
    ++v3;
  }

  return (v6 & 1) + v7 - 1 >= v3;
}

BOOL DiskImageStackable::is_trim_required(uint64_t a1, uint64_t a2, unint64_t *a3, uint64_t a4, unint64_t a5, DiskImage::extents_t *a6)
{
  v39[4] = *MEMORY[0x277D85DE8];
  v6 = *(a1 + 40);
  v7 = a3[1];
  if (*a3 <= v6)
  {
    v8 = *(a1 + 40);
  }

  else
  {
    v8 = *a3;
  }

  if (*a3)
  {
    v9 = v8;
  }

  else
  {
    v9 = 0;
  }

  v32[0] = v7 / v6;
  v32[1] = (v7 + v9) / v6;
  v33 = 2;
  if (a5)
  {
    v15 = 0;
    v16 = 0;
    v17 = a5 - 1;
    v18 = 1;
    do
    {
      if (*(*(a1 + 16) + v15) != 2)
      {
        if (a6 && v17 == v16)
        {
          DiskImage::extents_t::extents_t(v37, a6);
        }

        else
        {
          DiskImageStackable::get_di_extents_for_io(a1, a2, v16, a4, v37);
        }

        DiskImageStackable::get_di_extents_for_io(a1, a2, v16, v32, v34);
        DiskImage::extents_t::begin(v34, v31);
        DiskImage::extents_t::end(v34, v30);
        DiskImage::extents_t::begin(v37, v29);
        DiskImage::extents_t::end(v37, v28);
        v19 = std::equal[abi:ne200100]<DiskImage::const_extents_iterator_t,DiskImage::const_extents_iterator_t>(v31, v30, v29, v28);
        v20 = v28[0];
        v28[0] = 0;
        if (v20)
        {
          (*(*v20 + 24))(v20);
        }

        v21 = v29[0];
        v29[0] = 0;
        if (v21)
        {
          (*(*v21 + 24))(v21);
        }

        v22 = v30[0];
        v30[0] = 0;
        if (v22)
        {
          (*(*v22 + 24))(v22);
        }

        v23 = v31[0];
        v31[0] = 0;
        if (v23)
        {
          (*(*v23 + 24))(v23);
        }

        std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::~__value_func[abi:ne200100](&v36);
        v24 = v35;
        v35 = 0;
        if (v24)
        {
          (*(*v24 + 40))(v24);
        }

        std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::~__value_func[abi:ne200100](v39);
        v25 = v38;
        v38 = 0;
        if (v25)
        {
          (*(*v25 + 40))(v25);
        }

        if (!v19)
        {
          break;
        }
      }

      v18 = ++v16 < a5;
      v15 += 48;
    }

    while (a5 != v16);
  }

  else
  {
    v18 = 0;
  }

  v26 = *MEMORY[0x277D85DE8];
  return v18;
}

void sub_248F03E90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, char a37)
{
  if (a22)
  {
    (*(*a22 + 24))(a22);
  }

  if (a28)
  {
    (*(*a28 + 24))(a28);
  }

  DiskImage::extents_t::~extents_t(&a37);
  DiskImage::extents_t::~extents_t((v37 - 184));
  _Unwind_Resume(a1);
}

BOOL std::equal[abi:ne200100]<DiskImage::const_extents_iterator_t,DiskImage::const_extents_iterator_t>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v16, a1);
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v15, a2);
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v14, a3);
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v13, a4);
  v7 = std::equal[abi:ne200100]<DiskImage::const_extents_iterator_t,DiskImage::const_extents_iterator_t,std::__equal_to>(v16, v15, v14, v13);
  v8 = v13[0];
  v13[0] = 0;
  if (v8)
  {
    (*(*v8 + 24))(v8);
  }

  v9 = v14[0];
  v14[0] = 0;
  if (v9)
  {
    (*(*v9 + 24))(v9);
  }

  v10 = v15[0];
  v15[0] = 0;
  if (v10)
  {
    (*(*v10 + 24))(v10);
  }

  v11 = v16[0];
  v16[0] = 0;
  if (v11)
  {
    (*(*v11 + 24))(v11);
  }

  return v7;
}

void sub_248F040C0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t *a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21)
{
  if (a9)
  {
    diskimage_uio::details::extents_db_impl::begin(a9);
  }

  if (a15)
  {
    (*(*a15 + 24))(a15);
  }

  if (a21)
  {
    (*(*a21 + 24))(a21);
  }

  v23 = *(v21 - 80);
  *(v21 - 80) = 0;
  if (v23)
  {
    (*(*v23 + 24))(v23);
  }

  _Unwind_Resume(exception_object);
}

uint64_t DiskImageStackable::should_write_to_cache_layer(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  if (a3 < 0)
  {
    return 0;
  }

  v4 = *(a1 + 16);
  v5 = 0xAAAAAAAAAAAAAAABLL * ((*(a1 + 24) - v4) >> 4) - 1 == a4 && *(a2 + 40) == 1;
  if (v5 || *(v4 + 48 * a3) != 2)
  {
    return 0;
  }

  else
  {
    return (*(**(*(*(a2 + 16) + 16 * a3) + 8) + 40))();
  }
}

uint64_t DiskImageStackable::sync_read_data_to_diskimgs(uint64_t a1, uint64_t a2, sg_vec_ns::details::sg_vec_iterator *a3, uint64_t a4, unint64_t *a5, uint64_t a6, uint64_t a7)
{
  v70[15] = *MEMORY[0x277D85DE8];
  v7 = *(a1 + 40);
  v8 = *a5;
  v9 = a5[1] % v7;
  v10 = v9 == 0;
  v11 = v7 - v9;
  if (v10)
  {
    v12 = 0;
  }

  else
  {
    v12 = v11;
  }

  v13 = v8 - v12;
  if (v8 < v12)
  {
    v14 = 0;
    goto LABEL_79;
  }

  v50[0] = 0;
  v57 = 0;
  sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(v47, a3);
  v22 = v13 / v7 * v7;
  sg_vec_ns::generate_vec_ref(v47, a4, a5[1] + v12, v22, 0xFFFFFFFFFFFFFFFFLL, &v58);
  std::optional<sg_vec_ref>::emplace[abi:ne200100]<sg_vec_ref,void>(v50, &v58);
  if (v67)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v67);
  }

  if (v66)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v66);
  }

  if (v65)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v65);
  }

  if (v64)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v64);
  }

  if (v61)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v61);
  }

  if (v60)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v60);
  }

  if (v49)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v49);
  }

  if (v48)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v48);
  }

  sg_vec_ns::details::sg_vec_iterator::operator+=(a3, v22);
  sg_vec_ns::details::buffer_iterator::rtrim_written(a3 + 15);
  sg_vec_ref::begin(v50, &v58);
  sg_vec_ns::details::sg_vec_iterator::operator=(a3, &v58);
  if (v62)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v62);
  }

  if (v58.n128_u64[1])
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v58.n128_u64[1]);
  }

  sg_vec_ref::end(v50, &v58);
  sg_vec_ns::details::sg_vec_iterator::operator=(a4, &v58);
  if (v62)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v62);
  }

  if (v58.n128_u64[1])
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v58.n128_u64[1]);
  }

  v23 = a6 - 1;
  if (!DiskImageStackable::should_write_to_cache_layer(a1, a2, v23, a7))
  {
    goto LABEL_65;
  }

  v68 = v70;
  v69 = xmmword_248F9C800;
  v24 = *(a3 + 3);
  v25 = *(a4 + 208) - *(a3 + 26);
  v26 = v25 & ~(v25 >> 63);
  while (!sg_vec_ns::details::sg_vec_iterator::operator==(a3, a4))
  {
    sg_vec_ns::details::buffer_iterator::sync((a3 + 120));
    v27 = *(a3 + 23);
    if (v27)
    {
      atomic_fetch_add_explicit(&v27->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    v28 = *(a3 + 26);
    if (((*(a4 + 208) - v28) & ~((*(a4 + 208) - v28) >> 63)) >= *(a3 + 25))
    {
      v29 = *(a3 + 25);
    }

    else
    {
      v29 = (*(a4 + 208) - v28) & ~((*(a4 + 208) - v28) >> 63);
    }

    if (v27)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v27);
    }

    if (v29)
    {
      v30 = *a3;
      v31 = *(a3 + 1);
      v58.n128_u64[0] = *a3;
      v58.n128_u64[1] = v31;
      if (v31)
      {
        atomic_fetch_add_explicit((v31 + 8), 1uLL, memory_order_relaxed);
      }

      v59 = v29;
      v32 = v69;
      v33 = &v68[3 * v69];
      if (v69 == *(&v69 + 1))
      {
        boost::container::vector<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,void>::priv_insert_forward_range_no_capacity<boost::container::dtl::insert_emplace_proxy<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>>>(&v68, v33, 1, &v58, &v41);
        if (v58.n128_u64[1])
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v58.n128_u64[1]);
        }
      }

      else
      {
        v33->n128_u64[0] = v30;
        v33->n128_u64[1] = v58.n128_u64[1];
        v33[1].n128_u64[0] = v29;
        *&v69 = v32 + 1;
      }

      sg_vec_ns::details::sg_vec_iterator::operator+=(a3, v29);
    }

    else
    {
      sg_vec_ns::details::sg_vec_iterator::operator++(a3, v44);
      if (v46)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v46);
      }

      if (v45)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v45);
      }
    }
  }

  sg_vec::sg_vec(&v58, &v68, v24, v26, 1);
  if (*(a3 + 104) == 1 && *(a3 + 12))
  {
    sg_vec_ref::attach_per_io_crypto(v63, (a3 + 48));
  }

  sg_vec_ref::begin(v63, &v41);
  sg_vec_ref::end(v63, v38);
  v34 = sg_vec_ns::details::sg_vec_iterator::operator==(&v41, v38);
  if (v40)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v40);
  }

  if (v39)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v39);
  }

  if (v43)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v43);
  }

  if (v42)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v42);
  }

  if (v34)
  {
    goto LABEL_64;
  }

  v37 = *(*(a2 + 16) + 16 * v23);
  sg_vec_ref::begin(v63, &v41);
  sg_vec_ref::end(v63, v38);
  v14 = DiskImage::Context::write(v37, &v41, v38);
  if (v40)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v40);
  }

  if (v39)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v39);
  }

  if (v43)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v43);
  }

  if (v42)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v42);
  }

  if ((v14 & 0x8000000000000000) == 0 || !v14)
  {
LABEL_64:
    sg_vec::~sg_vec(&v58);
    boost::container::vector<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,void>::~vector(&v68);
LABEL_65:
    v14 = (*(a4 + 208) - *(a3 + 26)) & ~((*(a4 + 208) - *(a3 + 26)) >> 63);
    goto LABEL_66;
  }

  sg_vec::~sg_vec(&v58);
  boost::container::vector<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,void>::~vector(&v68);
LABEL_66:
  if (v57 == 1)
  {
    if (v56)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v56);
    }

    if (v55)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v55);
    }

    if (v54)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v54);
    }

    if (v53)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v53);
    }

    if (v52)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v52);
    }

    if (v51)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v51);
    }
  }

LABEL_79:
  v35 = *MEMORY[0x277D85DE8];
  return v14;
}

void sub_248F046BC(_Unwind_Exception *a1)
{
  if (STACK[0x668])
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](STACK[0x668]);
  }

  boost::container::vector<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,void>::~vector((v1 - 240));
  std::optional<sg_vec_ref>::~optional(&STACK[0x388]);
  _Unwind_Resume(a1);
}

unint64_t DiskImageStackable::read_from_idx(void *a1, uint64_t a2, sg_vec_ns::details::sg_vec_iterator *a3, const sg_vec_ns::details::sg_vec_iterator *a4, unint64_t a5, char a6, BOOL a7, unint64_t *a8, sg_vec_ref *a9)
{
  v12 = a1;
  v161[4] = *MEMORY[0x277D85DE8];
  v125 = a5;
  v124 = a5;
  v13 = a1[5];
  v81 = *(a3 + 26);
  v14 = v81 % v13;
  v15 = v13 - v81 % v13;
  if (v14)
  {
    v16 = v15;
  }

  else
  {
    v16 = 0;
  }

  sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&v119, a3);
  sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(v114, a4);
  v17 = v12[5];
  v78 = a4;
  v18 = *(a3 + 26);
  v19 = *(a4 + 26) - v18;
  v20 = v19 & ~(v19 >> 63);
  if (v20 <= v17)
  {
    v20 = v12[5];
  }

  v21 = *(a4 + 26) == v18;
  if (v19 <= 0)
  {
    v22 = 0;
  }

  else
  {
    v22 = v20;
  }

  *&v112 = v18 / v17;
  *(&v112 + 1) = (v17 + v18 + v22 - 1) / v17;
  LOBYTE(v113) = 2;
  DiskImageStackable::get_di_extents_for_io(v12, a2, a5, &v112, v159);
  if (0xAAAAAAAAAAAAAAABLL * ((v12[3] - v12[2]) >> 4) - 1 == a5)
  {
    v132 = v112;
    v133 = v113;
    v134 = 1;
    v130 = 0;
    __p = 0;
    v129 = 0;
    std::vector<DiskImage::diskimage_extent_t>::__init_with_size[abi:ne200100]<DiskImage::diskimage_extent_t const*,DiskImage::diskimage_extent_t const*>(&__p, &v132, v135, 1uLL);
    DiskImage::extents_t_transformer::make_transformed_extents(v159);
  }

  DiskImage::extents_t::begin(v159, &v108);
  DiskImage::extents_t::end(v159, v107);
  v83 = 0;
  v80 = a5 + 1;
  v82 = v12;
  while (1)
  {
    if (!DiskImage::const_extents_iterator_t::operator!=(&v108, v107))
    {
      v53 = 2;
      goto LABEL_145;
    }

    v23 = a2;
    v24 = v109;
    v25 = v110;
    v26 = v111;
    v27 = v123;
    v28 = v12[5];
    v29 = v123 / v28;
    if ((v111 & 2) != 0)
    {
      v30 = v109;
    }

    else
    {
      v30 = v109 + 1;
    }

    v105[0] = v123 / v28;
    v105[1] = v30;
    v106 = 2;
    v31 = v12;
    v32 = v30 - v29;
    if (v30 <= v29)
    {
      v33 = boost::icl::identity_element<unsigned long long>::value(void)::_value;
    }

    else
    {
      v33 = v30 - v29;
    }

    if (!v33)
    {
      v12 = v31;
      goto LABEL_75;
    }

    v34 = v125;
    if (v125 <= v80)
    {
      v34 = a5 + 1;
    }

    v125 = v34;
    v35 = DiskImageStackable::read_from_next(v31, v23, &v119, v114, v80, v105, a6 & 1, a7, &v125, a9, v159);
    v126 = v35;
    v127 = v36;
    if ((v35 & 0x8000000000000000) != 0 && v35)
    {
      v53 = 1;
      v12 = v82;
      goto LABEL_144;
    }

    v37 = v81;
    if (v36 < v27)
    {
      v37 = v36;
    }

    v81 = v37;
    v38 = v123;
    if (v36 >= v123)
    {
      v40 = *(v78 + 26) - *(a3 + 26);
      v39 = v36 + v35 > v82[5] * (v30 - 1);
      if (v35 <= (v40 & ~(v40 >> 63)))
      {
        a7 = 0;
        goto LABEL_60;
      }
    }

    else
    {
      v39 = v36 + v35 > v82[5] * (v30 - 1);
    }

    sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(v102, &v119);
    v41 = v126;
    v42 = v127;
    sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&v132, v102);
    sg_vec_ns::generate_vec_ref(&v132, v114, v42, v41, 0xFFFFFFFFFFFFFFFFLL, &v143);
    if (v136)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v136);
    }

    if (*(&v132 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v132 + 1));
    }

    std::optional<sg_vec_ref>::emplace[abi:ne200100]<sg_vec_ref,void>(a9, &v143);
    if (v158)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v158);
    }

    if (v157)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v157);
    }

    if (v156)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v156);
    }

    if (v155)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v155);
    }

    if (*(&v149 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v149 + 1));
    }

    if (v145)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v145);
    }

    if (v104)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v104);
    }

    if (v103)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v103);
    }

    sg_vec_ref::begin(a9, &v143);
    sg_vec_ns::details::sg_vec_iterator::operator=(&v119, &v143);
    if (*(&v151 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v151 + 1));
    }

    if (*(&v143 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v143 + 1));
    }

    sg_vec_ref::end(a9, &v143);
    sg_vec_ns::details::sg_vec_iterator::operator=(v114, &v143);
    if (*(&v151 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v151 + 1));
    }

    if (*(&v143 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v143 + 1));
    }

    a7 = 1;
    v38 = v123;
LABEL_60:
    sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&v92, &v119);
    v43 = v126;
    if (!a7)
    {
      v44 = v82[5] * v32;
      v45 = v44 - v127 + v94;
      if (v126 < v45)
      {
        v45 = v126;
      }

      if (v44)
      {
        v43 = v45;
      }
    }

    sg_vec_ns::details::sg_vec_iterator::operator+=(&v92, v43);
    v12 = v82;
    sg_vec_ns::details::buffer_iterator::rtrim_written(v96);
    sg_entry::sg_entry(&v143, &v92);
    v146 = v95;
    v147 = v96[0];
    v148 = v96[1];
    v149 = v96[2];
    v150 = v97;
    v151 = v98;
    v98 = 0uLL;
    v152 = v99;
    v154 = v101;
    v153 = v100;
    sg_vec_ns::details::sg_vec_iterator::operator=(&v119, &v143);
    if (*(&v151 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v151 + 1));
    }

    if (*(&v143 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v143 + 1));
    }

    if (*(&v98 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v98 + 1));
    }

    if (v93)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v93);
    }

    v27 = v123;
    v83 += v123 - v38;
    if (!v39)
    {
      break;
    }

    v16 = 0;
    a6 = 0;
    v28 = v82[5];
LABEL_75:
    v46 = (v26 & 1) + v25 - v24 + (((v26 >> 1) & 1) - 1);
    v47 = v28 * v46 - v16;
    if (v118 - v27 < v47)
    {
      v47 = v118 - v27;
    }

    if (v116 - v121 < v47)
    {
      goto LABEL_143;
    }

    *&v143 = v28 * v30;
    *(&v143 + 1) = v28 * (v46 + v30);
    LOBYTE(v144) = 2;
    sg_vec_ns::details::sg_vec_iterator::subvec(&v119, &v143, v114, &v132);
    v126 = -78;
    a2 = v23;
    if (((*(v23 + 24) - *(v23 + 16)) >> 4) - 1 != a5 || a7 || (*(v23 + 44) & 1) == 0)
    {
LABEL_82:
      v50 = DiskImage::Context::read(*(*(v23 + 16) + 16 * a5), &v132, &v138);
      v52 = v51;
      v126 = v50;
      v127 = v51;
      if ((v50 & 0x8000000000000000) == 0)
      {
        goto LABEL_90;
      }

      goto LABEL_83;
    }

    v48 = *(v12[2] + 48 * a5 + 24);
    v144 = 0u;
    v143 = 0u;
    (*(*v48 + 80))(&v143);
    if (v143)
    {
      v49 = v143 + ((v142 - v137) & ~((v142 - v137) >> 63)) - 1;
      if (v140 - v135[13] < 1 - (v143 + ((v142 - v137) & ~((v142 - v137) >> 63))) + v49 / v143 * v143 + *(&v143 + 1) * v143 + v49)
      {
        goto LABEL_82;
      }
    }

    else if ((a6 & 1) == 0)
    {
      goto LABEL_82;
    }

    v54 = DiskImage::Context::read(*(*(*(v23 + 16) + 16 * a5) + 16), &v132, &v138);
    v50 = v54;
    v52 = v55;
    v126 = v54;
    v127 = v55;
    v56 = v55 < v137 || v54 > ((*(v78 + 26) - *(a3 + 26)) & ~((*(v78 + 26) - *(a3 + 26)) >> 63));
    a7 = v56;
    if ((v54 & 0x8000000000000000) == 0)
    {
      goto LABEL_90;
    }

LABEL_83:
    if (v50)
    {
      v53 = 1;
      goto LABEL_130;
    }

LABEL_90:
    v57 = v137;
    v58 = v142;
    if (a6)
    {
      if (a7)
      {
        v59 = *(a3 + 26);
        if (*(v78 + 26) - v59 <= v50)
        {
          v60 = v50;
        }

        else
        {
          v60 = *(v78 + 26) - v59;
        }

        sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(v89, &v119);
        sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&__p, v89);
        sg_vec_ns::generate_vec_ref(&__p, v114, v52, v60 & ~(v60 >> 63), 0xFFFFFFFFFFFFFFFFLL, &v143);
        if (v131)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v131);
        }

        if (v129)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v129);
        }

        std::optional<sg_vec_ref>::emplace[abi:ne200100]<sg_vec_ref,void>(a9, &v143);
        if (v158)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v158);
        }

        if (v157)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v157);
        }

        if (v156)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v156);
        }

        if (v155)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v155);
        }

        if (*(&v149 + 1))
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](*(&v149 + 1));
        }

        if (v145)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v145);
        }

        if (v91)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v91);
        }

        if (v90)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v90);
        }

        sg_vec_ref::begin(a9, &v143);
        sg_vec_ns::details::sg_vec_iterator::operator=(&v119, &v143);
        if (*(&v151 + 1))
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](*(&v151 + 1));
        }

        if (*(&v143 + 1))
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](*(&v143 + 1));
        }

        sg_vec_ref::end(a9, &v143);
        sg_vec_ns::details::sg_vec_iterator::operator=(v114, &v143);
        if (*(&v151 + 1))
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](*(&v151 + 1));
        }

        if (*(&v143 + 1))
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](*(&v143 + 1));
        }

        a7 = 1;
        v61 = v126;
      }

      else
      {
        a7 = 0;
        v61 = v50;
      }

      v81 = v52;
    }

    else if (v52 == v123)
    {
      v61 = v50;
    }

    else
    {
      v61 = trim_data(&v119, v114, v82[5] * v46, &v126);
      v126 = v61;
      v127 = v62;
      a7 = v61 != v82[5] * v46;
    }

    sg_vec_ns::details::sg_vec_iterator::operator+=(&v119, v61);
    v16 = 0;
    a6 = 0;
    v63 = v52 + v50 < ((v58 - v57) & ~((v58 - v57) >> 63)) + v57;
    v12 = v82;
    v83 += v126;
    v53 = 4 * v63;
LABEL_130:
    if (v141)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v141);
    }

    if (v139)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v139);
    }

    if (v136)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v136);
    }

    if (*(&v132 + 1))
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](*(&v132 + 1));
    }

    if (v53)
    {
      goto LABEL_145;
    }

    DiskImage::const_extents_iterator_t::operator++(&v108);
  }

  a6 = 0;
LABEL_143:
  v53 = 4;
LABEL_144:
  a2 = v23;
LABEL_145:
  v64 = v107[0];
  v107[0] = 0;
  if (v64)
  {
    (*(*v64 + 24))(v64);
  }

  v65 = v108;
  v108 = 0;
  if (v65)
  {
    (*(*v65 + 24))(v65);
  }

  if (v53 != 2)
  {
    if (v53 != 4)
    {
      goto LABEL_191;
    }

LABEL_190:
    v126 = v83;
    v127 = v81;
    goto LABEL_191;
  }

  if (sg_vec_ns::details::sg_vec_iterator::operator==(&v119, v114))
  {
    goto LABEL_190;
  }

  if (!DiskImage::extents_t::empty(v159))
  {
    DiskImage::extents_t::back(v159, &v143);
    if (v12[5] * *(&v143 + 1) >= *(v78 + 26))
    {
      goto LABEL_190;
    }
  }

  v66 = v124;
  if (v124 <= v80)
  {
    v66 = a5 + 1;
  }

  v124 = v66;
  sg_from_next = DiskImageStackable::read_sg_from_next(v12, a2, &v119, v114, v80, a6 & 1, a7, &v124, a9, v159);
  v68 = sg_from_next;
  v70 = v69;
  v126 = sg_from_next;
  v127 = v69;
  if ((sg_from_next & 0x8000000000000000) == 0 || !sg_from_next)
  {
    if (a6)
    {
      sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(v86, &v119);
      v71 = v126;
      v72 = v127;
      sg_vec_ns::details::sg_vec_iterator::sg_vec_iterator(&v132, v86);
      sg_vec_ns::generate_vec_ref(&v132, v114, v72, v71, 0xFFFFFFFFFFFFFFFFLL, &v143);
      if (v136)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v136);
      }

      if (*(&v132 + 1))
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](*(&v132 + 1));
      }

      std::optional<sg_vec_ref>::emplace[abi:ne200100]<sg_vec_ref,void>(a9, &v143);
      if (v158)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v158);
      }

      if (v157)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v157);
      }

      if (v156)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v156);
      }

      if (v155)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v155);
      }

      if (*(&v149 + 1))
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](*(&v149 + 1));
      }

      if (v145)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v145);
      }

      if (v88)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v88);
      }

      if (v87)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v87);
      }

      sg_vec_ref::begin(a9, &v143);
      sg_vec_ns::details::sg_vec_iterator::operator=(&v119, &v143);
      if (*(&v151 + 1))
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](*(&v151 + 1));
      }

      if (*(&v143 + 1))
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](*(&v143 + 1));
      }

      sg_vec_ref::end(a9, &v143);
      sg_vec_ns::details::sg_vec_iterator::operator=(v114, &v143);
      if (*(&v151 + 1))
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](*(&v151 + 1));
      }

      if (*(&v143 + 1))
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](*(&v143 + 1));
      }

      v68 = v126;
      v81 = v70;
    }

    sg_vec_ns::details::sg_vec_iterator::operator+=(&v119, v68);
    v83 += v126;
    goto LABEL_190;
  }

LABEL_191:
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::~__value_func[abi:ne200100](v161);
  v73 = v160;
  v160 = 0;
  if (v73)
  {
    (*(*v73 + 40))(v73);
  }

  if (v117)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v117);
  }

  if (v115)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v115);
  }

  if (v122)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v122);
  }

  if (v120)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v120);
  }

  v74 = v125;
  if (v125 <= v124)
  {
    v74 = v124;
  }

  *a8 = v74;
  result = v126;
  v76 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_248F05488(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, unint64_t *a13)
{
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&STACK[0x900]);
  DiskImage::extents_t::~extents_t((v13 - 184));
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&STACK[0x480]);
  sg_vec_ns::details::sg_vec_iterator::~sg_vec_iterator(&STACK[0x560]);
  v15 = STACK[0x648];
  if (STACK[0x648] <= STACK[0x640])
  {
    v15 = STACK[0x640];
  }

  *a13 = v15;
  _Unwind_Resume(a1);
}

BOOL DiskImage::extents_t::empty(DiskImage::extents_t *this)
{
  DiskImage::extents_t::begin(this, v7);
  DiskImage::extents_t::end(this, v6);
  v2 = DiskImage::const_extents_iterator_t::operator==(v7, v6);
  v3 = v6[0];
  v6[0] = 0;
  if (v3)
  {
    (*(*v3 + 24))(v3);
  }

  v4 = v7[0];
  v7[0] = 0;
  if (v4)
  {
    (*(*v4 + 24))(v4);
  }

  return v2;
}

void sub_248F05760(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t *a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15)
{
  if (a9)
  {
    diskimage_uio::details::extents_db_impl::begin(a9);
  }

  if (a15)
  {
    (*(*a15 + 24))(a15);
  }

  _Unwind_Resume(exception_object);
}

uint64_t DiskImageStackable::verify_image(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3 = *(a1 + 16);
  v4 = *(a1 + 24);
  if (v3 == v4)
  {
    return 1;
  }

  v7 = v3 + 48;
  do
  {
    result = (*(**(v7 - 40) + 64))(*(v7 - 40), a2, a3);
    if (result)
    {
      v9 = v7 == v4;
    }

    else
    {
      v9 = 1;
    }

    v7 += 48;
  }

  while (!v9);
  return result;
}

uint64_t DiskImageStackable::unmap(uint64_t a1, uint64_t a2)
{
  v2 = *(a1 + 16);
  if (*v2 || !(*(**(v2 + 8) + 88))(*(v2 + 8)) || **(a1 + 16))
  {
    return 0;
  }

  v6 = **(a2 + 16);

  return DiskImage::Context::unmap(v6);
}

void *DiskImageStackable::cacheFlusher_t::cacheFlusher_t(void *a1, uint64_t a2, uint64_t a3)
{
  std::string::basic_string[abi:ne200100]<0>(__p, "com.apple.di_stackable.cache.flusher");
  workqueue::workqueue::workqueue(a1, __p, 1);
  if (v8 < 0)
  {
    operator delete(__p[0]);
  }

  workqueue::workqueue::create_recurrent_block(a1, a2, a3, (a1 + 8));
  return a1;
}

void *DiskImageStackable::stackable_extents_iterator_interface::_make_val@<X0>(DiskImageStackable::stackable_extents_iterator_interface *this@<X0>, uint64x2_t *a2@<X8>)
{
  v2 = *(this + 3);
  v4.i64[0] = *(this + 5);
  v4.i64[1] = v2;
  v5 = 2;
  return DiskImageStackable::stackable_extents_iterator_interface::get_next_extent_recursive(this, &v4, 0, a2);
}

void *DiskImageStackable::stackable_extents_iterator_interface::get_next_extent_recursive@<X0>(void *result@<X0>, uint64x2_t *a2@<X1>, uint64_t a3@<X2>, uint64x2_t *a4@<X8>)
{
  v46[4] = *MEMORY[0x277D85DE8];
  v6 = result[6];
  v7 = *(v6 + 16);
  if (0xAAAAAAAAAAAAAAABLL * ((*(v6 + 24) - v7) >> 4) == a3)
  {
    goto LABEL_37;
  }

  v9 = result;
  v10 = a2[1].u8[0];
  v12 = a2->i64[0];
  v11 = a2->u64[1];
  if (!a2[1].i8[0])
  {
    if (v12 < v11 && v12 + 1 < v11)
    {
      goto LABEL_36;
    }

LABEL_5:
    if (boost::icl::identity_element<unsigned long long>::value(void)::_value)
    {
      goto LABEL_6;
    }

LABEL_37:
    *a4 = *a2;
    a4[1].i64[0] = a2[1].i64[0];
    a4[1].i32[2] = 0;
    goto LABEL_38;
  }

  if (v10 != 3)
  {
    if (v12 < v11)
    {
      goto LABEL_36;
    }

    goto LABEL_5;
  }

  if (v11 < v12)
  {
    goto LABEL_5;
  }

LABEL_36:
  if (!(v11 + (v10 & 1) - v12 + (((v10 >> 1) & 1) - 1)))
  {
    goto LABEL_37;
  }

LABEL_6:
  v13 = result[7];
  v14 = (*(**(v7 + 48 * a3 + 8) + 32))(*(v7 + 48 * a3 + 8));
  v15 = *(*(v13 + 16) + 16 * a3);
  v40 = *(*(v6 + 16) + 48 * a3 + 8);
  v16 = *a2;
  v17 = vdupq_n_s64(v14);
  v41 = vbslq_s8(vcgtq_u64(v17, *a2), *a2, v17);
  v42 = 2;
  v43 = 0;
  v44 = v15;
  v45 = 7;
  v46[0] = &unk_285BDD6E8;
  v46[3] = v46;
  if (v14 < v16.i64[1])
  {
    v33[0] = v14;
    v33[1] = v16.i64[1];
    v34 = 2;
    v35 = 2;
    v30 = 0;
    v31 = 0;
    __p = 0;
    std::vector<DiskImage::diskimage_extent_t>::__init_with_size[abi:ne200100]<DiskImage::diskimage_extent_t const*,DiskImage::diskimage_extent_t const*>(&__p, v33, &v36, 1uLL);
    DiskImage::extents_t_transformer::make_transformed_extents(&v40);
  }

  if ((a2[1].i8[0] & 2) != 0)
  {
    v18 = v16.i64[0];
  }

  else
  {
    v18 = v16.i64[0] + 1;
  }

  DiskImage::extents_t::begin(&v40, v37);
  v19 = v39;
  v20 = v37[0];
  v37[0] = 0;
  if (v20)
  {
    (*(*v20 + 24))(v20);
  }

  DiskImage::extents_t::begin(&v40, v37);
  DiskImage::extents_t::end(&v40, v33);
  while (DiskImage::const_extents_iterator_t::operator!=(v37, v33))
  {
    v21 = v38;
    if (v39)
    {
      if (v39 != v19)
      {
        break;
      }
    }

    else
    {
      v27[0] = v18;
      v27[1] = v38;
      v28 = 2;
      DiskImageStackable::stackable_extents_iterator_interface::get_next_extent_recursive(&__p, v9, v27, a3 + 1);
      if (v19)
      {
        if (v32 != v19)
        {
          break;
        }
      }

      else
      {
        v19 = v32;
      }

      v18 = v30;
      if (v30 != v21)
      {
        break;
      }
    }

    DiskImage::const_extents_iterator_t::operator++(v37);
    v18 = v21;
  }

  v22 = v33[0];
  v33[0] = 0;
  if (v22)
  {
    (*(*v22 + 24))(v22);
  }

  v23 = v37[0];
  v37[0] = 0;
  if (v23)
  {
    (*(*v23 + 24))(v23);
  }

  v24 = a2->i64[0];
  if ((a2[1].i8[0] & 2) == 0)
  {
    ++v24;
  }

  a4->i64[0] = v24;
  a4->i64[1] = v18;
  a4[1].i8[0] = 2;
  a4[1].i32[2] = v19;
  std::__function::__value_func<std::unique_ptr<DiskImage::base_extents_iterator_interface> ()(DiskImage::extents_t const&,unsigned long long)>::~__value_func[abi:ne200100](v46);
  result = v43;
  v43 = 0;
  if (result)
  {
    result = (*(*result + 40))(result);
  }

LABEL_38:
  v26 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_248F05DC8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *__p, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22)
{
  DiskImage::extents_t::~extents_t(&a22);
  if (__p)
  {
    operator delete(__p);
  }

  DiskImage::extents_t::~extents_t((v22 - 176));
  _Unwind_Resume(a1);
}

uint64_t DiskImageStackable::get_user_data@<X0>(uint64_t this@<X0>, CFDictionaryRef *a2@<X8>)
{
  v3 = *(this + 16);
  if (v3 != *(this + 24))
  {
    v4 = this;
    do
    {
      (*(**(v3 + 24) + 112))(*(v3 + 24));
      this = CFDictionaryGetCount(*a2);
      if (this)
      {
        break;
      }

      v3 += 48;
      if (v3 == *(v4 + 24))
      {
        break;
      }

      this = CFAutoRelease<__CFDictionary const*>::~CFAutoRelease(a2);
    }

    while (v3 != *(v4 + 24));
  }

  return this;
}

uint64_t DiskImageStackable::is_writable(DiskImageStackable *this)
{
  v1 = *(this + 2);
  v2 = *(this + 3);
  if (v1 == v2)
  {
    return 0;
  }

  v3 = v1 + 48;
  do
  {
    LODWORD(result) = (*(**(v3 - 40) + 40))(*(v3 - 40));
    if (*(v3 - 48))
    {
      result = 0;
    }

    else
    {
      result = result;
    }

    if (result)
    {
      break;
    }

    v5 = v3 == v2;
    v3 += 48;
  }

  while (!v5);
  return result;
}

uint64_t DiskImageStackable::supports_unmap(DiskImageStackable *this)
{
  v1 = *(this + 2);
  v2 = *(this + 3);
  if (v1 == v2)
  {
    return 0;
  }

  v3 = v1 + 48;
  do
  {
    LODWORD(result) = (*(**(v3 - 40) + 88))(*(v3 - 40));
    if (*(v3 - 48))
    {
      result = 0;
    }

    else
    {
      result = result;
    }

    if (result)
    {
      break;
    }

    v5 = v3 == v2;
    v3 += 48;
  }

  while (!v5);
  return result;
}

unint64_t DiskImageStackable::read(DiskImageStackable *this, DiskImage::Context *a2, const sg_vec_ns::details::sg_vec_iterator *a3, const sg_vec_ns::details::sg_vec_iterator *a4)
{
  v8 = *(a4 + 26);
  v9 = (*(*this + 32))(this);
  if (v8 > (*(*this + 24))(this) * v9)
  {
    return -5;
  }

  v13[0] = 0;
  v20 = 0;
  v10 = DiskImageStackable::read_from_idx(this, a2, a3, a4, 0, 1, 0, &v12, v13);
  if (v20 == 1)
  {
    if (v19)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v19);
    }

    if (v18)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v18);
    }

    if (v17)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v17);
    }

    if (v16)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v16);
    }

    if (v15)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v15);
    }

    if (v14)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v14);
    }
  }

  return v10;
}

void sub_248F06468(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, ...)
{
  va_start(va, a4);
  std::optional<sg_vec_ref>::~optional(va);
  _Unwind_Resume(a1);
}

uint64_t std::__variant_detail::__visitation::__base::__dispatcher<4ul>::__dispatch[abi:ne200100]<std::__variant_detail::__visitation::__variant::__value_visitor<di_stackable::get_identifier(DiskImage &)::$_0> &&,std::__variant_detail::__base<(std::__variant_detail::_Trait)0,std::reference_wrapper<DiskImageStackable>,std::__variant_detail::_Trait<DiskImageUDIF>,std::__variant_detail::_Trait<DiskImageRaw>,std::__variant_detail::_Trait<DiskImageASIF>,std::__variant_detail::_Trait<DiskImageSparseBundle>,std::__variant_detail::_Trait<DiskImageROChunkRaw>,std::__variant_detail::_Trait<DiskImage>,std::__variant_detail::_Trait<DiskImagePlugin>> &&>(uint64_t a1, uint64_t a2)
{
  v2 = *(*a2 + 560);
  result = *(v2 + 160);
  v4 = *(v2 + 168);
  return result;
}

uint64_t std::__variant_detail::__visitation::__base::__dispatcher<5ul>::__dispatch[abi:ne200100]<std::__variant_detail::__visitation::__variant::__value_visitor<di_stackable::get_identifier(DiskImage &)::$_0> &&,std::__variant_detail::__base<(std::__variant_detail::_Trait)0,std::reference_wrapper<DiskImageStackable>,std::__variant_detail::_Trait<DiskImageUDIF>,std::__variant_detail::_Trait<DiskImageRaw>,std::__variant_detail::_Trait<DiskImageASIF>,std::__variant_detail::_Trait<DiskImageSparseBundle>,std::__variant_detail::_Trait<DiskImageROChunkRaw>,std::__variant_detail::_Trait<DiskImage>,std::__variant_detail::_Trait<DiskImagePlugin>> &&>(uint64_t a1, uint64_t a2)
{
  result = *(*a2 + 72);
  v3 = *(*a2 + 80);
  return result;
}

uint64_t std::vector<DiskImageStackable::stackable_layer>::__emplace_back_slow_path<DiskImageStackable::stackable_layer&>(uint64_t *a1, uint64_t a2)
{
  v2 = 0xAAAAAAAAAAAAAAABLL * ((a1[1] - *a1) >> 4);
  v3 = v2 + 1;
  if (v2 + 1 > 0x555555555555555)
  {
    std::vector<iovec>::__throw_length_error[abi:ne200100]();
  }

  if (0x5555555555555556 * ((a1[2] - *a1) >> 4) > v3)
  {
    v3 = 0x5555555555555556 * ((a1[2] - *a1) >> 4);
  }

  if (0xAAAAAAAAAAAAAAABLL * ((a1[2] - *a1) >> 4) >= 0x2AAAAAAAAAAAAAALL)
  {
    v6 = 0x555555555555555;
  }

  else
  {
    v6 = v3;
  }

  v16 = a1;
  if (v6)
  {
    std::allocator<DiskImageStackable::stackable_layer>::allocate_at_least[abi:ne200100](a1, v6);
  }

  v13 = 0;
  v14 = 48 * v2;
  std::construct_at[abi:ne200100]<DiskImageStackable::stackable_layer,DiskImageStackable::stackable_layer&,DiskImageStackable::stackable_layer*>(48 * v2, a2);
  v15 = 48 * v2 + 48;
  v7 = a1[1];
  v8 = 48 * v2 + *a1 - v7;
  std::__uninitialized_allocator_relocate[abi:ne200100]<std::allocator<DiskImageStackable::stackable_layer>,DiskImageStackable::stackable_layer*>(a1, *a1, v7, v8);
  v9 = *a1;
  *a1 = v8;
  v10 = a1[2];
  v12 = v15;
  *(a1 + 1) = v15;
  *&v15 = v9;
  *(&v15 + 1) = v10;
  v13 = v9;
  v14 = v9;
  std::__split_buffer<DiskImageStackable::stackable_layer>::~__split_buffer(&v13);
  return v12;
}

void sub_248F06654(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, ...)
{
  va_start(va, a4);
  std::__split_buffer<DiskImageStackable::stackable_layer>::~__split_buffer(va);
  _Unwind_Resume(a1);
}

uint64_t std::construct_at[abi:ne200100]<DiskImageStackable::stackable_layer,DiskImageStackable::stackable_layer&,DiskImageStackable::stackable_layer*>(uint64_t result, uint64_t a2)
{
  *result = *a2;
  v2 = *(a2 + 16);
  *(result + 8) = *(a2 + 8);
  *(result + 16) = v2;
  if (v2)
  {
    atomic_fetch_add_explicit((v2 + 8), 1uLL, memory_order_relaxed);
  }

  v3 = *(a2 + 32);
  *(result + 24) = *(a2 + 24);
  *(result + 32) = v3;
  if (v3)
  {
    atomic_fetch_add_explicit((v3 + 8), 1uLL, memory_order_relaxed);
  }

  *(result + 40) = *(a2 + 40);
  return result;
}

void std::allocator<DiskImageStackable::stackable_layer>::allocate_at_least[abi:ne200100](uint64_t a1, unint64_t a2)
{
  if (a2 < 0x555555555555556)
  {
    operator new();
  }

  std::__throw_bad_array_new_length[abi:ne200100]();
}

void std::__uninitialized_allocator_relocate[abi:ne200100]<std::allocator<DiskImageStackable::stackable_layer>,DiskImageStackable::stackable_layer*>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  if (a2 != a3)
  {
    v5 = a2;
    v6 = a2;
    do
    {
      *a4 = *v6;
      *(a4 + 8) = *(v6 + 8);
      *(v6 + 8) = 0;
      *(v6 + 16) = 0;
      *(a4 + 24) = *(v6 + 24);
      *(v6 + 24) = 0;
      *(v6 + 32) = 0;
      *(a4 + 40) = *(v6 + 40);
      v6 += 48;
      a4 += 48;
    }

    while (v6 != a3);
    while (v5 != a3)
    {
      std::__destroy_at[abi:ne200100]<DiskImageStackable::stackable_layer,0>(v5);
      v5 += 48;
    }
  }
}

void std::__destroy_at[abi:ne200100]<DiskImageStackable::stackable_layer,0>(uint64_t a1)
{
  v2 = *(a1 + 32);
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }

  v3 = *(a1 + 16);
  if (v3)
  {

    std::__shared_weak_count::__release_shared[abi:ne200100](v3);
  }
}

uint64_t std::__split_buffer<DiskImageStackable::stackable_layer>::~__split_buffer(uint64_t a1)
{
  v3 = *(a1 + 8);
  for (i = *(a1 + 16); i != v3; i = *(a1 + 16))
  {
    *(a1 + 16) = i - 48;
    std::__destroy_at[abi:ne200100]<DiskImageStackable::stackable_layer,0>(i - 48);
  }

  if (*a1)
  {
    operator delete(*a1);
  }

  return a1;
}

void DiskImageStackable::stackable_layer::~stackable_layer(DiskImageStackable::stackable_layer *this)
{
  v2 = *(this + 4);
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }

  v3 = *(this + 2);
  if (v3)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v3);
  }
}

uint64_t std::optional<DiskImageStackable::cacheFlusher_t>::~optional(uint64_t a1)
{
  if (*(a1 + 88) == 1)
  {
    workqueue::recurrent_block::~recurrent_block((a1 + 64));
    v3 = (a1 + 24);
    std::vector<gcd::gcd_queue>::__destroy_vector::operator()[abi:ne200100](&v3);
    if (*(a1 + 23) < 0)
    {
      operator delete(*a1);
    }
  }

  return a1;
}

void std::vector<DiskImageStackable::stackable_layer>::__destroy_vector::operator()[abi:ne200100](void ***a1)
{
  v1 = *a1;
  v2 = **a1;
  if (v2)
  {
    v4 = v1[1];
    v5 = **a1;
    if (v4 != v2)
    {
      do
      {
        v4 -= 48;
        std::__destroy_at[abi:ne200100]<DiskImageStackable::stackable_layer,0>(v4);
      }

      while (v4 != v2);
      v5 = **a1;
    }

    v1[1] = v2;

    operator delete(v5);
  }
}

uint64_t std::vector<DiskImage::diskimage_extent_t>::__init_with_size[abi:ne200100]<DiskImage::diskimage_extent_t const*,DiskImage::diskimage_extent_t const*>(uint64_t result, uint64_t a2, uint64_t a3, unint64_t a4)
{
  if (a4)
  {
    std::vector<DiskImage::diskimage_extent_t>::__vallocate[abi:ne200100](result, a4);
  }

  return result;
}

void sub_248F069A0(_Unwind_Exception *exception_object)
{
  v3 = *v1;
  if (*v1)
  {
    *(v1 + 8) = v3;
    operator delete(v3);
  }

  _Unwind_Resume(exception_object);
}

void std::vector<DiskImage::diskimage_extent_t>::__vallocate[abi:ne200100](uint64_t a1, unint64_t a2)
{
  if (!(a2 >> 59))
  {
    std::allocator<DiskImage::diskimage_extent_t>::allocate_at_least[abi:ne200100](a1, a2);
  }

  std::vector<iovec>::__throw_length_error[abi:ne200100]();
}

void std::allocator<DiskImage::diskimage_extent_t>::allocate_at_least[abi:ne200100](uint64_t a1, unint64_t a2)
{
  if (!(a2 >> 59))
  {
    operator new();
  }

  std::__throw_bad_array_new_length[abi:ne200100]();
}

BOOL std::equal[abi:ne200100]<DiskImage::const_extents_iterator_t,DiskImage::const_extents_iterator_t,std::__equal_to>(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v34, a1);
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(&v39, v34);
  v35 = v39;
  v36 = v40;
  v37 = v41;
  v38 = v42;
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v29, a2);
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(&v39, v29);
  v30 = v39;
  v31 = v40;
  v32 = v41;
  v33 = v42;
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v24, a3);
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(&v39, v24);
  v25 = v39;
  v26 = v40;
  v27 = v41;
  v28 = v42;
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(v19, a4);
  DiskImage::const_extents_iterator_t::const_extents_iterator_t(&v39, v19);
  v20 = v39;
  v21 = v40;
  v22 = v41;
  v23 = v42;
  if (DiskImage::const_extents_iterator_t::operator!=(&v35, &v30))
  {
    while (DiskImage::const_extents_iterator_t::operator!=(&v25, &v20))
    {
      v7 = boost::icl::operator==<boost::icl::discrete_interval<unsigned long long,std::less>>(&v36, &v26);
      if (DWORD2(v37) != DWORD2(v27) || !v7)
      {
        goto LABEL_10;
      }

      DiskImage::const_extents_iterator_t::operator++(&v35);
      DiskImage::const_extents_iterator_t::operator++(&v25);
      if (!DiskImage::const_extents_iterator_t::operator!=(&v35, &v30))
      {
        break;
      }
    }
  }

  if (DiskImage::const_extents_iterator_t::operator==(&v35, &v30))
  {
    v9 = DiskImage::const_extents_iterator_t::operator==(&v25, &v20);
  }

  else
  {
LABEL_10:
    v9 = 0;
  }

  v10 = v20;
  v20 = 0;
  if (v10)
  {
    (*(*v10 + 24))(v10);
  }

  v11 = v19[0];
  v19[0] = 0;
  if (v11)
  {
    (*(*v11 + 24))(v11);
  }

  v12 = v25;
  v25 = 0;
  if (v12)
  {
    (*(*v12 + 24))(v12);
  }

  v13 = v24[0];
  v24[0] = 0;
  if (v13)
  {
    (*(*v13 + 24))(v13);
  }

  v14 = v30;
  v30 = 0;
  if (v14)
  {
    (*(*v14 + 24))(v14);
  }

  v15 = v29[0];
  v29[0] = 0;
  if (v15)
  {
    (*(*v15 + 24))(v15);
  }

  v16 = v35;
  v35 = 0;
  if (v16)
  {
    (*(*v16 + 24))(v16);
  }

  v17 = v34[0];
  v34[0] = 0;
  if (v17)
  {
    (*(*v17 + 24))(v17);
  }

  return v9;
}

void sub_248F06D84(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39)
{
  if (a27)
  {
    (*(*a27 + 24))(a27);
  }

  if (a21)
  {
    (*(*a21 + 24))(a21);
  }

  if (a39)
  {
    (*(*a39 + 24))(a39);
  }

  if (a33)
  {
    (*(*a33 + 24))(a33);
  }

  v41 = *(v39 - 144);
  *(v39 - 144) = 0;
  if (v41)
  {
    (*(*v41 + 24))(v41);
  }

  v42 = *(v39 - 192);
  *(v39 - 192) = 0;
  if (v42)
  {
    (*(*v42 + 24))(v42);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sg_vec::sg_vec(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, int a5)
{
  v9 = sg_vec_ns::details::sg_vec_data::sg_vec_data(a1, a2);
  v10 = v9[1];
  v17 = *v9;
  v11 = v17 + 24 * v10;
  v12 = v9[19];
  v15 = v9[18];
  v16 = v11;
  v14 = &v15[v12];
  sg_vec_ref::sg_vec_ref((v9 + 26), &v17, &v16, &v15, &v14, a3, a4, a5);
  return a1;
}

void boost::container::vector<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,void>::priv_insert_forward_range_no_capacity<boost::container::dtl::insert_emplace_proxy<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>>>(uint64_t *a1@<X0>, __n128 *a2@<X1>, const char *a3@<X2>, __n128 *a4@<X3>, void *a5@<X8>)
{
  v10 = *a1;
  v11 = boost::container::vector_alloc_holder<boost::container::small_vector_allocator<lw_future<int>,boost::container::new_allocator<void>,void>,unsigned long,boost::move_detail::integral_constant<unsigned int,1u>>::next_capacity<boost::container::growth_factor_60>(a1, a3);
  if (v11 >= 0x555555555555556)
  {
    boost::container::throw_length_error("get_next_capacity, allocator's max size reached", v12);
  }

  v13 = v11;
  v14 = operator new(24 * v11);
  boost::container::vector<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,void>::priv_insert_forward_range_new_allocation<boost::container::dtl::insert_emplace_proxy<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>>>(a1, v14, v13, a2, a3, a4);
  *a5 = a2 + *a1 - v10;
}

void boost::container::vector<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,void>::priv_insert_forward_range_new_allocation<boost::container::dtl::insert_emplace_proxy<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>>>(uint64_t a1, __n128 *a2, uint64_t a3, __n128 *a4, uint64_t a5, __n128 *a6)
{
  v10 = *a1;
  boost::container::uninitialized_move_and_insert_alloc<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>*,boost::container::dtl::insert_emplace_proxy<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>>>(a1, *a1, a4, (*a1 + 24 * *(a1 + 8)), a2, a5, a6);
  if (v10)
  {
    v11 = *(a1 + 8);
    if (v11)
    {
      v12 = &v10->n128_u64[1];
      do
      {
        if (*v12)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](*v12);
        }

        v12 += 3;
        --v11;
      }

      while (v11);
    }

    if (a1 + 24 != *a1)
    {
      operator delete(*a1);
    }
  }

  v13 = *(a1 + 8) + a5;
  *a1 = a2;
  *(a1 + 8) = v13;
  *(a1 + 16) = a3;
}

void sub_248F07134(_Unwind_Exception *exception_object)
{
  if (v1)
  {
    if ((v2 + 24) != v1)
    {
      operator delete(v1);
    }
  }

  _Unwind_Resume(exception_object);
}

__n128 boost::container::uninitialized_move_and_insert_alloc<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>*,boost::container::dtl::insert_emplace_proxy<boost::container::small_vector_allocator<std::pair<std::shared_ptr<char>,unsigned long>,boost::container::new_allocator<void>,void>,std::pair<std::shared_ptr<char>,unsigned long>*,std::pair<std::shared_ptr<char>,unsigned long>>>(uint64_t a1, __n128 *a2, __n128 *a3, __n128 *a4, __n128 *a5, uint64_t a6, __n128 *a7)
{
  while (a2 != a3)
  {
    *a5 = *a2;
    a2->n128_u64[0] = 0;
    a2->n128_u64[1] = 0;
    a5[1].n128_u64[0] = a2[1].n128_u64[0];
    a2 = (a2 + 24);
    a5 = (a5 + 24);
  }

  result = *a7;
  *a5 = *a7;
  a7->n128_u64[0] = 0;
  a7->n128_u64[1] = 0;
  a5[1].n128_u64[0] = a7[1].n128_u64[0];
  if (a3 != a4)
  {
    v8 = (a5 + 24 * a6);
    do
    {
      result = *a3;
      *v8 = *a3;
      a3->n128_u64[0] = 0;
      a3->n128_u64[1] = 0;
      v8[1].n128_u64[0] = a3[1].n128_u64[0];
      a3 = (a3 + 24);
      v8 = (v8 + 24);
    }

    while (a3 != a4);
  }

  return result;
}