void sub_2476F683C(_Unwind_Exception *a1)
{
  v4 = v1[4];
  if ((v4 & 7) != 0)
  {
    atomic_fetch_add_explicit((v4 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  operator delete(v1);
  std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>>>::destroy(*(v2 + 1800));
  _Unwind_Resume(a1);
}

void std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>>>::destroy(*a1);
    std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::map<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>>>::destroy(a1[1]);
    std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,std::function<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>>>>::destroy(a1[6]);
    v2 = a1[4];
    if ((v2 & 7) != 0)
    {
      atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    operator delete(a1);
  }
}

uint64_t std::__function::__value_func<void ()(pxrInternal__aapl__pxrReserved__::UsdPrim const&,std::shared_ptr<unsigned char>,RETypeInfo const&,std::vector<std::shared_ptr<unsigned char>> &)>::~__value_func[abi:ne200100](uint64_t a1)
{
  v2 = *(a1 + 24);
  if (v2 == a1)
  {
    (*(*v2 + 32))(v2);
  }

  else if (v2)
  {
    (*(*v2 + 40))(v2);
  }

  return a1;
}

void *realityio::WrappedRERef<REECSOPACKDeserializer *>::~WrappedRERef(void *a1)
{
  if (*a1)
  {
    RERelease();
    *a1 = 0;
  }

  return a1;
}

void *realityio::WrappedRERef<REECSOPACKSerializer *>::~WrappedRERef(void *a1)
{
  if (*a1)
  {
    RERelease();
    *a1 = 0;
  }

  return a1;
}

uint64_t std::pair<pxrInternal__aapl__pxrReserved__::SdfPath const,realityio::WrappedRERef<REComponent *>>::~pair(uint64_t a1)
{
  realityio::WrappedRERef<REComponent *>::~WrappedRERef((a1 + 8));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();

  return pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(a1);
}

void std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::SdfPath,std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::less<pxrInternal__aapl__pxrReserved__::SdfPath>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::SdfPath,std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::less<pxrInternal__aapl__pxrReserved__::SdfPath>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>>>::destroy(*a1);
    std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::SdfPath,std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::less<pxrInternal__aapl__pxrReserved__::SdfPath>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>>>::destroy(a1[1]);
    realityio::WrappedRERef<REComponent *>::~WrappedRERef(a1 + 5);
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl((a1 + 4));

    operator delete(a1);
  }
}

void std::vector<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::__destroy_vector::operator()[abi:ne200100](void ***a1)
{
  v1 = *a1;
  v2 = **a1;
  if (v2)
  {
    v4 = v1[1];
    v5 = **a1;
    if (v4 != v2)
    {
      do
      {
        v4 -= 96;
        std::allocator_traits<std::allocator<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>>::destroy[abi:ne200100]<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry,0>(v4);
      }

      while (v4 != v2);
      v5 = **a1;
    }

    v1[1] = v2;

    operator delete(v5);
  }
}

void std::allocator_traits<std::allocator<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>>::destroy[abi:ne200100]<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry,0>(uint64_t a1)
{
  if (*(a1 + 71) < 0)
  {
    operator delete(*(a1 + 48));
  }

  if (*(a1 + 47) < 0)
  {
    operator delete(*(a1 + 24));
  }

  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void sub_2476F727C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, std::__shared_weak_count *a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *__p, uint64_t a16, int a17, __int16 a18, char a19, char a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, void *a28, uint64_t a29, int a30, __int16 a31, char a32, char a33)
{
  if (*(v39 - 113) < 0)
  {
    operator delete(*(v38 + 24));
  }

  if (v37)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v37);
  }

  std::__shared_weak_count::__release_shared[abi:ne200100](v36);
  if (v35)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v35);
  }

  std::__shared_weak_count::__release_shared[abi:ne200100](v34);
  if (a9)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a9);
  }

  std::__shared_weak_count::__release_shared[abi:ne200100](v33);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<realityio::ArbitraryComponentBuilder::ArbitraryComponentBuilder(pxrInternal__aapl__pxrReserved__::SdfPath const&)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::ArbitraryComponentBuilder(pxrInternal__aapl__pxrReserved__::SdfPath const&)::$_0>,std::shared_ptr<realityio::InputsDescriptor const> ()(pxrInternal__aapl__pxrReserved__::SdfPath const&)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void sub_2476F771C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  pxrInternal__aapl__pxrReserved__::UsdPrim::~UsdPrim(va);
  std::__hash_table<pxrInternal__aapl__pxrReserved__::SdfPath,pxrInternal__aapl__pxrReserved__::SdfPath::Hash,std::equal_to<pxrInternal__aapl__pxrReserved__::SdfPath>,std::allocator<pxrInternal__aapl__pxrReserved__::SdfPath>>::~__hash_table(v8);
  _Unwind_Resume(a1);
}

void sub_2476F7A50(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, void *__p, uint64_t a14, int a15, __int16 a16, char a17, char a18, uint64_t a19, uint64_t a20)
{
  if (a18 < 0)
  {
    operator delete(__p);
  }

  if (v21)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v21);
  }

  std::__shared_weak_count::__release_shared[abi:ne200100](v20);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<realityio::ArbitraryComponentBuilder::ArbitraryComponentBuilder(pxrInternal__aapl__pxrReserved__::SdfPath const&)::$_1,std::allocator<realityio::ArbitraryComponentBuilder::ArbitraryComponentBuilder(pxrInternal__aapl__pxrReserved__::SdfPath const&)::$_1>,std::shared_ptr<realityio::OutputsDescriptor const> ()(pxrInternal__aapl__pxrReserved__::SdfPath const&)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::SdfPath,std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>,std::less<pxrInternal__aapl__pxrReserved__::SdfPath>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,realityio::WrappedRERef<REComponent *>>>>::__emplace_unique_key_args<pxrInternal__aapl__pxrReserved__::SdfPath,std::piecewise_construct_t const&,std::tuple<pxrInternal__aapl__pxrReserved__::SdfPath&&>,std::tuple<>>(uint64_t a1, void *a2)
{
  v3 = (a1 + 8);
  v2 = *(a1 + 8);
  if (!v2)
  {
    goto LABEL_7;
  }

  while (1)
  {
    while (1)
    {
      v5 = v2;
      if (!pxrInternal__aapl__pxrReserved__::SdfPath::operator<(a2, v2 + 4))
      {
        break;
      }

      v2 = *v5;
      v3 = v5;
      if (!*v5)
      {
        goto LABEL_7;
      }
    }

    if (!pxrInternal__aapl__pxrReserved__::SdfPath::operator<(v5 + 4, a2))
    {
      break;
    }

    v3 = v5 + 1;
    v2 = v5[1];
    if (!v2)
    {
      goto LABEL_7;
    }
  }

  if (!*v3)
  {
LABEL_7:
    operator new();
  }

  return *v3;
}

void realityio::getAttributeValue<pxrInternal__aapl__pxrReserved__::GfQuatf>(uint64_t a1, pxrInternal__aapl__pxrReserved__::UsdObject *this)
{
  v56 = *MEMORY[0x277D85DE8];
  if (pxrInternal__aapl__pxrReserved__::UsdObject::IsValid(this))
  {
    pxrInternal__aapl__pxrReserved__::UsdObject::GetStage(&v43, this);
    v4 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(&v43);
    if (!pxrInternal__aapl__pxrReserved__::UsdStage::HasAuthoredTimeCodeRange(v4))
    {
      v7 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(&v43);
      pxrInternal__aapl__pxrReserved__::UsdStage::GetStartTimeCode(v7);
    }

    v5 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(&v43);
    pxrInternal__aapl__pxrReserved__::UsdStage::GetStartTimeCode(v5);
    v42 = v8;
    if ((pxrInternal__aapl__pxrReserved__::UsdObject::IsValid(this) & 1) == 0)
    {
      Name = pxrInternal__aapl__pxrReserved__::UsdObject::GetName(this);
      if ((*Name & 0xFFFFFFFFFFFFFFF8) == 0)
      {
        pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(Name);
      }

      std::operator+<char>();
      realityio::DetailedError::DetailedError(&v48, 200, &realityio::FoundationErrorCategory(void)::instance, __p);
      *(a1 + 8) = v48;
      v15 = v49;
      v52.__r_.__value_.__r.__words[0] = v50;
      *(v52.__r_.__value_.__r.__words + 7) = *(&v50 + 7);
      v16 = HIBYTE(v50);
      v50 = 0uLL;
      v49 = 0;
      *a1 = 0;
      *(a1 + 39) = *(v52.__r_.__value_.__r.__words + 7);
      v17 = v52.__r_.__value_.__r.__words[0];
      *(a1 + 24) = v15;
      *(a1 + 32) = v17;
      *(a1 + 47) = v16;
      if (SHIBYTE(v47) < 0)
      {
        operator delete(__p[0]);
      }

      goto LABEL_48;
    }

    v55 = 0;
    if (pxrInternal__aapl__pxrReserved__::UsdAttribute::Get())
    {
      if (pxrInternal__aapl__pxrReserved__::VtValue::IsHolding<pxrInternal__aapl__pxrReserved__::GfQuatf>(v54))
      {
        v9 = pxrInternal__aapl__pxrReserved__::VtValue::Get<pxrInternal__aapl__pxrReserved__::GfQuatf>(v54);
        *a1 = 1;
        *(a1 + 8) = *v9;
        goto LABEL_47;
      }

      Typeid = pxrInternal__aapl__pxrReserved__::VtValue::GetTypeid(v54);
      {
        v20 = pxrInternal__aapl__pxrReserved__::VtValue::Cast<pxrInternal__aapl__pxrReserved__::GfQuatf>(v54);
        v21 = pxrInternal__aapl__pxrReserved__::VtValue::VtValue(&v52, v20);
        if (v52.__r_.__value_.__l.__size_)
        {
          v22 = pxrInternal__aapl__pxrReserved__::VtValue::Get<pxrInternal__aapl__pxrReserved__::GfQuatf>(v21);
          *a1 = 1;
          *(a1 + 8) = *v22;
        }

        else
        {
          v36 = pxrInternal__aapl__pxrReserved__::UsdObject::GetName(this);
          if ((*v36 & 0xFFFFFFFFFFFFFFF8) == 0)
          {
            pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(v36);
          }

          std::operator+<char>();
          realityio::DetailedError::DetailedError(&v48, 200, &realityio::FoundationErrorCategory(void)::instance, __p);
          *(a1 + 8) = v48;
          v37 = v49;
          v51.__r_.__value_.__r.__words[0] = v50;
          *(v51.__r_.__value_.__r.__words + 7) = *(&v50 + 7);
          v38 = HIBYTE(v50);
          v50 = 0uLL;
          v49 = 0;
          *a1 = 0;
          *(a1 + 39) = *(v51.__r_.__value_.__r.__words + 7);
          v39 = v51.__r_.__value_.__r.__words[0];
          *(a1 + 24) = v37;
          *(a1 + 32) = v39;
          *(a1 + 47) = v38;
          if (SHIBYTE(v47) < 0)
          {
            operator delete(__p[0]);
          }
        }

        pxrInternal__aapl__pxrReserved__::VtValue::~VtValue(&v52);
        goto LABEL_47;
      }

      std::string::basic_string[abi:ne200100]<0>(__p, "Value is not of the given type");
      realityio::DetailedError::DetailedError(&v48, 200, &realityio::FoundationErrorCategory(void)::instance, __p);
      *(a1 + 8) = v48;
      v33 = v49;
      v52.__r_.__value_.__r.__words[0] = v50;
      *(v52.__r_.__value_.__r.__words + 7) = *(&v50 + 7);
      v34 = HIBYTE(v50);
      v50 = 0uLL;
      v49 = 0;
      *a1 = 0;
      *(a1 + 39) = *(v52.__r_.__value_.__r.__words + 7);
      v35 = v52.__r_.__value_.__r.__words[0];
      *(a1 + 24) = v33;
      *(a1 + 32) = v35;
      *(a1 + 47) = v34;
      if ((SHIBYTE(v47) & 0x80000000) == 0)
      {
LABEL_47:
        pxrInternal__aapl__pxrReserved__::VtValue::~VtValue(v54);
LABEL_48:
        v40 = v44;
        if (v44 && atomic_fetch_add_explicit((v44 + 8), 0xFFFFFFFF, memory_order_release) == 1)
        {
          (*(*v40 + 8))(v40);
        }

        goto LABEL_51;
      }

      v32 = __p[0];
    }

    else
    {
      v14 = pxrInternal__aapl__pxrReserved__::UsdObject::GetName(this);
      if ((*v14 & 0xFFFFFFFFFFFFFFF8) == 0)
      {
        pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(v14);
      }

      std::operator+<char>();
      v23 = std::string::append(&v51, ") at the given time: ");
      v24 = *&v23->__r_.__value_.__l.__data_;
      v52.__r_.__value_.__r.__words[2] = v23->__r_.__value_.__r.__words[2];
      *&v52.__r_.__value_.__l.__data_ = v24;
      v23->__r_.__value_.__l.__size_ = 0;
      v23->__r_.__value_.__r.__words[2] = 0;
      v23->__r_.__value_.__r.__words[0] = 0;
      std::to_string(&v45, v42);
      if ((v45.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
      {
        v25 = &v45;
      }

      else
      {
        v25 = v45.__r_.__value_.__r.__words[0];
      }

      if ((v45.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
      {
        size = HIBYTE(v45.__r_.__value_.__r.__words[2]);
      }

      else
      {
        size = v45.__r_.__value_.__l.__size_;
      }

      v27 = std::string::append(&v52, v25, size);
      v28 = *&v27->__r_.__value_.__l.__data_;
      v47 = v27->__r_.__value_.__r.__words[2];
      *__p = v28;
      v27->__r_.__value_.__l.__size_ = 0;
      v27->__r_.__value_.__r.__words[2] = 0;
      v27->__r_.__value_.__r.__words[0] = 0;
      realityio::DetailedError::DetailedError(&v48, 200, &realityio::FoundationErrorCategory(void)::instance, __p);
      *(a1 + 8) = v48;
      v29 = v49;
      v53[0] = v50;
      *(v53 + 7) = *(&v50 + 7);
      v30 = HIBYTE(v50);
      v50 = 0uLL;
      v49 = 0;
      *a1 = 0;
      *(a1 + 39) = *(v53 + 7);
      v31 = v53[0];
      *(a1 + 24) = v29;
      *(a1 + 32) = v31;
      *(a1 + 47) = v30;
      if (SHIBYTE(v47) < 0)
      {
        operator delete(__p[0]);
      }

      if (SHIBYTE(v45.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v45.__r_.__value_.__l.__data_);
      }

      if (SHIBYTE(v52.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v52.__r_.__value_.__l.__data_);
      }

      if ((SHIBYTE(v51.__r_.__value_.__r.__words[2]) & 0x80000000) == 0)
      {
        goto LABEL_47;
      }

      v32 = v51.__r_.__value_.__r.__words[0];
    }

    operator delete(v32);
    goto LABEL_47;
  }

  v6 = pxrInternal__aapl__pxrReserved__::UsdObject::GetName(this);
  if ((*v6 & 0xFFFFFFFFFFFFFFF8) == 0)
  {
    pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(v6);
  }

  std::operator+<char>();
  realityio::DetailedError::DetailedError(&v48, 200, &realityio::FoundationErrorCategory(void)::instance, __p);
  *(a1 + 8) = v48;
  v11 = v49;
  v52.__r_.__value_.__r.__words[0] = v50;
  *(v52.__r_.__value_.__r.__words + 7) = *(&v50 + 7);
  v12 = HIBYTE(v50);
  v50 = 0uLL;
  v49 = 0;
  *a1 = 0;
  *(a1 + 39) = *(v52.__r_.__value_.__r.__words + 7);
  v13 = v52.__r_.__value_.__r.__words[0];
  *(a1 + 24) = v11;
  *(a1 + 32) = v13;
  *(a1 + 47) = v12;
  if (SHIBYTE(v47) < 0)
  {
    operator delete(__p[0]);
  }

LABEL_51:
  v41 = *MEMORY[0x277D85DE8];
}

void sub_2476F81AC(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, atomic_uint *a11, void *__p, uint64_t a13, int a14, __int16 a15, char a16, char a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, void *a27, uint64_t a28, int a29, __int16 a30, char a31, char a32)
{
  if (a11)
  {
    if (atomic_fetch_add_explicit(a11 + 2, 0xFFFFFFFF, memory_order_release) == 1)
    {
      (*(*a11 + 8))(a11);
    }
  }

  _Unwind_Resume(exception_object);
}

void std::__shared_ptr_emplace<realityio::InputOutputWrapperObject<REComponentClass *>>::~__shared_ptr_emplace(std::__shared_weak_count *a1)
{
  a1->__vftable = &unk_28595D488;
  std::__shared_weak_count::~__shared_weak_count(a1);

  JUMPOUT(0x24C1A91B0);
}

__n128 std::vector<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::__construct_one_at_end[abi:ne200100]<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry const&>(uint64_t a1, __int128 *a2)
{
  v4 = *(a1 + 8);
  if (*(a2 + 23) < 0)
  {
    std::string::__init_copy_ctor_external(*(a1 + 8), *a2, *(a2 + 1));
  }

  else
  {
    v5 = *a2;
    *(v4 + 16) = *(a2 + 2);
    *v4 = v5;
  }

  if (*(a2 + 47) < 0)
  {
    std::string::__init_copy_ctor_external((v4 + 24), *(a2 + 3), *(a2 + 4));
  }

  else
  {
    v6 = *(a2 + 24);
    *(v4 + 40) = *(a2 + 5);
    *(v4 + 24) = v6;
  }

  if (*(a2 + 71) < 0)
  {
    std::string::__init_copy_ctor_external((v4 + 48), *(a2 + 6), *(a2 + 7));
  }

  else
  {
    v7 = a2[3];
    *(v4 + 64) = *(a2 + 8);
    *(v4 + 48) = v7;
  }

  result = *(a2 + 72);
  *(v4 + 88) = *(a2 + 88);
  *(v4 + 72) = result;
  *(a1 + 8) = v4 + 96;
  return result;
}

void sub_2476F83D4(_Unwind_Exception *exception_object)
{
  if (*(v2 + 47) < 0)
  {
    operator delete(*(v2 + 24));
  }

  if (*(v2 + 23) < 0)
  {
    operator delete(*v2);
  }

  *(v1 + 8) = v2;
  _Unwind_Resume(exception_object);
}

uint64_t std::vector<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::__emplace_back_slow_path<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry const&>(uint64_t *a1, __int128 *a2)
{
  v2 = 0xAAAAAAAAAAAAAAABLL * ((a1[1] - *a1) >> 5);
  v3 = v2 + 1;
  if (v2 + 1 > 0x2AAAAAAAAAAAAAALL)
  {
    std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
  }

  if (0x5555555555555556 * ((a1[2] - *a1) >> 5) > v3)
  {
    v3 = 0x5555555555555556 * ((a1[2] - *a1) >> 5);
  }

  if (0xAAAAAAAAAAAAAAABLL * ((a1[2] - *a1) >> 5) >= 0x155555555555555)
  {
    v6 = 0x2AAAAAAAAAAAAAALL;
  }

  else
  {
    v6 = v3;
  }

  v29 = a1;
  if (v6)
  {
    std::__allocate_at_least[abi:ne200100]<std::allocator<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>>(v6);
  }

  v7 = 96 * v2;
  v25 = 0;
  v26 = v7;
  v27 = v7;
  v28 = 0;
  if (*(a2 + 23) < 0)
  {
    std::string::__init_copy_ctor_external(v7, *a2, *(a2 + 1));
  }

  else
  {
    v8 = *a2;
    *(v7 + 16) = *(a2 + 2);
    *v7 = v8;
  }

  if (*(a2 + 47) < 0)
  {
    std::string::__init_copy_ctor_external((v7 + 24), *(a2 + 3), *(a2 + 4));
  }

  else
  {
    v9 = *(a2 + 24);
    *(v7 + 40) = *(a2 + 5);
    *(v7 + 24) = v9;
  }

  if (*(a2 + 71) < 0)
  {
    std::string::__init_copy_ctor_external((v7 + 48), *(a2 + 6), *(a2 + 7));
  }

  else
  {
    v10 = a2[3];
    *(v7 + 64) = *(a2 + 8);
    *(v7 + 48) = v10;
  }

  v11 = *(a2 + 72);
  *(v7 + 88) = *(a2 + 88);
  *(v7 + 72) = v11;
  v12 = v27;
  v13 = *a1;
  v14 = a1[1];
  v15 = v26 + *a1 - v14;
  if (*a1 != v14)
  {
    v16 = *a1;
    v17 = v26 + *a1 - v14;
    do
    {
      v18 = *v16;
      *(v17 + 16) = *(v16 + 16);
      *v17 = v18;
      *(v16 + 8) = 0;
      *(v16 + 16) = 0;
      *v16 = 0;
      v19 = *(v16 + 24);
      *(v17 + 40) = *(v16 + 40);
      *(v17 + 24) = v19;
      *(v16 + 32) = 0;
      *(v16 + 40) = 0;
      *(v16 + 24) = 0;
      v20 = *(v16 + 48);
      *(v17 + 64) = *(v16 + 64);
      *(v17 + 48) = v20;
      *(v16 + 56) = 0;
      *(v16 + 64) = 0;
      *(v16 + 48) = 0;
      v21 = *(v16 + 72);
      *(v17 + 88) = *(v16 + 88);
      *(v17 + 72) = v21;
      v16 += 96;
      v17 += 96;
    }

    while (v16 != v14);
    do
    {
      std::allocator_traits<std::allocator<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>>::destroy[abi:ne200100]<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry,0>(v13);
      v13 += 96;
    }

    while (v13 != v14);
    v13 = *a1;
  }

  v22 = v12 + 96;
  *a1 = v15;
  a1[1] = v22;
  v23 = a1[2];
  a1[2] = v28;
  v27 = v13;
  v28 = v23;
  v25 = v13;
  v26 = v13;
  std::__split_buffer<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::~__split_buffer(&v25);
  return v22;
}

void sub_2476F8620(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va, a2);
  if (*(v2 + 47) < 0)
  {
    operator delete(*(v2 + 24));
  }

  if (*(v2 + 23) < 0)
  {
    operator delete(*v2);
  }

  std::__split_buffer<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::~__split_buffer(va);
  _Unwind_Resume(a1);
}

void std::__allocate_at_least[abi:ne200100]<std::allocator<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>>(unint64_t a1)
{
  if (a1 < 0x2AAAAAAAAAAAAABLL)
  {
    operator new();
  }

  std::__throw_bad_array_new_length[abi:ne200100]();
}

uint64_t std::__split_buffer<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::~__split_buffer(uint64_t a1)
{
  v3 = *(a1 + 8);
  for (i = *(a1 + 16); i != v3; i = *(a1 + 16))
  {
    *(a1 + 16) = i - 96;
    std::allocator_traits<std::allocator<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>>::destroy[abi:ne200100]<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry,0>(i - 96);
  }

  if (*a1)
  {
    operator delete(*a1);
  }

  return a1;
}

void sub_2476F8968(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, char a10, uint64_t a11, uint64_t a12, void *__p, uint64_t a14, int a15, __int16 a16, char a17, char a18, uint64_t a19, char *a20)
{
  a20 = &a10;
  std::vector<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::__destroy_vector::operator()[abi:ne200100](&a20);
  if (a18 < 0)
  {
    operator delete(__p);
  }

  std::__shared_weak_count::~__shared_weak_count(v20);
  operator delete(v22);
  _Unwind_Resume(a1);
}

void std::__shared_ptr_emplace<realityio::ArbitraryComponentBuilder::AnimationLibrary>::~__shared_ptr_emplace(std::__shared_weak_count *a1)
{
  a1->__vftable = &unk_28595D508;
  std::__shared_weak_count::~__shared_weak_count(a1);

  JUMPOUT(0x24C1A91B0);
}

void std::__shared_ptr_emplace<realityio::ArbitraryComponentBuilder::AnimationLibrary>::__on_zero_shared(uint64_t a1)
{
  v3 = (a1 + 56);
  std::vector<realityio::ArbitraryComponentBuilder::AnimationLibrary::Entry>::__destroy_vector::operator()[abi:ne200100](&v3);
  if (*(a1 + 47) < 0)
  {
    v2 = *(a1 + 24);

    operator delete(v2);
  }
}

void std::__shared_ptr_emplace<realityio::InputOutputWrapperObject<std::shared_ptr<realityio::ArbitraryComponentBuilder::AnimationLibrary>>>::~__shared_ptr_emplace(std::__shared_weak_count *a1)
{
  a1->__vftable = &unk_28595D558;
  std::__shared_weak_count::~__shared_weak_count(a1);

  JUMPOUT(0x24C1A91B0);
}

void std::__shared_ptr_emplace<realityio::InputOutputWrapperObject<std::shared_ptr<realityio::ArbitraryComponentBuilder::AnimationLibrary>>>::__on_zero_shared(uint64_t a1)
{
  *(a1 + 24) = &unk_28595D5A8;
  v1 = *(a1 + 40);
  if (v1)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v1);
  }
}

uint64_t realityio::InputOutputWrapperObject<std::shared_ptr<realityio::ArbitraryComponentBuilder::AnimationLibrary>>::getRawValue(uint64_t a1)
{
  v2 = *(a1 + 8);
  v1 = *(a1 + 16);
  if (v1)
  {
    atomic_fetch_add_explicit(&v1->__shared_owners_, 1uLL, memory_order_relaxed);
    std::__shared_weak_count::__release_shared[abi:ne200100](v1);
  }

  return v2;
}

__n128 std::__function::__func<realityio::ArbitraryComponentBuilder::updateComponentOnEntity(realityio::Inputs *,pxrInternal__aapl__pxrReserved__::UsdPrim const&,REEntity *)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::updateComponentOnEntity(realityio::Inputs *,pxrInternal__aapl__pxrReserved__::UsdPrim const&,REEntity *)::$_0>,void ()(void)>::__clone(uint64_t a1, uint64_t a2)
{
  *a2 = &unk_28595D5D8;
  result = *(a1 + 8);
  v3 = *(a1 + 24);
  *(a2 + 40) = *(a1 + 40);
  *(a2 + 24) = v3;
  *(a2 + 8) = result;
  return result;
}

void std::__function::__func<realityio::ArbitraryComponentBuilder::updateComponentOnEntity(realityio::Inputs *,pxrInternal__aapl__pxrReserved__::UsdPrim const&,REEntity *)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::updateComponentOnEntity(realityio::Inputs *,pxrInternal__aapl__pxrReserved__::UsdPrim const&,REEntity *)::$_0>,void ()(void)>::operator()(uint64_t a1)
{
  v2 = *(a1 + 16);
  if ((**(a1 + 8) & 0xFFFFFFFFFFFFFFF8) != 0)
  {
    EmptyString = (**(a1 + 8) & 0xFFFFFFFFFFFFFFF8) + 16;
  }

  else
  {
    EmptyString = pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(a1);
  }

  if (*(EmptyString + 23) < 0)
  {
    std::string::__init_copy_ctor_external(&__str, *EmptyString, *(EmptyString + 8));
  }

  else
  {
    v4 = *EmptyString;
    __str.__r_.__value_.__r.__words[2] = *(EmptyString + 16);
    *&__str.__r_.__value_.__l.__data_ = v4;
  }

  if ((__str.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    p_str = &__str;
  }

  else
  {
    p_str = __str.__r_.__value_.__r.__words[0];
  }

  if ((__str.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    size = SHIBYTE(__str.__r_.__value_.__r.__words[2]);
  }

  else
  {
    size = __str.__r_.__value_.__l.__size_;
  }

  v7 = p_str + size;
  if (size >= 1)
  {
    v8 = p_str;
    do
    {
      v9 = memchr(v8, 46, size);
      if (!v9)
      {
        break;
      }

      if (*v9 == 46)
      {
        goto LABEL_19;
      }

      v8 = (v9 + 1);
      size = v7 - v8;
    }

    while (v7 - v8 > 0);
  }

  v9 = v7;
LABEL_19:
  if (v9 == v7)
  {
    v10 = -1;
  }

  else
  {
    v10 = v9 - p_str;
  }

  std::string::basic_string(&v25, &__str, 0, v10, &v27);
  if ((atomic_load_explicit(&qword_27EE536F8, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_27EE536F8))
  {
    std::string::basic_string[abi:ne200100]<0>(&qword_27EE53718, "RealityKit");
    __cxa_guard_release(&qword_27EE536F8);
  }

  v11 = SHIBYTE(v25.__r_.__value_.__r.__words[2]);
  if ((v25.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    v12 = HIBYTE(v25.__r_.__value_.__r.__words[2]);
  }

  else
  {
    v12 = v25.__r_.__value_.__l.__size_;
  }

  v13 = qword_27EE53720;
  if (byte_27EE5372F >= 0)
  {
    v13 = byte_27EE5372F;
  }

  if (v12 != v13)
  {
    v16 = 0;
    if ((SHIBYTE(v25.__r_.__value_.__r.__words[2]) & 0x80000000) == 0)
    {
      goto LABEL_36;
    }

LABEL_39:
    operator delete(v25.__r_.__value_.__l.__data_);
    if (!v16)
    {
      goto LABEL_59;
    }

    goto LABEL_40;
  }

  if ((v25.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    v14 = &v25;
  }

  else
  {
    v14 = v25.__r_.__value_.__r.__words[0];
  }

  if (byte_27EE5372F >= 0)
  {
    v15 = &qword_27EE53718;
  }

  else
  {
    v15 = qword_27EE53718;
  }

  v16 = memcmp(v14, v15, v12) == 0;
  if (v11 < 0)
  {
    goto LABEL_39;
  }

LABEL_36:
  if (!v16)
  {
    goto LABEL_59;
  }

LABEL_40:
  if ((__str.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    v17 = &__str;
  }

  else
  {
    v17 = __str.__r_.__value_.__r.__words[0];
  }

  if ((__str.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
  {
    v18 = SHIBYTE(__str.__r_.__value_.__r.__words[2]);
  }

  else
  {
    v18 = __str.__r_.__value_.__l.__size_;
  }

  v19 = v17 + v18;
  if (v18 >= 1)
  {
    v20 = v17;
    do
    {
      v21 = memchr(v20, 46, v18);
      if (!v21)
      {
        break;
      }

      if (*v21 == 46)
      {
        goto LABEL_52;
      }

      v20 = (v21 + 1);
      v18 = v19 - v20;
    }

    while (v19 - v20 > 0);
  }

  v21 = v19;
LABEL_52:
  if (v21 == v19)
  {
    v22 = 0;
  }

  else
  {
    v22 = v21 - v17 + 1;
  }

  v23 = std::string::basic_string(&v25, &__str, v22, 0xFFFFFFFFFFFFFFFFLL, &v27);
  v24 = std::__tree<std::__value_type<std::string,std::shared_ptr<realityio::UntypedInputOutputWrapperObject>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<realityio::UntypedInputOutputWrapperObject>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<realityio::UntypedInputOutputWrapperObject>>>>::find<std::string>(&qword_27EE53730, &v25.__r_.__value_.__l.__data_);
  if (v24 != &qword_27EE53738)
  {
    std::string::operator=(&v25, (v24 + 56));
  }

  realityio::ArbitraryComponentBuilder::updateComponentOnEntityFromProtoPrim(v2, **(a1 + 24), *(a1 + 32), **(a1 + 40), &v25);
  if (SHIBYTE(v25.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(v25.__r_.__value_.__l.__data_);
  }

LABEL_59:
  if (SHIBYTE(__str.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(__str.__r_.__value_.__l.__data_);
  }
}

void sub_2476F8F3C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15, void *a16, uint64_t a17, int a18, __int16 a19, char a20, char a21)
{
  __cxa_guard_abort(&qword_27EE536F8);
  if (a15 < 0)
  {
    operator delete(__p);
  }

  if (a21 < 0)
  {
    operator delete(a16);
  }

  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<realityio::ArbitraryComponentBuilder::updateComponentOnEntity(realityio::Inputs *,pxrInternal__aapl__pxrReserved__::UsdPrim const&,REEntity *)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::updateComponentOnEntity(realityio::Inputs *,pxrInternal__aapl__pxrReserved__::UsdPrim const&,REEntity *)::$_0>,void ()(void)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void anonymous namespace::getSwiftToREMap(_anonymous_namespace_ *this)
{
  v11 = *MEMORY[0x277D85DE8];
  {
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[10],char const(&)[9],0>(v3);
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[23],char const(&)[26],0>(v4);
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[6],char const(&)[5],0>(v5);
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[18],char const(&)[10],0>(v6);
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[12],char const(&)[10],0>(v7);
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[14],char const(&)[12],0>(v8);
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[16],char const(&)[19],0>(v9);
    std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[16],char const(&)[8],0>(v10);
    std::map<std::string,std::string>::map[abi:ne200100](v3, 8);
    for (i = 336; i != -48; i -= 48)
    {
      pxrInternal__aapl__pxrReserved__::SdfAssetPath::~SdfAssetPath(&v3[i]);
    }
  }

  v1 = *MEMORY[0x277D85DE8];
}

void sub_2476F90F4(_Unwind_Exception *a1)
{
  v3 = (v1 + 336);
  v4 = -384;
  do
  {
    pxrInternal__aapl__pxrReserved__::SdfAssetPath::~SdfAssetPath(v3);
    v3 = (v5 - 48);
    v4 += 48;
  }

  while (v4);
  _Unwind_Resume(a1);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[10],char const(&)[9],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "Collision");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "Collider");
  return a1;
}

void sub_2476F918C(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[23],char const(&)[26],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "DirectionalLightShadow");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "DirectionalLightShadowMap");
  return a1;
}

void sub_2476F91E8(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[6],char const(&)[5],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "Model");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "Mesh");
  return a1;
}

void sub_2476F9244(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[18],char const(&)[10],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "ModelDebugOptions");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "DebugMesh");
  return a1;
}

void sub_2476F92A0(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[12],char const(&)[10],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "PhysicsBody");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "RigidBody");
  return a1;
}

void sub_2476F92FC(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[14],char const(&)[12],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "PhysicsMotion");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "MotionState");
  return a1;
}

void sub_2476F9358(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[16],char const(&)[19],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "SpotLightShadow");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "SpotLightShadowMap");
  return a1;
}

void sub_2476F93B4(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

_BYTE *std::pair<std::string const,std::string>::pair[abi:ne200100]<char const(&)[16],char const(&)[8],0>(_BYTE *a1)
{
  v2 = std::string::basic_string[abi:ne200100]<0>(a1, "Synchronization");
  std::string::basic_string[abi:ne200100]<0>(v2 + 24, "Network");
  return a1;
}

void sub_2476F9410(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

uint64_t std::map<std::string,std::string>::map[abi:ne200100](uint64_t result, uint64_t a2)
{
  qword_27EE53740 = 0;
  qword_27EE53738 = 0;
  qword_27EE53730 = &qword_27EE53738;
  if (a2)
  {
    v2 = result;
    v3 = 48 * a2;
    do
    {
      result = std::__tree<std::__value_type<std::string,std::string>,std::__map_value_compare<std::string,std::__value_type<std::string,std::string>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::string>>>::__emplace_hint_unique_key_args<std::string,std::pair<std::string const,std::string> const&>(&qword_27EE53730, &qword_27EE53738, v2);
      v2 += 6;
      v3 -= 48;
    }

    while (v3);
  }

  return result;
}

uint64_t std::__function::__func<realityio::ArbitraryComponentBuilder::run(realityio::Inputs *)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::run(realityio::Inputs *)::$_0>,void ()(void)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_28595D658;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<realityio::ArbitraryComponentBuilder::run(realityio::Inputs *)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::run(realityio::Inputs *)::$_0>,void ()(void)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

uint64_t std::__function::__func<realityio::ArbitraryComponentBuilder::clear(realityio::Inputs *)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::clear(realityio::Inputs *)::$_0>,void ()(void)>::__clone(uint64_t result, void *a2)
{
  v2 = *(result + 8);
  *a2 = &unk_28595D6D8;
  a2[1] = v2;
  return result;
}

uint64_t std::__function::__func<realityio::ArbitraryComponentBuilder::clear(realityio::Inputs *)::$_0,std::allocator<realityio::ArbitraryComponentBuilder::clear(realityio::Inputs *)::$_0>,void ()(void)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

__int128 *RIO_MTLX::NULL_EDGE(RIO_MTLX *this)
{
  {
    xmmword_27EE52708 = 0u;
    *&qword_27EE52718 = 0u;
    RIO_MTLX::NULL_EDGE(void)::v = 0u;
  }

  return &RIO_MTLX::NULL_EDGE(void)::v;
}

__int128 *RIO_MTLX::NULL_TREE_ITERATOR(RIO_MTLX *this)
{
  {
    *(&xmmword_27EE52758 + 1) = 0;
    RIO_MTLX::NULL_TREE_ITERATOR(void)::v = 0u;
    *&qword_27EE52740 = 0u;
    unk_27EE52749 = 0u;
  }

  return &RIO_MTLX::NULL_TREE_ITERATOR(void)::v;
}

uint64_t *RIO_MTLX::NULL_GRAPH_ITERATOR(RIO_MTLX *this)
{
  {
    v2 = 0;
    v3 = 0;
    RIO_MTLX::GraphIterator::GraphIterator(&RIO_MTLX::NULL_GRAPH_ITERATOR(void)::v, &v2);
    if (v3)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v3);
    }
  }

  return &RIO_MTLX::NULL_GRAPH_ITERATOR(void)::v;
}

void sub_2476F97D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a10);
  }

  _Unwind_Resume(a1);
}

uint64_t *RIO_MTLX::NULL_INHERITANCE_ITERATOR(RIO_MTLX *this)
{
  {
    v2 = 0;
    v3 = 0;
    RIO_MTLX::InheritanceIterator::InheritanceIterator(&RIO_MTLX::NULL_INHERITANCE_ITERATOR(void)::v, &v2);
    if (v3)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v3);
    }
  }

  return &RIO_MTLX::NULL_INHERITANCE_ITERATOR(void)::v;
}

void sub_2476F9878(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a10);
  }

  _Unwind_Resume(a1);
}

uint64_t *RIO_MTLX::TreeIterator::operator++(uint64_t *a1)
{
  v2 = a1[6];
  if (v2)
  {
    a1[6] = v2 - 1;
    return a1;
  }

  if ((a1[5] & 1) == 0)
  {
    v3 = *a1;
    if (*a1)
    {
      if (*(v3 + 136) != *(v3 + 144))
      {
        v4 = a1[3];
        v5 = a1[4];
        if (v4 >= v5)
        {
          v19 = a1[2];
          v20 = 0xAAAAAAAAAAAAAAABLL * ((v4 - v19) >> 3);
          v21 = v20 + 1;
          if (v20 + 1 > 0xAAAAAAAAAAAAAAALL)
          {
            std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
          }

          v22 = 0xAAAAAAAAAAAAAAABLL * ((v5 - v19) >> 3);
          if (2 * v22 > v21)
          {
            v21 = 2 * v22;
          }

          if (v22 >= 0x555555555555555)
          {
            v23 = 0xAAAAAAAAAAAAAAALL;
          }

          else
          {
            v23 = v21;
          }

          if (v23)
          {
            std::__allocate_at_least[abi:ne200100]<std::allocator<std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>>>((a1 + 2), v23);
          }

          v24 = a1[1];
          v25 = 24 * v20;
          *v25 = v3;
          *(v25 + 8) = v24;
          if (v24)
          {
            atomic_fetch_add_explicit((v24 + 8), 1uLL, memory_order_relaxed);
          }

          *(24 * v20 + 0x10) = 0;
          v7 = (v25 + 24);
          v26 = a1[2];
          v27 = a1[3] - v26;
          v28 = v25 - v27;
          memcpy((v25 - v27), v26, v27);
          v29 = a1[2];
          a1[2] = v28;
          a1[3] = v7;
          a1[4] = 0;
          if (v29)
          {
            operator delete(v29);
          }
        }

        else
        {
          v6 = a1[1];
          *v4 = v3;
          v4[1] = v6;
          if (v6)
          {
            atomic_fetch_add_explicit((v6 + 8), 1uLL, memory_order_relaxed);
          }

          v4[2] = 0;
          v7 = v4 + 3;
        }

        a1[3] = v7;
        v30 = *(*a1 + 136);
        v32 = *v30;
        v31 = v30[1];
        if (v31)
        {
          atomic_fetch_add_explicit((v31 + 8), 1uLL, memory_order_relaxed);
        }

        v15 = a1[1];
        *a1 = v32;
        a1[1] = v31;
        if (!v15)
        {
          return a1;
        }

LABEL_18:
        std::__shared_weak_count::__release_shared[abi:ne200100](v15);
        return a1;
      }
    }
  }

  *(a1 + 40) = 0;
  v8 = a1[2];
  v9 = a1[3];
  if (v8 == v9)
  {
LABEL_17:
    v15 = a1[1];
    *a1 = 0;
    a1[1] = 0;
    if (!v15)
    {
      return a1;
    }

    goto LABEL_18;
  }

  v10 = v9 - 3;
  while (1)
  {
    v11 = v10[2] + 1;
    v12 = *(*v10 + 136);
    if (v11 < (*(*v10 + 144) - v12) >> 4)
    {
      break;
    }

    v13 = v10[1];
    if (v13)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v13);
      v8 = a1[2];
    }

    a1[3] = v10;
    v14 = v10 == v8;
    v10 -= 3;
    if (v14)
    {
      goto LABEL_17;
    }
  }

  v10[2] = v11;
  v17 = *(v12 + 16 * v11);
  v18 = *(v12 + 16 * v11 + 8);
  if (v18)
  {
    atomic_fetch_add_explicit((v18 + 8), 1uLL, memory_order_relaxed);
  }

  v15 = a1[1];
  *a1 = v17;
  if (v15)
  {
    goto LABEL_18;
  }

  return a1;
}

uint64_t *RIO_MTLX::GraphIterator::operator++(RIO_MTLX *a1)
{
  v1 = a1;
  v2 = *(a1 + 11);
  if (v2)
  {
    *(a1 + 11) = v2 - 1;
    return v1;
  }

  if ((*(a1 + 80) & 1) == 0)
  {
    a1 = *a1;
    if (*v1)
    {
      a1 = (*(*a1 + 24))(a1);
      if (a1)
      {
        v3 = v1[8];
        v4 = v1[9];
        if (v3 >= v4)
        {
          v7 = v1[7];
          v8 = 0xAAAAAAAAAAAAAAABLL * ((v3 - v7) >> 3);
          v9 = v8 + 1;
          if (v8 + 1 > 0xAAAAAAAAAAAAAAALL)
          {
            goto LABEL_143;
          }

          v10 = 0xAAAAAAAAAAAAAAABLL * ((v4 - v7) >> 3);
          if (2 * v10 > v9)
          {
            v9 = 2 * v10;
          }

          if (v10 >= 0x555555555555555)
          {
            v11 = 0xAAAAAAAAAAAAAAALL;
          }

          else
          {
            v11 = v9;
          }

          if (v11)
          {
            std::__allocate_at_least[abi:ne200100]<std::allocator<std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>>>((v1 + 7), v11);
          }

          v12 = 24 * v8;
          *v12 = *v1;
          v13 = v1[1];
          *(v12 + 8) = v13;
          if (v13)
          {
            atomic_fetch_add_explicit((v13 + 8), 1uLL, memory_order_relaxed);
          }

          *(24 * v8 + 0x10) = 0;
          v6 = (v12 + 24);
          v14 = v1[7];
          v15 = v1[8] - v14;
          v16 = v12 - v15;
          memcpy((v12 - v15), v14, v15);
          v17 = v1[7];
          v1[7] = v16;
          v1[8] = v6;
          v1[9] = 0;
          if (v17)
          {
            operator delete(v17);
          }
        }

        else
        {
          *v3 = *v1;
          v5 = v1[1];
          v3[1] = v5;
          if (v5)
          {
            atomic_fetch_add_explicit((v5 + 8), 1uLL, memory_order_relaxed);
          }

          v3[2] = 0;
          v6 = v3 + 3;
        }

        v1[8] = v6;
        v18 = (*(**v1 + 16))(v83);
        RIO_MTLX::NULL_EDGE(v18);
        if (v83[0] != RIO_MTLX::NULL_EDGE(void)::v || v84 != xmmword_27EE52708 || v86 != qword_27EE52718)
        {
          v20 = v86;
          v19 = v87;
          if (v87)
          {
            atomic_fetch_add_explicit(&v87->__shared_owners_, 1uLL, memory_order_relaxed);
            std::__shared_weak_count::__release_shared[abi:ne200100](v19);
            if (v20)
            {
              v81 = v86;
              v82 = v87;
              if (v87)
              {
                atomic_fetch_add_explicit(&v87->__shared_owners_, 1uLL, memory_order_relaxed);
              }

LABEL_31:
              v21 = v85;
              v80[0] = v84;
              v80[1] = v85;
              if (v85)
              {
                atomic_fetch_add_explicit((v85 + 8), 1uLL, memory_order_relaxed);
              }

              RIO_MTLX::GraphIterator::extendPathUpstream(v1, &v81, v80);
              if (v21)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](v21);
              }

              v22 = v82;
              if (v82)
              {
                goto LABEL_106;
              }

              goto LABEL_107;
            }
          }

          else if (v86)
          {
            v81 = v86;
            v82 = 0;
            goto LABEL_31;
          }
        }

        RIO_MTLX::Edge::~Edge(v83);
      }
    }
  }

  *(v1 + 80) = 0;
  while (1)
  {
    while (1)
    {
      v23 = *v1;
      if (*v1)
      {
        v24 = v1[1];
        if (v24)
        {
          atomic_fetch_add_explicit(&v24->__shared_owners_, 1uLL, memory_order_relaxed);
          RIO_MTLX::GraphIterator::returnPathDownstream(v1, v23);
          std::__shared_weak_count::__release_shared[abi:ne200100](v24);
        }

        else
        {
          RIO_MTLX::GraphIterator::returnPathDownstream(v1, v23);
        }
      }

      v25 = v1[8];
      if (v1[7] == v25)
      {
        RIO_MTLX::NULL_GRAPH_ITERATOR(a1);
        v35 = RIO_MTLX::NULL_GRAPH_ITERATOR(void)::v;
        v34 = *algn_27EE52778;
        if (*algn_27EE52778)
        {
          atomic_fetch_add_explicit((*algn_27EE52778 + 8), 1uLL, memory_order_relaxed);
        }

        v36 = v1[1];
        *v1 = v35;
        v1[1] = v34;
        if (v36)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v36);
        }

        v38 = qword_27EE52780;
        v37 = *algn_27EE52788;
        if (*algn_27EE52788)
        {
          atomic_fetch_add_explicit((*algn_27EE52788 + 8), 1uLL, memory_order_relaxed);
        }

        v39 = v1[3];
        v1[2] = v38;
        v1[3] = v37;
        if (v39)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v39);
        }

        if (v1 == &RIO_MTLX::NULL_GRAPH_ITERATOR(void)::v)
        {
          goto LABEL_141;
        }

        v40 = qword_27EE52790;
        if (v1[6])
        {
          v42 = (v1 + 5);
          v41 = v1[5];
          v43 = v1[4];
          v1[4] = (v1 + 5);
          *(v41 + 16) = 0;
          v1[5] = 0;
          v1[6] = 0;
          if (v43[1])
          {
            v44 = v43[1];
          }

          else
          {
            v44 = v43;
          }

          if (v44)
          {
            v45 = std::__tree<pxrInternal__aapl__pxrReserved__::TfToken>::_DetachedTreeCache::__detach_next(v44);
            v46 = v45;
            if (v40 == &unk_27EE52798)
            {
              v40 = &unk_27EE52798;
            }

            else
            {
              v47 = v45;
              v48 = v44;
              v49 = v40;
              do
              {
                v44 = v47;
                v51 = v49[4];
                v50 = v49[5];
                if (v50)
                {
                  atomic_fetch_add_explicit((v50 + 8), 1uLL, memory_order_relaxed);
                }

                v52 = v48[5];
                v48[4] = v51;
                v48[5] = v50;
                if (v52)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v52);
                }

                v53 = *v42;
                v54 = (v1 + 5);
                v55 = (v1 + 5);
                if (*v42)
                {
                  do
                  {
                    while (1)
                    {
                      v54 = v53;
                      if (v48[4] >= v53[4])
                      {
                        break;
                      }

                      v53 = *v53;
                      v55 = v54;
                      if (!*v54)
                      {
                        goto LABEL_87;
                      }
                    }

                    v53 = v53[1];
                  }

                  while (v53);
                  v55 = v54 + 1;
                }

LABEL_87:
                std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,std::set<pxrInternal__aapl__pxrReserved__::TfToken>>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::SdfPath,std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,std::set<pxrInternal__aapl__pxrReserved__::TfToken>>,std::less<pxrInternal__aapl__pxrReserved__::SdfPath>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::SdfPath,std::set<pxrInternal__aapl__pxrReserved__::TfToken>>>>::__insert_node_at(v1 + 4, v54, v55, v48);
                if (v44)
                {
                  v46 = std::__tree<pxrInternal__aapl__pxrReserved__::TfToken>::_DetachedTreeCache::__detach_next(v44);
                  v47 = v46;
                }

                else
                {
                  v47 = 0;
                }

                v56 = v49[1];
                if (v56)
                {
                  do
                  {
                    v40 = v56;
                    v56 = *v56;
                  }

                  while (v56);
                }

                else
                {
                  do
                  {
                    v40 = v49[2];
                    v57 = *v40 == v49;
                    v49 = v40;
                  }

                  while (!v57);
                }

                if (!v44)
                {
                  break;
                }

                v48 = v44;
                v49 = v40;
              }

              while (v40 != &unk_27EE52798);
            }

            std::__tree<std::shared_ptr<RIO_MTLX::Element const>>::destroy((v1 + 4), v44);
            if (!v46)
            {
              goto LABEL_115;
            }

            for (i = v46[2]; i; i = i[2])
            {
              v46 = i;
            }

            v59 = (v1 + 4);
            v60 = v46;
          }

          else
          {
            v59 = (v1 + 4);
            v60 = 0;
          }

          std::__tree<std::shared_ptr<RIO_MTLX::Element const>>::destroy(v59, v60);
        }

LABEL_115:
        if (v40 != &unk_27EE52798)
        {
          operator new();
        }

        v62 = qword_27EE527A8;
        v63 = unk_27EE527B0;
        v64 = unk_27EE527B0 - qword_27EE527A8;
        v65 = v1[9];
        v66 = v1[7];
        if (v65 - v66 < (unk_27EE527B0 - qword_27EE527A8))
        {
          v67 = 0xAAAAAAAAAAAAAAABLL * (v64 >> 3);
          if (v66)
          {
            std::vector<std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>>::clear[abi:ne200100](v1 + 7);
            operator delete(v1[7]);
            v65 = 0;
            v1[7] = 0;
            v1[8] = 0;
            v1[9] = 0;
          }

          if (v67 <= 0xAAAAAAAAAAAAAAALL)
          {
            v68 = 0xAAAAAAAAAAAAAAABLL * (v65 >> 3);
            v69 = 2 * v68;
            if (2 * v68 <= v67)
            {
              v69 = v67;
            }

            if (v68 >= 0x555555555555555)
            {
              v70 = 0xAAAAAAAAAAAAAAALL;
            }

            else
            {
              v70 = v69;
            }

            std::vector<std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>>::__vallocate[abi:ne200100]((v1 + 7), v70);
          }

LABEL_143:
          std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
        }

        v71 = v1[8];
        v72 = v71 - v66;
        if (v71 - v66 >= v64)
        {
          if (qword_27EE527A8 != unk_27EE527B0)
          {
            do
            {
              std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>::operator=[abi:ne200100](v66, v62);
              v62 += 3;
              v66 += 24;
            }

            while (v62 != v63);
            v71 = v1[8];
          }

          while (v71 != v66)
          {
            v75 = *(v71 - 2);
            if (v75)
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](v75);
            }

            v71 -= 24;
          }
        }

        else
        {
          if (v71 != v66)
          {
            v73 = v71 - v66;
            v74 = qword_27EE527A8;
            do
            {
              std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>::operator=[abi:ne200100](v66, v74);
              v74 += 3;
              v66 += 24;
              v73 -= 24;
            }

            while (v73);
            v71 = v1[8];
          }

          v66 = std::__uninitialized_allocator_copy_impl[abi:ne200100]<std::allocator<std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>>,std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>*,std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>*,std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>*>((v1 + 7), (v62 + v72), v63, v71);
        }

        v1[8] = v66;
LABEL_141:
        *(v1 + 5) = xmmword_27EE527C0;
        return v1;
      }

      v26 = *(v25 - 8) + 1;
      if (v26 < (*(**(v25 - 24) + 24))(*(v25 - 24)))
      {
        break;
      }

      v31 = *(v25 - 24);
      v32 = *(v25 - 16);
      if (v32)
      {
        atomic_fetch_add_explicit(&v32->__shared_owners_, 1uLL, memory_order_relaxed);
        RIO_MTLX::GraphIterator::returnPathDownstream(v1, v31);
        std::__shared_weak_count::__release_shared[abi:ne200100](v32);
      }

      else
      {
        RIO_MTLX::GraphIterator::returnPathDownstream(v1, v31);
      }

      v33 = v1[8];
      a1 = *(v33 - 16);
      if (a1)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](a1);
      }

      v1[8] = v33 - 24;
    }

    v27 = *(v25 - 24);
    ++*(v25 - 8);
    v28 = (*(*v27 + 16))(v83);
    RIO_MTLX::NULL_EDGE(v28);
    if (v83[0] == RIO_MTLX::NULL_EDGE(void)::v)
    {
      v29 = v86;
      if (v84 == xmmword_27EE52708 && v86 == qword_27EE52718)
      {
        goto LABEL_60;
      }
    }

    else
    {
      v29 = v86;
    }

    v30 = v87;
    if (v87)
    {
      break;
    }

    if (v29)
    {
      v78 = v29;
      v79 = 0;
      goto LABEL_101;
    }

LABEL_60:
    RIO_MTLX::Edge::~Edge(v83);
  }

  atomic_fetch_add_explicit(&v87->__shared_owners_, 1uLL, memory_order_relaxed);
  std::__shared_weak_count::__release_shared[abi:ne200100](v30);
  if (!v29)
  {
    goto LABEL_60;
  }

  v78 = v86;
  v79 = v87;
  if (v87)
  {
    atomic_fetch_add_explicit(&v87->__shared_owners_, 1uLL, memory_order_relaxed);
  }

LABEL_101:
  v58 = v85;
  v77[0] = v84;
  v77[1] = v85;
  if (v85)
  {
    atomic_fetch_add_explicit((v85 + 8), 1uLL, memory_order_relaxed);
  }

  RIO_MTLX::GraphIterator::extendPathUpstream(v1, &v78, v77);
  if (v58)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v58);
  }

  v22 = v79;
  if (v79)
  {
LABEL_106:
    std::__shared_weak_count::__release_shared[abi:ne200100](v22);
  }

LABEL_107:
  RIO_MTLX::Edge::~Edge(v83);
  return v1;
}

void RIO_MTLX::GraphIterator::extendPathUpstream(unint64_t *a1, unint64_t *a2, unint64_t *a3)
{
  std::__tree<std::shared_ptr<RIO_MTLX::Element>>::__emplace_unique_key_args<std::shared_ptr<RIO_MTLX::Element>,std::shared_ptr<RIO_MTLX::Element> const&>((a1 + 4), a2);
  v7 = *a2;
  v6 = a2[1];
  if (v6)
  {
    atomic_fetch_add_explicit((v6 + 8), 1uLL, memory_order_relaxed);
  }

  v8 = a1[1];
  *a1 = v7;
  a1[1] = v6;
  if (v8)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v8);
  }

  v10 = *a3;
  v9 = a3[1];
  if (v9)
  {
    atomic_fetch_add_explicit((v9 + 8), 1uLL, memory_order_relaxed);
  }

  v11 = a1[3];
  a1[2] = v10;
  a1[3] = v9;
  if (v11)
  {

    std::__shared_weak_count::__release_shared[abi:ne200100](v11);
  }
}

void RIO_MTLX::GraphIterator::returnPathDownstream(void *a1, unint64_t a2)
{
  v4 = a1 + 5;
  v3 = a1[5];
  if (v3)
  {
    v5 = v4;
    v6 = v3;
    do
    {
      v7 = v6[4];
      v8 = v7 >= a2;
      v9 = v7 < a2;
      if (v8)
      {
        v5 = v6;
      }

      v6 = v6[v9];
    }

    while (v6);
    if (v5 != v4 && v5[4] <= a2)
    {
      v10 = v5[1];
      if (v10)
      {
        do
        {
          v11 = v10;
          v10 = *v10;
        }

        while (v10);
      }

      else
      {
        v12 = v5;
        do
        {
          v11 = v12[2];
          v13 = *v11 == v12;
          v12 = v11;
        }

        while (!v13);
      }

      if (a1[4] == v5)
      {
        a1[4] = v11;
      }

      --a1[6];
      std::__tree_remove[abi:ne200100]<std::__tree_node_base<void *> *>(v3, v5);
      v14 = v5[5];
      if (v14)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v14);
      }

      operator delete(v5);
    }
  }

  v15 = a1[1];
  *a1 = 0;
  a1[1] = 0;
  if (v15)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v15);
  }

  v16 = a1[3];
  a1[2] = 0;
  a1[3] = 0;
  if (v16)
  {

    std::__shared_weak_count::__release_shared[abi:ne200100](v16);
  }
}

uint64_t RIO_MTLX::InheritanceIterator::operator++(uint64_t a1)
{
  v2 = *(a1 + 40);
  if (v2)
  {
    *(a1 + 40) = v2 - 1;
  }

  else
  {
    v4 = *a1;
    if (*a1)
    {
      InheritString = RIO_MTLX::Element::getInheritString(*a1);
      RIO_MTLX::Element::resolveRootNameReference<RIO_MTLX::Element>(v4, InheritString, &v26);
      v6 = v26;
      if (!v26)
      {
        goto LABEL_24;
      }

      v7 = *a1;
      v8 = *(v26 + 47);
      if (v8 >= 0)
      {
        v9 = *(v26 + 47);
      }

      else
      {
        v9 = *(v26 + 32);
      }

      v10 = *(v7 + 47);
      v11 = v10;
      if ((v10 & 0x80u) != 0)
      {
        v10 = *(v7 + 4);
      }

      if (v9 == v10)
      {
        v12 = v8 >= 0 ? (v26 + 24) : *(v26 + 24);
        v15 = *(v7 + 3);
        v13 = v7 + 24;
        v14 = v15;
        v16 = v11 >= 0 ? v13 : v14;
        if (!memcmp(v12, v16, v9))
        {
          goto LABEL_21;
        }
      }

      v17 = v27;
      v26 = 0;
      v27 = 0;
      if (v17 && (std::__shared_weak_count::__release_shared[abi:ne200100](v17), (v6 = v26) != 0))
      {
LABEL_21:
        v18 = v27;
        if (v27)
        {
          atomic_fetch_add_explicit(&v27->__shared_owners_, 1uLL, memory_order_relaxed);
          std::__shared_weak_count::__release_shared[abi:ne200100](v18);
          v6 = v26;
          v19 = v27;
          if (v27)
          {
            atomic_fetch_add_explicit(&v27->__shared_owners_, 1uLL, memory_order_relaxed);
          }
        }

        else
        {
          v19 = 0;
        }

        v21 = *(a1 + 24);
        if (!v21)
        {
LABEL_32:
          operator new();
        }

        while (1)
        {
          while (1)
          {
            v22 = v21;
            v23 = v21[4];
            if (v23 <= v6)
            {
              break;
            }

            v21 = *v22;
            if (!*v22)
            {
              goto LABEL_32;
            }
          }

          if (v23 >= v6)
          {
            break;
          }

          v21 = v22[1];
          if (!v21)
          {
            goto LABEL_32;
          }
        }

        if (v19)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v19);
        }

        v20 = v26;
      }

      else
      {
LABEL_24:
        v20 = 0;
      }

      v24 = v27;
      if (v27)
      {
        atomic_fetch_add_explicit(&v27->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      v25 = *(a1 + 8);
      *a1 = v20;
      *(a1 + 8) = v24;
      if (v25)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v25);
      }

      if (v27)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v27);
      }
    }
  }

  return a1;
}

void sub_2476FA70C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, std::__shared_weak_count *a10)
{
  if ((v11 & 1) == 0)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v10);
  }

  if (a10)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a10);
  }

  _Unwind_Resume(exception_object);
}

void *std::pair<std::shared_ptr<RIO_MTLX::Element>,unsigned long>::operator=[abi:ne200100](void *a1, uint64_t *a2)
{
  v5 = *a2;
  v4 = a2[1];
  if (v4)
  {
    atomic_fetch_add_explicit((v4 + 8), 1uLL, memory_order_relaxed);
  }

  v6 = a1[1];
  *a1 = v5;
  a1[1] = v4;
  if (v6)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v6);
  }

  a1[2] = a2[2];
  return a1;
}

void realityio::MaterialXStandalone::makeSource(realityio::MaterialXStandalone *this@<X0>, const __CFURL *a2@<X1>, uint64_t a3@<X8>)
{
  std::string::basic_string[abi:ne200100]<0>(__p, a2);
  realityio::mtlx::mtlxToDataSource(__p, this, &v9);
  v6 = v9;
  v9 = 0uLL;
  *a3 = 1;
  *(a3 + 8) = v6;
  if (v8 < 0)
  {
    operator delete(__p[0]);
  }
}

void sub_2476FA7EC(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

void realityio::MaterialXStandalone::makeSource(realityio::MaterialXStandalone *this@<X0>, char *__s@<X2>, uint64_t a3@<X8>)
{
  std::string::basic_string[abi:ne200100]<0>(v22, __s);
  realityio::stringFromCFData(this, &__p);
  realityio::mtlx::mtlxToDataSource(v22, &__p, &v26);
  if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(__p.__r_.__value_.__l.__data_);
  }

  if (SHIBYTE(v23) < 0)
  {
    operator delete(v22[0]);
  }

  v8 = v26;
  if (v26)
  {
    v9 = v27;
    if (v27)
    {
      atomic_fetch_add_explicit(&v27->__shared_owners_, 1uLL, memory_order_relaxed);
    }

    *a3 = 1;
    *(a3 + 8) = v8;
    *(a3 + 16) = v9;
    if (v9)
    {
LABEL_9:
      std::__shared_weak_count::__release_shared[abi:ne200100](v9);
    }
  }

  else
  {
    std::string::basic_string[abi:ne200100]<0>(&__p, "Error reading material ");
    v10 = std::system_category();
    if ((__p.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
    {
      size = HIBYTE(__p.__r_.__value_.__r.__words[2]);
    }

    else
    {
      size = __p.__r_.__value_.__l.__size_;
    }

    v12 = strlen(__s);
    v13 = &v19;
    std::string::basic_string[abi:ne200100](&v19, size + v12);
    if ((v19.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
    {
      v13 = v19.__r_.__value_.__r.__words[0];
    }

    if (size)
    {
      if ((__p.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
      {
        p_p = &__p;
      }

      else
      {
        p_p = __p.__r_.__value_.__r.__words[0];
      }

      memmove(v13, p_p, size);
    }

    v15 = v13 + size;
    if (v12)
    {
      memmove(v15, __s, v12);
    }

    v15[v12] = 0;
    v16 = std::string::append(&v19, "");
    v17 = *&v16->__r_.__value_.__l.__data_;
    v21 = v16->__r_.__value_.__r.__words[2];
    *v20 = v17;
    v16->__r_.__value_.__l.__size_ = 0;
    v16->__r_.__value_.__r.__words[2] = 0;
    v16->__r_.__value_.__r.__words[0] = 0;
    realityio::DetailedError::DetailedError(v22, 0, v10, v20);
    *(a3 + 8) = *v22;
    v18 = v24;
    *(a3 + 24) = v23;
    *(a3 + 32) = v18;
    *(a3 + 39) = *(&v24 + 7);
    LOBYTE(v18) = HIBYTE(v24);
    v24 = 0uLL;
    v23 = 0;
    *a3 = 0;
    *(a3 + 47) = v18;
    if (SHIBYTE(v21) < 0)
    {
      operator delete(v20[0]);
    }

    if (SHIBYTE(v19.__r_.__value_.__r.__words[2]) < 0)
    {
      operator delete(v19.__r_.__value_.__l.__data_);
    }

    if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
    {
      operator delete(__p.__r_.__value_.__l.__data_);
    }

    v9 = v27;
    if (v27)
    {
      goto LABEL_9;
    }
  }
}

void sub_2476FAA00(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, void *__p, uint64_t a11, int a12, __int16 a13, char a14, char a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19, uint64_t a20, int a21, __int16 a22, char a23, char a24, uint64_t a25, uint64_t a26, void *a27, uint64_t a28, int a29, __int16 a30, char a31, char a32)
{
  if (a15 < 0)
  {
    operator delete(__p);
  }

  if (a32 < 0)
  {
    operator delete(a27);
  }

  v34 = *(v32 - 64);
  if (v34)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v34);
  }

  _Unwind_Resume(exception_object);
}

void realityio::MaterialXStandalone::generateSyncOnEngineQueue(uint64_t a1@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X2>, void *a4@<X8>)
{
  v13[3] = *MEMORY[0x277D85DE8];
  v7 = *a2;
  v6 = a2[1];
  if (v6)
  {
    atomic_fetch_add_explicit(&v6->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  std::__function::__value_func<__CFData const* ()(char const*)>::__value_func[abi:ne200100](v10, a3);
  v9[0] = v7;
  v9[1] = v6;
  if (v6)
  {
    atomic_fetch_add_explicit(&v6->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  std::__function::__value_func<__CFData const* ()(char const*)>::__value_func[abi:ne200100](&v12, v10);
  std::__function::__value_func<__CFData const* ()(char const*)>::~__value_func[abi:ne200100](&v12);
  if (v6)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v6);
    v11[0] = &unk_28595D758;
    std::__function::__value_func<__CFData const* ()(char const*)>::~__value_func[abi:ne200100](v10);
    std::__shared_weak_count::__release_shared[abi:ne200100](v6);
  }

  else
  {
    v11[0] = &unk_28595D758;
    std::__function::__value_func<__CFData const* ()(char const*)>::~__value_func[abi:ne200100](v10);
  }

  dispatch_assert_queue_V2(v11[8]);
  realityio::buildMaterialXAsset(v11, v11[6], &v12);
  *a4 = v12;
  v12 = 0;
  realityio::WrappedRERef<REAsset *>::~WrappedRERef(v13);
  realityio::WrappedRERef<REAsset *>::~WrappedRERef(&v12);
  v8 = *MEMORY[0x277D85DE8];
}

void sub_2476FABDC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  std::__function::__value_func<__CFData const* ()(char const*)>::~__value_func[abi:ne200100](v4 - 72);
  if (v3)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v3);
  }

  std::__function::__value_func<__CFData const* ()(char const*)>::~__value_func[abi:ne200100](va);
  if (v3)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v3);
  }

  _Unwind_Resume(a1);
}

void sub_2476FB16C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, char a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, char a17, uint64_t a18, uint64_t a19, uint64_t a20, char a21)
{
  if (a2)
  {
    __clang_call_terminate(exception_object);
  }

  _Unwind_Resume(exception_object);
}

uint64_t realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0::~$_0(uint64_t a1)
{
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100](a1 + 16);
  v2 = *(a1 + 8);
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }

  return a1;
}

void *realityio::anonymous namespace::Standalone::Standalone(void *a1, uint64_t a2, void *a3, uint64_t a4)
{
  *a1 = &unk_28595D7D8;
  std::__function::__value_func<__CFData const* ()(char const*)>::__value_func[abi:ne200100]((a1 + 1), a4);
  a1[5] = a2;
  if (a2)
  {
    RERetain();
  }

  v7 = a3[1];
  a1[6] = *a3;
  a1[7] = v7;
  if (v7)
  {
    atomic_fetch_add_explicit((v7 + 8), 1uLL, memory_order_relaxed);
  }

  a1[8] = 0;
  v11 = REEngineConfigurationCreateFromEngine();
  v8 = REEngineConfigurationGetEngineQueue();
  v9 = a1[8];
  a1[8] = v8;

  realityio::WrappedRERef<REEngineConfigurationWrapper *>::~WrappedRERef(&v11);
  return a1;
}

uint64_t realityio::anonymous namespace::StandaloneSynchronous::performBlockSyncOnEngineQueue(uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (!v3)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  v4 = *(*v3 + 48);

  return v4();
}

void realityio::anonymous namespace::Standalone::resolveImageAssets(uint64_t a1@<X0>, pxrInternal__aapl__pxrReserved__::SdfPath **a2@<X1>, void *a3@<X8>)
{
  v28[0] = &unk_28595D828;
  v28[1] = a1;
  v30[0] = 0;
  v30[1] = 0;
  v29 = v30;
  a3[1] = 0;
  a3[2] = 0;
  *a3 = 0;
  v4 = *a2;
  v5 = a2[1];
  if (*a2 == v5)
  {
    v16 = 0;
  }

  else
  {
    do
    {
      v7 = *(a1 + 48);
      pxrInternal__aapl__pxrReserved__::SdfPath::GetPrimPath(&v27, v4);
      v8 = realityio::mtlx::NeoDataSource::primFromPath(v7, &v27);
      v10 = v9;
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v27);
      NameToken = pxrInternal__aapl__pxrReserved__::SdfPath::GetNameToken(v4);
      v24 = v8;
      v25 = v10;
      v12 = *NameToken;
      v26 = v12;
      if ((v12 & 7) != 0)
      {
        v13 = (v12 & 0xFFFFFFFFFFFFFFF8);
        if ((atomic_fetch_add_explicit(v13, 2u, memory_order_relaxed) & 1) == 0)
        {
          v26 = v13;
        }
      }

      pxrInternal__aapl__pxrReserved__::SdfAssetPath::SdfAssetPath(&v22);
      (*(**(a1 + 48) + 224))(v20);
      if (SHIBYTE(v22.__r_.__value_.__r.__words[2]) < 0)
      {
        std::string::__init_copy_ctor_external(&v17, v22.__r_.__value_.__l.__data_, v22.__r_.__value_.__l.__size_);
      }

      else
      {
        v17 = v22;
      }

      if (SHIBYTE(v23.__r_.__value_.__r.__words[2]) < 0)
      {
        std::string::__init_copy_ctor_external(&__p, v23.__r_.__value_.__l.__data_, v23.__r_.__value_.__l.__size_);
      }

      else
      {
        __p = v23;
      }

      realityio::TextureBuilder::createStandaloneTextureAsset(v28, &v17, v20, &v19);
      v14 = a3[1];
      if (v14 >= a3[2])
      {
        v15 = std::vector<realityio::WrappedRERef<REAsset *>>::__emplace_back_slow_path<realityio::WrappedRERef<REAsset *>>(a3, &v19);
      }

      else
      {
        *v14 = v19;
        v15 = (v14 + 1);
        v19 = 0;
      }

      a3[1] = v15;
      realityio::WrappedRERef<REAsset *>::~WrappedRERef(&v19);
      if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(__p.__r_.__value_.__l.__data_);
      }

      if (SHIBYTE(v17.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v17.__r_.__value_.__l.__data_);
      }

      if (v21 < 0)
      {
        operator delete(v20[0]);
      }

      if (SHIBYTE(v23.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v23.__r_.__value_.__l.__data_);
      }

      if (SHIBYTE(v22.__r_.__value_.__r.__words[2]) < 0)
      {
        operator delete(v22.__r_.__value_.__l.__data_);
      }

      if ((v26 & 7) != 0)
      {
        atomic_fetch_add_explicit((v26 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      v4 = (v4 + 8);
    }

    while (v4 != v5);
    v16 = v30[0];
  }

  v28[0] = &unk_28595D828;
  std::__tree<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::__map_value_compare<std::string,std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>>>::destroy(&v29, v16);
}

void sub_2476FB63C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, void *__p, uint64_t a12, int a13, __int16 a14, char a15, char a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, char a21, void *a22, uint64_t a23, int a24, __int16 a25, char a26, char a27, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37)
{
  if (a16 < 0)
  {
    operator delete(__p);
  }

  if (a27 < 0)
  {
    operator delete(a22);
  }

  pxrInternal__aapl__pxrReserved__::SdfAssetPath::~SdfAssetPath(&a29);
  if ((a37 & 7) != 0)
  {
    atomic_fetch_add_explicit((a37 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  std::vector<realityio::WrappedRERef<REAsset *>>::__destroy_vector::operator()[abi:ne200100](&a29);
  *(v37 - 128) = a10;
  std::__tree<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::__map_value_compare<std::string,std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>>>::destroy(v37 - 112, *(v37 - 104));
  _Unwind_Resume(a1);
}

void realityio::anonymous namespace::StandaloneSynchronous::~StandaloneSynchronous(id *this)
{

  JUMPOUT(0x24C1A91B0);
}

uint64_t realityio::anonymous namespace::LocalTextureContext::getTextureAssetWithKey@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  v4 = result + 24;
  v5 = *(result + 24);
  if (!v5)
  {
    goto LABEL_40;
  }

  v6 = *(a2 + 23);
  v7 = v6 >= 0 ? *(a2 + 23) : *(a2 + 8);
  v8 = v6 >= 0 ? a2 : *a2;
  v9 = result + 24;
  do
  {
    v10 = *(v5 + 55);
    if (v10 >= 0)
    {
      v11 = *(v5 + 55);
    }

    else
    {
      v11 = *(v5 + 40);
    }

    if (v10 >= 0)
    {
      v12 = (v5 + 32);
    }

    else
    {
      v12 = *(v5 + 32);
    }

    if (v7 >= v11)
    {
      v13 = v11;
    }

    else
    {
      v13 = v7;
    }

    result = memcmp(v12, v8, v13);
    v14 = v11 < v7;
    if (result)
    {
      v14 = result < 0;
    }

    v15 = !v14;
    if (v14)
    {
      v16 = 8;
    }

    else
    {
      v16 = 0;
    }

    if (v15)
    {
      v9 = v5;
    }

    v5 = *(v5 + v16);
  }

  while (v5);
  if (v9 == v4)
  {
    goto LABEL_40;
  }

  v17 = *(v9 + 55);
  if (v17 >= 0)
  {
    v18 = *(v9 + 55);
  }

  else
  {
    v18 = *(v9 + 40);
  }

  if (v17 >= 0)
  {
    v19 = (v9 + 32);
  }

  else
  {
    v19 = *(v9 + 32);
  }

  if (v18 >= v7)
  {
    v20 = v7;
  }

  else
  {
    v20 = v18;
  }

  result = memcmp(v8, v19, v20);
  v21 = v7 < v18;
  if (result)
  {
    v21 = result < 0;
  }

  if (v21)
  {
LABEL_40:
    *a3 = 0;
  }

  else
  {
    result = *(v9 + 56);
    *a3 = result;
    if (result)
    {

      return RERetain();
    }
  }

  return result;
}

void sub_2476FB8F0(_Unwind_Exception *exception_object)
{
  if (*(v1 + 23) < 0)
  {
    operator delete(*v1);
  }

  _Unwind_Resume(exception_object);
}

uint64_t realityio::anonymous namespace::LocalTextureContext::dataFromRawPath@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X1>, uint64_t *a3@<X8>)
{
  *a3 = 0;
  result = *(*(a1 + 8) + 32);
  if (result)
  {
    if (*(a2 + 23) >= 0)
    {
      v5 = a2;
    }

    else
    {
      v5 = *a2;
    }

    v6 = v5;
    result = (*(*result + 48))(result, &v6);
    *a3 = result;
  }

  return result;
}

void realityio::anonymous namespace::Standalone::~Standalone(id *this)
{
  *this = &unk_28595D7D8;

  v2 = this[7];
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }

  realityio::WrappedRERef<REEngine *>::~WrappedRERef(this + 5);
  std::__function::__value_func<__CFData const* ()(char const*)>::~__value_func[abi:ne200100]((this + 1));
}

void ___ZN9realityio12_GLOBAL__N_115StandaloneAsync7executeENSt3__18functionIFvNS_12WrappedRERefIP7REAssetEEEEE_block_invoke(uint64_t a1)
{
  v1 = *(a1 + 32);
  realityio::buildMaterialXAsset(v1, *(v1 + 48), &v5);
  v2 = *(v1 + 224);
  if (v2 != v5)
  {
    *(v1 + 224) = v5;
    v5 = v2;
  }

  realityio::WrappedRERef<REAsset *>::~WrappedRERef(&v6);
  realityio::WrappedRERef<REAsset *>::~WrappedRERef(&v5);
  v3 = *(v1 + 64);
  block[0] = MEMORY[0x277D85DD0];
  block[1] = 3221225472;
  block[2] = ___ZN9realityio12_GLOBAL__N_115StandaloneAsync7executeENSt3__18functionIFvNS_12WrappedRERefIP7REAssetEEEEE_block_invoke_2;
  block[3] = &__block_descriptor_40_e5_v8__0l;
  block[4] = v1;
  dispatch_async(v3, block);
}

void ___ZN9realityio12_GLOBAL__N_115StandaloneAsync7executeENSt3__18functionIFvNS_12WrappedRERefIP7REAssetEEEEE_block_invoke_2(uint64_t a1)
{
  v1 = *(a1 + 32);
  v2 = (v1 + 9);
  v3 = (**v1)(v1);

  realityio::AssetLoadTracker::loadAssets(v2, v3, 0);
}

uint64_t std::__function::__value_func<__CFData const* ()(char const*)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

uint64_t std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::__value_func[abi:ne200100](uint64_t a1, uint64_t a2)
{
  v3 = *(a2 + 24);
  if (v3)
  {
    if (v3 == a2)
    {
      *(a1 + 24) = a1;
      (*(**(a2 + 24) + 24))(*(a2 + 24), a1);
    }

    else
    {
      *(a1 + 24) = (*(*v3 + 16))(v3);
    }
  }

  else
  {
    *(a1 + 24) = 0;
  }

  return a1;
}

void std::__shared_ptr_emplace<realityio::anonymous namespace::StandaloneAsync>::~__shared_ptr_emplace(std::__shared_weak_count *a1)
{
  a1->__vftable = &unk_28595D888;
  std::__shared_weak_count::~__shared_weak_count(a1);

  JUMPOUT(0x24C1A91B0);
}

uint64_t realityio::anonymous namespace::StandaloneAsync::performBlockSyncOnEngineQueue(uint64_t a1, uint64_t a2)
{
  v11[4] = *MEMORY[0x277D85DE8];
  if (*(a1 + 184))
  {
    v3 = *(a2 + 24);
    if (!v3)
    {
      std::__throw_bad_function_call[abi:ne200100]();
    }

    v4 = *(*v3 + 48);
    v5 = *MEMORY[0x277D85DE8];

    return v4();
  }

  else
  {
    v8 = *(a1 + 64);
    v10[0] = MEMORY[0x277D85DD0];
    v10[1] = 3321888768;
    v10[2] = ___ZN9realityio12_GLOBAL__N_115StandaloneAsync29performBlockSyncOnEngineQueueENSt3__18functionIFvvEEE_block_invoke;
    v10[3] = &__block_descriptor_72_ea8_40c27_ZTSNSt3__18functionIFvvEEE_e5_v8__0l;
    v10[4] = a1;
    std::__function::__value_func<void ()(void)>::__value_func[abi:ne200100](v11, a2);
    dispatch_sync(v8, v10);

    result = std::__function::__value_func<void ()(void)>::~__value_func[abi:ne200100](v11);
    v9 = *MEMORY[0x277D85DE8];
  }

  return result;
}

void sub_2476FBF9C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, std::__shared_weak_count *a11)
{
  if (a11)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a11);
  }

  std::__shared_weak_count::__release_shared[abi:ne200100](v11);
  _Unwind_Resume(a1);
}

void realityio::anonymous namespace::StandaloneAsync::~StandaloneAsync(realityio::_anonymous_namespace_::StandaloneAsync *this)
{
  *this = &unk_28595D8D8;
  *(this + 9) = &unk_28595D930;
  realityio::WrappedRERef<REAsset *>::~WrappedRERef(this + 28);
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100](this + 192);

  *(this + 9) = &unk_28595BAB0;
  v2 = (this + 144);
  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v2);
  std::recursive_mutex::~recursive_mutex((this + 80));
}

{
  *this = &unk_28595D8D8;
  *(this + 9) = &unk_28595D930;
  realityio::WrappedRERef<REAsset *>::~WrappedRERef(this + 28);
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100](this + 192);

  *(this + 9) = &unk_28595BAB0;
  v2 = (this + 144);
  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v2);
  std::recursive_mutex::~recursive_mutex((this + 80));
  MEMORY[0x24C1A91B0]();
}

uint64_t realityio::anonymous namespace::StandaloneAsync::onComplete(id *this)
{
  v10 = *MEMORY[0x277D85DE8];
  v2 = (this + 24);
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::__value_func[abi:ne200100](v9, (this + 24));
  v3 = this[8];
  v7[0] = MEMORY[0x277D85DD0];
  v7[1] = 3321888768;
  v7[2] = ___ZN9realityio12_GLOBAL__N_115StandaloneAsync10onCompleteEv_block_invoke;
  v7[3] = &__block_descriptor_72_ea8_40c63_ZTSNSt3__18functionIFvN9realityio12WrappedRERefIP7REAssetEEEEE_e5_v8__0l;
  v7[4] = this;
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::__value_func[abi:ne200100](v8, v9);
  dispatch_async(v3, v7);

  v4 = this[27];
  this[27] = 0;
  if (v4 == v2)
  {
    (*(*v4 + 32))(v4);
  }

  else if (v4)
  {
    (*(*v4 + 40))(v4);
  }

  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100](v8);
  result = std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100](v9);
  v6 = *MEMORY[0x277D85DE8];
  return result;
}

void sub_2476FC294(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);

  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100](va);
  _Unwind_Resume(a1);
}

uint64_t ___ZN9realityio12_GLOBAL__N_115StandaloneAsync29performBlockSyncOnEngineQueueENSt3__18functionIFvvEEE_block_invoke(uint64_t a1)
{
  v1 = *(a1 + 32);
  ++*(v1 + 184);
  v2 = *(a1 + 64);
  if (!v2)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  result = (*(*v2 + 48))(v2);
  --*(v1 + 184);
  return result;
}

void *___ZN9realityio12_GLOBAL__N_115StandaloneAsync10onCompleteEv_block_invoke(uint64_t a1)
{
  v4 = *(*(a1 + 32) + 224);
  if (v4)
  {
    RERetain();
  }

  v2 = *(a1 + 64);
  if (!v2)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  (*(*v2 + 48))(v2, &v4);
  return realityio::WrappedRERef<REAsset *>::~WrappedRERef(&v4);
}

void sub_2476FC3B4(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va, a2);
  realityio::WrappedRERef<REAsset *>::~WrappedRERef(va);
  _Unwind_Resume(a1);
}

void *std::__function::__func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::~__func(void *a1)
{
  *a1 = &unk_28595D9E0;
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100]((a1 + 3));
  v2 = a1[2];
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }

  return a1;
}

void std::__function::__func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::~__func(void *a1)
{
  *a1 = &unk_28595D9E0;
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100]((a1 + 3));
  v2 = a1[2];
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }

  JUMPOUT(0x24C1A91B0);
}

void sub_2476FC51C(_Unwind_Exception *a1)
{
  v3 = v1[2];
  if (v3)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v3);
  }

  operator delete(v1);
  _Unwind_Resume(a1);
}

uint64_t std::__function::__func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::__clone(uint64_t a1, void *a2)
{
  v3 = *(a1 + 8);
  v2 = *(a1 + 16);
  *a2 = &unk_28595D9E0;
  a2[1] = v3;
  a2[2] = v2;
  if (v2)
  {
    atomic_fetch_add_explicit((v2 + 8), 1uLL, memory_order_relaxed);
  }

  return std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::__value_func[abi:ne200100]((a2 + 3), a1 + 24);
}

void sub_2476FC5A0(_Unwind_Exception *exception_object)
{
  v3 = *(v1 + 16);
  if (v3)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v3);
  }

  _Unwind_Resume(exception_object);
}

void std::__function::__func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::destroy_deallocate(void *a1)
{
  std::__function::__alloc_func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::destroy[abi:ne200100](a1 + 8);

  operator delete(a1);
}

void *std::__function::__func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::operator()(uint64_t a1, uint64_t *a2)
{
  v3 = *a2;
  v6 = v3;
  v7 = v3;
  *a2 = 0;
  if (v3)
  {
    RERetain();
  }

  v4 = *(a1 + 48);
  if (!v4)
  {
    std::__throw_bad_function_call[abi:ne200100]();
  }

  (*(*v4 + 48))(v4, &v7);
  realityio::WrappedRERef<REAsset *>::~WrappedRERef(&v7);
  return realityio::WrappedRERef<REAsset *>::~WrappedRERef(&v6);
}

uint64_t std::__function::__func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::target(uint64_t a1, uint64_t a2)
{
  {
    return a1 + 8;
  }

  else
  {
    return 0;
  }
}

void std::__function::__alloc_func<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0,std::allocator<realityio::MaterialXStandalone::generateAsync(REEngine *,std::shared_ptr<realityio::mtlx::NeoDataSource>,std::function<__CFData const* ()(char const*)>,std::function<void ()(realityio::WrappedRERef<REAsset *>)>)::$_0>,void ()(realityio::WrappedRERef<REAsset *>)>::destroy[abi:ne200100](uint64_t a1)
{
  std::__function::__value_func<void ()(realityio::WrappedRERef<REAsset *>)>::~__value_func[abi:ne200100](a1 + 16);
  v2 = *(a1 + 8);
  if (v2)
  {

    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }
}

uint64_t ___ZN9realityio16AssetLoadTracker5Asset10setTrackerEPS0__block_invoke(uint64_t a1)
{
  v18 = *MEMORY[0x277D85DE8];
  v1 = *(a1 + 32);
  v2 = *(v1 + 24);
  std::recursive_mutex::lock((v2 + 8));
  v3 = (**v1)(v1);
  *(v1 + 16) = 1;
  ++*(v2 + 96);
  v4 = *(realityio::logObjects(v3) + 16);
  v5 = os_log_type_enabled(v4, OS_LOG_TYPE_DEBUG);
  if (v5)
  {
    v9 = *(v1 + 8);
    v10 = *(v2 + 96);
    v11 = (*(v2 + 80) - *(v2 + 72)) >> 4;
    v12 = 134218496;
    v13 = v9;
    v14 = 1024;
    v15 = v10;
    v16 = 2048;
    v17 = v11;
    _os_log_debug_impl(&dword_247485000, v4, OS_LOG_TYPE_DEBUG, "AssetLoadTracker::complete @ %p -- assets completed: %d / %zu\n", &v12, 0x1Cu);
  }

  if (*(v2 + 96) == (*(v2 + 80) - *(v2 + 72)) >> 4)
  {
    v6 = *(realityio::logObjects(v5) + 16);
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      LOWORD(v12) = 0;
      _os_log_impl(&dword_247485000, v6, OS_LOG_TYPE_DEFAULT, "AssetLoadTracker::complete - onComplete\n", &v12, 2u);
    }

    *(v2 + 100) = 2;
    (**v2)(v2);
  }

  std::recursive_mutex::unlock((v2 + 8));
  result = *(v1 + 32);
  if (result)
  {
    result = RERelease();
  }

  *(v1 + 32) = 0;
  v8 = *MEMORY[0x277D85DE8];
  return result;
}

void realityio::AssetLoadTracker::add(uint64_t a1, __int128 *a2)
{
  std::recursive_mutex::lock((a1 + 8));
  std::vector<std::shared_ptr<realityio::AssetLoadTracker::Asset>>::push_back[abi:ne200100]((a1 + 72), a2);

  std::recursive_mutex::unlock((a1 + 8));
}

void realityio::AssetLoadTracker::loadAssets(uint64_t a1, uint64_t a2, int a3)
{
  v24 = *MEMORY[0x277D85DE8];
  std::recursive_mutex::lock((a1 + 8));
  *(a1 + 100) = 1;
  v6 = *(realityio::logObjects(v5) + 16);
  RequestAddAsset = os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT);
  if (RequestAddAsset)
  {
    v8 = (*(a1 + 80) - *(a1 + 72)) >> 4;
    LODWORD(v20) = 134217984;
    *(&v20 + 4) = v8;
    _os_log_impl(&dword_247485000, v6, OS_LOG_TYPE_DEFAULT, "AssetLoadTracker::loadAssets -- asset count = %zu\n", &v20, 0xCu);
  }

  v9 = *(a1 + 72);
  v10 = *(a1 + 80);
  if (v9 == v10)
  {
    goto LABEL_13;
  }

  do
  {
    v11 = *v9;
    v11[3] = a1;
    v12 = v11[1];
    REAssetGetAssetManager();
    AssetRequest = REAssetManagerCreateAssetRequest();
    if (v11[4])
    {
      RERelease();
    }

    v11[4] = AssetRequest;
    *&v20 = MEMORY[0x277D85DD0];
    *(&v20 + 1) = 3221225472;
    v21 = ___ZN9realityio16AssetLoadTracker5Asset10setTrackerEPS0__block_invoke;
    v22 = &__block_descriptor_40_e8_v12__0B8l;
    v23 = v11;
    REAssetLoadRequestSetCompletionHandler();
    v14 = v11[4];
    REAssetLoadRequestSetLoadAndWaitForResourceSharingClients();
    v15 = v11[4];
    v16 = v11[1];
    RequestAddAsset = REAssetLoadRequestAddAsset();
    v9 += 2;
  }

  while (v9 != v10);
  if (*(a1 + 80) == *(a1 + 72))
  {
LABEL_13:
    v18 = *(realityio::logObjects(RequestAddAsset) + 16);
    if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
    {
      LOWORD(v20) = 0;
      _os_log_impl(&dword_247485000, v18, OS_LOG_TYPE_DEFAULT, "AssetLoadTracker::loadAssets - onComplete due to zero-size asset list\n", &v20, 2u);
    }

    *(a1 + 100) = 2;
    (**a1)(a1);
  }

  else if (*(a1 + 100) != 2 && a3)
  {
    ServiceLocator = REEngineGetServiceLocator();
    MEMORY[0x24C1A4230](ServiceLocator);
    while (*(a1 + 100) == 1)
    {
      REAssetManagerUpdate();
    }
  }

  std::recursive_mutex::unlock((a1 + 8));
  v19 = *MEMORY[0x277D85DE8];
}

void realityio::AssetLoadTracker::clear(realityio::AssetLoadTracker *this)
{
  std::recursive_mutex::lock((this + 8));
  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::clear[abi:ne200100](this + 9);
  *(this + 12) = 0;

  std::recursive_mutex::unlock((this + 8));
}

void realityio::mtlx::UsdMtlxRead(uint64_t *a1, uint64_t *a2, pxrInternal__aapl__pxrReserved__::SdfPath *a3, const pxrInternal__aapl__pxrReserved__::SdfPath *a4)
{
  v602 = *MEMORY[0x277D85DE8];
  if (*a1)
  {
    v4 = a2;
    v5 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator pxrInternal__aapl__pxrReserved__::UsdStage* (pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::*)(void)const(a2);
    if (v6 & 1 | v5)
    {
      if (pxrInternal__aapl__pxrReserved__::SdfPath::IsPrimPath(a3))
      {
        if (pxrInternal__aapl__pxrReserved__::SdfPath::IsPrimPath(a4))
        {
          v7 = v4[1];
          v523 = *v4;
          v524 = v7;
          if (v7)
          {
            atomic_fetch_add_explicit((v7 + 8), 1u, memory_order_relaxed);
          }

          MEMORY[0x24C1A5DE0](&v590, "Collections");
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v525, a3, &v590);
          if ((v590 & 7) != 0)
          {
            atomic_fetch_add_explicit((v590 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          MEMORY[0x24C1A5DE0](&v590, "Looks");
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v526, a3, &v590);
          if ((v590 & 7) != 0)
          {
            atomic_fetch_add_explicit((v590 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          MEMORY[0x24C1A5DE0](&v590, "Materials");
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v527, a3, &v590);
          if ((v590 & 7) != 0)
          {
            atomic_fetch_add_explicit((v590 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          MEMORY[0x24C1A5DE0](&v590, "NodeGraphs");
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v528, a3, &v590);
          if ((v590 & 7) != 0)
          {
            atomic_fetch_add_explicit((v590 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          MEMORY[0x24C1A5DE0](&v590, "Shaders");
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v529, a3, &v590);
          if ((v590 & 7) != 0)
          {
            atomic_fetch_add_explicit((v590 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          v531[1] = 0;
          v532 = 0;
          v530 = v531;
          v531[0] = 0;
          v533 = 0;
          v534 = 0;
          v535 = v536;
          v536[0] = 0;
          v538[0] = 0;
          v538[1] = 0;
          v536[1] = 0;
          v537 = v538;
          v539 = v540;
          v540[0] = 0;
          v542[0] = 0;
          v542[1] = 0;
          v540[1] = 0;
          v541 = v542;
          v543[0] = 0;
          v542[2] = v543;
          v545[0] = 0;
          v545[1] = 0;
          v543[1] = 0;
          v544 = v545;
          __val = 1;
          v547 = 0;
          v548 = 0;
          LODWORD(v590) = 1;
          *(&v590 + 1) = 0;
          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
          *(&v591 + 1) = 0;
          pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
          v549 = MEMORY[0x277D86758] + 16;
          if ((BYTE8(v591) & 7) != 0)
          {
            atomic_fetch_add_explicit((*(&v591 + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v591);
          v8 = *(&v590 + 1);
          if (*(&v590 + 1))
          {
            v8 = pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(*(&v590 + 1));
          }

          v10 = *(v590 + 23);
          if (v10 < 0)
          {
            v10 = *(v590 + 8);
          }

          if (v10)
          {
            v11 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(v4);
            MEMORY[0x24C1A5E00](__src, v590);
            v9 = pxrInternal__aapl__pxrReserved__::UsdStage::SetColorManagementSystem(v11, __src);
            if ((__src[0] & 7) != 0)
            {
              atomic_fetch_add_explicit((__src[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }
          }

          v12 = *(__src[0] + 23);
          if (v12 < 0)
          {
            v12 = *(__src[0] + 1);
          }

          if (v12)
          {
            v13 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(v4);
            MEMORY[0x24C1A4E40](&v590, __src[0]);
            pxrInternal__aapl__pxrReserved__::UsdStage::SetColorConfiguration(v13, &v590);
            if (SHIBYTE(v592) < 0)
            {
              operator delete(*(&v591 + 1));
            }

            if (SBYTE7(v591) < 0)
            {
              operator delete(v590);
            }
          }

          ActiveColorSpace = RIO_MTLX::Element::getActiveColorSpace(*a1);
          v15 = *(ActiveColorSpace + 23);
          if ((v15 & 0x80u) != 0)
          {
            v15 = ActiveColorSpace[1];
          }

          if (v15)
          {
            v589.__first_ = 0;
            __src[1] = &pxrInternal__aapl__pxrReserved__::VtValue::GetTypeInfo<std::string>(void)::ti;
            pxrInternal__aapl__pxrReserved__::VtValue::_RemoteTypeInfo<std::string>::_PlaceCopy();
          }

          v17 = *a1;
          v16 = a1[1];
          if (v16)
          {
            atomic_fetch_add_explicit(&v16->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          v500 = v16;
          v18 = RIO_MTLX::EMPTY_STRING(ActiveColorSpace);
          RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::NodeGraph>(v17, v18, &v589);
          first = v589.__first_;
          for (i = v589.__begin_; first != i; first = (first + 16))
          {
            if (pxrInternal__aapl__pxrReserved__::TfDebug::IsEnabled<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>())
            {
              v22 = (first->first.__r_.__value_.__r.__words[0] + 48);
              if (*(first->first.__r_.__value_.__r.__words[0] + 71) < 0)
              {
                v22 = *v22;
              }

              pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Read node graph %s\n", v21, v22);
            }

            v24 = first->first.__r_.__value_.__r.__words[0];
            size = first->first.__r_.__value_.__l.__size_;
            __p[0] = first->first.__r_.__value_.__l.__data_;
            __p[1] = size;
            if (size)
            {
              atomic_fetch_add_explicit(&size->__shared_owners_, 1uLL, memory_order_relaxed);
            }

            IsValid = pxrInternal__aapl__pxrReserved__::UsdObject::IsValid(v25);
            if (v24)
            {
              v27 = IsValid;
            }

            else
            {
              v27 = 1;
            }

            if ((v27 & 1) == 0)
            {
              RIO_MTLX::NodeGraph::getNodeDef(v24, &v553);
              if (v553)
              {
                if (pxrInternal__aapl__pxrReserved__::TfDebug::IsEnabled<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>())
                {
                  v29 = v553 + 48;
                  if (*(v553 + 71) < 0)
                  {
                    v29 = *v29;
                  }

                  pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Add mtlxNodeDef %s\n", v28, v29);
                }

                v30 = v553;
                v31 = v554;
                if (v554)
                {
                  atomic_fetch_add_explicit(&v554->__shared_owners_, 1uLL, memory_order_relaxed);
                  atomic_fetch_add_explicit(&v31->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                v32 = *(&v590 + 1);
                *&v590 = v30;
                *(&v590 + 1) = v31;
                if (v32)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v32);
                }

                if (v31)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v31);
                }

                if (size)
                {
                  atomic_fetch_add_explicit(&size->__shared_owners_, 1uLL, memory_order_relaxed);
                  atomic_fetch_add_explicit(&size->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                v33 = *(&v591 + 1);
                *&v591 = v24;
                *(&v591 + 1) = size;
                if (v33)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v33);
                }

                if (size)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](size);
                }

                v34 = v553;
                v35 = v554;
                if (v554)
                {
                  atomic_fetch_add_explicit(&v554->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                if (v35)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v35);
                }
              }

              if (v554)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](v554);
              }
            }

            LODWORD(__src[0]) = *v25;
            v36 = v25[1];
            __src[1] = v36;
            if (v36)
            {
              atomic_fetch_add_explicit(v36 + 6, 1uLL, memory_order_relaxed);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(v581, v25 + 4);
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(v581 + 1, v25 + 5);
            v37 = v25[3];
            *(&v581[0] + 1) = v37;
            if ((v37 & 7) != 0 && (atomic_fetch_add_explicit((v37 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
            {
              *(&v581[0] + 1) &= 0xFFFFFFFFFFFFFFF8;
            }

            std::map<std::string,pxrInternal__aapl__pxrReserved__::TfToken>::map[abi:ne200100](&v581[1], v25 + 4);
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(&v583, v25 + 14);
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(&v583 + 1, v25 + 15);
            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v583);
            std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>>>::destroy(*(&v581[1] + 1));
            if ((BYTE8(v581[0]) & 7) != 0)
            {
              atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
            if (__src[1])
            {
              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
            }

            if (__p[1])
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](__p[1]);
            }
          }

          *&v590 = &v589;
          std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
          v38 = v500;
          if (v500)
          {
            std::__shared_weak_count::__release_shared[abi:ne200100](v500);
          }

          v40 = *a1;
          v39 = a1[1];
          if (v39)
          {
            atomic_fetch_add_explicit(&v39->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          v494 = v39;
          v41 = RIO_MTLX::MATERIAL_TYPE_STRING(v38);
          RIO_MTLX::GraphElement::getNodesOfType(&v576, v40, v41);
          v489 = v40;
          v501 = v576.__r_.__value_.__l.__size_;
          v42 = v576.__r_.__value_.__r.__words[0];
          for (j = v4; v42 != v501; v42 += 2)
          {
            if (pxrInternal__aapl__pxrReserved__::TfDebug::IsEnabled<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>())
            {
              v44 = &(*v42)[2];
              if (SHIBYTE((*v42)[2].__r_.__value_.__r.__words[2]) < 0)
              {
                v44 = v44->__words[0];
              }

              pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Adding mtlxMaterial '%s'\n", v43, v44);
            }

            v45 = *v42;
            v46 = v42[1];
            if (v46)
            {
              atomic_fetch_add_explicit(&v46->__shared_owners_, 1uLL, memory_order_relaxed);
            }

            if (!v550 || (v550[2].__shared_owners_ & 0x800) != 0 || !(*(v549 + 32))(&v549) || (*&v590 = "CoreRealityIO/mtlxToUsdShade.cpp", *(&v590 + 1) = "BeginMaterial", *&v591 = 1357, *(&v591 + 1) = "UsdShadeMaterial realityio::mtlx::(anonymous namespace)::_Context::BeginMaterial(const mx::ConstNodePtr &)", LOBYTE(v592) = 0, (pxrInternal__aapl__pxrReserved__::Tf_FailedVerifyHelper() & 1) != 0))
            {
              if (v46)
              {
                atomic_fetch_add_explicit(&v46->__shared_owners_, 1uLL, memory_order_relaxed);
              }

              if (v45)
              {
              }

              else
              {
                *&v590 = 0;
              }

              pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(v506, &v527, &v590);
              if ((v590 & 7) != 0)
              {
                atomic_fetch_add_explicit((v590 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
              }

              if (v46)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](v46);
              }

              pxrInternal__aapl__pxrReserved__::UsdShadeMaterial::Define();
              if (v554 && (v554[2].__shared_owners_ & 0x800) == 0 && (*(v553 + 4))(&v553))
              {
                v47 = pxrInternal__aapl__pxrReserved__::UsdObject::UsdObject(&v590, &v554, &v555);
                __src[0] = v45;
                __src[1] = v46;
                if (v46)
                {
                  atomic_fetch_add_explicit(&v46->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                if (v46)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v46);
                }

                if ((BYTE8(v591) & 7) != 0)
                {
                  atomic_fetch_add_explicit((*(&v591 + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                }

                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v591);
                if (*(&v590 + 1))
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(*(&v590 + 1));
                }

                pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
                *(&v581[0] + 1) = 0;
                __src[0] = (MEMORY[0x277D867A8] + 16);
                *&v590 = v45 + 2;
                v48 = std::__tree<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>>::__emplace_unique_key_args<std::string,std::piecewise_construct_t const&,std::tuple<std::string const&>,std::tuple<>>(&v544, &v45[2].__r_.__value_.__l.__data_);
                std::string::basic_string[abi:ne200100]<0>(__p, "");
                v49 = *std::__tree<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::__map_value_compare<std::string,std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>>>::__find_equal<std::string>(v48 + 56, &v515, __p);
                if (!v49)
                {
                  operator new();
                }

                v50 = __src[1];
                if (__src[1])
                {
                  atomic_fetch_add_explicit(__src[1] + 6, 1uLL, memory_order_relaxed);
                }

                v51 = *(v49 + 64);
                if (v51)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v51);
                }

                *(v49 + 64) = v50;
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v49 + 72, v581);
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v49 + 76, v581 + 1);
                pxrInternal__aapl__pxrReserved__::TfToken::operator=((v49 + 80), v581 + 1);
                if (SBYTE7(v573) < 0)
                {
                  operator delete(__p[0]);
                }

                MEMORY[0x24C1A5890](__src);
                v4 = j;
                if (v46)
                {
                  atomic_fetch_add_explicit(&v46->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                v52 = v548;
                v547 = v45;
                v548 = v46;
                if (v52)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v52);
                }

                v53 = v554;
                if (v554)
                {
                  atomic_fetch_add_explicit(&v554[2], 1uLL, memory_order_relaxed);
                }

                if (v550)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v550);
                }

                v550 = v53;
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v551, &v555);
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v552, &v555 + 1);
              }

              MEMORY[0x24C1A5510](&v553);
              pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
              pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v506);
            }

            pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
            v570.__r_.__value_.__r.__words[0] = MEMORY[0x277D86758] + 16;
            if (v46)
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](v46);
            }

            if (v570.__r_.__value_.__l.__size_ && (*(v570.__r_.__value_.__l.__size_ + 57) & 8) == 0 && (v54 = (*(v570.__r_.__value_.__r.__words[0] + 32))(&v570), v54))
            {
              v55 = RIO_MTLX::SURFACE_SHADER_TYPE_STRING(v54);
              v57 = RIO_MTLX::VOLUME_SHADER_TYPE_STRING(v56);
              v59 = RIO_MTLX::DISPLACEMENT_SHADER_TYPE_STRING(v58);
              v61 = RIO_MTLX::LIGHT_SHADER_TYPE_STRING(v60);
              if (v550 && (v550[2].__shared_owners_ & 0x800) == 0 && ((*(v549 + 32))(&v549) & 1) != 0 || (*&v590 = "CoreRealityIO/mtlxToUsdShade.cpp", *(&v590 + 1) = "EndMaterial", *&v591 = 1375, *(&v591 + 1) = "void realityio::mtlx::(anonymous namespace)::_Context::EndMaterial()", LOBYTE(v592) = 0, (pxrInternal__aapl__pxrReserved__::Tf_FailedVerifyHelper() & 1) != 0))
              {
                v62 = v547;
                v63 = v538[0];
                if (!v538[0])
                {
                  goto LABEL_164;
                }

                v64 = v538;
                while (1)
                {
                  while (1)
                  {
                    v65 = v63;
                    if (!std::less<std::string>::operator()[abi:ne200100](&v537, &v62[2].__r_.__value_.__l.__data_, v63 + 4))
                    {
                      break;
                    }

                    v63 = *v65;
                    v64 = v65;
                    if (!*v65)
                    {
                      goto LABEL_164;
                    }
                  }

                  if (!std::less<std::string>::operator()[abi:ne200100](&v537, v65 + 4, &v62[2].__r_.__value_.__l.__data_))
                  {
                    break;
                  }

                  v64 = (v65 + 1);
                  v63 = v65[1];
                  if (!v63)
                  {
                    goto LABEL_164;
                  }
                }

                v67 = *v64;
                if (!*v64)
                {
LABEL_164:
                  operator new();
                }

                v68 = v550;
                if (v550)
                {
                  atomic_fetch_add_explicit(&v550[2], 1uLL, memory_order_relaxed);
                }

                v69 = *(v67 + 64);
                if (v69)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v69);
                }

                *(v67 + 64) = v68;
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v67 + 72, &v551);
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v67 + 76, &v552);
                v70 = v548;
                v547 = 0;
                v548 = 0;
                if (v70)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v70);
                }

                LODWORD(v590) = 1;
                *(&v590 + 1) = 0;
                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
                *(&v591 + 1) = 0;
                pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
                __src[0] = (MEMORY[0x277D86758] + 16);
                v71 = __src[1];
                if (__src[1])
                {
                  atomic_fetch_add_explicit(__src[1] + 6, 1uLL, memory_order_relaxed);
                }

                if (v550)
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v550);
                }

                v550 = v71;
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v551, v581);
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v552, v581 + 1);
                MEMORY[0x24C1A5510](__src);
                if ((BYTE8(v591) & 7) != 0)
                {
                  atomic_fetch_add_explicit((*(&v591 + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                }

                pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v591);
                if (*(&v590 + 1))
                {
                  pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(*(&v590 + 1));
                }
              }
            }

            else
            {
              *&v590 = "CoreRealityIO/mtlxToUsdShade.cpp";
              *(&v590 + 1) = "ReadMaterials";
              *&v591 = 2142;
              *(&v591 + 1) = "void realityio::mtlx::(anonymous namespace)::ReadMaterials(mx::ConstDocumentPtr, _Context &)";
              LOBYTE(v592) = 0;
              if (SHIBYTE((*v42)[2].__r_.__value_.__r.__words[2]) < 0)
              {
                data = (*v42)[2].__r_.__value_.__l.__data_;
              }

              pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper();
            }

            MEMORY[0x24C1A5510](&v570);
          }

          *&v590 = &v576;
          std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
          v73 = RIO_MTLX::MATERIAL_TYPE_STRING(v72);
          RIO_MTLX::GraphElement::getNodesOfType(&v589, v489, v73);
          v74 = v589.__first_;
          for (k = v589.__begin_; v74 != k; v74 = (v74 + 16))
          {
            if (v554)
            {
              if ((v554[2].__shared_owners_ & 0x800) == 0)
              {
                v76 = (*(v553 + 4))(&v553);
                if (v76)
                {
                  if ((*(v576.__r_.__value_.__r.__words[0] + 23) & 0x8000000000000000) != 0)
                  {
                    if (*(v576.__r_.__value_.__r.__words[0] + 8))
                    {
LABEL_191:
                      if (__p[1] && (*(__p[1] + 57) & 8) == 0 && (*(__p[0] + 4))(__p))
                      {
                        pxrInternal__aapl__pxrReserved__::UsdObject::UsdObject(__src, &v554, &v555);
                        pxrInternal__aapl__pxrReserved__::UsdPrim::GetSpecializes(&v590, __src);
                        pxrInternal__aapl__pxrReserved__::UsdSchemaBase::GetPath(__p, &v570);
                        MEMORY[0x24C1A5290](&v590, &v570, 1);
                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v570);
                        if ((BYTE8(v591) & 7) != 0)
                        {
                          atomic_fetch_add_explicit((*(&v591 + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v591);
                        if (*(&v590 + 1))
                        {
                          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(*(&v590 + 1));
                        }

                        if ((BYTE8(v581[0]) & 7) != 0)
                        {
                          atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                        if (__src[1])
                        {
                          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                        }

                        if (pxrInternal__aapl__pxrReserved__::TfDebug::IsEnabled<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>())
                        {
                          v78 = (v74->first.__r_.__value_.__r.__words[0] + 48);
                          if (*(v74->first.__r_.__value_.__r.__words[0] + 71) < 0)
                          {
                            v78 = *v78;
                          }

                          v79 = v576.__r_.__value_.__r.__words[0];
                          if (*(v576.__r_.__value_.__r.__words[0] + 23) < 0)
                          {
                            v79 = *v576.__r_.__value_.__l.__data_;
                          }

                          pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Material '%s' inherit from  '%s'\n", v77, v78, v79);
                        }
                      }

                      else
                      {
                        *&v590 = "CoreRealityIO/mtlxToUsdShade.cpp";
                        *(&v590 + 1) = "ReadMaterials";
                        *&v591 = 2162;
                        *(&v591 + 1) = "void realityio::mtlx::(anonymous namespace)::ReadMaterials(mx::ConstDocumentPtr, _Context &)";
                        LOBYTE(v592) = 0;
                        if (*(v74->first.__r_.__value_.__r.__words[0] + 71) < 0)
                        {
                          v80 = *(v74->first.__r_.__value_.__r.__words[0] + 48);
                        }

                        if (*(v576.__r_.__value_.__r.__words[0] + 23) < 0)
                        {
                          v81 = *v576.__r_.__value_.__l.__data_;
                        }

                        pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper();
                      }

                      MEMORY[0x24C1A5510](__p);
                    }
                  }

                  else if (*(v576.__r_.__value_.__r.__words[0] + 23))
                  {
                    goto LABEL_191;
                  }
                }
              }
            }

            MEMORY[0x24C1A5510](&v553);
          }

          *&v590 = &v589;
          std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
          v82 = v494;
          if (v494)
          {
            std::__shared_weak_count::__release_shared[abi:ne200100](v494);
          }

          v83 = *a1;
          v84 = RIO_MTLX::EMPTY_STRING(v82);
          RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Look>(v83, v84, &v590);
          v85 = v590;
          __src[0] = &v590;
          std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](__src);
          if (v85 != *(&v85 + 1))
          {
            v88 = *a1;
            v87 = a1[1];
            if (v87)
            {
              atomic_fetch_add_explicit(&v87->__shared_owners_, 1uLL, memory_order_relaxed);
            }

            v481 = v87;
            __src[1] = 0;
            __src[0] = 0;
            *&v581[0] = 0;
            v90 = *(v88 + 136);
            v91 = *(v88 + 144);
            if (v90 != v91)
            {
              v92 = 0;
              do
              {
                v93 = *v90;
                v94 = *(*v90 + 47);
                if (v94 >= 0)
                {
                  v95 = *(*v90 + 47);
                }

                else
                {
                  v95 = *(*v90 + 32);
                }

                v96 = byte_27EE53BC7;
                if (byte_27EE53BC7 < 0)
                {
                  v96 = qword_27EE53BB8;
                }

                if (v95 == v96)
                {
                  v97 = v92;
                  if (v94 >= 0)
                  {
                    v98 = (v93 + 24);
                  }

                  else
                  {
                    v98 = *(v93 + 24);
                  }

                  if (byte_27EE53BC7 >= 0)
                  {
                    v99 = &qword_27EE53BB0;
                  }

                  else
                  {
                    v99 = qword_27EE53BB0;
                  }

                  v89 = memcmp(v98, v99, v95);
                  if (v89)
                  {
                    v92 = v97;
                  }

                  else
                  {
                    if (v97 >= *&v581[0])
                    {
                      v101 = (v97 - __src[0]) >> 4;
                      if ((v101 + 1) >> 60)
                      {
                        std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
                      }

                      v102 = (*&v581[0] - __src[0]) >> 3;
                      if (v102 <= v101 + 1)
                      {
                        v102 = v101 + 1;
                      }

                      if (*&v581[0] - __src[0] >= 0x7FFFFFFFFFFFFFF0)
                      {
                        v103 = 0xFFFFFFFFFFFFFFFLL;
                      }

                      else
                      {
                        v103 = v102;
                      }

                      *&v592 = __src;
                      if (v103)
                      {
                        std::__allocate_at_least[abi:ne200100]<std::allocator<std::shared_ptr<realityio::MeshModelDescriptorBuilder::MeshModelDataT>>>(__src, v103);
                      }

                      v104 = (16 * v101);
                      *v104 = v93;
                      v105 = v90[1];
                      v104[1] = v105;
                      if (v105)
                      {
                        atomic_fetch_add_explicit((v105 + 8), 1uLL, memory_order_relaxed);
                      }

                      v106 = v104 + 2;
                      v107 = v104 - (__src[1] - __src[0]);
                      memcpy(v107, __src[0], __src[1] - __src[0]);
                      v108 = __src[0];
                      v109 = *&v581[0];
                      __src[0] = v107;
                      __src[1] = v106;
                      *&v581[0] = 0;
                      *&v591 = v108;
                      *(&v591 + 1) = v109;
                      *&v590 = v108;
                      *(&v590 + 1) = v108;
                      v89 = std::__split_buffer<std::shared_ptr<realityio::MeshModelDescriptorBuilder::MeshModelDataT>>::~__split_buffer(&v590);
                      v92 = v106;
                    }

                    else
                    {
                      *v97 = v93;
                      v100 = v90[1];
                      v97[1] = v100;
                      if (v100)
                      {
                        atomic_fetch_add_explicit((v100 + 8), 1uLL, memory_order_relaxed);
                      }

                      v92 = v97 + 2;
                    }

                    __src[1] = v92;
                  }
                }

                v90 += 2;
              }

              while (v90 != v91);
              v490 = __src[0];
              if (__src[0] != v92)
              {
                v486 = v92;
                do
                {
                  v589.__begin_ = 0;
                  v589.__end_ = 0;
                  v589.__first_ = &v589.__begin_;
                  v554 = 0;
                  v553 = 0;
                  v555 = 0;
                  v110 = *(*v490 + 136);
                  v111 = *(*v490 + 144);
                  if (v110 != v111)
                  {
                    v502 = 0;
                    do
                    {
                      v112 = *v110;
                      v113 = *(*v110 + 47);
                      if (v113 >= 0)
                      {
                        v114 = *(*v110 + 47);
                      }

                      else
                      {
                        v114 = *(*v110 + 32);
                      }

                      v115 = byte_27EE53B97;
                      if (byte_27EE53B97 < 0)
                      {
                        v115 = qword_27EE53B88;
                      }

                      if (v114 == v115)
                      {
                        v116 = v113 >= 0 ? (v112 + 24) : *(v112 + 24);
                        v117 = byte_27EE53B97 >= 0 ? &qword_27EE53B80 : qword_27EE53B80;
                        if (!memcmp(v116, v117, v114))
                        {
                          if (v502 >= v555)
                          {
                            v120 = (v502 - v553) >> 4;
                            if ((v120 + 1) >> 60)
                            {
                              std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
                            }

                            v121 = (v555 - v553) >> 3;
                            if (v121 <= v120 + 1)
                            {
                              v121 = v120 + 1;
                            }

                            if (v555 - v553 >= 0x7FFFFFFFFFFFFFF0)
                            {
                              v122 = 0xFFFFFFFFFFFFFFFLL;
                            }

                            else
                            {
                              v122 = v121;
                            }

                            *&v592 = &v553;
                            if (v122)
                            {
                              std::__allocate_at_least[abi:ne200100]<std::allocator<std::shared_ptr<realityio::MeshModelDescriptorBuilder::MeshModelDataT>>>(&v553, v122);
                            }

                            v123 = (16 * v120);
                            *v123 = v112;
                            v124 = v110[1];
                            v123[1] = v124;
                            if (v124)
                            {
                              atomic_fetch_add_explicit((v124 + 8), 1uLL, memory_order_relaxed);
                            }

                            v119 = (v123 + 2);
                            v125 = v123 - (v554 - v553);
                            memcpy(v125, v553, v554 - v553);
                            v126 = v553;
                            v127 = v555;
                            v553 = v125;
                            v554 = v119;
                            v555 = 0;
                            *&v591 = v126;
                            *(&v591 + 1) = v127;
                            *&v590 = v126;
                            *(&v590 + 1) = v126;
                            std::__split_buffer<std::shared_ptr<realityio::MeshModelDescriptorBuilder::MeshModelDataT>>::~__split_buffer(&v590);
                          }

                          else
                          {
                            *v502 = v112;
                            v118 = v110[1];
                            v502[1] = v118;
                            if (v118)
                            {
                              atomic_fetch_add_explicit((v118 + 8), 1uLL, memory_order_relaxed);
                            }

                            v119 = (v502 + 2);
                          }

                          v502 = &v119->__vftable;
                          v554 = v119;
                        }
                      }

                      v110 += 2;
                    }

                    while (v110 != v111);
                    v128 = v553;
                    if (v553 != v502)
                    {
                      do
                      {
                        __p[1] = 0;
                        *&v573 = 0;
                        __p[0] = &__p[1];
                        memset(&v576, 0, sizeof(v576));
                        v129 = *(*v128 + 136);
                        v130 = *(*v128 + 144);
                        if (v129 != v130)
                        {
                          do
                          {
                            RIO_MTLX::Element::asA<RIO_MTLX::ValueElement>(*v129, &v570);
                            if (v570.__r_.__value_.__r.__words[0])
                            {
                              v131 = v576.__r_.__value_.__l.__size_;
                              if (v576.__r_.__value_.__l.__size_ >= v576.__r_.__value_.__r.__words[2])
                              {
                                v133 = v576.__r_.__value_.__r.__words[0];
                                v134 = v576.__r_.__value_.__l.__size_ - v576.__r_.__value_.__r.__words[0];
                                v135 = (v576.__r_.__value_.__l.__size_ - v576.__r_.__value_.__r.__words[0]) >> 4;
                                v136 = v135 + 1;
                                if ((v135 + 1) >> 60)
                                {
                                  std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
                                }

                                v137 = v576.__r_.__value_.__r.__words[2] - v576.__r_.__value_.__r.__words[0];
                                if ((v576.__r_.__value_.__r.__words[2] - v576.__r_.__value_.__r.__words[0]) >> 3 > v136)
                                {
                                  v136 = v137 >> 3;
                                }

                                if (v137 >= 0x7FFFFFFFFFFFFFF0)
                                {
                                  v136 = 0xFFFFFFFFFFFFFFFLL;
                                }

                                *&v592 = &v576;
                                if (v136)
                                {
                                  std::__allocate_at_least[abi:ne200100]<std::allocator<std::shared_ptr<realityio::MeshModelDescriptorBuilder::MeshModelDataT>>>(&v576, v136);
                                }

                                v138 = (v576.__r_.__value_.__l.__size_ - v576.__r_.__value_.__r.__words[0]) >> 4;
                                v139 = (16 * v135);
                                *v139 = *&v570.__r_.__value_.__l.__data_;
                                *&v570.__r_.__value_.__l.__data_ = 0uLL;
                                v132 = 16 * v135 + 16;
                                v140 = &v139[-v138];
                                memcpy(v140, v133, v134);
                                v141 = v576.__r_.__value_.__r.__words[0];
                                v142 = v576.__r_.__value_.__r.__words[2];
                                v576.__r_.__value_.__r.__words[0] = v140;
                                *&v576.__r_.__value_.__r.__words[1] = v132;
                                *&v591 = v141;
                                *(&v591 + 1) = v142;
                                *&v590 = v141;
                                *(&v590 + 1) = v141;
                                std::__split_buffer<std::shared_ptr<realityio::MeshModelDescriptorBuilder::MeshModelDataT>>::~__split_buffer(&v590);
                                v4 = j;
                              }

                              else
                              {
                                *v576.__r_.__value_.__l.__size_ = v570.__r_.__value_.__r.__words[0];
                                *(v131 + 8) = v570.__r_.__value_.__l.__size_;
                                *&v570.__r_.__value_.__l.__data_ = 0uLL;
                                v132 = v131 + 16;
                              }

                              v576.__r_.__value_.__l.__size_ = v132;
                            }

                            if (v570.__r_.__value_.__l.__size_)
                            {
                              std::__shared_weak_count::__release_shared[abi:ne200100](v570.__r_.__value_.__l.__size_);
                            }

                            v129 += 2;
                          }

                          while (v129 != v130);
                          v143 = v576.__r_.__value_.__l.__size_;
                          for (m = v576.__r_.__value_.__r.__words[0]; m != v143; m += 2)
                          {
                            v145 = *m;
                            v146 = __p[1];
                            if (!__p[1])
                            {
                              goto LABEL_315;
                            }

                            v147 = &__p[1];
                            while (1)
                            {
                              while (1)
                              {
                                v148 = v146;
                                if (!std::less<std::string>::operator()[abi:ne200100](__p, (v145 + 48), v146 + 4))
                                {
                                  break;
                                }

                                v146 = *v148;
                                v147 = v148;
                                if (!*v148)
                                {
                                  goto LABEL_315;
                                }
                              }

                              if (!std::less<std::string>::operator()[abi:ne200100](__p, v148 + 4, (v145 + 48)))
                              {
                                break;
                              }

                              v147 = (v148 + 1);
                              v146 = v148[1];
                              if (!v146)
                              {
                                goto LABEL_315;
                              }
                            }

                            v149 = *v147;
                            if (!*v147)
                            {
LABEL_315:
                              operator new();
                            }

                            v151 = *m;
                            v150 = m[1];
                            if (v150)
                            {
                              atomic_fetch_add_explicit((v150 + 8), 1uLL, memory_order_relaxed);
                            }

                            v152 = *(v149 + 8);
                            *(v149 + 7) = v151;
                            *(v149 + 8) = v150;
                            if (v152)
                            {
                              std::__shared_weak_count::__release_shared[abi:ne200100](v152);
                            }
                          }
                        }

                        *&v590 = &v576;
                        std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
                        if (v573)
                        {
                          v153 = *v128;
                          begin = v589.__begin_;
                          if (!v589.__begin_)
                          {
                            goto LABEL_332;
                          }

                          p_begin = &v589.__begin_;
                          while (1)
                          {
                            while (1)
                            {
                              v156 = begin;
                              if (!std::less<std::string>::operator()[abi:ne200100](&v589, (v153 + 48), &begin->second.__r_.__value_.__l.__size_))
                              {
                                break;
                              }

                              begin = v156->first.__r_.__value_.__r.__words[0];
                              p_begin = v156;
                              if (!v156->first.__r_.__value_.__r.__words[0])
                              {
                                goto LABEL_332;
                              }
                            }

                            if (!std::less<std::string>::operator()[abi:ne200100](&v589, &v156->second.__r_.__value_.__l.__size_, (v153 + 48)))
                            {
                              break;
                            }

                            p_begin = &v156->first.__r_.__value_.__l.__size_;
                            begin = v156->first.__r_.__value_.__l.__size_;
                            if (!begin)
                            {
                              goto LABEL_332;
                            }
                          }

                          v159 = *p_begin;
                          if (!*p_begin)
                          {
LABEL_332:
                            operator new();
                          }

                          v160 = &v159[1].first.__r_.__value_.__s.__data_[16];
                          std::__tree<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>::destroy(v159[1].first.__r_.__value_.__r.__words[2]);
                          v157 = __p[1];
                          v159[1].first.__r_.__value_.__l.__size_ = __p[0];
                          v159[1].first.__r_.__value_.__r.__words[2] = v157;
                          v161 = v573;
                          v159[1].second.__r_.__value_.__r.__words[0] = v573;
                          v158 = v502;
                          if (v161)
                          {
                            v157[2] = v160;
                            __p[0] = &__p[1];
                            __p[1] = 0;
                            *&v573 = 0;
                            v157 = 0;
                          }

                          else
                          {
                            v159[1].first.__r_.__value_.__l.__size_ = v160;
                          }
                        }

                        else
                        {
                          v157 = __p[1];
                          v158 = v502;
                        }

                        std::__tree<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>::destroy(v157);
                        v128 += 16;
                      }

                      while (v128 != v158);
                    }
                  }

                  *&v590 = &v553;
                  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
                  if (v589.__end_)
                  {
                    v162 = *v490;
                    v163 = v531[0];
                    if (!v531[0])
                    {
                      goto LABEL_347;
                    }

                    v164 = v531;
                    while (1)
                    {
                      while (1)
                      {
                        v165 = v163;
                        if (!std::less<std::string>::operator()[abi:ne200100](&v530, (v162 + 48), v163 + 4))
                        {
                          break;
                        }

                        v163 = *v165;
                        v164 = v165;
                        if (!*v165)
                        {
                          goto LABEL_347;
                        }
                      }

                      if (!std::less<std::string>::operator()[abi:ne200100](&v530, v165 + 4, (v162 + 48)))
                      {
                        break;
                      }

                      v164 = (v165 + 1);
                      v163 = v165[1];
                      if (!v163)
                      {
                        goto LABEL_347;
                      }
                    }

                    v166 = *v164;
                    if (!*v164)
                    {
LABEL_347:
                      operator new();
                    }

                    v167 = v166 + 64;
                    std::__tree<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>::destroy(*(v166 + 64));
                    v168 = v589.__begin_;
                    *(v166 + 56) = v589.__first_;
                    *(v166 + 64) = v168;
                    end = v589.__end_;
                    *(v166 + 72) = v589.__end_;
                    if (end)
                    {
                      v168->first.__r_.__value_.__r.__words[2] = v167;
                      v589.__first_ = &v589.__begin_;
                      v589.__begin_ = 0;
                      v589.__end_ = 0;
                    }

                    else
                    {
                      *(v166 + 56) = v167;
                    }

                    std::vector<std::string>::push_back[abi:ne200100](&v532, (v162 + 48));
                  }

                  std::__tree<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>::destroy(v589.__begin_->first.__r_.__value_.__r.__words);
                  v490 += 16;
                }

                while (v490 != v486);
              }
            }

            *&v590 = __src;
            std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
            v170 = v481;
            if (v481)
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](v481);
            }

            v172 = *a1;
            v171 = a1[1];
            if (v171)
            {
              atomic_fetch_add_explicit(&v171->__shared_owners_, 1uLL, memory_order_relaxed);
            }

            v475 = v171;
            v173 = RIO_MTLX::EMPTY_STRING(v170);
            v174 = *(v172 + 136);
            v175 = *(v172 + 144);
            __src[1] = 0;
            __src[0] = 0;
            *&v581[0] = 0;
            if (v174 == v175)
            {
              goto LABEL_389;
            }

            v176 = v173;
            do
            {
              v177 = *v174;
              v178 = v174[1];
              if (v178)
              {
                atomic_fetch_add_explicit(&v178->__shared_owners_, 1uLL, memory_order_relaxed);
              }

              RIO_MTLX::Element::asA<RIO_MTLX::Collection>(v177, &v590);
              if (v590)
              {
                v179 = *(v176 + 23);
                v180 = v179 >= 0 ? *(v176 + 23) : v176[1];
                if (!v180)
                {
                  goto LABEL_376;
                }

                v181 = *(v177 + 47);
                v182 = v181;
                if ((v181 & 0x80u) != 0)
                {
                  v181 = *(v177 + 32);
                }

                if (v181 == v180)
                {
                  v185 = *(v177 + 24);
                  v184 = v177 + 24;
                  v183 = v185;
                  v186 = (v182 >= 0 ? v184 : v183);
                  v187 = v179 >= 0 ? v176 : *v176;
                  if (!memcmp(v186, v187, v180))
                  {
LABEL_376:
                    std::vector<std::shared_ptr<RIO_MTLX::Element>>::push_back[abi:ne200100](__src, &v590);
                  }
                }
              }

              if (*(&v590 + 1))
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](*(&v590 + 1));
              }

              if (v178)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](v178);
              }

              v174 += 2;
            }

            while (v174 != v175);
            v188 = __src[0];
            v189 = __src[1];
            if (__src[0] == __src[1])
            {
LABEL_389:
              v482 = 1;
            }

            else
            {
              do
              {
                v190 = *(v188 + 1);
                v589.__first_ = *v188;
                v589.__begin_ = v190;
                if (v190)
                {
                  atomic_fetch_add_explicit(&v190->first.__r_.__value_.__l.__size_, 1uLL, memory_order_relaxed);
                }

                *(&v590 + 1) = 0;
                *&v591 = 0;
                *&v590 = &v590 + 8;
                std::__tree<std::shared_ptr<RIO_MTLX::Collection>>::destroy(*(&v590 + 1));
                MEMORY[0x24C1A5470](__p);
                if (v190)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v190);
                }

                v188 += 16;
              }

              while (v188 != v189);
              v482 = 0;
            }

            *&v590 = __src;
            std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
            v192 = RIO_MTLX::EMPTY_STRING(v191);
            RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Look>(v172, v192, &Name);
            v194 = Name;
            v476 = v569;
            if (Name != v569)
            {
              v491 = *(MEMORY[0x277D86730] + 48);
              do
              {
                v480 = v194;
                v195 = *v194;
                v196 = RIO_MTLX::EMPTY_STRING(v193);
                RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::MaterialAssign>(v195, v196, &v565);
                v197 = v565;
                v198 = v566;
                v495 = v566;
                while (v197 != v198)
                {
                  v199 = *v197;
                  v200 = *(v197 + 1);
                  if (v200)
                  {
                    atomic_fetch_add_explicit(&v200->__shared_owners_, 1uLL, memory_order_relaxed);
                  }

                  LODWORD(v590) = 1;
                  *(&v590 + 1) = 0;
                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
                  *(&v591 + 1) = 0;
                  __src[0] = 0;
                  pxrInternal__aapl__pxrReserved__::UsdAPISchemaBase::UsdAPISchemaBase(&v589, &v590, __src);
                  v589.__first_ = (MEMORY[0x277D86730] + 16);
                  if ((BYTE8(v591) & 7) != 0)
                  {
                    atomic_fetch_add_explicit((*(&v591 + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }

                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v591);
                  v201 = *(&v590 + 1);
                  if (*(&v590 + 1))
                  {
                    v201 = pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(*(&v590 + 1));
                  }

                  v203 = v520;
                  if ((*(v520 + 23) & 0x8000000000000000) != 0)
                  {
                    if (v520[1])
                    {
LABEL_402:
                      v204 = v540[0];
                      if (!v540[0])
                      {
                        goto LABEL_415;
                      }

                      v205 = v540;
                      do
                      {
                        v206 = v205;
                        v207 = (v204 + 32);
                        v208 = std::less<std::string>::operator()[abi:ne200100](&v539, (v204 + 32), v203);
                        if (v208)
                        {
                          v209 = 8;
                        }

                        else
                        {
                          v209 = 0;
                        }

                        if (!v208)
                        {
                          v205 = v204;
                        }

                        v204 = *(v204 + v209);
                      }

                      while (v204);
                      if (v205 == v540 || (!v208 ? (v210 = v207) : (v210 = (v206 + 4)), std::less<std::string>::operator()[abi:ne200100](&v539, v203, v210)))
                      {
LABEL_415:
                        *&v590 = "CoreRealityIO/mtlxToUsdShade.cpp";
                        *(&v590 + 1) = "AddGeometryReference";
                        *&v591 = 1588;
                        *(&v591 + 1) = "UsdCollectionAPI realityio::mtlx::(anonymous namespace)::_Context::AddGeometryReference(const mx::ConstGeomElementPtr &)";
                        LOBYTE(v592) = 0;
                        if (*(v520 + 23) < 0)
                        {
                          v211 = *v520;
                        }

                        v4 = j;
                        v554 = 0;
                        v553 = 0;
                        RIO_MTLX::Element::getNamePath(v199, &v553, __src);
                        pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper();
                        if (SBYTE7(v581[0]) < 0)
                        {
                          operator delete(__src[0]);
                        }

                        if (v554)
                        {
                          std::__shared_weak_count::__release_shared[abi:ne200100](v554);
                        }
                      }

                      else
                      {
                        v225 = v205[8];
                        if (v225)
                        {
                          atomic_fetch_add_explicit(&v225[1], 1uLL, memory_order_relaxed);
                        }

                        if (v589.__begin_)
                        {
                          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v589.__begin_);
                        }

                        v589.__begin_ = v225;
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v589.__end_, v205 + 18);
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v589.__end_ + 4, v205 + 19);
                        pxrInternal__aapl__pxrReserved__::TfToken::operator=(&v589.__end_cap_.__value_, v205 + 10);
                        v4 = j;
                      }

                      goto LABEL_478;
                    }
                  }

                  else if (*(v520 + 23))
                  {
                    goto LABEL_402;
                  }

                  v213 = v564[0];
                  if ((*(v564[0] + 23) & 0x8000000000000000) != 0)
                  {
                    if (v564[0][1])
                    {
LABEL_424:
                      v214 = RIO_MTLX::ARRAY_VALID_SEPARATORS(v212);
                      RIO_MTLX::splitString(v213, v214, &v515);
                      v215 = 126 - 2 * __clz(0xAAAAAAAAAAAAAAABLL * ((v516 - v515) >> 3));
                      if (v516 == v515)
                      {
                        v216 = 0;
                      }

                      else
                      {
                        v216 = v215;
                      }

                      std::__introsort<std::_ClassicAlgPolicy,std::__less<void,void> &,std::string *,false>(v515, v516, v216, 1);
                      v217 = v515;
                      v218 = v516;
                      if (v515 != v516)
                      {
                        do
                        {
                          v219 = v217 + 1;
                          if (&v217[1] == v218)
                          {
                            v217 = v218;
                            goto LABEL_451;
                          }

                          v220 = std::equal_to<std::string>::operator()[abi:ne200100](&v590, &v217->__r_.__value_.__l.__data_, &v217[1].__r_.__value_.__l.__data_);
                          v217 = v219;
                        }

                        while (!v220);
                        v221 = v219 + 1;
                        v222 = v219 - 1;
                        if (v221 == v218)
                        {
                          p_data = &v222->__r_.__value_.__l.__data_;
                        }

                        else
                        {
                          do
                          {
                            if (std::equal_to<std::string>::operator()[abi:ne200100](&v590, &v222->__r_.__value_.__l.__data_, &v221->__r_.__value_.__l.__data_))
                            {
                              p_data = &v222->__r_.__value_.__l.__data_;
                            }

                            else
                            {
                              p_data = &v222[1].__r_.__value_.__l.__data_;
                              if (SHIBYTE(v222[1].__r_.__value_.__r.__words[2]) < 0)
                              {
                                operator delete(*p_data);
                              }

                              v224 = *&v221->__r_.__value_.__l.__data_;
                              v222[1].__r_.__value_.__r.__words[2] = v221->__r_.__value_.__r.__words[2];
                              *p_data = v224;
                              *(&v221->__r_.__value_.__s + 23) = 0;
                              v221->__r_.__value_.__s.__data_[0] = 0;
                              ++v222;
                            }

                            ++v221;
                          }

                          while (v221 != v218);
                        }

                        v217 = (p_data + 3);
                      }

LABEL_451:
                      if (v217 != v516)
                      {
                        std::__move_impl<std::_ClassicAlgPolicy>::operator()[abi:ne200100]<std::string *,std::string *,std::string *>(__src, v516, v516, v217);
                        v227 = v226;
                        v228 = v516;
                        while (v228 != v227)
                        {
                          v229 = SHIBYTE(v228[-1].__r_.__value_.__r.__words[2]);
                          --v228;
                          if (v229 < 0)
                          {
                            operator delete(v228->__r_.__value_.__l.__data_);
                          }
                        }

                        v516 = v227;
                      }

                      pxrInternal__aapl__pxrReserved__::TfStringJoin();
                      LODWORD(__src[0]) = 1;
                      __src[1] = 0;
                      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
                      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
                      *(&v581[0] + 1) = 0;
                      v562 = 0;
                      pxrInternal__aapl__pxrReserved__::UsdAPISchemaBase::UsdAPISchemaBase(&v590, __src, &v562);
                      *&v590 = MEMORY[0x277D86730] + 16;
                      v230 = *std::__tree<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::__map_value_compare<std::string,std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>>>::__find_equal<std::string>(&v541, &v575, v506);
                      if (!v230)
                      {
                        operator new();
                      }

                      MEMORY[0x24C1A5470](&v590);
                      if ((BYTE8(v581[0]) & 7) != 0)
                      {
                        atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                      }

                      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                      if (__src[1])
                      {
                        pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                      }

                      pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
                      v231 = *(v230 + 80);
                      v553 = (MEMORY[0x277D86728] + 16);
                      v556 = v231;
                      if ((v231 & 7) != 0 && (atomic_fetch_add_explicit((v231 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
                      {
                        v556 &= 0xFFFFFFFFFFFFFFF8;
                      }

                      v553 = (MEMORY[0x277D86730] + 16);
                      if (SHIBYTE(v507) < 0)
                      {
                        operator delete(v506[0]);
                      }

                      *&v590 = &v515;
                      std::vector<std::string>::__destroy_vector::operator()[abi:ne200100](&v590);
                      goto LABEL_469;
                    }
                  }

                  else if (*(v564[0] + 23))
                  {
                    goto LABEL_424;
                  }

                  LODWORD(v590) = 1;
                  *(&v590 + 1) = 0;
                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
                  *(&v591 + 1) = 0;
                  __src[0] = 0;
                  pxrInternal__aapl__pxrReserved__::UsdAPISchemaBase::UsdAPISchemaBase(&v553, &v590, __src);
                  v553 = (MEMORY[0x277D86730] + 16);
                  if ((BYTE8(v591) & 7) != 0)
                  {
                    atomic_fetch_add_explicit((*(&v591 + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }

                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v591);
                  if (*(&v590 + 1))
                  {
                    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(*(&v590 + 1));
                  }

LABEL_469:
                  if (v554 && (v554[2].__shared_owners_ & 0x800) == 0 && (*(v553 + 4))(&v553))
                  {
                    v232 = v554;
                    if (v554)
                    {
                      atomic_fetch_add_explicit(&v554[2], 1uLL, memory_order_relaxed);
                    }

                    if (v589.__begin_)
                    {
                      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v589.__begin_);
                    }

                    v589.__begin_ = v232;
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v589.__end_, &v555);
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v589.__end_ + 4, &v555 + 1);
                    pxrInternal__aapl__pxrReserved__::TfToken::operator=(&v589.__end_cap_.__value_, &v556);
                  }

                  MEMORY[0x24C1A5470](&v553);
LABEL_478:
                  v233 = v543[0];
LABEL_479:
                  if (!v233)
                  {
LABEL_485:
                    operator new();
                  }

                  while (1)
                  {
                    v234 = v233;
                    v235 = v233[4];
                    if (v235 > v199)
                    {
                      v233 = *v234;
                      goto LABEL_479;
                    }

                    if (v235 >= v199)
                    {
                      break;
                    }

                    v233 = v234[1];
                    if (!v233)
                    {
                      goto LABEL_485;
                    }
                  }

                  v236 = v589.__begin_;
                  if (v589.__begin_)
                  {
                    atomic_fetch_add_explicit(&v589.__begin_[1], 1uLL, memory_order_relaxed);
                  }

                  v237 = v234[7];
                  if (v237)
                  {
                    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v237);
                  }

                  v234[7] = v236;
                  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=((v234 + 8), &v589.__end_);
                  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v234 + 68, &v589.__end_ + 1);
                  pxrInternal__aapl__pxrReserved__::TfToken::operator=(v234 + 9, &v589.__end_cap_.__value_);
                  pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
                  v238 = v234[9];
                  v576.__r_.__value_.__r.__words[0] = MEMORY[0x277D86728] + 16;
                  v577 = v238;
                  if ((v238 & 7) != 0 && (atomic_fetch_add_explicit((v238 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
                  {
                    v577 &= 0xFFFFFFFFFFFFFFF8;
                  }

                  v576.__r_.__value_.__r.__words[0] = MEMORY[0x277D86730] + 16;
                  MEMORY[0x24C1A5470](&v589);
                  MEMORY[0x24C1A5470](&v576);
                  if (v200)
                  {
                    std::__shared_weak_count::__release_shared[abi:ne200100](v200);
                  }

                  v197 += 16;
                  v198 = v495;
                }

                *&v590 = &v565;
                std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
                v194 = v480 + 2;
              }

              while (v480 + 2 != v476);
            }

            *&v590 = &Name;
            std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
            v239 = v475;
            if (v475)
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](v475);
            }

            v521 = 0;
            v522 = 0;
            v520 = &v521;
            v240 = *a1;
            v241 = RIO_MTLX::EMPTY_STRING(v239);
            RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Look>(v240, v241, __p);
            v242 = __p[0];
            v484 = __p[1];
            if (__p[0] != __p[1])
            {
LABEL_500:
              v594 = 0;
              v595 = 0;
              v590 = 0u;
              v591 = 0u;
              v592 = 0u;
              v597 = 0;
              v598 = 0;
              v596 = 0;
              v600 = 0;
              v601 = 0;
              v593 = &v594;
              v599 = &v600;
              v243 = *(v242 + 1);
              __src[0] = *v242;
              __src[1] = v243;
              if (v243)
              {
                atomic_fetch_add_explicit(&v243->__shared_owners_, 1uLL, memory_order_relaxed);
              }

              if (v243)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](v243);
              }

              v487 = v242;
              v245 = *v242;
              v246 = RIO_MTLX::EMPTY_STRING(v244);
              RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::MaterialAssign>(v245, v246, &v576);
              v247 = v576.__r_.__value_.__l.__size_;
              v492 = v576.__r_.__value_.__l.__size_;
              for (n = v576.__r_.__value_.__r.__words[0]; ; n += 2)
              {
                if (n == v247)
                {
                  __src[0] = &v576;
                  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](__src);
                  std::__tree<std::string>::destroy(&v599, v600);
                  __src[0] = &v596;
                  std::vector<std::pair<std::string,std::string>>::__destroy_vector::operator()[abi:ne200100](__src);
                  std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::less<std::shared_ptr<RIO_MTLX::MaterialAssign const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>>>::destroy(v594);
                  __src[0] = &v591 + 8;
                  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](__src);
                  __src[0] = &v590;
                  std::vector<std::string>::__destroy_vector::operator()[abi:ne200100](__src);
                  v242 = v487 + 16;
                  if (v487 + 16 == v484)
                  {
                    goto LABEL_552;
                  }

                  goto LABEL_500;
                }

                v583 = 0uLL;
                *__src = 0u;
                memset(v581, 0, sizeof(v581));
                v585 = 0;
                v584 = 0uLL;
                v587 = 0;
                v588 = 0;
                v582 = &v583;
                v586 = &v587;
                v249 = n[1];
                v570.__r_.__value_.__r.__words[0] = *n;
                v570.__r_.__value_.__l.__size_ = v249;
                if (v249)
                {
                  atomic_fetch_add_explicit(&v249->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                v250 = v553;
                v251 = v554;
                v252 = v554 - v553;
                if (v554 - v553 >= 1)
                {
                  v253 = *(&v584 + 1);
                  if (v585 - *(&v584 + 1) >= v252)
                  {
                    v515 = *(&v584 + 1);
                    v506[0] = *(&v584 + 1);
                    v589.__first_ = &v584;
                    v589.__begin_ = v506;
                    v589.__end_ = &v515;
                    if (v553 == v554)
                    {
                      v256 = *(&v584 + 1);
                    }

                    else
                    {
                      v256 = *(&v584 + 1);
                      do
                      {
                        v257 = v250->std::__shared_count;
                        *(v253 + 16) = v250->__shared_weak_owners_;
                        *v253 = v257;
                        v250->__shared_owners_ = 0;
                        v250->__shared_weak_owners_ = 0;
                        v250->__vftable = 0;
                        v258 = v250[1].std::__shared_count;
                        *(v253 + 40) = v250[1].__shared_weak_owners_;
                        *(v253 + 24) = v258;
                        v250[1].__shared_owners_ = 0;
                        v250[1].__shared_weak_owners_ = 0;
                        v250[1].__vftable = 0;
                        v250 += 2;
                        v253 += 48;
                        v256 += 48;
                      }

                      while (v250 != v251);
                      v515 = v253;
                    }

                    LOBYTE(v589.__end_cap_.__value_) = 1;
                    std::__exception_guard_exceptions<std::_AllocatorDestroyRangeReverse<std::allocator<std::pair<std::string,std::string>>,std::pair<std::string,std::string>*>>::~__exception_guard_exceptions[abi:ne200100](&v589);
                    *(&v584 + 1) = v256;
                  }

                  else
                  {
                    v254 = 0xAAAAAAAAAAAAAAABLL * ((*(&v584 + 1) - v584) >> 4) - 0x5555555555555555 * (v252 >> 4);
                    if (v254 > 0x555555555555555)
                    {
                      std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
                    }

                    if (0x5555555555555556 * ((v585 - v584) >> 4) > v254)
                    {
                      v254 = 0x5555555555555556 * ((v585 - v584) >> 4);
                    }

                    if (0xAAAAAAAAAAAAAAABLL * ((v585 - v584) >> 4) >= 0x2AAAAAAAAAAAAAALL)
                    {
                      v255 = 0x555555555555555;
                    }

                    else
                    {
                      v255 = v254;
                    }

                    v589.__end_cap_.__value_ = &v584;
                    if (v255)
                    {
                      std::__allocate_at_least[abi:ne200100]<std::allocator<std::pair<std::string,std::string>>>(&v584, v255);
                    }

                    v259 = 16 * ((*(&v584 + 1) - v584) >> 4);
                    v260 = (v259 + v252);
                    v261 = v259;
                    do
                    {
                      v262 = v250->std::__shared_count;
                      *(v261 + 2) = v250->__shared_weak_owners_;
                      *v261 = v262;
                      v250->__shared_owners_ = 0;
                      v250->__shared_weak_owners_ = 0;
                      v250->__vftable = 0;
                      v263 = v250[1].std::__shared_count;
                      *(v261 + 5) = v250[1].__shared_weak_owners_;
                      *(v261 + 24) = v263;
                      v250[1].__shared_owners_ = 0;
                      v250[1].__shared_weak_owners_ = 0;
                      v250[1].__vftable = 0;
                      v261 += 48;
                      v250 += 2;
                    }

                    while (v261 != v260);
                    memcpy(v260, v253, *(&v584 + 1) - v253);
                    v264 = &v260[*(&v584 + 1) - v253];
                    *(&v584 + 1) = v253;
                    v265 = v253 - v584;
                    v266 = (v259 - (v253 - v584));
                    memcpy(v266, v584, v265);
                    v267 = v584;
                    v268 = v585;
                    *&v584 = v266;
                    *(&v584 + 1) = v264;
                    v585 = 0;
                    v589.__end_ = v267;
                    v589.__end_cap_.__value_ = v268;
                    v589.__begin_ = v267;
                    v589.__first_ = v267;
                    std::__split_buffer<std::pair<std::string,std::string>>::~__split_buffer(&v589);
                    v4 = j;
                  }
                }

                v589.__first_ = &v553;
                std::vector<std::pair<std::string,std::string>>::__destroy_vector::operator()[abi:ne200100](&v589);
                if (v249)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v249);
                }

                v270 = *n;
                v269 = n[1];
                if (v269)
                {
                  atomic_fetch_add_explicit(&v269->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                v271 = v521;
LABEL_532:
                if (!v271)
                {
LABEL_539:
                  operator new();
                }

                while (1)
                {
                  v272 = v271;
                  v273 = *(v271 + 4);
                  if (v270 < v273)
                  {
                    v271 = v272->__begin_;
                    goto LABEL_532;
                  }

                  if (v273 >= v270)
                  {
                    break;
                  }

                  v271 = v272->__end_;
                  if (!v271)
                  {
                    goto LABEL_539;
                  }
                }

                v274 = v272;
                std::vector<std::string>::__vdeallocate(v272 + 2);
                *&v272[2].__begin_ = *__src;
                v276 = &v272[3].__begin_;
                v275 = v272[3].__begin_;
                v272[2].__end_cap_.__value_ = *&v581[0];
                *&v581[0] = 0;
                __src[1] = 0;
                __src[0] = 0;
                if (v275)
                {
                  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::clear[abi:ne200100](&v272[3]);
                  operator delete(*v276);
                  *v276 = 0;
                  v272[3].__end_ = 0;
                  v272[3].__end_cap_.__value_ = 0;
                }

                p_end = &v272[4].__end_;
                v277 = v274[4].__end_;
                *&v274[3].__begin_ = *(v581 + 8);
                v274[3].__end_cap_.__value_ = *(&v581[1] + 1);
                memset(v581 + 8, 0, 24);
                std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::less<std::shared_ptr<RIO_MTLX::MaterialAssign const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>>>::destroy(v277);
                v279 = v583;
                v274[4].__begin_ = v582;
                v274[4].__end_ = v279;
                v280 = *(&v583 + 1);
                v274[4].__end_cap_.__value_ = *(&v583 + 1);
                if (v280)
                {
                  v279->__r_.__value_.__r.__words[2] = p_end;
                  v582 = &v583;
                  v583 = 0uLL;
                }

                else
                {
                  v274[4].__begin_ = p_end;
                }

                std::vector<std::pair<std::string,std::string>>::__vdeallocate(&v274[5]);
                *&v274[5].__begin_ = v584;
                v282 = v274[6].__end_;
                v281 = &v274[6].__end_;
                *(v281 - 2) = &v585->first;
                v585 = 0;
                v584 = 0uLL;
                std::__tree<std::string>::destroy((v281 - 1), v282);
                v283 = v587;
                *(v281 - 1) = v586;
                *v281 = v283;
                v284 = v588;
                v281[1] = v588;
                if (v284)
                {
                  break;
                }

                *(v281 - 1) = v281;
                if (v269)
                {
                  goto LABEL_547;
                }

LABEL_548:
                std::__tree<std::string>::destroy(&v586, v283);
                v589.__first_ = &v584;
                std::vector<std::pair<std::string,std::string>>::__destroy_vector::operator()[abi:ne200100](&v589);
                std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::less<std::shared_ptr<RIO_MTLX::MaterialAssign const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>>>::destroy(v583);
                v589.__first_ = (v581 + 8);
                std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v589);
                v589.__first_ = __src;
                std::vector<std::string>::__destroy_vector::operator()[abi:ne200100](&v589);
                v247 = v492;
              }

              v283->__r_.__value_.__r.__words[2] = v281;
              v283 = 0;
              v586 = &v587;
              v587 = 0;
              v588 = 0;
              if (!v269)
              {
                goto LABEL_548;
              }

LABEL_547:
              std::__shared_weak_count::__release_shared[abi:ne200100](v269);
              v283 = v587;
              goto LABEL_548;
            }

LABEL_552:
            *&v590 = __p;
            std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v590);
            v590 = 0u;
            v591 = 0u;
            v592 = 0u;
            v593 = &v594;
            v594 = 0;
            v595 = 0;
            v596 = 0;
            v597 = 0;
            v598 = 0;
            v600 = 0;
            v601 = 0;
            v599 = &v600;
            std::vector<std::string>::__assign_with_size[abi:ne200100]<std::string*,std::string*>(&v590, v532, v533, 0xAAAAAAAAAAAAAAABLL * ((v533 - v532) >> 3));
            v286 = v520;
            if (v520 != &v521)
            {
              do
              {
                v287 = v594;
                if (!v594)
                {
LABEL_560:
                  operator new();
                }

                v288 = v286[4];
                while (1)
                {
                  while (1)
                  {
                    v289 = v287;
                    v290 = v287[4];
                    if (v290 <= v288)
                    {
                      break;
                    }

                    v287 = *v289;
                    if (!*v289)
                    {
                      goto LABEL_560;
                    }
                  }

                  if (v290 >= v288)
                  {
                    break;
                  }

                  v287 = v289[1];
                  if (!v287)
                  {
                    goto LABEL_560;
                  }
                }

                if (*(__src[0] + 23) < 0)
                {
                  std::string::__init_copy_ctor_external(&v589, *__src[0], *(__src[0] + 1));
                }

                else
                {
                  v291 = *__src[0];
                  v589.__end_ = *(__src[0] + 2);
                  *&v589.__first_ = v291;
                }

                v292 = v592;
                if (v592 >= *(&v592 + 1))
                {
                  v295 = (v592 - *(&v591 + 1)) >> 4;
                  v296 = v295 + 1;
                  if ((v295 + 1) >> 60)
                  {
                    std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>::__throw_length_error[abi:ne200100]();
                  }

                  v297 = *(&v592 + 1) - *(&v591 + 1);
                  if ((*(&v592 + 1) - *(&v591 + 1)) >> 3 > v296)
                  {
                    v296 = v297 >> 3;
                  }

                  if (v297 >= 0x7FFFFFFFFFFFFFF0)
                  {
                    v298 = 0xFFFFFFFFFFFFFFFLL;
                  }

                  else
                  {
                    v298 = v296;
                  }

                  if (v298)
                  {
                    if (!(v298 >> 60))
                    {
                      operator new();
                    }

                    std::__throw_bad_array_new_length[abi:ne200100]();
                  }

                  v299 = 16 * v295;
                  v300 = *(v286 + 2);
                  *(16 * v295) = v300;
                  if (*(&v300 + 1))
                  {
                    atomic_fetch_add_explicit((*(&v300 + 1) + 8), 1uLL, memory_order_relaxed);
                  }

                  v294 = v299 + 16;
                  v301 = *(&v591 + 1);
                  v302 = (v299 - (v592 - *(&v591 + 1)));
                  v285 = memcpy(v302, *(&v591 + 1), v592 - *(&v591 + 1));
                  *(&v591 + 1) = v302;
                  v592 = v294;
                  if (v301)
                  {
                    operator delete(v301);
                  }
                }

                else
                {
                  *v592 = v286[4];
                  v293 = v286[5];
                  *(v292 + 8) = v293;
                  if (v293)
                  {
                    atomic_fetch_add_explicit((v293 + 8), 1uLL, memory_order_relaxed);
                  }

                  v294 = v292 + 16;
                }

                *&v592 = v294;
                if (v286[15] != v286[16])
                {
                  operator new();
                }

                if (SHIBYTE(v589.__end_) < 0)
                {
                  operator delete(v589.__first_);
                }

                v303 = v286[1];
                if (v303)
                {
                  do
                  {
                    v304 = v303;
                    v303 = *v303;
                  }

                  while (v303);
                }

                else
                {
                  do
                  {
                    v304 = v286[2];
                    v305 = *v304 == v286;
                    v286 = v304;
                  }

                  while (!v305);
                }

                v286 = v304;
              }

              while (v304 != &v521);
            }

            v521 = 0;
            v522 = 0;
            v520 = &v521;
            v496 = *(&v591 + 1);
            for (ii = v592; v496 != ii; v4 = j)
            {
              if (*(__src[0] + 23) < 0)
              {
                std::string::__init_copy_ctor_external(&v576, *__src[0], *(__src[0] + 1));
              }

              else
              {
                v307 = *__src[0];
                v576.__r_.__value_.__r.__words[2] = *(__src[0] + 2);
                *&v576.__r_.__value_.__l.__data_ = v307;
              }

              memset(&v570, 0, sizeof(v570));
              std::vector<std::string>::__init_with_size[abi:ne200100]<std::string*,std::string*>(&v570, v590, *(&v590 + 1), 0xAAAAAAAAAAAAAAABLL * ((*(&v590 + 1) - v590) >> 3));
              v308 = v570.__r_.__value_.__l.__size_;
              v493 = v570.__r_.__value_.__l.__size_;
              for (jj = v570.__r_.__value_.__r.__words[0]; jj != v308; jj += 24)
              {
                v311 = *VariantSelections;
                v503 = VariantSelections + 1;
                if (*VariantSelections != VariantSelections + 1)
                {
                  do
                  {
                    v312 = v545[0];
                    if (v545[0])
                    {
                      v313 = v545;
                      do
                      {
                        v314 = v313;
                        v315 = v312 + 4;
                        v316 = std::less<std::string>::operator()[abi:ne200100](&v544, v312 + 4, &v576.__r_.__value_.__l.__data_);
                        v317 = v316;
                        if (!v316)
                        {
                          v313 = v312;
                        }

                        v312 = v312[v317];
                      }

                      while (v312);
                      if (v313 != v545)
                      {
                        v318 = (v316 ? v314 + 4 : v315);
                        if (!std::less<std::string>::operator()[abi:ne200100](&v544, &v576.__r_.__value_.__l.__data_, v318))
                        {
                          v319 = v531[0];
                          if (v531[0])
                          {
                            v320 = v531;
                            do
                            {
                              v321 = v320;
                              v322 = v319 + 4;
                              v323 = std::less<std::string>::operator()[abi:ne200100](&v530, v319 + 4, jj);
                              v324 = v323;
                              if (!v323)
                              {
                                v320 = v319;
                              }

                              v319 = v319[v324];
                            }

                            while (v319);
                            if (v320 != v531)
                            {
                              v325 = (v323 ? v321 + 4 : v322);
                              if (!std::less<std::string>::operator()[abi:ne200100](&v530, jj, v325))
                              {
                                v328 = v320[8];
                                v326 = v320 + 8;
                                v327 = v328;
                                if (v328)
                                {
                                  v329 = v326;
                                  do
                                  {
                                    v330 = std::less<std::string>::operator()[abi:ne200100]((v326 - 1), (v327 + 32), v311 + 7);
                                    if (v330)
                                    {
                                      v331 = 8;
                                    }

                                    else
                                    {
                                      v331 = 0;
                                    }

                                    if (!v330)
                                    {
                                      v329 = v327;
                                    }

                                    v327 = *(v327 + v331);
                                  }

                                  while (v327);
                                  if (v329 != v326 && !std::less<std::string>::operator()[abi:ne200100]((v326 - 1), v311 + 7, v329 + 4))
                                  {
                                    pxrInternal__aapl__pxrReserved__::UsdObject::UsdObject(__src, &__p[1], &v573);
                                    pxrInternal__aapl__pxrReserved__::UsdPrim::GetVariantSet();
                                    if ((BYTE8(v581[0]) & 7) != 0)
                                    {
                                      atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                                    }

                                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                                    if (__src[1])
                                    {
                                      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                                    }

                                    if (pxrInternal__aapl__pxrReserved__::UsdVariantSet::AddVariant())
                                    {
                                      pxrInternal__aapl__pxrReserved__::UsdVariantSet::SetVariantSelection();
                                      v515 = 0;
                                      v516 = 0;
                                      pxrInternal__aapl__pxrReserved__::UsdVariantSet::GetVariantEditContext();
                                      MEMORY[0x24C1A51B0](__src, &v589);
                                      pxrInternal__aapl__pxrReserved__::PcpMapFunction::_Data::~_Data(&v589.__end_cap_.std::__compressed_pair_elem<std::allocator<std::pair<std::string, std::string>> &, 1, false>);
                                      value = v589.__end_cap_.__value_;
                                      if (v589.__end_cap_.__value_ && atomic_fetch_add_explicit(&v589.__end_cap_.__value_->first.__r_.__value_.__r.__words[1], 0xFFFFFFFF, memory_order_release) == 1)
                                      {
                                        (*(value->first.__r_.__value_.__r.__words[0] + 8))(value);
                                      }

                                      v333 = v589.__begin_;
                                      if (v589.__begin_ && atomic_fetch_add_explicit(&v589.__begin_->first.__r_.__value_.__r.__words[1], 0xFFFFFFFF, memory_order_release) == 1)
                                      {
                                        (*(v333->first.__r_.__value_.__r.__words[0] + 8))(v333);
                                      }

                                      v334 = v516;
                                      if (v516 && atomic_fetch_add_explicit(&v516->__r_.__value_.__r.__words[1], 0xFFFFFFFF, memory_order_release) == 1)
                                      {
                                        (*(v334->__r_.__value_.__r.__words[0] + 8))(v334);
                                      }

                                      std::string::basic_string[abi:ne200100]<0>(&v589, "");
                                      v337 = v313[8];
                                      v336 = (v313 + 8);
                                      v335 = v337;
                                      if (!v337)
                                      {
                                        goto LABEL_658;
                                      }

                                      v338 = v336;
                                      do
                                      {
                                        v339 = std::less<std::string>::operator()[abi:ne200100]((v336 - 1), v335 + 4, &v589.__first_);
                                        v340 = v339;
                                        if (!v339)
                                        {
                                          v338 = v335;
                                        }

                                        v335 = v335[v340];
                                      }

                                      while (v335);
                                      if (v338 == v336 || std::less<std::string>::operator()[abi:ne200100]((v336 - 1), &v589.__first_, v338 + 4))
                                      {
LABEL_658:
                                        v338 = v336;
                                      }

                                      if (SHIBYTE(v589.__end_) < 0)
                                      {
                                        operator delete(v589.__first_);
                                      }

                                      if (v336 != v338)
                                      {
                                        v341 = v329[7];
                                        v342 = v329 + 8;
                                        if (v341 != v342)
                                        {
                                          do
                                          {
                                            v343 = v341[8];
                                            v515 = v341[7];
                                            v516 = v343;
                                            if (v343)
                                            {
                                              atomic_fetch_add_explicit(&v343->__r_.__value_.__l.__size_, 1uLL, memory_order_relaxed);
                                            }

                                            if ((v589.__end_cap_.__value_ & 7) != 0)
                                            {
                                              atomic_fetch_add_explicit((v589.__end_cap_.__value_ & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                                            }

                                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v589.__end_);
                                            if (v589.__begin_)
                                            {
                                              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v589.__begin_);
                                            }

                                            if (v516)
                                            {
                                              std::__shared_weak_count::__release_shared[abi:ne200100](v516);
                                            }

                                            v344 = v341[1];
                                            if (v344)
                                            {
                                              do
                                              {
                                                v345 = v344;
                                                v344 = *v344;
                                              }

                                              while (v344);
                                            }

                                            else
                                            {
                                              do
                                              {
                                                v345 = v341[2];
                                                v305 = *v345 == v341;
                                                v341 = v345;
                                              }

                                              while (!v305);
                                            }

                                            v341 = v345;
                                          }

                                          while (v345 != v342);
                                        }
                                      }

                                      MEMORY[0x24C1A51C0](__src);
                                      pxrInternal__aapl__pxrReserved__::UsdVariantSet::ClearVariantSelection(&v553);
                                    }

                                    else
                                    {
                                      __src[0] = "CoreRealityIO/mtlxToUsdShade.cpp";
                                      __src[1] = "AddMaterialVariant";
                                      *&v581[0] = 1556;
                                      *(&v581[0] + 1) = "void realityio::mtlx::(anonymous namespace)::_Context::AddMaterialVariant(const std::string &, const VariantSetName &, const VariantName &) const";
                                      LOBYTE(v581[1]) = 0;
                                      if (*(v311 + 79) < 0)
                                      {
                                        v346 = v311[7];
                                      }

                                      if (*(jj + 23) < 0)
                                      {
                                        v347 = *jj;
                                      }

                                      pxrInternal__aapl__pxrReserved__::UsdSchemaBase::GetPath(__p, &v589);
                                      pxrInternal__aapl__pxrReserved__::SdfPath::GetText(&v589);
                                      pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper();
                                      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                                      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v589);
                                    }

                                    if (v558 < 0)
                                    {
                                      operator delete(v557);
                                    }

                                    if ((v556 & 7) != 0)
                                    {
                                      atomic_fetch_add_explicit((v556 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                                    }

                                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v555);
                                    if (v554)
                                    {
                                      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v554);
                                    }

                                    MEMORY[0x24C1A5510](__p);
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }

                    v348 = v311[1];
                    if (v348)
                    {
                      do
                      {
                        v349 = v348;
                        v348 = *v348;
                      }

                      while (v348);
                    }

                    else
                    {
                      do
                      {
                        v349 = v311[2];
                        v305 = *v349 == v311;
                        v311 = v349;
                      }

                      while (!v305);
                    }

                    v311 = v349;
                  }

                  while (v349 != v503);
                }

                v308 = v493;
              }

              __src[0] = &v570;
              std::vector<std::string>::__destroy_vector::operator()[abi:ne200100](__src);
              if (SHIBYTE(v576.__r_.__value_.__r.__words[2]) < 0)
              {
                operator delete(v576.__r_.__value_.__l.__data_);
              }

              v496 += 2;
            }

            MEMORY[0x24C1A5DE0](__src, "Looks");
            pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v519, a3, __src);
            if ((__src[0] & 7) != 0)
            {
              atomic_fetch_add_explicit((__src[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            v350 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(v4);
            __src[0] = 0;
            pxrInternal__aapl__pxrReserved__::UsdStage::DefinePrim(&v515, v350, a4, __src);
            if ((__src[0] & 7) != 0)
            {
              atomic_fetch_add_explicit((__src[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            pxrInternal__aapl__pxrReserved__::UsdPrim::GetVariantSets(__src, &v515);
            std::string::basic_string[abi:ne200100]<0>(&v589, "LookVariant");
            pxrInternal__aapl__pxrReserved__::UsdVariantSets::AddVariantSet();
            if (SHIBYTE(v589.__end_) < 0)
            {
              operator delete(v589.__first_);
            }

            if ((BYTE8(v581[0]) & 7) != 0)
            {
              atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
            v351 = __src[1];
            if (__src[1])
            {
              v351 = pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
            }

            v352 = *a1;
            v353 = RIO_MTLX::EMPTY_STRING(v351);
            RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Look>(v352, v353, &v513);
            v354 = v513;
            v483 = v514;
            if (v513 != v514)
            {
              do
              {
                v510 = 0;
                v511 = 0;
                v512 = 0;
                __src[1] = 0;
                *&v581[0] = 0;
                __src[0] = &__src[1];
                v355 = v354;
                RIO_MTLX::Element::getDocument(*v354, &v589);
                v356 = *v355;
                v357 = v355[1];
                v485 = v355;
                __p[0] = *v355;
                __p[1] = v357;
                if (v357)
                {
                  atomic_fetch_add_explicit(v357 + 1, 1uLL, memory_order_relaxed);
                }

                while (v356)
                {
                  v358 = __src[1];
LABEL_714:
                  if (!v358)
                  {
LABEL_720:
                    operator new();
                  }

                  while (1)
                  {
                    v359 = v358;
                    v360 = v358[4];
                    if (v360 > v356)
                    {
                      v358 = *v359;
                      goto LABEL_714;
                    }

                    if (v360 >= v356)
                    {
                      break;
                    }

                    v358 = v359[1];
                    if (!v358)
                    {
                      goto LABEL_720;
                    }
                  }

                  v361 = std::vector<std::shared_ptr<RIO_MTLX::Element>>::push_back[abi:ne200100](&v510, __p);
                  v362 = v589.__first_;
                  v363 = std::__hash_table<std::__hash_value_type<std::string,std::string>,std::__unordered_map_hasher<std::string,std::__hash_value_type<std::string,std::string>,std::hash<std::string>,std::equal_to<std::string>,true>,std::__unordered_map_equal<std::string,std::__hash_value_type<std::string,std::string>,std::equal_to<std::string>,std::hash<std::string>,true>,std::allocator<std::__hash_value_type<std::string,std::string>>>::find<std::string>(__p[0] + 20, &qword_27EE53970);
                  if (v363)
                  {
                    v364 = (v363 + 40);
                  }

                  else
                  {
                    v363 = RIO_MTLX::EMPTY_STRING(0);
                    v364 = v363;
                  }

                  v365 = *(v364 + 23);
                  if ((v365 & 0x80u) != 0)
                  {
                    v365 = v364[1];
                  }

                  if (!v365)
                  {
                    v364 = RIO_MTLX::EMPTY_STRING(v363);
                  }

                  v366 = std::__hash_table<std::__hash_value_type<std::string,std::string>,std::__unordered_map_hasher<std::string,std::__hash_value_type<std::string,std::string>,std::hash<std::string>,std::equal_to<std::string>,true>,std::__unordered_map_equal<std::string,std::__hash_value_type<std::string,std::string>,std::equal_to<std::string>,std::hash<std::string>,true>,std::allocator<std::__hash_value_type<std::string,std::string>>>::find<std::string>(v362[2].first.__r_.__value_.__r.__words, v364);
                  v367 = v366;
                  if (v366)
                  {
                    v368 = v366[5];
                    v369 = v367[6];
                    if (v369)
                    {
                      atomic_fetch_add_explicit(&v369->__shared_owners_, 1uLL, memory_order_relaxed);
                    }

                    if (v368)
                    {
                      v370 = **v368;
                      v371 = 0;
                      if (v368)
                      {
                        v372 = 0;
                      }

                      else
                      {
                        v372 = v369;
                      }

                      if (v369 && v368)
                      {
                        atomic_fetch_add_explicit(&v369->__shared_owners_, 1uLL, memory_order_relaxed);
                        v371 = v369;
                      }

                      else
                      {
                        v369 = v372;
                      }
                    }

                    else
                    {
                      v371 = 0;
                    }
                  }

                  else
                  {
                    v369 = 0;
                    v371 = 0;
                    v368 = 0;
                  }

                  v373 = __p[1];
                  __p[0] = v368;
                  __p[1] = v371;
                  if (v373)
                  {
                    std::__shared_weak_count::__release_shared[abi:ne200100](v373);
                  }

                  if (v369)
                  {
                    std::__shared_weak_count::__release_shared[abi:ne200100](v369);
                  }

                  v356 = __p[0];
                }

                if (__p[1])
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](__p[1]);
                }

                v374 = v510;
                if (v510 != v511)
                {
                  v375 = v511 - 16;
                  if (v511 - 16 > v510)
                  {
                    do
                    {
                      v376 = *v374;
                      *v374 = *v375;
                      *v375 = v376;
                      v377 = *(v374 + 1);
                      *(v374 + 1) = *(v375 + 1);
                      *(v375 + 1) = v377;
                      v374 += 16;
                      v375 -= 16;
                    }

                    while (v374 < v375);
                  }
                }

                if (v589.__begin_)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v589.__begin_);
                }

                std::__tree<std::shared_ptr<RIO_MTLX::Collection>>::destroy(__src[1]);
                v378 = v510;
                v379 = v511;
                v499 = v511;
                while (v378 != v379)
                {
                  v504 = v378;
                  v380 = *v378;
                  if (*(v380 + 71) < 0)
                  {
                    std::string::__init_copy_ctor_external(&v509, *(v380 + 48), *(v380 + 56));
                  }

                  else
                  {
                    v509 = *(v380 + 48);
                  }

                  v381 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(v4);
                  MEMORY[0x24C1A5E00](&v589, &v509);
                  pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(__src, &v519, &v589);
                  __p[0] = 0;
                  pxrInternal__aapl__pxrReserved__::UsdStage::DefinePrim(v506, v381, __src, __p);
                  if ((__p[0] & 7) != 0)
                  {
                    atomic_fetch_add_explicit((__p[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }

                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(__src);
                  if ((v589.__first_ & 7) != 0)
                  {
                    atomic_fetch_add_explicit((v589.__first_ & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }

                  if ((pxrInternal__aapl__pxrReserved__::UsdPrim::HasAuthoredReferences(v506) & 1) == 0)
                  {
                    v382 = *(v504 + 1);
                    v505 = *v504;
                    if (v382)
                    {
                      atomic_fetch_add_explicit(&v382->__shared_owners_, 1uLL, memory_order_relaxed);
                    }

                    if ((atomic_load_explicit(&qword_27EE537C0, memory_order_acquire) & 1) == 0 && __cxa_guard_acquire(&qword_27EE537C0))
                    {
                      MEMORY[0x24C1A5DE0](&unk_27EE537B8, "Materials");
                      __cxa_guard_release(&qword_27EE537C0);
                    }

                    __src[0] = v505;
                    __src[1] = v382;
                    if (v382)
                    {
                      atomic_fetch_add_explicit(&v382->__shared_owners_, 1uLL, memory_order_relaxed);
                    }

                    if (v382)
                    {
                      std::__shared_weak_count::__release_shared[abi:ne200100](v382);
                    }

                    v384 = std::__hash_table<std::__hash_value_type<std::string,std::string>,std::__unordered_map_hasher<std::string,std::__hash_value_type<std::string,std::string>,std::hash<std::string>,std::equal_to<std::string>,true>,std::__unordered_map_equal<std::string,std::__hash_value_type<std::string,std::string>,std::equal_to<std::string>,std::hash<std::string>,true>,std::allocator<std::__hash_value_type<std::string,std::string>>>::find<std::string>(v505 + 20, &qword_27EE53970);
                    if (v384)
                    {
                      v385 = (v384 + 40);
                    }

                    else
                    {
                      v384 = RIO_MTLX::EMPTY_STRING(0);
                      v385 = v384;
                    }

                    v386 = *(v385 + 23);
                    if ((v386 & 0x80u) == 0)
                    {
                      v387 = *(v385 + 23);
                    }

                    else
                    {
                      v387 = v385[1];
                    }

                    if (v387)
                    {
                      if ((v386 & 0x80) == 0)
                      {
                        goto LABEL_779;
                      }

LABEL_782:
                      if (v385[1])
                      {
                        goto LABEL_783;
                      }
                    }

                    else
                    {
                      v385 = RIO_MTLX::EMPTY_STRING(v384);
                      v386 = *(v385 + 23);
                      if ((v386 & 0x80) != 0)
                      {
                        goto LABEL_782;
                      }

LABEL_779:
                      if (v386)
                      {
LABEL_783:
                        pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(v506, &v589);
                        pxrInternal__aapl__pxrReserved__::SdfPath::GetParentPath(__src, &v589);
                        pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v576, __src, __p);
                        if ((__p[0] & 7) != 0)
                        {
                          atomic_fetch_add_explicit((__p[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(__src);
                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v589);
                        pxrInternal__aapl__pxrReserved__::UsdPrim::GetReferences(__src, v506);
                        pxrInternal__aapl__pxrReserved__::SdfLayerOffset::SdfLayerOffset(&v589, 0.0, 1.0);
                        pxrInternal__aapl__pxrReserved__::UsdReferences::AddInternalReference();
                        if ((BYTE8(v581[0]) & 7) != 0)
                        {
                          atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                        if (__src[1])
                        {
                          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v576);
                      }
                    }

                    if ((v482 & 1) == 0)
                    {
                      pxrInternal__aapl__pxrReserved__::UsdPrim::GetReferences(__src, v506);
                      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(__p, &v525);
                      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(__p + 1, &v525 + 1);
                      pxrInternal__aapl__pxrReserved__::SdfLayerOffset::SdfLayerOffset(&v589, 0.0, 1.0);
                      pxrInternal__aapl__pxrReserved__::UsdReferences::AddInternalReference();
                      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(__p);
                      if ((BYTE8(v581[0]) & 7) != 0)
                      {
                        atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                      }

                      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                      if (__src[1])
                      {
                        pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                      }
                    }

                    pxrInternal__aapl__pxrReserved__::UsdObject::GetStage(__src, v506);
                    v388 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(__src);
                    pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(v506, __p);
                    pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v589, __p, &unk_27EE537B8);
                    v570.__r_.__value_.__r.__words[0] = 0;
                    pxrInternal__aapl__pxrReserved__::UsdStage::DefinePrim(&v576, v388, &v589, &v570);
                    if ((v570.__r_.__value_.__s.__data_[0] & 7) != 0)
                    {
                      atomic_fetch_add_explicit((v570.__r_.__value_.__r.__words[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                    }

                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v589);
                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(__p);
                    v389 = __src[1];
                    if (__src[1] && atomic_fetch_add_explicit(__src[1] + 2, 0xFFFFFFFF, memory_order_release) == 1)
                    {
                      v389 = (*(*v389 + 8))(v389);
                    }

                    v497 = v382;
                    *&v575.__r_.__value_.__r.__words[1] = 0uLL;
                    v575.__r_.__value_.__r.__words[0] = &v575.__r_.__value_.__l.__size_;
                    v390 = RIO_MTLX::EMPTY_STRING(v389);
                    RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::MaterialAssign>(v505, v390, __src);
                    v391 = __src[0];
                    v392 = __src[1];
                    while (v391 != v392)
                    {
                      v393 = *v391;
                      v394 = v391[1];
                      if (v394)
                      {
                        atomic_fetch_add_explicit(&v394->__shared_owners_, 1uLL, memory_order_relaxed);
                      }

                      if (v393)
                      {
                        v395 = __p[0];
                      }

                      else
                      {
                        v395 = 0;
                        __p[0] = 0;
                      }

                      v396 = *std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>>>::__find_equal<pxrInternal__aapl__pxrReserved__::TfToken>(&v575, &v589, v395);
                      if (!v396)
                      {
                        operator new();
                      }

                      *(v396 + 40) = 0;
                      if ((__p[0] & 7) != 0)
                      {
                        atomic_fetch_add_explicit((__p[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                      }

                      if (v394)
                      {
                        std::__shared_weak_count::__release_shared[abi:ne200100](v394);
                      }

                      v391 += 2;
                    }

                    v589.__first_ = __src;
                    std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v589);
                    UsdPrimAllPrimsPredicate = pxrInternal__aapl__pxrReserved__::GetUsdPrimAllPrimsPredicate(v397);
                    v400 = *UsdPrimAllPrimsPredicate;
                    v399 = *(UsdPrimAllPrimsPredicate + 8);
                    v401 = *(UsdPrimAllPrimsPredicate + 16);
                    if ((pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::operator BOOL() & 1) == 0 && ((v400 & 0x2000) != 0 || (v399 & 0x2000) == 0))
                    {
                      v400 |= 0x2000uLL;
                      v399 &= ~0x2000uLL;
                    }

                    v589.__first_ = v400;
                    v589.__begin_ = v399;
                    v589.__end_ = v401;
                    pxrInternal__aapl__pxrReserved__::UsdPrim::_MakeSiblingRange(&v576, &v589, __src);
                    v589.__first_ = __src[0];
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(&v589.__begin_, &__src[1]);
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(&v589.__begin_ + 1, &__src[1] + 1);
                    *&v589.__end_ = v581[0];
                    __p[0] = *(&v581[1] + 1);
                    v589.__end_cap_.__value_ = *&v581[1];
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(&__p[1], &v582);
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl(&__p[1] + 1, &v582 + 1);
                    v573 = v583;
                    v574 = v584;
                    v4 = j;
                    while (v589.__first_ != __p[0] || v589.__begin_ != __p[1] || !pxrInternal__aapl__pxrReserved__::operator==(&v589.__end_, &v573))
                    {
                      pxrInternal__aapl__pxrReserved__::UsdPrimSiblingIterator::dereference(&v589, &v570);
                      Name = pxrInternal__aapl__pxrReserved__::UsdObject::GetName(&v570);
                      *(std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>>>::__emplace_unique_key_args<pxrInternal__aapl__pxrReserved__::TfToken,std::piecewise_construct_t const&,std::tuple<pxrInternal__aapl__pxrReserved__::TfToken const&>,std::tuple<>>(&v575, *Name) + 40) = 1;
                      if ((v571 & 7) != 0)
                      {
                        atomic_fetch_add_explicit((v571 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                      }

                      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v570.__r_.__value_.__r.__words[2]);
                      if (v570.__r_.__value_.__l.__size_)
                      {
                        pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v570.__r_.__value_.__l.__size_);
                      }

                      pxrInternal__aapl__pxrReserved__::UsdPrimSiblingIterator::increment(&v589);
                    }

                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__p[1]);
                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v589.__begin_);
                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v582);
                    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__src[1]);
                    pxrInternal__aapl__pxrReserved__::UsdShadeMaterialBindingAPI::Apply();
                    PropertyOrder = pxrInternal__aapl__pxrReserved__::UsdPrim::GetPropertyOrder(&Name, v506);
                    v566 = 0;
                    v565 = 0;
                    v567 = 0;
                    v403 = RIO_MTLX::EMPTY_STRING(PropertyOrder);
                    RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::MaterialAssign>(v505, v403, v564);
                    v405 = v564[0];
                    v406 = v564[1];
                    while (2)
                    {
                      if (v405 == v406)
                      {
                        __src[0] = v564;
                        std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](__src);
                        v458 = v566;
                        if (v565 != v566)
                        {
                          v459 = Name;
                          v460 = v569;
                          v461 = v569 - Name;
                          v462 = v569 - Name;
                          if (v462 >= 1)
                          {
                            if (v567 - v566 >= v461)
                            {
                              if (Name == v569)
                              {
                                v466 = v566;
                              }

                              else
                              {
                                v466 = v566;
                                do
                                {
                                  v467 = *v459;
                                  *v458 = *v459;
                                  if ((v467 & 7) != 0 && (atomic_fetch_add_explicit((v467 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
                                  {
                                    *v458 &= 0xFFFFFFFFFFFFFFF8;
                                  }

                                  ++v459;
                                  v458 += 8;
                                  v466 += 8;
                                }

                                while (v459 != v460);
                              }

                              v566 = v466;
                            }

                            else
                            {
                              v463 = v462 + ((v566 - v565) >> 3);
                              if (v463 >> 61)
                              {
                                std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__throw_length_error[abi:ne200100]();
                              }

                              v464 = v567 - v565;
                              if ((v567 - v565) >> 2 > v463)
                              {
                                v463 = v464 >> 2;
                              }

                              if (v464 >= 0x7FFFFFFFFFFFFFF8)
                              {
                                v465 = 0x1FFFFFFFFFFFFFFFLL;
                              }

                              else
                              {
                                v465 = v463;
                              }

                              *&v581[1] = &v565;
                              if (v465)
                              {
                                std::__allocate_at_least[abi:ne200100]<std::allocator<pxrInternal__aapl__pxrReserved__::TfToken>>(&v565, v465);
                              }

                              v468 = (8 * ((v566 - v565) >> 3));
                              __src[0] = 0;
                              __src[1] = v468;
                              *(&v581[0] + 1) = 0;
                              v469 = v468 + v461;
                              do
                              {
                                v470 = *v459;
                                *v468 = *v459;
                                if ((v470 & 7) != 0 && (atomic_fetch_add_explicit((v470 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
                                {
                                  *v468 &= 0xFFFFFFFFFFFFFFF8;
                                }

                                ++v468;
                                ++v459;
                                v461 -= 8;
                              }

                              while (v461);
                              *&v581[0] = v469;
                              std::vector<pxrInternal__aapl__pxrReserved__::TfToken>::__swap_out_circular_buffer(&v565, __src, v458);
                              std::__split_buffer<pxrInternal__aapl__pxrReserved__::TfToken>::~__split_buffer(__src);
                            }
                          }

                          pxrInternal__aapl__pxrReserved__::UsdPrim::SetPropertyOrder(v506);
                        }

                        __src[0] = &v565;
                        std::vector<pxrInternal__aapl__pxrReserved__::TfToken>::__destroy_vector::operator()[abi:ne200100](__src);
                        __src[0] = &Name;
                        std::vector<pxrInternal__aapl__pxrReserved__::TfToken>::__destroy_vector::operator()[abi:ne200100](__src);
                        MEMORY[0x24C1A5AA0](&v589);
                        std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>>>::destroy(v575.__r_.__value_.__l.__size_);
                        if ((v577 & 7) != 0)
                        {
                          atomic_fetch_add_explicit((v577 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v576.__r_.__value_.__r.__words[2]);
                        if (v576.__r_.__value_.__l.__size_)
                        {
                          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v576.__r_.__value_.__l.__size_);
                        }

                        if (v497)
                        {
                          std::__shared_weak_count::__release_shared[abi:ne200100](v497);
                        }

                        if (pxrInternal__aapl__pxrReserved__::UsdVariantSet::AddVariant())
                        {
                          pxrInternal__aapl__pxrReserved__::UsdVariantSet::SetVariantSelection();
                          __p[1] = 0;
                          __p[0] = 0;
                          pxrInternal__aapl__pxrReserved__::UsdVariantSet::GetVariantEditContext();
                          MEMORY[0x24C1A51B0](__src, &v589);
                          pxrInternal__aapl__pxrReserved__::PcpMapFunction::_Data::~_Data(&v589.__end_cap_.std::__compressed_pair_elem<std::allocator<std::pair<std::string, std::string>> &, 1, false>);
                          v471 = v589.__end_cap_.__value_;
                          if (v589.__end_cap_.__value_ && atomic_fetch_add_explicit(&v589.__end_cap_.__value_->first.__r_.__value_.__r.__words[1], 0xFFFFFFFF, memory_order_release) == 1)
                          {
                            (*(v471->first.__r_.__value_.__r.__words[0] + 8))(v471);
                          }

                          v472 = v589.__begin_;
                          if (v589.__begin_ && atomic_fetch_add_explicit(&v589.__begin_->first.__r_.__value_.__r.__words[1], 0xFFFFFFFF, memory_order_release) == 1)
                          {
                            (*(v472->first.__r_.__value_.__r.__words[0] + 8))(v472);
                          }

                          v473 = __p[1];
                          if (__p[1] && atomic_fetch_add_explicit(__p[1] + 2, 0xFFFFFFFF, memory_order_release) == 1)
                          {
                            (*(*v473 + 8))(v473);
                          }

                          pxrInternal__aapl__pxrReserved__::UsdPrim::GetReferences(&v589, &v515);
                          pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(v506, &v576);
                          pxrInternal__aapl__pxrReserved__::SdfLayerOffset::SdfLayerOffset(__p, 0.0, 1.0);
                          pxrInternal__aapl__pxrReserved__::UsdReferences::AddInternalReference();
                          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v576);
                          if ((v589.__end_cap_.__value_ & 7) != 0)
                          {
                            atomic_fetch_add_explicit((v589.__end_cap_.__value_ & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                          }

                          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v589.__end_);
                          if (v589.__begin_)
                          {
                            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v589.__begin_);
                          }

                          MEMORY[0x24C1A51C0](__src);
                        }

                        else
                        {
                          __src[0] = "CoreRealityIO/mtlxToUsdShade.cpp";
                          __src[1] = "UsdMtlxRead";
                          *&v581[0] = 2457;
                          *(&v581[0] + 1) = "void realityio::mtlx::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
                          LOBYTE(v581[1]) = 0;
                          pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(&v515, &v589);
                          pxrInternal__aapl__pxrReserved__::SdfPath::GetText(&v589);
                          pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper();
                          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v589);
                        }

                        break;
                      }

                      v407 = std::__hash_table<std::__hash_value_type<std::string,std::string>,std::__unordered_map_hasher<std::string,std::__hash_value_type<std::string,std::string>,std::hash<std::string>,std::equal_to<std::string>,true>,std::__unordered_map_equal<std::string,std::__hash_value_type<std::string,std::string>,std::equal_to<std::string>,std::hash<std::string>,true>,std::allocator<std::__hash_value_type<std::string,std::string>>>::find<std::string>((*v405 + 160), &qword_27EE539D0);
                      if (v407)
                      {
                        v408 = (v407 + 40);
                      }

                      else
                      {
                        v407 = RIO_MTLX::EMPTY_STRING(0);
                        v408 = v407;
                      }

                      v409 = *(v408 + 23);
                      if ((v409 & 0x80u) != 0)
                      {
                        v409 = v408[1];
                      }

                      if (!v409)
                      {
                        v408 = RIO_MTLX::EMPTY_STRING(v407);
                      }

                      if (v563 && (*(v563 + 57) & 8) == 0 && ((*(v562 + 32))(&v562) & 1) != 0)
                      {
                        v410 = *v405;
                        v411 = v405[1];
                        if (v411)
                        {
                          atomic_fetch_add_explicit(&v411->__shared_owners_, 1uLL, memory_order_relaxed);
                        }

                        if (v410)
                        {
                          if (v411)
                          {
                            goto LABEL_843;
                          }
                        }

                        else
                        {
                          v561 = 0;
                          if (v411)
                          {
LABEL_843:
                            std::__shared_weak_count::__release_shared[abi:ne200100](v411);
                          }
                        }

                        v570.__r_.__value_.__r.__words[0] = &v561;
                        v412 = std::__tree<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::__map_value_compare<pxrInternal__aapl__pxrReserved__::TfToken,std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>,std::less<pxrInternal__aapl__pxrReserved__::TfToken>,true>,std::allocator<std::__value_type<pxrInternal__aapl__pxrReserved__::TfToken,int>>>::__emplace_unique_key_args<pxrInternal__aapl__pxrReserved__::TfToken,std::piecewise_construct_t const&,std::tuple<pxrInternal__aapl__pxrReserved__::TfToken const&>,std::tuple<>>(&v575, v561);
                        v413 = v412;
                        if (*(v412 + 40))
                        {
                          pxrInternal__aapl__pxrReserved__::UsdObject::GetStage(&v559, &v576);
                          v414 = v406;
                          Path = pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(&v576, &v579);
                          v416 = __p;
                          if ((v561 & 0xFFFFFFFFFFFFFFF8) != 0)
                          {
                            EmptyString = (v561 & 0xFFFFFFFFFFFFFFF8) + 16;
                          }

                          else
                          {
                            EmptyString = pxrInternal__aapl__pxrReserved__::TfToken::_GetEmptyString(Path);
                          }

                          if (*(EmptyString + 23) >= 0)
                          {
                            v418 = *(EmptyString + 23);
                          }

                          else
                          {
                            v418 = *(EmptyString + 8);
                          }

                          std::string::basic_string[abi:ne200100](__p, v418 + 1);
                          if (SBYTE7(v573) < 0)
                          {
                            v416 = __p[0];
                          }

                          if (v418)
                          {
                            if (*(EmptyString + 23) >= 0)
                            {
                              v419 = EmptyString;
                            }

                            else
                            {
                              v419 = *EmptyString;
                            }

                            memmove(v416, v419, v418);
                          }

                          *(v416 + v418) = 95;
                          v4 = j;
                          v406 = v414;
                          do
                          {
                            v420 = *(v413 + 40);
                            *(v413 + 40) = v420 + 1;
                            std::to_string(&v570, v420);
                            if ((SBYTE7(v573) & 0x80u) == 0)
                            {
                              v421 = __p;
                            }

                            else
                            {
                              v421 = __p[0];
                            }

                            if ((SBYTE7(v573) & 0x80u) == 0)
                            {
                              v422 = BYTE7(v573);
                            }

                            else
                            {
                              v422 = __p[1];
                            }

                            v423 = std::string::insert(&v570, 0, v421, v422);
                            v424 = *&v423->__r_.__value_.__l.__data_;
                            *&v581[0] = *(&v423->__r_.__value_.__l + 2);
                            *__src = v424;
                            v423->__r_.__value_.__l.__size_ = 0;
                            v423->__r_.__value_.__r.__words[2] = 0;
                            v423->__r_.__value_.__r.__words[0] = 0;
                            MEMORY[0x24C1A5E00](&v578, __src);
                            if ((v561 & 7) != 0)
                            {
                              atomic_fetch_add_explicit((v561 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                            }

                            v561 = v578;
                            v578 = 0;
                            if (SBYTE7(v581[0]) < 0)
                            {
                              operator delete(__src[0]);
                            }

                            if (SHIBYTE(v570.__r_.__value_.__r.__words[2]) < 0)
                            {
                              operator delete(v570.__r_.__value_.__l.__data_);
                            }

                            v425 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(&v559);
                            pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v570, &v579, &v561);
                            pxrInternal__aapl__pxrReserved__::UsdStage::GetPrimAtPath(__src, v425, &v570);
                            v426 = pxrInternal__aapl__pxrReserved__::UsdObject::IsValid(__src);
                            if ((BYTE8(v581[0]) & 7) != 0)
                            {
                              atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                            }

                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                            if (__src[1])
                            {
                              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                            }

                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v570);
                          }

                          while ((v426 & 1) != 0);
                          if (SBYTE7(v573) < 0)
                          {
                            operator delete(__p[0]);
                          }

                          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v579);
                          v427 = v560;
                          if (v560 && atomic_fetch_add_explicit((v560 + 8), 0xFFFFFFFF, memory_order_release) == 1)
                          {
                            (*(*v427 + 8))(v427);
                          }
                        }

                        else
                        {
                          *(v412 + 40) = 1;
                        }

                        pxrInternal__aapl__pxrReserved__::UsdObject::GetStage(__src, &v576);
                        v428 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(__src);
                        pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(&v576, &v559);
                        pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v570, &v559, &v561);
                        v579 = 0;
                        pxrInternal__aapl__pxrReserved__::UsdStage::DefinePrim(__p, v428, &v570, &v579);
                        if ((v579 & 7) != 0)
                        {
                          atomic_fetch_add_explicit((v579 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v570);
                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v559);
                        v429 = __src[1];
                        if (__src[1] && atomic_fetch_add_explicit(__src[1] + 2, 0xFFFFFFFF, memory_order_release) == 1)
                        {
                          (*(*v429 + 8))(v429);
                        }

                        v430 = v405[1];
                        __src[0] = *v405;
                        __src[1] = v430;
                        if (v430)
                        {
                          atomic_fetch_add_explicit(&v430->__shared_owners_, 1uLL, memory_order_relaxed);
                        }

                        if (v430)
                        {
                          std::__shared_weak_count::__release_shared[abi:ne200100](v430);
                        }

                        pxrInternal__aapl__pxrReserved__::UsdPrim::GetReferences(__src, __p);
                        pxrInternal__aapl__pxrReserved__::UsdSchemaBase::GetPath(&v562, &v559);
                        pxrInternal__aapl__pxrReserved__::SdfLayerOffset::SdfLayerOffset(&v570, 0.0, 1.0);
                        pxrInternal__aapl__pxrReserved__::UsdReferences::AddInternalReference();
                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v559);
                        if ((BYTE8(v581[0]) & 7) != 0)
                        {
                          atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                        if (__src[1])
                        {
                          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                        }

                        v431 = *v405;
                        v432 = v405[1];
                        if (v432)
                        {
                          atomic_fetch_add_explicit(&v432->__shared_owners_, 1uLL, memory_order_relaxed);
                          std::__shared_weak_count::__release_shared[abi:ne200100](v432);
                        }

                        else
                        {
                        }

                        v436 = *v433;
                        v434 = v433 + 1;
                        v435 = v436;
                        if (v436 != v434)
                        {
                          do
                          {
                            pxrInternal__aapl__pxrReserved__::UsdPrim::GetVariantSet();
                            pxrInternal__aapl__pxrReserved__::UsdVariantSet::SetVariantSelection();
                            if (SHIBYTE(v582) < 0)
                            {
                              operator delete(*&v581[1]);
                            }

                            if ((BYTE8(v581[0]) & 7) != 0)
                            {
                              atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                            }

                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                            if (__src[1])
                            {
                              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                            }

                            v437 = v435[1];
                            if (v437)
                            {
                              do
                              {
                                v438 = v437;
                                v437 = *v437;
                              }

                              while (v437);
                            }

                            else
                            {
                              do
                              {
                                v438 = v435[2];
                                v305 = *v438 == v435;
                                v435 = v438;
                              }

                              while (!v305);
                            }

                            v435 = v438;
                          }

                          while (v438 != v434);
                        }

                        v439 = *v405;
                        v440 = v405[1];
                        if (v440)
                        {
                          atomic_fetch_add_explicit(&v440->__shared_owners_, 1uLL, memory_order_relaxed);
                        }

                        v441 = v543[0];
                        if (!v543[0])
                        {
                          goto LABEL_923;
                        }

                        v442 = v543;
                        do
                        {
                          v443 = v441[4];
                          v444 = v443 >= v439;
                          v445 = v443 < v439;
                          if (v444)
                          {
                            v442 = v441;
                          }

                          v441 = v441[v445];
                        }

                        while (v441);
                        if (v442 != v543 && v439 >= v442[4])
                        {
                          if (pxrInternal__aapl__pxrReserved__::UsdObject::IsValid(v506))
                          {
                            pxrInternal__aapl__pxrReserved__::UsdCollectionAPI::GetCollectionPath(&v559, (v442 + 6));
                            pxrInternal__aapl__pxrReserved__::SdfPath::GetPrimPath(__src, &v559);
                            pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(v506, &v578);
                            pxrInternal__aapl__pxrReserved__::SdfPath::ReplacePrefix(&v559, __src, &v578);
                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v578);
                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(__src);
                            if (pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::operator BOOL())
                            {
                              pxrInternal__aapl__pxrReserved__::UsdObject::GetStage(__src, v506);
                              pxrInternal__aapl__pxrReserved__::UsdCollectionAPI::GetCollection();
                              v456 = __src[1];
                              if (__src[1] && atomic_fetch_add_explicit(__src[1] + 2, 0xFFFFFFFF, memory_order_release) == 1)
                              {
                                (*(*v456 + 8))(v456);
                              }
                            }

                            else
                            {
                              LODWORD(__src[0]) = 1;
                              __src[1] = 0;
                              pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
                              pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
                              *(&v581[0] + 1) = 0;
                              v578 = 0;
                              pxrInternal__aapl__pxrReserved__::UsdAPISchemaBase::UsdAPISchemaBase(&v570, __src, &v578);
                              v570.__r_.__value_.__r.__words[0] = MEMORY[0x277D86730] + 16;
                              if ((BYTE8(v581[0]) & 7) != 0)
                              {
                                atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                              }

                              pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                              pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                              if (__src[1])
                              {
                                pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                              }
                            }

                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v579);
                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v559);
                          }

                          else
                          {
                            pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
                            v457 = v442[9];
                            v570.__r_.__value_.__r.__words[0] = MEMORY[0x277D86728] + 16;
                            v571 = v457;
                            if ((v457 & 7) != 0 && (atomic_fetch_add_explicit((v457 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
                            {
                              v571 &= 0xFFFFFFFFFFFFFFF8;
                            }

                            v570.__r_.__value_.__r.__words[0] = MEMORY[0x277D86730] + 16;
                          }
                        }

                        else
                        {
LABEL_923:
                          LODWORD(__src[0]) = 1;
                          __src[1] = 0;
                          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
                          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
                          *(&v581[0] + 1) = 0;
                          v559 = 0;
                          pxrInternal__aapl__pxrReserved__::UsdAPISchemaBase::UsdAPISchemaBase(&v570, __src, &v559);
                          v570.__r_.__value_.__r.__words[0] = MEMORY[0x277D86730] + 16;
                          if ((BYTE8(v581[0]) & 7) != 0)
                          {
                            atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                          }

                          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                          if (__src[1])
                          {
                            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                          }
                        }

                        if (v440)
                        {
                          std::__shared_weak_count::__release_shared[abi:ne200100](v440);
                        }

                        if (v570.__r_.__value_.__l.__size_ && (*(v570.__r_.__value_.__l.__size_ + 57) & 8) == 0 && (*(v570.__r_.__value_.__r.__words[0] + 32))(&v570))
                        {
                          pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
                          __src[0] = (MEMORY[0x277D86758] + 16);
                          v446 = atomic_load(MEMORY[0x277D86568]);
                          if (!v446)
                          {
                            pxrInternal__aapl__pxrReserved__::TfStaticData<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType,pxrInternal__aapl__pxrReserved__::Tf_StaticDataDefaultFactory<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType>>::_TryToCreateData();
                          }

                          v447 = atomic_load(MEMORY[0x277D86568]);
                          if (!v447)
                          {
                            pxrInternal__aapl__pxrReserved__::TfStaticData<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType,pxrInternal__aapl__pxrReserved__::Tf_StaticDataDefaultFactory<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType>>::_TryToCreateData();
                          }

                          v448 = pxrInternal__aapl__pxrReserved__::UsdShadeMaterialBindingAPI::Bind(&v589, &v570, __src, &v561, (v446 + 40), v447);
                          MEMORY[0x24C1A5510](__src);
                          if (v448)
                          {
                            v449 = atomic_load(MEMORY[0x277D86568]);
                            if (!v449)
                            {
                              pxrInternal__aapl__pxrReserved__::TfStaticData<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType,pxrInternal__aapl__pxrReserved__::Tf_StaticDataDefaultFactory<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType>>::_TryToCreateData();
                            }

                            pxrInternal__aapl__pxrReserved__::UsdShadeMaterialBindingAPI::GetCollectionBindingRel(__src, &v589, &v561, v449);
                            v450 = pxrInternal__aapl__pxrReserved__::UsdObject::GetName(__src);
                            std::vector<pxrInternal__aapl__pxrReserved__::TfToken>::push_back[abi:ne200100](&v565, v450);
                            if ((BYTE8(v581[0]) & 7) != 0)
                            {
                              atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                            }

                            goto LABEL_945;
                          }
                        }

                        else
                        {
                          pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
                          __src[0] = (MEMORY[0x277D86758] + 16);
                          v451 = atomic_load(MEMORY[0x277D86568]);
                          if (!v451)
                          {
                            pxrInternal__aapl__pxrReserved__::TfStaticData<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType,pxrInternal__aapl__pxrReserved__::Tf_StaticDataDefaultFactory<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType>>::_TryToCreateData();
                          }

                          v452 = atomic_load(MEMORY[0x277D86568]);
                          if (!v452)
                          {
                            pxrInternal__aapl__pxrReserved__::TfStaticData<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType,pxrInternal__aapl__pxrReserved__::Tf_StaticDataDefaultFactory<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType>>::_TryToCreateData();
                          }

                          v453 = pxrInternal__aapl__pxrReserved__::UsdShadeMaterialBindingAPI::Bind(&v589, __src, (v451 + 40), v452);
                          MEMORY[0x24C1A5510](__src);
                          if (v453)
                          {
                            v454 = atomic_load(MEMORY[0x277D86568]);
                            if (!v454)
                            {
                              pxrInternal__aapl__pxrReserved__::TfStaticData<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType,pxrInternal__aapl__pxrReserved__::Tf_StaticDataDefaultFactory<pxrInternal__aapl__pxrReserved__::UsdShadeTokensType>>::_TryToCreateData();
                            }

                            pxrInternal__aapl__pxrReserved__::UsdShadeMaterialBindingAPI::GetDirectBindingRel(__src, &v589, v454);
                            v455 = pxrInternal__aapl__pxrReserved__::UsdObject::GetName(__src);
                            std::vector<pxrInternal__aapl__pxrReserved__::TfToken>::push_back[abi:ne200100](&v565, v455);
                            if ((BYTE8(v581[0]) & 7) != 0)
                            {
                              atomic_fetch_add_explicit((*(&v581[0] + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                            }

LABEL_945:
                            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(v581);
                            if (__src[1])
                            {
                              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__src[1]);
                            }
                          }
                        }

                        MEMORY[0x24C1A5470](&v570);
                        if ((BYTE8(v573) & 7) != 0)
                        {
                          atomic_fetch_add_explicit((*(&v573 + 1) & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }

                        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v573);
                        if (__p[1])
                        {
                          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__p[1]);
                        }

                        if ((v561 & 7) != 0)
                        {
                          atomic_fetch_add_explicit((v561 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                        }
                      }

                      v404 = MEMORY[0x24C1A5510](&v562);
                      v405 += 2;
                      continue;
                    }
                  }

                  if ((v508 & 7) != 0)
                  {
                    atomic_fetch_add_explicit((v508 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
                  }

                  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
                  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v507);
                  if (v506[1])
                  {
                    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v506[1]);
                  }

                  if (SHIBYTE(v509.__r_.__value_.__r.__words[2]) < 0)
                  {
                    operator delete(v509.__r_.__value_.__l.__data_);
                  }

                  v378 = v504 + 16;
                  v379 = v499;
                }

                __src[0] = &v510;
                std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](__src);
                v354 = v485 + 2;
              }

              while (v485 + 2 != v483);
            }

            __src[0] = &v513;
            std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](__src);
            pxrInternal__aapl__pxrReserved__::UsdVariantSet::ClearVariantSelection(&v553);
            if (v558 < 0)
            {
              operator delete(v557);
            }

            if ((v556 & 7) != 0)
            {
              atomic_fetch_add_explicit((v556 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v555);
            if (v554)
            {
              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v554);
            }

            if ((v518 & 7) != 0)
            {
              atomic_fetch_add_explicit((v518 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v517);
            if (v516)
            {
              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v516);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v519);
            std::__tree<std::string>::destroy(&v599, v600);
            __src[0] = &v596;
            std::vector<std::pair<std::string,std::string>>::__destroy_vector::operator()[abi:ne200100](__src);
            std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::less<std::shared_ptr<RIO_MTLX::MaterialAssign const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>>>::destroy(v594);
            __src[0] = &v591 + 8;
            std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](__src);
            __src[0] = &v590;
            std::vector<std::string>::__destroy_vector::operator()[abi:ne200100](__src);
          }
        }

        else
        {
          v523 = "CoreRealityIO/mtlxToUsdShade.cpp";
          v524 = "UsdMtlxRead";
          v525 = 2356;
          v526 = "void realityio::mtlx::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
          LOBYTE(v527) = 0;
          pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper();
        }
      }

      else
      {
        v523 = "CoreRealityIO/mtlxToUsdShade.cpp";
        v524 = "UsdMtlxRead";
        v525 = 2352;
        v526 = "void realityio::mtlx::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
        LOBYTE(v527) = 0;
        pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper();
      }
    }

    else
    {
      v523 = "CoreRealityIO/mtlxToUsdShade.cpp";
      v524 = "UsdMtlxRead";
      v525 = 2348;
      v526 = "void realityio::mtlx::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
      LOBYTE(v527) = 0;
      pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper();
    }
  }

  else
  {
    v523 = "CoreRealityIO/mtlxToUsdShade.cpp";
    v524 = "UsdMtlxRead";
    v525 = 2344;
    v526 = "void realityio::mtlx::UsdMtlxRead(const MaterialX::ConstDocumentPtr &, const UsdStagePtr &, const SdfPath &, const SdfPath &)";
    LOBYTE(v527) = 0;
    pxrInternal__aapl__pxrReserved__::Tf_PostErrorHelper();
  }

  v474 = *MEMORY[0x277D85DE8];
}

void sub_2477026B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, uint64_t a29, uint64_t a30, void *a31, uint64_t a32, uint64_t a33, uint64_t a34, void *__p, uint64_t a36, int a37, __int16 a38, char a39, char a40, char a41, uint64_t a42, uint64_t a43, char a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, char a51, uint64_t a52, uint64_t a53, uint64_t a54, char a55)
{
  __cxa_guard_abort(&qword_27EE537C0);
  if (v55)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v55);
  }

  pxrInternal__aapl__pxrReserved__::UsdPrim::~UsdPrim(&a31);
  if (a40 < 0)
  {
    operator delete(__p);
  }

  STACK[0x350] = &a41;
  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&STACK[0x350]);
  STACK[0x350] = &a44;
  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&STACK[0x350]);
  pxrInternal__aapl__pxrReserved__::UsdVariantSet::~UsdVariantSet(&STACK[0x280]);
  pxrInternal__aapl__pxrReserved__::UsdPrim::~UsdPrim(&a47);
  pxrInternal__aapl__pxrReserved__::SdfPath::~SdfPath(&a51);
  _Unwind_Resume(a1);
}

void realityio::mtlx::anonymous namespace::_names(realityio::mtlx::_anonymous_namespace_ *this)
{
  {
    if (v1)
    {
    }
  }
}

uint64_t **realityio::mtlx::anonymous namespace::_Attr::_Attr<RIO_MTLX::Document const>(uint64_t **a1, uint64_t a2, const void **a3)
{
  v4 = std::__hash_table<std::__hash_value_type<std::string,std::string>,std::__unordered_map_hasher<std::string,std::__hash_value_type<std::string,std::string>,std::hash<std::string>,std::equal_to<std::string>,true>,std::__unordered_map_equal<std::string,std::__hash_value_type<std::string,std::string>,std::equal_to<std::string>,std::hash<std::string>,true>,std::allocator<std::__hash_value_type<std::string,std::string>>>::find<std::string>((a2 + 160), a3);
  if (v4)
  {
    v5 = (v4 + 5);
  }

  else
  {
    v5 = RIO_MTLX::EMPTY_STRING(0);
  }

  v6 = *(v5 + 23);
  if ((v6 & 0x80u) != 0)
  {
    v6 = v5[1];
  }

  if (!v6)
  {
    v5 = RIO_MTLX::EMPTY_STRING(v5);
  }

  *a1 = v5;
  return a1;
}

uint64_t *RIO_MTLX::Element::getActiveColorSpace(RIO_MTLX::Element *this)
{
  v1 = std::shared_ptr<RIO_MTLX::Element>::shared_ptr[abi:ne200100]<RIO_MTLX::Element,0>(&v10, this + 1);
  ColorSpace = v10;
  if (v10)
  {
    while (1)
    {
      v3 = RIO_MTLX::Element::COLOR_SPACE_ATTRIBUTE(v1);
      v4 = std::__hash_table<std::__hash_value_type<std::string,std::string>,std::__unordered_map_hasher<std::string,std::__hash_value_type<std::string,std::string>,std::hash<std::string>,std::equal_to<std::string>,true>,std::__unordered_map_equal<std::string,std::__hash_value_type<std::string,std::string>,std::equal_to<std::string>,std::hash<std::string>,true>,std::allocator<std::__hash_value_type<std::string,std::string>>>::find<std::string>(ColorSpace + 20, v3);
      v5 = v10;
      if (v4)
      {
        break;
      }

      v1 = *(v10 + 29);
      if (v1 && (v1 = std::__shared_weak_count::lock(v1)) != 0)
      {
        ColorSpace = *(v5 + 28);
      }

      else
      {
        ColorSpace = 0;
      }

      v6 = v11;
      v10 = ColorSpace;
      v11 = v1;
      if (v6)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v6);
        ColorSpace = v10;
      }

      if (!ColorSpace)
      {
        goto LABEL_10;
      }
    }

    ColorSpace = RIO_MTLX::Element::getColorSpace(v10);
    v7 = 0;
  }

  else
  {
LABEL_10:
    v7 = 1;
  }

  v8 = v11;
  if (v11)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v11);
  }

  if (v7)
  {
    return RIO_MTLX::EMPTY_STRING(v8);
  }

  return ColorSpace;
}

void sub_247703B80(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, std::__shared_weak_count *a10)
{
  if (a10)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a10);
  }

  _Unwind_Resume(exception_object);
}

void realityio::mtlx::anonymous namespace::VariantAssignments::AddInherited(uint64_t a1, uint64_t a2)
{
  v4 = *(a2 + 8);
  v9 = *a2;
  v10 = v4;
  if (v4)
  {
    atomic_fetch_add_explicit(&v4->__shared_owners_, 1uLL, memory_order_relaxed);
  }

  v8[0] = &v11;
  std::vector<std::pair<std::string,std::string>>::__destroy_vector::operator()[abi:ne200100](v8);
  if (v4)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v4);
  }

  v5 = *a2;
  InheritString = RIO_MTLX::Element::getInheritString(*a2);
  RIO_MTLX::Element::resolveRootNameReference<RIO_MTLX::Element>(v5, InheritString, &v11);
  if (v11)
  {
    RIO_MTLX::Element::asA<RIO_MTLX::Look>(v11, &v9);
    if (v9)
    {
      v7 = v10;
      v8[0] = v9;
      v8[1] = &v10->__vftable;
      if (v10)
      {
        atomic_fetch_add_explicit(&v10->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      if (v7)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v7);
      }
    }

    if (v10)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v10);
    }
  }

  if (v12)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v12);
  }
}

void sub_247703C9C(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, std::__shared_weak_count *a13, char a14, std::__shared_weak_count *a15)
{
  if (v15)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v15);
  }

  if (a13)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a13);
  }

  if (a15)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](a15);
  }

  _Unwind_Resume(exception_object);
}

void realityio::mtlx::anonymous namespace::VariantAssignments::~VariantAssignments(char **this)
{
  std::__tree<std::string>::destroy((this + 12), this[13]);
  v2 = this + 9;
  std::vector<std::pair<std::string,std::string>>::__destroy_vector::operator()[abi:ne200100](&v2);
  std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>,std::less<std::shared_ptr<RIO_MTLX::MaterialAssign const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::MaterialAssign const>,std::set<std::pair<std::string,std::string>>>>>::destroy(this[7]);
  v2 = this + 3;
  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v2);
  v2 = this;
  std::vector<std::string>::__destroy_vector::operator()[abi:ne200100](&v2);
}

void *std::pair<pxrInternal__aapl__pxrReserved__::TfWeakPtr<pxrInternal__aapl__pxrReserved__::UsdStage>,pxrInternal__aapl__pxrReserved__::UsdEditTarget>::~pair(void *a1)
{
  pxrInternal__aapl__pxrReserved__::PcpMapFunction::_Data::~_Data((a1 + 4));
  v2 = a1[3];
  if (v2 && atomic_fetch_add_explicit(v2 + 2, 0xFFFFFFFF, memory_order_release) == 1)
  {
    (*(*v2 + 8))(v2);
  }

  v3 = a1[1];
  if (v3 && atomic_fetch_add_explicit(v3 + 2, 0xFFFFFFFF, memory_order_release) == 1)
  {
    (*(*v3 + 8))(v3);
  }

  return a1;
}

void realityio::mtlx::anonymous namespace::_Context::~_Context(realityio::mtlx::_anonymous_namespace_::_Context *this)
{
  MEMORY[0x24C1A5510](this + 272);
  v2 = *(this + 33);
  if (v2)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }

  std::__tree<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>>::destroy(*(this + 29));
  std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::GeomElement const>,std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::shared_ptr<RIO_MTLX::GeomElement const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(*(this + 26));
  std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(*(this + 23));
  std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(*(this + 20));
  std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>>>::destroy(*(this + 17));
  v4 = (this + 80);
  std::vector<std::string>::__destroy_vector::operator()[abi:ne200100](&v4);
  std::__tree<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>>::destroy(*(this + 8));
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(this + 48);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(this + 40);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(this + 32);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(this + 24);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(this + 16);
  v3 = *(this + 1);
  if (v3)
  {
    if (atomic_fetch_add_explicit(v3 + 2, 0xFFFFFFFF, memory_order_release) == 1)
    {
      (*(*v3 + 8))(v3);
    }
  }
}

void std::__tree<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::map<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>,0>(uint64_t a1)
{
  std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>::destroy(*(a1 + 32));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::UsdShadeConnectableAPI>,0>(uint64_t a1)
{
  MEMORY[0x24C1A5890](a1 + 24);
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::GeomElement const>,std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::shared_ptr<RIO_MTLX::GeomElement const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::GeomElement const>,std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::shared_ptr<RIO_MTLX::GeomElement const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(*a1);
    std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::GeomElement const>,std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::shared_ptr<RIO_MTLX::GeomElement const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::GeomElement const>,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::shared_ptr<RIO_MTLX::GeomElement const> const,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::shared_ptr<RIO_MTLX::GeomElement const> const,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,0>(uint64_t a1)
{
  MEMORY[0x24C1A5470](a1 + 16);
  v2 = *(a1 + 8);
  if (v2)
  {

    std::__shared_weak_count::__release_shared[abi:ne200100](v2);
  }
}

void std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::UsdCollectionAPI>,0>(uint64_t a1)
{
  MEMORY[0x24C1A5470](a1 + 24);
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::UsdShadeMaterial>,0>(uint64_t a1)
{
  MEMORY[0x24C1A5510](a1 + 24);
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::NodeGraph const>,realityio::mtlx::anonymous namespace::_NodeGraph>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::NodeGraph const>,std::__value_type<std::shared_ptr<RIO_MTLX::NodeGraph const>,realityio::mtlx::anonymous namespace::_NodeGraph>,std::less<std::shared_ptr<RIO_MTLX::NodeGraph const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::NodeGraph const>,realityio::mtlx::anonymous namespace::_NodeGraph>>>::destroy(void *a1)
{
  if (a1)
  {
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl((a1 + 13));
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>>>::destroy(a1[11]);
    v2 = a1[9];
    if ((v2 & 7) != 0)
    {
      atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl((a1 + 8));
    v3 = a1[7];
    if (v3)
    {
      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v3);
    }

    v4 = a1[5];
    if (v4)
    {
      std::__shared_weak_count::__release_shared[abi:ne200100](v4);
    }

    operator delete(a1);
  }
}

void realityio::mtlx::anonymous namespace::_NodeGraph::~_NodeGraph(realityio::mtlx::_anonymous_namespace_::_NodeGraph *this)
{
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(this + 56);
  std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>>>::destroy(*(this + 5));
  v2 = *(this + 3);
  if ((v2 & 7) != 0)
  {
    atomic_fetch_add_explicit((v2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(this + 16);
  v3 = *(this + 1);
  if (v3)
  {
    pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v3);
  }
}

void std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::TfToken>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::TfToken>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,pxrInternal__aapl__pxrReserved__::TfToken>,0>(uint64_t a1)
{
  v1 = *(a1 + 24);
  if ((v1 & 7) != 0)
  {
    atomic_fetch_add_explicit((v1 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  if (*(a1 + 23) < 0)
  {
    operator delete(*a1);
  }
}

void std::__tree<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::map<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>,0>(uint64_t a1)
{
  std::__tree<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>::destroy(*(a1 + 32));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void std::__tree<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,0>((a1 + 4));

    operator delete(a1);
  }
}

void std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::map<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>,0>(uint64_t a1)
{
  std::__tree<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>::destroy(*(a1 + 32));
  if (*(a1 + 23) < 0)
  {
    v2 = *a1;

    operator delete(v2);
  }
}

void std::__tree<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>::destroy(void *a1)
{
  if (a1)
  {
    std::__tree<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>::destroy(*a1);
    std::__tree<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<RIO_MTLX::ValueElement const>>>>::destroy(a1[1]);
    std::__destroy_at[abi:ne200100]<std::pair<std::string const,std::shared_ptr<realityio::UntypedInputOutputWrapperObject>>,0>((a1 + 4));

    operator delete(a1);
  }
}

_BYTE *realityio::mtlx::anonymous namespace::_AttributeNames::_AttributeNames(realityio::mtlx::_anonymous_namespace_::_AttributeNames *this)
{
  v1 = std::string::basic_string[abi:ne200100]<0>(&qword_27EE53820, "channels");
  std::string::basic_string[abi:ne200100]<0>(v1 + 24, "cms");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53850, "cmsconfig");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53868, "collection");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53880, "context");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53898, "default");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE538B0, "doc");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE538C8, "enum");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE538E0, "enumvalues");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE538F8, "excludegeom");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53910, "geom");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53928, "helptext");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53940, "includegeom");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53958, "includecollection");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53970, "inherit");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53988, "interfacename");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE539A0, "isdefaultversion");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE539B8, "look");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE539D0, "material");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE539E8, "member");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53A00, "nodedef");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53A18, "nodegraph");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53A30, "nodename");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53A48, "node");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53A60, "output");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53A78, "semantic");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53A90, "token");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53AA8, "type");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53AC0, "uicolor");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53AD8, "uifolder");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53AF0, "uimax");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53B08, "uimin");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53B20, "uiname");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53B38, "value");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53B50, "valuecurve");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53B68, "valuerange");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53B80, "variant");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53B98, "variantassign");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53BB0, "variantset");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53BC8, "version");
  std::string::basic_string[abi:ne200100]<0>(&qword_27EE53BE0, "xpos");
  return std::string::basic_string[abi:ne200100]<0>(byte_27EE53BF8, "ypos");
}

void sub_247704918(_Unwind_Exception *exception_object)
{
  if (byte_27EE53BF7 < 0)
  {
    operator delete(qword_27EE53BE0);
  }

  if (byte_27EE53BDF < 0)
  {
    operator delete(qword_27EE53BC8);
  }

  if (byte_27EE53BC7 < 0)
  {
    operator delete(qword_27EE53BB0);
  }

  if (byte_27EE53BAF < 0)
  {
    operator delete(qword_27EE53B98);
  }

  if (byte_27EE53B97 < 0)
  {
    operator delete(qword_27EE53B80);
  }

  if (byte_27EE53B7F < 0)
  {
    operator delete(qword_27EE53B68);
  }

  if (byte_27EE53B67 < 0)
  {
    operator delete(qword_27EE53B50);
  }

  if (byte_27EE53B4F < 0)
  {
    operator delete(qword_27EE53B38);
  }

  if (byte_27EE53B37 < 0)
  {
    operator delete(qword_27EE53B20);
  }

  if (byte_27EE53B1F < 0)
  {
    operator delete(qword_27EE53B08);
  }

  if (byte_27EE53B07 < 0)
  {
    operator delete(qword_27EE53AF0);
  }

  if (byte_27EE53AEF < 0)
  {
    operator delete(qword_27EE53AD8);
  }

  if (byte_27EE53AD7 < 0)
  {
    operator delete(qword_27EE53AC0);
  }

  if (byte_27EE53ABF < 0)
  {
    operator delete(qword_27EE53AA8);
  }

  if (byte_27EE53AA7 < 0)
  {
    operator delete(qword_27EE53A90);
  }

  if (byte_27EE53A8F < 0)
  {
    operator delete(qword_27EE53A78);
  }

  if (byte_27EE53A77 < 0)
  {
    operator delete(qword_27EE53A60);
  }

  if (byte_27EE53A5F < 0)
  {
    operator delete(qword_27EE53A48);
  }

  if (byte_27EE53A47 < 0)
  {
    operator delete(qword_27EE53A30);
  }

  if (byte_27EE53A2F < 0)
  {
    operator delete(qword_27EE53A18);
  }

  if (byte_27EE53A17 < 0)
  {
    operator delete(qword_27EE53A00);
  }

  if (byte_27EE539FF < 0)
  {
    operator delete(qword_27EE539E8);
  }

  if (byte_27EE539E7 < 0)
  {
    operator delete(qword_27EE539D0);
  }

  if (byte_27EE539CF < 0)
  {
    operator delete(qword_27EE539B8);
  }

  if (byte_27EE539B7 < 0)
  {
    operator delete(qword_27EE539A0);
  }

  if (byte_27EE5399F < 0)
  {
    operator delete(qword_27EE53988);
  }

  if (byte_27EE53987 < 0)
  {
    operator delete(qword_27EE53970);
  }

  if (byte_27EE5396F < 0)
  {
    operator delete(qword_27EE53958);
  }

  if (byte_27EE53957 < 0)
  {
    operator delete(qword_27EE53940);
  }

  if (byte_27EE5393F < 0)
  {
    operator delete(qword_27EE53928);
  }

  if (byte_27EE53927 < 0)
  {
    operator delete(qword_27EE53910);
  }

  if (byte_27EE5390F < 0)
  {
    operator delete(qword_27EE538F8);
  }

  if (byte_27EE538F7 < 0)
  {
    operator delete(qword_27EE538E0);
  }

  if (byte_27EE538DF < 0)
  {
    operator delete(qword_27EE538C8);
  }

  if (byte_27EE538C7 < 0)
  {
    operator delete(qword_27EE538B0);
  }

  if (byte_27EE538AF < 0)
  {
    operator delete(qword_27EE53898);
  }

  if (byte_27EE53897 < 0)
  {
    operator delete(qword_27EE53880);
  }

  if (byte_27EE5387F < 0)
  {
    operator delete(qword_27EE53868);
  }

  if (byte_27EE53867 < 0)
  {
    operator delete(qword_27EE53850);
  }

  if (byte_27EE5384F < 0)
  {
    operator delete(qword_27EE53838);
  }

  if (byte_27EE53837 < 0)
  {
    operator delete(qword_27EE53820);
  }

  _Unwind_Resume(exception_object);
}

BOOL pxrInternal__aapl__pxrReserved__::TfDebug::IsEnabled<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>()
{
  v0 = pxrInternal__aapl__pxrReserved__::TfDebug::_Data<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>::nodes();
  v1 = atomic_load(v0);
  if (!v1)
  {
    v3 = v0;
    pxrInternal__aapl__pxrReserved__::TfDebug::_Data<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>::nodes();
    pxrInternal__aapl__pxrReserved__::TfDebug::_InitializeNode();
    v1 = atomic_load(v3);
  }

  return v1 == 2;
}

void *std::map<std::shared_ptr<RIO_MTLX::NodeGraph const>,realityio::mtlx::anonymous namespace::_NodeGraph>::operator[](uint64_t a1, unint64_t *a2)
{
  v2 = *(a1 + 8);
  if (!v2)
  {
LABEL_8:
    operator new();
  }

  v3 = *a2;
  while (1)
  {
    while (1)
    {
      v4 = v2;
      v5 = v2[4];
      if (v3 >= v5)
      {
        break;
      }

      v2 = *v4;
      if (!*v4)
      {
        goto LABEL_8;
      }
    }

    if (v5 >= v3)
    {
      return v4 + 6;
    }

    v2 = v4[1];
    if (!v2)
    {
      goto LABEL_8;
    }
  }
}

realityio::mtlx::_anonymous_namespace_::_NodeGraphBuilder *realityio::mtlx::anonymous namespace::_NodeGraphBuilder::_NodeGraphBuilder(realityio::mtlx::_anonymous_namespace_::_NodeGraphBuilder *this)
{
  *(this + 1) = 0u;
  *(this + 2) = 0u;
  *this = 0u;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
  *(this + 8) = 0;
  *(this + 7) = this + 64;
  *(this + 11) = 0;
  *(this + 9) = 0;
  *(this + 10) = this + 88;
  *(this + 15) = 0;
  *(this + 14) = 0;
  *(this + 12) = 0;
  *(this + 13) = this + 112;
  return this;
}

uint64_t realityio::mtlx::anonymous namespace::_NodeGraphBuilder::SetTarget(uint64_t a1, uint64_t a2, pxrInternal__aapl__pxrReserved__::SdfPath *a3, std::string *a4)
{
  if (a4)
  {
  }

  else
  {
    v8 = 0;
  }

  pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v9, a3, &v8);
  *(a1 + 32) = *a2;
  pxrInternal__aapl__pxrReserved__::TfRefPtr<pxrInternal__aapl__pxrReserved__::Tf_Remnant>::operator=((a1 + 40), (a2 + 8));
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(a1 + 48, &v9);
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(a1 + 52, &v9 + 1);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  result = pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v9);
  if ((v8 & 7) != 0)
  {
    atomic_fetch_add_explicit((v8 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  return result;
}

void sub_2477050B0(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va, a2);
  pxrInternal__aapl__pxrReserved__::SdfPath::~SdfPath(va);
  if ((a2 & 7) != 0)
  {
    atomic_fetch_add_explicit((a2 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  _Unwind_Resume(a1);
}

uint64_t realityio::mtlx::anonymous namespace::_NodeGraph::SetImplementation(uint64_t a1, uint64_t *a2)
{
  if (pxrInternal__aapl__pxrReserved__::UsdObject::IsValid(&v7))
  {
    *a1 = v7;
    v3 = v8;
    if (v8)
    {
      atomic_fetch_add_explicit((v8 + 48), 1uLL, memory_order_relaxed);
    }

    v4 = *(a1 + 8);
    if (v4)
    {
      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v4);
    }

    *(a1 + 8) = v3;
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(a1 + 16, &v9);
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(a1 + 20, &v10);
    pxrInternal__aapl__pxrReserved__::TfToken::operator=((a1 + 24), &v11);
    v6 = 0;
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(a1 + 56, &v6);
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(a1 + 60, &v6 + 1);
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v6);
  }

  if ((v11 & 7) != 0)
  {
    atomic_fetch_add_explicit((v11 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
  }

  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v9);
  result = v8;
  if (v8)
  {
    return pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v8);
  }

  return result;
}

void sub_247705200(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  pxrInternal__aapl__pxrReserved__::UsdPrim::~UsdPrim(va);
  _Unwind_Resume(a1);
}

void realityio::mtlx::anonymous namespace::_NodeGraphBuilder::~_NodeGraphBuilder(char **this)
{
  std::__tree<std::__value_type<std::string,std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::vector<pxrInternal__aapl__pxrReserved__::UsdShadeOutput>>>>::destroy(this[14]);
  std::__tree<std::__value_type<std::shared_ptr<RIO_MTLX::Input const>,pxrInternal__aapl__pxrReserved__::UsdShadeInput>,std::__map_value_compare<std::shared_ptr<RIO_MTLX::Input const>,std::__value_type<std::shared_ptr<RIO_MTLX::Input const>,pxrInternal__aapl__pxrReserved__::UsdShadeInput>,std::less<std::shared_ptr<RIO_MTLX::Input const>>,true>,std::allocator<std::__value_type<std::shared_ptr<RIO_MTLX::Input const>,pxrInternal__aapl__pxrReserved__::UsdShadeInput>>>::destroy(this[11]);
  std::__tree<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeInput>,std::__map_value_compare<std::string,std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeInput>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,pxrInternal__aapl__pxrReserved__::UsdShadeInput>>>::destroy(this[8]);
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl((this + 6));
  v2 = this[5];
  if (v2 && atomic_fetch_add_explicit(v2 + 2, 0xFFFFFFFF, memory_order_release) == 1)
  {
    (*(*v2 + 8))(v2);
  }

  v3 = this[3];
  if (v3)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v3);
  }

  v4 = this[1];
  if (v4)
  {
    std::__shared_weak_count::__release_shared[abi:ne200100](v4);
  }
}

realityio::mtlx::_anonymous_namespace_::_NodeGraph *realityio::mtlx::anonymous namespace::_NodeGraph::_NodeGraph(realityio::mtlx::_anonymous_namespace_::_NodeGraph *this)
{
  *this = 1;
  *(this + 1) = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
  *(this + 6) = 0;
  *(this + 5) = 0;
  *(this + 3) = 0;
  *(this + 4) = this + 40;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
  return this;
}

void realityio::mtlx::anonymous namespace::_MakeName(uint64_t a1, std::string *this)
{
  v4 = std::string::find(this, 58, 0);
  if (v4 == -1)
  {

    JUMPOUT(0x24C1A5E00);
  }

  v5 = v4;
  if (SHIBYTE(this->__r_.__value_.__r.__words[2]) < 0)
  {
    std::string::__init_copy_ctor_external(&__p, this->__r_.__value_.__l.__data_, this->__r_.__value_.__l.__size_);
  }

  else
  {
    __p = *this;
  }

  std::string::replace(&__p, v5, 1uLL, "__");
  MEMORY[0x24C1A5E00](a1, &__p);
  if (SHIBYTE(__p.__r_.__value_.__r.__words[2]) < 0)
  {
    operator delete(__p.__r_.__value_.__l.__data_);
  }
}

void sub_247705404(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *__p, uint64_t a10, int a11, __int16 a12, char a13, char a14)
{
  if (a14 < 0)
  {
    operator delete(__p);
  }

  _Unwind_Resume(exception_object);
}

std::string::size_type realityio::mtlx::anonymous namespace::_NodeGraphBuilder::Build(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  v190 = *MEMORY[0x277D85DE8];
  v4 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator pxrInternal__aapl__pxrReserved__::UsdStage* (pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::*)(void)const(a2 + 4);
  if (!(v5 & 1 | v4))
  {
    __str.__r_.__value_.__r.__words[0] = "CoreRealityIO/mtlxToUsdShade.cpp";
    __str.__r_.__value_.__l.__size_ = "Build";
    __str.__r_.__value_.__r.__words[2] = 689;
    v188 = "UsdPrim realityio::mtlx::(anonymous namespace)::_NodeGraphBuilder::Build(ShaderNamesByOutputName *)";
    v189 = 0;
    if ((pxrInternal__aapl__pxrReserved__::Tf_FailedVerifyHelper() & 1) == 0)
    {
      goto LABEL_367;
    }
  }

  if (!pxrInternal__aapl__pxrReserved__::SdfPath::IsAbsolutePath((a2 + 6)) || (IsPrimPath = pxrInternal__aapl__pxrReserved__::SdfPath::IsPrimPath((a2 + 6)), (IsPrimPath & 1) == 0))
  {
    __str.__r_.__value_.__r.__words[0] = "CoreRealityIO/mtlxToUsdShade.cpp";
    __str.__r_.__value_.__l.__size_ = "Build";
    __str.__r_.__value_.__r.__words[2] = 692;
    v188 = "UsdPrim realityio::mtlx::(anonymous namespace)::_NodeGraphBuilder::Build(ShaderNamesByOutputName *)";
    v189 = 0;
    IsPrimPath = pxrInternal__aapl__pxrReserved__::Tf_FailedVerifyHelper();
    if ((IsPrimPath & 1) == 0)
    {
LABEL_367:
      result = pxrInternal__aapl__pxrReserved__::UsdPrim::UsdPrim(a1);
      goto LABEL_363;
    }
  }

  v7 = a2[2];
  v150 = a2 + 2;
  v8 = RIO_MTLX::EMPTY_STRING(IsPrimPath);
  v9 = RIO_MTLX::Element::isA<RIO_MTLX::NodeGraph>(v7, v8);
  data = 1;
  size = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
  v163 = 0;
  if (v9)
  {
    pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::Define();
    if (!v167 || (*(v167 + 57) & 8) != 0 || ((*(v166 + 32))(&v166) & 1) == 0)
    {
      *a1 = 1;
      *(a1 + 8) = 0;
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
      *(a1 + 24) = 0;
      MEMORY[0x24C1A5610](&v166);
      if ((v163 & 7) != 0)
      {
        atomic_fetch_add_explicit((v163 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      goto LABEL_361;
    }

    pxrInternal__aapl__pxrReserved__::UsdObject::UsdObject(&__str, &v167, &v168);
    data = __str.__r_.__value_.__l.__data_;
    size = __str.__r_.__value_.__l.__size_;
    __str.__r_.__value_.__l.__size_ = 0;
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v161, &__str.__r_.__value_.__r.__words[2]);
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v162, &__str.__r_.__value_.__r.__words[2] + 1);
    if ((v163 & 7) != 0)
    {
      atomic_fetch_add_explicit((v163 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    v163 = v188;
    v188 = 0;
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
    if (__str.__r_.__value_.__l.__size_)
    {
      pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
    }

    if (*a2)
    {
      v145 = v9;
      v11 = v164;
      for (i = v165; v11 != i; v11 += 2)
      {
        v13 = *v11;
        v14 = v11[1];
        if (v14)
        {
          atomic_fetch_add_explicit(&v14->__shared_owners_, 1uLL, memory_order_relaxed);
        }

        v15 = pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::ConnectableAPI(&v182, &v166);
        v16 = RIO_MTLX::EMPTY_STRING(v15);
        RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Input>(v13, v16, &v170);
        v17 = v170;
        v18 = v171;
        while (v17 != v18)
        {
          v19 = *v17;
          v20 = v17[1];
          if (v20)
          {
            atomic_fetch_add_explicit(&v20->__shared_owners_, 1uLL, memory_order_relaxed);
            atomic_fetch_add_explicit(&v20->__shared_owners_, 1uLL, memory_order_relaxed);
          }

          v181.__r_.__value_.__r.__words[0] = v19;
          v181.__r_.__value_.__l.__size_ = v20;
          if ((v188 & 7) != 0)
          {
            atomic_fetch_add_explicit((v188 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
          if (__str.__r_.__value_.__l.__size_)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
          }

          if (v181.__r_.__value_.__l.__size_)
          {
            std::__shared_weak_count::__release_shared[abi:ne200100](v181.__r_.__value_.__l.__size_);
          }

          if (v20)
          {
            std::__shared_weak_count::__release_shared[abi:ne200100](v20);
          }

          v17 += 2;
        }

        v181.__r_.__value_.__r.__words[0] = &v170;
        std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v181);
        MEMORY[0x24C1A5890](&v182);
        if (v14)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v14);
        }
      }

      __str.__r_.__value_.__r.__words[0] = &v164;
      std::vector<std::shared_ptr<realityio::SkeletalAnimationAggregationBuilder::SkeletalAnimationSceneDataT>>::__destroy_vector::operator()[abi:ne200100](&__str);
      v9 = v145;
    }

    v21 = *v150;
    v22 = RIO_MTLX::EMPTY_STRING(v10);
    RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Input>(v21, v22, &v182);
    v23 = v182;
    for (j = v183; v23 != j; v23 += 16)
    {
      v25 = *v23;
      v26 = *(v23 + 8);
      if (v26)
      {
        atomic_fetch_add_explicit(&v26->__shared_owners_, 1uLL, memory_order_relaxed);
        atomic_fetch_add_explicit(&v26->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      v170 = v25;
      v171 = v26;
      pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::ConnectableAPI(&__str, &v166);
      if ((v158 & 7) != 0)
      {
        atomic_fetch_add_explicit((v158 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v157);
      if (v156)
      {
        pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v156);
      }

      MEMORY[0x24C1A5890](&__str);
      if (v171)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v171);
      }

      if (v26)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v26);
      }
    }

    __str.__r_.__value_.__r.__words[0] = &v182;
    std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&__str);
    v27 = MEMORY[0x24C1A5610](&v166);
  }

  else
  {
    v28 = pxrInternal__aapl__pxrReserved__::TfWeakPtrFacade<pxrInternal__aapl__pxrReserved__::TfWeakPtr,pxrInternal__aapl__pxrReserved__::UsdStage>::operator->(a2 + 4);
    v182 = 0;
    pxrInternal__aapl__pxrReserved__::UsdStage::DefinePrim(&__str, v28, (a2 + 6), &v182);
    data = __str.__r_.__value_.__l.__data_;
    size = __str.__r_.__value_.__l.__size_;
    __str.__r_.__value_.__l.__size_ = 0;
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v161, &__str.__r_.__value_.__r.__words[2]);
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&v162, &__str.__r_.__value_.__r.__words[2] + 1);
    if ((v163 & 7) != 0)
    {
      atomic_fetch_add_explicit((v163 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }

    v163 = v188;
    v188 = 0;
    pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
    pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
    v27 = __str.__r_.__value_.__l.__size_;
    if (__str.__r_.__value_.__l.__size_)
    {
      v27 = pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
    }

    if ((v182 & 7) != 0)
    {
      atomic_fetch_add_explicit((v182 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
    }
  }

  v146 = v9;
  v29 = *v150;
  v30 = RIO_MTLX::EMPTY_STRING(v27);
  RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Node>(v29, v30, &v153);
  v32 = v153;
  v33 = v154;
  if (v153 != v154)
  {
    v148 = v154;
    do
    {
      v34 = __str.__r_.__value_.__r.__words[0];
      if (*(__str.__r_.__value_.__r.__words[0] + 23) < 0)
      {
        v36 = *(__str.__r_.__value_.__r.__words[0] + 8);
        if (v36 == 8)
        {
          v34 = *__str.__r_.__value_.__l.__data_;
LABEL_68:
          if (*v34 != 0x6C6169726574616DLL)
          {
            goto LABEL_69;
          }

          goto LABEL_269;
        }

        if (v36 != 13)
        {
          goto LABEL_69;
        }

        v34 = *__str.__r_.__value_.__l.__data_;
      }

      else
      {
        v35 = *(__str.__r_.__value_.__r.__words[0] + 23);
        if (v35 == 8)
        {
          goto LABEL_68;
        }

        if (v35 != 13)
        {
          goto LABEL_69;
        }
      }

      v37 = *v34;
      v38 = *(v34 + 5);
      v39 = v37 == 0x7365636166727573 && v38 == 0x7265646168736563;
      if (!v39)
      {
LABEL_69:
        v40 = v32[1];
        *&v152 = *v32;
        *(&v152 + 1) = v40;
        if (v40)
        {
          atomic_fetch_add_explicit((v40 + 8), 1uLL, memory_order_relaxed);
        }

        if (__str.__r_.__value_.__r.__words[0])
        {
          MEMORY[0x24C1A5E00](&v177, __str.__r_.__value_.__r.__words[0] + 48);
        }

        else
        {
          v177 = 0;
        }

        if (__str.__r_.__value_.__l.__size_)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](__str.__r_.__value_.__l.__size_);
        }

        if (!v177 && *a2)
        {
          goto LABEL_267;
        }

        pxrInternal__aapl__pxrReserved__::UsdObject::GetStage(&v175, &data);
        LODWORD(__str.__r_.__value_.__l.__data_) = 1;
        __str.__r_.__value_.__l.__size_ = 0;
        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
        v188 = 0;
        pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
        v186 = 0;
        v182 = MEMORY[0x277D867A8] + 16;
        if ((v188 & 7) != 0)
        {
          atomic_fetch_add_explicit((v188 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
        }

        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
        if (__str.__r_.__value_.__l.__size_)
        {
          pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
        }

        v41 = v174;
        if (!v174)
        {
          goto LABEL_189;
        }

        v42 = *(&v174 + 1);
        *&__str.__r_.__value_.__l.__data_ = v174;
        if (*(&v174 + 1))
        {
          atomic_fetch_add_explicit((*(&v174 + 1) + 8), 1uLL, memory_order_relaxed);
        }

        SourceURI = realityio::mtlx::UsdMtlxGetSourceURI(&__str);
        if (*(SourceURI + 23) < 0)
        {
          std::string::__init_copy_ctor_external(&v181, *SourceURI, *(SourceURI + 8));
        }

        else
        {
          v44 = *SourceURI;
          v181.__r_.__value_.__r.__words[2] = *(SourceURI + 16);
          *&v181.__r_.__value_.__l.__data_ = v44;
        }

        if (v42)
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](v42);
        }

        IsRelativePath = pxrInternal__aapl__pxrReserved__::TfIsRelativePath();
        if (IsRelativePath)
        {
          v46 = *(v41 + 232);
          if (v46)
          {
            v47 = std::__shared_weak_count::lock(v46);
            if (v47)
            {
              v48 = *(v41 + 224);
            }

            else
            {
              v48 = 0;
            }
          }

          else
          {
            v48 = 0;
            v47 = 0;
          }

          v180.__r_.__value_.__r.__words[0] = v48;
          v180.__r_.__value_.__l.__size_ = v47;
          v49 = realityio::mtlx::UsdMtlxGetSourceURI(&v180);
          if (*(v49 + 23) < 0)
          {
            std::string::__init_copy_ctor_external(&__str, *v49, *(v49 + 8));
          }

          else
          {
            v50 = *v49;
            __str.__r_.__value_.__r.__words[2] = *(v49 + 16);
            *&__str.__r_.__value_.__l.__data_ = v50;
          }

          if (v47)
          {
            std::__shared_weak_count::__release_shared[abi:ne200100](v47);
          }

          v51 = HIBYTE(__str.__r_.__value_.__r.__words[2]);
          if ((__str.__r_.__value_.__r.__words[2] & 0x8000000000000000) == 0)
          {
            p_str = &__str;
          }

          else
          {
            p_str = __str.__r_.__value_.__r.__words[0];
          }

          if ((__str.__r_.__value_.__r.__words[2] & 0x8000000000000000) != 0)
          {
            v51 = __str.__r_.__value_.__l.__size_;
          }

          if (v51)
          {
            v53 = p_str + v51;
            v54 = p_str;
            v55 = v53;
            do
            {
              v56 = v54;
              v57 = v54;
              while (1)
              {
                v58 = *v57++;
                if (v58 == 47)
                {
                  break;
                }

                v56 = v57;
                if (v57 == v53)
                {
                  v56 = v55;
                  goto LABEL_114;
                }
              }

              v54 = (&v56->__r_.__value_.__l.__data_ + 1);
              v55 = v56;
            }

            while (v57 != v53);
LABEL_114:
            if (v56 != v53)
            {
              v59 = v56 - p_str;
              if (v59 != -1)
              {
                std::string::basic_string(&v180, &__str, 0, v59 + 1, &v178);
                if (SHIBYTE(__str.__r_.__value_.__r.__words[2]) < 0)
                {
                  operator delete(__str.__r_.__value_.__l.__data_);
                }

                __str = v180;
              }
            }
          }

          std::operator+[abi:ne200100]<char,std::char_traits<char>,std::allocator<char>>(&__str.__r_.__value_.__l.__data_, &v181.__r_.__value_.__l.__data_, &v178);
          IsRelativePath = pxrInternal__aapl__pxrReserved__::ArchNormPath();
          if (SHIBYTE(v181.__r_.__value_.__r.__words[2]) < 0)
          {
            operator delete(v181.__r_.__value_.__l.__data_);
          }

          v181 = v180;
          *(&v180.__r_.__value_.__s + 23) = 0;
          v180.__r_.__value_.__s.__data_[0] = 0;
          if (v179 < 0)
          {
            operator delete(v178);
          }

          if (SHIBYTE(__str.__r_.__value_.__r.__words[2]) < 0)
          {
            operator delete(__str.__r_.__value_.__l.__data_);
          }
        }

        if ((atomic_load_explicit(&qword_27EE53798, memory_order_acquire) & 1) == 0)
        {
          IsRelativePath = __cxa_guard_acquire(&qword_27EE53798);
          if (IsRelativePath)
          {
            qword_27EE537E8 = 0;
            qword_27EE537E0 = 0;
            qword_27EE537D8 = &qword_27EE537E0;
            __cxa_guard_release(&qword_27EE53798);
          }
        }

        if ((atomic_load_explicit(&qword_27EE537A0, memory_order_acquire) & 1) == 0)
        {
          IsRelativePath = __cxa_guard_acquire(&qword_27EE537A0);
          if (IsRelativePath)
          {
            v110 = std::string::basic_string[abi:ne200100]<0>(&__str, "");
            realityio::mtlx::UsdMtlxGetDocument(v110, &v180);
            RIO_MTLX::Document::getReferencedSourceUris(v180.__r_.__value_.__l.__data_, &qword_27EE537F0);
            if (v180.__r_.__value_.__l.__size_)
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](v180.__r_.__value_.__l.__size_);
            }

            if (SHIBYTE(__str.__r_.__value_.__r.__words[2]) < 0)
            {
              operator delete(__str.__r_.__value_.__l.__data_);
            }

            __cxa_guard_release(&qword_27EE537A0);
          }
        }

        v60 = qword_27EE537F8;
        if (!qword_27EE537F8)
        {
          goto LABEL_137;
        }

        v61 = &qword_27EE537F8;
        do
        {
          IsRelativePath = std::less<std::string>::operator()[abi:ne200100](&qword_27EE537F0, (v60 + 32), &v181.__r_.__value_.__l.__data_);
          if (IsRelativePath)
          {
            v62 = 8;
          }

          else
          {
            v62 = 0;
          }

          if (!IsRelativePath)
          {
            v61 = v60;
          }

          v60 = *(v60 + v62);
        }

        while (v60);
        if (v61 == &qword_27EE537F8 || (IsRelativePath = std::less<std::string>::operator()[abi:ne200100](&qword_27EE537F0, &v181.__r_.__value_.__l.__data_, v61 + 4), IsRelativePath))
        {
LABEL_137:
          v63 = qword_27EE537D8;
          v64 = v174;
          v65 = (v174 + 48);
          if (qword_27EE537D8 == &qword_27EE537E0)
          {
LABEL_157:
            v74 = RIO_MTLX::EMPTY_STRING(IsRelativePath);
            RIO_MTLX::NodeDef::getImplementation(v64, v74, &__str);
            v76 = __str.__r_.__value_.__r.__words[0];
            if (__str.__r_.__value_.__r.__words[0] && (v77 = RIO_MTLX::EMPTY_STRING(v75), RIO_MTLX::Element::isA<RIO_MTLX::NodeGraph>(v76, v77)))
            {
              std::__tree<std::string>::__emplace_unique_key_args<std::string,std::string const&>(&qword_27EE537D8, v65);
              if (__str.__r_.__value_.__l.__size_)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](__str.__r_.__value_.__l.__size_);
              }

              v78 = 1;
            }

            else
            {
              if (__str.__r_.__value_.__l.__size_)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](__str.__r_.__value_.__l.__size_);
              }

              __str.__r_.__value_.__r.__words[0] = "CoreRealityIO/mtlxToUsdShade.cpp";
              __str.__r_.__value_.__l.__size_ = "_IsLocalCustomNode";
              __str.__r_.__value_.__r.__words[2] = 805;
              v188 = "BOOL realityio::mtlx::(anonymous namespace)::_NodeGraphBuilder::_IsLocalCustomNode(const mx::ConstNodeDefPtr &)";
              v189 = 0;
              pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper();
              v78 = 0;
            }
          }

          else
          {
            v66 = *(v174 + 71);
            if (v66 >= 0)
            {
              v67 = *(v174 + 71);
            }

            else
            {
              v67 = *(v174 + 56);
            }

            if (v66 >= 0)
            {
              v68 = (v174 + 48);
            }

            else
            {
              v68 = *(v174 + 48);
            }

            while (1)
            {
              v69 = *(v63 + 55);
              v70 = v69;
              if ((v69 & 0x80u) != 0)
              {
                v69 = *(v63 + 40);
              }

              if (v69 == v67)
              {
                v71 = v70 >= 0 ? (v63 + 32) : *(v63 + 32);
                IsRelativePath = memcmp(v71, v68, v67);
                if (!IsRelativePath)
                {
                  break;
                }
              }

              v72 = *(v63 + 8);
              if (v72)
              {
                do
                {
                  v73 = v72;
                  v72 = *v72;
                }

                while (v72);
              }

              else
              {
                do
                {
                  v73 = *(v63 + 16);
                  v39 = *v73 == v63;
                  v63 = v73;
                }

                while (!v39);
              }

              v63 = v73;
              if (v73 == &qword_27EE537E0)
              {
                goto LABEL_157;
              }
            }

            v78 = 1;
          }
        }

        else
        {
          v78 = 0;
        }

        if (SHIBYTE(v181.__r_.__value_.__r.__words[2]) < 0)
        {
          operator delete(v181.__r_.__value_.__l.__data_);
          if (!v78)
          {
            goto LABEL_189;
          }

LABEL_169:
          pxrInternal__aapl__pxrReserved__::UsdPrim::GetParent(&data, &__str);
          pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(&__str, &v181);
          MEMORY[0x24C1A5E00](&v180, v174 + 48);
          pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v178, &v181, &v180);
          if ((v180.__r_.__value_.__s.__data_[0] & 7) != 0)
          {
            atomic_fetch_add_explicit((v180.__r_.__value_.__r.__words[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v181);
          if ((v188 & 7) != 0)
          {
            atomic_fetch_add_explicit((v188 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
          if (__str.__r_.__value_.__l.__size_)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
          }

          pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::Get();
          pxrInternal__aapl__pxrReserved__::UsdShadeNodeGraph::ConnectableAPI(&__str, &v181);
          v79 = __str.__r_.__value_.__l.__size_;
          if (__str.__r_.__value_.__l.__size_)
          {
            atomic_fetch_add_explicit((__str.__r_.__value_.__l.__size_ + 48), 1uLL, memory_order_relaxed);
          }

          if (v183)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v183);
          }

          v183 = v79;
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v184, &__str.__r_.__value_.__r.__words[2]);
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v185, &__str.__r_.__value_.__r.__words[2] + 1);
          pxrInternal__aapl__pxrReserved__::TfToken::operator=(&v186, &v188);
          v80 = MEMORY[0x24C1A5890](&__str);
          v81 = pxrInternal__aapl__pxrReserved__::UsdObject::UsdObject(v80, &v181.__r_.__value_.__l.__size_, &v181.__r_.__value_.__r.__words[2]);
          v82 = *(&v152 + 1);
          *&v180.__r_.__value_.__l.__data_ = v152;
          if (*(&v152 + 1))
          {
            atomic_fetch_add_explicit((*(&v152 + 1) + 8), 1uLL, memory_order_relaxed);
          }

          if (v82)
          {
            std::__shared_weak_count::__release_shared[abi:ne200100](v82);
          }

          if ((v188 & 7) != 0)
          {
            atomic_fetch_add_explicit((v188 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
          if (__str.__r_.__value_.__l.__size_)
          {
            pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
          }

          MEMORY[0x24C1A5610](&v181);
          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
          goto LABEL_230;
        }

        if (v78)
        {
          goto LABEL_169;
        }

LABEL_189:
        if (pxrInternal__aapl__pxrReserved__::TfDebug::IsEnabled<pxrInternal__aapl__pxrReserved__::RIO_USDMTLX_READER__DebugCodes>())
        {
          v83 = (v152 + 48);
          if (*(v152 + 71) < 0)
          {
            v83 = *v83;
          }

          pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(&data, &__str);
          Text = pxrInternal__aapl__pxrReserved__::SdfPath::GetText(&__str);
          pxrInternal__aapl__pxrReserved__::TfDebug::Helper::Msg("Processing shader node (%s) to be added under parent (%s).\n", v85, v83, Text);
          pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
          pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str);
        }

        pxrInternal__aapl__pxrReserved__::UsdObject::GetPath(&data, &__str);
        v86 = v152;
        if (*(&v152 + 1))
        {
          atomic_fetch_add_explicit((*(&v152 + 1) + 8), 1uLL, memory_order_relaxed);
        }

        if (v86)
        {
        }

        else
        {
          v181.__r_.__value_.__r.__words[0] = 0;
        }

        pxrInternal__aapl__pxrReserved__::SdfPath::AppendChild(&v178, &__str, &v181);
        if ((v181.__r_.__value_.__s.__data_[0] & 7) != 0)
        {
          atomic_fetch_add_explicit((v181.__r_.__value_.__r.__words[0] & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
        }

        if (*(&v86 + 1))
        {
          std::__shared_weak_count::__release_shared[abi:ne200100](*(&v86 + 1));
        }

        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
        pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str);
        pxrInternal__aapl__pxrReserved__::UsdShadeShader::Define();
        v87 = v177;
        if (!v177)
        {
          goto LABEL_217;
        }

        if ((v177 & 7) != 0)
        {
          if ((atomic_fetch_add_explicit((v177 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
          {
            v87 &= 0xFFFFFFFFFFFFFFF8;
          }

          __str.__r_.__value_.__r.__words[0] = v87;
          __str.__r_.__value_.__l.__size_ = &pxrInternal__aapl__pxrReserved__::VtValue::GetTypeInfo<pxrInternal__aapl__pxrReserved__::TfToken>(void)::ti + 1;
          if ((v87 & 7) != 0)
          {
            v88 = 0;
            if ((atomic_fetch_add_explicit((v87 & 0xFFFFFFFFFFFFFFF8), 2u, memory_order_relaxed) & 1) == 0)
            {
              __str.__r_.__value_.__r.__words[0] &= 0xFFFFFFFFFFFFFFF8;
            }

LABEL_211:
            pxrInternal__aapl__pxrReserved__::UsdShadeShader::CreateIdAttr(&v181, &__str);
            if ((v173 & 7) != 0)
            {
              atomic_fetch_add_explicit((v173 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v172);
            if (v171)
            {
              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v171);
            }

            pxrInternal__aapl__pxrReserved__::VtValue::~VtValue(&__str);
            if ((v88 & 1) == 0)
            {
              atomic_fetch_add_explicit((v87 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

LABEL_217:
            pxrInternal__aapl__pxrReserved__::UsdShadeShader::ConnectableAPI(&__str, &v181);
            v89 = __str.__r_.__value_.__l.__size_;
            if (__str.__r_.__value_.__l.__size_)
            {
              atomic_fetch_add_explicit((__str.__r_.__value_.__l.__size_ + 48), 1uLL, memory_order_relaxed);
            }

            if (v183)
            {
              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v183);
            }

            v183 = v89;
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v184, &__str.__r_.__value_.__r.__words[2]);
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(v185, &__str.__r_.__value_.__r.__words[2] + 1);
            pxrInternal__aapl__pxrReserved__::TfToken::operator=(&v186, &v188);
            v90 = MEMORY[0x24C1A5890](&__str);
            v91 = pxrInternal__aapl__pxrReserved__::UsdObject::UsdObject(v90, &v181.__r_.__value_.__l.__size_, &v181.__r_.__value_.__r.__words[2]);
            v92 = *(&v152 + 1);
            *&v180.__r_.__value_.__l.__data_ = v152;
            if (*(&v152 + 1))
            {
              atomic_fetch_add_explicit((*(&v152 + 1) + 8), 1uLL, memory_order_relaxed);
            }

            if (v92)
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](v92);
            }

            if ((v188 & 7) != 0)
            {
              atomic_fetch_add_explicit((v188 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
            pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
            if (__str.__r_.__value_.__l.__size_)
            {
              pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
            }

            MEMORY[0x24C1A5280](&v181);
            pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
LABEL_230:
            v93 = pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v178);
            v94 = v152;
            v95 = RIO_MTLX::EMPTY_STRING(v93);
            RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Input>(v94, v95, &__str);
            v97 = __str.__r_.__value_.__l.__size_;
            for (k = __str.__r_.__value_.__r.__words[0]; k != v97; k += 2)
            {
              v98 = *k;
              v99 = k[1];
              if (v99)
              {
                atomic_fetch_add_explicit(&v99->__shared_owners_, 1uLL, memory_order_relaxed);
                atomic_fetch_add_explicit(&v99->__shared_owners_, 1uLL, memory_order_relaxed);
              }

              v181.__r_.__value_.__r.__words[0] = v98;
              v181.__r_.__value_.__l.__size_ = v99;
              if ((v169 & 7) != 0)
              {
                atomic_fetch_add_explicit((v169 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
              }

              pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
              pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v168);
              if (v167)
              {
                pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(v167);
              }

              if (v181.__r_.__value_.__l.__size_)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](v181.__r_.__value_.__l.__size_);
              }

              if (v99)
              {
                std::__shared_weak_count::__release_shared[abi:ne200100](v99);
              }
            }

            v181.__r_.__value_.__r.__words[0] = &__str;
            std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v181);
            if (v174)
            {
              v151 = v32;
              v101 = __str.__r_.__value_.__l.__size_;
              for (m = __str.__r_.__value_.__r.__words[0]; m != v101; m += 2)
              {
                v103 = *m;
                v104 = m[1];
                if (v104)
                {
                  atomic_fetch_add_explicit(&v104->__shared_owners_, 1uLL, memory_order_relaxed);
                }

                v105 = RIO_MTLX::EMPTY_STRING(v100);
                RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Output>(v103, v105, &v181);
                if (v181.__r_.__value_.__r.__words[0] != v181.__r_.__value_.__l.__size_)
                {
                  v106 = *v181.__r_.__value_.__l.__data_;
                  v107 = *(v181.__r_.__value_.__r.__words[0] + 8);
                  if (v107)
                  {
                    atomic_fetch_add_explicit((v107 + 8), 1uLL, memory_order_relaxed);
                    atomic_fetch_add_explicit((v107 + 8), 1uLL, memory_order_relaxed);
                  }

                  v180.__r_.__value_.__r.__words[0] = v106;
                  v180.__r_.__value_.__l.__size_ = v107;
                  v178 = v152;
                  if (*(&v152 + 1))
                  {
                    atomic_fetch_add_explicit((*(&v152 + 1) + 8), 1uLL, memory_order_relaxed);
                  }
                }

                v180.__r_.__value_.__r.__words[0] = &v181;
                std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&v180);
                if (v104)
                {
                  std::__shared_weak_count::__release_shared[abi:ne200100](v104);
                }
              }

              v181.__r_.__value_.__r.__words[0] = &__str;
              std::vector<std::shared_ptr<realityio::SkeletalAnimationAggregationBuilder::SkeletalAnimationSceneDataT>>::__destroy_vector::operator()[abi:ne200100](&v181);
              v32 = v151;
              v33 = v148;
            }

            else
            {
              __str.__r_.__value_.__r.__words[0] = "CoreRealityIO/mtlxToUsdShade.cpp";
              __str.__r_.__value_.__l.__size_ = "_AddNode";
              __str.__r_.__value_.__r.__words[2] = 874;
              v188 = "void realityio::mtlx::(anonymous namespace)::_NodeGraphBuilder::_AddNode(const mx::ConstNodePtr &, const UsdPrim &)";
              v189 = 0;
              if (*(v152 + 71) < 0)
              {
                v108 = *(v152 + 48);
              }

              pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper();
            }

            MEMORY[0x24C1A5890](&v182);
            if (*(&v174 + 1))
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](*(&v174 + 1));
            }

            v109 = v176;
            if (v176 && atomic_fetch_add_explicit((v176 + 8), 0xFFFFFFFF, memory_order_release) == 1)
            {
              (*(*v109 + 8))(v109);
            }

            if ((v177 & 7) != 0)
            {
              atomic_fetch_add_explicit((v177 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

LABEL_267:
            v31 = *(&v152 + 1);
            if (*(&v152 + 1))
            {
              std::__shared_weak_count::__release_shared[abi:ne200100](*(&v152 + 1));
            }

            goto LABEL_269;
          }
        }

        else
        {
          __str.__r_.__value_.__r.__words[0] = v177;
          __str.__r_.__value_.__l.__size_ = &pxrInternal__aapl__pxrReserved__::VtValue::GetTypeInfo<pxrInternal__aapl__pxrReserved__::TfToken>(void)::ti + 1;
        }

        v88 = 1;
        goto LABEL_211;
      }

LABEL_269:
      v32 += 2;
    }

    while (v32 != v33);
  }

  __str.__r_.__value_.__r.__words[0] = &v153;
  std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&__str);
  v112 = a2[10];
  if (v112 != a2 + 11)
  {
    do
    {
      v114 = v112[4];
      v113 = v112[5];
      if (v113)
      {
        atomic_fetch_add_explicit(&v113->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      if ((*(v182 + 23) & 0x8000000000000000) != 0)
      {
        if (!*(v182 + 8))
        {
          goto LABEL_318;
        }
      }

      else if (!*(v182 + 23))
      {
        goto LABEL_318;
      }

      v115 = std::__tree<std::__value_type<std::string,std::shared_ptr<realityio::UntypedInputOutputWrapperObject>>,std::__map_value_compare<std::string,std::__value_type<std::string,std::shared_ptr<realityio::UntypedInputOutputWrapperObject>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,std::shared_ptr<realityio::UntypedInputOutputWrapperObject>>>>::find<std::string>((a2 + 13), v182);
      if (a2 + 14 == v115)
      {
        __str.__r_.__value_.__r.__words[0] = "CoreRealityIO/mtlxToUsdShade.cpp";
        __str.__r_.__value_.__l.__size_ = "_ConnectPorts";
        __str.__r_.__value_.__r.__words[2] = 979;
        v188 = "void realityio::mtlx::(anonymous namespace)::_NodeGraphBuilder::_ConnectPorts(const mx::ConstPortElementPtr &, const D &) [D = pxrInternal__aapl__pxrReserved__::UsdShadeInput]";
        v189 = 0;
        pxrInternal__aapl__pxrReserved__::UsdObject::GetPath((v112 + 6), &v170);
        pxrInternal__aapl__pxrReserved__::SdfPath::GetText(&v170);
        pxrInternal__aapl__pxrReserved__::Tf_PostWarningHelper();
        pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
        v111 = pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v170);
        goto LABEL_318;
      }

      v116 = v115;
      v117 = *(v115 + 56);
      if ((*(v115 + 64) - v117) < 0x21)
      {
        if (v113)
        {
          atomic_fetch_add_explicit(&v113->__shared_owners_, 1uLL, memory_order_relaxed);
          v117 = *(v115 + 56);
        }

        if (!v113)
        {
          goto LABEL_320;
        }

        std::__shared_weak_count::__release_shared[abi:ne200100](v113);
LABEL_319:
        std::__shared_weak_count::__release_shared[abi:ne200100](v113);
        goto LABEL_320;
      }

      LODWORD(__str.__r_.__value_.__l.__data_) = 3;
      __str.__r_.__value_.__l.__size_ = 0;
      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle::Handle();
      v118 = pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::Handle();
      v188 = 0;
      if ((*(v170 + 23) & 0x8000000000000000) != 0)
      {
        if (v170[1])
        {
LABEL_297:
          v120 = *(v116 + 56);
          v119 = *(v116 + 64);
          while (v120 != v119)
          {
            pxrInternal__aapl__pxrReserved__::UsdShadeOutput::GetBaseName(&v166, v120);
            MEMORY[0x24C1A5E00](&v164, v170);
            v121 = v166;
            v122 = v164;
            if ((v164 & 7) != 0)
            {
              atomic_fetch_add_explicit((v164 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            if ((v166 & 7) != 0)
            {
              atomic_fetch_add_explicit((v166 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
            }

            if ((v122 ^ v121) <= 7)
            {
              LODWORD(__str.__r_.__value_.__l.__data_) = *v120;
              v123 = *(v120 + 8);
              if (v123)
              {
                atomic_fetch_add_explicit((v123 + 48), 1uLL, memory_order_relaxed);
              }

              if (__str.__r_.__value_.__l.__size_)
              {
                pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
              }

              __str.__r_.__value_.__l.__size_ = v123;
              pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&__str.__r_.__value_.__r.__words[2], (v120 + 16));
              pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::operator=(&__str.__r_.__value_.__r.__words[2] + 4, (v120 + 20));
              pxrInternal__aapl__pxrReserved__::TfToken::operator=(&v188, (v120 + 24));
              break;
            }

            v120 += 32;
          }
        }
      }

      else if (*(v170 + 23))
      {
        goto LABEL_297;
      }

      if (v113)
      {
        atomic_fetch_add_explicit(&v113->__shared_owners_, 1uLL, memory_order_relaxed);
      }

      if (v113)
      {
        std::__shared_weak_count::__release_shared[abi:ne200100](v113);
      }

      if ((v188 & 7) != 0)
      {
        atomic_fetch_add_explicit((v188 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
      }

      pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
      pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&__str.__r_.__value_.__r.__words[2]);
      v111 = __str.__r_.__value_.__l.__size_;
      if (__str.__r_.__value_.__l.__size_)
      {
        v111 = pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(__str.__r_.__value_.__l.__size_);
      }

LABEL_318:
      if (v113)
      {
        goto LABEL_319;
      }

LABEL_320:
      v124 = v112[1];
      if (v124)
      {
        do
        {
          v125 = v124;
          v124 = *v124;
        }

        while (v124);
      }

      else
      {
        do
        {
          v125 = v112[2];
          v39 = *v125 == v112;
          v112 = v125;
        }

        while (!v39);
      }

      v112 = v125;
    }

    while (v125 != a2 + 11);
  }

  if (v146)
  {
    v126 = pxrInternal__aapl__pxrReserved__::UsdSchemaBase::UsdSchemaBase();
    v173 = 0;
    v170 = (MEMORY[0x277D867A8] + 16);
    v127 = *v150;
    v128 = RIO_MTLX::EMPTY_STRING(v126);
    RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Output>(v127, v128, &v166);
    v129 = v166;
    if (v166 != v167)
    {
      v131 = *v166;
      v130 = *(v166 + 8);
      if (v130)
      {
        atomic_fetch_add_explicit((v130 + 8), 1uLL, memory_order_relaxed);
        v132 = *(v129 + 8);
        v164 = *v129;
        v165 = v132;
        if (v132)
        {
          atomic_fetch_add_explicit(v132 + 1, 1uLL, memory_order_relaxed);
        }
      }

      else
      {
        v164 = *v166;
        v165 = 0;
      }
    }

    __str.__r_.__value_.__r.__words[0] = &v166;
    std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&__str);
    MEMORY[0x24C1A5890](&v170);
    goto LABEL_360;
  }

  if (a3)
  {
    v133 = *v150;
    v134 = RIO_MTLX::EMPTY_STRING(v111);
    RIO_MTLX::Element::getChildrenOfType<RIO_MTLX::Output>(v133, v134, &v182);
    v136 = v182;
    v137 = v183;
    while (v136 != v137)
    {
      v135 = std::__hash_table<std::__hash_value_type<std::string,std::string>,std::__unordered_map_hasher<std::string,std::__hash_value_type<std::string,std::string>,std::hash<std::string>,std::equal_to<std::string>,true>,std::__unordered_map_equal<std::string,std::__hash_value_type<std::string,std::string>,std::equal_to<std::string>,std::hash<std::string>,true>,std::allocator<std::__hash_value_type<std::string,std::string>>>::find<std::string>((*v136 + 160), &qword_27EE53A30);
      if (v135)
      {
        v138 = v135 + 40;
      }

      else
      {
        v135 = RIO_MTLX::EMPTY_STRING(0);
        v138 = v135;
      }

      v139 = v138[23];
      if ((v139 & 0x80u) == 0)
      {
        v140 = v138[23];
      }

      else
      {
        v140 = *(v138 + 1);
      }

      if (v140)
      {
        if ((v139 & 0x80) == 0)
        {
          goto LABEL_346;
        }
      }

      else
      {
        v135 = RIO_MTLX::EMPTY_STRING(v135);
        v138 = v135;
        v139 = v135[23];
        if ((v139 & 0x80) == 0)
        {
LABEL_346:
          if (v139)
          {
            goto LABEL_350;
          }

          goto LABEL_358;
        }
      }

      if (*(v138 + 1))
      {
LABEL_350:
        MEMORY[0x24C1A5E00](&v166, v138);
        v135 = std::__tree<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::__map_value_compare<std::string,std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>,std::less<std::string>,true>,std::allocator<std::__value_type<std::string,realityio::WrappedRERef<REAsset *>>>>::__find_equal<std::string>(a3, &v170, (*v136 + 48));
        v141 = *v135;
        if (!*v135)
        {
          operator new();
        }

        v142 = (v141 + 56);
        if (&v166 == (v141 + 56))
        {
          if ((v166 & 7) != 0)
          {
            atomic_fetch_add_explicit((v166 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }
        }

        else
        {
          if ((*v142 & 7) != 0)
          {
            atomic_fetch_add_explicit((*v142 & 0xFFFFFFFFFFFFFFF8), 0xFFFFFFFE, memory_order_release);
          }

          *v142 = v166;
        }
      }

LABEL_358:
      v136 += 16;
    }

    __str.__r_.__value_.__r.__words[0] = &v182;
    std::vector<std::shared_ptr<realityio::DirtyStageDescriptor const>>::__destroy_vector::operator()[abi:ne200100](&__str);
  }

LABEL_360:
  *a1 = data;
  *(a1 + 8) = size;
  size = 0;
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl((a1 + 16), &v161);
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle,false,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::Sdf_PathNodeHandleImpl((a1 + 20), &v162);
  *(a1 + 24) = v163;
  v163 = 0;
LABEL_361:
  pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPropTag,24u,8u,16384u>::Handle::operator BOOL();
  pxrInternal__aapl__pxrReserved__::Sdf_PathNodeHandleImpl<pxrInternal__aapl__pxrReserved__::Sdf_Pool<pxrInternal__aapl__pxrReserved__::Sdf_PathPrimTag,24u,8u,16384u>::Handle,true,pxrInternal__aapl__pxrReserved__::Sdf_PathNode const>::~Sdf_PathNodeHandleImpl(&v161);
  result = size;
  if (size)
  {
    result = pxrInternal__aapl__pxrReserved__::TfDelegatedCountDecrement(size);
  }

LABEL_363:
  v144 = *MEMORY[0x277D85DE8];
  return result;
}