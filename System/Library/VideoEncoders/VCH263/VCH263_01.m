uint64_t MC_ForUVS16(uint64_t result, uint64_t a2, int a3, int a4, int a5)
{
  v5 = (a5 >> 2) * a3 + (a4 >> 2);
  if (((a5 | a4) & 3) != 0)
  {
    if ((a4 & 3) == 0 || (a5 & 3) != 0)
    {
      v12 = a3;
      v13 = a3 + 1;
      v14 = a3 + 2;
      v15 = a3 + 3;
      v16 = a3 + 4;
      v17 = a3 + 5;
      v18 = a3 + 6;
      v19 = a3 + 7;
      if ((a4 & 3) != 0 || (a5 & 3) == 0)
      {
        v23 = 0;
        v24 = (v5 + a2 + 4);
        do
        {
          v25 = (result + v23);
          *v25 = *(result + v23) - ((*(v24 - 4) + *(v24 - 3) + v24[a3 - 4] + v24[v13 - 4] + 2) >> 2);
          v25[1] = *(result + v23 + 2) - ((*(v24 - 3) + *(v24 - 2) + v24[v13 - 4] + v24[v14 - 4] + 2) >> 2);
          v25[2] = *(result + v23 + 4) - ((*(v24 - 2) + *(v24 - 1) + v24[v14 - 4] + v24[v15 - 4] + 2) >> 2);
          v25[3] = *(result + v23 + 6) - ((*(v24 - 1) + *v24 + v24[v15 - 4] + v24[v16 - 4] + 2) >> 2);
          v25[4] = *(result + v23 + 8) - ((*v24 + v24[1] + v24[v16 - 4] + v24[v17 - 4] + 2) >> 2);
          v25[5] = *(result + v23 + 10) - ((v24[1] + v24[2] + v24[v17 - 4] + v24[v18 - 4] + 2) >> 2);
          v25[6] = *(result + v23 + 12) - ((v24[2] + v24[3] + v24[v18 - 4] + v24[v19 - 4] + 2) >> 2);
          v25[7] = *(result + v23 + 14) - ((v24[3] + v24[4] + v24[v19 - 4] + v24[a3 + 4] + 2) >> 2);
          v23 += 16;
          v24 += a3;
        }

        while (v23 != 128);
      }

      else
      {
        v20 = 0;
        v21 = (v5 + a2 + 3);
        do
        {
          v22 = (result + v20);
          *v22 = *(result + v20) - ((*(v21 - 3) + v21[v12 - 3] + 1) >> 1);
          v22[1] = *(result + v20 + 2) - ((*(v21 - 2) + v21[v13 - 3] + 1) >> 1);
          v22[2] = *(result + v20 + 4) - ((*(v21 - 1) + v21[v14 - 3] + 1) >> 1);
          v22[3] = *(result + v20 + 6) - ((*v21 + v21[v15 - 3] + 1) >> 1);
          v22[4] = *(result + v20 + 8) - ((v21[1] + v21[v16 - 3] + 1) >> 1);
          v22[5] = *(result + v20 + 10) - ((v21[2] + v21[v17 - 3] + 1) >> 1);
          v22[6] = *(result + v20 + 12) - ((v21[3] + v21[v18 - 3] + 1) >> 1);
          v22[7] = *(result + v20 + 14) - ((v21[4] + v21[v19 - 3] + 1) >> 1);
          v20 += 16;
          v21 += v12;
        }

        while (v20 != 128);
      }
    }

    else
    {
      v6 = 0;
      v7 = (v5 + a2 + 4);
      do
      {
        v8 = (result + v6);
        *v8 = *(result + v6) - ((*(v7 - 4) + *(v7 - 3) + 1) >> 1);
        v8[1] = *(result + v6 + 2) - ((*(v7 - 3) + *(v7 - 2) + 1) >> 1);
        v8[2] = *(result + v6 + 4) - ((*(v7 - 2) + *(v7 - 1) + 1) >> 1);
        v8[3] = *(result + v6 + 6) - ((*(v7 - 1) + *v7 + 1) >> 1);
        v8[4] = *(result + v6 + 8) - ((*v7 + v7[1] + 1) >> 1);
        v8[5] = *(result + v6 + 10) - ((v7[1] + v7[2] + 1) >> 1);
        v8[6] = *(result + v6 + 12) - ((v7[2] + v7[3] + 1) >> 1);
        v8[7] = *(result + v6 + 14) - ((v7[3] + v7[4] + 1) >> 1);
        v6 += 16;
        v7 += a3;
      }

      while (v6 != 128);
    }
  }

  else
  {
    v9 = 0;
    v10 = (v5 + a2 + 3);
    do
    {
      v11 = (result + v9);
      *v11 = *(result + v9) - *(v10 - 3);
      v11[1] = *(result + v9 + 2) - *(v10 - 2);
      v11[2] = *(result + v9 + 4) - *(v10 - 1);
      v11[3] = *(result + v9 + 6) - *v10;
      v11[4] = *(result + v9 + 8) - v10[1];
      v11[5] = *(result + v9 + 10) - v10[2];
      v11[6] = *(result + v9 + 12) - v10[3];
      v11[7] = *(result + v9 + 14) - v10[4];
      v9 += 16;
      v10 += a3;
    }

    while (v9 != 128);
  }

  return result;
}

uint64_t MC_InvYS16(uint64_t result, uint64_t a2, uint64_t a3, int a4, int a5, int a6)
{
  v6 = (a6 >> 1) * a4 + (a5 >> 1);
  v7 = v6;
  if ((a6 | a5))
  {
    v20 = a6 & 1;
    if (a5 & 1) == 0 || (a6)
    {
      v33 = a4;
      v34 = a4 + 1;
      v35 = a4 + 2;
      v36 = a4 + 3;
      v37 = a4 + 4;
      v38 = a4 + 5;
      v39 = a4 + 6;
      v40 = a4 + 7;
      v41 = a2 + v6;
      if ((a5 & 1) != 0 || !v20)
      {
        v71 = 0;
        v72 = 0;
        v73 = v7 + v34;
        v74 = v7 + v35;
        v75 = v7 + v36;
        v76 = v7 + v37;
        v77 = v7 + v38;
        v78 = v7 + a4 + 8;
        v79 = v7 + v40;
        v80 = v7 + v39;
        v81 = a2 + v33 + v7;
        v82 = a2 + v73;
        v83 = a2 + v74;
        v84 = a3 + 3;
        v85 = a2 + v75;
        v86 = a2 + v76;
        v87 = a2 + v77;
        v88 = a2 + v78;
        v89 = a2 + v79;
        v90 = a2 + v80;
        do
        {
          v91 = (result + v72);
          v92 = (v84 + v71);
          v93 = (v41 + v71);
          v94 = *(result + v72) + ((*(v41 + v71) + *(v81 + v71) + *(v41 + v71 + 1) + *(v82 + v71) + 2) >> 2);
          if (v94 >= 255)
          {
            v94 = 255;
          }

          *(v92 - 3) = v94 & ~(v94 >> 31);
          v95 = v91[1] + ((v93[1] + *(v82 + v71) + v93[2] + *(v83 + v71) + 2) >> 2);
          if (v95 >= 255)
          {
            v95 = 255;
          }

          *(v92 - 2) = v95 & ~(v95 >> 31);
          v96 = v91[2] + ((v93[2] + *(v83 + v71) + v93[3] + *(v85 + v71) + 2) >> 2);
          if (v96 >= 255)
          {
            v96 = 255;
          }

          *(v92 - 1) = v96 & ~(v96 >> 31);
          v97 = v91[3] + ((v93[3] + *(v85 + v71) + v93[4] + *(v86 + v71) + 2) >> 2);
          if (v97 >= 255)
          {
            v97 = 255;
          }

          *v92 = v97 & ~(v97 >> 31);
          v98 = v91[4] + ((v93[4] + *(v86 + v71) + v93[5] + *(v87 + v71) + 2) >> 2);
          if (v98 >= 255)
          {
            v98 = 255;
          }

          v92[1] = v98 & ~(v98 >> 31);
          v99 = v91[5] + ((v93[5] + *(v87 + v71) + v93[6] + *(v90 + v71) + 2) >> 2);
          if (v99 >= 255)
          {
            v99 = 255;
          }

          v92[2] = v99 & ~(v99 >> 31);
          v100 = v91[6] + ((v93[6] + *(v90 + v71) + v93[7] + *(v89 + v71) + 2) >> 2);
          if (v100 >= 255)
          {
            v100 = 255;
          }

          v92[3] = v100 & ~(v100 >> 31);
          v101 = v91[7] + ((v93[7] + *(v89 + v71) + v93[8] + *(v88 + v71) + 2) >> 2);
          if (v101 >= 255)
          {
            v101 = 255;
          }

          v92[4] = v101 & ~(v101 >> 31);
          v72 += 16;
          v71 += v33;
        }

        while (v72 != 128);
      }

      else
      {
        v42 = 0;
        v43 = 0;
        v44 = v7 + v34;
        v45 = v7 + v35;
        v46 = v7 + v36;
        v47 = v7 + v37;
        v48 = v7 + v38;
        v49 = v7 + v40;
        v50 = v7 + v39;
        v51 = a2 + v33 + v7;
        v52 = a2 + v44;
        v53 = a2 + v45;
        v54 = a3 + 3;
        v55 = a2 + v46;
        v56 = a2 + v47;
        v57 = a2 + v48;
        v58 = a2 + v49;
        v59 = a2 + v50;
        do
        {
          v60 = (result + v43);
          v61 = (v54 + v42);
          v62 = (v41 + v42);
          v63 = *(result + v43) + ((*(v41 + v42) + *(v51 + v42) + 1) >> 1);
          if (v63 >= 255)
          {
            v63 = 255;
          }

          *(v61 - 3) = v63 & ~(v63 >> 31);
          v64 = v60[1] + ((v62[1] + *(v52 + v42) + 1) >> 1);
          if (v64 >= 255)
          {
            v64 = 255;
          }

          *(v61 - 2) = v64 & ~(v64 >> 31);
          v65 = v60[2] + ((v62[2] + *(v53 + v42) + 1) >> 1);
          if (v65 >= 255)
          {
            v65 = 255;
          }

          *(v61 - 1) = v65 & ~(v65 >> 31);
          v66 = v60[3] + ((v62[3] + *(v55 + v42) + 1) >> 1);
          if (v66 >= 255)
          {
            v66 = 255;
          }

          *v61 = v66 & ~(v66 >> 31);
          v67 = v60[4] + ((v62[4] + *(v56 + v42) + 1) >> 1);
          if (v67 >= 255)
          {
            v67 = 255;
          }

          v61[1] = v67 & ~(v67 >> 31);
          v68 = v60[5] + ((v62[5] + *(v57 + v42) + 1) >> 1);
          if (v68 >= 255)
          {
            v68 = 255;
          }

          v61[2] = v68 & ~(v68 >> 31);
          v69 = v60[6] + ((v62[6] + *(v59 + v42) + 1) >> 1);
          if (v69 >= 255)
          {
            v69 = 255;
          }

          v61[3] = v69 & ~(v69 >> 31);
          v70 = v60[7] + ((v62[7] + *(v58 + v42) + 1) >> 1);
          if (v70 >= 255)
          {
            v70 = 255;
          }

          v61[4] = v70 & ~(v70 >> 31);
          v43 += 16;
          v42 += v33;
        }

        while (v43 != 128);
      }
    }

    else
    {
      v21 = 0;
      v22 = (v6 + a2 + 4);
      v23 = (a3 + 4);
      do
      {
        v24 = (result + v21);
        v25 = *(result + v21) + ((*(v22 - 4) + *(v22 - 3) + 1) >> 1);
        if (v25 >= 255)
        {
          v25 = 255;
        }

        *(v23 - 4) = v25 & ~(v25 >> 31);
        v26 = v24[1] + ((*(v22 - 3) + *(v22 - 2) + 1) >> 1);
        if (v26 >= 255)
        {
          v26 = 255;
        }

        *(v23 - 3) = v26 & ~(v26 >> 31);
        v27 = v24[2] + ((*(v22 - 2) + *(v22 - 1) + 1) >> 1);
        if (v27 >= 255)
        {
          v27 = 255;
        }

        *(v23 - 2) = v27 & ~(v27 >> 31);
        v28 = v24[3] + ((*(v22 - 1) + *v22 + 1) >> 1);
        if (v28 >= 255)
        {
          v28 = 255;
        }

        *(v23 - 1) = v28 & ~(v28 >> 31);
        v29 = v24[4] + ((*v22 + v22[1] + 1) >> 1);
        if (v29 >= 255)
        {
          v29 = 255;
        }

        *v23 = v29 & ~(v29 >> 31);
        v30 = v24[5] + ((v22[1] + v22[2] + 1) >> 1);
        if (v30 >= 255)
        {
          v30 = 255;
        }

        v23[1] = v30 & ~(v30 >> 31);
        v31 = v24[6] + ((v22[2] + v22[3] + 1) >> 1);
        if (v31 >= 255)
        {
          v31 = 255;
        }

        v23[2] = v31 & ~(v31 >> 31);
        v32 = v24[7] + ((v22[3] + v22[4] + 1) >> 1);
        if (v32 >= 255)
        {
          v32 = 255;
        }

        v23[3] = v32 & ~(v32 >> 31);
        v21 += 16;
        v22 += a4;
        v23 += a4;
      }

      while (v21 != 128);
    }
  }

  else
  {
    v8 = 0;
    v9 = (v6 + a2 + 3);
    v10 = (a3 + 3);
    do
    {
      v11 = (result + v8);
      v12 = *(v9 - 3) + *(result + v8);
      if (v12 >= 255)
      {
        v12 = 255;
      }

      *(v10 - 3) = v12 & ~(v12 >> 31);
      v13 = *(v9 - 2) + v11[1];
      if (v13 >= 255)
      {
        v13 = 255;
      }

      *(v10 - 2) = v13 & ~(v13 >> 31);
      v14 = *(v9 - 1) + v11[2];
      if (v14 >= 255)
      {
        v14 = 255;
      }

      *(v10 - 1) = v14 & ~(v14 >> 31);
      v15 = *v9 + v11[3];
      if (v15 >= 255)
      {
        v15 = 255;
      }

      *v10 = v15 & ~(v15 >> 31);
      v16 = v9[1] + v11[4];
      if (v16 >= 255)
      {
        v16 = 255;
      }

      v10[1] = v16 & ~(v16 >> 31);
      v17 = v9[2] + v11[5];
      if (v17 >= 255)
      {
        v17 = 255;
      }

      v10[2] = v17 & ~(v17 >> 31);
      v18 = v9[3] + v11[6];
      if (v18 >= 255)
      {
        v18 = 255;
      }

      v10[3] = v18 & ~(v18 >> 31);
      v19 = v9[4] + v11[7];
      if (v19 >= 255)
      {
        v19 = 255;
      }

      v10[4] = v19 & ~(v19 >> 31);
      v8 += 16;
      v9 += a4;
      v10 += a4;
    }

    while (v8 != 128);
  }

  return result;
}

uint64_t MC_InvUVS16(uint64_t result, uint64_t a2, uint64_t a3, int a4, int a5, int a6)
{
  v6 = (a6 >> 2) * a4 + (a5 >> 2);
  v7 = v6;
  if (((a6 | a5) & 3) != 0)
  {
    v8 = a6 & 3;
    v9 = a5 & 3;
    if ((a5 & 3) == 0 || (a6 & 3) != 0)
    {
      v34 = a4;
      v35 = a4 + 1;
      v36 = a4 + 2;
      v37 = a4 + 3;
      v38 = a4 + 4;
      v39 = a4 + 5;
      v40 = a4 + 6;
      v41 = a4 + 7;
      v42 = a2 + v6;
      if (v9 || !v8)
      {
        v72 = 0;
        v73 = 0;
        v74 = v7 + v35;
        v75 = v7 + v36;
        v76 = v7 + v37;
        v77 = v7 + v38;
        v78 = v7 + v39;
        v79 = v7 + a4 + 8;
        v80 = v7 + v41;
        v81 = v7 + v40;
        v82 = a2 + v34 + v7;
        v83 = a2 + v74;
        v84 = a2 + v75;
        v85 = a3 + 3;
        v86 = a2 + v76;
        v87 = a2 + v77;
        v88 = a2 + v78;
        v89 = a2 + v79;
        v90 = a2 + v80;
        v91 = a2 + v81;
        do
        {
          v92 = (result + v73);
          v93 = (v85 + v72);
          v94 = (v42 + v72);
          v95 = *(result + v73) + ((*(v42 + v72) + *(v82 + v72) + *(v42 + v72 + 1) + *(v83 + v72) + 2) >> 2);
          if (v95 >= 255)
          {
            v95 = 255;
          }

          *(v93 - 3) = v95 & ~(v95 >> 31);
          v96 = v92[1] + ((v94[1] + *(v83 + v72) + v94[2] + *(v84 + v72) + 2) >> 2);
          if (v96 >= 255)
          {
            v96 = 255;
          }

          *(v93 - 2) = v96 & ~(v96 >> 31);
          v97 = v92[2] + ((v94[2] + *(v84 + v72) + v94[3] + *(v86 + v72) + 2) >> 2);
          if (v97 >= 255)
          {
            v97 = 255;
          }

          *(v93 - 1) = v97 & ~(v97 >> 31);
          v98 = v92[3] + ((v94[3] + *(v86 + v72) + v94[4] + *(v87 + v72) + 2) >> 2);
          if (v98 >= 255)
          {
            v98 = 255;
          }

          *v93 = v98 & ~(v98 >> 31);
          v99 = v92[4] + ((v94[4] + *(v87 + v72) + v94[5] + *(v88 + v72) + 2) >> 2);
          if (v99 >= 255)
          {
            v99 = 255;
          }

          v93[1] = v99 & ~(v99 >> 31);
          v100 = v92[5] + ((v94[5] + *(v88 + v72) + v94[6] + *(v91 + v72) + 2) >> 2);
          if (v100 >= 255)
          {
            v100 = 255;
          }

          v93[2] = v100 & ~(v100 >> 31);
          v101 = v92[6] + ((v94[6] + *(v91 + v72) + v94[7] + *(v90 + v72) + 2) >> 2);
          if (v101 >= 255)
          {
            v101 = 255;
          }

          v93[3] = v101 & ~(v101 >> 31);
          v102 = v92[7] + ((v94[7] + *(v90 + v72) + v94[8] + *(v89 + v72) + 2) >> 2);
          if (v102 >= 255)
          {
            v102 = 255;
          }

          v93[4] = v102 & ~(v102 >> 31);
          v73 += 16;
          v72 += v34;
        }

        while (v73 != 128);
      }

      else
      {
        v43 = 0;
        v44 = 0;
        v45 = v7 + v35;
        v46 = v7 + v36;
        v47 = v7 + v37;
        v48 = v7 + v38;
        v49 = v7 + v39;
        v50 = v7 + v41;
        v51 = v7 + v40;
        v52 = a2 + v34 + v7;
        v53 = a2 + v45;
        v54 = a2 + v46;
        v55 = a3 + 3;
        v56 = a2 + v47;
        v57 = a2 + v48;
        v58 = a2 + v49;
        v59 = a2 + v50;
        v60 = a2 + v51;
        do
        {
          v61 = (result + v44);
          v62 = (v55 + v43);
          v63 = (v42 + v43);
          v64 = *(result + v44) + ((*(v42 + v43) + *(v52 + v43) + 1) >> 1);
          if (v64 >= 255)
          {
            v64 = 255;
          }

          *(v62 - 3) = v64 & ~(v64 >> 31);
          v65 = v61[1] + ((v63[1] + *(v53 + v43) + 1) >> 1);
          if (v65 >= 255)
          {
            v65 = 255;
          }

          *(v62 - 2) = v65 & ~(v65 >> 31);
          v66 = v61[2] + ((v63[2] + *(v54 + v43) + 1) >> 1);
          if (v66 >= 255)
          {
            v66 = 255;
          }

          *(v62 - 1) = v66 & ~(v66 >> 31);
          v67 = v61[3] + ((v63[3] + *(v56 + v43) + 1) >> 1);
          if (v67 >= 255)
          {
            v67 = 255;
          }

          *v62 = v67 & ~(v67 >> 31);
          v68 = v61[4] + ((v63[4] + *(v57 + v43) + 1) >> 1);
          if (v68 >= 255)
          {
            v68 = 255;
          }

          v62[1] = v68 & ~(v68 >> 31);
          v69 = v61[5] + ((v63[5] + *(v58 + v43) + 1) >> 1);
          if (v69 >= 255)
          {
            v69 = 255;
          }

          v62[2] = v69 & ~(v69 >> 31);
          v70 = v61[6] + ((v63[6] + *(v60 + v43) + 1) >> 1);
          if (v70 >= 255)
          {
            v70 = 255;
          }

          v62[3] = v70 & ~(v70 >> 31);
          v71 = v61[7] + ((v63[7] + *(v59 + v43) + 1) >> 1);
          if (v71 >= 255)
          {
            v71 = 255;
          }

          v62[4] = v71 & ~(v71 >> 31);
          v44 += 16;
          v43 += v34;
        }

        while (v44 != 128);
      }
    }

    else
    {
      v10 = 0;
      v11 = (v6 + a2 + 4);
      v12 = (a3 + 4);
      do
      {
        v13 = (result + v10);
        v14 = *(result + v10) + ((*(v11 - 4) + *(v11 - 3) + 1) >> 1);
        if (v14 >= 255)
        {
          v14 = 255;
        }

        *(v12 - 4) = v14 & ~(v14 >> 31);
        v15 = v13[1] + ((*(v11 - 3) + *(v11 - 2) + 1) >> 1);
        if (v15 >= 255)
        {
          v15 = 255;
        }

        *(v12 - 3) = v15 & ~(v15 >> 31);
        v16 = v13[2] + ((*(v11 - 2) + *(v11 - 1) + 1) >> 1);
        if (v16 >= 255)
        {
          v16 = 255;
        }

        *(v12 - 2) = v16 & ~(v16 >> 31);
        v17 = v13[3] + ((*(v11 - 1) + *v11 + 1) >> 1);
        if (v17 >= 255)
        {
          v17 = 255;
        }

        *(v12 - 1) = v17 & ~(v17 >> 31);
        v18 = v13[4] + ((*v11 + v11[1] + 1) >> 1);
        if (v18 >= 255)
        {
          v18 = 255;
        }

        *v12 = v18 & ~(v18 >> 31);
        v19 = v13[5] + ((v11[1] + v11[2] + 1) >> 1);
        if (v19 >= 255)
        {
          v19 = 255;
        }

        v12[1] = v19 & ~(v19 >> 31);
        v20 = v13[6] + ((v11[2] + v11[3] + 1) >> 1);
        if (v20 >= 255)
        {
          v20 = 255;
        }

        v12[2] = v20 & ~(v20 >> 31);
        v21 = v13[7] + ((v11[3] + v11[4] + 1) >> 1);
        if (v21 >= 255)
        {
          v21 = 255;
        }

        v12[3] = v21 & ~(v21 >> 31);
        v10 += 16;
        v11 += a4;
        v12 += a4;
      }

      while (v10 != 128);
    }
  }

  else
  {
    v22 = 0;
    v23 = (v6 + a2 + 3);
    v24 = (a3 + 3);
    do
    {
      v25 = (result + v22);
      v26 = *(v23 - 3) + *(result + v22);
      if (v26 >= 255)
      {
        v26 = 255;
      }

      *(v24 - 3) = v26 & ~(v26 >> 31);
      v27 = *(v23 - 2) + v25[1];
      if (v27 >= 255)
      {
        v27 = 255;
      }

      *(v24 - 2) = v27 & ~(v27 >> 31);
      v28 = *(v23 - 1) + v25[2];
      if (v28 >= 255)
      {
        v28 = 255;
      }

      *(v24 - 1) = v28 & ~(v28 >> 31);
      v29 = *v23 + v25[3];
      if (v29 >= 255)
      {
        v29 = 255;
      }

      *v24 = v29 & ~(v29 >> 31);
      v30 = v23[1] + v25[4];
      if (v30 >= 255)
      {
        v30 = 255;
      }

      v24[1] = v30 & ~(v30 >> 31);
      v31 = v23[2] + v25[5];
      if (v31 >= 255)
      {
        v31 = 255;
      }

      v24[2] = v31 & ~(v31 >> 31);
      v32 = v23[3] + v25[6];
      if (v32 >= 255)
      {
        v32 = 255;
      }

      v24[3] = v32 & ~(v32 >> 31);
      v33 = v23[4] + v25[7];
      if (v33 >= 255)
      {
        v33 = 255;
      }

      v24[4] = v33 & ~(v33 >> 31);
      v22 += 16;
      v23 += a4;
      v24 += a4;
    }

    while (v22 != 128);
  }

  return result;
}

uint64_t MC_InvUV4S16(uint64_t result, uint64_t a2, uint64_t a3, int a4, int a5, int a6)
{
  v6 = (a6 >> 4) * a4 + (a5 >> 4);
  v7 = a2 + v6;
  if ((a5 & 0xF) == 0 || ((a5 - 1) & 0xF) == 0 || ((a5 + 14) & 0xF) == 0 || ((a5 + 1) & 0xF) == 0 || ((a5 + 2) & 0xF) == 0)
  {
    if ((a6 & 0xF) == 0 || ((a6 - 1) & 0xF) == 0 || ((a6 + 14) & 0xF) == 0 || ((a6 + 1) & 0xF) == 0 || ((a6 + 2) & 0xF) == 0)
    {
      v8 = 0;
      v9 = (v6 + a2 + 3);
      v10 = (a3 + 3);
      do
      {
        v11 = (result + v8);
        v12 = *(v9 - 3) + *(result + v8);
        if (v12 >= 255)
        {
          v12 = 255;
        }

        *(v10 - 3) = v12 & ~(v12 >> 31);
        v13 = *(v9 - 2) + v11[1];
        if (v13 >= 255)
        {
          v13 = 255;
        }

        *(v10 - 2) = v13 & ~(v13 >> 31);
        v14 = *(v9 - 1) + v11[2];
        if (v14 >= 255)
        {
          v14 = 255;
        }

        *(v10 - 1) = v14 & ~(v14 >> 31);
        v15 = *v9 + v11[3];
        if (v15 >= 255)
        {
          v15 = 255;
        }

        *v10 = v15 & ~(v15 >> 31);
        v16 = v9[1] + v11[4];
        if (v16 >= 255)
        {
          v16 = 255;
        }

        v10[1] = v16 & ~(v16 >> 31);
        v17 = v9[2] + v11[5];
        if (v17 >= 255)
        {
          v17 = 255;
        }

        v10[2] = v17 & ~(v17 >> 31);
        v18 = v9[3] + v11[6];
        if (v18 >= 255)
        {
          v18 = 255;
        }

        v10[3] = v18 & ~(v18 >> 31);
        v19 = v9[4] + v11[7];
        if (v19 >= 255)
        {
          v19 = 255;
        }

        v10[4] = v19 & ~(v19 >> 31);
        v8 += 16;
        v9 += a4;
        v10 += a4;
      }

      while (v8 != 128);
      return result;
    }

    if ((a5 & 0xF) == 0 || ((a5 - 1) & 0xF) == 0)
    {
      goto LABEL_44;
    }
  }

  if (((a5 + 14) & 0xF) == 0 || ((a5 + 1) & 0xF) == 0)
  {
    goto LABEL_44;
  }

  if (((a5 + 2) & 0xF) != 0 && ((a6 & 0xF) == 0 || ((a6 - 1) & 0xF) == 0 || ((a6 + 14) & 0xF) == 0 || ((a6 + 1) & 0xF) == 0 || ((a6 + 2) & 0xF) == 0))
  {
    v81 = 0;
    v82 = (v6 + a2 + 4);
    v83 = (a3 + 4);
    do
    {
      v84 = (result + v81);
      v85 = *(result + v81) + ((*(v82 - 4) + *(v82 - 3) + 1) >> 1);
      if (v85 >= 255)
      {
        v85 = 255;
      }

      *(v83 - 4) = v85 & ~(v85 >> 31);
      v86 = v84[1] + ((*(v82 - 3) + *(v82 - 2) + 1) >> 1);
      if (v86 >= 255)
      {
        v86 = 255;
      }

      *(v83 - 3) = v86 & ~(v86 >> 31);
      v87 = v84[2] + ((*(v82 - 2) + *(v82 - 1) + 1) >> 1);
      if (v87 >= 255)
      {
        v87 = 255;
      }

      *(v83 - 2) = v87 & ~(v87 >> 31);
      v88 = v84[3] + ((*(v82 - 1) + *v82 + 1) >> 1);
      if (v88 >= 255)
      {
        v88 = 255;
      }

      *(v83 - 1) = v88 & ~(v88 >> 31);
      v89 = v84[4] + ((*v82 + v82[1] + 1) >> 1);
      if (v89 >= 255)
      {
        v89 = 255;
      }

      *v83 = v89 & ~(v89 >> 31);
      v90 = v84[5] + ((v82[1] + v82[2] + 1) >> 1);
      if (v90 >= 255)
      {
        v90 = 255;
      }

      v83[1] = v90 & ~(v90 >> 31);
      v91 = v84[6] + ((v82[2] + v82[3] + 1) >> 1);
      if (v91 >= 255)
      {
        v91 = 255;
      }

      v83[2] = v91 & ~(v91 >> 31);
      v92 = v84[7] + ((v82[3] + v82[4] + 1) >> 1);
      if (v92 >= 255)
      {
        v92 = 255;
      }

      v83[3] = v92 & ~(v92 >> 31);
      v81 += 16;
      v82 += a4;
      v83 += a4;
    }

    while (v81 != 128);
    return result;
  }

  if (((a5 + 1) & 0xF) != 0)
  {
    if (((a5 + 2) & 0xF) != 0 || (a6 & 0xF) == 0)
    {
LABEL_68:
      v50 = 0;
      v51 = 0;
      v52 = v6 + a4 + 1;
      v53 = v6 + a4 + 2;
      v54 = v6 + a4 + 3;
      v55 = v6 + a4 + 4;
      v56 = v6 + a4 + 5;
      v57 = v6 + a4 + 8;
      v58 = v6 + a4 + 7;
      v59 = v6 + a4 + 6;
      v60 = a2 + v6 + a4;
      v61 = a2 + v52;
      v62 = a2 + v53;
      v63 = a3 + 3;
      v64 = a2 + v54;
      v65 = a2 + v55;
      v66 = a2 + v56;
      v67 = a2 + v57;
      v68 = a2 + v58;
      v69 = a2 + v59;
      do
      {
        v70 = (result + v51);
        v71 = (v63 + v50);
        v72 = (v7 + v50);
        v73 = *(result + v51) + ((*(v7 + v50) + *(v60 + v50) + *(v7 + v50 + 1) + *(v61 + v50) + 2) >> 2);
        if (v73 >= 255)
        {
          v73 = 255;
        }

        *(v71 - 3) = v73 & ~(v73 >> 31);
        v74 = v70[1] + ((v72[1] + *(v61 + v50) + v72[2] + *(v62 + v50) + 2) >> 2);
        if (v74 >= 255)
        {
          v74 = 255;
        }

        *(v71 - 2) = v74 & ~(v74 >> 31);
        v75 = v70[2] + ((v72[2] + *(v62 + v50) + v72[3] + *(v64 + v50) + 2) >> 2);
        if (v75 >= 255)
        {
          v75 = 255;
        }

        *(v71 - 1) = v75 & ~(v75 >> 31);
        v76 = v70[3] + ((v72[3] + *(v64 + v50) + v72[4] + *(v65 + v50) + 2) >> 2);
        if (v76 >= 255)
        {
          v76 = 255;
        }

        *v71 = v76 & ~(v76 >> 31);
        v77 = v70[4] + ((v72[4] + *(v65 + v50) + v72[5] + *(v66 + v50) + 2) >> 2);
        if (v77 >= 255)
        {
          v77 = 255;
        }

        v71[1] = v77 & ~(v77 >> 31);
        v78 = v70[5] + ((v72[5] + *(v66 + v50) + v72[6] + *(v69 + v50) + 2) >> 2);
        if (v78 >= 255)
        {
          v78 = 255;
        }

        v71[2] = v78 & ~(v78 >> 31);
        v79 = v70[6] + ((v72[6] + *(v69 + v50) + v72[7] + *(v68 + v50) + 2) >> 2);
        if (v79 >= 255)
        {
          v79 = 255;
        }

        v71[3] = v79 & ~(v79 >> 31);
        v80 = v70[7] + ((v72[7] + *(v68 + v50) + v72[8] + *(v67 + v50) + 2) >> 2);
        if (v80 >= 255)
        {
          v80 = 255;
        }

        v71[4] = v80 & ~(v80 >> 31);
        v51 += 16;
        v50 += a4;
      }

      while (v51 != 128);
      return result;
    }
  }

  else
  {
LABEL_44:
    if ((a6 & 0xF) == 0)
    {
      goto LABEL_68;
    }
  }

  if (((a6 - 1) & 0xF) == 0 || ((a6 + 14) & 0xF) == 0 || ((a6 + 1) & 0xF) == 0 || ((a6 + 2) & 0xF) == 0)
  {
    goto LABEL_68;
  }

  v20 = 0;
  v21 = 0;
  v22 = v6 + a4 + 1;
  v23 = v6 + a4 + 2;
  v24 = v6 + a4 + 3;
  v25 = v6 + a4 + 4;
  v26 = v6 + a4 + 5;
  v27 = v6 + a4 + 7;
  v28 = v6 + a4 + 6;
  v29 = a2 + v6 + a4;
  v30 = a2 + v22;
  v31 = a2 + v23;
  v32 = a3 + 3;
  v33 = a2 + v24;
  v34 = a2 + v25;
  v35 = a4;
  v36 = a2 + v26;
  v37 = a2 + v27;
  v38 = a2 + v28;
  do
  {
    v39 = (result + v21);
    v40 = (v32 + v20);
    v41 = (v7 + v20);
    v42 = *(result + v21) + ((*(v7 + v20) + *(v29 + v20) + 1) >> 1);
    if (v42 >= 255)
    {
      v42 = 255;
    }

    *(v40 - 3) = v42 & ~(v42 >> 31);
    v43 = v39[1] + ((v41[1] + *(v30 + v20) + 1) >> 1);
    if (v43 >= 255)
    {
      v43 = 255;
    }

    *(v40 - 2) = v43 & ~(v43 >> 31);
    v44 = v39[2] + ((v41[2] + *(v31 + v20) + 1) >> 1);
    if (v44 >= 255)
    {
      v44 = 255;
    }

    *(v40 - 1) = v44 & ~(v44 >> 31);
    v45 = v39[3] + ((v41[3] + *(v33 + v20) + 1) >> 1);
    if (v45 >= 255)
    {
      v45 = 255;
    }

    *v40 = v45 & ~(v45 >> 31);
    v46 = v39[4] + ((v41[4] + *(v34 + v20) + 1) >> 1);
    if (v46 >= 255)
    {
      v46 = 255;
    }

    v40[1] = v46 & ~(v46 >> 31);
    v47 = v39[5] + ((v41[5] + *(v36 + v20) + 1) >> 1);
    if (v47 >= 255)
    {
      v47 = 255;
    }

    v40[2] = v47 & ~(v47 >> 31);
    v48 = v39[6] + ((v41[6] + *(v38 + v20) + 1) >> 1);
    if (v48 >= 255)
    {
      v48 = 255;
    }

    v40[3] = v48 & ~(v48 >> 31);
    v49 = v39[7] + ((v41[7] + *(v37 + v20) + 1) >> 1);
    if (v49 >= 255)
    {
      v49 = 255;
    }

    v40[4] = v49 & ~(v49 >> 31);
    v21 += 16;
    v20 += v35;
  }

  while (v21 != 128);
  return result;
}

uint64_t Grab8x8CharS16(uint64_t result, uint64_t a2, int a3)
{
  v3 = 0;
  v4 = (a2 + 3);
  do
  {
    v5 = (result + v3);
    *v5 = *(v4 - 3);
    v5[1] = *(v4 - 2);
    v5[2] = *(v4 - 1);
    v5[3] = *v4;
    v5[4] = v4[1];
    v5[5] = v4[2];
    v5[6] = v4[3];
    v5[7] = v4[4];
    v3 += 16;
    v4 += a3;
  }

  while (v3 != 128);
  return result;
}

uint64_t Dump8x8CharS16(uint64_t result, int a2, uint64_t a3)
{
  v3 = 0;
  v4 = (result + 3);
  do
  {
    v5 = (a3 + v3);
    v6 = *(a3 + v3);
    if (v6 >= 255)
    {
      v6 = 255;
    }

    *(v4 - 3) = v6 & ~(v6 >> 31);
    v7 = v5[1];
    if (v7 >= 255)
    {
      v7 = 255;
    }

    *(v4 - 2) = v7 & ~(v7 >> 31);
    v8 = v5[2];
    if (v8 >= 255)
    {
      v8 = 255;
    }

    *(v4 - 1) = v8 & ~(v8 >> 31);
    v9 = v5[3];
    if (v9 >= 255)
    {
      v9 = 255;
    }

    *v4 = v9 & ~(v9 >> 31);
    v10 = v5[4];
    if (v10 >= 255)
    {
      v10 = 255;
    }

    v4[1] = v10 & ~(v10 >> 31);
    v11 = v5[5];
    if (v11 >= 255)
    {
      v11 = 255;
    }

    v4[2] = v11 & ~(v11 >> 31);
    v12 = v5[6];
    if (v12 >= 255)
    {
      v12 = 255;
    }

    v4[3] = v12 & ~(v12 >> 31);
    v13 = v5[7];
    if (v13 >= 255)
    {
      v13 = 255;
    }

    v4[4] = v13 & ~(v13 >> 31);
    v3 += 16;
    v4 += a2;
  }

  while (v3 != 128);
  return result;
}

uint64_t MC_Copy8x8Y(uint64_t result, uint64_t a2, int a3, int a4, int a5)
{
  v5 = a4 >> 1;
  v6 = a3;
  v7 = (a5 >> 1) * a3;
  if ((a5 | a4))
  {
    v11 = a5 & 1;
    if (a4 & 1) == 0 || (a5)
    {
      v15 = a5 >> 1;
      v16 = a2 + (a5 >> 1) * a3 + (a4 >> 1);
      v17 = a3 + 1;
      v18 = a3 + 2;
      v19 = a3 + 3;
      v20 = a3 + 4;
      v21 = a3 + 5;
      v22 = a3 + 6;
      v23 = a3 + 7;
      if ((a4 & 1) != 0 || !v11)
      {
        v36 = 0;
        v37 = v7 + v5;
        v38 = a2 + v5 + a3 + a3 * v15;
        v39 = a2 + v37 + a3 + 8;
        v40 = a2 + v23 + v37;
        v41 = a2 + v22 + v37;
        v42 = a2 + v21 + v37;
        v43 = a2 + v20 + v37;
        v44 = a2 + v19 + v37;
        v45 = a2 + v17 + v37;
        v46 = a2 + v18 + v37;
        v47 = 8;
        do
        {
          v48 = (result + v36);
          *v48 = (*(v16 + v36) + *(v38 + v36) + *(v16 + v36 + 1) + *(v45 + v36) + 2) >> 2;
          v48[1] = (*(v16 + v36 + 1) + *(v45 + v36) + *(v16 + v36 + 2) + *(v46 + v36) + 2) >> 2;
          v48[2] = (*(v16 + v36 + 2) + *(v46 + v36) + *(v16 + v36 + 3) + *(v44 + v36) + 2) >> 2;
          v48[3] = (*(v16 + v36 + 3) + *(v44 + v36) + *(v16 + v36 + 4) + *(v43 + v36) + 2) >> 2;
          v48[4] = (*(v16 + v36 + 4) + *(v43 + v36) + *(v16 + v36 + 5) + *(v42 + v36) + 2) >> 2;
          v48[5] = (*(v16 + v36 + 5) + *(v42 + v36) + *(v16 + v36 + 6) + *(v41 + v36) + 2) >> 2;
          v48[6] = (*(v16 + v36 + 6) + *(v41 + v36) + *(v16 + v36 + 7) + *(v40 + v36) + 2) >> 2;
          v48[7] = (*(v16 + v36 + 7) + *(v40 + v36) + *(v16 + v36 + 8) + *(v39 + v36) + 2) >> 2;
          v36 += v6;
          --v47;
        }

        while (v47);
      }

      else
      {
        v24 = 0;
        v25 = v7 + v5;
        v26 = a2 + v5 + v6 + v6 * v15;
        v27 = a2 + v23 + v25;
        v28 = a2 + v22 + v25;
        v29 = a2 + v21 + v25;
        v30 = a2 + v20 + v25;
        v31 = a2 + v19 + v25;
        v32 = a2 + v18 + v25;
        v33 = a2 + v17 + v25;
        v34 = 8;
        do
        {
          v35 = (result + v24);
          *v35 = (*(v16 + v24) + *(v26 + v24) + 1) >> 1;
          v35[1] = (*(v16 + v24 + 1) + *(v33 + v24) + 1) >> 1;
          v35[2] = (*(v16 + v24 + 2) + *(v32 + v24) + 1) >> 1;
          v35[3] = (*(v16 + v24 + 3) + *(v31 + v24) + 1) >> 1;
          v35[4] = (*(v16 + v24 + 4) + *(v30 + v24) + 1) >> 1;
          v35[5] = (*(v16 + v24 + 5) + *(v29 + v24) + 1) >> 1;
          v35[6] = (*(v16 + v24 + 6) + *(v28 + v24) + 1) >> 1;
          v35[7] = (*(v16 + v24 + 7) + *(v27 + v24) + 1) >> 1;
          v24 += v6;
          --v34;
        }

        while (v34);
      }
    }

    else
    {
      v12 = (v7 + v5 + a2 + 4);
      v13 = (result + 3);
      v14 = 8;
      do
      {
        *(v13 - 3) = (*(v12 - 4) + *(v12 - 3) + 1) >> 1;
        *(v13 - 2) = (*(v12 - 3) + *(v12 - 2) + 1) >> 1;
        *(v13 - 1) = (*(v12 - 2) + *(v12 - 1) + 1) >> 1;
        *v13 = (*(v12 - 1) + *v12 + 1) >> 1;
        v13[1] = (*v12 + v12[1] + 1) >> 1;
        v13[2] = (v12[1] + v12[2] + 1) >> 1;
        v13[3] = (v12[2] + v12[3] + 1) >> 1;
        v13[4] = (v12[3] + v12[4] + 1) >> 1;
        v12 += a3;
        v13 += a3;
        --v14;
      }

      while (v14);
    }
  }

  else
  {
    v8 = (v7 + v5 + a2 + 3);
    v9 = (result + 3);
    v10 = 8;
    do
    {
      *(v9 - 3) = *(v8 - 3);
      *(v9 - 2) = *(v8 - 2);
      *(v9 - 1) = *(v8 - 1);
      *v9 = *v8;
      v9[1] = v8[1];
      v9[2] = v8[2];
      v9[3] = v8[3];
      v9[4] = v8[4];
      v8 += a3;
      v9 += a3;
      --v10;
    }

    while (v10);
  }

  return result;
}

uint64_t MC_Copy8x8UV(uint64_t result, uint64_t a2, int a3, int a4, int a5)
{
  v5 = a4 >> 2;
  v6 = a3;
  v7 = (a5 >> 2) * a3;
  if (((a5 | a4) & 3) != 0)
  {
    v8 = a5 & 3;
    v9 = a4 & 3;
    if ((a4 & 3) == 0 || (a5 & 3) != 0)
    {
      v16 = a5 >> 2;
      v17 = a2 + (a5 >> 2) * a3 + (a4 >> 2);
      v18 = a3 + 1;
      v19 = a3 + 2;
      v20 = a3 + 3;
      v21 = a3 + 4;
      v22 = a3 + 5;
      v23 = a3 + 6;
      v24 = a3 + 7;
      if (v9 || !v8)
      {
        v37 = 0;
        v38 = v7 + v5;
        v39 = a2 + v5 + a3 + a3 * v16;
        v40 = a2 + v38 + a3 + 8;
        v41 = a2 + v24 + v38;
        v42 = a2 + v23 + v38;
        v43 = a2 + v22 + v38;
        v44 = a2 + v21 + v38;
        v45 = a2 + v20 + v38;
        v46 = a2 + v18 + v38;
        v47 = a2 + v19 + v38;
        v48 = 8;
        do
        {
          v49 = (result + v37);
          *v49 = (*(v17 + v37) + *(v39 + v37) + *(v17 + v37 + 1) + *(v46 + v37) + 2) >> 2;
          v49[1] = (*(v17 + v37 + 1) + *(v46 + v37) + *(v17 + v37 + 2) + *(v47 + v37) + 2) >> 2;
          v49[2] = (*(v17 + v37 + 2) + *(v47 + v37) + *(v17 + v37 + 3) + *(v45 + v37) + 2) >> 2;
          v49[3] = (*(v17 + v37 + 3) + *(v45 + v37) + *(v17 + v37 + 4) + *(v44 + v37) + 2) >> 2;
          v49[4] = (*(v17 + v37 + 4) + *(v44 + v37) + *(v17 + v37 + 5) + *(v43 + v37) + 2) >> 2;
          v49[5] = (*(v17 + v37 + 5) + *(v43 + v37) + *(v17 + v37 + 6) + *(v42 + v37) + 2) >> 2;
          v49[6] = (*(v17 + v37 + 6) + *(v42 + v37) + *(v17 + v37 + 7) + *(v41 + v37) + 2) >> 2;
          v49[7] = (*(v17 + v37 + 7) + *(v41 + v37) + *(v17 + v37 + 8) + *(v40 + v37) + 2) >> 2;
          v37 += v6;
          --v48;
        }

        while (v48);
      }

      else
      {
        v25 = 0;
        v26 = v7 + v5;
        v27 = a2 + v5 + v6 + v6 * v16;
        v28 = a2 + v24 + v26;
        v29 = a2 + v23 + v26;
        v30 = a2 + v22 + v26;
        v31 = a2 + v21 + v26;
        v32 = a2 + v20 + v26;
        v33 = a2 + v19 + v26;
        v34 = a2 + v18 + v26;
        v35 = 8;
        do
        {
          v36 = (result + v25);
          *v36 = (*(v17 + v25) + *(v27 + v25) + 1) >> 1;
          v36[1] = (*(v17 + v25 + 1) + *(v34 + v25) + 1) >> 1;
          v36[2] = (*(v17 + v25 + 2) + *(v33 + v25) + 1) >> 1;
          v36[3] = (*(v17 + v25 + 3) + *(v32 + v25) + 1) >> 1;
          v36[4] = (*(v17 + v25 + 4) + *(v31 + v25) + 1) >> 1;
          v36[5] = (*(v17 + v25 + 5) + *(v30 + v25) + 1) >> 1;
          v36[6] = (*(v17 + v25 + 6) + *(v29 + v25) + 1) >> 1;
          v36[7] = (*(v17 + v25 + 7) + *(v28 + v25) + 1) >> 1;
          v25 += v6;
          --v35;
        }

        while (v35);
      }
    }

    else
    {
      v10 = (v7 + v5 + a2 + 4);
      v11 = (result + 3);
      v12 = 8;
      do
      {
        *(v11 - 3) = (*(v10 - 4) + *(v10 - 3) + 1) >> 1;
        *(v11 - 2) = (*(v10 - 3) + *(v10 - 2) + 1) >> 1;
        *(v11 - 1) = (*(v10 - 2) + *(v10 - 1) + 1) >> 1;
        *v11 = (*(v10 - 1) + *v10 + 1) >> 1;
        v11[1] = (*v10 + v10[1] + 1) >> 1;
        v11[2] = (v10[1] + v10[2] + 1) >> 1;
        v11[3] = (v10[2] + v10[3] + 1) >> 1;
        v11[4] = (v10[3] + v10[4] + 1) >> 1;
        v10 += a3;
        v11 += a3;
        --v12;
      }

      while (v12);
    }
  }

  else
  {
    v13 = (v7 + v5 + a2 + 3);
    v14 = (result + 3);
    v15 = 8;
    do
    {
      *(v14 - 3) = *(v13 - 3);
      *(v14 - 2) = *(v13 - 2);
      *(v14 - 1) = *(v13 - 1);
      *v14 = *v13;
      v14[1] = v13[1];
      v14[2] = v13[2];
      v14[3] = v13[3];
      v14[4] = v13[4];
      v13 += a3;
      v14 += a3;
      --v15;
    }

    while (v15);
  }

  return result;
}

uint64_t MC_Copy8x8UV4(uint64_t result, uint64_t a2, int a3, int a4, int a5)
{
  v5 = a4 >> 4;
  v6 = a5 >> 4;
  v7 = a3;
  v8 = (a5 >> 4) * a3;
  v9 = a2 + v8 + (a4 >> 4);
  if ((a4 & 0xF) == 0 || ((a4 - 1) & 0xF) == 0 || ((a4 + 14) & 0xF) == 0 || ((a4 + 1) & 0xF) == 0 || ((a4 + 2) & 0xF) == 0)
  {
    if ((a5 & 0xF) == 0 || ((a5 - 1) & 0xF) == 0 || ((a5 + 14) & 0xF) == 0 || ((a5 + 1) & 0xF) == 0 || ((a5 + 2) & 0xF) == 0)
    {
      v10 = (v8 + v5 + a2 + 3);
      v11 = (result + 3);
      v12 = 8;
      do
      {
        *(v11 - 3) = *(v10 - 3);
        *(v11 - 2) = *(v10 - 2);
        *(v11 - 1) = *(v10 - 1);
        *v11 = *v10;
        v11[1] = v10[1];
        v11[2] = v10[2];
        v11[3] = v10[3];
        v11[4] = v10[4];
        v10 += a3;
        v11 += a3;
        --v12;
      }

      while (v12);
      return result;
    }

    if ((a4 & 0xF) == 0 || ((a4 - 1) & 0xF) == 0)
    {
      goto LABEL_28;
    }
  }

  if (((a4 + 14) & 0xF) == 0 || ((a4 + 1) & 0xF) == 0)
  {
    goto LABEL_28;
  }

  if (((a4 + 2) & 0xF) == 0 || (a5 & 0xF) != 0 && ((a5 - 1) & 0xF) != 0 && ((a5 + 14) & 0xF) != 0 && ((a5 + 1) & 0xF) != 0 && ((a5 + 2) & 0xF) != 0)
  {
    if (((a4 + 1) & 0xF) != 0)
    {
      if (((a4 + 2) & 0xF) != 0 || (a5 & 0xF) == 0)
      {
        goto LABEL_36;
      }

LABEL_29:
      if (((a5 - 1) & 0xF) != 0 && ((a5 + 14) & 0xF) != 0 && ((a5 + 1) & 0xF) != 0 && ((a5 + 2) & 0xF) != 0)
      {
        v13 = 0;
        v14 = v8 + v5;
        v15 = v8 + v5 + a3 + 7;
        v16 = a2 + v5 + a3 + a3 * v6;
        v17 = a2 + v15;
        v18 = a2 + v14 + a3 + 6;
        v19 = a2 + v14 + a3 + 5;
        v20 = a2 + v14 + a3 + 4;
        v21 = a2 + v14 + a3 + 3;
        v22 = a2 + v14 + a3 + 2;
        v23 = a2 + v14 + a3 + 1;
        v24 = 8;
        do
        {
          v25 = (result + v13);
          *v25 = (*(v9 + v13) + *(v16 + v13) + 1) >> 1;
          v25[1] = (*(v9 + v13 + 1) + *(v23 + v13) + 1) >> 1;
          v25[2] = (*(v9 + v13 + 2) + *(v22 + v13) + 1) >> 1;
          v25[3] = (*(v9 + v13 + 3) + *(v21 + v13) + 1) >> 1;
          v25[4] = (*(v9 + v13 + 4) + *(v20 + v13) + 1) >> 1;
          v25[5] = (*(v9 + v13 + 5) + *(v19 + v13) + 1) >> 1;
          v25[6] = (*(v9 + v13 + 6) + *(v18 + v13) + 1) >> 1;
          v25[7] = (*(v9 + v13 + 7) + *(v17 + v13) + 1) >> 1;
          v13 += v7;
          --v24;
        }

        while (v24);
        return result;
      }

LABEL_36:
      v26 = 0;
      v27 = a3 + 2;
      v28 = v8 + v5;
      v29 = v8 + v5 + a3 + 8;
      v30 = a2 + v5 + a3 + a3 * v6;
      v31 = a2 + v29;
      v32 = a2 + v28 + a3 + 7;
      v33 = a2 + v28 + a3 + 6;
      v34 = a2 + v28 + a3 + 5;
      v35 = a2 + v28 + a3 + 4;
      v36 = a2 + v28 + a3 + 3;
      v37 = a2 + v28 + a3 + 1;
      v38 = a2 + v28 + v27;
      v39 = 8;
      do
      {
        v40 = (result + v26);
        *v40 = (*(v9 + v26) + *(v30 + v26) + *(v9 + v26 + 1) + *(v37 + v26) + 2) >> 2;
        v40[1] = (*(v9 + v26 + 1) + *(v37 + v26) + *(v9 + v26 + 2) + *(v38 + v26) + 2) >> 2;
        v40[2] = (*(v9 + v26 + 2) + *(v38 + v26) + *(v9 + v26 + 3) + *(v36 + v26) + 2) >> 2;
        v40[3] = (*(v9 + v26 + 3) + *(v36 + v26) + *(v9 + v26 + 4) + *(v35 + v26) + 2) >> 2;
        v40[4] = (*(v9 + v26 + 4) + *(v35 + v26) + *(v9 + v26 + 5) + *(v34 + v26) + 2) >> 2;
        v40[5] = (*(v9 + v26 + 5) + *(v34 + v26) + *(v9 + v26 + 6) + *(v33 + v26) + 2) >> 2;
        v40[6] = (*(v9 + v26 + 6) + *(v33 + v26) + *(v9 + v26 + 7) + *(v32 + v26) + 2) >> 2;
        v40[7] = (*(v9 + v26 + 7) + *(v32 + v26) + *(v9 + v26 + 8) + *(v31 + v26) + 2) >> 2;
        v26 += v7;
        --v39;
      }

      while (v39);
      return result;
    }

LABEL_28:
    if ((a5 & 0xF) == 0)
    {
      goto LABEL_36;
    }

    goto LABEL_29;
  }

  v41 = (v8 + v5 + a2 + 4);
  v42 = (result + 3);
  v43 = 8;
  do
  {
    *(v42 - 3) = (*(v41 - 4) + *(v41 - 3) + 1) >> 1;
    *(v42 - 2) = (*(v41 - 3) + *(v41 - 2) + 1) >> 1;
    *(v42 - 1) = (*(v41 - 2) + *(v41 - 1) + 1) >> 1;
    *v42 = (*(v41 - 1) + *v41 + 1) >> 1;
    v42[1] = (*v41 + v41[1] + 1) >> 1;
    v42[2] = (v41[1] + v41[2] + 1) >> 1;
    v42[3] = (v41[2] + v41[3] + 1) >> 1;
    v42[4] = (v41[3] + v41[4] + 1) >> 1;
    v41 += a3;
    v42 += a3;
    --v43;
  }

  while (v43);
  return result;
}

uint64_t Copy8x8(uint64_t result, uint64_t a2, unsigned int a3)
{
  v3 = (a2 + 3);
  v4 = (result + 3);
  v5 = 8;
  do
  {
    *(v4 - 3) = *(v3 - 3);
    *(v4 - 2) = *(v3 - 2);
    *(v4 - 1) = *(v3 - 1);
    *v4 = *v3;
    v4[1] = v3[1];
    v4[2] = v3[2];
    v4[3] = v3[3];
    v4[4] = v3[4];
    v3 += a3;
    v4 += a3;
    --v5;
  }

  while (v5);
  return result;
}

uint64_t DumpDecoded263MB3S16(uint64_t result, void *a2, void *a3, int *a4)
{
  v103 = *MEMORY[0x29EDCA608];
  v7 = *(result + 296182);
  v8 = *v7;
  v9 = *(result + 296190);
  v10 = *(v9 + 20);
  v11 = *(v9 + 24);
  v12 = (*v7 + 4 * v10);
  v13 = *v7 + 4 * v11;
  v14 = *(v13 + 76) + *v12;
  v15 = *(v13 + 340) + v12[47];
  v16 = *result + 32;
  v92 = *(result + 4) + 16;
  v17 = *(v7 + 154);
  if (v17 < 2)
  {
    v22 = *(v7 + 198);
    if (v11)
    {
      v23 = v22 >= 33 && v11 >= *(*(result + 296174) + 20) - 1;
      if (v23)
      {
        v24 = 32;
      }

      else
      {
        v24 = *(v7 + 198);
      }
    }

    else if (v22 <= -32)
    {
      v24 = -32;
    }

    else
    {
      v24 = *(v7 + 198);
    }

    v34 = *(v7 + 222);
    if (v10)
    {
      if (v34 >= 33 && v10 >= *(*(result + 296174) + 16) - 1)
      {
        v36 = 32;
      }

      else
      {
        v36 = *(v7 + 222);
      }
    }

    else if (v34 <= -32)
    {
      v36 = -32;
    }

    else
    {
      v36 = *(v7 + 222);
    }

    v37 = v8[42] + v14;
    if (*a4)
    {
      MC_InvYS16(*(v7 + 8), *a3 + v37, *a2 + v37, v16, v24, v36);
    }

    else
    {
      MC_Copy8x8Y(*a2 + v37, *a3 + v37, v16, v24, v36);
    }

    v38 = v8[43] + v14;
    if (a4[1])
    {
      MC_InvYS16(*(v7 + 16), *a3 + v38, *a2 + v38, v16, v24, v36);
    }

    else
    {
      MC_Copy8x8Y(*a2 + v38, *a3 + v38, v16, v24, v36);
    }

    v39 = v8[44] + v14;
    if (a4[2])
    {
      MC_InvYS16(*(v7 + 24), *a3 + v39, *a2 + v39, v16, v24, v36);
    }

    else
    {
      MC_Copy8x8Y(*a2 + v39, *a3 + v39, v16, v24, v36);
    }

    v40 = v8[45] + v14;
    if (a4[3])
    {
      MC_InvYS16(*(v7 + 32), *a3 + v40, *a2 + v40, v16, v24, v36);
    }

    else
    {
      MC_Copy8x8Y(*a2 + v40, *a3 + v40, v16, v24, v36);
    }

    if (a4[4])
    {
      MC_InvUVS16(*(v7 + 40), a3[1] + v15, a2[1] + v15, v92, v24, v36);
    }

    else
    {
      MC_Copy8x8UV(a2[1] + v15, a3[1] + v15, v92, v24, v36);
    }

    if (a4[5])
    {
      v41 = *(v7 + 48);
      v42 = *MEMORY[0x29EDCA608];
      v43 = a3[2] + v15;
      v44 = a2[2] + v15;

      return MC_InvUVS16(v41, v43, v44, v92, v24, v36);
    }

    else
    {
      v45 = *MEMORY[0x29EDCA608];
      v46 = a2[2] + v15;
      v47 = a3[2] + v15;

      return MC_Copy8x8UV(v46, v47, v92, v24, v36);
    }
  }

  if (v17 - 3 >= 2)
  {
    if (v17 != 2)
    {
      goto LABEL_113;
    }

    v25 = 0;
    v26 = 0;
    v27 = (v7 + 202);
    v28 = 1;
    v29 = (v7 + 202);
    while (1)
    {
      v31 = *v29++;
      v30 = v31;
      *&v98[4 * v28] = v31;
      if (!v11)
      {
        break;
      }

      if (v11 >= *(*(result + 296174) + 20) - 1 && v30 >= 33)
      {
        v30 = 32;
LABEL_20:
        *&v98[4 * v28] = v30;
      }

LABEL_21:
      v32 = v27[6];
      v93[v28] = v32;
      if (v10)
      {
        if (v10 < *(*(result + 296174) + 16) - 1 || v32 < 33)
        {
          goto LABEL_28;
        }

        v32 = 32;
        goto LABEL_27;
      }

      if (v32 <= -33)
      {
        v32 = -32;
LABEL_27:
        v93[v28] = v32;
      }

LABEL_28:
      v26 += v30;
      v25 += v32;
      ++v28;
      v27 = v29;
      if (v28 == 5)
      {
        v33 = v8[42] + v14;
        if (*a4)
        {
          MC_InvYS16(*(v7 + 8), *a3 + v33, *a2 + v33, v16, v99, v94);
        }

        else
        {
          MC_Copy8x8Y(*a2 + v33, *a3 + v33, v16, v99, v94);
        }

        v88 = v8[43] + v14;
        if (a4[1])
        {
          MC_InvYS16(*(v7 + 16), *a3 + v88, *a2 + v88, v16, v100, v95);
        }

        else
        {
          MC_Copy8x8Y(*a2 + v88, *a3 + v88, v16, v100, v95);
        }

        v89 = v8[44] + v14;
        if (a4[2])
        {
          MC_InvYS16(*(v7 + 24), *a3 + v89, *a2 + v89, v16, v101, v96);
        }

        else
        {
          MC_Copy8x8Y(*a2 + v89, *a3 + v89, v16, v101, v96);
        }

        v90 = v8[45] + v14;
        if (a4[3])
        {
          MC_InvYS16(*(v7 + 32), *a3 + v90, *a2 + v90, v16, v102, v97);
        }

        else
        {
          MC_Copy8x8Y(*a2 + v90, *a3 + v90, v16, v102, v97);
        }

        if (a4[4])
        {
          MC_InvUV4S16(*(v7 + 40), a3[1] + v15, a2[1] + v15, v92, v26, v25);
        }

        else
        {
          MC_Copy8x8UV4(a2[1] + v15, a3[1] + v15, v92, v26, v25);
        }

        if (a4[5])
        {
          result = MC_InvUV4S16(*(v7 + 48), a3[2] + v15, a2[2] + v15, v92, v26, v25);
        }

        else
        {
          result = MC_Copy8x8UV4(a2[2] + v15, a3[2] + v15, v92, v26, v25);
        }

LABEL_113:
        v91 = *MEMORY[0x29EDCA608];
        return result;
      }
    }

    if (v30 > -33)
    {
      goto LABEL_21;
    }

    v30 = -32;
    goto LABEL_20;
  }

  v18 = *(*(result + 296238) + 48);
  v19 = *a4;
  v20 = *a2 + v8[42] + v14;
  v21 = *(v7 + 8);
  if (*a4)
  {
    Dump8x8CharS16(v20, v16, v21);
  }

  else
  {
    v48 = *(*(v18 + 1312) + *v21);
    v49 = (v48 << 16) | (v48 << 24) | (v48 << 8) | v48;
    v50 = -8;
    do
    {
      v51 = (v20 + 4 * v19);
      *v51 = v49;
      v51[1] = v49;
      v19 += v16 >> 2;
      v23 = __CFADD__(v50++, 1);
    }

    while (!v23);
  }

  v52 = a4[1];
  v53 = *a2 + v8[43] + v14;
  v54 = *(v7 + 16);
  if (v52)
  {
    Dump8x8CharS16(v53, v16, v54);
  }

  else
  {
    v55 = *(*(v18 + 1312) + *v54);
    v56 = (v55 << 16) | (v55 << 24) | (v55 << 8) | v55;
    v57 = -8;
    do
    {
      v58 = (v53 + 4 * v52);
      *v58 = v56;
      v58[1] = v56;
      v52 += v16 >> 2;
      v23 = __CFADD__(v57++, 1);
    }

    while (!v23);
  }

  v59 = a4[2];
  v60 = *a2 + v8[44] + v14;
  v61 = *(v7 + 24);
  if (v59)
  {
    Dump8x8CharS16(v60, v16, v61);
  }

  else
  {
    v62 = *(*(v18 + 1312) + *v61);
    v63 = (v62 << 16) | (v62 << 24) | (v62 << 8) | v62;
    v64 = -8;
    do
    {
      v65 = (v60 + 4 * v59);
      *v65 = v63;
      v65[1] = v63;
      v59 += v16 >> 2;
      v23 = __CFADD__(v64++, 1);
    }

    while (!v23);
  }

  v66 = a4[3];
  v67 = *a2 + v8[45] + v14;
  v68 = *(v7 + 32);
  if (v66)
  {
    Dump8x8CharS16(v67, v16, v68);
    v69 = v92;
  }

  else
  {
    v70 = *(*(v18 + 1312) + *v68);
    v71 = (v70 << 16) | (v70 << 24) | (v70 << 8) | v70;
    v72 = -8;
    v69 = v92;
    do
    {
      v73 = (v67 + 4 * v66);
      *v73 = v71;
      v73[1] = v71;
      v66 += v16 >> 2;
      v23 = __CFADD__(v72++, 1);
    }

    while (!v23);
  }

  v74 = a4[4];
  v75 = a2[1] + v15;
  v76 = *(v7 + 40);
  if (v74)
  {
    Dump8x8CharS16(v75, v69, v76);
  }

  else
  {
    v77 = *(*(v18 + 1312) + *v76);
    v78 = (v77 << 16) | (v77 << 24) | (v77 << 8) | v77;
    v79 = -8;
    do
    {
      v80 = (v75 + 4 * v74);
      *v80 = v78;
      v80[1] = v78;
      v74 += v69 >> 2;
      v23 = __CFADD__(v79++, 1);
    }

    while (!v23);
  }

  v81 = a4[5];
  result = a2[2] + v15;
  v82 = *(v7 + 48);
  if (!v81)
  {
    v84 = *(*(v18 + 1312) + *v82);
    v85 = (v84 << 16) | (v84 << 24) | (v84 << 8) | v84;
    v86 = -8;
    do
    {
      v87 = (result + 4 * v81);
      *v87 = v85;
      v87[1] = v85;
      v81 += v69 >> 2;
      v23 = __CFADD__(v86++, 1);
    }

    while (!v23);
    goto LABEL_113;
  }

  v83 = *MEMORY[0x29EDCA608];

  return Dump8x8CharS16(result, v69, v82);
}

uint64_t DumpDecoded263MB4S16(uint64_t result, uint64_t *a2, uint64_t a3, uint64_t a4, int *a5)
{
  v8 = result;
  v9 = result + 294912;
  v10 = *(result + 296182);
  v11 = *(result + 296190);
  v12 = *v10;
  v13 = *(v11 + 20);
  v14 = *(v11 + 24);
  v15 = (*v10 + 4 * v13);
  v16 = *v15;
  v17 = *v10 + 4 * v14;
  v18 = *(v17 + 76);
  v19 = v15[47];
  v20 = *(v17 + 340);
  v21 = *result;
  v22 = *(result + 4);
  v23 = *(v10 + 198);
  if (v14)
  {
    result = (*(*(result + 296174) + 20) - 1);
    v24 = v23 >= 33 && v14 >= result;
    if (v24)
    {
      v25 = 32;
    }

    else
    {
      v25 = *(v10 + 198);
    }
  }

  else if (v23 <= -32)
  {
    v25 = -32;
  }

  else
  {
    v25 = *(v10 + 198);
  }

  v122 = v25;
  v26 = v18 + v16;
  v124 = v20 + v19;
  v27 = v21 + 32;
  v125 = v22 + 16;
  v28 = *(v10 + 222);
  if (v13)
  {
    v29 = *(*(v9 + 1262) + 16) - 1;
    if (v28 >= 33 && v13 >= v29)
    {
      v31 = 32;
    }

    else
    {
      v31 = *(v10 + 222);
    }
  }

  else if (v28 <= -32)
  {
    v31 = -32;
  }

  else
  {
    v31 = *(v10 + 222);
  }

  v32 = *(v10 + 154);
  if (v32 >= 2)
  {
    if (v32 - 3 < 2)
    {
      v33 = *(*(v8 + 296238) + 48);
      v34 = *a5;
      v35 = *a2 + v12[42] + v26;
      v36 = *(v10 + 8);
      if (*a5)
      {
        Dump8x8CharS16(v35, v21 + 32, v36);
      }

      else
      {
        v60 = *(*(v33 + 1312) + *v36);
        v61 = (v60 << 16) | (v60 << 24) | (v60 << 8) | v60;
        v62 = -8;
        do
        {
          v63 = (v35 + 4 * v34);
          *v63 = v61;
          v63[1] = v61;
          v34 += v27 >> 2;
          v24 = __CFADD__(v62++, 1);
        }

        while (!v24);
      }

      v64 = a5[1];
      v65 = *a2 + v12[43] + v26;
      v66 = *(v10 + 16);
      if (v64)
      {
        Dump8x8CharS16(v65, v27, v66);
      }

      else
      {
        v67 = *(*(v33 + 1312) + *v66);
        v68 = (v67 << 16) | (v67 << 24) | (v67 << 8) | v67;
        v69 = -8;
        do
        {
          v70 = (v65 + 4 * v64);
          *v70 = v68;
          v70[1] = v68;
          v64 += v27 >> 2;
          v24 = __CFADD__(v69++, 1);
        }

        while (!v24);
      }

      v71 = a5[2];
      v72 = *a2 + v12[44] + v26;
      v73 = *(v10 + 24);
      if (v71)
      {
        Dump8x8CharS16(v72, v27, v73);
      }

      else
      {
        v74 = *(*(v33 + 1312) + *v73);
        v75 = (v74 << 16) | (v74 << 24) | (v74 << 8) | v74;
        v76 = -8;
        do
        {
          v77 = (v72 + 4 * v71);
          *v77 = v75;
          v77[1] = v75;
          v71 += v27 >> 2;
          v24 = __CFADD__(v76++, 1);
        }

        while (!v24);
      }

      v78 = a5[3];
      v79 = *a2 + v12[45] + v26;
      v80 = *(v10 + 32);
      if (v78)
      {
        Dump8x8CharS16(v79, v27, v80);
        v81 = v125;
        v82 = v124;
      }

      else
      {
        v83 = *(*(v33 + 1312) + *v80);
        v84 = (v83 << 16) | (v83 << 24) | (v83 << 8) | v83;
        v85 = -8;
        v81 = v125;
        v82 = v124;
        do
        {
          v86 = (v79 + 4 * v78);
          *v86 = v84;
          v86[1] = v84;
          v78 += v27 >> 2;
          v24 = __CFADD__(v85++, 1);
        }

        while (!v24);
      }

      v87 = a5[4];
      v88 = a2[1] + v82;
      v89 = *(v10 + 40);
      if (v87)
      {
        Dump8x8CharS16(v88, v81, v89);
      }

      else
      {
        v90 = *(*(v33 + 1312) + *v89);
        v91 = (v90 << 16) | (v90 << 24) | (v90 << 8) | v90;
        v92 = -8;
        do
        {
          v93 = (v88 + 4 * v87);
          *v93 = v91;
          v93[1] = v91;
          v87 += v81 >> 2;
          v24 = __CFADD__(v92++, 1);
        }

        while (!v24);
      }

      v94 = a5[5];
      result = a2[2] + v82;
      v95 = *(v10 + 48);
      if (v94)
      {

        return Dump8x8CharS16(result, v81, v95);
      }

      else
      {
        v96 = *(*(v33 + 1312) + *v95);
        v97 = (v96 << 16) | (v96 << 24) | (v96 << 8) | v96;
        v98 = -8;
        do
        {
          v99 = (result + 4 * v94);
          *v99 = v97;
          v99[1] = v97;
          v94 += v81 >> 2;
          v24 = __CFADD__(v98++, 1);
        }

        while (!v24);
      }

      return result;
    }

    if (v32 != 2)
    {
      return result;
    }

    v40 = *a2;
    v41 = v12[42] + v26;
    v42 = a4 + 4 * v41;
    if (*a5)
    {
      Copy8x8obmcRes(v40 + v41, v42, *(v10 + 8), v21 + 32);
    }

    else
    {
      Copy8x8obmc(v40 + v41, v42, v21 + 32);
    }

    v100 = *a2;
    v101 = v12[43] + v26;
    v102 = a4 + 4 * v101;
    if (a5[1])
    {
      Copy8x8obmcRes(v100 + v101, v102, *(v10 + 16), v27);
    }

    else
    {
      Copy8x8obmc(v100 + v101, v102, v27);
    }

    v103 = *a2;
    v104 = v12[44] + v26;
    v105 = a4 + 4 * v104;
    if (a5[2])
    {
      Copy8x8obmcRes(v103 + v104, v105, *(v10 + 24), v27);
    }

    else
    {
      Copy8x8obmc(v103 + v104, v105, v27);
    }

    v106 = *a2;
    v107 = v12[45] + v26;
    v108 = a4 + 4 * v107;
    if (a5[3])
    {
      Copy8x8obmcRes(v106 + v107, v108, *(v10 + 32), v27);
    }

    else
    {
      Copy8x8obmc(v106 + v107, v108, v27);
    }

    v109 = 0;
    v110 = 0;
    v112 = *(v11 + 20);
    v111 = *(v11 + 24);
    v113 = (v10 + 226);
    v114 = 4;
    do
    {
      v115 = *(v113 - 6);
      if (v111)
      {
        if (v115 >= 33 && v111 >= *(*(v8 + 296174) + 20) - 1)
        {
          v115 = 32;
        }
      }

      else if (v115 <= -32)
      {
        v115 = -32;
      }

      v117 = *v113;
      if (v112)
      {
        if (v117 >= 33 && v112 >= *(*(v8 + 296174) + 16) - 1)
        {
          v117 = 32;
        }
      }

      else if (v117 <= -32)
      {
        v117 = -32;
      }

      ++v113;
      v110 += v115;
      v109 += v117;
      --v114;
    }

    while (v114);
    if (a5[4])
    {
      MC_InvUV4S16(*(v10 + 40), *(a3 + 8) + v124, a2[1] + v124, v125, v110, v109);
    }

    else
    {
      MC_Copy8x8UV4(a2[1] + v124, *(a3 + 8) + v124, v125, v110, v109);
    }

    if (a5[5])
    {
      v119 = *(v10 + 48);
      v120 = *(a3 + 16) + v124;
      v121 = a2[2] + v124;

      return MC_InvUV4S16(v119, v120, v121, v125, v110, v109);
    }

    v55 = a2[2] + v124;
    v56 = *(a3 + 16) + v124;
    v57 = v125;
    v58 = v110;
    v59 = v109;
    goto LABEL_117;
  }

  v37 = *a2;
  v38 = v12[42] + v26;
  v39 = a4 + 4 * v38;
  if (*a5)
  {
    Copy8x8obmcRes(v37 + v38, v39, *(v10 + 8), v21 + 32);
  }

  else
  {
    Copy8x8obmc(v37 + v38, v39, v21 + 32);
  }

  v43 = *a2;
  v44 = v12[43] + v26;
  v45 = a4 + 4 * v44;
  if (a5[1])
  {
    Copy8x8obmcRes(v43 + v44, v45, *(v10 + 16), v27);
  }

  else
  {
    Copy8x8obmc(v43 + v44, v45, v27);
  }

  v46 = *a2;
  v47 = v12[44] + v26;
  v48 = a4 + 4 * v47;
  if (a5[2])
  {
    Copy8x8obmcRes(v46 + v47, v48, *(v10 + 24), v27);
  }

  else
  {
    Copy8x8obmc(v46 + v47, v48, v27);
  }

  v49 = *a2;
  v50 = v12[45] + v26;
  v51 = a4 + 4 * v50;
  if (a5[3])
  {
    Copy8x8obmcRes(v49 + v50, v51, *(v10 + 32), v27);
  }

  else
  {
    Copy8x8obmc(v49 + v50, v51, v27);
  }

  if (a5[4])
  {
    MC_InvUVS16(*(v10 + 40), *(a3 + 8) + v124, a2[1] + v124, v125, v122, v31);
  }

  else
  {
    MC_Copy8x8UV4(a2[1] + v124, *(a3 + 8) + v124, v125, v122, v31);
  }

  if (!a5[5])
  {
    v55 = a2[2] + v124;
    v56 = *(a3 + 16) + v124;
    v57 = v125;
    v58 = v122;
    v59 = v31;
LABEL_117:

    return MC_Copy8x8UV4(v55, v56, v57, v58, v59);
  }

  v52 = *(v10 + 48);
  v53 = *(a3 + 16) + v124;
  v54 = a2[2] + v124;

  return MC_InvUVS16(v52, v53, v54, v125, v122, v31);
}

uint64_t Copy8x8obmcRes(uint64_t result, uint64_t a2, uint64_t a3, int a4)
{
  v4 = 0;
  v5 = (a2 + 16);
  v6 = (result + 3);
  do
  {
    v7 = (a3 + v4);
    v8 = *(v5 - 8) + *(a3 + v4);
    if (v8 >= 255)
    {
      v8 = 255;
    }

    *(v6 - 3) = v8 & ~(v8 >> 31);
    v9 = *(v5 - 6) + v7[1];
    if (v9 >= 255)
    {
      v9 = 255;
    }

    *(v6 - 2) = v9 & ~(v9 >> 31);
    v10 = *(v5 - 4) + v7[2];
    if (v10 >= 255)
    {
      v10 = 255;
    }

    *(v6 - 1) = v10 & ~(v10 >> 31);
    v11 = *(v5 - 2) + v7[3];
    if (v11 >= 255)
    {
      v11 = 255;
    }

    *v6 = v11 & ~(v11 >> 31);
    v12 = *v5 + v7[4];
    if (v12 >= 255)
    {
      v12 = 255;
    }

    v6[1] = v12 & ~(v12 >> 31);
    v13 = v5[2] + v7[5];
    if (v13 >= 255)
    {
      v13 = 255;
    }

    v6[2] = v13 & ~(v13 >> 31);
    v14 = v5[4] + v7[6];
    if (v14 >= 255)
    {
      v14 = 255;
    }

    v6[3] = v14 & ~(v14 >> 31);
    v15 = v5[6] + v7[7];
    if (v15 >= 255)
    {
      v15 = 255;
    }

    v6[4] = v15 & ~(v15 >> 31);
    v4 += 16;
    v5 += 2 * a4;
    v6 += a4;
  }

  while (v4 != 128);
  return result;
}

uint64_t Copy8x8obmc(uint64_t result, uint64_t a2, int a3)
{
  v3 = (a2 + 16);
  v4 = (result + 3);
  v5 = 8;
  do
  {
    *(v4 - 3) = *(v3 - 4);
    *(v4 - 2) = *(v3 - 3);
    *(v4 - 1) = *(v3 - 2);
    *v4 = *(v3 - 1);
    v4[1] = *v3;
    v4[2] = v3[1];
    v4[3] = v3[2];
    v4[4] = v3[3];
    v3 += a3;
    v4 += a3;
    --v5;
  }

  while (v5);
  return result;
}

uint64_t MC_Copy8x8Y_wcc(uint64_t a1, uint64_t a2, int a3, int a4, int a5, uint64_t a6, unint64_t a7, unint64_t a8)
{
  v8 = (a5 >> 1) * a3 + (a4 >> 1);
  if (a7 && a8)
  {
    v9 = a2 + v8;
    if (v9 < a7)
    {
      return 7;
    }

    v10 = a5 & 1;
    if (v9 + (a4 & 1) + (v10 + 7) * a3 + 7 >= a8)
    {
      return 7;
    }
  }

  else
  {
    v10 = a5 & 1;
  }

  v12 = v8;
  if ((a5 | a4))
  {
    if ((a4 & 1) == 0 || v10)
    {
      v19 = a3;
      v20 = a3 + 1;
      v21 = a3 + 2;
      v22 = a3 + 3;
      v23 = a3 + 4;
      v24 = a3 + 5;
      v25 = a3 + 6;
      v26 = a3 + 7;
      if ((a4 & 1) != 0 || !v10)
      {
        v30 = 0;
        v31 = a3 + 8;
        v32 = (v12 + a2 + 4);
        v33 = (a1 + 16);
        do
        {
          *(v33 - 4) = ((*(v32 - 4) + *(v32 - 3) + v32[v19 - 4] + v32[v20 - 4] + 2) >> 2) * *(a6 + v30);
          *(v33 - 3) = ((*(v32 - 3) + *(v32 - 2) + v32[v20 - 4] + v32[v21 - 4] + 2) >> 2) * *(a6 + v30 + 4);
          *(v33 - 2) = ((*(v32 - 2) + *(v32 - 1) + v32[v21 - 4] + v32[v22 - 4] + 2) >> 2) * *(a6 + v30 + 8);
          *(v33 - 1) = ((*(v32 - 1) + *v32 + v32[v22 - 4] + v32[v23 - 4] + 2) >> 2) * *(a6 + v30 + 12);
          *v33 = ((*v32 + v32[1] + v32[v23 - 4] + v32[v24 - 4] + 2) >> 2) * *(a6 + v30 + 16);
          v33[1] = ((v32[1] + v32[2] + v32[v24 - 4] + v32[v25 - 4] + 2) >> 2) * *(a6 + v30 + 20);
          v33[2] = ((v32[2] + v32[3] + v32[v25 - 4] + v32[v26 - 4] + 2) >> 2) * *(a6 + v30 + 24);
          v33[3] = ((v32[3] + v32[4] + v32[v26 - 4] + v32[v31 - 4] + 2) >> 2) * *(a6 + v30 + 28);
          v30 += 32;
          v33 += v19;
          v32 += v19;
        }

        while (v30 != 256);
      }

      else
      {
        v27 = 0;
        v28 = (v12 + a2 + 3);
        v29 = (a1 + 16);
        do
        {
          *(v29 - 4) = ((*(v28 - 3) + v28[a3 - 3] + 1) >> 1) * *(a6 + v27);
          *(v29 - 3) = ((*(v28 - 2) + v28[v20 - 3] + 1) >> 1) * *(a6 + v27 + 4);
          *(v29 - 2) = ((*(v28 - 1) + v28[v21 - 3] + 1) >> 1) * *(a6 + v27 + 8);
          *(v29 - 1) = ((*v28 + v28[v22 - 3] + 1) >> 1) * *(a6 + v27 + 12);
          *v29 = ((v28[1] + v28[v23 - 3] + 1) >> 1) * *(a6 + v27 + 16);
          v29[1] = ((v28[2] + v28[v24 - 3] + 1) >> 1) * *(a6 + v27 + 20);
          v29[2] = ((v28[3] + v28[v25 - 3] + 1) >> 1) * *(a6 + v27 + 24);
          v29[3] = ((v28[4] + v28[v26 - 3] + 1) >> 1) * *(a6 + v27 + 28);
          v27 += 32;
          v29 += a3;
          v28 += a3;
        }

        while (v27 != 256);
      }
    }

    else
    {
      v16 = 0;
      v17 = (v12 + a2 + 4);
      v18 = (a1 + 16);
      do
      {
        *(v18 - 4) = ((*(v17 - 4) + *(v17 - 3) + 1) >> 1) * *(a6 + v16);
        *(v18 - 3) = ((*(v17 - 3) + *(v17 - 2) + 1) >> 1) * *(a6 + v16 + 4);
        *(v18 - 2) = ((*(v17 - 2) + *(v17 - 1) + 1) >> 1) * *(a6 + v16 + 8);
        *(v18 - 1) = ((*(v17 - 1) + *v17 + 1) >> 1) * *(a6 + v16 + 12);
        *v18 = ((*v17 + v17[1] + 1) >> 1) * *(a6 + v16 + 16);
        v18[1] = ((v17[1] + v17[2] + 1) >> 1) * *(a6 + v16 + 20);
        v18[2] = ((v17[2] + v17[3] + 1) >> 1) * *(a6 + v16 + 24);
        v18[3] = ((v17[3] + v17[4] + 1) >> 1) * *(a6 + v16 + 28);
        v16 += 32;
        v17 += a3;
        v18 += a3;
      }

      while (v16 != 256);
    }
  }

  else
  {
    v13 = 0;
    v14 = (v12 + a2 + 3);
    v15 = (a1 + 16);
    do
    {
      *(v15 - 4) = *(a6 + v13) * *(v14 - 3);
      *(v15 - 3) = *(a6 + v13 + 4) * *(v14 - 2);
      *(v15 - 2) = *(a6 + v13 + 8) * *(v14 - 1);
      *(v15 - 1) = *(a6 + v13 + 12) * *v14;
      *v15 = *(a6 + v13 + 16) * v14[1];
      v15[1] = *(a6 + v13 + 20) * v14[2];
      v15[2] = *(a6 + v13 + 24) * v14[3];
      v15[3] = *(a6 + v13 + 28) * v14[4];
      v13 += 32;
      v14 += a3;
      v15 += a3;
    }

    while (v13 != 256);
  }

  return 0;
}

uint64_t MC_Copy4x8Y_wtb(uint64_t a1, uint64_t a2, int a3, int a4, int a5, uint64_t a6, unint64_t a7, unint64_t a8)
{
  v8 = (a5 >> 1) * a3 + (a4 >> 1);
  if (a7 && a8)
  {
    v9 = a2 + v8;
    if (v9 < a7)
    {
      return 7;
    }

    v10 = a5 & 1;
    if (v9 + (a4 & 1) + (v10 + 7) * a3 + 7 >= a8)
    {
      return 7;
    }
  }

  else
  {
    v10 = a5 & 1;
  }

  v12 = v8;
  if ((a5 | a4))
  {
    if ((a4 & 1) == 0 || v10)
    {
      v27 = a3;
      v28 = a3 + 1;
      v29 = a3 + 2;
      v30 = a3 + 3;
      v31 = a3 + 4;
      v32 = a3 + 5;
      v33 = a3 + 6;
      v34 = a3 + 7;
      if ((a4 & 1) != 0 || !v10)
      {
        v42 = 0;
        v43 = a3 + 8;
        v44 = (v12 + a2 + 4);
        v45 = (a1 + 16);
        do
        {
          v46 = *(v45 - 3);
          *(v45 - 4) += ((*(v44 - 4) + *(v44 - 3) + v44[v27 - 4] + v44[v28 - 4] + 2) >> 2) * *(a6 + v42);
          *(v45 - 3) = v46 + ((*(v44 - 3) + *(v44 - 2) + v44[v28 - 4] + v44[v29 - 4] + 2) >> 2) * *(a6 + v42 + 4);
          v47 = *(v45 - 1);
          *(v45 - 2) += ((*(v44 - 2) + *(v44 - 1) + v44[v29 - 4] + v44[v30 - 4] + 2) >> 2) * *(a6 + v42 + 8);
          *(v45 - 1) = v47 + ((*(v44 - 1) + *v44 + v44[v30 - 4] + v44[v31 - 4] + 2) >> 2) * *(a6 + v42 + 12);
          v48 = v45[1];
          *v45 += ((*v44 + v44[1] + v44[v31 - 4] + v44[v32 - 4] + 2) >> 2) * *(a6 + v42 + 16);
          v45[1] = v48 + ((v44[1] + v44[2] + v44[v32 - 4] + v44[v33 - 4] + 2) >> 2) * *(a6 + v42 + 20);
          v49 = v45[3];
          v45[2] += ((v44[2] + v44[3] + v44[v33 - 4] + v44[v34 - 4] + 2) >> 2) * *(a6 + v42 + 24);
          v45[3] = v49 + ((v44[3] + v44[4] + v44[v34 - 4] + v44[v43 - 4] + 2) >> 2) * *(a6 + v42 + 28);
          v42 += 32;
          v45 += v27;
          v44 += v27;
        }

        while (v42 != 128);
      }

      else
      {
        v35 = 0;
        v36 = (v12 + a2 + 3);
        v37 = (a1 + 16);
        do
        {
          v38 = *(v37 - 3);
          *(v37 - 4) += ((*(v36 - 3) + v36[a3 - 3] + 1) >> 1) * *(a6 + v35);
          *(v37 - 3) = v38 + ((*(v36 - 2) + v36[v28 - 3] + 1) >> 1) * *(a6 + v35 + 4);
          v39 = *(v37 - 1);
          *(v37 - 2) += ((*(v36 - 1) + v36[v29 - 3] + 1) >> 1) * *(a6 + v35 + 8);
          *(v37 - 1) = v39 + ((*v36 + v36[v30 - 3] + 1) >> 1) * *(a6 + v35 + 12);
          v40 = v37[1];
          *v37 += ((v36[1] + v36[v31 - 3] + 1) >> 1) * *(a6 + v35 + 16);
          v37[1] = v40 + ((v36[2] + v36[v32 - 3] + 1) >> 1) * *(a6 + v35 + 20);
          v41 = v37[3];
          v37[2] += ((v36[3] + v36[v33 - 3] + 1) >> 1) * *(a6 + v35 + 24);
          v37[3] = v41 + ((v36[4] + v36[v34 - 3] + 1) >> 1) * *(a6 + v35 + 28);
          v35 += 32;
          v37 += a3;
          v36 += a3;
        }

        while (v35 != 128);
      }
    }

    else
    {
      v20 = 0;
      v21 = (v12 + a2 + 4);
      v22 = (a1 + 16);
      do
      {
        v23 = *(v22 - 3);
        *(v22 - 4) += ((*(v21 - 4) + *(v21 - 3) + 1) >> 1) * *(a6 + v20);
        *(v22 - 3) = v23 + ((*(v21 - 3) + *(v21 - 2) + 1) >> 1) * *(a6 + v20 + 4);
        v24 = *(v22 - 1);
        *(v22 - 2) += ((*(v21 - 2) + *(v21 - 1) + 1) >> 1) * *(a6 + v20 + 8);
        *(v22 - 1) = v24 + ((*(v21 - 1) + *v21 + 1) >> 1) * *(a6 + v20 + 12);
        v25 = v22[1];
        *v22 += ((*v21 + v21[1] + 1) >> 1) * *(a6 + v20 + 16);
        v22[1] = v25 + ((v21[1] + v21[2] + 1) >> 1) * *(a6 + v20 + 20);
        v26 = v22[3];
        v22[2] += ((v21[2] + v21[3] + 1) >> 1) * *(a6 + v20 + 24);
        v22[3] = v26 + ((v21[3] + v21[4] + 1) >> 1) * *(a6 + v20 + 28);
        v20 += 32;
        v21 += a3;
        v22 += a3;
      }

      while (v20 != 128);
    }
  }

  else
  {
    v13 = 0;
    v14 = (v12 + a2 + 3);
    v15 = (a1 + 16);
    do
    {
      v16 = *(v15 - 3);
      *(v15 - 4) += *(a6 + v13) * *(v14 - 3);
      *(v15 - 3) = v16 + *(a6 + v13 + 4) * *(v14 - 2);
      v17 = *(v15 - 1);
      *(v15 - 2) += *(a6 + v13 + 8) * *(v14 - 1);
      *(v15 - 1) = v17 + *(a6 + v13 + 12) * *v14;
      v18 = v15[1];
      *v15 += *(a6 + v13 + 16) * v14[1];
      v15[1] = v18 + *(a6 + v13 + 20) * v14[2];
      v19 = v15[3];
      v15[2] += *(a6 + v13 + 24) * v14[3];
      v15[3] = v19 + *(a6 + v13 + 28) * v14[4];
      v13 += 32;
      v14 += a3;
      v15 += a3;
    }

    while (v13 != 128);
  }

  return 0;
}

uint64_t MC_Copy8x4Y_wlr(uint64_t a1, uint64_t a2, int a3, int a4, int a5, uint64_t a6, unint64_t a7, unint64_t a8)
{
  v8 = (a5 >> 1) * a3 + (a4 >> 1);
  if (a7 && a8)
  {
    v9 = a2 + v8;
    if (v9 < a7)
    {
      return 7;
    }

    v10 = a5 & 1;
    if (v9 + (a4 & 1) + (v10 + 7) * a3 + 7 >= a8)
    {
      return 7;
    }
  }

  else
  {
    v10 = a5 & 1;
  }

  v12 = v8;
  if ((a5 | a4))
  {
    if ((a4 & 1) == 0 || v10)
    {
      v23 = a3 + 1;
      v24 = a3 + 2;
      v25 = a3 + 3;
      if ((a4 & 1) != 0 || !v10)
      {
        v31 = 0;
        v32 = (v8 + a2 + 2);
        v33 = (a1 + 8);
        do
        {
          v34 = *(v33 - 1);
          *(v33 - 2) += ((*(v32 - 2) + *(v32 - 1) + v32[a3 - 2] + v32[v23 - 2] + 2) >> 2) * *(a6 + v31);
          *(v33 - 1) = v34 + ((*(v32 - 1) + *v32 + v32[v23 - 2] + v32[v24 - 2] + 2) >> 2) * *(a6 + v31 + 4);
          v35 = v33[1];
          *v33 += ((*v32 + v32[1] + v32[v24 - 2] + v32[v25 - 2] + 2) >> 2) * *(a6 + v31 + 8);
          v33[1] = v35 + ((v32[1] + v32[2] + v32[v25 - 2] + v32[a3 + 2] + 2) >> 2) * *(a6 + v31 + 12);
          v31 += 32;
          v33 += a3;
          v32 += a3;
        }

        while (v31 != 256);
      }

      else
      {
        v26 = 0;
        v27 = (v8 + a2 + 1);
        v28 = (a1 + 8);
        do
        {
          v29 = *(v28 - 1);
          *(v28 - 2) += ((*(v27 - 1) + v27[a3 - 1] + 1) >> 1) * *(a6 + v26);
          *(v28 - 1) = v29 + ((*v27 + v27[v23 - 1] + 1) >> 1) * *(a6 + v26 + 4);
          v30 = v28[1];
          *v28 += ((v27[1] + v27[v24 - 1] + 1) >> 1) * *(a6 + v26 + 8);
          v28[1] = v30 + ((v27[2] + v27[v25 - 1] + 1) >> 1) * *(a6 + v26 + 12);
          v26 += 32;
          v28 += a3;
          v27 += a3;
        }

        while (v26 != 256);
      }
    }

    else
    {
      v18 = 0;
      v19 = (v12 + a2 + 2);
      v20 = (a1 + 8);
      do
      {
        v21 = *(v20 - 1);
        *(v20 - 2) += ((*(v19 - 2) + *(v19 - 1) + 1) >> 1) * *(a6 + v18);
        *(v20 - 1) = v21 + ((*(v19 - 1) + *v19 + 1) >> 1) * *(a6 + v18 + 4);
        v22 = v20[1];
        *v20 += ((*v19 + v19[1] + 1) >> 1) * *(a6 + v18 + 8);
        v20[1] = v22 + ((v19[1] + v19[2] + 1) >> 1) * *(a6 + v18 + 12);
        v18 += 32;
        v19 += a3;
        v20 += a3;
      }

      while (v18 != 256);
    }
  }

  else
  {
    v13 = 0;
    v14 = (v12 + a2 + 1);
    v15 = (a1 + 8);
    do
    {
      v16 = *(v15 - 1);
      *(v15 - 2) += *(a6 + v13) * *(v14 - 1);
      *(v15 - 1) = v16 + *(a6 + v13 + 4) * *v14;
      v17 = v15[1];
      *v15 += *(a6 + v13 + 8) * v14[1];
      v15[1] = v17 + *(a6 + v13 + 12) * v14[2];
      v13 += 32;
      v14 += a3;
      v15 += a3;
    }

    while (v13 != 256);
  }

  return 0;
}

int16x8_t SubtractPredS16(uint64_t a1, int16x8_t *a2, int a3)
{
  v3 = 0;
  do
  {
    result = vsubq_s16(*(a1 + v3), vuzp1q_s16(*a2, a2[1]));
    *(a1 + v3) = result;
    v3 += 16;
    a2 = (a2 + 4 * a3);
  }

  while (v3 != 128);
  return result;
}

uint64_t H263ME_Init(uint64_t *a1, int a2)
{
  if (*a1)
  {
    return 0;
  }

  v5 = MEM_NewClear(41320);
  *a1 = v5;
  if (!v5)
  {
    return 1;
  }

  v6 = 0;
  v5[4104] = v5;
  v7 = *a1;
  *(v7 + 39700) = a2;
  v8 = (v7 + 39724);
  v9 = vdupq_n_s64(4uLL);
  v10 = vdupq_n_s64(0x16uLL);
  do
  {
    v11 = v8;
    v12 = 24;
    v13 = xmmword_295686F60;
    v14 = xmmword_295686F50;
    do
    {
      if (vuzp1_s16(vmovn_s64(vcgtq_u64(v10, v13)), 2).u8[0])
      {
        *(v11 - 3) = a2;
      }

      if (vuzp1_s16(vmovn_s64(vcgtq_u64(vdupq_n_s64(0x16uLL), *&v13)), 2).i8[2])
      {
        *(v11 - 2) = a2;
      }

      if (vuzp1_s16(2, vmovn_s64(vcgtq_u64(vdupq_n_s64(0x16uLL), *&v14))).i32[1])
      {
        *(v11 - 1) = a2;
        *v11 = a2;
      }

      v14 = vaddq_s64(v14, v9);
      v13 = vaddq_s64(v13, v9);
      v11 += 4;
      v12 -= 4;
    }

    while (v12);
    ++v6;
    v8 += 22;
  }

  while (v6 != 18);
  return 0;
}

uint64_t pvx(uint64_t a1, int a2, int a3, int a4, int a5)
{
  if ((a5 - 1) <= 2)
  {
    v5 = dword_295687D28[a5 - 1];
    if (a3)
    {
      goto LABEL_3;
    }

LABEL_6:
    v6 = 0;
    if (!a2)
    {
      goto LABEL_10;
    }

    goto LABEL_7;
  }

  v5 = 0;
  if (!a3)
  {
    goto LABEL_6;
  }

LABEL_3:
  v6 = *(a1 + 288 * a2 + 12 * a3 + 288);
  if (!a2)
  {
    goto LABEL_10;
  }

LABEL_7:
  if (!a4)
  {
    v7 = *(a1 + 288 * a2 + 12 * a3 + 12);
    if (v5 == a3)
    {
      v8 = 0;
    }

    else
    {
      v8 = *(a1 + 288 * a2 + 12 * a3 + 24);
    }

    goto LABEL_15;
  }

LABEL_10:
  if (v5 == a3)
  {
    v8 = 0;
  }

  else
  {
    v8 = v6;
  }

  v7 = v6;
LABEL_15:
  if (v6 >= v7)
  {
    v9 = v7;
  }

  else
  {
    v9 = v6;
  }

  if (v6 <= v7)
  {
    v6 = v7;
  }

  if (v8 < v6)
  {
    v6 = v8;
  }

  if (v8 >= v9)
  {
    return v6;
  }

  else
  {
    return v9;
  }
}

uint64_t pvy(uint64_t a1, int a2, int a3, int a4, int a5)
{
  if ((a5 - 1) <= 2)
  {
    v5 = dword_295687D28[a5 - 1];
    if (a3)
    {
      goto LABEL_3;
    }

LABEL_6:
    v6 = 0;
    if (!a2)
    {
      goto LABEL_10;
    }

    goto LABEL_7;
  }

  v5 = 0;
  if (!a3)
  {
    goto LABEL_6;
  }

LABEL_3:
  v6 = *(a1 + 288 * a2 + 12 * a3 + 289);
  if (!a2)
  {
    goto LABEL_10;
  }

LABEL_7:
  if (!a4)
  {
    v7 = *(a1 + 288 * a2 + 12 * a3 + 13);
    if (v5 == a3)
    {
      v8 = 0;
    }

    else
    {
      v8 = *(a1 + 288 * a2 + 12 * a3 + 25);
    }

    goto LABEL_15;
  }

LABEL_10:
  if (v5 == a3)
  {
    v8 = 0;
  }

  else
  {
    v8 = v6;
  }

  v7 = v6;
LABEL_15:
  if (v6 >= v7)
  {
    v9 = v7;
  }

  else
  {
    v9 = v6;
  }

  if (v6 <= v7)
  {
    v6 = v7;
  }

  if (v8 < v6)
  {
    v6 = v8;
  }

  if (v8 >= v9)
  {
    return v6;
  }

  else
  {
    return v9;
  }
}

uint64_t pvx4(uint64_t a1, int a2, int a3, int a4, int a5, int a6)
{
  if ((a6 - 1) > 2)
  {
    v6 = 0;
  }

  else
  {
    v6 = dword_295687D28[a6 - 1];
  }

  v7 = 0;
  if (a2 > 2)
  {
    if (a2 == 3)
    {
      if (a4)
      {
        v13 = a3 + 1;
        v8 = *(a1 + 288 * v13 + 12 * a4 + 21888);
      }

      else
      {
        v8 = 0;
        v13 = a3 + 1;
      }

      v10 = (a1 + 288 * v13 + 12 * a4);
      v11 = v10[5484];
      v12 = 10956;
      goto LABEL_30;
    }

    v8 = 0;
    v9 = 0;
    if (a2 == 4)
    {
      v10 = (a1 + 288 * a3 + 12 * a4);
      v8 = v10[16716];
      v11 = v10[5772];
      v12 = 11244;
      goto LABEL_30;
    }

LABEL_38:
    if (v7 >= v9)
    {
      v16 = v9;
    }

    else
    {
      v16 = v7;
    }

    if (v7 >= v8)
    {
      return v16;
    }

    else
    {
      return v8;
    }
  }

  if (a2 >= 2)
  {
    v8 = 0;
    v9 = 0;
    if (a2 == 2)
    {
      v8 = *(a1 + 288 * a3 + 12 * a4 + 5772);
      if (!a3 || a5)
      {
        goto LABEL_23;
      }

      v11 = *(a1 + 288 * a3 + 12 * (a4 + 1) + 21888);
      if (v6 == a4)
      {
LABEL_22:
        v7 = 0;
        goto LABEL_32;
      }

      v10 = (a1 + 288 * a3 + 12 * a4);
      v12 = 16440;
LABEL_30:
      v14 = &v10[v12];
      goto LABEL_31;
    }

    goto LABEL_38;
  }

  if (!a4)
  {
    v8 = 0;
    if (a3)
    {
      goto LABEL_20;
    }

LABEL_23:
    if (v6 == a4)
    {
      v7 = 0;
    }

    else
    {
      v7 = v8;
    }

    v9 = v8;
    goto LABEL_38;
  }

  v8 = *(a1 + 288 * a3 + 12 * a4 + 11232);
  if (!a3)
  {
    goto LABEL_23;
  }

LABEL_20:
  if (a5)
  {
    goto LABEL_23;
  }

  v11 = *(a1 + 16416 + 288 * a3 + 12 * a4 + 12);
  if (v6 == a4)
  {
    goto LABEL_22;
  }

  v14 = (a1 + 16416 + 288 * a3 + 12 * a4 + 24);
LABEL_31:
  v7 = *v14;
LABEL_32:
  v9 = v8;
  v8 = v11;
  if (v9 >= v11)
  {
    goto LABEL_38;
  }

  if (v7 < v11)
  {
    v8 = v7;
  }

  if (v7 >= v9)
  {
    return v8;
  }

  else
  {
    return v9;
  }
}

uint64_t pvy4(uint64_t a1, int a2, int a3, int a4, int a5, int a6)
{
  if ((a6 - 1) > 2)
  {
    v6 = 0;
  }

  else
  {
    v6 = dword_295687D28[a6 - 1];
  }

  v7 = 0;
  if (a2 > 2)
  {
    if (a2 == 3)
    {
      if (a4)
      {
        v13 = a3 + 1;
        v8 = *(a1 + 288 * v13 + 12 * a4 + 21889);
      }

      else
      {
        v8 = 0;
        v13 = a3 + 1;
      }

      v10 = (a1 + 288 * v13 + 12 * a4);
      v11 = v10[5485];
      v12 = 10957;
      goto LABEL_30;
    }

    v8 = 0;
    v9 = 0;
    if (a2 == 4)
    {
      v10 = (a1 + 288 * a3 + 12 * a4);
      v8 = v10[16717];
      v11 = v10[5773];
      v12 = 11245;
      goto LABEL_30;
    }

LABEL_38:
    if (v7 >= v9)
    {
      v16 = v9;
    }

    else
    {
      v16 = v7;
    }

    if (v7 >= v8)
    {
      return v16;
    }

    else
    {
      return v8;
    }
  }

  if (a2 >= 2)
  {
    v8 = 0;
    v9 = 0;
    if (a2 == 2)
    {
      v8 = *(a1 + 288 * a3 + 12 * a4 + 5773);
      if (!a3 || a5)
      {
        goto LABEL_23;
      }

      v11 = *(a1 + 288 * a3 + 12 * (a4 + 1) + 21889);
      if (v6 == a4)
      {
LABEL_22:
        v7 = 0;
        goto LABEL_32;
      }

      v10 = (a1 + 288 * a3 + 12 * a4);
      v12 = 16441;
LABEL_30:
      v14 = &v10[v12];
      goto LABEL_31;
    }

    goto LABEL_38;
  }

  if (!a4)
  {
    v8 = 0;
    if (a3)
    {
      goto LABEL_20;
    }

LABEL_23:
    if (v6 == a4)
    {
      v7 = 0;
    }

    else
    {
      v7 = v8;
    }

    v9 = v8;
    goto LABEL_38;
  }

  v8 = *(a1 + 288 * a3 + 12 * a4 + 11233);
  if (!a3)
  {
    goto LABEL_23;
  }

LABEL_20:
  if (a5)
  {
    goto LABEL_23;
  }

  v11 = *(a1 + 16416 + 288 * a3 + 12 * a4 + 13);
  if (v6 == a4)
  {
    goto LABEL_22;
  }

  v14 = (a1 + 16416 + 288 * a3 + 12 * a4 + 25);
LABEL_31:
  v7 = *v14;
LABEL_32:
  v9 = v8;
  v8 = v11;
  if (v9 >= v11)
  {
    goto LABEL_38;
  }

  if (v7 < v11)
  {
    v8 = v7;
  }

  if (v7 >= v9)
  {
    return v8;
  }

  else
  {
    return v9;
  }
}

uint64_t H263ME_Prep(uint64_t result, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, int a10, uint64_t a11)
{
  *a11 = result;
  *(a11 + 4) = a2;
  *(a11 + 8) = a8 + a4;
  *(a11 + 12) = a7 + a3;
  *(a11 + 16) = a6;
  *(a11 + 20) = a5;
  *(a11 + 24) = a6 + 32;
  *(a11 + 28) = a5 + 32;
  *(a11 + 40) = a9;
  *(a11 + 32) = a8;
  *(a11 + 36) = a7;
  *(a11 + 48) = a10;
  return result;
}

_DWORD *H263ME_Intracize(_DWORD *result)
{
  v1 = result + 0x2000;
  v2 = result[8221];
  v3 = v2 / 16;
  v4 = result[8215] - v2;
  v5 = v4 + 15;
  v6 = v4 + 30;
  if (v5 >= 0)
  {
    v6 = v5;
  }

  if (v3 < v6 >> 4)
  {
    v7 = v6 >> 4;
    v8 = result[8220];
    v9 = v8 / 16;
    v10 = result[8214] - v8;
    v11 = v10 + 15;
    v12 = v10 + 30;
    if (v11 < 0)
    {
      v11 = v12;
    }

    v13 = v11 >> 4;
    v14 = v3;
    v15 = v11 >> 4;
    v16 = &result[3 * v9 + 8227];
    v17 = v15 - v9;
    do
    {
      if (v9 >= v13)
      {
        result = (v14 + 1);
      }

      else
      {
        result = (v14 + 1);
        v18 = (*(v1 + 8) + 12 * v9 + 308 + 288 * v14);
        v19 = (v16 + 264 * v14);
        v20 = v17;
        do
        {
          *(v18 - 3) = 3;
          v21 = *(v19 - 2);
          *v18 = *(v19 - 1);
          v22 = *v19;
          v19 += 3;
          *(v18 - 1) = v22;
          *(v18 - 2) = v21;
          v18 += 3;
          --v20;
        }

        while (v20);
      }

      v14 = result;
    }

    while (result != v7);
  }

  return result;
}

uint64_t ME_CBAll(uint64_t result, uint64_t a2, _DWORD *a3, uint64_t a4, uint64_t a5, int a6, uint64_t a7, uint64_t a8)
{
  v8 = a3 + 8208;
  v9 = a3[8221];
  v10 = v9 / 16;
  v11 = a3[8215];
  v12 = v11 - v9 + 30;
  if (v11 - v9 + 15 >= 0)
  {
    v12 = v11 - v9 + 15;
  }

  if (v10 < v12 >> 4)
  {
    v13 = 0;
    v14 = a3 + 10325;
    v45 = a3 + 8212;
    v43 = *a4 + (16 * *(a4 + 24));
    v44 = a3 + 10325;
    v42 = *a5 + (16 * *(a5 + 24));
    v38 = a3 + 8225;
    v40 = result;
    v41 = (a3 + 9413);
    v15 = v10;
    v16 = a3[8220];
    v17 = a3[8214];
    v37 = result + 301;
    do
    {
      v18 = v16 / 16;
      v19 = v17 - v16 + 30;
      if (v17 - v16 + 15 >= 0)
      {
        v19 = v17 - v16 + 15;
      }

      if (v18 >= v19 >> 4)
      {
        v21 = v15 + 1;
      }

      else
      {
        v20 = 16 * v15;
        v21 = v15 + 1;
        v22 = v18;
        v39 = v37 + 288 * v15;
        v48 = &v38[66 * v15];
        v49 = v15 + 1;
        do
        {
          ++v14[1];
          v23 = 16 * v22;
          v24 = v20 < v8[7] && v23 < v17;
          if (v24)
          {
            v27 = &v48[3 * v22];
            v28 = result + 288 * v21 + 12 * v22;
            v29 = v27[2];
            v30 = v20;
            Motion_MB2(v20, v23, 16, a4, a5, v43 + 16, v42 + 16, a6, v28 + 12, v45, v41, a8, 0, 0);
            if (*v45 && v8[5] == v13)
            {
              v31 = 3;
            }

            else if (*(v28 + 20) - 64 >= v27[1])
            {
              v31 = 3;
            }

            else
            {
              v31 = 0;
            }

            v25 = v22 + 1;
            v21 = v49;
            v50 = v50 & 0xFFFFFFFF00000000 | v29;
            *(*v8 + 288 * v49 + 12 * (v22 + 1) + 2) = v31;
            result = v40;
            v14 = v44;
            v20 = v30;
            if (*(v28 + 14) == 3)
            {
              ++*v44;
              v32 = v39 + 12 * v22;
              v33 = 5;
              do
              {
                *(v32 - 1) = 0;
                v32 += 5472;
                --v33;
              }

              while (v33);
              *(v28 + 18) = v27[2];
              v34 = *v27;
              *(v28 + 20) = v27[1];
              *(v28 + 16) = v34;
            }
          }

          else
          {
            v25 = v22 + 1;
            v26 = (result + 288 * v21 + 12 * (v22 + 1));
            v26[2] = 0;
            *v26 = 0;
          }

          ++v13;
          v17 = v8[6];
          v16 = v8[12];
          v35 = v17 - v16 + 30;
          if (v17 - v16 + 15 >= 0)
          {
            v35 = v17 - v16 + 15;
          }

          v22 = v25;
        }

        while (v25 < v35 >> 4);
        v11 = v8[7];
        v9 = v8[13];
      }

      v36 = v11 - v9 + 30;
      if (v11 - v9 + 15 >= 0)
      {
        v36 = v11 - v9 + 15;
      }

      v24 = v21 < v36 >> 4;
      v15 = v21;
    }

    while (v24);
  }

  return result;
}

uint64_t Motion_MB2(int a1, int a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, int a8, uint64_t a9, _DWORD *a10, uint64_t a11, uint64_t a12, int a13, int a14)
{
  v16 = a12;
  v17 = a10[6];
  v18 = (a1 + (a14 >> 1));
  v142 = v17;
  v19 = a13 >> 1;
  v20 = (a7 + v17 * v18 + a2 + (a13 >> 1));
  v146 = (a6 + v17 * a1 + a2);
  v21 = PredErr3(a3, v146, v20, 0x7FFFFFFF, a12, a10) - 96;
  v22 = v19 + a2;
  v137 = v19 + a2;
  v136 = v21;
  v139 = v18;
  if (a8 >= 1)
  {
    LODWORD(v23) = a8 + 1;
    v24 = a10[5] + 16;
    v144 = v21;
    v25 = v19 + a2;
    v26 = v18;
    v27 = a3;
    v28 = a10;
    while (1)
    {
      v29 = v23;
      while (1)
      {
        v23 = v29 >> 1;
        v30 = v27 + (v29 >> 1);
        v31 = v30 + v26;
        if ((v30 + v26) <= v24)
        {
          v32 = v26 - v23;
          v33 = v25 - v23;
          v34 = v30 + v25;
          v35 = (v30 + v25) > v28[4] + 16 || v33 < -16;
          if (!v35 && v32 > -17)
          {
            break;
          }
        }

        v37 = v29 >= 4;
        v29 >>= 1;
        if (!v37)
        {
          v16 = a12;
          LOBYTE(v18) = v139;
          goto LABEL_87;
        }
      }

      v38 = v23 * v142;
      v39 = v28[11];
      v134 = v39;
      if (!v39)
      {
        v40 = v28[2];
        if (v34 >= v40)
        {
          break;
        }
      }

      v41 = (v20 + v23);
      v126 = v23 * v142;
      v131 = v41;
      v42 = v144;
      v43 = PredErr3(v27, v146, v41, v144, a12, v28);
      v39 = v134;
      if (v43 >= v144)
      {
        v44 = 0;
      }

      else
      {
        v44 = v29 >> 1;
      }

      if (v43 < v144)
      {
        v42 = v43;
      }

      v144 = v42;
      v125 = v126;
      v45 = (v131 - v126);
      if (!v134)
      {
        v28 = a10;
        v27 = a3;
        v40 = a10[2];
LABEL_26:
        v132 = 0;
        if (v34 >= v40 || v32 < 0)
        {
          goto LABEL_37;
        }

        goto LABEL_28;
      }

      v28 = a10;
      v27 = a3;
LABEL_28:
      v123 = v45;
      v127 = v44;
      v46 = v144;
      v47 = PredErr3(v27, v146, v45, v144, a12, v28);
      v45 = v123;
      v39 = v134;
      v28 = a10;
      v27 = a3;
      if (v47 < v144)
      {
        v48 = -v23;
      }

      else
      {
        v48 = 0;
      }

      v132 = v48;
      if (v47 < v144)
      {
        v44 = v29 >> 1;
      }

      else
      {
        v44 = v127;
      }

      if (v47 < v144)
      {
        v46 = v47;
      }

      v144 = v46;
LABEL_37:
      v49 = v45 - v23;
      if (v39 || (v32 & 0x80000000) == 0)
      {
        v128 = v44;
        v50 = PredErr3(v27, v146, (v45 - v23), v144, a12, v28);
        v39 = v134;
        v44 = v128;
        if (v50 < v144)
        {
          v44 = 0;
          v132 = -v23;
          v144 = v50;
        }
      }

      v51 = &v49[-v23];
      if (v39 || (v32 | v33) >= 0)
      {
        v53 = v144;
        v129 = v44;
        v54 = PredErr3(a3, v146, v51, v144, a12, a10);
        v52 = v146;
        v39 = v134;
        v55 = v132;
        if (v54 < v144)
        {
          v55 = -v23;
        }

        v132 = v55;
        if (v54 < v144)
        {
          v44 = -v23;
        }

        else
        {
          v44 = v129;
        }

        if (v54 < v144)
        {
          v53 = v54;
        }

        v144 = v53;
      }

      else
      {
        v52 = v146;
      }

      v56 = v51 + v125;
      if (v39 || (v33 & 0x80000000) == 0)
      {
        v124 = v51 + v125;
        v130 = v44;
        v58 = PredErr3(a3, v52, (v51 + v125), v144, a12, a10);
        v59 = a12;
        v56 = v51 + v125;
        v28 = a10;
        v60 = v144;
        v61 = v132;
        if (v58 >= v144)
        {
          v44 = v130;
        }

        else
        {
          v61 = 0;
          v44 = -v23;
        }

        if (v58 < v144)
        {
          v60 = v58;
        }

        if (v134 || (v132 = v61, v31 < a10[3]) && (v59 = a12, (v33 & 0x80000000) == 0))
        {
          v62 = v44;
          v63 = PredErr3(a3, v146, &v124[v125], v60, v59, a10);
          v28 = a10;
          if (v63 < v60)
          {
            v61 = v29 >> 1;
          }

          v132 = v61;
          if (v63 >= v60)
          {
            v44 = v62;
          }

          else
          {
            v44 = -v23;
          }

          if (v63 < v60)
          {
            v60 = v63;
          }

          v144 = v60;
          v57 = &v124[v125 + v23];
          v27 = a3;
          v52 = v146;
          if (v134)
          {
            goto LABEL_73;
          }

          goto LABEL_72;
        }

        v144 = v60;
        v27 = a3;
        v52 = v146;
      }

      else
      {
        v28 = a10;
        v27 = a3;
      }

      v57 = &v56[v125 + v23];
LABEL_72:
      v64 = v28[3];
      if (v31 >= v64)
      {
        v69 = (v57 + v23);
        v65 = v144;
        v68 = v132;
        goto LABEL_79;
      }

LABEL_73:
      v65 = v144;
      v66 = v44;
      v67 = PredErr3(v27, v52, v57, v144, a12, v28);
      v44 = v66;
      v68 = v132;
      if (v67 < v144)
      {
        v68 = v29 >> 1;
        v44 = 0;
        v65 = v67;
      }

      v69 = (v57 + v23);
      if (v134)
      {
        v28 = a10;
        v27 = a3;
        v52 = v146;
LABEL_81:
        v70 = v44;
        v71 = PredErr3(v27, v52, v69, v65, a12, v28);
        v44 = v70;
        v28 = a10;
        v27 = a3;
        if (v71 < v65)
        {
          v68 = v29 >> 1;
          v44 = v29 >> 1;
          v65 = v71;
        }

        goto LABEL_83;
      }

      v28 = a10;
      v27 = a3;
      v64 = a10[3];
      v52 = v146;
LABEL_79:
      if (v31 < v64 && v34 < v28[2])
      {
        goto LABEL_81;
      }

LABEL_83:
      v144 = v65;
      v26 = v68 + v26;
      v25 += v44;
      v20 = (a7 + v26 * v142 + v25);
      v35 = v29 > 3;
      v22 = v137;
      v16 = a12;
      LOBYTE(v18) = v139;
      if (!v35)
      {
        goto LABEL_87;
      }
    }

    v44 = 0;
    v125 = v38;
    v45 = (v20 + v23 - v38);
    goto LABEL_26;
  }

  v26 = v18;
  v25 = v19 + a2;
  v144 = v21;
  v27 = a3;
  v28 = a10;
LABEL_87:
  *a9 = 2 * (v25 - v22);
  *(a9 + 1) = 2 * (v26 - v18);
  v72 = v144;
  *(a9 + 8) = v144;
  v73 = (2 * v27) | 1;
  LHPIntp4(v26, v25, v27, a11, a7, v28);
  v80 = a10;
  v81 = a3;
  v135 = v73;
  v82 = a3 + 1 + v25;
  v83 = a11 + v73 + 2;
  v143 = v73;
  v138 = a10[11];
  if (!v138)
  {
    v84 = a10[2];
    if (v82 >= v84)
    {
      v87 = 0;
      v88 = v83 - v73;
      v85 = v146;
      v89 = 0;
      goto LABEL_95;
    }
  }

  v85 = v146;
  v86 = HP_PredErr4(a3, v146, v83, v144, v16, a10);
  v87 = v86 < v144;
  if (v86 < v144)
  {
    v72 = v86;
  }

  v88 = v83 - v73;
  v89 = v138;
  if (!v138)
  {
    v84 = a10[2];
    v81 = a3;
    v80 = a10;
    v82 = a3 + 1 + v25;
LABEL_95:
    v90 = 0;
    if (v82 >= v84 || v26 < 1)
    {
      goto LABEL_102;
    }

    goto LABEL_97;
  }

  v81 = a3;
  v80 = a10;
  v82 = a3 + 1 + v25;
LABEL_97:
  v91 = HP_PredErr4(v81, v85, v88, v72, v16, v80);
  v80 = a10;
  v81 = a3;
  if (v91 < v72)
  {
    v90 = -1;
  }

  else
  {
    v90 = 0;
  }

  if (v91 < v72)
  {
    v87 = 1;
    v72 = v91;
  }

LABEL_102:
  if (v89 || v26 >= 1)
  {
    v92 = HP_PredErr4(v81, v85, v88 - 1, v72, v16, v80);
    if (v92 < v72)
    {
      v90 = -1;
      v87 = 0;
      v72 = v92;
    }
  }

  v93 = v88 - 2;
  v95 = v26 > 0 && v25 > 0;
  if (v89 || v95)
  {
    v96 = HP_PredErr4(a3, v85, v93, v72, v16, a10);
    if (v96 < v72)
    {
      v90 = -1;
      v87 = -1;
      v72 = v96;
    }
  }

  v145 = v139;
  v97 = a3 + 1 + v26;
  v98 = v143;
  v99 = v93 + v143;
  if (v89 || v25 > 0)
  {
    v140 = a3 + 1 + v26;
    v133 = v82;
    v105 = a3;
    v106 = v146;
    v107 = HP_PredErr4(a3, v146, v99, v72, v16, a10);
    v102 = a10;
    if (v107 < v72)
    {
      v90 = 0;
      v87 = -1;
      v72 = v107;
    }

    v100 = v99 + v143;
    if (v89)
    {
      goto LABEL_125;
    }

    v97 = v140;
    if (v140 >= a10[3])
    {
      v101 = a13;
      v103 = a3;
      v16 = a12;
      v98 = v143;
      v82 = v133;
      v89 = v138;
      goto LABEL_119;
    }

    v105 = a3;
    v106 = v146;
    v16 = a12;
    if (v25 >= 1)
    {
LABEL_125:
      v108 = HP_PredErr4(v105, v106, v99 + v143, v72, v16, a10);
      v102 = a10;
      if (v108 < v72)
      {
        v90 = 1;
        v87 = -1;
        v72 = v108;
      }

      v104 = v100 + 1;
      v101 = a13;
      v103 = v105;
      v82 = v133;
      v89 = v138;
      v97 = v140;
      if (v138)
      {
        goto LABEL_129;
      }

      goto LABEL_128;
    }

    v101 = a13;
    v103 = a3;
    v98 = v143;
    v82 = v133;
    v89 = v138;
    v97 = v140;
  }

  else
  {
    v100 = v99 + v143;
    v101 = a13;
    v102 = a10;
    v103 = a3;
  }

LABEL_119:
  v104 = v99 + v98 + 1;
LABEL_128:
  v109 = *(v102 + 12);
  if (v97 >= v109)
  {
    v114 = v100 + 2;
    goto LABEL_135;
  }

LABEL_129:
  v110 = v97;
  v111 = v89;
  v112 = v102;
  v113 = HP_PredErr4(v103, v146, v104, v72, v16, v102);
  if (v113 < v72)
  {
    v90 = 1;
    v87 = 0;
    v72 = v113;
  }

  v114 = v100 + 2;
  if (v111)
  {
    v103 = a3;
    v115 = v146;
    v102 = v112;
    goto LABEL_137;
  }

  v109 = *(v112 + 12);
  v103 = a3;
  v102 = v112;
  v97 = v110;
LABEL_135:
  if (v97 >= v109)
  {
    v115 = v146;
    goto LABEL_140;
  }

  v115 = v146;
  if (v82 >= *(v102 + 8))
  {
    goto LABEL_140;
  }

LABEL_137:
  v116 = HP_PredErr4(v103, v115, v114, v72, v16, v102);
  v103 = a3;
  if (v116 < v72)
  {
    v90 = 1;
    v87 = 1;
    v72 = v116;
  }

LABEL_140:
  v117 = *a9 + v87;
  *a9 = v117;
  v118 = *(a9 + 1) + v90;
  *(a9 + 1) = v118;
  *(a9 + 4) = 0;
  v119 = v72 + 96;
  if (v136 != v72)
  {
    v119 = v72;
  }

  *(a9 + 8) = v119;
  v120 = v119 + 128;
  v35 = v119 < -128;
  v121 = v119 + 383;
  if (!v35)
  {
    v121 = v120;
  }

  *(a9 + 6) = v121 >> 8;
  result = H263ME_ResidualMean(v115, a7 + v145 * v135 + v137, v118, v117, v143, v103, v74, v75, v76, v77, v78, v79);
  *(a9 + 4) = result;
  *a9 = v117 + (v101 & 0xFE);
  *(a9 + 1) = v118 + (a14 & 0xFE);
  return result;
}

uint64_t H263ME_GetVectors(int a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _BOOL4 a6, uint64_t a7)
{
  v13 = a2 + 0x8000;
  v14 = *(a2 + 32832);
  if (a1)
  {
    return ME_CBAll(v14, a2, a2, a3, a4, a5, a7, a7);
  }

  ME_CBPrimary(v14, a2, a2, a3, a4, a5, a6, a7);
  v18 = *(v13 + 64);
  v19 = !a6;
  if ((*(v13 + 128) & 0x80) != 0)
  {

    return ME_CBIntpol(v18, a2, a3, a4, v17, v19, a7);
  }

  else
  {

    return ME_CBSecond(v18, a2, a3, a4, a5, v19, a7);
  }
}

uint64_t ME_CBPrimary(uint64_t result, uint64_t a2, _DWORD *a3, uint64_t a4, uint64_t a5, int a6, _BOOL4 a7, uint64_t a8)
{
  v8 = a3 + 8208;
  v9 = a3[8221];
  v10 = v9 / 16;
  v11 = a3[8215];
  v12 = v11 - v9 + 30;
  if (v11 - v9 + 15 >= 0)
  {
    v12 = v11 - v9 + 15;
  }

  if (v10 < v12 >> 4)
  {
    v13 = 0;
    v14 = a3 + 10325;
    v44 = a3 + 8212;
    v42 = *a4 + (16 * *(a4 + 24));
    v41 = *a5 + (16 * *(a5 + 24));
    v38 = a3 + 8225;
    v40 = (a3 + 9413);
    v15 = v10;
    v16 = a3[8220];
    v17 = a3[8214];
    v37 = result + 301;
    v45 = a3 + 10325;
    v43 = result;
    do
    {
      v18 = v16 + 15;
      if (v16 >= 0)
      {
        v18 = v16;
      }

      v19 = v17 - v16 + 30;
      if (v17 - v16 + 15 >= 0)
      {
        v19 = v17 - v16 + 15;
      }

      if (a7 + (v18 >> 4) >= v19 >> 4)
      {
        v22 = v15 + 1;
      }

      else
      {
        v20 = v18 >> 4;
        v21 = 16 * v15;
        v22 = v15 + 1;
        v39 = a7;
        v23 = a7 + v20;
        v24 = v37 + 12 * v23 + 288 * v15;
        v48 = &v38[66 * v15];
        v49 = v15 + 1;
        do
        {
          ++v14[1];
          v25 = 16 * v23;
          v26 = v21 < v8[7] && v25 < v17;
          if (v26)
          {
            v28 = &v48[3 * v23];
            v29 = result + 288 * v22 + 12 * v23;
            v50 = v28[2];
            v30 = v21;
            Motion_MB2(v21, v25, 16, 12, a5, v42 + 16, v41 + 16, a6, v29 + 12, v44, v40, a8, 0, 0);
            if (*v44 && v8[5] == v13 + v39)
            {
              v31 = 3;
            }

            else if (*(v29 + 20) - 64 >= v28[1])
            {
              v31 = 3;
            }

            else
            {
              v31 = 0;
            }

            v51 = v51 & 0xFFFFFFFF00000000 | v50;
            v22 = v49;
            *(*v8 + 288 * v49 + 12 * (v23 + 1) + 2) = v31;
            result = v43;
            v14 = v45;
            v21 = v30;
            if (*(v29 + 14) == 3)
            {
              ++*v45;
              v32 = 5;
              v33 = v24;
              do
              {
                *(v33 - 1) = 0;
                v33 += 5472;
                --v32;
              }

              while (v32);
              *(v29 + 18) = v28[2];
              v34 = *v28;
              *(v29 + 20) = v28[1];
              *(v29 + 16) = v34;
            }
          }

          else
          {
            v27 = result + 288 * v22 + 12 * v23;
            *(v27 + 20) = 0;
            *(v27 + 12) = 0;
          }

          v23 += 2;
          ++v13;
          v17 = v8[6];
          v16 = v8[12];
          v35 = v17 - v16 + 30;
          if (v17 - v16 + 15 >= 0)
          {
            v35 = v17 - v16 + 15;
          }

          v24 += 24;
        }

        while (v23 < v35 >> 4);
        v11 = v8[7];
        v9 = v8[13];
        a7 = v39;
      }

      a7 = !a7;
      v36 = v11 - v9 + 30;
      if (v11 - v9 + 15 >= 0)
      {
        v36 = v11 - v9 + 15;
      }

      v26 = v22 < v36 >> 4;
      v15 = v22;
    }

    while (v26);
  }

  return result;
}

uint64_t ME_CBIntpol(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _BOOL4 a6, uint64_t a7)
{
  v118 = result;
  v7 = (a2 + 32848);
  v8 = *(a2 + 32884) / 16;
  v9 = *(a2 + 32860);
  v10 = v9 + 8;
  if (v9 < -8)
  {
    v10 = v9 + 23;
  }

  if (v8 < v10 >> 4)
  {
    v11 = 0;
    v12 = (a2 + 41300);
    v107 = *a3 + (16 * *(a3 + 24)) + 16;
    v112 = *a4 + (16 * *(a4 + 24)) + 16;
    v98 = a2 + 32900;
    v13 = v8;
    v14 = *(a2 + 32856);
    v108 = (a2 + 41300);
    while (1)
    {
      v15 = v7[8] + (v7[8] < 0 ? 0xF : 0);
      v16 = v14 + 8;
      if (v14 < -8)
      {
        v16 = v14 + 23;
      }

      if (a6 + v7[8] / 16 < v16 >> 4)
      {
        break;
      }

      ++v13;
LABEL_114:
      a6 = !a6;
      v94 = v9 + 8;
      if (v9 < -8)
      {
        v94 = v9 + 23;
      }

      if (v13 >= v94 >> 4)
      {
        return result;
      }
    }

    v17 = 16 * v13;
    v114 = v13 + 1;
    v96 = v13 + 2;
    v100 = a6;
    v18 = a6 + (v7[8] / 16);
    v19 = 12 * v18 + 288 * v13;
    v20 = v118 + v19;
    v21 = v118 + 301 + v19;
    v99 = v98 + 264 * v13;
    v115 = v13;
    v117 = 16 * v13;
    while (1)
    {
      ++v12[1];
      v22 = 16 * v18;
      v23 = v7[3];
      if (v17 >= v23 || v22 >= v14)
      {
        v25 = 5;
        v26 = v20;
        do
        {
          *(v26 + 308) = 0;
          *(v26 + 300) = 0;
          *(v26 + 306) = 0;
          v26 += 5472;
          --v25;
        }

        while (v25);
        goto LABEL_109;
      }

      v27 = v7[6];
      v116 = 16 * v18;
      v110 = v107 + v22;
      v111 = v17 * v27;
      result = PredErr3(16, (v107 + v22 + v17 * v27), (v112 + v22 + v17 * v27), 0x7FFFFFFF, a7, v7);
      v28 = v115;
      v29 = result - 96;
      v30 = result - 96;
      v31 = v18 + 1;
      v32 = v118 + 288 * v114 + 12 * (v18 + 1);
      *(v32 + 8) = result - 96;
      *v32 = 0;
      if (v115 < 1)
      {
        goto LABEL_51;
      }

      v109 = result - 96;
      if (v115 < v23 / 16 - 1)
      {
        v33 = (v118 + 288 * v115 + 12 * v31);
        v34 = *v33;
        v35 = v34 & 1;
        v36 = v33[1];
        if (v35 | v36 & 1)
        {
          result = (v117 + (v36 >> 1));
          v43 = v116 + (v34 >> 1);
          if (v7[11] || (v45 = result + (v36 & 1), (v45 & 0x80000000) == 0) && v45 + 16 < v7[5] && ((v43 + v35) & 0x80000000) == 0 && v43 + v35 + 16 < v7[4])
          {
            v95 = (v118 + 288 * v115 + 12 * v31);
            v102 = v29;
            v44 = v29;
            DHPIntp(result, v43, v36 & 1, v35, 16, a2 + 37652, v112, v7);
            result = DHPErr(16, (v110 + v111), (a2 + 37652), v44, a7, v7);
            v29 = v102;
            v28 = v115;
            if (result < v102)
            {
              *(v32 + 8) = result;
              *v32 = *v95;
              v38 = v95[1];
              goto LABEL_26;
            }
          }
        }

        else
        {
          v37 = *v33;
          v38 = v36;
          if (v36 | v34)
          {
            v39 = v117 + (v36 >> 1);
            v40 = v116 + (v37 >> 1);
            if (v7[11] || (v39 & 0x80000000) == 0 && v39 + 16 < v7[5] && (v40 & 0x80000000) == 0 && v40 + 16 < v7[4])
            {
              v101 = v37;
              v41 = (v112 + v27 * v39 + v40);
              v42 = result - 96;
              result = PredErr3(16, (v110 + v111), v41, v29, a7, v7);
              v29 = v42;
              v28 = v115;
              if (result < v42)
              {
                *(v32 + 8) = result;
                *v32 = v101;
LABEL_26:
                v109 = result;
                *(v32 + 1) = v38;
              }
            }
          }
        }
      }

      if (v28 >= v7[3] / 16 - 1)
      {
        goto LABEL_50;
      }

      v46 = (v118 + 288 * v96 + 12 * v31);
      v47 = *v46;
      v48 = v47 & 1;
      v49 = v46[1];
      if (v48 | v49 & 1)
      {
        result = (v117 + (v49 >> 1));
        v55 = v116 + (v47 >> 1);
        if (v7[11])
        {
          goto LABEL_43;
        }

        v57 = result + (v49 & 1);
        if (v57 < 0)
        {
          goto LABEL_50;
        }

        v30 = v109;
        if (v57 + 16 < v7[5] && ((v55 + v48) & 0x80000000) == 0)
        {
          if (v55 + v48 + 16 < v7[4])
          {
LABEL_43:
            v56 = v29;
            DHPIntp(result, v55, v49 & 1, v48, 16, a2 + 37652, v112, v7);
            result = DHPErr(16, (v110 + v111), (a2 + 37652), v109, a7, v7);
            v30 = v109;
            v29 = v56;
            v28 = v115;
            if (result >= v109)
            {
              goto LABEL_51;
            }

            *(v32 + 8) = result;
            *v32 = *v46;
            v51 = v46[1];
            goto LABEL_45;
          }

LABEL_50:
          v30 = v109;
        }
      }

      else
      {
        v50 = *v46;
        v51 = v46[1];
        v30 = v109;
        if (v49 | v47)
        {
          v52 = v117 + (v49 >> 1);
          v53 = v116 + (v50 >> 1);
          if (v7[11] || (v52 & 0x80000000) == 0 && v52 + 16 < v7[5] && (v53 & 0x80000000) == 0 && v53 + 16 < v7[4])
          {
            v54 = v29;
            result = PredErr3(16, (v110 + v111), (v112 + v7[6] * v52 + v53), v109, a7, v7);
            v30 = v109;
            v29 = v54;
            v28 = v115;
            if (result < v109)
            {
              *(v32 + 8) = result;
              *v32 = v50;
LABEL_45:
              v30 = result;
              *(v32 + 1) = v51;
            }
          }
        }
      }

LABEL_51:
      if (v18 < 1)
      {
        goto LABEL_95;
      }

      if (v18 < v7[2] / 16 - 1)
      {
        v58 = (v118 + 288 * v114 + 12 * v18);
        v59 = *v58;
        v60 = v59 & 1;
        v61 = v58[1];
        if (v60 | v61 & 1)
        {
          result = (v117 + (v61 >> 1));
          v67 = v116 + (v59 >> 1);
          if (v7[11] || (v69 = result + (v61 & 1), (v69 & 0x80000000) == 0) && v69 + 16 < v7[5] && ((v67 + v60) & 0x80000000) == 0 && v67 + v60 + 16 < v7[4])
          {
            v104 = v29;
            v68 = v30;
            DHPIntp(result, v67, v61 & 1, v60, 16, a2 + 37652, v112, v7);
            result = DHPErr(16, (v110 + v111), (a2 + 37652), v68, a7, v7);
            v30 = v68;
            v29 = v104;
            v28 = v115;
            if (result < v68)
            {
              *(v32 + 8) = result;
              *v32 = *v58;
              v63 = v58[1];
              goto LABEL_61;
            }
          }
        }

        else
        {
          v62 = *v58;
          v63 = v58[1];
          if (v61 | v59)
          {
            v64 = v117 + (v61 >> 1);
            v65 = v116 + (v62 >> 1);
            if (v7[11] || (v64 & 0x80000000) == 0 && v64 + 16 < v7[5] && (v65 & 0x80000000) == 0 && v65 + 16 < v7[4])
            {
              v103 = v29;
              v66 = v30;
              result = PredErr3(16, (v110 + v111), (v112 + v7[6] * v64 + v65), v30, a7, v7);
              v30 = v66;
              v29 = v103;
              v28 = v115;
              if (result < v66)
              {
                *(v32 + 8) = result;
                *v32 = v62;
LABEL_61:
                v30 = result;
                *(v32 + 1) = v63;
              }
            }
          }
        }
      }

      if (v18 < v7[2] / 16 - 1)
      {
        v70 = v118 + 288 * v114 + 12 * v18;
        v73 = *(v70 + 24);
        v72 = (v70 + 24);
        v71 = v73;
        v74 = v73 & 1;
        v75 = v72[1];
        if (v74 | v75 & 1)
        {
          result = (v117 + (v75 >> 1));
          v81 = v116 + (v71 >> 1);
          if (!v7[11])
          {
            v83 = result + (v75 & 1);
            if (v83 < 0 || v83 + 16 >= v7[5] || v81 + v74 < 0 || v81 + v74 + 16 >= v7[4])
            {
              goto LABEL_95;
            }
          }

          v106 = v29;
          v82 = v30;
          DHPIntp(result, v81, v75 & 1, v74, 16, a2 + 37652, v112, v7);
          result = DHPErr(16, (v110 + v111), (a2 + 37652), v82, a7, v7);
          v30 = v82;
          v29 = v106;
          v28 = v115;
          if (result >= v82)
          {
            goto LABEL_95;
          }

          *v32 = *v72;
          v77 = v72[1];
        }

        else
        {
          v76 = v71;
          v77 = v72[1];
          if (!(v75 | v71))
          {
            goto LABEL_95;
          }

          v78 = v117 + (v75 >> 1);
          v79 = v116 + (v76 >> 1);
          if (!v7[11] && (v78 < 0 || v78 + 16 >= v7[5] || v79 < 0 || v79 + 16 >= v7[4]))
          {
            goto LABEL_95;
          }

          v105 = v29;
          v80 = v30;
          result = PredErr3(16, (v110 + v111), (v112 + v7[6] * v78 + v79), v30, a7, v7);
          v30 = v80;
          v29 = v105;
          v28 = v115;
          if (result >= v80)
          {
            goto LABEL_95;
          }

          *v32 = v76;
        }

        v30 = result;
        *(v32 + 1) = v77;
      }

LABEL_95:
      *(v32 + 4) = 0;
      v84 = v30 + 96;
      if (v29 != v30)
      {
        v84 = v30;
      }

      *(v32 + 8) = v84;
      v85 = v84 + 128;
      if (v84 < -128)
      {
        v85 = v84 + 383;
      }

      *(v32 + 6) = v85 >> 8;
      if (*v7 && v7[1] == v11 + v100)
      {
        *(v32 + 2) = 3;
        v12 = v108;
        v17 = v117;
      }

      else
      {
        v86 = *(v99 + 12 * v18 + 4);
        v87 = v84 - 64;
        v88 = v87 < v86;
        if (v87 >= v86)
        {
          v89 = 3;
        }

        else
        {
          v89 = 0;
        }

        *(v32 + 2) = v89;
        v12 = v108;
        v17 = v117;
        if (v88)
        {
          goto LABEL_109;
        }
      }

      ++*v12;
      v90 = 5;
      v91 = v21;
      do
      {
        *(v91 - 1) = 0;
        v91 += 5472;
        --v90;
      }

      while (v90);
      v92 = (v98 + 264 * v28 + 12 * v18);
      *(v32 + 6) = v92[2];
      LODWORD(v92) = *v92;
      *(v32 + 8) = *(v98 + 264 * v28 + 12 * v18 + 4);
      *(v32 + 4) = v92;
LABEL_109:
      v18 += 2;
      v11 += 2;
      v14 = v7[2];
      v93 = v14 + 8;
      if (v14 < -8)
      {
        v93 = v14 + 23;
      }

      v20 += 24;
      v21 += 24;
      if (v18 >= v93 >> 4)
      {
        v9 = v7[3];
        a6 = v100;
        v13 = v114;
        goto LABEL_114;
      }
    }
  }

  return result;
}

uint64_t ME_CBSecond(uint64_t result, _DWORD *a2, uint64_t a3, uint64_t a4, uint64_t a5, _BOOL4 a6, uint64_t a7)
{
  v101 = a5;
  v7 = a2 + 8208;
  v8 = a2[8221];
  v9 = v8 / 16;
  v10 = a2[8215];
  v11 = v10 - v8 + 30;
  if (v10 - v8 + 15 >= 0)
  {
    v11 = v10 - v8 + 15;
  }

  if (v9 < v11 >> 4)
  {
    v12 = result;
    v13 = 0;
    v14 = a2 + 10325;
    v96 = a2 + 8212;
    v95 = *a3 + (16 * *(a3 + 24)) + 16;
    v94 = *a4 + (16 * *(a4 + 24)) + 16;
    v86 = a2 + 8225;
    v89 = (a2 + 9413);
    v90 = result;
    v15 = v9;
    v16 = a2[8220];
    v17 = a2[8214];
    v85 = result + 301;
    v97 = a2 + 8208;
    v91 = a2 + 10325;
    while (1)
    {
      v18 = v16 + 15;
      if (v16 >= 0)
      {
        v18 = v16;
      }

      v19 = v17 - v16 + 30;
      if (v17 - v16 + 15 >= 0)
      {
        v19 = v17 - v16 + 15;
      }

      if (a6 + (v18 >> 4) < v19 >> 4)
      {
        break;
      }

      v20 = v15 + 1;
LABEL_87:
      a6 = !a6;
      v84 = v10 - v8 + 30;
      if (v10 - v8 + 15 >= 0)
      {
        v84 = v10 - v8 + 15;
      }

      v15 = v20;
      if (v20 >= v84 >> 4)
      {
        return result;
      }
    }

    result = 16 * v15;
    v20 = v15 + 1;
    v87 = v15 + 2;
    v88 = a6;
    v21 = a6 + (v18 >> 4);
    v22 = 12 * v21 + 288 * v15;
    v23 = v12 + v22;
    v24 = v85 + v22;
    v92 = &v86[66 * v15];
    v99 = 16 * v15;
    v100 = v15 + 1;
    v93 = v15;
    while (1)
    {
      ++v14[1];
      v25 = 16 * v21;
      v26 = v7[7];
      if (result >= v26 || v25 >= v17)
      {
        v28 = 5;
        v29 = v23;
        do
        {
          *(v29 + 308) = 0;
          *(v29 + 300) = 0;
          *(v29 + 306) = 0;
          v29 += 5472;
          --v28;
        }

        while (v28);
        goto LABEL_71;
      }

      v30 = v101;
      if ((v7[16] & 0x80) != 0)
      {
        if (v15 < 1)
        {
          v37 = 0;
        }

        else
        {
          v31 = v12 + 288 * v15 + 12 * v21;
          v32 = *(v31 + 12);
          if (v32 < 0)
          {
            v32 = -v32;
          }

          v33 = (v32 + 1) >> 1;
          v34 = *(v31 + 13);
          if (v34 < 0)
          {
            v34 = -v34;
          }

          v35 = v34 + 1;
          v36 = v35 & 0xFE;
          v37 = v35 >> 1;
          if (v33 > v36 >> 1)
          {
            v37 = v33;
          }
        }

        if (v15 < v26 / 16 - 1)
        {
          v38 = v12 + 288 * v87 + 12 * v21;
          v39 = *(v38 + 12);
          if (v39 < 0)
          {
            v39 = -v39;
          }

          v40 = v39 + 1;
          v41 = v40 & 0xFE;
          v42 = v40 >> 1;
          v43 = *(v38 + 13);
          if (v43 < 0)
          {
            v43 = -v43;
          }

          v44 = v43 + 1;
          v45 = v44 & 0xFE;
          v46 = v44 >> 1;
          if (v37 <= v41 >> 1)
          {
            v37 = v42;
          }

          if (v37 <= v45 >> 1)
          {
            v37 = v46;
          }
        }

        if (v21 >= 1)
        {
          v47 = (v12 + 288 * v20 + 12 * v21);
          v48 = *v47;
          if (v48 < 0)
          {
            v48 = -v48;
          }

          v49 = v48 + 1;
          v50 = v49 & 0xFE;
          v51 = v49 >> 1;
          v52 = v47[1];
          if (v52 < 0)
          {
            v52 = -v52;
          }

          v53 = v52 + 1;
          v54 = v53 & 0xFE;
          v55 = v53 >> 1;
          if (v37 <= v50 >> 1)
          {
            v37 = v51;
          }

          if (v37 <= v54 >> 1)
          {
            v37 = v55;
          }
        }

        if (v21 < v17 / 16 - 1)
        {
          v56 = v12 + 288 * v20 + 12 * v21;
          v57 = *(v56 + 24);
          if (v57 < 0)
          {
            v57 = -v57;
          }

          v58 = v57 + 1;
          v59 = v58 & 0xFE;
          v60 = v58 >> 1;
          v61 = *(v56 + 25);
          if (v61 < 0)
          {
            v61 = -v61;
          }

          v62 = v61 + 1;
          v63 = v62 & 0xFE;
          v64 = v62 >> 1;
          if (v37 <= v59 >> 1)
          {
            v37 = v60;
          }

          if (v37 <= v63 >> 1)
          {
            v37 = v64;
          }
        }

        v65 = v101;
        if (!v37)
        {
          v76 = 5;
          v77 = v24;
          do
          {
            *(v77 - 1) = 0;
            v77 += 5472;
            --v76;
          }

          while (v76);
          v78 = PredErr3(16, (v95 + v25 + result * v7[10]), (v94 + v25 + result * v7[10]), 0x7FFFFFFF, a7, v96);
          v7 = v97;
          v20 = v100;
          v79 = v12 + 288 * v100 + 12 * (v21 + 1);
          *(v79 + 8) = v78;
          if (v97[4] && v97[5] == v13 + v88)
          {
            *(v79 + 2) = 3;
            v80 = v86;
            v81 = v86[66 * v15 + 1 + 3 * v21];
            goto LABEL_84;
          }

          v80 = v86;
          v81 = v86[66 * v15 + 1 + 3 * v21];
          if (v78 - 64 >= v81)
          {
            v82 = 3;
          }

          else
          {
            v82 = 0;
          }

          *(v79 + 2) = v82;
          if (v78 - 64 >= v81)
          {
LABEL_84:
            v83 = &v80[66 * v15 + 3 * v21];
            *(v79 + 6) = v83[2];
            *(v79 + 8) = v81;
            *(v79 + 4) = *v83;
          }

          result = v99;
          goto LABEL_71;
        }

        do
        {
          v30 = v65;
          if (v65 < 1)
          {
            break;
          }

          v65 = v65 >> 1;
        }

        while (v37 > v30 || v37 <= v65);
      }

      v66 = &v92[3 * v21];
      v67 = v12 + 288 * v20 + 12 * v21;
      v68 = v67 + 12;
      v69 = v66[2];
      Motion_MB2(result, v25, 16, a4, a5, v95, v94, v30, v67 + 12, v96, v89, a7, 0, 0);
      v7 = v97;
      if (*v96 && v97[5] == v13 + v88)
      {
        v70 = 3;
      }

      else if (*(v67 + 20) - 64 >= v66[1])
      {
        v70 = 3;
      }

      else
      {
        v70 = 0;
      }

      v102 = v102 & 0xFFFFFFFF00000000 | v69;
      result = v99;
      v20 = v100;
      *(*v97 + 288 * v100 + 12 * (v21 + 1) + 2) = v70;
      v71 = *(v67 + 14);
      v12 = v90;
      if (v71 == 3)
      {
        v14 = v91;
        ++*v91;
        v72 = 5;
        v73 = v24;
        do
        {
          *(v73 - 1) = 0;
          v73 += 5472;
          --v72;
        }

        while (v72);
        *(v68 + 6) = v66[2];
        v74 = *v66;
        *(v68 + 8) = v66[1];
        *(v68 + 4) = v74;
      }

      else
      {
        v14 = v91;
      }

      v15 = v93;
LABEL_71:
      v21 += 2;
      v13 += 2;
      v17 = v7[6];
      v16 = v7[12];
      v75 = v17 - v16 + 30;
      if (v17 - v16 + 15 >= 0)
      {
        v75 = v17 - v16 + 15;
      }

      v23 += 24;
      v24 += 24;
      if (v21 >= v75 >> 4)
      {
        v10 = v7[7];
        v8 = v7[13];
        a6 = v88;
        goto LABEL_87;
      }
    }
  }

  return result;
}

_DWORD *H263ME_GetVectorsUMV(_DWORD *result, uint64_t a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6, int a7, uint64_t a8)
{
  v8 = result + 8208;
  v9 = result[8221] / 16;
  v10 = result[8215];
  v11 = v10 + 15;
  v52 = v10 < -15;
  v12 = v10 + 30;
  if (!v52)
  {
    v12 = v11;
  }

  v13 = (v12 << 12) & 0xFFFF0000;
  if (v13 > v9 << 16)
  {
    v14 = 0;
    v78 = result + 10325;
    v67 = (result + 8212);
    v15 = *a2 + (16 * *(a2 + 24)) + 16;
    v16 = result[8214];
    v17 = v16 + 15;
    v52 = v16 < -15;
    v18 = v16 + 30;
    if (!v52)
    {
      v18 = v17;
    }

    v74 = result + 8225;
    v19 = (result[8220] / 16);
    v62 = (v18 >> 4) - v19;
    v83 = v9;
    v20 = v13 >> 16;
    v73 = (v18 >> 4);
    v63 = (result[8220] / 16);
    v61 = v20;
    v75 = result;
    v70 = *a3 + (16 * *(a3 + 24));
    v71 = result + 8208;
    v64 = v19;
    while (v19 >= v73)
    {
      v22 = v83 + 1;
LABEL_47:
      v83 = v22;
      if (v22 == v20)
      {
        return result;
      }
    }

    v21 = v83 & 1;
    if (v83 < 0)
    {
      v21 = -v21;
    }

    v82 = v21;
    v22 = v83 + 1;
    v68 = 16 * v83;
    v23 = *v8;
    v24 = 12 * v63 + 301 + 288 * v83;
    v25 = v63;
    v65 = v14;
    while (1)
    {
      v79 = v14;
      v26 = v15;
      v80 = v24;
      v81 = v25 + 1;
      ++v78[1];
      v27 = v8;
      v28 = *(a6 + v83);
      v29 = pvx(v23, v83, v25, v28, a7);
      v30 = pvy(v23, v83, v25, v28, a7);
      if (v29 <= -32)
      {
        v33 = -32;
      }

      else
      {
        v33 = v29;
      }

      if (v33 >= 32)
      {
        v34 = 32;
      }

      else
      {
        v34 = v33;
      }

      if (v30 <= -32)
      {
        v35 = -32;
      }

      else
      {
        v35 = v30;
      }

      if (v35 >= 32)
      {
        v36 = 32;
      }

      else
      {
        v36 = v35;
      }

      v37 = v27[16];
      if ((v37 & 1) != 0 || (v82 & 1) == 0)
      {
        v38 = v23 + 288 * v22;
        v39 = (v38 + 12 * v81);
        v15 = v26;
        if ((v37 & 0x80) != 0)
        {
          v66 = v66 & 0xFFFFFFFF00000000 | v74[66 * v83 + 2 + 3 * v25];
          v40 = v70;
          v41 = 16 * v83;
          Motion_MB3(v68, 16 * v25, 16, v31, v32, v15, v70 + 16, a4, v39, v67, v60, *(a8 + 8), v34, v36);
          v43 = v67;
          v42 = a8;
        }

        else
        {
          v40 = v70;
          v41 = 16 * v83;
          Motion_MB4step(v68, 16 * v25, 16, v15, v70 + 16, a4, v38 + 12 * v81, v75, v34, v36, a8);
          if (v39[2] >= 601)
          {
            Motion_MBFS(v68, 16 * v25, 16, v15, v70 + 16, a4, v39, v75, v34, v36, a8);
          }

          v42 = a8;
          v43 = v67;
        }

        v8 = v71;
        result = Motion_DoHalfPel(v39, 16, (v41 + (*(v39 + 1) >> 1)), 16 * v25 + (*v39 >> 1), v39[2], v40 + 16, (v15 + v41 * v71[10] + 16 * v25), (v75 + 9413), v43, *(v42 + 8));
        v39[2] = result;
        v44 = result + 128;
        if (result < -128)
        {
          v44 = result + 383;
        }

        *(v39 + 3) = v44 >> 8;
      }

      else
      {
        v15 = v26;
        result = Motion_MB_UMVInterp(v83, v25, 16, v26, v70 + 16, v23, *(a8 + 8), v34, v36, v75, a7);
        v8 = v71;
      }

      v23 = *v8;
      v45 = *v8 + 288 * v22 + 12 * v81;
      v48 = *(v45 + 8);
      v46 = (v45 + 8);
      v47 = v48;
      if (v8[4] && v8[5] == v79)
      {
        *(v23 + 288 * v22 + 12 * v81 + 2) = 3;
        v49 = v80;
      }

      else
      {
        v50 = v74[66 * v83 + 1 + 3 * v25];
        v51 = v47 - 64;
        v52 = v51 < v50;
        if (v51 >= v50)
        {
          v53 = 3;
        }

        else
        {
          v53 = 0;
        }

        *(v23 + 288 * v22 + 12 * v81 + 2) = v53;
        v49 = v80;
        if (v52)
        {
          goto LABEL_44;
        }
      }

      ++*v78;
      v54 = v23 + v49;
      v55 = 5;
      do
      {
        *(v54 - 1) = 0;
        v54 += 5472;
        --v55;
      }

      while (v55);
      v56 = &v74[66 * v83 + 3 * v25];
      v57 = *v56;
      *v46 = v56[1];
      v58 = v56[2];
      v59 = v23 + 288 * v22 + 12 * v81;
      *(v59 + 6) = v58;
      *(v59 + 4) = v57;
LABEL_44:
      ++v82;
      v14 = v79 + 1;
      v24 = v49 + 12;
      ++v25;
      if (v81 == v73)
      {
        v19 = v64;
        v14 = v62 + v65;
        v20 = v61;
        goto LABEL_47;
      }
    }
  }

  return result;
}

uint64_t Motion_MB3(int a1, int a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, int a13, int a14)
{
  v15 = a7;
  v17 = a2;
  v18 = a9;
  v19 = *(a10 + 24);
  v20 = a1 + (a14 >> 1);
  v112 = v19;
  v96 = a7 + v19 * v20;
  v21 = a13;
  v22 = a13 >> 1;
  v113 = (a6 + v19 * a1 + a2);
  v105 = (v96 + a2 + (a13 >> 1));
  v23 = PredErr3(a3, v113, v105, 0x7FFFFFFF, a12, a10);
  v30 = v23 - 96;
  v31 = v22 + v17;
  v95 = v20;
  if (a8 >= 1)
  {
    v84 = v15;
    LODWORD(v15) = a8 + 1;
    v32 = *(a10 + 20) + 16;
    v33 = (v23 - 96);
    v17 += v22;
    v34 = v113;
    v35 = a10;
    while (1)
    {
      v36 = v15;
      while (1)
      {
        v15 = v36 >> 1;
        v37 = a3 + (v36 >> 1);
        v38 = v37 + v20;
        if ((v37 + v20) <= v32)
        {
          v39 = v20 - v15;
          v40 = v17 - v15;
          v41 = v37 + v17;
          v42 = (v37 + v17) > v35[4] + 16 || v40 < -16;
          if (!v42 && v39 > -17)
          {
            break;
          }
        }

        v44 = v36 >= 4;
        v36 >>= 1;
        if (!v44)
        {
          v73 = a14;
          v18 = a9;
          v21 = a13;
          goto LABEL_75;
        }
      }

      v80 = v30;
      v81 = v31;
      v45 = v15 * v112;
      v46 = (v105 + v15);
      v47 = v35[11];
      v86 = v47;
      v85 = v35;
      if (!v47)
      {
        v48 = v35[2];
        if (v41 >= v48)
        {
          break;
        }
      }

      v97 = v105 + v15;
      v106 = v33;
      v87 = v15 * v112;
      v49 = PredErr3(a3, v34, v46, v33, a12, v35);
      v47 = v86;
      if (v49 >= v106)
      {
        v50 = 0;
      }

      else
      {
        v50 = v36 >> 1;
      }

      if (v49 >= v106)
      {
        v33 = v106;
      }

      else
      {
        v33 = v49;
      }

      v82 = v87;
      v51 = &v97[-v87];
      if (!v86)
      {
        v35 = v85;
        v48 = *(v85 + 8);
        v34 = v113;
LABEL_27:
        v52 = 0;
        if (v41 >= v48 || v39 < 0)
        {
          goto LABEL_35;
        }

        goto LABEL_29;
      }

      v34 = v113;
LABEL_29:
      v88 = v51;
      v98 = v50;
      v107 = v33;
      v53 = PredErr3(a3, v34, v51, v33, a12, v85);
      v51 = v88;
      v47 = v86;
      v50 = v98;
      v35 = v85;
      v34 = v113;
      if (v53 < v107)
      {
        v52 = -v15;
      }

      else
      {
        v52 = 0;
      }

      if (v53 >= v107)
      {
        v33 = v107;
      }

      else
      {
        v50 = v36 >> 1;
        v33 = v53;
      }

LABEL_35:
      v54 = (v51 - v15);
      if (v47 || (v39 & 0x80000000) == 0)
      {
        v78 = v54;
        v108 = v33;
        v99 = v50;
        v89 = v52;
        v55 = PredErr3(a3, v34, v54, v33, a12, v35);
        v54 = v78;
        v52 = v89;
        v47 = v86;
        v50 = v99;
        v33 = v108;
        if (v55 < v108)
        {
          v50 = 0;
          v52 = -v15;
          v33 = v55;
        }
      }

      v56 = v54 - v15;
      if (v47 || (v39 | v40) >= 0)
      {
        v109 = v54 - v15;
        v57 = v33;
        v100 = v50;
        v90 = v52;
        v58 = PredErr3(a3, v113, (v54 - v15), v33, a12, v85);
        v56 = v109;
        v52 = v90;
        v47 = v86;
        v50 = v100;
        if (v58 >= v57)
        {
          v33 = v57;
        }

        else
        {
          v52 = -v15;
          v50 = -v15;
          v33 = v58;
        }
      }

      v59 = &v56[v82];
      if (v47 || (v40 & 0x80000000) == 0)
      {
        v79 = &v56[v82];
        v110 = v33;
        v101 = v50;
        v91 = v52;
        v61 = PredErr3(a3, v113, &v56[v82], v33, a12, v85);
        v59 = v79;
        v62 = a12;
        v52 = v91;
        v50 = v101;
        v35 = v85;
        if (v61 >= v110)
        {
          v33 = v110;
        }

        else
        {
          v52 = 0;
          v50 = -v15;
          v33 = v61;
        }

        if (v86 || v38 < *(v85 + 12) && (v62 = a12, (v40 & 0x80000000) == 0))
        {
          v83 = &v79[v82];
          v63 = v33;
          v102 = v50;
          v92 = v52;
          v64 = PredErr3(a3, v113, v83, v33, v62, v85);
          v52 = v92;
          v50 = v102;
          v35 = v85;
          if (v64 >= v63)
          {
            v33 = v63;
          }

          else
          {
            v52 = v36 >> 1;
            v50 = -v15;
            v33 = v64;
          }

          v60 = (v83 + v15);
          v18 = a9;
          v34 = v113;
          if (v86)
          {
            goto LABEL_59;
          }

          goto LABEL_58;
        }

        v34 = v113;
      }

      else
      {
        v34 = v113;
        v35 = v85;
      }

      v60 = &v59[v82 + v15];
      v18 = a9;
LABEL_58:
      v65 = v35[3];
      if (v38 >= v65)
      {
        v68 = (v60 + v15);
        v21 = a13;
        goto LABEL_66;
      }

LABEL_59:
      v93 = v52;
      v103 = v50;
      v111 = v60;
      v66 = v33;
      v67 = PredErr3(a3, v34, v60, v33, a12, v35);
      v52 = v93;
      v50 = v103;
      if (v67 >= v66)
      {
        v33 = v66;
      }

      else
      {
        v52 = v36 >> 1;
        v50 = 0;
        v33 = v67;
      }

      v68 = (v111 + v15);
      if (v86)
      {
        v73 = a14;
        v34 = v113;
        v35 = v85;
LABEL_68:
        v94 = v52;
        v104 = v50;
        v69 = v33;
        v70 = v73;
        v71 = v35;
        v72 = PredErr3(a3, v34, v68, v33, a12, v35);
        v52 = v94;
        v50 = v104;
        v33 = v69;
        v35 = v71;
        v73 = v70;
        v21 = a13;
        v34 = v113;
        if (v72 < v69)
        {
          v52 = v36 >> 1;
          v50 = v36 >> 1;
          v33 = v72;
        }

        goto LABEL_71;
      }

      v35 = v85;
      v65 = *(v85 + 12);
      v21 = a13;
      v34 = v113;
LABEL_66:
      if (v38 >= v65)
      {
        v73 = a14;
      }

      else
      {
        v73 = a14;
        if (v41 < v35[2])
        {
          goto LABEL_68;
        }
      }

LABEL_71:
      v20 += v52;
      v17 += v50;
      v105 = (v84 + v20 * v112 + v17);
      v31 = v81;
      v30 = v80;
      if (v36 <= 3)
      {
        goto LABEL_75;
      }
    }

    v50 = 0;
    v82 = v45;
    v51 = (v46 - v45);
    goto LABEL_27;
  }

  LOBYTE(v17) = v22 + v17;
  LODWORD(v33) = v23 - 96;
  v34 = v113;
  v73 = a14;
LABEL_75:
  v74 = v17 - v31;
  *v18 = 2 * (v17 - v31);
  *(v18 + 1) = 2 * (v20 - v95);
  v75 = v33 + 96;
  if (v30 != v33)
  {
    v75 = v33;
  }

  v76 = v75 + 128;
  if (v75 < -128)
  {
    v76 = v75 + 383;
  }

  *(v18 + 4) = 0;
  *(v18 + 8) = v75;
  *(v18 + 6) = v76 >> 8;
  result = H263ME_ResidualMean(v34, v96 + v31, (2 * (v20 - v95)), (2 * (v17 - v31)), v112, a3, v24, v25, v26, v27, v28, v29);
  *(v18 + 4) = result;
  *v18 = 2 * (v74 + (v21 >> 1));
  *(v18 + 1) = 2 * (v20 - v95 + (v73 >> 1));
  return result;
}

uint64_t Motion_MB4step(int a1, int a2, int a3, uint64_t a4, uint64_t a5, int a6, uint64_t a7, _DWORD *a8, int a9, int a10, uint64_t a11)
{
  v90 = a8[8218];
  v117 = (a4 + v90 * a1 + a2);
  v11 = a1 + (a10 >> 1);
  v12 = (a9 >> 1) + a2;
  v13 = a6 + a3 + v12;
  v14 = v12 - a6;
  v15 = a6 + a3 + v11;
  v16 = v11 - a6;
  v17 = a8[8216];
  if (a8[8223])
  {
    v18 = v17 + 16;
    v19 = v17 + 15;
    if (v13 >= v18)
    {
      v20 = v19;
    }

    else
    {
      v20 = a6 + a3 + v12;
    }

    if (v14 <= -15)
    {
      v21 = -15;
    }

    else
    {
      v21 = v12 - a6;
    }

    v22 = a8[8217];
    v23 = v22 + 16;
    v24 = v22 + 15;
    if (v15 >= v23)
    {
      v25 = v24;
    }

    else
    {
      v25 = a6 + a3 + v11;
    }

    if (v16 <= -15)
    {
      v26 = -15;
    }

    else
    {
      v26 = v11 - a6;
    }
  }

  else
  {
    if (v13 >= v17)
    {
      v20 = a8[8216];
    }

    else
    {
      v20 = a6 + a3 + v12;
    }

    v21 = v14 & ~(v14 >> 31);
    if (v15 >= a8[8217])
    {
      v25 = a8[8217];
    }

    else
    {
      v25 = a6 + a3 + v11;
    }

    v26 = v16 & ~(v16 >> 31);
  }

  v84 = a5 + v90 * v11;
  v115 = *(a11 + 8);
  v27 = PredErr3(a3, v117, (v84 + v12), 0x7FFFFFFF, v115, (a8 + 8212));
  v34 = v27;
  v91 = 0;
  v110 = 0;
  v35 = 0;
  v36 = 0;
  v37 = 0;
  v122 = v20;
  v123 = 0;
  v120 = v26;
  v121 = v21;
  v119 = v25;
  v38 = 2;
  v85 = v11;
  v39 = v11;
  v86 = v12;
  v40 = v12;
  do
  {
    v41 = v40;
    v42 = v39;
    if (v37 && v123)
    {
      v96 = v38;
      v92 = v39;
      v94 = v40;
      if (v123 < 0)
      {
        v91 = 1;
      }

      else
      {
        v43 = -v123;
        v44 = v38 + v40;
        v46 = (v38 + v40) > v122 || v44 < v121;
        v47 = v38;
        v48 = v39 - v123 * v38;
        v49 = (a5 + v90 * v48 + v44);
        v50 = v90 * v38;
        v51 = (2 * v123) | 1;
        v112 = v46;
        v111 = v50;
        do
        {
          v52 = v48 > v120 || v46;
          if ((v52 & 1) == 0 && v48 >= v119)
          {
            v27 = PredErr3(a3, v117, v49, v34, v115, (a8 + 8212));
            v50 = v111;
            v46 = v112;
          }

          v53 = v27 < v34;
          if (v27 >= v34)
          {
            v37 = v37;
          }

          else
          {
            v34 = v27;
            v40 = v44;
            v39 = v48;
            v37 = 1;
          }

          if (v53)
          {
            v54 = v43;
          }

          else
          {
            v54 = v123;
          }

          v123 = v54;
          ++v43;
          v48 += v47;
          v49 = (v49 + v50);
          --v51;
        }

        while (v51);
        v91 = v54 != 1;
        if (v54 == 1)
        {
          v35 = -1;
          v123 = 1;
          v59 = v37;
LABEL_72:
          v110 = v37;
          v38 = v96;
          v42 = v92;
          v41 = v94;
          goto LABEL_111;
        }

        v38 = v96;
        v42 = v92;
        v41 = v94;
      }

      v57 = 0;
      v104 = -v37;
      v58 = v38;
      v100 = -v37 * v38 + v41;
      v102 = v42;
      v113 = a5 + v90 * v42;
      v106 = v90 * v38;
      v98 = (2 * v37) | 1;
      v59 = v37;
      v108 = v37;
      do
      {
        if ((v37 & 0x80000000) == 0)
        {
          v60 = v102 + v57 * v58;
          v61 = v98;
          v62 = v104;
          v63 = v100;
          do
          {
            if (v62 | v57 && v63 <= v122 && v63 >= v121 && v60 <= v120 && v60 >= v119)
            {
              v27 = PredErr3(a3, v117, (v113 + v63), v34, v115, (a8 + 8212));
              v60 = v102 + v57 * v58;
            }

            v64 = v27 < v34;
            if (v27 >= v34)
            {
              v59 = v59;
            }

            else
            {
              v34 = v27;
              v40 = v63;
              v39 = v60;
              v59 = v62;
            }

            if (v64)
            {
              v65 = v57;
            }

            else
            {
              v65 = v123;
            }

            v123 = v65;
            v63 += v58;
            ++v62;
            --v61;
          }

          while (v61);
        }

        ++v57;
        v113 += v106;
        LODWORD(v37) = v108;
      }

      while (v57 != 2);
      v35 = 0;
      goto LABEL_72;
    }

    if (v37 | v123)
    {
      if (!v37 || v123)
      {
        v66 = v123;
        if (v123)
        {
          v67 = -1;
        }

        else
        {
          v67 = v36;
        }

        if (v123)
        {
          v68 = v123;
        }

        else
        {
          v68 = v35;
        }

        v69 = v110;
        if (v123)
        {
          v70 = 1;
        }

        else
        {
          v70 = v110;
        }

        v55 = v91;
        if (!v123)
        {
          v66 = v91;
        }

        if (v37)
        {
          v56 = v36;
        }

        else
        {
          v56 = v67;
        }

        if (!v37)
        {
          v35 = v68;
          v69 = v70;
        }

        v110 = v69;
        if (!v37)
        {
          v55 = v66;
        }
      }

      else
      {
        v55 = 1;
        v35 = -1;
        v56 = v37;
        v110 = v37;
      }
    }

    else
    {
      v110 = 1;
      v56 = -1;
      v35 = -1;
      v55 = 1;
    }

    v91 = v55;
    if (v55 >= -v35)
    {
      v59 = v37;
      v71 = -v56;
      v97 = v38;
      v72 = v38;
      v73 = -v35;
      v107 = v55 + 1;
      v88 = v56;
      v99 = v35;
      v101 = v40 - v56 * v38;
      v103 = v39;
      v114 = a5 + v90 * (v39 - v35 * v38);
      v105 = v90 * v38;
      v93 = v39;
      v95 = v40;
      v109 = -v56;
      do
      {
        if (v110 >= v71)
        {
          v74 = v101;
          v75 = v103 + v73 * v72;
          do
          {
            if (v71 | v73 && v74 <= v122 && v74 >= v121 && v75 <= v120 && v75 >= v119)
            {
              v27 = PredErr3(a3, v117, (v114 + v74), v34, v115, (a8 + 8212));
            }

            v76 = v27 < v34;
            if (v27 >= v34)
            {
              v59 = v59;
            }

            else
            {
              v34 = v27;
              v40 = v74;
              v39 = v103 + v73 * v72;
              v59 = v71;
            }

            if (v76)
            {
              v77 = v73;
            }

            else
            {
              v77 = v123;
            }

            v123 = v77;
            v74 += v72;
            ++v71;
          }

          while (v110 + 1 != v71);
        }

        ++v73;
        v114 += v105;
        v71 = v109;
      }

      while (v107 != v73);
      LODWORD(v37) = v88;
      v38 = v97;
      v42 = v93;
      v41 = v95;
      v35 = v99;
    }

    else
    {
      v59 = v37;
      LODWORD(v37) = v56;
    }

LABEL_111:
    v78 = v42 == v39 && v41 == v40;
    if (v78 || v38 == 1)
    {
      v80 = 1;
    }

    else
    {
      v80 = 2;
    }

    v36 = v37;
    v37 = v59;
    v78 = v38 == 1;
    v38 = v80;
  }

  while (!v78);
  *a7 = 2 * (v40 - v86);
  v81 = 2 * (v39 - v85);
  v82 = v34 + 128;
  if (v34 < -128)
  {
    v82 = v34 + 383;
  }

  *(a7 + 1) = v81;
  *(a7 + 8) = v34;
  *(a7 + 6) = v82 >> 8;
  result = H263ME_ResidualMean(v117, v84 + v86, v81, (2 * (v40 - v86)), v90, a3, v28, v29, v30, v31, v32, v33);
  *(a7 + 4) = result;
  *a7 = (a9 & 0xFE) + 2 * (v40 - v86);
  *(a7 + 1) = (a10 & 0xFE) + 2 * (v39 - v85);
  return result;
}

uint64_t Motion_MBFS(int a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, int a6, uint64_t a7, uint64_t a8, int a9, int a10, uint64_t a11)
{
  v15 = (a8 + 0x8000);
  v16 = a1 + (a10 >> 1);
  v17 = (a9 >> 1) + a2;
  v18 = *(a8 + 32872);
  v58 = v18;
  v53 = a5 + v18 * v16;
  v65 = (a4 + v18 * a1 + a2);
  v63 = *(a11 + 8);
  v19 = H263ME_PredErr(a3, v65, (v53 + v17), 0x7FFFFFFF, 0, v63, a8 + 32848);
  v26 = a3;
  v27 = v19;
  v28 = a6 + a3 + v17;
  v29 = v17 - a6;
  v30 = a6 + a3 + v16;
  v31 = v16 - a6;
  v32 = v15[24];
  if (v15[31])
  {
    v33 = v32 + 16;
    v34 = v32 + 15;
    if (v28 >= v33)
    {
      v28 = v34;
    }

    if (v29 <= -15)
    {
      v29 = -15;
    }

    v57 = v29;
    v35 = v15[25];
    v36 = v35 + 16;
    v37 = v35 + 15;
    if (v30 >= v36)
    {
      v30 = v37;
    }

    if (v31 <= -15)
    {
      v31 = -15;
    }
  }

  else
  {
    if (v28 >= v32)
    {
      v28 = v15[24];
    }

    v57 = v29 & ~(v29 >> 31);
    if (v30 >= v15[25])
    {
      v30 = v15[25];
    }

    v31 &= ~(v31 >> 31);
  }

  v38 = v30 - a3;
  v52 = v16;
  if (v31 >= v38)
  {
    v60 = v17;
    v61 = v16;
    v62 = v19;
  }

  else
  {
    v39 = (a5 + v31 * v58 + v57);
    v40 = v28 - a3;
    v41 = v31;
    v42 = v16;
    v56 = v38;
    v61 = v16;
    v62 = v19;
    v60 = v17;
    v55 = (a9 >> 1) + a2 - v57;
    do
    {
      v59 = v39;
      if (v57 < v40)
      {
        v43 = v39;
        v44 = v55;
        v45 = v57;
        do
        {
          if (v42 != v41 || v44)
          {
            v46 = *(*(a11 + 24) + 4 * v44) + *(*(a11 + 24) + 4 * (v42 - v41));
            v47 = v26;
            v48 = H263ME_PredErr(v26, v65, v43, v27, v46, v63, a8 + 32848);
            v26 = v47;
            if (v48 + v46 < v27)
            {
              v60 = v45;
              v61 = v41;
              v62 = v48;
              v27 = v48 + v46;
            }
          }

          ++v45;
          --v44;
          v43 = (v43 + 1);
        }

        while (v45 < v40);
      }

      v39 = (v59 + v58);
      ++v41;
    }

    while (v41 < v56);
  }

  *a7 = 2 * (v60 - v17);
  v49 = 2 * (v61 - v52);
  v50 = v62 + 128;
  if (v62 < -128)
  {
    v50 = v62 + 383;
  }

  *(a7 + 1) = v49;
  *(a7 + 8) = v62;
  *(a7 + 6) = v50 >> 8;
  result = H263ME_ResidualMean(v65, v53 + v17, v49, (2 * (v60 - v17)), v58, v26, v20, v21, v22, v23, v24, v25);
  *(a7 + 4) = result;
  *a7 = 2 * (v60 - v17 + (a9 >> 1));
  *(a7 + 1) = 2 * (v61 - v52 + (a10 >> 1));
  return result;
}

uint64_t Motion_DoHalfPel(_BYTE *a1, int a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6, unsigned __int8 *a7, uint64_t a8, _DWORD *a9, uint64_t a10)
{
  v14 = a3;
  v16 = a10;
  v17 = (2 * a2) | 1;
  LHPIntp4(a3, a4, a2, a8, a6, a9);
  v18 = v17;
  v55 = a4;
  v19 = a2 + 1 + a4;
  v20 = a8 + v17 + 2;
  v21 = a9[11];
  v56 = v21;
  v57 = a7;
  if (!v21)
  {
    v22 = a9[4];
    if (v19 >= v22)
    {
      v24 = 0;
      v25 = v20 - v18;
      goto LABEL_9;
    }
  }

  v23 = HP_PredErr4(a2, a7, v20, a5, a10, a9);
  v24 = v23 < a5;
  if (v23 >= a5)
  {
    a5 = a5;
  }

  else
  {
    a5 = v23;
  }

  v25 = v20 - v18;
  if (!v21)
  {
    v22 = a9[4];
LABEL_9:
    v26 = 0;
    if (v14 < 1 || v19 >= v22)
    {
      goto LABEL_20;
    }
  }

  v27 = HP_PredErr4(a2, v57, v25, a5, a10, a9);
  v28 = v27 < a5;
  if (v27 < a5)
  {
    a5 = v27;
  }

  else
  {
    a5 = a5;
  }

  if (v28)
  {
    v26 = -1;
  }

  else
  {
    v26 = 0;
  }

  if (v28)
  {
    v24 = 1;
  }

LABEL_20:
  if (v14 > 0 || v56)
  {
    v29 = HP_PredErr4(a2, v57, v25 - 1, a5, a10, a9);
    v30 = v29 < a5;
    if (v29 < a5)
    {
      a5 = v29;
    }

    else
    {
      a5 = a5;
    }

    if (v30)
    {
      v26 = -1;
    }

    if (v30)
    {
      v24 = 0;
    }
  }

  v31 = v25 - 2;
  v32 = v55 <= 0 || v14 <= 0;
  if (!v32 || v56)
  {
    v33 = HP_PredErr4(a2, v57, v31, a5, a10, a9);
    v34 = v33 < a5;
    if (v33 < a5)
    {
      a5 = v33;
    }

    else
    {
      a5 = a5;
    }

    if (v34)
    {
      v26 = -1;
    }

    if (v34)
    {
      v24 = -1;
    }
  }

  v35 = a2 + 1 + v14;
  v36 = v31 + v18;
  if (v55 > 0 || v56)
  {
    v53 = a2 + 1 + v14;
    v39 = v57;
    v40 = HP_PredErr4(a2, v57, v36, a5, a10, a9);
    v41 = v40 < a5;
    if (v40 >= a5)
    {
      a5 = a5;
    }

    else
    {
      a5 = v40;
    }

    if (v41)
    {
      v26 = 0;
      v24 = -1;
    }

    v42 = v18;
    v37 = v36 + v18;
    v43 = v56;
    if (v56 || v55 >= 1 && (v39 = v57, v43 = 0, v53 < a9[5]))
    {
      v44 = HP_PredErr4(a2, v39, v37, a5, a10, a9);
      v45 = v44 < a5;
      if (v44 >= a5)
      {
        a5 = a5;
      }

      else
      {
        a5 = v44;
      }

      if (v45)
      {
        v26 = 1;
      }

      if (v45)
      {
        v24 = -1;
      }

      v38 = v37 + 1;
      v16 = a10;
      v35 = v53;
      if (v43)
      {
        goto LABEL_69;
      }

      goto LABEL_68;
    }

    v16 = a10;
    v18 = v42;
    v35 = v53;
  }

  else
  {
    v37 = v36 + v18;
  }

  v38 = v36 + v18 + 1;
LABEL_68:
  v46 = a9[5];
  if (v35 >= v46)
  {
    v50 = v37 + 2;
    goto LABEL_80;
  }

LABEL_69:
  v47 = v35;
  v48 = HP_PredErr4(a2, v57, v38, a5, v16, a9);
  v49 = v48 < a5;
  if (v48 >= a5)
  {
    a5 = a5;
  }

  else
  {
    a5 = v48;
  }

  if (v49)
  {
    v26 = 1;
  }

  if (v49)
  {
    v24 = 0;
  }

  v50 = v37 + 2;
  if (!v56)
  {
    v46 = a9[5];
    v35 = v47;
LABEL_80:
    if (v35 >= v46 || v19 >= a9[4])
    {
      goto LABEL_84;
    }
  }

  v51 = HP_PredErr4(a2, v57, v50, a5, v16, a9);
  if (v51 < a5)
  {
    v26 = 1;
    a5 = v51;
    v24 = 1;
  }

LABEL_84:
  *a1 += v24;
  a1[1] += v26;
  return a5;
}

uint64_t Motion_MB_UMVInterp(int a1, int a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, int a8, int a9, uint64_t a10, int a11)
{
  v14 = a1;
  v15 = a2;
  v16 = *(a10 + 32872);
  v17 = v16 * a1;
  v18 = (a4 + 16 * v17 + 16 * a2);
  v19 = a5 + 16 * v17 + 16 * v15;
  v20 = a11 - 1;
  if ((a11 - 1) > 2)
  {
    v21 = 0;
    v22 = 0;
  }

  else
  {
    v21 = dword_295687D28[v20];
    v22 = dword_295687D34[v20];
  }

  if (a8 >= 32)
  {
    v23 = 32;
  }

  else
  {
    v23 = a8;
  }

  v46 = v21;
  v49 = v22;
  if (v21 == a2)
  {
    v24 = v23;
  }

  else
  {
    v24 = a8;
  }

  if (a9 >= 32)
  {
    v25 = 32;
  }

  else
  {
    v25 = a9;
  }

  if (v22 == a1)
  {
    v26 = v25;
  }

  else
  {
    v26 = a9;
  }

  v27 = v18;
  result = PredErr3(a3, v18, (v19 + v16 * (v26 >> 1) + (v24 >> 1)), 0x7FFFFFFF, a7, a10 + 32848);
  v30 = result;
  v31 = result - 96;
  v32 = v14 + 1;
  v33 = v15 + 1;
  v34 = a6 + 288 * (v14 + 1) + 12 * (v15 + 1);
  *(v34 + 1) = v26;
  *v34 = v24;
  v35 = 3 * v33;
  if (a1 >= 1 && a2 >= 1)
  {
    v44 = 9 * v32;
    v48 = result - 96;
    v45 = 3 * v33;
    Motion_CheckSurroundingVectors((*(a10 + 32832) + 288 * v32 + 12 * a2), *(a10 + 32832) + 288 * v32 + 12 * v33, v46, v49, a8, a9, a10, a5, v27, a1, a2, v31, a7);
    Motion_CheckSurroundingVectors((*(a10 + 32832) + 288 * a1 + 12 * a2), *(a10 + 32832) + 32 * v44 + 4 * v45, v46, v49, a8, a9, a10, a5, v27, a1, a2, v48, a7);
    v36 = a1;
    v37 = a8;
    v38 = a10 + 0x8000;
    v39 = a7;
    v35 = v45;
    v40 = v49;
    v41 = v46;
    v42 = a9;
    v43 = a10;
    v32 = v14 + 1;
    v31 = v48;
LABEL_21:
    result = Motion_CheckSurroundingVectors((*(v38 + 64) + 288 * v36 + 4 * v35), *(v38 + 64) + 288 * v32 + 4 * v35, v41, v40, v37, v42, v43, a5, v27, a1, a2, v31, v39);
    goto LABEL_22;
  }

  if (a1 >= 1)
  {
    v36 = a1;
    v43 = a10;
    v40 = v49;
    v37 = a8;
    v39 = a7;
    v42 = a9;
    v38 = a10 + 0x8000;
    v41 = v46;
    goto LABEL_21;
  }

LABEL_22:
  *(v34 + 4) = 0;
  *(v34 + 8) = v30;
  *(v34 + 6) = v30 / 256;
  return result;
}

uint64_t PredErr3(int a1, uint8x8_t *a2, uint8x8_t *a3, int a4, uint64_t a5, uint64_t a6)
{
  if ((*(a6 + 48) & 0x80) == 0)
  {
    if (a1 == 8)
    {
      LODWORD(v6) = 0;
      v7 = 8;
      do
      {
        v8 = vsubl_u8(*a3, *a2);
        v6 = (*(a5 + 4 * v8.i16[0]) + v6 + *(a5 + 4 * v8.i16[1]) + *(a5 + 4 * v8.i16[2]) + *(a5 + 4 * v8.i16[3]) + *(a5 + 4 * v8.i16[4]) + *(a5 + 4 * v8.i16[5]) + *(a5 + 4 * v8.i16[6]) + *(a5 + 4 * v8.i16[7]));
        if (v6 >= a4)
        {
          break;
        }

        v9 = *(a6 + 24);
        a3 = (a3 + v9);
        a2 = (a2 + v9);
        --v7;
      }

      while (v7);
      return v6;
    }

    if (a1 >= 1)
    {
      LODWORD(v6) = 0;
      do
      {
        v13 = vsubl_u8(*a3, *a2);
        v14 = vsubl_high_u8(*a3->i8, *a2->i8);
        v6 = (*(a5 + 4 * v13.i16[0]) + v6 + *(a5 + 4 * v13.i16[1]) + *(a5 + 4 * v13.i16[2]) + *(a5 + 4 * v13.i16[3]) + *(a5 + 4 * v13.i16[4]) + *(a5 + 4 * v13.i16[5]) + *(a5 + 4 * v13.i16[6]) + *(a5 + 4 * v13.i16[7]) + *(a5 + 4 * v14.i16[0]) + *(a5 + 4 * v14.i16[1]) + *(a5 + 4 * v14.i16[2]) + *(a5 + 4 * v14.i16[3]) + *(a5 + 4 * v14.i16[4]) + *(a5 + 4 * v14.i16[5]) + *(a5 + 4 * v14.i16[6]) + *(a5 + 4 * v14.i16[7]));
        if (v6 >= a4)
        {
          break;
        }

        v15 = *(a6 + 24);
        a3 = (a3 + v15);
        a2 = (a2 + v15);
        --a1;
      }

      while (a1);
      return v6;
    }

    return 0;
  }

  if (a1 == 8)
  {
    LODWORD(v6) = 0;
    v10 = 8;
    do
    {
      v11 = vsubl_u8(*a3, *a2);
      v6 = (*(a5 + 4 * v11.i16[0]) + v6 + *(a5 + 4 * v11.i16[1]) + *(a5 + 4 * v11.i16[2]) + *(a5 + 4 * v11.i16[3]) + *(a5 + 4 * v11.i16[4]) + *(a5 + 4 * v11.i16[5]) + *(a5 + 4 * v11.i16[6]) + *(a5 + 4 * v11.i16[7]));
      if (v6 >= a4)
      {
        break;
      }

      v12 = *(a6 + 24);
      a3 = (a3 + v12);
      a2 = (a2 + v12);
      --v10;
    }

    while (v10);
  }

  else
  {
    if (a1 < 1)
    {
      return 0;
    }

    LODWORD(v6) = 0;
    do
    {
      v16 = vsubl_u8(*a3, *a2);
      v17 = vsubl_high_u8(*a3->i8, *a2->i8);
      v6 = (*(a5 + 4 * v16.i16[0]) + v6 + *(a5 + 4 * v16.i16[1]) + *(a5 + 4 * v16.i16[2]) + *(a5 + 4 * v16.i16[3]) + *(a5 + 4 * v16.i16[4]) + *(a5 + 4 * v16.i16[5]) + *(a5 + 4 * v16.i16[6]) + *(a5 + 4 * v16.i16[7]) + *(a5 + 4 * v17.i16[0]) + *(a5 + 4 * v17.i16[1]) + *(a5 + 4 * v17.i16[2]) + *(a5 + 4 * v17.i16[3]) + *(a5 + 4 * v17.i16[4]) + *(a5 + 4 * v17.i16[5]) + *(a5 + 4 * v17.i16[6]) + *(a5 + 4 * v17.i16[7]));
      if (v6 >= a4)
      {
        break;
      }

      v18 = *(a6 + 24);
      a3 = (a3 + v18);
      a2 = (a2 + v18);
      --a1;
    }

    while (a1);
  }

  return v6;
}

uint64_t DHPIntp(uint64_t result, int a2, int a3, int a4, int a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  v8 = *(a8 + 24);
  v9 = v8 * result;
  v10 = (a7 + v9 + a2);
  if (a3)
  {
    v11 = 0;
  }

  else
  {
    v11 = a4 == 1;
  }

  v12 = v11;
  if ((*(a8 + 48) & 0x80) != 0)
  {
    if (v12)
    {
      if (a5 >= 1)
      {
        for (i = 0; i != a5; ++i)
        {
          for (j = 0; j != a5; ++j)
          {
            *(a6 + j) = (v10[j] + v10[j + 1] + 1) >> 1;
          }

          v10 += v8;
          a6 += a5;
        }
      }
    }

    else if (a3 == -1 && a4 == 1)
    {
      if (a5 >= 1)
      {
        for (k = 0; k != a5; ++k)
        {
          v22 = 0;
          v23 = v10[-v8] + *v10;
          do
          {
            v24 = v10[v22 - v8 + 1] + v10[v22 + 1];
            *(a6 + v22++) = (v23 + v24 + 2) >> 2;
            v23 = v24;
          }

          while (a5 != v22);
          v10 += v8;
          a6 += a5;
        }
      }
    }

    else if (a3 != -1 || a4)
    {
      if ((a4 & a3) == 0xFFFFFFFF)
      {
        if (a5 >= 1)
        {
          v40 = 0;
          v41 = a7 + a2 + v9 - v8;
          do
          {
            v42 = 0;
            v43 = v10[~v8] + *(v10 - 1);
            do
            {
              v44 = *(v41 + v42) + v10[v42];
              *(a6 + v42++) = (v43 + v44 + 2) >> 2;
              v43 = v44;
            }

            while (a5 != v42);
            v10 += v8;
            a6 += a5;
            ++v40;
            v41 += v8;
          }

          while (v40 != a5);
        }
      }

      else if (a3 || a4 != -1)
      {
        if (a3 == 1 && a4 == -1)
        {
          if (a5 >= 1)
          {
            v50 = 0;
            v51 = a7 + v8 + a2 + v9;
            do
            {
              v52 = 0;
              v53 = v10[v8 - 1] + *(v10 - 1);
              do
              {
                v54 = *(v51 + v52) + v10[v52];
                *(a6 + v52++) = (v53 + v54 + 2) >> 2;
                v53 = v54;
              }

              while (a5 != v52);
              v10 += v8;
              a6 += a5;
              ++v50;
              v51 += v8;
            }

            while (v50 != a5);
          }
        }

        else if (a3 != 1 || a4)
        {
          if (a4 == 1 && a5 >= 1 && a3 == 1)
          {
            for (m = 0; m != a5; ++m)
            {
              v66 = 0;
              v67 = v10[v8] + *v10;
              do
              {
                v68 = v10[v8 + 1 + v66] + v10[v66 + 1];
                *(a6 + v66++) = (v67 + v68 + 2) >> 2;
                v67 = v68;
              }

              while (a5 != v66);
              a6 += a5;
              v10 += v8;
            }
          }
        }

        else if (a5 >= 1)
        {
          v58 = 0;
          v59 = a7 + v8 + a2 + v9;
          do
          {
            for (n = 0; n != a5; ++n)
            {
              *(a6 + n) = (v10[n] + *(v59 + n) + 1) >> 1;
            }

            v10 += v8;
            a6 += a5;
            ++v58;
            v59 += v8;
          }

          while (v58 != a5);
        }
      }

      else if (a5 >= 1)
      {
        for (ii = 0; ii != a5; ++ii)
        {
          for (jj = 0; jj != a5; ++jj)
          {
            *(a6 + jj) = (v10[jj] + v10[jj - 1] + 1) >> 1;
          }

          v10 += v8;
          a6 += a5;
        }
      }
    }

    else if (a5 >= 1)
    {
      v28 = 0;
      v29 = a7 + a2 + v9 - v8;
      do
      {
        for (kk = 0; kk != a5; ++kk)
        {
          *(a6 + kk) = (v10[kk] + *(v29 + kk) + 1) >> 1;
        }

        v10 += v8;
        a6 += a5;
        ++v28;
        v29 += v8;
      }

      while (v28 != a5);
    }
  }

  else if (v12)
  {
    if (a5 >= 1)
    {
      for (mm = 0; mm != a5; ++mm)
      {
        for (nn = 0; nn != a5; ++nn)
        {
          *(a6 + nn) = (v10[nn] + v10[nn + 1] + 1) >> 1;
        }

        v10 += v8;
        a6 += a5;
      }
    }
  }

  else if (a3 == -1 && a4 == 1)
  {
    if (a5 >= 1)
    {
      for (i1 = 0; i1 != a5; ++i1)
      {
        v18 = 0;
        v19 = v10[-v8] + *v10;
        do
        {
          v20 = v10[v18 - v8 + 1] + v10[v18 + 1];
          *(a6 + v18++) = (v19 + v20 + 2) >> 2;
          v19 = v20;
        }

        while (a5 != v18);
        v10 += v8;
        a6 += a5;
      }
    }
  }

  else if (a3 != -1 || a4)
  {
    if ((a4 & a3) == 0xFFFFFFFF)
    {
      if (a5 >= 1)
      {
        v35 = 0;
        v36 = a7 + a2 + v9 - v8;
        do
        {
          v37 = 0;
          v38 = v10[~v8] + *(v10 - 1);
          do
          {
            v39 = *(v36 + v37) + v10[v37];
            *(a6 + v37++) = (v38 + v39 + 2) >> 2;
            v38 = v39;
          }

          while (a5 != v37);
          v10 += v8;
          a6 += a5;
          ++v35;
          v36 += v8;
        }

        while (v35 != a5);
      }
    }

    else if (a3 || a4 != -1)
    {
      if (a3 == 1 && a4 == -1)
      {
        if (a5 >= 1)
        {
          v45 = 0;
          v46 = a7 + v8 + a2 + v9;
          do
          {
            v47 = 0;
            v48 = v10[v8 - 1] + *(v10 - 1);
            do
            {
              v49 = *(v46 + v47) + v10[v47];
              *(a6 + v47++) = (v48 + v49 + 2) >> 2;
              v48 = v49;
            }

            while (a5 != v47);
            v10 += v8;
            a6 += a5;
            ++v45;
            v46 += v8;
          }

          while (v45 != a5);
        }
      }

      else if (a3 != 1 || a4)
      {
        if (a4 == 1 && a5 >= 1 && a3 == 1)
        {
          for (i2 = 0; i2 != a5; ++i2)
          {
            v62 = 0;
            v63 = v10[v8] + *v10;
            do
            {
              v64 = v10[v8 + 1 + v62] + v10[v62 + 1];
              *(a6 + v62++) = (v63 + v64 + 2) >> 2;
              v63 = v64;
            }

            while (a5 != v62);
            a6 += a5;
            v10 += v8;
          }
        }
      }

      else if (a5 >= 1)
      {
        v55 = 0;
        v56 = a7 + v8 + a2 + v9;
        do
        {
          for (i3 = 0; i3 != a5; ++i3)
          {
            *(a6 + i3) = (v10[i3] + *(v56 + i3) + 1) >> 1;
          }

          v10 += v8;
          a6 += a5;
          ++v55;
          v56 += v8;
        }

        while (v55 != a5);
      }
    }

    else if (a5 >= 1)
    {
      for (i4 = 0; i4 != a5; ++i4)
      {
        for (i5 = 0; i5 != a5; ++i5)
        {
          *(a6 + i5) = (v10[i5] + v10[i5 - 1] + 1) >> 1;
        }

        v10 += v8;
        a6 += a5;
      }
    }
  }

  else if (a5 >= 1)
  {
    v25 = 0;
    v26 = a7 + a2 + v9 - v8;
    do
    {
      for (i6 = 0; i6 != a5; ++i6)
      {
        *(a6 + i6) = (v10[i6] + *(v26 + i6) + 1) >> 1;
      }

      v10 += v8;
      a6 += a5;
      ++v25;
      v26 += v8;
    }

    while (v25 != a5);
  }

  return result;
}

uint64_t DHPErr(int a1, uint8x8_t *a2, uint8x8_t *a3, int a4, uint64_t a5, uint64_t a6)
{
  if ((*(a6 + 48) & 0x80) == 0)
  {
    if (a1 == 8)
    {
      v6 = 0;
      LODWORD(v7) = 0;
      do
      {
        v8 = vsubl_u8(a3[v6], *a2);
        v7 = (*(a5 + 4 * v8.i16[0]) + v7 + *(a5 + 4 * v8.i16[1]) + *(a5 + 4 * v8.i16[2]) + *(a5 + 4 * v8.i16[3]) + *(a5 + 4 * v8.i16[4]) + *(a5 + 4 * v8.i16[5]) + *(a5 + 4 * v8.i16[6]) + *(a5 + 4 * v8.i16[7]));
        if (v7 >= a4)
        {
          break;
        }

        a2 = (a2 + *(a6 + 24));
        ++v6;
      }

      while ((v6 * 8) != 64);
      return v7;
    }

    if (a1 >= 1)
    {
      LODWORD(v7) = 0;
      v11 = a1;
      do
      {
        v12 = vsubl_u8(*a3, *a2);
        v13 = vsubl_high_u8(*a3->i8, *a2->i8);
        v7 = (*(a5 + 4 * v12.i16[0]) + v7 + *(a5 + 4 * v12.i16[1]) + *(a5 + 4 * v12.i16[2]) + *(a5 + 4 * v12.i16[3]) + *(a5 + 4 * v12.i16[4]) + *(a5 + 4 * v12.i16[5]) + *(a5 + 4 * v12.i16[6]) + *(a5 + 4 * v12.i16[7]) + *(a5 + 4 * v13.i16[0]) + *(a5 + 4 * v13.i16[1]) + *(a5 + 4 * v13.i16[2]) + *(a5 + 4 * v13.i16[3]) + *(a5 + 4 * v13.i16[4]) + *(a5 + 4 * v13.i16[5]) + *(a5 + 4 * v13.i16[6]) + *(a5 + 4 * v13.i16[7]));
        if (v7 >= a4)
        {
          break;
        }

        a3 = (a3 + v11);
        a2 = (a2 + *(a6 + 24));
        --a1;
      }

      while (a1);
      return v7;
    }

    return 0;
  }

  if (a1 == 8)
  {
    v9 = 0;
    LODWORD(v7) = 0;
    do
    {
      v10 = vsubl_u8(a3[v9], *a2);
      v7 = (*(a5 + 4 * v10.i16[0]) + v7 + *(a5 + 4 * v10.i16[1]) + *(a5 + 4 * v10.i16[2]) + *(a5 + 4 * v10.i16[3]) + *(a5 + 4 * v10.i16[4]) + *(a5 + 4 * v10.i16[5]) + *(a5 + 4 * v10.i16[6]) + *(a5 + 4 * v10.i16[7]));
      if (v7 >= a4)
      {
        break;
      }

      a2 = (a2 + *(a6 + 24));
      ++v9;
    }

    while ((v9 * 8) != 64);
  }

  else
  {
    if (a1 < 1)
    {
      return 0;
    }

    LODWORD(v7) = 0;
    v14 = a1;
    do
    {
      v15 = vsubl_u8(*a3, *a2);
      v16 = vsubl_high_u8(*a3->i8, *a2->i8);
      v7 = (*(a5 + 4 * v15.i16[0]) + v7 + *(a5 + 4 * v15.i16[1]) + *(a5 + 4 * v15.i16[2]) + *(a5 + 4 * v15.i16[3]) + *(a5 + 4 * v15.i16[4]) + *(a5 + 4 * v15.i16[5]) + *(a5 + 4 * v15.i16[6]) + *(a5 + 4 * v15.i16[7]) + *(a5 + 4 * v16.i16[0]) + *(a5 + 4 * v16.i16[1]) + *(a5 + 4 * v16.i16[2]) + *(a5 + 4 * v16.i16[3]) + *(a5 + 4 * v16.i16[4]) + *(a5 + 4 * v16.i16[5]) + *(a5 + 4 * v16.i16[6]) + *(a5 + 4 * v16.i16[7]));
      if (v7 >= a4)
      {
        break;
      }

      a3 = (a3 + v14);
      a2 = (a2 + *(a6 + 24));
      --a1;
    }

    while (a1);
  }

  return v7;
}

uint64_t H263ME_PredErr(int a1, uint8x8_t *a2, uint8x8_t *a3, int a4, int a5, uint64_t a6, uint64_t a7)
{
  if ((*(a7 + 48) & 0x80) != 0)
  {
    if (a1 == 8)
    {
      v11 = 8;
      v8 = a5;
      do
      {
        v12 = vsubl_u8(*a3, *a2);
        v8 += *(a6 + 4 * v12.i16[0]) + *(a6 + 4 * v12.i16[1]) + *(a6 + 4 * v12.i16[2]) + *(a6 + 4 * v12.i16[3]) + *(a6 + 4 * v12.i16[4]) + *(a6 + 4 * v12.i16[5]) + *(a6 + 4 * v12.i16[6]) + *(a6 + 4 * v12.i16[7]);
        if (v8 >= a4)
        {
          break;
        }

        v13 = *(a7 + 24);
        a3 = (a3 + v13);
        a2 = (a2 + v13);
        --v11;
      }

      while (v11);
    }

    else
    {
      v8 = a5;
      if (a1 >= 1)
      {
        v8 = a5;
        do
        {
          v17 = vsubl_u8(*a3, *a2);
          v18 = vsubl_high_u8(*a3->i8, *a2->i8);
          v8 += *(a6 + 4 * v17.i16[0]) + *(a6 + 4 * v17.i16[1]) + *(a6 + 4 * v17.i16[2]) + *(a6 + 4 * v17.i16[3]) + *(a6 + 4 * v17.i16[4]) + *(a6 + 4 * v17.i16[5]) + *(a6 + 4 * v17.i16[6]) + *(a6 + 4 * v17.i16[7]) + *(a6 + 4 * v18.i16[0]) + *(a6 + 4 * v18.i16[1]) + *(a6 + 4 * v18.i16[2]) + *(a6 + 4 * v18.i16[3]) + *(a6 + 4 * v18.i16[4]) + *(a6 + 4 * v18.i16[5]) + *(a6 + 4 * v18.i16[6]) + *(a6 + 4 * v18.i16[7]);
          if (v8 >= a4)
          {
            break;
          }

          v19 = *(a7 + 24);
          a3 = (a3 + v19);
          a2 = (a2 + v19);
          --a1;
        }

        while (a1);
      }
    }
  }

  else if (a1 == 8)
  {
    v7 = 8;
    v8 = a5;
    do
    {
      v9 = vsubl_u8(*a3, *a2);
      v8 += *(a6 + 4 * v9.i16[0]) + *(a6 + 4 * v9.i16[1]) + *(a6 + 4 * v9.i16[2]) + *(a6 + 4 * v9.i16[3]) + *(a6 + 4 * v9.i16[4]) + *(a6 + 4 * v9.i16[5]) + *(a6 + 4 * v9.i16[6]) + *(a6 + 4 * v9.i16[7]);
      if (v8 >= a4)
      {
        break;
      }

      v10 = *(a7 + 24);
      a3 = (a3 + v10);
      a2 = (a2 + v10);
      --v7;
    }

    while (v7);
  }

  else
  {
    v8 = a5;
    if (a1 >= 1)
    {
      v8 = a5;
      do
      {
        v14 = vsubl_u8(*a3, *a2);
        v15 = vsubl_high_u8(*a3->i8, *a2->i8);
        v8 += *(a6 + 4 * v14.i16[0]) + *(a6 + 4 * v14.i16[1]) + *(a6 + 4 * v14.i16[2]) + *(a6 + 4 * v14.i16[3]) + *(a6 + 4 * v14.i16[4]) + *(a6 + 4 * v14.i16[5]) + *(a6 + 4 * v14.i16[6]) + *(a6 + 4 * v14.i16[7]) + *(a6 + 4 * v15.i16[0]) + *(a6 + 4 * v15.i16[1]) + *(a6 + 4 * v15.i16[2]) + *(a6 + 4 * v15.i16[3]) + *(a6 + 4 * v15.i16[4]) + *(a6 + 4 * v15.i16[5]) + *(a6 + 4 * v15.i16[6]) + *(a6 + 4 * v15.i16[7]);
        if (v8 >= a4)
        {
          break;
        }

        v16 = *(a7 + 24);
        a3 = (a3 + v16);
        a2 = (a2 + v16);
        --a1;
      }

      while (a1);
    }
  }

  return (v8 - a5);
}

uint64_t HP_PredErr4(int a1, unsigned __int8 *a2, uint64_t a3, int a4, uint64_t a5, uint64_t a6)
{
  v6 = 2 * a1;
  if ((*(a6 + 48) & 0x80) == 0)
  {
    if (a1 >= 1)
    {
      LODWORD(v7) = 0;
      v8 = 0;
      v9 = (a3 + 16);
      do
      {
        v7 = (*(a5 + 4 * (*(v9 - 16) - *a2)) + v7 + *(a5 + 4 * (*(v9 - 14) - a2[1])) + *(a5 + 4 * (*(v9 - 12) - a2[2])) + *(a5 + 4 * (*(v9 - 10) - a2[3])) + *(a5 + 4 * (*(v9 - 8) - a2[4])) + *(a5 + 4 * (*(v9 - 6) - a2[5])) + *(a5 + 4 * (*(v9 - 4) - a2[6])) + *(a5 + 4 * (*(v9 - 2) - a2[7])));
        if (a1 == 16)
        {
          v7 = (*(a5 + 4 * (*v9 - a2[8])) + *(a5 + 4 * (v9[2] - a2[9])) + *(a5 + 4 * (v9[4] - a2[10])) + *(a5 + 4 * (v9[6] - a2[11])) + *(a5 + 4 * (v9[8] - a2[12])) + v7 + *(a5 + 4 * (v9[10] - a2[13])) + *(a5 + 4 * (v9[12] - a2[14])) + *(a5 + 4 * (v9[14] - a2[15])));
        }

        if (v7 >= a4)
        {
          break;
        }

        a2 += *(a6 + 24);
        v8 += 2;
        v9 += (4 * a1) | 2;
      }

      while (v8 < v6);
      return v7;
    }

    return 0;
  }

  if (a1 < 1)
  {
    return 0;
  }

  LODWORD(v7) = 0;
  v10 = 0;
  v11 = (a3 + 16);
  do
  {
    v7 = (*(a5 + 4 * (*(v11 - 16) - *a2)) + v7 + *(a5 + 4 * (*(v11 - 14) - a2[1])) + *(a5 + 4 * (*(v11 - 12) - a2[2])) + *(a5 + 4 * (*(v11 - 10) - a2[3])) + *(a5 + 4 * (*(v11 - 8) - a2[4])) + *(a5 + 4 * (*(v11 - 6) - a2[5])) + *(a5 + 4 * (*(v11 - 4) - a2[6])) + *(a5 + 4 * (*(v11 - 2) - a2[7])));
    if (a1 == 16)
    {
      v7 = (*(a5 + 4 * (*v11 - a2[8])) + *(a5 + 4 * (v11[2] - a2[9])) + *(a5 + 4 * (v11[4] - a2[10])) + *(a5 + 4 * (v11[6] - a2[11])) + *(a5 + 4 * (v11[8] - a2[12])) + v7 + *(a5 + 4 * (v11[10] - a2[13])) + *(a5 + 4 * (v11[12] - a2[14])) + *(a5 + 4 * (v11[14] - a2[15])));
    }

    if (v7 >= a4)
    {
      break;
    }

    a2 += *(a6 + 24);
    v10 += 2;
    v11 += (4 * a1) | 2;
  }

  while (v10 < v6);
  return v7;
}

uint64_t H263ME_ResidualMean(uint64_t a1, uint64_t a2, int a3, int a4, int a5, int a6, double a7, int32x4_t a8, int32x4_t a9, uint32x4_t a10, int8x16_t a11, int32x4_t a12)
{
  v14 = (a3 >> 1) * a5 + (a4 >> 1);
  v15 = v14;
  if (((a4 | a3) & 1) == 0)
  {
    if (a6 >= 1)
    {
      v16 = (v14 + a2 + 8);
      v17 = (a1 + 8);
      v18 = 0uLL;
      v19 = a6;
      do
      {
        a8.i32[0] = *(v17 - 2);
        a9.i32[0] = *(v17 - 1);
        a8.i64[0] = vmovl_u8(*a8.i8).u64[0];
        a10.i32[0] = *(v16 - 2);
        a11.i32[0] = *(v16 - 1);
        a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
        a11.i64[0] = vmovl_u8(*a11.i8).u64[0];
        a9 = vsubl_u16(*&vmovl_u8(*a9.i8), *a11.i8);
        v18 = vaddq_s32(vsubw_u16(vaddw_u16(v18, *a8.i8), *a10.i8), a9);
        if (a6 == 16)
        {
          a8.i32[0] = *v17;
          a9.i32[0] = v17[1];
          a10.i32[0] = *v16;
          a11.i32[0] = v16[1];
          a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
          a9.i64[0] = vmovl_u8(*a9.i8).u64[0];
          a11.i64[0] = vmovl_u8(*a11.i8).u64[0];
          v20 = vaddw_u16(vaddw_u16(v18, *&vmovl_u8(*a8.i8)), *a9.i8);
          a8 = vaddl_u16(*a10.i8, *a11.i8);
          v18 = vsubq_s32(v20, a8);
        }

        v16 = (v16 + a5);
        v17 = (v17 + a5);
        --v19;
      }

      while (v19);
      goto LABEL_29;
    }

LABEL_33:
    v110 = 0;
    goto LABEL_34;
  }

  if ((a3 & 1) != 0 || (a4 & 1) == 0)
  {
    v38 = a2 + v14;
    if (a3 & 1) == 0 || (a4)
    {
      if (a6 < 1)
      {
        goto LABEL_33;
      }

      v69 = 0;
      v70 = v15 + a5 + 6;
      v71 = v15 + a5 + 7;
      v72 = v15 + a5 + 8;
      v73 = v15 + a5 + 9;
      v74 = v15 + a5 + 10;
      v75 = v15 + a5 + 11;
      v124 = a2 + v15 + a5 + 15;
      v126 = a2 + v15 + a5 + 16;
      v77 = a1 + 12;
      v78 = a2 + v15 + a5;
      v79 = a2 + v15 + a5 + 1;
      v120 = a2 + v15 + a5 + 13;
      v122 = a2 + v15 + a5 + 14;
      v80 = a2 + v15 + a5 + 2;
      v81 = a2 + v15 + a5 + 3;
      v82 = a2 + v15 + a5 + 4;
      v119 = a2 + v15 + a5 + 12;
      v83 = a2 + v15 + a5 + 5;
      v84 = a2 + v70;
      v85 = a2 + v71;
      v86 = a2 + v72;
      v118 = a2 + v73;
      v18 = 0uLL;
      v87 = a5;
      v117 = a2 + v74;
      v88.i64[0] = 0xFF000000FFLL;
      v88.i64[1] = 0xFF000000FFLL;
      v89 = a2 + v75;
      v90.i64[0] = 0x200000002;
      v90.i64[1] = 0x200000002;
      v91 = a6;
      do
      {
        v92 = v38 + v69;
        v93 = (v77 + v69);
        a10.i8[0] = *(v38 + v69);
        a10.i8[2] = *(v79 + v69);
        a10.i8[4] = *(v80 + v69);
        a10.i8[6] = *(v81 + v69);
        v94 = vandq_s8(vmovl_u16(*a10.i8), v88);
        a11.i32[0] = *(v77 + v69 - 12);
        a12.i32[0] = *(v77 + v69 - 8);
        v95 = vmovl_u8(*a11.i8).u64[0];
        a11.i16[0] = *(v38 + v69 + 3);
        v96 = a11.u8[0];
        a11.i8[0] = *(v78 + v69);
        a11.i8[2] = *(v38 + v69 + 2);
        a11.i16[2] = v96;
        a11.i16[3] = a11.u8[1];
        v97 = vandq_s8(vmovl_u16(*a11.i8), v88);
        v98 = vextq_s8(v18, v97, 0xCuLL);
        v98.i32[0] = *(v38 + v69 + 1);
        v99 = vaddq_s32(v98, v90);
        v99.i32[1] = v99.i32[0];
        v12.i8[0] = *(v82 + v69);
        v12.i8[2] = *(v83 + v69);
        v12.i8[4] = *(v84 + v69);
        v12.i8[6] = *(v85 + v69);
        v100 = vandq_s8(vmovl_u16(*v12.i8), v88);
        v101 = vshrq_n_u32(vaddq_s32(v99, vaddq_s32(vaddq_s32(v94, v97), vextq_s8(v94, v100, 4uLL))), 2uLL);
        v94.i64[0] = vmovl_u8(*a12.i8).u64[0];
        v102 = vmovl_u16(*v94.i8);
        v94.i32[0] = *(v38 + v69 + 5);
        v103 = vmovl_u8(*v94.i8).u64[0];
        a10 = vmovl_u16(v103);
        v104 = vaddw_u16(vaddq_s32(vextq_s8(v97, a10, 0xCuLL), v100), v103);
        a11 = vextq_s8(v100, v18, 4uLL);
        a11.i32[3] = *(v86 + v69);
        v12 = vshrq_n_u32(vaddq_s32(vaddq_s32(v104, v90), a11), 2uLL);
        a12 = vsubq_s32(v102, v12);
        v18 = vaddq_s32(vsubq_s32(vaddw_u16(v18, v95), v101), a12);
        if (a6 == 16)
        {
          a12.i32[0] = *(v93 - 1);
          v95.i32[0] = *v93;
          a12.i64[0] = vmovl_u8(*a12.i8).u64[0];
          v101.i32[0] = *(v92 + 9);
          v105 = vmovl_u8(*v101.i8).u64[0];
          v12.i8[0] = *(v118 + v69);
          v12.i8[2] = *(v117 + v69);
          v12.i8[4] = *(v89 + v69);
          v106 = vmovl_u16(v105);
          v12.i8[6] = *(v119 + v69);
          v107 = vandq_s8(vmovl_u16(*v12.i8), v88);
          v108 = vshrq_n_u32(vaddq_s32(vaddw_u16(vaddq_s32(vextq_s8(a10, v106, 0xCuLL), vextq_s8(a11, v107, 0xCuLL)), v105), vaddq_s32(v107, v90)), 2uLL);
          a11.i64[0] = vmovl_u8(v95).u64[0];
          v95.i32[0] = *(v92 + 13);
          v109 = vmovl_u8(v95).u64[0];
          v13.i8[0] = *(v120 + v69);
          v13.i8[2] = *(v122 + v69);
          v13.i8[4] = *(v124 + v69);
          v13.i8[6] = *(v126 + v69);
          v13 = vandq_s8(vmovl_u16(*v13.i8), v88);
          v12 = vextq_s8(v107, v13, 0xCuLL);
          a10 = vsraq_n_u32(v108, vaddq_s32(vaddw_u16(vaddq_s32(vextq_s8(v106, vmovl_u16(v109), 0xCuLL), v12), v109), vaddq_s32(v13, v90)), 2uLL);
          v18 = vsubq_s32(vaddw_u16(vaddw_u16(v18, *a12.i8), *a11.i8), a10);
        }

        v69 += v87;
        --v91;
      }

      while (v91);
    }

    else
    {
      if (a6 < 1)
      {
        goto LABEL_33;
      }

      v39 = 0;
      v40 = v15 + a5 + 6;
      v41 = v15 + a5 + 7;
      v42 = v15 + a5 + 8;
      v43 = v15 + a5 + 9;
      v44 = v15 + a5 + 10;
      v125 = a2 + v15 + a5 + 15;
      v123 = a2 + v15 + a5 + 14;
      v121 = a2 + v15 + a5 + 13;
      v46 = a1 + 12;
      v47 = a2 + v15 + a5 + 12;
      v48 = a2 + v15 + a5;
      v49 = a2 + v15 + a5 + 1;
      v50 = a2 + v15 + a5 + 2;
      v51 = a2 + v15 + a5 + 3;
      v52 = a2 + v15 + a5 + 11;
      v53 = a2 + v15 + a5 + 4;
      v54 = a2 + v15 + a5 + 5;
      v55 = a2 + v40;
      v56 = a2 + v41;
      v57 = a2 + v42;
      v58 = a2 + v43;
      v59 = a2 + v44;
      v18 = 0uLL;
      v60 = a6;
      do
      {
        v61 = (v46 + v39);
        v62 = v38 + v39;
        a8.i32[0] = *(v46 + v39 - 12);
        a9.i32[0] = *(v46 + v39 - 8);
        a8.i64[0] = vmovl_u8(*a8.i8).u64[0];
        a11.i32[0] = *(v38 + v39);
        a12.i32[0] = *(v38 + v39 + 4);
        v63.i16[0] = *(v48 + v39);
        v63.i16[1] = *(v49 + v39);
        v63.i16[2] = *(v50 + v39);
        v63.i16[3] = *(v51 + v39);
        v64 = vrhadd_u16(*&vmovl_u8(*a11.i8), v63);
        a12.i64[0] = vmovl_u8(*a12.i8).u64[0];
        v65.i16[0] = *(v53 + v39);
        v65.i16[1] = *(v54 + v39);
        v65.i16[2] = *(v55 + v39);
        v65.i16[3] = *(v56 + v39);
        *a11.i8 = vrhadd_u16(*a12.i8, v65);
        a9 = vsubl_u16(*&vmovl_u8(*a9.i8), *a11.i8);
        v18 = vaddq_s32(vsubw_u16(vaddw_u16(v18, *a8.i8), v64), a9);
        if (a6 == 16)
        {
          a8.i32[0] = *(v61 - 1);
          a9.i32[0] = *v61;
          v64.i32[0] = *(v62 + 8);
          a11.i32[0] = *(v62 + 12);
          v66.i16[0] = *(v57 + v39);
          v66.i16[1] = *(v58 + v39);
          v66.i16[2] = *(v59 + v39);
          v66.i16[3] = *(v52 + v39);
          v67 = vrhadd_u16(*&vmovl_u8(v64), v66);
          a9.i64[0] = vmovl_u8(*a9.i8).u64[0];
          a12.i16[0] = *(v47 + v39);
          a12.i16[1] = *(v121 + v39);
          a12.i16[2] = *(v123 + v39);
          a12.i16[3] = *(v125 + v39);
          *a11.i8 = vrhadd_u16(*&vmovl_u8(*a11.i8), *a12.i8);
          v68 = vaddw_u16(vaddw_u16(v18, *&vmovl_u8(*a8.i8)), *a9.i8);
          a8 = vaddl_u16(v67, *a11.i8);
          v18 = vsubq_s32(v68, a8);
        }

        v39 += a5;
        --v60;
      }

      while (v60);
    }
  }

  else
  {
    if (a6 < 1)
    {
      goto LABEL_33;
    }

    v21 = v14 + a2 + 8;
    v22 = (a1 + 8);
    v18 = 0uLL;
    v23 = a6;
    do
    {
      v24 = *(v21 - 6);
      v25 = HIBYTE(v24);
      v26 = v24;
      v27.i32[0] = *(v21 - 7);
      v27.i16[2] = v26;
      v27.i16[3] = v25;
      v28 = vmovl_u16(v27);
      v27.i16[0] = *(v21 - 7);
      v27.i16[1] = v27.i16[0];
      v27.i16[2] = v26;
      v27.i16[3] = v25;
      a10.i32[0] = *(v21 - 4);
      v29 = vmovl_u8(*a10.i8).u64[0];
      v30 = vmovl_u16(v29);
      v31 = vextq_s8(v28, v30, 4uLL);
      v30.i32[0] = *(v22 - 2);
      a12.i32[0] = *(v22 - 1);
      v32 = vmovl_u8(*v30.i8).u64[0];
      v31.i8[0] = *(v21 - 8);
      v33 = vrhadd_u16(v27, (*&vmovn_s32(v31) & 0xFF00FF00FF00FFLL));
      a12.i64[0] = vmovl_u8(*a12.i8).u64[0];
      v27.i32[0] = *(v21 - 3);
      v34 = vmovl_u8(v27).u64[0];
      a10 = vsubl_u16(*a12.i8, vrhadd_u16(v29, v34));
      v18 = vaddq_s32(vsubw_u16(vaddw_u16(v18, v32), v33), a10);
      if (a6 == 16)
      {
        v33.i32[0] = *v22;
        a10.i32[0] = v22[1];
        v32.i32[0] = *(v21 + 1);
        v35 = vmovl_u8(v32).u64[0];
        a12 = vmovl_u16(v35);
        v36 = vrhadd_u16(vmovn_s32(vextq_s8(vmovl_u16(v34), a12, 0xCuLL)), v35);
        a10.i64[0] = vmovl_u8(*a10.i8).u64[0];
        v35.i32[0] = *(v21 + 5);
        v37 = vmovl_u8(v35).u64[0];
        *a12.i8 = vmovn_s32(vextq_s8(a12, vmovl_u16(v37), 0xCuLL));
        v18 = vsubq_s32(vaddw_u16(vaddw_u16(v18, *&vmovl_u8(v33)), *a10.i8), vaddl_u16(v36, vrhadd_u16(*a12.i8, v37)));
      }

      v21 += a5;
      v22 = (v22 + a5);
      --v23;
    }

    while (v23);
  }

LABEL_29:
  v110 = vaddvq_s32(v18);
  if (a6 == 16)
  {
    v112 = v110 + 128;
    v111 = v110 < -128;
    v113 = v110 + 383;
    if (!v111)
    {
      v113 = v112;
    }

    return (v113 >> 8);
  }

LABEL_34:
  v115 = v110 + 32;
  v111 = v110 < -32;
  v116 = v110 + 95;
  if (!v111)
  {
    v116 = v115;
  }

  return (v116 >> 6);
}

uint64_t LHPIntp4(uint64_t result, int a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  v6 = *(a6 + 24);
  v7 = v6 * result;
  v8 = (a5 + v7 + a2);
  v9 = 2 * a3;
  if ((*(a6 + 48) & 0x80) != 0)
  {
    if (a3 >= 1)
    {
      v30 = 0;
      v31 = a3 - 1;
      v32 = v31;
      v33 = v31 - v6;
      v34 = (4 * a3);
      v35 = v34 + a4 + 3;
      v36 = v34 | 2;
      v37 = a2 + v7;
      v38 = (a5 + v6 + v37);
      v39 = a5 + ~v6 + v37;
      v40 = (a4 + 1);
      v41 = a3;
      do
      {
        v42 = 0;
        v43 = v8;
        v44 = v35;
        v45 = v38;
        v46 = v40;
        do
        {
          *(v46 - 1) = (v43[v42] + *(v39 + v42 + 1) + v43[v42 - 1] + *(v39 + v42) + 2) >> 2;
          *v46 = (v43[v42] + *(v39 + v42 + 1) + 1) >> 1;
          v46[v9] = (v43[v42] + v43[v42 - 1] + 1) >> 1;
          ++v42;
          v46 += 2;
        }

        while (a3 != v42);
        *(a4 + v9) = (v43[v32] + v43[a3] + v43[v33] + v43[a3 - v6] + 2) >> 2;
        *(a4 + ((4 * a3) | 1u)) = (v43[v32] + v43[a3] + 1) >> 1;
        v8 = &v43[v6];
        a4 += (4 * a3) | 2u;
        ++v30;
        v35 += v36;
        v38 += v6;
        v39 += v6;
        v40 += v36;
      }

      while (v30 != a3);
      do
      {
        result = *(v43 - 1);
        *(v44 - 1) = (*v45 + *(v45 - 1) + *v43 + result + 2) >> 2;
        v48 = *v45++;
        v47 = v48;
        v49 = *v43++;
        *v44 = (v47 + v49 + 1) >> 1;
        v44 += 2;
        --v41;
      }

      while (v41);
    }
  }

  else if (a3 >= 1)
  {
    v10 = 0;
    v11 = a3 - 1;
    v12 = v11;
    v13 = v11 - v6;
    v14 = (4 * a3);
    v15 = v14 + a4 + 3;
    v16 = v14 | 2;
    v17 = a2 + v7;
    v18 = (a5 + v6 + v17);
    v19 = a5 + ~v6 + v17;
    v20 = (a4 + 1);
    v21 = a3;
    do
    {
      v22 = 0;
      v23 = v8;
      v24 = v15;
      v25 = v18;
      v26 = v20;
      do
      {
        *(v26 - 1) = (v23[v22] + *(v19 + v22 + 1) + v23[v22 - 1] + *(v19 + v22) + 2) >> 2;
        *v26 = (v23[v22] + *(v19 + v22 + 1) + 1) >> 1;
        v26[v9] = (v23[v22] + v23[v22 - 1] + 1) >> 1;
        ++v22;
        v26 += 2;
      }

      while (a3 != v22);
      *(a4 + v9) = (v23[v12] + v23[a3] + v23[v13] + v23[a3 - v6] + 2) >> 2;
      *(a4 + ((4 * a3) | 1u)) = (v23[v12] + v23[a3] + 1) >> 1;
      v8 = &v23[v6];
      a4 += (4 * a3) | 2u;
      ++v10;
      v15 += v16;
      v18 += v6;
      v19 += v6;
      v20 += v16;
    }

    while (v10 != a3);
    do
    {
      result = *(v23 - 1);
      *(v24 - 1) = (*v25 + *(v25 - 1) + *v23 + result + 2) >> 2;
      v28 = *v25++;
      v27 = v28;
      v29 = *v23++;
      *v24 = (v27 + v29 + 1) >> 1;
      v24 += 2;
      --v21;
    }

    while (v21);
  }

  *(a4 + v9) = (v8[a3 - 1] + v8[a3] + v8[a3 - 1 - v6] + v8[a3 - v6] + 2) >> 2;
  return result;
}

char *Motion_CheckSurroundingVectors(char *result, uint64_t a2, int a3, int a4, int a5, int a6, uint64_t a7, uint64_t a8, uint8x8_t *a9, int a10, int a11, int a12, uint64_t a13)
{
  if (a5 < 33)
  {
    v14 = *result;
    if (a5 > -32)
    {
      if ((v14 - a5 - 32) >= 0xFFFFFFC0)
      {
        goto LABEL_3;
      }
    }

    else if (v14 <= 0)
    {
      goto LABEL_3;
    }
  }

  else
  {
    v14 = *result;
    if ((v14 & 0x80000000) == 0)
    {
LABEL_3:
      v15 = 1;
      goto LABEL_7;
    }
  }

  v14 = 0;
  v15 = 0;
LABEL_7:
  if (a6 >= 33)
  {
    v16 = result[1];
    if ((v16 & 0x80000000) == 0)
    {
      goto LABEL_10;
    }

    goto LABEL_9;
  }

  v16 = result[1];
  if (a6 <= -32)
  {
    if (v16 <= 0)
    {
      goto LABEL_10;
    }

LABEL_9:
    v16 = 0;
    v15 = 0;
    goto LABEL_10;
  }

  if ((v16 - a6 - 32) < 0xFFFFFFC0)
  {
    goto LABEL_9;
  }

LABEL_10:
  v17 = (a7 + 32848);
  v18 = 16 * a10;
  v19 = 16 * a11;
  if (v14 >= 32)
  {
    v20 = 32;
  }

  else
  {
    v20 = v14;
  }

  if (a11 == a3)
  {
    v21 = v20;
  }

  else
  {
    v21 = v14;
  }

  if (v16 >= 32)
  {
    v22 = 32;
  }

  else
  {
    v22 = v16;
  }

  if (a10 == a4)
  {
    v23 = v22;
  }

  else
  {
    v23 = v16;
  }

  if ((v21 | v23))
  {
    DHPIntp((v18 + (v23 >> 1)), v19 + (v21 >> 1), v23 & 1, v21 & 1, 16, a7 + 37652, a8, v17);
    result = DHPErr(16, a9, (a7 + 37652), a12, a13, v17);
    if (result < a12)
    {
      *(a2 + 8) = result;
      *a2 = v21;
      *(a2 + 1) = v23;
    }
  }

  else if (v21 | v23)
  {
    v24 = v19 + (v21 >> 1);
    v26 = v18 + (v23 >> 1);
    result = PredErr3(16, a9, (a8 + *(a7 + 32872) * v26 + v24), a12, a13, v17);
    if (result < a12)
    {
      *(a2 + 8) = result;
      *a2 = v21;
      *(a2 + 1) = v23;
      if (v15)
      {
        result = Motion_DoHalfPel(a2, 16, v26, v24, result, a8, a9, a7 + 37652, v17, a13);
        *(a2 + 8) = result;
      }
    }
  }

  return result;
}

int *H263ME_computeBlkStat_old(int *result, uint64_t a2, int a3, int a4, char a5, uint64_t a6)
{
  v6 = a3 * a3;
  v7 = 0;
  if ((a5 & 0x80) == 0)
  {
    if (a3 > 0)
    {
      v8 = 0;
      v9 = a2;
      do
      {
          ;
        }

        ++v7;
        v9 += a4;
      }

      while (v7 != a3);
      v11 = 0;
      v7 = 0;
      v12 = v6 >> 1;
      v13 = (v8 + (v6 >> 1)) / v6;
      do
      {
          ;
        }

        ++v11;
        a2 += a4;
      }

      while (v11 != a3);
      goto LABEL_23;
    }

LABEL_22:
    v12 = v6 >> 1;
    v13 = (v6 >> 1) / v6;
    goto LABEL_23;
  }

  if (a3 <= 0)
  {
    goto LABEL_22;
  }

  v15 = 0;
  v16 = a2;
  do
  {
      ;
    }

    ++v7;
    v16 += a4;
  }

  while (v7 != a3);
  v18 = 0;
  v7 = 0;
  v12 = v6 >> 1;
  v13 = (v15 + (v6 >> 1)) / v6;
  do
  {
      ;
    }

    ++v18;
    a2 += a4;
  }

  while (v18 != a3);
LABEL_23:
  result[1] = v7;
  result[2] = (v7 + v12) / v6;
  *result = v13;
  return result;
}

int *H263ME_BlkStat(int *result, uint64_t a2, int a3, char a4, uint64_t a5, unsigned int *a6)
{
  v7 = a6[9];
  v6 = a6[10];
  if (v7 < v6)
  {
    v12 = 16 * v7;
    LODWORD(v13) = a6[8];
    v14 = &result[66 * v7];
    do
    {
      v15 = a6[7];
      if (v15 < v13)
      {
        v16 = 16 * v15;
        v20 = v12;
        v17 = a2 + (v12 * a3);
        v18 = &v14[3 * v15];
        do
        {
          result = H263ME_computeBlkStat_old(v18, v17 + v16, 16, a3, a4, a5);
          v16 += 16;
          ++v15;
          v13 = a6[8];
          v18 += 3;
        }

        while (v15 < v13);
        v6 = a6[10];
        v12 = v20;
      }

      v12 += 16;
      ++v7;
      v14 += 66;
    }

    while (v7 < v6);
  }

  return result;
}

uint64_t ComputeAvgSAD(uint64_t a1, unsigned int a2, int a3)
{
  if (a3)
  {
    v3 = 0;
    v4 = 0;
    v5 = (a1 + 8);
    do
    {
      if (a2)
      {
        v6 = a2;
        v7 = v5;
        do
        {
          v8 = *v7;
          v7 += 3;
          v4 += v8;
          --v6;
        }

        while (v6);
      }

      ++v3;
      v5 += 72;
    }

    while (v3 != a3);
  }

  else
  {
    v4 = 0;
  }

  return v4 / (a3 * a2);
}

uint64_t InitSharedTables(uint64_t result, int a2)
{
  if (result)
  {
    v3 = result;
    result = COLOR_Init((result + 24), a2);
    if (!result)
    {
      result = InitMacroBlockTables(v3, 0x80u);
      if (!result)
      {
        result = InitMacroBlockTables((v3 + 8), 0xB0u);
        if (!result)
        {
          result = InitMacroBlockTables((v3 + 16), 0x160u);
          if (!result)
          {
            result = InitQuantTables((v3 + 32), a2);
            if (!result)
            {
              result = InitSundryTables((v3 + 48), a2);
              if (!result)
              {

                return InitHuffmanTables(v3 + 40, a2);
              }
            }
          }
        }
      }
    }
  }

  return result;
}

BOOL InitSundryTables(void ***a1, int a2)
{
  if (*a1)
  {
    return 0;
  }

  v5 = MEM_NewClear(2044);
  *a1 = v5;
  if (!v5)
  {
    return 1;
  }

  v6 = v5;
  if (a2)
  {
    result = 0;
    if (a2 == 1)
    {
      v7 = (v6 + 1356);
      *v7 = xmmword_295687D40;
      v7[1] = xmmword_295687D50;
      v7[2] = xmmword_295687D60;
      v7[3] = xmmword_295687D70;
    }
  }

  else
  {
    if (v5[2])
    {
      result = 0;
    }

    else
    {
      (*a1)[2] = MEM_New(4100);
      v8 = *a1;
      v9 = (*a1)[2];
      result = v9 == 0;
      if (!v9)
      {
        return 1;
      }

      v10 = xmmword_295686F50;
      v11 = xmmword_295686F60;
      v12 = v9 + 8;
      v13 = 1028;
      v14 = vdupq_n_s64(0x401uLL);
      v15 = vdupq_n_s64(0x200uLL);
      v16 = vdupq_n_s64(4uLL);
      do
      {
        v17 = vsubq_s64(v15, v11);
        if (vuzp1_s16(vmovn_s64(vcgtq_u64(v14, v11)), *v10.i8).u8[0])
        {
          *(v12 - 2) = v17.i32[0] * v17.i32[0];
        }

        if (vuzp1_s16(vmovn_s64(vcgtq_u64(vdupq_n_s64(0x401uLL), *&v11)), *&v10).i8[2])
        {
          *(v12 - 1) = v17.i32[2] * v17.i32[2];
        }

        v18 = vsubq_s64(v15, v10);
        if (vuzp1_s16(*&v10, vmovn_s64(vcgtq_u64(vdupq_n_s64(0x401uLL), *&v10))).i32[1])
        {
          *v12 = v18.i32[0] * v18.i32[0];
          v12[1] = v18.i32[2] * v18.i32[2];
        }

        v10 = vaddq_s64(v10, v16);
        v11 = vaddq_s64(v11, v16);
        v12 += 4;
        v13 -= 4;
      }

      while (v13);
      v8[3] = v9 + 2048;
      v6 = *a1;
    }

    if (!*(v6 + 1484))
    {
      *(*a1 + 1484) = MEM_New(0x4000);
      v19 = (*a1 + 1484);
      v20 = *v19;
      result = *v19 == 0;
      if (!*v19)
      {
        return 1;
      }

      v21 = 0;
      v22 = xmmword_295686DB0;
      v23.i64[0] = 0x700000007;
      v23.i64[1] = 0x700000007;
      v24 = vdupq_n_s32(0x3EB504F3u);
      v25.i64[0] = 0x400000004;
      v25.i64[1] = 0x400000004;
      do
      {
        *(v20 + v21) = vmulq_f32(vcvtq_f32_s32(vaddq_s32(v22, v23)), v24);
        v22 = vaddq_s32(v22, v25);
        v21 += 16;
      }

      while (v21 != 0x4000);
      v19[3] = v20 + 0x2000;
      v6 = *a1;
    }

    if (!*(v6 + 1492))
    {
      *(*a1 + 1492) = MEM_New(4096);
      v26 = (*a1 + 1492);
      v27 = *v26;
      result = *v26 == 0;
      if (!*v26)
      {
        return 1;
      }

      v28 = 0;
      v29 = xmmword_295686DB0;
      v30.i64[0] = 0x100000001;
      v30.i64[1] = 0x100000001;
      v31 = vdupq_n_s32(0x3EFB14BEu);
      v32.i64[0] = 0x400000004;
      v32.i64[1] = 0x400000004;
      do
      {
        *(v27 + v28) = vmulq_f32(vcvtq_f32_s32(vaddq_s32(v29, v30)), v31);
        v29 = vaddq_s32(v29, v32);
        v28 += 16;
      }

      while (v28 != 4096);
      v26[3] = v27 + 2048;
      v6 = *a1;
    }

    if (!*(v6 + 1500))
    {
      *(*a1 + 1500) = MEM_New(0x2000);
      v33 = (*a1 + 1500);
      v34 = *v33;
      result = *v33 == 0;
      if (!*v33)
      {
        return 1;
      }

      v35 = 0;
      v36 = xmmword_295686DB0;
      v37.i64[0] = 0x300000003;
      v37.i64[1] = 0x300000003;
      v38 = vdupq_n_s32(0x3EEC835Eu);
      v39.i64[0] = 0x400000004;
      v39.i64[1] = 0x400000004;
      do
      {
        *(v34 + v35) = vmulq_f32(vcvtq_f32_s32(vaddq_s32(v36, v37)), v38);
        v36 = vaddq_s32(v36, v39);
        v35 += 16;
      }

      while (v35 != 0x2000);
      v33[3] = v34 + 4096;
    }
  }

  v40 = *a1;
  if (!**a1)
  {
    **a1 = MEM_New(0x10000);
    v41 = *a1;
    v42 = **a1;
    result = v42 == 0;
    if (v42)
    {
      v43 = 0;
      v44 = xmmword_295686DB0;
      v45.i64[0] = 0x200000002000;
      v45.i64[1] = 0x200000002000;
      v46.i64[0] = 0x400000004;
      v46.i64[1] = 0x400000004;
      do
      {
        *&v42[v43] = vsubq_s32(v45, v44);
        v44 = vaddq_s32(v44, v46);
        v43 += 16;
      }

      while (v43 != 0x8000);
      v47 = 0;
      v48 = xmmword_295687D80;
      v49.i64[0] = 0x1F0000001FLL;
      v49.i64[1] = 0x1F0000001FLL;
      v50.i64[0] = 0x400000004;
      v50.i64[1] = 0x400000004;
      do
      {
        *&v42[v47 + 0x8000] = vaddq_s32(v48, v49);
        v48 = vaddq_s32(v48, v50);
        v47 += 16;
      }

      while (v47 != 0x8000);
      v41[1] = v42 + 0x8000;
      v40 = *a1;
      goto LABEL_42;
    }

    return 1;
  }

LABEL_42:
  v51 = 0;
  *(v40 + 32) = 0u;
  *(v40 + 33) = 0u;
  *(v40 + 30) = 0u;
  *(v40 + 31) = 0u;
  *(v40 + 28) = 0u;
  *(v40 + 29) = 0u;
  *(v40 + 26) = 0u;
  *(v40 + 27) = 0u;
  *(v40 + 24) = 0u;
  *(v40 + 25) = 0u;
  *(v40 + 22) = 0u;
  *(v40 + 23) = 0u;
  *(v40 + 20) = 0u;
  *(v40 + 21) = 0u;
  *(v40 + 18) = 0u;
  *(v40 + 19) = 0u;
  *(v40 + 16) = 0u;
  *(v40 + 17) = 0u;
  *(v40 + 14) = 0u;
  *(v40 + 15) = 0u;
  *(v40 + 12) = 0u;
  *(v40 + 13) = 0u;
  *(v40 + 10) = 0u;
  *(v40 + 11) = 0u;
  *(v40 + 8) = 0u;
  *(v40 + 9) = 0u;
  *(v40 + 6) = 0u;
  *(v40 + 7) = 0u;
  *(v40 + 4) = 0u;
  *(v40 + 5) = 0u;
  v52 = xmmword_295687D90;
  v53 = v40 + 68;
  *(v40 + 2) = 0u;
  *(v40 + 3) = 0u;
  v54 = v40 + 100;
  v55.i64[0] = 0x1010101010101010;
  v55.i64[1] = 0x1010101010101010;
  do
  {
    v53[v51++] = v52;
    v52 = vaddq_s8(v52, v55);
  }

  while (v51 != 16);
  *&v56 = -1;
  *(&v56 + 1) = -1;
  v54[30] = v56;
  v54[31] = v56;
  v54[28] = v56;
  v54[29] = v56;
  v54[26] = v56;
  v54[27] = v56;
  v54[24] = v56;
  v54[25] = v56;
  v54[22] = v56;
  v54[23] = v56;
  v54[20] = v56;
  v54[21] = v56;
  v54[18] = v56;
  v54[19] = v56;
  v54[16] = v56;
  v54[17] = v56;
  v54[14] = v56;
  v54[15] = v56;
  v54[12] = v56;
  v54[13] = v56;
  v54[10] = v56;
  v54[11] = v56;
  v54[8] = v56;
  v54[9] = v56;
  v54[6] = v56;
  v54[7] = v56;
  v54[4] = v56;
  v54[5] = v56;
  v54[2] = v56;
  v54[3] = v56;
  *v54 = v56;
  v54[1] = v56;
  (*a1)[164] = *a1 + 68;
  v57 = (*a1 + 1532);
  *v57 = xmmword_295687DA0;
  v57[1] = xmmword_295687DB0;
  v57[2] = xmmword_295687DC0;
  v57[3] = xmmword_295687DD0;
  v57[4] = xmmword_295687DE0;
  v57[5] = xmmword_295687DF0;
  v57[6] = xmmword_295687E00;
  v57[7] = xmmword_295686DB0;
  v57[8] = xmmword_295687E10;
  v57[9] = xmmword_295687E20;
  v57[10] = xmmword_295687E30;
  v57[11] = xmmword_295687E40;
  v57[12] = xmmword_295687E50;
  v57[13] = xmmword_295687E60;
  v57[14] = xmmword_295687E70;
  v57[15] = xmmword_295687E80;
  v57[16] = xmmword_295687CB0;
  v57[17] = xmmword_295687E90;
  v57[18] = xmmword_295687DB0;
  v57[19] = xmmword_295687EA0;
  v57[20] = xmmword_295687EB0;
  v57[21] = xmmword_295687DA0;
  v57[22] = xmmword_295687E40;
  v57[23] = xmmword_295687E20;
  v57[24] = xmmword_295687E00;
  v57[25] = xmmword_295687DE0;
  v57[26] = xmmword_295687E80;
  v57[27] = xmmword_295687EC0;
  v57[28] = xmmword_295687EA0;
  v57[29] = xmmword_295687E70;
  v57[30] = xmmword_295687ED0;
  v57[31] = xmmword_295687EE0;
  v58 = *a1;
  v59 = *a1 + 1324;
  *v59 = xmmword_295687EF0;
  *(v59 + 16) = 0xA0A090909080808;
  *(v58 + 337) = 185273098;
  *(v58 + 676) = 3084;
  *(v58 + 1354) = 12;
  return result;
}

uint64_t KillSharedTables(uint64_t result)
{
  if (result)
  {
    v1 = result;
    result = COLOR_Kill((result + 24));
    if (!result)
    {
      KillSundryTables((v1 + 48));
      result = H263PICT_Kill(v1);
      if (!result)
      {
        result = H263PICT_Kill((v1 + 8));
        if (!result)
        {
          result = H263PICT_Kill((v1 + 16));
          if (!result)
          {
            result = KillQuantTables((v1 + 32));
            if (!result)
            {

              return KillHuffmanTables((v1 + 40));
            }
          }
        }
      }
    }
  }

  return result;
}

uint64_t KillSundryTables(void ***a1)
{
  v2 = *a1;
  if (v2)
  {
    if (v2[2])
    {
      MEM_Dispose(v2[2]);
      (*a1)[2] = 0;
      v2 = *a1;
    }

    if (*v2)
    {
      MEM_Dispose(*v2);
      **a1 = 0;
      v2 = *a1;
    }

    if (*(v2 + 1484))
    {
      MEM_Dispose(*(v2 + 1484));
      *(*a1 + 1484) = 0;
      *(*a1 + 1508) = 0;
      v2 = *a1;
    }

    if (*(v2 + 1492))
    {
      MEM_Dispose(*(v2 + 1492));
      *(*a1 + 1492) = 0;
      *(*a1 + 1516) = 0;
      v2 = *a1;
    }

    if (*(v2 + 1500))
    {
      MEM_Dispose(*(v2 + 1500));
      *(*a1 + 1500) = 0;
      *(*a1 + 1524) = 0;
      v2 = *a1;
    }

    MEM_Dispose(v2);
    *a1 = 0;
  }

  return 0;
}

uint64_t InitSourceInfo(void *a1, int a2, int a3, int a4)
{
  v8 = MEM_NewClear(44);
  *a1 = v8;
  if (!v8 || (a4 - 1) > 2)
  {
    return 1;
  }

  v9 = v8;
  result = 0;
  v11 = (a4 - 1);
  v12 = dword_295687F10[v11];
  v13 = dword_295687F1C[v11];
  v14 = dword_295687F28[v11];
  v15 = dword_295687F34[v11];
  v16 = dword_295687F40[v11];
  LODWORD(v11) = dword_295687F4C[v11];
  v9[4] = v12;
  v9[5] = v13;
  *v9 = v15;
  v9[1] = v16;
  v9[9] = v14;
  v9[10] = a4;
  v9[6] = v11;
  v9[7] = a3;
  v9[8] = a2;
  return result;
}

uint64_t InitGOBGlobals(void *a1)
{
  if (*a1)
  {
    return 0;
  }

  v3 = MEM_NewClear(114);
  *a1 = v3;
  result = 1;
  if (v3)
  {
    v3[3] = 8;
    for (i = 97; i != 114; ++i)
    {
      *(*a1 + i) = 1;
    }

    return 0;
  }

  return result;
}

BOOL InitFrameStore(uint64_t a1, int a2, int a3)
{
  if (*a1)
  {
    return 0;
  }

  v7 = MEM_NewClear(36);
  *a1 = v7;
  if (!v7)
  {
    return 1;
  }

  v8 = a2 + 32;
  v9 = a3 + 32;
  **a1 = MEM_NewClear(v9 * v8);
  if (!**a1)
  {
    return 1;
  }

  v10 = v8 / 2 * v9;
  v11 = (v10 / 2);
  *(*a1 + 8) = MEM_New(v10 / 2);
  if (!*(*a1 + 8))
  {
    return 1;
  }

  if (v10 >= 2)
  {
    v12 = 0;
    do
    {
      *(*(*a1 + 8) + v12++) = 0x80;
    }

    while (v11 != v12);
  }

  *(*a1 + 16) = MEM_New(v10 / 2);
  v13 = *(*a1 + 16);
  result = v13 == 0;
  if (v13)
  {
    v14 = v10 < 2;
  }

  else
  {
    v14 = 1;
  }

  if (!v14)
  {
    v15 = 0;
    do
    {
      *(*(*a1 + 16) + v15++) = 0x80;
    }

    while (v11 != v15);
    return 0;
  }

  return result;
}

uint64_t KillFrameStore(void ***a1)
{
  v2 = *a1;
  if (v2)
  {
    if (*v2)
    {
      MEM_Dispose(*v2);
      **a1 = 0;
      v2 = *a1;
    }

    if (v2[1])
    {
      MEM_Dispose(v2[1]);
      (*a1)[1] = 0;
      v2 = *a1;
    }

    if (v2[2])
    {
      MEM_Dispose(v2[2]);
      (*a1)[2] = 0;
      v2 = *a1;
    }

    MEM_Dispose(v2);
    *a1 = 0;
  }

  return 0;
}

uint64_t InitInstanceGlobals(uint64_t *a1, int a2, int a3, int a4, int a5, int a6, uint64_t a7, void *a8)
{
  v15 = *a1;
  v26 = v15;
  if (v15)
  {
    if (*(v15 + 296254) == a4 && *(v15 + 296246) == a2 && *(v15 + 296250) == a3)
    {
      goto LABEL_6;
    }

    KillInstanceGlobals(&v26);
    v15 = v26;
    if (v26)
    {
      goto LABEL_6;
    }
  }

  v17 = MEM_NewClear(296262);
  if (!v17)
  {
    return 1;
  }

  v15 = v17;
  v18 = v17 + 294912;
  *(v17 + 296238) = a8;
  v17[296254] = a4;
  *(v17 + 296246) = a2;
  *(v17 + 296250) = a3;
  if (InitSourceInfo(v17 + 296174, a3, a2, a4))
  {
    return 1;
  }

  v25 = a8;
  result = InitMacroBlock((v18 + 1270));
  if (!result)
  {
    result = InitQuantization((v15 + 296206));
    if (!result)
    {
      v19 = v18 + 1278;
      if (!*(v18 + 1278))
      {
        v20 = MEM_NewClear(2052);
        *v19 = v20;
        if (!v20)
        {
          return 1;
        }
      }

      result = H263PICT_Init((v15 + 296214));
      if (!result)
      {
        if (InitGOBGlobals((v15 + 296222)))
        {
          return 1;
        }

        result = H263ME_Init((v15 + 296198), a6);
        if (!result)
        {
          if (!InitStream((v15 + 296230)) && !InitFrameStore(v15 + 24, a2, a3) && !InitFrameStore(v15 + 32, a2, a3) && (a5 || !InitFrameStore(v15 + 40, a2, a3)))
          {
            v21 = *(v15 + 66);
            if (v21)
            {
              MEM_Dispose(v21);
              *(v15 + 66) = 0;
            }

            v22 = *(v15 + 58);
            if (v22)
            {
              MEM_Dispose(v22);
              *(v15 + 58) = 0;
            }

            v23 = *(v15 + 74);
            if (v23)
            {
              MEM_Dispose(v23);
              *(v15 + 74) = 0;
            }

            *v15 = a2;
            *(v15 + 4) = a2 >> 1;
            *(v15 + 8) = a2 >> 1;
            *(v15 + 12) = a3;
            *(v15 + 16) = a3 >> 1;
            *(v15 + 20) = a3 >> 1;
            *(*v19 + 8) = 0;
            switch(a4)
            {
              case 1:
                goto LABEL_36;
              case 3:
                v24 = a8 + 2;
                goto LABEL_35;
              case 2:
                v24 = a8 + 1;
LABEL_35:
                v25 = v24;
LABEL_36:
                **(v18 + 1270) = *v25;
LABEL_6:
                result = 0;
                *(v15 + 296258) = 0;
                *a1 = v15;
                return result;
            }
          }

          return 1;
        }
      }
    }
  }

  return result;
}

uint64_t KillInstanceGlobals(uint64_t *a1)
{
  v1 = *a1;
  if (!*a1)
  {
    return 0;
  }

  v3 = *(v1 + 296174);
  if (v3)
  {
    MEM_Dispose(v3);
    *(v1 + 296174) = 0;
    v1 = *a1;
  }

  result = KillMacroBlock((v1 + 296182));
  if (!result)
  {
    result = KillQuantization((*a1 + 296206));
    if (!result)
    {
      v5 = *a1;
      v6 = *(*a1 + 296190);
      if (v6)
      {
        MEM_Dispose(v6);
        *(v5 + 296190) = 0;
        v5 = *a1;
      }

      result = H263PICT_Kill((v5 + 296214));
      if (!result)
      {
        v7 = *a1;
        v8 = *(*a1 + 296222);
        if (v8)
        {
          MEM_Dispose(v8);
          *(v7 + 296222) = 0;
          v7 = *a1;
        }

        result = H263PICT_Kill((v7 + 296198));
        if (!result)
        {
          v9 = *a1;
          v10 = *(*a1 + 296230);
          if (v10)
          {
            MEM_Dispose(v10);
            *(v9 + 296230) = 0;
            v9 = *a1;
          }

          KillFrameStore((v9 + 24));
          KillFrameStore((*a1 + 32));
          KillFrameStore((*a1 + 40));
          v11 = *a1;
          if (*(*a1 + 66))
          {
            MEM_Dispose(*(*a1 + 66));
            *(*a1 + 66) = 0;
            v11 = *a1;
          }

          if (*(v11 + 58))
          {
            MEM_Dispose(*(v11 + 58));
            *(*a1 + 58) = 0;
            v11 = *a1;
          }

          if (*(v11 + 74))
          {
            MEM_Dispose(*(v11 + 74));
            *(*a1 + 74) = 0;
            v11 = *a1;
          }

          MEM_Dispose(v11);
          result = 0;
          *a1 = 0;
        }
      }
    }
  }

  return result;
}

uint64_t InitStream(char **a1)
{
  v2 = *a1;
  if (!v2)
  {
    v2 = MEM_NewClear(172);
    *a1 = v2;
    if (!v2)
    {
      return 1;
    }
  }

  v3 = 0;
  v4 = xmmword_295686F50;
  v5 = xmmword_295686F60;
  v6 = (v2 + 44);
  v7 = vdupq_n_s64(0x21uLL);
  v8 = vdupq_n_s64(4uLL);
  do
  {
    if (vuzp1_s16(vmovn_s64(vcgtq_u64(v7, v5)), *v4.i8).u8[0])
    {
      *(v6 - 3) = ~(-1 << v3);
    }

    if (vuzp1_s16(vmovn_s64(vcgtq_u64(vdupq_n_s64(0x21uLL), *&v5)), *&v4).i8[2])
    {
      *(v6 - 2) = ~(-2 << v3);
    }

    if (vuzp1_s16(*&v4, vmovn_s64(vcgtq_u64(vdupq_n_s64(0x21uLL), *&v4))).i32[1])
    {
      *(v6 - 1) = ~(-4 << v3);
      *v6 = ~(-8 << v3);
    }

    v3 += 4;
    v4 = vaddq_s64(v4, v8);
    v5 = vaddq_s64(v5, v8);
    v6 += 4;
  }

  while (v3 != 36);
  return 0;
}

uint64_t VCH263VideoEncoder_EncodeFrame(uint64_t a1, uint64_t a2, __CVBuffer *a3, CMTime *a4, uint64_t a5, uint64_t a6, unsigned int *a7)
{
  VTVideoEncoderGetCMBaseObject();
  DerivedStorage = CMBaseObjectGetDerivedStorage();
  v10 = 0;
  blockBufferOut = 0;
  sampleSizeArray[0] = 0;
  memset(&sampleTimingArray, 0, sizeof(sampleTimingArray));
  sampleBufferOut = 0;
  v62 = 0;
  dataPointerOut = 0;
  dataLength = 0;
  v61 = 0;
  v59 = 0;
  if (*(DerivedStorage + 8))
  {
    goto LABEL_9;
  }

  *(&bytes.value + 3) = 655980;
  LODWORD(bytes.value) = 1819308129;
  v11 = *MEMORY[0x29EDB8ED8];
  v12 = CFDataCreate(*MEMORY[0x29EDB8ED8], &bytes, 7);
  if (v12)
  {
    v13 = v12;
    Mutable = CFDictionaryCreateMutable(v11, 0, MEMORY[0x29EDB9010], MEMORY[0x29EDB9020]);
    if (Mutable)
    {
      v15 = Mutable;
      v10 = CFDictionaryCreateMutable(v11, 0, MEMORY[0x29EDB9010], MEMORY[0x29EDB9020]);
      if (v10)
      {
        CFDictionaryAddValue(v15, @"d263", v13);
        CFDictionaryAddValue(v10, *MEMORY[0x29EDB92C8], v15);
        CFDictionaryAddValue(v10, *MEMORY[0x29EDB92B8], @"H.263");
        v16 = 0;
      }

      else
      {
        OUTLINED_FUNCTION_0();
        v16 = FigSignalErrorAtGM();
      }

      CFRelease(v15);
    }

    else
    {
      OUTLINED_FUNCTION_0();
      v16 = FigSignalErrorAtGM();
      v10 = 0;
    }

    CFRelease(v13);
    if (!v16)
    {
LABEL_8:
      v17 = *DerivedStorage;
      v18 = *(DerivedStorage + 40);
      v19 = *(DerivedStorage + 44);
      VideoFormatDescription = VTEncoderSessionCreateVideoFormatDescription();
      if (VideoFormatDescription)
      {
        goto LABEL_35;
      }

LABEL_9:
      v21 = OUTLINED_FUNCTION_2();
      CVPixelBufferLockBaseAddress(v21, v22);
      BytesPerRow = CVPixelBufferGetBytesPerRow(a3);
      Width = CVPixelBufferGetWidth(a3);
      Height = CVPixelBufferGetHeight(a3);
      BaseAddress = CVPixelBufferGetBaseAddress(a3);
      v27 = OUTLINED_FUNCTION_2();
      *(DerivedStorage + 168) = CVPixelBufferGetBaseAddressOfPlane(v27, v28);
      *(DerivedStorage + 176) = CVPixelBufferGetBaseAddressOfPlane(a3, 1uLL);
      *(DerivedStorage + 184) = CVPixelBufferGetBaseAddressOfPlane(a3, 2uLL);
      v29 = OUTLINED_FUNCTION_2();
      *(DerivedStorage + 192) = CVPixelBufferGetBytesPerRowOfPlane(v29, v30);
      *(DerivedStorage + 196) = CVPixelBufferGetBytesPerRowOfPlane(a3, 1uLL);
      *(DerivedStorage + 200) = CVPixelBufferGetBytesPerRowOfPlane(a3, 2uLL);
      v31 = *(DerivedStorage + 16);
      v32 = *(v31 + 296222);
      *(v32 + 24) = 0u;
      v32 += 24;
      *(v32 - 16) = v32;
      *(v32 - 8) = v32 + 72;
      *(v32 + 64) = 0;
      *(v32 + 32) = 0u;
      *(v32 + 48) = 0u;
      *(v32 + 16) = 0u;
      v33 = *(v31 + 296174);
      *(v33 + 8) = Width;
      *(v33 + 12) = Height;
      LODWORD(v33) = *(DerivedStorage + 164);
      *(DerivedStorage + 164) = v33 + 1;
      v34 = *(v31 + 296190);
      *(v34 + 4) = v33;
      *(v34 + 8) = v33 + 1;
      if ((*(a5 + 12) & 0x1D) == 1)
      {
        OUTLINED_FUNCTION_1();
        time2 = **&MEMORY[0x29EDB93A0];
        if (CMTimeCompare(&bytes, &time2) >= 1)
        {
          OUTLINED_FUNCTION_1();
          *(DerivedStorage + 208) = (CMTimeGetSeconds(&bytes) * 1000.0);
        }
      }

      v35 = *(DerivedStorage + 144);
      *(DerivedStorage + 48) = BaseAddress;
      *(DerivedStorage + 56) = Width;
      *(DerivedStorage + 60) = Height;
      *(DerivedStorage + 64) = BytesPerRow;
      *(DerivedStorage + 72) = &v62;
      *(DerivedStorage + 80) = &v61;
      *(DerivedStorage + 88) = 0x1079343230;
      *(DerivedStorage + 96) = v35;
      *(DerivedStorage + 104) = &dataLength;
      *(DerivedStorage + 112) = &v59;
      *(DerivedStorage + 120) = 7;
      if (*(DerivedStorage + 232))
      {
        v36 = *(DerivedStorage + 212);
      }

      else
      {
        v36 = 1;
      }

      v37 = *(DerivedStorage + 204);
      if (!v37)
      {
        v37 = 819200;
      }

      v38 = *(DerivedStorage + 236);
      if (v38 == 45)
      {
        v39 = 128000;
      }

      else
      {
        if (v38 != 10)
        {
LABEL_23:
          LODWORD(bytes.value) = v61;
          v40 = *(DerivedStorage + 208);
          if (!v40)
          {
            v40 = 33;
          }

          if (!v36)
          {
            v36 = 30;
          }

          v41 = H263CMPR_CompressMaster(*(DerivedStorage + 16), *(DerivedStorage + 24), BaseAddress, Width, Height, BytesPerRow, v62, &bytes, *(DerivedStorage + 224), 0x79343230u, 16, v35, 0, 1, v37, v40, v36, *(DerivedStorage + 216), (DerivedStorage + 168), (DerivedStorage + 192));
          v42 = *(DerivedStorage + 80);
          *v42 = LODWORD(bytes.value);
          v43 = *(DerivedStorage + 16);
          **(DerivedStorage + 104) = (4 * *(*(v43 + 296230) + 8));
          if (*(*(v43 + 296190) + 52))
          {
            v44 = *v42;
            v45 = *(DerivedStorage + 112);
            v46 = MEMORY[0x29EDB8ED8];
            if (v44)
            {
              *v45 = 0x800000;
            }

            else
            {
              *v45 = 0;
            }
          }

          else
          {
            **(DerivedStorage + 112) = 16711680;
            v46 = MEMORY[0x29EDB8ED8];
          }

          *(DerivedStorage + 128) = v41;
          sampleSizeArray[0] = dataLength;
          v47 = *v46;
          VideoFormatDescription = CMBlockBufferCreateWithMemoryBlock(*v46, 0, dataLength, *(DerivedStorage + 152), 0, 0, dataLength, 1u, &blockBufferOut);
          if (VideoFormatDescription)
          {
            goto LABEL_35;
          }

          sampleTimingArray.presentationTimeStamp = *a4;
          sampleTimingArray.decodeTimeStamp = **&MEMORY[0x29EDB9398];
          *&sampleTimingArray.duration.value = *a5;
          sampleTimingArray.duration.epoch = *(a5 + 16);
          VideoFormatDescription = CMSampleBufferCreate(v47, blockBufferOut, 1u, 0, 0, *(DerivedStorage + 8), 1, 1, &sampleTimingArray, 1, sampleSizeArray, &sampleBufferOut);
          if (VideoFormatDescription)
          {
            goto LABEL_35;
          }

          VideoFormatDescription = CMBlockBufferGetDataPointer(blockBufferOut, 0, 0, 0, &dataPointerOut);
          if (VideoFormatDescription)
          {
            goto LABEL_35;
          }

          bzero(dataPointerOut, dataLength);
          memcpy(dataPointerOut, *(DerivedStorage + 144), dataLength);
          v49 = OUTLINED_FUNCTION_2();
          CVPixelBufferUnlockBaseAddress(v49, v50);
          if (!v59)
          {
            goto LABEL_46;
          }

          SampleAttachmentsArray = CMSampleBufferGetSampleAttachmentsArray(sampleBufferOut, 1u);
          if (SampleAttachmentsArray)
          {
            ValueAtIndex = CFArrayGetValueAtIndex(SampleAttachmentsArray, 0);
            CFDictionarySetValue(ValueAtIndex, *MEMORY[0x29EDB9388], *MEMORY[0x29EDB8F00]);
LABEL_46:
            v53 = *DerivedStorage;
            v54 = *a7;
            VTEncoderSessionEmitEncodedFrame();
            v16 = 0;
            goto LABEL_36;
          }

          OUTLINED_FUNCTION_0();
          VideoFormatDescription = FigSignalErrorAtGM();
LABEL_35:
          v16 = VideoFormatDescription;
          goto LABEL_36;
        }

        v39 = 64000;
      }

      if (v37 >= v39)
      {
        v37 = v39;
      }

      goto LABEL_23;
    }
  }

  else
  {
    OUTLINED_FUNCTION_0();
    v16 = FigSignalErrorAtGM();
    v10 = 0;
    if (!v16)
    {
      goto LABEL_8;
    }
  }

LABEL_36:
  if (blockBufferOut)
  {
    CFRelease(blockBufferOut);
  }

  if (sampleBufferOut)
  {
    CFRelease(sampleBufferOut);
  }

  if (v10)
  {
    CFRelease(v10);
  }

  return v16;
}