double sub_1000348A0@<D0>(uint64_t *a1@<X8>)
{
  v2 = String._bridgeToObjectiveC()();
  v3 = sub_100006658(v2);

  v47 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v5 = v4;

  v6 = String._bridgeToObjectiveC()();
  v7 = sub_100006658(v6);

  v8 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v10 = v9;

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  v13 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v15 = v14;

  sub_10000E6C4(&qword_1001023A0, &qword_1000BD268);
  v16 = swift_allocObject();
  *(v16 + 16) = xmmword_1000BD050;
  *(v16 + 32) = v13;
  *(v16 + 40) = v15;
  *(v16 + 48) = 0;
  *(v16 + 56) = 8;
  v17 = type metadata accessor for HomePodSetupViewModel(0);
  v18 = v17[6];
  v19 = type metadata accessor for AdjustedMovie(0);
  (*(*(v19 - 8) + 56))(a1 + v18, 1, 1, v19);
  v20 = v17[28];
  v21 = type metadata accessor for AdjustedImage(0);
  (*(*(v21 - 8) + 56))(a1 + v20, 1, 1, v21);
  v22 = v17[58];
  v23 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
  (*(*(v23 - 8) + 56))(a1 + v22, 1, 1, v23);
  v24 = a1 + v17[14];
  *(v24 + 4) = 0;
  *v24 = 0u;
  *(v24 + 1) = 0u;
  v25 = String._bridgeToObjectiveC()();
  v26 = String._bridgeToObjectiveC()();
  Int64 = CFPrefs_GetInt64();

  sub_1000660A0(v48);
  *a1 = v47;
  a1[1] = v5;
  a1[2] = v8;
  a1[3] = v10;
  v28 = (a1 + v17[7]);
  *v28 = 0;
  v28[1] = 0xE000000000000000;
  v29 = (a1 + v17[8]);
  *v29 = 0;
  v29[1] = 0xE000000000000000;
  v30 = (a1 + v17[9]);
  *v30 = 0;
  v30[1] = 0xE000000000000000;
  *(a1 + v17[10]) = v16;
  *(a1 + v17[11]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[12]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[13]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[15]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[16]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[17]) = Int64 != 0;
  v31 = a1 + v17[18];
  *v31 = 0;
  v31[4] = 1;
  *(a1 + v17[19]) = 1;
  v32 = (a1 + v17[20]);
  v33 = v48[3];
  v32[2] = v48[2];
  v32[3] = v33;
  v32[4] = v48[4];
  v34 = v48[1];
  *v32 = v48[0];
  v32[1] = v34;
  v35 = (a1 + v17[21]);
  result = 0.0;
  v35[3] = 0u;
  v35[4] = 0u;
  v35[1] = 0u;
  v35[2] = 0u;
  *v35 = 0u;
  *(a1 + v17[22]) = 0;
  *(a1 + v17[23]) = 0;
  v37 = (a1 + v17[24]);
  *v37 = 0;
  v37[1] = 0;
  v38 = (a1 + v17[25]);
  *v38 = 0;
  v38[1] = 0;
  v39 = (a1 + v17[26]);
  *v39 = 0;
  v39[1] = 0;
  *(a1 + v17[27]) = 0;
  *(a1 + v17[29]) = 0;
  *(a1 + v17[30]) = 0;
  *(a1 + v17[31]) = 0;
  v40 = a1 + v17[32];
  *v40 = 0;
  v40[8] = 1;
  *(a1 + v17[33]) = 0;
  *(a1 + v17[34]) = 0;
  *(a1 + v17[35]) = 0;
  *(a1 + v17[36]) = 0;
  *(a1 + v17[37]) = 0;
  v41 = (a1 + v17[38]);
  *v41 = 0;
  v41[1] = 0xE000000000000000;
  *(a1 + v17[39]) = 0;
  *(a1 + v17[40]) = 0;
  *(a1 + v17[41]) = 0;
  *(a1 + v17[42]) = 0;
  *(a1 + v17[43]) = 0;
  *(a1 + v17[44]) = 0;
  v42 = (a1 + v17[45]);
  *v42 = 0;
  v42[1] = 0xE000000000000000;
  *(a1 + v17[46]) = 0;
  v43 = (a1 + v17[47]);
  *v43 = 0;
  v43[1] = 0xE000000000000000;
  *(a1 + v17[48]) = 0;
  v44 = (a1 + v17[49]);
  *v44 = 0;
  v44[1] = 0;
  *(a1 + v17[50]) = 0;
  *(a1 + v17[51]) = 0;
  *(a1 + v17[52]) = 0;
  v45 = (a1 + v17[53]);
  *v45 = 0;
  v45[1] = 0;
  *(a1 + v17[54]) = 0;
  v46 = (a1 + v17[55]);
  *v46 = 0;
  v46[1] = 0xE000000000000000;
  *(a1 + v17[56]) = 0;
  *(a1 + v17[57]) = 1;
  return result;
}

double sub_100034D5C@<D0>(uint64_t *a1@<X8>)
{
  v2 = String._bridgeToObjectiveC()();
  v3 = sub_100006658(v2);

  v47 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v5 = v4;

  v6 = String._bridgeToObjectiveC()();
  v7 = sub_100006658(v6);

  v8 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v10 = v9;

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  v13 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v15 = v14;

  sub_10000E6C4(&qword_1001023A0, &qword_1000BD268);
  v16 = swift_allocObject();
  *(v16 + 16) = xmmword_1000BD050;
  *(v16 + 32) = v13;
  *(v16 + 40) = v15;
  *(v16 + 48) = 0;
  *(v16 + 56) = 8;
  v17 = type metadata accessor for HomePodSetupViewModel(0);
  v18 = v17[6];
  v19 = type metadata accessor for AdjustedMovie(0);
  (*(*(v19 - 8) + 56))(a1 + v18, 1, 1, v19);
  v20 = v17[28];
  v21 = type metadata accessor for AdjustedImage(0);
  (*(*(v21 - 8) + 56))(a1 + v20, 1, 1, v21);
  v22 = v17[58];
  v23 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
  (*(*(v23 - 8) + 56))(a1 + v22, 1, 1, v23);
  v24 = a1 + v17[14];
  *(v24 + 4) = 0;
  *v24 = 0u;
  *(v24 + 1) = 0u;
  v25 = String._bridgeToObjectiveC()();
  v26 = String._bridgeToObjectiveC()();
  Int64 = CFPrefs_GetInt64();

  sub_1000660A0(v48);
  *a1 = v47;
  a1[1] = v5;
  a1[2] = v8;
  a1[3] = v10;
  v28 = (a1 + v17[7]);
  *v28 = 0;
  v28[1] = 0xE000000000000000;
  v29 = (a1 + v17[8]);
  *v29 = 0;
  v29[1] = 0xE000000000000000;
  v30 = (a1 + v17[9]);
  *v30 = 0;
  v30[1] = 0xE000000000000000;
  *(a1 + v17[10]) = v16;
  *(a1 + v17[11]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[12]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[13]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[15]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[16]) = &_swiftEmptyArrayStorage;
  *(a1 + v17[17]) = Int64 != 0;
  v31 = a1 + v17[18];
  *v31 = 0;
  v31[4] = 1;
  *(a1 + v17[19]) = 1;
  v32 = (a1 + v17[20]);
  v33 = v48[3];
  v32[2] = v48[2];
  v32[3] = v33;
  v32[4] = v48[4];
  v34 = v48[1];
  *v32 = v48[0];
  v32[1] = v34;
  v35 = (a1 + v17[21]);
  result = 0.0;
  v35[3] = 0u;
  v35[4] = 0u;
  v35[1] = 0u;
  v35[2] = 0u;
  *v35 = 0u;
  *(a1 + v17[22]) = 0;
  *(a1 + v17[23]) = 0;
  v37 = (a1 + v17[24]);
  *v37 = 0;
  v37[1] = 0;
  v38 = (a1 + v17[25]);
  *v38 = 0;
  v38[1] = 0;
  v39 = (a1 + v17[26]);
  *v39 = 0;
  v39[1] = 0;
  *(a1 + v17[27]) = 0;
  *(a1 + v17[29]) = 0;
  *(a1 + v17[30]) = 0;
  *(a1 + v17[31]) = 0;
  v40 = a1 + v17[32];
  *v40 = 0;
  v40[8] = 1;
  *(a1 + v17[33]) = 0;
  *(a1 + v17[34]) = 0;
  *(a1 + v17[35]) = 0;
  *(a1 + v17[36]) = 0;
  *(a1 + v17[37]) = 0;
  v41 = (a1 + v17[38]);
  *v41 = 0;
  v41[1] = 0xE000000000000000;
  *(a1 + v17[39]) = 0;
  *(a1 + v17[40]) = 0;
  *(a1 + v17[41]) = 0;
  *(a1 + v17[42]) = 0;
  *(a1 + v17[43]) = 0;
  *(a1 + v17[44]) = 0;
  v42 = (a1 + v17[45]);
  *v42 = 0;
  v42[1] = 0xE000000000000000;
  *(a1 + v17[46]) = 0;
  v43 = (a1 + v17[47]);
  *v43 = 0;
  v43[1] = 0xE000000000000000;
  *(a1 + v17[48]) = 0;
  v44 = (a1 + v17[49]);
  *v44 = 0;
  v44[1] = 0;
  *(a1 + v17[50]) = 0;
  *(a1 + v17[51]) = 0;
  *(a1 + v17[52]) = 0;
  v45 = (a1 + v17[53]);
  *v45 = 0;
  v45[1] = 0;
  *(a1 + v17[54]) = 0;
  v46 = (a1 + v17[55]);
  *v46 = 0;
  v46[1] = 0xE000000000000000;
  *(a1 + v17[56]) = 0;
  *(a1 + v17[57]) = 1;
  return result;
}

uint64_t sub_10003521C@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X8>)
{
  v4 = sub_10000E6C4(&qword_100101FC0, &unk_1000BE590);
  v5 = *(*(v4 - 8) + 64);
  __chkstk_darwin(v4 - 8);
  v56 = &v53 - v6;
  if (qword_1001015F8 != -1)
  {
    swift_once();
  }

  v7 = type metadata accessor for Logger();
  sub_100012AAC(v7, qword_100101EF0);
  v8 = Logger.logObject.getter();
  v9 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v8, v9))
  {
    v10 = swift_slowAlloc();
    *v10 = 0;
    _os_log_impl(&_mh_execute_header, v8, v9, "HomePodSetupViewModel: createDone2ViewModel", v10, 2u);
  }

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  v13 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v15 = v14;

  v16 = String._bridgeToObjectiveC()();
  v17 = sub_100006658(v16);

  v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v20 = v19;

  v21 = type metadata accessor for HomePodSetupViewModel(0);
  v22 = v21[6];
  v23 = type metadata accessor for AdjustedMovie(0);
  (*(*(v23 - 8) + 56))(a2 + v22, 1, 1, v23);
  sub_10003ACF0(a1);
  v25 = v24;
  sub_10004E01C(0, 0, a2 + v21[28]);
  v26 = v21[58];
  v55 = v26;
  v27 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
  (*(*(v27 - 8) + 56))(a2 + v26, 1, 1, v27);
  v28 = a2 + v21[14];
  *(v28 + 4) = 0;
  *v28 = 0u;
  *(v28 + 1) = 0u;
  v29 = String._bridgeToObjectiveC()();
  v30 = String._bridgeToObjectiveC()();
  Int64 = CFPrefs_GetInt64();
  v54 = a1;
  v32 = Int64;

  sub_1000660A0(v57);
  *a2 = v13;
  a2[1] = v15;
  a2[2] = v18;
  a2[3] = v20;
  v33 = (a2 + v21[7]);
  *v33 = 0;
  v33[1] = 0xE000000000000000;
  v34 = (a2 + v21[8]);
  *v34 = 0;
  v34[1] = 0xE000000000000000;
  v35 = (a2 + v21[9]);
  *v35 = 0;
  v35[1] = 0xE000000000000000;
  *(a2 + v21[10]) = v25;
  *(a2 + v21[11]) = &_swiftEmptyArrayStorage;
  *(a2 + v21[12]) = &_swiftEmptyArrayStorage;
  *(a2 + v21[13]) = &_swiftEmptyArrayStorage;
  *(a2 + v21[15]) = &_swiftEmptyArrayStorage;
  *(a2 + v21[16]) = &_swiftEmptyArrayStorage;
  *(a2 + v21[17]) = v32 != 0;
  v36 = a2 + v21[18];
  *v36 = 0;
  v36[4] = 1;
  *(a2 + v21[19]) = 1;
  v37 = (a2 + v21[20]);
  v38 = v57[3];
  v37[2] = v57[2];
  v37[3] = v38;
  v37[4] = v57[4];
  v39 = v57[1];
  *v37 = v57[0];
  v37[1] = v39;
  v40 = (a2 + v21[21]);
  v40[3] = 0u;
  v40[4] = 0u;
  v40[1] = 0u;
  v40[2] = 0u;
  *v40 = 0u;
  *(a2 + v21[22]) = 0;
  *(a2 + v21[23]) = 0;
  v41 = (a2 + v21[24]);
  *v41 = 0;
  v41[1] = 0;
  v42 = (a2 + v21[25]);
  *v42 = 0;
  v42[1] = 0;
  v43 = (a2 + v21[26]);
  *v43 = 0;
  v43[1] = 0;
  *(a2 + v21[27]) = 0;
  *(a2 + v21[29]) = 0;
  *(a2 + v21[30]) = 0;
  *(a2 + v21[31]) = 0;
  v44 = a2 + v21[32];
  *v44 = 0;
  v44[8] = 1;
  *(a2 + v21[33]) = 0;
  *(a2 + v21[34]) = 0;
  *(a2 + v21[35]) = 0;
  *(a2 + v21[36]) = 0;
  *(a2 + v21[37]) = 0;
  v45 = (a2 + v21[38]);
  *v45 = 0;
  v45[1] = 0xE000000000000000;
  *(a2 + v21[39]) = 0;
  *(a2 + v21[40]) = 0;
  *(a2 + v21[41]) = 0;
  *(a2 + v21[42]) = 0;
  *(a2 + v21[43]) = 0;
  *(a2 + v21[44]) = 0;
  v46 = (a2 + v21[45]);
  *v46 = 0;
  v46[1] = 0xE000000000000000;
  *(a2 + v21[46]) = 0;
  v47 = (a2 + v21[47]);
  *v47 = 0;
  v47[1] = 0xE000000000000000;
  *(a2 + v21[48]) = 0;
  v48 = (a2 + v21[49]);
  *v48 = 0;
  v48[1] = 0;
  *(a2 + v21[50]) = 0;
  *(a2 + v21[51]) = 0;
  *(a2 + v21[52]) = 0;
  v49 = (a2 + v21[53]);
  *v49 = 0;
  v49[1] = 0;
  *(a2 + v21[54]) = 0;
  v50 = (a2 + v21[55]);
  *v50 = 0;
  v50[1] = 0xE000000000000000;
  *(a2 + v21[56]) = 0;
  *(a2 + v21[57]) = 1;
  v51 = v56;
  sub_1000379DC(v54, 0, 0, v56);
  return sub_10003A9C0(v51, a2 + v55);
}

__n128 sub_10003576C@<Q0>(uint64_t a1@<X0>, char *a2@<X8>)
{
  if (qword_1001015F8 != -1)
  {
    swift_once();
  }

  v3 = type metadata accessor for Logger();
  sub_100012AAC(v3, qword_100101EF0);
  v4 = Logger.logObject.getter();
  v5 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v4, v5))
  {
    v6 = swift_slowAlloc();
    *v6 = 0;
    _os_log_impl(&_mh_execute_header, v4, v5, "HomePodSetupViewModel: createSoftwareUpdateForHomePodViewModel2", v6, 2u);
  }

  v7 = String._bridgeToObjectiveC()();
  v8 = sub_100006658(v7);

  v9 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v83 = v10;
  v84 = v9;

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  v13 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v15 = v14;

  v16 = String._bridgeToObjectiveC()();
  v17 = sub_100006658(v16);

  v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v78 = v19;
  v79 = v18;

  sub_10000E6C4(&qword_1001023A0, &qword_1000BD268);
  v20 = swift_allocObject();
  *(v20 + 16) = xmmword_1000BD050;
  *(v20 + 32) = v13;
  *(v20 + 40) = v15;
  *(v20 + 48) = 0;
  *(v20 + 56) = 1;
  v21 = String._bridgeToObjectiveC()();
  v22 = sub_100006658(v21);

  v23 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v25 = v24;

  v26 = sub_1000535F8(1, 2, 1, v20);
  v26[2] = 2;
  v26[8] = v23;
  v26[9] = v25;
  v26[10] = 1;
  *(v26 + 88) = 2;
  v27 = [objc_opt_self() systemFontOfSize:80.0 weight:UIFontWeightRegular];
  v28 = objc_opt_self();
  v29 = [v28 configurationWithFont:v27];

  v30 = [objc_opt_self() tertiaryLabelColor];
  v31 = [v28 configurationWithHierarchicalColor:v30];

  v32 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_otherDeviceModelCode) == 5;
  v33 = String._bridgeToObjectiveC()();

  v34 = [objc_opt_self() _systemImageNamed:v33];

  v82 = v29;
  v35 = [v34 imageByApplyingSymbolConfiguration:v29];

  v81 = v31;
  v36 = [v35 imageByApplyingSymbolConfiguration:v31];

  v37 = v36;
  if (!v36)
  {
    v37 = [objc_allocWithZone(UIImage) init];
  }

  v38 = type metadata accessor for HomePodSetupViewModel(0);
  v39 = v38[6];
  v40 = type metadata accessor for AdjustedMovie(0);
  (*(*(v40 - 8) + 56))(&a2[v39], 1, 1, v40);
  sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
  v41 = swift_allocObject();
  *(v41 + 16) = xmmword_1000BCE00;
  *(v41 + 32) = v37;
  v42 = v38[28];
  v43 = type metadata accessor for AdjustedImage(0);
  (*(*(v43 - 8) + 56))(&a2[v42], 1, 1, v43);
  v44 = v38[58];
  v45 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
  (*(*(v45 - 8) + 56))(&a2[v44], 1, 1, v45);
  v46 = &a2[v38[14]];
  *(v46 + 4) = 0;
  *v46 = 0u;
  *(v46 + 1) = 0u;
  v47 = v36;
  v48 = v37;
  v49 = String._bridgeToObjectiveC()();
  v50 = String._bridgeToObjectiveC()();
  Int64 = CFPrefs_GetInt64();

  sub_1000660A0(v85);
  *a2 = v84;
  *(a2 + 1) = v83;
  *(a2 + 2) = v79;
  *(a2 + 3) = v78;
  v52 = &a2[v38[7]];
  *v52 = 0;
  *(v52 + 1) = 0xE000000000000000;
  v53 = &a2[v38[8]];
  *v53 = 0;
  *(v53 + 1) = 0xE000000000000000;
  v54 = &a2[v38[9]];
  *v54 = 0;
  *(v54 + 1) = 0xE000000000000000;
  *&a2[v38[10]] = v26;
  *&a2[v38[11]] = v41;
  *&a2[v38[12]] = &_swiftEmptyArrayStorage;
  *&a2[v38[13]] = &_swiftEmptyArrayStorage;
  *&a2[v38[15]] = &_swiftEmptyArrayStorage;
  *&a2[v38[16]] = &_swiftEmptyArrayStorage;
  a2[v38[17]] = Int64 != 0;
  v55 = &a2[v38[18]];
  *v55 = 0;
  v55[4] = 1;
  *&a2[v38[19]] = 1;
  v56 = &a2[v38[20]];
  v57 = v85[3];
  *(v56 + 2) = v85[2];
  *(v56 + 3) = v57;
  *(v56 + 4) = v85[4];
  v58 = v85[1];
  *v56 = v85[0];
  *(v56 + 1) = v58;
  v59 = &a2[v38[21]];
  *(v59 + 3) = 0u;
  *(v59 + 4) = 0u;
  *(v59 + 1) = 0u;
  *(v59 + 2) = 0u;
  *v59 = 0u;
  *&a2[v38[22]] = 0;
  *&a2[v38[23]] = 0;
  v60 = &a2[v38[24]];
  *v60 = 0;
  *(v60 + 1) = 0;
  v61 = &a2[v38[25]];
  *v61 = 0;
  *(v61 + 1) = 0;
  v62 = &a2[v38[26]];
  *v62 = 0;
  *(v62 + 1) = 0;
  a2[v38[27]] = 0;
  a2[v38[29]] = 0;
  *&a2[v38[30]] = 0;
  *&a2[v38[31]] = 0;
  v64 = v38[32];
  v63 = v38[33];
  a2[v38[34]] = 0;
  a2[v38[35]] = 0;
  *&a2[v38[36]] = 0;
  *&a2[v38[37]] = 0;
  v65 = &a2[v38[38]];
  *v65 = 0;
  *(v65 + 1) = 0xE000000000000000;
  a2[v38[39]] = 0;
  a2[v38[40]] = 0;
  *&a2[v38[41]] = 0;
  a2[v38[42]] = 0;
  a2[v38[43]] = 0;
  a2[v38[44]] = 0;
  v66 = &a2[v38[45]];
  *v66 = 0;
  *(v66 + 1) = 0xE000000000000000;
  a2[v38[46]] = 0;
  v67 = &a2[v64];
  v68 = &a2[v38[47]];
  *v68 = 0;
  *(v68 + 1) = 0xE000000000000000;
  a2[v38[48]] = 0;
  v69 = &a2[v38[49]];
  *v69 = 0;
  *(v69 + 1) = 0;
  a2[v38[50]] = 0;
  *&a2[v38[51]] = 0;
  *&a2[v38[52]] = 0;
  v70 = &a2[v38[53]];
  *v70 = 0;
  *(v70 + 1) = 0;
  *&a2[v38[54]] = 0;
  v71 = &a2[v38[55]];
  *v71 = 0;
  *(v71 + 1) = 0xE000000000000000;
  *&a2[v38[56]] = 0;
  a2[v38[57]] = 1;
  *v67 = 1;
  v67[8] = 0;
  a2[v63] = 1;
  v72 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_homeName);
  v73 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_homeName + 8);

  sub_10006629C(v72, v73, v86);

  v74 = *(v59 + 3);
  v87[2] = *(v59 + 2);
  v87[3] = v74;
  v87[4] = *(v59 + 4);
  v75 = *(v59 + 1);
  v87[0] = *v59;
  v87[1] = v75;
  sub_10000EBA4(v87, &unk_100102650, &qword_1000BD2B8);
  v76 = v86[3];
  *(v59 + 2) = v86[2];
  *(v59 + 3) = v76;
  *(v59 + 4) = v86[4];
  result = v86[1];
  *v59 = v86[0];
  *(v59 + 1) = result;
  return result;
}

void sub_100035FD4(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  v6 = String._bridgeToObjectiveC()();

  if (a2)
  {
    *&v89[0] = 0x72655F6473;
    *(&v89[0] + 1) = 0xE500000000000000;
    AnyHashable.init<A>(_:)();
    if (*(a2 + 16) && (v7 = sub_100053B3C(v90), (v8 & 1) != 0))
    {
      sub_10000EA58(*(a2 + 56) + 32 * v7, v88);
      sub_10000EA04(v90);
      sub_10000E9F4(v88, v89);
      sub_10000E9F4(v89, v90);
      swift_dynamicCast();
    }

    else
    {
      sub_10000EA04(v90);
    }

    *&v89[0] = 0x64655F6473;
    *(&v89[0] + 1) = 0xE500000000000000;
    AnyHashable.init<A>(_:)();
    if (*(a2 + 16) && (v9 = sub_100053B3C(v90), (v10 & 1) != 0))
    {
      sub_10000EA58(*(a2 + 56) + 32 * v9, v88);
      sub_10000EA04(v90);
      sub_10000E9F4(v88, v89);
      sub_10000E9F4(v89, v90);
      if (swift_dynamicCast())
      {
      }
    }

    else
    {
      sub_10000EA04(v90);
    }

    *&v89[0] = 0x65645F6473;
    *(&v89[0] + 1) = 0xE500000000000000;
    AnyHashable.init<A>(_:)();
    if (*(a2 + 16) && (v11 = sub_100053B3C(v90), (v12 & 1) != 0))
    {
      sub_10000EA58(*(a2 + 56) + 32 * v11, v88);
      sub_10000EA04(v90);
      sub_10000E9F4(v88, v89);
      sub_10000E9F4(v89, v90);
      if (swift_dynamicCast())
      {
      }
    }

    else
    {
      sub_10000EA04(v90);
    }

    [objc_opt_self() sysDropBuildMode];
    v13 = String._bridgeToObjectiveC()();
    v14 = sub_100006658(v13);

    v15 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v86 = v16;
  }

  else
  {
    v15 = 0;
    v86 = 0xE000000000000000;
  }

  v17 = objc_opt_self();
  v18 = [v17 sysDropBuildMode];
  v19 = &_swiftEmptyArrayStorage;
  v87 = v15;
  switch(v18)
  {
    case 1u:
      *&v90[0] = 0;
      *(&v90[0] + 1) = 0xE000000000000000;
      v43 = String._bridgeToObjectiveC()();
      v44 = CUAddSuffixForCurrentDeviceClass();

      if (v44)
      {
        v45 = sub_100006658(v44);

        v46 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v48 = v47;

        v49._countAndFlagsBits = v46;
        v49._object = v48;
        String.append(_:)(v49);

        v85 = v90[0];
        v50 = String._bridgeToObjectiveC()();
        v51 = sub_100006658(v50);

        v25 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v27 = v52;

        v19 = sub_1000535F8(0, 1, 1, &_swiftEmptyArrayStorage);
        v29 = v19[2];
        v53 = v19[3];
        v30 = v29 + 1;
        if (v29 >= v53 >> 1)
        {
          v19 = sub_1000535F8((v53 > 1), v29 + 1, 1, v19);
        }

        v31 = 17;
        goto LABEL_32;
      }

      break;
    case 2u:
      *&v90[0] = 0;
      *(&v90[0] + 1) = 0xE000000000000000;
      v32 = String._bridgeToObjectiveC()();
      v33 = CUAddSuffixForCurrentDeviceClass();

      if (v33)
      {
        v34 = sub_100006658(v33);

        v35 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v37 = v36;

        v38._countAndFlagsBits = v35;
        v38._object = v37;
        String.append(_:)(v38);

        v85 = v90[0];
        v39 = String._bridgeToObjectiveC()();
        v40 = sub_100006658(v39);

        v25 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v27 = v41;

        v19 = sub_1000535F8(0, 1, 1, &_swiftEmptyArrayStorage);
        v29 = v19[2];
        v42 = v19[3];
        v30 = v29 + 1;
        if (v29 >= v42 >> 1)
        {
          v19 = sub_1000535F8((v42 > 1), v29 + 1, 1, v19);
        }

        v31 = 26;
        goto LABEL_32;
      }

      __break(1u);
      break;
    case 3u:
      v20 = String._bridgeToObjectiveC()();
      v21 = sub_100006658(v20);

      *&v85 = static String._unconditionallyBridgeFromObjectiveC(_:)();
      *(&v85 + 1) = v22;

      v23 = String._bridgeToObjectiveC()();
      v24 = sub_100006658(v23);

      v25 = static String._unconditionallyBridgeFromObjectiveC(_:)();
      v27 = v26;

      v19 = sub_1000535F8(0, 1, 1, &_swiftEmptyArrayStorage);
      v29 = v19[2];
      v28 = v19[3];
      v30 = v29 + 1;
      if (v29 >= v28 >> 1)
      {
        v19 = sub_1000535F8((v28 > 1), v29 + 1, 1, v19);
      }

      v31 = 33;
LABEL_32:
      v19[2] = v30;
      v54 = &v19[4 * v29];
      v54[4] = v25;
      v54[5] = v27;
      v54[6] = 0;
      *(v54 + 56) = v31;
LABEL_34:
      v55 = type metadata accessor for HomePodSetupViewModel(0);
      v56 = v55[6];
      v57 = type metadata accessor for AdjustedMovie(0);
      (*(*(v57 - 8) + 56))(a3 + v56, 1, 1, v57);
      sub_10004E01C(0, 0, a3 + v55[28]);
      v59 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sysdropPath);
      v58 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sysdropPath + 8);

      v60 = [v17 sysDropBuildMode];
      v61 = v55[58];
      v62 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
      (*(*(v62 - 8) + 56))(a3 + v61, 1, 1, v62);
      v63 = a3 + v55[14];
      *(v63 + 32) = 0;
      *v63 = 0u;
      *(v63 + 16) = 0u;
      v64 = String._bridgeToObjectiveC()();
      v65 = String._bridgeToObjectiveC()();
      Int64 = CFPrefs_GetInt64();

      sub_1000660A0(v90);
      *a3 = v87;
      *(a3 + 8) = v86;
      *(a3 + 16) = v85;
      v67 = (a3 + v55[7]);
      *v67 = 0;
      v67[1] = 0xE000000000000000;
      v68 = (a3 + v55[8]);
      *v68 = 0;
      v68[1] = 0xE000000000000000;
      v69 = (a3 + v55[9]);
      *v69 = 0;
      v69[1] = 0xE000000000000000;
      *(a3 + v55[10]) = v19;
      *(a3 + v55[11]) = &_swiftEmptyArrayStorage;
      *(a3 + v55[12]) = &_swiftEmptyArrayStorage;
      *(a3 + v55[13]) = &_swiftEmptyArrayStorage;
      *(a3 + v55[15]) = &_swiftEmptyArrayStorage;
      *(a3 + v55[16]) = &_swiftEmptyArrayStorage;
      *(a3 + v55[17]) = Int64 != 0;
      v70 = a3 + v55[18];
      *v70 = 0;
      *(v70 + 4) = 1;
      *(a3 + v55[19]) = 1;
      v71 = (a3 + v55[20]);
      v72 = v90[3];
      v71[2] = v90[2];
      v71[3] = v72;
      v71[4] = v90[4];
      v73 = v90[1];
      *v71 = v90[0];
      v71[1] = v73;
      v74 = (a3 + v55[21]);
      v74[3] = 0u;
      v74[4] = 0u;
      v74[1] = 0u;
      v74[2] = 0u;
      *v74 = 0u;
      *(a3 + v55[22]) = 0;
      *(a3 + v55[23]) = 0;
      v75 = (a3 + v55[24]);
      *v75 = 0;
      v75[1] = 0;
      v76 = (a3 + v55[25]);
      *v76 = 0;
      v76[1] = 0;
      v77 = (a3 + v55[26]);
      *v77 = 0;
      v77[1] = 0;
      *(a3 + v55[27]) = 0;
      *(a3 + v55[29]) = 0;
      *(a3 + v55[30]) = 0;
      *(a3 + v55[31]) = 0;
      v78 = a3 + v55[32];
      *v78 = 0;
      *(v78 + 8) = 1;
      *(a3 + v55[33]) = 0;
      *(a3 + v55[34]) = 0;
      *(a3 + v55[35]) = 0;
      *(a3 + v55[36]) = 0;
      *(a3 + v55[37]) = 0;
      v79 = (a3 + v55[38]);
      *v79 = 0;
      v79[1] = 0xE000000000000000;
      *(a3 + v55[39]) = 0;
      *(a3 + v55[40]) = 1;
      *(a3 + v55[41]) = 0;
      *(a3 + v55[42]) = 0;
      *(a3 + v55[43]) = 0;
      *(a3 + v55[44]) = 0;
      v80 = (a3 + v55[45]);
      *v80 = 0;
      v80[1] = 0xE000000000000000;
      *(a3 + v55[46]) = 0;
      v81 = (a3 + v55[47]);
      *v81 = 0;
      v81[1] = 0xE000000000000000;
      *(a3 + v55[48]) = 0;
      v82 = (a3 + v55[49]);
      *v82 = v59;
      v82[1] = v58;
      *(a3 + v55[50]) = 0;
      *(a3 + v55[51]) = v60;
      *(a3 + v55[52]) = 0;
      v83 = (a3 + v55[53]);
      *v83 = 0;
      v83[1] = 0;
      *(a3 + v55[54]) = 0;
      v84 = (a3 + v55[55]);
      *v84 = 0;
      v84[1] = 0xE000000000000000;
      *(a3 + v55[56]) = 0;
      *(a3 + v55[57]) = 1;
      return;
    default:
      *&v85 = 0;
      *(&v85 + 1) = 0xE000000000000000;
      goto LABEL_34;
  }

  __break(1u);
}

void sub_1000369BC(uint64_t a1@<X1>, char *a2@<X8>)
{
  v4 = String._bridgeToObjectiveC()();

  if (!a1)
  {
    v18 = 0;
    v27 = 0;
    v13 = 0.0;
    v20 = 0xE000000000000000;
    v29 = 0xE000000000000000;
    v57 = 0xE000000000000000;
    v58 = 0;
    goto LABEL_32;
  }

  *&v60[0] = 0x72655F6473;
  *(&v60[0] + 1) = 0xE500000000000000;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v5 = sub_100053B3C(v61), (v6 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v5, v59);
    sub_10000EA04(v61);
    sub_10000E9F4(v59, v60);
    sub_10000E9F4(v60, v61);
    swift_dynamicCast();
  }

  else
  {
    sub_10000EA04(v61);
  }

  *&v60[0] = 0x64655F6473;
  *(&v60[0] + 1) = 0xE500000000000000;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v7 = sub_100053B3C(v61), (v8 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v7, v59);
    sub_10000EA04(v61);
    sub_10000E9F4(v59, v60);
    sub_10000E9F4(v60, v61);
    if (swift_dynamicCast())
    {
    }
  }

  else
  {
    sub_10000EA04(v61);
  }

  *&v60[0] = 0x65645F6473;
  *(&v60[0] + 1) = 0xE500000000000000;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v9 = sub_100053B3C(v61), (v10 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v9, v59);
    sub_10000EA04(v61);
    sub_10000E9F4(v59, v60);
    sub_10000E9F4(v60, v61);
    if (swift_dynamicCast())
    {
    }
  }

  else
  {
    sub_10000EA04(v61);
  }

  *&v60[0] = 0x72705F70725F6473;
  *(&v60[0] + 1) = 0xE800000000000000;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v11 = sub_100053B3C(v61), (v12 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v11, v59);
    sub_10000EA04(v61);
    sub_10000E9F4(v59, v60);
    sub_10000E9F4(v60, v61);
    if (swift_dynamicCast())
    {
      v13 = *v59;
    }

    else
    {
      v13 = 0.0;
    }
  }

  else
  {
    sub_10000EA04(v61);
    v13 = 0.0;
  }

  *&v59[0] = 0x74705F6473;
  *(&v59[0] + 1) = 0xE500000000000000;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v14 = sub_100053B3C(v61), (v15 & 1) == 0))
  {
    sub_10000EA04(v61);
    goto LABEL_29;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v14, v60);
  sub_10000EA04(v61);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_29:
    v18 = 0;
    v20 = 0xE000000000000000;
    goto LABEL_30;
  }

  if (*&v59[0] < 0xFFFFFFFF80000000)
  {
    __break(1u);
  }

  else if (*&v59[0] <= 0x7FFFFFFF)
  {
    v16 = String._bridgeToObjectiveC()();
    v17 = sub_100006658(v16);

    v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v20 = v19;

LABEL_30:
    v21 = String._bridgeToObjectiveC()();
    v22 = sub_100006658(v21);

    v23 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v57 = v24;
    v58 = v23;

    v25 = String._bridgeToObjectiveC()();
    v26 = sub_100006658(v25);

    v27 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v29 = v28;

LABEL_32:
    v30 = type metadata accessor for HomePodSetupViewModel(0);
    v31 = v30[6];
    v32 = type metadata accessor for AdjustedMovie(0);
    (*(*(v32 - 8) + 56))(&a2[v31], 1, 1, v32);
    sub_10004E01C(0, 0, &a2[v30[28]]);
    v33 = v30[58];
    v34 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
    (*(*(v34 - 8) + 56))(&a2[v33], 1, 1, v34);
    v35 = &a2[v30[14]];
    *(v35 + 4) = 0;
    *v35 = 0u;
    *(v35 + 1) = 0u;
    v36 = String._bridgeToObjectiveC()();
    v37 = String._bridgeToObjectiveC()();
    Int64 = CFPrefs_GetInt64();

    sub_1000660A0(v61);
    *a2 = v58;
    *(a2 + 1) = v57;
    *(a2 + 2) = v27;
    *(a2 + 3) = v29;
    v39 = &a2[v30[7]];
    *v39 = 0;
    *(v39 + 1) = 0xE000000000000000;
    v40 = &a2[v30[8]];
    *v40 = 0;
    *(v40 + 1) = 0xE000000000000000;
    v41 = &a2[v30[9]];
    *v41 = v18;
    v41[1] = v20;
    *&a2[v30[10]] = &_swiftEmptyArrayStorage;
    *&a2[v30[11]] = &_swiftEmptyArrayStorage;
    *&a2[v30[12]] = &_swiftEmptyArrayStorage;
    *&a2[v30[13]] = &_swiftEmptyArrayStorage;
    *&a2[v30[15]] = &_swiftEmptyArrayStorage;
    *&a2[v30[16]] = &_swiftEmptyArrayStorage;
    a2[v30[17]] = Int64 != 0;
    v42 = &a2[v30[18]];
    *v42 = 0;
    v42[4] = 1;
    *&a2[v30[19]] = 1;
    v43 = &a2[v30[20]];
    v44 = v61[3];
    *(v43 + 2) = v61[2];
    *(v43 + 3) = v44;
    *(v43 + 4) = v61[4];
    v45 = v61[1];
    *v43 = v61[0];
    *(v43 + 1) = v45;
    v46 = &a2[v30[21]];
    *(v46 + 3) = 0u;
    *(v46 + 4) = 0u;
    *(v46 + 1) = 0u;
    *(v46 + 2) = 0u;
    *v46 = 0u;
    *&a2[v30[22]] = 0;
    *&a2[v30[23]] = 0;
    v47 = &a2[v30[24]];
    *v47 = 0;
    *(v47 + 1) = 0;
    v48 = &a2[v30[25]];
    *v48 = 0;
    *(v48 + 1) = 0;
    v49 = &a2[v30[26]];
    *v49 = 0;
    *(v49 + 1) = 0;
    a2[v30[27]] = 0;
    a2[v30[29]] = 0;
    *&a2[v30[30]] = 0;
    *&a2[v30[31]] = 0;
    v50 = &a2[v30[32]];
    *v50 = 0;
    v50[8] = 1;
    a2[v30[33]] = 0;
    a2[v30[34]] = 0;
    a2[v30[35]] = 0;
    *&a2[v30[36]] = 0;
    *&a2[v30[37]] = 0;
    v51 = &a2[v30[38]];
    *v51 = 0;
    *(v51 + 1) = 0xE000000000000000;
    a2[v30[39]] = 1;
    a2[v30[40]] = 1;
    *&a2[v30[41]] = v13;
    a2[v30[42]] = 0;
    a2[v30[43]] = 0;
    a2[v30[44]] = 0;
    v52 = &a2[v30[45]];
    *v52 = 0;
    *(v52 + 1) = 0xE000000000000000;
    a2[v30[46]] = 0;
    v53 = &a2[v30[47]];
    *v53 = 0;
    *(v53 + 1) = 0xE000000000000000;
    a2[v30[48]] = 0;
    v54 = &a2[v30[49]];
    *v54 = 0;
    *(v54 + 1) = 0;
    a2[v30[50]] = 0;
    *&a2[v30[51]] = 0;
    *&a2[v30[52]] = 0;
    v55 = &a2[v30[53]];
    *v55 = 0;
    *(v55 + 1) = 0;
    *&a2[v30[54]] = 0;
    v56 = &a2[v30[55]];
    *v56 = 0;
    *(v56 + 1) = 0xE000000000000000;
    *&a2[v30[56]] = 0;
    a2[v30[57]] = 1;
    return;
  }

  __break(1u);
}

void sub_100037200(uint64_t a1@<X0>, uint64_t *a2@<X8>)
{
  v4 = [objc_allocWithZone(CNContactStore) init];
  sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
  v5 = swift_allocObject();
  *(v5 + 16) = xmmword_1000BCE00;
  *(v5 + 32) = CNContactGivenNameKey;
  v6 = CNContactGivenNameKey;

  sub_10000E6C4(&qword_100102380, &qword_1000BD260);
  isa = Array._bridgeToObjectiveC()().super.isa;

  *&v67[0] = 0;
  v8 = [v4 _crossPlatformUnifiedMeContactWithKeysToFetch:isa error:v67];

  if (v8)
  {
    v9 = *&v67[0];
    v10 = [v8 givenName];
    v11 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v13 = v12;
  }

  else
  {
    v14 = *&v67[0];
    _convertNSErrorToError(_:)();

    swift_willThrow();
    v15 = _convertErrorToNSError(_:)();
    if (qword_1001015F8 != -1)
    {
      swift_once();
    }

    v16 = type metadata accessor for Logger();
    sub_100012AAC(v16, qword_100101EF0);
    v17 = v15;
    v18 = Logger.logObject.getter();
    v19 = static os_log_type_t.error.getter();

    if (os_log_type_enabled(v18, v19))
    {
      v20 = swift_slowAlloc();
      v21 = swift_slowAlloc();
      *v20 = 138412290;
      *(v20 + 4) = v17;
      *v21 = v17;
      v22 = v17;
      _os_log_impl(&_mh_execute_header, v18, v19, "HomePodSetupViewModel: Open Settings failed {error: %@}", v20, 0xCu);
      sub_10000EBA4(v21, &qword_100101E38, &unk_1000BCF80);
    }

    else
    {
    }

    v11 = 0;
    v13 = 0xE000000000000000;
  }

  v23 = HIBYTE(v13) & 0xF;
  if ((v13 & 0x2000000000000000) == 0)
  {
    v23 = v11 & 0xFFFFFFFFFFFFLL;
  }

  if (v23)
  {
    v24 = v4;

LABEL_20:
    v31 = String._bridgeToObjectiveC()();
    v32 = sub_100006658(v31);

    static String._unconditionallyBridgeFromObjectiveC(_:)();
    sub_10000E6C4(&qword_100102388, qword_1000BE250);
    v33 = swift_allocObject();
    *(v33 + 16) = xmmword_1000BD050;
    *(v33 + 56) = &type metadata for String;
    *(v33 + 64) = sub_100039F8C();
    *(v33 + 32) = v11;
    *(v33 + 40) = v13;
    v34 = String.init(format:_:)();
    v36 = v35;

    v37 = type metadata accessor for HomePodSetupViewModel(0);
    v38 = v37[6];
    v39 = type metadata accessor for AdjustedMovie(0);
    (*(*(v39 - 8) + 56))(a2 + v38, 1, 1, v39);
    v40 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_progressEvent);
    v41 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_siriDialogInfo);
    v42 = v37[28];

    sub_10004E01C(0, 0, a2 + v42);
    v43 = v37[58];
    v44 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
    (*(*(v44 - 8) + 56))(a2 + v43, 1, 1, v44);
    v45 = a2 + v37[14];
    *(v45 + 4) = 0;
    *v45 = 0u;
    *(v45 + 1) = 0u;
    v46 = String._bridgeToObjectiveC()();
    v47 = String._bridgeToObjectiveC()();
    Int64 = CFPrefs_GetInt64();

    sub_1000660A0(v67);
    *a2 = v34;
    a2[1] = v36;
    a2[2] = 0;
    a2[3] = 0xE000000000000000;
    v49 = (a2 + v37[7]);
    *v49 = 0;
    v49[1] = 0xE000000000000000;
    v50 = (a2 + v37[8]);
    *v50 = 0;
    v50[1] = 0xE000000000000000;
    v51 = (a2 + v37[9]);
    *v51 = 0;
    v51[1] = 0xE000000000000000;
    *(a2 + v37[10]) = &_swiftEmptyArrayStorage;
    *(a2 + v37[11]) = &_swiftEmptyArrayStorage;
    *(a2 + v37[12]) = &_swiftEmptyArrayStorage;
    *(a2 + v37[13]) = &_swiftEmptyArrayStorage;
    *(a2 + v37[15]) = &_swiftEmptyArrayStorage;
    *(a2 + v37[16]) = &_swiftEmptyArrayStorage;
    *(a2 + v37[17]) = Int64 != 0;
    v52 = a2 + v37[18];
    *v52 = v40;
    v52[4] = 0;
    *(a2 + v37[19]) = 1;
    v53 = (a2 + v37[20]);
    v54 = v67[3];
    v53[2] = v67[2];
    v53[3] = v54;
    v53[4] = v67[4];
    v55 = v67[1];
    *v53 = v67[0];
    v53[1] = v55;
    v56 = (a2 + v37[21]);
    v56[3] = 0u;
    v56[4] = 0u;
    v56[1] = 0u;
    v56[2] = 0u;
    *v56 = 0u;
    *(a2 + v37[22]) = v41;
    *(a2 + v37[23]) = 0;
    v57 = (a2 + v37[24]);
    *v57 = 0;
    v57[1] = 0;
    v58 = (a2 + v37[25]);
    *v58 = 0;
    v58[1] = 0;
    v59 = (a2 + v37[26]);
    *v59 = 0;
    v59[1] = 0;
    *(a2 + v37[27]) = 0;
    *(a2 + v37[29]) = 0;
    *(a2 + v37[30]) = 0;
    *(a2 + v37[31]) = 0;
    v60 = a2 + v37[32];
    *v60 = 0;
    v60[8] = 1;
    *(a2 + v37[33]) = 0;
    *(a2 + v37[34]) = 0;
    *(a2 + v37[35]) = 0;
    *(a2 + v37[36]) = 0;
    *(a2 + v37[37]) = 0;
    v61 = (a2 + v37[38]);
    *v61 = 0;
    v61[1] = 0xE000000000000000;
    *(a2 + v37[39]) = 0;
    *(a2 + v37[40]) = 0;
    *(a2 + v37[41]) = 0;
    *(a2 + v37[42]) = 0;
    *(a2 + v37[43]) = 0;
    *(a2 + v37[44]) = 0;
    v62 = (a2 + v37[45]);
    *v62 = 0;
    v62[1] = 0xE000000000000000;
    *(a2 + v37[46]) = 0;
    v63 = (a2 + v37[47]);
    *v63 = 0;
    v63[1] = 0xE000000000000000;
    *(a2 + v37[48]) = 0;
    v64 = (a2 + v37[49]);
    *v64 = 0;
    v64[1] = 0;
    *(a2 + v37[50]) = 0;
    *(a2 + v37[51]) = 0;
    *(a2 + v37[52]) = 0;
    v65 = (a2 + v37[53]);
    *v65 = 0;
    v65[1] = 0;
    *(a2 + v37[54]) = 0;
    v66 = (a2 + v37[55]);
    *v66 = 0;
    v66[1] = 0xE000000000000000;
    *(a2 + v37[56]) = 0;
    *(a2 + v37[57]) = 1;
    return;
  }

  v25 = [objc_opt_self() defaultStore];
  if (v25)
  {
    v26 = v25;

    v27 = [v26 aa_primaryAppleAccount];

    if (v27)
    {
      v28 = [v27 aa_firstName];
      v24 = v4;
      if (v28)
      {
        v29 = v28;
        v11 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v13 = v30;

        goto LABEL_20;
      }
    }

    else
    {
      v24 = v4;
    }

    v11 = 0;
    v13 = 0xE000000000000000;
    goto LABEL_20;
  }

  __break(1u);
}

uint64_t sub_1000379DC@<X0>(uint64_t a1@<X0>, int a2@<W1>, int a3@<W2>, uint64_t a4@<X8>)
{
  LODWORD(v177) = a3;
  v170 = a2;
  v174 = a4;
  v5 = type metadata accessor for AdjustedImage(0);
  v6 = *(v5 - 8);
  v7 = *(v6 + 64);
  v8 = __chkstk_darwin(v5);
  v165 = &v163 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  v173 = &v163 - v10;
  v11 = sub_10000E6C4(&qword_100101F08, &unk_1000BD100);
  v12 = *(*(v11 - 8) + 64);
  v13 = __chkstk_darwin(v11 - 8);
  v15 = &v163 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  v16 = __chkstk_darwin(v13);
  v18 = &v163 - v17;
  v19 = __chkstk_darwin(v16);
  v21 = &v163 - v20;
  __chkstk_darwin(v19);
  v23 = &v163 - v22;
  v24 = type metadata accessor for URL();
  v180 = *(v24 - 8);
  v181 = v24;
  v25 = *(v180 + 64);
  v26 = __chkstk_darwin(v24);
  v175 = &v163 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v26);
  v29 = (&v163 - v28);
  v30 = sub_10000E6C4(&unk_100102610, &unk_1000BD130);
  v31 = *(*(v30 - 8) + 64);
  v32 = __chkstk_darwin(v30 - 8);
  v167 = &v163 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0);
  v34 = __chkstk_darwin(v32);
  v166 = &v163 - v35;
  v36 = __chkstk_darwin(v34);
  v172 = &v163 - v37;
  v38 = __chkstk_darwin(v36);
  v40 = &v163 - v39;
  __chkstk_darwin(v38);
  v183 = v6;
  v41 = *(v6 + 56);
  v179 = &v163 - v42;
  v41();
  v178 = v40;
  v182 = v5;
  v169 = v6 + 56;
  v168 = v41;
  (v41)(v40, 1, 1, v5);
  v43 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundle;
  v184 = a1;
  v44 = *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundle);
  v171 = "NOT_NOW_BUTTON_TITLE";
  v45 = String._bridgeToObjectiveC()();
  v176 = objc_opt_self();
  v46 = [v176 imageNamed:v45 inBundle:v44];

  v47 = &unk_100101000;
  if (!v46)
  {
LABEL_10:
    if (v47[191] != -1)
    {
      swift_once();
    }

    v56 = type metadata accessor for Logger();
    sub_100012AAC(v56, qword_100101EF0);
    v57 = Logger.logObject.getter();
    v58 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v57, v58))
    {
      v59 = swift_slowAlloc();
      *v59 = 0;
      _os_log_impl(&_mh_execute_header, v57, v58, "HomePodSetupViewModel createStereoPairImages: leftHomePod failed to create", v59, 2u);
    }

    v60 = *(v184 + v43);
    v61 = String._bridgeToObjectiveC()();
    v62 = [v176 imageNamed:v61 inBundle:v60];

    if (!v62)
    {
      v62 = Logger.logObject.getter();
      v63 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v62, v63))
      {
        v64 = swift_slowAlloc();
        *v64 = 0;
        _os_log_impl(&_mh_execute_header, v62, v63, "HomePodSetupViewModel createStereoPairImages: UIImage(named: ProxCard_StereoPairUnit, in: model.assetBundle) == nil", v64, 2u);
      }
    }

    v65 = *(v184 + v43);
    if (v65)
    {
      v66 = [v65 URLForResource:SFDeviceAssetNameAdjustments withExtension:0];
      v68 = v180;
      v67 = v181;
      if (v66)
      {
        v69 = v66;
        static URL._unconditionallyBridgeFromObjectiveC(_:)();

        v70 = 0;
      }

      else
      {
        v70 = 1;
      }

      v71 = *(v68 + 56);
      v71(v15, v70, 1, v67);
      sub_10003B8EC(v15, v18, &qword_100101F08, &unk_1000BD100);
      if ((*(v68 + 48))(v18, 1, v67) != 1)
      {
        sub_10000EBA4(v18, &qword_100101F08, &unk_1000BD100);
LABEL_31:
        v83 = v178;
        goto LABEL_32;
      }
    }

    else
    {
      v71 = *(v180 + 56);
      v71(v18, 1, 1, v181);
    }

    sub_10000EBA4(v18, &qword_100101F08, &unk_1000BD100);
    v85 = Logger.logObject.getter();
    v86 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v85, v86))
    {
      v87 = swift_slowAlloc();
      *v87 = 0;
      _os_log_impl(&_mh_execute_header, v85, v86, "HomePodSetupViewModel createStereoPairImages: model.assetBundle.url(forResource: SFDeviceAssetNameAdjustments, withExtension: nil) == nil", v87, 2u);
    }

    goto LABEL_31;
  }

  v48 = *(v184 + v43);
  if (!v48)
  {

    (*(v180 + 56))(v23, 1, 1, v181);
LABEL_9:
    sub_10000EBA4(v23, &qword_100101F08, &unk_1000BD100);
    goto LABEL_10;
  }

  v163 = v18;
  v49 = [v48 URLForResource:SFDeviceAssetNameAdjustments withExtension:0];
  v164 = v29;
  if (v49)
  {
    v50 = v49;
    v51 = v15;
    static URL._unconditionallyBridgeFromObjectiveC(_:)();

    v52 = 0;
  }

  else
  {
    v51 = v15;
    v52 = 1;
  }

  v53 = v180;
  v54 = v181;
  v55 = *(v180 + 56);
  v55(v21, v52, 1, v181);
  sub_10003B8EC(v21, v23, &qword_100101F08, &unk_1000BD100);
  if ((*(v53 + 48))(v23, 1, v54) == 1)
  {

    v47 = &unk_100101000;
    v15 = v51;
    v18 = v163;
    goto LABEL_9;
  }

  v72 = v179;
  sub_10000EBA4(v179, &unk_100102610, &unk_1000BD130);
  v73 = v164;
  (*(v53 + 32))(v164, v23, v54);
  v74 = v182;
  v75 = *(v182 + 20);
  (*(v53 + 16))(&v72[v75], v73, v54);
  v55(&v72[v75], 0, 1, v54);
  *v72 = v46;
  (v168)(v72, 0, 1, v74);
  v76 = qword_1001015F8;
  v77 = v46;
  v78 = v54;
  v71 = v55;
  if (v76 != -1)
  {
    swift_once();
  }

  v79 = type metadata accessor for Logger();
  sub_100012AAC(v79, qword_100101EF0);
  v80 = Logger.logObject.getter();
  v81 = static os_log_type_t.default.getter();
  v82 = os_log_type_enabled(v80, v81);
  v83 = v178;
  if (v82)
  {
    v84 = swift_slowAlloc();
    *v84 = 0;
    _os_log_impl(&_mh_execute_header, v80, v81, "HomePodSetupViewModel createStereoPairImages: leftHomePod adjusted image created", v84, 2u);
  }

  else
  {
  }

  (*(v53 + 8))(v164, v78);
  v47 = &unk_100101000;
LABEL_32:
  if (v47[191] != -1)
  {
    swift_once();
  }

  v88 = type metadata accessor for Logger();
  v89 = sub_100012AAC(v88, qword_100101EF0);

  v90 = Logger.logObject.getter();
  v91 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v90, v91))
  {
    v92 = swift_slowAlloc();
    *v92 = 67109376;
    *(v92 + 4) = *(v184 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoRole);

    *(v92 + 8) = 1024;
    *(v92 + 10) = v177 & 1;
    _os_log_impl(&_mh_execute_header, v90, v91, "HomePodSetupViewModel createStereoPairImages: stereoRole = %d | forceStereo = %{BOOL}d", v92, 0xEu);
  }

  else
  {
  }

  v93 = Logger.logObject.getter();
  v94 = static os_log_type_t.default.getter();

  v95 = os_log_type_enabled(v93, v94);
  v164 = v71;
  if (v95)
  {
    v96 = swift_slowAlloc();
    v97 = swift_slowAlloc();
    v185 = v97;
    *v96 = 136315138;
    v98 = v83;
    v99 = v89;
    v100 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundles;
    v101 = v184;
    swift_beginAccess();
    v102 = *(v101 + v100);
    sub_10003AE18(0, &unk_100102410, NSBundle_ptr);

    v103 = Dictionary.description.getter();
    v105 = v104;

    v106 = sub_1000B08A0(v103, v105, &v185);

    *(v96 + 4) = v106;
    v89 = v99;
    v83 = v98;
    _os_log_impl(&_mh_execute_header, v93, v94, "HomePodSetupViewModel assetBundles %s", v96, 0xCu);
    sub_10000E70C(v97);
  }

  v107 = v179;
  v108 = v172;
  v109 = v175;
  v172 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoRole;
  if (*(v184 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoRole) != 1 || (v177 & 1) != 0)
  {
    v110 = v184;
    v111 = *(v184 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoCounterpartColor);
    v112 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundles;
    swift_beginAccess();
    v113 = *(v110 + v112);
    if (*(v113 + 16))
    {
      v114 = sub_100053C8C(v111);
      if (v115)
      {
        v116 = *(*(v113 + 56) + 8 * v114);
        v117 = String._bridgeToObjectiveC()();
        v118 = [v176 imageNamed:v117 inBundle:v116];

        if (v118)
        {
          v119 = [v116 URLForResource:SFDeviceAssetNameAdjustments withExtension:0];
          if (v119)
          {
            v120 = v119;
            static URL._unconditionallyBridgeFromObjectiveC(_:)();

            sub_10000EBA4(v83, &unk_100102610, &unk_1000BD130);
            v177 = v89;
            v122 = v181;
            v121 = v182;
            v123 = *(v182 + 20);
            v124 = v180;
            (*(v180 + 16))(v83 + v123, v109, v181);
            v164(v83 + v123, 0, 1, v122);
            *v83 = v118;
            v125 = v121;
            v89 = v177;
            (v168)(v83, 0, 1, v125);
            v126 = v118;
            v127 = Logger.logObject.getter();
            v128 = static os_log_type_t.default.getter();
            if (os_log_type_enabled(v127, v128))
            {
              v129 = swift_slowAlloc();
              *v129 = 0;
              _os_log_impl(&_mh_execute_header, v127, v128, "HomePodSetupViewModel createStereoPairImages: rightHomePod adjusted image created", v129, 2u);
              v89 = v177;
            }

            else
            {
            }

            (*(v124 + 8))(v175, v181);
            goto LABEL_54;
          }
        }
      }
    }

    v130 = Logger.logObject.getter();
    v131 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v130, v131))
    {
      v132 = swift_slowAlloc();
      *v132 = 0;
      _os_log_impl(&_mh_execute_header, v130, v131, "HomePodSetupViewModel createStereoPairImages: rightHomePod failed to create, setting rightHomepod to left", v132, 2u);
    }

    sub_10003A6F8(v107, v83, &unk_100102610, &unk_1000BD130);
  }

LABEL_54:
  sub_10000F25C(v107, v108, &unk_100102610, &unk_1000BD130);
  v133 = v183 + 48;
  v134 = *(v183 + 48);
  if (v134(v108, 1, v182) == 1)
  {
    sub_10000EBA4(v108, &unk_100102610, &unk_1000BD130);
    v135 = Logger.logObject.getter();
    v136 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v135, v136))
    {
      v137 = swift_slowAlloc();
      *v137 = 0;
      _os_log_impl(&_mh_execute_header, v135, v136, "HomePodSetupViewModel createStereoPairImages: leftHomePod is nil, returning nil", v137, 2u);
    }

    sub_10000EBA4(v107, &unk_100102610, &unk_1000BD130);
    v138 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
    (*(*(v138 - 8) + 56))(v174, 1, 1, v138);
    return sub_10000EBA4(v83, &unk_100102610, &unk_1000BD130);
  }

  sub_10003A760(v108, v173);
  if (v170)
  {
    v139 = String._bridgeToObjectiveC()();
    v140 = [v176 imageNamed:v139];

    if (v140)
    {
    }
  }

  else
  {
    v140 = 0;
  }

  v183 = v133;
  v141 = v140;
  v142 = Logger.logObject.getter();
  v143 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v142, v143))
  {
    v144 = swift_slowAlloc();
    v177 = v89;
    v145 = v144;
    *v144 = 67109632;
    *(v144 + 4) = 1;
    *(v144 + 8) = 1024;
    swift_beginAccess();
    v146 = v166;
    sub_10000F25C(v83, v166, &unk_100102610, &unk_1000BD130);
    v147 = (v134)(v146, 1, v182) != 1;
    v107 = v179;
    sub_10000EBA4(v146, &unk_100102610, &unk_1000BD130);
    *(v145 + 10) = v147;
    v83 = v178;
    *(v145 + 14) = 1024;
    *(v145 + 16) = v140 != 0;

    _os_log_impl(&_mh_execute_header, v142, v143, "HomePodSetupViewModel createStereoPairImages: creating StereoPairImage left = %{BOOL}d | right = %{BOOL}d | appleTV = %{BOOL}d", v145, 0x14u);
  }

  else
  {

    v142 = v141;
  }

  if (*&v172[v184] != 3)
  {
    goto LABEL_68;
  }

  swift_beginAccess();
  v148 = v167;
  sub_10000F25C(v83, v167, &unk_100102610, &unk_1000BD130);
  if (v134(v148, 1, v182) == 1)
  {
    sub_10000EBA4(v148, &unk_100102610, &unk_1000BD130);
LABEL_68:
    v149 = Logger.logObject.getter();
    v150 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v149, v150))
    {
      v151 = swift_slowAlloc();
      *v151 = 0;
      _os_log_impl(&_mh_execute_header, v149, v150, "HomePodSetupViewModel StereoPairImage, HomePod being setup set on the left", v151, 2u);
    }

    sub_10000EBA4(v107, &unk_100102610, &unk_1000BD130);
    v152 = v174;
    sub_10003A760(v173, v174);
    swift_beginAccess();
    v153 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
    sub_10000F25C(v83, v152 + *(v153 + 20), &unk_100102610, &unk_1000BD130);
    *(v152 + *(v153 + 24)) = v140;
    (*(*(v153 - 8) + 56))(v152, 0, 1, v153);
    return sub_10000EBA4(v83, &unk_100102610, &unk_1000BD130);
  }

  v154 = v148;
  v155 = v165;
  sub_10003A760(v154, v165);
  v156 = Logger.logObject.getter();
  v157 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v156, v157))
  {
    v158 = swift_slowAlloc();
    *v158 = 0;
    _os_log_impl(&_mh_execute_header, v156, v157, "HomePodSetupViewModel StereoPairImage, HomePod being setup set on the right", v158, 2u);
  }

  sub_10000EBA4(v107, &unk_100102610, &unk_1000BD130);
  v159 = v174;
  sub_10003A760(v155, v174);
  v160 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
  v161 = *(v160 + 20);
  sub_10003A760(v173, v159 + v161);
  (v168)(v159 + v161, 0, 1, v182);
  *(v159 + *(v160 + 24)) = v140;
  (*(*(v160 - 8) + 56))(v159, 0, 1, v160);
  return sub_10000EBA4(v83, &unk_100102610, &unk_1000BD130);
}

uint64_t sub_100038F50(uint64_t a1, uint64_t *a2)
{
  type metadata accessor for __VaListBuilder();
  v3 = swift_allocObject();
  v3[2] = 8;
  v3[3] = 0;
  v4 = v3 + 3;
  v3[4] = 0;
  v3[5] = 0;
  v5 = *(a1 + 16);
  if (!v5)
  {
LABEL_26:
    v25 = __VaListBuilder.va_list()();
    v26 = String._bridgeToObjectiveC()();
    v27 = String._bridgeToObjectiveC()();
    v28 = sub_10000680C(v26, v27, v25);

    v29 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v31 = v30;

    v32 = a2[1];
    *a2 = v29;
    a2[1] = v31;
  }

  v6 = 0;
  v7 = a1 + 32;
  while (1)
  {
    v8 = (v7 + 40 * v6);
    v9 = v8[4];
    sub_10000EC1C(v8, v8[3]);
    result = dispatch thunk of CVarArg._cVarArgEncoding.getter();
    v11 = *v4;
    v12 = *(result + 16);
    v13 = __OFADD__(*v4, v12);
    v14 = *v4 + v12;
    if (v13)
    {
      break;
    }

    v15 = v3[4];
    if (v15 >= v14)
    {
      goto LABEL_18;
    }

    if (v15 + 0x4000000000000000 < 0)
    {
      goto LABEL_31;
    }

    v16 = v3[5];
    if (2 * v15 > v14)
    {
      v14 = 2 * v15;
    }

    v3[4] = v14;
    if ((v14 - 0x1000000000000000) >> 61 != 7)
    {
      goto LABEL_32;
    }

    v17 = result;
    v18 = swift_slowAlloc();
    v19 = v18;
    v3[5] = v18;
    if (v16)
    {
      if (v18 != v16 || v18 >= &v16[8 * v11])
      {
        memmove(v18, v16, 8 * v11);
      }

      __VaListBuilder.deallocStorage(wordCount:storage:)();
      result = v17;
LABEL_18:
      v19 = v3[5];
      if (!v19)
      {
        goto LABEL_25;
      }

      goto LABEL_19;
    }

    result = v17;
    if (!v19)
    {
LABEL_25:
      __break(1u);
      goto LABEL_26;
    }

LABEL_19:
    v21 = *(result + 16);
    if (v21)
    {
      v22 = (result + 32);
      v23 = *v4;
      while (1)
      {
        v24 = *v22++;
        *&v19[8 * v23] = v24;
        v23 = *v4 + 1;
        if (__OFADD__(*v4, 1))
        {
          break;
        }

        *v4 = v23;
        if (!--v21)
        {
          goto LABEL_3;
        }
      }

      __break(1u);
      break;
    }

LABEL_3:

    if (++v6 == v5)
    {
      goto LABEL_26;
    }
  }

  __break(1u);
LABEL_31:
  __break(1u);
LABEL_32:
  __break(1u);
  return result;
}

unint64_t sub_100039F8C()
{
  result = qword_100102390;
  if (!qword_100102390)
  {
    result = swift_getWitnessTable();
    atomic_store(result, &qword_100102390);
  }

  return result;
}

unint64_t sub_100039FE0()
{
  result = qword_1001023A8;
  if (!qword_1001023A8)
  {
    result = swift_getWitnessTable();
    atomic_store(result, &qword_1001023A8);
  }

  return result;
}

unint64_t sub_10003A034()
{
  result = qword_1001023C0;
  if (!qword_1001023C0)
  {
    type metadata accessor for Key(255);
    result = swift_getWitnessTable();
    atomic_store(result, &qword_1001023C0);
  }

  return result;
}

uint64_t sub_10003A08C()
{
  v1 = *(v0 + 32);

  return _swift_deallocObject(v0, 41, 7);
}

id sub_10003A0C4()
{
  v0 = [objc_opt_self() mainScreen];
  [v0 scale];
  v2 = v1;

  v3 = String._bridgeToObjectiveC()();
  v4 = [objc_opt_self() imageNamed:v3];

  if (v4)
  {
    v5 = [v4 _applicationIconImageForFormat:2 precomposed:1 scale:v2];

    if (v5)
    {
      return v5;
    }
  }

  v7 = objc_allocWithZone(UIImage);

  return [v7 init];
}

id sub_10003A1D8()
{
  v0 = objc_opt_self();
  v1 = [v0 mainScreen];
  [v1 scale];
  v3 = v2;

  v4 = objc_allocWithZone(ISIcon);
  v5 = String._bridgeToObjectiveC()();
  v6 = [v4 initWithType:v5];

  v7 = [objc_allocWithZone(ISImageDescriptor) initWithSize:32.0 scale:{32.0, v3}];
  [v7 setDrawBorder:1];
  v8 = [v6 imageForDescriptor:v7];
  if (v8)
  {
    v9 = v8;
    if (![v8 placeholder] || (v10 = objc_msgSend(v6, "prepareImageForDescriptor:", v7), v9, (v9 = v10) != 0))
    {
      v11 = [v9 CGImage];
      if (v11)
      {
        v10 = v11;
        v12 = [objc_allocWithZone(UIImage) initWithCGImage:v11];
        v13 = [v12 _applicationIconImageForFormat:2 precomposed:1 scale:v3];

        if (!v13)
        {
          v13 = [objc_allocWithZone(UIImage) init];
        }

        v6 = v7;
        goto LABEL_13;
      }

      v10 = v9;
    }
  }

  else
  {
    v10 = 0;
  }

  v14 = [v0 mainScreen];
  [v14 scale];
  v16 = v15;

  v17 = objc_opt_self();
  v18 = String._bridgeToObjectiveC()();
  v13 = [v17 _applicationIconImageForBundleIdentifier:v18 format:2 scale:v16];

  if (!v13)
  {
    v13 = [objc_allocWithZone(UIImage) init];
  }

  v9 = v7;
LABEL_13:

  return v13;
}

id sub_10003A478(char a1)
{
  if (a1)
  {
    v1 = sub_10003A0C4();
  }

  else
  {
    v1 = 0;
  }

  v2 = sub_10003A1D8();
  v3 = [objc_opt_self() mainScreen];
  [v3 scale];
  v5 = v4;

  v6 = objc_opt_self();
  v7 = String._bridgeToObjectiveC()();
  v8 = [v6 _applicationIconImageForBundleIdentifier:v7 format:2 scale:v5];

  if (!v8)
  {
    v8 = [objc_allocWithZone(UIImage) init];
  }

  v19[4] = v1;
  v19[5] = v2;
  v19[6] = v8;
  v20 = sub_10003A0C4();
  v9 = v1;
  v10 = v2;
  v11 = v8;
  result = v20;
  v13 = result;
  v14 = 0;
LABEL_7:
  if (v14 <= 4)
  {
    v15 = 4;
  }

  else
  {
    v15 = v14;
  }

  while (1)
  {
    if (v14 == 4)
    {
      sub_10000E6C4(&qword_100102408, &qword_1000BD2B0);
      swift_arrayDestroy();

      return &_swiftEmptyArrayStorage;
    }

    if (v15 == v14)
    {
      break;
    }

    v16 = v19[v14++ + 4];
    if (v16)
    {
      v17 = v16;
      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*((&_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((&_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
      {
        v18 = *((&_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }

      result = specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      goto LABEL_7;
    }
  }

  __break(1u);
  return result;
}

uint64_t sub_10003A6F8(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t *a4)
{
  v6 = sub_10000E6C4(a3, a4);
  (*(*(v6 - 8) + 24))(a2, a1, v6);
  return a2;
}

uint64_t sub_10003A760(uint64_t a1, uint64_t a2)
{
  v4 = type metadata accessor for AdjustedImage(0);
  (*(*(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

double sub_10003A7C4()
{
  v0 = [objc_opt_self() configurationWithPointSize:72.0];
  v1 = String._bridgeToObjectiveC()();
  v2 = objc_opt_self();
  v3 = [v2 systemImageNamed:v1 withConfiguration:v0];

  if (!v3)
  {
    v4 = String._bridgeToObjectiveC()();
    v3 = [v2 imageNamed:v4];

    if (!v3)
    {
      v3 = [objc_allocWithZone(UIImage) init];
    }
  }

  sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
  v5 = swift_allocObject();
  *&result = 1;
  *(v5 + 16) = xmmword_1000BCE00;
  *(v5 + 32) = v3;
  return result;
}

uint64_t sub_10003A8F8(uint64_t a1, uint64_t a2, uint64_t (*a3)(void))
{
  v5 = a3(0);
  (*(*(v5 - 8) + 16))(a2, a1, v5);
  return a2;
}

uint64_t sub_10003A960(uint64_t a1, uint64_t (*a2)(void))
{
  v3 = a2(0);
  (*(*(v3 - 8) + 8))(a1, v3);
  return a1;
}

uint64_t sub_10003A9C0(uint64_t a1, uint64_t a2)
{
  v4 = sub_10000E6C4(&qword_100101FC0, &unk_1000BE590);
  (*(*(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

id sub_10003AA30()
{
  v0 = objc_opt_self();
  v1 = [v0 mainScreen];
  [v1 scale];
  v3 = v2;

  v4 = objc_allocWithZone(ISIcon);
  v5 = String._bridgeToObjectiveC()();
  v6 = [v4 initWithBundleIdentifier:v5];

  v7 = [objc_allocWithZone(ISImageDescriptor) initWithSize:32.0 scale:{32.0, v3}];
  [v7 setDrawBorder:1];
  v8 = [v6 imageForDescriptor:v7];
  if (v8 && (v9 = v8, [v8 placeholder], v10 = objc_msgSend(v6, "prepareImageForDescriptor:", v7), v9, v10))
  {
    v11 = [v10 CGImage];
    if (v11)
    {
      v12 = v11;
      v13 = [v0 mainScreen];
      [v13 scale];
      v15 = v14;

      v16 = [objc_allocWithZone(UIImage) initWithCGImage:v12];
      v17 = [v16 _applicationIconImageForFormat:2 precomposed:1 scale:v15];

      if (!v17)
      {
        v17 = [objc_allocWithZone(UIImage) init];
      }

      v6 = v7;
      goto LABEL_11;
    }

    v12 = v10;
  }

  else
  {
    v12 = 0;
  }

  v18 = [v0 mainScreen];
  [v18 scale];
  v20 = v19;

  v21 = objc_opt_self();
  v22 = String._bridgeToObjectiveC()();
  v17 = [v21 _applicationIconImageForBundleIdentifier:v22 format:2 scale:v20];

  if (!v17)
  {
    v17 = [objc_allocWithZone(UIImage) init];
  }

  v10 = v7;
LABEL_11:

  return v17;
}

double sub_10003ACF0(uint64_t a1)
{
  if (*(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_bonjourTestState) == 3 && (*(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_didUsePhonesNetwork) & 1) != 0 || (sub_10004B0F0() & 1) != 0 || *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_amsMarketingItem) && *(a1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_acceptedMusicTerms) == 1)
  {
    v2 = String._bridgeToObjectiveC()();
    v3 = 3;
  }

  else
  {
    v2 = String._bridgeToObjectiveC()();
    v3 = 1;
  }

  v4 = sub_100006658(v2);

  v5 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v7 = v6;

  sub_10000E6C4(&qword_1001023A0, &qword_1000BD268);
  v8 = swift_allocObject();
  *&result = 1;
  *(v8 + 16) = xmmword_1000BD050;
  *(v8 + 32) = v5;
  *(v8 + 40) = v7;
  *(v8 + 48) = 0;
  *(v8 + 56) = v3;
  return result;
}

uint64_t sub_10003AE18(uint64_t a1, unint64_t *a2, uint64_t *a3)
{
  result = *a2;
  if (!*a2)
  {
    v5 = *a3;
    objc_opt_self();
    result = swift_getObjCClassMetadata();
    atomic_store(result, a2);
  }

  return result;
}

unint64_t sub_10003AE60()
{
  result = qword_100102430;
  if (!qword_100102430)
  {
    sub_1000145EC(&qword_100102428, &unk_1000BD2C0);
    result = swift_getWitnessTable();
    atomic_store(result, &qword_100102430);
  }

  return result;
}

uint64_t sub_10003AEC4(uint64_t a1, uint64_t a2)
{
  if (a2)
  {
  }

  return result;
}

uint64_t sub_10003AF08(uint64_t a1, uint64_t a2)
{
  if (a2)
  {
  }

  return result;
}

uint64_t sub_10003AF4C()
{
  v1 = *(v0 + 24);

  v2 = *(v0 + 40);

  return _swift_deallocObject(v0, 48, 7);
}

double sub_10003AF8C(char a1, int a2, char a3)
{
  if (a2 == 2)
  {
    v4 = 0;
LABEL_13:
    if (a3 == 6)
    {
      if (qword_1001015F8 != -1)
      {
        swift_once();
      }

      v10 = type metadata accessor for Logger();
      sub_100012AAC(v10, qword_100101EF0);
      v11 = Logger.logObject.getter();
      v12 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v11, v12))
      {
        v13 = swift_slowAlloc();
        *v13 = 0;
        _os_log_impl(&_mh_execute_header, v11, v12, "createProgressViewModel b620 image adjusted", v13, 2u);
      }

      v14 = !v4;
      result = 215.586667;
    }

    else
    {
      if (qword_1001015F8 != -1)
      {
        swift_once();
      }

      v15 = type metadata accessor for Logger();
      sub_100012AAC(v15, qword_100101EF0);
      v16 = Logger.logObject.getter();
      v17 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v16, v17))
      {
        v18 = swift_slowAlloc();
        *v18 = 0;
        _os_log_impl(&_mh_execute_header, v16, v17, "createProgressViewModel b238 image adjusted", v18, 2u);
      }

      v14 = !v4;
      result = 189.366667;
    }

    if (!v14)
    {
      result = 227.24;
    }

    if ((a1 & 1) == 0)
    {
      return 227.546667;
    }

    return result;
  }

  if (a2 == 3 || a3 != 5)
  {
    v4 = a2 != 3;
    goto LABEL_13;
  }

  if (qword_1001015F8 != -1)
  {
    swift_once();
  }

  v5 = type metadata accessor for Logger();
  sub_100012AAC(v5, qword_100101EF0);
  v6 = Logger.logObject.getter();
  v7 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v6, v7))
  {
    v8 = swift_slowAlloc();
    *v8 = 0;
    _os_log_impl(&_mh_execute_header, v6, v7, "createProgressViewModel solo mini image adjusted", v8, 2u);
  }

  result = 189.773333;
  if (a1)
  {
    return 153.4;
  }

  return result;
}

uint64_t sub_10003B264()
{
  v0 = String._bridgeToObjectiveC()();
  v1 = sub_100006658(v0);

  v2 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  return v2;
}

uint64_t sub_10003B464()
{
  v0 = String._bridgeToObjectiveC()();
  v1 = sub_100006658(v0);

  v2 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  return v2;
}

uint64_t sub_10003B588(uint64_t a1, uint64_t a2, uint64_t a3, char a4, uint64_t a5, uint64_t a6, uint64_t a7, char a8)
{
  if (IsAppleInternalBuild())
  {
    v23 = a8;
    v16 = String._bridgeToObjectiveC()();
    v17 = sub_100006658(v16);

    v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    v20 = v19;

    sub_10000E6C4(&qword_1001023A0, &qword_1000BD268);
    v21 = swift_allocObject();
    if (a6)
    {
      *(v21 + 16) = xmmword_1000BD070;
      *(v21 + 32) = a1;
      *(v21 + 40) = a2;
      *(v21 + 48) = a3;
      *(v21 + 56) = a4;
      *(v21 + 64) = a5;
      *(v21 + 72) = a6;
      *(v21 + 80) = a7;
      *(v21 + 88) = v23;
      *(v21 + 96) = v18;
      *(v21 + 104) = v20;
      *(v21 + 112) = 1;
      *(v21 + 120) = 17;
    }

    else
    {
      *(v21 + 16) = xmmword_1000BB8E0;
      *(v21 + 32) = a1;
      *(v21 + 40) = a2;
      *(v21 + 48) = a3;
      *(v21 + 56) = a4;
      *(v21 + 64) = v18;
      *(v21 + 72) = v20;
      *(v21 + 80) = 1;
      *(v21 + 88) = 17;
    }
  }

  else
  {
    sub_10000E6C4(&qword_1001023A0, &qword_1000BD268);
    v21 = swift_allocObject();
    if (a6)
    {
      *(v21 + 16) = xmmword_1000BB8E0;
      *(v21 + 32) = a1;
      *(v21 + 40) = a2;
      *(v21 + 48) = a3;
      *(v21 + 56) = a4;
      *(v21 + 64) = a5;
      *(v21 + 72) = a6;
      *(v21 + 80) = a7;
      *(v21 + 88) = a8;
    }

    else
    {
      *(v21 + 16) = xmmword_1000BD050;
      *(v21 + 32) = a1;
      *(v21 + 40) = a2;
      *(v21 + 48) = a3;
      *(v21 + 56) = a4;
    }
  }

  return v21;
}

unint64_t sub_10003B774()
{
  result = qword_100102440;
  if (!qword_100102440)
  {
    result = swift_getWitnessTable();
    atomic_store(result, &qword_100102440);
  }

  return result;
}

id sub_10003B7C8()
{
  v0 = [objc_opt_self() mainScreen];
  [v0 scale];
  v2 = v1;

  v3 = String._bridgeToObjectiveC()();
  v4 = [objc_opt_self() imageNamed:v3];

  if (v4)
  {
    v5 = [v4 _applicationIconImageForFormat:2 precomposed:1 scale:v2];

    if (v5)
    {
      return v5;
    }
  }

  v7 = objc_allocWithZone(UIImage);

  return [v7 init];
}

uint64_t sub_10003B8EC(uint64_t a1, uint64_t a2, uint64_t *a3, uint64_t *a4)
{
  v6 = sub_10000E6C4(a3, a4);
  (*(*(v6 - 8) + 32))(a2, a1, v6);
  return a2;
}

uint64_t sub_10003B954()
{
  v0 = type metadata accessor for Logger();
  sub_100012B48(v0, qword_100102450);
  v1 = sub_100012AAC(v0, qword_100102450);
  if (qword_100101670 != -1)
  {
    swift_once();
  }

  v2 = sub_100012AAC(v0, qword_100108998);
  v3 = *(*(v0 - 8) + 16);

  return v3(v1, v2, v0);
}

id sub_10003BA1C()
{
  v1 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults;
  v2 = *(v0 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults);
  if (v2)
  {
    v3 = *(v0 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults);
  }

  else
  {
    v4 = objc_allocWithZone(NSUserDefaults);
    v5 = String._bridgeToObjectiveC()();
    v6 = [v4 initWithSuiteName:v5];

    if (!v6)
    {
      v6 = [objc_opt_self() standardUserDefaults];
    }

    v7 = *(v0 + v1);
    *(v0 + v1) = v6;
    v3 = v6;

    v2 = 0;
  }

  v8 = v2;
  return v3;
}

id sub_10003BAF0()
{
  result = [objc_allocWithZone(type metadata accessor for HomePodSetupAutomation()) init];
  qword_1001086C0 = result;
  return result;
}

id HomePodSetupAutomation.__allocating_init()()
{
  v1 = objc_allocWithZone(v0);

  return [v1 init];
}

void sub_10003BBB0(uint64_t a1, char a2)
{
  v3 = v2;
  v5 = sub_10003BA1C();
  v6 = String._bridgeToObjectiveC()();
  v7 = [v5 BOOLForKey:v6];

  if (v7)
  {
    v8 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults;
    v9 = *(v3 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults);
    v10 = String._bridgeToObjectiveC()();
    v11 = [v9 objectForKey:v10];

    if (v11)
    {
      _bridgeAnyObjectToAny(_:)();
      swift_unknownObjectRelease();
    }

    else
    {
      v20 = 0u;
      v21 = 0u;
    }

    v19[0] = v20;
    v19[1] = v21;
    if (*(&v21 + 1))
    {
      sub_10000E6C4(&qword_1001020B0, &qword_1000BD170);
      if (swift_dynamicCast())
      {
        goto LABEL_10;
      }
    }

    else
    {
      sub_10000EBA4(v19, &qword_1001036C0, &unk_1000BEE90);
    }

    sub_10000D8A8(&_swiftEmptyArrayStorage);
LABEL_10:
    *&v20 = sub_10007869C(a2);
    *(&v20 + 1) = v12;
    AnyHashable.init<A>(_:)();
    v13 = sub_10000C754();
    *(&v21 + 1) = sub_10000E6C4(&qword_1001020B0, &qword_1000BD170);
    *&v20 = v13;
    sub_10000E9F4(&v20, v18);
    isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    sub_100054F9C(v18, v19, isUniquelyReferenced_nonNull_native);
    sub_10000EA04(v19);
    v15 = *(v3 + v8);
    isa = Dictionary._bridgeToObjectiveC()().super.isa;

    v17 = String._bridgeToObjectiveC()();
    [v15 setValue:isa forKey:v17];
  }
}

void sub_10003BE34(uint64_t a1, uint64_t a2)
{
  v3 = v2;
  v126 = sub_10000E074(_swiftEmptyArrayStorage);
  v5 = sub_10003BA1C();
  v6 = String._bridgeToObjectiveC()();
  v7 = &selRef_initWithSystemImageNamed_;
  v8 = [v5 objectForKey:v6];

  if (v8)
  {
    _bridgeAnyObjectToAny(_:)();
    swift_unknownObjectRelease();
  }

  else
  {
    v130 = 0u;
    v131 = 0u;
  }

  v134 = v130;
  v135 = v131;
  if (*(&v131 + 1))
  {
    if (swift_dynamicCast())
    {
      v9 = *(&v138[0] + 1);
      v10 = &v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_forcedPasscode];
      v11 = *&v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_forcedPasscode + 8];
      *v10 = *&v138[0];
      *(v10 + 1) = v9;
    }
  }

  else
  {
    sub_10000EBA4(&v134, &qword_1001036C0, &unk_1000BEE90);
  }

  v12 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults;
  v13 = *&v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults];
  v14 = String._bridgeToObjectiveC()();
  v15 = [v13 objectForKey:v14];

  if (v15)
  {
    _bridgeAnyObjectToAny(_:)();
    swift_unknownObjectRelease();
  }

  else
  {
    v130 = 0u;
    v131 = 0u;
  }

  v16 = a2;
  v134 = v130;
  v135 = v131;
  v125 = v12;
  if (*(&v131 + 1))
  {
    v17 = sub_10000E6C4(&qword_1001020B0, &qword_1000BD170);
    if (swift_dynamicCast())
    {
      v128 = a1;
      v18 = *&v138[0];
      v19 = *&v138[0] + 64;
      v20 = 1 << *(*&v138[0] + 32);
      v21 = -1;
      if (v20 < 64)
      {
        v21 = ~(-1 << v20);
      }

      v22 = v21 & *(*&v138[0] + 64);
      v124 = &v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_forcedPasscode];
      v23 = (v20 + 63) >> 6;

      v24 = 0;
      while (1)
      {
        while (1)
        {
          while (1)
          {
            if (!v22)
            {
              while (1)
              {
                v26 = v24 + 1;
                if (__OFADD__(v24, 1))
                {
                  break;
                }

                if (v26 >= v23)
                {

                  v62 = *&v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_automationStepResults];
                  *&v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_automationStepResults] = v126;

                  v16 = a2;
                  a1 = v128;
                  v12 = v125;
                  goto LABEL_65;
                }

                v22 = *(v19 + 8 * v26);
                ++v24;
                if (v22)
                {
                  v24 = v26;
                  goto LABEL_25;
                }
              }

              __break(1u);
LABEL_112:
              swift_once();
LABEL_106:
              v107 = type metadata accessor for Logger();
              sub_100012AAC(v107, qword_100102450);
              v108 = v3;

              v109 = Logger.logObject.getter();
              v110 = static os_log_type_t.default.getter();

              if (os_log_type_enabled(v109, v110))
              {
                v111 = swift_slowAlloc();
                *&v134 = swift_slowAlloc();
                *v111 = 136315394;
                v112 = *(v7 + v3);

                v113 = Dictionary.description.getter();
                v115 = v114;

                v116 = sub_1000B08A0(v113, v115, &v134);

                *(v111 + 4) = v116;
                *(v111 + 12) = 2080;
                v117 = sub_1000B08A0(v23, v18, &v134);

                *(v111 + 14) = v117;
                _os_log_impl(&_mh_execute_header, v109, v110, "HomePodSetupAutomation: Automation enabled with flow selection for these screens %s always select the defauls is %s", v111, 0x16u);
                swift_arrayDestroy();
              }

              else
              {
              }

              goto LABEL_110;
            }

LABEL_25:
            v27 = __clz(__rbit64(v22));
            v22 &= v22 - 1;
            sub_10000FCF4(v18[6] + 40 * (v27 | (v24 << 6)), v138);
            v136[0] = v138[0];
            v136[1] = v138[1];
            v137 = v139;
            if (v18[2])
            {
              v28 = sub_100053B3C(v136);
              if (v29)
              {
                sub_10000EA58(v18[7] + 32 * v28, &v134);
                if (swift_dynamicCast())
                {
                  break;
                }
              }
            }

LABEL_19:
            sub_10000EA04(v136);
          }

          sub_10000FCF4(v136, &v134);
          if (swift_dynamicCast())
          {
            break;
          }

          sub_10000EA04(v136);

          v7 = &selRef_initWithSystemImageNamed_;
        }

        v120 = v17;
        v121 = v130;

        sub_10000C190(v30, &v134);
        if (sub_10000FEC4(v134) == 0x6E776F6E6B6E75 && v31 == 0xE700000000000000)
        {
        }

        else
        {
          v32 = _stringCompareWithSmolCheck(_:_:expecting:)();

          if ((v32 & 1) == 0)
          {

LABEL_42:
            v40 = *(v124 + 1);
            v41 = *v124 & 0xFFFFFFFFFFFFLL;
            if ((v40 & 0x2000000000000000) != 0)
            {
              v41 = HIBYTE(v40) & 0xF;
            }

            if (v41 && (v121 == __PAIR128__(0xEE0065646F637373, 0x615044454C746567) || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0))
            {

              if (qword_100101600 != -1)
              {
                swift_once();
              }

              v42 = type metadata accessor for Logger();
              sub_100012AAC(v42, qword_100102450);
              v43 = Logger.logObject.getter();
              v44 = static os_log_type_t.error.getter();
              if (os_log_type_enabled(v43, v44))
              {
                v45 = swift_slowAlloc();
                *v45 = 0;
                _os_log_impl(&_mh_execute_header, v43, v44, "HomePodSetupAutomation:Found Automation for getLEDPasscode, but rejecting because of forcedPasscode", v45, 2u);
              }

              goto LABEL_61;
            }

            sub_1000161DC(&v134, &v130);
            isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
            v47 = sub_100053B80(v121, *(&v121 + 1));
            v49 = v126[2];
            v50 = (v48 & 1) == 0;
            v51 = __OFADD__(v49, v50);
            v52 = v49 + v50;
            if (v51)
            {
              __break(1u);
LABEL_114:
              __break(1u);
              swift_unexpectedError();
              __break(1u);
LABEL_115:
              KEY_TYPE_OF_DICTIONARY_VIOLATES_HASHABLE_REQUIREMENTS(_:)();
              __break(1u);
              return;
            }

            v53 = v48;
            if (v126[3] >= v52)
            {
              if (isUniquelyReferenced_nonNull_native)
              {
                goto LABEL_57;
              }

              v61 = v47;
              sub_100055750();
              v47 = v61;
              v17 = v120;
              if (v53)
              {
                goto LABEL_17;
              }

LABEL_58:
              v126[(v47 >> 6) + 8] |= 1 << v47;
              *(v126[6] + 16 * v47) = v121;
              v55 = v126[7] + 56 * v47;
              v56 = v133;
              v58 = v131;
              v57 = v132;
              *v55 = v130;
              *(v55 + 16) = v58;
              *(v55 + 32) = v57;
              *(v55 + 48) = v56;
              v59 = v126[2];
              v51 = __OFADD__(v59, 1);
              v60 = v59 + 1;
              if (v51)
              {
                goto LABEL_114;
              }

              v126[2] = v60;
            }

            else
            {
              sub_100054624(v52, isUniquelyReferenced_nonNull_native);
              v47 = sub_100053B80(v121, *(&v121 + 1));
              if ((v53 & 1) != (v54 & 1))
              {
                goto LABEL_115;
              }

LABEL_57:
              v17 = v120;
              if ((v53 & 1) == 0)
              {
                goto LABEL_58;
              }

LABEL_17:
              v25 = v47;

              sub_10003DF74(&v130, v126[7] + 56 * v25);
            }

            v7 = &selRef_initWithSystemImageNamed_;
            sub_100012E08(&v134);
            goto LABEL_19;
          }
        }

        sub_10000F25C(&v134 + 8, &v130, &qword_1001025D0, &unk_1000BD010);
        if (*(&v131 + 1))
        {

          sub_10000EBA4(&v130, &qword_1001025D0, &unk_1000BD010);
          goto LABEL_42;
        }

        sub_10000EBA4(&v130, &qword_1001025D0, &unk_1000BD010);
        if (qword_100101600 != -1)
        {
          swift_once();
        }

        v33 = type metadata accessor for Logger();
        sub_100012AAC(v33, qword_100102450);

        v34 = Logger.logObject.getter();
        v35 = static os_log_type_t.error.getter();

        v123 = v34;
        if (os_log_type_enabled(v34, v35))
        {
          buf = swift_slowAlloc();
          v122 = swift_slowAlloc();
          *&v130 = v122;
          *buf = 136315138;
          v118 = v35;
          v36 = Dictionary.description.getter();
          v38 = v37;

          v39 = sub_1000B08A0(v36, v38, &v130);

          *(buf + 4) = v39;
          _os_log_impl(&_mh_execute_header, v123, v118, "HomePodSetupAutomation:Found Automation, but could not convert to choice %s", buf, 0xCu);
          sub_10000E70C(v122);
        }

        else
        {
        }

LABEL_61:
        sub_100012E08(&v134);
        sub_10000EA04(v136);
        v7 = &selRef_initWithSystemImageNamed_;
        v17 = v120;
      }
    }
  }

  else
  {
    sub_10000EBA4(&v134, &qword_1001036C0, &unk_1000BEE90);
  }

LABEL_65:
  v63 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_forcedStateSequence;
  swift_beginAccess();
  v64 = *&v3[v63];
  v129 = v63;
  *&v3[v63] = _swiftEmptyArrayStorage;

  v65 = *&v3[v12];
  v66 = String._bridgeToObjectiveC()();
  v67 = [v65 v7[363]];

  if (v67)
  {
    _bridgeAnyObjectToAny(_:)();
    swift_unknownObjectRelease();
  }

  else
  {
    v130 = 0u;
    v131 = 0u;
  }

  v134 = v130;
  v135 = v131;
  v68 = v129;
  if (*(&v131 + 1))
  {
    sub_10000E6C4(&qword_100102428, &unk_1000BD2C0);
    if (swift_dynamicCast())
    {
      v69 = *(*&v136[0] + 16);
      if (v69)
      {
        v70 = (*&v136[0] + 40);
        do
        {
          v76 = *(v70 - 1);
          v77 = *v70;
          swift_bridgeObjectRetain_n();
          v78 = sub_100082414();
          if (v78 == 70)
          {
            if (qword_100101600 != -1)
            {
              swift_once();
            }

            v79 = type metadata accessor for Logger();
            sub_100012AAC(v79, qword_100102450);

            v80 = Logger.logObject.getter();
            v81 = static os_log_type_t.error.getter();

            if (os_log_type_enabled(v80, v81))
            {
              v71 = swift_slowAlloc();
              v72 = v3;
              v73 = a1;
              v74 = swift_slowAlloc();
              *&v134 = v74;
              *v71 = 136315138;
              v75 = sub_1000B08A0(v76, v77, &v134);

              *(v71 + 4) = v75;
              _os_log_impl(&_mh_execute_header, v80, v81, "HomePodSetupAutomation: Found Automation screen name %s, but could not convert to valid HomePodSetupStep", v71, 0xCu);
              sub_10000E70C(v74);
              a1 = v73;
              v3 = v72;
              v68 = v129;
            }

            else
            {
            }
          }

          else
          {
            v82 = v78;

            swift_beginAccess();
            v83 = *&v3[v68];
            v84 = swift_isUniquelyReferenced_nonNull_native();
            *&v3[v68] = v83;
            if ((v84 & 1) == 0)
            {
              v83 = sub_100053838(0, *(v83 + 2) + 1, 1, v83);
              *&v3[v68] = v83;
            }

            v86 = *(v83 + 2);
            v85 = *(v83 + 3);
            if (v86 >= v85 >> 1)
            {
              v83 = sub_100053838((v85 > 1), v86 + 1, 1, v83);
            }

            *(v83 + 2) = v86 + 1;
            v83[v86 + 32] = v82;
            *&v3[v68] = v83;
            swift_endAccess();
          }

          v70 += 2;
          --v69;
        }

        while (v69);
      }

      if (qword_100101600 != -1)
      {
        swift_once();
      }

      v87 = type metadata accessor for Logger();
      sub_100012AAC(v87, qword_100102450);
      v88 = v3;
      v89 = Logger.logObject.getter();
      v90 = static os_log_type_t.default.getter();

      if (os_log_type_enabled(v89, v90))
      {
        v91 = swift_slowAlloc();
        v92 = swift_slowAlloc();
        *&v134 = v92;
        *v91 = 136315138;
        *&v130 = *&v3[v68];

        sub_10000E6C4(&unk_1001024F0, &qword_1000BD300);
        v93 = String.init<A>(reflecting:)();
        v95 = sub_1000B08A0(v93, v94, &v134);

        *(v91 + 4) = v95;
        _os_log_impl(&_mh_execute_header, v89, v90, "HomePodSetupAutomation: Following forced screen were loaded from userDefaults: %s", v91, 0xCu);
        sub_10000E70C(v92);
      }

      v16 = a2;
    }
  }

  else
  {
    sub_10000EBA4(&v134, &qword_1001036C0, &unk_1000BEE90);
  }

  v96 = objc_allocWithZone(NSRegularExpression);
  v22 = sub_100050D30(0x283D6E6565726373, 0xEC000000292A775CLL, 1);

  v97 = String._bridgeToObjectiveC()();
  *&v130 = 15;
  *&v134 = a1;
  *(&v134 + 1) = v16;

  sub_10000E6C4(&qword_1001024D8, &unk_1000BD2F0);
  sub_10003DEBC();
  sub_10003DF20();
  v98 = _NSRange.init<A, B>(_:in:)();
  v100 = [v22 firstMatchInString:v97 options:0 range:{v98, v99}];

  if (v100)
  {
    [v100 rangeAtIndex:1];
    Range<>.init(_:in:)();
    if ((v101 & 1) == 0)
    {
      String.subscript.getter();
      static String._fromSubstring(_:)();

      v102 = sub_100082414();
      if (v102 != 70)
      {
        v103 = v102;
        swift_beginAccess();
        sub_10003DD08(0, 0, v103);
        swift_endAccess();
      }
    }
  }

  v104 = *&v3[v125];
  v105 = String._bridgeToObjectiveC()();
  v106 = [v104 BOOLForKey:v105];

  v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_alwaysSelectDefault] = v106;
  if (v106)
  {
    v23 = 0x64656C62616E65;
  }

  else
  {
    v23 = 0x64656C6261736964;
  }

  if (v106)
  {
    v18 = 0xE700000000000000;
  }

  else
  {
    v18 = 0xE800000000000000;
  }

  v7 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_automationStepResults;
  if (*(*&v3[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_automationStepResults] + 16) || v106)
  {
    if (qword_100101600 != -1)
    {
      goto LABEL_112;
    }

    goto LABEL_106;
  }

LABEL_110:
}

uint64_t sub_10003CFBC@<X0>(char a1@<W0>, uint64_t a2@<X8>)
{
  v3 = v2;
  v5 = sub_10007869C(a1);
  v7 = v6;
  v8 = *(v2 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_automationStepResults);
  if (*(v8 + 16) && (v9 = v5, , v10 = sub_100053B80(v9, v7), v12 = v11, , (v12 & 1) != 0))
  {
    sub_1000161DC(*(v8 + 56) + 56 * v10, a2);
  }

  else
  {

    *a2 = 0u;
    *(a2 + 16) = 0u;
    *(a2 + 40) = 0;
    *(a2 + 48) = 0;
    *(a2 + 32) = 1;
  }

  sub_10000F25C(a2, &v31, &qword_1001024D0, &unk_1000BE910);
  v13 = *(&v33 + 1);
  sub_10000EBA4(&v31, &qword_1001024D0, &unk_1000BE910);
  if (v13 != 1)
  {
    if (*(a2 + 32) == 1)
    {
      v14 = 0;
      v15 = 0xE000000000000000;
    }

    else
    {
      sub_1000161DC(a2, &v31);
      v14 = sub_10000BFCC();
      v15 = v16;
      sub_100012E08(&v31);
    }

    if (qword_100101600 != -1)
    {
      swift_once();
    }

    v17 = type metadata accessor for Logger();
    sub_100012AAC(v17, qword_100102450);

    v18 = Logger.logObject.getter();
    v19 = static os_log_type_t.default.getter();

    if (os_log_type_enabled(v18, v19))
    {
      v20 = swift_slowAlloc();
      v21 = swift_slowAlloc();
      v31 = v21;
      *v20 = 136315138;
      v22 = sub_1000B08A0(v14, v15, &v31);

      *(v20 + 4) = v22;
      _os_log_impl(&_mh_execute_header, v18, v19, "HomePodSetupAutomation: Automation selection %s being applied.", v20, 0xCu);
      sub_10000E70C(v21);
    }

    else
    {
    }
  }

  sub_10000F25C(a2, &v31, &qword_1001024D0, &unk_1000BE910);
  v23 = *(&v33 + 1);
  result = sub_10000EBA4(&v31, &qword_1001024D0, &unk_1000BE910);
  if (v23 == 1 && *(v3 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_alwaysSelectDefault) == 1)
  {
    if (qword_100101600 != -1)
    {
      swift_once();
    }

    v25 = type metadata accessor for Logger();
    sub_100012AAC(v25, qword_100102450);
    v26 = Logger.logObject.getter();
    v27 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v26, v27))
    {
      v28 = swift_slowAlloc();
      *v28 = 0;
      _os_log_impl(&_mh_execute_header, v26, v27, "HomePodSetupAutomation: Automation always select default enabled selecting primary button.", v28, 2u);
    }

    v30 = 0;
    memset(v29, 0, sizeof(v29));
    v32 = 0u;
    v33 = 0u;
    v34 = 0u;
    LOBYTE(v31) = 1;
    sub_100012DA0(v29, &v32, &qword_1001025D0, &unk_1000BD010);
    return sub_100012DA0(&v31, a2, &qword_1001024D0, &unk_1000BE910);
  }

  return result;
}

uint64_t sub_10003D3B8(char a1, uint64_t a2)
{
  v5 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testMode;
  if (!*(v2 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testMode) && !*(v2 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testFlags))
  {
    return 0;
  }

  v6 = (a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iCloudId);
  v7 = *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iCloudId + 8);
  *v6 = 0xD000000000000010;
  v6[1] = 0x80000001000C39C0;

  v8 = (a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iTunesId);
  v9 = *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iTunesId + 8);
  *v8 = 0xD000000000000013;
  v8[1] = 0x80000001000C39E0;

  v10 = (a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceGUID);
  v11 = *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceGUID + 8);
  *v10 = 0xD000000000000019;
  v10[1] = 0x80000001000C3A00;

  v12 = a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceSerialNumber;
  v13 = *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceSerialNumber + 8);
  strcpy((a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceSerialNumber), "FFMC80BDPM4R");
  *(v12 + 13) = 0;
  *(v12 + 14) = -5120;

  *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_selectedHomeIsROAR) = 0;
  *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_subscribedToMusicService) = 1;
  v14 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testFlags;
  v15 = *(v2 + OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testFlags);
  if ((v15 & 8) != 0)
  {
    v16 = 34;
  }

  else
  {
    v16 = a1;
  }

  if ((v15 & 0x10) != 0)
  {
    v16 = 36;
  }

  if ((v15 & 0x20) != 0)
  {
    v16 = 30;
  }

  if ((v15 & 0x40) != 0)
  {
    v16 = 31;
  }

  if ((v15 & 0x100) != 0)
  {
    v16 = 39;
  }

  if ((v15 & 0x200) != 0)
  {
    v16 = 41;
  }

  if ((v15 & 0x800) != 0)
  {
    v16 = 18;
  }

  if ((v15 & 0x1000) != 0)
  {
    v16 = 19;
  }

  if ((v15 & 0x2000) != 0)
  {
    v16 = 20;
  }

  if ((v15 & 0x8080) != 0)
  {
    v16 = 43;
  }

  if ((v15 & 0x10000) != 0)
  {
    v16 = 33;
  }

  if ((v15 & 0x20000) != 0)
  {
    v16 = 11;
  }

  if ((v15 & 0x20000000000) != 0)
  {
    v16 = 8;
  }

  if ((v15 & 0x40000) != 0)
  {
    v16 = 10;
  }

  if ((v15 & 0x2000000) != 0)
  {
    v16 = 35;
  }

  if ((v15 & 0x4000000) != 0)
  {
    v16 = 32;
  }

  if ((v15 & 0x8000000) != 0)
  {
    v16 = 13;
  }

  if ((v15 & 0x20000000) != 0)
  {
    v16 = 44;
  }

  if ((v15 & 0x200000000) != 0)
  {
    v16 = 27;
  }

  if ((v15 & 0x400000000) != 0)
  {
    v16 = 63;
  }

  if ((v15 & 0x800000000) != 0)
  {
    v16 = 18;
  }

  if ((v15 & 0x4000) != 0)
  {
    v16 = 23;
  }

  if ((v15 & 0x2000000000) != 0)
  {
    v16 = 12;
  }

  if ((v15 & 0x4000000000) != 0)
  {
    v16 = 25;
  }

  if ((v15 & 0x400) != 0)
  {
    v16 = 17;
  }

  if ((v15 & 0x200000) != 0)
  {
    v17 = v8[1];
    *v8 = 0xD000000000000010;
    v8[1] = 0x80000001000C39C0;

    v15 = *(v2 + v14);
    v16 = 17;
  }

  if ((v15 & 0x10000000) != 0)
  {
    v16 = 22;
  }

  if ((v15 & 0x80000) != 0)
  {
    v16 = 16;
  }

  if ((v15 & 0x100000) != 0)
  {
    v16 = 14;
  }

  if ((v15 & 0x1000000000) != 0)
  {
    *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_otherDeviceModelCode) = 5;
  }

  if ((v15 & 0x10000000000) != 0)
  {
    *(a2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_otherDeviceModelCode) = 6;
  }

  if ((v15 & 0x8000000000) != 0)
  {
    v18 = 26;
  }

  else
  {
    v18 = v16;
  }

  v19 = sub_10007869C(v18);
  v21 = v20;
  if (v19 == sub_10007869C(a1) && v21 == v22)
  {

LABEL_76:
    v25 = *(v2 + v5);
    switch(v25)
    {
      case 1:
        v18 = 42;
        break;
      case 14:
        v18 = 37;
        break;
      case 5:
        v18 = 38;
        break;
    }

    goto LABEL_82;
  }

  v24 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if (v24)
  {
    goto LABEL_76;
  }

LABEL_82:
  v26 = v18;

  return v26;
}

void sub_10003D768(uint64_t a1)
{
  v2 = v1;
  v4 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testMode;
  v2[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testMode] = 0;
  v5 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testFlags;
  *&v2[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testFlags] = 0;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v6 = sub_100053B3C(v24), (v7 & 1) == 0))
  {
    sub_10000EA04(v24);
    goto LABEL_7;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v6, v25);
  sub_10000EA04(v24);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_7:
    v8 = 0;
    goto LABEL_8;
  }

  if ((_stringCompareWithSmolCheck(_:_:expecting:)() & 1) == 0)
  {
    if (_stringCompareWithSmolCheck(_:_:expecting:)())
    {

      v8 = 5;
      goto LABEL_8;
    }

    v23 = _stringCompareWithSmolCheck(_:_:expecting:)();

    if (v23)
    {
      v8 = 14;
      goto LABEL_8;
    }

    goto LABEL_7;
  }

  v8 = 1;
LABEL_8:
  v2[v4] = v8;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v9 = sub_100053B3C(v24), (v10 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v9, v25);
    sub_10000EA04(v24);
    if (swift_dynamicCast())
    {
      v11 = String._bridgeToObjectiveC()();

      v12 = sub_1000069D0(v11);

      *&v2[v5] = v12;
    }

    if (!v2[v4])
    {
LABEL_15:
      if (!*&v2[v5])
      {
        return;
      }
    }
  }

  else
  {
    sub_10000EA04(v24);
    if (!v2[v4])
    {
      goto LABEL_15;
    }
  }

  if (qword_100101600 != -1)
  {
    swift_once();
  }

  v13 = type metadata accessor for Logger();
  sub_100012AAC(v13, qword_100102450);
  v14 = v2;
  v15 = Logger.logObject.getter();
  v16 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v15, v16))
  {
    v17 = swift_slowAlloc();
    v18 = swift_slowAlloc();
    v24[0] = v18;
    *v17 = 136315394;
    v19 = sub_10004ADE0(v2[v4]);
    v21 = sub_1000B08A0(v19, v20, v24);

    *(v17 + 4) = v21;
    *(v17 + 12) = 2048;
    v22 = *&v2[v5];

    *(v17 + 14) = v22;
    _os_log_impl(&_mh_execute_header, v15, v16, "Testing: testMode is %s  flags are %llu", v17, 0x16u);
    sub_10000E70C(v18);
  }

  else
  {
  }
}

id HomePodSetupAutomation.init()()
{
  v1 = OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_automationStepResults;
  *&v0[v1] = sub_10000E074(_swiftEmptyArrayStorage);
  v0[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_alwaysSelectDefault] = 0;
  *&v0[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation____lazy_storage___userDefaults] = 0;
  *&v0[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_forcedStateSequence] = _swiftEmptyArrayStorage;
  *&v0[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_indexToNextState] = 0;
  *&v0[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testFlags] = 0;
  v2 = &v0[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_forcedPasscode];
  *v2 = 0;
  v2[1] = 0xE000000000000000;
  v0[OBJC_IVAR____TtC14HDSViewService22HomePodSetupAutomation_testMode] = 0;
  v4.receiver = v0;
  v4.super_class = type metadata accessor for HomePodSetupAutomation();
  return objc_msgSendSuper2(&v4, "init");
}

id HomePodSetupAutomation.__deallocating_deinit()
{
  v2.receiver = v0;
  v2.super_class = type metadata accessor for HomePodSetupAutomation();
  return objc_msgSendSuper2(&v2, "dealloc");
}

char *sub_10003DD08(char *result, uint64_t a2, char a3)
{
  if ((result & 0x8000000000000000) != 0)
  {
    __break(1u);
    goto LABEL_14;
  }

  v5 = *v3;
  v6 = *(*v3 + 2);
  if (v6 < a2)
  {
LABEL_14:
    __break(1u);
    goto LABEL_15;
  }

  v7 = result;
  v8 = a2 - result;
  if (__OFSUB__(a2, result))
  {
LABEL_15:
    __break(1u);
    goto LABEL_16;
  }

  v9 = __OFSUB__(1, v8);
  v10 = 1 - v8;
  if (v9)
  {
LABEL_16:
    __break(1u);
    goto LABEL_17;
  }

  v11 = v6 + v10;
  if (__OFADD__(v6, v10))
  {
LABEL_17:
    __break(1u);
    return result;
  }

  v13 = *v3;
  isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  *v3 = v5;
  if (!isUniquelyReferenced_nonNull_native || v11 > *(v5 + 3) >> 1)
  {
    if (v6 <= v11)
    {
      v15 = v11;
    }

    else
    {
      v15 = v6;
    }

    v5 = sub_100053838(isUniquelyReferenced_nonNull_native, v15, 1, v5);
    *v3 = v5;
  }

  result = sub_10003DDDC(v7, a2, 1, a3);
  *v3 = v5;
  return result;
}

char *sub_10003DDDC(char *result, uint64_t a2, uint64_t a3, char a4)
{
  v5 = a2 - result;
  if (__OFSUB__(a2, result))
  {
    __break(1u);
    goto LABEL_17;
  }

  v6 = a3 - v5;
  if (__OFSUB__(a3, v5))
  {
LABEL_17:
    __break(1u);
    goto LABEL_18;
  }

  v7 = *v4;
  v8 = &result[v7 + 32];
  if (v6)
  {
    v9 = *(v7 + 16);
    v10 = __OFSUB__(v9, a2);
    v11 = v9 - a2;
    if (!v10)
    {
      result = &v8[a3];
      v12 = (v7 + 32 + a2);
      if (&v8[a3] != v12 || result >= &v12[v11])
      {
        v14 = a3;
        v15 = a4;
        result = memmove(result, v12, v11);
        a3 = v14;
        a4 = v15;
      }

      v16 = *(v7 + 16);
      v10 = __OFADD__(v16, v6);
      v17 = v16 + v6;
      if (!v10)
      {
        *(v7 + 16) = v17;
        goto LABEL_13;
      }

LABEL_19:
      __break(1u);
LABEL_20:
      __break(1u);
      return result;
    }

LABEL_18:
    __break(1u);
    goto LABEL_19;
  }

LABEL_13:
  if (a3 >= 1)
  {
    *v8 = a4;
    if (a3 != 1)
    {
      goto LABEL_20;
    }
  }

  return result;
}

unint64_t sub_10003DEBC()
{
  result = qword_1001024E0;
  if (!qword_1001024E0)
  {
    sub_1000145EC(&qword_1001024D8, &unk_1000BD2F0);
    result = swift_getWitnessTable();
    atomic_store(result, &qword_1001024E0);
  }

  return result;
}

unint64_t sub_10003DF20()
{
  result = qword_1001024E8;
  if (!qword_1001024E8)
  {
    result = swift_getWitnessTable();
    atomic_store(result, &qword_1001024E8);
  }

  return result;
}

void sub_10003DFD0(uint64_t a1, void *a2)
{
  v4 = *(a1 + 32);
  v3 = *(a1 + 40);

  v5 = a2;
  v4();
}

uint64_t sub_10003E038()
{
  v0 = type metadata accessor for Logger();
  sub_100012B48(v0, qword_100102500);
  v1 = sub_100012AAC(v0, qword_100102500);
  if (qword_100101670 != -1)
  {
    swift_once();
  }

  v2 = sub_100012AAC(v0, qword_100108998);
  v3 = *(*(v0 - 8) + 16);

  return v3(v1, v2, v0);
}

id sub_10003E100(void *a1)
{
  *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_presenter + 8] = 0;
  swift_unknownObjectWeakInit();
  *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_movieView] = 0;
  v3 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  v4 = type metadata accessor for HomePodSetupViewModel(0);
  (*(*(v4 - 8) + 56))(&v1[v3], 1, 1, v4);
  *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_images] = _swiftEmptyArrayStorage;
  v5 = &v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_bodyText];
  *v5 = 0;
  v5[1] = 0xE000000000000000;
  *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_style] = 0;
  v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_loadedMovie] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsUI] = 0;
  v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsInProgress] = 0;
  v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsRetried] = 0;
  v6 = [objc_allocWithZone(type metadata accessor for HomePodSetupIconContentView()) initWithCardStyle:0];
  *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView] = v6;
  v7 = v6;
  [v7 setTranslatesAutoresizingMaskIntoConstraints:0];
  v10.receiver = v1;
  v10.super_class = type metadata accessor for HomePodSetupIconContentViewController();
  v8 = objc_msgSendSuper2(&v10, "initWithContentView:", v7);

  return v8;
}

void sub_10003E2A0()
{
  v1 = v0;
  v2 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v3 = *(*(v2 - 8) + 64);
  __chkstk_darwin(v2 - 8);
  v5 = &v41 - v4;
  v6 = type metadata accessor for HomePodSetupViewModel(0);
  v7 = *(v6 - 1);
  v8 = *(v7 + 64);
  v9 = __chkstk_darwin(v6);
  v11 = (&v41 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v9);
  v13 = (&v41 - v12);
  v14 = type metadata accessor for HomePodSetupIconContentViewController();
  v42.receiver = v1;
  v42.super_class = v14;
  objc_msgSendSuper2(&v42, "viewDidLoad");
  v15 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_10000F25C(v1 + v15, v5, &qword_100103420, &unk_1000BCE90);
  if ((*(v7 + 48))(v5, 1, v6) == 1)
  {
    sub_10000EBA4(v5, &qword_100103420, &unk_1000BCE90);
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v16 = type metadata accessor for Logger();
    sub_100012AAC(v16, qword_100102500);
    v17 = Logger.logObject.getter();
    v18 = static os_log_type_t.error.getter();
    if (os_log_type_enabled(v17, v18))
    {
      v19 = swift_slowAlloc();
      *v19 = 0;
      _os_log_impl(&_mh_execute_header, v17, v18, "HomePodSetupIconContent: viewDidLoad failed because viewModel not set.", v19, 2u);
    }
  }

  else
  {
    sub_100047340(v5, v13, type metadata accessor for HomePodSetupViewModel);
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v20 = type metadata accessor for Logger();
    sub_100012AAC(v20, qword_100102500);
    sub_100046CC4(v13, v11, type metadata accessor for HomePodSetupViewModel);
    v21 = Logger.logObject.getter();
    v22 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v21, v22))
    {
      v23 = swift_slowAlloc();
      v24 = swift_slowAlloc();
      v41 = v24;
      *v23 = 136315138;
      v25 = *v11;
      v26 = v11[1];

      sub_100047508(v11, type metadata accessor for HomePodSetupViewModel);
      v27 = sub_1000B08A0(v25, v26, &v41);

      *(v23 + 4) = v27;
      _os_log_impl(&_mh_execute_header, v21, v22, "HomePodSetupIconContent: viewDidLoad with title %s", v23, 0xCu);
      sub_10000E70C(v24);
    }

    else
    {

      sub_100047508(v11, type metadata accessor for HomePodSetupViewModel);
    }

    sub_1000420E0(v13);
    (*((swift_isaMask & *v1) + 0x1B0))(v13);
    if (*(v13 + v6[40]) == 1)
    {
      if (*(v13 + v6[51]) != 2)
      {
        sub_100044328();
      }
    }

    else if (*(v13 + v6[33]) == 1)
    {
      sub_10003E820(v13);
    }

    else if ((*(v13 + v6[19]) & 2) == 0)
    {
      v28 = (v13 + v6[20]);
      if (v28[1])
      {
        v30 = v28[6];
        v29 = v28[7];
        v32 = v28[4];
        v31 = v28[5];
        v34 = v28[2];
        v33 = v28[3];
        v35 = *v28;
        v36 = String._bridgeToObjectiveC()();
        v37 = String._bridgeToObjectiveC()();
        v38 = String._bridgeToObjectiveC()();
        v39 = String._bridgeToObjectiveC()();
        v40 = [v1 dismissalConfirmationActionWithTitle:v36 message:v37 confirmButtonTitle:v38 cancelButtonTitle:v39];

        [v1 setDismissButtonAction:v40];
      }
    }

    sub_1000418F0(v13);
    sub_100047508(v13, type metadata accessor for HomePodSetupViewModel);
  }
}

void sub_10003E820(uint64_t a1)
{
  v3 = type metadata accessor for HomePodSetupViewModel(0);
  v4 = (a1 + *(v3 + 84));
  v5 = v4[1];
  v38[0] = *v4;
  v38[1] = v5;
  v6 = v4[3];
  v38[2] = v4[2];
  v38[3] = v6;
  v38[4] = v4[4];
  if (*(&v38[0] + 1))
  {
    v30 = v1;
    v29 = v38[0];
    v7 = v4[4];
    v9 = v4[1];
    v8 = v4[2];
    v36 = v4[3];
    v37 = v7;
    v10 = *v4;
    v34 = v9;
    v35 = v8;
    v11 = *(a1 + *(v3 + 40));
    v12 = *(v11 + 16);
    v33[2] = v8;
    v33[3] = v36;
    v33[4] = v7;
    v33[0] = v10;
    v33[1] = v9;
    sub_1000475F4(v33, aBlock);
    v31 = v12;
    if (v12)
    {
      v13 = 0;
      v14 = (v11 + 56);
      while (v13 < *(v11 + 16))
      {
        v16 = *(v14 - 3);
        v15 = *(v14 - 2);
        v17 = *(v14 - 1);
        v18 = *v14;
        if (sub_10000FEC4(*v14) == 0x7972616D697270 && v19 == 0xE700000000000000)
        {

LABEL_13:
          v22 = swift_allocObject();
          *(v22 + 16) = v29;
          v23 = v35;
          *(v22 + 32) = v34;
          *(v22 + 48) = v23;
          v24 = v37;
          *(v22 + 64) = v36;
          *(v22 + 80) = v24;
          *(v22 + 96) = v30;
          *(v22 + 104) = v16;
          *(v22 + 112) = v15;
          *(v22 + 120) = v17;
          *(v22 + 128) = v18;
          v25 = v30;
          v26 = String._bridgeToObjectiveC()();
          aBlock[4] = sub_1000476B8;
          aBlock[5] = v22;
          aBlock[0] = _NSConcreteStackBlock;
          aBlock[1] = 1107296256;
          aBlock[2] = sub_10003DFD0;
          aBlock[3] = &unk_1000EFB68;
          v27 = _Block_copy(aBlock);
          v28 = [objc_opt_self() actionWithTitle:v26 style:0 handler:v27];

          _Block_release(v27);

          [v25 setDismissButtonAction:v28];

          return;
        }

        v21 = _stringCompareWithSmolCheck(_:_:expecting:)();

        if (v21)
        {
          goto LABEL_13;
        }

        ++v13;

        v14 += 32;
        if (v31 == v13)
        {
          goto LABEL_11;
        }
      }

      __break(1u);
    }

    else
    {
LABEL_11:
      sub_10000EBA4(v38, &unk_100102650, &qword_1000BD2B8);
    }
  }
}

uint64_t sub_10003EB08(uint64_t a1)
{
  v3 = type metadata accessor for HomePodSetupViewModel(0);
  v4 = *(v3 - 8);
  v5 = *(v4 + 64);
  v6 = *(a1 + *(__chkstk_darwin(v3 - 8) + 48));
  v7 = swift_allocObject();
  swift_unknownObjectWeakInit();
  sub_100046CC4(a1, &v22 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0), type metadata accessor for HomePodSetupViewModel);
  v8 = (*(v4 + 80) + 24) & ~*(v4 + 80);
  v9 = swift_allocObject();
  *(v9 + 16) = v7;
  sub_100047340(&v22 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0), v9 + v8, type metadata accessor for HomePodSetupViewModel);
  v10 = *(v6 + 16);
  if (v10)
  {
    v23 = objc_opt_self();
    v11 = (v6 + 56);
    do
    {
      v12 = *(v11 - 3);
      v13 = *(v11 - 2);
      v14 = *(v11 - 1);
      v15 = *v11;
      v11 += 32;
      v16 = swift_allocObject();
      *(v16 + 16) = v12;
      *(v16 + 24) = v13;
      *(v16 + 32) = v14;
      *(v16 + 40) = v15;
      *(v16 + 48) = sub_1000473A8;
      *(v16 + 56) = v9;
      swift_bridgeObjectRetain_n();

      v17 = String._bridgeToObjectiveC()();

      aBlock[4] = sub_10004745C;
      aBlock[5] = v16;
      aBlock[0] = _NSConcreteStackBlock;
      aBlock[1] = 1107296256;
      aBlock[2] = sub_10003DFD0;
      aBlock[3] = &unk_1000EF730;
      v18 = _Block_copy(aBlock);
      v19 = [v23 actionWithTitle:v17 style:v14 handler:v18];

      _Block_release(v18);

      v20 = [v1 addAction:v19];

      --v10;
    }

    while (v10);
  }
}

void sub_10003EDCC(char *a1, uint64_t a2, uint64_t a3)
{
  v4 = *a1;
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v5 = type metadata accessor for Logger();
  sub_100012AAC(v5, qword_100102500);
  v6 = Logger.logObject.getter();
  v7 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v6, v7))
  {
    v8 = swift_slowAlloc();
    v9 = swift_slowAlloc();
    v47 = v9;
    *v8 = 136315138;
    v10 = sub_10000FEC4(v4);
    v12 = sub_1000B08A0(v10, v11, &v47);

    *(v8 + 4) = v12;
    _os_log_impl(&_mh_execute_header, v6, v7, "HomePodSetupIconContent: User tapped on button: %s", v8, 0xCu);
    sub_10000E70C(v9);
  }

  if (sub_10000FEC4(v4) == 0x4C66664F6E727574 && v13 == 0xEF6E6F697461636FLL)
  {

LABEL_9:
    swift_beginAccess();
    Strong = swift_unknownObjectWeakLoadStrong();
    if (!Strong)
    {
      return;
    }

    v16 = Strong;
    sub_10003F3B4();
    goto LABEL_11;
  }

  v14 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if (v14)
  {
    goto LABEL_9;
  }

  if (sub_10000FEC4(v4) == 0xD000000000000017 && 0x80000001000C07A0 == v17)
  {

    goto LABEL_17;
  }

  v18 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if (v18)
  {
LABEL_17:
    v19 = [objc_opt_self() presenterForPrivacyUnifiedAbout];
    if (v19)
    {
      v16 = v19;
      v20 = [v19 combinedController];
      if (v20)
      {
        v21 = v20;
        [v20 setAllowsOpeningSafari:0];

        v22 = [v16 combinedController];
        if (v22)
        {
          v23 = v22;
          [v22 setPresentedFromPrivacyPane:1];

          swift_beginAccess();
          v24 = swift_unknownObjectWeakLoadStrong();
          [v16 setPresentingViewController:v24];

          [v16 present];
LABEL_11:

          return;
        }
      }

      else
      {
        __break(1u);
      }

      __break(1u);
      return;
    }

    return;
  }

  v25 = type metadata accessor for HomePodSetupViewModel(0);
  v26 = *(a3 + *(v25 + 208));
  if (v26)
  {
    v27 = (a3 + *(v25 + 212));
    v28 = v27[1];
    if (v28)
    {
      v29 = *v27;
      swift_beginAccess();
      v30 = swift_unknownObjectWeakLoadStrong();
      if (v30)
      {
        v31 = v30;
        v32 = v26;
        sub_10003F820(v32, v29, v28);
      }

      return;
    }
  }

  if (sub_10000FEC4(v4) == 0x654674726F706572 && v33 == 0xEE006B6361626465)
  {

    goto LABEL_29;
  }

  v34 = _stringCompareWithSmolCheck(_:_:expecting:)();

  if ((v34 & 1) == 0)
  {
    if (sub_10000FEC4(v4) == 0xD000000000000010 && 0x80000001000C06C0 == v36)
    {
    }

    else
    {
      v37 = _stringCompareWithSmolCheck(_:_:expecting:)();

      if ((v37 & 1) == 0)
      {
        if (sub_10000FEC4(v4) == 0xD000000000000014 && 0x80000001000C06A0 == v42)
        {
        }

        else
        {
          v43 = _stringCompareWithSmolCheck(_:_:expecting:)();

          if ((v43 & 1) == 0)
          {
            goto LABEL_36;
          }
        }

        swift_beginAccess();
        v44 = swift_unknownObjectWeakLoadStrong();
        if (v44)
        {
          v16 = v44;
          sub_10004075C();
          goto LABEL_11;
        }

        return;
      }
    }

    if (([objc_opt_self() isSiriForiCloudEnabled] & 1) == 0)
    {
      swift_beginAccess();
      v41 = swift_unknownObjectWeakLoadStrong();
      if (v41)
      {
        v16 = v41;
        sub_1000402F8();
        goto LABEL_11;
      }

      return;
    }

LABEL_36:
    swift_beginAccess();
    v38 = swift_unknownObjectWeakLoadStrong();
    if (v38)
    {
      v39 = v38;
      v40 = swift_unknownObjectWeakLoadStrong();

      if (v40)
      {
        v46 = 0;
        memset(v45, 0, sizeof(v45));
        memset(v48, 0, sizeof(v48));
        LOBYTE(v47) = v4;
        sub_100012DA0(v45, v48, &qword_1001025D0, &unk_1000BD010);
        sub_10007A070(&v47);
        swift_unknownObjectRelease();
        sub_100012E08(&v47);
      }
    }

    return;
  }

LABEL_29:
  swift_beginAccess();
  v35 = swift_unknownObjectWeakLoadStrong();
  if (v35)
  {
    v16 = v35;
    sub_10003FDE8();
    goto LABEL_11;
  }
}

void sub_10003F3B4()
{
  v1 = v0;
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v2 = type metadata accessor for Logger();
  sub_100012AAC(v2, qword_100102500);
  v3 = Logger.logObject.getter();
  v4 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v3, v4))
  {
    v5 = swift_slowAlloc();
    *v5 = 0;
    _os_log_impl(&_mh_execute_header, v3, v4, "HomePodSetupIconContent: presentRMViCloudEnable", v5, 2u);
  }

  v6 = String._bridgeToObjectiveC()();
  v7 = sub_100006658(v6);

  if (!v7)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v7 = String._bridgeToObjectiveC()();
  }

  v8 = String._bridgeToObjectiveC()();
  v9 = sub_100006658(v8);

  if (!v9)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v9 = String._bridgeToObjectiveC()();
  }

  v10 = [objc_opt_self() alertControllerWithTitle:v7 message:v9 preferredStyle:1];

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  if (!v12)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v12 = String._bridgeToObjectiveC()();
  }

  v13 = swift_allocObject();
  *(v13 + 16) = v1;
  v28 = sub_100047468;
  v29 = v13;
  v24 = _NSConcreteStackBlock;
  v25 = 1107296256;
  v26 = sub_10003DFD0;
  v27 = &unk_1000EF780;
  v14 = _Block_copy(&v24);
  v15 = v1;

  v16 = objc_opt_self();
  v17 = [v16 actionWithTitle:v12 style:2 handler:v14];
  _Block_release(v14);

  [v10 addAction:v17];
  v18 = String._bridgeToObjectiveC()();
  v19 = sub_100006658(v18);

  if (!v19)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v19 = String._bridgeToObjectiveC()();
  }

  v20 = swift_allocObject();
  *(v20 + 16) = v15;
  v28 = sub_100047488;
  v29 = v20;
  v24 = _NSConcreteStackBlock;
  v25 = 1107296256;
  v26 = sub_10003DFD0;
  v27 = &unk_1000EF7D0;
  v21 = _Block_copy(&v24);
  v22 = v15;

  v23 = [v16 actionWithTitle:v19 style:0 handler:v21];
  _Block_release(v21);

  [v10 addAction:v23];
  [v10 setPreferredAction:v23];
  [v22 presentViewController:v10 animated:1 completion:0];
}

void sub_10003F820(uint64_t a1, uint64_t a2, unint64_t a3)
{
  v4 = v3;
  v8 = String._bridgeToObjectiveC()();
  [v4 showActivityIndicatorWithStatus:v8];

  sub_10000E6C4(&qword_1001025D8, &qword_1000BD3D8);
  inited = swift_initStackObject();
  *(inited + 16) = xmmword_1000BD310;
  v10 = AATermsEntryiCloud;
  *(inited + 32) = AATermsEntryiCloud;
  v11 = AATermsEntryiTunes;
  v12 = AATermsEntryHomePodSLA;
  *(inited + 40) = AATermsEntryiTunes;
  *(inited + 48) = v12;
  v13 = AATermsEntryWarranty;
  *(inited + 56) = AATermsEntryWarranty;
  v14 = v10;
  v15 = v11;
  v16 = v12;
  v17 = v13;
  sub_100045648(inited);
  swift_setDeallocating();
  type metadata accessor for AATermsEntry(0);
  swift_arrayDestroy();
  v18 = [objc_opt_self() defaultStore];
  v19 = objc_allocWithZone(AAUIGenericTermsRemoteUI);
  sub_100046C70(&qword_1001025E0, type metadata accessor for AATermsEntry);
  isa = Set._bridgeToObjectiveC()().super.isa;

  v21 = [v19 initWithAccount:a1 inStore:v18 termsEntries:isa];

  if (v21)
  {
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v22 = type metadata accessor for Logger();
    sub_100012AAC(v22, qword_100102500);

    v23 = Logger.logObject.getter();
    v24 = static os_log_type_t.default.getter();

    if (os_log_type_enabled(v23, v24))
    {
      v25 = swift_slowAlloc();
      v26 = swift_slowAlloc();
      v41 = v26;
      *v25 = 136315138;
      *(v25 + 4) = sub_1000B08A0(a2, a3, &v41);
      _os_log_impl(&_mh_execute_header, v23, v24, "T&Cs show: info=%s", v25, 0xCu);
      sub_10000E70C(v26);
    }

    v27 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsUI;
    v28 = *&v4[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsUI];
    *&v4[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsUI] = v21;
    v29 = v21;

    sub_10000E6C4(&qword_1001019C8, &unk_1000BD3E0);
    v30 = swift_initStackObject();
    *(v30 + 16) = xmmword_1000BB8E0;
    v41 = 0xD00000000000001BLL;
    v42[0] = 0x80000001000C3C40;
    AnyHashable.init<A>(_:)();
    *(v30 + 96) = &type metadata for String;
    strcpy((v30 + 72), "PreProxSetup");
    *(v30 + 85) = 0;
    *(v30 + 86) = -5120;
    v41 = 0xD000000000000019;
    v42[0] = 0x80000001000C3C60;
    AnyHashable.init<A>(_:)();
    *(v30 + 168) = &type metadata for String;
    *(v30 + 144) = a2;
    *(v30 + 152) = a3;

    sub_10000D8A8(v30);
    swift_setDeallocating();
    sub_10000E6C4(&qword_100101970, &unk_1000BC240);
    swift_arrayDestroy();
    v31 = Dictionary._bridgeToObjectiveC()().super.isa;

    [v29 setAdditionalHeaders:v31];

    v4[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsInProgress] = 1;
    v32 = *&v4[v27];
    if (v32)
    {
      [v32 setDelegate:v4];
      v33 = *&v4[v27];
      if (v33)
      {
        v34 = v33;
        [v34 presentFromViewController:v4 modal:0];
      }
    }
  }

  else
  {
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v35 = type metadata accessor for Logger();
    sub_100012AAC(v35, qword_100102500);
    v36 = Logger.logObject.getter();
    v37 = static os_log_type_t.error.getter();
    if (os_log_type_enabled(v36, v37))
    {
      v38 = swift_slowAlloc();
      *v38 = 0;
      _os_log_impl(&_mh_execute_header, v36, v37, "T&Cs: AAUIGenericTermsRemoteUI failed", v38, 2u);
    }

    if (swift_unknownObjectWeakLoadStrong())
    {
      v40 = 0;
      memset(v39, 0, sizeof(v39));
      memset(v42, 0, sizeof(v42));
      LOBYTE(v41) = 9;
      sub_100012DA0(v39, v42, &qword_1001025D0, &unk_1000BD010);
      sub_10007A070(&v41);
      swift_unknownObjectRelease();
      sub_100012E08(&v41);
    }
  }
}

void sub_10003FDE8()
{
  v1 = v0;
  v2 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v3 = *(*(v2 - 8) + 64);
  __chkstk_darwin(v2 - 8);
  v5 = &v36 - v4;
  v6 = type metadata accessor for FBKFeedbackForm.Question();
  v7 = *(v6 - 8);
  v8 = v7[8];
  __chkstk_darwin(v6);
  v10 = (&v36 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  v11 = objc_allocWithZone(type metadata accessor for FBKFeedbackForm());
  v12 = FBKFeedbackForm.init(identifier:)();
  v13 = v7[13];
  v13(v10, enum case for FBKFeedbackForm.Question.title(_:), v6);
  dispatch thunk of FBKFeedbackForm.prefill(question:answer:)();
  v14 = v7[1];
  v14(v10, v6);
  *v10 = 0x65725F657079743ALL;
  v10[1] = 0xE900000000000071;
  v13(v10, enum case for FBKFeedbackForm.Question.custom(_:), v6);
  dispatch thunk of FBKFeedbackForm.prefill(question:answer:)();
  v14(v10, v6);
  v15 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_10000F25C(v1 + v15, v5, &qword_100103420, &unk_1000BCE90);
  v16 = type metadata accessor for HomePodSetupViewModel(0);
  if ((*(*(v16 - 8) + 48))(v5, 1, v16))
  {
    sub_10000EBA4(v5, &qword_100103420, &unk_1000BCE90);
  }

  else
  {
    v17 = &v5[*(v16 + 196)];
    v19 = *v17;
    v18 = *(v17 + 1);

    sub_10000EBA4(v5, &qword_100103420, &unk_1000BCE90);
    if (v18)
    {
      sub_10000E6C4(&unk_100102640, &qword_1000BD408);
      v20 = *(type metadata accessor for URL() - 8);
      v21 = *(v20 + 72);
      v22 = (*(v20 + 80) + 32) & ~*(v20 + 80);
      *(swift_allocObject() + 16) = xmmword_1000BD050;
      URL.init(fileURLWithPath:)();

      dispatch thunk of FBKFeedbackForm.attachments.setter();
    }
  }

  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v23 = type metadata accessor for Logger();
  sub_100012AAC(v23, qword_100102500);
  v24 = v12;
  v25 = Logger.logObject.getter();
  v26 = static os_log_type_t.default.getter();

  if (os_log_type_enabled(v25, v26))
  {
    v27 = swift_slowAlloc();
    v28 = swift_slowAlloc();
    v36 = v28;
    *v27 = 136315138;
    dispatch thunk of FBKFeedbackForm.attachments.getter();
    type metadata accessor for URL();
    v29 = Array.description.getter();
    v31 = v30;

    v32 = sub_1000B08A0(v29, v31, &v36);

    *(v27 + 4) = v32;
    _os_log_impl(&_mh_execute_header, v25, v26, "Presenting Feedback Form with attachments %s", v27, 0xCu);
    sub_10000E70C(v28);
  }

  v33 = objc_allocWithZone(type metadata accessor for FBKFeedbackDraftViewController());
  v34 = v24;
  v35 = FBKFeedbackDraftViewController.init(feedbackForm:)();
  swift_unknownObjectRetain();
  dispatch thunk of FBKFeedbackDraftViewController.delegate.setter();
  [v1 presentViewController:v35 animated:1 completion:0];
}

void sub_1000402F8()
{
  v1 = v0;
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v2 = type metadata accessor for Logger();
  sub_100012AAC(v2, qword_100102500);
  v3 = Logger.logObject.getter();
  v4 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v3, v4))
  {
    v5 = swift_slowAlloc();
    *v5 = 0;
    _os_log_impl(&_mh_execute_header, v3, v4, "HomePodSetupIconContent: presentRMViCloudEnable", v5, 2u);
  }

  v6 = String._bridgeToObjectiveC()();
  v7 = sub_100006658(v6);

  if (!v7)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v7 = String._bridgeToObjectiveC()();
  }

  v8 = String._bridgeToObjectiveC()();
  v9 = sub_100006658(v8);

  if (!v9)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v9 = String._bridgeToObjectiveC()();
  }

  v10 = [objc_opt_self() alertControllerWithTitle:v7 message:v9 preferredStyle:1];

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  if (!v12)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v12 = String._bridgeToObjectiveC()();
  }

  v13 = swift_allocObject();
  *(v13 + 16) = v1;
  v28 = sub_1000474A8;
  v29 = v13;
  v24 = _NSConcreteStackBlock;
  v25 = 1107296256;
  v26 = sub_10003DFD0;
  v27 = &unk_1000EF820;
  v14 = _Block_copy(&v24);
  v15 = v1;

  v16 = objc_opt_self();
  v17 = [v16 actionWithTitle:v12 style:0 handler:v14];
  _Block_release(v14);

  [v10 addAction:v17];
  v18 = String._bridgeToObjectiveC()();
  v19 = sub_100006658(v18);

  if (!v19)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v19 = String._bridgeToObjectiveC()();
  }

  v20 = swift_allocObject();
  *(v20 + 16) = v15;
  v28 = sub_1000474C8;
  v29 = v20;
  v24 = _NSConcreteStackBlock;
  v25 = 1107296256;
  v26 = sub_10003DFD0;
  v27 = &unk_1000EF870;
  v21 = _Block_copy(&v24);
  v22 = v15;

  v23 = [v16 actionWithTitle:v19 style:1 handler:v21];
  _Block_release(v21);

  [v10 addAction:v23];
  [v10 setPreferredAction:v17];
  [v22 presentViewController:v10 animated:1 completion:0];
}

void sub_10004075C()
{
  v1 = v0;
  v2 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v3 = *(*(v2 - 8) + 64);
  __chkstk_darwin(v2 - 8);
  v5 = &v50 - v4;
  v6 = type metadata accessor for HomePodSetupViewModel(0);
  v7 = *(v6 - 8);
  v8 = *(v7 + 64);
  __chkstk_darwin(v6);
  v10 = &v50 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  v11 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_10000F25C(v1 + v11, v5, &qword_100103420, &unk_1000BCE90);
  if ((*(v7 + 48))(v5, 1, v6) == 1)
  {
    sub_10000EBA4(v5, &qword_100103420, &unk_1000BCE90);
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v12 = type metadata accessor for Logger();
    sub_100012AAC(v12, qword_100102500);
    v13 = Logger.logObject.getter();
    v14 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v13, v14))
    {
      v15 = swift_slowAlloc();
      *v15 = 0;
      _os_log_impl(&_mh_execute_header, v13, v14, "HomePodSetupIconContent: presentCancelSUAcknowledgement skipped since viewmodel is nil", v15, 2u);
    }
  }

  else
  {
    sub_100047340(v5, v10, type metadata accessor for HomePodSetupViewModel);
    if (v10[*(v6 + 140)] == 1)
    {
      if (qword_100101610 != -1)
      {
        swift_once();
      }

      v16 = type metadata accessor for Logger();
      sub_100012AAC(v16, qword_100102500);
      v17 = Logger.logObject.getter();
      v18 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v17, v18))
      {
        v19 = swift_slowAlloc();
        *v19 = 0;
        _os_log_impl(&_mh_execute_header, v17, v18, "HomePodSetupIconContent: addButtonActions cancel tapped when SUBS finished", v19, 2u);
      }

      v20 = String._bridgeToObjectiveC()();
      v21 = sub_100006658(v20);

      if (!v21)
      {
        static String._unconditionallyBridgeFromObjectiveC(_:)();
        v21 = String._bridgeToObjectiveC()();
      }

      v22 = String._bridgeToObjectiveC()();
      v23 = sub_100006658(v22);

      if (!v23)
      {
        static String._unconditionallyBridgeFromObjectiveC(_:)();
        v23 = String._bridgeToObjectiveC()();
      }

      v24 = [objc_opt_self() alertControllerWithTitle:v21 message:v23 preferredStyle:1];

      v25 = String._bridgeToObjectiveC()();
      v26 = sub_100006658(v25);

      if (!v26)
      {
        static String._unconditionallyBridgeFromObjectiveC(_:)();
        v26 = String._bridgeToObjectiveC()();
      }

      v27 = swift_allocObject();
      *(v27 + 16) = v24;
      v55 = sub_1000477B0;
      v56 = v27;
      aBlock = _NSConcreteStackBlock;
      v52 = 1107296256;
      v53 = sub_10003DFD0;
      v54 = &unk_1000EF960;
      v28 = _Block_copy(&aBlock);
      v29 = v24;

      v30 = [objc_opt_self() actionWithTitle:v26 style:0 handler:v28];
      _Block_release(v28);

      [v29 addAction:v30];
      [v29 setPreferredAction:v30];
      [v1 presentViewController:v29 animated:1 completion:0];
    }

    else
    {
      if (qword_100101610 != -1)
      {
        swift_once();
      }

      v31 = type metadata accessor for Logger();
      sub_100012AAC(v31, qword_100102500);
      v32 = Logger.logObject.getter();
      v33 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v32, v33))
      {
        v34 = swift_slowAlloc();
        *v34 = 0;
        _os_log_impl(&_mh_execute_header, v32, v33, "HomePodSetupIconContent: addButtonActions cancel tapped, presenting confirmation alert", v34, 2u);
      }

      v35 = String._bridgeToObjectiveC()();
      v36 = sub_100006658(v35);

      if (!v36)
      {
        static String._unconditionallyBridgeFromObjectiveC(_:)();
        v36 = String._bridgeToObjectiveC()();
      }

      v37 = String._bridgeToObjectiveC()();
      v38 = sub_100006658(v37);

      if (!v38)
      {
        static String._unconditionallyBridgeFromObjectiveC(_:)();
        v38 = String._bridgeToObjectiveC()();
      }

      v39 = [objc_opt_self() alertControllerWithTitle:v36 message:v38 preferredStyle:1];

      v40 = String._bridgeToObjectiveC()();
      v41 = sub_100006658(v40);

      if (!v41)
      {
        static String._unconditionallyBridgeFromObjectiveC(_:)();
        v41 = String._bridgeToObjectiveC()();
      }

      v42 = swift_allocObject();
      *(v42 + 16) = v1;
      v55 = sub_1000474E8;
      v56 = v42;
      aBlock = _NSConcreteStackBlock;
      v52 = 1107296256;
      v53 = sub_10003DFD0;
      v54 = &unk_1000EF8C0;
      v43 = _Block_copy(&aBlock);
      v50 = v1;

      v44 = objc_opt_self();
      v45 = [v44 actionWithTitle:v41 style:0 handler:v43];
      _Block_release(v43);

      [v39 addAction:v45];
      v46 = String._bridgeToObjectiveC()();
      v47 = sub_100006658(v46);

      if (!v47)
      {
        static String._unconditionallyBridgeFromObjectiveC(_:)();
        v47 = String._bridgeToObjectiveC()();
      }

      v48 = swift_allocObject();
      *(v48 + 16) = v39;
      v55 = sub_1000477B0;
      v56 = v48;
      aBlock = _NSConcreteStackBlock;
      v52 = 1107296256;
      v53 = sub_10003DFD0;
      v54 = &unk_1000EF910;
      v49 = _Block_copy(&aBlock);
      v30 = v39;

      v29 = [v44 actionWithTitle:v47 style:1 handler:v49];
      _Block_release(v49);

      [v30 addAction:v29];
      [v30 setPreferredAction:v45];
      [v50 presentViewController:v30 animated:1 completion:0];
    }

    sub_100047508(v10, type metadata accessor for HomePodSetupViewModel);
  }
}

uint64_t sub_100041150(char a1)
{
  v3 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v4 = *(*(v3 - 8) + 64);
  __chkstk_darwin(v3 - 8);
  v6 = &aBlock[-1] - v5;
  v7 = type metadata accessor for HomePodSetupViewModel(0);
  v8 = *(v7 - 8);
  v9 = *(v8 + 64);
  __chkstk_darwin(v7);
  v11 = &aBlock[-1] - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  v12 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_10000F25C(v1 + v12, v6, &qword_100103420, &unk_1000BCE90);
  if ((*(v8 + 48))(v6, 1, v7) == 1)
  {
    return sub_10000EBA4(v6, &qword_100103420, &unk_1000BCE90);
  }

  sub_100047340(v6, v11, type metadata accessor for HomePodSetupViewModel);
  if (v11[*(v7 + 168)] == 1)
  {
    sub_10000E6C4(&unk_1001036E0, &unk_1000BD410);
    v14 = swift_allocObject();
    *(v14 + 16) = xmmword_1000BD050;
    *(v14 + 56) = &type metadata for String;
    *(v14 + 32) = 0xD000000000000010;
    *(v14 + 40) = 0x80000001000C4000;
    v15 = objc_allocWithZone(UIActivityViewController);
    isa = Array._bridgeToObjectiveC()().super.isa;

    v17 = [v15 initWithActivityItems:isa applicationActivities:0];

    v18 = [v17 popoverPresentationController];
    if (v18)
    {
      v19 = v18;
      v20 = [v1 view];
      [v19 setSourceView:v20];
    }

    v21 = v1;
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v22 = type metadata accessor for Logger();
    sub_100012AAC(v22, qword_100102500);
    v23 = Logger.logObject.getter();
    v24 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v23, v24))
    {
      v25 = swift_slowAlloc();
      *v25 = 0;
      _os_log_impl(&_mh_execute_header, v23, v24, "HomePodSetupIconContent: showing sharesheet", v25, 2u);
    }

    v26 = swift_allocObject();
    *(v26 + 16) = v17;
    aBlock[4] = sub_100047568;
    aBlock[5] = v26;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_100091194;
    aBlock[3] = &unk_1000EF9B0;
    v27 = _Block_copy(aBlock);
    v28 = v17;

    v1 = v21;
    [v21 presentViewController:v28 animated:0 completion:v27];
    _Block_release(v27);
  }

  v29 = type metadata accessor for HomePodSetupIconContentViewController();
  v32.receiver = v1;
  v32.super_class = v29;
  objc_msgSendSuper2(&v32, "viewWillDisappear:", a1 & 1);
  return sub_100047508(v11, type metadata accessor for HomePodSetupViewModel);
}

void sub_1000415B4(void *a1)
{
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v2 = type metadata accessor for Logger();
  sub_100012AAC(v2, qword_100102500);
  v3 = Logger.logObject.getter();
  v4 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v3, v4))
  {
    v5 = swift_slowAlloc();
    *v5 = 0;
    _os_log_impl(&_mh_execute_header, v3, v4, "HomePodSetupIconContent: dismissing sharesheet", v5, 2u);
  }

  v7[4] = nullsub_1;
  v7[5] = 0;
  v7[0] = _NSConcreteStackBlock;
  v7[1] = 1107296256;
  v7[2] = sub_100091194;
  v7[3] = &unk_1000EF9D8;
  v6 = _Block_copy(v7);
  [a1 dismissViewControllerAnimated:0 completion:v6];
  _Block_release(v6);
}

void sub_100041770(char a1)
{
  v2 = v1;
  v10.receiver = v2;
  v10.super_class = type metadata accessor for HomePodSetupIconContentViewController();
  objc_msgSendSuper2(&v10, "viewDidDisappear:", a1 & 1);
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v4 = type metadata accessor for Logger();
  sub_100012AAC(v4, qword_100102500);
  v5 = Logger.logObject.getter();
  v6 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v5, v6))
  {
    v7 = swift_slowAlloc();
    *v7 = 0;
    _os_log_impl(&_mh_execute_header, v5, v6, "HomePodSetupIconContent: viewDidDisappear", v7, 2u);
  }

  v8 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_movieView;
  [*&v2[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_movieView] stop];
  v9 = *&v2[v8];
  *&v2[v8] = 0;
}

int *sub_1000418F0(uint64_t a1)
{
  v2 = v1;
  result = type metadata accessor for HomePodSetupViewModel(0);
  v5 = (a1 + result[24]);
  if (!v5[1])
  {
    return result;
  }

  v6 = *v5;
  v7 = (a1 + result[25]);
  v8 = v7[1];
  if (v8)
  {
    v9 = *v7;
    v10 = swift_allocObject();
    v10[2] = v9;
    v10[3] = v8;
    v10[4] = v1;
    v11 = v1;
    v12 = sub_100046DBC;
  }

  else
  {
    v13 = (a1 + result[26]);
    v14 = v13[1];
    if (v14)
    {
      v15 = *v13;
      v10 = swift_allocObject();
      v10[2] = v15;
      v10[3] = v14;

      v12 = sub_100046D74;
    }

    else
    {
      if (*(a1 + result[50]) != 1)
      {
        v17 = nullsub_1;
        v10 = 0;
        goto LABEL_9;
      }

      v10 = swift_allocObject();
      v10[2] = v1;
      v16 = v1;
      v12 = sub_100046D34;
    }
  }

  v17 = v12;

LABEL_9:
  sub_10003AE18(0, &qword_100102628, UIButton_ptr);
  sub_10003AE18(0, &unk_100102630, UIAction_ptr);

  v29.value.super.super.isa = UIAction.init(title:subtitle:image:selectedImage:identifier:discoverabilityTitle:attributes:state:handler:)();
  v18.super.super.super.super.isa = UIButton.init(type:primaryAction:)(UIButtonTypeSystem, v29).super.super.super.super.isa;
  [(objc_class *)v18.super.super.super.super.isa setTranslatesAutoresizingMaskIntoConstraints:0, 0, 0, 0, v17, v10];
  v19 = [(objc_class *)v18.super.super.super.super.isa titleLabel];
  if (v19)
  {
    v20 = v19;
    v21 = [objc_opt_self() preferredFontDescriptorWithTextStyle:UIFontTextStyleFootnote];
    v22 = [v21 fontDescriptorWithSymbolicTraits:2];

    sub_10000E6C4(&qword_1001023E0, &qword_1000BD400);
    Optional.unwrap(_:file:line:)();

    v23 = v28;
    [v23 pointSize];
    v25 = [objc_opt_self() fontWithDescriptor:v23 size:v24];

    [v20 setFont:v25];
    [v20 setAdjustsFontForContentSizeCategory:1];
    [v20 setNumberOfLines:0];
  }

  v26 = *&v2[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView];
  v27 = v18.super.super.super.super.isa;
  sub_100047AFC(v18.super.super.super.super.isa);
}

void sub_100041C88(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v5 = String._bridgeToObjectiveC()();
  v6 = [objc_opt_self() presenterForPrivacySplashWithIdentifier:v5];

  if (v6)
  {
    [v6 setPresentingViewController:a4];
    [v6 setDisplayDeviceType:6];
    [v6 present];
  }
}

id sub_100041D50(uint64_t a1, uint64_t a2, unint64_t a3)
{
  v5 = sub_10000E6C4(&qword_100101F08, &unk_1000BD100);
  v6 = *(*(v5 - 8) + 64);
  v7 = __chkstk_darwin(v5 - 8);
  v9 = &v26 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  v11 = &v26 - v10;
  URL.init(string:)();
  result = [objc_opt_self() defaultWorkspace];
  if (result)
  {
    v13 = result;
    sub_10000F25C(v11, v9, &qword_100101F08, &unk_1000BD100);
    v14 = type metadata accessor for URL();
    v15 = *(v14 - 8);
    v17 = 0;
    if ((*(v15 + 48))(v9, 1, v14) != 1)
    {
      URL._bridgeToObjectiveC()(v16);
      v17 = v18;
      (*(v15 + 8))(v9, v14);
    }

    sub_10000DC20(_swiftEmptyArrayStorage);
    isa = Dictionary._bridgeToObjectiveC()().super.isa;

    v20 = [v13 openURL:v17 withOptions:isa];

    if ((v20 & 1) == 0)
    {
      if (qword_100101610 != -1)
      {
        swift_once();
      }

      v21 = type metadata accessor for Logger();
      sub_100012AAC(v21, qword_100102500);

      v22 = Logger.logObject.getter();
      v23 = static os_log_type_t.default.getter();

      if (os_log_type_enabled(v22, v23))
      {
        v24 = swift_slowAlloc();
        v25 = swift_slowAlloc();
        v27 = v25;
        *v24 = 136315138;
        *(v24 + 4) = sub_1000B08A0(a2, a3, &v27);
        _os_log_impl(&_mh_execute_header, v22, v23, "HomePodSetupIconContent: unable to open URL %s", v24, 0xCu);
        sub_10000E70C(v25);
      }
    }

    return sub_10000EBA4(v11, &qword_100101F08, &unk_1000BD100);
  }

  else
  {
    __break(1u);
  }

  return result;
}

void sub_100042068(uint64_t a1, void *a2)
{
  type metadata accessor for HomePodPrivacyConsentViewController();
  v3 = [objc_allocWithZone(swift_getObjCClassFromMetadata()) init];
  [a2 presentViewController:v3 animated:1 completion:0];
}

void sub_1000420E0(void *a1)
{
  v2 = v1;
  v4 = sub_10000E6C4(&unk_100102610, &unk_1000BD130);
  v5 = *(*(v4 - 8) + 64);
  __chkstk_darwin(v4 - 8);
  v7 = &v69 - v6;
  v8 = type metadata accessor for AdjustedImage(0);
  v71 = *(v8 - 8);
  v72 = v8;
  v9 = *(v71 + 64);
  __chkstk_darwin(v8);
  v70 = (&v69 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0));
  v11 = sub_10000E6C4(&unk_100101FB0, &qword_1000BD128);
  v12 = *(*(v11 - 8) + 64);
  __chkstk_darwin(v11 - 8);
  v14 = &v69 - v13;
  v15 = type metadata accessor for AdjustedMovie(0);
  v16 = *(v15 - 8);
  v17 = *(v16 + 64);
  __chkstk_darwin(v15);
  v19 = (&v69 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0));
  v20 = *a1;
  v21 = a1[1];
  v22 = String._bridgeToObjectiveC()();
  [v2 setTitle:v22];

  v23 = a1[2];
  v24 = a1[3];
  v25 = String._bridgeToObjectiveC()();
  [v2 setSubtitle:v25];

  v26 = type metadata accessor for HomePodSetupViewModel(0);
  v27 = *(a1 + v26[56]);
  if (v27)
  {
    v28 = v27;
    sub_100043FE0(v28);
  }

  v29 = (a1 + v26[7]);
  v30 = *v29;
  v31 = v29[1];
  v32 = HIBYTE(v31) & 0xF;
  if ((v31 & 0x2000000000000000) == 0)
  {
    v32 = v30 & 0xFFFFFFFFFFFFLL;
  }

  if (v32)
  {
    goto LABEL_9;
  }

  v33 = (a1 + v26[8]);
  v30 = *v33;
  v31 = v33[1];
  v34 = HIBYTE(v31) & 0xF;
  if ((v31 & 0x2000000000000000) == 0)
  {
    v34 = v30 & 0xFFFFFFFFFFFFLL;
  }

  if (v34)
  {
LABEL_9:
    sub_100043C7C(v30, v31);
  }

  sub_10000F25C(a1 + v26[6], v14, &unk_100101FB0, &qword_1000BD128);
  if ((*(v16 + 48))(v14, 1, v15) != 1)
  {
    sub_100047340(v14, v19, type metadata accessor for AdjustedMovie);
    if ((v2[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_loadedMovie] & 1) == 0)
    {
      v2[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_loadedMovie] = 1;
      sub_1000429D8(v19);
      sub_100042F60(v19);
    }

    v40 = type metadata accessor for AdjustedMovie;
    goto LABEL_21;
  }

  sub_10000EBA4(v14, &unk_100101FB0, &qword_1000BD128);
  v35 = *(a1 + v26[11]);
  if (v35 >> 62)
  {
    if (v35 < 0)
    {
      v58 = *(a1 + v26[11]);
    }

    if (_CocoaArrayWrapper.endIndex.getter())
    {
      goto LABEL_13;
    }

    goto LABEL_34;
  }

  if (!*((v35 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
LABEL_34:
    sub_10000F25C(a1 + v26[28], v7, &unk_100102610, &unk_1000BD130);
    if ((*(v71 + 48))(v7, 1, v72) == 1)
    {
      sub_10000EBA4(v7, &unk_100102610, &unk_1000BD130);
      goto LABEL_22;
    }

    v19 = v70;
    sub_100047340(v7, v70, type metadata accessor for AdjustedImage);
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v59 = type metadata accessor for Logger();
    sub_100012AAC(v59, qword_100102500);
    v60 = Logger.logObject.getter();
    v61 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v60, v61))
    {
      v62 = swift_slowAlloc();
      *v62 = 0;
      _os_log_impl(&_mh_execute_header, v60, v61, "HomePodSetupIconContent: iconImages empty, prodImage used", v62, 2u);
    }

    v63 = [objc_allocWithZone(SFAdjustedImageView) initWithImage:*v19];
    sub_100083828(v19 + *(v72 + 20));
    [v63 setTranslatesAutoresizingMaskIntoConstraints:0];
    v64 = *&v2[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView];
    sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
    v65 = swift_allocObject();
    *(v65 + 16) = xmmword_1000BCE00;
    *(v65 + 32) = v63;
    v66 = *&v64[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews];
    *&v64[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews] = v65;
    v67 = v64;
    v68 = v63;
    sub_10004781C(v66);

    v40 = type metadata accessor for AdjustedImage;
LABEL_21:
    sub_100047508(v19, v40);
    goto LABEL_22;
  }

LABEL_13:
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v36 = type metadata accessor for Logger();
  sub_100012AAC(v36, qword_100102500);
  v37 = Logger.logObject.getter();
  v38 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v37, v38))
  {
    v39 = swift_slowAlloc();
    *v39 = 0;
    _os_log_impl(&_mh_execute_header, v37, v38, "HomePodSetupIconContent: iconImages used", v39, 2u);
  }

  sub_100043938(v35);
LABEL_22:
  v41 = *(a1 + v26[23]);
  if (v41)
  {
    v42 = v41;
    if ([v42 length] >= 1)
    {
      v43 = [objc_allocWithZone(UILabel) init];
      v44 = [objc_opt_self() preferredFontDescriptorWithTextStyle:UIFontTextStyleHeadline];
      v45 = [v44 fontDescriptorWithSymbolicTraits:2];

      v73 = v45;
      sub_10000E6C4(&qword_1001023E0, &qword_1000BD400);
      Optional.unwrap(_:file:line:)();

      v46 = v74;
      [v46 pointSize];
      v48 = [objc_opt_self() fontWithDescriptor:v46 size:v47];

      [v43 setFont:v48];
      v49 = [objc_opt_self() labelColor];
      [v43 setTextColor:v49];

      [v43 setTextAlignment:1];
      [v43 setNumberOfLines:0];
      [v43 setAttributedText:v42];
      [v43 setTranslatesAutoresizingMaskIntoConstraints:0];
      v50 = *&v2[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView];
      v51 = *&v50[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabel];
      *&v50[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabel] = v43;
      v52 = v43;
      v53 = v50;
      sub_100047A0C(v51);

      v42 = v51;
    }
  }

  if (*(a1 + v26[57]) == 1)
  {
    [v2 setDismissalType:*(a1 + v26[19])];
  }

  if (*(a1 + v26[39]) == 1)
  {
    v54 = (a1 + v26[9]);
    v55 = *v54;
    v56 = v54[1];
    v57 = String._bridgeToObjectiveC()();
    [v2 showActivityIndicatorWithStatus:v57];
  }
}

void sub_1000429D8(uint64_t a1)
{
  v2 = [objc_allocWithZone(UILayoutGuide) init];
  v3 = [v1 contentView];
  [v3 addLayoutGuide:v2];

  v4 = [objc_allocWithZone(SFMediaPlayerView) init];
  [v4 setTranslatesAutoresizingMaskIntoConstraints:0];
  v5 = [v1 view];
  if (v5)
  {
    v6 = v5;
    [v5 addSubview:v4];

    v7 = [v1 contentView];
    v42 = [v7 mainContentGuide];

    v40 = objc_opt_self();
    sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
    v8 = swift_allocObject();
    *(v8 + 16) = xmmword_1000BD320;
    v9 = [v2 topAnchor];
    v10 = [v42 topAnchor];
    v11 = [v9 constraintGreaterThanOrEqualToAnchor:v10];

    *(v8 + 32) = v11;
    v12 = [v2 bottomAnchor];
    v13 = [v42 bottomAnchor];
    v14 = [v12 constraintLessThanOrEqualToAnchor:v13];

    *(v8 + 40) = v14;
    v15 = [v2 centerYAnchor];
    v16 = [v42 centerYAnchor];
    v17 = [v15 constraintEqualToAnchor:v16];

    *(v8 + 48) = v17;
    v18 = [v2 leadingAnchor];
    v19 = [v42 leadingAnchor];
    v20 = [v18 constraintEqualToAnchor:v19];

    *(v8 + 56) = v20;
    v21 = [v2 trailingAnchor];
    v22 = [v42 trailingAnchor];
    v23 = [v21 constraintEqualToAnchor:v22];

    *(v8 + 64) = v23;
    v24 = [v2 heightAnchor];
    v25 = type metadata accessor for AdjustedMovie(0);
    v26 = [v24 constraintEqualToConstant:*(a1 + v25[8])];

    *(v8 + 72) = v26;
    v27 = [v4 centerYAnchor];
    v28 = [v2 centerYAnchor];
    v29 = [v27 constraintEqualToAnchor:v28];

    *(v8 + 80) = v29;
    v30 = [v4 centerXAnchor];
    v31 = [v2 centerXAnchor];
    v32 = [v30 constraintEqualToAnchor:v31];

    *(v8 + 88) = v32;
    v33 = [v4 heightAnchor];
    v34 = [v33 constraintEqualToConstant:*(a1 + v25[7])];

    *(v8 + 96) = v34;
    v35 = [v4 widthAnchor];

    v36 = [v35 constraintEqualToConstant:*(a1 + v25[6])];
    *(v8 + 104) = v36;
    sub_10003AE18(0, &qword_100102620, NSLayoutConstraint_ptr);
    isa = Array._bridgeToObjectiveC()().super.isa;

    [v40 activateConstraints:isa];

    v38 = *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_movieView];
    *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_movieView] = v4;
    v39 = v4;

    [v39 setUserInteractionEnabled:0];
  }

  else
  {
    __break(1u);
  }
}

void sub_100042F60(uint64_t *a1)
{
  v3 = type metadata accessor for AdjustedMovie(0);
  v4 = *(*(v3 - 8) + 64);
  v5 = __chkstk_darwin(v3);
  v7 = (&v55 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v5);
  v9 = (&v55 - v8);
  v10 = type metadata accessor for URL();
  v11 = *(v10 - 8);
  v12 = *(v11 + 64);
  __chkstk_darwin(v10);
  v14 = &v55 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  v15 = *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_movieView];
  if (v15)
  {
    v58 = v1;
    v16 = *a1;
    v17 = a1[1];
    v56 = v15;
    v57 = v14;
    URL.init(fileURLWithPath:isDirectory:)();
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v55 = v3;
    v18 = type metadata accessor for Logger();
    sub_100012AAC(v18, qword_100102500);
    sub_100046CC4(a1, v9, type metadata accessor for AdjustedMovie);
    v19 = Logger.logObject.getter();
    v20 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v19, v20))
    {
      v21 = swift_slowAlloc();
      v22 = swift_slowAlloc();
      aBlock[0] = v22;
      *v21 = 136315138;
      v23 = v11;
      v24 = v10;
      v26 = *v9;
      v25 = v9[1];

      sub_100047508(v9, type metadata accessor for AdjustedMovie);
      v27 = sub_1000B08A0(v26, v25, aBlock);

      *(v21 + 4) = v27;
      v10 = v24;
      v11 = v23;
      _os_log_impl(&_mh_execute_header, v19, v20, "HomePodSetupIconContent: playMovie:movieName %s", v21, 0xCu);
      sub_10000E70C(v22);
    }

    else
    {

      sub_100047508(v9, type metadata accessor for AdjustedMovie);
    }

    v36 = v58;
    v37 = v56;
    [v56 setPausesAfterEachItem:1];
    v38 = objc_allocWithZone(SFMediaPlayerItem);
    v39 = v57;
    URL._bridgeToObjectiveC()(v40);
    v42 = v41;
    v43 = [v38 initWithURL:v41];

    [v37 addMovieItem:v43];
    [v37 play];
    [v37 setHidden:0];
    v44 = [objc_opt_self() currentTraitCollection];
    v45 = [v44 userInterfaceStyle];

    if (v45 == 2)
    {
      v46 = 1;
    }

    else
    {
      v46 = 2;
    }

    URL._bridgeToObjectiveC()(*(v55 + 20));
    v48 = v47;
    [v37 updateViewForAssetType:v46 adjustmentsURL:v47];

    v49 = [v36 contentView];
    v50 = [v49 titleView];

    if (v50)
    {
      [v50 setAlpha:0.0];
    }

    sub_10006F468(0.0);
    v51 = objc_opt_self();
    v52 = swift_allocObject();
    *(v52 + 16) = v36;
    aBlock[4] = sub_100046D2C;
    aBlock[5] = v52;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_100091194;
    aBlock[3] = &unk_1000EF618;
    v53 = _Block_copy(aBlock);
    v54 = v36;

    [v51 animateWithDuration:65538 delay:v53 options:0 animations:1.5 completion:0.7];
    _Block_release(v53);

    (*(v11 + 8))(v39, v10);
  }

  else
  {
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v28 = type metadata accessor for Logger();
    sub_100012AAC(v28, qword_100102500);
    sub_100046CC4(a1, v7, type metadata accessor for AdjustedMovie);
    v29 = Logger.logObject.getter();
    v30 = static os_log_type_t.error.getter();
    if (os_log_type_enabled(v29, v30))
    {
      v31 = swift_slowAlloc();
      v32 = swift_slowAlloc();
      aBlock[0] = v32;
      *v31 = 136315138;
      v33 = *v7;
      v34 = v7[1];

      sub_100047508(v7, type metadata accessor for AdjustedMovie);
      v35 = sub_1000B08A0(v33, v34, aBlock);

      *(v31 + 4) = v35;
      _os_log_impl(&_mh_execute_header, v29, v30, "HomePodSetupIconContent: playMovie:movieName %s but movieView is nil", v31, 0xCu);
      sub_10000E70C(v32);
    }

    else
    {

      sub_100047508(v7, type metadata accessor for AdjustedMovie);
    }
  }
}

void sub_100043618()
{
  v1 = v0;
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v2 = type metadata accessor for Logger();
  sub_100012AAC(v2, qword_100102500);
  v3 = Logger.logObject.getter();
  v4 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v3, v4))
  {
    v5 = swift_slowAlloc();
    *v5 = 0;
    _os_log_impl(&_mh_execute_header, v3, v4, "HomePodSetupIconContent: presentCancelSUSkipped called", v5, 2u);
  }

  v6 = String._bridgeToObjectiveC()();
  v7 = sub_100006658(v6);

  if (!v7)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v7 = String._bridgeToObjectiveC()();
  }

  v8 = String._bridgeToObjectiveC()();
  v9 = sub_100006658(v8);

  if (!v9)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v9 = String._bridgeToObjectiveC()();
  }

  v10 = [objc_opt_self() alertControllerWithTitle:v7 message:v9 preferredStyle:1];

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  if (!v12)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v12 = String._bridgeToObjectiveC()();
  }

  v13 = swift_allocObject();
  *(v13 + 16) = v10;
  v17[4] = sub_100012D88;
  v17[5] = v13;
  v17[0] = _NSConcreteStackBlock;
  v17[1] = 1107296256;
  v17[2] = sub_10003DFD0;
  v17[3] = &unk_1000EF528;
  v14 = _Block_copy(v17);
  v15 = v10;

  v16 = [objc_opt_self() actionWithTitle:v12 style:1 handler:v14];
  _Block_release(v14);

  [v15 addAction:v16];
  [v1 presentViewController:v15 animated:1 completion:0];
}

id sub_100043938(uint64_t a1)
{
  v3 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_images;
  v4 = *&v1[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_images];

  v6 = sub_100093610(v5, a1);

  if ((v6 & 1) == 0)
  {
    v8 = *&v1[v3];
    *&v1[v3] = a1;

    result = [v1 isViewLoaded];
    if (result)
    {
      v15 = _swiftEmptyArrayStorage;
      v9 = *&v1[v3];
      v10 = v1;

      sub_100045548(v11, v10, &v15);

      v12 = *&v10[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView];
      v13 = *&v12[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews];
      *&v12[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews] = v15;
      v14 = v12;

      sub_10004781C(v13);
    }
  }

  return result;
}

void sub_100043A54(uint64_t *a1, uint64_t a2, void *a3)
{
  v6 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v7 = *(*(v6 - 8) + 64);
  __chkstk_darwin(v6 - 8);
  v9 = &v19 - v8;
  v10 = *a1;
  v11 = [objc_allocWithZone(PRXImageView) initWithStyle:*(a2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_style)];
  [v11 setImage:v10];
  v12 = v11;
  [v12 setTranslatesAutoresizingMaskIntoConstraints:0];
  v13 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_10000F25C(a2 + v13, v9, &qword_100103420, &unk_1000BCE90);
  v14 = type metadata accessor for HomePodSetupViewModel(0);
  if ((*(*(v14 - 8) + 48))(v9, 1, v14))
  {

    sub_10000EBA4(v9, &qword_100103420, &unk_1000BCE90);
  }

  else
  {
    v15 = &v9[*(v14 + 128)];
    v16 = *v15;
    v17 = v15[8];
    sub_10000EBA4(v9, &qword_100103420, &unk_1000BCE90);
    if (v17 != 1)
    {
      [v12 setContentMode:v16];
    }
  }

  specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
  if (*((*a3 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((*a3 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
  {
    v18 = *((*a3 & 0xFFFFFFFFFFFFFF8) + 0x10);
    specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
  }

  specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
}

void sub_100043C7C(uint64_t a1, uint64_t a2)
{
  v5 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v6 = *(*(v5 - 8) + 64);
  __chkstk_darwin(v5 - 8);
  v8 = &v29 - v7;
  v9 = (v2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_bodyText);
  if (*(v2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_bodyText) != a1 || *(v2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_bodyText + 8) != a2)
  {
    v11 = *(v2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_bodyText + 8);
    if ((_stringCompareWithSmolCheck(_:_:expecting:)() & 1) == 0)
    {
      *v9 = a1;
      v9[1] = a2;

      v12 = [objc_allocWithZone(PRXLabel) initWithStyle:1];
      v13 = String._bridgeToObjectiveC()();
      [v12 setText:v13];

      [v12 setTranslatesAutoresizingMaskIntoConstraints:0];
      v14 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
      swift_beginAccess();
      sub_10000F25C(v2 + v14, v8, &qword_100103420, &unk_1000BCE90);
      v15 = type metadata accessor for HomePodSetupViewModel(0);
      if ((*(*(v15 - 8) + 48))(v8, 1, v15))
      {
        sub_10000EBA4(v8, &qword_100103420, &unk_1000BCE90);
      }

      else
      {
        v16 = &v8[*(v15 + 32)];
        v18 = *v16;
        v17 = *(v16 + 1);

        sub_10000EBA4(v8, &qword_100103420, &unk_1000BCE90);

        v19 = HIBYTE(v17) & 0xF;
        if ((v17 & 0x2000000000000000) == 0)
        {
          v19 = v18 & 0xFFFFFFFFFFFFLL;
        }

        if (v19)
        {
          v20 = [objc_allocWithZone(PRXTextStyleDefinition) initWithStyle:3];
          v21 = v12;
          v22 = [v20 textColor];
          [v21 setTextColor:v22];

          v23 = [v20 font];
          [v21 setFont:v23];

          [v21 setTextAlignment:{objc_msgSend(v20, "textAlignment")}];
          v24 = v21;
          [v24 setAccessibilityTraits:{objc_msgSend(v20, "accessibilityTraits")}];

          [v24 setNumberOfLines:{objc_msgSend(v20, "numberOfLines")}];
        }
      }

      v25 = *(v2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView);
      v26 = *&v25[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabel];
      *&v25[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabel] = v12;
      v27 = v12;
      v28 = v25;
      sub_100047A20(v26);
    }
  }
}

void sub_100043FE0(uint64_t a1)
{
  v3 = [objc_allocWithZone(PRXLabel) initWithStyle:1];
  [v3 setAttributedText:a1];
  [v3 setTranslatesAutoresizingMaskIntoConstraints:0];
  v4 = *(v1 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView);
  v7 = *&v4[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelView];
  *&v4[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelView] = v3;
  v5 = v3;
  v6 = v4;
  sub_100047808(v7);
}

id sub_1000440B4()
{
  v2.receiver = v0;
  v2.super_class = type metadata accessor for HomePodSetupIconContentViewController();
  return objc_msgSendSuper2(&v2, "dealloc");
}

uint64_t type metadata accessor for HomePodSetupIconContentViewController()
{
  result = qword_100102550;
  if (!qword_100102550)
  {
    return swift_getSingletonMetadata();
  }

  return result;
}

void sub_1000441F0()
{
  sub_100012108();
  if (v1 <= 0x3F)
  {
    v2 = *(v0 - 8) + 64;
    swift_updateClassMetadata2();
  }
}

uint64_t sub_1000442D4(uint64_t a1, uint64_t a2)
{
  *(v2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_presenter + 8) = a2;
  swift_unknownObjectWeakAssign();

  return swift_unknownObjectRelease();
}

void sub_100044328()
{
  v1 = objc_opt_self();
  v2 = [v1 sysDropBuildMode] == 2 || objc_msgSend(v1, "sysDropBuildMode") == 3;
  v3 = swift_allocObject();
  *(v3 + 16) = v2;
  *(v3 + 24) = v0;
  v4 = v0;
  v5 = String._bridgeToObjectiveC()();
  v8[4] = sub_1000475A8;
  v8[5] = v3;
  v8[0] = _NSConcreteStackBlock;
  v8[1] = 1107296256;
  v8[2] = sub_10003DFD0;
  v8[3] = &unk_1000EFA28;
  v6 = _Block_copy(v8);
  v7 = [objc_opt_self() actionWithTitle:v5 style:0 handler:v6];

  _Block_release(v6);

  [v4 setDismissButtonAction:v7];
}

void sub_10004448C(uint64_t a1, char a2, void *a3)
{
  v5 = String._bridgeToObjectiveC()();
  v6 = sub_100006658(v5);

  if (!v6)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v6 = String._bridgeToObjectiveC()();
  }

  v7 = String._bridgeToObjectiveC()();
  v8 = sub_100006658(v7);

  static String._unconditionallyBridgeFromObjectiveC(_:)();
  v9 = String._bridgeToObjectiveC()();

  v10 = [objc_opt_self() alertControllerWithTitle:v6 message:v9 preferredStyle:1];

  v11 = String._bridgeToObjectiveC()();
  v12 = sub_100006658(v11);

  if (!v12)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v12 = String._bridgeToObjectiveC()();
  }

  v13 = swift_allocObject();
  *(v13 + 16) = a3;
  v34 = sub_1000475B4;
  v35 = v13;
  aBlock = _NSConcreteStackBlock;
  v31 = 1107296256;
  v32 = sub_10003DFD0;
  v33 = &unk_1000EFA78;
  v14 = _Block_copy(&aBlock);
  v15 = a3;

  v16 = objc_opt_self();
  v17 = [v16 actionWithTitle:v12 style:0 handler:v14];
  _Block_release(v14);

  v18 = String._bridgeToObjectiveC()();
  v19 = sub_100006658(v18);

  if (!v19)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v19 = String._bridgeToObjectiveC()();
  }

  v20 = swift_allocObject();
  *(v20 + 16) = v15;
  v34 = sub_1000475D4;
  v35 = v20;
  aBlock = _NSConcreteStackBlock;
  v31 = 1107296256;
  v32 = sub_10003DFD0;
  v33 = &unk_1000EFAC8;
  v21 = _Block_copy(&aBlock);
  v22 = v15;

  v23 = [v16 actionWithTitle:v19 style:0 handler:v21];
  _Block_release(v21);

  v24 = String._bridgeToObjectiveC()();
  v25 = sub_100006658(v24);

  if (!v25)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    v25 = String._bridgeToObjectiveC()();
  }

  v26 = swift_allocObject();
  *(v26 + 16) = v10;
  v34 = sub_1000477B0;
  v35 = v26;
  aBlock = _NSConcreteStackBlock;
  v31 = 1107296256;
  v32 = sub_10003DFD0;
  v33 = &unk_1000EFB18;
  v27 = _Block_copy(&aBlock);
  v28 = v10;

  v29 = [v16 actionWithTitle:v25 style:1 handler:v27];
  _Block_release(v27);

  [v28 addAction:v17];
  if ((a2 & 1) == 0)
  {
    [v28 addAction:v23];
  }

  [v28 addAction:v29];
  [v28 setPreferredAction:v17];
  [v22 presentViewController:v28 animated:1 completion:0];
}

uint64_t sub_100044998(uint64_t a1, uint64_t a2, char a3)
{
  result = swift_unknownObjectWeakLoadStrong();
  if (result)
  {
    v6 = 0;
    memset(v5, 0, sizeof(v5));
    memset(v8, 0, sizeof(v8));
    v7[0] = a3;
    sub_100012DA0(v5, v8, &qword_1001025D0, &unk_1000BD010);
    sub_10007A070(v7);
    swift_unknownObjectRelease();
    return sub_100012E08(v7);
  }

  return result;
}

void sub_100044A28(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6, char a7)
{
  v12 = a2[6];
  v13 = a2[7];
  v14 = a2[2];
  v15 = a2[3];
  v16 = String._bridgeToObjectiveC()();
  v17 = String._bridgeToObjectiveC()();
  v18 = [objc_opt_self() alertControllerWithTitle:v16 message:v17 preferredStyle:1];

  v19 = String._bridgeToObjectiveC()();
  v20 = sub_100006658(v19);

  static String._unconditionallyBridgeFromObjectiveC(_:)();
  v21 = swift_allocObject();
  *(v21 + 16) = a3;
  *(v21 + 24) = a4;
  *(v21 + 32) = a5;
  *(v21 + 40) = a6;
  *(v21 + 48) = a7;
  v22 = a3;

  v23 = String._bridgeToObjectiveC()();

  v38 = sub_10004770C;
  v39 = v21;
  v34 = _NSConcreteStackBlock;
  v35 = 1107296256;
  v36 = sub_10003DFD0;
  v37 = &unk_1000EFBB8;
  v24 = _Block_copy(&v34);

  v25 = objc_opt_self();
  v26 = [v25 actionWithTitle:v23 style:0 handler:v24];
  _Block_release(v24);

  [v18 addAction:v26];
  v27 = String._bridgeToObjectiveC()();
  v28 = sub_100006658(v27);

  static String._unconditionallyBridgeFromObjectiveC(_:)();
  v29 = swift_allocObject();
  *(v29 + 16) = v22;
  v30 = v22;
  v31 = String._bridgeToObjectiveC()();

  v38 = sub_10004771C;
  v39 = v29;
  v34 = _NSConcreteStackBlock;
  v35 = 1107296256;
  v36 = sub_10003DFD0;
  v37 = &unk_1000EFC08;
  v32 = _Block_copy(&v34);

  v33 = [v25 actionWithTitle:v31 style:1 handler:v32];
  _Block_release(v32);

  [v18 addAction:v33];
  [v18 setPreferredAction:v26];
  [v30 presentViewController:v18 animated:1 completion:0];
}

uint64_t sub_100044DA0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, char a6)
{
  result = swift_unknownObjectWeakLoadStrong();
  if (result)
  {
    v9 = 0;
    memset(v8, 0, sizeof(v8));
    memset(v11, 0, sizeof(v11));
    v10[0] = a6;
    sub_100012DA0(v8, v11, &qword_1001025D0, &unk_1000BD010);
    sub_10007A070(v10);
    swift_unknownObjectRelease();
    return sub_100012E08(v10);
  }

  return result;
}

void sub_100044E30(int a1, id a2)
{
  v2 = [a2 presentingViewController];
  if (v2)
  {
    v3 = v2;
    [v2 dismissViewControllerAnimated:1 completion:0];
  }
}

void sub_100044EA0(void *a1)
{
  v1 = [a1 contentView];
  v2 = [v1 titleView];

  if (v2)
  {
    [v2 setAlpha:1.0];
  }

  sub_10006F468(1.0);
}

id sub_100045000(char a1, _BYTE *a2)
{
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v4 = type metadata accessor for Logger();
  sub_100012AAC(v4, qword_100102500);
  v5 = Logger.logObject.getter();
  v6 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v5, v6))
  {
    v7 = swift_slowAlloc();
    *v7 = 67109120;
    *(v7 + 4) = a1 & 1;
    _os_log_impl(&_mh_execute_header, v5, v6, "T&Cs success=%{BOOL}d", v7, 8u);
  }

  a2[OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsInProgress] = 0;
  if (a1)
  {
    result = swift_unknownObjectWeakLoadStrong();
    if (result)
    {
      v10 = 0;
      memset(v9, 0, sizeof(v9));
      memset(v12, 0, sizeof(v12));
      v11[0] = 8;
      sub_100012DA0(v9, v12, &qword_1001025D0, &unk_1000BD010);
      sub_10007A070(v11);
      swift_unknownObjectRelease();
      return sub_100012E08(v11);
    }
  }

  else
  {

    return [a2 hideActivityIndicator];
  }

  return result;
}

uint64_t sub_10004521C(uint64_t a1, uint64_t a2)
{
  *(a1 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsInProgress) = 0;
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v3 = type metadata accessor for Logger();
  sub_100012AAC(v3, qword_100102500);

  v4 = Logger.logObject.getter();
  v5 = static os_log_type_t.default.getter();

  if (os_log_type_enabled(v4, v5))
  {
    v6 = swift_slowAlloc();
    v7 = swift_slowAlloc();
    v15 = v7;
    *v6 = 136315138;
    if (!a2)
    {
      sub_10000D8A8(_swiftEmptyArrayStorage);
    }

    v8 = Dictionary.description.getter();
    v10 = v9;

    v11 = sub_1000B08A0(v8, v10, &v15);

    *(v6 + 4) = v11;
    _os_log_impl(&_mh_execute_header, v4, v5, "T&Cs info %s", v6, 0xCu);
    sub_10000E70C(v7);
  }

  result = swift_unknownObjectWeakLoadStrong();
  if (result)
  {
    v14 = 0;
    memset(v13, 0, sizeof(v13));
    memset(v16, 0, sizeof(v16));
    LOBYTE(v15) = 8;
    sub_100012DA0(v13, v16, &qword_1001025D0, &unk_1000BD010);
    sub_10007A070(&v15);
    swift_unknownObjectRelease();
    return sub_100012E08(&v15);
  }

  return result;
}

void sub_100045548(unint64_t a1, uint64_t a2, void *a3)
{
  if (a1 >> 62)
  {
    goto LABEL_14;
  }

  for (i = *((a1 & 0xFFFFFFFFFFFFFF8) + 0x10); i; i = _CocoaArrayWrapper.endIndex.getter())
  {
    v7 = 0;
    while (1)
    {
      if ((a1 & 0xC000000000000001) != 0)
      {
        v8 = specialized _ArrayBuffer._getElementSlowPath(_:)();
      }

      else
      {
        if (v7 >= *((a1 & 0xFFFFFFFFFFFFFF8) + 0x10))
        {
          goto LABEL_13;
        }

        v8 = *(a1 + 8 * v7 + 32);
      }

      v9 = v8;
      v10 = v7 + 1;
      if (__OFADD__(v7, 1))
      {
        break;
      }

      v12 = v8;
      sub_100043A54(&v12, a2, a3);

      if (!v3)
      {
        ++v7;
        if (v10 != i)
        {
          continue;
        }
      }

      return;
    }

    __break(1u);
LABEL_13:
    __break(1u);
LABEL_14:
    ;
  }
}

void *sub_100045648(uint64_t a1)
{
  v1 = *(a1 + 16);
  if (v1)
  {
    sub_10000E6C4(&qword_1001025E8, &unk_1000BD3F0);
    v3 = static _SetStorage.allocate(capacity:)();
    v4 = 0;
    v5 = v3 + 56;
    v27 = v1;
    v28 = a1 + 32;
    v6 = v1;
    while (1)
    {
      v7 = *(v28 + 8 * v4);
      v8 = *(v3 + 40);
      static String._unconditionallyBridgeFromObjectiveC(_:)();
      Hasher.init(_seed:)();
      v29 = v7;
      String.hash(into:)();
      v9 = Hasher._finalize()();

      v11 = -1 << *(v3 + 32);
      v12 = v9 & ~v11;
      v13 = v12 >> 6;
      v14 = *(v5 + 8 * (v12 >> 6));
      v15 = 1 << v12;
      if (((1 << v12) & v14) == 0)
      {
        goto LABEL_15;
      }

      v16 = ~v11;
      do
      {
        v17 = *(*(v3 + 48) + 8 * v12);
        v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
        v20 = v19;
        if (v18 == static String._unconditionallyBridgeFromObjectiveC(_:)() && v20 == v21)
        {

LABEL_4:
          v6 = v27;
          goto LABEL_5;
        }

        v23 = _stringCompareWithSmolCheck(_:_:expecting:)();

        if (v23)
        {

          goto LABEL_4;
        }

        v12 = (v12 + 1) & v16;
        v13 = v12 >> 6;
        v14 = *(v5 + 8 * (v12 >> 6));
        v15 = 1 << v12;
      }

      while (((1 << v12) & v14) != 0);
      v6 = v27;
LABEL_15:
      *(v5 + 8 * v13) = v15 | v14;
      *(*(v3 + 48) + 8 * v12) = v29;
      v24 = *(v3 + 16);
      v25 = __OFADD__(v24, 1);
      v26 = v24 + 1;
      if (v25)
      {
        __break(1u);
        return result;
      }

      *(v3 + 16) = v26;
LABEL_5:
      if (++v4 == v6)
      {
        return v3;
      }
    }
  }

  return &_swiftEmptySetSingleton;
}

void sub_10004583C(void *a1)
{
  v3 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v4 = *(*(v3 - 8) + 64);
  __chkstk_darwin(v3 - 8);
  v6 = &v19 - v5;
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v7 = type metadata accessor for Logger();
  sub_100012AAC(v7, qword_100102500);
  v8 = Logger.logObject.getter();
  v9 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v8, v9))
  {
    v10 = swift_slowAlloc();
    *v10 = 0;
    _os_log_impl(&_mh_execute_header, v8, v9, "HomePodSetupIconContent: presenter:didUpdate viewModel", v10, 2u);
  }

  sub_100046CC4(a1, v6, type metadata accessor for HomePodSetupViewModel);
  v11 = type metadata accessor for HomePodSetupViewModel(0);
  (*(*(v11 - 8) + 56))(v6, 0, 1, v11);
  v12 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_100012DA0(v6, v1 + v12, &qword_100103420, &unk_1000BCE90);
  swift_endAccess();
  if (*(a1 + *(v11 + 136)) == 1)
  {
    v13 = Logger.logObject.getter();
    v14 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v13, v14))
    {
      v15 = swift_slowAlloc();
      *v15 = 0;
      _os_log_impl(&_mh_execute_header, v13, v14, "HomePodSetupIconContent: presentCancelSUSkipped", v15, 2u);
    }

    sub_100043618();
  }

  else if ([v1 isViewLoaded])
  {
    v16 = Logger.logObject.getter();
    v17 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v16, v17))
    {
      v18 = swift_slowAlloc();
      *v18 = 0;
      _os_log_impl(&_mh_execute_header, v16, v17, "HomePodSetupIconContent: configureUI", v18, 2u);
    }

    sub_1000420E0(a1);
  }
}

uint64_t sub_100045B38()
{

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100045B70(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

void sub_100045F60()
{
  if (qword_100101610 != -1)
  {
    swift_once();
  }

  v0 = type metadata accessor for Logger();
  sub_100012AAC(v0, qword_100102500);
  oslog = Logger.logObject.getter();
  v1 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(oslog, v1))
  {
    v2 = swift_slowAlloc();
    v3 = swift_slowAlloc();
    v5 = v3;
    *v2 = 136315138;
    *(v2 + 4) = sub_1000B08A0(0xD000000000000038, 0x80000001000C3CC0, &v5);
    _os_log_impl(&_mh_execute_header, oslog, v1, "%s", v2, 0xCu);
    sub_10000E70C(v3);
  }
}

void sub_1000461F0(char a1)
{
  v3 = type metadata accessor for DispatchWorkItemFlags();
  v4 = *(v3 - 8);
  v5 = *(v4 + 64);
  __chkstk_darwin(v3);
  v7 = &v21 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  v8 = type metadata accessor for DispatchQoS();
  v9 = *(v8 - 8);
  v10 = *(v9 + 64);
  __chkstk_darwin(v8);
  v12 = &v21 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(v1 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsInProgress) == 1)
  {
    sub_10003AE18(0, &qword_1001025F0, OS_dispatch_queue_ptr);
    v13 = static OS_dispatch_queue.main.getter();
    v14 = swift_allocObject();
    *(v14 + 16) = a1 & 1;
    *(v14 + 24) = v1;
    aBlock[4] = sub_100046CB8;
    aBlock[5] = v14;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_100091194;
    aBlock[3] = &unk_1000EF5C8;
    v15 = _Block_copy(aBlock);
    v16 = v1;

    static DispatchQoS.unspecified.getter();
    aBlock[0] = _swiftEmptyArrayStorage;
    sub_100046C70(&qword_1001042F0, &type metadata accessor for DispatchWorkItemFlags);
    sub_10000E6C4(&unk_100102600, &qword_1000BE4E0);
    sub_100014588();
    dispatch thunk of SetAlgebra.init<A>(_:)();
    OS_dispatch_queue.async(group:qos:flags:execute:)();
    _Block_release(v15);

    (*(v4 + 8))(v7, v3);
    (*(v9 + 8))(v12, v8);
  }

  else
  {
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v17 = type metadata accessor for Logger();
    sub_100012AAC(v17, qword_100102500);
    v22 = Logger.logObject.getter();
    v18 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v22, v18))
    {
      v19 = swift_slowAlloc();
      *v19 = 0;
      _os_log_impl(&_mh_execute_header, v22, v18, "T&Cs Not In progress", v19, 2u);
    }

    v20 = v22;
  }
}

void sub_1000465B8(uint64_t a1)
{
  v3 = type metadata accessor for DispatchWorkItemFlags();
  v4 = *(v3 - 8);
  v5 = *(v4 + 64);
  __chkstk_darwin(v3);
  v7 = &v21 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  v8 = type metadata accessor for DispatchQoS();
  v9 = *(v8 - 8);
  v10 = *(v9 + 64);
  __chkstk_darwin(v8);
  v12 = &v21 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(v1 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsInProgress) == 1)
  {
    sub_10003AE18(0, &qword_1001025F0, OS_dispatch_queue_ptr);
    v22 = static OS_dispatch_queue.main.getter();
    v13 = swift_allocObject();
    *(v13 + 16) = v1;
    *(v13 + 24) = a1;
    aBlock[4] = sub_100046C68;
    aBlock[5] = v13;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_100091194;
    aBlock[3] = &unk_1000EF578;
    v14 = _Block_copy(aBlock);

    v15 = v1;

    static DispatchQoS.unspecified.getter();
    aBlock[0] = _swiftEmptyArrayStorage;
    sub_100046C70(&qword_1001042F0, &type metadata accessor for DispatchWorkItemFlags);
    sub_10000E6C4(&unk_100102600, &qword_1000BE4E0);
    sub_100014588();
    dispatch thunk of SetAlgebra.init<A>(_:)();
    v16 = v22;
    OS_dispatch_queue.async(group:qos:flags:execute:)();
    _Block_release(v14);

    (*(v4 + 8))(v7, v3);
    (*(v9 + 8))(v12, v8);
  }

  else
  {
    if (qword_100101610 != -1)
    {
      swift_once();
    }

    v17 = type metadata accessor for Logger();
    sub_100012AAC(v17, qword_100102500);
    v22 = Logger.logObject.getter();
    v18 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v22, v18))
    {
      v19 = swift_slowAlloc();
      *v19 = 0;
      _os_log_impl(&_mh_execute_header, v22, v18, "T&Cs Not In progress", v19, 2u);
    }

    v20 = v22;
  }
}

uint64_t sub_100046980()
{
  v1 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v2 = *(*(v1 - 8) + 64);
  v3 = __chkstk_darwin(v1 - 8);
  v5 = v18 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  v7 = v18 - v6;
  if (*(v0 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsRetried))
  {
    goto LABEL_5;
  }

  *(v0 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_termsRetried) = 1;
  v8 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_10000F25C(v0 + v8, v7, &qword_100103420, &unk_1000BCE90);
  v9 = type metadata accessor for HomePodSetupViewModel(0);
  v10 = *(*(v9 - 8) + 48);
  if (v10(v7, 1, v9))
  {
    v11 = v7;
LABEL_4:
    sub_10000EBA4(v11, &qword_100103420, &unk_1000BCE90);
    goto LABEL_5;
  }

  v13 = *&v7[*(v9 + 208)];
  v14 = v13;
  sub_10000EBA4(v7, &qword_100103420, &unk_1000BCE90);
  if (v13)
  {
    sub_10000F25C(v0 + v8, v5, &qword_100103420, &unk_1000BCE90);
    if (v10(v5, 1, v9))
    {

      v11 = v5;
      goto LABEL_4;
    }

    v15 = &v5[*(v9 + 212)];
    v17 = *v15;
    v16 = v15[1];

    sub_10000EBA4(v5, &qword_100103420, &unk_1000BCE90);
    if (v16)
    {
      sub_10003F820(v14, v17, v16);
    }
  }

LABEL_5:
  result = swift_unknownObjectWeakLoadStrong();
  if (result)
  {
    v19 = 0;
    memset(v18, 0, sizeof(v18));
    memset(v21, 0, sizeof(v21));
    v20[0] = 37;
    sub_100012DA0(v18, v21, &qword_1001025D0, &unk_1000BD010);
    sub_10007A070(v20);
    swift_unknownObjectRelease();
    return sub_100012E08(v20);
  }

  return result;
}

uint64_t sub_100046C28()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100046C70(unint64_t *a1, void (*a2)(uint64_t))
{
  result = *a1;
  if (!result)
  {
    a2(255);
    result = swift_getWitnessTable();
    atomic_store(result, a1);
  }

  return result;
}

uint64_t sub_100046CC4(uint64_t a1, uint64_t a2, uint64_t (*a3)(void))
{
  v5 = a3(0);
  (*(*(v5 - 8) + 16))(a2, a1, v5);
  return a2;
}

uint64_t sub_100046D3C()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100046D7C()
{
  v1 = *(v0 + 24);

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_100046DC8()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100046E00()
{
  v1 = v0;
  v2 = type metadata accessor for HomePodSetupViewModel(0);
  v59 = *(*(v2 - 1) + 80);
  v57 = *(*(v2 - 1) + 64);
  v3 = *(v0 + 16);

  v58 = (v59 + 24) & ~v59;
  v4 = v0 + v58;
  v5 = *(v0 + v58 + 8);

  v6 = *(v0 + v58 + 24);

  v7 = v0 + v58 + v2[6];
  v8 = type metadata accessor for AdjustedMovie(0);
  if (!(*(*(v8 - 8) + 48))(v7, 1, v8))
  {
    v9 = *(v7 + 8);

    v10 = *(v8 + 20);
    v11 = type metadata accessor for URL();
    (*(*(v11 - 8) + 8))(v7 + v10, v11);
  }

  v12 = *(v4 + v2[7] + 8);

  v13 = *(v4 + v2[8] + 8);

  v14 = *(v4 + v2[9] + 8);

  v15 = *(v4 + v2[10]);

  v16 = *(v4 + v2[11]);

  v17 = *(v4 + v2[12]);

  v18 = *(v4 + v2[13]);

  v19 = (v4 + v2[14]);
  if (v19[3])
  {
    sub_10000E70C(v19);
  }

  v20 = *(v4 + v2[15]);

  v21 = *(v4 + v2[16]);

  v22 = (v4 + v2[20]);
  if (v22[1])
  {

    v23 = v22[3];

    v24 = v22[5];

    v25 = v22[7];

    v26 = v22[9];
  }

  v27 = (v4 + v2[21]);
  if (v27[1])
  {

    v28 = v27[3];

    v29 = v27[5];

    v30 = v27[7];

    v31 = v27[9];
  }

  v32 = *(v4 + v2[22]);

  v33 = *(v4 + v2[24] + 8);

  v34 = *(v4 + v2[25] + 8);

  v35 = *(v4 + v2[26] + 8);

  v36 = (v4 + v2[28]);
  v37 = type metadata accessor for AdjustedImage(0);
  v38 = *(*(v37 - 8) + 48);
  if (!v38(v36, 1, v37))
  {

    v39 = *(v37 + 20);
    v40 = type metadata accessor for URL();
    v41 = *(v40 - 8);
    if (!(*(v41 + 48))(v36 + v39, 1, v40))
    {
      (*(v41 + 8))(v36 + v39, v40);
    }
  }

  v42 = *(v4 + v2[38] + 8);

  v43 = *(v4 + v2[45] + 8);

  v44 = *(v4 + v2[47] + 8);

  v45 = *(v4 + v2[49] + 8);

  v46 = *(v4 + v2[53] + 8);

  v47 = *(v4 + v2[55] + 8);

  v48 = (v4 + v2[58]);
  v49 = type metadata accessor for HomePodSetupViewModel.StereoPairImage(0);
  if (!(*(*(v49 - 8) + 48))(v48, 1, v49))
  {

    v50 = *(v37 + 20);
    v51 = type metadata accessor for URL();
    v52 = *(v51 - 8);
    v53 = *(v52 + 48);
    if (!v53(v48 + v50, 1, v51))
    {
      (*(v52 + 8))(v48 + v50, v51);
    }

    v54 = (v48 + *(v49 + 20));
    if (!v38(v54, 1, v37))
    {

      v55 = *(v37 + 20);
      if (!v53(v54 + v55, 1, v51))
      {
        (*(v52 + 8))(v54 + v55, v51);
      }
    }
  }

  return _swift_deallocObject(v1, v58 + v57, v59 | 7);
}

uint64_t sub_100047340(uint64_t a1, uint64_t a2, uint64_t (*a3)(void))
{
  v5 = a3(0);
  (*(*(v5 - 8) + 32))(a2, a1, v5);
  return a2;
}

void sub_1000473A8(char *a1)
{
  v3 = *(type metadata accessor for HomePodSetupViewModel(0) - 8);
  v4 = *(v1 + 16);
  v5 = v1 + ((*(v3 + 80) + 24) & ~*(v3 + 80));

  sub_10003EDCC(a1, v4, v5);
}

uint64_t sub_10004741C()
{
  v1 = *(v0 + 24);

  v2 = *(v0 + 56);

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_100047508(uint64_t a1, uint64_t (*a2)(void))
{
  v3 = a2(0);
  (*(*(v3 - 8) + 8))(a1, v3);
  return a1;
}

uint64_t sub_100047570()
{

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100047650()
{
  v1 = *(v0 + 24);

  v2 = *(v0 + 40);

  v3 = *(v0 + 56);

  v4 = *(v0 + 72);

  v5 = *(v0 + 88);

  v6 = *(v0 + 112);

  return _swift_deallocObject(v0, 129, 7);
}

uint64_t sub_1000476CC()
{
  v1 = *(v0 + 32);

  return _swift_deallocObject(v0, 49, 7);
}

void sub_10004781C(unint64_t a1)
{
  v3 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewConstraints];
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewConstraints] = 0;

  if (a1)
  {
    if (a1 >> 62)
    {
      goto LABEL_14;
    }

    for (i = *((a1 & 0xFFFFFFFFFFFFFF8) + 0x10); i; i = _CocoaArrayWrapper.endIndex.getter())
    {
      v5 = 0;
      while (1)
      {
        if ((a1 & 0xC000000000000001) != 0)
        {
          v6 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        }

        else
        {
          if (v5 >= *((a1 & 0xFFFFFFFFFFFFFF8) + 0x10))
          {
            goto LABEL_13;
          }

          v6 = *(a1 + 8 * v5 + 32);
        }

        v7 = v6;
        v8 = v5 + 1;
        if (__OFADD__(v5, 1))
        {
          break;
        }

        [v6 removeFromSuperview];

        ++v5;
        if (v8 == i)
        {
          goto LABEL_15;
        }
      }

      __break(1u);
LABEL_13:
      __break(1u);
LABEL_14:
      ;
    }
  }

LABEL_15:
  v9 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews];
  if (v9)
  {
    if (v9 >> 62)
    {
      goto LABEL_33;
    }

    for (j = *((v9 & 0xFFFFFFFFFFFFFF8) + 0x10); ; j = _CocoaArrayWrapper.endIndex.getter())
    {

      if (!j)
      {
        break;
      }

      v11 = 0;
      while (1)
      {
        if ((v9 & 0xC000000000000001) != 0)
        {
          v12 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        }

        else
        {
          if (v11 >= *((v9 & 0xFFFFFFFFFFFFFF8) + 0x10))
          {
            goto LABEL_32;
          }

          v12 = *(v9 + 8 * v11 + 32);
        }

        v13 = v12;
        v14 = v11 + 1;
        if (__OFADD__(v11, 1))
        {
          break;
        }

        [v12 setTranslatesAutoresizingMaskIntoConstraints:0];
        [v1 addSubview:v13];

        ++v11;
        if (v14 == j)
        {
          goto LABEL_27;
        }
      }

      __break(1u);
LABEL_32:
      __break(1u);
LABEL_33:
      ;
    }

LABEL_27:

    [v1 setNeedsUpdateConstraints];
  }
}

void sub_100047A34(void *a1, void *a2, void *a3)
{
  v6 = *&v3[*a2];
  *&v3[*a2] = 0;

  if (a1)
  {
    [a1 removeFromSuperview];
  }

  v7 = *&v3[*a3];
  if (v7)
  {
    v8 = v7;
    [v8 setTranslatesAutoresizingMaskIntoConstraints:0];
    [v3 addSubview:v8];
    [v3 setNeedsUpdateConstraints];
  }
}

void sub_100047AFC(void *a1)
{
  v2 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreInfoButton;
  v7 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreInfoButton];
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreInfoButton] = a1;
  v3 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreButtonConstraints];
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreButtonConstraints] = 0;
  v4 = a1;

  if (v7)
  {
    [v7 removeFromSuperview];
  }

  v5 = *&v1[v2];
  if (v5)
  {
    v6 = v5;
    [v1 addSubview:v6];
    [v1 setNeedsUpdateConstraints];
  }
}

char *sub_100047BC4(uint64_t a1)
{
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewGuideConstraints] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelViewConstraints] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewConstraints] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabelConstraints] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreButtonConstraints] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabelConstraints] = 0;
  v3 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewsGuide;
  *&v1[v3] = [objc_allocWithZone(UILayoutGuide) init];
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelView] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabel] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabel] = 0;
  *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreInfoButton] = 0;
  v29.receiver = v1;
  v29.super_class = type metadata accessor for HomePodSetupIconContentView();
  v4 = objc_msgSendSuper2(&v29, "initWithCardStyle:", a1);
  v5 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewsGuide;
  v6 = *&v4[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewsGuide];
  v7 = v4;
  [v7 addLayoutGuide:v6];
  v8 = [v7 mainContentGuide];
  sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
  v9 = swift_allocObject();
  *(v9 + 16) = xmmword_1000BD420;
  v10 = [*&v4[v5] topAnchor];
  v11 = [v8 topAnchor];
  v12 = [v10 constraintEqualToAnchor:v11];

  *(v9 + 32) = v12;
  v13 = [*&v4[v5] leadingAnchor];
  v14 = [v8 leadingAnchor];
  v15 = [v13 constraintGreaterThanOrEqualToAnchor:v14];

  *(v9 + 40) = v15;
  v16 = [*&v4[v5] trailingAnchor];
  v17 = [v8 trailingAnchor];
  v18 = [v16 constraintLessThanOrEqualToAnchor:v17];

  *(v9 + 48) = v18;
  v19 = [*&v4[v5] centerXAnchor];
  v20 = [v8 centerXAnchor];
  v21 = [v19 constraintEqualToAnchor:v20];

  *(v9 + 56) = v21;
  v22 = [*&v4[v5] bottomAnchor];
  v23 = [v8 bottomAnchor];
  v24 = [v22 constraintLessThanOrEqualToAnchor:v23];

  *(v9 + 64) = v24;
  v25 = objc_opt_self();
  sub_1000163D8();
  isa = Array._bridgeToObjectiveC()().super.isa;
  [v25 activateConstraints:isa];

  v27 = *&v7[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewGuideConstraints];
  *&v7[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewGuideConstraints] = v9;

  return v7;
}

void sub_100047FCC()
{
  v1 = v0;
  v138.receiver = v0;
  v138.super_class = type metadata accessor for HomePodSetupIconContentView();
  objc_msgSendSuper2(&v138, "updateConstraints");
  v2 = *&v0[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelView];
  v137 = v0;
  if (v2)
  {
    v3 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelViewConstraints;
    if (!*&v0[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelViewConstraints])
    {
      sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
      v4 = swift_allocObject();
      *(v4 + 16) = xmmword_1000BD0A0;
      v5 = v2;
      v6 = [v5 leadingAnchor];
      v7 = [v137 mainContentGuide];
      v8 = [v7 leadingAnchor];

      v9 = [v6 constraintEqualToAnchor:v8];
      *(v4 + 32) = v9;
      v10 = [v5 trailingAnchor];
      v11 = [v137 mainContentGuide];
      v12 = [v11 trailingAnchor];

      v13 = [v10 constraintEqualToAnchor:v12];
      v1 = v137;
      *(v4 + 40) = v13;
      v14 = objc_opt_self();
      sub_1000163D8();
      isa = Array._bridgeToObjectiveC()().super.isa;
      [v14 activateConstraints:isa];

      v16 = *&v137[v3];
      *&v137[v3] = v4;

      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
      {
        v131 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }

      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
    }
  }

  v17 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews];
  if (v17)
  {
    if (v17 >> 62)
    {
      if (v17 < 0)
      {
        v130 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews];
      }

      v18 = _CocoaArrayWrapper.endIndex.getter();
      if (!v18)
      {
        goto LABEL_46;
      }
    }

    else
    {
      v18 = *((v17 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (!v18)
      {
        goto LABEL_46;
      }
    }

    v135 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewConstraints;
    if (!*&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewConstraints])
    {
      if (v18 < 1)
      {
        __break(1u);
      }

      else
      {
        v19 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewsGuide];
        v20 = PRXIconToIconMargin;

        v21 = 0;
        v22 = 0;
        do
        {
          if ((v17 & 0xC000000000000001) != 0)
          {
            v23 = specialized _ArrayBuffer._getElementSlowPath(_:)();
          }

          else
          {
            v23 = *(v17 + 8 * v21 + 32);
          }

          v24 = v23;
          v25 = [v24 centerYAnchor];
          if (!v22 || (v26 = [v22 centerYAnchor]) == 0)
          {
            v26 = [v19 centerYAnchor];
          }

          v27 = [v25 constraintEqualToAnchor:{v26, v135}];

          specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
          if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
          {
            v53 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
            specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
          }

          specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          v28 = [v24 image];

          if (v28)
          {
            [v28 size];
            v30 = v29;
            v32 = v31;
          }

          else
          {
            v30 = 1.0;
            v32 = 1.0;
          }

          if (v30 <= 0.0)
          {
            v33 = 1.0;
          }

          else
          {
            v33 = v32 / v30;
          }

          v34 = [v24 heightAnchor];
          v35 = [v24 widthAnchor];
          v36 = [v34 constraintEqualToAnchor:v35 multiplier:v33];

          specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
          if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
          {
            v54 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
            specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
          }

          specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          v37 = [v24 topAnchor];
          v38 = [v19 topAnchor];
          v39 = [v37 constraintGreaterThanOrEqualToAnchor:v38];

          specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
          if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
          {
            v55 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
            specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
          }

          specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          v40 = [v24 bottomAnchor];
          v41 = [v19 bottomAnchor];
          v42 = [v40 constraintLessThanOrEqualToAnchor:v41];

          specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
          if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
          {
            v56 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
            specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
          }

          specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          if (v22)
          {
            v43 = [v24 leadingAnchor];
            v44 = [v22 trailingAnchor];
            v45 = [v43 constraintEqualToAnchor:v44 constant:v20];

            specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
            if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
            {
              v57 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
              specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
            }

            specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
            v46 = [v22 widthAnchor];
            v47 = [v24 widthAnchor];
            v48 = [v46 constraintEqualToAnchor:v47];

            specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
            if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
            {
              v49 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
              specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
            }

            specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          }

          else
          {
            v50 = [v24 leadingAnchor];
            v51 = [v19 leadingAnchor];
            v52 = [v50 constraintEqualToAnchor:v51];

            specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
            if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
            {
              v58 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
              specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
            }

            specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          }

          ++v21;
          v22 = v24;
        }

        while (v18 != v21);

        v17 = v24;
        v59 = [v17 trailingAnchor];
        v60 = [v19 trailingAnchor];
        v61 = [v59 constraintEqualToAnchor:v60];

        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) < *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
        {
          goto LABEL_45;
        }
      }

      specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
LABEL_45:
      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();

      v62 = objc_opt_self();
      sub_1000163D8();
      v63 = Array._bridgeToObjectiveC()().super.isa;
      [v62 activateConstraints:v63];

      v1 = v137;
      v64 = *&v137[v135];
      *&v137[v135] = _swiftEmptyArrayStorage;
    }
  }

LABEL_46:
  v65 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabel];
  if (v65)
  {
    v66 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabelConstraints;
    if (!*&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabelConstraints])
    {
      sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
      v67 = swift_allocObject();
      *(v67 + 16) = xmmword_1000BD0A0;
      v68 = v65;
      v69 = [v68 leadingAnchor];
      v70 = [v137 mainContentGuide];
      v71 = [v70 leadingAnchor];

      v72 = [v69 constraintEqualToAnchor:v71];
      *(v67 + 32) = v72;
      v73 = [v68 trailingAnchor];
      v74 = [v137 mainContentGuide];
      v75 = [v74 trailingAnchor];

      v76 = [v73 constraintEqualToAnchor:v75];
      v1 = v137;
      *(v67 + 40) = v76;
      v77 = objc_opt_self();
      sub_1000163D8();
      v78 = Array._bridgeToObjectiveC()().super.isa;
      [v77 activateConstraints:v78];

      v79 = *&v137[v66];
      *&v137[v66] = v67;

      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
      {
        v132 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }

      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
    }
  }

  v80 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabel];
  if (v80)
  {
    v81 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabelConstraints;
    if (!*&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabelConstraints])
    {
      sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
      v82 = swift_allocObject();
      *(v82 + 16) = xmmword_1000BD0A0;
      v80 = v80;
      v83 = [v80 leadingAnchor];
      v84 = [v137 mainContentGuide];
      v85 = [v84 leadingAnchor];

      v86 = [v83 constraintEqualToAnchor:v85];
      *(v82 + 32) = v86;
      v87 = [v80 trailingAnchor];
      v88 = [v137 mainContentGuide];
      v89 = [v88 trailingAnchor];

      v90 = [v87 constraintEqualToAnchor:v89];
      v1 = v137;
      *(v82 + 40) = v90;
      v91 = objc_opt_self();
      sub_1000163D8();
      v92 = Array._bridgeToObjectiveC()().super.isa;
      [v91 activateConstraints:v92];

      v93 = *&v137[v81];
      *&v137[v81] = v82;

      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
      {
        v133 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }

      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
    }
  }

  v94 = *&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreInfoButton];
  if (v94)
  {
    v95 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreButtonConstraints;
    if (!*&v1[OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreButtonConstraints])
    {
      sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
      v96 = swift_allocObject();
      *(v96 + 16) = xmmword_1000BD430;
      v80 = v94;
      v97 = [v80 leadingAnchor];
      v98 = [v137 mainContentGuide];
      v99 = [v98 leadingAnchor];

      v100 = [v97 constraintEqualToAnchor:v99];
      *(v96 + 32) = v100;
      v101 = [v80 trailingAnchor];
      v102 = [v137 mainContentGuide];
      v103 = [v102 trailingAnchor];

      v104 = [v101 constraintEqualToAnchor:v103];
      *(v96 + 40) = v104;
      v105 = [v80 heightAnchor];
      v106 = [v105 constraintEqualToConstant:40.0];

      *(v96 + 48) = v106;
      v107 = objc_opt_self();
      sub_1000163D8();
      v108 = Array._bridgeToObjectiveC()().super.isa;
      [v107 activateConstraints:v108];

      v109 = *&v137[v95];
      *&v137[v95] = v96;

      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
      {
        v134 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }

      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
    }
  }

  if (!(_swiftEmptyArrayStorage >> 62))
  {
    v110 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (v110)
    {
      goto LABEL_63;
    }

LABEL_79:

    v80 = 0;
    goto LABEL_80;
  }

  v110 = _CocoaArrayWrapper.endIndex.getter();
  if (!v110)
  {
    goto LABEL_79;
  }

LABEL_63:
  if (v110 < 1)
  {
    __break(1u);
  }

  else
  {
    v111 = 0;
    v112 = 0;
    v136 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewsGuide;
    v113 = PRXMainContentMargin;
    do
    {
      if ((_swiftEmptyArrayStorage & 0xC000000000000001) != 0)
      {
        v117 = specialized _ArrayBuffer._getElementSlowPath(_:)();
      }

      else
      {
        v117 = _swiftEmptyArrayStorage[v112 + 4];
      }

      v118 = v117;
      if (v111)
      {
        v114 = [v117 topAnchor];
        v115 = [v111 bottomAnchor];
        v116 = [v114 constraintEqualToAnchor:v115 constant:v113];

        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
        {
          v122 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        }

        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      }

      else
      {
        v119 = [v117 topAnchor];
        v120 = [*&v137[v136] bottomAnchor];
        v121 = [v119 constraintEqualToAnchor:v120 constant:v113];

        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
        {
          v123 = *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10);
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        }

        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      }

      ++v112;
      v111 = v118;
    }

    while (v110 != v112);

    v80 = v118;
    v124 = [v80 bottomAnchor];
    v125 = [v137 mainContentGuide];
    v126 = [v125 bottomAnchor];

    v127 = [v124 constraintLessThanOrEqualToAnchor:v126];
    specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
    if (*((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) < *((_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1)
    {
      goto LABEL_77;
    }
  }

  specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
LABEL_77:
  specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();

LABEL_80:
  v128 = objc_opt_self();
  sub_1000163D8();
  v129 = Array._bridgeToObjectiveC()().super.isa;

  [v128 activateConstraints:v129];
}

id sub_100049370()
{
  v2.receiver = v0;
  v2.super_class = type metadata accessor for HomePodSetupIconContentView();
  return objc_msgSendSuper2(&v2, "dealloc");
}

void sub_1000494B4()
{
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewGuideConstraints) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelViewConstraints) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewConstraints) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabelConstraints) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreButtonConstraints) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabelConstraints) = 0;
  v1 = OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViewsGuide;
  *(v0 + v1) = [objc_allocWithZone(UILayoutGuide) init];
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_labelView) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_imageViews) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_accountLabel) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_bodyLabel) = 0;
  *(v0 + OBJC_IVAR____TtC14HDSViewService27HomePodSetupIconContentView_moreInfoButton) = 0;
  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_1000495BC(uint64_t a1)
{
  v2 = IndexPath.section.getter();
  v3 = *(a1 + 16);
  if (v2 >= v3)
  {
    return 0;
  }

  result = IndexPath.section.getter();
  if (result < 0)
  {
    goto LABEL_18;
  }

  if (!v3)
  {
LABEL_13:
    __break(1u);
    return 0;
  }

  v5 = result;
  v6 = 0;
  v7 = 0;
  v8 = a1 + 32;
  while (1)
  {
    v9 = *(v8 + 8 * v6);
    result = IndexPath.section.getter();
    if (v6 != result)
    {
      break;
    }

    if (IndexPath.row.getter() >= v9)
    {
      return 0;
    }

    result = IndexPath.row.getter();
    v10 = __OFADD__(v7, result);
    v7 += result;
    if (v10)
    {
      goto LABEL_17;
    }

LABEL_11:
    if (v5 == v6)
    {
      return v7;
    }

    if (v3 == ++v6)
    {
      goto LABEL_13;
    }
  }

  v10 = __OFADD__(v7, v9);
  v7 += v9;
  if (!v10)
  {
    goto LABEL_11;
  }

  __break(1u);
LABEL_17:
  __break(1u);
LABEL_18:
  __break(1u);
  return result;
}

uint64_t sub_10004968C()
{
  v0 = type metadata accessor for Logger();
  sub_100012B48(v0, qword_1001026E8);
  v1 = sub_100012AAC(v0, qword_1001026E8);
  if (qword_100101670 != -1)
  {
    swift_once();
  }

  v2 = sub_100012AAC(v0, qword_100108998);
  v3 = *(*(v0 - 8) + 16);

  return v3(v1, v2, v0);
}

void sub_100049754()
{
  v0 = String._bridgeToObjectiveC()();
  v1 = sub_100006658(v0);

  v2 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v4 = v3;

  qword_100108710 = v2;
  *algn_100108718 = v4;
}

void sub_1000497CC()
{
  v0 = String._bridgeToObjectiveC()();
  v1 = sub_100006658(v0);

  v2 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v4 = v3;

  qword_100108720 = v2;
  *algn_100108728 = v4;
}

id sub_100049844()
{
  v1 = OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController____lazy_storage___infoTableView;
  v2 = *(v0 + OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController____lazy_storage___infoTableView);
  if (v2)
  {
    v3 = *(v0 + OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController____lazy_storage___infoTableView);
  }

  else
  {
    type metadata accessor for HomePodSetupWiFiInfoTableView();
    v4 = [objc_allocWithZone(swift_getObjCClassFromMetadata()) init];
    v5 = *(v0 + v1);
    *(v0 + v1) = v4;
    v3 = v4;

    v2 = 0;
  }

  v6 = v2;
  return v3;
}

void sub_1000498BC()
{
  v1 = sub_10000E6C4(&qword_100103420, &unk_1000BCE90);
  v2 = *(*(v1 - 8) + 64);
  __chkstk_darwin(v1 - 8);
  v4 = &aBlock[-1] - v3;
  v5 = type metadata accessor for HomePodSetupViewModel(0);
  v6 = *(v5 - 8);
  v7 = *(v6 + 64);
  v8 = __chkstk_darwin(v5);
  v10 = (&aBlock[-1] - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v8);
  v12 = &aBlock[-1] - v11;
  v13 = type metadata accessor for HomePodSetupWiFiErrorViewController();
  v36.receiver = v0;
  v36.super_class = v13;
  objc_msgSendSuper2(&v36, "viewDidLoad");
  v14 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_viewModel;
  swift_beginAccess();
  sub_100016238(v0 + v14, v4);
  if ((*(v6 + 48))(v4, 1, v5) == 1)
  {
    sub_1000162A8(v4);
    if (qword_100101618 != -1)
    {
      swift_once();
    }

    v15 = type metadata accessor for Logger();
    sub_100012AAC(v15, qword_1001026E8);
    v16 = Logger.logObject.getter();
    v17 = static os_log_type_t.error.getter();
    if (os_log_type_enabled(v16, v17))
    {
      v18 = swift_slowAlloc();
      *v18 = 0;
      _os_log_impl(&_mh_execute_header, v16, v17, "HomePodSetupWiFiErrorViewController: viewDidLoad failed because viewModel not set.", v18, 2u);
    }
  }

  else
  {
    v19 = v0;
    sub_100016310(v4, v12);
    if (qword_100101618 != -1)
    {
      swift_once();
    }

    v20 = type metadata accessor for Logger();
    sub_100012AAC(v20, qword_1001026E8);
    sub_100012AE4(v12, v10);
    v21 = Logger.logObject.getter();
    v22 = static os_log_type_t.default.getter();
    if (os_log_type_enabled(v21, v22))
    {
      v23 = swift_slowAlloc();
      v24 = swift_slowAlloc();
      aBlock[0] = v24;
      *v23 = 136315138;
      v25 = *v10;
      v26 = v10[1];

      sub_100016374(v10);
      v27 = sub_1000B08A0(v25, v26, aBlock);

      *(v23 + 4) = v27;
      _os_log_impl(&_mh_execute_header, v21, v22, "HomePodSetupWiFiErrorViewController: viewDidLoad with title %s", v23, 0xCu);
      sub_10000E70C(v24);
    }

    else
    {

      sub_100016374(v10);
    }

    if (v12[*(v5 + 108)] == 1)
    {
      if (qword_100101620 != -1)
      {
        swift_once();
      }

      v28 = swift_allocObject();
      swift_unknownObjectWeakInit();

      v29 = String._bridgeToObjectiveC()();
      aBlock[4] = sub_10004ACF0;
      aBlock[5] = v28;
      aBlock[0] = _NSConcreteStackBlock;
      aBlock[1] = 1107296256;
      aBlock[2] = sub_10003DFD0;
      aBlock[3] = &unk_1000EFD48;
      v30 = _Block_copy(aBlock);
      v31 = [objc_opt_self() actionWithTitle:v29 style:1 handler:v30];

      _Block_release(v30);

      v32 = [v19 addAction:v31];
    }

    v33 = sub_100049844();
    [v33 setAlpha:0.0];

    sub_100016374(v12);
  }
}

void sub_100049DE4()
{
  swift_beginAccess();
  Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    v1 = Strong;
    v2 = OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController_showInfo;
    if (*(Strong + OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController_showInfo) == 1)
    {
      sub_10004A608();
      if (qword_100101628 != -1)
      {
        swift_once();
      }

      v3 = qword_100108720;
      v4 = *algn_100108728;
      if (qword_100101620 != -1)
      {
        v8 = *algn_100108728;
        v10 = qword_100108720;
        swift_once();
        v4 = v8;
        v3 = v10;
      }

      v5 = &qword_100108710;
    }

    else
    {
      sub_10004A20C();
      if (qword_100101620 != -1)
      {
        swift_once();
      }

      v3 = qword_100108710;
      v4 = *algn_100108718;
      if (qword_100101628 != -1)
      {
        v9 = *algn_100108718;
        v11 = qword_100108710;
        swift_once();
        v4 = v9;
        v3 = v11;
      }

      v5 = &qword_100108720;
    }

    v6 = *v5;
    v7 = v5[1];
    sub_10004A040(v3, v4);
    v1[v2] = (v1[v2] & 1) == 0;
  }
}

void sub_10004A040(uint64_t a1, uint64_t a2)
{
  v5 = [*(v2 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView) actionButtons];
  sub_10003AE18(0, &qword_100102740, PRXButton_ptr);
  v6 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

  if (v6 >> 62)
  {
    v7 = _CocoaArrayWrapper.endIndex.getter();
    if (v7)
    {
      goto LABEL_3;
    }

LABEL_19:

    return;
  }

  v7 = *((v6 & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (!v7)
  {
    goto LABEL_19;
  }

LABEL_3:
  if (v7 >= 1)
  {
    v8 = 0;
    while (1)
    {
      if ((v6 & 0xC000000000000001) != 0)
      {
        v11 = specialized _ArrayBuffer._getElementSlowPath(_:)();
      }

      else
      {
        v11 = *(v6 + 8 * v8 + 32);
      }

      v10 = v11;
      v12 = [v11 titleForState:0];
      if (!v12)
      {
        goto LABEL_7;
      }

      v13 = v12;
      v14 = static String._unconditionallyBridgeFromObjectiveC(_:)();
      v16 = v15;

      if (v14 == a1 && v16 == a2)
      {
      }

      else
      {
        v18 = _stringCompareWithSmolCheck(_:_:expecting:)();

        if ((v18 & 1) == 0)
        {
          goto LABEL_7;
        }
      }

      v9 = String._bridgeToObjectiveC()();
      [v10 setTitle:v9 forState:0];

      v10 = v9;
LABEL_7:
      ++v8;

      if (v7 == v8)
      {
        goto LABEL_19;
      }
    }
  }

  __break(1u);
}

void sub_10004A20C()
{
  v1 = v0;
  if (qword_100101618 != -1)
  {
    swift_once();
  }

  v2 = type metadata accessor for Logger();
  sub_100012AAC(v2, qword_1001026E8);
  v3 = Logger.logObject.getter();
  v4 = static os_log_type_t.debug.getter();
  if (os_log_type_enabled(v3, v4))
  {
    v5 = swift_slowAlloc();
    *v5 = 0;
    _os_log_impl(&_mh_execute_header, v3, v4, "HomePodSetupWiFiErrorViewController: user tapped on the info button.", v5, 2u);
  }

  v6 = sub_100049844();
  [v6 setSeparatorStyle:0];

  v7 = OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController____lazy_storage___infoTableView;
  v8 = *&v1[OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController____lazy_storage___infoTableView];
  sub_100095AE0();

  sub_10004A78C();
  v9 = objc_opt_self();
  v10 = swift_allocObject();
  *(v10 + 16) = v1;
  v18[4] = sub_10004AC48;
  v18[5] = v10;
  v18[0] = _NSConcreteStackBlock;
  v18[1] = 1107296256;
  v18[2] = sub_100091194;
  v18[3] = &unk_1000EFCF8;
  v11 = _Block_copy(v18);
  v12 = v1;

  [v9 animateWithDuration:v11 animations:0.5];
  _Block_release(v11);
  [*&v1[v7] setHidden:0];
  Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    v14 = Strong;
    v15 = swift_allocObject();
    swift_unknownObjectWeakInit();
    v16 = *(v14 + OBJC_IVAR____TtC14HDSViewService21HomePodSetupPresenter_interactor);

    LOBYTE(v16) = sub_1000A670C(sub_10004ACE8, v15);
    swift_unknownObjectRelease();

    if ((v16 & 1) == 0)
    {
      v17 = String._bridgeToObjectiveC()();
      [v12 showActivityIndicatorWithStatus:v17];
    }
  }
}

void sub_10004A4C4(uint64_t *a1)
{
  if (qword_100101618 != -1)
  {
    swift_once();
  }

  v2 = type metadata accessor for Logger();
  sub_100012AAC(v2, qword_1001026E8);
  v3 = Logger.logObject.getter();
  v4 = static os_log_type_t.default.getter();
  if (os_log_type_enabled(v3, v4))
  {
    v5 = swift_slowAlloc();
    *v5 = 0;
    _os_log_impl(&_mh_execute_header, v3, v4, "HomePodSetupWiFiErrorViewController: Request for PreAuth completed.", v5, 2u);
  }

  swift_beginAccess();
  Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    v7 = Strong;
    [Strong hideActivityIndicator];
    sub_10006F468(1.0);
    v8 = sub_100049844();
    sub_100095C9C(a1);
  }
}

void sub_10004A608()
{
  v1 = objc_opt_self();
  v2 = swift_allocObject();
  *(v2 + 16) = v0;
  v12 = sub_10004ABD4;
  v13 = v2;
  v8 = _NSConcreteStackBlock;
  v9 = 1107296256;
  v10 = sub_100091194;
  v11 = &unk_1000EFC58;
  v3 = _Block_copy(&v8);
  v4 = v0;

  v5 = swift_allocObject();
  *(v5 + 16) = v4;
  v12 = sub_10004ABF4;
  v13 = v5;
  v8 = _NSConcreteStackBlock;
  v9 = 1107296256;
  v10 = sub_1000A3260;
  v11 = &unk_1000EFCA8;
  v6 = _Block_copy(&v8);
  v7 = v4;

  [v1 animateWithDuration:v3 animations:v6 completion:0.5];
  _Block_release(v6);
  _Block_release(v3);
}

void sub_10004A78C()
{
  v1 = OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView;
  v2 = *(v0 + OBJC_IVAR____TtC14HDSViewService37HomePodSetupIconContentViewController_myContentView);
  v3 = sub_100049844();
  [v2 addSubview:v3];

  v4 = [*(v0 + v1) mainContentGuide];
  v5 = objc_opt_self();
  sub_10000E6C4(&qword_100103430, &qword_1000BCEA0);
  v6 = swift_allocObject();
  *(v6 + 16) = xmmword_1000BD460;
  v7 = OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController____lazy_storage___infoTableView;
  v8 = [*(v0 + OBJC_IVAR____TtC14HDSViewService35HomePodSetupWiFiErrorViewController____lazy_storage___infoTableView) topAnchor];
  v9 = [v4 topAnchor];
  v10 = [v8 constraintEqualToAnchor:v9];

  *(v6 + 32) = v10;
  v11 = [*(v0 + v7) bottomAnchor];
  v12 = [v4 bottomAnchor];
  v13 = [v11 constraintEqualToAnchor:v12];

  *(v6 + 40) = v13;
  v14 = [*(v0 + v7) leadingAnchor];
  v15 = [v4 leadingAnchor];
  v16 = [v14 constraintEqualToAnchor:v15];

  *(v6 + 48) = v16;
  v17 = [*(v0 + v7) trailingAnchor];
  v18 = [v4 trailingAnchor];
  v19 = [v17 constraintEqualToAnchor:v18];

  *(v6 + 56) = v19;
  sub_10003AE18(0, &qword_100102620, NSLayoutConstraint_ptr);
  isa = Array._bridgeToObjectiveC()().super.isa;

  [v5 activateConstraints:isa];
}

id sub_10004AAB4()
{
  v2.receiver = v0;
  v2.super_class = type metadata accessor for HomePodSetupWiFiErrorViewController();
  return objc_msgSendSuper2(&v2, "dealloc");
}

uint64_t type metadata accessor for HomePodSetupWiFiErrorViewController()
{
  result = qword_100102730;
  if (!qword_100102730)
  {
    return swift_getSingletonMetadata();
  }

  return result;
}

uint64_t sub_10004AB9C()
{

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_10004ABDC(uint64_t a1, uint64_t a2)
{
  v2 = *(a2 + 40);
  *(a1 + 32) = *(a2 + 32);
  *(a1 + 40) = v2;
}

void sub_10004ABF4()
{
  v1 = *(v0 + 16);
  v2 = sub_100049844();
  [v2 setHidden:1];
}

void sub_10004AC50(double a1)
{
  v3 = *(v1 + 16);
  v4 = sub_100049844();
  [v4 setAlpha:a1];
}

uint64_t sub_10004ACB0()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_10004AD18()
{
  v0 = type metadata accessor for Logger();
  sub_100012B48(v0, qword_100102748);
  v1 = sub_100012AAC(v0, qword_100102748);
  if (qword_100101670 != -1)
  {
    swift_once();
  }

  v2 = sub_100012AAC(v0, qword_100108998);
  v3 = *(*(v0 - 8) + 16);

  return v3(v1, v2, v0);
}

uint64_t sub_10004ADE0(char a1)
{
  result = 1701736270;
  switch(a1)
  {
    case 1:
      result = 1818845510;
      break;
    case 2:
      result = 1701080899;
      break;
    case 3:
      result = 0x694669576F6ELL;
      break;
    case 4:
      result = 0x69466957646142;
      break;
    case 5:
      result = 0x64756F6C43696F6ELL;
      break;
    case 6:
      result = 0x324153486F6ELL;
      break;
    case 7:
      result = 0x73656E7554696F6ELL;
      break;
    case 8:
      result = 0x656D6F486F6ELL;
      break;
    case 9:
      result = 0x61686379654B6F6ELL;
      break;
    case 10:
      result = 0x6C70536572616873;
      break;
    case 11:
      result = 0x6F69647561;
      break;
    case 12:
      result = 1769105779;
      break;
    case 13:
      result = 0x73754D656C707061;
      break;
    case 14:
      result = 0x65746E4569666977;
      break;
    case 15:
      result = 0x6974616D6F747541;
      break;
    default:
      return result;
  }

  return result;
}

Swift::Int sub_10004AFD0()
{
  v1 = *v0;
  Hasher.init(_seed:)();
  Hasher._combine(_:)(dword_1000BD744[v1]);
  return Hasher._finalize()();
}

Swift::Int sub_10004B058()
{
  v1 = *v0;
  Hasher.init(_seed:)();
  Hasher._combine(_:)(dword_1000BD744[v1]);
  return Hasher._finalize()();
}

uint64_t sub_10004B0A4@<X0>(unsigned int *a1@<X0>, _BYTE *a2@<X8>)
{
  result = sub_1000514BC(*a1);
  *a2 = result;
  return result;
}

uint64_t sub_10004B0F0()
{
  v1 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation);
  v2 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 8);
  v3 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 16);
  v4 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 24);
  v5 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 32);
  v6 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 40);
  v7 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 48);
  if (v2)
  {
    v8 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 48);
  }

  else
  {
    LOWORD(v8) = 0;
  }

  v9 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 16);
  v10 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 24);
  v11 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 32);
  v12 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 40);
  v13 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 48);
  sub_1000146EC(*(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation), *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 8));
  sub_10001466C(v1, v2);
  v14 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_subscribedToMusicService);
  if ((v8 & 0x1000) != 0)
  {
    v14 = 0;
  }

  if (*(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_selectedHomeIsROAR) == 1)
  {
    if ((v14 & 1) == 0)
    {
      return (v8 & 0x800) == 0;
    }

    return 1;
  }

  return v14 != 0;
}

uint64_t sub_10004B1D8(uint64_t a1)
{
  v2 = v1;
  v4 = sub_10000E6C4(&qword_1001031C0, &unk_1000BD6F0);
  v5 = *(*(v4 - 8) + 64);
  v6 = __chkstk_darwin(v4 - 8);
  v146 = &v143 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  v144 = &v143 - v8;
  v9 = type metadata accessor for UUID();
  v10 = *(v9 - 8);
  v11 = *(v10 + 64);
  v12 = __chkstk_darwin(v9);
  v14 = &v143 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  v16 = &v143 - v15;
  *(v1 + 16) = 0;
  *(v1 + 24) = 0;
  *(v1 + 32) = 0;
  *(v1 + 36) = 1;
  *(v1 + 72) = 0;
  *(v1 + 48) = 0;
  *(v1 + 56) = 0;
  *(v1 + 40) = 0;
  *(v1 + 64) = 0;
  v17 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_defaultRoomIndexPath;
  v18 = type metadata accessor for IndexPath();
  (*(*(v18 - 8) + 56))(v2 + v17, 1, 1, v18);
  v19 = v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_dismissType;
  *v19 = 0;
  *(v19 + 4) = 1;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_error) = 0;
  v20 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iCloudId);
  *v20 = 0;
  v20[1] = 0;
  v21 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_imageName);
  *v21 = 0;
  v21[1] = 0xE000000000000000;
  v22 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iTunesId);
  *v22 = 0;
  v22[1] = 0;
  v23 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_movieName);
  *v23 = 0;
  v23[1] = 0xE000000000000000;
  v24 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_productName);
  *v24 = 0;
  v24[1] = 0xE000000000000000;
  v25 = v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_rssi;
  *v25 = 0;
  *(v25 + 4) = 1;
  v26 = *(v10 + 56);
  v145 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sessionUUID;
  v26(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sessionUUID, 1, 1, v9);
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_status) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoRole) = 1;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoCounterpartColor) = SFDeviceColorCodeUnknown;
  v147 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_viewAppearedTicks;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_viewAppearedTicks) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_availableSiriLanguages) = _swiftEmptyArrayStorage;
  v27 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preferredSiriLanguageCode);
  *v27 = 0;
  v27[1] = 0xE000000000000000;
  v28 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_selectedSiriLanguageCode);
  *v28 = 0;
  v28[1] = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_availableAccessories) = _swiftEmptyArrayStorage;
  v29 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceGUID);
  *v29 = 0;
  v29[1] = 0xE000000000000000;
  v30 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceSerialNumber);
  *v30 = 0;
  v30[1] = 0xE000000000000000;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_siriDialogInfo) = 0;
  v148 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceActionType;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceActionType) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_allowsRandomVoiceSelection) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sfSession) = 0;
  v31 = v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation;
  *v31 = 0u;
  *(v31 + 16) = 0u;
  *(v31 + 32) = 0u;
  *(v31 + 48) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundle) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundles) = &_swiftEmptyDictionarySingleton;
  v32 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_cachedProductImage;
  v33 = type metadata accessor for AdjustedImage(0);
  (*(*(v33 - 8) + 56))(v2 + v32, 1, 1, v33);
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_cachedProductImageflags) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_subscribedToMusicService) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_selectedHomeIsROAR) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_homeHasLocationEnabled) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_homeHasExistingHomePods) = 0;
  v34 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_homeName);
  *v34 = 0;
  v34[1] = 0xE000000000000000;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_userEnabledLocationForHomePod) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_bonjourTestState) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_siriDataSharingEnabled) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_amsMarketingItem) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_acceptedMusicTerms) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_showHomepodSoftwareUpdate) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_homePodProductVersion) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_isHomeInHH2) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_jsEnabled) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_forcedADPSoftwareUpdate) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_showCannotCancelSU) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_airDropStatus) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_voiceRecognitionEnabled) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_errorCardType) = 0;
  v35 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_errorSSID);
  *v35 = 0;
  v35[1] = 0xE000000000000000;
  v36 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sameLocationHomeName);
  *v36 = 0;
  v36[1] = 0;
  v37 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sysdropPath);
  *v37 = 0;
  v37[1] = 0;
  v38 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_selectedSSID);
  *v38 = 0;
  v38[1] = 0xE000000000000000;
  v39 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preferredSSID);
  *v39 = 0;
  v39[1] = 0xE000000000000000;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_showPickerOption) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_wifiOptions) = _swiftEmptyArrayStorage;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_didUsePhonesNetwork) = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_termsAccount) = 0;
  v40 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_termsInfo);
  *v40 = 0;
  v40[1] = 0;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_namingIssue) = 0;
  v150 = 0xD000000000000010;
  v151 = 0x80000001000C3910;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v41 = sub_100053B3C(v153), (v42 & 1) == 0))
  {
    sub_10000EA04(v153);
    goto LABEL_8;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v41, &v154);
  sub_10000EA04(v153);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_8:
    UUID.init()();
    v14 = v16;
    goto LABEL_9;
  }

  v43 = v144;
  UUID.init(uuidString:)();

  v44 = *(v10 + 48);
  if (v44(v43, 1, v9) == 1)
  {
    UUID.init()();
    if (v44(v43, 1, v9) != 1)
    {
      sub_10000EBA4(v43, &qword_1001031C0, &unk_1000BD6F0);
    }
  }

  else
  {
    (*(v10 + 32))(v14, v43, v9);
  }

LABEL_9:
  (*(v10 + 32))(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceIdentifier, v14, v9);
  v154 = 0x6F6973726556736FLL;
  v155 = 0xE90000000000006ELL;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v45 = sub_100053B3C(v153), (v46 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v45, &v154);
    sub_10000EA04(v153);
    if (swift_dynamicCast())
    {
      v47 = v150;
    }

    else
    {
      v47 = 0;
    }
  }

  else
  {
    sub_10000EA04(v153);
    v47 = 0;
  }

  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_osVersion) = v47;
  v150 = 0x556E6F6973736573;
  v151 = 0xEB00000000444955;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v48 = sub_100053B3C(v153), (v49 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v48, &v154);
    sub_10000EA04(v153);
    if (swift_dynamicCast())
    {
      v50 = v146;
      UUID.init(uuidString:)();

      v51 = v145;
      swift_beginAccess();
      sub_100012DA0(v50, v2 + v51, &qword_1001031C0, &unk_1000BD6F0);
      swift_endAccess();
    }
  }

  else
  {
    sub_10000EA04(v153);
  }

  v154 = 1769173874;
  v155 = 0xE400000000000000;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v52 = sub_100053B3C(v153), (v53 & 1) == 0))
  {
    sub_10000EA04(v153);
    goto LABEL_24;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v52, &v154);
  sub_10000EA04(v153);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_24:
    v54 = 0;
    goto LABEL_25;
  }

  v54 = v150;
LABEL_25:
  *v25 = v54;
  *(v25 + 4) = 0;
  v154 = 0x5372656767697274;
  v155 = 0xEB00000000736365;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v55 = sub_100053B3C(v153), (v56 & 1) == 0))
  {
    sub_10000EA04(v153);
    goto LABEL_30;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v55, &v154);
  sub_10000EA04(v153);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_30:
    v57 = 0;
    goto LABEL_31;
  }

  v57 = v150;
LABEL_31:
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_triggerSeconds) = v57;
  v154 = 0xD000000000000010;
  v155 = 0x80000001000C47C0;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v58 = sub_100053B3C(v153), (v59 & 1) == 0))
  {
    sub_10000EA04(v153);
    goto LABEL_36;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v58, &v154);
  sub_10000EA04(v153);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_36:
    v60 = 0;
    goto LABEL_37;
  }

  v60 = v150;
LABEL_37:
  *(v2 + v148) = v60;
  v154 = 0x6F4D656369766564;
  v155 = 0xEF65646F436C6564;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v61 = sub_100053B3C(v153), (v62 & 1) == 0))
  {
    sub_10000EA04(v153);
    goto LABEL_42;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v61, &v154);
  sub_10000EA04(v153);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_42:
    v63 = 0;
    goto LABEL_43;
  }

  v63 = v150;
LABEL_43:
  v64 = &unk_100108000;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_otherDeviceModelCode) = v63;
  v154 = 0x646F43726F6C6F63;
  v155 = 0xE900000000000065;
  AnyHashable.init<A>(_:)();
  if (!*(a1 + 16) || (v65 = sub_100053B3C(v153), (v66 & 1) == 0))
  {
    sub_10000EA04(v153);
    goto LABEL_48;
  }

  sub_10000EA58(*(a1 + 56) + 32 * v65, &v154);
  sub_10000EA04(v153);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_48:
    v67 = 2;
    goto LABEL_49;
  }

  v67 = v150;
LABEL_49:
  v68 = &unk_100108000;
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_otherDeviceColorCode) = v67;
  v154 = 0x6C43656369766564;
  v155 = 0xEF65646F43737361;
  AnyHashable.init<A>(_:)();
  if (*(a1 + 16) && (v69 = sub_100053B3C(v153), (v70 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v69, &v154);
    sub_10000EA04(v153);
    if (swift_dynamicCast())
    {
      v71 = v150;
      goto LABEL_55;
    }
  }

  else
  {
    sub_10000EA04(v153);
  }

  v71 = 0;
LABEL_55:
  v72 = sub_100006620(v71);
  v73 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v75 = v74;

  v76 = [objc_opt_self() sharedConnection];
  if (!v76)
  {
    __break(1u);
  }

  v77 = v76;
  v78 = [v76 effectiveBoolValueForSetting:MCFeatureCameraAllowed];

  *(v2 + 68) = v78 != 2;
  v79 = String._bridgeToObjectiveC()();
  v80 = String._bridgeToObjectiveC()();
  Int64 = CFPrefs_GetInt64();

  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_progressDetail) = Int64 != 0;
  *(v2 + v147) = mach_absolute_time();
  *(v2 + 69) = sub_1000065B8();
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_progressEvent) = 0;
  v82 = objc_allocWithZone(NSRegularExpression);
  v83 = sub_100050D30(0xD000000000000010, 0x80000001000C4D00, 1);
  v150 = 0x6172615074736574;
  v151 = 0xEA0000000000736DLL;
  AnyHashable.init<A>(_:)();
  v84 = &unk_100101000;
  if (*(a1 + 16) && (v85 = sub_100053B3C(v153), (v86 & 1) != 0))
  {
    sub_10000EA58(*(a1 + 56) + 32 * v85, &v154);
    sub_10000EA04(v153);
    if (swift_dynamicCast())
    {
      v148 = v73;
      v88 = v150;
      v87 = v151;
      v89 = String._bridgeToObjectiveC()();
      v154 = 15;
      v153[0] = v88;
      v153[1] = v87;

      sub_10000E6C4(&qword_1001024D8, &unk_1000BD2F0);
      sub_10003DEBC();
      sub_10003DF20();
      v90 = _NSRange.init<A, B>(_:in:)();
      v92 = [v83 firstMatchInString:v89 options:0 range:{v90, v91}];

      if (!v92)
      {

        v109 = &unk_100108000;
        v73 = v148;
        v64 = &unk_100108000;
        v68 = &unk_100108000;
LABEL_87:
        v84 = &unk_100101000;
        goto LABEL_72;
      }

      [v92 rangeAtIndex:1];
      Range<>.init(_:in:)();
      if (v93)
      {
        __break(1u);
        result = swift_unexpectedError();
        __break(1u);
        return result;
      }

      v94 = String.subscript.getter();
      v96 = v95;
      v98 = v97;
      v100 = v99;

      if ((v94 ^ v96) >> 14)
      {
        v101 = sub_1000513EC(v94, v96, v98, v100, 10);
        if ((v101 & 0x10000) != 0)
        {
          LOWORD(v101) = sub_100050E0C(v94, v96, v98, v100, 10);
        }

        v102 = v101;

        v103 = &unk_100108000;
        v73 = v148;
        v68 = &unk_100108000;
        if ((v102 & 0x100) == 0)
        {
          goto LABEL_66;
        }
      }

      else
      {

        v103 = &unk_100108000;
        v73 = v148;
        v68 = &unk_100108000;
      }

      LOBYTE(v102) = 0;
LABEL_66:
      v104 = v103[249];
      *(v2 + v104) = v102;
      if (qword_100101630 != -1)
      {
        swift_once();
      }

      v105 = type metadata accessor for Logger();
      sub_100012AAC(v105, qword_100102748);

      v106 = Logger.logObject.getter();
      v107 = static os_log_type_t.default.getter();
      if (os_log_type_enabled(v106, v107))
      {
        v108 = swift_slowAlloc();
        *v108 = 16777472;
        v108[4] = *(v2 + v104);

        _os_log_impl(&_mh_execute_header, v106, v107, "HomePodSetupModel: stereoCounterpartColor =  %hhu", v108, 5u);
      }

      else
      {
      }

      v109 = &unk_100108000;
      v64 = &unk_100108000;
      goto LABEL_87;
    }
  }

  else
  {

    sub_10000EA04(v153);
  }

  v109 = &unk_100108000;
LABEL_72:
  sub_1000514DC();
  v153[0] = NSString.init(stringLiteral:)();
  v154 = NSString.init(stringLiteral:)();
  v150 = NSString.init(stringLiteral:)();
  v110 = [objc_allocWithZone(NSBundle) init];
  v111 = *(v2 + v64[241]);
  v149 = v110;
  if (v111 <= 1)
  {
    v112 = 1;
  }

  else
  {
    v112 = v111;
  }

  sub_100006EE4(v112, *(v2 + v68[240]), 13, &v154, 0, &v150, 0, v153, 0, 0, &v149);
  v113 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v114 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_movieName);
  v115 = *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_movieName + 8);
  *v114 = v113;
  v114[1] = v116;

  v117 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v118 = (v2 + v109[236]);
  v119 = v118[1];
  *v118 = v117;
  v118[1] = v120;

  v121 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  v122 = (v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_productName);
  v123 = *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_productName + 8);
  *v122 = v121;
  v122[1] = v124;

  v125 = v149;
  v126 = *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundle);
  *(v2 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_assetBundle) = v149;
  v127 = v125;

  v128 = sub_10004C690();
  v130 = v129;
  if (v84[198] != -1)
  {
    swift_once();
  }

  v131 = type metadata accessor for Logger();
  sub_100012AAC(v131, qword_100102748);

  v132 = Logger.logObject.getter();
  v133 = static os_log_type_t.default.getter();

  if (os_log_type_enabled(v132, v133))
  {
    v134 = v73;
    v135 = swift_slowAlloc();
    v152 = swift_slowAlloc();
    *v135 = 136315650;
    v136 = sub_1000B08A0(v134, v75, &v152);

    *(v135 + 4) = v136;
    *(v135 + 12) = 2080;
    v137 = sub_1000B08A0(v128, v130, &v152);

    *(v135 + 14) = v137;
    *(v135 + 22) = 2080;

    v138 = sub_10004C690();
    v140 = v139;

    v141 = sub_1000B08A0(v138, v140, &v152);

    *(v135 + 24) = v141;
    _os_log_impl(&_mh_execute_header, v132, v133, "HomePodSetupModel: Created running on %s=%s info: %s", v135, 0x20u);
    swift_arrayDestroy();
  }

  else
  {
  }

  return v2;
}

uint64_t sub_10004C690()
{
  v1 = v0;
  v301 = sub_10000E6C4(&unk_100104950, &qword_1000BD280);
  v2 = *(*(v301 - 8) + 64);
  v3 = __chkstk_darwin(v301);
  v300 = &v296 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  v299 = &v296 - v5;
  v298 = sub_10000E6C4(&qword_1001031C0, &unk_1000BD6F0);
  v6 = *(*(v298 - 8) + 64);
  v7 = __chkstk_darwin(v298);
  v297 = &v296 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  v10 = &v296 - v9;
  v11 = type metadata accessor for UUID();
  v12 = *(v11 - 8);
  v13 = *(v12 + 64);
  v14 = __chkstk_darwin(v11);
  v16 = &v296 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  v18 = &v296 - v17;
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(20);

  v303 = 0xD000000000000011;
  v304[0] = 0xD000000000000011;
  v304[1] = 0x80000001000C4B40;
  v19 = *(v12 + 16);
  v19(v18, v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceIdentifier, v11);
  v19(v16, v18, v11);
  v20 = String.init<A>(reflecting:)();
  v22 = v21;
  (*(v12 + 8))(v18, v11);
  v23._countAndFlagsBits = v20;
  v23._object = v22;
  String.append(_:)(v23);

  v24._countAndFlagsBits = 32;
  v24._object = 0xE100000000000000;
  String.append(_:)(v24);
  v25._countAndFlagsBits = v304[0];
  v26 = v304[1];
  v302 = 0xD000000000000013;
  v304[0] = 0xD000000000000013;
  v304[1] = 0x80000001000C4B20;
  v25._object = v26;
  String.append(_:)(v25);

  v28 = v304[0];
  v27 = v304[1];
  strcpy(v304, "appleId=");
  BYTE1(v304[1]) = 0;
  WORD1(v304[1]) = 0;
  HIDWORD(v304[1]) = -402653184;
  v29 = *(v0 + 24);
  v309 = *(v0 + 16);
  v310 = v29;

  sub_10000E6C4(&unk_100102370, qword_1000BD248);
  v30._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v30);

  v31._countAndFlagsBits = 32;
  v31._object = 0xE100000000000000;
  String.append(_:)(v31);
  v32 = v304[0];
  v33 = v304[1];
  v304[0] = v28;
  v304[1] = v27;

  v34._countAndFlagsBits = v32;
  v34._object = v33;
  String.append(_:)(v34);

  v36 = v304[0];
  v35 = v304[1];
  strcpy(v304, "iCloudId=");
  WORD1(v304[1]) = 0;
  HIDWORD(v304[1]) = -385875968;
  v37 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iCloudId + 8);
  v309 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iCloudId);
  v310 = v37;

  v38._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v38);

  v39._countAndFlagsBits = 32;
  v39._object = 0xE100000000000000;
  String.append(_:)(v39);
  v40 = v304[0];
  v41 = v304[1];
  v304[0] = v36;
  v304[1] = v35;

  v42._countAndFlagsBits = v40;
  v42._object = v41;
  String.append(_:)(v42);

  v44 = v304[0];
  v43 = v304[1];
  strcpy(v304, "iTunesId=");
  WORD1(v304[1]) = 0;
  HIDWORD(v304[1]) = -385875968;
  v45 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iTunesId + 8);
  v309 = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_iTunesId);
  v310 = v45;

  v46._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v46);

  v47._countAndFlagsBits = 32;
  v47._object = 0xE100000000000000;
  String.append(_:)(v47);
  v48 = v304[0];
  v49 = v304[1];
  v304[0] = v44;
  v304[1] = v43;

  v50._countAndFlagsBits = v48;
  v50._object = v49;
  String.append(_:)(v50);

  v52 = v304[0];
  v51 = v304[1];
  strcpy(v304, "osVersion=");
  BYTE3(v304[1]) = 0;
  HIDWORD(v304[1]) = -369098752;
  LOBYTE(v309) = *(v0 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_osVersion);
  type metadata accessor for SFOSVersion(0);
  v53._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v53);

  v54._countAndFlagsBits = 32;
  v54._object = 0xE100000000000000;
  String.append(_:)(v54);
  v55 = v304[0];
  v56 = v304[1];
  v304[0] = v52;
  v304[1] = v51;

  v57._countAndFlagsBits = v55;
  v57._object = v56;
  String.append(_:)(v57);

  v59 = v304[0];
  v58 = v304[1];
  strcpy(v304, "sessionUUID=");
  BYTE5(v304[1]) = 0;
  HIWORD(v304[1]) = -5120;
  v60 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_sessionUUID;
  swift_beginAccess();
  sub_10000F25C(v1 + v60, v10, &qword_1001031C0, &unk_1000BD6F0);
  sub_10000F25C(v10, v297, &qword_1001031C0, &unk_1000BD6F0);
  v61 = String.init<A>(reflecting:)();
  v63 = v62;
  sub_10000EBA4(v10, &qword_1001031C0, &unk_1000BD6F0);
  v64._countAndFlagsBits = v61;
  v64._object = v63;
  String.append(_:)(v64);

  v65._countAndFlagsBits = 32;
  v65._object = 0xE100000000000000;
  String.append(_:)(v65);
  v66 = v304[0];
  v67 = v304[1];
  v304[0] = v59;
  v304[1] = v58;

  v68._countAndFlagsBits = v66;
  v68._object = v67;
  String.append(_:)(v68);

  v70 = v304[0];
  v69 = v304[1];
  v304[0] = 0x3D69737372;
  v304[1] = 0xE500000000000000;
  v71 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_rssi + 4);
  LODWORD(v307) = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_rssi);
  BYTE4(v307) = v71;
  sub_10000E6C4(&qword_1001031C8, &qword_1000BD700);
  v72._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v72);

  v73._countAndFlagsBits = 32;
  v73._object = 0xE100000000000000;
  String.append(_:)(v73);
  v74 = v304[0];
  v75 = v304[1];
  v304[0] = v70;
  v304[1] = v69;

  v76._countAndFlagsBits = v74;
  v76._object = v75;
  String.append(_:)(v76);

  v78 = v304[0];
  v77 = v304[1];
  strcpy(v304, "badPINCount=");
  BYTE5(v304[1]) = 0;
  HIWORD(v304[1]) = -5120;
  LODWORD(v307) = *(v1 + 64);
  v79._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v79);

  v80._countAndFlagsBits = 32;
  v80._object = 0xE100000000000000;
  String.append(_:)(v80);
  v81 = v304[0];
  v82 = v304[1];
  v304[0] = v78;
  v304[1] = v77;

  v83._countAndFlagsBits = v81;
  v83._object = v82;
  String.append(_:)(v83);

  v85 = v304[0];
  v84 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(21);

  v304[0] = 0xD000000000000012;
  v304[1] = 0x80000001000C4B60;
  v307 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_viewAppearedTicks);
  v86._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v86);

  v87._countAndFlagsBits = 32;
  v87._object = 0xE100000000000000;
  String.append(_:)(v87);
  v88 = v304[0];
  v89 = v304[1];
  v304[0] = v85;
  v304[1] = v84;

  v90._countAndFlagsBits = v88;
  v90._object = v89;
  String.append(_:)(v90);

  v92 = v304[0];
  v91 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(23);

  v304[0] = 0xD000000000000014;
  v304[1] = 0x80000001000C4B80;
  v93 = *(v1 + 36);
  LODWORD(v307) = *(v1 + 32);
  BYTE4(v307) = v93;
  sub_10000E6C4(&qword_1001031D0, &qword_1000BD708);
  v94._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v94);

  v95._countAndFlagsBits = 32;
  v95._object = 0xE100000000000000;
  String.append(_:)(v95);
  v96 = v304[0];
  v97 = v304[1];
  v304[0] = v92;
  v304[1] = v91;

  v98._countAndFlagsBits = v96;
  v98._object = v97;
  String.append(_:)(v98);

  v100 = v304[0];
  v99 = v304[1];
  strcpy(v304, "dismissType=");
  BYTE5(v304[1]) = 0;
  HIWORD(v304[1]) = -5120;
  v101 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_dismissType + 4);
  LODWORD(v307) = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_dismissType);
  BYTE4(v307) = v101;
  sub_10000E6C4(&qword_1001031D8, &qword_1000BD710);
  v102._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v102);

  v103._countAndFlagsBits = 32;
  v103._object = 0xE100000000000000;
  String.append(_:)(v103);
  v104 = v304[0];
  v105 = v304[1];
  v304[0] = v100;
  v304[1] = v99;

  v106._countAndFlagsBits = v104;
  v106._object = v105;
  String.append(_:)(v106);

  v108 = v304[0];
  v107 = v304[1];
  v304[0] = 0x3D726F727265;
  v304[1] = 0xE600000000000000;
  v307 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_error);
  v109 = v307;
  sub_10000E6C4(&qword_1001031E0, &qword_1000BD718);
  v110._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v110);

  v111._countAndFlagsBits = 32;
  v111._object = 0xE100000000000000;
  String.append(_:)(v111);
  v112 = v304[0];
  v113 = v304[1];
  v304[0] = v108;
  v304[1] = v107;

  v114._countAndFlagsBits = v112;
  v114._object = v113;
  String.append(_:)(v114);

  v116 = v304[0];
  v115 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(25);

  v304[0] = 0xD000000000000016;
  v304[1] = 0x80000001000C4BA0;
  LOBYTE(v307) = *(v1 + 69);
  v117._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v117);

  v118._countAndFlagsBits = 32;
  v118._object = 0xE100000000000000;
  String.append(_:)(v118);
  v119 = v304[0];
  v120 = v304[1];
  v304[0] = v116;
  v304[1] = v115;

  v121._countAndFlagsBits = v119;
  v121._object = v120;
  String.append(_:)(v121);

  v123 = v304[0];
  v122 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(24);

  v304[0] = 0xD000000000000015;
  v304[1] = 0x80000001000C4BC0;
  sub_1000503B4(*(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_otherDeviceModelCode));
  v124._countAndFlagsBits = String.init(cString:)();
  String.append(_:)(v124);

  v125._countAndFlagsBits = 32;
  v125._object = 0xE100000000000000;
  String.append(_:)(v125);
  v126 = v304[0];
  v127 = v304[1];
  v304[0] = v123;
  v304[1] = v122;

  v128._countAndFlagsBits = v126;
  v128._object = v127;
  String.append(_:)(v128);

  v130 = v304[0];
  v129 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(24);

  v304[0] = 0xD000000000000015;
  v304[1] = 0x80000001000C4BE0;
  LOBYTE(v307) = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_otherDeviceColorCode);
  v131._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v131);

  v132._countAndFlagsBits = 32;
  v132._object = 0xE100000000000000;
  String.append(_:)(v132);
  v133 = v304[0];
  v134 = v304[1];
  v304[0] = v130;
  v304[1] = v129;

  v135._countAndFlagsBits = v133;
  v135._object = v134;
  String.append(_:)(v135);

  v137 = v304[0];
  v136 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(18);

  v304[0] = 0x5372656767697274;
  v304[1] = 0xEF3D73646E6F6365;
  LODWORD(v307) = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_triggerSeconds);
  v138._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v138);

  v139._countAndFlagsBits = 32;
  v139._object = 0xE100000000000000;
  String.append(_:)(v139);
  v140 = v304[0];
  v141 = v304[1];
  v304[0] = v137;
  v304[1] = v136;

  v142._countAndFlagsBits = v140;
  v142._object = v141;
  String.append(_:)(v142);

  v144 = v304[0];
  v143 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(18);

  v304[0] = 0x73736572676F7270;
  v304[1] = 0xEF3D6C6961746544;
  LOBYTE(v307) = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_progressDetail);
  v145._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v145);

  v146._countAndFlagsBits = 32;
  v146._object = 0xE100000000000000;
  String.append(_:)(v146);
  v147 = v304[0];
  v148 = v304[1];
  v304[0] = v144;
  v304[1] = v143;

  v149._countAndFlagsBits = v147;
  v149._object = v148;
  String.append(_:)(v149);

  v151 = v304[0];
  v150 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(17);

  strcpy(v304, "progressEvent=");
  HIBYTE(v304[1]) = -18;
  sub_100050478(*(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_progressEvent));
  v307 = String.init(cString:)();
  v308 = v152;
  v153._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v153);

  v154._countAndFlagsBits = 32;
  v154._object = 0xE100000000000000;
  String.append(_:)(v154);
  v155 = v304[0];
  v156 = v304[1];
  v304[0] = v151;
  v304[1] = v150;

  v157._countAndFlagsBits = v155;
  v157._object = v156;
  String.append(_:)(v157);

  v159 = v304[0];
  v158 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(17);

  strcpy(v304, "cameraAllowed=");
  HIBYTE(v304[1]) = -18;
  LOBYTE(v307) = *(v1 + 68);
  v160._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v160);

  v161._countAndFlagsBits = 32;
  v161._object = 0xE100000000000000;
  String.append(_:)(v161);
  v162 = v304[0];
  v163 = v304[1];
  v304[0] = v159;
  v304[1] = v158;

  v164._countAndFlagsBits = v162;
  v164._object = v163;
  String.append(_:)(v164);

  v166 = v304[0];
  v165 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(18);

  v304[0] = 0x6C62616C69617661;
  v304[1] = 0xEF3D73656D6F4865;
  v307 = *(v1 + 40);

  sub_10000E6C4(&qword_1001031E8, &qword_1000BD720);
  v167._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v167);

  v168._countAndFlagsBits = 32;
  v168._object = 0xE100000000000000;
  String.append(_:)(v168);
  v169 = v304[0];
  v170 = v304[1];
  v304[0] = v166;
  v304[1] = v165;

  v171._countAndFlagsBits = v169;
  v171._object = v170;
  String.append(_:)(v171);

  v173 = v304[0];
  v172 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(20);

  v304[0] = v303;
  v304[1] = 0x80000001000C4C00;
  v307 = *(v1 + 72);
  v174._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v174);

  v175._countAndFlagsBits = 32;
  v175._object = 0xE100000000000000;
  String.append(_:)(v175);
  v176 = v304[0];
  v177 = v304[1];
  v304[0] = v173;
  v304[1] = v172;

  v178._countAndFlagsBits = v176;
  v178._object = v177;
  String.append(_:)(v178);

  v180 = v304[0];
  v179 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(17);

  strcpy(v304, "existingRooms=");
  HIBYTE(v304[1]) = -18;
  v307 = *(v1 + 48);

  sub_10000E6C4(&qword_1001031F0, &qword_1000BD728);
  v181._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v181);

  v182._countAndFlagsBits = 32;
  v182._object = 0xE100000000000000;
  String.append(_:)(v182);
  v183 = v304[0];
  v184 = v304[1];
  v304[0] = v180;
  v304[1] = v179;

  v185._countAndFlagsBits = v183;
  v185._object = v184;
  String.append(_:)(v185);

  v187 = v304[0];
  v186 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(24);

  v304[0] = 0xD000000000000015;
  v304[1] = 0x80000001000C4C20;
  v188 = OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_defaultRoomIndexPath;
  swift_beginAccess();
  v189 = v299;
  sub_10000F25C(v1 + v188, v299, &unk_100104950, &qword_1000BD280);
  sub_10000F25C(v189, v300, &unk_100104950, &qword_1000BD280);
  v190 = String.init<A>(reflecting:)();
  v192 = v191;
  sub_10000EBA4(v189, &unk_100104950, &qword_1000BD280);
  v193._countAndFlagsBits = v190;
  v193._object = v192;
  String.append(_:)(v193);

  v194._countAndFlagsBits = 32;
  v194._object = 0xE100000000000000;
  String.append(_:)(v194);
  v195 = v304[0];
  v196 = v304[1];
  v304[0] = v187;
  v304[1] = v186;

  v197._countAndFlagsBits = v195;
  v197._object = v196;
  String.append(_:)(v197);

  v199 = v304[0];
  v198 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(18);

  v304[0] = 0x6574736567677573;
  v304[1] = 0xEF3D736D6F6F5264;
  v305 = *(v1 + 56);

  v200._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v200);

  v201._countAndFlagsBits = 32;
  v201._object = 0xE100000000000000;
  String.append(_:)(v201);
  v202 = v304[0];
  v203 = v304[1];
  v304[0] = v199;
  v304[1] = v198;

  v204._countAndFlagsBits = v202;
  v204._object = v203;
  String.append(_:)(v204);

  v206 = v304[0];
  v205 = v304[1];
  strcpy(v304, "movieName=");
  BYTE3(v304[1]) = 0;
  HIDWORD(v304[1]) = -369098752;
  v207 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_movieName + 8);
  v305 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_movieName);
  v306 = v207;

  v208._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v208);

  v209._countAndFlagsBits = 32;
  v209._object = 0xE100000000000000;
  String.append(_:)(v209);
  v210 = v304[0];
  v211 = v304[1];
  v304[0] = v206;
  v304[1] = v205;

  v212._countAndFlagsBits = v210;
  v212._object = v211;
  String.append(_:)(v212);

  v214 = v304[0];
  v213 = v304[1];
  strcpy(v304, "imageName=");
  BYTE3(v304[1]) = 0;
  HIDWORD(v304[1]) = -369098752;
  v215 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_imageName + 8);
  v305 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_imageName);
  v306 = v215;

  v216._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v216);

  v217._countAndFlagsBits = 32;
  v217._object = 0xE100000000000000;
  String.append(_:)(v217);
  v218 = v304[0];
  v219 = v304[1];
  v304[0] = v214;
  v304[1] = v213;

  v220._countAndFlagsBits = v218;
  v220._object = v219;
  String.append(_:)(v220);

  v222 = v304[0];
  v221 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(20);

  v304[0] = v303;
  v304[1] = 0x80000001000C4C40;
  LOBYTE(v305) = sub_10004B0F0() & 1;
  v223._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v223);

  v224._countAndFlagsBits = 32;
  v224._object = 0xE100000000000000;
  String.append(_:)(v224);
  v225 = v304[0];
  v226 = v304[1];
  v304[0] = v222;
  v304[1] = v221;

  v227._countAndFlagsBits = v225;
  v227._object = v226;
  String.append(_:)(v227);

  v229 = v304[0];
  v228 = v304[1];
  strcpy(v304, "productName=");
  BYTE5(v304[1]) = 0;
  HIWORD(v304[1]) = -5120;
  v230 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_productName + 8);
  v305 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_productName);
  v306 = v230;

  v231._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v231);

  v232._countAndFlagsBits = 32;
  v232._object = 0xE100000000000000;
  String.append(_:)(v232);
  v233 = v304[0];
  v234 = v304[1];
  v304[0] = v229;
  v304[1] = v228;

  v235._countAndFlagsBits = v233;
  v235._object = v234;
  String.append(_:)(v235);

  v237 = v304[0];
  v236 = v304[1];
  strcpy(v304, "stereoRole=");
  HIDWORD(v304[1]) = -352321536;
  sub_100050D0C(*(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoRole));
  v238._countAndFlagsBits = String.init(cString:)();
  String.append(_:)(v238);

  v239._countAndFlagsBits = 32;
  v239._object = 0xE100000000000000;
  String.append(_:)(v239);
  v240 = v304[0];
  v241 = v304[1];
  v304[0] = v237;
  v304[1] = v236;

  v242._countAndFlagsBits = v240;
  v242._object = v241;
  String.append(_:)(v242);

  v244 = v304[0];
  v243 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(26);

  v304[0] = 0xD000000000000017;
  v304[1] = 0x80000001000C4C60;
  LOBYTE(v305) = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_stereoCounterpartColor);
  v245._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v245);

  v246._countAndFlagsBits = 32;
  v246._object = 0xE100000000000000;
  String.append(_:)(v246);
  v247 = v304[0];
  v248 = v304[1];
  v304[0] = v244;
  v304[1] = v243;

  v249._countAndFlagsBits = v247;
  v249._object = v248;
  String.append(_:)(v249);

  v251 = v304[0];
  v250 = v304[1];
  strcpy(v304, "deviceGUID=");
  HIDWORD(v304[1]) = -352321536;
  v252 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceGUID + 8);
  v305 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceGUID);
  v306 = v252;

  v253._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v253);

  v254._countAndFlagsBits = 32;
  v254._object = 0xE100000000000000;
  String.append(_:)(v254);
  v255 = v304[0];
  v256 = v304[1];
  v304[0] = v251;
  v304[1] = v250;

  v257._countAndFlagsBits = v255;
  v257._object = v256;
  String.append(_:)(v257);

  v259 = v304[0];
  v258 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(22);

  v260 = v302;
  v304[0] = v302;
  v304[1] = 0x80000001000C4C80;
  v261 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceSerialNumber + 8);
  v305 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_deviceSerialNumber);
  v306 = v261;

  v262._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v262);

  v263._countAndFlagsBits = 32;
  v263._object = 0xE100000000000000;
  String.append(_:)(v263);
  v264 = v304[0];
  v265 = v304[1];
  v304[0] = v259;
  v304[1] = v258;

  v266._countAndFlagsBits = v264;
  v266._object = v265;
  String.append(_:)(v266);

  v268 = v304[0];
  v267 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(24);

  v304[0] = 0xD000000000000015;
  v304[1] = 0x80000001000C4CA0;
  v305 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_availableAccessories);

  sub_10000E6C4(&qword_1001031F8, &qword_1000BD730);
  v269._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v269);

  v270._countAndFlagsBits = 32;
  v270._object = 0xE100000000000000;
  String.append(_:)(v270);
  v271 = v304[0];
  v272 = v304[1];
  v304[0] = v268;
  v304[1] = v267;

  v273._countAndFlagsBits = v271;
  v273._object = v272;
  String.append(_:)(v273);

  v275 = v304[0];
  v274 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(22);

  v305 = v260;
  v306 = 0x80000001000C4CC0;
  v276 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 8);
  v277 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 16);
  v278 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 24);
  v279 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 32);
  v280 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 40);
  v281 = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation + 48);
  v304[0] = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_preAuthInformation);
  v304[1] = v276;
  v304[2] = v277;
  v304[3] = v278;
  v304[4] = v279;
  v304[5] = v280;
  v304[6] = v281;
  sub_1000146EC(v304[0], v276);
  sub_10000E6C4(&qword_100103200, &qword_1000BD738);
  v282._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v282);

  v283._countAndFlagsBits = 32;
  v283._object = 0xE100000000000000;
  String.append(_:)(v283);
  v284 = v305;
  v285 = v306;
  v304[0] = v275;
  v304[1] = v274;

  v286._countAndFlagsBits = v284;
  v286._object = v285;
  String.append(_:)(v286);

  v288 = v304[0];
  v287 = v304[1];
  v304[0] = 0;
  v304[1] = 0xE000000000000000;
  _StringGuts.grow(_:)(28);

  v304[0] = 0xD000000000000019;
  v304[1] = 0x80000001000C4CE0;
  LOBYTE(v305) = *(v1 + OBJC_IVAR____TtC14HDSViewService17HomePodSetupModel_subscribedToMusicService);
  v289._countAndFlagsBits = String.init<A>(reflecting:)();
  String.append(_:)(v289);

  v290._countAndFlagsBits = 32;
  v290._object = 0xE100000000000000;
  String.append(_:)(v290);
  v291 = v304[0];
  v292 = v304[1];
  v304[0] = v288;
  v304[1] = v287;

  v293._countAndFlagsBits = v291;
  v293._object = v292;
  String.append(_:)(v293);

  v294._countAndFlagsBits = 62;
  v294._object = 0xE100000000000000;
  String.append(_:)(v294);

  return v304[0];
}