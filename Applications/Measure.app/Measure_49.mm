void sub_100329074(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, char a11)
{
  sub_1002A8124(&a9);
  sub_100006D14(&a11);
  sub_1001D8BF4(v11 - 64);
  _Unwind_Resume(a1);
}

void sub_1003290C4(int32x2_t **a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, unsigned int a6, uint64_t *a7, float **a8, unsigned __int8 a9, char a10)
{
  sub_1002ACE7C(v633, &off_10047A070);
  if (sub_100271148(a4) != 0x10000)
  {
    sub_1002703C0(a4, -1, &v625);
    goto LABEL_8;
  }

  v18 = *(a4 + 8);
  v19 = *v18;
  v20 = *(v18 + 16);
  v625 = *v18;
  v626 = v20;
  v627 = *(v18 + 32);
  v21 = *(v18 + 56);
  v628 = *(v18 + 48);
  v629 = v21;
  v630 = &v625 + 8;
  v631 = v632;
  v632[0] = 0;
  v632[1] = 0;
  if (!v21)
  {
    if (SDWORD1(v19) <= 2)
    {
      goto LABEL_4;
    }

LABEL_7:
    DWORD1(v625) = 0;
    sub_100269B58(&v625, v18);
    goto LABEL_8;
  }

  atomic_fetch_add((v21 + 20), 1u);
  if (*(v18 + 4) > 2)
  {
    goto LABEL_7;
  }

LABEL_4:
  v22 = *(v18 + 72);
  v23 = v631;
  *v631 = *v22;
  v23[1] = v22[1];
LABEL_8:
  if (a6 < 1 || !a7)
  {
    v635 = 0uLL;
    v24 = sub_1002A80E0(&v635, 20);
    *(v24 + 16) = 1702521171;
    *v24 = *"dims > 0 && histSize";
    sub_1002A8980(-215, v635.i64, "calcHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 1457);
  }

  if (sub_100271148(a5) != 0x10000)
  {
    sub_1002703C0(a5, -1, &v635);
    goto LABEL_18;
  }

  v25 = *(a5 + 8);
  v26 = *v25;
  v27 = *(v25 + 16);
  v635 = *v25;
  v636 = v27;
  v637 = *(v25 + 32);
  v28 = *(v25 + 56);
  v638 = *(v25 + 48);
  v639 = v28;
  v640 = &v635.i64[1];
  v641 = v642;
  v642[1] = 0;
  v642[0] = 0;
  if (!v28)
  {
    if (v26.i32[1] <= 2)
    {
      goto LABEL_14;
    }

LABEL_17:
    v635.i32[1] = 0;
    sub_100269B58(&v635, v25);
    goto LABEL_18;
  }

  atomic_fetch_add((v28 + 20), 1u);
  if (*(v25 + 4) > 2)
  {
    goto LABEL_17;
  }

LABEL_14:
  v29 = *(v25 + 72);
  v30 = v641;
  *v641 = *v29;
  v30[1] = v29[1];
LABEL_18:
  v31 = v636;
  if (v639 && atomic_fetch_add((v639 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(&v635);
  }

  v639 = 0;
  v636 = 0u;
  v637 = 0u;
  if (v635.i32[1] >= 1)
  {
    v32 = 0;
    v33 = v640;
    do
    {
      *(v33 + v32++) = 0;
    }

    while (v32 < v635.i32[1]);
  }

  if (v641 != v642)
  {
    j__free(v641);
  }

  sub_10026BEEC(a5, a6, a7, 5u, -1, 0, 0);
  if (sub_100271148(a5) == 0x10000)
  {
    v34 = *(a5 + 8);
    v35 = *v34;
    v36 = *(v34 + 16);
    v617 = *v34;
    v618 = v36;
    v619 = *(v34 + 32);
    v37 = *(v34 + 56);
    v620 = *(v34 + 48);
    v621 = v37;
    v622 = &v617 + 2;
    v623 = v624;
    v624[0] = 0;
    v624[1] = 0;
    if (v37)
    {
      atomic_fetch_add((v37 + 20), 1u);
      if (*(v34 + 4) <= 2)
      {
LABEL_29:
        v38 = *(v34 + 72);
        v39 = v623;
        *v623 = *v38;
        v39[1] = v38[1];
        goto LABEL_33;
      }
    }

    else if (SDWORD1(v35) <= 2)
    {
      goto LABEL_29;
    }

    DWORD1(v617) = 0;
    sub_100269B58(&v617, v34);
  }

  else
  {
    sub_1002703C0(a5, -1, &v617);
  }

LABEL_33:
  v609 = v617;
  v610 = v618;
  if (v31 == v618)
  {
    v40 = a10;
  }

  else
  {
    v40 = 0;
  }

  v611 = v619;
  v612 = v620;
  v613 = v621;
  v614 = &v609 + 8;
  v615 = v616;
  v616[0] = 0;
  v616[1] = 0;
  if (v621)
  {
    atomic_fetch_add((v621 + 20), 1u);
    if (SDWORD1(v617) <= 2)
    {
LABEL_38:
      v41 = v623;
      v42 = v615;
      *v615 = *v623;
      v42[1] = v41[1];
      goto LABEL_41;
    }
  }

  else if (SDWORD1(v617) <= 2)
  {
    goto LABEL_38;
  }

  DWORD1(v609) = 0;
  sub_100269B58(&v609, &v617);
LABEL_41:
  LODWORD(v609) = v609 & 0xFFFFF000 | 4;
  if (v40)
  {
    v635.i32[0] = 33619968;
    v635.i64[1] = &v609;
    *&v636 = 0;
    sub_10020EF14(&v617, &v635, 4, 1.0, 0.0);
  }

  else
  {
    v635 = 0u;
    v636 = 0u;
    sub_10022CAFC(&v617, &v635);
  }

  v606 = 0;
  v607 = 0;
  v608 = 0;
  v603 = 0;
  v604 = 0;
  v605 = 0;
  v600 = 0;
  v601 = 0;
  v602 = 0;
  v599 = 0;
  if (v626)
  {
    if (SDWORD1(v625) >= 3)
    {
      v44 = (v630 + 4);
      v45 = 1;
      v46 = DWORD1(v625) & 0x7FFFFFFE;
      v47 = 1;
      do
      {
        v45 *= *(v44 - 1);
        v47 *= *v44;
        v44 += 2;
        v46 -= 2;
      }

      while (v46);
      v43 = v47 * v45;
      v48 = DWORD1(v625) - (DWORD1(v625) & 0x7FFFFFFE);
      if (v48)
      {
        v49 = &v630[8 * ((DWORD1(v625) >> 1) & 0x3FFFFFFF)];
        do
        {
          v50 = *v49;
          v49 += 4;
          v43 *= v50;
          --v48;
        }

        while (v48);
      }
    }

    else
    {
      v43 = SHIDWORD(v625) * SDWORD2(v625);
    }

    if (DWORD1(v625) && v43 && (v625 & 0xFFF) != 0)
    {
      v635 = 0uLL;
      qmemcpy(sub_1002A80E0(&v635, 72), "mask.empty() || mask.type() == (((0) & ((1 << 3) - 1)) + (((1)-1) << 3))", 72);
      sub_1002A8980(-215, v635.i64, "calcHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 1484);
    }
  }

  sub_10032B8E8(a1, a2, a3, &v625, a6, v622, a8, a9, &v606, &v603, &v599, &v600);
  v51 = v600;
  if (a9)
  {
    v52 = v600;
  }

  else
  {
    v52 = 0;
  }

  v53 = *a1 & 7;
  if (v53 == 5)
  {
    v596 = v52;
    v598 = a8;
    v126 = v599;
    v127 = HIDWORD(v599);
    v128 = v606;
    v129 = v603;
    v130 = v610;
    v131 = 8 * a6;
    v132 = *(v606 + v131);
    v133 = *(v603 + v131 + 4);
    __srca = v615;
    memcpy(&__dst, v614, 4 * a6);
    memcpy(&v635, __srca, 8 * a6);
    if (a9)
    {
      switch(a6)
      {
        case 1u:
          if (v127)
          {
            v499 = *v51;
            v500 = v51[1];
            v501 = __dst;
            v502 = *v128;
            v503 = v129[1];
            v504 = 4 * *v129;
            do
            {
              if (v132)
              {
                if (v126 >= 1)
                {
                  for (i = 0; i != v126; ++i)
                  {
                    if (*(v132 + i))
                    {
                      v506 = (v500 + *v502 * v499) - (v500 + *v502 * v499 < (v500 + *v502 * v499));
                      if (v506 < v501)
                      {
                        ++v130[v506];
                      }
                    }

                    v502 = (v502 + v504);
                  }
                }
              }

              else if (v126 >= 1)
              {
                v507 = v126;
                do
                {
                  v508 = (v500 + *v502 * v499) - (v500 + *v502 * v499 < (v500 + *v502 * v499));
                  if (v508 < v501)
                  {
                    ++v130[v508];
                  }

                  v502 = (v502 + v504);
                  --v507;
                }

                while (v507);
              }

              v502 += v503;
              v132 += v133;
              --v127;
            }

            while (v127);
          }

          break;
        case 2u:
          if (v127)
          {
            v405 = *v51;
            v406 = v51[1];
            v407 = v51[2];
            v408 = v51[3];
            v409 = __dst;
            v410 = v660;
            v411 = v635.i64[0];
            v412 = v129[3];
            v413 = v129[1];
            v414 = 4 * *v129;
            v415 = 4 * v129[2];
            v417 = *v128;
            v416 = *(v128 + 1);
            do
            {
              if (v132)
              {
                if (v126 >= 1)
                {
                  for (j = 0; j != v126; ++j)
                  {
                    if (*(v132 + j))
                    {
                      v419 = (v406 + *v417 * v405) - (v406 + *v417 * v405 < (v406 + *v417 * v405));
                      v420 = (v408 + *v416 * v407) - (v408 + *v416 * v407 < (v408 + *v416 * v407));
                      if (v419 < v409 && v420 < v410)
                      {
                        ++*(&v130[v420] + v411 * v419);
                      }
                    }

                    v417 = (v417 + v414);
                    v416 = (v416 + v415);
                  }
                }
              }

              else if (v126 >= 1)
              {
                v422 = v126;
                do
                {
                  v423 = (v406 + *v417 * v405) - (v406 + *v417 * v405 < (v406 + *v417 * v405));
                  v424 = (v408 + *v416 * v407) - (v408 + *v416 * v407 < (v408 + *v416 * v407));
                  if (v423 < v409 && v424 < v410)
                  {
                    ++*(&v130[v424] + v411 * v423);
                  }

                  v417 = (v417 + v414);
                  v416 = (v416 + v415);
                  --v422;
                }

                while (v422);
              }

              v417 += v413;
              v132 += v133;
              v416 += v412;
              --v127;
            }

            while (v127);
          }

          break;
        case 3u:
          if (v127)
          {
            v134 = *v51;
            v135 = v51[1];
            v136 = v51[2];
            v137 = v51[3];
            v138 = v51[4];
            v139 = v51[5];
            v140 = __dst;
            v141 = v660;
            v142 = v661;
            v143 = v635;
            v144 = *(v128 + 1);
            v145 = *(v128 + 2);
            v146 = v129[5];
            v147 = v129[3];
            v148 = v129[1];
            v149 = 4 * *v129;
            v150 = 4 * v129[2];
            v151 = 4 * v129[4];
            v152 = *v128;
            do
            {
              if (v132)
              {
                if (v126 >= 1)
                {
                  v153 = 0;
                  do
                  {
                    if (*(v132 + v153))
                    {
                      v154 = (v135 + *v152 * v134) - (v135 + *v152 * v134 < (v135 + *v152 * v134));
                      v155 = (v137 + *v144 * v136) - (v137 + *v144 * v136 < (v137 + *v144 * v136));
                      v156 = (v139 + *v145 * v138) - (v139 + *v145 * v138 < (v139 + *v145 * v138));
                      v157 = v154 >= v140 || v155 >= v141;
                      if (!v157 && v156 < v142)
                      {
                        v159 = v130 + v143.i64[0] * v154 + v143.i64[1] * v155;
                        ++*(v159 + 4 * v156);
                      }
                    }

                    ++v153;
                    v152 = (v152 + v149);
                    v144 = (v144 + v150);
                    v145 = (v145 + v151);
                  }

                  while (v126 != v153);
                }
              }

              else if (v126 >= 1)
              {
                v160 = v126;
                do
                {
                  v161 = (v135 + *v152 * v134) - (v135 + *v152 * v134 < (v135 + *v152 * v134));
                  v162 = (v137 + *v144 * v136) - (v137 + *v144 * v136 < (v137 + *v144 * v136));
                  v163 = (v139 + *v145 * v138) - (v139 + *v145 * v138 < (v139 + *v145 * v138));
                  if (v161 < v140 && v162 < v141 && v163 < v142)
                  {
                    v166 = v130 + v143.i64[0] * v161 + v143.i64[1] * v162;
                    ++*(v166 + 4 * v163);
                  }

                  v152 = (v152 + v149);
                  v144 = (v144 + v150);
                  v145 = (v145 + v151);
                  --v160;
                }

                while (v160);
              }

              v152 += v148;
              v144 += v147;
              v132 += v133;
              v145 += v146;
              --v127;
            }

            while (v127);
          }

          break;
        default:
          if (v127)
          {
            v509 = a6 & 7;
            if (!v509)
            {
              v509 = 8;
            }

            v510 = a6 - v509;
            v511 = v129 + 8;
            v512 = v128 + 32;
            do
            {
              if (v132)
              {
                if (v126 >= 1)
                {
                  for (k = 0; k != v126; ++k)
                  {
                    LODWORD(v514) = 0;
                    v515 = v130;
                    if (*(v132 + k))
                    {
                      v514 = 0;
                      v516 = (v596 + 8);
                      v517 = v129;
                      v515 = v130;
                      while (1)
                      {
                        v518 = *&v128[8 * v514];
                        v519 = *v516 + *v518 * *(v516 - 1);
                        v520 = v519 - (v519 < v519);
                        if (v520 >= *(&__dst + v514))
                        {
                          break;
                        }

                        v521 = *v517;
                        v517 += 2;
                        *&v128[8 * v514] = &v518[v521];
                        v515 = (v515 + v635.i64[v514++] * v520);
                        v516 += 2;
                        if (a6 == v514)
                        {
                          goto LABEL_465;
                        }
                      }
                    }

                    if (v514 == a6)
                    {
LABEL_465:
                      ++*v515;
                    }

                    else if (v514 < a6)
                    {
                      v522 = v514;
                      v523 = a6 - v514;
                      if (v523 > 8)
                      {
                        v524 = v523 & 7;
                        if ((v523 & 7) == 0)
                        {
                          v524 = 8;
                        }

                        v525 = v523 - v524 + v522;
                        v526 = v522 - a6 + v524;
                        v527 = 8 * v522;
                        v528 = &v511[2 * v522];
                        v529 = &v512[v527];
                        do
                        {
                          v530 = v528 - 8;
                          v531 = vld2q_f32(v530);
                          v532 = vld2q_f32(v528);
                          v533 = vaddq_s64(v529[-2], vshll_n_s32(*&v531, 2uLL));
                          v534 = vaddq_s64(v529[-1], vshll_high_n_s32(v531, 2uLL));
                          v535 = vaddq_s64(*v529, vshll_n_s32(*&v532, 2uLL));
                          v536 = vaddq_s64(v529[1], vshll_high_n_s32(v532, 2uLL));
                          v529[-2] = v533;
                          v529[-1] = v534;
                          *v529 = v535;
                          v529[1] = v536;
                          v529 += 4;
                          v528 += 16;
                          v526 += 8;
                        }

                        while (v526);
                        v522 = v525;
                      }

                      v537 = a6 - v522;
                      v538 = 2 * v522;
                      v539 = &v128[v538 * 4];
                      v540 = &v129[v538];
                      do
                      {
                        v541 = *v540;
                        v540 += 2;
                        *v539 += 4 * v541;
                        v539 += 8;
                        --v537;
                      }

                      while (v537);
                    }
                  }
                }
              }

              else if (v126 >= 1)
              {
                v542 = 0;
                do
                {
                  v543 = 0;
                  v544 = (v596 + 8);
                  v545 = v129;
                  v546 = v130;
                  while (1)
                  {
                    v547 = *&v128[8 * v543];
                    v548 = *v544 + *v547 * *(v544 - 1);
                    v549 = v548 - (v548 < v548);
                    if (v549 >= *(&__dst + v543))
                    {
                      break;
                    }

                    v550 = *v545;
                    v545 += 2;
                    *&v128[8 * v543] = &v547[v550];
                    v546 = (v546 + v635.i64[v543++] * v549);
                    v544 += 2;
                    if (a6 == v543)
                    {
                      goto LABEL_485;
                    }
                  }

                  if (v543 == a6)
                  {
LABEL_485:
                    ++*v546;
                    goto LABEL_486;
                  }

                  if (v543 < a6)
                  {
                    v551 = v543;
                    v552 = a6 - v543;
                    if (v552 > 8)
                    {
                      v553 = v552 & 7;
                      if ((v552 & 7) == 0)
                      {
                        v553 = 8;
                      }

                      v554 = v552 - v553 + v551;
                      v555 = v551 - a6 + v553;
                      v556 = 8 * v551;
                      v557 = &v511[2 * v551];
                      v558 = &v512[v556];
                      do
                      {
                        v559 = v557 - 8;
                        v560 = vld2q_f32(v559);
                        v561 = vld2q_f32(v557);
                        v562 = vaddq_s64(v558[-2], vshll_n_s32(*&v560, 2uLL));
                        v563 = vaddq_s64(v558[-1], vshll_high_n_s32(v560, 2uLL));
                        v564 = vaddq_s64(*v558, vshll_n_s32(*&v561, 2uLL));
                        v565 = vaddq_s64(v558[1], vshll_high_n_s32(v561, 2uLL));
                        v558[-2] = v562;
                        v558[-1] = v563;
                        *v558 = v564;
                        v558[1] = v565;
                        v558 += 4;
                        v557 += 16;
                        v555 += 8;
                      }

                      while (v555);
                      v551 = v554;
                    }

                    v566 = a6 - v551;
                    v567 = 2 * v551;
                    v568 = &v128[v567 * 4];
                    v569 = &v129[v567];
                    do
                    {
                      v570 = *v569;
                      v569 += 2;
                      *v568 += 4 * v570;
                      v568 += 8;
                      --v566;
                    }

                    while (v566);
                  }

LABEL_486:
                  ++v542;
                }

                while (v542 != v126);
              }

              if (a6 >= 9)
              {
                v572 = v510;
                v573 = (v128 + 32);
                v574 = (v129 + 9);
                do
                {
                  v575 = v574 - 8;
                  v576 = vld2q_f32(v575);
                  v577 = vld2q_f32(v574);
                  v578 = vaddq_s64(v573[-2], vshll_n_s32(*&v576, 2uLL));
                  v579 = vaddq_s64(v573[-1], vshll_high_n_s32(v576, 2uLL));
                  v580 = vaddq_s64(*v573, vshll_n_s32(*&v577, 2uLL));
                  v581 = vaddq_s64(v573[1], vshll_high_n_s32(v577, 2uLL));
                  v573[-2] = v578;
                  v573[-1] = v579;
                  *v573 = v580;
                  v573[1] = v581;
                  v573 += 4;
                  v574 += 16;
                  v572 -= 8;
                }

                while (v572);
                v571 = v510;
              }

              else
              {
                v571 = 0;
              }

              v582 = a6 - v571;
              v583 = 2 * v571;
              v584 = &v128[8 * v571];
              v585 = &v129[v583 + 1];
              do
              {
                v586 = *v585;
                v585 += 2;
                *v584 += 4 * v586;
                v584 += 8;
                --v582;
              }

              while (v582);
              v132 += v133;
              --v127;
            }

            while (v127);
          }

          break;
      }

      goto LABEL_510;
    }

    if (!v598)
    {
      __p[1] = 0;
      __p[0] = 0;
      qmemcpy(sub_1002A80E0(__p, 55), "Either ranges, either uniform ranges should be provided", 55);
      sub_1002A8980(-5, __p, "calcHist_", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 989);
    }

    v658 = 0u;
    v657 = 0u;
    v656 = 0u;
    v655 = 0u;
    v654 = 0u;
    v653 = 0u;
    v652 = 0u;
    v651 = 0u;
    v650 = 0u;
    v649 = 0u;
    v648 = 0u;
    v647 = 0u;
    v646 = 0u;
    v645 = 0u;
    v644 = 0u;
    *__p = 0u;
    memcpy(__p, v598, 8 * a6);
    if (!v127)
    {
      goto LABEL_510;
    }

    if (a6 <= 1)
    {
      v214 = 1;
    }

    else
    {
      v214 = a6;
    }

    v215 = a6 & 7;
    if (!v215)
    {
      v215 = 8;
    }

    v216 = a6 - v215;
    while (v126 < 1)
    {
LABEL_224:
      v246 = v216;
      v247 = (v128 + 32);
      v248 = (v129 + 9);
      if (a6 >= 9)
      {
        do
        {
          v250 = v248 - 8;
          v251 = vld2q_f32(v250);
          v252 = vld2q_f32(v248);
          v253 = vaddq_s64(v247[-2], vshll_n_s32(*&v251, 2uLL));
          v254 = vaddq_s64(v247[-1], vshll_high_n_s32(v251, 2uLL));
          v255 = vaddq_s64(*v247, vshll_n_s32(*&v252, 2uLL));
          v256 = vaddq_s64(v247[1], vshll_high_n_s32(v252, 2uLL));
          v247[-2] = v253;
          v247[-1] = v254;
          *v247 = v255;
          v247[1] = v256;
          v247 += 4;
          v248 += 16;
          v246 -= 8;
        }

        while (v246);
        v249 = v216;
      }

      else
      {
        v249 = 0;
      }

      v257 = a6 - v249;
      v258 = 2 * v249;
      v259 = &v128[8 * v249];
      v260 = &v129[v258 + 1];
      do
      {
        v261 = *v260;
        v260 += 2;
        *v259 += 4 * v261;
        v259 += 8;
        --v257;
      }

      while (v257);
      v132 += v133;
      if (!--v127)
      {
        goto LABEL_510;
      }
    }

    v217 = 0;
    while (1)
    {
      if (v132 && (LODWORD(v218) = 0, v219 = v130, !*(v132 + v217)))
      {
LABEL_212:
        v225 = v218 < a6;
        if (v218 != a6)
        {
          goto LABEL_213;
        }
      }

      else
      {
        v218 = 0;
        v219 = v130;
        do
        {
          v220 = *&v128[8 * v218];
          v221 = __p[v218];
          v222 = *(&__dst + v218);
          v223 = v222 & ~(v222 >> 31);
          v224 = -1;
          while (*v220 >= *v221)
          {
            ++v224;
            ++v221;
            if (v223 == v224)
            {
              if (v223 >= v222)
              {
                goto LABEL_212;
              }

              goto LABEL_209;
            }
          }

          LODWORD(v223) = v224;
          if (v224 >= v222)
          {
            goto LABEL_212;
          }

LABEL_209:
          *&v128[8 * v218] = &v220[v129[2 * v218]];
          v219 = (v219 + v635.i64[v218++] * v223);
        }

        while (v218 != v214);
        LODWORD(v218) = v214;
        v225 = v214 < a6;
        if (v214 != a6)
        {
LABEL_213:
          if (v225)
          {
            v226 = v218;
            v227 = a6 - v218;
            if (v227 > 8)
            {
              v228 = v227 & 7;
              if ((v227 & 7) == 0)
              {
                v228 = 8;
              }

              v229 = v227 - v228 + v226;
              v230 = v226 - a6 + v228;
              v231 = 8 * v226;
              v232 = &v129[2 * v226 + 8];
              v233 = &v128[v231 + 32];
              do
              {
                v234 = v232 - 8;
                v235 = vld2q_f32(v234);
                v236 = vld2q_f32(v232);
                v237 = vaddq_s64(v233[-2], vshll_n_s32(*&v235, 2uLL));
                v238 = vaddq_s64(v233[-1], vshll_high_n_s32(v235, 2uLL));
                v239 = vaddq_s64(*v233, vshll_n_s32(*&v236, 2uLL));
                v240 = vaddq_s64(v233[1], vshll_high_n_s32(v236, 2uLL));
                v233[-2] = v237;
                v233[-1] = v238;
                *v233 = v239;
                v233[1] = v240;
                v233 += 4;
                v232 += 16;
                v230 += 8;
              }

              while (v230);
              v226 = v229;
            }

            v241 = a6 - v226;
            v242 = 2 * v226;
            v243 = &v128[v242 * 4];
            v244 = &v129[v242];
            do
            {
              v245 = *v244;
              v244 += 2;
              *v243 += 4 * v245;
              v243 += 8;
              --v241;
            }

            while (v241);
          }

          goto LABEL_199;
        }
      }

      ++*v219;
LABEL_199:
      if (++v217 == v126)
      {
        goto LABEL_224;
      }
    }
  }

  if (v53 == 2)
  {
    v595 = v52;
    v597 = a8;
    v77 = v599;
    v78 = HIDWORD(v599);
    v79 = v606;
    v80 = v603;
    v81 = v610;
    v82 = 8 * a6;
    v83 = *(v606 + v82);
    v84 = *(v603 + v82 + 4);
    __src = v615;
    memcpy(&__dst, v614, 4 * a6);
    memcpy(&v635, __src, 8 * a6);
    if (a9)
    {
      switch(a6)
      {
        case 1u:
          if (v78)
          {
            v395 = *v51;
            v396 = v51[1];
            v397 = __dst;
            v398 = v79->i64[0];
            v399 = v80[1];
            v400 = 2 * *v80;
            do
            {
              if (v83)
              {
                if (v77 >= 1)
                {
                  for (m = 0; m != v77; ++m)
                  {
                    if (*(v83 + m))
                    {
                      LOWORD(v86) = *v398;
                      v86 = v396 + *&v86 * v395;
                      v402 = v86 - (v86 < v86);
                      if (v402 < v397)
                      {
                        ++v81[v402];
                      }
                    }

                    v398 = (v398 + v400);
                  }
                }
              }

              else if (v77 >= 1)
              {
                v403 = v77;
                do
                {
                  LOWORD(v86) = *v398;
                  v86 = v396 + *&v86 * v395;
                  v404 = v86 - (v86 < v86);
                  if (v404 < v397)
                  {
                    ++v81[v404];
                  }

                  v398 = (v398 + v400);
                  --v403;
                }

                while (v403);
              }

              v398 += v399;
              v83 += v84;
              --v78;
            }

            while (v78);
          }

          break;
        case 2u:
          if (v78)
          {
            v368 = *v51;
            v369 = v51[1];
            v370 = v51[2];
            v371 = v51[3];
            v372 = __dst;
            v373 = v660;
            v374 = v635.i64[0];
            v375 = v80[3];
            v376 = v80[1];
            v377 = 2 * *v80;
            v378 = 2 * v80[2];
            v380 = v79->i64[0];
            v379 = v79->i64[1];
            do
            {
              if (v83)
              {
                if (v77 >= 1)
                {
                  for (n = 0; n != v77; ++n)
                  {
                    if (*(v83 + n))
                    {
                      LOWORD(v87) = *v380;
                      v382 = v369 + *&v87 * v368;
                      v383 = v382;
                      v384 = v382 < v382;
                      LOWORD(v382) = *v379;
                      v87 = v371 + *&v382 * v370;
                      v385 = v383 - v384;
                      v386 = v87 - (v87 < v87);
                      if (v385 < v372 && v386 < v373)
                      {
                        ++*(&v81[v386] + v374 * v385);
                      }
                    }

                    v380 = (v380 + v377);
                    v379 = (v379 + v378);
                  }
                }
              }

              else if (v77 >= 1)
              {
                v388 = v77;
                do
                {
                  LOWORD(v87) = *v380;
                  v389 = v369 + *&v87 * v368;
                  v390 = v389;
                  v391 = v389 < v389;
                  LOWORD(v389) = *v379;
                  v87 = v371 + *&v389 * v370;
                  v392 = v390 - v391;
                  v393 = v87 - (v87 < v87);
                  if (v392 < v372 && v393 < v373)
                  {
                    ++*(&v81[v393] + v374 * v392);
                  }

                  v380 = (v380 + v377);
                  v379 = (v379 + v378);
                  --v388;
                }

                while (v388);
              }

              v380 += v376;
              v83 += v84;
              v379 += v375;
              --v78;
            }

            while (v78);
          }

          break;
        case 3u:
          if (v78)
          {
            v89 = *v51;
            v90 = v51[1];
            v91 = v51[2];
            v92 = v51[3];
            v93 = v51[4];
            v94 = v51[5];
            v95 = __dst;
            v96 = v660;
            v97 = v661;
            v98 = v635;
            v99 = v79->i64[1];
            v100 = v79[1].i64[0];
            v101 = v80[5];
            v102 = v80[3];
            v103 = v80[1];
            v104 = 2 * *v80;
            v105 = 2 * v80[2];
            v106 = 2 * v80[4];
            v107 = v79->i64[0];
            do
            {
              if (v83)
              {
                if (v77 >= 1)
                {
                  v108 = 0;
                  do
                  {
                    if (*(v83 + v108))
                    {
                      LOWORD(v88) = *v107;
                      v109 = v90 + *&v88 * v89;
                      v110 = v109 - (v109 < v109);
                      LOWORD(v109) = *v99;
                      v111 = v92 + *&v109 * v91;
                      v112 = v111 - (v111 < v111);
                      LOWORD(v111) = *v100;
                      v88 = v94 + *&v111 * v93;
                      v113 = v88 - (v88 < v88);
                      v114 = v110 >= v95 || v112 >= v96;
                      if (!v114 && v113 < v97)
                      {
                        v116 = v81 + v98.i64[0] * v110 + v98.i64[1] * v112;
                        ++*(v116 + 4 * v113);
                      }
                    }

                    ++v108;
                    v107 = (v107 + v104);
                    v99 = (v99 + v105);
                    v100 = (v100 + v106);
                  }

                  while (v77 != v108);
                }
              }

              else if (v77 >= 1)
              {
                v117 = v77;
                do
                {
                  LOWORD(v88) = *v107;
                  v118 = v90 + *&v88 * v89;
                  v119 = v118 - (v118 < v118);
                  LOWORD(v118) = *v99;
                  v120 = v92 + *&v118 * v91;
                  v121 = v120 - (v120 < v120);
                  LOWORD(v120) = *v100;
                  v88 = v94 + *&v120 * v93;
                  v122 = v88 - (v88 < v88);
                  if (v119 < v95 && v121 < v96 && v122 < v97)
                  {
                    v125 = v81 + v98.i64[0] * v119 + v98.i64[1] * v121;
                    ++*(v125 + 4 * v122);
                  }

                  v107 = (v107 + v104);
                  v99 = (v99 + v105);
                  v100 = (v100 + v106);
                  --v117;
                }

                while (v117);
              }

              v107 += v103;
              v99 += v102;
              v83 += v84;
              v100 += v101;
              --v78;
            }

            while (v78);
          }

          break;
        default:
          if (v78)
          {
            v426 = a6 & 7;
            if (!v426)
            {
              v426 = 8;
            }

            v427 = a6 - v426;
            v428 = v80 + 8;
            v429 = v79 + 2;
            do
            {
              if (v83)
              {
                if (v77 >= 1)
                {
                  for (ii = 0; ii != v77; ++ii)
                  {
                    LODWORD(v431) = 0;
                    v432 = v81;
                    if (*(v83 + ii))
                    {
                      v431 = 0;
                      v433 = (v595 + 8);
                      v434 = v80;
                      v432 = v81;
                      while (1)
                      {
                        v435 = v79->i64[v431];
                        v85.i16[0] = *v435;
                        *v85.i64 = *v433 + v85.u64[0] * *(v433 - 1);
                        v436 = *v85.i64 - (*v85.i64 < *v85.i64);
                        if (v436 >= *(&__dst + v431))
                        {
                          break;
                        }

                        v437 = *v434;
                        v434 += 2;
                        v79->i64[v431] = &v435[v437];
                        v432 = (v432 + v635.i64[v431++] * v436);
                        v433 += 2;
                        if (a6 == v431)
                        {
                          goto LABEL_397;
                        }
                      }
                    }

                    if (v431 == a6)
                    {
LABEL_397:
                      ++*v432;
                    }

                    else if (v431 < a6)
                    {
                      v438 = v431;
                      v439 = a6 - v431;
                      if (v439 > 8)
                      {
                        v440 = v439 & 7;
                        if ((v439 & 7) == 0)
                        {
                          v440 = 8;
                        }

                        v441 = v439 - v440 + v438;
                        v442 = v438 - a6 + v440;
                        v443 = 8 * v438;
                        v444 = &v428[2 * v438];
                        v445 = (v429 + v443);
                        do
                        {
                          v446 = v444 - 8;
                          v447 = vld2q_f32(v446);
                          v448 = vld2q_f32(v444);
                          v449 = vaddq_s64(v445[-2], vshll_n_s32(*&v447, 1uLL));
                          v85 = vaddq_s64(v445[-1], vshll_high_n_s32(v447, 1uLL));
                          v450 = vaddq_s64(*v445, vshll_n_s32(*&v448, 1uLL));
                          v451 = vaddq_s64(v445[1], vshll_high_n_s32(v448, 1uLL));
                          v445[-2] = v449;
                          v445[-1] = v85;
                          *v445 = v450;
                          v445[1] = v451;
                          v445 += 4;
                          v444 += 16;
                          v442 += 8;
                        }

                        while (v442);
                        v438 = v441;
                      }

                      v452 = a6 - v438;
                      v453 = 2 * v438;
                      v454 = &v79->i64[v453 / 2];
                      v455 = &v80[v453];
                      do
                      {
                        v456 = *v455;
                        v455 += 2;
                        *v454++ += 2 * v456;
                        --v452;
                      }

                      while (v452);
                    }
                  }
                }
              }

              else if (v77 >= 1)
              {
                v457 = 0;
                do
                {
                  v458 = 0;
                  v459 = (v595 + 8);
                  v460 = v80;
                  v461 = v81;
                  while (1)
                  {
                    v462 = v79->i64[v458];
                    v85.i16[0] = *v462;
                    *v85.i64 = *v459 + v85.u64[0] * *(v459 - 1);
                    v463 = *v85.i64 - (*v85.i64 < *v85.i64);
                    if (v463 >= *(&__dst + v458))
                    {
                      break;
                    }

                    v464 = *v460;
                    v460 += 2;
                    v79->i64[v458] = &v462[v464];
                    v461 = (v461 + v635.i64[v458++] * v463);
                    v459 += 2;
                    if (a6 == v458)
                    {
                      goto LABEL_417;
                    }
                  }

                  if (v458 == a6)
                  {
LABEL_417:
                    ++*v461;
                    goto LABEL_418;
                  }

                  if (v458 < a6)
                  {
                    v465 = v458;
                    v466 = a6 - v458;
                    if (v466 > 8)
                    {
                      v467 = v466 & 7;
                      if ((v466 & 7) == 0)
                      {
                        v467 = 8;
                      }

                      v468 = v466 - v467 + v465;
                      v469 = v465 - a6 + v467;
                      v470 = 8 * v465;
                      v471 = &v428[2 * v465];
                      v472 = (v429 + v470);
                      do
                      {
                        v473 = v471 - 8;
                        v474 = vld2q_f32(v473);
                        v475 = vld2q_f32(v471);
                        v476 = vaddq_s64(v472[-2], vshll_n_s32(*&v474, 1uLL));
                        v85 = vaddq_s64(v472[-1], vshll_high_n_s32(v474, 1uLL));
                        v477 = vaddq_s64(*v472, vshll_n_s32(*&v475, 1uLL));
                        v478 = vaddq_s64(v472[1], vshll_high_n_s32(v475, 1uLL));
                        v472[-2] = v476;
                        v472[-1] = v85;
                        *v472 = v477;
                        v472[1] = v478;
                        v472 += 4;
                        v471 += 16;
                        v469 += 8;
                      }

                      while (v469);
                      v465 = v468;
                    }

                    v479 = a6 - v465;
                    v480 = 2 * v465;
                    v481 = &v79->i64[v480 / 2];
                    v482 = &v80[v480];
                    do
                    {
                      v483 = *v482;
                      v482 += 2;
                      *v481++ += 2 * v483;
                      --v479;
                    }

                    while (v479);
                  }

LABEL_418:
                  ++v457;
                }

                while (v457 != v77);
              }

              if (a6 >= 9)
              {
                v485 = v427;
                v486 = v79 + 2;
                v487 = (v80 + 9);
                do
                {
                  v488 = v487 - 8;
                  v489 = vld2q_f32(v488);
                  v490 = vld2q_f32(v487);
                  v491 = vaddq_s64(v486[-2], vshll_n_s32(*&v489, 1uLL));
                  v85 = vaddq_s64(v486[-1], vshll_high_n_s32(v489, 1uLL));
                  v492 = vaddq_s64(*v486, vshll_n_s32(*&v490, 1uLL));
                  v493 = vaddq_s64(v486[1], vshll_high_n_s32(v490, 1uLL));
                  v486[-2] = v491;
                  v486[-1] = v85;
                  *v486 = v492;
                  v486[1] = v493;
                  v486 += 4;
                  v487 += 16;
                  v485 -= 8;
                }

                while (v485);
                v484 = v427;
              }

              else
              {
                v484 = 0;
              }

              v494 = a6 - v484;
              v495 = 2 * v484;
              v496 = &v79->i64[v484];
              v497 = &v80[v495 + 1];
              do
              {
                v498 = *v497;
                v497 += 2;
                *v496++ += 2 * v498;
                --v494;
              }

              while (v494);
              v83 += v84;
              --v78;
            }

            while (v78);
          }

          break;
      }

      goto LABEL_510;
    }

    if (!v597)
    {
      __p[1] = 0;
      __p[0] = 0;
      qmemcpy(sub_1002A80E0(__p, 55), "Either ranges, either uniform ranges should be provided", 55);
      sub_1002A8980(-5, __p, "calcHist_", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 989);
    }

    v658 = 0u;
    v657 = 0u;
    v656 = 0u;
    v655 = 0u;
    v654 = 0u;
    v653 = 0u;
    v652 = 0u;
    v651 = 0u;
    v650 = 0u;
    v649 = 0u;
    v648 = 0u;
    v647 = 0u;
    v646 = 0u;
    v645 = 0u;
    v644 = 0u;
    *__p = 0u;
    memcpy(__p, v597, 8 * a6);
    if (!v78)
    {
      goto LABEL_510;
    }

    if (a6 <= 1)
    {
      v168 = 1;
    }

    else
    {
      v168 = a6;
    }

    v169 = a6 & 7;
    if (!v169)
    {
      v169 = 8;
    }

    v170 = a6 - v169;
    while (v77 < 1)
    {
LABEL_180:
      v199 = v170;
      v200 = v79 + 2;
      v201 = (v80 + 9);
      if (a6 >= 9)
      {
        do
        {
          v203 = v201 - 8;
          v204 = vld2q_f32(v203);
          v205 = vld2q_f32(v201);
          v206 = vaddq_s64(v200[-2], vshll_n_s32(*&v204, 1uLL));
          v167 = vaddq_s64(v200[-1], vshll_high_n_s32(v204, 1uLL));
          v207 = vaddq_s64(*v200, vshll_n_s32(*&v205, 1uLL));
          v208 = vaddq_s64(v200[1], vshll_high_n_s32(v205, 1uLL));
          v200[-2] = v206;
          v200[-1] = v167;
          *v200 = v207;
          v200[1] = v208;
          v200 += 4;
          v201 += 16;
          v199 -= 8;
        }

        while (v199);
        v202 = v170;
      }

      else
      {
        v202 = 0;
      }

      v209 = a6 - v202;
      v210 = 2 * v202;
      v211 = &v79->i64[v202];
      v212 = &v80[v210 + 1];
      do
      {
        v213 = *v212;
        v212 += 2;
        *v211++ += 2 * v213;
        --v209;
      }

      while (v209);
      v83 += v84;
      if (!--v78)
      {
        goto LABEL_510;
      }
    }

    v171 = 0;
    while (1)
    {
      if (v83 && (LODWORD(v172) = 0, v173 = v81, !*(v83 + v171)))
      {
LABEL_168:
        v179 = v172 < a6;
        if (v172 != a6)
        {
          goto LABEL_169;
        }
      }

      else
      {
        v172 = 0;
        v173 = v81;
        do
        {
          v174 = v79->i64[v172];
          v167.i16[0] = *v174;
          *v167.i32 = v167.u32[0];
          v175 = __p[v172];
          v176 = *(&__dst + v172);
          v177 = v176 & ~(v176 >> 31);
          v178 = -1;
          while (*v175 <= *v167.i32)
          {
            ++v178;
            ++v175;
            if (v177 == v178)
            {
              if (v177 >= v176)
              {
                goto LABEL_168;
              }

              goto LABEL_165;
            }
          }

          LODWORD(v177) = v178;
          if (v178 >= v176)
          {
            goto LABEL_168;
          }

LABEL_165:
          v79->i64[v172] = &v174[v80[2 * v172]];
          v173 = (v173 + v635.i64[v172++] * v177);
        }

        while (v172 != v168);
        LODWORD(v172) = v168;
        v179 = v168 < a6;
        if (v168 != a6)
        {
LABEL_169:
          if (v179)
          {
            v180 = v172;
            v181 = a6 - v172;
            if (v181 > 8)
            {
              v182 = v181 & 7;
              if ((v181 & 7) == 0)
              {
                v182 = 8;
              }

              v183 = v181 - v182 + v180;
              v184 = v180 - a6 + v182;
              v185 = 8 * v180;
              v186 = &v80[2 * v180 + 8];
              v187 = (v79 + v185 + 32);
              do
              {
                v188 = v186 - 8;
                v189 = vld2q_f32(v188);
                v190 = vld2q_f32(v186);
                v191 = vaddq_s64(v187[-2], vshll_n_s32(*&v189, 1uLL));
                v167 = vaddq_s64(v187[-1], vshll_high_n_s32(v189, 1uLL));
                v192 = vaddq_s64(*v187, vshll_n_s32(*&v190, 1uLL));
                v193 = vaddq_s64(v187[1], vshll_high_n_s32(v190, 1uLL));
                v187[-2] = v191;
                v187[-1] = v167;
                *v187 = v192;
                v187[1] = v193;
                v187 += 4;
                v186 += 16;
                v184 += 8;
              }

              while (v184);
              v180 = v183;
            }

            v194 = a6 - v180;
            v195 = 2 * v180;
            v196 = &v79->i64[v195 / 2];
            v197 = &v80[v195];
            do
            {
              v198 = *v197;
              v197 += 2;
              *v196++ += 2 * v198;
              --v194;
            }

            while (v194);
          }

          goto LABEL_155;
        }
      }

      ++*v173;
LABEL_155:
      if (++v171 == v77)
      {
        goto LABEL_180;
      }
    }
  }

  if (v53)
  {
    v635 = 0uLL;
    sub_1002A8980(-210, v635.i64, "calcHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 1498);
  }

  v54 = v599;
  v55 = HIDWORD(v599);
  v56 = v606;
  v57 = v603;
  v58 = v610;
  v59 = 8 * a6;
  v60 = *(v606 + v59);
  v61 = a8;
  v62 = *(v603 + v59 + 4);
  __p[1] = 0;
  __p[0] = 0;
  *&v644 = 0;
  v635.i32[0] = 1123876864;
  v635.i64[1] = 0;
  sub_10032D644(&v609, &v635, a6, v61, v52, a9, 0, __p);
  v63 = __p[0];
  switch(a6)
  {
    case 1u:
      v272 = __p[0];
      v273 = *v57;
      v274 = v57[1];
      bzero(&v635, 0x400uLL);
      if (!v55)
      {
LABEL_272:
        v290 = 0;
        v63 = v272;
        do
        {
          v291 = *(v272 + v290);
          if (!(v291 >> 62))
          {
            *(v58 + v291) += v635.i32[v290];
          }

          ++v290;
        }

        while (v290 != 256);
LABEL_329:
        __p[1] = v63;
        operator delete(v63);
        goto LABEL_510;
      }

      v275 = v56->i64[0];
      v276 = 2 * v273;
      v277 = (v54 - 4);
      v278 = (v277 & 0xFFFFFFFC) + 4;
      while (1)
      {
        if (v60)
        {
          if (v54 >= 1)
          {
            for (jj = 0; jj != v54; ++jj)
            {
              if (*(v60 + jj))
              {
                ++v635.i32[*v275];
              }

              v275 += v273;
            }
          }

          goto LABEL_248;
        }

        if (v273 == 1)
        {
          if (v54 >= 4)
          {
            for (kk = 0; kk <= v277; kk += 4)
            {
              v282 = v275[kk + 1];
              ++v635.i32[v275[kk]];
              ++v635.i32[v282];
              v283 = v275[kk + 3];
              ++v635.i32[v275[kk + 2]];
              ++v635.i32[v283];
            }

            v275 += kk;
            v284 = __OFSUB__(v54, kk);
            v280 = v54 - kk;
            if ((v280 < 0) ^ v284 | (v280 == 0))
            {
              goto LABEL_248;
            }

            goto LABEL_270;
          }

          v280 = v54;
          if (v54 > 0)
          {
            goto LABEL_270;
          }
        }

        else
        {
          if (v54 >= 4)
          {
            v285 = 0;
            do
            {
              v286 = v275[v273];
              ++v635.i32[*v275];
              ++v635.i32[v286];
              v287 = &v275[v276];
              v288 = v275[v276];
              v289 = v275[v273 + v276];
              ++v635.i32[v288];
              ++v635.i32[v289];
              v275 = &v287[v276];
              v285 += 4;
            }

            while (v285 <= v277);
            v280 = v54 - v278;
            if (v54 <= v278)
            {
              goto LABEL_248;
            }

            do
            {
LABEL_270:
              ++v635.i32[*v275];
              v275 += v273;
              --v280;
            }

            while (v280);
            goto LABEL_248;
          }

          v280 = v54;
          if (v54 > 0)
          {
            goto LABEL_270;
          }
        }

LABEL_248:
        v275 += v274;
        v60 += v62;
        if (!--v55)
        {
          goto LABEL_272;
        }
      }

    case 2u:
      if (v55)
      {
        v263 = v56->i64[0];
        v262 = v56->i64[1];
        v265 = v57[2];
        v264 = v57[3];
        v267 = *v57;
        v266 = v57[1];
        do
        {
          if (v60)
          {
            if (v54 >= 1)
            {
              for (mm = 0; mm != v54; ++mm)
              {
                if (*(v60 + mm))
                {
                  v269 = *(v63 + *v262 + 256) + *(v63 + *v263);
                  if (!(v269 >> 62))
                  {
                    ++*(v58 + v269);
                  }
                }

                v263 += v267;
                v262 += v265;
              }
            }
          }

          else if (v54 >= 1)
          {
            v270 = v54;
            do
            {
              v271 = *(v63 + *v262 + 256) + *(v63 + *v263);
              if (!(v271 >> 62))
              {
                ++*(v58 + v271);
              }

              v263 += v267;
              v262 += v265;
              --v270;
            }

            while (v270);
          }

          v263 += v266;
          v262 += v264;
          v60 += v62;
          --v55;
        }

        while (v55);
      }

      break;
    case 3u:
      if (v55)
      {
        v65 = v56->i64[1];
        v64 = v56[1].i64[0];
        v66 = v56->i64[0];
        v68 = v57[4];
        v67 = v57[5];
        v70 = v57[2];
        v69 = v57[3];
        v72 = *v57;
        v71 = v57[1];
        do
        {
          if (v60)
          {
            if (v54 >= 1)
            {
              v73 = 0;
              do
              {
                if (*(v60 + v73))
                {
                  v74 = *(v63 + *v65 + 256) + *(v63 + *v66) + *(v63 + *v64 + 512);
                  if (!(v74 >> 62))
                  {
                    ++*(v58 + v74);
                  }
                }

                ++v73;
                v66 += v72;
                v65 += v70;
                v64 += v68;
              }

              while (v54 != v73);
            }
          }

          else if (v54 >= 1)
          {
            v75 = v54;
            do
            {
              v76 = *(v63 + *v65 + 256) + *(v63 + *v66) + *(v63 + *v64 + 512);
              if (!(v76 >> 62))
              {
                ++*(v58 + v76);
              }

              v66 += v72;
              v65 += v70;
              v64 += v68;
              --v75;
            }

            while (v75);
          }

          v66 += v71;
          v65 += v69;
          v64 += v67;
          v60 += v62;
          --v55;
        }

        while (v55);
      }

      break;
    default:
      if (v55)
      {
        v292 = a6 & 7;
        if (!v292)
        {
          v292 = 8;
        }

        v293 = a6 - v292;
        v294 = v57 + 8;
        v295 = v56 + 2;
        do
        {
          if (v60)
          {
            if (v54 >= 1)
            {
              for (nn = 0; nn != v54; ++nn)
              {
                LODWORD(v297) = 0;
                v298 = v58;
                if (*(v60 + nn))
                {
                  v299 = 0;
                  v297 = 0;
                  v300 = v57;
                  v298 = v58;
                  while (1)
                  {
                    v301 = v56->i64[v297];
                    v302 = *(v63 + (v299 & 0xFFFFFF00 | *v301));
                    if (v302 >> 62)
                    {
                      break;
                    }

                    v298 = (v298 + v302);
                    v303 = *v300;
                    v300 += 2;
                    v56->i64[v297++] = &v301[v303];
                    v299 += 256;
                    if (a6 == v297)
                    {
                      goto LABEL_284;
                    }
                  }
                }

                if (v297 == a6)
                {
LABEL_284:
                  ++*v298;
                }

                else if (v297 < a6)
                {
                  v304 = v297;
                  v305 = a6 - v297;
                  if (v305 > 8)
                  {
                    v306 = v305 & 7;
                    if ((v305 & 7) == 0)
                    {
                      v306 = 8;
                    }

                    v307 = v305 - v306 + v304;
                    v308 = v304 - a6 + v306;
                    v309 = 8 * v304;
                    v310 = &v294[2 * v304];
                    v311 = (v295 + v309);
                    do
                    {
                      v312 = v310 - 8;
                      v313 = vld2q_f32(v312);
                      v314 = vld2q_f32(v310);
                      v315 = vaddw_s32(v311[-2], *&v313);
                      v316 = vaddw_high_s32(v311[-1], v313);
                      v317 = vaddw_s32(*v311, *&v314);
                      v318 = vaddw_high_s32(v311[1], v314);
                      v311[-2] = v315;
                      v311[-1] = v316;
                      *v311 = v317;
                      v311[1] = v318;
                      v311 += 4;
                      v310 += 16;
                      v308 += 8;
                    }

                    while (v308);
                    v304 = v307;
                  }

                  v319 = a6 - v304;
                  v320 = 2 * v304;
                  v321 = &v56->i64[v320 / 2];
                  v322 = &v57[v320];
                  do
                  {
                    v323 = *v322;
                    v322 += 2;
                    *v321++ += v323;
                    --v319;
                  }

                  while (v319);
                }
              }
            }
          }

          else if (v54 >= 1)
          {
            v324 = 0;
            do
            {
              v325 = 0;
              v326 = 0;
              v327 = v57;
              v328 = v58;
              while (1)
              {
                v329 = v56->i64[v326];
                v330 = *(v63 + (v325 & 0xFFFFFF00 | *v329));
                if (v330 >> 62)
                {
                  break;
                }

                v328 = (v328 + v330);
                v331 = *v327;
                v327 += 2;
                v56->i64[v326++] = &v329[v331];
                v325 += 256;
                if (a6 == v326)
                {
                  goto LABEL_304;
                }
              }

              if (v326 == a6)
              {
LABEL_304:
                ++*v328;
                goto LABEL_305;
              }

              if (v326 < a6)
              {
                v332 = v326;
                v333 = a6 - v326;
                if (v333 > 8)
                {
                  v334 = v333 & 7;
                  if ((v333 & 7) == 0)
                  {
                    v334 = 8;
                  }

                  v335 = v333 - v334 + v332;
                  v336 = v332 - a6 + v334;
                  v337 = 8 * v332;
                  v338 = &v294[2 * v332];
                  v339 = (v295 + v337);
                  do
                  {
                    v340 = v338 - 8;
                    v341 = vld2q_f32(v340);
                    v342 = vld2q_f32(v338);
                    v343 = vaddw_s32(v339[-2], *&v341);
                    v344 = vaddw_high_s32(v339[-1], v341);
                    v345 = vaddw_s32(*v339, *&v342);
                    v346 = vaddw_high_s32(v339[1], v342);
                    v339[-2] = v343;
                    v339[-1] = v344;
                    *v339 = v345;
                    v339[1] = v346;
                    v339 += 4;
                    v338 += 16;
                    v336 += 8;
                  }

                  while (v336);
                  v332 = v335;
                }

                v347 = a6 - v332;
                v348 = 2 * v332;
                v349 = &v56->i64[v348 / 2];
                v350 = &v57[v348];
                do
                {
                  v351 = *v350;
                  v350 += 2;
                  *v349++ += v351;
                  --v347;
                }

                while (v347);
              }

LABEL_305:
              ++v324;
            }

            while (v324 != v54);
          }

          v352 = v293;
          v353 = v56 + 2;
          v354 = (v57 + 9);
          if (a6 >= 9)
          {
            do
            {
              v356 = v354 - 8;
              v357 = vld2q_f32(v356);
              v358 = vld2q_f32(v354);
              v359 = vaddw_s32(v353[-2], *&v357);
              v360 = vaddw_high_s32(v353[-1], v357);
              v361 = vaddw_s32(*v353, *&v358);
              v362 = vaddw_high_s32(v353[1], v358);
              v353[-2] = v359;
              v353[-1] = v360;
              *v353 = v361;
              v353[1] = v362;
              v353 += 4;
              v354 += 16;
              v352 -= 8;
            }

            while (v352);
            v355 = v293;
          }

          else
          {
            v355 = 0;
          }

          v363 = a6 - v355;
          v364 = 2 * v355;
          v365 = &v56->i64[v355];
          v366 = &v57[v364 + 1];
          do
          {
            v367 = *v366;
            v366 += 2;
            *v365++ += v367;
            --v363;
          }

          while (v363);
          v60 += v62;
          --v55;
        }

        while (v55);
      }

      break;
  }

  if (v63)
  {
    goto LABEL_329;
  }

LABEL_510:
  v635.i32[0] = 33619968;
  v635.i64[1] = &v617;
  *&v636 = 0;
  sub_10020EF14(&v609, &v635, 5, 1.0, 0.0);
  if (v600)
  {
    v601 = v600;
    operator delete(v600);
  }

  if (v603)
  {
    v604 = v603;
    operator delete(v603);
  }

  if (v606)
  {
    v607 = v606;
    operator delete(v606);
  }

  if (v613 && atomic_fetch_add((v613 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(&v609);
  }

  v613 = 0;
  v610 = 0u;
  v611 = 0u;
  if (SDWORD1(v609) >= 1)
  {
    v587 = 0;
    v588 = v614;
    do
    {
      v588[v587++] = 0;
    }

    while (v587 < SDWORD1(v609));
  }

  if (v615 != v616)
  {
    j__free(v615);
  }

  if (v621 && atomic_fetch_add((v621 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(&v617);
  }

  v621 = 0;
  v618 = 0u;
  v619 = 0u;
  if (SDWORD1(v617) >= 1)
  {
    v589 = 0;
    v590 = v622;
    do
    {
      v590[v589++] = 0;
    }

    while (v589 < SDWORD1(v617));
  }

  if (v623 != v624)
  {
    j__free(v623);
  }

  if (v629 && atomic_fetch_add((v629 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(&v625);
  }

  v629 = 0;
  v626 = 0u;
  v627 = 0u;
  if (SDWORD1(v625) >= 1)
  {
    v591 = 0;
    v592 = v630;
    do
    {
      *&v592[4 * v591++] = 0;
    }

    while (v591 < SDWORD1(v625));
  }

  if (v631 != v632)
  {
    j__free(v631);
  }

  if (v634)
  {
    sub_1002ACC1C(v633);
  }
}

void sub_10032B73C(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_100008E3C(a1);
  }

  _Unwind_Resume(a1);
}

float64_t sub_10032B8E8(int32x2_t **a1, int a2, uint64_t a3, int *a4, int a5, int *a6, float **a7, char a8, void *a9, uint64_t *a10, uint64_t a11, uint64_t *a12)
{
  v14 = a5;
  if (!a3 && a2 != a5)
  {
    v98 = 0;
    v99 = 0;
    qmemcpy(sub_1002A80E0(&v98, 32), "channels != 0 || nimages == dims", 32);
    sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 128);
  }

  *&v16.f64[0] = vrev64_s32(*a1[8]);
  *a11 = v16.f64[0];
  v17 = *a1;
  v18 = a5;
  v19 = a5 + 1;
  v20 = (a9[1] - *a9) >> 3;
  if (v19 <= v20)
  {
    if (v19 < v20)
    {
      a9[1] = *a9 + 8 * v19;
    }
  }

  else
  {
    sub_10030AB00(a9, v19 - v20);
  }

  v21 = 2 * v19;
  v22 = (a10[1] - *a10) >> 2;
  if (v21 <= v22)
  {
    if (v21 < v22)
    {
      a10[1] = *a10 + 4 * v21;
    }
  }

  else
  {
    sub_1002374D8(a10, v21 - v22);
  }

  if (v14 < 1)
  {
    v38 = a4;
    v39 = a6;
    v40 = *(a4 + 2);
    if (!v40)
    {
      goto LABEL_56;
    }

    v97 = a10;
    v25 = 1;
    v41 = a4[1];
    if (v41 < 3)
    {
LABEL_36:
      v42 = v38[3] * v38[2];
      goto LABEL_44;
    }
  }

  else
  {
    v97 = a10;
    v89 = v14;
    v90 = a8;
    v23 = 0;
    v91 = v14;
    v95 = v14;
    v24 = (0x88442211uLL >> (4 * (v17 & 7u))) & 0xF;
    LOBYTE(v25) = 1;
    do
    {
      if (a3)
      {
        v28 = *(a3 + 4 * v23);
        if (v28 < 0)
        {
          v98 = 0;
          v99 = 0;
          v29 = sub_1002A80E0(&v98, 6);
          *v29 = 1027481699;
          *(v29 + 4) = 12320;
          sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 148);
        }

        if (a2 < 1)
        {
LABEL_26:
          v98 = 0;
          v99 = 0;
          v34 = sub_1002A80E0(&v98, 11);
          *(v34 + 7) = 1936025441;
          *v34 = *"j < nimages";
          sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 152);
        }

        v30 = 0;
        v31 = a1;
        while (1)
        {
          v32 = *v31;
          v31 += 24;
          v33 = (v32 >> 3) & 0x1FF;
          if (v28 <= v33)
          {
            break;
          }

          v28 += ~v33;
          if (a2 == ++v30)
          {
            goto LABEL_26;
          }
        }
      }

      else
      {
        if ((a1[12 * v23] & 0xFF8) != 0)
        {
          v98 = 0;
          v99 = 0;
          qmemcpy(sub_1002A80E0(&v98, 25), "images[j].channels() == 1", 25);
          sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 143);
        }

        v28 = 0;
        LODWORD(v30) = v23;
      }

      v35 = &a1[12 * v30];
      v36 = *(*(v35 + 8) + 4) == *a11 && **(v35 + 8) == *(a11 + 4);
      if (!v36 || (v37 = *v35, (*v35 & 7) != (v17 & 7)))
      {
        v98 = 0;
        v99 = 0;
        qmemcpy(sub_1002A80E0(&v98, 56), "images[j].size() == imsize && images[j].depth() == depth", 56);
        sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 155);
      }

      v25 &= (*v35 & 0x4000u) >> 14;
      *(*a9 + 8 * v23) = *(v35 + 2) + v28 * v24;
      v26 = ((v37 >> 3) & 0x1FF) + 1;
      v27 = (*a10 + 8 * v23);
      *v27 = v26;
      v27[1] = *(v35 + 10) / v24 - *a11 * v26;
      ++v23;
    }

    while (v23 != v95);
    v38 = a4;
    v39 = a6;
    v40 = *(a4 + 2);
    a8 = v90;
    v18 = v89;
    if (!v40)
    {
      v14 = v91;
      if ((v25 & 1) == 0)
      {
        goto LABEL_57;
      }

      goto LABEL_56;
    }

    v14 = v91;
    v41 = a4[1];
    if (v41 < 3)
    {
      goto LABEL_36;
    }
  }

  v43 = *(v38 + 8);
  v44 = (v43 + 4);
  v45 = 1;
  v46 = v41 & 0x7FFFFFFE;
  v47 = 1;
  do
  {
    v45 *= *(v44 - 1);
    v47 *= *v44;
    v44 += 2;
    v46 -= 2;
  }

  while (v46);
  v42 = v47 * v45;
  v48 = v41 - (v41 & 0x7FFFFFFE);
  if (v48)
  {
    v49 = (v43 + 8 * ((v41 >> 1) & 0x3FFFFFFF));
    do
    {
      v50 = *v49++;
      v42 *= v50;
      --v48;
    }

    while (v48);
  }

LABEL_44:
  if (!v41 || !v42)
  {
    if (!v25)
    {
      goto LABEL_57;
    }

    goto LABEL_56;
  }

  v51 = *(*(v38 + 8) + 4) == *a11 && **(v38 + 8) == *(a11 + 4);
  if (!v51 || (v52 = *v38, (*v38 & 0xFF8) != 0))
  {
    v98 = 0;
    v99 = 0;
    qmemcpy(sub_1002A80E0(&v98, 45), "mask.size() == imsize && mask.channels() == 1", 45);
    sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 165);
  }

  *(*a9 + 8 * v18) = v40;
  v53 = *v97;
  *(v53 + 8 * v18) = 1;
  *(v53 + 4 * ((2 * v18) | 1)) = *(v38 + 10) / ((0x88442211uLL >> (4 * (*v38 & 7u))) & 0xF);
  if (v25 & ((v52 & 0x4000) >> 14))
  {
LABEL_56:
    *a11 *= *(a11 + 4);
    *(a11 + 4) = 1;
  }

LABEL_57:
  if (a7)
  {
    if (a8)
    {
      v54 = (a12[1] - *a12) >> 3;
      if (2 * v18 <= v54)
      {
        if (2 * v18 < v54)
        {
          a12[1] = *a12 + 16 * v18;
        }
      }

      else
      {
        sub_10027E448(a12, 2 * v18 - v54);
      }

      if (v14 >= 1)
      {
        v63 = 0;
        do
        {
          v68 = *a7;
          if (!*a7 || (v69 = v68[1], *v68 >= v69))
          {
            v98 = 0;
            v99 = 0;
            qmemcpy(sub_1002A80E0(&v98, 40), "ranges[i] && ranges[i][0] < ranges[i][1]", 40);
            sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 196);
          }

          v64 = *v68;
          v65 = *v39++;
          v66 = v65 / (v69 - v64);
          v67 = (*a12 + v63);
          v16.f64[0] = -(v66 * v64);
          *v67 = v66;
          v67[1] = v16.f64[0];
          ++a7;
          v63 += 16;
        }

        while (16 * v14 != v63);
      }
    }

    else if (v14 >= 1)
    {
      for (i = 0; i != v14; ++i)
      {
        v58 = v39[i];
        if (v58)
        {
          for (j = 0; j != v58; ++j)
          {
            v60 = &a7[i][j];
            LODWORD(v16.f64[0]) = *v60;
            if (*v60 >= *(v60 + 4))
            {
              v98 = 0;
              v99 = 0;
              qmemcpy(sub_1002A80E0(&v98, 29), "ranges[i][k] < ranges[i][k+1]", 29);
              sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 209);
            }
          }
        }
      }
    }
  }

  else
  {
    if ((v17 & 7) != 0)
    {
      v98 = 0;
      v99 = 0;
      v55 = sub_1002A80E0(&v98, 10);
      *(v55 + 8) = 12320;
      *v55 = *"depth == 0";
      sub_1002A8980(-215, &v98, "histPrepareImages", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 182);
    }

    v56 = (a12[1] - *a12) >> 3;
    if (2 * v18 <= v56)
    {
      if (2 * v18 < v56)
      {
        a12[1] = *a12 + 16 * v18;
      }
    }

    else
    {
      sub_10027E448(a12, 2 * v18 - v56);
    }

    if (v14 >= 1)
    {
      v61 = *a12;
      if (v14 >= 8)
      {
        v62 = v14 & 0x7FFFFFF8;
        v70 = (v61 + 64);
        v71 = v39 + 4;
        v16 = vdupq_n_s64(0x3F70000000000000uLL);
        v72 = 0uLL;
        v73 = v62;
        do
        {
          v74 = *(v71 - 1);
          v75.i64[0] = v74;
          v75.i64[1] = SDWORD1(v74);
          v76 = vcvtq_f64_s64(v75);
          v75.i64[0] = SDWORD2(v74);
          v75.i64[1] = SHIDWORD(v74);
          v77 = vcvtq_f64_s64(v75);
          v75.i64[0] = *v71;
          v75.i64[1] = HIDWORD(*v71);
          v78 = vcvtq_f64_s64(v75);
          v75.i64[0] = *(v71 + 1);
          v75.i64[1] = HIDWORD(*v71);
          v79 = vmulq_f64(v77, v16);
          v102.val[0] = vmulq_f64(v76, v16);
          v102.val[1] = 0uLL;
          v101.val[0] = vmulq_f64(v78, v16);
          v80 = v70 - 8;
          vst2q_f64(v80, v102);
          v101.val[1] = 0uLL;
          v81 = v70 - 4;
          vst2q_f64(v81, *(&v72 - 1));
          v82 = v70 + 16;
          vst2q_f64(v70, v101);
          v83 = v70 + 4;
          v100.val[0] = vmulq_f64(vcvtq_f64_s64(v75), v16);
          v100.val[1] = 0uLL;
          vst2q_f64(v83, v100);
          v71 += 8;
          v70 = v82;
          v73 -= 8;
        }

        while (v73);
        if (v62 == v14)
        {
          return v16.f64[0];
        }
      }

      else
      {
        v62 = 0;
      }

      v84 = &v39[v62];
      v85 = (v61 + 16 * v62 + 8);
      v86 = v14 - v62;
      do
      {
        v87 = *v84++;
        v16.f64[0] = vcvtd_n_f64_s32(v87, 8uLL);
        *(v85 - 1) = *&v16.f64[0];
        *v85 = 0;
        v85 += 2;
        --v86;
      }

      while (v86);
    }
  }

  return v16.f64[0];
}

void sub_10032C188(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  sub_1002A8124(va);
  _Unwind_Resume(a1);
}

uint64_t sub_10032C260(unsigned int a1, int *a2, int a3, _DWORD **a4, int a5)
{
  if (a1 >= 0x21)
  {
    v16 = 0;
    v17 = 0;
    qmemcpy(sub_1002A80E0(&v16, 36), "Number of dimensions is out of range", 36);
    sub_1002A8980(-19, &v16, "cvCreateHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 2844);
  }

  if (!a2)
  {
    v16 = 0;
    v17 = 0;
    v10 = sub_1002A80E0(&v16, 20);
    *(v10 + 16) = 1919251566;
    *v10 = *"Null <sizes> pointer";
    sub_1002A8980(-9, &v16, "cvCreateHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 2847);
  }

  v11 = sub_1001D90AC(0x238uLL);
  v12 = v11;
  if (a5)
  {
    v13 = 1111819264;
  }

  else
  {
    v13 = 1111818240;
  }

  *v11 = v13 & 0xFFFFFFFE | a3 & 1;
  *(v11 + 272) = 0;
  *(v11 + 8) = 0;
  if (a3 == 1)
  {
    *(v11 + 8) = sub_1001FC868(a1, a2, 5u);
  }

  else
  {
    if (a3)
    {
      v16 = 0;
      v17 = 0;
      qmemcpy(sub_1002A80E0(&v16, 22), "Invalid histogram type", 22);
      sub_1002A8980(-5, &v16, "cvCreateHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 2863);
    }

    v14 = sub_1001FB2C8(v11 + 280, a1, a2, 5u, 0);
    *(v12 + 8) = v14;
    sub_1001FA9C0(v14);
  }

  if (a4)
  {
    sub_10032C488(v12, a4, a5);
  }

  return v12;
}

uint64_t sub_10032C488(uint64_t a1, _DWORD **a2, int a3)
{
  v4 = a2;
  if (!a2)
  {
    v32 = 0;
    v33 = 0;
    v6 = sub_1002A80E0(&v32, 19);
    *(v6 + 15) = 1919251566;
    *v6 = *"NULL ranges pointer";
    sub_1002A8980(-27, &v32, "cvSetHistBinRanges", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 3363);
  }

  if (!a1 || *(a1 + 2) != 16965 || (v7 = *(a1 + 8)) == 0)
  {
    v32 = 0;
    v33 = 0;
    qmemcpy(sub_1002A80E0(&v32, 24), "Invalid histogram header", 24);
    sub_1002A8980(-5, &v32, "cvSetHistBinRanges", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 3366);
  }

  result = sub_1001FD6A4(v7, __dst);
  v9 = result;
  if (result >= 1)
  {
    v10 = result;
    if (result >= 8)
    {
      v11 = result & 0x7FFFFFF8;
      v14 = &v35;
      v15 = 0uLL;
      v16 = v11;
      v17 = 0uLL;
      do
      {
        v15 = vsubq_s32(v14[-1], vmvnq_s8(v15));
        v17 = vsubq_s32(*v14, vmvnq_s8(v17));
        v14 += 2;
        v16 -= 8;
      }

      while (v16);
      v12 = vaddvq_s32(vaddq_s32(v17, v15));
      if (v11 == result)
      {
LABEL_17:
        if (a3)
        {
          v21 = (a1 + 20);
          do
          {
            v22 = *v4;
            if (!*v4)
            {
              v32 = 0;
              v33 = 0;
              qmemcpy(sub_1002A80E0(&v32, 32), "One of <ranges> elements is NULL", 32);
              sub_1002A8980(-27, &v32, "cvSetHistBinRanges", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 3377);
            }

            *(v21 - 1) = *v22;
            *v21 = v22[1];
            v21 += 2;
            ++v4;
            --v10;
          }

          while (v10);
          goto LABEL_11;
        }

        v23 = 4 * v12;
        result = *(a1 + 272);
        v24 = v9;
        if (result)
        {
LABEL_23:
          if (v9 < 1)
          {
            goto LABEL_37;
          }

          goto LABEL_27;
        }

LABEL_26:
        result = sub_1001D90AC(v23 + 8 * v24);
        *(a1 + 272) = result;
        if (v9 < 1)
        {
LABEL_37:
          v13 = *a1 & 0xFFFFF3FF | 0x800;
          goto LABEL_38;
        }

LABEL_27:
        v25 = 0;
        v26 = result + 8 * v24;
        do
        {
          if (!v4[v25])
          {
            v32 = 0;
            v33 = 0;
            qmemcpy(sub_1002A80E0(&v32, 32), "One of <ranges> elements is NULL", 32);
            sub_1002A8980(-27, &v32, "cvSetHistBinRanges", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 3401);
          }

          v27 = __dst[v25];
          if ((v27 & 0x80000000) == 0)
          {
            v28 = 0;
            v29 = -3.4028e38;
            do
            {
              v31 = v29;
              v29 = *&v4[v25][v28];
              if (v29 <= v31)
              {
                v32 = 0;
                v33 = 0;
                qmemcpy(sub_1002A80E0(&v32, 39), "Bin ranges should go in ascenting order", 39);
                sub_1002A8980(-211, &v32, "cvSetHistBinRanges", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 3407);
              }

              *(v26 + 4 * v28) = v29;
            }

            while (v28++ < v27);
          }

          *(*(a1 + 272) + 8 * v25) = v26;
          v26 += 4 * v27 + 4;
          ++v25;
        }

        while (v25 != v9);
        goto LABEL_37;
      }
    }

    else
    {
      v11 = 0;
      v12 = 0;
    }

    v18 = &__dst[v11];
    v19 = result - v11;
    do
    {
      v20 = *v18++;
      v12 += v20 + 1;
      --v19;
    }

    while (v19);
    goto LABEL_17;
  }

  if (!a3)
  {
    v23 = 0;
    result = *(a1 + 272);
    v24 = v9;
    if (result)
    {
      goto LABEL_23;
    }

    goto LABEL_26;
  }

LABEL_11:
  v13 = *a1 | 0xC00;
LABEL_38:
  *a1 = v13;
  return result;
}

void sub_10032C868(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_100008E3C(a1);
  }

  _Unwind_Resume(a1);
}

void sub_10032C910(uint64_t *a1)
{
  if (!a1)
  {
    v5 = 0;
    v6 = 0;
    sub_1002A8980(-27, &v5, "cvReleaseHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 2903);
  }

  v2 = *a1;
  if (*a1)
  {
    if (*(v2 + 2) != 16965 || (v3 = *(v2 + 8)) == 0)
    {
      v5 = 0;
      v6 = 0;
      qmemcpy(sub_1002A80E0(&v5, 24), "Invalid histogram header", 24);
      sub_1002A8980(-5, &v5, "cvReleaseHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 2910);
    }

    *a1 = 0;
    if (*(v3 + 2) == 16964)
    {
      sub_1001FCB74((v2 + 8));
      v4 = *(v2 + 272);
      if (!v4)
      {
        goto LABEL_13;
      }
    }

    else
    {
      sub_1001FCEC4(v3);
      *(v2 + 8) = 0;
      v4 = *(v2 + 272);
      if (!v4)
      {
LABEL_13:
        j__free(v2);
        return;
      }
    }

    j__free(v4);
    *(v2 + 272) = 0;
    goto LABEL_13;
  }
}

void sub_10032CA74(int *a1, uint64_t *a2)
{
  if (!a2)
  {
    v21 = 0uLL;
    qmemcpy(sub_1002A80E0(&v21, 34), "Destination double pointer is NULL", 34);
    sub_1002A8980(-27, &v21, "cvCopyHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 3293);
  }

  v4 = *a2;
  if (!a1 || *(a1 + 1) != 16965 || (v5 = *(a1 + 1)) == 0 || v4 && (*(v4 + 2) != 16965 || !*(v4 + 8)))
  {
    v21 = 0uLL;
    qmemcpy(sub_1002A80E0(&v21, 27), "Invalid histogram header[s]", 27);
    sub_1002A8980(-5, &v21, "cvCopyHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 3298);
  }

  v6 = *(v5 + 2) == 16964;
  v7 = sub_1001FD6A4(v5, __dst);
  if (!v4)
  {
    goto LABEL_23;
  }

  v8 = *(v4 + 8);
  if (v8)
  {
    if ((*(v8 + 2) == 16964) != v6)
    {
      goto LABEL_23;
    }
  }

  else if (v6)
  {
LABEL_23:
    sub_10032C910(a2);
    v4 = sub_10032C260(v7, __dst, v6, 0, 0);
    *a2 = v4;
    goto LABEL_24;
  }

  if (v7 != sub_1001FD6A4(v8, &v21))
  {
    goto LABEL_23;
  }

  if (v7 < 1)
  {
    LODWORD(v9) = 0;
  }

  else
  {
    v9 = 0;
    while (__dst[v9] == *(&v22[-1] + v9))
    {
      if (v7 == ++v9)
      {
        goto LABEL_24;
      }
    }
  }

  if (v9 != v7)
  {
    goto LABEL_23;
  }

LABEL_24:
  v10 = *a1;
  if ((*a1 & 0x800) != 0)
  {
    v21 = 0u;
    memset(v22, 0, sizeof(v22));
    if ((v10 & 0x400) == 0)
    {
      v11 = *(a1 + 34);
LABEL_36:
      sub_10032C488(v4, v11, (v10 >> 10) & 1);
      goto LABEL_37;
    }

    if (v7 >= 1)
    {
      if (v7 < 4)
      {
        v12 = 0;
LABEL_34:
        v20 = &a1[2 * v12 + 4];
        do
        {
          v11 = &v21;
          *(&v22[-1] + v12++) = v20;
          v20 += 8;
        }

        while (v7 != v12);
        goto LABEL_36;
      }

      v12 = v7 & 0x7FFFFFFC;
      v13 = xmmword_1003E0C50;
      v14 = v22;
      v15 = vdupq_n_s64((a1 + 4));
      v16 = vdupq_n_s64(0x10uLL);
      v17 = vdupq_n_s64(4uLL);
      v18 = v12;
      do
      {
        v19 = vaddq_s64(v15, vshlq_n_s64(v13, 3uLL));
        v14[-1] = v19;
        *v14 = vaddq_s64(v19, v16);
        v13 = vaddq_s64(v13, v17);
        v14 += 2;
        v18 -= 4;
      }

      while (v18);
      if (v12 != v7)
      {
        goto LABEL_34;
      }
    }

    v11 = &v21;
    goto LABEL_36;
  }

LABEL_37:
  sub_100230B48(*(a1 + 1), *(v4 + 8), 0);
}

void sub_10032CD84(_Unwind_Exception *exception_object, int a2)
{
  if (a2)
  {
    sub_100008E3C(exception_object);
  }

  _Unwind_Resume(exception_object);
}

BOOL sub_10032CDCC(_BOOL8 result)
{
  if (result)
  {
    return *(result + 2) == 16965 && *(result + 8) != 0;
  }

  return result;
}

uint64_t sub_10032CDF8(_DWORD *a1, uint64_t a2)
{
  v4 = sub_1001D90AC(0x238uLL);
  v5 = sub_100283BF4(a1, a2, "type");
  if (!v5)
  {
    LODWORD(v6) = 0;
    v7 = sub_100283BF4(a1, a2, "is_uniform");
    if (v7)
    {
      goto LABEL_10;
    }

    goto LABEL_5;
  }

  if ((*v5 & 7) == 2)
  {
    v6 = rint(*(v5 + 16));
    v7 = sub_100283BF4(a1, a2, "is_uniform");
    if (v7)
    {
      goto LABEL_10;
    }

    goto LABEL_5;
  }

  if ((*v5 & 7) != 1)
  {
    LODWORD(v6) = 0x7FFFFFFF;
    v7 = sub_100283BF4(a1, a2, "is_uniform");
    if (v7)
    {
      goto LABEL_10;
    }

LABEL_5:
    LODWORD(v8) = 0;
    v9 = sub_100283BF4(a1, a2, "have_ranges");
    if (v9)
    {
      goto LABEL_6;
    }

LABEL_13:
    LODWORD(v10) = 0;
    goto LABEL_22;
  }

  LODWORD(v6) = *(v5 + 16);
  v7 = sub_100283BF4(a1, a2, "is_uniform");
  if (!v7)
  {
    goto LABEL_5;
  }

LABEL_10:
  if ((*v7 & 7) == 2)
  {
    v8 = rint(*(v7 + 16));
    v9 = sub_100283BF4(a1, a2, "have_ranges");
    if (!v9)
    {
      goto LABEL_13;
    }
  }

  else if ((*v7 & 7) == 1)
  {
    LODWORD(v8) = *(v7 + 16);
    v9 = sub_100283BF4(a1, a2, "have_ranges");
    if (!v9)
    {
      goto LABEL_13;
    }
  }

  else
  {
    LODWORD(v8) = 0x7FFFFFFF;
    v9 = sub_100283BF4(a1, a2, "have_ranges");
    if (!v9)
    {
      goto LABEL_13;
    }
  }

LABEL_6:
  if ((*v9 & 7) == 2)
  {
    v10 = rint(*(v9 + 16));
  }

  else if ((*v9 & 7) == 1)
  {
    LODWORD(v10) = *(v9 + 16);
  }

  else
  {
    LODWORD(v10) = 0x7FFFFFFF;
  }

LABEL_22:
  *v4 = ((v10 != 0) << 11) | ((v8 != 0) << 10) | v6 | 0x42450000;
  if (v6)
  {
    v11 = sub_100283BF4(a1, a2, "bins");
    v12 = sub_1002913A4(a1, v11, 0);
    *(v4 + 8) = v12;
    if (!v12 || *(v12 + 2) != 16964)
    {
      __dst[0] = 0;
      __dst[1] = 0;
      qmemcpy(sub_1002A80E0(__dst, 22), "Unknown Histogram type", 22);
      sub_1002A8980(-2, __dst, "icvReadHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 4029);
    }
  }

  else
  {
    v13 = sub_100283BF4(a1, a2, "mat");
    v14 = sub_1002913A4(a1, v13, 0);
    v15 = v14;
    v41[0] = v14;
    if (!v14 || *(v14 + 1) != 16963 || !*(v14 + 3))
    {
      v42[0] = 0;
      v42[1] = 0;
      *sub_1002A80E0(v42, 16) = *"Expected CvMatND";
      sub_1002A8980(-2, v42, "icvReadHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 4008);
    }

    LODWORD(v16) = v14[1];
    if (v16 >= 1)
    {
      v17 = 0;
      v18 = v14 + 8;
      do
      {
        v19 = *v18;
        v18 += 2;
        *(__dst + v17++) = v19;
        v16 = v14[1];
      }

      while (v17 < v16);
    }

    sub_1001FB2C8(v4 + 280, v16, __dst, *v14, *(v14 + 3));
    *(v4 + 8) = v4 + 280;
    v20 = *(v15 + 1);
    *(v4 + 288) = v20;
    v21 = *(v15 + 1) << 16;
    if ((v21 == 1111687168 || v21 == 1111621632 && v15[9] >= 1 && v15[8] >= 1) && *(v15 + 3) && v20)
    {
      ++*v20;
    }

    sub_1001FB074(v41);
  }

  if (v10)
  {
    v22 = sub_1001FD6A4(*(v4 + 8), __dst);
    v23 = v22;
    v24 = v22;
    if (v22 < 1)
    {
      v27 = 0;
LABEL_54:
      v35 = sub_100283BF4(a1, a2, "thresh");
      if (!v35)
      {
        v41[0] = 0;
        v41[1] = 0;
        qmemcpy(sub_1002A80E0(v41, 24), "'thresh' node is missing", 24);
        sub_1002A8980(-2, v41, "icvReadHist", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 4046);
      }

      sub_10028BBBC(a1, v35, v42);
      if (v8)
      {
        if (v23 >= 1)
        {
          v36 = v4 + 16;
          do
          {
            sub_10028BDD8(a1, v42, 2, v36, "f");
            v36 += 8;
            --v24;
          }

          while (v24);
        }

        *(v4 + 272) = 0;
      }

      else
      {
        v37 = sub_1001D90AC(v27 + 8 * v23);
        *(v4 + 272) = v37;
        if (v23 > 0)
        {
          v38 = 0;
          v39 = v37 + 8 * v23;
          do
          {
            *(*(v4 + 272) + 8 * v38) = v39;
            sub_10028BDD8(a1, v42, *(__dst + v38) + 1, v39, "f");
            v39 += 4 * *(__dst + v38++) + 4;
          }

          while (v24 != v38);
        }
      }

      return v4;
    }

    if (v22 >= 8)
    {
      v25 = v22 & 0x7FFFFFF8;
      v28 = &v44;
      v29 = 0uLL;
      v30 = v25;
      v31 = 0uLL;
      do
      {
        v29 = vsubq_s32(v28[-1], vmvnq_s8(v29));
        v31 = vsubq_s32(*v28, vmvnq_s8(v31));
        v28 += 2;
        v30 -= 8;
      }

      while (v30);
      v26 = vaddvq_s32(vaddq_s32(v31, v29));
      if (v25 == v22)
      {
        goto LABEL_53;
      }
    }

    else
    {
      v25 = 0;
      v26 = 0;
    }

    v32 = __dst + v25;
    v33 = v22 - v25;
    do
    {
      v34 = *v32++;
      v26 += v34 + 1;
      --v33;
    }

    while (v33);
LABEL_53:
    v27 = 4 * v26;
    goto LABEL_54;
  }

  return v4;
}

void sub_10032D3D4(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, char a10, uint64_t a11, char a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, char a20)
{
  if (a2)
  {
    sub_100008E3C(exception_object);
  }

  _Unwind_Resume(exception_object);
}

uint64_t sub_10032D434(_DWORD *a1, const char *a2, int *a3)
{
  sub_100288FB8(a1, a2, 6, "opencv-hist");
  v5 = *a3;
  v6 = *a3 & 0x800;
  sub_1002899A0(a1, "type", *a3 & 1);
  sub_1002899A0(a1, "is_uniform", (v5 >> 10) & 1);
  sub_1002899A0(a1, "have_ranges", (v5 >> 11) & 1);
  v7 = *(a3 + 1);
  if (v7 && *(v7 + 2) == 16964)
  {
    sub_100291524(a1, "bins", v7, 0, 0);
    if (!v6)
    {
      return sub_10028984C(a1);
    }
  }

  else
  {
    sub_100291524(a1, "mat", (a3 + 70), 0, 0);
    if (!v6)
    {
      return sub_10028984C(a1);
    }
  }

  v8 = sub_1001FD6A4(*(a3 + 1), __dst);
  sub_100288FB8(a1, "thresh", 13, 0);
  if ((v5 & 0x400) != 0)
  {
    if (v8 >= 1)
    {
      v10 = (a3 + 4);
      v11 = v8;
      do
      {
        sub_100289C48(a1, v10, 2, "f");
        v10 += 8;
        --v11;
      }

      while (v11);
    }
  }

  else if (v8 >= 1)
  {
    for (i = 0; i != v8; ++i)
    {
      sub_100289C48(a1, *(*(a3 + 34) + 8 * i), __dst[i] + 1, "f");
    }
  }

  sub_10028984C(a1);
  return sub_10028984C(a1);
}

uint64_t sub_10032D618(int *a1)
{
  v2 = 0;
  sub_10032CA74(a1, &v2);
  return v2;
}

void sub_10032D644(uint64_t a1, uint64_t a2, int a3, float **a4, uint64_t a5, int a6, int a7, uint64_t *a8)
{
  v15 = a3 << 8;
  v16 = *a8;
  v17 = (a8[1] - *a8) >> 3;
  if (v15 <= v17)
  {
    if (v15 < v17)
    {
      a8[1] = v16 + 8 * v15;
    }
  }

  else
  {
    sub_10027E448(a8, v15 - v17);
    v16 = *a8;
  }

  if (a6)
  {
    if (a3 >= 1)
    {
      v19 = 0;
      v20 = *(a1 + 64);
      v21 = *(a1 + 72);
      v22 = *(a2 + 8);
      __asm { FMOV            V1.2D, #2.0 }

      do
      {
        if (a7)
        {
          if (v22)
          {
            v28 = *(v22 + 88 + 4 * v19);
          }

          else
          {
            v28 = 0;
          }

          v29 = 1;
        }

        else
        {
          v28 = *(v20 + 4 * v19);
          v29 = *(v21 + 8 * v19);
        }

        v30 = 0;
        v31 = (a5 + 16 * v19);
        v32 = vdupq_lane_s64(*v31, 0);
        v33 = vdupq_lane_s64(v31[1], 0);
        v34 = vdup_n_s32(v28);
        v36 = vdupq_n_s64(v29);
        v35 = v36.i64[0];
        v36.i64[0] = &_mh_execute_header;
        do
        {
          v37.i64[0] = v36.u32[0];
          v37.i64[1] = v36.u32[1];
          v38 = vmlaq_f64(v33, v32, vcvtq_f64_u64(v37));
          v39 = vmovn_s64(vcvtq_s64_f64(v38));
          v37.i64[0] = v39.i32[0];
          v37.i64[1] = v39.i32[1];
          v40 = vadd_s32(vmovn_s64(vcgtq_f64(vcvtq_f64_s64(v37), v38)), v39);
          *&v38.f64[0] = vcgt_u32(v34, v40);
          v41 = v36.i64[1] * v40.i32[1];
          v42.i64[0] = v35 * v40.i32[0];
          v42.i64[1] = v41;
          v37.i64[0] = SLODWORD(v38.f64[0]);
          v37.i64[1] = SHIDWORD(v38.f64[0]);
          *(v16 + ((v19 & 0xFFFFFF) << 11) + v30) = vbslq_s8(v37, v42, _Q1);
          *v36.i8 = vadd_s32(*v36.i8, 0x200000002);
          v30 += 16;
        }

        while (v30 != 2048);
        ++v19;
      }

      while (v19 != a3);
    }

    return;
  }

  if (!a4)
  {
    v92[0] = 0;
    v92[1] = 0;
    qmemcpy(sub_1002A80E0(v92, 55), "Either ranges, either uniform ranges should be provided", 55);
    sub_1002A8980(-5, v92, "calcHistLookupTables_8u", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/histogram.cpp", 116);
  }

  if (a3 >= 1)
  {
    if (a7)
    {
      v43 = *(a2 + 8);
      v44 = a3;
      v45 = 0;
      if (v43)
      {
        v46 = 0;
        v47 = v43 + 88;
        do
        {
          v48 = 0;
          v49 = a4[v46];
          v51 = *v49;
          v50 = v49 + 2;
          v52 = v51;
          if (v51 > v51)
          {
            ++v52;
          }

          if (v52 >= 256)
          {
            v53 = 256;
          }

          else
          {
            v53 = v52;
          }

          v54 = *(v47 + 4 * v46) - 1;
          v55 = 0x4000000000000000;
          v56 = -1;
          if (v53 > 0)
          {
LABEL_37:
            v59 = v53 - v48;
            v60 = v48;
            if (v59 <= 3)
            {
              goto LABEL_41;
            }

            v60 = (v59 & 0xFFFFFFFFFFFFFFFCLL) + v48;
            v61 = vdupq_n_s64(v55);
            v62 = (v16 + 16 + 8 * (v45 + v48));
            v63 = v59 & 0xFFFFFFFFFFFFFFFCLL;
            do
            {
              v62[-1] = v61;
              *v62 = v61;
              v62 += 2;
              v63 -= 4;
            }

            while (v63);
            if (v59 != (v59 & 0xFFFFFFFFFFFFFFFCLL))
            {
LABEL_41:
              v64 = (v16 + 8 * (v45 + v60));
              v65 = v53 - v60;
              do
              {
                *v64++ = v55;
                --v65;
              }

              while (v65);
            }

            v48 = v53;
          }

          while (v56 != v54)
          {
            v55 = v56 + 1;
            v57 = v50[v56];
            v58 = v57;
            if (v57 > v57)
            {
              ++v58;
            }

            if (v58 >= 256)
            {
              v53 = 256;
            }

            else
            {
              v53 = v58;
            }

            v56 = v55;
            if (v48 < v53)
            {
              goto LABEL_37;
            }
          }

          if (v48 <= 255)
          {
            memset_pattern16((v16 + 8 * ((v46 << 8) + v48)), &unk_1003E9860, 8 * (255 - v48) + 8);
          }

          ++v46;
          v45 += 256;
        }

        while (v46 != v44);
        return;
      }

      v88 = v44 << 8;
      while (1)
      {
        v90 = **a4;
        if (v90 <= v90)
        {
          v91 = v90;
        }

        else
        {
          v91 = v90 + 1;
        }

        if (v91 < 1)
        {
          v89 = 0;
        }

        else
        {
          if (v91 >= 0x100)
          {
            v89 = 256;
          }

          else
          {
            v89 = v91;
          }

          memset_pattern16((v16 + 8 * v45), &unk_1003E9860, (8 * v89));
          if (v91 >= 0x100)
          {
            goto LABEL_76;
          }
        }

        memset_pattern16((v16 + 8 * (v45 + v89)), &unk_1003E9860, (2048 - 8 * v89));
LABEL_76:
        v45 += 256;
        ++a4;
        if (v88 == v45)
        {
          return;
        }
      }
    }

    v66 = 0;
    v67 = 0;
    v69 = *(a1 + 64);
    v68 = *(a1 + 72);
    do
    {
      v70 = 0;
      v71 = a4[v67];
      v73 = *v71;
      v72 = v71 + 2;
      v74 = v73;
      if (v73 > v73)
      {
        ++v74;
      }

      if (v74 >= 256)
      {
        v75 = 256;
      }

      else
      {
        v75 = v74;
      }

      v76 = *(v68 + 8 * v67);
      v77 = *(v69 + 4 * v67) - 1;
      v78 = 0x4000000000000000;
      v79 = -1;
      if (v75 > 0)
      {
LABEL_63:
        v81 = v75 - v70;
        v82 = v70;
        if (v81 < 4)
        {
          goto LABEL_67;
        }

        v82 = (v81 & 0xFFFFFFFFFFFFFFFCLL) + v70;
        v83 = vdupq_n_s64(v78);
        v84 = (v16 + 16 + 8 * (v66 + v70));
        v85 = v81 & 0xFFFFFFFFFFFFFFFCLL;
        do
        {
          v84[-1] = v83;
          *v84 = v83;
          v84 += 2;
          v85 -= 4;
        }

        while (v85);
        if (v81 != (v81 & 0xFFFFFFFFFFFFFFFCLL))
        {
LABEL_67:
          v86 = (v16 + 8 * (v66 + v82));
          v87 = v75 - v82;
          do
          {
            *v86++ = v78;
            --v87;
          }

          while (v87);
        }

        v70 = v75;
      }

      while (v79 != v77)
      {
        v80 = v72[v79++];
        v75 = v80;
        if (v80 > v80)
        {
          ++v75;
        }

        if (v75 >= 256)
        {
          v75 = 256;
        }

        v78 = v76 * v79;
        if (v70 < v75)
        {
          goto LABEL_63;
        }
      }

      if (v70 <= 255)
      {
        memset_pattern16((v16 + 8 * ((v67 << 8) + v70)), &unk_1003E9860, 8 * (255 - v70) + 8);
      }

      ++v67;
      v66 += 256;
    }

    while (v67 != a3);
  }
}

uint64_t sub_10032DB84()
{
  sub_10028CA60(&qword_1004D54C0, "opencv-hist", sub_10032CDCC, sub_10032C910, sub_10032CDF8, sub_10032D434, sub_10032D618);

  return __cxa_atexit(sub_10028CABC, &qword_1004D54C0, &_mh_execute_header);
}

void sub_10032DC34(uint64_t a1, uint64_t a2, double a3, double a4)
{
  sub_1002ACE7C(v40, &off_10047A090);
  if (sub_100271148(a1) != 0x10000)
  {
    sub_1002703C0(a1, -1, &v32);
    goto LABEL_8;
  }

  v8 = *(a1 + 8);
  v9 = *v8;
  v10 = *(v8 + 16);
  v32 = *v8;
  v11 = *(v8 + 32);
  v33 = v10;
  v34 = v11;
  v12 = *(v8 + 56);
  v35 = *(v8 + 48);
  v36 = v12;
  v37 = &v32 + 8;
  v38 = v39;
  v39[0] = 0;
  v39[1] = 0;
  if (!v12)
  {
    if (SDWORD1(v9) <= 2)
    {
      goto LABEL_4;
    }

LABEL_7:
    DWORD1(v32) = 0;
    sub_100269B58(&v32, v8);
    goto LABEL_8;
  }

  atomic_fetch_add((v12 + 20), 1u);
  if (*(v8 + 4) > 2)
  {
    goto LABEL_7;
  }

LABEL_4:
  v13 = *(v8 + 72);
  v14 = v38;
  *v38 = *v13;
  v14[1] = v13[1];
LABEL_8:
  __p = 0;
  v30 = 0;
  v31 = 0;
  v15 = a3;
  v16 = a4;
  sub_10032DF44(&v32, v15, v16);
  v21 = 0x242FF401CLL;
  v23 = 0u;
  v24 = 0u;
  v25 = 0u;
  v26 = v22;
  v27 = &v28;
  v28 = 0uLL;
  v22[0] = 0;
  v22[1] = 1;
  sub_10022B754(&v21, a2);
  if (*(&v25 + 1) && atomic_fetch_add((*(&v25 + 1) + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(&v21);
  }

  *(&v25 + 1) = 0;
  v23 = 0u;
  v24 = 0u;
  if (SHIDWORD(v21) >= 1)
  {
    v17 = 0;
    v18 = v26;
    do
    {
      v18[v17++] = 0;
    }

    while (v17 < SHIDWORD(v21));
  }

  if (v27 != &v28)
  {
    j__free(v27);
  }

  if (__p)
  {
    operator delete(__p);
  }

  if (v36 && atomic_fetch_add((v36 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(&v32);
  }

  v36 = 0;
  v33 = 0u;
  v34 = 0u;
  if (SDWORD1(v32) >= 1)
  {
    v19 = 0;
    v20 = v37;
    do
    {
      *&v20[4 * v19++] = 0;
    }

    while (v19 < SDWORD1(v32));
  }

  if (v38 != v39)
  {
    j__free(v38);
  }

  if (v41)
  {
    sub_1002ACC1C(v40);
  }
}

void sub_10032DEF4(_Unwind_Exception *a1, uint64_t a2, ...)
{
  va_start(va1, a2);
  va_start(va, a2);
  v5 = va_arg(va1, void);
  v7 = va_arg(va1, void);
  v8 = va_arg(va1, void);
  v9 = va_arg(va1, void);
  v10 = va_arg(va1, void);
  v11 = va_arg(va1, void);
  v12 = va_arg(va1, void);
  v13 = va_arg(va1, void);
  v14 = va_arg(va1, void);
  v15 = va_arg(va1, void);
  v16 = va_arg(va1, void);
  v17 = va_arg(va1, void);
  v18 = va_arg(va1, void);
  v19 = va_arg(va1, void);
  v20 = va_arg(va1, void);
  sub_100006D14(va);
  if (v2)
  {
    operator delete(v2);
  }

  sub_100006D14(va1);
  sub_1001D8BF4(v3 - 96);
  _Unwind_Resume(a1);
}

void sub_10032DF44(uint64_t a1, float a2, float a3)
{
  if ((*a1 & 0xFFF) != 0)
  {
    *v33 = 0uLL;
    qmemcpy(sub_1002A80E0(v33, 57), "image.type() == (((0) & ((1 << 3) - 1)) + (((1)-1) << 3))", 57);
    sub_1002A8980(-215, v33, "HoughLinesProbabilistic", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/hough.cpp", 425);
  }

  v3 = *(a1 + 12);
  v4 = rint(3.14159265 / a3);
  v31 = *(a1 + 8);
  sub_100266984(v4, rintf(((2 * (v31 + v3)) | 1) / a2), 4u, v33);
  LODWORD(v37[0]) = 1124007936;
  memset(v37 + 4, 0, 32);
  memset(&v37[4] + 4, 0, 28);
  v38 = &v37[1];
  v39 = v40;
  v40[0] = 0;
  v40[1] = 0;
  (*(**v33 + 24))(*v33, v33, v37, 0xFFFFFFFFLL);
  sub_100008E50(v33);
  *v33 = 1124007936;
  memset(&v33[4], 0, 60);
  v34 = &v33[8];
  v35 = v36;
  v36[0] = 0;
  v36[1] = 0;
  __src = __PAIR64__(v3, v31);
  sub_100268ED0(v33, 2, &__src, 0);
  if (v4)
  {
    if ((v4 & 0x80000000) == 0)
    {
      operator new();
    }

    sub_10000918C();
  }

  if (v31 >= 1 && v3 >= 1)
  {
    v5 = 0;
    v6 = 0;
    do
    {
      v7 = 0;
      v8 = *(a1 + 16) + **(a1 + 72) * v5;
      v9 = *&v33[16] + *v35 * v5;
      do
      {
        if (*(v8 + v7))
        {
          *(v9 + v7) = 1;
          if (((v6 >> 3) + 1) >> 61)
          {
            sub_10000918C();
          }

          if (v6 >> 3 != -1)
          {
            if (!(((v6 >> 3) + 1) >> 61))
            {
              operator new();
            }

            sub_10000927C();
          }

          v10 = (8 * (v6 >> 3));
          *v10 = v7;
          v10[1] = v5;
          if (v6)
          {
            v11 = v6 - 8;
            v12 = 0;
            v13 = 0;
            if ((v6 - 8) < 0x38)
            {
              goto LABEL_59;
            }

            v15 = (v11 & 0xFFFFFFFFFFFFFFF8) == 0xFFFFFFFFFFFFFFFCLL || (v11 & 0xFFFFFFFFFFFFFFF8) == -4;
            v12 = 0;
            v13 = 0;
            if (!v15)
            {
              goto LABEL_59;
            }

            v12 = 0;
            v13 = 0;
            if ((v11 & 0xFFFFFFFFFFFFFFF8) + 8 > 4)
            {
              goto LABEL_59;
            }

            v16 = (v11 >> 3) + 1;
            v13 = (8 * (v16 & 0x3FFFFFFFFFFFFFF8));
            v12 = v13;
            v17 = 32;
            v18 = 32;
            v19 = v16 & 0x3FFFFFFFFFFFFFF8;
            do
            {
              v21 = *(v18 - 32);
              v20 = *(v18 - 16);
              v23 = *v18;
              v22 = *(v18 + 16);
              v18 += 64;
              *(v17 - 32) = v21;
              *(v17 - 16) = v20;
              *v17 = v23;
              *(v17 + 16) = v22;
              v17 += 64;
              v19 -= 8;
            }

            while (v19);
            if (v16 != (v16 & 0x3FFFFFFFFFFFFFF8))
            {
LABEL_59:
              do
              {
                v14 = *v12++;
                *v13++ = v14;
              }

              while (v12 != v6);
            }
          }

          v6 = (v10 + 2);
        }

        else
        {
          *(v9 + v7) = 0;
        }

        ++v7;
      }

      while (v7 != v3);
      ++v5;
    }

    while (v5 != v31);
    if ((v6 >> 3) >= 1)
    {
      v24 = (v6 >> 3) & 0x7FFFFFFF;
      v25 = -1;
      do
      {
        v32 = v24;
        *(8 * ((HIDWORD(v25) - 130063606 * v25) % v24)) = *(8 * (v24 - 1));
        v25 = HIDWORD(v25) + 4164903690 * v25;
        --v24;
      }

      while (v32 > 1);
    }
  }

  if (*&v33[56] && atomic_fetch_add((*&v33[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v33);
  }

  *&v33[56] = 0;
  memset(&v33[16], 0, 32);
  if (*&v33[4] >= 1)
  {
    v26 = 0;
    v27 = v34;
    do
    {
      *&v27[4 * v26++] = 0;
    }

    while (v26 < *&v33[4]);
  }

  if (v35 != v36)
  {
    j__free(v35);
  }

  if (v37[7] && atomic_fetch_add((v37[7] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v37);
  }

  v37[7] = 0;
  memset(&v37[2], 0, 32);
  if (SHIDWORD(v37[0]) >= 1)
  {
    v28 = 0;
    v29 = v38;
    do
    {
      *(v29 + v28++) = 0;
    }

    while (v28 < SHIDWORD(v37[0]));
  }

  if (v39 != v40)
  {
    j__free(v39);
  }
}

void sub_10032EED8(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, void *__p, uint64_t a28, uint64_t a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, char a38)
{
  if (a2)
  {
    sub_100008E3C(exception_object);
  }

  _Unwind_Resume(exception_object);
}

void *sub_10032F0F8(void *a1, int a2, int a3, double a4, double a5, double a6, double a7, double a8, double a9)
{
  v18 = sub_1001D8B88(a1);
  *v18 = off_10047A0C0;
  *(v18 + 2) = 1124007936;
  *(v18 + 12) = 0u;
  *(v18 + 28) = 0u;
  *(v18 + 44) = 0u;
  *(v18 + 7) = 0u;
  *(v18 + 11) = 0u;
  *(v18 + 26) = 1124007936;
  v18[9] = v18 + 2;
  v18[10] = v18 + 11;
  *(v18 + 108) = 0u;
  *(v18 + 124) = 0u;
  *(v18 + 140) = 0u;
  *(v18 + 19) = 0u;
  *(v18 + 23) = 0u;
  v18[21] = v18 + 14;
  v18[22] = v18 + 23;
  *(v18 + 204) = 0u;
  *(v18 + 220) = 0u;
  *(v18 + 236) = 0u;
  *(v18 + 50) = 1124007942;
  *(v18 + 31) = 0u;
  *(v18 + 35) = 0u;
  v18[33] = v18 + 26;
  v18[34] = v18 + 35;
  *(v18 + 43) = 0u;
  *(v18 + 332) = 0u;
  *(v18 + 316) = 0u;
  *(v18 + 300) = 0u;
  v18[45] = v18 + 38;
  v18[46] = v18 + 47;
  *(v18 + 47) = 0u;
  *(v18 + 74) = 1124007942;
  *(v18 + 55) = 0u;
  *(v18 + 428) = 0u;
  *(v18 + 412) = 0u;
  *(v18 + 396) = 0u;
  v18[57] = v18 + 50;
  v18[58] = v18 + 59;
  *(v18 + 98) = 1124007936;
  *(v18 + 503) = 0;
  *(v18 + 59) = 0u;
  *(v18 + 61) = 0u;
  *(v18 + 64) = a4;
  *(v18 + 130) = a2;
  *(v18 + 66) = a5;
  *(v18 + 67) = a6;
  *(v18 + 68) = a7;
  *(v18 + 69) = a8;
  *(v18 + 70) = a9;
  *(v18 + 142) = a3;
  v18[74] = 0;
  *(v18 + 36) = 0u;
  if (a3 < 1 || a9 >= 1.0 || a7 >= 180.0 || a4 <= 0.0 || a5 <= 0.0 || a6 < 0.0 || a7 <= 0.0 || a9 < 0.0)
  {
    v20[0] = 0;
    v20[1] = 0;
    qmemcpy(sub_1002A80E0(v20, 131), "_scale > 0 && _sigma_scale > 0 && _quant >= 0 && _ang_th > 0 && _ang_th < 180 && _density_th >= 0 && _density_th < 1 && _n_bins > 0", 131);
    sub_1002A8980(-215, v20, "LineSegmentDetectorImpl", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 407);
  }

  return a1;
}

void sub_10032F348(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  sub_1002A8124(&a9);
  v15 = *v13;
  if (*v13)
  {
    v9[73] = v15;
    operator delete(v15);
  }

  sub_10032F3A8(v12 + 192);
  sub_10024105C(v12 + 96);
  sub_10024105C(v12);
  sub_100006D14(v11);
  sub_100006D14(v10);
  sub_1001D8C28(v9);
  _Unwind_Resume(a1);
}

uint64_t sub_10032F3A8(uint64_t a1)
{
  v2 = *(a1 + 56);
  if (v2 && atomic_fetch_add((v2 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(a1);
  }

  *(a1 + 56) = 0;
  *(a1 + 16) = 0u;
  *(a1 + 32) = 0u;
  if (*(a1 + 4) >= 1)
  {
    v3 = 0;
    v4 = *(a1 + 64);
    do
    {
      *(v4 + 4 * v3++) = 0;
    }

    while (v3 < *(a1 + 4));
  }

  v5 = *(a1 + 72);
  if (v5 != (a1 + 80))
  {
    j__free(v5);
  }

  return a1;
}

void sub_10032F43C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  sub_1002ACE7C(v62, &off_10047A118);
  if (sub_100271148(a2) == 0x10000)
  {
    v12 = *(a2 + 8);
    v13 = *v12;
    v14 = *(v12 + 16);
    *v58 = *v12;
    *&v58[16] = v14;
    *&v58[32] = *(v12 + 32);
    v15 = *(v12 + 56);
    *&v58[48] = *(v12 + 48);
    *&v58[56] = v15;
    v59 = &v58[8];
    v60 = &v61;
    v61 = 0uLL;
    if (v15)
    {
      atomic_fetch_add((v15 + 20), 1u);
      if (*(v12 + 4) <= 2)
      {
LABEL_4:
        v16 = *(v12 + 72);
        v17 = v60;
        *v60 = *v16;
        v17[1] = v16[1];
        goto LABEL_8;
      }
    }

    else if (SDWORD1(v13) <= 2)
    {
      goto LABEL_4;
    }

    *&v58[4] = 0;
    sub_100269B58(v58, v12);
  }

  else
  {
    sub_1002703C0(a2, -1, v58);
  }

LABEL_8:
  if ((a1 + 8) != v58)
  {
    v18 = *(a1 + 64);
    if (v18 && atomic_fetch_add((v18 + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(a1 + 8);
    }

    *(a1 + 64) = 0;
    *(a1 + 24) = 0u;
    *(a1 + 40) = 0u;
    if (*(a1 + 12) >= 1)
    {
      v19 = 0;
      v20 = *(a1 + 72);
      do
      {
        *(v20 + 4 * v19++) = 0;
      }

      while (v19 < *(a1 + 12));
    }

    v21 = *&v58[4];
    v22 = *&v58[16];
    *(a1 + 8) = *v58;
    *(a1 + 24) = v22;
    v23 = *&v58[48];
    *(a1 + 40) = *&v58[32];
    *(a1 + 56) = v23;
    v24 = *(a1 + 80);
    if (v24 == (a1 + 88))
    {
      v25 = v60;
      if (v21 <= 2)
      {
        goto LABEL_17;
      }
    }

    else
    {
      j__free(v24);
      *(a1 + 72) = a1 + 16;
      *(a1 + 80) = a1 + 88;
      v24 = (a1 + 88);
      v25 = v60;
      if (*&v58[4] <= 2)
      {
LABEL_17:
        *v24 = *v25;
        v24[1] = v25[1];
LABEL_23:
        *v58 = 1124007936;
        memset(&v58[4], 0, 60);
        goto LABEL_24;
      }
    }

    *(a1 + 72) = v59;
    *(a1 + 80) = v25;
    v59 = &v58[8];
    v60 = &v61;
    goto LABEL_23;
  }

  if (*&v58[56] && atomic_fetch_add((*&v58[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v58);
  }

LABEL_24:
  *&v58[56] = 0;
  memset(&v58[16], 0, 32);
  if (*&v58[4] >= 1)
  {
    v26 = 0;
    v27 = v59;
    do
    {
      *&v27[4 * v26++] = 0;
    }

    while (v26 < *&v58[4]);
  }

  if (v60 != &v61)
  {
    j__free(v60);
  }

  if (!*(a1 + 24))
  {
    goto LABEL_40;
  }

  v28 = *(a1 + 12);
  if (v28 >= 3)
  {
    v30 = *(a1 + 72);
    v31 = (v30 + 4);
    v32 = 1;
    v33 = v28 & 0x7FFFFFFE;
    v34 = 1;
    do
    {
      v32 *= *(v31 - 1);
      v34 *= *v31;
      v31 += 2;
      v33 -= 2;
    }

    while (v33);
    v29 = v34 * v32;
    v35 = v28 - (v28 & 0x7FFFFFFE);
    if (v35)
    {
      v36 = (v30 + 8 * ((v28 >> 1) & 0x3FFFFFFF));
      do
      {
        v37 = *v36++;
        v29 *= v37;
        --v35;
      }

      while (v35);
    }
  }

  else
  {
    v29 = *(a1 + 20) * *(a1 + 16);
  }

  if (!v28 || !v29 || (*(a1 + 8) & 0xFFF) != 0)
  {
LABEL_40:
    *v58 = 0uLL;
    qmemcpy(sub_1002A80E0(v58, 75), "!image.empty() && image.type() == (((0) & ((1 << 3) - 1)) + (((1)-1) << 3))", 75);
    sub_1002A8980(-215, v58, "detect", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 416);
  }

  v55 = 0;
  v56 = 0;
  v57 = 0;
  v52 = 0;
  v53 = 0;
  v54 = 0;
  v49 = 0;
  v50 = 0;
  v51 = 0;
  __p = 0;
  v47 = 0;
  v48 = 0;
  *(a1 + 504) = sub_1002769C0(a4);
  *(a1 + 505) = sub_1002769C0(a5);
  *(a1 + 506) = *(a1 + 520) > 1 && sub_1002769C0(a6);
  sub_10032FCF4(a1, &v55, &v52, &v49, &__p);
  *v58 = 0x242FF401DLL;
  memset(&v58[16], 0, 48);
  v59 = &v58[8];
  v60 = &v61;
  v61 = 0uLL;
  *&v58[8] = (v56 - v55) >> 4;
  *&v58[12] = 1;
  if (v56 != v55)
  {
    v61 = vdupq_n_s64(0x10uLL);
    *&v58[16] = v55;
    *&v58[24] = v55;
    *&v58[32] = v55 + 16 * ((v56 - v55) >> 4);
    *&v58[40] = *&v58[32];
  }

  sub_10022B754(v58, a3);
  if (*&v58[56] && atomic_fetch_add((*&v58[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v58);
  }

  *&v58[56] = 0;
  memset(&v58[16], 0, 32);
  if (*&v58[4] >= 1)
  {
    v38 = 0;
    v39 = v59;
    do
    {
      *&v39[4 * v38++] = 0;
    }

    while (v38 < *&v58[4]);
  }

  if (v60 != &v61)
  {
    j__free(v60);
  }

  if (*(a1 + 504) == 1)
  {
    *v58 = 0x242FF4006;
    memset(&v58[16], 0, 48);
    v59 = &v58[8];
    v60 = &v61;
    v61 = 0uLL;
    *&v58[8] = (v53 - v52) >> 3;
    *&v58[12] = 1;
    if (v53 != v52)
    {
      v61 = vdupq_n_s64(8uLL);
      *&v58[16] = v52;
      *&v58[24] = v52;
      *&v58[32] = v52 + 8 * ((v53 - v52) >> 3);
      *&v58[40] = *&v58[32];
    }

    sub_10022B754(v58, a4);
    if (*&v58[56] && atomic_fetch_add((*&v58[56] + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(v58);
    }

    *&v58[56] = 0;
    memset(&v58[16], 0, 32);
    if (*&v58[4] >= 1)
    {
      v40 = 0;
      v41 = v59;
      do
      {
        *&v41[4 * v40++] = 0;
      }

      while (v40 < *&v58[4]);
    }

    if (v60 != &v61)
    {
      j__free(v60);
    }
  }

  if (*(a1 + 505) == 1)
  {
    *v58 = 0x242FF4006;
    memset(&v58[16], 0, 48);
    v59 = &v58[8];
    v60 = &v61;
    v61 = 0uLL;
    *&v58[8] = (v50 - v49) >> 3;
    *&v58[12] = 1;
    if (v50 != v49)
    {
      v61 = vdupq_n_s64(8uLL);
      *&v58[16] = v49;
      *&v58[24] = v49;
      *&v58[32] = v49 + 8 * ((v50 - v49) >> 3);
      *&v58[40] = *&v58[32];
    }

    sub_10022B754(v58, a5);
    if (*&v58[56] && atomic_fetch_add((*&v58[56] + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(v58);
    }

    *&v58[56] = 0;
    memset(&v58[16], 0, 32);
    if (*&v58[4] >= 1)
    {
      v42 = 0;
      v43 = v59;
      do
      {
        *&v43[4 * v42++] = 0;
      }

      while (v42 < *&v58[4]);
    }

    if (v60 != &v61)
    {
      j__free(v60);
    }
  }

  if (*(a1 + 506) == 1)
  {
    *v58 = 0x242FF4006;
    memset(&v58[16], 0, 48);
    v59 = &v58[8];
    v60 = &v61;
    v61 = 0uLL;
    *&v58[8] = (v47 - __p) >> 3;
    *&v58[12] = 1;
    if (v47 != __p)
    {
      v61 = vdupq_n_s64(8uLL);
      *&v58[16] = __p;
      *&v58[24] = __p;
      *&v58[32] = __p + 8 * ((v47 - __p) >> 3);
      *&v58[40] = *&v58[32];
    }

    sub_10022B754(v58, a6);
    if (*&v58[56] && atomic_fetch_add((*&v58[56] + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(v58);
    }

    *&v58[56] = 0;
    memset(&v58[16], 0, 32);
    if (*&v58[4] >= 1)
    {
      v44 = 0;
      v45 = v59;
      do
      {
        *&v45[4 * v44++] = 0;
      }

      while (v44 < *&v58[4]);
    }

    if (v60 != &v61)
    {
      j__free(v60);
    }
  }

  *(a1 + 584) = *(a1 + 576);
  if (__p)
  {
    v47 = __p;
    operator delete(__p);
  }

  if (v49)
  {
    v50 = v49;
    operator delete(v49);
  }

  if (v52)
  {
    v53 = v52;
    operator delete(v52);
  }

  if (v55)
  {
    operator delete(v55);
  }

  if (v63)
  {
    sub_1002ACC1C(v62);
  }
}

void sub_10032FC04(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *a9, uint64_t a10, uint64_t a11, void *a12, uint64_t a13, uint64_t a14, void *a15, uint64_t a16, uint64_t a17, void *__p, uint64_t a19, uint64_t a20, char a21)
{
  sub_100006D14(&a21);
  if (a9)
  {
    operator delete(a9);
    v23 = a12;
    if (!a12)
    {
LABEL_3:
      v24 = a15;
      if (!a15)
      {
        goto LABEL_4;
      }

      goto LABEL_9;
    }
  }

  else
  {
    v23 = a12;
    if (!a12)
    {
      goto LABEL_3;
    }
  }

  operator delete(v23);
  v24 = a15;
  if (!a15)
  {
LABEL_4:
    v25 = __p;
    if (!__p)
    {
      goto LABEL_6;
    }

    goto LABEL_5;
  }

LABEL_9:
  operator delete(v24);
  v25 = __p;
  if (!__p)
  {
LABEL_6:
    sub_1001D8BF4(v21 - 80);
    _Unwind_Resume(a1);
  }

LABEL_5:
  operator delete(v25);
  goto LABEL_6;
}

void sub_10032FCF4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v8 = *(a1 + 544);
  v92[0] = v8 * 3.14159265 / 180.0;
  v9 = *(a1 + 536);
  v91 = v9 / sin(v92[0]);
  v10 = *(a1 + 512);
  if (v10 != 1.0)
  {
    *v79 = 1124007936;
    memset(&v79[4], 0, 60);
    v80 = &v79[8];
    v81 = &v82;
    v82 = 0;
    v83[0] = 0;
    if (v10 >= 1.0)
    {
      v11 = *(a1 + 528);
    }

    else
    {
      v11 = *(a1 + 528) / v10;
    }

    v89 = (a1 + 8);
    v90 = 0;
    LODWORD(v88) = 16842752;
    HIDWORD(v84) = (2 * vcvtpd_u64_f64(v11 * 3.71692219)) | 1;
    LODWORD(v85) = 33619968;
    v86 = v79;
    v87 = 0;
    LODWORD(v84) = HIDWORD(v84);
    sub_1003606DC(&v88, &v85, &v84, 4, v11, 0.0);
    v90 = 0;
    LODWORD(v88) = 16842752;
    v89 = v79;
    LODWORD(v85) = 33619968;
    v86 = (a1 + 104);
    v87 = 0;
    v84 = 0.0;
    sub_10033AE18(&v88, &v85, &v84, 5, *(a1 + 512), *(a1 + 512));
    LODWORD(v88) = *(a1 + 568);
    sub_100330520(a1, &v91, &v88);
    if (*&v79[56] && atomic_fetch_add((*&v79[56] + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(v79);
    }

    *&v79[56] = 0;
    memset(&v79[16], 0, 32);
    if (*&v79[4] >= 1)
    {
      v12 = 0;
      v13 = v80;
      do
      {
        *&v13[4 * v12++] = 0;
      }

      while (v12 < *&v79[4]);
    }

    if (v81 != &v82)
    {
      j__free(v81);
    }

    goto LABEL_27;
  }

  v14 = *(a1 + 64);
  if (v14)
  {
    atomic_fetch_add((v14 + 20), 1u);
  }

  v15 = *(a1 + 160);
  if (v15 && atomic_fetch_add((v15 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(a1 + 104);
  }

  *(a1 + 160) = 0;
  *(a1 + 120) = 0u;
  *(a1 + 136) = 0u;
  if (*(a1 + 108) > 0)
  {
    v16 = 0;
    v17 = *(a1 + 168);
    do
    {
      *(v17 + 4 * v16++) = 0;
      v18 = *(a1 + 108);
    }

    while (v16 < v18);
    *(a1 + 104) = *(a1 + 8);
    if (v18 <= 2)
    {
      v19 = *(a1 + 12);
      if (v19 <= 2)
      {
        goto LABEL_23;
      }
    }

LABEL_25:
    sub_100269B58(a1 + 104, a1 + 8);
    goto LABEL_26;
  }

  v19 = *(a1 + 12);
  *(a1 + 104) = *(a1 + 8);
  if (v19 > 2)
  {
    goto LABEL_25;
  }

LABEL_23:
  *(a1 + 108) = v19;
  *(a1 + 112) = *(a1 + 16);
  v20 = *(a1 + 80);
  v21 = *(a1 + 176);
  *v21 = *v20;
  v21[1] = v20[1];
LABEL_26:
  *(a1 + 120) = *(a1 + 24);
  *(a1 + 136) = *(a1 + 40);
  *(a1 + 152) = *(a1 + 56);
  *v79 = *(a1 + 568);
  sub_100330520(a1, &v91, v79);
LABEL_27:
  v22 = v8 / 180.0;
  v23 = log10(*(a1 + 488));
  v24 = (v23 + log10(*(a1 + 492))) * 5.0 * 0.5 + 1.04139269;
  *(a1 + 496) = v24;
  v25 = log10(v22);
  v88 = vrev64_s32(**(a1 + 168));
  sub_100266EA8(&v88, 0, v79);
  (*(**v79 + 24))(*v79, v79, a1 + 392, 0);
  sub_100008E50(v79);
  v88 = 0;
  v89 = 0;
  v90 = 0;
  v26 = *(a1 + 584) - *(a1 + 576);
  if (!v26)
  {
    return;
  }

  v75 = a5;
  v27 = 0;
  v28 = (-v24 / v25);
  v29 = v26 >> 4;
  v30 = v92[0];
  if (v29 <= 1)
  {
    v31 = 1;
  }

  else
  {
    v31 = v29;
  }

  __asm { FMOV            V0.2D, #0.5 }

  v78 = _Q0;
  do
  {
    v37 = (*(a1 + 576) + 16 * v27);
    v38 = *v37;
    v39 = v37[1];
    if (*(*(a1 + 408) + **(a1 + 464) * v39 + v38))
    {
      goto LABEL_32;
    }

    if (*(*(a1 + 216) + **(a1 + 272) * v39 + 8 * v38) == -1024.0)
    {
      goto LABEL_32;
    }

    v85 = 0.0;
    sub_100330E78(a1, v37, &v88, &v85, v92);
    if (v28 > (v89 - v88) >> 5)
    {
      goto LABEL_32;
    }

    v40 = v85;
    sub_10033123C(a1, &v88, v79, v85, v30, v22);
    v84 = -1.0;
    if (*(a1 + 520) >= 1)
    {
      if (!sub_1003314F4(a1, &v88, v79, (a1 + 560), v40, v30, v22))
      {
        goto LABEL_32;
      }

      if (*(a1 + 520) >= 2)
      {
        v84 = sub_100331780(a1, v79);
        if (v84 <= *(a1 + 552))
        {
          goto LABEL_32;
        }
      }
    }

    v41 = vaddq_f64(*v79, v78);
    v42 = vaddq_f64(*&v79[16], v78);
    *v79 = v41;
    *&v79[16] = v42;
    v43 = *(a1 + 512);
    v44 = v41.f64[1];
    v45 = v42.f64[1];
    if (v43 != 1.0)
    {
      v41.f64[0] = v41.f64[0] / v43;
      v44 = v41.f64[1] / v43;
      *v79 = v41.f64[0];
      *&v79[8] = v41.f64[1] / v43;
      v42.f64[0] = v42.f64[0] / v43;
      v45 = v42.f64[1] / v43;
      *&v79[16] = v42.f64[0];
      *&v79[24] = v42.f64[1] / v43;
      *&v79[32] = *&v79[32] / v43;
    }

    v46 = v41.f64[0];
    v47 = v44;
    v48 = v42.f64[0];
    v49 = v45;
    v51 = *(a2 + 8);
    v50 = *(a2 + 16);
    if (v51 >= v50)
    {
      v52 = *a2;
      v53 = v51 - *a2;
      v54 = v53 >> 4;
      v55 = (v53 >> 4) + 1;
      if (v55 >> 60)
      {
        sub_10000918C();
      }

      v56 = v50 - v52;
      if (v56 >> 3 > v55)
      {
        v55 = v56 >> 3;
      }

      if (v56 >= 0x7FFFFFFFFFFFFFF0)
      {
        v57 = 0xFFFFFFFFFFFFFFFLL;
      }

      else
      {
        v57 = v55;
      }

      if (v57)
      {
        if (!(v57 >> 60))
        {
          operator new();
        }

        sub_10000927C();
      }

      v58 = v53 >> 4;
      v59 = (16 * v54);
      *v59 = v46;
      v59[1] = v47;
      v59[2] = v48;
      v59[3] = v49;
      if (v52 != v51)
      {
        v60 = v51 - v52 - 16;
        v61 = v52;
        v62 = 0;
        if (v60 < 0x70)
        {
          goto LABEL_78;
        }

        if ((v52 + (v60 & 0xFFFFFFFFFFFFFFF0)) != -16)
        {
          v61 = v52;
          v62 = 0;
          if (v52 < v53 + (v60 & 0xFFFFFFFFFFFFFFF0) - 16 * v58 + 16)
          {
            goto LABEL_78;
          }
        }

        v63 = (v60 >> 4) + 1;
        v62 = (16 * (v63 & 0x1FFFFFFFFFFFFFF8));
        v61 = (v62 + v52);
        v64 = (-16 * v58 + 16 * v54 + 64);
        v65 = (v52 + 16);
        v66 = v63 & 0x1FFFFFFFFFFFFFF8;
        do
        {
          v68 = *(v65 - 4);
          v67 = *(v65 - 3);
          v69 = *(v65 - 1);
          v71 = *v65;
          v70 = v65[1];
          v73 = v65[2];
          v72 = v65[3];
          *(v64 - 2) = *(v65 - 2);
          *(v64 - 1) = v69;
          *(v64 - 4) = v68;
          *(v64 - 3) = v67;
          v64[2] = v73;
          v64[3] = v72;
          *v64 = v71;
          v64[1] = v70;
          v64 += 8;
          v65 += 8;
          v66 -= 8;
        }

        while (v66);
        if (v63 != (v63 & 0x1FFFFFFFFFFFFFF8))
        {
LABEL_78:
          do
          {
            *v62 = *v61;
            v62[1] = *(v61 + 1);
            v62[2] = *(v61 + 2);
            v62[3] = *(v61 + 3);
            v61 += 4;
            v62 += 4;
          }

          while (v61 != v51);
        }
      }

      v74 = v59 + 4;
      *a2 = 0;
      *(a2 + 8) = v59 + 4;
      *(a2 + 16) = 0;
      if (v52)
      {
        operator delete(v52);
      }

      *(a2 + 8) = v74;
      if (*(a1 + 504) != 1)
      {
        goto LABEL_66;
      }
    }

    else
    {
      *v51 = v46;
      v51[1] = v47;
      v51[2] = v48;
      v51[3] = v49;
      *(a2 + 8) = v51 + 4;
      if (*(a1 + 504) != 1)
      {
        goto LABEL_66;
      }
    }

    sub_10033217C(a3, &v79[32]);
LABEL_66:
    if (*(a1 + 505) == 1)
    {
      sub_10033217C(a4, v83);
    }

    if (*(a1 + 506) == 1 && *(a1 + 520) >= 2)
    {
      sub_10033217C(v75, &v84);
    }

LABEL_32:
    ++v27;
  }

  while (v27 != v31);
  if (v88)
  {
    v89 = v88;
    operator delete(v88);
  }
}

void sub_1003304A0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, char a15)
{
  v17 = *(v15 - 192);
  if (v17)
  {
    *(v15 - 184) = v17;
    operator delete(v17);
  }

  _Unwind_Resume(exception_object);
}

void sub_100330520(uint64_t a1, double *a2, _DWORD *a3)
{
  v5 = **(a1 + 168);
  *v80 = 1124007936;
  memset(&v80[4], 0, 60);
  v81 = &v80[8];
  v82 = &v83;
  v83 = 0;
  v84 = 0;
  __src = v5;
  sub_100268ED0(v80, 2, &__src, 6);
  if ((a1 + 200) != v80)
  {
    v6 = *(a1 + 256);
    if (v6 && atomic_fetch_add((v6 + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(a1 + 200);
    }

    *(a1 + 256) = 0;
    *(a1 + 216) = 0u;
    *(a1 + 232) = 0u;
    if (*(a1 + 204) >= 1)
    {
      v7 = 0;
      v8 = *(a1 + 264);
      do
      {
        *(v8 + 4 * v7++) = 0;
      }

      while (v7 < *(a1 + 204));
    }

    v9 = *&v80[4];
    v10 = *&v80[16];
    *(a1 + 200) = *v80;
    *(a1 + 216) = v10;
    v11 = *&v80[48];
    *(a1 + 232) = *&v80[32];
    *(a1 + 248) = v11;
    v12 = *(a1 + 272);
    if (v12 == (a1 + 280))
    {
      v13 = v82;
      if (v9 <= 2)
      {
        goto LABEL_10;
      }
    }

    else
    {
      j__free(v12);
      *(a1 + 264) = a1 + 208;
      *(a1 + 272) = a1 + 280;
      v12 = (a1 + 280);
      v13 = v82;
      if (*&v80[4] <= 2)
      {
LABEL_10:
        *v12 = *v13;
        v12[1] = v13[1];
        goto LABEL_21;
      }
    }

    *(a1 + 264) = v81;
    *(a1 + 272) = v13;
    v81 = &v80[8];
    v82 = &v83;
LABEL_21:
    *v80 = 1124007936;
    memset(&v80[4], 0, 60);
    v16 = v82;
    if (v82 == &v83)
    {
      goto LABEL_23;
    }

    goto LABEL_22;
  }

  if (*&v80[56] && atomic_fetch_add((*&v80[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v80);
  }

  *&v80[56] = 0;
  memset(&v80[16], 0, 32);
  if (*&v80[4] >= 1)
  {
    v14 = 0;
    v15 = v81;
    do
    {
      *&v15[4 * v14++] = 0;
    }

    while (v14 < *&v80[4]);
  }

  v16 = v82;
  if (v82 != &v83)
  {
LABEL_22:
    j__free(v16);
  }

LABEL_23:
  v17 = **(a1 + 168);
  *v80 = 1124007936;
  memset(&v80[4], 0, 60);
  v81 = &v80[8];
  v82 = &v83;
  v83 = 0;
  v84 = 0;
  __src = v17;
  sub_100268ED0(v80, 2, &__src, 6);
  if ((a1 + 296) != v80)
  {
    v18 = *(a1 + 352);
    if (v18 && atomic_fetch_add((v18 + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(a1 + 296);
    }

    *(a1 + 352) = 0;
    *(a1 + 312) = 0u;
    *(a1 + 328) = 0u;
    if (*(a1 + 300) >= 1)
    {
      v19 = 0;
      v20 = *(a1 + 360);
      do
      {
        *(v20 + 4 * v19++) = 0;
      }

      while (v19 < *(a1 + 300));
    }

    v21 = *&v80[4];
    v22 = *&v80[16];
    *(a1 + 296) = *v80;
    *(a1 + 312) = v22;
    v23 = *&v80[48];
    *(a1 + 328) = *&v80[32];
    *(a1 + 344) = v23;
    v24 = *(a1 + 368);
    if (v24 == (a1 + 376))
    {
      v25 = v82;
      if (v21 <= 2)
      {
        goto LABEL_32;
      }
    }

    else
    {
      j__free(v24);
      *(a1 + 360) = a1 + 304;
      *(a1 + 368) = a1 + 376;
      v24 = (a1 + 376);
      v25 = v82;
      if (*&v80[4] <= 2)
      {
LABEL_32:
        *v24 = *v25;
        v24[1] = v25[1];
        goto LABEL_43;
      }
    }

    *(a1 + 360) = v81;
    *(a1 + 368) = v25;
    v81 = &v80[8];
    v82 = &v83;
LABEL_43:
    *v80 = 1124007936;
    memset(&v80[4], 0, 60);
    v28 = v82;
    if (v82 == &v83)
    {
      goto LABEL_45;
    }

    goto LABEL_44;
  }

  if (*&v80[56] && atomic_fetch_add((*&v80[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v80);
  }

  *&v80[56] = 0;
  memset(&v80[16], 0, 32);
  if (*&v80[4] >= 1)
  {
    v26 = 0;
    v27 = v81;
    do
    {
      *&v27[4 * v26++] = 0;
    }

    while (v26 < *&v80[4]);
  }

  v28 = v82;
  if (v82 == &v83)
  {
    goto LABEL_45;
  }

LABEL_44:
  j__free(v28);
LABEL_45:
  v29 = *(a1 + 112);
  *(a1 + 488) = vrev64_s32(v29);
  HIDWORD(__src) = v29.i32[0];
  LODWORD(__src) = v29.i32[0] - 1;
  v85 = 0x7FFFFFFF80000000;
  sub_100269C44(v80, (a1 + 200), &__src, &v85);
  v85 = 0xC090000000000000;
  LODWORD(__src) = -1056833530;
  v87 = &v85;
  v88 = 0x100000001;
  v30 = sub_100276DA4();
  sub_10022CDA0(v80, &__src, v30);
  if (*&v80[56] && atomic_fetch_add((*&v80[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v80);
  }

  *&v80[56] = 0;
  memset(&v80[16], 0, 32);
  if (*&v80[4] >= 1)
  {
    v31 = 0;
    v32 = v81;
    do
    {
      *&v32[4 * v31++] = 0;
    }

    while (v31 < *&v80[4]);
  }

  if (v82 != &v83)
  {
    j__free(v82);
  }

  v33 = *(a1 + 488);
  __src = 0x7FFFFFFF80000000;
  LODWORD(v85) = v33 - 1;
  HIDWORD(v85) = v33;
  sub_100269C44(v80, (a1 + 200), &__src, &v85);
  v85 = 0xC090000000000000;
  LODWORD(__src) = -1056833530;
  v87 = &v85;
  v88 = 0x100000001;
  v34 = sub_100276DA4();
  sub_10022CDA0(v80, &__src, v34);
  if (*&v80[56] && atomic_fetch_add((*&v80[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v80);
  }

  *&v80[56] = 0;
  memset(&v80[16], 0, 32);
  if (*&v80[4] >= 1)
  {
    v35 = 0;
    v36 = v81;
    do
    {
      *&v36[4 * v35++] = 0;
    }

    while (v35 < *&v80[4]);
  }

  if (v82 != &v83)
  {
    j__free(v82);
  }

  v37 = *(a1 + 492);
  LODWORD(v38) = *(a1 + 488);
  v39 = -1.0;
  if (v37 >= 2)
  {
    v40 = 0;
    v41 = 1;
    do
    {
      if (v38 >= 2)
      {
        v42 = 0;
        v43 = **(a1 + 176);
        v44 = (*(a1 + 216) + **(a1 + 272) * v40);
        v45 = (*(a1 + 312) + **(a1 + 368) * v40);
        v46 = *(a1 + 120) + 1;
        v47 = (v46 + v43 * v41);
        v48 = (v46 + v43 * v40);
        do
        {
          v49 = *v47 - *(v48 - 1);
          v50 = *v48 - *(v47 - 1);
          v51 = v50 + v49;
          v52 = v49 - v50;
          v53 = sqrt(vcvtd_n_f64_u32(v52 * v52 + v51 * v51, 2uLL));
          *v45 = v53;
          if (v53 <= *a2)
          {
            *v44 = -1024.0;
          }

          else
          {
            *v44 = sub_100242754(v51, -v52) * 0.0174532925;
            if (v53 > v39)
            {
              v39 = v53;
            }
          }

          ++v42;
          ++v47;
          ++v48;
          v38 = *(a1 + 488);
          ++v44;
          ++v45;
        }

        while (v42 < v38 - 1);
        v37 = *(a1 + 492);
      }

      ++v40;
      ++v41;
    }

    while (v40 < v37 - 1);
  }

  v54 = v38 * v37;
  v55 = *(a1 + 576);
  v56 = (*(a1 + 584) - v55) >> 4;
  if (v54 <= v56)
  {
    v57 = a3;
    if (v54 < v56)
    {
      *(a1 + 584) = v55 + 16 * v54;
    }
  }

  else
  {
    sub_100334D44(a1 + 576, v54 - v56);
    v57 = a3;
  }

  if (*v57)
  {
    operator new();
  }

  v58 = 0.0;
  if (v39 > 0.0)
  {
    v58 = (*v57 - 1) / v39;
  }

  v59 = *(a1 + 492);
  if (v59 >= 2)
  {
    v60 = *(a1 + 488);
    if (v60 >= 2)
    {
      v61 = 0;
      v62 = 0;
      v63 = (v59 - 1);
      v64 = *(a1 + 312);
      v65 = **(a1 + 368);
      v66 = (v60 - 1);
      do
      {
        v67 = 0;
        do
        {
          v68 = v58 * *(v64 + 8 * v67);
          v69 = (8 * v68);
          v70 = *(a1 + 576) + 16 * (v62 + v67);
          if (*v69)
          {
            v71 = (*v69 + 8);
          }

          else
          {
            v71 = (8 * v68);
          }

          *v71 = v70;
          *(8 * v68) = v70;
          *v70 = v67;
          *(v70 + 4) = v61;
          *(v70 + 8) = 0;
          ++v67;
        }

        while (v66 != v67);
        ++v61;
        v64 += v65;
        v62 += v67;
      }

      while (v61 != v63);
    }
  }

  v72 = *v57;
  v73 = (v72 - 1);
  v74 = v72 - 1;
  while (v73 >= 1)
  {
    v75 = v74 & 0x7FFFFFFF;
    --v73;
    --v74;
    if (*(8 * v75))
    {
      v76 = *(8 * v75);
      do
      {
        v78 = *(8 * v73);
        if (v78)
        {
          *(v76 + 8) = v78;
          v76 = *(8 * v73);
        }

        v77 = v73-- + 1;
      }

      while (v77 > 1);
      return;
    }
  }
}

void sub_100330E04(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  sub_10024105C(va);
  _Unwind_Resume(a1);
}

void sub_100330E18(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  sub_10024105C(va);
  _Unwind_Resume(a1);
}

void sub_100330E2C(_Unwind_Exception *a1, int a2)
{
  if (a2)
  {
    sub_100008E3C(a1);
  }

  _Unwind_Resume(a1);
}

void sub_100330E78(uint64_t a1, _DWORD *a2, void *a3, double *a4, double *a5)
{
  v6 = a4;
  a3[1] = *a3;
  v10 = a2[1];
  LODWORD(v58) = *a2;
  v9 = v58;
  DWORD1(v58) = v10;
  *(&v58 + 1) = *(a1 + 408) + **(a1 + 464) * v10 + v58;
  v11 = *(*(a1 + 216) + **(a1 + 272) * v10 + 8 * v58);
  *a4 = v11;
  v59 = v11;
  v60 = *(*(a1 + 312) + **(a1 + 368) * v10 + 8 * v9);
  sub_100332294(a3, &v58);
  v12 = *v6;
  **(&v58 + 1) = 1;
  v53 = a3;
  v15 = a3;
  v14 = *a3;
  v13 = v15[1];
  if (v13 != v14)
  {
    v16 = __sincos_stret(v12);
    v17 = 0;
    sinval = v16.__sinval;
    cosval = v16.__cosval;
    v51 = a5;
    v52 = v6;
    do
    {
      v21 = *&v14[32 * v17];
      v22 = vmax_s32(v21, 0x100000001);
      v23 = vmin_s32(vadd_s32(*(a1 + 488), -1), vadd_s32(v21, 0x100000001));
      v24 = vcgt_s32(vadd_s32(v22, -1), v23);
      if (((v24.i32[1] | v24.i32[0]) & 1) == 0)
      {
        v50 = v17;
        v25 = (v23.i32[0] + 1);
        v26 = v22.u32[1] - 1;
        v54 = v23.u32[1];
        v55 = v22.u32[0] - 1;
        v27 = v53;
        do
        {
          v29 = *(a1 + 408) + **(a1 + 464) * v26;
          v30 = *(a1 + 216) + **(a1 + 272) * v26;
          v31 = *(a1 + 312) + **(a1 + 368) * v26;
          v32 = v55;
          do
          {
            if (((v32 | v26) & 0x80000000) == 0)
            {
              v36 = (v29 + v32);
              if (*(v29 + v32) != 1 && v32 < *(a1 + 212) && v26 < *(a1 + 208))
              {
                v37 = *(*(a1 + 216) + v26 * **(a1 + 272) + 8 * v32);
                if (v37 != -1024.0)
                {
                  v38 = *v6 - v37;
                  if (v38 < 0.0)
                  {
                    v38 = -v38;
                  }

                  if (v38 > 4.71238898)
                  {
                    v38 = v38 + -6.28318531;
                    if (v38 < 0.0)
                    {
                      v38 = -v38;
                    }
                  }

                  if (v38 <= *a5)
                  {
                    *v36 = 1;
                    v39 = *(v31 + 8 * v32);
                    v40 = *(v30 + 8 * v32);
                    v41 = v27[1];
                    v42 = v27[2];
                    v56 = v31;
                    v57 = v30;
                    if (v41 < v42)
                    {
                      *v41 = v32;
                      *(v41 + 4) = v26;
                      *(v41 + 8) = v36;
                      v33 = v41 + 32;
                      *(v41 + 16) = v40;
                      *(v41 + 24) = v39;
                    }

                    else
                    {
                      v43 = *v27;
                      v44 = v41 - *v27;
                      v45 = v44 >> 5;
                      v46 = (v44 >> 5) + 1;
                      if (v46 >> 59)
                      {
                        sub_10000918C();
                      }

                      v47 = v42 - v43;
                      if (v47 >> 4 > v46)
                      {
                        v46 = v47 >> 4;
                      }

                      if (v47 >= 0x7FFFFFFFFFFFFFE0)
                      {
                        v48 = 0x7FFFFFFFFFFFFFFLL;
                      }

                      else
                      {
                        v48 = v46;
                      }

                      if (v48)
                      {
                        if (!(v48 >> 59))
                        {
                          operator new();
                        }

                        sub_10000927C();
                      }

                      v27 = v53;
                      v49 = 32 * v45;
                      *v49 = v32;
                      *(v49 + 4) = v26;
                      *(v49 + 8) = v36;
                      *(v49 + 16) = v40;
                      *(v49 + 24) = v39;
                      v33 = 32 * v45 + 32;
                      memcpy(0, v43, v44);
                      *v53 = 0;
                      v53[1] = v33;
                      v53[2] = 0;
                      if (v43)
                      {
                        operator delete(v43);
                      }

                      a5 = v51;
                      v6 = v52;
                    }

                    v27[1] = v33;
                    v30 = v57;
                    v34 = *(v57 + 8 * v32);
                    v35 = __sincosf_stret(v34);
                    cosval = cosval + v35.__cosval;
                    sinval = sinval + v35.__sinval;
                    *v6 = sub_100242754(sinval, cosval) * 0.0174532925;
                    v31 = v56;
                  }
                }
              }
            }

            ++v32;
          }

          while (v25 != v32);
        }

        while (v26++ < v54);
        v20 = v27;
        v14 = *v27;
        v13 = v20[1];
        v17 = v50;
      }

      ++v17;
    }

    while (v17 < (v13 - v14) >> 5);
  }
}

void sub_10033123C(uint64_t a1, uint64_t a2, double *a3, double a4, double a5, double a6)
{
  v51[1] = a5;
  v52 = a4;
  v10 = *a2;
  v11 = *(a2 + 8) - *a2;
  if (!v11)
  {
    v50 = 0.0;
    v51[0] = 0.0;
    goto LABEL_14;
  }

  v12 = v11 >> 5;
  v13 = (v11 >> 5) > 1;
  if ((v11 >> 5) <= 1)
  {
    v14 = 1;
  }

  else
  {
    v14 = v11 >> 5;
  }

  if (!v13)
  {
    v15 = 0;
    v16 = 0uLL;
    v17 = 0.0;
LABEL_11:
    v25 = v14 - v15;
    v26 = &v10[4 * v15];
    do
    {
      v27 = v26[3];
      v28 = *v26;
      v26 += 4;
      v29.i64[0] = v28;
      v29.i64[1] = SHIDWORD(v28);
      v16 = vmlaq_n_f64(v16, vcvtq_f64_s64(v29), v27);
      v17 = v17 + v27;
      --v25;
    }

    while (v25);
    goto LABEL_13;
  }

  v15 = v14 & 0xFFFFFFFFFFFFFFFELL;
  v18 = v10 + 4;
  v16 = 0uLL;
  v17 = 0.0;
  v19 = v14 & 0xFFFFFFFFFFFFFFFELL;
  do
  {
    v20 = v18[3];
    v21 = *(v18 - 1);
    v17 = v17 + v21 + v20;
    v22 = *(v18 - 4);
    v23.i64[0] = v22;
    v23.i64[1] = SHIDWORD(v22);
    v24 = vcvtq_f64_s64(v23);
    v23.i64[0] = *v18;
    v23.i64[1] = HIDWORD(*v18);
    v16 = vaddq_f64(vaddq_f64(v16, vmulq_n_f64(v24, v21)), vmulq_n_f64(vcvtq_f64_s64(v23), v20));
    v18 += 8;
    v19 -= 2;
  }

  while (v19);
  if (v12 != v15)
  {
    goto LABEL_11;
  }

LABEL_13:
  v50 = v16.f64[1];
  v51[0] = v16.f64[0];
  if (v17 <= 0.0)
  {
LABEL_14:
    v49[0] = 0;
    v49[1] = 0;
    v30 = sub_1002A80E0(v49, 7);
    *v30 = 544044403;
    *(v30 + 3) = 807419424;
    sub_1002A8980(-215, v49, "region2rect", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 691);
  }

  v31 = v16.f64[0] / v17;
  v32 = v16.f64[1] / v17;
  v50 = v16.f64[1] / v17;
  v51[0] = v16.f64[0] / v17;
  sub_1003323B4(a1, a2, v51, &v50, &v52);
  v34 = v33;
  v35 = __sincos_stret(v33);
  v36 = *(a2 + 8) - *a2;
  if (v36)
  {
    v37 = v36 >> 5;
    if (v37 <= 1)
    {
      v37 = 1;
    }

    v38 = (*a2 + 4);
    v39 = 0.0;
    v40 = 0.0;
    v41 = 0.0;
    v42 = 0.0;
    do
    {
      v43 = *(v38 - 1) - v31;
      v44 = *v38 - v32;
      v45 = v35.__sinval * v44 + v43 * v35.__cosval;
      v46 = v35.__cosval * v44 - v43 * v35.__sinval;
      if (v45 < v39)
      {
        v47 = v45;
      }

      else
      {
        v47 = v39;
      }

      if (v45 <= v40)
      {
        v39 = v47;
      }

      else
      {
        v40 = v45;
      }

      if (v46 > v41)
      {
        v41 = v46;
      }

      else if (v46 < v42)
      {
        v42 = v46;
      }

      v38 += 8;
      --v37;
    }

    while (v37);
    v48 = v41 - v42;
  }

  else
  {
    v40 = 0.0;
    v39 = 0.0;
    v48 = 0.0;
  }

  *a3 = v31 + v39 * v35.__cosval;
  a3[1] = v32 + v39 * v35.__sinval;
  a3[2] = v31 + v40 * v35.__cosval;
  a3[3] = v32 + v40 * v35.__sinval;
  a3[4] = v48;
  a3[5] = v31;
  a3[6] = v32;
  a3[7] = v34;
  a3[8] = v35.__cosval;
  a3[9] = v35.__sinval;
  a3[10] = a5;
  a3[11] = a6;
  if (v48 < 1.0)
  {
    a3[4] = 1.0;
  }
}

void sub_1003314DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  sub_1002A8124(va);
  _Unwind_Resume(a1);
}

BOOL sub_1003314F4(uint64_t a1, int **a2, double *a3, double *a4, double a5, double a6, double a7)
{
  v32 = a5;
  v9 = *a2;
  v10 = a2[1];
  if (((v10 - *a2) >> 5) / (a3[4] * sqrt((a3[3] - a3[1]) * (a3[3] - a3[1]) + (a3[2] - *a3) * (a3[2] - *a3))) >= *a4)
  {
    return 1;
  }

  v14 = *v9;
  if (v10 == v9)
  {
    v24 = a4;
    v21 = 0.0;
    v19 = 0.0;
    v25 = 0.0;
  }

  else
  {
    v15 = 0;
    v16 = 0;
    v17 = v14;
    v18 = SHIDWORD(v14);
    v19 = 0.0;
    v20 = *a2;
    v21 = 0.0;
    do
    {
      **&v20[8 * v15 + 2] = 0;
      v20 = *a2;
      v22 = &(*a2)[8 * v15];
      if (sqrt((*(v22 + 1) - v18) * (*(v22 + 1) - v18) + (*v22 - v17) * (*v22 - v17)) < a3[4])
      {
          ;
        }

        while (i > 3.14159265)
        {
          i = i + -6.28318531;
        }

        v21 = v21 + i;
        v19 = v19 + i * i;
        ++v16;
      }

      ++v15;
    }

    while (v15 < (a2[1] - v20) >> 5);
    v24 = a4;
    v14 = *v20;
    v25 = v16;
  }

  v26 = sqrt((v19 + v21 / v25 * -2.0 * v21) / v25 + v21 / v25 * (v21 / v25));
  v30 = v14;
  v31 = v26 + v26;
  sub_100330E78(a1, &v30, a2, &v32, &v31);
  if ((a2[1] - *a2) < 0x21)
  {
    return 0;
  }

  v28 = v32;
  sub_10033123C(a1, a2, a3, v32, a6, a7);
  v29 = ((a2[1] - *a2) >> 5) / (a3[4] * sqrt((a3[3] - a3[1]) * (a3[3] - a3[1]) + (a3[2] - *a3) * (a3[2] - *a3)));
  return v29 >= *v24 || sub_100332650(a1, a2, a3, v24, v28, a6, a7, v29);
}

double sub_100331780(uint64_t a1, __int128 *a2)
{
  sub_100332810(a1, a2);
  v5 = v4;
  if (v4 <= *(a1 + 552))
  {
    v6 = a2[3];
    v163 = a2[2];
    v164 = v6;
    v7 = a2[5];
    v165 = a2[4];
    v166 = v7;
    v8 = a2[1];
    v161 = *a2;
    v162 = v8;
    v9 = *(&v7 + 1) * 0.5;
    *&v166 = *(&v7 + 1) * 0.5 * 3.14159265;
    *(&v166 + 1) = *(&v7 + 1) * 0.5;
    sub_100332810(a1, &v161);
    if (v10 > v5)
    {
      v11 = v164;
      a2[2] = v163;
      a2[3] = v11;
      v12 = v166;
      a2[4] = v165;
      a2[5] = v12;
      v13 = v162;
      v5 = v10;
      *a2 = v161;
      a2[1] = v13;
    }

    *&v166 = v9 * 0.5 * 3.14159265;
    *(&v166 + 1) = v9 * 0.5;
    sub_100332810(a1, &v161);
    if (v14 > v5)
    {
      v15 = v164;
      a2[2] = v163;
      a2[3] = v15;
      v16 = v166;
      a2[4] = v165;
      a2[5] = v16;
      v17 = v162;
      v5 = v14;
      *a2 = v161;
      a2[1] = v17;
    }

    v18 = v9 * 0.5 * 0.5;
    *&v166 = v18 * 3.14159265;
    *(&v166 + 1) = v18;
    sub_100332810(a1, &v161);
    if (v19 > v5)
    {
      v20 = v164;
      a2[2] = v163;
      a2[3] = v20;
      v21 = v166;
      a2[4] = v165;
      a2[5] = v21;
      v22 = v162;
      v5 = v19;
      *a2 = v161;
      a2[1] = v22;
    }

    v23 = v18 * 0.5;
    *&v166 = v23 * 3.14159265;
    *(&v166 + 1) = v23;
    sub_100332810(a1, &v161);
    if (v24 > v5)
    {
      v25 = v164;
      a2[2] = v163;
      a2[3] = v25;
      v26 = v166;
      a2[4] = v165;
      a2[5] = v26;
      v27 = v162;
      v5 = v24;
      *a2 = v161;
      a2[1] = v27;
    }

    *&v166 = v23 * 0.5 * 3.14159265;
    *(&v166 + 1) = v23 * 0.5;
    sub_100332810(a1, &v161);
    if (v28 > v5)
    {
      v29 = v164;
      a2[2] = v163;
      a2[3] = v29;
      v30 = v166;
      a2[4] = v165;
      a2[5] = v30;
      v31 = v162;
      v5 = v28;
      *a2 = v161;
      a2[1] = v31;
    }

    if (v5 <= *(a1 + 552))
    {
      v32 = a2[3];
      v163 = a2[2];
      v164 = v32;
      v33 = a2[5];
      v165 = a2[4];
      v166 = v33;
      v34 = a2[1];
      v161 = *a2;
      v162 = v34;
      v35 = *&v163 + -0.5;
      if (*&v163 + -0.5 >= 0.5)
      {
        *&v163 = *&v163 + -0.5;
        sub_100332810(a1, &v161);
        if (v36 > v5)
        {
          v37 = v164;
          a2[2] = v163;
          a2[3] = v37;
          v38 = v166;
          a2[4] = v165;
          a2[5] = v38;
          v39 = v162;
          v5 = v36;
          *a2 = v161;
          a2[1] = v39;
        }
      }

      else
      {
        v35 = *&v163;
      }

      v40 = v35 + -0.5;
      if (v35 + -0.5 >= 0.5)
      {
        *&v163 = v35 + -0.5;
        sub_100332810(a1, &v161);
        if (v41 > v5)
        {
          v42 = v164;
          a2[2] = v163;
          a2[3] = v42;
          v43 = v166;
          a2[4] = v165;
          a2[5] = v43;
          v44 = v162;
          v5 = v41;
          *a2 = v161;
          a2[1] = v44;
        }
      }

      else
      {
        v40 = v35;
      }

      v45 = v40 + -0.5;
      if (v40 + -0.5 >= 0.5)
      {
        *&v163 = v40 + -0.5;
        sub_100332810(a1, &v161);
        if (v46 > v5)
        {
          v47 = v164;
          a2[2] = v163;
          a2[3] = v47;
          v48 = v166;
          a2[4] = v165;
          a2[5] = v48;
          v49 = v162;
          v5 = v46;
          *a2 = v161;
          a2[1] = v49;
        }
      }

      else
      {
        v45 = v40;
      }

      v50 = v45 + -0.5;
      if (v45 + -0.5 >= 0.5)
      {
        *&v163 = v45 + -0.5;
        sub_100332810(a1, &v161);
        if (v51 > v5)
        {
          v52 = v164;
          a2[2] = v163;
          a2[3] = v52;
          v53 = v166;
          a2[4] = v165;
          a2[5] = v53;
          v54 = v162;
          v5 = v51;
          *a2 = v161;
          a2[1] = v54;
        }
      }

      else
      {
        v50 = v45;
      }

      if (v50 + -0.5 >= 0.5)
      {
        *&v163 = v50 + -0.5;
        sub_100332810(a1, &v161);
        if (v55 > v5)
        {
          v56 = v164;
          a2[2] = v163;
          a2[3] = v56;
          v57 = v166;
          a2[4] = v165;
          a2[5] = v57;
          v58 = v162;
          v5 = v55;
          *a2 = v161;
          a2[1] = v58;
        }
      }

      if (v5 <= *(a1 + 552))
      {
        v59 = a2[1];
        v161 = *a2;
        v162 = v59;
        v60 = a2[3];
        v163 = a2[2];
        v164 = v60;
        v61 = a2[5];
        v165 = a2[4];
        v166 = v61;
        v62 = *&v165;
        v63 = -*(&v165 + 1);
        v64 = *(&v162 + 1);
        v65 = *(&v161 + 1);
        v66 = *&v161;
        v67 = *&v162;
        v68 = *&v163 + -0.5;
        v159 = -*(&v165 + 1);
        if (*&v163 + -0.5 >= 0.5)
        {
          v66 = *&v161 + v63 * 0.25;
          v65 = *(&v161 + 1) + *&v165 * 0.25;
          *&v161 = v66;
          *(&v161 + 1) = v65;
          v67 = *&v162 + v63 * 0.25;
          v64 = *(&v162 + 1) + *&v165 * 0.25;
          *&v162 = v67;
          *(&v162 + 1) = v64;
          *&v163 = *&v163 + -0.5;
          sub_100332810(a1, &v161);
          if (v86 > v5)
          {
            v87 = v164;
            a2[2] = v163;
            a2[3] = v87;
            v88 = v166;
            a2[4] = v165;
            a2[5] = v88;
            v89 = v162;
            v5 = v86;
            *a2 = v161;
            a2[1] = v89;
          }

          v63 = v159;
          v90 = v68 + -0.5;
          if (v68 + -0.5 >= 0.5)
          {
            v66 = v66 + v159 * 0.25;
            v65 = v65 + v62 * 0.25;
            *&v161 = v66;
            *(&v161 + 1) = v65;
            v67 = v67 + v159 * 0.25;
            v64 = v64 + v62 * 0.25;
            *&v162 = v67;
            *(&v162 + 1) = v64;
            *&v163 = v68 + -0.5;
            sub_100332810(a1, &v161);
            if (v69 > v5)
            {
              v70 = v164;
              a2[2] = v163;
              a2[3] = v70;
              v71 = v166;
              a2[4] = v165;
              a2[5] = v71;
              v72 = v162;
              v5 = v69;
              *a2 = v161;
              a2[1] = v72;
            }

            v63 = v159;
            v73 = -0.5;
            v74 = v90 + -0.5;
            v75 = 0.5;
            if (v90 + -0.5 < 0.5)
            {
LABEL_49:
              v74 = v90;
              v80 = v90 + v73;
              if (v80 < v75)
              {
                goto LABEL_50;
              }

              goto LABEL_41;
            }

LABEL_38:
            v66 = v66 + v63 * 0.25;
            v65 = v65 + v62 * 0.25;
            *&v161 = v66;
            *(&v161 + 1) = v65;
            v67 = v67 + v63 * 0.25;
            v64 = v64 + v62 * 0.25;
            *&v162 = v67;
            *(&v162 + 1) = v64;
            *&v163 = v74;
            sub_100332810(a1, &v161);
            if (v76 > v5)
            {
              v77 = v164;
              a2[2] = v163;
              a2[3] = v77;
              v78 = v166;
              a2[4] = v165;
              a2[5] = v78;
              v79 = v162;
              v5 = v76;
              *a2 = v161;
              a2[1] = v79;
            }

            v63 = v159;
            v80 = v74 + -0.5;
            if (v74 + -0.5 < 0.5)
            {
LABEL_50:
              v85 = v74 + -0.5;
              if (v74 + -0.5 < 0.5)
              {
                goto LABEL_53;
              }

              goto LABEL_51;
            }

LABEL_41:
            v66 = v66 + v63 * 0.25;
            v65 = v65 + v62 * 0.25;
            *&v161 = v66;
            *(&v161 + 1) = v65;
            v67 = v67 + v63 * 0.25;
            v64 = v64 + v62 * 0.25;
            *&v162 = v67;
            *(&v162 + 1) = v64;
            *&v163 = v80;
            sub_100332810(a1, &v161);
            if (v81 > v5)
            {
              v82 = v164;
              a2[2] = v163;
              a2[3] = v82;
              v83 = v166;
              a2[4] = v165;
              a2[5] = v83;
              v84 = v162;
              v5 = v81;
              *a2 = v161;
              a2[1] = v84;
            }

            v63 = v159;
            v85 = v80 + -0.5;
            if (v80 + -0.5 < 0.5)
            {
LABEL_53:
              if (v5 > *(a1 + 552))
              {
                return v5;
              }

              v95 = a2[1];
              v161 = *a2;
              v162 = v95;
              v96 = a2[3];
              v163 = a2[2];
              v164 = v96;
              v97 = a2[5];
              v165 = a2[4];
              v166 = v97;
              v98 = *(&v165 + 1);
              v99 = *(&v162 + 1);
              v100 = -*&v165;
              v101 = *(&v161 + 1);
              v102 = *&v161;
              v103 = *&v162;
              v104 = *&v163 + -0.5;
              v160 = *(&v165 + 1);
              if (*&v163 + -0.5 >= 0.5)
              {
                v102 = *&v161 + *(&v165 + 1) * 0.25;
                v101 = *(&v161 + 1) + v100 * 0.25;
                *&v161 = v102;
                *(&v161 + 1) = v101;
                v103 = *&v162 + *(&v165 + 1) * 0.25;
                v99 = *(&v162 + 1) + v100 * 0.25;
                *&v162 = v103;
                *(&v162 + 1) = v99;
                *&v163 = *&v163 + -0.5;
                sub_100332810(a1, &v161);
                if (v126 > v5)
                {
                  v127 = v164;
                  a2[2] = v163;
                  a2[3] = v127;
                  v128 = v166;
                  a2[4] = v165;
                  a2[5] = v128;
                  v129 = v162;
                  v5 = v126;
                  *a2 = v161;
                  a2[1] = v129;
                }

                v98 = v160;
                v130 = v104 + -0.5;
                if (v104 + -0.5 >= 0.5)
                {
                  v102 = v102 + v160 * 0.25;
                  v101 = v101 + v100 * 0.25;
                  *&v161 = v102;
                  *(&v161 + 1) = v101;
                  v103 = v103 + v160 * 0.25;
                  v99 = v99 + v100 * 0.25;
                  *&v162 = v103;
                  *(&v162 + 1) = v99;
                  *&v163 = v104 + -0.5;
                  sub_100332810(a1, &v161);
                  if (v105 > v5)
                  {
                    v106 = v164;
                    a2[2] = v163;
                    a2[3] = v106;
                    v107 = v166;
                    a2[4] = v165;
                    a2[5] = v107;
                    v108 = v162;
                    v5 = v105;
                    *a2 = v161;
                    a2[1] = v108;
                  }

                  v98 = v160;
                  v109 = -0.5;
                  v110 = v130 + -0.5;
                  v111 = 0.5;
                  if (v130 + -0.5 < 0.5)
                  {
LABEL_71:
                    v110 = v130;
                    v116 = v130 + v109;
                    if (v116 < v111)
                    {
                      goto LABEL_72;
                    }

                    goto LABEL_62;
                  }

LABEL_59:
                  v102 = v102 + v98 * 0.25;
                  v101 = v101 + v100 * 0.25;
                  *&v161 = v102;
                  *(&v161 + 1) = v101;
                  v103 = v103 + v98 * 0.25;
                  v99 = v99 + v100 * 0.25;
                  *&v162 = v103;
                  *(&v162 + 1) = v99;
                  *&v163 = v110;
                  sub_100332810(a1, &v161);
                  if (v112 > v5)
                  {
                    v113 = v164;
                    a2[2] = v163;
                    a2[3] = v113;
                    v114 = v166;
                    a2[4] = v165;
                    a2[5] = v114;
                    v115 = v162;
                    v5 = v112;
                    *a2 = v161;
                    a2[1] = v115;
                  }

                  v98 = v160;
                  v116 = v110 + -0.5;
                  if (v110 + -0.5 < 0.5)
                  {
LABEL_72:
                    v121 = v110 + -0.5;
                    if (v110 + -0.5 < 0.5)
                    {
LABEL_73:
                      if (v5 <= *(a1 + 552))
                      {
                        v131 = a2[3];
                        v163 = a2[2];
                        v164 = v131;
                        v132 = a2[5];
                        v165 = a2[4];
                        v166 = v132;
                        v133 = a2[1];
                        v161 = *a2;
                        v162 = v133;
                        if (*&v163 + -0.5 >= 0.5)
                        {
                          v134 = *(&v166 + 1) * 0.5;
                          *&v166 = *(&v166 + 1) * 0.5 * 3.14159265;
                          *(&v166 + 1) = *(&v166 + 1) * 0.5;
                          sub_100332810(a1, &v161);
                          if (v135 > v5)
                          {
                            v136 = v164;
                            a2[2] = v163;
                            a2[3] = v136;
                            v137 = v166;
                            a2[4] = v165;
                            a2[5] = v137;
                            v138 = v162;
                            v5 = v135;
                            *a2 = v161;
                            a2[1] = v138;
                          }

                          v139 = v134 * 0.5;
                          *&v166 = v139 * 3.14159265;
                          *(&v166 + 1) = v139;
                          sub_100332810(a1, &v161);
                          if (v140 > v5)
                          {
                            v141 = v164;
                            a2[2] = v163;
                            a2[3] = v141;
                            v142 = v166;
                            a2[4] = v165;
                            a2[5] = v142;
                            v143 = v162;
                            v5 = v140;
                            *a2 = v161;
                            a2[1] = v143;
                          }

                          v144 = v139 * 0.5;
                          *&v166 = v144 * 3.14159265;
                          *(&v166 + 1) = v144;
                          sub_100332810(a1, &v161);
                          if (v145 > v5)
                          {
                            v146 = v164;
                            a2[2] = v163;
                            a2[3] = v146;
                            v147 = v166;
                            a2[4] = v165;
                            a2[5] = v147;
                            v148 = v162;
                            v5 = v145;
                            *a2 = v161;
                            a2[1] = v148;
                          }

                          v149 = v144 * 0.5;
                          *&v166 = v149 * 3.14159265;
                          *(&v166 + 1) = v149;
                          sub_100332810(a1, &v161);
                          if (v150 > v5)
                          {
                            v151 = v164;
                            a2[2] = v163;
                            a2[3] = v151;
                            v152 = v166;
                            a2[4] = v165;
                            a2[5] = v152;
                            v153 = v162;
                            v5 = v150;
                            *a2 = v161;
                            a2[1] = v153;
                          }

                          *&v166 = v149 * 0.5 * 3.14159265;
                          *(&v166 + 1) = v149 * 0.5;
                          sub_100332810(a1, &v161);
                          if (v154 > v5)
                          {
                            v155 = v164;
                            a2[2] = v163;
                            a2[3] = v155;
                            v156 = v166;
                            a2[4] = v165;
                            a2[5] = v156;
                            v157 = v162;
                            v5 = v154;
                            *a2 = v161;
                            a2[1] = v157;
                          }
                        }
                      }

                      return v5;
                    }

LABEL_65:
                    *&v161 = v102 + v98 * 0.25;
                    *(&v161 + 1) = v101 + v100 * 0.25;
                    *&v162 = v103 + v98 * 0.25;
                    *(&v162 + 1) = v99 + v100 * 0.25;
                    *&v163 = v121;
                    sub_100332810(a1, &v161);
                    if (v122 > v5)
                    {
                      v123 = v164;
                      a2[2] = v163;
                      a2[3] = v123;
                      v124 = v166;
                      a2[4] = v165;
                      a2[5] = v124;
                      v125 = v162;
                      v5 = v122;
                      *a2 = v161;
                      a2[1] = v125;
                    }

                    goto LABEL_73;
                  }

LABEL_62:
                  v102 = v102 + v98 * 0.25;
                  v101 = v101 + v100 * 0.25;
                  *&v161 = v102;
                  *(&v161 + 1) = v101;
                  v103 = v103 + v98 * 0.25;
                  v99 = v99 + v100 * 0.25;
                  *&v162 = v103;
                  *(&v162 + 1) = v99;
                  *&v163 = v116;
                  sub_100332810(a1, &v161);
                  if (v117 > v5)
                  {
                    v118 = v164;
                    a2[2] = v163;
                    a2[3] = v118;
                    v119 = v166;
                    a2[4] = v165;
                    a2[5] = v119;
                    v120 = v162;
                    v5 = v117;
                    *a2 = v161;
                    a2[1] = v120;
                  }

                  v98 = v160;
                  v121 = v116 + -0.5;
                  if (v116 + -0.5 < 0.5)
                  {
                    goto LABEL_73;
                  }

                  goto LABEL_65;
                }
              }

              else
              {
                v104 = *&v163;
              }

              v130 = v104;
              v109 = -0.5;
              v110 = v104 + -0.5;
              v111 = 0.5;
              if (v110 < 0.5)
              {
                goto LABEL_71;
              }

              goto LABEL_59;
            }

LABEL_51:
            *&v161 = v66 + v63 * 0.25;
            *(&v161 + 1) = v65 + v62 * 0.25;
            *&v162 = v67 + v63 * 0.25;
            *(&v162 + 1) = v64 + v62 * 0.25;
            *&v163 = v85;
            sub_100332810(a1, &v161);
            if (v91 > v5)
            {
              v92 = v164;
              a2[2] = v163;
              a2[3] = v92;
              v93 = v166;
              a2[4] = v165;
              a2[5] = v93;
              v94 = v162;
              v5 = v91;
              *a2 = v161;
              a2[1] = v94;
            }

            goto LABEL_53;
          }
        }

        else
        {
          v68 = *&v163;
        }

        v90 = v68;
        v73 = -0.5;
        v74 = v68 + -0.5;
        v75 = 0.5;
        if (v74 < 0.5)
        {
          goto LABEL_49;
        }

        goto LABEL_38;
      }
    }
  }

  return v5;
}

void sub_10033217C(uint64_t a1, void *a2)
{
  v4 = *(a1 + 8);
  v3 = *(a1 + 16);
  if (v4 < v3)
  {
    *v4 = *a2;
    v5 = (v4 + 1);
LABEL_3:
    *(a1 + 8) = v5;
    return;
  }

  v6 = *a1;
  v7 = v4 - *a1;
  v8 = v7 >> 3;
  v9 = (v7 >> 3) + 1;
  if (v9 >> 61)
  {
    sub_10000918C();
  }

  v10 = v3 - v6;
  if (v10 >> 2 > v9)
  {
    v9 = v10 >> 2;
  }

  if (v10 >= 0x7FFFFFFFFFFFFFF8)
  {
    v11 = 0x1FFFFFFFFFFFFFFFLL;
  }

  else
  {
    v11 = v9;
  }

  if (v11)
  {
    if (!(v11 >> 61))
    {
      operator new();
    }

    sub_10000927C();
  }

  *(8 * v8) = *a2;
  v5 = 8 * v8 + 8;
  memcpy(0, v6, v7);
  *a1 = 0;
  *(a1 + 8) = v5;
  *(a1 + 16) = 0;
  if (!v6)
  {
    goto LABEL_3;
  }

  operator delete(v6);
  *(a1 + 8) = v5;
}

void sub_100332294(uint64_t a1, _OWORD *a2)
{
  v3 = *(a1 + 8);
  v4 = *(a1 + 16);
  if (v3 < v4)
  {
    v5 = a2[1];
    *v3 = *a2;
    v3[1] = v5;
    v6 = (v3 + 2);
LABEL_3:
    *(a1 + 8) = v6;
    return;
  }

  v7 = *a1;
  v8 = v3 - *a1;
  v9 = v8 >> 5;
  v10 = (v8 >> 5) + 1;
  if (v10 >> 59)
  {
    sub_10000918C();
  }

  v11 = v4 - v7;
  if (v11 >> 4 > v10)
  {
    v10 = v11 >> 4;
  }

  if (v11 >= 0x7FFFFFFFFFFFFFE0)
  {
    v12 = 0x7FFFFFFFFFFFFFFLL;
  }

  else
  {
    v12 = v10;
  }

  if (v12)
  {
    if (!(v12 >> 59))
    {
      operator new();
    }

    sub_10000927C();
  }

  v13 = (32 * v9);
  v14 = a2[1];
  *v13 = *a2;
  v13[1] = v14;
  v6 = 32 * v9 + 32;
  memcpy(0, v7, v8);
  *a1 = 0;
  *(a1 + 8) = v6;
  *(a1 + 16) = 0;
  if (!v7)
  {
    goto LABEL_3;
  }

  operator delete(v7);
  *(a1 + 8) = v6;
}

void sub_1003323B4(uint64_t a1, double **a2, double *a3, double *a4, double *a5)
{
  v5 = *a2;
  v6 = a2[1] - *a2;
  if (!v6)
  {
    goto LABEL_18;
  }

  v7 = v6 >> 5;
  if (v7 <= 1)
  {
    v7 = 1;
  }

  v8 = 0.0;
  v9 = 0.0;
  v10 = 0.0;
  do
  {
    v11 = *v5 - *a3;
    v12 = *(v5 + 1) - *a4;
    v13 = v5[3];
    v8 = v8 + v12 * v12 * v13;
    v9 = v9 + v11 * v11 * v13;
    v10 = v10 + -(v11 * v12) * v13;
    v5 += 4;
    --v7;
  }

  while (v7);
  if (v8 == 0.0)
  {
    goto LABEL_17;
  }

  v14 = fabs(v8);
  v15 = fmax(v14, 0.0);
  if (v15 < 2.22507386e-308)
  {
    v15 = 2.22507386e-308;
  }

  if (v14 / v15 <= 2.22044605e-14)
  {
LABEL_17:
    if (v9 == 0.0)
    {
      goto LABEL_31;
    }

    v16 = fabs(v9);
    v17 = fmax(v16, 0.0);
    if (v17 < 2.22507386e-308)
    {
      v17 = 2.22507386e-308;
    }

    if (v16 / v17 <= 2.22044605e-14)
    {
LABEL_31:
      if (v10 == 0.0)
      {
        goto LABEL_18;
      }

      v18 = fabs(v10);
      v19 = fmax(v18, 0.0);
      if (v19 < 2.22507386e-308)
      {
        v19 = 2.22507386e-308;
      }

      if (v18 / v19 <= 2.22044605e-14)
      {
LABEL_18:
        v30[0] = 0;
        v30[1] = 0;
        qmemcpy(sub_1002A80E0(v30, 71), "!(double_equal(Ixx, 0) && double_equal(Iyy, 0) && double_equal(Ixy, 0))", 71);
        sub_1002A8980(-215, v30, "get_theta", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 756);
      }
    }
  }

  v20 = (v9 + v8 - sqrt(v10 * (v10 * 4.0) + (v8 - v9) * (v8 - v9))) * 0.5;
  v21 = fabs(v8);
  v22 = fabs(v9);
  v23 = v20 - v9;
  v24 = v20 - v8;
  v25 = v21 <= v22;
  if (v21 <= v22)
  {
    v26 = v23;
  }

  else
  {
    v26 = v10;
  }

  if (v25)
  {
    v24 = v10;
  }

  v27 = v24;
  v28 = v26;
    ;
  }

    ;
  }
}

BOOL sub_100332650(uint64_t a1, int **a2, double *a3, double *a4, double a5, double a6, double a7, double a8)
{
  if (*a4 <= a8)
  {
    return 1;
  }

  v15 = *a2;
  v16 = a2[1];
  v17 = **a2;
  v18 = (*a2)[1];
  v19 = (a3[3] - v18) * (a3[3] - v18);
  if ((a3[1] - v18) * (a3[1] - v18) + (*a3 - v17) * (*a3 - v17) <= v19 + (a3[2] - v17) * (a3[2] - v17))
  {
    v20 = v19 + (a3[2] - v17) * (a3[2] - v17);
  }

  else
  {
    v20 = (a3[1] - v18) * (a3[1] - v18) + (*a3 - v17) * (*a3 - v17);
  }

  while (1)
  {
    v20 = v20 * 0.5625;
    if (v16 == v15)
    {
      v22 = (v16 - v15) >> 5;
    }

    else
    {
      v21 = 0;
      do
      {
        v23 = (v15 + 32 * v21);
        if ((v23[1] - v18) * (v23[1] - v18) + (*v23 - v17) * (*v23 - v17) > v20)
        {
          **(v23 + 1) = 0;
          v24 = a2[1];
          v25 = &(*a2)[8 * v21];
          v27 = *v25;
          v26 = *(v25 + 1);
          v28 = *(v24 - 1);
          *v25 = *(v24 - 2);
          *(v25 + 1) = v28;
          *(v24 - 2) = v27;
          *(v24 - 1) = v26;
          v15 = *a2;
          v16 = (a2[1] - 8);
          a2[1] = v16;
          --v21;
        }

        ++v21;
        v22 = (v16 - v15) >> 5;
      }

      while (v21 < v22);
    }

    result = v22 > 1;
    if (v22 <= 1)
    {
      break;
    }

    sub_10033123C(a1, a2, a3, a5, a6, a7);
    v15 = *a2;
    v16 = a2[1];
    if (((v16 - *a2) >> 5) / (a3[4] * sqrt((a3[3] - a3[1]) * (a3[3] - a3[1]) + (a3[2] - *a3) * (a3[2] - *a3))) >= *a4)
    {
      return 1;
    }
  }

  return result;
}

void sub_100332810(uint64_t a1, uint64_t a2)
{
  v60 = 0;
  v4 = *(a2 + 24);
  v5 = *(a2 + 32) * 0.5;
  v6 = *(a2 + 72) * v5;
  v7 = v5 * *(a2 + 64);
  v8 = *a2;
  v9 = *(a2 + 8);
  v61 = (*a2 - v6);
  v62 = (v7 + v9);
  v63 = 0;
  v10 = *(a2 + 16);
  v64 = (v10 - v6);
  v65 = (v7 + v4);
  v66 = 0;
  v67 = (v6 + v10);
  v68 = (v4 - v7);
  v69 = 0;
  v70 = (v6 + v8);
  v71 = (v9 - v7);
  v72 = 0;
  v58 = sub_100332F40;
  sub_100334EB8(&v61, &v73, &v58, 4, 1);
  v11 = &v67;
  v12 = &v70;
  v13 = &v72;
  v14 = v62;
  v15 = v65;
  v16 = 12;
  if (v62 <= v65)
  {
    v16 = 0;
  }

  if (v62 >= v65)
  {
    v17 = v65;
  }

  else
  {
    v17 = v62;
  }

  v18 = 4;
  if (v62 < v65)
  {
    v19 = 4;
  }

  else
  {
    v19 = 16;
  }

  v20 = v68;
  if (v62 < v65)
  {
    v21 = v65;
  }

  else
  {
    v21 = v62;
  }

  if (v62 < v65)
  {
    v18 = 16;
  }

  v22 = 8;
  if (v62 >= v65)
  {
    v22 = 20;
  }

  v57 = v21;
  if (v21 < v68)
  {
    v18 = 28;
  }

  if (v17 > v68)
  {
    v16 = 24;
    v19 = 28;
  }

  v23 = *(&v61 + v19);
  v24 = v71;
  if (v17 > v68)
  {
    v22 = 32;
  }

  v54 = *(&v61 + v18);
  v55 = v71;
  if (v23 > v71)
  {
    v16 = 36;
  }

  v56 = v16;
  if (v23 <= v71)
  {
    v13 = &v61 + v22;
  }

  *v13 = 1;
  if ((v63 & 1) == 0)
  {
    v25 = &v61;
    if ((v66 & 1) == 0 && v61 > v64)
    {
      v25 = &v64;
    }

    goto LABEL_34;
  }

  v25 = &v64;
  if ((v66 & 1) == 0)
  {
LABEL_34:
    if ((v69 & 1) == 0 && *v25 > v67)
    {
      v25 = &v67;
    }

    goto LABEL_37;
  }

  v25 = &v67;
  if (v69)
  {
    v25 = &v70;
    if (v72)
    {
      v58 = 0;
      v59 = 0;
      v26 = sub_1002A80E0(&v58, 18);
      *(v26 + 16) = 27756;
      *v26 = *"leftmost != __null";
      sub_1002A8980(-215, &v58, "rect_nfa", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 1006);
    }

    goto LABEL_40;
  }

LABEL_37:
  if ((v72 & 1) == 0 && *v25 > v70)
  {
    v25 = &v70;
  }

LABEL_40:
  *(v25 + 8) = 1;
  if ((v63 & 1) == 0)
  {
    v27 = &v61;
    if ((v66 & 1) == 0 && v61 < v64)
    {
      v27 = &v64;
    }

    goto LABEL_48;
  }

  v27 = &v64;
  if ((v66 & 1) == 0)
  {
LABEL_48:
    if ((v69 & 1) == 0 && *v27 < v67)
    {
      v27 = &v67;
    }

    goto LABEL_51;
  }

  v27 = &v67;
  if (v69)
  {
    v27 = &v70;
    if (v72)
    {
      v58 = 0;
      v59 = 0;
      v28 = sub_1002A80E0(&v58, 19);
      *(v28 + 15) = 1819047278;
      *v28 = *"rightmost != __null";
      sub_1002A8980(-215, &v58, "rect_nfa", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 1025);
    }

    goto LABEL_54;
  }

LABEL_51:
  if ((v72 & 1) == 0 && *v27 < v70)
  {
    v27 = &v70;
  }

LABEL_54:
  *(v27 + 8) = 1;
  if (v63)
  {
    v29 = &v64;
    if (v66)
    {
      if (v69)
      {
        if (v72)
        {
          v58 = 0;
          v59 = 0;
          qmemcpy(sub_1002A80E0(&v58, 15), "tailp != __null", 15);
          sub_1002A8980(-215, &v58, "rect_nfa", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 1044);
        }

        goto LABEL_71;
      }

      goto LABEL_64;
    }
  }

  else
  {
    v29 = &v61;
    if ((v66 & 1) == 0 && v61 > v64)
    {
      v29 = &v64;
    }
  }

  if ((v69 & 1) == 0)
  {
    if (*v29 <= v67)
    {
      v11 = v29;
    }

    if (v72)
    {
      goto LABEL_65;
    }

    goto LABEL_69;
  }

  v11 = v29;
LABEL_64:
  if (v72)
  {
LABEL_65:
    v12 = v11;
    goto LABEL_71;
  }

LABEL_69:
  if (*v11 <= v70)
  {
    v12 = v11;
  }

LABEL_71:
  *(v12 + 8) = 1;
  v30 = 4;
  if (v14 > v15)
  {
    v30 = 16;
  }

  if (v17 > v20)
  {
    v30 = 28;
  }

  v31 = (&v61 + v30);
  if (v23 > v24)
  {
    v31 = &v71;
  }

  v32 = *v31;
  v33 = v25[1];
  v34 = 0.0;
  v35 = 0.0;
  if (v32 == v33)
  {
    v36 = *v12;
    v37 = v33 - *v12;
    if (v33 == *v12)
    {
      goto LABEL_79;
    }
  }

  else
  {
    v35 = ((*(&v61 + v56) - *v25) / (v32 - v33));
    v36 = *v12;
    v37 = v33 - *v12;
    if (v33 == *v12)
    {
LABEL_79:
      v38 = v27[1];
      v39 = 0.0;
      v40 = 0.0;
      v41 = v32 - v38;
      if (v32 == v38)
      {
        goto LABEL_80;
      }

      goto LABEL_92;
    }
  }

  v34 = ((*v25 - v36) / v37);
  v38 = v27[1];
  v39 = 0.0;
  v40 = 0.0;
  v41 = v32 - v38;
  if (v32 == v38)
  {
LABEL_80:
    v42 = v38 - v36;
    if (v38 == v36)
    {
      goto LABEL_82;
    }

    goto LABEL_81;
  }

LABEL_92:
  v40 = ((*(&v61 + v56) - *v27) / v41);
  v42 = v38 - v36;
  if (v38 != v36)
  {
LABEL_81:
    v39 = ((*v27 - v36) / v42);
  }

LABEL_82:
  v43 = 4;
  if (v14 < v15)
  {
    v43 = 16;
  }

  if (v57 < v20)
  {
    v43 = 28;
  }

  v44 = (&v61 + v43);
  if (v54 < v55)
  {
    v44 = &v71;
  }

  v45 = *v44;
  v47 = v60;
  v46 = HIDWORD(v60);
  if (v32 <= v45)
  {
    v48 = *(&v61 + v56);
    v49 = v48;
    do
    {
      if ((v32 & 0x80000000) == 0 && v32 < *(a1 + 492))
      {
        v51 = v49;
        if (v49 <= v48)
        {
          do
          {
            if ((v51 & 0x80000000) == 0 && v51 < *(a1 + 488))
            {
              ++v46;
              if (((v51 | v32) & 0x80000000) == 0 && *(a1 + 212) > v51 && *(a1 + 208) > v32)
              {
                v52 = *(*(a1 + 216) + **(a1 + 272) * v32 + 8 * v51);
                if (v52 != -1024.0)
                {
                  v53 = *(a2 + 56) - v52;
                  if (v53 < 0.0)
                  {
                    v53 = -v53;
                  }

                  if (v53 > 4.71238898)
                  {
                    v53 = v53 + -6.28318531;
                    if (v53 < 0.0)
                    {
                      v53 = -v53;
                    }
                  }

                  if (v53 <= *(a2 + 80))
                  {
                    ++v47;
                  }
                }
              }
            }

            ++v51;
          }

          while (v48 + 1 != v51);
        }

        if (v32 >= v33)
        {
          v35 = v34;
        }

        if (v32 >= v38)
        {
          v40 = v39;
        }

        v49 = v49 + v35;
        v48 = v48 + v40;
      }
    }

    while (v32++ != v45);
  }

  v60 = __PAIR64__(v46, v47);
  sub_100332F60(a1, &v60 + 1, &v60, (a2 + 88));
}

void sub_100332EE0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, char a15)
{
  if (a2)
  {
    sub_100008E3C(exception_object);
  }

  _Unwind_Resume(exception_object);
}

BOOL sub_100332F40(_DWORD *a1, _DWORD *a2)
{
  if (*a1 == *a2)
  {
    return a1[1] < a2[1];
  }

  else
  {
    return *a1 < *a2;
  }
}

void sub_100332F60(uint64_t a1, int *a2, int *a3, long double *a4)
{
  v5 = *a2;
  if (*a2)
  {
    v6 = *a3;
    if (*a3)
    {
      v7 = v5 - v6;
      if (v5 == v6)
      {
        log10(*a4);
      }

      else
      {
        v8 = *a4;
        v9 = v6 + 1.0;
        if (v9 <= 15.0)
        {
          v14 = -(v9 + 5.5 - (v9 + 0.5) * log(v9 + 5.5));
          v15 = v14 - log(v6 + 1.0);
          v16 = *&qword_1004B10B8 + 0.0;
          v17 = v15 - log(v9 + 1.0);
          v18 = v16 + *&qword_1004B10C0 * v9;
          v19 = v17 - log(v9 + 2.0);
          v20 = v18 + *&qword_1004B10C8 * (v9 * v9);
          v21 = v19 - log(v9 + 3.0);
          v22 = *&qword_1004B10D0;
          v23 = v20 + v22 * pow(v6 + 1.0, 3.0);
          v24 = v21 - log(v9 + 4.0);
          v25 = *&qword_1004B10D8;
          v26 = v23 + v25 * pow(v6 + 1.0, 4.0);
          v27 = v24 - log(v9 + 5.0);
          v28 = *&qword_1004B10E0;
          v29 = v26 + v28 * pow(v6 + 1.0, 5.0);
          v30 = v27 - log(v9 + 6.0);
          v31 = *&qword_1004B10E8;
          v32 = pow(v6 + 1.0, 6.0);
          v13 = v30 + log(v29 + v31 * v32);
        }

        else
        {
          v10 = (v9 + -0.5) * log(v6 + 1.0) + 0.918938533 - v9;
          v11 = sinh(1.0 / v9);
          v12 = pow(v6 + 1.0, 6.0);
          v13 = v10 + v9 * 0.5 * log(1.0 / (v12 * 810.0) + v9 * v11);
        }

        v33 = 1.0 - v8;
        v72 = v5 + 1.0 - v13;
        v34 = v7;
        v35 = v7 + 1.0;
        if (v35 <= 15.0)
        {
          v40 = -(v35 + 5.5 - (v35 + 0.5) * log(v35 + 5.5));
          v41 = v40 - log(v7 + 1.0);
          v42 = *&qword_1004B10B8 + 0.0;
          v43 = v41 - log(v35 + 1.0);
          v44 = v42 + *&qword_1004B10C0 * v35;
          v45 = v43 - log(v35 + 2.0);
          v46 = v44 + *&qword_1004B10C8 * (v35 * v35);
          v47 = v45 - log(v35 + 3.0);
          v48 = *&qword_1004B10D0;
          v49 = v46 + v48 * pow(v7 + 1.0, 3.0);
          v50 = v47 - log(v35 + 4.0);
          v51 = *&qword_1004B10D8;
          v52 = v49 + v51 * pow(v7 + 1.0, 4.0);
          v53 = v50 - log(v35 + 5.0);
          v54 = *&qword_1004B10E0;
          v55 = v52 + v54 * pow(v7 + 1.0, 5.0);
          v56 = v53 - log(v35 + 6.0);
          v57 = *&qword_1004B10E8;
          v58 = pow(v7 + 1.0, 6.0);
          v39 = v56 + log(v55 + v57 * v58);
        }

        else
        {
          v36 = (v35 + -0.5) * log(v7 + 1.0) + 0.918938533 - v35;
          v37 = sinh(1.0 / v35);
          v38 = pow(v7 + 1.0, 6.0);
          v39 = v36 + v35 * 0.5 * log(1.0 / (v38 * 810.0) + v35 * v37);
          v33 = 1.0 - v8;
          v34 = v7;
        }

        v59 = v72 - v39 + v6 * log(v8);
        v60 = v59 + v34 * log(v33);
        v61 = exp(v60);
        if (v61 != 0.0)
        {
          v62 = v61;
          v63 = fabs(v61);
          v64 = fmax(v63, 0.0);
          if (v64 < 2.22507386e-308)
          {
            v64 = 2.22507386e-308;
          }

          if (v63 / v64 > 2.22044605e-14)
          {
            v65 = v5 - v6;
            if (v5 > v6)
            {
              v66 = v6 + 1;
              v67 = v62;
              v68 = v8 / v33;
              while (1)
              {
                v69 = v65 / v66;
                v67 = v67 * (v68 * v69);
                v62 = v62 + v67;
                if (v69 >= 1.0)
                {
                  if (v66 >= v5)
                  {
                    break;
                  }
                }

                else
                {
                  v70 = v67 * ((1.0 - pow(v68 * v69, v65)) / (1.0 - v68 * v69) + -1.0);
                  if (v70 < v62 * (vabdd_f64(-log10(v62), *(a1 + 496)) * 0.1) || v66 >= v5)
                  {
                    break;
                  }
                }

                --v65;
                ++v66;
              }
            }

            log10(v62);
          }
        }
      }
    }
  }
}

void sub_100333458(uint64_t a1, int *a2, uint64_t a3)
{
  sub_1002ACE7C(v34, &off_10047A138);
  if (sub_1002743D4(a2) || sub_1002743B4(a2, -1) != 1 && sub_1002743B4(a2, -1) != 3)
  {
    *v30 = 0uLL;
    qmemcpy(sub_1002A80E0(v30, 69), "!_image.empty() && (_image.channels() == 1 || _image.channels() == 3)", 69);
    sub_1002A8980(-215, v30, "drawSegments", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 1150);
  }

  if (sub_1002743B4(a2, -1) == 1)
  {
    sub_1002D2388(a2, a2, 8u, 0);
  }

  *v30 = 1124007936;
  memset(&v30[4], 0, 60);
  v31 = &v30[8];
  v32 = v33;
  v33[0] = 0;
  v33[1] = 0;
  if (sub_100271148(a3) != 0x10000)
  {
    sub_1002703C0(a3, -1, v26);
    goto LABEL_14;
  }

  v5 = *(a3 + 8);
  v6 = *v5;
  v7 = *(v5 + 16);
  *v26 = *v5;
  *&v26[16] = v7;
  *&v26[32] = *(v5 + 32);
  v8 = *(v5 + 56);
  *&v26[48] = *(v5 + 48);
  *&v26[56] = v8;
  v27 = &v26[8];
  v28 = v29;
  v29[0] = 0;
  v29[1] = 0;
  if (!v8)
  {
    if (SDWORD1(v6) <= 2)
    {
      goto LABEL_10;
    }

LABEL_13:
    *&v26[4] = 0;
    sub_100269B58(v26, v5);
    goto LABEL_14;
  }

  atomic_fetch_add((v8 + 20), 1u);
  if (*(v5 + 4) > 2)
  {
    goto LABEL_13;
  }

LABEL_10:
  v9 = *(v5 + 72);
  v10 = v28;
  *v28 = *v9;
  v10[1] = v9[1];
LABEL_14:
  if (*&v30[56] && atomic_fetch_add((*&v30[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v30);
  }

  if (*&v30[4] >= 1)
  {
    v11 = 0;
    v12 = v31;
    do
    {
      v12[v11++] = 0;
    }

    while (v11 < *&v30[4]);
  }

  *v30 = *v26;
  *&v30[16] = *&v26[16];
  *&v30[32] = *&v26[32];
  *&v30[48] = *&v26[48];
  v13 = v32;
  if (v32 == v33)
  {
    v14 = v28;
    if (*&v26[4] <= 2)
    {
      goto LABEL_22;
    }
  }

  else
  {
    j__free(v32);
    v31 = &v30[8];
    v32 = v33;
    v13 = v33;
    v14 = v28;
    if (*&v26[4] <= 2)
    {
LABEL_22:
      *v13 = *v14;
      v13[1] = v14[1];
      goto LABEL_25;
    }
  }

  v31 = v27;
  v32 = v14;
  v27 = &v26[8];
  v28 = v29;
LABEL_25:
  *v26 = 1124007936;
  memset(&v26[4], 0, 60);
  if (v28 != v29)
  {
    j__free(v28);
  }

  v15 = sub_10026F620(v30, 4, -1, 1);
  if (v15 >= 1)
  {
    v16 = 0;
    v17 = v15;
    do
    {
      if ((v30[1] & 0x40) != 0 || *v31 == 1)
      {
        v18 = *&v30[16] + 16 * v16;
      }

      else if (v31[1] == 1)
      {
        v18 = *&v30[16] + *v32 * v16;
      }

      else
      {
        v18 = *&v30[16] + *v32 * (v16 / *&v30[12]) + 16 * (v16 % *&v30[12]);
      }

      v19 = *(v18 + 4);
      v20 = *(v18 + 8);
      v21 = *(v18 + 12);
      LODWORD(v25) = rintf(*v18);
      HIDWORD(v25) = rintf(v19);
      LODWORD(v24) = rintf(v20);
      HIDWORD(v24) = rintf(v21);
      *v26 = 0uLL;
      *&v26[16] = xmmword_1003E98A0;
      sub_1002FCC3C(a2, &v25, &v24, v26, 1u, 8, 0);
      ++v16;
    }

    while (v16 != v17);
  }

  if (*&v30[56] && atomic_fetch_add((*&v30[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v30);
  }

  *&v30[56] = 0;
  memset(&v30[16], 0, 32);
  if (*&v30[4] >= 1)
  {
    v22 = 0;
    v23 = v31;
    do
    {
      v23[v22++] = 0;
    }

    while (v22 < *&v30[4]);
  }

  if (v32 != v33)
  {
    j__free(v32);
  }

  if (v35)
  {
    sub_1002ACC1C(v34);
  }
}

void sub_1003338C0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  sub_1002A8124(va);
  sub_1001D8BF4(v17 - 64);
  _Unwind_Resume(a1);
}

uint64_t sub_100333934(uint64_t a1, int32x2_t *a2, uint64_t a3, uint64_t a4, int *a5)
{
  sub_1002ACE7C(v132, &off_10047A158);
  v87 = *a2;
  if (sub_1002769C0(a5) && (sub_100271154(a5, 0xFFFFFFFF, v118), *v118 != *a2))
  {
    sub_100271154(a5, 0xFFFFFFFF, v118);
    v87 = *v118;
    v9 = *v118;
    if (!vmul_lane_s32(v9, v9, 1).u32[0])
    {
LABEL_4:
      *v118 = 0uLL;
      v10 = sub_1002A80E0(v118, 9);
      *(v10 + 8) = 41;
      *v10 = *"sz.area()";
      sub_1002A8980(-215, v118, "compareSegments", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 1178);
    }
  }

  else
  {
    v9 = v87;
    if (!vmul_lane_s32(v9, v9, 1).u32[0])
    {
      goto LABEL_4;
    }
  }

  v111 = v9;
  sub_100266EA8(&v111, 0, v118);
  sub_100335F84(v122, v118);
  sub_100008E50(v118);
  *v107 = v87;
  sub_100266EA8(v107, 0, v118);
  sub_100335F84(&v111, v118);
  sub_100008E50(v118);
  *v118 = 1124007936;
  memset(&v118[4], 0, 60);
  v119 = &v118[8];
  v120 = v121;
  v121[1] = 0;
  v121[0] = 0;
  *v107 = 1124007936;
  memset(&v107[4], 0, 60);
  v108 = &v107[8];
  v109 = v110;
  v110[0] = 0;
  v110[1] = 0;
  if (sub_100271148(a3) != 0x10000)
  {
    sub_1002703C0(a3, -1, v102);
    goto LABEL_13;
  }

  v11 = *(a3 + 8);
  v12 = *v11;
  v13 = *(v11 + 16);
  *v102 = *v11;
  *&v102[16] = v13;
  *&v102[32] = *(v11 + 32);
  v14 = *(v11 + 56);
  *&v102[48] = *(v11 + 48);
  *&v102[56] = v14;
  v103 = &v102[8];
  v104 = &v105;
  v105 = 0;
  v106 = 0;
  if (!v14)
  {
    if (SDWORD1(v12) <= 2)
    {
      goto LABEL_9;
    }

LABEL_12:
    *&v102[4] = 0;
    sub_100269B58(v102, v11);
    goto LABEL_13;
  }

  atomic_fetch_add((v14 + 20), 1u);
  if (*(v11 + 4) > 2)
  {
    goto LABEL_12;
  }

LABEL_9:
  v15 = *(v11 + 72);
  v16 = v104;
  *v104 = *v15;
  v16[1] = v15[1];
LABEL_13:
  if (*&v118[56] && atomic_fetch_add((*&v118[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v118);
  }

  if (*&v118[4] >= 1)
  {
    v17 = 0;
    v18 = v119;
    do
    {
      v18[v17++] = 0;
    }

    while (v17 < *&v118[4]);
  }

  *v118 = *v102;
  *&v118[16] = *&v102[16];
  *&v118[32] = *&v102[32];
  *&v118[48] = *&v102[48];
  v19 = v120;
  if (v120 == v121)
  {
    v20 = v104;
    if (*&v102[4] <= 2)
    {
      goto LABEL_21;
    }
  }

  else
  {
    j__free(v120);
    v120 = v121;
    v119 = &v118[8];
    v19 = v121;
    v20 = v104;
    if (*&v102[4] <= 2)
    {
LABEL_21:
      *v19 = *v20;
      v19[1] = v20[1];
      goto LABEL_24;
    }
  }

  v120 = v20;
  v119 = v103;
  v103 = &v102[8];
  v104 = &v105;
LABEL_24:
  *v102 = 1124007936;
  memset(&v102[4], 0, 60);
  if (v104 != &v105)
  {
    j__free(v104);
  }

  if (sub_100271148(a4) != 0x10000)
  {
    sub_1002703C0(a4, -1, v102);
    goto LABEL_33;
  }

  v21 = *(a4 + 8);
  v22 = *v21;
  v23 = *(v21 + 16);
  *v102 = *v21;
  *&v102[16] = v23;
  *&v102[32] = *(v21 + 32);
  v24 = *(v21 + 56);
  *&v102[48] = *(v21 + 48);
  *&v102[56] = v24;
  v103 = &v102[8];
  v104 = &v105;
  v105 = 0;
  v106 = 0;
  if (!v24)
  {
    if (SDWORD1(v22) <= 2)
    {
      goto LABEL_29;
    }

LABEL_32:
    *&v102[4] = 0;
    sub_100269B58(v102, v21);
    goto LABEL_33;
  }

  atomic_fetch_add((v24 + 20), 1u);
  if (*(v21 + 4) > 2)
  {
    goto LABEL_32;
  }

LABEL_29:
  v25 = *(v21 + 72);
  v26 = v104;
  *v104 = *v25;
  v26[1] = v25[1];
LABEL_33:
  if (*&v107[56] && atomic_fetch_add((*&v107[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v107);
  }

  if (*&v107[4] >= 1)
  {
    v27 = 0;
    v28 = v108;
    do
    {
      v28[v27++] = 0;
    }

    while (v27 < *&v107[4]);
  }

  *v107 = *v102;
  *&v107[16] = *&v102[16];
  *&v107[32] = *&v102[32];
  *&v107[48] = *&v102[48];
  v29 = v109;
  if (v109 == v110)
  {
    v30 = v104;
    if (*&v102[4] <= 2)
    {
      goto LABEL_41;
    }
  }

  else
  {
    j__free(v109);
    v108 = &v107[8];
    v109 = v110;
    v29 = v110;
    v30 = v104;
    if (*&v102[4] <= 2)
    {
LABEL_41:
      *v29 = *v30;
      v29[1] = v30[1];
      goto LABEL_44;
    }
  }

  v108 = v103;
  v109 = v30;
  v103 = &v102[8];
  v104 = &v105;
LABEL_44:
  *v102 = 1124007936;
  memset(&v102[4], 0, 60);
  if (v104 != &v105)
  {
    j__free(v104);
  }

  v31 = sub_10026F620(v118, 4, -1, 1);
  v32 = sub_10026F620(v107, 4, -1, 1);
  if (v31 >= 1)
  {
    v33 = 0;
    v34 = 4;
    v88 = vdupq_n_s64(0x406FE00000000000uLL);
    do
    {
      if ((v118[1] & 0x40) != 0 || *v119 == 1)
      {
        v36 = *(*&v118[16] + v34);
        v35 = *(*&v118[16] + v34 + 4);
        v37 = (*&v118[16] + v34 - 4);
        v38 = *v37;
      }

      else
      {
        if (v119[1] == 1)
        {
          v40 = *&v118[16];
          v41 = (*&v118[16] + *v120 * v33);
          v42 = (*&v118[16] + *v120 * v33);
          if (v119[1] == 1)
          {
            v38 = *v41;
            v36 = v42[1];
            v35 = *(*&v118[16] + *v120 * v33 + 8);
LABEL_60:
            v37 = (v40 + *v120 * v33);
            goto LABEL_51;
          }
        }

        else
        {
          v40 = *&v118[16];
          v41 = (*&v118[16] + v34 + *v120 * (v33 / *&v118[12]) - 16 * v33 / *&v118[12] * *&v118[12] - 4);
          v42 = v41;
        }

        v38 = *v41;
        v36 = v42[1];
        v35 = *(v40 + v34 + *v120 * (v33 / *&v118[12]) - 16 * v33 / *&v118[12] * *&v118[12] + 4);
        if (v119[1] == 1)
        {
          goto LABEL_60;
        }

        v37 = (v40 + *v120 * (v33 / *&v118[12]) + 16 * (v33 % *&v118[12]));
      }

LABEL_51:
      v39 = v37[3];
      LODWORD(v90) = -2097086464;
      *(&v90 + 1) = v122;
      *&v91 = 0;
      LODWORD(v99) = rintf(v38);
      HIDWORD(v99) = rintf(v36);
      LODWORD(v98[0]) = rintf(v35);
      HIDWORD(v98[0]) = rintf(v39);
      *v102 = v88;
      *&v102[16] = v88;
      sub_1002FCC3C(&v90, &v99, v98, v102, 1u, 8, 0);
      ++v33;
      v34 += 16;
    }

    while (v31 != v33);
  }

  if (v32 >= 1)
  {
    v43 = 0;
    v44 = 4;
    v89 = vdupq_n_s64(0x406FE00000000000uLL);
    do
    {
      if ((v107[1] & 0x40) != 0 || *v108 == 1)
      {
        v46 = *(*&v107[16] + v44);
        v45 = *(*&v107[16] + v44 + 4);
        v47 = (*&v107[16] + v44 - 4);
        v48 = *v47;
      }

      else
      {
        if (v108[1] == 1)
        {
          v50 = *&v107[16];
          v51 = (*&v107[16] + *v109 * v43);
          v52 = (*&v107[16] + *v109 * v43);
          if (v108[1] == 1)
          {
            v48 = *v51;
            v46 = v52[1];
            v45 = *(*&v107[16] + *v109 * v43 + 8);
LABEL_75:
            v47 = (v50 + *v109 * v43);
            goto LABEL_66;
          }
        }

        else
        {
          v50 = *&v107[16];
          v51 = (*&v107[16] + v44 + *v109 * (v43 / *&v107[12]) - 16 * v43 / *&v107[12] * *&v107[12] - 4);
          v52 = v51;
        }

        v48 = *v51;
        v46 = v52[1];
        v45 = *(v50 + v44 + *v109 * (v43 / *&v107[12]) - 16 * v43 / *&v107[12] * *&v107[12] + 4);
        if (v108[1] == 1)
        {
          goto LABEL_75;
        }

        v47 = (v50 + *v109 * (v43 / *&v107[12]) + 16 * (v43 % *&v107[12]));
      }

LABEL_66:
      v49 = v47[3];
      LODWORD(v90) = -2097086464;
      *(&v90 + 1) = &v111;
      *&v91 = 0;
      LODWORD(v99) = rintf(v48);
      HIDWORD(v99) = rintf(v46);
      LODWORD(v98[0]) = rintf(v45);
      HIDWORD(v98[0]) = rintf(v49);
      *v102 = v89;
      *&v102[16] = v89;
      sub_1002FCC3C(&v90, &v99, v98, v102, 1u, 8, 0);
      ++v43;
      v44 += 16;
    }

    while (v32 != v43);
  }

  *v102 = 1124007936;
  memset(&v102[4], 0, 60);
  v103 = &v102[8];
  v104 = &v105;
  v105 = 0;
  v106 = 0;
  *&v91 = 0;
  LODWORD(v90) = -2130640896;
  *(&v90 + 1) = v122;
  v101 = 0;
  LODWORD(v99) = -2130640896;
  v100 = &v111;
  LODWORD(v98[0]) = 33619968;
  v98[1] = v102;
  v98[2] = 0;
  v53 = sub_100276DA4();
  sub_1001DAB24(&v90, &v99, v98, v53);
  LODWORD(v90) = 16842752;
  *(&v90 + 1) = v102;
  *&v91 = 0;
  v54 = sub_1002A0BBC(&v90);
  if (sub_1002769C0(a5))
  {
    if (sub_1002743B4(a5, -1) != 3)
    {
      v90 = 0uLL;
      qmemcpy(sub_1002A80E0(&v90, 22), "_image.channels() == 3", 22);
      sub_1002A8980(-215, &v90, "compareSegments", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 1211);
    }

    v55 = sub_1002750F0(a5, -1);
    v56 = *v55;
    v57 = *(v55 + 16);
    v90 = *v55;
    v91 = v57;
    v92 = *(v55 + 32);
    v58 = *(v55 + 56);
    v93 = *(v55 + 48);
    v94 = v58;
    v95 = &v90 + 8;
    v96 = v97;
    v97[0] = 0;
    v97[1] = 0;
    if (v58)
    {
      atomic_fetch_add((v58 + 20), 1u);
      if (*(v55 + 4) <= 2)
      {
LABEL_81:
        v59 = *(v55 + 72);
        v60 = v96;
        *v96 = *v59;
        v60[1] = v59[1];
        goto LABEL_84;
      }
    }

    else if (SDWORD1(v56) <= 2)
    {
      goto LABEL_81;
    }

    DWORD1(v90) = 0;
    sub_100269B58(&v90, v55);
LABEL_84:
    if ((BYTE1(v90) & 0x40) == 0 || (v122[1] & 0x40) == 0 || (v111.i8[1] & 0x40) == 0)
    {
      v99 = 0;
      v100 = 0;
      qmemcpy(sub_1002A80E0(&v99, 60), "img.isContinuous() && I1.isContinuous() && I2.isContinuous()", 60);
      sub_1002A8980(-215, &v99, "compareSegments", "/Library/Caches/com.apple.xbs/Sources/Measure/externals/OpenCV/modules/imgproc/src/lsd.cpp", 1213);
    }

    for (i = 0; ; ++i)
    {
      if (v123 >= 3)
      {
        v63 = (v129 + 4);
        v64 = v123 & 0x7FFFFFFE;
        v65 = 1;
        v66 = 1;
        do
        {
          v65 *= *(v63 - 1);
          v66 *= *v63;
          v63 += 2;
          v64 -= 2;
        }

        while (v64);
        v62 = v66 * v65;
        v67 = v123 - (v123 & 0x7FFFFFFE);
        if (v67)
        {
          v68 = (v129 + 8 * ((v123 >> 1) & 0x3FFFFFFF));
          do
          {
            v69 = *v68++;
            v62 *= v69;
            --v67;
          }

          while (v67);
        }
      }

      else
      {
        v62 = v125 * v124;
      }

      if (v62 <= i)
      {
        break;
      }

      if (*(v126 + i) | *(v112 + i))
      {
        v70 = *(v112 + i);
        v71 = 3 * i;
        if (*(v126 + i))
        {
          v72 = -1;
        }

        else
        {
          v72 = 0;
        }

        *(v91 + v71) = v72;
        *(v91 + v71 + 1) = 0;
        if (v70)
        {
          v73 = -1;
        }

        else
        {
          v73 = 0;
        }

        *(v91 + v71 + 2) = v73;
      }
    }

    if (v94 && atomic_fetch_add((v94 + 20), 0xFFFFFFFF) == 1)
    {
      sub_100269BC8(&v90);
    }

    v94 = 0;
    v91 = 0u;
    v92 = 0u;
    if (SDWORD1(v90) >= 1)
    {
      v74 = 0;
      v75 = v95;
      do
      {
        *&v75[4 * v74++] = 0;
      }

      while (v74 < SDWORD1(v90));
    }

    if (v96 != v97)
    {
      j__free(v96);
    }
  }

  if (*&v102[56] && atomic_fetch_add((*&v102[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v102);
  }

  *&v102[56] = 0;
  memset(&v102[16], 0, 32);
  if (*&v102[4] >= 1)
  {
    v76 = 0;
    v77 = v103;
    do
    {
      *&v77[4 * v76++] = 0;
    }

    while (v76 < *&v102[4]);
  }

  if (v104 != &v105)
  {
    j__free(v104);
  }

  if (*&v107[56] && atomic_fetch_add((*&v107[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v107);
  }

  *&v107[56] = 0;
  memset(&v107[16], 0, 32);
  if (*&v107[4] >= 1)
  {
    v78 = 0;
    v79 = v108;
    do
    {
      v79[v78++] = 0;
    }

    while (v78 < *&v107[4]);
  }

  if (v109 != v110)
  {
    j__free(v109);
  }

  if (*&v118[56] && atomic_fetch_add((*&v118[56] + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v118);
  }

  *&v118[56] = 0;
  memset(&v118[16], 0, 32);
  if (*&v118[4] >= 1)
  {
    v80 = 0;
    v81 = v119;
    do
    {
      v81[v80++] = 0;
    }

    while (v80 < *&v118[4]);
  }

  if (v120 != v121)
  {
    j__free(v120);
  }

  if (v114 && atomic_fetch_add((v114 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(&v111);
  }

  v114 = 0;
  v112 = 0u;
  v113 = 0u;
  if (v111.i32[1] >= 1)
  {
    v82 = 0;
    v83 = v115;
    do
    {
      *(v83 + 4 * v82++) = 0;
    }

    while (v82 < v111.i32[1]);
  }

  if (v116 != &v117)
  {
    j__free(v116);
  }

  if (v128 && atomic_fetch_add((v128 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(v122);
  }

  v128 = 0;
  v126 = 0u;
  v127 = 0u;
  if (v123 >= 1)
  {
    v84 = 0;
    v85 = v129;
    do
    {
      *(v85 + 4 * v84++) = 0;
    }

    while (v84 < v123);
  }

  if (v130 != &v131)
  {
    j__free(v130);
  }

  if (v133)
  {
    sub_1002ACC1C(v132);
  }

  return v54;
}

void sub_100334848(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20, uint64_t a21, uint64_t a22, uint64_t a23, uint64_t a24, uint64_t a25, uint64_t a26, uint64_t a27, uint64_t a28, char a29, uint64_t a30, uint64_t a31, uint64_t a32, uint64_t a33, uint64_t a34, uint64_t a35, uint64_t a36, uint64_t a37, uint64_t a38, uint64_t a39, uint64_t a40, char a41, uint64_t a42, uint64_t a43, uint64_t a44, uint64_t a45, uint64_t a46, uint64_t a47, uint64_t a48, uint64_t a49, uint64_t a50, uint64_t a51, uint64_t a52, char a53, uint64_t a54, uint64_t a55, uint64_t a56, uint64_t a57, uint64_t a58, uint64_t a59, uint64_t a60, uint64_t a61, uint64_t a62, uint64_t a63)
{
  sub_1002A8124(&a11);
  sub_100006D14(&a29);
  sub_100006D14(&a41);
  sub_100006D14(&a65);
  sub_10032F3A8(&a53);
  sub_10032F3A8(v65 - 208);
  sub_1001D8BF4(v65 - 112);
  _Unwind_Resume(a1);
}

void sub_1003349CC(uint64_t a1)
{
  sub_100334A04(a1);

  operator delete();
}

void *sub_100334A04(uint64_t a1)
{
  *a1 = off_10047A0C0;
  v2 = *(a1 + 576);
  if (v2)
  {
    *(a1 + 584) = v2;
    operator delete(v2);
  }

  v3 = *(a1 + 448);
  if (v3 && atomic_fetch_add((v3 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(a1 + 392);
  }

  *(a1 + 448) = 0;
  *(a1 + 408) = 0u;
  *(a1 + 424) = 0u;
  if (*(a1 + 396) >= 1)
  {
    v4 = 0;
    v5 = *(a1 + 456);
    do
    {
      *(v5 + 4 * v4++) = 0;
    }

    while (v4 < *(a1 + 396));
  }

  v6 = *(a1 + 464);
  if (v6 != (a1 + 472))
  {
    j__free(v6);
  }

  v7 = *(a1 + 352);
  if (v7 && atomic_fetch_add((v7 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(a1 + 296);
  }

  *(a1 + 352) = 0;
  *(a1 + 312) = 0u;
  *(a1 + 328) = 0u;
  if (*(a1 + 300) >= 1)
  {
    v8 = 0;
    v9 = *(a1 + 360);
    do
    {
      *(v9 + 4 * v8++) = 0;
    }

    while (v8 < *(a1 + 300));
  }

  v10 = *(a1 + 368);
  if (v10 != (a1 + 376))
  {
    j__free(v10);
  }

  v11 = *(a1 + 256);
  if (v11 && atomic_fetch_add((v11 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(a1 + 200);
  }

  *(a1 + 256) = 0;
  *(a1 + 216) = 0u;
  *(a1 + 232) = 0u;
  if (*(a1 + 204) >= 1)
  {
    v12 = 0;
    v13 = *(a1 + 264);
    do
    {
      *(v13 + 4 * v12++) = 0;
    }

    while (v12 < *(a1 + 204));
  }

  v14 = *(a1 + 272);
  if (v14 != (a1 + 280))
  {
    j__free(v14);
  }

  v15 = *(a1 + 160);
  if (v15 && atomic_fetch_add((v15 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(a1 + 104);
  }

  *(a1 + 160) = 0;
  *(a1 + 120) = 0u;
  *(a1 + 136) = 0u;
  if (*(a1 + 108) >= 1)
  {
    v16 = 0;
    v17 = *(a1 + 168);
    do
    {
      *(v17 + 4 * v16++) = 0;
    }

    while (v16 < *(a1 + 108));
  }

  v18 = *(a1 + 176);
  if (v18 != (a1 + 184))
  {
    j__free(v18);
  }

  v19 = *(a1 + 64);
  if (v19 && atomic_fetch_add((v19 + 20), 0xFFFFFFFF) == 1)
  {
    sub_100269BC8(a1 + 8);
  }

  *(a1 + 64) = 0;
  *(a1 + 24) = 0u;
  *(a1 + 40) = 0u;
  if (*(a1 + 12) >= 1)
  {
    v20 = 0;
    v21 = *(a1 + 72);
    do
    {
      *(v21 + 4 * v20++) = 0;
    }

    while (v20 < *(a1 + 12));
  }

  v22 = *(a1 + 80);
  if (v22 != (a1 + 88))
  {
    j__free(v22);
  }

  return sub_1001D8C28(a1);
}

uint64_t sub_100334CC0(void *a1)
{
  v1 = a1[2];
  if (v1)
  {
    v2 = a1;
    (*(*v1 + 8))(a1[2]);
    a1 = v2;
  }

  v3 = *(*a1 + 8);

  return v3();
}

void sub_100334D44(uint64_t a1, unint64_t a2)
{
  v4 = *(a1 + 8);
  v3 = *(a1 + 16);
  if (a2 <= (v3 - v4) >> 4)
  {
    if (a2)
    {
      v10 = 16 * a2;
      bzero(*(a1 + 8), 16 * a2);
      v4 = (v4 + v10);
    }

    *(a1 + 8) = v4;
  }

  else
  {
    v5 = *a1;
    v6 = (v4 - *a1) >> 4;
    v7 = v6 + a2;
    if ((v6 + a2) >> 60)
    {
      sub_10000918C();
    }

    v8 = v3 - v5;
    if (v8 >> 3 > v7)
    {
      v7 = v8 >> 3;
    }

    if (v8 >= 0x7FFFFFFFFFFFFFF0)
    {
      v9 = 0xFFFFFFFFFFFFFFFLL;
    }

    else
    {
      v9 = v7;
    }

    if (v9)
    {
      if (!(v9 >> 60))
      {
        operator new();
      }

      sub_10000927C();
    }

    v11 = (v4 - *a1) >> 4;
    v12 = (16 * v6);
    v13 = 16 * a2;
    bzero(v12, 16 * a2);
    if (v5 != v4)
    {
      v14 = &v12[-16 * v11];
      do
      {
        *v14 = *v5;
        *(v14 + 1) = v5[1];
        v5 += 2;
        v14 += 16;
      }

      while (v5 != v4);
      v5 = *a1;
    }

    *a1 = &v12[-16 * v11];
    *(a1 + 8) = &v12[v13];
    *(a1 + 16) = 0;
    if (v5)
    {

      operator delete(v5);
    }
  }
}

void sub_100334EB8(uint64_t a1, uint64_t *a2, uint64_t (**a3)(uint64_t *, int *), uint64_t a4, char a5)
{
LABEL_1:
  v9 = a1;
LABEL_2:
  v10 = 1 - a4;
  while (1)
  {
    a1 = v9;
    v11 = v10;
    v12 = a2 - v9;
    v13 = 0xAAAAAAAAAAAAAAABLL * (v12 >> 2);
    if (v13 > 2)
    {
      switch(v13)
      {
        case 3uLL:

          sub_100335424(a1, (a1 + 12), (a2 - 12), a3);
          return;
        case 4uLL:
          sub_100335424(a1, (a1 + 12), (a1 + 24), a3);
          if ((*a3)((a2 - 12), (a1 + 24)))
          {
            v29 = *(a1 + 32);
            v30 = *(a2 - 12);
            *(a1 + 32) = *(a2 - 4);
            v31 = *(a1 + 24);
            *(a1 + 24) = v30;
            *(a2 - 12) = v31;
            *(a2 - 4) = v29;
            if ((*a3)((a1 + 24), (a1 + 12)))
            {
              v32 = *(a1 + 20);
              *(a1 + 20) = *(a1 + 32);
              v33 = *(a1 + 12);
              *(a1 + 12) = *(a1 + 24);
              *(a1 + 24) = v33;
              *(a1 + 32) = v32;
              if ((*a3)((a1 + 12), a1))
              {
                v34 = *(a1 + 8);
                *(a1 + 8) = *(a1 + 20);
                v35 = *a1;
                *a1 = *(a1 + 12);
                *(a1 + 12) = v35;
                *(a1 + 20) = v34;
              }
            }
          }

          return;
        case 5uLL:

          sub_100335558(a1, a1 + 12, a1 + 24, a1 + 36, a2 - 12, a3);
          return;
      }
    }

    else
    {
      if (v13 < 2)
      {
        return;
      }

      if (v13 == 2)
      {
        if ((*a3)((a2 - 12), a1))
        {
          v26 = *(a1 + 8);
          v27 = *(a2 - 12);
          *(a1 + 8) = *(a2 - 4);
          v28 = *a1;
          *a1 = v27;
          *(a2 - 12) = v28;
          *(a2 - 4) = v26;
        }

        return;
      }
    }

    if (v12 <= 287)
    {
      break;
    }

    if (v10 == 1)
    {
      if (a1 != a2)
      {
        v43 = (v13 - 2) >> 1;
        v44 = v43 + 1;
        v45 = a1 + 12 * v43;
        do
        {
          sub_100335C40(a1, a3, 0xAAAAAAAAAAAAAAABLL * (v12 >> 2), v45);
          v45 -= 12;
          --v44;
        }

        while (v44);
        v46 = 0xAAAAAAAAAAAAAAABLL * (v12 >> 2);
        do
        {
          sub_100335DB4(a1, a2, a3, v46);
          a2 = (a2 - 12);
        }

        while (v46-- > 2);
      }

      return;
    }

    v14 = v13 >> 1;
    v15 = a1 + 12 * (v13 >> 1);
    if (v12 < 0x601)
    {
      sub_100335424(v15, a1, (a2 - 12), a3);
      if (a5)
      {
        goto LABEL_17;
      }
    }

    else
    {
      sub_100335424(a1, v15, (a2 - 12), a3);
      v16 = 12 * v14;
      v17 = (12 * v14 + a1 - 12);
      sub_100335424((a1 + 12), v17, a2 - 3, a3);
      sub_100335424((a1 + 24), (a1 + 12 + v16), (a2 - 36), a3);
      sub_100335424(v17, v15, (a1 + 12 + v16), a3);
      v18 = *(a1 + 8);
      *(a1 + 8) = *(v15 + 8);
      v19 = *a1;
      *a1 = *v15;
      *v15 = v19;
      *(v15 + 8) = v18;
      if (a5)
      {
        goto LABEL_17;
      }
    }

    if (((*a3)((a1 - 12), a1) & 1) == 0)
    {
      v9 = sub_100335710(a1, a2, a3);
      goto LABEL_22;
    }

LABEL_17:
    v21.n128_f64[0] = sub_100335860(a1, a2, a3);
    v22 = v20;
    if ((v23 & 1) == 0)
    {
      goto LABEL_20;
    }

    v24 = sub_1003359B0(a1, v20, a3);
    v9 = (v22 + 12);
    if (sub_1003359B0(v22 + 12, a2, a3))
    {
      a4 = -v11;
      a2 = v22;
      if (v24)
      {
        return;
      }

      goto LABEL_1;
    }

    v10 = v11 + 1;
    if (!v24)
    {
LABEL_20:
      sub_100334EB8(a1, v22, a3, -v11, a5 & 1, v21);
      v9 = (v22 + 12);
LABEL_22:
      a5 = 0;
      a4 = -v11;
      goto LABEL_2;
    }
  }

  if (a5)
  {
    if (a1 != a2)
    {
      v36 = (a1 + 12);
      if ((a1 + 12) != a2)
      {
        v37 = 0;
        v38 = a1;
        do
        {
          v40 = v36;
          if ((*a3)(v36, v38))
          {
            v53 = *v40;
            v54 = *(v38 + 20);
            v41 = v37;
            do
            {
              v42 = a1 + v41;
              *(v42 + 12) = *(a1 + v41);
              *(v42 + 20) = *(a1 + v41 + 8);
              if (!v41)
              {
                v39 = a1;
                goto LABEL_42;
              }

              v41 -= 12;
            }

            while (((*a3)(&v53, (v41 + a1)) & 1) != 0);
            v39 = a1 + v41 + 12;
LABEL_42:
            *v39 = v53;
            *(v39 + 8) = v54;
          }

          v36 = (v40 + 12);
          v37 += 12;
          v38 = v40;
        }

        while ((v40 + 12) != a2);
      }
    }
  }

  else if (a1 != a2)
  {
    v48 = (a1 + 12);
    if ((a1 + 12) != a2)
    {
      v49 = a1 - 12;
      do
      {
        v50 = v48;
        if ((*a3)(v48, a1))
        {
          v53 = *v50;
          v54 = *(a1 + 20);
          v51 = v49;
          do
          {
            *(v51 + 24) = *(v51 + 12);
            *(v51 + 32) = *(v51 + 20);
            v52 = (*a3)(&v53, v51);
            v51 -= 12;
          }

          while ((v52 & 1) != 0);
          *(v51 + 24) = v53;
          *(v51 + 32) = v54;
        }

        v48 = (v50 + 12);
        v49 += 12;
        a1 = v50;
      }

      while ((v50 + 12) != a2);
    }
  }
}

uint64_t sub_100335424(int *a1, uint64_t *a2, uint64_t *a3, uint64_t (**a4)(uint64_t *, int *))
{
  v8 = (*a4)(a2, a1);
  result = (*a4)(a3, a2);
  if (v8)
  {
    v11 = *a1;
    v10 = a1[1];
    v12 = *(a1 + 8);
    if (result)
    {
      *a1 = *a3;
      *(a1 + 8) = *(a3 + 8);
      *a3 = v11;
      *(a3 + 1) = v10;
LABEL_9:
      *(a3 + 8) = v12;
      return 1;
    }

    *a1 = *a2;
    *(a1 + 8) = *(a2 + 8);
    *a2 = v11;
    *(a2 + 1) = v10;
    *(a2 + 8) = v12;
    if ((*a4)(a3, a2))
    {
      v12 = *(a2 + 8);
      v19 = *a3;
      *(a2 + 8) = *(a3 + 8);
      v20 = *a2;
      *a2 = v19;
      *a3 = v20;
      goto LABEL_9;
    }
  }

  else
  {
    if (!result)
    {
      return result;
    }

    v13 = *(a2 + 8);
    v14 = *a3;
    *(a2 + 8) = *(a3 + 8);
    v15 = *a2;
    *a2 = v14;
    *a3 = v15;
    *(a3 + 8) = v13;
    if ((*a4)(a2, a1))
    {
      v16 = *(a1 + 8);
      v17 = *a2;
      *(a1 + 8) = *(a2 + 8);
      v18 = *a1;
      *a1 = v17;
      *a2 = v18;
      *(a2 + 8) = v16;
    }
  }

  return 1;
}

double sub_100335558(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t (**a6)(uint64_t *, int *))
{
  sub_100335424(a1, a2, a3, a6);
  if ((*a6)(a4, a3))
  {
    v12 = *(a3 + 8);
    v13 = *a4;
    *(a3 + 8) = *(a4 + 8);
    v14 = *a3;
    *a3 = v13;
    *a4 = v14;
    *(a4 + 8) = v12;
    if ((*a6)(a3, a2))
    {
      v15 = *(a2 + 8);
      v16 = *a3;
      *(a2 + 8) = *(a3 + 8);
      v17 = *a2;
      *a2 = v16;
      *a3 = v17;
      *(a3 + 8) = v15;
      if ((*a6)(a2, a1))
      {
        v18 = *(a1 + 8);
        v19 = *a2;
        *(a1 + 8) = *(a2 + 8);
        v20 = *a1;
        *a1 = v19;
        *a2 = v20;
        *(a2 + 8) = v18;
      }
    }
  }

  if ((*a6)(a5, a4))
  {
    v22 = *(a4 + 8);
    v23 = *a5;
    *(a4 + 8) = *(a5 + 8);
    v24 = *a4;
    *a4 = v23;
    *a5 = v24;
    *(a5 + 8) = v22;
    if ((*a6)(a4, a3))
    {
      v25 = *(a3 + 8);
      v26 = *a4;
      *(a3 + 8) = *(a4 + 8);
      v27 = *a3;
      *a3 = v26;
      *a4 = v27;
      *(a4 + 8) = v25;
      if ((*a6)(a3, a2))
      {
        v28 = *(a2 + 8);
        v29 = *a3;
        *(a2 + 8) = *(a3 + 8);
        v30 = *a2;
        *a2 = v29;
        *a3 = v30;
        *(a3 + 8) = v28;
        if ((*a6)(a2, a1))
        {
          v31 = *(a1 + 8);
          result = *a2;
          *(a1 + 8) = *(a2 + 8);
          v32 = *a1;
          *a1 = result;
          *a2 = v32;
          *(a2 + 8) = v31;
        }
      }
    }
  }

  return result;
}

uint64_t *sub_100335710(uint64_t *a1, uint64_t *a2, uint64_t (**a3)(uint64_t *, uint64_t *))
{
  v4 = a2;
  v13 = *a1;
  v14 = *(a1 + 8);
  if ((*a3)(&v13, (a2 - 12)))
  {
    v6 = a1;
    do
    {
      v6 = (v6 + 12);
    }

    while (((*a3)(&v13, v6) & 1) == 0);
  }

  else
  {
    v7 = (a1 + 12);
    do
    {
      v6 = v7;
      if (v7 >= v4)
      {
        break;
      }

      v8 = (*a3)(&v13, v7);
      v7 = (v6 + 12);
    }

    while (!v8);
  }

  if (v6 < v4)
  {
    do
    {
      v4 = (v4 - 12);
    }

    while (((*a3)(&v13, v4) & 1) != 0);
  }

  while (v6 < v4)
  {
    v9 = *(v6 + 8);
    v10 = *v4;
    *(v6 + 8) = *(v4 + 8);
    v11 = *v6;
    *v6 = v10;
    *v4 = v11;
    *(v4 + 8) = v9;
    do
    {
      v6 = (v6 + 12);
    }

    while (!(*a3)(&v13, v6));
    do
    {
      v4 = (v4 - 12);
    }

    while (((*a3)(&v13, v4) & 1) != 0);
  }

  if ((v6 - 12) != a1)
  {
    *a1 = *(v6 - 12);
    *(a1 + 8) = *(v6 - 4);
  }

  *(v6 - 12) = v13;
  *(v6 - 4) = v14;
  return v6;
}

double sub_100335860(uint64_t a1, uint64_t *a2, uint64_t (**a3)(uint64_t, double *))
{
  v6 = 0;
  v14 = *a1;
  v15 = *(a1 + 8);
  do
  {
    v6 += 12;
  }

  while (((*a3)(v6 + a1, &v14) & 1) != 0);
  v7 = a1 + v6;
  if (v6 == 12)
  {
    do
    {
      if (v7 >= a2)
      {
        break;
      }

      a2 = (a2 - 12);
    }

    while (((*a3)(a2, &v14) & 1) == 0);
  }

  else
  {
    do
    {
      a2 = (a2 - 12);
    }

    while (!(*a3)(a2, &v14));
  }

  v8 = (a1 + v6);
  if (v7 < a2)
  {
    v9 = a2;
    do
    {
      v10 = *(v8 + 8);
      v11 = *v9;
      *(v8 + 8) = *(v9 + 8);
      v12 = *v8;
      *v8 = v11;
      *v9 = v12;
      *(v9 + 8) = v10;
      do
      {
        v8 = (v8 + 12);
      }

      while (((*a3)(v8, &v14) & 1) != 0);
      do
      {
        v9 = (v9 - 12);
      }

      while (!(*a3)(v9, &v14));
    }

    while (v8 < v9);
  }

  if ((v8 - 12) != a1)
  {
    *a1 = *(v8 - 12);
    *(a1 + 8) = *(v8 - 4);
  }

  result = v14;
  *(v8 - 12) = v14;
  *(v8 - 4) = v15;
  return result;
}

BOOL sub_1003359B0(uint64_t a1, uint64_t a2, uint64_t (**a3)(uint64_t *, int *))
{
  v6 = 0xAAAAAAAAAAAAAAABLL * ((a2 - a1) >> 2);
  if (v6 > 2)
  {
    switch(v6)
    {
      case 3:
        sub_100335424(a1, (a1 + 12), (a2 - 12), a3);
        break;
      case 4:
        sub_100335424(a1, (a1 + 12), (a1 + 24), a3);
        if ((*a3)((a2 - 12), (a1 + 24)))
        {
          v17 = *(a1 + 32);
          v18 = *(a2 - 12);
          *(a1 + 32) = *(a2 - 4);
          v19 = *(a1 + 24);
          *(a1 + 24) = v18;
          *(a2 - 12) = v19;
          *(a2 - 4) = v17;
          if ((*a3)((a1 + 24), (a1 + 12)))
          {
            v20 = *(a1 + 20);
            *(a1 + 20) = *(a1 + 32);
            v21 = *(a1 + 12);
            *(a1 + 12) = *(a1 + 24);
            *(a1 + 24) = v21;
            *(a1 + 32) = v20;
            if ((*a3)((a1 + 12), a1))
            {
              v22 = *(a1 + 8);
              *(a1 + 8) = *(a1 + 20);
              v23 = *a1;
              *a1 = *(a1 + 12);
              *(a1 + 12) = v23;
              *(a1 + 20) = v22;
            }
          }
        }

        return 1;
      case 5:
        sub_100335558(a1, a1 + 12, a1 + 24, a1 + 36, a2 - 12, a3);
        break;
      default:
        goto LABEL_11;
    }

    return 1;
  }

  if (v6 < 2)
  {
    return 1;
  }

  if (v6 == 2)
  {
    if ((*a3)((a2 - 12), a1))
    {
      v7 = *(a1 + 8);
      v8 = *(a2 - 12);
      *(a1 + 8) = *(a2 - 4);
      v9 = *a1;
      *a1 = v8;
      *(a2 - 12) = v9;
      *(a2 - 4) = v7;
    }

    return 1;
  }

LABEL_11:
  sub_100335424(a1, (a1 + 12), (a1 + 24), a3);
  v10 = a1 + 36;
  if (a1 + 36 == a2)
  {
    return 1;
  }

  v11 = 0;
  v12 = 0;
  v13 = (a1 + 24);
  while (1)
  {
    if ((*a3)(v10, v13))
    {
      v25 = *v10;
      v26 = *(v10 + 8);
      v15 = v11;
      do
      {
        v16 = a1 + v15;
        *(v16 + 36) = *(a1 + v15 + 24);
        *(v16 + 44) = *(a1 + v15 + 32);
        if (v15 == -24)
        {
          v14 = a1;
          goto LABEL_14;
        }

        v15 -= 12;
      }

      while (((*a3)(&v25, (v16 + 12)) & 1) != 0);
      v14 = a1 + v15 + 36;
LABEL_14:
      *v14 = v25;
      *(v14 + 8) = v26;
      if (++v12 == 8)
      {
        return v10 + 12 == a2;
      }
    }

    v13 = v10;
    v11 += 12;
    v10 += 12;
    if (v10 == a2)
    {
      return 1;
    }
  }
}